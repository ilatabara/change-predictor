id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fnova~master~I5a25786413ede23c72f8ccee1ad12497da7f751c,openstack/nova,master,I5a25786413ede23c72f8ccee1ad12497da7f751c,Fix misleading documentation for live_migration_inbound_addr,MERGED,2020-07-16 14:54:00.000000000,2021-02-02 00:51:37.000000000,2021-02-02 00:49:21.000000000,"[{'_account_id': 782}, {'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25023}, {'_account_id': 26515}, {'_account_id': 28182}, {'_account_id': 29963}, {'_account_id': 31542}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-16 14:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6e9572ef8c6aa85213482c9930333fee049255c', 'message': ""Fix misleading documentation for live_migration_inbound_addr\n\nTesting on our own deployment which has 'live_migration_tunnelled'\nenabled has indicated that 'live_migration_inbound_addr' still\nworks in this case, despite the documentation suggesting otherwise.\n\nLooking at the code I am lead to believe that\n'live_migration_inbound_addr' is set on the migration target, and\nis then used by the migration source to replace the '%s' in the\nmigration URI. Whilst the 'live_migration_uri' is ignored if both\n'live_migration_tunnelled' is enabled and\n'live_migration_inbound_addr' is set, the docs suggest further\nimpact on the inbound_addr which doesn't appear to be true.\n\nThis patch attempts to clarify the use of the live migration\nparameters.\n\nChange-Id: I5a25786413ede23c72f8ccee1ad12497da7f751c\n""}, {'number': 2, 'created': '2020-07-30 13:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/823efe44d091e22fab9fc1508c973bfc6f93dd64', 'message': ""Fix misleading documentation for live_migration_inbound_addr\n\nTesting on our own deployment which has 'live_migration_tunnelled'\nenabled has indicated that 'live_migration_inbound_addr' still\nworks in this case, despite the documentation suggesting otherwise.\n\nLooking at the code I am lead to believe that\n'live_migration_inbound_addr' is set on the migration target, and\nis then used by the migration source to replace the '%s' in the\nmigration URI. Whilst the 'live_migration_uri' is ignored if both\n'live_migration_tunnelled' is enabled and\n'live_migration_inbound_addr' is set, the docs suggest further\nimpact on the inbound_addr which doesn't appear to be true.\n\nThis patch attempts to clarify the use of the live migration\nparameters.\n\nChange-Id: I5a25786413ede23c72f8ccee1ad12497da7f751c\n""}, {'number': 3, 'created': '2020-07-31 14:35:24.000000000', 'files': ['nova/conf/libvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b6e9023751de396888c8547ae4c8af0f2c6e752d', 'message': ""Fix misleading documentation for live_migration_inbound_addr\n\nTesting on our own deployment which has 'live_migration_tunnelled'\nenabled has indicated that 'live_migration_inbound_addr' still\nworks in this case, despite the documentation suggesting otherwise.\n\nLooking at the code I am lead to believe that\n'live_migration_inbound_addr' is set on the migration target, and\nis then used by the migration source to replace the '%s' in the\nmigration URI. Whilst the 'live_migration_uri' is ignored if both\n'live_migration_tunnelled' is enabled and\n'live_migration_inbound_addr' is set, the docs suggest further\nimpact on the inbound_addr which doesn't appear to be true.\n\nThis patch attempts to clarify the use of the live migration\nparameters.\n\nChange-Id: I5a25786413ede23c72f8ccee1ad12497da7f751c\n""}]",6,741473,b6e9023751de396888c8547ae4c8af0f2c6e752d,91,18,3,31542,,,0,"Fix misleading documentation for live_migration_inbound_addr

Testing on our own deployment which has 'live_migration_tunnelled'
enabled has indicated that 'live_migration_inbound_addr' still
works in this case, despite the documentation suggesting otherwise.

Looking at the code I am lead to believe that
'live_migration_inbound_addr' is set on the migration target, and
is then used by the migration source to replace the '%s' in the
migration URI. Whilst the 'live_migration_uri' is ignored if both
'live_migration_tunnelled' is enabled and
'live_migration_inbound_addr' is set, the docs suggest further
impact on the inbound_addr which doesn't appear to be true.

This patch attempts to clarify the use of the live migration
parameters.

Change-Id: I5a25786413ede23c72f8ccee1ad12497da7f751c
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/741473/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/libvirt.py'],1,a6e9572ef8c6aa85213482c9930333fee049255c,live-migration-docs,"URI scheme for live migration used by the source of live migration traffic.This option is set on the target of the live migration traffic, and is then used by the source of the traffic when constructing the migration URI.Live migration target URI used by the source of live migration traffic.hostname, or `live_migration_inbound_addr` if set.",URI scheme used for live migration.Target used for live migration traffic. Related options: * ``live_migration_tunnelled``: The live_migration_inbound_addr value is ignored if tunneling is enabled.Live migration target URI to use.hostname. Related options: * ``live_migration_inbound_addr``: The live_migration_inbound_addr value is ignored if tunneling is enabled.,5,14
openstack%2Fopenstack-helm~master~I421672b5b4f8dd707963504782348926090512eb,openstack/openstack-helm,master,I421672b5b4f8dd707963504782348926090512eb,bug for keystone,ABANDONED,2021-01-27 09:50:35.000000000,2021-02-02 00:46:39.000000000,,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-01-27 09:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/37cfe5aec4de91200b2ec91bfc978455687d76f5', 'message': 'bug for keystone\n\nif you use helm3 to deploy,Spelling mistakes can cause problems\n\nChange-Id: I421672b5b4f8dd707963504782348926090512eb\n'}, {'number': 2, 'created': '2021-01-29 06:34:23.000000000', 'files': ['keystone/templates/deployment-api.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/690167d6f87fe21d1573de7563abed2753b6cafa', 'message': 'bug for keystone\n\nif you use helm3 to deploy,Spelling mistakes can cause problems\n\nChange-Id: I421672b5b4f8dd707963504782348926090512eb\n'}]",0,772642,690167d6f87fe21d1573de7563abed2753b6cafa,10,7,2,30449,,,0,"bug for keystone

if you use helm3 to deploy,Spelling mistakes can cause problems

Change-Id: I421672b5b4f8dd707963504782348926090512eb
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/42/772642/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/templates/deployment-api.yaml'],1,37cfe5aec4de91200b2ec91bfc978455687d76f5,, subPath: access_rules.json, subpath: access_rules.json,1,1
openstack%2Frequirements~stable%2Ftrain~Ie9b4e3ea4b203bc9665673c9d7b778c33fd43dc9,openstack/requirements,stable/train,Ie9b4e3ea4b203bc9665673c9d7b778c33fd43dc9,update constraint for sushy to new release 2.0.4,MERGED,2021-02-01 15:37:25.000000000,2021-02-02 00:18:12.000000000,2021-02-02 00:18:12.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 15:37:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/be83753a7983a32924a31eb7582aefd25d1e51f6', 'message': 'update constraint for sushy to new release 2.0.4\n\nmeta: version: 2.0.4\nmeta: diff-start: -\nmeta: series: train\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Elod Illes <elod.illes@est.tech>\nmeta: release:Commit: Elod Illes <elod.illes@est.tech>\nmeta: release:Change-Id: I670a99be2957cedf50a64e8cf79e89eede5c813c\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ie9b4e3ea4b203bc9665673c9d7b778c33fd43dc9\n'}]",0,773437,be83753a7983a32924a31eb7582aefd25d1e51f6,6,2,1,11131,,,0,"update constraint for sushy to new release 2.0.4

meta: version: 2.0.4
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Elod Illes <elod.illes@est.tech>
meta: release:Commit: Elod Illes <elod.illes@est.tech>
meta: release:Change-Id: I670a99be2957cedf50a64e8cf79e89eede5c813c
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ie9b4e3ea4b203bc9665673c9d7b778c33fd43dc9
",git fetch https://review.opendev.org/openstack/requirements refs/changes/37/773437/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,be83753a7983a32924a31eb7582aefd25d1e51f6,new-release,sushy===2.0.4,sushy===2.0.3,1,1
openstack%2Fcinder~master~I3f08f4c450bbebe3ec26a7a0ccd18e4df62ee5e0,openstack/cinder,master,I3f08f4c450bbebe3ec26a7a0ccd18e4df62ee5e0,Imported Translations from Zanata,MERGED,2021-01-30 06:12:09.000000000,2021-02-01 22:58:52.000000000,2021-01-30 14:15:25.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-30 06:12:09.000000000', 'files': ['cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/677ee75d5dd5cc4374c0dd10f7c25ba128b91003', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I3f08f4c450bbebe3ec26a7a0ccd18e4df62ee5e0\n'}]",0,773223,677ee75d5dd5cc4374c0dd10f7c25ba128b91003,26,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3f08f4c450bbebe3ec26a7a0ccd18e4df62ee5e0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/773223/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po']",11,677ee75d5dd5cc4374c0dd10f7c25ba128b91003,zanata/translations,"""POT-Creation-Date: 2021-01-29 17:54+0000\n""","""POT-Creation-Date: 2020-11-14 22:35+0000\n""msgid ""Detected more than one volume with name %(vol_name)s"" msgstr ""Se ha detectado más de un volumen con el nombre %(vol_name)s"" #, python-format",56,55
openstack%2Fneutron~master~I1129132967895cd59b0576db82a2ff659c778493,openstack/neutron,master,I1129132967895cd59b0576db82a2ff659c778493,Temporary make rally job non-voting,MERGED,2021-02-01 08:12:56.000000000,2021-02-01 22:56:13.000000000,2021-02-01 12:15:49.000000000,"[{'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 08:12:56.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9651c635b7ab412074b9366633a8bd20589ef91e', 'message': 'Temporary make rally job non-voting\n\nWe need to fix bug [1] and then make this job voting again.\nBut for now lets unblock the gate by making it non-voting\ntemporary.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1913718\n\nChange-Id: I1129132967895cd59b0576db82a2ff659c778493\nRelated-Bug: #1913718\n'}]",0,773297,9651c635b7ab412074b9366633a8bd20589ef91e,11,3,1,11975,,,0,"Temporary make rally job non-voting

We need to fix bug [1] and then make this job voting again.
But for now lets unblock the gate by making it non-voting
temporary.

[1] https://bugs.launchpad.net/neutron/+bug/1913718

Change-Id: I1129132967895cd59b0576db82a2ff659c778493
Related-Bug: #1913718
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/773297/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,9651c635b7ab412074b9366633a8bd20589ef91e,bug/1913718, # TODO(slaweq) make this job to be voting again when bug # https://bugs.launchpad.net/neutron/+bug/1913718 will be fixed voting: false,,3,0
openstack%2Fblazar~master~I9ca5459a6968d93dee1bf24b3e0012a4cc7020b5,openstack/blazar,master,I9ca5459a6968d93dee1bf24b3e0012a4cc7020b5,[goal] Deprecate the JSON formatted policy file,MERGED,2020-12-13 00:12:14.000000000,2021-02-01 22:53:56.000000000,2021-02-01 22:52:02.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-13 00:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/100f18b8052583fa9cba935306a99d1a1c4993f1', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I9ca5459a6968d93dee1bf24b3e0012a4cc7020b5\n""}, {'number': 2, 'created': '2020-12-13 01:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/35bb9de688ec91a1b68a7fea826cdd028c0fe2c2', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I9ca5459a6968d93dee1bf24b3e0012a4cc7020b5\n""}, {'number': 3, 'created': '2020-12-14 23:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/0a1b064aac1533d1b632a055ee729fcdca1999e6', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I9ca5459a6968d93dee1bf24b3e0012a4cc7020b5\n""}, {'number': 4, 'created': '2021-01-12 09:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/e81dd05ffea02d105bd06187427636edc2fd794b', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file format from JSON\nto YAML [1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file' config option\n   from 'policy.json' to 'policy.yaml' with upgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side via\n   warning in documentation and release notes.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I9ca5459a6968d93dee1bf24b3e0012a4cc7020b5\n""}, {'number': 5, 'created': '2021-01-12 10:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/1f486c27f22e912ae76e7d801666b6d0e5227f47', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file format from JSON\nto YAML [1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file' config option\n   from 'policy.json' to 'policy.yaml' with upgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side via\n   warning in documentation and release notes.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I9ca5459a6968d93dee1bf24b3e0012a4cc7020b5\n""}, {'number': 6, 'created': '2021-01-12 12:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/c493bcbc073fc528adea360348b32b723efa3188', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file format from JSON\nto YAML [1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file' config option\n   from 'policy.json' to 'policy.yaml' with upgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side via\n   warning in documentation and release notes.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I9ca5459a6968d93dee1bf24b3e0012a4cc7020b5\n""}, {'number': 7, 'created': '2021-01-12 13:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/ae1c6c6de96d960f96b358f6be722be0e9edcfd7', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file format from JSON\nto YAML [1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file' config option\n   from 'policy.json' to 'policy.yaml' with upgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side via\n   warning in documentation and release notes.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I9ca5459a6968d93dee1bf24b3e0012a4cc7020b5\n""}, {'number': 8, 'created': '2021-01-12 13:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/7a9360f319a8a00982de1fc35abc2ee696832078', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file format from JSON\nto YAML [1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file' config option\n   from 'policy.json' to 'policy.yaml' with upgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side via\n   warning in documentation and release notes.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I9ca5459a6968d93dee1bf24b3e0012a4cc7020b5\n""}, {'number': 9, 'created': '2021-01-14 23:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/ea800ee68dd8191bbfe717ec1757041d5ce38e54', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file format from JSON\nto YAML [1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file' config option\n   from 'policy.json' to 'policy.yaml' with upgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side via\n   warning in documentation and release notes.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I9ca5459a6968d93dee1bf24b3e0012a4cc7020b5\n""}, {'number': 10, 'created': '2021-01-28 15:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/cb75185f820c83fade66ddbd21d7aeec725e104f', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file format from JSON\nto YAML [1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file' config option\n   from 'policy.json' to 'policy.yaml' with upgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side via\n   warning in documentation and release notes.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I9ca5459a6968d93dee1bf24b3e0012a4cc7020b5\n""}, {'number': 11, 'created': '2021-01-28 15:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/a47de2df742b77ab98167113105f2fcb849b9084', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file format from JSON\nto YAML [1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file' config option\n   from 'policy.json' to 'policy.yaml' with upgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side via\n   warning in documentation and release notes.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I9ca5459a6968d93dee1bf24b3e0012a4cc7020b5\n""}, {'number': 12, 'created': '2021-01-28 15:37:49.000000000', 'files': ['requirements.txt', 'doc/source/configuration/blazar-policy.rst', 'blazar/cmd/status.py', 'doc/source/configuration/samples/blazar-policy.rst', 'lower-constraints.txt', 'blazar/policy.py', 'blazar/config.py', 'setup.cfg', 'releasenotes/notes/deprecate-json-formatted-policy-file-5ceba2a580b69101.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/3f1c1ed3125445387309e59cfe243c824fbe7853', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file format from JSON\nto YAML [1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file' config option\n   from 'policy.json' to 'policy.yaml' with upgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side via\n   warning in documentation and release notes.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I9ca5459a6968d93dee1bf24b3e0012a4cc7020b5\n""}]",3,766841,3f1c1ed3125445387309e59cfe243c824fbe7853,32,2,12,8556,,,0,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file format from JSON
to YAML [1], we need to do two things:

1. Change the default value of '[oslo_policy] policy_file' config option
   from 'policy.json' to 'policy.yaml' with upgrade checks.

2. Deprecate the JSON formatted policy file on the project side via
   warning in documentation and release notes.

[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: I9ca5459a6968d93dee1bf24b3e0012a4cc7020b5
",git fetch https://review.opendev.org/openstack/blazar refs/changes/41/766841/7 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'doc/source/configuration/blazar-policy.rst', 'blazar/cmd/status.py', 'doc/source/configuration/samples/blazar-policy.rst', 'blazar/policy.py', 'lower-constraints.txt', 'blazar/config.py', 'setup.cfg', 'releasenotes/notes/deprecate-json-formatted-policy-file-5ceba2a580b69101.yaml']",9,100f18b8052583fa9cba935306a99d1a1c4993f1,policy-json-to-yaml,"--- upgrade: - | The default value of ``[oslo_policy] policy_file`` config option has been changed from ``policy.json`` to ``policy.yaml``. Operators who are utilizing customized or previously generated static policy JSON files (which are not needed by default), should generate new policy files or convert them in YAML format. Use the `oslopolicy-convert-json-to-yaml <https://docs.openstack.org/oslo.policy/latest/cli/oslopolicy-convert-json-to-yaml.html>`_ tool to convert a JSON to YAML formatted policy file in backward compatible way. deprecations: - | Use of JSON policy files was deprecated by the ``oslo.policy`` library during the Victoria development cycle. As a result, this deprecation is being noted in the Wallaby cycle with an anticipated future removal of support by ``oslo.policy``. As such operators will need to convert to YAML policy files. Please see the upgrade notes for details on migration of any custom policy files. ",,70,14
openstack%2Foslo.config~master~I4e93b3070c20bf90e4e33628b8aa9fc9daffc730,openstack/oslo.config,master,I4e93b3070c20bf90e4e33628b8aa9fc9daffc730,DNM: for debugging,ABANDONED,2021-01-29 00:18:08.000000000,2021-02-01 22:53:54.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 00:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/6e92407acda16d33dd9510006d3822f1085ce1b2', 'message': 'DNM: for debugging\n\nChange-Id: I4e93b3070c20bf90e4e33628b8aa9fc9daffc730\n'}, {'number': 2, 'created': '2021-01-29 00:27:43.000000000', 'files': ['oslo_config/cfg.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/b204a477c8b5bef24b4770ead36661bfcf95ef59', 'message': 'DNM: for debugging\n\nChange-Id: I4e93b3070c20bf90e4e33628b8aa9fc9daffc730\n'}]",1,772959,b204a477c8b5bef24b4770ead36661bfcf95ef59,6,2,2,8556,,,0,"DNM: for debugging

Change-Id: I4e93b3070c20bf90e4e33628b8aa9fc9daffc730
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/59/772959/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/cfg.py'],1,6e92407acda16d33dd9510006d3822f1085ce1b2,," LOG.debug('searching file %s in directories: %s.', name, dirs)",,1,1
openstack%2Fdiskimage-builder~master~Ic7dcd29ea658a66763b4422915149e4d3fe663cc,openstack/diskimage-builder,master,Ic7dcd29ea658a66763b4422915149e4d3fe663cc,Add 'DIB_UBUNTU_MIRROR_DISTS' to ubuntu-minimal,MERGED,2021-01-26 11:32:03.000000000,2021-02-01 22:37:22.000000000,2021-02-01 22:35:05.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 9542}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 11:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f1869a3b08a93981beea997feeb6dc27b5e5ab8c', 'message': 'Extend ubuntu-minimal element\n\n  * Add ""DIB_UBUNTU_MIRROR_DISTS"":\n    Default: ``updates,security,backports``\n    Notes: For some deployment, is may be option\n           to disable backport|update|etc packages\n           integration.\n\nChange-Id: Ic7dcd29ea658a66763b4422915149e4d3fe663cc\n'}, {'number': 2, 'created': '2021-01-26 11:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b9951e8676285ae9352989d0dbe1af6ecb5d29be', 'message': 'Extend ubuntu-minimal element\n\n  * Add ""DIB_UBUNTU_MIRROR_DISTS"":\n    Default: ``updates,security,backports``\n    Notes: For some deployment, is may be option\n           to disable backport|update|etc packages\n           integration.\n\nChange-Id: Ic7dcd29ea658a66763b4422915149e4d3fe663cc\n'}, {'number': 3, 'created': '2021-01-26 15:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0f46707700fb731b2f98c7a94d249efe532fd5d5', 'message': 'Extend ubuntu-minimal element\n\n  * Add ""DIB_UBUNTU_MIRROR_DISTS"":\n    Default: ``updates,security,backports``\n    Notes: For some deployment, is may be required\n           to disable backport|update|etc packages\n           integration.\n\nChange-Id: Ic7dcd29ea658a66763b4422915149e4d3fe663cc\n'}, {'number': 4, 'created': '2021-01-27 08:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/947573ae0830b5b1cc154a8a802897971d6e9b56', 'message': 'Add \'DIB_UBUNTU_MIRROR_DISTS\' to ubuntu-minimal\n\n  * Add ""DIB_UBUNTU_MIRROR_DISTS"":\n    Default: ``updates,security,backports``\n    Notes: For some deployment, is may be required\n           to disable backport|update|etc packages\n           integration.\n\nChange-Id: Ic7dcd29ea658a66763b4422915149e4d3fe663cc\n'}, {'number': 5, 'created': '2021-01-27 08:32:54.000000000', 'files': ['diskimage_builder/elements/ubuntu-minimal/environment.d/12-ubuntu-repo-dists.bash', 'diskimage_builder/elements/ubuntu-minimal/README.rst', 'diskimage_builder/elements/ubuntu-minimal/root.d/75-ubuntu-minimal-baseinstall'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3f8a85f932dde2f02e501a4a428928a53989a268', 'message': 'Add \'DIB_UBUNTU_MIRROR_DISTS\' to ubuntu-minimal\n\n  * Add ""DIB_UBUNTU_MIRROR_DISTS"":\n    Default: ``updates,security,backports``\n    Notes: For some deployment, is may be required\n           to disable backport|update|etc packages\n           integration.\n\nChange-Id: Ic7dcd29ea658a66763b4422915149e4d3fe663cc\n'}]",6,772502,3f8a85f932dde2f02e501a4a428928a53989a268,26,4,5,10288,,,0,"Add 'DIB_UBUNTU_MIRROR_DISTS' to ubuntu-minimal

  * Add ""DIB_UBUNTU_MIRROR_DISTS"":
    Default: ``updates,security,backports``
    Notes: For some deployment, is may be required
           to disable backport|update|etc packages
           integration.

Change-Id: Ic7dcd29ea658a66763b4422915149e4d3fe663cc
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/02/772502/2 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/ubuntu-minimal/README.rst', 'diskimage_builder/elements/ubuntu-minimal/environment.d/12-ubuntu-repo-dists.bash', 'diskimage_builder/elements/ubuntu-minimal/root.d/75-ubuntu-minimal-baseinstall']",3,f1869a3b08a93981beea997feeb6dc27b5e5ab8c,,"# Add ""basic"" release dist# Add any extra dists for dist in ${DIB_UBUNTU_MIRROR_DISTS//,/ } ; do sudo bash -c ""cat << EOF >$TARGET_ROOT/etc/apt/sources.list deb $DIB_DISTRIBUTION_MIRROR $DIB_RELEASE-$dist ${DIB_DEBIAN_COMPONENTS//,/ } EOF"" done ","deb $DIB_DISTRIBUTION_MIRROR $DIB_RELEASE-updates ${DIB_DEBIAN_COMPONENTS//,/ } deb $DIB_DISTRIBUTION_MIRROR $DIB_RELEASE-backports ${DIB_DEBIAN_COMPONENTS//,/ } deb $DIB_DISTRIBUTION_MIRROR $DIB_RELEASE-security ${DIB_DEBIAN_COMPONENTS//,/ }",35,3
openstack%2Fmagnum~master~I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e,openstack/magnum,master,I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e,[k8s-fcos] Fix insecure registry,MERGED,2020-09-04 15:37:13.000000000,2021-02-01 22:30:54.000000000,2021-02-01 22:22:43.000000000,"[{'_account_id': 6484}, {'_account_id': 14826}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-09-04 15:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4d6268b47ababa11dce3a6ef76ff25c4aee01638', 'message': '[k8s-fcos] Fix insecure registry\n\nChange-Id: I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e\n'}, {'number': 2, 'created': '2020-09-04 15:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/111a8ba217c5bef86229d36bbb3cbfa4a900f9bf', 'message': '[k8s-fcos] Fix insecure registry\n\nChange-Id: I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e\n'}, {'number': 3, 'created': '2020-09-04 21:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3985d21fc1dd7b96f235a7d422756d9dcce61151', 'message': '[k8s-fcos] Fix insecure registry\n\nChange-Id: I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e\n'}, {'number': 4, 'created': '2020-09-04 21:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4cd7e035a7f589df4b86a15934640f592b5ea707', 'message': ""[k8s-fcos] Fix insecure registry\n\nAt present, insecure registry doesn't work as expected. This patch\naddresses the issue by fixing the ignition user data so that Podman is\nconfigured correctly. Then it ensures that --insecure-registry flag is\nprovided to Docker in /etc/sysconfig/docker.\n\nChange-Id: I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e\n""}, {'number': 5, 'created': '2020-12-31 13:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7264cf61e75bf6bf23e1d96987deebccb9739a35', 'message': ""[k8s-fcos] Fix insecure registry\n\nAt present, insecure registry doesn't work as expected. This patch\naddresses the issue by fixing the ignition user data so that Podman is\nconfigured correctly. Then it ensures that --insecure-registry flag is\nprovided to Docker in /etc/sysconfig/docker.\n\nStory: 2008479\nTask: 41519\n\nChange-Id: I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e\n""}, {'number': 6, 'created': '2020-12-31 13:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/93511eeb391f1d3aa1fdbee17cb730b1ffa3ae2e', 'message': ""[k8s-fcos] Fix insecure registry\n\nAt present, insecure registry doesn't work as expected when Podman is\nused. This patch addresses the issue by fixing the ignition user data so\nthat Podman is configured correctly. Then it ensures that\n--insecure-registry flag is provided to Docker in /etc/sysconfig/docker.\n\nStory: 2008479\nTask: 41519\n\nChange-Id: I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e\n""}, {'number': 7, 'created': '2021-01-04 10:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/968850b3cce21096fe4c86daead90bb30d044b37', 'message': ""[k8s-fcos] Fix insecure registry\n\nAt present, insecure registry doesn't work as expected when Podman is\nused. This patch addresses the issue by fixing the ignition user data so\nthat Podman is configured correctly. Then it ensures that\n--insecure-registry flag is provided to Docker in /etc/sysconfig/docker.\n\nStory: 2008479\nTask: 41519\n\nChange-Id: I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e\n""}, {'number': 8, 'created': '2021-01-29 14:02:38.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/7bfd7519af9c95044917ad443ea26708c49c1d13', 'message': ""[k8s-fcos] Fix insecure registry\n\nAt present, insecure registry doesn't work as expected when Podman is\nused. This patch addresses the issue by fixing the ignition user data so\nthat Podman is configured correctly. Then it ensures that\n--insecure-registry flag is provided to Docker in /etc/sysconfig/docker.\n\nStory: 2008479\nTask: 41519\n\nChange-Id: I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e\n""}]",0,749989,7bfd7519af9c95044917ad443ea26708c49c1d13,22,5,8,28022,,,0,"[k8s-fcos] Fix insecure registry

At present, insecure registry doesn't work as expected when Podman is
used. This patch addresses the issue by fixing the ignition user data so
that Podman is configured correctly. Then it ensures that
--insecure-registry flag is provided to Docker in /etc/sysconfig/docker.

Story: 2008479
Task: 41519

Change-Id: I2e1c86e0c88ab5b59185fd523e9c9696ce0f951e
",git fetch https://review.opendev.org/openstack/magnum refs/changes/89/749989/8 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml']",4,4d6268b47ababa11dce3a6ef76ff25c4aee01638,insecure-registry,"# -v $(pwd)/fcct-config.yaml:/fcct-config.yaml \ # quay.io/coreos/fcct:release \ # --pretty --strict /fcct-config.yaml > ./user_data.json - path: /etc/containers/__REGISTRIES_CONF__ # 420 (decimal) == 644 (octal) mode: 420 user: name: root group: name: root append: - inline: | [[registry]] location = ""__INSECURE_REGISTRY_URL__"" insecure = true",# -v ./fcct-config.yaml:/config.fcc:z \ # quay.io/coreos/fcct:release \ # --pretty --strict --input /config.fcc > ./user_data.json,53,26
openstack%2Foslo.policy~master~I539672fc220b8d7e3c47ab3dfa6670b88e3f4093,openstack/oslo.policy,master,I539672fc220b8d7e3c47ab3dfa6670b88e3f4093,Handle deprecated rule only once,MERGED,2021-02-01 15:29:43.000000000,2021-02-01 22:30:26.000000000,2021-02-01 22:28:18.000000000,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-02-01 15:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/dc97806bf2ed4a26507fdc95bd5b4105dbb6f7c9', 'message': 'WIP Handle deprecated rule only once\n\nChange-Id: I539672fc220b8d7e3c47ab3dfa6670b88e3f4093\n'}, {'number': 2, 'created': '2021-02-01 18:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/b16fa39629290ee10ca04f323a8c501b98eda33e', 'message': ""Handle deprecated rule only once\n\nThe policy engine converts simple strings into instances of rule\nobjects based on a policy DSL. This engine iterates checks and reduces\nthem after each iteration if performing the conversion on list of check\nstrings.\n\nWhen we deprecate policies we apply a logical OR to make upgrades easier\nfor operators. The logical OR, implemented with an OrCheck, only needs\nto be done once per deprecated rule. Today, we're re-initializing an\nOrCheck instance each time we load rules, which happens every time\noslo_policy.policy.Enforcer.enforce() is called.\n\nFor most OpenStack usage, this isn't noticiable, especially if you're\nonly using it to enforce access to a specific endpoint. However, this\ncan get expensive if you're using the enforcer to protect the API,\nprotect each resource in a response, and protect each attrbute of the\nresource (e.g., Neutron makes extensive usage of this pattern to\nimplement RBAC for resources it's responsible for).\n\nThis commit updates the RuleDefault object to track state of handling\ndeprecated logic ORs so that we only cast the check strings to OrCheck\ninstances once per rule no matter how many times we call load_rules().\n\nChange-Id: I539672fc220b8d7e3c47ab3dfa6670b88e3f4093\n""}, {'number': 3, 'created': '2021-02-01 18:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/1ad2d014564cfe4b7525547d86d7787fe406a62a', 'message': ""Handle deprecated rule only once\n\nThe policy engine converts simple strings into instances of rule\nobjects based on a policy DSL. This engine iterates checks and reduces\nthem after each iteration if performing the conversion on list of check\nstrings.\n\nWhen we deprecate policies we apply a logical OR to make upgrades easier\nfor operators. The logical OR, implemented with an OrCheck, only needs\nto be done once per deprecated rule. Today, we're re-initializing an\nOrCheck instance each time we load rules, which happens every time\noslo_policy.policy.Enforcer.enforce() is called.\n\nFor most OpenStack usage, this isn't noticiable, especially if you're\nonly using it to enforce access to a specific endpoint. However, this\ncan get expensive if you're using the enforcer to protect the API,\nprotect each resource in a response, and protect each attrbute of the\nresource (e.g., Neutron makes extensive usage of this pattern to\nimplement RBAC for resources it's responsible for).\n\nThis commit updates the RuleDefault object to track state of handling\ndeprecated logic ORs so that we only cast the check strings to OrCheck\ninstances once per rule no matter how many times we call load_rules().\n\nChange-Id: I539672fc220b8d7e3c47ab3dfa6670b88e3f4093\n""}, {'number': 4, 'created': '2021-02-01 18:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/a0823c65aad7fb6127595fa5ca20596d25d3d976', 'message': ""Handle deprecated rule only once\n\nThe policy engine converts simple strings into instances of rule\nobjects based on a policy DSL. This engine iterates checks and reduces\nthem after each iteration if performing the conversion on list of check\nstrings.\n\nWhen we deprecate policies we apply a logical OR to make upgrades easier\nfor operators. The logical OR, implemented with an OrCheck, only needs\nto be done once per deprecated rule. Today, we're re-initializing an\nOrCheck instance each time we load rules, which happens every time\noslo_policy.policy.Enforcer.enforce() is called.\n\nFor most OpenStack usage, this isn't noticiable, especially if you're\nonly using it to enforce access to a specific endpoint. However, this\ncan get expensive if you're using the enforcer to protect the API,\nprotect each resource in a response, and protect each attrbute of the\nresource (e.g., Neutron makes extensive usage of this pattern to\nimplement RBAC for resources it's responsible for).\n\nThis commit updates the RuleDefault object to track state of handling\ndeprecated logic ORs so that we only cast the check strings to OrCheck\ninstances once per rule no matter how many times we call load_rules().\n\nCloses-Bug: 1913718\n\nChange-Id: I539672fc220b8d7e3c47ab3dfa6670b88e3f4093\n""}, {'number': 5, 'created': '2021-02-01 19:29:32.000000000', 'files': ['releasenotes/notes/bug-1913718-f1b46bbff3231d98.yaml', 'oslo_policy/policy.py', 'oslo_policy/tests/test_policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/bd9d47aa36ad6f2f4746f09a267d7ce809a820f4', 'message': ""Handle deprecated rule only once\n\nThe policy engine converts simple strings into instances of rule\nobjects based on a policy DSL. This engine iterates checks and reduces\nthem after each iteration if performing the conversion on list of check\nstrings.\n\nWhen we deprecate policies we apply a logical OR to make upgrades easier\nfor operators. The logical OR, implemented with an OrCheck, only needs\nto be done once per deprecated rule. Today, we're re-initializing an\nOrCheck instance each time we load rules, which happens every time\noslo_policy.policy.Enforcer.enforce() is called.\n\nFor most OpenStack usage, this isn't noticiable, especially if you're\nonly using it to enforce access to a specific endpoint. However, this\ncan get expensive if you're using the enforcer to protect the API,\nprotect each resource in a response, and protect each attrbute of the\nresource (e.g., Neutron makes extensive usage of this pattern to\nimplement RBAC for resources it's responsible for).\n\nThis commit updates the RuleDefault object to track state of handling\ndeprecated logic ORs so that we only cast the check strings to OrCheck\ninstances once per rule no matter how many times we call load_rules().\n\nCloses-Bug: 1913718\n\nChange-Id: I539672fc220b8d7e3c47ab3dfa6670b88e3f4093\n""}]",1,773414,bd9d47aa36ad6f2f4746f09a267d7ce809a820f4,16,5,5,11975,,,0,"Handle deprecated rule only once

The policy engine converts simple strings into instances of rule
objects based on a policy DSL. This engine iterates checks and reduces
them after each iteration if performing the conversion on list of check
strings.

When we deprecate policies we apply a logical OR to make upgrades easier
for operators. The logical OR, implemented with an OrCheck, only needs
to be done once per deprecated rule. Today, we're re-initializing an
OrCheck instance each time we load rules, which happens every time
oslo_policy.policy.Enforcer.enforce() is called.

For most OpenStack usage, this isn't noticiable, especially if you're
only using it to enforce access to a specific endpoint. However, this
can get expensive if you're using the enforcer to protect the API,
protect each resource in a response, and protect each attrbute of the
resource (e.g., Neutron makes extensive usage of this pattern to
implement RBAC for resources it's responsible for).

This commit updates the RuleDefault object to track state of handling
deprecated logic ORs so that we only cast the check strings to OrCheck
instances once per rule no matter how many times we call load_rules().

Closes-Bug: 1913718

Change-Id: I539672fc220b8d7e3c47ab3dfa6670b88e3f4093
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/14/773414/4 && git format-patch -1 --stdout FETCH_HEAD,['oslo_policy/policy.py'],1,dc97806bf2ed4a26507fdc95bd5b4105dbb6f7c9,bug/1913718, if default.deprecated_rule_handled: return default.deprecated_rule_handled = True self.deprecated_rule_handled = False,,6,0
openstack%2Fmagnum~master~Ifd57405d72ed6c1406bc9cecca3a412507bb8a02,openstack/magnum,master,Ifd57405d72ed6c1406bc9cecca3a412507bb8a02,Drop lower constraints testing,MERGED,2021-01-11 11:08:36.000000000,2021-02-01 22:28:36.000000000,2021-02-01 22:22:22.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22629}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-01-11 11:08:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/1843ad1b00ef4d2e403dcc728ac79fdcf286659d', 'message': 'Drop lower constraints testing\n\nProjects like oslo are dropping lower constraints\ntesting. There is also discussion to drop it until\nwe find a proper setup. For details, please follow\nthe ML thread. TC will have updates soon.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-January/019679.html\n\nstory: 2008482\ntask: 41565\n\nChange-Id: Ifd57405d72ed6c1406bc9cecca3a412507bb8a02\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",0,770101,1843ad1b00ef4d2e403dcc728ac79fdcf286659d,11,5,1,20498,,,0,"Drop lower constraints testing

Projects like oslo are dropping lower constraints
testing. There is also discussion to drop it until
we find a proper setup. For details, please follow
the ML thread. TC will have updates soon.

http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019679.html

story: 2008482
task: 41565

Change-Id: Ifd57405d72ed6c1406bc9cecca3a412507bb8a02
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/01/770101/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1843ad1b00ef4d2e403dcc728ac79fdcf286659d,drop_lc,, - openstack-lower-constraints-jobs,0,1
openstack%2Fmagnum~stable%2Fvictoria~Ifd57405d72ed6c1406bc9cecca3a412507bb8a02,openstack/magnum,stable/victoria,Ifd57405d72ed6c1406bc9cecca3a412507bb8a02,Drop lower constraints testing,MERGED,2021-01-11 10:49:26.000000000,2021-02-01 22:28:32.000000000,2021-02-01 22:22:14.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22629}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-01-11 10:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e5e541e1b08cbc53ca9640c61b286c73013e2b90', 'message': 'Drop lower constraints testing\n\nProjects like oslo are dropping lower constraints\ntesting. There is also discussion to drop it until\nwe find a proper setup. For details, please follow\nthe ML thread. TC will have updates soon.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-January/019679.html\n\nstory: 2008482\n\nChange-Id: Ifd57405d72ed6c1406bc9cecca3a412507bb8a02\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 2, 'created': '2021-01-11 11:11:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/97c6bdad476b05e2691f3e9c57c9d53997c5f207', 'message': 'Drop lower constraints testing\n\nProjects like oslo are dropping lower constraints\ntesting. There is also discussion to drop it until\nwe find a proper setup. For details, please follow\nthe ML thread. TC will have updates soon.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-January/019679.html\n\nstory: 2008482\ntask: 41565\n\nChange-Id: Ifd57405d72ed6c1406bc9cecca3a412507bb8a02\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",0,770099,97c6bdad476b05e2691f3e9c57c9d53997c5f207,14,5,2,20498,,,0,"Drop lower constraints testing

Projects like oslo are dropping lower constraints
testing. There is also discussion to drop it until
we find a proper setup. For details, please follow
the ML thread. TC will have updates soon.

http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019679.html

story: 2008482
task: 41565

Change-Id: Ifd57405d72ed6c1406bc9cecca3a412507bb8a02
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/99/770099/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e5e541e1b08cbc53ca9640c61b286c73013e2b90,drop_lc,, - openstack-lower-constraints-jobs,0,1
openstack%2Fmagnum~master~I8f4ca497a01ad04db6cb6c4bc81caed0d714b5a6,openstack/magnum,master,I8f4ca497a01ad04db6cb6c4bc81caed0d714b5a6,Fix cluster deletion when load balancers don't exist,MERGED,2021-01-22 15:26:37.000000000,2021-02-01 22:22:30.000000000,2021-02-01 22:22:30.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-01-22 15:26:37.000000000', 'files': ['magnum/tests/unit/common/test_octavia.py', 'magnum/common/octavia.py', 'releasenotes/notes/story-2008548-65a571ad15451937.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/8018bf9124a17bc386ee06cc0a4ea9c36c3bbb55', 'message': ""Fix cluster deletion when load balancers don't exist\n\nDuring cluster deletion, magnum tries to delete the cluster's load\nbalancers in advance of deleting the heat stack. If these load balancers\ndo not exist for some reason, the cluster deletion will fail with an\nerror such as the following:\n\n    Failed to pre-delete resources for cluster\n    748b628a-2cd8-456f-8aee-c93804b2099b, error: list indices must be\n    integers or slices, not str.\n\nThis happens because the heat stack has the physical_resource_id set to\nNone for the load balancer, which causes the load_balancer_show method\nof octavia client to GET all load balancers, rather than just one. The\nreturned data is a list, rather than a dict, leading to the error above.\n\nThis change fixes the issue by checking if physical_resource_id is set\nto None, and skipping the load balancer deletion if so.\n\nChange-Id: I8f4ca497a01ad04db6cb6c4bc81caed0d714b5a6\nStory: 2008548\nTask: 41669\n""}]",0,771995,8018bf9124a17bc386ee06cc0a4ea9c36c3bbb55,9,5,1,14826,,,0,"Fix cluster deletion when load balancers don't exist

During cluster deletion, magnum tries to delete the cluster's load
balancers in advance of deleting the heat stack. If these load balancers
do not exist for some reason, the cluster deletion will fail with an
error such as the following:

    Failed to pre-delete resources for cluster
    748b628a-2cd8-456f-8aee-c93804b2099b, error: list indices must be
    integers or slices, not str.

This happens because the heat stack has the physical_resource_id set to
None for the load balancer, which causes the load_balancer_show method
of octavia client to GET all load balancers, rather than just one. The
returned data is a list, rather than a dict, leading to the error above.

This change fixes the issue by checking if physical_resource_id is set
to None, and skipping the load balancer deletion if so.

Change-Id: I8f4ca497a01ad04db6cb6c4bc81caed0d714b5a6
Story: 2008548
Task: 41669
",git fetch https://review.opendev.org/openstack/magnum refs/changes/95/771995/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/unit/common/test_octavia.py', 'magnum/common/octavia.py', 'releasenotes/notes/story-2008548-65a571ad15451937.yaml']",3,8018bf9124a17bc386ee06cc0a4ea9c36c3bbb55,,--- fixes: - | Fixes an issue with cluster deletion if load balancers do not exist. See `story 2008548 <https://storyboard.openstack.org/#!/story/2008548>` for details. ,,32,0
openstack%2Fpython-magnumclient~stable%2Fvictoria~Ia91451c0f93ffe4c7a555874f8f843e01b146df5,openstack/python-magnumclient,stable/victoria,Ia91451c0f93ffe4c7a555874f8f843e01b146df5,Drop lower constraints testing,MERGED,2021-01-11 11:29:43.000000000,2021-02-01 21:47:55.000000000,2021-02-01 21:35:58.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-01-11 11:29:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/2fa68f127f9e98d2352796b9c0ae186c1517b213', 'message': 'Drop lower constraints testing\n\nProjects like oslo are dropping lower constraints\ntesting. There is also discussion to drop it until\nwe find a proper setup. For details, please follow\nthe ML thread. TC will have updates soon.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-January/019679.html\n\nstory: 2008482\ntask: 41523\n\nChange-Id: Ia91451c0f93ffe4c7a555874f8f843e01b146df5\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",0,770078,2fa68f127f9e98d2352796b9c0ae186c1517b213,11,4,1,20498,,,0,"Drop lower constraints testing

Projects like oslo are dropping lower constraints
testing. There is also discussion to drop it until
we find a proper setup. For details, please follow
the ML thread. TC will have updates soon.

http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019679.html

story: 2008482
task: 41523

Change-Id: Ia91451c0f93ffe4c7a555874f8f843e01b146df5
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/78/770078/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2fa68f127f9e98d2352796b9c0ae186c1517b213,drop_lc,, - openstack-lower-constraints-jobs,0,1
openstack%2Fpython-magnumclient~master~Ia91451c0f93ffe4c7a555874f8f843e01b146df5,openstack/python-magnumclient,master,Ia91451c0f93ffe4c7a555874f8f843e01b146df5,Drop lower constraints testing,MERGED,2021-01-11 11:16:53.000000000,2021-02-01 21:46:32.000000000,2021-02-01 21:35:50.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-01-11 11:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/0edf7648252905c08f2da05e6e31da9151a23905', 'message': 'Drop lower constraints testing\n\nProjects like oslo are dropping lower constraints\ntesting. There is also discussion to drop it until\nwe find a proper setup. For details, please follow\nthe ML thread. TC will have updates soon.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-January/019679.html\n\nstory: 2008482\ntask: 41523\n\nChange-Id: Ia91451c0f93ffe4c7a555874f8f843e01b146df5\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 2, 'created': '2021-01-11 11:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/010f0fcd9bdcf588bc4b0c6bfd0b1073e515cc6e', 'message': 'Drop lower constraints testing\n\nProjects like oslo are dropping lower constraints\ntesting. There is also discussion to drop it until\nwe find a proper setup. For details, please follow\nthe ML thread. TC will have updates soon.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-January/019679.html\n\nstory: 2008482\ntask: 41523\n\nChange-Id: Ia91451c0f93ffe4c7a555874f8f843e01b146df5\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 3, 'created': '2021-01-11 11:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/89bb9fca5056563f8b071905e5fb8ca9c6fa9486', 'message': 'Drop lower constraints testing\n\nProjects like oslo are dropping lower constraints\ntesting. There is also discussion to drop it until\nwe find a proper setup. For details, please follow\nthe ML thread. TC will have updates soon.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-January/019679.html\n\nstory: 2008482\ntask: 41523\n\nChange-Id: Ia91451c0f93ffe4c7a555874f8f843e01b146df5\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 4, 'created': '2021-01-11 11:25:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/0a35b68026bc98e9699ed824b73ad8381482de23', 'message': 'Drop lower constraints testing\n\nProjects like oslo are dropping lower constraints\ntesting. There is also discussion to drop it until\nwe find a proper setup. For details, please follow\nthe ML thread. TC will have updates soon.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-January/019679.html\n\nstory: 2008482\ntask: 41523\n\nChange-Id: Ia91451c0f93ffe4c7a555874f8f843e01b146df5\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",0,770103,0a35b68026bc98e9699ed824b73ad8381482de23,11,3,4,20498,,,0,"Drop lower constraints testing

Projects like oslo are dropping lower constraints
testing. There is also discussion to drop it until
we find a proper setup. For details, please follow
the ML thread. TC will have updates soon.

http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019679.html

story: 2008482
task: 41523

Change-Id: Ia91451c0f93ffe4c7a555874f8f843e01b146df5
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/03/770103/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0edf7648252905c08f2da05e6e31da9151a23905,drop_lc,, - openstack-lower-constraints-jobs,0,1
openstack%2Fmanila~master~I9db0abf2b0847157074ca6ba84b5451bfe3f20d0,openstack/manila,master,I9db0abf2b0847157074ca6ba84b5451bfe3f20d0,remove usage of six library,MERGED,2020-10-09 02:46:25.000000000,2021-02-01 21:43:07.000000000,2021-01-30 06:47:53.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26458}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-10-09 02:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/71375a43478b5e26f4e7d15fb310dd77261e0afd', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:common\n2:data\n3:db\n4:message\n5:network\n6:scheduler\n\nChange-Id: I9db0abf2b0847157074ca6ba84b5451bfe3f20d0\n'}, {'number': 2, 'created': '2020-10-09 10:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/46a4755af50ca9bdac727a21a94d02fbef2fce28', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:common\n2:data\n3:db\n4:message\n5:network\n6:scheduler\n\nChange-Id: I9db0abf2b0847157074ca6ba84b5451bfe3f20d0\n'}, {'number': 3, 'created': '2020-10-09 11:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9e12c0988f999066ec37a4157e2782e841f97e99', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:common\n2:data\n3:db\n4:message\n5:network\n6:scheduler\n\nChange-Id: I9db0abf2b0847157074ca6ba84b5451bfe3f20d0\n'}, {'number': 4, 'created': '2021-01-27 01:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/094b0f0057d8051e1d0e904c100a3db5852f05e7', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:common\n2:data\n3:db\n4:message\n5:network\n6:scheduler\n\nChange-Id: I9db0abf2b0847157074ca6ba84b5451bfe3f20d0\n'}, {'number': 5, 'created': '2021-01-27 19:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f90e813273a8fa14c39bac3f8e22feb5236a568f', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:common\n2:data\n3:db\n4:message\n5:network\n6:scheduler\n\nChange-Id: I9db0abf2b0847157074ca6ba84b5451bfe3f20d0\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 6, 'created': '2021-01-27 21:46:45.000000000', 'files': ['manila/data/manager.py', 'manila/network/__init__.py', 'manila/network/linux/interface.py', 'manila/scheduler/filters/driver.py', 'manila/scheduler/filters/json.py', 'manila/compute/nova.py', 'manila/common/config.py', 'manila/message/api.py', 'manila/scheduler/host_manager.py', 'manila/db/migrations/alembic/versions/5077ffcc5f1c_add_share_instances.py', 'manila/db/sqlalchemy/api.py', 'manila/network/linux/ip_lib.py', 'manila/scheduler/filters/extra_specs_ops.py', 'manila/scheduler/weighers/goodness.py', 'manila/network/neutron/neutron_network_plugin.py', 'manila/scheduler/evaluator/evaluator.py', 'manila/scheduler/weighers/base.py', 'manila/network/standalone_network_plugin.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/6fb2e8510ef88ee9abb0839cf9a8247f97c1e262', 'message': 'remove usage of six library\n\nremove usage of six library from the following directory:\n1:common\n2:data\n3:db\n4:message\n5:network\n6:scheduler\n\nChange-Id: I9db0abf2b0847157074ca6ba84b5451bfe3f20d0\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",16,756981,6fb2e8510ef88ee9abb0839cf9a8247f97c1e262,59,10,6,30407,,,0,"remove usage of six library

remove usage of six library from the following directory:
1:common
2:data
3:db
4:message
5:network
6:scheduler

Change-Id: I9db0abf2b0847157074ca6ba84b5451bfe3f20d0
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/81/756981/6 && git format-patch -1 --stdout FETCH_HEAD,"['manila/data/manager.py', 'manila/network/__init__.py', 'manila/network/linux/interface.py', 'manila/scheduler/filters/driver.py', 'manila/scheduler/filters/json.py', 'manila/compute/nova.py', 'manila/common/config.py', 'manila/message/api.py', 'manila/scheduler/host_manager.py', 'manila/db/migrations/alembic/versions/5077ffcc5f1c_add_share_instances.py', 'manila/db/sqlalchemy/api.py', 'manila/network/linux/ip_lib.py', 'manila/scheduler/filters/extra_specs_ops.py', 'manila/scheduler/weighers/goodness.py', 'manila/network/neutron/neutron_network_plugin.py', 'manila/scheduler/evaluator/evaluator.py', 'manila/scheduler/weighers/base.py', 'manila/network/standalone_network_plugin.py']",18,71375a43478b5e26f4e7d15fb310dd77261e0afd,manila_remove_six," net=str(self.net), str(self.net.network), str(self.net.broadcast)) if not isinstance(self.gateway, str): if not isinstance(self.mask, str): range=str(range_instance), net=str(self.net), str(cidr) for cidr in range_instance.cidrs()) cidrs.append(str(self.net)) ip = str(ip) 'cidr': str(self.net.cidr), 'gateway': str(self.gateway), allocation = str(ip)","import six net=six.text_type(self.net), six.text_type(self.net.network), six.text_type(self.net.broadcast)) if not isinstance(self.gateway, six.string_types): if not isinstance(self.mask, six.string_types): range=six.text_type(range_instance), net=six.text_type(self.net), six.text_type(cidr) for cidr in range_instance.cidrs()) cidrs.append(six.text_type(self.net)) ip = six.text_type(ip) 'cidr': six.text_type(self.net.cidr), 'gateway': six.text_type(self.gateway), allocation = six.text_type(ip)",60,81
openstack%2Ftripleo-ansible~stable%2Ftrain~Ib67b6bd69ed1c3f9fcd32552b6599cbe4ff478ce,openstack/tripleo-ansible,stable/train,Ib67b6bd69ed1c3f9fcd32552b6599cbe4ff478ce,Ansible-runner is failing when passing host to display,MERGED,2020-12-08 14:13:09.000000000,2021-02-01 21:25:56.000000000,2021-02-01 21:25:56.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-12-08 14:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e90f1962e6c332e915e568f9c2e45cdc9dbef341', 'message': ""Ansible-runner is failing when passing host to display\n\nAnsible-runner is using their own custom call back and it appears to be\nfailing when actually set to a non-string. Check to make sure host is a\nstring or just unset it if it isn't a string value.\n\nChange-Id: Ib67b6bd69ed1c3f9fcd32552b6599cbe4ff478ce\nCloses-Bug: #1904917\n(cherry picked from commit e737f3bfd4d3e98034d805e22e25a8bfb17d9c14)\n""}, {'number': 2, 'created': '2021-01-27 19:12:17.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_base.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a69af0f9fd0fc4cb5fc9a7c046daa661a6d6c565', 'message': ""Ansible-runner is failing when passing host to display\n\nAnsible-runner is using their own custom call back and it appears to be\nfailing when actually set to a non-string. Check to make sure host is a\nstring or just unset it if it isn't a string value.\n\nChange-Id: Ib67b6bd69ed1c3f9fcd32552b6599cbe4ff478ce\nCloses-Bug: #1904917\n(cherry picked from commit e737f3bfd4d3e98034d805e22e25a8bfb17d9c14)\n""}]",0,765949,a69af0f9fd0fc4cb5fc9a7c046daa661a6d6c565,18,5,2,14985,,,0,"Ansible-runner is failing when passing host to display

Ansible-runner is using their own custom call back and it appears to be
failing when actually set to a non-string. Check to make sure host is a
string or just unset it if it isn't a string value.

Change-Id: Ib67b6bd69ed1c3f9fcd32552b6599cbe4ff478ce
Closes-Bug: #1904917
(cherry picked from commit e737f3bfd4d3e98034d805e22e25a8bfb17d9c14)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/49/765949/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_base.py']",2,e90f1962e6c332e915e568f9c2e45cdc9dbef341,bug/1904917-stable/train," # host needs to be a string or bad things happen. LP#1904917 if host and not isinstance(host, str): host = None",,4,1
openstack%2Ftripleo-ansible~master~Ic6816fa647653baf8297dc62cdd99ee522b86535,openstack/tripleo-ansible,master,Ic6816fa647653baf8297dc62cdd99ee522b86535,Opens ports to NFS server's firewalld,MERGED,2021-01-19 15:21:57.000000000,2021-02-01 21:23:16.000000000,2021-01-22 20:38:40.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-01-19 15:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3c7685b78309cf408ea231b0c47609adf4f3f4c8', 'message': ""Add ports to NFS server's firewalld\n\nChange-Id: Ic6816fa647653baf8297dc62cdd99ee522b86535\n""}, {'number': 2, 'created': '2021-01-19 15:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c8db366f2dc283d987cd74c6c6be650869352cdc', 'message': ""Add ports to NFS server's firewalld\n\nCloses-Bug: #1917891\nChange-Id: Ic6816fa647653baf8297dc62cdd99ee522b86535\n""}, {'number': 3, 'created': '2021-01-19 16:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a2b368cbeb745174798a624e35bfe2743f3b7859', 'message': ""Opens ports to NFS server's firewalld\n\nIf the NFS server firewalld does not open the ports, ReaR cannot correctly mount the NFS server\nwhile performing the backup and/or restore, and subsequently the action fails and the\nopenstack-ansible playbook stops running.\n\nThis change checks whether the server chosen to be NFS server has firewalld running, and implies that\nif it is running, the operator must declare the firewalld zone where the ports must be opened.\n\nCloses-Bug: #1912366\nChange-Id: Ic6816fa647653baf8297dc62cdd99ee522b86535\n""}, {'number': 4, 'created': '2021-01-20 09:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/de2667bb464812be731781bdf112e7f0fa88ec44', 'message': ""Opens ports to NFS server's firewalld\n\nIf the NFS server firewalld does not open the ports, ReaR cannot correctly mount the NFS server\nwhile performing the backup and/or restore, and subsequently the action fails and the\nopenstack-ansible playbook stops running.\n\nThis change checks whether the server chosen to be NFS server has firewalld running, and implies that\nif it is running, the operator must declare the firewalld zone where the ports must be opened.\n\nCloses-Bug: #1912366\nChange-Id: Ic6816fa647653baf8297dc62cdd99ee522b86535\n""}, {'number': 5, 'created': '2021-01-20 12:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c001c6713e0a7a6c769c34aa75d939ed077e9e5e', 'message': ""Opens ports to NFS server's firewalld\n\nIf the NFS server firewalld does not open the ports, ReaR cannot correctly mount the NFS server\nwhile performing the backup and/or restore, and subsequently the action fails and the\nopenstack-ansible playbook stops running.\n\nThis change checks whether the server chosen to be NFS server has firewalld running, and implies that\nif it is running, the operator must declare the firewalld zone where the ports must be opened. \n\nCloses-Bug: #1912366\nChange-Id: Ic6816fa647653baf8297dc62cdd99ee522b86535\n""}, {'number': 6, 'created': '2021-01-20 13:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4ff3fb2d7da890b7bedc0d68579fd9f338c54879', 'message': ""Opens ports to NFS server's firewalld\n\nIf the NFS server firewalld does not open the ports, ReaR cannot correctly mount the NFS server\nwhile performing the backup and/or restore, and subsequently the action fails and the\nopenstack-ansible playbook stops running.\n\nThis change checks whether the server chosen to be NFS server has firewalld running, and implies that\nif it is running, the operator must declare the firewalld zone where the ports must be opened.\n\nCloses-Bug: #1912366\nChange-Id: Ic6816fa647653baf8297dc62cdd99ee522b86535\n""}, {'number': 7, 'created': '2021-01-20 14:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/38b2049a31fe0d1b0569979c360539f6d06c94f6', 'message': ""Opens ports to NFS server's firewalld\n\nIf the NFS server firewalld does not open the ports, ReaR cannot correctly mount the NFS server\nwhile performing the backup and/or restore, and subsequently the action fails and the\nopenstack-ansible playbook stops running.\n\nThis change checks whether the server chosen to be NFS server has firewalld running, and implies that\nif it is running, the operator must declare the firewalld zone where the ports must be opened.\n\nCloses-Bug: #1912366\nChange-Id: Ic6816fa647653baf8297dc62cdd99ee522b86535\n""}, {'number': 8, 'created': '2021-01-20 15:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a1979cca3228df093fc9a215a8deb95c384cd639', 'message': ""Opens ports to NFS server's firewalld\n\nIf the NFS server firewalld does not open the ports, ReaR cannot correctly mount the NFS server\nwhile performing the backup and/or restore, and subsequently the action fails and the\nopenstack-ansible playbook stops running.\n\nThis change checks whether the server chosen to be NFS server has firewalld running, and implies that\nif it is running, the operator must declare the firewalld zone where the ports must be opened.\n\nCloses-Bug: #1912366\nChange-Id: Ic6816fa647653baf8297dc62cdd99ee522b86535\n""}, {'number': 9, 'created': '2021-01-20 15:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cf8d4f81446a14335a2b42bb29ee97e7cf14140c', 'message': ""Opens ports to NFS server's firewalld\n\nIf the NFS server firewalld does not open the ports, ReaR cannot correctly mount the NFS server\nwhile performing the backup and/or restore, and subsequently the action fails and the\nopenstack-ansible playbook stops running.\n\nThis change checks whether the server chosen to be NFS server has firewalld running, and implies that\nif it is running, the operator must declare the firewalld zone where the ports must be opened.\n\nCloses-Bug: #1912366\nChange-Id: Ic6816fa647653baf8297dc62cdd99ee522b86535\n""}, {'number': 10, 'created': '2021-01-21 09:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7513c50d8e573e173de5e6d880df47f3440b12cc', 'message': ""Opens ports to NFS server's firewalld\n\nIf the NFS server firewalld does not open the ports, ReaR cannot correctly mount the NFS server\nwhile performing the backup and/or restore, and subsequently the action fails and the\nopenstack-ansible playbook stops running.\n\nThis change checks whether the server chosen to be NFS server has firewalld running, and implies that\nif it is running, the operator must declare the firewalld zone where the ports must be opened.\n\nCloses-Bug: #1912366\nChange-Id: Ic6816fa647653baf8297dc62cdd99ee522b86535\n""}, {'number': 11, 'created': '2021-01-21 11:02:35.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/079d4221a58f9f9592e423d42323b0a0d80e58a4', 'message': ""Opens ports to NFS server's firewalld\n\nIf the NFS server firewalld does not open the ports, ReaR cannot correctly mount the NFS server\nwhile performing the backup and/or restore, and subsequently the action fails and the\nopenstack-ansible playbook stops running.\n\nThis change checks whether the server chosen to be NFS server has firewalld running, and implies that\nif it is running, the operator must declare the firewalld zone where the ports must be opened.\n\nCloses-Bug: #1912366\nChange-Id: Ic6816fa647653baf8297dc62cdd99ee522b86535\n""}]",12,771478,079d4221a58f9f9592e423d42323b0a0d80e58a4,44,7,11,32968,,,0,"Opens ports to NFS server's firewalld

If the NFS server firewalld does not open the ports, ReaR cannot correctly mount the NFS server
while performing the backup and/or restore, and subsequently the action fails and the
openstack-ansible playbook stops running.

This change checks whether the server chosen to be NFS server has firewalld running, and implies that
if it is running, the operator must declare the firewalld zone where the ports must be opened.

Closes-Bug: #1912366
Change-Id: Ic6816fa647653baf8297dc62cdd99ee522b86535
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/78/771478/9 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",2,3c7685b78309cf408ea231b0c47609adf4f3f4c8,bar_open_nfs_ports," # If there is a firewalld active, setup the zone where the NFS server ports need to be opened tripleo_backup_and_restore_firewalld_zone: ""libvirt""",,29,0
openstack%2Fmanila~master~I91d455c585ff546cc65e57e8560f126a280eac8d,openstack/manila,master,I91d455c585ff546cc65e57e8560f126a280eac8d,add additional driver data to migration get progress view,MERGED,2020-11-04 10:03:20.000000000,2021-02-01 21:19:43.000000000,2021-02-01 21:17:52.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-11-04 10:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f7fb9ff4d7abf8cc05ba25202e040c67aa04d7af', 'message': 'add all key/values reported by driver to migration get progress view\n\nChange-Id: I91d455c585ff546cc65e57e8560f126a280eac8d\nCloses-Bug: #1902854\n'}, {'number': 2, 'created': '2020-11-16 20:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e96926317a11a331e1cd5bd6c07b4ddd6d1bc791', 'message': 'add additional driver data to migration get progress view\n\nnew field `details` is introduced with microversion 2.58\n\nChange-Id: I91d455c585ff546cc65e57e8560f126a280eac8d\nCloses-Bug: #1902854\n'}, {'number': 3, 'created': '2020-12-11 08:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/45b66f322e94afb6379627b51d84665783a19c11', 'message': 'add additional driver data to migration get progress view\n\nnew field `details` is introduced with microversion 2.58\n\nChange-Id: I91d455c585ff546cc65e57e8560f126a280eac8d\nCloses-Bug: #1902854\n'}, {'number': 4, 'created': '2021-01-22 19:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7019dfe151bb5e94bbfd99bf69085126dd9a6bfc', 'message': 'add additional driver data to migration get progress view\n\nnew field `details` is introduced with microversion 2.58\n\nChange-Id: I91d455c585ff546cc65e57e8560f126a280eac8d\nCloses-Bug: #1902854\n'}, {'number': 5, 'created': '2021-01-22 19:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/77adae8682fae9793ab2b3ec0dedded9113b0fa0', 'message': 'add additional driver data to migration get progress view\n\nnew field `details` is introduced with microversion 2.59\n\nChange-Id: I91d455c585ff546cc65e57e8560f126a280eac8d\nCloses-Bug: #1902854\n'}, {'number': 6, 'created': '2021-01-25 08:50:50.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/share-migration.inc', 'manila/tests/api/v2/test_shares.py', 'manila/api/views/share_migration.py', 'releasenotes/notes/add-details-to-migration-get-progress-df8b3f2c524db1bd.yaml', 'manila/api/openstack/api_version_request.py', 'manila/api/openstack/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/aa62a8090ec3aa988bad89e2eb7535059fe8131f', 'message': 'add additional driver data to migration get progress view\n\nnew field `details` is introduced with microversion 2.59\n\nChange-Id: I91d455c585ff546cc65e57e8560f126a280eac8d\nCloses-Bug: #1902854\n'}]",4,761370,aa62a8090ec3aa988bad89e2eb7535059fe8131f,41,8,6,18816,,,0,"add additional driver data to migration get progress view

new field `details` is introduced with microversion 2.59

Change-Id: I91d455c585ff546cc65e57e8560f126a280eac8d
Closes-Bug: #1902854
",git fetch https://review.opendev.org/openstack/manila refs/changes/70/761370/5 && git format-patch -1 --stdout FETCH_HEAD,['manila/api/views/share_migration.py'],1,f7fb9ff4d7abf8cc05ba25202e040c67aa04d7af,bug/1902854," **progress,"," 'total_progress': progress['total_progress'],",1,1
openstack%2Foctavia~master~Ib8549d71b7adb95d0dcb36903c1744190056adae,openstack/octavia,master,Ib8549d71b7adb95d0dcb36903c1744190056adae,Add default value for enabled column in l7rule table,MERGED,2020-11-04 07:06:27.000000000,2021-02-01 21:07:25.000000000,2021-02-01 21:05:45.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 32029}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-11-04 07:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3f14ea5643953820a4515824c431d05ec60e7aae', 'message': ""Add default value for enabled column in l7rule table\n\nwe don't set default value for enabled column now,\nand mysql will fill them with 0 value(false)\nif we upgrade from ocata or ealier, all l7rules is disabled.\nso they will not render to haproxy config file in amphora.\nthis will cause all l7rules  stop work after a update.\n\nChange-Id: Ib8549d71b7adb95d0dcb36903c1744190056adae\n""}, {'number': 2, 'created': '2020-12-03 07:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8e5df59f8ad52b3aafcbfbacb30e40d0bf670e2b', 'message': ""Add default value for enabled column in l7rule table\n\nwe don't set default value for enabled column now,\nand mysql will fill them with 0 value(false)\nif we upgrade from ocata or ealier, all l7rules is disabled.\nso they will not render to haproxy config file in amphora.\nthis will cause all l7rules  stop work after a update.\n\nChange-Id: Ib8549d71b7adb95d0dcb36903c1744190056adae\n""}, {'number': 3, 'created': '2020-12-04 07:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/52345125bbe954155fe03de35c9a00061fe2368d', 'message': ""Add default value for enabled column in l7rule table\n\nwe don't set default value for enabled column now,\nand mysql will fill them with 0 value(false)\nif we upgrade from ocata or ealier, all l7rules is disabled.\nso they will not render to haproxy config file in amphora.\nthis will cause all l7rules  stop work after a update.\n\nChange-Id: Ib8549d71b7adb95d0dcb36903c1744190056adae\n""}, {'number': 4, 'created': '2020-12-04 09:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/954e99315a4ed3fefe88f3183b762628275e5064', 'message': ""Add default value for enabled column in l7rule table\n\nwe don't set default value for enabled column now,\nand mysql will fill them with 0 value(false)\nif we upgrade from ocata or ealier, all l7rules is disabled.\nso they will not render to haproxy config file in amphora.\nthis will cause all l7rules  stop work after a update.\n\nChange-Id: Ib8549d71b7adb95d0dcb36903c1744190056adae\n""}, {'number': 5, 'created': '2020-12-25 14:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/133c041b31e878f12972143da82041cfa5b58e48', 'message': ""Add default value for enabled column in l7rule table\n\nwe don't set default value for enabled column now,\nand mysql will fill them with 0 value(false)\nif we upgrade from ocata or ealier, all l7rules is disabled.\nso they will not render to haproxy config file in amphora.\nthis will cause all l7rules  stop work after a update.\n\nChange-Id: Ib8549d71b7adb95d0dcb36903c1744190056adae\n""}, {'number': 6, 'created': '2021-01-28 21:31:43.000000000', 'files': ['octavia/db/migration/alembic_migrations/versions/b8bd389cbae7_update_default_value_in_l7rule_table.py', 'octavia/db/migration/alembic_migrations/versions/d85ca7258d21_modernize_l7rule.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/53f8c28aa3fadc0feaaad9d073f006dc36a39b7a', 'message': ""Add default value for enabled column in l7rule table\n\nwe don't set default value for enabled column now,\nand mysql will fill them with 0 value(false)\nif we upgrade from ocata or ealier, all l7rules is disabled.\nso they will not render to haproxy config file in amphora.\nthis will cause all l7rules  stop work after a update.\n\nChange-Id: Ib8549d71b7adb95d0dcb36903c1744190056adae\n""}]",5,761283,53f8c28aa3fadc0feaaad9d073f006dc36a39b7a,39,8,6,26285,,,0,"Add default value for enabled column in l7rule table

we don't set default value for enabled column now,
and mysql will fill them with 0 value(false)
if we upgrade from ocata or ealier, all l7rules is disabled.
so they will not render to haproxy config file in amphora.
this will cause all l7rules  stop work after a update.

Change-Id: Ib8549d71b7adb95d0dcb36903c1744190056adae
",git fetch https://review.opendev.org/openstack/octavia refs/changes/83/761283/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/db/migration/alembic_migrations/versions/d85ca7258d21_modernize_l7rule.py'],1,3f14ea5643953820a4515824c431d05ec60e7aae,," sa.Column(u'enabled', sa.Boolean(), server_default=sa.sql.expression.true(), nullable=False)"," sa.Column(u'enabled', sa.Boolean(), nullable=False)",3,1
openstack%2Fmanila~master~I3882fe5b1ad4a6cc71c13ea70fd6aea10430c42e,openstack/manila,master,I3882fe5b1ad4a6cc71c13ea70fd6aea10430c42e,[Native CephFS] Add messages for async ACL ops,MERGED,2021-01-26 07:44:42.000000000,2021-02-01 20:53:15.000000000,2021-02-01 20:50:46.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-01-26 07:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3ecbeb307f55cb8bc718c4631ee146d5a2fd9d13', 'message': '[Native CephFS] Add messages for async ACL ops\n\nAccess rules added to CephFS shares can fail\nat the driver, or by the ceph volume client library.\nSince the share manager can supply rule changes to\nthe driver in batches, the driver has to gracefully\nhandle individual rule failures.\n\nFurther some of the causes of the access rule\nfailures can be remedied by end users, therefore\nasynchronous user messages would be a good vehicle\nto register user faults that can be examined and\ncorrected.\n\nRelated-Bug: #1904015\n[1] https://cve.mitre.org/cgi-bin/cvename.cgi?name=2020-27781\n\nChange-Id: I3882fe5b1ad4a6cc71c13ea70fd6aea10430c42e\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2021-01-28 03:47:18.000000000', 'files': ['manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'manila/message/message_field.py', 'manila/exception.py', 'releasenotes/notes/bug-1904015-cve-2020-27781-cephx-asynchronous-msgs-6a683076a1fb5a54.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/da3ab2cf4512716fa47a16315e98e610fbaed829', 'message': '[Native CephFS] Add messages for async ACL ops\n\nAccess rules added to CephFS shares can fail\nat the driver, or by the ceph volume client library.\nSince the share manager can supply rule changes to\nthe driver in batches, the driver has to gracefully\nhandle individual rule failures.\n\nFurther some of the causes of the access rule\nfailures can be remedied by end users, therefore\nasynchronous user messages would be a good vehicle\nto register user faults that can be examined and\ncorrected.\n\nRelated-Bug: #1904015\n[1] https://cve.mitre.org/cgi-bin/cvename.cgi?name=2020-27781\n\nChange-Id: I3882fe5b1ad4a6cc71c13ea70fd6aea10430c42e\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,772474,da3ab2cf4512716fa47a16315e98e610fbaed829,22,5,2,16643,,,0,"[Native CephFS] Add messages for async ACL ops

Access rules added to CephFS shares can fail
at the driver, or by the ceph volume client library.
Since the share manager can supply rule changes to
the driver in batches, the driver has to gracefully
handle individual rule failures.

Further some of the causes of the access rule
failures can be remedied by end users, therefore
asynchronous user messages would be a good vehicle
to register user faults that can be examined and
corrected.

Related-Bug: #1904015
[1] https://cve.mitre.org/cgi-bin/cvename.cgi?name=2020-27781

Change-Id: I3882fe5b1ad4a6cc71c13ea70fd6aea10430c42e
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/74/772474/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'manila/message/message_field.py', 'manila/exception.py', 'releasenotes/notes/bug-1904015-cve-2020-27781-cephx-asynchronous-msgs-6a683076a1fb5a54.yaml']",5,3ecbeb307f55cb8bc718c4631ee146d5a2fd9d13,CVE-2020-27781,--- fixes: - | New user messages now alert users of possible remediations during access rule creation errors with CephFS shares. This includes hints to users to not use cephx client users that are prohibited by CephFS or the share driver. See `CVE-2020-27781 <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-27781>`_ and bug #1904015 <https://launchpad.net/bugs/1904015>`_ for more details. ,,155,23
openstack%2Fnova~master~I28ad999c49d4e11add54405b89185b3f56f165b5,openstack/nova,master,I28ad999c49d4e11add54405b89185b3f56f165b5,Raise 409 when removing security group from instance,MERGED,2020-06-15 12:10:52.000000000,2021-02-01 20:20:55.000000000,2021-02-01 20:17:58.000000000,"[{'_account_id': 782}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9542}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-06-15 12:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c7720f090a742f4d12e99abe11764290ae3b02c', 'message': 'Raise 409 when removing security group from instance\n\ncurrently when attempting to remove a security group from instance, nova\napi returns 500 when there are more than one secuity groups with such\nname in the project.\n\nThis patch makes it return 409 Conflict, using the same logic as already\npresent when adding a security group to the instance in such scenario of\nduplicate names for security groups.\n\nChange-Id: I28ad999c49d4e11add54405b89185b3f56f165b5\n'}, {'number': 2, 'created': '2020-06-15 12:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6865909f0805e40d52db908a3caa51cb977f4d38', 'message': 'Raise 409 when removing security group from instance\n\ncurrently when attempting to remove a security group from instance, nova\napi returns 500 when there are more than one secuity groups with such\nname in the project.\n\nThis patch makes it return 409 Conflict, using the same logic as already\npresent when adding a security group to the instance in such scenario of\nduplicate names for security groups.\n\nChange-Id: I28ad999c49d4e11add54405b89185b3f56f165b5\n'}, {'number': 3, 'created': '2020-06-15 15:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e1a9ce3b4eabef06c0fa30e9c573e5f883f8d35', 'message': 'Raise 409 when removing security group from instance\n\ncurrently when attempting to remove a security group from instance, nova\napi returns 500 when there are more than one secuity groups with such\nname in the project.\n\nThis patch makes it return 409 Conflict, using the same logic as already\npresent when adding a security group to the instance in such scenario of\nduplicate names for security groups.\n\nChange-Id: I28ad999c49d4e11add54405b89185b3f56f165b5\n'}, {'number': 4, 'created': '2020-07-30 16:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f417cb80b2e4808455f20e3e9a1fb92baad4a41a', 'message': 'Raise 409 when removing security group from instance\n\ncurrently when attempting to remove a security group from instance, nova\napi returns 500 when there are more than one secuity groups with such\nname in the project.\n\nThis patch makes it return 409 Conflict, using the same logic as already\npresent when adding a security group to the instance in such scenario of\nduplicate names for security groups.\n\nChange-Id: I28ad999c49d4e11add54405b89185b3f56f165b5\nCloses-Bug: 1889655\n'}, {'number': 5, 'created': '2020-09-03 14:57:57.000000000', 'files': ['nova/network/security_group_api.py', 'nova/tests/unit/network/test_security_group.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/696c8a95f60178b799498dac443371efe5cd23fe', 'message': 'Raise 409 when removing security group from instance\n\ncurrently when attempting to remove a security group from instance, nova\napi returns 500 when there are more than one secuity groups with such\nname in the project.\n\nThis patch makes it return 409 Conflict, using the same logic as already\npresent when adding a security group to the instance in such scenario of\nduplicate names for security groups.\n\nChange-Id: I28ad999c49d4e11add54405b89185b3f56f165b5\nCloses-Bug: 1889655\n'}]",5,735572,696c8a95f60178b799498dac443371efe5cd23fe,51,15,5,9542,,,0,"Raise 409 when removing security group from instance

currently when attempting to remove a security group from instance, nova
api returns 500 when there are more than one secuity groups with such
name in the project.

This patch makes it return 409 Conflict, using the same logic as already
present when adding a security group to the instance in such scenario of
duplicate names for security groups.

Change-Id: I28ad999c49d4e11add54405b89185b3f56f165b5
Closes-Bug: 1889655
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/735572/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/security_group_api.py'],1,8c7720f090a742f4d12e99abe11764290ae3b02c,bug/1889655, except n_exc.NeutronClientNoUniqueMatch as e: raise exception.NoUniqueMatch(six.text_type(e)),,2,0
openstack%2Fnetworking-ovn~stable%2Ftrain~I54ede5de8cbfc5ac57a536dd1113be1213edc6e4,openstack/networking-ovn,stable/train,I54ede5de8cbfc5ac57a536dd1113be1213edc6e4,Ensure ovsdb_probe_interval set before connect(),MERGED,2020-12-08 01:32:08.000000000,2021-02-01 20:17:50.000000000,2021-02-01 20:15:53.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-08 01:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/de4709c1c30d9abe9bd638c8e3bb04283a7671c9', 'message': ""Ensure ovsdb_probe_interval set before connect()\n\nSetting the ovsdb_probe_interval after Connection.start() is\ncalled means that the probe interval is not changed from\npython-ovs's default of 5s until after the initial copy of the\ndatabase is retrieved. On busy systems, this can time out and\ncause infinite reconnects.\n\nThis patch passes the probe_interval argument to the ovs.db.Idl\nclass so that it can be set as part of creating the jsonrpc\nSession.\n\nSome unit tests were removed and replaced with a functional test\nwhich ensures not just that set_probe_interval is called, but that\nthe value is actually set before the connection is established.\n\nCloses-bug: #1905611\n(based on neutron commit 311071f567cc33d9868ba317536da18b7071d14e)\n\nChange-Id: I54ede5de8cbfc5ac57a536dd1113be1213edc6e4\n""}, {'number': 2, 'created': '2021-01-22 23:00:03.000000000', 'files': ['networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/tests/functional/test_ovsdb_monitor.py', 'networking_ovn/tests/unit/ovsdb/test_impl_idl_ovn.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/agent/metadata/ovsdb.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4566ea890ff86137c756cf02db472db4bbca92e0', 'message': ""Ensure ovsdb_probe_interval set before connect()\n\nSetting the ovsdb_probe_interval after Connection.start() is\ncalled means that the probe interval is not changed from\npython-ovs's default of 5s until after the initial copy of the\ndatabase is retrieved. On busy systems, this can time out and\ncause infinite reconnects.\n\nThis patch passes the probe_interval argument to the ovs.db.Idl\nclass so that it can be set as part of creating the jsonrpc\nSession.\n\nSome unit tests were removed and replaced with a functional test\nwhich ensures not just that set_probe_interval is called, but that\nthe value is actually set before the connection is established.\n\nCloses-bug: #1905611\n(based on neutron commit 5783e952887b2fe5e8aaa32b3077e8dcdefa7252)\n\nChange-Id: I54ede5de8cbfc5ac57a536dd1113be1213edc6e4\n""}]",2,765896,4566ea890ff86137c756cf02db472db4bbca92e0,39,3,2,5756,,,0,"Ensure ovsdb_probe_interval set before connect()

Setting the ovsdb_probe_interval after Connection.start() is
called means that the probe interval is not changed from
python-ovs's default of 5s until after the initial copy of the
database is retrieved. On busy systems, this can time out and
cause infinite reconnects.

This patch passes the probe_interval argument to the ovs.db.Idl
class so that it can be set as part of creating the jsonrpc
Session.

Some unit tests were removed and replaced with a functional test
which ensures not just that set_probe_interval is called, but that
the value is actually set before the connection is established.

Closes-bug: #1905611
(based on neutron commit 5783e952887b2fe5e8aaa32b3077e8dcdefa7252)

Change-Id: I54ede5de8cbfc5ac57a536dd1113be1213edc6e4
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/96/765896/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/ovsdb/impl_idl_ovn.py', 'networking_ovn/tests/functional/test_ovsdb_monitor.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/unit/ovsdb/test_impl_idl_ovn.py', 'networking_ovn/agent/metadata/ovsdb.py']",5,de4709c1c30d9abe9bd638c8e3bb04283a7671c9,," ovs_idl = idl.Idl( connection_string, helper, probe_interval=config.get_ovn_ovsdb_probe_interval())"," ovs_idl = idl.Idl(connection_string, helper)",46,75
openstack%2Fpython-tripleoclient~master~I1f00077b1e91a41da135e7abaa0a16d9f4b82e8c,openstack/python-tripleoclient,master,I1f00077b1e91a41da135e7abaa0a16d9f4b82e8c,Locally keep deployment_status,MERGED,2021-01-28 02:34:32.000000000,2021-02-01 20:10:47.000000000,2021-02-01 20:05:15.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-28 02:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1bb587122b1d77c61578d66580d389ace277f941', 'message': 'Locally keep deployment_status\n\nThis changes to keep the deployment status in a\nlocal file as we plan to remove swift.\n\nChange-Id: I1f00077b1e91a41da135e7abaa0a16d9f4b82e8c\n'}, {'number': 2, 'created': '2021-02-01 05:26:00.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6e802d23e3a06520a0e891dd2d9b15196b29105e', 'message': 'Locally keep deployment_status\n\nThis changes to keep the deployment status in a\nlocal file as we plan to remove swift.\n\nChange-Id: I1f00077b1e91a41da135e7abaa0a16d9f4b82e8c\n'}]",5,772820,6e802d23e3a06520a0e891dd2d9b15196b29105e,18,4,2,8833,,,0,"Locally keep deployment_status

This changes to keep the deployment status in a
local file as we plan to remove swift.

Change-Id: I1f00077b1e91a41da135e7abaa0a16d9f4b82e8c
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/20/772820/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",4,1bb587122b1d77c61578d66580d389ace277f941,env_merging," stack.stack_name, stack.stack_name, stack.stack_name, plan"," clients=self.clients, plan=stack.stack_name, clients=self.clients, plan=stack.stack_name, clients=self.clients, plan=stack.stack_name, plan=plan",31,93
openstack%2Fpython-tripleoclient~master~I1e8fc089de503cf96ea3812972e574add43ff631,openstack/python-tripleoclient,master,I1e8fc089de503cf96ea3812972e574add43ff631,Archive overcloud deploy artifacts,MERGED,2021-01-27 04:45:31.000000000,2021-02-01 20:06:59.000000000,2021-02-01 20:05:10.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-27 04:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/730f5d0d629885c058ef4bf868d1703fcf74ddac', 'message': 'Archive overcloud deploy artefacts\n\nThis also refactors archiving method to utils.\n\nChange-Id: I1e8fc089de503cf96ea3812972e574add43ff631\n'}, {'number': 2, 'created': '2021-01-27 05:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bd7dc6e83b644d3d48a74ac81c30af2d20c855c5', 'message': 'Archive overcloud deploy artifacts\n\nThis also refactors archiving method to utils.\n\nChange-Id: I1e8fc089de503cf96ea3812972e574add43ff631\n'}, {'number': 3, 'created': '2021-02-01 05:26:00.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2bd39e61dc53ba6aec3dca8dbc9ca9ccad2ee78a', 'message': 'Archive overcloud deploy artifacts\n\nThis also refactors archiving method to utils.\n\nChange-Id: I1e8fc089de503cf96ea3812972e574add43ff631\n'}]",0,772622,2bd39e61dc53ba6aec3dca8dbc9ca9ccad2ee78a,34,4,3,8833,,,0,"Archive overcloud deploy artifacts

This also refactors archiving method to utils.

Change-Id: I1e8fc089de503cf96ea3812972e574add43ff631
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/22/772622/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",4,730f5d0d629885c058ef4bf868d1703fcf74ddac,env_merging," utils.archive_deploy_artefacts(self.log, parsed_args.stack, new_tht_root)",,53,49
openstack%2Fpuppet-tripleo~master~I265ac3762823ea8930cc43150dc7b317f337f709,openstack/puppet-tripleo,master,I265ac3762823ea8930cc43150dc7b317f337f709,Refactor how key manager backend is set,MERGED,2021-01-24 04:38:58.000000000,2021-02-01 20:05:07.000000000,2021-02-01 20:05:07.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2021-01-24 04:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/05cf6cde043154a6c5fec9a517bc308b19b059cf', 'message': 'Clean up how key manager backend is set for nova-compute\n\nThis change refactors current implementation to determine key manager\nbackend for nova-compute, based on the following two points.\n\n- keymgr_api_class was deprecated a while ago. We can remove this\n  parameter now.\n\n- There are now requirement to redefine the parameter in puppet-tripleo\n  and we can use the interface implemented in puppet-nova directly.\n\nChange-Id: I265ac3762823ea8930cc43150dc7b317f337f709\n'}, {'number': 2, 'created': '2021-01-24 04:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/74ed673d842746fd91392306e79574537b7e5bd5', 'message': 'Clean up how key manager backend is set for nova-compute\n\nThis change refactors current implementation to determine key manager\nbackend for nova-compute, based on the following two points.\n\n- keymgr_api_class was deprecated a while ago. We can remove this\n  parameter now.\n\n- There are now requirement to redefine the parameter in puppet-tripleo\n  and we can use the interface implemented in puppet-nova directly.\n\nChange-Id: I265ac3762823ea8930cc43150dc7b317f337f709\n'}, {'number': 3, 'created': '2021-01-24 04:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/78b411de2573ac2f58deb364ff10828c6a9dd006', 'message': ""Clean up how key manager backend is set for nova-compute\n\nThis change refactors current implementation to determine key manager\nbackend for nova-compute, based on the following two points.\n\n- keymgr_api_class was deprecated a while ago. We can remove this\n  parameter now.\n\n- We don't have to redefine the parameter in puppet-tripleo layer but\n  we can use the parameter implemented in puppet-nova directly.\n\nChange-Id: I265ac3762823ea8930cc43150dc7b317f337f709\n""}, {'number': 4, 'created': '2021-01-24 04:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/242946aaf99efbc5bdb52708711903b6ebd64901', 'message': ""Refactor how key manager backend is set for nova-compute\n\nThis change refactors current implementation to determine key manager\nbackend for nova-compute, based on the following two points.\n\n- keymgr_api_class was deprecated a while ago. We can remove this\n  parameter now.\n\n- We don't have to redefine the parameter in puppet-tripleo layer but\n  we can use the parameter implemented in puppet-nova directly.\n\nChange-Id: I265ac3762823ea8930cc43150dc7b317f337f709\n""}, {'number': 5, 'created': '2021-01-24 04:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b9eec2df4b398baeefd5f9389b3d32a1c2319e87', 'message': ""Refactor how key manager backend is set\n\nThis change refactors current implementation to determine key manager\nbackend for cinder and nova, based on the following two points.\n\n- keymgr_api_class was deprecated a while ago. We can remove this\n  parameter now.\n\n- We don't have to redefine the parameter in puppet-tripleo layer but\n  we can use the parameter implemented in puppet-nova or puppet-cinder\n  directly.\n\nChange-Id: I265ac3762823ea8930cc43150dc7b317f337f709\n""}, {'number': 6, 'created': '2021-01-24 04:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8857a9459488bb38acbd3ef3f66d12ecbdd6685b', 'message': ""Refactor how key manager backend is set\n\nThis change refactors current implementation to determine key manager\nbackend for cinder and nova, based on the following two points.\n\n- keymgr_api_class was deprecated a while ago. We can remove this\n  parameter now.\n\n- We don't have to redefine the parameter in puppet-tripleo layer but\n  we can use the parameter implemented in puppet-nova or puppet-cinder\n  directly.\n\nChange-Id: I265ac3762823ea8930cc43150dc7b317f337f709\n""}, {'number': 7, 'created': '2021-01-30 06:51:52.000000000', 'files': ['manifests/profile/base/nova/compute.pp', 'spec/classes/tripleo_profile_base_cinder_api_spec.rb', 'spec/fixtures/hieradata/step4.yaml', 'spec/classes/tripleo_profile_base_nova_compute_spec.rb', 'manifests/profile/base/cinder/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c376d64e5f0b38165fa50feee04c2de0e1d851bc', 'message': ""Refactor how key manager backend is set\n\nThis change refactors current implementation to determine key manager\nbackend for cinder and nova, based on the following two points.\n\n- keymgr_api_class was deprecated a while ago. We can remove this\n  parameter now.\n\n- We don't have to redefine the parameter in puppet-tripleo layer but\n  we can use the parameter implemented in puppet-nova or puppet-cinder\n  directly.\n\nChange-Id: I265ac3762823ea8930cc43150dc7b317f337f709\n""}]",0,772184,c376d64e5f0b38165fa50feee04c2de0e1d851bc,19,6,7,9816,,,0,"Refactor how key manager backend is set

This change refactors current implementation to determine key manager
backend for cinder and nova, based on the following two points.

- keymgr_api_class was deprecated a while ago. We can remove this
  parameter now.

- We don't have to redefine the parameter in puppet-tripleo layer but
  we can use the parameter implemented in puppet-nova or puppet-cinder
  directly.

Change-Id: I265ac3762823ea8930cc43150dc7b317f337f709
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/84/772184/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/nova/compute.pp', 'spec/fixtures/hieradata/step4.yaml', 'spec/classes/tripleo_profile_base_nova_compute_spec.rb']",3,05cf6cde043154a6c5fec9a517bc308b19b059cf,n-cmp-keymgr," is_expected.to contain_class('tripleo::profile::base::nova::compute') is_expected.to contain_class('tripleo::profile::base::nova::compute') is_expected.to contain_class('nova::compute') :step => 4, :keymgr_backend => 'some.other.key_manager',"," is_expected.to contain_class('tripleo::profile::base::nova::compute').with( # Verify legacy key manager is enabled when none is set in hiera. :keymgr_backend => 'nova.keymgr.conf_key_mgr.ConfKeyManager', ) is_expected.to contain_class('tripleo::profile::base::nova::compute').with( # Verify proper key manager is enabled when value is set in hiera. :keymgr_backend => 'castellan.key_manager.barbican_key_manager.BarbicanKeyManager', ) is_expected.to contain_class('nova::compute').with( :keymgr_backend => 'castellan.key_manager.barbican_key_manager.BarbicanKeyManager', ) :step => 4, :keymgr_api_class => 'some.other.key_manager',",16,35
openstack%2Fopenstack-ansible~stable%2Fvictoria~I0b7a077cc8ab43cedd198e094e473aaf4eafebdd,openstack/openstack-ansible,stable/victoria,I0b7a077cc8ab43cedd198e094e473aaf4eafebdd,Increase git clone depth from 10 to 20,MERGED,2021-02-01 13:37:48.000000000,2021-02-01 19:41:33.000000000,2021-02-01 19:35:46.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-02-01 13:37:48.000000000', 'files': ['scripts/get-ansible-role-requirements.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3512f89b98b71f8ab1eaab27becc04f0534bea5a', 'message': 'Increase git clone depth from 10 to 20\n\nThe following error occured when cloning ceph-ansible.\n\ncmdline: git reset --hard 54f7983be281f88714cbc75d393efa637e37ce17\nstderr: \'fatal: Could not parse object \'54f7983be281f88714cbc75d393efa637e37ce17\'.\'""]\n\nThere had been more than 10 commits to ceph-ansible since the previous OSA\nsha bump so the role could not be cloned with depth=10. Double the clone depth\nto make this less likley to happen\n\nIn addition this patch makes all centos-8 jobs non voting as this change plus\nIf765e3ca47aa0b05214306fba36f5c659d3d7373 is required to make centos-8\njobs pass tests again.\n\nChange-Id: I0b7a077cc8ab43cedd198e094e473aaf4eafebdd\n'}]",0,773391,3512f89b98b71f8ab1eaab27becc04f0534bea5a,8,3,1,25023,,,0,"Increase git clone depth from 10 to 20

The following error occured when cloning ceph-ansible.

cmdline: git reset --hard 54f7983be281f88714cbc75d393efa637e37ce17
stderr: 'fatal: Could not parse object '54f7983be281f88714cbc75d393efa637e37ce17'.'""]

There had been more than 10 commits to ceph-ansible since the previous OSA
sha bump so the role could not be cloned with depth=10. Double the clone depth
to make this less likley to happen

In addition this patch makes all centos-8 jobs non voting as this change plus
If765e3ca47aa0b05214306fba36f5c659d3d7373 is required to make centos-8
jobs pass tests again.

Change-Id: I0b7a077cc8ab43cedd198e094e473aaf4eafebdd
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/91/773391/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/get-ansible-role-requirements.yml', 'zuul.d/jobs.yaml']",2,3512f89b98b71f8ab1eaab27becc04f0534bea5a,osa-clone-depth, voting: false voting: false voting: false voting: false voting: false voting: false voting: false voting: false voting: false voting: false voting: false voting: false,,14,2
openstack%2Fkuryr-kubernetes~master~I198e1c2131b88009e87492f920d2579f20490989,openstack/kuryr-kubernetes,master,I198e1c2131b88009e87492f920d2579f20490989,Bump kubernetes verrion to 1.19.1.,MERGED,2021-01-28 13:11:28.000000000,2021-02-01 19:05:59.000000000,2021-02-01 19:04:06.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-01-28 13:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c37f3e48f456dd5ab9bb11596a4fad7c9d3e267f', 'message': 'WIP\n\nChange-Id: I198e1c2131b88009e87492f920d2579f20490989\n'}, {'number': 2, 'created': '2021-02-01 11:09:03.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/28b315ecd0f1ed8ea592652c779329bf4e042361', 'message': 'Bump kubernetes verrion to 1.19.1.\n\nChange-Id: I198e1c2131b88009e87492f920d2579f20490989\n'}]",0,772877,28b315ecd0f1ed8ea592652c779329bf4e042361,11,4,2,13692,,,0,"Bump kubernetes verrion to 1.19.1.

Change-Id: I198e1c2131b88009e87492f920d2579f20490989
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/77/772877/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,c37f3e48f456dd5ab9bb11596a4fad7c9d3e267f,k8s-1.19.1,KURYR_KUBERNETES_VERSION=${KURYR_KUBERNETES_VERSION:-v1.19.1},KURYR_KUBERNETES_VERSION=${KURYR_KUBERNETES_VERSION:-v1.18.0},3,3
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ice5e1cfbc158eb6705988706c8625bedb80d7de2,openstack/tripleo-heat-templates,stable/victoria,Ice5e1cfbc158eb6705988706c8625bedb80d7de2,Deprecate environments/dcn-hci.yaml for dcn-storage.yaml,MERGED,2021-01-31 22:01:12.000000000,2021-02-01 18:50:33.000000000,2021-02-01 18:48:45.000000000,"[{'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-31 22:01:12.000000000', 'files': ['releasenotes/notes/dcn-hci-storage-rename-0b1c17dd50f4cc9a.yaml', 'environments/dcn-hci.yaml', 'sample-env-generator/dcn.yaml', 'environments/dcn-storage.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d0638ecac61681c54b657c02bf140401a416b3a', 'message': 'Deprecate environments/dcn-hci.yaml for dcn-storage.yaml\n\nRename the file in the environments directory so that it\nreflects its expanded scope. This file is used when\ndeploying storage with DCN sites regardless of if those\nsites use HCI. We are now supporting non-HCI DCN sites\nwith storage so the old name is confusing.\n\nOld name : dcn-hci.yaml\nNew name : dcn-storage.yaml\n\ndcn-hci.yaml is depreacated but will remain in the environments\ndirectory for backwards compatibility. dcn-hci.yaml will be\nremoved during the X cycle.\n\nChange-Id: Ice5e1cfbc158eb6705988706c8625bedb80d7de2\n(cherry picked from commit d4ae25e2fd53d1af59fa57947843474cf5c2887a)\n'}]",0,773204,8d0638ecac61681c54b657c02bf140401a416b3a,11,3,1,18002,,,0,"Deprecate environments/dcn-hci.yaml for dcn-storage.yaml

Rename the file in the environments directory so that it
reflects its expanded scope. This file is used when
deploying storage with DCN sites regardless of if those
sites use HCI. We are now supporting non-HCI DCN sites
with storage so the old name is confusing.

Old name : dcn-hci.yaml
New name : dcn-storage.yaml

dcn-hci.yaml is depreacated but will remain in the environments
directory for backwards compatibility. dcn-hci.yaml will be
removed during the X cycle.

Change-Id: Ice5e1cfbc158eb6705988706c8625bedb80d7de2
(cherry picked from commit d4ae25e2fd53d1af59fa57947843474cf5c2887a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/773204/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/dcn-hci-storage-rename-0b1c17dd50f4cc9a.yaml', 'environments/dcn-hci.yaml', 'sample-env-generator/dcn.yaml', 'environments/dcn-storage.yaml']",4,8d0638ecac61681c54b657c02bf140401a416b3a,dcn-storage-stable/victoria,"# ******************************************************************* # This file was created automatically by the sample environment # generator. Developers should use `tox -e genconfig` to update it. # Users are recommended to make changes to a copy of the file instead # of the original, if any customizations are needed. # ******************************************************************* # title: Distributed Compute Node with storage # description: | # Environment file for deploying a remote site of distributed compute # nodes (DCN) in a separate stack (multi-stack) deployment with storage; # either HCI or with separate storage nodes. It should be used in # combination with environments/ceph-ansible/ceph-ansible.yaml. parameter_defaults: # When running Cinder A/A, whether to connect to Etcd via the local IP for the Etcd network. If set to true, the ip on the local node will be used. If set to false, the VIP on the Etcd network will be used instead. Defaults to false. # Type: boolean CinderEtcdLocalConnect: True # The Cinder service's storage availability zone. # Type: string CinderStorageAvailabilityZone: dcn # The cluster name used for deploying the cinder-volume service in an active-active (A/A) configuration. This configuration requires the Cinder backend drivers support A/A, and the cinder-volume service not be managed by pacemaker. If these criteria are not met then the cluster name must be left blank. # Type: string CinderVolumeCluster: dcn # List of enabled Image Import Methods. Valid values in the list are 'glance-direct', 'web-download', or 'copy-image' # Type: comma_delimited_list GlanceEnabledImportMethods: web-download,copy-image # Manage the network and related resources (subnets and segments) with either create, update, or delete operations (depending on the stack operation). Does not apply to ports which will always be managed as needed. Defaults to true. For multi-stack use cases where the network related resources have already been managed by a separate stack, this parameter can be set to false. # Type: boolean ManageNetworks: False # The availability zone where new Nova compute nodes will be added. If the zone does not already exist, it will be created. If left unset, it will default to the value of the stack name. # Type: string NovaComputeAvailabilityZone: '' # Whether instances can attach cinder volumes from a different availability zone. # Type: boolean NovaCrossAZAttach: False # Refuse to boot an instance if it would require downloading from glance and uploading to ceph instead of a COW clone. # Type: boolean NovaDisableImageDownloadToRbd: True resource_registry: OS::TripleO::Network::Ports::OVNDBsVipPort: ../network/ports/noop.yaml OS::TripleO::Network::Ports::RedisVipPort: ../network/ports/noop.yaml OS::TripleO::Services::CinderVolumeEdge: ../deployment/cinder/cinder-volume-container-puppet.yaml OS::TripleO::Services::Etcd: ../deployment/etcd/etcd-container-puppet.yaml OS::TripleO::Services::GlanceApiEdge: ../deployment/glance/glance-api-edge-container-puppet.yaml OS::TripleO::Services::HAproxyEdge: ../deployment/haproxy/haproxy-edge-container-puppet.yaml OS::TripleO::Services::NovaAZConfig: ../deployment/nova/nova-az-config.yaml ",,70,5
openstack%2Ftripleo-heat-templates~master~I48665379a87e701633be1bcc90bd8be1cc75c513,openstack/tripleo-heat-templates,master,I48665379a87e701633be1bcc90bd8be1cc75c513,Split network validation to it's own play,MERGED,2021-01-29 14:27:24.000000000,2021-02-01 18:48:28.000000000,2021-02-01 18:48:28.000000000,"[{'_account_id': 6469}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-29 14:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a48cc4c2af24b22143547c1fef88857e81d71c2', 'message': ""Split network validation to it's own play\n\nWhen we moved the network deployment to free, we can hit a race\ncondition where some nodes are being configured prior to the controllers\nbeing ready. This can lead to the basic network validation failing.  We\ncan deal with this by moving the validation to it's own play so that we\nensure all network configurations have occurred prior to to checking\nthat nodes can ping the controllers.\n\nChange-Id: I48665379a87e701633be1bcc90bd8be1cc75c513\nCloses-Bug: #1913725\n""}, {'number': 2, 'created': '2021-01-29 14:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b98423dd63d426e9eb2bae33ecebc57df407f7e', 'message': ""Split network validation to it's own play\n\nWhen we moved the network deployment to free, we can hit a race\ncondition where some nodes are being configured prior to the controllers\nbeing ready. This can lead to the basic network validation failing.  We\ncan deal with this by moving the validation to it's own play so that we\nensure all network configurations have occurred prior to to checking\nthat nodes can ping the controllers.\n\nChange-Id: I48665379a87e701633be1bcc90bd8be1cc75c513\nCloses-Bug: #1913725\n""}, {'number': 3, 'created': '2021-01-29 14:34:09.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64e735898b8fae7643fc092fed840d867a252046', 'message': ""Split network validation to it's own play\n\nWhen we moved the network deployment to free, we can hit a race\ncondition where some nodes are being configured prior to the controllers\nbeing ready. This can lead to the basic network validation failing.  We\ncan deal with this by moving the validation to it's own play so that we\nensure all network configurations have occurred prior to to checking\nthat nodes can ping the controllers.\n\nChange-Id: I48665379a87e701633be1bcc90bd8be1cc75c513\nCloses-Bug: #1913725\n""}]",0,773069,64e735898b8fae7643fc092fed840d867a252046,18,6,3,14985,,,0,"Split network validation to it's own play

When we moved the network deployment to free, we can hit a race
condition where some nodes are being configured prior to the controllers
being ready. This can lead to the basic network validation failing.  We
can deal with this by moving the validation to it's own play so that we
ensure all network configurations have occurred prior to to checking
that nodes can ping the controllers.

Change-Id: I48665379a87e701633be1bcc90bd8be1cc75c513
Closes-Bug: #1913725
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/773069/3 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,9a48cc4c2af24b22143547c1fef88857e81d71c2,bug/1913725," tags: - overcloud - pre_deploy_steps - network_deploy_steps {% endraw %} - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST strategy: tripleo_free name: Server network validation gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" any_errors_fatal: yes tasks: {% raw %}{% endraw %} ",{% endraw %},16,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ic29810ae8e8d53d54a423e494b4446963f7c381c,openstack/tripleo-heat-templates,stable/victoria,Ic29810ae8e8d53d54a423e494b4446963f7c381c,"Remove External{Internal,Public,Admin}Url parameters",MERGED,2021-01-28 10:03:36.000000000,2021-02-01 18:48:23.000000000,2021-02-01 18:48:23.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-28 10:03:36.000000000', 'files': ['deployment/swift/external-swift-proxy-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95f2c33e344f8da99f3213f7fbff0498ee3af0b9', 'message': ""Remove External{Internal,Public,Admin}Url parameters\n\nThese were deprecated in stable/train and we don't want the deprecated\nparams to have precedence over the newer parameter names anymore.\n\nChange-Id: Ic29810ae8e8d53d54a423e494b4446963f7c381c\n(cherry picked from commit 42bf766c78fd802ee38cd9515ee09e38f78f8779)\n""}]",0,772804,95f2c33e344f8da99f3213f7fbff0498ee3af0b9,8,4,1,6796,,,0,"Remove External{Internal,Public,Admin}Url parameters

These were deprecated in stable/train and we don't want the deprecated
params to have precedence over the newer parameter names anymore.

Change-Id: Ic29810ae8e8d53d54a423e494b4446963f7c381c
(cherry picked from commit 42bf766c78fd802ee38cd9515ee09e38f78f8779)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/772804/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/external-swift-proxy-baremetal-puppet.yaml'],1,95f2c33e344f8da99f3213f7fbff0498ee3af0b9,, public: {get_param: ExternalSwiftPublicUrl} internal: {get_param: ExternalSwiftInternalUrl} admin: {get_param: ExternalSwiftAdminUrl}," ExternalPublicUrl: description: (DEPRECATED) Public endpoint url for the external swift proxy type: string default: 'deprecated' ExternalInternalUrl: description: (DEPRECATED) Internal endpoint url for the external swift proxy type: string default: 'deprecated' ExternalAdminUrl: description: (DEPRECATED) External endpoint url for the external swift proxy type: string default: 'deprecated'parameter_groups: - label: deprecated description: | The following parameters are deprecated and will be removed. They should not be relied on for new deployments. If you have concerns regarding deprecated parameters, please contact the TripleO development team on IRC or the OpenStack mailing list. parameters: - ExternalAdminUrl - ExternalInternalUrl - ExternalPublicUrl resources: conditions: deprecated_external_admin_url: {not: {equals: [{get_param: ExternalAdminUrl}, 'deprecated']}} deprecated_external_internal_url: {not: {equals: [{get_param: ExternalInternalUrl}, 'deprecated']}} deprecated_external_public_url: {not: {equals: [{get_param: ExternalPublicUrl}, 'deprecated']}} public: if: - deprecated_external_public_url - {get_param: ExternalPublicUrl} - {get_param: ExternalSwiftPublicUrl} internal: if: - deprecated_external_internal_url - {get_param: ExternalInternalUrl} - {get_param: ExternalSwiftInternalUrl} admin: if: - deprecated_external_admin_url - {get_param: ExternalAdminUrl} - {get_param: ExternalSwiftAdminUrl}",3,46
openstack%2Freleases~master~I1220d32320eab262625c1c4a9a276bc077d113a1,openstack/releases,master,I1220d32320eab262625c1c4a9a276bc077d113a1,Release ceilometer for stable/train,MERGED,2021-01-29 13:53:17.000000000,2021-02-01 18:39:09.000000000,2021-02-01 18:39:09.000000000,"[{'_account_id': 308}, {'_account_id': 4264}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-29 13:53:17.000000000', 'files': ['deliverables/train/ceilometer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f829160fe1e0a0e76ca3a515c1e88d5f68cd3f64', 'message': 'Release ceilometer for stable/train\n\nThis release picks up new commits to ceilometer since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I1220d32320eab262625c1c4a9a276bc077d113a1\n'}]",0,773037,f829160fe1e0a0e76ca3a515c1e88d5f68cd3f64,9,4,1,17685,,,0,"Release ceilometer for stable/train

This release picks up new commits to ceilometer since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I1220d32320eab262625c1c4a9a276bc077d113a1
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/773037/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ceilometer.yaml'],1,f829160fe1e0a0e76ca3a515c1e88d5f68cd3f64,train-stable, - version: 13.1.2 projects: - repo: openstack/ceilometer hash: 527e58bb852d3ef3a42e72691dc4a16b0e8006f8,,4,0
openstack%2Freleases~master~I1f0b93762181141626c39126cdaf3386819a1735,openstack/releases,master,I1f0b93762181141626c39126cdaf3386819a1735,Release openstacksdk for stable/train,MERGED,2021-01-29 14:41:20.000000000,2021-02-01 18:37:48.000000000,2021-02-01 18:37:48.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-29 14:41:20.000000000', 'files': ['deliverables/train/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8dd8db3d174f8d09166dc89c60c4f3b93e5b7992', 'message': 'Release openstacksdk for stable/train\n\nThis release picks up new commits to openstacksdk since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I1f0b93762181141626c39126cdaf3386819a1735\n'}]",0,773079,8dd8db3d174f8d09166dc89c60c4f3b93e5b7992,9,4,1,17685,,,0,"Release openstacksdk for stable/train

This release picks up new commits to openstacksdk since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I1f0b93762181141626c39126cdaf3386819a1735
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/773079/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/openstacksdk.yaml'],1,8dd8db3d174f8d09166dc89c60c4f3b93e5b7992,train-stable, - version: 0.36.5 projects: - repo: openstack/openstacksdk hash: feda828299e81a0dfbb87bfeec040a70ba930c3c,,4,0
openstack%2Fnova~master~I9bccd7e5a75ecf83a1fea3cfe88078c68f043429,openstack/nova,master,I9bccd7e5a75ecf83a1fea3cfe88078c68f043429,vmware tests: Support different moref backend representations,MERGED,2020-09-02 12:04:39.000000000,2021-02-01 18:28:22.000000000,2021-02-01 18:23:15.000000000,"[{'_account_id': 782}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-09-02 12:04:39.000000000', 'files': ['nova/tests/unit/virt/vmwareapi/fake.py', 'nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/df8a658bd93b8b6e072cd426d58676c5c7827a0d', 'message': ""vmware tests: Support different moref backend representations\n\nWe want to switch the SOAP library backing oslo.vmware [1], which\nchanges how a ManagedObjectReference's attributes look like. To handle\nthe two representations in the tests - especially for the transition\nperiod - we will set both attributes on fake.ManagedObjectReference.\nTherefore, we have to use fake.ManagedObjectReference everywhere instead\nof using manual Mock objects lacking one of the attributes.\n\n[1] https://specs.openstack.org/openstack/oslo-specs/specs/victoria/oslo-vmware-soap-library-switch.html\n\nChange-Id: I9bccd7e5a75ecf83a1fea3cfe88078c68f043429\n""}]",0,749488,df8a658bd93b8b6e072cd426d58676c5c7827a0d,14,8,1,26250,,,0,"vmware tests: Support different moref backend representations

We want to switch the SOAP library backing oslo.vmware [1], which
changes how a ManagedObjectReference's attributes look like. To handle
the two representations in the tests - especially for the transition
period - we will set both attributes on fake.ManagedObjectReference.
Therefore, we have to use fake.ManagedObjectReference everywhere instead
of using manual Mock objects lacking one of the attributes.

[1] https://specs.openstack.org/openstack/oslo-specs/specs/victoria/oslo-vmware-soap-library-switch.html

Change-Id: I9bccd7e5a75ecf83a1fea3cfe88078c68f043429
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/749488/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/vmwareapi/fake.py', 'nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util.py']",4,df8a658bd93b8b6e072cd426d58676c5c7827a0d,bp/oslo-vmware-soap-library-switch," host = fake.ManagedObjectReference(value='fake-host', name='HostSystem')", host = mock.Mock(spec=object) host.value = 'fake-host',10,12
openstack%2Fnova~master~Ic1c01366dbfdcfb85750b85f960b76aea934db59,openstack/nova,master,Ic1c01366dbfdcfb85750b85f960b76aea934db59,Restart glance after updating policy in job,MERGED,2021-01-29 22:33:11.000000000,2021-02-01 18:26:45.000000000,2021-02-01 18:22:46.000000000,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 22:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b623eccc7987198b94f857a313ff9ed51a56274', 'message': ""Restart glance after updating policy in job\n\nWhen we write out the glance policy for the multistore job, we do\nso after glance has already started. After the json->yaml change,\nwe will decide too early in g-api lifetime that the legacy file\nisn't present and thus never honor it later. So, create it and then\nrestart glance services.\n\nChange-Id: Ic1c01366dbfdcfb85750b85f960b76aea934db59\n""}, {'number': 2, 'created': '2021-01-29 23:18:17.000000000', 'files': ['playbooks/ceph/glance-copy-policy.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/cbe3cd9dc3ddc0b05fca500fd02018559cebf67d', 'message': ""Restart glance after updating policy in job\n\nWhen we write out the glance policy for the multistore job, we do\nso after glance has already started. After the json->yaml change,\nwe will decide too early in g-api lifetime that the legacy file\nisn't present and thus never honor it later. So, create it and then\nrestart glance services.\n\nChange-Id: Ic1c01366dbfdcfb85750b85f960b76aea934db59\n""}]",0,773192,cbe3cd9dc3ddc0b05fca500fd02018559cebf67d,17,5,2,4393,,,0,"Restart glance after updating policy in job

When we write out the glance policy for the multistore job, we do
so after glance has already started. After the json->yaml change,
we will decide too early in g-api lifetime that the legacy file
isn't present and thus never honor it later. So, create it and then
restart glance services.

Change-Id: Ic1c01366dbfdcfb85750b85f960b76aea934db59
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/773192/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ceph/glance-copy-policy.yaml'],1,9b623eccc7987198b94f857a313ff9ed51a56274,glance-policy-restart, systemctl restart 'devstack@g-*',,1,0
openstack%2Freleases~master~I8b49ce6792b2a92d1e0c5d54535993ecad93b2d8,openstack/releases,master,I8b49ce6792b2a92d1e0c5d54535993ecad93b2d8,Release ironic-python-agent for stable/train,MERGED,2021-01-29 14:06:38.000000000,2021-02-01 18:25:36.000000000,2021-02-01 18:25:36.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-29 14:06:38.000000000', 'files': ['deliverables/train/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/aeb528c6c6c5b101fc9e60e310cd29549692e522', 'message': 'Release ironic-python-agent for stable/train\n\nThis release picks up new commits to ironic-python-agent since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I8b49ce6792b2a92d1e0c5d54535993ecad93b2d8\n'}]",0,773048,aeb528c6c6c5b101fc9e60e310cd29549692e522,9,6,1,17685,,,0,"Release ironic-python-agent for stable/train

This release picks up new commits to ironic-python-agent since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I8b49ce6792b2a92d1e0c5d54535993ecad93b2d8
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/773048/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ironic-python-agent.yaml'],1,aeb528c6c6c5b101fc9e60e310cd29549692e522,train-stable, - version: 5.0.4 projects: - repo: openstack/ironic-python-agent hash: 10059c535fe7b77d8d73918ca1316cfcc856b351,,4,0
openstack%2Freleases~master~Iefa3f075d513948cdad7895126adfd94a59725c2,openstack/releases,master,Iefa3f075d513948cdad7895126adfd94a59725c2,Release ironic-lib for stable/train,MERGED,2021-01-29 14:05:05.000000000,2021-02-01 18:24:41.000000000,2021-02-01 18:24:41.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-29 14:05:05.000000000', 'files': ['deliverables/train/ironic-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ed30f8f820032371a5d0796a78d6e1418023146d', 'message': 'Release ironic-lib for stable/train\n\nThis release picks up new commits to ironic-lib since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Iefa3f075d513948cdad7895126adfd94a59725c2\n'}]",0,773046,ed30f8f820032371a5d0796a78d6e1418023146d,9,6,1,17685,,,0,"Release ironic-lib for stable/train

This release picks up new commits to ironic-lib since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Iefa3f075d513948cdad7895126adfd94a59725c2
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/773046/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ironic-lib.yaml'],1,ed30f8f820032371a5d0796a78d6e1418023146d,train-stable, - version: 2.21.3 projects: - repo: openstack/ironic-lib hash: acdc7adb1c5e7e9e86a5d2ba08c3f7678732d4db,,4,0
openstack%2Fpuppet-horizon~master~I3a31c8f27911022c51baceccd9613e6d5e732f60,openstack/puppet-horizon,master,I3a31c8f27911022c51baceccd9613e6d5e732f60,Add TLS context creation for Memcached backends,MERGED,2020-12-07 13:10:41.000000000,2021-02-01 18:24:19.000000000,2021-02-01 18:24:19.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-07 13:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/5556e2f371f74fa6143c3930dc3be747611f619a', 'message': '[WiP] Add TLS options\n\nThis patch specifies a set of options required to build a TLS context.\nThe context built from those options is passed to any of the django\nbackends supporting TLS connections (eg. django-pymemcache).\n\nChange-Id: I3a31c8f27911022c51baceccd9613e6d5e732f60\n'}, {'number': 2, 'created': '2021-01-15 11:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/38a698d44156d91a28cc114831da6446e17e39e0', 'message': '[WiP] Add TLS options\n\nThis patch specifies a set of options required to build a TLS context.\nThe context built from those options is passed to any of the django\nbackends supporting TLS connections (eg. django-pymemcache).\n\nChange-Id: I3a31c8f27911022c51baceccd9613e6d5e732f60\n'}, {'number': 3, 'created': '2021-01-15 11:06:47.000000000', 'files': ['templates/local_settings.py.erb', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/b82e20e47f07cc188282cc59234ada637f1d4b68', 'message': 'Add TLS context creation for Memcached backends\n\nThis patch specifies a set of options required to build a TLS context.\nThe context built from those options is passed to any of the django\nbackends supporting TLS connections (eg. pymemcache).\n\nChange-Id: I3a31c8f27911022c51baceccd9613e6d5e732f60\n'}]",2,765803,b82e20e47f07cc188282cc59234ada637f1d4b68,15,4,3,14250,,,0,"Add TLS context creation for Memcached backends

This patch specifies a set of options required to build a TLS context.
The context built from those options is passed to any of the django
backends supporting TLS connections (eg. pymemcache).

Change-Id: I3a31c8f27911022c51baceccd9613e6d5e732f60
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/03/765803/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/local_settings.py.erb', 'manifests/init.pp']",2,5556e2f371f74fa6143c3930dc3be747611f619a,memcached-cert,"# [*cache_tls_enabled*] # (optional) Global toggle for TLS usage when comunicating with # the caching servers. Defaults to false. # # [*cache_tls_cafile*] # (optional) Path to a file of concatenated CA certificates in PEM # format necessary to establish the caching server's authenticity. # If tls_enabled is False, this option is ignored. # Defaults to undef. # # [*cache_tls_certfile*] # (optional) Path to a single file in PEM format containing the # client's certificate as well as any number of CA certificates # needed to establish the certificate's authenticity. This file # is only required when client side authentication is necessary. # If tls_enabled is False, this option is ignored. Defaults to undef. # # [*cache_tls_keyfile*] # (optional) Path to a single file containing the client's private # key in. Otherwhise the private key will be taken from the file # specified in tls_certfile. If tls_enabled is False, this option # is ignored. Defaults to undef. # # [*cache_tls_allowed_ciphers*] # (optional) Set the available ciphers for sockets created with # the TLS context. It should be a string in the OpenSSL cipher # list format. If not specified, all OpenSSL enabled ciphers will # be available. Defaults to undef. # $cache_tls_enabled = false, $cache_tls_cafile = undef, $cache_tls_certfile = undef, $cache_tls_keyfile = undef, $cache_tls_allowed_ciphers = undef,",,55,0
openstack%2Freleases~master~I7b887aa81c248557e108e87b9ae653841f6be352,openstack/releases,master,I7b887aa81c248557e108e87b9ae653841f6be352,Release ironic-inspector for stable/train,MERGED,2021-01-29 14:02:21.000000000,2021-02-01 18:23:50.000000000,2021-02-01 18:23:50.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-29 14:02:21.000000000', 'files': ['deliverables/train/ironic-inspector.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/aabcbfb2e1dacb739878e941f54b3e27c12b58af', 'message': 'Release ironic-inspector for stable/train\n\nThis release picks up new commits to ironic-inspector since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I7b887aa81c248557e108e87b9ae653841f6be352\n'}]",0,773045,aabcbfb2e1dacb739878e941f54b3e27c12b58af,9,6,1,17685,,,0,"Release ironic-inspector for stable/train

This release picks up new commits to ironic-inspector since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I7b887aa81c248557e108e87b9ae653841f6be352
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/773045/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ironic-inspector.yaml'],1,aabcbfb2e1dacb739878e941f54b3e27c12b58af,train-stable, - version: 9.2.4 projects: - repo: openstack/ironic-inspector hash: 77a3bd91591862dedaae675527a2ff59f0339e29,,4,0
openstack%2Freleases~master~I4e1cff56222259b994357c5727e702063790c38a,openstack/releases,master,I4e1cff56222259b994357c5727e702063790c38a,Release ec2-api for stable/train,MERGED,2021-01-29 13:57:26.000000000,2021-02-01 18:19:19.000000000,2021-02-01 18:19:19.000000000,"[{'_account_id': 308}, {'_account_id': 10234}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-29 13:57:26.000000000', 'files': ['deliverables/train/ec2-api.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f0d5d19d55e25ce8ff954b47210a0fe693e308b7', 'message': 'Release ec2-api for stable/train\n\nThis release picks up new commits to ec2-api since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I4e1cff56222259b994357c5727e702063790c38a\n'}]",0,773042,f0d5d19d55e25ce8ff954b47210a0fe693e308b7,9,4,1,17685,,,0,"Release ec2-api for stable/train

This release picks up new commits to ec2-api since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I4e1cff56222259b994357c5727e702063790c38a
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/773042/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ec2-api.yaml'],1,f0d5d19d55e25ce8ff954b47210a0fe693e308b7,train-stable, - version: 9.0.1 projects: - repo: openstack/ec2-api hash: f90157089654487af9a64fdbf73c76c6909c1bf3,,4,0
openstack%2Freleases~master~Ic1bf92ab2505f5f280d865babb2ca5473ad3c089,openstack/releases,master,Ic1bf92ab2505f5f280d865babb2ca5473ad3c089,Release ironic-prometheus-exporter for stable/train,MERGED,2021-01-29 14:05:53.000000000,2021-02-01 18:19:01.000000000,2021-02-01 18:19:01.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-29 14:05:53.000000000', 'files': ['deliverables/train/ironic-prometheus-exporter.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1e7420da48c8eb64c0551ab59034365c52b8cdb8', 'message': 'Release ironic-prometheus-exporter for stable/train\n\nThis release picks up new commits to ironic-prometheus-exporter since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ic1bf92ab2505f5f280d865babb2ca5473ad3c089\n'}]",0,773047,1e7420da48c8eb64c0551ab59034365c52b8cdb8,9,6,1,17685,,,0,"Release ironic-prometheus-exporter for stable/train

This release picks up new commits to ironic-prometheus-exporter since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ic1bf92ab2505f5f280d865babb2ca5473ad3c089
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/773047/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ironic-prometheus-exporter.yaml'],1,1e7420da48c8eb64c0551ab59034365c52b8cdb8,train-stable, - version: 1.1.2 projects: - repo: openstack/ironic-prometheus-exporter hash: 2a3893b05867ba58d850438a4fca4d9a75349d44,,4,0
openstack%2Freleases~master~I051b19caecee6af7a287c8052c02966f8fdb178d,openstack/releases,master,I051b19caecee6af7a287c8052c02966f8fdb178d,Release python-openstackclient for stable/train,MERGED,2021-01-29 15:18:53.000000000,2021-02-01 18:18:56.000000000,2021-02-01 18:18:56.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-29 15:18:53.000000000', 'files': ['deliverables/train/python-openstackclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/87007fa3fc2e0084a409a29d507ca28bcd0428b1', 'message': 'Release python-openstackclient for stable/train\n\nThis release picks up new commits to python-openstackclient since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I051b19caecee6af7a287c8052c02966f8fdb178d\n'}]",0,773096,87007fa3fc2e0084a409a29d507ca28bcd0428b1,9,4,1,17685,,,0,"Release python-openstackclient for stable/train

This release picks up new commits to python-openstackclient since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I051b19caecee6af7a287c8052c02966f8fdb178d
",git fetch https://review.opendev.org/openstack/releases refs/changes/96/773096/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/python-openstackclient.yaml'],1,87007fa3fc2e0084a409a29d507ca28bcd0428b1,train-stable, - version: 4.0.2 projects: - repo: openstack/python-openstackclient hash: 54bf2c054d7b8287de5cb20dfbf03af0383c29c9,,4,0
openstack%2Freleases~master~I63c0f869dfbf6874900e37d58d016b7ad695158a,openstack/releases,master,I63c0f869dfbf6874900e37d58d016b7ad695158a,Release sahara-image-elements for stable/train,MERGED,2021-01-29 15:27:41.000000000,2021-02-01 18:13:56.000000000,2021-02-01 18:13:56.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-29 15:27:41.000000000', 'files': ['deliverables/train/sahara-image-elements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/78e158a98b8c9596267bb6ea20ff6d65402d859a', 'message': 'Release sahara-image-elements for stable/train\n\nThis release picks up new commits to sahara-image-elements since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I63c0f869dfbf6874900e37d58d016b7ad695158a\n'}]",0,773100,78e158a98b8c9596267bb6ea20ff6d65402d859a,9,4,1,17685,,,0,"Release sahara-image-elements for stable/train

This release picks up new commits to sahara-image-elements since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I63c0f869dfbf6874900e37d58d016b7ad695158a
",git fetch https://review.opendev.org/openstack/releases refs/changes/00/773100/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/sahara-image-elements.yaml'],1,78e158a98b8c9596267bb6ea20ff6d65402d859a,train-stable, - version: 11.0.1 projects: - repo: openstack/sahara-image-elements hash: b60f08f7599a2e01c84ca3e3958021804a50ea7c,,4,0
openstack%2Freleases~master~I07194228413082b1eadf7fdb1dd0892c1a347885,openstack/releases,master,I07194228413082b1eadf7fdb1dd0892c1a347885,Release ceilometermiddleware for stable/train,ABANDONED,2021-01-29 13:53:55.000000000,2021-02-01 18:09:44.000000000,,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 13:53:55.000000000', 'files': ['deliverables/train/ceilometermiddleware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/75a6dc0f80153f14b3245019758254cf565248ac', 'message': 'Release ceilometermiddleware for stable/train\n\nThis release picks up new commits to ceilometermiddleware since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I07194228413082b1eadf7fdb1dd0892c1a347885\n'}]",0,773038,75a6dc0f80153f14b3245019758254cf565248ac,7,2,1,17685,,,0,"Release ceilometermiddleware for stable/train

This release picks up new commits to ceilometermiddleware since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I07194228413082b1eadf7fdb1dd0892c1a347885
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/773038/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ceilometermiddleware.yaml'],1,75a6dc0f80153f14b3245019758254cf565248ac,train-stable, - version: 1.5.1 projects: - repo: openstack/ceilometermiddleware hash: 93e08e78e97f47392f0bc30c50c1c583036710f1,,4,0
openstack%2Freleases~master~I260cebcc01efc120a5a88d522988b0ee3c12fdfa,openstack/releases,master,I260cebcc01efc120a5a88d522988b0ee3c12fdfa,Release zun-ui for stable/train,ABANDONED,2021-01-29 15:51:56.000000000,2021-02-01 18:02:16.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 27654}]","[{'number': 1, 'created': '2021-01-29 15:51:56.000000000', 'files': ['deliverables/train/zun-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5116be61c3100d487a21ff346895754bdab03403', 'message': 'Release zun-ui for stable/train\n\nThis release picks up new commits to zun-ui since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I260cebcc01efc120a5a88d522988b0ee3c12fdfa\n'}]",0,773114,5116be61c3100d487a21ff346895754bdab03403,7,4,1,17685,,,0,"Release zun-ui for stable/train

This release picks up new commits to zun-ui since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I260cebcc01efc120a5a88d522988b0ee3c12fdfa
",git fetch https://review.opendev.org/openstack/releases refs/changes/14/773114/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/zun-ui.yaml'],1,5116be61c3100d487a21ff346895754bdab03403,train-stable, - version: 4.0.2 projects: - repo: openstack/zun-ui hash: 385236b0d4092a3df42918db89675a1551fb98b0,,4,0
openstack%2Fcharm-glance~master~Id5f9b9326f6f21fbd16c89d24a289b53db870c42,openstack/charm-glance,master,Id5f9b9326f6f21fbd16c89d24a289b53db870c42,Update relative paths in test bundles,ABANDONED,2021-01-28 00:36:54.000000000,2021-02-01 17:59:12.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-28 00:36:54.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/c2ad1b1883b269738d3c12f0717d3af77f4cf841', 'message': 'Update relative paths in test bundles\n\nCloses-Bug: #1913498\nChange-Id: Id5f9b9326f6f21fbd16c89d24a289b53db870c42\n'}]",0,772792,c2ad1b1883b269738d3c12f0717d3af77f4cf841,4,2,1,32803,,,0,"Update relative paths in test bundles

Closes-Bug: #1913498
Change-Id: Id5f9b9326f6f21fbd16c89d24a289b53db870c42
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/92/772792/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml']",3,c2ad1b1883b269738d3c12f0717d3af77f4cf841,bug/1913498, charm: ../../../glance, charm: cs:~openstack-charmers-next/glance,3,3
openstack%2Ftripleo-common~stable%2Frocky~If6d852298f7bef2ed0c2b5ec568138c91818fdaf,openstack/tripleo-common,stable/rocky,If6d852298f7bef2ed0c2b5ec568138c91818fdaf,Fix the log path on the host.,MERGED,2021-01-12 10:53:27.000000000,2021-02-01 17:46:00.000000000,2021-02-01 17:46:00.000000000,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-01-12 10:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a555105748beb721f6d36e40b50b5a1bad3416e5', 'message': 'Fix the log path on the host.\n\nThe path for the host machine is\n/var/log/containers/mistral/package_update.log.\n\nChange-Id: If6d852298f7bef2ed0c2b5ec568138c91818fdaf\n(cherry picked from commit ea637a0540f68690c27ff854cc949b7126942c68)\n'}, {'number': 2, 'created': '2021-01-14 09:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a041a9879c7150baf46ef7a60ed9eba91f5f6d30', 'message': 'Fix the log path on the host.\n\nThe path for the host machine is\n/var/log/containers/mistral/package_update.log.\n\nChange-Id: If6d852298f7bef2ed0c2b5ec568138c91818fdaf\n(cherry picked from commit ea637a0540f68690c27ff854cc949b7126942c68)\n'}, {'number': 3, 'created': '2021-01-14 10:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b90d4f65b855c3a1db7c41e1cb0deac5700aeb88', 'message': 'Fix the log path on the host.\n\nThe path for the host machine is\n/var/log/mistral/package_update.log.\n\nChange-Id: If6d852298f7bef2ed0c2b5ec568138c91818fdaf\n(cherry picked from commit ea637a0540f68690c27ff854cc949b7126942c68)\n'}, {'number': 4, 'created': '2021-01-14 14:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b0b00fb68faf8223ccb33049789b5f7ac94a3392', 'message': 'Fix the log path on the host.\n\nThe path for the host machine is\n/var/log/containers/mistral/package_update.log.\n\nChange-Id: If6d852298f7bef2ed0c2b5ec568138c91818fdaf\n(cherry picked from commit ea637a0540f68690c27ff854cc949b7126942c68)\n'}, {'number': 5, 'created': '2021-01-22 10:40:30.000000000', 'files': ['workbooks/package_update.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8349594d76c3f78f95c38b423f103ba262ceaf68', 'message': 'Fix the log path on the host.\n\nThe path for the host machine is\n/var/log/containers/mistral/package_update.log.\n\nChange-Id: If6d852298f7bef2ed0c2b5ec568138c91818fdaf\n(cherry picked from commit ea637a0540f68690c27ff854cc949b7126942c68)\n'}]",1,770266,8349594d76c3f78f95c38b423f103ba262ceaf68,38,4,5,31245,,,0,"Fix the log path on the host.

The path for the host machine is
/var/log/containers/mistral/package_update.log.

Change-Id: If6d852298f7bef2ed0c2b5ec568138c91818fdaf
(cherry picked from commit ea637a0540f68690c27ff854cc949b7126942c68)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/66/770266/5 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/package_update.yaml'],1,a555105748beb721f6d36e40b50b5a1bad3416e5,rocky," message: Ansible failed, check log at /var/log/containers/mistral/package_update.log. message: Ansible failed, check log at /var/log/containers/mistral/package_update.log."," message: Ansible failed, check log at <% $.work_dir %>/<% execution().id %>/ansible.log. message: Ansible failed, check log at <% $.get('work_dir') %>/<% execution().id %>/ansible.log.",2,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ia918d8b92d9bb1efac9bec2017b88593bf362834,openstack/tripleo-heat-templates,stable/ussuri,Ia918d8b92d9bb1efac9bec2017b88593bf362834,Configure OVNCMSOptions=enable-chassis-as-gw within neutron-ovn-sriov.yaml,MERGED,2021-01-19 13:41:30.000000000,2021-02-01 17:45:54.000000000,2021-02-01 17:45:54.000000000,"[{'_account_id': 6773}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-19 13:41:30.000000000', 'files': ['environments/services/neutron-ovn-ha.yaml', 'environments/services/neutron-ovn-sriov.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/220bf13a2a49bdcd74685550d82cdf9dd306e7ab', 'message': 'Configure OVNCMSOptions=enable-chassis-as-gw within neutron-ovn-sriov.yaml\n\nIn order to configure OVN+SRIOV, the following THT files need to be\nimported:\n  - neutron-ovn-ha.yaml\n  - neutron-ovn-sriov.yaml\n\nChange-Id: Ia918d8b92d9bb1efac9bec2017b88593bf362834\nResolves: rhbz#1913700\n(cherry picked from commit 831f5d65fa4a30b37bb92c36a7c97005dbbd77f6)\n'}]",0,771402,220bf13a2a49bdcd74685550d82cdf9dd306e7ab,15,6,1,31291,,,0,"Configure OVNCMSOptions=enable-chassis-as-gw within neutron-ovn-sriov.yaml

In order to configure OVN+SRIOV, the following THT files need to be
imported:
  - neutron-ovn-ha.yaml
  - neutron-ovn-sriov.yaml

Change-Id: Ia918d8b92d9bb1efac9bec2017b88593bf362834
Resolves: rhbz#1913700
(cherry picked from commit 831f5d65fa4a30b37bb92c36a7c97005dbbd77f6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/771402/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/neutron-ovn-ha.yaml', 'environments/services/neutron-ovn-sriov.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml']",3,220bf13a2a49bdcd74685550d82cdf9dd306e7ab,,," ControllerSriovParameters: OVNCMSOptions: ""enable-chassis-as-gw""",5,7
openstack%2Fdevstack~master~I82bd49366c4c9d6225769216c32757245d3b340d,openstack/devstack,master,I82bd49366c4c9d6225769216c32757245d3b340d,DNM: testing policy file default pick,ABANDONED,2021-01-29 00:37:50.000000000,2021-02-01 17:29:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-29 00:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/edae5d956ca9fb71ee09857731a9eb06e7edfc69', 'message': 'DNM: testing policy file default pick\n\nChange-Id: I82bd49366c4c9d6225769216c32757245d3b340d\n'}, {'number': 2, 'created': '2021-01-29 16:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/640cf708ad68df46e956013960e946503fda27f4', 'message': 'DNM: testing policy file default pick\n\nChange-Id: I82bd49366c4c9d6225769216c32757245d3b340d\n'}, {'number': 3, 'created': '2021-01-30 00:17:31.000000000', 'files': ['lib/neutron', '.zuul.yaml', 'lib/neutron-legacy'], 'web_link': 'https://opendev.org/openstack/devstack/commit/22973ea22042a9c1f851242a0ebe0daf1cc48bae', 'message': 'DNM: testing policy file default pick\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.policy/+/772905\nDepends-On: https://review.opendev.org/c/openstack/oslo.config/+/773146\n\nChange-Id: I82bd49366c4c9d6225769216c32757245d3b340d\n'}]",0,772962,22973ea22042a9c1f851242a0ebe0daf1cc48bae,7,1,3,8556,,,0,"DNM: testing policy file default pick

Depends-On: https://review.opendev.org/c/openstack/oslo.policy/+/772905
Depends-On: https://review.opendev.org/c/openstack/oslo.config/+/773146

Change-Id: I82bd49366c4c9d6225769216c32757245d3b340d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/62/772962/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron'],1,edae5d956ca9fb71ee09857731a9eb06e7edfc69,, #iniset $NEUTRON_CONF DEFAULT policy_file $policy_file, iniset $NEUTRON_CONF DEFAULT policy_file $policy_file,1,1
openstack%2Fpuppet-aodh~master~I7ddc4af25f89317da6a794beba312841d2f1bc25,openstack/puppet-aodh,master,I7ddc4af25f89317da6a794beba312841d2f1bc25,Use consistent names for service_credentials options,MERGED,2021-01-27 13:19:54.000000000,2021-02-01 17:27:00.000000000,2021-02-01 17:24:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 13:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/bbeee0ce64b38c7696735afdb18df696a7b185b2', 'message': 'Use consistent names for service_credentials options\n\nThis change renames aodh::auth and its parameters to be consistent\nwith the section name and the parameter names in aodh service. This\nallows operators more easily guess how the class and its parameters\ncorrespond to the options in aodh.\n\nChange-Id: I7ddc4af25f89317da6a794beba312841d2f1bc25\n'}, {'number': 2, 'created': '2021-01-27 13:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/d57b11d6874adf68a131c96d25ecd64f50820263', 'message': 'Use consistent names for service_credentials options\n\nThis change renames aodh::auth and its parameters to be consistent\nwith the section name and the parameter names in aodh service. This\nallows operators more easily guess how the class and its parameters\ncorrespond to the options in aodh.\n\nChange-Id: I7ddc4af25f89317da6a794beba312841d2f1bc25\n'}, {'number': 3, 'created': '2021-01-27 13:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/0a3ae7a335099f6647ae4381e62f5a205ab3e87a', 'message': 'Use consistent names for service_credentials options\n\nThis change renames aodh::auth and its parameters to be consistent\nwith the section name and the parameter names in aodh service. This\nallows operators more easily guess how the class and its parameters\ncorrespond to the options in aodh.\n\nChange-Id: I7ddc4af25f89317da6a794beba312841d2f1bc25\n'}, {'number': 4, 'created': '2021-01-27 13:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/128f9f0e520119a8680eeb5ca812b17e37877e0d', 'message': 'Use consistent names for service_credentials options\n\nThis change renames aodh::auth and its parameters to be consistent\nwith the section name and the parameter names in aodh service. This\nallows operators more easily guess how the class and its parameters\ncorrespond to the options in aodh.\n\nChange-Id: I7ddc4af25f89317da6a794beba312841d2f1bc25\n'}, {'number': 5, 'created': '2021-01-27 23:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/cb0ff140999141c9f628fcf1a5cf198a4fb71f96', 'message': 'Use consistent names for service_credentials options\n\nThis change renames aodh::auth and its parameters to be consistent\nwith the section name and the parameter names in aodh service. This\nallows operators more easily guess how the class and its parameters\ncorrespond to the options in aodh.\n\nChange-Id: I7ddc4af25f89317da6a794beba312841d2f1bc25\n'}, {'number': 6, 'created': '2021-01-28 00:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/a4864263986b5a6d1554d3a1dc727fc984a88ad7', 'message': 'Use consistent names for service_credentials options\n\nThis change renames aodh::auth and its parameters to be consistent\nwith the section name and the parameter names in aodh service. This\nallows operators more easily guess how the class and its parameters\ncorrespond to the options in aodh.\n\nChange-Id: I7ddc4af25f89317da6a794beba312841d2f1bc25\n'}, {'number': 7, 'created': '2021-01-28 02:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/2fb5f6ec57ccd43897175119d6215f3fd742c458', 'message': 'Use consistent names for service_credentials options\n\nThis change renames aodh::auth and its parameters to be consistent\nwith the section name and the parameter names in aodh service. This\nallows operators more easily guess how the class and its parameters\ncorrespond to the options in aodh.\n\nChange-Id: I7ddc4af25f89317da6a794beba312841d2f1bc25\n'}, {'number': 8, 'created': '2021-01-31 13:19:55.000000000', 'files': ['releasenotes/notes/service_credentials-2b3dd8ca51083a1d.yaml', 'examples/aodh.pp', 'spec/classes/aodh_service_credentials_spec.rb', 'manifests/service_credentials.pp', 'manifests/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/e05af2b3f1dbb5ba74e5428ef3e74e4bfc096531', 'message': 'Use consistent names for service_credentials options\n\nThis change renames aodh::auth and its parameters to be consistent\nwith the section name and the parameter names in aodh service. This\nallows operators more easily guess how the class and its parameters\ncorrespond to the options in aodh.\n\nChange-Id: I7ddc4af25f89317da6a794beba312841d2f1bc25\n'}]",0,772694,e05af2b3f1dbb5ba74e5428ef3e74e4bfc096531,24,3,8,9816,,,0,"Use consistent names for service_credentials options

This change renames aodh::auth and its parameters to be consistent
with the section name and the parameter names in aodh service. This
allows operators more easily guess how the class and its parameters
correspond to the options in aodh.

Change-Id: I7ddc4af25f89317da6a794beba312841d2f1bc25
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/94/772694/8 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/service_credentials-2b3dd8ca51083a1d.yaml', 'spec/classes/aodh_service_credentials_spec.rb', 'manifests/service_credentials.pp', 'manifests/auth.pp']",4,bbeee0ce64b38c7696735afdb18df696a7b185b2,service_credentials," warning('The aodh::auth class has been deprecated. Use the aodh::service_credentials class') class { 'aodh::service_credentials': auth_url => $auth_url, password => $password, region_name => $auth_region, username => $auth_user, project_name => $auth_project_name, project_domain_name => $project_domain_name, user_domain_name => $user_domain_name, auth_type => $auth_type, cacet => $auth_cacert, interface => $interface,"," include aodh::deps aodh_config { 'service_credentials/auth_url' : value => $auth_url; 'service_credentials/region_name' : value => $auth_region; 'service_credentials/username' : value => $auth_user; 'service_credentials/password' : value => $auth_password, secret => true; 'service_credentials/project_name' : value => $auth_project_name; 'service_credentials/project_domain_name' : value => $project_domain_name; 'service_credentials/user_domain_name' : value => $user_domain_name; 'service_credentials/cacert' : value => $auth_cacert; 'service_credentials/interface' : value => $interface; 'service_credentials/auth_type' : value => $auth_type;",146,12
openstack%2Fkuryr-kubernetes~master~Ifcca61a189caa4f6bbf5229e442b01a47304d523,openstack/kuryr-kubernetes,master,Ifcca61a189caa4f6bbf5229e442b01a47304d523,Upgrade k8s version of e2e tests,ABANDONED,2020-08-26 15:44:42.000000000,2021-02-01 17:23:53.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-08-26 15:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a92f52285dfa175eeb7140a30a6d5fe8f460cb0a', 'message': 'Upgrade k8ss version of e2e tests\n\nThis commit upgrades k8s version to account for fixes and new\non Network Policy tests included in 1.18.x.\n\nChange-Id: Ifcca61a189caa4f6bbf5229e442b01a47304d523\n'}, {'number': 2, 'created': '2020-08-26 15:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/50216ce2e51f8286f268f4b9b2cc3b7d2b56cda1', 'message': 'Upgrade k8s version of e2e tests\n\nThis commit upgrades k8s version to account for fixes and new\non Network Policy tests included in 1.18.x.\n\nChange-Id: Ifcca61a189caa4f6bbf5229e442b01a47304d523\n'}, {'number': 3, 'created': '2020-08-27 09:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/99f6bbfe1a56091b5c5eab7e185a2d28a9ca8209', 'message': 'Upgrade k8s version of e2e tests\n\nThis commit upgrades k8s version to account for fixes and new\non Network Policy tests included in 1.18.x.\n\nChange-Id: Ifcca61a189caa4f6bbf5229e442b01a47304d523\n'}, {'number': 4, 'created': '2020-11-11 18:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3d96ad63dc048968b8427739418bfa16b8d4d5d3', 'message': 'Upgrade k8s version of e2e tests\n\nThis commit upgrades k8s version to account for fixes and new\non Network Policy tests included in 1.18.x.\n\nChange-Id: Ifcca61a189caa4f6bbf5229e442b01a47304d523\n'}, {'number': 5, 'created': '2020-11-11 18:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e39bdce6b31ce07613446f370cc292cf1351fa54', 'message': 'Upgrade k8s version of e2e tests\n\nThis commit upgrades k8s version to account for fixes and new\non Network Policy tests included in 1.18.x.\n\nChange-Id: Ifcca61a189caa4f6bbf5229e442b01a47304d523\n'}, {'number': 6, 'created': '2020-11-11 22:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bbdf0e99f34e1ce6b1cacb7db3fd9fb20ab238f0', 'message': 'Upgrade k8s version of e2e tests\n\nThis commit upgrades k8s version to account for fixes and new\non Network Policy tests included in 1.18.x.\n\nChange-Id: Ifcca61a189caa4f6bbf5229e442b01a47304d523\n'}, {'number': 7, 'created': '2020-11-11 22:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0264021648d4697263480254091db0752ee383af', 'message': 'Upgrade k8s version of e2e tests\n\nThis commit upgrades k8s version to account for fixes and new\non Network Policy tests included in 1.18.x.\n\nChange-Id: Ifcca61a189caa4f6bbf5229e442b01a47304d523\n'}, {'number': 8, 'created': '2020-11-12 00:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/33dc8305574db076b0ffbe15363976c222892ed3', 'message': 'Upgrade k8s version of e2e tests\n\nThis commit upgrades k8s version to account for fixes and new\non Network Policy tests included in 1.18.x.\n\nChange-Id: Ifcca61a189caa4f6bbf5229e442b01a47304d523\n'}, {'number': 9, 'created': '2020-11-20 11:39:28.000000000', 'files': ['.zuul.d/base.yaml', 'devstack/plugin.sh', '.zuul.d/sdn.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6e459a54935864394f04d812a02668b20a616ac5', 'message': 'Upgrade k8s version of e2e tests\n\nThis commit upgrades k8s version to account for fixes and new\non Network Policy tests included in 1.18.x.\n\nChange-Id: Ifcca61a189caa4f6bbf5229e442b01a47304d523\n'}]",0,748262,6e459a54935864394f04d812a02668b20a616ac5,52,4,9,27032,,,0,"Upgrade k8s version of e2e tests

This commit upgrades k8s version to account for fixes and new
on Network Policy tests included in 1.18.x.

Change-Id: Ifcca61a189caa4f6bbf5229e442b01a47304d523
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/62/748262/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/sdn.yaml'],1,a92f52285dfa175eeb7140a30a6d5fe8f460cb0a,upgrade-k8s-version, kubetest_version: v1.18.8, kubetest_version: v1.17.3,1,1
openstack%2Fkuryr-kubernetes~stable%2Fstein~I98ecd4dc041b271303ccbb4da61e33fa1a95800b,openstack/kuryr-kubernetes,stable/stein,I98ecd4dc041b271303ccbb4da61e33fa1a95800b,Fix CI issues,ABANDONED,2021-01-06 13:45:21.000000000,2021-02-01 17:22:53.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 13:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1c5bdaa09ab04fdf18a795fb906dd74375638591', 'message': ""Fix CI issues\n\nThis fixes several CI problems:\n\n* Update the DevStack plugin to query for docker's cgroup driver\n  correctly, because the old way suddenly stopped working.\n* Cap bandit to 1.6.2 to keep it on version supporting py27.\n\nChange-Id: I98ecd4dc041b271303ccbb4da61e33fa1a95800b\n""}, {'number': 2, 'created': '2021-01-07 14:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d7f7bff014f7b086c568cafa12e0d01f362e31c4', 'message': ""Fix CI issues\n\nThis fixes several CI problems:\n\n* Update the DevStack plugin to query for docker's cgroup driver\n  correctly, because the old way suddenly stopped working.\n* Cap bandit to 1.6.2 to keep it on version supporting py27.\n\nChange-Id: I98ecd4dc041b271303ccbb4da61e33fa1a95800b\n""}, {'number': 3, 'created': '2021-01-07 14:15:19.000000000', 'files': ['test-requirements.txt', 'devstack/plugin.sh', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fb3f0c29bdc728febfa3803cb816850ccddb4205', 'message': ""Fix CI issues\n\nThis fixes several CI problems:\n\n* Update the DevStack plugin to query for docker's cgroup driver\n  correctly, because the old way suddenly stopped working.\n* Cap bandit to 1.6.2 to keep it on version supporting py27.\n\nChange-Id: I98ecd4dc041b271303ccbb4da61e33fa1a95800b\n""}]",0,769512,fb3f0c29bdc728febfa3803cb816850ccddb4205,8,2,3,27032,,,0,"Fix CI issues

This fixes several CI problems:

* Update the DevStack plugin to query for docker's cgroup driver
  correctly, because the old way suddenly stopped working.
* Cap bandit to 1.6.2 to keep it on version supporting py27.

Change-Id: I98ecd4dc041b271303ccbb4da61e33fa1a95800b
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/12/769512/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'devstack/plugin.sh']",2,1c5bdaa09ab04fdf18a795fb906dd74375638591,," command+="" --cgroup-driver $(docker info -f '{{.CgroupDriver}}')"""," command+="" --cgroup-driver $(docker info|awk '/Cgroup/ {print $NF}')""",2,1
openstack%2Freleases~master~I70cf4c920fbfe50dc17e6c5d8e5e86ccd6bc2b78,openstack/releases,master,I70cf4c920fbfe50dc17e6c5d8e5e86ccd6bc2b78,[manila] Release manila 10.0.2,MERGED,2021-01-25 18:55:18.000000000,2021-02-01 17:22:04.000000000,2021-02-01 17:22:04.000000000,"[{'_account_id': 308}, {'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-25 18:55:18.000000000', 'files': ['deliverables/ussuri/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/68be8017a9843247415dce64cc52de4b25e2ec13', 'message': '[manila] Release manila 10.0.2\n\nThis release includes several bugfixes\nand enhancements committed against the\nstable/ussuri branch.\n\nChange-Id: I70cf4c920fbfe50dc17e6c5d8e5e86ccd6bc2b78\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,772422,68be8017a9843247415dce64cc52de4b25e2ec13,12,4,1,16643,,,0,"[manila] Release manila 10.0.2

This release includes several bugfixes
and enhancements committed against the
stable/ussuri branch.

Change-Id: I70cf4c920fbfe50dc17e6c5d8e5e86ccd6bc2b78
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/772422/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/manila.yaml'],1,68be8017a9843247415dce64cc52de4b25e2ec13,manila, - version: 10.0.2 projects: - repo: openstack/manila hash: 9828e16968c77892cf5ecf31016ffcb09a6b32f1,,4,0
openstack%2Freleases~master~Id92ebdb45081dc8b0ac03c057533b9731097a6d9,openstack/releases,master,Id92ebdb45081dc8b0ac03c057533b9731097a6d9,Release zaqar-ui for stable/train,ABANDONED,2021-01-29 15:51:01.000000000,2021-02-01 17:21:39.000000000,,"[{'_account_id': 308}, {'_account_id': 6484}, {'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 15:51:01.000000000', 'files': ['deliverables/train/zaqar-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3f1eb84d5640b8adfb0a3f5c3203227b8b2a08c6', 'message': 'Release zaqar-ui for stable/train\n\nThis release picks up new commits to zaqar-ui since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Id92ebdb45081dc8b0ac03c057533b9731097a6d9\n'}]",0,773113,3f1eb84d5640b8adfb0a3f5c3203227b8b2a08c6,9,4,1,17685,,,0,"Release zaqar-ui for stable/train

This release picks up new commits to zaqar-ui since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Id92ebdb45081dc8b0ac03c057533b9731097a6d9
",git fetch https://review.opendev.org/openstack/releases refs/changes/13/773113/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/zaqar-ui.yaml'],1,3f1eb84d5640b8adfb0a3f5c3203227b8b2a08c6,train-stable, - version: 7.0.1 projects: - repo: openstack/zaqar-ui hash: e28b5621a59a2ca293ab923d50a5528ed1341bbc,,4,0
openstack%2Freleases~master~I1ff16372f0c3cd3a2b98a97e309cac449b11a311,openstack/releases,master,I1ff16372f0c3cd3a2b98a97e309cac449b11a311,[manila] Release manila 11.0.1,MERGED,2021-01-25 18:52:25.000000000,2021-02-01 17:19:13.000000000,2021-02-01 17:19:13.000000000,"[{'_account_id': 308}, {'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-25 18:52:25.000000000', 'files': ['deliverables/victoria/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3bb176ba5c183171856c314f3bbd88e943da1dd2', 'message': '[manila] Release manila 11.0.1\n\nThis release includes several bugfixes\ncommitted since the initial stable/victoria\nrelease (11.0.0).\n\nChange-Id: I1ff16372f0c3cd3a2b98a97e309cac449b11a311\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,772421,3bb176ba5c183171856c314f3bbd88e943da1dd2,11,4,1,16643,,,0,"[manila] Release manila 11.0.1

This release includes several bugfixes
committed since the initial stable/victoria
release (11.0.0).

Change-Id: I1ff16372f0c3cd3a2b98a97e309cac449b11a311
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/772421/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/manila.yaml'],1,3bb176ba5c183171856c314f3bbd88e943da1dd2,manila, - version: 11.0.1 projects: - repo: openstack/manila hash: a5bd828cbf4545872c0fef596929134b488d5241,,4,0
openstack%2Freleases~master~Ib3a84252b5e75f56f382954d0df5169d8e1232fd,openstack/releases,master,Ib3a84252b5e75f56f382954d0df5169d8e1232fd,[manila] Release manila 9.1.5,MERGED,2021-01-25 18:56:38.000000000,2021-02-01 17:18:59.000000000,2021-02-01 17:18:59.000000000,"[{'_account_id': 308}, {'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-25 18:56:38.000000000', 'files': ['deliverables/train/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a73170e6e8dc243748a7a6f5fa7892be7b110e59', 'message': '[manila] Release manila 9.1.5\n\nThis release includes several bugfixes\nand enhancements committed against the\nstable/train branch.\n\nChange-Id: Ib3a84252b5e75f56f382954d0df5169d8e1232fd\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,772423,a73170e6e8dc243748a7a6f5fa7892be7b110e59,12,4,1,16643,,,0,"[manila] Release manila 9.1.5

This release includes several bugfixes
and enhancements committed against the
stable/train branch.

Change-Id: Ib3a84252b5e75f56f382954d0df5169d8e1232fd
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/772423/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/manila.yaml'],1,a73170e6e8dc243748a7a6f5fa7892be7b110e59,manila, - version: 9.1.5 projects: - repo: openstack/manila hash: 960e45bd255dafacef7c6f895aca9477fcd12d9b,,4,0
openstack%2Freleases~master~I51476fc19128c5604dd5934fc19a97cec0e5c0ce,openstack/releases,master,I51476fc19128c5604dd5934fc19a97cec0e5c0ce,[Tempest Plugins] Tag stein-last,MERGED,2020-12-26 18:42:16.000000000,2021-02-01 17:13:54.000000000,2021-02-01 17:13:54.000000000,"[{'_account_id': 308}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-12-26 18:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c798f8f79c7a81f9bac99be9b76c7630ce4fbd42', 'message': '[Tempest Plugins] Tag stein EM\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I51476fc19128c5604dd5934fc19a97cec0e5c0ce\n'}, {'number': 2, 'created': '2020-12-26 20:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2b56dfb022b79f7c9bb5af8a63f41584164d6cb4', 'message': '[Tempest Plugins] Tag stein EM\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I51476fc19128c5604dd5934fc19a97cec0e5c0ce\n'}, {'number': 3, 'created': '2020-12-28 21:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/316b8ba289d823f611371246e89392cc21a347c9', 'message': ""[Tempest Plugins] Tag stein EM\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nTagging 'stein-em' as well as a new version also with same hash.\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I51476fc19128c5604dd5934fc19a97cec0e5c0ce\n""}, {'number': 4, 'created': '2021-01-12 22:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d130faf17061da2770b83cbf679630c242f0ecfe', 'message': ""[Tempest Plugins] Tag stein-last\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nTagging 'stein-last' as well as a new version also with same hash.\nDocumenting this new tag name here\n- https://review.opendev.org/c/openstack/project-team-guide/+/769821\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I51476fc19128c5604dd5934fc19a97cec0e5c0ce\n""}, {'number': 5, 'created': '2021-01-12 22:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/66a0ccd2c4e5030c241387057d35beebc51fe268', 'message': ""[Tempest Plugins] Tag stein-last\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nTagging 'stein-last' as well as a new version also with same hash.\nDocumenting this new tag name here\n- https://review.opendev.org/c/openstack/project-team-guide/+/769821\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I51476fc19128c5604dd5934fc19a97cec0e5c0ce\n""}, {'number': 6, 'created': '2021-01-13 09:49:09.000000000', 'files': ['deliverables/stein/cinder-tempest-plugin.yaml', 'deliverables/wallaby/cinder-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b59fd9ac0a5dfc3a7685720c5f49e251a9be30f4', 'message': ""[Tempest Plugins] Tag stein-last\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nTagging 'stein-last' as well as a new version also with same hash.\nDocumenting this new tag name here\n- https://review.opendev.org/c/openstack/project-team-guide/+/769821\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I51476fc19128c5604dd5934fc19a97cec0e5c0ce\n""}]",3,768539,b59fd9ac0a5dfc3a7685720c5f49e251a9be30f4,27,5,6,8556,,,0,"[Tempest Plugins] Tag stein-last

Stein branch is in Extended Maintenance now[1]. All Tempest
plugins are branchless which means master version of Tempest
and its plugins is used to test the supported stable branches.

Once stable branch is moved to EM state then, Tempest and its
plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with this tag once master
Tempest and its plugins are not compatible[2].

This tag will help for testing the stable/stein with single
compatible tag of Tempest and its plugins.

Tagging 'stein-last' as well as a new version also with same hash.
Documenting this new tag name here
- https://review.opendev.org/c/openstack/project-team-guide/+/769821

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

[1] https://releases.openstack.org/stein/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: I51476fc19128c5604dd5934fc19a97cec0e5c0ce
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/768539/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/cinder-tempest-plugin.yaml'],1,c798f8f79c7a81f9bac99be9b76c7630ce4fbd42,tempest-plugin-stein-last, - version: stein-em projects: - repo: openstack/cinder-tempest-plugin hash: Idce913345c1bf8a47e678d706364c09837221a82,,4,0
openstack%2Freleases~master~Ie542dd535c950b7ef1e058773bbd564f8e97bd56,openstack/releases,master,Ie542dd535c950b7ef1e058773bbd564f8e97bd56,Release kayobe for stable/train,MERGED,2021-01-29 14:08:50.000000000,2021-02-01 17:06:42.000000000,2021-02-01 17:06:42.000000000,"[{'_account_id': 308}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-29 14:08:50.000000000', 'files': ['deliverables/train/kayobe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c0b1ca8157a7bc66d0f4f7a123494578b1d6a3ca', 'message': 'Release kayobe for stable/train\n\nThis release picks up new commits to kayobe since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ie542dd535c950b7ef1e058773bbd564f8e97bd56\n'}]",0,773051,c0b1ca8157a7bc66d0f4f7a123494578b1d6a3ca,10,5,1,17685,,,0,"Release kayobe for stable/train

This release picks up new commits to kayobe since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ie542dd535c950b7ef1e058773bbd564f8e97bd56
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/773051/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/kayobe.yaml'],1,c0b1ca8157a7bc66d0f4f7a123494578b1d6a3ca,train-stable, - version: 7.2.1 projects: - repo: openstack/kayobe hash: e0e0db459d3c99fbc1cb266739fa7e6e17f0c00e,,4,0
openstack%2Freleases~master~I121e94a1a2ca4b7a60083af8bf5f926c005bd2ef,openstack/releases,master,I121e94a1a2ca4b7a60083af8bf5f926c005bd2ef,Release kolla for stable/train,MERGED,2021-01-29 14:15:01.000000000,2021-02-01 17:06:37.000000000,2021-02-01 17:06:37.000000000,"[{'_account_id': 308}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-29 14:15:01.000000000', 'files': ['deliverables/train/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/abd83a0a105ef022fb663ce4e5f2098fa898ee36', 'message': 'Release kolla for stable/train\n\nThis release picks up new commits to kolla since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I121e94a1a2ca4b7a60083af8bf5f926c005bd2ef\n'}]",0,773056,abd83a0a105ef022fb663ce4e5f2098fa898ee36,10,5,1,17685,,,0,"Release kolla for stable/train

This release picks up new commits to kolla since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I121e94a1a2ca4b7a60083af8bf5f926c005bd2ef
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/773056/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/kolla.yaml'],1,abd83a0a105ef022fb663ce4e5f2098fa898ee36,train-stable, - version: 9.3.1 projects: - repo: openstack/kolla hash: fc0ebe07c2e88ee000caf43d7ba67ceed7d7a842,,4,0
openstack%2Fironic~stable%2Ftrain~I0ecb145469753f9ccabeac881fcaf0976ba723e4,openstack/ironic,stable/train,I0ecb145469753f9ccabeac881fcaf0976ba723e4,Remove grenade jobs from old stable branches,MERGED,2021-02-01 09:43:08.000000000,2021-02-01 16:59:07.000000000,2021-02-01 16:53:02.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 09:43:08.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f82a43c54e95b858177f5342289bd3729b0af004', 'message': 'Remove grenade jobs from old stable branches\n\nAs discussed and approved during the ironic wallaby midcycle, the grenade\njobs in old stable branches, starting from EM branches and up the oldest\nnot-EM (at this moment train) are removed.\n\nAlso remove lower-constraints job.\n\nChange-Id: I0ecb145469753f9ccabeac881fcaf0976ba723e4\n'}]",0,773330,f82a43c54e95b858177f5342289bd3729b0af004,10,3,1,23851,,,0,"Remove grenade jobs from old stable branches

As discussed and approved during the ironic wallaby midcycle, the grenade
jobs in old stable branches, starting from EM branches and up the oldest
not-EM (at this moment train) are removed.

Also remove lower-constraints job.

Change-Id: I0ecb145469753f9ccabeac881fcaf0976ba723e4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/30/773330/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f82a43c54e95b858177f5342289bd3729b0af004,remove-grenade,, - openstack-lower-constraints-jobs - ironic-grenade-dsvm: voting: false # Temporary disable voting because of end of cycle CI instability. - ironic-grenade-dsvm-multinode-multitenant: voting: false # - ironic-grenade-dsvm # removing from voting due to end of cycle gate instability. # - ironic-grenade-dsvm-multinode-multitenant,0,9
openstack%2Foslo.messaging~master~I1cbafff03349f7da9224de46285707fbf2a81a68,openstack/oslo.messaging,master,I1cbafff03349f7da9224de46285707fbf2a81a68,Deprecate the mandatory flag,MERGED,2020-11-30 15:41:51.000000000,2021-02-01 16:49:12.000000000,2021-02-01 16:47:19.000000000,"[{'_account_id': 8770}, {'_account_id': 9257}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-11-30 15:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b61a4306934ed0bc0f0ea2b8af07f95e8635638d', 'message': 'Don\'t pass the mandatory flag with the direct RPC\n\nThe direct reply-to feature allows RPC clients to receive replies\ndirectly from their RPC server, without going through a reply queue.\n""Directly"" here still means going through the same connection and a\nRabbitMQ node; there is no direct network connection between RPC client\nand RPC server processes.\n\nThe RPC server will then see a reply-to property with a generated name.\nIt should publish to the default exchange ("""") with the routing key set\nto this value (i.e. just as if it were sending to a reply queue as\nusual). The message will then be sent straight to the client consumer.\n\nHowever this feature have some caveats and limitations [5]...\n\nEspecially the fact that the name `amq.rabbitmq.reply-to` is used in\n`basic.consume` and the `reply-to` property as if it were a queue;\nhowever it is not. It cannot be deleted, and does not appear in the\nmanagement plugin or `rabbitmqctl list_queues`.\n\nIf the RPC server publishes with the mandatory flag set then\n`amq.rabbitmq.reply-to.*` is treated as not a queue [5]; i.e. if the\nserver only publishes to this name then the message will be considered\n""not routed"" [5][6]; a `basic.return` will be sent if the mandatory flag\nwas set.\n\nExample with nova. nova-compute\'s RPC server by replying by sending a direct\n`reply-to` to the client saw these message non routed.\nAfter awhile the client reached the timeout as the\nmessage was never delivered to him, and then this had for side effect to\nleft a block_device_mapping record in the database, leaving it listed in\nthe os-volume_attachments API and `nova volume-attachments` output. This\nalso causes the subsequent attempts to attach the volume to fail as we\nalready have an active bdm record for it.\n\nHowever even without this patch this bug could be easily solved by\ndisabling the `direct_mandatory_flag` option, it could be a simple\nworkaround to unlock those who face a similar issue.\n\nIf the customers/operators seeing this repeatedly in their environment\nthen they could try to disable the\n`[oslo_messaging_rabbit]/direct_mandatory_flag` option in the computes\n`nova.conf`.\n\nChange-Id: I1cbafff03349f7da9224de46285707fbf2a81a68\nCloses-Bug: #1905965\n'}, {'number': 2, 'created': '2021-01-11 09:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/30c47d030a28b5dab366da40abd576279e470892', 'message': ""[WIP] Allow to loop for timeout when a MessageUndeliverable is raised\n\nMessageUnderliverable exception have been introduced by recently added\nmandatory flag feature, however clients aren't prepared to handle\nrecover on their side and so it doesn't lets a chance to the requester to\nrestablishes itself.\n\nThese changes leave the mandatory flag feature as it was implemented\nhowever they add the possibility to also define `at_least_once` in\nconfiguration to allow to loop for a timeout while a message remains\nunderliverable, as did with AMQPDestinationNotFound exception.\n\nIf the client explicitly set at_least_once=True, then when\nMessageUndeliverable is raised, we re-raise it back to the\nclient, with the assumption that it knows how to handle it.\n\nIf the client did not explicitly ask for it (the current case where nova\nand such do not use this API), then we can still use the\nfunctionality (the mandatory flag) within oslo.messaging, but we catch\nit and not re-raise it, the same way AMQPDestinationNotFound works currently.\n\nChange-Id: I1cbafff03349f7da9224de46285707fbf2a81a68\nCloses-Bug: #1905965\n""}, {'number': 3, 'created': '2021-01-11 14:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/146f5ba5e931e03e9d1d5d2d9dea45847a56eb7e', 'message': ""[WIP] Allow to loop for timeout when a MessageUndeliverable is caught\n\nMessageUnderliverable exception have been introduced by recently added\nmandatory flag feature, however clients aren't prepared to handle\nrecover on their side and so it doesn't lets a chance to the requester to\nrestablishes itself.\n\nThese changes leave the mandatory flag feature as it was implemented\nhowever they add the possibility to also define `at_least_once` in\nconfiguration to allow to loop for a timeout while a message remains\nunderliverable, as did with AMQPDestinationNotFound exception.\n\nIf the client explicitly set at_least_once=True, then when\nMessageUndeliverable is raised, we re-raise it back to the\nclient, with the assumption that it knows how to handle it.\n\nIf the client did not explicitly ask for it (the current case where nova\nand such do not use this API), then we can still use the\nfunctionality (the mandatory flag) within oslo.messaging, but we catch\nit and not re-raise it, the same way AMQPDestinationNotFound works currently.\n\nChange-Id: I1cbafff03349f7da9224de46285707fbf2a81a68\nCloses-Bug: #1905965\n""}, {'number': 4, 'created': '2021-01-18 15:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/46a971bda31444faa8ec2dfffda61200bc1c1eb7', 'message': ""Disabling the mandatory flag by default\n\nThis feature was mostly introduced to have a way for the RPC _client_ to\nfail fast when the RPC server is not present.\n\nWe shouldn't use the mandatory flag with the RPC server.\n\nAlso we didn't make enough noise related to this feature and to the\nfact that we want to fail early and so services aren't ready to\nhandle this case and on oslo.messaging we didn't bring a way to\nlets the time to redeclar exchanges properly. That lead us to a lot\nof inconsistent state and unexpected behaviors.\n\nThe goal is to disabling this feature for a while to let's us time to\ncatch/handle this case more properly with follow up patches.\n\nChange-Id: I1cbafff03349f7da9224de46285707fbf2a81a68\nCloses-Bug: #1905965\n""}, {'number': 5, 'created': '2021-01-22 11:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/af47f18e82aba43b256074a7d49d482b5e295b80', 'message': 'Deprecate the mandatory flag\n\nIt will not be possible to deactivate this fonctionality anymore.\n\nChange-Id: I1cbafff03349f7da9224de46285707fbf2a81a68\nCloses-Bug: #1905965\n'}, {'number': 6, 'created': '2021-01-22 13:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/2a3b3f8975526ecd6b141b9367f3ee7fc29db90b', 'message': 'Deprecate the mandatory flag\n\nIt will not be possible to deactivate this fonctionality anymore.\n\nChange-Id: I1cbafff03349f7da9224de46285707fbf2a81a68\n'}, {'number': 7, 'created': '2021-01-25 20:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/5d3387181e0f11d205ffec9b39046be12ccebc18', 'message': 'Deprecate the mandatory flag\n\nIt will not be possible to deactivate this fonctionality anymore.\n\nChange-Id: I1cbafff03349f7da9224de46285707fbf2a81a68\n'}, {'number': 8, 'created': '2021-02-01 09:31:45.000000000', 'files': ['releasenotes/notes/disable-mandatory-flag-a6210a534f3853f0.yaml', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/2b89d97888c9b6cd8b4f23e5ae7ce3103d5f9e5b', 'message': 'Deprecate the mandatory flag\n\nIt will not be possible to deactivate this functionality anymore.\n\nChange-Id: I1cbafff03349f7da9224de46285707fbf2a81a68\n'}]",4,764776,2b89d97888c9b6cd8b4f23e5ae7ce3103d5f9e5b,38,5,8,28522,,,0,"Deprecate the mandatory flag

It will not be possible to deactivate this functionality anymore.

Change-Id: I1cbafff03349f7da9224de46285707fbf2a81a68
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/76/764776/8 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,b61a4306934ed0bc0f0ea2b8af07f95e8635638d,flag," exchange, msg, routing_key=msg_id)"," options = oslo_messaging.TransportOptions( at_least_once=self.direct_mandatory_flag) exchange, msg, routing_key=msg_id, transport_options=options)",1,4
openstack%2Fopenstack-ansible~stable%2Fussuri~I6fedaf8d7cc3d3c0a0a3cfffc07a01e1d0bf70f1,openstack/openstack-ansible,stable/ussuri,I6fedaf8d7cc3d3c0a0a3cfffc07a01e1d0bf70f1,Bump SHAs for stable/ussuri,MERGED,2021-01-31 18:09:02.000000000,2021-02-01 16:48:44.000000000,2021-02-01 16:46:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-31 18:09:02.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/haproxy-hatop-df115640f77d7e3d.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/423e374738fba3560a7ff1d6ac02bc6effc03ac8', 'message': 'Bump SHAs for stable/ussuri\n\nChange-Id: I6fedaf8d7cc3d3c0a0a3cfffc07a01e1d0bf70f1\n'}]",0,773263,423e374738fba3560a7ff1d6ac02bc6effc03ac8,10,3,1,28619,,,0,"Bump SHAs for stable/ussuri

Change-Id: I6fedaf8d7cc3d3c0a0a3cfffc07a01e1d0bf70f1
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/63/773263/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/haproxy-hatop-df115640f77d7e3d.yaml', 'ansible-role-requirements.yml']",5,423e374738fba3560a7ff1d6ac02bc6effc03ac8,bump_osa, version: 4485110ab3b0beb4f9b0687ac32389caa15be327 version: 1e6ec68a1d595fa9c0772b2edc4b1c1eafae38c3 version: e6ccfd154361be9a5126ab87e5ed554e66ffe415, version: c504c7aa6fc65125372b14a5116400bc97bf27ad version: 1e31311b567708c58cd2c9077de67c4f912ddb3e version: 7efbc764c3a935d933fdedd1af008f7610f75992,63,53
openstack%2Fcharm-trilio-data-mover~stable%2F20.10~I3f10863c319dd178979e7d5996f0ccaffb3f3809,openstack/charm-trilio-data-mover,stable/20.10,I3f10863c319dd178979e7d5996f0ccaffb3f3809,Trigger another rebuild to pull in fix for LP 1913313,MERGED,2021-02-01 14:24:28.000000000,2021-02-01 16:41:37.000000000,2021-02-01 16:41:37.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-01 14:24:28.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/aced46fb9fd50e50aaac530e4e336619eaa3b8ba', 'message': 'Trigger another rebuild to pull in fix for LP 1913313\n\nCloses-Bug: 1913313\nChange-Id: I3f10863c319dd178979e7d5996f0ccaffb3f3809\n'}]",0,773402,aced46fb9fd50e50aaac530e4e336619eaa3b8ba,8,4,1,6737,,,0,"Trigger another rebuild to pull in fix for LP 1913313

Closes-Bug: 1913313
Change-Id: I3f10863c319dd178979e7d5996f0ccaffb3f3809
",git fetch https://review.opendev.org/openstack/charm-trilio-data-mover refs/changes/02/773402/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,aced46fb9fd50e50aaac530e4e336619eaa3b8ba,bug/1913313,40d9ca1f-5c9f-4939-9af0-f8b727aa7a93,009e17dc-abe2-4462-adb6-b7128b581641,1,1
openstack%2Freleases~master~If24247b102ab73572b993dfc3797c528dbdc3012,openstack/releases,master,If24247b102ab73572b993dfc3797c528dbdc3012,Release kolla-ansible for stable/train,MERGED,2021-01-29 14:14:16.000000000,2021-02-01 16:41:30.000000000,2021-02-01 16:41:30.000000000,"[{'_account_id': 308}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-29 14:14:16.000000000', 'files': ['deliverables/train/kolla-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6b0b7644109506f2944a7d45dd98f4aabc71f6d4', 'message': 'Release kolla-ansible for stable/train\n\nThis release picks up new commits to kolla-ansible since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: If24247b102ab73572b993dfc3797c528dbdc3012\n'}]",0,773055,6b0b7644109506f2944a7d45dd98f4aabc71f6d4,10,5,1,17685,,,0,"Release kolla-ansible for stable/train

This release picks up new commits to kolla-ansible since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: If24247b102ab73572b993dfc3797c528dbdc3012
",git fetch https://review.opendev.org/openstack/releases refs/changes/55/773055/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/kolla-ansible.yaml'],1,6b0b7644109506f2944a7d45dd98f4aabc71f6d4,train-stable, - version: 9.3.1 projects: - repo: openstack/kolla-ansible hash: 3be1493ce818e03c93df3087d1b5cea5c07e07a5,,4,0
openstack%2Fnova~stable%2Ftrain~I0c3f14100a18107f7e416293f3d4fcc641ce5e55,openstack/nova,stable/train,I0c3f14100a18107f7e416293f3d4fcc641ce5e55,libvirt: Correctly resize encrypted LUKSv1 volumes,ABANDONED,2020-03-22 12:43:27.000000000,2021-02-01 16:35:03.000000000,,[{'_account_id': 29963}],"[{'number': 1, 'created': '2020-03-22 12:43:27.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cdb2937ba5f40d51d03620c8468bd432f7d06691', 'message': ""libvirt: Correctly resize encrypted LUKSv1 volumes\n\nWhen extending volumes the Libvirt virt driver first calls os-brick to\nrefresh any host block devices so they show their new extended size\nbefore calling down into Libvirt's virDomainBlockResize API to do the\nsame within the instance.\n\nWhen extending encrypted LUKSv1 volumes the new size of the volume\nprovided to the virDomainBlockResize API did not previously take the\nspace already consumed by the LUKSv1 header into account. As a result\nany attempt to extend a host block device based encrypted LUKSv1 volume\nwould fail as Libvirt would need to grow the device to allow room for\nthe LUKSv1 header.\n\nThis change corrects this by inspecting the host block device or remote\nRBD volume using ``qemu-img info``. Since oslo.utils 4.1.0 the returned\nQemuImgInfo object that encapsulates the output of this call now\nincludes LUKSv1 specific data such as the offset of the encrypted\npayload, essentially where the users data actually starts within the\nvolume.\n\nBy subtracting this offset from the new overall size of the extended\nvolume we can ensure calls to virDomainBlockResize will now succeed as\nno attempt will be made by Libvirt to grow the device.\n\nFuture work will also need to handle this extend_volume use case for\n``dm-crypt`` based encryption providers ``plain`` and ``luks2``.\n\nCloses-Bug: #1861071\nDepends-On: https://review.opendev.org/706880\nChange-Id: I0c3f14100a18107f7e416293f3d4fcc641ce5e55\n(cherry picked from commit 961df123934046b67fb95d1d18501913d5c20f29)\n""}]",0,714295,cdb2937ba5f40d51d03620c8468bd432f7d06691,5,1,1,10135,,,0,"libvirt: Correctly resize encrypted LUKSv1 volumes

When extending volumes the Libvirt virt driver first calls os-brick to
refresh any host block devices so they show their new extended size
before calling down into Libvirt's virDomainBlockResize API to do the
same within the instance.

When extending encrypted LUKSv1 volumes the new size of the volume
provided to the virDomainBlockResize API did not previously take the
space already consumed by the LUKSv1 header into account. As a result
any attempt to extend a host block device based encrypted LUKSv1 volume
would fail as Libvirt would need to grow the device to allow room for
the LUKSv1 header.

This change corrects this by inspecting the host block device or remote
RBD volume using ``qemu-img info``. Since oslo.utils 4.1.0 the returned
QemuImgInfo object that encapsulates the output of this call now
includes LUKSv1 specific data such as the offset of the encrypted
payload, essentially where the users data actually starts within the
volume.

By subtracting this offset from the new overall size of the extended
volume we can ensure calls to virDomainBlockResize will now succeed as
no attempt will be made by Libvirt to grow the device.

Future work will also need to handle this extend_volume use case for
``dm-crypt`` based encryption providers ``plain`` and ``luks2``.

Closes-Bug: #1861071
Depends-On: https://review.opendev.org/706880
Change-Id: I0c3f14100a18107f7e416293f3d4fcc641ce5e55
(cherry picked from commit 961df123934046b67fb95d1d18501913d5c20f29)
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/714295/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,cdb2937ba5f40d51d03620c8468bd432f7d06691,," block_device = mock.Mock(spec=libvirt_guest.BlockDevice, _disk=mock.sentinel.disk) block_device = mock.Mock(spec=libvirt_guest.BlockDevice, _disk=mock.sentinel.disk) block_device = mock.Mock(spec=libvirt_guest.BlockDevice, _disk=mock.sentinel.disk) block_device = mock.Mock(spec=libvirt_guest.BlockDevice, _disk=mock.sentinel.disk) def test_extend_volume_luksv1_unknown_path(self, mock_get_encryption_metadata): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) instance = objects.Instance(**self.test_instance) connection_info = { 'serial': uuids.volume_id, 'driver_volume_type': 'fake', 'data': {'access_mode': 'rw'} } disk_1 = mock.Mock(spec=vconfig.LibvirtConfigGuestDisk, serial=uuids.volume_id, target_dev=mock.sentinel.disk_1_target_dev) block_device = mock.Mock(spec=libvirt_guest.BlockDevice, _disk=mock.sentinel.disk) guest = mock.Mock(spec=libvirt_guest.Guest) guest.get_block_device.return_value = block_device guest.get_power_state.return_value = power_state.RUNNING guest.get_all_disks.return_value = [disk_1] # The requested_size is provided to extend_volume in bytes. new_size = 20 * units.Gi drvr._host.get_guest = mock.Mock(return_value=guest) drvr._extend_volume = mock.Mock(return_value=new_size) mock_get_encryption_metadata.return_value = { 'provider': 'luks', 'control_location': 'front-end'} # Assert that DiskNotFound is raised self.assertRaises(exception.DiskNotFound, drvr.extend_volume, self.context, connection_info, instance, new_size) # Assert that resize is not called block_device.resize.assert_not_called() @mock.patch('os_brick.encryptors.get_encryption_metadata') @mock.patch('nova.privsep.qemu.privileged_qemu_img_info') def test_extend_volume_luksv1_DiskNotFound(self, mock_qemu_img_info, mock_get_encryption_metadata): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) instance = objects.Instance(**self.test_instance) connection_info = { 'serial': uuids.volume_id, 'driver_volume_type': 'fake', 'data': {'device_path': mock.sentinel.device_path, 'access_mode': 'rw'} } block_device = mock.Mock(spec=libvirt_guest.BlockDevice, _disk=mock.sentinel.disk) guest = mock.Mock(spec=libvirt_guest.Guest) guest.get_block_device.return_value = block_device guest.get_power_state.return_value = power_state.RUNNING # The requested_size is provided to extend_volume in bytes. new_size = 20 * units.Gi drvr._host.get_guest = mock.Mock(return_value=guest) drvr._extend_volume = mock.Mock(return_value=new_size) mock_qemu_img_info.side_effect = exception.DiskNotFound( location=mock.sentinel.device_path) mock_get_encryption_metadata.return_value = { 'provider': 'luks', 'control_location': 'front-end'} # Assert that DiskNotFound is raised self.assertRaises(exception.DiskNotFound, drvr.extend_volume, self.context, connection_info, instance, new_size) # Assert that resize is not called block_device.resize.assert_not_called() @mock.patch('os_brick.encryptors.get_encryption_metadata') @mock.patch('nova.privsep.qemu.privileged_qemu_img_info') def test_extend_volume_luksv1_block(self, mock_qemu_img_info, mock_get_encryption_metadata): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) instance = objects.Instance(**self.test_instance) connection_info = { 'serial': uuids.volume_id, 'driver_volume_type': 'fake', 'data': {'device_path': mock.sentinel.device_path, 'access_mode': 'rw'} } block_device = mock.Mock(spec=libvirt_guest.BlockDevice, _disk=mock.sentinel.disk) guest = mock.Mock(spec=libvirt_guest.Guest) guest.get_block_device.return_value = block_device guest.get_power_state.return_value = power_state.RUNNING conn = mock.Mock() conn.getVersion = mock.Mock(return_value=mock.sentinel.qemu_version) # The requested_size is provided to extend_volume in bytes. new_size = 20 * units.Gi # The LUKSv1 payload offset as reported by qemu-img info in bytes. payload_offset = 2048 * units.Ki # The new size is provided to Libvirt virDomainBlockResize in units.Ki. new_size_minus_offset_kb = (new_size - payload_offset) // units.Ki drvr._host.get_connection = mock.Mock(return_value=conn) drvr._host.get_guest = mock.Mock(return_value=guest) drvr._extend_volume = mock.Mock(return_value=new_size) info_dict = { 'format-specific': {'data': {'payload-offset': payload_offset}}} mock_qemu_img_info.return_value = jsonutils.dumps(info_dict) mock_get_encryption_metadata.return_value = { 'provider': 'luks', 'control_location': 'front-end'} # Extend the volume to new_size drvr.extend_volume(self.context, connection_info, instance, new_size) # Assert that the expected calls are made prior to the device resize. drvr._host.get_guest.assert_called_once_with(instance) guest.get_power_state.assert_called_once_with(drvr._host) guest.get_block_device(mock.sentinel.device_path) mock_get_encryption_metadata.assert_called_once_with( self.context, drvr._volume_api, uuids.volume_id, connection_info) mock_qemu_img_info.assert_called_once_with( mock.sentinel.device_path, output_format='json', qemu_version=mock.sentinel.qemu_version) # Assert that the Libvirt call to resize the device within the instance # is called with the LUKSv1 payload offset taken into account. block_device.resize.assert_called_once_with(new_size_minus_offset_kb) @mock.patch('os_brick.encryptors.get_encryption_metadata') @mock.patch('nova.privsep.qemu.privileged_qemu_img_info') def test_extend_volume_luksv1_rbd(self, mock_qemu_img_info, mock_get_encryption_metadata): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) instance = objects.Instance(**self.test_instance) connection_info = { 'serial': uuids.volume_id, 'driver_volume_type': 'rbd', 'data': {'name': 'pool/volume', 'access_mode': 'rw'} } disk_1 = mock.Mock(spec=vconfig.LibvirtConfigGuestDisk, serial=uuids.volume_id, target_dev=mock.sentinel.disk_1_target_dev) disk_2 = mock.Mock(spec=vconfig.LibvirtConfigGuestDisk, serial=uuids.extra_volume_id, target_dev=mock.sentinel.disk_2_target_dev) block_device = mock.Mock(spec=libvirt_guest.BlockDevice, _disk=mock.sentinel.disk_1_target_dev) guest = mock.Mock(spec=libvirt_guest.Guest) guest.get_block_device.return_value = block_device guest.get_power_state.return_value = power_state.RUNNING guest.get_all_disks.return_value = [disk_1, disk_2] conn = mock.Mock() conn.getVersion = mock.Mock(return_value=mock.sentinel.qemu_version) # The requested_size is provided to extend_volume in bytes. new_size = 20 * units.Gi # The LUKSv1 payload offset as reported by qemu-img info in bytes. payload_offset = 2048 * units.Ki # The new size is provided to Libvirt virDomainBlockResize in units.Ki. new_size_minus_offset_kb = (new_size - payload_offset) // units.Ki drvr._host.get_connection = mock.Mock(return_value=conn) drvr._host.get_guest = mock.Mock(return_value=guest) drvr._extend_volume = mock.Mock(return_value=new_size) info_dict = { 'format-specific': {'data': {'payload-offset': payload_offset}}} mock_qemu_img_info.return_value = jsonutils.dumps(info_dict) mock_get_encryption_metadata.return_value = { 'provider': 'luks', 'control_location': 'front-end'} # Extend the volume to new_size drvr.extend_volume(self.context, connection_info, instance, new_size) # Assert that the expected calls are made prior to the device resize. drvr._host.get_guest.assert_called_once_with(instance) guest.get_power_state.assert_called_once_with(drvr._host) guest.get_block_device(mock.sentinel.disk_1_target_dev) mock_get_encryption_metadata.assert_called_once_with( self.context, drvr._volume_api, uuids.volume_id, connection_info) mock_qemu_img_info.assert_called_once_with( 'rbd:pool/volume', output_format='json', qemu_version=mock.sentinel.qemu_version) # Assert that the Libvirt call to resize the device within the instance # is called with the LUKSv1 payload offset taken into account. block_device.resize.assert_called_once_with(new_size_minus_offset_kb) @mock.patch('os_brick.encryptors.get_encryption_metadata')", block_device = mock.Mock(spec=libvirt_guest.BlockDevice) block_device = mock.Mock(spec=libvirt_guest.BlockDevice) block_device = mock.Mock(spec=libvirt_guest.BlockDevice) block_device = mock.Mock(spec=libvirt_guest.BlockDevice),285,10
openstack%2Fnova~stable%2Ftrain~I5ac03f923d9d181d22d44d8ec8fbc31eb0c3999e,openstack/nova,stable/train,I5ac03f923d9d181d22d44d8ec8fbc31eb0c3999e,images: Move qemu-img info calls into privsep,ABANDONED,2020-03-22 12:43:27.000000000,2021-02-01 16:34:58.000000000,,"[{'_account_id': 14595}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-22 12:43:27.000000000', 'files': ['nova/privsep/qemu.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/virt/images.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4e62c7caf79eeaad3fa59e5dfa2fb6a1bfffc146', 'message': 'images: Move qemu-img info calls into privsep\n\nThis is mostly code motion from the nova.virt.images module into privsep\nto allow for both privileged and unprivileged calls to be made.\n\nA privileged_qemu_img_info function is introduced allowing QEMU to\naccess devices requiring root privileges, such as host block devices.\n\nChange-Id: I5ac03f923d9d181d22d44d8ec8fbc31eb0c3999e\n(cherry picked from commit 03d6eb500f85a417f84a7bf4a9f4ceb275c9a67e)\n'}]",0,714292,4e62c7caf79eeaad3fa59e5dfa2fb6a1bfffc146,6,2,1,10135,,,0,"images: Move qemu-img info calls into privsep

This is mostly code motion from the nova.virt.images module into privsep
to allow for both privileged and unprivileged calls to be made.

A privileged_qemu_img_info function is introduced allowing QEMU to
access devices requiring root privileges, such as host block devices.

Change-Id: I5ac03f923d9d181d22d44d8ec8fbc31eb0c3999e
(cherry picked from commit 03d6eb500f85a417f84a7bf4a9f4ceb275c9a67e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/714292/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/privsep/qemu.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/virt/images.py']",3,4e62c7caf79eeaad3fa59e5dfa2fb6a1bfffc146,,"# This is set by the libvirt driver on startup. The version is used to # determine what flags need to be set on the command line. QEMU_VERSION = None info = nova.privsep.qemu.unprivileged_qemu_img_info( path, format=format, qemu_version=QEMU_VERSION) return imageutils.QemuImgInfo(info)","import operatorfrom oslo_utils import unitsQEMU_IMG_LIMITS = processutils.ProcessLimits( cpu_time=30, address_space=1 * units.Gi) # This is set by the libvirt driver on startup. The version is used to # determine what flags need to be set on the command line. QEMU_VERSION = None QEMU_VERSION_REQ_SHARED = 2010000 try: # The following check is about ploop images that reside within # directories and always have DiskDescriptor.xml file beside them if (os.path.isdir(path) and os.path.exists(os.path.join(path, ""DiskDescriptor.xml""))): path = os.path.join(path, ""root.hds"") cmd = ('env', 'LC_ALL=C', 'LANG=C', 'qemu-img', 'info', path) if format is not None: cmd = cmd + ('-f', format) # Check to see if the qemu version is >= 2.10 because if so, we need # to add the --force-share flag. if QEMU_VERSION and operator.ge(QEMU_VERSION, QEMU_VERSION_REQ_SHARED): cmd = cmd + ('--force-share',) out, err = processutils.execute(*cmd, prlimit=QEMU_IMG_LIMITS) except processutils.ProcessExecutionError as exp: if exp.exit_code == -9: # this means we hit prlimits, make the exception more specific msg = (_(""qemu-img aborted by prlimits when inspecting "" ""%(path)s : %(exp)s"") % {'path': path, 'exp': exp}) elif exp.exit_code == 1 and 'No such file or directory' in exp.stderr: # The os.path.exists check above can race so this is a simple # best effort at catching that type of failure and raising a more # specific error. raise exception.DiskNotFound(location=path) else: msg = (_(""qemu-img failed to execute on %(path)s : %(exp)s"") % {'path': path, 'exp': exp}) raise exception.InvalidDiskInfo(reason=msg) if not out: msg = (_(""Failed to run qemu-img info on %(path)s : %(error)s"") % {'path': path, 'error': err}) raise exception.InvalidDiskInfo(reason=msg) return imageutils.QemuImgInfo(out)",102,81
openstack%2Fnova~stable%2Ftrain~I0b6d1a98726ffa1ebc78fb3c4563a2e4b40ddeff,openstack/nova,stable/train,I0b6d1a98726ffa1ebc78fb3c4563a2e4b40ddeff,images: Allow the output format of qemu-img info to be controlled,ABANDONED,2020-03-22 12:43:27.000000000,2021-02-01 16:34:55.000000000,,"[{'_account_id': 14595}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-22 12:43:27.000000000', 'files': ['nova/privsep/qemu.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/virt/images.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0f54899d92d3a1c9878a87ba204c35753559081b', 'message': 'images: Allow the output format of qemu-img info to be controlled\n\nThis will allow for the use of the JSON output format that is easier to\nparse within QemuImgInfo and should allow additional information to be\nextracted from qemu-img calls in the future.\n\nChange-Id: I0b6d1a98726ffa1ebc78fb3c4563a2e4b40ddeff\n(cherry picked from commit 28f3e0070a214f750ecad8bd8001ccb5c5c27fd4)\n'}]",0,714293,0f54899d92d3a1c9878a87ba204c35753559081b,6,2,1,10135,,,0,"images: Allow the output format of qemu-img info to be controlled

This will allow for the use of the JSON output format that is easier to
parse within QemuImgInfo and should allow additional information to be
extracted from qemu-img calls in the future.

Change-Id: I0b6d1a98726ffa1ebc78fb3c4563a2e4b40ddeff
(cherry picked from commit 28f3e0070a214f750ecad8bd8001ccb5c5c27fd4)
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/714293/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/privsep/qemu.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/virt/images.py']",3,0f54899d92d3a1c9878a87ba204c35753559081b,,"def qemu_img_info(path, format=None, output_format=None): path, format=format, qemu_version=QEMU_VERSION, output_format=output_format) if output_format: return imageutils.QemuImgInfo(info, format=output_format) else: return imageutils.QemuImgInfo(info)","def qemu_img_info(path, format=None): path, format=format, qemu_version=QEMU_VERSION) return imageutils.QemuImgInfo(info)",39,6
openstack%2Fnova~stable%2Ftrain~I0ef84dd0a6c3f1788caf7d3a8e3837203f6d5429,openstack/nova,stable/train,I0ef84dd0a6c3f1788caf7d3a8e3837203f6d5429,virt: Pass request context to extend_volume,ABANDONED,2020-03-22 12:43:27.000000000,2021-02-01 16:34:53.000000000,,"[{'_account_id': 10135}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-22 12:43:27.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/libvirt/driver.py', 'nova/virt/fake.py', 'nova/tests/unit/virt/powervm/test_driver.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/powervm/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3edbb9e9fdec25e8a6129742bbd6dbe8e1dfab25', 'message': ""virt: Pass request context to extend_volume\n\nRequired by an upcoming bugfix to the Libvirt driver's implementation of\nextend_volume that will require external authenticated calls to Cinder\nand Barbican.\n\nChange-Id: I0ef84dd0a6c3f1788caf7d3a8e3837203f6d5429\n(cherry picked from commit 7f12c785bc284f4436ee8c32c4c0987e836ae9ed)\n""}]",0,714294,3edbb9e9fdec25e8a6129742bbd6dbe8e1dfab25,6,2,1,10135,,,0,"virt: Pass request context to extend_volume

Required by an upcoming bugfix to the Libvirt driver's implementation of
extend_volume that will require external authenticated calls to Cinder
and Barbican.

Change-Id: I0ef84dd0a6c3f1788caf7d3a8e3837203f6d5429
(cherry picked from commit 7f12c785bc284f4436ee8c32c4c0987e836ae9ed)
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/714294/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/powervm/test_driver.py', 'nova/virt/fake.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/powervm/driver.py']",8,3edbb9e9fdec25e8a6129742bbd6dbe8e1dfab25,," def extend_volume(self, context, connection_info, instance, requested_size): :param context: security context"," def extend_volume(self, connection_info, instance, requested_size):",24,16
openstack%2Fcharm-trilio-wlm~master~Id0602f52bf8b33abb7fb444a020301c07a656c98,openstack/charm-trilio-wlm,master,Id0602f52bf8b33abb7fb444a020301c07a656c98,Add support for Trilio 4.1 and 20.01 Updates,MERGED,2021-01-12 08:35:52.000000000,2021-02-01 16:33:54.000000000,2021-02-01 16:33:54.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 08:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/c3132eee9de0cf0bb3344f5a5a57fa5bdf0516d2', 'message': 'Add support for Trilio 4.1\n\nChange-Id: Id0602f52bf8b33abb7fb444a020301c07a656c98\n'}, {'number': 2, 'created': '2021-01-19 14:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/a26a0c64a32e452520f8c4a31fb4ea4c382dc79c', 'message': 'Add support for Trilio 4.1\n\nChange-Id: Id0602f52bf8b33abb7fb444a020301c07a656c98\n'}, {'number': 3, 'created': '2021-01-20 10:57:47.000000000', 'files': ['src/tests/bundles/bionic-queens-ssl.yaml', 'src/tests/bundles/bionic-train-ssl.yaml', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/lib/charm/openstack/trilio_wlm.py', 'src/tests/bundles/bionic-stein-ssl.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/3f6884cce98c5cdda847c86984753253736c8f6a', 'message': 'Add support for Trilio 4.1 and 20.01 Updates\n\nAdd Trilio 4.1 support\n\nIncludes updates to charmhelpers/charms.openstack for cert_utils\nand unit-get for the install hook error on Juju 2.9\n\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure master branch for charms.openstack\n  - ensure master branch for charm-helpers\n\nChange-Id: Id0602f52bf8b33abb7fb444a020301c07a656c98\n'}]",0,770245,3f6884cce98c5cdda847c86984753253736c8f6a,28,3,3,12549,,,0,"Add support for Trilio 4.1 and 20.01 Updates

Add Trilio 4.1 support

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

Change-Id: Id0602f52bf8b33abb7fb444a020301c07a656c98
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/45/770245/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/trilio_wlm.py', 'src/tests/tests.yaml']",2,c3132eee9de0cf0bb3344f5a5a57fa5bdf0516d2,change-770245-2," workload-status-message: ""Ceph broker request incomplete"" glance: workload-status: waiting workload-status-message: ""Incomplete relations: storage-backend"""," workload-status-message: ""Incomplete relations: ceph""",17,4
openstack%2Ftripleo-upgrade~stable%2Fvictoria~I2228cf081c5449cad4b0e91aeb5fc044b74182f6,openstack/tripleo-upgrade,stable/victoria,I2228cf081c5449cad4b0e91aeb5fc044b74182f6,"Revert ""Add wait_for_connection check after system_upgrade""",MERGED,2021-01-29 14:23:23.000000000,2021-02-01 16:25:44.000000000,2021-02-01 16:25:44.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 20171}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 14:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e901467f9f10d5faf8c84e4835f00b46beeac3f7', 'message': 'Revert ""Add wait_for_connection check after system_upgrade""\n\nThis reverts commit 5aef752d8e4f012c193fe7ba8a93c81cbae12c36.\n\nReason for revert:\n\nThe timeout for the reboot should be handled by adjusting UpgradeLeappRebootTimeout as can be seen in https://opendev.org/openstack/tripleo-heat-templates/src/branch/stable/train/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L63-L66\n\nChange-Id: I2228cf081c5449cad4b0e91aeb5fc044b74182f6\n'}, {'number': 2, 'created': '2021-01-29 14:28:34.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/df15081d689245cbc3ebd7275b79a9f479db4bae', 'message': 'Revert ""Add wait_for_connection check after system_upgrade""\n\nThis reverts commit 5aef752d8e4f012c193fe7ba8a93c81cbae12c36.\n\nReason for revert:\n\nThe timeout for the reboot should be handled by adjusting UpgradeLeappRebootTimeout as can be seen in https://opendev.org/openstack/tripleo-heat-templates/src/branch/stable/train/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L63-L66\n\nChange-Id: I2228cf081c5449cad4b0e91aeb5fc044b74182f6\n'}]",0,773004,df15081d689245cbc3ebd7275b79a9f479db4bae,9,4,2,6816,,,0,"Revert ""Add wait_for_connection check after system_upgrade""

This reverts commit 5aef752d8e4f012c193fe7ba8a93c81cbae12c36.

Reason for revert:

The timeout for the reboot should be handled by adjusting UpgradeLeappRebootTimeout as can be seen in https://opendev.org/openstack/tripleo-heat-templates/src/branch/stable/train/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L63-L66

Change-Id: I2228cf081c5449cad4b0e91aeb5fc044b74182f6
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/04/773004/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'],1,e901467f9f10d5faf8c84e4835f00b46beeac3f7,master, ######## overcloud upgrade run ########,######## check overcloud is up up after system upgrade ######## - name: check {{ host }} is up after boot wait_for_connection: delay: 30 sleep: 30 timeout: 600 ######## overcloud upgrade run ########,1,8
openstack%2Ftripleo-upgrade~stable%2Fussuri~I60c11180dac1baede59074027995d07e7fb35d8e,openstack/tripleo-upgrade,stable/ussuri,I60c11180dac1baede59074027995d07e7fb35d8e,"Revert ""Add wait_for_connection check after system_upgrade""",MERGED,2021-01-29 14:24:18.000000000,2021-02-01 16:25:41.000000000,2021-02-01 16:25:41.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 20171}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 14:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8179df10e5068ef36812a69beac0f03383b376d4', 'message': 'Revert ""Add wait_for_connection check after system_upgrade""\n\nThis reverts commit 09f6804b009eb32cbf428c9f03c4600f705dd467.\n\nReason for revert:\n\nThe timeout for the reboot should be handled by adjusting UpgradeLeappRebootTimeout as can be seen in https://opendev.org/openstack/tripleo-heat-templates/src/branch/stable/train/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L63-L66\n\nChange-Id: I60c11180dac1baede59074027995d07e7fb35d8e\n'}, {'number': 2, 'created': '2021-01-29 14:33:09.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/704d778c640a20a46086baad8e012d25494dbe9a', 'message': 'Revert ""Add wait_for_connection check after system_upgrade""\n\nThis reverts commit 09f6804b009eb32cbf428c9f03c4600f705dd467.\n\nReason for revert:\n\nThe timeout for the reboot should be handled by adjusting\nUpgradeLeappRebootTimeout as can be seen in\nhttps://opendev.org/openstack/tripleo-heat-templates/src/branch/stable/train/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L63-L66\n\nChange-Id: I60c11180dac1baede59074027995d07e7fb35d8e\n'}]",0,773005,704d778c640a20a46086baad8e012d25494dbe9a,10,4,2,6816,,,0,"Revert ""Add wait_for_connection check after system_upgrade""

This reverts commit 09f6804b009eb32cbf428c9f03c4600f705dd467.

Reason for revert:

The timeout for the reboot should be handled by adjusting
UpgradeLeappRebootTimeout as can be seen in
https://opendev.org/openstack/tripleo-heat-templates/src/branch/stable/train/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L63-L66

Change-Id: I60c11180dac1baede59074027995d07e7fb35d8e
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/05/773005/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'],1,8179df10e5068ef36812a69beac0f03383b376d4,, ######## overcloud upgrade run ########,######## check overcloud is up up after system upgrade ######## - name: check {{ host }} is up after boot wait_for_connection: delay: 30 sleep: 30 timeout: 600 ######## overcloud upgrade run ########,1,8
openstack%2Fglance~master~I31b4dae018d52ead773db25472013d783066ee17,openstack/glance,master,I31b4dae018d52ead773db25472013d783066ee17,Make os_glance namespace reserved,MERGED,2021-01-15 19:47:00.000000000,2021-02-01 16:21:21.000000000,2021-02-01 16:19:28.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-15 19:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5a5c142ab47f6825eff8d8318d88b97a2091a841', 'message': 'Make os_glance namespace reserved\n\nThis adds a general mechanism for reserving property names that start\nwith os_glance. This has been done informally already, but no\nenforcement was performed, except for specific keys on update. As a\nresult, banning these keys from create, for example, was missed and\nusers are able to set these keys during an POST /images operation.\n\nChange-Id: I31b4dae018d52ead773db25472013d783066ee17\nCloses-Bug: #1912001\n'}, {'number': 2, 'created': '2021-01-18 15:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1a779888dd3e68b26d8b54bd1ddf15c3284cc462', 'message': 'Make os_glance namespace reserved\n\nThis adds a general mechanism for reserving property names that start\nwith os_glance. This has been done informally already, but no\nenforcement was performed, except for specific keys on update. As a\nresult, banning these keys from create, for example, was missed and\nusers are able to set these keys during an POST /images operation.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/771234\nChange-Id: I31b4dae018d52ead773db25472013d783066ee17\nCloses-Bug: #1912001\n'}, {'number': 3, 'created': '2021-01-22 21:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1800be495494bd422ae418f7a3631ac02d2f9954', 'message': 'Make os_glance namespace reserved\n\nThis adds a general mechanism for reserving property names that start\nwith os_glance. This has been done informally already, but no\nenforcement was performed, except for specific keys on update. As a\nresult, banning these keys from create, for example, was missed and\nusers are able to set these keys during an POST /images operation.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/771234\nChange-Id: I31b4dae018d52ead773db25472013d783066ee17\nCloses-Bug: #1912001\n'}, {'number': 4, 'created': '2021-01-25 19:33:53.000000000', 'files': ['glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/0c45de3ed8253096bb9d4031db8e046107e2774b', 'message': 'Make os_glance namespace reserved\n\nThis adds a general mechanism for reserving property names that start\nwith os_glance. This has been done informally already, but no\nenforcement was performed, except for specific keys on update. As a\nresult, banning these keys from create, for example, was missed and\nusers are able to set these keys during an POST /images operation.\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/771234\nChange-Id: I31b4dae018d52ead773db25472013d783066ee17\nCloses-Bug: #1912001\n'}]",2,771070,0c45de3ed8253096bb9d4031db8e046107e2774b,26,3,4,4393,,,0,"Make os_glance namespace reserved

This adds a general mechanism for reserving property names that start
with os_glance. This has been done informally already, but no
enforcement was performed, except for specific keys on update. As a
result, banning these keys from create, for example, was missed and
users are able to set these keys during an POST /images operation.

Depends-On: https://review.opendev.org/c/openstack/nova/+/771234
Change-Id: I31b4dae018d52ead773db25472013d783066ee17
Closes-Bug: #1912001
",git fetch https://review.opendev.org/openstack/glance refs/changes/70/771070/4 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py']",2,5a5c142ab47f6825eff8d8318d88b97a2091a841,os-glance-namespace," {'os_glance_foo': 'foo'}, 'os_glance_import_task': 'foo', 'os_glance_anything': 'bar', 'os_glance_': 'baz', 'os_glance': 'bat',",,17,2
openstack%2Ftripleo-operator-ansible~master~Ic8dcdf1c802d9c24683ba7ad0bb1e213847eed94,openstack/tripleo-operator-ansible,master,Ic8dcdf1c802d9c24683ba7ad0bb1e213847eed94,Add yes overrides to the minor update roles,MERGED,2021-01-30 07:55:18.000000000,2021-02-01 16:17:45.000000000,2021-02-01 16:17:45.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-01-30 07:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/509e21bb47345e5b25ba13632bc868b50e1be683', 'message': 'Add yes overrides to the minor update steps\n\nChange-Id: Ic8dcdf1c802d9c24683ba7ad0bb1e213847eed94\n'}, {'number': 2, 'created': '2021-01-30 16:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/833d25a5c1ff083cf1156d72b3daae4897febe02', 'message': 'Add yes overrides to the minor update roles\n\nChange-Id: Ic8dcdf1c802d9c24683ba7ad0bb1e213847eed94\n'}, {'number': 3, 'created': '2021-01-30 17:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/2d6c8353c4157604a60b4a4939c8bfb2e26de65f', 'message': 'Add yes overrides to the minor update roles\n\nThe tripleoclient will ask for a yes prompt before proceeding\nwith running minor update commands. Adding an override allows\nskipping this prompt.\n\nChange-Id: Ic8dcdf1c802d9c24683ba7ad0bb1e213847eed94\n'}, {'number': 4, 'created': '2021-01-30 19:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/9b1a3f3bf4b8666e1158620c71e5f58dc30a6847', 'message': 'Add yes overrides to the minor update roles\n\nThe tripleoclient will ask for a yes prompt before proceeding\nwith running minor update commands. Adding an override allows\nskipping this prompt.\n\nChange-Id: Ic8dcdf1c802d9c24683ba7ad0bb1e213847eed94\n'}, {'number': 5, 'created': '2021-01-30 23:01:04.000000000', 'files': ['roles/tripleo_overcloud_update_converge/tasks/main.yml', 'roles/tripleo_overcloud_update_converge/README.md', 'roles/tripleo_overcloud_update_prepare/README.md', 'roles/tripleo_overcloud_update_prepare/defaults/main.yml', 'roles/tripleo_overcloud_update_run/molecule/default/converge.yml', 'roles/tripleo_overcloud_update_run/tasks/main.yml', 'roles/tripleo_overcloud_external_update_run/tasks/main.yml', 'roles/tripleo_overcloud_external_update_run/README.md', 'roles/tripleo_overcloud_update_prepare/tasks/main.yml', 'roles/tripleo_overcloud_update_converge/defaults/main.yml', 'roles/tripleo_overcloud_update_run/defaults/main.yml', 'roles/tripleo_overcloud_external_update_run/molecule/default/converge.yml', 'roles/tripleo_overcloud_update_prepare/molecule/default/converge.yml', 'roles/tripleo_overcloud_update_converge/molecule/default/converge.yml', 'roles/tripleo_overcloud_external_update_run/defaults/main.yml', 'roles/tripleo_overcloud_update_run/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/14a601a47be217386df83512fae3a2e5aa5444a3', 'message': 'Add yes overrides to the minor update roles\n\nThe tripleoclient will ask for a yes prompt before proceeding\nwith running minor update commands. Adding an override allows\nskipping this prompt.\n\nChange-Id: Ic8dcdf1c802d9c24683ba7ad0bb1e213847eed94\n'}]",3,773228,14a601a47be217386df83512fae3a2e5aa5444a3,16,3,5,29268,,,0,"Add yes overrides to the minor update roles

The tripleoclient will ask for a yes prompt before proceeding
with running minor update commands. Adding an override allows
skipping this prompt.

Change-Id: Ic8dcdf1c802d9c24683ba7ad0bb1e213847eed94
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/28/773228/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_update_converge/tasks/main.yml', 'roles/tripleo_overcloud_update_converge/README.md', 'roles/tripleo_overcloud_update_prepare/README.md', 'roles/tripleo_overcloud_update_prepare/defaults/main.yml', 'roles/tripleo_overcloud_update_run/molecule/default/converge.yml', 'roles/tripleo_overcloud_update_run/tasks/main.yml', 'roles/tripleo_overcloud_external_update_run/tasks/main.yml', 'roles/tripleo_overcloud_external_update_run/README.md', 'roles/tripleo_overcloud_update_prepare/tasks/main.yml', 'roles/tripleo_overcloud_update_converge/defaults/main.yml', 'roles/tripleo_overcloud_update_run/defaults/main.yml', 'roles/tripleo_overcloud_external_update_run/molecule/default/converge.yml', 'roles/tripleo_overcloud_update_prepare/molecule/default/converge.yml', 'roles/tripleo_overcloud_update_converge/molecule/default/converge.yml', 'roles/tripleo_overcloud_external_update_run/defaults/main.yml', 'roles/tripleo_overcloud_update_run/README.md']",16,509e21bb47345e5b25ba13632bc868b50e1be683,,* 'tripleo_overcloud_update_run_yes': (Boolean) Flag to skip the confirmation required before any update run operation. Default: true,,60,0
openstack%2Fpuppet-nova~stable%2Fvictoria~I468ecf06ac6e0853fbb296c011f20d63e38f6922,openstack/puppet-nova,stable/victoria,I468ecf06ac6e0853fbb296c011f20d63e38f6922,Fix libvirt version discovery for CentOS Stream,ABANDONED,2021-02-01 09:41:40.000000000,2021-02-01 16:05:17.000000000,,"[{'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 09:41:40.000000000', 'files': ['manifests/compute/libvirt/version.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/41523c6d31d7b0a5b91bdcdb4aeb9320d863e803', 'message': ""Fix libvirt version discovery for CentOS Stream\n\nCentOS Stream is Rolling-release distro that tracks just ahead of\nRed Hat Enterprise Linux (RHEL) development [1]. While not recommended\nin RDO, it's used to find potential issues before they are found in\nofficial CentOS 8.\n\nCentOS Stream is reported by facter as '8' with no minor version,\nbreaking the logic to discover the libvirtd version. This patch is\nsetting the version of libvirtd to 5.6 for all CdentOS 8 releases,\nincluding Stream, as 8.0 is no longer supported.\n\n[1] https://www.centos.org/centos-stream/\n\nChange-Id: I468ecf06ac6e0853fbb296c011f20d63e38f6922\n(cherry picked from commit b6294ce7a27379444ec9a447a51a6a1f83e9069f)\n""}]",0,773326,41523c6d31d7b0a5b91bdcdb4aeb9320d863e803,7,3,1,16312,,,0,"Fix libvirt version discovery for CentOS Stream

CentOS Stream is Rolling-release distro that tracks just ahead of
Red Hat Enterprise Linux (RHEL) development [1]. While not recommended
in RDO, it's used to find potential issues before they are found in
official CentOS 8.

CentOS Stream is reported by facter as '8' with no minor version,
breaking the logic to discover the libvirtd version. This patch is
setting the version of libvirtd to 5.6 for all CdentOS 8 releases,
including Stream, as 8.0 is no longer supported.

[1] https://www.centos.org/centos-stream/

Change-Id: I468ecf06ac6e0853fbb296c011f20d63e38f6922
(cherry picked from commit b6294ce7a27379444ec9a447a51a6a1f83e9069f)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/26/773326/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/compute/libvirt/version.pp'],1,41523c6d31d7b0a5b91bdcdb4aeb9320d863e803,c8s," if versioncmp($facts['os']['release']['full'], '8') >= 0 {"," if versioncmp($facts['os']['release']['full'], '8.1') >= 0 {",1,1
openstack%2Fsushy~master~I10e564185b4cd9faa24739766536d39646f8a7c1,openstack/sushy,master,I10e564185b4cd9faa24739766536d39646f8a7c1,Fix TaskMonitor constructor calls in volume.py,MERGED,2021-02-01 00:05:09.000000000,2021-02-01 16:00:56.000000000,2021-02-01 15:58:28.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-02-01 00:05:09.000000000', 'files': ['releasenotes/notes/fix-taskmonitor-init-calls-in-volume-module-0f8a747acd0cfe3f.yaml', 'sushy/resources/system/storage/volume.py', 'sushy/tests/unit/resources/system/storage/test_volume.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/0e912555bc6cc306ec2f51a09f0fc5158986b2aa', 'message': 'Fix TaskMonitor constructor calls in volume.py\n\nIn the volume.py module, the first parameter passed to the TaskMonitor\nconstructor was incorrect. The parameter passed was the resource object\n(self), but it should have been the connector object (self._conn). This\naffected the create_volume() and delete_volume() methods.\n\nThe constructor calls were updated to provide the correct connector\nparameter. And the unit tests were updated to test that the TaskMonitor\nobjects are successfully created.\n\nChange-Id: I10e564185b4cd9faa24739766536d39646f8a7c1\nStory: 2003514\nTask: 41720\n'}]",0,773273,0e912555bc6cc306ec2f51a09f0fc5158986b2aa,12,4,1,28128,,,0,"Fix TaskMonitor constructor calls in volume.py

In the volume.py module, the first parameter passed to the TaskMonitor
constructor was incorrect. The parameter passed was the resource object
(self), but it should have been the connector object (self._conn). This
affected the create_volume() and delete_volume() methods.

The constructor calls were updated to provide the correct connector
parameter. And the unit tests were updated to test that the TaskMonitor
objects are successfully created.

Change-Id: I10e564185b4cd9faa24739766536d39646f8a7c1
Story: 2003514
Task: 41720
",git fetch https://review.opendev.org/openstack/sushy refs/changes/73/773273/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-taskmonitor-init-calls-in-volume-module-0f8a747acd0cfe3f.yaml', 'sushy/resources/system/storage/volume.py', 'sushy/tests/unit/resources/system/storage/test_volume.py']",3,0e912555bc6cc306ec2f51a09f0fc5158986b2aa,task/41720," self.conn.delete.return_value.status_code = 200 resource = self.stor_volume.delete_volume( self.assertIsNone(resource) self.conn.delete.return_value.status_code = 202 self.conn.delete.return_value.headers = { 'location': '/redfish/v1/taskmon/4608f7e6', 'retry-after': '120' } task_mon = self.stor_volume.delete_volume( self.assertIsNotNone(task_mon) self.assertEqual(task_mon.resource_name, 'task_monitor') self.assertEqual(task_mon.path, '/redfish/v1/taskmon/4608f7e6') self.conn.post.return_value.status_code = 202 self.conn.post.return_value.headers = { 'Location': '/redfish/v1/taskmon/4608f7e6', 'retry-after': '120' } task_mon = self.stor_vol_col.create_volume( self.assertIsNotNone(task_mon) self.assertEqual(task_mon.resource_name, 'task_monitor') self.assertEqual(task_mon.path, '/redfish/v1/taskmon/4608f7e6')"," self.stor_volume.delete_volume( self.stor_volume.delete_volume( self.conn.post.return_value.status_code = 201 self.conn.post.return_value.headers.return_value = { 'Location': '/redfish/v1/Systems/437XR1138R2/Storage/1/Volumes/4' } new_vol = self.stor_vol_col.create_volume( self.stor_vol_col.refresh.assert_called_once() self.assertIsNotNone(new_vol) self.assertEqual('4', new_vol.identity) self.assertEqual('My Volume 4', new_vol.name) self.assertEqual(107374182400, new_vol.capacity_bytes) self.assertEqual(sushy.VOLUME_TYPE_MIRRORED, new_vol.volume_type) self.assertEqual(sushy.RAID_TYPE_RAID1, new_vol.raid_type)",30,15
openstack%2Fnova~master~Ia6d6dcdd7042f2aef6b3abeb5cd0f7525678a3b7,openstack/nova,master,Ia6d6dcdd7042f2aef6b3abeb5cd0f7525678a3b7,libvirt: Use specific user when probing encrypted rbd disks during extend,MERGED,2021-01-28 11:59:12.000000000,2021-02-01 15:59:45.000000000,2021-02-01 15:56:22.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-28 11:59:12.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b62a1abd616cea7fdfcad18e1cf548767d67b6dd', 'message': ""libvirt: Use specific user when probing encrypted rbd disks during extend\n\nI0c3f14100a18107f7e416293f3d4fcc641ce5e55 introduced new logic when\nextending LUKSv1 encrypted rbd volumes. As part of this qemu-img is used\nto probe the rbd volume to determine the size of the LUKSv1 header.\n\nThe URI used to point to the rbd volume did not provide a user and\nassumed that n-cpu/privsep would have access to the admin keyring. This\nisn't always the case in most environments and would result in a failure\nto probe the disk when the admin keyring wasn't available.\n\nThis change resolves this by appending the `id:$username` option to the\nend of the URI provided to qemu-img using the `auth_username` found in\nthe connection_info from Cinder.\n\nCloses-Bug: #1913575\nChange-Id: Ia6d6dcdd7042f2aef6b3abeb5cd0f7525678a3b7\n""}]",0,772869,b62a1abd616cea7fdfcad18e1cf548767d67b6dd,13,3,1,10135,,,0,"libvirt: Use specific user when probing encrypted rbd disks during extend

I0c3f14100a18107f7e416293f3d4fcc641ce5e55 introduced new logic when
extending LUKSv1 encrypted rbd volumes. As part of this qemu-img is used
to probe the rbd volume to determine the size of the LUKSv1 header.

The URI used to point to the rbd volume did not provide a user and
assumed that n-cpu/privsep would have access to the admin keyring. This
isn't always the case in most environments and would result in a failure
to probe the disk when the admin keyring wasn't available.

This change resolves this by appending the `id:$username` option to the
end of the URI provided to qemu-img using the `auth_username` found in
the connection_info from Cinder.

Closes-Bug: #1913575
Change-Id: Ia6d6dcdd7042f2aef6b3abeb5cd0f7525678a3b7
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/772869/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,b62a1abd616cea7fdfcad18e1cf548767d67b6dd,," 'auth_enabled': 'true', 'auth_username': 'username', mock_qemu_img_info.assert_called_once_with( 'rbd:pool/volume:id=username')", mock_qemu_img_info.assert_called_once_with('rbd:pool/volume'),9,2
openstack%2Ftripleo-heat-templates~master~I7ea4b911f10c40b8228d6a369ecab56498c54889,openstack/tripleo-heat-templates,master,I7ea4b911f10c40b8228d6a369ecab56498c54889,Neutron ML2/OVS: add support to enable IGMP snooping,ABANDONED,2021-02-01 13:45:14.000000000,2021-02-01 15:50:58.000000000,,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 20778}]","[{'number': 1, 'created': '2021-02-01 13:45:14.000000000', 'files': ['releasenotes/notes/ovs-igmp-snooping-support-020dc3cc758accb0.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59c852dc4fe1fab49305dbe991c389892db40110', 'message': 'Neutron ML2/OVS: add support to enable IGMP snooping\n\nThis knob, that defaults to False, allows to configure the Neutron\nML2 plugin config parameter ""OVS.igmp_snooping_enable"".\nThis parameter is used in the Neutron OVS agent.\n\nRelated-Bug: #1868569\nChange-Id: I7ea4b911f10c40b8228d6a369ecab56498c54889\n'}]",2,773395,59c852dc4fe1fab49305dbe991c389892db40110,4,4,1,16688,,,0,"Neutron ML2/OVS: add support to enable IGMP snooping

This knob, that defaults to False, allows to configure the Neutron
ML2 plugin config parameter ""OVS.igmp_snooping_enable"".
This parameter is used in the Neutron OVS agent.

Related-Bug: #1868569
Change-Id: I7ea4b911f10c40b8228d6a369ecab56498c54889
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/773395/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovs-igmp-snooping-support-020dc3cc758accb0.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml']",2,59c852dc4fe1fab49305dbe991c389892db40110,bug/1868569, NeutronEnableIgmpSnooping: description: Enable IGMP Snooping. type: boolean default: false,,9,0
openstack%2Ftripleo-upgrade~master~Id14ae95e47392596b661f627401435d44888df03,openstack/tripleo-upgrade,master,Id14ae95e47392596b661f627401435d44888df03,"Revert ""Add wait_for_connection check after system_upgrade""",MERGED,2021-01-29 14:22:38.000000000,2021-02-01 15:50:39.000000000,2021-02-01 15:50:39.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 20171}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-01-29 14:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d5d93dc3cf858252f7d68527d908a7e11b2ccb7c', 'message': 'Revert ""Add wait_for_connection check after system_upgrade""\n\nThis reverts commit 81ac511a2368b2475f24d6e02befef10ef4ec1bc.\n\nReason for revert:\n\nThe timeout for the reboot should be handled by adjusting UpgradeLeappRebootTimeout as can be seen in https://opendev.org/openstack/tripleo-heat-templates/src/branch/stable/train/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L63-L66\n\nChange-Id: Id14ae95e47392596b661f627401435d44888df03\n'}, {'number': 2, 'created': '2021-01-29 14:34:55.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7505e31478d4a44bc4b2065061bdb1f49772643a', 'message': 'Revert ""Add wait_for_connection check after system_upgrade""\n\nThis reverts commit 81ac511a2368b2475f24d6e02befef10ef4ec1bc.\n\nReason for revert:\n\nThe timeout for the reboot should be handled by adjusting\nUpgradeLeappRebootTimeout as can be seen in\nhttps://opendev.org/openstack/tripleo-heat-templates/src/branch/stable/train/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L63-L66\n\nChange-Id: Id14ae95e47392596b661f627401435d44888df03\n'}]",0,773003,7505e31478d4a44bc4b2065061bdb1f49772643a,10,8,2,6816,,,0,"Revert ""Add wait_for_connection check after system_upgrade""

This reverts commit 81ac511a2368b2475f24d6e02befef10ef4ec1bc.

Reason for revert:

The timeout for the reboot should be handled by adjusting
UpgradeLeappRebootTimeout as can be seen in
https://opendev.org/openstack/tripleo-heat-templates/src/branch/stable/train/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L63-L66

Change-Id: Id14ae95e47392596b661f627401435d44888df03
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/03/773003/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'],1,d5d93dc3cf858252f7d68527d908a7e11b2ccb7c,wait-for-system-reboot, ######## overcloud upgrade run ########,######## check overcloud is up up after system upgrade ######## - name: check {{ host }} is up after boot wait_for_connection: delay: 30 sleep: 30 timeout: 600 ######## overcloud upgrade run ########,1,8
openstack%2Ftripleo-ansible~stable%2Fussuri~Ie77be94849bba28f322a09d254be650a9ec687f5,openstack/tripleo-ansible,stable/ussuri,Ie77be94849bba28f322a09d254be650a9ec687f5,Add test_deps_setup_tripleo var,MERGED,2020-11-26 15:42:48.000000000,2021-02-01 15:41:47.000000000,2021-02-01 15:41:47.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-11-26 15:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/705318971a539e5caaccb483da5eaabad32eeb85', 'message': 'Add test_deps_setup_tripleo var\n\nCurrently ovs_dpdk molecule jobs are failing with openvswitch\npackage is not available.\n\ntest_deps_setup_tripleo for test_deps role fixes the issue.\n\nFixed the package name for openvswitch.\nupdated the job timig also.\n\nSwitch to ubi:8.2 base image in molecule job to fix package\nconflict issue caused by ubi:8.3\n\nCloses-Bug: #1905683\nCloses-Bug: #1905687\n\nChange-Id: Ie77be94849bba28f322a09d254be650a9ec687f5\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit 641e378bde529d4575ad345c4ce1187a3c9b30df)\n'}, {'number': 2, 'created': '2021-01-04 03:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/da9c087898274a5b51f255efa81dd521926a3d64', 'message': 'Add test_deps_setup_tripleo var\n\nCurrently ovs_dpdk molecule jobs are failing with openvswitch\npackage is not available.\n\ntest_deps_setup_tripleo for test_deps role fixes the issue.\n\nFixed the package name for openvswitch.\nupdated the job timig also.\n\nSwitch to ubi:8.2 base image in molecule job to fix package\nconflict issue caused by ubi:8.3\n\nCloses-Bug: #1905683\nCloses-Bug: #1905687\n\nChange-Id: Ie77be94849bba28f322a09d254be650a9ec687f5\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit 641e378bde529d4575ad345c4ce1187a3c9b30df)\n'}, {'number': 3, 'created': '2021-01-11 06:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/baeeefe86211bca6f88307f1442f372d3c1be4db', 'message': 'Add test_deps_setup_tripleo var\n\nCurrently ovs_dpdk molecule jobs are failing with openvswitch\npackage is not available.\n\ntest_deps_setup_tripleo for test_deps role fixes the issue.\n\nFixed the package name for openvswitch.\nupdated the job timig also.\n\nSwitch to ubi:8.2 base image in molecule job to fix package\nconflict issue caused by ubi:8.3\n\nCloses-Bug: #1905683\nCloses-Bug: #1905687\n\nChange-Id: Ie77be94849bba28f322a09d254be650a9ec687f5\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit 641e378bde529d4575ad345c4ce1187a3c9b30df)\n'}, {'number': 4, 'created': '2021-01-27 03:44:42.000000000', 'files': ['tripleo_ansible/roles/tripleo_network_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/banners/molecule.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_networks/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/molecule.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/molecule.yml', 'zuul.d/base.yaml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nvdimm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d26a7e122a5dc2200045d4cab5752b3b3447b9c6', 'message': 'Add test_deps_setup_tripleo var\n\nCurrently ovs_dpdk molecule jobs are failing with openvswitch\npackage is not available.\n\ntest_deps_setup_tripleo for test_deps role fixes the issue.\n\nFixed the package name for openvswitch.\nupdated the job timig also.\n\nSwitch to ubi:8.2 base image in molecule job to fix package\nconflict issue caused by ubi:8.3\n\nCloses-Bug: #1905683\nCloses-Bug: #1905687\n\nChange-Id: Ie77be94849bba28f322a09d254be650a9ec687f5\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit 641e378bde529d4575ad345c4ce1187a3c9b30df)\n'}]",2,764361,d26a7e122a5dc2200045d4cab5752b3b3447b9c6,44,8,4,12393,,,0,"Add test_deps_setup_tripleo var

Currently ovs_dpdk molecule jobs are failing with openvswitch
package is not available.

test_deps_setup_tripleo for test_deps role fixes the issue.

Fixed the package name for openvswitch.
updated the job timig also.

Switch to ubi:8.2 base image in molecule job to fix package
conflict issue caused by ubi:8.3

Closes-Bug: #1905683
Closes-Bug: #1905687

Change-Id: Ie77be94849bba28f322a09d254be650a9ec687f5
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
(cherry picked from commit 641e378bde529d4575ad345c4ce1187a3c9b30df)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/61/764361/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_network_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/banners/molecule.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_networks/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/molecule.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/molecule.yml', 'zuul.d/base.yaml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/prepare.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nvdimm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/molecule.yml']",15,705318971a539e5caaccb483da5eaabad32eeb85,, image: ubi8/ubi:8.2, image: ubi8/ubi-init,19,15
openstack%2Fpython-tripleoclient~master~I57afe3e145d6e4fa78c89ad58269cb268b031cb1,openstack/python-tripleoclient,master,I57afe3e145d6e4fa78c89ad58269cb268b031cb1,Cleanup more swift calls and change them to using tripleo-common,ABANDONED,2021-01-29 21:36:59.000000000,2021-02-01 15:36:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-29 21:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e751dcd10423d73cf679d6733556ade3e86d27fb', 'message': 'Cleanup more swift calls and change them to using tripleo-common\n\nUpdate more of the swift client calls that I missed on my first pass. This\nchange will further reduce complexity as it will ensure more of our client\ncalls are taking advantage of tripleo-common instead of accesing the swift\nclient directly which will eventally allow us to run a swiftless undercloud.\n\nChange-Id: I57afe3e145d6e4fa78c89ad58269cb268b031cb1\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2021-01-29 23:34:22.000000000', 'files': ['tripleoclient/workflows/roles.py', 'tripleoclient/workflows/plan_management.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f0aab2706841f153cbf83aed6da577277bdf5f80', 'message': 'Cleanup more swift calls and change them to using tripleo-common\n\nUpdate more of the swift client calls that I missed on my first pass. This\nchange will further reduce complexity as it will ensure more of our client\ncalls are taking advantage of tripleo-common instead of accesing the swift\nclient directly which will eventally allow us to run a swiftless undercloud.\n\nDepends-On: Ibe9b2ffe94cdf493fc84366979d1d78b8528ea1b\nChange-Id: I57afe3e145d6e4fa78c89ad58269cb268b031cb1\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,773190,f0aab2706841f153cbf83aed6da577277bdf5f80,6,2,2,7353,,,0,"Cleanup more swift calls and change them to using tripleo-common

Update more of the swift client calls that I missed on my first pass. This
change will further reduce complexity as it will ensure more of our client
calls are taking advantage of tripleo-common instead of accesing the swift
client directly which will eventally allow us to run a swiftless undercloud.

Depends-On: Ibe9b2ffe94cdf493fc84366979d1d78b8528ea1b
Change-Id: I57afe3e145d6e4fa78c89ad58269cb268b031cb1
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/90/773190/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/roles.py', 'tripleoclient/workflows/plan_management.py', 'tripleoclient/v1/overcloud_deploy.py']",3,e751dcd10423d73cf679d6733556ade3e86d27fb,,"from tripleo_common.utils import swift as swiftutils swiftutils.put_object_string( swift=self.object_client, container=container_name, object_name=swift_path, contents=contents ) f.write( swiftutils.get_object_string( swift=self.object_client, container=plan_name, object_name=pf ) )"," self.object_client.put_object(container_name, swift_path, contents) f.write(self.object_client.get_object(plan_name, pf)[1])",24,4
openstack%2Freleases~master~I76e4e7ce52ec57fba137d3afe0a5df8f914bdd6e,openstack/releases,master,I76e4e7ce52ec57fba137d3afe0a5df8f914bdd6e,Release tacker for stable/train,MERGED,2021-01-29 15:39:22.000000000,2021-02-01 15:25:07.000000000,2021-02-01 15:25:07.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-29 15:39:22.000000000', 'files': ['deliverables/train/tacker.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/666b03852112202547dcfc28e4bac3c5c2b27376', 'message': 'Release tacker for stable/train\n\nThis release picks up new commits to tacker since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I76e4e7ce52ec57fba137d3afe0a5df8f914bdd6e\n'}]",0,773103,666b03852112202547dcfc28e4bac3c5c2b27376,9,4,1,17685,,,0,"Release tacker for stable/train

This release picks up new commits to tacker since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I76e4e7ce52ec57fba137d3afe0a5df8f914bdd6e
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/773103/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/tacker.yaml'],1,666b03852112202547dcfc28e4bac3c5c2b27376,train-stable, - version: 2.0.2 projects: - repo: openstack/tacker hash: 7fb34294684c895acf3b575bfe9c96c03ad6e819,,4,0
openstack%2Freleases~master~I670a99be2957cedf50a64e8cf79e89eede5c813c,openstack/releases,master,I670a99be2957cedf50a64e8cf79e89eede5c813c,Release sushy for stable/train,MERGED,2021-01-29 15:37:06.000000000,2021-02-01 15:19:12.000000000,2021-02-01 15:19:12.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-29 15:37:06.000000000', 'files': ['deliverables/train/sushy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fcac0358b3303953d56d95e7d28acbefe5cd492e', 'message': 'Release sushy for stable/train\n\nThis release picks up new commits to sushy since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I670a99be2957cedf50a64e8cf79e89eede5c813c\n'}]",0,773102,fcac0358b3303953d56d95e7d28acbefe5cd492e,9,6,1,17685,,,0,"Release sushy for stable/train

This release picks up new commits to sushy since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I670a99be2957cedf50a64e8cf79e89eede5c813c
",git fetch https://review.opendev.org/openstack/releases refs/changes/02/773102/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/sushy.yaml'],1,fcac0358b3303953d56d95e7d28acbefe5cd492e,train-stable, - version: 2.0.4 projects: - repo: openstack/sushy hash: 7ac37383656b95306e986c040320418e165c2678,,4,0
openstack%2Freleases~master~I01a10f0d4327d35ebb2d2d8d03513998e19b4ce9,openstack/releases,master,I01a10f0d4327d35ebb2d2d8d03513998e19b4ce9,Release networking-bagpipe for stable/train,MERGED,2021-01-29 14:25:07.000000000,2021-02-01 15:18:59.000000000,2021-02-01 15:18:59.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-29 14:25:07.000000000', 'files': ['deliverables/train/networking-bagpipe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4aa21b28b8e234b52e5acc62cb8b411135a0effe', 'message': 'Release networking-bagpipe for stable/train\n\nThis release picks up new commits to networking-bagpipe since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I01a10f0d4327d35ebb2d2d8d03513998e19b4ce9\n'}]",0,773066,4aa21b28b8e234b52e5acc62cb8b411135a0effe,9,5,1,17685,,,0,"Release networking-bagpipe for stable/train

This release picks up new commits to networking-bagpipe since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I01a10f0d4327d35ebb2d2d8d03513998e19b4ce9
",git fetch https://review.opendev.org/openstack/releases refs/changes/66/773066/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/networking-bagpipe.yaml'],1,4aa21b28b8e234b52e5acc62cb8b411135a0effe,train-stable, - version: 11.0.2 projects: - repo: openstack/networking-bagpipe hash: 2512a2b7a0553856d4bfd73d1b25542dd6939e91,,4,0
openstack%2Freleases~master~I413b5c716b9b66b4283d060ccf67bfec9681133a,openstack/releases,master,I413b5c716b9b66b4283d060ccf67bfec9681133a,Release networking-sfc for stable/train,MERGED,2021-01-29 14:29:32.000000000,2021-02-01 15:18:54.000000000,2021-02-01 15:18:54.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-29 14:29:32.000000000', 'files': ['deliverables/train/networking-sfc.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0b7301b61ead609ccc532b3675cab883b62e56f8', 'message': 'Release networking-sfc for stable/train\n\nThis release picks up new commits to networking-sfc since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I413b5c716b9b66b4283d060ccf67bfec9681133a\n'}]",0,773071,0b7301b61ead609ccc532b3675cab883b62e56f8,9,5,1,17685,,,0,"Release networking-sfc for stable/train

This release picks up new commits to networking-sfc since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I413b5c716b9b66b4283d060ccf67bfec9681133a
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/773071/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/networking-sfc.yaml'],1,0b7301b61ead609ccc532b3675cab883b62e56f8,train-stable, - version: 9.0.1 projects: - repo: openstack/networking-sfc hash: 31b28ea8355af8c64cfddc48d4045de4613ba199,,4,0
openstack%2Fopenstack-manuals~master~I1c39757fec6429977a1b02f507f5068dfe648304,openstack/openstack-manuals,master,I1c39757fec6429977a1b02f507f5068dfe648304,[www] Add more Victoria links,MERGED,2021-01-29 08:25:43.000000000,2021-02-01 15:18:30.000000000,2021-02-01 15:00:06.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 08:25:43.000000000', 'files': ['www/project-data/victoria.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ccea17e40fecfc6b24d9a6c71b11d660be1978ac', 'message': '[www] Add more Victoria links\n\nSome more projects published victoria docs, link to them.\n\nChange-Id: I1c39757fec6429977a1b02f507f5068dfe648304\nCloses-Bug: #1913683\n'}]",0,772980,ccea17e40fecfc6b24d9a6c71b11d660be1978ac,7,2,1,6547,,,0,"[www] Add more Victoria links

Some more projects published victoria docs, link to them.

Change-Id: I1c39757fec6429977a1b02f507f5068dfe648304
Closes-Bug: #1913683
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/80/772980/1 && git format-patch -1 --stdout FETCH_HEAD,['www/project-data/victoria.yaml'],1,ccea17e40fecfc6b24d9a6c71b11d660be1978ac,bug,- name: keystone service: Identity service service_type: identity has_install_guide: true has_api_ref: true has_admin_guide: true has_config_ref: true has_user_guide: true type: service- name: barbican service: Key Manager service service_type: key-manager has_api_guide: true has_in_tree_api_docs: true has_install_guide: true has_admin_guide: true has_config_ref: true type: service- name: heat service: Orchestration service service_type: orchestration has_in_tree_api_docs: true has_api_ref: true has_install_guide: true has_admin_guide: true has_config_ref: true has_in_tree_htaccess: true type: service - name: python-heatclient service: Orchestration service Python Bindings type: service-client description: heat client- name: kolla type: deployment service: Providing production-ready containers and deployment tools for operating OpenStack clouds has_admin_guide: true - name: kolla-ansible service: Deploying OpenStack using Ansible in Docker Containers (kolla) type: deployment has_admin_guide: true has_user_guide: true has_deployment_guide: true,#- name: keystone # service: Identity service # service_type: identity # has_install_guide: true # has_api_ref: true # has_admin_guide: true # has_config_ref: true # has_user_guide: true # type: service#- name: barbican # service: Key Manager service # service_type: key-manager # has_api_guide: true # has_in_tree_api_docs: true # has_install_guide: true # has_admin_guide: true # has_config_ref: true # type: service#- name: heat # service: Orchestration service # service_type: orchestration # has_in_tree_api_docs: true # has_api_ref: true # has_install_guide: true # has_admin_guide: true # has_config_ref: true # has_in_tree_htaccess: true # type: service #- name: python-heatclient # service: Orchestration service Python Bindings # type: service-client # description: heat client#- name: kolla # type: deployment # service: Providing production-ready containers and deployment tools for operating OpenStack clouds # has_admin_guide: true #- name: kolla-ansible # service: Deploying OpenStack using Ansible in Docker Containers (kolla) # type: deployment # has_admin_guide: true # has_user_guide: true # has_deployment_guide: true,42,42
openstack%2Fglance~master~I5c68e63f751733611e9e9af529e471d4b61972c2,openstack/glance,master,I5c68e63f751733611e9e9af529e471d4b61972c2,DNM: testing json->yaml migration failure,ABANDONED,2021-01-28 16:26:38.000000000,2021-02-01 15:18:07.000000000,,"[{'_account_id': 4393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-28 16:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0dc61c8add502fc0b53da5c7acc6649523e1d527', 'message': 'DNM: testing json->yaml migration failure\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.policy/+/772905\nChange-Id: I5c68e63f751733611e9e9af529e471d4b61972c2\n'}, {'number': 2, 'created': '2021-01-29 00:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f434838c08ce58295bea6eeccdb46d272c13ed82', 'message': 'DNM: testing json->yaml migration failure\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.policy/+/772905\nDepends-On: https://review.opendev.org/c/openstack/oslo.config/+/772959\nChange-Id: I5c68e63f751733611e9e9af529e471d4b61972c2\n'}, {'number': 3, 'created': '2021-01-29 16:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/51e63a56859435035536fb328ab582b733a7c08f', 'message': 'DNM: testing json->yaml migration failure\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.policy/+/773143\nDepends-On: https://review.opendev.org/c/openstack/oslo.config/+/773146\nChange-Id: I5c68e63f751733611e9e9af529e471d4b61972c2\n'}, {'number': 4, 'created': '2021-01-29 19:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/360e0002cf41814a429fe25d5ea6bec288939672', 'message': 'DNM: testing json->yaml migration failure\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.policy/+/772905\nDepends-On: https://review.opendev.org/c/openstack/oslo.config/+/773146\nChange-Id: I5c68e63f751733611e9e9af529e471d4b61972c2\n'}, {'number': 5, 'created': '2021-01-29 22:33:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/d14d414ca461794aa90fee04b3af104979885c4b', 'message': 'DNM: testing json->yaml migration failure\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.policy/+/772905\nDepends-On: https://review.opendev.org/c/openstack/oslo.config/+/773146\nChange-Id: I5c68e63f751733611e9e9af529e471d4b61972c2\n'}]",0,772912,d14d414ca461794aa90fee04b3af104979885c4b,31,2,5,8556,,,0,"DNM: testing json->yaml migration failure

Depends-On: https://review.opendev.org/c/openstack/oslo.policy/+/772905
Depends-On: https://review.opendev.org/c/openstack/oslo.config/+/773146
Change-Id: I5c68e63f751733611e9e9af529e471d4b61972c2
",git fetch https://review.opendev.org/openstack/glance refs/changes/12/772912/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0dc61c8add502fc0b53da5c7acc6649523e1d527,testing,- job: name: nova-ceph-multistore-oslo-policy-master parent: nova-ceph-multistore required-projects: - opendev.org/openstack/oslo.policy - project: - nova-ceph-multistore-oslo-policy-master,"- project: templates: - check-requirements - integrated-gate-storage - openstack-lower-constraints-jobs - openstack-python3-wallaby-jobs - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - openstack-tox-functional-py36 - openstack-tox-functional-py38 - glance-code-constants-check - glance-ceph-thin-provisioning: voting: false irrelevant-files: &tempest-irrelevant-files - ^(test-|)requirements.txt$ - ^lower-constraints.txt$ - ^.*\.rst$ - ^api-ref/.*$ - ^glance/hacking/.*$ - ^glance/locale/.*$ - ^glance/tests/.*$ - ^doc/.*$ - ^releasenotes/.*$ - ^tools/.*$ - ^tox.ini$ - ^\.zuul\.yaml$ - tempest-integrated-storage: irrelevant-files: *tempest-irrelevant-files - tempest-integrated-storage-import: irrelevant-files: *tempest-irrelevant-files - tempest-integrated-storage-import-standalone: irrelevant-files: *tempest-irrelevant-files - glance-multistore-cinder-import: irrelevant-files: *tempest-irrelevant-files - grenade: irrelevant-files: *tempest-irrelevant-files - tempest-ipv6-only: irrelevant-files: *tempest-irrelevant-files - nova-ceph-multistore: irrelevant-files: *tempest-irrelevant-files gate: jobs: - openstack-tox-functional-py36 - openstack-tox-functional-py38 - tempest-integrated-storage: irrelevant-files: *tempest-irrelevant-files - tempest-integrated-storage-import: irrelevant-files: *tempest-irrelevant-files - tempest-integrated-storage-import-standalone: irrelevant-files: *tempest-irrelevant-files - grenade: irrelevant-files: *tempest-irrelevant-files - tempest-ipv6-only: irrelevant-files: *tempest-irrelevant-files - nova-ceph-multistore: irrelevant-files: *tempest-irrelevant-files experimental: jobs: - glance-tox-py38-glance_store-tips - glance-tox-py36-glance_store-tips - glance-tox-functional-py38-glance_store-tips - glance-tox-functional-py36-glance_store-tips - barbican-tempest-plugin-simple-crypto - grenade-multinode - tempest-pg-full: irrelevant-files: *tempest-irrelevant-files - tempest-full-py3-opensuse15: irrelevant-files: *tempest-irrelevant-files periodic: jobs: # NOTE(rosmaita): we only want the ""tips"" jobs to be run against # master, hence the 'branches' qualifiers below. Without them, when # a stable branch is cut, the tests would be run against the stable # branch as well, which is pointless because these libraries are # frozen (more or less) in the stable branches. # # The ""tips"" jobs can be removed from the stable branch .zuul.yaml # files if someone is so inclined, but that would require manual # maintenance, so we do not do it by default. Another option is # to define these jobs in the openstack/project-config repo. # That would make us less agile in adjusting these tests, so we # aren't doing that either. - glance-tox-functional-py38-oslo-tips: branches: master - glance-tox-functional-py36-oslo-tips: branches: master - glance-tox-py38-keystone-tips: branches: master - glance-tox-py36-keystone-tips: branches: master - glance-tox-functional-py38-keystone-tips: branches: master - glance-tox-functional-py36-keystone-tips: branches: master - glance-tox-py38-glance_store-tips: branches: master - glance-tox-py36-glance_store-tips: branches: master - glance-tox-functional-py38-glance_store-tips: branches: master - glance-tox-functional-py36-glance_store-tips: branches: master - glance-tox-py38-cursive-tips: branches: master - glance-tox-py36-cursive-tips: branches: master - glance-tox-functional-py38-cursive-tips: branches: master - glance-tox-functional-py36-cursive-tips: branches: master",7,111
openstack%2Freleases~master~Ib025db3d8d5a940f1096da8910806c2b405bdf12,openstack/releases,master,Ib025db3d8d5a940f1096da8910806c2b405bdf12,Release zun for stable/train,MERGED,2021-01-29 15:52:28.000000000,2021-02-01 15:09:15.000000000,2021-02-01 15:09:15.000000000,"[{'_account_id': 308}, {'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 27654}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-29 15:52:28.000000000', 'files': ['deliverables/train/zun.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2911840630c9104bb27939bd21b99af22de19575', 'message': 'Release zun for stable/train\n\nThis release picks up new commits to zun since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ib025db3d8d5a940f1096da8910806c2b405bdf12\n'}]",0,773115,2911840630c9104bb27939bd21b99af22de19575,9,6,1,17685,,,0,"Release zun for stable/train

This release picks up new commits to zun since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ib025db3d8d5a940f1096da8910806c2b405bdf12
",git fetch https://review.opendev.org/openstack/releases refs/changes/15/773115/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/zun.yaml'],1,2911840630c9104bb27939bd21b99af22de19575,train-stable, - version: 4.0.2 projects: - repo: openstack/zun hash: a3b0a0829feed3560abf90f00dbea0ca40387d5f,,4,0
openstack%2Freleases~master~I1a65d61d6d27d17bc37c7aef0fc35e50a7cc16ac,openstack/releases,master,I1a65d61d6d27d17bc37c7aef0fc35e50a7cc16ac,Release blazar for stable/train,MERGED,2021-01-29 13:52:24.000000000,2021-02-01 15:06:36.000000000,2021-02-01 15:06:36.000000000,"[{'_account_id': 308}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-29 13:52:24.000000000', 'files': ['deliverables/train/blazar.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/edae15ad5a6468d1f10bf4c47cc8b544a9dcd6a4', 'message': 'Release blazar for stable/train\n\nThis release picks up new commits to blazar since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I1a65d61d6d27d17bc37c7aef0fc35e50a7cc16ac\n'}]",0,773036,edae15ad5a6468d1f10bf4c47cc8b544a9dcd6a4,9,4,1,17685,,,0,"Release blazar for stable/train

This release picks up new commits to blazar since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I1a65d61d6d27d17bc37c7aef0fc35e50a7cc16ac
",git fetch https://review.opendev.org/openstack/releases refs/changes/36/773036/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/blazar.yaml'],1,edae15ad5a6468d1f10bf4c47cc8b544a9dcd6a4,train-stable, - version: 4.0.1 projects: - repo: openstack/blazar hash: f4a6f3db56149eea9bba5c5806ab14cfeebd6668,,4,0
openstack%2Fkolla~stable%2Fvictoria~Iae5402ea40c9f856b1787fdf82cc2389ffe0be03,openstack/kolla,stable/victoria,Iae5402ea40c9f856b1787fdf82cc2389ffe0be03,Upgrade the Monasca Fluentd output plugin,MERGED,2021-02-01 11:22:17.000000000,2021-02-01 14:50:56.000000000,2021-02-01 14:48:53.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-02-01 11:22:17.000000000', 'files': ['releasenotes/notes/fix-monasca-fluentd-output-plugin-c27798ba186a8ef7.yaml', 'docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4e3b178e6e0d897beb5387d375c5563edc948946', 'message': 'Upgrade the Monasca Fluentd output plugin\n\nFrom Victoria onwards a conflict is seen between the rest-client\nlibrary used by the Monasca Fluentd output plugin and the openssl\nlibrary. Specifically, a more recent release of openssl has dropped\na default which is referenced by the 1.8 release of the rest-client\nlibrary. In this commit we bump the Fluentd output plugin release\nto pull in a more recent version of the rest-client library which\ncan handle this change.\n\nChange-Id: Iae5402ea40c9f856b1787fdf82cc2389ffe0be03\nCloses-Bug: 1910382\n(cherry picked from commit b4e8826c0c69f224223c8a148f025dc132964757)\n'}]",0,773206,4e3b178e6e0d897beb5387d375c5563edc948946,11,5,1,14826,,,0,"Upgrade the Monasca Fluentd output plugin

From Victoria onwards a conflict is seen between the rest-client
library used by the Monasca Fluentd output plugin and the openssl
library. Specifically, a more recent release of openssl has dropped
a default which is referenced by the 1.8 release of the rest-client
library. In this commit we bump the Fluentd output plugin release
to pull in a more recent version of the rest-client library which
can handle this change.

Change-Id: Iae5402ea40c9f856b1787fdf82cc2389ffe0be03
Closes-Bug: 1910382
(cherry picked from commit b4e8826c0c69f224223c8a148f025dc132964757)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/773206/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-monasca-fluentd-output-plugin-c27798ba186a8ef7.yaml', 'docker/fluentd/Dockerfile.j2']",2,4e3b178e6e0d897beb5387d375c5563edc948946,bugfix/1910382-stable/victoria,ARG monasca_output_plugin_tag=1.0.2,ARG monasca_output_plugin_tag=1.0.1,7,1
openstack%2Fkayobe~master~I407191b1d1e9b3656c6f86325a13bb8937400dbb,openstack/kayobe,master,I407191b1d1e9b3656c6f86325a13bb8937400dbb,Remove extra space characters,MERGED,2021-01-29 20:40:33.000000000,2021-02-01 14:47:31.000000000,2021-02-01 14:45:30.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 20:40:33.000000000', 'files': ['kayobe/cli/commands.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a6b53d834e117c0e5daa599e53e4c7191b7a1b2e', 'message': 'Remove extra space characters\n\nChange-Id: I407191b1d1e9b3656c6f86325a13bb8937400dbb\n'}]",0,773185,a6b53d834e117c0e5daa599e53e4c7191b7a1b2e,7,2,1,15197,,,0,"Remove extra space characters

Change-Id: I407191b1d1e9b3656c6f86325a13bb8937400dbb
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/85/773185/1 && git format-patch -1 --stdout FETCH_HEAD,['kayobe/cli/commands.py'],1,a6b53d834e117c0e5daa599e53e4c7191b7a1b2e,," """"""Update the Ironic nodes to use the new kernel and ramdisk images."""""" ""Upgrading the ironic nodes to use the latest deployment images"")"," """"""Update the Ironic nodes to use the new kernel and ramdisk images."""""" ""Upgrading the ironic nodes to use the latest deployment images"")",2,2
openstack%2Freleases~master~I80cc163a9ff5cd18f92effe83cbc3687eb051419,openstack/releases,master,I80cc163a9ff5cd18f92effe83cbc3687eb051419,Release masakari for stable/train,MERGED,2021-01-29 14:20:35.000000000,2021-02-01 14:38:54.000000000,2021-02-01 14:38:54.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-29 14:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2b8ee5af9351e7ab87ef63b38bd94f4e80ffd06e', 'message': 'Release masakari for stable/train\n\nThis release picks up new commits to masakari since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I80cc163a9ff5cd18f92effe83cbc3687eb051419\n'}, {'number': 2, 'created': '2021-01-29 21:52:41.000000000', 'files': ['deliverables/train/masakari.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4183d8b9f2a9165a6b3b1aefa27030167fcf47fd', 'message': 'Release masakari for stable/train\n\nThis release picks up new commits to masakari since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I80cc163a9ff5cd18f92effe83cbc3687eb051419\n'}]",0,773062,4183d8b9f2a9165a6b3b1aefa27030167fcf47fd,14,4,2,17685,,,0,"Release masakari for stable/train

This release picks up new commits to masakari since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I80cc163a9ff5cd18f92effe83cbc3687eb051419
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/773062/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/masakari.yaml'],1,2b8ee5af9351e7ab87ef63b38bd94f4e80ffd06e,train-stable, - version: 8.1.1 projects: - repo: openstack/masakari hash: 025f30dfc7660eae10bdbd7f571e0f3a6ab6c8e4,,4,0
openstack%2Freleases~master~I93dc21a05e6ff97507e11c903b631e7e79ff66e2,openstack/releases,master,I93dc21a05e6ff97507e11c903b631e7e79ff66e2,Release octavia-dashboard for stable/train,MERGED,2021-01-29 14:39:27.000000000,2021-02-01 14:36:55.000000000,2021-02-01 14:36:55.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-29 14:39:27.000000000', 'files': ['deliverables/train/octavia-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/99d2beaee46d541b99ed2ad18624ee17c24b6e96', 'message': 'Release octavia-dashboard for stable/train\n\nThis release picks up new commits to octavia-dashboard since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I93dc21a05e6ff97507e11c903b631e7e79ff66e2\n'}]",0,773075,99d2beaee46d541b99ed2ad18624ee17c24b6e96,9,6,1,17685,,,0,"Release octavia-dashboard for stable/train

This release picks up new commits to octavia-dashboard since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I93dc21a05e6ff97507e11c903b631e7e79ff66e2
",git fetch https://review.opendev.org/openstack/releases refs/changes/75/773075/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/octavia-dashboard.yaml'],1,99d2beaee46d541b99ed2ad18624ee17c24b6e96,train-stable, - version: 4.0.1 projects: - repo: openstack/octavia-dashboard hash: 74044687e0ef5b74853258a0f9ce2be7320e88f0,,4,0
openstack%2Fpuppet-tripleo~master~I31145093206903924d50d13d0bd90f136af45c14,openstack/puppet-tripleo,master,I31145093206903924d50d13d0bd90f136af45c14,Remove the wrongly placed release note files,MERGED,2020-10-26 16:12:46.000000000,2021-02-01 14:31:15.000000000,2021-02-01 14:29:07.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-26 16:12:46.000000000', 'files': ['releasenotes/notes/nova_libvirt_guests-d0e5424d40d9e26e.yaml', 'releasenotes/notes/swift-object-expirer-memcached-3c1e7037683ee89a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/021a94e6b66b00c19448a8730e93131b6563bfcb', 'message': 'Remove the wrongly placed release note files\n\nThe previous change[1] migrated the release note files to the correct\nplace, but this caused that the old release notes migrated from\nmanifests directory appear in the latest release note[2].\nThis patch remove that file to get rid of these confusing contents.\n\n[1] 8fd11cfdd1f8ed527e5f3e041c4ae55b81bb2751\n[2] https://docs.openstack.org/releasenotes/puppet-tripleo/unreleased.html\n\nChange-Id: I31145093206903924d50d13d0bd90f136af45c14\n'}]",0,759730,021a94e6b66b00c19448a8730e93131b6563bfcb,8,3,1,9816,,,0,"Remove the wrongly placed release note files

The previous change[1] migrated the release note files to the correct
place, but this caused that the old release notes migrated from
manifests directory appear in the latest release note[2].
This patch remove that file to get rid of these confusing contents.

[1] 8fd11cfdd1f8ed527e5f3e041c4ae55b81bb2751
[2] https://docs.openstack.org/releasenotes/puppet-tripleo/unreleased.html

Change-Id: I31145093206903924d50d13d0bd90f136af45c14
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/30/759730/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nova_libvirt_guests-d0e5424d40d9e26e.yaml', 'releasenotes/notes/swift-object-expirer-memcached-3c1e7037683ee89a.yaml']",2,021a94e6b66b00c19448a8730e93131b6563bfcb,,,"--- fixes: - | The memcached IP for the Swift object expirer is not properly set in case of separate storage nodes. Until now, these were only set if the Swift proxy node was also configured on the same node; however, this is not the case with separate storage nodes. The service would still run, but was not able to use any cache and logging errors therefore. ",0,18
openstack%2Ftripleo-upgrade~stable%2Fussuri~Ie11acbf29fc8b9025756b5516fe2d9b4326b5425,openstack/tripleo-upgrade,stable/ussuri,Ie11acbf29fc8b9025756b5516fe2d9b4326b5425,[ffwd] Don't run healthcheck on redis if it's not present,MERGED,2021-01-06 16:59:20.000000000,2021-02-01 14:28:53.000000000,2021-02-01 14:28:53.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 16:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e0e8876941920b170203c61acdd9820ea6d8eee6', 'message': ""[ffwd] Don't run healthcheck on redis if it's not present\n\nRedis might not be present on the deployment so we shouldn't\ncheck it's status post upgrade.\n\nChange-Id: Ie11acbf29fc8b9025756b5516fe2d9b4326b5425\nResolves: UPG-2446\n(cherry picked from commit 87c31a948b88d978b9b0c2dd252e73eee35eb8ae)\n""}, {'number': 2, 'created': '2021-01-28 09:52:00.000000000', 'files': ['tasks/upgrade/controller_node_upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9fd7d80ba61d1d599ef27998177d6cd5052a5801', 'message': ""[ffwd] Don't run healthcheck on redis if it's not present\n\nRedis might not be present on the deployment so we shouldn't\ncheck it's status post upgrade.\n\nChange-Id: Ie11acbf29fc8b9025756b5516fe2d9b4326b5425\nResolves: UPG-2446\n(cherry picked from commit 87c31a948b88d978b9b0c2dd252e73eee35eb8ae)\n""}]",0,769579,9fd7d80ba61d1d599ef27998177d6cd5052a5801,8,2,2,11166,,,0,"[ffwd] Don't run healthcheck on redis if it's not present

Redis might not be present on the deployment so we shouldn't
check it's status post upgrade.

Change-Id: Ie11acbf29fc8b9025756b5516fe2d9b4326b5425
Resolves: UPG-2446
(cherry picked from commit 87c31a948b88d978b9b0c2dd252e73eee35eb8ae)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/79/769579/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/controller_node_upgrade.yml'],1,e0e8876941920b170203c61acdd9820ea6d8eee6,," - name: Running post upgrade scripts for {{ node_name | splitext | first }} shell: ""set -o pipefail && {{ working_dir }}/{{ node_name | splitext | first }}_post/{{ item }}.sh"" when: - item in inventory_hostmap loop:",,6,0
openstack%2Ftripleo-common~stable%2Fussuri~I52204ec1bcb3a43e5d8e8503871a27b8bfb88e7b,openstack/tripleo-common,stable/ussuri,I52204ec1bcb3a43e5d8e8503871a27b8bfb88e7b,Add missing ComputeNeutronMetadataAgent service into tripleo_containers.yaml.j2.,MERGED,2020-11-25 22:30:38.000000000,2021-02-01 14:27:56.000000000,2021-02-01 14:26:22.000000000,"[{'_account_id': 7353}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-11-25 22:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5f8957fca5fe19184ed991b0b142154a37be33d3', 'message': 'Add missing ComputeNeutronMetadataAgent service into tripleo_containers.yaml.j2.\n\nWhen using DVR the Compute roles make use of the services\nComputeNeutronOvsAgent, ComputeNeutronL3Agent, ComputeNeutronMetadataAgent\nand ComputeNeutronCorePlugin. However, the ComputeNeutronMetadataAgent was\nmissing from the tripleo_containers.yaml.j2 which causes issues at the time\nof retrieving the images from the Undercloud registry.\n\nRelated-Bug: #1898256\nChange-Id: I52204ec1bcb3a43e5d8e8503871a27b8bfb88e7b\n(cherry picked from commit d2a5d9856d109ce39f598dc64aeb41e9e4f3304b)\n'}, {'number': 2, 'created': '2020-12-14 13:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3243b374badbb8548adb9b0d3a01653839e58c82', 'message': 'Add missing ComputeNeutronMetadataAgent service into tripleo_containers.yaml.j2.\n\nWhen using DVR the Compute roles make use of the services\nComputeNeutronOvsAgent, ComputeNeutronL3Agent, ComputeNeutronMetadataAgent\nand ComputeNeutronCorePlugin. However, the ComputeNeutronMetadataAgent was\nmissing from the tripleo_containers.yaml.j2 which causes issues at the time\nof retrieving the images from the Undercloud registry.\n\nRelated-Bug: #1898256\nChange-Id: I52204ec1bcb3a43e5d8e8503871a27b8bfb88e7b\n(cherry picked from commit d2a5d9856d109ce39f598dc64aeb41e9e4f3304b)\n'}, {'number': 3, 'created': '2020-12-15 13:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/457e970e25d18ada2bf15044fc1d1c7ad1b0f3b2', 'message': 'Add missing ComputeNeutronMetadataAgent service into tripleo_containers.yaml.j2.\n\nWhen using DVR the Compute roles make use of the services\nComputeNeutronOvsAgent, ComputeNeutronL3Agent, ComputeNeutronMetadataAgent\nand ComputeNeutronCorePlugin. However, the ComputeNeutronMetadataAgent was\nmissing from the tripleo_containers.yaml.j2 which causes issues at the time\nof retrieving the images from the Undercloud registry.\n\nRelated-Bug: #1898256\nChange-Id: I52204ec1bcb3a43e5d8e8503871a27b8bfb88e7b\n(cherry picked from commit d2a5d9856d109ce39f598dc64aeb41e9e4f3304b)\n'}, {'number': 4, 'created': '2021-01-18 17:25:01.000000000', 'files': ['container-images/tripleo_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c413005bd025d94462d391b75f2d5bbd3aa6ac91', 'message': 'Add missing ComputeNeutronMetadataAgent service into tripleo_containers.yaml.j2.\n\nWhen using DVR the Compute roles make use of the services\nComputeNeutronOvsAgent, ComputeNeutronL3Agent, ComputeNeutronMetadataAgent\nand ComputeNeutronCorePlugin. However, the ComputeNeutronMetadataAgent was\nmissing from the tripleo_containers.yaml.j2 which causes issues at the time\nof retrieving the images from the Undercloud registry.\n\nRelated-Bug: #1898256\nChange-Id: I52204ec1bcb3a43e5d8e8503871a27b8bfb88e7b\n(cherry picked from commit d2a5d9856d109ce39f598dc64aeb41e9e4f3304b)\n'}]",0,764186,c413005bd025d94462d391b75f2d5bbd3aa6ac91,30,6,4,11166,,,0,"Add missing ComputeNeutronMetadataAgent service into tripleo_containers.yaml.j2.

When using DVR the Compute roles make use of the services
ComputeNeutronOvsAgent, ComputeNeutronL3Agent, ComputeNeutronMetadataAgent
and ComputeNeutronCorePlugin. However, the ComputeNeutronMetadataAgent was
missing from the tripleo_containers.yaml.j2 which causes issues at the time
of retrieving the images from the Undercloud registry.

Related-Bug: #1898256
Change-Id: I52204ec1bcb3a43e5d8e8503871a27b8bfb88e7b
(cherry picked from commit d2a5d9856d109ce39f598dc64aeb41e9e4f3304b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/86/764186/4 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml.j2'],1,5f8957fca5fe19184ed991b0b142154a37be33d3,, - OS::TripleO::Services::ComputeNeutronMetadataAgent,,1,0
openstack%2Foslo.utils~master~I331232afa7fb438224a4bd700de0d3412fdcc9df,openstack/oslo.utils,master,I331232afa7fb438224a4bd700de0d3412fdcc9df,Use TOX_CONSTRAINTS_FILE,MERGED,2020-12-24 06:28:42.000000000,2021-02-01 14:26:16.000000000,2021-02-01 14:24:13.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-24 06:28:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/554913bd95f20383651a48b02617779931071407', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I331232afa7fb438224a4bd700de0d3412fdcc9df\n'}]",0,768418,554913bd95f20383651a48b02617779931071407,9,2,1,30384,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I331232afa7fb438224a4bd700de0d3412fdcc9df
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/18/768418/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,554913bd95f20383651a48b02617779931071407,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fcharm-neutron-gateway~master~Ie8eb5e367baa830ebdaf9ab2232dfbc8a595fff0,openstack/charm-neutron-gateway,master,Ie8eb5e367baa830ebdaf9ab2232dfbc8a595fff0,Add Groovy to the test gate,MERGED,2020-11-05 11:51:18.000000000,2021-02-01 14:16:08.000000000,2021-02-01 14:16:08.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-05 11:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/9cd5bc30f07e75d277238dd08e72d704ffcd198a', 'message': 'Add Groovy to the test gate\n\nChange-Id: Ie8eb5e367baa830ebdaf9ab2232dfbc8a595fff0\n'}, {'number': 2, 'created': '2021-01-09 17:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/8798f9cf216fba7be6741d093108dbea7af0a69f', 'message': 'Add Groovy to the test gate\n\nChange-Id: Ie8eb5e367baa830ebdaf9ab2232dfbc8a595fff0\n'}, {'number': 3, 'created': '2021-01-15 13:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/f167c518dbb6e5e568a7374f040086bf6eb427cd', 'message': 'Add Groovy to the test gate\n\nChange-Id: Ie8eb5e367baa830ebdaf9ab2232dfbc8a595fff0\n'}, {'number': 4, 'created': '2021-01-22 13:03:19.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/75fccfb2309bb2e48642bba1b0fb44201e674d3f', 'message': 'Add Groovy to the test gate\n\nChange-Id: Ie8eb5e367baa830ebdaf9ab2232dfbc8a595fff0\n'}]",0,761575,75fccfb2309bb2e48642bba1b0fb44201e674d3f,31,3,4,31289,,,0,"Add Groovy to the test gate

Change-Id: Ie8eb5e367baa830ebdaf9ab2232dfbc8a595fff0
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/75/761575/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py']",3,9cd5bc30f07e75d277238dd08e72d704ffcd198a,groovy-charm-gate," application_name,def send_application_name(relid=None): """"""Send the application name down the relation. :param relid: Relation id to set application name in. :type relid: str """""" relation_set( relation_id=relid, relation_settings={'application-name': application_name()}) Profiles are considered immutable so will not be updated if the named profile already exists. Please refer to [0] for more details. if erasure_profile_exists(service, profile_name): log('EC profile {} exists, skipping update'.format(profile_name), level=WARNING) return relation_set(relation_id=rid, relation_settings={'unit-name': local_unit()})"," Updates the profile if it exists. Please refer to [0] for more details. if erasure_profile_exists(service, profile_name): cmd.append('--force') ",25,10
openstack%2Fcharm-manila~master~I20326cba665f57256c261ddfaac83be7e239fb46,openstack/charm-manila,master,I20326cba665f57256c261ddfaac83be7e239fb46,Add Groovy to the test gate,MERGED,2020-11-05 11:48:54.000000000,2021-02-01 14:07:56.000000000,2021-02-01 14:07:56.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-05 11:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/3958ce587959e3fc69ec5fcfa02278ce84e4c9a2', 'message': 'Add Groovy to the test gate\n\nChange-Id: I20326cba665f57256c261ddfaac83be7e239fb46\n'}, {'number': 2, 'created': '2021-01-07 22:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/c0840e8ebeead007e801f7d9d0962078f70bc198', 'message': 'Add Groovy to the test gate\n\nChange-Id: I20326cba665f57256c261ddfaac83be7e239fb46\n'}, {'number': 3, 'created': '2021-01-21 10:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/7ad9a13b204794c12f747b42c470d7f2f886cdad', 'message': 'Add Groovy to the test gate\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/481\nChange-Id: I20326cba665f57256c261ddfaac83be7e239fb46\n'}, {'number': 4, 'created': '2021-01-29 15:38:18.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/f51a259d5c01bd1c84c2bb1ce374f0c7ebd4e38c', 'message': 'Add Groovy to the test gate\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/481\nChange-Id: I20326cba665f57256c261ddfaac83be7e239fb46\n'}]",0,761565,f51a259d5c01bd1c84c2bb1ce374f0c7ebd4e38c,40,3,4,31289,,,0,"Add Groovy to the test gate

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/481
Change-Id: I20326cba665f57256c261ddfaac83be7e239fb46
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/65/761565/4 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,3958ce587959e3fc69ec5fcfa02278ce84e4c9a2,groovy-charm-gate,- ganesha: groovy-victoria,- ganesha: groovy-victoria,1,1
openstack%2Fcharm-barbican~master~I2a7fa371702f2e78838f5a90b8688b3a3b5dbce8,openstack/charm-barbican,master,I2a7fa371702f2e78838f5a90b8688b3a3b5dbce8,Add Groovy to the test gate,MERGED,2020-11-05 11:42:40.000000000,2021-02-01 14:05:40.000000000,2021-02-01 14:05:40.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-11-05 11:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/88e352b066b35c60e163f72167168d8315dad25e', 'message': 'Add Groovy to the test gate\n\nChange-Id: I2a7fa371702f2e78838f5a90b8688b3a3b5dbce8\n'}, {'number': 2, 'created': '2021-01-09 21:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/1c40f6c2d608a3b576c262cb992a4f7d330e0078', 'message': 'Add Groovy to the test gate\n\nChange-Id: I2a7fa371702f2e78838f5a90b8688b3a3b5dbce8\n'}, {'number': 3, 'created': '2021-01-29 14:11:07.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/0b3b075eeceb94fd97c7fedd6a7142acc3584b8b', 'message': 'Add Groovy to the test gate\n\nChange-Id: I2a7fa371702f2e78838f5a90b8688b3a3b5dbce8\n'}]",0,761540,0b3b075eeceb94fd97c7fedd6a7142acc3584b8b,25,4,3,31289,,,0,"Add Groovy to the test gate

Change-Id: I2a7fa371702f2e78838f5a90b8688b3a3b5dbce8
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/40/761540/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,88e352b066b35c60e163f72167168d8315dad25e,groovy-charm-gate,- groovy-victoria,dev_bundles: - groovy-victoria,1,2
openstack%2Fcharms.openstack~stable%2F20.10~Iad9616d3f8668782cd9c7dc498120536fb756da7,openstack/charms.openstack,stable/20.10,Iad9616d3f8668782cd9c7dc498120536fb756da7,Skip bindings that don't exist,MERGED,2021-02-01 12:57:43.000000000,2021-02-01 14:05:34.000000000,2021-02-01 14:05:34.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-02-01 12:57:43.000000000', 'files': ['charms_openstack/charm/classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/77ca07e4e9a3bb1f18da7295ff0806198719ffcf', 'message': ""Skip bindings that don't exist\n\nWhen fetching CNs from bindings, skip those that are not\navailable since not all charms have all bindings.\n\nCloses-Bug: 1913313\nChange-Id: Iad9616d3f8668782cd9c7dc498120536fb756da7\n(cherry picked from commit 6a050f5b3c26eb3590793a947ec36ec7f88f761c)\n""}]",0,773384,77ca07e4e9a3bb1f18da7295ff0806198719ffcf,7,3,1,6737,,,0,"Skip bindings that don't exist

When fetching CNs from bindings, skip those that are not
available since not all charms have all bindings.

Closes-Bug: 1913313
Change-Id: Iad9616d3f8668782cd9c7dc498120536fb756da7
(cherry picked from commit 6a050f5b3c26eb3590793a947ec36ec7f88f761c)
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/84/773384/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/charm/classes.py'],1,77ca07e4e9a3bb1f18da7295ff0806198719ffcf,bug/1913313, # Not all charms have all bindings to skip if unavailable try: cn = os_ip.resolve_address(endpoint_type=ep_type) except hookenv.NoNetworkBinding: continue 'cn': cn}), 'cn': os_ip.resolve_address(endpoint_type=ep_type)}),7,1
openstack%2Frequirements~master~I94be665bbbb81d97fef39d51647ab3d012b16c46,openstack/requirements,master,I94be665bbbb81d97fef39d51647ab3d012b16c46,Remove projects.txt and friends,ABANDONED,2018-11-20 20:14:58.000000000,2021-02-01 14:03:52.000000000,,"[{'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-20 20:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/cedbd8326eada2a53cb4dc216075d52b09e14239', 'message': 'Remove projects.txt and friends\n\nChange https://review.openstack.org/557326 removed the usage of\nprojects.txt, we are not syncing requirements anymore to projects.\n\nRemove the projects.txt file and the jobs and tools for validating it.\n\nChange-Id: I94be665bbbb81d97fef39d51647ab3d012b16c46\n'}, {'number': 2, 'created': '2019-05-24 08:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c694f04cebc21c6098cb55cd3d662a6721d1cc57', 'message': 'Remove projects.txt and friends\n\nChange https://review.openstack.org/557326 removed the usage of\nprojects.txt, we are not syncing requirements anymore to projects.\n\nRemove the projects.txt file and the jobs and tools for validating it.\n\nChange-Id: I94be665bbbb81d97fef39d51647ab3d012b16c46\n'}, {'number': 3, 'created': '2020-04-23 04:37:29.000000000', 'files': ['projects.txt', '.zuul.d/project.yaml', 'setup.cfg', '.zuul.d/jobs.yaml', 'tox.ini', 'openstack_requirements/cmds/validate_projects.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fb2331aed7ba573469178b7511a23ee74709d1ec', 'message': 'Remove projects.txt and friends\n\nChange https://review.openstack.org/557326 removed the usage of\nprojects.txt, we are not syncing requirements anymore to projects.\n\nRemove the projects.txt file and the jobs and tools for validating it.\n\nChange-Id: I94be665bbbb81d97fef39d51647ab3d012b16c46\n'}]",0,619089,fb2331aed7ba573469178b7511a23ee74709d1ec,28,4,3,6547,,,0,"Remove projects.txt and friends

Change https://review.openstack.org/557326 removed the usage of
projects.txt, we are not syncing requirements anymore to projects.

Remove the projects.txt file and the jobs and tools for validating it.

Change-Id: I94be665bbbb81d97fef39d51647ab3d012b16c46
",git fetch https://review.opendev.org/openstack/requirements refs/changes/89/619089/3 && git format-patch -1 --stdout FETCH_HEAD,"['projects.txt', '.zuul.d/project.yaml', 'setup.cfg', '.zuul.d/jobs.yaml', 'tox.ini', 'openstack_requirements/cmds/validate_projects.py']",6,cedbd8326eada2a53cb4dc216075d52b09e14239,rm-projects,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Apply validation rules to the projects.txt file """""" import argparse from openstack_requirements import project_config _BLACKLIST = set([ # NOTE(dhellmann): It's not clear why these don't get updates, # except that trying to do so may break the test jobs using them # because of the nature of the projects. 'openstack-dev/hacking', 'openstack-dev/pbr', # We can't enforce the check rules against this repo. 'openstack/requirements', ]) def main(): parser = argparse.ArgumentParser() parser.add_argument( 'projects_list', default='projects.txt', help='path to the projects.txt file', ) args = parser.parse_args() zuul_projects = project_config.get_zuul_projects_data() error_count = 0 print('\nChecking %s' % args.projects_list) with open(args.projects_list, 'r') as f: for repo in f: repo = repo.strip() if repo.startswith('#'): continue if repo in _BLACKLIST: continue pe = project_config.require_check_requirements_for_repo( zuul_projects, repo) for e in pe: print(e) error_count += 1 return 1 if error_count else 0 ",0,408
openstack%2Fpython-manilaclient~master~I5681a86589c5d59337dbad878a2bb0ebc732f831,openstack/python-manilaclient,master,I5681a86589c5d59337dbad878a2bb0ebc732f831,Tighten asserts in some wait tests,MERGED,2021-01-22 21:34:11.000000000,2021-02-01 14:01:01.000000000,2021-02-01 13:59:20.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 31213}, {'_account_id': 32635}]","[{'number': 1, 'created': '2021-01-22 21:34:11.000000000', 'files': ['manilaclient/tests/unit/v2/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/08fb635670625617816fe33d3fe842e96292169d', 'message': 'Tighten asserts in some wait tests\n\nhttps://review.opendev.org/770537 introduced\na wait flag for shrink and extend methods.\nThe unit tests could use a tighter assert\nstatement so we catch possible future\nregressions.\n\nTrivialFix\nRelated bp: add-wait-to-async-commands\n\nChange-Id: I5681a86589c5d59337dbad878a2bb0ebc732f831\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,772121,08fb635670625617816fe33d3fe842e96292169d,9,4,1,16643,,,0,"Tighten asserts in some wait tests

https://review.opendev.org/770537 introduced
a wait flag for shrink and extend methods.
The unit tests could use a tighter assert
statement so we catch possible future
regressions.

TrivialFix
Related bp: add-wait-to-async-commands

Change-Id: I5681a86589c5d59337dbad878a2bb0ebc732f831
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/21/772121/1 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/tests/unit/v2/test_shell.py'],1,08fb635670625617816fe33d3fe842e96292169d,change-770537-7," available_share = shares.Share( 'fake', {'id': '1234', 'status': 'available'}) fake_shares = [ available_share, share_to_extend, share_to_extend, available_share ] self.assertEqual(4, shell_v2._find_share.call_count) self.assertEqual(2, shell_v2._find_share.call_count) available_share = shares.Share( 'fake', {'id': '1234', 'status': 'available'}) fake_shares = [ available_share, share_to_shrink, share_to_shrink, available_share ] self.assertEqual(4, shell_v2._find_share.call_count) self.assertEqual(2, shell_v2._find_share.call_count)"," already_extended_share = shares.Share('fake', {'id': '1234', 'status': 'available'}) fake_shares = [share_to_extend] * 3 fake_shares.append(already_extended_share) already_shrank_share = shares.Share('fake', {'id': '1234', 'status': 'available'}) fake_shares = [share_to_shrink] * 3 fake_shares.append(already_shrank_share)",14,8
openstack%2Fopenstack-ansible-lxc_container_create~master~Ia95bbc959b54f494b5861afcb4e84d4c227e7b31,openstack/openstack-ansible-lxc_container_create,master,Ia95bbc959b54f494b5861afcb4e84d4c227e7b31,Fix formatting of LXC container config files,MERGED,2021-01-27 15:20:29.000000000,2021-02-01 13:52:12.000000000,2021-02-01 13:50:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-27 15:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/464fa3e544917cba775a6d38416f4ca66bbc9d19', 'message': ""Fix formatting of LXC container config files\n\nSpacing changes were inadvertently introduced in\nhttps://review.opendev.org/742121 which result in duplicate entries\nin LXC config files.\n\nThis commit reverts to the original formatting with spaces either\nside of the '=', although it makes no attempt to fix files which\nmay already include duplicate entries.\n\nChange-Id: Ia95bbc959b54f494b5861afcb4e84d4c227e7b31\n""}, {'number': 2, 'created': '2021-02-01 08:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/363f7002a48262f00200df60ed2b030ff60f40b0', 'message': ""Fix formatting of LXC container config files\n\nSpacing changes were inadvertently introduced in\nhttps://review.opendev.org/742121 which result in duplicate entries\nin LXC config files.\n\nThis commit reverts to the original formatting with spaces either\nside of the '=', although it makes no attempt to fix files which\nmay already include duplicate entries.\n\nChange-Id: Ia95bbc959b54f494b5861afcb4e84d4c227e7b31\n""}, {'number': 3, 'created': '2021-02-01 09:46:51.000000000', 'files': ['tests/test-containers-functional.yml', 'tasks/lxc_container_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/9a397730b4889f246ddf859b012da4c4fa47706b', 'message': ""Fix formatting of LXC container config files\n\nSpacing changes were inadvertently introduced in\nhttps://review.opendev.org/742121 which result in duplicate entries\nin LXC config files.\n\nThis commit reverts to the original formatting with spaces either\nside of the '=', although it makes no attempt to fix files which\nmay already include duplicate entries.\n\nChange-Id: Ia95bbc959b54f494b5861afcb4e84d4c227e7b31\n""}]",3,772706,9a397730b4889f246ddf859b012da4c4fa47706b,18,4,3,31542,,,0,"Fix formatting of LXC container config files

Spacing changes were inadvertently introduced in
https://review.opendev.org/742121 which result in duplicate entries
in LXC config files.

This commit reverts to the original formatting with spaces either
side of the '=', although it makes no attempt to fix files which
may already include duplicate entries.

Change-Id: Ia95bbc959b54f494b5861afcb4e84d4c227e7b31
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/06/772706/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-containers-functional.yml', 'tasks/lxc_container_config.yml']",2,464fa3e544917cba775a6d38416f4ca66bbc9d19,," line: ""{{ item.split('=', 1)[0] }} = {{ item.split('=', 1)[1] }}"""," line: ""{{ item }}""",2,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I835f8faf51dc47b300d5ebdc4e821f8c40daf065,openstack/tripleo-heat-templates,stable/queens,I835f8faf51dc47b300d5ebdc4e821f8c40daf065,Neutron ML2/OVN: Add support to enable IGMP Snooping,ABANDONED,2021-02-01 08:28:12.000000000,2021-02-01 13:44:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-02-01 08:28:12.000000000', 'files': ['releasenotes/notes/ovn_igmp_snooping_support-eccdecde74f4b9c8.yaml', 'puppet/services/neutron-api.yaml', 'puppet/services/neutron-plugin-ml2-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a846828d0db7602acbb06a9c019677cda754e09', 'message': ""Neutron ML2/OVN: Add support to enable IGMP Snooping\n\nRight now, there's no way to drive the IGMP Snooping knob in\nNeutron from THT. This patch is adding a new parameter that\ndefaults to False for ML2/OVN deployments.\n\nChange-Id: I835f8faf51dc47b300d5ebdc4e821f8c40daf065\nCloses-Bug: #1868569\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit d5be566b3db3b288534e6cb5f3290416e2731784)\n(cherry picked from commit 8977f8e95e61b88a88c87c6279550683085a46ce)\n""}]",0,773300,9a846828d0db7602acbb06a9c019677cda754e09,4,3,1,16688,,,0,"Neutron ML2/OVN: Add support to enable IGMP Snooping

Right now, there's no way to drive the IGMP Snooping knob in
Neutron from THT. This patch is adding a new parameter that
defaults to False for ML2/OVN deployments.

Change-Id: I835f8faf51dc47b300d5ebdc4e821f8c40daf065
Closes-Bug: #1868569
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit d5be566b3db3b288534e6cb5f3290416e2731784)
(cherry picked from commit 8977f8e95e61b88a88c87c6279550683085a46ce)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/773300/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovn_igmp_snooping_support-eccdecde74f4b9c8.yaml', 'puppet/services/neutron-api.yaml', 'puppet/services/neutron-plugin-ml2-ovn.yaml']",3,9a846828d0db7602acbb06a9c019677cda754e09,bug/1868569, NeutronEnableIgmpSnooping: description: Enable IGMP Snooping. type: boolean default: false neutron::server::igmp_snooping_enable: {get_param: NeutronEnableIgmpSnooping},,15,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I835f8faf51dc47b300d5ebdc4e821f8c40daf065,openstack/tripleo-heat-templates,stable/rocky,I835f8faf51dc47b300d5ebdc4e821f8c40daf065,Neutron ML2/OVN: Add support to enable IGMP Snooping,ABANDONED,2021-02-01 08:27:23.000000000,2021-02-01 13:44:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-02-01 08:27:23.000000000', 'files': ['releasenotes/notes/ovn_igmp_snooping_support-eccdecde74f4b9c8.yaml', 'puppet/services/neutron-api.yaml', 'puppet/services/neutron-plugin-ml2-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8977f8e95e61b88a88c87c6279550683085a46ce', 'message': ""Neutron ML2/OVN: Add support to enable IGMP Snooping\n\nRight now, there's no way to drive the IGMP Snooping knob in\nNeutron from THT. This patch is adding a new parameter that\ndefaults to False for ML2/OVN deployments.\n\nConflicts:\n      deployment/neutron/neutron-api-container-puppet.yaml\n      puppet/services/neutron-plugin-ml2-ovn.yaml\n\nChange-Id: I835f8faf51dc47b300d5ebdc4e821f8c40daf065\nCloses-Bug: #1868569\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit d5be566b3db3b288534e6cb5f3290416e2731784)\n""}]",0,773299,8977f8e95e61b88a88c87c6279550683085a46ce,4,3,1,16688,,,0,"Neutron ML2/OVN: Add support to enable IGMP Snooping

Right now, there's no way to drive the IGMP Snooping knob in
Neutron from THT. This patch is adding a new parameter that
defaults to False for ML2/OVN deployments.

Conflicts:
      deployment/neutron/neutron-api-container-puppet.yaml
      puppet/services/neutron-plugin-ml2-ovn.yaml

Change-Id: I835f8faf51dc47b300d5ebdc4e821f8c40daf065
Closes-Bug: #1868569
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit d5be566b3db3b288534e6cb5f3290416e2731784)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/773299/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovn_igmp_snooping_support-eccdecde74f4b9c8.yaml', 'puppet/services/neutron-api.yaml', 'puppet/services/neutron-plugin-ml2-ovn.yaml']",3,8977f8e95e61b88a88c87c6279550683085a46ce,bug/1868569, NeutronEnableIgmpSnooping: description: Enable IGMP Snooping. type: boolean default: false neutron::server::igmp_snooping_enable: {get_param: NeutronEnableIgmpSnooping},,15,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I835f8faf51dc47b300d5ebdc4e821f8c40daf065,openstack/tripleo-heat-templates,stable/stein,I835f8faf51dc47b300d5ebdc4e821f8c40daf065,Neutron ML2/OVN: Add support to enable IGMP Snooping,ABANDONED,2021-02-01 08:16:49.000000000,2021-02-01 13:44:36.000000000,,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-02-01 08:16:49.000000000', 'files': ['releasenotes/notes/ovn_igmp_snooping_support-eccdecde74f4b9c8.yaml', 'puppet/services/neutron-plugin-ml2-ovn.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d0f39aa69641ac29d41cadd2eea5da324aae63fb', 'message': ""Neutron ML2/OVN: Add support to enable IGMP Snooping\n\nRight now, there's no way to drive the IGMP Snooping knob in\nNeutron from THT. This patch is adding a new parameter that\ndefaults to False for ML2/OVN deployments.\n\nChange-Id: I835f8faf51dc47b300d5ebdc4e821f8c40daf065\nCloses-Bug: #1868569\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit d5be566b3db3b288534e6cb5f3290416e2731784)\n""}]",2,773298,d0f39aa69641ac29d41cadd2eea5da324aae63fb,6,4,1,16688,,,0,"Neutron ML2/OVN: Add support to enable IGMP Snooping

Right now, there's no way to drive the IGMP Snooping knob in
Neutron from THT. This patch is adding a new parameter that
defaults to False for ML2/OVN deployments.

Change-Id: I835f8faf51dc47b300d5ebdc4e821f8c40daf065
Closes-Bug: #1868569
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit d5be566b3db3b288534e6cb5f3290416e2731784)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/773298/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovn_igmp_snooping_support-eccdecde74f4b9c8.yaml', 'puppet/services/neutron-plugin-ml2-ovn.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml']",3,d0f39aa69641ac29d41cadd2eea5da324aae63fb,bug/1868569, NeutronEnableIgmpSnooping: description: Enable IGMP Snooping. type: boolean default: false neutron::server::igmp_snooping_enable: {get_param: NeutronEnableIgmpSnooping},,15,0
openstack%2Fopenstack-ansible~master~I55ccb802d49eed216b7a1d6b4a71828fa48afa2a,openstack/openstack-ansible,master,I55ccb802d49eed216b7a1d6b4a71828fa48afa2a,Imported Translations from Zanata,MERGED,2021-01-30 07:59:32.000000000,2021-02-01 13:44:32.000000000,2021-02-01 13:42:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-30 07:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6848b43aa74910d1c6faaf840df15bfe75113991', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I55ccb802d49eed216b7a1d6b4a71828fa48afa2a\n'}, {'number': 2, 'created': '2021-01-31 07:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4c69e6d1f88fa92a9f270a6ff92e72f28057d9b7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I55ccb802d49eed216b7a1d6b4a71828fa48afa2a\n'}, {'number': 3, 'created': '2021-02-01 07:40:21.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/ru/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc-user.po', 'doc/source/locale/id/LC_MESSAGES/doc-admin.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/fr/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc-reference.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc-reference.po', 'doc/source/locale/ru/LC_MESSAGES/doc-user.po', 'doc/source/locale/de/LC_MESSAGES/doc-user.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a3fccfdadd2b5324bf107ccfebf5399aa359e278', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I55ccb802d49eed216b7a1d6b4a71828fa48afa2a\n'}]",0,773229,a3fccfdadd2b5324bf107ccfebf5399aa359e278,13,3,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I55ccb802d49eed216b7a1d6b4a71828fa48afa2a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/29/773229/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/ru/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc-user.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc.po', 'doc/source/locale/fr/LC_MESSAGES/doc.po', 'doc/source/locale/id/LC_MESSAGES/doc-reference.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc.po', 'doc/source/locale/de/LC_MESSAGES/doc-reference.po', 'doc/source/locale/ru/LC_MESSAGES/doc-user.po', 'doc/source/locale/de/LC_MESSAGES/doc-user.po']",12,6848b43aa74910d1c6faaf840df15bfe75113991,zanata/translations,"""Project-Id-Version: openstack-ansible 22.0.0.0rc2.dev36\n""""POT-Creation-Date: 2021-01-28 16:24+0000\n""","""Project-Id-Version: openstack-ansible 21.1.0.dev180\n""""POT-Creation-Date: 2020-10-19 03:01+0000\n""""If this fails to get the database cluster back into a running state, then "" ""please make use of the `Galera Cluster Recovery </admin/maintenance-tasks."" ""html#galera-cluster-recovery>` section in the operations guide."" msgstr """" ""Wenn dies den Datenbank-Cluster nicht in einen aktiven Zustand versetzt, "" ""verwenden Sie den Abschnitt `Galera Cluster Recover </admin/maintenance-"" ""tasks.html#galera-cluster-recovery>` im Betriebshandbuch."" msgid """"""OpenStack-Ansible allows `Ceph storage <https://ceph.io>`_ cluster "" ""integration in two ways:"" msgstr """" ""OpenStack-Ansible erlaubt `Ceph storage <https://ceph.io>`_ Cluster-"" ""Integration auf zwei Arten:"" msgid """"msgid """" ""deploying a ceph cluster by using the roles maintained by the `Ceph-"" ""Ansible`_ project. Deployers can enable the ``ceph-install`` playbook by "" ""adding hosts to the ``ceph-mon_hosts``, ``ceph-osd_hosts`` and ``ceph-"" ""rgw_hosts`` groups in ``openstack_user_config.yml``, and then configuring "" ""`Ceph-Ansible specific vars <https://github.com/ceph/ceph-ansible/blob/"" ""master/group_vars/all.yml.sample>`_ in the OpenStack-Ansible "" ""``user_variables.yml`` file."" msgstr """" ""Bereitstellen eines Ceph-Clusters unter Verwendung der vom `Ceph-Ansible`_-"" ""Projekt verwalteten Rollen. Deployer können das ``ceph-install``-Playbook "" ""aktivieren, indem Hosts zu den Gruppen ``ceph-mon_hosts` `, ` `ceph-"" ""osd_hosts`` und` `ceph-rgw_hosts`` in ``openstack_user_config.yml`` "" ""hinzugefügt werden. und dann konfigurieren Sie `Ceph-Ansible spezifische "" ""vars <https://github.com/ceph/ceph-ansible/blob/master/group_vars/all.yml."" ""sample>`_ in der OpenStack-Ansible ``user_variables.yml`` Datei."" ",122,598
openstack%2Fpython-manilaclient~master~Ic8902272b81b7583df785b358d32c8e88609d93a,openstack/python-manilaclient,master,Ic8902272b81b7583df785b358d32c8e88609d93a,[OSC] Add the option to explicitly set share status,MERGED,2021-01-25 19:20:13.000000000,2021-02-01 13:11:39.000000000,2021-02-01 13:09:29.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32531}]","[{'number': 1, 'created': '2021-01-25 19:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/2e062de2bb71cb04e8335fd8db982bf91b97769d', 'message': ""[OSC] Add the option to explicity set share status\n\nImplement the functionality of 'manila reset-state' command as\n'openstack share set <share> --status'\n\nPartially-implements bp openstack-client-support\nChange-Id: Ic8902272b81b7583df785b358d32c8e88609d93a\n""}, {'number': 2, 'created': '2021-01-25 20:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/57cb6f464c4e37b3da5e9c675ee8a7c02ba5bc53', 'message': ""[OSC] Add the option to explicitly set share status\n\nImplement the functionality of 'manila reset-state' command as\n'openstack share set <share> --status'\n\nPartially-implements bp openstack-client-support\nChange-Id: Ic8902272b81b7583df785b358d32c8e88609d93a\n""}, {'number': 3, 'created': '2021-01-26 06:20:22.000000000', 'files': ['manilaclient/osc/v2/share.py', 'manilaclient/tests/unit/osc/v2/test_share.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f1abf30138fe7f97e7d7f2a7032778774a77deb7', 'message': ""[OSC] Add the option to explicitly set share status\n\nImplement the functionality of 'manila reset-state' command as\n'openstack share set <share> --status'\n\nPartially-implements bp openstack-client-support\nChange-Id: Ic8902272b81b7583df785b358d32c8e88609d93a\n""}]",2,772426,f1abf30138fe7f97e7d7f2a7032778774a77deb7,19,4,3,31213,,,0,"[OSC] Add the option to explicitly set share status

Implement the functionality of 'manila reset-state' command as
'openstack share set <share> --status'

Partially-implements bp openstack-client-support
Change-Id: Ic8902272b81b7583df785b358d32c8e88609d93a
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/26/772426/2 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/osc/v2/share.py', 'manilaclient/tests/unit/osc/v2/test_share.py']",2,2e062de2bb71cb04e8335fd8db982bf91b97769d,bp/openstack-client-support," self._share = manila_fakes.FakeShare.create_one_share( methods={""reset_state"": None} ) def test_share_set_status(self): new_status = 'available' arglist = [ self._share.id, '--status', new_status ] verifylist = [ ('share', self._share.id), ('status', new_status) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) result = self.cmd.take_action(parsed_args) self._share.reset_state.assert_called_with(new_status) self.assertIsNone(result) def test_share_set_status_exception(self): new_status = 'available' arglist = [ self._share.id, '--status', new_status ] verifylist = [ ('share', self._share.id), ('status', new_status) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self._share.reset_state.side_effect = Exception() self.assertRaises( osc_exceptions.CommandError, self.cmd.take_action, parsed_args) ", self._share = manila_fakes.FakeShare.create_one_share(),54,1
openstack%2Fkuryr~stable%2Fussuri~I817c9a6b4e61bc50340dbdabcdd91b1bfb8aa04a,openstack/kuryr,stable/ussuri,I817c9a6b4e61bc50340dbdabcdd91b1bfb8aa04a,Remove the unused coding style modules,MERGED,2020-12-09 15:51:22.000000000,2021-02-01 12:54:28.000000000,2021-02-01 12:52:34.000000000,"[{'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-12-09 15:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr/commit/0d874764c49cff99f15a86ebca36529a8873cbf7', 'message': 'Remove the unused coding style modules\n\nPython modules related to coding style checks (listed in blacklist.txt in\nopenstack/requirements repo) are dropped from lower-constraints.txt\nas they are not actually used in tests (other than pep8).\n\nmore info: https://github.com/openstack/requirements/blob/master/blacklist.txt\n\nChange-Id: I817c9a6b4e61bc50340dbdabcdd91b1bfb8aa04a\n'}, {'number': 2, 'created': '2020-12-09 15:54:02.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/61089582ccb352f9a3ccab68f94bd5e62631b4ba', 'message': 'Remove the unused coding style modules\n\nPython modules related to coding style checks (listed in blacklist.txt in\nopenstack/requirements repo) are dropped from lower-constraints.txt\nas they are not actually used in tests (other than pep8).\n\nmore info: https://github.com/openstack/requirements/blob/master/blacklist.txt\n\nChange-Id: I817c9a6b4e61bc50340dbdabcdd91b1bfb8aa04a\n'}]",0,766185,61089582ccb352f9a3ccab68f94bd5e62631b4ba,13,7,2,11600,,,0,"Remove the unused coding style modules

Python modules related to coding style checks (listed in blacklist.txt in
openstack/requirements repo) are dropped from lower-constraints.txt
as they are not actually used in tests (other than pep8).

more info: https://github.com/openstack/requirements/blob/master/blacklist.txt

Change-Id: I817c9a6b4e61bc50340dbdabcdd91b1bfb8aa04a
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/85/766185/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,0d874764c49cff99f15a86ebca36529a8873cbf7,,<<<<<<< HEAD (90a458 Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri)======= greenlet==0.4.13 >>>>>>> CHANGE (e43bf2 Remove the unused coding style modules)<<<<<<< HEAD (90a458 Update TOX/UPPER_CONSTRAINTS_FILE for stable/ussuri)======= >>>>>>> CHANGE (e43bf2 Remove the unused coding style modules),flake8==2.5.5pep8==1.5.7pyflakes==0.8.1,7,3
openstack%2Freleases~master~Ic8688c6c8493a7607563cdfa4a037514d73e8df4,openstack/releases,master,Ic8688c6c8493a7607563cdfa4a037514d73e8df4,Release masakari for stable branches,MERGED,2021-01-30 15:35:10.000000000,2021-02-01 12:33:02.000000000,2021-02-01 12:33:02.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-30 15:35:10.000000000', 'files': ['deliverables/victoria/masakari.yaml', 'deliverables/ussuri/masakari.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/729279aae1a6066c47c029bded858da8d2c30c44', 'message': 'Release masakari for stable branches\n\nChange-Id: Ic8688c6c8493a7607563cdfa4a037514d73e8df4\n'}]",0,773241,729279aae1a6066c47c029bded858da8d2c30c44,9,3,1,30491,,,0,"Release masakari for stable branches

Change-Id: Ic8688c6c8493a7607563cdfa4a037514d73e8df4
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/773241/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/masakari.yaml', 'deliverables/ussuri/masakari.yaml']",2,729279aae1a6066c47c029bded858da8d2c30c44,release-masakari-stable, - version: 9.1.1 projects: - repo: openstack/masakari hash: 458698ff74205af29c22fd7f20f870916eaf1b16,,8,0
openstack%2Fkolla-ansible~master~Ic1ac8656f28c3835e091637014f075ac5479d390,openstack/kolla-ansible,master,Ic1ac8656f28c3835e091637014f075ac5479d390,Negative seqno need to be considered when comparing seqno,MERGED,2021-01-29 06:03:39.000000000,2021-02-01 12:32:50.000000000,2021-02-01 12:30:59.000000000,"[{'_account_id': 167}, {'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-01-29 06:03:39.000000000', 'files': ['ansible/roles/mariadb/tasks/recover_cluster.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/068f3fea50d17c63ac527b84a7a3d39c6f6cb5e2', 'message': ""Negative seqno need to be considered when comparing seqno\n\nNeed to consider Negative seqno to compare in some cases,\nbut the task does not support to do that, we need to make it work.\n\n1.we use mariabackup to restore datas on control1, delete the\nmariadb data on control2 and control3, and then use cluster recovery,\n as a result that the seqno of the other two nodes will be '-1'.\n\n2. add one more control node into our existing mariadb cluster,\nand then use cluster recovery, the seqno of the new node will be '-1'.\n\nChange-Id: Ic1ac8656f28c3835e091637014f075ac5479d390\n""}]",0,772973,068f3fea50d17c63ac527b84a7a3d39c6f6cb5e2,10,14,1,32245,,,0,"Negative seqno need to be considered when comparing seqno

Need to consider Negative seqno to compare in some cases,
but the task does not support to do that, we need to make it work.

1.we use mariabackup to restore datas on control1, delete the
mariadb data on control2 and control3, and then use cluster recovery,
 as a result that the seqno of the other two nodes will be '-1'.

2. add one more control node into our existing mariadb cluster,
and then use cluster recovery, the seqno of the new node will be '-1'.

Change-Id: Ic1ac8656f28c3835e091637014f075ac5479d390
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/772973/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mariadb/tasks/recover_cluster.yml'],1,068f3fea50d17c63ac527b84a7a3d39c6f6cb5e2,, {{ hostvars[inventory_hostname]['seqno'] }} =~ ^-?[0-9]+$ && {{ hostvars[item]['seqno'] }} =~ ^-?[0-9]+$ &&, {{ hostvars[inventory_hostname]['seqno'] }} =~ ^[0-9]+$ && {{ hostvars[item]['seqno'] }} =~ ^[0-9]+$ &&,1,1
openstack%2Fopenstack-ansible~master~I32a9809a0a23bb2c3a0a15ee5b95554e90cdd869,openstack/openstack-ansible,master,I32a9809a0a23bb2c3a0a15ee5b95554e90cdd869,Temporary disable SSL for rabbit connections,ABANDONED,2021-02-01 12:25:54.000000000,2021-02-01 12:28:10.000000000,,[],"[{'number': 1, 'created': '2021-02-01 12:25:54.000000000', 'files': ['inventory/group_vars/all/infra.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/34540f8e89bdfda5cbaeb35e1f833fe3d3143333', 'message': 'Temporary disable SSL for rabbit connections\n\nWith amqp 5.0.3 defaults changed regarding self-signed certificates\nverification, which results in [SSL: CERTIFICATE_VERIFY_FAILED]\n\nSo we disable ssl for rabbit by default until SSL topic is implemented.\n\nChange-Id: I32a9809a0a23bb2c3a0a15ee5b95554e90cdd869\n'}]",0,773376,34540f8e89bdfda5cbaeb35e1f833fe3d3143333,2,0,1,28619,,,0,"Temporary disable SSL for rabbit connections

With amqp 5.0.3 defaults changed regarding self-signed certificates
verification, which results in [SSL: CERTIFICATE_VERIFY_FAILED]

So we disable ssl for rabbit by default until SSL topic is implemented.

Change-Id: I32a9809a0a23bb2c3a0a15ee5b95554e90cdd869
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/76/773376/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/all/infra.yml'],1,34540f8e89bdfda5cbaeb35e1f833fe3d3143333,,rabbitmq_use_ssl: False,rabbitmq_use_ssl: True,1,1
openstack%2Foslo.utils~master~I52aa4a0f679b56ffa57cdd2199933e36cf076992,openstack/oslo.utils,master,I52aa4a0f679b56ffa57cdd2199933e36cf076992,Remove all usage of six library,MERGED,2020-10-07 03:50:07.000000000,2021-02-01 12:08:40.000000000,2021-02-01 12:07:10.000000000,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30407}]","[{'number': 1, 'created': '2020-10-07 03:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/cf969df2a27fbf706b707fc61ea13d7357286d24', 'message': 'Remove all usage of six library\n\nReplace six with Python 3 style code.\n\nChange-Id: I52aa4a0f679b56ffa57cdd2199933e36cf076992\n'}, {'number': 2, 'created': '2020-10-07 05:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/a559349b9eff9be79245067d258e43df408987be', 'message': 'Remove all usage of six library\n\nReplace six with Python 3 style code.\n\nChange-Id: I52aa4a0f679b56ffa57cdd2199933e36cf076992\n'}, {'number': 3, 'created': '2020-10-07 06:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/042651b20d742e6edc2cb3f6813c8891a6eecc0a', 'message': 'Remove all usage of six library\n\nReplace six with Python 3 style code.\n\nChange-Id: I52aa4a0f679b56ffa57cdd2199933e36cf076992\n'}, {'number': 4, 'created': '2020-10-07 08:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/d138861fa78d2e2f261fd69649126b997d86af28', 'message': 'Remove all usage of six library\n\nReplace six with Python 3 style code.\n\nChange-Id: I52aa4a0f679b56ffa57cdd2199933e36cf076992\n'}, {'number': 5, 'created': '2020-10-09 01:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/4e59c8534f7bbbd9f4da559fca6552d5f836129e', 'message': 'Remove all usage of six library\n\nReplace six with Python 3 style code.\n\nChange-Id: I52aa4a0f679b56ffa57cdd2199933e36cf076992\n'}, {'number': 6, 'created': '2020-10-09 11:21:10.000000000', 'files': ['oslo_utils/tests/test_netutils.py', 'oslo_utils/encodeutils.py', 'oslo_utils/tests/test_fnmatch.py', 'lower-constraints.txt', 'oslo_utils/tests/test_fileutils.py', 'oslo_utils/strutils.py', 'oslo_utils/excutils.py', 'oslo_utils/tests/test_fixture.py', 'oslo_utils/tests/test_reflection.py', 'oslo_utils/tests/tests_encodeutils.py', 'oslo_utils/reflection.py', 'oslo_utils/tests/test_eventletutils.py', 'requirements.txt', 'oslo_utils/dictutils.py', 'oslo_utils/tests/test_strutils.py', 'oslo_utils/timeutils.py', 'oslo_utils/versionutils.py', 'oslo_utils/netutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/cfe9881e6b363251d09e59e9b6c8a21ab6fbef37', 'message': 'Remove all usage of six library\n\nReplace six with Python 3 style code.\n\nChange-Id: I52aa4a0f679b56ffa57cdd2199933e36cf076992\n'}]",30,756424,cfe9881e6b363251d09e59e9b6c8a21ab6fbef37,26,7,6,30407,,,0,"Remove all usage of six library

Replace six with Python 3 style code.

Change-Id: I52aa4a0f679b56ffa57cdd2199933e36cf076992
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/24/756424/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/tests/test_netutils.py', 'oslo_utils/encodeutils.py', 'oslo_utils/tests/test_fnmatch.py', 'lower-constraints.txt', 'oslo_utils/tests/test_fileutils.py', 'oslo_utils/strutils.py', 'oslo_utils/excutils.py', 'oslo_utils/tests/test_fixture.py', 'oslo_utils/tests/test_reflection.py', 'oslo_utils/tests/tests_encodeutils.py', 'oslo_utils/reflection.py', 'oslo_utils/tests/test_eventletutils.py', 'requirements.txt', 'oslo_utils/dictutils.py', 'oslo_utils/tests/test_strutils.py', 'oslo_utils/timeutils.py', 'oslo_utils/versionutils.py', 'oslo_utils/netutils.py']",18,cf969df2a27fbf706b707fc61ea13d7357286d24,,"from urllib import parse return (isinstance(address, str) and","import six from six.moves.urllib import parse return (isinstance(address, six.string_types) and",123,256
openstack%2Fkayobe~stable%2Fussuri~I7fa88a203274c3030b3d8e5208f94b2230d43c68,openstack/kayobe,stable/ussuri,I7fa88a203274c3030b3d8e5208f94b2230d43c68,Fix /tmp/swift-rings/backups/ files deletion,MERGED,2021-01-22 17:19:27.000000000,2021-02-01 11:13:50.000000000,2021-02-01 11:12:01.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-01-22 17:19:27.000000000', 'files': ['ansible/roles/swift-rings/tasks/main.yml', 'releasenotes/notes/story-2008354-0c34e2ad7aeb7d3d.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/12f2bb18fc9c96d9df750fc8f9a1b1de95d5e7b0', 'message': 'Fix /tmp/swift-rings/backups/ files deletion\n\nAdd permission escalation to the swift ring generation playbook\n\nTask: 41256\nStory: 2008354\nChange-Id: I7fa88a203274c3030b3d8e5208f94b2230d43c68\n(cherry picked from commit f811d3148ac542f32b476146ffc791aa4ea72693)\n'}]",0,771927,12f2bb18fc9c96d9df750fc8f9a1b1de95d5e7b0,16,7,1,14826,,,0,"Fix /tmp/swift-rings/backups/ files deletion

Add permission escalation to the swift ring generation playbook

Task: 41256
Story: 2008354
Change-Id: I7fa88a203274c3030b3d8e5208f94b2230d43c68
(cherry picked from commit f811d3148ac542f32b476146ffc791aa4ea72693)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/27/771927/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/swift-rings/tasks/main.yml', 'releasenotes/notes/story-2008354-0c34e2ad7aeb7d3d.yaml']",2,12f2bb18fc9c96d9df750fc8f9a1b1de95d5e7b0,,--- fixes: - | Fixes issue with deleting swift ring temporary files. See `story 2008354 <https://storyboard.openstack.org/#!/story/2008354>`__ for details. ,,7,0
openstack%2Foslo.policy~master~Ic96309fef409ba01dd24a3a70ff132a9f5352f9c,openstack/oslo.policy,master,Ic96309fef409ba01dd24a3a70ff132a9f5352f9c,Switch to collections.abc.MutableMapping,MERGED,2021-01-29 17:26:34.000000000,2021-02-01 11:07:07.000000000,2021-02-01 11:04:19.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 17:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/61b78a9537ca9d611084a15014c44a320668577b', 'message': 'Switch to collections.abc.MutableMapping\n\ncollections.MutableMapping has been deprecated since Python 3.3 and\nis removed in Python 3.10. The functionality should be identical.\n\nChange-Id: Ic96309fef409ba01dd24a3a70ff132a9f5352f9c\n'}, {'number': 2, 'created': '2021-01-29 17:37:10.000000000', 'files': ['oslo_policy/shell.py', 'oslo_policy/policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/424ff50a4fa7f2134304e282155c1eaafa38e683', 'message': 'Switch to collections.abc.MutableMapping\n\ncollections.MutableMapping has been deprecated since Python 3.3 and\nis removed in Python 3.10. The functionality should be identical.\n\nChange-Id: Ic96309fef409ba01dd24a3a70ff132a9f5352f9c\n'}]",0,773161,424ff50a4fa7f2134304e282155c1eaafa38e683,9,3,2,8122,,,0,"Switch to collections.abc.MutableMapping

collections.MutableMapping has been deprecated since Python 3.3 and
is removed in Python 3.10. The functionality should be identical.

Change-Id: Ic96309fef409ba01dd24a3a70ff132a9f5352f9c
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/61/773161/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/shell.py', 'oslo_policy/policy.py']",2,61b78a9537ca9d611084a15014c44a320668577b,mutable-mapping," # collections.abc.MutableMapping, which behaves like a dictionary but elif not isinstance(creds, collections.abc.MutableMapping):"," # collections.MutableMapping, which behaves like a dictionary but elif not isinstance(creds, collections.MutableMapping):",3,3
openstack%2Fhorizon~stable%2Fussuri~I0dc58db29825446381c319ec904e8bf225b210e1,openstack/horizon,stable/ussuri,I0dc58db29825446381c319ec904e8bf225b210e1,Consume horizon tempest test from tempest master,MERGED,2021-01-25 15:41:14.000000000,2021-02-01 11:05:26.000000000,2021-02-01 10:58:39.000000000,"[{'_account_id': 1736}, {'_account_id': 8556}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-01-25 15:41:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a61ba77fcf5a7eb5926f478f65281fe60de7730b', 'message': 'Consume horizon tempest test from tempest master\n\nAs disscussed in Wallaby PTG[1], QA and Horizon team\ndecided to move the horizon dashboard test from tempest-horizon\nto Tempest. As next step, we can remove the tempest-horizon\nplugin which will ease the maintaince of horizon tempest test.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/771727\nChange-Id: I0dc58db29825446381c319ec904e8bf225b210e1\n(cherry picked from commit 15cb035efb746a7e0747e0e3e3bcf6ed40ccaea1)\n(cherry picked from commit 52d7a2935812a52578a106cf1cc3f6427bc5d8be)\n'}]",0,772363,a61ba77fcf5a7eb5926f478f65281fe60de7730b,10,5,1,841,,,0,"Consume horizon tempest test from tempest master

As disscussed in Wallaby PTG[1], QA and Horizon team
decided to move the horizon dashboard test from tempest-horizon
to Tempest. As next step, we can remove the tempest-horizon
plugin which will ease the maintaince of horizon tempest test.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/771727
Change-Id: I0dc58db29825446381c319ec904e8bf225b210e1
(cherry picked from commit 15cb035efb746a7e0747e0e3e3bcf6ed40ccaea1)
(cherry picked from commit 52d7a2935812a52578a106cf1cc3f6427bc5d8be)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/63/772363/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a61ba77fcf5a7eb5926f478f65281fe60de7730b,merge-horizon-test, tempest_test_regex: test_dashboard_basic_ops, - name: openstack/tempest-horizon tempest_test_regex: horizon tempest_plugins: - tempest-horizon,1,4
openstack%2Fhorizon~stable%2Fvictoria~I0dc58db29825446381c319ec904e8bf225b210e1,openstack/horizon,stable/victoria,I0dc58db29825446381c319ec904e8bf225b210e1,Consume horizon tempest test from tempest master,MERGED,2021-01-25 15:36:51.000000000,2021-02-01 11:05:17.000000000,2021-02-01 10:58:32.000000000,"[{'_account_id': 1736}, {'_account_id': 8556}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-01-25 15:36:51.000000000', 'files': ['.zuul.d/tempest-and-integrated.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/52d7a2935812a52578a106cf1cc3f6427bc5d8be', 'message': 'Consume horizon tempest test from tempest master\n\nAs disscussed in Wallaby PTG[1], QA and Horizon team\ndecided to move the horizon dashboard test from tempest-horizon\nto Tempest. As next step, we can remove the tempest-horizon\nplugin which will ease the maintaince of horizon tempest test.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/771727\nChange-Id: I0dc58db29825446381c319ec904e8bf225b210e1\n(cherry picked from commit 15cb035efb746a7e0747e0e3e3bcf6ed40ccaea1)\n'}]",0,772362,52d7a2935812a52578a106cf1cc3f6427bc5d8be,11,5,1,841,,,0,"Consume horizon tempest test from tempest master

As disscussed in Wallaby PTG[1], QA and Horizon team
decided to move the horizon dashboard test from tempest-horizon
to Tempest. As next step, we can remove the tempest-horizon
plugin which will ease the maintaince of horizon tempest test.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/771727
Change-Id: I0dc58db29825446381c319ec904e8bf225b210e1
(cherry picked from commit 15cb035efb746a7e0747e0e3e3bcf6ed40ccaea1)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/62/772362/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/tempest-and-integrated.yaml'],1,52d7a2935812a52578a106cf1cc3f6427bc5d8be,merge-horizon-test, tempest_test_regex: test_dashboard_basic_ops, - name: openstack/tempest-horizon tempest_test_regex: horizon tempest_plugins: - tempest-horizon,1,4
openstack%2Fos-traits~master~I62f884243e7cab71b3efad85676cdf6171e9a644,openstack/os-traits,master,I62f884243e7cab71b3efad85676cdf6171e9a644,Remove translation sections from setup.cfg,MERGED,2020-05-14 17:30:09.000000000,2021-02-01 11:05:13.000000000,2021-02-01 10:58:45.000000000,"[{'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-14 17:30:09.000000000', 'files': ['babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/b20bbb41bcf5e8da3079e38294757ea2af794b1e', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nChange-Id: I62f884243e7cab71b3efad85676cdf6171e9a644\n'}]",0,728160,b20bbb41bcf5e8da3079e38294757ea2af794b1e,11,4,1,17130,,,0,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Change-Id: I62f884243e7cab71b3efad85676cdf6171e9a644
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/60/728160/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'setup.cfg']",2,b20bbb41bcf5e8da3079e38294757ea2af794b1e,,, [compile_catalog] directory = os_traits/locale domain = os_traits [update_catalog] domain = os_traits output_dir = os_traits/locale input_file = os_traits/locale/os_traits.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = os_traits/locale/os_traits.pot,0,16
openstack%2Ftacker-horizon~master~I50655850fe2d1baf34dee9938f35c92266ccab83,openstack/tacker-horizon,master,I50655850fe2d1baf34dee9938f35c92266ccab83,Dropping explicit unicode literal,MERGED,2021-01-30 10:24:36.000000000,2021-02-01 10:35:56.000000000,2021-02-01 10:34:14.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-01-30 10:24:36.000000000', 'files': ['tacker_horizon/openstack_dashboard/dashboards/nfv/nsmanager/tables.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnfmanager/tables.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgcatalog/tables.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vim/tables.py', 'doc/source/conf.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/nscatalog/tables.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnfcatalog/tables.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgmanager/tables.py'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/70566f48610c5917f9b24b9804f843a76a4effef', 'message': 'Dropping explicit unicode literal\n\nIn python 3, all strings are considered as unicode string.\n\nThis patch drops the explicit unicode literal (u\'...\')\nor (u"".."") appearances from the unicode strings.\n\nChange-Id: I50655850fe2d1baf34dee9938f35c92266ccab83\n'}]",0,773236,70566f48610c5917f9b24b9804f843a76a4effef,8,6,1,32102,,,0,"Dropping explicit unicode literal

In python 3, all strings are considered as unicode string.

This patch drops the explicit unicode literal (u'...')
or (u"".."") appearances from the unicode strings.

Change-Id: I50655850fe2d1baf34dee9938f35c92266ccab83
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/36/773236/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker_horizon/openstack_dashboard/dashboards/nfv/nsmanager/tables.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnfmanager/tables.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vim/tables.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgcatalog/tables.py', 'doc/source/conf.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/nscatalog/tables.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnfcatalog/tables.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/vnffgmanager/tables.py']",8,70566f48610c5917f9b24b9804f843a76a4effef,drop-unicode-literal," ""Terminate VNFFG"", ""Terminate VNFFGs"", ""Terminate VNFFG"", ""Terminate VNFFGs"", ""Init In Progress"")), ""Init Complete"")), ""Init Failed"")), ""Create In Progress"")), ""Create Complete"")), ""Create Failed"")), ""Delete In Progress"")), ""Delete Complete"")), ""Delete Failed"")), ""Update In Progress"")), ""Update Complete"")), ""Update Failed"")), ""Rollback In Progress"")), ""Rollback Complete"")), ""Rollback Failed"")), ""Suspend In Progress"")), ""Suspend Complete"")), ""Suspend Failed"")), ""Resume In Progress"")), ""Resume Complete"")), ""Resume Failed"")), ""Adopt In Progress"")), ""Adopt Complete"")), ""Adopt Failed"")), ""Snapshot In Progress"")), ""Snapshot Complete"")), ""Snapshot Failed"")), ""Check In Progress"")), ""Check Complete"")), ""Check Failed"")),"," u""Terminate VNFFG"", u""Terminate VNFFGs"", u""Terminate VNFFG"", u""Terminate VNFFGs"", u""Init In Progress"")), u""Init Complete"")), u""Init Failed"")), u""Create In Progress"")), u""Create Complete"")), u""Create Failed"")), u""Delete In Progress"")), u""Delete Complete"")), u""Delete Failed"")), u""Update In Progress"")), u""Update Complete"")), u""Update Failed"")), u""Rollback In Progress"")), u""Rollback Complete"")), u""Rollback Failed"")), u""Suspend In Progress"")), u""Suspend Complete"")), u""Suspend Failed"")), u""Resume In Progress"")), u""Resume Complete"")), u""Resume Failed"")), u""Adopt In Progress"")), u""Adopt Complete"")), u""Adopt Failed"")), u""Snapshot In Progress"")), u""Snapshot Complete"")), u""Snapshot Failed"")), u""Check In Progress"")), u""Check Complete"")), u""Check Failed"")),",93,93
openstack%2Ftempest~master~I7af8d951c744efbcd8d5a9a0d3a691f4639022c4,openstack/tempest,master,I7af8d951c744efbcd8d5a9a0d3a691f4639022c4,Need to make some apis non-private,ABANDONED,2020-12-08 15:10:57.000000000,2021-02-01 10:34:13.000000000,,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-12-08 15:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/96d00018ab370345c3f57756d9f1154a43ab417e', 'message': ""Need to make some apis non-private\n\nCertain apis are implemented as private method\nin scenario manager. Hence plugins can't use\ndirectly from it.\nTherefore, These apis need to be non-private.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I7af8d951c744efbcd8d5a9a0d3a691f4639022c4\n""}, {'number': 2, 'created': '2020-12-08 15:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bc8ad0a1ee2d834ffdbb5f7d8ec462f06c9d51cb', 'message': ""Need to make some apis non-private\n\nCertain apis are implemented as private method\nin scenario manager. Hence plugins can't use\ndirectly from it.\nTherefore, These apis need to be non-private.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I7af8d951c744efbcd8d5a9a0d3a691f4639022c4\n""}, {'number': 3, 'created': '2020-12-10 10:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/75c1d7abe94c793380b9129ddadecc95b5a80972', 'message': ""Need to make some apis non-private\n\nCertain apis are implemented as private method\nin scenario manager. Hence plugins can't use\ndirectly from it.\nTherefore, These apis need to be non-private.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I7af8d951c744efbcd8d5a9a0d3a691f4639022c4\n""}, {'number': 4, 'created': '2020-12-10 10:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7a2dc4748b17e2710c3c20a6734960daff035c6d', 'message': ""Need to make some apis non-private\n\nCertain apis are implemented as private method\nin scenario manager. Hence plugins can't use\ndirectly from it.\nTherefore, These apis need to be non-private.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I7af8d951c744efbcd8d5a9a0d3a691f4639022c4\n""}, {'number': 5, 'created': '2020-12-14 11:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1b0a127145d24e65ee89b16ced0f3abc40f2b6a2', 'message': ""Need to make some apis non-private\n\nCertain apis are implemented as private method\nin scenario manager. Hence plugins can't use\ndirectly from it.\nTherefore, These apis need to be non-private.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I7af8d951c744efbcd8d5a9a0d3a691f4639022c4\n""}, {'number': 6, 'created': '2020-12-15 10:46:46.000000000', 'files': ['tempest/api/network/test_security_groups_negative.py', 'tempest/scenario/manager.py', 'tempest/scenario/test_volume_migrate_attached.py', 'tempest/scenario/test_network_basic_ops.py', 'tempest/scenario/test_volume_backup_restore.py', 'tempest/scenario/test_network_v6.py', 'tempest/scenario/test_security_groups_basic_ops.py', 'tempest/scenario/test_snapshot_pattern.py', 'tempest/api/network/test_security_groups.py', 'tempest/scenario/test_minimum_basic.py', 'tempest/scenario/test_server_basic_ops.py', 'tempest/scenario/test_volume_boot_pattern.py', 'tempest/scenario/test_network_advanced_server_ops.py', 'tempest/scenario/test_shelve_instance.py', 'tempest/api/network/base_security_groups.py', 'tempest/scenario/test_stamp_pattern.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2e4199cb814831463020cb4e1e4f7f17b0b62737', 'message': ""Need to make some apis non-private\n\nCertain apis are implemented as private method\nin scenario manager. Hence plugins can't use\ndirectly from it.\nTherefore, These apis need to be non-private.\n\nImplements: blueprint tempest-scenario-manager-stable\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I7af8d951c744efbcd8d5a9a0d3a691f4639022c4\n""}]",2,766015,2e4199cb814831463020cb4e1e4f7f17b0b62737,19,5,6,30742,,,0,"Need to make some apis non-private

Certain apis are implemented as private method
in scenario manager. Hence plugins can't use
directly from it.
Therefore, These apis need to be non-private.

Implements: blueprint tempest-scenario-manager-stable
Signed-off by: Soniya Vyas<svyas@redhat.com>
Change-Id: I7af8d951c744efbcd8d5a9a0d3a691f4639022c4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/15/766015/5 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,96d00018ab370345c3f57756d9f1154a43ab417e,bp/tempest-scenario-manager-stable," def create_loginable_secgroup_rule(self, secgroup_id=None): def create_security_group(self): self.create_loginable_secgroup_rule(secgroup['id']) def log_console_output(self, servers=None, client=None, **kwargs): self.log_console_output([server]) self.log_console_output(servers_for_debug) self.log_console_output() rules = self.create_loginable_secgroup_rule( def create_loginable_secgroup_rule(self, security_group_rules_client=None, secgroup=None, security_groups_client=None):"," def _create_loginable_secgroup_rule(self, secgroup_id=None): def _create_security_group(self): self._create_loginable_secgroup_rule(secgroup['id']) def _log_console_output(self, servers=None, client=None, **kwargs): self._log_console_output([server]) self._log_console_output(servers_for_debug) self._log_console_output() rules = self._create_loginable_secgroup_rule( def _create_loginable_secgroup_rule(self, security_group_rules_client=None, secgroup=None, security_groups_client=None):",11,11
openstack%2Freleases~master~I603b1ac864b5b34db7466007b1bb78a0887f87b5,openstack/releases,master,I603b1ac864b5b34db7466007b1bb78a0887f87b5,Check if patches remain opened on stale branches,MERGED,2021-01-27 13:06:08.000000000,2021-02-01 10:16:00.000000000,2021-02-01 10:16:00.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 13:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c4f5c4afbf1628fa094b3dfab172c61b22136da2', 'message': ""Check if patches remain opened on stale branches\n\nGerrit won't allow deletion of a branch with open reviews [1]. These changes\nallow us to early detect that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/020034.html\n\nChange-Id: I603b1ac864b5b34db7466007b1bb78a0887f87b5\n""}, {'number': 2, 'created': '2021-01-27 17:05:43.000000000', 'files': ['tools/list_eol_stale_branches.sh'], 'web_link': 'https://opendev.org/openstack/releases/commit/dfb43b49efd55d76892efd95b3b6abd13abc88b7', 'message': ""Check if patches remain opened on stale branches\n\nGerrit won't allow deletion of a branch with open reviews [1]. These changes\nallow us to early detect that.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/020034.html\n\nChange-Id: I603b1ac864b5b34db7466007b1bb78a0887f87b5\n""}]",3,772690,dfb43b49efd55d76892efd95b3b6abd13abc88b7,12,3,2,28522,,,0,"Check if patches remain opened on stale branches

Gerrit won't allow deletion of a branch with open reviews [1]. These changes
allow us to early detect that.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/020034.html

Change-Id: I603b1ac864b5b34db7466007b1bb78a0887f87b5
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/772690/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/list_eol_stale_branches.sh'],1,c4f5c4afbf1628fa094b3dfab172c61b22136da2,check-opened-patches,"GERRIT_URL=""https://review.opendev.org"" req=""${GERRIT_URL}/changes/?q=status:open+project:${repo}+branch:stable/${em_serie}"" patches=$(curl -s ${req} | sed 1d | jq --raw-output '.[] | .change_id') if [ ! -z ""${patches}"" ]; then echo ""Patches remain opened on stale branch:"" echo ""https://review.opendev.org/q/status:open+project:${repo}+branch:stable/${em_serie}"" fi",,7,0
openstack%2Fpuppet-aodh~master~I876d02605d346f4680672f9f4832bfbed91c4235,openstack/puppet-aodh,master,I876d02605d346f4680672f9f4832bfbed91c4235,Remove the deprecated parameters of aodh::auth,MERGED,2021-01-27 13:06:00.000000000,2021-02-01 10:04:34.000000000,2021-02-01 10:02:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 13:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/4124fdf993f93ea6c88975ce8a7d558524293278', 'message': 'Remove the deprecated parameters of aodh::auth\n\nChange-Id: I876d02605d346f4680672f9f4832bfbed91c4235\n'}, {'number': 2, 'created': '2021-01-28 00:47:29.000000000', 'files': ['spec/classes/aodh_auth_spec.rb', 'manifests/auth.pp', 'releasenotes/notes/auth-cleanup-cbb03ab92a7275b5.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/77691c4c311c1e39418ba22de9b56f6bd43cf9fd', 'message': 'Remove the deprecated parameters of aodh::auth\n\nChange-Id: I876d02605d346f4680672f9f4832bfbed91c4235\n'}]",0,772689,77691c4c311c1e39418ba22de9b56f6bd43cf9fd,10,3,2,9816,,,0,"Remove the deprecated parameters of aodh::auth

Change-Id: I876d02605d346f4680672f9f4832bfbed91c4235
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/89/772689/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/aodh_auth_spec.rb', 'manifests/auth.pp', 'releasenotes/notes/auth-cleanup-cbb03ab92a7275b5.yaml']",3,4124fdf993f93ea6c88975ce8a7d558524293278,service_credentials,--- upgrade: - | The following deprecated parameters of the ``aodh::auth`` class have been removed. - ``project_domain_id`` - ``user_domain_id`` - ``auth_tenant_name`` - ``auth_tenant_id`` ,,20,84
openstack%2Fneutron~master~Ia9a3584bf7a0ecb7c00e5a6f4ffed7c8f29b16ba,openstack/neutron,master,Ia9a3584bf7a0ecb7c00e5a6f4ffed7c8f29b16ba,[OVN][Zuul] Copy OVN logs and databases,ABANDONED,2021-01-29 13:35:45.000000000,2021-02-01 09:48:48.000000000,,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-01-29 13:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b823255947f8657f19d36962f086f674f6ecc36', 'message': ""[OVN][Zuul] Copy OVN logs and databases\n\nSince OVN has changed from being installed from packages instead of\ncompiling from source [0] the logs and databases are not being collected\nby Zuul [1].\n\nThis patch fixes it.\n\n[0] https://review.opendev.org/c/openstack/devstack/+/763402\n\n[1] I mean, the logs are in the devstack.journal.xz file but it's a bit\npainful to get to it, it's better to have it in separated files. And, the\ndatabases are not being saved.\n\nChange-Id: Ia9a3584bf7a0ecb7c00e5a6f4ffed7c8f29b16ba\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 2, 'created': '2021-01-29 13:39:04.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/980dd585d6b1dc56b202dcacddb37e0ddf4969e7', 'message': ""[OVN][Zuul] Copy OVN logs and databases\n\nSince OVN has changed from being installed from packages instead of\ncompiling from source [0] the logs and databases are not being collected\nby Zuul [1].\n\nThis patch fixes it.\n\n[0] https://review.opendev.org/c/openstack/devstack/+/763402\n\n[1] I mean, the logs are in the devstack.journal.xz file but it's a bit\npainful to get to it, it's better to have it in separated files. And, the\ndatabases are not being saved.\n\nChange-Id: Ia9a3584bf7a0ecb7c00e5a6f4ffed7c8f29b16ba\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}]",0,773032,980dd585d6b1dc56b202dcacddb37e0ddf4969e7,10,3,2,6773,,,0,"[OVN][Zuul] Copy OVN logs and databases

Since OVN has changed from being installed from packages instead of
compiling from source [0] the logs and databases are not being collected
by Zuul [1].

This patch fixes it.

[0] https://review.opendev.org/c/openstack/devstack/+/763402

[1] I mean, the logs are in the devstack.journal.xz file but it's a bit
painful to get to it, it's better to have it in separated files. And, the
databases are not being saved.

Change-Id: Ia9a3584bf7a0ecb7c00e5a6f4ffed7c8f29b16ba
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/773032/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml']",2,2b823255947f8657f19d36962f086f674f6ecc36,ovn-logs, '/var/log/ovn': 'logs' '/var/log/openvswitch': 'logs' '/var/run/ovn': 'logs' '/var/run/openvswitch': 'logs',,8,0
openstack%2Fpython-octaviaclient~master~Ib690ad83bb35a70f8a435a61b61aeef817130aa5,openstack/python-octaviaclient,master,Ib690ad83bb35a70f8a435a61b61aeef817130aa5,Add support for PROXYV2 protocol,MERGED,2020-10-09 00:14:39.000000000,2021-02-01 09:39:01.000000000,2021-02-01 09:36:02.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-10-09 00:14:39.000000000', 'files': ['octaviaclient/osc/v2/pool.py', 'releasenotes/notes/Add-proxyv2-7a540796c60241c3.yaml'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/f83258754784063343459f9553bc6e7a5e13585c', 'message': 'Add support for PROXYV2 protocol\n\nChange-Id: Ib690ad83bb35a70f8a435a61b61aeef817130aa5\n'}]",0,756936,f83258754784063343459f9553bc6e7a5e13585c,13,4,1,11628,,,0,"Add support for PROXYV2 protocol

Change-Id: Ib690ad83bb35a70f8a435a61b61aeef817130aa5
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/36/756936/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/osc/v2/pool.py', 'releasenotes/notes/Add-proxyv2-7a540796c60241c3.yaml']",2,f83258754784063343459f9553bc6e7a5e13585c,,--- features: - | Added support for the PROXYV2 protocol. ,,5,1
openstack%2Ftripleo-common~master~I0e45090f8db1c1737e69ce906a12027bfe5c3ef0,openstack/tripleo-common,master,I0e45090f8db1c1737e69ce906a12027bfe5c3ef0,Add host_vars to define tasks executed before network configurations,MERGED,2021-01-25 11:01:43.000000000,2021-02-01 09:36:23.000000000,2021-02-01 09:33:37.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-01-25 11:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6832f13cd04bd9d39e16958e129c48666993816c', 'message': 'Add host_vars to define tasks executed before network configurations\n\nThis change is a prep work to ensure tasks defined in ExtraConfigPre\nand NodeExtraConfig are executed after network configurations.\n\nRelated-Bug: #1907214\nChange-Id: I0e45090f8db1c1737e69ce906a12027bfe5c3ef0\n'}, {'number': 2, 'created': '2021-01-26 07:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f50eb211f4260de8c2e07dad4a16e17243c7fb6d', 'message': 'Add host_vars to define tasks executed before network configurations\n\nThis change is a prep work to ensure tasks defined in ExtraConfigPre\nand NodeExtraConfig are executed after network configurations.\n\nRelated-Bug: #1907214\nChange-Id: I0e45090f8db1c1737e69ce906a12027bfe5c3ef0\n'}, {'number': 3, 'created': '2021-01-26 10:44:54.000000000', 'files': ['tripleo_common/tests/utils/data/host_vars/overcloud-controller-0', 'tripleo_common/tests/utils/data/host_vars/overcloud-novacompute-0', 'tripleo_common/tests/utils/data/host_vars/overcloud-novacompute-2', 'tripleo_common/utils/config.py', 'tripleo_common/tests/utils/data/host_vars/overcloud-novacompute-1', 'tripleo_common/templates/host_var_server.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f19f451f88141c656c18a1c2a96b49874cfb1b0d', 'message': 'Add host_vars to define tasks executed before network configurations\n\nThis change is a prep work to ensure tasks defined in ExtraConfigPre\nand NodeExtraConfig are executed after network configurations.\n\nRelated-Bug: #1907214\nChange-Id: I0e45090f8db1c1737e69ce906a12027bfe5c3ef0\n'}]",8,772303,f19f451f88141c656c18a1c2a96b49874cfb1b0d,16,7,3,9816,,,0,"Add host_vars to define tasks executed before network configurations

This change is a prep work to ensure tasks defined in ExtraConfigPre
and NodeExtraConfig are executed after network configurations.

Related-Bug: #1907214
Change-Id: I0e45090f8db1c1737e69ce906a12027bfe5c3ef0
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/772303/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/data/host_vars/overcloud-controller-0', 'tripleo_common/tests/utils/data/host_vars/overcloud-novacompute-0', 'tripleo_common/tests/utils/data/host_vars/overcloud-novacompute-2', 'tripleo_common/utils/config.py', 'tripleo_common/tests/utils/data/host_vars/overcloud-novacompute-1', 'tripleo_common/templates/host_var_server.j2']",6,6832f13cd04bd9d39e16958e129c48666993816c,bug/1907214,pre_network_{{ role }}: {% if not pre_network %} [] {% endif %} {% for deployment in pre_network %} - {{ deployment }} {% endfor %} ,,20,0
openstack%2Fcharm-trilio-dm-api~master~Ia0c5e5f390744d4ad0febd1e5ee49d1b4dcc8a1f,openstack/charm-trilio-dm-api,master,Ia0c5e5f390744d4ad0febd1e5ee49d1b4dcc8a1f,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:35:22.000000000,2021-02-01 09:28:56.000000000,2021-02-01 09:28:56.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-01-15 16:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/17c592fc2c5b25dd6a83a08d09b2546fad4a1b66', 'message': 'Updates for testing period for 20.01 release\n\nIncludes updates to charmhelpers/charms.openstack for cert_utils\nand unit-get for the install hook error on Juju 2.9\n\n* charm-helpers sync for classic charms\n* rebuild for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure master branch for charms.openstack\n  - ensure master branch for charm-helpers\n\nChange-Id: Ia0c5e5f390744d4ad0febd1e5ee49d1b4dcc8a1f\n'}, {'number': 2, 'created': '2021-01-16 16:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/be67c5d98cec7a731bd277d6fa478810a1d563dd', 'message': 'Updates for testing period for 20.01 release\n\nIncludes updates to charmhelpers/charms.openstack for cert_utils\nand unit-get for the install hook error on Juju 2.9\n\n* charm-helpers sync for classic charms\n* rebuild for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure master branch for charms.openstack\n  - ensure master branch for charm-helpers\n\n* Fix bundles as trilio-data-mover requires shared-db relation from\n  version 4.1\n\nChange-Id: Ia0c5e5f390744d4ad0febd1e5ee49d1b4dcc8a1f\n'}, {'number': 3, 'created': '2021-01-29 15:09:18.000000000', 'files': ['rebuild', 'src/tests/bundles/bionic-queens-ssl.yaml', 'src/tests/bundles/bionic-train-ssl.yaml', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/tests/bundles/bionic-stein-ssl.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/cfccf45c5e6d3029323c40f062bdd345f0dde38e', 'message': 'Updates for testing period for 20.01 release\n\nIncludes updates to charmhelpers/charms.openstack for cert_utils\nand unit-get for the install hook error on Juju 2.9\n\n* charm-helpers sync for classic charms\n* rebuild for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure master branch for charms.openstack\n  - ensure master branch for charm-helpers\n\n* Fix bundles as trilio-data-mover requires shared-db relation from\n  version 4.1\n\nChange-Id: Ia0c5e5f390744d4ad0febd1e5ee49d1b4dcc8a1f\n'}]",1,771045,cfccf45c5e6d3029323c40f062bdd345f0dde38e,19,4,3,20870,,,0,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

* Fix bundles as trilio-data-mover requires shared-db relation from
  version 4.1

Change-Id: Ia0c5e5f390744d4ad0febd1e5ee49d1b4dcc8a1f
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/45/771045/3 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'test-requirements.txt', 'src/wheelhouse.txt']",3,17c592fc2c5b25dd6a83a08d09b2546fad4a1b66,sync-for-21-01, git+https://opendev.org/openstack/charms.openstack.git#egg=charms.openstack git+https://github.com/juju/charm-helpers.git#egg=charmhelpers ,,7,1
openstack%2Fcharm-trilio-data-mover~master~I523e1ef937b89f4f6065824e1e3ac703494f9e40,openstack/charm-trilio-data-mover,master,I523e1ef937b89f4f6065824e1e3ac703494f9e40,Trigger rebuild to get fix for LP 19133113,ABANDONED,2021-01-27 11:59:43.000000000,2021-02-01 09:28:54.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 11:59:43.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/f72e3875520633d0dc50bb8dbf804f47fd282b2d', 'message': 'Trigger rebuild to get fix for LP 19133113\n\nCloses-Bug: 1913313\nChange-Id: I523e1ef937b89f4f6065824e1e3ac703494f9e40\n'}]",0,772679,f72e3875520633d0dc50bb8dbf804f47fd282b2d,7,3,1,6737,,,0,"Trigger rebuild to get fix for LP 19133113

Closes-Bug: 1913313
Change-Id: I523e1ef937b89f4f6065824e1e3ac703494f9e40
",git fetch https://review.opendev.org/openstack/charm-trilio-data-mover refs/changes/79/772679/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,f72e3875520633d0dc50bb8dbf804f47fd282b2d,bug/19133113,4b9f6426-3eab-47ef-9ca5-aacc3814a0ff,5050cb08-0e2c-11eb-a59d-673fbbbb7592,1,1
openstack%2Fcharm-trilio-data-mover~master~I98b6c3292cf1e5f694882ce3c77b81e24062d519,openstack/charm-trilio-data-mover,master,I98b6c3292cf1e5f694882ce3c77b81e24062d519,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:35:14.000000000,2021-02-01 09:24:46.000000000,2021-02-01 09:24:46.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-01-15 16:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/f54d2e9325040c400e25cfb77d613d25718460ba', 'message': 'Updates for testing period for 20.01 release\n\nIncludes updates to charmhelpers/charms.openstack for cert_utils\nand unit-get for the install hook error on Juju 2.9\n\n* charm-helpers sync for classic charms\n* rebuild for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure master branch for charms.openstack\n  - ensure master branch for charm-helpers\n\nChange-Id: I98b6c3292cf1e5f694882ce3c77b81e24062d519\n'}, {'number': 2, 'created': '2021-01-16 16:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/bd19e506c3c398a33a82aa7b6cd9948e64318d1f', 'message': 'Updates for testing period for 20.01 release\n\nIncludes updates to charmhelpers/charms.openstack for cert_utils\nand unit-get for the install hook error on Juju 2.9\n\n* charm-helpers sync for classic charms\n* rebuild for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure master branch for charms.openstack\n  - ensure master branch for charm-helpers\n\n* openstack-origin for bundles for trilio-wlm as it is missing.\n\nChange-Id: I98b6c3292cf1e5f694882ce3c77b81e24062d519\n'}, {'number': 3, 'created': '2021-01-29 15:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/0c1f0fa1ee64540c3cc5c7f1dbea5d7c0ff42567', 'message': 'Updates for testing period for 20.01 release\n\nIncludes updates to charmhelpers/charms.openstack for cert_utils\nand unit-get for the install hook error on Juju 2.9\n\n* charm-helpers sync for classic charms\n* rebuild for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure master branch for charms.openstack\n  - ensure master branch for charm-helpers\n\n* openstack-origin for bundles for trilio-wlm as it is missing.\n\nChange-Id: I98b6c3292cf1e5f694882ce3c77b81e24062d519\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 4, 'created': '2021-01-29 15:09:52.000000000', 'files': ['rebuild', 'test-requirements.txt', 'src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/3e58de91109911c7c435b3ba8b14a72e6873421f', 'message': 'Updates for testing period for 20.01 release\n\nIncludes updates to charmhelpers/charms.openstack for cert_utils\nand unit-get for the install hook error on Juju 2.9\n\n* charm-helpers sync for classic charms\n* rebuild for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure master branch for charms.openstack\n  - ensure master branch for charm-helpers\n\nChange-Id: I98b6c3292cf1e5f694882ce3c77b81e24062d519\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",1,771044,3e58de91109911c7c435b3ba8b14a72e6873421f,21,4,4,20870,,,0,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

Change-Id: I98b6c3292cf1e5f694882ce3c77b81e24062d519
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-trilio-data-mover refs/changes/44/771044/4 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'test-requirements.txt', 'src/wheelhouse.txt']",3,f54d2e9325040c400e25cfb77d613d25718460ba,sync-for-21-01, git+https://opendev.org/openstack/charms.openstack.git#egg=charms.openstack git+https://github.com/juju/charm-helpers.git#egg=charmhelpers ,,7,1
openstack%2Fneutron~master~Icc8119fa7d5451ee6efceeaad1371274c2846d67,openstack/neutron,master,Icc8119fa7d5451ee6efceeaad1371274c2846d67,Fix misleading doc re: secgroup rule quota,MERGED,2021-02-01 01:45:27.000000000,2021-02-01 08:56:21.000000000,2021-02-01 08:38:55.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 01:45:27.000000000', 'files': ['doc/source/admin/ops-quotas.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a2f317339d5e64c632c3e45bcef79ffa61b7bb2c', 'message': 'Fix misleading doc re: secgroup rule quota\n\nSecurity group rule quota is per-project, not per-group.\n\nChange-Id: Icc8119fa7d5451ee6efceeaad1371274c2846d67\n'}]",0,773275,a2f317339d5e64c632c3e45bcef79ffa61b7bb2c,9,3,1,5733,,,0,"Fix misleading doc re: secgroup rule quota

Security group rule quota is per-project, not per-group.

Change-Id: Icc8119fa7d5451ee6efceeaad1371274c2846d67
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/773275/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/ops-quotas.rst'],1,a2f317339d5e64c632c3e45bcef79ffa61b7bb2c,,resources: number of security groups and number of rules. Add these lines to the ``quotas`` section in the ``/etc/neutron/neutron.conf`` file:,resources: number of security groups and the number of rules for each security group. Add these lines to the ``quotas`` section in the ``/etc/neutron/neutron.conf`` file:,3,3
openstack%2Fpython-octaviaclient~master~I6afbbf40949b6ad5fbe5ffaff01034c1cf8b16c9,openstack/python-octaviaclient,master,I6afbbf40949b6ad5fbe5ffaff01034c1cf8b16c9,Add ALPN support for pools,MERGED,2020-09-15 18:57:27.000000000,2021-02-01 07:59:25.000000000,2021-02-01 07:58:01.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-09-15 18:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/1f0a4facbd65c7a813b32e3d01eacda0f6c8ef2b', 'message': 'Add ALPN support for pools\n\nUsers can define a list of application layer protocols to be negotiated\nover a secure connection. For example, users can limit to HTTP/2 or\nto HTTP/2 and HTTP/1.1 but exclude HTTP/1.0.\n\nDepends-On: https://review.opendev.org/#/c/752095/\nChange-Id: I6afbbf40949b6ad5fbe5ffaff01034c1cf8b16c9\n'}, {'number': 2, 'created': '2020-09-17 12:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/f4bb7fb94995a8a9ef365f24de042a3c7a28aeca', 'message': 'Add ALPN support for pools\n\nUsers can define a list of application layer protocols to be negotiated\nover a secure connection with members. For example, users can limit to\nHTTP/2 or to HTTP/2 and HTTP/1.1 but exclude HTTP/1.0.\n\nDepends-On: https://review.opendev.org/#/c/752095/\nChange-Id: I6afbbf40949b6ad5fbe5ffaff01034c1cf8b16c9\n'}, {'number': 3, 'created': '2021-01-29 12:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/4397712085c45fa509d6690858bed13c19d01ef4', 'message': 'Add ALPN support for pools\n\nUsers can define a list of application layer protocols to be negotiated\nover a secure connection with members. For example, users can limit to\nHTTP/2 or to HTTP/2 and HTTP/1.1 but exclude HTTP/1.0.\n\nDepends-On: https://review.opendev.org/#/c/752095/\nChange-Id: I6afbbf40949b6ad5fbe5ffaff01034c1cf8b16c9\n'}, {'number': 4, 'created': '2021-01-30 13:47:18.000000000', 'files': ['octaviaclient/tests/unit/osc/v2/constants.py', 'octaviaclient/osc/v2/constants.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'releasenotes/notes/add-pool-tls-alpn-support-59758ea78c78952e.yaml', 'octaviaclient/osc/v2/pool.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/21f1d672f419079ec2b8bfb98910313ccb4b04a8', 'message': 'Add ALPN support for pools\n\nUsers can define a list of application layer protocols to be negotiated\nover a secure connection with members. For example, users can limit to\nHTTP/2 or to HTTP/2 and HTTP/1.1 but exclude HTTP/1.0.\n\nChange-Id: I6afbbf40949b6ad5fbe5ffaff01034c1cf8b16c9\n'}]",1,752096,21f1d672f419079ec2b8bfb98910313ccb4b04a8,18,5,4,6469,,,0,"Add ALPN support for pools

Users can define a list of application layer protocols to be negotiated
over a secure connection with members. For example, users can limit to
HTTP/2 or to HTTP/2 and HTTP/1.1 but exclude HTTP/1.0.

Change-Id: I6afbbf40949b6ad5fbe5ffaff01034c1cf8b16c9
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/96/752096/4 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/tests/unit/osc/v2/constants.py', 'octaviaclient/osc/v2/constants.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'releasenotes/notes/add-pool-tls-alpn-support-59758ea78c78952e.yaml', 'octaviaclient/osc/v2/pool.py']",6,1f0a4facbd65c7a813b32e3d01eacda0f6c8ef2b,http2," parser.add_argument( '--alpn-protocol', dest='alpn_protocols', metavar='<alpn_protocols>', nargs='?', action='append', help=""Set the ALPN protocol to be used "" ""by the pool (can be set multiple times)."" ) ) parser.add_argument( '--alpn-protocol', dest='alpn_protocols', metavar='<alpn_protocols>', nargs='?', action='append', help=""Set the ALPN protocol to be used "" ""by the pool (can be set multiple times)."" parser.add_argument( '--alpn-protocols', action='store_true', help=""Clear all ALPN protocols from the pool."" )",,48,8
openstack%2Fceilometer~master~I86b4591955b9e54f4e83650a29ec3d8978d6224b,openstack/ceilometer,master,I86b4591955b9e54f4e83650a29ec3d8978d6224b,Imported Translations from Zanata,MERGED,2021-01-30 06:09:01.000000000,2021-02-01 07:11:37.000000000,2021-02-01 07:09:58.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-30 06:09:01.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2be7a43be144f02d8fb71526aeda19553f1a368f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I86b4591955b9e54f4e83650a29ec3d8978d6224b\n'}]",0,773221,2be7a43be144f02d8fb71526aeda19553f1a368f,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I86b4591955b9e54f4e83650a29ec3d8978d6224b
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/21/773221/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,2be7a43be144f02d8fb71526aeda19553f1a368f,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2021. #zanata""POT-Creation-Date: 2021-01-21 14:13+0000\n""""PO-Revision-Date: 2021-01-29 03:01+0000\n""msgid ""15.0.0-29"" msgstr ""15.0.0-29""","""POT-Creation-Date: 2020-12-14 07:20+0000\n""""PO-Revision-Date: 2020-12-19 01:24+0000\n""msgid ""15.0.0-24"" msgstr ""15.0.0-24""",5,4
openstack%2Faodh~master~If08de0aebd23e647ae951141978679a491803c39,openstack/aodh,master,If08de0aebd23e647ae951141978679a491803c39,Imported Translations from Zanata,MERGED,2021-01-30 06:10:36.000000000,2021-02-01 07:10:58.000000000,2021-02-01 07:09:17.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-30 06:10:36.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/aodh/commit/418d17c34baaf9081088ddb0ab5c97fba67ed156', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If08de0aebd23e647ae951141978679a491803c39\n'}]",0,773222,418d17c34baaf9081088ddb0ab5c97fba67ed156,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If08de0aebd23e647ae951141978679a491803c39
",git fetch https://review.opendev.org/openstack/aodh refs/changes/22/773222/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,418d17c34baaf9081088ddb0ab5c97fba67ed156,zanata/translations,"""POT-Creation-Date: 2021-01-18 17:30+0000\n""""PO-Revision-Date: 2021-01-29 03:00+0000\n""msgid ""11.0.0-12"" msgstr ""11.0.0-12""","""POT-Creation-Date: 2021-01-13 20:23+0000\n""""PO-Revision-Date: 2021-01-13 10:46+0000\n""msgid ""11.0.0-10"" msgstr ""11.0.0-10""",4,4
openstack%2Ftripleo-ansible~master~I4c04c942c1030c3a9ab5064ea49bd0a1e4c3883f,openstack/tripleo-ansible,master,I4c04c942c1030c3a9ab5064ea49bd0a1e4c3883f,Module: tripleo_unprovision_network and cli playbook,ABANDONED,2021-02-01 06:55:48.000000000,2021-02-01 06:56:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-01 06:55:48.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-network-unprovision.yaml', 'doc/source/modules/modules-tripleo_unprovision_network.rst', 'tripleo_ansible/ansible_plugins/modules/tripleo_unprovision_network.py', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e87ba6519af1e916f5806b0cf088db5b511c238b', 'message': 'Module: tripleo_unprovision_network and cli playbook\n\nAdd the ansible module `tripleo_unprovision_network`. Currently, We\ndon\'t have an automated way to clear the resources which\nwe create using ""openstack network provision"" command\n/ `tripleo_composable_network` module.  This module will\nbe used to delete the composable networks.\n\nThis module will only delete a network and its sub resources if there\nare no ports from corresponding subnets.\n\nAlso, Adds CLI playbook cli-overcloud-network-unprovision.yaml\nPlaybook loads configuration data file, iterates over each composable\nnetwork definition and calls the tripleo_unprovision_network to delete\nthe network.\n\nWIP: Need to work on unittest, removing jobs from layout temporary to\nsave ci resources.\n\nChange-Id: I4c04c942c1030c3a9ab5064ea49bd0a1e4c3883f\n'}]",0,773293,e87ba6519af1e916f5806b0cf088db5b511c238b,4,2,1,29775,,,0,"Module: tripleo_unprovision_network and cli playbook

Add the ansible module `tripleo_unprovision_network`. Currently, We
don't have an automated way to clear the resources which
we create using ""openstack network provision"" command
/ `tripleo_composable_network` module.  This module will
be used to delete the composable networks.

This module will only delete a network and its sub resources if there
are no ports from corresponding subnets.

Also, Adds CLI playbook cli-overcloud-network-unprovision.yaml
Playbook loads configuration data file, iterates over each composable
network definition and calls the tripleo_unprovision_network to delete
the network.

WIP: Need to work on unittest, removing jobs from layout temporary to
save ci resources.

Change-Id: I4c04c942c1030c3a9ab5064ea49bd0a1e4c3883f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/93/773293/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-overcloud-network-unprovision.yaml', 'doc/source/modules/modules-tripleo_unprovision_network.rst', 'tripleo_ansible/ansible_plugins/modules/tripleo_unprovision_network.py', 'zuul.d/layout.yaml']",4,e87ba6519af1e916f5806b0cf088db5b511c238b,, - openstack-tox-linters: tripleo-linters, templates: - tripleo-ansible-molecule-jobs - release-notes-jobs-python3 - openstack-python3-wallaby-jobs - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters irrelevant-files: - ^tox.ini$ - openstack-tox-linters: &tripleo-linters - openstack-tox-docs: &tripleo-docs files: - ^doc/.* - ^molecule-requirements.txt - ^README.rst - ^requirements.txt - ^tripleo_ansible/ansible_plugins/.* - tripleo-ci-centos-8-containers-multinode: &containers_multinode vars: &multi_consumer_vars consumer_job: true build_container_images: false tags: - undercloud-setup - undercloud-scripts - undercloud-install - undercloud-post-install - tripleo-validations - overcloud-scripts - overcloud-prep-config - overcloud-prep-containers - overcloud-deploy - overcloud-post-deploy - overcloud-validate dependencies: &deps - tripleo-ci-centos-8-content-provider files: &containers_files - ^tripleo_ansible/.* irrelevant-files: &irrelevant_scenario_files - .*.md$ - .*.rst$ - .*.txt$ - ^_skeleton_role_/.* - ^scripts/.* - ^tox.ini$ - ^tripleo_ansible/playbooks/docker-vfs-setup.yml$ - ^tripleo_ansible/.*molecule.* - ^tripleo_ansible/roles/.*/meta.* - ^tripleo_ansible/roles/test_deps/.* - ^zuul.d/.* - tripleo-ci-centos-8-standalone: &basic_standalone vars: &sa_consumer_vars consumer_job: true build_container_images: false tags: - standalone dependencies: *deps files: *containers_files irrelevant-files: *irrelevant_scenario_files - tripleo-ci-centos-8-containers-undercloud-minion: &undercloud_minion vars: &undercloud_consumer_vars consumer_job: true tags: - undercloud-setup - undercloud-scripts - undercloud-install - undercloud-validate dependencies: *deps files: *containers_files irrelevant-files: *irrelevant_scenario_files - tripleo-ci-centos-8-undercloud-containers: &undercloud_containers vars: *undercloud_consumer_vars dependencies: *deps files: *containers_files irrelevant-files: *irrelevant_scenario_files - tripleo-ci-centos-8-scenario001-standalone: &scenario001 vars: *sa_consumer_vars dependencies: *deps files: - ^tripleo_ansible/roles/tripleo_ceph_.*/.* - ^tripleo_ansible/roles/tripleo_hieradata/.* - ^tripleo_ansible/roles/tripleo_upgrade_hiera/.* - ^setup.* irrelevant-files: *irrelevant_scenario_files - tripleo-ci-centos-8-scenario002-standalone: &scenario002 vars: *sa_consumer_vars dependencies: *deps files: - ^tripleo_ansible/roles/tripleo_hieradata/.* - ^tripleo_ansible/roles/tripleo_upgrade_hiera/.* irrelevant-files: *irrelevant_scenario_files - tripleo-ci-centos-8-scenario003-standalone: &scenario003 vars: *sa_consumer_vars dependencies: *deps files: - ^tripleo_ansible/roles/tripleo_create_admin/.* - ^tripleo_ansible/roles/tripleo_hieradata/.* - ^tripleo_ansible/roles/tripleo_upgrade_hiera/.* irrelevant-files: *irrelevant_scenario_files - tripleo-ci-centos-8-scenario004-standalone: &scenario004 vars: *sa_consumer_vars dependencies: *deps files: - ^tripleo_ansible/roles/tripleo_ceph_.*/.* irrelevant-files: *irrelevant_scenario_files - tripleo-ci-centos-8-scenario010-standalone: &scenario010 vars: *sa_consumer_vars dependencies: *deps files: - ^tripleo_ansible/roles/octavia_.*/.* irrelevant-files: *irrelevant_scenario_files gate: jobs: - tripleo-ci-centos-8-content-provider - openstack-tox-linters: *tripleo-linters - openstack-tox-docs: *tripleo-docs - tripleo-ci-centos-8-containers-multinode: *containers_multinode - tripleo-ci-centos-8-containers-undercloud-minion: *undercloud_minion - tripleo-ci-centos-8-undercloud-containers: *undercloud_containers - tripleo-ci-centos-8-standalone: *basic_standalone - tripleo-ci-centos-8-scenario001-standalone: *scenario001 - tripleo-ci-centos-8-scenario002-standalone: *scenario002 - tripleo-ci-centos-8-scenario003-standalone: *scenario003 - tripleo-ci-centos-8-scenario004-standalone: *scenario004 - tripleo-ci-centos-8-scenario010-standalone: *scenario010 post: jobs: - publish-openstack-python-branch-tarball promote: jobs: - promote-openstack-tox-docs: *tripleo-docs,191,130
openstack%2Fswift~master~Idda6512c0a2bc324bdba9ec341ec81d78b7b2f67,openstack/swift,master,Idda6512c0a2bc324bdba9ec341ec81d78b7b2f67,relinker: Improve logging,MERGED,2021-01-07 01:44:06.000000000,2021-02-01 06:33:23.000000000,2021-02-01 06:31:26.000000000,"[{'_account_id': 597}, {'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 01:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ff86476b6bb62ca17fd867c6070d9eca4cae43e2', 'message': 'relinker: Improve logging\n\nUse the logger we instantiated in more places.\n\nPass the logger to audit_location_generator so we actually see messages about failed mount checks.\n\nChange-Id: Idda6512c0a2bc324bdba9ec341ec81d78b7b2f67\n'}, {'number': 2, 'created': '2021-01-07 03:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/28df9a096bf67daa65459569ed1c9398d4789fd4', 'message': 'relinker: Improve logging\n\nUse the logger we instantiated in more places.\n\nPass the logger to audit_location_generator so we actually see messages about failed mount checks.\n\nChange-Id: Idda6512c0a2bc324bdba9ec341ec81d78b7b2f67\n'}, {'number': 3, 'created': '2021-01-29 21:51:16.000000000', 'files': ['swift/cli/relinker.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7ffcf2453864dbfa49d41326e3d06b80a9ac41ff', 'message': 'relinker: Improve logging\n\nUse the logger we instantiated in more places.\n\nPass the logger to audit_location_generator so we stand a chance at\nactually seeing messages about failed mount checks.\n\nChange-Id: Idda6512c0a2bc324bdba9ec341ec81d78b7b2f67\n'}]",6,769632,7ffcf2453864dbfa49d41326e3d06b80a9ac41ff,22,3,3,15343,,,0,"relinker: Improve logging

Use the logger we instantiated in more places.

Pass the logger to audit_location_generator so we stand a chance at
actually seeing messages about failed mount checks.

Change-Id: Idda6512c0a2bc324bdba9ec341ec81d78b7b2f67
",git fetch https://review.opendev.org/openstack/swift refs/changes/32/769632/3 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'swift/cli/relinker.py']",2,ff86476b6bb62ca17fd867c6070d9eca4cae43e2,relinker," logger.info('Relinking files for policy %s under %s', hashes_filter=relink_hashes_filter, logger=logger) logger.info('Relinked %d diskfiles (%d errors)', relinked, errors) logger.info('Cleaning up files for policy %s under %s', hashes_filter=cleanup_hashes_filter, logger=logger) logger.debug(""Removed %s"", fname) logger.info('Cleaned up %d diskfiles (%d errors)', cleaned_up, errors)"," logging.info('Relinking files for policy %s under %s', hashes_filter=relink_hashes_filter) logging.info('Relinked %d diskfiles (%d errors)', relinked, errors) logging.info('Cleaning up files for policy %s under %s', hashes_filter=cleanup_hashes_filter) logging.debug(""Removed %s"", fname) logging.info('Cleaned up %d diskfiles (%d errors)', cleaned_up, errors)",11,9
openstack%2Frequirements~master~I7aa525ffd5e30411b480b398a6455ef369a9bbaa,openstack/requirements,master,I7aa525ffd5e30411b480b398a6455ef369a9bbaa,Updated from generate-constraints,ABANDONED,2021-02-01 06:29:13.000000000,2021-02-01 06:33:22.000000000,,[],"[{'number': 1, 'created': '2021-02-01 06:29:13.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c9a3e057570efa1b2c06f002840c895964afa1c9', 'message': 'Updated from generate-constraints\n\nChange-Id: I7aa525ffd5e30411b480b398a6455ef369a9bbaa\n'}]",0,773291,c9a3e057570efa1b2c06f002840c895964afa1c9,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I7aa525ffd5e30411b480b398a6455ef369a9bbaa
",git fetch https://review.opendev.org/openstack/requirements refs/changes/91/773291/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c9a3e057570efa1b2c06f002840c895964afa1c9,openstack/requirements/constraints,mock===4.0.3Jinja2===2.11.3cmd2===1.5.0oslo.db===8.5.0pkg-resources===0.0.0fasteners===0.16virtualenv===20.4.1,mock===3.0.5Jinja2===2.11.2cmd2===1.4.0oslo.db===8.4.0fasteners===0.14.1virtualenv===20.2.1setuptools===52.0.0,7,7
openstack%2Fheat~master~I816ce9d820fb455fd0b751fe914e87f6293b8297,openstack/heat,master,I816ce9d820fb455fd0b751fe914e87f6293b8297,Add 'Extra_Properties' to OS::Glance::WebImage,ABANDONED,2020-04-25 02:34:43.000000000,2021-02-01 06:13:36.000000000,,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 30495}]","[{'number': 1, 'created': '2020-04-25 02:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/70b6fcd90d49718ef28040a4107cb93a4e2e0e28', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\n""}, {'number': 2, 'created': '2020-04-25 02:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/462648314273c3cd20e8bdf2c69039ecd12b16e5', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\n""}, {'number': 3, 'created': '2020-04-25 02:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2920d8552ac713e540af991bbce7a3251382c02a', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage; property exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}, {'number': 4, 'created': '2020-04-25 02:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1147ae68881d43b409782bc9e8d88308c1e9d17c', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage; \nproperty exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}, {'number': 5, 'created': '2020-04-25 04:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5b4f6fe0b6b25058041dd03f397f9c8a41f305fc', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage; \nproperty exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}, {'number': 6, 'created': '2020-04-25 04:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5c6cd6b0eceebffc7543acab4e01afd22cde5d90', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage; \nproperty exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}, {'number': 7, 'created': '2020-04-27 03:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/54d35ad3180c3148a4718f5a1cbab9fd17f596cb', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage; \nproperty exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}, {'number': 8, 'created': '2020-04-28 19:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/64eceb174cfd024caf7e9a93048fcb36cc0146bb', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage; \nproperty exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}, {'number': 9, 'created': '2020-04-28 19:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d3ffad525157743ecf4bfe70b16942d72716aeeb', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage; \nproperty exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}, {'number': 10, 'created': '2020-04-29 18:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bf130261bfd02d0f7e0820775fa69480ee37366b', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage; \nproperty exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}, {'number': 11, 'created': '2020-04-30 15:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b887d096784ebe2135a51a2ce157eb442b70be5e', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage; \nproperty exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}, {'number': 12, 'created': '2020-05-01 02:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6e8733e387bfb8a1866d41069e231f77dd9368d2', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage; \nproperty exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}, {'number': 13, 'created': '2020-05-01 02:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3a562e1371fb4fb1a10ad353df9d5403cfedefe4', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage; \nproperty exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}, {'number': 14, 'created': '2020-05-01 02:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/933529150147f8c50914a5730b59c9fa1d2bcda7', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage; \nproperty exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}, {'number': 15, 'created': '2020-05-04 22:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/57fba5d9ac970b2ed3cc1a3e6615b83ac52e0791', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage; \nproperty exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}, {'number': 16, 'created': '2020-05-06 16:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bde268078b1c9debe480243cb2ba3a4a76e603e7', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage; \nproperty exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}, {'number': 17, 'created': '2020-05-06 16:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5ba9d49e9d5ce6b4ed668de427677a98f1318186', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage;\nproperty exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}, {'number': 18, 'created': '2020-05-06 19:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8dc72b6ce7477849d8bca06fd3b853b7b20d58ea', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage;\nproperty exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}, {'number': 19, 'created': '2020-05-11 23:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/509c663ced3f5812ec704262ba921118c978bc36', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage;\nproperty exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}, {'number': 20, 'created': '2020-05-12 17:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9eda22ca679451525c4d984354eaf6e9274bc412', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage;\nproperty exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}, {'number': 21, 'created': '2020-09-30 19:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/92cd6a4dd8745c70dc6dee6b329111aa4f19f391', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage;\nproperty exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}, {'number': 22, 'created': '2020-10-05 21:43:44.000000000', 'files': ['releasenotes/notes/glance-web-download-extra-properties-c1a8deedfe46de52.yaml', 'heat/tests/openstack/glance/test_image.py', 'heat/engine/resources/openstack/glance/image.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ca1690860066077726ff2a48ee6dfeb2b0cefa9a', 'message': ""Add 'Extra_Properties' to OS::Glance::WebImage\n\nAdd Extra_Properties to OS::Glance::WebImage;\nproperty exists in OS::Glance::Image\n\nChange-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297\nStory: #2007592\n""}]",3,723063,ca1690860066077726ff2a48ee6dfeb2b0cefa9a,60,6,22,30495,,,0,"Add 'Extra_Properties' to OS::Glance::WebImage

Add Extra_Properties to OS::Glance::WebImage;
property exists in OS::Glance::Image

Change-Id: I816ce9d820fb455fd0b751fe914e87f6293b8297
Story: #2007592
",git fetch https://review.opendev.org/openstack/heat refs/changes/63/723063/15 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/glance/test_image.py', 'heat/engine/resources/openstack/glance/image.py']",2,70b6fcd90d49718ef28040a4107cb93a4e2e0e28,," DISK_FORMAT, CONTAINER_FORMAT, LOCATION, TAGS, EXTRA_PROPERTIES, 'extra_properties', 'architecture', 'kernel_id', 'os_distro', 'os_version', 'owner', 'visibility', 'ramdisk_id' EXTRA_PROPERTIES: properties.Schema( properties.Schema.MAP, _('Arbitrary properties to associate with the image.'), update_allowed=True, default={} ), args['properties'] = args.pop(self.EXTRA_PROPERTIES, {}) if self.EXTRA_PROPERTIES in prop_diff: old_properties = self.properties.get(self.EXTRA_PROPERTIES) or {} new_properties = prop_diff.pop(self.EXTRA_PROPERTIES) prop_diff.update(new_properties) remove_props = list(set(old_properties) - set(new_properties)) # Though remove_props defaults to None within the glanceclient, # setting it to a list (possibly []) every time ensures only one # calling format to images.update images.update(self.resource_id, remove_props, **prop_diff) else: images.update(self.resource_id, **prop_diff)"," DISK_FORMAT, CONTAINER_FORMAT, LOCATION, TAGS, 'architecture', 'kernel_id', 'os_distro', 'os_version', 'owner', 'visibility', 'ramdisk_id' images.update(self.resource_id, **prop_diff)",29,6
openstack%2Fpython-tripleoclient~stable%2Ftrain~If7ef6eb53fe1de66a3a21424ed4e64318e680dd0,openstack/python-tripleoclient,stable/train,If7ef6eb53fe1de66a3a21424ed4e64318e680dd0,[Validator Show] Properly throwing an exception for unknown validation,MERGED,2021-01-05 17:13:20.000000000,2021-02-01 04:07:21.000000000,2021-02-01 04:06:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-01-05 17:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/02d7afa2773e8011ad3c355d2439e2e3a3cbd460', 'message': '[Validator Show] Properly throwing an exception for unknown validation\n\nWhen running validator show subcommand with a non-existing validation,\nthe subcommand was outputting multiple tracebacks instead of giving a\nsimple message to the user.\n\nThe patch adds a proper management result when displaying informations\nof a non-existing validation.\n\nChange-Id: If7ef6eb53fe1de66a3a21424ed4e64318e680dd0\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit eb6839a7022b90873d5adc770413548b2b9b6c86)\n'}, {'number': 2, 'created': '2021-01-06 08:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f677875b235f8ea07f766228edb9b45fb4b3b6e7', 'message': '[Validator Show] Properly throwing an exception for unknown validation\n\nWhen running validator show subcommand with a non-existing validation,\nthe subcommand was outputting multiple tracebacks instead of giving a\nsimple message to the user.\n\nThe patch adds a proper management result when displaying informations\nof a non-existing validation.\n\nChange-Id: If7ef6eb53fe1de66a3a21424ed4e64318e680dd0\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit eb6839a7022b90873d5adc770413548b2b9b6c86)\n'}, {'number': 3, 'created': '2021-01-06 13:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a5c747c05e2a77d5aa72eb6ca9b8aeb2ddbd6ead', 'message': '[Validator Show] Properly throwing an exception for unknown validation\n\nWhen running validator show subcommand with a non-existing validation,\nthe subcommand was outputting multiple tracebacks instead of giving a\nsimple message to the user.\n\nThe patch adds a proper management result when displaying informations\nof a non-existing validation.\n\nChange-Id: If7ef6eb53fe1de66a3a21424ed4e64318e680dd0\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit eb6839a7022b90873d5adc770413548b2b9b6c86)\n'}, {'number': 4, 'created': '2021-01-06 13:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0249b624b35054578481374c2626fe29006a3fb5', 'message': '[Validator Show] Properly throwing an exception for unknown validation\n\nWhen running validator show subcommand with a non-existing validation,\nthe subcommand was outputting multiple tracebacks instead of giving a\nsimple message to the user.\n\nThe patch adds a proper management result when displaying informations\nof a non-existing validation.\n\nChange-Id: If7ef6eb53fe1de66a3a21424ed4e64318e680dd0\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit eb6839a7022b90873d5adc770413548b2b9b6c86)\n'}, {'number': 5, 'created': '2021-01-25 09:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6e29ad5d711e4b8191b93faa361a40f4fd44d9a5', 'message': '[Validator Show] Properly throwing an exception for unknown validation\n\nWhen running validator show subcommand with a non-existing validation,\nthe subcommand was outputting multiple tracebacks instead of giving a\nsimple message to the user.\n\nThe patch adds a proper management result when displaying informations\nof a non-existing validation.\n\nChange-Id: If7ef6eb53fe1de66a3a21424ed4e64318e680dd0\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit eb6839a7022b90873d5adc770413548b2b9b6c86)\n(cherry picked from commit 1233ce37972bae978473e07acefcfe6a72be80d7)\n'}, {'number': 6, 'created': '2021-01-25 18:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/32c928675de516e01ed883d21861642c3af05afd', 'message': '[Validator Show] Properly throwing an exception for unknown validation\n\nWhen running validator show subcommand with a non-existing validation,\nthe subcommand was outputting multiple tracebacks instead of giving a\nsimple message to the user.\n\nThe patch adds a proper management result when displaying informations\nof a non-existing validation.\n\nChange-Id: If7ef6eb53fe1de66a3a21424ed4e64318e680dd0\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit eb6839a7022b90873d5adc770413548b2b9b6c86)\n(cherry picked from commit 1233ce37972bae978473e07acefcfe6a72be80d7)\n'}, {'number': 7, 'created': '2021-01-28 09:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/949341d5d33e03e77d2104473922907cecf857a0', 'message': '[Validator Show] Properly throwing an exception for unknown validation\n\nWhen running validator show subcommand with a non-existing validation,\nthe subcommand was outputting multiple tracebacks instead of giving a\nsimple message to the user.\n\nThe patch adds a proper management result when displaying informations\nof a non-existing validation.\n\nChange-Id: If7ef6eb53fe1de66a3a21424ed4e64318e680dd0\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit eb6839a7022b90873d5adc770413548b2b9b6c86)\n(cherry picked from commit 1233ce37972bae978473e07acefcfe6a72be80d7)\n'}, {'number': 8, 'created': '2021-01-31 21:01:09.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c3195685be705a43029740f2bf01a0209d1a6927', 'message': '[Validator Show] Properly throwing an exception for unknown validation\n\nWhen running validator show subcommand with a non-existing validation,\nthe subcommand was outputting multiple tracebacks instead of giving a\nsimple message to the user.\n\nThe patch adds a proper management result when displaying informations\nof a non-existing validation.\n\nChange-Id: If7ef6eb53fe1de66a3a21424ed4e64318e680dd0\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit eb6839a7022b90873d5adc770413548b2b9b6c86)\n(cherry picked from commit 1233ce37972bae978473e07acefcfe6a72be80d7)\n'}]",4,769409,c3195685be705a43029740f2bf01a0209d1a6927,23,6,8,11491,,,0,"[Validator Show] Properly throwing an exception for unknown validation

When running validator show subcommand with a non-existing validation,
the subcommand was outputting multiple tracebacks instead of giving a
simple message to the user.

The patch adds a proper management result when displaying informations
of a non-existing validation.

Change-Id: If7ef6eb53fe1de66a3a21424ed4e64318e680dd0
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit eb6839a7022b90873d5adc770413548b2b9b6c86)
(cherry picked from commit 1233ce37972bae978473e07acefcfe6a72be80d7)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/09/769409/8 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,02d7afa2773e8011ad3c355d2439e2e3a3cbd460,train_rhbz#1912879," actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR) try: except Exception as e: raise exceptions.CommandError(e) if data: return data.keys(), data.values()"," try: actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR) return data.keys(), data.values() except Exception as e: raise RuntimeError(_(""Validations listing finished with errors\n"" ""Output: {}"").format(e))",6,4
openstack%2Fpuppet-openstack-integration~master~I28ef9215a8f13637d539e804d1777e4583534e1e,openstack/puppet-openstack-integration,master,I28ef9215a8f13637d539e804d1777e4583534e1e,Use multistore modules to set up glance_store,MERGED,2020-11-09 13:45:36.000000000,2021-02-01 03:09:23.000000000,2021-02-01 03:09:23.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-09 13:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/628d393c32146e7f009393114ebf796573646d31', 'message': 'Use multistore modules to set up glance_store\n\nThis patch replaces legacy modules for single glance_store by the\nnew modules for multi store feature, since the legacy modules have\nbeen deprecated[1].\n\n[1] fd02761c6e634100ce4583c88a092f2958742ae7\n\nChange-Id: I28ef9215a8f13637d539e804d1777e4583534e1e\n'}, {'number': 2, 'created': '2020-11-19 12:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/195a60c16d63570d4094acf2c43d96ce23689a68', 'message': 'Use multistore modules to set up glance_store\n\nThis patch replaces legacy modules for single glance_store by the\nnew modules for multi store feature, since the legacy modules have\nbeen deprecated[1].\n\n[1] fd02761c6e634100ce4583c88a092f2958742ae7\n\nChange-Id: I28ef9215a8f13637d539e804d1777e4583534e1e\n'}, {'number': 3, 'created': '2020-11-19 12:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3bcc17f0610ec1d05bb43eb11bc253c61680c84b', 'message': 'Use multistore modules to set up glance_store\n\nThis patch replaces legacy modules for single glance_store by the\nnew modules for multi store feature, since the legacy modules have\nbeen deprecated[1].\n\n[1] fd02761c6e634100ce4583c88a092f2958742ae7\n\nChange-Id: I28ef9215a8f13637d539e804d1777e4583534e1e\n'}, {'number': 4, 'created': '2020-12-15 11:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/04c95bf5da6e2a8a8894a81352a8287c0331bebe', 'message': 'Use multistore modules to set up glance_store\n\nThis patch replaces legacy modules for single glance_store by the\nnew modules for multi store feature, since the legacy modules have\nbeen deprecated[1].\n\n[1] fd02761c6e634100ce4583c88a092f2958742ae7\n\nDepends-on: https://review.opendev.org/#/c/763392/\nChange-Id: I28ef9215a8f13637d539e804d1777e4583534e1e\n'}, {'number': 5, 'created': '2020-12-15 11:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4acf93b78ca964719e1628653d35a6b0d578a89c', 'message': 'Use multistore modules to set up glance_store\n\nThis patch replaces legacy modules for single glance_store by the\nnew modules for multi store feature, since the legacy modules have\nbeen deprecated[1].\n\n[1] fd02761c6e634100ce4583c88a092f2958742ae7\n\nChange-Id: I28ef9215a8f13637d539e804d1777e4583534e1e\n'}, {'number': 6, 'created': '2020-12-15 13:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c6bc3ffa93eacf96d8154785262d5c9faf87f515', 'message': 'Use multistore modules to set up glance_store\n\nThis patch replaces legacy modules for single glance_store by the\nnew modules for multi store feature, since the legacy modules have\nbeen deprecated[1].\n\n[1] fd02761c6e634100ce4583c88a092f2958742ae7\n\nChange-Id: I28ef9215a8f13637d539e804d1777e4583534e1e\n'}, {'number': 7, 'created': '2020-12-21 16:25:14.000000000', 'files': ['manifests/glance.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/535a86e52740fc483f753335b7a7cfb44ee31d88', 'message': 'Use multistore modules to set up glance_store\n\nThis patch replaces legacy modules for single glance_store by the\nnew modules for multi store feature, since the legacy modules have\nbeen deprecated[1].\n\n[1] fd02761c6e634100ce4583c88a092f2958742ae7\n\nDepends-on: https://review.opendev.org/768103\nChange-Id: I28ef9215a8f13637d539e804d1777e4583534e1e\n'}]",0,761921,535a86e52740fc483f753335b7a7cfb44ee31d88,20,4,7,9816,,,0,"Use multistore modules to set up glance_store

This patch replaces legacy modules for single glance_store by the
new modules for multi store feature, since the legacy modules have
been deprecated[1].

[1] fd02761c6e634100ce4583c88a092f2958742ae7

Depends-on: https://review.opendev.org/768103
Change-Id: I28ef9215a8f13637d539e804d1777e4583534e1e
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/21/761921/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/glance.pp'],1,628d393c32146e7f009393114ebf796573646d31,glance-multistore, glance::backend::multistore::file { 'glance_store': } glance::backend::multistore::rbd { 'glance_store': glance::backend::multistore::swift { 'glance_store':, include glance::backend::file class { 'glance::backend::rbd': class { 'glance::backend::swift':,3,3
openstack%2Fkayobe~stable%2Fvictoria~I5efdbd52556721914fe69d7c6ba454b2c721b643,openstack/kayobe,stable/victoria,I5efdbd52556721914fe69d7c6ba454b2c721b643,Fix deployment image build in Victoria,MERGED,2021-01-27 22:00:06.000000000,2021-02-01 01:15:13.000000000,2021-02-01 01:14:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-01-27 22:00:06.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ffce488618dfe8a6961f81a26f2dfeb6afbbf6d8', 'message': ""Fix deployment image build in Victoria\n\nIn the Victoria release, deployment images fail to build with the\nfollowing error:\n\n/opt/kayobe/venvs/ipa-build-dib/lib/python3.6/site-packages/diskimage_builder/lib/common-functions: line 343: element-info: command not found\n\nThis is caused by the virtualenv bin directory not being included in\nPATH while executing code from common-functions, which results in the\nelement-info script not being found.\n\nThis doesn't happen in Ussuri because older versions of DIB were\nactivating the virtualenv automatically [1].\n\nThis doesn't happen in master because its upper constraints allow a\nnewer DIB which doesn't use element-info anymore.\n\nThe fix is to activate the DIB virtualenv, which is done since\nstackhpc.os-images v1.10.1 [2]. Bump in master first then backport to\nstable/victoria.\n\n[1] https://review.opendev.org/c/openstack/diskimage-builder/+/734414\n[2] https://github.com/stackhpc/ansible-role-os-images/releases/tag/v1.10.1\n\nChange-Id: I5efdbd52556721914fe69d7c6ba454b2c721b643\nStory: 2008550\nTask: 41673\n(cherry picked from commit 6563a02f85dc4833a11608d0e360a5478919fac5)\n""}]",0,772777,ffce488618dfe8a6961f81a26f2dfeb6afbbf6d8,24,3,1,15197,,,0,"Fix deployment image build in Victoria

In the Victoria release, deployment images fail to build with the
following error:

/opt/kayobe/venvs/ipa-build-dib/lib/python3.6/site-packages/diskimage_builder/lib/common-functions: line 343: element-info: command not found

This is caused by the virtualenv bin directory not being included in
PATH while executing code from common-functions, which results in the
element-info script not being found.

This doesn't happen in Ussuri because older versions of DIB were
activating the virtualenv automatically [1].

This doesn't happen in master because its upper constraints allow a
newer DIB which doesn't use element-info anymore.

The fix is to activate the DIB virtualenv, which is done since
stackhpc.os-images v1.10.1 [2]. Bump in master first then backport to
stable/victoria.

[1] https://review.opendev.org/c/openstack/diskimage-builder/+/734414
[2] https://github.com/stackhpc/ansible-role-os-images/releases/tag/v1.10.1

Change-Id: I5efdbd52556721914fe69d7c6ba454b2c721b643
Story: 2008550
Task: 41673
(cherry picked from commit 6563a02f85dc4833a11608d0e360a5478919fac5)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/77/772777/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,ffce488618dfe8a6961f81a26f2dfeb6afbbf6d8,story/2008550-stable/victoria, version: v1.10.2, version: v1.9.0,1,1
openstack%2Fdevstack~master~I5ec174cf7b02269525b1bfd0bfa94ea889d16fce,openstack/devstack,master,I5ec174cf7b02269525b1bfd0bfa94ea889d16fce,Fix Early Use of die function in stack.sh,MERGED,2021-01-20 05:26:38.000000000,2021-02-01 01:11:08.000000000,2021-01-31 15:21:03.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-20 05:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6b34b83ab8f6fb892f5674cf6273a1ec75aa2469', 'message': ""Fix Early Use of die function in stack.sh\n\nThis commit fixes use of die function before it's defined.\ndie function can be used after $TOP_DIR/functions sourcing chain-\nsources $TOP_DIR/functions-common.\nBecause fixed portion of stack.sh checks existance of $TOP_DIR/inc\nand soucing $TOP_DIR/function chain source $TOP_DIR/inc, this commit\nuses echo & exit command instead of die function.\n\nChange-Id: I5ec174cf7b02269525b1bfd0bfa94ea889d16fce\n""}, {'number': 2, 'created': '2021-01-20 05:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/58931ef84c607bcad744953d6056277c75cbda17', 'message': ""Fix Early Use of die function in stack.sh\n\nThis commit fixes use of die function before it's defined.\ndie function can be used after sourcing $TOP_DIR/functions chain-\nsources $TOP_DIR/functions-common.\nBecause fixed portion of stack.sh checks existance of $TOP_DIR/inc\nand soucing $TOP_DIR/function chain source $TOP_DIR/inc, this commit\nuses echo & exit command instead of die function.\n\nChange-Id: I5ec174cf7b02269525b1bfd0bfa94ea889d16fce\n""}, {'number': 3, 'created': '2021-01-25 07:52:17.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/eef2a0d751f4d53fb7b475e69e229cb541f7af2c', 'message': ""Fix Early Use of die function in stack.sh\n\nThis commit fixes use of die function before it's defined.\ndie function can be used after sourcing $TOP_DIR/functions chain-\nsources $TOP_DIR/functions-common.\nBecause fixed portion of stack.sh checks existence of $TOP_DIR/inc\nand sourcing $TOP_DIR/function chain source $TOP_DIR/inc, this commit\nuses echo & exit command instead of die function.\n\nCloses-Bug: #1913021\nChange-Id: I5ec174cf7b02269525b1bfd0bfa94ea889d16fce\n""}]",0,771558,eef2a0d751f4d53fb7b475e69e229cb541f7af2c,13,3,3,30566,,,0,"Fix Early Use of die function in stack.sh

This commit fixes use of die function before it's defined.
die function can be used after sourcing $TOP_DIR/functions chain-
sources $TOP_DIR/functions-common.
Because fixed portion of stack.sh checks existence of $TOP_DIR/inc
and sourcing $TOP_DIR/function chain source $TOP_DIR/inc, this commit
uses echo & exit command instead of die function.

Closes-Bug: #1913021
Change-Id: I5ec174cf7b02269525b1bfd0bfa94ea889d16fce
",git fetch https://review.opendev.org/openstack/devstack refs/changes/58/771558/2 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,6b34b83ab8f6fb892f5674cf6273a1ec75aa2469,bug/1913021," set +o xtrace echo ""missing devstack/files"" exit 1 set +o xtrace echo ""missing devstack/inc"" exit 1 set +o xtrace echo ""missing devstack/lib"" exit 1"," die $LINENO ""missing devstack/files"" die $LINENO ""missing devstack/inc"" die $LINENO ""missing devstack/lib""",9,3
openstack%2Fos-traits~master~Ieeee9c8591cacc64d37f226156bc0a41ae55bd6f,openstack/os-traits,master,Ieeee9c8591cacc64d37f226156bc0a41ae55bd6f,remove babel.cfg,ABANDONED,2021-01-27 07:28:54.000000000,2021-02-01 00:44:58.000000000,,"[{'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 07:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/8f211b9bb0e0e450c3addc99beab9a9e41f9ce13', 'message': 'remove babel.cfg\n\nRemove babel.cfg and the translation bits from setup.cfg, those are not\nneeded anymore.\n\nChange-Id: Ieeee9c8591cacc64d37f226156bc0a41ae55bd6f\n'}, {'number': 2, 'created': '2021-01-27 09:47:30.000000000', 'files': ['babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/807359fae048fab81f5345ee2616867c970aafad', 'message': 'remove babel.cfg\n\nRemove babel.cfg and the translation bits from setup.cfg, those are not\nneeded anymore.\n\nChange-Id: Ieeee9c8591cacc64d37f226156bc0a41ae55bd6f\n'}]",1,772634,807359fae048fab81f5345ee2616867c970aafad,8,3,2,31412,,,0,"remove babel.cfg

Remove babel.cfg and the translation bits from setup.cfg, those are not
needed anymore.

Change-Id: Ieeee9c8591cacc64d37f226156bc0a41ae55bd6f
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/34/772634/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_traits/owner.py', 'releasenotes/victoria.rst', 'releasenotes/ussuri.rst', 'babel.cfg', 'setup.cfg']",5,8f211b9bb0e0e450c3addc99beab9a9e41f9ce13,,, [compile_catalog] directory = os_traits/locale domain = os_traits [update_catalog] domain = os_traits output_dir = os_traits/locale input_file = os_traits/locale/os_traits.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = os_traits/locale/os_traits.pot,33,16
openstack%2Fcyborg~master~I4776147cdb6274fe269e1f1017ff9aad47bd63cc,openstack/cyborg,master,I4776147cdb6274fe269e1f1017ff9aad47bd63cc,Installation document improvement,MERGED,2020-12-10 22:16:17.000000000,2021-02-01 00:36:41.000000000,2021-02-01 00:35:31.000000000,"[{'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-12-10 22:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/79273448e224d61ad3698cdac1a35bf010757488', 'message': 'Installation document improvement\n\n1) v2 api is used since v1 is deprecated and removed\n2) api-paste.ini is needed for cyborg-api startup\n3) host_ip configures the ip address on which cyborg-api listens, and\nits default value(localhost) does not work in real cases\n\nChange-Id: I4776147cdb6274fe269e1f1017ff9aad47bd63cc\n'}, {'number': 2, 'created': '2020-12-18 00:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b653ed4bb81bc9198997a3c6b7e9453a5865f23b', 'message': 'Installation document improvement\n\n1) v2 api is used since v1 is deprecated and removed\n2) host_ip configures the ip address on which cyborg-api listens, and\nits default value(localhost) does not work in real cases\n\nChange-Id: I4776147cdb6274fe269e1f1017ff9aad47bd63cc\n'}, {'number': 3, 'created': '2020-12-24 23:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/7c972f6b88a476b737c2f91cdeac229a67cef160', 'message': 'Installation document improvement\n\n1) v2 api is used since v1 is deprecated and removed\n2) host_ip configures the ip address on which cyborg-api listens, and\nits default value(localhost) does not work in real cases\n\nChange-Id: I4776147cdb6274fe269e1f1017ff9aad47bd63cc\n'}, {'number': 4, 'created': '2021-01-08 06:46:24.000000000', 'files': ['doc/source/install/common.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/683c26e1f7071079c6f5e8d1c71a8e91915d1fc9', 'message': 'Installation document improvement\n\n1) v2 api is used since v1 is deprecated and removed\n2) host_ip configures the ip address on which cyborg-api listens, and\nits default value(localhost) does not work in real cases\n3) [nova] section config in cyborg.conf is also required\n\nChange-Id: I4776147cdb6274fe269e1f1017ff9aad47bd63cc\n'}]",10,766629,683c26e1f7071079c6f5e8d1c71a8e91915d1fc9,29,5,4,26721,,,0,"Installation document improvement

1) v2 api is used since v1 is deprecated and removed
2) host_ip configures the ip address on which cyborg-api listens, and
its default value(localhost) does not work in real cases
3) [nova] section config in cyborg.conf is also required

Change-Id: I4776147cdb6274fe269e1f1017ff9aad47bd63cc
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/29/766629/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/common.rst', 'doc/source/install/install-from-source.rst']",2,79273448e224d61ad3698cdac1a35bf010757488,," For cyborg-api, api-paste.ini is needed .. code-block:: console cp ~/cyborg/cyborg/etc/cyborg/api-paste.ini /etc/cyborg .. ",,18,6
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I269607d43f45f65efcbce33dd776e7eb4f475311,openstack/tripleo-heat-templates,stable/ussuri,I269607d43f45f65efcbce33dd776e7eb4f475311,Use Ceph-NFS for Manila in scenario004,MERGED,2021-01-30 16:10:26.000000000,2021-02-01 00:10:21.000000000,2021-02-01 00:10:21.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-01-30 16:10:26.000000000', 'files': ['roles/Standalone.yaml', 'ci/environments/scenario004-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9414af719142bfa7a619c2d72dd3ebd4360f1a7', 'message': 'Use Ceph-NFS for Manila in scenario004\n\nCephFS gatewayed by NFS is more generally suitable for multi-tenant\nOpenStack deployments than native CephFS since the latter requires\nthat VMs belonging to regular members of Keystone projects be exposed\nto the Ceph infrastructure and run client software with capabilities\nthat are not appropriate for untrusted cloud tenants.\n\nChange-Id: I269607d43f45f65efcbce33dd776e7eb4f475311\n(cherry picked from commit 63c5a94f83a6d8d9f9cc3e342265002e2e708d81)\n(cherry picked from commit 7c2933d3b47d203fa012a6667e61d8377e503a18)\n'}]",0,773200,d9414af719142bfa7a619c2d72dd3ebd4360f1a7,7,5,1,9003,,,0,"Use Ceph-NFS for Manila in scenario004

CephFS gatewayed by NFS is more generally suitable for multi-tenant
OpenStack deployments than native CephFS since the latter requires
that VMs belonging to regular members of Keystone projects be exposed
to the Ceph infrastructure and run client software with capabilities
that are not appropriate for untrusted cloud tenants.

Change-Id: I269607d43f45f65efcbce33dd776e7eb4f475311
(cherry picked from commit 63c5a94f83a6d8d9f9cc3e342265002e2e708d81)
(cherry picked from commit 7c2933d3b47d203fa012a6667e61d8377e503a18)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/773200/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'roles/Standalone.yaml']",2,d9414af719142bfa7a619c2d72dd3ebd4360f1a7,, StorageNFS: subnet: storage_nfs_subnet - OS::TripleO::Services::CephNfs,,8,0
openstack%2Fpython-designateclient~master~I024babd584b32d85219ecfc01a689ebac2b168b2,openstack/python-designateclient,master,I024babd584b32d85219ecfc01a689ebac2b168b2,Update master for stable/victoria,MERGED,2020-09-17 17:27:47.000000000,2021-02-01 00:06:20.000000000,2021-02-01 00:05:09.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-17 17:27:47.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/dd7fd96f77e0b7305fa2a93fe2314f80b4364a66', 'message': 'Update master for stable/victoria\n\nAdd file to the reno documentation build to show release notes for\nstable/victoria.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/victoria.\n\nChange-Id: I024babd584b32d85219ecfc01a689ebac2b168b2\nSem-Ver: feature\n'}]",0,752527,dd7fd96f77e0b7305fa2a93fe2314f80b4364a66,12,5,1,22816,,,0,"Update master for stable/victoria

Add file to the reno documentation build to show release notes for
stable/victoria.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/victoria.

Change-Id: I024babd584b32d85219ecfc01a689ebac2b168b2
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/27/752527/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,dd7fd96f77e0b7305fa2a93fe2314f80b4364a66,reno-victoria, victoria,,7,0
openstack%2Fkolla-ansible~master~I903b2e08f5458b1a1abc4af3abefe20b66c23a54,openstack/kolla-ansible,master,I903b2e08f5458b1a1abc4af3abefe20b66c23a54,[docs] Unify project's naming convention,MERGED,2021-01-18 22:22:29.000000000,2021-01-31 21:40:40.000000000,2021-01-31 21:39:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32067}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-01-18 22:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e955c4dac6d8662b1532463d53b39ab74f5672a0', 'message': ""[docs] Unify project's naming convention\n\nThere are inconsitencies across the documentation and the source code files\nwhen it comes to project's name (Kolla Ansible vs. Kolla-Ansible). This\ncommit aims at unifying it so that the naming becomes consistent everywhere.\n\nChange-Id: I903b2e08f5458b1a1abc4af3abefe20b66c23a54\n""}, {'number': 2, 'created': '2021-01-19 15:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bd4d4682b2552946aeaffce0f31d214bacbd782f', 'message': ""[docs] Unify project's naming convention\n\nThere are inconsitencies across the documentation and the source code files\nwhen it comes to project's name (Kolla Ansible vs. Kolla-Ansible). This\ncommit aims at unifying it so that the naming becomes consistent everywhere.\n\nChange-Id: I903b2e08f5458b1a1abc4af3abefe20b66c23a54\n""}, {'number': 3, 'created': '2021-01-26 07:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1d10fe25ca4b2c28ea02b5e15767ddb16ae5d83', 'message': ""[docs] Unify project's naming convention\n\nThere are inconsitencies across the documentation and the source code files\nwhen it comes to project's name (Kolla Ansible vs. Kolla-Ansible). This\ncommit aims at unifying it so that the naming becomes consistent everywhere.\n\nChange-Id: I903b2e08f5458b1a1abc4af3abefe20b66c23a54\n""}, {'number': 4, 'created': '2021-01-27 19:09:09.000000000', 'files': ['doc/source/user/multinode.rst', 'ansible/roles/octavia-certificates/tasks/main.yml', 'README.rst', 'doc/source/user/quickstart.rst', 'doc/source/reference/deployment-and-bootstrapping/bifrost.rst', 'doc/source/conf.py', 'deploy-guide/source/conf.py', 'doc/source/reference/storage/swift-guide.rst', 'doc/source/reference/logging-and-monitoring/monasca-guide.rst', 'deploy-guide/source/index.rst', 'doc/source/reference/logging-and-monitoring/central-logging-guide.rst', 'doc/source/reference/networking/neutron.rst', 'ansible/roles/octavia/defaults/main.yml', 'doc/source/contributor/contributing.rst', 'doc/source/index.rst', 'doc/source/admin/mariadb-backup-and-restore.rst', 'specs/prometheus.rst', 'doc/source/reference/networking/neutron-extensions.rst', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5db72659a062d45085227c237343a1c7a2687fe4', 'message': ""[docs] Unify project's naming convention\n\nThere are inconsitencies across the documentation and the source code files\nwhen it comes to project's name (Kolla Ansible vs. Kolla-Ansible). This\ncommit aims at unifying it so that the naming becomes consistent everywhere.\n\nChange-Id: I903b2e08f5458b1a1abc4af3abefe20b66c23a54\n""}]",5,771282,5db72659a062d45085227c237343a1c7a2687fe4,34,5,4,32657,,,0,"[docs] Unify project's naming convention

There are inconsitencies across the documentation and the source code files
when it comes to project's name (Kolla Ansible vs. Kolla-Ansible). This
commit aims at unifying it so that the naming becomes consistent everywhere.

Change-Id: I903b2e08f5458b1a1abc4af3abefe20b66c23a54
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/82/771282/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cloudKitty-v2-influxdb-07cb8b0051ac9ea0.yaml', 'README.rst', 'deploy-guide/source/conf.py', 'doc/source/reference/storage/swift-guide.rst', 'doc/source/reference/logging-and-monitoring/monasca-guide.rst', 'doc/source/reference/logging-and-monitoring/central-logging-guide.rst', 'doc/source/reference/networking/neutron.rst', 'doc/source/contributor/contributing.rst', 'specs/prometheus.rst', 'doc/source/reference/networking/neutron-extensions.rst', 'releasenotes/notes/retire-neutron-lbaas-3f893803a3fee29c.yaml', 'etc/kolla/globals.yml', 'releasenotes/notes/require-ansible-29-f03f4e22292a5bb4.yaml', 'releasenotes/notes/neutron-mlnx-agent-3e7b3aecbb298811.yaml', 'doc/source/user/multinode.rst', 'ansible/roles/octavia-certificates/tasks/main.yml', 'doc/source/user/quickstart.rst', 'doc/source/reference/deployment-and-bootstrapping/bifrost.rst', 'doc/source/conf.py', 'deploy-guide/source/index.rst', 'ansible/roles/octavia/defaults/main.yml', 'doc/source/index.rst', 'releasenotes/notes/bug-1863510-part-haproxy-0a76829d48818f92.yaml', 'doc/source/admin/mariadb-backup-and-restore.rst', 'releasenotes/notes/bp-add-monitoring-user-for-rabbit-d869cddde8e8c5f3.yaml']",25,e955c4dac6d8662b1532463d53b39ab74f5672a0,refactor-project-name, Kolla Ansible now supports creating a monitoring, Kolla-Ansible now supports creating a monitoring,85,85
openstack%2Fkolla-ansible~master~If7051f7139a68864e599cccffaf17c21855fc4a8,openstack/kolla-ansible,master,If7051f7139a68864e599cccffaf17c21855fc4a8,Fix invalid mariadb log options,MERGED,2020-09-29 15:22:56.000000000,2021-01-31 18:10:01.000000000,2021-01-31 18:08:38.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30438}, {'_account_id': 30491}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-09-29 15:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/740897179a337e37c5fe9225766f6336f4f85170', 'message': 'Fix invalid mariadb log options\n\nChange-Id: If7051f7139a68864e599cccffaf17c21855fc4a8\n'}, {'number': 2, 'created': '2020-09-29 15:27:42.000000000', 'files': ['ansible/roles/mariadb/templates/galera.cnf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/414677a6b57c1dfb7abc39302db6c696f6f377be', 'message': 'Fix invalid mariadb log options\n\nTrivial: log-error & log-bin are both invalid mariadb config options.\nThe appropriate options are log_error & log_bin.\nNote - this change mostly unnecessary as log_error is provided via cli \nand log_bin value is the default.\nChange-Id: If7051f7139a68864e599cccffaf17c21855fc4a8\n'}]",0,755061,414677a6b57c1dfb7abc39302db6c696f6f377be,12,5,2,30438,,,0,"Fix invalid mariadb log options

Trivial: log-error & log-bin are both invalid mariadb config options.
The appropriate options are log_error & log_bin.
Note - this change mostly unnecessary as log_error is provided via cli 
and log_bin value is the default.
Change-Id: If7051f7139a68864e599cccffaf17c21855fc4a8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/61/755061/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mariadb/templates/galera.cnf.j2'],1,740897179a337e37c5fe9225766f6336f4f85170,mariadb-log-error,log_error=/var/log/kolla/mariadb/mariadb.log log_bin=mysql-bin,log-error=/var/log/kolla/mariadb/mariadb.log log-bin=mysql-bin,2,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I97b42e618bcd31e408374157eb10d315ac62f306,openstack/tripleo-heat-templates,stable/train,I97b42e618bcd31e408374157eb10d315ac62f306,Remove pcs/pacemaker package installation from upgrade tasks,MERGED,2020-12-09 21:07:47.000000000,2021-01-31 17:45:50.000000000,2021-01-31 17:45:50.000000000,"[{'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 18675}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-09 21:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/20b41f817eae02559e3d9ad91903e3beb4c706a1', 'message': 'WIP/DNM Test FFU without pcs/pacemaker\n\nSame vein as I70d8bebf0d6cbaeff3f108c5da10b6bfbdff8ccf\n\nChange-Id: I97b42e618bcd31e408374157eb10d315ac62f306\n'}, {'number': 2, 'created': '2021-01-22 12:56:47.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/75c2872326675520494c01cac81ba264674fda6a', 'message': ""Remove pcs/pacemaker package installation from upgrade tasks\n\nWe currently forcefully install pacemaker + pcs in a number of upgrade\ntasks.  This is suboptimal because on certain nodes pcs/pacemaker repos\nare not enabled.  Let's let puppet pull in those packages normally.\n\nTested this during a queen -> train FFU successfully on a composable\nroles environment.\n\nCloses-Bug: #1911684\n\nChange-Id: I97b42e618bcd31e408374157eb10d315ac62f306\n(cherry picked from commit 4a599e3721472626673179f32eb6968978760a20)\n""}]",0,766304,75c2872326675520494c01cac81ba264674fda6a,24,7,2,20172,,,0,"Remove pcs/pacemaker package installation from upgrade tasks

We currently forcefully install pacemaker + pcs in a number of upgrade
tasks.  This is suboptimal because on certain nodes pcs/pacemaker repos
are not enabled.  Let's let puppet pull in those packages normally.

Tested this during a queen -> train FFU successfully on a composable
roles environment.

Closes-Bug: #1911684

Change-Id: I97b42e618bcd31e408374157eb10d315ac62f306
(cherry picked from commit 4a599e3721472626673179f32eb6968978760a20)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/766304/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,20b41f817eae02559e3d9ad91903e3beb4c706a1,ffu-fix-stable/victoria-stable/ussuri-stable/train,, - pacemaker - pcs,0,2
openstack%2Fproject-config~master~I2441a730c49fad80ef1add5d69ce35b01c13f76a,openstack/project-config,master,I2441a730c49fad80ef1add5d69ce35b01c13f76a,Normalize projects.yaml,MERGED,2021-01-30 06:12:26.000000000,2021-01-31 14:55:56.000000000,2021-01-31 14:43:02.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-01-30 06:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/06a36a72202f14a0f57bf9516fca979a20811243', 'message': 'Normalize projects.yaml\n\nChange-Id: I2441a730c49fad80ef1add5d69ce35b01c13f76a\n'}, {'number': 2, 'created': '2021-01-31 06:05:07.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/57ed60678ea1309ae8c580364aa25baeb073983d', 'message': 'Normalize projects.yaml\n\nChange-Id: I2441a730c49fad80ef1add5d69ce35b01c13f76a\n'}]",0,773224,57ed60678ea1309ae8c580364aa25baeb073983d,10,3,2,11131,,,0,"Normalize projects.yaml

Change-Id: I2441a730c49fad80ef1add5d69ce35b01c13f76a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/24/773224/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,06a36a72202f14a0f57bf9516fca979a20811243,project-yaml-normalization, description: REST client that talks to ceph-iscsi's rbd-target-api to export rbd images/volumes to an iSCSI initiator, description: REST client that talks to ceph-iscsi's rbd-target-api to export rbd images/volumes to an iSCSI initiator upstream: https://github.com/hemna/rbd-iscsi-client.git,2,3
openstack%2Fsecurity-doc~master~I0b5899aa710c781b1765e750bffc473122a18990,openstack/security-doc,master,I0b5899aa710c781b1765e750bffc473122a18990,Imported Translations from Zanata,MERGED,2021-01-30 08:33:15.000000000,2021-01-31 14:47:26.000000000,2021-01-31 14:45:52.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-30 08:33:15.000000000', 'files': ['security-guide/source/locale/id/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/ja/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/tr_TR/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/de/LC_MESSAGES/security-guide.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/be051208e7f18d8f57447bb804f2b6bed55964db', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I0b5899aa710c781b1765e750bffc473122a18990\n'}]",0,773233,be051208e7f18d8f57447bb804f2b6bed55964db,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I0b5899aa710c781b1765e750bffc473122a18990
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/33/773233/1 && git format-patch -1 --stdout FETCH_HEAD,"['security-guide/source/locale/id/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/ja/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/tr_TR/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/de/LC_MESSAGES/security-guide.po']",4,be051208e7f18d8f57447bb804f2b6bed55964db,zanata/translations,"""POT-Creation-Date: 2021-01-22 18:38+0000\n""","""POT-Creation-Date: 2020-08-10 09:16+0000\n""msgid """" ""**Fail:** If value of parameter ``hash_algorithm`` under ``[token]``\\ "" ""section is set to MD5."" msgstr """" ""**Fail:** Wenn der Wert des Parameters ``hash_algorithm``unter ``\n"" ""[token]``Abschnitt auf MD5 gesetzt ist."" ""**Pass:** If value of parameter ``hash_algorithm`` under ``[token]`` section "" ""in ``/etc/keystone/keystone.conf`` is set to SHA256."" msgstr """" ""**Pass:** Wenn der Wert des Parameters ``hash_algorithm``unter ``\n"" ""[token]``Abschnitt in ``/etc/keystone/keystone.conf``auf SHA256\n"" ""gesetzt ist."" msgid """"""Check-Identity-04: Does Identity use strong hashing algorithms for PKI "" ""tokens?"" msgstr """" ""Check-Identity-04: Verwendet Identity starke Hash-Algorithmen für PKI-Token?"" msgid """"msgid """" ""MD5 is a weak and depreciated hashing algorithm. It can be cracked using "" ""brute force attack. Identity tokens are sensitive and need to be protected "" ""with a stronger hashing algorithm to prevent unauthorized disclosure and "" ""subsequent access."" msgstr """" ""MD5 ist ein schwacher und abgeschriebener Hash-Algorithmus. Es kann mit "" ""einem Brute-Force-Angriff geknackt werden. Identity Token sind empfindlich "" ""und müssen mit einem stärkeren Hash-Algorithmus geschützt werden, um eine "" ""unberechtigte Offenlegung und einen späteren Zugriff zu verhindern."" msgid ""Recommended in: :doc:`tokens`."" msgstr ""Empfohlen in: :doc:`tokens`."" ",9,127
openstack%2Fcinder~stable%2Fvictoria~I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b,openstack/cinder,stable/victoria,I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b,NetApp SolidFire: Fix error on cluster workload rebalancing,MERGED,2020-11-18 13:12:43.000000000,2021-01-31 14:40:17.000000000,2021-01-31 14:38:42.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 21570}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24921}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 30615}, {'_account_id': 31868}]","[{'number': 1, 'created': '2020-11-18 13:12:43.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/sf-fix-error-on-cluster-rebalancing-515bf41104cd181a.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/622244a755b75a52d079f92d8526f6eb5b517106', 'message': ""NetApp SolidFire: Fix error on cluster workload rebalancing\n\nWhen SolidFire is under heavy load or being upgraded, the\nSolidFire cluster may automatically move connections from primary\nto secondary nodes, in order to rebalance cluster workload.\n\nAlthough this operation ocurrs very quickly, if an operation is made\nto a volume at the same time it's being moved, there might be a\nchance that API calls such as create snapshot could fail with\nxNotPrimary error. Normally this will succeed on a retry of the\noperation.\n\nThis patch fixes this issue by adding the xNotPrimary exception to\nour list of retryable exceptions in the SolidFire driver.\n\nChange-Id: I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b\nCloses-Bug: #1891914\n(cherry picked from commit 8d0c08b4bb9d32f2c02dcc60f1f482331197e546)\n""}]",0,763176,622244a755b75a52d079f92d8526f6eb5b517106,72,22,1,30555,,,0,"NetApp SolidFire: Fix error on cluster workload rebalancing

When SolidFire is under heavy load or being upgraded, the
SolidFire cluster may automatically move connections from primary
to secondary nodes, in order to rebalance cluster workload.

Although this operation ocurrs very quickly, if an operation is made
to a volume at the same time it's being moved, there might be a
chance that API calls such as create snapshot could fail with
xNotPrimary error. Normally this will succeed on a retry of the
operation.

This patch fixes this issue by adding the xNotPrimary exception to
our list of retryable exceptions in the SolidFire driver.

Change-Id: I67dd2bfba37adcb7cda5f1cd08ff641410ec3f6b
Closes-Bug: #1891914
(cherry picked from commit 8d0c08b4bb9d32f2c02dcc60f1f482331197e546)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/763176/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/sf-fix-error-on-cluster-rebalancing-515bf41104cd181a.yaml']",2,622244a755b75a52d079f92d8526f6eb5b517106,bug/1891914-stable/victoria,"--- fixes: - | NetApp SolidFire driver `Bug #1891914 <https://bugs.launchpad.net/cinder/+bug/1891914>`_: Fix an error that might occur on cluster workload rebalancing or system upgrade, when an operation is made to a volume at the same time its connection is being moved to a secondary node. ",,13,2
openstack%2Fcinder-tempest-plugin~master~I9a7749288706c8b326c1acd0cef6edd5ea91503e,openstack/cinder-tempest-plugin,master,I9a7749288706c8b326c1acd0cef6edd5ea91503e,Ignore H101 rule,MERGED,2021-01-29 16:43:27.000000000,2021-01-31 14:26:30.000000000,2021-01-31 14:26:30.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 16:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/661568c6f6720c8b2153e919859fa1d193571f35', 'message': ""Ignore H101 rule\n\nIt doesn't seem to provide any benefit and is also removed from cinder\nproject.\nFor detailed reason, please look into the commit message of the cinder\npatch[1].\n\n[1] https://github.com/openstack/cinder/commit/b0a56ddd252670dadb2c5e3eb0b03bfc7f93623d\n\nChange-Id: I9a7749288706c8b326c1acd0cef6edd5ea91503e\n""}, {'number': 2, 'created': '2021-01-29 17:01:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/df4f94711e46da39b5f5d448173ccecdf50ea96d', 'message': ""Ignore H101 rule\n\nIt doesn't seem to provide any benefit and is also removed from cinder\nproject.\nFor detailed reason, please look into the commit message of the cinder\npatch[1].\n\n[1] https://opendev.org/openstack/cinder/commit/b0a56ddd252670dadb2c5e3eb0b03bfc7f93623d\n\nChange-Id: I9a7749288706c8b326c1acd0cef6edd5ea91503e\n""}]",0,773152,df4f94711e46da39b5f5d448173ccecdf50ea96d,20,3,2,27615,,,0,"Ignore H101 rule

It doesn't seem to provide any benefit and is also removed from cinder
project.
For detailed reason, please look into the commit message of the cinder
patch[1].

[1] https://opendev.org/openstack/cinder/commit/b0a56ddd252670dadb2c5e3eb0b03bfc7f93623d

Change-Id: I9a7749288706c8b326c1acd0cef6edd5ea91503e
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/52/773152/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,661568c6f6720c8b2153e919859fa1d193571f35,,"# H101 include name with TODO # reason: no real benefitignore = E123,E125,W503,W504,H101","ignore = E123,E125,W503,W504",3,1
openstack%2Fpuppet-nova~master~I8f9c396b5ae6d66110d07ead312dfd806658d380,openstack/puppet-nova,master,I8f9c396b5ae6d66110d07ead312dfd806658d380,Do not re-define defaults for quota parameters,MERGED,2021-01-24 13:02:43.000000000,2021-01-31 13:44:02.000000000,2021-01-31 13:44:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-24 13:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1c646de0d7c7f83c3ba14573d9cc488192b453b9', 'message': ""Do not re-define defaults for quota parameters\n\nCurrently we define the explicit default values for quota parameters\nbut these values are same as the defaults defined in nova itself.\nThis change removes re-definition of defaults and replace these values\nby $::os_service_default, so that we can rely on the defined in nova's\ncode.\n\nChange-Id: I8f9c396b5ae6d66110d07ead312dfd806658d380\n""}, {'number': 2, 'created': '2021-01-24 13:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b385fcb0966b1987a06f7ef84d212c284e509462', 'message': ""Do not re-define defaults for quota parameters\n\nCurrently we define the explicit default values for quota parameters\nbut these values are same as the defaults defined in nova itself.\nThis change removes re-definition of defaults and replace these values\nby $::os_service_default, so that we can rely on the defined in nova's\ncode.\n\nChange-Id: I8f9c396b5ae6d66110d07ead312dfd806658d380\n""}, {'number': 3, 'created': '2021-01-25 01:16:40.000000000', 'files': ['manifests/quota.pp', 'spec/classes/nova_quota_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/453579f2c8fda82ea51f121cde87ed2c01e4d791', 'message': ""Do not re-define defaults for quota parameters\n\nCurrently we define the explicit default values for quota parameters\nbut these values are same as the defaults defined in nova itself.\nThis change removes re-definition of defaults and replace these values\nby $::os_service_default, so that we can rely on the defined in nova's\ncode.\n\nChange-Id: I8f9c396b5ae6d66110d07ead312dfd806658d380\n""}]",0,772200,453579f2c8fda82ea51f121cde87ed2c01e4d791,24,3,3,9816,,,0,"Do not re-define defaults for quota parameters

Currently we define the explicit default values for quota parameters
but these values are same as the defaults defined in nova itself.
This change removes re-definition of defaults and replace these values
by $::os_service_default, so that we can rely on the defined in nova's
code.

Change-Id: I8f9c396b5ae6d66110d07ead312dfd806658d380
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/00/772200/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/quota.pp', 'spec/classes/nova_quota_spec.rb']",2,1c646de0d7c7f83c3ba14573d9cc488192b453b9,removed-quota-opts," :instances => '<SERVICE DEFAULT>', :cores => '<SERVICE DEFAULT>', :ram => '<SERVICE DEFAULT>', :metadata_items => '<SERVICE DEFAULT>', :injected_files => '<SERVICE DEFAULT>', :injected_file_content_bytes => '<SERVICE DEFAULT>', :injected_file_path_length => '<SERVICE DEFAULT>', :key_pairs => '<SERVICE DEFAULT>', :server_groups => '<SERVICE DEFAULT>', :server_group_members => '<SERVICE DEFAULT>',"," :instances => 10, :cores => 20, :ram => 51200, :metadata_items => 128, :injected_files => 5, :injected_file_content_bytes => 10240, :injected_file_path_length => 255, :key_pairs => 100, :server_groups => 10, :server_group_members => 10,",28,28
openstack%2Fos-net-config~stable%2Ftrain~Idbee49ce02d000043d0fa8e398aeb82f032c32aa,openstack/os-net-config,stable/train,Idbee49ce02d000043d0fa8e398aeb82f032c32aa,Check to ensure active DPDK NICs only mapped once,MERGED,2021-01-21 16:41:15.000000000,2021-01-31 12:57:01.000000000,2021-01-31 12:55:38.000000000,"[{'_account_id': 7144}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-21 16:41:15.000000000', 'files': ['os_net_config/utils.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/eb3bb40399b4bbb3427a81d05859a279f73d21bf', 'message': 'Check to ensure active DPDK NICs only mapped once\n\nThis change ensures that active DPDK NICs are only added\nto the list of mapped NICs once, and avoids duplicate entries.\n\nWhen os-net-config runs for the first time there is no entry\nin /sys/net for the DPDK NICs, so we look in\n/var/lib/os-net-config/dpdk_mapping.yaml for the list of\nDPDK NICs and add them to the NIC mapping list.\n\nIf os-net-config has been run before and the DPDK NICs are\nalready active, there is an entry in /sys/net and also an\nentry in /var/lib/os-net-config/dpdk_mapping.yaml for the NIC.\nThis results in the same NIC being added to the list of active\nNICs twice.\n\nChange-Id: Idbee49ce02d000043d0fa8e398aeb82f032c32aa\nCloses-Bug: #1912409\n(cherry picked from commit ba93c36044a271b52fedb8a275f6b8e05fbe2a62)\n'}]",0,771849,eb3bb40399b4bbb3427a81d05859a279f73d21bf,9,4,1,12398,,,0,"Check to ensure active DPDK NICs only mapped once

This change ensures that active DPDK NICs are only added
to the list of mapped NICs once, and avoids duplicate entries.

When os-net-config runs for the first time there is no entry
in /sys/net for the DPDK NICs, so we look in
/var/lib/os-net-config/dpdk_mapping.yaml for the list of
DPDK NICs and add them to the NIC mapping list.

If os-net-config has been run before and the DPDK NICs are
already active, there is an entry in /sys/net and also an
entry in /var/lib/os-net-config/dpdk_mapping.yaml for the NIC.
This results in the same NIC being added to the list of active
NICs twice.

Change-Id: Idbee49ce02d000043d0fa8e398aeb82f032c32aa
Closes-Bug: #1912409
(cherry picked from commit ba93c36044a271b52fedb8a275f6b8e05fbe2a62)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/49/771849/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/utils.py'],1,eb3bb40399b4bbb3427a81d05859a279f73d21bf,bug/1912409-train, if nic not in embedded_nics: embedded_nics.append(nic) if nic not in nics: nics.append(nic), embedded_nics.append(nic) nics.append(nic),4,2
openstack%2Fos-net-config~stable%2Fussuri~Idbee49ce02d000043d0fa8e398aeb82f032c32aa,openstack/os-net-config,stable/ussuri,Idbee49ce02d000043d0fa8e398aeb82f032c32aa,Check to ensure active DPDK NICs only mapped once,MERGED,2021-01-21 16:40:45.000000000,2021-01-31 12:57:00.000000000,2021-01-31 12:55:41.000000000,"[{'_account_id': 7144}, {'_account_id': 12398}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-21 16:40:45.000000000', 'files': ['os_net_config/utils.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/92e2b7758633300ba37ffd7dc7ec1e7b0f1155b0', 'message': 'Check to ensure active DPDK NICs only mapped once\n\nThis change ensures that active DPDK NICs are only added\nto the list of mapped NICs once, and avoids duplicate entries.\n\nWhen os-net-config runs for the first time there is no entry\nin /sys/net for the DPDK NICs, so we look in\n/var/lib/os-net-config/dpdk_mapping.yaml for the list of\nDPDK NICs and add them to the NIC mapping list.\n\nIf os-net-config has been run before and the DPDK NICs are\nalready active, there is an entry in /sys/net and also an\nentry in /var/lib/os-net-config/dpdk_mapping.yaml for the NIC.\nThis results in the same NIC being added to the list of active\nNICs twice.\n\nChange-Id: Idbee49ce02d000043d0fa8e398aeb82f032c32aa\nCloses-Bug: #1912409\n(cherry picked from commit ba93c36044a271b52fedb8a275f6b8e05fbe2a62)\n'}]",0,771848,92e2b7758633300ba37ffd7dc7ec1e7b0f1155b0,12,3,1,12398,,,0,"Check to ensure active DPDK NICs only mapped once

This change ensures that active DPDK NICs are only added
to the list of mapped NICs once, and avoids duplicate entries.

When os-net-config runs for the first time there is no entry
in /sys/net for the DPDK NICs, so we look in
/var/lib/os-net-config/dpdk_mapping.yaml for the list of
DPDK NICs and add them to the NIC mapping list.

If os-net-config has been run before and the DPDK NICs are
already active, there is an entry in /sys/net and also an
entry in /var/lib/os-net-config/dpdk_mapping.yaml for the NIC.
This results in the same NIC being added to the list of active
NICs twice.

Change-Id: Idbee49ce02d000043d0fa8e398aeb82f032c32aa
Closes-Bug: #1912409
(cherry picked from commit ba93c36044a271b52fedb8a275f6b8e05fbe2a62)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/48/771848/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/utils.py'],1,92e2b7758633300ba37ffd7dc7ec1e7b0f1155b0,bug/1912409-ussuri, if nic not in embedded_nics: embedded_nics.append(nic) if nic not in nics: nics.append(nic), embedded_nics.append(nic) nics.append(nic),4,2
openstack%2Fsushy~master~Ie006b57eddefb36c776bceab4708d46ac4e81e38,openstack/sushy,master,Ie006b57eddefb36c776bceab4708d46ac4e81e38,Add release version to release notes,MERGED,2021-01-21 14:46:03.000000000,2021-01-31 10:56:17.000000000,2021-01-31 10:55:05.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-01-21 14:46:03.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/ussuri.rst'], 'web_link': 'https://opendev.org/openstack/sushy/commit/9432172588772b2932e35dc5a11a9e73b542a83c', 'message': 'Add release version to release notes\n\nChange-Id: Ie006b57eddefb36c776bceab4708d46ac4e81e38\n'}]",0,771823,9432172588772b2932e35dc5a11a9e73b542a83c,8,3,1,10239,,,0,"Add release version to release notes

Change-Id: Ie006b57eddefb36c776bceab4708d46ac4e81e38
",git fetch https://review.opendev.org/openstack/sushy refs/changes/23/771823/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/ussuri.rst']",2,9432172588772b2932e35dc5a11a9e73b542a83c,reno,=========================================== Ussuri Series (3.0.0 - 3.2.x) Release Notes ===========================================,=========================== Ussuri Series Release Notes ===========================,6,6
openstack%2Fcinder~master~I63cce0d1a3e68aaeebb477dc40833e683f4ed1e5,openstack/cinder,master,I63cce0d1a3e68aaeebb477dc40833e683f4ed1e5,s3 init and no-sse mode fixes,ABANDONED,2020-10-21 13:37:19.000000000,2021-01-31 10:36:31.000000000,,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12032}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21129}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 28801}, {'_account_id': 31868}, {'_account_id': 32551}]","[{'number': 1, 'created': '2020-10-21 13:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b404208b63c44b265349ead651679051e758d3b', 'message': 'fix issues preventing cinder with s3 driver to operate\n\nChange-Id: Idc5e0beb5d6d9518861e96a466c628352c95bcd0\n'}, {'number': 2, 'created': '2020-10-21 13:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f7223044090760e6461d3b23280cab178b397736', 'message': 'run without encryption and init check fix\n\nChange-Id: I63cce0d1a3e68aaeebb477dc40833e683f4ed1e5\n'}, {'number': 3, 'created': '2020-10-21 20:01:02.000000000', 'files': ['cinder/backup/drivers/s3.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa35d63c3103f6d31f13cdba1b3e10ff24f4ce46', 'message': 's3 init and no-sse mode fixes\n\nPreviously this driver prevented cinder-backup from running due to\nwrong object class in check_for_setup_error().\n\nBesides that, cinder-backup with s3 driver was failing if encryption\nwas disabled server-side and/or no SSE key provided.\n\nBoth issues are fixed now and driver seems to be working fine on\ndev region and on our staging.\n\nChange-Id: I63cce0d1a3e68aaeebb477dc40833e683f4ed1e5\n'}]",0,759054,aa35d63c3103f6d31f13cdba1b3e10ff24f4ce46,70,18,3,32551,,,0,"s3 init and no-sse mode fixes

Previously this driver prevented cinder-backup from running due to
wrong object class in check_for_setup_error().

Besides that, cinder-backup with s3 driver was failing if encryption
was disabled server-side and/or no SSE key provided.

Both issues are fixed now and driver seems to be working fine on
dev region and on our staging.

Change-Id: I63cce0d1a3e68aaeebb477dc40833e683f4ed1e5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/759054/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,9b404208b63c44b265349ead651679051e758d3b,feature/support-s3-backup-driver,,,0,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ia09ca1de9502cd6c99910a6f18ee775c613c10dc,openstack/python-tripleoclient,stable/train,Ia09ca1de9502cd6c99910a6f18ee775c613c10dc,[Validator Run] Don't rely on parameter file extension,MERGED,2021-01-05 17:13:20.000000000,2021-01-31 10:08:55.000000000,2021-01-31 10:07:35.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-01-05 17:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8c030315ffde062d0668aebaf3919d765e99f4a1', 'message': ""[Validator Run] Don't rely on parameter file extension\n\nThis patch safely loads extra vars file using YAML method by default and\ndon't rely anymore on a probable existence of a file extension.\n\nChange-Id: Ia09ca1de9502cd6c99910a6f18ee775c613c10dc\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit cd0e24bbe3a4e9cf5779a6f1d12a9509ce72fd78)\n""}, {'number': 2, 'created': '2021-01-06 08:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/588a58a36968d08b3bf2b272c40cd117a2ff67a3', 'message': ""[Validator Run] Don't rely on parameter file extension\n\nThis patch safely loads extra vars file using YAML method by default and\ndon't rely anymore on a probable existence of a file extension.\n\nChange-Id: Ia09ca1de9502cd6c99910a6f18ee775c613c10dc\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit cd0e24bbe3a4e9cf5779a6f1d12a9509ce72fd78)\n""}, {'number': 3, 'created': '2021-01-06 13:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1d0ed927a57712624a4514d3eb094fc368ec9756', 'message': ""[Validator Run] Don't rely on parameter file extension\n\nThis patch safely loads extra vars file using YAML method by default and\ndon't rely anymore on a probable existence of a file extension.\n\nChange-Id: Ia09ca1de9502cd6c99910a6f18ee775c613c10dc\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit cd0e24bbe3a4e9cf5779a6f1d12a9509ce72fd78)\n""}, {'number': 4, 'created': '2021-01-06 13:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/31f3cfb2eb1244e55dd31b024773f170422ed6af', 'message': ""[Validator Run] Don't rely on parameter file extension\n\nThis patch safely loads extra vars file using YAML method by default and\ndon't rely anymore on a probable existence of a file extension.\n\nChange-Id: Ia09ca1de9502cd6c99910a6f18ee775c613c10dc\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit cd0e24bbe3a4e9cf5779a6f1d12a9509ce72fd78)\n""}, {'number': 5, 'created': '2021-01-25 09:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bd34913febbc56e9bcabe1c9e62bfd2c57af66ea', 'message': ""[Validator Run] Don't rely on parameter file extension\n\nThis patch safely loads extra vars file using YAML method by default and\ndon't rely anymore on a probable existence of a file extension.\n\nChange-Id: Ia09ca1de9502cd6c99910a6f18ee775c613c10dc\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit cd0e24bbe3a4e9cf5779a6f1d12a9509ce72fd78)\n(cherry picked from commit 6005878b4fbc8621082cfa40035f4ae05fbb52bd)\n""}, {'number': 6, 'created': '2021-01-25 18:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e3f743951ffed8ac5083a667eb26b0f4fc737844', 'message': ""[Validator Run] Don't rely on parameter file extension\n\nThis patch safely loads extra vars file using YAML method by default and\ndon't rely anymore on a probable existence of a file extension.\n\nChange-Id: Ia09ca1de9502cd6c99910a6f18ee775c613c10dc\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit cd0e24bbe3a4e9cf5779a6f1d12a9509ce72fd78)\n(cherry picked from commit 6005878b4fbc8621082cfa40035f4ae05fbb52bd)\n""}, {'number': 7, 'created': '2021-01-28 09:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/36790368fa6b437861418bc5010cd965e887908d', 'message': ""[Validator Run] Don't rely on parameter file extension\n\nThis patch safely loads extra vars file using YAML method by default and\ndon't rely anymore on a probable existence of a file extension.\n\nChange-Id: Ia09ca1de9502cd6c99910a6f18ee775c613c10dc\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit cd0e24bbe3a4e9cf5779a6f1d12a9509ce72fd78)\n(cherry picked from commit 6005878b4fbc8621082cfa40035f4ae05fbb52bd)\n""}, {'number': 8, 'created': '2021-01-30 21:23:57.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/88c1231e4d80b74ca4b7998e8b4ef439db61f7c4', 'message': ""[Validator Run] Don't rely on parameter file extension\n\nThis patch safely loads extra vars file using YAML method by default and\ndon't rely anymore on a probable existence of a file extension.\n\nChange-Id: Ia09ca1de9502cd6c99910a6f18ee775c613c10dc\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit cd0e24bbe3a4e9cf5779a6f1d12a9509ce72fd78)\n(cherry picked from commit 6005878b4fbc8621082cfa40035f4ae05fbb52bd)\n""}]",4,769408,88c1231e4d80b74ca4b7998e8b4ef439db61f7c4,23,7,8,11491,,,0,"[Validator Run] Don't rely on parameter file extension

This patch safely loads extra vars file using YAML method by default and
don't rely anymore on a probable existence of a file extension.

Change-Id: Ia09ca1de9502cd6c99910a6f18ee775c613c10dc
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit cd0e24bbe3a4e9cf5779a6f1d12a9509ce72fd78)
(cherry picked from commit 6005878b4fbc8621082cfa40035f4ae05fbb52bd)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/08/769408/8 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,8c030315ffde062d0668aebaf3919d765e99f4a1,train_rhbz#1912879," try: with open(parsed_args.extra_vars_file, 'r') as env_file: extra_vars.update(yaml.safe_load(env_file.read())) except yaml.YAMLError as e: error_msg = ( ""The request body must be properly formatted YAML/JSON. "" ""Details: %s."" % e) raise exceptions.CommandError(error_msg)"," with open(parsed_args.extra_vars_file, 'r') as env_file: if '.json' in parsed_args.extra_vars_file: extra_vars.update(json.load(env_file)) else: extra_vars.update(yaml.load(env_file))",8,5
openstack%2Ftripleo-quickstart~master~I19c74984bacbcf4ee057a88381904dd711f79940,openstack/tripleo-quickstart,master,I19c74984bacbcf4ee057a88381904dd711f79940,Adding required tempestconf for Octavia tempest jobs,MERGED,2021-01-14 17:18:24.000000000,2021-01-31 10:00:05.000000000,2021-01-31 09:58:54.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-14 17:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c47f869c1066a84bb13564caef5bfa7a8c73fbeb', 'message': 'Adding required tempestconf for Octavia tempest jobs\n\nThis patch adds a couple of tempest configuration settings required by\nsome tests in the octavia tempest plugin.\n\nChange-Id: I19c74984bacbcf4ee057a88381904dd711f79940\n'}, {'number': 2, 'created': '2021-01-15 18:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/077c76c27b17a2f62ff7919f6f87cd2bf7976261', 'message': 'Adding required tempestconf for Octavia tempest jobs\n\nThis patch adds a couple of tempest configuration settings required by\nsome tests in the octavia tempest plugin.\n\nChange-Id: I19c74984bacbcf4ee057a88381904dd711f79940\n'}, {'number': 3, 'created': '2021-01-25 12:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4ea4d074124943cf71aac5723477f44f9955f1dd', 'message': 'Adding required tempestconf for Octavia tempest jobs\n\nThis patch adds a couple of tempest configuration settings required by\nsome tests in the octavia tempest plugin.\n\nDepends-On: I0436ab3b49ff1738832cee1579ce120c8cc4f00a\nChange-Id: I19c74984bacbcf4ee057a88381904dd711f79940\n'}, {'number': 4, 'created': '2021-01-27 19:52:14.000000000', 'files': ['config/general_config/featureset062.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9d2e63b0beea189eef8739a00c3e3491f42cfc96', 'message': 'Adding required tempestconf for Octavia tempest jobs\n\nThis patch adds a couple of tempest configuration settings required by\nsome tests in the octavia tempest plugin.\n\nDepends-On: I0436ab3b49ff1738832cee1579ce120c8cc4f00a\nChange-Id: I19c74984bacbcf4ee057a88381904dd711f79940\n'}]",4,770840,9d2e63b0beea189eef8739a00c3e3491f42cfc96,32,7,4,6681,,,0,"Adding required tempestconf for Octavia tempest jobs

This patch adds a couple of tempest configuration settings required by
some tests in the octavia tempest plugin.

Depends-On: I0436ab3b49ff1738832cee1579ce120c8cc4f00a
Change-Id: I19c74984bacbcf4ee057a88381904dd711f79940
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/40/770840/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset062.yml'],1,c47f869c1066a84bb13564caef5bfa7a8c73fbeb,, network-feature-enabled.port_security: true {% if ansible_python.version.major == 3 %} load_balancer.test_server_path: '/usr/lib/python3.6/site-packages/octavia_tempest_plugin/contrib/test_server/test_server.bin' {% else %} load_balancer.test_server_path: '/usr/lib/python2.7/site-packages/octavia_tempest_plugin/contrib/test_server/test_server.bin' {% endif %},,6,0
openstack%2Fpython-tripleoclient~stable%2Fvictoria~I921475d4dd99ebf0dd1d87437525b481be6cc307,openstack/python-tripleoclient,stable/victoria,I921475d4dd99ebf0dd1d87437525b481be6cc307,Fix the get_deployment_status call,MERGED,2021-01-25 18:08:17.000000000,2021-01-31 09:59:59.000000000,2021-01-31 09:58:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-01-25 18:08:17.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c246e80bfa3e03a242517783e142b14e5d10c28c', 'message': ""Fix the get_deployment_status call\n\nThe get_deployment_status function waits for a keyworded,\nvariable-length argument dictionary. This patch fixes that issue by\nadding the right keyword for 'plan'.\n\nThis patch also adds a space in the output string in order to be\nwell-formatted.\n\nChange-Id: I921475d4dd99ebf0dd1d87437525b481be6cc307\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}]",0,772395,c246e80bfa3e03a242517783e142b14e5d10c28c,13,6,1,11491,,,0,"Fix the get_deployment_status call

The get_deployment_status function waits for a keyworded,
variable-length argument dictionary. This patch fixes that issue by
adding the right keyword for 'plan'.

This patch also adds a space in the output string in order to be
well-formatted.

Change-Id: I921475d4dd99ebf0dd1d87437525b481be6cc307
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/95/772395/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,c246e80bfa3e03a242517783e142b14e5d10c28c,victoria," status = deployment.get_deployment_status(clients, plan=plan) ""in 'failed' or 'deploying' state. """," status = deployment.get_deployment_status(clients, plan) ""in 'failed' or 'deploying' state.""",2,2
openstack%2Fpuppet-tripleo~master~Ie20eec6eb8725d132b4036eeace23e649670c969,openstack/puppet-tripleo,master,Ie20eec6eb8725d132b4036eeace23e649670c969,"Revert ""Revert ""Update horizon manifest to use new ssl variable names""""",MERGED,2020-11-03 07:38:22.000000000,2021-01-31 09:58:35.000000000,2021-01-31 09:58:35.000000000,"[{'_account_id': 3153}, {'_account_id': 5046}, {'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-03 07:38:22.000000000', 'files': ['manifests/profile/base/horizon.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/337a7855f5c58f62e4b70653b12e5a55ea442e1c', 'message': 'Revert ""Revert ""Update horizon manifest to use new ssl variable names""""\n\nThe stable/victora branch has been created, so we are now ready to\nmerge changes for Wallaby.\n\nThis reverts commit 313888ba96a48b9a2f97656aef5a90b35024b941.\n\nChange-Id: Ie20eec6eb8725d132b4036eeace23e649670c969\n'}]",0,761065,337a7855f5c58f62e4b70653b12e5a55ea442e1c,21,9,1,9816,,,0,"Revert ""Revert ""Update horizon manifest to use new ssl variable names""""

The stable/victora branch has been created, so we are now ready to
merge changes for Wallaby.

This reverts commit 313888ba96a48b9a2f97656aef5a90b35024b941.

Change-Id: Ie20eec6eb8725d132b4036eeace23e649670c969
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/65/761065/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/horizon.pp'],1,337a7855f5c58f62e4b70653b12e5a55ea442e1c,bug/1901626," ssl_cert => $tls_certfile, ssl_key => $tls_keyfile,"," horizon_cert => $tls_certfile, horizon_key => $tls_keyfile,",2,2
openstack%2Ftripleo-common~stable%2Ftrain~I96ab407ba50e2183141daec3341dbb29545d5beb,openstack/tripleo-common,stable/train,I96ab407ba50e2183141daec3341dbb29545d5beb,Check existence of expires_in for auth,MERGED,2021-01-27 16:34:11.000000000,2021-01-31 08:39:23.000000000,2021-01-31 08:36:45.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-27 16:34:11.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2effe2ff00ecc1504979b7d35d67365cd02e46f8', 'message': ""Check existence of expires_in for auth\n\nIf a registries doesn't provide an expires_in with their token, the\ncurrent code fails doing the comparison. If no such header is included,\nlet's assume there is no expire time so we can just use the cached\ntoken.  If the token expires, we'll reauth as usual.\n\nChange-Id: I96ab407ba50e2183141daec3341dbb29545d5beb\nCloses-Bug: #1912645\n(cherry picked from commit e04774948e8cfa8ac4d2a1f57f0e53e2ef0861ee)\n""}]",0,772719,2effe2ff00ecc1504979b7d35d67365cd02e46f8,17,4,1,14985,,,0,"Check existence of expires_in for auth

If a registries doesn't provide an expires_in with their token, the
current code fails doing the comparison. If no such header is included,
let's assume there is no expire time so we can just use the cached
token.  If the token expires, we'll reauth as usual.

Change-Id: I96ab407ba50e2183141daec3341dbb29545d5beb
Closes-Bug: #1912645
(cherry picked from commit e04774948e8cfa8ac4d2a1f57f0e53e2ef0861ee)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/19/772719/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,2effe2ff00ecc1504979b7d35d67365cd02e46f8,bug/1912645-stable/train, expires_in = data.get('expires_in') if not expires_in or (now - token_time).seconds < expires_in:, if (now - token_time).seconds < data.get('expires_in'):,2,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I56b6dfe8a0e95385e469d9eac97a0ec24e147450,openstack/tripleo-heat-templates,stable/victoria,I56b6dfe8a0e95385e469d9eac97a0ec24e147450,Make it possible to override ServiceNetMap per-role,MERGED,2021-01-20 06:19:04.000000000,2021-01-31 08:38:05.000000000,2021-01-31 08:36:06.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-20 06:19:04.000000000', 'files': ['overcloud.j2.yaml', 'releasenotes/notes/bug-1904482-dbc5162c8245a9b3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b4d841d91ea7e3787c3e57b7af09f943b5e6d66', 'message': ""Make it possible to override ServiceNetMap per-role\n\nIn spine-and-leaf TLS-e deployments as done in OSP13,\nservices are filter based on role networks when adding\nmetadata for nova-join. This filtering removes valid\nservices due to the fact that the roles network does'nt\nmatch the global ServiceNetMap.\n\nAdd a role based parameter {{role.name}}ServiceNetMap\nthat can be used to override the ServiceNetMap per-role\nwhen it's being passed to {{role.name}}ServiceChain and\nthe {{role.name}} resource group.\n\nRelated: RHBZ#1875508\nCloses-Bug: #1904482\nChange-Id: I56b6dfe8a0e95385e469d9eac97a0ec24e147450\n(cherry picked from commit be6a844a79d659525e0feecd5a784e4eb55cb021)\n""}]",0,771538,6b4d841d91ea7e3787c3e57b7af09f943b5e6d66,21,3,1,24245,,,0,"Make it possible to override ServiceNetMap per-role

In spine-and-leaf TLS-e deployments as done in OSP13,
services are filter based on role networks when adding
metadata for nova-join. This filtering removes valid
services due to the fact that the roles network does'nt
match the global ServiceNetMap.

Add a role based parameter {{role.name}}ServiceNetMap
that can be used to override the ServiceNetMap per-role
when it's being passed to {{role.name}}ServiceChain and
the {{role.name}} resource group.

Related: RHBZ#1875508
Closes-Bug: #1904482
Change-Id: I56b6dfe8a0e95385e469d9eac97a0ec24e147450
(cherry picked from commit be6a844a79d659525e0feecd5a784e4eb55cb021)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/771538/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'releasenotes/notes/bug-1904482-dbc5162c8245a9b3.yaml']",2,6b4d841d91ea7e3787c3e57b7af09f943b5e6d66,bug/1904482,"--- fixes: - | When deploying a spine-and-leaf (L3 routed architecture) with TLS enabled for internal endpoints the deployment would fail because some roles are not connected to the network mapped to the service in ServiceNetMap. To fix this issue a role specific parameter ``{{role.name}}ServiceNetMap`` is introduced (defaults to: ``{}``). The role specific ServiceNetMap parameter allow the operator to override one or more service network mappings per-role. For example:: ComputeLeaf2ServiceNetMap: NovaLibvirtNetwork: internal_api_leaf2 The role specific ``{{role.name}}ServiceNetMap`` override is merged with the global ``ServiceNetMap`` when it's passed as a value to the ``{{role.name}}ServiceChain`` resources, and the ``{{role.name}}`` resource groups so that the correct network for this role is mapped to the service. Closes bug: `1904482 <https://bugs.launchpad.net/tripleo/+bug/1904482>`_. ",,40,2
openstack%2Ftripleo-common~stable%2Ftrain~Ia244d0fe5964fb8dd43b9cf9d4242a0e2f4abee8,openstack/tripleo-common,stable/train,Ia244d0fe5964fb8dd43b9cf9d4242a0e2f4abee8,Use the new IPA-builder element for installing python-hardware,MERGED,2021-01-29 14:50:45.000000000,2021-01-31 08:38:03.000000000,2021-01-31 08:36:01.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-29 14:50:45.000000000', 'files': ['image-yaml/overcloud-images-python3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4ae163f0535257e9ea43342f8c0330b4a3287e10', 'message': 'Use the new IPA-builder element for installing python-hardware\n\nThe python3 file was mieed in Id75c11e5b7c4f3bf73c962bc7e46f5a6021efc5f\n\nChange-Id: Ia244d0fe5964fb8dd43b9cf9d4242a0e2f4abee8\n(cherry picked from commit f938e6ee9f1d399c99db3b3dbd718a31587f4aea)\n'}]",0,773008,4ae163f0535257e9ea43342f8c0330b4a3287e10,11,3,1,13861,,,0,"Use the new IPA-builder element for installing python-hardware

The python3 file was mieed in Id75c11e5b7c4f3bf73c962bc7e46f5a6021efc5f

Change-Id: Ia244d0fe5964fb8dd43b9cf9d4242a0e2f4abee8
(cherry picked from commit f938e6ee9f1d399c99db3b3dbd718a31587f4aea)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/08/773008/1 && git format-patch -1 --stdout FETCH_HEAD,['image-yaml/overcloud-images-python3.yaml'],1,4ae163f0535257e9ea43342f8c0330b4a3287e10,ipa-stable/victoria-stable/ussuri-stable/train, - ironic-python-agent-ramdisk - extra-hardware DIB_EPEL_DISABLED: '1', - ironic-agent packages: - python3-hardware-detect,3,3
openstack%2Ftripleo-heat-templates~master~Ice5e1cfbc158eb6705988706c8625bedb80d7de2,openstack/tripleo-heat-templates,master,Ice5e1cfbc158eb6705988706c8625bedb80d7de2,Deprecate environments/dcn-hci.yaml for dcn-storage.yaml,MERGED,2021-01-26 20:42:50.000000000,2021-01-31 08:37:54.000000000,2021-01-31 08:36:22.000000000,"[{'_account_id': 7144}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2021-01-26 20:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/acaa4a3c2a527a60601963b1d8134bb354aeb848', 'message': 'Rename dcn-hci environment file to dcn-storage\n\nRename the file in the environments directory so that it\nmore reflects its expanded scope. This file is used when\ndeploying storage with DCN sites regardless of if those\nsites use HCI. We are now supporting non-HCI DCN sites\nwith storage so the old name is confusing.\n\nOld name : dcn-hci.yaml\nNew name : dcn-storage.yaml\n\nChange-Id: Ice5e1cfbc158eb6705988706c8625bedb80d7de2\n'}, {'number': 2, 'created': '2021-01-27 13:45:23.000000000', 'files': ['releasenotes/notes/dcn-hci-storage-rename-0b1c17dd50f4cc9a.yaml', 'environments/dcn-hci.yaml', 'sample-env-generator/dcn.yaml', 'environments/dcn-storage.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4ae25e2fd53d1af59fa57947843474cf5c2887a', 'message': 'Deprecate environments/dcn-hci.yaml for dcn-storage.yaml\n\nRename the file in the environments directory so that it\nreflects its expanded scope. This file is used when\ndeploying storage with DCN sites regardless of if those\nsites use HCI. We are now supporting non-HCI DCN sites\nwith storage so the old name is confusing.\n\nOld name : dcn-hci.yaml\nNew name : dcn-storage.yaml\n\ndcn-hci.yaml is depreacated but will remain in the environments\ndirectory for backwards compatibility. dcn-hci.yaml will be\nremoved during the X cycle.\n\nChange-Id: Ice5e1cfbc158eb6705988706c8625bedb80d7de2\n'}]",0,772598,d4ae25e2fd53d1af59fa57947843474cf5c2887a,26,5,2,18002,,,0,"Deprecate environments/dcn-hci.yaml for dcn-storage.yaml

Rename the file in the environments directory so that it
reflects its expanded scope. This file is used when
deploying storage with DCN sites regardless of if those
sites use HCI. We are now supporting non-HCI DCN sites
with storage so the old name is confusing.

Old name : dcn-hci.yaml
New name : dcn-storage.yaml

dcn-hci.yaml is depreacated but will remain in the environments
directory for backwards compatibility. dcn-hci.yaml will be
removed during the X cycle.

Change-Id: Ice5e1cfbc158eb6705988706c8625bedb80d7de2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/772598/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/dcn-hci-storage-rename-0b1c17dd50f4cc9a.yaml', 'sample-env-generator/dcn.yaml', 'environments/dcn-storage.yaml']",3,acaa4a3c2a527a60601963b1d8134bb354aeb848,dcn-storage,# title: Distributed Compute Node with storage# Environment file for deploying a remote site of distributed compute # nodes (DCN) in a separate stack (multi-stack) deployment with storage; # either HCI or with separate storage nodes. It should be used in # combination with environments/ceph-ansible/ceph-ansible.yaml.,# title: Distributed Compute Node HCI# Environment file for deploying a remote site of HCI distributed compute # nodes (DCN) in a separate stack (multi-stack) deployment. It should be # used in combination with environments/ceph-ansible/ceph-ansible.yaml.,16,9
openstack%2Ftripleo-common~stable%2Fussuri~Ia244d0fe5964fb8dd43b9cf9d4242a0e2f4abee8,openstack/tripleo-common,stable/ussuri,Ia244d0fe5964fb8dd43b9cf9d4242a0e2f4abee8,Use the new IPA-builder element for installing python-hardware,MERGED,2021-01-29 14:50:16.000000000,2021-01-31 08:37:51.000000000,2021-01-31 08:35:57.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-29 14:50:16.000000000', 'files': ['image-yaml/overcloud-images-python3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/022b528fcb57fbf376638a4b7542d39b2249529e', 'message': 'Use the new IPA-builder element for installing python-hardware\n\nThe python3 file was mieed in Id75c11e5b7c4f3bf73c962bc7e46f5a6021efc5f\n\nChange-Id: Ia244d0fe5964fb8dd43b9cf9d4242a0e2f4abee8\n(cherry picked from commit f938e6ee9f1d399c99db3b3dbd718a31587f4aea)\n'}]",0,773007,022b528fcb57fbf376638a4b7542d39b2249529e,11,3,1,13861,,,0,"Use the new IPA-builder element for installing python-hardware

The python3 file was mieed in Id75c11e5b7c4f3bf73c962bc7e46f5a6021efc5f

Change-Id: Ia244d0fe5964fb8dd43b9cf9d4242a0e2f4abee8
(cherry picked from commit f938e6ee9f1d399c99db3b3dbd718a31587f4aea)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/773007/1 && git format-patch -1 --stdout FETCH_HEAD,['image-yaml/overcloud-images-python3.yaml'],1,022b528fcb57fbf376638a4b7542d39b2249529e,ipa-stable/victoria-stable/ussuri, - ironic-python-agent-ramdisk - extra-hardware DIB_EPEL_DISABLED: '1', - ironic-agent packages: - python3-hardware-detect,3,3
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ie11acbf29fc8b9025756b5516fe2d9b4326b5425,openstack/tripleo-upgrade,stable/train,Ie11acbf29fc8b9025756b5516fe2d9b4326b5425,[ffwd] Don't run healthcheck on redis if it's not present,MERGED,2020-12-23 09:38:31.000000000,2021-01-31 08:36:38.000000000,2021-01-31 08:36:38.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-23 09:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8bcca5f60fab44f848e192fa18e61eb1f865f52a', 'message': ""[ffwd] Don't run healthcheck on redis if it's not present\n\nRedis might not be present on the deployment so we shouldn't\ncheck it's status post upgrade.\n\nChange-Id: Ie11acbf29fc8b9025756b5516fe2d9b4326b5425\nResolves: UPG-2446\n(cherry picked from commit 87c31a948b88d978b9b0c2dd252e73eee35eb8ae)\n""}, {'number': 2, 'created': '2021-01-28 09:47:54.000000000', 'files': ['tasks/upgrade/controller_node_upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a8e05bd1b9a6f68c85cf99be4ad091bdaccbfa76', 'message': ""[ffwd] Don't run healthcheck on redis if it's not present\n\nRedis might not be present on the deployment so we shouldn't\ncheck it's status post upgrade.\n\nChange-Id: Ie11acbf29fc8b9025756b5516fe2d9b4326b5425\nResolves: UPG-2446\n(cherry picked from commit 87c31a948b88d978b9b0c2dd252e73eee35eb8ae)\n""}]",0,768314,a8e05bd1b9a6f68c85cf99be4ad091bdaccbfa76,16,4,2,11166,,,0,"[ffwd] Don't run healthcheck on redis if it's not present

Redis might not be present on the deployment so we shouldn't
check it's status post upgrade.

Change-Id: Ie11acbf29fc8b9025756b5516fe2d9b4326b5425
Resolves: UPG-2446
(cherry picked from commit 87c31a948b88d978b9b0c2dd252e73eee35eb8ae)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/14/768314/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/controller_node_upgrade.yml'],1,8bcca5f60fab44f848e192fa18e61eb1f865f52a,," - name: Running post upgrade scripts for {{ node_name | splitext | first }} shell: ""set -o pipefail && {{ working_dir }}/{{ node_name | splitext | first }}_post/{{ item }}.sh"" when: - item in inventory_hostmap loop:",,6,0
openstack%2Fironic~master~I1b1a6baafd4cc4daa2fbdb82f69ded6253b1fcbf,openstack/ironic,master,I1b1a6baafd4cc4daa2fbdb82f69ded6253b1fcbf,For Supermicro BMCs set enable when changing boot device,MERGED,2021-01-25 01:05:53.000000000,2021-01-31 08:02:27.000000000,2021-01-31 08:00:50.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 21909}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 01:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cc1bad3c0d37bb7317db43ae002e82e7d6af2038', 'message': ""[WIP] For Supermicro BMCs, set the BootSourceOverrideEnable value when changing boot device\n\nWhen setting the boot settings on Supermicro BMCs, the BootSourceOverrideEnabled\nmust be set to the desired value whenever the BootSourceOverrideTarget is set or\nit will revert to the default value (Once).  This is different than what is\ncurrently implemented for other BMCs in which the BootSourceOverrideEnabled is\nnot set if it matches the current setting.\n\nThis change uses the vendor setting to determine if it's a Supermicro BMC.\n\n(Note the change to detect vendor for Redfish in\nhttps://review.opendev.org/c/openstack/ironic/+/771619 should be added here if\nthat patch doesn't merge, hence the WIP.)\n\nStory: 2008547\nTask: 41652\n\nChange-Id: I1b1a6baafd4cc4daa2fbdb82f69ded6253b1fcbf\n""}, {'number': 2, 'created': '2021-01-26 13:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d1f731934cd0fc233aca59d9f1ebd34313872cb2', 'message': ""For Supermicro BMCs, set the BootSourceOverrideEnable value when changing boot device\n\nWhen setting the boot settings on Supermicro BMCs, the BootSourceOverrideEnabled\nmust be set to the desired value whenever the BootSourceOverrideTarget is set or\nit will revert to the default value (Once).  This is different than what is\ncurrently implemented for other BMCs in which the BootSourceOverrideEnabled is\nnot set if it matches the current setting.\n\nThis change uses the vendor setting to determine if it's a Supermicro BMC.\n\nStory: 2008547\nTask: 41652\n\nChange-Id: I1b1a6baafd4cc4daa2fbdb82f69ded6253b1fcbf\n""}, {'number': 3, 'created': '2021-01-26 14:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9edcbfa722ec1e3235c1045f69e721e280441d71', 'message': ""For Supermicro BMCs, set the BootSourceOverrideEnable value when changing boot device\n\nWhen setting the boot settings on Supermicro BMCs, the BootSourceOverrideEnabled\nmust be set to the desired value whenever the BootSourceOverrideTarget is set or\nit will revert to the default value (Once).  This is different than what is\ncurrently implemented for other BMCs in which the BootSourceOverrideEnabled is\nnot set if it matches the current setting.\n\nThis change uses the vendor setting to determine if it's a Supermicro BMC.\n\nStory: 2008547\nTask: 41652\n\nChange-Id: I1b1a6baafd4cc4daa2fbdb82f69ded6253b1fcbf\n""}, {'number': 4, 'created': '2021-01-28 13:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a9f716cff047a5694e19bd0d96cd7ca7b91b0425', 'message': ""For Supermicro BMCs, set the BootSourceOverrideEnable value when changing boot device\n\nWhen setting the boot settings on Supermicro BMCs, the BootSourceOverrideEnabled\nmust be set to the desired value whenever the BootSourceOverrideTarget is set or\nit will revert to the default value (Once).  This is different than what is\ncurrently implemented for other BMCs in which the BootSourceOverrideEnabled is\nnot set if it matches the current setting.\n\nThis change uses the vendor setting to determine if it's a Supermicro BMC.\n\nStory: 2008547\nTask: 41652\n\nChange-Id: I1b1a6baafd4cc4daa2fbdb82f69ded6253b1fcbf\n""}, {'number': 5, 'created': '2021-01-28 17:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/55fbe4b3dd426d49a2fbb29f98d0e92c50eb5907', 'message': ""For Supermicro BMCs, set the BootSourceOverrideEnable value when changing boot device\n\nWhen setting the boot settings on Supermicro BMCs, the BootSourceOverrideEnabled\nmust be set to the desired value whenever the BootSourceOverrideTarget is set or\nit will revert to the default value (Once).  This is different than what is\ncurrently implemented for other BMCs in which the BootSourceOverrideEnabled is\nnot set if it matches the current setting.\n\nThis change uses the vendor setting to determine if it's a Supermicro BMC.\n\nStory: 2008547\nTask: 41652\n\nChange-Id: I1b1a6baafd4cc4daa2fbdb82f69ded6253b1fcbf\n""}, {'number': 6, 'created': '2021-01-28 19:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/09203bef925947e7dfc4a643f0835b6753e3fd1a', 'message': ""For Supermicro BMCs set enable when changing boot device\n\nWhen setting the boot settings on Supermicro BMCs, the\nBootSourceOverrideEnabled must be set to the desired\nvalue whenever the BootSourceOverrideTarget is set or\nit will revert to the default value (Once).  This is\ndifferent than what is currently implemented for other\nBMCs in which the BootSourceOverrideEnabled is not set\nif it matches the current setting.\n\nThis change uses the vendor setting to determine if it's\na Supermicro BMC.\n\nStory: 2008547\nTask: 41652\n\nChange-Id: I1b1a6baafd4cc4daa2fbdb82f69ded6253b1fcbf\n""}, {'number': 7, 'created': '2021-01-29 16:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8b5f30ad21ce987caecb6609e31cc8e4d670a58d', 'message': ""For Supermicro BMCs set enable when changing boot device\n\nWhen setting the boot settings on Supermicro BMCs, the\nBootSourceOverrideEnabled must be set to the desired\nvalue whenever the BootSourceOverrideTarget is set or\nit will revert to the default value (Once).  This is\ndifferent than what is currently implemented for other\nBMCs in which the BootSourceOverrideEnabled is not set\nif it matches the current setting.\n\nThis change uses the vendor setting to determine if it's\na Supermicro BMC.\n\nStory: 2008547\nTask: 41652\n\nChange-Id: I1b1a6baafd4cc4daa2fbdb82f69ded6253b1fcbf\n""}, {'number': 8, 'created': '2021-01-29 16:55:52.000000000', 'files': ['ironic/drivers/modules/redfish/management.py', 'releasenotes/notes/supermicro-redfish-override-enabled-aa51686ed33d3061.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4a7d50ce56b88c82e95665ac6df44666d3e647ed', 'message': ""For Supermicro BMCs set enable when changing boot device\n\nWhen setting the boot settings on Supermicro BMCs, the\nBootSourceOverrideEnabled must be set to the desired\nvalue whenever the BootSourceOverrideTarget is set or\nit will revert to the default value (Once).  This is\ndifferent than what is currently implemented for other\nBMCs in which the BootSourceOverrideEnabled is not set\nif it matches the current setting.\n\nThis change uses the vendor setting to determine if it's\na Supermicro BMC.\n\nStory: 2008547\nTask: 41652\n\nChange-Id: I1b1a6baafd4cc4daa2fbdb82f69ded6253b1fcbf\n""}]",25,772239,4a7d50ce56b88c82e95665ac6df44666d3e647ed,47,6,8,21909,,,0,"For Supermicro BMCs set enable when changing boot device

When setting the boot settings on Supermicro BMCs, the
BootSourceOverrideEnabled must be set to the desired
value whenever the BootSourceOverrideTarget is set or
it will revert to the default value (Once).  This is
different than what is currently implemented for other
BMCs in which the BootSourceOverrideEnabled is not set
if it matches the current setting.

This change uses the vendor setting to determine if it's
a Supermicro BMC.

Story: 2008547
Task: 41652

Change-Id: I1b1a6baafd4cc4daa2fbdb82f69ded6253b1fcbf
",git fetch https://review.opendev.org/openstack/ironic refs/changes/39/772239/6 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/management.py', 'releasenotes/notes/supermicro-redfish-override-enabled-aa51686ed33d3061.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_management.py']",3,cc1bad3c0d37bb7317db43ae002e82e7d6af2038,cache-vendor," @mock.patch.object(redfish_mgmt.LOG, 'info', autospec=True) @mock.patch.object(redfish_utils, 'get_system', autospec=True) def test_set_boot_device_persistency_vendor_match(self, mock_get_system, mock_log): fake_system = mock.Mock() mock_get_system.return_value = fake_system properties = self.node.properties properties['vendor'] = 'SuperMicro' self.node.properties = properties self.node.save() with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: task.driver.management.set_boot_device( task, boot_devices.PXE, persistent=True) self.assertTrue(mock_log.called) fake_system.boot.get.assert_has_calls([mock.call('mode')]) fake_system.set_system_boot_options.assert_has_calls( [mock.call(sushy.BOOT_SOURCE_TARGET_PXE, enabled=sushy.BOOT_SOURCE_ENABLED_CONTINUOUS), mock.call(mode=sushy.BOOT_SOURCE_MODE_BIOS)]) mock_get_system.assert_called_with(task.node) @mock.patch.object(redfish_mgmt.LOG, 'info', autospec=True) @mock.patch.object(redfish_utils, 'get_system', autospec=True) def test_set_boot_device_persistency_no_vendor_match(self, mock_get_system, mock_log): fake_system = mock.Mock() mock_get_system.return_value = fake_system properties = self.node.properties properties['vendor'] = 'SomeVendor' self.node.properties = properties self.node.save() with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: task.driver.management.set_boot_device( task, boot_devices.PXE, persistent=True) self.assertFalse(mock_log.called) fake_system.boot.get.assert_has_calls([mock.call('enabled'), mock.call('mode')]) fake_system.set_system_boot_options.assert_has_calls( [mock.call(sushy.BOOT_SOURCE_TARGET_PXE, enabled=sushy.BOOT_SOURCE_ENABLED_CONTINUOUS), mock.call(mode=sushy.BOOT_SOURCE_MODE_BIOS)]) mock_get_system.assert_called_with(task.node) ",,80,5
openstack%2Ftripleo-heat-templates~master~I353e8ca2676bbdceb056f8b2b084bc5102f52c1f,openstack/tripleo-heat-templates,master,I353e8ca2676bbdceb056f8b2b084bc5102f52c1f,Add NovaLibvirtMaxQueues role parameter to set [libvirt]/max_queues,MERGED,2021-01-19 07:26:22.000000000,2021-01-31 04:11:43.000000000,2021-01-31 04:10:01.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-01-19 07:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e457332480eb88c8dbea380c4bd37dc41337593f', 'message': 'Add NovaLibvirtMaxQueues role parameter to set [libvirt]/max_queues\n\nAdd NovaLibvirtMaxQueues role parameter to set [libvirt]/max_queues in\nnova.conf of the compute. Default 0 corresponds to not set meaning the\nlegacy limits based on the reported kernel major version will be used.\n\nDepends-On: Ieaa29b51257f5ea3a5e4d6c678140fd9ae052d88\nChange-Id: I353e8ca2676bbdceb056f8b2b084bc5102f52c1f\n'}, {'number': 2, 'created': '2021-01-19 15:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/419d1bdbfa0e31649724eede765d1ef6e6d8f5a8', 'message': 'Add NovaLibvirtMaxQueues role parameter to set [libvirt]/max_queues\n\nAdd NovaLibvirtMaxQueues role parameter to set [libvirt]/max_queues in\nnova.conf of the compute. Default 0 corresponds to not set meaning the\nlegacy limits based on the reported kernel major version will be used.\n\nDepends-On: Ieaa29b51257f5ea3a5e4d6c678140fd9ae052d88\nChange-Id: I353e8ca2676bbdceb056f8b2b084bc5102f52c1f\n'}, {'number': 3, 'created': '2021-01-27 14:33:44.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova_libvirt_max_queues-8024fc63105bd25d.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67a5a788971c1e2475cd260d91149b7d3d3a2012', 'message': 'Add NovaLibvirtMaxQueues role parameter to set [libvirt]/max_queues\n\nAdd NovaLibvirtMaxQueues role parameter to set [libvirt]/max_queues in\nnova.conf of the compute. Default 0 corresponds to not set meaning the\nlegacy limits based on the reported kernel major version will be used.\n\nDepends-On: Ieaa29b51257f5ea3a5e4d6c678140fd9ae052d88\nChange-Id: I353e8ca2676bbdceb056f8b2b084bc5102f52c1f\n'}]",0,771365,67a5a788971c1e2475cd260d91149b7d3d3a2012,34,9,3,17216,,,0,"Add NovaLibvirtMaxQueues role parameter to set [libvirt]/max_queues

Add NovaLibvirtMaxQueues role parameter to set [libvirt]/max_queues in
nova.conf of the compute. Default 0 corresponds to not set meaning the
legacy limits based on the reported kernel major version will be used.

Depends-On: Ieaa29b51257f5ea3a5e4d6c678140fd9ae052d88
Change-Id: I353e8ca2676bbdceb056f8b2b084bc5102f52c1f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/771365/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova_libvirt_max_queues-8024fc63105bd25d.yaml']",2,e457332480eb88c8dbea380c4bd37dc41337593f,1917460,--- features: - | Add NovaLibvirtMaxQueues role parameter to set [libvirt]/max_queues in nova.conf of the compute. Default 0 corresponds to not set meaning the legacy limits based on the reported kernel major version will be used. ,,29,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I97b42e618bcd31e408374157eb10d315ac62f306,openstack/tripleo-heat-templates,stable/victoria,I97b42e618bcd31e408374157eb10d315ac62f306,Remove pcs/pacemaker package installation from upgrade tasks,MERGED,2021-01-22 12:56:02.000000000,2021-01-31 04:09:56.000000000,2021-01-31 04:09:56.000000000,"[{'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 18675}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-22 12:56:02.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb8343a96809e136c05cf9880ab004d42c000f49', 'message': ""Remove pcs/pacemaker package installation from upgrade tasks\n\nWe currently forcefully install pacemaker + pcs in a number of upgrade\ntasks.  This is suboptimal because on certain nodes pcs/pacemaker repos\nare not enabled.  Let's let puppet pull in those packages normally.\n\nTested this during a queen -> train FFU successfully on a composable\nroles environment.\n\nCloses-Bug: #1911684\n\nChange-Id: I97b42e618bcd31e408374157eb10d315ac62f306\n(cherry picked from commit 4a599e3721472626673179f32eb6968978760a20)\n""}]",0,771920,bb8343a96809e136c05cf9880ab004d42c000f49,24,7,1,20172,,,0,"Remove pcs/pacemaker package installation from upgrade tasks

We currently forcefully install pacemaker + pcs in a number of upgrade
tasks.  This is suboptimal because on certain nodes pcs/pacemaker repos
are not enabled.  Let's let puppet pull in those packages normally.

Tested this during a queen -> train FFU successfully on a composable
roles environment.

Closes-Bug: #1911684

Change-Id: I97b42e618bcd31e408374157eb10d315ac62f306
(cherry picked from commit 4a599e3721472626673179f32eb6968978760a20)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/771920/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,bb8343a96809e136c05cf9880ab004d42c000f49,ffu-fix-stable/victoria,, - pacemaker - pcs,0,2
openstack%2Ftripleo-common~stable%2Fussuri~Idc49a3ad3f8d52b0709abfa6b4c7eb4103f04410,openstack/tripleo-common,stable/ussuri,Idc49a3ad3f8d52b0709abfa6b4c7eb4103f04410,Switch defaults to quay.io,MERGED,2020-12-10 19:59:38.000000000,2021-01-31 04:06:38.000000000,2021-01-31 04:05:22.000000000,"[{'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-12-10 19:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b533fc34b41831ac735befe663a0498d03d57cca', 'message': 'Switch defaults to quay.io\n\nUpdated for ussuri\n\nChange-Id: Idc49a3ad3f8d52b0709abfa6b4c7eb4103f04410\n(cherry picked from commit 38392c009022dc76a5ea4413c4b25da3895bd9ff)\n'}, {'number': 2, 'created': '2021-01-04 21:45:49.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/23bd48f0adc334201a49fa6d8bd16cca2e7ecb88', 'message': 'Switch defaults to quay.io\n\nUpdated for ussuri\n\nChange-Id: Idc49a3ad3f8d52b0709abfa6b4c7eb4103f04410\n(cherry picked from commit 38392c009022dc76a5ea4413c4b25da3895bd9ff)\n'}]",0,766541,23bd48f0adc334201a49fa6d8bd16cca2e7ecb88,31,6,2,14985,,,0,"Switch defaults to quay.io

Updated for ussuri

Change-Id: Idc49a3ad3f8d52b0709abfa6b4c7eb4103f04410
(cherry picked from commit 38392c009022dc76a5ea4413c4b25da3895bd9ff)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/41/766541/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml']",2,b533fc34b41831ac735befe663a0498d03d57cca,ussuri-quay,- imagename: quay.io/tripleoussuri/centos-binary-aodh-api:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-aodh-evaluator:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-aodh-listener:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-aodh-notifier:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-barbican-api:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-barbican-keystone-listener:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-barbican-worker:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-ceilometer-central:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-ceilometer-compute:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-ceilometer-notification:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-ceilometer-ipmi:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-cinder-api:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-cinder-backup:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-cinder-scheduler:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-cinder-volume:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-collectd:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-cron:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-designate-api:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-designate-backend-bind9:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-designate-central:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-designate-mdns:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-designate-producer:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-designate-sink:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-designate-worker:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-etcd:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-glance-api:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-gnocchi-api:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-gnocchi-metricd:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-gnocchi-statsd:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-haproxy:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-heat-all:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-heat-api-cfn:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-heat-api:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-heat-engine:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-horizon:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-ironic-api:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-ironic-conductor:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-ironic-inspector:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-ironic-pxe:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-ironic-neutron-agent:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-iscsid:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-keepalived:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-keystone:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-manila-api:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-manila-scheduler:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-manila-share:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-mariadb:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-memcached:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-mistral-api:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-mistral-engine:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-mistral-executor:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-mistral-event-engine:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-multipathd:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-neutron-dhcp-agent:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-neutron-l3-agent:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-neutron-metadata-agent:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-neutron-openvswitch-agent:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-neutron-sriov-agent:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-neutron-mlnx-agent:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-neutron-server:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-neutron-metadata-agent-ovn:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-nova-api:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-nova-compute-ironic:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-nova-compute:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-nova-conductor:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-nova-libvirt:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-nova-novncproxy:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-nova-scheduler:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-novajoin-notifier:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-novajoin-server:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-octavia-api:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-octavia-health-manager:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-octavia-housekeeping:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-octavia-worker:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-ovn-controller:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-ovn-nb-db-server:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-ovn-northd:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-ovn-sb-db-server:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-placement-api:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-qdrouterd:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-rabbitmq:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-redis:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-swift-account:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-swift-container:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-swift-object:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-swift-proxy-server:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-zaqar-wsgi:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-tempest:current-tripleo- imagename: quay.io/tripleoussuri/centos-binary-rsyslog:current-tripleo,- imagename: docker.io/tripleou/centos-binary-aodh-api:current-tripleo- imagename: docker.io/tripleou/centos-binary-aodh-evaluator:current-tripleo- imagename: docker.io/tripleou/centos-binary-aodh-listener:current-tripleo- imagename: docker.io/tripleou/centos-binary-aodh-notifier:current-tripleo- imagename: docker.io/tripleou/centos-binary-barbican-api:current-tripleo- imagename: docker.io/tripleou/centos-binary-barbican-keystone-listener:current-tripleo- imagename: docker.io/tripleou/centos-binary-barbican-worker:current-tripleo- imagename: docker.io/tripleou/centos-binary-ceilometer-central:current-tripleo- imagename: docker.io/tripleou/centos-binary-ceilometer-compute:current-tripleo- imagename: docker.io/tripleou/centos-binary-ceilometer-notification:current-tripleo- imagename: docker.io/tripleou/centos-binary-ceilometer-ipmi:current-tripleo- imagename: docker.io/tripleou/centos-binary-cinder-api:current-tripleo- imagename: docker.io/tripleou/centos-binary-cinder-backup:current-tripleo- imagename: docker.io/tripleou/centos-binary-cinder-scheduler:current-tripleo- imagename: docker.io/tripleou/centos-binary-cinder-volume:current-tripleo- imagename: docker.io/tripleou/centos-binary-collectd:current-tripleo- imagename: docker.io/tripleou/centos-binary-cron:current-tripleo- imagename: docker.io/tripleou/centos-binary-designate-api:current-tripleo- imagename: docker.io/tripleou/centos-binary-designate-backend-bind9:current-tripleo- imagename: docker.io/tripleou/centos-binary-designate-central:current-tripleo- imagename: docker.io/tripleou/centos-binary-designate-mdns:current-tripleo- imagename: docker.io/tripleou/centos-binary-designate-producer:current-tripleo- imagename: docker.io/tripleou/centos-binary-designate-sink:current-tripleo- imagename: docker.io/tripleou/centos-binary-designate-worker:current-tripleo- imagename: docker.io/tripleou/centos-binary-etcd:current-tripleo- imagename: docker.io/tripleou/centos-binary-glance-api:current-tripleo- imagename: docker.io/tripleou/centos-binary-gnocchi-api:current-tripleo- imagename: docker.io/tripleou/centos-binary-gnocchi-metricd:current-tripleo- imagename: docker.io/tripleou/centos-binary-gnocchi-statsd:current-tripleo- imagename: docker.io/tripleou/centos-binary-haproxy:current-tripleo- imagename: docker.io/tripleou/centos-binary-heat-all:current-tripleo- imagename: docker.io/tripleou/centos-binary-heat-api-cfn:current-tripleo- imagename: docker.io/tripleou/centos-binary-heat-api:current-tripleo- imagename: docker.io/tripleou/centos-binary-heat-engine:current-tripleo- imagename: docker.io/tripleou/centos-binary-horizon:current-tripleo- imagename: docker.io/tripleou/centos-binary-ironic-api:current-tripleo- imagename: docker.io/tripleou/centos-binary-ironic-conductor:current-tripleo- imagename: docker.io/tripleou/centos-binary-ironic-inspector:current-tripleo- imagename: docker.io/tripleou/centos-binary-ironic-pxe:current-tripleo- imagename: docker.io/tripleou/centos-binary-ironic-neutron-agent:current-tripleo- imagename: docker.io/tripleou/centos-binary-iscsid:current-tripleo- imagename: docker.io/tripleou/centos-binary-keepalived:current-tripleo- imagename: docker.io/tripleou/centos-binary-keystone:current-tripleo- imagename: docker.io/tripleou/centos-binary-manila-api:current-tripleo- imagename: docker.io/tripleou/centos-binary-manila-scheduler:current-tripleo- imagename: docker.io/tripleou/centos-binary-manila-share:current-tripleo- imagename: docker.io/tripleou/centos-binary-mariadb:current-tripleo- imagename: docker.io/tripleou/centos-binary-memcached:current-tripleo- imagename: docker.io/tripleou/centos-binary-mistral-api:current-tripleo- imagename: docker.io/tripleou/centos-binary-mistral-engine:current-tripleo- imagename: docker.io/tripleou/centos-binary-mistral-executor:current-tripleo- imagename: docker.io/tripleou/centos-binary-mistral-event-engine:current-tripleo- imagename: docker.io/tripleou/centos-binary-multipathd:current-tripleo- imagename: docker.io/tripleou/centos-binary-neutron-dhcp-agent:current-tripleo- imagename: docker.io/tripleou/centos-binary-neutron-l3-agent:current-tripleo- imagename: docker.io/tripleou/centos-binary-neutron-metadata-agent:current-tripleo- imagename: docker.io/tripleou/centos-binary-neutron-openvswitch-agent:current-tripleo- imagename: docker.io/tripleou/centos-binary-neutron-sriov-agent:current-tripleo- imagename: docker.io/tripleou/centos-binary-neutron-mlnx-agent:current-tripleo- imagename: docker.io/tripleou/centos-binary-neutron-server:current-tripleo- imagename: docker.io/tripleou/centos-binary-neutron-metadata-agent-ovn:current-tripleo- imagename: docker.io/tripleou/centos-binary-nova-api:current-tripleo- imagename: docker.io/tripleou/centos-binary-nova-compute-ironic:current-tripleo- imagename: docker.io/tripleou/centos-binary-nova-compute:current-tripleo- imagename: docker.io/tripleou/centos-binary-nova-conductor:current-tripleo- imagename: docker.io/tripleou/centos-binary-nova-libvirt:current-tripleo- imagename: docker.io/tripleou/centos-binary-nova-novncproxy:current-tripleo- imagename: docker.io/tripleou/centos-binary-nova-scheduler:current-tripleo- imagename: docker.io/tripleou/centos-binary-novajoin-notifier:current-tripleo- imagename: docker.io/tripleou/centos-binary-novajoin-server:current-tripleo- imagename: docker.io/tripleou/centos-binary-octavia-api:current-tripleo- imagename: docker.io/tripleou/centos-binary-octavia-health-manager:current-tripleo- imagename: docker.io/tripleou/centos-binary-octavia-housekeeping:current-tripleo- imagename: docker.io/tripleou/centos-binary-octavia-worker:current-tripleo- imagename: docker.io/tripleou/centos-binary-ovn-controller:current-tripleo- imagename: docker.io/tripleou/centos-binary-ovn-nb-db-server:current-tripleo- imagename: docker.io/tripleou/centos-binary-ovn-northd:current-tripleo- imagename: docker.io/tripleou/centos-binary-ovn-sb-db-server:current-tripleo- imagename: docker.io/tripleou/centos-binary-placement-api:current-tripleo- imagename: docker.io/tripleou/centos-binary-qdrouterd:current-tripleo- imagename: docker.io/tripleou/centos-binary-rabbitmq:current-tripleo- imagename: docker.io/tripleou/centos-binary-redis:current-tripleo- imagename: docker.io/tripleou/centos-binary-swift-account:current-tripleo- imagename: docker.io/tripleou/centos-binary-swift-container:current-tripleo- imagename: docker.io/tripleou/centos-binary-swift-object:current-tripleo- imagename: docker.io/tripleou/centos-binary-swift-proxy-server:current-tripleo- imagename: docker.io/tripleou/centos-binary-zaqar-wsgi:current-tripleo- imagename: docker.io/tripleou/centos-binary-tempest:current-tripleo- imagename: docker.io/tripleou/centos-binary-rsyslog:current-tripleo,90,90
openstack%2Fpuppet-oslo~master~I0f81fe350954fccc59e76b1371ce333f3651eefa,openstack/puppet-oslo,master,I0f81fe350954fccc59e76b1371ce333f3651eefa,Add support for healthcheck middleware options,MERGED,2021-01-24 13:40:54.000000000,2021-01-31 04:06:35.000000000,2021-01-31 04:05:26.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-24 13:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/704138698e3ada7cea8c75f3ac3e5e8596378b28', 'message': 'Add support for healthcheck middleware options\n\nChange-Id: I0f81fe350954fccc59e76b1371ce333f3651eefa\n'}, {'number': 2, 'created': '2021-01-25 08:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/c70aed20d75a1ea6de4c1d867b40702b21221f6a', 'message': 'Add support for healthcheck middleware options\n\nChange-Id: I0f81fe350954fccc59e76b1371ce333f3651eefa\n'}, {'number': 3, 'created': '2021-01-25 08:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/6325d53ad3d30a7cd25c8a542e9cb824d466d8a5', 'message': 'Add support for healthcheck middleware options\n\nChange-Id: I0f81fe350954fccc59e76b1371ce333f3651eefa\n'}, {'number': 4, 'created': '2021-01-26 06:30:02.000000000', 'files': ['releasenotes/notes/healthcheck-middleware-c254827e460e7443.yaml', 'manifests/healthcheck.pp', 'spec/defines/oslo_healthcheck_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/8aa918c31db56aa25e7112c95e201511e9d015f4', 'message': 'Add support for healthcheck middleware options\n\nChange-Id: I0f81fe350954fccc59e76b1371ce333f3651eefa\n'}]",0,772202,8aa918c31db56aa25e7112c95e201511e9d015f4,17,3,4,9816,,,0,"Add support for healthcheck middleware options

Change-Id: I0f81fe350954fccc59e76b1371ce333f3651eefa
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/02/772202/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/healthcheck.pp', 'spec/defines/oslo_healthcheck_spec.rb']",2,704138698e3ada7cea8c75f3ac3e5e8596378b28,healthcheck,"require 'spec_helper' describe 'oslo::healthcheck' do let (:title) { 'keystone_config' } shared_examples 'oslo::healthcheck' do context 'with default parameters' do let :params do {} end it 'configure healthcheck default params' do is_expected.to contain_keystone_config('healthcheck/detailed').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('healthcheck/backends').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('healthcheck/disable_by_file_path').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('healthcheck/disable_by_file_paths').with_value('<SERVICE DEFAULT>') end end context 'with parameters overridden' do let :params do { :detailed => true, :backends => ['disable_by_file', 'disable_by_files_ports'] :disable_by_file_path => '/etc/keystone/healthcheck/disabled' :disable_by_file_paths => [ '5000:/etc/keystone/healthcheck/public-disabled', '35357:/etc/keystone/healthcheck/admin-disabled' ] } end it 'configure healthcheck params' do is_expected.to contain_keystone_config('healthcheck/detailed').with_value('true') is_expected.to contain_keystone_config('healthcheck/backends').with_value( 'disable_by_file,disable_by_files_ports' ) is_expected.to contain_keystone_config('healthcheck/disable_by_file_path').with_value( '/etc/keystone/healthcheck/disabled' ) is_expected.to contain_keystone_config('healthcheck/disable_by_file_paths').with_value( '5000:/etc/keystone/healthcheck/public-disabled,35357:/etc/keystone/healthcheck/admin-disabled' ) end end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end include_examples 'oslo::healthcheck' end end end ",,104,0
openstack%2Fpython-tripleoclient~stable%2Fussuri~I23e2bba9fc9e9b0574786d8594d89102759fad64,openstack/python-tripleoclient,stable/ussuri,I23e2bba9fc9e9b0574786d8594d89102759fad64,Get deployment status to check if plan and stack exists on the env,MERGED,2021-01-25 09:38:07.000000000,2021-01-31 03:45:52.000000000,2021-01-31 03:44:27.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-01-25 09:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7d648d7bd679a2a5ffa9826f431e9ac79fa65d8c', 'message': 'Get deployment status to check if plan and stack exists on the env\n\nThis patch use deployment.get_deployment_status to check\nif the stack and the plan exist on the env if a  --plan\noption has been passed.\n\nChange-Id: I23e2bba9fc9e9b0574786d8594d89102759fad64\n(cherry picked from commit c9a13bed0068b72a0eab77e3ef18e9e28250867a)\n(cherry picked from commit 8e961f4420762e5f2edf630eeaad36ce107ef0e7)\n'}, {'number': 2, 'created': '2021-01-25 18:01:11.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/70419d6bb0d2657095f143b5f94fe2747ee85802', 'message': 'Get deployment status to check if plan and stack exists on the env\n\nThis patch use deployment.get_deployment_status to check\nif the stack and the plan exist on the env if a  --plan\noption has been passed.\n\nChange-Id: I23e2bba9fc9e9b0574786d8594d89102759fad64\n(cherry picked from commit c9a13bed0068b72a0eab77e3ef18e9e28250867a)\n(cherry picked from commit 8e961f4420762e5f2edf630eeaad36ce107ef0e7)\n'}]",0,772269,70419d6bb0d2657095f143b5f94fe2747ee85802,22,3,2,11491,,,0,"Get deployment status to check if plan and stack exists on the env

This patch use deployment.get_deployment_status to check
if the stack and the plan exist on the env if a  --plan
option has been passed.

Change-Id: I23e2bba9fc9e9b0574786d8594d89102759fad64
(cherry picked from commit c9a13bed0068b72a0eab77e3ef18e9e28250867a)
(cherry picked from commit 8e961f4420762e5f2edf630eeaad36ce107ef0e7)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/69/772269/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py']",2,7d648d7bd679a2a5ffa9826f431e9ac79fa65d8c,,"from tripleoclient.workflows import deploymentYELLOW = ""\033[0;33m""NO_VALIDATION_STATE = ['DEPLOY_FAILED', 'DEPLOYING'] default=None, '--ssh-user', dest='ssh_user', default='heat-admin', help=_(""Ssh User name for the Overcloud ssh connection."") ) parser.add_argument( plan = parsed_args.plan msg = ""Running Validations without authentication."" LOG.warning(""{}{}{}"".format(YELLOW, msg, RESET)) _(""No static inventory provided, please provide a valid "" if plan: status = deployment.get_deployment_status(clients, plan) if not status or status in NO_VALIDATION_STATE: raise exceptions.CommandError( _(""The plan and the stack '{}' doesn't exist OR are "" ""in 'failed' or 'deploying' state."" ""Please use a valid plan"".format(plan))) else: msg = ""Running Validations without Overcloud settings."" LOG.warning(""{}{}{}"".format(YELLOW, msg, RESET)) ssh_user=parsed_args.ssh_user,","from tripleoclient.workflows import plan_management default='overcloud', LOG.warning(""Running Validations without authentication."") _(""No static inventory provided, please provide a valid"" plans = plan_management.list_deployment_plans(clients) if parsed_args.plan and parsed_args.plan not in plans: raise exceptions.CommandError( _(""The plan '{}' doesn't exist. "" ""Please use one of those {}"".format(parsed_args, plans))) ssh_user='heat-admin',",44,22
openstack%2Ftripleo-common~stable%2Fussuri~Ie00728543749e2fdc3b460ce33f469c86b287167,openstack/tripleo-common,stable/ussuri,Ie00728543749e2fdc3b460ce33f469c86b287167,Add heat-engine healthcheck,MERGED,2020-11-10 19:49:42.000000000,2021-01-31 03:45:38.000000000,2021-01-31 03:44:24.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-10 19:49:42.000000000', 'files': ['container-images/tcib/base/os/heat-base/heat-engine/heat-engine.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9ea8cafb2a4ecfd3838961ee913b5ecd9dfe55af', 'message': 'Add heat-engine healthcheck\n\nThis was missed in the kolla conversion.\n\nChange-Id: Ie00728543749e2fdc3b460ce33f469c86b287167\n(cherry picked from commit 52047ed4836f9fab187e4d1cd0baee004eaed6c0)\n'}]",0,762202,9ea8cafb2a4ecfd3838961ee913b5ecd9dfe55af,34,5,1,14985,,,0,"Add heat-engine healthcheck

This was missed in the kolla conversion.

Change-Id: Ie00728543749e2fdc3b460ce33f469c86b287167
(cherry picked from commit 52047ed4836f9fab187e4d1cd0baee004eaed6c0)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/02/762202/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/heat-base/heat-engine/heat-engine.yaml'],1,9ea8cafb2a4ecfd3838961ee913b5ecd9dfe55af,fix-missing-healthcheck-stable/ussuri,- run: ln -s /usr/share/openstack-tripleo-common/healthcheck/heat-engine /openstack/healthcheck && chmod a+rx /openstack/healthcheck,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I956307d5c69cd4d259fb1ab2731fe0001a196c8e,openstack/tripleo-heat-templates,stable/ussuri,I956307d5c69cd4d259fb1ab2731fe0001a196c8e,[Ussuri and older] Set python_cmd where we need it,MERGED,2020-12-11 20:34:16.000000000,2021-01-31 03:44:19.000000000,2021-01-31 03:44:19.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-11 20:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d318843ddba6e88ce5624a8b27c031e49472513', 'message': '[Ussuri and older] Set python_cmd where we need it\n\nIf you use --start-at-tasks, python_cmd may not be defined when we run\nthe generate configuration or host container tasks.  We should ensure\nthis variable is set prior to using it.\n\nThis variable was no longer used with the transition of the\ncontainer-puppet.py items into ansible itself so it only applies for\nUssuri and older.\n\nChange-Id: I956307d5c69cd4d259fb1ab2731fe0001a196c8e\nCloses-Bug: #1907858\n'}, {'number': 2, 'created': '2021-01-04 21:45:10.000000000', 'files': ['common/generate-config-tasks.yaml', 'common/host-container-puppet-tasks.yaml', 'common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a085631c09d3617c60ca2f5b18eca9f1385aae5', 'message': '[Ussuri and older] Set python_cmd where we need it\n\nIf you use --start-at-tasks, python_cmd may not be defined when we run\nthe generate configuration or host container tasks.  We should ensure\nthis variable is set prior to using it.\n\nThis variable was no longer used with the transition of the\ncontainer-puppet.py items into ansible itself so it only applies for\nUssuri and older.\n\nChange-Id: I956307d5c69cd4d259fb1ab2731fe0001a196c8e\nCloses-Bug: #1907858\n'}]",0,766788,1a085631c09d3617c60ca2f5b18eca9f1385aae5,39,3,2,14985,,,0,"[Ussuri and older] Set python_cmd where we need it

If you use --start-at-tasks, python_cmd may not be defined when we run
the generate configuration or host container tasks.  We should ensure
this variable is set prior to using it.

This variable was no longer used with the transition of the
container-puppet.py items into ansible itself so it only applies for
Ussuri and older.

Change-Id: I956307d5c69cd4d259fb1ab2731fe0001a196c8e
Closes-Bug: #1907858
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/766788/2 && git format-patch -1 --stdout FETCH_HEAD,"['common/generate-config-tasks.yaml', 'common/host-container-puppet-tasks.yaml', 'common/deploy-steps-tasks-step-1.yaml']",3,9d318843ddba6e88ce5624a8b27c031e49472513,bug/1907858,,"- name: gather facts needed by role setup: gather_subset: ""!min,python"" when: ansible_python is not defined tags: - container_config_tasks - name: set python_cmd set_fact: python_cmd: ""python{{ ansible_python.version.major }}"" cacheable: true when: python_cmd is not defined tags: - container_config_tasks ",30,15
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia6421bd534f8355d79aab48cb4146d067bdd61b0,openstack/tripleo-heat-templates,stable/train,Ia6421bd534f8355d79aab48cb4146d067bdd61b0,[Train only] Retry distro-sync until success,MERGED,2021-01-21 12:13:44.000000000,2021-01-31 03:43:34.000000000,2021-01-31 03:43:34.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-01-21 12:13:44.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c038ca3a252fa84de3309d02728a91ee46c0eb4', 'message': '[Train only] Retry distro-sync until success\n\nThe distro-sync process is quite lengthy and very network heavy\nand it is crucial that it completes. If there are network comms\nissues or package serving issues from the repository serving\nthem then it will fail.\n\nTo increase the chances of success, we add 5 retries with a 10\nsecond delay between them to allow some time for the repository\nto recover.\n\nChange-Id: Ia6421bd534f8355d79aab48cb4146d067bdd61b0\n'}]",0,771800,6c038ca3a252fa84de3309d02728a91ee46c0eb4,9,6,1,6816,,,0,"[Train only] Retry distro-sync until success

The distro-sync process is quite lengthy and very network heavy
and it is crucial that it completes. If there are network comms
issues or package serving issues from the repository serving
them then it will fail.

To increase the chances of success, we add 5 retries with a 10
second delay between them to allow some time for the repository
to recover.

Change-Id: Ia6421bd534f8355d79aab48cb4146d067bdd61b0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/771800/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,6c038ca3a252fa84de3309d02728a91ee46c0eb4,, retries: 5 delay: 10 register: _dnf_distro_sync until: _dnf_distro_sync is success,,4,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ia918d8b92d9bb1efac9bec2017b88593bf362834,openstack/tripleo-heat-templates,stable/victoria,Ia918d8b92d9bb1efac9bec2017b88593bf362834,Configure OVNCMSOptions=enable-chassis-as-gw within neutron-ovn-sriov.yaml,MERGED,2021-01-19 13:41:50.000000000,2021-01-31 03:43:29.000000000,2021-01-31 03:43:29.000000000,"[{'_account_id': 6773}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-19 13:41:50.000000000', 'files': ['environments/services/neutron-ovn-ha.yaml', 'environments/services/neutron-ovn-sriov.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ecc962329ee7ab198be0f894205c14e51296773', 'message': 'Configure OVNCMSOptions=enable-chassis-as-gw within neutron-ovn-sriov.yaml\n\nIn order to configure OVN+SRIOV, the following THT files need to be\nimported:\n  - neutron-ovn-ha.yaml\n  - neutron-ovn-sriov.yaml\n\nChange-Id: Ia918d8b92d9bb1efac9bec2017b88593bf362834\nResolves: rhbz#1913700\n(cherry picked from commit 831f5d65fa4a30b37bb92c36a7c97005dbbd77f6)\n'}]",0,771403,7ecc962329ee7ab198be0f894205c14e51296773,10,6,1,31291,,,0,"Configure OVNCMSOptions=enable-chassis-as-gw within neutron-ovn-sriov.yaml

In order to configure OVN+SRIOV, the following THT files need to be
imported:
  - neutron-ovn-ha.yaml
  - neutron-ovn-sriov.yaml

Change-Id: Ia918d8b92d9bb1efac9bec2017b88593bf362834
Resolves: rhbz#1913700
(cherry picked from commit 831f5d65fa4a30b37bb92c36a7c97005dbbd77f6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/771403/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/neutron-ovn-ha.yaml', 'environments/services/neutron-ovn-sriov.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml']",3,7ecc962329ee7ab198be0f894205c14e51296773,,," ControllerSriovParameters: OVNCMSOptions: ""enable-chassis-as-gw""",5,7
openstack%2Foctavia~master~I53cf76182d2ba9f1aad81edc9da68bedd4a81aba,openstack/octavia,master,I53cf76182d2ba9f1aad81edc9da68bedd4a81aba,Bump the minimum coverage to 92%,MERGED,2020-10-29 14:57:48.000000000,2021-01-31 02:05:34.000000000,2021-01-31 02:03:59.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-29 14:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0399cad84d53cbcb652040163b7815708da4d70f', 'message': 'Bump the minimum coverage to 92%\n\nAs we continue to improve our code coverage we can now bump the\ngate minimum to 92% minimum.\n\nChange-Id: I53cf76182d2ba9f1aad81edc9da68bedd4a81aba\n'}, {'number': 2, 'created': '2021-01-29 23:02:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9b2c6425a3edb6ef26caab3ab4c62a12e57311fa', 'message': 'Bump the minimum coverage to 92%\n\nAs we continue to improve our code coverage we can now bump the\ngate minimum to 92% minimum.\n\nChange-Id: I53cf76182d2ba9f1aad81edc9da68bedd4a81aba\n'}]",0,760382,9b2c6425a3edb6ef26caab3ab4c62a12e57311fa,24,4,2,11628,,,0,"Bump the minimum coverage to 92%

As we continue to improve our code coverage we can now bump the
gate minimum to 92% minimum.

Change-Id: I53cf76182d2ba9f1aad81edc9da68bedd4a81aba
",git fetch https://review.opendev.org/openstack/octavia refs/changes/82/760382/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0399cad84d53cbcb652040163b7815708da4d70f,, coverage report --fail-under=92 --skip-covered, coverage report --fail-under=90 --skip-covered,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia918d8b92d9bb1efac9bec2017b88593bf362834,openstack/tripleo-heat-templates,stable/train,Ia918d8b92d9bb1efac9bec2017b88593bf362834,Configure OVNCMSOptions=enable-chassis-as-gw within neutron-ovn-sriov.yaml,MERGED,2021-01-15 17:45:00.000000000,2021-01-30 23:30:08.000000000,2021-01-30 23:30:08.000000000,"[{'_account_id': 6773}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-15 17:45:00.000000000', 'files': ['environments/services/neutron-ovn-ha.yaml', 'environments/services/neutron-ovn-sriov.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/953a8ef9638f2728b01b0b233264b20e5cb8b623', 'message': 'Configure OVNCMSOptions=enable-chassis-as-gw within neutron-ovn-sriov.yaml\n\nIn order to configure OVN+SRIOV, the following THT files need to be\nimported:\n  - neutron-ovn-ha.yaml\n  - neutron-ovn-sriov.yaml\n\nChange-Id: Ia918d8b92d9bb1efac9bec2017b88593bf362834\nResolves: rhbz#1913700\n(cherry picked from commit 831f5d65fa4a30b37bb92c36a7c97005dbbd77f6)\n'}]",0,770962,953a8ef9638f2728b01b0b233264b20e5cb8b623,10,6,1,31291,,,0,"Configure OVNCMSOptions=enable-chassis-as-gw within neutron-ovn-sriov.yaml

In order to configure OVN+SRIOV, the following THT files need to be
imported:
  - neutron-ovn-ha.yaml
  - neutron-ovn-sriov.yaml

Change-Id: Ia918d8b92d9bb1efac9bec2017b88593bf362834
Resolves: rhbz#1913700
(cherry picked from commit 831f5d65fa4a30b37bb92c36a7c97005dbbd77f6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/770962/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/neutron-ovn-ha.yaml', 'environments/services/neutron-ovn-sriov.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml']",3,953a8ef9638f2728b01b0b233264b20e5cb8b623,,," ControllerSriovParameters: OVNCMSOptions: ""enable-chassis-as-gw""",5,7
openstack%2Ftripleo-ansible~stable%2Fvictoria~Ie77be94849bba28f322a09d254be650a9ec687f5,openstack/tripleo-ansible,stable/victoria,Ie77be94849bba28f322a09d254be650a9ec687f5,Add test_deps_setup_tripleo var,MERGED,2020-11-26 15:42:12.000000000,2021-01-30 20:55:47.000000000,2021-01-30 20:55:47.000000000,"[{'_account_id': 7353}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-11-26 15:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7e6a5831d349ffca4be0d4f52f029e0107749f80', 'message': 'Add test_deps_setup_tripleo var\n\nCurrently ovs_dpdk molecule jobs are failing with openvswitch\npackage is not available.\n\ntest_deps_setup_tripleo for test_deps role fixes the issue.\n\nFixed the package name for openvswitch.\nupdated the job timig also.\n\nSwitch to ubi:8.2 base image in molecule job to fix package\nconflict issue caused by ubi:8.3\n\nCloses-Bug: #1905683\nCloses-Bug: #1905687\n\nChange-Id: Ie77be94849bba28f322a09d254be650a9ec687f5\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit 641e378bde529d4575ad345c4ce1187a3c9b30df)\n'}, {'number': 2, 'created': '2020-12-09 12:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ed1923a2d6852b1b2e0cb657cda6a935878189a2', 'message': 'Add test_deps_setup_tripleo var\n\nCurrently ovs_dpdk molecule jobs are failing with openvswitch\npackage is not available.\n\ntest_deps_setup_tripleo for test_deps role fixes the issue.\n\nFixed the package name for openvswitch.\nupdated the job timig also.\n\nSwitch to ubi:8.2 base image in molecule job to fix package\nconflict issue caused by ubi:8.3\n\nCloses-Bug: #1905683\nCloses-Bug: #1905687\n\nChange-Id: Ie77be94849bba28f322a09d254be650a9ec687f5\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit 641e378bde529d4575ad345c4ce1187a3c9b30df)\n'}, {'number': 3, 'created': '2021-01-04 03:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/44a7d83c6ab23720a8bd51e3c79befbe3e95b9e7', 'message': 'Add test_deps_setup_tripleo var\n\nCurrently ovs_dpdk molecule jobs are failing with openvswitch\npackage is not available.\n\ntest_deps_setup_tripleo for test_deps role fixes the issue.\n\nFixed the package name for openvswitch.\nupdated the job timig also.\n\nSwitch to ubi:8.2 base image in molecule job to fix package\nconflict issue caused by ubi:8.3\n\nCloses-Bug: #1905683\nCloses-Bug: #1905687\n\nChange-Id: Ie77be94849bba28f322a09d254be650a9ec687f5\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit 641e378bde529d4575ad345c4ce1187a3c9b30df)\n'}, {'number': 4, 'created': '2021-01-11 06:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fceab2b5763e98e8079fcad028422b43efc84942', 'message': 'Add test_deps_setup_tripleo var\n\nCurrently ovs_dpdk molecule jobs are failing with openvswitch\npackage is not available.\n\ntest_deps_setup_tripleo for test_deps role fixes the issue.\n\nFixed the package name for openvswitch.\nupdated the job timig also.\n\nSwitch to ubi:8.2 base image in molecule job to fix package\nconflict issue caused by ubi:8.3\n\nCloses-Bug: #1905683\nCloses-Bug: #1905687\n\nChange-Id: Ie77be94849bba28f322a09d254be650a9ec687f5\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit 641e378bde529d4575ad345c4ce1187a3c9b30df)\n'}, {'number': 5, 'created': '2021-01-27 03:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/587bc3761c415cccbbd86eb395e2eb7ba7666268', 'message': 'Add test_deps_setup_tripleo var\n\nCurrently ovs_dpdk molecule jobs are failing with openvswitch\npackage is not available.\n\ntest_deps_setup_tripleo for test_deps role fixes the issue.\n\nFixed the package name for openvswitch.\nupdated the job timig also.\n\nSwitch to ubi:8.2 base image in molecule job to fix package\nconflict issue caused by ubi:8.3\n\nCloses-Bug: #1905683\nCloses-Bug: #1905687\n\nChange-Id: Ie77be94849bba28f322a09d254be650a9ec687f5\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit 641e378bde529d4575ad345c4ce1187a3c9b30df)\n'}, {'number': 6, 'created': '2021-01-29 04:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/871464e40b6297991b0a157759120fc7ee882153', 'message': 'Add test_deps_setup_tripleo var\n\nCurrently ovs_dpdk molecule jobs are failing with openvswitch\npackage is not available.\n\ntest_deps_setup_tripleo for test_deps role fixes the issue.\n\nFixed the package name for openvswitch.\nupdated the job timig also.\n\nSwitch to ubi:8.2 base image in molecule job to fix package\nconflict issue caused by ubi:8.3\n\nCloses-Bug: #1905683\nCloses-Bug: #1905687\n\nChange-Id: Ie77be94849bba28f322a09d254be650a9ec687f5\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit 641e378bde529d4575ad345c4ce1187a3c9b30df)\n'}, {'number': 7, 'created': '2021-01-29 04:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bbc2b5e86b093aa9f27ca541b6aea6b2686361a8', 'message': 'Add test_deps_setup_tripleo var\n\nCurrently ovs_dpdk molecule jobs are failing with openvswitch\npackage is not available.\n\ntest_deps_setup_tripleo for test_deps role fixes the issue.\n\nSwitch to ubi:8.2 base image in molecule job to fix package\nconflict issue caused by ubi:8.3\n\nCloses-Bug: #1905683\nCloses-Bug: #1905687\n\nChange-Id: Ie77be94849bba28f322a09d254be650a9ec687f5\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit 641e378bde529d4575ad345c4ce1187a3c9b30df)\n'}, {'number': 8, 'created': '2021-01-29 11:59:55.000000000', 'files': ['tripleo_ansible/roles/tripleo_sshd/molecule/banners/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_networks/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/molecule.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/molecule.yml', 'tripleo_ansible/roles/tripleo_nvdimm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/88c406449e8f00ac832900c021aef873290c645a', 'message': 'Add test_deps_setup_tripleo var\n\nCurrently ovs_dpdk molecule jobs are failing with openvswitch\npackage is not available.\n\ntest_deps_setup_tripleo for test_deps role fixes the issue.\nNote:\n* ovs_dpdk changes got merged in\n  https://review.opendev.org/c/openstack/tripleo-ansible/+/771127/\n  so it is not here in this cherry-pick. we are adding the note\n for future reference.\n\nSwitch to ubi:8.2 base image in molecule job to fix package\nconflict issue caused by ubi:8.3\n\nCloses-Bug: #1905683\nCloses-Bug: #1905687\n\nChange-Id: Ie77be94849bba28f322a09d254be650a9ec687f5\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n(cherry picked from commit 641e378bde529d4575ad345c4ce1187a3c9b30df)\n'}]",9,764360,88c406449e8f00ac832900c021aef873290c645a,68,9,8,12393,,,0,"Add test_deps_setup_tripleo var

Currently ovs_dpdk molecule jobs are failing with openvswitch
package is not available.

test_deps_setup_tripleo for test_deps role fixes the issue.
Note:
* ovs_dpdk changes got merged in
  https://review.opendev.org/c/openstack/tripleo-ansible/+/771127/
  so it is not here in this cherry-pick. we are adding the note
 for future reference.

Switch to ubi:8.2 base image in molecule job to fix package
conflict issue caused by ubi:8.3

Closes-Bug: #1905683
Closes-Bug: #1905687

Change-Id: Ie77be94849bba28f322a09d254be650a9ec687f5
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
(cherry picked from commit 641e378bde529d4575ad345c4ce1187a3c9b30df)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/60/764360/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_network_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/banners/molecule.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_networks/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/molecule.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/molecule.yml', 'zuul.d/base.yaml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/prepare.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nvdimm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/molecule.yml']",15,7e6a5831d349ffca4be0d4f52f029e0107749f80,, image: ubi8/ubi:8.2, image: ubi8/ubi-init,19,15
openstack%2Fnova~master~I2aae01ed235f1257b0b3ddc6aee4efc7be38eb6e,openstack/nova,master,I2aae01ed235f1257b0b3ddc6aee4efc7be38eb6e,db: Compact Kilo database migrations,MERGED,2020-10-15 11:17:29.000000000,2021-01-30 20:26:50.000000000,2021-01-30 20:24:57.000000000,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32761}]","[{'number': 1, 'created': '2020-10-15 11:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0b147615f388fc7b88907634788ad1a35ee5d32', 'message': ""Compact pre-Liberty database migrations\n\nCompacts pre-Liberty database migrations into a single migration,\n'280_kilo.py'.\n\nPre-Liberty users will now need to update to Kilo before updating to\nLiberty of later.\n\nThis change is significantly more complicated than previous compactions,\nmostly due to the changes to indexes specifically for PostgreSQL and\nSQLite.\n\nSpecific changes include:\n\n- Drop duplicate indexes from 'instances' and 'iscsi_targets' tables\n- Add 'tags' table\n- Alter 'uuid' column of 'instances' table to be unique and non-nullable\n- Add 'host' column to 'compute_nodes' table and unique constraint on\n  this column, the 'hypervisor_hostname' and 'deleted' column\n- Add 'numa_node' column to 'pci_devices' table\n- Add 'flavor' column to 'instance_extra' table\n- Add a number of indexes that were present on MySQL and missing from\n  PostgreSQL and SQLite; this requires renaming some of the MySQL ones\n  since they must be DB-unique on the PostgreSQL\n- Drop index on 'project_id' column of 'instances' table and add index\n  on 'project_id' and 'deleted' columns\n- Add 'type' column to 'key_pairs' table\n- Add 'vcpu_model' column to 'instance_extra' table\n- Add index covering 'deleted', 'allocated' and 'updated_at' columns of\n  'fixed_ips' table\n- Drop foreign key constraint on 'service_id' column of 'compute_nodes'\n  table\n- Make 'name' column of 'key_pairs' table non-nullable\n\nNow that we can rely on the 'instances.uuid' column being unique and\nnon-nullable, we can remove the 'null_instance_uuid_scan' nova-manage\ncommand. This will be done separately.\n\nChange-Id: I2aae01ed235f1257b0b3ddc6aee4efc7be38eb6e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-10-21 15:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e37893ae6bab156aa300eee753c86fd1a2f76258', 'message': ""WIP: db: Compact Kilo database migrations\n\nCompacts Kilo database migrations into a single migration,\n'280_kilo.py'.\n\nUsers will now need to update to Kilo before updating to Liberty of\nlater.\n\nThis change is significantly more complicated than previous compactions,\nmostly due to the changes to indexes specifically for PostgreSQL and\nSQLite.\n\nSpecific changes include:\n\n- Drop duplicate indexes from 'instances' and 'iscsi_targets' tables\n- Add 'tags' table\n- Alter 'uuid' column of 'instances' table to be unique and non-nullable\n- Add 'host' column to 'compute_nodes' table and unique constraint on\n  this column, the 'hypervisor_hostname' and 'deleted' column\n- Add 'numa_node' column to 'pci_devices' table\n- Add 'flavor' column to 'instance_extra' table\n- Add a number of indexes that were present on MySQL and missing from\n  PostgreSQL and SQLite; this requires renaming some of the MySQL ones\n  since they must be DB-unique on the PostgreSQL\n- Drop index on 'project_id' column of 'instances' table and add index\n  on 'project_id' and 'deleted' columns\n- Add 'type' column to 'key_pairs' table\n- Add 'vcpu_model' column to 'instance_extra' table\n- Add index covering 'deleted', 'allocated' and 'updated_at' columns of\n  'fixed_ips' table\n- Drop foreign key constraint on 'service_id' column of 'compute_nodes'\n  table\n- Make 'name' column of 'key_pairs' table non-nullable\n\nThe resulting diff on MySQL is purely down to index shuffling (for a\nduplicate index, no less) and can be safely ignored:\n\n  --- nova_before.sql     2020-10-20 16:32:32.785134560 +0100\n  +++ nova_after.sql      2020-10-20 16:48:07.679861903 +0100\n  @@ -644,8 +644,8 @@\n     `cleaned` int(11) DEFAULT NULL,\n     `ephemeral_key_uuid` varchar(36) DEFAULT NULL,\n     PRIMARY KEY (`id`),\n  -  UNIQUE KEY `uuid` (`uuid`),\n     UNIQUE KEY `uniq_instances0uuid` (`uuid`),\n  +  UNIQUE KEY `uuid` (`uuid`),\n     KEY `instances_reservation_id_idx` (`reservation_id`),\n     KEY `instances_terminated_at_launched_at_idx` (`terminated_at`,`launched_at`),\n     KEY `instances_task_state_updated_at_idx` (`task_state`,`updated_at`\n\nOnce again, we have a case where we've forgotten to apply a change to\nthe shadow table. We also have a curious case of not having a shadow\ntable for the 'tags' table. Both are handled and can be cleaned up\nlater.\n\nNow that we can rely on the 'instances.uuid' column being unique and\nnon-nullable, we can remove the 'null_instance_uuid_scan' nova-manage\ncommand. This will be done separately.\n\nWIP because this is still failing on SQLite diffs.\n\nChange-Id: I2aae01ed235f1257b0b3ddc6aee4efc7be38eb6e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-10-22 12:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3abb7dc98427243433d4ee1e9842a2a02f048301', 'message': ""db: Compact Kilo database migrations\n\nCompacts Kilo database migrations into a single migration,\n'280_kilo.py'.\n\nUsers will now need to update to Kilo before updating to Liberty of\nlater.\n\nThis change is significantly more complicated than previous compactions,\nmostly due to the changes to indexes specifically for PostgreSQL and\nSQLite.\n\nSpecific changes include:\n\n- Drop duplicate index covering 'host' and 'deleted' field of\n  'instances' table (265)\n- Drop duplicate index covering 'host' field of 'iscsi_targets' table\n  (265)\n- Add 'tags' table (266)\n- Alter 'uuid' column of 'instances' table to be non-nullable (267)\n- Add unique constraint to 'uuid' column of 'instances' table (267)\n- Add 'host' column to 'compute_nodes' table (268)\n- Add unique constraint to 'host' and 'hypervisor_hostname' columns of\n  'compute_nodes' table (268)\n- Add 'numa_node' column to 'pci_devices' table (269)\n- Add 'flavor' column to 'instance_extra' table (270)\n- Add a number of missing indexes to multiple tables on SQLite and\n  PostgreSQL (271)\n- Add a number of missing foreign keys and unique constraints to\n  multiple tables on SQLite (273)\n- Add index covering 'project_id' and 'deleted' columns of 'instances'\n  table (274)\n- Drop index covering 'project_id' column of 'instances' table (274)\n- Add 'type' column to 'key_pairs' table (275)\n- Add 'vcpu_model' column to 'instance_extra' table (276)\n- Add index covering 'deleted', 'allocated', and 'updated_at' columns of\n  'fixed_ips' table (277)\n- Alter 'service_id' column of 'compute_nodes' table to be nullable\n  (278)\n- Drop foreign key constraint on 'service_id' column of 'compute_nodes'\n  table (278)\n- Drop unique constraint covering 'host' and 'hypervisor_hostname'\n  columns of 'compute_nodes' table in favour of constraint covering\n  'host', 'hypervisor_hostname' and 'deleted' columns (279)\n- Alter 'name' column of 'key_pairs' table to be non-nullable (280)\n\nOnce again, we have a case where we've forgotten to apply a change to\nthe shadow table. We also have our first instance of table, the 'tags'\ntable, that does is not soft deletable and therefore does not have a\nshadow table. Both are handled and the former can be resolved later.\n\nAlso note that we encounter a small bug in sqlalchemy-migrate, whereby\ndeclaration of an index before a foreign key that affects the same\ncolumn will result in it attempting to drop the index, even if it was\nnever created. See comments inline.\n\nNow that we can rely on the 'instances.uuid' column being unique and\nnon-nullable, we can remove the 'null_instance_uuid_scan' nova-manage\ncommand. This will be done separately.\n\nChange-Id: I2aae01ed235f1257b0b3ddc6aee4efc7be38eb6e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-10-22 12:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1ae92d356f5d3da051e0b07bef72c2b27abe8ee', 'message': ""db: Compact Kilo database migrations\n\nCompacts Kilo database migrations into a single migration,\n'280_kilo.py'.\n\nUsers will now need to update to Kilo before updating to Liberty of\nlater.\n\nThis change is significantly more complicated than previous compactions,\nmostly due to the changes to indexes specifically for PostgreSQL and\nSQLite.\n\nSpecific changes include:\n\n- Drop duplicate index covering 'host' and 'deleted' field of\n  'instances' table (265)\n- Drop duplicate index covering 'host' field of 'iscsi_targets' table\n  (265)\n- Add 'tags' table (266)\n- Alter 'uuid' column of 'instances' table to be non-nullable (267)\n- Add unique constraint to 'uuid' column of 'instances' table (267)\n- Add 'host' column to 'compute_nodes' table (268)\n- Add unique constraint to 'host' and 'hypervisor_hostname' columns of\n  'compute_nodes' table (268)\n- Add 'numa_node' column to 'pci_devices' table (269)\n- Add 'flavor' column to 'instance_extra' table (270)\n- Add a number of missing indexes to multiple tables on SQLite and\n  PostgreSQL (271)\n- Add a number of missing foreign keys and unique constraints to\n  multiple tables on SQLite (273)\n- Add index covering 'project_id' and 'deleted' columns of 'instances'\n  table (274)\n- Drop index covering 'project_id' column of 'instances' table (274)\n- Add 'type' column to 'key_pairs' table (275)\n- Add 'vcpu_model' column to 'instance_extra' table (276)\n- Add index covering 'deleted', 'allocated', and 'updated_at' columns of\n  'fixed_ips' table (277)\n- Alter 'service_id' column of 'compute_nodes' table to be nullable\n  (278)\n- Drop foreign key constraint on 'service_id' column of 'compute_nodes'\n  table (278)\n- Drop unique constraint covering 'host' and 'hypervisor_hostname'\n  columns of 'compute_nodes' table in favour of constraint covering\n  'host', 'hypervisor_hostname' and 'deleted' columns (279)\n- Alter 'name' column of 'key_pairs' table to be non-nullable (280)\n\nOnce again, we have a case where we've forgotten to apply a change to\nthe shadow table. We also have our first instance of table, the 'tags'\ntable, that does is not soft deletable and therefore does not have a\nshadow table. Both are handled and the former can be resolved later.\n\nAlso note that we encounter a small bug in sqlalchemy-migrate, whereby\ndeclaration of an index before a foreign key that affects the same\ncolumn will result in it attempting to drop the index, even if it was\nnever created. See comments inline.\n\nNow that we can rely on the 'instances.uuid' column being unique and\nnon-nullable, we can remove the 'null_instance_uuid_scan' nova-manage\ncommand. This will be done separately.\n\nChange-Id: I2aae01ed235f1257b0b3ddc6aee4efc7be38eb6e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-10-22 16:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/007b673e8df2670cb2555abea9273205c91f331d', 'message': ""db: Compact Kilo database migrations\n\nCompacts Kilo database migrations into a single migration,\n'280_kilo.py'.\n\nUsers will now need to update to Kilo before updating to Liberty of\nlater.\n\nThis change is significantly more complicated than previous compactions,\nmostly due to the changes to indexes specifically for PostgreSQL and\nSQLite.\n\nSpecific changes include:\n\n- Drop duplicate index covering 'host' and 'deleted' field of\n  'instances' table (265)\n- Drop duplicate index covering 'host' field of 'iscsi_targets' table\n  (265)\n- Add 'tags' table (266)\n- Alter 'uuid' column of 'instances' table to be non-nullable (267)\n- Add unique constraint to 'uuid' column of 'instances' table (267)\n- Add 'host' column to 'compute_nodes' table (268)\n- Add unique constraint to 'host' and 'hypervisor_hostname' columns of\n  'compute_nodes' table (268)\n- Add 'numa_node' column to 'pci_devices' table (269)\n- Add 'flavor' column to 'instance_extra' table (270)\n- Add a number of missing indexes to multiple tables on SQLite and\n  PostgreSQL (271)\n- Add a number of missing foreign keys and unique constraints to\n  multiple tables on SQLite (273)\n- Add index covering 'project_id' and 'deleted' columns of 'instances'\n  table (274)\n- Drop index covering 'project_id' column of 'instances' table (274)\n- Add 'type' column to 'key_pairs' table (275)\n- Add 'vcpu_model' column to 'instance_extra' table (276)\n- Add index covering 'deleted', 'allocated', and 'updated_at' columns of\n  'fixed_ips' table (277)\n- Alter 'service_id' column of 'compute_nodes' table to be nullable\n  (278)\n- Drop foreign key constraint on 'service_id' column of 'compute_nodes'\n  table (278)\n- Drop unique constraint covering 'host' and 'hypervisor_hostname'\n  columns of 'compute_nodes' table in favour of constraint covering\n  'host', 'hypervisor_hostname' and 'deleted' columns (279)\n- Alter 'name' column of 'key_pairs' table to be non-nullable (280)\n\nOnce again, we have a case where we've forgotten to apply a change to\nthe shadow table. We also have our first instance of table, the 'tags'\ntable, that does is not soft deletable and therefore does not have a\nshadow table. Both are handled and the former can be resolved later.\n\nAlso note that we encounter a small bug in sqlalchemy-migrate, whereby\ndeclaration of an index before a foreign key that affects the same\ncolumn will result in it attempting to drop the index, even if it was\nnever created. See comments inline.\n\nNow that we can rely on the 'instances.uuid' column being unique and\nnon-nullable, we can remove the 'null_instance_uuid_scan' nova-manage\ncommand. This will be done separately.\n\nChange-Id: I2aae01ed235f1257b0b3ddc6aee4efc7be38eb6e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2020-10-28 11:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93b95201efdc26a26128d6f8fc4cb4b098780fcd', 'message': ""db: Compact Kilo database migrations\n\nCompacts Kilo database migrations into a single migration,\n'280_kilo.py'.\n\nUsers will now need to update to Kilo before updating to Liberty of\nlater.\n\nThis change is significantly more complicated than previous compactions,\nmostly due to the changes to indexes specifically for PostgreSQL and\nSQLite.\n\nSpecific changes include:\n\n- Drop duplicate index covering 'host' and 'deleted' field of\n  'instances' table (265)\n- Drop duplicate index covering 'host' field of 'iscsi_targets' table\n  (265)\n- Add 'tags' table (266)\n- Alter 'uuid' column of 'instances' table to be non-nullable (267)\n- Add unique constraint to 'uuid' column of 'instances' table (267)\n- Add 'host' column to 'compute_nodes' table (268)\n- Add unique constraint to 'host' and 'hypervisor_hostname' columns of\n  'compute_nodes' table (268)\n- Add 'numa_node' column to 'pci_devices' table (269)\n- Add 'flavor' column to 'instance_extra' table (270)\n- Add a number of missing indexes to multiple tables on SQLite and\n  PostgreSQL (271)\n- Add a number of missing foreign keys and unique constraints to\n  multiple tables on SQLite (273)\n- Add index covering 'project_id' and 'deleted' columns of 'instances'\n  table (274)\n- Drop index covering 'project_id' column of 'instances' table (274)\n- Add 'type' column to 'key_pairs' table (275)\n- Add 'vcpu_model' column to 'instance_extra' table (276)\n- Add index covering 'deleted', 'allocated', and 'updated_at' columns of\n  'fixed_ips' table (277)\n- Alter 'service_id' column of 'compute_nodes' table to be nullable\n  (278)\n- Drop foreign key constraint on 'service_id' column of 'compute_nodes'\n  table (278)\n- Drop unique constraint covering 'host' and 'hypervisor_hostname'\n  columns of 'compute_nodes' table in favour of constraint covering\n  'host', 'hypervisor_hostname' and 'deleted' columns (279)\n- Alter 'name' column of 'key_pairs' table to be non-nullable (280)\n\nOnce again, we have a case where we've forgotten to apply a change to\nthe shadow table. We also have our first instance of table, the 'tags'\ntable, that does is not soft deletable and therefore does not have a\nshadow table. Both are handled and the former can be resolved later.\n\nAlso note that we encounter a small bug in sqlalchemy-migrate, whereby\ndeclaration of an index before a foreign key that affects the same\ncolumn will result in it attempting to drop the index, even if it was\nnever created. See comments inline.\n\nNow that we can rely on the 'instances.uuid' column being unique and\nnon-nullable, we can remove the 'null_instance_uuid_scan' nova-manage\ncommand. This will be done separately.\n\nChange-Id: I2aae01ed235f1257b0b3ddc6aee4efc7be38eb6e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2021-01-07 11:47:59.000000000', 'files': ['nova/db/sqlalchemy/migrate_repo/versions/260_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/275_add_keypair_type.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/272_add_keypair_type.py', 'nova/db/sqlalchemy/migrate_repo/versions/261_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/273_sqlite_foreign_keys.py', 'nova/db/sqlalchemy/migrate_repo/versions/257_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/271_sqlite_postgresql_indexes.py', 'nova/db/sqlalchemy/migrate_repo/versions/279_fix_unique_constraint_for_compute_node.py', 'nova/db/sqlalchemy/migrate_repo/versions/268_add_host_in_compute_node.py', 'nova/db/sqlalchemy/migrate_repo/versions/276_vcpu_model.py', 'nova/db/sqlalchemy/migrate_repo/versions/264_placeholder.py', 'nova/db/sqlalchemy/migration.py', 'nova/db/sqlalchemy/migrate_repo/versions/267_instance_uuid_non_nullable.py', 'nova/db/sqlalchemy/migrate_repo/versions/270_flavor_data_in_extra.py', 'nova/db/sqlalchemy/migrate_repo/versions/256_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/280_kilo.py', 'nova/tests/unit/db/test_sqlalchemy_migration.py', 'nova/db/sqlalchemy/migrate_repo/versions/280_add_nullable_false_to_keypairs_name.py', 'nova/db/sqlalchemy/migrate_repo/versions/266_add_instance_tags.py', 'nova/db/sqlalchemy/migrate_repo/versions/263_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/255_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/269_add_numa_node_column.py', 'nova/db/sqlalchemy/migrate_repo/versions/259_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/258_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/277_add_fixed_ip_updated_index.py', 'nova/db/sqlalchemy/migrate_repo/versions/274_update_instances_project_id_index.py', 'nova/db/sqlalchemy/migrate_repo/versions/262_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/278_remove_service_fk_in_compute_nodes.py', 'nova/db/sqlalchemy/migrate_repo/versions/265_remove_duplicated_index.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b4fc1c141bb90e372742398d127af627706e08b5', 'message': ""db: Compact Kilo database migrations\n\nCompacts Kilo database migrations into a single migration,\n'280_kilo.py'.\n\nUsers will now need to update to Kilo before updating to Liberty of\nlater.\n\nThis change is significantly more complicated than previous compactions,\nmostly due to the changes to indexes specifically for PostgreSQL and\nSQLite.\n\nSpecific changes include:\n\n- Drop duplicate index covering 'host' and 'deleted' field of\n  'instances' table (265)\n- Drop duplicate index covering 'host' field of 'iscsi_targets' table\n  (265)\n- Add 'tags' table (266)\n- Alter 'uuid' column of 'instances' table to be non-nullable (267)\n- Add unique constraint to 'uuid' column of 'instances' table (267)\n- Add 'host' column to 'compute_nodes' table (268)\n- Add unique constraint to 'host' and 'hypervisor_hostname' columns of\n  'compute_nodes' table (268)\n- Add 'numa_node' column to 'pci_devices' table (269)\n- Add 'flavor' column to 'instance_extra' table (270)\n- Add a number of missing indexes to multiple tables on SQLite and\n  PostgreSQL (271)\n- Add a number of missing foreign keys and unique constraints to\n  multiple tables on SQLite (273)\n- Add index covering 'project_id' and 'deleted' columns of 'instances'\n  table (274)\n- Drop index covering 'project_id' column of 'instances' table (274)\n- Add 'type' column to 'key_pairs' table (275)\n- Add 'vcpu_model' column to 'instance_extra' table (276)\n- Add index covering 'deleted', 'allocated', and 'updated_at' columns of\n  'fixed_ips' table (277)\n- Alter 'service_id' column of 'compute_nodes' table to be nullable\n  (278)\n- Drop foreign key constraint on 'service_id' column of 'compute_nodes'\n  table (278)\n- Drop unique constraint covering 'host' and 'hypervisor_hostname'\n  columns of 'compute_nodes' table in favour of constraint covering\n  'host', 'hypervisor_hostname' and 'deleted' columns (279)\n- Alter 'name' column of 'key_pairs' table to be non-nullable (280)\n\nOnce again, we have a case where we've forgotten to apply a change to\nthe shadow table. We also have our first instance of table, the 'tags'\ntable, that does is not soft deletable and therefore does not have a\nshadow table. Both are handled and the former can be resolved later.\n\nAlso note that we encounter a small bug in sqlalchemy-migrate along with\na possible bug in sqlalchemy itself. For the former, declaration of an\nindex before a foreign key that affects the same column will result in\nit attempting to drop the index, even if it was never created. For the\nlatter, attempting to create a table that shares an enum does not work\non PostgreSQL. See comments inline for both issues.\n\nNow that we can rely on the 'instances.uuid' column being unique and\nnon-nullable, we can remove the 'null_instance_uuid_scan' nova-manage\ncommand. This will be done separately.\n\nWhen testing, the previous base version was 253. It is now 279.\n\nChange-Id: I2aae01ed235f1257b0b3ddc6aee4efc7be38eb6e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",24,758396,b4fc1c141bb90e372742398d127af627706e08b5,128,14,7,15334,,,0,"db: Compact Kilo database migrations

Compacts Kilo database migrations into a single migration,
'280_kilo.py'.

Users will now need to update to Kilo before updating to Liberty of
later.

This change is significantly more complicated than previous compactions,
mostly due to the changes to indexes specifically for PostgreSQL and
SQLite.

Specific changes include:

- Drop duplicate index covering 'host' and 'deleted' field of
  'instances' table (265)
- Drop duplicate index covering 'host' field of 'iscsi_targets' table
  (265)
- Add 'tags' table (266)
- Alter 'uuid' column of 'instances' table to be non-nullable (267)
- Add unique constraint to 'uuid' column of 'instances' table (267)
- Add 'host' column to 'compute_nodes' table (268)
- Add unique constraint to 'host' and 'hypervisor_hostname' columns of
  'compute_nodes' table (268)
- Add 'numa_node' column to 'pci_devices' table (269)
- Add 'flavor' column to 'instance_extra' table (270)
- Add a number of missing indexes to multiple tables on SQLite and
  PostgreSQL (271)
- Add a number of missing foreign keys and unique constraints to
  multiple tables on SQLite (273)
- Add index covering 'project_id' and 'deleted' columns of 'instances'
  table (274)
- Drop index covering 'project_id' column of 'instances' table (274)
- Add 'type' column to 'key_pairs' table (275)
- Add 'vcpu_model' column to 'instance_extra' table (276)
- Add index covering 'deleted', 'allocated', and 'updated_at' columns of
  'fixed_ips' table (277)
- Alter 'service_id' column of 'compute_nodes' table to be nullable
  (278)
- Drop foreign key constraint on 'service_id' column of 'compute_nodes'
  table (278)
- Drop unique constraint covering 'host' and 'hypervisor_hostname'
  columns of 'compute_nodes' table in favour of constraint covering
  'host', 'hypervisor_hostname' and 'deleted' columns (279)
- Alter 'name' column of 'key_pairs' table to be non-nullable (280)

Once again, we have a case where we've forgotten to apply a change to
the shadow table. We also have our first instance of table, the 'tags'
table, that does is not soft deletable and therefore does not have a
shadow table. Both are handled and the former can be resolved later.

Also note that we encounter a small bug in sqlalchemy-migrate along with
a possible bug in sqlalchemy itself. For the former, declaration of an
index before a foreign key that affects the same column will result in
it attempting to drop the index, even if it was never created. For the
latter, attempting to create a table that shares an enum does not work
on PostgreSQL. See comments inline for both issues.

Now that we can rely on the 'instances.uuid' column being unique and
non-nullable, we can remove the 'null_instance_uuid_scan' nova-manage
command. This will be done separately.

When testing, the previous base version was 253. It is now 279.

Change-Id: I2aae01ed235f1257b0b3ddc6aee4efc7be38eb6e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/758396/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/migrate_repo/versions/260_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/275_add_keypair_type.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/272_add_keypair_type.py', 'nova/db/sqlalchemy/migrate_repo/versions/261_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/273_sqlite_foreign_keys.py', 'nova/db/sqlalchemy/migrate_repo/versions/257_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/271_sqlite_postgresql_indexes.py', 'nova/db/sqlalchemy/migrate_repo/versions/279_fix_unique_constraint_for_compute_node.py', 'nova/db/sqlalchemy/migrate_repo/versions/268_add_host_in_compute_node.py', 'nova/db/sqlalchemy/migrate_repo/versions/276_vcpu_model.py', 'nova/db/sqlalchemy/migrate_repo/versions/264_placeholder.py', 'nova/db/sqlalchemy/migration.py', 'nova/db/sqlalchemy/migrate_repo/versions/267_instance_uuid_non_nullable.py', 'nova/db/sqlalchemy/migrate_repo/versions/270_flavor_data_in_extra.py', 'nova/db/sqlalchemy/migrate_repo/versions/256_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/280_kilo.py', 'nova/db/sqlalchemy/migrate_repo/versions/280_add_nullable_false_to_keypairs_name.py', 'nova/db/sqlalchemy/migrate_repo/versions/266_add_instance_tags.py', 'nova/db/sqlalchemy/migrate_repo/versions/263_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/255_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/269_add_numa_node_column.py', 'nova/db/sqlalchemy/migrate_repo/versions/259_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/258_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/277_add_fixed_ip_updated_index.py', 'nova/db/sqlalchemy/migrate_repo/versions/302_pgsql_add_instance_system_metadata_index.py', 'nova/db/sqlalchemy/migrate_repo/versions/274_update_instances_project_id_index.py', 'nova/db/sqlalchemy/migrate_repo/versions/262_placeholder.py', 'nova/db/sqlalchemy/migrate_repo/versions/278_remove_service_fk_in_compute_nodes.py', 'nova/db/sqlalchemy/migrate_repo/versions/265_remove_duplicated_index.py']",30,a0b147615f388fc7b88907634788ad1a35ee5d32,bp/compact-db-migrations-wallaby,,"# Copyright 2014 OpenStack Foundation # All Rights Reserved # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from sqlalchemy import MetaData, Table INDEXES = [ # subset of instances_host_deleted_cleaned_idx ('instances', 'instances_host_deleted_idx'), # subset of iscsi_targets_host_volume_id_deleted_idx ('iscsi_targets', 'iscsi_targets_host_idx'), ] def upgrade(migrate_engine): """"""Remove index that are subsets of other indexes."""""" meta = MetaData(bind=migrate_engine) for table_name, index_name in INDEXES: table = Table(table_name, meta, autoload=True) for index in table.indexes: if index.name == index_name: index.drop() ",58,1361
openstack%2Ftripleo-common~stable%2Fussuri~If56cd0fa986ef193d036b73e0ab84a88d59147e3,openstack/tripleo-common,stable/ussuri,If56cd0fa986ef193d036b73e0ab84a88d59147e3,Conditionally use python instead of cURL,MERGED,2021-01-26 11:52:05.000000000,2021-01-30 19:37:22.000000000,2021-01-30 19:35:51.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-26 11:52:05.000000000', 'files': ['healthcheck/http-healthcheck.py', 'healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/120a119279be9416fb7d5c29bcfd96a16c5d932f', 'message': 'Conditionally use python instead of cURL\n\nThe healthcheck_curl has always been a bit bonky with the proxies\nmanagement, especially the ""no_proxy"" environment variable: since there\nisn\'t any real RFC describing the content of this variable, there isn\'t\nany unified handling.\n\nThis leads to situation where an Operator puts some CIDR notation inside\nthis variable, while curl doesn\'t handle it.\n\nThis change adds a new python script. Since it uses python-requests, it\nwill have a proper support for the CIDR notation[1].\n\nIt will be called if and only if either NO_PROXY or no_proxy environment\nvariables are set and non-empty.\n\nOne can also force the script usage by passing HEALTHCHECK_CURL_PY=1,\nsuch as:\npodman exec -e ""HEALTHCHECK_CURL_PY=1"" container /healthchecks/you-healthcheck\n\nThe output is 100% iso-compatible, and if someone wants to know what\nhealthcheck is used, they can check the User-Agent on the target logs.\n\nThis change is motivated by, at least, the following existing issues:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1837458\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1883657\n\n[1] https://github.com/psf/requests/blob/589c4547338b592b1fb77c65663d8aa6fbb7e38b/requests/utils.py#L663-L684\n\nChange-Id: If56cd0fa986ef193d036b73e0ab84a88d59147e3\n(cherry picked from commit 2185d9a8599f4efb79fe38b188bc48e931eba625)\n'}]",0,772410,120a119279be9416fb7d5c29bcfd96a16c5d932f,8,3,1,28223,,,0,"Conditionally use python instead of cURL

The healthcheck_curl has always been a bit bonky with the proxies
management, especially the ""no_proxy"" environment variable: since there
isn't any real RFC describing the content of this variable, there isn't
any unified handling.

This leads to situation where an Operator puts some CIDR notation inside
this variable, while curl doesn't handle it.

This change adds a new python script. Since it uses python-requests, it
will have a proper support for the CIDR notation[1].

It will be called if and only if either NO_PROXY or no_proxy environment
variables are set and non-empty.

One can also force the script usage by passing HEALTHCHECK_CURL_PY=1,
such as:
podman exec -e ""HEALTHCHECK_CURL_PY=1"" container /healthchecks/you-healthcheck

The output is 100% iso-compatible, and if someone wants to know what
healthcheck is used, they can check the User-Agent on the target logs.

This change is motivated by, at least, the following existing issues:
https://bugzilla.redhat.com/show_bug.cgi?id=1837458
https://bugzilla.redhat.com/show_bug.cgi?id=1883657

[1] https://github.com/psf/requests/blob/589c4547338b592b1fb77c65663d8aa6fbb7e38b/requests/utils.py#L663-L684

Change-Id: If56cd0fa986ef193d036b73e0ab84a88d59147e3
(cherry picked from commit 2185d9a8599f4efb79fe38b188bc48e931eba625)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/10/772410/1 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/http-healthcheck.py', 'healthcheck/common.sh']",2,120a119279be9416fb7d5c29bcfd96a16c5d932f,healthcheck/http-stable/ussuri,": ${HEALTHCHECK_CURL_PY_USER_AGENT:=pyrequests-healthcheck} if [ -n ""${HEALTHCHECK_CURL_PY+x}"" ] || [ -n ""${no_proxy+x}"" ] || [ -n ""${NO_PROXY+x}"" ]; then ${HEALTHCHECK_SCRIPTS:-/usr/share/openstack-tripleo-common/healthcheck}/http-healthcheck.py \ --max-time ""${HEALTHCHECK_CURL_MAX_TIME}"" \ --user-agent ""${HEALTHCHECK_CURL_PY_USER_AGENT}"" \ --write-out ""${HEALTHCHECK_CURL_WRITE_OUT}"" \ ""$@"" || return 1 else curl -g -k -q -s -S --fail -o ""${HEALTHCHECK_CURL_OUTPUT}"" \ fi"," curl -g -k -q -s -S --fail -o ""${HEALTHCHECK_CURL_OUTPUT}"" \",54,1
openstack%2Ftripleo-common~stable%2Fvictoria~If56cd0fa986ef193d036b73e0ab84a88d59147e3,openstack/tripleo-common,stable/victoria,If56cd0fa986ef193d036b73e0ab84a88d59147e3,Conditionally use python instead of cURL,MERGED,2021-01-26 11:52:37.000000000,2021-01-30 18:33:43.000000000,2021-01-30 18:31:15.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-26 11:52:37.000000000', 'files': ['healthcheck/http-healthcheck.py', 'healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7c71108ae5d50fe7d78b81ed770e75a7a293e6f0', 'message': 'Conditionally use python instead of cURL\n\nThe healthcheck_curl has always been a bit bonky with the proxies\nmanagement, especially the ""no_proxy"" environment variable: since there\nisn\'t any real RFC describing the content of this variable, there isn\'t\nany unified handling.\n\nThis leads to situation where an Operator puts some CIDR notation inside\nthis variable, while curl doesn\'t handle it.\n\nThis change adds a new python script. Since it uses python-requests, it\nwill have a proper support for the CIDR notation[1].\n\nIt will be called if and only if either NO_PROXY or no_proxy environment\nvariables are set and non-empty.\n\nOne can also force the script usage by passing HEALTHCHECK_CURL_PY=1,\nsuch as:\npodman exec -e ""HEALTHCHECK_CURL_PY=1"" container /healthchecks/you-healthcheck\n\nThe output is 100% iso-compatible, and if someone wants to know what\nhealthcheck is used, they can check the User-Agent on the target logs.\n\nThis change is motivated by, at least, the following existing issues:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1837458\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1883657\n\n[1] https://github.com/psf/requests/blob/589c4547338b592b1fb77c65663d8aa6fbb7e38b/requests/utils.py#L663-L684\n\nChange-Id: If56cd0fa986ef193d036b73e0ab84a88d59147e3\n(cherry picked from commit 2185d9a8599f4efb79fe38b188bc48e931eba625)\n'}]",0,772411,7c71108ae5d50fe7d78b81ed770e75a7a293e6f0,8,3,1,28223,,,0,"Conditionally use python instead of cURL

The healthcheck_curl has always been a bit bonky with the proxies
management, especially the ""no_proxy"" environment variable: since there
isn't any real RFC describing the content of this variable, there isn't
any unified handling.

This leads to situation where an Operator puts some CIDR notation inside
this variable, while curl doesn't handle it.

This change adds a new python script. Since it uses python-requests, it
will have a proper support for the CIDR notation[1].

It will be called if and only if either NO_PROXY or no_proxy environment
variables are set and non-empty.

One can also force the script usage by passing HEALTHCHECK_CURL_PY=1,
such as:
podman exec -e ""HEALTHCHECK_CURL_PY=1"" container /healthchecks/you-healthcheck

The output is 100% iso-compatible, and if someone wants to know what
healthcheck is used, they can check the User-Agent on the target logs.

This change is motivated by, at least, the following existing issues:
https://bugzilla.redhat.com/show_bug.cgi?id=1837458
https://bugzilla.redhat.com/show_bug.cgi?id=1883657

[1] https://github.com/psf/requests/blob/589c4547338b592b1fb77c65663d8aa6fbb7e38b/requests/utils.py#L663-L684

Change-Id: If56cd0fa986ef193d036b73e0ab84a88d59147e3
(cherry picked from commit 2185d9a8599f4efb79fe38b188bc48e931eba625)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/11/772411/1 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/http-healthcheck.py', 'healthcheck/common.sh']",2,7c71108ae5d50fe7d78b81ed770e75a7a293e6f0,healthcheck/http-stable/victoria,": ${HEALTHCHECK_CURL_PY_USER_AGENT:=pyrequests-healthcheck} if [ -n ""${HEALTHCHECK_CURL_PY+x}"" ] || [ -n ""${no_proxy+x}"" ] || [ -n ""${NO_PROXY+x}"" ]; then ${HEALTHCHECK_SCRIPTS:-/usr/share/openstack-tripleo-common/healthcheck}/http-healthcheck.py \ --max-time ""${HEALTHCHECK_CURL_MAX_TIME}"" \ --user-agent ""${HEALTHCHECK_CURL_PY_USER_AGENT}"" \ --write-out ""${HEALTHCHECK_CURL_WRITE_OUT}"" \ ""$@"" || return 1 else curl -g -k -q -s -S --fail -o ""${HEALTHCHECK_CURL_OUTPUT}"" \ fi"," curl -g -k -q -s -S --fail -o ""${HEALTHCHECK_CURL_OUTPUT}"" \",54,1
openstack%2Ftripleo-common~stable%2Fussuri~I98dbbaaea25a0d61674e989eca8d2daf6090ebc4,openstack/tripleo-common,stable/ussuri,I98dbbaaea25a0d61674e989eca8d2daf6090ebc4,Cleanup and add test coverage for inventory without overcloud,MERGED,2020-12-11 12:19:57.000000000,2021-01-30 18:32:43.000000000,2021-01-30 18:30:50.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-12-11 12:19:57.000000000', 'files': ['tripleo_common/tests/inventory_data/undercloud_static.yaml', 'tripleo_common/inventories.py', 'tripleo_common/tests/inventory_data/undercloud_dynamic.json', 'tripleo_common/tests/test_inventories.py', 'tripleo_common/tests/inventory_data/undercloud_dynamic_merged.json', 'tripleo_common/inventory.py', 'tripleo_common/tests/inventory_data/undercloud_static_merged.yaml', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6be18f31ffb62e28a2c73822af84c1966b9112d4', 'message': 'Cleanup and add test coverage for inventory without overcloud\n\nThis should generate an inventory containing just the Undercloud group.\nThere are a few vars being set that do not make sense in this case e.g\nplan/plans and overcloud admin password. Clean this up and add unit tests.\n\nChange-Id: I98dbbaaea25a0d61674e989eca8d2daf6090ebc4\n(cherry picked from commit 43fa36d3c274e00a362e366ffd5beaf46ac29423)\n(cherry picked from commit 9d292a63e1af5d6684f8216725437310d853561b)\n'}]",0,766722,6be18f31ffb62e28a2c73822af84c1966b9112d4,16,5,1,23811,,,0,"Cleanup and add test coverage for inventory without overcloud

This should generate an inventory containing just the Undercloud group.
There are a few vars being set that do not make sense in this case e.g
plan/plans and overcloud admin password. Clean this up and add unit tests.

Change-Id: I98dbbaaea25a0d61674e989eca8d2daf6090ebc4
(cherry picked from commit 43fa36d3c274e00a362e366ffd5beaf46ac29423)
(cherry picked from commit 9d292a63e1af5d6684f8216725437310d853561b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/22/766722/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/inventory_data/undercloud_static.yaml', 'tripleo_common/inventories.py', 'tripleo_common/tests/inventory_data/undercloud_dynamic.json', 'tripleo_common/tests/test_inventories.py', 'tripleo_common/tests/inventory_data/undercloud_dynamic_merged.json', 'tripleo_common/inventory.py', 'tripleo_common/tests/inventory_data/undercloud_static_merged.yaml', 'tripleo_common/tests/test_inventory.py']",8,6be18f31ffb62e28a2c73822af84c1966b9112d4,," def test_inventory_list_undercloud_only(self): self.inventory.plan_name = None self.inventory.undercloud_connection = 'local' expected = { 'Undercloud': { 'hosts': ['undercloud'], 'vars': { 'ansible_connection': 'local', 'ansible_host': 'localhost', 'ansible_python_interpreter': sys.executable, 'ansible_remote_tmp': '/tmp/ansible-${USER}', 'auth_url': 'xyz://keystone.local', 'cacert': 'acacert', 'project_name': 'admin', 'plan': None, 'undercloud_service_list': [ 'tripleo_nova_compute', 'tripleo_heat_engine', 'tripleo_ironic_conductor', 'tripleo_swift_container_server', 'tripleo_swift_object_server', 'tripleo_mistral_engine' ], 'username': 'admin' } }, '_meta': {'hostvars': {}}, } self.assertEqual(expected, self.inventory.list()) ",,183,9
openstack%2Ftripleo-common~stable%2Fvictoria~I98dbbaaea25a0d61674e989eca8d2daf6090ebc4,openstack/tripleo-common,stable/victoria,I98dbbaaea25a0d61674e989eca8d2daf6090ebc4,Cleanup and add test coverage for inventory without overcloud,MERGED,2020-12-11 12:18:23.000000000,2021-01-30 18:32:42.000000000,2021-01-30 18:30:43.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-11 12:18:23.000000000', 'files': ['tripleo_common/tests/inventory_data/undercloud_static.yaml', 'tripleo_common/inventories.py', 'tripleo_common/tests/inventory_data/undercloud_dynamic.json', 'tripleo_common/tests/test_inventories.py', 'tripleo_common/tests/inventory_data/undercloud_dynamic_merged.json', 'tripleo_common/inventory.py', 'tripleo_common/tests/inventory_data/undercloud_static_merged.yaml', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9d292a63e1af5d6684f8216725437310d853561b', 'message': 'Cleanup and add test coverage for inventory without overcloud\n\nThis should generate an inventory containing just the Undercloud group.\nThere are a few vars being set that do not make sense in this case e.g\nplan/plans and overcloud admin password. Clean this up and add unit tests.\n\nChange-Id: I98dbbaaea25a0d61674e989eca8d2daf6090ebc4\n(cherry picked from commit 43fa36d3c274e00a362e366ffd5beaf46ac29423)\n'}]",0,766721,9d292a63e1af5d6684f8216725437310d853561b,12,4,1,23811,,,0,"Cleanup and add test coverage for inventory without overcloud

This should generate an inventory containing just the Undercloud group.
There are a few vars being set that do not make sense in this case e.g
plan/plans and overcloud admin password. Clean this up and add unit tests.

Change-Id: I98dbbaaea25a0d61674e989eca8d2daf6090ebc4
(cherry picked from commit 43fa36d3c274e00a362e366ffd5beaf46ac29423)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/21/766721/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/inventory_data/undercloud_static.yaml', 'tripleo_common/inventories.py', 'tripleo_common/tests/inventory_data/undercloud_dynamic.json', 'tripleo_common/tests/test_inventories.py', 'tripleo_common/tests/inventory_data/undercloud_dynamic_merged.json', 'tripleo_common/inventory.py', 'tripleo_common/tests/inventory_data/undercloud_static_merged.yaml', 'tripleo_common/tests/test_inventory.py']",8,9d292a63e1af5d6684f8216725437310d853561b,," def test_inventory_list_undercloud_only(self): self.inventory.plan_name = None self.inventory.undercloud_connection = 'local' expected = { 'Undercloud': { 'hosts': ['undercloud'], 'vars': { 'ansible_connection': 'local', 'ansible_host': 'localhost', 'ansible_python_interpreter': sys.executable, 'ansible_remote_tmp': '/tmp/ansible-${USER}', 'auth_url': 'xyz://keystone.local', 'cacert': 'acacert', 'project_name': 'admin', 'plan': None, 'undercloud_service_list': [ 'tripleo_nova_compute', 'tripleo_heat_engine', 'tripleo_ironic_conductor', 'tripleo_swift_container_server', 'tripleo_swift_object_server', 'tripleo_mistral_engine' ], 'username': 'admin' } }, '_meta': {'hostvars': {}}, } self.assertEqual(expected, self.inventory.list()) ",,183,9
openstack%2Ftripleo-common~stable%2Ftrain~I98dbbaaea25a0d61674e989eca8d2daf6090ebc4,openstack/tripleo-common,stable/train,I98dbbaaea25a0d61674e989eca8d2daf6090ebc4,Cleanup and add test coverage for inventory without overcloud,MERGED,2020-12-11 12:44:46.000000000,2021-01-30 18:32:34.000000000,2021-01-30 18:31:08.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-11 12:44:46.000000000', 'files': ['tripleo_common/tests/inventory_data/undercloud_static.yaml', 'tripleo_common/inventories.py', 'tripleo_common/tests/inventory_data/undercloud_dynamic.json', 'tripleo_common/tests/test_inventories.py', 'tripleo_common/tests/inventory_data/undercloud_dynamic_merged.json', 'tripleo_common/inventory.py', 'tripleo_common/tests/inventory_data/undercloud_static_merged.yaml', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8b37b05ea83c874d137c9bdc682660f4bc0fce38', 'message': 'Cleanup and add test coverage for inventory without overcloud\n\nThis should generate an inventory containing just the Undercloud group.\nThere are a few vars being set that do not make sense in this case e.g\nplan/plans and overcloud admin password. Clean this up and add unit tests.\n\nChange-Id: I98dbbaaea25a0d61674e989eca8d2daf6090ebc4\n(cherry picked from commit 43fa36d3c274e00a362e366ffd5beaf46ac29423)\n(cherry picked from commit 9d292a63e1af5d6684f8216725437310d853561b)\n(cherry picked from commit 6be18f31ffb62e28a2c73822af84c1966b9112d4)\n'}]",0,766727,8b37b05ea83c874d137c9bdc682660f4bc0fce38,12,4,1,23811,,,0,"Cleanup and add test coverage for inventory without overcloud

This should generate an inventory containing just the Undercloud group.
There are a few vars being set that do not make sense in this case e.g
plan/plans and overcloud admin password. Clean this up and add unit tests.

Change-Id: I98dbbaaea25a0d61674e989eca8d2daf6090ebc4
(cherry picked from commit 43fa36d3c274e00a362e366ffd5beaf46ac29423)
(cherry picked from commit 9d292a63e1af5d6684f8216725437310d853561b)
(cherry picked from commit 6be18f31ffb62e28a2c73822af84c1966b9112d4)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/27/766727/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/inventory_data/undercloud_static.yaml', 'tripleo_common/inventories.py', 'tripleo_common/tests/inventory_data/undercloud_dynamic.json', 'tripleo_common/tests/test_inventories.py', 'tripleo_common/tests/inventory_data/undercloud_dynamic_merged.json', 'tripleo_common/inventory.py', 'tripleo_common/tests/inventory_data/undercloud_static_merged.yaml', 'tripleo_common/tests/test_inventory.py']",8,8b37b05ea83c874d137c9bdc682660f4bc0fce38,," def test_inventory_list_undercloud_only(self): self.inventory.plan_name = None self.inventory.undercloud_connection = 'local' expected = { 'Undercloud': { 'hosts': ['undercloud'], 'vars': { 'ansible_connection': 'local', 'ansible_host': 'localhost', 'ansible_python_interpreter': sys.executable, 'ansible_remote_tmp': '/tmp/ansible-${USER}', 'auth_url': 'xyz://keystone.local', 'cacert': 'acacert', 'os_auth_token': 'atoken', 'project_name': 'admin', 'plan': None, 'undercloud_service_list': [ 'tripleo_nova_compute', 'tripleo_heat_engine', 'tripleo_ironic_conductor', 'tripleo_swift_container_server', 'tripleo_swift_object_server', 'tripleo_mistral_engine' ], 'undercloud_swift_url': 'anendpoint', 'username': 'admin' } }, '_meta': {'hostvars': {}}, } self.assertEqual(expected, self.inventory.list()) ",,191,9
openstack%2Ftripleo-validations~stable%2Ftrain~Idf4269a2ae5ce9863e1eda2f824e7a9fc93847d2,openstack/tripleo-validations,stable/train,Idf4269a2ae5ce9863e1eda2f824e7a9fc93847d2,Generate inventory without any overcloud,MERGED,2021-01-26 05:42:31.000000000,2021-01-30 18:31:12.000000000,2021-01-30 18:31:12.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-01-26 05:42:31.000000000', 'files': ['scripts/tripleo-ansible-inventory', 'tripleo_validations/utils.py', 'tripleo_validations/constants.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f79d6f79ec040b6194f03e6e17a94b15a264644b', 'message': 'Generate inventory without any overcloud\n\nWhen no overcloud is deployed, we forced to pass the overcloud\nhardcoded value to the inventory.\nWe should, if no --plan or --stack passed, check if there is\nplans or stacks on the environment.\nIf so, used it, if not then just generate undercloud inventory\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/766727\nChange-Id: Idf4269a2ae5ce9863e1eda2f824e7a9fc93847d2\n(cherry picked from commit e9b33aefdc447063b8150342415ae49192875e09)\n(cherry picked from commit 1a93c3c9094f1badafc26539998b7c2ef0ff57db)\n(cherry picked from commit 29a859089a292252c116f8b49fbdc5d2be5e2843)\n'}]",0,772470,f79d6f79ec040b6194f03e6e17a94b15a264644b,7,8,1,11491,,,0,"Generate inventory without any overcloud

When no overcloud is deployed, we forced to pass the overcloud
hardcoded value to the inventory.
We should, if no --plan or --stack passed, check if there is
plans or stacks on the environment.
If so, used it, if not then just generate undercloud inventory

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/766727
Change-Id: Idf4269a2ae5ce9863e1eda2f824e7a9fc93847d2
(cherry picked from commit e9b33aefdc447063b8150342415ae49192875e09)
(cherry picked from commit 1a93c3c9094f1badafc26539998b7c2ef0ff57db)
(cherry picked from commit 29a859089a292252c116f8b49fbdc5d2be5e2843)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/70/772470/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/tripleo-ansible-inventory', 'tripleo_validations/utils.py', 'tripleo_validations/constants.py']",3,f79d6f79ec040b6194f03e6e17a94b15a264644b,train,"# Copyright 2015 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # TRIPLEO_META_USAGE_KEY is inserted into metadata for containers created in # Swift via SwiftPlanStorageBackend to identify them from other containers TRIPLEO_META_USAGE_KEY = 'x-container-meta-usage-tripleo' ",,77,15
openstack%2Ftripleo-validations~stable%2Fussuri~Idf4269a2ae5ce9863e1eda2f824e7a9fc93847d2,openstack/tripleo-validations,stable/ussuri,Idf4269a2ae5ce9863e1eda2f824e7a9fc93847d2,Generate inventory without any overcloud,MERGED,2021-01-26 05:40:02.000000000,2021-01-30 18:30:53.000000000,2021-01-30 18:30:53.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-01-26 05:40:02.000000000', 'files': ['scripts/tripleo-ansible-inventory', 'tripleo_validations/utils.py', 'tripleo_validations/constants.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/29a859089a292252c116f8b49fbdc5d2be5e2843', 'message': 'Generate inventory without any overcloud\n\nWhen no overcloud is deployed, we forced to pass the overcloud\nhardcoded value to the inventory.\nWe should, if no --plan or --stack passed, check if there is\nplans or stacks on the environment.\nIf so, used it, if not then just generate undercloud inventory\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/766722\nChange-Id: Idf4269a2ae5ce9863e1eda2f824e7a9fc93847d2\n(cherry picked from commit e9b33aefdc447063b8150342415ae49192875e09)\n(cherry picked from commit 1a93c3c9094f1badafc26539998b7c2ef0ff57db)\n'}]",0,772469,29a859089a292252c116f8b49fbdc5d2be5e2843,7,8,1,11491,,,0,"Generate inventory without any overcloud

When no overcloud is deployed, we forced to pass the overcloud
hardcoded value to the inventory.
We should, if no --plan or --stack passed, check if there is
plans or stacks on the environment.
If so, used it, if not then just generate undercloud inventory

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/766722
Change-Id: Idf4269a2ae5ce9863e1eda2f824e7a9fc93847d2
(cherry picked from commit e9b33aefdc447063b8150342415ae49192875e09)
(cherry picked from commit 1a93c3c9094f1badafc26539998b7c2ef0ff57db)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/69/772469/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/tripleo-ansible-inventory', 'tripleo_validations/utils.py', 'tripleo_validations/constants.py']",3,29a859089a292252c116f8b49fbdc5d2be5e2843,ussuri,"# Copyright 2015 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # TRIPLEO_META_USAGE_KEY is inserted into metadata for containers created in # Swift via SwiftPlanStorageBackend to identify them from other containers TRIPLEO_META_USAGE_KEY = 'x-container-meta-usage-tripleo' ",,77,15
openstack%2Ftripleo-validations~stable%2Fvictoria~Idf4269a2ae5ce9863e1eda2f824e7a9fc93847d2,openstack/tripleo-validations,stable/victoria,Idf4269a2ae5ce9863e1eda2f824e7a9fc93847d2,Generate inventory without any overcloud,MERGED,2021-01-26 05:39:45.000000000,2021-01-30 18:30:46.000000000,2021-01-30 18:30:46.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-01-26 05:39:45.000000000', 'files': ['scripts/tripleo-ansible-inventory', 'tripleo_validations/utils.py', 'tripleo_validations/constants.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1a93c3c9094f1badafc26539998b7c2ef0ff57db', 'message': 'Generate inventory without any overcloud\n\nWhen no overcloud is deployed, we forced to pass the overcloud\nhardcoded value to the inventory.\nWe should, if no --plan or --stack passed, check if there is\nplans or stacks on the environment.\nIf so, used it, if not then just generate undercloud inventory\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/766721\nChange-Id: Idf4269a2ae5ce9863e1eda2f824e7a9fc93847d2\n(cherry picked from commit e9b33aefdc447063b8150342415ae49192875e09)\n'}]",0,772468,1a93c3c9094f1badafc26539998b7c2ef0ff57db,9,8,1,11491,,,0,"Generate inventory without any overcloud

When no overcloud is deployed, we forced to pass the overcloud
hardcoded value to the inventory.
We should, if no --plan or --stack passed, check if there is
plans or stacks on the environment.
If so, used it, if not then just generate undercloud inventory

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/766721
Change-Id: Idf4269a2ae5ce9863e1eda2f824e7a9fc93847d2
(cherry picked from commit e9b33aefdc447063b8150342415ae49192875e09)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/68/772468/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/tripleo-ansible-inventory', 'tripleo_validations/utils.py', 'tripleo_validations/constants.py']",3,1a93c3c9094f1badafc26539998b7c2ef0ff57db,victoria,"# Copyright 2015 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # TRIPLEO_META_USAGE_KEY is inserted into metadata for containers created in # Swift via SwiftPlanStorageBackend to identify them from other containers TRIPLEO_META_USAGE_KEY = 'x-container-meta-usage-tripleo' ",,77,15
openstack%2Ftripleo-common~stable%2Ftrain~I037f6bdd470f521b73bdfadb45f91b31321b0b01,openstack/tripleo-common,stable/train,I037f6bdd470f521b73bdfadb45f91b31321b0b01,Switch gnocchi-statsd HC to healthcheck_port,MERGED,2021-01-20 10:28:05.000000000,2021-01-30 18:11:28.000000000,2021-01-30 18:10:16.000000000,"[{'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-20 10:28:05.000000000', 'files': ['healthcheck/gnocchi-statsd'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dfb625e93714864c24307a535c7096a311852a0c', 'message': 'Switch gnocchi-statsd HC to healthcheck_port\n\nThe currently used healthcheck_listen does not work for UDP protocol\nsince it was switched from ss usage to lsof usage and statsd is listening\non UDP:8125.\n\nClose-Bug: #1907485\nChange-Id: I037f6bdd470f521b73bdfadb45f91b31321b0b01\n(cherry picked from commit e78172909a9f817ce8b11372d6e7a8636d7972df)\n'}]",0,771554,dfb625e93714864c24307a535c7096a311852a0c,10,5,1,5241,,,0,"Switch gnocchi-statsd HC to healthcheck_port

The currently used healthcheck_listen does not work for UDP protocol
since it was switched from ss usage to lsof usage and statsd is listening
on UDP:8125.

Close-Bug: #1907485
Change-Id: I037f6bdd470f521b73bdfadb45f91b31321b0b01
(cherry picked from commit e78172909a9f817ce8b11372d6e7a8636d7972df)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/54/771554/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/gnocchi-statsd'],1,dfb625e93714864c24307a535c7096a311852a0c,gnocchi-statsd-fix-stable/victoria-stable/ussuri-stable/train,if ! healthcheck_port $process $bind_port; then,if ! healthcheck_listen $process $bind_port; then,1,1
openstack%2Ftripleo-common~stable%2Fussuri~I037f6bdd470f521b73bdfadb45f91b31321b0b01,openstack/tripleo-common,stable/ussuri,I037f6bdd470f521b73bdfadb45f91b31321b0b01,Switch gnocchi-statsd HC to healthcheck_port,MERGED,2021-01-20 10:27:40.000000000,2021-01-30 18:06:53.000000000,2021-01-30 18:05:24.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-20 10:27:40.000000000', 'files': ['healthcheck/gnocchi-statsd'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6617fb6eba441a9629f3b5aac97c9cb057f6d8f7', 'message': 'Switch gnocchi-statsd HC to healthcheck_port\n\nThe currently used healthcheck_listen does not work for UDP protocol\nsince it was switched from ss usage to lsof usage and statsd is listening\non UDP:8125.\n\nClose-Bug: #1907485\nChange-Id: I037f6bdd470f521b73bdfadb45f91b31321b0b01\n(cherry picked from commit e78172909a9f817ce8b11372d6e7a8636d7972df)\n'}]",0,771552,6617fb6eba441a9629f3b5aac97c9cb057f6d8f7,9,4,1,5241,,,0,"Switch gnocchi-statsd HC to healthcheck_port

The currently used healthcheck_listen does not work for UDP protocol
since it was switched from ss usage to lsof usage and statsd is listening
on UDP:8125.

Close-Bug: #1907485
Change-Id: I037f6bdd470f521b73bdfadb45f91b31321b0b01
(cherry picked from commit e78172909a9f817ce8b11372d6e7a8636d7972df)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/52/771552/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/gnocchi-statsd'],1,6617fb6eba441a9629f3b5aac97c9cb057f6d8f7,gnocchi-statsd-fix-stable/victoria-stable/ussuri,if ! healthcheck_port $process $bind_port; then,if ! healthcheck_listen $process $bind_port; then,1,1
openstack%2Ftripleo-common~stable%2Fvictoria~I037f6bdd470f521b73bdfadb45f91b31321b0b01,openstack/tripleo-common,stable/victoria,I037f6bdd470f521b73bdfadb45f91b31321b0b01,Switch gnocchi-statsd HC to healthcheck_port,MERGED,2021-01-20 10:26:53.000000000,2021-01-30 18:06:45.000000000,2021-01-30 18:05:20.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-20 10:26:53.000000000', 'files': ['healthcheck/gnocchi-statsd'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/440e1ac71687f4591bc4b3f518b0c9443fea0013', 'message': 'Switch gnocchi-statsd HC to healthcheck_port\n\nThe currently used healthcheck_listen does not work for UDP protocol\nsince it was switched from ss usage to lsof usage and statsd is listening\non UDP:8125.\n\nClose-Bug: #1907485\nChange-Id: I037f6bdd470f521b73bdfadb45f91b31321b0b01\n(cherry picked from commit e78172909a9f817ce8b11372d6e7a8636d7972df)\n'}]",0,771551,440e1ac71687f4591bc4b3f518b0c9443fea0013,9,4,1,5241,,,0,"Switch gnocchi-statsd HC to healthcheck_port

The currently used healthcheck_listen does not work for UDP protocol
since it was switched from ss usage to lsof usage and statsd is listening
on UDP:8125.

Close-Bug: #1907485
Change-Id: I037f6bdd470f521b73bdfadb45f91b31321b0b01
(cherry picked from commit e78172909a9f817ce8b11372d6e7a8636d7972df)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/51/771551/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/gnocchi-statsd'],1,440e1ac71687f4591bc4b3f518b0c9443fea0013,gnocchi-statsd-fix-stable/victoria,if ! healthcheck_port $process $bind_port; then,if ! healthcheck_listen $process $bind_port; then,1,1
openstack%2Fnova~master~If31d4b55056aac63d8ada5b4da68ebfd16c2ec0c,openstack/nova,master,If31d4b55056aac63d8ada5b4da68ebfd16c2ec0c,libvirt: Remove 'hypervisor_version' from 'libvirt_info',MERGED,2020-07-31 15:15:03.000000000,2021-01-30 17:55:59.000000000,2021-01-30 17:54:04.000000000,"[{'_account_id': 6962}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}, {'_account_id': 32231}]","[{'number': 1, 'created': '2020-07-31 15:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2906e9c9f61e6f7c27f483da0369f2bd15c18d17', 'message': ""libvirt: Remove 'hypervisor_version' from 'libvirt_info'\n\nThis is unnecessary since I73305e82da5d8da548961b801a8e75fb0e8c4cf1.\n\nChange-Id: If31d4b55056aac63d8ada5b4da68ebfd16c2ec0c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-08-04 13:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa44f525e5e6e12f913476bb33aeba68aac4b9cf', 'message': ""libvirt: Remove 'hypervisor_version' from 'libvirt_info'\n\nThis is unnecessary since I73305e82da5d8da548961b801a8e75fb0e8c4cf1.\n\nChange-Id: If31d4b55056aac63d8ada5b4da68ebfd16c2ec0c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-08-05 12:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d562d9777e967b5d77920069dde615093a8651d', 'message': ""libvirt: Remove 'hypervisor_version' from 'libvirt_info'\n\nThis is unnecessary since I73305e82da5d8da548961b801a8e75fb0e8c4cf1.\n\nChange-Id: If31d4b55056aac63d8ada5b4da68ebfd16c2ec0c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-08-31 11:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c55f128bcf7827bcd6d020338c0f5cad45de1fc', 'message': ""libvirt: Remove 'hypervisor_version' from 'libvirt_info'\n\nThis is unnecessary since I73305e82da5d8da548961b801a8e75fb0e8c4cf1.\n\nChange-Id: If31d4b55056aac63d8ada5b4da68ebfd16c2ec0c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-08-31 13:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b3c334d7f31c7c9a83af5c82403a74e9035520c', 'message': ""libvirt: Remove 'hypervisor_version' from 'libvirt_info'\n\nThis is unnecessary since I73305e82da5d8da548961b801a8e75fb0e8c4cf1.\n\nChange-Id: If31d4b55056aac63d8ada5b4da68ebfd16c2ec0c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-01-18 12:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51b982049abe765f4a4f7c1ed2848f9d9a939c59', 'message': ""libvirt: Remove 'hypervisor_version' from 'libvirt_info'\n\nThis is unnecessary since I73305e82da5d8da548961b801a8e75fb0e8c4cf1.\n\nChange-Id: If31d4b55056aac63d8ada5b4da68ebfd16c2ec0c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2021-01-18 16:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0313575de61c89258d11ed3c0fd94af91a5dd15e', 'message': ""libvirt: Remove 'hypervisor_version' from 'libvirt_info'\n\nThis is unnecessary since I73305e82da5d8da548961b801a8e75fb0e8c4cf1.\n\nChange-Id: If31d4b55056aac63d8ada5b4da68ebfd16c2ec0c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2021-01-22 12:02:15.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/tests/unit/virt/libvirt/fake_imagebackend.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ee603927b060916d5148826fae7821c2dd565464', 'message': ""libvirt: Remove 'hypervisor_version' from 'libvirt_info'\n\nThis is unnecessary since I73305e82da5d8da548961b801a8e75fb0e8c4cf1.\n\nChange-Id: If31d4b55056aac63d8ada5b4da68ebfd16c2ec0c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,744199,ee603927b060916d5148826fae7821c2dd565464,95,17,8,15334,,,0,"libvirt: Remove 'hypervisor_version' from 'libvirt_info'

This is unnecessary since I73305e82da5d8da548961b801a8e75fb0e8c4cf1.

Change-Id: If31d4b55056aac63d8ada5b4da68ebfd16c2ec0c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/744199/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/tests/unit/virt/libvirt/fake_imagebackend.py', 'nova/virt/libvirt/imagebackend.py']",4,2906e9c9f61e6f7c27f483da0369f2bd15c18d17,bp/remove-deprecated-libvirt-virt-types," def libvirt_info( self, disk_info, cache_mode, extra_specs, boot_order=None, disk_unit=None, ): def libvirt_info( self, disk_info, cache_mode, extra_specs, boot_order=None, disk_unit=None, ):"," # TODO(stephenfin): Remove the unused hypervisor_version parameter def libvirt_info(self, disk_info, cache_mode, extra_specs, boot_order=None, disk_unit=None): # TODO(stephenfin): Remove the unused hypervisor_version parameter def libvirt_info(self, disk_info, cache_mode, extra_specs, boot_order=None, disk_unit=None):",19,22
openstack%2Fnova~master~I017083b27cd9d145eecb01106388d4ce880ba823,openstack/nova,master,I017083b27cd9d145eecb01106388d4ce880ba823,"libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION and NEXT_MIN_{LIBVIRT,QEMU}_VERSION",MERGED,2020-09-28 12:48:02.000000000,2021-01-30 17:53:12.000000000,2021-01-30 17:51:40.000000000,"[{'_account_id': 6962}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-28 12:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7f3582a879d201bfb246c6703371dc49c262718', 'message': 'WIP libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION and NEXT_MIN_{LIBVIRT,QEMU}_VERSION\n\nChange-Id: I017083b27cd9d145eecb01106388d4ce880ba823\n'}, {'number': 2, 'created': '2021-01-14 14:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce8531d62d7c50246cfb094383796f0316791f85', 'message': 'WIP libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION and NEXT_MIN_{LIBVIRT,QEMU}_VERSION\n\nChange-Id: I017083b27cd9d145eecb01106388d4ce880ba823\n'}, {'number': 3, 'created': '2021-01-15 08:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d138d856593a8674c408fb125f2668aff26c6a0', 'message': ""libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION and NEXT_MIN_{LIBVIRT,QEMU}_VERSION\n\nI8e349849db0b1a540d295c903f1470917b82fd97 bumped these versions late in\nthe Victoria cycle and it's time to do the same again during Wallaby.\n\nThe new MIN_{LIBVIRT,QEMU}_VERSIONs are:\n\nMIN_LIBVIRT_VERSION = (6, 0, 0)\nMIN_QEMU_VERSION = (4, 2, 0)\n\nThese versions are met by the three defined LTS distros supported by the\nWallaby release [1][2] of Ubuntu 20.04, CentOS 8 and openSUSE Leap 15.2.\n\nMIN_LIBVIRT_VTPM is removed as part of this patch as it also requires\nchanges to functional tests that would otherwise fail.\n\nFollow up patches will remove the following constants after this change:\n\n- MIN_LIBVIRT_S390X_CPU_COMPARE\n- MIN_{LIBVIRT,QEMU}_BLOCKDEV\n\nFinally, NEXT_MIN_{LIBVIRT,QEMU}_VERSION are also updated to:\n\nNEXT_MIN_LIBVIRT_VERSION = (7, 0, 0)\nNEXT_MIN_QEMU_VERSION = (5, 2, 0)\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html\n[2] https://wiki.openstack.org/wiki/LibvirtDistroSupportMatrix\n\nChange-Id: I017083b27cd9d145eecb01106388d4ce880ba823\n""}, {'number': 4, 'created': '2021-01-18 10:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f6d1f2824c5e8b3b98471076c6f5bb38474b27f', 'message': ""libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION and NEXT_MIN_{LIBVIRT,QEMU}_VERSION\n\nI8e349849db0b1a540d295c903f1470917b82fd97 bumped these versions late in\nthe Victoria cycle and it's time to do the same again during Wallaby.\n\nThe new MIN_{LIBVIRT,QEMU}_VERSIONs are:\n\nMIN_LIBVIRT_VERSION = (6, 0, 0)\nMIN_QEMU_VERSION = (4, 2, 0)\n\nThese versions are met by the three defined LTS distros supported by the\nWallaby release [1][2] of Ubuntu 20.04, CentOS 8 and openSUSE Leap 15.2.\n\nThe following constants are removed as part of this patch as since\nI864494e11ff697788167c996a39f38d3d833d0d7 we now use these new minimum\nversions in tests straight away, thus breaking many tests exercising\nthese now obsolete constants.\n\n- MIN_LIBVIRT_VTPM\n- MIN_LIBVIRT_S390X_CPU_COMPARE\n- MIN_{LIBVIRT,QEMU}_BLOCKDEV\n\nFinally, NEXT_MIN_{LIBVIRT,QEMU}_VERSION are also updated to:\n\nNEXT_MIN_LIBVIRT_VERSION = (7, 0, 0)\nNEXT_MIN_QEMU_VERSION = (5, 2, 0)\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html\n[2] https://wiki.openstack.org/wiki/LibvirtDistroSupportMatrix\n\nChange-Id: I017083b27cd9d145eecb01106388d4ce880ba823\n""}, {'number': 5, 'created': '2021-01-18 13:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/207ea4874d25a67247bbc101a28420093014f37f', 'message': ""libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION and NEXT_MIN_{LIBVIRT,QEMU}_VERSION\n\nI8e349849db0b1a540d295c903f1470917b82fd97 bumped these versions late in\nthe Victoria cycle and it's time to do the same again during Wallaby.\n\nThe new MIN_{LIBVIRT,QEMU}_VERSIONs are:\n\nMIN_LIBVIRT_VERSION = (6, 0, 0)\nMIN_QEMU_VERSION = (4, 2, 0)\n\nThese versions are met by the three defined LTS distros supported by the\nWallaby release [1][2] of Ubuntu 20.04, CentOS 8 and openSUSE Leap 15.2.\n\nThe following constants are removed as part of this patch as since\nI864494e11ff697788167c996a39f38d3d833d0d7 we now use these new minimum\nversions in tests straight away, thus breaking many tests exercising\nthese now obsolete constants.\n\n- MIN_LIBVIRT_VTPM\n- MIN_LIBVIRT_S390X_CPU_COMPARE\n- MIN_{LIBVIRT,QEMU}_BLOCKDEV\n\nThe removal of MIN_{LIBVIRT,QEMU}_BLOCKDEV means that the swap_volume\nwill always use the blockCopy libvirt method to copy contents between\ndisks. This in turn requires that fakelibvirt correctly model the\nrequired flags and blockCopy method.\n\nA future change will look into switching the remaining blockRebase calls\nin the live snapshot flow to blockCopy.\n\nFinally, NEXT_MIN_{LIBVIRT,QEMU}_VERSION are also updated to:\n\nNEXT_MIN_LIBVIRT_VERSION = (7, 0, 0)\nNEXT_MIN_QEMU_VERSION = (5, 2, 0)\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html\n[2] https://wiki.openstack.org/wiki/LibvirtDistroSupportMatrix\n\nChange-Id: I017083b27cd9d145eecb01106388d4ce880ba823\n""}, {'number': 6, 'created': '2021-01-18 16:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d48b24657572a97b7c62a723393398eff100203', 'message': ""libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION and NEXT_MIN_{LIBVIRT,QEMU}_VERSION\n\nI8e349849db0b1a540d295c903f1470917b82fd97 bumped these versions late in\nthe Victoria cycle and it's time to do the same again during Wallaby.\n\nThe new MIN_{LIBVIRT,QEMU}_VERSIONs are:\n\nMIN_LIBVIRT_VERSION = (6, 0, 0)\nMIN_QEMU_VERSION = (4, 2, 0)\n\nThese versions are met by the three defined LTS distros supported by the\nWallaby release [1][2] of Ubuntu 20.04, CentOS 8 and openSUSE Leap 15.2.\n\nThe following constants are removed as part of this patch as since\nI864494e11ff697788167c996a39f38d3d833d0d7 we now use these new minimum\nversions in tests straight away, thus breaking many tests exercising\nthese now obsolete constants.\n\n- MIN_LIBVIRT_VTPM\n- MIN_LIBVIRT_S390X_CPU_COMPARE\n- MIN_{LIBVIRT,QEMU}_BLOCKDEV\n\nThe removal of MIN_{LIBVIRT,QEMU}_BLOCKDEV means that the swap_volume\nwill always use the blockCopy libvirt method to copy contents between\ndisks. This in turn requires that fakelibvirt correctly model the\nrequired flags and blockCopy method.\n\nA future change will look into switching the remaining blockRebase calls\nin the live snapshot flow to blockCopy.\n\nFinally, NEXT_MIN_{LIBVIRT,QEMU}_VERSION are also updated to:\n\nNEXT_MIN_LIBVIRT_VERSION = (7, 0, 0)\nNEXT_MIN_QEMU_VERSION = (5, 2, 0)\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html\n[2] https://wiki.openstack.org/wiki/LibvirtDistroSupportMatrix\n\nChange-Id: I017083b27cd9d145eecb01106388d4ce880ba823\n""}, {'number': 7, 'created': '2021-01-22 10:07:07.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'releasenotes/notes/wallaby-libvirt-version-bump-6fd35d03d7f3df28.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/functional/libvirt/test_vtpm.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/95724bbaef617315cafdbef474dddc7965ad623b', 'message': ""libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION and NEXT_MIN_{LIBVIRT,QEMU}_VERSION\n\nI8e349849db0b1a540d295c903f1470917b82fd97 bumped these versions late in\nthe Victoria cycle and it's time to do the same again during Wallaby.\n\nThe new MIN_{LIBVIRT,QEMU}_VERSIONs are:\n\nMIN_LIBVIRT_VERSION = (6, 0, 0)\nMIN_QEMU_VERSION = (4, 2, 0)\n\nThese versions are met by the three defined LTS distros supported by the\nWallaby release [1][2] of Ubuntu 20.04, CentOS 8 and openSUSE Leap 15.2.\n\nThe following constants are removed as part of this patch as since\nI864494e11ff697788167c996a39f38d3d833d0d7 we now use these new minimum\nversions in tests straight away, thus breaking many tests exercising\nthese now obsolete constants.\n\n- MIN_LIBVIRT_VTPM\n- MIN_LIBVIRT_S390X_CPU_COMPARE\n- MIN_{LIBVIRT,QEMU}_BLOCKDEV\n\nThe removal of MIN_{LIBVIRT,QEMU}_BLOCKDEV means that the swap_volume\nwill always use the blockCopy libvirt method to copy contents between\ndisks. This in turn requires that fakelibvirt correctly model the\nrequired flags and blockCopy method.\n\nA future change will look into switching the remaining blockRebase calls\nin the live snapshot flow to blockCopy.\n\nFinally, NEXT_MIN_{LIBVIRT,QEMU}_VERSION are also updated to:\n\nNEXT_MIN_LIBVIRT_VERSION = (7, 0, 0)\nNEXT_MIN_QEMU_VERSION = (5, 2, 0)\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html\n[2] https://wiki.openstack.org/wiki/LibvirtDistroSupportMatrix\n\nChange-Id: I017083b27cd9d145eecb01106388d4ce880ba823\n""}]",3,754700,95724bbaef617315cafdbef474dddc7965ad623b,94,11,7,10135,,,0,"libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION and NEXT_MIN_{LIBVIRT,QEMU}_VERSION

I8e349849db0b1a540d295c903f1470917b82fd97 bumped these versions late in
the Victoria cycle and it's time to do the same again during Wallaby.

The new MIN_{LIBVIRT,QEMU}_VERSIONs are:

MIN_LIBVIRT_VERSION = (6, 0, 0)
MIN_QEMU_VERSION = (4, 2, 0)

These versions are met by the three defined LTS distros supported by the
Wallaby release [1][2] of Ubuntu 20.04, CentOS 8 and openSUSE Leap 15.2.

The following constants are removed as part of this patch as since
I864494e11ff697788167c996a39f38d3d833d0d7 we now use these new minimum
versions in tests straight away, thus breaking many tests exercising
these now obsolete constants.

- MIN_LIBVIRT_VTPM
- MIN_LIBVIRT_S390X_CPU_COMPARE
- MIN_{LIBVIRT,QEMU}_BLOCKDEV

The removal of MIN_{LIBVIRT,QEMU}_BLOCKDEV means that the swap_volume
will always use the blockCopy libvirt method to copy contents between
disks. This in turn requires that fakelibvirt correctly model the
required flags and blockCopy method.

A future change will look into switching the remaining blockRebase calls
in the live snapshot flow to blockCopy.

Finally, NEXT_MIN_{LIBVIRT,QEMU}_VERSION are also updated to:

NEXT_MIN_LIBVIRT_VERSION = (7, 0, 0)
NEXT_MIN_QEMU_VERSION = (5, 2, 0)

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html
[2] https://wiki.openstack.org/wiki/LibvirtDistroSupportMatrix

Change-Id: I017083b27cd9d145eecb01106388d4ce880ba823
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/754700/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,c7f3582a879d201bfb246c6703371dc49c262718,change-754700-5,"MIN_LIBVIRT_VERSION = (6, 0, 0) MIN_QEMU_VERSION = (4, 2, 0)","MIN_LIBVIRT_VERSION = (5, 0, 0) MIN_QEMU_VERSION = (4, 0, 0)",2,2
openstack%2Fnova~stable%2Fvictoria~Icaad4b2375b491c8a7e87fb6f4977ae2e13e8190,openstack/nova,stable/victoria,Icaad4b2375b491c8a7e87fb6f4977ae2e13e8190,Fallback to same-cell resize with qos ports,MERGED,2021-01-07 13:35:10.000000000,2021-01-30 17:41:13.000000000,2021-01-30 17:38:43.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 13:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/320ac7b12a0f9baa807d1628b88a39c00faf4642', 'message': 'Fallback to same-cell resize with qos ports\n\nThe cross-cell resize code does not consider neutron ports with resource\nrequest. To avoid migration failures this patch makes nova to fall back\nto same cell resize if the instance has neutron ports with resource\nrequest.\n\nChange-Id: Icaad4b2375b491c8a7e87fb6f4977ae2e13e8190\nCloses-Bug: #1907522\n(cherry picked from commit 1c056c384d1b89dd877e1aa3108b1797d7881223)\n'}, {'number': 2, 'created': '2021-01-11 15:24:43.000000000', 'files': ['doc/source/admin/configuration/cross-cell-resize.rst', 'releasenotes/notes/cros-scell-resize-not-supported-with-ports-having-resource-request-a8e1029ef5983793.yaml', 'api-guide/source/port_with_resource_request.rst', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6b57575092aa5f16f51e5af8b0e62617f46b420a', 'message': 'Fallback to same-cell resize with qos ports\n\nThe cross-cell resize code does not consider neutron ports with resource\nrequest. To avoid migration failures this patch makes nova to fall back\nto same cell resize if the instance has neutron ports with resource\nrequest.\n\nThe stable only difference is due to change in the reproduction patch\nId91d2e817ef6bd21124bb840bdb098054e9753b8 on stable.\n\nChange-Id: Icaad4b2375b491c8a7e87fb6f4977ae2e13e8190\nCloses-Bug: #1907522\nCloses-Bug: #1907511\n(cherry picked from commit 1c056c384d1b89dd877e1aa3108b1797d7881223)\n'}]",1,769727,6b57575092aa5f16f51e5af8b0e62617f46b420a,76,4,2,9708,,,0,"Fallback to same-cell resize with qos ports

The cross-cell resize code does not consider neutron ports with resource
request. To avoid migration failures this patch makes nova to fall back
to same cell resize if the instance has neutron ports with resource
request.

The stable only difference is due to change in the reproduction patch
Id91d2e817ef6bd21124bb840bdb098054e9753b8 on stable.

Change-Id: Icaad4b2375b491c8a7e87fb6f4977ae2e13e8190
Closes-Bug: #1907522
Closes-Bug: #1907511
(cherry picked from commit 1c056c384d1b89dd877e1aa3108b1797d7881223)
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/769727/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/configuration/cross-cell-resize.rst', 'releasenotes/notes/cros-scell-resize-not-supported-with-ports-having-resource-request-a8e1029ef5983793.yaml', 'api-guide/source/port_with_resource_request.rst', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']",6,320ac7b12a0f9baa807d1628b88a39c00faf4642,bug/1907522," project_id='fake-project', user_id='fake-user', uuid=uuids.instance) @mock.patch('nova.network.neutron.API.get_requested_resource_for_instance', return_value=[objects.RequestGroup()]) def test_allow_cross_cell_resize_false_port_with_resource_req( self, mock_get_min_ver, mock_get_res_req): """"""Policy allows cross-cell resize but minimum nova-compute service version is not new enough. """""" instance = objects.Instance( project_id='fake-project', user_id='fake-user', uuid=uuids.instance) with mock.patch.object(self.context, 'can', return_value=True) as can: self.assertFalse(self.compute_api._allow_cross_cell_resize( self.context, instance)) can.assert_called_once() mock_get_min_ver.assert_called_once_with( self.context, ['nova-compute']) mock_get_res_req.assert_called_once_with(self.context, uuids.instance) @mock.patch('nova.network.neutron.API.get_requested_resource_for_instance', return_value=[]) @mock.patch('nova.objects.service.get_minimum_version_all_cells', return_value=compute_api.MIN_COMPUTE_CROSS_CELL_RESIZE) def test_allow_cross_cell_resize_true( self, mock_get_min_ver, mock_get_res_req): project_id='fake-project', user_id='fake-user', uuid=uuids.instance) mock_get_res_req.assert_called_once_with(self.context, uuids.instance)"," project_id='fake-project', user_id='fake-user') def test_allow_cross_cell_resize_true(self, mock_get_min_ver): project_id='fake-project', user_id='fake-user')",65,33
openstack%2Ftripleo-common~master~I6091ebacadef1cbc72294ef54bc100f0509a53b1,openstack/tripleo-common,master,I6091ebacadef1cbc72294ef54bc100f0509a53b1,"Fix uc install, Undercloud role must overwrite",MERGED,2021-01-29 05:09:08.000000000,2021-01-30 17:37:51.000000000,2021-01-30 17:36:24.000000000,"[{'_account_id': 6469}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-29 05:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/44b3cc6003a8ccbcc98fb660a41b90fdb1010649', 'message': 'Fix uc install, Undercloud role must overwrite\n\nThe re-factoring in https://review.opendev.org/766109\nbroke the undercloud installer in case the undercloud\nhostname is\'nt \'undercloud\'.\n\nDue to the re-factoring making use of setdefault to\nappend missing keys, not replacing them the Undercloud\ninstaller role got two host entries. One host \'undercloud\'\nadded by the _undercloud_inventory() method and then\nanother host entry matching the hostname of the\nundercloud being installed.\n\nSpecial case the role \'Undercloud\', ensure this entry\nis always overwritten to avoid the ""duplicate"" host in\nthe \'Undercloud\' group.\n\nNote: CI did\'nt pick up the issue because all underclouds\n      deployed by CI uses \'undercloud.$DOMAN\' as the hostname.\n\nCloses-Bug: #1913551\nChange-Id: I6091ebacadef1cbc72294ef54bc100f0509a53b1\n'}, {'number': 2, 'created': '2021-01-29 11:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1064adb21d4fc763c7dd8dfb679b771b598117f6', 'message': 'Fix uc install, Undercloud role must overwrite\n\nThe re-factoring in https://review.opendev.org/766109\nbroke the undercloud installer in case the undercloud\nhostname is\'nt \'undercloud\'.\n\nDue to the re-factoring making use of setdefault to\nappend missing keys, not replacing them the Undercloud\ninstaller role got two host entries. One host \'undercloud\'\nadded by the _undercloud_inventory() method and then\nanother host entry matching the hostname of the\nundercloud being installed.\n\nSpecial case the role \'Undercloud\', ensure this entry\nis always overwritten to avoid the ""duplicate"" host in\nthe \'Undercloud\' group.\n\nNote: CI did\'nt pick up the issue because all underclouds\n      deployed by CI uses \'undercloud.$DOMAN\' as the hostname.\n\nCloses-Bug: #1913551\nChange-Id: I6091ebacadef1cbc72294ef54bc100f0509a53b1\n'}, {'number': 3, 'created': '2021-01-29 11:47:35.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b79b0fc65d189d732958534104a41701c7357166', 'message': 'Fix uc install, Undercloud role must overwrite\n\nThe re-factoring in https://review.opendev.org/766109\nbroke the undercloud installer in case the undercloud\nhostname is\'nt \'undercloud\'.\n\nDue to the re-factoring making use of setdefault to\nappend missing keys, not replacing them the Undercloud\ninstaller role got two host entries. One host \'undercloud\'\nadded by the _undercloud_inventory() method and then\nanother host entry matching the hostname of the\nundercloud being installed.\n\nSpecial case the role \'Undercloud\', ensure this entry\nis always overwritten to avoid the ""duplicate"" host in\nthe \'Undercloud\' group.\n\nNote: CI did\'nt pick up the issue because all underclouds\n      deployed by CI uses \'undercloud.$DOMAN\' as the hostname.\n\nCloses-Bug: #1913551\nChange-Id: I6091ebacadef1cbc72294ef54bc100f0509a53b1\n'}]",4,772971,b79b0fc65d189d732958534104a41701c7357166,18,6,3,24245,,,0,"Fix uc install, Undercloud role must overwrite

The re-factoring in https://review.opendev.org/766109
broke the undercloud installer in case the undercloud
hostname is'nt 'undercloud'.

Due to the re-factoring making use of setdefault to
append missing keys, not replacing them the Undercloud
installer role got two host entries. One host 'undercloud'
added by the _undercloud_inventory() method and then
another host entry matching the hostname of the
undercloud being installed.

Special case the role 'Undercloud', ensure this entry
is always overwritten to avoid the ""duplicate"" host in
the 'Undercloud' group.

Note: CI did'nt pick up the issue because all underclouds
      deployed by CI uses 'undercloud.$DOMAN' as the hostname.

Closes-Bug: #1913551
Change-Id: I6091ebacadef1cbc72294ef54bc100f0509a53b1
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/71/772971/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/inventory.py'],1,44b3cc6003a8ccbcc98fb660a41b90fdb1010649,bug/1913551," # Undercloud role in the stack should overwrite, not append. # See bug: https://bugs.launchpad.net/tripleo/+bug/1913551 if role_name == 'Undercloud': role = ret[role_name] = {} else: role = ret.setdefault(role_name, {}) "," role = ret.setdefault(role_name, {})",7,1
openstack%2Fnova~master~I759aa36dc00a6c0612b9755dacd9aa414c408498,openstack/nova,master,I759aa36dc00a6c0612b9755dacd9aa414c408498,api: Reject requests to detach a volume when the compute is down,MERGED,2020-12-23 16:50:40.000000000,2021-01-30 17:31:04.000000000,2021-01-30 17:29:32.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-12-23 16:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7ac0f490ba1df39ca046e5e4a71b56ea2538790', 'message': 'api: Reject requests to detach a volume when the compute is down\n\nWhen detaching a volume from an instance Nova will currently always\nattempt to make a cast RPC call before returning a successful 202\nresponse to the caller.\n\nThe lack of checking here regarding the underlying compute can lead to\nrequests never being acted upon and has often confused callers when the\ncompute itself is down.\n\nThis change aims to correct this by having the state of the compute\nhosting the instance checked in the compute API layer. When the compute\nis down the initial request is now rejected with a 409 conflict to the\ncaller so they understand why the volume still appears attached.\n\nCloses-Bug: #1909120\nChange-Id: I759aa36dc00a6c0612b9755dacd9aa414c408498\n'}, {'number': 2, 'created': '2020-12-23 17:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/318f90b2d1d53f95ee0fcf2b8b15be66251bf5c1', 'message': 'api: Reject requests to detach a volume when the compute is down\n\nWhen detaching a volume from an instance Nova will currently always\nattempt to make a cast RPC call before returning a successful 202\nresponse to the caller.\n\nThe lack of checking here regarding the underlying compute can lead to\nrequests never being acted upon and has often confused callers when the\ncompute itself is down.\n\nThis change aims to correct this by having the state of the compute\nhosting the instance checked in the compute API layer. When the compute\nis down the initial request is now rejected with a 409 conflict to the\ncaller so they understand why the volume still appears attached.\n\nCloses-Bug: #1909120\nChange-Id: I759aa36dc00a6c0612b9755dacd9aa414c408498\n'}, {'number': 3, 'created': '2021-01-27 15:23:11.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/functional/regressions/test_bug_1909120.py', 'nova/tests/unit/compute/test_compute.py', 'nova/api/openstack/compute/volumes.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/db8213af8341989354231f9b67dd983365899015', 'message': 'api: Reject requests to detach a volume when the compute is down\n\nWhen detaching a volume from an instance Nova will currently always\nattempt to make a cast RPC call before returning a successful 202\nresponse to the caller.\n\nThe lack of checking here regarding the underlying compute can lead to\nrequests never being acted upon and has often confused callers when the\ncompute itself is down.\n\nThis change aims to correct this by having the state of the compute\nhosting the instance checked in the compute API layer. When the compute\nis down the initial request is now rejected with a 409 conflict to the\ncaller so they understand why the volume still appears attached.\n\nCloses-Bug: #1909120\nChange-Id: I759aa36dc00a6c0612b9755dacd9aa414c408498\n'}]",1,768352,db8213af8341989354231f9b67dd983365899015,48,7,3,10135,,,0,"api: Reject requests to detach a volume when the compute is down

When detaching a volume from an instance Nova will currently always
attempt to make a cast RPC call before returning a successful 202
response to the caller.

The lack of checking here regarding the underlying compute can lead to
requests never being acted upon and has often confused callers when the
compute itself is down.

This change aims to correct this by having the state of the compute
hosting the instance checked in the compute API layer. When the compute
is down the initial request is now rejected with a 409 conflict to the
caller so they understand why the volume still appears attached.

Closes-Bug: #1909120
Change-Id: I759aa36dc00a6c0612b9755dacd9aa414c408498
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/768352/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/functional/regressions/test_bug_1909120.py', 'nova/api/openstack/compute/volumes.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']",5,a7ac0f490ba1df39ca046e5e4a71b56ea2538790,bug/1909120," def test_volume_detach_while_compute_down(self): """"""Assert that requests to detach a volume from an instance on a down compute are rejected with ServiceUnavailable being raised """""" instance = self._create_instance_obj() with mock.patch.object( self.compute_api, 'get_instance_host_status', return_value=fields_obj.HostStatus.DOWN ) as mock_host_status: self.assertRaises( exception.ServiceUnavailable, self.compute_api.detach_volume, self.context, instance, None) mock_host_status.assert_called_once_with(instance)",,46,20
openstack%2Fnova~stable%2Fussuri~I022f3bbddbbdc24362b10004f273da2421788c97,openstack/nova,stable/ussuri,I022f3bbddbbdc24362b10004f273da2421788c97,Omit resource inventories from placement update if zero,MERGED,2020-12-12 00:33:23.000000000,2021-01-30 17:07:55.000000000,2021-01-30 17:06:22.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-12 00:33:23.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3fda32009cb99b2850903e6a72a7cbef933008f9', 'message': 'Omit resource inventories from placement update if zero\n\nWhen a compute node has zero total available for the:\n\n  * MEMORY_MB\n  * DISK_GB\n  * VGPU\n  * PMEM_NAMESPACE_*\n\nresource classes, we attempt to PUT an inventory with \'total\' of 0\nwhich isn\'t allowed by the placement API. Doing this results in a 400\nerror from placement ""JSON does not validate: 0 is less than the\nminimum of 1"" and ResourceProviderUpdateFailed and\nResourceProviderSyncFailed raised in nova.\n\nWe are already omitting most resource classes when their total amount\nof the resource is 0 and we just need to also do it for the\naforementioned resource classes.\n\nConflicts:\n    nova/virt/libvirt/driver.py\n\nNOTE(melwitt): The conflict is because change\nIcc7b3d250bb9dd3d162731959185d9e962727247 (libvirt: Add typing\ninformation) is not in Ussuri.\n\nCloses-Bug: #1901120\nCloses-Bug: #1906494\n\nChange-Id: I022f3bbddbbdc24362b10004f273da2421788c97\n(cherry picked from commit 0b942dcaa5db81f927d1a300cb839b4e6c4d1c5e)\n(cherry picked from commit c3a096932947288ca2253633c138a8e788dbe889)\n'}]",0,766825,3fda32009cb99b2850903e6a72a7cbef933008f9,29,4,1,4690,,,0,"Omit resource inventories from placement update if zero

When a compute node has zero total available for the:

  * MEMORY_MB
  * DISK_GB
  * VGPU
  * PMEM_NAMESPACE_*

resource classes, we attempt to PUT an inventory with 'total' of 0
which isn't allowed by the placement API. Doing this results in a 400
error from placement ""JSON does not validate: 0 is less than the
minimum of 1"" and ResourceProviderUpdateFailed and
ResourceProviderSyncFailed raised in nova.

We are already omitting most resource classes when their total amount
of the resource is 0 and we just need to also do it for the
aforementioned resource classes.

Conflicts:
    nova/virt/libvirt/driver.py

NOTE(melwitt): The conflict is because change
Icc7b3d250bb9dd3d162731959185d9e962727247 (libvirt: Add typing
information) is not in Ussuri.

Closes-Bug: #1901120
Closes-Bug: #1906494

Change-Id: I022f3bbddbbdc24362b10004f273da2421788c97
(cherry picked from commit 0b942dcaa5db81f927d1a300cb839b4e6c4d1c5e)
(cherry picked from commit c3a096932947288ca2253633c138a8e788dbe889)
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/766825/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,3fda32009cb99b2850903e6a72a7cbef933008f9,bug/1901120," @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_gpu_inventories') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver.' '_get_cpu_feature_traits', new=mock.Mock(return_value=cpu_traits)) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_local_gb_info', new=mock.Mock(return_value={'total': 0})) @mock.patch('nova.virt.libvirt.host.Host.get_memory_mb_total', new=mock.Mock(return_value=0)) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_pcpu_available', new=mock.Mock(return_value=range(0))) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vcpu_available', new=mock.Mock(return_value=range(0))) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver.' '_update_provider_tree_for_pcpu', new=mock.Mock()) def test_update_provider_tree_zero_total(self, mock_gpu_invs): # Verify that we omit various resources from inventory when there are # zero total quantity of those resources. Placement does not allow # inventory updates with total=0 as they fail API schema validation. # Use total=0 for vgpus. gpu_inventory_dicts = { 'pci_0000_06_00_0': {'total': 0, 'max_unit': 16, 'min_unit': 1, 'step_size': 1, 'reserved': 0, 'allocation_ratio': 1.0, }, } mock_gpu_invs.return_value = gpu_inventory_dicts # Use an empty list for vpmems. self.driver._vpmems_by_rc = {'CUSTOM_PMEM_NAMESPACE_4GB': []} # Before we update_provider_tree, we have 2 providers from setUp(): # self.cn_rp and self.shared_rp and they are both empty {}. self.assertEqual(2, len(self.pt.get_provider_uuids())) # Update the provider tree. self.driver.update_provider_tree(self.pt, self.cn_rp['name']) # After we update_provider_tree, we should still have 2 providers # because VGPU has total=0 and we would skip adding a child provider # for it. self.assertEqual(2, len(self.pt.get_provider_uuids())) # All providers should have an empty dict because (1) we never updated # the self.shared_rp provider and (2) the other 2 providers have zero # for resource totals. for uuid in self.pt.get_provider_uuids(): self.assertEqual({}, self.pt.data(uuid).inventory) ",,72,13
openstack%2Fpython-tripleoclient~stable%2Fvictoria~I23e2bba9fc9e9b0574786d8594d89102759fad64,openstack/python-tripleoclient,stable/victoria,I23e2bba9fc9e9b0574786d8594d89102759fad64,Get deployment status to check if plan and stack exists on the env,MERGED,2021-01-05 17:02:05.000000000,2021-01-30 16:48:33.000000000,2021-01-30 16:45:48.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-01-05 17:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7765d6cc6eb141315e88e5ccad0d874e21260a7e', 'message': 'Get deployment status to check if plan and stack exists on the env\n\nThis patch use deployment.get_deployment_status to check\nif the stack and the plan exist on the env if a  --plan\noption has been passed.\n\nChange-Id: I23e2bba9fc9e9b0574786d8594d89102759fad64\n(cherry picked from commit c9a13bed0068b72a0eab77e3ef18e9e28250867a)\n'}, {'number': 2, 'created': '2021-01-06 10:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8e961f4420762e5f2edf630eeaad36ce107ef0e7', 'message': 'Get deployment status to check if plan and stack exists on the env\n\nThis patch use deployment.get_deployment_status to check\nif the stack and the plan exist on the env if a  --plan\noption has been passed.\n\nChange-Id: I23e2bba9fc9e9b0574786d8594d89102759fad64\n(cherry picked from commit c9a13bed0068b72a0eab77e3ef18e9e28250867a)\n'}, {'number': 3, 'created': '2021-01-25 18:08:17.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/71591e5123fa309690f1d98ba53775189698f9c1', 'message': 'Get deployment status to check if plan and stack exists on the env\n\nThis patch use deployment.get_deployment_status to check\nif the stack and the plan exist on the env if a  --plan\noption has been passed.\n\nChange-Id: I23e2bba9fc9e9b0574786d8594d89102759fad64\n(cherry picked from commit c9a13bed0068b72a0eab77e3ef18e9e28250867a)\n'}]",0,769403,71591e5123fa309690f1d98ba53775189698f9c1,19,7,3,11491,,,0,"Get deployment status to check if plan and stack exists on the env

This patch use deployment.get_deployment_status to check
if the stack and the plan exist on the env if a  --plan
option has been passed.

Change-Id: I23e2bba9fc9e9b0574786d8594d89102759fad64
(cherry picked from commit c9a13bed0068b72a0eab77e3ef18e9e28250867a)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/03/769403/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py']",2,7765d6cc6eb141315e88e5ccad0d874e21260a7e,victoria,"from tripleoclient.workflows import deploymentYELLOW = ""\033[0;33m""NO_VALIDATION_STATE = ['DEPLOY_FAILED', 'DEPLOYING'] default=None, '--ssh-user', dest='ssh_user', default='heat-admin', help=_(""Ssh User name for the Overcloud ssh connection."") ) parser.add_argument( plan = parsed_args.plan msg = ""Running Validations without authentication."" LOG.warning(""{}{}{}"".format(YELLOW, msg, RESET)) _(""No static inventory provided, please provide a valid "" if plan: status = deployment.get_deployment_status(clients, plan) if not status or status in NO_VALIDATION_STATE: raise exceptions.CommandError( _(""The plan and the stack '{}' doesn't exist OR are "" ""in 'failed' or 'deploying' state."" ""Please use a valid plan"".format(plan))) else: msg = ""Running Validations without Overcloud settings."" LOG.warning(""{}{}{}"".format(YELLOW, msg, RESET)) ssh_user=parsed_args.ssh_user,"," default='overcloud', LOG.warning(""Running Validations without authentication."") _(""No static inventory provided, please provide a valid"" plans = plan_management.list_deployment_plans(clients) if parsed_args.plan and parsed_args.plan not in plans: raise exceptions.CommandError( _(""The plan '{}' doesn't exist. "" ""Please use one of those {}"".format(parsed_args, plans))) ssh_user='heat-admin',",44,21
openstack%2Fpython-tripleoclient~master~I318aa2497775c8c5f049384ede75915dc5d49ba8,openstack/python-tripleoclient,master,I318aa2497775c8c5f049384ede75915dc5d49ba8,Deprecate minion commands,MERGED,2021-01-22 18:04:53.000000000,2021-01-30 16:47:26.000000000,2021-01-30 16:45:09.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 18:04:53.000000000', 'files': ['releasenotes/notes/deprecate-minion-83d87a36a2e74ecc.yaml', 'tripleoclient/v1/undercloud_minion.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/261f4685b83f3313be0c0cdce6d8b47384d64821', 'message': ""Deprecate minion commands\n\nWith the move to the nova-less and neutron bits being moved out of the\nheat process, the minion doesn't make as much sense to continue to\nsupport.  Let's deprecated it for removal in future versions.\n\nChange-Id: I318aa2497775c8c5f049384ede75915dc5d49ba8\n""}]",0,772076,261f4685b83f3313be0c0cdce6d8b47384d64821,9,4,1,14985,,,0,"Deprecate minion commands

With the move to the nova-less and neutron bits being moved out of the
heat process, the minion doesn't make as much sense to continue to
support.  Let's deprecated it for removal in future versions.

Change-Id: I318aa2497775c8c5f049384ede75915dc5d49ba8
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/76/772076/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-minion-83d87a36a2e74ecc.yaml', 'tripleoclient/v1/undercloud_minion.py']",2,261f4685b83f3313be0c0cdce6d8b47384d64821,minion-deprecation," self.log.warning(""[DEPRECATED] This command has been deprecated. "" ""The minion functionality is no longer as necessary "" ""with the move to nova-less provisioning."") self.log.warning(""[DEPRECATED] This command has been deprecated. "" ""The minion functionality is no longer as necessary "" ""with the move to nova-less provisioning."")",,12,0
openstack%2Fpython-tripleoclient~stable%2Fvictoria~If45db93e4e958fe0ae65bd2cd96d3594b97a4320,openstack/python-tripleoclient,stable/victoria,If45db93e4e958fe0ae65bd2cd96d3594b97a4320,[Validator Run] Ensure the plan really exists,MERGED,2021-01-06 10:13:51.000000000,2021-01-30 16:47:22.000000000,2021-01-30 16:45:17.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-01-06 10:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e09156cdc7bdfe5ad6b7fb5d217325fcbbe794cb', 'message': '[Validator Run] Ensure the plan really exists\n\nThis patch will now fetch all the existing plans and will ensure the\nplan given by the command line is part of it. If not, a exception will\nbe raised to inform the user.\n\nChange-Id: If45db93e4e958fe0ae65bd2cd96d3594b97a4320\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit da8a3e59645b2b17a1b05dc1853d1d9fd7e7c424)\n'}, {'number': 2, 'created': '2021-01-25 18:08:17.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/21d8e7c2c96f0e469b169df38c171de71f467049', 'message': '[Validator Run] Ensure the plan really exists\n\nThis patch will now fetch all the existing plans and will ensure the\nplan given by the command line is part of it. If not, a exception will\nbe raised to inform the user.\n\nChange-Id: If45db93e4e958fe0ae65bd2cd96d3594b97a4320\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit da8a3e59645b2b17a1b05dc1853d1d9fd7e7c424)\n'}]",0,769485,21d8e7c2c96f0e469b169df38c171de71f467049,19,6,2,11491,,,0,"[Validator Run] Ensure the plan really exists

This patch will now fetch all the existing plans and will ensure the
plan given by the command line is part of it. If not, a exception will
be raised to inform the user.

Change-Id: If45db93e4e958fe0ae65bd2cd96d3594b97a4320
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit da8a3e59645b2b17a1b05dc1853d1d9fd7e7c424)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/85/769485/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,e09156cdc7bdfe5ad6b7fb5d217325fcbbe794cb,victoria,"from tripleoclient.workflows import plan_management clients = self.app.client_manager plans = plan_management.list_deployment_plans(clients) if parsed_args.plan and parsed_args.plan not in plans: raise exceptions.CommandError( _(""The plan '{}' doesn't exist. "" ""Please use one of those {}"".format(parsed_args, plans))) ",,10,0
openstack%2Fos-net-config~stable%2Fvictoria~I17d19715a1f7c231630416d6fea06fe9afe44e9b,openstack/os-net-config,stable/victoria,I17d19715a1f7c231630416d6fea06fe9afe44e9b,Exclude DPDK mapped VF device even if not present,MERGED,2021-01-25 04:21:21.000000000,2021-01-30 16:47:12.000000000,2021-01-30 16:45:13.000000000,"[{'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-25 04:21:21.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f51bf9bea613f4d704b7e9b29b0e26da2ede0d28', 'message': 'Exclude DPDK mapped VF device even if not present\n\nAs part of FFU from queens to train, os-net-config\nwill run after the RHEL update. At this point, DPDK\nmapping file will have VF if it has been used as\npart of NIC partitioning feature, but the physically\nthe VF will not be present as it is yet to be created.\nDuring the active nic list creation (before creating\nVFs), DPDK mapped VF will be used as regular nic,\nwhich results in wrong nic numbering.\n\nThis patch excludes the VFs by checking the device\ntype in the sriov_config.yaml mapping file, so that\nthe nic numbering will be kept same.\n\nChange-Id: I17d19715a1f7c231630416d6fea06fe9afe44e9b\n(cherry picked from commit 4f2ebfd6bd90e5247dc2bddf67146e713919a437)\n'}]",0,772220,f51bf9bea613f4d704b7e9b29b0e26da2ede0d28,9,3,1,18575,,,0,"Exclude DPDK mapped VF device even if not present

As part of FFU from queens to train, os-net-config
will run after the RHEL update. At this point, DPDK
mapping file will have VF if it has been used as
part of NIC partitioning feature, but the physically
the VF will not be present as it is yet to be created.
During the active nic list creation (before creating
VFs), DPDK mapped VF will be used as regular nic,
which results in wrong nic numbering.

This patch excludes the VFs by checking the device
type in the sriov_config.yaml mapping file, so that
the nic numbering will be kept same.

Change-Id: I17d19715a1f7c231630416d6fea06fe9afe44e9b
(cherry picked from commit 4f2ebfd6bd90e5247dc2bddf67146e713919a437)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/20/772220/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/tests/test_utils.py']",2,f51bf9bea613f4d704b7e9b29b0e26da2ede0d28,avoid_dpdk_sriov_vf-stable/victoria," def test_ordered_active_nics_with_dpdk_mapping_of_vf(self): tmpdir = tempfile.mkdtemp() self.stub_out('os_net_config.utils._SYS_CLASS_NET', tmpdir) tmp_pci_dir = tempfile.mkdtemp() self.stub_out('os_net_config.utils._SYS_BUS_PCI_DEV', tmp_pci_dir) physfn_path = utils._SYS_BUS_PCI_DEV + '/0000:05:01.1/physfn' os.makedirs(physfn_path) def test_is_available_nic(interface_name, check_active): return True self.stub_out('os_net_config.utils._is_available_nic', test_is_available_nic) utils._update_dpdk_map('eth2_0', '0000:06:01.1', 'AA:02:03:04:05:FE', 'vfio-pci') utils.update_sriov_vf_map('eth2', 0, 'eth2_0') nics = utils.ordered_active_nics() self.assertEqual(len(nics), 0) shutil.rmtree(tmpdir) shutil.rmtree(tmp_pci_dir) ",,33,1
openstack%2Fpython-tripleoclient~stable%2Fvictoria~I5a702a84ca0e1942f2e1636d31acc391f689a8ad,openstack/python-tripleoclient,stable/victoria,I5a702a84ca0e1942f2e1636d31acc391f689a8ad,Run validation without authentication in particular context,MERGED,2021-01-05 17:02:05.000000000,2021-01-30 16:45:40.000000000,2021-01-30 16:45:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-01-05 17:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/248a48b486d2abd6b0e947511468b493c9a12a95', 'message': ""Run validation without authentication in particular context\n\nSince we are using mistral to get the list of the plan\nin TripleO, we require authentication for the clients\notherwise the validation Run won't work due to unable\nto get mistral context.\nThis patch handle the authentication if provided by the user and\nenvironment, if no authentifcation, since we cant generate dynamic\ninventory, it checks if a static is passed with the CLI, if not it\nraised an exception.\n\nIf authentication is provided and succeed, then tripleoclient can\nsafely call the plan_management to check and ensure if the plan is\npresent.\n\nChange-Id: I5a702a84ca0e1942f2e1636d31acc391f689a8ad\n(cherry picked from commit ff4f4a9578170d2f6049520d1b454a7aef0b2613)\n""}, {'number': 2, 'created': '2021-01-06 10:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8ff500c12682a7c0c762fa0c7d8146fc65049546', 'message': ""Run validation without authentication in particular context\n\nSince we are using mistral to get the list of the plan\nin TripleO, we require authentication for the clients\notherwise the validation Run won't work due to unable\nto get mistral context.\nThis patch handle the authentication if provided by the user and\nenvironment, if no authentifcation, since we cant generate dynamic\ninventory, it checks if a static is passed with the CLI, if not it\nraised an exception.\n\nIf authentication is provided and succeed, then tripleoclient can\nsafely call the plan_management to check and ensure if the plan is\npresent.\n\nChange-Id: I5a702a84ca0e1942f2e1636d31acc391f689a8ad\n(cherry picked from commit ff4f4a9578170d2f6049520d1b454a7aef0b2613)\n""}, {'number': 3, 'created': '2021-01-25 18:08:17.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/89eaf7a5b8208efa9899f9613173193e76fc9730', 'message': ""Run validation without authentication in particular context\n\nSince we are using mistral to get the list of the plan\nin TripleO, we require authentication for the clients\notherwise the validation Run won't work due to unable\nto get mistral context.\nThis patch handle the authentication if provided by the user and\nenvironment, if no authentifcation, since we cant generate dynamic\ninventory, it checks if a static is passed with the CLI, if not it\nraised an exception.\n\nIf authentication is provided and succeed, then tripleoclient can\nsafely call the plan_management to check and ensure if the plan is\npresent.\n\nChange-Id: I5a702a84ca0e1942f2e1636d31acc391f689a8ad\n(cherry picked from commit ff4f4a9578170d2f6049520d1b454a7aef0b2613)\n""}]",2,769402,89eaf7a5b8208efa9899f9613173193e76fc9730,17,6,3,11491,,,0,"Run validation without authentication in particular context

Since we are using mistral to get the list of the plan
in TripleO, we require authentication for the clients
otherwise the validation Run won't work due to unable
to get mistral context.
This patch handle the authentication if provided by the user and
environment, if no authentifcation, since we cant generate dynamic
inventory, it checks if a static is passed with the CLI, if not it
raised an exception.

If authentication is provided and succeed, then tripleoclient can
safely call the plan_management to check and ensure if the plan is
present.

Change-Id: I5a702a84ca0e1942f2e1636d31acc391f689a8ad
(cherry picked from commit ff4f4a9578170d2f6049520d1b454a7aef0b2613)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/02/769402/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,248a48b486d2abd6b0e947511468b493c9a12a95,victoria,"from openstack import exceptions as os_exceptions # Try to perform OpenStack authentication, if no authentication # and static inventory provided continue, else raise error. try: clients = self.app.client_manager clients._auth_required = True clients.setup_auth() except os_exceptions.ConfigException: LOG.warning(""Running Validations without authentication."") if not parsed_args.static_inventory: raise exceptions.CommandError( _(""No static inventory provided, please provide a valid"" ""inventory or use authentication."")) else: plans = plan_management.list_deployment_plans(clients) if parsed_args.plan and parsed_args.plan not in plans: raise exceptions.CommandError( _(""The plan '{}' doesn't exist. "" ""Please use one of those {}"".format(parsed_args, plans)))",,20,0
openstack%2Fpython-tripleoclient~stable%2Fvictoria~If7ef6eb53fe1de66a3a21424ed4e64318e680dd0,openstack/python-tripleoclient,stable/victoria,If7ef6eb53fe1de66a3a21424ed4e64318e680dd0,[Validator Show] Properly throwing an exception for unknown validation,MERGED,2021-01-06 10:13:51.000000000,2021-01-30 16:45:34.000000000,2021-01-30 16:45:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-01-06 10:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a66713272a8ca0367253c38b009194c88381db21', 'message': '[Validator Show] Properly throwing an exception for unknown validation\n\nWhen running validator show subcommand with a non-existing validation,\nthe subcommand was outputting multiple tracebacks instead of giving a\nsimple message to the user.\n\nThe patch adds a proper management result when displaying informations\nof a non-existing validation.\n\nChange-Id: If7ef6eb53fe1de66a3a21424ed4e64318e680dd0\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit eb6839a7022b90873d5adc770413548b2b9b6c86)\n'}, {'number': 2, 'created': '2021-01-25 18:08:17.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/98ffc681c984a53ffcd649390fe52e08686fd7ee', 'message': '[Validator Show] Properly throwing an exception for unknown validation\n\nWhen running validator show subcommand with a non-existing validation,\nthe subcommand was outputting multiple tracebacks instead of giving a\nsimple message to the user.\n\nThe patch adds a proper management result when displaying informations\nof a non-existing validation.\n\nChange-Id: If7ef6eb53fe1de66a3a21424ed4e64318e680dd0\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit eb6839a7022b90873d5adc770413548b2b9b6c86)\n'}]",0,769487,98ffc681c984a53ffcd649390fe52e08686fd7ee,14,6,2,11491,,,0,"[Validator Show] Properly throwing an exception for unknown validation

When running validator show subcommand with a non-existing validation,
the subcommand was outputting multiple tracebacks instead of giving a
simple message to the user.

The patch adds a proper management result when displaying informations
of a non-existing validation.

Change-Id: If7ef6eb53fe1de66a3a21424ed4e64318e680dd0
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit eb6839a7022b90873d5adc770413548b2b9b6c86)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/87/769487/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,a66713272a8ca0367253c38b009194c88381db21,victoria," actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR) try: except Exception as e: raise exceptions.CommandError(e) if data: return data.keys(), data.values()"," try: actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR) return data.keys(), data.values() except Exception as e: raise RuntimeError(_(""Validations listing finished with errors\n"" ""Output: {}"").format(e))",6,4
openstack%2Fpython-tripleoclient~stable%2Fvictoria~Ia09ca1de9502cd6c99910a6f18ee775c613c10dc,openstack/python-tripleoclient,stable/victoria,Ia09ca1de9502cd6c99910a6f18ee775c613c10dc,[Validator Run] Don't rely on parameter file extension,MERGED,2021-01-06 10:13:51.000000000,2021-01-30 16:45:25.000000000,2021-01-30 16:45:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-01-06 10:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5bbabb27faef5b4e65f2eaf28cb7b6a97699f1ad', 'message': ""[Validator Run] Don't rely on parameter file extension\n\nThis patch safely loads extra vars file using YAML method by default and\ndon't rely anymore on a probable existence of a file extension.\n\nChange-Id: Ia09ca1de9502cd6c99910a6f18ee775c613c10dc\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit cd0e24bbe3a4e9cf5779a6f1d12a9509ce72fd78)\n""}, {'number': 2, 'created': '2021-01-25 18:08:17.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e4ae6d25230d6b85db47bd5eae61b3bcded68195', 'message': ""[Validator Run] Don't rely on parameter file extension\n\nThis patch safely loads extra vars file using YAML method by default and\ndon't rely anymore on a probable existence of a file extension.\n\nChange-Id: Ia09ca1de9502cd6c99910a6f18ee775c613c10dc\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit cd0e24bbe3a4e9cf5779a6f1d12a9509ce72fd78)\n""}]",0,769486,e4ae6d25230d6b85db47bd5eae61b3bcded68195,14,6,2,11491,,,0,"[Validator Run] Don't rely on parameter file extension

This patch safely loads extra vars file using YAML method by default and
don't rely anymore on a probable existence of a file extension.

Change-Id: Ia09ca1de9502cd6c99910a6f18ee775c613c10dc
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit cd0e24bbe3a4e9cf5779a6f1d12a9509ce72fd78)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/86/769486/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,5bbabb27faef5b4e65f2eaf28cb7b6a97699f1ad,victoria," try: with open(parsed_args.extra_vars_file, 'r') as env_file: extra_vars.update(yaml.safe_load(env_file.read())) except yaml.YAMLError as e: error_msg = ( ""The request body must be properly formatted YAML/JSON. "" ""Details: %s."" % e) raise exceptions.CommandError(error_msg)"," with open(parsed_args.extra_vars_file, 'r') as env_file: if '.json' in parsed_args.extra_vars_file: extra_vars.update(json.load(env_file)) else: extra_vars.update(yaml.load(env_file))",8,5
openstack%2Foslo.policy~master~I5d023d0c1e74b01bb3743c54f4a0536085b98e93,openstack/oslo.policy,master,I5d023d0c1e74b01bb3743c54f4a0536085b98e93,Use TOX_CONSTRAINTS_FILE,MERGED,2020-11-01 08:29:02.000000000,2021-01-30 16:33:26.000000000,2021-01-30 16:32:07.000000000,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-01 08:29:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/61e930f5f8ada0978d883cb986c2d0893b5f2838', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n[1] https://review.opendev.org/#/c/722814/\n\nChange-Id: I5d023d0c1e74b01bb3743c54f4a0536085b98e93\n'}]",0,760709,61e930f5f8ada0978d883cb986c2d0893b5f2838,18,3,1,32029,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://review.opendev.org/#/c/722814/

Change-Id: I5d023d0c1e74b01bb3743c54f4a0536085b98e93
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/09/760709/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,61e930f5f8ada0978d883cb986c2d0893b5f2838,tox, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I269607d43f45f65efcbce33dd776e7eb4f475311,openstack/tripleo-heat-templates,stable/victoria,I269607d43f45f65efcbce33dd776e7eb4f475311,Use Ceph-NFS for Manila in scenario004,MERGED,2021-01-27 01:48:23.000000000,2021-01-30 15:56:19.000000000,2021-01-30 15:56:19.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-01-27 01:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/599f572cb7e0f78ff8c32dc14582448fd9226e86', 'message': 'Use Ceph-NFS for Manila in scenario004\n\nCephFS gatewayed by NFS is more generally suitable for multi-tenant\nOpenStack deployments than native CephFS since the latter requires\nthat VMs belonging to regular members of Keystone projects be exposed\nto the Ceph infrastructure and run client software with capabilities\nthat are not appropriate for untrusted cloud tenants.\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-tripleo/+/769906\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ci/+/770049\n\nChange-Id: I269607d43f45f65efcbce33dd776e7eb4f475311\n(cherry picked from commit 63c5a94f83a6d8d9f9cc3e342265002e2e708d81)\n'}, {'number': 2, 'created': '2021-01-27 01:49:10.000000000', 'files': ['roles/Standalone.yaml', 'ci/environments/scenario004-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c2933d3b47d203fa012a6667e61d8377e503a18', 'message': 'Use Ceph-NFS for Manila in scenario004\n\nCephFS gatewayed by NFS is more generally suitable for multi-tenant\nOpenStack deployments than native CephFS since the latter requires\nthat VMs belonging to regular members of Keystone projects be exposed\nto the Ceph infrastructure and run client software with capabilities\nthat are not appropriate for untrusted cloud tenants.\n\nChange-Id: I269607d43f45f65efcbce33dd776e7eb4f475311\n(cherry picked from commit 63c5a94f83a6d8d9f9cc3e342265002e2e708d81)\n'}]",0,772547,7c2933d3b47d203fa012a6667e61d8377e503a18,15,6,2,9003,,,0,"Use Ceph-NFS for Manila in scenario004

CephFS gatewayed by NFS is more generally suitable for multi-tenant
OpenStack deployments than native CephFS since the latter requires
that VMs belonging to regular members of Keystone projects be exposed
to the Ceph infrastructure and run client software with capabilities
that are not appropriate for untrusted cloud tenants.

Change-Id: I269607d43f45f65efcbce33dd776e7eb4f475311
(cherry picked from commit 63c5a94f83a6d8d9f9cc3e342265002e2e708d81)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/772547/2 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'roles/Standalone.yaml']",2,599f572cb7e0f78ff8c32dc14582448fd9226e86,, StorageNFS: subnet: storage_nfs_subnet - OS::TripleO::Services::CephNfs,,8,0
openstack%2Fpython-cinderclient~stable%2Fvictoria~I8bb622c947cada2905e8d756d5a64f08abaeee8d,openstack/python-cinderclient,stable/victoria,I8bb622c947cada2905e8d756d5a64f08abaeee8d,Adjust requirements and lower-constraints,MERGED,2020-12-23 17:00:58.000000000,2021-01-30 15:54:48.000000000,2021-01-30 15:53:36.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-23 17:00:58.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/c91b5172a108356c511d8149ba7b85b814ffc570', 'message': 'Adjust requirements and lower-constraints\n\nConservative changes to get the l-c job passing with the new\npip resolver.\n\nBig changes:\n- pytz 2013.6 -> 2015.7 (u-c allows 2020.1)\n  * needed for babel\n- tempest 17.1.0 -> 24.0.0 (u-c allows 25.0.1)\n  * for dulwich (long story)\n- urllib3 1.21.1 -> 1.24.1 (u-c allows 1.25.10)\n  * for tempest\n- oslo.concurrency 3.25.0 -> 3.26.0 (u-c allows 4.3.1)\n  * for tempest\n- mccabe 0.2.1 -> 0.6.0\n  * for flake8\n\nAlso added dulwich to test-requirements to narrow down versions\nconsidered by the resolver.\n\nChange-Id: I8bb622c947cada2905e8d756d5a64f08abaeee8d\n'}]",0,768358,c91b5172a108356c511d8149ba7b85b814ffc570,9,3,1,5314,,,0,"Adjust requirements and lower-constraints

Conservative changes to get the l-c job passing with the new
pip resolver.

Big changes:
- pytz 2013.6 -> 2015.7 (u-c allows 2020.1)
  * needed for babel
- tempest 17.1.0 -> 24.0.0 (u-c allows 25.0.1)
  * for dulwich (long story)
- urllib3 1.21.1 -> 1.24.1 (u-c allows 1.25.10)
  * for tempest
- oslo.concurrency 3.25.0 -> 3.26.0 (u-c allows 4.3.1)
  * for tempest
- mccabe 0.2.1 -> 0.6.0
  * for flake8

Also added dulwich to test-requirements to narrow down versions
considered by the resolver.

Change-Id: I8bb622c947cada2905e8d756d5a64f08abaeee8d
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/58/768358/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,c91b5172a108356c511d8149ba7b85b814ffc570,vic-l-c,dulwich==0.20.6mccabe==0.6.0oslo.concurrency==3.26.0pytz==2015.7tempest==24.0.0urllib3==1.24.1,mccabe==0.2.1oslo.concurrency==3.25.0pytz==2013.6tempest==17.1.0urllib3==1.21.1,11,6
openstack%2Fnetworking-ovn~stable%2Ftrain~I3192d5acd4dc0ad35b1b081bbd06f18cf7661ed1,openstack/networking-ovn,stable/train,I3192d5acd4dc0ad35b1b081bbd06f18cf7661ed1,[OVN] Fix inconsistent IGMP configuration,MERGED,2020-11-30 10:50:08.000000000,2021-01-30 15:24:55.000000000,2021-01-30 15:23:36.000000000,"[{'_account_id': 1131}, {'_account_id': 11952}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-30 10:50:08.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/common/maintenance.py', 'networking_ovn/tests/unit/common/test_maintenance.py', 'releasenotes/notes/ovn-igmp-flood-unregistered-82aeb640f5dded84.yaml', 'networking_ovn/tests/functional/test_maintenance.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0617bf2a05931e288df311f6326e065571d51294', 'message': '[OVN] Fix inconsistent IGMP configuration\n\nPrior to this patch the IGMP configuration for ML2/OVN was inconsistent\nwith the configuration option description and also the ML2/OVS driver\nbecause it was flooding traffic to unregistered VMs [0].\n\nThe ""igmp_snooping_enable"" configuration option says:\n\n""Setting this option to True will also enable Open vSwitch\nmcast-snooping-disable-flood-unregistered flag. This option will disable\nflooding of unregistered multicast packets to all ports.""\n\nBut, in ML2/OVN that behavior was inconsistent prior to this patch\nbecause it allowed traffic to flood to unregistered VMs. This patch\nfixes it.\n\n[0]\nhttps://opendev.org/openstack/neutron/src/branch/master/neutron/conf/agent/ovs_conf.py#L36-L47\n\nCloses-Bug: #1904399\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 9dc8bca7401106313cb227cb85d07eba7d987cb5)\nChange-Id: I3192d5acd4dc0ad35b1b081bbd06f18cf7661ed1\n'}]",0,764632,0617bf2a05931e288df311f6326e065571d51294,61,4,1,6773,,,0,"[OVN] Fix inconsistent IGMP configuration

Prior to this patch the IGMP configuration for ML2/OVN was inconsistent
with the configuration option description and also the ML2/OVS driver
because it was flooding traffic to unregistered VMs [0].

The ""igmp_snooping_enable"" configuration option says:

""Setting this option to True will also enable Open vSwitch
mcast-snooping-disable-flood-unregistered flag. This option will disable
flooding of unregistered multicast packets to all ports.""

But, in ML2/OVN that behavior was inconsistent prior to this patch
because it allowed traffic to flood to unregistered VMs. This patch
fixes it.

[0]
https://opendev.org/openstack/neutron/src/branch/master/neutron/conf/agent/ovs_conf.py#L36-L47

Closes-Bug: #1904399
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 9dc8bca7401106313cb227cb85d07eba7d987cb5)
Change-Id: I3192d5acd4dc0ad35b1b081bbd06f18cf7661ed1
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/32/764632/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/common/maintenance.py', 'networking_ovn/tests/unit/common/test_maintenance.py', 'releasenotes/notes/ovn-igmp-flood-unregistered-82aeb640f5dded84.yaml', 'networking_ovn/tests/functional/test_maintenance.py']",6,0617bf2a05931e288df311f6326e065571d51294,bug/1904399-igmp-flood-unregistered," 'false', ls['other_config'][ovn_const.MCAST_FLOOD_UNREGISTERED])"," 'true', ls['other_config'][ovn_const.MCAST_FLOOD_UNREGISTERED])",15,7
openstack%2Fproject-config~master~I7336ecc4c7b0ea39c49aa501c1d0e4f96c9eb2a8,openstack/project-config,master,I7336ecc4c7b0ea39c49aa501c1d0e4f96c9eb2a8,Temporarily stop booting nodes in citycloud-kna1,MERGED,2021-01-30 14:37:59.000000000,2021-01-30 15:08:57.000000000,2021-01-30 14:57:52.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-30 14:37:59.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a7edbb7a18ad5e48dcc025dba6583cf13284f87a', 'message': ""Temporarily stop booting nodes in citycloud-kna1\n\nOur mirror server in citycloud-kna1 is unreachable, even after a\nreboot. The console log shows it booted fine and started services,\nbut connectivity seems to die somewhere in Citynetwork's KNA3 core\nrouters. For now, stop booting new job nodes here until we and the\nprovider can work out what's transpired.\n\nChange-Id: I7336ecc4c7b0ea39c49aa501c1d0e4f96c9eb2a8\n""}]",0,773239,a7edbb7a18ad5e48dcc025dba6583cf13284f87a,7,2,1,5263,,,0,"Temporarily stop booting nodes in citycloud-kna1

Our mirror server in citycloud-kna1 is unreachable, even after a
reboot. The console log shows it booted fine and started services,
but connectivity seems to die somewhere in Citynetwork's KNA3 core
routers. For now, stop booting new job nodes here until we and the
provider can work out what's transpired.

Change-Id: I7336ecc4c7b0ea39c49aa501c1d0e4f96c9eb2a8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/39/773239/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,a7edbb7a18ad5e48dcc025dba6583cf13284f87a,citycloud-nodes, max-servers: 0 max-servers: 0, max-servers: 10 max-servers: 16,2,2
openstack%2Fcinder~stable%2Ftrain~I17b30c43aa00214d56c51bde3b9d43c0db1695ac,openstack/cinder,stable/train,I17b30c43aa00214d56c51bde3b9d43c0db1695ac,Ensure pep8/fast8 run in python 3.6,MERGED,2021-01-19 21:26:33.000000000,2021-01-30 14:45:54.000000000,2021-01-30 14:44:32.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-19 21:26:33.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0c5406da76c5c077c055e6462296f6eec6024878', 'message': 'Ensure pep8/fast8 run in python 3.6\n\nRunning pep8 under py38 is resulting in ""AttributeError:\n\'FlakesChecker\' object has no attribute \'CONSTANT\'"".  The least\nintrusive fix seems to be to pin the tox pep8/fast8 testenvs to\npython3.6.  Also, keep pycodestyle under 2.6.0 so we don\'t have to\nmake any purely stylistic changes in stable/train to get pep8 to\npass.\n\nChange-Id: I17b30c43aa00214d56c51bde3b9d43c0db1695ac\n'}]",0,771519,0c5406da76c5c077c055e6462296f6eec6024878,16,5,1,5314,,,0,"Ensure pep8/fast8 run in python 3.6

Running pep8 under py38 is resulting in ""AttributeError:
'FlakesChecker' object has no attribute 'CONSTANT'"".  The least
intrusive fix seems to be to pin the tox pep8/fast8 testenvs to
python3.6.  Also, keep pycodestyle under 2.6.0 so we don't have to
make any purely stylistic changes in stable/train to get pep8 to
pass.

Change-Id: I17b30c43aa00214d56c51bde3b9d43c0db1695ac
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/771519/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,0c5406da76c5c077c055e6462296f6eec6024878,update-hacking,basepython = python3.6basepython = python3.6,basepython = python3basepython = python3,3,3
openstack%2Ftripleo-ansible~stable%2Fussuri~I70d8bebf0d6cbaeff3f108c5da10b6bfbdff8ccf,openstack/tripleo-ansible,stable/ussuri,I70d8bebf0d6cbaeff3f108c5da10b6bfbdff8ccf,Remove pcs/pacemaker package installation from upgrade tasks,MERGED,2021-01-20 20:21:10.000000000,2021-01-30 14:04:15.000000000,2021-01-30 14:04:15.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-20 20:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/099da29ba70e1885475ffe8539911825948e3968', 'message': ""Remove pcs/pacemaker package installation from upgrade tasks\n\nWe currently forcefully install pacemaker + pcs in a number of upgrade\ntasks.  This is suboptimal because on certain nodes pcs/pacemaker repos\nare not enabled.  Let's let puppet pull in those packages normally.\n\nTested this during a queen -> train FFU successfully on a composable\nroles environment.\n\nCloses-Bug: #1911684\n\nChange-Id: I70d8bebf0d6cbaeff3f108c5da10b6bfbdff8ccf\n(cherry picked from commit 62010a641d1794d4e708e31de6a386f99ab8d52f)\n""}, {'number': 2, 'created': '2021-01-27 13:22:59.000000000', 'files': ['tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/900f9fe42771851f022141416915e24c99525c95', 'message': ""Remove pcs/pacemaker package installation from upgrade tasks\n\nWe currently forcefully install pacemaker + pcs in a number of upgrade\ntasks.  This is suboptimal because on certain nodes pcs/pacemaker repos\nare not enabled.  Let's let puppet pull in those packages normally.\n\nTested this during a queen -> train FFU successfully on a composable\nroles environment.\n\nCloses-Bug: #1911684\n\nChange-Id: I70d8bebf0d6cbaeff3f108c5da10b6bfbdff8ccf\n(cherry picked from commit 62010a641d1794d4e708e31de6a386f99ab8d52f)\n""}]",0,771602,900f9fe42771851f022141416915e24c99525c95,23,4,2,20172,,,0,"Remove pcs/pacemaker package installation from upgrade tasks

We currently forcefully install pacemaker + pcs in a number of upgrade
tasks.  This is suboptimal because on certain nodes pcs/pacemaker repos
are not enabled.  Let's let puppet pull in those packages normally.

Tested this during a queen -> train FFU successfully on a composable
roles environment.

Closes-Bug: #1911684

Change-Id: I70d8bebf0d6cbaeff3f108c5da10b6bfbdff8ccf
(cherry picked from commit 62010a641d1794d4e708e31de6a386f99ab8d52f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/02/771602/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml'],1,099da29ba70e1885475ffe8539911825948e3968,fix-ffu-stable/victoria-stable/ussuri,, - pacemaker - pcs,0,2
openstack%2Fironic~master~Iec5fd756aeeb7b9fb34e2c8c120e83c60e8bf8b4,openstack/ironic,master,Iec5fd756aeeb7b9fb34e2c8c120e83c60e8bf8b4,remove unicode from code,ABANDONED,2021-01-03 05:06:59.000000000,2021-01-30 13:33:17.000000000,,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-01-03 05:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/79230e6dd5e02e7378d634ab0fedb94e95b1ecd9', 'message': 'remove unicode from code\n\nChange-Id: Iec5fd756aeeb7b9fb34e2c8c120e83c60e8bf8b4\nImplements: blueprint remove-unicode\n'}, {'number': 2, 'created': '2021-01-03 07:31:29.000000000', 'files': ['ironic/tests/unit/api/test_hooks.py', 'doc/source/conf.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'ironic/tests/unit/drivers/modules/ilo/test_bios.py', 'ironic/tests/unit/drivers/modules/ilo/test_raid.py', 'ironic/tests/unit/drivers/modules/test_image_cache.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/tests/unit/db/utils.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'api-ref/source/conf.py', 'ironic/tests/unit/api/controllers/v1/test_chassis.py', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py', 'ironic/tests/unit/common/test_glance_service.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py', 'ironic/tests/unit/common/test_pxe_utils.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/200815537898ed888259d2845da55354bfb0f6e4', 'message': 'remove unicode from code\n\nChange-Id: Iec5fd756aeeb7b9fb34e2c8c120e83c60e8bf8b4\nImplements: blueprint remove-unicode\n'}]",1,768954,200815537898ed888259d2845da55354bfb0f6e4,11,4,2,32029,,,0,"remove unicode from code

Change-Id: Iec5fd756aeeb7b9fb34e2c8c120e83c60e8bf8b4
Implements: blueprint remove-unicode
",git fetch https://review.opendev.org/openstack/ironic refs/changes/54/768954/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/test_hooks.py', 'doc/source/conf.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'ironic/tests/unit/drivers/modules/ilo/test_bios.py', 'ironic/tests/unit/drivers/modules/ilo/test_raid.py', 'ironic/tests/unit/drivers/modules/test_image_cache.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'ironic/tests/unit/db/utils.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'api-ref/source/conf.py', 'ironic/tests/unit/api/controllers/v1/test_chassis.py', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py', 'ironic/tests/unit/common/test_glance_service.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py', 'ironic/tests/unit/common/test_pxe_utils.py', 'releasenotes/source/conf.py']",18,79230e6dd5e02e7378d634ab0fedb94e95b1ecd9,remove-unicode,"project = 'Ironic Release Notes' copyright = '2015, Ironic Developers' ('index', 'IronicReleaseNotes.tex', 'Ironic Release Notes Documentation', 'Ironic Developers', 'manual'), ('index', 'ironicreleasenotes', 'Ironic Release Notes Documentation', ['Ironic Developers'], 1) ('index', 'IronicReleaseNotes', 'Ironic Release Notes Documentation', 'Ironic Developers', 'IronicReleaseNotes',","project = u'Ironic Release Notes' copyright = u'2015, Ironic Developers' ('index', 'IronicReleaseNotes.tex', u'Ironic Release Notes Documentation', u'Ironic Developers', 'manual'), ('index', 'ironicreleasenotes', u'Ironic Release Notes Documentation', [u'Ironic Developers'], 1) ('index', 'IronicReleaseNotes', u'Ironic Release Notes Documentation', u'Ironic Developers', 'IronicReleaseNotes',",90,90
openstack%2Fpython-ironicclient~master~I708669ae40a1b8272f0d256c93652efdebbafe49,openstack/python-ironicclient,master,I708669ae40a1b8272f0d256c93652efdebbafe49,remove unicode from code,ABANDONED,2021-01-03 08:48:41.000000000,2021-01-30 13:33:09.000000000,,"[{'_account_id': 6618}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-03 08:48:41.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/edd0afc43e92442b457150b6a6878e12fc9159ec', 'message': 'remove unicode from code\n\nImplements: blueprint remove-unicode\nChange-Id: I708669ae40a1b8272f0d256c93652efdebbafe49\n'}]",0,769038,edd0afc43e92442b457150b6a6878e12fc9159ec,5,2,1,32029,,,0,"remove unicode from code

Implements: blueprint remove-unicode
Change-Id: I708669ae40a1b8272f0d256c93652efdebbafe49
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/38/769038/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,edd0afc43e92442b457150b6a6878e12fc9159ec,remove-unicode,"project = 'Ironic Client Release Notes' copyright = '2015, Ironic Developers' 'Ironic Client Release Notes Documentation', 'Ironic Developers', 'manual'), 'Ironic Client Release Notes Documentation', ['Ironic Developers'], 1) 'Ironic Client Release Notes Documentation', 'Ironic Developers', 'IronicClientReleaseNotes',","project = u'Ironic Client Release Notes' copyright = u'2015, Ironic Developers' u'Ironic Client Release Notes Documentation', u'Ironic Developers', 'manual'), u'Ironic Client Release Notes Documentation', [u'Ironic Developers'], 1) u'Ironic Client Release Notes Documentation', u'Ironic Developers', 'IronicClientReleaseNotes',",11,11
openstack%2Foctavia-lib~master~Ib10cd48a3a507d97e40e6a54eaad67e479c90a50,openstack/octavia-lib,master,Ib10cd48a3a507d97e40e6a54eaad67e479c90a50,Remove six from lower-constraints.txt,ABANDONED,2020-11-25 09:42:51.000000000,2021-01-30 13:18:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-11-25 09:42:51.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/16f433543adefd992db20371b0d7bbb3629a624e', 'message': 'Remove six from lower-constraints.txt\n\nChange-Id: Ib10cd48a3a507d97e40e6a54eaad67e479c90a50\n'}]",0,764145,16f433543adefd992db20371b0d7bbb3629a624e,3,1,1,32029,,,0,"Remove six from lower-constraints.txt

Change-Id: Ib10cd48a3a507d97e40e6a54eaad67e479c90a50
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/45/764145/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,16f433543adefd992db20371b0d7bbb3629a624e,remove-six,,six==1.10.0,0,1
openstack%2Fmanila~master~I903993f547466e65dff674c4ca9b182470f63027,openstack/manila,master,I903993f547466e65dff674c4ca9b182470f63027,[part1] Remove six,ABANDONED,2020-12-01 12:19:49.000000000,2021-01-30 13:17:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-12-01 12:19:49.000000000', 'files': ['manila/share/drivers/dell_emc/common/enas/connector.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/test_service_instance.py', 'manila/share/drivers/dell_emc/plugins/powermax/connection.py', 'manila/share_group/api.py', 'manila/api/openstack/wsgi.py', 'manila/share/drivers/dell_emc/plugins/powermax/object_manager.py', 'manila/share/drivers/hpe/hpe_3par_driver.py', 'manila/share/drivers/service_instance.py', 'manila/share/drivers/dell_emc/plugins/isilon/isilon.py', 'manila/share/drivers/qnap/api.py', 'contrib/share_driver_hooks/zaqar_notification_example_consumer.py', 'manila/tests/api/v1/test_limits.py', 'manila/scheduler/evaluator/evaluator.py', 'manila/utils.py', 'manila/share/drivers/dell_emc/plugins/isilon/isilon_api.py', 'manila/api/common.py', 'manila/api/v1/share_types_extra_specs.py', 'manila/tests/share/drivers/dell_emc/plugins/isilon/test_isilon_api.py', 'manila/share/drivers/infinidat/infinibox.py', 'manila/share/drivers/zfssa/restclient.py', 'manila/tests/api/openstack/test_versioned_method.py', 'manila/tests/share/drivers/tegile/test_tegile.py', 'manila/tests/share/drivers/windows/test_service_instance.py', 'manila/share/drivers/generic.py', 'manila/data/manager.py', 'manila/network/linux/interface.py', 'manila/share/drivers/hitachi/hnas/driver.py', 'manila/tests/share/drivers/qnap/test_api.py', 'manila/share/drivers/nexenta/ns5/jsonrpc.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/tests/api/v2/test_share_group_snapshots.py', 'manila/share/drivers/cephfs/driver.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/volume/cinder.py', 'manila/share/drivers/helpers.py', 'manila/tests/share/drivers/dell_emc/plugins/unity/test_connection.py', 'manila/share/drivers/dell_emc/plugins/vnx/connection.py', 'manila/tests/share/drivers/hitachi/hnas/test_ssh.py', 'manila/common/config.py', 'manila/message/api.py', 'manila/tests/share/drivers/maprfs/test_maprfs.py', 'manila/tests/network/linux/test_interface.py', 'manila/share/drivers/huawei/v3/helper.py', 'manila/scheduler/weighers/goodness.py', 'manila/tests/share/drivers/veritas/test_veritas_isa.py', 'manila/exception.py', 'manila/tests/api/v2/test_share_groups.py', 'manila/tests/api/v2/test_share_snapshot_instances.py', 'manila/network/__init__.py', 'manila/api/v2/share_networks.py', 'manila/tests/share/drivers/dell_emc/plugins/isilon/test_isilon.py', 'manila/compute/nova.py', 'manila/share/drivers/hitachi/hnas/ssh.py', 'manila/share/drivers/dell_emc/plugins/vnx/object_manager.py', 'manila/share/access.py', 'manila/tests/share/drivers/hdfs/test_hdfs_native.py', 'manila/tests/utils.py', 'manila/db/migrations/alembic/versions/5077ffcc5f1c_add_share_instances.py', 'manila/share/drivers/inspur/as13000/as13000_nas.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py', 'manila/share/drivers/netapp/utils.py', 'manila/network/neutron/neutron_network_plugin.py', 'manila/coordination.py', 'manila/share/drivers/hpe/hpe_3par_mediator.py', 'manila/share/drivers/quobyte/quobyte.py', 'manila/share/drivers/quobyte/jsonrpc.py', 'manila/tests/share/drivers/nexenta/ns5/test_jsonrpc.py', 'manila/tests/network/test_standalone_network_plugin.py', 'manila/share/drivers/hdfs/hdfs_native.py', 'manila/share/drivers/inspur/instorage/instorage.py', 'manila/tests/share/test_access.py', 'manila/network/linux/ip_lib.py', 'manila/tests/share/drivers/ganesha/test_manager.py', 'manila/tests/test_utils.py', 'manila/api/v2/share_groups.py', 'manila/api/middleware/fault.py', 'manila/tests/api/v2/test_share_replicas.py', 'manila/share/drivers/glusterfs/layout_volume.py', 'manila/share/drivers/maprfs/driver_util.py', 'manila/share/drivers/windows/winrm_helper.py', 'manila/share/drivers/glusterfs/layout_directory.py', 'manila/api/v1/shares.py', 'manila/scheduler/filters/driver.py', 'manila/scheduler/host_manager.py', 'manila/api/v2/share_replicas.py', 'manila/api/v2/share_instance_export_locations.py', 'manila/tests/share/drivers/quobyte/test_jsonrpc.py', 'manila/api/v2/share_group_snapshots.py', 'manila/api/v2/share_group_types.py', 'manila/share/manager.py', 'manila/share/drivers/netapp/dataontap/protocols/nfs_cmode.py', 'manila/tests/cmd/test_manage.py', 'manila/share/drivers/tegile/tegile.py', 'manila/network/standalone_network_plugin.py', 'manila/tests/share/test_manager.py', 'manila/tests/api/openstack/test_api_version_request.py', 'manila/share/drivers/huawei/v3/connection.py', 'manila/share/share_types.py', 'manila/tests/fake_driver.py', 'manila/share/driver.py', 'manila/share/drivers/lvm.py', 'manila/share/drivers/veritas/veritas_isa.py', 'manila/tests/test_exception.py', 'manila/tests/api/middleware/test_faults.py', 'manila/share/api.py', 'manila/share/drivers/netapp/dataontap/client/api.py', 'manila/tests/share/drivers/quobyte/test_quobyte.py', 'manila/api/v2/share_replica_export_locations.py', 'manila/api/v2/share_types.py', 'manila/share/drivers/glusterfs/common.py', 'manila/tests/share/drivers/hpe/test_hpe_3par_mediator.py', 'manila/share/drivers/ganesha/manager.py', 'manila/share/drivers_private_data.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/da478b362e330979e8f245e21abc9de6d1fbc3f4', 'message': '[part1] Remove six\n\nReplace the following items with Python 3 style code\n\nRemove six in follows:\n   - six.text_type\n\nChange-Id: I903993f547466e65dff674c4ca9b182470f63027\n'}]",0,764935,da478b362e330979e8f245e21abc9de6d1fbc3f4,10,2,1,32029,,,0,"[part1] Remove six

Replace the following items with Python 3 style code

Remove six in follows:
   - six.text_type

Change-Id: I903993f547466e65dff674c4ca9b182470f63027
",git fetch https://review.opendev.org/openstack/manila refs/changes/35/764935/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/dell_emc/common/enas/connector.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/test_service_instance.py', 'manila/share/drivers/dell_emc/plugins/powermax/connection.py', 'manila/share_group/api.py', 'manila/api/openstack/wsgi.py', 'manila/share/drivers/dell_emc/plugins/powermax/object_manager.py', 'manila/share/drivers/hpe/hpe_3par_driver.py', 'manila/share/drivers/service_instance.py', 'manila/share/drivers/dell_emc/plugins/isilon/isilon.py', 'manila/share/drivers/qnap/api.py', 'contrib/share_driver_hooks/zaqar_notification_example_consumer.py', 'manila/tests/api/v1/test_limits.py', 'manila/scheduler/evaluator/evaluator.py', 'manila/utils.py', 'manila/share/drivers/dell_emc/plugins/isilon/isilon_api.py', 'manila/api/common.py', 'manila/api/v1/share_types_extra_specs.py', 'manila/tests/share/drivers/dell_emc/plugins/isilon/test_isilon_api.py', 'manila/share/drivers/infinidat/infinibox.py', 'manila/share/drivers/zfssa/restclient.py', 'manila/tests/api/openstack/test_versioned_method.py', 'manila/tests/share/drivers/tegile/test_tegile.py', 'manila/tests/share/drivers/windows/test_service_instance.py', 'manila/share/drivers/generic.py', 'manila/data/manager.py', 'manila/network/linux/interface.py', 'manila/share/drivers/hitachi/hnas/driver.py', 'manila/tests/share/drivers/qnap/test_api.py', 'manila/share/drivers/nexenta/ns5/jsonrpc.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/tests/api/v2/test_share_group_snapshots.py', 'manila/share/drivers/cephfs/driver.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/volume/cinder.py', 'manila/share/drivers/helpers.py', 'manila/tests/share/drivers/dell_emc/plugins/unity/test_connection.py', 'manila/share/drivers/dell_emc/plugins/vnx/connection.py', 'manila/tests/share/drivers/hitachi/hnas/test_ssh.py', 'manila/common/config.py', 'manila/message/api.py', 'manila/tests/share/drivers/maprfs/test_maprfs.py', 'manila/tests/network/linux/test_interface.py', 'manila/share/drivers/huawei/v3/helper.py', 'manila/scheduler/weighers/goodness.py', 'manila/tests/share/drivers/veritas/test_veritas_isa.py', 'manila/exception.py', 'manila/tests/api/v2/test_share_groups.py', 'manila/tests/api/v2/test_share_snapshot_instances.py', 'manila/network/__init__.py', 'manila/api/v2/share_networks.py', 'manila/tests/share/drivers/dell_emc/plugins/isilon/test_isilon.py', 'manila/compute/nova.py', 'manila/share/drivers/hitachi/hnas/ssh.py', 'manila/share/drivers/dell_emc/plugins/vnx/object_manager.py', 'manila/share/access.py', 'manila/tests/share/drivers/hdfs/test_hdfs_native.py', 'manila/tests/utils.py', 'manila/db/migrations/alembic/versions/5077ffcc5f1c_add_share_instances.py', 'manila/share/drivers/inspur/as13000/as13000_nas.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py', 'manila/share/drivers/netapp/utils.py', 'manila/network/neutron/neutron_network_plugin.py', 'manila/coordination.py', 'manila/share/drivers/hpe/hpe_3par_mediator.py', 'manila/share/drivers/quobyte/quobyte.py', 'manila/share/drivers/quobyte/jsonrpc.py', 'manila/tests/share/drivers/nexenta/ns5/test_jsonrpc.py', 'manila/tests/network/test_standalone_network_plugin.py', 'manila/share/drivers/hdfs/hdfs_native.py', 'manila/share/drivers/inspur/instorage/instorage.py', 'manila/tests/share/test_access.py', 'manila/network/linux/ip_lib.py', 'manila/tests/share/drivers/ganesha/test_manager.py', 'manila/tests/test_utils.py', 'manila/api/v2/share_groups.py', 'manila/api/middleware/fault.py', 'manila/tests/api/v2/test_share_replicas.py', 'manila/share/drivers/glusterfs/layout_volume.py', 'manila/share/drivers/maprfs/driver_util.py', 'manila/share/drivers/windows/winrm_helper.py', 'manila/share/drivers/glusterfs/layout_directory.py', 'manila/api/v1/shares.py', 'manila/scheduler/filters/driver.py', 'manila/scheduler/host_manager.py', 'manila/api/v2/share_replicas.py', 'manila/api/v2/share_instance_export_locations.py', 'manila/tests/share/drivers/quobyte/test_jsonrpc.py', 'manila/api/v2/share_group_snapshots.py', 'manila/api/v2/share_group_types.py', 'manila/share/manager.py', 'manila/share/drivers/netapp/dataontap/protocols/nfs_cmode.py', 'manila/tests/cmd/test_manage.py', 'manila/share/drivers/tegile/tegile.py', 'manila/network/standalone_network_plugin.py', 'manila/tests/share/test_manager.py', 'manila/tests/api/openstack/test_api_version_request.py', 'manila/share/drivers/huawei/v3/connection.py', 'manila/share/share_types.py', 'manila/tests/fake_driver.py', 'manila/share/driver.py', 'manila/share/drivers/lvm.py', 'manila/share/drivers/veritas/veritas_isa.py', 'manila/tests/test_exception.py', 'manila/tests/api/middleware/test_faults.py', 'manila/share/api.py', 'manila/share/drivers/netapp/dataontap/client/api.py', 'manila/tests/share/drivers/quobyte/test_quobyte.py', 'manila/api/v2/share_replica_export_locations.py', 'manila/api/v2/share_types.py', 'manila/share/drivers/glusterfs/common.py', 'manila/tests/share/drivers/hpe/test_hpe_3par_mediator.py', 'manila/share/drivers/ganesha/manager.py', 'manila/share/drivers_private_data.py']",115,da478b362e330979e8f245e21abc9de6d1fbc3f4,remove-six, % str(details)) % str(entity_id)), % six.text_type(details)) % six.text_type(entity_id)),453,533
openstack%2Foslo.policy~master~I69ea133d65b622d9c71f5bfbce9af681b113d96b,openstack/oslo.policy,master,I69ea133d65b622d9c71f5bfbce9af681b113d96b,Dropping lower constraints testing,ABANDONED,2021-01-16 04:23:22.000000000,2021-01-30 13:15:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-16 04:23:22.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/082794dec9fc604be8d50e7045012360d07daef9', 'message': ""Dropping lower constraints testing\n\nThis file, and its tests, are not useful for tripleo so we're\nremoving because they're now becoming problematic.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I69ea133d65b622d9c71f5bfbce9af681b113d96b\n""}]",0,771098,082794dec9fc604be8d50e7045012360d07daef9,3,1,1,32029,,,0,"Dropping lower constraints testing

This file, and its tests, are not useful for tripleo so we're
removing because they're now becoming problematic.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I69ea133d65b622d9c71f5bfbce9af681b113d96b
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/98/771098/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,082794dec9fc604be8d50e7045012360d07daef9,oslo_c_l_drop,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,0,57
openstack%2Fpython-octaviaclient~master~I1d5119cb5ce9da0fd6c7a39aeb371a507607b9d7,openstack/python-octaviaclient,master,I1d5119cb5ce9da0fd6c7a39aeb371a507607b9d7,Add tag support for Octavia resources,MERGED,2020-11-13 14:58:42.000000000,2021-01-30 13:07:14.000000000,2021-01-30 13:06:03.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-13 14:58:42.000000000', 'files': ['octaviaclient/osc/v2/l7policy.py', 'octaviaclient/osc/v2/load_balancer.py', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'releasenotes/notes/add-tag-support-01087c4b3c4360dc.yaml', 'octaviaclient/osc/v2/constants.py', 'octaviaclient/osc/v2/l7rule.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/osc/v2/test_member.py', 'octaviaclient/osc/v2/member.py', 'octaviaclient/tests/unit/osc/v2/test_l7rule.py', 'octaviaclient/osc/v2/health_monitor.py', 'octaviaclient/tests/unit/osc/v2/constants.py', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'octaviaclient/osc/v2/listener.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'octaviaclient/osc/v2/pool.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/9c4b85a523f9ad7e540a76b5ebfbea3bd88d13dd', 'message': 'Add tag support for Octavia resources\n\nAdd tag support for load balancers, listeners, pools, health monitors,\nmembers, l7policies and l7rules.\nTags can be set when creating a resource, and can be modified using\nset/unset CLI calls.\nFiltering by tags is also supported when listing resources.\n\nThis commit also fixes some errors when using set/unset l7rule CLI with\nthe --wait flag (l7rule_id and l7policy_id parameters were swapped in\npartial function calls).\n\nStory: 2008347\nTask: 41249\n\nChange-Id: I1d5119cb5ce9da0fd6c7a39aeb371a507607b9d7\n'}]",0,762668,9c4b85a523f9ad7e540a76b5ebfbea3bd88d13dd,15,3,1,29244,,,0,"Add tag support for Octavia resources

Add tag support for load balancers, listeners, pools, health monitors,
members, l7policies and l7rules.
Tags can be set when creating a resource, and can be modified using
set/unset CLI calls.
Filtering by tags is also supported when listing resources.

This commit also fixes some errors when using set/unset l7rule CLI with
the --wait flag (l7rule_id and l7policy_id parameters were swapped in
partial function calls).

Story: 2008347
Task: 41249

Change-Id: I1d5119cb5ce9da0fd6c7a39aeb371a507607b9d7
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/68/762668/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/osc/v2/l7policy.py', 'octaviaclient/osc/v2/load_balancer.py', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'releasenotes/notes/add-tag-support-01087c4b3c4360dc.yaml', 'octaviaclient/osc/v2/constants.py', 'octaviaclient/osc/v2/l7rule.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/osc/v2/test_member.py', 'octaviaclient/osc/v2/member.py', 'octaviaclient/tests/unit/osc/v2/test_l7rule.py', 'octaviaclient/osc/v2/health_monitor.py', 'octaviaclient/tests/unit/osc/v2/constants.py', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'octaviaclient/osc/v2/listener.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'octaviaclient/osc/v2/pool.py']",18,9c4b85a523f9ad7e540a76b5ebfbea3bd88d13dd,,"from osc_lib.utils import tags as _tag _tag.add_tag_option_to_parser_for_create( parser, 'pool') 'session_persistence': v2_utils.format_hash, 'tags': v2_utils.format_list_flat} _tag.add_tag_filtering_option_to_parser(parser, 'pool') 'session_persistence': v2_utils.format_hash, 'tags': v2_utils.format_list_flat} _tag.add_tag_option_to_parser_for_set(parser, 'pool') v2_utils.set_tags_for_set( self.app.client_manager.load_balancer.pool_show, pool_id, attrs, clear_tags=parsed_args.no_tag) _tag.add_tag_option_to_parser_for_unset(parser, 'pool') if not unset_args and not parsed_args.all_tag: v2_utils.set_tags_for_unset( self.app.client_manager.load_balancer.pool_show, pool_id, unset_args, clear_tags=parsed_args.all_tag) ", 'session_persistence': v2_utils.format_hash} 'session_persistence': v2_utils.format_hash} if not unset_args:,1513,61
openstack%2Fpython-tripleoclient~master~Ic9db8d852fbfa50f4ac574ebe524c1fb1d85c588,openstack/python-tripleoclient,master,Ic9db8d852fbfa50f4ac574ebe524c1fb1d85c588,Refactor jinja rendering of templates,MERGED,2021-01-25 03:38:50.000000000,2021-01-30 12:34:05.000000000,2021-01-30 12:29:38.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-25 03:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6a94aa1913629a5f89cfcabcbdc17da5a50cf2c8', 'message': 'Refactor jinja rendering of templates\n\nWe do the same thing for all deployments. Refactor the code\nto utils.\n\nChange-Id: Ic9db8d852fbfa50f4ac574ebe524c1fb1d85c588\n'}, {'number': 2, 'created': '2021-01-25 04:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3989cb40bfca2aeac223e349a590501f694a99ce', 'message': 'Refactor jinja rendering of templates\n\nWe do the same thing for all deployments. Refactor the code\nto utils.\n\nChange-Id: Ic9db8d852fbfa50f4ac574ebe524c1fb1d85c588\n'}, {'number': 3, 'created': '2021-01-25 05:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/04336af72449634946df92d77a97dfdbf574b2ba', 'message': 'Refactor jinja rendering of templates\n\nWe do the same thing for all deployments. Refactor the code\nto utils.\n\nChange-Id: Ic9db8d852fbfa50f4ac574ebe524c1fb1d85c588\n'}, {'number': 4, 'created': '2021-01-25 07:17:58.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e93244a2a5ae3d3e90f6158263043e981c15f1a4', 'message': 'Refactor jinja rendering of templates\n\nWe do the same thing for all deployments. Refactor the code\nto utils.\n\nChange-Id: Ic9db8d852fbfa50f4ac574ebe524c1fb1d85c588\n'}]",0,772244,e93244a2a5ae3d3e90f6158263043e981c15f1a4,16,4,4,8833,,,0,"Refactor jinja rendering of templates

We do the same thing for all deployments. Refactor the code
to utils.

Change-Id: Ic9db8d852fbfa50f4ac574ebe524c1fb1d85c588
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/44/772244/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",3,6a94aa1913629a5f89cfcabcbdc17da5a50cf2c8,env_merging," utils.jinja_render_files(self.log, parsed_args.templates, new_tht_root, parsed_args.roles_file, parsed_args.networks_file, new_tht_root)","import sys # copy tht_root to temporary directory because we need to # download any missing (e.g j2 rendered) files from the plan python_version = sys.version_info[0] python_cmd = ""python{}"".format(python_version) process_templates = os.path.join( parsed_args.templates, 'tools/process-templates.py') roles_file_path = utils.get_roles_file_path( parsed_args.roles_file, new_tht_root) networks_file_path = utils.get_networks_file_path( parsed_args.networks_file, new_tht_root) args = [python_cmd, process_templates, '--roles-data', roles_file_path, '--network-data', networks_file_path, '-p', new_tht_root] if utils.run_command_and_log( self.log, args, new_tht_root) != 0: msg = _(""Problems generating templates."") self.log.error(msg) raise exceptions.DeploymentError(msg)",44,31
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I1133c210f35181d44f8ba56f09b52f00589e035c,openstack/tripleo-heat-templates,stable/victoria,I1133c210f35181d44f8ba56f09b52f00589e035c,Live migration optimization with HP,MERGED,2021-01-26 19:47:56.000000000,2021-01-30 12:32:27.000000000,2021-01-30 12:30:35.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-01-26 19:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84913d0d7e26f384111739844082b88a398518e0', 'message': 'Live migration optimization with HP\n\nWhen a node has hugepages enabled, we can help with live migrations by\nenabling NovaLiveMigrationPermitPostCopy and\nNovaLiveMigrationPermitAutoConverge.\n\nRelated: https://bugzilla.redhat.com/1298201\n\nChange-Id: I1133c210f35181d44f8ba56f09b52f00589e035c\n(cherry picked from commit df207fd2e94e9604cdf48e82cd1dcafb660eadc8)\n'}, {'number': 2, 'created': '2021-01-26 19:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4a3253d9326d0a890feb29794612420506fb866', 'message': 'Live migration optimization with HP\n\nWhen a node has hugepages enabled, we can help with live migrations by\nenabling NovaLiveMigrationPermitPostCopy and\nNovaLiveMigrationPermitAutoConverge.\n\nRelated: https://bugzilla.redhat.com/1298201\n\nConflicts:\n  deployment/nova/nova-compute-container-puppet.yaml\n\nChange-Id: I1133c210f35181d44f8ba56f09b52f00589e035c\n(cherry picked from commit df207fd2e94e9604cdf48e82cd1dcafb660eadc8)\n'}, {'number': 3, 'created': '2021-01-27 03:35:26.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova-live-migration-permit-postcopy-autoconverge-ca1719fd2abed45f.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00cd7c170f424fb3ebcee348a511c635cdab9765', 'message': 'Live migration optimization with HP\n\nWhen a node has hugepages enabled, we can help with live migrations by\nenabling NovaLiveMigrationPermitPostCopy and\nNovaLiveMigrationPermitAutoConverge.\n\nRelated: https://bugzilla.redhat.com/1298201\n\nConflicts:\n  deployment/nova/nova-compute-container-puppet.yaml\n\nChange-Id: I1133c210f35181d44f8ba56f09b52f00589e035c\n(cherry picked from commit df207fd2e94e9604cdf48e82cd1dcafb660eadc8)\n'}]",0,772542,00cd7c170f424fb3ebcee348a511c635cdab9765,21,8,3,27419,,,0,"Live migration optimization with HP

When a node has hugepages enabled, we can help with live migrations by
enabling NovaLiveMigrationPermitPostCopy and
NovaLiveMigrationPermitAutoConverge.

Related: https://bugzilla.redhat.com/1298201

Conflicts:
  deployment/nova/nova-compute-container-puppet.yaml

Change-Id: I1133c210f35181d44f8ba56f09b52f00589e035c
(cherry picked from commit df207fd2e94e9604cdf48e82cd1dcafb660eadc8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/772542/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova-live-migration-permit-postcopy-autoconverge-ca1719fd2abed45f.yaml']",2,84913d0d7e26f384111739844082b88a398518e0,live-migration-optimization,"--- features: - | When a node has hugepages enabled, we can help with live migrations by enabling `NovaLiveMigrationPermitPostCopy` and `NovaLiveMigrationPermitAutoConverge`. These flags are automatically enabled if hugepages are detected, but operators can override these settings. ",,73,0
openstack%2Ftripleo-common~stable%2Fvictoria~Ia244d0fe5964fb8dd43b9cf9d4242a0e2f4abee8,openstack/tripleo-common,stable/victoria,Ia244d0fe5964fb8dd43b9cf9d4242a0e2f4abee8,Use the new IPA-builder element for installing python-hardware,MERGED,2021-01-29 14:49:35.000000000,2021-01-30 12:32:25.000000000,2021-01-30 12:30:08.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-29 14:49:35.000000000', 'files': ['image-yaml/overcloud-images-python3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f26941e85a903e207eedcbeb05267ce2beaf9195', 'message': 'Use the new IPA-builder element for installing python-hardware\n\nThe python3 file was mieed in Id75c11e5b7c4f3bf73c962bc7e46f5a6021efc5f\n\nChange-Id: Ia244d0fe5964fb8dd43b9cf9d4242a0e2f4abee8\n(cherry picked from commit f938e6ee9f1d399c99db3b3dbd718a31587f4aea)\n'}]",0,773006,f26941e85a903e207eedcbeb05267ce2beaf9195,8,3,1,13861,,,0,"Use the new IPA-builder element for installing python-hardware

The python3 file was mieed in Id75c11e5b7c4f3bf73c962bc7e46f5a6021efc5f

Change-Id: Ia244d0fe5964fb8dd43b9cf9d4242a0e2f4abee8
(cherry picked from commit f938e6ee9f1d399c99db3b3dbd718a31587f4aea)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/06/773006/1 && git format-patch -1 --stdout FETCH_HEAD,['image-yaml/overcloud-images-python3.yaml'],1,f26941e85a903e207eedcbeb05267ce2beaf9195,ipa-stable/victoria, - ironic-python-agent-ramdisk - extra-hardware DIB_EPEL_DISABLED: '1', - ironic-agent packages: - python3-hardware-detect,3,3
openstack%2Fpython-tripleoclient~master~I634a76ea262a9bbc653fc2caec5db3c5461be057,openstack/python-tripleoclient,master,I634a76ea262a9bbc653fc2caec5db3c5461be057,Don't create/update plan for overcloud deploy,MERGED,2021-01-19 10:04:46.000000000,2021-01-30 12:32:24.000000000,2021-01-30 12:29:35.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-19 10:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/107a6ed03431649f9af04bddc365026f8bb37158', 'message': ""WIP Don't create/update plan for overcloud deploy\n\nChange-Id: I634a76ea262a9bbc653fc2caec5db3c5461be057\n""}, {'number': 2, 'created': '2021-01-20 03:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/603df7443a96d193295d354d70fe1e4ee430ec69', 'message': ""WIP Don't create/update plan for overcloud deploy\n\nChange-Id: I634a76ea262a9bbc653fc2caec5db3c5461be057\n""}, {'number': 3, 'created': '2021-01-20 05:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/97865ba24f4e91c209cf972fa2bea760e06627b9', 'message': ""WIP Don't create/update plan for overcloud deploy\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/770884\nChange-Id: I634a76ea262a9bbc653fc2caec5db3c5461be057\n""}, {'number': 4, 'created': '2021-01-21 04:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c15f69fd854515e1392aa5608e7d86529f0e97a5', 'message': ""WIP Don't create/update plan for overcloud deploy\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/770884\nChange-Id: I634a76ea262a9bbc653fc2caec5db3c5461be057\n""}, {'number': 5, 'created': '2021-01-21 05:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/784da12bad188ee466e66301a594043402c2217c', 'message': ""WIP Don't create/update plan for overcloud deploy\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/770884\nChange-Id: I634a76ea262a9bbc653fc2caec5db3c5461be057\n""}, {'number': 6, 'created': '2021-01-24 12:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e173c7ba085a01b581829f0f2becdfdcdb454256', 'message': ""Don't create/update plan for overcloud deploy\n\nAs we now manage the stack without the plan, lets\nremove create/update of plan from deployment.\n\nWe'll remove the plan management commands in a\nlater patch.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/770884\nChange-Id: I634a76ea262a9bbc653fc2caec5db3c5461be057\n""}, {'number': 7, 'created': '2021-01-25 02:41:01.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5027962dd7e8663bd43fac9415c908003a4b32bf', 'message': ""Don't create/update plan for overcloud deploy\n\nAs we now manage the stack without the plan, lets\nremove create/update of plan from deployment.\n\nWe'll remove the plan management commands in a\nlater patch.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/770884\nChange-Id: I634a76ea262a9bbc653fc2caec5db3c5461be057\n""}]",3,771395,5027962dd7e8663bd43fac9415c908003a4b32bf,43,4,7,8833,,,0,"Don't create/update plan for overcloud deploy

As we now manage the stack without the plan, lets
remove create/update of plan from deployment.

We'll remove the plan management commands in a
later patch.

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/770884
Change-Id: I634a76ea262a9bbc653fc2caec5db3c5461be057
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/95/771395/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,107a6ed03431649f9af04bddc365026f8bb37158,env_merging, env_path = self._write_user_environment( env_path = self._write_user_environment( return user_env_path,"from tripleoclient.workflows import plan_management env_path, _ = self._write_user_environment( env_path, _ = self._write_user_environment( # Upload to swift if abs_env_path.startswith(""/""): swift_path = ""user-environments/{}"".format(abs_env_path[1:]) else: swift_path = ""user-environments/{}"".format(abs_env_path) contents = yaml.safe_dump(env_map, default_flow_style=False) self.log.debug(""Uploading %s to swift at %s"" % (abs_env_path, swift_path)) self.object_client.put_object(container_name, swift_path, contents) return user_env_path, swift_path def _download_missing_files_from_plan(self, tht_dir, plan_name): # get and download missing files into tmp directory plan_list = self.object_client.get_container(plan_name) plan_filenames = [f['name'] for f in plan_list[1]] for pf in plan_filenames: file_path = os.path.join(tht_dir, pf) if not os.path.isfile(file_path): self.log.debug(""Missing in templates directory, downloading \ %s from swift into %s"" % (pf, file_path)) utils.makedirs(os.path.dirname(file_path)) # open in binary as the swiftclient get/put error under # python3 if opened as Text I/O with open(file_path, 'wb') as f: f.write(self.object_client.get_object(plan_name, pf)[1]) plans = plan_management.list_deployment_plans(self.clients) generate_passwords = not parsed_args.disable_password_generation # TODO(d0ugal): We need to put a more robust strategy in place here to # handle updating plans. if parsed_args.stack in plans: # Upload the new plan templates to swift to replace the existing # templates. plan_management.update_plan_from_templates( self.clients, parsed_args.stack, tht_root, parsed_args.roles_file, generate_passwords, parsed_args.plan_environment_file, parsed_args.networks_file, type(self)._keep_env_on_update, utils.playbook_verbosity(self=self), parsed_args.disable_container_prepare ) else: plan_management.create_plan_from_templates( self.clients, parsed_args.stack, tht_root, parsed_args.roles_file, generate_passwords, parsed_args.plan_environment_file, parsed_args.networks_file, utils.playbook_verbosity(self=self), parsed_args.disable_container_prepare ) # Get any missing (e.g j2 rendered) files from the plan to tht_root self._download_missing_files_from_plan( tht_root, parsed_args.stack) ",4,187
openstack%2Ftripleo-quickstart~master~Ic9ed7a821aab77ed6a140733c397331f5851de33,openstack/tripleo-quickstart,master,Ic9ed7a821aab77ed6a140733c397331f5851de33,Add module_utils to ansible.cfg,MERGED,2021-01-28 07:25:04.000000000,2021-01-30 12:31:21.000000000,2021-01-30 12:29:43.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-28 07:25:04.000000000', 'files': ['ansible.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/faf6d56d49dcc55529a14cb882f646a6df4a1987', 'message': 'Add module_utils to ansible.cfg\n\nSince we are using tripleo-ansible modules, we need to\ninclude module_utils too from tripleo-ansible.\n\nmodules are already added to library path with [1]. But\nsince [2] module_utils are also shipped in tripleo-ansible\nso we need to include those too so those can be used in\nquickstart.\n\nThe issue was not seen in zuul based jobs as in these\njobs tripleo-ansible rpm is installed and tripleo-podman\nmodule_utils got found under default module_utils path[3] which is not\ntrue in standard quickstart based deploys where undercloud is\ndifferent node than virthost.\n\nAlso including default module path in case some other modules\nneed those now or in future.\n\n[1] https://review.opendev.org/730152\n[2] https://review.opendev.org/759015\n[3] /usr/share/ansible/plugins/module_utils/\n\nChange-Id: Ic9ed7a821aab77ed6a140733c397331f5851de33\n'}]",0,772833,faf6d56d49dcc55529a14cb882f646a6df4a1987,21,6,1,13861,,,0,"Add module_utils to ansible.cfg

Since we are using tripleo-ansible modules, we need to
include module_utils too from tripleo-ansible.

modules are already added to library path with [1]. But
since [2] module_utils are also shipped in tripleo-ansible
so we need to include those too so those can be used in
quickstart.

The issue was not seen in zuul based jobs as in these
jobs tripleo-ansible rpm is installed and tripleo-podman
module_utils got found under default module_utils path[3] which is not
true in standard quickstart based deploys where undercloud is
different node than virthost.

Also including default module path in case some other modules
need those now or in future.

[1] https://review.opendev.org/730152
[2] https://review.opendev.org/759015
[3] /usr/share/ansible/plugins/module_utils/

Change-Id: Ic9ed7a821aab77ed6a140733c397331f5851de33
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/33/772833/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible.cfg'],1,faf6d56d49dcc55529a14cb882f646a6df4a1987,bug/1913532,module_utils = $VIRTUAL_ENV/share/ansible/plugins/module_utils:/usr/share/ansible/plugins/module_utils,,1,0
openstack%2Ftripleo-heat-templates~master~I5ab1d2925989fc3da62e6045e56a7bd017c8ec4c,openstack/tripleo-heat-templates,master,I5ab1d2925989fc3da62e6045e56a7bd017c8ec4c,"Revert ""Reset sriov_numvfs to 0 before leapp upgrade""",MERGED,2021-01-12 10:57:41.000000000,2021-01-30 12:30:41.000000000,2021-01-30 12:30:41.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-01-12 10:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/65b0b3478a755c3cf849def9855dc83e03a2fb39', 'message': 'Revert ""Reset sriov_numvfs to 0 before leapp upgrade""\n\nThis reverts commit b3ec034649e0d18de78fcfe5f903cfe9a0a18a6a.\n\nReason for revert: Work is in progress to get the issue fixed in leapp itself via PR https://github.com/oamg/leapp-repository/pull/631\n\nChange-Id: I5ab1d2925989fc3da62e6045e56a7bd017c8ec4c\n'}, {'number': 2, 'created': '2021-01-22 04:07:12.000000000', 'files': ['deployment/neutron/neutron-sriov-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c4d75bc147d0e5fe56b9445d23f0a1ea7a34b141', 'message': 'Revert ""Reset sriov_numvfs to 0 before leapp upgrade""\n\nThis reverts commit b3ec034649e0d18de78fcfe5f903cfe9a0a18a6a.\n\nReason for revert: The patch was introduced as a workaround\nto fix the leapp issue reproduced in v0.10.0 which throws\nexception when the interface is not found. But with the\nrecent version of the leapp package, the issue is not\nreproducible. The leapp upgrade completes succesfully\neven with VFs present. Though the actual leapp commit which\nfixed the issue not traced, the issue is no more present.\nThis workaround can be removed from TripleO, so that\nnic paritioning FFU can be supported.\n\nThis revert is required for nic paritioning FFU, because\nresetting the VFs will hang, when one of the VF is bound\nto the vfio-pci (DPDK) driver.\n\nChange-Id: I5ab1d2925989fc3da62e6045e56a7bd017c8ec4c\n'}]",0,770183,c4d75bc147d0e5fe56b9445d23f0a1ea7a34b141,14,9,2,18575,,,0,"Revert ""Reset sriov_numvfs to 0 before leapp upgrade""

This reverts commit b3ec034649e0d18de78fcfe5f903cfe9a0a18a6a.

Reason for revert: The patch was introduced as a workaround
to fix the leapp issue reproduced in v0.10.0 which throws
exception when the interface is not found. But with the
recent version of the leapp package, the issue is not
reproducible. The leapp upgrade completes succesfully
even with VFs present. Though the actual leapp commit which
fixed the issue not traced, the issue is no more present.
This workaround can be removed from TripleO, so that
nic paritioning FFU can be supported.

This revert is required for nic paritioning FFU, because
resetting the VFs will hang, when one of the VF is bound
to the vfio-pci (DPDK) driver.

Change-Id: I5ab1d2925989fc3da62e6045e56a7bd017c8ec4c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/770183/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-sriov-agent-container-puppet.yaml'],1,65b0b3478a755c3cf849def9855dc83e03a2fb39,ffu16_remove_sriov_devs, upgrade_tasks: []," upgrade_tasks: - name: upgrade prepare for leapp to remove extra sriov vfs tags: - never - system_upgrade - system_upgrade_prepare when: - step|int == 3 - upgrade_leapp_enabled block: - name: reset all vfs as leapp will look for all interfaces on reboot shell: | for item in $(find /sys/class/net/ -type l); do DEVPATH=""$item/device/sriov_numvfs"" if [ -f $DEVPATH ]; then NUM_VFS=$(cat $DEVPATH) if [[ $NUM_VFS != 0 ]]; then echo 0 >$DEVPATH fi fi done - name: remove sriov_config service for leapp upgrade file: path: ""/etc/systemd/system/sriov_config.service"" state: absent register: sriov_config_remove_result - name: reload systemd daemon after removing sriov_config service systemd: daemon-reload: yes when: sriov_config_remove_result['changed']",1,30
openstack%2Ftripleo-heat-templates~master~I74465f5ae77a0666540d3465e2ad29b03f9bd3c3,openstack/tripleo-heat-templates,master,I74465f5ae77a0666540d3465e2ad29b03f9bd3c3,Deleting nova-consoleauth services in post-upgrade,MERGED,2021-01-11 23:05:39.000000000,2021-01-30 12:30:15.000000000,2021-01-30 12:30:15.000000000,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-11 23:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/315ec1974813550d6b62968798bddf4ccb70c62a', 'message': 'Deleting nova-consoleauth services in post-upgrade\n\nnova-consoleauth was removed in Stein. We need to delete the compute\nservices during major upgrades.\n\nRelated: https://bugzilla.redhat.com/1825849\nChange-Id: I74465f5ae77a0666540d3465e2ad29b03f9bd3c3\n'}, {'number': 2, 'created': '2021-01-12 02:32:57.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/04405abdd463163d5586e0b5c9bdff42ae436003', 'message': 'Deleting nova-consoleauth services in post-upgrade\n\nnova-consoleauth was removed in Stein. We need to delete the compute\nservices during major upgrades.\n\nRelated: https://bugzilla.redhat.com/1825849\nChange-Id: I74465f5ae77a0666540d3465e2ad29b03f9bd3c3\n'}]",0,770213,04405abdd463163d5586e0b5c9bdff42ae436003,30,9,2,27419,,,0,"Deleting nova-consoleauth services in post-upgrade

nova-consoleauth was removed in Stein. We need to delete the compute
services during major upgrades.

Related: https://bugzilla.redhat.com/1825849
Change-Id: I74465f5ae77a0666540d3465e2ad29b03f9bd3c3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/770213/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-vnc-proxy-container-puppet.yaml'],1,315ec1974813550d6b62968798bddf4ccb70c62a,delete_nova-consoleauth," post_upgrade_tasks: - when: - step|int == 5 tags: - never - system_upgrade_stop_services environment: OS_USERNAME: admin OS_USER_DOMAIN_NAME: ""Default"" OS_PROJECT_DOMAIN_NAME: ""Default"" OS_PROJECT_NAME: admin OS_PASSWORD: { get_param: AdminPassword } OS_AUTH_URL: { get_param: [EndpointMap, KeystoneV3Public, uri] } OS_IDENTITY_API_VERSION: 3 OS_AUTH_TYPE: password block: - name: Get nova-consoleauth service ID command: openstack compute service list --service nova-consoleauth --column ID --column Host --format yaml register: nova_compute_service_result delegate_to: localhost check_mode: no run_once: yes changed_when: false - name: Deleting nova-consoleauth command: ""openstack compute service delete {{ item.ID }}"" loop: ""{{ nova_compute_service_result.stdout | from_yaml }}"" run_once: yes delegate_to: localhost ignore_errors: yes",,30,0
openstack%2Ftripleo-common~master~I7e081a1831bc00e91cd6967c4c404c0037c85d17,openstack/tripleo-common,master,I7e081a1831bc00e91cd6967c4c404c0037c85d17,Don't use swift plan for existing passwords,MERGED,2021-01-15 06:23:27.000000000,2021-01-30 12:08:15.000000000,2021-01-30 12:06:49.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-15 06:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7b1b374bd2c3f92e964208723514f4e2b2728712', 'message': ""Don't use swift plan for existing passwords\n\nWe'll use the existing stack environment instead.\nWhen we move to ephemeral heat stack, we'll use\na file. Rotate passwords would generate an environment\nwith passwords which can then be used in subsequent\ndeployments.\n\nChange-Id: I7e081a1831bc00e91cd6967c4c404c0037c85d17\n""}, {'number': 2, 'created': '2021-01-15 07:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d4ded7b5454092e96eb19306b02e4dd6d24d53c2', 'message': ""Don't use swift plan for existing passwords\n\nWe'll use the existing stack environment instead.\nWhen we move to ephemeral heat stack, we'll use\na file. Rotate passwords would generate an environment\nwith passwords which can then be used in subsequent\ndeployments.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/765808\nChange-Id: I7e081a1831bc00e91cd6967c4c404c0037c85d17\n""}, {'number': 3, 'created': '2021-01-18 05:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/211558b2572096c76e7c8784a457674fa200a857', 'message': ""Don't use swift plan for existing passwords\n\nWe'll use the existing stack environment instead.\nWhen we move to ephemeral heat stack, we'll use\na file. Rotate passwords would generate an environment\nwith passwords which can then be used in subsequent\ndeployments.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/770096\nChange-Id: I7e081a1831bc00e91cd6967c4c404c0037c85d17\n""}, {'number': 4, 'created': '2021-01-22 09:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c9d581068783cd8c7588907bed24891a7dec2983', 'message': ""Don't use swift plan for existing passwords\n\nWe'll use the existing stack environment instead.\nWhen we move to ephemeral heat stack, we'll use\na file. Rotate passwords would generate an environment\nwith passwords which can then be used in subsequent\ndeployments.\n\nAlso removes the legacy heat resource passwords as we\nprobably allow ffw upgrades from queens to\nwallaby and these passwords would already be in stack\nenvironment.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/770096\nChange-Id: I7e081a1831bc00e91cd6967c4c404c0037c85d17\n""}, {'number': 5, 'created': '2021-01-22 11:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3b72b91dfa0f6f581a65cd682541123b99145d08', 'message': ""Don't use swift plan for existing passwords\n\nWe'll use the existing stack environment instead.\nWhen we move to ephemeral heat stack, we'll use\na file. Rotate passwords would generate an environment\nwith passwords which can then be used in subsequent\ndeployments.\n\nAlso removes the legacy heat resource passwords as we\nprobably won't allow ffw upgrades from queens to\nwallaby and these passwords would already be in stack\nenvironment.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/770096\nChange-Id: I7e081a1831bc00e91cd6967c4c404c0037c85d17\n""}, {'number': 6, 'created': '2021-01-27 07:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5327e67b9fe1d5785a0290c57eb7116309864dc0', 'message': ""Don't use swift plan for existing passwords\n\nWe'll use the existing stack environment instead.\nWhen we move to ephemeral heat stack, we'll use\na file. Rotate passwords would generate an environment\nwith passwords which can then be used in subsequent\ndeployments.\n\nAlso removes the legacy heat resource passwords as we\nprobably won't allow ffw upgrades from queens to\nwallaby and these passwords would already be in stack\nenvironment.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/765808\nChange-Id: I7e081a1831bc00e91cd6967c4c404c0037c85d17\n""}, {'number': 7, 'created': '2021-01-28 02:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/75c1c994a99a3ac1338d0f69cbda6e2af39b72e5', 'message': ""Don't use swift plan for existing passwords\n\nWe'll use the existing stack environment instead.\nWhen we move to ephemeral heat stack, we'll use\na file. Rotate passwords would generate an environment\nwith passwords which can then be used in subsequent\ndeployments.\n\nAlso removes the legacy heat resource passwords as we\nprobably allow ffw upgrades from queens to\nwallaby and these passwords would already be in stack\nenvironment.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/770096\nChange-Id: I7e081a1831bc00e91cd6967c4c404c0037c85d17\n""}, {'number': 8, 'created': '2021-01-28 04:41:51.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/tests/utils/test_plan.py', 'tripleo_common/utils/plan.py', 'tripleo_common/utils/passwords.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fd6df93944df9a11bb95a4b47c270508e0e7a840', 'message': ""Don't use swift plan for existing passwords\n\nWe'll use the existing stack environment instead.\nWhen we move to ephemeral heat stack, we'll use\na file. Rotate passwords would generate an environment\nwith passwords which can then be used in subsequent\ndeployments.\n\nAlso removes the legacy heat resource passwords as we\nprobably allow ffw upgrades from queens to\nwallaby and these passwords would already be in stack\nenvironment.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/765808\nChange-Id: I7e081a1831bc00e91cd6967c4c404c0037c85d17\n""}]",1,770884,fd6df93944df9a11bb95a4b47c270508e0e7a840,51,5,8,8833,,,0,"Don't use swift plan for existing passwords

We'll use the existing stack environment instead.
When we move to ephemeral heat stack, we'll use
a file. Rotate passwords would generate an environment
with passwords which can then be used in subsequent
deployments.

Also removes the legacy heat resource passwords as we
probably allow ffw upgrades from queens to
wallaby and these passwords would already be in stack
environment.

Depends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/765808
Change-Id: I7e081a1831bc00e91cd6967c4c404c0037c85d17
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/84/770884/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_plan.py', 'tripleo_common/utils/plan.py', 'tripleo_common/utils/passwords.py']",3,7b1b374bd2c3f92e964208723514f4e2b2728712,env_merging," rotate_passwords=False, rotate_pw_list=None): if ((not rotate_passwords or ( rotate_pw_list and name not in rotate_pw_list) or name in constants.DO_NOT_ROTATE_LIST) and ( stack_env and name in stack_env.get( 'parameter_defaults', {}))):"," rotate_passwords=False): # Support users upgrading from Mitaka or otherwise creating a plan for # a Heat stack that already exists. if (stack_env and name in stack_env.get('parameter_defaults', {}) and not rotate_passwords):",70,157
openstack%2Ftripleo-common~stable%2Fvictoria~I96ab407ba50e2183141daec3341dbb29545d5beb,openstack/tripleo-common,stable/victoria,I96ab407ba50e2183141daec3341dbb29545d5beb,Check existence of expires_in for auth,MERGED,2021-01-27 16:32:24.000000000,2021-01-30 12:08:12.000000000,2021-01-30 12:06:45.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-27 16:32:24.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3c3ffbd56634a78c916f36ceda2e7e407ff043b1', 'message': ""Check existence of expires_in for auth\n\nIf a registries doesn't provide an expires_in with their token, the\ncurrent code fails doing the comparison. If no such header is included,\nlet's assume there is no expire time so we can just use the cached\ntoken.  If the token expires, we'll reauth as usual.\n\nChange-Id: I96ab407ba50e2183141daec3341dbb29545d5beb\nCloses-Bug: #1912645\n(cherry picked from commit e04774948e8cfa8ac4d2a1f57f0e53e2ef0861ee)\n""}]",0,772717,3c3ffbd56634a78c916f36ceda2e7e407ff043b1,9,4,1,14985,,,0,"Check existence of expires_in for auth

If a registries doesn't provide an expires_in with their token, the
current code fails doing the comparison. If no such header is included,
let's assume there is no expire time so we can just use the cached
token.  If the token expires, we'll reauth as usual.

Change-Id: I96ab407ba50e2183141daec3341dbb29545d5beb
Closes-Bug: #1912645
(cherry picked from commit e04774948e8cfa8ac4d2a1f57f0e53e2ef0861ee)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/17/772717/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,3c3ffbd56634a78c916f36ceda2e7e407ff043b1,bug/1912645-stable/victoria, expires_in = data.get('expires_in') if not expires_in or (now - token_time).seconds < expires_in:, if (now - token_time).seconds < data.get('expires_in'):,2,1
openstack%2Fkolla~stable%2Fstein~I0c4d5e1ea16c6677813a334b38b3a22ad811531d,openstack/kolla,stable/stein,I0c4d5e1ea16c6677813a334b38b3a22ad811531d,CI: Use Docker proxy for pulls + Ruby fixes + get_pip,MERGED,2021-01-26 10:19:10.000000000,2021-01-30 11:06:26.000000000,2021-01-30 11:04:50.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-26 10:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/51c5745a43c1f78b835cf653c9741a799cfbcc72', 'message': 'CI: Use Docker proxy for pulls + Ruby fixes + get_pip\n\nFor Stein (due to CentOS 7) includes as well:\n\n- get_pip macro: fix for Python 2.7\n\n- sensu-client: Pin simpleidn Ruby gem\n\n  simpleidn Ruby gem started requiring Ruby 2.2.\n\n- monasca-grafana: Pin git Ruby gem\n\n  fpm Ruby gem started requiring git Ruby gem\n  git Ruby gem started requiring Ruby 2.3\n\nChange-Id: I0c4d5e1ea16c6677813a334b38b3a22ad811531d\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit a8c12def858b57349207cab5fa8dabb3c23bdfa0)\n'}, {'number': 2, 'created': '2021-01-26 11:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/92a02a38614ff871939a9bf376ec0fb3f32c68b2', 'message': ""CI: Use Docker proxy for pulls + Ruby fixes + get_pip\n\nFor Stein (due to CentOS 7) includes as well:\n\n- get_pip macro: fix for Python 2.7\n\n- sensu-client: Pin simpleidn Ruby gem\n\n  simpleidn Ruby gem started requiring Ruby 2.2.\n\n- monasca-grafana: Pin git Ruby gem\n\n  fpm Ruby gem started requiring git Ruby gem\n  git Ruby gem started requiring Ruby 2.3\n\n- mark helm-repository as unbuildable\n\n  It no longer builds, it's not used, it's been removed...\n\nChange-Id: I0c4d5e1ea16c6677813a334b38b3a22ad811531d\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\nDepends-On: https://review.opendev.org/772501\n(cherry picked from commit a8c12def858b57349207cab5fa8dabb3c23bdfa0)\n""}, {'number': 3, 'created': '2021-01-27 09:32:31.000000000', 'files': ['kolla/image/build.py', 'tests/playbooks/pre.yml', 'docker/monasca/monasca-grafana/Dockerfile.j2', 'docker/macros.j2', 'docker/sensu/sensu-client/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cde47e352f0f1393e9341776f108e45767672858', 'message': ""CI: Use Docker proxy for pulls + Ruby fixes + get_pip\n\nFor Stein (due to CentOS 7) includes as well:\n\n- get_pip macro: fix for Python 2.7\n\n- sensu-client: Pin simpleidn Ruby gem\n\n  simpleidn Ruby gem started requiring Ruby 2.2.\n\n- monasca-grafana: Pin git Ruby gem\n\n  fpm Ruby gem started requiring git Ruby gem\n  git Ruby gem started requiring Ruby 2.3\n\n- mark helm-repository as unbuildable\n\n  It no longer builds, it's not used, it's been removed...\n\nChange-Id: I0c4d5e1ea16c6677813a334b38b3a22ad811531d\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\nDepends-On: https://review.opendev.org/772501\n(cherry picked from commit a8c12def858b57349207cab5fa8dabb3c23bdfa0)\n""}]",3,772490,cde47e352f0f1393e9341776f108e45767672858,17,3,3,14826,,,0,"CI: Use Docker proxy for pulls + Ruby fixes + get_pip

For Stein (due to CentOS 7) includes as well:

- get_pip macro: fix for Python 2.7

- sensu-client: Pin simpleidn Ruby gem

  simpleidn Ruby gem started requiring Ruby 2.2.

- monasca-grafana: Pin git Ruby gem

  fpm Ruby gem started requiring git Ruby gem
  git Ruby gem started requiring Ruby 2.3

- mark helm-repository as unbuildable

  It no longer builds, it's not used, it's been removed...

Change-Id: I0c4d5e1ea16c6677813a334b38b3a22ad811531d
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
Depends-On: https://review.opendev.org/772501
(cherry picked from commit a8c12def858b57349207cab5fa8dabb3c23bdfa0)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/90/772490/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/pre.yml', '.zuul.d/centos.yaml', 'docker/monasca/monasca-grafana/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/macros.j2', '.zuul.d/ubuntu.yaml', '.zuul.d/oraclelinux.yaml', 'docker/sensu/sensu-client/Dockerfile.j2']",8,51c5745a43c1f78b835cf653c9741a799cfbcc72,,"# NOTE(yoctozepto): pinning simpleidn because it started requiring Ruby 2.2 RUN {%if base_package_type == 'rpm' %} gem install whois:""<5"" minitest:""~>5.11.3"" simpleidn:""~>0.1.1"" && {% endif %} sensu-install --plugins {{ sensu_plugins | customizable('plugins') | join (',') }}","RUN {%if base_package_type == 'rpm' %} gem install whois:""<5"" minitest:""~>5.11.3"" && {% endif %} sensu-install --plugins {{ sensu_plugins | customizable('plugins') | join (',') }}",50,29
openstack%2Fkolla-ansible~stable%2Fstein~I9413629c2f254141ef87eaa91bfd7d604e067f30,openstack/kolla-ansible,stable/stein,I9413629c2f254141ef87eaa91bfd7d604e067f30,"CI: restrict pip to <21, pin alembic to avoid ARA failure",MERGED,2021-01-26 11:25:00.000000000,2021-01-30 11:06:25.000000000,2021-01-30 11:04:46.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-26 11:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0e99060120b235e95f82474b8c58a6b5bd3ab789', 'message': 'CI: restrict pip to <21\n\nStein only\n\npip 21 does not support Python 2.\n\nChange-Id: I9413629c2f254141ef87eaa91bfd7d604e067f30\n'}, {'number': 2, 'created': '2021-01-26 14:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5345f3ad87324a56865ac8ef3549c40f04025c97', 'message': 'CI: restrict pip to <21, pin alembic to avoid ARA failure\n\nStein only\n\n- pip 21 does not support Python 2.\n\n- alembic 1.5.0 dropped support for SQLAlchemy 1.2.\n  This patch pins alembic on Python 2 to avoid the failure.\n  It does not affect Python 3 where pip uses the new resolver.\n\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I9413629c2f254141ef87eaa91bfd7d604e067f30\n(cherry picked from commit 9a333b1fad031530e46952dd1f2625800ddea284)\n'}, {'number': 3, 'created': '2021-01-26 14:18:50.000000000', 'files': ['tests/run.yml', 'tests/pre.yml', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/47f51a034a73c81043ba14d9dbe94a72c70b9da2', 'message': 'CI: restrict pip to <21, pin alembic to avoid ARA failure\n\nStein only\n\n- pip 21 does not support Python 2.\n\n- alembic 1.5.0 dropped support for SQLAlchemy 1.2.\n  This patch pins alembic on Python 2 to avoid the failure.\n  It does not affect Python 3 where pip uses the new resolver.\n\n- remove accidentally committed change that always builds images in CI\n\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I9413629c2f254141ef87eaa91bfd7d604e067f30\n(cherry picked from commit 9a333b1fad031530e46952dd1f2625800ddea284)\n'}]",1,772501,47f51a034a73c81043ba14d9dbe94a72c70b9da2,14,4,3,14826,,,0,"CI: restrict pip to <21, pin alembic to avoid ARA failure

Stein only

- pip 21 does not support Python 2.

- alembic 1.5.0 dropped support for SQLAlchemy 1.2.
  This patch pins alembic on Python 2 to avoid the failure.
  It does not affect Python 3 where pip uses the new resolver.

- remove accidentally committed change that always builds images in CI

Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
Change-Id: I9413629c2f254141ef87eaa91bfd7d604e067f30
(cherry picked from commit 9a333b1fad031530e46952dd1f2625800ddea284)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/772501/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/pre.yml'],1,0e99060120b235e95f82474b8c58a6b5bd3ab789,, name: 'pip<21', name: pip,1,1
openstack%2Fironic-lib~master~I241ae6f62e5b91c253c73964ce31e0c3fcc28de1,openstack/ironic-lib,master,I241ae6f62e5b91c253c73964ce31e0c3fcc28de1,Get rid of oslo.serialization,MERGED,2021-01-22 16:02:52.000000000,2021-01-30 10:19:27.000000000,2021-01-30 10:18:06.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 16:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/306bcbac52bf812f828e8f9b0132bb9171bb897c', 'message': 'Get rid of oslo.serialization\n\nNot needed now that we only support Python 3.\n\nChange-Id: I241ae6f62e5b91c253c73964ce31e0c3fcc28de1\n'}, {'number': 2, 'created': '2021-01-22 16:33:40.000000000', 'files': ['ironic_lib/tests/test_exception.py', 'requirements.txt', 'ironic_lib/exception.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/daa5b425808d874d1e0e5368833dddf993568a0f', 'message': 'Get rid of oslo.serialization\n\nNot needed now that we only support Python 3.\n\nChange-Id: I241ae6f62e5b91c253c73964ce31e0c3fcc28de1\n'}]",0,771999,daa5b425808d874d1e0e5368833dddf993568a0f,17,3,2,10239,,,0,"Get rid of oslo.serialization

Not needed now that we only support Python 3.

Change-Id: I241ae6f62e5b91c253c73964ce31e0c3fcc28de1
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/99/771999/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/tests/test_exception.py', 'requirements.txt', 'ironic_lib/exception.py', 'ironic_lib/disk_utils.py']",4,306bcbac52bf812f828e8f9b0132bb9171bb897c,no-oslo-ser,import base64 data = io.BytesIO(base64.b64decode(data)),from oslo_serialization import base64 data = io.BytesIO(base64.decode_as_bytes(data)),8,9
openstack%2Fcharm-octavia~master~I8e5e7a1de8ee11e0ee5a5d8a6268bf6d1c5b8049,openstack/charm-octavia,master,I8e5e7a1de8ee11e0ee5a5d8a6268bf6d1c5b8049,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:33:53.000000000,2021-01-30 09:42:12.000000000,2021-01-30 09:42:12.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-01-15 16:33:53.000000000', 'files': ['rebuild', 'test-requirements.txt', 'src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/33e519260098ec2a3c6af993c2f070dc515bdb3a', 'message': 'Updates for testing period for 20.01 release\n\nIncludes updates to charmhelpers/charms.openstack for cert_utils\nand unit-get for the install hook error on Juju 2.9\n\n* charm-helpers sync for classic charms\n* rebuild for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure master branch for charms.openstack\n  - ensure master branch for charm-helpers\n\nChange-Id: I8e5e7a1de8ee11e0ee5a5d8a6268bf6d1c5b8049\n'}]",0,771041,33e519260098ec2a3c6af993c2f070dc515bdb3a,26,3,1,20870,,,0,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

Change-Id: I8e5e7a1de8ee11e0ee5a5d8a6268bf6d1c5b8049
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/41/771041/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'test-requirements.txt', 'src/wheelhouse.txt']",3,33e519260098ec2a3c6af993c2f070dc515bdb3a,sync-for-21-01, git+https://opendev.org/openstack/charms.openstack.git#egg=charms.openstack git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,,7,1
openstack%2Fnetworking-ovn~stable%2Ftrain~I97b27eaa293fb161724d34da88b4398f8b590c33,openstack/networking-ovn,stable/train,I97b27eaa293fb161724d34da88b4398f8b590c33,Fix leaked file descriptors by cleaning up objects,MERGED,2020-12-04 20:35:23.000000000,2021-01-30 08:55:43.000000000,2021-01-30 08:53:44.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-04 20:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/174a405b4b82287f8dc1eec8eb19e065950173a2', 'message': ""Fix leaked file descriptors by cleaning up objects\n\nA reference to the ovsdbapp Connection object is stored on the the\nAPI impl class and it is causing the object to stick around and\nits pipe fds to never close. Ultimately, python-ovs's call to\nselect() is limited to 1024 file descriptors and will eventually\nerror out. This deletes the connection and api objects explicitly\nwhen we are done with them.\n\nConflicts:\n    netoworking_ovn/octavia/ovn_driver.py\n\nChange-Id: I97b27eaa293fb161724d34da88b4398f8b590c33\nCo-authored-by: Brian Haley <bhaley@redhat.com>\nCloses-Bug: #1894136\n(cherry picked from ovn-octavia-provider commit 5b0715d96700d1c288f601b3ecb2cad507c2c134)\n""}, {'number': 2, 'created': '2020-12-07 18:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/361ebdd8d9f5e41294e1a39100652ac0cbd857a0', 'message': ""Fix leaked file descriptors by cleaning up objects\n\nA reference to the ovsdbapp Connection object is stored on the the\nAPI impl class and it is causing the object to stick around and\nits pipe fds to never close. Ultimately, python-ovs's call to\nselect() is limited to 1024 file descriptors and will eventually\nerror out. This deletes the connection and api objects explicitly\nwhen we are done with them.\n\nConflicts:\n    networking_ovn/octavia/ovn_driver.py\n\nChange-Id: I97b27eaa293fb161724d34da88b4398f8b590c33\nCo-authored-by: Brian Haley <bhaley@redhat.com>\nCloses-Bug: #1894136\n(cherry picked from ovn-octavia-provider commit 5b0715d96700d1c288f601b3ecb2cad507c2c134)\n""}, {'number': 3, 'created': '2021-01-14 22:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e5e6cf309990eedb632eb9688a9dd3f86b4672c9', 'message': ""Fix leaked file descriptors by cleaning up objects\n\nA reference to the ovsdbapp Connection object is stored on the the\nAPI impl class and it is causing the object to stick around and\nits pipe fds to never close. Ultimately, python-ovs's call to\nselect() is limited to 1024 file descriptors and will eventually\nerror out. This deletes the connection and api objects explicitly\nwhen we are done with them.\n\nConflicts:\n    networking_ovn/octavia/ovn_driver.py\n\nChange-Id: I97b27eaa293fb161724d34da88b4398f8b590c33\nCo-authored-by: Brian Haley <bhaley@redhat.com>\nCloses-Bug: #1894136\n(cherry picked from ovn-octavia-provider commit 5b0715d96700d1c288f601b3ecb2cad507c2c134)\n""}, {'number': 4, 'created': '2021-01-15 02:04:18.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/283002079940272c9d34af8fada8cd2d3bc16f9b', 'message': ""Fix leaked file descriptors by cleaning up objects\n\nA reference to the ovsdbapp Connection object is stored on the the\nAPI impl class and it is causing the object to stick around and\nits pipe fds to never close. Ultimately, python-ovs's call to\nselect() is limited to 1024 file descriptors and will eventually\nerror out. This deletes the connection and api objects explicitly\nwhen we are done with them.\n\nConflicts:\n    networking_ovn/octavia/ovn_driver.py\n\nChange-Id: I97b27eaa293fb161724d34da88b4398f8b590c33\nCo-authored-by: Brian Haley <bhaley@redhat.com>\nCloses-Bug: #1894136\n(cherry picked from ovn-octavia-provider commit 5b0715d96700d1c288f601b3ecb2cad507c2c134)\n""}]",0,765620,283002079940272c9d34af8fada8cd2d3bc16f9b,26,4,4,1131,,,0,"Fix leaked file descriptors by cleaning up objects

A reference to the ovsdbapp Connection object is stored on the the
API impl class and it is causing the object to stick around and
its pipe fds to never close. Ultimately, python-ovs's call to
select() is limited to 1024 file descriptors and will eventually
error out. This deletes the connection and api objects explicitly
when we are done with them.

Conflicts:
    networking_ovn/octavia/ovn_driver.py

Change-Id: I97b27eaa293fb161724d34da88b4398f8b590c33
Co-authored-by: Brian Haley <bhaley@redhat.com>
Closes-Bug: #1894136
(cherry picked from ovn-octavia-provider commit 5b0715d96700d1c288f601b3ecb2cad507c2c134)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/20/765620/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,174a405b4b82287f8dc1eec8eb19e065950173a2,bug/1894136," if hasattr(self, 'conn'): if not self.conn.stop(timeout=ovn_cfg.get_ovn_ovsdb_timeout()): LOG.debug(""Connection terminated to OvnNb "" ""but a thread is still alive"") del self.conn del self.ovn_nbdb_api",,6,0
openstack%2Fnetworking-ovn~stable%2Ftrain~I7b12a469ae7197028cf3695520084597f4256480,openstack/networking-ovn,stable/train,I7b12a469ae7197028cf3695520084597f4256480,ovn: Support live migration to DPDK nodes,MERGED,2021-01-18 11:52:43.000000000,2021-01-30 08:35:00.000000000,2021-01-30 08:33:42.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-18 11:52:43.000000000', 'files': ['networking_ovn/ml2/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/503921ca2ecad257adbd19bbcdd61fca2c69c709', 'message': 'ovn: Support live migration to DPDK nodes\n\nPreviously, the vif-plugged event was emitted only when port VIF type\nwas set to normal. In DPDK case, the type is vhostuser. This patch\nmatches the type too and emits the notification to Nova.\n\nCloses-bug: #1910213\n\nCo-Authored-By: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I7b12a469ae7197028cf3695520084597f4256480\n(cherry picked from commit 2340ad217b198735b6bdcddf86d40d0f8c79f7bf)\n'}]",0,771187,503921ca2ecad257adbd19bbcdd61fca2c69c709,20,5,1,8655,,,0,"ovn: Support live migration to DPDK nodes

Previously, the vif-plugged event was emitted only when port VIF type
was set to normal. In DPDK case, the type is vhostuser. This patch
matches the type too and emits the notification to Nova.

Closes-bug: #1910213

Co-Authored-By: Flavio Fernandes <flaviof@redhat.com>

Change-Id: I7b12a469ae7197028cf3695520084597f4256480
(cherry picked from commit 2340ad217b198735b6bdcddf86d40d0f8c79f7bf)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/87/771187/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ml2/mech_driver.py'],1,503921ca2ecad257adbd19bbcdd61fca2c69c709,bug/1910213-stable/train," port[portbindings.VIF_TYPE] in ( portbindings.VIF_TYPE_OVS, portbindings.VIF_TYPE_VHOST_USER))):", port[portbindings.VIF_TYPE] == portbindings.VIF_TYPE_OVS)):,3,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I195358742c19d6ea0a3d32979896c0268e3b55a6,openstack/tripleo-heat-templates,stable/train,I195358742c19d6ea0a3d32979896c0268e3b55a6,nova: Use LIBGUESTFS_BACKEND=direct,MERGED,2021-01-19 07:06:49.000000000,2021-01-30 08:31:05.000000000,2021-01-30 08:31:05.000000000,"[{'_account_id': 3153}, {'_account_id': 6962}, {'_account_id': 7353}, {'_account_id': 8297}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-01-19 07:06:49.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e26e6a1fb472ba8bf5a27d30290f011f05a70d2b', 'message': 'nova: Use LIBGUESTFS_BACKEND=direct\n\nAfter change [1] nova-compute launch libguestfs using the default\n``qemu:///system``, but when ``inject_password` is set to true and\nuser tries to create vm, the vm creation is successful and we could\nsee libguestfs error in nova-compute logs.\n\nThis change forces libvirt to use ``direct`` when launching instances\non host.\n\n[1] Ib55936ea562dfa965be0764647e2b8e3fa309fd6\n\nChange-Id: I195358742c19d6ea0a3d32979896c0268e3b55a6\nCloses-bug: #1912141\n(cherry picked from commit 67917bf65076ce8a0aeb568e48d28dd1bd1f2995)\n(cherry picked from commit 6a37431cedc7efc79e214f66cd3c845bde8bd58e)\n(cherry picked from commit 1484c4560740d68d79008bbc211811e13e5b52b6)\n'}]",0,771361,e26e6a1fb472ba8bf5a27d30290f011f05a70d2b,10,10,1,20733,,,0,"nova: Use LIBGUESTFS_BACKEND=direct

After change [1] nova-compute launch libguestfs using the default
``qemu:///system``, but when ``inject_password` is set to true and
user tries to create vm, the vm creation is successful and we could
see libguestfs error in nova-compute logs.

This change forces libvirt to use ``direct`` when launching instances
on host.

[1] Ib55936ea562dfa965be0764647e2b8e3fa309fd6

Change-Id: I195358742c19d6ea0a3d32979896c0268e3b55a6
Closes-bug: #1912141
(cherry picked from commit 67917bf65076ce8a0aeb568e48d28dd1bd1f2995)
(cherry picked from commit 6a37431cedc7efc79e214f66cd3c845bde8bd58e)
(cherry picked from commit 1484c4560740d68d79008bbc211811e13e5b52b6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/771361/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,e26e6a1fb472ba8bf5a27d30290f011f05a70d2b,lp_1912141, - LIBGUESTFS_BACKEND: direct, - LIBGUESTFS_BACKEND: libvirt:qemu:///system,1,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I195358742c19d6ea0a3d32979896c0268e3b55a6,openstack/tripleo-heat-templates,stable/ussuri,I195358742c19d6ea0a3d32979896c0268e3b55a6,nova: Use LIBGUESTFS_BACKEND=direct,MERGED,2021-01-19 06:01:08.000000000,2021-01-30 08:16:40.000000000,2021-01-30 08:16:40.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8297}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-01-19 06:01:08.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1484c4560740d68d79008bbc211811e13e5b52b6', 'message': 'nova: Use LIBGUESTFS_BACKEND=direct\n\nAfter change [1] nova-compute launch libguestfs using the default\n``qemu:///system``, but when ``inject_password` is set to true and\nuser tries to create vm, the vm creation is successful and we could\nsee libguestfs error in nova-compute logs.\n\nThis change forces libvirt to use ``direct`` when launching instances\non host.\n\n[1] Ib55936ea562dfa965be0764647e2b8e3fa309fd6\n\nChange-Id: I195358742c19d6ea0a3d32979896c0268e3b55a6\nCloses-bug: #1912141\n(cherry picked from commit 67917bf65076ce8a0aeb568e48d28dd1bd1f2995)\n(cherry picked from commit 6a37431cedc7efc79e214f66cd3c845bde8bd58e)\n'}]",0,771357,1484c4560740d68d79008bbc211811e13e5b52b6,10,9,1,20733,,,0,"nova: Use LIBGUESTFS_BACKEND=direct

After change [1] nova-compute launch libguestfs using the default
``qemu:///system``, but when ``inject_password` is set to true and
user tries to create vm, the vm creation is successful and we could
see libguestfs error in nova-compute logs.

This change forces libvirt to use ``direct`` when launching instances
on host.

[1] Ib55936ea562dfa965be0764647e2b8e3fa309fd6

Change-Id: I195358742c19d6ea0a3d32979896c0268e3b55a6
Closes-bug: #1912141
(cherry picked from commit 67917bf65076ce8a0aeb568e48d28dd1bd1f2995)
(cherry picked from commit 6a37431cedc7efc79e214f66cd3c845bde8bd58e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/771357/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,1484c4560740d68d79008bbc211811e13e5b52b6,lp_1912141, - LIBGUESTFS_BACKEND: direct, - LIBGUESTFS_BACKEND: libvirt:qemu:///system,1,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I195358742c19d6ea0a3d32979896c0268e3b55a6,openstack/tripleo-heat-templates,stable/victoria,I195358742c19d6ea0a3d32979896c0268e3b55a6,nova: Use LIBGUESTFS_BACKEND=direct,MERGED,2021-01-19 05:53:27.000000000,2021-01-30 08:05:36.000000000,2021-01-30 08:05:36.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8297}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-01-19 05:53:27.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6a37431cedc7efc79e214f66cd3c845bde8bd58e', 'message': 'nova: Use LIBGUESTFS_BACKEND=direct\n\nAfter change [1] nova-compute launch libguestfs using the default\n``qemu:///system``, but when ``inject_password` is set to true and\nuser tries to create vm, the vm creation is successful and we could\nsee libguestfs error in nova-compute logs.\n\nThis change forces libvirt to use ``direct`` when launching instances\non host.\n\n[1] Ib55936ea562dfa965be0764647e2b8e3fa309fd6\n\nChange-Id: I195358742c19d6ea0a3d32979896c0268e3b55a6\nCloses-bug: #1912141\n(cherry picked from commit 67917bf65076ce8a0aeb568e48d28dd1bd1f2995)\n'}]",0,771356,6a37431cedc7efc79e214f66cd3c845bde8bd58e,16,9,1,20733,,,0,"nova: Use LIBGUESTFS_BACKEND=direct

After change [1] nova-compute launch libguestfs using the default
``qemu:///system``, but when ``inject_password` is set to true and
user tries to create vm, the vm creation is successful and we could
see libguestfs error in nova-compute logs.

This change forces libvirt to use ``direct`` when launching instances
on host.

[1] Ib55936ea562dfa965be0764647e2b8e3fa309fd6

Change-Id: I195358742c19d6ea0a3d32979896c0268e3b55a6
Closes-bug: #1912141
(cherry picked from commit 67917bf65076ce8a0aeb568e48d28dd1bd1f2995)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/771356/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,6a37431cedc7efc79e214f66cd3c845bde8bd58e,lp_1912141, - LIBGUESTFS_BACKEND: direct, - LIBGUESTFS_BACKEND: libvirt:qemu:///system,1,1
openstack%2Fpython-manilaclient~master~Ibde82cf9c36be41403a0e68ecac17cb211725d84,openstack/python-manilaclient,master,Ibde82cf9c36be41403a0e68ecac17cb211725d84,Implement openstack share properties show command,MERGED,2020-11-16 17:04:14.000000000,2021-01-30 07:59:18.000000000,2021-01-30 07:57:59.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31213}]","[{'number': 1, 'created': '2020-11-16 17:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/af452479d6934fa618d9facaf4411b4fb7ff7fc7', 'message': 'Implement openstack share show metadata command\n\nThis commit adds openstack share show metadata command, which implements manila\nmetadata-show functionality.\n\nPartially implements bp openstack-client-support.\n\nChange-Id: Ibde82cf9c36be41403a0e68ecac17cb211725d84\n'}, {'number': 2, 'created': '2020-11-19 19:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a59c8e5fb295c87aee8d43819272fa2a139d6d64', 'message': 'Implement openstack share properties show command\n\nThis commit adds openstack share show metadata command, which implements manila\nmetadata-show functionality.\n\nPartially implements bp openstack-client-support.\n\nUpdated with working unit test.\n\nChange-Id: Ibde82cf9c36be41403a0e68ecac17cb211725d84\n'}, {'number': 3, 'created': '2020-12-08 17:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/3e984764e362fcbf57c305351a5ee0a124744143', 'message': 'Implement openstack share properties show command\n\nThis commit adds openstack share show metadata command, which implements manila\nmetadata-show functionality.\n\nPartially implements bp openstack-client-support.\n\nUpdated with working unit test.\n\nChange-Id: Ibde82cf9c36be41403a0e68ecac17cb211725d84\n'}, {'number': 4, 'created': '2020-12-25 17:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/5e2abd1940aab3fd4fba3c503df09ca70629d867', 'message': 'Implement openstack share properties show command\n\nThis commit adds openstack share show metadata command, which implements manila\nmetadata-show functionality.\n\nPartially implements bp openstack-client-support.\n\nUpdated with working unit test.\n\nChange-Id: Ibde82cf9c36be41403a0e68ecac17cb211725d84\n'}, {'number': 5, 'created': '2021-01-29 00:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7c73e0b58ab0a7650f437599419ca0b7e9f44ffd', 'message': 'Implement openstack share properties show command\n\nThis commit adds openstack share show metadata command, which implements manila\nmetadata-show functionality.\n\nPartially implements bp openstack-client-support.\n\nUpdated with working unit test.\n\nChange-Id: Ibde82cf9c36be41403a0e68ecac17cb211725d84\n'}, {'number': 6, 'created': '2021-01-29 18:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/1df4c32be3e71f9dfbc9da3906a1db34d942c393', 'message': 'Implement openstack share properties show command\n\nThis commit adds openstack share show metadata command, which implements manila\nmetadata-show functionality.\n\nPartially implements bp openstack-client-support.\n\nUpdated with working unit test.\n\nChange-Id: Ibde82cf9c36be41403a0e68ecac17cb211725d84\n'}, {'number': 7, 'created': '2021-01-29 19:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/4be5d3975869cb6b0a8fd0052d9d023162f5939d', 'message': 'Implement openstack share properties show command\n\nThis commit adds openstack share show metadata command, which implements manila\nmetadata-show functionality.\n\nPartially implements bp openstack-client-support.\n\nUpdated with working unit test.\n\nChange-Id: Ibde82cf9c36be41403a0e68ecac17cb211725d84\n'}, {'number': 8, 'created': '2021-01-30 00:08:31.000000000', 'files': ['manilaclient/osc/v2/share.py', 'manilaclient/tests/unit/osc/v2/test_share.py', 'doc/source/cli/osc/v2/index.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c7bcec2969bae9cb7e007cbb5fb8cae849166ea9', 'message': 'Implement openstack share properties show command\n\nThis commit adds openstack share show metadata command, which implements manila\nmetadata-show functionality.\n\nPartially implements bp openstack-client-support.\n\nUpdated with working unit test.\n\nChange-Id: Ibde82cf9c36be41403a0e68ecac17cb211725d84\n'}]",12,762879,c7bcec2969bae9cb7e007cbb5fb8cae849166ea9,34,5,8,32594,,,0,"Implement openstack share properties show command

This commit adds openstack share show metadata command, which implements manila
metadata-show functionality.

Partially implements bp openstack-client-support.

Updated with working unit test.

Change-Id: Ibde82cf9c36be41403a0e68ecac17cb211725d84
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/79/762879/8 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/osc/v2/share.py', 'manilaclient/tests/unit/osc/v2/test_share.py', 'doc/source/cli/osc/v2/index.rst', 'setup.cfg']",4,af452479d6934fa618d9facaf4411b4fb7ff7fc7,bp/openstack-client-support, share_properties_show = manilaclient.osc.v2.share:ShowShareProperties,,61,0
openstack%2Ftripleo-heat-templates~master~I1b4e26fd4a46599985a989441f493a3ed39237bb,openstack/tripleo-heat-templates,master,I1b4e26fd4a46599985a989441f493a3ed39237bb,Use include_role for conditional inclusion,MERGED,2021-01-29 10:47:19.000000000,2021-01-30 07:58:47.000000000,2021-01-30 07:58:47.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-29 10:47:19.000000000', 'files': ['deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/46df551a0f00cf143ddd5cd9c651b08a13a79fb0', 'message': 'Use include_role for conditional inclusion\n\nWhen import_role is used with a condition, the condition is\napplied to all tasks in the role. This is inefficient. If we\nuse include_role instead, then the role inclusion task is\nskipped and none of the tasks in the role are even evaluated.\n\nRelated-bug: rhbz#1922132\n\nChange-Id: I1b4e26fd4a46599985a989441f493a3ed39237bb\n'}]",0,772991,46df551a0f00cf143ddd5cd9c651b08a13a79fb0,8,5,1,6816,,,0,"Use include_role for conditional inclusion

When import_role is used with a condition, the condition is
applied to all tasks in the role. This is inefficient. If we
use include_role instead, then the role inclusion task is
skipped and none of the tasks in the role are even evaluated.

Related-bug: rhbz#1922132

Change-Id: I1b4e26fd4a46599985a989441f493a3ed39237bb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/772991/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/collectd-container-puppet.yaml'],1,46df551a0f00cf143ddd5cd9c651b08a13a79fb0,, include_role:, import_role:,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I5a83ebda6d20336d8c82024bf673d88358a6a675,openstack/tripleo-heat-templates,stable/train,I5a83ebda6d20336d8c82024bf673d88358a6a675,Remove ffwd lifecycle environment files.,MERGED,2021-01-26 13:30:19.000000000,2021-01-30 07:58:40.000000000,2021-01-30 07:58:40.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-01-26 13:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a147bb95b2acdbcac5f5c255ad1992c3433592e', 'message': ""Remove ffwd lifecycle environment files.\n\nNow that [0] has finally merged and the upgrade path\nwill allow jumping multiple releases, we don't require\nto have multiple environment files for the upgrade and\nthe ffwd.\n\nRemoving the ffwd-upgrade-prepare.yaml and ffwd-upgrade-\nconverge.yaml files from environments/lifecycle folder.\n\n[0] - I39b8a846145fdc2fb3d0f6853df541c773ee455e\n\nChange-Id: I5a83ebda6d20336d8c82024bf673d88358a6a675\n(cherry picked from commit 9cbf8a39ae973915912d7cac272382dab98d4104)\n""}, {'number': 2, 'created': '2021-01-27 17:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c3d8cb1e24c7e7bd71f8a0f8b4037bac6bc3c751', 'message': ""Remove ffwd lifecycle environment files.\n\nNow that [0] has finally merged and the upgrade path\nwill allow jumping multiple releases, we don't require\nto have multiple environment files for the upgrade and\nthe ffwd.\n\nRemoving the ffwd-upgrade-prepare.yaml and ffwd-upgrade-\nconverge.yaml files from environments/lifecycle folder.\n\n[0] - I39b8a846145fdc2fb3d0f6853df541c773ee455e\n\nChange-Id: I5a83ebda6d20336d8c82024bf673d88358a6a675\n(cherry picked from commit 9cbf8a39ae973915912d7cac272382dab98d4104)\n""}, {'number': 3, 'created': '2021-01-28 10:05:54.000000000', 'files': ['environments/lifecycle/ffwd-upgrade-converge.yaml', 'environments/lifecycle/ffwd-upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/75f3d22fede79412efa88be3116c69db7e82ca86', 'message': ""Remove ffwd lifecycle environment files.\n\nNow that [0] has finally merged and the upgrade path\nwill allow jumping multiple releases, we don't require\nto have multiple environment files for the upgrade and\nthe ffwd.\n\nRemoving the ffwd-upgrade-prepare.yaml and ffwd-upgrade-\nconverge.yaml files from environments/lifecycle folder.\n\n[0] - I39b8a846145fdc2fb3d0f6853df541c773ee455e\n\nChange-Id: I5a83ebda6d20336d8c82024bf673d88358a6a675\n(cherry picked from commit 9cbf8a39ae973915912d7cac272382dab98d4104)\n""}]",0,772518,75f3d22fede79412efa88be3116c69db7e82ca86,17,5,3,6816,,,0,"Remove ffwd lifecycle environment files.

Now that [0] has finally merged and the upgrade path
will allow jumping multiple releases, we don't require
to have multiple environment files for the upgrade and
the ffwd.

Removing the ffwd-upgrade-prepare.yaml and ffwd-upgrade-
converge.yaml files from environments/lifecycle folder.

[0] - I39b8a846145fdc2fb3d0f6853df541c773ee455e

Change-Id: I5a83ebda6d20336d8c82024bf673d88358a6a675
(cherry picked from commit 9cbf8a39ae973915912d7cac272382dab98d4104)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/772518/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/lifecycle/ffwd-upgrade-converge.yaml', 'environments/lifecycle/ffwd-upgrade-prepare.yaml']",2,3a147bb95b2acdbcac5f5c255ad1992c3433592e,,,"# Environment file used in the first step of a ffwd overcloud upgrade. # This file is required by the tripleoclient and not expected to be updated # by the operator. Please use additional -e env.yaml. resource_registry: OS::TripleO::Ssh::HostPubKey: OS::Heat::None OS::TripleO::Services::Core: OS::Heat::None OS::TripleO::Services::VipHosts: OS::Heat::None OS::TripleO::Services::MongoDb: OS::Heat::None parameter_defaults: NetworkDeploymentActions: ['CREATE','UPDATE'] FastForwardUpgrade: true ",0,22
openstack%2Ftripleo-heat-templates~master~I13b5324ca0b34cdbd3b6a96b077fd4678417b79a,openstack/tripleo-heat-templates,master,I13b5324ca0b34cdbd3b6a96b077fd4678417b79a,WIP/DNM Network validations need to be put after all the network configs,ABANDONED,2021-01-28 14:52:59.000000000,2021-01-30 07:51:07.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-28 14:52:59.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/919eac7a159c85f228df71c8e044328ca466df87', 'message': 'WIP/DNM Network validations need to be put after all the network configs\n\nIn a deployment with a composable HA control plane and with [1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/772738\napplied, I observed the following:\n2021-01-28 12:20:36.003290 | 525400c0-5944-877e-1a94-000000004c2b |     TIMING | tripleo_nodes_validation : Check Controllers availability | networker-2 | 0:07:25.171515 | 0.45s\n2021-01-28 12:20:39.192434 | 525400c0-5944-877e-1a94-000000004c2b |      FATAL | Check Controllers availability | networker-2 | item=172.17.1.141 | error={""ansible_loop_var"": ""controller"", ""changed"": false, ""cmd"": [""ping"", ""-w"", ""10"", ""-c"", ""1"", ""172.17.1.141""], ""controller"": ""172.17.1.141"", ""delta"": ""0:00:03.061310"", ""end"": ""2021-01-28 07:20:38.128392"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2021-01-28 07:20:35.067082"", ""stderr"": """", ""stderr_lines"": [], ""stdout"": ""PING 172.17.1.141 (172.17.1.141) 56(84) bytes of data.\\nFrom 172.17.1.96 icmp_seq=1 Destination Host Unreachable\\nFrom 172.17.1.96 icmp_seq=2 Destination Host Unreachable\\nFrom 172.17.1.96 icmp_seq=3 Destination Host Unreachable\\n\\n--- 172.17.1.141 ping statistics ---\\n4 packets transmitted, 0 received, +3 errors, 100% packet loss, time 61ms\\npipe 4"", ""stdout_lines"": [""PING 172.17.1.141 (172.17.1.141) 56(84) bytes of data."", ""From 172.17.1.96 icmp_seq=1 Destination Host Unreachable"", ""From 172.17.1.96 icmp_seq=2 Destination Host Unreachable"", ""From 172.17.1.96 icmp_seq=3 Destination Host Unreachable"", """", ""--- 172.17.1.141 ping statistics ---"", ""4 packets transmitted, 0 received, +3 errors, 100% packet loss, time 61ms"", ""pipe 4""]}\n\n2021-01-28 12:20:45.427280 | 525400c0-5944-877e-1a94-00000000005b |         OK | NetworkConfig stdout | controller-0 | result={\n2021-01-28 12:20:53.454393 | 525400c0-5944-877e-1a94-00000000005b |         OK | NetworkConfig stdout | controller-2 | result={\n2021-01-28 12:20:55.989076 | 525400c0-5944-877e-1a94-00000000005b |         OK | NetworkConfig stdout | controller-1 | result={\n\nNow it seems to me that with tripleo_free strategy, the network validations\nwhich end up pinging all controllers, are allowed to start any time and\nthere is no guarantee that the controllers are configured beforehand.\n\nLet\'s make this more explicit. NB: I am not sure why I triggered it via\n[1], it might be due to different timings that trigger this race.\n\nNeed to test this first.\n\nChange-Id: I13b5324ca0b34cdbd3b6a96b077fd4678417b79a\n'}]",0,772888,919eac7a159c85f228df71c8e044328ca466df87,6,2,1,20172,,,0,"WIP/DNM Network validations need to be put after all the network configs

In a deployment with a composable HA control plane and with [1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/772738
applied, I observed the following:
2021-01-28 12:20:36.003290 | 525400c0-5944-877e-1a94-000000004c2b |     TIMING | tripleo_nodes_validation : Check Controllers availability | networker-2 | 0:07:25.171515 | 0.45s
2021-01-28 12:20:39.192434 | 525400c0-5944-877e-1a94-000000004c2b |      FATAL | Check Controllers availability | networker-2 | item=172.17.1.141 | error={""ansible_loop_var"": ""controller"", ""changed"": false, ""cmd"": [""ping"", ""-w"", ""10"", ""-c"", ""1"", ""172.17.1.141""], ""controller"": ""172.17.1.141"", ""delta"": ""0:00:03.061310"", ""end"": ""2021-01-28 07:20:38.128392"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2021-01-28 07:20:35.067082"", ""stderr"": """", ""stderr_lines"": [], ""stdout"": ""PING 172.17.1.141 (172.17.1.141) 56(84) bytes of data.\nFrom 172.17.1.96 icmp_seq=1 Destination Host Unreachable\nFrom 172.17.1.96 icmp_seq=2 Destination Host Unreachable\nFrom 172.17.1.96 icmp_seq=3 Destination Host Unreachable\n\n--- 172.17.1.141 ping statistics ---\n4 packets transmitted, 0 received, +3 errors, 100% packet loss, time 61ms\npipe 4"", ""stdout_lines"": [""PING 172.17.1.141 (172.17.1.141) 56(84) bytes of data."", ""From 172.17.1.96 icmp_seq=1 Destination Host Unreachable"", ""From 172.17.1.96 icmp_seq=2 Destination Host Unreachable"", ""From 172.17.1.96 icmp_seq=3 Destination Host Unreachable"", """", ""--- 172.17.1.141 ping statistics ---"", ""4 packets transmitted, 0 received, +3 errors, 100% packet loss, time 61ms"", ""pipe 4""]}

2021-01-28 12:20:45.427280 | 525400c0-5944-877e-1a94-00000000005b |         OK | NetworkConfig stdout | controller-0 | result={
2021-01-28 12:20:53.454393 | 525400c0-5944-877e-1a94-00000000005b |         OK | NetworkConfig stdout | controller-2 | result={
2021-01-28 12:20:55.989076 | 525400c0-5944-877e-1a94-00000000005b |         OK | NetworkConfig stdout | controller-1 | result={

Now it seems to me that with tripleo_free strategy, the network validations
which end up pinging all controllers, are allowed to start any time and
there is no guarantee that the controllers are configured beforehand.

Let's make this more explicit. NB: I am not sure why I triggered it via
[1], it might be due to different timings that trigger this race.

Need to test this first.

Change-Id: I13b5324ca0b34cdbd3b6a96b077fd4678417b79a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/772888/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,919eac7a159c85f228df71c8e044328ca466df87,test-net-validations," tags: - overcloud - pre_deploy_steps - network_deploy_steps {% endraw %} - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST strategy: tripleo_free name: Server network deployments validations gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" any_errors_fatal: yes tasks: {% raw %}",,12,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I13b5324ca0b34cdbd3b6a96b077fd4678417b79a,openstack/tripleo-heat-templates,stable/train,I13b5324ca0b34cdbd3b6a96b077fd4678417b79a,WIP/DNM Network validations need to be put after all the network configs,ABANDONED,2021-01-28 15:22:55.000000000,2021-01-30 07:51:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-28 15:22:55.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f48310025537d82fdee4ad93c4572ade4e636caa', 'message': 'WIP/DNM Network validations need to be put after all the network configs\n\nIn a deployment with a composable HA control plane and with [1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/772738\napplied, I observed the following:\n2021-01-28 12:20:36.003290 | 525400c0-5944-877e-1a94-000000004c2b |     TIMING | tripleo_nodes_validation : Check Controllers availability | networker-2 | 0:07:25.171515 | 0.45s\n2021-01-28 12:20:39.192434 | 525400c0-5944-877e-1a94-000000004c2b |      FATAL | Check Controllers availability | networker-2 | item=172.17.1.141 | error={""ansible_loop_var"": ""controller"", ""changed"": false, ""cmd"": [""ping"", ""-w"", ""10"", ""-c"", ""1"", ""172.17.1.141""], ""controller"": ""172.17.1.141"", ""delta"": ""0:00:03.061310"", ""end"": ""2021-01-28 07:20:38.128392"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2021-01-28 07:20:35.067082"", ""stderr"": """", ""stderr_lines"": [], ""stdout"": ""PING 172.17.1.141 (172.17.1.141) 56(84) bytes of data.\\nFrom 172.17.1.96 icmp_seq=1 Destination Host Unreachable\\nFrom 172.17.1.96 icmp_seq=2 Destination Host Unreachable\\nFrom 172.17.1.96 icmp_seq=3 Destination Host Unreachable\\n\\n--- 172.17.1.141 ping statistics ---\\n4 packets transmitted, 0 received, +3 errors, 100% packet loss, time 61ms\\npipe 4"", ""stdout_lines"": [""PING 172.17.1.141 (172.17.1.141) 56(84) bytes of data."", ""From 172.17.1.96 icmp_seq=1 Destination Host Unreachable"", ""From 172.17.1.96 icmp_seq=2 Destination Host Unreachable"", ""From 172.17.1.96 icmp_seq=3 Destination Host Unreachable"", """", ""--- 172.17.1.141 ping statistics ---"", ""4 packets transmitted, 0 received, +3 errors, 100% packet loss, time 61ms"", ""pipe 4""]}\n\n2021-01-28 12:20:45.427280 | 525400c0-5944-877e-1a94-00000000005b |         OK | NetworkConfig stdout | controller-0 | result={\n2021-01-28 12:20:53.454393 | 525400c0-5944-877e-1a94-00000000005b |         OK | NetworkConfig stdout | controller-2 | result={\n2021-01-28 12:20:55.989076 | 525400c0-5944-877e-1a94-00000000005b |         OK | NetworkConfig stdout | controller-1 | result={\n\nNow it seems to me that with tripleo_free strategy, the network validations\nwhich end up pinging all controllers, are allowed to start any time and\nthere is no guarantee that the controllers are configured beforehand.\n\nLet\'s make this more explicit. NB: I am not sure why I triggered it via\n[1], it might be due to different timings that trigger this race.\n\nNeed to test this first.\n\nChange-Id: I13b5324ca0b34cdbd3b6a96b077fd4678417b79a\n'}]",0,772891,f48310025537d82fdee4ad93c4572ade4e636caa,6,2,1,20172,,,0,"WIP/DNM Network validations need to be put after all the network configs

In a deployment with a composable HA control plane and with [1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/772738
applied, I observed the following:
2021-01-28 12:20:36.003290 | 525400c0-5944-877e-1a94-000000004c2b |     TIMING | tripleo_nodes_validation : Check Controllers availability | networker-2 | 0:07:25.171515 | 0.45s
2021-01-28 12:20:39.192434 | 525400c0-5944-877e-1a94-000000004c2b |      FATAL | Check Controllers availability | networker-2 | item=172.17.1.141 | error={""ansible_loop_var"": ""controller"", ""changed"": false, ""cmd"": [""ping"", ""-w"", ""10"", ""-c"", ""1"", ""172.17.1.141""], ""controller"": ""172.17.1.141"", ""delta"": ""0:00:03.061310"", ""end"": ""2021-01-28 07:20:38.128392"", ""msg"": ""non-zero return code"", ""rc"": 1, ""start"": ""2021-01-28 07:20:35.067082"", ""stderr"": """", ""stderr_lines"": [], ""stdout"": ""PING 172.17.1.141 (172.17.1.141) 56(84) bytes of data.\nFrom 172.17.1.96 icmp_seq=1 Destination Host Unreachable\nFrom 172.17.1.96 icmp_seq=2 Destination Host Unreachable\nFrom 172.17.1.96 icmp_seq=3 Destination Host Unreachable\n\n--- 172.17.1.141 ping statistics ---\n4 packets transmitted, 0 received, +3 errors, 100% packet loss, time 61ms\npipe 4"", ""stdout_lines"": [""PING 172.17.1.141 (172.17.1.141) 56(84) bytes of data."", ""From 172.17.1.96 icmp_seq=1 Destination Host Unreachable"", ""From 172.17.1.96 icmp_seq=2 Destination Host Unreachable"", ""From 172.17.1.96 icmp_seq=3 Destination Host Unreachable"", """", ""--- 172.17.1.141 ping statistics ---"", ""4 packets transmitted, 0 received, +3 errors, 100% packet loss, time 61ms"", ""pipe 4""]}

2021-01-28 12:20:45.427280 | 525400c0-5944-877e-1a94-00000000005b |         OK | NetworkConfig stdout | controller-0 | result={
2021-01-28 12:20:53.454393 | 525400c0-5944-877e-1a94-00000000005b |         OK | NetworkConfig stdout | controller-2 | result={
2021-01-28 12:20:55.989076 | 525400c0-5944-877e-1a94-00000000005b |         OK | NetworkConfig stdout | controller-1 | result={

Now it seems to me that with tripleo_free strategy, the network validations
which end up pinging all controllers, are allowed to start any time and
there is no guarantee that the controllers are configured beforehand.

Let's make this more explicit. NB: I am not sure why I triggered it via
[1], it might be due to different timings that trigger this race.

Need to test this first.

Change-Id: I13b5324ca0b34cdbd3b6a96b077fd4678417b79a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/772891/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,f48310025537d82fdee4ad93c4572ade4e636caa,train-net-validations," tags: - overcloud - pre_deploy_steps {% endraw %} - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST strategy: tripleo_free name: Server network deployments validations gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" any_errors_fatal: yes tasks: {% raw %}",,11,1
openstack%2Fopenstack-helm-images~master~I06109f32ed1a1591ac05ea12ffc7e209bf64ebbf,openstack/openstack-helm-images,master,I06109f32ed1a1591ac05ea12ffc7e209bf64ebbf,Use proper pip bootstraping url for xenial,MERGED,2021-01-29 23:29:27.000000000,2021-01-30 07:45:31.000000000,2021-01-30 07:43:54.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}]","[{'number': 1, 'created': '2021-01-29 23:29:27.000000000', 'files': ['ceph-config-helper/Dockerfile.ubuntu_xenial', 'ceph-daemon/Dockerfile.ubuntu_xenial'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/218d0f86e7d64e11df5a6fb19a696bb42d23e4dc', 'message': 'Use proper pip bootstraping url for xenial\n\nChange-Id: I06109f32ed1a1591ac05ea12ffc7e209bf64ebbf\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,773194,218d0f86e7d64e11df5a6fb19a696bb42d23e4dc,9,7,1,8863,,,0,"Use proper pip bootstraping url for xenial

Change-Id: I06109f32ed1a1591ac05ea12ffc7e209bf64ebbf
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/94/773194/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-config-helper/Dockerfile.ubuntu_xenial', 'ceph-daemon/Dockerfile.ubuntu_xenial']",2,218d0f86e7d64e11df5a6fb19a696bb42d23e4dc,, curl -sSL https://bootstrap.pypa.io/3.5/get-pip.py | python3 ;\, curl -sSL https://bootstrap.pypa.io/get-pip.py | python3 ;\,2,2
openstack%2Ftripleo-upgrade~stable%2Fussuri~I02243028a5ba3c6450e7633740fcfd757d9b20b6,openstack/tripleo-upgrade,stable/ussuri,I02243028a5ba3c6450e7633740fcfd757d9b20b6,[ffwd] Disable scheduling on computes before upgrade,MERGED,2020-12-23 11:07:53.000000000,2021-01-30 06:43:49.000000000,2021-01-30 06:43:49.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-23 11:07:53.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0c6be5be3970a2ec91058441b0ba0e294222d370', 'message': '[ffwd] Disable scheduling on computes before upgrade\n\nWhen testing OCP on OSP it was noticed that our automation is too\ncrude and does not disable scheduling on upgraded computes. This\nresults with few dead workloads that got scheduled on the compute\nright before the upgrade.\n\nChange-Id: I02243028a5ba3c6450e7633740fcfd757d9b20b6\nResolves: UPG-2447\n(cherry picked from commit c4193adc62a613c2dafad711dbe0e331e44b2578)\n'}]",0,768327,0c6be5be3970a2ec91058441b0ba0e294222d370,8,2,1,11166,,,0,"[ffwd] Disable scheduling on computes before upgrade

When testing OCP on OSP it was noticed that our automation is too
crude and does not disable scheduling on upgraded computes. This
results with few dead workloads that got scheduled on the compute
right before the upgrade.

Change-Id: I02243028a5ba3c6450e7633740fcfd757d9b20b6
Resolves: UPG-2447
(cherry picked from commit c4193adc62a613c2dafad711dbe0e331e44b2578)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/27/768327/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'],1,0c6be5be3970a2ec91058441b0ba0e294222d370,,"- name: Disable scheduling on {{ host }} when: - compute_present|bool shell: | set -o pipefail source {{ overcloud_rc }} HOST=""$(openstack compute service list -f value -c Host | grep {{ host }})"" openstack compute service set --disable --disable-reason FFWD ""$HOST"" nova-compute - name: Enable scheduling on {{ host }} when: - compute_present|bool shell: | set -o pipefail source {{ overcloud_rc }} HOST=""$(openstack compute service list -f value -c Host | grep {{ host }})"" openstack compute service set --enable ""$HOST"" nova-compute ",,18,0
openstack%2Ftripleo-upgrade~stable%2Fussuri~I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556,openstack/tripleo-upgrade,stable/ussuri,I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556,[FFWD] Propose a fix for node_upgrade_pre.sh.j2,MERGED,2021-01-29 09:42:38.000000000,2021-01-30 06:43:44.000000000,2021-01-30 06:43:44.000000000,"[{'_account_id': 11166}, {'_account_id': 20171}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 09:42:38.000000000', 'files': ['templates/node_upgrade_pre.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0498d0eef1ca02be6349d5a1bc3df5d962ef2082', 'message': '[FFWD] Propose a fix for node_upgrade_pre.sh.j2\n\nIf overcloud already exist and migration needed before compute upgrade\nWhich means workload_launch=false and compute_present=true\ncompute_upgrade_pre.sh is not created.\nThis fix allows the above parameter mix to create and run\ncompute_upgrade_pre.sh\n\nAdding condition check in compute_upgrade_pre.sh\n1) If no active computes on host, live migration will not occur\n2) Adding --all param to see tenant vms on compute\n\nChange-Id: I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556\n(cherry picked from commit b8d3218d1e40d3593d022d66ad3d91ccf01adf85)\n'}]",0,773001,0498d0eef1ca02be6349d5a1bc3df5d962ef2082,6,3,1,6816,,,0,"[FFWD] Propose a fix for node_upgrade_pre.sh.j2

If overcloud already exist and migration needed before compute upgrade
Which means workload_launch=false and compute_present=true
compute_upgrade_pre.sh is not created.
This fix allows the above parameter mix to create and run
compute_upgrade_pre.sh

Adding condition check in compute_upgrade_pre.sh
1) If no active computes on host, live migration will not occur
2) Adding --all param to see tenant vms on compute

Change-Id: I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556
(cherry picked from commit b8d3218d1e40d3593d022d66ad3d91ccf01adf85)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/01/773001/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/node_upgrade_pre.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml']",3,0498d0eef1ca02be6349d5a1bc3df5d962ef2082,fix-compute-migration-ffup-stable/ussuri, when: (compute_present | bool) or (workload_launch | bool), when: - compute_present|bool - workload_launch|bool,11,9
openstack%2Ftripleo-upgrade~stable%2Fvictoria~I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556,openstack/tripleo-upgrade,stable/victoria,I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556,[FFWD] Propose a fix for node_upgrade_pre.sh.j2,MERGED,2021-01-29 09:42:19.000000000,2021-01-30 06:43:27.000000000,2021-01-30 06:43:27.000000000,"[{'_account_id': 11166}, {'_account_id': 20171}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 09:42:19.000000000', 'files': ['templates/node_upgrade_pre.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/038a477958a87da77d2471bda9c4a66222776cdc', 'message': '[FFWD] Propose a fix for node_upgrade_pre.sh.j2\n\nIf overcloud already exist and migration needed before compute upgrade\nWhich means workload_launch=false and compute_present=true\ncompute_upgrade_pre.sh is not created.\nThis fix allows the above parameter mix to create and run\ncompute_upgrade_pre.sh\n\nAdding condition check in compute_upgrade_pre.sh\n1) If no active computes on host, live migration will not occur\n2) Adding --all param to see tenant vms on compute\n\nChange-Id: I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556\n(cherry picked from commit b8d3218d1e40d3593d022d66ad3d91ccf01adf85)\n'}]",0,773000,038a477958a87da77d2471bda9c4a66222776cdc,6,3,1,6816,,,0,"[FFWD] Propose a fix for node_upgrade_pre.sh.j2

If overcloud already exist and migration needed before compute upgrade
Which means workload_launch=false and compute_present=true
compute_upgrade_pre.sh is not created.
This fix allows the above parameter mix to create and run
compute_upgrade_pre.sh

Adding condition check in compute_upgrade_pre.sh
1) If no active computes on host, live migration will not occur
2) Adding --all param to see tenant vms on compute

Change-Id: I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556
(cherry picked from commit b8d3218d1e40d3593d022d66ad3d91ccf01adf85)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/00/773000/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/node_upgrade_pre.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml']",3,038a477958a87da77d2471bda9c4a66222776cdc,fix-compute-migration-ffup-stable/victoria, when: (compute_present | bool) or (workload_launch | bool), when: - compute_present|bool - workload_launch|bool,11,9
openstack%2Ftripleo-upgrade~stable%2Ftrain~I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556,openstack/tripleo-upgrade,stable/train,I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556,[FFWD] Propose a fix for node_upgrade_pre.sh.j2,MERGED,2021-01-29 09:42:56.000000000,2021-01-30 06:43:22.000000000,2021-01-30 06:43:22.000000000,"[{'_account_id': 11166}, {'_account_id': 20171}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 09:42:56.000000000', 'files': ['templates/node_upgrade_pre.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/460c2fbbc3ba5f3ca896327cac3e565a8f21e13d', 'message': '[FFWD] Propose a fix for node_upgrade_pre.sh.j2\n\nIf overcloud already exist and migration needed before compute upgrade\nWhich means workload_launch=false and compute_present=true\ncompute_upgrade_pre.sh is not created.\nThis fix allows the above parameter mix to create and run\ncompute_upgrade_pre.sh\n\nAdding condition check in compute_upgrade_pre.sh\n1) If no active computes on host, live migration will not occur\n2) Adding --all param to see tenant vms on compute\n\nChange-Id: I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556\n(cherry picked from commit b8d3218d1e40d3593d022d66ad3d91ccf01adf85)\n'}]",0,773002,460c2fbbc3ba5f3ca896327cac3e565a8f21e13d,6,3,1,6816,,,0,"[FFWD] Propose a fix for node_upgrade_pre.sh.j2

If overcloud already exist and migration needed before compute upgrade
Which means workload_launch=false and compute_present=true
compute_upgrade_pre.sh is not created.
This fix allows the above parameter mix to create and run
compute_upgrade_pre.sh

Adding condition check in compute_upgrade_pre.sh
1) If no active computes on host, live migration will not occur
2) Adding --all param to see tenant vms on compute

Change-Id: I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556
(cherry picked from commit b8d3218d1e40d3593d022d66ad3d91ccf01adf85)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/02/773002/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/node_upgrade_pre.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml']",3,460c2fbbc3ba5f3ca896327cac3e565a8f21e13d,fix-compute-migration-ffup-stable/ussuri-stable/train, when: (compute_present | bool) or (workload_launch | bool), when: - compute_present|bool - workload_launch|bool,11,9
openstack%2Ftripleo-upgrade~stable%2Fussuri~I95e7feef641e7107c349e4d1185f88b2e57eb143,openstack/tripleo-upgrade,stable/ussuri,I95e7feef641e7107c349e4d1185f88b2e57eb143,Host evacuate dynamic limit,MERGED,2021-01-06 17:06:12.000000000,2021-01-30 06:43:19.000000000,2021-01-30 06:43:19.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-01-06 17:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0fc12e8f22228fc2f2079fe025d8dbf299642a47', 'message': 'Host evacuate dynamic limit\n\nInstead of hardcoded 120 seconds limit we wait 60 + 60 * VMs of\nthe compute for the evacuation.\n\nChange-Id: I95e7feef641e7107c349e4d1185f88b2e57eb143\n(cherry picked from commit 5ddecd46e063a65a2b49ccacd01a0e4f4cc594d0)\n'}, {'number': 2, 'created': '2021-01-29 09:31:39.000000000', 'files': ['templates/node_upgrade_pre.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7ced33a3b20beb3268ec28e7d88c714e2b1f16f9', 'message': 'Host evacuate dynamic limit\n\nInstead of hardcoded 120 seconds limit we wait 60 + 60 * VMs of\nthe compute for the evacuation.\n\nChange-Id: I95e7feef641e7107c349e4d1185f88b2e57eb143\n(cherry picked from commit 5ddecd46e063a65a2b49ccacd01a0e4f4cc594d0)\n'}]",0,769584,7ced33a3b20beb3268ec28e7d88c714e2b1f16f9,19,3,2,11166,,,0,"Host evacuate dynamic limit

Instead of hardcoded 120 seconds limit we wait 60 + 60 * VMs of
the compute for the evacuation.

Change-Id: I95e7feef641e7107c349e4d1185f88b2e57eb143
(cherry picked from commit 5ddecd46e063a65a2b49ccacd01a0e4f4cc594d0)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/84/769584/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/node_upgrade_pre.sh.j2'],1,0fc12e8f22228fc2f2079fe025d8dbf299642a47,,"INSTANCE_COUNT=$(openstack server list --host ${HOST} -f json | jq -r -c '[.[] | select(.Status | contains(""ACTIVE"") or contains(""PAUSED"") or contains(""MIGRATING""))] | length') timeout_seconds=$(( 60 * ( $INSTANCE_COUNT + 1 ) ))",timeout_seconds=120,2,1
openstack%2Fstorlets~master~I762d0c2bac47192fdb8f766775184c5fb603dbb1,openstack/storlets,master,I762d0c2bac47192fdb8f766775184c5fb603dbb1,"Revert ""remove py37""",MERGED,2021-01-14 06:00:34.000000000,2021-01-30 06:24:13.000000000,2021-01-30 06:22:12.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-14 06:00:34.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/storlets/commit/93fc96b3b1793522cadcc5b2145dc84e789376b7', 'message': 'Revert ""remove py37""\n\nThis reverts commit e4df37f77ca275ca29c27a0c9067b7e0948f29ce.\n\nReason of revert:Python 3.7 *is* supported because it falls\nin the range of supported Python versions (3.6-3.8) [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019648.html\n\nChange-Id: I762d0c2bac47192fdb8f766775184c5fb603dbb1\n'}]",0,770711,93fc96b3b1793522cadcc5b2145dc84e789376b7,7,2,1,32238,,,0,"Revert ""remove py37""

This reverts commit e4df37f77ca275ca29c27a0c9067b7e0948f29ce.

Reason of revert:Python 3.7 *is* supported because it falls
in the range of supported Python versions (3.6-3.8) [1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019648.html

Change-Id: I762d0c2bac47192fdb8f766775184c5fb603dbb1
",git fetch https://review.opendev.org/openstack/storlets refs/changes/11/770711/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,93fc96b3b1793522cadcc5b2145dc84e789376b7,, Programming Language :: Python :: 3.7,,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ie7eb7905eb33235fc73f94b9e84f553394e951fd,openstack/tripleo-heat-templates,stable/train,Ie7eb7905eb33235fc73f94b9e84f553394e951fd,Fix ownership of octavia_rsyslog log directory,MERGED,2021-01-19 13:50:48.000000000,2021-01-30 05:25:35.000000000,2021-01-30 05:25:35.000000000,"[{'_account_id': 1131}, {'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-19 13:50:48.000000000', 'files': ['deployment/octavia/octavia-health-manager-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4dd0f9dab57f143acc2f4993a33476931bfa75c8', 'message': ""Fix ownership of octavia_rsyslog log directory\n\nThe octavia_rsyslog container should not use the octavia user and group\nsince the rsyslog image doesn't know about that user. It should use\nroot and have a dedicated log directory on the host to avoid mixing\nownerships with the octavia containers that are running as octavia user.\n\nConflicts:\n\tdeployment/octavia/octavia-health-manager-container-puppet.yaml\n\nChange-Id: Ie7eb7905eb33235fc73f94b9e84f553394e951fd\nCloses-Bug: #1907260\n(cherry picked from commit ffd86b3f2c7352ff530d6f37664aaa76b9a81b1c)\n(cherry picked from commit 890c149f5aabb5e698043f2324e2e05386c9e015)\n(cherry picked from commit 94236c7576c8921b637ff397e84711d154d31460)\n""}]",0,771451,4dd0f9dab57f143acc2f4993a33476931bfa75c8,14,5,1,29244,,,0,"Fix ownership of octavia_rsyslog log directory

The octavia_rsyslog container should not use the octavia user and group
since the rsyslog image doesn't know about that user. It should use
root and have a dedicated log directory on the host to avoid mixing
ownerships with the octavia containers that are running as octavia user.

Conflicts:
	deployment/octavia/octavia-health-manager-container-puppet.yaml

Change-Id: Ie7eb7905eb33235fc73f94b9e84f553394e951fd
Closes-Bug: #1907260
(cherry picked from commit ffd86b3f2c7352ff530d6f37664aaa76b9a81b1c)
(cherry picked from commit 890c149f5aabb5e698043f2324e2e05386c9e015)
(cherry picked from commit 94236c7576c8921b637ff397e84711d154d31460)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/771451/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-health-manager-container-puppet.yaml'],1,4dd0f9dab57f143acc2f4993a33476931bfa75c8,," owner: root:root - /var/log/containers/octavia-amphorae:/var/log/octavia:z - { 'path': /var/log/containers/octavia-amphorae, 'setype': svirt_sandbox_file_t, 'mode': '0750' }", owner: octavia:octavia - /var/log/containers/octavia:/var/log/octavia:z,3,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ie7eb7905eb33235fc73f94b9e84f553394e951fd,openstack/tripleo-heat-templates,stable/ussuri,Ie7eb7905eb33235fc73f94b9e84f553394e951fd,Fix ownership of octavia_rsyslog log directory,MERGED,2021-01-19 13:49:15.000000000,2021-01-30 05:20:56.000000000,2021-01-30 05:20:56.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-19 13:49:15.000000000', 'files': ['deployment/octavia/octavia-health-manager-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94236c7576c8921b637ff397e84711d154d31460', 'message': ""Fix ownership of octavia_rsyslog log directory\n\nThe octavia_rsyslog container should not use the octavia user and group\nsince the rsyslog image doesn't know about that user. It should use\nroot and have a dedicated log directory on the host to avoid mixing\nownerships with the octavia containers that are running as octavia user.\n\nChange-Id: Ie7eb7905eb33235fc73f94b9e84f553394e951fd\nCloses-Bug: #1907260\n(cherry picked from commit ffd86b3f2c7352ff530d6f37664aaa76b9a81b1c)\n(cherry picked from commit 890c149f5aabb5e698043f2324e2e05386c9e015)\n""}]",0,771450,94236c7576c8921b637ff397e84711d154d31460,8,4,1,29244,,,0,"Fix ownership of octavia_rsyslog log directory

The octavia_rsyslog container should not use the octavia user and group
since the rsyslog image doesn't know about that user. It should use
root and have a dedicated log directory on the host to avoid mixing
ownerships with the octavia containers that are running as octavia user.

Change-Id: Ie7eb7905eb33235fc73f94b9e84f553394e951fd
Closes-Bug: #1907260
(cherry picked from commit ffd86b3f2c7352ff530d6f37664aaa76b9a81b1c)
(cherry picked from commit 890c149f5aabb5e698043f2324e2e05386c9e015)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/771450/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-health-manager-container-puppet.yaml'],1,94236c7576c8921b637ff397e84711d154d31460,," owner: root:root - /var/log/containers/octavia-amphorae:/var/log/octavia:z - { 'path': /var/log/containers/octavia-amphorae, 'setype': container_file_t, 'mode': '0750' }", owner: octavia:octavia - /var/log/containers/octavia:/var/log/octavia:z,3,2
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ie7eb7905eb33235fc73f94b9e84f553394e951fd,openstack/tripleo-heat-templates,stable/victoria,Ie7eb7905eb33235fc73f94b9e84f553394e951fd,Fix ownership of octavia_rsyslog log directory,MERGED,2021-01-19 13:48:26.000000000,2021-01-30 05:18:45.000000000,2021-01-30 05:18:45.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-01-19 13:48:26.000000000', 'files': ['deployment/octavia/octavia-health-manager-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/890c149f5aabb5e698043f2324e2e05386c9e015', 'message': ""Fix ownership of octavia_rsyslog log directory\n\nThe octavia_rsyslog container should not use the octavia user and group\nsince the rsyslog image doesn't know about that user. It should use\nroot and have a dedicated log directory on the host to avoid mixing\nownerships with the octavia containers that are running as octavia user.\n\nChange-Id: Ie7eb7905eb33235fc73f94b9e84f553394e951fd\nCloses-Bug: #1907260\n(cherry picked from commit ffd86b3f2c7352ff530d6f37664aaa76b9a81b1c)\n""}]",0,771449,890c149f5aabb5e698043f2324e2e05386c9e015,9,5,1,29244,,,0,"Fix ownership of octavia_rsyslog log directory

The octavia_rsyslog container should not use the octavia user and group
since the rsyslog image doesn't know about that user. It should use
root and have a dedicated log directory on the host to avoid mixing
ownerships with the octavia containers that are running as octavia user.

Change-Id: Ie7eb7905eb33235fc73f94b9e84f553394e951fd
Closes-Bug: #1907260
(cherry picked from commit ffd86b3f2c7352ff530d6f37664aaa76b9a81b1c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/771449/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-health-manager-container-puppet.yaml'],1,890c149f5aabb5e698043f2324e2e05386c9e015,," owner: root:root - /var/log/containers/octavia-amphorae:/var/log/octavia:z - { 'path': /var/log/containers/octavia-amphorae, 'setype': container_file_t, 'mode': '0750' }", owner: octavia:octavia - /var/log/containers/octavia:/var/log/octavia:z,3,2
openstack%2Fpython-tripleoclient~stable%2Ftrain~If45db93e4e958fe0ae65bd2cd96d3594b97a4320,openstack/python-tripleoclient,stable/train,If45db93e4e958fe0ae65bd2cd96d3594b97a4320,[Validator Run] Ensure the plan really exists,MERGED,2021-01-05 17:13:20.000000000,2021-01-30 05:13:13.000000000,2021-01-30 05:11:39.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-01-05 17:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2c346c93f901cfbbdfc60c8630f167e0d6256ccb', 'message': '[Validator Run] Ensure the plan really exists\n\nThis patch will now fetch all the existing plans and will ensure the\nplan given by the command line is part of it. If not, a exception will\nbe raised to inform the user.\n\nChange-Id: If45db93e4e958fe0ae65bd2cd96d3594b97a4320\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit da8a3e59645b2b17a1b05dc1853d1d9fd7e7c424)\n'}, {'number': 2, 'created': '2021-01-06 08:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1fbe63d749fa9dadb461e61aae5ff17526f5e15b', 'message': '[Validator Run] Ensure the plan really exists\n\nThis patch will now fetch all the existing plans and will ensure the\nplan given by the command line is part of it. If not, a exception will\nbe raised to inform the user.\n\nChange-Id: If45db93e4e958fe0ae65bd2cd96d3594b97a4320\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit da8a3e59645b2b17a1b05dc1853d1d9fd7e7c424)\n'}, {'number': 3, 'created': '2021-01-06 13:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4c6d89f61b154c3cc9fc48ec2b88393943dfdc58', 'message': '[Validator Run] Ensure the plan really exists\n\nThis patch will now fetch all the existing plans and will ensure the\nplan given by the command line is part of it. If not, a exception will\nbe raised to inform the user.\n\nChange-Id: If45db93e4e958fe0ae65bd2cd96d3594b97a4320\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit da8a3e59645b2b17a1b05dc1853d1d9fd7e7c424)\n'}, {'number': 4, 'created': '2021-01-06 13:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b75bdc5d28972bf08b26db10c07c61f3b6dc8909', 'message': '[Validator Run] Ensure the plan really exists\n\nThis patch will now fetch all the existing plans and will ensure the\nplan given by the command line is part of it. If not, a exception will\nbe raised to inform the user.\n\nChange-Id: If45db93e4e958fe0ae65bd2cd96d3594b97a4320\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit da8a3e59645b2b17a1b05dc1853d1d9fd7e7c424)\n'}, {'number': 5, 'created': '2021-01-25 09:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/89c892881b4f6f6c02a441ca80f4d5c14d0a0d36', 'message': '[Validator Run] Ensure the plan really exists\n\nThis patch will now fetch all the existing plans and will ensure the\nplan given by the command line is part of it. If not, a exception will\nbe raised to inform the user.\n\nChange-Id: If45db93e4e958fe0ae65bd2cd96d3594b97a4320\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit da8a3e59645b2b17a1b05dc1853d1d9fd7e7c424)\n(cherry picked from commit cd789148efdd96132fe9f68239eb6702695c2918)\n'}, {'number': 6, 'created': '2021-01-25 18:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/203b2f41b97f0b231f67aae773ccd30eed3dd0aa', 'message': '[Validator Run] Ensure the plan really exists\n\nThis patch will now fetch all the existing plans and will ensure the\nplan given by the command line is part of it. If not, a exception will\nbe raised to inform the user.\n\nChange-Id: If45db93e4e958fe0ae65bd2cd96d3594b97a4320\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit da8a3e59645b2b17a1b05dc1853d1d9fd7e7c424)\n(cherry picked from commit cd789148efdd96132fe9f68239eb6702695c2918)\n'}, {'number': 7, 'created': '2021-01-28 09:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8b38662c19cd0d31ac14f057948155b1d277591e', 'message': '[Validator Run] Ensure the plan really exists\n\nThis patch will now fetch all the existing plans and will ensure the\nplan given by the command line is part of it. If not, a exception will\nbe raised to inform the user.\n\nChange-Id: If45db93e4e958fe0ae65bd2cd96d3594b97a4320\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit da8a3e59645b2b17a1b05dc1853d1d9fd7e7c424)\n(cherry picked from commit cd789148efdd96132fe9f68239eb6702695c2918)\n'}, {'number': 8, 'created': '2021-01-28 21:46:27.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3eef4f4539dbe1692e79ad21b006069a58cacba2', 'message': '[Validator Run] Ensure the plan really exists\n\nThis patch will now fetch all the existing plans and will ensure the\nplan given by the command line is part of it. If not, a exception will\nbe raised to inform the user.\n\nChange-Id: If45db93e4e958fe0ae65bd2cd96d3594b97a4320\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit da8a3e59645b2b17a1b05dc1853d1d9fd7e7c424)\n(cherry picked from commit cd789148efdd96132fe9f68239eb6702695c2918)\n'}]",5,769407,3eef4f4539dbe1692e79ad21b006069a58cacba2,26,6,8,11491,,,0,"[Validator Run] Ensure the plan really exists

This patch will now fetch all the existing plans and will ensure the
plan given by the command line is part of it. If not, a exception will
be raised to inform the user.

Change-Id: If45db93e4e958fe0ae65bd2cd96d3594b97a4320
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit da8a3e59645b2b17a1b05dc1853d1d9fd7e7c424)
(cherry picked from commit cd789148efdd96132fe9f68239eb6702695c2918)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/07/769407/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,2c346c93f901cfbbdfc60c8630f167e0d6256ccb,train_rhbz#1912879,"from tripleoclient.workflows import plan_management clients = self.app.client_manager plans = plan_management.list_deployment_plans(clients) if parsed_args.plan and parsed_args.plan not in plans: raise exceptions.CommandError( _(""The plan '{}' doesn't exist. "" ""Please use one of those {}"".format(parsed_args, plans))) ",,10,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I1133c210f35181d44f8ba56f09b52f00589e035c,openstack/tripleo-heat-templates,stable/ussuri,I1133c210f35181d44f8ba56f09b52f00589e035c,Live migration optimization with HP,MERGED,2021-01-26 19:52:56.000000000,2021-01-30 05:13:03.000000000,2021-01-30 05:11:34.000000000,"[{'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-01-26 19:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aa4382ee83d40070d72785b23a5ff7fa459b6c04', 'message': 'Live migration optimization with HP\n\nWhen a node has hugepages enabled, we can help with live migrations by\nenabling NovaLiveMigrationPermitPostCopy and\nNovaLiveMigrationPermitAutoConverge.\n\nRelated: https://bugzilla.redhat.com/1298201\n\nConflicts:\n  deployment/nova/nova-compute-container-puppet.yaml\n\nChange-Id: I1133c210f35181d44f8ba56f09b52f00589e035c\n(cherry picked from commit df207fd2e94e9604cdf48e82cd1dcafb660eadc8)\n(cherry picked from commit d4a3253d9326d0a890feb29794612420506fb866)\n'}, {'number': 2, 'created': '2021-01-27 03:31:43.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova-live-migration-permit-postcopy-autoconverge-ca1719fd2abed45f.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38d6c5932b9a4750001a87e1da0390195b18d57d', 'message': 'Live migration optimization with HP\n\nWhen a node has hugepages enabled, we can help with live migrations by\nenabling NovaLiveMigrationPermitPostCopy and\nNovaLiveMigrationPermitAutoConverge.\n\nRelated: https://bugzilla.redhat.com/1298201\n\nConflicts:\n  deployment/nova/nova-compute-container-puppet.yaml\n\nChange-Id: I1133c210f35181d44f8ba56f09b52f00589e035c\n(cherry picked from commit df207fd2e94e9604cdf48e82cd1dcafb660eadc8)\n(cherry picked from commit d4a3253d9326d0a890feb29794612420506fb866)\n'}]",0,772543,38d6c5932b9a4750001a87e1da0390195b18d57d,18,7,2,27419,,,0,"Live migration optimization with HP

When a node has hugepages enabled, we can help with live migrations by
enabling NovaLiveMigrationPermitPostCopy and
NovaLiveMigrationPermitAutoConverge.

Related: https://bugzilla.redhat.com/1298201

Conflicts:
  deployment/nova/nova-compute-container-puppet.yaml

Change-Id: I1133c210f35181d44f8ba56f09b52f00589e035c
(cherry picked from commit df207fd2e94e9604cdf48e82cd1dcafb660eadc8)
(cherry picked from commit d4a3253d9326d0a890feb29794612420506fb866)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/772543/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova-live-migration-permit-postcopy-autoconverge-ca1719fd2abed45f.yaml']",2,aa4382ee83d40070d72785b23a5ff7fa459b6c04,live-migration-optimization,"--- features: - | When a node has hugepages enabled, we can help with live migrations by enabling `NovaLiveMigrationPermitPostCopy` and `NovaLiveMigrationPermitAutoConverge`. These flags are automatically enabled if hugepages are detected, but operators can override these settings. ",,67,1
openstack%2Foctavia~master~I18fb80e803e21c01c51d49df9bcb0aae11b91a92,openstack/octavia,master,I18fb80e803e21c01c51d49df9bcb0aae11b91a92,Correct spell error,MERGED,2020-12-25 06:31:14.000000000,2021-01-30 04:32:53.000000000,2021-01-30 04:31:30.000000000,"[{'_account_id': 2245}, {'_account_id': 4694}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29244}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-12-25 06:31:14.000000000', 'files': ['octavia/api/common/pagination.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/57f5666f71f5b3fb82592741013dba8fce512cb2', 'message': ""Correct spell error\n\nCorret spell 'seperated' to 'separated'\n\nChange-Id: I18fb80e803e21c01c51d49df9bcb0aae11b91a92\n""}]",0,768502,57f5666f71f5b3fb82592741013dba8fce512cb2,20,12,1,32245,,,0,"Correct spell error

Corret spell 'seperated' to 'separated'

Change-Id: I18fb80e803e21c01c51d49df9bcb0aae11b91a92
",git fetch https://review.opendev.org/openstack/octavia refs/changes/02/768502/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/api/common/pagination.py'],1,57f5666f71f5b3fb82592741013dba8fce512cb2,," """"""Split comma separated tags and return a flat list of tags."""""""," """"""Split comma seperated tags and return a flat list of tags.""""""",1,1
openstack%2Ftripleo-common~stable%2Fussuri~If5618e542cdd93aa18a865ebac8ca24e4b34d84b,openstack/tripleo-common,stable/ussuri,If5618e542cdd93aa18a865ebac8ca24e4b34d84b,Add ComputeNeutronl3Agent link to neutron-l3-agent container image,MERGED,2020-11-04 14:38:06.000000000,2021-01-30 04:16:57.000000000,2021-01-30 04:15:14.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 8297}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-11-04 14:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bc35f3787b22e5de91cf1ad088d6a8e6d2b372ef', 'message': ""Add ComputeNeutronl3Agent link to neutron-l3-agent container image\n\nThe ComputeNeutronL3Agent isn't associated with the neutron-l3-agent\ncontainer image which causes problems on upgrades.\n\nCloses-Bug: #1898256\n\nChange-Id: If5618e542cdd93aa18a865ebac8ca24e4b34d84b\n(cherry picked from commit da41f54f9ecf7f8ea3e0997860346810424543d9)\n""}, {'number': 2, 'created': '2020-12-01 13:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a673fd79f7b99997f96593b4fb722f944091a37f', 'message': ""Add ComputeNeutronl3Agent link to neutron-l3-agent container image\n\nThe ComputeNeutronL3Agent isn't associated with the neutron-l3-agent\ncontainer image which causes problems on upgrades.\n\nCloses-Bug: #1898256\n\nChange-Id: If5618e542cdd93aa18a865ebac8ca24e4b34d84b\n(cherry picked from commit da41f54f9ecf7f8ea3e0997860346810424543d9)\n""}, {'number': 3, 'created': '2020-12-15 12:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/37c8e12aade5c71d77260bdce51700719dc8fe8a', 'message': ""Add ComputeNeutronl3Agent link to neutron-l3-agent container image\n\nThe ComputeNeutronL3Agent isn't associated with the neutron-l3-agent\ncontainer image which causes problems on upgrades.\n\nCloses-Bug: #1898256\n\nChange-Id: If5618e542cdd93aa18a865ebac8ca24e4b34d84b\n(cherry picked from commit da41f54f9ecf7f8ea3e0997860346810424543d9)\n""}, {'number': 4, 'created': '2021-01-28 10:01:57.000000000', 'files': ['container-images/tripleo_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eba3f42168a90080029946d4291812c40a46424a', 'message': ""Add ComputeNeutronl3Agent link to neutron-l3-agent container image\n\nThe ComputeNeutronL3Agent isn't associated with the neutron-l3-agent\ncontainer image which causes problems on upgrades.\n\nCloses-Bug: #1898256\n\nChange-Id: If5618e542cdd93aa18a865ebac8ca24e4b34d84b\n(cherry picked from commit da41f54f9ecf7f8ea3e0997860346810424543d9)\n""}]",0,761418,eba3f42168a90080029946d4291812c40a46424a,40,8,4,26343,,,0,"Add ComputeNeutronl3Agent link to neutron-l3-agent container image

The ComputeNeutronL3Agent isn't associated with the neutron-l3-agent
container image which causes problems on upgrades.

Closes-Bug: #1898256

Change-Id: If5618e542cdd93aa18a865ebac8ca24e4b34d84b
(cherry picked from commit da41f54f9ecf7f8ea3e0997860346810424543d9)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/18/761418/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml.j2'],1,bc35f3787b22e5de91cf1ad088d6a8e6d2b372ef,bug/1898256-stable/ussuri, - OS::TripleO::Services::ComputeNeutronL3Agent,,1,0
openstack%2Ftripleo-quickstart~master~I796e8567948eab59acd4dfc81fc54cc072481188,openstack/tripleo-quickstart,master,I796e8567948eab59acd4dfc81fc54cc072481188,Add ussuri/victoria trunk release files,MERGED,2021-01-28 07:41:17.000000000,2021-01-30 04:16:45.000000000,2021-01-30 04:15:11.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-28 07:41:17.000000000', 'files': ['config/release/victoria.yml', 'config/release/trunk/victoria.yml', 'config/release/trunk/ussuri.yml', 'config/release/ussuri.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d53ac0d9fc2dce5eebceb5cc63e509f418a9f794', 'message': 'Add ussuri/victoria trunk release files\n\nThese patch adds missing release files which\nare used with quickstart.sh -R [victoria|ussuri].\n\nChange-Id: I796e8567948eab59acd4dfc81fc54cc072481188\n'}]",1,772834,d53ac0d9fc2dce5eebceb5cc63e509f418a9f794,9,7,1,13861,,,0,"Add ussuri/victoria trunk release files

These patch adds missing release files which
are used with quickstart.sh -R [victoria|ussuri].

Change-Id: I796e8567948eab59acd4dfc81fc54cc072481188
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/34/772834/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/victoria.yml', 'config/release/trunk/victoria.yml', 'config/release/trunk/ussuri.yml', 'config/release/ussuri.yml']",4,d53ac0d9fc2dce5eebceb5cc63e509f418a9f794,bug/1913532,trunk/ussuri.yml,,186,0
openstack%2Fneutron~master~I1d0b3975ae6e92e34e9da20a0e26ce024422d332,openstack/neutron,master,I1d0b3975ae6e92e34e9da20a0e26ce024422d332,Optimize get_ports with QoS extension,MERGED,2020-11-27 12:22:55.000000000,2021-01-30 03:32:01.000000000,2021-01-26 03:43:14.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 8543}, {'_account_id': 9373}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-27 12:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/461ac285734d3ad59be0bfb7aa8271652fb7d4a0', 'message': 'Optimize get_ports with QoS extension\n\nApply qos resource extend func for a full list of ports,\nnot for each port individually, thus avoiding DB queries for each\nindividual port.\nThis should drastically improve port list time in case of many\nports/network with QoS policies assigned.\n\nChange-Id: I1d0b3975ae6e92e34e9da20a0e26ce024422d332\nCloses-Bug: #1905726\n'}, {'number': 2, 'created': '2020-11-27 12:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/59d71427e167d038fa18931d32a18e37eee381f9', 'message': 'Optimize get_ports with QoS extension\n\nApply qos resource extend func for a full list of ports,\nnot for each port individually, thus avoiding DB queries for each\nindividual port.\nThis should drastically improve port list time in case of many\nports/network with QoS policies assigned.\n\nChange-Id: I1d0b3975ae6e92e34e9da20a0e26ce024422d332\nCloses-Bug: #1905726\n'}, {'number': 3, 'created': '2020-11-27 14:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c225a0d91203dfafc4e6b2fe03998917d44ae1ca', 'message': 'Optimize get_ports with QoS extension\n\nApply qos resource extend func for a full list of ports,\nnot for each port individually, thus avoiding DB queries for each\nindividual port.\nThis should drastically improve port list time in case of many\nports/network with QoS policies assigned.\n\nChange-Id: I1d0b3975ae6e92e34e9da20a0e26ce024422d332\nCloses-Bug: #1905726\n'}, {'number': 4, 'created': '2020-11-27 18:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d89493fcd3b443b2691cc218d57f6db1a5aba7fe', 'message': 'Optimize get_ports with QoS extension\n\nApply qos resource extend func for a full list of ports,\nnot for each port individually, thus avoiding DB queries for each\nindividual port.\nThis should drastically improve port list time in case of many\nports/network with QoS policies assigned.\n\nChange-Id: I1d0b3975ae6e92e34e9da20a0e26ce024422d332\nCloses-Bug: #1905726\n'}, {'number': 5, 'created': '2020-11-28 05:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9b05cfc91695b1b8c2071095586666a66b59102', 'message': 'Optimize get_ports with QoS extension\n\nApply qos resource extend func for a full list of ports,\nnot for each port individually, thus avoiding DB queries for each\nindividual port.\nThis should drastically improve port list time in case of many\nports/network with QoS policies assigned.\n\nChange-Id: I1d0b3975ae6e92e34e9da20a0e26ce024422d332\nCloses-Bug: #1905726\n'}, {'number': 6, 'created': '2020-12-11 14:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b65d27fc7d62a416410a199f37d43fe80d4e4f5', 'message': 'Optimize get_ports with QoS extension\n\nApply qos resource extend func for a full list of ports,\nnot for each port individually, thus avoiding DB queries for each\nindividual port.\nThis should drastically improve port list time in case of many\nports/network with QoS policies assigned.\n\nChange-Id: I1d0b3975ae6e92e34e9da20a0e26ce024422d332\nCloses-Bug: #1905726\n'}, {'number': 7, 'created': '2020-12-12 04:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b782797f5fe8fd592ba425595eb710000e0b440a', 'message': 'Optimize get_ports with QoS extension\n\nApply qos resource extend func for a full list of ports,\nnot for each port individually, thus avoiding DB queries for each\nindividual port.\nThis should drastically improve port list time in case of many\nports/network with QoS policies assigned.\n\nChange-Id: I1d0b3975ae6e92e34e9da20a0e26ce024422d332\nCloses-Bug: #1905726\n'}, {'number': 8, 'created': '2020-12-13 06:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0301da0932b369cbcee0a0ce170937e6b8e72d4', 'message': 'Optimize get_ports with QoS extension\n\nApply qos resource extend func for a full list of ports,\nnot for each port individually, thus avoiding DB queries for each\nindividual port.\nThis should drastically improve port list time in case of many\nports/network with QoS policies assigned.\n\nChange-Id: I1d0b3975ae6e92e34e9da20a0e26ce024422d332\nCloses-Bug: #1905726\n'}, {'number': 9, 'created': '2020-12-13 06:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6878dd02e30e5a4a7eb38adbf198d184d231e7f3', 'message': 'Optimize get_ports with QoS extension\n\nApply qos resource extend func for a full list of ports,\nnot for each port individually, thus avoiding DB queries for each\nindividual port.\nThis should drastically improve port list time in case of many\nports/network with QoS policies assigned.\n\nChange-Id: I1d0b3975ae6e92e34e9da20a0e26ce024422d332\nCloses-Bug: #1905726\n'}, {'number': 10, 'created': '2020-12-14 05:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/170937f4daf540f959689948b2d5c2247d3aaf7b', 'message': 'Optimize get_ports with QoS extension\n\nApply qos resource extend func for a full list of ports,\nnot for each port individually, thus avoiding DB queries for each\nindividual port.\nThis should drastically improve port list time in case of many\nports/network with QoS policies assigned.\n\nChange-Id: I1d0b3975ae6e92e34e9da20a0e26ce024422d332\nCloses-Bug: #1905726\n'}, {'number': 11, 'created': '2020-12-14 06:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a338c0d0710893f01fb4508e343d37ccbe9bb35', 'message': 'Optimize get_ports with QoS extension\n\nApply qos resource extend func for a full list of ports,\nnot for each port individually, thus avoiding DB queries for each\nindividual port.\nThis should drastically improve port list time in case of many\nports/network with QoS policies assigned.\n\nChange-Id: I1d0b3975ae6e92e34e9da20a0e26ce024422d332\nCloses-Bug: #1905726\n'}, {'number': 12, 'created': '2021-01-14 15:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8291b1df5e104aeebf78e18752bb23c3ca376ab4', 'message': 'Optimize get_ports with QoS extension\n\nApply qos resource extend func for a full list of ports,\nnot for each port individually, thus avoiding DB queries for each\nindividual port.\nThis should drastically improve port list time in case of many\nports/network with QoS policies assigned.\n\nChange-Id: I1d0b3975ae6e92e34e9da20a0e26ce024422d332\nCloses-Bug: #1905726\n'}, {'number': 13, 'created': '2021-01-14 15:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/49d38e62c0f7d10963342d5b7bb5e4853b22878e', 'message': 'Optimize get_ports with QoS extension\n\nApply qos resource extend func for a full list of ports,\nnot for each port individually, thus avoiding DB queries for each\nindividual port.\nThis should drastically improve port list time in case of many\nports/network with QoS policies assigned.\n\nChange-Id: I1d0b3975ae6e92e34e9da20a0e26ce024422d332\nCloses-Bug: #1905726\n'}, {'number': 14, 'created': '2021-01-20 07:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f5cabfcf22f651ac48ba9520db23c63131b89af', 'message': 'Optimize get_ports with QoS extension\n\nApply qos resource extend func for a full list of ports,\nnot for each port individually, thus avoiding DB queries for each\nindividual port.\nThis should drastically improve port list time in case of many\nports/network with QoS policies assigned.\n\nChange-Id: I1d0b3975ae6e92e34e9da20a0e26ce024422d332\nCloses-Bug: #1905726\n'}, {'number': 15, 'created': '2021-01-25 08:21:45.000000000', 'files': ['neutron/services/qos/qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a6fd9d44d8ab1eed038ad1348ed767bd6a6e61a', 'message': 'Optimize get_ports with QoS extension\n\nApply qos resource extend func for a full list of ports,\nnot for each port individually, thus avoiding DB queries for each\nindividual port.\nThis should drastically improve port list time in case of many\nports/network with QoS policies assigned.\n\nChange-Id: I1d0b3975ae6e92e34e9da20a0e26ce024422d332\nCloses-Bug: #1905726\n'}]",14,764454,2a6fd9d44d8ab1eed038ad1348ed767bd6a6e61a,141,9,15,5948,,,0,"Optimize get_ports with QoS extension

Apply qos resource extend func for a full list of ports,
not for each port individually, thus avoiding DB queries for each
individual port.
This should drastically improve port list time in case of many
ports/network with QoS policies assigned.

Change-Id: I1d0b3975ae6e92e34e9da20a0e26ce024422d332
Closes-Bug: #1905726
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/764454/7 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/qos/qos_plugin.py'],1,461ac285734d3ad59be0bfb7aa8271652fb7d4a0,bug/1905726," if port_res.get('bulk'): port_res['qos_id'] = qos_id return port_res min_bw_rules = rule_object.QosMinimumBandwidthRule.get_objects( qos_policy_id=qos_id) resources = QoSPlugin._get_resources(min_bw_rules) if not resources: return port_res segments = network_object.NetworkSegment.get_objects( context.get_admin_context(), network_id=port_db.network_id) traits = QoSPlugin._get_traits(segments) if not traits: return port_res port_res['resource_request'] = { 'required': traits, 'resources': resources} return port_res @staticmethod def _get_resources(min_bw_rules): return resources @staticmethod def _get_traits(segments): # TODO(lajoskatona): Change to handle all segments when any traits # support will be available. See Placement spec: # https://review.opendev.org/565730 first_segment = segments[0] if not first_segment or not first_segment.physical_network: return [] physnet_trait = pl_utils.physnet_trait( first_segment.physical_network) return [physnet_trait, vnic_trait] @staticmethod @resource_extend.extends(['ports_bulk']) def _extend_port_resource_request_bulk(ports_res, noop): """"""Add resource request to a port."""""" min_bw_rules = dict() net_segments = dict() for port_res in ports_res: qos_id = port_res.pop('qos_id', None) if not qos_id: continue if qos_id not in min_bw_rules: rules = rule_object.QosMinimumBandwidthRule.get_objects( qos_policy_id=qos_id) min_bw_rules[qos_id] = rules resources = QoSPlugin._get_resources(min_bw_rules[qos_id]) if not resources: continue if port_res['network_id'] not in net_segments: segments = network_object.NetworkSegment.get_objects( context.get_admin_context(), network_id=port_res['network_id']) net_segments[ports_res['network_id']] = segments traits = QoSPlugin._get_traits( net_segments[ports_res['network_id']]) if not traits: continue port_res['resource_request'] = { 'required': traits, 'resources': resources} return ports_res"," min_bw_rules = rule_object.QosMinimumBandwidthRule.get_objects( qos_policy_id=qos_id) if not resources: return port_res # TODO(lajoskatona): Change to handle all segments when any traits # support will be available. See Placement spec: # https://review.opendev.org/565730 first_segment = network_object.NetworkSegment.get_objects( context.get_admin_context(), network_id=port_db.network_id)[0] if not first_segment or not first_segment.physical_network: return port_res physnet_trait = pl_utils.physnet_trait( first_segment.physical_network) port_res['resource_request'] = { 'required': [physnet_trait, vnic_trait], 'resources': resources} return port_res",72,17
openstack%2Ffreezer-api~master~I1bca4617d6d57dd6d62e38b11a109dc87cc6bfcd,openstack/freezer-api,master,I1bca4617d6d57dd6d62e38b11a109dc87cc6bfcd,Fix a bug when unit test use the local conf O    AttributeError: 'Connection' object has no attribute 'iterdump',MERGED,2021-01-28 02:16:37.000000000,2021-01-30 03:29:22.000000000,2021-01-30 03:27:51.000000000,"[{'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-28 02:16:37.000000000', 'files': ['freezer_api/tests/unit/sqlalchemy/base.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/719a3feb6012942dc46944805cf115132f3ecf46', 'message': ""Fix a bug when unit test use the local conf O\n   AttributeError: 'Connection' object has no attribute 'iterdump'\n\nChange-Id: I1bca4617d6d57dd6d62e38b11a109dc87cc6bfcd\n""}]",0,772819,719a3feb6012942dc46944805cf115132f3ecf46,7,2,1,21387,,,0,"Fix a bug when unit test use the local conf O
   AttributeError: 'Connection' object has no attribute 'iterdump'

Change-Id: I1bca4617d6d57dd6d62e38b11a109dc87cc6bfcd
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/19/772819/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/tests/unit/sqlalchemy/base.py'],1,719a3feb6012942dc46944805cf115132f3ecf46,bugFix," CONF.set_override('connection', IN_MEM_DB_CONN_STRING, group='database')",,2,0
openstack%2Ffreezer~master~I898d03d716ebc6c6285c4589cd30f7875b0c51d2,openstack/freezer,master,I898d03d716ebc6c6285c4589cd30f7875b0c51d2,Fix CI error,MERGED,2021-01-27 05:31:06.000000000,2021-01-30 02:25:44.000000000,2021-01-30 02:21:56.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-01-27 05:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/060f17e5b321c9744092d18d78de1355dde8c9e7', 'message': ""Fix Pep8 error\n\nep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}, {'number': 2, 'created': '2021-01-27 08:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/0e81c12db71ecc213199164fedb2570c40e628d4', 'message': ""Fix Pep8 error\n\nep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}, {'number': 3, 'created': '2021-01-27 09:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/f447e518d1d101492d9a39cec5775e5f7effc631', 'message': ""Fix Pep8 error\n\nep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}, {'number': 4, 'created': '2021-01-27 10:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/6c1308be962329b9ca0742f9c0792b50efaad309', 'message': ""Fix Pep8 error\n\nep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}, {'number': 5, 'created': '2021-01-27 11:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/8361c04f9599a2290db79382d36c29a57c2ba7ab', 'message': ""Fix Pep8 error\n\nep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}, {'number': 6, 'created': '2021-01-28 00:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/20a99d9b770506fad98e67ddfbfc46810fc7ca8a', 'message': ""Fix Pep8 error\n\nep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}, {'number': 7, 'created': '2021-01-28 02:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/58a19c8bad47eb758e0b3655638f5de94b132a42', 'message': ""Fix Pep8 error\n\nep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}, {'number': 8, 'created': '2021-01-28 02:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/9bf315b1845eeda15d45a853f4caeb23fb51a49d', 'message': ""Fix Pep8 error\n\nep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}, {'number': 9, 'created': '2021-01-28 05:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/3c17c3f6ea4d1127faefc5af2f6516b2fcbb7f2d', 'message': ""Fix Pep8 error\n\nep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}, {'number': 10, 'created': '2021-01-28 05:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/48c3e181177971a3989f3e70f60ff57f797a459a', 'message': ""Fix Pep8 error\n\nep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}, {'number': 11, 'created': '2021-01-28 07:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/1f8e365773c05555b57cfe24f9a621cdab2e2272', 'message': ""Fix Pep8 error\n\nep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}, {'number': 12, 'created': '2021-01-28 09:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/bcc8b912e735f89f00b5d2b2c4eb46a80cee466c', 'message': ""Fix Pep8 error\n\nep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}, {'number': 13, 'created': '2021-01-28 10:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/79e921b4b3af605e68c77718d8d91739d409aeda', 'message': ""Fix Pep8 error\n\nep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}, {'number': 14, 'created': '2021-01-28 10:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/c8a70994158b9896cfde622fe2ea6bb18c6c1852', 'message': ""Fix Pep8 error\n\nep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}, {'number': 15, 'created': '2021-01-28 11:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/f214f6eba949a5c1c4ac54a22ccbb6260897ab83', 'message': ""Fix Pep8 error\n\nep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}, {'number': 16, 'created': '2021-01-29 01:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/becd4259117a58cb91b2f734e09b005d61c2861b', 'message': ""Fix Pep8 error\n\nep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}, {'number': 17, 'created': '2021-01-29 03:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/1ed749f86cb0486d177463fc081457c076251d0d', 'message': ""Fix Pep8 error\n\nep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}, {'number': 18, 'created': '2021-01-29 05:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/e6bcd0a37f879b5f314d75458c44c708adaab7a7', 'message': ""Fix CI error\n\n1. no_voting for lower-constraints CI\n2.pep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}, {'number': 19, 'created': '2021-01-29 05:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/1038b276876c935c18c9cf077edb6efc9fe9231a', 'message': ""Fix CI error\n\n1. no_voting for lower-constraints CI\n2.pep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}, {'number': 20, 'created': '2021-01-29 05:36:18.000000000', 'files': ['requirements.txt', '.pylintrc', 'test-requirements.txt', 'freezer/scheduler/freezer_scheduler.py', '.zuul.yaml', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/freezer/commit/e5f36293e5034f072546ddb9854ee0e867505568', 'message': ""Fix CI error\n\n1. no_voting for lower-constraints CI\n2.pep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8\npep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt\nERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log\n================================== log start ===================================\nLooking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64\nCollecting astroid==2.1.0\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)\nCollecting pylint==2.3.1\n  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)\nINFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.\nINFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.\nERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested astroid==2.1.0\n    pylint 2.3.1 depends on astroid<3 and >=2.2.0\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies\nWARNING: You are using pip version 20.3.3; however, version 21.0 is available.\nYou should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.\n================================ log end ===============================\n\nChange-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2\n""}]",2,772626,e5f36293e5034f072546ddb9854ee0e867505568,44,3,20,21069,,,0,"Fix CI error

1. no_voting for lower-constraints CI
2.pep8 create: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8
pep8 installdeps: -c/home/zuul/src/opendev.org/openstack/requirements/upper-constraints.txt, -r/home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt
ERROR: invocation failed (exit code 1), logfile: /home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/log/pep8-1.log
================================== log start ===================================
Looking in indexes: https://mirror.bhs1.ovh.opendev.org/pypi/simple, https://mirror.bhs1.ovh.opendev.org/wheel/ubuntu-20.04-x86_64
Collecting astroid==2.1.0
  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/fc/53/8809bc008bad0300897281a7b320b286dc0e84e836396c0cff6279841e8a/astroid-2.1.0-py3-none-any.whl (176 kB)
Collecting pylint==2.3.1
  Downloading https://mirror.bhs1.ovh.opendev.org/pypifiles/packages/60/c2/b3f73f4ac008bef6e75bca4992f3963b3f85942e0277237721ef1c151f0d/pylint-2.3.1-py3-none-any.whl (765 kB)
INFO: pip is looking at multiple versions of <Python from Requires-Python> to determine which version is compatible with other requirements. This could take a while.
INFO: pip is looking at multiple versions of astroid to determine which version is compatible with other requirements. This could take a while.
ERROR: Cannot install -r /home/zuul/src/opendev.org/openstack/freezer/test-requirements.txt (line 23) and astroid==2.1.0 because these package versions have conflicting dependencies.

The conflict is caused by:
    The user requested astroid==2.1.0
    pylint 2.3.1 depends on astroid<3 and >=2.2.0

To fix this you could try to:
1. loosen the range of package versions you've specified
2. remove package versions to allow pip attempt to solve the dependency conflict

ERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/user_guide/#fixing-conflicting-dependencies
WARNING: You are using pip version 20.3.3; however, version 21.0 is available.
You should consider upgrading via the '/home/zuul/src/opendev.org/openstack/freezer/.tox/pep8/bin/python -m pip install --upgrade pip' command.
================================ log end ===============================

Change-Id: I898d03d716ebc6c6285c4589cd30f7875b0c51d2
",git fetch https://review.opendev.org/openstack/freezer refs/changes/26/772626/10 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,060f17e5b321c9744092d18d78de1355dde8c9e7,,"astroid>=2.1.0;python_version>=""3.0"" # LGPLv2.1 pylint>=2.3.1;python_version>=""3.0"" # GPLv2","astroid==2.1.0;python_version>=""3.0"" # LGPLv2.1 pylint==2.3.1;python_version>=""3.0"" # GPLv2",2,2
openstack%2Fcinder-tempest-plugin~master~I166c9479d94a42114adc94778140a9878a5949c5,openstack/cinder-tempest-plugin,master,I166c9479d94a42114adc94778140a9878a5949c5,Add doc/requirements,MERGED,2021-01-05 10:49:39.000000000,2021-01-30 02:24:16.000000000,2021-01-30 00:57:35.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-01-05 10:49:39.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/efc7caabe9bf9f29f701111a5ecd4d9d95fe0c22', 'message': ""Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver [1] for the release team [2][3].\nRemoved specific doc requirements from test-requirements.txt.\n\nThe problem here is that this repos haven't doc/requirements.txt file\nand by default in this case zuul will use the test-requirements.txt file\nto pull requirements [4].\n\nThis requirements file contains extra requirements like flake8 that\ncollided with those allowed in our job environment and so the new pip\nresolver fails to install these requirements and the job exits in error.\n\nThis project meet the conditions leading to the bug however it doesn't\nproduce any doc or releasenotes, but uniformization can't hurt and help\nus in the future.\n\n/!\\/!\\/!\\\nNotice that I voluntarily added the doc directory even if no docs\nare generated here because zuul will try to pull this requirements from\nthere first and the contained requirements are needed for reno but AFAIK\nthe releasenotes dir is ignored by zuul. c.f [4] for further details.\n/!\\/!\\/!\\\n\n[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36\n\nChange-Id: I166c9479d94a42114adc94778140a9878a5949c5\n""}]",0,769318,efc7caabe9bf9f29f701111a5ecd4d9d95fe0c22,19,5,1,28522,,,0,"Add doc/requirements

We need to specify doc requirements in doc/requirements.txt
to avoid problems with the pip resolver [1] for the release team [2][3].
Removed specific doc requirements from test-requirements.txt.

The problem here is that this repos haven't doc/requirements.txt file
and by default in this case zuul will use the test-requirements.txt file
to pull requirements [4].

This requirements file contains extra requirements like flake8 that
collided with those allowed in our job environment and so the new pip
resolver fails to install these requirements and the job exits in error.

This project meet the conditions leading to the bug however it doesn't
produce any doc or releasenotes, but uniformization can't hurt and help
us in the future.

/!\/!\/!\
Notice that I voluntarily added the doc directory even if no docs
are generated here because zuul will try to pull this requirements from
there first and the contained requirements are needed for reno but AFAIK
the releasenotes dir is ignored by zuul. c.f [4] for further details.
/!\/!\/!\

[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html
[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36

Change-Id: I166c9479d94a42114adc94778140a9878a5949c5
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/18/769318/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt']",2,efc7caabe9bf9f29f701111a5ecd4d9d95fe0c22,fix-relmgt-pip-doc,"sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD openstackdocstheme>=1.18.1 # Apache-2.0 ",,2,2
openstack%2Fironic-inspector~master~Iddf558cd598e41ffead11e164ce2fb1720d15f34,openstack/ironic-inspector,master,Iddf558cd598e41ffead11e164ce2fb1720d15f34,Fix memcached host address.,MERGED,2021-01-27 16:03:40.000000000,2021-01-30 01:58:09.000000000,2021-01-30 01:55:02.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-01-27 16:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/959656b0190003b20a24161f0b5856ef40452bcf', 'message': '[DNM] remove pymemcache 3.4.0 from blacklist\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/772684\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\nChange-Id: Iddf558cd598e41ffead11e164ce2fb1720d15f34\n'}, {'number': 2, 'created': '2021-01-28 11:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/644c44a550c7b73607e69288192efd8e686d517d', 'message': '[DNM] remove pymemcache 3.4.0 from blacklist\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/772684\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\nChange-Id: Iddf558cd598e41ffead11e164ce2fb1720d15f34\n'}, {'number': 3, 'created': '2021-01-28 13:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a25722ba740990931b2e535458f7f89ff203c5f4', 'message': '[DNM] remove pymemcache 3.4.0 from blacklist\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/772684\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\nChange-Id: Iddf558cd598e41ffead11e164ce2fb1720d15f34\n'}, {'number': 4, 'created': '2021-01-28 15:51:45.000000000', 'files': ['devstack/plugin.sh', 'zuul.d/ironic-inspector-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/86b974b75ca998caea8ca949f01d514a00e2ff96', 'message': 'Fix memcached host address.\n\nSince pymemcache 3.4.0, localhost will first translate to ipv6 ([::1])\nif possible instead of ipv4 (127.0.0.1). Since memcached is running in\nthe ipv4 interface, we need to point tooz to the right endpoint.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/772684\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\nChange-Id: Iddf558cd598e41ffead11e164ce2fb1720d15f34\n'}]",0,772714,86b974b75ca998caea8ca949f01d514a00e2ff96,24,4,4,27954,,,0,"Fix memcached host address.

Since pymemcache 3.4.0, localhost will first translate to ipv6 ([::1])
if possible instead of ipv4 (127.0.0.1). Since memcached is running in
the ipv4 interface, we need to point tooz to the right endpoint.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/772684
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
Change-Id: Iddf558cd598e41ffead11e164ce2fb1720d15f34
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/14/772714/4 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,959656b0190003b20a24161f0b5856ef40452bcf,Iddf558cd598e41ffead11e164ce2fb1720d15f34,# DNM,,1,0
openstack%2Ftripleo-ansible~stable%2Fvictoria~I70d8bebf0d6cbaeff3f108c5da10b6bfbdff8ccf,openstack/tripleo-ansible,stable/victoria,I70d8bebf0d6cbaeff3f108c5da10b6bfbdff8ccf,Remove pcs/pacemaker package installation from upgrade tasks,MERGED,2021-01-20 20:20:50.000000000,2021-01-30 01:16:03.000000000,2021-01-30 01:16:03.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-20 20:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/56e8fb36241cf171528b58c82236111488776797', 'message': ""Remove pcs/pacemaker package installation from upgrade tasks\n\nWe currently forcefully install pacemaker + pcs in a number of upgrade\ntasks.  This is suboptimal because on certain nodes pcs/pacemaker repos\nare not enabled.  Let's let puppet pull in those packages normally.\n\nTested this during a queen -> train FFU successfully on a composable\nroles environment.\n\nCloses-Bug: #1911684\n\nChange-Id: I70d8bebf0d6cbaeff3f108c5da10b6bfbdff8ccf\n(cherry picked from commit 62010a641d1794d4e708e31de6a386f99ab8d52f)\n""}, {'number': 2, 'created': '2021-01-27 13:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b9cb40ec63385db18eedc3c72b0452b7a10d892a', 'message': ""Remove pcs/pacemaker package installation from upgrade tasks\n\nWe currently forcefully install pacemaker + pcs in a number of upgrade\ntasks.  This is suboptimal because on certain nodes pcs/pacemaker repos\nare not enabled.  Let's let puppet pull in those packages normally.\n\nTested this during a queen -> train FFU successfully on a composable\nroles environment.\n\nCloses-Bug: #1911684\n\nChange-Id: I70d8bebf0d6cbaeff3f108c5da10b6bfbdff8ccf\n(cherry picked from commit 62010a641d1794d4e708e31de6a386f99ab8d52f)\n""}, {'number': 3, 'created': '2021-01-29 06:04:46.000000000', 'files': ['tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7139ed24d8cb7ce36f4fe330f3a8463c7c311ed7', 'message': ""Remove pcs/pacemaker package installation from upgrade tasks\n\nWe currently forcefully install pacemaker + pcs in a number of upgrade\ntasks.  This is suboptimal because on certain nodes pcs/pacemaker repos\nare not enabled.  Let's let puppet pull in those packages normally.\n\nTested this during a queen -> train FFU successfully on a composable\nroles environment.\n\nCloses-Bug: #1911684\n\nChange-Id: I70d8bebf0d6cbaeff3f108c5da10b6bfbdff8ccf\n(cherry picked from commit 62010a641d1794d4e708e31de6a386f99ab8d52f)\n""}]",0,771601,7139ed24d8cb7ce36f4fe330f3a8463c7c311ed7,20,3,3,20172,,,0,"Remove pcs/pacemaker package installation from upgrade tasks

We currently forcefully install pacemaker + pcs in a number of upgrade
tasks.  This is suboptimal because on certain nodes pcs/pacemaker repos
are not enabled.  Let's let puppet pull in those packages normally.

Tested this during a queen -> train FFU successfully on a composable
roles environment.

Closes-Bug: #1911684

Change-Id: I70d8bebf0d6cbaeff3f108c5da10b6bfbdff8ccf
(cherry picked from commit 62010a641d1794d4e708e31de6a386f99ab8d52f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/01/771601/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml'],1,56e8fb36241cf171528b58c82236111488776797,fix-ffu-stable/victoria,, - pacemaker - pcs,0,2
openstack%2Foctavia~master~I1236d3c6231a657b2aa53b1e488a4d0fe3215070,openstack/octavia,master,I1236d3c6231a657b2aa53b1e488a4d0fe3215070,Add validation for VIP network parameters in amphora driver,MERGED,2020-12-15 07:56:54.000000000,2021-01-30 00:47:19.000000000,2021-01-30 00:45:33.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-12-15 07:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/357318e9c7b3d361d90d7d246fc4f0b5f866ecce', 'message': 'Add validation for VIP network parameters\n\nSome network parameters can be validated in the API, it would avoid to\nhandle exceptions in the worker when plugging networking resources.\nThis commit validates that port_security_enabled is True on the VIP\nnetwork.\n\nStory: 2008449\nTask: 41422\n\nChange-Id: I1236d3c6231a657b2aa53b1e488a4d0fe3215070\n'}, {'number': 2, 'created': '2020-12-15 14:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3dbeb3806eab2617072e82aa118a52408310d5ef', 'message': 'Add validation for VIP network parameters in amphora driver\n\nSome network parameters can be validated in the API, it would avoid to\nhandle exceptions in the worker when plugging networking resources.\nThis commit validates that port_security_enabled is True on the VIP\nnetwork when using the amphora driver.\n\nStory: 2008449\nTask: 41422\n\nChange-Id: I1236d3c6231a657b2aa53b1e488a4d0fe3215070\n'}, {'number': 3, 'created': '2020-12-15 17:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e0bedd9101411403b0b733326f38c3174b631523', 'message': 'Add validation for VIP network parameters in amphora driver\n\nSome network parameters can be validated in the API, it would avoid to\nhandle exceptions in the worker when plugging networking resources.\nThis commit validates that port_security_enabled is True on the VIP\nnetwork when using the amphora driver.\n\nStory: 2008449\nTask: 41422\n\nChange-Id: I1236d3c6231a657b2aa53b1e488a4d0fe3215070\n'}, {'number': 4, 'created': '2021-01-19 14:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e8d69cdd3c5bbd4d92f971f6dde13b1d8b128b78', 'message': 'Add validation for VIP network parameters in amphora driver\n\nSome network parameters can be validated in the API, it would avoid to\nhandle exceptions in the worker when plugging networking resources.\nThis commit validates that port_security_enabled is True on the VIP\nnetwork when using the amphora driver.\n\nStory: 2008449\nTask: 41422\n\nChange-Id: I1236d3c6231a657b2aa53b1e488a4d0fe3215070\n'}, {'number': 5, 'created': '2021-01-26 16:34:38.000000000', 'files': ['octavia/tests/unit/api/drivers/amphora_driver/v2/test_driver.py', 'octavia/network/drivers/neutron/utils.py', 'releasenotes/notes/validate-vip-network-params-57662cc3a99f80e5.yaml', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/network/data_models.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/dda1d8665c1b90e3494b22bc0de1853a43b446a6', 'message': 'Add validation for VIP network parameters in amphora driver\n\nSome network parameters can be validated in the API, it would avoid to\nhandle exceptions in the worker when plugging networking resources.\nThis commit validates that port_security_enabled is True on the VIP\nnetwork when using the amphora driver.\n\nStory: 2008449\nTask: 41422\n\nChange-Id: I1236d3c6231a657b2aa53b1e488a4d0fe3215070\n'}]",0,767086,dda1d8665c1b90e3494b22bc0de1853a43b446a6,28,5,5,29244,,,0,"Add validation for VIP network parameters in amphora driver

Some network parameters can be validated in the API, it would avoid to
handle exceptions in the worker when plugging networking resources.
This commit validates that port_security_enabled is True on the VIP
network when using the amphora driver.

Story: 2008449
Task: 41422

Change-Id: I1236d3c6231a657b2aa53b1e488a4d0fe3215070
",git fetch https://review.opendev.org/openstack/octavia refs/changes/86/767086/4 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/network/drivers/neutron/utils.py', 'octavia/api/v2/controllers/load_balancer.py', 'releasenotes/notes/validate-vip-network-params-57662cc3a99f80e5.yaml', 'octavia/network/data_models.py']",4,357318e9c7b3d361d90d7d246fc4f0b5f866ecce,validate_vip_network," router_external=None, port_security_enabled=None): self.port_security_enabled = port_security_enabled", router_external=None):,21,2
openstack%2Fkayobe~master~I6ccf813b4eef68a7f574ff596d92d5bfefa874b0,openstack/kayobe,master,I6ccf813b4eef68a7f574ff596d92d5bfefa874b0,[docs] Update main documentation page,MERGED,2021-01-21 08:44:49.000000000,2021-01-30 00:46:06.000000000,2021-01-30 00:44:36.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-01-21 08:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fe108b6dc56f7bfc3790f18ceb7e276e023c360c', 'message': '[docs] Update main documentation page\n\n* Important links moved to dedicated sections\n\n* OpenStack community project badge added\n\nChange-Id: I6ccf813b4eef68a7f574ff596d92d5bfefa874b0\n'}, {'number': 2, 'created': '2021-01-21 09:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/11df9ab41c6547ff996e4c5079c3f211740aa1b1', 'message': '[docs] Update main documentation page\n\n* Important links moved to dedicated sections\n\n* OpenStack community project badge added\n\nChange-Id: I6ccf813b4eef68a7f574ff596d92d5bfefa874b0\n'}, {'number': 3, 'created': '2021-01-21 09:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/265124d390e2c57200fa77178ac3df594698e7d7', 'message': '[docs] Update main documentation page\n\n* Important links moved to dedicated sections\n\n* OpenStack community project badge added\n\nChange-Id: I6ccf813b4eef68a7f574ff596d92d5bfefa874b0\n'}, {'number': 4, 'created': '2021-01-29 21:00:18.000000000', 'files': ['doc/source/index.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0c8ddee6681c4aefa33f10b3950d43fea220ae5f', 'message': '[docs] Update main documentation page\n\n* Important links moved to dedicated sections\n\n* OpenStack community project badge added\n\nChange-Id: I6ccf813b4eef68a7f574ff596d92d5bfefa874b0\n'}]",2,771766,0c8ddee6681c4aefa33f10b3950d43fea220ae5f,18,4,4,32657,,,0,"[docs] Update main documentation page

* Important links moved to dedicated sections

* OpenStack community project badge added

Change-Id: I6ccf813b4eef68a7f574ff596d92d5bfefa874b0
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/66/771766/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'README.rst']",2,fe108b6dc56f7bfc3790f18ceb7e276e023c360c,release-notes-link,.. image:: https://governance.openstack.org/tc/badges/kayobe.svg :target: https://governance.openstack.org/tc/reference/projects/kolla.html Documentation ------------- https://docs.openstack.org/kayobe/latest/ Release Notes ------------- https://docs.openstack.org/releasenotes/kayobe/ Bugs ---- https://storyboard.openstack.org/#!/project/openstack/kayobe Community --------- Freenode `IRC channel <http://webchat.freenode.net/?channels=openstack-kolla>`_: #openstack-kolla License ------- Kayobe is distributed under the `Apache 2.0 License <https://github.com/grafana/grafana/blob/master/LICENSE>`_.,* Free software: Apache license * Documentation: https://docs.openstack.org/kayobe/latest/ * Source: https://opendev.org/openstack/kayobe * Bugs: https://storyboard.openstack.org/#!/project/openstack/kayobe * Release Notes: https://docs.openstack.org/releasenotes/kayobe/ * IRC: #openstack-kolla ,32,7
openstack%2Fnova~master~I9886270dea092e28a8123245a2c70c8d8c7127f3,openstack/nova,master,I9886270dea092e28a8123245a2c70c8d8c7127f3,Enable mypy on scheduler/utils.py,MERGED,2021-01-08 15:25:19.000000000,2021-01-30 00:38:46.000000000,2021-01-29 12:54:02.000000000,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 15:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/565eeb494338c69ce46515e9ff7bc966affa7843', 'message': 'Enable mypy on scheduler/utils.py\n\nA couple of extra hints was needed. A later patch will add type hints\nfor some functions that is being refactored\n\nChange-Id: I9886270dea092e28a8123245a2c70c8d8c7127f3\nBlueprint: support-interface-attach-with-qos-ports\n'}, {'number': 2, 'created': '2021-01-18 15:09:26.000000000', 'files': ['nova/scheduler/utils.py', 'mypy-files.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/e6ff3651e60f9b9aeaa1201a7d15be0c82fbe02e', 'message': 'Enable mypy on scheduler/utils.py\n\nA couple of extra hints was needed. A later patch will add type hints\nfor some functions that is being refactored\n\nChange-Id: I9886270dea092e28a8123245a2c70c8d8c7127f3\nBlueprint: support-interface-attach-with-qos-ports\n'}]",4,769942,e6ff3651e60f9b9aeaa1201a7d15be0c82fbe02e,44,4,2,9708,,,0,"Enable mypy on scheduler/utils.py

A couple of extra hints was needed. A later patch will add type hints
for some functions that is being refactored

Change-Id: I9886270dea092e28a8123245a2c70c8d8c7127f3
Blueprint: support-interface-attach-with-qos-ports
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/769942/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'mypy-files.txt']",2,565eeb494338c69ce46515e9ff7bc966affa7843,bp/support-interface-attach-with-qos-ports,nova/scheduler/utils.py,,6,4
openstack%2Fpuppet-openstack-integration~master~I486c6f66294529544f0f2469ce2436bad935e957,openstack/puppet-openstack-integration,master,I486c6f66294529544f0f2469ce2436bad935e957,"Revert ""ec2api: Use volumev3 instead of volumev2""",MERGED,2021-01-28 01:23:19.000000000,2021-01-30 00:18:50.000000000,2021-01-30 00:18:50.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-28 01:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5e48ceb31e5826cc3b4d9db3858176f4987c3644', 'message': 'Revert ""ec2api: Use volumev3 instead of volumev2""\n\nThis reverts commit 01f74c0ba5f0fce1a715255e45534853ee45cc42.\n\nReason for revert:\nNow ec2api use volumev3 by default[1] so we don\'t need to set\nit explicitly.\n\n[1] Depends-on: https://review.opendev.org/768182\n\nChange-Id: I486c6f66294529544f0f2469ce2436bad935e957\n'}, {'number': 2, 'created': '2021-01-28 01:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b36b0fde64739ae1d3e8d179cc0e66e805505d3f', 'message': 'Revert ""ec2api: Use volumev3 instead of volumev2""\n\nThis reverts commit 01f74c0ba5f0fce1a715255e45534853ee45cc42.\n\nReason for revert:\nNow ec2api use volumev3 by default so we don\'t need to set\nit explicitly.\n\nDepends-on: https://review.opendev.org/768182\n\nChange-Id: I486c6f66294529544f0f2469ce2436bad935e957\n'}, {'number': 3, 'created': '2021-01-28 01:24:55.000000000', 'files': ['manifests/ec2api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/15dbc6ed794e897be18f7d16b435cffa43b57882', 'message': 'Revert ""ec2api: Use volumev3 instead of volumev2""\n\nThis reverts commit 01f74c0ba5f0fce1a715255e45534853ee45cc42.\n\nReason for revert:\nNow ec2api uses volumev3 by default so we don\'t need to set\nit explicitly.\n\nDepends-on: https://review.opendev.org/768182\n\nChange-Id: I486c6f66294529544f0f2469ce2436bad935e957\n'}]",0,772800,15dbc6ed794e897be18f7d16b435cffa43b57882,9,4,3,9816,,,0,"Revert ""ec2api: Use volumev3 instead of volumev2""

This reverts commit 01f74c0ba5f0fce1a715255e45534853ee45cc42.

Reason for revert:
Now ec2api uses volumev3 by default so we don't need to set
it explicitly.

Depends-on: https://review.opendev.org/768182

Change-Id: I486c6f66294529544f0f2469ce2436bad935e957
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/00/772800/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ec2api.pp'],1,5e48ceb31e5826cc3b4d9db3858176f4987c3644,volumev3,," cinder_service_type => 'volumev3',",0,1
openstack%2Fmanila-tempest-plugin~master~I4585fa8349a98f0ac6ec7ec23fb7b26ab61d65af,openstack/manila-tempest-plugin,master,I4585fa8349a98f0ac6ec7ec23fb7b26ab61d65af,Fix 'ss-type' conflicts in security service tests,MERGED,2021-01-28 21:06:52.000000000,2021-01-29 23:37:15.000000000,2021-01-29 23:37:15.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30998}]","[{'number': 1, 'created': '2021-01-28 21:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/9ca094658a4b95c82dba3bb96b1a427825dce03a', 'message': ""WIP - Fix 'ss-type' conflicts in security service tests\n\nThis patch fixes security service conflict errors when security\nservice tests are executed. In these tests, no security services\nshould be automatically created during share network creation,\nor the test may fail due conflicting types.\nThis issue can be seen when 'security_service' config option\nis set to use a 'kerberos' or 'ldap' security service.\n\nChange-Id: I4585fa8349a98f0ac6ec7ec23fb7b26ab61d65af\nSigned-off-by: Douglas Viroel <viroel@gmail.com>\n""}, {'number': 2, 'created': '2021-01-29 11:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/24a6afec955bbd80cc28b8c56ded5d97838aef32', 'message': ""Fix 'ss-type' conflicts in security service tests\n\nThis patch fixes security service conflict errors when security\nservice tests are executed. In these tests, no security services\nshould be automatically created during share network creation,\nor the test may fail due conflicting types.\nThis issue can be seen when 'security_service' config option\nis set to use a 'kerberos' or 'ldap' security service.\n\nChange-Id: I4585fa8349a98f0ac6ec7ec23fb7b26ab61d65af\nSigned-off-by: Douglas Viroel <viroel@gmail.com>\n""}, {'number': 3, 'created': '2021-01-29 18:30:54.000000000', 'files': ['manila_tempest_tests/tests/api/test_security_services_negative.py', 'manila_tempest_tests/tests/api/test_security_services_mapping_negative.py', 'manila_tempest_tests/tests/api/test_security_services.py', 'manila_tempest_tests/tests/api/test_share_networks.py', 'manila_tempest_tests/tests/api/admin/test_share_networks.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/d2138765888fe16e68f713ed99121f41e01a3c51', 'message': ""Fix 'ss-type' conflicts in security service tests\n\nThis patch fixes security service conflict errors when security\nservice tests are executed. In these tests, no security services\nshould be automatically created during share network creation,\nor the test may fail due conflicting types.\nThis issue can be seen when 'security_service' config option\nis set to use a 'kerberos' or 'ldap' security service.\n\nChange-Id: I4585fa8349a98f0ac6ec7ec23fb7b26ab61d65af\nSigned-off-by: Douglas Viroel <viroel@gmail.com>\n""}]",0,772942,d2138765888fe16e68f713ed99121f41e01a3c51,29,4,3,30002,,,0,"Fix 'ss-type' conflicts in security service tests

This patch fixes security service conflict errors when security
service tests are executed. In these tests, no security services
should be automatically created during share network creation,
or the test may fail due conflicting types.
This issue can be seen when 'security_service' config option
is set to use a 'kerberos' or 'ldap' security service.

Change-Id: I4585fa8349a98f0ac6ec7ec23fb7b26ab61d65af
Signed-off-by: Douglas Viroel <viroel@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/42/772942/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/test_security_services_mapping_negative.py', 'manila_tempest_tests/tests/api/test_share_networks.py', 'manila_tempest_tests/tests/api/admin/test_share_networks.py']",3,9ca094658a4b95c82dba3bb96b1a427825dce03a,fix_conflicting_sec_services," add_security_services=False, cleanup_in_class=True, add_security_services=False, **cls.data_sn_with_kerberos_ss)"," cleanup_in_class=True, **cls.data_sn_with_kerberos_ss)",13,4
openstack%2Fopenstack-helm-infra~master~Id0971a95eb54eca9486a9811f7ec6f603a007cbb,openstack/openstack-helm-infra,master,Id0971a95eb54eca9486a9811f7ec6f603a007cbb,Added detailed FiXME for ks-service script bug and code changes in [0],MERGED,2021-01-29 15:48:40.000000000,2021-01-29 23:14:22.000000000,2021-01-29 23:12:56.000000000,"[{'_account_id': 11934}, {'_account_id': 18236}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 23928}, {'_account_id': 29585}, {'_account_id': 30495}]","[{'number': 1, 'created': '2021-01-29 15:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/15a133a1518eb350ba3217ffed76748d4828c7fa', 'message': 'Added detailed FiXME for ks-service script bug and code changes in [0]\n\n[0] https://review.opendev.org/c/openstack/openstack-helm-infra/+/772416\n\nChange-Id: Id0971a95eb54eca9486a9811f7ec6f603a007cbb\n'}, {'number': 2, 'created': '2021-01-29 16:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/23a1069c71aecb2dfa467327a010d88e527e19fb', 'message': 'Added detailed FiXME for ks-service script bug and code changes in [0]\n\n[0] https://review.opendev.org/c/openstack/openstack-helm-infra/+/772416\n\nChange-Id: Id0971a95eb54eca9486a9811f7ec6f603a007cbb\n'}, {'number': 3, 'created': '2021-01-29 19:56:04.000000000', 'files': ['helm-toolkit/templates/scripts/_ks-service.sh.tpl', 'helm-toolkit/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/69c525d791fcec03d7a0ea975db54b3357115ff7', 'message': 'Added detailed FiXME for ks-service script bug and code changes in [0]\n\nOn somewhat rare occasions the openstack service list call fails with\na connection aborted OSError 104 ECONNRESET. During an upgrade this failure\ncauses the script to think that the service it is checking for does not\nexist and therefore it recreates the script. In turn this causes further\nissues when other services try to use this duplicate service.\nThis is a temporary change in order to alliviate the issue while the root\ncause is investigated.\n\n[0] https://review.opendev.org/c/openstack/openstack-helm-infra/+/772416\n\nChange-Id: Id0971a95eb54eca9486a9811f7ec6f603a007cbb\n'}]",1,773111,69c525d791fcec03d7a0ea975db54b3357115ff7,23,10,3,30746,,,0,"Added detailed FiXME for ks-service script bug and code changes in [0]

On somewhat rare occasions the openstack service list call fails with
a connection aborted OSError 104 ECONNRESET. During an upgrade this failure
causes the script to think that the service it is checking for does not
exist and therefore it recreates the script. In turn this causes further
issues when other services try to use this duplicate service.
This is a temporary change in order to alliviate the issue while the root
cause is investigated.

[0] https://review.opendev.org/c/openstack/openstack-helm-infra/+/772416

Change-Id: Id0971a95eb54eca9486a9811f7ec6f603a007cbb
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/11/773111/1 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/scripts/_ks-service.sh.tpl', 'helm-toolkit/Chart.yaml']",2,15a133a1518eb350ba3217ffed76748d4828c7fa,,version: 0.2.4,version: 0.2.3,14,4
openstack%2Ftripleo-ansible~master~I6268a01d16f8288bf862003d19184fc93b88282a,openstack/tripleo-ansible,master,I6268a01d16f8288bf862003d19184fc93b88282a,Allow rhsm subscription test to be overrided in RHOSP deployment.,MERGED,2021-01-20 17:00:40.000000000,2021-01-29 22:39:11.000000000,2021-01-29 22:39:11.000000000,"[{'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}, {'_account_id': 27419}, {'_account_id': 31245}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-01-20 17:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0a4f89404397298ada6d45d9249105d6de7f284c', 'message': 'Allow rhsm subscription test to be overrided in RHOSP deployment.\n\nThis allow the master playbook used for update to set\ntripleo_redhat_enforce to false on a per role basis.\n\nChange-Id: I6268a01d16f8288bf862003d19184fc93b88282a\nPartial-Bug: #1912512\n'}, {'number': 2, 'created': '2021-01-20 17:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e4f5b830aa910e74986f54898ad9c5d347e07a06', 'message': 'Allow rhsm subscription test to be overrided in RHOSP deployment.\n\nThis allow the master playbook used for update to set\ntripleo_redhat_enforce to false on a per role basis.\n\nChange-Id: I6268a01d16f8288bf862003d19184fc93b88282a\nPartial-Bug: #1912512\n'}, {'number': 3, 'created': '2021-01-21 10:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0ba1cdc2ebc26b3acf8661cc2d224d13af086ec8', 'message': 'Allow rhsm subscription test to be overrided in RHOSP deployment.\n\nThis allow the master playbook used for update to set\ntripleo_redhat_enforce to false on a per role basis.\n\nChange-Id: I6268a01d16f8288bf862003d19184fc93b88282a\nPartial-Bug: #1912512\n'}, {'number': 4, 'created': '2021-01-25 14:29:32.000000000', 'files': ['tripleo_ansible/roles/tripleo_redhat_enforce/defaults/main.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/tasks/main.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/tasks/enforce_release.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/50f3e0ff3fbc757401b719fe7766e935bf5fc05f', 'message': 'Allow rhsm subscription test to be overrided in RHOSP deployment.\n\nThis allow the master playbook used for update to set\ntripleo_redhat_enforce to false on a per role basis on Red Hat\nenvironment.\n\nThe default in defaults/main.yml is now ""true"" so that it keeps its\nbehavior of being run by default if nothing is changed in the role\ndefinition.\n\nWe then avoid running it on other plateform than Red Hat by adding an\nexplicit test in that tasks/main.yml file.\n\nOverall the behavior is as follows:\n\n  | Red Hat Env | tripleo_enforced     | Test run |\n  |-------------+----------------------+----------|\n  | True        | Unset                | Yes      |\n  | True        | Set to true in role  | Yes      |\n  | True        | Set to false in role | No       |\n  | False       | Doesn\'t matter       | No       |\n\nChange-Id: I6268a01d16f8288bf862003d19184fc93b88282a\nPartial-Bug: #1912512\n'}]",4,771671,50f3e0ff3fbc757401b719fe7766e935bf5fc05f,26,13,4,8297,,,0,"Allow rhsm subscription test to be overrided in RHOSP deployment.

This allow the master playbook used for update to set
tripleo_redhat_enforce to false on a per role basis on Red Hat
environment.

The default in defaults/main.yml is now ""true"" so that it keeps its
behavior of being run by default if nothing is changed in the role
definition.

We then avoid running it on other plateform than Red Hat by adding an
explicit test in that tasks/main.yml file.

Overall the behavior is as follows:

  | Red Hat Env | tripleo_enforced     | Test run |
  |-------------+----------------------+----------|
  | True        | Unset                | Yes      |
  | True        | Set to true in role  | Yes      |
  | True        | Set to false in role | No       |
  | False       | Doesn't matter       | No       |

Change-Id: I6268a01d16f8288bf862003d19184fc93b88282a
Partial-Bug: #1912512
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/71/771671/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_redhat_enforce/tasks/main.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/vars/redhat.yml']",2,0a4f89404397298ada6d45d9249105d6de7f284c,,,tripleo_redhat_enforce: true,1,2
openstack%2Fpuppet-ceilometer~stable%2Ftrain~I9dcf128951cc23a0c8c8e589c42a352a94b3c8df,openstack/puppet-ceilometer,stable/train,I9dcf128951cc23a0c8c8e589c42a352a94b3c8df,Replace disk.* meters by disk.device.* meters,MERGED,2021-01-28 07:25:21.000000000,2021-01-29 22:31:05.000000000,2021-01-29 22:29:40.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-28 07:25:21.000000000', 'files': ['templates/pipeline.yaml.erb', 'spec/classes/ceilometer_agent_polling_spec.rb', 'manifests/params.pp', 'releasenotes/notes/bug-1911852-283ca913d7c7e818.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/d502884411343c862cf056fc2bf25ec6342548dc', 'message': 'Replace disk.* meters by disk.device.* meters\n\nThe disk.* meters have already removed from ceilometer[1] and we\nshould use the disk.device.* meters instead.\n\n[1] f7b1218b8e26a0f9a5924a15b029a961413cc40a\n\nCloses-Bug: #1911852\nChange-Id: I9dcf128951cc23a0c8c8e589c42a352a94b3c8df\n(cherry picked from commit 682ef848b7ecfd417f1160a7da496742fff4d9f3)\n(cherry picked from commit a3511cbed6ca4bfa00d766f60344ed44655d81d7)\n(cherry picked from commit 90ef42ef6e4be9594c709f249572f5c8e8a285de)\n'}]",0,772802,d502884411343c862cf056fc2bf25ec6342548dc,8,3,1,4264,,,0,"Replace disk.* meters by disk.device.* meters

The disk.* meters have already removed from ceilometer[1] and we
should use the disk.device.* meters instead.

[1] f7b1218b8e26a0f9a5924a15b029a961413cc40a

Closes-Bug: #1911852
Change-Id: I9dcf128951cc23a0c8c8e589c42a352a94b3c8df
(cherry picked from commit 682ef848b7ecfd417f1160a7da496742fff4d9f3)
(cherry picked from commit a3511cbed6ca4bfa00d766f60344ed44655d81d7)
(cherry picked from commit 90ef42ef6e4be9594c709f249572f5c8e8a285de)
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/02/772802/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/pipeline.yaml.erb', 'spec/classes/ceilometer_agent_polling_spec.rb', 'manifests/params.pp', 'releasenotes/notes/bug-1911852-283ca913d7c7e818.yaml']",4,d502884411343c862cf056fc2bf25ec6342548dc,bug/1911852-stable/victoria-stable/ussuri-stable/train,"--- fixes: - | Now the default meters use disk.device metrics instead of disk metrics, so that disk performance data can be captured by default. ",,15,14
openstack%2Fopenstack-ansible-ceph_client~master~I4c84db9eeab21f9eccf00b6021215a2e7a82438a,openstack/openstack-ansible-ceph_client,master,I4c84db9eeab21f9eccf00b6021215a2e7a82438a,[reno] Stop publishing release notes,MERGED,2021-01-22 16:23:08.000000000,2021-01-29 22:15:38.000000000,2021-01-29 22:11:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-22 16:23:08.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/0c4498c3071368ed427574930e054c794d954c62', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I4c84db9eeab21f9eccf00b6021215a2e7a82438a'}]",0,772008,0c4498c3071368ed427574930e054c794d954c62,13,3,1,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I4c84db9eeab21f9eccf00b6021215a2e7a82438a",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/08/772008/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,0c4498c3071368ed427574930e054c794d954c62,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fmasakari~stable%2Ftrain~I5d0a890209887b5795727af66ba8beed3a059a22,openstack/masakari,stable/train,I5d0a890209887b5795727af66ba8beed3a059a22,Add missed renos,MERGED,2021-01-29 21:17:07.000000000,2021-01-29 21:48:20.000000000,2021-01-29 21:46:47.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-29 21:17:07.000000000', 'files': ['releasenotes/notes/bug-1782517-e4dc70bad9e4e131.yaml', 'releasenotes/notes/bug-1859406-6b041a26acf6c7f6.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/e915ade85ad27a9de70d59377a9a255f21c6c8dd', 'message': 'Add missed renos\n\nChange-Id: I5d0a890209887b5795727af66ba8beed3a059a22\n(cherry picked from commit 7f76081ccf167141be07a1fa1b46b92d2da2cee1)\n'}]",0,773199,e915ade85ad27a9de70d59377a9a255f21c6c8dd,8,2,1,30491,,,0,"Add missed renos

Change-Id: I5d0a890209887b5795727af66ba8beed3a059a22
(cherry picked from commit 7f76081ccf167141be07a1fa1b46b92d2da2cee1)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/99/773199/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1782517-e4dc70bad9e4e131.yaml', 'releasenotes/notes/bug-1859406-6b041a26acf6c7f6.yaml']",2,e915ade85ad27a9de70d59377a9a255f21c6c8dd,add-missed-renos-stable/victoria-stable/ussuri-stable/train,--- fixes: - | Fixes Masakari Engine not to wait for timeout when it's known that the evacuation has failed. `LP#1859406 <https://launchpad.net/bugs/1859406>`__ ,,12,0
openstack%2Fmasakari~stable%2Fussuri~I5d0a890209887b5795727af66ba8beed3a059a22,openstack/masakari,stable/ussuri,I5d0a890209887b5795727af66ba8beed3a059a22,Add missed renos,MERGED,2021-01-29 21:16:00.000000000,2021-01-29 21:48:18.000000000,2021-01-29 21:46:50.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-29 21:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/ae7b475498fe10689047b13d1428e0ee3a4c6d1b', 'message': 'Add missed renos\n\nChange-Id: I5d0a890209887b5795727af66ba8beed3a059a22\n(cherry picked from commit 7f76081ccf167141be07a1fa1b46b92d2da2cee1)\n'}, {'number': 2, 'created': '2021-01-29 21:16:23.000000000', 'files': ['releasenotes/notes/bug-1782517-e4dc70bad9e4e131.yaml', 'releasenotes/notes/bug-1859406-6b041a26acf6c7f6.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/458698ff74205af29c22fd7f20f870916eaf1b16', 'message': 'Add missed renos\n\nChange-Id: I5d0a890209887b5795727af66ba8beed3a059a22\n(cherry picked from commit 7f76081ccf167141be07a1fa1b46b92d2da2cee1)\n'}]",0,773198,458698ff74205af29c22fd7f20f870916eaf1b16,9,2,2,30491,,,0,"Add missed renos

Change-Id: I5d0a890209887b5795727af66ba8beed3a059a22
(cherry picked from commit 7f76081ccf167141be07a1fa1b46b92d2da2cee1)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/98/773198/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1782517-e4dc70bad9e4e131.yaml', 'releasenotes/notes/bug-1859406-6b041a26acf6c7f6.yaml']",2,ae7b475498fe10689047b13d1428e0ee3a4c6d1b,add-missed-renos-stable/victoria-stable/ussuri,"--- fixes: - | Fixes Masakari Engine not to wait for timeout when it's known that the evacuation has failed. `LP#1859406 <https://launchpad.net/bugs/1859406>`__ (This fix has already been included in the first Victoria release, 10.0.0, but it was not mentioned in the release notes previously.) ",,14,0
openstack%2Fmasakari~stable%2Fvictoria~I5d0a890209887b5795727af66ba8beed3a059a22,openstack/masakari,stable/victoria,I5d0a890209887b5795727af66ba8beed3a059a22,Add missed renos,MERGED,2021-01-29 21:15:22.000000000,2021-01-29 21:43:48.000000000,2021-01-29 21:41:42.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-29 21:15:22.000000000', 'files': ['releasenotes/notes/bug-1782517-e4dc70bad9e4e131.yaml', 'releasenotes/notes/bug-1859406-6b041a26acf6c7f6.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/da2a5f01534d228311f5d5fa7b31c9917870a563', 'message': 'Add missed renos\n\nChange-Id: I5d0a890209887b5795727af66ba8beed3a059a22\n(cherry picked from commit 7f76081ccf167141be07a1fa1b46b92d2da2cee1)\n'}]",0,773197,da2a5f01534d228311f5d5fa7b31c9917870a563,8,2,1,30491,,,0,"Add missed renos

Change-Id: I5d0a890209887b5795727af66ba8beed3a059a22
(cherry picked from commit 7f76081ccf167141be07a1fa1b46b92d2da2cee1)
",git fetch https://review.opendev.org/openstack/masakari refs/changes/97/773197/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1782517-e4dc70bad9e4e131.yaml', 'releasenotes/notes/bug-1859406-6b041a26acf6c7f6.yaml']",2,da2a5f01534d228311f5d5fa7b31c9917870a563,add-missed-renos-stable/victoria,"--- fixes: - | Fixes Masakari Engine not to wait for timeout when it's known that the evacuation has failed. `LP#1859406 <https://launchpad.net/bugs/1859406>`__ (This fix has already been included in the first Victoria release, 10.0.0, but it was not mentioned in the release notes previously.) ",,14,0
openstack%2Fmasakari~master~I5d0a890209887b5795727af66ba8beed3a059a22,openstack/masakari,master,I5d0a890209887b5795727af66ba8beed3a059a22,Add missed renos,MERGED,2021-01-29 20:37:06.000000000,2021-01-29 21:03:57.000000000,2021-01-29 21:02:24.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-29 20:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/09d49c3f40009ac7172ab50676d614897634e79b', 'message': 'Add missed renos\n\nChange-Id: I5d0a890209887b5795727af66ba8beed3a059a22\n'}, {'number': 2, 'created': '2021-01-29 20:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/b713907c93c6d855850e60763aeeac5cea0c1775', 'message': 'Add missed renos\n\nChange-Id: I5d0a890209887b5795727af66ba8beed3a059a22\n'}, {'number': 3, 'created': '2021-01-29 20:42:54.000000000', 'files': ['releasenotes/notes/bug-1782517-e4dc70bad9e4e131.yaml', 'releasenotes/notes/bug-1859406-6b041a26acf6c7f6.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/7f76081ccf167141be07a1fa1b46b92d2da2cee1', 'message': 'Add missed renos\n\nChange-Id: I5d0a890209887b5795727af66ba8beed3a059a22\n'}]",0,773184,7f76081ccf167141be07a1fa1b46b92d2da2cee1,10,2,3,30491,,,0,"Add missed renos

Change-Id: I5d0a890209887b5795727af66ba8beed3a059a22
",git fetch https://review.opendev.org/openstack/masakari refs/changes/84/773184/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1782517-e4dc70bad9e4e131.yaml', 'releasenotes/notes/bug-1897888-022bc678709b3136.yaml', 'releasenotes/notes/bug-1859406-6b041a26acf6c7f6.yaml']",3,09d49c3f40009ac7172ab50676d614897634e79b,add-missed-renos,"--- fixes: - | Fixes Masakari Engine not to wait for timeout when it's known that the evacuation has failed. `LP#1859406 <https://launchpad.net/bugs/1859406>`__ (This fix has already been included in the first Victoria release, 10.0.0, but it was not mentioned in the release notes previously.) ",,20,0
openstack%2Fnova~stable%2Fussuri~I853cf4dbd7ad6b7903a7f444f5c1da3f0fb21f77,openstack/nova,stable/ussuri,I853cf4dbd7ad6b7903a7f444f5c1da3f0fb21f77,Bump hacking min version to 3.1.0,NEW,2020-12-22 12:09:26.000000000,2021-01-29 20:56:27.000000000,,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2020-12-22 12:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a22e85ee07d0227cdfc9d861c1d486154fdc420', 'message': 'Bump hacking min version to 3.1.0\n\nThis has introduced a new version of pycodestyle, which has improved its\nparser to catch new corner cases and introduced some new tests.\n\nCloses-Bug: #1878317\nChange-Id: I853cf4dbd7ad6b7903a7f444f5c1da3f0fb21f77\n(cherry picked from commit 61b99a1295c5208deef806b69ba74a7d031ad851)\n'}, {'number': 2, 'created': '2020-12-22 21:26:52.000000000', 'files': ['nova/tests/unit/api/openstack/compute/microversions.py', 'test-requirements.txt', 'nova/api/openstack/compute/keypairs.py', 'nova/db/sqlalchemy/migrate_repo/versions/330_enforce_mitaka_online_migrations.py', 'nova/api/openstack/compute/migrations.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/api/openstack/compute/quota_sets.py', 'lower-constraints.txt', 'nova/api/openstack/compute/quota_classes.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_objects.py', 'nova/api/openstack/compute/limits.py', 'nova/api/openstack/compute/simple_tenant_usage.py', 'nova/api/openstack/compute/hypervisors.py', 'nova/api/openstack/compute/console_auth_tokens.py', 'nova/api/openstack/compute/instance_actions.py', 'nova/api/openstack/compute/services.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a324ea183be4fd3801aebe291b596869eb985259', 'message': 'Bump hacking min version to 3.1.0\n\nThis has introduced a new version of pycodestyle, which has improved its\nparser to catch new corner cases and introduced some new tests.\n\nCloses-Bug: #1878317\nChange-Id: I853cf4dbd7ad6b7903a7f444f5c1da3f0fb21f77\n(cherry picked from commit 61b99a1295c5208deef806b69ba74a7d031ad851)\n'}]",1,768197,a324ea183be4fd3801aebe291b596869eb985259,12,4,2,26721,,,0,"Bump hacking min version to 3.1.0

This has introduced a new version of pycodestyle, which has improved its
parser to catch new corner cases and introduced some new tests.

Closes-Bug: #1878317
Change-Id: I853cf4dbd7ad6b7903a7f444f5c1da3f0fb21f77
(cherry picked from commit 61b99a1295c5208deef806b69ba74a7d031ad851)
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/768197/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/microversions.py', 'test-requirements.txt', 'nova/api/openstack/compute/keypairs.py', 'nova/db/sqlalchemy/migrate_repo/versions/330_enforce_mitaka_online_migrations.py', 'nova/api/openstack/compute/migrations.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/api/openstack/compute/quota_sets.py', 'nova/api/openstack/compute/quota_classes.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_objects.py', 'nova/api/openstack/compute/limits.py', 'nova/api/openstack/compute/simple_tenant_usage.py', 'nova/api/openstack/compute/hypervisors.py', 'nova/api/openstack/compute/console_auth_tokens.py', 'nova/api/openstack/compute/instance_actions.py', 'nova/api/openstack/compute/services.py']",17,8a22e85ee07d0227cdfc9d861c1d486154fdc420,," def update(self, req, id, body): # noqa"," def update(self, req, id, body):",53,52
openstack%2Fmanila~stable%2Fussuri~I60e4057dc962d96cff57dea88587a28c2043b499,openstack/manila,stable/ussuri,I60e4057dc962d96cff57dea88587a28c2043b499,[NetApp] Fix access rules for CIFS promoted replica,MERGED,2021-01-27 20:25:49.000000000,2021-01-29 20:44:27.000000000,2021-01-29 20:43:01.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31721}]","[{'number': 1, 'created': '2021-01-27 20:25:49.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/1896949-netapp-fix-cifs-access-rules-promoted-replica-70b32991cc90e1ca.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/460f44704df3303e092de3e9781224fdbbe8502d', 'message': '[NetApp] Fix access rules for CIFS promoted replica\n\nThis patch fixes the access rules for NetApp promote replica when\nusing CIFS protocol. When promoting a replica, the NetApp ONTAP\ndriver updates the access rules for the promoted CIFS share entity\nbefore actually creating it, failing on having those rules\napplied.\n\nThe bug is fixed by switching the order of updating the access\nand creating the promoted CIFS share entity.\n\nChange-Id: I60e4057dc962d96cff57dea88587a28c2043b499\nCloses-Bug: #1896949\n(cherry picked from commit 0c4d1e339801bb9d346dfa5a29af2ab76517bbd7)\n(cherry picked from commit c857b94e8a8aae1f471ebbde8b49beaad41ef431)\n'}]",0,772727,460f44704df3303e092de3e9781224fdbbe8502d,13,4,1,30002,,,0,"[NetApp] Fix access rules for CIFS promoted replica

This patch fixes the access rules for NetApp promote replica when
using CIFS protocol. When promoting a replica, the NetApp ONTAP
driver updates the access rules for the promoted CIFS share entity
before actually creating it, failing on having those rules
applied.

The bug is fixed by switching the order of updating the access
and creating the promoted CIFS share entity.

Change-Id: I60e4057dc962d96cff57dea88587a28c2043b499
Closes-Bug: #1896949
(cherry picked from commit 0c4d1e339801bb9d346dfa5a29af2ab76517bbd7)
(cherry picked from commit c857b94e8a8aae1f471ebbde8b49beaad41ef431)
",git fetch https://review.opendev.org/openstack/manila refs/changes/27/772727/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/1896949-netapp-fix-cifs-access-rules-promoted-replica-70b32991cc90e1ca.yaml']",2,460f44704df3303e092de3e9781224fdbbe8502d,bug/1896949,--- fixes: - | Fixed an issue on ONTAP NetApp driver that caused access rules not to be applied to a promoted replica using CIFS protocol. Please refer to the `Launchpad bug #1896949 <https://bugs.launchpad.net/manila/+bug/1896949>`_ for more details. ,,10,2
openstack%2Fironic-lib~stable%2Fvictoria~Id3748e729f8dd31aa6d2d7084bd01088cd9a7ecd,openstack/ironic-lib,stable/victoria,Id3748e729f8dd31aa6d2d7084bd01088cd9a7ecd,Correct base64 error handling,MERGED,2021-01-29 15:32:58.000000000,2021-01-29 20:31:31.000000000,2021-01-29 20:29:16.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 15:32:58.000000000', 'files': ['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/7ac01e1f99dba1da9833c61896a5ad359214c09a', 'message': ""Correct base64 error handling\n\nThe base64 module can raise many exceptions, TypeError doesn't even\nseem one of them. Capture all errors and provide the exact message.\n\nChange-Id: Id3748e729f8dd31aa6d2d7084bd01088cd9a7ecd\n(cherry picked from commit 0704bcdd9b4fafa50a41a29393209fc1bca2ede8)\n""}]",0,773011,7ac01e1f99dba1da9833c61896a5ad359214c09a,9,2,1,10239,,,0,"Correct base64 error handling

The base64 module can raise many exceptions, TypeError doesn't even
seem one of them. Capture all errors and provide the exact message.

Change-Id: Id3748e729f8dd31aa6d2d7084bd01088cd9a7ecd
(cherry picked from commit 0704bcdd9b4fafa50a41a29393209fc1bca2ede8)
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/11/773011/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py']",2,7ac01e1f99dba1da9833c61896a5ad359214c09a,config64-stable/victoria," except Exception as exc: error_msg = (_('Config drive for node %(node)s is not base64 encoded ' 'or the content is malformed. %(cls)s: %(err)s.') % {'node': node_uuid, 'err': exc, 'cls': type(exc).__name__})", except TypeError: error_msg = (_('Config drive for node %s is not base64 encoded ' 'or the content is malformed.') % node_uuid),6,9
openstack%2Frequirements~master~I89efe56754a64988d2c61acb2f537fbfa9de178d,openstack/requirements,master,I89efe56754a64988d2c61acb2f537fbfa9de178d,Block amqp==5.0.4 and bump upper version to 5.0.5,MERGED,2021-01-28 11:09:52.000000000,2021-01-29 20:09:04.000000000,2021-01-29 20:07:16.000000000,"[{'_account_id': 6476}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-01-28 11:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/144aa5a098ddb5c68cac89ecb18912437d0fa93f', 'message': 'Block amqp==5.0.4 due to a reported error\n\nThere is a reported error in amqp==5.0.4:\nhttps://github.com/celery/py-amqp/issues/351\n\nVersion 5.0.5 should fix it.\n\nCloses-Bug: #1913572\nChange-Id: I89efe56754a64988d2c61acb2f537fbfa9de178d\n'}, {'number': 2, 'created': '2021-01-29 09:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d5808408d39451bc5cc90dc60ec1fe5d832593ca', 'message': 'Block amqp==5.0.4 due to a reported error\n\nThere is a reported error in amqp==5.0.4:\nhttps://github.com/celery/py-amqp/issues/351\n\nVersion 5.0.5 should fix it.\n\nCloses-Bug: #1913572\nChange-Id: I89efe56754a64988d2c61acb2f537fbfa9de178d\n'}, {'number': 3, 'created': '2021-01-29 09:14:55.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0284f5ec9837c92cc92699076ccba3231ab8b1f5', 'message': 'Block amqp==5.0.4 and bump upper version to 5.0.5\n\nThere is a reported error in amqp==5.0.4:\nhttps://github.com/celery/py-amqp/issues/351\n\nVersion 5.0.5 should fix it.\n\nCloses-Bug: #1913572\nChange-Id: I89efe56754a64988d2c61acb2f537fbfa9de178d\n'}]",0,772857,0284f5ec9837c92cc92699076ccba3231ab8b1f5,21,7,3,16688,,,0,"Block amqp==5.0.4 and bump upper version to 5.0.5

There is a reported error in amqp==5.0.4:
https://github.com/celery/py-amqp/issues/351

Version 5.0.5 should fix it.

Closes-Bug: #1913572
Change-Id: I89efe56754a64988d2c61acb2f537fbfa9de178d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/57/772857/2 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,144aa5a098ddb5c68cac89ecb18912437d0fa93f,bug/1913572,"amqp!=2.1.4,!=5.0.4 # BSD",amqp!=2.1.4 # BSD,1,1
openstack%2Fnova~master~I782059aa2933aa414b94724f1e61f48466bb7a04,openstack/nova,master,I782059aa2933aa414b94724f1e61f48466bb7a04,Remove unused 'shutdown_terminate' flag,NEW,2021-01-29 17:10:28.000000000,2021-01-29 20:01:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-29 17:10:28.000000000', 'files': ['nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/658a400ef89d4f3177188ba386293542ed20a01b', 'message': ""Remove unused 'shutdown_terminate' flag\n\nThis seems to be a hangover from the days of EC2. There are no callers\nrelying setting this flag except for tests, meaning we can remove it. We\nkeep the code that checks for this value since it's conceivable that\nthere are very old instances out there with it set, but this too can be\nremoved in the distant future.\n\nChange-Id: I782059aa2933aa414b94724f1e61f48466bb7a04\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,773156,658a400ef89d4f3177188ba386293542ed20a01b,6,1,1,15334,,,0,"Remove unused 'shutdown_terminate' flag

This seems to be a hangover from the days of EC2. There are no callers
relying setting this flag except for tests, meaning we can remove it. We
keep the code that checks for this value since it's conceivable that
there are very old instances out there with it set, but this too can be
removed in the distant future.

Change-Id: I782059aa2933aa414b94724f1e61f48466bb7a04
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/773156/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']",4,658a400ef89d4f3177188ba386293542ed20a01b,trivial," def _test_provision_instances_with_cinder_error(self, expected_exception): self.assertRaises( expected_exception, self.compute_api._provision_instances, ctxt, flavor, min_count, max_count, base_options, boot_meta, security_groups, block_device_mapping, instance_group, check_server_group_quota, filter_properties, None, objects.TagList(), trusted_certs, False) None, None, {}, None, None, None, {}, None, None, None, {}, None, self.compute_api, '_bdm_validate_set_size_and_instance', return_value=block_device_mappings, ) as validate_bdm: ctxt, flavor, min_count, max_count, base_options, boot_meta, security_groups, block_device_mappings, instance_group, check_server_group_quota, filter_properties, None, instance_tags, trusted_certs, False) instances_to_build = self.compute_api._provision_instances( ctxt, flavor, min_count, max_count, base_options, boot_meta, security_groups, block_device_mapping, instance_group, check_server_group_quota, filter_properties, None, objects.TagList(), trusted_certs, False) self.assertRaises( exception.InvalidVolume, self.compute_api._provision_instances, ctxt, flavor, min_count, max_count, base_options, boot_meta, security_groups, block_device_mapping, instance_group, check_server_group_quota, filter_properties, None, tags, trusted_certs, False) mock_create_rs_br_im.assert_called_once_with( ctxt, req_spec_mock, build_req_mocks[0], inst_map_mocks[0]) [], None, None, None, self.context, instance, {}, 0, security_groups, flavor, 1)"," def _test_provision_instances_with_cinder_error(self, expected_exception): shutdown_terminate = True self.assertRaises(expected_exception, self.compute_api._provision_instances, ctxt, flavor, min_count, max_count, base_options, boot_meta, security_groups, block_device_mapping, shutdown_terminate, instance_group, check_server_group_quota, filter_properties, None, objects.TagList(), trusted_certs, False) None, None, None, {}, None, None, None, None, {}, None, None, None, None, {}, None, shutdown_terminate = True self.compute_api, '_bdm_validate_set_size_and_instance', return_value=block_device_mappings) as validate_bdm: ctxt, flavor, min_count, max_count, base_options, boot_meta, security_groups, block_device_mappings, shutdown_terminate, instance_group, check_server_group_quota, filter_properties, None, instance_tags, trusted_certs, False) shutdown_terminate = True instances_to_build = ( self.compute_api._provision_instances(ctxt, flavor, min_count, max_count, base_options, boot_meta, security_groups, block_device_mapping, shutdown_terminate, instance_group, check_server_group_quota, filter_properties, None, objects.TagList(), trusted_certs, False)) shutdown_terminate = True self.assertRaises(exception.InvalidVolume, self.compute_api._provision_instances, ctxt, flavor, min_count, max_count, base_options, boot_meta, security_groups, block_device_mapping, shutdown_terminate, instance_group, check_server_group_quota, filter_properties, None, tags, trusted_certs, False) mock_create_rs_br_im.assert_called_once_with(ctxt, req_spec_mock, build_req_mocks[0], inst_map_mocks[0]) [], None, None, None, None, self.context, instance, {}, 0, security_groups, flavor, 1, False)",67,72
openstack%2Fkolla~master~Iae5402ea40c9f856b1787fdf82cc2389ffe0be03,openstack/kolla,master,Iae5402ea40c9f856b1787fdf82cc2389ffe0be03,Upgrade the Monasca Fluentd output plugin,MERGED,2021-01-06 12:00:42.000000000,2021-01-29 20:00:18.000000000,2021-01-19 11:06:54.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 32657}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-01-06 12:00:42.000000000', 'files': ['releasenotes/notes/fix-monasca-fluentd-output-plugin-c27798ba186a8ef7.yaml', 'docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b4e8826c0c69f224223c8a148f025dc132964757', 'message': 'Upgrade the Monasca Fluentd output plugin\n\nFrom Victoria onwards a conflict is seen between the rest-client\nlibrary used by the Monasca Fluentd output plugin and the openssl\nlibrary. Specifically, a more recent release of openssl has dropped\na default which is referenced by the 1.8 release of the rest-client\nlibrary. In this commit we bump the Fluentd output plugin release\nto pull in a more recent version of the rest-client library which\ncan handle this change.\n\nChange-Id: Iae5402ea40c9f856b1787fdf82cc2389ffe0be03\nCloses-Bug: 1910382\n'}]",0,769535,b4e8826c0c69f224223c8a148f025dc132964757,12,6,1,17669,,,0,"Upgrade the Monasca Fluentd output plugin

From Victoria onwards a conflict is seen between the rest-client
library used by the Monasca Fluentd output plugin and the openssl
library. Specifically, a more recent release of openssl has dropped
a default which is referenced by the 1.8 release of the rest-client
library. In this commit we bump the Fluentd output plugin release
to pull in a more recent version of the rest-client library which
can handle this change.

Change-Id: Iae5402ea40c9f856b1787fdf82cc2389ffe0be03
Closes-Bug: 1910382
",git fetch https://review.opendev.org/openstack/kolla refs/changes/35/769535/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-monasca-fluentd-output-plugin-c27798ba186a8ef7.yaml', 'docker/fluentd/Dockerfile.j2']",2,b4e8826c0c69f224223c8a148f025dc132964757,bugfix/1910382,ARG monasca_output_plugin_tag=1.0.2,ARG monasca_output_plugin_tag=1.0.1,7,1
openstack%2Fmanila~stable%2Fvictoria~Idbed4745104de26af99bb16e07c6890637dfcfd1,openstack/manila,stable/victoria,Idbed4745104de26af99bb16e07c6890637dfcfd1,[NetApp] Fix hard-coded CA cert path for SSL,MERGED,2021-01-27 20:36:18.000000000,2021-01-29 19:45:18.000000000,2021-01-29 19:43:20.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 27442}, {'_account_id': 29632}, {'_account_id': 31721}]","[{'number': 1, 'created': '2021-01-27 20:36:18.000000000', 'files': ['manila/share/drivers/netapp/options.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/share/drivers/netapp/dataontap/client/api.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/data_motion.py', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_data_motion.py', 'manila/share/drivers/netapp/dataontap/client/client_base.py', 'manila/tests/share/drivers/netapp/dataontap/fakes.py', 'releasenotes/notes/1900191-netapp-fix-ssl-cert-path-option-35354c9b7a9c37e6.yaml', 'manila/tests/share/drivers/netapp/dataontap/client/fakes.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/57edaadac18de5bcf6cc5564e2ca8ece2228d10d', 'message': ""[NetApp] Fix hard-coded CA cert path for SSL\n\nNetApp driver is hard-coding the location of CA certificates for SSL\nverification during HTTPS requests. This location may change depending\non the environment or/and backend.\n\nThis patch adds the `netapp_ssl_cert_path` configuration, enabling\neach backend to choose the directory with certificates of trusted CA\nor the CA bundle. If set to a directory, it must have been processed\nusing the c_rehash utility supplied with OpenSSL. If not informed,\nit will use the Mozilla's carefully curated collection of Root\nCertificates for validating the trustworthiness of SSL certificates.\n\nCloses-Bug: #1900191\nChange-Id: Idbed4745104de26af99bb16e07c6890637dfcfd1\n(cherry picked from commit 70f7859f986a48e53b117a3e16a11cb5454f74e3)\n""}]",0,772729,57edaadac18de5bcf6cc5564e2ca8ece2228d10d,14,5,1,30002,,,0,"[NetApp] Fix hard-coded CA cert path for SSL

NetApp driver is hard-coding the location of CA certificates for SSL
verification during HTTPS requests. This location may change depending
on the environment or/and backend.

This patch adds the `netapp_ssl_cert_path` configuration, enabling
each backend to choose the directory with certificates of trusted CA
or the CA bundle. If set to a directory, it must have been processed
using the c_rehash utility supplied with OpenSSL. If not informed,
it will use the Mozilla's carefully curated collection of Root
Certificates for validating the trustworthiness of SSL certificates.

Closes-Bug: #1900191
Change-Id: Idbed4745104de26af99bb16e07c6890637dfcfd1
(cherry picked from commit 70f7859f986a48e53b117a3e16a11cb5454f74e3)
",git fetch https://review.opendev.org/openstack/manila refs/changes/29/772729/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/options.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/share/drivers/netapp/dataontap/client/api.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/data_motion.py', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_data_motion.py', 'manila/share/drivers/netapp/dataontap/client/client_base.py', 'manila/tests/share/drivers/netapp/dataontap/fakes.py', 'manila/tests/share/drivers/netapp/dataontap/client/fakes.py', 'releasenotes/notes/1900191-netapp-fix-ssl-cert-path-option-35354c9b7a9c37e6.yaml']",9,57edaadac18de5bcf6cc5564e2ca8ece2228d10d,bug/1900191,"--- upgrade: - Added a new config option `netapp_ssl_cert_path` for NetApp driver. This option enables the user to choose the directory with certificates of trusted CA or the CA bundle. If set to a directory, it must have been processed using the c_rehash utility supplied with OpenSSL. If not informed, it will use the Mozilla's carefully curated collection of Root Certificates for validating the trustworthiness of SSL certificates. fixes: - | Fixed an issue on ONTAP NetApp driver that was forcing the location of CA certificates for SSL verification during HTTPS requests. It adds the `netapp_ssl_cert_path` configuration, enabling the user to choose the directory with certificates of trusted CA or the CA bundle. If set to a directory, it must have been processed using the c_rehash utility supplied with OpenSSL. If not informed, it will use the Mozilla's carefully curated collection of Root Certificates for validating the trustworthiness of SSL certificates. Please refer to the `Launchpad bug #1900191 <https://bugs.launchpad.net/manila/+bug/1900191>`_ for more details. ",,48,6
openstack%2Ftempest~master~I62f35ae133626217fe1b46ed13999665d4c1abba,openstack/tempest,master,I62f35ae133626217fe1b46ed13999665d4c1abba,Test for changing QoS policy with min bw of bound port,MERGED,2020-07-29 08:40:53.000000000,2021-01-29 19:21:31.000000000,2021-01-29 19:18:13.000000000,"[{'_account_id': 8313}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-07-29 08:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c50fb87f3e78aad342ac2418ac41ab456d850c77', 'message': 'WIP: Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\n'}, {'number': 2, 'created': '2020-07-31 13:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/66d89f7f0821865f5894cced89d3f789d4b493f4', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\n'}, {'number': 3, 'created': '2020-08-24 17:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8a0ee672810cbc24c0e1d239d33dd1692032f3de', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\n'}, {'number': 4, 'created': '2020-08-25 09:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bfbe908bede54b7dcea9829a576adf854ed86ee2', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\n'}, {'number': 5, 'created': '2020-09-07 09:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3319ae16a554b343986030a0197a3ce44e3f200a', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\n'}, {'number': 6, 'created': '2020-09-07 09:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d87453e9a46b1eee02d14c61df0cf4a9f3cc8699', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/747774\n'}, {'number': 7, 'created': '2020-09-07 12:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d653683be00b59415cbbbba7dfe37e77a9a74743', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/747774\n'}, {'number': 8, 'created': '2020-09-16 11:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b8eddd6b15114833845e1a2c6eb4e7cdcb7172f2', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/747774\n'}, {'number': 9, 'created': '2020-09-22 16:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/94ecfb83bd6303bbb631ce252d33fc773fb05f61', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/747774\n'}, {'number': 10, 'created': '2020-09-23 08:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a6f018bb7b061993e5472508a23f928d63d3938b', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/747774\nDepends-On: https://review.opendev.org/753230\n'}, {'number': 11, 'created': '2020-10-06 16:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/76eaf160f3b8ed3d215c8630bb14e702f46a4fd1', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/747774\nDepends-On: https://review.opendev.org/753230\n'}, {'number': 12, 'created': '2020-10-08 11:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ce3e3bb75314a27dbcf6fb6c10fd78163b374439', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/747774\nDepends-On: https://review.opendev.org/753230\n'}, {'number': 13, 'created': '2020-10-29 10:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/58e96d927549b3480fdbc0277478cdd345ab7a90', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/747774\nDepends-On: https://review.opendev.org/753230\n'}, {'number': 14, 'created': '2020-11-02 13:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ce4785a1e994c644ad0e162aae1afd3f4ca5717b', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/747774\nDepends-On: https://review.opendev.org/753230\n'}, {'number': 15, 'created': '2020-11-03 14:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bbc262435161f2d6840f7fac35ba1d867ea3d87f', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/747774\nDepends-On: https://review.opendev.org/753230\n'}, {'number': 16, 'created': '2020-11-04 14:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7e31949f1444c370ade3b01161675aedf2057f09', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/747774\nDepends-On: https://review.opendev.org/753230\n'}, {'number': 17, 'created': '2020-11-05 10:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c223489a1fb1d2e77641105d1bcd252adde28397', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/747774\nDepends-On: https://review.opendev.org/753230\n'}, {'number': 18, 'created': '2020-11-09 12:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a362025633c5a00c05090d3078acf67da602b4ca', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/747774\nDepends-On: https://review.opendev.org/753230\n'}, {'number': 19, 'created': '2020-11-25 13:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7dd253b521058c9ca317ba41ee2e452fadba7c92', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/747774\nDepends-On: https://review.opendev.org/753230\n'}, {'number': 20, 'created': '2020-12-03 10:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2cca06d174dadfa324b2e81d608368d446078c6d', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/747774\nDepends-On: https://review.opendev.org/753230\n'}, {'number': 21, 'created': '2020-12-04 10:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a627b67ad9f3f5eab4d0b6adc40a52206d250c14', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/747774\nDepends-On: https://review.opendev.org/753230\n'}, {'number': 22, 'created': '2020-12-07 09:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ce937ed8760775bc8e4a8501448b1db441a1e8a7', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/747774\nDepends-On: https://review.opendev.org/753230\n'}, {'number': 23, 'created': '2020-12-07 20:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4a95296c5fc8934529a4a82a62e0e5887343ce10', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/747774\nDepends-On: https://review.opendev.org/753230\n'}, {'number': 24, 'created': '2020-12-08 13:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0db1b8df173c610d924411862b2549a9e914f141', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/747774\nDepends-On: https://review.opendev.org/753230\n'}, {'number': 25, 'created': '2021-01-11 16:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/06afcf03933b8175c319bfe3e0631d25d1ccd6af', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/769885\n'}, {'number': 26, 'created': '2021-01-28 19:21:18.000000000', 'files': ['tempest/scenario/test_minbw_allocation_placement.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8b90b26cc813f183be9ac610d6ebbeb4b023197a', 'message': 'Test for changing QoS policy with min bw of bound port\n\nChange-Id: I62f35ae133626217fe1b46ed13999665d4c1abba\nRelated-Bug: #1882804\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/769885\n'}]",29,743695,8b90b26cc813f183be9ac610d6ebbeb4b023197a,93,8,26,8313,,,0,"Test for changing QoS policy with min bw of bound port

Change-Id: I62f35ae133626217fe1b46ed13999665d4c1abba
Related-Bug: #1882804
Depends-On: https://review.opendev.org/c/openstack/devstack/+/769885
",git fetch https://review.opendev.org/openstack/tempest refs/changes/95/743695/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_minbw_allocation_placement.py'],1,c50fb87f3e78aad342ac2418ac41ab456d850c77,bug/1882804," BANDWIDTH_1 = 1000 BANDWIDTH_2 = 2000 cls.ports_client = cls.os_admin.ports_client def _create_qos_basic_policies(self): def _create_qos_policies_from_life(self): # For tempest-slow the max bandwidth configured is 1000000, # https://opendev.org/openstack/tempest/src/branch/master/ # .zuul.yaml#L416-L420 self.qos_policy_1 = self._create_policy_and_min_bw_rule( name_prefix='test_policy_1', min_kbps=self.BANDWIDTH_1 ) self.qos_policy_2 = self._create_policy_and_min_bw_rule( name_prefix='test_policy_2', min_kbps=self.BANDWIDTH_2 ) def _create_network_and_qos_policies(self, policy_method): policy_method() self._create_network_and_qos_policies(self._create_qos_basic_policies) @decorators.idempotent_id('79fdaa1c-df62-4738-a0f0-1cff9dc415f6') @decorators.attr(type='slow') @utils.services('compute', 'network') def test_qos_min_bw_allocation_update_policy(self): """"""Test the update of QoS policy on bound port Related RFE in neutron: #1882804 The scenario is the following: * Have a port with QoS policy and minimum bandwidth rule. * Boot a VM with the port. * Update the port with a new policy with different minimum bandwidth values. * The allocation on placement side should be according to the new rules. """""" self._check_if_allocation_is_possible() self._create_network_and_qos_policies( self._create_qos_policies_from_life) port = self.create_port( self.prov_network['id'], qos_policy_id=self.qos_policy_1['id']) server1 = self.create_server( networks=[{'port': port['id']}]) orig_allocations = self.placement_client.list_allocations( server1['id'])['allocations'] for rp, resources in orig_allocations.items(): if self.INGRESS_RESOURCE_CLASS in resources['resources']: self.assertEqual( self.BANDWIDTH_1, resources['resources'][self.INGRESS_RESOURCE_CLASS]) self.ports_client.update_port( port['id'], **{'qos_policy_id': self.qos_policy_2['id']}) new_allocations = self.placement_client.list_allocations( server1['id'])['allocations'] for rp, resources in new_allocations.items(): if self.INGRESS_RESOURCE_CLASS in resources['resources']: self.assertEqual( self.BANDWIDTH_2, resources['resources'][self.INGRESS_RESOURCE_CLASS])", def _create_qos_policies(self): def _create_network_and_qos_policies(self): self._create_qos_policies() self._create_network_and_qos_policies(),65,4
openstack%2Fneutron~stable%2Fvictoria~If19803ab6db144e2d17d6805d379c1c76d8fa343,openstack/neutron,stable/victoria,If19803ab6db144e2d17d6805d379c1c76d8fa343,Limit usage of resources in the fullstack tests job,MERGED,2021-01-11 11:36:14.000000000,2021-01-29 19:15:52.000000000,2021-01-29 19:10:02.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-11 11:36:14.000000000', 'files': ['neutron/tests/fullstack/test_dhcp_agent.py', 'zuul.d/base.yaml', 'neutron/tests/fullstack/resources/environment.py', 'neutron/tests/fullstack/resources/config.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/17fc966b3aa8c25e9bde78dd740c8c15fd6d9993', 'message': ""Limit usage of resources in the fullstack tests job\n\nTo limit usage of resources (mostly memory) in the fullstack job and\nto avoid oom killer to kill e.g. mysqld service, this patch:\n\n* Makes number of API workers changeable by tests, as a parameter to\n  EnvironmentDescription and defaults its value to 1. As neutron server\n  is spawned separately for each test and is used only to process just\n  few API requests during that single test so this should be still\n  enough there, and where more API workers are needed (like some dhcp HA\n  tests: TestDhcpAgentHARaceCondition) it can be changed,\n* reduces number of test run workers from 4 to 3 - job will run slower\n  but hopefully more stable,\n* in the functional and fullstack tests job definition disable etcd3\n  service - this will not save us a lot of memory but still it's not\n  needed at all so why to run it there.\n\nChange-Id: If19803ab6db144e2d17d6805d379c1c76d8fa343\nCloses-Bug: #1906366\n(cherry picked from commit f63dc09206a41c85edc92117c3e9cf3a3d49b820)\n""}]",0,770079,17fc966b3aa8c25e9bde78dd740c8c15fd6d9993,30,4,1,11975,,,0,"Limit usage of resources in the fullstack tests job

To limit usage of resources (mostly memory) in the fullstack job and
to avoid oom killer to kill e.g. mysqld service, this patch:

* Makes number of API workers changeable by tests, as a parameter to
  EnvironmentDescription and defaults its value to 1. As neutron server
  is spawned separately for each test and is used only to process just
  few API requests during that single test so this should be still
  enough there, and where more API workers are needed (like some dhcp HA
  tests: TestDhcpAgentHARaceCondition) it can be changed,
* reduces number of test run workers from 4 to 3 - job will run slower
  but hopefully more stable,
* in the functional and fullstack tests job definition disable etcd3
  service - this will not save us a lot of memory but still it's not
  needed at all so why to run it there.

Change-Id: If19803ab6db144e2d17d6805d379c1c76d8fa343
Closes-Bug: #1906366
(cherry picked from commit f63dc09206a41c85edc92117c3e9cf3a3d49b820)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/770079/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/fullstack/test_dhcp_agent.py', 'zuul.d/base.yaml', 'neutron/tests/fullstack/resources/config.py', 'neutron/tests/fullstack/resources/environment.py', 'tox.ini']",5,17fc966b3aa8c25e9bde78dd740c8c15fd6d9993,bug/1906366-stable/victoria, stestr run --concurrency 3 {posargs}, stestr run --concurrency 4 {posargs},9,3
openstack%2Fopenstack-helm-infra~master~Ibe8b38977216e618dccba7e8443b3cc05a772de5,openstack/openstack-helm-infra,master,Ibe8b38977216e618dccba7e8443b3cc05a772de5,Add possibility to use overrides for some charts,MERGED,2021-01-25 16:40:52.000000000,2021-01-29 19:05:59.000000000,2021-01-29 19:03:48.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28719}, {'_account_id': 29131}]","[{'number': 1, 'created': '2021-01-25 16:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/32de43b87462c4816166c564d5d1d1b849b87b2e', 'message': ""Add possibility to use overrides for some charts\n\nThe deal is that all the jobs' scripts include extra arguments\nwhen deploying helm charts, except these ones in the commit.\nIt would be useful to use override files in these charts.\n\nChange-Id: Ibe8b38977216e618dccba7e8443b3cc05a772de5\n""}, {'number': 2, 'created': '2021-01-26 09:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ef767c4776a552c719ae8d0f173ec4c7351974f6', 'message': ""Add possibility to use overrides for some charts\n\nThe deal is that all the jobs' scripts include extra arguments\nwhen deploying helm charts, except these ones in the commit.\nIt would be useful to use override files in these charts.\n\n+ Fix typo in apparmor.yaml\n\nChange-Id: Ibe8b38977216e618dccba7e8443b3cc05a772de5\n""}, {'number': 3, 'created': '2021-01-26 11:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d50904f17e29459e420a8fa412ab9ed017155028', 'message': ""Add possibility to use overrides for some charts\n\nThe deal is that all the jobs' scripts include extra arguments\nwhen deploying helm charts, except these ones in the commit.\nIt would be useful to use override files in these charts.\n\n+ Fix typo in apparmor.yaml\n\nChange-Id: Ibe8b38977216e618dccba7e8443b3cc05a772de5\n""}, {'number': 4, 'created': '2021-01-27 13:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1b109970d4c10bb93fd15397c2d1a6970f10fe3d', 'message': ""Add possibility to use overrides for some charts\n\nThe deal is that all the jobs' scripts include extra arguments\nwhen deploying helm charts, except these ones in the commit.\nIt would be useful to use override files in these charts.\n\n+ Fix typo in apparmor.yaml for node-exporter\n+ Amend apparmor.yaml for openstack-exporter, since\nthose values are being overridden by openstack-exporter.sh\n(by /tmp/prometheus-openstack-exporter.yaml, in particular)\n\nChange-Id: Ibe8b38977216e618dccba7e8443b3cc05a772de5\n""}, {'number': 5, 'created': '2021-01-27 14:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/29adee6abe7bdde618ae3f03b1c2d630a0ba818c', 'message': ""Add possibility to use overrides for some charts\n\nThe deal is that all the jobs' scripts include extra arguments\nwhen deploying helm charts, except these ones in the commit.\nIt would be useful to use override files in these charts.\n\n+ Fix typo in apparmor.yaml for node-exporter\n+ Amend apparmor.yaml for openstack-exporter, since\nthose values are being overridden by openstack-exporter.sh\n(by /tmp/prometheus-openstack-exporter.yaml, in particular)\n\nChange-Id: Ibe8b38977216e618dccba7e8443b3cc05a772de5\n""}, {'number': 6, 'created': '2021-01-27 16:49:55.000000000', 'files': ['tools/deployment/common/alerta.sh', 'prometheus-node-exporter/Chart.yaml', 'prometheus-node-exporter/values_overrides/apparmor.yaml', 'prometheus-openstack-exporter/Chart.yaml', 'tools/deployment/common/090-process-exporter.sh', 'tools/deployment/common/openstack-exporter.sh', 'prometheus-openstack-exporter/values_overrides/apparmor.yaml', 'tools/deployment/common/070-kube-state-metrics.sh', 'tools/deployment/common/080-node-exporter.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a589db04e998f2934a5852b461c8721d18cfccb1', 'message': ""Add possibility to use overrides for some charts\n\nThe deal is that all the jobs' scripts include extra arguments\nwhen deploying helm charts, except these ones in the commit.\nIt would be useful to use override files in these charts.\n\n+ Fix typo in apparmor.yaml for node-exporter\n+ Amend apparmor.yaml for openstack-exporter since\nthose values are already by default in values.yaml\n\nChange-Id: Ibe8b38977216e618dccba7e8443b3cc05a772de5\n""}]",1,772375,a589db04e998f2934a5852b461c8721d18cfccb1,30,6,6,32204,,,0,"Add possibility to use overrides for some charts

The deal is that all the jobs' scripts include extra arguments
when deploying helm charts, except these ones in the commit.
It would be useful to use override files in these charts.

+ Fix typo in apparmor.yaml for node-exporter
+ Amend apparmor.yaml for openstack-exporter since
those values are already by default in values.yaml

Change-Id: Ibe8b38977216e618dccba7e8443b3cc05a772de5
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/75/772375/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/common/alerta.sh', 'tools/deployment/common/070-kube-state-metrics.sh', 'tools/deployment/common/080-node-exporter.sh', 'tools/deployment/common/090-process-exporter.sh', 'tools/deployment/common/openstack-exporter.sh']",5,32de43b87462c4816166c564d5d1d1b849b87b2e,helm-override-images,": ${OSH_INFRA_EXTRA_HELM_ARGS_OPENSTACK_EXPORTER:=""$(./tools/deployment/common/get-values-overrides.sh prometheus-openstack-exporter)""} --values=/tmp/prometheus-openstack-exporter.yaml \ ${OSH_INFRA_EXTRA_HELM_ARGS_OPENSTACK_EXPORTER}", --values=/tmp/prometheus-openstack-exporter.yaml,22,5
openstack%2Fopenstack-helm-addons~master~I0b96846fdda3e38e33276a63f4235cdfa761cb2a,openstack/openstack-helm-addons,master,I0b96846fdda3e38e33276a63f4235cdfa761cb2a,Use TOX_CONSTRAINTS_FILE,MERGED,2020-12-24 06:53:18.000000000,2021-01-29 19:00:00.000000000,2021-01-29 18:53:57.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-24 06:53:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/e0991bf40c99a6012ace6c7d9e4a70c5cabed367', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I0b96846fdda3e38e33276a63f4235cdfa761cb2a\n'}]",0,768428,e0991bf40c99a6012ace6c7d9e4a70c5cabed367,8,3,1,30384,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I0b96846fdda3e38e33276a63f4235cdfa761cb2a
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/28/768428/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e0991bf40c99a6012ace6c7d9e4a70c5cabed367,,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fcharm-keystone-saml-mellon~master~Id88c7f6247714033364bb92fcb7462229a376b13,openstack/charm-keystone-saml-mellon,master,Id88c7f6247714033364bb92fcb7462229a376b13,Add Groovy to the test gate,MERGED,2020-11-05 11:48:40.000000000,2021-01-29 18:57:11.000000000,2021-01-29 18:57:11.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-05 11:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/7850df289a96669f3724c8c1686e8da51dcd31bf', 'message': 'Add Groovy to the test gate\n\nChange-Id: Id88c7f6247714033364bb92fcb7462229a376b13\n'}, {'number': 2, 'created': '2021-01-07 22:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/9a59b49b5848c04a36bcda131bbf1c2992c688c6', 'message': 'Add Groovy to the test gate\n\nChange-Id: Id88c7f6247714033364bb92fcb7462229a376b13\n'}, {'number': 3, 'created': '2021-01-15 14:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/cd57d7c1976368d4b969e24c0e4bffa28a63692b', 'message': 'Add Groovy to the test gate\n\nChange-Id: Id88c7f6247714033364bb92fcb7462229a376b13\n'}, {'number': 4, 'created': '2021-01-27 09:58:57.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/7886e61203109c2441c94c5844fba2a5959c3cc0', 'message': 'Add Groovy to the test gate\n\nChange-Id: Id88c7f6247714033364bb92fcb7462229a376b13\n'}]",0,761564,7886e61203109c2441c94c5844fba2a5959c3cc0,41,3,4,31289,,,0,"Add Groovy to the test gate

Change-Id: Id88c7f6247714033364bb92fcb7462229a376b13
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/64/761564/4 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,7850df289a96669f3724c8c1686e8da51dcd31bf,groovy-charm-gate,, dev_bundles:,0,2
openstack%2Fcharm-guide~master~Ia9f54263c7bd3563034b12a138fe144439302181,openstack/charm-guide,master,Ia9f54263c7bd3563034b12a138fe144439302181,Add ceph-iscsi and rabbitmq-server known limitations,MERGED,2021-01-29 13:25:19.000000000,2021-01-29 18:53:50.000000000,2021-01-29 18:52:19.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-01-29 13:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/32ed48feb5b4c3a8b921ab36b191b8a07ac4f29a', 'message': 'Add ceph-iscsi and rabbitmq-server known limitations\n\nChange-Id: Ia9f54263c7bd3563034b12a138fe144439302181\nRelated-Bug: #1904199\nRelated-Bug: #1912638\n'}, {'number': 2, 'created': '2021-01-29 16:47:36.000000000', 'files': ['doc/source/2101.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/618b315284c4920f5ac1d565f6b7ae6c5b42938c', 'message': 'Add ceph-iscsi and rabbitmq-server known limitations\n\nChange-Id: Ia9f54263c7bd3563034b12a138fe144439302181\nRelated-Bug: #1904199\nRelated-Bug: #1912638\n'}]",4,773022,618b315284c4920f5ac1d565f6b7ae6c5b42938c,10,2,2,31289,,,0,"Add ceph-iscsi and rabbitmq-server known limitations

Change-Id: Ia9f54263c7bd3563034b12a138fe144439302181
Related-Bug: #1904199
Related-Bug: #1912638
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/22/773022/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2101.rst'],1,32ed48feb5b4c3a8b921ab36b191b8a07ac4f29a,known-issues-iscsi-rabbit,Ceph iSCSI on Groovy ~~~~~~~~~~~~~~~~~~~~ The ceph-iscsi charm can't be deployed on Groovy due to bug `LP #1904199`_. Charm upgrade - rabbitmq-server charm ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The rabbitmq-server charm may fail after a charm upgrade due to bug `LP #1912638`_. The hook error can safely be resolved with: .. code-block:: none juju resolved rabbitmq-server/N .. _LP #1904199: https://bugs.launchpad.net/charm-ceph-iscsi/+bug/1904199 .. _LP #1912638: https://bugs.launchpad.net/charm-rabbitmq-server/+bug/1912638,,17,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I9939a524795bb3fbc63e44f203f851dadeb7c30a,openstack/tripleo-heat-templates,stable/victoria,I9939a524795bb3fbc63e44f203f851dadeb7c30a,[WIP][collectd][ansible] Add template to deploy collectd using ansible,ABANDONED,2021-01-29 18:41:16.000000000,2021-01-29 18:46:01.000000000,,[],"[{'number': 1, 'created': '2021-01-29 18:41:16.000000000', 'files': ['deployment/metrics/collectd-container-ansible.yaml', 'environments/metrics/test-collectd-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0fa923e2489450ed866d73b59229876456efc82b', 'message': '[WIP][collectd][ansible] Add template to deploy collectd using ansible\n\nAll heat params have been copied over, there are a bunch\nthat are used for conditionals.\nThe outputs and conditionals secions in *-puppet do a lot\nof configuration, and provides lists of defaults for\npuppet. These will be moved to ansible, role is WIP at [1] and [2]\n\nTODO: Add in the part where configuration is done.\n\n[1] https://github.com/infrawatch/tripleo-collectd-ansible-role\n[2] https://github.com/infrawatch/collectd-config-ansible-role\n\nChange-Id: I9939a524795bb3fbc63e44f203f851dadeb7c30a\n'}]",0,773167,0fa923e2489450ed866d73b59229876456efc82b,2,0,1,13177,,,0,"[WIP][collectd][ansible] Add template to deploy collectd using ansible

All heat params have been copied over, there are a bunch
that are used for conditionals.
The outputs and conditionals secions in *-puppet do a lot
of configuration, and provides lists of defaults for
puppet. These will be moved to ansible, role is WIP at [1] and [2]

TODO: Add in the part where configuration is done.

[1] https://github.com/infrawatch/tripleo-collectd-ansible-role
[2] https://github.com/infrawatch/collectd-config-ansible-role

Change-Id: I9939a524795bb3fbc63e44f203f851dadeb7c30a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/773167/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/metrics/collectd-container-ansible.yaml', 'environments/metrics/test-collectd-ansible.yaml']",2,0fa923e2489450ed866d73b59229876456efc82b,ansible_collectd,"# A Heat environment file that enable a test for ansible deployment resource_registry: OS::TripleO::Services::Collectd: ../../deployment/metrics/collectd-container-ansible.yaml parameter_defaults: EnableSTF: true CollectdExtraPlugins: - csv CollectdVars: param1: ""hello world"" ",,467,0
openstack%2Fpuppet-neutron~master~I7fb26433a86f92c91628394db49534e9350c41c3,openstack/puppet-neutron,master,I7fb26433a86f92c91628394db49534e9350c41c3,Remove duritong/sysctl dependency,MERGED,2021-01-28 05:44:37.000000000,2021-01-29 18:42:54.000000000,2021-01-29 18:42:54.000000000,"[{'_account_id': 8064}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-28 05:44:37.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/135713be4d3268e1c0bd5e6ef2d011d0f3b96967', 'message': 'Remove duritong/sysctl dependency\n\nThe last code using this module was removed in\ncommit 320da88fea0b2de15859a6371ff7ea63ec190009.\n\nChange-Id: I7fb26433a86f92c91628394db49534e9350c41c3\n'}]",0,772828,135713be4d3268e1c0bd5e6ef2d011d0f3b96967,8,4,1,5733,,,0,"Remove duritong/sysctl dependency

The last code using this module was removed in
commit 320da88fea0b2de15859a6371ff7ea63ec190009.

Change-Id: I7fb26433a86f92c91628394db49534e9350c41c3
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/28/772828/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,135713be4d3268e1c0bd5e6ef2d011d0f3b96967,,," ""name"": ""duritong/sysctl"", ""version_requirement"": "">=0.0.1 <1.0.0"" }, {",0,4
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Iff8a80eb36a9649ce458b78067e4fc09d8428015,openstack/tripleo-heat-templates,stable/victoria,Iff8a80eb36a9649ce458b78067e4fc09d8428015,[tmp][collectd][ansible] Add CI jobs,ABANDONED,2021-01-29 18:41:16.000000000,2021-01-29 18:42:52.000000000,,[],"[{'number': 1, 'created': '2021-01-29 18:41:16.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a21c5392aad6630c0c19da2cc4b3b8aa02a7f30b', 'message': '[tmp][collectd][ansible] Add CI jobs\n\nInitially keeping the CI job updates separate from the main patch\nto make sure failures are due to the change and not random failures\nin the CI, as has been observed recently.\n\nThis change will be combined with the previous commmit eventually.\n\nChange-Id: Iff8a80eb36a9649ce458b78067e4fc09d8428015\n'}]",0,773168,a21c5392aad6630c0c19da2cc4b3b8aa02a7f30b,2,0,1,13177,,,0,"[tmp][collectd][ansible] Add CI jobs

Initially keeping the CI job updates separate from the main patch
to make sure failures are due to the change and not random failures
in the CI, as has been observed recently.

This change will be combined with the previous commmit eventually.

Change-Id: Iff8a80eb36a9649ce458b78067e4fc09d8428015
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/773168/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario001-standalone.yaml']",2,a21c5392aad6630c0c19da2cc4b3b8aa02a7f30b,ansible_collectd, OS::TripleO::Services::Collectd: ../../deployment/metrics/collectd-container-ansible.yaml # TODO(efoley): Update this to use tripleo_collectd ansible parameters, OS::TripleO::Services::Collectd: ../../deployment/metrics/collectd-container-puppet.yaml,4,2
openstack%2Fneutron~master~I95d26a6e7cb0e18b5e15a84c57e345fe6df78413,openstack/neutron,master,I95d26a6e7cb0e18b5e15a84c57e345fe6df78413,"Implement ""sysctl"" using oslo.privsep",ABANDONED,2020-06-03 16:57:20.000000000,2021-01-29 18:18:31.000000000,,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-03 16:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/370da934ee0702b905b1101d4debe1b67329b0f8', 'message': 'Implement ""sysctl"" using privsep\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: TBD\nTask: TBD\n'}, {'number': 2, 'created': '2020-06-04 16:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/77b62c556d8b39d2c2fa159daf4d8fd80c108d6f', 'message': 'Implement ""sysctl"" using privsep\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: TBD\nTask: TBD\n'}, {'number': 3, 'created': '2020-06-05 10:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/66632d56f9bdb7befdc1030b348cb49db4c2cec6', 'message': 'Implement ""sysctl"" using privsep\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: TBD\nTask: TBD\n'}, {'number': 4, 'created': '2020-06-05 15:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7b0aa223f8e2dd260527bbe228b16860b8ae974', 'message': 'Implement ""sysctl"" using privsep\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: #2007686\nTask: #39974\n'}, {'number': 5, 'created': '2020-06-05 17:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b8ae440e2cdc1e76c3353d13f7564b39e856822', 'message': 'Implement ""sysctl"" using privsep\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: #2007686\nTask: #39974\n'}, {'number': 6, 'created': '2020-06-07 17:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4fb97608048bf1acd361c72e924d90d67066e384', 'message': 'Implement ""sysctl"" using oslo.privsep\n\nRemove the use of oslo.rootwrap when executing ""sysctl"" commands\nand replace them with oslo.privsep.\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: #2007686\nTask: #39974\n'}, {'number': 7, 'created': '2020-06-07 19:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8cb3905b2515b9af0f9821d279ff172d8f5a8fe', 'message': 'Implement ""sysctl"" using oslo.privsep\n\nRemove the use of oslo.rootwrap when executing ""sysctl"" commands\nand replace them with oslo.privsep.\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: #2007686\nTask: #39974\n'}, {'number': 8, 'created': '2020-06-08 10:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/588f5e1d88b49def13cf2ba7e1b418629748d820', 'message': 'Implement ""sysctl"" using oslo.privsep\n\nRemove the use of oslo.rootwrap when executing ""sysctl"" commands\nand replace them with oslo.privsep.\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: #2007686\nTask: #39974\n'}, {'number': 9, 'created': '2020-06-10 08:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fdb3c4a4ef40f6017d64fc1d42858426f1434470', 'message': 'Implement ""sysctl"" using oslo.privsep\n\nRemove the use of oslo.rootwrap when executing ""sysctl"" commands\nand replace them with oslo.privsep.\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: #2007686\nTask: #39974\n'}, {'number': 10, 'created': '2020-06-10 15:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c6ae0b144efd4171c888f0812cd6e65b2ae3563b', 'message': 'Implement ""sysctl"" using oslo.privsep\n\nRemove the use of oslo.rootwrap when executing ""sysctl"" commands\nand replace them with oslo.privsep.\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: #2007686\nTask: #39974\n'}, {'number': 11, 'created': '2020-06-10 17:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d8ecef80181ea0c26d20d039870298711c6810c', 'message': 'Implement ""sysctl"" using oslo.privsep\n\nRemove the use of oslo.rootwrap when executing ""sysctl"" commands\nand replace them with oslo.privsep.\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: #2007686\nTask: #39974\n'}, {'number': 12, 'created': '2020-06-11 09:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8d97c904fe6663b3de5c16e8a731d158aed9780', 'message': 'Implement ""sysctl"" using oslo.privsep\n\nRemove the use of oslo.rootwrap when executing ""sysctl"" commands\nand replace them with oslo.privsep.\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: #2007686\nTask: #39974\n'}, {'number': 13, 'created': '2020-06-11 12:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7de36948c26c4220ddaa9a0709e390fdb360a5e0', 'message': 'Implement ""sysctl"" using oslo.privsep\n\nRemove the use of oslo.rootwrap when executing ""sysctl"" commands\nand replace them with oslo.privsep.\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: #2007686\nTask: #39974\n'}, {'number': 14, 'created': '2020-06-12 11:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0bb97a77b5efecee31d9f92a29112fbbf136bddc', 'message': 'Implement ""sysctl"" using oslo.privsep\n\nRemove the use of oslo.rootwrap when executing ""sysctl"" commands\nand replace them with oslo.privsep.\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: #2007686\nTask: #39974\n'}, {'number': 15, 'created': '2020-06-16 09:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f7ba706b91c466e439bd286ac0d01530e2967b7', 'message': 'Implement ""sysctl"" using oslo.privsep\n\nRemove the use of oslo.rootwrap when executing ""sysctl"" commands\nand replace them with oslo.privsep.\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: #2007686\nTask: #39974\n'}, {'number': 16, 'created': '2020-06-25 11:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e320f0aac7e8bba225c35223bb482d7b269fe7d1', 'message': 'Implement ""sysctl"" using oslo.privsep\n\nRemove the use of oslo.rootwrap when executing ""sysctl"" commands\nand replace them with oslo.privsep.\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: #2007686\nTask: #39974\n'}, {'number': 17, 'created': '2020-06-25 11:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3823a7dfc16e0537056ceecfe8a9c8a606ce3b26', 'message': '[WIP] Implement ""sysctl"" using oslo.privsep\n\nRemove the use of oslo.rootwrap when executing ""sysctl"" commands\nand replace them with oslo.privsep.\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: #2007686\nTask: #39974\n'}, {'number': 18, 'created': '2020-06-26 09:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/567b1453fb16e3caa08730fb168d31b2a1e711b6', 'message': '[WIP] Implement ""sysctl"" using oslo.privsep\n\nRemove the use of oslo.rootwrap when executing ""sysctl"" commands\nand replace them with oslo.privsep.\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: #2007686\nTask: #39974\n'}, {'number': 19, 'created': '2020-07-02 16:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d16daad7cfd36be5c8c51c986b310522c47e6cbe', 'message': 'Implement ""sysctl"" using oslo.privsep\n\nRemove the use of oslo.rootwrap when executing ""sysctl"" commands\nand replace them with oslo.privsep.\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: #2007686\nTask: #39974\n'}, {'number': 20, 'created': '2020-07-03 10:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/887366ae3620ceadd754bd9bc604850217af1a48', 'message': 'Implement ""sysctl"" using oslo.privsep\n\nRemove the use of oslo.rootwrap when executing ""sysctl"" commands\nand replace them with oslo.privsep.\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: #2007686\nTask: #39974\n'}, {'number': 21, 'created': '2020-10-17 10:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f9ff0355adb5ceddd28dd90b31721dd24b2dbe1', 'message': 'Implement ""sysctl"" using oslo.privsep\n\nRemove the use of oslo.rootwrap when executing ""sysctl"" commands\nand replace them with oslo.privsep.\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: #2007686\nTask: #39974\n'}, {'number': 22, 'created': '2020-11-13 08:47:43.000000000', 'files': ['neutron/tests/functional/agent/test_dhcp_agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'etc/neutron/rootwrap.d/linuxbridge-plugin.filters', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py', 'neutron/cmd/sanity/checks.py', 'neutron/tests/unit/agent/l3/test_dvr_snat_ns.py', 'neutron/tests/unit/agent/linux/test_bridge_lib.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py', 'neutron/privileged/__init__.py', 'neutron/agent/linux/interface.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/unit/agent/l3/test_dvr_fip_ns.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_iptables.py', 'etc/neutron/rootwrap.d/iptables-firewall.filters', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/unit/tests/common/test_net_helpers.py', 'neutron/privileged/agent/linux/ip_lib.py', 'etc/neutron/rootwrap.d/l3.filters', 'neutron/agent/l3/dvr_snat_ns.py', 'neutron/agent/l3/dvr_fip_ns.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/tests/common/net_helpers.py', 'neutron/agent/l3/namespaces.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1974337652a944a1cf4d41974e9075817cbb3e3', 'message': 'Implement ""sysctl"" using oslo.privsep\n\nRemove the use of oslo.rootwrap when executing ""sysctl"" commands\nand replace them with oslo.privsep.\n\nChange-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413\nStory: #2007686\nTask: #39974\n'}]",29,733250,a1974337652a944a1cf4d41974e9075817cbb3e3,123,10,22,16688,,,0,"Implement ""sysctl"" using oslo.privsep

Remove the use of oslo.rootwrap when executing ""sysctl"" commands
and replace them with oslo.privsep.

Change-Id: I95d26a6e7cb0e18b5e15a84c57e345fe6df78413
Story: #2007686
Task: #39974
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/733250/18 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/test_dhcp_agent.py', 'neutron/privileged/__init__.py', 'neutron/agent/linux/interface.py', 'neutron/agent/linux/ip_lib.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/unit/agent/l3/test_dvr_fip_ns.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/agent/l3/dvr_snat_ns.py', 'neutron/cmd/sanity/checks.py', 'neutron/agent/l3/dvr_fip_ns.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/linux/test_bridge_lib.py', 'neutron/tests/common/net_helpers.py', 'neutron/agent/l3/namespaces.py']",15,370da934ee0702b905b1101d4debe1b67329b0f8,task/39974, # TODO(ralonsoh): to migrate # TODO(ralonsoh): to migrate # TODO(ralonsoh): to migrate # TODO(ralonsoh): to migrate,,103,48
openstack%2Fneutron~stable%2Fussuri~I25c36b1604e5855a22960f1b504a79f740c134bb,openstack/neutron,stable/ussuri,I25c36b1604e5855a22960f1b504a79f740c134bb,Check the revision number only once,ABANDONED,2021-01-19 15:21:59.000000000,2021-01-29 18:17:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-19 15:21:59.000000000', 'files': ['neutron/services/revisions/revision_plugin.py', 'neutron/tests/unit/services/revisions/test_revision_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/548fcdcfcd8695bfbf0ac1595e6f6e5817523322', 'message': 'Check the revision number only once\n\nWhen an OVO revision number transaction constraint is requested\nin the HTTP header, the OVO standard attributes revision number\nshould be checked only once, because:\n- The revision number constrain refers to a single resource; only\n  a single check is needed.\n- Some backends (OVN), execute more than one DB transaction.\n  As reported in the related LP bug, the second time the OVO is\n  checked during the second DB transaction, the revision number of\n  the OVO has been bumped and does not match with the original\n  number requested.\n\nCloses-Bug: #1909008\n\nChange-Id: I25c36b1604e5855a22960f1b504a79f740c134bb\n(cherry picked from commit 6b0ae48381061ceded39bfbb6f942e58570fc819)\n'}]",0,771479,548fcdcfcd8695bfbf0ac1595e6f6e5817523322,5,1,1,16688,,,0,"Check the revision number only once

When an OVO revision number transaction constraint is requested
in the HTTP header, the OVO standard attributes revision number
should be checked only once, because:
- The revision number constrain refers to a single resource; only
  a single check is needed.
- Some backends (OVN), execute more than one DB transaction.
  As reported in the related LP bug, the second time the OVO is
  checked during the second DB transaction, the revision number of
  the OVO has been bumped and does not match with the original
  number requested.

Closes-Bug: #1909008

Change-Id: I25c36b1604e5855a22960f1b504a79f740c134bb
(cherry picked from commit 6b0ae48381061ceded39bfbb6f942e58570fc819)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/771479/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/revisions/revision_plugin.py', 'neutron/tests/unit/services/revisions/test_revision_plugin.py']",2,548fcdcfcd8695bfbf0ac1595e6f6e5817523322,bug/1909008," # Despite the revision number is bumped twice during the session # transaction, the revision number is tested only once the first # time the revision number service is executed for this session and # object. expected_code=exc.HTTPOk.code) self._update('ports', port['port']['id'], new, headers={'If-Match': 'revision_number=%s' % str(int(rev) + 2)}, expected_code=exc.HTTPOk.code) self._update('ports', port['port']['id'], new, headers={'If-Match': 'revision_number=1'},",,18,1
openstack%2Fneutron~stable%2Fvictoria~I25c36b1604e5855a22960f1b504a79f740c134bb,openstack/neutron,stable/victoria,I25c36b1604e5855a22960f1b504a79f740c134bb,Check the revision number only once,ABANDONED,2021-01-19 15:21:27.000000000,2021-01-29 18:17:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-19 15:21:27.000000000', 'files': ['neutron/services/revisions/revision_plugin.py', 'neutron/tests/unit/services/revisions/test_revision_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0cb169a5dd8b7ee8af3afc2fd7570dd64663618a', 'message': 'Check the revision number only once\n\nWhen an OVO revision number transaction constraint is requested\nin the HTTP header, the OVO standard attributes revision number\nshould be checked only once, because:\n- The revision number constrain refers to a single resource; only\n  a single check is needed.\n- Some backends (OVN), execute more than one DB transaction.\n  As reported in the related LP bug, the second time the OVO is\n  checked during the second DB transaction, the revision number of\n  the OVO has been bumped and does not match with the original\n  number requested.\n\nCloses-Bug: #1909008\n\nChange-Id: I25c36b1604e5855a22960f1b504a79f740c134bb\n(cherry picked from commit 6b0ae48381061ceded39bfbb6f942e58570fc819)\n'}]",0,771477,0cb169a5dd8b7ee8af3afc2fd7570dd64663618a,8,1,1,16688,,,0,"Check the revision number only once

When an OVO revision number transaction constraint is requested
in the HTTP header, the OVO standard attributes revision number
should be checked only once, because:
- The revision number constrain refers to a single resource; only
  a single check is needed.
- Some backends (OVN), execute more than one DB transaction.
  As reported in the related LP bug, the second time the OVO is
  checked during the second DB transaction, the revision number of
  the OVO has been bumped and does not match with the original
  number requested.

Closes-Bug: #1909008

Change-Id: I25c36b1604e5855a22960f1b504a79f740c134bb
(cherry picked from commit 6b0ae48381061ceded39bfbb6f942e58570fc819)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/771477/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/revisions/revision_plugin.py', 'neutron/tests/unit/services/revisions/test_revision_plugin.py']",2,0cb169a5dd8b7ee8af3afc2fd7570dd64663618a,bug/1909008," # Despite the revision number is bumped twice during the session # transaction, the revision number is tested only once the first # time the revision number service is executed for this session and # object. expected_code=exc.HTTPOk.code) self._update('ports', port['port']['id'], new, headers={'If-Match': 'revision_number=%s' % str(int(rev) + 2)}, expected_code=exc.HTTPOk.code) self._update('ports', port['port']['id'], new, headers={'If-Match': 'revision_number=1'},",,18,1
openstack%2Freleases~master~I3e699796f2ff8b97f128c4ddda63dac80a9fa416,openstack/releases,master,I3e699796f2ff8b97f128c4ddda63dac80a9fa416,Release networking-midonet for stable/train,ABANDONED,2021-01-29 14:26:45.000000000,2021-01-29 18:02:09.000000000,,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 14:26:45.000000000', 'files': ['deliverables/train/networking-midonet.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9f1a8f0e9a3941c5ed683c731d3c73e82789ce30', 'message': 'Release networking-midonet for stable/train\n\nThis release picks up new commits to networking-midonet since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I3e699796f2ff8b97f128c4ddda63dac80a9fa416\n'}]",0,773068,9f1a8f0e9a3941c5ed683c731d3c73e82789ce30,5,3,1,17685,,,0,"Release networking-midonet for stable/train

This release picks up new commits to networking-midonet since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I3e699796f2ff8b97f128c4ddda63dac80a9fa416
",git fetch https://review.opendev.org/openstack/releases refs/changes/68/773068/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/networking-midonet.yaml'],1,9f1a8f0e9a3941c5ed683c731d3c73e82789ce30,train-stable, - version: 9.0.1 projects: - repo: openstack/networking-midonet hash: bfd9cace92a3e82d651f96bd911f0d749ff2c65e,,4,0
openstack%2Freleases~master~I15ad06776e8e81d9f7376db9af8431e32a7fe3be,openstack/releases,master,I15ad06776e8e81d9f7376db9af8431e32a7fe3be,Release openstack-ansible for stable/train,ABANDONED,2021-01-29 14:40:25.000000000,2021-01-29 17:55:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-29 14:40:25.000000000', 'files': ['deliverables/train/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5f21294fbb2ae5ae0ca3cc3981642ca4dd4828c0', 'message': 'Release openstack-ansible for stable/train\n\nThis release picks up new commits to openstack-ansible since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I15ad06776e8e81d9f7376db9af8431e32a7fe3be\n'}]",0,773076,5f21294fbb2ae5ae0ca3cc3981642ca4dd4828c0,5,2,1,17685,,,0,"Release openstack-ansible for stable/train

This release picks up new commits to openstack-ansible since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I15ad06776e8e81d9f7376db9af8431e32a7fe3be
",git fetch https://review.opendev.org/openstack/releases refs/changes/76/773076/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/openstack-ansible.yaml'],1,5f21294fbb2ae5ae0ca3cc3981642ca4dd4828c0,train-stable, - version: 20.2.3 projects: - repo: openstack/openstack-ansible hash: bd4c3486b42a9f7405909e617d2bc233c9b95866,,4,0
openstack%2Fopenstack-helm-addons~master~If7cd18ddd6f266d58a10bfabd202f9daa4a518bf,openstack/openstack-helm-addons,master,If7cd18ddd6f266d58a10bfabd202f9daa4a518bf,Complete removal of SSH data in Ranger,MERGED,2021-01-23 00:08:02.000000000,2021-01-29 17:50:52.000000000,2021-01-29 17:43:52.000000000,"[{'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 19391}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30495}]","[{'number': 1, 'created': '2021-01-23 00:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/0f8915faa1dcba57c16f4bab63baabad376c4a8a', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 2, 'created': '2021-01-23 01:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/5230f2fa468ea77774988fb9811304c2ea47f960', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 3, 'created': '2021-01-25 16:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/02887160dba47f1a626fb69cf88fe8133998adcb', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 4, 'created': '2021-01-25 19:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/0cf06be35466261b8d9de31a860e930c63a9b4f5', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 5, 'created': '2021-01-25 23:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/c40851ffd610d0d5ace500c96062f1141346b9b8', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 6, 'created': '2021-01-25 23:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/354bfc4ef2fbc902559b335d6714cbb37f0cb774', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 7, 'created': '2021-01-26 15:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/68fd026239ecce3d12c191c81e4cc4e08a61ffae', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 8, 'created': '2021-01-26 15:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/589a9a3a6d813d875cab6c7e80d0aef00861b61e', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 9, 'created': '2021-01-26 17:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/c5584a5388f6665b01dd02e9b36fd41e2d2a78d5', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 10, 'created': '2021-01-26 18:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/4b865e3e7b2b31d4769fb4a22ff2e5bfe0c3ab56', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 11, 'created': '2021-01-26 20:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/164b4bb98c031a895ac54f266d1e12015f77b338', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 12, 'created': '2021-01-26 20:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/c4794ea6ffddc09ab983daca8c67b93ecb5893ad', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 13, 'created': '2021-01-27 15:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/79f424012fd94bd05d9c120d0dd1876e269f7b85', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 14, 'created': '2021-01-27 19:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/5b5ddb1d5d5cc335f9926047e2d6b789e85f58e1', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 15, 'created': '2021-01-27 19:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/6e25917c009ce0b6f054e41049f596097ae0b74c', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 16, 'created': '2021-01-27 20:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/c52445948f89057c72357ba0571dc487a77e1ff6', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 17, 'created': '2021-01-27 21:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/10ce35a80a7ca114323b4f9f0ec310d33948a23f', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 18, 'created': '2021-01-27 21:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/ddc5c5caabec210cf26cfbcfecde1cb66baf9ff6', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 19, 'created': '2021-01-27 21:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/e034adfb7f60e182871358d812de8e94322ed55e', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 20, 'created': '2021-01-27 21:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/2b3cb64bcd05426a3d5b7161e2f6e83c4c179f8b', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 21, 'created': '2021-01-27 22:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/037cc705ea6e3308bb8f865c859b807df76bac1f', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 22, 'created': '2021-01-27 23:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/d07f0baa2f5c24f1e07d92b67c02860084a8570d', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 23, 'created': '2021-01-27 23:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/2658da09154c142d7fb88be4c43bdf55f17eeb25', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, pending review by the ranger\nteam of the mixed language defining ssh\nand https values\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 24, 'created': '2021-01-28 00:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/bd35bf44e572ee51016b54c8295cb6e573577952', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, barring user_home and\nretry_limit as they are values\nwhich have been co-opted by other\nparts of the ranger/ranger-agent\ncodebase.\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 25, 'created': '2021-01-28 17:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/d1a072195932d024f3963a96aeed46fe4491e76c', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, barring user_home and\nretry_limit as they are values\nwhich have been co-opted by other\nparts of the ranger/ranger-agent\ncodebase.\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 26, 'created': '2021-01-28 17:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/f685f806cf1629ad5441860ef9b9e36ee785b57c', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, barring user_home and\nretry_limit as they are values\nwhich have been co-opted by other\nparts of the ranger/ranger-agent\ncodebase.\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 27, 'created': '2021-01-28 18:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/b771c4e1b14368e5e6ca6913053f1a9fd7e95b8c', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, barring user_home and\nretry_limit as they are values\nwhich have been co-opted by other\nparts of the ranger/ranger-agent\ncodebase.\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}, {'number': 28, 'created': '2021-01-28 19:17:44.000000000', 'files': ['ranger/values.yaml', 'tools/deployment/component/ranger/ranger-agent.sh', 'ranger-agent/templates/bin/_ranger-agent-engine.sh.tpl', 'ranger/templates/configmap-bin.yaml', 'ranger/templates/deployment-rds-service.yaml', 'ranger-agent/values.yaml', 'ranger-agent/templates/deployment-ranger-agent-engine.yaml', 'ranger-agent/Chart.yaml', 'ranger-agent/templates/secret-ssh-key.yaml', 'ranger/templates/configmap-etc.yaml', 'ranger/templates/bin/_ranger-rds-service.sh.tpl', 'ranger/templates/bin/_ranger-services.sh.tpl', 'ranger/templates/secret-ssh-key.yaml', 'ranger/Chart.yaml', 'tools/deployment/component/ranger/ranger.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/c7816d8397be3bfaf467459bcb6e2eb19ce3cdec', 'message': 'Complete removal of SSH data in Ranger\n\nRanger has not used SSH since the\nproject finished conversions to\npython 3.6. The data below is to be\nremoved, barring user_home and\nretry_limit as they are values\nwhich have been co-opted by other\nparts of the ranger/ranger-agent\ncodebase.\n\nChange-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf\n'}]",5,772134,c7816d8397be3bfaf467459bcb6e2eb19ce3cdec,74,6,28,29585,,,0,"Complete removal of SSH data in Ranger

Ranger has not used SSH since the
project finished conversions to
python 3.6. The data below is to be
removed, barring user_home and
retry_limit as they are values
which have been co-opted by other
parts of the ranger/ranger-agent
codebase.

Change-Id: If7cd18ddd6f266d58a10bfabd202f9daa4a518bf
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/34/772134/27 && git format-patch -1 --stdout FETCH_HEAD,"['ranger/values.yaml', 'tools/deployment/component/ranger/ranger-agent.sh', 'ranger-agent/templates/bin/_ranger-agent-engine.sh.tpl', 'ranger-agent/templates/secret-ssh-key.yaml', 'ranger/templates/configmap-etc.yaml', 'ranger/templates/bin/_ranger-rds-service.sh.tpl', 'ranger/templates/secret-ssh-key.yaml', 'ranger/templates/deployment-rds-service.yaml', 'ranger-agent/values.yaml', 'tools/deployment/component/ranger/ranger.sh', 'ranger-agent/templates/deployment-ranger-agent-engine.yaml']",11,0f8915faa1dcba57c16f4bab63baabad376c4a8a,,, {{- if .Values.manifests.secret_ssh_key }} env: - name: USER valueFrom: secretKeyRef: name: ranger-agent-ssh-secret key: USER - name: USER_HOME valueFrom: secretKeyRef: name: ranger-agent-ssh-secret key: USER_HOME - name: SSH_KEY_FILE valueFrom: secretKeyRef: name: ranger-agent-ssh-secret key: SSH_KEY_FILE - name: SSH_KEY valueFrom: secretKeyRef: name: ranger-agent-ssh-secret key: RANGER_AGENT_PRIVATE_KEY - name: SSH_KEY_CONFIGURATION valueFrom: secretKeyRef: name: ranger-agent-ssh-secret key: RANGER_AGENT_SSH_CONFIG {{- end }},0,226
openstack%2Fcinder~master~If24871ad6bf7558ae71e560141bf61ede61f81f5,openstack/cinder,master,If24871ad6bf7558ae71e560141bf61ede61f81f5,created s3 cinder backup driver,MERGED,2020-08-17 16:29:40.000000000,2021-01-29 17:47:12.000000000,2021-01-29 17:44:33.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13689}, {'_account_id': 15386}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21129}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25397}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 32304}, {'_account_id': 32329}, {'_account_id': 32712}]","[{'number': 1, 'created': '2020-08-17 16:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/005f0f4dae59638f4805a4867483330ef5f0eb21', 'message': 'created s3 cinder backup driver\n\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\n'}, {'number': 2, 'created': '2020-08-19 10:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1c0745998faa78bdfcc86071739ae007a7b9f4d', 'message': 'created s3 cinder backup driver\n\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\n'}, {'number': 3, 'created': '2020-08-19 14:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ab724fbae1920b848ff41e0dc9d7cd3611717803', 'message': 'created s3 cinder backup driver\n\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\n'}, {'number': 4, 'created': '2020-08-19 16:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d3996c71f1bf86a66fe54ae3b8d577ade443f3f3', 'message': 'created s3 cinder backup driver\n\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\n'}, {'number': 5, 'created': '2020-08-19 16:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d45d4937fb89f42ed624cf30f4b66328f13bfc0', 'message': 'created s3 cinder backup driver\n\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\n'}, {'number': 6, 'created': '2020-08-20 10:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cfdff5f604fb43e3b8145550737ecb57f1f20b10', 'message': 'created s3 cinder backup driver\n\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\n'}, {'number': 7, 'created': '2020-08-20 14:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a2291c6215b6820882e3a5a31e2b37cc1d65b3b6', 'message': 'created s3 cinder backup driver\n\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\n'}, {'number': 8, 'created': '2020-08-20 14:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f9b180e671b989b069cf56bca0b6a5d8eed81ba6', 'message': 'created s3 cinder backup driver\n\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\n'}, {'number': 9, 'created': '2020-08-20 16:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/34d9b6e034ac799d0e06c720f97d91394e109478', 'message': 'created s3 cinder backup driver\n\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\n'}, {'number': 10, 'created': '2020-08-21 10:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/78f91e665319428c5c89e72cbf0b0e646f481097', 'message': 'created s3 cinder backup driver\n\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\n'}, {'number': 11, 'created': '2020-08-21 10:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/432d42bbd38859d56c1494398f019604f88e86b6', 'message': 'created s3 cinder backup driver\n\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\n'}, {'number': 12, 'created': '2020-08-21 10:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2bda97a595c81482f99c69a1f7bf2c4aa85a6ab5', 'message': 'created s3 cinder backup driver\n\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\n'}, {'number': 13, 'created': '2020-10-30 02:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/992b7c4c1d26a0a64aa93a426587a2a80cd574e0', 'message': 'created s3 cinder backup driver\n\nCo-Authored-By: Masahiro Okuri <okuri.masahiro@jp.fujitsu.com>\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\nImplements: blueprint support-s3-backup-driver\n'}, {'number': 14, 'created': '2020-12-10 04:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf862e928c4bd43bed74ec98e231d550d25235b7', 'message': 'created s3 cinder backup driver\n\nCo-Authored-By: Masahiro Okuri <okuri.masahiro@jp.fujitsu.com>\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\nImplements: blueprint support-s3-backup-driver\n'}, {'number': 15, 'created': '2020-12-11 04:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/21e7bceb05bd002d774c5f5d6896a0ccf41cfbe9', 'message': 'created s3 cinder backup driver\n\nCo-Authored-By: Masahiro Okuri <okuri.masahiro@jp.fujitsu.com>\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\nImplements: blueprint support-s3-backup-driver\n'}, {'number': 16, 'created': '2020-12-22 09:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b0000f80dff6b4985cc6e7911da61b0296549dd', 'message': 'created s3 cinder backup driver\n\nCo-Authored-By: Masahiro Okuri <okuri.masahiro@jp.fujitsu.com>\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\nImplements: blueprint support-s3-backup-driver\n'}, {'number': 17, 'created': '2020-12-22 09:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5501b4a349b05d713dc998a4cac73344505d986d', 'message': 'created s3 cinder backup driver\n\nCo-Authored-By: Masahiro Okuri <okuri.masahiro@jp.fujitsu.com>\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\nImplements: blueprint support-s3-backup-driver\n'}, {'number': 18, 'created': '2020-12-23 00:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9f272caa39105e93f52d973dba467dff7ec05e56', 'message': 'created s3 cinder backup driver\n\nCo-Authored-By: Masahiro Okuri <okuri.masahiro@jp.fujitsu.com>\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\nImplements: blueprint support-s3-backup-driver\n'}, {'number': 19, 'created': '2020-12-24 01:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b1574ea630063212a39a474845832ae0cbc80ee', 'message': 'created s3 cinder backup driver\n\nCo-Authored-By: Masahiro Okuri <okuri.masahiro@jp.fujitsu.com>\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\nImplements: blueprint support-s3-backup-driver\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/747234\n'}, {'number': 20, 'created': '2020-12-24 04:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/68c97ac3014995158e7e71efee902b77d1335d12', 'message': 'created s3 cinder backup driver\n\nCo-Authored-By: Masahiro Okuri <okuri.masahiro@jp.fujitsu.com>\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\nImplements: blueprint support-s3-backup-driver\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/747234\n'}, {'number': 21, 'created': '2021-01-14 08:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ca65186bcdd87e5d51ca6bfe0e74d38d8b30d48', 'message': 'created s3 cinder backup driver\n\nCo-Authored-By: Masahiro Okuri <okuri.masahiro@jp.fujitsu.com>\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\nImplements: blueprint support-s3-backup-driver\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/747234\n'}, {'number': 22, 'created': '2021-01-15 05:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e815878340a363e4f4a4fe4dbba7d236f77d040', 'message': 'created s3 cinder backup driver\n\nCo-Authored-By: Masahiro Okuri <okuri.masahiro@jp.fujitsu.com>\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\nImplements: blueprint support-s3-backup-driver\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/747234\n'}, {'number': 23, 'created': '2021-01-20 21:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/13254d36e53b63cb00e00220b7d08de4631f65ab', 'message': 'created s3 cinder backup driver\n\nCo-Authored-By: Masahiro Okuri <okuri.masahiro@jp.fujitsu.com>\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\nImplements: blueprint support-s3-backup-driver\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/747234\n'}, {'number': 24, 'created': '2021-01-21 08:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/62f8e398989bd736aa202e3b9513ae34ea2e1398', 'message': 'created s3 cinder backup driver\n\nCo-Authored-By: Masahiro Okuri <okuri.masahiro@jp.fujitsu.com>\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\nImplements: blueprint support-s3-backup-driver\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/747234\n'}, {'number': 25, 'created': '2021-01-25 09:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f2b473bf9068994be04202998b36fed90df099d', 'message': 'created s3 cinder backup driver\n\nCo-Authored-By: Masahiro Okuri <okuri.masahiro@jp.fujitsu.com>\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\nImplements: blueprint support-s3-backup-driver\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/747234\n'}, {'number': 26, 'created': '2021-01-26 07:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad82a3c9bc0d01184201e568a967ef768c301916', 'message': 'created s3 cinder backup driver\n\nCo-Authored-By: Masahiro Okuri <okuri.masahiro@jp.fujitsu.com>\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\nImplements: blueprint support-s3-backup-driver\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/747234\n'}, {'number': 27, 'created': '2021-01-26 09:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e96d726e23e4c18c7ae8c7b1bb1a625cbebe7a2', 'message': 'created s3 cinder backup driver\n\nCo-Authored-By: Masahiro Okuri <okuri.masahiro@jp.fujitsu.com>\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\nImplements: blueprint support-s3-backup-driver\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/747234\n'}, {'number': 28, 'created': '2021-01-27 07:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f133a0a07dcd251799323f66fc1f0db2e3a50681', 'message': 'created s3 cinder backup driver\n\nCo-Authored-By: Masahiro Okuri <okuri.masahiro@jp.fujitsu.com>\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\nImplements: blueprint support-s3-backup-driver\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/747234\n'}, {'number': 29, 'created': '2021-01-28 08:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c3d2c342400df85193a6e94dd4768b64550bd63e', 'message': 'created s3 cinder backup driver\n\nCo-Authored-By: Masahiro Okuri <okuri.masahiro@jp.fujitsu.com>\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\nImplements: blueprint support-s3-backup-driver\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/747234\n'}, {'number': 30, 'created': '2021-01-28 15:57:40.000000000', 'files': ['cinder/opts.py', 'requirements.txt', 'cinder/backup/drivers/s3.py', 'test-requirements.txt', 'cinder/tests/unit/backup/fake_s3_client.py', 'releasenotes/notes/backup_s3_driver-238e3612acd7cc06.yaml', 'doc/source/configuration/block-storage/backup/s3-backup-driver.rst', 'cinder/tests/unit/backup/drivers/test_backup_s3.py', 'lower-constraints.txt', 'cinder/cmd/backup.py', 'doc/source/configuration/block-storage/backup-drivers.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/337248138e9265e4dcd2555199a18721ef1db902', 'message': 'created s3 cinder backup driver\n\nCo-Authored-By: Masahiro Okuri <okuri.masahiro@jp.fujitsu.com>\nChange-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5\nImplements: blueprint support-s3-backup-driver\n'}]",185,746561,337248138e9265e4dcd2555199a18721ef1db902,460,29,30,32304,,,0,"created s3 cinder backup driver

Co-Authored-By: Masahiro Okuri <okuri.masahiro@jp.fujitsu.com>
Change-Id: If24871ad6bf7558ae71e560141bf61ede61f81f5
Implements: blueprint support-s3-backup-driver
",git fetch https://review.opendev.org/openstack/cinder refs/changes/61/746561/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'cinder/backup/drivers/s3.py', 'cinder/tests/unit/backup/drivers/test_backup_s3.py']",3,005f0f4dae59638f4805a4867483330ef5f0eb21,feature/support-s3-backup-driver,"import bz2 import zlib import ddt from botocore.exceptions import ClientError from cinder.tests.unit import test from cinder import db from cinder.tests.unit import fake_constants as fake from cinder import exception from cinder.backup.drivers import s3 as s3_dr from cinder import context import boto3 from moto import mock_s3 import hashlib import tempfile from unittest import mock import shutil import os from oslo_config import cfg from cinder import objects from cinder.i18n import _ from eventlet import tpool import threading import filecmp ANY = mock.ANY CONF = cfg.CONF def fake_md5(arg=""test""): class result(object): def hexdigest(self): return 'fake-md5-sum' def digest(self): return 'fake-md5-sum'.encode('utf-8') def update(self,_): return ret = result() return ret @mock_s3 @ddt.ddt class BackupS3TestCase(test.TestCase): """"""Test Case for s3."""""" _DEFAULT_VOLUME_ID = 'c7eb81f4-bec6-4730-a60f-8888885874df' def _create_volume_db_entry(self, volume_id=_DEFAULT_VOLUME_ID): vol = {'id': volume_id, 'size': 1, 'status': 'available', 'volume_type_id': self.vt['id']} return db.volume_create(self.ctxt, vol)['id'] def _create_backup_db_entry(self, volume_id=_DEFAULT_VOLUME_ID, container='test-container', backup_id=fake.BACKUP_ID, parent_id=None, service_metadata=None, save=True): service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') try: db.volume_get(self.ctxt, volume_id) except exception.NotFound: self._create_volume_db_entry(volume_id=volume_id) backup = {'id': backup_id, 'size': 1, 'container': container, 'volume_id': volume_id, 'parent_id': parent_id, 'user_id': fake.USER_ID, 'project_id': fake.PROJECT_ID, 'service_metadata': service_metadata, } backup_id = db.backup_create(self.ctxt, backup)['id'] backup_obj = objects.Backup.get_by_id(self.ctxt, backup_id) if container: try: service.s3.head_bucket(Bucket=container) except ClientError: service.s3.create_bucket(Bucket=container) if save: service.backup(backup_obj, self.volume_file) return backup_id def _write_effective_compression_file(self, data_size): """"""Ensure file contents can be effectively compressed."""""" self.volume_file.seek(0) self.volume_file.write(bytes([65] * data_size)) self.volume_file.seek(0) def setUp(self): super(BackupS3TestCase, self).setUp() service_catalog = [{u'type': u'object-store', u'name': u's3', u'endpoints': [{ u'publicURL': u'http://public.example.com'}]}, {u'type': u'identity', u'name': u'keystone', u'endpoints': [{ u'publicURL': u'http://example.com'}]}] self.ctxt = context.RequestContext(user_id=fake.USER_ID, is_admin=True, service_catalog=service_catalog) self.mock_object(hashlib, 'md5', fake_md5) self.volume_file = tempfile.NamedTemporaryFile() self.temp_dir = tempfile.mkdtemp() self.addCleanup(self.volume_file.close) # Remove tempdir. self.addCleanup(shutil.rmtree, self.temp_dir) self.size_volume_file = 0 for _i in range(0, 64): self.volume_file.write(os.urandom(1024)) self.size_volume_file += 1024 notify_patcher = mock.patch( 'cinder.volume.volume_utils.notify_about_backup_usage') notify_patcher.start() self.addCleanup(notify_patcher.stop) self.override_config(""backup_s3_url"", ""http://public.example.com/"") self.override_config(""backup_s3_access_key_id"", ""some_id"") self.override_config(""backup_s3_access_key"", ""some_key"") self.override_config(""backup_sse_customer_key"", ""some_aes_key"") def test_backup_correctly_configured(self): self.service = s3_dr.S3BackupDriver(self.ctxt) self.assertIsInstance(self.service, s3_dr.S3BackupDriver) def test_backup_uncompressed(self): volume_id = '2b9f10a3-42b4-4fdf-b316-000000ceb039' self._create_backup_db_entry(volume_id=volume_id) self.flags(backup_compression_algorithm='none') service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') self.volume_file.seek(0) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) service.backup(backup, self.volume_file) def test_backup_uncompressed_casing(self): volume_id = '2b9f10a3-42b4-dead-b316-000000ceb039' self._create_backup_db_entry(volume_id=volume_id) self.flags(backup_compression_algorithm='None') service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') self.volume_file.seek(0) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) service.backup(backup, self.volume_file) def test_backup_bz2(self): volume_id = 'dc0fee35-b44e-4f13-80d6-000000e1b50c' self._create_backup_db_entry(volume_id=volume_id) self.flags(backup_compression_algorithm='bz2') service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') self._write_effective_compression_file(self.size_volume_file) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) service.backup(backup, self.volume_file) def test_backup_zlib(self): volume_id = '5cea0535-b6fb-4531-9a38-000000bea094' self._create_backup_db_entry(volume_id=volume_id) self.flags(backup_compression_algorithm='zlib') service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') self._write_effective_compression_file(self.size_volume_file) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) service.backup(backup, self.volume_file) @mock.patch.object(db, 'backup_update', wraps=db.backup_update) def test_backup_default_container(self, backup_update_mock): volume_id = '9552017f-c8b9-4e4e-a876-00000053349c' self._create_backup_db_entry(volume_id=volume_id, container=None) self.volume_file.seek(0) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') service.backup(backup, self.volume_file) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) self.assertEqual('volumebackups', backup['container']) self.assertEqual(5, backup_update_mock.call_count) @mock.patch.object(db, 'backup_update', wraps=db.backup_update) def test_backup_db_container(self, backup_update_mock): volume_id = '9552017f-c8b9-4e4e-a876-00000053349c' self._create_backup_db_entry(volume_id=volume_id, container='existing_name') service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') self.volume_file.seek(0) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) service.backup(backup, self.volume_file) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) self.assertEqual('existing_name', backup['container']) # Make sure we are not making a DB update when we are using the same # value that's already in the DB. self.assertEqual(4, backup_update_mock.call_count) @mock.patch.object(db, 'backup_update', wraps=db.backup_update) def test_backup_driver_container(self, backup_update_mock): volume_id = '9552017f-c8b9-4e4e-a876-00000053349c' self._create_backup_db_entry(volume_id=volume_id, container=None) service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') self.volume_file.seek(0) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) with mock.patch.object(service, 'update_container_name', return_value='driver_name'): service.backup(backup, self.volume_file) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) self.assertEqual('driver_name', backup['container']) self.assertEqual(6, backup_update_mock.call_count) @mock.patch('cinder.backup.drivers.s3.S3BackupDriver.' '_send_progress_end') @mock.patch('cinder.backup.drivers.s3.S3BackupDriver.' '_send_progress_notification') def test_backup_default_container_notify(self, _send_progress, _send_progress_end): volume_id = '87dd0eed-2598-4ebd-8ebb-000000ac578a' self._create_backup_db_entry(volume_id=volume_id, container=None) # If the backup_object_number_per_notification is set to 1, # the _send_progress method will be called for sure. CONF.set_override(""backup_object_number_per_notification"", 1) CONF.set_override(""backup_s3_enable_progress_timer"", False) self.volume_file.seek(0) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') service.backup(backup, self.volume_file) self.assertTrue(_send_progress.called) self.assertTrue(_send_progress_end.called) # If the backup_object_number_per_notification is increased to # another value, the _send_progress method will not be called. _send_progress.reset_mock() _send_progress_end.reset_mock() CONF.set_override(""backup_object_number_per_notification"", 10) service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') self.volume_file.seek(0) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) service.backup(backup, self.volume_file) self.assertFalse(_send_progress.called) self.assertTrue(_send_progress_end.called) # If the timer is enabled, the _send_progress will be called, # since the timer can trigger the progress notification. _send_progress.reset_mock() _send_progress_end.reset_mock() CONF.set_override(""backup_object_number_per_notification"", 10) CONF.set_override(""backup_s3_enable_progress_timer"", True) service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') self.volume_file.seek(0) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) service.backup(backup, self.volume_file) self.assertTrue(_send_progress.called) self.assertTrue(_send_progress_end.called) def test_backup_custom_container(self): volume_id = '1da9859e-77e5-4731-bd58-000000ca119e' container_name = 'fake99' self._create_backup_db_entry(volume_id=volume_id, container=container_name) service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') self.volume_file.seek(0) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) service.backup(backup, self.volume_file) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) self.assertEqual(container_name, backup['container']) def test_backup_shafile(self): volume_id = '6465dad4-22af-48f7-8a1a-000000218907' def _fake_generate_object_name_prefix(self, backup): az = 'az_fake' backup_name = '%s_backup_%s' % (az, backup['id']) volume = 'volume_%s' % (backup['volume_id']) prefix = volume + '_' + backup_name return prefix self.mock_object(s3_dr.S3BackupDriver, '_generate_object_name_prefix', _fake_generate_object_name_prefix) container_name = self.temp_dir.replace(tempfile.gettempdir() + '/', '', 1) self._create_backup_db_entry(volume_id=volume_id, container=container_name) service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') self.volume_file.seek(0) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) service.backup(backup, self.volume_file) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) self.assertEqual(container_name, backup['container']) # Verify sha contents content1 = service._read_sha256file(backup) self.assertEqual(64 * 1024 / content1['chunk_size'], len(content1['sha256s'])) def test_backup_cmp_shafiles(self): volume_id = '1a99ac67-c534-4fe3-b472-0000001785e2' def _fake_generate_object_name_prefix(self, backup): az = 'az_fake' backup_name = '%s_backup_%s' % (az, backup['id']) volume = 'volume_%s' % (backup['volume_id']) prefix = volume + '_' + backup_name return prefix self.mock_object(s3_dr.S3BackupDriver, '_generate_object_name_prefix', _fake_generate_object_name_prefix) container_name = self.temp_dir.replace(tempfile.gettempdir() + '/', '', 1) self._create_backup_db_entry(volume_id=volume_id, container=container_name, backup_id=fake.BACKUP_ID) service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') self.volume_file.seek(0) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) service.backup(backup, self.volume_file) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) self.assertEqual(container_name, backup['container']) # Create incremental backup with no change to contents self._create_backup_db_entry(volume_id=volume_id, container=container_name, backup_id=fake.BACKUP2_ID, parent_id=fake.BACKUP_ID) service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') self.volume_file.seek(0) deltabackup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP2_ID) service.backup(deltabackup, self.volume_file) deltabackup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP2_ID) self.assertEqual(container_name, deltabackup['container']) # Compare shas from both files content1 = service._read_sha256file(backup) content2 = service._read_sha256file(deltabackup) self.assertEqual(len(content1['sha256s']), len(content2['sha256s'])) self.assertEqual(set(content1['sha256s']), set(content2['sha256s'])) def test_backup_delta_two_objects_change(self): volume_id = '30dab288-265a-4583-9abe-000000d42c67' def _fake_generate_object_name_prefix(self, backup): az = 'az_fake' backup_name = '%s_backup_%s' % (az, backup['id']) volume = 'volume_%s' % (backup['volume_id']) prefix = volume + '_' + backup_name return prefix self.mock_object(s3_dr.S3BackupDriver, '_generate_object_name_prefix', _fake_generate_object_name_prefix) self.flags(backup_s3_object_size=8 * 1024) self.flags(backup_s3_block_size=1024) container_name = self.temp_dir.replace(tempfile.gettempdir() + '/', '', 1) self._create_backup_db_entry(volume_id=volume_id, container=container_name, backup_id=fake.BACKUP_ID) service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') self.volume_file.seek(0) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) service.backup(backup, self.volume_file) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) self.assertEqual(container_name, backup['container']) # Create incremental backup with no change to contents self.volume_file.seek(2 * 8 * 1024) self.volume_file.write(os.urandom(1024)) self.volume_file.seek(4 * 8 * 1024) self.volume_file.write(os.urandom(1024)) self._create_backup_db_entry(volume_id=volume_id, container=container_name, backup_id=fake.BACKUP2_ID, parent_id=fake.BACKUP_ID) service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') self.volume_file.seek(0) deltabackup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP2_ID) service.backup(deltabackup, self.volume_file) deltabackup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP2_ID) self.assertEqual(container_name, deltabackup['container']) content1 = service._read_sha256file(backup) content2 = service._read_sha256file(deltabackup) # Verify that two shas are changed at index 16 and 32 self.assertNotEqual(content1['sha256s'][16], content2['sha256s'][16]) self.assertNotEqual(content1['sha256s'][32], content2['sha256s'][32]) def test_backup_delta_two_blocks_in_object_change(self): volume_id = 'b943e84f-aa67-4331-9ab2-000000cf19ba' def _fake_generate_object_name_prefix(self, backup): az = 'az_fake' backup_name = '%s_backup_%s' % (az, backup['id']) volume = 'volume_%s' % (backup['volume_id']) prefix = volume + '_' + backup_name return prefix self.mock_object(s3_dr.S3BackupDriver, '_generate_object_name_prefix', _fake_generate_object_name_prefix) self.flags(backup_s3_object_size=8 * 1024) self.flags(backup_s3_block_size=1024) container_name = self.temp_dir.replace(tempfile.gettempdir() + '/', '', 1) self._create_backup_db_entry(volume_id=volume_id, container=container_name, backup_id=fake.BACKUP_ID) service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') self.volume_file.seek(0) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) service.backup(backup, self.volume_file) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) self.assertEqual(container_name, backup['container']) # Create incremental backup with no change to contents self.volume_file.seek(16 * 1024) self.volume_file.write(os.urandom(1024)) self.volume_file.seek(20 * 1024) self.volume_file.write(os.urandom(1024)) self._create_backup_db_entry(volume_id=volume_id, container=container_name, backup_id=fake.BACKUP2_ID, parent_id=fake.BACKUP_ID) service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') self.volume_file.seek(0) deltabackup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP2_ID) service.backup(deltabackup, self.volume_file) deltabackup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP2_ID) self.assertEqual(container_name, deltabackup['container']) # Verify that two shas are changed at index 16 and 20 content1 = service._read_sha256file(backup) content2 = service._read_sha256file(deltabackup) self.assertNotEqual(content1['sha256s'][16], content2['sha256s'][16]) self.assertNotEqual(content1['sha256s'][20], content2['sha256s'][20]) def test_backup_backup_metadata_fail(self): """"""Test of when an exception occurs in backup(). In backup(), after an exception occurs in self._backup_metadata(), we want to check the process of an exception handler. """""" volume_id = '020d9142-339c-4876-a445-000000f1520c' self._create_backup_db_entry(volume_id=volume_id) self.flags(backup_compression_algorithm='none') service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') self.volume_file.seek(0) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) def fake_backup_metadata(self, backup, object_meta): raise exception.BackupDriverException(reason=_('fake')) # Raise a pseudo exception.BackupDriverException. self.mock_object(s3_dr.S3BackupDriver, '_backup_metadata', fake_backup_metadata) # We expect that an exception be notified directly. self.assertRaises(exception.BackupDriverException, service.backup, backup, self.volume_file) def test_backup_backup_metadata_fail2(self): """"""Test of when an exception occurs in an exception handler. In backup(), after an exception occurs in self._backup_metadata(), we want to check the process when the second exception occurs in self.delete_backup(). """""" volume_id = '2164421d-f181-4db7-b9bd-000000eeb628' self._create_backup_db_entry(volume_id=volume_id) self.flags(backup_compression_algorithm='none') service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') self.volume_file.seek(0) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) def fake_backup_metadata(self, backup, object_meta): raise exception.BackupDriverException(reason=_('fake')) # Raise a pseudo exception.BackupDriverException. self.mock_object(s3_dr.S3BackupDriver, '_backup_metadata', fake_backup_metadata) def fake_delete(self, backup): raise exception.BackupOperationError() # Raise a pseudo exception.BackupOperationError. self.mock_object(s3_dr.S3BackupDriver, 'delete_backup', fake_delete) # We expect that the second exception is notified. self.assertRaises(exception.BackupOperationError, service.backup, backup, self.volume_file) def test_restore(self): volume_id = 'c2a81f09-f480-4325-8424-00000071685b' self._create_backup_db_entry(volume_id=volume_id) service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') with tempfile.NamedTemporaryFile() as volume_file: backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) backup.status = objects.fields.BackupStatus.RESTORING backup.save() service.restore(backup, volume_id, volume_file) def test_restore_delta(self): volume_id = '04d83506-bcf7-4ff5-9c65-00000051bd2e' def _fake_generate_object_name_prefix(self, backup): az = 'az_fake' backup_name = '%s_backup_%s' % (az, backup['id']) volume = 'volume_%s' % (backup['volume_id']) prefix = volume + '_' + backup_name return prefix self.mock_object(s3_dr.S3BackupDriver, '_generate_object_name_prefix', _fake_generate_object_name_prefix) self.flags(backup_s3_object_size=8 * 1024) self.flags(backup_s3_block_size=1024) container_name = self.temp_dir.replace(tempfile.gettempdir() + '/', '', 1) self._create_backup_db_entry(volume_id=volume_id, container=container_name, backup_id=fake.BACKUP_ID, save=False) service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') self.volume_file.seek(0) backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) service.backup(backup, self.volume_file) # Create incremental backup with no change to contents self.volume_file.seek(16 * 1024) self.volume_file.write(os.urandom(1024)) self.volume_file.seek(20 * 1024) self.volume_file.write(os.urandom(1024)) self._create_backup_db_entry(volume_id=volume_id, container=container_name, backup_id=fake.BACKUP2_ID, parent_id=fake.BACKUP_ID, save=False) self.volume_file.seek(0) deltabackup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP2_ID) service.backup(deltabackup, self.volume_file, True) deltabackup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP2_ID) with tempfile.NamedTemporaryFile() as restored_file: backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP2_ID) backup.status = objects.fields.BackupStatus.RESTORING backup.save() service.restore(backup, volume_id, restored_file) self.assertTrue(filecmp.cmp(self.volume_file.name, restored_file.name)) def test_restore_unsupported_version(self): volume_id = '390db8c1-32d3-42ca-82c9-00000010c703' container_name = 'unsupported_version' self._create_backup_db_entry(volume_id=volume_id, container=container_name, save=False) service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') with tempfile.NamedTemporaryFile() as volume_file: backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) self.assertRaises(ClientError, service.restore, backup, volume_id, volume_file) def test_delete(self): volume_id = '9ab256c8-3175-4ad8-baa1-0000007f9d31' object_prefix = 'test_prefix' self._create_backup_db_entry(volume_id=volume_id, service_metadata=object_prefix) service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') backup = objects.Backup.get_by_id(self.ctxt, fake.BACKUP_ID) service.delete_backup(backup) def test_get_compressor(self): service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') compressor = service._get_compressor('None') self.assertIsNone(compressor) compressor = service._get_compressor('zlib') self.assertEqual(zlib, compressor) self.assertIsInstance(compressor, tpool.Proxy) compressor = service._get_compressor('bz2') self.assertEqual(bz2, compressor) self.assertIsInstance(compressor, tpool.Proxy) self.assertRaises(ValueError, service._get_compressor, 'fake') def test_prepare_output_data_effective_compression(self): """"""Test compression works on a native thread."""""" # Use dictionary to share data between threads thread_dict = {} original_compress = zlib.compress def my_compress(data): thread_dict['compress'] = threading.current_thread() return original_compress(data) self.mock_object(zlib, 'compress', side_effect=my_compress) service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') # Set up buffer of 128 zeroed bytes fake_data = b'\0' * 128 result = service._prepare_output_data(fake_data) self.assertEqual('zlib', result[0]) self.assertGreater(len(fake_data), len(result[1])) self.assertNotEqual(threading.current_thread(), thread_dict['compress']) def test_prepare_output_data_no_compresssion(self): self.flags(backup_compression_algorithm='none') service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') # Set up buffer of 128 zeroed bytes fake_data = b'\0' * 128 result = service._prepare_output_data(fake_data) self.assertEqual('none', result[0]) self.assertEqual(fake_data, result[1]) def test_prepare_output_data_ineffective_compression(self): service = s3_dr.S3BackupDriver(self.ctxt) service.s3 = boto3.client('s3') # Set up buffer of 128 zeroed bytes fake_data = b'\0' * 128 # Pre-compress so that compression in the driver will be ineffective. already_compressed_data = service.compressor.compress(fake_data) result = service._prepare_output_data(already_compressed_data) self.assertEqual('none', result[0]) self.assertEqual(already_compressed_data, result[1]) @mock.patch('cinder.backup.drivers.swift.SwiftBackupDriver.initialize') def test_no_user_context(self, mock_initialize): # With no user_id the driver should not initialize itself. admin_context = context.get_admin_context() s3_dr.S3BackupDriver(admin_context) mock_initialize.assert_not_called()",,879,0
openstack%2Fneutron~stable%2Fussuri~I7b12a469ae7197028cf3695520084597f4256480,openstack/neutron,stable/ussuri,I7b12a469ae7197028cf3695520084597f4256480,ovn: Support live migration to DPDK nodes,MERGED,2021-01-18 09:21:02.000000000,2021-01-29 17:17:19.000000000,2021-01-29 06:16:39.000000000,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-18 09:21:02.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7e028bb27c1aa8b00ebfdad0d567fdd66c5b992', 'message': 'ovn: Support live migration to DPDK nodes\n\nPreviously, the vif-plugged event was emitted only when port VIF type\nwas set to normal. In DPDK case, the type is vhostuser. This patch\nmatches the type too and emits the notification to Nova.\n\nCloses-bug: #1910213\n\nCo-Authored-By: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I7b12a469ae7197028cf3695520084597f4256480\n(cherry picked from commit 2340ad217b198735b6bdcddf86d40d0f8c79f7bf)\n'}]",0,771124,f7e028bb27c1aa8b00ebfdad0d567fdd66c5b992,31,4,1,8655,,,0,"ovn: Support live migration to DPDK nodes

Previously, the vif-plugged event was emitted only when port VIF type
was set to normal. In DPDK case, the type is vhostuser. This patch
matches the type too and emits the notification to Nova.

Closes-bug: #1910213

Co-Authored-By: Flavio Fernandes <flaviof@redhat.com>

Change-Id: I7b12a469ae7197028cf3695520084597f4256480
(cherry picked from commit 2340ad217b198735b6bdcddf86d40d0f8c79f7bf)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/771124/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'],1,f7e028bb27c1aa8b00ebfdad0d567fdd66c5b992,bug/1910213-stable/ussuri," port[portbindings.VIF_TYPE] in ( portbindings.VIF_TYPE_OVS, portbindings.VIF_TYPE_VHOST_USER))):", port[portbindings.VIF_TYPE] == portbindings.VIF_TYPE_OVS)):,3,1
openstack%2Fopenstack-helm-deployments~master~I5d1f41e4d3448f41503a9484789d071cd888a484,openstack/openstack-helm-deployments,master,I5d1f41e4d3448f41503a9484789d071cd888a484,Update OSH-Deployments for Airship Changes,MERGED,2021-01-28 22:12:41.000000000,2021-01-29 17:06:39.000000000,2021-01-29 17:06:39.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 19391}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28618}, {'_account_id': 30495}, {'_account_id': 30746}, {'_account_id': 30777}]","[{'number': 1, 'created': '2021-01-28 22:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/2ec7f46cf30d5e6d82a21beccc5a60d1e754ff08', 'message': 'Update OSH-Deployments for Airship Changes\n\nAirship introduced further breaking changes\n\nAdd inventory interface and cmd line integration:\nhttps://review.opendev.org/c/airship/airshipctl/+/772091\n\nChange-Id: I5d1f41e4d3448f41503a9484789d071cd888a484\n'}, {'number': 2, 'created': '2021-01-28 22:40:23.000000000', 'files': ['manifests/site/test-site/host-inventory/kustomization.yaml', 'manifests/site/test-site/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/c503df71cd01b2cfe3cd1faae078ece5577140bb', 'message': 'Update OSH-Deployments for Airship Changes\n\nAirship introduced further breaking changes\n\nAdd inventory interface and cmd line integration:\nhttps://review.opendev.org/c/airship/airshipctl/+/772091\n\nChange-Id: I5d1f41e4d3448f41503a9484789d071cd888a484\n'}]",0,772948,c503df71cd01b2cfe3cd1faae078ece5577140bb,11,11,2,29585,,,0,"Update OSH-Deployments for Airship Changes

Airship introduced further breaking changes

Add inventory interface and cmd line integration:
https://review.opendev.org/c/airship/airshipctl/+/772091

Change-Id: I5d1f41e4d3448f41503a9484789d071cd888a484
",git fetch https://review.opendev.org/openstack/openstack-helm-deployments refs/changes/48/772948/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/site/test-site/host-inventory/kustomization.yaml', 'manifests/site/test-site/metadata.yaml']",2,2ec7f46cf30d5e6d82a21beccc5a60d1e754ff08,,inventory: path: manifests/site/test-site/host-inventory,,7,0
openstack%2Fopenstack-helm-infra~master~I8b129601d6acf255e058ec1348be22c87dc60880,openstack/openstack-helm-infra,master,I8b129601d6acf255e058ec1348be22c87dc60880,Add apparmor annotations to ks-jobs,ABANDONED,2021-01-20 22:15:21.000000000,2021-01-29 16:55:58.000000000,,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-20 22:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/615c3e641869c66e56a35033ada55ff64b5d6633', 'message': 'WIP - Add apparmor annotations to ks-jobs\n\nThis change adds the apparmor annotations to the various keystone\nmanifest templates\n\nChange-Id: I8b129601d6acf255e058ec1348be22c87dc60880\n'}, {'number': 2, 'created': '2021-01-20 22:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eb5941f351234521d90ba6a5dace7b797b405368', 'message': 'Add apparmor annotations to ks-jobs\n\nThis change adds the apparmor annotations to the various keystone\nmanifest templates\n\nChange-Id: I8b129601d6acf255e058ec1348be22c87dc60880\n'}, {'number': 3, 'created': '2021-01-20 22:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6ebc00551657df72bdfda6b694d931d57c6bc301', 'message': 'Add apparmor annotations to ks-jobs\n\nThis change adds the apparmor annotations to the various keystone\nmanifest templates\n\nChange-Id: I8b129601d6acf255e058ec1348be22c87dc60880\n'}, {'number': 4, 'created': '2021-01-28 17:22:46.000000000', 'files': ['helm-toolkit/templates/manifests/_job-ks-endpoints.tpl', 'helm-toolkit/templates/manifests/_job-ks-service.tpl', 'helm-toolkit/Chart.yaml', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6d51bfdca204ac3762a38c34312f0b4ef235f8f5', 'message': 'Add apparmor annotations to ks-jobs\n\nThis change adds the apparmor annotations to the various keystone\nmanifest templates\n\nChange-Id: I8b129601d6acf255e058ec1348be22c87dc60880\n'}]",5,771732,6d51bfdca204ac3762a38c34312f0b4ef235f8f5,14,3,4,21420,,,0,"Add apparmor annotations to ks-jobs

This change adds the apparmor annotations to the various keystone
manifest templates

Change-Id: I8b129601d6acf255e058ec1348be22c87dc60880
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/32/771732/4 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/manifests/_job-ks-endpoints.tpl', 'helm-toolkit/templates/manifests/_job-ks-service.tpl', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl']",3,615c3e641869c66e56a35033ada55ff64b5d6633,htk-apparmor,"{{ dict ""envAll"" $envAll ""podName"" $serviceAccountName ""containerNames"" (list $serviceAccountName) | include ""helm-toolkit.snippets.kubernetes_mandatory_access_control_annotation"" | indent 8 }}",,3,0
openstack%2Fopenstack-helm-infra~master~I91ba9a13032d8988f2ad454691e29c1895436224,openstack/openstack-helm-infra,master,I91ba9a13032d8988f2ad454691e29c1895436224,[HTK] Provide additional detail to keystone connection issue,ABANDONED,2021-01-29 15:58:49.000000000,2021-01-29 16:04:13.000000000,,[],"[{'number': 1, 'created': '2021-01-29 15:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cf851e13bb453275de735f737de18e9be79e5569', 'message': '[helm-toolkit] Provide additional detail to keystone connection issue\n\nref[0]: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772416\n\nChange-Id: I91ba9a13032d8988f2ad454691e29c1895436224\n'}, {'number': 2, 'created': '2021-01-29 16:00:00.000000000', 'files': ['helm-toolkit/templates/scripts/_ks-service.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/162dd47566a0ecee8b871e32c88654be55af903a', 'message': '[HTK] Provide additional detail to keystone connection issue\n\nref[0]: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772416\n\nChange-Id: I91ba9a13032d8988f2ad454691e29c1895436224\n'}]",0,773117,162dd47566a0ecee8b871e32c88654be55af903a,3,0,2,18250,,,0,"[HTK] Provide additional detail to keystone connection issue

ref[0]: https://review.opendev.org/c/openstack/openstack-helm-infra/+/772416

Change-Id: I91ba9a13032d8988f2ad454691e29c1895436224
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/17/773117/2 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/scripts/_ks-service.sh.tpl'],1,cf851e13bb453275de735f737de18e9be79e5569,,"# FIXME(miniroy): The retry was added to temporarily address an issue # where keystone-api in some cases will abort the connection (ECONNRESET) # while this is trying to query the service list, so an empty OS_SERVICE_ID # is returned, and in an upgrade scenario this would trigger the creation # of the service again. The now duplicate service would cause confusion # and service interuption, hence the retry here is to help alleviate # this issue, and should be removed or modify later after the keystone # connection drop issue is properly triaged and remedied.",# If OS_SERVICE_ID is blank (due to the service not being ready yet) # then wait a few seconds to give it additional time to be ready # and try again,8,3
openstack%2Fmagnum~master~I0fb4b2604f38bd3a325f82b1364b78ff17792c65,openstack/magnum,master,I0fb4b2604f38bd3a325f82b1364b78ff17792c65,Use kube_master_ip for monitoring when no floating ip is used,MERGED,2020-11-24 20:58:37.000000000,2021-01-29 16:03:04.000000000,2021-01-29 16:00:32.000000000,"[{'_account_id': 1004}, {'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-11-24 20:58:37.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/34f65582eb3cb8fee91838e9f02e5310bd12ada0', 'message': 'Use kube_master_ip for monitoring when no floating ip is used\n\nThis patch aims to fix clusters that uses only private network\nand monitoring_enabled.\n\nIt was observed that:\n\n- no floating ip, so the kube_master_external_ip is null\n- because of that, the value that gets sent to the shell\nfor KUBE_MASTERS_PRIVATE is actually [null]\n- this happens when deploying prometheus-operator\n( label monitoring_enable=true )\n\nThose topics above results in a cluster taking around 30\nminutes to be completed until monitoring gives up configuring\nendpoints.\n\nChange-Id: I0fb4b2604f38bd3a325f82b1364b78ff17792c65\n'}]",1,764066,34f65582eb3cb8fee91838e9f02e5310bd12ada0,15,4,1,28008,,,0,"Use kube_master_ip for monitoring when no floating ip is used

This patch aims to fix clusters that uses only private network
and monitoring_enabled.

It was observed that:

- no floating ip, so the kube_master_external_ip is null
- because of that, the value that gets sent to the shell
for KUBE_MASTERS_PRIVATE is actually [null]
- this happens when deploying prometheus-operator
( label monitoring_enable=true )

Those topics above results in a cluster taking around 30
minutes to be completed until monitoring gives up configuring
endpoints.

Change-Id: I0fb4b2604f38bd3a325f82b1364b78ff17792c65
",git fetch https://review.opendev.org/openstack/magnum refs/changes/66/764066/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml'],1,34f65582eb3cb8fee91838e9f02e5310bd12ada0,," ""${KUBE_MASTERS_PRIVATE}"": {get_attr: [kube_masters, kube_master_ip]}"," ""${KUBE_MASTERS_PRIVATE}"": {get_attr: [kube_masters, kube_master_external_ip]}",1,1
openstack%2Fironic~stable%2Fstein~Id7a39db471fa44a034c117950019b9b5ab02346b,openstack/ironic,stable/stein,Id7a39db471fa44a034c117950019b9b5ab02346b,Remove grenade jobs from old stable branches,MERGED,2021-01-28 15:07:46.000000000,2021-01-29 15:59:04.000000000,2021-01-29 15:53:51.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-28 15:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6f00d8f57ba0dc58df7bf546407f2b36d08192cb', 'message': 'Remove grenade jobs from old stable branches\n\nAs discussed and approved during the ironic wallaby midcycle, the grenade\njobs in old stable branches, starting from EM branches and up the oldest\nnot-EM (at this moment train) are removed.\n\nAlso multinode jobs are removed from EM branches.\n\nChange-Id: Id7a39db471fa44a034c117950019b9b5ab02346b\n'}, {'number': 2, 'created': '2021-01-28 16:40:09.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c0c3ab938f11f10e599978394dfeef9261a38555', 'message': 'Remove grenade jobs from old stable branches\n\nAs discussed and approved during the ironic wallaby midcycle, the grenade\njobs in old stable branches, starting from EM branches and up the oldest\nnot-EM (at this moment train) are removed.\n\nAlso multinode jobs are removed from EM branches.\n\nAnd remove lower-constraints job.\n\nChange-Id: Id7a39db471fa44a034c117950019b9b5ab02346b\n'}]",0,772889,c0c3ab938f11f10e599978394dfeef9261a38555,9,3,2,23851,,,0,"Remove grenade jobs from old stable branches

As discussed and approved during the ironic wallaby midcycle, the grenade
jobs in old stable branches, starting from EM branches and up the oldest
not-EM (at this moment train) are removed.

Also multinode jobs are removed from EM branches.

And remove lower-constraints job.

Change-Id: Id7a39db471fa44a034c117950019b9b5ab02346b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/772889/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6f00d8f57ba0dc58df7bf546407f2b36d08192cb,remove-grenade,, - ironic-grenade-dsvm # Disable to get the fix for other jobs - ironic-grenade-dsvm-multinode-multitenant: voting: false - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode: voting: false - ironic-grenade-dsvm # - ironic-grenade-dsvm-multinode-multitenant # - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode,0,9
openstack%2Fironic~master~Ie521cf2295613dde5842cbf9a053540a40be4b9c,openstack/ironic,master,Ie521cf2295613dde5842cbf9a053540a40be4b9c,Refactor vendor detection and add Redfish implementation,MERGED,2021-01-20 11:47:07.000000000,2021-01-29 15:58:45.000000000,2021-01-29 15:53:32.000000000,"[{'_account_id': 4571}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 21909}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-20 11:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f729c8bcf9213d5c47f8721ab49a098828686035', 'message': 'Refactoring: move vendor caching to where it belongs\n\nGet rid of the TODO in the code and prepare for more management\ninterfaces supporting detect_vendor(). Vendor detecting now runs\nduring transition to manageable and on power state sync (essentially\nsame as before but for all drivers not only IPMI).\n\nChange-Id: Ie521cf2295613dde5842cbf9a053540a40be4b9c\n'}, {'number': 2, 'created': '2021-01-28 13:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b9a32f6942ce006f58b9b313be31d6abd8c21f17', 'message': ""Refactoring: move vendor caching to where it belongs\n\nGet rid of the TODO in the code and prepare for more management\ninterfaces supporting detect_vendor(). Vendor detecting now runs\nduring transition to manageable and on power state sync (essentially\nsame as before but for all drivers not only IPMI).\n\nUpdate the IPMI implementation to no longer hide exceptions since\nthey're not handled on the upper level. Simplify the regex and fix\nthe docstring.\n\nChange-Id: Ie521cf2295613dde5842cbf9a053540a40be4b9c\n""}, {'number': 3, 'created': '2021-01-28 15:42:42.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/drivers/modules/redfish/management.py', 'ironic/conductor/utils.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/121b3348c813eb075ca38bd264a9315ee3acc2fe', 'message': ""Refactor vendor detection and add Redfish implementation\n\nGet rid of the TODO in the code and prepare for more management\ninterfaces supporting detect_vendor(). Vendor detecting now runs\nduring transition to manageable and on power state sync (essentially\nsame as before but for all drivers not only IPMI).\n\nUpdate the IPMI implementation to no longer hide exceptions since\nthey're not handled on the upper level. Simplify the regex and fix\nthe docstring.\n\nAdd the Redfish implementation as a foundation for future\nvendor-specific changes.\n\nChange-Id: Ie521cf2295613dde5842cbf9a053540a40be4b9c\n""}]",4,771595,121b3348c813eb075ca38bd264a9315ee3acc2fe,25,5,3,10239,,,0,"Refactor vendor detection and add Redfish implementation

Get rid of the TODO in the code and prepare for more management
interfaces supporting detect_vendor(). Vendor detecting now runs
during transition to manageable and on power state sync (essentially
same as before but for all drivers not only IPMI).

Update the IPMI implementation to no longer hide exceptions since
they're not handled on the upper level. Simplify the regex and fix
the docstring.

Add the Redfish implementation as a foundation for future
vendor-specific changes.

Change-Id: Ie521cf2295613dde5842cbf9a053540a40be4b9c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/95/771595/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/utils.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py']",6,f729c8bcf9213d5c47f8721ab49a098828686035,cache-vendor," def test__soft_power_off(self, sleep_mock, mock_exec): def test__soft_power_off_max_retries(self, sleep_mock, mock_exec): def test_get_power_state(self, mock_exec): def test_get_power_state_exception(self, mock_exec):"," @mock.patch.object(ipmi.IPMIManagement, 'detect_vendor', autospec=True) def test__soft_power_off(self, sleep_mock, mock_exec, mock_vendor): mock_vendor.return_value = None self.assertTrue(mock_vendor.called) @mock.patch.object(ipmi.IPMIManagement, 'detect_vendor', autospec=True) def test__soft_power_off_max_retries(self, sleep_mock, mock_exec, mock_vendor): # Should be removed when detect_vendor automatic invocation is moved. self.assertFalse(mock_vendor.called) @mock.patch.object(ipmi.IPMIManagement, 'detect_vendor', autospec=True) def test_get_power_state(self, mock_exec, mock_detect): mock_detect.return_value = None self.assertEqual(3, mock_detect.call_count) @mock.patch.object(ipmi.IPMIManagement, 'detect_vendor', autospec=True) def test_get_power_state_exception(self, mock_exec, mock_vendor): mock_vendor.return_value = None self.assertEqual(1, mock_vendor.call_count)",136,37
openstack%2Ftripleo-heat-templates~master~I735a05db58579bb37b59d7c593c01710e3a819c8,openstack/tripleo-heat-templates,master,I735a05db58579bb37b59d7c593c01710e3a819c8,Load global vars if keystone resources var is not defined,ABANDONED,2021-01-26 19:19:29.000000000,2021-01-29 15:41:02.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-26 19:19:29.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eda6761a27602bff4478097499ad6ad48e0b47b3', 'message': ""Load global vars if keystone resources var is not defined\n\nIf you restart a deployment mid-run with a --start-at-task, the keystone\nresource management will fail because it's imported from the global vars\nwhich are skipped. If keystone_resources is not defined by the time we\nget to this part, let's include global_vars.yaml to ensure have the data\nneeded to continue.\n\nChange-Id: I735a05db58579bb37b59d7c593c01710e3a819c8\nCloses-Bug: #1913331\n""}]",0,772585,eda6761a27602bff4478097499ad6ad48e0b47b3,5,3,1,14985,,,0,"Load global vars if keystone resources var is not defined

If you restart a deployment mid-run with a --start-at-task, the keystone
resource management will fail because it's imported from the global vars
which are skipped. If keystone_resources is not defined by the time we
get to this part, let's include global_vars.yaml to ensure have the data
needed to continue.

Change-Id: I735a05db58579bb37b59d7c593c01710e3a819c8
Closes-Bug: #1913331
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/772585/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,eda6761a27602bff4478097499ad6ad48e0b47b3,bug/1913331, - name: Load global vars if keystone_resources is not defined include_vars: global_vars.yaml no_log: true when: keystone_resources is not defined,,4,0
openstack%2Fpuppet-openstack-integration~master~I6bb65eae0f3d0522bcf93e5dc5db3728c08774db,openstack/puppet-openstack-integration,master,I6bb65eae0f3d0522bcf93e5dc5db3728c08774db,Enable swift-object-expirer,MERGED,2021-01-26 12:03:13.000000000,2021-01-29 15:38:11.000000000,2021-01-29 15:38:11.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 12:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7d125bea6fc240a712be9cbaa9b222b5cde19c8d', 'message': 'Enable swift-object-expirer\n\nChange-Id: I6bb65eae0f3d0522bcf93e5dc5db3728c08774db\n'}, {'number': 2, 'created': '2021-01-26 14:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3257203dc84782dcd3f4ab7223878259e1aac686', 'message': 'Enable swift-object-expirer\n\nChange-Id: I6bb65eae0f3d0522bcf93e5dc5db3728c08774db\n'}, {'number': 3, 'created': '2021-01-27 02:14:15.000000000', 'files': ['manifests/swift.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0f92f9ad05af9bbc342ded0b29f2002a30d0ab63', 'message': 'Enable swift-object-expirer\n\nDepends-on: https://review.opendev.org/772506\nChange-Id: I6bb65eae0f3d0522bcf93e5dc5db3728c08774db\n'}]",0,772505,0f92f9ad05af9bbc342ded0b29f2002a30d0ab63,13,3,3,9816,,,0,"Enable swift-object-expirer

Depends-on: https://review.opendev.org/772506
Change-Id: I6bb65eae0f3d0522bcf93e5dc5db3728c08774db
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/05/772505/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/swift.pp'],1,7d125bea6fc240a712be9cbaa9b222b5cde19c8d,swift-object-expirer," class { 'swift::objectexpirer': pipeline => [ 'catch_errors', 'proxy-logging', 'cache', 'proxy-server' ], memcache_servers => $::openstack_integration::config::swift_memcached_servers }",,6,0
openstack%2Fopenstack-helm-infra~master~I5a1985c680e90de71549177ffc3faf848a831bfa,openstack/openstack-helm-infra,master,I5a1985c680e90de71549177ffc3faf848a831bfa,Allow openstack service list to retry in event of keystone connection issues,MERGED,2021-01-25 18:09:58.000000000,2021-01-29 15:34:31.000000000,2021-01-28 20:26:48.000000000,"[{'_account_id': 11934}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 30495}]","[{'number': 1, 'created': '2021-01-25 18:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8a0d07f3ade86183ef61d19918b5d9471867342d', 'message': ""Allow openstack service list to retry in event of keystone connection issues\n\nWe've seen a few cases where the openstack service list is unable\nto establish a connection with keystone thus causing the check to fail.\nWhen this happens, an additional service is created unnecessarily.\nWhen the addtional service is created, it tends to cause issues since\nthere are no endpoints asscociated with the new service.\n\nAllow this check to retry several times.\n\nChange-Id: I5a1985c680e90de71549177ffc3faf848a831bfa\n""}, {'number': 2, 'created': '2021-01-26 20:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d47c0e67057c9302196a2a7a7fde909388c0c23a', 'message': ""Allow openstack service list to retry in event of keystone connection issues\n\nWe've seen a few cases where the openstack service list is unable\nto establish a connection with keystone thus causing the check to fail.\nWhen this happens, an additional service is created unnecessarily.\nWhen the addtional service is created, it tends to cause issues since\nthere are no endpoints asscociated with the new service.\n\nAllow this check to retry several times.\n\nChange-Id: I5a1985c680e90de71549177ffc3faf848a831bfa\n""}, {'number': 3, 'created': '2021-01-26 21:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2f8712246e8c9047a7d097964c6b324c0d063a1d', 'message': ""Allow openstack service list to retry in event of keystone connection issues\n\nWe've seen a few cases where the openstack service list is unable\nto establish a connection with keystone thus causing the check to fail.\nWhen this happens, an additional service is created unnecessarily.\nWhen the addtional service is created, it tends to cause issues since\nthere are no endpoints asscociated with the new service.\n\nAllow this check to retry several times.\n\nChange-Id: I5a1985c680e90de71549177ffc3faf848a831bfa\n""}, {'number': 4, 'created': '2021-01-27 15:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9944903a357ebafc173dcd54631d06f3f5c1595b', 'message': ""Allow openstack service list to retry in event of keystone connection issues\n\nWe've seen a few cases where the openstack service list is unable\nto establish a connection with keystone thus causing the check to fail.\nWhen this happens, an additional service is created unnecessarily.\nWhen the addtional service is created, it tends to cause issues since\nthere are no endpoints asscociated with the new service.\n\nAllow this check to retry several times.\n\nChange-Id: I5a1985c680e90de71549177ffc3faf848a831bfa\n""}, {'number': 5, 'created': '2021-01-27 23:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/57dec67a24461b89c761774654ee04e87fef3e8e', 'message': ""Allow openstack service list to retry in event of keystone connection issues\n\nWe've seen a few cases where the openstack service list is unable\nto establish a connection with keystone thus causing the check to fail.\nWhen this happens, an additional service is created unnecessarily.\nWhen the addtional service is created, it tends to cause issues since\nthere are no endpoints asscociated with the new service.\n\nAllow this check to retry several times.\n\nChange-Id: I5a1985c680e90de71549177ffc3faf848a831bfa\n""}, {'number': 6, 'created': '2021-01-28 16:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c89d3c13b582fbe2d0a00d4df495c9ce34394d40', 'message': ""Allow openstack service list to retry in event of keystone connection issues\n\nWe've seen a few cases where the openstack service list is unable\nto establish a connection with keystone thus causing the check to fail.\nWhen this happens, an additional service is created unnecessarily.\nWhen the addtional service is created, it tends to cause issues since\nthere are no endpoints asscociated with the new service.\n\nAllow this check to retry several times.\n\nChange-Id: I5a1985c680e90de71549177ffc3faf848a831bfa\n""}, {'number': 7, 'created': '2021-01-28 16:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/28413b3cba7cf2efa07c7bcffdab30f42c651236', 'message': ""Allow openstack service list to retry in event of keystone connection issues\n\nWe've seen a few cases where the openstack service list is unable\nto establish a connection with keystone thus causing the check to fail.\nWhen this happens, an additional service is created unnecessarily.\nWhen the addtional service is created, it tends to cause issues since\nthere are no endpoints asscociated with the new service.\n\nAllow this check to retry several times.\n\nChange-Id: I5a1985c680e90de71549177ffc3faf848a831bfa\n""}, {'number': 8, 'created': '2021-01-28 18:10:20.000000000', 'files': ['helm-toolkit/templates/scripts/_ks-service.sh.tpl', 'helm-toolkit/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ff3b0aa9e0c19a034f005cde6c4d9b1d225a54ad', 'message': ""Allow openstack service list to retry in event of keystone connection issues\n\nWe've seen a few cases where the openstack service list is unable\nto establish a connection with keystone thus causing the check to fail.\nWhen this happens, an additional service is created unnecessarily.\nWhen the addtional service is created, it tends to cause issues since\nthere are no endpoints asscociated with the new service.\n\nAllow this check to retry several times.\n\nChange-Id: I5a1985c680e90de71549177ffc3faf848a831bfa\n""}]",24,772416,ff3b0aa9e0c19a034f005cde6c4d9b1d225a54ad,43,9,8,30746,,,0,"Allow openstack service list to retry in event of keystone connection issues

We've seen a few cases where the openstack service list is unable
to establish a connection with keystone thus causing the check to fail.
When this happens, an additional service is created unnecessarily.
When the addtional service is created, it tends to cause issues since
there are no endpoints asscociated with the new service.

Allow this check to retry several times.

Change-Id: I5a1985c680e90de71549177ffc3faf848a831bfa
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/16/772416/8 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/scripts/_ks-service.sh.tpl'],1,8a0d07f3ade86183ef61d19918b5d9471867342d,," # Attempt to check for the service several times for i in {1...3} do OS_SERVICE_LIST=$( openstack service list -f csv --quote none ) OS_SERVICE_CHECK=$( echo ""${OS_SERVICE_LIST}"" | \ grep ""Unable to establish connection to"" ) if [[ -z ${OS_SERVICE_CHECK} ]]; then break fi sleep 2 done OS_SERVICE_ID=$( echo ""${OS_SERVICE_LIST}"" | \",OS_SERVICE_ID=$( openstack service list -f csv --quote none | \,17,1
openstack%2Fnova~master~I6e30468bc28f661ddc17937ab1de04a706f05063,openstack/nova,master,I6e30468bc28f661ddc17937ab1de04a706f05063,Disallow CONF.compute.max_disk_devices_to_attach = 0,MERGED,2020-09-30 17:49:06.000000000,2021-01-29 15:10:40.000000000,2021-01-29 07:02:10.000000000,"[{'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-30 17:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/081cdc268a0b5b7c487ab84e72e27213195eb5f0', 'message': ""Add note about setting CONF.max_disk_devices_to_attach = 0\n\nThe CONF.max_disk_devices_to_attach option controls the maximum number\nof disk devices allowed to attach to an instance. If it is set to 0, it\nwill literally allow no disk device for instances, preventing them from\nbeing able to boot.\n\nThis adds a note to the config option help to call this out.\n\nNote: there doesn't appear to be any way to disallow particular values\nin a oslo.config IntOpt other than the min/max values. Here we need the\nmin value to be -1 to represent unlimited. There is a 'choices' kwarg\navailable but that is only for enumerating valid values and we need to\nallow any integer >= 1 as well. Finally, there doesn't seem to be a\ngood way to validate this option setting as -1 or >= 1 because it's a\nnova-compute config option and our choices there are likely: prevent\nnova-compute from starting because of value 0 or log a WARNING about\nit, both of which seem like they might be overkill. So, highlighting\nthe behavior of value 0 in the documentation might be the best way to\nhandle the issue.\n\nChange-Id: I6e30468bc28f661ddc17937ab1de04a706f05063\n""}, {'number': 2, 'created': '2020-09-30 17:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c63511a95ae442e100d36950654e7050618a0c0', 'message': ""Add note about setting CONF.max_disk_devices_to_attach = 0\n\nThe CONF.max_disk_devices_to_attach option controls the maximum number\nof disk devices allowed to attach to an instance. If it is set to 0, it\nwill literally allow no disk device for instances, preventing them from\nbeing able to boot.\n\nThis adds a note to the config option help to call this out.\n\nNote: there doesn't appear to be any way to disallow particular values\nin a oslo.config IntOpt other than the min/max values. Here we need the\nmin value to be -1 to represent unlimited. There is a 'choices' kwarg\navailable but that is only for enumerating valid values and we need to\nallow any integer >= 1 as well. Finally, there doesn't seem to be a\ngood way to validate this option setting as -1 or >= 1 because it's a\nnova-compute config option and our choices there are likely: prevent\nnova-compute from starting because of value 0 or log a WARNING about\nit, both of which seem like they might be overkill. So, highlighting\nthe behavior of value 0 in the documentation might be the best way to\nhandle the issue.\n\nCloses-Bug: #1897950\n\nChange-Id: I6e30468bc28f661ddc17937ab1de04a706f05063\n""}, {'number': 3, 'created': '2020-10-12 20:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2376ba644e2c0cdbc50880bb6773e0f78cc643d8', 'message': ""Add note about setting CONF.compute.max_disk_devices_to_attach = 0\n\nThe CONF.compute.max_disk_devices_to_attach option controls the maximum\nnumber of disk devices allowed to attach to an instance. If it is set\nto 0, it will literally allow no disk device for instances, preventing\nthem from being able to boot.\n\nThis adds a note to the config option help to call this out and changes\nnova-compute to raise InvalidConfiguration during init_host if\n[compute]max_disk_devices_to_attach has been set to 0.\n\nNote: there doesn't appear to be any way to disallow particular values\nin a oslo.config IntOpt other than the min/max values. Here we need the\nmin value to be -1 to represent unlimited. There is a 'choices' kwarg\navailable but that is only for enumerating valid values and we need to\nallow any integer >= 1 as well.\n\nCloses-Bug: #1897950\n\nChange-Id: I6e30468bc28f661ddc17937ab1de04a706f05063\n""}, {'number': 4, 'created': '2020-10-12 20:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1841227c97c0899091b50437b721784bc19fc71c', 'message': ""Disallow CONF.compute.max_disk_devices_to_attach = 0\n\nThe CONF.compute.max_disk_devices_to_attach option controls the maximum\nnumber of disk devices allowed to attach to an instance. If it is set\nto 0, it will literally allow no disk device for instances, preventing\nthem from being able to boot.\n\nThis adds a note to the config option help to call this out and changes\nnova-compute to raise InvalidConfiguration during init_host if\n[compute]max_disk_devices_to_attach has been set to 0.\n\nNote: there doesn't appear to be any way to disallow particular values\nin a oslo.config IntOpt other than the min/max values. Here we need the\nmin value to be -1 to represent unlimited. There is a 'choices' kwarg\navailable but that is only for enumerating valid values and we need to\nallow any integer >= 1 as well.\n\nCloses-Bug: #1897950\n\nChange-Id: I6e30468bc28f661ddc17937ab1de04a706f05063\n""}, {'number': 5, 'created': '2020-12-07 23:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0b758bb98fee22c68c025bb4094d366929cd349', 'message': ""Disallow CONF.compute.max_disk_devices_to_attach = 0\n\nThe CONF.compute.max_disk_devices_to_attach option controls the maximum\nnumber of disk devices allowed to attach to an instance. If it is set\nto 0, it will literally allow no disk device for instances, preventing\nthem from being able to boot.\n\nThis adds a note to the config option help to call this out and changes\nnova-compute to raise InvalidConfiguration during init_host if\n[compute]max_disk_devices_to_attach has been set to 0. The nova-compute\nservice will fail to start if the option is set to 0.\n\nNote: there doesn't appear to be any way to disallow particular values\nin a oslo.config IntOpt other than the min/max values. Here we need the\nmin value to be -1 to represent unlimited. There is a 'choices' kwarg\navailable but that is only for enumerating valid values and we need to\nallow any integer >= 1 as well.\n\nCloses-Bug: #1897950\n\nChange-Id: I6e30468bc28f661ddc17937ab1de04a706f05063\n""}, {'number': 6, 'created': '2020-12-08 22:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55fac9b2d4e780e27035c6ae3db2d152472fc715', 'message': ""Disallow CONF.compute.max_disk_devices_to_attach = 0\n\nThe CONF.compute.max_disk_devices_to_attach option controls the maximum\nnumber of disk devices allowed to attach to an instance. If it is set\nto 0, it will literally allow no disk device for instances, preventing\nthem from being able to boot.\n\nThis adds a note to the config option help to call this out and changes\nnova-compute to raise InvalidConfiguration during init_host if\n[compute]max_disk_devices_to_attach has been set to 0. The nova-compute\nservice will fail to start if the option is set to 0.\n\nNote: there doesn't appear to be any way to disallow particular values\nin a oslo.config IntOpt other than the min/max values. Here we need the\nmin value to be -1 to represent unlimited. There is a 'choices' kwarg\navailable but that is only for enumerating valid values and we need to\nallow any integer >= 1 as well.\n\nCloses-Bug: #1897950\n\nChange-Id: I6e30468bc28f661ddc17937ab1de04a706f05063\n""}, {'number': 7, 'created': '2021-01-28 18:34:02.000000000', 'files': ['nova/conf/compute.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/25a632a4e1daa1941a6297ddb51088972f23ce6d', 'message': ""Disallow CONF.compute.max_disk_devices_to_attach = 0\n\nThe CONF.compute.max_disk_devices_to_attach option controls the maximum\nnumber of disk devices allowed to attach to an instance. If it is set\nto 0, it will literally allow no disk device for instances, preventing\nthem from being able to boot.\n\nThis adds a note to the config option help to call this out and changes\nnova-compute to raise InvalidConfiguration during init_host if\n[compute]max_disk_devices_to_attach has been set to 0. The nova-compute\nservice will fail to start if the option is set to 0.\n\nNote: there doesn't appear to be any way to disallow particular values\nin a oslo.config IntOpt other than the min/max values. Here we need the\nmin value to be -1 to represent unlimited. There is a 'choices' kwarg\navailable but that is only for enumerating valid values and we need to\nallow any integer >= 1 as well.\n\nCloses-Bug: #1897950\n\nChange-Id: I6e30468bc28f661ddc17937ab1de04a706f05063\n""}]",10,755360,25a632a4e1daa1941a6297ddb51088972f23ce6d,64,15,7,4690,,,0,"Disallow CONF.compute.max_disk_devices_to_attach = 0

The CONF.compute.max_disk_devices_to_attach option controls the maximum
number of disk devices allowed to attach to an instance. If it is set
to 0, it will literally allow no disk device for instances, preventing
them from being able to boot.

This adds a note to the config option help to call this out and changes
nova-compute to raise InvalidConfiguration during init_host if
[compute]max_disk_devices_to_attach has been set to 0. The nova-compute
service will fail to start if the option is set to 0.

Note: there doesn't appear to be any way to disallow particular values
in a oslo.config IntOpt other than the min/max values. Here we need the
min value to be -1 to represent unlimited. There is a 'choices' kwarg
available but that is only for enumerating valid values and we need to
allow any integer >= 1 as well.

Closes-Bug: #1897950

Change-Id: I6e30468bc28f661ddc17937ab1de04a706f05063
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/755360/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/compute.py'],1,081cdc268a0b5b7c487ab84e72e27213195eb5f0,bug/1897950,".. note:: If this option is set to 0, it will cause instances not to boot because instances will be allowed no disk devices at all. * Any integer >= 1 represents the maximum allowed. A value of 0 will cause instances not to boot because they will be allowed 0 disk devices.",* Any integer >= 0 represents the maximum allowed,5,1
openstack%2Fcharm-trilio-data-mover~stable%2F20.10~Ie62a1618ed636b88bc2e1904367d030759063340,openstack/charm-trilio-data-mover,stable/20.10,Ie62a1618ed636b88bc2e1904367d030759063340,Trigger rebuild of stable charm pull in fix for LP 1913313,MERGED,2021-01-27 16:47:21.000000000,2021-01-29 15:06:47.000000000,2021-01-29 15:06:47.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-01-27 16:47:21.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/d74b9c93247fe031fe98c1cef2c51f116c31ae54', 'message': 'Trigger rebuild of stable charm pull in fix for LP 1913313\n\nCloses-Bug: 1913313\nChange-Id: Ie62a1618ed636b88bc2e1904367d030759063340\n'}]",0,772744,d74b9c93247fe031fe98c1cef2c51f116c31ae54,12,4,1,6737,,,0,"Trigger rebuild of stable charm pull in fix for LP 1913313

Closes-Bug: 1913313
Change-Id: Ie62a1618ed636b88bc2e1904367d030759063340
",git fetch https://review.opendev.org/openstack/charm-trilio-data-mover refs/changes/44/772744/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,d74b9c93247fe031fe98c1cef2c51f116c31ae54,bug/1913313,009e17dc-abe2-4462-adb6-b7128b581641,5050cb08-0e2c-11eb-a59d-673fbbbb7592,1,1
openstack%2Freleases~master~I8cc6bc2dce20bb19527e2a2f858f88ad93dfdd22,openstack/releases,master,I8cc6bc2dce20bb19527e2a2f858f88ad93dfdd22,Release cinder for stable/train,ABANDONED,2021-01-29 13:55:33.000000000,2021-01-29 15:01:08.000000000,,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-01-29 13:55:33.000000000', 'files': ['deliverables/train/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/46cbc426f2423e8e23e3f06b8de873ff5b49b929', 'message': 'Release cinder for stable/train\n\nThis release picks up new commits to cinder since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I8cc6bc2dce20bb19527e2a2f858f88ad93dfdd22\n'}]",0,773039,46cbc426f2423e8e23e3f06b8de873ff5b49b929,6,4,1,17685,,,0,"Release cinder for stable/train

This release picks up new commits to cinder since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I8cc6bc2dce20bb19527e2a2f858f88ad93dfdd22
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/773039/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/cinder.yaml'],1,46cbc426f2423e8e23e3f06b8de873ff5b49b929,train-stable, - version: 15.4.2 projects: - repo: openstack/cinder hash: 7990b5e12523abbc67d407a585f6fe2a6a97538c,,4,0
openstack%2Ftacker-horizon~master~Ibc075451ba0b4658138e3c8ee1ce3250157ed876,openstack/tacker-horizon,master,Ibc075451ba0b4658138e3c8ee1ce3250157ed876,Update TOX_CONSTRAINTS_FILE,MERGED,2021-01-29 00:23:28.000000000,2021-01-29 14:56:16.000000000,2021-01-29 14:54:19.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-01-29 00:23:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/aa7945573520f2593f92df00f11cf22e18f1a489', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated, refer [1].\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: Ibc075451ba0b4658138e3c8ee1ce3250157ed876\n'}]",0,772960,aa7945573520f2593f92df00f11cf22e18f1a489,8,6,1,32102,,,0,"Update TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated, refer [1].
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: Ibc075451ba0b4658138e3c8ee1ce3250157ed876
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/60/772960/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,aa7945573520f2593f92df00f11cf22e18f1a489,tox_constraints_file, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Freleases~master~Idf507e7929fcfbb0beb8166ddc2a287d521e925b,openstack/releases,master,Idf507e7929fcfbb0beb8166ddc2a287d521e925b,Release manila for stable/train,ABANDONED,2021-01-29 14:19:52.000000000,2021-01-29 14:53:23.000000000,,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 14:19:52.000000000', 'files': ['deliverables/train/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/51a4a309c1be0556d14a72011f0a888e95babfa4', 'message': 'Release manila for stable/train\n\nThis release picks up new commits to manila since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Idf507e7929fcfbb0beb8166ddc2a287d521e925b\n'}]",0,773061,51a4a309c1be0556d14a72011f0a888e95babfa4,5,3,1,17685,,,0,"Release manila for stable/train

This release picks up new commits to manila since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Idf507e7929fcfbb0beb8166ddc2a287d521e925b
",git fetch https://review.opendev.org/openstack/releases refs/changes/61/773061/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/manila.yaml'],1,51a4a309c1be0556d14a72011f0a888e95babfa4,train-stable, - version: 9.1.5 projects: - repo: openstack/manila hash: 960e45bd255dafacef7c6f895aca9477fcd12d9b,,4,0
openstack%2Fpanko~master~I711e61fac9b1364731994ebfdb522e7261ba8a75,openstack/panko,master,I711e61fac9b1364731994ebfdb522e7261ba8a75,bump py37 to py38 in tox.ini,MERGED,2020-10-12 06:13:11.000000000,2021-01-29 14:47:20.000000000,2021-01-29 14:45:43.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-12 06:13:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/panko/commit/531eb819fe71e418ea86713653af9eaa0606b86b', 'message': ""bump py37 to py38 in tox.ini\n\nin 'victoria' cycle, we should test py38 by default.\n\nref:\n  https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: I711e61fac9b1364731994ebfdb522e7261ba8a75\n""}]",0,757444,531eb819fe71e418ea86713653af9eaa0606b86b,9,2,1,31027,,,0,"bump py37 to py38 in tox.ini

in 'victoria' cycle, we should test py38 by default.

ref:
  https://governance.openstack.org/tc/reference/runtimes/victoria.html

Change-Id: I711e61fac9b1364731994ebfdb522e7261ba8a75
",git fetch https://review.opendev.org/openstack/panko refs/changes/44/757444/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,531eb819fe71e418ea86713653af9eaa0606b86b,,"envlist = py{38}{,-mongodb,-mysql,-postgresql,-elasticsearch},pep8","envlist = py{37}{,-mongodb,-mysql,-postgresql,-elasticsearch},pep8",1,1
openstack%2Ftripleo-common~master~Ia244d0fe5964fb8dd43b9cf9d4242a0e2f4abee8,openstack/tripleo-common,master,Ia244d0fe5964fb8dd43b9cf9d4242a0e2f4abee8,Use the new IPA-builder element for installing python-hardware,MERGED,2021-01-13 21:58:57.000000000,2021-01-29 14:43:22.000000000,2021-01-26 02:57:39.000000000,"[{'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-01-13 21:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/18f85c9afc889b2361246db4cd2c4c8bba60f901', 'message': 'Use the new IPA-builder element for installing python-hardware\n\nThe python3 file was mieed in Id75c11e5b7c4f3bf73c962bc7e46f5a6021efc5f\n\nChange-Id: Ia244d0fe5964fb8dd43b9cf9d4242a0e2f4abee8\n'}, {'number': 2, 'created': '2021-01-14 13:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/076d5d9a5640825351683ec94e8aa6415d733127', 'message': 'Use the new IPA-builder element for installing python-hardware\n\nThe python3 file was mieed in Id75c11e5b7c4f3bf73c962bc7e46f5a6021efc5f\n\nChange-Id: Ia244d0fe5964fb8dd43b9cf9d4242a0e2f4abee8\n'}, {'number': 3, 'created': '2021-01-15 20:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e9ab0eb9790fe89dfb06a050b806af66fa710d06', 'message': 'Use the new IPA-builder element for installing python-hardware\n\nThe python3 file was mieed in Id75c11e5b7c4f3bf73c962bc7e46f5a6021efc5f\n\nChange-Id: Ia244d0fe5964fb8dd43b9cf9d4242a0e2f4abee8\n'}, {'number': 4, 'created': '2021-01-21 13:36:01.000000000', 'files': ['image-yaml/overcloud-images-python3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f938e6ee9f1d399c99db3b3dbd718a31587f4aea', 'message': 'Use the new IPA-builder element for installing python-hardware\n\nThe python3 file was mieed in Id75c11e5b7c4f3bf73c962bc7e46f5a6021efc5f\n\nChange-Id: Ia244d0fe5964fb8dd43b9cf9d4242a0e2f4abee8\n'}]",3,770671,f938e6ee9f1d399c99db3b3dbd718a31587f4aea,39,8,4,14985,,,0,"Use the new IPA-builder element for installing python-hardware

The python3 file was mieed in Id75c11e5b7c4f3bf73c962bc7e46f5a6021efc5f

Change-Id: Ia244d0fe5964fb8dd43b9cf9d4242a0e2f4abee8
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/71/770671/1 && git format-patch -1 --stdout FETCH_HEAD,['image-yaml/overcloud-images-python3.yaml'],1,18f85c9afc889b2361246db4cd2c4c8bba60f901,ipa, - extra-hardware DIB_EPEL_DISABLED: 1, packages: - python3-hardware-detect,2,2
openstack%2Fceilometer~master~Ie5289aa3e6177d9c2970375763c7fb433915cc02,openstack/ceilometer,master,Ie5289aa3e6177d9c2970375763c7fb433915cc02,remove py37,ABANDONED,2021-01-04 01:06:09.000000000,2021-01-29 14:38:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-04 01:06:09.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/353dbe1512c35a7d3f4ee0c6e25c77ecfc5f294a', 'message': ""remove py37\n\nRemove python3.7 from setup.cfg, since Wallaby's python\nsupported runtimes are python 3.6 and python 3.8[1]:\n\n[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.htm\n\nChange-Id: Ie5289aa3e6177d9c2970375763c7fb433915cc02\n""}]",0,769073,353dbe1512c35a7d3f4ee0c6e25c77ecfc5f294a,8,1,1,32326,,,0,"remove py37

Remove python3.7 from setup.cfg, since Wallaby's python
supported runtimes are python 3.6 and python 3.8[1]:

[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.htm

Change-Id: Ie5289aa3e6177d9c2970375763c7fb433915cc02
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/73/769073/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,353dbe1512c35a7d3f4ee0c6e25c77ecfc5f294a,,, Programming Language :: Python :: 3.7,0,1
openstack%2Fceilometer~master~I3833ffd004e8ec3e17a43e64db7f9c62fcde2f49,openstack/ceilometer,master,I3833ffd004e8ec3e17a43e64db7f9c62fcde2f49,Use TOX_CONSTRAINTS_FILE,ABANDONED,2020-12-24 05:49:30.000000000,2021-01-29 14:37:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-24 05:49:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2ad09bee5f4aa56191fbfc7f01a6a7f703a4d5f0', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I3833ffd004e8ec3e17a43e64db7f9c62fcde2f49\n'}]",0,768389,2ad09bee5f4aa56191fbfc7f01a6a7f703a4d5f0,3,1,1,30384,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I3833ffd004e8ec3e17a43e64db7f9c62fcde2f49
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/89/768389/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2ad09bee5f4aa56191fbfc7f01a6a7f703a4d5f0,, -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fceilometer~stable%2Fstein~I4945a7bd7610aff1701ece3c5fd43025ff7ba936,openstack/ceilometer,stable/stein,I4945a7bd7610aff1701ece3c5fd43025ff7ba936,[DEBUG] Test CI,ABANDONED,2020-12-01 20:19:29.000000000,2021-01-29 14:36:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-01 20:19:29.000000000', 'files': ['ceilometer/publisher/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f6de5144ebf88e8640734d89cb8f4926c49acb76', 'message': '[DEBUG] Test CI\n\nChange-Id: I4945a7bd7610aff1701ece3c5fd43025ff7ba936\n'}]",0,765003,f6de5144ebf88e8640734d89cb8f4926c49acb76,7,1,1,14567,,,0,"[DEBUG] Test CI

Change-Id: I4945a7bd7610aff1701ece3c5fd43025ff7ba936
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/03/765003/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/publisher/gnocchi.py'],1,f6de5144ebf88e8640734d89cb8f4926c49acb76,,,,1,0
openstack%2Fceilometer~master~I4945a7bd7610aff1701ece3c5fd43025ff7ba936,openstack/ceilometer,master,I4945a7bd7610aff1701ece3c5fd43025ff7ba936,[DEBUG] Test CI,ABANDONED,2020-12-02 14:04:23.000000000,2021-01-29 14:36:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-02 14:04:23.000000000', 'files': ['ceilometer/publisher/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c571950f7de1add52c2891a05c642bd3cb6c42de', 'message': '[DEBUG] Test CI\n\nChange-Id: I4945a7bd7610aff1701ece3c5fd43025ff7ba936\n'}]",0,765084,c571950f7de1add52c2891a05c642bd3cb6c42de,3,1,1,14567,,,0,"[DEBUG] Test CI

Change-Id: I4945a7bd7610aff1701ece3c5fd43025ff7ba936
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/84/765084/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/publisher/gnocchi.py'],1,c571950f7de1add52c2891a05c642bd3cb6c42de,,,,1,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~I567bc378f512d298073cd52589ed9c84dff455f6,openstack/tripleo-upgrade,stable/train,I567bc378f512d298073cd52589ed9c84dff455f6,Add wait_for_connection check after system_upgrade,ABANDONED,2021-01-29 09:40:44.000000000,2021-01-29 14:26:20.000000000,,"[{'_account_id': 20171}, {'_account_id': 22348}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-01-29 09:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9febe9ca9f289a8d8c5d8e18fc1cbe8e7620477d', 'message': 'Add wait_for_connection check after system_upgrade\n\nDuring bare metal machines FFWD upgrade, compute reboot\ntakes too much time, hence overcloud run will fail since computes\nare still down\n\nChange-Id: I567bc378f512d298073cd52589ed9c84dff455f6\n(cherry picked from commit 81ac511a2368b2475f24d6e02befef10ef4ec1bc)\n'}, {'number': 2, 'created': '2021-01-29 14:11:39.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fbc42a2a6015999f06d65f989b8937e61a3f7792', 'message': 'Add wait_for_connection check after system_upgrade\n\nDuring bare metal machines FFWD upgrade, compute reboot\ntakes too much time, hence overcloud run will fail since computes\nare still down\n\nChange-Id: I567bc378f512d298073cd52589ed9c84dff455f6\n(cherry picked from commit 81ac511a2368b2475f24d6e02befef10ef4ec1bc)\n'}]",1,772999,fbc42a2a6015999f06d65f989b8937e61a3f7792,6,3,2,6816,,,0,"Add wait_for_connection check after system_upgrade

During bare metal machines FFWD upgrade, compute reboot
takes too much time, hence overcloud run will fail since computes
are still down

Change-Id: I567bc378f512d298073cd52589ed9c84dff455f6
(cherry picked from commit 81ac511a2368b2475f24d6e02befef10ef4ec1bc)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/99/772999/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'],1,9febe9ca9f289a8d8c5d8e18fc1cbe8e7620477d,wait-for-system-reboot-stable/train,######## check overcloud is up up after system upgrade ######## - name: check {{ host }} is up after boot wait_for_connection: delay: 30 sleep: 30 timeout: 600 ######## overcloud upgrade run ########, ######## overcloud upgrade run ########,8,1
openstack%2Ftripleo-upgrade~stable%2Fussuri~I567bc378f512d298073cd52589ed9c84dff455f6,openstack/tripleo-upgrade,stable/ussuri,I567bc378f512d298073cd52589ed9c84dff455f6,Add wait_for_connection check after system_upgrade,MERGED,2020-12-23 11:07:53.000000000,2021-01-29 14:24:18.000000000,2021-01-29 04:23:46.000000000,"[{'_account_id': 6816}, {'_account_id': 20171}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-23 11:07:53.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/09f6804b009eb32cbf428c9f03c4600f705dd467', 'message': 'Add wait_for_connection check after system_upgrade\n\nDuring bare metal machines FFWD upgrade, compute reboot\ntakes too much time, hence overcloud run will fail since computes\nare still down\n\nChange-Id: I567bc378f512d298073cd52589ed9c84dff455f6\n(cherry picked from commit 81ac511a2368b2475f24d6e02befef10ef4ec1bc)\n'}]",0,768326,09f6804b009eb32cbf428c9f03c4600f705dd467,11,3,1,11166,,,0,"Add wait_for_connection check after system_upgrade

During bare metal machines FFWD upgrade, compute reboot
takes too much time, hence overcloud run will fail since computes
are still down

Change-Id: I567bc378f512d298073cd52589ed9c84dff455f6
(cherry picked from commit 81ac511a2368b2475f24d6e02befef10ef4ec1bc)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/26/768326/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'],1,09f6804b009eb32cbf428c9f03c4600f705dd467,,######## check overcloud is up up after system upgrade ######## - name: check {{ host }} is up after boot wait_for_connection: delay: 30 sleep: 30 timeout: 600 ######## overcloud upgrade run ########, ######## overcloud upgrade run ########,8,1
openstack%2Ftripleo-upgrade~stable%2Fvictoria~I567bc378f512d298073cd52589ed9c84dff455f6,openstack/tripleo-upgrade,stable/victoria,I567bc378f512d298073cd52589ed9c84dff455f6,Add wait_for_connection check after system_upgrade,MERGED,2020-12-23 11:06:27.000000000,2021-01-29 14:23:23.000000000,2021-01-07 00:08:42.000000000,"[{'_account_id': 6816}, {'_account_id': 20171}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-23 11:06:27.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5aef752d8e4f012c193fe7ba8a93c81cbae12c36', 'message': 'Add wait_for_connection check after system_upgrade\n\nDuring bare metal machines FFWD upgrade, compute reboot\ntakes too much time, hence overcloud run will fail since computes\nare still down\n\nChange-Id: I567bc378f512d298073cd52589ed9c84dff455f6\n(cherry picked from commit 81ac511a2368b2475f24d6e02befef10ef4ec1bc)\n'}]",0,768325,5aef752d8e4f012c193fe7ba8a93c81cbae12c36,8,3,1,11166,,,0,"Add wait_for_connection check after system_upgrade

During bare metal machines FFWD upgrade, compute reboot
takes too much time, hence overcloud run will fail since computes
are still down

Change-Id: I567bc378f512d298073cd52589ed9c84dff455f6
(cherry picked from commit 81ac511a2368b2475f24d6e02befef10ef4ec1bc)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/25/768325/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'],1,5aef752d8e4f012c193fe7ba8a93c81cbae12c36,master,######## check overcloud is up up after system upgrade ######## - name: check {{ host }} is up after boot wait_for_connection: delay: 30 sleep: 30 timeout: 600 ######## overcloud upgrade run ########, ######## overcloud upgrade run ########,8,1
openstack%2Ftripleo-upgrade~master~I567bc378f512d298073cd52589ed9c84dff455f6,openstack/tripleo-upgrade,master,I567bc378f512d298073cd52589ed9c84dff455f6,Add wait_for_connection check after system_upgrade,MERGED,2020-10-29 08:51:07.000000000,2021-01-29 14:22:38.000000000,2020-11-04 22:26:28.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 20171}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-10-29 08:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/cf60f07db183e41768912612f033670aa2746905', 'message': 'Add wait_for_connection check after system_upgrade\n\nDuring bare metal machines FFWD upgrade, compute reboot\ntakes too much time, hence overcloud run will fail since computes\nare still down\n\nChange-Id: I567bc378f512d298073cd52589ed9c84dff455f6\n'}, {'number': 2, 'created': '2020-10-30 21:50:19.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/81ac511a2368b2475f24d6e02befef10ef4ec1bc', 'message': 'Add wait_for_connection check after system_upgrade\n\nDuring bare metal machines FFWD upgrade, compute reboot\ntakes too much time, hence overcloud run will fail since computes\nare still down\n\nChange-Id: I567bc378f512d298073cd52589ed9c84dff455f6\n'}]",2,760299,81ac511a2368b2475f24d6e02befef10ef4ec1bc,22,9,2,20171,,,0,"Add wait_for_connection check after system_upgrade

During bare metal machines FFWD upgrade, compute reboot
takes too much time, hence overcloud run will fail since computes
are still down

Change-Id: I567bc378f512d298073cd52589ed9c84dff455f6
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/99/760299/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'],1,cf60f07db183e41768912612f033670aa2746905,wait-for-system-reboot, ######## check overcloud is up up after system upgrade ######## - name: check {{ host }} is up after boot wait_for_connection: delay: 30 sleep: 30 timeout: 600 ,,7,0
openstack%2Fcharm-gnocchi~master~I725daa9d346cbc8f49f76bbecdbd7aaff275b881,openstack/charm-gnocchi,master,I725daa9d346cbc8f49f76bbecdbd7aaff275b881,Rebuild for haproxy address bug 1912505,MERGED,2021-01-25 11:02:51.000000000,2021-01-29 14:12:50.000000000,2021-01-29 14:12:50.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-01-25 11:02:51.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/85ae36a7083db8f069f16ab7b3b6734d514d5322', 'message': 'Rebuild for haproxy address bug 1912505\n\nEnsures that haproxy.cfg is written with the correct\nspace address for peer backends.\n\nRelated-Bug: #1912505\nChange-Id: I725daa9d346cbc8f49f76bbecdbd7aaff275b881\n'}]",0,772309,85ae36a7083db8f069f16ab7b3b6734d514d5322,14,3,1,20870,,,0,"Rebuild for haproxy address bug 1912505

Ensures that haproxy.cfg is written with the correct
space address for peer backends.

Related-Bug: #1912505
Change-Id: I725daa9d346cbc8f49f76bbecdbd7aaff275b881
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/09/772309/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,85ae36a7083db8f069f16ab7b3b6734d514d5322,bug/1912505,0d137000-5efb-11eb-8858-af1d669b47bd,82da1a54-5745-11eb-bf77-37fecd9db131,1,1
openstack%2Fcharm-deployment-guide~master~Ibe540575dbb904bcbaf986fa67ab4d1298ada6e7,openstack/charm-deployment-guide,master,Ibe540575dbb904bcbaf986fa67ab4d1298ada6e7,Update software versions in install pages,MERGED,2021-01-28 00:28:48.000000000,2021-01-29 13:14:21.000000000,2021-01-29 13:12:48.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-01-28 00:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/e78df870ca580d52007e4a7237b3232f2ffb6687', 'message': 'Update software versions in install pages\n\nChange-Id: Ibe540575dbb904bcbaf986fa67ab4d1298ada6e7\n'}, {'number': 2, 'created': '2021-01-28 00:30:13.000000000', 'files': ['deploy-guide/source/install-juju.rst', 'deploy-guide/source/install-maas.rst', 'deploy-guide/source/install-openstack-juju-status.rst', 'deploy-guide/source/install-overview.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/686b7f16d44adc4dd23b97b7213f2877b6ae0bef', 'message': 'Update software versions in install pages\n\nA test install was made with these new versions:\n\n  juju 2.8.7\n  maas 2.9.1\n\nChange-Id: Ibe540575dbb904bcbaf986fa67ab4d1298ada6e7\n'}]",0,772791,686b7f16d44adc4dd23b97b7213f2877b6ae0bef,8,2,2,30561,,,0,"Update software versions in install pages

A test install was made with these new versions:

  juju 2.8.7
  maas 2.9.1

Change-Id: Ibe540575dbb904bcbaf986fa67ab4d1298ada6e7
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/91/772791/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/install-juju.rst', 'deploy-guide/source/install-maas.rst', 'deploy-guide/source/install-openstack-juju-status.rst', 'deploy-guide/source/install-overview.rst']",4,e78df870ca580d52007e4a7237b3232f2ffb6687,update-juju-and-maas-versions,* **MAAS 2.9.1** * **Juju 2.8.7**,* **MAAS 2.8.2** * **Juju 2.8.6**,5,5
openstack%2Ftripleo-upgrade~stable%2Ftrain~I02243028a5ba3c6450e7633740fcfd757d9b20b6,openstack/tripleo-upgrade,stable/train,I02243028a5ba3c6450e7633740fcfd757d9b20b6,[ffwd] Disable scheduling on computes before upgrade,MERGED,2020-12-23 09:38:31.000000000,2021-01-29 12:51:53.000000000,2021-01-29 12:51:53.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-23 09:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d08130fa340377cf9e496bfb7eff81e4b2ce5d0d', 'message': '[ffwd] Disable scheduling on computes before upgrade\n\nWhen testing OCP on OSP it was noticed that our automation is too\ncrude and does not disable scheduling on upgraded computes. This\nresults with few dead workloads that got scheduled on the compute\nright before the upgrade.\n\nChange-Id: I02243028a5ba3c6450e7633740fcfd757d9b20b6\nResolves: UPG-2447\n(cherry picked from commit c4193adc62a613c2dafad711dbe0e331e44b2578)\n'}, {'number': 2, 'created': '2021-01-28 09:47:26.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5a8dbe96c233418a72b6ab5eb10d1ce3dc2181b8', 'message': '[ffwd] Disable scheduling on computes before upgrade\n\nWhen testing OCP on OSP it was noticed that our automation is too\ncrude and does not disable scheduling on upgraded computes. This\nresults with few dead workloads that got scheduled on the compute\nright before the upgrade.\n\nChange-Id: I02243028a5ba3c6450e7633740fcfd757d9b20b6\nResolves: UPG-2447\n(cherry picked from commit c4193adc62a613c2dafad711dbe0e331e44b2578)\n'}]",0,768313,5a8dbe96c233418a72b6ab5eb10d1ce3dc2181b8,12,4,2,11166,,,0,"[ffwd] Disable scheduling on computes before upgrade

When testing OCP on OSP it was noticed that our automation is too
crude and does not disable scheduling on upgraded computes. This
results with few dead workloads that got scheduled on the compute
right before the upgrade.

Change-Id: I02243028a5ba3c6450e7633740fcfd757d9b20b6
Resolves: UPG-2447
(cherry picked from commit c4193adc62a613c2dafad711dbe0e331e44b2578)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/13/768313/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'],1,d08130fa340377cf9e496bfb7eff81e4b2ce5d0d,,"- name: Disable scheduling on {{ host }} when: - compute_present|bool shell: | set -o pipefail source {{ overcloud_rc }} HOST=""$(openstack compute service list -f value -c Host | grep {{ host }})"" openstack compute service set --disable --disable-reason FFWD ""$HOST"" nova-compute - name: Enable scheduling on {{ host }} when: - compute_present|bool shell: | set -o pipefail source {{ overcloud_rc }} HOST=""$(openstack compute service list -f value -c Host | grep {{ host }})"" openstack compute service set --enable ""$HOST"" nova-compute ",,18,0
openstack%2Fpython-octaviaclient~master~Ide7650da79c7c9e677ba392992de665797d5d52d,openstack/python-octaviaclient,master,Ide7650da79c7c9e677ba392992de665797d5d52d,Fix lower-constraints job,MERGED,2021-01-28 10:37:34.000000000,2021-01-29 12:46:24.000000000,2021-01-29 12:44:40.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-28 10:37:34.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/381c2fc7379361f9958a7ab21e5b3bab2cbcb59f', 'message': 'Fix lower-constraints job\n\nBump some lower-constraints and requirements\n\nChange-Id: Ide7650da79c7c9e677ba392992de665797d5d52d\n'}]",0,772848,381c2fc7379361f9958a7ab21e5b3bab2cbcb59f,16,3,1,29244,,,0,"Fix lower-constraints job

Bump some lower-constraints and requirements

Change-Id: Ide7650da79c7c9e677ba392992de665797d5d52d
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/48/772848/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt']",3,381c2fc7379361f9958a7ab21e5b3bab2cbcb59f,,decorator==4.4.1dogpile.cache==0.6.5keystoneauth1==3.18.0mccabe==0.6.1 msgpack-python==0.5.6openstacksdk==0.53.0 os-service-types==1.7.0pylint==2.5.3,decorator==3.4.0dogpile.cache==0.6.2keystoneauth1==3.4.0mccabe==0.2.1 msgpack-python==0.4.0openstacksdk==0.11.2 os-service-types==1.2.0pylint==1.9.2,10,10
openstack%2Frequirements~master~I8dbc9bd56d62be56e38ee5e6f3fb0eca6e346f54,openstack/requirements,master,I8dbc9bd56d62be56e38ee5e6f3fb0eca6e346f54,update constraint for pymemcache to new release 3.4.0,MERGED,2021-01-27 12:30:10.000000000,2021-01-29 12:38:55.000000000,2021-01-29 12:37:07.000000000,"[{'_account_id': 11904}, {'_account_id': 14250}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-27 12:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e74984408a008e16facf5f78ed87c9402caf864d', 'message': 'update constraint for pymemcache to new release 3.4.0\n\nChange-Id: I8dbc9bd56d62be56e38ee5e6f3fb0eca6e346f54\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 2, 'created': '2021-01-27 15:57:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6c31ae2345a0483daa44d19e62d4e39354d66e02', 'message': 'update constraint for pymemcache to new release 3.4.0\n\nChange-Id: I8dbc9bd56d62be56e38ee5e6f3fb0eca6e346f54\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,772684,6c31ae2345a0483daa44d19e62d4e39354d66e02,21,6,2,27954,,,0,"update constraint for pymemcache to new release 3.4.0

Change-Id: I8dbc9bd56d62be56e38ee5e6f3fb0eca6e346f54
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/84/772684/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e74984408a008e16facf5f78ed87c9402caf864d,,pymemcache===3.4.0,pymemcache===3.3.0,1,1
openstack%2Fcharm-manila~master~I4189c264fccb8392fb2bdcadb4562d15a338a205,openstack/charm-manila,master,I4189c264fccb8392fb2bdcadb4562d15a338a205,Rebuild for haproxy address bug 1912505,MERGED,2021-01-25 11:03:18.000000000,2021-01-29 12:37:14.000000000,2021-01-29 12:37:14.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-01-25 11:03:18.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/9b0750adaa5e49b50d38ab85bbe3d23cc7210107', 'message': 'Rebuild for haproxy address bug 1912505\n\nEnsures that haproxy.cfg is written with the correct\nspace address for peer backends.\n\nRelated-Bug: #1912505\nChange-Id: I4189c264fccb8392fb2bdcadb4562d15a338a205\n'}]",0,772311,9b0750adaa5e49b50d38ab85bbe3d23cc7210107,12,3,1,20870,,,0,"Rebuild for haproxy address bug 1912505

Ensures that haproxy.cfg is written with the correct
space address for peer backends.

Related-Bug: #1912505
Change-Id: I4189c264fccb8392fb2bdcadb4562d15a338a205
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/11/772311/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,9b0750adaa5e49b50d38ab85bbe3d23cc7210107,bug/1912505,fe7c2bb8-5efa-11eb-817b-1fab9a49f961,82f325bc-5745-11eb-ab40-afaf8a34bb54,1,1
openstack%2Fironic-lib~master~Ic221c4bbc165cd717b36fff8bdd66edebb08be9a,openstack/ironic-lib,master,Ic221c4bbc165cd717b36fff8bdd66edebb08be9a,Allow binary data for configdrive,MERGED,2021-01-22 16:32:30.000000000,2021-01-29 12:17:16.000000000,2021-01-29 12:14:33.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 16:32:30.000000000', 'files': ['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/bb935f1b26bdfcb15f40bd22f2bb9bc67b606081', 'message': 'Allow binary data for configdrive\n\nThere is no reason to force standalone users to base64 encode\nand gzip their config drives.\n\nChange-Id: Ic221c4bbc165cd717b36fff8bdd66edebb08be9a\n'}]",0,772062,bb935f1b26bdfcb15f40bd22f2bb9bc67b606081,10,3,1,10239,,,0,"Allow binary data for configdrive

There is no reason to force standalone users to base64 encode
and gzip their config drives.

Change-Id: Ic221c4bbc165cd717b36fff8bdd66edebb08be9a
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/62/772062/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py']",2,bb935f1b26bdfcb15f40bd22f2bb9bc67b606081,configdrive-download," try: data = io.BytesIO(base64.decode_as_bytes(data)) except Exception as exc: if isinstance(data, bytes): LOG.debug('Config drive for node %(node)s is not base64 encoded ' '(%(error)s), assuming binary', {'node': node_uuid, 'error': exc}) configdrive_mb = int(math.ceil(len(data) / units.Mi)) configdrive_file.write(data) configdrive_file.close() return (configdrive_mb, configdrive_file.name) else: configdrive_file.close() utils.unlink_without_raise(configdrive_file.name) error_msg = (_('Config drive for node %(node)s is not base64 ' 'encoded or the content is malformed. ' '%(cls)s: %(err)s.') % {'node': node_uuid, 'err': exc, 'cls': type(exc).__name__}) if is_url: error_msg += _(' Downloaded from ""%s"".') % configdrive raise exception.InstanceDeployFailure(error_msg) "," try: data = io.BytesIO(base64.decode_as_bytes(data)) except Exception as exc: error_msg = (_('Config drive for node %(node)s is not base64 encoded ' 'or the content is malformed. %(cls)s: %(err)s.') % {'node': node_uuid, 'err': exc, 'cls': type(exc).__name__}) if is_url: error_msg += _(' Downloaded from ""%s"".') % configdrive raise exception.InstanceDeployFailure(error_msg) ",36,11
openstack%2Fironic-lib~master~Id3748e729f8dd31aa6d2d7084bd01088cd9a7ecd,openstack/ironic-lib,master,Id3748e729f8dd31aa6d2d7084bd01088cd9a7ecd,Correct base64 error handling,MERGED,2021-01-22 15:54:55.000000000,2021-01-29 12:16:10.000000000,2021-01-29 12:14:30.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 15:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/fac0e066df320d19c065fda66808dd3966a5820c', 'message': ""Correct base64 error handling\n\nThe base64 module can raise many exceptions, TypeError doesn't even\nseem one of them. Capture all errors and provide the exact message.\n\nChange-Id: Id3748e729f8dd31aa6d2d7084bd01088cd9a7ecd\n""}, {'number': 2, 'created': '2021-01-22 16:24:23.000000000', 'files': ['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/0704bcdd9b4fafa50a41a29393209fc1bca2ede8', 'message': ""Correct base64 error handling\n\nThe base64 module can raise many exceptions, TypeError doesn't even\nseem one of them. Capture all errors and provide the exact message.\n\nChange-Id: Id3748e729f8dd31aa6d2d7084bd01088cd9a7ecd\n""}]",0,771998,0704bcdd9b4fafa50a41a29393209fc1bca2ede8,13,3,2,10239,,,0,"Correct base64 error handling

The base64 module can raise many exceptions, TypeError doesn't even
seem one of them. Capture all errors and provide the exact message.

Change-Id: Id3748e729f8dd31aa6d2d7084bd01088cd9a7ecd
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/98/771998/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py']",2,fac0e066df320d19c065fda66808dd3966a5820c,config64," except Exception as exc: error_msg = (_('Config drive for node %(node)ss is not base64 encoded ' 'or the content is malformed. %(cls)s: %(err)s.') % {'node': node_uuid, 'err': exc, 'cls': type(exc).__name__})", except TypeError: error_msg = (_('Config drive for node %s is not base64 encoded ' 'or the content is malformed.') % node_uuid),6,9
openstack%2Frequirements~master~Ib43e9a43c667360475415b6b5032cad9e10a0e82,openstack/requirements,master,Ib43e9a43c667360475415b6b5032cad9e10a0e82,"Revert ""Revert updating version of pymemcache""",MERGED,2021-01-27 15:57:54.000000000,2021-01-29 11:56:14.000000000,2021-01-29 11:54:44.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-27 15:57:54.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fafe0ee1fc600262ff7f7c60ca76aebcb47acb27', 'message': 'Revert ""Revert updating version of pymemcache""\n\nThis reverts commit f7d8626cf847dbac6a9bbf3e565d41a74db11e45.\n\nChange-Id: Ib43e9a43c667360475415b6b5032cad9e10a0e82\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,772713,fafe0ee1fc600262ff7f7c60ca76aebcb47acb27,11,4,1,27954,,,0,"Revert ""Revert updating version of pymemcache""

This reverts commit f7d8626cf847dbac6a9bbf3e565d41a74db11e45.

Change-Id: Ib43e9a43c667360475415b6b5032cad9e10a0e82
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/13/772713/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,fafe0ee1fc600262ff7f7c60ca76aebcb47acb27,,pymemcache!=1.3.0 # Apache 2.0 License,"pymemcache!=1.3.0,!=3.4.0 # Apache 2.0 License",1,1
openstack%2Fpython-tripleoclient~master~I7bf0f5065748d4a420c9517c46ca85909130092c,openstack/python-tripleoclient,master,I7bf0f5065748d4a420c9517c46ca85909130092c,Empty lower-constraints,ABANDONED,2020-12-09 13:53:36.000000000,2021-01-29 11:35:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-09 13:53:36.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0fbb971dc9d8f1ccf2a33513980e39bf9ed802d8', 'message': 'Empty lower-constraints\n\nThis change should not trigger any deployments.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/766208\nChange-Id: I7bf0f5065748d4a420c9517c46ca85909130092c\n'}]",0,766223,0fbb971dc9d8f1ccf2a33513980e39bf9ed802d8,3,1,1,24162,,,0,"Empty lower-constraints

This change should not trigger any deployments.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/766208
Change-Id: I7bf0f5065748d4a420c9517c46ca85909130092c
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/23/766223/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,0fbb971dc9d8f1ccf2a33513980e39bf9ed802d8,,,alembic==0.8.10 amqp==2.1.1 ansible-runner===1.4.5 aodhclient==0.9.0 appdirs==1.3.0 asn1crypto==0.23.0 beautifulsoup4==4.6.0 cachetools==2.0.0 cffi==1.14.0 cliff==2.8.0 cmd2==0.8.0 contextlib2==0.4.0 coverage==4.0 croniter==0.3.4 cryptography==2.1 debtcollector==1.2.0 decorator==3.4.0 deprecation==1.0 docker-py==1.10.6 docker-pycreds==0.2.1 docutils==0.11 dogpile.cache==0.6.5 eventlet==0.18.2 extras==1.0.0 fasteners==0.7.0 fixtures==3.0.0 flake8==2.5.5 futurist==1.2.0 gitdb==0.6.4 GitPython==1.0.1 gnocchiclient==3.3.1 greenlet==0.4.15 hacking==0.12.0 httplib2==0.9.1 idna==2.6 iso8601==0.1.11 Jinja2==2.10 jmespath==0.9.0 jsonpatch==1.16 jsonpointer==1.13 jsonschema==2.6.0 kazoo==2.2 keystoneauth1==3.4.0 keystonemiddleware==4.18.0 kombu==4.0.0 linecache2==1.0.0 logutils==0.3.5 Mako==0.4.0 MarkupSafe==1.1.0 mccabe==0.2.1 mistral-lib==0.3.0 mistral==6.0.0 mock==3.0.0 monotonic==0.6 msgpack-python==0.4.0 munch==2.1.0 netaddr==0.7.18 netifaces==0.10.4 networkx==1.10 openstacksdk==0.48.0 os-client-config==1.28.0 os-service-types==1.2.0 osc-lib==1.8.0 oslo.concurrency==3.25.0 oslo.config==5.2.0 oslo.context==2.19.2 oslo.db==4.27.0 oslo.i18n==3.15.3 oslo.log==3.36.0 oslo.messaging==5.29.0 oslo.middleware==3.31.0 oslo.policy==1.30.0 oslo.serialization==2.18.0 oslo.service==1.24.0 oslo.utils==3.33.0 oslosphinx==4.7.0 osprofiler==1.4.0 paramiko==2.7.1 passlib==1.7.0 Paste==2.0.2 PasteDeploy==1.5.0 pbr==2.0.0 pecan==1.0.0 pep8==1.5.7 pika-pool==0.1.3 pika==0.10.0 ply==3.10 positional==1.2.1 prettytable==0.7.2 psutil==3.2.2 pyasn1==0.1.8 pycadf==1.1.0 pycparser==2.18 pyflakes==0.8.1 pyinotify==0.9.6 PyJWT==1.0.1 pyOpenSSL==17.1.0 pyparsing==2.1.0 pyperclip==1.5.27 python-barbicanclient==4.5.2 python-cinderclient==3.3.0 python-dateutil==2.5.3 python-designateclient==2.7.0 python-editor==1.0.3 python-glanceclient==2.8.0 python-glareclient==0.3.0 python-heatclient==1.10.0 python-ironic-inspector-client==1.5.0 python-ironicclient==2.3.0 python-keystoneclient==3.8.0 python-magnumclient==2.1.0 python-mimeparse==1.6.0 python-mistralclient==3.1.0 python-muranoclient==0.8.2 python-neutronclient==6.7.0 python-novaclient==9.1.0 python-openstackclient==5.2.0 python-senlinclient==1.1.0 python-subunit==1.0.0 python-swiftclient==3.2.0 python-tackerclient==0.8.0 python-troveclient==2.2.0 python-zaqarclient==1.0.0 pytz==2013.6 PyYAML==3.12 repoze.lru==0.7 requests-mock==1.2.0 requests==2.14.2 requestsexceptions==1.2.0 rfc3986==0.3.1 Routes==2.3.1 simplegeneric==0.8.1 simplejson==3.5.1 six==1.10.0 smmap==0.9.0 sqlalchemy-migrate==0.11.0 SQLAlchemy==1.0.10 sqlparse==0.2.2 statsd==3.2.1 stestr==2.0.0 stevedore==1.20.0 Tempita==0.5.2 tenacity==6.1.0 testscenarios===0.4 testtools==2.2.0 tooz==1.58.0 traceback2==1.4.0 tripleo-common==12.7.0 ujson==1.35 unittest2==1.1.0 validations-libs==1.0.0 vine==1.1.4 voluptuous==0.8.9 waitress==1.1.0 warlock==1.2.0 WebOb==1.7.1 websocket-client==0.44.0 WebTest==2.0.27 wrapt==1.7.0 WSME==0.8.0 yaql==1.1.3 zake==0.1.6 ,0,162
openstack%2Fsushy-cli~master~Ie411b49bde082ce167bdcd8ee99414c556d03af0,openstack/sushy-cli,master,Ie411b49bde082ce167bdcd8ee99414c556d03af0,Update minversion of tox,MERGED,2021-01-23 17:48:49.000000000,2021-01-29 11:35:23.000000000,2021-01-29 11:33:57.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-23 17:48:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sushy-cli/commit/c83c9b0686e40f6163cca277c8dd284df2ae8f0d', 'message': 'Update minversion of tox\n\nThe minimum version since when tox accepts having inline comments\nin deps is 3.9.0\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17\n\nChange-Id: Ie411b49bde082ce167bdcd8ee99414c556d03af0\n'}]",0,772163,c83c9b0686e40f6163cca277c8dd284df2ae8f0d,8,3,1,23851,,,0,"Update minversion of tox

The minimum version since when tox accepts having inline comments
in deps is 3.9.0

https://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17

Change-Id: Ie411b49bde082ce167bdcd8ee99414c556d03af0
",git fetch https://review.opendev.org/openstack/sushy-cli refs/changes/63/772163/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c83c9b0686e40f6163cca277c8dd284df2ae8f0d,tox-min-version-parse-comments,minversion = 3.9.0,minversion = 3.2.1,1,1
openstack%2Fironic-python-agent~stable%2Fvictoria~If3c83fb2ea2025fce092d495a64f32077c70d2d6,openstack/ironic-python-agent,stable/victoria,If3c83fb2ea2025fce092d495a64f32077c70d2d6,Option to enable bootloader config failure bypass,MERGED,2021-01-14 13:38:56.000000000,2021-01-29 11:28:11.000000000,2021-01-29 11:26:31.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-01-14 13:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/05dbe87056ba26f3417942fecb0f29bd87d252e6', 'message': 'Option to enable bootloader config failure bypass\n\nSome hardware is very well intentioned. However this intention\ncan result in the UEFI NVRAM table being full which prevents us\nfrom adding new records to the table. We can\'t be sure what to\ndelete, so in this case some operators just need the ability to\ntell ironic ""it is okay if this fails, it will still work.""\n\nThe added ``ignore_bootloader_failure`` option adds\nthis capability which can be set per-node either in the agent\nconfiguation via the ramdisk image, or in the pxe_append_params\nconfiguration parameter for the node itself with a\n``ipa-ignore-bootloader-failure`` option in order to prevent\nthe failure from being raised.\n\nChange-Id: If3c83fb2ea2025fce092d495a64f32077c70d2d6\nStory: 2008386\nTask: 41309\n(cherry picked from commit 7a83773fbc9800217a0364c72b8ca9f823a60519)\n'}, {'number': 2, 'created': '2021-01-14 14:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/43b86aa089e46d3907fe9e591cacb068814914d9', 'message': 'Option to enable bootloader config failure bypass\n\nSome hardware is very well intentioned. However this intention\ncan result in the UEFI NVRAM table being full which prevents us\nfrom adding new records to the table. We can\'t be sure what to\ndelete, so in this case some operators just need the ability to\ntell ironic ""it is okay if this fails, it will still work.""\n\nThe added ``ignore_bootloader_failure`` option adds\nthis capability which can be set per-node either in the agent\nconfiguation via the ramdisk image, or in the pxe_append_params\nconfiguration parameter for the node itself with a\n``ipa-ignore-bootloader-failure`` option in order to prevent\nthe failure from being raised.\n\nChange-Id: If3c83fb2ea2025fce092d495a64f32077c70d2d6\nStory: 2008386\nTask: 41309\n(cherry picked from commit 7a83773fbc9800217a0364c72b8ca9f823a60519)\n'}, {'number': 3, 'created': '2021-01-14 14:57:19.000000000', 'files': ['releasenotes/notes/allows-bootloader-install-failure-to-be-ignored-b99667b13afa9759.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/config.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/07cf2c1b7921f37adf0dbf633fd0efed07ddbfd8', 'message': 'Option to enable bootloader config failure bypass\n\nSome hardware is very well intentioned. However this intention\ncan result in the UEFI NVRAM table being full which prevents us\nfrom adding new records to the table. We can\'t be sure what to\ndelete, so in this case some operators just need the ability to\ntell ironic ""it is okay if this fails, it will still work.""\n\nThe added ``ignore_bootloader_failure`` option adds\nthis capability which can be set per-node either in the agent\nconfiguation via the ramdisk image, or in the pxe_append_params\nconfiguration parameter for the node itself with a\n``ipa-ignore-bootloader-failure`` option in order to prevent\nthe failure from being raised.\n\nChange-Id: If3c83fb2ea2025fce092d495a64f32077c70d2d6\nStory: 2008386\nTask: 41309\n(cherry picked from commit 7a83773fbc9800217a0364c72b8ca9f823a60519)\n'}]",1,770747,07cf2c1b7921f37adf0dbf633fd0efed07ddbfd8,12,4,3,23851,,,0,"Option to enable bootloader config failure bypass

Some hardware is very well intentioned. However this intention
can result in the UEFI NVRAM table being full which prevents us
from adding new records to the table. We can't be sure what to
delete, so in this case some operators just need the ability to
tell ironic ""it is okay if this fails, it will still work.""

The added ``ignore_bootloader_failure`` option adds
this capability which can be set per-node either in the agent
configuation via the ramdisk image, or in the pxe_append_params
configuration parameter for the node itself with a
``ipa-ignore-bootloader-failure`` option in order to prevent
the failure from being raised.

Change-Id: If3c83fb2ea2025fce092d495a64f32077c70d2d6
Story: 2008386
Task: 41309
(cherry picked from commit 7a83773fbc9800217a0364c72b8ca9f823a60519)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/47/770747/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/allows-bootloader-install-failure-to-be-ignored-b99667b13afa9759.yaml', 'ironic_python_agent/config.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",4,05dbe87056ba26f3417942fecb0f29bd87d252e6,,"from oslo_config import cfgCONF = cfg.CONF target_boot_mode='bios', ignore_bootloader_failure=None): # Always allow the API client to be the final word on if this is # overridden or not. if ignore_bootloader_failure is None: ignore_failure = CONF.ignore_bootloader_failure else: ignore_failure = ignore_bootloader_failure try: if _manage_uefi( device, efi_system_part_uuid=efi_system_part_uuid): return except Exception as e: LOG.error('Error setting up bootloader. Error %s', e) if not ignore_failure: raise try: _install_grub2(device, root_uuid=root_uuid, efi_system_part_uuid=efi_system_part_uuid, prep_boot_part_uuid=prep_boot_part_uuid, target_boot_mode=target_boot_mode) except Exception as e: LOG.error('Error setting up bootloader. Error %s', e) if not ignore_failure: raise"," target_boot_mode='bios'): if _manage_uefi(device, efi_system_part_uuid=efi_system_part_uuid): return _install_grub2(device, root_uuid=root_uuid, efi_system_part_uuid=efi_system_part_uuid, prep_boot_part_uuid=prep_boot_part_uuid, target_boot_mode=target_boot_mode)",178,9
openstack%2Fsushy~master~I6e0b2bb4be15c67fa64a5a415e7814be9f8243f2,openstack/sushy,master,I6e0b2bb4be15c67fa64a5a415e7814be9f8243f2,Update minversion of tox,MERGED,2021-01-22 08:30:46.000000000,2021-01-29 11:27:00.000000000,2021-01-29 11:25:43.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 08:30:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sushy/commit/9758d39969d73b812bb4aa702da1373fe0d40cce', 'message': 'Update minversion of tox\n\nThe minimum version since when tox accepts having inline comments\nin deps is 3.9.0\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17\n\nChange-Id: I6e0b2bb4be15c67fa64a5a415e7814be9f8243f2\n'}]",0,771943,9758d39969d73b812bb4aa702da1373fe0d40cce,8,3,1,23851,,,0,"Update minversion of tox

The minimum version since when tox accepts having inline comments
in deps is 3.9.0

https://tox.readthedocs.io/en/latest/changelog.html#v3-9-0-2019-04-17

Change-Id: I6e0b2bb4be15c67fa64a5a415e7814be9f8243f2
",git fetch https://review.opendev.org/openstack/sushy refs/changes/43/771943/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9758d39969d73b812bb4aa702da1373fe0d40cce,tox-min-version-parse-comments,minversion = 3.9.0,minversion = 3.2.1,1,1
openstack%2Fneutron~stable%2Fvictoria~I7e39f40b325a6974a46ed34641cec5226c9e5a3f,openstack/neutron,stable/victoria,I7e39f40b325a6974a46ed34641cec5226c9e5a3f,[OVN] Ensure metadata checksum,MERGED,2021-01-28 11:45:06.000000000,2021-01-29 11:03:04.000000000,2021-01-29 11:01:09.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-28 11:45:06.000000000', 'files': ['neutron/tests/functional/agent/ovn/metadata/test_metadata_agent.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/agent/linux/iptables_manager.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/748827923b0f0dc7b95ab149e14e4efea0dfb8f3', 'message': '[OVN] Ensure metadata checksum\n\nEnsure the TCP traffic leaving the OVN metadata namespace has\nthe checksum correctly populated. This is necessary when the\nOVS datapath is ""netdev"".\n\nBecause the overhead added is minimal and only applies to the\nmetadata traffic inside the metadata namespace, this rule is\nalways set.\n\nThis patch also includes [1], that is a fix needed on top of\nthis one. [1] fixes who the code retrieves the datapath type,\nexecuting the OVS IDL query to actually retrieve the data\nneeded.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/772286\n\nChange-Id: I7e39f40b325a6974a46ed34641cec5226c9e5a3f\nCloses-Bug: #1904871\n(cherry picked from commit 26a30a3b78bfaf6d3f8ce6271b1a7415440c602c)\n'}]",0,772867,748827923b0f0dc7b95ab149e14e4efea0dfb8f3,13,4,1,16688,,,0,"[OVN] Ensure metadata checksum

Ensure the TCP traffic leaving the OVN metadata namespace has
the checksum correctly populated. This is necessary when the
OVS datapath is ""netdev"".

Because the overhead added is minimal and only applies to the
metadata traffic inside the metadata namespace, this rule is
always set.

This patch also includes [1], that is a fix needed on top of
this one. [1] fixes who the code retrieves the datapath type,
executing the OVS IDL query to actually retrieve the data
needed.

[1]https://review.opendev.org/c/openstack/neutron/+/772286

Change-Id: I7e39f40b325a6974a46ed34641cec5226c9e5a3f
Closes-Bug: #1904871
(cherry picked from commit 26a30a3b78bfaf6d3f8ce6271b1a7415440c602c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/772867/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/ovn/metadata/test_metadata_agent.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/agent/linux/iptables_manager.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']",4,748827923b0f0dc7b95ab149e14e4efea0dfb8f3,bug/1904871," 'spawn_monitored_metadata_proxy') as spawn_mdp, \ mock.patch.object( self.agent, '_ensure_datapath_checksum') as mock_checksum: mock_checksum.assert_called_once_with('namespace')", 'spawn_monitored_metadata_proxy') as spawn_mdp:,56,4
openstack%2Fcharm-manila-ganesha~master~I182b2e1e5f3c183530b6319f372b0eed08740ed5,openstack/charm-manila-ganesha,master,I182b2e1e5f3c183530b6319f372b0eed08740ed5,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:31:27.000000000,2021-01-29 10:30:28.000000000,2021-01-29 10:30:28.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-01-15 16:31:27.000000000', 'files': ['rebuild', 'src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/0b0a41360006c3280dc033069e3b675ffb9e3dc6', 'message': 'Updates for testing period for 20.01 release\n\nIncludes updates to charmhelpers/charms.openstack for cert_utils\nand unit-get for the install hook error on Juju 2.9\n\n* charm-helpers sync for classic charms\n* rebuild for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure master branch for charms.openstack\n  - ensure master branch for charm-helpers\n\nChange-Id: I182b2e1e5f3c183530b6319f372b0eed08740ed5\n'}]",0,771026,0b0a41360006c3280dc033069e3b675ffb9e3dc6,15,3,1,20870,,,0,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

Change-Id: I182b2e1e5f3c183530b6319f372b0eed08740ed5
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/26/771026/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/wheelhouse.txt']",2,0b0a41360006c3280dc033069e3b675ffb9e3dc6,sync-for-21-01, git+https://opendev.org/openstack/charms.openstack.git#egg=charms.openstack git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,,5,1
openstack%2Ftripleo-heat-templates~master~I195358742c19d6ea0a3d32979896c0268e3b55a6,openstack/tripleo-heat-templates,master,I195358742c19d6ea0a3d32979896c0268e3b55a6,nova: Use LIBGUESTFS_BACKEND=direct,MERGED,2021-01-18 06:00:09.000000000,2021-01-29 10:22:08.000000000,2021-01-29 10:22:08.000000000,"[{'_account_id': 3153}, {'_account_id': 6962}, {'_account_id': 7353}, {'_account_id': 8297}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-01-18 06:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca59810334e21d46ab04bc2ce4680b0b903f5e01', 'message': 'nova: Use LIBGUESTFS_BACKEND=direct\n\nAfter change [1] nova-compute launch libguestfs using the default\n``qemu:///system``, but when ``inject_password` is set to true and\nuser tries to create vm, the vm creation is successful and we could\nsee libguestfs error in nova-compute logs.\n\nThis change forces libvirt to use ``direct`` when launching instances\non host.\n\nChange-Id: I195358742c19d6ea0a3d32979896c0268e3b55a6\nCloses-bug: #1912141\n'}, {'number': 2, 'created': '2021-01-18 06:25:27.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67917bf65076ce8a0aeb568e48d28dd1bd1f2995', 'message': 'nova: Use LIBGUESTFS_BACKEND=direct\n\nAfter change [1] nova-compute launch libguestfs using the default\n``qemu:///system``, but when ``inject_password` is set to true and\nuser tries to create vm, the vm creation is successful and we could\nsee libguestfs error in nova-compute logs.\n\nThis change forces libvirt to use ``direct`` when launching instances\non host.\n\n[1] Ib55936ea562dfa965be0764647e2b8e3fa309fd6\n\nChange-Id: I195358742c19d6ea0a3d32979896c0268e3b55a6\nCloses-bug: #1912141\n'}]",3,771160,67917bf65076ce8a0aeb568e48d28dd1bd1f2995,17,10,2,20733,,,0,"nova: Use LIBGUESTFS_BACKEND=direct

After change [1] nova-compute launch libguestfs using the default
``qemu:///system``, but when ``inject_password` is set to true and
user tries to create vm, the vm creation is successful and we could
see libguestfs error in nova-compute logs.

This change forces libvirt to use ``direct`` when launching instances
on host.

[1] Ib55936ea562dfa965be0764647e2b8e3fa309fd6

Change-Id: I195358742c19d6ea0a3d32979896c0268e3b55a6
Closes-bug: #1912141
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/771160/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,ca59810334e21d46ab04bc2ce4680b0b903f5e01,lp_1912141, - LIBGUESTFS_BACKEND: direct, - LIBGUESTFS_BACKEND: libvirt:qemu:///system,1,1
openstack%2Ftacker~master~I9fb5ef027b9010becc088ca0b66138bcf52512c2,openstack/tacker,master,I9fb5ef027b9010becc088ca0b66138bcf52512c2,Add new FT set for tests with separated NFVO,MERGED,2020-12-24 14:48:47.000000000,2021-01-29 10:11:48.000000000,2021-01-29 10:07:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27880}, {'_account_id': 31072}, {'_account_id': 31902}]","[{'number': 1, 'created': '2020-12-24 14:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7b484aa8c8c746d55049dd4314dba797d4348f33', 'message': 'Add new FT set for tests with separated NFVO\n\nThis patch adds new test with separated NFVO such as Grant API.\nThe test requires additinal config of Tacker, and we cannot use\nTacker with such config for other tests. So we add new FT set for\nseparated NFVO environment.\n\nChange-Id: I9fb5ef027b9010becc088ca0b66138bcf52512c2\n'}, {'number': 2, 'created': '2021-01-12 14:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c6d857686092d680280535d9103ec29c29557a3d', 'message': 'Add new FT set for tests with separated NFVO\n\nThis patch adds new test with separated NFVO such as Grant API.\nThe test requires additinal config of Tacker, and we cannot use\nTacker with such config for other tests. So we add new FT set for\nseparated NFVO environment.\n\nChange-Id: I9fb5ef027b9010becc088ca0b66138bcf52512c2\n'}, {'number': 3, 'created': '2021-01-19 07:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/849afcb6bc444757895db4f581cfe51244753d3a', 'message': 'Add new FT set for tests with separated NFVO\n\nThis patch adds new test with separated NFVO such as Grant API.\nThe test requires additinal config of Tacker, and we cannot use\nTacker with such config for other tests. So we add new FT set for\nseparated NFVO environment.\n\nChange-Id: I9fb5ef027b9010becc088ca0b66138bcf52512c2\n'}, {'number': 4, 'created': '2021-01-21 16:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/259af66f75b81864705e1f2d1df508887a35b356', 'message': 'Add new FT set for tests with separated NFVO\n\nThis patch adds new test with separated NFVO such as Grant API.\nThe test requires additinal config of Tacker, and we cannot use\nTacker with such config for other tests. So we add new FT set for\nseparated NFVO environment.\n\nChange-Id: I9fb5ef027b9010becc088ca0b66138bcf52512c2\n'}, {'number': 5, 'created': '2021-01-21 16:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/79c14fcbbab39725cbae2c4205666e36e27a6a8d', 'message': 'Add new FT set for tests with separated NFVO\n\nThis patch adds new test with separated NFVO such as Grant API.\nThe test requires additinal config of Tacker, and we cannot use\nTacker with such config for other tests. So we add new FT set for\nseparated NFVO environment.\n\nChange-Id: I9fb5ef027b9010becc088ca0b66138bcf52512c2\n'}, {'number': 6, 'created': '2021-01-21 16:27:13.000000000', 'files': ['tacker/tests/etc/samples/etsi/nfv/functional6/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/UserData/lcm_user_data.py', 'tacker/tests/functional/sol_separated_nfvo/vnflcm/__init__.py', 'tacker/tests/etc/samples/etsi/nfv/functional6/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/etc/samples/etsi/nfv/functional6/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/functional/sol_separated_nfvo/vnflcm/fake_grant.py', '.zuul.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/nested/VDU2.yaml', 'devstack/settings', 'tacker/tests/etc/samples/etsi/nfv/functional6/Definitions/helloworld3_types.yaml', 'tacker/tests/functional/sol_separated_nfvo/vnflcm/fake_vnfpkgm.py', 'tacker/tests/functional/sol_separated_nfvo/vnflcm/test_vnf_instance_with_user_data_nfvo_separate.py', 'tacker/tests/etc/samples/etsi/nfv/functional6/UserData/__init__.py', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/functional/sol_separated_nfvo/__init__.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker/commit/0d412ba7cbf9a2f45edf83bd118f2e87ff59feb0', 'message': 'Add new FT set for tests with separated NFVO\n\nThis patch adds new test with separated NFVO such as Grant API.\nThe test requires additinal config of Tacker, and we cannot use\nTacker with such config for other tests. So we add new FT set for\nseparated NFVO environment.\n\nChange-Id: I9fb5ef027b9010becc088ca0b66138bcf52512c2\n'}]",13,768475,0d412ba7cbf9a2f45edf83bd118f2e87ff59feb0,47,7,6,17255,,,0,"Add new FT set for tests with separated NFVO

This patch adds new test with separated NFVO such as Grant API.
The test requires additinal config of Tacker, and we cannot use
Tacker with such config for other tests. So we add new FT set for
separated NFVO environment.

Change-Id: I9fb5ef027b9010becc088ca0b66138bcf52512c2
",git fetch https://review.opendev.org/openstack/tacker refs/changes/75/768475/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/functional_separated_nfvo/vnflcm/fake_grant.py', 'tacker/tests/etc/samples/etsi/nfv/functional6/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/UserData/lcm_user_data.py', 'tacker/tests/etc/samples/etsi/nfv/functional6/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/etc/samples/etsi/nfv/functional6/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/functional_separated_nfvo/vnflcm/fake_vnfpkgm.py', '.zuul.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/nested/VDU2.yaml', 'tacker/tests/functional_separated_nfvo/__init__.py', 'devstack/settings', 'tacker/tests/functional_separated_nfvo/vnflcm/__init__.py', 'tacker/tests/etc/samples/etsi/nfv/functional6/Definitions/helloworld3_types.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/UserData/__init__.py', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/nested/VDU1.yaml', 'tox.ini', 'tacker/tests/functional_separated_nfvo/vnflcm/test_vnf_instance_with_user_data_nfvo_separate.py']",17,7b484aa8c8c746d55049dd4314dba797d4348f33,bp/support-etsi-nfv-specs,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import hashlib import os from tacker.tests.functional.vnflcm import base as vnflcm_base from tacker.tests.functional.vnflcm import fake_vnflcm from tacker.tests.functional_separated_nfvo.vnflcm import fake_grant from tacker.tests.functional_separated_nfvo.vnflcm import fake_vnfpkgm class VnfLcmWithNfvoSeparator(vnflcm_base.BaseVnfLcmTest): def _register_vnf_package_mock_response(self): """"""Prepare VNF package for test. Register VNF package response to fake NFVO server and Cleanups. Returns: Response: VNF Package information """""" # Pre Setting: Create vnf package. sample_name = ""functional6"" csar_package_path = os.path.abspath( os.path.join( os.path.dirname(__file__), ""../../etc/samples/etsi/nfv"", sample_name)) # Get VNFD id. tempname, vnfd_id = vnflcm_base._create_csar_with_unique_vnfd_id( csar_package_path) with open(tempname, ""rb"") as f: vnf_package_hash = hashlib.sha256(f.read()).hexdigest() vnf_package_info = \ fake_vnfpkgm.VnfPackage.make_individual_response_body( vnfd_id, vnf_package_hash) vnf_package_id = vnf_package_info['id'] # Post Setting: Reserve deleting vnf package. self.addCleanup(vnflcm_base._delete_vnf_package, self.tacker_client, vnf_package_id) # Set ""VNF Packages"" response vnflcm_base.FAKE_SERVER_MANAGER.set_callback('GET', fake_vnfpkgm.VnfPackage.VNF_PACKAGE_REQ_PATH, status_code=200, response_body=[vnf_package_info]) # Set ""VNF Package content"" response vnflcm_base.FAKE_SERVER_MANAGER.set_callback('GET', os.path.join( fake_vnfpkgm.VnfPackage.VNF_PACKAGE_REQ_PATH, vnf_package_id, 'package_content'), status_code=200, response_headers={""Content-Type"": ""application/zip""}, content=tempname) # Set ""Individual VNF package artifact"" response vnflcm_base.FAKE_SERVER_MANAGER.set_callback('GET', os.path.join( fake_vnfpkgm.VnfPackage.VNF_PACKAGE_REQ_PATH, vnf_package_id, 'artifacts', vnf_package_info['additionalArtifacts'][0]['artifactPath']), status_code=200, response_headers={""Content-Type"": ""application/zip""}, content=tempname) # Set ""VNFD of individual VNF package"" response vnflcm_base.FAKE_SERVER_MANAGER.set_callback('GET', os.path.join( fake_vnfpkgm.VnfPackage.VNF_PACKAGE_REQ_PATH, vnf_package_id, 'vnfd'), status_code=200, response_headers={""Content-Type"": ""application/zip""}, content=tempname) return vnf_package_info def test_inst_heal_term(self): """"""Test basic life cycle operations with sample VNFD. In this test case, we do following steps. - Create subscription. - Create VNF instance. - Instantiate VNF. - Heal VNF with all VNFc. - Terminate VNF - Delete VNF - Delete subscription """""" vnf_package_info = self._register_vnf_package_mock_response() glance_image = self._list_glance_image()[0] # Create subscription and register it. request_body = fake_vnflcm.Subscription.make_create_request_body( 'http://localhost:{}{}'.format( vnflcm_base.FAKE_SERVER_MANAGER.SERVER_PORT, os.path.join( vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName))) resp, response_body = self._register_subscription(request_body) self.assertEqual(201, resp.status_code) self.assert_http_header_location_for_subscription(resp.headers) subscription_id = response_body.get('id') self.addCleanup(self._delete_subscription, subscription_id) # Create vnf instance resp, vnf_instance = self._create_vnf_instance_from_body( fake_vnflcm.VnfInstances.make_create_request_body( vnf_package_info['vnfdId'])) vnf_instance_id = vnf_instance.get('id') self._wait_lcm_done(vnf_instance_id=vnf_instance_id) self._assert_create_vnf(resp, vnf_instance) self.addCleanup(self._delete_vnf_instance, vnf_instance_id) # Set Fake server response for Grant-Req(Instantiate) vnflcm_base.FAKE_SERVER_MANAGER.set_callback('POST', fake_grant.Grant.GRANT_REQ_PATH, status_code=201, callback=lambda req_headers, req_body: fake_grant.Grant.make_inst_response_body(req_body, self.vim['tenant_id'], glance_image.id)) # Instantiate vnf instance request_body = fake_vnflcm.VnfInstances.make_inst_request_body( self.vim['tenant_id'], self.ext_networks, self.ext_mngd_networks, self.ext_link_ports, self.ext_subnets) resp, _ = self._instantiate_vnf_instance(vnf_instance_id, request_body) self._wait_lcm_done('COMPLETED', vnf_instance_id=vnf_instance_id) self._assert_instantiate_vnf(resp, vnf_instance_id) # Show vnf instance resp, vnf_instance = self._show_vnf_instance(vnf_instance_id) self.assertEqual(200, resp.status_code) # Set Fake server response for Grant-Req(Heal) vnflcm_base.FAKE_SERVER_MANAGER.set_callback('POST', fake_grant.Grant.GRANT_REQ_PATH, status_code=201, callback=lambda req_headers, req_body: fake_grant.Grant.make_heal_response_body(req_body, self.vim['tenant_id'], glance_image.id)) # Heal vnf (exists vnfc_instace_id) vnfc_instance_id_list = [ vnfc.get('id') for vnfc in vnf_instance.get( 'instantiatedVnfInfo', {}).get( 'vnfcResourceInfo', [])] request_body = fake_vnflcm.VnfInstances.make_heal_request_body( vnfc_instance_id_list) resp, _ = self._heal_vnf_instance(vnf_instance_id, request_body) self._wait_lcm_done('COMPLETED', vnf_instance_id=vnf_instance_id) self._assert_heal_vnf(resp, vnf_instance_id) # Set Fake server response for Grant-Req(Terminate) vnflcm_base.FAKE_SERVER_MANAGER.set_callback('POST', fake_grant.Grant.GRANT_REQ_PATH, status_code=201, callback=lambda req_headers, req_body: fake_grant.Grant.make_term_response_body(req_body)) # Get stack informations to terminate. stack = self._get_heat_stack(vnf_instance_id) resources_list = self._get_heat_resource_list(stack.id) resource_name_list = [r.resource_name for r in resources_list] glance_image_id_list = self._get_glance_image_list_from_stack_resource( stack.id, resource_name_list) # Terminate VNF terminate_req_body = fake_vnflcm.VnfInstances.make_term_request_body() resp, _ = self._terminate_vnf_instance(vnf_instance_id, terminate_req_body) self._wait_lcm_done('COMPLETED', vnf_instance_id=vnf_instance_id) self._assert_terminate_vnf(resp, vnf_instance_id, stack.id, resource_name_list, glance_image_id_list) # Delete VNF resp, _ = self._delete_vnf_instance(vnf_instance_id) self._wait_lcm_done(vnf_instance_id=vnf_instance_id) self.assert_delete_vnf(resp, vnf_instance_id) # Delete Subscription resp, response_body = self._delete_subscription(subscription_id) self.assertEqual(204, resp.status_code) def _assert_create_vnf(self, resp, vnf_instance): """"""Assert that VNF was created via fake server. Args: resp (Response): HTTP response object. vnf_instance (Dict): VNF instance information. """""" super().assert_create_vnf(resp, vnf_instance) # FT-checkpoint: VnfPkgId vnf_pkg_mock_responses = vnflcm_base.FAKE_SERVER_MANAGER.get_history( fake_vnfpkgm.VnfPackage.VNF_PACKAGE_REQ_PATH) vnflcm_base.FAKE_SERVER_MANAGER.clear_history( fake_vnfpkgm.VnfPackage.VNF_PACKAGE_REQ_PATH) self.assertEqual(1, len(vnf_pkg_mock_responses)) vnf_pkg_info_list = vnf_pkg_mock_responses[0] self.assertEqual(vnf_instance['vnfPkgId'], vnf_pkg_info_list.response_body[0]['id']) def _assert_instantiate_vnf(self, resp, vnf_instance_id): """"""Assert that VNF was instantiated. This method calls same name method of super class and that checks heat resource status 'CREATE_COMPLETE', then assert notifications of instantiation. Then, we check Grant response in this method. Args: resp (Response): HTTP response object. vnf_instance_id (str): VNF instance id. """""" super().assert_instantiate_vnf(resp, vnf_instance_id) # FT-checkpoint: Grant Response grant_mock_responses = vnflcm_base.FAKE_SERVER_MANAGER.get_history( fake_grant.Grant.GRANT_REQ_PATH) vnflcm_base.FAKE_SERVER_MANAGER.clear_history( fake_grant.Grant.GRANT_REQ_PATH) self.assertEqual(1, len(grant_mock_responses)) self._assert_grant_mock_response(grant_mock_responses[0]) def _assert_heal_vnf(self, resp, vnf_instance_id, expected_stack_status='UPDATE_COMPLETE'): """"""Assert that VNF was healed. This method calls same name method of super class and that checks heat resource status 'UPDATE_COMPLETE', then assert notifications of healing. Then, we check Grant response in this method. Args: resp (Response): HTTP response object. vnf_instance_id (str): VNF instance id. expected_stack_status (str, optional): self explanatory :) Defaults to 'UPDATE_COMPLETE'. """""" super().assert_heal_vnf( resp, vnf_instance_id, expected_stack_status=expected_stack_status) # FT-checkpoint: Grant Response grant_mock_responses = vnflcm_base.FAKE_SERVER_MANAGER.get_history( fake_grant.Grant.GRANT_REQ_PATH) vnflcm_base.FAKE_SERVER_MANAGER.clear_history( fake_grant.Grant.GRANT_REQ_PATH) self.assertEqual(1, len(grant_mock_responses)) self._assert_grant_mock_response(grant_mock_responses[0]) def _assert_terminate_vnf(self, resp, vnf_instance_id, stack_id, resource_name_list, glance_image_id_list): """"""Assert that VNF was terminated. This method calls same name method of super class to check specified VNF instance is 'NOT_INSTANTIATED' Then, we check Grant response in this method. Args: resp (Response): HTTP response object. vnf_instance_id (str): VNF instance id. stack_id (str): Resource id of heat stack to check. resource_name_list (list[str]): List of heat stack resources. glance_image_id_list (list[str]): List of glance image ids. """""" super().assert_terminate_vnf(resp, vnf_instance_id, stack_id, resource_name_list, glance_image_id_list) # FT-checkpoint: Grant Response grant_mock_responses = vnflcm_base.FAKE_SERVER_MANAGER.get_history( fake_grant.Grant.GRANT_REQ_PATH) vnflcm_base.FAKE_SERVER_MANAGER.clear_history( fake_grant.Grant.GRANT_REQ_PATH) self.assertEqual(1, len(grant_mock_responses)) self._assert_grant_mock_response(grant_mock_responses[0]) def _assert_grant_mock_response(self, grant_mock_response, expected_auth_type=None, expected_token_value=None): """"""Assert that HTTP response code is equal to 201 or not. This method checks response code of grant request and authorization result. Args: grant_mock_response (Response): HTTP response object. expected_auth_type (str, optional): Authentication type. Defaults to None. expected_token_value ([type], optional): Authentication token. Defaults to None. """""" self.assertEqual(201, grant_mock_response.status_code) actual_auth = grant_mock_response.request_headers.get(""Authorization"") if expected_auth_type is None: self.assertIsNone(actual_auth) return self.assertEqual( '{} {}'.format(expected_auth_type, expected_token_value), actual_auth) ",,1408,0
openstack%2Fcharm-masakari~master~I744bd6f88c88ef30754bcf947c5379334b24631a,openstack/charm-masakari,master,I744bd6f88c88ef30754bcf947c5379334b24631a,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:31:41.000000000,2021-01-29 09:44:05.000000000,2021-01-29 09:44:05.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-01-15 16:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/1702c220e532d0a0bcc42fd798bc51558e9e8c59', 'message': 'Updates for testing period for 20.01 release\n\nIncludes updates to charmhelpers/charms.openstack for cert_utils\nand unit-get for the install hook error on Juju 2.9\n\n* charm-helpers sync for classic charms\n* rebuild for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure master branch for charms.openstack\n  - ensure master branch for charm-helpers\n\nChange-Id: I744bd6f88c88ef30754bcf947c5379334b24631a\n'}, {'number': 2, 'created': '2021-01-27 11:02:57.000000000', 'files': ['rebuild', 'test-requirements.txt', 'src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/74a2bc949cff379b2c2427af052468fe43144b51', 'message': 'Updates for testing period for 20.01 release\n\nIncludes updates to charmhelpers/charms.openstack for cert_utils\nand unit-get for the install hook error on Juju 2.9\n\n* charm-helpers sync for classic charms\n* rebuild for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure master branch for charms.openstack\n  - ensure master branch for charm-helpers\n\nThe func test pr is to test/verify the reap instances change in zaza.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza/pull/411\n\nChange-Id: I744bd6f88c88ef30754bcf947c5379334b24631a\n'}]",0,771027,74a2bc949cff379b2c2427af052468fe43144b51,23,3,2,20870,,,0,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

The func test pr is to test/verify the reap instances change in zaza.

func-test-pr: https://github.com/openstack-charmers/zaza/pull/411

Change-Id: I744bd6f88c88ef30754bcf947c5379334b24631a
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/27/771027/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'test-requirements.txt', 'src/wheelhouse.txt']",3,1702c220e532d0a0bcc42fd798bc51558e9e8c59,sync-for-21-01, git+https://opendev.org/openstack/charms.openstack.git#egg=charms.openstack git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,,7,1
openstack%2Fswift~master~I28fe3f98a63f96f7a7b3aca1b36b8aca5ea22c5b,openstack/swift,master,I28fe3f98a63f96f7a7b3aca1b36b8aca5ea22c5b,DNM: junk,ABANDONED,2021-01-29 09:00:14.000000000,2021-01-29 09:01:23.000000000,,[],"[{'number': 1, 'created': '2021-01-29 09:00:14.000000000', 'files': ['swift/junk.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4b6207643f316f7f9086206d5432261cd9489bae', 'message': 'DNM: junk\n\nChange-Id: I28fe3f98a63f96f7a7b3aca1b36b8aca5ea22c5b\n'}]",0,772981,4b6207643f316f7f9086206d5432261cd9489bae,2,0,1,7847,,,0,"DNM: junk

Change-Id: I28fe3f98a63f96f7a7b3aca1b36b8aca5ea22c5b
",git fetch https://review.opendev.org/openstack/swift refs/changes/81/772981/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/junk.py'],1,4b6207643f316f7f9086206d5432261cd9489bae,junk,,,0,0
openstack%2Ftripleo-heat-templates~master~I78cfac1344b968e21f7b53306c20df051778a435,openstack/tripleo-heat-templates,master,I78cfac1344b968e21f7b53306c20df051778a435,Remove deployed-server bootstrap mappings,MERGED,2021-01-27 22:17:21.000000000,2021-01-29 09:00:28.000000000,2021-01-29 09:00:28.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-27 22:17:21.000000000', 'files': ['environments/deployed-server-environment.j2.yaml', 'environments/deployed-server-noop-ctlplane.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4a862731b0fa5aaac23448a8b67ecea05d0422eb', 'message': 'Remove deployed-server bootstrap mappings\n\nThese resources were previously removed from the deployed-server\ntemplate, so they can also be removed from the deployed-server\nenvironments.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: I78cfac1344b968e21f7b53306c20df051778a435\n'}]",0,772781,4a862731b0fa5aaac23448a8b67ecea05d0422eb,8,4,1,7144,,,0,"Remove deployed-server bootstrap mappings

These resources were previously removed from the deployed-server
template, so they can also be removed from the deployed-server
environments.

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: I78cfac1344b968e21f7b53306c20df051778a435
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/772781/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/deployed-server-environment.j2.yaml', 'environments/deployed-server-noop-ctlplane.yaml']",2,4a862731b0fa5aaac23448a8b67ecea05d0422eb,,, OS::TripleO::DeployedServer::Bootstrap: OS::Heat::None,0,2
openstack%2Fnova~master~If93fb19db766ebe1fa669d6826acedd0ae21cd20,openstack/nova,master,If93fb19db766ebe1fa669d6826acedd0ae21cd20,Add regression test for bug #1909120,MERGED,2020-12-23 16:50:40.000000000,2021-01-29 08:38:01.000000000,2021-01-29 08:36:18.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-12-23 16:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b3f72f0b52e95c12f056846800e798a22837812', 'message': 'Add regression test for bug #1909120\n\nRelated-Bug: #1909120\nChange-Id: If93fb19db766ebe1fa669d6826acedd0ae21cd20\n'}, {'number': 2, 'created': '2021-01-27 15:23:11.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1909120.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a3697ed013372733615d0e6d7f6088ad2591429c', 'message': 'Add regression test for bug #1909120\n\nRelated-Bug: #1909120\nChange-Id: If93fb19db766ebe1fa669d6826acedd0ae21cd20\n'}]",8,768351,a3697ed013372733615d0e6d7f6088ad2591429c,21,5,2,10135,,,0,"Add regression test for bug #1909120

Related-Bug: #1909120
Change-Id: If93fb19db766ebe1fa669d6826acedd0ae21cd20
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/768351/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1909120.py'],1,1b3f72f0b52e95c12f056846800e798a22837812,bug/1909120,"# Copyright 2020, Red Hat, Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.tests.functional.api import client from nova.tests.functional import integrated_helpers class TestDetachVolumeWhileComputeDown(integrated_helpers._IntegratedTestBase): """"""Regression test for bug 1909120 This regression test aims to assert the behaviour of the os-volume_attachments API when removing a volume attachment from an instance hosted on a down compute. """""" microversion = 'latest' def setUp(self): super().setUp() def test_volume_detach_while_compute_down(self): # _IntegratedTestBase uses CastAsCall so set the response timeout to 1 self.flags(rpc_response_timeout=1) # Launch a test instance server = self._create_server(networks='none') # Attach the volume volume_id = self.cinder.IMAGE_BACKED_VOL self.api.post_server_volume( server['id'], dict(volumeAttachment=dict(volumeId=volume_id))) # Assert that the volume is attached in Nova attachment = self.api.get_server_volumes(server['id'])[0] self.assertEqual(volume_id, attachment.get('volumeId')) # Assert that the volume is attached in the Cinder fixture self.assertIn( volume_id, self.cinder.volume_ids_for_instance(server['id'])) # Stop and force down the compute self.compute.stop() compute_id = self.admin_api.get_services( binary='nova-compute')[0]['id'] self.admin_api.put_service(compute_id, {'forced_down': 'true'}) # Assert that the request fails in this functional test as the cast to # detach_volume on the compute is actually treated as a call by the # CastAsCall fixture used by _IntegratedTestBase. ex = self.assertRaises( client.OpenStackApiException, self.api.delete_server_volume, server['id'], volume_id) # FIXME(lyarwood): n-cpu should reject the initial request with 409 # self.assertEqual(409, ex.response.status_code) self.assertEqual(500, ex.response.status_code) ",,66,0
openstack%2Fcharm-masakari-monitors~master~I59a13af81392a35c647fe01d2c14745ed84121f8,openstack/charm-masakari-monitors,master,I59a13af81392a35c647fe01d2c14745ed84121f8,Updates for testing period for 20.01 release,MERGED,2021-01-15 16:31:49.000000000,2021-01-29 08:26:24.000000000,2021-01-29 08:26:24.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-01-15 16:31:49.000000000', 'files': ['rebuild', 'src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/b44869605357219cdc54f246c486702eb923a71a', 'message': 'Updates for testing period for 20.01 release\n\nIncludes updates to charmhelpers/charms.openstack for cert_utils\nand unit-get for the install hook error on Juju 2.9\n\n* charm-helpers sync for classic charms\n* rebuild for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure master branch for charms.openstack\n  - ensure master branch for charm-helpers\n\nChange-Id: I59a13af81392a35c647fe01d2c14745ed84121f8\n'}]",0,771028,b44869605357219cdc54f246c486702eb923a71a,17,3,1,20870,,,0,"Updates for testing period for 20.01 release

Includes updates to charmhelpers/charms.openstack for cert_utils
and unit-get for the install hook error on Juju 2.9

* charm-helpers sync for classic charms
* rebuild for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure master branch for charms.openstack
  - ensure master branch for charm-helpers

Change-Id: I59a13af81392a35c647fe01d2c14745ed84121f8
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/28/771028/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/wheelhouse.txt']",2,b44869605357219cdc54f246c486702eb923a71a,sync-for-21-01, git+https://opendev.org/openstack/charms.openstack.git#egg=charms.openstack git+https://github.com/juju/charm-helpers.git#egg=charmhelpers,,5,1
openstack%2Fcharm-ironic-api~master~I629b01352c563dfc387dc5265af68fcf8d0f33e5,openstack/charm-ironic-api,master,I629b01352c563dfc387dc5265af68fcf8d0f33e5,Rebuild for haproxy address bug 1912505,MERGED,2021-01-25 11:03:05.000000000,2021-01-29 08:26:05.000000000,2021-01-29 08:26:05.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-01-25 11:03:05.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/d7268bb0cf5a3cc44a3939d6b54415751972c6e1', 'message': 'Rebuild for haproxy address bug 1912505\n\nEnsures that haproxy.cfg is written with the correct\nspace address for peer backends.\n\nRelated-Bug: #1912505\nChange-Id: I629b01352c563dfc387dc5265af68fcf8d0f33e5\n'}]",0,772310,d7268bb0cf5a3cc44a3939d6b54415751972c6e1,20,3,1,20870,,,0,"Rebuild for haproxy address bug 1912505

Ensures that haproxy.cfg is written with the correct
space address for peer backends.

Related-Bug: #1912505
Change-Id: I629b01352c563dfc387dc5265af68fcf8d0f33e5
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/10/772310/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,d7268bb0cf5a3cc44a3939d6b54415751972c6e1,bug/1912505,1796dc2e-5efb-11eb-ac6c-9bf6c2b4bbb8,82e26ae2-5745-11eb-bd88-4f515c9d604c,1,1
openstack%2Fproject-config~master~Icac3f5f74b2fca06c8b25fa78d895bbb710ea308,openstack/project-config,master,Icac3f5f74b2fca06c8b25fa78d895bbb710ea308,Add rbd-iscsi-client to cinder project,MERGED,2021-01-26 20:36:34.000000000,2021-01-29 08:02:04.000000000,2021-01-29 06:44:42.000000000,"[{'_account_id': 1004}, {'_account_id': 5997}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 20:36:34.000000000', 'files': ['gerrit/acls/openstack/rbd-iscsi-client.config', 'gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fc08e905a98b68efd60090222e6d540ed6aab1ef', 'message': 'Add rbd-iscsi-client to cinder project\n\nAdd the rbd-iscsi-client repo to the cinder project.  It will\nfollow the independent release model.\n\nrbd-iscsi-client was added to global-requirements by commit\n2ce1a5eaab.  The cinder project is assuming maintenance of the\nlibrary.\n\nNeeded-by: I8f968adcc827cc7171c8310a585d3c79aba12940\n\nChange-Id: Icac3f5f74b2fca06c8b25fa78d895bbb710ea308\n'}]",0,772596,fc08e905a98b68efd60090222e6d540ed6aab1ef,10,5,1,5314,,,0,"Add rbd-iscsi-client to cinder project

Add the rbd-iscsi-client repo to the cinder project.  It will
follow the independent release model.

rbd-iscsi-client was added to global-requirements by commit
2ce1a5eaab.  The cinder project is assuming maintenance of the
library.

Needed-by: I8f968adcc827cc7171c8310a585d3c79aba12940

Change-Id: Icac3f5f74b2fca06c8b25fa78d895bbb710ea308
",git fetch https://review.opendev.org/openstack/project-config refs/changes/96/772596/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/rbd-iscsi-client.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/main.yaml']",4,fc08e905a98b68efd60090222e6d540ed6aab1ef,rbd-iscsi-client, - openstack/rbd-iscsi-client,,30,0
openstack%2Foslo.vmware~master~I8e190d00f3140f9f0864b83b723f0aec9235f1e3,openstack/oslo.vmware,master,I8e190d00f3140f9f0864b83b723f0aec9235f1e3,Add PBM WSDL for vSphere 7.0,MERGED,2021-01-25 01:16:13.000000000,2021-01-29 07:33:34.000000000,2021-01-29 07:29:27.000000000,"[{'_account_id': 16929}, {'_account_id': 22348}, {'_account_id': 31706}, {'_account_id': 32071}]","[{'number': 1, 'created': '2021-01-25 01:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/fa80db3b7b7b14b0563db62e0a3ca88d72ab812c', 'message': 'Add PBM WSDL for vSphere 7.0\n\nAdding WSDL files for SPBM APIs in vSphere 7.0.\n\nChange-Id: I8e190d00f3140f9f0864b83b723f0aec9235f1e3\n'}, {'number': 2, 'created': '2021-01-25 03:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/f2c0099396f2ce9ca2e87caf59814386d6220ac8', 'message': 'Add PBM WSDL for vSphere 7.0\n\nAdding WSDL files for SPBM APIs in vSphere 7.0.\n\nChange-Id: I8e190d00f3140f9f0864b83b723f0aec9235f1e3\n'}, {'number': 3, 'created': '2021-01-25 07:38:08.000000000', 'files': ['oslo_vmware/wsdl/7.0/pbm-messagetypes.xsd', 'oslo_vmware/wsdl/7.0/query-types.xsd', 'oslo_vmware/wsdl/7.0/pbm-types.xsd', 'oslo_vmware/wsdl/7.0/pbmService.wsdl', '.zuul.yaml', 'oslo_vmware/wsdl/7.0/pbm.wsdl', 'lower-constraints.txt', 'oslo_vmware/wsdl/7.0/core-types.xsd', 'oslo_vmware/wsdl/7.0/vim-types.xsd', 'oslo_vmware/wsdl/7.0/reflect-types.xsd'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/f1a3f78eadb10667a004aeba29a02bb4800c6c42', 'message': 'Add PBM WSDL for vSphere 7.0\n\nAdding WSDL files for SPBM APIs in vSphere 7.0.\n\nChange-Id: I8e190d00f3140f9f0864b83b723f0aec9235f1e3\n'}]",0,772240,f1a3f78eadb10667a004aeba29a02bb4800c6c42,15,4,3,15935,,,0,"Add PBM WSDL for vSphere 7.0

Adding WSDL files for SPBM APIs in vSphere 7.0.

Change-Id: I8e190d00f3140f9f0864b83b723f0aec9235f1e3
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/40/772240/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_vmware/wsdl/7.0/pbm-messagetypes.xsd', 'oslo_vmware/wsdl/7.0/query-types.xsd', 'oslo_vmware/wsdl/7.0/pbm-types.xsd', 'oslo_vmware/wsdl/7.0/pbmService.wsdl', 'oslo_vmware/wsdl/7.0/pbm.wsdl', 'oslo_vmware/wsdl/7.0/core-types.xsd', 'oslo_vmware/wsdl/7.0/vim-types.xsd', 'oslo_vmware/wsdl/7.0/reflect-types.xsd']",8,fa80db3b7b7b14b0563db62e0a3ca88d72ab812c,wsdl4vc7,"<?xml version=""1.0"" encoding=""UTF-8"" ?> <!-- Copyright 2005-2020 VMware, Inc. All rights reserved. --> <schema targetNamespace=""urn:reflect"" xmlns=""http://www.w3.org/2001/XMLSchema"" xmlns:reflect=""urn:reflect"" xmlns:xsd=""http://www.w3.org/2001/XMLSchema"" xmlns:vim25=""urn:vim25"" elementFormDefault=""qualified"" > <import namespace=""urn:vim25"" schemaLocation=""core-types.xsd"" /> </schema> ",,40875,0
openstack%2Fproject-config~master~I77a3daa1a9aa6146d6ff3c4f2f1dd4716e01ff56,openstack/project-config,master,I77a3daa1a9aa6146d6ff3c4f2f1dd4716e01ff56,Remove Karbor projects from infra,MERGED,2020-12-15 00:30:43.000000000,2021-01-29 07:27:05.000000000,2021-01-29 06:41:44.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-15 00:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/73401929fea3024885f29a1660787659f43be20d', 'message': 'Remove Karbor projects from infra\n\nAs announced on the openstack-discuss ML[1], Karbor is retiring\nthis cycle (Wallaby).\n\nThis commit retires this repository as per the process defined in\nthe project-guide[2].\n\nThank you to all the contributors of Karbor for your hard work!\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-November/018643.html\n[2] https://docs.openstack.org/project-team-guide/repository.html#retiring-a-repository\n\nDepends-On: https://review.opendev.org/c/openstack/karbor/+/767032\nDepends-On: https://review.opendev.org/c/openstack/karbor-dashboard/+/767034\nDepends-On: https://review.opendev.org/c/openstack/python-karborclient/+/767033\nChange-Id: I77a3daa1a9aa6146d6ff3c4f2f1dd4716e01ff56\n'}, {'number': 2, 'created': '2021-01-20 20:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f0d849e53b3e6db29d8ab21b63a1b453fe46d15a', 'message': 'Remove Karbor projects from infra\n\nAs announced on the openstack-discuss ML[1], Karbor is retiring\nthis cycle (Wallaby).\n\nThis commit retires this repository as per the process defined in\nthe project-guide[2].\n\nThank you to all the contributors of Karbor for your hard work!\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-November/018643.html\n[2] https://docs.openstack.org/project-team-guide/repository.html#retiring-a-repository\n\nDepends-On: https://review.opendev.org/c/openstack/karbor/+/767032\nDepends-On: https://review.opendev.org/c/openstack/karbor-dashboard/+/767034\nDepends-On: https://review.opendev.org/c/openstack/python-karborclient/+/767033\nChange-Id: I77a3daa1a9aa6146d6ff3c4f2f1dd4716e01ff56\n'}, {'number': 3, 'created': '2021-01-28 18:34:04.000000000', 'files': ['gerritbot/channels.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/67b5a9d2ee7331f6f0325e994b8f5152574c9b30', 'message': 'Remove Karbor projects from infra\n\nAs announced on the openstack-discuss ML[1], Karbor is retiring\nthis cycle (Wallaby).\n\nThis commit retires this repository as per the process defined in\nthe project-guide[2].\n\nThank you to all the contributors of Karbor for your hard work!\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-November/018643.html\n[2] https://docs.openstack.org/project-team-guide/repository.html#retiring-a-repository\n\nDepends-On: https://review.opendev.org/c/openstack/karbor/+/767032\nDepends-On: https://review.opendev.org/c/openstack/karbor-dashboard/+/767034\nDepends-On: https://review.opendev.org/c/openstack/python-karborclient/+/767033\nChange-Id: I77a3daa1a9aa6146d6ff3c4f2f1dd4716e01ff56\n'}]",2,767057,67b5a9d2ee7331f6f0325e994b8f5152574c9b30,21,4,3,16708,,,0,"Remove Karbor projects from infra

As announced on the openstack-discuss ML[1], Karbor is retiring
this cycle (Wallaby).

This commit retires this repository as per the process defined in
the project-guide[2].

Thank you to all the contributors of Karbor for your hard work!

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-November/018643.html
[2] https://docs.openstack.org/project-team-guide/repository.html#retiring-a-repository

Depends-On: https://review.opendev.org/c/openstack/karbor/+/767032
Depends-On: https://review.opendev.org/c/openstack/karbor-dashboard/+/767034
Depends-On: https://review.opendev.org/c/openstack/python-karborclient/+/767033
Change-Id: I77a3daa1a9aa6146d6ff3c4f2f1dd4716e01ff56
",git fetch https://review.opendev.org/openstack/project-config refs/changes/57/767057/3 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",3,73401929fea3024885f29a1660787659f43be20d,retire-karbor,, - openstack/karbor - openstack/karbor-dashboard - openstack/python-karborclient,0,36
openstack%2Fpython-tripleoclient~stable%2Ftrain~I4a0ca7f19d8684e7ff3d331f72a7f64019ba8eff,openstack/python-tripleoclient,stable/train,I4a0ca7f19d8684e7ff3d331f72a7f64019ba8eff,[train-only] Set rc = 0 for successful standalone/output-only action,MERGED,2021-01-21 08:22:29.000000000,2021-01-29 07:21:03.000000000,2021-01-29 07:19:13.000000000,"[{'_account_id': 360}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-21 08:22:29.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/76bb57251c7bccf783b5d2fe5e8fcba7e48bea99', 'message': '[train-only] Set rc = 0 for successful standalone/output-only action\n\nRight now when --standalone and --output-only is used\nwith a successful action, the rc is still set to\nrc = 1. Set rc = 0 in this case.\n\nChange-Id: I4a0ca7f19d8684e7ff3d331f72a7f64019ba8eff\n'}]",0,771762,76bb57251c7bccf783b5d2fe5e8fcba7e48bea99,16,6,1,17216,,,0,"[train-only] Set rc = 0 for successful standalone/output-only action

Right now when --standalone and --output-only is used
with a successful action, the rc is still set to
rc = 1. Set rc = 0 in this case.

Change-Id: I4a0ca7f19d8684e7ff3d331f72a7f64019ba8eff
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/62/771762/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,76bb57251c7bccf783b5d2fe5e8fcba7e48bea99,osp_ocp_cnv, rc = 0,,1,0
openstack%2Foctavia~master~I4f56d6049d0df490b6cee3580646aff69508143f,openstack/octavia,master,I4f56d6049d0df490b6cee3580646aff69508143f,Fix removing tags from Octavia resources,ABANDONED,2021-01-27 13:17:01.000000000,2021-01-29 07:11:45.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 13:17:01.000000000', 'files': ['octavia/db/repositories.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/functional/api/v2/test_listener.py', 'releasenotes/notes/fix-tags-removal-f1363e0471ebcb65.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d96f16ecbc2b0a3f6fd830ef3c0a8787bad57427', 'message': 'Fix removing tags from Octavia resources\n\nWhen removing all the tags or removing the only tag of an Octavia\nresource, the resource was left unchanged.\n\nStory: 2008564\nTask: 41703\n\nChange-Id: I4f56d6049d0df490b6cee3580646aff69508143f\n'}]",0,772692,d96f16ecbc2b0a3f6fd830ef3c0a8787bad57427,4,2,1,29244,,,0,"Fix removing tags from Octavia resources

When removing all the tags or removing the only tag of an Octavia
resource, the resource was left unchanged.

Story: 2008564
Task: 41703

Change-Id: I4f56d6049d0df490b6cee3580646aff69508143f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/92/772692/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/db/repositories.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/functional/api/v2/test_listener.py', 'releasenotes/notes/fix-tags-removal-f1363e0471ebcb65.yaml']",4,d96f16ecbc2b0a3f6fd830ef3c0a8787bad57427,,--- fixes: - | Fix a bug when removing all the tags or the only tag of an Octavia resource. The tag was not correctly removed and the resource remained unchanged. ,,35,2
openstack%2Fproject-config~master~I6984cbd220ec76eec04d0c096c5edf0d2f53f776,openstack/project-config,master,I6984cbd220ec76eec04d0c096c5edf0d2f53f776,Update neutron grafana dashboard,MERGED,2021-01-27 09:55:53.000000000,2021-01-29 07:00:16.000000000,2021-01-29 06:41:34.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 09:55:53.000000000', 'files': ['grafana/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fe87fc36ea4b22d429224fbe64b9de7e59078684', 'message': 'Update neutron grafana dashboard\n\nRecently we did some change in names of the CI jobs and we moved some\njobs to the experimental and periodic queues.\nThis patch reflects those changes in the Grafana dashboard.\n\nIt also removes graph with number of periodic jobs run every day as\nthose jobs are run once per day so there is no need to have this graph\nat all.\n\nChange-Id: I6984cbd220ec76eec04d0c096c5edf0d2f53f776\n'}]",0,772643,fe87fc36ea4b22d429224fbe64b9de7e59078684,8,3,1,11975,,,0,"Update neutron grafana dashboard

Recently we did some change in names of the CI jobs and we moved some
jobs to the experimental and periodic queues.
This patch reflects those changes in the Grafana dashboard.

It also removes graph with number of periodic jobs run every day as
those jobs are run once per day so there is no need to have this graph
at all.

Change-Id: I6984cbd220ec76eec04d0c096c5edf0d2f53f776
",git fetch https://review.opendev.org/openstack/project-config refs/changes/43/772643/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/neutron.yaml'],1,fe87fc36ea4b22d429224fbe64b9de7e59078684,update-neutron-dashboard," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-slow-py3.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-slow-py3.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-slow-py3') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-ipv6-only') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-slow-py3.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-slow-py3') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-ipv6-only') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-slow-py3.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-slow-py3.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-slow-py3') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-ipv6-only') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-slow-py3.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-slow-py3') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-ipv6-only') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-multinode-full-py3.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-multinode-full-py3.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-multinode-full-py3') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-multinode-full-py3.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-multinode-full-py3') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstacksdk-functional-devstack-networking.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstacksdk-functional-devstack-networking.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstacksdk-functional-devstack-networking (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-centos-8-tripleo-standalone.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-centos-8-tripleo-standalone.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-centos-8-tripleo-standalone (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tripleo-ci-centos-8-containers-multinode.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tripleo-ci-centos-8-containers-multinode.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tripleo-ci-centos-8-containers-multinode (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.tripleo-ci-centos-8-content-provider.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tripleo-ci-centos-8-content-provider.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tripleo-ci-centos-8-content-provider (non-voting)')"," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.tempest-slow-py3.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.tempest-slow-py3.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-slow-py3') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.tempest-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-ipv6-only') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.tempest-slow-py3.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-slow-py3') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-ipv6-only') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-slow-py3.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-slow-py3.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-slow-py3') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-ipv6-only') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-slow-py3.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-slow-py3') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-ipv6-only') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-multinode-full-py3.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-multinode-full-py3.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-multinode-full-py3 (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-with-uwsgi-loki.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-with-uwsgi-loki.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-with-uwsgi-loki (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-multinode-full-py3.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-multinode-full-py3 (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-with-uwsgi-loki.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-with-uwsgi-loki (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-grenade-ovn.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-grenade-ovn.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-grenade-ovn (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-grenade-ovn.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-grenade-ovn') - title: Co-Gating Failure Rates (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstacksdk-functional-devstack-networking.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstacksdk-functional-devstack-networking.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstacksdk-functional-devstack-networking (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-centos-8-tripleo-standalone.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-centos-8-tripleo-standalone.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-centos-8-tripleo-standalone (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tripleo-ci-centos-8-containers-multinode.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tripleo-ci-centos-8-containers-multinode.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tripleo-ci-centos-8-containers-multinode (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tripleo-ci-centos-8-content-provider.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tripleo-ci-centos-8-content-provider.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tripleo-ci-centos-8-content-provider (non-voting)') type: graph - title: Number of Co-Gating jobs runs (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstacksdk-functional-devstack-networking.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstacksdk-functional-devstack-networking (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-centos-8-tripleo-standalone.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-centos-8-tripleo-standalone (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tripleo-ci-centos-8-containers-multinode.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tripleo-ci-centos-8-containers-multinode (non-voting)') type: graph type: graph - title: Number of Periodic jobs runs span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36-with-oslo-master.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36-with-oslo-master') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36-with-neutron-lib-master.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36-with-neutron-lib-master') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36-with-ovsdbapp-master.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36-with-ovsdbapp-master') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.propose-translation-update.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'propose-translation-update') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-tempest-postgres-full.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-postgres-full') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-tempest-mariadb-full.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-mariadb-full') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-functional.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-functional') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-tempest-with-os-ken-master.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-with-os-ken-master') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-master-fedora.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-ovn-tempest-ovs-master-fedora')",15,44
openstack%2Fproject-config~master~I2294d72ee36e33ea5d137eb4e0faeac69ea86625,openstack/project-config,master,I2294d72ee36e33ea5d137eb4e0faeac69ea86625,Add key editHashtags to normalize_acl script,MERGED,2021-01-26 09:24:49.000000000,2021-01-29 06:41:29.000000000,2021-01-29 06:41:29.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 09:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c970a43d470b837f62a6fd377b5464117ca41c5c', 'message': ""Add key editHashtags to normalize_acl script\n\nThe editHashtags key should be accepted as acl entry key as it's\nrequired to define permissions to edit hashtags in the gerrit ui.\n\nChange-Id: I2294d72ee36e33ea5d137eb4e0faeac69ea86625\n""}, {'number': 2, 'created': '2021-01-27 18:16:46.000000000', 'files': ['tools/normalize_acl.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0a3e98f7b8c92c2180287632d789bb5ad55b36c7', 'message': ""Add key editHashtags to normalize_acl script\n\nThe editHashtags key should be accepted as acl entry key as it's\nrequired to define permissions to edit hashtags in the gerrit ui.\n\nChange-Id: I2294d72ee36e33ea5d137eb4e0faeac69ea86625\n""}]",0,772484,0a3e98f7b8c92c2180287632d789bb5ad55b36c7,9,4,2,23851,,,0,"Add key editHashtags to normalize_acl script

The editHashtags key should be accepted as acl entry key as it's
required to define permissions to edit hashtags in the gerrit ui.

Change-Id: I2294d72ee36e33ea5d137eb4e0faeac69ea86625
",git fetch https://review.opendev.org/openstack/project-config refs/changes/84/772484/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/normalize_acl.py'],1,c970a43d470b837f62a6fd377b5464117ca41c5c,add-edithashtags-key, 'editHashtags',,1,0
openstack%2Fproject-config~master~I9c11660149a91a339c1280bed1426df13328b8e3,openstack/project-config,master,I9c11660149a91a339c1280bed1426df13328b8e3,Preparation for tempest-horizon retirement,MERGED,2021-01-25 16:38:09.000000000,2021-01-29 06:33:10.000000000,2021-01-29 06:33:10.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-01-25 16:38:09.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4afbdf81da5a42e53451eb07ac84e8d13cfd175f', 'message': 'Preparation for tempest-horizon retirement\n\ntempest tests in tempest-horizon are merged into the main tempest\nrepo in Wallaby [1][2] as discussed in the wallaby PTG [0].\ntempest-horizon repository will be retired.\nThis is the first step of the retirement.\n\n[0] https://etherpad.opendev.org/p/qa-wallaby-ptg\n[1] https://review.opendev.org/c/openstack/tempest/+/771727\n[2] https://review.opendev.org/q/topic:%22merge-horizon-test%22+(status:open%20OR%20status:merged)\n\nChange-Id: I9c11660149a91a339c1280bed1426df13328b8e3\n'}]",0,772373,4afbdf81da5a42e53451eb07ac84e8d13cfd175f,9,5,1,841,,,0,"Preparation for tempest-horizon retirement

tempest tests in tempest-horizon are merged into the main tempest
repo in Wallaby [1][2] as discussed in the wallaby PTG [0].
tempest-horizon repository will be retired.
This is the first step of the retirement.

[0] https://etherpad.opendev.org/p/qa-wallaby-ptg
[1] https://review.opendev.org/c/openstack/tempest/+/771727
[2] https://review.opendev.org/q/topic:%22merge-horizon-test%22+(status:open%20OR%20status:merged)

Change-Id: I9c11660149a91a339c1280bed1426df13328b8e3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/73/772373/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,4afbdf81da5a42e53451eb07ac84e8d13cfd175f,merge-horizon-test, - noop-jobs, - publish-to-pypi,1,1
openstack%2Ftripleo-heat-templates~master~I89daa0d195390a672bdb9e4cb416a04a5a88c0bb,openstack/tripleo-heat-templates,master,I89daa0d195390a672bdb9e4cb416a04a5a88c0bb,Switch Octavia external tasks to 'post deploy',MERGED,2020-10-22 14:55:46.000000000,2021-01-29 05:38:27.000000000,2021-01-29 05:38:27.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-10-22 14:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e51ad60e5cb7fa69fb08d003e9583736d2b6ccf3', 'message': ""WIP: Switch Octavia external tasks to 'post deploy'\n\nOctavia needs certain core components to be fully functional and this\nisn't the case for some configurations until *after* step 5.\n\nChange-Id: I89daa0d195390a672bdb9e4cb416a04a5a88c0bb\n""}, {'number': 2, 'created': '2020-10-22 15:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/838096650bdc3114c425db0e348fee1dc32def4f', 'message': ""Switch Octavia external tasks to 'post deploy'\n\nOctavia needs certain core components to be fully functional and this\nisn't the case for some configurations until *after* step 5.\n\nChange-Id: I89daa0d195390a672bdb9e4cb416a04a5a88c0bb\n""}, {'number': 3, 'created': '2021-01-20 19:27:27.000000000', 'files': ['deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29a5bf31ae0366b944dcc6cc1ea3aaf8881e44c9', 'message': ""Switch Octavia external tasks to 'post deploy'\n\nOctavia needs certain core components to be fully functional and this\nisn't the case for some configurations until *after* step 5.\n\nChange-Id: I89daa0d195390a672bdb9e4cb416a04a5a88c0bb\n""}]",0,759276,29a5bf31ae0366b944dcc6cc1ea3aaf8881e44c9,19,8,3,6681,,,0,"Switch Octavia external tasks to 'post deploy'

Octavia needs certain core components to be fully functional and this
isn't the case for some configurations until *after* step 5.

Change-Id: I89daa0d195390a672bdb9e4cb416a04a5a88c0bb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/759276/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-deployment-config.j2.yaml'],1,e51ad60e5cb7fa69fb08d003e9583736d2b6ccf3,, external_post_deploy_tasks:, external_deploy_tasks: when: step|int == 5,1,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I0e041c6a95a7f53019967f9263df2326b1408c6f,openstack/tripleo-heat-templates,stable/ussuri,I0e041c6a95a7f53019967f9263df2326b1408c6f,Serialize shutdown of pacemaker nodes,MERGED,2021-01-27 22:07:53.000000000,2021-01-29 05:38:22.000000000,2021-01-29 05:38:22.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-27 22:07:53.000000000', 'files': ['deployment/containers-common.yaml', 'container_config_scripts/pacemaker_mutex_shutdown.sh', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'container_config_scripts/pacemaker_resource_lock.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83ba65e3ae3259e74186eb3db8bce1a2ba546e90', 'message': 'Serialize shutdown of pacemaker nodes\n\nWhen running minor update in a composable HA, different\nroles could run ansible tasks concurrently. However,\nthere is currently a race when pacemaker nodes are\nstopped in parallel [1,2], that could cause nodes to\nincorrectly stop themselves once they reconnect to the\ncluster.\n\nTo prevent concurrent shutdown, use a cluster-wide lock\nto signals that one node is about to shutdown, and block\nthe others until the node disconnects from the cluster.\n\nTested the minor update in a composable HA environment:\n  . when run with ""openstack update run"", every role\n    is updated sequentially, and the shutdown lock\n    doesn\'t interfere.\n  . when running multiple ansible tasks in parallel\n    ""openstack update run --limit role<X>"", pacemaker\n    nodes are correctly stopped sequentially thanks\n    to the shutdown lock.\n  . when updating an existing overcloud, the new\n    locking script used in the review is correctly\n    injected on the overcloud, thanks to [3].\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1791841\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1872404\n[3] I2ac6bb98e1d4183327e888240fc8d5a70e0d6fcb\n\nCloses-Bug: #1904193\nChange-Id: I0e041c6a95a7f53019967f9263df2326b1408c6f\n(cherry picked from commit cb55cc8ce538f3e075754b0328872ec075f4cde9)\n(cherry picked from commit 8e9798caf65296e3849afad3a5dbed12f23c735a)\n'}]",0,772732,83ba65e3ae3259e74186eb3db8bce1a2ba546e90,7,3,1,20778,,,0,"Serialize shutdown of pacemaker nodes

When running minor update in a composable HA, different
roles could run ansible tasks concurrently. However,
there is currently a race when pacemaker nodes are
stopped in parallel [1,2], that could cause nodes to
incorrectly stop themselves once they reconnect to the
cluster.

To prevent concurrent shutdown, use a cluster-wide lock
to signals that one node is about to shutdown, and block
the others until the node disconnects from the cluster.

Tested the minor update in a composable HA environment:
  . when run with ""openstack update run"", every role
    is updated sequentially, and the shutdown lock
    doesn't interfere.
  . when running multiple ansible tasks in parallel
    ""openstack update run --limit role<X>"", pacemaker
    nodes are correctly stopped sequentially thanks
    to the shutdown lock.
  . when updating an existing overcloud, the new
    locking script used in the review is correctly
    injected on the overcloud, thanks to [3].

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1791841
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1872404
[3] I2ac6bb98e1d4183327e888240fc8d5a70e0d6fcb

Closes-Bug: #1904193
Change-Id: I0e041c6a95a7f53019967f9263df2326b1408c6f
(cherry picked from commit cb55cc8ce538f3e075754b0328872ec075f4cde9)
(cherry picked from commit 8e9798caf65296e3849afad3a5dbed12f23c735a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/772732/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/containers-common.yaml', 'container_config_scripts/pacemaker_mutex_shutdown.sh', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'container_config_scripts/pacemaker_resource_lock.sh']",4,83ba65e3ae3259e74186eb3db8bce1a2ba546e90,pcmk-shutdown-lock-stable/victoria-stable/ussuri,"# Retrieve the owner of a lock from the CIB # this is a read-only operation, so no need to log debug info lock_get_owner() { local lockname=$1 local rc local lock local owner lock=$(lock_get $lockname) rc=$? if [ $rc -ne 0 ] && [ $rc -ne $CIB_ENOTFOUND ]; then return 2 fi if [ -z ""$lock"" ]; then return 1 else lock_owner $lock return 0 fi } if [ -z ""$LOCKNAME"" ]; then error ""You must specific a lock name"" fi if [ $ACTION != ""--owner"" ] && [ $ACTION != ""-o"" ]; then if [ -z ""$REQUESTER"" ]; then error ""You must specific a lock requester"" fi --acquire-once|-A) lock_acquire $LOCKNAME $REQUESTER $TTL;; --owner|-o) lock_get_owner $LOCKNAME;;"," if [ -z ""$LOCKNAME"" ] || [ -z ""$REQUESTER"" ]; then error ""You must specific a lock name and a requester""",161,2
openstack%2Foctavia~master~I7488f2fae61917f6d4a56cedd05bace7c5e2bc70,openstack/octavia,master,I7488f2fae61917f6d4a56cedd05bace7c5e2bc70,Support deletion of all tags,MERGED,2020-10-02 15:35:32.000000000,2021-01-29 05:21:16.000000000,2021-01-29 05:19:52.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-10-02 15:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/58ac28575e3d61e92c094f8df10ce9f2210ce860', 'message': 'Support deletion of all tags\n\nAdd support for removal of all tags by PUTing empty tags array.\n\nTask: #41009\nStory: #2008220\n\nChange-Id: I7488f2fae61917f6d4a56cedd05bace7c5e2bc70\nSigned-off-by: Andrew Karpow <andrew.karpow@sap.com>\n'}, {'number': 2, 'created': '2020-11-12 17:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/67f55569ba025f181856f1c6cd441546304f5b2b', 'message': 'Support deletion of all tags\n\nAdd support for removal of all tags by PUTing empty tags array.\n\nAlso moved assignment after initial session query for the\nobject.\n\nTask: #41009\nStory: #2008220\n\nChange-Id: I7488f2fae61917f6d4a56cedd05bace7c5e2bc70\nSigned-off-by: Andrew Karpow <andrew.karpow@sap.com>\n'}, {'number': 3, 'created': '2020-11-17 14:15:25.000000000', 'files': ['octavia/db/repositories.py', 'octavia/tests/functional/api/v2/test_load_balancer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7ad022379ff2e366d3dfd73113d4619b0137551c', 'message': 'Support deletion of all tags\n\nAdd support for removal of all tags by PUTing empty tags array.\n\nAlso moved assignment after initial session query for the\nobject in the listener update path.\n\nTask: #41009\nStory: #2008220\n\nChange-Id: I7488f2fae61917f6d4a56cedd05bace7c5e2bc70\nSigned-off-by: Andrew Karpow <andrew.karpow@sap.com>\n'}]",2,755828,7ad022379ff2e366d3dfd73113d4619b0137551c,26,5,3,28514,,,0,"Support deletion of all tags

Add support for removal of all tags by PUTing empty tags array.

Also moved assignment after initial session query for the
object in the listener update path.

Task: #41009
Story: #2008220

Change-Id: I7488f2fae61917f6d4a56cedd05bace7c5e2bc70
Signed-off-by: Andrew Karpow <andrew.karpow@sap.com>
",git fetch https://review.opendev.org/openstack/octavia refs/changes/28/755828/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/db/repositories.py', 'octavia/tests/functional/api/v2/test_load_balancer.py']",2,58ac28575e3d61e92c094f8df10ce9f2210ce860,task/41009," def test_update_delete_tag(self): project_id = uuidutils.generate_uuid() lb = self.create_load_balancer(uuidutils.generate_uuid(), name='lb1', project_id=project_id, admin_state_up=False, tags=['test_tag1'],) lb_dict = lb.get(self.root_tag) lb_json = self._build_body({'tags': []}) self.set_lb_status(lb_dict.get('id')) response = self.put(self.LB_PATH.format(lb_id=lb_dict.get('id')), lb_json) api_lb = response.json.get(self.root_tag) self.assertEqual([], api_lb.get('tags')) ",,17,2
openstack%2Ftripleo-quickstart-extras~master~I4fb3d6fa55ef528961cfa493231d4434a95b803d,openstack/tripleo-quickstart-extras,master,I4fb3d6fa55ef528961cfa493231d4434a95b803d,Ara installation is failing with pip==21.0,MERGED,2021-01-25 12:03:15.000000000,2021-01-29 04:23:43.000000000,2021-01-29 04:23:43.000000000,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-01-25 12:03:15.000000000', 'files': ['roles/overcloud-prep-images/templates/inject-ara.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/140280a24ab3c39249fd539745a63e528a3c5d42', 'message': 'Ara installation is failing with pip==21.0\n\nPip version 21.0 is not compatible, this causing\nfailures in installing ara. Installing pip stable\nversion 20.3.4.\n\nChange-Id: I4fb3d6fa55ef528961cfa493231d4434a95b803d\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}]",0,772325,140280a24ab3c39249fd539745a63e528a3c5d42,25,7,1,30750,,,0,"Ara installation is failing with pip==21.0

Pip version 21.0 is not compatible, this causing
failures in installing ara. Installing pip stable
version 20.3.4.

Change-Id: I4fb3d6fa55ef528961cfa493231d4434a95b803d
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/25/772325/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-images/templates/inject-ara.sh.j2'],1,140280a24ab3c39249fd539745a63e528a3c5d42,ara_pip_failures,"sudo $container_cli exec --user root $cont bash -c ""easy_install pip==20.3.4 && pip install 'ara==1.0.0' || pip3 install 'ara==1.0.0'""","sudo $container_cli exec --user root $cont bash -c ""easy_install pip && pip install 'ara==1.0.0' || pip3 install 'ara==1.0.0'""",1,1
openstack%2Frequirements~master~I26083a12cd1bc8dadfc518128d7b5bdb8246c508,openstack/requirements,master,I26083a12cd1bc8dadfc518128d7b5bdb8246c508,update constraint for tripleo-common to new release 14.0.0,MERGED,2021-01-28 11:10:46.000000000,2021-01-29 03:59:33.000000000,2021-01-29 03:57:29.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-28 11:10:46.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/80498c84d0a270634f41673134213de3fa2327df', 'message': 'update constraint for tripleo-common to new release 14.0.0\n\nmeta: version: 14.0.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: I42b1e3cfa9e22e1a6c483c6c4c96a97a8957872b\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I26083a12cd1bc8dadfc518128d7b5bdb8246c508\n'}]",0,772860,80498c84d0a270634f41673134213de3fa2327df,12,3,1,11131,,,0,"update constraint for tripleo-common to new release 14.0.0

meta: version: 14.0.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I42b1e3cfa9e22e1a6c483c6c4c96a97a8957872b
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I26083a12cd1bc8dadfc518128d7b5bdb8246c508
",git fetch https://review.opendev.org/openstack/requirements refs/changes/60/772860/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,80498c84d0a270634f41673134213de3fa2327df,new-release,tripleo-common===14.0.0,tripleo-common===13.1.0,1,1
openstack%2Frequirements~master~I0e45713dbaacec12e67a1950b240889710c12913,openstack/requirements,master,I0e45713dbaacec12e67a1950b240889710c12913,update constraint for os-refresh-config to new release 13.0.0,MERGED,2021-01-28 11:12:14.000000000,2021-01-29 03:58:34.000000000,2021-01-29 03:57:25.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-28 11:12:14.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6dd2eab30cdc4036ca614cb64b2205655017a524', 'message': 'update constraint for os-refresh-config to new release 13.0.0\n\nmeta: version: 13.0.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: I42b1e3cfa9e22e1a6c483c6c4c96a97a8957872b\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I0e45713dbaacec12e67a1950b240889710c12913\n'}]",0,772861,6dd2eab30cdc4036ca614cb64b2205655017a524,12,3,1,11131,,,0,"update constraint for os-refresh-config to new release 13.0.0

meta: version: 13.0.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I42b1e3cfa9e22e1a6c483c6c4c96a97a8957872b
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I0e45713dbaacec12e67a1950b240889710c12913
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/772861/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6dd2eab30cdc4036ca614cb64b2205655017a524,new-release,os-refresh-config===13.0.0,os-refresh-config===12.0.0,1,1
openstack%2Fironic-python-agent~master~I9fc55c068ea980beae273411db9d3568eec25eb8,openstack/ironic-python-agent,master,I9fc55c068ea980beae273411db9d3568eec25eb8,Fix UEFI boot entry creation for aarch64,MERGED,2021-01-27 03:14:35.000000000,2021-01-29 02:48:53.000000000,2021-01-29 02:47:15.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 24828}]","[{'number': 1, 'created': '2021-01-27 03:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/463d2944e91cde1369cc728d641b46b40263247b', 'message': 'Fix UEFI boot entry creation for aarch64\n\nDiskimage-builder installs grub with option ""--removable""[1],\nthus for aarch64 no ``grubaa64.efi`` file in efi directory only got\n``BOOTAA64.EFI``:\nlinaro@bm-ubuntu:~$ tree /boot/efi\n/boot/efi\n└── EFI\n    └── BOOT\n        └── BOOTAA64.EFI\n\n2 directories, 1 file\n\n[1]: https://github.com/openstack/diskimage-builder/blob/8f12d9530ed79359fb988688caadfa6dc318f7a5/diskimage_builder/elements/bootloader/finalise.d/50-bootloader#L158\n\nTask: #41698\nStory: #2008560\nChange-Id: I9fc55c068ea980beae273411db9d3568eec25eb8\n'}, {'number': 2, 'created': '2021-01-27 03:38:14.000000000', 'files': ['releasenotes/notes/fix-uefi-boot-entry-creation-for-aarch64-2b143c5bf189c2f6.yaml', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/68a43b9da81b550441da840cb548c5b8fd9ee5dd', 'message': ""Fix UEFI boot entry creation for aarch64\n\nDiskimage-builder installs grub with option '--removable'[1], thus for\naarch64 no 'grubaa64.efi' file in efi directory only got 'BOOTAA64.EFI':\nlinaro@bm-ubuntu:~$ tree /boot/efi\n/boot/efi\n└── EFI\n    └── BOOT\n        └── BOOTAA64.EFI\n\n2 directories, 1 file\n\n[1]: https://github.com/openstack/diskimage-builder/blob/8f12d9530ed79359fb988688caadfa6dc318f7a5/diskimage_builder/elements/bootloader/finalise.d/50-bootloader#L158\n\nTask: #41698\nStory: #2008560\nChange-Id: I9fc55c068ea980beae273411db9d3568eec25eb8\n""}]",0,772620,68a43b9da81b550441da840cb548c5b8fd9ee5dd,13,6,2,22997,,,0,"Fix UEFI boot entry creation for aarch64

Diskimage-builder installs grub with option '--removable'[1], thus for
aarch64 no 'grubaa64.efi' file in efi directory only got 'BOOTAA64.EFI':
linaro@bm-ubuntu:~$ tree /boot/efi
/boot/efi
└── EFI
    └── BOOT
        └── BOOTAA64.EFI

2 directories, 1 file

[1]: https://github.com/openstack/diskimage-builder/blob/8f12d9530ed79359fb988688caadfa6dc318f7a5/diskimage_builder/elements/bootloader/finalise.d/50-bootloader#L158

Task: #41698
Story: #2008560
Change-Id: I9fc55c068ea980beae273411db9d3568eec25eb8
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/20/772620/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-uefi-boot-entry-creation-for-aarch64-2b143c5bf189c2f6.yaml', 'ironic_python_agent/extensions/image.py']",2,463d2944e91cde1369cc728d641b46b40263247b,story/2008560,"BOOTLOADERS_EFI = ['bootaa64.efi', 'bootx64.efi', 'grubaa64.efi', 'winload.efi']","BOOTLOADERS_EFI = ['bootx64.efi', 'grubaa64.efi', 'winload.efi']",6,1
openstack%2Fpython-cinderclient~master~I260e244695fe79d909e0f7973a3506d380947e1f,openstack/python-cinderclient,master,I260e244695fe79d909e0f7973a3506d380947e1f,remove py37,ABANDONED,2021-01-03 08:24:31.000000000,2021-01-29 02:45:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-03 08:24:31.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/1b20358c6c092109715ac63cc64685f8efe74ac2', 'message': ""remove py37\n\nRemove python3.7 from setup.cfg, since Wallaby's python\nsupported runtimes are python 3.6 and python 3.8[1]:\n\n[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html\n\nChange-Id: I260e244695fe79d909e0f7973a3506d380947e1f\n""}]",0,769023,1b20358c6c092109715ac63cc64685f8efe74ac2,5,1,1,31825,,,0,"remove py37

Remove python3.7 from setup.cfg, since Wallaby's python
supported runtimes are python 3.6 and python 3.8[1]:

[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html

Change-Id: I260e244695fe79d909e0f7973a3506d380947e1f
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/23/769023/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1b20358c6c092109715ac63cc64685f8efe74ac2,,, Programming Language :: Python :: 3.7,0,1
openstack%2Fpython-watcherclient~master~I99fbed97b596ae2463c51cd497b5fcba74b1d0d0,openstack/python-watcherclient,master,I99fbed97b596ae2463c51cd497b5fcba74b1d0d0,remove py37,ABANDONED,2021-01-04 02:21:28.000000000,2021-01-29 02:45:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-04 02:21:28.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/22d6c5a92a851044feb5b8a262e02249ede186e4', 'message': ""remove py37\n\nRemove python3.7 from setup.cfg, since Wallaby's python\nsupported runtimes are python 3.6 and python 3.8[1]:\n\n[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html\n\nChange-Id: I99fbed97b596ae2463c51cd497b5fcba74b1d0d0\n""}]",0,769075,22d6c5a92a851044feb5b8a262e02249ede186e4,3,1,1,31825,,,0,"remove py37

Remove python3.7 from setup.cfg, since Wallaby's python
supported runtimes are python 3.6 and python 3.8[1]:

[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html

Change-Id: I99fbed97b596ae2463c51cd497b5fcba74b1d0d0
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/75/769075/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,22d6c5a92a851044feb5b8a262e02249ede186e4,,, Programming Language :: Python :: 3.7,0,1
openstack%2Fwatcher~master~I6e68a4dff0d1ed8643ec2a899e3d2c27727143f1,openstack/watcher,master,I6e68a4dff0d1ed8643ec2a899e3d2c27727143f1,remove py37,ABANDONED,2021-01-04 02:34:43.000000000,2021-01-29 02:45:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-04 02:34:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/watcher/commit/47be2644ea69626b82d08ccd7bc9a3c69fda5f45', 'message': ""remove py37\n\nRemove python3.7 from setup.cfg, since Wallaby's python\nsupported runtimes are python 3.6 and python 3.8[1]:\n\n[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html\n\nChange-Id: I6e68a4dff0d1ed8643ec2a899e3d2c27727143f1\n""}]",0,769079,47be2644ea69626b82d08ccd7bc9a3c69fda5f45,3,1,1,31825,,,0,"remove py37

Remove python3.7 from setup.cfg, since Wallaby's python
supported runtimes are python 3.6 and python 3.8[1]:

[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html

Change-Id: I6e68a4dff0d1ed8643ec2a899e3d2c27727143f1
",git fetch https://review.opendev.org/openstack/watcher refs/changes/79/769079/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,47be2644ea69626b82d08ccd7bc9a3c69fda5f45,,, Programming Language :: Python :: 3.7,0,1
openstack%2Foctavia~master~I2f64a44c566f138c58ea4be53b1ff90a52012950,openstack/octavia,master,I2f64a44c566f138c58ea4be53b1ff90a52012950,Install HAProxy 2.x in CentOS amphora images,MERGED,2020-07-31 08:35:32.000000000,2021-01-29 02:43:06.000000000,2021-01-29 02:41:30.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 16312}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-07-31 08:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/755b5d5473aff7c2c7c2e7eb21686caee1ef9c40', 'message': 'Add Copr cgoncalves/haproxy repo for CentOS amps\n\nThis repository provides HAProxy 2.2 for CentOS 8 and CentOS 8 Stream.\n\nChange-Id: I2f64a44c566f138c58ea4be53b1ff90a52012950\n'}, {'number': 2, 'created': '2020-07-31 10:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b8ece9647503e0bd80001c37f736479e8db1a0cf', 'message': 'Add Copr cgoncalves/haproxy repo for CentOS amps\n\nThis repository provides HAProxy 2.2 for CentOS 8 and CentOS 8 Stream.\n\nChange-Id: I2f64a44c566f138c58ea4be53b1ff90a52012950\n'}, {'number': 3, 'created': '2020-07-31 12:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1e206bd95ee937b5106532d8c5831e1c6d4c756d', 'message': 'Add Copr cgoncalves/haproxy repo for CentOS amps\n\nThis repository provides HAProxy 2.2 for CentOS 8 and CentOS 8 Stream.\n\nChange-Id: I2f64a44c566f138c58ea4be53b1ff90a52012950\n'}, {'number': 4, 'created': '2020-08-03 15:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/01a07afa1f069873f1f3eacec0691a458a96c5f4', 'message': 'Add Copr cgoncalves/haproxy repo for CentOS amps\n\nThis repository provides HAProxy 2.2 for CentOS 8 and CentOS 8 Stream.\n\nChange-Id: I2f64a44c566f138c58ea4be53b1ff90a52012950\n'}, {'number': 5, 'created': '2020-08-05 13:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/15638c2749b51b4d3bc2725abc175d25be733272', 'message': 'Add Copr cgoncalves/haproxy repo for CentOS amps\n\nThis repository provides HAProxy 2.2 for CentOS 8 and CentOS 8 Stream.\n\nChange-Id: I2f64a44c566f138c58ea4be53b1ff90a52012950\n'}, {'number': 6, 'created': '2020-08-10 09:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/354ed9a38bdd9a2772f0c8cc7b2bedacaca2897e', 'message': 'Add Copr cgoncalves/haproxy repo for CentOS amps\n\nThis repository provides HAProxy 2.2 for CentOS 8 and CentOS 8 Stream.\n\nChange-Id: I2f64a44c566f138c58ea4be53b1ff90a52012950\n'}, {'number': 7, 'created': '2020-09-14 09:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/db8ab5d69b5955dd5eb8b08a44340d56f565d11c', 'message': 'Install HAProxy 2.x in CentOS amphora images\n\nThe CentOS NFV SIG [1] maintains a RPM repository with extra and newer\npackages. This includes HAProxy 2.2 as of this time of writing.\n\n[1] https://wiki.centos.org/SpecialInterestGroup/NFV\n\nChange-Id: I2f64a44c566f138c58ea4be53b1ff90a52012950\n'}, {'number': 8, 'created': '2020-09-14 14:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/370d10e03721bcec612a24521f36580313f61ff7', 'message': 'Install HAProxy 2.x in CentOS amphora images\n\nThe CentOS NFV SIG [1] maintains a RPM repository with extra and newer\npackages. This includes HAProxy 2.2 as of this time of writing.\n\n[1] https://wiki.centos.org/SpecialInterestGroup/NFV\n\nChange-Id: I2f64a44c566f138c58ea4be53b1ff90a52012950\n'}, {'number': 9, 'created': '2020-09-14 17:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4f4c367d7721bcdc684086625c783300a0d3e033', 'message': 'Install HAProxy 2.x in CentOS amphora images\n\nThe CentOS NFV SIG [1] maintains a RPM repository with extra and newer\npackages. This includes HAProxy 2.2 as of this time of writing.\n\n[1] https://wiki.centos.org/SpecialInterestGroup/NFV\n\nChange-Id: I2f64a44c566f138c58ea4be53b1ff90a52012950\n'}, {'number': 10, 'created': '2020-09-23 12:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a2b7fd4da5d9a81c7a78fe83782058e7f78ae5b3', 'message': 'Install HAProxy 2.x in CentOS amphora images\n\nThe CentOS NFV SIG [1] maintains a RPM repository with extra and newer\npackages. This includes HAProxy 2.2 as of this time of writing.\n\n[1] https://wiki.centos.org/SpecialInterestGroup/NFV\n\nChange-Id: I2f64a44c566f138c58ea4be53b1ff90a52012950\n'}, {'number': 11, 'created': '2020-11-18 16:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0d45dab139f6cf4a657609521ef5e16e7dcea3a7', 'message': 'Install HAProxy 2.x in CentOS amphora images\n\nThe CentOS NFV SIG [1] maintains a RPM repository with extra and newer\npackages. This includes HAProxy 2.2 as of this time of writing.\n\n[1] https://wiki.centos.org/SpecialInterestGroup/NFV\n\nChange-Id: I2f64a44c566f138c58ea4be53b1ff90a52012950\n'}, {'number': 12, 'created': '2021-01-28 22:14:52.000000000', 'files': ['elements/haproxy-octavia/pre-install.d/01-repositories', 'releasenotes/notes/add-haproxy2-centos-063beb304409d141.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/3730d27232b2aa98eea7636f68a2f8d6e904ea77', 'message': 'Install HAProxy 2.x in CentOS amphora images\n\nThe CentOS NFV SIG [1] maintains a RPM repository with extra and newer\npackages. This includes HAProxy 2.2 as of this time of writing.\n\n[1] https://wiki.centos.org/SpecialInterestGroup/NFV\n\nChange-Id: I2f64a44c566f138c58ea4be53b1ff90a52012950\n'}]",6,744102,3730d27232b2aa98eea7636f68a2f8d6e904ea77,55,9,12,6469,,,0,"Install HAProxy 2.x in CentOS amphora images

The CentOS NFV SIG [1] maintains a RPM repository with extra and newer
packages. This includes HAProxy 2.2 as of this time of writing.

[1] https://wiki.centos.org/SpecialInterestGroup/NFV

Change-Id: I2f64a44c566f138c58ea4be53b1ff90a52012950
",git fetch https://review.opendev.org/openstack/octavia refs/changes/02/744102/3 && git format-patch -1 --stdout FETCH_HEAD,"['elements/haproxy-octavia/pre-install.d/01-repositories', 'releasenotes/notes/add-haproxy2-centos-063beb304409d141.yaml']",2,755b5d5473aff7c2c7c2e7eb21686caee1ef9c40,http2,"--- features: - | CentOS-based amphora images will now install HAProxy version 2.2. Other supported distributions (Ubuntu Bionic, RHEL 8) remain untouched. ",,14,0
openstack%2Fproject-config~master~I44e1c5e2ff06a6fd6aeb0215caf52a5cdaeb1dfa,openstack/project-config,master,I44e1c5e2ff06a6fd6aeb0215caf52a5cdaeb1dfa,Add official-openstack-repo-jobs for openstack/glance-tempest-plugin,MERGED,2021-01-22 09:39:36.000000000,2021-01-29 02:15:10.000000000,2021-01-29 02:15:10.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-22 09:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/076c3ed614a478a15b27776ef4a5098f5debe4ab', 'message': 'Add official-openstack-repo-jobs for openstack/glance-tempest-plugin\n\nNow that the repo openstack/glance-tempest-plugin has been imported,\nadding the official-openstack-repo-jobs template.\n\nChange-Id: I44e1c5e2ff06a6fd6aeb0215caf52a5cdaeb1dfa\n'}, {'number': 2, 'created': '2021-01-27 10:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fa4433f385d9ccc9da1f01de11fd36cd6a2a5181', 'message': 'Add official-openstack-repo-jobs for openstack/glance-tempest-plugin\n\nNow that the repo openstack/glance-tempest-plugin has been imported,\nadding the official-openstack-repo-jobs template.\n\nChange-Id: I44e1c5e2ff06a6fd6aeb0215caf52a5cdaeb1dfa\n'}, {'number': 3, 'created': '2021-01-27 10:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9f229a60fe6e11df951771e499324db6afec307c', 'message': 'Add official-openstack-repo-jobs for openstack/glance-tempest-plugin\n\nNow that the repo openstack/glance-tempest-plugin has been imported,\nadding the official-openstack-repo-jobs template.\n\nChange-Id: I44e1c5e2ff06a6fd6aeb0215caf52a5cdaeb1dfa\n'}, {'number': 4, 'created': '2021-01-27 10:36:00.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8265c32de520864ca5c32739843f7f96971a5be4', 'message': 'Add official-openstack-repo-jobs for openstack/glance-tempest-plugin\n\nNow that the repo openstack/glance-tempest-plugin has been imported,\nadding the official-openstack-repo-jobs template.\n\nChange-Id: I44e1c5e2ff06a6fd6aeb0215caf52a5cdaeb1dfa\n'}]",2,771954,8265c32de520864ca5c32739843f7f96971a5be4,15,4,4,19138,,,0,"Add official-openstack-repo-jobs for openstack/glance-tempest-plugin

Now that the repo openstack/glance-tempest-plugin has been imported,
adding the official-openstack-repo-jobs template.

Change-Id: I44e1c5e2ff06a6fd6aeb0215caf52a5cdaeb1dfa
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/771954/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,076c3ed614a478a15b27776ef4a5098f5debe4ab,glance-tempest-plugin, name: openstack/glance-tempest-plugin templates: - official-openstack-repo-jobs - project:,,5,0
openstack%2Ftacker~master~I808eedc1c799b45825f8770070e9cbe64a370c81,openstack/tacker,master,I808eedc1c799b45825f8770070e9cbe64a370c81,Replace deprecated UPPER_CONSTRAINTS_FILE variable,ABANDONED,2021-01-29 01:42:04.000000000,2021-01-29 01:42:46.000000000,,[{'_account_id': 26285}],"[{'number': 1, 'created': '2021-01-29 01:42:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker/commit/b1921f9e62282fd52886b5cbc8ac854f4f76e2f0', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated, refer [1].\n\nThis allows to use lower-constraints file as more readable way\ninstead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nChange-Id: Ia3ffea39c995978babaafc9aa5a463e5f3eda1c0\n\nChange-Id: I808eedc1c799b45825f8770070e9cbe64a370c81\n'}]",0,772964,b1921f9e62282fd52886b5cbc8ac854f4f76e2f0,2,1,1,32102,,,0,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

UPPER_CONSTRAINTS_FILE is old name and deprecated, refer [1].

This allows to use lower-constraints file as more readable way
instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
Change-Id: Ia3ffea39c995978babaafc9aa5a463e5f3eda1c0

Change-Id: I808eedc1c799b45825f8770070e9cbe64a370c81
",git fetch https://review.opendev.org/openstack/tacker refs/changes/64/772964/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b1921f9e62282fd52886b5cbc8ac854f4f76e2f0,change-764456-2,# * `TOX_CONSTRAINTS_FILE` in setenv TOX_CONSTRAINTS_FILE={toxinidir}/upper-constraints.txt passenv = TOX_CONSTRAINTS_FILE -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} TOX_CONSTRAINTS_FILE={toxinidir}/upper-constraints.txt,# * `UPPER_CONSTRAINTS_FILE` in setenv UPPER_CONSTRAINTS_FILE={toxinidir}/upper-constraints.txt passenv = UPPER_CONSTRAINTS_FILE -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} UPPER_CONSTRAINTS_FILE={toxinidir}/upper-constraints.txt,5,5
openstack%2Ftacker~master~I0c11fdff6f95edf1914b41666cc8d7437c8a4f72,openstack/tacker,master,I0c11fdff6f95edf1914b41666cc8d7437c8a4f72,Replace deprecated UPPER_CONSTRAINTS_FILE variable,ABANDONED,2021-01-29 01:01:46.000000000,2021-01-29 01:28:42.000000000,,[],"[{'number': 1, 'created': '2021-01-29 01:01:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker/commit/cd0c7bb3fcb2227d4254b181cc839edf0b0d9e9c', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nChange-Id: Ia3ffea39c995978babaafc9aa5a463e5f3eda1c0\n\nChange-Id: I0c11fdff6f95edf1914b41666cc8d7437c8a4f72\n'}]",0,772963,cd0c7bb3fcb2227d4254b181cc839edf0b0d9e9c,5,0,1,32102,,,0,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
Change-Id: Ia3ffea39c995978babaafc9aa5a463e5f3eda1c0

Change-Id: I0c11fdff6f95edf1914b41666cc8d7437c8a4f72
",git fetch https://review.opendev.org/openstack/tacker refs/changes/63/772963/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cd0c7bb3fcb2227d4254b181cc839edf0b0d9e9c,tox_constraints_file,# * `TOX_CONSTRAINTS_FILE` in setenv TOX_CONSTRAINTS_FILE={toxinidir}/upper-constraints.txt passenv = TOX_CONSTRAINTS_FILE -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} TOX_CONSTRAINTS_FILE={toxinidir}/upper-constraints.txt,# * `UPPER_CONSTRAINTS_FILE` in setenv UPPER_CONSTRAINTS_FILE={toxinidir}/upper-constraints.txt passenv = UPPER_CONSTRAINTS_FILE -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} UPPER_CONSTRAINTS_FILE={toxinidir}/upper-constraints.txt,5,5
openstack%2Fswift~master~I561ca419104bfb4b64affc477aac53a2fb98137b,openstack/swift,master,I561ca419104bfb4b64affc477aac53a2fb98137b,Update Memcached Considerations docs,MERGED,2021-01-28 19:51:12.000000000,2021-01-29 01:22:10.000000000,2021-01-29 01:20:21.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-28 19:51:12.000000000', 'files': ['doc/source/deployment_guide.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/1746672e91ee03cdc4ca935acbda3fc26b0c49a4', 'message': 'Update Memcached Considerations docs\n\nChange-Id: I561ca419104bfb4b64affc477aac53a2fb98137b\n'}]",0,772938,1746672e91ee03cdc4ca935acbda3fc26b0c49a4,8,2,1,1179,,,0,"Update Memcached Considerations docs

Change-Id: I561ca419104bfb4b64affc477aac53a2fb98137b
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/772938/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/deployment_guide.rst'],1,1746672e91ee03cdc4ca935acbda3fc26b0c49a4,memcache-warning-doc,size of 1MB can be reached. If you over-run your max configured memcache size you'll see messages like:: Error setting value in memcached: 127.0.0.1:11211: SERVER_ERROR object too large for cache When you see these messages your root containers are getting hammered and probably returning 503 reponses to clients. Override the default 1MB limit to 5MB with something like:: /usr/bin/memcached -I 5000000 ...,size of 1MB can be reached. Care is needed to keep an eye on the current value or resize it to something like 5MB.,11,2
openstack%2Frequirements~stable%2Fussuri~Ic1017de2717818161b68a3e9a0f607710a4e8b5b,openstack/requirements,stable/ussuri,Ic1017de2717818161b68a3e9a0f607710a4e8b5b,update constraint for paunch to new release 7.0.3,MERGED,2021-01-28 16:25:13.000000000,2021-01-29 01:20:06.000000000,2021-01-29 01:20:06.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-28 16:25:13.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e1077be44a8512091f6426f19117bb62c03c1204', 'message': 'update constraint for paunch to new release 7.0.3\n\nmeta: version: 7.0.3\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: Id460b7656e9c4e9e00ed19f3bcf35411f668a74e\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ic1017de2717818161b68a3e9a0f607710a4e8b5b\n'}]",0,772909,e1077be44a8512091f6426f19117bb62c03c1204,7,3,1,11131,,,0,"update constraint for paunch to new release 7.0.3

meta: version: 7.0.3
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: Id460b7656e9c4e9e00ed19f3bcf35411f668a74e
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ic1017de2717818161b68a3e9a0f607710a4e8b5b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/09/772909/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e1077be44a8512091f6426f19117bb62c03c1204,new-release,paunch===7.0.3,paunch===7.0.2,1,1
openstack%2Frequirements~stable%2Fvictoria~Icda987f4102cfc323e4c7c5be5b0f7879730f24e,openstack/requirements,stable/victoria,Icda987f4102cfc323e4c7c5be5b0f7879730f24e,update constraint for sushy to new release 3.4.2,MERGED,2021-01-28 16:25:35.000000000,2021-01-29 01:20:01.000000000,2021-01-29 01:20:01.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-28 16:25:35.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e4677259d3e666955de7994df8a78b4c05d24822', 'message': 'update constraint for sushy to new release 3.4.2\n\nmeta: version: 3.4.2\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Commit: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Change-Id: I73aa0f8d4fdd545119e86afd2cbd2d7455576599\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Icda987f4102cfc323e4c7c5be5b0f7879730f24e\n'}]",0,772910,e4677259d3e666955de7994df8a78b4c05d24822,8,3,1,11131,,,0,"update constraint for sushy to new release 3.4.2

meta: version: 3.4.2
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Commit: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Change-Id: I73aa0f8d4fdd545119e86afd2cbd2d7455576599
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
Change-Id: Icda987f4102cfc323e4c7c5be5b0f7879730f24e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/10/772910/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e4677259d3e666955de7994df8a78b4c05d24822,new-release,sushy===3.4.2,sushy===3.4.1,1,1
openstack%2Frequirements~stable%2Fussuri~Ica96207e986e573a1590236c63b17681f1cdb3e7,openstack/requirements,stable/ussuri,Ica96207e986e573a1590236c63b17681f1cdb3e7,update constraint for os-apply-config to new release 11.2.2,MERGED,2021-01-28 16:26:02.000000000,2021-01-29 01:19:47.000000000,2021-01-29 01:19:47.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-28 16:26:02.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c94840a169064821a06d8d73887e370111d7bb3d', 'message': 'update constraint for os-apply-config to new release 11.2.2\n\nmeta: version: 11.2.2\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: Id460b7656e9c4e9e00ed19f3bcf35411f668a74e\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ica96207e986e573a1590236c63b17681f1cdb3e7\n'}]",0,772911,c94840a169064821a06d8d73887e370111d7bb3d,7,3,1,11131,,,0,"update constraint for os-apply-config to new release 11.2.2

meta: version: 11.2.2
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: Id460b7656e9c4e9e00ed19f3bcf35411f668a74e
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ica96207e986e573a1590236c63b17681f1cdb3e7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/11/772911/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c94840a169064821a06d8d73887e370111d7bb3d,new-release,os-apply-config===11.2.2,os-apply-config===11.2.1,1,1
openstack%2Fnova~stable%2Fqueens~I32908b77c18f8ec08211dd67be49bbf903611c34,openstack/nova,stable/queens,I32908b77c18f8ec08211dd67be49bbf903611c34,libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0,MERGED,2020-08-21 08:55:16.000000000,2021-01-29 01:19:36.000000000,2021-01-29 01:19:36.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-21 08:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32c90501b3a260c66333ddca729e5b6b9fb81d90', 'message': 'libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0\n\nI7eb86edc130d186a66c04b229d46347ec5c0b625 introduced\nVIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list\nwithin detach_device_with_retry. While the change correctly referenced\nthat the error code was introduced in v4.1.0 it made no attempt to\nhandle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned\nto v4.0.0 we need to handle libvirt < v4.1.0 to avoid referencing the\nnon-existent error code within the libvirt module.\n\nCloses-Bug: #1891547\nChange-Id: I32908b77c18f8ec08211dd67be49bbf903611c34\n(cherry picked from commit bc96af565937072c04dea31781d86d2073b77ed4)\n(cherry picked from commit 3f3b889f4e7e204a140d32d71201c4f23dd54c24)\n(cherry picked from commit c61f4c8e20d712ba84a8965cbe0cba90c7d27d0b)\n(cherry picked from commit 1c47567975fc968083c17219eef4c83369c7bd3b)\n(cherry picked from commit 389afa1ba2598edafc2ace0579d84d1a5b21e807)\n'}, {'number': 2, 'created': '2021-01-21 19:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1abe49ff8027a19a62d7e95369b8495a0d9ebf21', 'message': 'libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0\n\nI7eb86edc130d186a66c04b229d46347ec5c0b625 introduced\nVIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list\nwithin detach_device_with_retry. While the change correctly referenced\nthat the error code was introduced in v4.1.0 it made no attempt to\nhandle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned\nto v4.0.0 we need to handle libvirt < v4.1.0 to avoid referencing the\nnon-existent error code within the libvirt module.\n\nCloses-Bug: #1891547\nChange-Id: I32908b77c18f8ec08211dd67be49bbf903611c34\n(cherry picked from commit bc96af565937072c04dea31781d86d2073b77ed4)\n(cherry picked from commit 3f3b889f4e7e204a140d32d71201c4f23dd54c24)\n(cherry picked from commit c61f4c8e20d712ba84a8965cbe0cba90c7d27d0b)\n(cherry picked from commit 1c47567975fc968083c17219eef4c83369c7bd3b)\n(cherry picked from commit 389afa1ba2598edafc2ace0579d84d1a5b21e807)\n'}, {'number': 3, 'created': '2021-01-21 19:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/196f6321dd131c94572d49adeca504fe2156fa7e', 'message': 'libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0\n\nI7eb86edc130d186a66c04b229d46347ec5c0b625 introduced\nVIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list\nwithin detach_device_with_retry. While the change correctly referenced\nthat the error code was introduced in v4.1.0 it made no attempt to\nhandle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned\nto v4.0.0 we need to handle libvirt < v4.1.0 to avoid referencing the\nnon-existent error code within the libvirt module.\n\nCloses-Bug: #1891547\nChange-Id: I32908b77c18f8ec08211dd67be49bbf903611c34\n(cherry picked from commit bc96af565937072c04dea31781d86d2073b77ed4)\n(cherry picked from commit 3f3b889f4e7e204a140d32d71201c4f23dd54c24)\n(cherry picked from commit c61f4c8e20d712ba84a8965cbe0cba90c7d27d0b)\n(cherry picked from commit 1c47567975fc968083c17219eef4c83369c7bd3b)\n(cherry picked from commit 389afa1ba2598edafc2ace0579d84d1a5b21e807)\n'}, {'number': 4, 'created': '2021-01-22 13:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb8acd5d1aeaf622282a4eceda45aac183bebd71', 'message': 'libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0\n\nI7eb86edc130d186a66c04b229d46347ec5c0b625 introduced\nVIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list\nwithin detach_device_with_retry. While the change correctly referenced\nthat the error code was introduced in v4.1.0 it made no attempt to\nhandle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned\nto v4.0.0 we need to handle libvirt < v4.1.0 to avoid referencing the\nnon-existent error code within the libvirt module.\n\nNOTE(lyarwood): Conflict as Ia3f1d8e83cbc574ce5cb440032e12bbcb1e10e98\nlanded ahead of this change in stable/rocky while it was behind it on\nstable/stein.\n\nConflicts:\n    nova/virt/libvirt/driver.py\n\nCloses-Bug: #1891547\nChange-Id: I32908b77c18f8ec08211dd67be49bbf903611c34\n(cherry picked from commit bc96af565937072c04dea31781d86d2073b77ed4)\n(cherry picked from commit 3f3b889f4e7e204a140d32d71201c4f23dd54c24)\n(cherry picked from commit c61f4c8e20d712ba84a8965cbe0cba90c7d27d0b)\n(cherry picked from commit 334a479ae2f4ce3d48dcc4c1b9e14d0cb9822272)\n(cherry picked from commit 9c885b67a9e6c30570084f1f78218defa0278d83)\n'}, {'number': 5, 'created': '2021-01-22 13:06:53.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/944443a7b053957f0b17a5edaa1d0ef14ae48f30', 'message': 'libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0\n\nI7eb86edc130d186a66c04b229d46347ec5c0b625 introduced\nVIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list\nwithin detach_device_with_retry. While the change correctly referenced\nthat the error code was introduced in v4.1.0 it made no attempt to\nhandle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned\nto v4.0.0 we need to handle libvirt < v4.1.0 to avoid referencing the\nnon-existent error code within the libvirt module.\n\nCloses-Bug: #1891547\nChange-Id: I32908b77c18f8ec08211dd67be49bbf903611c34\n(cherry picked from commit bc96af565937072c04dea31781d86d2073b77ed4)\n(cherry picked from commit 3f3b889f4e7e204a140d32d71201c4f23dd54c24)\n(cherry picked from commit c61f4c8e20d712ba84a8965cbe0cba90c7d27d0b)\n(cherry picked from commit 334a479ae2f4ce3d48dcc4c1b9e14d0cb9822272)\n(cherry picked from commit 9c885b67a9e6c30570084f1f78218defa0278d83)\n'}]",1,747362,944443a7b053957f0b17a5edaa1d0ef14ae48f30,54,6,5,10135,,,0,"libvirt: Do not reference VIR_ERR_DEVICE_MISSING when libvirt is < v4.1.0

I7eb86edc130d186a66c04b229d46347ec5c0b625 introduced
VIR_ERR_DEVICE_MISSING into the hot unplug libvirt error code list
within detach_device_with_retry. While the change correctly referenced
that the error code was introduced in v4.1.0 it made no attempt to
handle versions prior to this. With MIN_LIBVIRT_VERSION currently pinned
to v4.0.0 we need to handle libvirt < v4.1.0 to avoid referencing the
non-existent error code within the libvirt module.

Closes-Bug: #1891547
Change-Id: I32908b77c18f8ec08211dd67be49bbf903611c34
(cherry picked from commit bc96af565937072c04dea31781d86d2073b77ed4)
(cherry picked from commit 3f3b889f4e7e204a140d32d71201c4f23dd54c24)
(cherry picked from commit c61f4c8e20d712ba84a8965cbe0cba90c7d27d0b)
(cherry picked from commit 334a479ae2f4ce3d48dcc4c1b9e14d0cb9822272)
(cherry picked from commit 9c885b67a9e6c30570084f1f78218defa0278d83)
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/747362/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,32c90501b3a260c66333ddca729e5b6b9fb81d90,bug/1887946," @mock.patch('nova.virt.libvirt.host.Host.get_guest') @mock.patch.object(fakelibvirt.Connection, 'getLibVersion') @mock.patch( 'nova.virt.libvirt.driver.LibvirtDriver._disconnect_volume', new=mock.Mock()) def test_detach_volume_supports_device_missing( self, mock_get_version, mock_get_guest): """"""Assert that VIR_ERR_DEVICE_MISSING is only used if libvirt >= v4.1.0 """""" mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.get_power_state.return_value = power_state.RUNNING mock_get_guest.return_value = mock_guest v4_0_0 = versionutils.convert_version_to_int((4, 0, 0)) mock_get_version.return_value = v4_0_0 mountpoint = ""/dev/foo"" expected_disk_dev = ""foo"" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr.detach_volume( self.context, mock.sentinel.connection_info, mock.sentinel.instance, mountpoint) # Assert supports_device_missing_error_code=False is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_disk, expected_disk_dev, live=True, supports_device_missing_error_code=False) # reset and try again with v4.1.0 mock_guest.reset_mock() mock_get_version.reset_mock() v4_1_0 = versionutils.convert_version_to_int((4, 1, 0)) mock_get_version.return_value = v4_1_0 drvr.detach_volume( self.context, mock.sentinel.connection_info, mock.sentinel.instance, mountpoint) # Assert supports_device_missing_error_code=True is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_disk, expected_disk_dev, live=True, supports_device_missing_error_code=True) @mock.patch('nova.virt.libvirt.host.Host.get_guest') @mock.patch.object(fakelibvirt.Connection, 'getLibVersion') def test_detach_interface_supports_device_missing( self, mock_get_version, mock_get_guest): """"""Assert that VIR_ERR_DEVICE_MISSING is only used if libvirt >= v4.1.0 """""" mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.get_power_state.return_value = power_state.RUNNING mock_get_guest.return_value = mock_guest v4_0_0 = versionutils.convert_version_to_int((4, 0, 0)) mock_get_version.return_value = v4_0_0 instance = objects.Instance(**self.test_instance) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) with mock.patch.object(drvr, 'vif_driver') as mock_vif_driver: mock_vif_driver.get_config.return_value = mock.sentinel.cfg mock_vif_driver.get_vif_devname.return_value = mock.sentinel.dev drvr.detach_interface( self.context, instance, mock.sentinel.vif) # Assert supports_device_missing_error_code=False is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_interface_by_cfg, mock.sentinel.cfg, live=True, alternative_device_name=mock.sentinel.dev, supports_device_missing_error_code=False) # reset and try again with v4.1.0 mock_guest.reset_mock() mock_get_version.reset_mock() v4_1_0 = versionutils.convert_version_to_int((4, 1, 0)) mock_get_version.return_value = v4_1_0 drvr.detach_interface( self.context, instance, mock.sentinel.vif) # Assert supports_device_missing_error_code=True is used mock_guest.detach_device_with_retry.assert_called_once_with( mock_guest.get_interface_by_cfg, mock.sentinel.cfg, live=True, alternative_device_name=mock.sentinel.dev, supports_device_missing_error_code=True) ",,141,21
openstack%2Foctavia~master~If403a90ec27721ef63b6ae666fd77dfc9df0295e,openstack/octavia,master,If403a90ec27721ef63b6ae666fd77dfc9df0295e,Fix PROXYV2 pools,MERGED,2020-10-09 00:11:49.000000000,2021-01-29 01:15:43.000000000,2021-01-29 01:13:46.000000000,"[{'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-09 00:11:49.000000000', 'files': ['octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'releasenotes/notes/fix-proxyv2-44a7627294922a8e.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4024536621616c6df88686d80694b48dec612010', 'message': 'Fix PROXYV2 pools\n\nThere was a bug in the initial PROXYV2 patch that causes pools to\ngo into ERROR when using PROXYV2 protocol.\nThis patch corrects that issue.\n\nChange-Id: If403a90ec27721ef63b6ae666fd77dfc9df0295e\nStory: 2008237\nTask: 41080\n'}]",3,756934,4024536621616c6df88686d80694b48dec612010,14,4,1,11628,,,0,"Fix PROXYV2 pools

There was a bug in the initial PROXYV2 patch that causes pools to
go into ERROR when using PROXYV2 protocol.
This patch corrects that issue.

Change-Id: If403a90ec27721ef63b6ae666fd77dfc9df0295e
Story: 2008237
Task: 41080
",git fetch https://review.opendev.org/openstack/octavia refs/changes/34/756934/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'releasenotes/notes/fix-proxyv2-44a7627294922a8e.yaml']",2,4024536621616c6df88686d80694b48dec612010,,--- fixes: - | Fixed a bug where pools with PROXYV2 will go into ERROR. ,,5,0
openstack%2Fnova~master~I679da65d44c40880f720df8a2f06286a19eb8d22,openstack/nova,master,I679da65d44c40880f720df8a2f06286a19eb8d22,tox: Enable parallel docs build,MERGED,2020-09-10 15:40:39.000000000,2021-01-29 01:14:01.000000000,2021-01-28 16:08:29.000000000,"[{'_account_id': 4690}, {'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-09-10 15:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df714ac0a73c3cb85934146c69ac3d7bdc3aa320', 'message': ""tox: Enable parallel docs build\n\nThis significantly speeds up our doc build process. This requires a\nnewer version of 'sphinx-feature-classification' and some tweaks to our\nown in-tree extensions. While we're here, we drop the '-d DOCTREE_DIR'\nparameter since it's of no use when we blast away our previously built\ndocs each time we build.\n\nChange-Id: I679da65d44c40880f720df8a2f06286a19eb8d22\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-01-27 16:46:33.000000000', 'files': ['doc/ext/versioned_notifications.py', 'doc/ext/feature_matrix.py', 'doc/ext/extra_specs.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/7062e1db8bc71ecf881f70fc149a27ca1532061d', 'message': ""tox: Enable parallel docs build\n\nThis significantly speeds up our doc build process. This requires a\nnewer version of 'sphinx-feature-classification' and some tweaks to our\nown in-tree extensions. While we're here, we drop the '-d DOCTREE_DIR'\nparameter since it's of no use when we blast away our previously built\ndocs each time we build.\n\nChange-Id: I679da65d44c40880f720df8a2f06286a19eb8d22\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",7,751034,7062e1db8bc71ecf881f70fc149a27ca1532061d,26,9,2,15334,,,0,"tox: Enable parallel docs build

This significantly speeds up our doc build process. This requires a
newer version of 'sphinx-feature-classification' and some tweaks to our
own in-tree extensions. While we're here, we drop the '-d DOCTREE_DIR'
parameter since it's of no use when we blast away our previously built
docs each time we build.

Change-Id: I679da65d44c40880f720df8a2f06286a19eb8d22
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/751034/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/ext/versioned_notifications.py', 'doc/ext/feature_matrix.py', 'doc/ext/extra_specs.py', 'doc/requirements.txt', 'tox.ini']",5,df714ac0a73c3cb85934146c69ac3d7bdc3aa320,parallel-docs, sphinx-build -W --keep-going -b html -j auto doc/source doc/build/html sphinx-build -W --keep-going -b latex -j auto doc/source doc/build/pdf sphinx-build -W --keep-going -b html -j auto api-guide/source api-guide/build/html sphinx-build -W --keep-going -b html -j auto api-ref/source api-ref/build/html sphinx-build -W --keep-going -b html -j auto releasenotes/source releasenotes/build/html, sphinx-build -W --keep-going -b html -d doc/build/doctrees doc/source doc/build/html sphinx-build -W -b latex doc/source doc/build/pdf sphinx-build -W --keep-going -b html -d api-guide/build/doctrees api-guide/source api-guide/build/html sphinx-build -W --keep-going -b html -d api-ref/build/doctrees api-ref/source api-ref/build/html sphinx-build -W --keep-going -b html -d releasenotes/build/doctrees releasenotes/source releasenotes/build/html,25,8
openstack%2Fbarbican~master~I8084799db1706969892f84d4f34dea809c7fd3cc,openstack/barbican,master,I8084799db1706969892f84d4f34dea809c7fd3cc,Update doc8 version,ABANDONED,2021-01-07 02:35:41.000000000,2021-01-29 00:47:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-01-07 02:35:41.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/barbican/commit/3b848efb688adf676dcbfebc0e71a01a7ed953fb', 'message': 'Update doc8 version\n\nThe doc8 lib supports Py36 starting from version 0.8.1\n\nChange-Id: I8084799db1706969892f84d4f34dea809c7fd3cc\n'}]",0,769643,3b848efb688adf676dcbfebc0e71a01a7ed953fb,9,3,1,32326,,,0,"Update doc8 version

The doc8 lib supports Py36 starting from version 0.8.1

Change-Id: I8084799db1706969892f84d4f34dea809c7fd3cc
",git fetch https://review.opendev.org/openstack/barbican refs/changes/43/769643/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,3b848efb688adf676dcbfebc0e71a01a7ed953fb,,doc8>=0.8.1 # Apache-2.0,doc8>=0.6.0 # Apache-2.0,1,1
openstack%2Fneutron~stable%2Fussuri~I964a3d843aeedef424a4466932bf702ea1b4320e,openstack/neutron,stable/ussuri,I964a3d843aeedef424a4466932bf702ea1b4320e,Improve DHCP agent's debug messages,MERGED,2021-01-24 09:53:24.000000000,2021-01-29 00:38:10.000000000,2021-01-29 00:36:10.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-24 09:53:24.000000000', 'files': ['neutron/agent/dhcp/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8cb61302c1746fcc9048491c91670c811b785148', 'message': 'Improve DHCP agent\'s debug messages\n\nWhen new port is created dhcp agent checks if IP addresses which are\nassigned to that port aren\'t already associated with different ports\nwhich are in agent\'s cache.\nWhen it finds such duplicate IPs, resync of the network is scheduled.\n\nThe problem is that debug message which informs about such duplicate\nIPs isn\'t very ""verbose"".\nWith this patch it will log new and cached port ids as well as ip\naddresses on both of those ports. That should make easier to understand\nwhy such duplicates are in the cache.\n\nThis patch also adds logging when methods like\n_{network|subnet|port}_{create|update|delete} are called and with what\narguments exactly. This should help investigation what exactly happens\nwith some specific port in the dhcp agent.\n\nRelated-bug: #1828423\n\nChange-Id: I964a3d843aeedef424a4466932bf702ea1b4320e\n(cherry picked from commit 9c2029c2c81fe32a41a39bf7e1265bf1d90f61ea)\n'}]",0,772105,8cb61302c1746fcc9048491c91670c811b785148,36,4,1,11975,,,0,"Improve DHCP agent's debug messages

When new port is created dhcp agent checks if IP addresses which are
assigned to that port aren't already associated with different ports
which are in agent's cache.
When it finds such duplicate IPs, resync of the network is scheduled.

The problem is that debug message which informs about such duplicate
IPs isn't very ""verbose"".
With this patch it will log new and cached port ids as well as ip
addresses on both of those ports. That should make easier to understand
why such duplicates are in the cache.

This patch also adds logging when methods like
_{network|subnet|port}_{create|update|delete} are called and with what
arguments exactly. This should help investigation what exactly happens
with some specific port in the dhcp agent.

Related-bug: #1828423

Change-Id: I964a3d843aeedef424a4466932bf702ea1b4320e
(cherry picked from commit 9c2029c2c81fe32a41a39bf7e1265bf1d90f61ea)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/772105/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/dhcp/agent.py'],1,8cb61302c1746fcc9048491c91670c811b785148,improve-dhcp-agent-debug-logs-stable/victoria-stable/ussuri,"from oslo_log import helpers as log_helpers @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call LOG.info(""Trigger reload_allocations for port %s on network %s"", port, network) @log_helpers.log_method_call resync_reason = ( ""Duplicate IP addresses found, "" ""Port in cache: {cache_port_id}, "" ""Created port: {port_id}, "" ""IPs in cache: {cached_ips}, "" ""new IPs: {new_ips}."" ""DHCP cache is out of sync"").format( cache_port_id=port_cached['id'], port_id=created_port['id'], cached_ips=cached_ips, new_ips=new_ips) self.schedule_resync(resync_reason, created_port.network_id) @log_helpers.log_method_call"," LOG.info(""Trigger reload_allocations for port %s"", port) self.schedule_resync(""Duplicate IP addresses found, "" ""DHCP cache is out of sync"", created_port.network_id)",23,4
openstack%2Fnova~master~If3e79cd71b6d0f6e535ff86b27483c137a78fee9,openstack/nova,master,If3e79cd71b6d0f6e535ff86b27483c137a78fee9,Factor out port resource deallocation,MERGED,2020-10-09 14:03:19.000000000,2021-01-29 00:30:54.000000000,2021-01-28 22:19:31.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 32067}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-10-09 14:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59318e80e9c338b64197ef7ce21ea6e156121a43', 'message': 'Factor out port resource deallocation\n\nDuring detach, and later during a failed attach, the port resource\nallocation needs to be deleted from placement. Currently this is done\ntogether with the unbinding of the port. This patch creates a separate\nfunction for resource deallocation. This will be used later separately\nwhen an qos interface attach fails after the resource allocation but\nbefore the port is bound in neutron.\n\nChange-Id: If3e79cd71b6d0f6e535ff86b27483c137a78fee9\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 2, 'created': '2020-10-12 08:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9af3894a6099d461eeb8a50f3e58e8888e542a57', 'message': 'Factor out port resource deallocation\n\nDuring detach, and later during a failed attach, the port resource\nallocation needs to be deleted from placement. Currently this is done\ntogether with the unbinding of the port. This patch creates a separate\nfunction for resource deallocation. This will be used later separately\nwhen an qos interface attach fails after the resource allocation but\nbefore the port is bound in neutron.\n\nChange-Id: If3e79cd71b6d0f6e535ff86b27483c137a78fee9\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 3, 'created': '2020-10-12 16:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03a1d2d96f6ad0b7395360548a777d894e900dc9', 'message': 'Factor out port resource deallocation\n\nDuring detach, and later during a failed attach, the port resource\nallocation needs to be deleted from placement. Currently this is done\ntogether with the unbinding of the port. This patch creates a separate\nfunction for resource deallocation. This will be used later separately\nwhen an qos interface attach fails after the resource allocation but\nbefore the port is bound in neutron.\n\nChange-Id: If3e79cd71b6d0f6e535ff86b27483c137a78fee9\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 4, 'created': '2020-11-30 15:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d6902500f4833a7dcf2170cb2a32ddd101c25ff', 'message': 'Factor out port resource deallocation\n\nDuring detach, and later during a failed attach, the port resource\nallocation needs to be deleted from placement. Currently this is done\ntogether with the unbinding of the port. This patch creates a separate\nfunction for resource deallocation. This will be used later separately\nwhen an qos interface attach fails after the resource allocation but\nbefore the port is bound in neutron.\n\nChange-Id: If3e79cd71b6d0f6e535ff86b27483c137a78fee9\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 5, 'created': '2020-11-30 16:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/064e5dfa91fae5ee29ae4113301774e9c6d53da0', 'message': 'Factor out port resource deallocation\n\nDuring detach, and later during a failed attach, the port resource\nallocation needs to be deleted from placement. Currently this is done\ntogether with the unbinding of the port. This patch creates a separate\nfunction for resource deallocation. This will be used later separately\nwhen an qos interface attach fails after the resource allocation but\nbefore the port is bound in neutron.\n\nChange-Id: If3e79cd71b6d0f6e535ff86b27483c137a78fee9\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 6, 'created': '2020-12-02 15:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ca33ec4a51337a3652842adad5f3adf89fb512a', 'message': 'Factor out port resource deallocation\n\nDuring detach, and later during a failed attach, the port resource\nallocation needs to be deleted from placement. Currently this is done\ntogether with the unbinding of the port. This patch creates a separate\nfunction for resource deallocation. This will be used later separately\nwhen an qos interface attach fails after the resource allocation but\nbefore the port is bound in neutron.\n\nChange-Id: If3e79cd71b6d0f6e535ff86b27483c137a78fee9\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 7, 'created': '2020-12-07 08:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d5af845b594cf9efd698ab28cf36816bf525f59', 'message': 'Factor out port resource deallocation\n\nDuring detach, and later during a failed attach, the port resource\nallocation needs to be deleted from placement. Currently this is done\ntogether with the unbinding of the port. This patch creates a separate\nfunction for resource deallocation. This will be used later separately\nwhen an qos interface attach fails after the resource allocation but\nbefore the port is bound in neutron.\n\nChange-Id: If3e79cd71b6d0f6e535ff86b27483c137a78fee9\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 8, 'created': '2020-12-16 13:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba4843e73bc3439bfab3cb187edafc9b6265512f', 'message': 'Factor out port resource deallocation\n\nDuring detach, and later during a failed attach, the port resource\nallocation needs to be deleted from placement. Currently this is done\ntogether with the unbinding of the port. This patch creates a separate\nfunction for resource deallocation. This will be used later separately\nwhen an qos interface attach fails after the resource allocation but\nbefore the port is bound in neutron.\n\nChange-Id: If3e79cd71b6d0f6e535ff86b27483c137a78fee9\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 9, 'created': '2020-12-16 15:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9033c2aa3071e3abe5b4ea366f8ff059166b4138', 'message': 'Factor out port resource deallocation\n\nDuring detach, and later during a failed attach, the port resource\nallocation needs to be deleted from placement. Currently this is done\ntogether with the unbinding of the port. This patch creates a separate\nfunction for resource deallocation. This will be used later separately\nwhen an qos interface attach fails after the resource allocation but\nbefore the port is bound in neutron.\n\nChange-Id: If3e79cd71b6d0f6e535ff86b27483c137a78fee9\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 10, 'created': '2021-01-07 12:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6438aa300394f48b5f378ff14241a9760d87612c', 'message': 'Factor out port resource deallocation\n\nDuring detach, and later during a failed attach, the port resource\nallocation needs to be deleted from placement. Currently this is done\ntogether with the unbinding of the port. This patch creates a separate\nfunction for resource deallocation. This will be used later separately\nwhen an qos interface attach fails after the resource allocation but\nbefore the port is bound in neutron.\n\nChange-Id: If3e79cd71b6d0f6e535ff86b27483c137a78fee9\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 11, 'created': '2021-01-18 15:05:57.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/20fe077343006a18714fd349c20400cd2746febc', 'message': 'Factor out port resource deallocation\n\nDuring detach, and later during a failed attach, the port resource\nallocation needs to be deleted from placement. Currently this is done\ntogether with the unbinding of the port. This patch creates a separate\nfunction for resource deallocation. This will be used later separately\nwhen an qos interface attach fails after the resource allocation but\nbefore the port is bound in neutron.\n\nChange-Id: If3e79cd71b6d0f6e535ff86b27483c137a78fee9\nblueprint: support-interface-attach-with-qos-ports\n'}]",8,757111,20fe077343006a18714fd349c20400cd2746febc,102,13,11,9708,,,0,"Factor out port resource deallocation

During detach, and later during a failed attach, the port resource
allocation needs to be deleted from placement. Currently this is done
together with the unbinding of the port. This patch creates a separate
function for resource deallocation. This will be used later separately
when an qos interface attach fails after the resource allocation but
before the port is bound in neutron.

Change-Id: If3e79cd71b6d0f6e535ff86b27483c137a78fee9
blueprint: support-interface-attach-with-qos-ports
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/757111/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,59318e80e9c338b64197ef7ce21ea6e156121a43,bp/support-interface-attach-with-qos-ports," def _deallocate_port_resource_for_instance( self, context, instance, port_id, port_allocation): if not port_allocation: return try: client = self.reportclient client.remove_resources_from_instance_allocation( context, instance.uuid, port_allocation) except Exception as ex: # We always raise here as it is not a race condition where # somebody has already deleted the port we want to cleanup. # Here we see that the port exists, the allocation exists, # but we cannot clean it up so we will actually leak # allocations. with excutils.save_and_reraise_exception(): LOG.warning('Failed to remove resource allocation ' 'of port %(port_id)s for instance. Error: ' '%(error)s', {'port_id': port_id, 'error': ex}, instance=instance) # Deallocate the resources in placement that were used by the # detached port. self._deallocate_port_resource_for_instance( context, instance, port_id, port_allocation)"," if port_allocation: # Deallocate the resources in placement that were used by the # detached port. try: client = self.reportclient client.remove_resources_from_instance_allocation( context, instance.uuid, port_allocation) except Exception as ex: # We always raise here as it is not a race condition where # somebody has already deleted the port we want to cleanup. # Here we see that the port exists, the allocation exists, # but we cannot clean it up so we will actually leak # allocations. with excutils.save_and_reraise_exception(): LOG.warning('Failed to remove resource allocation ' 'of port %(port_id)s for instance. Error: ' '%(error)s', {'port_id': port_id, 'error': ex}, instance=instance)",26,19
openstack%2Fnova~master~I1bdc5e4971204fbfbf0dfcd232cabf2cfe02a966,openstack/nova,master,I1bdc5e4971204fbfbf0dfcd232cabf2cfe02a966,Allow extending an existing instance allocation,MERGED,2020-10-09 14:03:19.000000000,2021-01-29 00:29:18.000000000,2021-01-28 21:52:19.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 32291}, {'_account_id': 32761}]","[{'number': 1, 'created': '2020-10-09 14:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfc4e427e5f4309c7a68b6e60bd23e35ff10f5d9', 'message': 'Allow extending an existing instance allocation\n\nThis patch add a new function to the SchedulerReportClient that allows\nextending an existing instance allocation with extra resources.\n\nChange-Id: I1bdc5e4971204fbfbf0dfcd232cabf2cfe02a966\nBlueprint: support-interface-attach-with-qos-ports\n'}, {'number': 2, 'created': '2020-10-12 08:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a77e3a6bea67de28dbb81316c3f25dbcf8ec5f8', 'message': 'Allow extending an existing instance allocation\n\nThis patch add a new function to the SchedulerReportClient that allows\nextending an existing instance allocation with extra resources.\n\nChange-Id: I1bdc5e4971204fbfbf0dfcd232cabf2cfe02a966\nBlueprint: support-interface-attach-with-qos-ports\n'}, {'number': 3, 'created': '2020-10-12 16:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fea0f24b6170c32ddc6d59a9a7832d88c424ca1', 'message': 'Allow extending an existing instance allocation\n\nThis patch add a new function to the SchedulerReportClient that allows\nextending an existing instance allocation with extra resources.\n\nChange-Id: I1bdc5e4971204fbfbf0dfcd232cabf2cfe02a966\nBlueprint: support-interface-attach-with-qos-ports\n'}, {'number': 4, 'created': '2020-11-30 14:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cd9e7c063d7d7f85a9072ccf205c3f899273fe2', 'message': 'Allow extending an existing instance allocation\n\nThis patch add a new function to the SchedulerReportClient that allows\nextending an existing instance allocation with extra resources.\n\nChange-Id: I1bdc5e4971204fbfbf0dfcd232cabf2cfe02a966\nBlueprint: support-interface-attach-with-qos-ports\n'}, {'number': 5, 'created': '2020-11-30 16:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d5dc39ce76ddbfca0503504a65d11c2244a9e33', 'message': 'Allow extending an existing instance allocation\n\nThis patch add a new function to the SchedulerReportClient that allows\nextending an existing instance allocation with extra resources.\n\nChange-Id: I1bdc5e4971204fbfbf0dfcd232cabf2cfe02a966\nBlueprint: support-interface-attach-with-qos-ports\n'}, {'number': 6, 'created': '2020-12-16 13:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a86d004f026eb3bac4f2f18c380df725978e9c32', 'message': 'Allow extending an existing instance allocation\n\nThis patch add a new function to the SchedulerReportClient that allows\nextending an existing instance allocation with extra resources.\n\nChange-Id: I1bdc5e4971204fbfbf0dfcd232cabf2cfe02a966\nBlueprint: support-interface-attach-with-qos-ports\n'}, {'number': 7, 'created': '2020-12-16 15:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e16d6517001352b6065257bdd73704849d8808bc', 'message': 'Allow extending an existing instance allocation\n\nThis patch add a new function to the SchedulerReportClient that allows\nextending an existing instance allocation with extra resources.\n\nChange-Id: I1bdc5e4971204fbfbf0dfcd232cabf2cfe02a966\nBlueprint: support-interface-attach-with-qos-ports\n'}, {'number': 8, 'created': '2021-01-07 12:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d82467758a3d3f8b5c90de4cba87f4a3f5bd773a', 'message': 'Allow extending an existing instance allocation\n\nThis patch add a new function to the SchedulerReportClient that allows\nextending an existing instance allocation with extra resources.\n\nChange-Id: I1bdc5e4971204fbfbf0dfcd232cabf2cfe02a966\nBlueprint: support-interface-attach-with-qos-ports\n'}, {'number': 9, 'created': '2021-01-18 15:03:05.000000000', 'files': ['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/54865a17cddd4a358983e9a897f242dc413c7ec1', 'message': 'Allow extending an existing instance allocation\n\nThis patch add a new function to the SchedulerReportClient that allows\nextending an existing instance allocation with extra resources.\n\nChange-Id: I1bdc5e4971204fbfbf0dfcd232cabf2cfe02a966\nBlueprint: support-interface-attach-with-qos-ports\n'}]",35,757109,54865a17cddd4a358983e9a897f242dc413c7ec1,94,10,9,9708,,,0,"Allow extending an existing instance allocation

This patch add a new function to the SchedulerReportClient that allows
extending an existing instance allocation with extra resources.

Change-Id: I1bdc5e4971204fbfbf0dfcd232cabf2cfe02a966
Blueprint: support-interface-attach-with-qos-ports
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/757109/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py']",2,dfc4e427e5f4309c7a68b6e60bd23e35ff10f5d9,bp/support-interface-attach-with-qos-ports," def add_resources_to_instance_allocation( self, context, consumer_uuid, resources): """"""Adds certain resources to the current allocation of the consumer. :param context: the request context :param consumer_uuid: the uuid of the consumer to update :param resources: a dict of resources in the format of allocation request. E.g.: { <rp_uuid>: { 'resources': { <resource class>: amount, <other resource class>: amount } } <other_ rp_uuid>: { 'resources': { <other resource class>: amount } } } :raises AllocationUpdateFailed: if there was multiple generation conflict and we run out of retires. :raises ConsumerAllocationRetrievalFailed: If the current allocation cannot be read from placement. :raises: keystoneauth1.exceptions.base.ClientException on failure to communicate with the placement API """""" # TODO(gibi): Refactor remove_resources_from_instance_allocation() to # also take the same structure for the resources parameter if not resources: # nothing to do return if not self._add_resources_to_instance_allocation( context, consumer_uuid, resources): error_reason = _(""Cannot add resources %s to the allocation "" ""due to multiple successive generation conflicts "" ""in placement."") raise exception.AllocationUpdateFailed( consumer_uuid=consumer_uuid, error=error_reason % resources) @retries def _add_resources_to_instance_allocation( self, context, consumer_uuid, resources): current_allocs = self.get_allocs_for_consumer( context, consumer_uuid) for rp_uuid in resources: if rp_uuid not in current_allocs['allocations']: current_allocs['allocations'][rp_uuid] = {'resources': {}} alloc_on_rp = current_allocs['allocations'][rp_uuid]['resources'] for rc, amount in resources[rp_uuid]['resources'].items(): if rc in alloc_on_rp: alloc_on_rp[rc] += amount else: alloc_on_rp[rc] = amount r = self._put_allocations( context, consumer_uuid, current_allocs) if r.status_code != 204: err = r.json()['errors'][0] if err['code'] == 'placement.concurrent_update': reason = ('another process changed the resource providers or ' 'the consumer involved in our attempt to update ' 'allocations for consumer %s so we cannot add ' 'resources %s to the current allocation %s' % (consumer_uuid, resources, current_allocs)) raise Retry( '_add_resources_to_instance_allocation', reason) return True ",,335,0
openstack%2Fcharm-deployment-guide~master~I7fdd6b58f1d17d7ed46dcc3d0f9a618d18b1e24e,openstack/charm-deployment-guide,master,I7fdd6b58f1d17d7ed46dcc3d0f9a618d18b1e24e,Add all redirects between stable/victoria and master,MERGED,2021-01-27 02:19:21.000000000,2021-01-29 00:16:38.000000000,2021-01-29 00:14:40.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-01-27 02:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/d2a13bdc11ee1f64f4952d8d52796c96f6c3e006', 'message': 'Add all redirects between stable/victoria and master\n\nEnsure that docs are appropriately redirected to their correct locations\nin the latest docs. Docs were renamed and moved as part of the\nrefactoring and restructuring of the docs and this allows existing links\nto land on the appropriate new page.\n\nChange-Id: I7fdd6b58f1d17d7ed46dcc3d0f9a618d18b1e24e\n'}, {'number': 2, 'created': '2021-01-28 23:45:06.000000000', 'files': ['deploy-guide/source/_extra/.htaccess', 'deploy-guide/test/redirect-tests.txt'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/5d4a85db9cd00b1c536a95a16c649cb098a08def', 'message': 'Add all redirects between stable/victoria and master\n\nEnsure that docs are appropriately redirected to their correct locations\nin the latest docs. Docs were renamed and moved as part of the\nrefactoring and restructuring of the docs and this allows existing links\nto land on the appropriate new page.\n\nChange-Id: I7fdd6b58f1d17d7ed46dcc3d0f9a618d18b1e24e\n'}]",2,772618,5d4a85db9cd00b1c536a95a16c649cb098a08def,11,2,2,8992,,,0,"Add all redirects between stable/victoria and master

Ensure that docs are appropriately redirected to their correct locations
in the latest docs. Docs were renamed and moved as part of the
refactoring and restructuring of the docs and this allows existing links
to land on the appropriate new page.

Change-Id: I7fdd6b58f1d17d7ed46dcc3d0f9a618d18b1e24e
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/18/772618/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/_extra/.htaccess', 'deploy-guide/test/redirect-tests.txt']",2,d2a13bdc11ee1f64f4952d8d52796c96f6c3e006,cdg-reorg,/project-deploy-guide/charm-deployment-guide/latest/app-upgrade-openstack.html 301 /project-deploy-guide/charm-deployment-guide/latest/upgrade-openstack.html /project-deploy-guide/charm-deployment-guide/latest/app-series-upgrade-openstack.html 301 /project-deploy-guide/charm-deployment-guide/latest/upgrade-series-openstack.html /project-deploy-guide/charm-deployment-guide/latest/app-series-upgrade.html 301 /project-deploy-guide/charm-deployment-guide/latest/upgrade-series.html /project-deploy-guide/charm-deployment-guide/latest/app-series-upgrade-specific-procedures.html 301 /project-deploy-guide/charm-deployment-guide/latest/percona-series-upgrade-to-focal.html,,9,1
openstack%2Fheat-translator~master~Ib4dd97f427a0c364e2679c229bda9df6c3155d48,openstack/heat-translator,master,Ib4dd97f427a0c364e2679c229bda9df6c3155d48,Update TOX_CONSTRAINTS_FILE,MERGED,2021-01-28 18:41:39.000000000,2021-01-29 00:15:47.000000000,2021-01-29 00:13:59.000000000,"[{'_account_id': 16511}, {'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2021-01-28 18:41:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/91c4415c42c5d9164d6c646c6436e60c5a28322f', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is an old and deprecated name, refer [1].\n\nThis allows to use lower-constraints file as more readable way instead\nof UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: Ib4dd97f427a0c364e2679c229bda9df6c3155d48\n'}]",0,772932,91c4415c42c5d9164d6c646c6436e60c5a28322f,7,3,1,32102,,,0,"Update TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is an old and deprecated name, refer [1].

This allows to use lower-constraints file as more readable way instead
of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: Ib4dd97f427a0c364e2679c229bda9df6c3155d48
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/32/772932/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,91c4415c42c5d9164d6c646c6436e60c5a28322f,tox_constraints_file, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Ftosca-parser~master~I7d08d44b2d631010d48b7bcb520eaab91eb40ede,openstack/tosca-parser,master,I7d08d44b2d631010d48b7bcb520eaab91eb40ede,Update TOX_CONSTRAINTS_FILE,MERGED,2021-01-28 18:46:04.000000000,2021-01-29 00:13:13.000000000,2021-01-29 00:11:23.000000000,"[{'_account_id': 16511}, {'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2021-01-28 18:46:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/1f6f7a064c37d72cb52262283fa1bedf98dedee8', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated, refer [1].\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: I7d08d44b2d631010d48b7bcb520eaab91eb40ede\n'}]",0,772933,1f6f7a064c37d72cb52262283fa1bedf98dedee8,7,3,1,32102,,,0,"Update TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated, refer [1].
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: I7d08d44b2d631010d48b7bcb520eaab91eb40ede
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/33/772933/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1f6f7a064c37d72cb52262283fa1bedf98dedee8,tox_constraints_file, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fnova~master~I5ef4ef2aa8d10538323af0f6b831ba605aeeb383,openstack/nova,master,I5ef4ef2aa8d10538323af0f6b831ba605aeeb383,Make remove allocation symmetric with add allocation,MERGED,2020-10-09 14:03:19.000000000,2021-01-29 00:05:45.000000000,2021-01-28 22:06:00.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-10-09 14:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e5fa31c59b09ef3604d95cfef269f03fa6ae0d3', 'message': 'Make remove allocation symmetric with add allocation\n\nThe SchedulerReportClient add_resources_to_instance_allocation and\nremove_resources_from_instance_allocation are symmetric in nature. But\nthe remove_resources_from_instance_allocation took a differently\nstructured input than add_resources_to_instance_allocation. The\nstructure of the input of add_resources_to_instance_allocation is better\nas it is the canonical form of the placement allocation request. This\npatch therefore changes the input structure of\nremove_resources_from_instance_allocation to match with\nadd_resources_to_instance_allocation.\n\nChange-Id: I5ef4ef2aa8d10538323af0f6b831ba605aeeb383\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 2, 'created': '2020-10-12 08:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d0736bd9048764235597c5cc59940a217f681a6', 'message': 'Make remove allocation symmetric with add allocation\n\nThe SchedulerReportClient add_resources_to_instance_allocation and\nremove_resources_from_instance_allocation are symmetric in nature. But\nthe remove_resources_from_instance_allocation took a differently\nstructured input than add_resources_to_instance_allocation. The\nstructure of the input of add_resources_to_instance_allocation is better\nas it is the canonical form of the placement allocation request. This\npatch therefore changes the input structure of\nremove_resources_from_instance_allocation to match with\nadd_resources_to_instance_allocation.\n\nChange-Id: I5ef4ef2aa8d10538323af0f6b831ba605aeeb383\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 3, 'created': '2020-10-12 16:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f5eeed16b0bd838a2ef8de94dcf46ed8d04bca0', 'message': 'Make remove allocation symmetric with add allocation\n\nThe SchedulerReportClient add_resources_to_instance_allocation and\nremove_resources_from_instance_allocation are symmetric in nature. But\nthe remove_resources_from_instance_allocation took a differently\nstructured input than add_resources_to_instance_allocation. The\nstructure of the input of add_resources_to_instance_allocation is better\nas it is the canonical form of the placement allocation request. This\npatch therefore changes the input structure of\nremove_resources_from_instance_allocation to match with\nadd_resources_to_instance_allocation.\n\nChange-Id: I5ef4ef2aa8d10538323af0f6b831ba605aeeb383\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 4, 'created': '2020-11-30 14:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0ab86d2311b4bfcbce0056ee9e16c8d5b3a9960', 'message': 'Make remove allocation symmetric with add allocation\n\nThe SchedulerReportClient add_resources_to_instance_allocation and\nremove_resources_from_instance_allocation are symmetric in nature. But\nthe remove_resources_from_instance_allocation took a differently\nstructured input than add_resources_to_instance_allocation. The\nstructure of the input of add_resources_to_instance_allocation is better\nas it is the canonical form of the placement allocation request. This\npatch therefore changes the input structure of\nremove_resources_from_instance_allocation to match with\nadd_resources_to_instance_allocation.\n\nChange-Id: I5ef4ef2aa8d10538323af0f6b831ba605aeeb383\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 5, 'created': '2020-11-30 16:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92a857de14bc40d7ceeee5a5e4968b76e05fc4d2', 'message': 'Make remove allocation symmetric with add allocation\n\nThe SchedulerReportClient add_resources_to_instance_allocation and\nremove_resources_from_instance_allocation are symmetric in nature. But\nthe remove_resources_from_instance_allocation took a differently\nstructured input than add_resources_to_instance_allocation. The\nstructure of the input of add_resources_to_instance_allocation is better\nas it is the canonical form of the placement allocation request. This\npatch therefore changes the input structure of\nremove_resources_from_instance_allocation to match with\nadd_resources_to_instance_allocation.\n\nChange-Id: I5ef4ef2aa8d10538323af0f6b831ba605aeeb383\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 6, 'created': '2020-12-02 15:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41e37453ad832df7f1d1dfe9db44826126a00c9f', 'message': 'Make remove allocation symmetric with add allocation\n\nThe SchedulerReportClient add_resources_to_instance_allocation and\nremove_resources_from_instance_allocation are symmetric in nature. But\nthe remove_resources_from_instance_allocation took a differently\nstructured input than add_resources_to_instance_allocation. The\nstructure of the input of add_resources_to_instance_allocation is better\nas it is the canonical form of the placement allocation request. This\npatch therefore changes the input structure of\nremove_resources_from_instance_allocation to match with\nadd_resources_to_instance_allocation.\n\nChange-Id: I5ef4ef2aa8d10538323af0f6b831ba605aeeb383\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 7, 'created': '2020-12-07 08:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36c71be3ed50ea42cef28a6a6400e4ffbf94eed1', 'message': 'Make remove allocation symmetric with add allocation\n\nThe SchedulerReportClient add_resources_to_instance_allocation and\nremove_resources_from_instance_allocation are symmetric in nature. But\nthe remove_resources_from_instance_allocation took a differently\nstructured input than add_resources_to_instance_allocation. The\nstructure of the input of add_resources_to_instance_allocation is better\nas it is the canonical form of the placement allocation request. This\npatch therefore changes the input structure of\nremove_resources_from_instance_allocation to match with\nadd_resources_to_instance_allocation.\n\nChange-Id: I5ef4ef2aa8d10538323af0f6b831ba605aeeb383\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 8, 'created': '2020-12-16 13:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86389425ca69b19bccbffe4532cedeec2ffdc5dd', 'message': 'Make remove allocation symmetric with add allocation\n\nThe SchedulerReportClient add_resources_to_instance_allocation and\nremove_resources_from_instance_allocation are symmetric in nature. But\nthe remove_resources_from_instance_allocation took a differently\nstructured input than add_resources_to_instance_allocation. The\nstructure of the input of add_resources_to_instance_allocation is better\nas it is the canonical form of the placement allocation request. This\npatch therefore changes the input structure of\nremove_resources_from_instance_allocation to match with\nadd_resources_to_instance_allocation.\n\nChange-Id: I5ef4ef2aa8d10538323af0f6b831ba605aeeb383\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 9, 'created': '2020-12-16 15:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1ebbc4beaf0479c25d8a5813f6893ed84d8cb29', 'message': 'Make remove allocation symmetric with add allocation\n\nThe SchedulerReportClient add_resources_to_instance_allocation and\nremove_resources_from_instance_allocation are symmetric in nature. But\nthe remove_resources_from_instance_allocation took a differently\nstructured input than add_resources_to_instance_allocation. The\nstructure of the input of add_resources_to_instance_allocation is better\nas it is the canonical form of the placement allocation request. This\npatch therefore changes the input structure of\nremove_resources_from_instance_allocation to match with\nadd_resources_to_instance_allocation.\n\nChange-Id: I5ef4ef2aa8d10538323af0f6b831ba605aeeb383\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 10, 'created': '2021-01-07 12:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6a2c5f8ebddac386f566c9622a6904715018c4d', 'message': 'Make remove allocation symmetric with add allocation\n\nThe SchedulerReportClient add_resources_to_instance_allocation and\nremove_resources_from_instance_allocation are symmetric in nature. But\nthe remove_resources_from_instance_allocation took a differently\nstructured input than add_resources_to_instance_allocation. The\nstructure of the input of add_resources_to_instance_allocation is better\nas it is the canonical form of the placement allocation request. This\npatch therefore changes the input structure of\nremove_resources_from_instance_allocation to match with\nadd_resources_to_instance_allocation.\n\nChange-Id: I5ef4ef2aa8d10538323af0f6b831ba605aeeb383\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 11, 'created': '2021-01-18 15:04:28.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b7f133898e0480ddb24d75692df18affa003f8a8', 'message': 'Make remove allocation symmetric with add allocation\n\nThe SchedulerReportClient add_resources_to_instance_allocation and\nremove_resources_from_instance_allocation are symmetric in nature. But\nthe remove_resources_from_instance_allocation took a differently\nstructured input than add_resources_to_instance_allocation. The\nstructure of the input of add_resources_to_instance_allocation is better\nas it is the canonical form of the placement allocation request. This\npatch therefore changes the input structure of\nremove_resources_from_instance_allocation to match with\nadd_resources_to_instance_allocation.\n\nChange-Id: I5ef4ef2aa8d10538323af0f6b831ba605aeeb383\nblueprint: support-interface-attach-with-qos-ports\n'}]",3,757110,b7f133898e0480ddb24d75692df18affa003f8a8,100,9,11,9708,,,0,"Make remove allocation symmetric with add allocation

The SchedulerReportClient add_resources_to_instance_allocation and
remove_resources_from_instance_allocation are symmetric in nature. But
the remove_resources_from_instance_allocation took a differently
structured input than add_resources_to_instance_allocation. The
structure of the input of add_resources_to_instance_allocation is better
as it is the canonical form of the placement allocation request. This
patch therefore changes the input structure of
remove_resources_from_instance_allocation to match with
add_resources_to_instance_allocation.

Change-Id: I5ef4ef2aa8d10538323af0f6b831ba605aeeb383
blueprint: support-interface-attach-with-qos-ports
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/757110/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py']",4,1e5fa31c59b09ef3604d95cfef269f03fa6ae0d3,bp/support-interface-attach-with-qos-ports," :param resources: a dict of resources in allocation request format E.g.: { <rp_uuid>: { 'resources': { <resource class>: amount, <other resource class>: amount } } <other_ rp_uuid>: { 'resources': { <other resource class>: amount } } } for rc, value in resources_to_remove['resources'].items():"," # TODO(gibi): Refactor remove_resources_from_instance_allocation() to # also take the same structure for the resources parameter :param resources: a dict of resources. E.g.: { <rp_uuid>: { <resource class>: amount <other resource class>: amount } <other_ rp_uuid>: { <other resource class>: amount } } for rc, value in resources_to_remove.items():",66,33
openstack%2Ftripleo-quickstart-extras~master~I748c3eb7a4dc299e5368a1330ad22fa48de912a3,openstack/tripleo-quickstart-extras,master,I748c3eb7a4dc299e5368a1330ad22fa48de912a3,Set properly the rc file to create the clouds.yaml,MERGED,2021-01-19 10:18:48.000000000,2021-01-28 23:36:28.000000000,2021-01-28 23:36:28.000000000,"[{'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30750}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-01-19 10:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c52e075c3e21248a2574497699ac913118212110', 'message': ""Set properly the rc file to create the clouds.yaml\n\nThe previous releases (queens, rocky and stein), don't have the\nclouds.yaml file, and in order to run os_tempest this is required. In\nthese releases we write the clouds.yaml manually to pass to the\nos_tempest, however, the logic was a little wrong because it was done\nonly when tempest is running in the overcloud. In the case of undercloud\nit is failing. This patch fix it setting the rc file properly (stackrc\nor overcloudrc).\n\nChange-Id: I748c3eb7a4dc299e5368a1330ad22fa48de912a3\n""}, {'number': 2, 'created': '2021-01-20 09:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/90181760e0eec7e7f8bef4fa9a14ddd17adbbf01', 'message': ""Set properly the rc file to create the clouds.yaml\n\nThe previous releases (queens, rocky and stein), don't have the\nclouds.yaml file, and in order to run os_tempest this is required. In\nthese releases we write the clouds.yaml manually to pass to the\nos_tempest, however, the logic was a little wrong because it was done\nonly when tempest is running in the overcloud. In the case of undercloud\nit is failing. This patch fix it setting the rc file properly (stackrc\nor overcloudrc).\n\nChange-Id: I748c3eb7a4dc299e5368a1330ad22fa48de912a3\n""}, {'number': 3, 'created': '2021-01-25 09:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5c304d94149cbff99c0d0799ce556cf9706debdd', 'message': ""Set properly the rc file to create the clouds.yaml\n\nThe previous releases (queens, rocky and stein), don't have the\nclouds.yaml file, and in order to run os_tempest this is required. In\nthese releases we write the clouds.yaml manually to pass to the\nos_tempest, however, the logic was a little wrong because it was done\nonly when tempest is running in the overcloud. In the case of undercloud\nit is failing. This patch fix it setting the rc file properly (stackrc\nor overcloudrc).\nAlso, in order to avoid errors when tempest run on undercloud, set the\nvariable tempest_service_available_neutron to false.\n\nChange-Id: I748c3eb7a4dc299e5368a1330ad22fa48de912a3\n""}, {'number': 4, 'created': '2021-01-25 13:12:10.000000000', 'files': ['playbooks/tasks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f2c0fcb08e2d11a5645f3f26e72cbec77ae16445', 'message': ""Set properly the rc file to create the clouds.yaml\n\nThe previous releases (queens, rocky and stein), don't have the\nclouds.yaml file, and in order to run os_tempest this is required. In\nthese releases we write the clouds.yaml manually to pass to the\nos_tempest, however, the logic was a little wrong because it was done\nonly when tempest is running in the overcloud. In the case of undercloud\nit is failing. This patch fix it setting the rc file properly (stackrc\nor overcloudrc).\nAlso, in order to avoid errors when tempest run on undercloud, set the\nvariable tempest_service_available_neutron to false.\n\nChange-Id: I748c3eb7a4dc299e5368a1330ad22fa48de912a3\n""}]",2,771416,f2c0fcb08e2d11a5645f3f26e72cbec77ae16445,61,7,4,8367,,,0,"Set properly the rc file to create the clouds.yaml

The previous releases (queens, rocky and stein), don't have the
clouds.yaml file, and in order to run os_tempest this is required. In
these releases we write the clouds.yaml manually to pass to the
os_tempest, however, the logic was a little wrong because it was done
only when tempest is running in the overcloud. In the case of undercloud
it is failing. This patch fix it setting the rc file properly (stackrc
or overcloudrc).
Also, in order to avoid errors when tempest run on undercloud, set the
variable tempest_service_available_neutron to false.

Change-Id: I748c3eb7a4dc299e5368a1330ad22fa48de912a3
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/16/771416/4 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tasks/tempest.yml'],1,c52e075c3e21248a2574497699ac913118212110,771416,"- name: Set the rc file set_fact: rc_file: ""{{ tempest_cloud_name == 'undercloud' | ternary('stackrc', 'overcloudrc') }}"" when: release in ['queens', 'rocky', 'stein'] sed -i 's/\/\/v3/\/v3/g' {{ ansible_user_dir }}/{{ rc_file }} source {{ ansible_user_dir }}/{{ rc_file }} - not tempest_cloud_name in ['standalone']"," sed -i 's/\/\/v3/\/v3/g' {{ ansible_user_dir }}/overcloudrc source {{ ansible_user_dir }}/overcloudrc - not tempest_cloud_name in ['undercloud', 'standalone']",8,3
openstack%2Fansible-role-collect-logs~master~I4892e3d5ff73eda3cc92406cecaf7611e6b6c304,openstack/ansible-role-collect-logs,master,I4892e3d5ff73eda3cc92406cecaf7611e6b6c304,Collect all *rc files,MERGED,2021-01-20 17:27:33.000000000,2021-01-28 23:36:24.000000000,2021-01-28 23:36:24.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}, {'_account_id': 29268}]","[{'number': 1, 'created': '2021-01-20 17:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/d5d0d2e5897a7b5259991393e7ac2e0cc1115876', 'message': ""Collect all *rc files\n\nIf the stack's name is not 'overcloud' then its rc file is not\ncollected. Rather than relying on a hard-coded stackrc,\novercloudrc, etc we can use a wildcard to catch them all. This\nmight also catch a few other files, but that's a small price to\npay.\n\nChange-Id: I4892e3d5ff73eda3cc92406cecaf7611e6b6c304\n""}, {'number': 2, 'created': '2021-01-26 11:18:55.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/439d0890b171bf14a890b62e847a0f85ab2e4793', 'message': ""Collect all *rc files\n\nIf the stack's name is not 'overcloud' then its rc file is not\ncollected. Rather than relying on a hard-coded stackrc,\novercloudrc, etc we can use a wildcard to catch them all. This\nmight also catch a few other files, but that's a small price to\npay.\n\nChange-Id: I4892e3d5ff73eda3cc92406cecaf7611e6b6c304\n""}]",2,771678,439d0890b171bf14a890b62e847a0f85ab2e4793,23,8,2,6816,,,0,"Collect all *rc files

If the stack's name is not 'overcloud' then its rc file is not
collected. Rather than relying on a hard-coded stackrc,
overcloudrc, etc we can use a wildcard to catch them all. This
might also catch a few other files, but that's a small price to
pay.

Change-Id: I4892e3d5ff73eda3cc92406cecaf7611e6b6c304
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/78/771678/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,d5d0d2e5897a7b5259991393e7ac2e0cc1115876,, - /home/*/*rc, - /home/*/stackrc - /home/*/overcloudrc* - /home/*/deploy-overcloudrc,1,3
openstack%2Fsahara~master~I38e7d938409e8e30c5ec36530dd2dc54c5f696e0,openstack/sahara,master,I38e7d938409e8e30c5ec36530dd2dc54c5f696e0,Replace deprecated UPPER_CONSTRAINTS_FILE variable,MERGED,2020-11-27 09:20:28.000000000,2021-01-28 23:23:00.000000000,2021-01-28 23:20:45.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 32231}]","[{'number': 1, 'created': '2020-11-27 09:20:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara/commit/bd46fc6de351b8e3cbab226f242902ae6d78288a', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I38e7d938409e8e30c5ec36530dd2dc54c5f696e0\n'}]",0,764425,bd46fc6de351b8e3cbab226f242902ae6d78288a,14,4,1,26285,,,0,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I38e7d938409e8e30c5ec36530dd2dc54c5f696e0
",git fetch https://review.opendev.org/openstack/sahara refs/changes/25/764425/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bd46fc6de351b8e3cbab226f242902ae6d78288a,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},5,5
openstack%2Fvalidations-libs~master~Ice089c33d566e90bea55e18fe7f77f9d33fe81f3,openstack/validations-libs,master,Ice089c33d566e90bea55e18fe7f77f9d33fe81f3,Add an error message when groups is not found in the playbook,MERGED,2021-01-27 18:20:39.000000000,2021-01-28 23:05:27.000000000,2021-01-28 23:03:09.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 28223}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-01-27 18:20:39.000000000', 'files': ['validations_libs/utils.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e21f6f11f87adb118b0c8a81a7b143bff376eb5f', 'message': ""Add an error message when groups is not found in the playbook\n\nIf there are no groups in the playbook, we currently get a python error\nwhen running command 'openstack tripleo validator group info'\n\nChange-Id: Ice089c33d566e90bea55e18fe7f77f9d33fe81f3\n""}]",0,772755,e21f6f11f87adb118b0c8a81a7b143bff376eb5f,9,6,1,32432,,,0,"Add an error message when groups is not found in the playbook

If there are no groups in the playbook, we currently get a python error
when running command 'openstack tripleo validator group info'

Change-Id: Ice089c33d566e90bea55e18fe7f77f9d33fe81f3
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/55/772755/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/utils.py'],1,e21f6f11f87adb118b0c8a81a7b143bff376eb5f,fix_utils_error, if not val.groups: msg = 'Group not found in playbook - please add appropriate group' raise RuntimeError(msg) ,,4,0
openstack%2Fpython-tripleoclient~master~I8caad3e9185f1c6d23b0941b966192957ca8320b,openstack/python-tripleoclient,master,I8caad3e9185f1c6d23b0941b966192957ca8320b,Use heat server side env merging,MERGED,2020-12-07 13:30:06.000000000,2021-01-28 23:05:01.000000000,2021-01-28 23:03:05.000000000,"[{'_account_id': 4328}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-07 13:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7c5bf65a7713a7acc1074e3b1992cc41d5a54bf3', 'message': 'WIP Use heat server side env merging\n\nChange-Id: I8caad3e9185f1c6d23b0941b966192957ca8320b\n'}, {'number': 2, 'created': '2020-12-08 05:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e8582b877d048ca9c7f08b9036028bd2309a27fa', 'message': 'WIP Use heat server side env merging\n\nChange-Id: I8caad3e9185f1c6d23b0941b966192957ca8320b\n'}, {'number': 3, 'created': '2020-12-10 09:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/656bdeaf2302b4db3275dda65772326a7c596d67', 'message': 'WIP Use heat server side env merging\n\nChange-Id: I8caad3e9185f1c6d23b0941b966192957ca8320b\n'}, {'number': 4, 'created': '2020-12-17 10:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/21a7d5f7b2b7b2db63904830d772ad275e3544da', 'message': 'Use heat server side env merging\n\nChange-Id: I8caad3e9185f1c6d23b0941b966192957ca8320b\n'}, {'number': 5, 'created': '2020-12-21 07:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6eed9b2cea0a448fb95de1dbf4c291dbe58919a6', 'message': 'Use heat server side env merging\n\nChange-Id: I8caad3e9185f1c6d23b0941b966192957ca8320b\n'}, {'number': 6, 'created': '2021-01-05 04:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/45dc95365274bcf9ca9e2b7116b0bcb79286c0d5', 'message': 'Use heat server side env merging\n\nChange-Id: I8caad3e9185f1c6d23b0941b966192957ca8320b\n'}, {'number': 7, 'created': '2021-01-05 05:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/993b3a4055951781c7e3fa54d56b91683286f8be', 'message': 'Use heat server side env merging\n\nChange-Id: I8caad3e9185f1c6d23b0941b966192957ca8320b\n'}, {'number': 8, 'created': '2021-01-05 11:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ca7a12fb62a6a2f4b9d54935b4b29fe231b7cd19', 'message': 'Use heat server side env merging\n\nChange-Id: I8caad3e9185f1c6d23b0941b966192957ca8320b\n'}, {'number': 9, 'created': '2021-01-06 03:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/60773a5fcab389dfd2137aafdfc29c92fd97ba75', 'message': 'Use heat server side env merging\n\nChange-Id: I8caad3e9185f1c6d23b0941b966192957ca8320b\n'}, {'number': 10, 'created': '2021-01-19 10:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/926c01e8fa2a8c1a55be3a576c29a60e7dff3801', 'message': 'Use heat server side env merging\n\nChange-Id: I8caad3e9185f1c6d23b0941b966192957ca8320b\n'}, {'number': 11, 'created': '2021-01-21 05:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b80bb07aba7537a45b8a38d1526b8ee12f38de44', 'message': 'Use heat server side env merging\n\nChange-Id: I8caad3e9185f1c6d23b0941b966192957ca8320b\n'}, {'number': 12, 'created': '2021-01-24 12:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6f70e45086bd2786bb2ed3a888bcd8aceaeab9d8', 'message': ""Use heat server side env merging\n\nThis changes to update the stack without using\nthe plan and also enables server side env merging\nas we don't use the plan-environment.\n\nAlso makes changes to call derive params playbooks\nwithout plan.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/772197\nChange-Id: I8caad3e9185f1c6d23b0941b966192957ca8320b\n""}, {'number': 13, 'created': '2021-01-25 02:41:01.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/workflows/roles.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/workflows/parameters.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/258ecb54b7b2a0fe4a934db7c992f38de55e2bc1', 'message': ""Use heat server side env merging\n\nThis changes to update the stack without using\nthe plan and also enables server side env merging\nas we don't use the plan-environment.\n\nAlso makes changes to call derive params playbooks\nwithout plan.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/772197\nChange-Id: I8caad3e9185f1c6d23b0941b966192957ca8320b\n""}]",1,765808,258ecb54b7b2a0fe4a934db7c992f38de55e2bc1,51,7,13,8833,,,0,"Use heat server side env merging

This changes to update the stack without using
the plan and also enables server side env merging
as we don't use the plan-environment.

Also makes changes to call derive params playbooks
without plan.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/772197
Change-Id: I8caad3e9185f1c6d23b0941b966192957ca8320b
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/08/765808/9 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",5,7c5bf65a7713a7acc1074e3b1992cc41d5a54bf3,env_merging," if not args.skip_deploy_identifier: parameters['DeployIdentifier'] = int(time.time()) else: parameters['DeployIdentifier'] = '' env_path, _ = self._write_user_environment( return [env_path] env_path, _ = self._write_user_environment( return [env_path] run_validations, plan_env_file, env_files_tracker=None, template_file=template_path) deployment.deploy_without_plan( self.clients, stack, stack_name, template, files, env_files_tracker, self.log) param_env = self._create_parameters_env( parameters, tht_root, parsed_args.stack) created_env_files.extend(param_env) if stack: env_path = self._create_breakpoint_cleanup_env( tht_root, parsed_args.stack) created_env_files.extend(env_path) env_files_tracker = [] env_files, env = utils.process_multiple_environments( env_files_tracker=env_files_tracker, parsed_args.run_validations, env_files_tracker=env_files_tracker, env_files_tracker=None, run_validations, env_files_tracker=env_files_tracker,"," env_path, swift_path = self._write_user_environment( return bp_env env_path, swift_path = self._write_user_environment( return parameter_defaults run_validations, skip_deploy_identifier, plan_env_file, # We need to reference the plan here, not the local # tht root, as we need template_object to refer to # the rendered overcloud.yaml, not the tht_root overcloud.j2.yaml # FIXME(shardy) we need to move more of this into mistral actions plan_yaml_path = os.path.relpath(template_path, tht_root) # heatclient template_utils needs a function that can # retrieve objects from a container by name/path def do_object_request(method='GET', object_path=None): obj = self.object_client.get_object(stack_name, object_path) return obj and obj[1] template_object=plan_yaml_path, object_request=do_object_request) moved_files = self._upload_missing_files( stack_name, files, tht_root) self._process_and_upload_environment( stack_name, env, moved_files, tht_root) deployment.deploy_and_wait( log=self.log, clients=self.clients, stack=stack, plan_name=stack_name, verbose_level=utils.playbook_verbosity(self=self), timeout=timeout, run_validations=run_validations, skip_deploy_identifier=skip_deploy_identifier, deployment_options=deployment_options ) def _process_and_upload_environment(self, container_name, env, moved_files, tht_root): """"""Process the environment and upload to Swift The environment at this point should be the result of the merged custom user environments. We need to look at the paths in the environment and update any that changed when they were uploaded to swift. """""" file_prefix = ""file://"" if env.get('resource_registry'): for name, path in env['resource_registry'].items(): if not isinstance(path, six.string_types): continue if path in moved_files: new_path = moved_files[path] env['resource_registry'][name] = new_path elif path.startswith(file_prefix): path = path[len(file_prefix):] if path.startswith(tht_root): path = path[len(tht_root):] # We want to make sure all the paths are relative. if path.startswith(""/""): path = path[1:] env['resource_registry'][name] = path # Parameters are removed from the environment params = env.pop('parameter_defaults', None) contents = yaml.safe_dump(env, default_flow_style=False) # Until we have a well defined plan update workflow in tripleo-common # we need to manually add an environment in swift and for users # custom environments passed to the deploy command. # See bug: https://bugs.launchpad.net/tripleo/+bug/1623431 # Update plan env. swift_path = ""user-environment.yaml"" self.object_client.put_object(container_name, swift_path, contents) env = yaml.safe_load(self.object_client.get_object( container_name, constants.PLAN_ENVIRONMENT)[1]) user_env = {'path': swift_path} if user_env not in env['environments']: env['environments'].append(user_env) yaml_string = yaml.safe_dump(env, default_flow_style=False) self.object_client.put_object( container_name, constants.PLAN_ENVIRONMENT, yaml_string) # Parameters are sent to the update parameters action, this stores them # in the plan environment and means the UI can find them. if params: with utils.TempDirs() as tmp: utils.run_ansible_playbook( playbook='cli-update-params.yaml', inventory='localhost,', workdir=tmp, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=utils.playbook_verbosity(self=self), extra_vars={ ""container"": container_name }, extra_vars_file={ ""parameters"": params } ) def _upload_missing_files(self, container_name, files_dict, tht_root): """"""Find the files referenced in custom environments and upload them Heat environments can be passed to be included in the deployment, these files can include references to other files anywhere on the local file system. These need to be discovered and uploaded to Swift. When they have been uploaded to Swift the path to them will be different, the new paths are store din the file_relocation dict, which is returned and used by _process_and_upload_environment which will merge the environment and update paths to the relative Swift path. """""" file_relocation = {} file_prefix = ""file://"" # select files files for relocation & upload for fullpath in files_dict.keys(): if not fullpath.startswith(file_prefix): continue path = fullpath[len(file_prefix):] if path.startswith(tht_root): # This should already be uploaded. continue file_relocation[fullpath] = ""user-files/{}"".format( os.path.normpath(path[1:])) # make sure links within files point to new locations, and upload them for orig_path, reloc_path in file_relocation.items(): link_replacement = utils.relative_link_replacement( file_relocation, os.path.dirname(reloc_path)) contents = utils.replace_links_in_template_contents( files_dict[orig_path], link_replacement) self.object_client.put_object(container_name, reloc_path, contents) return file_relocation env = {} if stack: try: # If user environment already exist then keep it user_env = yaml.safe_load(self.object_client.get_object( parsed_args.stack, constants.USER_ENVIRONMENT)[1]) template_utils.deep_update(env, user_env) except ClientException: pass template_utils.deep_update(env, self._create_parameters_env( parameters, tht_root, parsed_args.stack)) env_files, localenv = utils.process_multiple_environments( template_utils.deep_update(env, localenv) bp_cleanup = self._create_breakpoint_cleanup_env( tht_root, parsed_args.stack) template_utils.deep_update(env, bp_cleanup) parsed_args.run_validations, parsed_args.skip_deploy_identifier, skip_deploy_identifier, run_validations, skip_deploy_identifier,",115,180
openstack%2Fosops~master~If850b46d00bf1c3c2650e931dbae1c4e0a43c366,openstack/osops,master,If850b46d00bf1c3c2650e931dbae1c4e0a43c366,Add more Getting Started direction,MERGED,2020-11-12 20:11:18.000000000,2021-01-28 23:02:19.000000000,2021-01-28 23:02:19.000000000,"[{'_account_id': 11904}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-12 20:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osops/commit/511f59135baeb1d68b461d76ea9fcf7c31532ac9', 'message': 'Add more Getting Started direction\n\nChange-Id: If850b46d00bf1c3c2650e931dbae1c4e0a43c366\n'}, {'number': 2, 'created': '2021-01-28 22:58:06.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/osops/commit/7439b3e083716f079d01becd782580c9636d6125', 'message': 'Add more Getting Started direction\n\nChange-Id: If850b46d00bf1c3c2650e931dbae1c4e0a43c366\n'}]",0,762573,7439b3e083716f079d01becd782580c9636d6125,10,3,2,16708,,,0,"Add more Getting Started direction

Change-Id: If850b46d00bf1c3c2650e931dbae1c4e0a43c366
",git fetch https://review.opendev.org/openstack/osops refs/changes/73/762573/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,511f59135baeb1d68b461d76ea9fcf7c31532ac9,update-getting-started-details,"process described at https://docs.openstack.org/contributors/code-and-documentation/quick-start.html. If you need some additional help or have questions getting your patches pushed, please reach out to anyone in the First Contact SIG! https://wiki.openstack.org/wiki/First_Contact_SIG",process described at http://docs.openstack.org/infra/manual/developers.html .,5,1
openstack%2Fosops~master~I4c4e505756a94d1120a6408d4d2f760d710c9c05,openstack/osops,master,I4c4e505756a94d1120a6408d4d2f760d710c9c05,fix old command line deprecated,MERGED,2020-10-30 16:08:04.000000000,2021-01-28 23:01:13.000000000,2021-01-28 23:01:13.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-30 16:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osops/commit/05bc93db69aa92160aa6618a8be9e91007d21158', 'message': 'fix old deprecated\n\ntested on packstack 16\n\nStory: 41184\n\nChange-Id: I4c4e505756a94d1120a6408d4d2f760d710c9c05\nSigned-off-by: Cyril Lopez <cylopez@redhat.com>\n'}, {'number': 2, 'created': '2020-10-30 19:35:25.000000000', 'files': ['tools/monitoring/nagios-plugins/keystone-token.sh'], 'web_link': 'https://opendev.org/openstack/osops/commit/02f76643b004b2fca2533c9164f9aed7e1b7a7d5', 'message': 'fix old command line deprecated\n\ntested on packstack 16\n\nStory: 2008299\n\nChange-Id: I4c4e505756a94d1120a6408d4d2f760d710c9c05\nSigned-off-by: Cyril Lopez <cylopez@redhat.com>\n'}]",0,760620,02f76643b004b2fca2533c9164f9aed7e1b7a7d5,8,2,2,16339,,,0,"fix old command line deprecated

tested on packstack 16

Story: 2008299

Change-Id: I4c4e505756a94d1120a6408d4d2f760d710c9c05
Signed-off-by: Cyril Lopez <cylopez@redhat.com>
",git fetch https://review.opendev.org/openstack/osops refs/changes/20/760620/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/monitoring/nagios-plugins/keystone-token.sh'],1,05bc93db69aa92160aa6618a8be9e91007d21158,keystone-token, openstack token issue 2>&1 > /dev/null,keystone token-get 2>&1 > /dev/null,3,1
openstack%2Fosops~master~Idc048ce8c9b6d7769d0fbd20759c62e303599618,openstack/osops,master,Idc048ce8c9b6d7769d0fbd20759c62e303599618,Fix an erroneous grammar in some documents,MERGED,2020-09-13 09:26:29.000000000,2021-01-28 23:01:01.000000000,2021-01-28 23:01:01.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27380}, {'_account_id': 30696}]","[{'number': 1, 'created': '2020-09-13 09:26:29.000000000', 'files': ['contrib/terraform/dockerswarm-coreos/README.md', 'contrib/terraform/docker-registry/README.md'], 'web_link': 'https://opendev.org/openstack/osops/commit/e8d457314bc9c85707a8f9cd5aa655de310a3917', 'message': ""Fix an erroneous grammar in some documents\n\nThis patch changes 'on a OpenStack Cloud'\nto 'on an OpenStack Cloud' in some documents\n\nChange-Id: Idc048ce8c9b6d7769d0fbd20759c62e303599618\n""}]",0,751607,e8d457314bc9c85707a8f9cd5aa655de310a3917,10,4,1,30696,,,0,"Fix an erroneous grammar in some documents

This patch changes 'on a OpenStack Cloud'
to 'on an OpenStack Cloud' in some documents

Change-Id: Idc048ce8c9b6d7769d0fbd20759c62e303599618
",git fetch https://review.opendev.org/openstack/osops refs/changes/07/751607/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/terraform/dockerswarm-coreos/README.md', 'contrib/terraform/docker-registry/README.md']",2,e8d457314bc9c85707a8f9cd5aa655de310a3917,typo,This will install a Docker Registry on an Openstack Cloud. It is tested on an OpenStack Cloud provided by [BlueBox](https://www.blueboxcloud.com/) and should work on most modern installs of OpenStack.,This will install a Docker Registry on an Openstack Cloud. It is tested on a OpenStack Cloud provided by [BlueBox](https://www.blueboxcloud.com/) and should work on most modern installs of OpenStack.,2,2
openstack%2Fosops~master~I435d5294286d5fb52c5481b239a9143a07126f57,openstack/osops,master,I435d5294286d5fb52c5481b239a9143a07126f57,Add basic zuul config,MERGED,2021-01-28 21:51:43.000000000,2021-01-28 22:56:45.000000000,2021-01-28 22:56:45.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-28 21:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osops/commit/50594c4688fe72d787922be038b62b4634bd7487', 'message': 'Add basic zuul config\n\nJust run our bashate tox target for now.\n\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I435d5294286d5fb52c5481b239a9143a07126f57\n'}, {'number': 2, 'created': '2021-01-28 21:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osops/commit/190b797d8c199b4db3ae8a4e038c97659858d704', 'message': 'Add basic zuul config\n\nJust run our bashate tox target for now.\n\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I435d5294286d5fb52c5481b239a9143a07126f57\n'}, {'number': 3, 'created': '2021-01-28 21:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osops/commit/d8a0f7a925cec09981c1bf7916de8aac22de0fb4', 'message': 'Add basic zuul config\n\nJust run our bashate tox target for now.\n\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I435d5294286d5fb52c5481b239a9143a07126f57\n'}, {'number': 4, 'created': '2021-01-28 22:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osops/commit/227684e2716dc2098e3e7e4e8fbf461c858d7008', 'message': 'Add basic zuul config\n\nJust run our bashate tox target for now.\n\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I435d5294286d5fb52c5481b239a9143a07126f57\n'}, {'number': 5, 'created': '2021-01-28 22:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osops/commit/0cab5de1f21320932b14426951e20cd017c679ad', 'message': 'Add basic zuul config\n\nJust run our bashate tox target for now.\n\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I435d5294286d5fb52c5481b239a9143a07126f57\n'}, {'number': 6, 'created': '2021-01-28 22:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osops/commit/bc1a1e21c18f0ad6ac0b3a1515f4f0187a3ca244', 'message': 'Add basic zuul config\n\nJust run our bashate tox target for now.\n\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I435d5294286d5fb52c5481b239a9143a07126f57\n'}, {'number': 7, 'created': '2021-01-28 22:55:39.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/osops/commit/54af1c0a3ed165d4db311420caa87c3d884ac7e2', 'message': 'Add basic zuul config\n\nAdd noop jobs so zuul has something to ""run"".\n\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I435d5294286d5fb52c5481b239a9143a07126f57\n'}]",0,772947,54af1c0a3ed165d4db311420caa87c3d884ac7e2,20,2,7,11904,,,0,"Add basic zuul config

Add noop jobs so zuul has something to ""run"".

Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I435d5294286d5fb52c5481b239a9143a07126f57
",git fetch https://review.opendev.org/openstack/osops refs/changes/47/772947/7 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,50594c4688fe72d787922be038b62b4634bd7487,zuul,- job: name: osops-linters parent: openstack-tox-cover vars: tox_envlist: bashate ,,5,0
openstack%2Fnova~master~I5a6c6d3eed61895b00f9e9c3fb3b5d09d6786e9c,openstack/nova,master,I5a6c6d3eed61895b00f9e9c3fb3b5d09d6786e9c,Refactor update_pci_request_spec_with_allocated_interface_name,MERGED,2020-10-12 16:15:30.000000000,2021-01-28 22:23:44.000000000,2021-01-28 22:20:03.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-10-12 16:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54af0f62f255ef466c724acc3dfd7534d33223c8', 'message': 'Refactor update_pci_request_spec_with_allocated_interface_name\n\nMake update_pci_request_spec_with_allocated_interface_name only depend\non a list of IntancePCIRequest o.vos instead of a whole Instance object.\nThis will come in handy for the qos interface attach case where we only\nneed to make the changes on the Instance o.vo after we are sure that\nthe both the resource allocation and the pci claim is succeeded for the\nrequest.\n\nChange-Id: I5a6c6d3eed61895b00f9e9c3fb3b5d09d6786e9c\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 2, 'created': '2020-11-30 15:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b406d11abc44d5daab96afa16b983654db3275de', 'message': 'Refactor update_pci_request_spec_with_allocated_interface_name\n\nMake update_pci_request_spec_with_allocated_interface_name only depend\non a list of IntancePCIRequest o.vos instead of a whole Instance object.\nThis will come in handy for the qos interface attach case where we only\nneed to make the changes on the Instance o.vo after we are sure that\nthe both the resource allocation and the pci claim is succeeded for the\nrequest.\n\nChange-Id: I5a6c6d3eed61895b00f9e9c3fb3b5d09d6786e9c\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 3, 'created': '2020-11-30 16:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49af5055d857f48eeb8d15d4449ddaeb63fab5f5', 'message': 'Refactor update_pci_request_spec_with_allocated_interface_name\n\nMake update_pci_request_spec_with_allocated_interface_name only depend\non a list of IntancePCIRequest o.vos instead of a whole Instance object.\nThis will come in handy for the qos interface attach case where we only\nneed to make the changes on the Instance o.vo after we are sure that\nthe both the resource allocation and the pci claim is succeeded for the\nrequest.\n\nChange-Id: I5a6c6d3eed61895b00f9e9c3fb3b5d09d6786e9c\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 4, 'created': '2020-12-02 15:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8d5029ba5a547b293bab53a3131ff42fe3375f9', 'message': 'Refactor update_pci_request_spec_with_allocated_interface_name\n\nMake update_pci_request_spec_with_allocated_interface_name only depend\non a list of IntancePCIRequest o.vos instead of a whole Instance object.\nThis will come in handy for the qos interface attach case where we only\nneed to make the changes on the Instance o.vo after we are sure that\nthe both the resource allocation and the pci claim is succeeded for the\nrequest.\n\nChange-Id: I5a6c6d3eed61895b00f9e9c3fb3b5d09d6786e9c\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 5, 'created': '2020-12-07 08:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62d1ceca2810eb1c9fcb127d7b4abb4acee8ad2b', 'message': 'Refactor update_pci_request_spec_with_allocated_interface_name\n\nMake update_pci_request_spec_with_allocated_interface_name only depend\non a list of IntancePCIRequest o.vos instead of a whole Instance object.\nThis will come in handy for the qos interface attach case where we only\nneed to make the changes on the Instance o.vo after we are sure that\nthe both the resource allocation and the pci claim is succeeded for the\nrequest.\n\nChange-Id: I5a6c6d3eed61895b00f9e9c3fb3b5d09d6786e9c\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 6, 'created': '2020-12-16 13:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13479d25d1cfd29c5bddad8a6f406658be4e91bc', 'message': 'Refactor update_pci_request_spec_with_allocated_interface_name\n\nMake update_pci_request_spec_with_allocated_interface_name only depend\non a list of IntancePCIRequest o.vos instead of a whole Instance object.\nThis will come in handy for the qos interface attach case where we only\nneed to make the changes on the Instance o.vo after we are sure that\nthe both the resource allocation and the pci claim is succeeded for the\nrequest.\n\nChange-Id: I5a6c6d3eed61895b00f9e9c3fb3b5d09d6786e9c\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 7, 'created': '2020-12-16 15:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9316c34c1b2f02db259e1e192911512b4ac6a66', 'message': 'Refactor update_pci_request_spec_with_allocated_interface_name\n\nMake update_pci_request_spec_with_allocated_interface_name only depend\non a list of IntancePCIRequest o.vos instead of a whole Instance object.\nThis will come in handy for the qos interface attach case where we only\nneed to make the changes on the Instance o.vo after we are sure that\nthe both the resource allocation and the pci claim is succeeded for the\nrequest.\n\nChange-Id: I5a6c6d3eed61895b00f9e9c3fb3b5d09d6786e9c\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 8, 'created': '2021-01-07 12:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ef3d3acbbaa55a013c90949bf960c1c4023f2ed', 'message': 'Refactor update_pci_request_spec_with_allocated_interface_name\n\nMake update_pci_request_spec_with_allocated_interface_name only depend\non a list of IntancePCIRequest o.vos instead of a whole Instance object.\nThis will come in handy for the qos interface attach case where we only\nneed to make the changes on the Instance o.vo after we are sure that\nthe both the resource allocation and the pci claim is succeeded for the\nrequest.\n\nChange-Id: I5a6c6d3eed61895b00f9e9c3fb3b5d09d6786e9c\nblueprint: support-interface-attach-with-qos-ports\n'}, {'number': 9, 'created': '2021-01-18 15:08:00.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/tests/unit/compute/test_compute.py', 'nova/conductor/tasks/live_migrate.py', 'nova/compute/manager.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py', 'nova/compute/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/be9dd3d9dbf19ff50998178f83b1de40e9acc09a', 'message': 'Refactor update_pci_request_spec_with_allocated_interface_name\n\nMake update_pci_request_spec_with_allocated_interface_name only depend\non a list of IntancePCIRequest o.vos instead of a whole Instance object.\nThis will come in handy for the qos interface attach case where we only\nneed to make the changes on the Instance o.vo after we are sure that\nthe both the resource allocation and the pci claim is succeeded for the\nrequest.\n\nChange-Id: I5a6c6d3eed61895b00f9e9c3fb3b5d09d6786e9c\nblueprint: support-interface-attach-with-qos-ports\n'}]",1,757614,be9dd3d9dbf19ff50998178f83b1de40e9acc09a,67,10,9,9708,,,0,"Refactor update_pci_request_spec_with_allocated_interface_name

Make update_pci_request_spec_with_allocated_interface_name only depend
on a list of IntancePCIRequest o.vos instead of a whole Instance object.
This will come in handy for the qos interface attach case where we only
need to make the changes on the Instance o.vo after we are sure that
the both the resource allocation and the pci claim is succeeded for the
request.

Change-Id: I5a6c6d3eed61895b00f9e9c3fb3b5d09d6786e9c
blueprint: support-interface-attach-with-qos-ports
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/757614/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/tests/unit/compute/test_compute.py', 'nova/conductor/tasks/live_migrate.py', 'nova/compute/manager.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/compute/utils.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']",8,54af0f62f255ef466c724acc3dfd7534d33223c8,bp/support-interface-attach-with-qos-ports," self.instance.pci_requests = objects.InstancePCIRequests(requests=[]) self.context, self.task.report_client, [], {uuids.port_id: []})"," self.context, self.task.report_client, self.instance, {uuids.port_id: []})",39,56
openstack%2Fos-net-config~stable%2Ftrain~Iaf4294bec6c21f130c7a149d0f45d3be53c1c9cc,openstack/os-net-config,stable/train,Iaf4294bec6c21f130c7a149d0f45d3be53c1c9cc,basic support for Linux tap devices,MERGED,2021-01-13 11:34:45.000000000,2021-01-28 21:41:00.000000000,2021-01-28 21:38:41.000000000,"[{'_account_id': 10234}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18810}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-13 11:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/5a3355089bd5f31c3ed76404165bab1aa4f37990', 'message': 'basic support for Linux tap devices\n\nour project needs to deploy taps using os-net-config utility. leverage\na dedicated type from ifcfg implementation.\n\nChange-Id: Iaf4294bec6c21f130c7a149d0f45d3be53c1c9cc\n'}, {'number': 2, 'created': '2021-01-18 09:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/2e7777a338002c25ba9a0ffe0683f4dd8abf69d2', 'message': 'basic support for Linux tap devices\n\nour project needs to deploy taps using os-net-config utility. leverage\na dedicated type from ifcfg implementation.\n\nChange-Id: Iaf4294bec6c21f130c7a149d0f45d3be53c1c9cc\ncherry-piked: da7614bc48bf4587bfd071c4bc71ba6265fa687a\n'}, {'number': 3, 'created': '2021-01-18 10:02:19.000000000', 'files': ['etc/os-net-config/samples/linux_tap.json', 'os_net_config/schema.yaml', 'os_net_config/tests/test_objects.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py', 'os_net_config/__init__.py', 'etc/os-net-config/samples/linux_tap.yaml', 'os_net_config/objects.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/0cdb1d2aaf176dccde1e4a94cf8668dd48909218', 'message': 'basic support for Linux tap devices\n\nour project needs to deploy taps using os-net-config utility. leverage\na dedicated type from ifcfg implementation.\n\nChange-Id: Iaf4294bec6c21f130c7a149d0f45d3be53c1c9cc\ncherry piked from commit da7614bc48bf4587bfd071c4bc71ba6265fa687a\n'}]",0,770581,0cdb1d2aaf176dccde1e4a94cf8668dd48909218,24,5,3,32220,,,0,"basic support for Linux tap devices

our project needs to deploy taps using os-net-config utility. leverage
a dedicated type from ifcfg implementation.

Change-Id: Iaf4294bec6c21f130c7a149d0f45d3be53c1c9cc
cherry piked from commit da7614bc48bf4587bfd071c4bc71ba6265fa687a
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/81/770581/3 && git format-patch -1 --stdout FETCH_HEAD,"['etc/os-net-config/samples/linux_tap.json', 'os_net_config/schema.yaml', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_objects.py', 'os_net_config/impl_ifcfg.py', 'etc/os-net-config/samples/linux_tap.yaml', 'os_net_config/__init__.py', 'os_net_config/objects.py']",8,5a3355089bd5f31c3ed76404165bab1aa4f37990,," elif obj_type == ""linux_tap"": return LinuxTap.from_json(json) class LinuxTap(_BaseOpts): """"""Base class for Linux tap Interface. TAP, namely network TAP, simulates a link layer device and operates in layer 2 carrying Ethernet frames. A user space program may also pass packets into a TAP device. In this case the TAP device delivers (or ""injects"") these packets to the operating-system network stack thus emulating their reception from an external source. """""" def __init__(self, name, use_dhcp=False, use_dhcpv6=False, addresses=None, routes=None, rules=None, mtu=None, primary=False, nic_mapping=None, persist_mapping=False, defroute=True, dhclient_args=None, dns_servers=None, nm_controlled=False, onboot=True, domain=None, members=None): super(LinuxTap, self).__init__(name, use_dhcp, use_dhcpv6, addresses, routes, rules, mtu, primary, nic_mapping, persist_mapping, defroute, dhclient_args, dns_servers, nm_controlled, onboot, domain) @staticmethod def from_json(json): name = _get_required_field(json, 'name', 'LinuxTap') (_use_dhcp, _use_dhcpv6, _addresses, _routes, _rules, _mtu, _primary, nic_mapping, persist_mapping, _defroute, _dhclient_args, _dns_servers, _nm_controlled, _onboot, _domain) = opts = _BaseOpts.base_opts_from_json(json) return LinuxTap(name, *opts)",,142,0
openstack%2Ftripleo-ansible~stable%2Fvictoria~I73ac1c405e8a3539937a5578bb003cba0b935d94,openstack/tripleo-ansible,stable/victoria,I73ac1c405e8a3539937a5578bb003cba0b935d94,Don't set capabilities in priviledge mode,MERGED,2021-01-18 10:12:56.000000000,2021-01-28 21:17:58.000000000,2021-01-28 21:17:58.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-18 10:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2d636a810a05dab49f2c5a160e77bf32d6063397', 'message': ""Don't set capabilities in priviledge mode\n\nWhen priviledge mode is set, don't add any capabilities as they\nare included.\nUse 1.6.4 podman because 2.0.5 rootless doesn't work with\nsystemd [1]\nDisable Selinux on host.\n[1] https://github.com/containers/podman/issues/8965\nCloses-Bug: #1910970\nChange-Id: I73ac1c405e8a3539937a5578bb003cba0b935d94\n(cherry picked from commit c90b0ea4e6adcbb0ef1a21f3209b6cc023ada0ee)\n""}, {'number': 2, 'created': '2021-01-25 13:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/560e0538dbed236bd6de992377dd96a0e48d3f1b', 'message': ""Don't set capabilities in priviledge mode\n\nWhen priviledge mode is set, don't add any capabilities as they\nare included.\nUse 1.6.4 podman because 2.0.5 rootless doesn't work with\nsystemd [1]\nDisable Selinux on host.\n[1] https://github.com/containers/podman/issues/8965\nCloses-Bug: #1910970\nChange-Id: I73ac1c405e8a3539937a5578bb003cba0b935d94\n(cherry picked from commit c90b0ea4e6adcbb0ef1a21f3209b6cc023ada0ee)\n""}, {'number': 3, 'created': '2021-01-25 13:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4a191086a139d31a11a847db2ae09213e4c0d3d1', 'message': ""Don't set capabilities in priviledge mode\n\nWhen priviledge mode is set, don't add any capabilities as they\nare included.\nUse 1.6.4 podman because 2.0.5 rootless doesn't work with\nsystemd [1]\nDisable Selinux on host.\n[1] https://github.com/containers/podman/issues/8965\nCloses-Bug: #1910970\n\nNote: tripleo_update_trusted_cas role is only available in master\nbut not in victora or ussuri so removing this role molecule file\nfrom cherry-pick.\n\nChange-Id: I73ac1c405e8a3539937a5578bb003cba0b935d94\n(cherry picked from commit c90b0ea4e6adcbb0ef1a21f3209b6cc023ada0ee)\n""}, {'number': 4, 'created': '2021-01-25 14:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b335241bca74ab58427c46d853e2ee7c59c27144', 'message': ""Don't set capabilities in priviledge mode\n\nWhen priviledge mode is set, don't add any capabilities as they\nare included.\nUse 1.6.4 podman because 2.0.5 rootless doesn't work with\nsystemd [1]\nDisable Selinux on host.\n[1] https://github.com/containers/podman/issues/8965\nCloses-Bug: #1910970\n\nNote:\n* tripleo_update_trusted_cas role is only available in master\n  but not in victora or ussuri so removing this role molecule file\n  from cherry-pick.\n* It also fixes openvswitch package name otherwise it will be blocked.\n\nChange-Id: I73ac1c405e8a3539937a5578bb003cba0b935d94\n(cherry picked from commit c90b0ea4e6adcbb0ef1a21f3209b6cc023ada0ee)\n""}, {'number': 5, 'created': '2021-01-26 04:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0f2458bfef27efc74912e806e0fb4fca48a315f7', 'message': ""Don't set capabilities in priviledge mode\n\nWhen priviledge mode is set, don't add any capabilities as they\nare included.\nUse 1.6.4 podman because 2.0.5 rootless doesn't work with\nsystemd [1]\nDisable Selinux on host.\n[1] https://github.com/containers/podman/issues/8965\nCloses-Bug: #1910970\n\nNote:\n* tripleo_update_trusted_cas role is only available in master\n  but not in victora or ussuri so removing this role molecule file\n  from cherry-pick.\n* It also fixes openvswitch package name otherwise it will be blocked,\n  taken from https://review.opendev.org/c/openstack/tripleo-ansible/+/764360\n  still blocked due to this patch.\n\nChange-Id: I73ac1c405e8a3539937a5578bb003cba0b935d94\n(cherry picked from commit c90b0ea4e6adcbb0ef1a21f3209b6cc023ada0ee)\n""}, {'number': 6, 'created': '2021-01-27 03:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/58b18c1cb547b5443e556f524598f6af7959f31e', 'message': ""Don't set capabilities in priviledge mode\n\nWhen priviledge mode is set, don't add any capabilities as they\nare included.\nUse 1.6.4 podman because 2.0.5 rootless doesn't work with\nsystemd [1]\nDisable Selinux on host.\n[1] https://github.com/containers/podman/issues/8965\nCloses-Bug: #1910970\n\nNote:\n* tripleo_update_trusted_cas role is only available in master\n  but not in victora or ussuri so removing this role molecule file\n  from cherry-pick.\n* It also fixes openvswitch package name otherwise it will be blocked,\n  taken from https://review.opendev.org/c/openstack/tripleo-ansible/+/764360\n  still blocked due to this patch.\n\nChange-Id: I73ac1c405e8a3539937a5578bb003cba0b935d94\n(cherry picked from commit c90b0ea4e6adcbb0ef1a21f3209b6cc023ada0ee)\n""}, {'number': 7, 'created': '2021-01-27 13:02:04.000000000', 'files': ['tripleo_ansible/roles/tripleo_sshd/molecule/banners/molecule.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/molecule.yml', 'zuul.d/base.yaml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/molecule.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/prepare.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/molecule.yml', 'zuul.d/playbooks/pre.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/update/molecule.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/69d98cffb45ecb40c4a3ca7764fec3de421597cd', 'message': ""Don't set capabilities in priviledge mode\n\nWhen priviledge mode is set, don't add any capabilities as they\nare included.\nUse 1.6.4 podman because 2.0.5 rootless doesn't work with\nsystemd [1]\nDisable Selinux on host.\n[1] https://github.com/containers/podman/issues/8965\nCloses-Bug: #1910970\n\nNote:\n* tripleo_update_trusted_cas role is only available in master\n  but not in victora or ussuri so removing this role molecule file\n  from cherry-pick.\n* It also fixes openvswitch package name otherwise it will be blocked,\n  taken from https://review.opendev.org/c/openstack/tripleo-ansible/+/764360\n  still blocked due to this patch.\n* Increasing the job timeout to fix\n  tripleo-ansible-centos-8-molecule-tripleo_ovs_dpdk job taken from\n  https://review.opendev.org/c/openstack/tripleo-ansible/+/764360\n\nChange-Id: I73ac1c405e8a3539937a5578bb003cba0b935d94\n(cherry picked from commit c90b0ea4e6adcbb0ef1a21f3209b6cc023ada0ee)\n""}]",15,771127,69d98cffb45ecb40c4a3ca7764fec3de421597cd,72,6,7,12393,,,0,"Don't set capabilities in priviledge mode

When priviledge mode is set, don't add any capabilities as they
are included.
Use 1.6.4 podman because 2.0.5 rootless doesn't work with
systemd [1]
Disable Selinux on host.
[1] https://github.com/containers/podman/issues/8965
Closes-Bug: #1910970

Note:
* tripleo_update_trusted_cas role is only available in master
  but not in victora or ussuri so removing this role molecule file
  from cherry-pick.
* It also fixes openvswitch package name otherwise it will be blocked,
  taken from https://review.opendev.org/c/openstack/tripleo-ansible/+/764360
  still blocked due to this patch.
* Increasing the job timeout to fix
  tripleo-ansible-centos-8-molecule-tripleo_ovs_dpdk job taken from
  https://review.opendev.org/c/openstack/tripleo-ansible/+/764360

Change-Id: I73ac1c405e8a3539937a5578bb003cba0b935d94
(cherry picked from commit c90b0ea4e6adcbb0ef1a21f3209b6cc023ada0ee)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/27/771127/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_sshd/molecule/banners/molecule.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/ffu/molecule.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/external_upgrade/molecule.yml', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_redhat_enforce/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/molecule.yml', 'zuul.d/playbooks/pre.yml', 'tripleo_ansible/roles/tripleo_packages/molecule/update/molecule.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/molecule.yml']",20,2d636a810a05dab49f2c5a160e77bf32d6063397,caps-stable/victoria,, capabilities: - ALL,70,42
openstack%2Ftripleo-ci~master~I7689df83354cbc80f3f9cc80c05a3e367c529f13,openstack/tripleo-ci,master,I7689df83354cbc80f3f9cc80c05a3e367c529f13,remove tripleo-ci-centos-7-standalone-upgrade-train,MERGED,2021-01-11 16:41:49.000000000,2021-01-28 20:52:18.000000000,2021-01-28 20:52:18.000000000,"[{'_account_id': 6816}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-11 16:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/01a36b743ad7728935f6de281bf1157e1f3f0a9e', 'message': 'remove tripleo-ci-centos-7-standalone-upgrade-train\n\nsee bug for details:\n\nRelated-Bug: #1911027\nChange-Id: I7689df83354cbc80f3f9cc80c05a3e367c529f13\n'}, {'number': 2, 'created': '2021-01-11 16:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b3478ed8b6fa52519e55da1258472725b2c928a1', 'message': 'remove tripleo-ci-centos-7-standalone-upgrade-train\n\nsee bug for details\n\nRelated-Bug: #1911027\nChange-Id: I7689df83354cbc80f3f9cc80c05a3e367c529f13\n'}, {'number': 3, 'created': '2021-01-21 19:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/712fd6deebca630d150b3a68c6db624cb75a1f06', 'message': 'remove tripleo-ci-centos-7-standalone-upgrade-train\n\nsee bug for details\n\nRelated-Bug: #1911027\nChange-Id: I7689df83354cbc80f3f9cc80c05a3e367c529f13\n'}, {'number': 4, 'created': '2021-01-25 08:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f622a7d625cf4147532e594c2e56b3a9ae1fe799', 'message': 'remove tripleo-ci-centos-7-standalone-upgrade-train\n\nsee bug for details\n\nRelated-Bug: #1911027\nChange-Id: I7689df83354cbc80f3f9cc80c05a3e367c529f13\n'}, {'number': 5, 'created': '2021-01-25 08:29:31.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/periodic.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2d7e307f8f69eb0f441c835024dd6dd0d4f81af5', 'message': 'remove tripleo-ci-centos-7-standalone-upgrade-train\n\nremoving the centos7 standalone-upgrade jobs including\nthe -train and -stein variant\n\nsee bug for details and topic branch at [1]\n\nCo-Authored-By: Marios Andreou <marios@redhat.com>\nRelated-Bug: #1911027\n[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal\n\nChange-Id: I7689df83354cbc80f3f9cc80c05a3e367c529f13\n'}]",203,770151,2d7e307f8f69eb0f441c835024dd6dd0d4f81af5,47,7,5,9592,,,0,"remove tripleo-ci-centos-7-standalone-upgrade-train

removing the centos7 standalone-upgrade jobs including
the -train and -stein variant

see bug for details and topic branch at [1]

Co-Authored-By: Marios Andreou <marios@redhat.com>
Related-Bug: #1911027
[1] https://review.opendev.org/q/topic:tripleo-c7-update-upgrade-removal

Change-Id: I7689df83354cbc80f3f9cc80c05a3e367c529f13
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/51/770151/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/standalone-jobs.yaml', 'zuul.d/periodic.yaml', 'zuul.d/multinode-jobs.yaml']",3,01a36b743ad7728935f6de281bf1157e1f3f0a9e,tripleo-c7-update-upgrade-removal,, - tripleo-ci-centos-7-standalone-upgrade-train: irrelevant-files: *standalone_ignored,0,45
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I35c7c1610af08b33497f43090761aaa55d3a9efc,openstack/tripleo-heat-templates,stable/train,I35c7c1610af08b33497f43090761aaa55d3a9efc,Ensure cloud-init has finished before puppet run,MERGED,2020-12-01 11:57:59.000000000,2021-01-28 20:52:13.000000000,2021-01-28 20:52:13.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-01 11:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29566de98d096e71c51b99d54ae37b9692b70f00', 'message': '[stable/train] WIP Ensure cloud-init has finished\n\nThis ensures that cloud-init has finished before ansible/puppet\nconfigurations.\n\nChange-Id: I35c7c1610af08b33497f43090761aaa55d3a9efc\n'}, {'number': 2, 'created': '2020-12-07 03:01:06.000000000', 'files': ['common/deploy-steps-tasks-step-0.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0c29604c1aafb94ec84c456d01cb1865732755a', 'message': 'Ensure cloud-init has finished before puppet run\n\nSometimes cloud-init does not finish before we start applying\nconfigs with ansible/puppet and can lead to issues. This would\nensure that cloud-init has finished before ansible/puppet\nconfigs.\n\nWith os-collect-config we used to ensure that with:\n\n$ sudo cat /usr/lib/systemd/system/os-collect-config.service\n[Unit]\nDescription=Collect metadata and run hook commands.\nAfter=cloud-final.service\nBefore=crond.service\n\nWith baremetal provisioning after config-drive support, this\nwould also be useful when firstboot config is used.\n\nChange-Id: I35c7c1610af08b33497f43090761aaa55d3a9efc\n(cherry picked from commit 1879441b3c3e771a5754ed9689f64dde2a927efb)\n'}]",0,764933,c0c29604c1aafb94ec84c456d01cb1865732755a,32,5,2,8833,,,0,"Ensure cloud-init has finished before puppet run

Sometimes cloud-init does not finish before we start applying
configs with ansible/puppet and can lead to issues. This would
ensure that cloud-init has finished before ansible/puppet
configs.

With os-collect-config we used to ensure that with:

$ sudo cat /usr/lib/systemd/system/os-collect-config.service
[Unit]
Description=Collect metadata and run hook commands.
After=cloud-final.service
Before=crond.service

With baremetal provisioning after config-drive support, this
would also be useful when firstboot config is used.

Change-Id: I35c7c1610af08b33497f43090761aaa55d3a9efc
(cherry picked from commit 1879441b3c3e771a5754ed9689f64dde2a927efb)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/764933/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks-step-0.j2.yaml'],1,29566de98d096e71c51b99d54ae37b9692b70f00,,"- name: Wait for cloud init to finish cloud_init_data_facts: filter: status register: result until: ""result.cloud_init_data_facts.status.v1.stage is defined and not result.cloud_init_data_facts.status.v1.stage"" retries: 50 delay: 5",,7,0
openstack%2Ftripleo-quickstart-extras~master~I9a7caaf34ef6960303c226334f1ac3108c566768,openstack/tripleo-quickstart-extras,master,I9a7caaf34ef6960303c226334f1ac3108c566768,Install pip 20.3.4 for python 2.,MERGED,2021-01-26 19:49:59.000000000,2021-01-28 20:47:13.000000000,2021-01-28 20:47:13.000000000,"[{'_account_id': 8297}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-01-26 19:49:59.000000000', 'files': ['roles/overcloud-prep-containers/tasks/overcloud-prep-containers.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/edbcd1a8bfb407b51c0919e2848a079b66750b7f', 'message': 'Install pip 20.3.4 for python 2.\n\nThe pip 21[1] is not compatible with python 2.\n\nCloses-Bug: #1913279\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/020003.html\n\nChange-Id: I9a7caaf34ef6960303c226334f1ac3108c566768\n'}]",3,772591,edbcd1a8bfb407b51c0919e2848a079b66750b7f,20,6,1,31245,,,0,"Install pip 20.3.4 for python 2.

The pip 21[1] is not compatible with python 2.

Closes-Bug: #1913279

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/020003.html

Change-Id: I9a7caaf34ef6960303c226334f1ac3108c566768
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/91/772591/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-containers/tasks/overcloud-prep-containers.yml'],1,edbcd1a8bfb407b51c0919e2848a079b66750b7f,pip_install_for_python_2," command: ""{{ python_cmd }} -m easy_install pip==20.3.4"""," command: ""{{ python_cmd }} -m easy_install pip""",1,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I35c7c1610af08b33497f43090761aaa55d3a9efc,openstack/tripleo-heat-templates,stable/ussuri,I35c7c1610af08b33497f43090761aaa55d3a9efc,Ensure cloud-init has finished before puppet run,MERGED,2020-12-07 03:00:36.000000000,2021-01-28 20:47:07.000000000,2021-01-28 20:47:07.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-07 03:00:36.000000000', 'files': ['common/deploy-steps-tasks-step-0.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ef0675dc0e47a7ed35f6da4e7c650c142d5dd4dd', 'message': 'Ensure cloud-init has finished before puppet run\n\nSometimes cloud-init does not finish before we start applying\nconfigs with ansible/puppet and can lead to issues. This would\nensure that cloud-init has finished before ansible/puppet\nconfigs.\n\nWith os-collect-config we used to ensure that with:\n\n$ sudo cat /usr/lib/systemd/system/os-collect-config.service\n[Unit]\nDescription=Collect metadata and run hook commands.\nAfter=cloud-final.service\nBefore=crond.service\n\nWith baremetal provisioning after config-drive support, this\nwould also be useful when firstboot config is used.\n\nChange-Id: I35c7c1610af08b33497f43090761aaa55d3a9efc\n(cherry picked from commit 1879441b3c3e771a5754ed9689f64dde2a927efb)\n'}]",0,765737,ef0675dc0e47a7ed35f6da4e7c650c142d5dd4dd,31,4,1,8833,,,0,"Ensure cloud-init has finished before puppet run

Sometimes cloud-init does not finish before we start applying
configs with ansible/puppet and can lead to issues. This would
ensure that cloud-init has finished before ansible/puppet
configs.

With os-collect-config we used to ensure that with:

$ sudo cat /usr/lib/systemd/system/os-collect-config.service
[Unit]
Description=Collect metadata and run hook commands.
After=cloud-final.service
Before=crond.service

With baremetal provisioning after config-drive support, this
would also be useful when firstboot config is used.

Change-Id: I35c7c1610af08b33497f43090761aaa55d3a9efc
(cherry picked from commit 1879441b3c3e771a5754ed9689f64dde2a927efb)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/765737/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks-step-0.j2.yaml'],1,ef0675dc0e47a7ed35f6da4e7c650c142d5dd4dd,,"- name: Populate service facts service_facts: - name: Wait for cloud-init to finish, if enabled cloud_init_data_facts: filter: status register: res until: > res.cloud_init_data_facts.status.v1.stage is defined and not res.cloud_init_data_facts.status.v1.stage retries: 50 delay: 5 when: > 'cloud-init.service' in ansible_facts.services and ansible_facts.services['cloud-init.service']['status'] == 'enabled'",,14,0
openstack%2Fpuppet-tripleo~master~Ib53c6c10ba737b0504f30e7260cace6d18c2f033,openstack/puppet-tripleo,master,Ib53c6c10ba737b0504f30e7260cace6d18c2f033,Remove parameters to manage keystone resources and volume type,MERGED,2020-12-24 01:22:49.000000000,2021-01-28 20:46:18.000000000,2021-01-28 20:46:18.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-24 01:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fa6cf4a01b6425396cef658c732c1271e17cf0b4', 'message': 'Remove useless parameters for keystone resource management\n\nThese parameters are no longer used since all resource management have\nbeen migrated to ansible tasks.\n\nDepends-on: https://review.opendev.org/768378\nChange-Id: Ib53c6c10ba737b0504f30e7260cace6d18c2f033\n'}, {'number': 2, 'created': '2021-01-05 03:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f61cbd9e37f27df8ab55e0784e92acc96364c8cb', 'message': 'Remove useless parameters for keystone resource management\n\nThese parameters are always set to False by tht since all resource\nmanagement have been migrated to ansible tasks.\n\nChange-Id: Ib53c6c10ba737b0504f30e7260cace6d18c2f033\n'}, {'number': 3, 'created': '2021-01-05 03:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4501b396eacb2f01cb4e30fd3b3e88e32b6d2c66', 'message': 'Remove useless parameters for keystone resource management\n\nThese parameters are always set to False by tht since all resource\nmanagement have been migrated to ansible tasks.\n\nChange-Id: Ib53c6c10ba737b0504f30e7260cace6d18c2f033\n'}, {'number': 4, 'created': '2021-01-06 01:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7c1dc0a8fda650bb5dc6a4c6eda539af1cdfc2ed', 'message': 'Remove useless parameters for keystone resource management\n\nThese parameters are always set to False by tht since all resource\nmanagement have been migrated to ansible tasks.\n\nChange-Id: Ib53c6c10ba737b0504f30e7260cace6d18c2f033\n'}, {'number': 5, 'created': '2021-01-12 07:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c9211b44c7e17a2dd0caa6e4df59332b5cf0b6ab', 'message': 'Remove useless parameters to manage keystone resources and volume type\n\nThese parameters are always set to False since implemented management\nof keystone resources and default volume type in ansible tasks in tht.\n\nChange-Id: Ib53c6c10ba737b0504f30e7260cace6d18c2f033\n'}, {'number': 6, 'created': '2021-01-12 07:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c3983e7bac5244606f30474b85d3e3f3816b7065', 'message': 'Remove parameters to manage keystone resources and volume type\n\nThese parameters are always set to False since we implemented\nmanagement of keystone resources and default volume type in tht.\n\nChange-Id: Ib53c6c10ba737b0504f30e7260cace6d18c2f033\n'}, {'number': 7, 'created': '2021-01-13 23:09:50.000000000', 'files': ['spec/classes/tripleo_profile_base_cinder_api_spec.rb', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/cinder/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/91629ff680213c1f7adfd5496b9f9efea3c987b1', 'message': 'Remove parameters to manage keystone resources and volume type\n\nThese parameters are always set to False since we implemented\nmanagement of keystone resources and default volume type in tht.\n\nChange-Id: Ib53c6c10ba737b0504f30e7260cace6d18c2f033\n'}]",4,768380,91629ff680213c1f7adfd5496b9f9efea3c987b1,34,6,7,9816,,,0,"Remove parameters to manage keystone resources and volume type

These parameters are always set to False since we implemented
management of keystone resources and default volume type in tht.

Change-Id: Ib53c6c10ba737b0504f30e7260cace6d18c2f033
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/80/768380/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/keystone.pp'],1,fa6cf4a01b6425396cef658c732c1271e17cf0b4,keystone-resources,,"# [*keystone_enable_member*] # (Optional) Whether _member_ role is managed or not (required for Horizon). # Defaults to hiera('keystone_enable_member', false) ## [*keystone_resources_managed*] # (Optional) Enable the management of Keystone resources with Puppet. # Can be disabled if Ansible manages these resources instead of Puppet. # The resources are: endpoints, roles, services, projects, users and their # assignment. # This parameter is deprecated and is being removed in U cycle. # Defaults to hiera('keystone_resources_managed', undef) # $keystone_enable_member = hiera('keystone_enable_member', false), $keystone_resources_managed = hiera('keystone_resources_managed', undef),",0,14
openstack%2Fpuppet-tripleo~stable%2Ftrain~I5c397d31650b248660a39e028c98c779871d07ba,openstack/puppet-tripleo,stable/train,I5c397d31650b248660a39e028c98c779871d07ba,Remove haproxy ironic-inspector http-check workaround,MERGED,2020-12-31 02:44:14.000000000,2021-01-28 20:46:15.000000000,2021-01-28 20:46:15.000000000,"[{'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-31 02:44:14.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3be8a551be9324f20fd75ea3f02cbb2150dfda9d', 'message': ""Remove haproxy ironic-inspector http-check workaround\n\nWhen werkzeug was used as the WSGI service for ironic-inspector, it\nwrote stack traces to the logs whenever haproxy did a http check; this\nlisten_options line was the workaround for that. Reverting that change\nis done for the following reasons:\n\n- since ironic-inspector now uses oslo-service, the log stack traces\n  are no longer written\n- setting listen_options overrides the default 'option httplog', which is\n  making diagnosing bug #1854399 harder\n- this http-check override may well be the root cause of bug #1854399\n  (any non-200 response will result in other connections to\n  ironic-inspector being disconnected?)\n\nChange-Id: I5c397d31650b248660a39e028c98c779871d07ba\nPartial-Bug: #1854399\nRelated-Bug: #1691971\n(cherry picked from commit 71abeb12c4d8106693f0ade7e1252a00cee0ed56)\n""}]",0,768741,3be8a551be9324f20fd75ea3f02cbb2150dfda9d,10,4,1,9816,,,0,"Remove haproxy ironic-inspector http-check workaround

When werkzeug was used as the WSGI service for ironic-inspector, it
wrote stack traces to the logs whenever haproxy did a http check; this
listen_options line was the workaround for that. Reverting that change
is done for the following reasons:

- since ironic-inspector now uses oslo-service, the log stack traces
  are no longer written
- setting listen_options overrides the default 'option httplog', which is
  making diagnosing bug #1854399 harder
- this http-check override may well be the root cause of bug #1854399
  (any non-200 response will result in other connections to
  ironic-inspector being disconnected?)

Change-Id: I5c397d31650b248660a39e028c98c779871d07ba
Partial-Bug: #1854399
Related-Bug: #1691971
(cherry picked from commit 71abeb12c4d8106693f0ade7e1252a00cee0ed56)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/41/768741/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,3be8a551be9324f20fd75ea3f02cbb2150dfda9d,bug/1854399,," listen_options => { 'http-check' => ['expect rstring .*200.*'], },",0,1
openstack%2Fnova~master~Id19702da05cac25192f6aa21f8f4449602ef7729,openstack/nova,master,Id19702da05cac25192f6aa21f8f4449602ef7729,Refactor _claim_pci_device_for_interface_attach to prepare for qos,MERGED,2020-10-08 16:56:17.000000000,2021-01-28 20:30:50.000000000,2021-01-27 14:56:38.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 32291}, {'_account_id': 32761}]","[{'number': 1, 'created': '2020-10-08 16:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc67f079d8bf952634e6592bc3959a90733f4e47', 'message': 'Refactor _claim_pci_device_for_interface_attach to prepare for qos\n\nThis removes some of the non PCI specific part of the\n_claim_pci_device_for_interface_attach() to reuse them later for the qos\nhandling.\n\nChange-Id: Id19702da05cac25192f6aa21f8f4449602ef7729\nBlueprint: support-interface-attach-with-qos-ports\n'}, {'number': 2, 'created': '2020-10-09 14:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6be8424cbd4e44e0f3a023535b8ff2459d0ca427', 'message': 'Refactor _claim_pci_device_for_interface_attach to prepare for qos\n\nThis removes some of the non PCI specific part of the\n_claim_pci_device_for_interface_attach() to reuse them later for the qos\nhandling. The goal is to have the create_resource_requests separated\nfrom the actual PCI claim.\n\nChange-Id: Id19702da05cac25192f6aa21f8f4449602ef7729\nBlueprint: support-interface-attach-with-qos-ports\n'}, {'number': 3, 'created': '2020-10-12 08:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/561fe61fda798197e81f0c6f86a6d79ca1927a54', 'message': 'Refactor _claim_pci_device_for_interface_attach to prepare for qos\n\nThis removes some of the non PCI specific part of the\n_claim_pci_device_for_interface_attach() to reuse them later for the qos\nhandling. The goal is to have the create_resource_requests separated\nfrom the actual PCI claim.\n\nChange-Id: Id19702da05cac25192f6aa21f8f4449602ef7729\nBlueprint: support-interface-attach-with-qos-ports\n'}, {'number': 4, 'created': '2020-10-12 16:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/883d0e38ec578e23519a539069f0e3b3060c26e3', 'message': 'Refactor _claim_pci_device_for_interface_attach to prepare for qos\n\nThis removes some of the non PCI specific part of the\n_claim_pci_device_for_interface_attach() to reuse them later for the qos\nhandling. The goal is to have the create_resource_requests separated\nfrom the actual PCI claim.\n\nChange-Id: Id19702da05cac25192f6aa21f8f4449602ef7729\nBlueprint: support-interface-attach-with-qos-ports\n'}, {'number': 5, 'created': '2020-11-30 10:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28b715b5577bab24c6cf96a1c67b65bd2218503a', 'message': 'Refactor _claim_pci_device_for_interface_attach to prepare for qos\n\nThis removes some of the non PCI specific part of the\n_claim_pci_device_for_interface_attach() to reuse them later for the qos\nhandling. The goal is to have the create_resource_requests separated\nfrom the actual PCI claim.\n\nChange-Id: Id19702da05cac25192f6aa21f8f4449602ef7729\nBlueprint: support-interface-attach-with-qos-ports\n'}, {'number': 6, 'created': '2020-11-30 16:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99db5647a419959c6c7965c5cd02aa3f98cfb892', 'message': 'Refactor _claim_pci_device_for_interface_attach to prepare for qos\n\nThis removes some of the non PCI specific part of the\n_claim_pci_device_for_interface_attach() to reuse them later for the qos\nhandling. The goal is to have the create_resource_requests separated\nfrom the actual PCI claim.\n\nChange-Id: Id19702da05cac25192f6aa21f8f4449602ef7729\nBlueprint: support-interface-attach-with-qos-ports\n'}, {'number': 7, 'created': '2020-12-16 13:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef4d142d1729b1ae07320943bf698b8bdf7c2a67', 'message': 'Refactor _claim_pci_device_for_interface_attach to prepare for qos\n\nThis removes some of the non PCI specific part of the\n_claim_pci_device_for_interface_attach() to reuse them later for the qos\nhandling. The goal is to have the create_resource_requests separated\nfrom the actual PCI claim.\n\nChange-Id: Id19702da05cac25192f6aa21f8f4449602ef7729\nBlueprint: support-interface-attach-with-qos-ports\n'}, {'number': 8, 'created': '2021-01-07 12:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b58836df1b35800fd7c7fd58c7ec7e60562de9eb', 'message': 'Refactor _claim_pci_device_for_interface_attach to prepare for qos\n\nThis removes some of the non PCI specific part of the\n_claim_pci_device_for_interface_attach() to reuse them later for the qos\nhandling. The goal is to have the create_resource_requests separated\nfrom the actual PCI claim.\n\nChange-Id: Id19702da05cac25192f6aa21f8f4449602ef7729\nBlueprint: support-interface-attach-with-qos-ports\n'}, {'number': 9, 'created': '2021-01-18 15:01:30.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/objects/instance.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/672b288324c1463a6e5b924e89e99aeb1b86e12e', 'message': 'Refactor _claim_pci_device_for_interface_attach to prepare for qos\n\nThis removes some of the non PCI specific part of the\n_claim_pci_device_for_interface_attach() to reuse them later for the qos\nhandling. The goal is to have the create_resource_requests separated\nfrom the actual PCI claim.\n\nChange-Id: Id19702da05cac25192f6aa21f8f4449602ef7729\nBlueprint: support-interface-attach-with-qos-ports\n'}]",6,756895,672b288324c1463a6e5b924e89e99aeb1b86e12e,93,10,9,9708,,,0,"Refactor _claim_pci_device_for_interface_attach to prepare for qos

This removes some of the non PCI specific part of the
_claim_pci_device_for_interface_attach() to reuse them later for the qos
handling. The goal is to have the create_resource_requests separated
from the actual PCI claim.

Change-Id: Id19702da05cac25192f6aa21f8f4449602ef7729
Blueprint: support-interface-attach-with-qos-ports
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/756895/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,fc67f079d8bf952634e6592bc3959a90733f4e47,bp/support-interface-attach-with-qos-ports," requested_network: 'objects.NetworkRequest', pci_req: 'objects.InstancePCIRequest', :param requested_network: the objects.NetworkRequest describing the requested interface. :param pci_req: the request describing the needed PCI device or None if no PCI device is needed if not pci_req: return context, objects.InstancePCIRequests( instance_uuid=instance.uuid, requests=[pci_req]), instance.numa_topology) instance.pci_devices.objects.append(device) if len(requested_networks) != 1: LOG.warning( ""Interface attach only supports one interface per attach "" ""request"", instance=instance) raise exception.InterfaceAttachFailed(instance_uuid=instance.uuid) requested_network = requested_networks[0] pci_numa_affinity_policy = hardware.get_pci_numa_policy_constraint( instance.flavor, instance.image_meta) pci_reqs = objects.InstancePCIRequests( requests=[], instance_uuid=instance.uuid) self.network_api.create_resource_requests( context, requested_networks, pci_reqs, affinity_policy=pci_numa_affinity_policy) # We only support one port per attach request so we at most have one # pci request pci_req = None if pci_reqs.requests: pci_req = pci_reqs.requests[0] requested_network.pci_request_id = pci_req.request_id instance.pci_requests.requests.append(pci_req) context, instance, requested_network, pci_req)"," requested_networks: 'objects.NetworkRequestsList' :param requested_networks: the objects.NetworkRequestList describing the requested interface. The requested_networks.objects list shall have a single item. if len(requested_networks) != 1: LOG.warning( ""Interface attach only supports one interface per attach "" ""request"", instance=instance) raise exception.InterfaceAttachFailed(instance_uuid=instance.uuid) requested_network = requested_networks[0] pci_numa_affinity_policy = hardware.get_pci_numa_policy_constraint( instance.flavor, instance.image_meta) pci_reqs = objects.InstancePCIRequests( requests=[], instance_uuid=instance.uuid) self.network_api.create_resource_requests( context, requested_networks, pci_reqs, affinity_policy=pci_numa_affinity_policy) if not pci_reqs.requests: # The requested port does not require a PCI device so nothing to do return None if len(pci_reqs.requests) > 1: LOG.warning( ""Interface attach only supports one interface per attach "" ""request"", instance=instance) raise exception.InterfaceAttachFailed(instance_uuid=instance.uuid) pci_req = pci_reqs.requests[0] context, pci_reqs, instance.numa_topology) # Update the requested network with the pci request id requested_network.pci_request_id = pci_req.request_id instance.add_pci_device_and_request(device, pci_req) context, instance, requested_networks)",38,37
openstack%2Fpuppet-openstack-integration~master~I6d5c26585a5f5687584a63435ce5cebba7ffae79,openstack/puppet-openstack-integration,master,I6d5c26585a5f5687584a63435ce5cebba7ffae79,Add CentOS 8 Stream jobs to puppet-openstack,MERGED,2021-01-28 08:57:21.000000000,2021-01-28 20:29:48.000000000,2021-01-28 20:29:48.000000000,"[{'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 31068}]","[{'number': 1, 'created': '2021-01-28 08:57:21.000000000', 'files': ['zuul.d/libraries.yaml', 'zuul.d/integration.yaml', 'zuul.d/layout.yaml', 'zuul.d/unit.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/acb80f48a2e7542d84423329f8deb04e8c223fcb', 'message': ""Add CentOS 8 Stream jobs to puppet-openstack\n\nRDO has switched to use centos-8-stream to build and validate spec\nchanges in RDO Trunk for master. Also, now puppet-promotion pipeline is\nusing both CentOS Linux 8 and CentOS Stream 8 as promotion criteria.\n\nThis patch is adding CentOS 8 stream jobs in puppet-openstack projects.\nFirst, i'm adding them to check pipelines as non-voting and once we\ncheck they are stable we can move them to voting.\n\nChange-Id: I6d5c26585a5f5687584a63435ce5cebba7ffae79\n""}]",0,772839,acb80f48a2e7542d84423329f8deb04e8c223fcb,10,6,1,16312,,,0,"Add CentOS 8 Stream jobs to puppet-openstack

RDO has switched to use centos-8-stream to build and validate spec
changes in RDO Trunk for master. Also, now puppet-promotion pipeline is
using both CentOS Linux 8 and CentOS Stream 8 as promotion criteria.

This patch is adding CentOS 8 stream jobs in puppet-openstack projects.
First, i'm adding them to check pipelines as non-voting and once we
check they are stable we can move them to voting.

Change-Id: I6d5c26585a5f5687584a63435ce5cebba7ffae79
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/39/772839/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/libraries.yaml', 'zuul.d/integration.yaml', 'zuul.d/layout.yaml', 'zuul.d/unit.yaml']",4,acb80f48a2e7542d84423329f8deb04e8c223fcb,c8s, name: puppet-openstack-unit-6.14-centos-8-stream parent: puppet-openstack-unit-base nodeset: centos-8-stream voting: false vars: puppet_gem_version: 6.14.0 - job: - puppet-openstack-unit-6.14-centos-8-stream,,50,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~Iaa6763a3124e45c1f0297cd59cc57f206dfc5cda,openstack/python-tripleoclient,stable/train,Iaa6763a3124e45c1f0297cd59cc57f206dfc5cda,Expose --ansible-forks,MERGED,2020-12-07 19:23:59.000000000,2021-01-28 20:18:46.000000000,2021-01-28 20:16:23.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-07 19:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5f409cd8691764b85493f2bdcf65c19dc9576fc3', 'message': 'Expose --ansible-forks\n\nAnsible forks are now configurable for a deployment. The default\nwill also no longer exceed 100 forks (but --ansible-forks can).\n\nConflicts:\n    tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py\n    tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py\n    tripleoclient/utils.py\n    tripleoclient/v1/overcloud_external_update.py\n    tripleoclient/v1/overcloud_external_upgrade.py\n    tripleoclient/v1/overcloud_update.py\n    tripleoclient/v1/overcloud_upgrade.py\n    tripleoclient/v1/tripleo_deploy.py\n    tripleoclient/workflows/deployment.py\n\nChange-Id: Iaa6763a3124e45c1f0297cd59cc57f206dfc5cda\nDepends-On: I57345d5b100efce143fa940b56c81f5e6bc6c390\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit 896a397b1eaf0c49a5e4d15f399388a422adc939)\n(cherry picked from commit 637496d07e460b8a2c7011eac2a027267d6e9434)\n'}, {'number': 2, 'created': '2021-01-04 14:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b2bcf76b13b5a5495f9bf099c1914aa86c4a09bd', 'message': 'Expose --ansible-forks\n\nAnsible forks are now configurable for a deployment. The default\nwill also no longer exceed 100 forks (but --ansible-forks can).\n\nConflicts:\n    tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py\n    tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py\n    tripleoclient/utils.py\n    tripleoclient/v1/overcloud_external_update.py\n    tripleoclient/v1/overcloud_external_upgrade.py\n    tripleoclient/v1/overcloud_update.py\n    tripleoclient/v1/overcloud_upgrade.py\n    tripleoclient/v1/tripleo_deploy.py\n    tripleoclient/workflows/deployment.py\n\nChange-Id: Iaa6763a3124e45c1f0297cd59cc57f206dfc5cda\nDepends-On: I57345d5b100efce143fa940b56c81f5e6bc6c390\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit 896a397b1eaf0c49a5e4d15f399388a422adc939)\n(cherry picked from commit 637496d07e460b8a2c7011eac2a027267d6e9434)\n'}, {'number': 3, 'created': '2021-01-04 20:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fed6e0f71637e778ea21ec82ac3cdd44db6320aa', 'message': 'Expose --ansible-forks\n\nAnsible forks are now configurable for a deployment. The default\nwill also no longer exceed 100 forks (but --ansible-forks can).\n\nConflicts:\n    tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py\n    tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py\n    tripleoclient/utils.py\n    tripleoclient/v1/overcloud_external_update.py\n    tripleoclient/v1/overcloud_external_upgrade.py\n    tripleoclient/v1/overcloud_update.py\n    tripleoclient/v1/overcloud_upgrade.py\n    tripleoclient/v1/tripleo_deploy.py\n    tripleoclient/workflows/deployment.py\n\nChange-Id: Iaa6763a3124e45c1f0297cd59cc57f206dfc5cda\nDepends-On: I57345d5b100efce143fa940b56c81f5e6bc6c390\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit 896a397b1eaf0c49a5e4d15f399388a422adc939)\n(cherry picked from commit 637496d07e460b8a2c7011eac2a027267d6e9434)\n'}, {'number': 4, 'created': '2021-01-04 22:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bee1dda3c305b810822ea32ec25099aabd3655ec', 'message': 'Expose --ansible-forks\n\nAnsible forks are now configurable for a deployment. The default\nwill also no longer exceed 100 forks (but --ansible-forks can).\n\nConflicts:\n    tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py\n    tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py\n    tripleoclient/utils.py\n    tripleoclient/v1/overcloud_external_update.py\n    tripleoclient/v1/overcloud_external_upgrade.py\n    tripleoclient/v1/overcloud_update.py\n    tripleoclient/v1/overcloud_upgrade.py\n    tripleoclient/v1/tripleo_deploy.py\n    tripleoclient/workflows/deployment.py\n\nChange-Id: Iaa6763a3124e45c1f0297cd59cc57f206dfc5cda\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/769223\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit 896a397b1eaf0c49a5e4d15f399388a422adc939)\n(cherry picked from commit 637496d07e460b8a2c7011eac2a027267d6e9434)\n'}, {'number': 5, 'created': '2021-01-12 12:37:32.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'releasenotes/notes/ansible-forks-arg-9f7b439e4b6980dd.yaml', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/v1/overcloud_external_update.py', 'tripleoclient/v1/overcloud_deploy.py', 'tripleoclient/v1/overcloud_external_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bfd01adcaf745961dc3e0de2971cec73a8f20c06', 'message': 'Expose --ansible-forks\n\nAnsible forks are now configurable for a deployment. The default\nwill also no longer exceed 100 forks (but --ansible-forks can).\n\nConflicts:\n    tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py\n    tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py\n    tripleoclient/utils.py\n    tripleoclient/v1/overcloud_external_update.py\n    tripleoclient/v1/overcloud_external_upgrade.py\n    tripleoclient/v1/overcloud_update.py\n    tripleoclient/v1/overcloud_upgrade.py\n    tripleoclient/v1/tripleo_deploy.py\n    tripleoclient/workflows/deployment.py\n\nChange-Id: Iaa6763a3124e45c1f0297cd59cc57f206dfc5cda\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/769223\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit 896a397b1eaf0c49a5e4d15f399388a422adc939)\n(cherry picked from commit 637496d07e460b8a2c7011eac2a027267d6e9434)\n'}]",2,765855,bfd01adcaf745961dc3e0de2971cec73a8f20c06,34,5,5,25877,,,0,"Expose --ansible-forks

Ansible forks are now configurable for a deployment. The default
will also no longer exceed 100 forks (but --ansible-forks can).

Conflicts:
    tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py
    tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py
    tripleoclient/utils.py
    tripleoclient/v1/overcloud_external_update.py
    tripleoclient/v1/overcloud_external_upgrade.py
    tripleoclient/v1/overcloud_update.py
    tripleoclient/v1/overcloud_upgrade.py
    tripleoclient/v1/tripleo_deploy.py
    tripleoclient/workflows/deployment.py

Change-Id: Iaa6763a3124e45c1f0297cd59cc57f206dfc5cda
Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/769223
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit 896a397b1eaf0c49a5e4d15f399388a422adc939)
(cherry picked from commit 637496d07e460b8a2c7011eac2a027267d6e9434)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/55/765855/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'releasenotes/notes/ansible-forks-arg-9f7b439e4b6980dd.yaml', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/v1/overcloud_external_update.py', 'tripleoclient/v1/overcloud_deploy.py', 'tripleoclient/v1/overcloud_external_upgrade.py']",11,5f409cd8691764b85493f2bdcf65c19dc9576fc3,forks-support," parser.add_argument( '--ansible-forks', action='store', default=None, type=int, help=_('The number of Ansible forks to use for the' ' config-download ansible-playbook command.') ) priv_key=key, forks=parsed_args.ansible_forks)", priv_key=key),103,18
openstack%2Foctavia~master~I91924486bab22601c15c538c8a5282ad8bc54700,openstack/octavia,master,I91924486bab22601c15c538c8a5282ad8bc54700,Add ALPN support for TLS-enabled pools,MERGED,2020-09-15 18:56:51.000000000,2021-01-28 20:14:13.000000000,2021-01-28 20:11:56.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-09-15 18:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f9e7b540a362807431bad478dbe3397e3f615896', 'message': ""Add ALPN support for TLS-enabled pools\n\nALPN is a TLS extension for application-layer protocol negotiation\nwithin the TLS handshake [1].\n\nThis patch extends the Pool API to include a new 'alpn_protocols'\nparameter. With this parameter, users can set an ALPN preference list\n(descending order of preference) to be advertised by load balancer to\nmembers.\n\nThis patch also adds HTTP/2 over TLS support to TLS-enabled pools to the\nAmphora provider driver, although default the pool ALPN protocol list\nconfiguration setting has HTTP/2 disabled similarly to the default\nlistener ALPN protocol list value added in Victoria release.\n\n[1] https://tools.ietf.org/html/rfc7301\n\nDepends-On: https://review.opendev.org/#/c/752094/\nChange-Id: I91924486bab22601c15c538c8a5282ad8bc54700\n""}, {'number': 2, 'created': '2020-09-21 14:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d0bf45b3038ef95bd31131a365da7e97a1054107', 'message': ""Add ALPN support for TLS-enabled pools\n\nALPN is a TLS extension for application-layer protocol negotiation\nwithin the TLS handshake [1].\n\nThis patch extends the Pool API to include a new 'alpn_protocols'\nparameter. With this parameter, users can set an ALPN preference list\n(descending order of preference) to be advertised by load balancer to\nmembers.\n\nThis patch also adds HTTP/2 over TLS support to TLS-enabled pools to the\nAmphora provider driver, although default the pool ALPN protocol list\nconfiguration setting has HTTP/2 disabled similarly to the default\nlistener ALPN protocol list value added in Victoria release.\n\n[1] https://tools.ietf.org/html/rfc7301\n\nDepends-On: https://review.opendev.org/#/c/752094/\nChange-Id: I91924486bab22601c15c538c8a5282ad8bc54700\n""}, {'number': 3, 'created': '2020-10-30 20:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9e776383321e3a78b17edb48c9a679cc731d8bed', 'message': ""Add ALPN support for TLS-enabled pools\n\nALPN is a TLS extension for application-layer protocol negotiation\nwithin the TLS handshake [1].\n\nThis patch extends the Pool API to include a new 'alpn_protocols'\nparameter. With this parameter, users can set an ALPN preference list\n(descending order of preference) to be advertised by load balancer to\nmembers.\n\nThis patch also adds HTTP/2 over TLS support to TLS-enabled pools to the\nAmphora provider driver, although default the pool ALPN protocol list\nconfiguration setting has HTTP/2 disabled similarly to the default\nlistener ALPN protocol list value added in Victoria release.\n\n[1] https://tools.ietf.org/html/rfc7301\n\nDepends-On: https://review.opendev.org/#/c/752094/\nChange-Id: I91924486bab22601c15c538c8a5282ad8bc54700\n""}, {'number': 4, 'created': '2021-01-22 11:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0f3cacb59c17f20d368cb533c0130c67310bab7b', 'message': ""Add ALPN support for TLS-enabled pools\n\nALPN is a TLS extension for application-layer protocol negotiation\nwithin the TLS handshake [1].\n\nThis patch extends the Pool API to include a new 'alpn_protocols'\nparameter. With this parameter, users can set an ALPN preference list\n(descending order of preference) to be advertised by load balancer to\nmembers.\n\nThis patch also adds HTTP/2 over TLS support to TLS-enabled pools to the\nAmphora provider driver, although default the pool ALPN protocol list\nconfiguration setting has HTTP/2 disabled similarly to the default\nlistener ALPN protocol list value added in Victoria release.\n\n[1] https://tools.ietf.org/html/rfc7301\n\nDepends-On: https://review.opendev.org/#/c/752094/\nChange-Id: I91924486bab22601c15c538c8a5282ad8bc54700\n""}, {'number': 5, 'created': '2021-01-26 15:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c6a11dc3e7bfac80109c9a0f2293e92a307a32a5', 'message': ""Add ALPN support for TLS-enabled pools\n\nALPN is a TLS extension for application-layer protocol negotiation\nwithin the TLS handshake [1].\n\nThis patch extends the Pool API to include a new 'alpn_protocols'\nparameter. With this parameter, users can set an ALPN preference list\n(descending order of preference) to be advertised by load balancer to\nmembers.\n\nThis patch also adds HTTP/2 over TLS support to TLS-enabled pools to the\nAmphora provider driver, although default the pool ALPN protocol list\nconfiguration setting has HTTP/2 disabled similarly to the default\nlistener ALPN protocol list value added in Victoria release.\n\n[1] https://tools.ietf.org/html/rfc7301\n\nDepends-On: https://review.opendev.org/#/c/752094/\nChange-Id: I91924486bab22601c15c538c8a5282ad8bc54700\n""}, {'number': 6, 'created': '2021-01-27 09:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fab29a044a3d90fd2f377e751c4e6f0e17b62e83', 'message': ""Add ALPN support for TLS-enabled pools\n\nALPN is a TLS extension for application-layer protocol negotiation\nwithin the TLS handshake [1].\n\nThis patch extends the Pool API to include a new 'alpn_protocols'\nparameter. With this parameter, users can set an ALPN preference list\n(descending order of preference) to be advertised by load balancer to\nmembers.\n\nThis patch also adds HTTP/2 over TLS support to TLS-enabled pools to the\nAmphora provider driver, although default the pool ALPN protocol list\nconfiguration setting has HTTP/2 disabled similarly to the default\nlistener ALPN protocol list value added in Victoria release.\n\n[1] https://tools.ietf.org/html/rfc7301\n\nChange-Id: I91924486bab22601c15c538c8a5282ad8bc54700\n""}, {'number': 7, 'created': '2021-01-28 13:43:47.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/v2/examples/pools-list-response.json', 'octavia/api/v2/types/pool.py', 'api-ref/source/v2/examples/pool-update-curl', 'octavia/common/config.py', 'octavia/tests/functional/api/test_root_controller.py', 'octavia/tests/common/sample_data_models.py', 'octavia/db/migration/alembic_migrations/versions/be9fdc039b51_add_pool_alpn_protocols_column.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_driver.py', 'etc/octavia.conf', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'octavia/tests/unit/api/v2/types/test_pool.py', 'doc/source/user/feature-classification/feature-matrix-pool.ini', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'requirements.txt', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'api-ref/source/v2/examples/pool-show-response.json', 'api-ref/source/v2/examples/pool-create-curl', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'releasenotes/notes/add-pool-tls-alpn-support-68cb94b828c9ba37.yaml', 'api-ref/source/v2/pool.inc', 'octavia/db/models.py', 'api-ref/source/v2/listener.inc', 'lower-constraints.txt', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/db/prepare.py', 'api-ref/source/v2/examples/pool-update-request.json', 'api-ref/source/v2/examples/pool-create-request.json', 'octavia/tests/functional/db/test_repositories.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_driver.py', 'octavia/common/data_models.py', 'octavia/tests/functional/api/v2/test_pool.py', 'api-ref/source/v2/examples/pool-update-response.json', 'octavia/api/v2/controllers/pool.py', 'octavia/api/root_controller.py', 'api-ref/source/v2/examples/pool-create-response.json', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d2d5fc80f8274b7330c896b6825909ac04b653e0', 'message': ""Add ALPN support for TLS-enabled pools\n\nALPN is a TLS extension for application-layer protocol negotiation\nwithin the TLS handshake [1].\n\nThis patch extends the Pool API to include a new 'alpn_protocols'\nparameter. With this parameter, users can set an ALPN preference list\n(descending order of preference) to be advertised by load balancer to\nmembers.\n\nThis patch also adds HTTP/2 over TLS support to TLS-enabled pools to the\nAmphora provider driver, although default the pool ALPN protocol list\nconfiguration setting has HTTP/2 disabled similarly to the default\nlistener ALPN protocol list value added in Victoria release.\n\n[1] https://tools.ietf.org/html/rfc7301\n\nChange-Id: I91924486bab22601c15c538c8a5282ad8bc54700\n""}]",2,752095,d2d5fc80f8274b7330c896b6825909ac04b653e0,28,5,7,6469,,,0,"Add ALPN support for TLS-enabled pools

ALPN is a TLS extension for application-layer protocol negotiation
within the TLS handshake [1].

This patch extends the Pool API to include a new 'alpn_protocols'
parameter. With this parameter, users can set an ALPN preference list
(descending order of preference) to be advertised by load balancer to
members.

This patch also adds HTTP/2 over TLS support to TLS-enabled pools to the
Amphora provider driver, although default the pool ALPN protocol list
configuration setting has HTTP/2 disabled similarly to the default
listener ALPN protocol list value added in Victoria release.

[1] https://tools.ietf.org/html/rfc7301

Change-Id: I91924486bab22601c15c538c8a5282ad8bc54700
",git fetch https://review.opendev.org/openstack/octavia refs/changes/95/752095/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/v2/examples/pools-list-response.json', 'octavia/api/v2/types/pool.py', 'api-ref/source/v2/examples/pool-update-curl', 'octavia/common/config.py', 'octavia/tests/functional/api/test_root_controller.py', 'octavia/tests/common/sample_data_models.py', 'octavia/db/migration/alembic_migrations/versions/be9fdc039b51_add_pool_alpn_protocols_column.py', 'etc/octavia.conf', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'doc/source/user/feature-classification/feature-matrix-pool.ini', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/tests/unit/api/v2/types/test_pools.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'api-ref/source/v2/examples/pool-show-response.json', 'api-ref/source/v2/examples/pool-create-curl', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'releasenotes/notes/add-pool-tls-alpn-support-68cb94b828c9ba37.yaml', 'api-ref/source/v2/pool.inc', 'octavia/db/models.py', 'api-ref/source/v2/listener.inc', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/db/prepare.py', 'api-ref/source/v2/examples/pool-update-request.json', 'api-ref/source/v2/examples/pool-create-request.json', 'octavia/tests/functional/db/test_repositories.py', 'octavia/common/data_models.py', 'octavia/tests/functional/api/v2/test_pool.py', 'api-ref/source/v2/examples/pool-update-response.json', 'octavia/api/v2/controllers/pool.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/root_controller.py', 'api-ref/source/v2/examples/pool-create-response.json', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py']",35,f9e7b540a362807431bad478dbe3397e3f615896,http2," ""{opts} alpn {alpn}\n"" ""{opts} alpn {alpn}\n\n"").format( "" no-sslv3 no-tlsv10 no-tlsv11"", alpn="","".join(constants.AMPHORA_SUPPORTED_ALPN_PROTOCOLS)) ""{opts} alpn {alpn}\n"" ""{opts} alpn {alpn}\n\n"").format( "" ciphers "" + constants.CIPHERS_OWASP_SUITE_B, alpn="","".join(constants.AMPHORA_SUPPORTED_ALPN_PROTOCOLS)) ""{opts} alpn {alpn}\n"" ""{opts} alpn {alpn}\n\n"").format( "" no-sslv3 no-tlsv10 no-tlsv11"", alpn="","".join(constants.AMPHORA_SUPPORTED_ALPN_PROTOCOLS)) ""{opts} alpn {alpn}\n"" ""{opts} alpn {alpn}\n\n"").format( opts=""ssl crt %s verify none sni ssl_fc_sni"" % cert_file_path, alpn="","".join(constants.AMPHORA_SUPPORTED_ALPN_PROTOCOLS)) def test_render_template_pool_no_alpn(self): be = (""backend sample_pool_id_1:sample_listener_id_1\n"" "" mode http\n"" "" balance roundrobin\n"" "" cookie SRV insert indirect nocache\n"" "" timeout check 31s\n"" "" option httpchk GET /index.html HTTP/1.0\\r\\n\n"" "" http-check expect rstatus 418\n"" "" fullconn {maxconn}\n"" "" option allbackups\n"" "" timeout connect 5000\n"" "" timeout server 50000\n"" "" server sample_member_id_1 10.0.0.99:82 weight 13 "" ""check inter 30s fall 3 rise 2 cookie sample_member_id_1\n"" "" server sample_member_id_2 10.0.0.98:82 weight 13 "" ""check inter 30s fall 3 rise 2 cookie sample_member_id_2"" ""\n\n"").format( maxconn=constants.HAPROXY_DEFAULT_MAXCONN) rendered_obj = self.jinja_cfg.render_loadbalancer_obj( sample_configs_combined.sample_amphora_tuple(), [sample_configs_combined.sample_listener_tuple( backend_alpn_protocols=None)]) self.assertEqual( sample_configs_combined.sample_base_expected_config(backend=be), rendered_obj) ""{opts} alpn {alpn}\n"" ""{opts} alpn {alpn}\n\n"").format( ""verify required sni ssl_fc_sni no-sslv3 no-tlsv10 no-tlsv11""), alpn="","".join(constants.AMPHORA_SUPPORTED_ALPN_PROTOCOLS))"," ""{opts}\n"" ""{opts}\n\n"").format( "" no-sslv3 no-tlsv10 no-tlsv11"") ""{opts}\n"" ""{opts}\n\n"").format( "" ciphers "" + constants.CIPHERS_OWASP_SUITE_B) ""{opts}\n"" ""{opts}\n\n"").format( "" no-sslv3 no-tlsv10 no-tlsv11"") ""{opts}\n"" ""{opts}\n\n"").format( opts=""ssl crt %s verify none sni ssl_fc_sni"" % cert_file_path) ""{opts}\n"" ""{opts}\n\n"").format( ""verify required sni ssl_fc_sni no-sslv3 no-tlsv10 no-tlsv11""))",358,58
openstack%2Fopenstack-helm-infra~master~I322fc1382fe3d0a4517e4c7c5982ea50a721a1f7,openstack/openstack-helm-infra,master,I322fc1382fe3d0a4517e4c7c5982ea50a721a1f7,"Revert ""feat(tls): Change Issuer to ClusterIssuer""",MERGED,2021-01-27 22:22:08.000000000,2021-01-28 20:11:09.000000000,2021-01-28 00:43:49.000000000,"[{'_account_id': 8898}, {'_account_id': 11934}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 19391}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 24780}, {'_account_id': 30495}]","[{'number': 1, 'created': '2021-01-27 22:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9e682486e842e58e15919024d0b3e7bbaaca6264', 'message': 'Revert ""feat(tls): Change Issuer to ClusterIssuer""\n\nThis reverts commit f60c94fc16f81d220cfc32098cf518ae62afa99a.\n\nReason for revert: This introduced a bug:\nhttps://cert-manager.io/docs/installation/upgrading/upgrading-0.15-0.16/#issue-with-older-versions-of-kubectl\n\nOlder versions of kubectl will have issues with the nested CRDs.\n\nChange-Id: I322fc1382fe3d0a4517e4c7c5982ea50a721a1f7\n'}, {'number': 2, 'created': '2021-01-27 22:59:20.000000000', 'files': ['mariadb/Chart.yaml', 'ca-clusterissuer/Chart.yaml', 'ca-clusterissuer/values.yaml', 'helm-toolkit/templates/manifests/_certificates.tpl', 'ca-clusterissuer/templates/secret-ca.yaml', 'helm-toolkit/Chart.yaml', 'helm-toolkit/templates/manifests/_ingress.tpl', 'ca-clusterissuer/templates/clusterissuer-ca.yaml', 'mariadb/values_overrides/tls.yaml', 'ca-clusterissuer/requirements.yaml', 'ca-issuer/Chart.yaml', 'ca-issuer/templates/issuer-ca.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8a79d7c51bdeec35d12194fe39672036c8bb1a5c', 'message': 'Revert ""feat(tls): Change Issuer to ClusterIssuer""\n\nThis reverts commit f60c94fc16f81d220cfc32098cf518ae62afa99a.\n\nReason for revert: This introduced a bug:\nhttps://cert-manager.io/docs/installation/upgrading/upgrading-0.15-0.16/#issue-with-older-versions-of-kubectl\n\nOlder versions of kubectl will have issues with the nested CRDs.\n\nChange-Id: I322fc1382fe3d0a4517e4c7c5982ea50a721a1f7\n'}]",0,772733,8a79d7c51bdeec35d12194fe39672036c8bb1a5c,24,11,2,30746,,,0,"Revert ""feat(tls): Change Issuer to ClusterIssuer""

This reverts commit f60c94fc16f81d220cfc32098cf518ae62afa99a.

Reason for revert: This introduced a bug:
https://cert-manager.io/docs/installation/upgrading/upgrading-0.15-0.16/#issue-with-older-versions-of-kubectl

Older versions of kubectl will have issues with the nested CRDs.

Change-Id: I322fc1382fe3d0a4517e4c7c5982ea50a721a1f7
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/33/772733/2 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/Chart.yaml', 'ca-clusterissuer/Chart.yaml', 'ca-clusterissuer/values.yaml', 'helm-toolkit/templates/manifests/_certificates.tpl', 'ca-clusterissuer/templates/secret-ca.yaml', 'helm-toolkit/Chart.yaml', 'helm-toolkit/templates/manifests/_ingress.tpl', 'ca-clusterissuer/templates/clusterissuer-ca.yaml', 'mariadb/values_overrides/tls.yaml', 'ca-clusterissuer/requirements.yaml', 'ca-issuer/Chart.yaml', 'ca-issuer/templates/issuer-ca.yaml']",12,9e682486e842e58e15919024d0b3e7bbaaca6264,feat(tls-phase2),apiVersion: cert-manager.io/v1alpha3,apiVersion: cert-manager.io/v1,9,128
openstack%2Fopenstack-helm~master~I9c04a35c179d23ec1b7612b4f87d9d16352985cc,openstack/openstack-helm,master,I9c04a35c179d23ec1b7612b4f87d9d16352985cc,"Revert ""feat(tls): Change Issuer to ClusterIssuer""",MERGED,2021-01-27 22:35:09.000000000,2021-01-28 20:08:43.000000000,2021-01-28 19:55:35.000000000,"[{'_account_id': 11934}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 19391}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 24780}, {'_account_id': 30495}, {'_account_id': 30746}]","[{'number': 1, 'created': '2021-01-27 22:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1cb2f1faef7f902e8ec8d6b626bee313c79e66f9', 'message': 'Revert ""feat(tls): Change Issuer to ClusterIssuer""\n\nThis reverts commit 43e75eaa83cc6958fa0a6af55783cbe2645cfde7.\n\nReason for revert: Doing this as part of the revert here - https://review.opendev.org/c/openstack/openstack-helm-infra/+/772733\n\nChange-Id: I9c04a35c179d23ec1b7612b4f87d9d16352985cc\n'}, {'number': 2, 'created': '2021-01-27 23:09:59.000000000', 'files': ['nova/values_overrides/tls.yaml', 'heat/Chart.yaml', 'horizon/values_overrides/tls.yaml', 'horizon/Chart.yaml', 'cinder/values_overrides/tls.yaml', 'neutron/Chart.yaml', 'neutron/values_overrides/tls.yaml', 'glance/values_overrides/tls.yaml', 'nova/Chart.yaml', 'tools/scripts/tls/cert-manager.sh', 'heat/values_overrides/tls.yaml', 'placement/values_overrides/tls.yaml', 'glance/Chart.yaml', 'cinder/Chart.yaml', 'placement/Chart.yaml', 'keystone/values_overrides/tls.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2ec17153c6cb918dd357f71824ec59dd0d74dfba', 'message': 'Revert ""feat(tls): Change Issuer to ClusterIssuer""\n\nThis reverts commit 43e75eaa83cc6958fa0a6af55783cbe2645cfde7.\n\nReason for revert: Doing this as part of the revert here - https://review.opendev.org/c/openstack/openstack-helm-infra/+/772733\n\nChange-Id: I9c04a35c179d23ec1b7612b4f87d9d16352985cc\n'}]",0,772734,2ec17153c6cb918dd357f71824ec59dd0d74dfba,32,10,2,20466,,,0,"Revert ""feat(tls): Change Issuer to ClusterIssuer""

This reverts commit 43e75eaa83cc6958fa0a6af55783cbe2645cfde7.

Reason for revert: Doing this as part of the revert here - https://review.opendev.org/c/openstack/openstack-helm-infra/+/772733

Change-Id: I9c04a35c179d23ec1b7612b4f87d9d16352985cc
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/34/772734/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values_overrides/tls.yaml', 'heat/Chart.yaml', 'horizon/values_overrides/tls.yaml', 'horizon/Chart.yaml', 'cinder/values_overrides/tls.yaml', 'neutron/Chart.yaml', 'neutron/values_overrides/tls.yaml', 'glance/values_overrides/tls.yaml', 'nova/Chart.yaml', 'tools/scripts/tls/cert-manager.sh', 'heat/values_overrides/tls.yaml', 'placement/values_overrides/tls.yaml', 'glance/Chart.yaml', 'cinder/Chart.yaml', 'placement/Chart.yaml', 'keystone/values_overrides/tls.yaml', 'keystone/Chart.yaml']",17,1cb2f1faef7f902e8ec8d6b626bee313c79e66f9,feat(tls-phase2),version: 0.1.3,version: 0.1.4,17,29
openstack%2Frequirements~stable%2Fvictoria~Id6098591af71656e3f4e3a02733962ea7d2d95bb,openstack/requirements,stable/victoria,Id6098591af71656e3f4e3a02733962ea7d2d95bb,update constraint for neutron to new release 17.1.0,MERGED,2021-01-28 11:20:50.000000000,2021-01-28 20:03:58.000000000,2021-01-28 20:03:58.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-28 11:20:50.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c96fe0ffc41376c01c51bc1081683db2c65b7c49', 'message': 'update constraint for neutron to new release 17.1.0\n\nmeta: version: 17.1.0\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Commit: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Change-Id: I10f4e1e24486d59217a6a21d11f003c1ace73c37\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Id6098591af71656e3f4e3a02733962ea7d2d95bb\n'}]",0,772863,c96fe0ffc41376c01c51bc1081683db2c65b7c49,8,3,1,11131,,,0,"update constraint for neutron to new release 17.1.0

meta: version: 17.1.0
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Commit: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Change-Id: I10f4e1e24486d59217a6a21d11f003c1ace73c37
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Id6098591af71656e3f4e3a02733962ea7d2d95bb
",git fetch https://review.opendev.org/openstack/requirements refs/changes/63/772863/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c96fe0ffc41376c01c51bc1081683db2c65b7c49,new-release,neutron===17.1.0,neutron===17.0.0,1,1
openstack%2Ftripleo-common~stable%2Ftrain~Idefd567d52d19497efe1d3246ce517a30d954e41,openstack/tripleo-common,stable/train,Idefd567d52d19497efe1d3246ce517a30d954e41,[TRAIN-Only] Make forks configurable,MERGED,2021-01-04 22:25:54.000000000,2021-01-28 19:55:51.000000000,2021-01-28 19:54:01.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-04 22:25:54.000000000', 'files': ['workbooks/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0bb0ad885315c729e38ba53a362d36a6439f1e11', 'message': ""[TRAIN-Only] Make forks configurable\n\nIn later versions this isn't invoked via mistral but for train we need\nto expose forks as an input into the deployment.\n\nChange-Id: Idefd567d52d19497efe1d3246ce517a30d954e41\n""}]",2,769223,0bb0ad885315c729e38ba53a362d36a6439f1e11,11,3,1,14985,,,0,"[TRAIN-Only] Make forks configurable

In later versions this isn't invoked via mistral but for train we need
to expose forks as an input into the deployment.

Change-Id: Idefd567d52d19497efe1d3246ce517a30d954e41
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/23/769223/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/deployment.yaml'],1,0bb0ad885315c729e38ba53a362d36a6439f1e11,forks-support, forks: <% $.get('forks') %> - forks: 100 forks: <% $.forks %>,,3,0
openstack%2Fcharm-cinder~master~I019b471ae847ff8808d36316384037d5b464932b,openstack/charm-cinder,master,I019b471ae847ff8808d36316384037d5b464932b,Charm-helpers sync for Bug #1893847,ABANDONED,2021-01-05 22:27:02.000000000,2021-01-28 19:55:00.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 22:27:02.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/decorators.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/templates/section-placement', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/ip.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/hahelpers/apache.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/1a1553516bc74548336fa52d561bd8d1f46e4646', 'message': 'Charm-helpers sync for Bug #1893847\n\nChange-Id: I019b471ae847ff8808d36316384037d5b464932b\nCloses-Bug: #1893847\n'}]",0,769430,1a1553516bc74548336fa52d561bd8d1f46e4646,13,2,1,20805,,,0,"Charm-helpers sync for Bug #1893847

Change-Id: I019b471ae847ff8808d36316384037d5b464932b
Closes-Bug: #1893847
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/30/769430/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/decorators.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/templates/section-placement', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/ip.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/hahelpers/apache.py']",14,1a1553516bc74548336fa52d561bd8d1f46e4646,bug/1893847,"# This file contains the CA cert from the charms ssl_ca configuration # option, in future the file name should be updated reflect that. CONFIG_CA_CERT_FILE = 'keystone_juju_ca_cert' host.install_ca_cert(ca_cert, CONFIG_CA_CERT_FILE)"," host.install_ca_cert(ca_cert, 'keystone_juju_ca_cert')",338,51
openstack%2Fcharm-neutron-api~master~Ia8bbc1204e0fdfa620315e8b4608ea5f2a878645,openstack/charm-neutron-api,master,Ia8bbc1204e0fdfa620315e8b4608ea5f2a878645,Charm-helpers sync for Bug #1893847,ABANDONED,2021-01-05 22:05:09.000000000,2021-01-28 19:54:50.000000000,,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 22:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/b049ec5fe88ffe37edbcee66b78bddc507f02d4c', 'message': 'Charm-helpers sync for Bug #1893847\n\nChange-Id: Ia8bbc1204e0fdfa620315e8b4608ea5f2a878645\nCloses-Bug: #1893847\n'}, {'number': 2, 'created': '2021-01-07 16:58:50.000000000', 'files': ['hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/core/decorators.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/audits/apache.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/openstack/templates/section-placement', 'unit_tests/test_neutron_api_context.py', 'hooks/charmhelpers/contrib/openstack/ip.py', 'hooks/charmhelpers/contrib/hahelpers/apache.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/f3f9ed68d8245e5154062188124901f84bf9a5b4', 'message': 'Charm-helpers sync for Bug #1893847\n\nChange-Id: Ia8bbc1204e0fdfa620315e8b4608ea5f2a878645\nCloses-Bug: #1893847\n'}]",0,769427,f3f9ed68d8245e5154062188124901f84bf9a5b4,9,3,2,20805,,,0,"Charm-helpers sync for Bug #1893847

Change-Id: Ia8bbc1204e0fdfa620315e8b4608ea5f2a878645
Closes-Bug: #1893847
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/27/769427/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/core/decorators.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/audits/apache.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/openstack/templates/section-placement', 'hooks/charmhelpers/contrib/openstack/ip.py', 'hooks/charmhelpers/contrib/hahelpers/apache.py']",14,b049ec5fe88ffe37edbcee66b78bddc507f02d4c,bug/1893847,"# This file contains the CA cert from the charms ssl_ca configuration # option, in future the file name should be updated reflect that. CONFIG_CA_CERT_FILE = 'keystone_juju_ca_cert' host.install_ca_cert(ca_cert, CONFIG_CA_CERT_FILE)"," host.install_ca_cert(ca_cert, 'keystone_juju_ca_cert')",361,56
openstack%2Fcharm-keystone~master~Ibdb0ca271962bbcbb4419232422739d39fc179e2,openstack/charm-keystone,master,Ibdb0ca271962bbcbb4419232422739d39fc179e2,Charm-helpers sync for Bug #1893847,ABANDONED,2021-01-05 22:30:24.000000000,2021-01-28 19:54:40.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 22:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/727f8d100f70815ead5bfba238874310cf535c85', 'message': 'Charm-helpers sync for Bug #1893847\n\nChange-Id: Ibdb0ca271962bbcbb4419232422739d39fc179e2\nCloses-Bug: #1893847\n'}, {'number': 2, 'created': '2021-01-07 22:49:22.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/decorators.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/templates/section-placement', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/ip.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/hahelpers/apache.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/926559ae26a7cca2251a8b400b018b1944449699', 'message': 'Charm-helpers sync for Bug #1893847\n\nChange-Id: Ibdb0ca271962bbcbb4419232422739d39fc179e2\nCloses-Bug: #1893847\n'}]",0,769431,926559ae26a7cca2251a8b400b018b1944449699,16,2,2,20805,,,0,"Charm-helpers sync for Bug #1893847

Change-Id: Ibdb0ca271962bbcbb4419232422739d39fc179e2
Closes-Bug: #1893847
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/31/769431/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/decorators.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/templates/section-placement', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/ip.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/hahelpers/apache.py']",14,727f8d100f70815ead5bfba238874310cf535c85,bug/1893847,"# This file contains the CA cert from the charms ssl_ca configuration # option, in future the file name should be updated reflect that. CONFIG_CA_CERT_FILE = 'keystone_juju_ca_cert' host.install_ca_cert(ca_cert, CONFIG_CA_CERT_FILE)"," host.install_ca_cert(ca_cert, 'keystone_juju_ca_cert')",361,56
openstack%2Fopenstacksdk~master~I2e86b6c33cf0bdaa3e49f2f7ceeb2cb2ca94403d,openstack/openstacksdk,master,I2e86b6c33cf0bdaa3e49f2f7ceeb2cb2ca94403d,Update Open Telekom Cloud vendor docu,MERGED,2021-01-28 11:32:44.000000000,2021-01-28 19:40:47.000000000,2021-01-28 19:38:42.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-28 11:32:44.000000000', 'files': ['doc/source/user/config/vendor-support.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/39d352977562dc0db66144073caf7f48bba75f85', 'message': 'Update Open Telekom Cloud vendor docu\n\n- Added new eu-nl region\n- Removed vhd image requirement\n\nAccording to: https://github.com/openstack/openstacksdk/blob/master/openstack/config/vendors/otc.json\n\nChange-Id: I2e86b6c33cf0bdaa3e49f2f7ceeb2cb2ca94403d\n'}]",0,772864,39d352977562dc0db66144073caf7f48bba75f85,8,3,1,32956,,,0,"Update Open Telekom Cloud vendor docu

- Added new eu-nl region
- Removed vhd image requirement

According to: https://github.com/openstack/openstacksdk/blob/master/openstack/config/vendors/otc.json

Change-Id: I2e86b6c33cf0bdaa3e49f2f7ceeb2cb2ca94403d
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/64/772864/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/config/vendor-support.rst'],1,39d352977562dc0db66144073caf7f48bba75f85,update-vendor-docu-otc,"============== ================================= =================== eu-de Biere/Magdeburg, DE eu-nl Amsterdam, NL ============== ===================",============== ============================== ================ eu-de Germany ============== ================* Images must be in `vhd` format,5,5
openstack%2Fkuryr~stable%2Fussuri~I9d0942f1cfc06cc3a7585683a030516096297767,openstack/kuryr,stable/ussuri,I9d0942f1cfc06cc3a7585683a030516096297767,Remove run_as_root which fails without root_helper,MERGED,2021-01-20 11:00:59.000000000,2021-01-28 19:26:47.000000000,2021-01-28 19:25:05.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-01-20 11:00:59.000000000', 'files': ['kuryr/tests/unit/binding/drivers/test_hw_veb.py', 'kuryr/lib/binding/drivers/hw_veb.py', 'kuryr/lib/binding/drivers/veth.py'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/2f021ec13cb0d1194007f70e4da4f259cd94bdd0', 'message': ""Remove run_as_root which fails without root_helper\n\nIt appears that this library is typically run as the root user\nwhich shouldn't require 'run_as_root'. When running as an\nunprivileged user the required permissions can be granted by\nspecifying 'AmbientCapabilities = CAP_NET_ADMIN' in the service,\nrather than 'CapabilityBoundingSet'.\n\nAn alternative approach would be to specify a 'root_helper' or to\nswitch to oslo.privsep, but these don't fully solve the problem\nas the 'pyroute2' library also requires 'CAP_NET_ADMIN'.\n\nCloses-Bug: #1852105\nChange-Id: I9d0942f1cfc06cc3a7585683a030516096297767\n(cherry picked from commit cdb9fe351d9491ad4b5495a5a122430e851ba5b4)\n""}]",0,771596,2f021ec13cb0d1194007f70e4da4f259cd94bdd0,9,4,1,31542,,,0,"Remove run_as_root which fails without root_helper

It appears that this library is typically run as the root user
which shouldn't require 'run_as_root'. When running as an
unprivileged user the required permissions can be granted by
specifying 'AmbientCapabilities = CAP_NET_ADMIN' in the service,
rather than 'CapabilityBoundingSet'.

An alternative approach would be to specify a 'root_helper' or to
switch to oslo.privsep, but these don't fully solve the problem
as the 'pyroute2' library also requires 'CAP_NET_ADMIN'.

Closes-Bug: #1852105
Change-Id: I9d0942f1cfc06cc3a7585683a030516096297767
(cherry picked from commit cdb9fe351d9491ad4b5495a5a122430e851ba5b4)
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/96/771596/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr/tests/unit/binding/drivers/test_hw_veb.py', 'kuryr/lib/binding/drivers/hw_veb.py', 'kuryr/lib/binding/drivers/veth.py']",3,2f021ec13cb0d1194007f70e4da4f259cd94bdd0,bug/1852105-stable/ussuri," endpoint_id, mac_address, vif_details, network_id) lib_utils.string_mappings(details))"," endpoint_id, mac_address, vif_details, network_id, run_as_root=True) lib_utils.string_mappings(details), run_as_root=True)",2,6
openstack%2Fpuppet-tripleo~master~Ib791c87cecd515d7dd269bc7202984f3b4a7a126,openstack/puppet-tripleo,master,Ib791c87cecd515d7dd269bc7202984f3b4a7a126,"WIP Add small frr tweak, needed to get ordering right",ABANDONED,2020-12-26 09:47:58.000000000,2021-01-28 19:18:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28182}]","[{'number': 1, 'created': '2020-12-26 09:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/53eb167166dd66ed714e329993cd7bb318dcc052', 'message': 'WIP Add small frr tweak, needed to get ordering right\n\nChange-Id: Ib791c87cecd515d7dd269bc7202984f3b4a7a126\n'}, {'number': 2, 'created': '2020-12-26 17:38:19.000000000', 'files': ['manifests/profile/base/frr.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6d804ed84b2ba0132bbc593bdf556fa40b3050d9', 'message': 'WIP Add small frr tweak, needed to get ordering right\n\nChange-Id: Ib791c87cecd515d7dd269bc7202984f3b4a7a126\n'}]",0,768527,6d804ed84b2ba0132bbc593bdf556fa40b3050d9,10,3,2,20172,,,0,"WIP Add small frr tweak, needed to get ordering right

Change-Id: Ib791c87cecd515d7dd269bc7202984f3b4a7a126
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/27/768527/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/frr.pp'],1,53eb167166dd66ed714e329993cd7bb318dcc052,frr,"# Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::frr # # Frr profile for tripleo # Note: This class is currently just w ay to make sur the frr container is up and # running before any other puppet task (pacemaker) in step_config # # === Parameters # # [*frr_startup_json*] # (Optional) What json file contains the frr service # Defaults to '/var/lib/tripleo-config/container-startup-config/step_0/frr.json' # # [*frr_config_id*] # (Optional) config_id to be used when calling paunch # Defaults to 'frr' # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # class tripleo::profile::base::memcached ( $frr_startup_json = '/var/lib/tripleo-config/container-startup-config/step_0/frr.json', $frr_config_id = 'frr', $step = Integer(hiera('step')), ) { if $step >= 1 { exec { 'frr-paunch-execution': path => '/usr/sbin:/usr/bin:/sbin:/bin', command => ""paunch apply --file ${frr_startup_json} --config-id ${frr_config_id}"", timeout => 30, tries => 10, try_sleep => 10, tag => 'frr_paunch', } } # This way we guarantee that the frr container is started before we even try to # authenticate with other pcmk nodes Exec<| title == 'frr-paunch-execution' |> -> Exec <|tag == 'pacemaker-auth'|> } ",,54,0
openstack%2Fopenstack-ansible-os_zun~master~I7158e202be2e778a7a64e9ef2656f496caae97be,openstack/openstack-ansible-os_zun,master,I7158e202be2e778a7a64e9ef2656f496caae97be,Add configuration for zun-wsproxy service,MERGED,2021-01-04 13:25:52.000000000,2021-01-28 18:46:48.000000000,2021-01-28 18:44:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-04 13:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/e9939b07bbe6e5b0c03c10adbf883f2dc1e3ee68', 'message': ""Add configuration for zun-wsproxy service\n\nThis fixes the configuration for the zun-wsproxy service which\nrelays messages from the Docker daemon, providing output from\ncontainers' consoles to the Horizon dashboard.\n\nDepends-On: https://review.opendev.org/769142\nChange-Id: I7158e202be2e778a7a64e9ef2656f496caae97be\n""}, {'number': 2, 'created': '2021-01-12 10:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/fafcc350e7da51ae70af9197ea61d7edaf1077e5', 'message': ""Add configuration for zun-wsproxy service\n\nThis fixes the configuration for the zun-wsproxy service which\nrelays messages from the Docker daemon, providing output from\ncontainers' consoles to the Horizon dashboard.\n\nDepends-On: https://review.opendev.org/769142\nChange-Id: I7158e202be2e778a7a64e9ef2656f496caae97be\n""}, {'number': 3, 'created': '2021-01-18 16:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/9608f36fd8892fec678c6f2d8ebef098305d8cf9', 'message': ""Add configuration for zun-wsproxy service\n\nThis fixes the configuration for the zun-wsproxy service which\nrelays messages from the Docker daemon, providing output from\ncontainers' consoles to the Horizon dashboard.\n\nDepends-On: https://review.opendev.org/769142\nChange-Id: I7158e202be2e778a7a64e9ef2656f496caae97be\n""}, {'number': 4, 'created': '2021-01-21 13:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/ffccd14967a94bba3e30b9c62b343c22944096c4', 'message': ""Add configuration for zun-wsproxy service\n\nThis fixes the configuration for the zun-wsproxy service which\nrelays messages from the Docker daemon, providing output from\ncontainers' consoles to the Horizon dashboard.\n\nDepends-On: https://review.opendev.org/769142\nChange-Id: I7158e202be2e778a7a64e9ef2656f496caae97be\n""}, {'number': 5, 'created': '2021-01-25 13:08:39.000000000', 'files': ['templates/systemd-docker-override.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/67f1047af546c4d8edca8862b68f3212fdd3204b', 'message': ""Add configuration for zun-wsproxy service\n\nThis fixes the configuration for the zun-wsproxy service which\nrelays messages from the Docker daemon, providing output from\ncontainers' consoles to the Horizon dashboard.\n\nDepends-On: https://review.opendev.org/769142\nChange-Id: I7158e202be2e778a7a64e9ef2656f496caae97be\n""}]",2,769143,67f1047af546c4d8edca8862b68f3212fdd3204b,44,3,5,31542,,,0,"Add configuration for zun-wsproxy service

This fixes the configuration for the zun-wsproxy service which
relays messages from the Docker daemon, providing output from
containers' consoles to the Horizon dashboard.

Depends-On: https://review.opendev.org/769142
Change-Id: I7158e202be2e778a7a64e9ef2656f496caae97be
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/43/769143/5 && git format-patch -1 --stdout FETCH_HEAD,"['templates/zun.conf.j2', 'templates/systemd-docker-override.conf.j2', 'defaults/main.yml']",3,e9939b07bbe6e5b0c03c10adbf883f2dc1e3ee68,zun-wsproxy,"# Set the address for Docker to bind to. Used by the wsproxy console forwarder zun_docker_bind_host: ""{{ openstack_service_bind_address | default('0.0.0.0') }}"" ## Zun WebSocket Proxy zun_wsproxy_proto: ""{{ openstack_service_publicuri_proto | default('http') == 'https' | ternary('wss', 'ws') }}"" zun_wsproxy_port: 6784 zun_wsproxy_host: ""{{ openstack_service_bind_address | default('0.0.0.0') }}"" zun_wsproxy_base_uri: ""{{ zun_wsproxy_proto }}://{{ external_lb_vip_address }}:{{ zun_wsproxy_port }}"" ",,14,3
openstack%2Frequirements~master~I959d27ffe1177dcbfb59dc9b1d72c2f6ab4d4177,openstack/requirements,master,I959d27ffe1177dcbfb59dc9b1d72c2f6ab4d4177,update constraint for os-collect-config to new release 13.0.0,MERGED,2021-01-28 11:16:09.000000000,2021-01-28 18:33:16.000000000,2021-01-28 18:31:10.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-28 11:16:09.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5c335a346537344d89bc63a4e3d780f22e0f2340', 'message': 'update constraint for os-collect-config to new release 13.0.0\n\nmeta: version: 13.0.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: I42b1e3cfa9e22e1a6c483c6c4c96a97a8957872b\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I959d27ffe1177dcbfb59dc9b1d72c2f6ab4d4177\n'}]",0,772862,5c335a346537344d89bc63a4e3d780f22e0f2340,9,3,1,11131,,,0,"update constraint for os-collect-config to new release 13.0.0

meta: version: 13.0.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I42b1e3cfa9e22e1a6c483c6c4c96a97a8957872b
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I959d27ffe1177dcbfb59dc9b1d72c2f6ab4d4177
",git fetch https://review.opendev.org/openstack/requirements refs/changes/62/772862/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5c335a346537344d89bc63a4e3d780f22e0f2340,new-release,os-collect-config===13.0.0,os-collect-config===12.0.0,1,1
openstack%2Frequirements~stable%2Ftrain~I311970bcca383613814a7cedc7713bd5279e4dae,openstack/requirements,stable/train,I311970bcca383613814a7cedc7713bd5279e4dae,update constraint for neutron to new release 15.3.1,MERGED,2021-01-28 11:10:16.000000000,2021-01-28 18:31:05.000000000,2021-01-28 18:31:05.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-28 11:10:16.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/38701843b9aef5718239bbb62697e336fe1465eb', 'message': 'update constraint for neutron to new release 15.3.1\n\nmeta: version: 15.3.1\nmeta: diff-start: -\nmeta: series: train\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Commit: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Change-Id: I10f4e1e24486d59217a6a21d11f003c1ace73c37\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I311970bcca383613814a7cedc7713bd5279e4dae\n'}]",0,772859,38701843b9aef5718239bbb62697e336fe1465eb,7,3,1,11131,,,0,"update constraint for neutron to new release 15.3.1

meta: version: 15.3.1
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Commit: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Change-Id: I10f4e1e24486d59217a6a21d11f003c1ace73c37
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I311970bcca383613814a7cedc7713bd5279e4dae
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/772859/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,38701843b9aef5718239bbb62697e336fe1465eb,new-release,neutron===15.3.1,neutron===15.3.0,1,1
openstack%2Frequirements~master~I4a8788c92af0ac04cd78e701835c327bd0dda0b4,openstack/requirements,master,I4a8788c92af0ac04cd78e701835c327bd0dda0b4,update constraint for os-net-config to new release 14.0.0,MERGED,2021-01-28 11:10:15.000000000,2021-01-28 18:28:56.000000000,2021-01-28 18:27:22.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-28 11:10:15.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a2ffdad2bd27bc0a1ccb617068e35f3168cf7de7', 'message': 'update constraint for os-net-config to new release 14.0.0\n\nmeta: version: 14.0.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: I42b1e3cfa9e22e1a6c483c6c4c96a97a8957872b\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I4a8788c92af0ac04cd78e701835c327bd0dda0b4\n'}]",0,772858,a2ffdad2bd27bc0a1ccb617068e35f3168cf7de7,9,3,1,11131,,,0,"update constraint for os-net-config to new release 14.0.0

meta: version: 14.0.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I42b1e3cfa9e22e1a6c483c6c4c96a97a8957872b
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I4a8788c92af0ac04cd78e701835c327bd0dda0b4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/58/772858/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a2ffdad2bd27bc0a1ccb617068e35f3168cf7de7,new-release,os-net-config===14.0.0,os-net-config===13.1.0,1,1
openstack%2Fmetalsmith~master~I88ea06b7cb07d648cc68b677e905bf403ae8e1ed,openstack/metalsmith,master,I88ea06b7cb07d648cc68b677e905bf403ae8e1ed,Do not wipe instance_info on normal unprovisioning,MERGED,2021-01-26 18:19:46.000000000,2021-01-28 18:21:48.000000000,2021-01-28 18:19:48.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-01-26 18:19:46.000000000', 'files': ['metalsmith/test/test_provisioner.py', 'metalsmith/_provisioner.py', 'releasenotes/notes/keep-instance-info-3e7bb09244d5aaa6.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/65f85451d09fa78389ba608bc40c358543ae6512', 'message': 'Do not wipe instance_info on normal unprovisioning\n\nIronic uses information from instance_info on tear down and removes\nit afterwards automatically.\n\nChange-Id: I88ea06b7cb07d648cc68b677e905bf403ae8e1ed\n'}]",0,772581,65f85451d09fa78389ba608bc40c358543ae6512,8,3,1,10239,,,0,"Do not wipe instance_info on normal unprovisioning

Ironic uses information from instance_info on tear down and removes
it afterwards automatically.

Change-Id: I88ea06b7cb07d648cc68b677e905bf403ae8e1ed
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/81/772581/1 && git format-patch -1 --stdout FETCH_HEAD,"['metalsmith/test/test_provisioner.py', 'metalsmith/_provisioner.py', 'releasenotes/notes/keep-instance-info-3e7bb09244d5aaa6.yaml']",3,65f85451d09fa78389ba608bc40c358543ae6512,keep-instance-info,"--- fixes: - | No longer removes ``instance_info`` on normal unprovisioning, only on failures during deployment. ",,25,14
openstack%2Fansible-collections-openstack~master~Iba2fe66c4bd19ab66f8e35c091ed4c0ea423efd1,openstack/ansible-collections-openstack,master,Iba2fe66c4bd19ab66f8e35c091ed4c0ea423efd1,Add security_group_rule_info module,MERGED,2020-12-04 18:14:31.000000000,2021-01-28 18:19:52.000000000,2021-01-28 18:19:52.000000000,"[{'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-12-04 18:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/321e9905241411abaf007178f54120c6ca7e7170', 'message': ""WIP: Add security_group_rule_info module\n\nLet's add a new missing module for getting info about security group rules.\n\nChange-Id: Iba2fe66c4bd19ab66f8e35c091ed4c0ea423efd1\n""}, {'number': 2, 'created': '2020-12-07 17:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f467f901f846d556f26057db70ddb07c3fad4bca', 'message': ""WIP: Add security_group_rule_info module\n\nLet's add a new missing module for getting info about security group rules.\n\nChange-Id: Iba2fe66c4bd19ab66f8e35c091ed4c0ea423efd1\n""}, {'number': 3, 'created': '2020-12-08 09:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d3977275a0022c2b8fb03e9f7adf40e040342d23', 'message': ""Add security_group_rule_info module\n\nLet's add a new missing module for getting info about security group rules.\n\nChange-Id: Iba2fe66c4bd19ab66f8e35c091ed4c0ea423efd1\n""}, {'number': 4, 'created': '2020-12-08 14:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3525ed51442f4a61966672f805452ef6e0f47723', 'message': ""Add security_group_rule_info module\n\nLet's add a new missing module for getting info about security group rules.\n\nChange-Id: Iba2fe66c4bd19ab66f8e35c091ed4c0ea423efd1\n""}, {'number': 5, 'created': '2020-12-15 12:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/33877d9e621b703b27164960512d83f4946cde46', 'message': ""Add security_group_rule_info module\n\nLet's add a new missing module for getting info about security group rules.\n\nChange-Id: Iba2fe66c4bd19ab66f8e35c091ed4c0ea423efd1\n""}, {'number': 6, 'created': '2021-01-20 13:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0ffefd7d35b96175666f5ae8c93c7891a861f9e4', 'message': ""Add security_group_rule_info module\n\nLet's add a new missing module for getting info about security group rules.\n\nChange-Id: Iba2fe66c4bd19ab66f8e35c091ed4c0ea423efd1\n""}, {'number': 7, 'created': '2021-01-20 14:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/200989d4f7ee3d844f97e3123bf127569eb81b0b', 'message': ""Add security_group_rule_info module\n\nLet's add a new missing module for getting info about security group rules.\n\nChange-Id: Iba2fe66c4bd19ab66f8e35c091ed4c0ea423efd1\n""}, {'number': 8, 'created': '2021-01-21 13:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0d4f5dbab62c828d0506988b99bacaec7b74024c', 'message': ""Add security_group_rule_info module\n\nLet's add a new missing module for getting info about security group rules.\n\nChange-Id: Iba2fe66c4bd19ab66f8e35c091ed4c0ea423efd1\n""}, {'number': 9, 'created': '2021-01-21 14:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2c8e18df9976dfad445a0885d98693bb34bf1b2c', 'message': ""Add security_group_rule_info module\n\nLet's add a new missing module for getting info about security group rules.\n\nChange-Id: Iba2fe66c4bd19ab66f8e35c091ed4c0ea423efd1\n""}, {'number': 10, 'created': '2021-01-22 09:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/392ac23f95ad651a9ad76d4ca516742e164f7005', 'message': ""Add security_group_rule_info module\n\nLet's add a new missing module for getting info about security group rules.\n\nChange-Id: Iba2fe66c4bd19ab66f8e35c091ed4c0ea423efd1\n""}, {'number': 11, 'created': '2021-01-27 20:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d1acabe4d2ecbd4b5eca75ed6ccd37d7ef203174', 'message': ""Add security_group_rule_info module\n\nLet's add a new missing module for getting info about security group rules.\n\nChange-Id: Iba2fe66c4bd19ab66f8e35c091ed4c0ea423efd1\n""}, {'number': 12, 'created': '2021-01-28 10:43:36.000000000', 'files': ['meta/runtime.yml', 'plugins/modules/security_group_rule_info.py', 'ci/roles/security_group/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/51a9731cef35938a81a94f7c4568c005f839bf1e', 'message': ""Add security_group_rule_info module\n\nLet's add a new missing module for getting info about security group rules.\n\nChange-Id: Iba2fe66c4bd19ab66f8e35c091ed4c0ea423efd1\n""}]",90,765580,51a9731cef35938a81a94f7c4568c005f839bf1e,36,4,12,32673,,,0,"Add security_group_rule_info module

Let's add a new missing module for getting info about security group rules.

Change-Id: Iba2fe66c4bd19ab66f8e35c091ed4c0ea423efd1
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/80/765580/6 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/security_group_rule_info.py'],1,321e9905241411abaf007178f54120c6ca7e7170,secgrp_rule_info,"#!/usr/bin/python # coding: utf-8 -*- # # Copyright (c) 2020 by Tino Schreiber (Open Telekom Cloud), operated by T-Systems International GmbH # GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt) DOCUMENTATION = ''' --- module: security_group_rule_info short_description: Querying security group rules author: OpenStack Ansible SIG description: - Querying security group rules options: description: description: - Filter the list result by the human-readable description of the resource. type: str direction: description: - Filter the security group rule list result by the direction in which the security group rule is applied. choices: ['egress', 'ingress'] default: ingress type: str ethertype: description: - Filter the security group rule list result by the ethertype of network traffic. The value must be IPv4 or IPv6. choices: ['IPv4', 'IPv6'] default: IPv4 type: str port_range_min: description: - Starting port type: int port_range_max: description: - Ending port type: int project: description: - Filter the list result by the ID of the project that owns the resource. protocol: description: - Filter the security group rule list result by the IP protocol. type: str remote_group: description: - Filter the security group rule list result by the name or ID of the remote group that associates with this security group rule. type: str remote_ip_prefix: description: - Source IP address(es) in CIDR notation (exclusive with remote_group) type: str revision_number: description: - Filter the list result by the revision number of the resource. type: int rule: description: - Filter the list result by the ID of the security group rule. type: int security_group: description: - Name or ID of the security group required: true type: str project: description: - Unique name or ID of the project. required: false type: str requirements: - ""python >= 3.6"" - ""openstacksdk"" extends_documentation_fragment: - openstack.cloud.openstack ''' EXAMPLES = ''' # Get all security group rules - openstack.cloud.security_group_rule_info: cloud: ""{{ cloud }}"" register: sg # Filter security group rules for port 80 and name - openstack.cloud.security_group_rule_info: cloud: ""{{ cloud }}"" security_group: ""{{ rule_name }}"" protocol: tcp port_range_min: 80 port_range_max: 80 remote_ip_prefix: 0.0.0.0/0 # Filter for ICMP rules - openstack.cloud.security_group_rule_info: cloud: ""{{ cloud }}"" protocol: icmp ''' RETURN = ''' security_group_rules: description: List of dictionaries describing security group rules. type: complex returned: On Success. contains: id: description: Unique rule UUID. type: str returned: state == present direction: description: The direction in which the security group rule is applied. type: str sample: 'egress' returned: state == present ethertype: description: One of IPv4 or IPv6. type: str sample: 'IPv4' returned: state == present port_range_min: description: The minimum port number in the range that is matched by the security group rule. type: int sample: 8000 returned: state == present port_range_max: description: The maximum port number in the range that is matched by the security group rule. type: int sample: 8000 returned: state == present protocol: description: The protocol that is matched by the security group rule. type: str sample: 'tcp' returned: state == present remote_ip_prefix: description: The remote IP prefix to be associated with this security group rule. type: str sample: '0.0.0.0/0' returned: state == present security_group_id: description: The security group ID to associate with this security group rule. type: str returned: state == present ''' from ansible_collections.openstack.cloud.plugins.module_utils.openstack import ( OpenStackModule) class SecurityGroupRuleInfoModule(OpenStackModule): argument_spec = dict( description=dict(required=False, type='str'), direction=dict(required=False, type='str', choices=[None, 'egress', 'ingress'], default=None), ethertype=dict(required=False, type='str', choices=[None, 'IPv4', 'IPv6'], default=None), port_range_min=dict(required=False, type='int'), port_range_max=dict(required=False, type='int'), project=dict(required=False, type='str'), protocol=dict(required=False, default=None, choices=[None, 'any', 'tcp', 'udp', 'icmp', '112', '132']), remote_group=dict(required=False, type='str'), remote_ip_prefix=dict(required=False, type='str'), revision_number=dict(required=False, type='int'), rule=dict(required=False, type='str'), security_group=dict(required=False, type='str') ) module_kwargs = dict( mutually_exclusive=[ ['remote_ip_prefix', 'remote_group'], ] ) def run(self): description = self.params['description'] direction = self.params['direction'] ethertype = self.params['ethertype'] port_range_min = self.params['port_range_min'] port_range_max = self.params['port_range_max'] project = self.params['project'] protocol = self.params['protocol'] remote_group = self.params['remote_group'] remote_ip_prefix = self.params['remote_ip_prefix'] revision_number = self.params['revision_number'] rule = self.params['rule'] security_group = self.params['security_group'] changed = False filters = {} data = [] if rule: sec_rule = self.conn.network.get_security_group_rule(rule) if sec_rule is None: self.exit(changed=changed, security_group_rules=[]) filters['id'] = sec_rule.id if description: filters['description'] = description if direction: filters['direction'] = direction if ethertype: filters['ethertype'] = ethertype if port_range_min: filters['port_range_min'] = port_range_min if port_range_max: filters['port_range_max'] = port_range_max if project: proj = self.conn.get_project(project) if proj is None: self.fail_json(msg='Project %s could not be found' % project) filters['project_id'] = proj.id if protocol: filters['protocol'] = protocol if remote_group: filters['remote_group_id'] = remote_group if remote_ip_prefix: filters['remote_ip_prefix'] = remote_ip_prefix if revision_number: filters['revision_number'] = revision_number if security_group: sec_grp = self.conn.network.find_security_group( name_or_id=security_group, ignore_missing=True) if sec_grp is None: self.fail_json(msg='Security group %s could not be found' % sec_grp) filters['security_group_id'] = sec_grp.id for item in self.conn.network_security_group_rules(**filters): item = item.to_dict() data.append(item) self.exit_json(changed=changed security_group_rules=data) def main(): module = SecurityGroupRuleInfoModule() module() if __name__ == '__main__': main() ",,255,0
openstack%2Frequirements~master~Id22e2a93243f0f4e95a3c6ec9b80876c86516ad0,openstack/requirements,master,Id22e2a93243f0f4e95a3c6ec9b80876c86516ad0,update constraint for os-apply-config to new release 13.0.0,MERGED,2021-01-28 11:07:49.000000000,2021-01-28 18:15:55.000000000,2021-01-28 18:14:19.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-28 11:07:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/91cdb96210ae1ea2b3f2cd8eb4ed1640832cd52c', 'message': 'update constraint for os-apply-config to new release 13.0.0\n\nmeta: version: 13.0.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: yes\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: I42b1e3cfa9e22e1a6c483c6c4c96a97a8957872b\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Id22e2a93243f0f4e95a3c6ec9b80876c86516ad0\n'}]",0,772855,91cdb96210ae1ea2b3f2cd8eb4ed1640832cd52c,9,3,1,11131,,,0,"update constraint for os-apply-config to new release 13.0.0

meta: version: 13.0.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: yes
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I42b1e3cfa9e22e1a6c483c6c4c96a97a8957872b
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Id22e2a93243f0f4e95a3c6ec9b80876c86516ad0
",git fetch https://review.opendev.org/openstack/requirements refs/changes/55/772855/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,91cdb96210ae1ea2b3f2cd8eb4ed1640832cd52c,new-release,os-apply-config===13.0.0,os-apply-config===12.0.0,1,1
openstack%2Frequirements~stable%2Fussuri~I9eb6d339d728567cdb66447cbe91e332a967c1d2,openstack/requirements,stable/ussuri,I9eb6d339d728567cdb66447cbe91e332a967c1d2,update constraint for neutron to new release 16.3.0,MERGED,2021-01-28 11:09:23.000000000,2021-01-28 18:14:24.000000000,2021-01-28 18:14:24.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-28 11:09:23.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bded58764a3186144ae8fd2cec2db2e973b7768e', 'message': 'update constraint for neutron to new release 16.3.0\n\nmeta: version: 16.3.0\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Commit: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Change-Id: I10f4e1e24486d59217a6a21d11f003c1ace73c37\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I9eb6d339d728567cdb66447cbe91e332a967c1d2\n'}]",0,772856,bded58764a3186144ae8fd2cec2db2e973b7768e,7,3,1,11131,,,0,"update constraint for neutron to new release 16.3.0

meta: version: 16.3.0
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Commit: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Change-Id: I10f4e1e24486d59217a6a21d11f003c1ace73c37
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I9eb6d339d728567cdb66447cbe91e332a967c1d2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/56/772856/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bded58764a3186144ae8fd2cec2db2e973b7768e,new-release,neutron===16.3.0,neutron===16.2.0,1,1
openstack%2Freleases~master~I9812a794d1af26248774f2a34a6a11c0cac3e9f7,openstack/releases,master,I9812a794d1af26248774f2a34a6a11c0cac3e9f7,Octavia: EOL Stein branch,MERGED,2021-01-28 10:16:27.000000000,2021-01-28 17:35:58.000000000,2021-01-28 17:35:58.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-28 10:16:27.000000000', 'files': ['deliverables/stein/octavia.yaml', 'deliverables/stein/octavia-dashboard.yaml', 'deliverables/stein/python-octaviaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f1074a103820a03b608b476434bf2e935c821bbd', 'message': 'Octavia: EOL Stein branch\n\nTesting on older branches has become difficult to the point where it is\nnot worth continued upkeep of the gates. As this branch is effectively\ndead already, we may as well make it official.\n\nChange-Id: I9812a794d1af26248774f2a34a6a11c0cac3e9f7\n'}]",0,772847,f1074a103820a03b608b476434bf2e935c821bbd,10,5,1,10273,,,0,"Octavia: EOL Stein branch

Testing on older branches has become difficult to the point where it is
not worth continued upkeep of the gates. As this branch is effectively
dead already, we may as well make it official.

Change-Id: I9812a794d1af26248774f2a34a6a11c0cac3e9f7
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/772847/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/octavia.yaml', 'deliverables/stein/octavia-dashboard.yaml', 'deliverables/stein/python-octaviaclient.yaml']",3,f1074a103820a03b608b476434bf2e935c821bbd,, - version: stein-eol projects: - repo: openstack/python-octaviaclient hash: c9069d587228603db696496f88b6e686d380f022,,12,0
openstack%2Freleases~master~I90356fe5f25bf378f3d13fbc0c4cb120c25bd77c,openstack/releases,master,I90356fe5f25bf378f3d13fbc0c4cb120c25bd77c,etcd3gw - adopting the independent release model,MERGED,2021-01-19 08:55:25.000000000,2021-01-28 17:35:32.000000000,2021-01-28 17:35:32.000000000,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-19 08:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1079c6c4ea543dd7a9cb46225cc3db21d18924a9', 'message': 'etcd3gw - adopting the independent release model\n\netcd3gw was not defined in openstack/release these change allow to\nrelease this project.\n\nChange-Id: I90356fe5f25bf378f3d13fbc0c4cb120c25bd77c\n'}, {'number': 2, 'created': '2021-01-20 10:13:42.000000000', 'files': ['deliverables/_independent/etcd3gw.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3852e18fcf988060d290a321ca551fd368bcb02f', 'message': 'etcd3gw - adopting the independent release model\n\netcd3gw was not defined in openstack/release these change allow to\nrelease this project.\n\nChange-Id: I90356fe5f25bf378f3d13fbc0c4cb120c25bd77c\n'}]",0,771383,3852e18fcf988060d290a321ca551fd368bcb02f,11,2,2,28522,,,0,"etcd3gw - adopting the independent release model

etcd3gw was not defined in openstack/release these change allow to
release this project.

Change-Id: I90356fe5f25bf378f3d13fbc0c4cb120c25bd77c
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/771383/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/etcd3gw.yaml'],1,1079c6c4ea543dd7a9cb46225cc3db21d18924a9,etcd3gw,--- launchpad: etcd3gw team: oslo release-type: python-pypi type: other repository-settings: openstack/renderspec: {} releases: ,,8,0
openstack%2Freleases~master~I6ac8b52349d631171647c89c8ef18cd6a9b16808,openstack/releases,master,I6ac8b52349d631171647c89c8ef18cd6a9b16808,Moving oslo projects to independent model,MERGED,2020-11-30 10:28:47.000000000,2021-01-28 17:35:25.000000000,2021-01-28 17:35:25.000000000,"[{'_account_id': 308}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-30 10:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e652641e68260474d080b5623182710d60f95202', 'message': 'Moving oslo projects to independent model\n\nAs discussed on the ML many oslo projects are now stable enough to be\nadopt the independent release model.\n\nIt will help us o reduce the amount of efforts needed to backport fixes to\nstable branches.\n\ntooz, stevedore, and osprofiler are finally ignored as they needs some\nreleases for Wallaby. They was originally planed to be transitioned too.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-November/018905.html\n\nChange-Id: I6ac8b52349d631171647c89c8ef18cd6a9b16808\n'}, {'number': 2, 'created': '2020-11-30 10:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/93a37ca738ce5b038d2949313a9bd6d483b33b01', 'message': 'Moving oslo projects to independent model\n\nAs discussed on the ML many oslo projects are now stable enough to be\nadopt the independent release model.\n\nIt will help us o reduce the amount of efforts needed to backport fixes to\nstable branches.\n\noslo.upgradecheck, tooz, stevedore, and osprofiler are finally ignored as they\nneeds some releases for Wallaby. They was originally planed to be\ntransitioned too.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-November/018905.html\n\nChange-Id: I6ac8b52349d631171647c89c8ef18cd6a9b16808\n'}, {'number': 3, 'created': '2021-01-20 09:15:49.000000000', 'files': ['deliverables/_independent/oslo.reports.yaml', 'deliverables/_independent/oslo.rootwrap.yaml', 'deliverables/_independent/oslo.concurrency.yaml', 'deliverables/_independent/oslotest.yaml', 'deliverables/_independent/oslo.log.yaml', 'deliverables/_independent/oslo.i18n.yaml', 'deliverables/_independent/taskflow.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5ecb80c82ed3ab0144c8e5860ee62df458dfc2b5', 'message': 'Moving oslo projects to independent model\n\nAs discussed on the ML many oslo projects are now stable enough to be\nadopt the independent release model.\n\nIt will help us o reduce the amount of efforts needed to backport fixes to\nstable branches.\n\noslo.upgradecheck, tooz, stevedore, and osprofiler are finally ignored as they\nneeds some releases for Wallaby. They was originally planed to be\ntransitioned too.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-November/018905.html\n\nChange-Id: I6ac8b52349d631171647c89c8ef18cd6a9b16808\n'}]",0,764624,5ecb80c82ed3ab0144c8e5860ee62df458dfc2b5,16,3,3,28522,,,0,"Moving oslo projects to independent model

As discussed on the ML many oslo projects are now stable enough to be
adopt the independent release model.

It will help us o reduce the amount of efforts needed to backport fixes to
stable branches.

oslo.upgradecheck, tooz, stevedore, and osprofiler are finally ignored as they
needs some releases for Wallaby. They was originally planed to be
transitioned too.

http://lists.openstack.org/pipermail/openstack-discuss/2020-November/018905.html

Change-Id: I6ac8b52349d631171647c89c8ef18cd6a9b16808
",git fetch https://review.opendev.org/openstack/releases refs/changes/24/764624/3 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/_independent/oslo.reports.yaml', 'deliverables/_independent/oslo.rootwrap.yaml', 'deliverables/_independent/oslo.upgradecheck.yaml', 'deliverables/_independent/oslo.concurrency.yaml', 'deliverables/_independent/oslotest.yaml', 'deliverables/_independent/oslo.log.yaml', 'deliverables/_independent/oslo.i18n.yaml', 'deliverables/_independent/taskflow.yaml']",8,e652641e68260474d080b5623182710d60f95202,oslo-transition-independent,,release-model: cycle-with-intermediary,0,8
openstack%2Freleases~master~I71cb18682761775894bf4f03ddc68f5b66335335,openstack/releases,master,I71cb18682761775894bf4f03ddc68f5b66335335,[doc] updating when to change the release model,MERGED,2021-01-20 09:23:56.000000000,2021-01-28 17:35:01.000000000,2021-01-28 17:35:01.000000000,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-20 09:23:56.000000000', 'files': ['doc/source/reference/process.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/1764fb47673975c2bfcad9557ad6f86bb3aa06f5', 'message': '[doc] updating when to change the release model\n\nThese sentences seems wrong as we proposed many time to move release\nmodels in the middle of the cycle.\n\nChange-Id: I71cb18682761775894bf4f03ddc68f5b66335335\n'}]",0,771579,1764fb47673975c2bfcad9557ad6f86bb3aa06f5,7,2,1,28522,,,0,"[doc] updating when to change the release model

These sentences seems wrong as we proposed many time to move release
models in the middle of the cycle.

Change-Id: I71cb18682761775894bf4f03ddc68f5b66335335
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/771579/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/process.rst'],1,1764fb47673975c2bfcad9557ad6f86bb3aa06f5,doc-update, continued in $SERIES with a similar release model.," continued in $SERIES with a similar release model. If you intend to drop a deliverable, or modify its release model, please do so before the $SERIES-1 milestone by proposing a change to the deliverable file at: https://opendev.org/openstack/releases/src/branch/master/deliverables/$SERIES If you planned to change the release model for any of your deliverables this cycle, please remember to do so ASAP, before milestone-1. ",1,8
openstack%2Freleases~master~Iafe0f01c8607cbb9e297cd4b99e099a31e471960,openstack/releases,master,Iafe0f01c8607cbb9e297cd4b99e099a31e471960,"Add doc related to validation status (red, orange, green)",MERGED,2021-01-04 17:28:37.000000000,2021-01-28 17:34:47.000000000,2021-01-28 17:34:47.000000000,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 17:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/16519d68aa52c08a13e22509a3cce80e6f3cbd1f', 'message': 'Add doc related to validation status (red, orange, green)\n\nAs discussed during one of our meeting few weeks ago here is the doc\nrelated to the flag status process used by the release team to hold our\nvalidations in the case where we face a repeatable issue.\n\nChange-Id: Iafe0f01c8607cbb9e297cd4b99e099a31e471960\n'}, {'number': 2, 'created': '2021-01-14 11:04:48.000000000', 'files': ['doc/source/reference/reviewer_guide.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/2a0e6240203628e91a78e6de9305486d07495e5c', 'message': 'Add doc related to validation status (red, orange, green)\n\nAs discussed during one of our meeting few weeks ago here is the doc\nrelated to the flag status process used by the release team to hold our\nvalidations in the case where we face a repeatable issue.\n\nChange-Id: Iafe0f01c8607cbb9e297cd4b99e099a31e471960\n'}]",12,769171,2a0e6240203628e91a78e6de9305486d07495e5c,11,2,2,28522,,,0,"Add doc related to validation status (red, orange, green)

As discussed during one of our meeting few weeks ago here is the doc
related to the flag status process used by the release team to hold our
validations in the case where we face a repeatable issue.

Change-Id: Iafe0f01c8607cbb9e297cd4b99e099a31e471960
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/769171/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/reviewer_guide.rst'],1,16519d68aa52c08a13e22509a3cce80e6f3cbd1f,flag-doc," Release Approval Status ======================= Depending on the kind of job failures expercienced it could be mandatory to stop all our validations. Indeed, sometime job failures are reproductible many time and should be fixed first to avoid repeated failures wich could lead inconscistent states in our coordinated releases. To answer that case we defined three status to indicate if we should/shouldn't continue to validate patch: - ``RED``: validations holded; - ``ORANGE``: a transien status where we think that the issue is solved but that must be tested first; - ``GREEN``: the issue have been fixed and everything works as expected. (validations are reopen). To inform all the release manager that something went wrong and ask them to hold the validation then follow the following process: 1. open a new thread on the ML with for topic ``[release] Status: RED - $subject`` to indicate the issue 2. notify directly the release managers on IRC (``#openstack-release``) When you think that the problem is solved but that it still need some tests you just have to reply on the thread by moving the topic from ``RED`` to ``ORANGE``. When everything seems under control then you can reply on the thread by moving the topic from ``ORANGE`` to ``GREEN``.",,33,0
openstack%2Fopenstack-ansible~stable%2Fvictoria~Ife900f813b0282bf61ae6ce74a7d4c916ea8664e,openstack/openstack-ansible,stable/victoria,Ife900f813b0282bf61ae6ce74a7d4c916ea8664e,Add to bind-to-mgmt upgrade release note for older deployments,MERGED,2021-01-27 13:15:55.000000000,2021-01-28 17:25:18.000000000,2021-01-28 17:21:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-27 13:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e31da4ac36c98ba6ef03ac14be3e7805efa424e8', 'message': ""Add to bind-to-mgmt upgrade release note for older deployments\n\nHaving upgraded an older deployment through to Victoria we\nencountered an issue with the Ansible RabbitMQ modules and the\nrabbitmqctl tool following the bind-to-mgmt config changes. This\nwas caused by the presence of old '127.0.1.1' host records which\nare no longer added or managed by OSA.\n\nThis release note adds an extra word of warning for those with\nlong-standing OSA deployments.\n\nChange-Id: Ife900f813b0282bf61ae6ce74a7d4c916ea8664e\n""}, {'number': 2, 'created': '2021-01-28 15:06:18.000000000', 'files': ['releasenotes/notes/bind-to-mgmt-91815a7c0ee01de1.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/09fa3b6613462a2b508865b96618241ee15f364c', 'message': ""Add to bind-to-mgmt upgrade release note for older deployments\n\nHaving upgraded an older deployment through to Victoria we\nencountered an issue with the Ansible RabbitMQ modules and the\nrabbitmqctl tool following the bind-to-mgmt config changes. This\nwas caused by the presence of old '127.0.1.1' host records which\nare no longer added or managed by OSA.\n\nThis release note adds an extra word of warning for those with\nlong-standing OSA deployments.\n\nChange-Id: Ife900f813b0282bf61ae6ce74a7d4c916ea8664e\n""}]",0,772691,09fa3b6613462a2b508865b96618241ee15f364c,13,3,2,31542,,,0,"Add to bind-to-mgmt upgrade release note for older deployments

Having upgraded an older deployment through to Victoria we
encountered an issue with the Ansible RabbitMQ modules and the
rabbitmqctl tool following the bind-to-mgmt config changes. This
was caused by the presence of old '127.0.1.1' host records which
are no longer added or managed by OSA.

This release note adds an extra word of warning for those with
long-standing OSA deployments.

Change-Id: Ife900f813b0282bf61ae6ce74a7d4c916ea8664e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/91/772691/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bind-to-mgmt-b755a8a390ee970e.yaml'],1,e31da4ac36c98ba6ef03ac14be3e7805efa424e8,," Older deployments should check for the presence of legacy '127.0.1.1' entries in their /etc/hosts files. These will need to be removed before upgrading, particularly on RabbitMQ hosts and containers.",,3,0
openstack%2Frelease-test~master~I7f1a14d57bdc15b3cf38bb6af8b76939ffdf7765,openstack/release-test,master,I7f1a14d57bdc15b3cf38bb6af8b76939ffdf7765,Add doc/requirements,MERGED,2021-01-07 15:49:58.000000000,2021-01-28 17:23:01.000000000,2021-01-28 17:23:01.000000000,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 15:49:58.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/release-test/commit/455083be7ec2bd1d6bbe73d5a938fabc1675ef18', 'message': ""Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver [1] for the release team [2][3].\nRemoving specific doc requirements from test-requirements.txt.\n\nThe problem here is that this repos haven't doc/requirements.txt file\nand by default in this case zuul will use the test-requirements.txt file\nto pull requirements [4].\n\nThis requirements file contains extra requirements like flake8 that\ncollided with those allowed in our job environment and so the new pip\nresolver fails to install these requirements and the job exits in error.\n\nThis project meet the conditions leading to the bug.\n\nAlso these changes remove a stale `setenv`.\n\n[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36\n\nChange-Id: I7f1a14d57bdc15b3cf38bb6af8b76939ffdf7765\n""}]",0,769775,455083be7ec2bd1d6bbe73d5a938fabc1675ef18,7,2,1,28522,,,0,"Add doc/requirements

We need to specify doc requirements in doc/requirements.txt
to avoid problems with the pip resolver [1] for the release team [2][3].
Removing specific doc requirements from test-requirements.txt.

The problem here is that this repos haven't doc/requirements.txt file
and by default in this case zuul will use the test-requirements.txt file
to pull requirements [4].

This requirements file contains extra requirements like flake8 that
collided with those allowed in our job environment and so the new pip
resolver fails to install these requirements and the job exits in error.

This project meet the conditions leading to the bug.

Also these changes remove a stale `setenv`.

[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html
[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36

Change-Id: I7f1a14d57bdc15b3cf38bb6af8b76939ffdf7765
",git fetch https://review.opendev.org/openstack/release-test refs/changes/75/769775/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,455083be7ec2bd1d6bbe73d5a938fabc1675ef18,fix-relmgt-pip-doc,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txtdeps = {[testenv:docs]deps}, {[testenv]setenv},6,4
openstack%2Fopenstack-ansible~stable%2Fvictoria~I183c39e806a070e93e65c85ff851790aed6bae59,openstack/openstack-ansible,stable/victoria,I183c39e806a070e93e65c85ff851790aed6bae59,Remove localhost references from galera docs following bind change,MERGED,2021-01-28 15:00:36.000000000,2021-01-28 17:21:12.000000000,2021-01-28 17:18:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-28 15:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/96da09981ab27879fc4b39071abfcbcac4f452f8', 'message': 'Remove localhost references from galera docs following bind change\n\nAs of victoria, the default bind address for galera does not\ninclude 127.0.0.1. As such these documentation examples do not\nwork.\n\nSimply removing the explicit host command line switch appears to\nwork on our deployment.\n\nChange-Id: I183c39e806a070e93e65c85ff851790aed6bae59\n'}, {'number': 2, 'created': '2021-01-28 16:15:47.000000000', 'files': ['doc/source/admin/maintenance-tasks/galera.rst', 'doc/source/admin/maintenance-tasks/ansible-modules.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/714463dd009c93086681c383cc3feacc973edbfc', 'message': 'Remove localhost references from galera docs following bind change\n\nAs of victoria, the default bind address for galera does not\ninclude 127.0.0.1. As such these documentation examples do not\nwork.\n\nSimply removing the explicit host command line switch appears to\nwork on our deployment.\n\nChange-Id: I183c39e806a070e93e65c85ff851790aed6bae59\n(cherry picked from commit a9849a3e2904ba9dd9b37dfe84053790b8a27f92)\n'}]",0,772807,714463dd009c93086681c383cc3feacc973edbfc,10,3,2,31542,,,0,"Remove localhost references from galera docs following bind change

As of victoria, the default bind address for galera does not
include 127.0.0.1. As such these documentation examples do not
work.

Simply removing the explicit host command line switch appears to
work on our deployment.

Change-Id: I183c39e806a070e93e65c85ff851790aed6bae59
(cherry picked from commit a9849a3e2904ba9dd9b37dfe84053790b8a27f92)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/07/772807/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/maintenance-tasks/galera.rst', 'doc/source/admin/maintenance-tasks/ansible-modules.rst']",2,96da09981ab27879fc4b39071abfcbcac4f452f8,," $ ansible galera_container -m shell -a ""mysql \"," $ ansible galera_container -m shell -a ""mysql -h 127.0.0.1\",7,7
openstack%2Freleases~master~I9670433f0f7c0e064c3d194516a3c8364d4547d8,openstack/releases,master,I9670433f0f7c0e064c3d194516a3c8364d4547d8,RPM packaging deliverables no longer under relmgt,MERGED,2021-01-22 11:08:00.000000000,2021-01-28 17:19:05.000000000,2021-01-28 17:19:05.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 27380}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-22 11:08:00.000000000', 'files': ['deliverables/wallaby/rpm-packaging.yaml', 'deliverables/_independent/pymod2pkg.yaml', 'deliverables/_independent/renderspec.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a84da94821bf0d714c5774c923c97266042d464c', 'message': 'RPM packaging deliverables no longer under relmgt\n\nFollowing the transition of RPM packaging project team into a SIG,\nthe team deliverables are now directly released by the SIG. The\nRelease Management team is no longer handling them using the\nopenstack/releases repository.\n\nNB: we keep deliverable files for past series to reflect history.\nFiles for the cycle-independent deliverables are removed, to avoid\npublishing erroneous release information (partial history ignoring\nmore recent releases from the SIG).\n\nChange-Id: I9670433f0f7c0e064c3d194516a3c8364d4547d8\n'}]",0,771963,a84da94821bf0d714c5774c923c97266042d464c,9,4,1,308,,,0,"RPM packaging deliverables no longer under relmgt

Following the transition of RPM packaging project team into a SIG,
the team deliverables are now directly released by the SIG. The
Release Management team is no longer handling them using the
openstack/releases repository.

NB: we keep deliverable files for past series to reflect history.
Files for the cycle-independent deliverables are removed, to avoid
publishing erroneous release information (partial history ignoring
more recent releases from the SIG).

Change-Id: I9670433f0f7c0e064c3d194516a3c8364d4547d8
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/771963/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/rpm-packaging.yaml', 'deliverables/_independent/pymod2pkg.yaml', 'deliverables/_independent/renderspec.yaml']",3,a84da94821bf0d714c5774c923c97266042d464c,rpm-packaging-sig,,--- launchpad: renderspec team: Packaging-rpm release-type: python-pypi type: other releases: - version: 1.0.0 projects: - repo: openstack/renderspec hash: d6737f42a021af490a1c004da228f3a4c69d450d - version: 1.1.0 projects: - repo: openstack/renderspec hash: b560536a810e68a413d09e8aad1e56ea450647fa - version: 1.2.0 projects: - repo: openstack/renderspec hash: abc85adaa33ef2a6d727be7845c6936ba85c7e07 - version: 1.3.0 projects: - repo: openstack/renderspec hash: 32ebb11f94c964203a924e9ab5213bcb68c0f4ea - version: 1.4.0 projects: - repo: openstack/renderspec hash: ac48e745b134941b6fc2a48d71bb063b4126b189 - version: 1.5.0 projects: - repo: openstack/renderspec hash: 8301dfae735dabce13d3c80eaf661025b10656ad - version: 1.6.0 projects: - repo: openstack/renderspec hash: b0512f1e55177c4402df5823847c84945513ba59 - version: 1.6.1 projects: - repo: openstack/renderspec hash: a97ffcf16fff3b5eb6b3858c17c3600d2c3b2fbe - version: 1.6.2 projects: - repo: openstack/renderspec hash: c0df0c06328292377bc7ccc2ad4927afc8330c11 - version: 1.7.0 projects: - repo: openstack/renderspec hash: 2a0409abd6072aa9fb19869422d43652f4811f2b - projects: - hash: f646eea279f35d8c3e0f0533e6ee4e9e7ddd6699 repo: openstack/renderspec version: 1.8.0 - projects: - hash: 2d0afbf1cf8ccbb8f494bffd919a5a945d850123 repo: openstack/renderspec version: 1.9.0 - projects: - hash: eb3ea1008b25456efee4beeaf2bf575a2d14d802 repo: openstack/renderspec version: 1.9.1 - projects: - hash: dcc565f85830122bfb919efdb941576ba58f8ceb repo: openstack/renderspec version: 1.10.0 - projects: - hash: 110c29133b9b6e57c101a9b3bee5f8c59ed4af13 repo: openstack/renderspec version: 1.11.0 - projects: - hash: 10dba1749532330048bad511b2a982a85986915e repo: openstack/renderspec version: 1.11.1 - projects: - hash: 8083f1ed3c66d9eb5f369db37f52d1b9e9c1eecc repo: openstack/renderspec version: 1.12.0 - projects: - hash: 50bea70bb529f2e2b93bd1961630cbff8a07e5dc repo: openstack/renderspec version: 2.0.0 - projects: - hash: eb69d47babc0240259bbd4737cdc4eb082e27aea repo: openstack/renderspec version: 2.1.0 repository-settings: openstack/renderspec: {} ,0,304
openstack%2Fopenstack-ansible-os_horizon~master~Ibab50a351d5e14bfc993884036c27cc3f2eee424,openstack/openstack-ansible-os_horizon,master,Ibab50a351d5e14bfc993884036c27cc3f2eee424,Move horizon pip packages from constraints to requirements,MERGED,2021-01-12 12:18:03.000000000,2021-01-28 17:08:24.000000000,2021-01-28 17:05:47.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-12 12:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/5729d5bb20efc7ca6fedb2e2ff86820fec18fc58', 'message': 'Move horizon pip packages from constraints to requirements\n\nThis is necessary to support the new pip resolver.\n\nChange-Id: Ibab50a351d5e14bfc993884036c27cc3f2eee424\n'}, {'number': 2, 'created': '2021-01-13 08:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/9a866530e77d7de3f330ba3b189e7a571031d870', 'message': 'Move horizon pip packages from constraints to requirements\n\nThis is necessary to support the new pip resolver.\n\nDepends-On: I49c75dd11d6c4e8d37fe013b7ffdfd56ff193fcd\nChange-Id: Ibab50a351d5e14bfc993884036c27cc3f2eee424\n'}, {'number': 3, 'created': '2021-01-13 16:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/ef45cd43d79197c2e6f3a5ea0e90ac9ce0114ce3', 'message': 'Move horizon pip packages from constraints to requirements\n\nThis is necessary to support the new pip resolver.\n\nDepends-On: I49c75dd11d6c4e8d37fe013b7ffdfd56ff193fcd\nChange-Id: Ibab50a351d5e14bfc993884036c27cc3f2eee424\n'}, {'number': 4, 'created': '2021-01-18 16:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/6f4d3b5883d21642d11da625c5d704b5e0aa68a9', 'message': 'Move horizon pip packages from constraints to requirements\n\nThis is necessary to support the new pip resolver.\n\nDepends-On: I9be6bbf4a29a4da2ddf96dc0336bc2a7d8ec9281\nDepends-On: I49c75dd11d6c4e8d37fe013b7ffdfd56ff193fcd\nChange-Id: Ibab50a351d5e14bfc993884036c27cc3f2eee424\n'}, {'number': 5, 'created': '2021-01-25 08:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/2806b2479c69dc14dddd1a71312fc3f84ba3ca5d', 'message': 'Move horizon pip packages from constraints to requirements\n\nThis is necessary to support the new pip resolver.\n\nDepends-On: I9be6bbf4a29a4da2ddf96dc0336bc2a7d8ec9281\nDepends-On: I49c75dd11d6c4e8d37fe013b7ffdfd56ff193fcd\nChange-Id: Ibab50a351d5e14bfc993884036c27cc3f2eee424\n'}, {'number': 6, 'created': '2021-01-25 10:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/6e2fe8d9ddac3d5b434519a32cc9f5fef1cc2940', 'message': 'Move horizon pip packages from constraints to requirements\n\nThis is necessary to support the new pip resolver.\n\nDepends-On: I9be6bbf4a29a4da2ddf96dc0336bc2a7d8ec9281\nDepends-On: I49c75dd11d6c4e8d37fe013b7ffdfd56ff193fcd\nChange-Id: Ibab50a351d5e14bfc993884036c27cc3f2eee424\n'}, {'number': 7, 'created': '2021-01-26 17:20:20.000000000', 'files': ['tasks/horizon_install_source.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/bd81eb72902078523259de660ac2fe1ece979c0b', 'message': 'Move horizon pip packages from constraints to requirements\n\nThis is necessary to support the new pip resolver.\n\nDepends-On: I9be6bbf4a29a4da2ddf96dc0336bc2a7d8ec9281\nDepends-On: I49c75dd11d6c4e8d37fe013b7ffdfd56ff193fcd\nChange-Id: Ibab50a351d5e14bfc993884036c27cc3f2eee424\n'}]",3,770283,bd81eb72902078523259de660ac2fe1ece979c0b,29,4,7,25023,,,0,"Move horizon pip packages from constraints to requirements

This is necessary to support the new pip resolver.

Depends-On: I9be6bbf4a29a4da2ddf96dc0336bc2a7d8ec9281
Depends-On: I49c75dd11d6c4e8d37fe013b7ffdfd56ff193fcd
Change-Id: Ibab50a351d5e14bfc993884036c27cc3f2eee424
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/83/770283/4 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,5729d5bb20efc7ca6fedb2e2ff86820fec18fc58,osa-new-pip," - ""git+{{ horizon_git_repo }}@{{ horizon_git_install_branch }}#egg=horizon"" - ""git+{{ blazar_dashboard_git_repo }}@{{ blazar_dashboard_git_install_branch }}#egg=blazar-dashboard"" horizon_cloudkitty_optional_pip_packages: - ""git+{{ cloudkitty_dashboard_git_repo }}@{{ cloudkitty_dashboard_git_install_branch }}#egg=cloudkitty_dashboard"" horizon_designate_optional_pip_packages: - ""git+{{ designate_dashboard_git_repo }}@{{ designate_dashboard_git_install_branch }}#egg=designate_dashboard"" horizon_heat_optional_pip_packages: - ""git+{{ heat_dashboard_git_repo }}@{{ heat_dashboard_git_install_branch }}#egg=heat_dashboard"" - ""git+{{ magnum_dashboard_git_repo }}@{{ magnum_dashboard_git_install_branch }}#egg=magnum-ui"" horizon_manila_optional_pip_packages: - ""git+{{ manila_dashboard_git_repo }}@{{ manila_dashboard_git_install_branch }}#egg=manila-ui"" horizon_masakari_optional_pip_packages: - ""git+{{ masakari_dashboard_git_repo }}@{{ masakari_dashboard_git_install_branch }}#egg=masakari_dashboard"" horizon_mistral_optional_pip_packages: - ""git+{{ mistral_dashboard_git_repo }}@{{ mistral_dashboard_git_install_branch }}#egg=mistral-dashboard"" horizon_murano_optional_pip_packages: - ""git+{{ murano_dashboard_git_repo }}@{{ murano_dashboard_git_install_branch }}#egg=murano-dashboard"" horizon_neutron_vpnaas_optional_pip_packages: - ""git+{{ neutron_vpnaas_dashboard_git_repo }}@{{ neutron_vpnaas_dashboard_git_install_branch }}#egg=neutron_vpnaas_dashboard"" horizon_octavia_optional_pip_packages: - ""git+{{ octavia_dashboard_git_repo }}@{{ octavia_dashboard_git_install_branch }}#egg=octavia_dashboard"" - ""git+{{ tacker_dashboard_git_repo }}@{{ tacker_dashboard_git_install_branch }}#egg=tacker_horizon"" horizon_trove_optional_pip_packages: - ""git+{{ trove_dashboard_git_repo }}@{{ trove_dashboard_git_install_branch }}#egg=trove_dashboard"" horizon_watcher_optional_pip_packages: - ""git+{{ watcher_dashboard_git_repo }}@{{ watcher_dashboard_git_install_branch }}#egg=watcher_dashboard""", - horizon - blazar_dashboard horizon_cloudkitty_optional_pip_packages: - cloudkitty_dashboard horizon_designate_optional_pip_packages: - designate_dashboard horizon_heat_optional_pip_packages: - heat_dashboard - magnum-ui horizon_manila_optional_pip_packages: - manila-ui horizon_masakari_optional_pip_packages: - masakari-dashboard horizon_mistral_optional_pip_packages: - mistral-dashboard horizon_murano_optional_pip_packages: - murano-dashboard horizon_neutron_vpnaas_optional_pip_packages: - neutron-vpnaas-dashboard horizon_octavia_optional_pip_packages: - octavia_dashboard - tacker_horizon horizon_trove_optional_pip_packages: - trove_dashboard horizon_watcher_optional_pip_packages: - watcher_dashboard,15,15
openstack%2Fcinder~master~I54e5c44e9d083447ae0e463aaf6355997bf2e06a,openstack/cinder,master,I54e5c44e9d083447ae0e463aaf6355997bf2e06a,Apply consistent personas to existing policy tests,NEW,2021-01-25 21:21:01.000000000,2021-01-28 16:54:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-25 21:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f61641a9bee963d38671026a2b49df4d5a3c8bd7', 'message': ""Apply consistent personas to existing policy tests\n\nThe existing policy tests exercised some common use cases that we've\nidentified (e.g., system-admin, system-member, system-reader,\nproject-admin, project-member, project-reader, etc).\n\nThis commit updates the tests to more accurately reflect personas we've\nidentified across the OpenStack community. This helps reduce mental\nmapping of terms that differ between implementations.\n\nThis commit also updates the context objects to represent the role\nimplication feature in keystone. For example, users with the admin role\nwill automatically have the member and reader roles in their token,\nwhich eventually make their way into the context.roles attribute.\n\nThis will help us test new policies that implement secure RBAC, which is\na broader change across the community to provide a consistent and more\nauthorization experience for deployers and end users.\n\nChange-Id: I54e5c44e9d083447ae0e463aaf6355997bf2e06a\n""}, {'number': 2, 'created': '2021-01-26 19:02:59.000000000', 'files': ['cinder/tests/unit/policies/test_volume.py', 'cinder/tests/unit/policies/test_volume_type.py', 'cinder/tests/unit/policies/test_default_volume_types.py', 'cinder/tests/unit/policies/test_volume_actions.py', 'cinder/tests/unit/policies/test_volume_metadata.py', 'cinder/tests/unit/policies/test_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7644093fc61107b40c85abee50e59450d90c1b98', 'message': ""Apply consistent personas to existing policy tests\n\nThe existing policy tests exercised some common use cases that we've\nidentified (e.g., system-admin, system-member, system-reader,\nproject-admin, project-member, project-reader, etc).\n\nThis commit updates the tests to more accurately reflect personas we've\nidentified across the OpenStack community. This helps reduce mental\nmapping of terms that differ between implementations.\n\nThis commit also updates the context objects to represent the role\nimplication feature in keystone. For example, users with the admin role\nwill automatically have the member and reader roles in their token,\nwhich eventually make their way into the context.roles attribute.\n\nThis will help us test new policies that implement secure RBAC, which is\na broader change across the community to provide a consistent and more\nauthorization experience for deployers and end users.\n\nChange-Id: I54e5c44e9d083447ae0e463aaf6355997bf2e06a\n""}]",5,772439,7644093fc61107b40c85abee50e59450d90c1b98,31,1,2,5046,,,0,"Apply consistent personas to existing policy tests

The existing policy tests exercised some common use cases that we've
identified (e.g., system-admin, system-member, system-reader,
project-admin, project-member, project-reader, etc).

This commit updates the tests to more accurately reflect personas we've
identified across the OpenStack community. This helps reduce mental
mapping of terms that differ between implementations.

This commit also updates the context objects to represent the role
implication feature in keystone. For example, users with the admin role
will automatically have the member and reader roles in their token,
which eventually make their way into the context.roles attribute.

This will help us test new policies that implement secure RBAC, which is
a broader change across the community to provide a consistent and more
authorization experience for deployers and end users.

Change-Id: I54e5c44e9d083447ae0e463aaf6355997bf2e06a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/772439/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/policies/test_volume.py', 'cinder/tests/unit/policies/test_default_volume_types.py', 'cinder/tests/unit/policies/test_volume_type.py', 'cinder/tests/unit/policies/test_volume_actions.py', 'cinder/tests/unit/policies/test_volume_metadata.py', 'cinder/tests/unit/policies/test_base.py']",6,f61641a9bee963d38671026a2b49df4d5a3c8bd7,secure-rbac," self.alt_project_id = fake_constants.PROJECT2_ID # NOTE(lbragstad): Create some common personas that we can use for # testing. One persona for each role and scope permutation, excluding # domain scope for now. Additionally, let's create a separate set of # personas on a different project so that we can test tenancy (e.g., # user's without authorization on a project shouldn't be mucking with # those volumes). self.project_admin_context = cinder_context.RequestContext( roles=['admin', 'member', 'reader'] self.project_member_context = cinder_context.RequestContext( user_id=fake_constants.USER_ID, project_id=self.project_id, roles=['member', 'reader'] self.project_reader_context = cinder_context.RequestContext( user_id=fake_constants.USER_ID, project_id=self.project_id, roles=['reader'] # Personas for an alternative project. These are useful for testing # tenancy enforcement. self.alt_project_admin_context = cinder_context.RequestContext( user_id=fake_constants.USER_ID, project_id=self.alt_project_id, roles=['admin', 'member', 'reader'] self.alt_project_member_context = cinder_context.RequestContext( user_id=fake_constants.USER_ID, project_id=self.alt_project_id, roles=['member', 'reader'] ) self.alt_project_reader_context = cinder_context.RequestContext( user_id=fake_constants.USER_ID, project_id=self.alt_project_id, roles=['reader'] ) user_id=fake_constants.USER_ID, system_scope='all', roles=['admin', 'member', 'reader'] ) self.system_member_context = cinder_context.RequestContext( user_id=fake_constants.USER_ID, system_scope='all', roles=['member', 'reader'] ) self.system_reader_context = cinder_context.RequestContext( user_id=fake_constants.USER_ID, system_scope='all', roles=['reader'] ) "," self.other_project_id = fake_constants.PROJECT2_ID self.admin_context = cinder_context.RequestContext( roles=['admin'] self.other_admin_context = cinder_context.RequestContext( user_id=fake_constants.USER_ID, project_id=self.other_project_id, roles=['admin'] self.user_context = cinder_context.RequestContext( user_id=fake_constants.USER2_ID, project_id=self.project_id, roles=['non-admin'] self.other_user_context = cinder_context.RequestContext( user_id=fake_constants.USER3_ID, project_id=self.other_project_id, roles=['non-admin'] user_id=fake_constants.USER_ID, project_id=self.project_id, roles=['admin'], system_scope='all')",161,132
openstack%2Fcinder~stable%2Ftrain~Iff8162c732fb9dc0080e8810b4a5bcaa3ff7e6ca,openstack/cinder,stable/train,Iff8162c732fb9dc0080e8810b4a5bcaa3ff7e6ca,Change default glance_num_retries to 3,MERGED,2020-11-16 07:03:27.000000000,2021-01-28 16:53:55.000000000,2021-01-28 16:50:35.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25613}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 31868}]","[{'number': 1, 'created': '2020-11-16 07:03:27.000000000', 'files': ['releasenotes/notes/increase_glance_num_retries-66b455a0729c4535.yaml', 'cinder/common/config.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d56bb6d6f93b0a069663e78c0d72adcb297457cf', 'message': ""Change default glance_num_retries to 3\n\nPreviously, the default value of glance_num_retries is 0. It means\nthat the request to glance is issued only one time. However, other\ncomponents' client retries the request when it fails.\nTo reduce an unnecessary exception and failure, we should increase\nthe default value to 3.\n\nChange-Id: Iff8162c732fb9dc0080e8810b4a5bcaa3ff7e6ca\n(cherry picked from commit da5a27f7b38708ea7e4e8877a1f247833224a518)\n(cherry picked from commit 45f2e24cc796dfd999520baf73c020ef4f6f791d)\n""}]",0,762783,d56bb6d6f93b0a069663e78c0d72adcb297457cf,85,17,1,25613,,,0,"Change default glance_num_retries to 3

Previously, the default value of glance_num_retries is 0. It means
that the request to glance is issued only one time. However, other
components' client retries the request when it fails.
To reduce an unnecessary exception and failure, we should increase
the default value to 3.

Change-Id: Iff8162c732fb9dc0080e8810b4a5bcaa3ff7e6ca
(cherry picked from commit da5a27f7b38708ea7e4e8877a1f247833224a518)
(cherry picked from commit 45f2e24cc796dfd999520baf73c020ef4f6f791d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/762783/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/increase_glance_num_retries-66b455a0729c4535.yaml', 'cinder/common/config.py']",2,d56bb6d6f93b0a069663e78c0d72adcb297457cf,increase_glance_num_retries-stable/ussuri-stable/train," default=3,"," default=0,",10,1
openstack%2Ftripleo-common~stable%2Fvictoria~I5177408258b6d33daa26239e7b5c4f017b9372cf,openstack/tripleo-common,stable/victoria,I5177408258b6d33daa26239e7b5c4f017b9372cf,TCIB: Fix debug mode for oslo process execute,MERGED,2021-01-11 15:45:39.000000000,2021-01-28 16:52:09.000000000,2021-01-28 16:49:54.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-11 15:45:39.000000000', 'files': ['tripleo_common/image/builder/buildah.py', 'tripleo_common/utils/process.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b1d64d69fa83a4000e62482afa6db6df92569b3a', 'message': 'TCIB: Fix debug mode for oslo process execute\n\nWhen pushing with buildah, there is no logfile options.\nIt dumps results of work to stderr.\nIn debug mode, we want those results logged. But we do not\nreconfigure oslo.log defaults, so it skips all details as\nit goes with INFO config instead.\n\nCapture debug results of process execution utility for buildah\npush and use the current logging context as well.\n\nAlso oslo process utils will log the time it took to do\nbuildah bud builds as a nice free bonus.\n\nChange-Id: I5177408258b6d33daa26239e7b5c4f017b9372cf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit e05e6bdf13feed14c286a3385c5a0c67a76f684b)\n'}]",0,770095,b1d64d69fa83a4000e62482afa6db6df92569b3a,30,5,1,6926,,,0,"TCIB: Fix debug mode for oslo process execute

When pushing with buildah, there is no logfile options.
It dumps results of work to stderr.
In debug mode, we want those results logged. But we do not
reconfigure oslo.log defaults, so it skips all details as
it goes with INFO config instead.

Capture debug results of process execution utility for buildah
push and use the current logging context as well.

Also oslo process utils will log the time it took to do
buildah bud builds as a nice free bonus.

Change-Id: I5177408258b6d33daa26239e7b5c4f017b9372cf
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit e05e6bdf13feed14c286a3385c5a0c67a76f684b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/95/770095/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/builder/buildah.py', 'tripleo_common/utils/process.py']",2,b1d64d69fa83a4000e62482afa6db6df92569b3a,," logger = kwargs.pop('logger', LOG) logger.debug('Execution completed, command line is ""%s""', ' '.join(map(str, cmd))) if log_stdout: logger.debug('Command stdout is: ""%s""', result[0]) logger.debug('Command stderr is: ""%s""', result[1])"," LOG.debug('Execution completed, command line is ""%s""', ' '.join(map(str, cmd))) if log_stdout: LOG.debug('Command stdout is: ""%s""', result[0]) LOG.debug('Command stderr is: ""%s""', result[1])",16,5
openstack%2Fopenstack-ansible-apt_package_pinning~master~I71e925f71b7cc3d2104a7b894fe3b3dcfddfaa8d,openstack/openstack-ansible-apt_package_pinning,master,I71e925f71b7cc3d2104a7b894fe3b3dcfddfaa8d,Add Victoria release info,ABANDONED,2020-12-29 02:27:24.000000000,2021-01-28 16:48:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 02:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/dca771ecacdad9f8165c509d35af1fc5ea27ba95', 'message': 'Add Victoria release info\n\nChange-Id: I71e925f71b7cc3d2104a7b894fe3b3dcfddfaa8d\n'}, {'number': 2, 'created': '2020-12-29 02:36:29.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/e993328a4e14435bc540f436f5af3ee2c2f277f1', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I71e925f71b7cc3d2104a7b894fe3b3dcfddfaa8d\n'}]",0,768634,e993328a4e14435bc540f436f5af3ee2c2f277f1,4,1,2,31825,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I71e925f71b7cc3d2104a7b894fe3b3dcfddfaa8d
",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/34/768634/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,dca771ecacdad9f8165c509d35af1fc5ea27ba95,, victoria,,7,0
openstack%2Fopenstack-ansible-lxc_hosts~master~I65f82b90721ea68efb423def82cd803edf0c71c7,openstack/openstack-ansible-lxc_hosts,master,I65f82b90721ea68efb423def82cd803edf0c71c7,Add Victoria release info,ABANDONED,2020-12-29 05:56:26.000000000,2021-01-28 16:48:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 05:56:26.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/5c4252a71b94efccb863b92bd440159b9af99c12', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I65f82b90721ea68efb423def82cd803edf0c71c7\n'}]",0,768665,5c4252a71b94efccb863b92bd440159b9af99c12,3,1,1,30384,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I65f82b90721ea68efb423def82cd803edf0c71c7
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/65/768665/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,5c4252a71b94efccb863b92bd440159b9af99c12,, victoria,,7,0
openstack%2Fopenstack-ansible-ceph_client~master~I59b57b66b01efd2247700873ebcc91388010bbc9,openstack/openstack-ansible-ceph_client,master,I59b57b66b01efd2247700873ebcc91388010bbc9,Add Victoria release info,ABANDONED,2020-12-29 06:36:11.000000000,2021-01-28 16:48:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 06:36:11.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/e3f695f742ce5e7f62bba2e46ce03599cfe181a4', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I59b57b66b01efd2247700873ebcc91388010bbc9\n'}]",0,768677,e3f695f742ce5e7f62bba2e46ce03599cfe181a4,3,1,1,30384,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I59b57b66b01efd2247700873ebcc91388010bbc9
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/77/768677/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,e3f695f742ce5e7f62bba2e46ce03599cfe181a4,, victoria,,7,0
openstack%2Fansible-role-systemd_service~master~If7b4dfd9b865e5b1a1b68c34bb1e0e0673a4805b,openstack/ansible-role-systemd_service,master,If7b4dfd9b865e5b1a1b68c34bb1e0e0673a4805b,Add Victoria release info,ABANDONED,2020-12-29 06:42:05.000000000,2021-01-28 16:48:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 06:42:05.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/ed5e96807bdcfc9430a8ba558140bc79d9380b0c', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: If7b4dfd9b865e5b1a1b68c34bb1e0e0673a4805b\n'}]",0,768679,ed5e96807bdcfc9430a8ba558140bc79d9380b0c,3,1,1,30384,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: If7b4dfd9b865e5b1a1b68c34bb1e0e0673a4805b
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/79/768679/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,ed5e96807bdcfc9430a8ba558140bc79d9380b0c,, victoria,,7,0
openstack%2Fopenstack-ansible-tests~master~I25e238c2776c8f66d993077b0edfb7bd2de0a9b1,openstack/openstack-ansible-tests,master,I25e238c2776c8f66d993077b0edfb7bd2de0a9b1,Add Victoria release info,ABANDONED,2020-12-29 06:48:16.000000000,2021-01-28 16:47:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 06:48:16.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/3787e4b9b7df1163623fc0907e1f17034975126c', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I25e238c2776c8f66d993077b0edfb7bd2de0a9b1\n'}]",0,768681,3787e4b9b7df1163623fc0907e1f17034975126c,5,1,1,31828,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I25e238c2776c8f66d993077b0edfb7bd2de0a9b1
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/81/768681/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,3787e4b9b7df1163623fc0907e1f17034975126c,, victoria,,7,0
openstack%2Fopenstack-ansible-ceph_client~master~I9a1100a39092caeba60d117f4e3b392fc3811f10,openstack/openstack-ansible-ceph_client,master,I9a1100a39092caeba60d117f4e3b392fc3811f10,Add Victoria release info,ABANDONED,2020-12-29 02:58:03.000000000,2021-01-28 16:47:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 02:58:03.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/5443d6b7425a5ed42ab937a6bcff43d23e72cac3', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I9a1100a39092caeba60d117f4e3b392fc3811f10\n'}]",0,768652,5443d6b7425a5ed42ab937a6bcff43d23e72cac3,5,1,1,31828,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I9a1100a39092caeba60d117f4e3b392fc3811f10
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/52/768652/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,5443d6b7425a5ed42ab937a6bcff43d23e72cac3,, victoria,,7,0
openstack%2Fopenstack-ansible-haproxy_server~master~Ia9132824e23069b5554aff633292819200066408,openstack/openstack-ansible-haproxy_server,master,Ia9132824e23069b5554aff633292819200066408,Add Victoria release info,ABANDONED,2020-12-29 02:55:45.000000000,2021-01-28 16:47:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 02:55:45.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/9019723b821fb5fc7a918f9057421ee7a5685c2f', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: Ia9132824e23069b5554aff633292819200066408\n'}]",0,768651,9019723b821fb5fc7a918f9057421ee7a5685c2f,5,1,1,31828,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: Ia9132824e23069b5554aff633292819200066408
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/51/768651/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,9019723b821fb5fc7a918f9057421ee7a5685c2f,, victoria,,7,0
openstack%2Fopenstack-ansible-openstack_openrc~master~Ifc0011a68dab8de7224fac76d6cd58d93b10effa,openstack/openstack-ansible-openstack_openrc,master,Ifc0011a68dab8de7224fac76d6cd58d93b10effa,Add Victoria release info,ABANDONED,2020-12-29 02:46:48.000000000,2021-01-28 16:47:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 02:46:48.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/545f4afe81d4bec9218751a6a97325b98190575e', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: Ifc0011a68dab8de7224fac76d6cd58d93b10effa\n'}]",0,768645,545f4afe81d4bec9218751a6a97325b98190575e,5,1,1,31828,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: Ifc0011a68dab8de7224fac76d6cd58d93b10effa
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/45/768645/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,545f4afe81d4bec9218751a6a97325b98190575e,, victoria,,7,0
openstack%2Fopenstack-ansible-openstack_hosts~master~I42b903f98eb9fe9152461d710903042bbac566d6,openstack/openstack-ansible-openstack_hosts,master,I42b903f98eb9fe9152461d710903042bbac566d6,Add Victoria release info,ABANDONED,2020-12-29 02:40:10.000000000,2021-01-28 16:47:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 02:40:10.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/c5e439c0d3b2b994a2a2f3e2eaadbf54858b1376', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I42b903f98eb9fe9152461d710903042bbac566d6\n'}]",0,768640,c5e439c0d3b2b994a2a2f3e2eaadbf54858b1376,5,1,1,31828,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I42b903f98eb9fe9152461d710903042bbac566d6
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/40/768640/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,c5e439c0d3b2b994a2a2f3e2eaadbf54858b1376,, victoria,,7,0
openstack%2Fopenstack-ansible~master~Iad99f59150498584ecfabb8374ca553c644e9ae7,openstack/openstack-ansible,master,Iad99f59150498584ecfabb8374ca553c644e9ae7,Add Victoria release info,ABANDONED,2020-12-29 02:04:38.000000000,2021-01-28 16:47:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 02:04:38.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6e9faafba885271290256a20efd625193bd69e83', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: Iad99f59150498584ecfabb8374ca553c644e9ae7\n'}]",0,768620,6e9faafba885271290256a20efd625193bd69e83,5,1,1,31828,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: Iad99f59150498584ecfabb8374ca553c644e9ae7
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/20/768620/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,6e9faafba885271290256a20efd625193bd69e83,, victoria,,7,0
openstack%2Fansible-role-systemd_mount~master~I1e6b45285d3a54327c9692a551598984681f321c,openstack/ansible-role-systemd_mount,master,I1e6b45285d3a54327c9692a551598984681f321c,Add Victoria release info,ABANDONED,2021-01-02 01:12:37.000000000,2021-01-28 16:47:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-02 01:12:37.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/7503cb5b011eb88baf52b49fcf2526823e1c0923', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I1e6b45285d3a54327c9692a551598984681f321c\n'}]",0,768825,7503cb5b011eb88baf52b49fcf2526823e1c0923,3,1,1,30384,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I1e6b45285d3a54327c9692a551598984681f321c
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/25/768825/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,7503cb5b011eb88baf52b49fcf2526823e1c0923,, victoria,,7,0
openstack%2Fopenstack-ansible-rsyslog_client~master~I7a8c8b3c56d3f0e98e221379375967e25e9b4395,openstack/openstack-ansible-rsyslog_client,master,I7a8c8b3c56d3f0e98e221379375967e25e9b4395,Add Victoria release info,ABANDONED,2021-01-02 01:48:51.000000000,2021-01-28 16:47:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-02 01:48:51.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/580e8022441496287190af3576913dd79b1759d4', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I7a8c8b3c56d3f0e98e221379375967e25e9b4395\n'}]",0,768829,580e8022441496287190af3576913dd79b1759d4,3,1,1,30384,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I7a8c8b3c56d3f0e98e221379375967e25e9b4395
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/29/768829/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,580e8022441496287190af3576913dd79b1759d4,, victoria,,7,0
openstack%2Fopenstack-ansible-galera_server~master~I5eaf96ccf679921415e63928bcbb3f2005283207,openstack/openstack-ansible-galera_server,master,I5eaf96ccf679921415e63928bcbb3f2005283207,Add Victoria release info,ABANDONED,2021-01-03 01:38:55.000000000,2021-01-28 16:47:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-03 01:38:55.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/e5147acf842d20aef1eea3ddb0dcfd1bc56a3ccf', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I5eaf96ccf679921415e63928bcbb3f2005283207\n'}]",0,768896,e5147acf842d20aef1eea3ddb0dcfd1bc56a3ccf,3,1,1,30384,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I5eaf96ccf679921415e63928bcbb3f2005283207
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/96/768896/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,e5147acf842d20aef1eea3ddb0dcfd1bc56a3ccf,, victoria,,7,0
openstack%2Fansible-role-python_venv_build~master~I0471284df1731872a42877fbd71e5618e1ff5427,openstack/ansible-role-python_venv_build,master,I0471284df1731872a42877fbd71e5618e1ff5427,Add Victoria release info,ABANDONED,2020-12-29 07:03:09.000000000,2021-01-28 16:47:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 07:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/89fe65d385dce5bccb13fc2bd3964c3aee0394a0', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I0471284df1731872a42877fbd71e5618e1ff5427\n'}, {'number': 2, 'created': '2021-01-06 17:11:23.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/534a202bce645b2d30e9b6ba211eecca499502b6', 'message': 'Add Victoria release info\n\nAdd the lack of release information for Victoria, this patch added it.\n\nChange-Id: I0471284df1731872a42877fbd71e5618e1ff5427\n'}]",0,768689,534a202bce645b2d30e9b6ba211eecca499502b6,5,1,2,30384,,,0,"Add Victoria release info

Add the lack of release information for Victoria, this patch added it.

Change-Id: I0471284df1731872a42877fbd71e5618e1ff5427
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/89/768689/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,89fe65d385dce5bccb13fc2bd3964c3aee0394a0,, victoria,,7,0
openstack%2Fcinder~master~I38996bc67be874b4fe8cfbd346598a18957db2c3,openstack/cinder,master,I38996bc67be874b4fe8cfbd346598a18957db2c3,WIP: Temporal fix for S3 backup driver test,ABANDONED,2021-01-27 21:11:21.000000000,2021-01-28 16:46:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-27 21:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f6ef7ba8f13fbcc8c576b1fe433ba055f0338a1c', 'message': 'WIP: Temporal fix for S3 backup driver test\n\nChange-Id: I38996bc67be874b4fe8cfbd346598a18957db2c3\n'}, {'number': 2, 'created': '2021-01-28 05:23:52.000000000', 'files': ['cinder/backup/drivers/s3.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c14b73413acaa9a13aee8b2c72057aae5ad269cd', 'message': 'WIP: Temporal fix for S3 backup driver test\n\nChange-Id: I38996bc67be874b4fe8cfbd346598a18957db2c3\n'}]",0,772773,c14b73413acaa9a13aee8b2c72057aae5ad269cd,31,1,2,13689,,,0,"WIP: Temporal fix for S3 backup driver test

Change-Id: I38996bc67be874b4fe8cfbd346598a18957db2c3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/772773/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/s3.py'],1,f6ef7ba8f13fbcc8c576b1fe433ba055f0338a1c,," conf_args = dict( connect_timeout=CONF.backup_s3_timeout, read_timeout=CONF.backup_s3_timeout, max_pool_connections=CONF.backup_s3_max_pool_connections, retries={ 'max_attempts': CONF.backup_s3_retry_max_attempts, 'mode': CONF.backup_s3_retry_mode}) if CONF.backup_s3_http_proxy: conf_args['proxies'] = {'http': CONF.backup_s3_http_proxy} if CONF.backup_s3_https_proxy: conf_args.setdefault('proxies', {}).update( {'https': CONF.backup_s3_https_proxy}) 'config': Config(**conf_args)} conf_args = dict( connect_timeout=CONF.backup_s3_timeout, read_timeout=CONF.backup_s3_timeout, max_pool_connections=CONF.backup_s3_max_pool_connections, retries={ 'max_attempts': CONF.backup_s3_retry_max_attempts, 'mode': CONF.backup_s3_retry_mode}) if CONF.backup_s3_http_proxy: conf_args['proxies'] = {'http': CONF.backup_s3_http_proxy} if CONF.backup_s3_https_proxy: conf_args.setdefault('proxies', {}).update( {'https': CONF.backup_s3_https_proxy}) 'config': Config(**conf_args)}"," 'config': Config( proxies={ 'http': CONF.backup_s3_http_proxy, 'https': CONF.backup_s3_https_proxy}, connect_timeout=CONF.backup_s3_timeout, read_timeout=CONF.backup_s3_timeout, max_pool_connections=CONF.backup_s3_max_pool_connections, retries={ 'max_attempts': CONF.backup_s3_retry_max_attempts, 'mode': CONF.backup_s3_retry_mode})} 'config': Config( proxies={ 'http': CONF.backup_s3_http_proxy, 'https': CONF.backup_s3_https_proxy}, connect_timeout=CONF.backup_s3_timeout, read_timeout=CONF.backup_s3_timeout, max_pool_connections=CONF.backup_s3_max_pool_connections, retries={ 'max_attempts': CONF.backup_s3_retry_max_attempts, 'mode': CONF.backup_s3_retry_mode})}",26,20
openstack%2Fwhitebox-tempest-plugin~master~I7fdc7f8fbfd6ee7329fdb4457d35a6ebdf5fe8d7,openstack/whitebox-tempest-plugin,master,I7fdc7f8fbfd6ee7329fdb4457d35a6ebdf5fe8d7,Added min_microversion to SRIOVNumaAffinity,MERGED,2021-01-28 03:24:32.000000000,2021-01-28 16:28:38.000000000,2021-01-28 16:28:38.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 27478}, {'_account_id': 30788}]","[{'number': 1, 'created': '2021-01-28 03:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/e973eebff93a112706907ab6c275f05a7c48b0ee', 'message': ""Added min_microversion to SRIOVNumaAffinity\n\nHelper method create_test_server in the test methods for class\nSRIOVNumaAffinity requires passing the 'host' parameter. This is only\nsupported for compute microversions 2.74 and greater. Adding class\nvariable min_microversion to to class SRIOVNumaAffinity to account for\nthis.\n\nChange-Id: I7fdc7f8fbfd6ee7329fdb4457d35a6ebdf5fe8d7\n""}, {'number': 2, 'created': '2021-01-28 03:30:13.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_sriov.py', 'whitebox_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/a3a92253e83eecc8f7d63852668b51b80333f307', 'message': ""Added min_microversion to SRIOVNumaAffinity\n\nHelper method create_test_server in the test methods for class\nSRIOVNumaAffinity requires passing the 'host' parameter. This is only\nsupported for compute microversions 2.74 and greater. Adding class\nvariable min_microversion to to class SRIOVNumaAffinity to account for\nthis.\n\nAlso updated help msg for [whitebox-hardware]/physnet_numa_affinity to\nbe a more accurate description of the parameter.\n\nChange-Id: I7fdc7f8fbfd6ee7329fdb4457d35a6ebdf5fe8d7\n""}]",0,772825,a3a92253e83eecc8f7d63852668b51b80333f307,8,4,2,31033,,,0,"Added min_microversion to SRIOVNumaAffinity

Helper method create_test_server in the test methods for class
SRIOVNumaAffinity requires passing the 'host' parameter. This is only
supported for compute microversions 2.74 and greater. Adding class
variable min_microversion to to class SRIOVNumaAffinity to account for
this.

Also updated help msg for [whitebox-hardware]/physnet_numa_affinity to
be a more accurate description of the parameter.

Change-Id: I7fdc7f8fbfd6ee7329fdb4457d35a6ebdf5fe8d7
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/25/772825/2 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/test_sriov.py'],1,e973eebff93a112706907ab6c275f05a7c48b0ee,sriov_numa_min_version, min_microversion = '2.74' ,,2,0
openstack%2Fmasakari-dashboard~master~I645114ff586b35eb5eddd0e3879882ba2f03e70e,openstack/masakari-dashboard,master,I645114ff586b35eb5eddd0e3879882ba2f03e70e,remove unicode from code,MERGED,2021-01-05 06:30:30.000000000,2021-01-28 16:24:44.000000000,2021-01-28 16:22:38.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-05 06:30:30.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/9405bf8e43ec6fb4e20b968d621e583db51a74a1', 'message': 'remove unicode from code\n\nChange-Id: I645114ff586b35eb5eddd0e3879882ba2f03e70e\n'}]",0,769248,9405bf8e43ec6fb4e20b968d621e583db51a74a1,8,3,1,31825,,,0,"remove unicode from code

Change-Id: I645114ff586b35eb5eddd0e3879882ba2f03e70e
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/48/769248/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,9405bf8e43ec6fb4e20b968d621e583db51a74a1,,"project = 'Masakari dashboard Release Notes' copyright = '2017, OpenStack Foundation' 'Masakari dashboard Release Notes Documentation', 'Masakari dashboard Developers', 'Masakari dashboard Release Notes Documentation', ['Masakari dashboard Developers'], 1) 'Masakari dashboard Release Notes Documentation', 'Masakari dashboard Developers', 'Masakari dashboardReleaseNotes',","project = u'Masakari dashboard Release Notes' copyright = u'2017, OpenStack Foundation' u'Masakari dashboard Release Notes Documentation', u'Masakari dashboard Developers', u'Masakari dashboard Release Notes Documentation', [u'Masakari dashboard Developers'], 1) u'Masakari dashboard Release Notes Documentation', u'Masakari dashboard Developers', 'Masakari dashboardReleaseNotes',",19,19
openstack%2Fopenstack-ansible~stable%2Fvictoria~I8a6e87fbbfcb95702be7de567d178d4dae857879,openstack/openstack-ansible,stable/victoria,I8a6e87fbbfcb95702be7de567d178d4dae857879,Fix lib/modules path for focal release,MERGED,2021-01-28 08:12:40.000000000,2021-01-28 16:17:51.000000000,2021-01-28 16:15:18.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-01-28 08:12:40.000000000', 'files': ['playbooks/common-playbooks/neutron.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d0661255e05c1112f6c6c7cd5b4e8cdbd9af0a93', 'message': 'Fix lib/modules path for focal release\n\non Focal /lib is a symlink to usr/lib.\nadjusting the bind mount options for containerized focal neutron-agent\n\nChange-Id: I8a6e87fbbfcb95702be7de567d178d4dae857879\n(cherry picked from commit 3c1c9e9cde688da26492f19bef2b82d9a0b50207)\n'}]",0,772803,d0661255e05c1112f6c6c7cd5b4e8cdbd9af0a93,9,4,1,25023,,,0,"Fix lib/modules path for focal release

on Focal /lib is a symlink to usr/lib.
adjusting the bind mount options for containerized focal neutron-agent

Change-Id: I8a6e87fbbfcb95702be7de567d178d4dae857879
(cherry picked from commit 3c1c9e9cde688da26492f19bef2b82d9a0b50207)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/03/772803/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-playbooks/neutron.yml'],1,d0661255e05c1112f6c6c7cd5b4e8cdbd9af0a93,focal-neutron-container-stable/victoria," - bind_dir_path: ""{{ (ansible_pkg_mgr == 'apt' and ansible_distribution_release != 'focal') | ternary('/lib/modules', '/usr/lib/modules') }}"" mount_path: ""{{ (ansible_pkg_mgr == 'apt' and ansible_distribution_release != 'focal') | ternary('/lib/modules', '/usr/lib/modules') }}"""," - bind_dir_path: ""{{ (ansible_pkg_mgr == 'apt') | ternary('/lib/modules', '/usr/lib/modules') }}"" mount_path: ""{{ (ansible_pkg_mgr == 'apt') | ternary('/lib/modules', '/usr/lib/modules') }}""",2,2
openstack%2Fopenstack-ansible~master~I183c39e806a070e93e65c85ff851790aed6bae59,openstack/openstack-ansible,master,I183c39e806a070e93e65c85ff851790aed6bae59,Remove localhost references from galera docs following bind change,MERGED,2021-01-26 15:29:47.000000000,2021-01-28 16:17:37.000000000,2021-01-28 16:15:22.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-01-26 15:29:47.000000000', 'files': ['doc/source/admin/maintenance-tasks/galera.rst', 'doc/source/admin/maintenance-tasks/ansible-modules.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a9849a3e2904ba9dd9b37dfe84053790b8a27f92', 'message': 'Remove localhost references from galera docs following bind change\n\nAs of victoria, the default bind address for galera does not\ninclude 127.0.0.1. As such these documentation examples do not\nwork.\n\nSimply removing the explicit host command line switch appears to\nwork on our deployment.\n\nChange-Id: I183c39e806a070e93e65c85ff851790aed6bae59\n'}]",0,772560,a9849a3e2904ba9dd9b37dfe84053790b8a27f92,8,3,1,31542,,,0,"Remove localhost references from galera docs following bind change

As of victoria, the default bind address for galera does not
include 127.0.0.1. As such these documentation examples do not
work.

Simply removing the explicit host command line switch appears to
work on our deployment.

Change-Id: I183c39e806a070e93e65c85ff851790aed6bae59
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/60/772560/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/maintenance-tasks/galera.rst', 'doc/source/admin/maintenance-tasks/ansible-modules.rst']",2,a9849a3e2904ba9dd9b37dfe84053790b8a27f92,," $ ansible galera_container -m shell -a ""mysql \"," $ ansible galera_container -m shell -a ""mysql -h 127.0.0.1\",7,7
openstack%2Fneutron~stable%2Fussuri~Iad29cb34825adaa8c766d01b192a6bbe9992148b,openstack/neutron,stable/ussuri,Iad29cb34825adaa8c766d01b192a6bbe9992148b,[QoS] Get only min bw rules when extending port dict,MERGED,2021-01-26 07:10:35.000000000,2021-01-28 16:12:23.000000000,2021-01-28 16:07:35.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 07:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0496b9cd06db6c8f4ea815c1859803ca3e4adf3d', 'message': '[QoS] Get only min bw rules when extending port dict\n\nOnly min bw rules are required hence no need to fetch\nall rules of QoS policy.\nAlso no need to get qos policy from DB\n\nPartial-Bug: #1905726\nChange-Id: Iad29cb34825adaa8c766d01b192a6bbe9992148b\n(cherry picked from commit a7e02cdb17350de6948af37a8304c1962cb70392)\n'}, {'number': 2, 'created': '2021-01-26 09:43:13.000000000', 'files': ['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1f71ae269598afd9045ad0933cf391a5501599ba', 'message': '[QoS] Get only min bw rules when extending port dict\n\nOnly min bw rules are required hence no need to fetch\nall rules of QoS policy.\nAlso no need to get qos policy from DB\n\nPartial-Bug: #1905726\nChange-Id: Iad29cb34825adaa8c766d01b192a6bbe9992148b\n(cherry picked from commit a7e02cdb17350de6948af37a8304c1962cb70392)\n'}]",0,772403,1f71ae269598afd9045ad0933cf391a5501599ba,14,3,2,5948,,,0,"[QoS] Get only min bw rules when extending port dict

Only min bw rules are required hence no need to fetch
all rules of QoS policy.
Also no need to get qos policy from DB

Partial-Bug: #1905726
Change-Id: Iad29cb34825adaa8c766d01b192a6bbe9992148b
(cherry picked from commit a7e02cdb17350de6948af37a8304c1962cb70392)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/772403/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py']",2,0496b9cd06db6c8f4ea815c1859803ca3e4adf3d,bug/1905726-stable/ussuri," mock.patch( 'neutron.objects.qos.rule.QosMinimumBandwidthRule.' 'get_objects', return_value=bw_rules): port = self._create_and_extend_port([])"," self.policy.rules = bw_rules self.policy.rules = bw_rules mock.patch('neutron.objects.qos.policy.QosPolicy.get_object', return_value=self.policy): port = self._create_and_extend_port([self.rule]) self.policy.rules = [self.min_rule]",9,11
openstack%2Fneutron~stable%2Ftrain~Iad29cb34825adaa8c766d01b192a6bbe9992148b,openstack/neutron,stable/train,Iad29cb34825adaa8c766d01b192a6bbe9992148b,[QoS] Get only min bw rules when extending port dict,MERGED,2021-01-26 07:11:09.000000000,2021-01-28 16:12:17.000000000,2021-01-28 16:07:51.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 07:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad1ffd71521326b0da03ab70cbe6e58976b33798', 'message': '[QoS] Get only min bw rules when extending port dict\n\nOnly min bw rules are required hence no need to fetch\nall rules of QoS policy.\nAlso no need to get qos policy from DB\n\nPartial-Bug: #1905726\nChange-Id: Iad29cb34825adaa8c766d01b192a6bbe9992148b\n(cherry picked from commit a7e02cdb17350de6948af37a8304c1962cb70392)\n'}, {'number': 2, 'created': '2021-01-26 09:43:55.000000000', 'files': ['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d3c578444a56d03287c0709c9676e1910781f3b', 'message': '[QoS] Get only min bw rules when extending port dict\n\nOnly min bw rules are required hence no need to fetch\nall rules of QoS policy.\nAlso no need to get qos policy from DB\n\nPartial-Bug: #1905726\nChange-Id: Iad29cb34825adaa8c766d01b192a6bbe9992148b\n(cherry picked from commit a7e02cdb17350de6948af37a8304c1962cb70392)\n'}]",1,772404,2d3c578444a56d03287c0709c9676e1910781f3b,15,3,2,5948,,,0,"[QoS] Get only min bw rules when extending port dict

Only min bw rules are required hence no need to fetch
all rules of QoS policy.
Also no need to get qos policy from DB

Partial-Bug: #1905726
Change-Id: Iad29cb34825adaa8c766d01b192a6bbe9992148b
(cherry picked from commit a7e02cdb17350de6948af37a8304c1962cb70392)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/772404/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py']",2,ad1ffd71521326b0da03ab70cbe6e58976b33798,bug/1905726-stable/train," mock.patch( 'neutron.objects.qos.rule.QosMinimumBandwidthRule.' 'get_objects', return_value=bw_rules): port = self._create_and_extend_port([])"," self.policy.rules = bw_rules self.policy.rules = bw_rules mock.patch('neutron.objects.qos.policy.QosPolicy.get_object', return_value=self.policy): port = self._create_and_extend_port([self.rule]) self.policy.rules = [self.min_rule]",9,11
openstack%2Fswift~master~I1d47b865e0a621f35d323bbed472a6cfd2a5971b,openstack/swift,master,I1d47b865e0a621f35d323bbed472a6cfd2a5971b,ssync: sync non-durable fragments from handoffs,MERGED,2021-01-09 16:38:01.000000000,2021-01-28 16:12:09.000000000,2021-01-28 16:08:59.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-09 16:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/efbf37f811ec5992788184bb28b6dc62d68f1489', 'message': ""WIP: ssync: sync non-durable fragments from handoffs (part 2/2)\n\nTODO:\n\n  - add object server unit tests for SSYNC response headers\n  - add probe test with both durable and non-durable frags\n    on a handoff\n  - add unit test to test_ssync.py\n  - add unit test for SsyncSender detecting not-upgraded receiver\n\nPreviously, ssync would not sync non-durable data fragments. When the\nreconstructor is syncing objects from a handoff node (a 'revert'\nreconstructor job) it may be useful, and is not harmful, to also send\nnon-durable fragments if the receiver has older or no fragment data.\n\nSeveral changes are made to enable this. On the sending side:\n\n  - For handoff (revert) jobs, the reconstructor instantiates\n    SsyncSender with a new 'include_non_durable' option.\n  - If configured with the include_non_durable option, the SsyncSender\n    calls the diskfile yield_hashes function with options that allow\n    non-durable fragments to be yielded.\n  - The diskfile yield_hashes function is enhanced to include a\n    'durable' flag in the data structure yielded for each object.\n  - The SsyncSender includes the 'durable' flag in the metadata sent\n    during the missing_check exchange with the receiver.\n  - If the receiver requests the non-durable object, the SsyncSender\n    includes a new 'X-Backend-No-Commit' header when sending the PUT\n    subrequest for the object.\n  - The SsyncSender includes the non-durable object in the collection\n    of synced objects returned to the reconstructor so that the\n    non-durable fragment is removed from the handoff node.\n\nOn the receiving side:\n\n  - The object server includes a new 'X-Backend-Accept-No-Commit'\n    header in its response to SSYNC requests. This indicates to the\n    sender that the receiver has been upgraded to understand the\n    'X-Backend-No-Commit' header.\n  - The SsyncReceiver is enhanced to consider non-durable data when\n    determining if the sender's data is wanted or not.\n  - The object server PUT method is enhanced to check for and\n    'X-Backend-No-Commit' header before committing a diskfile.\n\nIf a handoff sender has both a durable and newer non-durable fragment\nfor the same object and frag-index, only the newer non-durable\nfragment will be synced and removed on the first reconstructor\npass. The durable fragment will be synced and removed on the next\nreconstructor pass.\n\nChange-Id: I1d47b865e0a621f35d323bbed472a6cfd2a5971b\nCloses-Bug: 1778002\n""}, {'number': 2, 'created': '2021-01-11 14:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1cb851979dcb59ac861ea77832931bbf87cd0972', 'message': ""WIP: ssync: sync non-durable fragments from handoffs\n\nTODO:\n\n  - add object server unit tests for SSYNC response headers\n  - add probe test with both durable and non-durable frags\n    on a handoff\n  - add unit test to test_ssync.py\n  - add unit test for SsyncSender detecting not-upgraded receiver\n  - add diskfile unit test for legacy durable having 'durable' info\n\nPreviously, ssync would not sync nor cleanup non-durable data\nfragments on handoffs. When the reconstructor is syncing objects from\na handoff node (a 'revert' reconstructor job) it may be useful, and is\nnot harmful, to also send non-durable fragments if the receiver has\nolder or no fragment data.\n\nSeveral changes are made to enable this. On the sending side:\n\n  - For handoff (revert) jobs, the reconstructor instantiates\n    SsyncSender with a new 'include_non_durable' option.\n  - If configured with the include_non_durable option, the SsyncSender\n    calls the diskfile yield_hashes function with options that allow\n    non-durable fragments to be yielded.\n  - The diskfile yield_hashes function is enhanced to include a\n    'durable' flag in the data structure yielded for each object.\n  - The SsyncSender includes the 'durable' flag in the metadata sent\n    during the missing_check exchange with the receiver.\n  - If the receiver requests the non-durable object, the SsyncSender\n    includes a new 'X-Backend-No-Commit' header when sending the PUT\n    subrequest for the object.\n  - The SsyncSender includes the non-durable object in the collection\n    of synced objects returned to the reconstructor so that the\n    non-durable fragment is removed from the handoff node.\n\nOn the receiving side:\n\n  - The object server includes a new 'X-Backend-Accept-No-Commit'\n    header in its response to SSYNC requests. This indicates to the\n    sender that the receiver has been upgraded to understand the\n    'X-Backend-No-Commit' header.\n  - The SsyncReceiver is enhanced to consider non-durable data when\n    determining if the sender's data is wanted or not.\n  - The object server PUT method is enhanced to check for and\n    'X-Backend-No-Commit' header before committing a diskfile.\n\nIf a handoff sender has both a durable and newer non-durable fragment\nfor the same object and frag-index, only the newer non-durable\nfragment will be synced and removed on the first reconstructor\npass. The durable fragment will be synced and removed on the next\nreconstructor pass.\n\nChange-Id: I1d47b865e0a621f35d323bbed472a6cfd2a5971b\nCloses-Bug: 1778002\n""}, {'number': 3, 'created': '2021-01-12 15:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a841e1b1c33f871aa3ac78a1357bbf54b36dbbd5', 'message': ""WIP: ssync: sync non-durable fragments from handoffs\n\nTODO:\n\n  - add object server unit tests for SSYNC response headers\n  - add probe test with both durable and non-durable frags\n    on a handoff\n  - add unit test to test_ssync.py\n  - add unit test for SsyncSender detecting not-upgraded receiver\n  - add diskfile unit test for legacy durable having 'durable' info\n\nPreviously, ssync would not sync nor cleanup non-durable data\nfragments on handoffs. When the reconstructor is syncing objects from\na handoff node (a 'revert' reconstructor job) it may be useful, and is\nnot harmful, to also send non-durable fragments if the receiver has\nolder or no fragment data.\n\nSeveral changes are made to enable this. On the sending side:\n\n  - For handoff (revert) jobs, the reconstructor instantiates\n    SsyncSender with a new 'include_non_durable' option.\n  - If configured with the include_non_durable option, the SsyncSender\n    calls the diskfile yield_hashes function with options that allow\n    non-durable fragments to be yielded.\n  - The diskfile yield_hashes function is enhanced to include a\n    'durable' flag in the data structure yielded for each object.\n  - The SsyncSender includes the 'durable' flag in the metadata sent\n    during the missing_check exchange with the receiver.\n  - If the receiver requests the non-durable object, the SsyncSender\n    includes a new 'X-Backend-No-Commit' header when sending the PUT\n    subrequest for the object.\n  - The SsyncSender includes the non-durable object in the collection\n    of synced objects returned to the reconstructor so that the\n    non-durable fragment is removed from the handoff node.\n\nOn the receiving side:\n\n  - The object server includes a new 'X-Backend-Accept-No-Commit'\n    header in its response to SSYNC requests. This indicates to the\n    sender that the receiver has been upgraded to understand the\n    'X-Backend-No-Commit' header.\n  - The SsyncReceiver is enhanced to consider non-durable data when\n    determining if the sender's data is wanted or not.\n  - The object server PUT method is enhanced to check for and\n    'X-Backend-No-Commit' header before committing a diskfile.\n\nIf a handoff sender has both a durable and newer non-durable fragment\nfor the same object and frag-index, only the newer non-durable\nfragment will be synced and removed on the first reconstructor\npass. The durable fragment will be synced and removed on the next\nreconstructor pass.\n\nChange-Id: I1d47b865e0a621f35d323bbed472a6cfd2a5971b\nCloses-Bug: 1778002\n""}, {'number': 4, 'created': '2021-01-13 21:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c42fbd0612f6736d9bd5c7e47c471fd74a8efa4b', 'message': ""WIP: ssync: sync non-durable fragments from handoffs\n\nTODO:\n  - add unit test to test_ssync.py\n\nPreviously, ssync would not sync nor cleanup non-durable data\nfragments on handoffs. When the reconstructor is syncing objects from\na handoff node (a 'revert' reconstructor job) it may be useful, and is\nnot harmful, to also send non-durable fragments if the receiver has\nolder or no fragment data.\n\nSeveral changes are made to enable this. On the sending side:\n\n  - For handoff (revert) jobs, the reconstructor instantiates\n    SsyncSender with a new 'include_non_durable' option.\n  - If configured with the include_non_durable option, the SsyncSender\n    calls the diskfile yield_hashes function with options that allow\n    non-durable fragments to be yielded.\n  - The diskfile yield_hashes function is enhanced to include a\n    'durable' flag in the data structure yielded for each object.\n  - The SsyncSender includes the 'durable' flag in the metadata sent\n    during the missing_check exchange with the receiver.\n  - If the receiver requests the non-durable object, the SsyncSender\n    includes a new 'X-Backend-No-Commit' header when sending the PUT\n    subrequest for the object.\n  - The SsyncSender includes the non-durable object in the collection\n    of synced objects returned to the reconstructor so that the\n    non-durable fragment is removed from the handoff node.\n\nOn the receiving side:\n\n  - The object server includes a new 'X-Backend-Accept-No-Commit'\n    header in its response to SSYNC requests. This indicates to the\n    sender that the receiver has been upgraded to understand the\n    'X-Backend-No-Commit' header.\n  - The SsyncReceiver is enhanced to consider non-durable data when\n    determining if the sender's data is wanted or not.\n  - The object server PUT method is enhanced to check for and\n    'X-Backend-No-Commit' header before committing a diskfile.\n\nIf a handoff sender has both a durable and newer non-durable fragment\nfor the same object and frag-index, only the newer non-durable\nfragment will be synced and removed on the first reconstructor\npass. The durable fragment will be synced and removed on the next\nreconstructor pass.\n\nChange-Id: I1d47b865e0a621f35d323bbed472a6cfd2a5971b\nCloses-Bug: 1778002\n""}, {'number': 5, 'created': '2021-01-14 18:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/620c5caee78de8b559753afa52c0e67f1efb4986', 'message': ""ssync: sync non-durable fragments from handoffs\n\nPreviously, ssync would not sync nor cleanup non-durable data\nfragments on handoffs. When the reconstructor is syncing objects from\na handoff node (a 'revert' reconstructor job) it may be useful, and is\nnot harmful, to also send non-durable fragments if the receiver has\nolder or no fragment data.\n\nSeveral changes are made to enable this. On the sending side:\n\n  - For handoff (revert) jobs, the reconstructor instantiates\n    SsyncSender with a new 'include_non_durable' option.\n  - If configured with the include_non_durable option, the SsyncSender\n    calls the diskfile yield_hashes function with options that allow\n    non-durable fragments to be yielded.\n  - The diskfile yield_hashes function is enhanced to include a\n    'durable' flag in the data structure yielded for each object.\n  - The SsyncSender includes the 'durable' flag in the metadata sent\n    during the missing_check exchange with the receiver.\n  - If the receiver requests the non-durable object, the SsyncSender\n    includes a new 'X-Backend-No-Commit' header when sending the PUT\n    subrequest for the object.\n  - The SsyncSender includes the non-durable object in the collection\n    of synced objects returned to the reconstructor so that the\n    non-durable fragment is removed from the handoff node.\n\nOn the receiving side:\n\n  - The object server includes a new 'X-Backend-Accept-No-Commit'\n    header in its response to SSYNC requests. This indicates to the\n    sender that the receiver has been upgraded to understand the\n    'X-Backend-No-Commit' header.\n  - The SsyncReceiver is enhanced to consider non-durable data when\n    determining if the sender's data is wanted or not.\n  - The object server PUT method is enhanced to check for and\n    'X-Backend-No-Commit' header before committing a diskfile.\n\nIf a handoff sender has both a durable and newer non-durable fragment\nfor the same object and frag-index, only the newer non-durable\nfragment will be synced and removed on the first reconstructor\npass. The durable fragment will be synced and removed on the next\nreconstructor pass.\n\nChange-Id: I1d47b865e0a621f35d323bbed472a6cfd2a5971b\nCloses-Bug: 1778002\n""}, {'number': 6, 'created': '2021-01-20 12:01:17.000000000', 'files': ['test/probe/common.py', 'swift/obj/server.py', 'swift/obj/reconstructor.py', 'test/unit/obj/test_ssync_sender.py', 'test/unit/obj/common.py', 'test/unit/obj/test_server.py', 'swift/obj/ssync_sender.py', 'test/unit/obj/test_diskfile.py', 'test/unit/obj/test_reconstructor.py', 'test/probe/test_reconstructor_revert.py', 'test/unit/obj/test_ssync.py', 'swift/obj/diskfile.py', 'swift/obj/ssync_receiver.py', 'test/unit/obj/test_ssync_receiver.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1dceafa7d5999ad7366b2df49887954bb5695992', 'message': ""ssync: sync non-durable fragments from handoffs\n\nPreviously, ssync would not sync nor cleanup non-durable data\nfragments on handoffs. When the reconstructor is syncing objects from\na handoff node (a 'revert' reconstructor job) it may be useful, and is\nnot harmful, to also send non-durable fragments if the receiver has\nolder or no fragment data.\n\nSeveral changes are made to enable this. On the sending side:\n\n  - For handoff (revert) jobs, the reconstructor instantiates\n    SsyncSender with a new 'include_non_durable' option.\n  - If configured with the include_non_durable option, the SsyncSender\n    calls the diskfile yield_hashes function with options that allow\n    non-durable fragments to be yielded.\n  - The diskfile yield_hashes function is enhanced to include a\n    'durable' flag in the data structure yielded for each object.\n  - The SsyncSender includes the 'durable' flag in the metadata sent\n    during the missing_check exchange with the receiver.\n  - If the receiver requests the non-durable object, the SsyncSender\n    includes a new 'X-Backend-No-Commit' header when sending the PUT\n    subrequest for the object.\n  - The SsyncSender includes the non-durable object in the collection\n    of synced objects returned to the reconstructor so that the\n    non-durable fragment is removed from the handoff node.\n\nOn the receiving side:\n\n  - The object server includes a new 'X-Backend-Accept-No-Commit'\n    header in its response to SSYNC requests. This indicates to the\n    sender that the receiver has been upgraded to understand the\n    'X-Backend-No-Commit' header.\n  - The SsyncReceiver is enhanced to consider non-durable data when\n    determining if the sender's data is wanted or not.\n  - The object server PUT method is enhanced to check for and\n    'X-Backend-No-Commit' header before committing a diskfile.\n\nIf a handoff sender has both a durable and newer non-durable fragment\nfor the same object and frag-index, only the newer non-durable\nfragment will be synced and removed on the first reconstructor\npass. The durable fragment will be synced and removed on the next\nreconstructor pass.\n\nChange-Id: I1d47b865e0a621f35d323bbed472a6cfd2a5971b\nCloses-Bug: 1778002\n""}]",54,770047,1dceafa7d5999ad7366b2df49887954bb5695992,37,4,6,7847,,,0,"ssync: sync non-durable fragments from handoffs

Previously, ssync would not sync nor cleanup non-durable data
fragments on handoffs. When the reconstructor is syncing objects from
a handoff node (a 'revert' reconstructor job) it may be useful, and is
not harmful, to also send non-durable fragments if the receiver has
older or no fragment data.

Several changes are made to enable this. On the sending side:

  - For handoff (revert) jobs, the reconstructor instantiates
    SsyncSender with a new 'include_non_durable' option.
  - If configured with the include_non_durable option, the SsyncSender
    calls the diskfile yield_hashes function with options that allow
    non-durable fragments to be yielded.
  - The diskfile yield_hashes function is enhanced to include a
    'durable' flag in the data structure yielded for each object.
  - The SsyncSender includes the 'durable' flag in the metadata sent
    during the missing_check exchange with the receiver.
  - If the receiver requests the non-durable object, the SsyncSender
    includes a new 'X-Backend-No-Commit' header when sending the PUT
    subrequest for the object.
  - The SsyncSender includes the non-durable object in the collection
    of synced objects returned to the reconstructor so that the
    non-durable fragment is removed from the handoff node.

On the receiving side:

  - The object server includes a new 'X-Backend-Accept-No-Commit'
    header in its response to SSYNC requests. This indicates to the
    sender that the receiver has been upgraded to understand the
    'X-Backend-No-Commit' header.
  - The SsyncReceiver is enhanced to consider non-durable data when
    determining if the sender's data is wanted or not.
  - The object server PUT method is enhanced to check for and
    'X-Backend-No-Commit' header before committing a diskfile.

If a handoff sender has both a durable and newer non-durable fragment
for the same object and frag-index, only the newer non-durable
fragment will be synced and removed on the first reconstructor
pass. The durable fragment will be synced and removed on the next
reconstructor pass.

Change-Id: I1d47b865e0a621f35d323bbed472a6cfd2a5971b
Closes-Bug: 1778002
",git fetch https://review.opendev.org/openstack/swift refs/changes/47/770047/6 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'test/probe/test_reconstructor_revert.py', 'test/unit/obj/test_ssync_sender.py', 'test/unit/obj/test_server.py', 'swift/obj/ssync_sender.py', 'swift/obj/ssync_receiver.py', 'test/unit/obj/test_ssync_receiver.py']",7,efbf37f811ec5992788184bb28b6dc62d68f1489,p-ssync-non-durable," # check that local non-durable frag is made durable if remote sends # same ts for same frag, but only if remote is durable self.assertEqual([ts1 + '#2.data'], os.listdir(object_dir)) # sanity # offer same non-durable frag - expect no data to be wanted req = swob.Request.blank( '/sda1/1', environ={'REQUEST_METHOD': 'SSYNC', 'HTTP_X_BACKEND_STORAGE_POLICY_INDEX': '0', 'HTTP_X_BACKEND_SSYNC_FRAG_INDEX': '2'}, body=':MISSING_CHECK: START\r\n' + self.hash1 + ' ' + ts1 + ' durable:no\r\n' ':MISSING_CHECK: END\r\n' ':UPDATES: START\r\n:UPDATES: END\r\n') resp = req.get_response(self.controller) self.assertEqual( self.body_lines(resp.body), [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) self.assertEqual(resp.status_int, 200) self.assertFalse(self.controller.logger.error.called) self.assertFalse(self.controller.logger.exception.called) # the local frag is still not durable... self.assertEqual([ts1 + '#2.data'], os.listdir(object_dir)) # offer same frag but durable - expect no data to be wanted # the local frag is now durable... self.assertEqual([ts1 + '#2#d.data'], os.listdir(object_dir)) self.assertEqual([ts1 + '#2.data'], os.listdir(object_dir)) # sanity @patch_policies(with_ec_default=True) def test_MISSING_CHECK_local_non_durable(self): # check that local non-durable fragment does not prevent other frags # being wanted from the sender self.controller.logger = mock.MagicMock() self.controller._diskfile_router = diskfile.DiskFileRouter( self.conf, self.controller.logger) ts_iter = make_timestamp_iter() ts1 = next(ts_iter).internal ts2 = next(ts_iter).internal ts3 = next(ts_iter).internal # make non-durable rx disk file at ts2 object_dir = utils.storage_directory( os.path.join(self.testdir, 'sda1', diskfile.get_data_dir(POLICIES[0])), '1', self.hash1) utils.mkdirs(object_dir) fp = open(os.path.join(object_dir, ts2 + '#2.data'), 'w+') fp.write('1') fp.flush() metadata1 = { 'name': self.name1, 'X-Timestamp': ts2, 'Content-Length': '1'} diskfile.write_metadata(fp, metadata1) self.assertEqual([ts2 + '#2.data'], os.listdir(object_dir)) # sanity def do_check(tx_missing_line, expected_rx_missing_lines): req = swob.Request.blank( '/sda1/1', environ={'REQUEST_METHOD': 'SSYNC', 'HTTP_X_BACKEND_STORAGE_POLICY_INDEX': '0', 'HTTP_X_BACKEND_SSYNC_FRAG_INDEX': '2'}, body=':MISSING_CHECK: START\r\n' + tx_missing_line + '\r\n' ':MISSING_CHECK: END\r\n' ':UPDATES: START\r\n:UPDATES: END\r\n') resp = req.get_response(self.controller) self.assertEqual( self.body_lines(resp.body), [b':MISSING_CHECK: START'] + expected_rx_missing_lines + [b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) self.assertEqual(resp.status_int, 200) self.assertFalse(self.controller.logger.error.called) self.assertFalse(self.controller.logger.exception.called) # check remote frag is always wanted - older, newer, durable or not... do_check(self.hash1 + ' ' + ts1 + ' durable:no', [self.hash1 + b' dm']) self.assertEqual([ts2 + '#2.data'], os.listdir(object_dir)) do_check(self.hash1 + ' ' + ts1 + ' durable:yes', [self.hash1 + b' dm']) self.assertEqual([ts2 + '#2.data'], os.listdir(object_dir)) do_check(self.hash1 + ' ' + ts1, [self.hash1 + b' dm']) self.assertEqual([ts2 + '#2.data'], os.listdir(object_dir)) do_check(self.hash1 + ' ' + ts3 + ' durable:no', [self.hash1 + b' dm']) self.assertEqual([ts2 + '#2.data'], os.listdir(object_dir)) do_check(self.hash1 + ' ' + ts3 + ' durable:yes', [self.hash1 + b' dm']) self.assertEqual([ts2 + '#2.data'], os.listdir(object_dir)) do_check(self.hash1 + ' ' + ts3, [self.hash1 + b' dm']) self.assertEqual([ts2 + '#2.data'], os.listdir(object_dir)) # ... except when at same timestamp do_check(self.hash1 + ' ' + ts2 + ' durable:no', []) self.assertEqual([ts2 + '#2.data'], os.listdir(object_dir)) # durable remote frag at ts2 will make the local durable.. do_check(self.hash1 + ' ' + ts2 + ' durable:yes', []) self.assertEqual([ts2 + '#2#d.data'], os.listdir(object_dir)) @patch_policies(with_ec_default=True) def test_MISSING_CHECK_local_durable(self): # check that local durable fragment does not prevent newer non-durable # frags being wanted from the sender self.controller.logger = mock.MagicMock() self.controller._diskfile_router = diskfile.DiskFileRouter( self.conf, self.controller.logger) ts_iter = make_timestamp_iter() ts1 = next(ts_iter).internal ts2 = next(ts_iter).internal ts3 = next(ts_iter).internal # make non-durable rx disk file at ts2 object_dir = utils.storage_directory( os.path.join(self.testdir, 'sda1', diskfile.get_data_dir(POLICIES[0])), '1', self.hash1) utils.mkdirs(object_dir) fp = open(os.path.join(object_dir, ts2 + '#2.data'), 'w+') fp.write('1') fp.flush() metadata1 = { 'name': self.name1, 'X-Timestamp': ts2, 'Content-Length': '1'} diskfile.write_metadata(fp, metadata1) self.assertEqual([ts2 + '#2.data'], os.listdir(object_dir)) # sanity def do_check(tx_missing_line, expected_rx_missing_lines): req = swob.Request.blank( '/sda1/1', environ={'REQUEST_METHOD': 'SSYNC', 'HTTP_X_BACKEND_STORAGE_POLICY_INDEX': '0', 'HTTP_X_BACKEND_SSYNC_FRAG_INDEX': '2'}, body=':MISSING_CHECK: START\r\n' + tx_missing_line + '\r\n' ':MISSING_CHECK: END\r\n' ':UPDATES: START\r\n:UPDATES: END\r\n') resp = req.get_response(self.controller) self.assertEqual( self.body_lines(resp.body), [b':MISSING_CHECK: START'] + expected_rx_missing_lines + [b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) self.assertEqual(resp.status_int, 200) self.assertFalse(self.controller.logger.error.called) self.assertFalse(self.controller.logger.exception.called) # check remote frag is always wanted - older, newer, durable or not... do_check(self.hash1 + ' ' + ts1 + ' durable:no', [self.hash1 + b' dm']) self.assertEqual([ts2 + '#2.data'], os.listdir(object_dir)) do_check(self.hash1 + ' ' + ts1 + ' durable:yes', [self.hash1 + b' dm']) self.assertEqual([ts2 + '#2.data'], os.listdir(object_dir)) do_check(self.hash1 + ' ' + ts1, [self.hash1 + b' dm']) self.assertEqual([ts2 + '#2.data'], os.listdir(object_dir)) do_check(self.hash1 + ' ' + ts3 + ' durable:no', [self.hash1 + b' dm']) self.assertEqual([ts2 + '#2.data'], os.listdir(object_dir)) do_check(self.hash1 + ' ' + ts3 + ' durable:yes', [self.hash1 + b' dm']) self.assertEqual([ts2 + '#2.data'], os.listdir(object_dir)) do_check(self.hash1 + ' ' + ts3, [self.hash1 + b' dm']) self.assertEqual([ts2 + '#2.data'], os.listdir(object_dir)) # ... except when at same timestamp do_check(self.hash1 + ' ' + ts2 + ' durable:no', []) self.assertEqual([ts2 + '#2.data'], os.listdir(object_dir)) # durable remote frag at ts2 will make the local durable.. do_check(self.hash1 + ' ' + ts2 + ' durable:yes', []) self.assertEqual([ts2 + '#2#d.data'], os.listdir(object_dir)) @patch_policies(with_ec_default=True) def test_MISSING_CHECK_local_durable_older_than_remote_non_durable(self): # check that newer non-durable fragment is wanted self.controller.logger = mock.MagicMock() self.controller._diskfile_router = diskfile.DiskFileRouter( self.conf, self.controller.logger) ts_iter = make_timestamp_iter() ts1 = next(ts_iter).internal ts2 = next(ts_iter).internal # make durable rx disk file at ts2 object_dir = utils.storage_directory( os.path.join(self.testdir, 'sda1', diskfile.get_data_dir(POLICIES[0])), '1', self.hash1) utils.mkdirs(object_dir) fp = open(os.path.join(object_dir, ts1 + '#2#d.data'), 'w+') fp.write('1') fp.flush() metadata1 = { 'name': self.name1, 'X-Timestamp': ts1, 'Content-Length': '1'} diskfile.write_metadata(fp, metadata1) # make a request offering non-durable at ts2 req = swob.Request.blank( '/sda1/1', environ={'REQUEST_METHOD': 'SSYNC', 'HTTP_X_BACKEND_STORAGE_POLICY_INDEX': '0', 'HTTP_X_BACKEND_SSYNC_FRAG_INDEX': '2'}, body=':MISSING_CHECK: START\r\n' + self.hash1 + ' ' + ts2 + ' durable:no\r\n' ':MISSING_CHECK: END\r\n' ':UPDATES: START\r\n:UPDATES: END\r\n') resp = req.get_response(self.controller) self.assertEqual( self.body_lines(resp.body), [b':MISSING_CHECK: START', self.hash1 + b' dm', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) self.assertEqual(resp.status_int, 200) self.assertFalse(self.controller.logger.error.called) self.assertFalse(self.controller.logger.exception.called) ts_ctype=t_data, durable=True) ts_ctype=t_data, durable=True) ts_ctype=t_ctype, durable=True) ts_ctype=t_data, durable=True) ts_ctype=t_data, durable=True) ts_ctype=t_data, durable=True) ts_ctype=t_data, durable=True) # not durable def check_non_durable(durable_val): msg = '%s %s m:%x,durable:%s' % (object_hash, t_data.internal, d_meta_data, durable_val) expected = dict(object_hash=object_hash, ts_meta=t_meta, ts_data=t_data, ts_ctype=t_data, durable=False) self.assertEqual( expected, ssync_receiver.decode_missing(msg.encode('ascii'))) check_non_durable('no') check_non_durable('false') check_non_durable('False') # explicit durable (as opposed to True by default) def check_durable(durable_val): msg = '%s %s m:%x,durable:%s' % (object_hash, t_data.internal, d_meta_data, durable_val) expected = dict(object_hash=object_hash, ts_meta=t_meta, ts_data=t_data, ts_ctype=t_data, durable=True) self.assertEqual( expected, ssync_receiver.decode_missing(msg.encode('ascii'))) check_durable('yes') check_durable('true') check_durable('True') ", # make a request - expect no data to be wanted ts_ctype=t_data) ts_ctype=t_data) ts_ctype=t_ctype) ts_ctype=t_data) ts_ctype=t_data) ts_ctype=t_data) ts_ctype=t_data),525,53
openstack%2Fneutron~stable%2Fvictoria~Iad29cb34825adaa8c766d01b192a6bbe9992148b,openstack/neutron,stable/victoria,Iad29cb34825adaa8c766d01b192a6bbe9992148b,[QoS] Get only min bw rules when extending port dict,MERGED,2021-01-26 07:09:59.000000000,2021-01-28 16:12:05.000000000,2021-01-28 16:07:26.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 07:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be8f30dc925f74210b9918b47690468dc6c02284', 'message': '[QoS] Get only min bw rules when extending port dict\n\nOnly min bw rules are required hence no need to fetch\nall rules of QoS policy.\nAlso no need to get qos policy from DB\n\nPartial-Bug: #1905726\nChange-Id: Iad29cb34825adaa8c766d01b192a6bbe9992148b\n(cherry picked from commit 334fa1ba276e0d375724b0203999643e04a5724e)\n'}, {'number': 2, 'created': '2021-01-26 09:42:37.000000000', 'files': ['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e7d7c8f1d93996a4535588830b5b7b190f7eef9', 'message': '[QoS] Get only min bw rules when extending port dict\n\nOnly min bw rules are required hence no need to fetch\nall rules of QoS policy.\nAlso no need to get qos policy from DB\n\nPartial-Bug: #1905726\nChange-Id: Iad29cb34825adaa8c766d01b192a6bbe9992148b\n(cherry picked from commit 334fa1ba276e0d375724b0203999643e04a5724e)\n'}]",0,772402,5e7d7c8f1d93996a4535588830b5b7b190f7eef9,13,4,2,5948,,,0,"[QoS] Get only min bw rules when extending port dict

Only min bw rules are required hence no need to fetch
all rules of QoS policy.
Also no need to get qos policy from DB

Partial-Bug: #1905726
Change-Id: Iad29cb34825adaa8c766d01b192a6bbe9992148b
(cherry picked from commit 334fa1ba276e0d375724b0203999643e04a5724e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/772402/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py']",2,be8f30dc925f74210b9918b47690468dc6c02284,bug/1905726-stable/victoria," mock.patch( 'neutron.objects.qos.rule.QosMinimumBandwidthRule.' 'get_objects', return_value=bw_rules): port = self._create_and_extend_port([])"," self.policy.rules = bw_rules self.policy.rules = bw_rules mock.patch('neutron.objects.qos.policy.QosPolicy.get_object', return_value=self.policy): port = self._create_and_extend_port([self.rule]) self.policy.rules = [self.min_rule]",9,11
openstack%2Freleases~master~Ie44ffe32c5899940944f07d93ff48cec3679121d,openstack/releases,master,Ie44ffe32c5899940944f07d93ff48cec3679121d,Release Octavia 7.1.0 for Victoria,MERGED,2021-01-28 09:42:11.000000000,2021-01-28 16:03:20.000000000,2021-01-28 16:03:20.000000000,"[{'_account_id': 308}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-28 09:42:11.000000000', 'files': ['deliverables/victoria/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2a2e211bf4ef2f4e07c0ffb7cd62030753f1ac75', 'message': 'Release Octavia 7.1.0 for Victoria\n\nThis release includes changes to the requirements and lower-constraints\nfile because of the new pip release. Because of this, we are bumping the\nminor version.\n\nChange-Id: Ie44ffe32c5899940944f07d93ff48cec3679121d\n'}]",0,772843,2a2e211bf4ef2f4e07c0ffb7cd62030753f1ac75,8,5,1,6469,,,0,"Release Octavia 7.1.0 for Victoria

This release includes changes to the requirements and lower-constraints
file because of the new pip release. Because of this, we are bumping the
minor version.

Change-Id: Ie44ffe32c5899940944f07d93ff48cec3679121d
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/772843/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/octavia.yaml'],1,2a2e211bf4ef2f4e07c0ffb7cd62030753f1ac75,, - version: 7.1.0 projects: - repo: openstack/octavia hash: b5c6c884a4a4de48eea7ea08ba865f08fbfcf972,,4,0
openstack%2Freleases~master~I73aa0f8d4fdd545119e86afd2cbd2d7455576599,openstack/releases,master,I73aa0f8d4fdd545119e86afd2cbd2d7455576599,Release sushy 3.4.2 for Victoria,MERGED,2021-01-26 11:52:41.000000000,2021-01-28 16:03:10.000000000,2021-01-28 16:03:10.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-26 11:52:41.000000000', 'files': ['deliverables/victoria/sushy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/055ca7d7791e3d79e763577f05ff192c547aa44c', 'message': 'Release sushy 3.4.2 for Victoria\n\nChange-Id: I73aa0f8d4fdd545119e86afd2cbd2d7455576599\n'}]",0,772504,055ca7d7791e3d79e763577f05ff192c547aa44c,9,6,1,15519,,,0,"Release sushy 3.4.2 for Victoria

Change-Id: I73aa0f8d4fdd545119e86afd2cbd2d7455576599
",git fetch https://review.opendev.org/openstack/releases refs/changes/04/772504/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/sushy.yaml'],1,055ca7d7791e3d79e763577f05ff192c547aa44c,sushy/victoria, - version: 3.4.2 projects: - repo: openstack/sushy hash: aeeb416714f9b1ea9e735b717547c844f09fa598,,4,0
openstack%2Freleases~master~Id460b7656e9c4e9e00ed19f3bcf35411f668a74e,openstack/releases,master,Id460b7656e9c4e9e00ed19f3bcf35411f668a74e,Release stable/ussuri for tripleo repos,MERGED,2021-01-22 16:27:38.000000000,2021-01-28 16:03:02.000000000,2021-01-28 16:03:02.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-22 16:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0fe553b10ef87c09e2a990be45182a99ff90c755', 'message': 'Release stable/ussuri for tripleo repos\n\nNeeds [1] to merge before this can merge\n\n[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/772029\n\nChange-Id: Id460b7656e9c4e9e00ed19f3bcf35411f668a74e\n'}, {'number': 2, 'created': '2021-01-25 12:26:06.000000000', 'files': ['deliverables/ussuri/tripleo-heat-templates.yaml', 'deliverables/ussuri/tripleo-ansible.yaml', 'deliverables/ussuri/paunch.yaml', 'deliverables/ussuri/tripleo-validations.yaml', 'deliverables/ussuri/tripleo-puppet-elements.yaml', 'deliverables/ussuri/os-net-config.yaml', 'deliverables/ussuri/tripleo-common.yaml', 'deliverables/ussuri/tripleo-ipsec.yaml', 'deliverables/ussuri/python-tripleoclient.yaml', 'deliverables/ussuri/os-collect-config.yaml', 'deliverables/ussuri/puppet-tripleo.yaml', 'deliverables/ussuri/os-apply-config.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e9ca01347423e6050a4e12848c49b7a0d75a5d56', 'message': 'Release stable/ussuri for tripleo repos\n\nNeeds [1] to merge before this can merge\n[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/772029\n\nChange-Id: Id460b7656e9c4e9e00ed19f3bcf35411f668a74e\n'}]",2,772047,e9ca01347423e6050a4e12848c49b7a0d75a5d56,13,7,2,8449,,,0,"Release stable/ussuri for tripleo repos

Needs [1] to merge before this can merge
[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/772029

Change-Id: Id460b7656e9c4e9e00ed19f3bcf35411f668a74e
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/772047/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/tripleo-heat-templates.yaml', 'deliverables/ussuri/tripleo-ansible.yaml', 'deliverables/ussuri/paunch.yaml', 'deliverables/ussuri/tripleo-validations.yaml', 'deliverables/ussuri/tripleo-puppet-elements.yaml', 'deliverables/ussuri/os-net-config.yaml', 'deliverables/ussuri/tripleo-common.yaml', 'deliverables/ussuri/tripleo-ipsec.yaml', 'deliverables/ussuri/python-tripleoclient.yaml', 'deliverables/ussuri/os-collect-config.yaml', 'deliverables/ussuri/puppet-tripleo.yaml', 'deliverables/ussuri/os-apply-config.yaml']",12,0fe553b10ef87c09e2a990be45182a99ff90c755,, - version: 11.2.2 projects: - repo: openstack/os-apply-config hash: 6622f84c4bf4f26791ada6455ea61c0005f92d17,,48,0
openstack%2Frpm-packaging~master~I3eadb1020dac8504e6b67afb404b8fd1d1938586,openstack/rpm-packaging,master,I3eadb1020dac8504e6b67afb404b8fd1d1938586,Update versions of ironic related projects,MERGED,2021-01-28 15:24:07.000000000,2021-01-28 16:02:56.000000000,2021-01-28 16:02:56.000000000,"[{'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-28 15:24:07.000000000', 'files': ['openstack/ironic-lib/ironic-lib.spec.j2', 'openstack/sushy-tools/sushy-tools.spec.j2', 'openstack/sushy/sushy.spec.j2', 'openstack/python-ironicclient/python-ironicclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f9215682399e00e485bdcd90f3f88630e73f0bfa', 'message': 'Update versions of ironic related projects\n\nChange-Id: I3eadb1020dac8504e6b67afb404b8fd1d1938586\n'}]",0,772892,f9215682399e00e485bdcd90f3f88630e73f0bfa,8,4,1,23851,,,0,"Update versions of ironic related projects

Change-Id: I3eadb1020dac8504e6b67afb404b8fd1d1938586
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/92/772892/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/ironic-lib/ironic-lib.spec.j2', 'openstack/sushy-tools/sushy-tools.spec.j2', 'openstack/sushy/sushy.spec.j2', 'openstack/python-ironicclient/python-ironicclient.spec.j2']",4,f9215682399e00e485bdcd90f3f88630e73f0bfa,update-versions,{% set upstream_version = upstream_version('4.5.0') %},{% set upstream_version = upstream_version('4.4.0') %},4,4
openstack%2Fmagnum~master~I96e81c8d070dbeb94b13163a589f57b4140c8ac4,openstack/magnum,master,I96e81c8d070dbeb94b13163a589f57b4140c8ac4,[k8s] Add vulnerability scanner,NEW,2018-08-30 12:13:40.000000000,2021-01-28 15:57:30.000000000,,"[{'_account_id': 6484}, {'_account_id': 9995}, {'_account_id': 10068}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 27725}, {'_account_id': 28022}]","[{'number': 1, 'created': '2018-08-30 12:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c7de72e3930461d18fa65726d038a1772cced9f1', 'message': ""[k8s] Add vulnerability scanner\n\nAdd vulnerability scanner to Kubernetes clusters.\nIt has three labels:\n'vulnerability_scanner_enabled', which triggers the\ndeployment of the DaemonSet (defaults to False).\n'vulnerability_scanner_tag', which is the version of the container to be\nused (defaults to the latest stable version).\n'vulnerability_scanner_endpoint', which is the endpoint where a Clair\ninstance is running (defaults to http://clair.cern.ch).\n\nThe scanner runs on every node and analyses the pods running on the node\nit was assigned to. Results of the analysis are delivered by marking the\npods with labels and annotations. The label 'security_level' can have\nthree values: unknown, safe and vulnerable. The annotations are\n'unapproved_vulnerabilities_amount' and 'unapproved_vulnerabilities'\nwhich are, respectively, the amount of vulnerabilities found on the pod\n(counting all the containers together), and a JSON formatted string\ncontaining a list with the IDs of the CVE and RHSA found per image.\n\nChange-Id: I96e81c8d070dbeb94b13163a589f57b4140c8ac4\nImplements: blueprint container-image-cve-scan\nStory: 2003505\n""}, {'number': 2, 'created': '2018-10-11 17:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/813316b6eaa3223d8b699fbb4e1c8cf44e10c356', 'message': ""[k8s] Add vulnerability scanner\n\nAdd vulnerability scanner to Kubernetes clusters.\nIt has three labels:\n'vulnerability_scanner_enabled', which triggers the\ndeployment of the DaemonSet (defaults to False).\n'vulnerability_scanner_tag', which is the version of the container to be\nused (defaults to the latest stable version).\n'vulnerability_scanner_endpoint', which is the endpoint where a Clair\ninstance is running (mandatory if 'vulnerability_scanner_enabled' is\nTrue).\n\nThe scanner runs on every node and analyses the pods running on the node\nit was assigned to. Results of the analysis are delivered by marking the\npods with labels and annotations. The label 'security_level' can have\nthree values: unknown, safe and vulnerable. The annotations are\n'unapproved_vulnerabilities_amount' and 'unapproved_vulnerabilities'\nwhich are, respectively, the amount of vulnerabilities found on the pod\n(counting all the containers together), and a JSON formatted string\ncontaining a list with the IDs of the CVE and RHSA found per image.\n\nChange-Id: I96e81c8d070dbeb94b13163a589f57b4140c8ac4\nImplements: blueprint container-image-cve-scan\nStory: 2003505\n""}, {'number': 3, 'created': '2018-12-10 20:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d95678b7821b9f63a8e9c03ba9d6c04862252a61', 'message': ""[k8s] Add vulnerability scanner\n\nAdd vulnerability scanner to Kubernetes clusters.\nIt has three labels:\n'vulnerability_scanner_enabled', which triggers the\ndeployment of the DaemonSet (defaults to False).\n'vulnerability_scanner_tag', which is the version of the container to be\nused (defaults to the latest stable version).\n'vulnerability_scanner_endpoint', which is the endpoint where a Clair\ninstance is running (mandatory if 'vulnerability_scanner_enabled' is\nTrue).\n\nThe scanner runs on every node and analyses the pods running on the node\nit was assigned to. Results of the analysis are delivered by marking the\npods with labels and annotations. The label 'security_level' can have\nthree values: unknown, safe and vulnerable. The annotations are\n'unapproved_vulnerabilities_amount' and 'unapproved_vulnerabilities'\nwhich are, respectively, the amount of vulnerabilities found on the pod\n(counting all the containers together), and a JSON formatted string\ncontaining a list with the IDs of the CVE and RHSA found per image.\n\nChange-Id: I96e81c8d070dbeb94b13163a589f57b4140c8ac4\nImplements: blueprint container-image-cve-scan\nStory: 2003505\n""}, {'number': 4, 'created': '2019-05-04 14:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/db5d059cb9632341350dcb9a5c824fb32da15c03', 'message': ""[k8s] Add vulnerability scanner\n\nAdd vulnerability scanner to Kubernetes clusters.\nIt has three labels:\n'vulnerability_scanner_enabled', which triggers the\ndeployment of the DaemonSet (defaults to False).\n'vulnerability_scanner_tag', which is the version of the container to be\nused (defaults to the latest stable version).\n'vulnerability_scanner_endpoint', which is the endpoint where a Clair\ninstance is running (mandatory if 'vulnerability_scanner_enabled' is\nTrue).\n\nThe scanner runs on every node and analyses the pods running on the node\nit was assigned to. Results of the analysis are delivered by marking the\npods with labels and annotations. The label 'security_level' can have\nthree values: unknown, safe and vulnerable. The annotations are\n'unapproved_vulnerabilities_amount' and 'unapproved_vulnerabilities'\nwhich are, respectively, the amount of vulnerabilities found on the pod\n(counting all the containers together), and a JSON formatted string\ncontaining a list with the IDs of the CVE and RHSA found per image.\n\nChange-Id: I96e81c8d070dbeb94b13163a589f57b4140c8ac4\nImplements: blueprint container-image-cve-scan\nStory: 2003505\n""}, {'number': 5, 'created': '2020-09-08 10:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/bcf3796a62d09a0bcfa8087fc4840858f3bcf538', 'message': ""[k8s] Add vulnerability scanner\n\nAdd vulnerability scanner to Kubernetes clusters.\nIt has three labels:\n'vulnerability_scanner_enabled', which triggers the\ndeployment of the DaemonSet (defaults to False).\n'vulnerability_scanner_tag', which is the version of the container to be\nused (defaults to the latest stable version).\n'vulnerability_scanner_endpoint', which is the endpoint where a Clair\ninstance is running (mandatory if 'vulnerability_scanner_enabled' is\nTrue).\n\nThe scanner runs on every node and analyses the pods running on the node\nit was assigned to. Results of the analysis are delivered by marking the\npods with labels and annotations. The label 'security_level' can have\nthree values: unknown, safe and vulnerable. The annotations are\n'unapproved_vulnerabilities_amount' and 'unapproved_vulnerabilities'\nwhich are, respectively, the amount of vulnerabilities found on the pod\n(counting all the containers together), and a JSON formatted string\ncontaining a list with the IDs of the CVE and RHSA found per image.\n\nChange-Id: I96e81c8d070dbeb94b13163a589f57b4140c8ac4\nImplements: blueprint container-image-cve-scan\nStory: 2003505\n""}, {'number': 6, 'created': '2021-01-28 14:48:15.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-vulnerability-scanner.sh', 'magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'releasenotes/notes/bp-container-image-cve-scan-5e02ee2fc3c5d092.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/236e4047462fe74c5226e629df5ded89f1040917', 'message': ""[k8s] Add vulnerability scanner\n\nAdd vulnerability scanner to Kubernetes clusters.\nIt has three labels:\n'vulnerability_scanner_enabled', which triggers the\ndeployment of the DaemonSet (defaults to False).\n'vulnerability_scanner_tag', which is the version of the container to be\nused (defaults to the latest stable version).\n'vulnerability_scanner_endpoint', which is the endpoint where a Clair\ninstance is running (mandatory if 'vulnerability_scanner_enabled' is\nTrue).\n\nThe scanner runs on every node and analyses the pods running on the node\nit was assigned to. Results of the analysis are delivered by marking the\npods with labels and annotations. The label 'security_level' can have\nthree values: unknown, safe and vulnerable. The annotations are\n'unapproved_vulnerabilities_amount' and 'unapproved_vulnerabilities'\nwhich are, respectively, the amount of vulnerabilities found on the pod\n(counting all the containers together), and a JSON formatted string\ncontaining a list with the IDs of the CVE and RHSA found per image.\n\nChange-Id: I96e81c8d070dbeb94b13163a589f57b4140c8ac4\nImplements: blueprint container-image-cve-scan\nStory: 2003505\n""}]",31,598142,236e4047462fe74c5226e629df5ded89f1040917,20,7,6,27725,,,0,"[k8s] Add vulnerability scanner

Add vulnerability scanner to Kubernetes clusters.
It has three labels:
'vulnerability_scanner_enabled', which triggers the
deployment of the DaemonSet (defaults to False).
'vulnerability_scanner_tag', which is the version of the container to be
used (defaults to the latest stable version).
'vulnerability_scanner_endpoint', which is the endpoint where a Clair
instance is running (mandatory if 'vulnerability_scanner_enabled' is
True).

The scanner runs on every node and analyses the pods running on the node
it was assigned to. Results of the analysis are delivered by marking the
pods with labels and annotations. The label 'security_level' can have
three values: unknown, safe and vulnerable. The annotations are
'unapproved_vulnerabilities_amount' and 'unapproved_vulnerabilities'
which are, respectively, the amount of vulnerabilities found on the pod
(counting all the containers together), and a JSON formatted string
containing a list with the IDs of the CVE and RHSA found per image.

Change-Id: I96e81c8d070dbeb94b13163a589f57b4140c8ac4
Implements: blueprint container-image-cve-scan
Story: 2003505
",git fetch https://review.opendev.org/openstack/magnum refs/changes/42/598142/6 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/enable-vulnerability-scanner.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.yaml', 'magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'releasenotes/notes/bp-container-image-cve-scan-5e02ee2fc3c5d092.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py']",9,c7de72e3930461d18fa65726d038a1772cced9f1,bp/container-image-cve-scan," 'service_cluster_ip_range': '10.254.0.0/16', 'vulnerability_scanner_enabled': 'True', 'vulnerability_scanner_tag': 'v1.0.0', 'vulnerability_scanner_endpoint': 'http://clair.cern.ch' }, 'vulnerability_scanner_enabled': 'True', 'vulnerability_scanner_tag': 'v1.0.0', 'vulnerability_scanner_endpoint': 'http://clair.cern.ch' 'vulnerability_scanner_enabled': 'True', 'vulnerability_scanner_tag': 'v1.0.0', 'vulnerability_scanner_endpoint': 'http://clair.cern.ch' 'vulnerability_scanner_enabled': 'True', 'vulnerability_scanner_tag': 'v1.0.0', 'vulnerability_scanner_endpoint': 'http://clair.cern.ch' 'vulnerability_scanner_enabled': 'True', 'vulnerability_scanner_tag': 'v1.0.0', 'vulnerability_scanner_endpoint': 'http://clair.cern.ch' 'vulnerability_scanner_enabled': 'True', 'vulnerability_scanner_tag': 'v1.0.0', 'vulnerability_scanner_endpoint': 'http://clair.cern.ch' 'vulnerability_scanner_enabled': 'True', 'vulnerability_scanner_tag': 'v1.0.0', 'vulnerability_scanner_endpoint': 'http://clair.cern.ch' 'vulnerability_scanner_enabled': 'True', 'vulnerability_scanner_tag': 'v1.0.0', 'vulnerability_scanner_endpoint': 'http://clair.cern.ch'"," 'service_cluster_ip_range': '10.254.0.0/16'},",259,2
openstack%2Fopenstack-ansible-os_panko~master~I76a21f085729373b81cff9e1d0bd9a190e1e7c18,openstack/openstack-ansible-os_panko,master,I76a21f085729373b81cff9e1d0bd9a190e1e7c18,Move panko pip packages from constraints to requirements,MERGED,2021-01-25 10:19:17.000000000,2021-01-28 15:52:56.000000000,2021-01-28 15:51:15.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-25 10:19:17.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/cfd201d5c77735e5d48549bbdc7af1084a6f8800', 'message': 'Move panko pip packages from constraints to requirements\n\nThis is necessary to use the new pip resolver\n\nChange-Id: I76a21f085729373b81cff9e1d0bd9a190e1e7c18\n'}]",0,772294,cfd201d5c77735e5d48549bbdc7af1084a6f8800,10,3,1,25023,,,0,"Move panko pip packages from constraints to requirements

This is necessary to use the new pip resolver

Change-Id: I76a21f085729373b81cff9e1d0bd9a190e1e7c18
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/94/772294/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,cfd201d5c77735e5d48549bbdc7af1084a6f8800,osa-new-pip," - alembic - ""git+{{ panko_git_repo }}@{{ panko_git_install_branch }}#egg=panko"" - PyMySQL - sqlalchemy"," - ""git+{{ panko_git_repo }}@{{ panko_git_install_branch }}#egg=panko"" - alembic>=0.7.2 - panko - PyMySQL>=0.6.2 - sqlalchemy>=0.9.7",4,5
openstack%2Fkayobe~master~I5efdbd52556721914fe69d7c6ba454b2c721b643,openstack/kayobe,master,I5efdbd52556721914fe69d7c6ba454b2c721b643,Fix deployment image build in Victoria,MERGED,2021-01-27 21:11:54.000000000,2021-01-28 15:51:44.000000000,2021-01-28 15:49:51.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-01-27 21:11:54.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6563a02f85dc4833a11608d0e360a5478919fac5', 'message': ""Fix deployment image build in Victoria\n\nIn the Victoria release, deployment images fail to build with the\nfollowing error:\n\n/opt/kayobe/venvs/ipa-build-dib/lib/python3.6/site-packages/diskimage_builder/lib/common-functions: line 343: element-info: command not found\n\nThis is caused by the virtualenv bin directory not being included in\nPATH while executing code from common-functions, which results in the\nelement-info script not being found.\n\nThis doesn't happen in Ussuri because older versions of DIB were\nactivating the virtualenv automatically [1].\n\nThis doesn't happen in master because its upper constraints allow a\nnewer DIB which doesn't use element-info anymore.\n\nThe fix is to activate the DIB virtualenv, which is done since\nstackhpc.os-images v1.10.1 [2]. Bump in master first then backport to\nstable/victoria.\n\n[1] https://review.opendev.org/c/openstack/diskimage-builder/+/734414\n[2] https://github.com/stackhpc/ansible-role-os-images/releases/tag/v1.10.1\n\nChange-Id: I5efdbd52556721914fe69d7c6ba454b2c721b643\nStory: 2008550\nTask: 41673\n""}]",0,772774,6563a02f85dc4833a11608d0e360a5478919fac5,9,4,1,15197,,,0,"Fix deployment image build in Victoria

In the Victoria release, deployment images fail to build with the
following error:

/opt/kayobe/venvs/ipa-build-dib/lib/python3.6/site-packages/diskimage_builder/lib/common-functions: line 343: element-info: command not found

This is caused by the virtualenv bin directory not being included in
PATH while executing code from common-functions, which results in the
element-info script not being found.

This doesn't happen in Ussuri because older versions of DIB were
activating the virtualenv automatically [1].

This doesn't happen in master because its upper constraints allow a
newer DIB which doesn't use element-info anymore.

The fix is to activate the DIB virtualenv, which is done since
stackhpc.os-images v1.10.1 [2]. Bump in master first then backport to
stable/victoria.

[1] https://review.opendev.org/c/openstack/diskimage-builder/+/734414
[2] https://github.com/stackhpc/ansible-role-os-images/releases/tag/v1.10.1

Change-Id: I5efdbd52556721914fe69d7c6ba454b2c721b643
Story: 2008550
Task: 41673
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/74/772774/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,6563a02f85dc4833a11608d0e360a5478919fac5,story/2008550, version: v1.10.2, version: v1.9.0,1,1
openstack%2Frpm-packaging~master~I55680a70f305c38adbea1eb20790225614ef2d75,openstack/rpm-packaging,master,I55680a70f305c38adbea1eb20790225614ef2d75,oslo update Jan 21,MERGED,2021-01-19 08:59:05.000000000,2021-01-28 15:50:49.000000000,2021-01-28 15:50:49.000000000,"[{'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-19 08:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4277823db3b662752c1cb562eddb59c3700d75b6', 'message': 'oslo update Jan 21\n\nChange-Id: I55680a70f305c38adbea1eb20790225614ef2d75\n'}, {'number': 2, 'created': '2021-01-19 19:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bdca05563496fb002cf4989ab69ff52e3803651e', 'message': 'oslo update Jan 21\n\nChange-Id: I55680a70f305c38adbea1eb20790225614ef2d75\n'}, {'number': 3, 'created': '2021-01-28 13:48:34.000000000', 'files': ['openstack/oslo.concurrency/oslo.concurrency.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1594062ce37875e4a6e05a221c31f8813d4e9158', 'message': 'oslo update Jan 21\n\nChange-Id: I55680a70f305c38adbea1eb20790225614ef2d75\n'}]",1,771387,1594062ce37875e4a6e05a221c31f8813d4e9158,19,5,3,6593,,,0,"oslo update Jan 21

Change-Id: I55680a70f305c38adbea1eb20790225614ef2d75
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/87/771387/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/oslo.concurrency/oslo.concurrency.spec.j2', 'openstack/oslo.db/oslo.db.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2']",3,4277823db3b662752c1cb562eddb59c3700d75b6,,{% set upstream_version = upstream_version('12.6.1') %},{% set upstream_version = upstream_version('12.6.0') %},3,3
openstack%2Frpm-packaging~master~I5ee9fd3ea5bdcc3b8344cf4a2e61315300d3f43b,openstack/rpm-packaging,master,I5ee9fd3ea5bdcc3b8344cf4a2e61315300d3f43b,Update oslo.config,MERGED,2020-12-05 15:02:09.000000000,2021-01-28 15:49:06.000000000,2021-01-28 15:49:06.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-12-05 15:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/68bb3bed247b7a7dce828e99a9a9e015085a94a3', 'message': 'Update oslo.config\n\nChange-Id: I5ee9fd3ea5bdcc3b8344cf4a2e61315300d3f43b\n'}, {'number': 2, 'created': '2020-12-10 15:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1117bf9fe01c2dbee49d4c78d5547e325347a50b', 'message': 'Update oslo.config\n\nChange-Id: I5ee9fd3ea5bdcc3b8344cf4a2e61315300d3f43b\n'}, {'number': 3, 'created': '2020-12-21 18:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e7468a1890d1933d40d213255e59da4701b92bf3', 'message': 'Update oslo.config\n\nChange-Id: I5ee9fd3ea5bdcc3b8344cf4a2e61315300d3f43b\n'}, {'number': 4, 'created': '2021-01-04 19:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/274d93d4197c2735614698faa615dcdcfbcca4bd', 'message': 'Update oslo.config\n\nChange-Id: I5ee9fd3ea5bdcc3b8344cf4a2e61315300d3f43b\n'}, {'number': 5, 'created': '2021-01-04 19:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4105b8677b71c49d8b3ce76e013296088c970f21', 'message': 'Update oslo.config\n\nChange-Id: I5ee9fd3ea5bdcc3b8344cf4a2e61315300d3f43b\n'}, {'number': 6, 'created': '2021-01-28 13:48:16.000000000', 'files': ['openstack/oslo.config/oslo.config.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/44c72681854b70ab52876d06b292db129f83fe5b', 'message': 'Update oslo.config\n\nChange-Id: I5ee9fd3ea5bdcc3b8344cf4a2e61315300d3f43b\n'}]",3,765657,44c72681854b70ab52876d06b292db129f83fe5b,45,6,6,26584,,,0,"Update oslo.config

Change-Id: I5ee9fd3ea5bdcc3b8344cf4a2e61315300d3f43b
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/57/765657/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.config/oslo.config.spec.j2'],1,68bb3bed247b7a7dce828e99a9a9e015085a94a3,osloconfig,{% set upstream_version = upstream_version('8.4.0') %},{% set upstream_version = upstream_version('8.3.3') %},1,1
openstack%2Freleases~master~Ib7a951064edb7b8a89bbf9c9ad69f6cd19e2f543,openstack/releases,master,Ib7a951064edb7b8a89bbf9c9ad69f6cd19e2f543,Release Octavia 5.1.0 for Train,MERGED,2021-01-28 09:37:20.000000000,2021-01-28 15:46:54.000000000,2021-01-28 15:46:54.000000000,"[{'_account_id': 308}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-28 09:37:20.000000000', 'files': ['deliverables/train/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/033827720041ff1509562e18515f0a81f3f8091b', 'message': 'Release Octavia 5.1.0 for Train\n\nThis release includes changes to the requirements and lower-constraints\nfile because of the new pip release. It also includes a bug fix where a\nnew octavia.conf configuration option (default_connection_limit) with a\nsane default was added to fix an issue where HAProxy 1.8 consumes much\nmore memory and crashes the amphora load balancer. Because of these two\npoints, we are bumping the minor version.\n\nChange-Id: Ib7a951064edb7b8a89bbf9c9ad69f6cd19e2f543\n'}]",0,772842,033827720041ff1509562e18515f0a81f3f8091b,8,5,1,6469,,,0,"Release Octavia 5.1.0 for Train

This release includes changes to the requirements and lower-constraints
file because of the new pip release. It also includes a bug fix where a
new octavia.conf configuration option (default_connection_limit) with a
sane default was added to fix an issue where HAProxy 1.8 consumes much
more memory and crashes the amphora load balancer. Because of these two
points, we are bumping the minor version.

Change-Id: Ib7a951064edb7b8a89bbf9c9ad69f6cd19e2f543
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/772842/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/octavia.yaml'],1,033827720041ff1509562e18515f0a81f3f8091b,, - version: 5.1.0 projects: - repo: openstack/octavia hash: fd622009e6641e8b9d04fc66f1e878ef452d8d9f,,4,0
openstack%2Fopenstack-ansible-os_heat~master~I1c18871b81117654e12b9690a9d112236ba4eeff,openstack/openstack-ansible-os_heat,master,I1c18871b81117654e12b9690a9d112236ba4eeff,Move heat pip packages from constraints to requirements,MERGED,2021-01-25 10:04:46.000000000,2021-01-28 15:40:00.000000000,2021-01-28 15:38:00.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-25 10:04:46.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/0ae39643ce3e36a45faf30030b1973622786c470', 'message': 'Move heat pip packages from constraints to requirements\n\nThis is necessary to use the new pip resolver\n\nChange-Id: I1c18871b81117654e12b9690a9d112236ba4eeff\n'}]",0,772283,0ae39643ce3e36a45faf30030b1973622786c470,10,3,1,25023,,,0,"Move heat pip packages from constraints to requirements

This is necessary to use the new pip resolver

Change-Id: I1c18871b81117654e12b9690a9d112236ba4eeff
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/83/772283/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,0ae39643ce3e36a45faf30030b1973622786c470,osa-new-pip," - ""git+{{ heat_git_repo }}@{{ heat_git_install_branch }}#egg=openstack-heat"""," - ""git+{{ heat_git_repo }}@{{ heat_git_install_branch }}#egg=openstack-heat"" - openstack-heat",1,2
openstack%2Fmanila~master~I9c7be7a792c08205fa166627a5064bd579c6f3fc,openstack/manila,master,I9c7be7a792c08205fa166627a5064bd579c6f3fc,Allow to set limits on number of shares or total size per server.,ABANDONED,2020-11-06 14:55:50.000000000,2021-01-28 15:39:19.000000000,,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 15386}, {'_account_id': 18816}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}]","[{'number': 1, 'created': '2020-11-06 14:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/18ce23eca6d2f34ae9733fabefed3a105e1002d6', 'message': ""Allow to set limits on number of shares or total size per server.\n\nShare type extra-specs 'max_shares_per_server' and 'max_gb_total_per_server'\ncan be used respectively to set the limits per share_server.\n\nChange-Id: I9c7be7a792c08205fa166627a5064bd579c6f3fc\nCloses-Bug: 1713443\n""}, {'number': 2, 'created': '2020-11-09 15:17:16.000000000', 'files': ['manila/scheduler/utils.py', 'manila/share/share_types.py', 'manila/tests/share/drivers/test_generic.py', 'manila/share/driver.py', 'manila/common/constants.py', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/350d40eadacb39c8e1a527460db8d3fa11121de6', 'message': ""Allow to set limits on number of shares or total size per server.\n\nShare type extra-specs 'max_shares_per_server' and 'max_gb_total_per_server'\ncan be used respectively to set the limits per share_server.\n\nChange-Id: I9c7be7a792c08205fa166627a5064bd579c6f3fc\nCloses-Bug: 1713443\n""}]",0,761754,350d40eadacb39c8e1a527460db8d3fa11121de6,15,8,2,20104,,,0,"Allow to set limits on number of shares or total size per server.

Share type extra-specs 'max_shares_per_server' and 'max_gb_total_per_server'
can be used respectively to set the limits per share_server.

Change-Id: I9c7be7a792c08205fa166627a5064bd579c6f3fc
Closes-Bug: 1713443
",git fetch https://review.opendev.org/openstack/manila refs/changes/54/761754/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/scheduler/utils.py', 'manila/share/share_types.py', 'manila/tests/share/drivers/test_generic.py', 'manila/share/driver.py', 'manila/common/constants.py', 'manila/tests/share/test_manager.py']",6,18ce23eca6d2f34ae9733fabefed3a105e1002d6,bug/1713443," self.mock_object(share_types, 'get_share_type_extra_specs', mock.Mock(return_value='False')) self.mock_object(share_types, 'get_extra_specs_from_share', mock.Mock(return_value={})) ",,104,1
openstack%2Fopenstack-ansible-os_tacker~master~I02342575151053c8bdd1a5b22514a82fef0613a2,openstack/openstack-ansible-os_tacker,master,I02342575151053c8bdd1a5b22514a82fef0613a2,Move tacker pip packages from constraints to requirements,MERGED,2021-01-25 10:33:34.000000000,2021-01-28 15:31:41.000000000,2021-01-28 15:29:46.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-25 10:33:34.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/eb449a9cfff955b8e3e558e8d452fd2970b951c6', 'message': 'Move tacker pip packages from constraints to requirements\n\nThis is necessary to use the new pip resolver\n\nChange-Id: I02342575151053c8bdd1a5b22514a82fef0613a2\n'}]",0,772298,eb449a9cfff955b8e3e558e8d452fd2970b951c6,10,3,1,25023,,,0,"Move tacker pip packages from constraints to requirements

This is necessary to use the new pip resolver

Change-Id: I02342575151053c8bdd1a5b22514a82fef0613a2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/98/772298/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,eb449a9cfff955b8e3e558e8d452fd2970b951c6,osa-new-pip," - ""git+{{ tacker_git_repo }}@{{ tacker_git_install_branch }}#egg=tacker"""," - ""git+{{ tacker_git_repo }}@{{ tacker_git_install_branch }}#egg=tacker"" - tacker",1,2
openstack%2Fcharm-guide~master~I07cc2708641c7a399267569a63812073d81ce2ea,openstack/charm-guide,master,I07cc2708641c7a399267569a63812073d81ce2ea,Fix charm build output folder,MERGED,2021-01-28 14:31:00.000000000,2021-01-28 15:26:06.000000000,2021-01-28 15:23:57.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-01-28 14:31:00.000000000', 'files': ['doc/source/new-manila-charm.rst', 'doc/source/new-api-charm.rst', 'doc/source/testing.rst', 'doc/source/new-sdn-charm.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/c3c1567e04acd652bfa0f217e512e97d1e01c51f', 'message': 'Fix charm build output folder\n\nSince charm-tools 2.8 published on 2021-01-27 the\ncharm build output folder has changed from\nbuild/builds/<charm-name> to build/<charm-name>\n\nSee also https://github.com/openstack-charmers/release-tools/pull/132\n\nChange-Id: I07cc2708641c7a399267569a63812073d81ce2ea\n'}]",0,772885,c3c1567e04acd652bfa0f217e512e97d1e01c51f,7,2,1,31289,,,0,"Fix charm build output folder

Since charm-tools 2.8 published on 2021-01-27 the
charm build output folder has changed from
build/builds/<charm-name> to build/<charm-name>

See also https://github.com/openstack-charmers/release-tools/pull/132

Change-Id: I07cc2708641c7a399267569a63812073d81ce2ea
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/85/772885/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/new-manila-charm.rst', 'doc/source/new-api-charm.rst', 'doc/source/testing.rst', 'doc/source/new-sdn-charm.rst']",4,c3c1567e04acd652bfa0f217e512e97d1e01c51f,charm-tools-28, juju deploy ~/sdn-charm/virtual-token-ring/build/virtual-token-ring juju upgrade-charm --path ~/sdn-charm/virtual-token-ring/build/virtual-token-ring virtual-token-ring, juju deploy ~/sdn-charm/virtual-token-ring/build/builds/virtual-token-ring juju upgrade-charm --path ~/sdn-charm/virtual-token-ring/build/builds/virtual-token-ring virtual-token-ring,6,6
openstack%2Fcinder~master~Ibcad52ebdc5d107a7ffb2fb80a0e4349f9c90273,openstack/cinder,master,Ibcad52ebdc5d107a7ffb2fb80a0e4349f9c90273,DNM: Experimental job for S3 backup driver,ABANDONED,2021-01-11 22:15:23.000000000,2021-01-28 15:23:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-11 22:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6fc30a82d53591755da300813acdf7c9fe1a9d48', 'message': 'DNM: Experimental job for S3 backup driver\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770171\nChange-Id: Ibcad52ebdc5d107a7ffb2fb80a0e4349f9c90273\n'}, {'number': 2, 'created': '2021-01-12 21:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c7567a477c2a8998ee5678c356ecfb9c0757b9d6', 'message': 'DNM: Experimental job for S3 backup driver\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770171\nChange-Id: Ibcad52ebdc5d107a7ffb2fb80a0e4349f9c90273\n'}, {'number': 3, 'created': '2021-01-13 18:48:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1a92747634e631e909ac4242fa8411054e34f26', 'message': 'DNM: Experimental job for S3 backup driver\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/770171\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/770659\nChange-Id: Ibcad52ebdc5d107a7ffb2fb80a0e4349f9c90273\n'}]",1,770210,b1a92747634e631e909ac4242fa8411054e34f26,76,1,3,13689,,,0,"DNM: Experimental job for S3 backup driver

Depends-On: https://review.opendev.org/c/openstack/devstack/+/770171
Depends-On: https://review.opendev.org/c/openstack/tempest/+/770659
Change-Id: Ibcad52ebdc5d107a7ffb2fb80a0e4349f9c90273
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/770210/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6fc30a82d53591755da300813acdf7c9fe1a9d48,feature/support-s3-backup-driver, - cinder-tempest-plugin-lvm-lio-barbican-s3-backup: irrelevant-files: *functional-irrelevant-files - job: name: cinder-tempest-plugin-lvm-lio-barbican-s3-backup parent: cinder-tempest-plugin-lvm-lio-barbican vars: devstack_services: s3api: true,,9,0
openstack%2Fopenstack-ansible-os_zun~master~I1c3dcbc21bee1bf6c66c9c2f77c4ff832db49f19,openstack/openstack-ansible-os_zun,master,I1c3dcbc21bee1bf6c66c9c2f77c4ff832db49f19,Prevent zun-wsproxy binding to all IP addresses,MERGED,2021-01-25 12:18:41.000000000,2021-01-28 15:05:51.000000000,2021-01-28 14:59:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-25 12:18:41.000000000', 'files': ['templates/zun.conf.j2', 'zuul.d/project.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/154ecfe25a09fe08b3a11642b4469d6015c0b836', 'message': 'Prevent zun-wsproxy binding to all IP addresses\n\nThis issue is preventing metal upgrade jobs for\nvictoria->master from deploying haproxy correctly following the\nmerge of https://review.opendev.org/769142/.\n\nThis is intended to be a minimal patch to fix the binding\nso that it can be backported in order to fix the upgrades.\n\nChange-Id: I1c3dcbc21bee1bf6c66c9c2f77c4ff832db49f19\n'}]",0,772327,154ecfe25a09fe08b3a11642b4469d6015c0b836,12,3,1,31542,,,0,"Prevent zun-wsproxy binding to all IP addresses

This issue is preventing metal upgrade jobs for
victoria->master from deploying haproxy correctly following the
merge of https://review.opendev.org/769142/.

This is intended to be a minimal patch to fix the binding
so that it can be backported in order to fix the upgrades.

Change-Id: I1c3dcbc21bee1bf6c66c9c2f77c4ff832db49f19
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/27/772327/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/zun.conf.j2', 'zuul.d/project.yaml', 'defaults/main.yml']",3,154ecfe25a09fe08b3a11642b4469d6015c0b836,zun-wsproxy-bind,"## Zun WebSocket Proxy zun_wsproxy_proto: ""{{ (openstack_service_publicuri_proto | default('http') == 'https') | ternary('wss', 'ws') }}"" zun_wsproxy_port: 6784 zun_wsproxy_host: ""{{ openstack_service_bind_address | default('0.0.0.0') }}"" zun_wsproxy_base_uri: ""{{ zun_wsproxy_proto }}://{{ external_lb_vip_address }}:{{ zun_wsproxy_port }}"" ",,18,2
openstack%2Fblazar~stable%2Fussuri~I55fbae296f5582148f5b48b7cf96fbd77d014227,openstack/blazar,stable/ussuri,I55fbae296f5582148f5b48b7cf96fbd77d014227,Make lower-constraints job non-voting,ABANDONED,2021-01-20 20:58:24.000000000,2021-01-28 15:04:06.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-20 20:58:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/353b3bad7c43574b95ced62dc54f0343087d5839', 'message': 'Make lower-constraints job non-voting\n\nIt is preventing us from merging some patches. Disable until it can be\nfixed.\n\nChange-Id: I55fbae296f5582148f5b48b7cf96fbd77d014227\n(cherry picked from commit 37bee67efde42f9e3926e74b0f9e29f94f843c62)\n'}]",0,771721,353b3bad7c43574b95ced62dc54f0343087d5839,6,2,1,15197,,,0,"Make lower-constraints job non-voting

It is preventing us from merging some patches. Disable until it can be
fixed.

Change-Id: I55fbae296f5582148f5b48b7cf96fbd77d014227
(cherry picked from commit 37bee67efde42f9e3926e74b0f9e29f94f843c62)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/21/771721/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,353b3bad7c43574b95ced62dc54f0343087d5839,, - openstack-tox-lower-constraints: voting: false,,2,0
openstack%2Fblazar~stable%2Fstein~I55fbae296f5582148f5b48b7cf96fbd77d014227,openstack/blazar,stable/stein,I55fbae296f5582148f5b48b7cf96fbd77d014227,Make lower-constraints job non-voting,ABANDONED,2021-01-20 21:00:15.000000000,2021-01-28 15:04:02.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-20 21:00:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/cc4aa2e0e6e5ad3ca218aabdc76b70006385d9f0', 'message': 'Make lower-constraints job non-voting\n\nIt is preventing us from merging some patches. Disable until it can be\nfixed.\n\nChange-Id: I55fbae296f5582148f5b48b7cf96fbd77d014227\n(cherry picked from commit 37bee67efde42f9e3926e74b0f9e29f94f843c62)\n'}]",0,771723,cc4aa2e0e6e5ad3ca218aabdc76b70006385d9f0,6,2,1,15197,,,0,"Make lower-constraints job non-voting

It is preventing us from merging some patches. Disable until it can be
fixed.

Change-Id: I55fbae296f5582148f5b48b7cf96fbd77d014227
(cherry picked from commit 37bee67efde42f9e3926e74b0f9e29f94f843c62)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/23/771723/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cc4aa2e0e6e5ad3ca218aabdc76b70006385d9f0,, - openstack-tox-lower-constraints: voting: false,,2,0
openstack%2Fblazar~stable%2Ftrain~I55fbae296f5582148f5b48b7cf96fbd77d014227,openstack/blazar,stable/train,I55fbae296f5582148f5b48b7cf96fbd77d014227,Make lower-constraints job non-voting,ABANDONED,2021-01-20 20:59:36.000000000,2021-01-28 15:03:58.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-20 20:59:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/836529f1932653a6cf6f712da308ac102af41eff', 'message': 'Make lower-constraints job non-voting\n\nIt is preventing us from merging some patches. Disable until it can be\nfixed.\n\nChange-Id: I55fbae296f5582148f5b48b7cf96fbd77d014227\n(cherry picked from commit 37bee67efde42f9e3926e74b0f9e29f94f843c62)\n'}]",0,771722,836529f1932653a6cf6f712da308ac102af41eff,6,2,1,15197,,,0,"Make lower-constraints job non-voting

It is preventing us from merging some patches. Disable until it can be
fixed.

Change-Id: I55fbae296f5582148f5b48b7cf96fbd77d014227
(cherry picked from commit 37bee67efde42f9e3926e74b0f9e29f94f843c62)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/22/771722/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,836529f1932653a6cf6f712da308ac102af41eff,, - openstack-tox-lower-constraints: voting: false,,2,0
openstack%2Fneutron-tempest-plugin~master~I870f3662679dddf8f29328b10c7fd9637dad9436,openstack/neutron-tempest-plugin,master,I870f3662679dddf8f29328b10c7fd9637dad9436,Use tempest's ServiceClients rather than Manager,MERGED,2020-12-18 13:13:33.000000000,2021-01-28 14:35:05.000000000,2021-01-28 14:35:05.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-18 13:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ad2a0ffd2222a84a338ba500240e7df822fd3329', 'message': ""Use tempest's ServiceClients rather than Manager\n\ntempest.Manager has been deprecated for more than 4 years already.\nTempest plugins are expected to consume\ntempest.lib.services.clients.ServiceClients directly.\n\nChange-Id: I870f3662679dddf8f29328b10c7fd9637dad9436\n""}, {'number': 2, 'created': '2020-12-21 14:30:50.000000000', 'files': ['neutron_tempest_plugin/api/clients.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/dd96e9a6aeffd2181ad70248aab0dc02403fe2c4', 'message': ""Use tempest's ServiceClients rather than Manager\n\ntempest.Manager has been deprecated for more than 4 years already\nand will be removed by [1].\nTempest plugins are expected to consume\ntempest.lib.services.clients.ServiceClients directly.\n\n[1] https://review.opendev.org/c/openstack/tempest/+/767628\n\nChange-Id: I870f3662679dddf8f29328b10c7fd9637dad9436\n""}]",0,767715,dd96e9a6aeffd2181ad70248aab0dc02403fe2c4,19,6,2,22873,,,0,"Use tempest's ServiceClients rather than Manager

tempest.Manager has been deprecated for more than 4 years already
and will be removed by [1].
Tempest plugins are expected to consume
tempest.lib.services.clients.ServiceClients directly.

[1] https://review.opendev.org/c/openstack/tempest/+/767628

Change-Id: I870f3662679dddf8f29328b10c7fd9637dad9436
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/15/767715/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/clients.py'],1,ad2a0ffd2222a84a338ba500240e7df822fd3329,tempest_manager,from tempest.lib.services import clientsclass Manager(clients.ServiceClients):,from tempest import managerclass Manager(manager.Manager):,2,2
openstack%2Fpuppet-nova~master~I5fcd8e15c5b3a3386104506fb9f7b54eda2eb867,openstack/puppet-nova,master,I5fcd8e15c5b3a3386104506fb9f7b54eda2eb867,Refactor logic about the instance_name_template parameter,MERGED,2021-01-26 12:26:09.000000000,2021-01-28 13:36:21.000000000,2021-01-28 13:33:50.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 12:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9a697652548c382cedd9e8820c5b6b4a769f5960', 'message': ""Refactor logic about the instance_name_template parameter\n\nWe don't need to implement a speicific logic to ensure the parameter is\nabsent but can pass $::os_service_default. This change updates default\nof the instance_name_template parameter so that we can simplify our\ncurrent logic to manage the parameter.\n\nChange-Id: I5fcd8e15c5b3a3386104506fb9f7b54eda2eb867\n""}, {'number': 2, 'created': '2021-01-26 14:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/217533eda7b445b92967787980d492a45c3753e7', 'message': ""Refactor logic about the instance_name_template parameter\n\nWe don't need to implement a speicific logic to ensure the parameter is\nabsent but can pass $::os_service_default. This change updates default\nof the instance_name_template parameter so that we can simplify our\ncurrent logic to manage the parameter.\n\nChange-Id: I5fcd8e15c5b3a3386104506fb9f7b54eda2eb867\n""}, {'number': 3, 'created': '2021-01-27 02:18:20.000000000', 'files': ['spec/classes/nova_api_spec.rb', 'manifests/api.pp', 'releasenotes/notes/nova-api-instance_name_template-default-01fb4a333ff60e19.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/771b0bbe4e6c492496411de1e250da536106f699', 'message': ""Refactor logic about the instance_name_template parameter\n\nWe don't need to implement a speicific logic to ensure the parameter is\nabsent but can pass $::os_service_default. This change updates default\nof the instance_name_template parameter so that we can simplify our\ncurrent logic to manage the parameter.\n\nChange-Id: I5fcd8e15c5b3a3386104506fb9f7b54eda2eb867\n""}]",0,772509,771b0bbe4e6c492496411de1e250da536106f699,11,3,3,9816,,,0,"Refactor logic about the instance_name_template parameter

We don't need to implement a speicific logic to ensure the parameter is
absent but can pass $::os_service_default. This change updates default
of the instance_name_template parameter so that we can simplify our
current logic to manage the parameter.

Change-Id: I5fcd8e15c5b3a3386104506fb9f7b54eda2eb867
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/09/772509/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_api_spec.rb', 'manifests/api.pp', 'releasenotes/notes/nova-api-instance_name_template-default-01fb4a333ff60e19.yaml']",3,9a697652548c382cedd9e8820c5b6b4a769f5960,default,"--- deprecations: - | Default value of ``nova::api::instance_name_template`` has been changed from ``undef`` to ``$::os_service_default``. The parameter still accepts any false value then unsets the parameter, but this behavior will be changed in a future release. Use ``$::os_service_default`` if you want to use the default defined in nova implementation. ",,17,9
openstack%2Ftripleo-ansible~master~I0643345a144a4b4c94c11465e9f8a82f13da146d,openstack/tripleo-ansible,master,I0643345a144a4b4c94c11465e9f8a82f13da146d,"Add an alias for ""port"" when handling firewall rules",MERGED,2021-01-27 18:00:04.000000000,2021-01-28 13:35:02.000000000,2021-01-28 02:56:13.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-27 18:00:04.000000000', 'files': ['tripleo_ansible/ansible_plugins/action/tripleo_iptables.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dcd18fa053b441e2cb1a5cfb13c0b3394eaafe61', 'message': 'Add an alias for ""port"" when handling firewall rules\n\nThis change adds an internal alias for port to dport. This is done to\nallow legacy config to operate as expected should a user have overrides\nwith the puppet legacy option. Should the action plugin encounter a\nrule with the deprecated option a notice will be printed on screen\ncontaining the rule and and information on how to convert it so that\nfunctionality isn\'t lost on a future release.\n\nChange-Id: I0643345a144a4b4c94c11465e9f8a82f13da146d\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",2,772753,dcd18fa053b441e2cb1a5cfb13c0b3394eaafe61,12,4,1,7353,,,0,"Add an alias for ""port"" when handling firewall rules

This change adds an internal alias for port to dport. This is done to
allow legacy config to operate as expected should a user have overrides
with the puppet legacy option. Should the action plugin encounter a
rule with the deprecated option a notice will be printed on screen
containing the rule and and information on how to convert it so that
functionality isn't lost on a future release.

Change-Id: I0643345a144a4b4c94c11465e9f8a82f13da146d
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/53/772753/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/action/tripleo_iptables.py'],1,dcd18fa053b441e2cb1a5cfb13c0b3394eaafe61,," # NOTE(cloudnull): while dport is the only supported option, # port has been added as an ailias to ensure # our legacy configs remain functional. if 'dport' in rule or 'port' in rule: dports = rule.get('dport', 'port') if 'port' in rule: DISPLAY.v( 'The use of ""port"" is deprecated and will be' ' removed in a future release. Please convert' ' all uses of ""port"" to ""dport"".' ) ", if 'dport' in rule: dports = rule['dport'],13,2
openstack%2Fpuppet-nova~master~I056b98d2e710ec61b400a593678c6d3d15adbc72,openstack/puppet-nova,master,I056b98d2e710ec61b400a593678c6d3d15adbc72,Use with_value to assert given 'value's,MERGED,2021-01-27 02:18:20.000000000,2021-01-28 13:33:55.000000000,2021-01-28 13:33:55.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 02:18:20.000000000', 'files': ['spec/classes/nova_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8a0a878bc4e0a4ab73b8b089fc9fd683bb1bfc61', 'message': ""Use with_value to assert given 'value's\n\nChange-Id: I056b98d2e710ec61b400a593678c6d3d15adbc72\n""}]",0,772617,8a0a878bc4e0a4ab73b8b089fc9fd683bb1bfc61,7,3,1,9816,,,0,"Use with_value to assert given 'value's

Change-Id: I056b98d2e710ec61b400a593678c6d3d15adbc72
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/17/772617/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/nova_api_spec.rb'],1,8a0a878bc4e0a4ab73b8b089fc9fd683bb1bfc61,default, is_expected.to contain_nova_config('DEFAULT/instance_name_template').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('wsgi/api_paste_config').with_value('api-paste.ini') is_expected.to contain_nova_config('DEFAULT/osapi_compute_listen').with_value('0.0.0.0') is_expected.to contain_nova_config('DEFAULT/osapi_compute_listen_port').with_value('8774') is_expected.to contain_nova_config('DEFAULT/metadata_listen').with_value('0.0.0.0') is_expected.to contain_nova_config('DEFAULT/metadata_listen_port').with_value('8775') is_expected.to contain_nova_config('DEFAULT/osapi_compute_workers').with_value('5') is_expected.to contain_nova_config('DEFAULT/metadata_workers').with_value('5') is_expected.to contain_nova_config('api/max_limit').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('api/compute_link_prefix').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('api/glance_link_prefix').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('api/hide_server_address_states').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('api/allow_instance_snapshots').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('DEFAULT/enable_network_quota').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('api/enable_instance_password').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('DEFAULT/password_length').with_value('<SERVICE DEFAULT>') is_expected.to contain_nova_config('DEFAULT/allow_resize_to_same_host').with_value(false) is_expected.to contain_nova_config('DEFAULT/osapi_compute_listen').with_value('192.168.56.210') is_expected.to contain_nova_config('DEFAULT/osapi_compute_listen_port').with_value('8874') is_expected.to contain_nova_config('DEFAULT/metadata_listen').with_value('127.0.0.1') is_expected.to contain_nova_config('DEFAULT/metadata_listen_port').with_value('8875') is_expected.to contain_nova_config('api/use_forwarded_for').with_value(false) is_expected.to contain_nova_config('DEFAULT/osapi_compute_workers').with_value('1') is_expected.to contain_nova_config('DEFAULT/metadata_workers').with_value('2') is_expected.to contain_nova_config('api/max_limit').with_value('1000') is_expected.to contain_nova_config('api/compute_link_prefix').with_value('https://10.0.0.1:7777/') is_expected.to contain_nova_config('api/glance_link_prefix').with_value('https://10.0.0.1:6666/') is_expected.to contain_nova_config('api/hide_server_address_states').with_value('building') is_expected.to contain_nova_config('api/allow_instance_snapshots').with_value(true) is_expected.to contain_nova_config('DEFAULT/enable_network_quota').with_value(false) is_expected.to contain_nova_config('api/enable_instance_password').with_value(true) is_expected.to contain_nova_config('DEFAULT/password_length').with_value('12') is_expected.to contain_nova_config('DEFAULT/allow_resize_to_same_host').with_value(true), is_expected.to contain_nova_config('DEFAULT/instance_name_template').with('value' => '<SERVICE DEFAULT>') is_expected.to contain_nova_config('wsgi/api_paste_config').with('value' => 'api-paste.ini') is_expected.to contain_nova_config('DEFAULT/osapi_compute_listen').with('value' => '0.0.0.0') is_expected.to contain_nova_config('DEFAULT/osapi_compute_listen_port').with('value' => '8774') is_expected.to contain_nova_config('DEFAULT/metadata_listen').with('value' => '0.0.0.0') is_expected.to contain_nova_config('DEFAULT/metadata_listen_port').with('value' => '8775') is_expected.to contain_nova_config('DEFAULT/osapi_compute_workers').with('value' => '5') is_expected.to contain_nova_config('DEFAULT/metadata_workers').with('value' => '5') is_expected.to contain_nova_config('api/max_limit').with('value' => '<SERVICE DEFAULT>') is_expected.to contain_nova_config('api/compute_link_prefix').with('value' => '<SERVICE DEFAULT>') is_expected.to contain_nova_config('api/glance_link_prefix').with('value' => '<SERVICE DEFAULT>') is_expected.to contain_nova_config('api/hide_server_address_states').with('value' => '<SERVICE DEFAULT>') is_expected.to contain_nova_config('api/allow_instance_snapshots').with('value' => '<SERVICE DEFAULT>') is_expected.to contain_nova_config('DEFAULT/enable_network_quota').with('value' => '<SERVICE DEFAULT>') is_expected.to contain_nova_config('api/enable_instance_password').with('value' => '<SERVICE DEFAULT>') is_expected.to contain_nova_config('DEFAULT/password_length').with('value' => '<SERVICE DEFAULT>') is_expected.to contain_nova_config('DEFAULT/allow_resize_to_same_host').with('value' => false) is_expected.to contain_nova_config('DEFAULT/osapi_compute_listen').with('value' => '192.168.56.210') is_expected.to contain_nova_config('DEFAULT/osapi_compute_listen_port').with('value' => '8874') is_expected.to contain_nova_config('DEFAULT/metadata_listen').with('value' => '127.0.0.1') is_expected.to contain_nova_config('DEFAULT/metadata_listen_port').with('value' => '8875') is_expected.to contain_nova_config('api/use_forwarded_for').with('value' => false) is_expected.to contain_nova_config('DEFAULT/osapi_compute_workers').with('value' => '1') is_expected.to contain_nova_config('DEFAULT/metadata_workers').with('value' => '2') is_expected.to contain_nova_config('api/max_limit').with('value' => '1000') is_expected.to contain_nova_config('api/compute_link_prefix').with('value' => 'https://10.0.0.1:7777/') is_expected.to contain_nova_config('api/glance_link_prefix').with('value' => 'https://10.0.0.1:6666/') is_expected.to contain_nova_config('api/hide_server_address_states').with('value' => 'building') is_expected.to contain_nova_config('api/allow_instance_snapshots').with('value' => true) is_expected.to contain_nova_config('DEFAULT/enable_network_quota').with('value' => false) is_expected.to contain_nova_config('api/enable_instance_password').with('value' => true) is_expected.to contain_nova_config('DEFAULT/password_length').with('value' => '12') is_expected.to contain_nova_config('DEFAULT/allow_resize_to_same_host').with('value' => true),33,33
openstack%2Fopenstack-ansible-os_glance~master~Id9a667721909f7111da85a9a5b088a661ad19c73,openstack/openstack-ansible-os_glance,master,Id9a667721909f7111da85a9a5b088a661ad19c73,Added option to congfigure an image upload larger than the 1Tb default upload size.,ABANDONED,2021-01-28 10:43:57.000000000,2021-01-28 13:27:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-28 10:43:57.000000000', 'files': ['templates/glance-api.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/3c3b9a4d1386a2fb42752b704d1485fa753cd86e', 'message': 'Added option to congfigure an image upload larger than the 1Tb default upload size.\n\nCloses-Bug: 1913563\nChange-Id: Id9a667721909f7111da85a9a5b088a661ad19c73\n'}]",0,772850,3c3b9a4d1386a2fb42752b704d1485fa753cd86e,4,1,1,27915,,,0,"Added option to congfigure an image upload larger than the 1Tb default upload size.

Closes-Bug: 1913563
Change-Id: Id9a667721909f7111da85a9a5b088a661ad19c73
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/50/772850/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/glance-api.conf.j2', 'defaults/main.yml']",2,3c3b9a4d1386a2fb42752b704d1485fa753cd86e,,glance_image_image_size_cap: 1099511627776,,2,0
openstack%2Fpuppet-swift~master~I58cf2bc21a0bc4265114b9daf3919a1a38f63649,openstack/puppet-swift,master,I58cf2bc21a0bc4265114b9daf3919a1a38f63649,object-expirer: Update the default pipeline,MERGED,2021-01-26 12:10:03.000000000,2021-01-28 13:17:25.000000000,2021-01-28 13:15:53.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 12:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/4978ae83057630a7fdf047239fcb2edf1e28bd09', 'message': 'object-expirer: Update the default pipeline\n\nThis change updates the default pipeline of object-expirer, so that\nwe follow what is described in the default object-expirer.conf\nmaintained in swift repo.\n\nChange-Id: I58cf2bc21a0bc4265114b9daf3919a1a38f63649\n'}, {'number': 2, 'created': '2021-01-26 14:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/4bb6eced8febcdd0a1cd608ca78d169bc9cded4d', 'message': 'object-expirer: Update the default pipeline\n\nThis change updates the default pipeline of object-expirer, so that\nwe follow what is described in the default object-expirer.conf\nmaintained in swift repo.\n\nChange-Id: I58cf2bc21a0bc4265114b9daf3919a1a38f63649\n'}, {'number': 3, 'created': '2021-01-27 02:12:19.000000000', 'files': ['spec/classes/swift_objectexpirer_spec.rb', 'manifests/objectexpirer.pp', 'releasenotes/notes/objectexpirer-pipeline-8bf98622bdb0e91a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/35bde997627d20c53cd7f330df050948d8af4809', 'message': 'object-expirer: Update the default pipeline\n\nThis change updates the default pipeline of object-expirer, so that\nwe follow what is described in the default object-expirer.conf\nmaintained in swift repo.\n\nChange-Id: I58cf2bc21a0bc4265114b9daf3919a1a38f63649\n'}]",0,772506,35bde997627d20c53cd7f330df050948d8af4809,11,3,3,9816,,,0,"object-expirer: Update the default pipeline

This change updates the default pipeline of object-expirer, so that
we follow what is described in the default object-expirer.conf
maintained in swift repo.

Change-Id: I58cf2bc21a0bc4265114b9daf3919a1a38f63649
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/06/772506/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/swift_objectexpirer_spec.rb', 'manifests/objectexpirer.pp', 'releasenotes/notes/objectexpirer-pipeline-8bf98622bdb0e91a.yaml']",3,4978ae83057630a7fdf047239fcb2edf1e28bd09,objectexpirer-pipeline,--- upgrade: - | Default value of the ``swift::objectexpirer::pipeline`` parameter has been changed and now includes ``proxy-logging`` and ``cache`` by default. The updated value is consistent with the one described in the default object-expirer.conf in swift. ,,18,10
openstack%2Freleases~master~I4f7e1e02954014403cab7ae502c588e2a21bce43,openstack/releases,master,I4f7e1e02954014403cab7ae502c588e2a21bce43,[Tempest Plugins] Tag stein-last,MERGED,2020-12-26 19:02:08.000000000,2021-01-28 13:14:19.000000000,2021-01-28 13:14:19.000000000,"[{'_account_id': 308}, {'_account_id': 4264}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-12-26 19:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c1159dd53addbee216d3ab5013e0b96895eb547e', 'message': '[Tempest Plugins] Tag stein EM\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I4f7e1e02954014403cab7ae502c588e2a21bce43\n'}, {'number': 2, 'created': '2020-12-26 20:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7c152b771a3dce7525575503e4798e2507755af1', 'message': '[Tempest Plugins] Tag stein EM\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I4f7e1e02954014403cab7ae502c588e2a21bce43\n'}, {'number': 3, 'created': '2020-12-28 21:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fa301fc4b4aaab156afeaa388af87ef6173608c2', 'message': ""[Tempest Plugins] Tag stein EM\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nTagging 'stein-em' as well as a new version also with same hash.\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I4f7e1e02954014403cab7ae502c588e2a21bce43\n""}, {'number': 4, 'created': '2021-01-12 22:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7961da981d0a3189c5e95d46162933b877a21672', 'message': ""[Tempest Plugins] Tag stein-last\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nTagging 'stein-last' as well as a new version also with same hash.\nDocumenting this new tag name here\n- https://review.opendev.org/c/openstack/project-team-guide/+/769821\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I4f7e1e02954014403cab7ae502c588e2a21bce43\n""}, {'number': 5, 'created': '2021-01-12 22:17:38.000000000', 'files': ['deliverables/stein/telemetry-tempest-plugin.yaml', 'deliverables/wallaby/telemetry-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/da0c721576e3e908db6ace6df35244c868278332', 'message': ""[Tempest Plugins] Tag stein-last\n\nStein branch is in Extended Maintenance now[1]. All Tempest\nplugins are branchless which means master version of Tempest\nand its plugins is used to test the supported stable branches.\n\nOnce stable branch is moved to EM state then, Tempest and its\nplugins compatible tag needs to be released so that we can\nkeep testing the EM stable branches with this tag once master\nTempest and its plugins are not compatible[2].\n\nThis tag will help for testing the stable/stein with single\ncompatible tag of Tempest and its plugins.\n\nTagging 'stein-last' as well as a new version also with same hash.\nDocumenting this new tag name here\n- https://review.opendev.org/c/openstack/project-team-guide/+/769821\n\nMore detail on compatible version policy for Tempest and its\nplugins is here\n- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\n[1] https://releases.openstack.org/stein/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n\nChange-Id: I4f7e1e02954014403cab7ae502c588e2a21bce43\n""}]",0,768559,da0c721576e3e908db6ace6df35244c868278332,26,4,5,8556,,,0,"[Tempest Plugins] Tag stein-last

Stein branch is in Extended Maintenance now[1]. All Tempest
plugins are branchless which means master version of Tempest
and its plugins is used to test the supported stable branches.

Once stable branch is moved to EM state then, Tempest and its
plugins compatible tag needs to be released so that we can
keep testing the EM stable branches with this tag once master
Tempest and its plugins are not compatible[2].

This tag will help for testing the stable/stein with single
compatible tag of Tempest and its plugins.

Tagging 'stein-last' as well as a new version also with same hash.
Documenting this new tag name here
- https://review.opendev.org/c/openstack/project-team-guide/+/769821

More detail on compatible version policy for Tempest and its
plugins is here
- https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

[1] https://releases.openstack.org/stein/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html

Change-Id: I4f7e1e02954014403cab7ae502c588e2a21bce43
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/768559/5 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/telemetry-tempest-plugin.yaml'],1,c1159dd53addbee216d3ab5013e0b96895eb547e,tempest-plugin-stein-last, - version: stein-em projects: - repo: openstack/telemetry-tempest-plugin hash: 959fc69e492ed1d2297cce624c1efbf79e9f1b66,,4,0
openstack%2Fpuppet-swift~master~Icde495557fef0ba4862ba2e4e79463c254b17de6,openstack/puppet-swift,master,Icde495557fef0ba4862ba2e4e79463c254b17de6,Remove the leftover of swift3 support,MERGED,2021-01-26 14:07:31.000000000,2021-01-28 13:08:23.000000000,2021-01-28 13:08:23.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 14:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/3c028ccdf615d4728dbb25a8d5f8d3cbb3f02fbc', 'message': ""Remove the leftover of swift3 support\n\nThe support for swift3 has already been deprecated and removed[1], so\nwe can now remove the logic to ensure it's absent.\n\n[1] d4ec1b631faa00aed2a939dcf2c76217024537ff\n\nChange-Id: Icde495557fef0ba4862ba2e4e79463c254b17de6\n""}, {'number': 2, 'created': '2021-01-26 14:07:59.000000000', 'files': ['manifests/proxy.pp', 'spec/classes/swift_proxy_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/023863af52e69faae0e0eca87a52cd47f8ae7377', 'message': ""Remove the leftover of swift3 support\n\nThe support for swift3 has already been deprecated and removed[1], so\nwe can now remove the logic to ensure it's absent.\n\n[1] d4ec1b631faa00aed2a939dcf2c76217024537ff\n\nChange-Id: Icde495557fef0ba4862ba2e4e79463c254b17de6\n""}]",0,772530,023863af52e69faae0e0eca87a52cd47f8ae7377,8,3,2,9816,,,0,"Remove the leftover of swift3 support

The support for swift3 has already been deprecated and removed[1], so
we can now remove the logic to ensure it's absent.

[1] d4ec1b631faa00aed2a939dcf2c76217024537ff

Change-Id: Icde495557fef0ba4862ba2e4e79463c254b17de6
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/30/772530/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/proxy.pp'],1,3c028ccdf615d4728dbb25a8d5f8d3cbb3f02fbc,swift3-leftover,," # TODO(tkajinam): Remove this when we remove swift::proxy::swift3 if member($pipeline, 'swift3') { fail('swift3 is no longer supported by puppet-swift. Use s3api middleware \ and swift::proxy::s3api instead') } ",0,6
openstack%2Fsahara~master~I0be28c20ff21805d9a1a52b702cf497df7b9069e,openstack/sahara,master,I0be28c20ff21805d9a1a52b702cf497df7b9069e,Fix the isolated exception message,MERGED,2020-12-04 07:21:30.000000000,2021-01-28 12:58:01.000000000,2021-01-28 12:56:15.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-12-04 07:21:30.000000000', 'files': ['sahara/service/edp/job_binaries/manager.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/b4b666cbbde8d8835936ad594b6df2a0cbe10529', 'message': ""Fix the isolated exception message\n\nException's error message should be put right after the Exception\nwith a bracket, othersize it will be ignored.\n\nChange-Id: I0be28c20ff21805d9a1a52b702cf497df7b9069e\n""}]",0,765482,b4b666cbbde8d8835936ad594b6df2a0cbe10529,27,3,1,20190,,,0,"Fix the isolated exception message

Exception's error message should be put right after the Exception
with a bracket, othersize it will be ignored.

Change-Id: I0be28c20ff21805d9a1a52b702cf497df7b9069e
",git fetch https://review.opendev.org/openstack/sahara refs/changes/82/765482/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/service/edp/job_binaries/manager.py'],1,b4b666cbbde8d8835936ad594b6df2a0cbe10529,invalid_message," raise ex.InvalidDataException(_(""Invalid job binary"")) raise ex.InvalidDataException( _(""Job binary url must have a scheme""))"," raise ex.InvalidDataException (_(""Invalid job binary"")) raise ex.InvalidDataException (_(""Job binary url must have a scheme""))",3,4
openstack%2Fblazar~stable%2Fstein~I05541da4d87575f65d8e78f0fc54bd415328b9f2,openstack/blazar,stable/stein,I05541da4d87575f65d8e78f0fc54bd415328b9f2,Fix use of legacy Alembic API,MERGED,2021-01-20 17:37:34.000000000,2021-01-28 12:35:22.000000000,2021-01-28 12:33:30.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-20 17:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/e19a22860b8cf5ada416734b0d719ac324590428', 'message': ""Fix use of legacy Alembic API\n\nThe `name` keyword argument for Operations.alter_column() has been\ndeprecated since version 0.8. It was finally removed in Alembic 1.5.0,\ncausing the following error during installation of Blazar:\n\nTypeError: alter_column() got multiple values for keyword argument 'name'\n\nChange-Id: I05541da4d87575f65d8e78f0fc54bd415328b9f2\nCloses-Bug: #1912502\n(cherry picked from commit b1841dc4b90d9127884379d4fe1cccf99c7a579c)\n""}, {'number': 2, 'created': '2021-01-28 08:54:14.000000000', 'files': ['blazar/db/migration/alembic_migrations/versions/2bcfe76b0474_change_tenant_to_project.py', 'releasenotes/notes/alembic-fix-alter-column-42a87657992d1e78.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/e90425deb372478a00249715212e51d2d4f8497a', 'message': ""Fix use of legacy Alembic API\n\nThe `name` keyword argument for Operations.alter_column() has been\ndeprecated since version 0.8. It was finally removed in Alembic 1.5.0,\ncausing the following error during installation of Blazar:\n\nTypeError: alter_column() got multiple values for keyword argument 'name'\n\nChange-Id: I05541da4d87575f65d8e78f0fc54bd415328b9f2\nCloses-Bug: #1912502\n(cherry picked from commit b1841dc4b90d9127884379d4fe1cccf99c7a579c)\n""}]",0,771683,e90425deb372478a00249715212e51d2d4f8497a,9,2,2,15197,,,0,"Fix use of legacy Alembic API

The `name` keyword argument for Operations.alter_column() has been
deprecated since version 0.8. It was finally removed in Alembic 1.5.0,
causing the following error during installation of Blazar:

TypeError: alter_column() got multiple values for keyword argument 'name'

Change-Id: I05541da4d87575f65d8e78f0fc54bd415328b9f2
Closes-Bug: #1912502
(cherry picked from commit b1841dc4b90d9127884379d4fe1cccf99c7a579c)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/83/771683/2 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/db/migration/alembic_migrations/versions/2bcfe76b0474_change_tenant_to_project.py', 'releasenotes/notes/alembic-fix-alter-column-42a87657992d1e78.yaml']",2,e19a22860b8cf5ada416734b0d719ac324590428,bug/1912502-stable/stein,"--- fixes: - | Fixes database migrations with Alembic 1.5.0 or greater. For more details, see `bug 1912502 <https://bugs.launchpad.net/blazar/+bug/1912502>`_. ",,7,2
openstack%2Fblazar~stable%2Ftrain~I05541da4d87575f65d8e78f0fc54bd415328b9f2,openstack/blazar,stable/train,I05541da4d87575f65d8e78f0fc54bd415328b9f2,Fix use of legacy Alembic API,MERGED,2021-01-20 17:37:18.000000000,2021-01-28 12:35:15.000000000,2021-01-28 12:33:27.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-20 17:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/8bece8e044ae37c61513c8f596f7194bac1aa756', 'message': ""Fix use of legacy Alembic API\n\nThe `name` keyword argument for Operations.alter_column() has been\ndeprecated since version 0.8. It was finally removed in Alembic 1.5.0,\ncausing the following error during installation of Blazar:\n\nTypeError: alter_column() got multiple values for keyword argument 'name'\n\nChange-Id: I05541da4d87575f65d8e78f0fc54bd415328b9f2\nCloses-Bug: #1912502\n(cherry picked from commit b1841dc4b90d9127884379d4fe1cccf99c7a579c)\n""}, {'number': 2, 'created': '2021-01-28 08:54:12.000000000', 'files': ['blazar/db/migration/alembic_migrations/versions/2bcfe76b0474_change_tenant_to_project.py', 'releasenotes/notes/alembic-fix-alter-column-42a87657992d1e78.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/f4a6f3db56149eea9bba5c5806ab14cfeebd6668', 'message': ""Fix use of legacy Alembic API\n\nThe `name` keyword argument for Operations.alter_column() has been\ndeprecated since version 0.8. It was finally removed in Alembic 1.5.0,\ncausing the following error during installation of Blazar:\n\nTypeError: alter_column() got multiple values for keyword argument 'name'\n\nChange-Id: I05541da4d87575f65d8e78f0fc54bd415328b9f2\nCloses-Bug: #1912502\n(cherry picked from commit b1841dc4b90d9127884379d4fe1cccf99c7a579c)\n""}]",0,771682,f4a6f3db56149eea9bba5c5806ab14cfeebd6668,9,2,2,15197,,,0,"Fix use of legacy Alembic API

The `name` keyword argument for Operations.alter_column() has been
deprecated since version 0.8. It was finally removed in Alembic 1.5.0,
causing the following error during installation of Blazar:

TypeError: alter_column() got multiple values for keyword argument 'name'

Change-Id: I05541da4d87575f65d8e78f0fc54bd415328b9f2
Closes-Bug: #1912502
(cherry picked from commit b1841dc4b90d9127884379d4fe1cccf99c7a579c)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/82/771682/2 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/db/migration/alembic_migrations/versions/2bcfe76b0474_change_tenant_to_project.py', 'releasenotes/notes/alembic-fix-alter-column-42a87657992d1e78.yaml']",2,8bece8e044ae37c61513c8f596f7194bac1aa756,bug/1912502-stable/train,"--- fixes: - | Fixes database migrations with Alembic 1.5.0 or greater. For more details, see `bug 1912502 <https://bugs.launchpad.net/blazar/+bug/1912502>`_. ",,7,2
openstack%2Fblazar~stable%2Fussuri~I05541da4d87575f65d8e78f0fc54bd415328b9f2,openstack/blazar,stable/ussuri,I05541da4d87575f65d8e78f0fc54bd415328b9f2,Fix use of legacy Alembic API,MERGED,2021-01-20 17:36:55.000000000,2021-01-28 12:33:55.000000000,2021-01-28 12:32:23.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-20 17:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/3991d8089fa7960b950662044bb374f0be8d177d', 'message': ""Fix use of legacy Alembic API\n\nThe `name` keyword argument for Operations.alter_column() has been\ndeprecated since version 0.8. It was finally removed in Alembic 1.5.0,\ncausing the following error during installation of Blazar:\n\nTypeError: alter_column() got multiple values for keyword argument 'name'\n\nChange-Id: I05541da4d87575f65d8e78f0fc54bd415328b9f2\nCloses-Bug: #1912502\n(cherry picked from commit b1841dc4b90d9127884379d4fe1cccf99c7a579c)\n""}, {'number': 2, 'created': '2021-01-28 08:54:10.000000000', 'files': ['blazar/db/migration/alembic_migrations/versions/2bcfe76b0474_change_tenant_to_project.py', 'releasenotes/notes/alembic-fix-alter-column-42a87657992d1e78.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/0d71758a38d6d897f365974eb3697582537d085d', 'message': ""Fix use of legacy Alembic API\n\nThe `name` keyword argument for Operations.alter_column() has been\ndeprecated since version 0.8. It was finally removed in Alembic 1.5.0,\ncausing the following error during installation of Blazar:\n\nTypeError: alter_column() got multiple values for keyword argument 'name'\n\nChange-Id: I05541da4d87575f65d8e78f0fc54bd415328b9f2\nCloses-Bug: #1912502\n(cherry picked from commit b1841dc4b90d9127884379d4fe1cccf99c7a579c)\n""}]",0,771681,0d71758a38d6d897f365974eb3697582537d085d,9,2,2,15197,,,0,"Fix use of legacy Alembic API

The `name` keyword argument for Operations.alter_column() has been
deprecated since version 0.8. It was finally removed in Alembic 1.5.0,
causing the following error during installation of Blazar:

TypeError: alter_column() got multiple values for keyword argument 'name'

Change-Id: I05541da4d87575f65d8e78f0fc54bd415328b9f2
Closes-Bug: #1912502
(cherry picked from commit b1841dc4b90d9127884379d4fe1cccf99c7a579c)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/81/771681/2 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/db/migration/alembic_migrations/versions/2bcfe76b0474_change_tenant_to_project.py', 'releasenotes/notes/alembic-fix-alter-column-42a87657992d1e78.yaml']",2,3991d8089fa7960b950662044bb374f0be8d177d,bug/1912502-stable/ussuri,"--- fixes: - | Fixes database migrations with Alembic 1.5.0 or greater. For more details, see `bug 1912502 <https://bugs.launchpad.net/blazar/+bug/1912502>`_. ",,7,2
openstack%2Fpuppet-nova~master~I182f8bc6a6f3c820128c14da8da44743e3c70d6c,openstack/puppet-nova,master,I182f8bc6a6f3c820128c14da8da44743e3c70d6c,Add nova::glance::allowed_direct_url_schemes parameter,ABANDONED,2021-01-28 10:55:48.000000000,2021-01-28 12:31:46.000000000,,[],"[{'number': 1, 'created': '2021-01-28 10:55:48.000000000', 'files': ['manifests/glance.pp', 'spec/classes/nova_glance_spec.rb', 'releasenotes/notes/add-nova-glance-allowed_direct_url_schemes-f6f70671ab30bccc.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c320f54e8bad12433e352f45a041979db50940d0', 'message': 'Add nova::glance::allowed_direct_url_schemes parameter\n\nChange-Id: I182f8bc6a6f3c820128c14da8da44743e3c70d6c\n'}]",0,772852,c320f54e8bad12433e352f45a041979db50940d0,2,0,1,17216,,,0,"Add nova::glance::allowed_direct_url_schemes parameter

Change-Id: I182f8bc6a6f3c820128c14da8da44743e3c70d6c
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/52/772852/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/glance.pp', 'spec/classes/nova_glance_spec.rb', 'releasenotes/notes/add-nova-glance-allowed_direct_url_schemes-f6f70671ab30bccc.yaml']",3,c320f54e8bad12433e352f45a041979db50940d0,allowed_direct_url_schemes,--- features: - | Added parameter allowed_direct_url_schemes to nova::glance class. ,,37,24
openstack%2Fpuppet-nova~master~Ieaa29b51257f5ea3a5e4d6c678140fd9ae052d88,openstack/puppet-nova,master,Ieaa29b51257f5ea3a5e4d6c678140fd9ae052d88,Add parameter to configure the libvirt max_queues,MERGED,2021-01-18 14:37:42.000000000,2021-01-28 12:08:48.000000000,2021-01-28 12:07:07.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-01-18 14:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/eadb781959aafff4790f0bf2635b43f495484a32', 'message': 'Add parameter to configure the libvirt max_queues\n\nThe maximum number of virtio queue pairs that can be enabled when\ncreating a multiqueue guest. The number of virtio queues allocated\nwill be the lesser of the CPUs requested by the guest and the max\nvalue defined.\n\nChange-Id: Ieaa29b51257f5ea3a5e4d6c678140fd9ae052d88\n'}, {'number': 2, 'created': '2021-01-21 08:32:20.000000000', 'files': ['spec/classes/nova_compute_libvirt_spec.rb', 'releasenotes/notes/compute-libvirt-max_queues-97a35922dbacb0b1.yaml', 'manifests/compute/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8a6de56193a18678927b4584917246df6bb89b63', 'message': 'Add parameter to configure the libvirt max_queues\n\nThe maximum number of virtio queue pairs that can be enabled when\ncreating a multiqueue guest. The number of virtio queues allocated\nwill be the lesser of the CPUs requested by the guest and the max\nvalue defined.\n\nChange-Id: Ieaa29b51257f5ea3a5e4d6c678140fd9ae052d88\n'}]",2,771223,8a6de56193a18678927b4584917246df6bb89b63,42,8,2,17216,,,0,"Add parameter to configure the libvirt max_queues

The maximum number of virtio queue pairs that can be enabled when
creating a multiqueue guest. The number of virtio queues allocated
will be the lesser of the CPUs requested by the guest and the max
value defined.

Change-Id: Ieaa29b51257f5ea3a5e4d6c678140fd9ae052d88
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/23/771223/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/compute_libvirt_max_queues-97a35922dbacb0b1.yaml', 'spec/classes/nova_compute_libvirt_spec.rb', 'manifests/compute/libvirt.pp']",3,eadb781959aafff4790f0bf2635b43f495484a32,1917460,"# [*max_queues*] # (optional) # The maximum number of virtio queue pairs that can be enabled # when creating a multiqueue guest. The number of virtio queues allocated # will be the lesser of the CPUs requested by the guest and the max value # defined. By default, this value is set to none meaning the legacy limits # based on the reported kernel major version will be used. # Defaults to $::os_service_default # $max_queues = $::os_service_default, 'libvirt/max_queues': value => $max_queues;",,20,0
openstack%2Fpuppet-ceilometer~stable%2Fussuri~Ibadafdf86f5ce581c9084a5e00784eefa7d28cab,openstack/puppet-ceilometer,stable/ussuri,Ibadafdf86f5ce581c9084a5e00784eefa7d28cab,Remove transformers from pipeline.yaml,MERGED,2021-01-27 13:30:00.000000000,2021-01-28 12:05:11.000000000,2021-01-28 12:03:36.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 13:30:00.000000000', 'files': ['releasenotes/notes/bug-1912345-cd3db2d4c03bec17.yaml', 'templates/pipeline.yaml.erb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/ed9563b63fdc85f16b95f9daee311f26e21a391e', 'message': 'Remove transformers from pipeline.yaml\n\nThis change removes usage of transformers from pipeline.yaml because\nsupport of transofermer was already removed from ceilometer[1].\n\n[1] 9db5c6c9bfc66018aeb78c4a262e1bfa9b326798\n\nBackport note:\nThis backport patch includes the subsequent change[2] to fix the wrong\nfile mentioned in the release note file.\n\n[2] d27fbd3fed472a51670393a4a295ba6b16a35bea\n\nCloses-Bug: #1912345\nChange-Id: Ibadafdf86f5ce581c9084a5e00784eefa7d28cab\n(cherry picked from commit 5b8f5d0490f43f43a62cee9718c75290e30473cf)\n(cherry picked from commit 815d7033dbe6f5c3dde1128ce6aecc4048eb09cb)\n'}]",0,772664,ed9563b63fdc85f16b95f9daee311f26e21a391e,8,3,1,9816,,,0,"Remove transformers from pipeline.yaml

This change removes usage of transformers from pipeline.yaml because
support of transofermer was already removed from ceilometer[1].

[1] 9db5c6c9bfc66018aeb78c4a262e1bfa9b326798

Backport note:
This backport patch includes the subsequent change[2] to fix the wrong
file mentioned in the release note file.

[2] d27fbd3fed472a51670393a4a295ba6b16a35bea

Closes-Bug: #1912345
Change-Id: Ibadafdf86f5ce581c9084a5e00784eefa7d28cab
(cherry picked from commit 5b8f5d0490f43f43a62cee9718c75290e30473cf)
(cherry picked from commit 815d7033dbe6f5c3dde1128ce6aecc4048eb09cb)
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/64/772664/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1912345-cd3db2d4c03bec17.yaml', 'templates/pipeline.yaml.erb']",2,ed9563b63fdc85f16b95f9daee311f26e21a391e,bug/1912345-stable/victoria-stable/ussuri,," - name: cpu_source meters: - ""cpu"" sinks: - cpu_sink - cpu_delta_sink - name: disk_source meters: - ""disk.device.read.bytes"" - ""disk.device.read.requests"" - ""disk.device.write.bytes"" - ""disk.device.write.requests"" sinks: - disk_sink - name: network_source meters: - ""network.incoming.bytes"" - ""network.incoming.packets"" - ""network.outgoing.bytes"" - ""network.outgoing.packets"" sinks: - network_sink transformers: publishers: <% @pipeline_publishers.each do |publisher| -%> - <%= publisher %> <% end -%> - name: cpu_sink transformers: - name: ""rate_of_change"" parameters: target: name: ""cpu_util"" unit: ""%"" type: ""gauge"" scale: ""100.0 / (10**9 * (resource_metadata.cpu_number or 1))"" publishers: <% @pipeline_publishers.each do |publisher| -%> - <%= publisher %> <% end -%> - name: cpu_delta_sink transformers: - name: ""delta"" parameters: target: name: ""cpu.delta"" growth_only: True publishers: <% @pipeline_publishers.each do |publisher| -%> - <%= publisher %> <% end -%> - name: disk_sink transformers: - name: ""rate_of_change"" parameters: source: map_from: name: ""disk\\.device\\.(read|write)\\.(bytes|requests)"" unit: ""(B|request)"" target: map_to: name: ""disk.device.\\1.\\2.rate"" unit: ""\\1/s"" type: ""gauge"" publishers: <% @pipeline_publishers.each do |publisher| -%> - <%= publisher %> <% end -%> - name: network_sink transformers: - name: ""rate_of_change"" parameters: source: map_from: name: ""network\\.(incoming|outgoing)\\.(bytes|packets)"" unit: ""(B|packet)"" target: map_to: name: ""network.\\1.\\2.rate"" unit: ""\\1/s"" type: ""gauge""",6,81
openstack%2Fpuppet-ceilometer~stable%2Fvictoria~Ibadafdf86f5ce581c9084a5e00784eefa7d28cab,openstack/puppet-ceilometer,stable/victoria,Ibadafdf86f5ce581c9084a5e00784eefa7d28cab,Remove transformers from pipeline.yaml,MERGED,2021-01-27 08:26:31.000000000,2021-01-28 12:05:00.000000000,2021-01-28 12:03:31.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 08:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/4ca848743c036f97f8c5ce9e9e32a7c93892a844', 'message': 'Remove transformers from pipeline.yaml\n\nThis change removes usage of transformers from pipeline.yaml because\nsupport of transofermer was already removed from ceilometer[1].\n\n[1] 9db5c6c9bfc66018aeb78c4a262e1bfa9b326798\n\nChange-Id: Ibadafdf86f5ce581c9084a5e00784eefa7d28cab\n(cherry picked from commit 5b8f5d0490f43f43a62cee9718c75290e30473cf)\n'}, {'number': 2, 'created': '2021-01-27 08:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/c6971a490f32b19f7bc144f7294f69cfbb39e3d0', 'message': 'Remove transformers from pipeline.yaml\n\nThis change removes usage of transformers from pipeline.yaml because\nsupport of transofermer was already removed from ceilometer[1].\n\n[1] 9db5c6c9bfc66018aeb78c4a262e1bfa9b326798\n\nBackport note:\nThis backport patch includes the subsequent change[2] to fix the wrong\nfile mentioned in the release note file.\n\n[2] d27fbd3fed472a51670393a4a295ba6b16a35bea\n\nCloses-Bug: #1912345\nChange-Id: Ibadafdf86f5ce581c9084a5e00784eefa7d28cab\n(cherry picked from commit 5b8f5d0490f43f43a62cee9718c75290e30473cf)\n'}, {'number': 3, 'created': '2021-01-27 08:34:13.000000000', 'files': ['releasenotes/notes/bug-1912345-cd3db2d4c03bec17.yaml', 'templates/pipeline.yaml.erb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/815d7033dbe6f5c3dde1128ce6aecc4048eb09cb', 'message': 'Remove transformers from pipeline.yaml\n\nThis change removes usage of transformers from pipeline.yaml because\nsupport of transofermer was already removed from ceilometer[1].\n\n[1] 9db5c6c9bfc66018aeb78c4a262e1bfa9b326798\n\nBackport note:\nThis backport patch includes the subsequent change[2] to fix the wrong\nfile mentioned in the release note file.\n\n[2] d27fbd3fed472a51670393a4a295ba6b16a35bea\n\nCloses-Bug: #1912345\nChange-Id: Ibadafdf86f5ce581c9084a5e00784eefa7d28cab\n(cherry picked from commit 5b8f5d0490f43f43a62cee9718c75290e30473cf)\n'}]",0,772549,815d7033dbe6f5c3dde1128ce6aecc4048eb09cb,13,4,3,9816,,,0,"Remove transformers from pipeline.yaml

This change removes usage of transformers from pipeline.yaml because
support of transofermer was already removed from ceilometer[1].

[1] 9db5c6c9bfc66018aeb78c4a262e1bfa9b326798

Backport note:
This backport patch includes the subsequent change[2] to fix the wrong
file mentioned in the release note file.

[2] d27fbd3fed472a51670393a4a295ba6b16a35bea

Closes-Bug: #1912345
Change-Id: Ibadafdf86f5ce581c9084a5e00784eefa7d28cab
(cherry picked from commit 5b8f5d0490f43f43a62cee9718c75290e30473cf)
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/49/772549/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1912345-cd3db2d4c03bec17.yaml', 'templates/pipeline.yaml.erb']",2,4ca848743c036f97f8c5ce9e9e32a7c93892a844,bug/1912345-stable/victoria,," - name: cpu_source meters: - ""cpu"" sinks: - cpu_sink - cpu_delta_sink - name: disk_source meters: - ""disk.device.read.bytes"" - ""disk.device.read.requests"" - ""disk.device.write.bytes"" - ""disk.device.write.requests"" sinks: - disk_sink - name: network_source meters: - ""network.incoming.bytes"" - ""network.incoming.packets"" - ""network.outgoing.bytes"" - ""network.outgoing.packets"" sinks: - network_sink transformers: publishers: <% @pipeline_publishers.each do |publisher| -%> - <%= publisher %> <% end -%> - name: cpu_sink transformers: - name: ""rate_of_change"" parameters: target: name: ""cpu_util"" unit: ""%"" type: ""gauge"" scale: ""100.0 / (10**9 * (resource_metadata.cpu_number or 1))"" publishers: <% @pipeline_publishers.each do |publisher| -%> - <%= publisher %> <% end -%> - name: cpu_delta_sink transformers: - name: ""delta"" parameters: target: name: ""cpu.delta"" growth_only: True publishers: <% @pipeline_publishers.each do |publisher| -%> - <%= publisher %> <% end -%> - name: disk_sink transformers: - name: ""rate_of_change"" parameters: source: map_from: name: ""disk\\.device\\.(read|write)\\.(bytes|requests)"" unit: ""(B|request)"" target: map_to: name: ""disk.device.\\1.\\2.rate"" unit: ""\\1/s"" type: ""gauge"" publishers: <% @pipeline_publishers.each do |publisher| -%> - <%= publisher %> <% end -%> - name: network_sink transformers: - name: ""rate_of_change"" parameters: source: map_from: name: ""network\\.(incoming|outgoing)\\.(bytes|packets)"" unit: ""(B|packet)"" target: map_to: name: ""network.\\1.\\2.rate"" unit: ""\\1/s"" type: ""gauge""",6,81
openstack%2Fpuppet-gnocchi~stable%2Fvictoria~I1f45a77c75594e03ec2f014be5bf15872fc3ae89,openstack/puppet-gnocchi,stable/victoria,I1f45a77c75594e03ec2f014be5bf15872fc3ae89,swift_key should be secret,MERGED,2021-01-26 11:35:09.000000000,2021-01-28 11:48:41.000000000,2021-01-28 11:48:41.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-26 11:35:09.000000000', 'files': ['manifests/storage/swift.pp', 'spec/classes/gnocchi_storage_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/df82059cc15d7f92d53d35d0c1b33b1b42094f35', 'message': 'swift_key should be secret\n\nChange-Id: I1f45a77c75594e03ec2f014be5bf15872fc3ae89\n(cherry picked from commit 7cba6e450e7b580b4912218be43b3c0afd7e10d7)\n'}]",0,772408,df82059cc15d7f92d53d35d0c1b33b1b42094f35,7,3,1,9816,,,0,"swift_key should be secret

Change-Id: I1f45a77c75594e03ec2f014be5bf15872fc3ae89
(cherry picked from commit 7cba6e450e7b580b4912218be43b3c0afd7e10d7)
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/08/772408/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/storage/swift.pp', 'spec/classes/gnocchi_storage_swift_spec.rb']",2,df82059cc15d7f92d53d35d0c1b33b1b42094f35,swift_key-stable/victoria, is_expected.to contain_gnocchi_config('storage/swift_key').with_value('<SERVICE DEFAULT>').with_secret(true) is_expected.to contain_gnocchi_config('storage/swift_key').with_value('admin').with_secret(true), is_expected.to contain_gnocchi_config('storage/swift_key').with_value('<SERVICE DEFAULT>') is_expected.to contain_gnocchi_config('storage/swift_key').with_value('admin'),3,3
openstack%2Fsahara-dashboard~master~Ia5cd40f6bd457b7cb11efd638ef2df88dfb68b0f,openstack/sahara-dashboard,master,Ia5cd40f6bd457b7cb11efd638ef2df88dfb68b0f,fix the unicode problem,MERGED,2021-01-03 07:58:27.000000000,2021-01-28 11:33:58.000000000,2021-01-28 11:32:04.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-01-03 07:58:27.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/61a1129f9df8fa63a042ad0cccaf31317f2150e9', 'message': 'fix the unicode problem\n\nChange-Id: Ia5cd40f6bd457b7cb11efd638ef2df88dfb68b0f\n'}]",0,768994,61a1129f9df8fa63a042ad0cccaf31317f2150e9,8,3,1,27399,,,0,"fix the unicode problem

Change-Id: Ia5cd40f6bd457b7cb11efd638ef2df88dfb68b0f
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/94/768994/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,61a1129f9df8fa63a042ad0cccaf31317f2150e9,,"copyright = '2013, Sahara Developers' 'Sahara Dashboard Release Notes Documentation', 'Sahara Developers', 'manual'), 'Sahara Dashboard Release Notes Documentation', ['Sahara Developers'], 1) 'Sahara Dashboard Release Notes Documentation', 'Sahara Developers', 'SaharaDashboardReleaseNotes',","copyright = u'2013, Sahara Developers' u'Sahara Dashboard Release Notes Documentation', u'Sahara Developers', 'manual'), u'Sahara Dashboard Release Notes Documentation', [u'Sahara Developers'], 1) u'Sahara Dashboard Release Notes Documentation', u'Sahara Developers', 'SaharaDashboardReleaseNotes',",7,7
openstack%2Fsahara-dashboard~master~Ia264d45146df93b8c8602333dddd96f89483f15c,openstack/sahara-dashboard,master,Ia264d45146df93b8c8602333dddd96f89483f15c,Remove error links,MERGED,2021-01-03 08:18:45.000000000,2021-01-28 11:32:09.000000000,2021-01-28 11:32:09.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-03 08:18:45.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/98bf558d7782fc607b5be4f6d80a0a4e5b2892f8', 'message': 'Remove error links\n\nChange-Id: Ia264d45146df93b8c8602333dddd96f89483f15c\n'}]",0,769014,98bf558d7782fc607b5be4f6d80a0a4e5b2892f8,7,2,1,27399,,,0,"Remove error links

Change-Id: Ia264d45146df93b8c8602333dddd96f89483f15c
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/14/769014/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,98bf558d7782fc607b5be4f6d80a0a4e5b2892f8,,,Sahara at wiki.openstack.org: https://wiki.openstack.org/wiki/Sahara ,0,2
openstack%2Fironic-lib~stable%2Fvictoria~Ie9809b3e4fe2bea6b66ee95c442111942e85d618,openstack/ironic-lib,stable/victoria,Ie9809b3e4fe2bea6b66ee95c442111942e85d618,Handle EBRs and tiny partitions when removing metadata,MERGED,2021-01-27 13:36:26.000000000,2021-01-28 11:31:55.000000000,2021-01-28 11:29:37.000000000,"[{'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-01-27 13:36:26.000000000', 'files': ['releasenotes/notes/erase-tiny-partitions-c408a3a4afe60d44.yaml', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/0cd0660d2144b694d107e518419ea78357d9ce95', 'message': ""Handle EBRs and tiny partitions when removing metadata\n\nExtended boot records (EBRs) are used in the MSDOS partitioning\nscheme to manage extended partitions. EBRs are small partitions\nthemselves and Ironic will therefore treat them like any other\npartition during cleaning. Since EBRs are smaller than a GPT\n(33 sectors), dd'ing 33 sectors will fail. This patch proposes\na fix to handle EBRs (and other tiny paritions) by adjusting\nthe number of blocks writtent to be the partition size at max.\n\nStory: #2008539\nTask: #41628\nChange-Id: Ie9809b3e4fe2bea6b66ee95c442111942e85d618\n(cherry picked from commit 9a60d3853fc5b36cd3715e9419568cc9c51f5a8e)\n""}]",0,772666,0cd0660d2144b694d107e518419ea78357d9ce95,8,3,1,10239,,,0,"Handle EBRs and tiny partitions when removing metadata

Extended boot records (EBRs) are used in the MSDOS partitioning
scheme to manage extended partitions. EBRs are small partitions
themselves and Ironic will therefore treat them like any other
partition during cleaning. Since EBRs are smaller than a GPT
(33 sectors), dd'ing 33 sectors will fail. This patch proposes
a fix to handle EBRs (and other tiny paritions) by adjusting
the number of blocks writtent to be the partition size at max.

Story: #2008539
Task: #41628
Change-Id: Ie9809b3e4fe2bea6b66ee95c442111942e85d618
(cherry picked from commit 9a60d3853fc5b36cd3715e9419568cc9c51f5a8e)
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/66/772666/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/erase-tiny-partitions-c408a3a4afe60d44.yaml', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py']",3,0cd0660d2144b694d107e518419ea78357d9ce95,story_2008539-stable/victoria,"GPT_SIZE_SECTORS = 33 # Overwrite the Primary GPT, catch very small partitions (like EBRs) dd_count = 'count=%s' % GPT_SIZE_SECTORS dev_size = get_dev_block_size(dev) if dev_size < GPT_SIZE_SECTORS: dd_count = 'count=%s' % dev_size utils.execute('dd', 'bs=512', 'if=/dev/zero', dd_device, dd_count, # Overwrite the Secondary GPT, do this only if there could be one if dev_size > GPT_SIZE_SECTORS: gpt_backup = dev_size - GPT_SIZE_SECTORS dd_seek = 'seek=%i' % gpt_backup dd_count = 'count=%s' % GPT_SIZE_SECTORS utils.execute('dd', 'bs=512', 'if=/dev/zero', dd_device, dd_count, dd_seek, run_as_root=True, use_standard_locale=True) "," gpt_backup = get_dev_block_size(dev) - 33 dd_seek = 'seek=%i' % gpt_backup utils.execute('dd', 'bs=512', 'if=/dev/zero', dd_device, 'count=33', utils.execute('dd', 'bs=512', 'if=/dev/zero', dd_device, 'count=33', dd_seek, run_as_root=True, use_standard_locale=True)",76,5
openstack%2Fblazar~stable%2Fvictoria~I05541da4d87575f65d8e78f0fc54bd415328b9f2,openstack/blazar,stable/victoria,I05541da4d87575f65d8e78f0fc54bd415328b9f2,Fix use of legacy Alembic API,MERGED,2021-01-20 17:36:34.000000000,2021-01-28 11:20:53.000000000,2021-01-28 11:18:34.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-20 17:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/97bcb1b3817722b6030b06b74358ab08b1ea8d13', 'message': ""Fix use of legacy Alembic API\n\nThe `name` keyword argument for Operations.alter_column() has been\ndeprecated since version 0.8. It was finally removed in Alembic 1.5.0,\ncausing the following error during installation of Blazar:\n\nTypeError: alter_column() got multiple values for keyword argument 'name'\n\nChange-Id: I05541da4d87575f65d8e78f0fc54bd415328b9f2\nCloses-Bug: #1912502\n(cherry picked from commit b1841dc4b90d9127884379d4fe1cccf99c7a579c)\n""}, {'number': 2, 'created': '2021-01-28 08:54:08.000000000', 'files': ['blazar/db/migration/alembic_migrations/versions/2bcfe76b0474_change_tenant_to_project.py', 'releasenotes/notes/alembic-fix-alter-column-42a87657992d1e78.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/bfba27496c09565a621b891754c1a9a6f5fb8638', 'message': ""Fix use of legacy Alembic API\n\nThe `name` keyword argument for Operations.alter_column() has been\ndeprecated since version 0.8. It was finally removed in Alembic 1.5.0,\ncausing the following error during installation of Blazar:\n\nTypeError: alter_column() got multiple values for keyword argument 'name'\n\nChange-Id: I05541da4d87575f65d8e78f0fc54bd415328b9f2\nCloses-Bug: #1912502\n(cherry picked from commit b1841dc4b90d9127884379d4fe1cccf99c7a579c)\n""}]",0,771680,bfba27496c09565a621b891754c1a9a6f5fb8638,9,2,2,15197,,,0,"Fix use of legacy Alembic API

The `name` keyword argument for Operations.alter_column() has been
deprecated since version 0.8. It was finally removed in Alembic 1.5.0,
causing the following error during installation of Blazar:

TypeError: alter_column() got multiple values for keyword argument 'name'

Change-Id: I05541da4d87575f65d8e78f0fc54bd415328b9f2
Closes-Bug: #1912502
(cherry picked from commit b1841dc4b90d9127884379d4fe1cccf99c7a579c)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/80/771680/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/db/migration/alembic_migrations/versions/2bcfe76b0474_change_tenant_to_project.py', 'releasenotes/notes/alembic-fix-alter-column-42a87657992d1e78.yaml']",2,97bcb1b3817722b6030b06b74358ab08b1ea8d13,bug/1912502-stable/victoria,"--- fixes: - | Fixes database migrations with Alembic 1.5.0 or greater. For more details, see `bug 1912502 <https://bugs.launchpad.net/blazar/+bug/1912502>`_. ",,7,2
openstack%2Fneutron~stable%2Fstein~I964a3d843aeedef424a4466932bf702ea1b4320e,openstack/neutron,stable/stein,I964a3d843aeedef424a4466932bf702ea1b4320e,Improve DHCP agent's debug messages,MERGED,2021-01-24 09:58:24.000000000,2021-01-28 11:17:30.000000000,2021-01-28 11:14:02.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-24 09:58:24.000000000', 'files': ['neutron/agent/dhcp/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a466574999b44117630565ea940e4a95812e2e0a', 'message': 'Improve DHCP agent\'s debug messages\n\nWhen new port is created dhcp agent checks if IP addresses which are\nassigned to that port aren\'t already associated with different ports\nwhich are in agent\'s cache.\nWhen it finds such duplicate IPs, resync of the network is scheduled.\n\nThe problem is that debug message which informs about such duplicate\nIPs isn\'t very ""verbose"".\nWith this patch it will log new and cached port ids as well as ip\naddresses on both of those ports. That should make easier to understand\nwhy such duplicates are in the cache.\n\nThis patch also adds logging when methods like\n_{network|subnet|port}_{create|update|delete} are called and with what\narguments exactly. This should help investigation what exactly happens\nwith some specific port in the dhcp agent.\n\nRelated-bug: #1828423\n\nChange-Id: I964a3d843aeedef424a4466932bf702ea1b4320e\n(cherry picked from commit 9c2029c2c81fe32a41a39bf7e1265bf1d90f61ea)\n'}]",0,772107,a466574999b44117630565ea940e4a95812e2e0a,12,4,1,11975,,,0,"Improve DHCP agent's debug messages

When new port is created dhcp agent checks if IP addresses which are
assigned to that port aren't already associated with different ports
which are in agent's cache.
When it finds such duplicate IPs, resync of the network is scheduled.

The problem is that debug message which informs about such duplicate
IPs isn't very ""verbose"".
With this patch it will log new and cached port ids as well as ip
addresses on both of those ports. That should make easier to understand
why such duplicates are in the cache.

This patch also adds logging when methods like
_{network|subnet|port}_{create|update|delete} are called and with what
arguments exactly. This should help investigation what exactly happens
with some specific port in the dhcp agent.

Related-bug: #1828423

Change-Id: I964a3d843aeedef424a4466932bf702ea1b4320e
(cherry picked from commit 9c2029c2c81fe32a41a39bf7e1265bf1d90f61ea)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/772107/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/dhcp/agent.py'],1,a466574999b44117630565ea940e4a95812e2e0a,improve-dhcp-agent-debug-logs-stable/victoria-stable/ussuri-stable/train-stable/stein,"from oslo_log import helpers as log_helpers @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call LOG.info(""Trigger reload_allocations for port %s on network %s"", port, network) @log_helpers.log_method_call resync_reason = ( ""Duplicate IP addresses found, "" ""Port in cache: {cache_port_id}, "" ""Created port: {port_id}, "" ""IPs in cache: {cached_ips}, "" ""new IPs: {new_ips}."" ""DHCP cache is out of sync"").format( cache_port_id=port_cached['id'], port_id=created_port['id'], cached_ips=cached_ips, new_ips=new_ips) self.schedule_resync(resync_reason, created_port.network_id) @log_helpers.log_method_call"," LOG.info(""Trigger reload_allocations for port %s"", port) self.schedule_resync(""Duplicate IP addresses found, "" ""DHCP cache is out of sync"", created_port.network_id)",23,4
openstack%2Fneutron~stable%2Fqueens~I964a3d843aeedef424a4466932bf702ea1b4320e,openstack/neutron,stable/queens,I964a3d843aeedef424a4466932bf702ea1b4320e,Improve DHCP agent's debug messages,MERGED,2021-01-24 09:59:19.000000000,2021-01-28 11:14:32.000000000,2021-01-28 11:14:32.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-24 09:59:19.000000000', 'files': ['neutron/agent/dhcp/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aed188c349794849105c034ffbabf3053d2fcb32', 'message': 'Improve DHCP agent\'s debug messages\n\nWhen new port is created dhcp agent checks if IP addresses which are\nassigned to that port aren\'t already associated with different ports\nwhich are in agent\'s cache.\nWhen it finds such duplicate IPs, resync of the network is scheduled.\n\nThe problem is that debug message which informs about such duplicate\nIPs isn\'t very ""verbose"".\nWith this patch it will log new and cached port ids as well as ip\naddresses on both of those ports. That should make easier to understand\nwhy such duplicates are in the cache.\n\nThis patch also adds logging when methods like\n_{network|subnet|port}_{create|update|delete} are called and with what\narguments exactly. This should help investigation what exactly happens\nwith some specific port in the dhcp agent.\n\nRelated-bug: #1828423\n\nChange-Id: I964a3d843aeedef424a4466932bf702ea1b4320e\n(cherry picked from commit 9c2029c2c81fe32a41a39bf7e1265bf1d90f61ea)\n'}]",0,772109,aed188c349794849105c034ffbabf3053d2fcb32,11,4,1,11975,,,0,"Improve DHCP agent's debug messages

When new port is created dhcp agent checks if IP addresses which are
assigned to that port aren't already associated with different ports
which are in agent's cache.
When it finds such duplicate IPs, resync of the network is scheduled.

The problem is that debug message which informs about such duplicate
IPs isn't very ""verbose"".
With this patch it will log new and cached port ids as well as ip
addresses on both of those ports. That should make easier to understand
why such duplicates are in the cache.

This patch also adds logging when methods like
_{network|subnet|port}_{create|update|delete} are called and with what
arguments exactly. This should help investigation what exactly happens
with some specific port in the dhcp agent.

Related-bug: #1828423

Change-Id: I964a3d843aeedef424a4466932bf702ea1b4320e
(cherry picked from commit 9c2029c2c81fe32a41a39bf7e1265bf1d90f61ea)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/772109/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/dhcp/agent.py'],1,aed188c349794849105c034ffbabf3053d2fcb32,improve-dhcp-agent-debug-logs-stable/victoria-stable/ussuri-stable/train-stable/stein-stable/rocky-stable/queens,"from oslo_log import helpers as log_helpers @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call @log_helpers.log_method_call LOG.info(""Trigger reload_allocations for port %s on network %s"", port, network) @log_helpers.log_method_call resync_reason = ( ""Duplicate IP addresses found, "" ""Port in cache: {cache_port_id}, "" ""Created port: {port_id}, "" ""IPs in cache: {cached_ips}, "" ""new IPs: {new_ips}."" ""DHCP cache is out of sync"").format( cache_port_id=port_cached['id'], port_id=created_port['id'], cached_ips=cached_ips, new_ips=new_ips) self.schedule_resync(resync_reason, created_port.network_id) @log_helpers.log_method_call"," LOG.info(""Trigger reload_allocations for port %s"", port) self.schedule_resync(""Duplicate IP addresses found, "" ""DHCP cache is out of sync"", created_port.network_id)",23,4
