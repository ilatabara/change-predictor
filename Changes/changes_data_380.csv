id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fpython-troveclient~master~Ib2b1297f75a245dbd2209f958a89a510bc62965c,openstack/python-troveclient,master,Ib2b1297f75a245dbd2209f958a89a510bc62965c,Dropping the py35 testing,MERGED,2019-04-15 02:03:37.000000000,2019-06-07 23:25:06.000000000,2019-06-07 23:25:05.000000000,"[{'_account_id': 6732}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 02:03:37.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/489321ad86a5f21f7041545d6cf9c3d5d7a2f130', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ib2b1297f75a245dbd2209f958a89a510bc62965c\n'}]",0,652485,489321ad86a5f21f7041545d6cf9c3d5d7a2f130,9,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Ib2b1297f75a245dbd2209f958a89a510bc62965c
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/85/652485/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,489321ad86a5f21f7041545d6cf9c3d5d7a2f130,dropping-py35-testing,"envlist = py36,py27,pypy,pep8","envlist = py36,py35,py27,pypy,pep8[testenv:debug-py35] basepython = python3.5 commands = oslo_debug_helper -t troveclient/tests {posargs} ",1,7
openstack%2Ftrove~master~I108203915ef79ef93bbfbb15acdb7480854878e0,openstack/trove,master,I108203915ef79ef93bbfbb15acdb7480854878e0,Remove the trove-tox-apiexamples CI job,MERGED,2019-06-06 04:06:56.000000000,2019-06-07 23:25:05.000000000,2019-06-07 23:25:05.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 04:06:56.000000000', 'files': ['integration/tests/examples/setup.py', 'integration/tests/examples/examples/client.py', 'integration/tests/examples/example_gen.sh', 'integration/tests/examples/examples/example_generation.py', 'integration/tests/examples/local.conf', '.zuul.yaml', 'integration/tests/examples/README', 'integration/scripts/trovestack', 'integration/tests/examples/examples/local.conf', 'integration/tests/examples/tox.ini', 'integration/tests/examples/gendoc.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/trove/commit/37e8dedac27a4567c02c78c4fb7d45b1d50e717c', 'message': 'Remove the trove-tox-apiexamples CI job\n\n- The job relies on python-troveclient, sometimes python-troveclient\n  only changes the URL sending to Trove but neither request nor\n  response.\n- The job is hard to maintain, especially when there are changes\n  relating the API. The recommended way is to manually update the API\n  doc and add tests in trove-tox-fakemodetests job.\n- Remove that trovestack subcommand as well.\n\nChange-Id: I108203915ef79ef93bbfbb15acdb7480854878e0\n'}]",0,663493,37e8dedac27a4567c02c78c4fb7d45b1d50e717c,12,2,1,6732,,,0,"Remove the trove-tox-apiexamples CI job

- The job relies on python-troveclient, sometimes python-troveclient
  only changes the URL sending to Trove but neither request nor
  response.
- The job is hard to maintain, especially when there are changes
  relating the API. The recommended way is to manually update the API
  doc and add tests in trove-tox-fakemodetests job.
- Remove that trovestack subcommand as well.

Change-Id: I108203915ef79ef93bbfbb15acdb7480854878e0
",git fetch https://review.opendev.org/openstack/trove refs/changes/93/663493/1 && git format-patch -1 --stdout FETCH_HEAD,"['integration/tests/examples/setup.py', 'integration/tests/examples/examples/client.py', 'integration/tests/examples/example_gen.sh', 'integration/tests/examples/examples/example_generation.py', 'integration/tests/examples/local.conf', '.zuul.yaml', 'integration/tests/examples/README', 'integration/scripts/trovestack', 'integration/tests/examples/examples/local.conf', 'integration/tests/examples/tox.ini', 'integration/tests/examples/gendoc.sh', 'tox.ini']",12,37e8dedac27a4567c02c78c4fb7d45b1d50e717c,remove-trove-tox-apiexamples,"envlist = py27,py36,py37,pep8,cover,api-ref,releasenotes,bandit,fakemodetests,pylint","envlist = py27,py36,py37,pep8,apiexamples,cover,api-ref,releasenotes,bandit,fakemodetests,pylint[testenv:apiexamples] basepython = python3 commands = {envpython} generate_examples.py ",1,1415
openstack%2Fpuppet-glance~stable%2Fstein~I0d892663dd9aee86f56348175fd31016a17fabf5,openstack/puppet-glance,stable/stein,I0d892663dd9aee86f56348175fd31016a17fabf5,Add configuration options for the image cache,MERGED,2019-06-04 14:26:00.000000000,2019-06-07 23:15:17.000000000,2019-06-07 23:15:17.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 14:26:00.000000000', 'files': ['releasenotes/notes/add_image_cache_settings-cd6c9176167010ba.yaml', 'manifests/api.pp', 'spec/classes/glance_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/fb15d58effb8187a3a0c21364544ad0bf709a836', 'message': 'Add configuration options for the image cache\n\nThe Glance cache uses two conf files:\n1. glance-api.conf is for the server and\n2. glance-cache.conf is for the utilities.\n\nThe following options are already in both configuration files but\nthese need the same values otherwise the cache will potentially run\ninto problems,\n\n - image_cache_dir\n - image_cache_max_size\n - image_cache_stall_time\n\nEnabling above parameters in both conf files wherever they are missing.\n\nPartial-Implements: blueprint split-controlplane-glance-cache\nChange-Id: I0d892663dd9aee86f56348175fd31016a17fabf5\n(cherry picked from commit c8ce009bcdaa9072bce772e8852c9bf876237a77)\n'}]",0,663048,fb15d58effb8187a3a0c21364544ad0bf709a836,14,5,1,21129,,,0,"Add configuration options for the image cache

The Glance cache uses two conf files:
1. glance-api.conf is for the server and
2. glance-cache.conf is for the utilities.

The following options are already in both configuration files but
these need the same values otherwise the cache will potentially run
into problems,

 - image_cache_dir
 - image_cache_max_size
 - image_cache_stall_time

Enabling above parameters in both conf files wherever they are missing.

Partial-Implements: blueprint split-controlplane-glance-cache
Change-Id: I0d892663dd9aee86f56348175fd31016a17fabf5
(cherry picked from commit c8ce009bcdaa9072bce772e8852c9bf876237a77)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/48/663048/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_image_cache_settings-cd6c9176167010ba.yaml', 'manifests/api.pp', 'spec/classes/glance_api_spec.rb']",3,fb15d58effb8187a3a0c21364544ad0bf709a836,bp/split-controlplane-glance-cache-stable/stein," 'image_cache_stall_time', 'image_cache_max_size', 'image_cache_dir',",,12,0
openstack%2Fneutron~stable%2Focata~I246c1f56df889bad9c7e140b56c3614124d80a19,openstack/neutron,stable/ocata,I246c1f56df889bad9c7e140b56c3614124d80a19,Packets getting lost during SNAT with too many connections,MERGED,2019-04-25 21:33:10.000000000,2019-06-07 23:14:04.000000000,2019-06-07 23:14:04.000000000,"[{'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-25 21:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/944e8b529a2720b1035f7f7d82f1adf758ee67a6', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}, {'number': 2, 'created': '2019-04-26 21:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c617f90c5a1dbd8e9fa8ef1891cdb4cd4896e5c4', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}, {'number': 3, 'created': '2019-05-07 17:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b033a2608a6b9ce90bd825904d19c4b85bc3a5cc', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}, {'number': 4, 'created': '2019-05-07 22:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cba20e11cf1d56ba0f1958eff00a049f26471a4f', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}, {'number': 5, 'created': '2019-05-29 18:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1965eb1ce76f8d7771551ce85101ca4f5f49232', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}, {'number': 6, 'created': '2019-06-04 23:25:12.000000000', 'files': ['neutron/common/constants.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/iptables_manager.py', 'neutron/common/utils.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce628a123769f93fc0c1b2edbe20ec5325aab0f6', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nConflicts:\n    neutron/agent/l3/dvr_edge_router.py\n    neutron/agent/linux/iptables_manager.py\n    neutron/common/constants.py\n    neutron/tests/unit/agent/l3/test_agent.py\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}]",0,655801,ce628a123769f93fc0c1b2edbe20ec5325aab0f6,45,6,6,7016,,,0,"Packets getting lost during SNAT with too many connections

We have a problem with SNAT with too many connections using the
same source and destination on the network nodes.

In addition we can see in the conntrack table that the who
""instert_failed"" increases.

This might be a generic problem with conntrack and linux.
We suspect that we encounter the following ""limitation / bug""
in the kernel.

There seems to be a workaround to alleviate this behavior by
setting the -random-fully flag in iptables for port consumption.

This patch fixes the problem by adding the --random-fully to
the SNAT rules.

Conflicts:
    neutron/agent/l3/dvr_edge_router.py
    neutron/agent/linux/iptables_manager.py
    neutron/common/constants.py
    neutron/tests/unit/agent/l3/test_agent.py

Change-Id: I246c1f56df889bad9c7e140b56c3614124d80a19
Closes-Bug: #1814002
(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/655801/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/constants.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/iptables_manager.py', 'neutron/common/utils.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/unit/common/test_utils.py']",8,944e8b529a2720b1035f7f7d82f1adf758ee67a6,bug/1814002,"class TestIsVersionGreaterEqual(base.BaseTestCase): def test_is_version_greater_equal_greater(self): self.assertTrue(utils.is_version_greater_equal('1.6.2', '1.6.0')) def test_is_version_greater_equal_equal(self): self.assertTrue(utils.is_version_greater_equal('1.6.2', '1.6.2')) def test_is_version_greater_equal_less(self): self.assertFalse(utils.is_version_greater_equal('1.6.0', '1.6.2')) ",,173,26
openstack%2Fneutron~stable%2Fpike~Ida6b7ae53f3fc76f54e389c5f7131b5a66f533ce,openstack/neutron,stable/pike,Ida6b7ae53f3fc76f54e389c5f7131b5a66f533ce,[DVR] Block ARP to dvr router's port instead of subnet's gateway,MERGED,2019-06-04 23:16:40.000000000,2019-06-07 23:14:01.000000000,2019-06-07 23:14:00.000000000,"[{'_account_id': 1131}, {'_account_id': 7016}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-04 23:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/de75e51b52559bca987c1a94fd59a5de6959d028', 'message': ""[DVR] Block ARP to dvr router's port instead of subnet's gateway\n\nIt may happen that subnet is connected to dvr router using IP address\ndifferent than subnet's gateway_ip.\nSo in br-tun arp to dvr router's port should be dropped instead of\ndropping arp to subnet's gateway_ip (or mac in case of IPv6).\n\nConflicts:\n        neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py\n\nChange-Id: Ida6b7ae53f3fc76f54e389c5f7131b5a66f533ce\nCloses-bug: #1831575\n(cherry picked from commit ae3aa28f5a4749b4e4cb3f0ae0d009c0734db405)\n""}, {'number': 2, 'created': '2019-06-06 07:08:49.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/151c6a030a99dc49b59df803cd4a78f8abe00907', 'message': ""[DVR] Block ARP to dvr router's port instead of subnet's gateway\n\nIt may happen that subnet is connected to dvr router using IP address\ndifferent than subnet's gateway_ip.\nSo in br-tun arp to dvr router's port should be dropped instead of\ndropping arp to subnet's gateway_ip (or mac in case of IPv6).\n\nConflicts:\n        neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py\n\nChange-Id: Ida6b7ae53f3fc76f54e389c5f7131b5a66f533ce\nCloses-bug: #1831575\n(cherry picked from commit ae3aa28f5a4749b4e4cb3f0ae0d009c0734db405)\n""}]",0,663161,151c6a030a99dc49b59df803cd4a78f8abe00907,22,7,2,7016,,,0,"[DVR] Block ARP to dvr router's port instead of subnet's gateway

It may happen that subnet is connected to dvr router using IP address
different than subnet's gateway_ip.
So in br-tun arp to dvr router's port should be dropped instead of
dropping arp to subnet's gateway_ip (or mac in case of IPv6).

Conflicts:
        neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py

Change-Id: Ida6b7ae53f3fc76f54e389c5f7131b5a66f533ce
Closes-bug: #1831575
(cherry picked from commit ae3aa28f5a4749b4e4cb3f0ae0d009c0734db405)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/663161/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,de75e51b52559bca987c1a94fd59a5de6959d028,bug/1831575-stable/queens-stable/pike," gateway_ip): gateway_mac=port.vif_mac), gateway_ip = '1.1.1.10' self._port.vif_mac = 'aa:bb:cc:11:22:33' gateway_mac = 'aa:bb:cc:66:66:66' gateway_ip=self._fixed_ips[0]['ip_address']) gateway_ip=gateway_ip) gateway_ip=gateway_ip) gateway_ip=gateway_ip)"," gateway_ip, gateway_mac): gateway_mac=gateway_mac), gateway_ip = '1.1.1.1' self._port.vif_mac = gateway_mac = 'aa:bb:cc:11:22:33' gateway_ip=gateway_ip, gateway_mac=gateway_mac) gateway_ip=gateway_ip, gateway_mac=gateway_mac) gateway_ip=gateway_ip, gateway_mac=gateway_mac) gateway_ip=gateway_ip, gateway_mac=gateway_mac)",12,16
openstack%2Fopenstack-ansible-tests~stable%2Fqueens~Ie5dae335c12e178928186637b7b73f97c6a694ab,openstack/openstack-ansible-tests,stable/queens,Ie5dae335c12e178928186637b7b73f97c6a694ab,sync: use proposal-bot + gerrit ssh API to pull projects,MERGED,2019-06-06 13:34:04.000000000,2019-06-07 23:13:37.000000000,2019-06-07 23:13:37.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-06 13:34:04.000000000', 'files': ['gen-projects-list.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/644edf49b2ac95f98a36019fab95c9bcabcd7b9b', 'message': 'sync: use proposal-bot + gerrit ssh API to pull projects\n\nWith the transition to OpenDev, we cannot rely on the old URLs\nand this is a much cleaner solution that leverages the proposa-bot\nuser to get all the information we need.\n\nChange-Id: Ie5dae335c12e178928186637b7b73f97c6a694ab\n(cherry picked from commit 0f4872e8232063c1758f38834d1b99cfc4ac9c4e)\n(cherry picked from commit 17a4ca8d839cee1f4224a345b3475641b89ed35c)\n'}]",0,663659,644edf49b2ac95f98a36019fab95c9bcabcd7b9b,15,4,1,1004,,,0,"sync: use proposal-bot + gerrit ssh API to pull projects

With the transition to OpenDev, we cannot rely on the old URLs
and this is a much cleaner solution that leverages the proposa-bot
user to get all the information we need.

Change-Id: Ie5dae335c12e178928186637b7b73f97c6a694ab
(cherry picked from commit 0f4872e8232063c1758f38834d1b99cfc4ac9c4e)
(cherry picked from commit 17a4ca8d839cee1f4224a345b3475641b89ed35c)
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/59/663659/1 && git format-patch -1 --stdout FETCH_HEAD,['gen-projects-list.sh'],1,644edf49b2ac95f98a36019fab95c9bcabcd7b9b,osa/opendev,ssh -p 29418 proposal-bot@review.opendev.org gerrit ls-projects --prefix openstack/openstack-ansible- | \,"curl --retry 10 -s --fail http://git.openstack.org/cgit | grep -o \ ""openstack/openstack-ansible-[[:alnum:]_-]*"" | \",1,2
openstack%2Fopenstack-helm-infra~master~Iaf9af3ffcf1f4940c1b661a853df0ec4edd99d39,openstack/openstack-helm-infra,master,Iaf9af3ffcf1f4940c1b661a853df0ec4edd99d39,[ceph-client] update dependncy for test pod,MERGED,2019-06-06 21:53:29.000000000,2019-06-07 23:13:04.000000000,2019-06-07 23:13:04.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-06-06 21:53:29.000000000', 'files': ['ceph-client/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9e653096e18c1b2bf096c1610cfe0915b576da50', 'message': '[ceph-client] update dependncy for test pod\n\nThis is to update test pod dependency  since its getting started\nright after mgr service availbe and mgr pods are in init state and\nwaiting for rbd-pool job.\n\nChange-Id: Iaf9af3ffcf1f4940c1b661a853df0ec4edd99d39\n'}]",0,663781,9e653096e18c1b2bf096c1610cfe0915b576da50,20,5,1,28372,,,0,"[ceph-client] update dependncy for test pod

This is to update test pod dependency  since its getting started
right after mgr service availbe and mgr pods are in init state and
waiting for rbd-pool job.

Change-Id: Iaf9af3ffcf1f4940c1b661a853df0ec4edd99d39
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/81/663781/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/values.yaml'],1,9e653096e18c1b2bf096c1610cfe0915b576da50,, jobs: - ceph-rbd-pool - ceph-mgr-keyring-generator,,3,0
openstack%2Fpbr~master~I5dc34e63f94ebf9c19ffb5caeeea24581eca658f,openstack/pbr,master,I5dc34e63f94ebf9c19ffb5caeeea24581eca658f,Switch to release.o.o for constraints,MERGED,2019-06-07 16:05:30.000000000,2019-06-07 23:06:31.000000000,2019-06-07 23:06:31.000000000,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 16:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/d63ccc8b93e76e6b8e27c25f9b4d4ae659e82369', 'message': 'Switch to release.o.o for constraints\n\nThis is the preferred location to get constraints now.\n\nChange-Id: I5dc34e63f94ebf9c19ffb5caeeea24581eca658f\n'}, {'number': 2, 'created': '2019-06-07 16:17:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/pbr/commit/e8e9da3d90d29aec71802f61c5270c3e5cf7cc90', 'message': 'Switch to release.o.o for constraints\n\nThis is the preferred location to get constraints now.\n\nChange-Id: I5dc34e63f94ebf9c19ffb5caeeea24581eca658f\n'}]",0,663988,e8e9da3d90d29aec71802f61c5270c3e5cf7cc90,10,3,2,6928,,,0,"Switch to release.o.o for constraints

This is the preferred location to get constraints now.

Change-Id: I5dc34e63f94ebf9c19ffb5caeeea24581eca658f
",git fetch https://review.opendev.org/openstack/pbr refs/changes/88/663988/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d63ccc8b93e76e6b8e27c25f9b4d4ae659e82369,wsgi-localhost, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},3,3
openstack%2Fpbr~master~I48438eb31ee9dd102f06e30b13c6d892a93aba3b,openstack/pbr,master,I48438eb31ee9dd102f06e30b13c6d892a93aba3b,Make WSGI tests listen on localhost,MERGED,2019-06-06 20:11:29.000000000,2019-06-07 22:53:31.000000000,2019-06-07 22:53:31.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 20:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/ab2b3391bd72a754143059576f5e0fa631678b51', 'message': ""Make WSGI tests listen on localhost\n\nCurrently we rely on the wsgi server to choose its own bind address,\nwhich tends to result in it listening on a DNS name. This means we\nhave a dependency on that name resolving as expected on the node,\nwhich seems to not always be the case.\n\nIn the interest of removing that environment dependency, let's have\nthe wsgi tests explicitly listen on 127.0.0.1, which should always\nwork and still allows us to verify our part of the WSGI functionality.\n\nChange-Id: I48438eb31ee9dd102f06e30b13c6d892a93aba3b\nCloses-Bug: 1830962\n""}, {'number': 2, 'created': '2019-06-07 16:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/df94b2d2ff93f3f59d2f13b8f01280100dfea9f5', 'message': ""Make WSGI tests listen on localhost\n\nCurrently we rely on the wsgi server to choose its own bind address,\nwhich tends to result in it listening on a DNS name. This means we\nhave a dependency on that name resolving as expected on the node,\nwhich seems to not always be the case.\n\nIn the interest of removing that environment dependency, let's have\nthe wsgi tests explicitly listen on 127.0.0.1, which should always\nwork and still allows us to verify our part of the WSGI functionality.\n\nThis also includes a fix to use constraints for building docs because\nthat is also blocking ci on this repo. We need both of these changes\nfor anything to merge without endless rechecks.\n\nChange-Id: I48438eb31ee9dd102f06e30b13c6d892a93aba3b\nCloses-Bug: 1830962\n""}, {'number': 3, 'created': '2019-06-07 16:17:21.000000000', 'files': ['pbr/tests/test_wsgi.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/pbr/commit/ab3db59c5aeac13f3998de09a2629e9fa52ec908', 'message': ""Make WSGI tests listen on localhost\n\nCurrently we rely on the wsgi server to choose its own bind address,\nwhich tends to result in it listening on a DNS name. This means we\nhave a dependency on that name resolving as expected on the node,\nwhich seems to not always be the case.\n\nIn the interest of removing that environment dependency, let's have\nthe wsgi tests explicitly listen on 127.0.0.1, which should always\nwork and still allows us to verify our part of the WSGI functionality.\n\nThis also includes a fix to use constraints for building docs because\nthat is also blocking ci on this repo. We need both of these changes\nfor anything to merge without endless rechecks.\n\nChange-Id: I48438eb31ee9dd102f06e30b13c6d892a93aba3b\nCloses-Bug: 1830962\n""}]",0,663758,ab3db59c5aeac13f3998de09a2629e9fa52ec908,13,4,3,6928,,,0,"Make WSGI tests listen on localhost

Currently we rely on the wsgi server to choose its own bind address,
which tends to result in it listening on a DNS name. This means we
have a dependency on that name resolving as expected on the node,
which seems to not always be the case.

In the interest of removing that environment dependency, let's have
the wsgi tests explicitly listen on 127.0.0.1, which should always
work and still allows us to verify our part of the WSGI functionality.

This also includes a fix to use constraints for building docs because
that is also blocking ci on this repo. We need both of these changes
for anything to merge without endless rechecks.

Change-Id: I48438eb31ee9dd102f06e30b13c6d892a93aba3b
Closes-Bug: 1830962
",git fetch https://review.opendev.org/openstack/pbr refs/changes/58/663758/3 && git format-patch -1 --stdout FETCH_HEAD,['pbr/tests/test_wsgi.py'],1,ab2b3391bd72a754143059576f5e0fa631678b51,wsgi-localhost," print(""Running %s -p 0 -b 127.0.0.1"" % cmd) popen_cmd = [cmd, '-p', '0', '-b', '127.0.0.1']"," print(""Running %s -p 0"" % cmd) popen_cmd = [cmd, '-p', '0']",2,2
openstack%2Foctavia-lib~master~Ie1e2532f3aa9dca542ddeee120002e11d0f9f0b1,openstack/octavia-lib,master,Ie1e2532f3aa9dca542ddeee120002e11d0f9f0b1,Add 'additional_vips' field to driver datamodel,MERGED,2019-05-21 01:13:32.000000000,2019-06-07 22:39:37.000000000,2019-06-07 22:39:37.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 30402}]","[{'number': 1, 'created': '2019-05-21 01:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/8c829b48a6e338e918ce652073d73ad5e3add1fd', 'message': ""Add 'additional_vips' field to driver datamodel\n\nChange-Id: Ie1e2532f3aa9dca542ddeee120002e11d0f9f0b1\n""}, {'number': 2, 'created': '2019-06-07 11:07:37.000000000', 'files': ['.gitignore', 'octavia_lib/tests/unit/api/drivers/test_data_models.py', 'releasenotes/notes/add-additional-vip-support-becdb29c5187b514.yaml', 'octavia_lib/api/drivers/data_models.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/7c9cb9dcb9afad092fef9bdcf527a12fdc121695', 'message': ""Add 'additional_vips' field to driver datamodel\n\nStory: 2005608\nTask: 33612\nChange-Id: Ie1e2532f3aa9dca542ddeee120002e11d0f9f0b1\n""}]",0,660238,7c9cb9dcb9afad092fef9bdcf527a12fdc121695,13,5,2,10273,,,0,"Add 'additional_vips' field to driver datamodel

Story: 2005608
Task: 33612
Change-Id: Ie1e2532f3aa9dca542ddeee120002e11d0f9f0b1
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/38/660238/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_lib/tests/unit/api/drivers/test_data_models.py', 'octavia_lib/api/drivers/data_models.py']",2,8c829b48a6e338e918ce652073d73ad5e3add1fd,," vip_qos_policy_id=Unset, additional_vips=Unset): self.additional_vips = additional_vips", vip_qos_policy_id=Unset):,4,1
openstack%2Fopenstack-ansible-os_neutron~stable%2Frocky~I1c2516fb2c95a8253271eaf626ccc923b2ee0846,openstack/openstack-ansible-os_neutron,stable/rocky,I1c2516fb2c95a8253271eaf626ccc923b2ee0846,Make venv download configurable,MERGED,2019-06-06 15:23:29.000000000,2019-06-07 22:32:00.000000000,2019-06-07 22:32:00.000000000,"[{'_account_id': 1004}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-06 15:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/58e787e941d3680101b9fc11f6e5994b0b7060b4', 'message': 'Make venv download configurable\n\nThe neutron venv download configuration is set in vars/ instead of\ndefaults/ which is completely inconsistent from the nova role. This\nimplementation is suboptimal because it disallows configuration of\nthe venv download flag in group vars.\n\nThis update will make the neutron venv download vars consistent\nwith the nova configuration.\n\nChange-Id: I1c2516fb2c95a8253271eaf626ccc923b2ee0846\n'}, {'number': 2, 'created': '2019-06-06 15:28:02.000000000', 'files': ['vars/source_install.yml', 'vars/distro_install.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/f135d659b6661546d41e90420b6116e265c53b7c', 'message': 'Make venv download configurable\n\nThe neutron venv download configuration is set in vars/ instead of\ndefaults/ which is completely inconsistent from the nova role. This\nimplementation is suboptimal because it disallows configuration of\nthe venv download flag in group vars.\n\nThis update will make the neutron venv download vars consistent\nwith the nova configuration.\n\nChange-Id: I1c2516fb2c95a8253271eaf626ccc923b2ee0846\n'}]",0,663699,f135d659b6661546d41e90420b6116e265c53b7c,13,4,2,17799,,,0,"Make venv download configurable

The neutron venv download configuration is set in vars/ instead of
defaults/ which is completely inconsistent from the nova role. This
implementation is suboptimal because it disallows configuration of
the venv download flag in group vars.

This update will make the neutron venv download vars consistent
with the nova configuration.

Change-Id: I1c2516fb2c95a8253271eaf626ccc923b2ee0846
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/99/663699/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/source_install.yml', 'defaults/main.yml']",2,58e787e941d3680101b9fc11f6e5994b0b7060b4,,"neutron_bin: ""{{ _neutron_bin }}""neutron_venv_download: ""{{ not neutron_developer_mode | bool }}""",,3,3
openstack%2Fkolla-ansible~master~I508bf16a54dcadac4b5cba03e184b4f620a2b395,openstack/kolla-ansible,master,I508bf16a54dcadac4b5cba03e184b4f620a2b395,fluentd: Configure td-agent only for x86_64,MERGED,2019-02-22 17:16:07.000000000,2019-06-07 22:30:43.000000000,2019-06-07 22:30:43.000000000,"[{'_account_id': 16363}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-02-22 17:16:07.000000000', 'files': ['ansible/roles/common/templates/conf/input/02-mariadb.conf.j2', 'ansible/roles/common/templates/conf/input/04-openstack-wsgi.conf.j2', 'ansible/roles/common/templates/conf/input/08-opendaylight.conf.j2', 'ansible/roles/common/templates/fluentd.json.j2', 'ansible/roles/common/templates/conf/input/03-rabbitmq.conf.j2', 'ansible/roles/common/templates/conf/input/06-zookeeper.conf.j2', 'ansible/roles/common/templates/conf/input/05-libvirt.conf.j2', 'ansible/roles/common/templates/conf/input/00-global.conf.j2', 'ansible/roles/common/templates/conf/input/07-kafka.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/42926a03afbe0f811d20e8717c6918728adb199e', 'message': 'fluentd: Configure td-agent only for x86_64\n\nFor other architectures, fluentd is not installed using the\ntd-agent package.\n\nChange-Id: I508bf16a54dcadac4b5cba03e184b4f620a2b395\nDepends-On: https://review.openstack.org/638692\n'}]",0,638722,42926a03afbe0f811d20e8717c6918728adb199e,13,7,1,16363,,,0,"fluentd: Configure td-agent only for x86_64

For other architectures, fluentd is not installed using the
td-agent package.

Change-Id: I508bf16a54dcadac4b5cba03e184b4f620a2b395
Depends-On: https://review.openstack.org/638692
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/638722/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/input/02-mariadb.conf.j2', 'ansible/roles/common/templates/conf/input/04-openstack-wsgi.conf.j2', 'ansible/roles/common/templates/conf/input/08-opendaylight.conf.j2', 'ansible/roles/common/templates/conf/input/03-rabbitmq.conf.j2', 'ansible/roles/common/templates/conf/input/06-zookeeper.conf.j2', 'ansible/roles/common/templates/fluentd.json.j2', 'ansible/roles/common/templates/conf/input/05-libvirt.conf.j2', 'ansible/roles/common/templates/conf/input/00-global.conf.j2', 'ansible/roles/common/templates/conf/input/07-kafka.conf.j2']",9,42926a03afbe0f811d20e8717c6918728adb199e,pedro/fluentd-ubuntu-master,"{% set fluentd_dir = 'td-agent' if (kolla_base_distro in ['ubuntu', 'debian'] and ansible_architecture == 'x86_64') else 'fluentd' %}","{% set fluentd_dir = 'td-agent' if kolla_base_distro in ['ubuntu', 'debian'] else 'fluentd' %}",23,12
openstack%2Foctavia~master~I018e36f69a9c0b48a6651a01cc9a64abfc04d4de,openstack/octavia,master,I018e36f69a9c0b48a6651a01cc9a64abfc04d4de,Limit cryptsetup key RAM usage,MERGED,2019-06-06 22:10:37.000000000,2019-06-07 21:46:18.000000000,2019-06-07 15:35:45.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 22:10:37.000000000', 'files': ['elements/certs-ramfs/init-scripts/sysv/certs-ramfs', 'elements/certs-ramfs/init-scripts/upstart/certs-ramfs.conf', 'elements/certs-ramfs/init-scripts/systemd/certs-ramfs.service'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4007d56b3eda356a476ac583fbf3f92cb0f179ef', 'message': 'Limit cryptsetup key RAM usage\n\nThis patch limits cryptsetup to 256MB of RAM during the amphora\nstartup. Recent distros have changed to LUKS2 with Argon2\nkey derivation which defaults to using up to 1GB of RAM.\nTypically our amphora are built with only 1GB of RAM for the whole\nsystem.\n\nChange-Id: I018e36f69a9c0b48a6651a01cc9a64abfc04d4de\nStory: 2005837\nTask: 33606\n'}]",0,663784,4007d56b3eda356a476ac583fbf3f92cb0f179ef,8,3,1,11628,,,0,"Limit cryptsetup key RAM usage

This patch limits cryptsetup to 256MB of RAM during the amphora
startup. Recent distros have changed to LUKS2 with Argon2
key derivation which defaults to using up to 1GB of RAM.
Typically our amphora are built with only 1GB of RAM for the whole
system.

Change-Id: I018e36f69a9c0b48a6651a01cc9a64abfc04d4de
Story: 2005837
Task: 33606
",git fetch https://review.opendev.org/openstack/octavia refs/changes/84/663784/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/certs-ramfs/init-scripts/sysv/certs-ramfs', 'elements/certs-ramfs/init-scripts/upstart/certs-ramfs.conf', 'elements/certs-ramfs/init-scripts/systemd/certs-ramfs.service']",3,4007d56b3eda356a476ac583fbf3f92cb0f179ef,,"ExecStart=/bin/sh -c 'modprobe brd; passphrase=$$(head /dev/urandom | tr -dc ""a-zA-Z0-9"" | fold -w 32 | head -n 1); certs_path=$$(awk ""/base_cert_dir / {printf \\$$3}"" /etc/octavia/amphora-agent.conf); mkdir -p ""$${certs_path}""; echo -n ""$${passphrase}"" | cryptsetup --pbkdf-memory=262144 luksFormat /dev/ram0 -; echo -n ""$${passphrase}"" | cryptsetup --pbkdf-memory=262144 luksOpen /dev/ram0 certfs-ramfs -; mkfs.ext2 /dev/mapper/certfs-ramfs; mount /dev/mapper/certfs-ramfs ""$${certs_path}""'","ExecStart=/bin/sh -c 'modprobe brd; passphrase=$$(head /dev/urandom | tr -dc ""a-zA-Z0-9"" | fold -w 32 | head -n 1); certs_path=$$(awk ""/base_cert_dir / {printf \\$$3}"" /etc/octavia/amphora-agent.conf); mkdir -p ""$${certs_path}""; echo -n ""$${passphrase}"" | cryptsetup luksFormat /dev/ram0 -; echo -n ""$${passphrase}"" | cryptsetup luksOpen /dev/ram0 certfs-ramfs -; mkfs.ext2 /dev/mapper/certfs-ramfs; mount /dev/mapper/certfs-ramfs ""$${certs_path}""'",5,5
openstack%2Fopenstack-ansible~stable%2Fstein~I023871df159413f9313d7a85820a50872da2b36b,openstack/openstack-ansible,stable/stein,I023871df159413f9313d7a85820a50872da2b36b,Load extra variables correctly in wrapper,MERGED,2019-06-05 19:29:29.000000000,2019-06-07 19:42:03.000000000,2019-06-07 19:42:02.000000000,"[{'_account_id': 290}, {'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-05 19:29:29.000000000', 'files': ['scripts/openstack-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f051e434de172d9abbc06f5fb5c637ba0c28e4b2', 'message': ""Load extra variables correctly in wrapper\n\nThe extra variables are meant to be loaded contextually if ansible\nor ansible-playbook are executed in the OSA playbooks dir, or if the\nopenstack-ansible wrapper is explicitly called.\n\nThis is occurring correctly for openstack-ansible and ansible-playbook,\nbut extra vars are not being loaded correctly (despite being output\nto console as if they're being loaded) when ad-hoc ansible commands\nare run in the OSA context.\n\nChange-Id: I023871df159413f9313d7a85820a50872da2b36b\n(cherry picked from commit cb26d9a3fd6eb8265d60ae10cdef649f95ddeaa3)\n""}]",0,663406,f051e434de172d9abbc06f5fb5c637ba0c28e4b2,9,5,1,17799,,,0,"Load extra variables correctly in wrapper

The extra variables are meant to be loaded contextually if ansible
or ansible-playbook are executed in the OSA playbooks dir, or if the
openstack-ansible wrapper is explicitly called.

This is occurring correctly for openstack-ansible and ansible-playbook,
but extra vars are not being loaded correctly (despite being output
to console as if they're being loaded) when ad-hoc ansible commands
are run in the OSA context.

Change-Id: I023871df159413f9313d7a85820a50872da2b36b
(cherry picked from commit cb26d9a3fd6eb8265d60ae10cdef649f95ddeaa3)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/06/663406/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/openstack-ansible.sh'],1,f051e434de172d9abbc06f5fb5c637ba0c28e4b2,," ${RUN_CMD} ""${@}"" ${VAR1}"," ${RUN_CMD} ""${@}""",1,1
openstack%2Fpuppet-openstack-integration~stable%2Fqueens~I1a2716fdd4b960b12ff24303038bec5ea8fb80a3,openstack/puppet-openstack-integration,stable/queens,I1a2716fdd4b960b12ff24303038bec5ea8fb80a3,Use latest puppet5 repos,ABANDONED,2019-05-28 15:28:46.000000000,2019-06-07 19:35:10.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-28 15:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b50cdf9fa0b00daef50018018356ebc882a9f91f', 'message': 'Use latest puppet5 repos\n\nThis change makes sure the latest puppet5 version\nis used when running integration jobs for puppet5.\n\nThe puppetlabs yum mirror is ready to be used and\nhas the proper packages and is mirrored, example:\n\n* http://mirror.mtl01.inap.openstack.org/yum-puppetlabs/puppet5/\n\nFor the puppetlabs apt mirror the puppet5 pool is\nneeded before this will work. A patch has been fixed\nfor that here [1]. Therefore this change cannot be\nmerged until [1] is merged.\n\n[1] https://review.openstack.org/#/c/565867/\n\nConflicts:\n\tfunctions\n\nChange-Id: I1a2716fdd4b960b12ff24303038bec5ea8fb80a3\n(cherry picked from commit b5ca31399a7052467f74591fd8d19c1a79542ea1)\n'}, {'number': 2, 'created': '2019-05-28 16:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/818ece56f027b6348cc6273d66e34dbf79ab6f44', 'message': 'Use latest puppet5 repos\n\nThis change makes sure the latest puppet5 version\nis used when running integration jobs for puppet5.\n\nThe puppetlabs yum mirror is ready to be used and\nhas the proper packages and is mirrored, example:\n\n* http://mirror.mtl01.inap.openstack.org/yum-puppetlabs/puppet5/\n\nFor the puppetlabs apt mirror the puppet5 pool is\nneeded before this will work. A patch has been fixed\nfor that here [1]. Therefore this change cannot be\nmerged until [1] is merged.\n\n[1] https://review.openstack.org/#/c/565867/\n\nConflicts:\n\tfunctions\n\nChange-Id: I1a2716fdd4b960b12ff24303038bec5ea8fb80a3\n(cherry picked from commit b5ca31399a7052467f74591fd8d19c1a79542ea1)\n'}, {'number': 3, 'created': '2019-05-28 19:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ab1baa47ad1d76775c5a7818083de4855229a439', 'message': 'Use latest puppet5 repos\n\nThis change makes sure the latest puppet5 version\nis used when running integration jobs for puppet5.\n\nThe puppetlabs yum mirror is ready to be used and\nhas the proper packages and is mirrored, example:\n\n* http://mirror.mtl01.inap.openstack.org/yum-puppetlabs/puppet5/\n\nFor the puppetlabs apt mirror the puppet5 pool is\nneeded before this will work. A patch has been fixed\nfor that here [1]. Therefore this change cannot be\nmerged until [1] is merged.\n\n[1] https://review.openstack.org/#/c/565867/\n\nConflicts:\n\tfunctions\n\nChange-Id: I1a2716fdd4b960b12ff24303038bec5ea8fb80a3\n(cherry picked from commit b5ca31399a7052467f74591fd8d19c1a79542ea1)\n'}, {'number': 4, 'created': '2019-05-28 20:44:01.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/16dc908c2d2fb3ee57ec2bd8df2df2bd3477c4eb', 'message': 'Use latest puppet5 repos\n\nThis change makes sure the latest puppet5 version\nis used when running integration jobs for puppet5.\n\nThe puppetlabs yum mirror is ready to be used and\nhas the proper packages and is mirrored, example:\n\n* http://mirror.mtl01.inap.openstack.org/yum-puppetlabs/puppet5/\n\nFor the puppetlabs apt mirror the puppet5 pool is\nneeded before this will work. A patch has been fixed\nfor that here [1]. Therefore this change cannot be\nmerged until [1] is merged.\n\n[1] https://review.openstack.org/#/c/565867/\n\nConflicts:\n\tfunctions\n\nChange-Id: I1a2716fdd4b960b12ff24303038bec5ea8fb80a3\n(cherry picked from commit b5ca31399a7052467f74591fd8d19c1a79542ea1)\n'}]",0,661787,16dc908c2d2fb3ee57ec2bd8df2df2bd3477c4eb,10,2,4,14985,,,0,"Use latest puppet5 repos

This change makes sure the latest puppet5 version
is used when running integration jobs for puppet5.

The puppetlabs yum mirror is ready to be used and
has the proper packages and is mirrored, example:

* http://mirror.mtl01.inap.openstack.org/yum-puppetlabs/puppet5/

For the puppetlabs apt mirror the puppet5 pool is
needed before this will work. A patch has been fixed
for that here [1]. Therefore this change cannot be
merged until [1] is merged.

[1] https://review.openstack.org/#/c/565867/

Conflicts:
	functions

Change-Id: I1a2716fdd4b960b12ff24303038bec5ea8fb80a3
(cherry picked from commit b5ca31399a7052467f74591fd8d19c1a79542ea1)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/87/661787/3 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,b50cdf9fa0b00daef50018018356ebc882a9f91f,fix-queens-ci," if [ ""${MANAGE_REPOS}"" == ""true"" ] ; then if [ $PUPPET_MAJ_VERSION == 4 ]; then local PUPPET_APT_POOL=""PC1"" elif [ $PUPPET_MAJ_VERSION == 5 ]; then local PUPPET_APT_POOL=""puppet5"" fi echo ""deb ${NODEPOOL_PUPPETLABS_MIRROR} `lsb_release -s -c` ${PUPPET_APT_POOL}"" | $SUDO tee /etc/apt/sources.list.d/puppetlabs.list $SUDO apt-key add files/GPG-KEY-puppetlabs $SUDO apt-key add files/GPG-KEY-ceph $SUDO apt-get update fi if [ $PUPPET_MAJ_VERSION == 4 ]; then local PUPPET_YUM_SUFFIX=""/el/7/PC1/x86_64/"" elif [ $PUPPET_MAJ_VERSION == 5 ]; then local PUPPET_YUM_SUFFIX=""/puppet5/el/7/x86_64/"" fibaseurl=${NODEPOOL_PUPPETLABS_MIRROR}${PUPPET_YUM_SUFFIX}",baseurl=${NODEPOOL_PUPPETLABS_MIRROR}/el/7/PC1/x86_64/,17,1
openstack%2Frequirements~master~Ie66712680e552a6d8ec5c86883a2ac842d1820fc,openstack/requirements,master,Ie66712680e552a6d8ec5c86883a2ac842d1820fc,update constraint for os-win to new release 4.3.0,MERGED,2019-06-07 12:14:34.000000000,2019-06-07 19:33:12.000000000,2019-06-07 19:33:12.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 12:14:34.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0cb1facc8f7d94e19ec829f5150908a0d0ced6ea', 'message': 'update constraint for os-win to new release 4.3.0\n\nChange-Id: Ie66712680e552a6d8ec5c86883a2ac842d1820fc\nmeta:version: 4.3.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Change-Id: Icca2038e8370ec9a60c367b4a36ac6bf589522e9\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Claudiu Belu <cbelu@cloudbasesolutions.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,663919,0cb1facc8f7d94e19ec829f5150908a0d0ced6ea,6,2,1,11131,,,0,"update constraint for os-win to new release 4.3.0

Change-Id: Ie66712680e552a6d8ec5c86883a2ac842d1820fc
meta:version: 4.3.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Commit: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Change-Id: Icca2038e8370ec9a60c367b4a36ac6bf589522e9
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Claudiu Belu <cbelu@cloudbasesolutions.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/19/663919/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0cb1facc8f7d94e19ec829f5150908a0d0ced6ea,new-release,os-win===4.3.0,os-win===4.2.0,1,1
openstack%2Freleases~master~If8a2c2d5160f2d75ae2d67bf662f8735851b99c0,openstack/releases,master,If8a2c2d5160f2d75ae2d67bf662f8735851b99c0,TripleO train m1 release,MERGED,2019-06-06 13:42:36.000000000,2019-06-07 19:24:56.000000000,2019-06-07 19:24:56.000000000,"[{'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 13:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d0a24accb385e55171e07950921a7b0a908ef7c3', 'message': 'TripleO train m1 release\n\nChange-Id: If8a2c2d5160f2d75ae2d67bf662f8735851b99c0\n'}, {'number': 2, 'created': '2019-06-07 18:39:18.000000000', 'files': ['deliverables/train/os-net-config.yaml', 'deliverables/train/tripleo-validations.yaml', 'deliverables/train/paunch.yaml', 'deliverables/train/tripleo-common.yaml', 'deliverables/train/tripleo-heat-templates.yaml', 'deliverables/train/puppet-tripleo.yaml', 'deliverables/train/tripleo-puppet-elements.yaml', 'deliverables/train/python-tripleoclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/87b57236c10b428510f03eb8d547c2c86e649a7b', 'message': 'TripleO train m1 release\n\nChange-Id: If8a2c2d5160f2d75ae2d67bf662f8735851b99c0\n'}]",4,663670,87b57236c10b428510f03eb8d547c2c86e649a7b,11,3,2,3153,,,0,"TripleO train m1 release

Change-Id: If8a2c2d5160f2d75ae2d67bf662f8735851b99c0
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/663670/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/os-net-config.yaml', 'deliverables/train/paunch.yaml', 'deliverables/train/tripleo-image-elements.yaml', 'deliverables/train/tripleo-heat-templates.yaml', 'deliverables/train/puppet-tripleo.yaml', 'deliverables/train/tripleo-puppet-elements.yaml', 'deliverables/train/tripleo-validations.yaml', 'deliverables/train/tripleo-common.yaml', 'deliverables/train/os-collect-config.yaml', 'deliverables/train/os-refresh-config.yaml', 'deliverables/train/os-apply-config.yaml', 'deliverables/train/python-tripleoclient.yaml']",12,d0a24accb385e55171e07950921a7b0a908ef7c3,tripleo/train/m1,releases: - projects: - hash: c3769899db4a3d82b2548919b729dcd6e55d7aa5 repo: openstack/python-tripleoclient version: 12.0.0,,60,0
openstack%2Ftripleo-heat-templates~master~I28a040993669ad6446026e41274b0460d5f9eebc,openstack/tripleo-heat-templates,master,I28a040993669ad6446026e41274b0460d5f9eebc,DVR neutron template should enable ARP responder,MERGED,2019-05-24 16:07:06.000000000,2019-06-07 19:23:46.000000000,2019-06-07 09:53:59.000000000,"[{'_account_id': 6681}, {'_account_id': 13995}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-05-24 16:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc8af08fb478b57868c51cb450a8dd08d522dc79', 'message': 'DVR neutron template should enable ARP responder\n\nIf a cluster with dvr is deployed with tripleo template, arp responder\nis not enabled, but it should be.  This enables it.\n\nChange-Id: I28a040993669ad6446026e41274b0460d5f9eebc\n'}, {'number': 2, 'created': '2019-06-02 16:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/404bc30c9e96cf6882a63f4c26eb6328cecfd444', 'message': 'DVR neutron template should enable ARP responder\n\nIf a cluster with dvr is deployed with tripleo template, arp responder\nis not enabled, but it should be.  This enables it.\n\nChange-Id: I28a040993669ad6446026e41274b0460d5f9eebc\n'}, {'number': 3, 'created': '2019-06-05 19:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/333d4df3f0dabc9f092e1fd7bc7a985e03320dc6', 'message': 'DVR neutron template should enable ARP responder\n\nIf a cluster with dvr is deployed with tripleo template, arp responder\nis not enabled, but it should be.  This enables it.\n\nChange-Id: I28a040993669ad6446026e41274b0460d5f9eebc\n'}, {'number': 4, 'created': '2019-06-05 20:37:02.000000000', 'files': ['environments/neutron-ovs-dvr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90ecca6f6fd26bcbea0831ba53058ee4a925f77d', 'message': 'DVR neutron template should enable ARP responder\n\nIf a cluster with dvr is deployed with tripleo template, arp responder\nis not enabled, but it should be.  This enables it.\n\nCloses-Bug: #1831798\nChange-Id: I28a040993669ad6446026e41274b0460d5f9eebc\n'}]",2,661348,90ecca6f6fd26bcbea0831ba53058ee4a925f77d,25,6,4,13995,,,0,"DVR neutron template should enable ARP responder

If a cluster with dvr is deployed with tripleo template, arp responder
is not enabled, but it should be.  This enables it.

Closes-Bug: #1831798
Change-Id: I28a040993669ad6446026e41274b0460d5f9eebc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/661348/3 && git format-patch -1 --stdout FETCH_HEAD,['environments/neutron-ovs-dvr.yaml'],1,dc8af08fb478b57868c51cb450a8dd08d522dc79,bug/1831798, #L2 population require ARP responder feature NeutronEnableARPResponder: 'True' ,,3,0
openstack%2Fcinder~master~I6bcc33282b6a7913dfb5c86dad1744f6b1eade8b,openstack/cinder,master,I6bcc33282b6a7913dfb5c86dad1744f6b1eade8b,VMware: Set fcd backing vmdk uuid to volume id,ABANDONED,2019-05-31 22:55:21.000000000,2019-06-07 19:20:56.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-31 22:55:21.000000000', 'files': ['cinder/volume/drivers/vmware/fcd.py', 'cinder/tests/unit/volume/drivers/vmware/test_fcd.py', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/tests/unit/volume/drivers/vmware/test_vmware_volumeops.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/710b08cf4761e887bfdcf15ca83307b73c7174f6', 'message': ""VMware: Set fcd backing vmdk uuid to volume id\n\nThe symlinks in /dev/disk/by-id/ (in a Linux guest OS running in\nVMware ESX based Nova instance) use UUID of virtual disk as the\nSCSI device ID when disk.EnableUUID is set to True in the virtual\nmachine configuration file. FCD doesn't have a native API to set\nthe backing vmdk uuid. Using VirtualDiskManager API to set the\nbacking vmdk uuid to volume id. This allows to identify the disk\ndevice corresponding to a given volume from the guest OS.\n\nChange-Id: I6bcc33282b6a7913dfb5c86dad1744f6b1eade8b\n""}]",0,662589,710b08cf4761e887bfdcf15ca83307b73c7174f6,31,27,1,9171,,,0,"VMware: Set fcd backing vmdk uuid to volume id

The symlinks in /dev/disk/by-id/ (in a Linux guest OS running in
VMware ESX based Nova instance) use UUID of virtual disk as the
SCSI device ID when disk.EnableUUID is set to True in the virtual
machine configuration file. FCD doesn't have a native API to set
the backing vmdk uuid. Using VirtualDiskManager API to set the
backing vmdk uuid to volume id. This allows to identify the disk
device corresponding to a given volume from the guest OS.

Change-Id: I6bcc33282b6a7913dfb5c86dad1744f6b1eade8b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/662589/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/vmware/fcd.py', 'cinder/tests/unit/volume/drivers/vmware/test_fcd.py', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/tests/unit/volume/drivers/vmware/test_vmware_volumeops.py']",4,710b08cf4761e887bfdcf15ca83307b73c7174f6,fcd_uuid," def test_update_vmdk_uuid(self): path = mock.sentinel.path dc_ref = mock.sentinel.dc vmdk_uuid = mock.sentinel.vmdk_uuid self.vops.update_vmdk_uuid(path, dc_ref, vmdk_uuid) self.session.invoke_api( self.session.vim, 'SetVirtualDiskUuid', self.session.vim.service_content.virtualDiskManager, name=path, datacenter=dc_ref, uuid=vmdk_uuid) def test_get_fcd_config_info(self): fcd_loc = mock.Mock() id = mock.sentinel.id fcd_loc.id.return_value = id ds_ref = mock.sentinel.ds_ref fcd_loc.ds_ref.return_value = ds_ref self.vops._get_fcd_config_info(fcd_loc) self.session.invoke_api( self.session.vim, 'RetrieveVStorageObject', self.session.vim.service_content.vStorageObjectManager, id=id, datastore=ds_ref) def test_convert_to_ddb_uuid(self): backing_uuid = 'c4f7bc0f-48bd-4598-8405-c7d49441d17b' ddb_uuid = 'c4 f7 bc 0f 48 bd 45 98-84 05 c7 d4 94 41 d1 7b' self.assertEqual(ddb_uuid, self.vops._convert_to_ddb_uuid(backing_uuid)) @mock.patch('cinder.volume.drivers.vmware.volumeops.VMwareVolumeOps.' '_get_fcd_config_info') @mock.patch('cinder.volume.drivers.vmware.volumeops.VMwareVolumeOps.' 'get_dc') @mock.patch('cinder.volume.drivers.vmware.volumeops.VMwareVolumeOps.' '_convert_to_ddb_uuid') @mock.patch('cinder.volume.drivers.vmware.volumeops.VMwareVolumeOps.' 'update_vmdk_uuid') def test_update_fcd_backing_uuid( self, update_vmdk_uuid, convert_to_ddb_uuid, get_dc, get_fcd_config_info): path = mock.sentinel.path backing = mock.Mock(filePath=path) config = mock.Mock(backing=backing) get_fcd_config_info.return_value = config dc = mock.sentinel.dc get_dc.return_value = dc ddb_uuid = mock.sentinel.ddb_uuid convert_to_ddb_uuid.return_value = ddb_uuid fcd_loc = mock.Mock() ds_ref = mock.sentinel.ds_ref fcd_loc.ds_ref.return_value = ds_ref backing_uuid = mock.sentinel.backing_uuid self.vops.update_fcd_backing_uuid(fcd_loc, backing_uuid) get_fcd_config_info.assert_called_once_with(fcd_loc) get_dc.assert_called_once_with(ds_ref) convert_to_ddb_uuid.assert_called_once_with(backing_uuid) update_vmdk_uuid.assert_called_once_with(path, dc, ddb_uuid) ",,114,2
openstack%2Fovsdbapp~master~I9d3953cb244806ed832665f24133e2d9f0556e16,openstack/ovsdbapp,master,I9d3953cb244806ed832665f24133e2d9f0556e16,Move WaitForPortBindingEvent out from testing code,MERGED,2019-05-27 14:53:29.000000000,2019-06-07 19:01:43.000000000,2019-06-07 19:01:43.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-05-27 14:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/0d1ddff1bfb9dc3c8905ea3a707aef756718ebc7', 'message': 'Move WaitForPortBindingEvent out from testing code\n\nThe event is useful in other projects too. For example networking-ovn\ncan make a use of it [1]\n\n[1] https://review.opendev.org/#/c/661628/1/networking_ovn/tests/functional/test_metadata_agent.py@59\n\nChange-Id: I9d3953cb244806ed832665f24133e2d9f0556e16\n'}, {'number': 2, 'created': '2019-05-27 15:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/d9bb1b09dbf873c572f8dd46c17c283431bc1ddf', 'message': 'Move WaitForPortBindingEvent out from testing code\n\nThe event is useful in other projects too. For example networking-ovn\ncan make a use of it [1]\n\n[1] https://review.opendev.org/#/c/661628/1/networking_ovn/tests/functional/test_metadata_agent.py@59\n\nChange-Id: I9d3953cb244806ed832665f24133e2d9f0556e16\n'}, {'number': 3, 'created': '2019-05-30 07:17:10.000000000', 'files': ['ovsdbapp/tests/functional/schema/ovn_southbound/event.py', 'ovsdbapp/tests/functional/schema/ovn_southbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/6a246a73a8948110214b08d22cad30fc3f1783b5', 'message': 'Move WaitForPortBindingEvent out from testing code\n\nThe event is useful in other projects too. For example networking-ovn\ncan make a use of it [1]\n\n[1] https://review.opendev.org/#/c/661628/1/networking_ovn/tests/functional/test_metadata_agent.py@59\n\nChange-Id: I9d3953cb244806ed832665f24133e2d9f0556e16\n'}]",0,661632,6a246a73a8948110214b08d22cad30fc3f1783b5,12,4,3,8655,,,0,"Move WaitForPortBindingEvent out from testing code

The event is useful in other projects too. For example networking-ovn
can make a use of it [1]

[1] https://review.opendev.org/#/c/661628/1/networking_ovn/tests/functional/test_metadata_agent.py@59

Change-Id: I9d3953cb244806ed832665f24133e2d9f0556e16
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/32/661632/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/tests/functional/schema/ovn_southbound/event.py', 'ovsdbapp/tests/functional/schema/ovn_southbound/test_impl_idl.py']",2,0d1ddff1bfb9dc3c8905ea3a707aef756718ebc7,pb_event,from ovsdbapp.tests.functional.schema.ovn_southbound import event row_event = event.WaitForPortBindingEvent(pname),"class WaitForPortBindingEvent(event.WaitEvent): event_name = 'WaitForPortBindingEvent' def __init__(self, port, timeout=5): super(WaitForPortBindingEvent, self).__init__( (self.ROW_CREATE,), 'Port_Binding', (('logical_port', '=', port),), timeout=timeout) row_event = WaitForPortBindingEvent(pname)",24,10
openstack%2Fmistral~master~I52fc7059afa50096ac73d485e0e99fea0f4ff3ce,openstack/mistral,master,I52fc7059afa50096ac73d485e0e99fea0f4ff3ce,Use trusts by default in OpenStack action calls,ABANDONED,2018-06-05 15:26:41.000000000,2019-06-07 19:01:39.000000000,,"[{'_account_id': 7065}, {'_account_id': 8532}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 18955}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 27008}]","[{'number': 1, 'created': '2018-06-05 15:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/aa2b1bfc6bf426f7179ce1b4f5d67b0bc5c6cc9b', 'message': 'Use trusts by default in OpenStack action calls\n\nAdd a trust_id field to workflow executions. This will initiate OpenStack\nactions to use the trust_id to perform operations, instead of using the\ntoken in the security context.\n\nChange-Id: I52fc7059afa50096ac73d485e0e99fea0f4ff3ce\nCloses-Bug: #1595084\nCloses-Bug: #1761050\n'}, {'number': 2, 'created': '2018-06-06 11:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9a849648a4d8e8409e55c74526393478eae9d778', 'message': 'Use trusts by default in OpenStack action calls\n\nAdd a trust_id field to workflow executions. This will initiate OpenStack\nactions to use the trust_id to perform operations, instead of using the\ntoken in the security context.\n\nChange-Id: I52fc7059afa50096ac73d485e0e99fea0f4ff3ce\nCloses-Bug: #1595084\nCloses-Bug: #1761050\n'}, {'number': 3, 'created': '2018-07-25 15:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/3a0641262c68a089f2115966b4a0ee60fd71f721', 'message': 'Use trusts by default in OpenStack action calls\n\nAdd a trust_id field to workflow executions. This will initiate OpenStack\nactions to use the trust_id to perform operations, instead of using the\ntoken in the security context.\n\nChange-Id: I52fc7059afa50096ac73d485e0e99fea0f4ff3ce\nCloses-Bug: #1595084\nCloses-Bug: #1761050\n'}, {'number': 4, 'created': '2018-07-25 22:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4ab1aac17564cb955ac055c217496cb677a10836', 'message': 'Use trusts by default in OpenStack action calls\n\nAdd a trust_id field to workflow executions. This will initiate OpenStack\nactions to use the trust_id to perform operations, instead of using the\ntoken in the security context.\n\nChange-Id: I52fc7059afa50096ac73d485e0e99fea0f4ff3ce\nCloses-Bug: #1595084\nCloses-Bug: #1761050\nDepends-On: I8c1ff35df46347c2f247f74720942f9884908449\n'}, {'number': 5, 'created': '2018-07-31 14:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/7c57208ad250eb6f9cc4ad4a010cd3c5dde5ddc0', 'message': 'Use trusts by default in OpenStack action calls\n\nAdd a trust_id field to workflow executions. This will initiate OpenStack\nactions to use the trust_id to perform operations, instead of using the\ntoken in the security context.\n\nChange-Id: I52fc7059afa50096ac73d485e0e99fea0f4ff3ce\nCloses-Bug: #1595084\nCloses-Bug: #1761050\nDepends-On: I8c1ff35df46347c2f247f74720942f9884908449\n'}, {'number': 6, 'created': '2018-07-31 14:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/fdb45d9c6ef50657fb4bb7984b10293b3a22a0a6', 'message': 'Use trusts by default in OpenStack action calls\n\nAdd a trust_id field to workflow executions. This will initiate OpenStack\nactions to use the trust_id to perform operations, instead of using the\ntoken in the security context.\n\nChange-Id: I52fc7059afa50096ac73d485e0e99fea0f4ff3ce\nCloses-Bug: #1595084\nCloses-Bug: #1761050\nDepends-On: I8c1ff35df46347c2f247f74720942f9884908449\n'}, {'number': 7, 'created': '2018-08-02 14:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/3403e8a5462c6ad43a387e7f1be469985c71d549', 'message': 'Use trusts by default in OpenStack action calls\n\nAdd a trust_id field to workflow executions. This will initiate OpenStack\nactions to use the trust_id to perform operations, instead of using the\ntoken in the security context.\n\nChange-Id: I52fc7059afa50096ac73d485e0e99fea0f4ff3ce\nCloses-Bug: #1595084\nCloses-Bug: #1761050\nDepends-On: I8c1ff35df46347c2f247f74720942f9884908449\n'}, {'number': 8, 'created': '2018-08-08 15:01:44.000000000', 'files': ['mistral/workflow/data_flow.py', 'mistral/utils/openstack/keystone.py', 'mistral/executors/default_executor.py', 'mistral/actions/openstack/base.py', 'mistral/engine/workflows.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/9cf2773065b10a4618e3b7caeb05998b592480cd', 'message': 'Use trusts by default in OpenStack action calls\n\nAdd a trust_id field to workflow executions. This will initiate OpenStack\nactions to use the trust_id to perform operations, instead of using the\ntoken in the security context.\n\nChange-Id: I52fc7059afa50096ac73d485e0e99fea0f4ff3ce\nCloses-Bug: #1595084\nCloses-Bug: #1761050\nDepends-On: I8c1ff35df46347c2f247f74720942f9884908449\n'}]",18,572448,9cf2773065b10a4618e3b7caeb05998b592480cd,48,8,8,7065,,,0,"Use trusts by default in OpenStack action calls

Add a trust_id field to workflow executions. This will initiate OpenStack
actions to use the trust_id to perform operations, instead of using the
token in the security context.

Change-Id: I52fc7059afa50096ac73d485e0e99fea0f4ff3ce
Closes-Bug: #1595084
Closes-Bug: #1761050
Depends-On: I8c1ff35df46347c2f247f74720942f9884908449
",git fetch https://review.opendev.org/openstack/mistral refs/changes/48/572448/8 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/workflow/data_flow.py', 'mistral/utils/openstack/keystone.py', 'mistral/actions/openstack/base.py', 'mistral/engine/workflows.py', 'mistral/db/sqlalchemy/migration/alembic_migrations/versions/027_add_trust_id_to_workflow_executions.py', 'mistral/db/v2/sqlalchemy/models.py']",6,aa2b1bfc6bf426f7179ce1b4f5d67b0bc5c6cc9b,bug/1595084, trust_id = sa.Column(sa.String(80)) ,,92,24
openstack%2Fpython-mistralclient~master~Ic092d2a81e0b49bc7fb30749d704bdf0145a88bc,openstack/python-mistralclient,master,Ic092d2a81e0b49bc7fb30749d704bdf0145a88bc,Add --export to get commands and deprecate get-definition,ABANDONED,2018-06-06 22:05:20.000000000,2019-06-07 19:01:27.000000000,,"[{'_account_id': 7065}, {'_account_id': 21051}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-06 22:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/b39847ea2fa8ebf6c19e013a81c321bcdc1ff9e4', 'message': ""Add --export to get commands and deprecate get-definition\n\nget-definition is unnecessary. It makes more sense to have a --export\nflag on the get command. This patch adds a --export command to all get\ncommands that do not have it already, and deprecates the 'get-definition'\ncommands, to be removed in 'T'.\n\nChange-Id: Ic092d2a81e0b49bc7fb30749d704bdf0145a88bc\n""}, {'number': 2, 'created': '2018-06-07 10:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/d938b2f25e4d81792b30e81ee3a5682c0f626ed9', 'message': ""Add --export to get commands and deprecate get-definition\n\nget-definition is unnecessary. It makes more sense to have a --export\nflag on the get command. This patch adds a --export command to all get\ncommands that do not have it already, and deprecates the 'get-definition'\ncommands, to be removed in 'T'.\n\nChange-Id: Ic092d2a81e0b49bc7fb30749d704bdf0145a88bc\n""}, {'number': 3, 'created': '2018-06-11 08:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/58ff16ec04a5c38b3b2f678b1dbcdfced2fe34f2', 'message': ""Add --export to get commands and deprecate get-definition\n\nget-definition is unnecessary. It makes more sense to have a --export\nflag on the get command. This patch adds a --export command to all get\ncommands that do not have it already, and deprecates the 'get-definition'\ncommands, to be removed in 'T'.\n\nChange-Id: Ic092d2a81e0b49bc7fb30749d704bdf0145a88bc\n""}, {'number': 4, 'created': '2018-06-14 10:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/42fed0e81739f899ccc58b79ab73cc947c5d04c2', 'message': ""Add --export to get commands and deprecate get-definition\n\nget-definition is unnecessary. It makes more sense to have a --export\nflag on the get command. This patch adds a --export command to all get\ncommands that do not have it already, and deprecates the 'get-definition'\ncommands, to be removed in 'T'.\n\nChange-Id: Ic092d2a81e0b49bc7fb30749d704bdf0145a88bc\n""}, {'number': 5, 'created': '2018-08-03 15:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/082b3847e4869e50fbd7cf92e5ed6fd88cb43bad', 'message': ""Add --export to get commands and deprecate get-definition\n\nget-definition is unnecessary. It makes more sense to have a --export\nflag on the get command. This patch adds a --export command to all get\ncommands that do not have it already, and deprecates the 'get-definition'\ncommands, to be removed in 'T'.\n\nChange-Id: Ic092d2a81e0b49bc7fb30749d704bdf0145a88bc\n""}, {'number': 6, 'created': '2018-08-30 13:54:42.000000000', 'files': ['mistralclient/commands/v2/actions.py', 'mistralclient/tests/unit/v2/test_cli_actions.py', 'mistralclient/tests/unit/v2/test_cli_workbooks.py', 'mistralclient/commands/v2/workflows.py', 'mistralclient/tests/unit/v2/test_cli_workflows.py', 'mistralclient/commands/v2/workbooks.py', 'setup.cfg', 'mistralclient/tests/functional/cli/v2/test_cli_v2.py'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/993a38ef993d84c05593fca0116d06223acd9d28', 'message': ""Add --export to get commands and deprecate get-definition\n\nget-definition is unnecessary. It makes more sense to have a --export\nflag on the get command. This patch adds a --export command to all get\ncommands that do not have it already, and deprecates the 'get-definition'\ncommands, to be removed in 'T'.\n\nChange-Id: Ic092d2a81e0b49bc7fb30749d704bdf0145a88bc\n""}]",0,573020,993a38ef993d84c05593fca0116d06223acd9d28,17,3,6,7065,,,0,"Add --export to get commands and deprecate get-definition

get-definition is unnecessary. It makes more sense to have a --export
flag on the get command. This patch adds a --export command to all get
commands that do not have it already, and deprecates the 'get-definition'
commands, to be removed in 'T'.

Change-Id: Ic092d2a81e0b49bc7fb30749d704bdf0145a88bc
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/20/573020/5 && git format-patch -1 --stdout FETCH_HEAD,"['mistralclient/commands/v2/actions.py', 'mistralclient/tests/unit/v2/test_cli_actions.py', 'mistralclient/tests/unit/v2/test_cli_workbooks.py', 'mistralclient/commands/v2/workflows.py', 'mistralclient/tests/unit/v2/test_cli_workflows.py', 'mistralclient/commands/v2/workbooks.py', 'setup.cfg', 'mistralclient/tests/functional/cli/v2/cli_tests_v2.py']",8,b39847ea2fa8ebf6c19e013a81c321bcdc1ff9e4,bug/1769491," def test_workbook_get_export(self): wb = self.workbook_create(self.wb_def) wb_name = self.get_field_value(wb, ""Name"") definition = self.mistral_admin( 'workbook-get', params=""--export {0}"".format(wb_name) ) self.assertNotIn('404 Not Found', definition) def test_workflow_get_export(self): wf = self.workflow_create(self.wf_def) wf_name = wf[0]['Name'] definition = self.mistral_admin( 'workflow-get', params=""--export {0}"".format(wf_name) ) self.assertNotIn('404 Not Found', definition) def test_action_get_export(self): self.action_create(self.act_def) definition = self.mistral_admin( 'action-get', params=""--export {0}"".format('greeting') ) self.assertNotIn('404 Not Found', definition) ",,104,9
openstack%2Fnetworking-ovn~master~I6a728dd81fbbec06f3d51086d4eb74cd6095c4b0,openstack/networking-ovn,master,I6a728dd81fbbec06f3d51086d4eb74cd6095c4b0,Pass haproxy service name to ProcessMonitor,MERGED,2019-06-06 13:54:07.000000000,2019-06-07 18:53:06.000000000,2019-06-07 18:53:06.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-06 13:54:07.000000000', 'files': ['networking_ovn/agent/metadata/driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8ece8e41ca8deb45aa2c8a67e6bc8f0c654614bc', 'message': 'Pass haproxy service name to ProcessMonitor\n\nIn patch [1] neutron introduced support for kill-scripts\nwhich can be called to kill external services like haproxy.\nIt require to pass to instance of ProcessManager class\nname of service which will be managed, e.g. haproxy.\n\nThis patch adds passing of this service name by networking-ovn\nmetadata agent.\n\n[1] https://review.opendev.org/#/c/661760/\nRelated-bug: #1825943\n\nChange-Id: I6a728dd81fbbec06f3d51086d4eb74cd6095c4b0\n'}]",1,663676,8ece8e41ca8deb45aa2c8a67e6bc8f0c654614bc,9,5,1,11975,,,0,"Pass haproxy service name to ProcessMonitor

In patch [1] neutron introduced support for kill-scripts
which can be called to kill external services like haproxy.
It require to pass to instance of ProcessManager class
name of service which will be managed, e.g. haproxy.

This patch adds passing of this service name by networking-ovn
metadata agent.

[1] https://review.opendev.org/#/c/661760/
Related-bug: #1825943

Change-Id: I6a728dd81fbbec06f3d51086d4eb74cd6095c4b0
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/76/663676/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/agent/metadata/driver.py'],1,8ece8e41ca8deb45aa2c8a67e6bc8f0c654614bc,bug/1825943,"HAPROXY_SERVICE = 'haproxy' proxy_cmd = [HAPROXY_SERVICE, service=HAPROXY_SERVICE,"," proxy_cmd = ['haproxy',",3,1
openstack%2Fcharm-nova-cloud-controller~master~If8373fc6b2d04dbc29ed07896d385ac920cae3f4,openstack/charm-nova-cloud-controller,master,If8373fc6b2d04dbc29ed07896d385ac920cae3f4,Propagate vendor_data from nova-cloud-controller,MERGED,2019-05-10 15:20:01.000000000,2019-06-07 18:39:47.000000000,2019-06-07 18:39:47.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-10 15:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/2182fdc97977abc49b0668ab05bddb6afcd31f2a', 'message': ""Propagate vendor_data from nova-cloud-controller\n\nWhen using DVR and L3HA neutron deployment options,\nNova API Metadata requests are served from compute nodes,\ninstead of from neutron-gateway nodes.\n\nThis change allows nova-cloud-controller to send vendor_data\nconfiguration values to nova-compute charm\nrelation and write to nova-compute's nova.conf\nappropriately.\n\nAlso, small fix in the vendor-data and vendor-data-url\ndescriptions, where it was incorrectly stating that such\nconfiguration would be effective in nova-cloud-controller\non Queens release.\n\nThe values set in vendor-data and vendor-data-url config\noptions will always be propagated to nova-compute regardless\nof the OpenStack release. Those values will continue to only\nbe effective in nova-cloud-controller nodes on Rocky release\nor later.\n\nChange-Id: If8373fc6b2d04dbc29ed07896d385ac920cae3f4\nPartial-Bug: #1777714\n""}, {'number': 2, 'created': '2019-05-17 15:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/913898b986f59ccbf99df04ac90bd74b76166221', 'message': ""Propagate vendor_data from nova-cloud-controller\n\nWhen using DVR and L3HA neutron deployment options,\nNova API Metadata requests are served from compute nodes,\ninstead of from neutron-gateway nodes.\n\nThis change allows nova-cloud-controller to send vendor_data\nconfiguration values to nova-compute charm relation so it\ncan write to nova-compute's nova.conf appropriately.\n\nReplaced the existing context logic with inheritance\nfrom a new context created in charm-helpers, so the\nlogic can be shared across several charms that write\nvendor metadata to nova.conf and vendor_data.json.\n\nAlso, small fix in the vendor-data and vendor-data-url\ndescriptions, where it was incorrectly stating that such\nconfiguration would be effective in nova-cloud-controller\non Queens release.\n\nThe values set in vendor-data and vendor-data-url config\noptions will always be propagated to nova-compute regardless\nof the OpenStack release. Those values will continue to only\nbe effective in nova-cloud-controller nodes on Rocky release\nor later.\n\nIncluded sync of charm-helpers code in order to inherit\nthe refactored vendor metadata contexts.\n\nChange-Id: If8373fc6b2d04dbc29ed07896d385ac920cae3f4\nPartial-Bug: #1777714\n""}, {'number': 3, 'created': '2019-05-29 20:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/de04b2cd9703ae38867b24773902ba808ae5ef53', 'message': ""Propagate vendor_data from nova-cloud-controller\n\nWhen using DVR and L3HA neutron deployment options,\nNova API Metadata requests are served from compute nodes,\ninstead of from neutron-gateway nodes.\n\nThis change allows nova-cloud-controller to send vendor_data\nconfiguration values to nova-compute charm relation so it\ncan write to nova-compute's nova.conf appropriately.\n\nReplaced the existing context logic with inheritance\nfrom a new context created in charm-helpers, so the\nlogic can be shared across several charms that write\nvendor metadata to nova.conf and vendor_data.json.\n\nAlso, small fix in the vendor-data and vendor-data-url\ndescriptions, where it was incorrectly stating that such\nconfiguration would be effective in nova-cloud-controller\non Queens release.\n\nThe values set in vendor-data and vendor-data-url config\noptions will always be propagated to nova-compute regardless\nof the OpenStack release. Those values will continue to only\nbe effective in nova-cloud-controller nodes on Rocky release\nor later.\n\nIncluded sync of charm-helpers code in order to inherit\nthe refactored vendor metadata contexts.\n\nChange-Id: If8373fc6b2d04dbc29ed07896d385ac920cae3f4\nPartial-Bug: #1777714\n""}, {'number': 4, 'created': '2019-05-30 02:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/04b160330eb483158a9afdf77e5ea320c18c6a8e', 'message': ""Propagate vendor_data from nova-cloud-controller\n\nWhen using DVR and L3HA neutron deployment options,\nNova API Metadata requests are served from compute nodes,\ninstead of from neutron-gateway nodes.\n\nThis change allows nova-cloud-controller to send vendor_data\nconfiguration values to nova-compute charm relation so it\ncan write to nova-compute's nova.conf appropriately.\n\nReplaced the existing context logic with inheritance\nfrom a new context created in charm-helpers, so the\nlogic can be shared across several charms that write\nvendor metadata to nova.conf and vendor_data.json.\n\nAlso, small fix in the vendor-data and vendor-data-url\ndescriptions, where it was incorrectly stating that such\nconfiguration would be effective in nova-cloud-controller\non Queens release.\n\nThe values set in vendor-data and vendor-data-url config\noptions will always be propagated to nova-compute regardless\nof the OpenStack release. Those values will continue to only\nbe effective in nova-cloud-controller nodes on Rocky release\nor later.\n\nIncluded sync of charm-helpers code in order to inherit\nthe refactored vendor metadata contexts.\n\nChange-Id: If8373fc6b2d04dbc29ed07896d385ac920cae3f4\nPartial-Bug: #1777714\n""}, {'number': 5, 'created': '2019-05-30 16:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/ecd636a197a95ed43da7f2e7c6f19f42cfc809f6', 'message': ""Propagate vendor_data from nova-cloud-controller\n\nWhen using DVR and L3HA neutron deployment options,\nNova API Metadata requests are served from compute nodes,\ninstead of from neutron-gateway nodes.\n\nThis change allows nova-cloud-controller to send vendor_data\nconfiguration values to nova-compute charm relation so it\ncan write to nova-compute's nova.conf appropriately.\n\nReplaced the existing context logic with inheritance\nfrom a new context created in charm-helpers, so the\nlogic can be shared across several charms that write\nvendor metadata to nova.conf and vendor_data.json.\n\nAlso, small fix in the vendor-data and vendor-data-url\ndescriptions, where it was incorrectly stating that such\nconfiguration would be effective in nova-cloud-controller\non Queens release.\n\nThe values set in vendor-data and vendor-data-url config\noptions will always be propagated to nova-compute regardless\nof the OpenStack release. Those values will continue to only\nbe effective in nova-cloud-controller nodes on Rocky release\nor later.\n\nIncluded sync of charm-helpers code in order to inherit\nthe refactored vendor metadata contexts.\n\nChange-Id: If8373fc6b2d04dbc29ed07896d385ac920cae3f4\nPartial-Bug: #1777714\n""}, {'number': 6, 'created': '2019-05-30 19:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/b93a14a23bed965e911034d12b2db0337d178b8b', 'message': ""Propagate vendor_data from nova-cloud-controller\n\nWhen using DVR and L3HA neutron deployment options,\nNova API Metadata requests are served from compute nodes,\ninstead of from neutron-gateway nodes.\n\nThis change allows nova-cloud-controller to send vendor_data\nconfiguration values to nova-compute charm relation so it\ncan write to nova-compute's nova.conf appropriately.\n\nReplaced the existing context logic with inheritance\nfrom a new context created in charm-helpers, so the\nlogic can be shared across several charms that write\nvendor metadata to nova.conf and vendor_data.json.\n\nAlso, small fix in the vendor-data and vendor-data-url\ndescriptions, where it was incorrectly stating that such\nconfiguration would be effective in nova-cloud-controller\non Queens release.\n\nThe values set in vendor-data and vendor-data-url config\noptions will always be propagated to nova-compute regardless\nof the OpenStack release. Those values will continue to only\nbe effective in nova-cloud-controller nodes on Rocky release\nor later.\n\nIncluded sync of charm-helpers code in order to inherit\nthe refactored vendor metadata contexts.\n\nChange-Id: If8373fc6b2d04dbc29ed07896d385ac920cae3f4\nPartial-Bug: #1777714\n""}, {'number': 7, 'created': '2019-05-30 20:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/f0c9fc3e3c23ef2d8221c8aaa03d34829ae9608e', 'message': ""Propagate vendor_data from nova-cloud-controller\n\nWhen using DVR and L3HA neutron deployment options,\nNova API Metadata requests are served from compute nodes,\ninstead of from neutron-gateway nodes.\n\nThis change allows nova-cloud-controller to send vendor_data\nconfiguration values to nova-compute charm relation so it\ncan write to nova-compute's nova.conf appropriately.\n\nReplaced the existing context logic with inheritance\nfrom a new context created in charm-helpers, so the\nlogic can be shared across several charms that write\nvendor metadata to nova.conf and vendor_data.json.\n\nAlso, small fix in the vendor-data and vendor-data-url\ndescriptions, where it was incorrectly stating that such\nconfiguration would be effective in nova-cloud-controller\non Queens release.\n\nThe values set in vendor-data and vendor-data-url config\noptions will always be propagated to nova-compute regardless\nof the OpenStack release. Those values will continue to only\nbe effective in nova-cloud-controller nodes on Rocky release\nor later.\n\nIncluded sync of charm-helpers code in order to inherit\nthe refactored vendor metadata contexts.\n\nChange-Id: If8373fc6b2d04dbc29ed07896d385ac920cae3f4\nDepends-On: I0c79e1bfac9fbe7009a7e862ad010cfa2de8cfda\nPartial-Bug: #1777714\n""}, {'number': 8, 'created': '2019-06-05 13:23:16.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'config.yaml', 'hooks/nova_cc_context.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'unit_tests/test_nova_cc_contexts.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/openstack/templates/vendor_data.json', 'charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'tests/basic_deployment.py', 'unit_tests/test_nova_cc_utils.py', 'charmhelpers/contrib/openstack/context.py', 'hooks/nova_cc_utils.py', 'charmhelpers/contrib/openstack/neutron.py', 'hooks/nova_cc_hooks.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-v3only'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/a51efaf640b4138e3fd930fe6521ab6905bc2e0a', 'message': ""Propagate vendor_data from nova-cloud-controller\n\nWhen using DVR and L3HA neutron deployment options,\nNova API Metadata requests are served from compute nodes,\ninstead of from neutron-gateway nodes.\n\nThis change allows nova-cloud-controller to send vendor_data\nconfiguration values to nova-compute charm relation so it\ncan write to nova-compute's nova.conf appropriately.\n\nReplaced the existing context logic with inheritance\nfrom a new context created in charm-helpers, so the\nlogic can be shared across several charms that write\nvendor metadata to nova.conf and vendor_data.json.\n\nAlso, small fix in the vendor-data and vendor-data-url\ndescriptions, where it was incorrectly stating that such\nconfiguration would be effective in nova-cloud-controller\non Queens release.\n\nThe values set in vendor-data and vendor-data-url config\noptions will always be propagated to nova-compute regardless\nof the OpenStack release. Those values will continue to only\nbe effective in nova-cloud-controller nodes on Rocky release\nor later.\n\nIncluded sync of charm-helpers code in order to inherit\nthe refactored vendor metadata contexts.\n\nChange-Id: If8373fc6b2d04dbc29ed07896d385ac920cae3f4\nDepends-On: I0c79e1bfac9fbe7009a7e862ad010cfa2de8cfda\nCloses-Bug: #1777714\n""}]",12,658394,a51efaf640b4138e3fd930fe6521ab6905bc2e0a,42,5,8,14567,,,0,"Propagate vendor_data from nova-cloud-controller

When using DVR and L3HA neutron deployment options,
Nova API Metadata requests are served from compute nodes,
instead of from neutron-gateway nodes.

This change allows nova-cloud-controller to send vendor_data
configuration values to nova-compute charm relation so it
can write to nova-compute's nova.conf appropriately.

Replaced the existing context logic with inheritance
from a new context created in charm-helpers, so the
logic can be shared across several charms that write
vendor metadata to nova.conf and vendor_data.json.

Also, small fix in the vendor-data and vendor-data-url
descriptions, where it was incorrectly stating that such
configuration would be effective in nova-cloud-controller
on Queens release.

The values set in vendor-data and vendor-data-url config
options will always be propagated to nova-compute regardless
of the OpenStack release. Those values will continue to only
be effective in nova-cloud-controller nodes on Rocky release
or later.

Included sync of charm-helpers code in order to inherit
the refactored vendor metadata contexts.

Change-Id: If8373fc6b2d04dbc29ed07896d385ac920cae3f4
Depends-On: I0c79e1bfac9fbe7009a7e862ad010cfa2de8cfda
Closes-Bug: #1777714
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/94/658394/8 && git format-patch -1 --stdout FETCH_HEAD,"['config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py']",3,2182fdc97977abc49b0668ab05bddb6afcd31f2a,bug/1777714," 'charmhelpers.core.hookenv.relation_set', self.relation_ids.return_value = ['nova-compute:1'] self.assertTrue(self.relation_set.called) self.relation_ids.return_value = ['nova-compute:1'] self.assertTrue(self.relation_set.called) self.relation_ids.return_value = ['nova-compute:1'] self.assertTrue(self.relation_set.called) self.relation_ids.return_value = ['nova-compute:1'] self.assertTrue(self.relation_set.called)",,41,11
openstack%2Fopenstack-ansible-os_glance~stable%2Fstein~I24e7a05372b6b1831529c620d3346889d5505f09,openstack/openstack-ansible-os_glance,stable/stein,I24e7a05372b6b1831529c620d3346889d5505f09,Fix distro installs on Ubuntu,MERGED,2019-06-06 02:39:29.000000000,2019-06-07 18:38:49.000000000,2019-06-07 18:38:49.000000000,"[{'_account_id': 1004}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 02:39:29.000000000', 'files': ['templates/glance-uwsgi.ini.j2', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/df96e915165d99d34871b83d0c0d361c110b7961', 'message': ""Fix distro installs on Ubuntu\n\nBeginning in the Stein release, Ubuntu distro packages are now using\nPython3. This requires additionally installing and using the uwsgi\npython3 plugin.\n\nInstall the 'python3-glance' package instead of 'glance-api'. glance-api\nprovides a service config file that conflicts with the one OSA provides.\n\nChange-Id: I24e7a05372b6b1831529c620d3346889d5505f09\n(cherry picked from commit e45c741f5b2c1c975bebf8f5097476e9d9727d3e)\n""}]",0,663482,df96e915165d99d34871b83d0c0d361c110b7961,7,3,1,14805,,,0,"Fix distro installs on Ubuntu

Beginning in the Stein release, Ubuntu distro packages are now using
Python3. This requires additionally installing and using the uwsgi
python3 plugin.

Install the 'python3-glance' package instead of 'glance-api'. glance-api
provides a service config file that conflicts with the one OSA provides.

Change-Id: I24e7a05372b6b1831529c620d3346889d5505f09
(cherry picked from commit e45c741f5b2c1c975bebf8f5097476e9d9727d3e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/82/663482/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/glance-uwsgi.ini.j2', 'vars/debian.yml']",2,df96e915165d99d34871b83d0c0d361c110b7961,ubuntu-distro-install-stable/stein, - python3-glance - uwsgi-plugin-python3, - glance - glance-api - uwsgi-plugin-python,5,3
openstack%2Fironic-python-agent~master~Id20302537f7994982c7584af546a7e7520e9612b,openstack/ironic-python-agent,master,Id20302537f7994982c7584af546a7e7520e9612b,Software RAID: Create/delete configurations,MERGED,2019-02-04 12:44:58.000000000,2019-06-07 18:35:44.000000000,2019-06-05 07:34:00.000000000,"[{'_account_id': 2472}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 11929}, {'_account_id': 18320}, {'_account_id': 20147}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24843}]","[{'number': 1, 'created': '2019-02-04 12:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a18e8866fe5d986511bb6959af24eb4dffae4034', 'message': '[WIP] Support Software RAID\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 2, 'created': '2019-02-05 17:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/041e878b8bfc3fbb4abee0e5f0ece5ba7680e89f', 'message': '[WIP] Support Software RAID\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 3, 'created': '2019-02-06 17:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c1ccba317bd83ff863f7656b1cefb4fbc5881af3', 'message': '[WIP] Support Software RAID\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 4, 'created': '2019-02-08 10:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1671aa6bab56f44887dc01c1a8500a0b5465c55d', 'message': '[WIP] Support Software RAID\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 5, 'created': '2019-02-08 17:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c22676efb953451d6cfccf42509c413f1116d65e', 'message': '[WIP] Support Software RAID\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 6, 'created': '2019-02-12 17:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6e08c6755603f4dd0c9a60631a22067bb7803fd9', 'message': '[WIP] Support Software RAID\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 7, 'created': '2019-02-15 08:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/28154f49573a3ffab1849f1a9fda350270b9df89', 'message': '[WIP] Software RAID: Create/delete configurations\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 8, 'created': '2019-02-15 16:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c2058ba89133aff634f042f8100926935a5d1119', 'message': '[WIP] Software RAID: Create/delete configurations\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 9, 'created': '2019-02-26 14:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/13f6108257ce12538f66638b69d331ea45fa7f66', 'message': '[WIP] Software RAID: Create/delete configurations\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 10, 'created': '2019-02-26 14:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/93c7d5696fae01db94e380355e9012fdf71892ce', 'message': '[WIP] Software RAID: Create/delete configurations\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 11, 'created': '2019-02-26 16:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/beb51548195e9a83ca4eb0dc13a57d61be56904d', 'message': '[WIP] Software RAID: Create/delete configurations\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 12, 'created': '2019-03-04 09:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7a24e2697692368515b2a5de626d2f60ba545192', 'message': '[WIP] Software RAID: Create/delete configurations\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 13, 'created': '2019-03-19 11:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/880a710116e0a10b421de83ec205b66a60e6bcbb', 'message': 'Software RAID: Create/delete configurations\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 14, 'created': '2019-03-29 10:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/952990bae0007e046f2eab6afbefa2dd3bf84091', 'message': 'Software RAID: Create/delete configurations\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 15, 'created': '2019-04-05 12:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2d58a26ad1d1974c8055fcd7dc9bd2a0a76a98ae', 'message': 'Software RAID: Create/delete configurations\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 16, 'created': '2019-05-09 08:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4c983610f4aed0ee918fec300ee4a7fa3cc2178a', 'message': 'Software RAID: Create/delete configurations\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 17, 'created': '2019-05-09 13:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c92db0c24b47b5cbb72f5742a3c812465b3bab1b', 'message': 'Software RAID: Create/delete configurations\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 18, 'created': '2019-05-09 15:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1646bd35baf3b943ab9c26ea6921bfb681e43573', 'message': 'Software RAID: Create/delete configurations\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 19, 'created': '2019-05-10 07:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4bd48c7c7bf2344a97efe34e5617c9a13494fbfd', 'message': 'Software RAID: Create/delete configurations\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 20, 'created': '2019-05-13 08:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4d86d745346c8eed6ae5de71b4cc31881e9e934e', 'message': 'Software RAID: Create/delete configurations\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 21, 'created': '2019-05-31 11:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0fc2465346e91326f76c1130990300083f285b84', 'message': 'Software RAID: Create/delete configurations\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 22, 'created': '2019-05-31 17:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e85079b406e1033e8a15cb396fd8a81d1fa86c70', 'message': 'Software RAID: Create/delete configurations\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 23, 'created': '2019-05-31 17:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b0d3453f1669fba5257f7776ff5e8fb3075b4d96', 'message': 'Software RAID: Create/delete configurations\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}, {'number': 24, 'created': '2019-06-04 11:01:47.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'releasenotes/notes/software-raid-4a88e6c5af9ea742.yaml', 'ironic_python_agent/errors.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2db123d318e481e4c59e305ca52e4eeb526b7659', 'message': 'Software RAID: Create/delete configurations\n\nThis patch proposes to extend the IPA to be able to configure software\nRAID devices. For this, the {create,delete}_configuration methods of\nthe GenericHardwareManager are implemented.\n\nChange-Id: Id20302537f7994982c7584af546a7e7520e9612b\nStory: #2004581\nTask: #29101\n'}]",186,634681,2db123d318e481e4c59e305ca52e4eeb526b7659,95,11,24,11292,,,0,"Software RAID: Create/delete configurations

This patch proposes to extend the IPA to be able to configure software
RAID devices. For this, the {create,delete}_configuration methods of
the GenericHardwareManager are implemented.

Change-Id: Id20302537f7994982c7584af546a7e7520e9612b
Story: #2004581
Task: #29101
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/81/634681/7 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py']",2,a18e8866fe5d986511bb6959af24eb4dffae4034,software_raid," def test_validate_configuration_no_configuration(self, mocked_execute): self.assertEqual(False, self.hardware.validate_configuration({})) @mock.patch.object(utils, 'execute', autospec=True) def test_validate_configuration_valid_raid1(self, mocked_execute): raid_config = { ""logical_disks"": [ { ""size_gb"": ""MAX"", ""raid_level"": ""1"", }, ] } self.assertEqual(True, self.hardware.validate_configuration(raid_config)) @mock.patch.object(utils, 'execute', autospec=True) def test_validate_configuration_valid_raid1_raidN(self, mocked_execute): raid_config = { ""logical_disks"": [ { ""size_gb"": ""MAX"", ""raid_level"": ""1"", }, { ""size_gb"": ""MAX"", ""raid_level"": ""0"", }, ] } self.assertEqual(True, self.hardware.validate_configuration(raid_config)) @mock.patch.object(utils, 'execute', autospec=True) def test_validate_configuration_invalid_raid_level(self, mocked_execute): raid_config = { ""logical_disks"": [ { ""size_gb"": ""MAX"", ""raid_level"": ""1"", }, { ""size_gb"": ""MAX"", ""raid_level"": ""42"", }, ] } self.assertEqual(False, self.hardware.validate_configuration(raid_config)) @mock.patch.object(utils, 'execute', autospec=True) def test_validate_configuration_invalid_no_of_raids(self, mocked_execute): raid_config = { ""logical_disks"": [ { ""size_gb"": ""MAX"", ""raid_level"": ""1"", }, { ""size_gb"": ""MAX"", ""raid_level"": ""0"", }, { ""size_gb"": ""MAX"", ""raid_level"": ""1+0"", }, ] } self.assertEqual(False, self.hardware.validate_configuration(raid_config)) @mock.patch.object(utils, 'execute', autospec=True)",,156,0
openstack%2Fkeystone~master~I7b1c2c740727446d5460dc0025e47e0e9b388d10,openstack/keystone,master,I7b1c2c740727446d5460dc0025e47e0e9b388d10,Exclude constants from autodoc,MERGED,2019-06-05 16:14:21.000000000,2019-06-07 18:25:59.000000000,2019-06-07 18:15:20.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 16:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/92f9910cdd1fa69a545833c366716fa553e1e1f9', 'message': ""Pin Sphinx to <2.1.0 on py3\n\nSince the 2.1.0 release of Sphinx, the docs fail to build because of the\nwarnings-treated-as-errors of the now autodoc'd imported external\nmodules[1]. While we work out a permanent solution, either by fixing the\nissue upstream or reworking our use of module constants, pin Sphinx to\nunblock the gate.\n\n[1] https://github.com/sphinx-doc/sphinx/issues/6447\n\nChange-Id: I7b1c2c740727446d5460dc0025e47e0e9b388d10\n""}, {'number': 2, 'created': '2019-06-05 22:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c78aa291d44f0d777c9e70c5ecbdc0207912d27d', 'message': ""Stop treating Sphinx warnings as errors\n\nSince the 2.1.0 release of Sphinx, the docs fail to build because of the\nwarnings-treated-as-errors of the now autodoc'd imported external\nmodules[1]. While we work out a permanent solution, either by fixing the\nissue upstream or reworking our use of module constants, stop treating\nwarnings as errors.\n\n[1] https://github.com/sphinx-doc/sphinx/issues/6447\n\nChange-Id: I7b1c2c740727446d5460dc0025e47e0e9b388d10\n""}, {'number': 3, 'created': '2019-06-06 21:10:55.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/485a6b2170fe7d62a7ce9b29ccd874ed0f280d77', 'message': ""Exclude constants from autodoc\n\nSince the 2.1.0 release of Sphinx, the docs fail to build because of the\nwarnings-treated-as-errors of the now autodoc'd imported external\nmodules[1]. This change configures sphinx-autodoc to ignore those\nconstants so that the docs can build and the documentation from the\nexternal modules isn't included in keystone's.\n\n[1] https://github.com/sphinx-doc/sphinx/issues/6447\n\nChange-Id: I7b1c2c740727446d5460dc0025e47e0e9b388d10\n""}]",0,663373,485a6b2170fe7d62a7ce9b29ccd874ed0f280d77,20,7,3,8482,,,0,"Exclude constants from autodoc

Since the 2.1.0 release of Sphinx, the docs fail to build because of the
warnings-treated-as-errors of the now autodoc'd imported external
modules[1]. This change configures sphinx-autodoc to ignore those
constants so that the docs can build and the documentation from the
external modules isn't included in keystone's.

[1] https://github.com/sphinx-doc/sphinx/issues/6447

Change-Id: I7b1c2c740727446d5460dc0025e47e0e9b388d10
",git fetch https://review.opendev.org/openstack/keystone refs/changes/73/663373/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,92f9910cdd1fa69a545833c366716fa553e1e1f9,pin-sphinx,"# Temporarily pin sphinx to avoid autodoc errors from imported modules # https://github.com/sphinx-doc/sphinx/issues/6447 sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.1.0;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",3,1
openstack%2Fneutron~master~Ia0a6c3de932ff032aca59ac9b799faff7e261f2c,openstack/neutron,master,Ia0a6c3de932ff032aca59ac9b799faff7e261f2c,Add guidelines for removal of OVO version downgrades,MERGED,2019-05-29 14:12:57.000000000,2019-06-07 18:15:14.000000000,2019-06-07 18:15:14.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 18051}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-29 14:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e1c858d80160a75387a36e74830b5e0ba11aaa0', 'message': 'Add guidelines for removal of OVO version downgrades\n\nOVO objects include downgrade code, so that if a new object version is\nintroduced but an agent is running old code that does not understand it,\nOVO can downgrade the object to something compatible with the older\nversion.  But this code should not be permanent.  This change codifies\nguidelines for how long that code should exist and when it can be\nremoved.\n\nChange-Id: Ia0a6c3de932ff032aca59ac9b799faff7e261f2c\n'}, {'number': 2, 'created': '2019-05-29 15:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9110dc98fbe597bba6b4361b6d2aaab4667b82f8', 'message': 'Add guidelines for removal of OVO version downgrades\n\nOVO objects include downgrade code, so that if a new object version is\nintroduced but an agent is running old code that does not understand it,\nOVO can downgrade the object to something compatible with the older\nversion.  But this code should not be permanent.  This change codifies\nguidelines for how long that code should exist and when it can be\nremoved.\n\nChange-Id: Ia0a6c3de932ff032aca59ac9b799faff7e261f2c\n'}, {'number': 3, 'created': '2019-05-29 18:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8c8ba194ae0372fbeea7d17d044d430dd3c8474', 'message': 'Add guidelines for removal of OVO version downgrades\n\nOVO objects include downgrade code, so that if a new object version is\nintroduced but an agent is running old code that does not understand it,\nOVO can downgrade the object to something compatible with the older\nversion.  But this code should not be permanent.  This change codifies\nguidelines for how long that code should exist and when it can be\nremoved.  It also adds pointers to information regarding the upgrade\nstrategies for several major distributions.\n\nChange-Id: Ia0a6c3de932ff032aca59ac9b799faff7e261f2c\n'}, {'number': 4, 'created': '2019-06-05 19:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cfd22dd90769b5ce4dd2ad6096048d45ba330b59', 'message': 'Add guidelines for removal of OVO version downgrades\n\nOVO objects include downgrade code, so that if a new object version is\nintroduced but an agent is running old code that does not understand it,\nOVO can downgrade the object to something compatible with the older\nversion.  But this code should not be permanent.  This change codifies\nguidelines for how long that code should exist and when it can be\nremoved.  It also adds pointers to information regarding the upgrade\nstrategies for several major distributions.\n\nChange-Id: Ia0a6c3de932ff032aca59ac9b799faff7e261f2c\n'}, {'number': 5, 'created': '2019-06-06 06:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d330f7dc096d3e1d439f3123094cea2cb17b8c76', 'message': 'Add guidelines for removal of OVO version downgrades\n\nOVO objects include downgrade code, so that if a new object version is\nintroduced but an agent is running old code that does not understand it,\nOVO can downgrade the object to something compatible with the older\nversion.  But this code should not be permanent.  This change codifies\nguidelines for how long that code should exist and when it can be\nremoved.  It also adds pointers to information regarding the upgrade\nstrategies for several major distributions.\n\nChange-Id: Ia0a6c3de932ff032aca59ac9b799faff7e261f2c\n'}, {'number': 6, 'created': '2019-06-06 22:00:57.000000000', 'files': ['doc/source/contributor/internals/objects_usage.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/184530cf7b4817a2423ecda1f08e83c4642410d6', 'message': 'Add guidelines for removal of OVO version downgrades\n\nOVO objects include downgrade code, so that if a new object version is\nintroduced but an agent is running old code that does not understand it,\nOVO can downgrade the object to something compatible with the older\nversion.  But this code should not be permanent.  This change codifies\nguidelines for how long that code should exist and when it can be\nremoved.  It also adds pointers to information regarding the upgrade\nstrategies for several major distributions.\n\nChange-Id: Ia0a6c3de932ff032aca59ac9b799faff7e261f2c\n'}]",15,661995,184530cf7b4817a2423ecda1f08e83c4642410d6,48,13,6,13995,,,0,"Add guidelines for removal of OVO version downgrades

OVO objects include downgrade code, so that if a new object version is
introduced but an agent is running old code that does not understand it,
OVO can downgrade the object to something compatible with the older
version.  But this code should not be permanent.  This change codifies
guidelines for how long that code should exist and when it can be
removed.  It also adds pointers to information regarding the upgrade
strategies for several major distributions.

Change-Id: Ia0a6c3de932ff032aca59ac9b799faff7e261f2c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/661995/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/internals/objects_usage.rst'],1,4e1c858d80160a75387a36e74830b5e0ba11aaa0,ovo_removal_guideline,"Removal of downgrade checks over time ------------------------------------- While the code to check object versions is meant to remain for a long period of time, in the interest of not accruing too much cruft over time, they are not intended to be permanent. OVO downgrade code should account for code that is within the upgrade window of any major OpenStack distribution. The longest currently known is for Ubuntu Cloud Archive [#]_ which is to upgrade four versions, meaning during the upgrade the control nodes would be running a release that is four releases newer than what is running on the computes. Therefore removal of OVO version downgrade code should be removed in the fifth cycle after the coe was introduced. For example, if an object version was introduced in Ocata then it can be removed in Train. ",,14,0
openstack%2Fneutron~master~I39026ede7ff57542f35a5a95735ec640f090c19b,openstack/neutron,master,I39026ede7ff57542f35a5a95735ec640f090c19b,Switch to new engine facade for L3_HA_NAT_db_mixin,MERGED,2019-06-05 11:39:57.000000000,2019-06-07 18:15:11.000000000,2019-06-07 18:15:11.000000000,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-06-05 11:39:57.000000000', 'files': ['neutron/db/l3_hamode_db.py', 'neutron/tests/unit/db/test_l3_hamode_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6f659e0b1d7510df097d7cae16e6dab173d17bf', 'message': 'Switch to new engine facade for L3_HA_NAT_db_mixin\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I39026ede7ff57542f35a5a95735ec640f090c19b\n'}]",2,663306,d6f659e0b1d7510df097d7cae16e6dab173d17bf,17,9,1,16688,,,0,"Switch to new engine facade for L3_HA_NAT_db_mixin

Partially-Implements blueprint: enginefacade-switch

Change-Id: I39026ede7ff57542f35a5a95735ec640f090c19b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/663306/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_hamode_db.py', 'neutron/tests/unit/db/test_l3_hamode_db.py']",2,d6f659e0b1d7510df097d7cae16e6dab173d17bf,bp/enginefacade-switch,from neutron_lib.db import api as db_api with db_api.CONTEXT_WRITER.using(ctx):, with ctx.session.begin():,13,12
openstack%2Fkolla~master~I0bff21384d88ea678608392de2db1ba418c96665,openstack/kolla,master,I0bff21384d88ea678608392de2db1ba418c96665,Debian/Ubuntu: more python3 packages for binary,MERGED,2019-06-05 16:23:11.000000000,2019-06-07 17:59:49.000000000,2019-06-07 08:29:09.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-06-05 16:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f4a1388d223b1e905af84deacc36cbeee9d9d5dd', 'message': 'Debian/Ubuntu: more python3 packages for binary\n\nbackport: Stein\n\nDuring the switch to Stein UCA, we did not switch all packages to python\n3 for Debian/Ubuntu binary images. This change switches some more of\nthose packages.\n\nChange-Id: I0bff21384d88ea678608392de2db1ba418c96665\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz@linaro.org>\n'}, {'number': 2, 'created': '2019-06-06 05:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e52938bdb2716599701fd98fc299ad6bf3dbc8c3', 'message': 'Debian/Ubuntu: more python3 packages for binary\n\nbackport: Stein\n\nDuring the switch to Stein UCA, we did not switch all packages to python\n3 for Debian/Ubuntu binary images. This change switches some more of\nthose packages.\n\nChange-Id: I0bff21384d88ea678608392de2db1ba418c96665\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz@linaro.org>\n'}, {'number': 3, 'created': '2019-06-06 10:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3493796abb83aa79e4caf741f70bb093efaa952c', 'message': 'Debian/Ubuntu: more python3 packages for binary\n\nbackport: Stein\n\nDuring the switch to Stein UCA, we did not switch all packages to python\n3 for Debian/Ubuntu binary images. This change switches some more of\nthose packages.\n\nChange-Id: I0bff21384d88ea678608392de2db1ba418c96665\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz@linaro.org>\n'}, {'number': 4, 'created': '2019-06-06 11:07:02.000000000', 'files': ['docker/nova/nova-libvirt/Dockerfile.j2', 'docker/designate/designate-sink/Dockerfile.j2', 'docker/nova/nova-consoleauth/Dockerfile.j2', 'docker/glance/glance-base/Dockerfile.j2', 'docker/openstack-base/Dockerfile.j2', 'docker/openvswitch/openvswitch-base/Dockerfile.j2', 'docker/cinder/cinder-volume/Dockerfile.j2', 'docker/cinder/cinder-base/Dockerfile.j2', 'docker/ironic/ironic-pxe/Dockerfile.j2', 'docker/neutron/neutron-base/Dockerfile.j2', 'docker/ceilometer/ceilometer-base/Dockerfile.j2', 'docker/manila/manila-share/Dockerfile.j2', 'docker/zaqar/zaqar-base/Dockerfile.j2', 'docker/heat/heat-base/Dockerfile.j2', 'docker/manila/manila-api/Dockerfile.j2', 'docker/panko/panko-base/Dockerfile.j2', 'docker/telegraf/Dockerfile.j2', 'docker/dind/Dockerfile.j2', 'docker/ironic/ironic-api/Dockerfile.j2', 'docker/iscsid/Dockerfile.j2', 'docker/mistral/mistral-api/Dockerfile.j2', 'docker/nova/nova-api/Dockerfile.j2', 'docker/nova/nova-compute/Dockerfile.j2', 'docker/designate/designate-base/Dockerfile.j2', 'docker/ceilometer/ceilometer-compute/Dockerfile.j2', 'docker/ironic/ironic-conductor/Dockerfile.j2', 'docker/panko/panko-api/Dockerfile.j2', 'docker/keystone/keystone/Dockerfile.j2', 'docker/sensu/sensu-client/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/aa59f0db6f88ed0a03169b473fdf6d541d34df9f', 'message': 'Debian/Ubuntu: more python3 packages for binary\n\nbackport: Stein\n\nDuring the switch to Stein UCA, we did not switch all packages to python\n3 for Debian/Ubuntu binary images. This change switches some more of\nthose packages.\n\nChange-Id: I0bff21384d88ea678608392de2db1ba418c96665\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz@linaro.org>\n'}]",2,663375,aa59f0db6f88ed0a03169b473fdf6d541d34df9f,27,7,4,14826,,,0,"Debian/Ubuntu: more python3 packages for binary

backport: Stein

During the switch to Stein UCA, we did not switch all packages to python
3 for Debian/Ubuntu binary images. This change switches some more of
those packages.

Change-Id: I0bff21384d88ea678608392de2db1ba418c96665
Co-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz@linaro.org>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/75/663375/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/nova/nova-libvirt/Dockerfile.j2', 'docker/heat/heat-base/Dockerfile.j2', 'docker/manila/manila-api/Dockerfile.j2', 'docker/panko/panko-base/Dockerfile.j2', 'docker/telegraf/Dockerfile.j2', 'docker/glance/glance-base/Dockerfile.j2', 'docker/openstack-base/Dockerfile.j2', 'docker/ironic/ironic-api/Dockerfile.j2', 'docker/iscsid/Dockerfile.j2', 'docker/mistral/mistral-api/Dockerfile.j2', 'docker/nova/nova-api/Dockerfile.j2', 'docker/nova/nova-compute/Dockerfile.j2', 'docker/cinder/cinder-base/Dockerfile.j2', 'docker/ironic/ironic-pxe/Dockerfile.j2', 'docker/neutron/neutron-base/Dockerfile.j2', 'docker/manila/manila-share/Dockerfile.j2', 'docker/zaqar/zaqar-base/Dockerfile.j2', 'docker/ceilometer/ceilometer-compute/Dockerfile.j2', 'docker/sensu/sensu-client/Dockerfile.j2']",19,f4a1388d223b1e905af84deacc36cbeee9d9d5dd,bp/debian-ubuntu-python3," 'python3-cephfs', 'python3-pymongo', 'python3-rados', 'python3-rbd'", 'python-pymongo',67,51
openstack%2Fkolla~master~Ic1e5030c890c4473f792904556941bda97dafcd0,openstack/kolla,master,Ic1e5030c890c4473f792904556941bda97dafcd0,Install pymysql for python3 in Ubuntu binary,ABANDONED,2019-06-03 15:27:53.000000000,2019-06-07 17:56:54.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-03 15:27:53.000000000', 'files': ['docker/openstack-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/508d7da004ba5698321a14555707a18b796b34af', 'message': 'Install pymysql for python3 in Ubuntu binary\n\nThis is needed for ironic inspector.\n\nChange-Id: Ic1e5030c890c4473f792904556941bda97dafcd0\nCloses-Bug: #1831469\n'}]",2,662788,508d7da004ba5698321a14555707a18b796b34af,15,6,1,14826,,,0,"Install pymysql for python3 in Ubuntu binary

This is needed for ironic inspector.

Change-Id: Ic1e5030c890c4473f792904556941bda97dafcd0
Closes-Bug: #1831469
",git fetch https://review.opendev.org/openstack/kolla refs/changes/88/662788/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/openstack-base/Dockerfile.j2'],1,508d7da004ba5698321a14555707a18b796b34af,bug/1831469," 'python-zaqarclient', 'python3-pymysql',", 'python-zaqarclient',2,1
openstack%2Fpuppet-tripleo~master~Iff6ed763cdca12db2a66cc615b47b04258ec18a7,openstack/puppet-tripleo,master,Iff6ed763cdca12db2a66cc615b47b04258ec18a7,add glue for nova serialproxy support,MERGED,2019-03-13 17:09:19.000000000,2019-06-07 17:42:12.000000000,2019-06-07 17:42:12.000000000,"[{'_account_id': 7144}, {'_account_id': 8745}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-13 17:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2c7ecd4d5557b9d8f8e1055fdb3a1db1791d89d6', 'message': 'add glue for nova serialproxy support\n\nChange-Id: Iff6ed763cdca12db2a66cc615b47b04258ec18a7\n'}, {'number': 2, 'created': '2019-03-14 01:40:10.000000000', 'files': ['manifests/profile/base/nova/serialproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b0515a8984a015518316d1389d86839cc8747c8c', 'message': 'add glue for nova serialproxy support\n\nChange-Id: Iff6ed763cdca12db2a66cc615b47b04258ec18a7\n'}]",0,643103,b0515a8984a015518316d1389d86839cc8747c8c,21,6,2,8745,,,0,"add glue for nova serialproxy support

Change-Id: Iff6ed763cdca12db2a66cc615b47b04258ec18a7
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/03/643103/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/nova/serialproxy.pp'],1,2c7ecd4d5557b9d8f8e1055fdb3a1db1791d89d6,feature/serialproxy,"# Copyright 2019 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::nova::vncproxy # # Nova serial-proxy profile for tripleo # # === Parameters # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # class tripleo::profile::base::nova::vncproxy ( $step = Integer(hiera('step')), ) { if $step >= 4 { include ::tripleo::profile::base::nova include ::nova::serialproxy } } ",,33,0
openstack%2Fnova~master~Ia6d8a7909081b0b856bd7e290e234af7e42a2b38,openstack/nova,master,Ia6d8a7909081b0b856bd7e290e234af7e42a2b38,Update usage in RT.drop_move_claim during confirm resize,MERGED,2019-03-07 21:10:46.000000000,2019-06-07 17:34:01.000000000,2019-06-07 12:35:45.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27679}]","[{'number': 1, 'created': '2019-03-07 21:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/682a9510c39d7d79aa9e6143b8a36ef5d47420ce', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\n'}, {'number': 2, 'created': '2019-03-07 21:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3248ea0095743f61f395a16547f48d5747eea3ba', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 3, 'created': '2019-03-07 22:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d338f43a245582cd27df761871426e8ee8514cf', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 4, 'created': '2019-03-14 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70f04819f64cf78bafd9a8566ce4d9f9a993a991', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 5, 'created': '2019-03-15 11:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d036776df8163fc5cbf6b332183716b7b2d7772b', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 6, 'created': '2019-04-01 22:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2805865445bc5e62c18d43e06fc996ff859bf8e6', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 7, 'created': '2019-04-03 21:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6e6f34e118f74060fccfe094fca952e20b21190', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 8, 'created': '2019-04-06 01:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/081e8a8a46c5bacecfc25c3f225dafbdcb089636', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 9, 'created': '2019-04-11 19:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/991ebe7550a0d0c7f20c778b0e83f398041a3af4', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 10, 'created': '2019-04-17 22:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/249a0182b9bd714946a4dabbd613deace78d4b76', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 11, 'created': '2019-04-19 01:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/350fa22cf807dd740141b674d481a33a41dbe126', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 12, 'created': '2019-04-20 22:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ace11309de51dea70a189697d5d4e2b0e78620c0', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 13, 'created': '2019-04-26 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/150e76fc174803e8592bb11e4cc028ef150719ca', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 14, 'created': '2019-04-30 20:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a4a79f350c14d0296866e82453f4ea410524ebf', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 15, 'created': '2019-05-01 15:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/269a3d70ab449b60269535f0ec2303f03d8ba040', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 16, 'created': '2019-05-02 03:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7eff03bbfcdd00e143bcb45634f549aa9c565fbc', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 17, 'created': '2019-05-09 22:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fa9d5e7fb1eaef70e6cf8ec1047a210b0e5d137', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 18, 'created': '2019-05-13 19:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57f5216ef87f65dde8864a27278b66ffa5aee1f1', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 19, 'created': '2019-05-16 02:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56251a16c1754db7b19a23ac5a225aab270849fb', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 20, 'created': '2019-05-28 23:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/674617e212623e9c1eb1a27411921b60671afa0d', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}, {'number': 21, 'created': '2019-05-29 21:34:26.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ad9f37350ad1f4e598a9a5df559b9160db1a11c1', 'message': 'Update usage in RT.drop_move_claim during confirm resize\n\nThe confirm resize flow in the compute manager\nruns on the source host. It calls RT.drop_move_claim\nto drop resource usage from the source host for the\nold flavor. The problem with drop_move_claim is it\nonly decrements the old flavor from the reported usage\nif the instance is in RT.tracked_migrations, which will\nonly be there on the source host if the update_available_resource\nperiodic task runs before the resize is confirmed, otherwise\nthe instance is still just tracked in RT.tracked_instances on\nthe source host. This leaves the source compute incorrectly\nreporting resource usage for the old flavor until the next\nperiodic runs, which could be a large window if resizes are\nconfigured to automatically confirm, e.g. resize_confirm_window=1,\nand the periodic interval is big, e.g. update_resources_interval=600.\n\nThis fixes the issue by also updating usage in drop_move_claim\nwhen the instance is not in tracked_migrations but is in\ntracked_instances.\n\nBecause of the tight coupling with the instance.migration_context\nwe need to ensure the migration_context still exists before\ndrop_move_claim is called during confirm_resize, so a test wrinkle\nis added to enforce that.\n\ntest_drop_move_claim_on_revert also needed some updating for\nreality because of how drop_move_claim is called during\nrevert_resize.\n\nAnd finally, the functional recreate test is updated to show the\nbug is fixed.\n\nChange-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38\nCloses-Bug: #1818914\nRelated-Bug: #1641750\nRelated-Bug: #1498126\n'}]",6,641806,ad9f37350ad1f4e598a9a5df559b9160db1a11c1,292,18,21,6873,,,0,"Update usage in RT.drop_move_claim during confirm resize

The confirm resize flow in the compute manager
runs on the source host. It calls RT.drop_move_claim
to drop resource usage from the source host for the
old flavor. The problem with drop_move_claim is it
only decrements the old flavor from the reported usage
if the instance is in RT.tracked_migrations, which will
only be there on the source host if the update_available_resource
periodic task runs before the resize is confirmed, otherwise
the instance is still just tracked in RT.tracked_instances on
the source host. This leaves the source compute incorrectly
reporting resource usage for the old flavor until the next
periodic runs, which could be a large window if resizes are
configured to automatically confirm, e.g. resize_confirm_window=1,
and the periodic interval is big, e.g. update_resources_interval=600.

This fixes the issue by also updating usage in drop_move_claim
when the instance is not in tracked_migrations but is in
tracked_instances.

Because of the tight coupling with the instance.migration_context
we need to ensure the migration_context still exists before
drop_move_claim is called during confirm_resize, so a test wrinkle
is added to enforce that.

test_drop_move_claim_on_revert also needed some updating for
reality because of how drop_move_claim is called during
revert_resize.

And finally, the functional recreate test is updated to show the
bug is fixed.

Change-Id: Ia6d8a7909081b0b856bd7e290e234af7e42a2b38
Closes-Bug: #1818914
Related-Bug: #1641750
Related-Bug: #1498126
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/641806/17 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/resource_tracker.py']",5,682a9510c39d7d79aa9e6143b8a36ef5d47420ce,bp/cross-cell-resize," update_usage = False update_usage = True elif instance['uuid'] in self.tracked_instances: update_usage = True if update_usage: # If we got here, we require instance_type and if we do not have # one consider it a programming error. if instance_type is None: raise RuntimeError('Unable to update resource tracker usage ' 'without a flavor for instance: %s' % instance.uuid) numa_topology = self._get_migration_context_resource( 'numa_topology', instance, prefix=prefix) usage = self._get_usage_dict( instance_type, instance, numa_topology=numa_topology) self._update_usage(usage, nodename, sign=-1)"," if instance_type is not None: numa_topology = self._get_migration_context_resource( 'numa_topology', instance, prefix=prefix) usage = self._get_usage_dict( instance_type, instance, numa_topology=numa_topology) self._drop_pci_devices(instance, nodename, prefix) self._update_usage(usage, nodename, sign=-1) ctxt = context.elevated() self._update(ctxt, self.compute_nodes[nodename]) elif (instance['uuid'] in self.tracked_instances): # TODO(lbeliveau): Validate if numa needs the same treatment.",52,28
openstack%2Fkeystoneauth~master~I21a33052e951f515988fdfd8ab1f42440ca9d4f8,openstack/keystoneauth,master,I21a33052e951f515988fdfd8ab1f42440ca9d4f8,add a handler for unknown HTTP errors,MERGED,2019-06-04 20:07:16.000000000,2019-06-07 17:27:43.000000000,2019-06-07 17:27:43.000000000,"[{'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 10670}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 20:07:16.000000000', 'files': ['releasenotes/notes/improve-http-error-handling.yaml', 'keystoneauth1/tests/unit/test_session.py', 'keystoneauth1/exceptions/http.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/96559d6009072bd131a9a4eb9bdf02a349cf44f8', 'message': 'add a handler for unknown HTTP errors\n\nThis change adds logic to handle a situation where an error response has\nbeen received by HTTP but its body schema is an unknown format.\n\nThis issue came up during a review of related changes:\nhttps://review.opendev.org/#/c/662281/\nhttps://review.opendev.org/#/c/662281/7/keystoneauth1/exceptions/http.py\n\nChange-Id: I21a33052e951f515988fdfd8ab1f42440ca9d4f8\n'}]",0,663132,96559d6009072bd131a9a4eb9bdf02a349cf44f8,8,4,1,10670,,,0,"add a handler for unknown HTTP errors

This change adds logic to handle a situation where an error response has
been received by HTTP but its body schema is an unknown format.

This issue came up during a review of related changes:
https://review.opendev.org/#/c/662281/
https://review.opendev.org/#/c/662281/7/keystoneauth1/exceptions/http.py

Change-Id: I21a33052e951f515988fdfd8ab1f42440ca9d4f8
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/32/663132/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/tests/unit/test_session.py', 'releasenotes/notes/improve-http-error-handling.yaml', 'keystoneauth1/exceptions/http.py']",3,96559d6009072bd131a9a4eb9bdf02a349cf44f8,add-more-error-handling," else: kwargs[""message""] = ""Unrecognized schema in response body.""",,19,0
openstack%2Fglance~master~I37d881315e801926bd5a7ae46402038fd69e060b,openstack/glance,master,I37d881315e801926bd5a7ae46402038fd69e060b,Don't target broken ssl tests to specific py3.minor,MERGED,2019-05-09 09:57:18.000000000,2019-06-07 17:24:45.000000000,2019-06-07 17:24:45.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 25314}, {'_account_id': 26233}, {'_account_id': 27336}]","[{'number': 1, 'created': '2019-05-09 09:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e0792bbe108e6971830ff57ee28876c3dcbfd6b1', 'message': ""Don't target broken ssl tests to specific py3.minor\n\nChange-Id: I37d881315e801926bd5a7ae46402038fd69e060b\n""}, {'number': 2, 'created': '2019-05-14 11:34:13.000000000', 'files': ['broken-functional-py3-ssl-tests.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/8aea36403d80fc5b278e5398bf539e0cee2bda6a', 'message': ""Don't target broken ssl tests to specific py3.minor\n\nChange-Id: I37d881315e801926bd5a7ae46402038fd69e060b\n""}]",1,657966,8aea36403d80fc5b278e5398bf539e0cee2bda6a,27,8,2,5202,,,0,"Don't target broken ssl tests to specific py3.minor

Change-Id: I37d881315e801926bd5a7ae46402038fd69e060b
",git fetch https://review.opendev.org/openstack/glance refs/changes/66/657966/1 && git format-patch -1 --stdout FETCH_HEAD,"['broken-functional-py3-ssl-tests.txt', '.zuul.yaml', 'tox.ini']",3,e0792bbe108e6971830ff57ee28876c3dcbfd6b1,py3-ssl, stestr run --blacklist-file ./broken-functional-py3-ssl-tests.txt {posargs} stestr run --blacklist-file ./broken-functional-py3-ssl-tests.txt {posargs} stestr run --blacklist-file ./broken-functional-py3-ssl-tests.txt {posargs} [testenv:broken-py3-ssl-tests]basepython = python3 stestr run --whitelist-file ./broken-functional-py3-ssl-tests.txt {posargs}, stestr run --blacklist-file ./broken-functional-py35-ssl-tests.txt {posargs} stestr run --blacklist-file ./broken-functional-py35-ssl-tests.txt {posargs} stestr run --blacklist-file ./broken-functional-py35-ssl-tests.txt {posargs} [testenv:broken-py35-ssl-tests]basepython = python3.5 stestr run --whitelist-file ./broken-functional-py35-ssl-tests.txt {posargs},9,9
openstack%2Fironic-python-agent~master~I2b4c835d57d3888e3325aee40e8319ef8683cd27,openstack/ironic-python-agent,master,I2b4c835d57d3888e3325aee40e8319ef8683cd27,Software RAID: Check if install partition exists,MERGED,2019-06-06 12:32:33.000000000,2019-06-07 17:22:43.000000000,2019-06-07 17:22:43.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-06 12:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0469e1968363388d892d6890d999df3ceff00c5f', 'message': 'Software RAID: Check if install partition exists\n\nThe deployment on top of a software RAID goes to the first partition\nof the md device. Raise an exception if that partition does not exist.\n\nFollow-up to Ieb2c95ff130b5cc1e643fcde500066d9458ddbec\n\nChange-Id: I2b4c835d57d3888e3325aee40e8319ef8683cd27\n'}, {'number': 2, 'created': '2019-06-07 12:53:09.000000000', 'files': ['ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3e2d3481a566fb03c73993b08a4b2d78b3cdc5e5', 'message': 'Software RAID: Check if install partition exists\n\nThe deployment on top of a software RAID goes to the first partition\nof the md device. Raise an exception if that partition does not exist.\n\nFollow-up to Ieb2c95ff130b5cc1e643fcde500066d9458ddbec\n\nChange-Id: I2b4c835d57d3888e3325aee40e8319ef8683cd27\n'}]",3,663627,3e2d3481a566fb03c73993b08a4b2d78b3cdc5e5,11,4,2,11292,,,0,"Software RAID: Check if install partition exists

The deployment on top of a software RAID goes to the first partition
of the md device. Raise an exception if that partition does not exist.

Follow-up to Ieb2c95ff130b5cc1e643fcde500066d9458ddbec

Change-Id: I2b4c835d57d3888e3325aee40e8319ef8683cd27
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/27/663627/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/extensions/image.py'],1,0469e1968363388d892d6890d999df3ceff00c5f,software_raid_ipa_followup,"import stat if (not os.path.exists(md_partition) or not stat.S_ISBLK(os.stat(md_partition).st_mode)): error_msg = (""Could not find partition %(part)s on md "" ""device %(dev)s"" % {'part': md_partition, 'dev': device}) LOG.error(error_msg) raise errors.DeviceNotFound(error_msg) disks = [device]", disks = [] disks.append(device),9,2
openstack%2Fkolla-ansible~master~I22ac5799bd19ad1d862621ed9b80a5ec9035a688,openstack/kolla-ansible,master,I22ac5799bd19ad1d862621ed9b80a5ec9035a688,WIP: Use Ansible upstream modules,ABANDONED,2019-06-07 14:38:21.000000000,2019-06-07 17:15:40.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-07 14:38:21.000000000', 'files': ['ansible/roles/keystone/tasks/upgrade.yml', 'ansible/roles/keystone/tasks/register.yml', 'ansible/roles/keystone/tasks/check.yml', 'ansible/roles/keystone/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/33280c01cd2a0f9f36a1a187464eda019eecb562', 'message': 'WIP: Use Ansible upstream modules\n\nThis is work in progress to use Ansible upstream modules where possible,\ninstead of kolla_toolbox.\n\nChange-Id: I22ac5799bd19ad1d862621ed9b80a5ec9035a688\n'}]",0,663963,33280c01cd2a0f9f36a1a187464eda019eecb562,6,4,1,22629,,,0,"WIP: Use Ansible upstream modules

This is work in progress to use Ansible upstream modules where possible,
instead of kolla_toolbox.

Change-Id: I22ac5799bd19ad1d862621ed9b80a5ec9035a688
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/663963/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/tasks/upgrade.yml', 'ansible/roles/keystone/tasks/register.yml', 'ansible/roles/keystone/tasks/check.yml', 'ansible/roles/keystone/tasks/bootstrap.yml']",4,33280c01cd2a0f9f36a1a187464eda019eecb562,feature/use_ansible_modules," mysql_db: login_host: ""{{ database_address }}"" login_port: ""{{ database_port }}"" login_user: ""{{ database_user }}"" login_password: ""{{ database_password }}"" name: ""{{ keystone_database_name }}"" mysql_user: login_host: ""{{ database_address }}"" login_port: ""{{ database_port }}"" login_user: ""{{ database_user }}"" login_password: ""{{ database_password }}"" name: ""{{ keystone_database_user }}"" password: ""{{ keystone_database_password }}"" host: ""%"" priv: ""{{ keystone_database_name }}.*:ALL"" append_privs: ""yes"""," kolla_toolbox: module_name: mysql_db module_args: login_host: ""{{ database_address }}"" login_port: ""{{ database_port }}"" login_user: ""{{ database_user }}"" login_password: ""{{ database_password }}"" name: ""{{ keystone_database_name }}"" kolla_toolbox: module_name: mysql_user module_args: login_host: ""{{ database_address }}"" login_port: ""{{ database_port }}"" login_user: ""{{ database_user }}"" login_password: ""{{ database_password }}"" name: ""{{ keystone_database_user }}"" password: ""{{ keystone_database_password }}"" host: ""%"" priv: ""{{ keystone_database_name }}.*:ALL"" append_privs: ""yes""",53,66
openstack%2Fheat~stable%2Fpike~Id87935bdb1484e66f6066361d80e245d08d9ab66,openstack/heat,stable/pike,Id87935bdb1484e66f6066361d80e245d08d9ab66,Fix multi region issue for software deployment,MERGED,2018-11-13 11:21:04.000000000,2019-06-07 17:02:15.000000000,2019-06-07 17:02:15.000000000,"[{'_account_id': 4257}, {'_account_id': 6484}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 11:21:04.000000000', 'files': ['heat/tests/openstack/nova/test_server.py', 'heat/engine/resources/server_base.py', 'heat/tests/openstack/heat/test_deployed_server.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/f11d2073ef01517a5be2ea96ad40a84bb0c7f525', 'message': 'Fix multi region issue for software deployment\n\nExcept commit Iec6f3606c9fdf8474f393b0990356f34d38bcf75 we still\nneed this one to make sure the region name can be populated as\ndeployment metadata.\n\nTask: 22854\nStory: 2002781\n\nDepends-On: https://review.openstack.org/#/c/617593\n\nChange-Id: Id87935bdb1484e66f6066361d80e245d08d9ab66\n(cherry picked from commit 73d5b2cabe74faa2a55deef48928b1a46658ac21)\n'}]",0,617597,f11d2073ef01517a5be2ea96ad40a84bb0c7f525,9,4,1,12404,,,0,"Fix multi region issue for software deployment

Except commit Iec6f3606c9fdf8474f393b0990356f34d38bcf75 we still
need this one to make sure the region name can be populated as
deployment metadata.

Task: 22854
Story: 2002781

Depends-On: https://review.openstack.org/#/c/617593

Change-Id: Id87935bdb1484e66f6066361d80e245d08d9ab66
(cherry picked from commit 73d5b2cabe74faa2a55deef48928b1a46658ac21)
",git fetch https://review.opendev.org/openstack/heat refs/changes/97/617597/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/nova/test_server.py', 'heat/engine/resources/server_base.py', 'heat/tests/openstack/heat/test_deployed_server.py']",3,f11d2073ef01517a5be2ea96ad40a84bb0c7f525,story/2002781_22661-stable/pike," stack = parser.Stack(utils.dummy_context(region_name=""RegionOne""), stack_name, tmpl, 'region_name': 'RegionOne', 'region_name': 'RegionOne', 'region_name': 'RegionOne', 'region_name': 'RegionOne',"," stack = parser.Stack(utils.dummy_context(), stack_name, tmpl,",27,9
openstack%2Fheat~stable%2Fpike~Iefd3cdd20bb51c63e7267ae0628e0f15544c0427,openstack/heat,stable/pike,Iefd3cdd20bb51c63e7267ae0628e0f15544c0427,Return None for attributes of sd with no actions,MERGED,2019-05-31 12:06:30.000000000,2019-06-07 17:02:07.000000000,2019-06-07 17:02:07.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 12:06:30.000000000', 'files': ['heat/engine/resources/openstack/heat/software_deployment.py', 'heat/tests/openstack/heat/test_software_deployment.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/03d6348f40073b80e671e885ae1b8aef6c23906a', 'message': ""Return None for attributes of sd with no actions\n\nIf the 'actions' property of a deployment is [], we don't\ncreate a software deployment in heat and resource_id of the\nsoftware deployment is None. However, there is a possibility\nthat we access the attributes of the sd in the template and\nthat results in TypeError as we try to make an rpc call to\nshow the software deployment for None.\n\nChange-Id: Iefd3cdd20bb51c63e7267ae0628e0f15544c0427\nTask: 33516\n(cherry picked from commit ee061103477ed7c9b4692a8b90817a127064fbcd)\n""}]",0,662443,03d6348f40073b80e671e885ae1b8aef6c23906a,8,3,1,8833,,,0,"Return None for attributes of sd with no actions

If the 'actions' property of a deployment is [], we don't
create a software deployment in heat and resource_id of the
software deployment is None. However, there is a possibility
that we access the attributes of the sd in the template and
that results in TypeError as we try to make an rpc call to
show the software deployment for None.

Change-Id: Iefd3cdd20bb51c63e7267ae0628e0f15544c0427
Task: 33516
(cherry picked from commit ee061103477ed7c9b4692a8b90817a127064fbcd)
",git fetch https://review.opendev.org/openstack/heat refs/changes/43/662443/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/heat/software_deployment.py', 'heat/tests/openstack/heat/test_software_deployment.py']",2,03d6348f40073b80e671e885ae1b8aef6c23906a,, self.deployment.resource_id = 'c8a19429-7fde-47ea-a42f-40045488226c' self.deployment.resource_id = 'c8a19429-7fde-47ea-a42f-40045488226c',,9,7
openstack%2Fos-brick~master~I152fe10ff5a3131950b789d3fd4efa15c554ff09,openstack/os-brick,master,I152fe10ff5a3131950b789d3fd4efa15c554ff09,luks: Default to LUKS v1 when formatting volumes,MERGED,2019-06-07 11:55:41.000000000,2019-06-07 16:54:27.000000000,2019-06-07 16:36:01.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-06-07 11:55:41.000000000', 'files': ['os_brick/encryptors/luks.py', 'os_brick/tests/encryptors/test_luks.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/94312bd90fe42a870b4f098e00ddd9ff2aacd1bb', 'message': 'luks: Default to LUKS v1 when formatting volumes\n\ncryptsetup 2.0.6 has started to default to LUKS v2 or LUKS2 when\nformatting volumes.  However QEMU currently has no support for v2 and\nwill fail to open the volume when being used to natively decrypt.\n\nFor now we should default the original LUKS encryptor to v1 when\nformatting volumes, introducing a new LUKS2 encryptor and encryption\nconstant in a future change.\n\nCloses-bug: 1831994\nChange-Id: I152fe10ff5a3131950b789d3fd4efa15c554ff09\n'}]",0,663914,94312bd90fe42a870b4f098e00ddd9ff2aacd1bb,21,16,1,10135,,,0,"luks: Default to LUKS v1 when formatting volumes

cryptsetup 2.0.6 has started to default to LUKS v2 or LUKS2 when
formatting volumes.  However QEMU currently has no support for v2 and
will fail to open the volume when being used to natively decrypt.

For now we should default the original LUKS encryptor to v1 when
formatting volumes, introducing a new LUKS2 encryptor and encryption
constant in a future change.

Closes-bug: 1831994
Change-Id: I152fe10ff5a3131950b789d3fd4efa15c554ff09
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/14/663914/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/encryptors/luks.py', 'os_brick/tests/encryptors/test_luks.py']",2,94312bd90fe42a870b4f098e00ddd9ff2aacd1bb,bug/1831994," '--type', 'luks', '--key-file=-', self.dev_path, '--type', 'luks', '--key-file=-', self.dev_path, process_input=fake_key,"," '--key-file=-', self.dev_path, '--key-file=-', self.dev_path, process_input=fake_key,",5,3
openstack%2Fneutron~stable%2Fpike~I246c1f56df889bad9c7e140b56c3614124d80a19,openstack/neutron,stable/pike,I246c1f56df889bad9c7e140b56c3614124d80a19,Packets getting lost during SNAT with too many connections,MERGED,2019-04-25 20:58:29.000000000,2019-06-07 16:52:51.000000000,2019-06-07 16:52:51.000000000,"[{'_account_id': 1131}, {'_account_id': 7016}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-04-25 20:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4baa5a787f974e868e47a2d5721cc429d58871e0', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}, {'number': 2, 'created': '2019-04-26 20:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c7345c0c01a416d5009aec6fc82a86020956026', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}, {'number': 3, 'created': '2019-05-07 17:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2450773a623d4ae2e4d0aee2f86767e29bce2c4b', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}, {'number': 4, 'created': '2019-05-29 18:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75db10a820d965b43b2b39ee07c206f04748dbf6', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}, {'number': 5, 'created': '2019-06-04 23:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfcb0f1f13075d70e6ca97bd037be00126fa8dde', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nConflicts:\n    neutron/agent/linux/iptables_manager.py\n    neutron/common/constants.py\n    neutron/tests/unit/agent/l3/test_agent.py\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}, {'number': 6, 'created': '2019-06-06 15:34:01.000000000', 'files': ['neutron/common/constants.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/iptables_manager.py', 'neutron/common/utils.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/unit/common/test_utils.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d772b735fbc8441f876d6de1c31252db201acd73', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nConflicts:\n    neutron/agent/linux/iptables_manager.py\n    neutron/common/constants.py\n    neutron/tests/unit/agent/l3/test_agent.py\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}]",0,655794,d772b735fbc8441f876d6de1c31252db201acd73,31,7,6,7016,,,0,"Packets getting lost during SNAT with too many connections

We have a problem with SNAT with too many connections using the
same source and destination on the network nodes.

In addition we can see in the conntrack table that the who
""instert_failed"" increases.

This might be a generic problem with conntrack and linux.
We suspect that we encounter the following ""limitation / bug""
in the kernel.

There seems to be a workaround to alleviate this behavior by
setting the -random-fully flag in iptables for port consumption.

This patch fixes the problem by adding the --random-fully to
the SNAT rules.

Conflicts:
    neutron/agent/linux/iptables_manager.py
    neutron/common/constants.py
    neutron/tests/unit/agent/l3/test_agent.py

Change-Id: I246c1f56df889bad9c7e140b56c3614124d80a19
Closes-Bug: #1814002
(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/655794/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/constants.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/iptables_manager.py', 'neutron/common/utils.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/unit/common/test_utils.py', 'neutron/agent/l3/dvr_edge_router.py']",9,4baa5a787f974e868e47a2d5721cc429d58871e0,bug/1814002," to_source = '-s %s/32 -j SNAT --to-source %s' % (fixed_ip, floating_ip) if self.snat_iptables_manager.random_fully: to_source += ' --random-fully' ('float-snat', to_source)]"," ('float-snat', '-s %s/32 -j SNAT --to-source %s' % (fixed_ip, floating_ip))]",120,31
openstack%2Fovsdbapp~master~I89b3f71615a73e93623c24251d4fa3d0c89661c8,openstack/ovsdbapp,master,I89b3f71615a73e93623c24251d4fa3d0c89661c8,Replace openstack repository by opendev,MERGED,2019-06-01 02:36:31.000000000,2019-06-07 16:38:45.000000000,2019-06-07 16:38:45.000000000,"[{'_account_id': 5756}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-01 02:36:31.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/b6c55cd4c5c9982d400fb0dc537feed782e192f4', 'message': 'Replace openstack repository by opendev\n\nChange-Id: I89b3f71615a73e93623c24251d4fa3d0c89661c8\n'}]",0,662591,b6c55cd4c5c9982d400fb0dc537feed782e192f4,6,2,1,29874,,,0,"Replace openstack repository by opendev

Change-Id: I89b3f71615a73e93623c24251d4fa3d0c89661c8
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/91/662591/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,b6c55cd4c5c9982d400fb0dc537feed782e192f4,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},2,2
openstack%2Fnetworking-midonet~master~I00c4a8aa0cca44b5940e011a61a0d51b46492c97,openstack/networking-midonet,master,I00c4a8aa0cca44b5940e011a61a0d51b46492c97,Remove CINDER_PERIODIC_INTERVAL setting,MERGED,2019-04-24 14:00:28.000000000,2019-06-07 16:37:29.000000000,2019-06-07 16:37:29.000000000,"[{'_account_id': 5314}, {'_account_id': 6854}, {'_account_id': 19307}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 14:00:28.000000000', 'files': ['devstack/magnum/local.conf'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/1ed62bdb1339cce4e02fa5c738355ceaf3245c8b', 'message': 'Remove CINDER_PERIODIC_INTERVAL setting\n\nDevstack allows setting the Cinder periodic_interval config option\nvia the CINDER_PERIODIC_INTERVAL shell var.  The dependency of this\npatch removes the ability to set this via devstack, which means that\nthe Cinder periodic_interval will have its default value of 60.\n\nThe CINDER_PERIODIC_INTERVAL was introduced in devstack in havana as\na workaround for Bug #1180976.  That bug, however, was fixed in such\na way that it does not require adjusting the periodic_interval in\nCinder.\n\nDepends-on: https://review.opendev.org/#/c/652711\nChange-Id: I00c4a8aa0cca44b5940e011a61a0d51b46492c97\nPartial-bug: #1824837\n'}]",0,655448,1ed62bdb1339cce4e02fa5c738355ceaf3245c8b,9,4,1,5314,,,0,"Remove CINDER_PERIODIC_INTERVAL setting

Devstack allows setting the Cinder periodic_interval config option
via the CINDER_PERIODIC_INTERVAL shell var.  The dependency of this
patch removes the ability to set this via devstack, which means that
the Cinder periodic_interval will have its default value of 60.

The CINDER_PERIODIC_INTERVAL was introduced in devstack in havana as
a workaround for Bug #1180976.  That bug, however, was fixed in such
a way that it does not require adjusting the periodic_interval in
Cinder.

Depends-on: https://review.opendev.org/#/c/652711
Change-Id: I00c4a8aa0cca44b5940e011a61a0d51b46492c97
Partial-bug: #1824837
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/48/655448/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/magnum/local.conf'],1,1ed62bdb1339cce4e02fa5c738355ceaf3245c8b,bug/1180976,,CINDER_PERIODIC_INTERVAL=10,0,1
openstack%2Fneutron~stable%2Fqueens~Ida6b7ae53f3fc76f54e389c5f7131b5a66f533ce,openstack/neutron,stable/queens,Ida6b7ae53f3fc76f54e389c5f7131b5a66f533ce,[DVR] Block ARP to dvr router's port instead of subnet's gateway,MERGED,2019-06-04 23:16:25.000000000,2019-06-07 16:32:21.000000000,2019-06-07 16:32:20.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30105}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-06-04 23:16:25.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b3e401533e9e99cdaa741bed8452a7378de0356', 'message': ""[DVR] Block ARP to dvr router's port instead of subnet's gateway\n\nIt may happen that subnet is connected to dvr router using IP address\ndifferent than subnet's gateway_ip.\nSo in br-tun arp to dvr router's port should be dropped instead of\ndropping arp to subnet's gateway_ip (or mac in case of IPv6).\n\nConflicts:\n        neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py\n\nChange-Id: Ida6b7ae53f3fc76f54e389c5f7131b5a66f533ce\nCloses-bug: #1831575\n(cherry picked from commit ae3aa28f5a4749b4e4cb3f0ae0d009c0734db405)\n""}]",0,663160,9b3e401533e9e99cdaa741bed8452a7378de0356,13,7,1,7016,,,0,"[DVR] Block ARP to dvr router's port instead of subnet's gateway

It may happen that subnet is connected to dvr router using IP address
different than subnet's gateway_ip.
So in br-tun arp to dvr router's port should be dropped instead of
dropping arp to subnet's gateway_ip (or mac in case of IPv6).

Conflicts:
        neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py

Change-Id: Ida6b7ae53f3fc76f54e389c5f7131b5a66f533ce
Closes-bug: #1831575
(cherry picked from commit ae3aa28f5a4749b4e4cb3f0ae0d009c0734db405)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/663160/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,9b3e401533e9e99cdaa741bed8452a7378de0356,bug/1831575-stable/queens," gateway_ip): gateway_mac=port.vif_mac), gateway_ip = '1.1.1.10' self._port.vif_mac = 'aa:bb:cc:11:22:33' gateway_mac = 'aa:bb:cc:66:66:66' gateway_ip=self._fixed_ips[0]['ip_address']) gateway_ip=gateway_ip) gateway_ip=gateway_ip) gateway_ip=gateway_ip)"," gateway_ip, gateway_mac): gateway_mac=gateway_mac), gateway_ip = '1.1.1.1' self._port.vif_mac = gateway_mac = 'aa:bb:cc:11:22:33' gateway_ip=gateway_ip, gateway_mac=gateway_mac) gateway_ip=gateway_ip, gateway_mac=gateway_mac) gateway_ip=gateway_ip, gateway_mac=gateway_mac) gateway_ip=gateway_ip, gateway_mac=gateway_mac)",12,16
openstack%2Fpython-neutronclient~stable%2Fstein~I31c6c0596831d4445f11984b0b3ceee434a74664,openstack/python-neutronclient,stable/stein,I31c6c0596831d4445f11984b0b3ceee434a74664,Fix broken pep8 and requirements jobs,MERGED,2019-06-06 10:16:14.000000000,2019-06-07 16:26:52.000000000,2019-06-07 16:26:52.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 10:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/3df16ba7eb5123d39fe1d8e498264bf563b84392', 'message': 'cap bandit in test-requirements.txt for stable/stein release\n\nAs in neutron and other repositories, this patch cap bandit version\nused for stable/stein release to be lower than 1.6.0\n\nChange-Id: I31c6c0596831d4445f11984b0b3ceee434a74664\n'}, {'number': 2, 'created': '2019-06-06 14:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/88fa6b282bace1580c5cd12b1932a7fed3afeb30', 'message': 'Fix broken pep8 and requirements jobs\n\nThis patch solves 2 issues in gate jobs:\n\n1. Failing pep8 job due to wrong bandit version,\n   To fix that we cap bandit in test-requirements.txt\n   for stable/stein release.\n   As in neutron and other repositories, this patch cap\n   bandit version used for stable/stein release to be lower\n   than 1.6.0\n\n2. Requirements job failing on sphinx,\n   To fix that we sphinx requirements in doc/requirements.txt file\n\nChange-Id: I31c6c0596831d4445f11984b0b3ceee434a74664\n'}, {'number': 3, 'created': '2019-06-07 12:44:44.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/08a26a00f2f26e64ff5012c4b9a44afb9d9220d7', 'message': 'Fix broken pep8 and requirements jobs\n\nThis patch solves 2 issues in gate jobs:\n\n1. Failing pep8 job due to wrong bandit version,\n   To fix that we cap bandit in test-requirements.txt\n   for stable/stein release.\n   As in neutron and other repositories, this patch cap\n   bandit version used for stable/stein release to be lower\n   than 1.6.0\n\n2. Requirements job failing on sphinx,\n   To fix that we sphinx requirements in doc/requirements.txt file\n\nChange-Id: I31c6c0596831d4445f11984b0b3ceee434a74664\n'}]",0,663584,08a26a00f2f26e64ff5012c4b9a44afb9d9220d7,13,4,3,11975,,,0,"Fix broken pep8 and requirements jobs

This patch solves 2 issues in gate jobs:

1. Failing pep8 job due to wrong bandit version,
   To fix that we cap bandit in test-requirements.txt
   for stable/stein release.
   As in neutron and other repositories, this patch cap
   bandit version used for stable/stein release to be lower
   than 1.6.0

2. Requirements job failing on sphinx,
   To fix that we sphinx requirements in doc/requirements.txt file

Change-Id: I31c6c0596831d4445f11984b0b3ceee434a74664
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/84/663584/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,3df16ba7eb5123d39fe1d8e498264bf563b84392,I31c6c0596831d4445f11984b0b3ceee434a74664,"bandit>=1.1.0,<1.6.0 # Apache-2.0",bandit>=1.1.0 # Apache-2.0,1,1
openstack%2Fkuryr-kubernetes~master~I49ea54d8ccc1035b006a042dcece93ca22de64a2,openstack/kuryr-kubernetes,master,I49ea54d8ccc1035b006a042dcece93ca22de64a2,Add Network Policy devref Spec,MERGED,2019-05-29 13:52:49.000000000,2019-06-07 16:25:41.000000000,2019-06-07 16:25:40.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-05-29 13:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/acffa07be3f0bd45f7c1240c0f1f035ce34fd5c0', 'message': '[WiP] Add Network Policy devref Spec\n\nAdds a Network Policy devref Spec with current implementation\ndetails.\n\nChange-Id: I49ea54d8ccc1035b006a042dcece93ca22de64a2\n'}, {'number': 2, 'created': '2019-05-30 09:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f18421913797fb229f9abcf52a1a4d6acf75f5f3', 'message': '[WiP] Add Network Policy devref Spec\n\nAdds a Network Policy devref Spec with current implementation\ndetails.\n\nChange-Id: I49ea54d8ccc1035b006a042dcece93ca22de64a2\n'}, {'number': 3, 'created': '2019-05-30 13:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ebbb7a318968666e609c9d79bffea8db33ef6303', 'message': '[WiP] Add Network Policy devref Spec\n\nAdds a Network Policy devref Spec with current implementation\ndetails.\n\nChange-Id: I49ea54d8ccc1035b006a042dcece93ca22de64a2\n'}, {'number': 4, 'created': '2019-05-30 14:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6cfefe0cc0743e99a941a7b82d3ede4f1994bde2', 'message': 'Add Network Policy devref Spec\n\nAdds a Network Policy devref Spec with current implementation\ndetails.\n\nChange-Id: I49ea54d8ccc1035b006a042dcece93ca22de64a2\n'}, {'number': 5, 'created': '2019-05-31 12:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5f454a6abf40a8139e3662bfd3e1eb1e8732f797', 'message': 'Add Network Policy devref Spec\n\nAdds a Network Policy devref Spec with current implementation\ndetails.\n\nChange-Id: I49ea54d8ccc1035b006a042dcece93ca22de64a2\n'}, {'number': 6, 'created': '2019-06-04 20:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fabcabd6687c729af98dd309c22f513d6f6fbda5', 'message': 'Add Network Policy devref Spec\n\nAdds a Network Policy devref Spec with current implementation\ndetails.\n\nChange-Id: I49ea54d8ccc1035b006a042dcece93ca22de64a2\n'}, {'number': 7, 'created': '2019-06-05 07:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bb2b5a6b02826ab9af80450a288814a987f6d372', 'message': 'Add Network Policy devref Spec\n\nAdds a Network Policy devref Spec with current implementation\ndetails.\n\nChange-Id: I49ea54d8ccc1035b006a042dcece93ca22de64a2\n'}, {'number': 8, 'created': '2019-06-05 07:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/04c46af16397171c22b33f705aa0ee19773e1122', 'message': 'Add Network Policy devref Spec\n\nAdds a Network Policy devref Spec with current implementation\ndetails.\n\nChange-Id: I49ea54d8ccc1035b006a042dcece93ca22de64a2\n'}, {'number': 9, 'created': '2019-06-05 13:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bca475a5a2066a3cdf5ae2bf9ba0254299da4313', 'message': 'Add Network Policy devref Spec\n\nAdds a Network Policy devref Spec with current implementation\ndetails.\n\nChange-Id: I49ea54d8ccc1035b006a042dcece93ca22de64a2\n'}, {'number': 10, 'created': '2019-06-07 07:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f7ddbe2fbd57f088ce3c4bd367a4aab679d37283', 'message': 'Add Network Policy devref Spec\n\nAdds a Network Policy devref Spec with current implementation\ndetails.\n\nChange-Id: I49ea54d8ccc1035b006a042dcece93ca22de64a2\n'}, {'number': 11, 'created': '2019-06-07 08:08:27.000000000', 'files': ['doc/source/devref/network_policy.rst', 'doc/source/devref/index.rst', 'doc/images/update_network_policy_on_pod_creation.svg', 'doc/images/create_network_policy_flow.svg'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3a5e0ed7eaafdcbc3aa2f62301f89a040423f8de', 'message': 'Add Network Policy devref Spec\n\nAdds a Network Policy devref Spec with current implementation\ndetails.\n\nChange-Id: I49ea54d8ccc1035b006a042dcece93ca22de64a2\n'}]",30,661989,3a5e0ed7eaafdcbc3aa2f62301f89a040423f8de,33,6,11,27032,,,0,"Add Network Policy devref Spec

Adds a Network Policy devref Spec with current implementation
details.

Change-Id: I49ea54d8ccc1035b006a042dcece93ca22de64a2
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/89/661989/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/network_policy.rst'],1,acffa07be3f0bd45f7c1240c0f1f035ce34fd5c0,add-dev-ref-spec,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode Convention for heading levels in Neutron devref: ======= Heading 0 (reserved for the title in a document) ------- Heading 1 ~~~~~~~ Heading 2 +++++++ Heading 3 ''''''' Heading 4 (Avoid deeper levels because they do not render well.) ================================ Network Policy ================================ Purpose -------- The purpose of this document is to present how Network Policy is supported by Kuryr-Kubernetes. Overview -------- Kubernetes supports a Network Policy object to express ingress and egress rules for pods. Network Policy reacts on labels to qualify multiple pods, and defines rules based on differents labeling and/or CIDRs. When combined with a networking plugin, those policy objetcs are enforced and respected. Proposed Solution ----------------- Kuryr-Kubernetes relies on Neutron security groups and security group rules to enforce a Network Policy object, more specifically one security group per policy with possibly multiple rules. Each object has a namespace scoped Network Policy CRD that stores all OpenStack related resources on the Kubernetes side, avoiding many calls to Neutron and helping to differentiate between the current Kubernetes status of the Network Policy and the last one Kuryr-Kubernetes enforced. Kuryr controller has been modified to react to Network Policy events, and trigger the necessary updates to others Kubernetes resources. Kuryr Controller Implementation +++++++++++++++++++++++++++++++ The Network Policy handler ~~~~~~~~~~~~~~~~~~~~~~~~~~ This handler is responsible for triggering the Network Policy Spec processing, and the creation or removal of security group with appropriate security group rules. It also, applies the security group to the pods and services affected by the policy. The VIF handler ~~~~~~~~~~~~~~~ As Network Policy rules can be defined based on pod labels, this handler has been incremented to trigger a security group rule creation or deletion, depending on the type of pod event and if the pod affects a Network Policy rule. Also, it triggers the translation of the pod rules to the affected service. The Pod Label handler ~~~~~~~~~~~~~~~~~~~~~ This new handler is responsible for triggering the update of a security group rule upon pod labels changes, and its enforcement on the pod port and service. The Namespace handler ~~~~~~~~~~~~~~~~~~~~~ Just as the pods labels, namespaces labels can also define a rule in a Network Policy. To account for this, the namespace handler has been incremented to trigger the creation, deletion or update of a security group rule, in case the namespace affects a Network Policy rule, and the translation of the rule to the affected service. The Network Policy driver ~~~~~~~~~~~~~~~~~~~~~~~~~~ Is the main driver. It ensures a Network Policy by processing the Spec and creating or updating the Security group with appropriate security group rules. The Network Policy Security Group driver ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ It is responsible for creating, deleting, or updating security group rules for pods, namespaces or services based on different Network Policies. The Namespace Subnet driver ~~~~~~~~~~~~~~~~~~~~~~~~~~~ In case of a namespace event and a Network Policy enforcement based on the namespace, this driver creates a subnet to this namespace, and restrict the number of security group rules for the Network Policy to just one with the subnet CIDR, instead of one for each pod in the namespace. The LBaaS driver ~~~~~~~~~~~~~~~~ To restrict the incoming traffic to the backend pods, the LBaaS driver has been incremented to translate pods rules to the listener port, and react to Service ports updates. E.g., when the target port is not allowed by the policy enforced in the pod, the rule should not be added. The VIF Pool driver ~~~~~~~~~~~~~~~~~~~ The VIF Pool driver is responsible for updating the Security group applied to the pods ports. It has been modified to embrace the fact that with Network Policies pods' ports changes their security group while being used, meaning the original pool does not fit them anymore, resulting in useless pools and ports reapplying the original security group. To avoid it, the security group id is removed from the pool merging all pools with same network, project and host id. Use cases examples ~~~~~~~~~~~~~~~~~ ",,109,0
openstack%2Fkuryr-kubernetes~master~I32945c6b5426b6274c180a4a90dad09c414977b2,openstack/kuryr-kubernetes,master,I32945c6b5426b6274c180a4a90dad09c414977b2,Update upper-constraints references in Dockerfile,MERGED,2019-06-05 15:49:38.000000000,2019-06-07 16:25:40.000000000,2019-06-07 16:25:39.000000000,"[{'_account_id': 6598}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-06-05 15:49:38.000000000', 'files': ['controller.Dockerfile', 'cni_py3.Dockerfile', 'controller_py3.Dockerfile', 'cni.Dockerfile'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ddfa9e6ccac0d41653f9e3e9630797ef1f80ef6e', 'message': 'Update upper-constraints references in Dockerfile\n\nWe use git.openstack.org/cgit to fetch global upper-constraints.txt file\nin our Dockerfiles. That is currently only a redirect and we should get\nit switched to use opendev.org infra. This commit does so.\n\nChange-Id: I32945c6b5426b6274c180a4a90dad09c414977b2\n'}]",0,663370,ddfa9e6ccac0d41653f9e3e9630797ef1f80ef6e,7,5,1,11600,,,0,"Update upper-constraints references in Dockerfile

We use git.openstack.org/cgit to fetch global upper-constraints.txt file
in our Dockerfiles. That is currently only a redirect and we should get
it switched to use opendev.org infra. This commit does so.

Change-Id: I32945c6b5426b6274c180a4a90dad09c414977b2
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/70/663370/1 && git format-patch -1 --stdout FETCH_HEAD,"['controller.Dockerfile', 'cni_py3.Dockerfile', 'controller_py3.Dockerfile', 'cni.Dockerfile']",4,ddfa9e6ccac0d41653f9e3e9630797ef1f80ef6e,lower-constraints-gate,"ARG UPPER_CONSTRAINTS_FILE=""https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt""","ARG UPPER_CONSTRAINTS_FILE=""https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt""",4,4
openstack%2Fironic-python-agent~master~Id54d0ade7084363cb3e53752205db9a9d99d0195,openstack/ironic-python-agent,master,Id54d0ade7084363cb3e53752205db9a9d99d0195,Software RAID: Fix race in test for get_holder_disks,MERGED,2019-06-07 12:27:53.000000000,2019-06-07 16:23:43.000000000,2019-06-07 16:23:43.000000000,"[{'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 12:27:53.000000000', 'files': ['ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/fea7f86e38b9c68b5378a3bbffd649084b5d0cdf', 'message': ""Software RAID: Fix race in test for get_holder_disks\n\nThe explicit creation of a mock object in one test disturbed\nthe execution of another test (which mock'ed the same object).\nUse a decorator instead.\n\nFollowup to Id20302537f7994982c7584af546a7e7520e9612b\n\nChange-Id: Id54d0ade7084363cb3e53752205db9a9d99d0195\n""}]",0,663921,fea7f86e38b9c68b5378a3bbffd649084b5d0cdf,7,3,1,11292,,,0,"Software RAID: Fix race in test for get_holder_disks

The explicit creation of a mock object in one test disturbed
the execution of another test (which mock'ed the same object).
Use a decorator instead.

Followup to Id20302537f7994982c7584af546a7e7520e9612b

Change-Id: Id54d0ade7084363cb3e53752205db9a9d99d0195
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/21/663921/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/tests/unit/test_hardware.py'],1,fea7f86e38b9c68b5378a3bbffd649084b5d0cdf,software_raid_fix_race_in_test," @mock.patch.object(hardware, 'get_holder_disks', autospec=True) @mock.patch.object(hardware, '_get_component_devices', autospec=True) def test_delete_configuration(self, mocked_execute, mocked_list, mocked_get_component, mocked_get_holder): mocked_get_component.side_effect = [ mocked_get_holder.side_effect = ["," def test_delete_configuration(self, mocked_execute, mocked_list): hardware._get_component_devices = mock.Mock() hardware._get_component_devices.side_effect = [ hardware.get_holder_disks = mock.Mock() hardware.get_holder_disks.side_effect = [",6,5
openstack%2Fironic-python-agent~master~I29a4ce98dbd456b104683a2202ba3115b966469d,openstack/ironic-python-agent,master,I29a4ce98dbd456b104683a2202ba3115b966469d,Software RAID: Add mdadm to IPA images,MERGED,2019-06-07 12:38:20.000000000,2019-06-07 16:23:42.000000000,2019-06-07 16:23:42.000000000,"[{'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 12:38:20.000000000', 'files': ['Dockerfile', 'imagebuild/tinyipa/build_files/finalreqs.lst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e2bdb306624186d9395e466a31f0a51b2e8d07c7', 'message': ""Software RAID: Add mdadm to IPA images\n\nWith the addition of Software RAID we need 'mdadm' in our images.\n\nChange-Id: I29a4ce98dbd456b104683a2202ba3115b966469d\n""}]",0,663924,e2bdb306624186d9395e466a31f0a51b2e8d07c7,8,3,1,11292,,,0,"Software RAID: Add mdadm to IPA images

With the addition of Software RAID we need 'mdadm' in our images.

Change-Id: I29a4ce98dbd456b104683a2202ba3115b966469d
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/24/663924/1 && git format-patch -1 --stdout FETCH_HEAD,"['Dockerfile', 'imagebuild/tinyipa/build_files/finalreqs.lst']",2,e2bdb306624186d9395e466a31f0a51b2e8d07c7,software_raid_add_mdadm,mdadm.tcz,,2,1
openstack%2Fpbr~master~I7ed2b00d6f2ddbdaee0c5c11ed74f4fa14bd4de0,openstack/pbr,master,I7ed2b00d6f2ddbdaee0c5c11ed74f4fa14bd4de0,Use sphinxcontrib-apidoc for api docs,ABANDONED,2019-06-07 16:00:28.000000000,2019-06-07 16:19:15.000000000,,[{'_account_id': 15334}],"[{'number': 1, 'created': '2019-06-07 16:00:28.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/pbr/commit/49ad497ebe2de67ab4341e3f57ee7abb560e1945', 'message': ""Use sphinxcontrib-apidoc for api docs\n\nWe shouldn't be relying on pbr's api doc functionality as that has\nbeen deprecated for a while.\n\nChange-Id: I7ed2b00d6f2ddbdaee0c5c11ed74f4fa14bd4de0\n""}]",0,663985,49ad497ebe2de67ab4341e3f57ee7abb560e1945,3,1,1,6928,,,0,"Use sphinxcontrib-apidoc for api docs

We shouldn't be relying on pbr's api doc functionality as that has
been deprecated for a while.

Change-Id: I7ed2b00d6f2ddbdaee0c5c11ed74f4fa14bd4de0
",git fetch https://review.opendev.org/openstack/pbr refs/changes/85/663985/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'setup.cfg']",3,49ad497ebe2de67ab4341e3f57ee7abb560e1945,wsgi-localhost,,[pbr] autodoc_tree_index_modules = True autodoc_tree_excludes = setup.py pbr/tests/ api_doc_dir = reference/api [build_sphinx] all-files = 1 build-dir = doc/build source-dir = doc/source warning-is-error = 1 ,10,14
openstack%2Fkuryr-kubernetes~master~Ieee291893ca342867eb408d65402a8576327ac6d,openstack/kuryr-kubernetes,master,Ieee291893ca342867eb408d65402a8576327ac6d,Use non local port for CNI Daemon,MERGED,2019-05-20 15:33:27.000000000,2019-06-07 16:07:41.000000000,2019-06-07 16:07:40.000000000,"[{'_account_id': 11600}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 25900}]","[{'number': 1, 'created': '2019-05-20 15:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/025b40c2c405e228c2e17fc0af89f17ec2adb0ce', 'message': ""User non local port for CNI Daemon\n\nThis port 50036 can be already used in the system, due\nto it's in range for engress ports.\n\nCloses-Bug: 1829188\n\nChange-Id: Ieee291893ca342867eb408d65402a8576327ac6d\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}, {'number': 2, 'created': '2019-05-20 15:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/659385a79d17d55f01f2a73d68210443c07bd6df', 'message': ""User non local port for CNI Daemon\n\nThis port 50036 can be already used in the system, due\nto it's in range for engress ports.\n\nCloses-Bug: 1829188\n\nChange-Id: Ieee291893ca342867eb408d65402a8576327ac6d\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}, {'number': 3, 'created': '2019-05-21 05:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8706e4b52830d4c5bc14423176448d0e9a90a575', 'message': ""Use non local port for CNI Daemon\n\nThis port 50036 can be already used in the system, due\nto it's in range for engress ports.\n\nCloses-Bug: 1829188\n\nChange-Id: Ieee291893ca342867eb408d65402a8576327ac6d\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}, {'number': 4, 'created': '2019-05-29 15:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5f94aa5edfd3c8bcd014995730cecb3b4ca41e92', 'message': ""Use non local port for CNI Daemon\n\nThis port 50036 can be already used in the system, due\nto it's in range for egress ports.\n\nCloses-Bug: 1829188\n\nChange-Id: Ieee291893ca342867eb408d65402a8576327ac6d\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}, {'number': 5, 'created': '2019-06-07 09:16:17.000000000', 'files': ['releasenotes/notes/change-cni-daemon-default-port-e968a83fa1bf30b5.yaml', 'doc/source/devref/kuryr_kubernetes_design.rst', 'kuryr_kubernetes/config.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c8a87bf2fd65212d5e0a00db0435dea521b8b97e', 'message': ""Use non local port for CNI Daemon\n\nThis port 50036 can be already used in the system, due\nto it's in range for egress ports.\n\nCloses-Bug: 1829188\n\nChange-Id: Ieee291893ca342867eb408d65402a8576327ac6d\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}]",0,660152,c8a87bf2fd65212d5e0a00db0435dea521b8b97e,20,6,5,28396,,,0,"Use non local port for CNI Daemon

This port 50036 can be already used in the system, due
to it's in range for egress ports.

Closes-Bug: 1829188

Change-Id: Ieee291893ca342867eb408d65402a8576327ac6d
Signed-off-by: Alexey Perevalov <a.perevalov@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/52/660152/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/devref/kuryr_kubernetes_design.rst', 'kuryr_kubernetes/config.py']",2,025b40c2c405e228c2e17fc0af89f17ec2adb0ce,660152," default='127.0.0.1:5036'),"," default='127.0.0.1:50036'),",2,2
openstack%2Fdesignate-dashboard~stable%2Fstein~I417ccc624d79ca1709ec60eee1195ab5cd019d9d,openstack/designate-dashboard,stable/stein,I417ccc624d79ca1709ec60eee1195ab5cd019d9d,Imported Translations from Zanata,MERGED,2019-06-07 06:30:22.000000000,2019-06-07 16:05:36.000000000,2019-06-07 16:05:36.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-06-07 06:30:22.000000000', 'files': ['designatedashboard/locale/ne/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/b8dc251792ffdc84d06091242880166d48e6c873', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I417ccc624d79ca1709ec60eee1195ab5cd019d9d\n'}]",0,663842,b8dc251792ffdc84d06091242880166d48e6c873,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I417ccc624d79ca1709ec60eee1195ab5cd019d9d
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/42/663842/1 && git format-patch -1 --stdout FETCH_HEAD,['designatedashboard/locale/ne/LC_MESSAGES/django.po'],1,b8dc251792ffdc84d06091242880166d48e6c873,zanata/translations,"# OpenStack Infra <zanata@openstack.org>, 2015. #zanata # Andreas Jaeger <jaegerandi@gmail.com>, 2016. #zanata # Surit Aryal <aryalsurit@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: designate-dashboard VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2019-05-09 11:14+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-06-07 04:37+0000\n"" ""Last-Translator: Surit Aryal <aryalsurit@gmail.com>\n"" ""Language-Team: Nepali\n"" ""Language: ne\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid """" ""\n"" "" From here you can edit the email address and TTL associated with a "" ""domain.\n"" "" "" msgstr """" ""\n"" ""        TTL   \n"" "" "" msgid """" ""<p> <strong>TTL</strong> The TTL is the time-to-live for the record, in "" ""seconds. </p> <p> See <a href=\""https://en.wikipedia.org/wiki/"" ""List_of_DNS_record_types\"" target=\""_designate_record_defs\"">more info</a> "" ""on record types. </p>"" msgstr """" ""<p> <strong>TTL</strong> The TTL is the time-to-live for the record, in "" ""seconds. </p> <p> See <a href=\""https://en.wikipedia.org/wiki/"" ""List_of_DNS_record_types\"" target=\""_designate_record_defs\"">more info</a> "" ""on record types. </p>"" msgid ""A - Address record"" msgstr ""A -  "" msgid ""AAAA - IPv6 address record"" msgstr ""AAAA - IPv6  "" msgid ""All Records"" msgstr "" "" msgid ""CNAME - Canonical name record"" msgstr ""CNAME -   "" msgid ""Cancel"" msgstr "" "" msgid ""Canonical Name"" msgstr "" "" msgid ""Create Domain"" msgstr "" "" msgid ""Create Domain Record"" msgstr ""   "" msgid ""Create Record"" msgstr ""  "" msgid ""Create Record for"" msgstr ""   "" msgid ""Created"" msgstr "" "" msgid ""Created At"" msgstr "" "" msgid ""Data"" msgstr """" msgid ""Delete Domain"" msgid_plural ""Delete Domains"" msgstr[0] "" "" msgstr[1] "" "" msgid ""Delete Record"" msgid_plural ""Delete Records"" msgstr[0] "" "" msgstr[1] "" "" msgid ""Deleted Domain"" msgid_plural ""Deleted Domains"" msgstr[0] "" "" msgstr[1] "" "" msgid ""Deleted Record"" msgid_plural ""Deleted Records"" msgstr[0] "" "" msgstr[1] "" "" msgid ""Description"" msgstr """" msgid ""Domain"" msgstr """" #, python-format msgid ""Domain %(name)s created."" msgstr "" %(name)s  "" #, python-format msgid ""Domain %(name)s updated."" msgstr "" %(name)s  "" msgid ""Domain Detail"" msgstr "" "" msgid ""Domain Name"" msgstr "" "" msgid ""Domain Overview"" msgstr "" "" msgid ""Domain Records"" msgstr "" "" #, python-format msgid ""Domain record %(name)s created."" msgstr ""  %(name)s  "" #, python-format msgid ""Domain record %(name)s updated."" msgstr ""  %(name)s  "" msgid ""Domains"" msgstr """" msgid ""Edit Domain"" msgstr "" "" msgid ""Edit Record"" msgstr ""  "" msgid ""Email"" msgstr """" msgid ""Enter a valid IPv4 address"" msgstr "" IPv4   "" msgid ""Enter a valid IPv6 address"" msgstr "" IPv6   "" msgid ""Enter a valid SRV name"" msgstr "" SRV   "" msgid ""Enter a valid SRV record"" msgstr "" SRV   "" msgid ""Enter a valid SSHFP record"" msgstr "" SSHFP   "" msgid ""Enter a valid domain name."" msgstr ""   "" msgid ""Enter a valid hostname"" msgstr ""   "" msgid """" ""Enter a valid hostname. The hostname should contain letters and numbers, and "" ""be no more than 63 characters."" msgstr """" ""        ,  63   "" "" "" msgid ""ID"" msgstr "" "" msgid ""IP Address"" msgstr ""IP "" msgid ""MX - Mail exchange record"" msgstr ""MX -   "" msgid ""Mail Server"" msgstr ""Mail Server"" msgid ""Manage Records"" msgstr ""  "" msgid ""NS"" msgstr ""NS"" msgid ""Name"" msgstr """" msgid ""Name Server"" msgstr ""Name Server"" msgid ""Nameservers"" msgstr ""Nameservers"" msgid ""None"" msgstr ""  "" msgid ""PTR - Pointer record"" msgstr ""PTR -  "" msgid ""PTR Domain Name"" msgstr ""PTR Domain Name"" msgid ""Priority"" msgstr """" msgid ""Record Data"" msgstr "" "" msgid ""Record Detail"" msgstr "" "" msgid ""Record Type"" msgstr "" "" msgid ""Records"" msgstr """" msgid ""Reverse DNS"" msgstr ""Reverse DNS"" msgid ""SOA"" msgstr ""SOA"" msgid ""SPF - Sender Policy Framework"" msgstr ""SPF -   "" msgid ""SRV - Service locator"" msgstr ""SRV - Service locator"" msgid ""SSHFP - SSH Public Key Fingerprint"" msgstr ""SRV - Service locator"" msgid ""Select an IP"" msgstr ""   "" msgid ""Serial"" msgstr """" msgid ""TTL"" msgstr ""TTL"" msgid ""TTL (seconds)"" msgstr "" ()"" msgid ""TXT"" msgstr ""TXT"" msgid ""TXT - Text record"" msgstr ""TXT - Text record"" msgid ""Text"" msgstr """" msgid """" ""The Email field should contain a valid email address to be associated with "" ""the domain."" msgstr ""         "" msgid """" ""The Name field should contain a full-qualified domain name (with trailing "" ""period)."" msgstr ""         (  )"" msgid """" ""The optional TTL field can be any value between 1 and 2147483647 seconds."" msgstr "" TTL  1  2147483647       "" msgid ""The quotas could not be retrieved."" msgstr "" :   "" msgid ""There are no floating IP addresses currently in use to select from."" msgstr ""      IP  "" msgid ""This field is required"" msgstr ""   "" msgid ""Type"" msgstr """" msgid ""Unable to create domain."" msgstr ""   "" msgid ""Unable to create record."" msgstr ""   "" msgid ""Unable to retrieve domain list."" msgstr ""  :    "" msgid ""Unable to retrieve domain record."" msgstr ""  :   "" msgid ""Unable to retrieve record list."" msgstr ""  :   "" msgid ""Unable to update domain."" msgstr ""   "" msgid ""Unknown"" msgstr """" msgid ""Unknown instance name"" msgstr "" instance "" msgid ""Update Domain"" msgstr ""  "" msgid ""Update Domain Record"" msgstr ""   "" msgid ""Update Record"" msgstr "" "" msgid ""Updated"" msgstr "" "" msgid ""Updated At"" msgstr ""  "" msgid ""Value"" msgstr """" msgid ""Zones"" msgstr ""Zones"" ",,329,0
openstack%2Foslo.cache~stable%2Fstein~I48f31084d595c44114391e046e5fe418c1fb787a,openstack/oslo.cache,stable/stein,I48f31084d595c44114391e046e5fe418c1fb787a,Avoid tox_install.sh for constraints support,MERGED,2019-05-14 21:31:43.000000000,2019-06-07 15:56:23.000000000,2019-06-07 15:56:23.000000000,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29222}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-05-14 21:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/60ed4c18a095442b5a7985ee9d819ccbb2e50178', 'message': 'Avoid tox_install.sh for constraints support\n\nWe do not need tox_install.sh, pip can handle constraints itself\nand install the project correctly. Thus update tox.ini and remove\nthe now obsolete tools/tox_install.sh file.\n\nThis follows https://review.openstack.org/#/c/508061 to remove\ntools/tox_install.sh.\n\nChange-Id: I48f31084d595c44114391e046e5fe418c1fb787a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 6503e2426e11020f0fda11b4e552384c24a4e343)\n'}, {'number': 2, 'created': '2019-05-15 10:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/8fe964b727ffb7b506e921fe3265d1f0fc22d1f0', 'message': 'Avoid tox_install.sh for constraints support\n\nWe do not need tox_install.sh, pip can handle constraints itself\nand install the project correctly. Thus update tox.ini and remove\nthe now obsolete tools/tox_install.sh file.\n\nThis follows https://review.openstack.org/#/c/508061 to remove\ntools/tox_install.sh.\n\nChange-Id: I48f31084d595c44114391e046e5fe418c1fb787a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 6503e2426e11020f0fda11b4e552384c24a4e343)\n'}, {'number': 3, 'created': '2019-05-15 10:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/ebe12c69936a127615967f3bb76370912802bc2d', 'message': 'Avoid tox_install.sh for constraints support\n\nWe do not need tox_install.sh, pip can handle constraints itself\nand install the project correctly. Thus update tox.ini and remove\nthe now obsolete tools/tox_install.sh file.\n\nThis follows https://review.openstack.org/#/c/508061 to remove\ntools/tox_install.sh.\n\nDepends-On: https://review.opendev.org/#/c/659240/\nChange-Id: I48f31084d595c44114391e046e5fe418c1fb787a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 6503e2426e11020f0fda11b4e552384c24a4e343)\n'}, {'number': 4, 'created': '2019-05-17 08:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/853827ab94e76cbb8757b4a39abac41e5799aacf', 'message': 'Avoid tox_install.sh for constraints support\n\nWe do not need tox_install.sh, pip can handle constraints itself\nand install the project correctly. Thus update tox.ini and remove\nthe now obsolete tools/tox_install.sh file.\n\nThis follows https://review.openstack.org/#/c/508061 to remove\ntools/tox_install.sh.\n\nDepends-On: https://review.opendev.org/#/c/659240/\nChange-Id: I48f31084d595c44114391e046e5fe418c1fb787a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 6503e2426e11020f0fda11b4e552384c24a4e343)\n'}, {'number': 5, 'created': '2019-05-20 13:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/5317930cb38e5dabd2d4fb36dd91b49108147a2a', 'message': 'Avoid tox_install.sh for constraints support\n\nWe do not need tox_install.sh, pip can handle constraints itself\nand install the project correctly. Thus update tox.ini and remove\nthe now obsolete tools/tox_install.sh file.\n\nThis follows https://review.openstack.org/#/c/508061 to remove\ntools/tox_install.sh.\n\nDepends-On: https://review.opendev.org/#/c/659240/\nChange-Id: I48f31084d595c44114391e046e5fe418c1fb787a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 6503e2426e11020f0fda11b4e552384c24a4e343)\n'}, {'number': 6, 'created': '2019-05-22 09:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/125419335f6ccd58a397063a2afd990f5e0b87b3', 'message': 'Avoid tox_install.sh for constraints support\n\nWe do not need tox_install.sh, pip can handle constraints itself\nand install the project correctly. Thus update tox.ini and remove\nthe now obsolete tools/tox_install.sh file.\n\nThis follows https://review.openstack.org/#/c/508061 to remove\ntools/tox_install.sh.\n\nDepends-On: https://review.opendev.org/#/c/659240/\nChange-Id: I48f31084d595c44114391e046e5fe418c1fb787a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 6503e2426e11020f0fda11b4e552384c24a4e343)\n'}, {'number': 7, 'created': '2019-05-31 08:41:28.000000000', 'files': ['tools/tox_install.sh', 'test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/157ed3fc8c5095fb8e94cd74c5c10f15d185230c', 'message': 'Avoid tox_install.sh for constraints support\n\nWe do not need tox_install.sh, pip can handle constraints itself\nand install the project correctly. Thus update tox.ini and remove\nthe now obsolete tools/tox_install.sh file.\n\nThis follows https://review.openstack.org/#/c/508061 to remove\ntools/tox_install.sh.\n\nDepends-On: https://review.opendev.org/#/c/659240/\nChange-Id: I48f31084d595c44114391e046e5fe418c1fb787a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 6503e2426e11020f0fda11b4e552384c24a4e343)\n'}]",2,659174,157ed3fc8c5095fb8e94cd74c5c10f15d185230c,28,6,7,29222,,,0,"Avoid tox_install.sh for constraints support

We do not need tox_install.sh, pip can handle constraints itself
and install the project correctly. Thus update tox.ini and remove
the now obsolete tools/tox_install.sh file.

This follows https://review.openstack.org/#/c/508061 to remove
tools/tox_install.sh.

Depends-On: https://review.opendev.org/#/c/659240/
Change-Id: I48f31084d595c44114391e046e5fe418c1fb787a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit 6503e2426e11020f0fda11b4e552384c24a4e343)
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/74/659174/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/tox_install.sh', 'test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",4,60ed4c18a095442b5a7985ee9d819ccbb2e50178,stein,"envlist = py27,py36,pypy,pep8 find . -type f -name ""*.pyc"" -delete stestr run --slowest {posargs} find . -type f -name ""*.pyc"" -delete {toxinidir}/tools/setup-etcd-env.sh pifpaf -e OSLO_CACHE_TEST run etcd -- stestr run --slowest functional.* find . -type f -name ""*.pyc"" -delete {toxinidir}/tools/setup-etcd-env.sh pifpaf -e OSLO_CACHE_TEST run etcd -- stestr run --slowest functional.*deps = {[testenv]deps} -r{toxinidir}/doc/requirements.txt rm -fr doc/build sphinx-build -b html doc/source doc/build/html PYTHON=coverage run --source oslo_cache --parallel-mode stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html","envlist = py35,py27,pypy,pep8 find . -type f -name ""*.pyc"" -delete stestr run --slowest {posargs} find . -type f -name ""*.pyc"" -delete {toxinidir}/tools/setup-etcd-env.sh pifpaf -e OSLO_CACHE_TEST run etcd -- stestr run --slowest functional.* find . -type f -name ""*.pyc"" -delete {toxinidir}/tools/setup-etcd-env.sh pifpaf -e OSLO_CACHE_TEST run etcd -- stestr run --slowest functional.*deps = -r{toxinidir}/doc/requirements.txt rm -fr doc/build sphinx-build -b html doc/source doc/build/html PYTHON=coverage run --source oslo_cache --parallel-mode stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html .[dogpile,mongo,etcd3gw]",22,55
openstack%2Fpuppet-openstack-integration~master~If9a826180d95b9debd1c7d0cf7626db100d45282,openstack/puppet-openstack-integration,master,If9a826180d95b9debd1c7d0cf7626db100d45282,Updated from Puppet OpenStack modules constraints,MERGED,2019-06-05 06:07:34.000000000,2019-06-07 15:39:45.000000000,2019-06-07 15:39:45.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-05 06:07:34.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4e4b21d6e4b0fcae577b6d7be38b65083ef96826', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: If9a826180d95b9debd1c7d0cf7626db100d45282\n'}]",0,663236,4e4b21d6e4b0fcae577b6d7be38b65083ef96826,11,4,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: If9a826180d95b9debd1c7d0cf7626db100d45282
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/36/663236/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,4e4b21d6e4b0fcae577b6d7be38b65083ef96826,openstack/puppet/constraints, :ref => 'v6.1.0', :ref => 'v6.0.0',1,1
openstack%2Fhorizon~master~I555f4b8a985f4f8ca693e858405771f54dd7b5a5,openstack/horizon,master,I555f4b8a985f4f8ca693e858405771f54dd7b5a5,Various fixes for issues found by Bandit scanner,NEW,2019-06-06 12:35:25.000000000,2019-06-07 15:36:51.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27838}]","[{'number': 1, 'created': '2019-06-06 12:35:25.000000000', 'files': ['openstack_dashboard/dashboards/project/api_access/tables.py', 'openstack_dashboard/api/swift.py', 'openstack_dashboard/dashboards/project/backups/tables.py', 'openstack_dashboard/dashboards/project/networks/ports/views.py', 'horizon/middleware/operation_log.py', 'openstack_dashboard/api/rest/nova.py', 'horizon/templatetags/parse_date.py', 'openstack_dashboard/api/nova.py', 'openstack_dashboard/dashboards/project/volumes/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/79f53a044e73cd392c3674f290527926efc3241f', 'message': 'Various fixes for issues found by Bandit scanner\n\nThis patch is a fix for the issues found by bandit scanner. Add debug\nlevel logging for RemoteConsoleInfo.post. Change behaviour of exception\nhandling, from just pass exception to log (whenever debug mode is on)\nexception\n\nChange-Id: I555f4b8a985f4f8ca693e858405771f54dd7b5a5\n'}]",9,663630,79f53a044e73cd392c3674f290527926efc3241f,5,4,1,27838,,,0,"Various fixes for issues found by Bandit scanner

This patch is a fix for the issues found by bandit scanner. Add debug
level logging for RemoteConsoleInfo.post. Change behaviour of exception
handling, from just pass exception to log (whenever debug mode is on)
exception

Change-Id: I555f4b8a985f4f8ca693e858405771f54dd7b5a5
",git fetch https://review.opendev.org/openstack/horizon refs/changes/30/663630/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/api_access/tables.py', 'openstack_dashboard/api/swift.py', 'openstack_dashboard/dashboards/project/backups/tables.py', 'openstack_dashboard/dashboards/project/networks/ports/views.py', 'horizon/middleware/operation_log.py', 'openstack_dashboard/api/rest/nova.py', 'horizon/templatetags/parse_date.py', 'openstack_dashboard/api/nova.py', 'openstack_dashboard/dashboards/project/volumes/forms.py']",9,79f53a044e73cd392c3674f290527926efc3241f,b101_master,"import logging LOG = logging.getLogger(__name__) except Exception as e: LOG.info( 'Can not get volume ""%(volume_id)s"" details: %(err)s.', {'volume_id': snapshot.volume_id, 'err': e})", except Exception: pass,46,23
openstack%2Floci~master~Iaadaf924bf38465ca70f685cb0e80d1e36c29539,openstack/loci,master,Iaadaf924bf38465ca70f685cb0e80d1e36c29539,Move comment to correct location,MERGED,2019-05-29 17:00:54.000000000,2019-06-07 15:32:44.000000000,2019-06-07 15:32:44.000000000,"[{'_account_id': 7822}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 17:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/0a7ab74b93e297880830a57a193a2949debcfa70', 'message': 'Move comment to correct location\n\nGit blame shows this not shifting over time, moving it to make more\nsense\n\nChange-Id: Iaadaf924bf38465ca70f685cb0e80d1e36c29539\n'}, {'number': 2, 'created': '2019-05-29 22:13:30.000000000', 'files': ['scripts/requirements.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/370eecee18ca53e313b0bd09b8c597ce0df3f43a', 'message': 'Move comment to correct location\n\nGit blame shows this not shifting over time, moving it to make more\nsense\n\nChange-Id: Iaadaf924bf38465ca70f685cb0e80d1e36c29539\n'}]",0,662043,370eecee18ca53e313b0bd09b8c597ce0df3f43a,9,3,2,14119,,,0,"Move comment to correct location

Git blame shows this not shifting over time, moving it to make more
sense

Change-Id: Iaadaf924bf38465ca70f685cb0e80d1e36c29539
",git fetch https://review.opendev.org/openstack/loci refs/changes/43/662043/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/requirements.sh'],1,0a7ab74b93e297880830a57a193a2949debcfa70,cleanup,# Build all dependencies in parallel. This is safe because we are # constrained on the version and we are building with --no-deps,# Build all dependencies in parallel. This is safe because we are # constrained on the version and we are building with --no-deps,2,2
openstack%2Floci~master~I0e5c8a2ccad71df873dbea70c5f20a74c9d031b7,openstack/loci,master,I0e5c8a2ccad71df873dbea70c5f20a74c9d031b7,Remove unused vars,MERGED,2019-05-29 17:00:54.000000000,2019-06-07 15:31:38.000000000,2019-06-07 15:31:38.000000000,"[{'_account_id': 7822}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 30402}, {'_account_id': 30467}]","[{'number': 1, 'created': '2019-05-29 17:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/f0ab8faf035f165b4016c24988a5f14eceb5dd10', 'message': 'Remove unused vars\n\nPrior usage of these was to filter wheels upstream.\n\nChange-Id: I0e5c8a2ccad71df873dbea70c5f20a74c9d031b7\n'}, {'number': 2, 'created': '2019-05-29 22:13:30.000000000', 'files': ['scripts/requirements.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/87d96f89b1700f5ef19d325859bf9bc094e4c638', 'message': 'Remove unused vars\n\nPrior usage of these was to filter wheels upstream.\n\nChange-Id: I0e5c8a2ccad71df873dbea70c5f20a74c9d031b7\n'}]",0,662042,87d96f89b1700f5ef19d325859bf9bc094e4c638,13,5,2,14119,,,0,"Remove unused vars

Prior usage of these was to filter wheels upstream.

Change-Id: I0e5c8a2ccad71df873dbea70c5f20a74c9d031b7
",git fetch https://review.opendev.org/openstack/loci refs/changes/42/662042/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/requirements.sh'],1,f0ab8faf035f165b4016c24988a5f14eceb5dd10,cleanup,,"if [[ ""${PYTHON3}"" == ""no"" ]]; then ignore_wheels=py2 else ignore_wheels=py3 fi ",0,6
openstack%2Fneutron-lib~master~I8943ece954851a92d2bbca9a6a839a3808579172,openstack/neutron-lib,master,I8943ece954851a92d2bbca9a6a839a3808579172,WIP: Use keystoneauth adapter for placement client,ABANDONED,2019-05-30 13:02:16.000000000,2019-06-07 15:27:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-30 13:02:16.000000000', 'files': ['neutron_lib/placement/client.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7d8cc69298b8c3e61e8993c28463a2741f33c33f', 'message': 'WIP: Use keystoneauth adapter for placement client\n\nneutron uses keystoneauth session to communicate with placement, but\nkeystoneauth can\'t handle the error html body used by placement (see:\nhttps://specs.openstack.org/openstack/api-wg/guidelines/errors.html).\nBy using keystoneauth adapter instead of session we can force\nkeystoneauth to not raise http exceptions, thus parsing error body on\nthe client level.\n\nWARNING1: this WIP patch now only a ""what would happen"" type patch, to\nsee how the client code should look like. Thus now I just changed\nget_inventory to work with adapter.\nWARNING2: This patch as it is now not fixes all the errors for routed\nprovider networks, and most probably breaks minimum bandwidth guarantee\nfeature.\nWARNING3: I prefer to have this fixed in keystoneauth.\n\nChange-Id: I8943ece954851a92d2bbca9a6a839a3808579172\nRelated-Bug: #1828543\nDepends-On: https://review.opendev.org/662204\n'}]",0,662205,7d8cc69298b8c3e61e8993c28463a2741f33c33f,3,1,1,8313,,,0,"WIP: Use keystoneauth adapter for placement client

neutron uses keystoneauth session to communicate with placement, but
keystoneauth can't handle the error html body used by placement (see:
https://specs.openstack.org/openstack/api-wg/guidelines/errors.html).
By using keystoneauth adapter instead of session we can force
keystoneauth to not raise http exceptions, thus parsing error body on
the client level.

WARNING1: this WIP patch now only a ""what would happen"" type patch, to
see how the client code should look like. Thus now I just changed
get_inventory to work with adapter.
WARNING2: This patch as it is now not fixes all the errors for routed
provider networks, and most probably breaks minimum bandwidth guarantee
feature.
WARNING3: I prefer to have this fixed in keystoneauth.

Change-Id: I8943ece954851a92d2bbca9a6a839a3808579172
Related-Bug: #1828543
Depends-On: https://review.opendev.org/662204
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/05/662205/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/placement/client.py'],1,7d8cc69298b8c3e61e8993c28463a2741f33c33f,bug/1828543," session = keystone.load_session_from_conf_options( return keystone.load_adapter_from_conf_options( self._conf, 'placement', session=session, auth=auth_plugin, raise_exc=False) rsp = self._get(url) if rsp.status_code != 200: err = rsp.json()['errors'][0] if ""No resource provider with uuid"" in err['detail']: elif _(""No inventory of class"") in err['detail']: resource_provider=resource_provider_uuid, resource_class=resource_class) else: raise n_exc.PlacementResourceNotFound(url=url) return rsp.json()"," return keystone.load_session_from_conf_options( try: return self._get(url).json() except ks_exc.NotFound as e: if ""No resource provider with uuid"" in e.details: elif _(""No inventory of class"") in e.details: resource_provider=resource_provider_uuid, resource_class=resource_class) else: raise",14,9
openstack%2Fneutron~master~Ia367db837dcfd0e0d440302292ce1544be8834c6,openstack/neutron,master,Ia367db837dcfd0e0d440302292ce1544be8834c6,WIP: Use keystoneauth adapter config options for placement,ABANDONED,2019-05-30 13:00:56.000000000,2019-06-07 15:27:00.000000000,,"[{'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-30 13:00:56.000000000', 'files': ['neutron/conf/common.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c23d31651a2d3cce321579e23e08216249e31c8', 'message': ""WIP: Use keystoneauth adapter config options for placement\n\nneutron uses keystoneauth session to communicate with placement, but\nkeystoneauth can't handle the error html body used by placement (see:\nhttps://specs.openstack.org/openstack/api-wg/guidelines/errors.html).\nBy using keystoneauth adapter instead of session we can force\nkeystoneauth to not raise http exceptions, thus parsing error body on\nthe client level. For achiving this for this mini poc I copy-pasted the\nway nova sets up config options for keystoneauth adapter.\n\nChange-Id: Ia367db837dcfd0e0d440302292ce1544be8834c6\nRelated-Bug: #1828543\n""}]",0,662204,4c23d31651a2d3cce321579e23e08216249e31c8,5,3,1,8313,,,0,"WIP: Use keystoneauth adapter config options for placement

neutron uses keystoneauth session to communicate with placement, but
keystoneauth can't handle the error html body used by placement (see:
https://specs.openstack.org/openstack/api-wg/guidelines/errors.html).
By using keystoneauth adapter instead of session we can force
keystoneauth to not raise http exceptions, thus parsing error body on
the client level. For achiving this for this mini poc I copy-pasted the
way nova sets up config options for keystoneauth adapter.

Change-Id: Ia367db837dcfd0e0d440302292ce1544be8834c6
Related-Bug: #1828543
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/662204/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/common.py'],1,4c23d31651a2d3cce321579e23e08216249e31c8,bug/1828543,"from keystoneauth1 import loading as ks_loading placement_group = cfg.OptGroup( 'placement', title='Placement Service Options', help=""Configuration options for connecting to the placement API service"") # Note(lajoskatona): This is a copy-paste from nova, see: # https://opendev.org/openstack/nova/src/branch/master/nova/conf/utils.py#L22-L86 # Perhaps it's enough for neutron to just statically add ks_adapter options to # neutron conf. _ADAPTER_VERSION_OPTS = ('version', 'min_version', 'max_version') def get_ksa_adapter_opts(default_service_type, deprecated_opts=None): """"""Get auth, Session, and Adapter conf options from keystonauth1.loading. :param default_service_type: Default for the service_type conf option on the Adapter. :param deprecated_opts: dict of deprecated opts to register with the ksa Adapter opts. Works the same as the deprecated_opts kwarg to: keystoneauth1.loading.session.Session.register_conf_options :return: List of cfg.Opts. """""" opts = ks_loading.get_adapter_conf_options(include_deprecated=False, deprecated_opts=deprecated_opts) for opt in opts[:]: # Remove version-related opts. Required/supported versions are # something the code knows about, not the operator. if opt.dest in _ADAPTER_VERSION_OPTS: opts.remove(opt) # Override defaults that make sense for nova cfg.set_defaults(opts, valid_interfaces=['internal', 'public'], service_type=default_service_type) return opts def _dummy_opt(name): # A config option that can't be set by the user, so it behaves as if it's # ignored; but consuming code may expect it to be present in a conf group. return cfg.Opt(name, type=lambda x: None) def register_ksa_opts(conf, group, default_service_type, include_auth=True, deprecated_opts=None): """"""Register keystoneauth auth, Session, and Adapter opts. :param conf: oslo_config.cfg.CONF in which to register the options :param group: Conf group, or string name thereof, in which to register the options. :param default_service_type: Default for the service_type conf option on the Adapter. :param include_auth: For service types where Nova is acting on behalf of the user, auth should come from the user context. In those cases, set this arg to False to avoid registering ksa auth options. :param deprecated_opts: dict of deprecated opts to register with the ksa Session or Adapter opts. See docstring for the deprecated_opts param of: keystoneauth1.loading.session.Session.register_conf_options """""" # ksa register methods need the group name as a string. oslo doesn't care. group = getattr(group, 'name', group) ks_loading.register_session_conf_options( conf, group, deprecated_opts=deprecated_opts) if include_auth: ks_loading.register_auth_conf_options(conf, group) conf.register_opts(get_ksa_adapter_opts( default_service_type, deprecated_opts=deprecated_opts), group=group) # Have to register dummies for the version-related opts we removed for name in _ADAPTER_VERSION_OPTS: conf.register_opt(_dummy_opt(name), group=group) cfg.register_group(placement_group) register_ksa_opts(cfg, placement_group, PLACEMENT_CONF_SECTION)","placement_opts = [ cfg.StrOpt('region_name', help=_('Name of placement region to use. Useful if keystone ' 'manages more than one region.')), cfg.StrOpt('endpoint_type', default='public', choices=['public', 'admin', 'internal'], help=_('Type of the placement endpoint to use. This endpoint ' 'will be looked up in the keystone catalog and should ' 'be one of public, internal or admin.')), ] cfg.register_opts(placement_opts, group=PLACEMENT_CONF_SECTION)",80,12
openstack%2Ftripleo-common~master~I3b746eff8367133cec2c6ff03aad25993d26e90c,openstack/tripleo-common,master,I3b746eff8367133cec2c6ff03aad25993d26e90c,Enable staging-ovirt (fence_rhevm) fencing agent.,MERGED,2019-04-12 09:50:02.000000000,2019-06-07 15:25:17.000000000,2019-05-17 09:34:34.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-04-12 09:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2f285fe4ed18b04646a0e682d0f06c50ca4bd23b', 'message': 'Enable staging-ovirt (fence_rhevm) fencing agent.\n\nThis commit extends actions/parameters to generate\nfencing parameters for nodes using staging-ovirt (fence_rhevm).\n\nChange-Id: I3b746eff8367133cec2c6ff03aad25993d26e90c\n'}, {'number': 2, 'created': '2019-04-12 11:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a04f10888502977959eea9a1298bcf8d690b3814', 'message': 'Enable staging-ovirt (fence_rhevm) fencing agent.\n\nThis commit extends actions/parameters to generate\nfencing parameters for nodes using staging-ovirt (fence_rhevm).\n\nChange-Id: I3b746eff8367133cec2c6ff03aad25993d26e90c\n'}, {'number': 3, 'created': '2019-04-15 07:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f26106ce216ea2d257504e724bafdda06caa399c', 'message': 'Enable staging-ovirt (fence_rhevm) fencing agent.\n\nThis commit extends actions/parameters to generate\nfencing parameters for nodes using staging-ovirt (fence_rhevm).\n\nGiven instackenv.json content like:\n\n{\n  ""nodes"":[\n{\n  ""name"":""ctrl01"",\n  ""pm_type"":""staging-ovirt"",\n  ""mac"": [\n""56:6f:71:33:00:0d""\n  ],\n  ""arch"": ""x86_64"",\n  ""pm_user"":""admin@internal"",\n  ""pm_password"":""redhat"",\n  ""pm_addr"":""10.0.0.141"",\n  ""pm_vm_name"":""ctrl01""\n}\n...\n\nHere the generated fence.yaml:\n\nparameter_defaults:\n  EnableFencing: true\n  FencingConfig:\n    devices:\n    - agent: fence_rhevm\n      host_mac: 56:6f:71:33:00:0d\n      params:\n        ipaddr: 10.0.0.141\n        login: admin@internal\n        passwd: redhat\n        port: ctrl01\n        ssl: 1\n        ssl_insecure: 1\n\nAnd the resulting pacemaker stonith resource:\n\nstonith-fence_rhevm-566f7133000d        (stonith:fence_rhevm:(  Started overcloud-controller-1\n\nTo have this working \'out of the box\' we assume the worst case\nscenario of ovirt-engine using a self-signed certificate, so\nwe explicitly ssl_insecure=1.\nUsers/Operators should be aware of this and eventually adjust\nthe value accordingly.\n\nChange-Id: I3b746eff8367133cec2c6ff03aad25993d26e90c\n'}, {'number': 4, 'created': '2019-05-11 08:28:16.000000000', 'files': ['tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/actions/parameters.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c13c9cf5a2e26b4a27fabc454d99d3643ba3dd42', 'message': 'Enable staging-ovirt (fence_rhevm) fencing agent.\n\nThis commit extends actions/parameters to generate\nfencing parameters for nodes using staging-ovirt (fence_rhevm).\n\nGiven instackenv.json content like:\n\n{\n  ""nodes"":[\n{\n  ""name"":""ctrl01"",\n  ""pm_type"":""staging-ovirt"",\n  ""mac"": [\n""56:6f:71:33:00:0d""\n  ],\n  ""arch"": ""x86_64"",\n  ""pm_user"":""admin@internal"",\n  ""pm_password"":""redhat"",\n  ""pm_addr"":""10.0.0.141"",\n  ""pm_vm_name"":""ctrl01""\n}\n...\n\nHere the generated fence.yaml:\n\nparameter_defaults:\n  EnableFencing: true\n  FencingConfig:\n    devices:\n    - agent: fence_rhevm\n      host_mac: 56:6f:71:33:00:0d\n      params:\n        ipaddr: 10.0.0.141\n        login: admin@internal\n        passwd: redhat\n        port: ctrl01\n        ssl: 1\n        ssl_insecure: 1\n\nAnd the resulting pacemaker stonith resource:\n\nstonith-fence_rhevm-566f7133000d        (stonith:fence_rhevm:(  Started overcloud-controller-1\n\nTo have this working \'out of the box\' we assume the worst case\nscenario of ovirt-engine using a self-signed certificate, so\nwe explicitly ssl_insecure=1.\nUsers/Operators should be aware of this and eventually adjust\nthe value accordingly.\n\nChange-Id: I3b746eff8367133cec2c6ff03aad25993d26e90c\n'}]",0,652024,c13c9cf5a2e26b4a27fabc454d99d3643ba3dd42,19,5,4,30126,,,0,"Enable staging-ovirt (fence_rhevm) fencing agent.

This commit extends actions/parameters to generate
fencing parameters for nodes using staging-ovirt (fence_rhevm).

Given instackenv.json content like:

{
  ""nodes"":[
{
  ""name"":""ctrl01"",
  ""pm_type"":""staging-ovirt"",
  ""mac"": [
""56:6f:71:33:00:0d""
  ],
  ""arch"": ""x86_64"",
  ""pm_user"":""admin@internal"",
  ""pm_password"":""redhat"",
  ""pm_addr"":""10.0.0.141"",
  ""pm_vm_name"":""ctrl01""
}
...

Here the generated fence.yaml:

parameter_defaults:
  EnableFencing: true
  FencingConfig:
    devices:
    - agent: fence_rhevm
      host_mac: 56:6f:71:33:00:0d
      params:
        ipaddr: 10.0.0.141
        login: admin@internal
        passwd: redhat
        port: ctrl01
        ssl: 1
        ssl_insecure: 1

And the resulting pacemaker stonith resource:

stonith-fence_rhevm-566f7133000d        (stonith:fence_rhevm:(  Started overcloud-controller-1

To have this working 'out of the box' we assume the worst case
scenario of ovirt-engine using a self-signed certificate, so
we explicitly ssl_insecure=1.
Users/Operators should be aware of this and eventually adjust
the value accordingly.

Change-Id: I3b746eff8367133cec2c6ff03aad25993d26e90c
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/24/652024/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/actions/parameters.py']",2,2f285fe4ed18b04646a0e682d0f06c50ca4bd23b,," elif driver_proto in {'staging-ovirt'}: # fence_rhevm node_data[""agent""] = ""fence_rhevm"" params[""ipaddr""] = node[""pm_addr""] params[""passwd""] = node[""pm_password""] params[""login""] = node[""pm_user""] params[""port""] = node[""pm_vm_name""] params[""ssl""] = 1 params[""ssl_insecure""] = 1 if hostmap: params[""pcmk_host_list""] = \ hostmap[mac_addr][""compute_name""] if self.delay: params[""delay""] = self.delay",,44,1
openstack%2Floci~master~I16fbc8ec5fd2e246e15f0b391a2ce6f5ced3ff31,openstack/loci,master,I16fbc8ec5fd2e246e15f0b391a2ce6f5ced3ff31,do not merge,ABANDONED,2019-05-21 18:52:03.000000000,2019-06-07 15:08:40.000000000,,"[{'_account_id': 5997}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-21 18:52:03.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/loci/commit/0d2910af2a8f53e75750d77371526c2249c212a4', 'message': 'do not merge\n\nThis patch is a fake patch to test to see if wheel builds still fails.\n\nChange-Id: I16fbc8ec5fd2e246e15f0b391a2ce6f5ced3ff31\n'}]",0,660493,0d2910af2a8f53e75750d77371526c2249c212a4,14,2,1,5997,,,0,"do not merge

This patch is a fake patch to test to see if wheel builds still fails.

Change-Id: I16fbc8ec5fd2e246e15f0b391a2ce6f5ced3ff31
",git fetch https://review.opendev.org/openstack/loci refs/changes/93/660493/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,0d2910af2a8f53e75750d77371526c2249c212a4,test, This is a fake patch to see if CI still fails on wheel build,,2,0
openstack%2Fkolla~master~I880a33b56a2fe9b86de57326c80310a6a83c5e50,openstack/kolla,master,I880a33b56a2fe9b86de57326c80310a6a83c5e50,Use packagecloud/ubuntu rabbitmq repo for all archs,MERGED,2019-06-05 11:06:47.000000000,2019-06-07 15:06:15.000000000,2019-06-07 15:06:15.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-05 11:06:47.000000000', 'files': ['docker/base/sources.list.ubuntu.aarch64', 'docker/base/sources.list.ubuntu.ppc64le'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2c4e4422e8ddd9d86c6c864f2e8891e83d65a3c8', 'message': 'Use packagecloud/ubuntu rabbitmq repo for all archs\n\nChange-Id: I880a33b56a2fe9b86de57326c80310a6a83c5e50\n'}]",0,663300,2c4e4422e8ddd9d86c6c864f2e8891e83d65a3c8,14,6,1,24072,,,0,"Use packagecloud/ubuntu rabbitmq repo for all archs

Change-Id: I880a33b56a2fe9b86de57326c80310a6a83c5e50
",git fetch https://review.opendev.org/openstack/kolla refs/changes/00/663300/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/sources.list.ubuntu.aarch64', 'docker/base/sources.list.ubuntu.ppc64le']",2,2c4e4422e8ddd9d86c6c864f2e8891e83d65a3c8,, # rabbitmq repo deb https://packagecloud.io/rabbitmq/rabbitmq-server/ubuntu/ bionic main,,6,0
openstack%2Fgovernance~master~I33a5d0f479f5c652a1c0f631079d3d67d8232c51,openstack/governance,master,I33a5d0f479f5c652a1c0f631079d3d67d8232c51,Add Python3 update goal for Train,MERGED,2019-05-09 00:30:34.000000000,2019-06-07 14:57:19.000000000,2019-06-07 14:57:19.000000000,"[{'_account_id': 24}, {'_account_id': 308}, {'_account_id': 935}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5046}, {'_account_id': 5263}, {'_account_id': 6476}, {'_account_id': 6593}, {'_account_id': 7730}, {'_account_id': 8099}, {'_account_id': 8161}, {'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 9414}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 11805}, {'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 17068}, {'_account_id': 20635}, {'_account_id': 22348}, {'_account_id': 22722}]","[{'number': 1, 'created': '2019-05-09 00:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/e5c714157514a5ff359a43d53eaadcecde47f17d', 'message': 'Add Python3 update goal for Train\n\nChange-Id: I33a5d0f479f5c652a1c0f631079d3d67d8232c51\n'}, {'number': 2, 'created': '2019-05-29 00:04:48.000000000', 'files': ['goals/train/python3-updates.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/b5aab25011720fde9e97a3738cc882f57c7f4c82', 'message': 'Add Python3 update goal for Train\n\nChange-Id: I33a5d0f479f5c652a1c0f631079d3d67d8232c51\n'}]",14,657908,b5aab25011720fde9e97a3738cc882f57c7f4c82,39,25,2,4257,,,0,"Add Python3 update goal for Train

Change-Id: I33a5d0f479f5c652a1c0f631079d3d67d8232c51
",git fetch https://review.opendev.org/openstack/governance refs/changes/08/657908/1 && git format-patch -1 --stdout FETCH_HEAD,['goals/train/python3-updates.rst'],1,e5c714157514a5ff359a43d53eaadcecde47f17d,formal-vote,".. -*- encoding: utf-8 -*- ========================================= Update Python 3 test runtimes for Train ========================================= This goal is to implement the process set out in the :doc:`../../resolutions/20181024-python-update-process` TC resolution, for the Train cycle to ensure unit testing is in place for all of the :doc:`../../reference/runtimes/train`. In practice, this generally means adding unit tests for Python 3.7 and dropping unit tests for Python 3.5. Using the Zuul template for Train will ensure that all projects that support Python3 will be tested against the agreed runtime versions, and make it easier to update them in future. Champions ========= TBD Gerrit Topic ============ Use |python3-train|_. Some existing patches that do not use the Zuul template exist under the topics |py37-job|_ and |dropping-py35-testing|_. Any of these not yet merged should be updated to use the Zuul template instead (and the topic changed to |python3-train|), or abandoned. .. |python3-train| replace:: ``python3-train`` .. _python3-train: https://review.opendev.org/#/q/topic:python3-train+(status:open+OR+status:merged) .. |py37-job| replace:: ``py37-job`` .. _py37-job: https://review.opendev.org/#/q/topic:py37-job+(status:open+OR+status:merged) .. |dropping-py35-testing| replace:: ``dropping-py35-testing`` .. _dropping-py35-testing: https://review.opendev.org/#/q/topic:dropping-py35-testing+(status:open+OR+status:merged)+branch:master Completion Criteria =================== Any repositories with Python 3 unit tests are exclusively using the ``openstack-python3-train-jobs`` Zuul template or one of its variants (e.g. ``openstack-python3-train-jobs-neutron``) to run unit tests, and the tests are passing. None of the Zuul templates that hard-code a Python3 version (e.g. ``openstack-python35-jobs``) remain in use. Details ======= The scope of this goal is all official OpenStack repositories that include at least one Zuul job that runs unit tests on some version of Python3. The goal champions will propose patches to all affected repositories to add one of the following templates to their Zuul configuration (depending on the existing template used): * ``openstack-python3-train-jobs`` * ``openstack-python3-train-jobs-horizon`` * ``openstack-python3-train-jobs-neutron`` * ``openstack-python3-train-jobs-ceilometer`` The patch should also remove all ``openstack-python3*-jobs[-horizon/neutron/ceilometer]`` templates from the Zuul config. The change will be self-testing in Zuul. If py37 tests are failing, it is the responsibility of the project team to fix them so that the change can merge. Project teams should merge the change to the Zuul config before the end of the Train cycle. Stretch Goals ------------- Ideally the proposed patch should update ``setup.cfg`` for any repositories where the classifier contains ``Programming Language :: Python :: 3`` to ensure it contains:: Programming Language :: Python :: 3 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7 and no other Python 3 versions. Also, it would be nice to update the list of default environments in ``tox.ini`` to include ``py36`` and ``py37`` but no other Python 3 versions. Future Process -------------- In future releases we plan to have a bot submit the change as part of the process of cutting the previous release's feature branch. Having done the initial switch over of the Zuul templates in Train will make those patches simpler to generate (needing only to substitute the next release name). It will still be up to project teams to fix any test failures and merge the patch. Non-Goals --------- Python 2 testing remains unchanged. Repositories that unit test on Python 2 should continue to do so using the ``openstack-python27-jobs`` Zuul template, and declare support for Python 2.7 in ``setup.cfg``. Testing of Python 2 must not be dropped before the U cycle, as detailed in the :doc:`../../resolutions/20180529-python2-deprecation-timeline` TC resolution. References ========== * :doc:`../../resolutions/20181024-python-update-process` * :doc:`../../reference/runtimes/train` * `Porting to Python 3.7 <https://docs.python.org/3/whatsnew/3.7.html#porting-to-python-3-7>`_ * :doc:`../../resolutions/20180529-python2-deprecation-timeline` Current State / Anticipated Impact ================================== There are a handful of breaking changes between Python 3.6 and 3.7. The most notable one is `PEP 479 <https://www.python.org/dev/peps/pep-0479>`_ (making it an error to raise a ``StopIteration`` exception from a function or generator), but much of the impact is in exposing pre-existing bugs which ought to be fixed anyway (non-erroneous uses are generally trivial to eliminate). Many projects have `already merged patches to test on Python 3.7 <https://review.opendev.org/#/q/topic:py37-job+status:merged>`_, so in those cases the project should have nothing to do but merge the patch. Because the goal champion team will prepare the patches to change the Zuul configuration, we expect project teams to require minimal effort outside of fixing any Python 3.7 incompatibilities. ",,129,0
openstack%2Fgovernance~master~Iefab661bbc2aff4118b7f21708bae5fda45b3f2f,openstack/governance,master,Iefab661bbc2aff4118b7f21708bae5fda45b3f2f,Fix broken url links,MERGED,2019-05-23 07:28:29.000000000,2019-06-07 14:52:07.000000000,2019-06-07 14:52:07.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 10607}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-23 07:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/093f2b025587a17a73b9bea236813e3931eec178', 'message': 'Fix broken url links\n\nThis is to fix an broken url link and an inaccurate link.\n\nChange-Id: Iefab661bbc2aff4118b7f21708bae5fda45b3f2f\n'}, {'number': 2, 'created': '2019-05-24 01:46:48.000000000', 'files': ['resolutions/20180301-stable-branch-eol.rst', 'resolutions/20160414-grant-cross-project-spec-team-voting.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/9ad5213a8660671e9c8306335e069571822d5828', 'message': 'Fix broken url links\n\nThis is to:\n1. Remove the dead cross-project specification-liaison team link\n2. Fix the inaccurate support phases link.\n\nChange-Id: Iefab661bbc2aff4118b7f21708bae5fda45b3f2f\n'}]",2,660906,9ad5213a8660671e9c8306335e069571822d5828,17,9,2,20190,,,0,"Fix broken url links

This is to:
1. Remove the dead cross-project specification-liaison team link
2. Fix the inaccurate support phases link.

Change-Id: Iefab661bbc2aff4118b7f21708bae5fda45b3f2f
",git fetch https://review.opendev.org/openstack/governance refs/changes/06/660906/1 && git format-patch -1 --stdout FETCH_HEAD,"['resolutions/20180301-stable-branch-eol.rst', 'resolutions/20160414-grant-cross-project-spec-team-voting.rst']",2,093f2b025587a17a73b9bea236813e3931eec178,documentation-change,<https://wiki.openstack.org/wiki/CrossProjectLiaisons>`_,<http://docs.openstack.org/project-team-guide/cross-project.html#cross-project-specification-liaisons>`_,3,3
openstack%2Fnova~master~Ie25f9819d3d194499cfb16cae2bfca0eadfdeec1,openstack/nova,master,Ie25f9819d3d194499cfb16cae2bfca0eadfdeec1,Use named kwargs for resize_api,ABANDONED,2019-06-07 14:30:45.000000000,2019-06-07 14:44:24.000000000,,"[{'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 16376}]","[{'number': 1, 'created': '2019-06-07 14:30:45.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/502305114666bc158cec43ffce5acc6b74175fce', 'message': 'Use named kwargs for resize_api\n\nThis function has a lot of arguments which makes it rather difficult to\ngrok. Use named kwargs and clean up resulting mock mess in tests.\n\nChange-Id: Ie25f9819d3d194499cfb16cae2bfca0eadfdeec1\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,663959,502305114666bc158cec43ffce5acc6b74175fce,5,3,1,15334,,,0,"Use named kwargs for resize_api

This function has a lot of arguments which makes it rather difficult to
grok. Use named kwargs and clean up resulting mock mess in tests.

Change-Id: Ie25f9819d3d194499cfb16cae2bfca0eadfdeec1
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/663959/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/compute/api.py']",4,502305114666bc158cec43ffce5acc6b74175fce,bp/remove-cells-v1," self.compute_task_api.resize_instance( context=context, instance=instance, scheduler_hint=scheduler_hint, flavor=new_instance_type, clean_shutdown=clean_shutdown,"," self.compute_task_api.resize_instance(context, instance, scheduler_hint=scheduler_hint, flavor=new_instance_type, clean_shutdown=clean_shutdown,",17,14
openstack%2Fkolla~master~I9e25d3c0be3a43e3187c137768c300c4e79ca7ea,openstack/kolla,master,I9e25d3c0be3a43e3187c137768c300c4e79ca7ea,Change fluentd monasca output plugin download,ABANDONED,2019-03-01 07:29:03.000000000,2019-06-07 14:41:30.000000000,,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-01 07:29:03.000000000', 'files': ['docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d67d41bd5f23f3b890998a8ca9d8c3ea05c973e9', 'message': 'Change fluentd monasca output plugin download\n\nCurrently monasca output plugin is downloaded using ADD instruction,\nwhich makes the build broken on setups behind proxy,\nunless Docker daemon is configured with proxy settings - which\nis not always possible (e.g. CI).\n\nThis change reworks ADD to RUN with curl.\n\nChange-Id: I9e25d3c0be3a43e3187c137768c300c4e79ca7ea\n'}]",1,640267,d67d41bd5f23f3b890998a8ca9d8c3ea05c973e9,7,5,1,22629,,,0,"Change fluentd monasca output plugin download

Currently monasca output plugin is downloaded using ADD instruction,
which makes the build broken on setups behind proxy,
unless Docker daemon is configured with proxy settings - which
is not always possible (e.g. CI).

This change reworks ADD to RUN with curl.

Change-Id: I9e25d3c0be3a43e3187c137768c300c4e79ca7ea
",git fetch https://review.opendev.org/openstack/kolla refs/changes/67/640267/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/fluentd/Dockerfile.j2'],1,d67d41bd5f23f3b890998a8ca9d8c3ea05c973e9,bug/fluentd_build_proxy,RUN curl -sSL -o /tmp/fluentd-monasca.tar.gz https://github.com/monasca/fluentd-monasca/archive/$monasca_output_plugin_tag.tar.gz,ARG monasca_output_plugin_url=https://github.com/monasca/fluentd-monasca/archive/$monasca_output_plugin_tag.tar.gz ADD $monasca_output_plugin_url /tmp/fluentd-monasca.tar.gz,1,2
openstack%2Fmonasca-persister~stable%2Frocky~I0593558407c8c773d728bbd035dde91310b59be3,openstack/monasca-persister,stable/rocky,I0593558407c8c773d728bbd035dde91310b59be3,Create a tool for recreating missing metrid_id in Cassandra,ABANDONED,2019-04-24 23:11:05.000000000,2019-06-07 14:37:15.000000000,,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 23:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/dcdda4bc15462df848681fbdf6d3b5f5dca87830', 'message': 'Create a tool for recreating missing metrid_id in Cassandra\n\nIn some rare cases it is possible for a row in Cassandra for\nmetrics to have no value for metric_id or created_at, though\nthey may still have updated_at and the other required columns.\n\nThis tool is for recreating the metric_id from the other required\ncolumns.\nPlease see the README.rst for usage directions.\n\nStory: 2005305\nTask: 30611\n\nChange-Id: I0593558407c8c773d728bbd035dde91310b59be3\n'}, {'number': 2, 'created': '2019-04-24 23:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/e21104d1ba2f407f4b6abe59b4858ab7e3690284', 'message': 'Create a tool for recreating missing metrid_id in Cassandra\n\nIn some rare cases it is possible for a row in Cassandra for\nmetrics to have no value for metric_id or created_at, though\nthey may still have updated_at and the other required columns.\n\nThis tool is for recreating the metric_id from the other required\ncolumns.\nPlease see the README.rst for usage directions.\n\nStory: 2005305\nTask: 30611\n\nChange-Id: I0593558407c8c773d728bbd035dde91310b59be3\n'}, {'number': 3, 'created': '2019-04-25 15:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/1fe216b63d500ae967b6342035e3cc1cf87726d7', 'message': 'Create a tool for recreating missing metrid_id in Cassandra\n\nIn some rare cases it is possible for a row in Cassandra for\nmetrics to have no value for metric_id or created_at, though\nthey may still have updated_at and the other required columns.\n\nThis tool is for recreating the metric_id from the other required\ncolumns.\nPlease see the README.rst for usage directions.\n\nStory: 2005305\nTask: 30611\n\nChange-Id: I0593558407c8c773d728bbd035dde91310b59be3\n'}, {'number': 4, 'created': '2019-05-10 20:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/7f52298665ad042214b0ebb328a34cc51f4ef10e', 'message': 'Create a tool for recreating missing metrid_id in Cassandra\n\nIn some rare cases it is possible for a row in Cassandra for\nmetrics to have no value for metric_id or created_at, though\nthey may still have updated_at and the other required columns.\n\nThis tool is for recreating the metric_id from the other required\ncolumns.\nPlease see the README.rst for usage directions.\n\nStory: 2005305\nTask: 30611\n\nChange-Id: I0593558407c8c773d728bbd035dde91310b59be3\n'}, {'number': 5, 'created': '2019-05-11 01:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/96a5425dbf63d956ed55e60285bb11c9675d70a7', 'message': ""Create a tool for recreating missing metrid_id in Cassandra\n\nIn some rare cases it is possible for a row in Cassandra for\nmetrics to have no value for metric_id or created_at, though\nthey may still have updated_at and the other required columns.\n\nThis tool is for recreating the metric_id from the other required\ncolumns.\nBy default, will just check for problems and log results.\nTo recreate missing metric_id and repair rows, run with '-r'.\nPlease see the README.rst for usage directions.\n\nStory: 2005305\nTask: 30611\n\nChange-Id: I0593558407c8c773d728bbd035dde91310b59be3\n""}, {'number': 6, 'created': '2019-05-11 01:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/33b835df90b49ce5e9dd789d4935ac841f91439e', 'message': ""Create a tool for recreating missing metrid_id in Cassandra\n\nIn some rare cases it is possible for a row in Cassandra for\nmetrics to have no value for metric_id or created_at, though\nthey may still have updated_at and the other required columns.\n\nThis tool is for recreating the metric_id from the other required\ncolumns.\n\nAn additional 'persister-check-missing-metric-id.py' tool is\nprovided which can be run to see if there are missing metric-id\nvalues that need to be recreated.\n\nPlease see the README.rst for usage directions.\n\nStory: 2005305\nTask: 30611\n\nChange-Id: I0593558407c8c773d728bbd035dde91310b59be3\n""}, {'number': 7, 'created': '2019-05-13 16:50:10.000000000', 'files': ['monasca_persister/tools/cassandra/recreate-metric-id/persister-recreate.ini', 'monasca_persister/tools/cassandra/recreate-metric-id/README.rst', 'monasca_persister/tools/cassandra/recreate-metric-id/persister-check-missing-metric-id.py', 'monasca_persister/tools/cassandra/recreate-metric-id/persister-recreate-metric-id.py'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/09af9bff91e5a109d5bcd204f3647aa4fe023fe9', 'message': ""Create a tool for recreating missing metrid_id in Cassandra\n\nIn some rare cases it is possible for a row in Cassandra for\nmetrics to have no value for metric_id or created_at, though\nthey may still have updated_at and the other required columns.\n\nThis tool is for recreating the metric_id from the other required\ncolumns.\n\nAn additional 'persister-check-missing-metric-id.py' tool is\nprovided which can be run to see if there are missing metric-id\nvalues that need to be recreated.\n\nPlease see the README.rst for usage directions.\n\nStory: 2005305\nTask: 30611\n\nChange-Id: I0593558407c8c773d728bbd035dde91310b59be3\n""}]",0,655584,09af9bff91e5a109d5bcd204f3647aa4fe023fe9,22,3,7,10311,,,0,"Create a tool for recreating missing metrid_id in Cassandra

In some rare cases it is possible for a row in Cassandra for
metrics to have no value for metric_id or created_at, though
they may still have updated_at and the other required columns.

This tool is for recreating the metric_id from the other required
columns.

An additional 'persister-check-missing-metric-id.py' tool is
provided which can be run to see if there are missing metric-id
values that need to be recreated.

Please see the README.rst for usage directions.

Story: 2005305
Task: 30611

Change-Id: I0593558407c8c773d728bbd035dde91310b59be3
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/84/655584/7 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_persister/tools/recreate-metric-id/persister-recreate-metric-id.py', 'monasca_persister/tools/recreate-metric-id/persister-recreate.ini', 'monasca_persister/tools/recreate-metric-id/README.rst']",3,dcdda4bc15462df848681fbdf6d3b5f5dca87830,metric-id-repair,"persister-recreate-metric-id ============================ In some rare cases, it is possible to have metric rows in the Cassandra database which do not have a metric_id. Due to the nature of TSDBs, it is valid to have sparse data, but the version of Monasca API up through Rocky do not handle this well and produce an ugly ERROR. For further reading - https://storyboard.openstack.org/#!/story/2005305 This tool runs through the metric table in Cassandra, identifies rows that are missing a metric_id, and uses an UPDATE operation to recreate the metric_id based on other values. The metric_id is calculated from a hash of the region, tenant_id, metric_name and dimensions, so it can be recreated. All effort has been made to ensure this is a safe process. And it should be safe to run the tool multiple times. However, it is provided AS IS and you should use it at your own risk. Usage ===== Steps to use this tool: - Log in to one node where monasca-persister is deployed. - Identify installation path to monasca-persister. This may be a virtual environment such as `/opt/stack/venv/monasca-<version>/lib/python2.7/site-packages/monasca-persister` or as in devstack `/opt/stack/monasca-persister/monasca_persister/`. - Identify the existing configuration for monasca-persister. If using a java deployment, it may be in `/opt/stack/service/monasca/etc/persister-config.yml` or in devstack `/etc/monasca/persister.conf` - Copy and modify the config template file. :: cp persister-recreate.ini /opt/stack/service/monasca/etc/persister-recreate.ini vi /opt/stack/service/monasca/etc/persister-recreate.ini - Copy the values from the monasca-persister config in to the new .ini, particularly the password. In some cases, the single IP for the management network of one of the Cassandra nodes may need to be given, rather than the list of hostnames as specified in the .yml. - Copy the persister-recreate-metric-id.py file in to place with the monasca-persister code. :: cp persister-recreate-metric-id.py /opt/stack/venv/monasca-<version>/lib/python2.7/site-packages/monasca-persister - Ensure the `mon-persister` user has permission to access both `persister-recreate.ini` and `persister-recreate-metric-id.py`. - Invoke the tool :: sudo -u mon-persister /opt/stack/venv/monasca-<version>/bin/python /opt/stack/venv/monasca-<version>/lib/python2.7/site-packages/monasca_persister/persister-recreate-metric-id.py --config-file /opt/stack/service/monasca/etc/persister-recreate.ini License ======= Copyright (c) 2019 SUSE LLC Licensed under the Apache License, Version 2.0 (the License); you may not use this file except in compliance with the License. You may obtain a copy of the License at :: http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an AS IS BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.",,265,0
openstack%2Fplacement~master~Ib6f08a681162101f91c0de4ce1d2eed35975ef96,openstack/placement,master,Ib6f08a681162101f91c0de4ce1d2eed35975ef96,Bump os-traits to latest release (0.14.0),MERGED,2019-06-06 17:59:53.000000000,2019-06-07 14:29:55.000000000,2019-06-07 13:22:41.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-06-06 17:59:53.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'placement/tests/functional/gabbits/traits.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/4cca0ee13cadcda12e3aad79a68e33e19c6b527d', 'message': ""Bump os-traits to latest release (0.14.0)\n\nos-traits 0.14.0 hit upper-constraints [1] so placement's lower bounds\nand canary test need to be updated accordingly.\n\n[1] https://review.opendev.org/663507\n\nChange-Id: Ib6f08a681162101f91c0de4ce1d2eed35975ef96\n""}]",0,663735,4cca0ee13cadcda12e3aad79a68e33e19c6b527d,13,6,1,14070,,,0,"Bump os-traits to latest release (0.14.0)

os-traits 0.14.0 hit upper-constraints [1] so placement's lower bounds
and canary test need to be updated accordingly.

[1] https://review.opendev.org/663507

Change-Id: Ib6f08a681162101f91c0de4ce1d2eed35975ef96
",git fetch https://review.opendev.org/openstack/placement refs/changes/35/663735/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'placement/tests/functional/gabbits/traits.yaml']",3,4cca0ee13cadcda12e3aad79a68e33e19c6b527d,os-traits-0.14.0, $.traits.`len`: 237 # Number of standard traits, $.traits.`len`: 236 # Number of standard traits,3,3
openstack%2Fnova~master~I4fbd0cb73c73ab680af3f341d6069addb57393fb,openstack/nova,master,I4fbd0cb73c73ab680af3f341d6069addb57393fb,Make nova-next archive using --before,MERGED,2019-05-23 13:37:58.000000000,2019-06-07 14:17:59.000000000,2019-06-07 12:28:55.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25564}, {'_account_id': 26515}, {'_account_id': 27336}]","[{'number': 1, 'created': '2019-05-23 13:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bdc016bf491ddb6acc496999908c0ee5b2f18e01', 'message': 'Make nova-next archive using --before\n\nChange-Id: I4fbd0cb73c73ab680af3f341d6069addb57393fb\n'}, {'number': 2, 'created': '2019-05-24 13:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39718a264851f97140f3280dc9fe65eba0af7b1e', 'message': 'Make nova-next archive using --before\n\nChange-Id: I4fbd0cb73c73ab680af3f341d6069addb57393fb\n'}, {'number': 3, 'created': '2019-05-24 13:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0d5fff32f9093e90ddc45b57fe67190434259ca', 'message': 'Make nova-next archive using --before\n\nChange-Id: I4fbd0cb73c73ab680af3f341d6069addb57393fb\n'}, {'number': 4, 'created': '2019-05-24 14:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b1464a2ebc08198d5165e19d19025c13b953447', 'message': 'Make nova-next archive using --before\n\nChange-Id: I4fbd0cb73c73ab680af3f341d6069addb57393fb\n'}, {'number': 5, 'created': '2019-05-24 19:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cdd5a43745ecf630ad65fc51c9a7d0008def18e3', 'message': 'Make nova-next archive using --before\n\nChange-Id: I4fbd0cb73c73ab680af3f341d6069addb57393fb\n'}, {'number': 6, 'created': '2019-06-04 13:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7d60470ff9f8e16ff2bd368eb37adf5f63be387', 'message': 'Make nova-next archive using --before\n\nChange-Id: I4fbd0cb73c73ab680af3f341d6069addb57393fb\n'}, {'number': 7, 'created': '2019-06-05 14:42:30.000000000', 'files': ['gate/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/0685139ed8e73c7fb050b22dd86b136044207516', 'message': 'Make nova-next archive using --before\n\nChange-Id: I4fbd0cb73c73ab680af3f341d6069addb57393fb\n'}]",13,661002,0685139ed8e73c7fb050b22dd86b136044207516,106,18,7,4393,,,0,"Make nova-next archive using --before

Change-Id: I4fbd0cb73c73ab680af3f341d6069addb57393fb
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/661002/6 && git format-patch -1 --stdout FETCH_HEAD,['gate/post_test_hook.sh'],1,bdc016bf491ddb6acc496999908c0ee5b2f18e01,bug/1751192, $MANAGE $* db archive_deleted_rows --verbose --max-rows 1000 --before 'now - 1 day', $MANAGE $* db archive_deleted_rows --verbose --max_rows 1000,1,1
openstack%2Fironic~master~I3a8cfa3d959c6906968bca7006583f45446758e5,openstack/ironic,master,I3a8cfa3d959c6906968bca7006583f45446758e5,Add api-ref for allocation update,MERGED,2019-06-06 04:18:26.000000000,2019-06-07 14:11:35.000000000,2019-06-07 14:11:34.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 04:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/90aec9aa6041183a18d5a45a09e482655d28c987', 'message': 'Add api-ref for allocation update\n\nChange-Id: I3a8cfa3d959c6906968bca7006583f45446758e5\nStory: 2005126\nTask: 29796\n'}, {'number': 2, 'created': '2019-06-06 04:28:54.000000000', 'files': ['api-ref/source/samples/allocation-update-request.json', 'api-ref/source/samples/allocation-update-response.json', 'api-ref/source/baremetal-api-v1-allocation.inc'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d4380e3235939b66f5c084cd814c4e5cae5ea8f', 'message': 'Add api-ref for allocation update\n\nChange-Id: I3a8cfa3d959c6906968bca7006583f45446758e5\nStory: 2005126\nTask: 29796\n'}]",0,663499,2d4380e3235939b66f5c084cd814c4e5cae5ea8f,9,4,2,10206,,,0,"Add api-ref for allocation update

Change-Id: I3a8cfa3d959c6906968bca7006583f45446758e5
Story: 2005126
Task: 29796
",git fetch https://review.opendev.org/openstack/ironic refs/changes/99/663499/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/samples/allocation-update-request.json', 'api-ref/source/samples/allocation-update-response.json', 'api-ref/source/baremetal-api-v1-allocation.inc']",3,90aec9aa6041183a18d5a45a09e482655d28c987,allocation_update,"Update Allocation ================= .. rest_method:: PATCH /v1/allocations/{allocation_id} Updates an allocation. Allows updating only name and extra fields. .. versionadded:: 1.57 Allocation update API was introduced. Normal response codes: 200 Error response codes: 400, 401, 403, 404, 409, 503 Request ------- The BODY of the PATCH request must be a JSON PATCH document, adhering to `RFC 6902 <https://tools.ietf.org/html/rfc6902>`_. .. rest_parameters:: parameters.yaml - allocation_id: allocation_ident - name: req_allocation_name - extra: req_extra Request Example --------------- .. literalinclude:: samples/allocation-update-request.json :language: javascript Response Parameters ------------------- .. rest_parameters:: parameters.yaml - uuid: uuid - candidate_nodes: candidate_nodes - last_error: allocation_last_error - name: allocation_name - node_uuid: allocation_node - resource_class: allocation_resource_class - state: allocation_state - traits: allocation_traits - extra: extra - created_at: created_at - updated_at: updated_at - links: links Response Example ---------------- .. literalinclude:: samples/allocation-update-response.json :language: javascript ",,89,0
openstack%2Fcloudkitty-specs~master~I8e184b89e76f9cfe81ae4e1e3c2781999cfe3d4a,openstack/cloudkitty-specs,master,I8e184b89e76f9cfe81ae4e1e3c2781999cfe3d4a,Spec: Add a v2 API endpoint to reset the state of different scopes,MERGED,2019-05-14 10:09:57.000000000,2019-06-07 14:07:34.000000000,2019-06-07 14:07:34.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-05-14 10:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/af96550a0687d8b5d0c6b39ec080dfe8e5647b87', 'message': 'Spec: Add a v2 API endpoint to reset the state of different scopes\n\nSee ""specs/train/add_reset_scope_state_api_endpoint.rst"" for details.\n\nChange-Id: I8e184b89e76f9cfe81ae4e1e3c2781999cfe3d4a\nStory: 2005395\nTask: 30793\n'}, {'number': 2, 'created': '2019-05-14 10:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/060031f823f17965a408f5c47024705bf6396723', 'message': 'Spec: Add a v2 API endpoint to reset the state of different scopes\n\nSee ""specs/train/add_reset_scope_state_api_endpoint.rst"" for details.\n\nChange-Id: I8e184b89e76f9cfe81ae4e1e3c2781999cfe3d4a\nStory: 2005395\nTask: 30793\n'}, {'number': 3, 'created': '2019-05-14 10:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/822bcf9b3e60a9d1ac00a4728a9b5c8499008a59', 'message': 'Spec: Add a v2 API endpoint to reset the state of different scopes\n\nSee ""specs/train/add_reset_scope_state_api_endpoint.rst"" for details.\n\nChange-Id: I8e184b89e76f9cfe81ae4e1e3c2781999cfe3d4a\nStory: 2005395\nTask: 30793\n'}, {'number': 4, 'created': '2019-05-17 13:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/567111ca1929b3f0ef90483c480c7aa4ae19d068', 'message': 'Spec: Add a v2 API endpoint to reset the state of different scopes\n\nSee ""specs/train/add_reset_scope_state_api_endpoint.rst"" for details.\n\nChange-Id: I8e184b89e76f9cfe81ae4e1e3c2781999cfe3d4a\nStory: 2005395\nTask: 30793\n'}, {'number': 5, 'created': '2019-05-22 07:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/9bbdf36e8a32e50194b24cd338424991926bf229', 'message': 'Spec: Add a v2 API endpoint to reset the state of different scopes\n\nSee ""specs/train/add_reset_scope_state_api_endpoint.rst"" for details.\n\nChange-Id: I8e184b89e76f9cfe81ae4e1e3c2781999cfe3d4a\nStory: 2005395\nTask: 30793\n'}, {'number': 6, 'created': '2019-05-22 08:08:20.000000000', 'files': ['specs/train/add_reset_scope_state_api_endpoint.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/7ae08f8749888b2cd59f73b0c40cba3dc4cb7b16', 'message': 'Spec: Add a v2 API endpoint to reset the state of different scopes\n\nSee ""specs/train/add_reset_scope_state_api_endpoint.rst"" for details.\n\nChange-Id: I8e184b89e76f9cfe81ae4e1e3c2781999cfe3d4a\nStory: 2005395\nTask: 30793\n'}]",22,659019,7ae08f8749888b2cd59f73b0c40cba3dc4cb7b16,19,3,6,29503,,,0,"Spec: Add a v2 API endpoint to reset the state of different scopes

See ""specs/train/add_reset_scope_state_api_endpoint.rst"" for details.

Change-Id: I8e184b89e76f9cfe81ae4e1e3c2781999cfe3d4a
Story: 2005395
Task: 30793
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/19/659019/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/add_reset_scope_state_api_endpoint.rst'],1,af96550a0687d8b5d0c6b39ec080dfe8e5647b87,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================================== Add a v2 API endpoint to reset state of different scopes ======================================================== https://storyboard.openstack.org/#!/story/2005395 CloudKitty needs an endpoint for resetting a scope state for its v2 API. This spec aims at defining what is to be done and why. Everything in this document is open to discussion, equally on the associated storyboard and gerrit. Problem Description =================== With the current state of CloudKitty, if an administrator is willing to reset calculations for a given scope for any reason e.g. changes in CloudKitty's collection configuration, update for some rating rules, etc. He has to stop all the processors, update the state of said scope in the database and restart all the processors. This is a laborious process and we should make an easier way available to the end user in the form of a new v2 API endpoint. Proposed Change =============== A new endpoint will be made available to admin users on ``PUT /v2/scope`` with relatively similar parameters that are to be found on the ``GET /v2/scope`` endpoint regarding paginating and filtering. This will allow end users to reset the scope state of several scopes at once if they are willing to. There is an additional parameter detailed later for preventing the end user from performing any irreversible change too quickly. Alternatives ------------ We could only allow resetting scope state on ``PUT /v2/scope/<scope_id>`` but that would prevent the end user to reset several scope states at once and would enforce one request per scope state reset attempt. Data model impact ----------------- Changes which require modifications to the data model often have a wider impact on the system. The community often has strong opinions on how the data model should be evolved, from both a functional and performance perspective. It is therefore important to capture and gain agreement as early as possible on any proposed changes to the data model. Questions which need to be addressed by this section include: * What new data objects and/or database schema changes is this going to require? * What database migrations will accompany this change (if any)? * How will the initial set of new data objects be generated? For example, if you need to modify other existing data, describe how that will work. REST API impact --------------- This will add an endpoint on ``/v2/scope`` with support for the ``PUT`` HTTP method. The endpoint will support the following parameters: * ``offset``: (optional, defaults to 0) The offset of the first scope that should be returned. This is an output formatting option and will not affect data in any ways. * ``limit``: (optional, defaults to 100) The maximal number or results to return. This is an output formatting option and will not affect data in any ways. * ``all_scopes``: (mutually exclusive with ``scope_id``, defaults to False) Whether we target all scopes at once or not. This parameter intends to prevent the end user from doing any mistake too quickly. If all_scopes and scope_id parameters are both absent no data would be affected by the request, if they're both present a ``400 Bad Request`` will be returned. * ``scope_id``: (mutually exclusive with ``all_scopes``) Can be specified several times. One or several scope_ids to filter on to reset associated scope states. If all_scopes and scope_id parameters are both absent no data would be affected by the request, if they are both present a ``400 Bad Request`` will be returned. * ``collector``: (optional) Can be specified several times. One or several collectors to filter on to reset associated scope states. * ``fetcher``: (optional) Can be specified several times. One or several fetchers to filter on to reset associated scope states. * ``scope_key``: (optional) Can be specified several times. One or several scope_keys to filter on to reset associated scope states. The response will be similar to what returns the ``GET /v2/scope`` endpoint which is a paginated list of scopes. In this case, only the scopes targeted for a state reset will be returned. The response output can be paginated using the ``offset`` and ``limit`` parameters. The response will then have the following format: .. code-block:: javascript { ""results"": [ { ""collector"": ""gnocchi"", ""fetcher"": ""keystone"", ""scope_id"": ""7a7e5183264644a7a79530eb56e59941"", ""scope_key"": ""project_id"", ""state"": ""2019-05-09 10:00:00"" }, { ""collector"": ""gnocchi"", ""fetcher"": ""keystone"", ""scope_id"": ""9084fadcbd46481788e0ad7405dcbf12"", ""scope_key"": ""project_id"", ""state"": ""2019-05-09 10:00:00"" }, { ""collector"": ""gnocchi"", ""fetcher"": ""keystone"", ""scope_id"": ""1f41d183fca5490ebda5c63fbaca026a"", ""scope_key"": ""project_id"", ""state"": ""2019-05-09 10:00:00"" } ] } The expected HTTP success response code for a ``PUT`` request on this endpoint is ``200 OK``. Expected HTTP error response codes for a ``PUT`` request on this endpoint are: * ``400 Bad Request``: Malformed request. This will also happen in the case where both ``all_scopes`` and ``scope_id`` parameters are present. * ``403 Forbidden``: The user is not authorized to reset the state of any scope. * ``404 Not Found``: No scope was found for the provided parameters. This will also happen in the case where both ``all_scopes`` and ``scope_id`` parameters are missing. This endpoint will be only authorized to admins. Security impact --------------- Any user with access to this endpoint will be able to perform a scope state reset on one or several scopes which is an action carrying heavy side effects. Thus, access to this endpoint should be granted to non-admin users with uttermost concern or not at all if possible. Notifications Impact -------------------- None. Other end user impact --------------------- The client will also be updated in order to include a function and a CLI command allowing to reset state for one or several given scopes. Performance Impact ------------------ None. Other deployer impact --------------------- Scope state reset will cease to be a tricky and laborious process and will profit admins and deployers for operating scopes. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: <jferrieu> Other contributors: <peschk_l> Work Items ---------- * Implement the API endpoint with unit tests * Add tempest tests * Support this endpoint in the client. Dependencies ============ None. Testing ======= Tempest tests for this endpoint will be added. Documentation Impact ==================== The endpoint will be added to the API reference. References ========== Spec to get/reset the state of a scope: https://review.opendev.org/#/c/657393/ ",,230,0
openstack%2Fcloudkitty-dashboard~master~Id534f5ab6e883672c72ea07a5f3b5f556a8d74b4,openstack/cloudkitty-dashboard,master,Id534f5ab6e883672c72ea07a5f3b5f556a8d74b4,Add asterisk mark for the required field on CreateServiceForm,MERGED,2019-06-04 05:52:36.000000000,2019-06-07 13:52:31.000000000,2019-06-07 13:52:31.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-06-04 05:52:36.000000000', 'files': ['cloudkittydashboard/dashboards/admin/hashmap/forms.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/43db711cdb744441127f30e940075c798fbc0ff1', 'message': 'Add asterisk mark for the required field on CreateServiceForm\n\nservice_name is required according to code of cloudkittyclient\nDepend-On: https://github.com/openstack/python-cloudkittyclient/blob/d2fb83e64ce51452c6af657c71eb50a07158544c/cloudkittyclient/v1/rating/hashmap.py#L49-L50\n\nChange-Id: Id534f5ab6e883672c72ea07a5f3b5f556a8d74b4\n'}]",0,662936,43db711cdb744441127f30e940075c798fbc0ff1,7,3,1,27822,,,0,"Add asterisk mark for the required field on CreateServiceForm

service_name is required according to code of cloudkittyclient
Depend-On: https://github.com/openstack/python-cloudkittyclient/blob/d2fb83e64ce51452c6af657c71eb50a07158544c/cloudkittyclient/v1/rating/hashmap.py#L49-L50

Change-Id: Id534f5ab6e883672c72ea07a5f3b5f556a8d74b4
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/36/662936/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkittydashboard/dashboards/admin/hashmap/forms.py'],1,43db711cdb744441127f30e940075c798fbc0ff1,Bug#1," 'data-required-when-shown': 'true', 'data-required-when-shown': 'true',",,2,0
openstack%2Finstack-undercloud~stable%2Fqueens~Ie4425e7b319b39fb5bb541b17d0b909fa94c397c,openstack/instack-undercloud,stable/queens,Ie4425e7b319b39fb5bb541b17d0b909fa94c397c,[queens-only] Increase the innodb file size by default,MERGED,2019-06-06 10:46:51.000000000,2019-06-07 13:51:49.000000000,2019-06-07 13:51:49.000000000,"[{'_account_id': 3153}, {'_account_id': 11816}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-06 10:46:51.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/a098fbc64d6442317352913bc935da812bd32b9e', 'message': '[queens-only] Increase the innodb file size by default\n\nSometimes on queens we can get the following error:\n""""""\n2018-08-03 15:03:35.898 1544 ERROR oslo_messaging.rpc.server DBError: (pymysql.err.InternalError) (1118, u\'The size of BLOB/TEXT data inserted in one transaction is greater than 10% of redo log size. Increase the redo log size using innodb_log_file_size.\') [SQL: u\'UPDATE action_executions_v2 SET updated_at=%(updated_at)s, state=%(state)s, accepted=%(accepted)s, output=%(output)s WHERE action_executions_v2.id = %(action_executions_v2_id)s\'] [parameters: {\'output\': \'{""result"": {""log_path"": ""/tmp/ansible-mistral-actionIMP4Az/ansible.log"", ""stderr"": ""ansible-playbook 2.4.3.0\\\\n config file = /usr/share/ceph-ansibl ... (11486221 characters truncated) ... statements should not include jinja2 templating delimiters\\\\nsuch as {{ }} or {% %}. Found: {{ groups.get(mgr_group_name, []) | length > 0\\\\n}}\\\\n""}}\', \'state\': \'SUCCESS\', \'accepted\': 1, \'updated_at\': datetime.datetime(2018, 8, 3, 19, 3, 35), \'action_executions_v2_id\': u\'f9170825-5b9c-4d41-b528-4b029a78796b\'}] (Background on this error at: http://sqlalche.me/e/2j85)\n""""""\n\nBy increasing the innodb log file size from 50MB to 256MB by default we should\nmitigate this problem considerably (rocky and onwards are not affected as config-download does\nnot store the output in the DB).\n\nTested as follows:\n1) New undercloud deploy with this patch -> correct innodb file size (256M)\n\n2) Redeploy of an existing undercloud, hereby increasing (from 50MB as default to 256M)\n\nBefore:\n[root@undercloud-0 ~]# mysql -e ""show variables like \'innodb_log_file_size\';""\n+----------------------+----------+\n| Variable_name        | Value    |\n+----------------------+----------+\n| innodb_log_file_size | 50331648 |\n+----------------------+----------+\n\nAfter:\n[root@undercloud-0 ~]# mysql -e ""show variables like \'innodb_log_file_size\';""\n+----------------------+-----------+\n| Variable_name        | Value     |\n+----------------------+-----------+\n| innodb_log_file_size | 268435456 |\n+----------------------+-----------+\n\nmariadb indeed has increased the log file correctly:\n2019-06-06  6:03:20 139969388783808 [Warning] InnoDB: Resizing redo log from 2*3072 to 2*16384 pages, LSN=40967264\n2019-06-06  6:03:20 139969388783808 [Warning] InnoDB: Starting to delete and rewrite log files.\n2019-06-06  6:03:20 139969388783808 [Note] InnoDB: Setting log file ./ib_logfile101 size to 256 MB InnoDB: Progress in MB: 100 200\n2019-06-06  6:03:21 139969388783808 [Note] InnoDB: Setting log file ./ib_logfile1 size to 256 MB\n\nAnd the files are correctly resized:\n-rw-rw----. 1 mysql mysql 268435456 Jun  6 06:14 ib_logfile0\n-rw-rw----. 1 mysql mysql 268435456 Jun  6 06:03 ib_logfile1\n\n3) Tried also shrinking the DB size (to 156M) to make sure mariadb picks up the change correctly:\n2019-06-06  6:17:24 140407714523328 [Warning] InnoDB: Resizing redo log from 2*16384 to 2*9984 pages, LSN=45922683\n2019-06-06  6:17:24 140407714523328 [Warning] InnoDB: Starting to delete and rewrite log files.\n2019-06-06  6:17:24 140407714523328 [Note] InnoDB: Setting log file ./ib_logfile101 size to 156 MB InnoDB: Progress in MB: 100\n2019-06-06  6:17:24 140407714523328 [Note] InnoDB: Setting log file ./ib_logfile1 size to 156 MB InnoDB: Progress in MB: 100\n\nAnd the files were again correctly resized:\n-rw-rw----. 1 mysql mysql 163577856 Jun  6 06:22 ib_logfile0\n-rw-rw----. 1 mysql mysql 163577856 Jun  6 06:17 ib_logfile1\n\nChange-Id: Ie4425e7b319b39fb5bb541b17d0b909fa94c397c\nCloses-Bug: #1831875\n'}]",0,663595,a098fbc64d6442317352913bc935da812bd32b9e,13,7,1,20172,,,0,"[queens-only] Increase the innodb file size by default

Sometimes on queens we can get the following error:
""""""
2018-08-03 15:03:35.898 1544 ERROR oslo_messaging.rpc.server DBError: (pymysql.err.InternalError) (1118, u'The size of BLOB/TEXT data inserted in one transaction is greater than 10% of redo log size. Increase the redo log size using innodb_log_file_size.') [SQL: u'UPDATE action_executions_v2 SET updated_at=%(updated_at)s, state=%(state)s, accepted=%(accepted)s, output=%(output)s WHERE action_executions_v2.id = %(action_executions_v2_id)s'] [parameters: {'output': '{""result"": {""log_path"": ""/tmp/ansible-mistral-actionIMP4Az/ansible.log"", ""stderr"": ""ansible-playbook 2.4.3.0\\n config file = /usr/share/ceph-ansibl ... (11486221 characters truncated) ... statements should not include jinja2 templating delimiters\\nsuch as {{ }} or {% %}. Found: {{ groups.get(mgr_group_name, []) | length > 0\\n}}\\n""}}', 'state': 'SUCCESS', 'accepted': 1, 'updated_at': datetime.datetime(2018, 8, 3, 19, 3, 35), 'action_executions_v2_id': u'f9170825-5b9c-4d41-b528-4b029a78796b'}] (Background on this error at: http://sqlalche.me/e/2j85)
""""""

By increasing the innodb log file size from 50MB to 256MB by default we should
mitigate this problem considerably (rocky and onwards are not affected as config-download does
not store the output in the DB).

Tested as follows:
1) New undercloud deploy with this patch -> correct innodb file size (256M)

2) Redeploy of an existing undercloud, hereby increasing (from 50MB as default to 256M)

Before:
[root@undercloud-0 ~]# mysql -e ""show variables like 'innodb_log_file_size';""
+----------------------+----------+
| Variable_name        | Value    |
+----------------------+----------+
| innodb_log_file_size | 50331648 |
+----------------------+----------+

After:
[root@undercloud-0 ~]# mysql -e ""show variables like 'innodb_log_file_size';""
+----------------------+-----------+
| Variable_name        | Value     |
+----------------------+-----------+
| innodb_log_file_size | 268435456 |
+----------------------+-----------+

mariadb indeed has increased the log file correctly:
2019-06-06  6:03:20 139969388783808 [Warning] InnoDB: Resizing redo log from 2*3072 to 2*16384 pages, LSN=40967264
2019-06-06  6:03:20 139969388783808 [Warning] InnoDB: Starting to delete and rewrite log files.
2019-06-06  6:03:20 139969388783808 [Note] InnoDB: Setting log file ./ib_logfile101 size to 256 MB InnoDB: Progress in MB: 100 200
2019-06-06  6:03:21 139969388783808 [Note] InnoDB: Setting log file ./ib_logfile1 size to 256 MB

And the files are correctly resized:
-rw-rw----. 1 mysql mysql 268435456 Jun  6 06:14 ib_logfile0
-rw-rw----. 1 mysql mysql 268435456 Jun  6 06:03 ib_logfile1

3) Tried also shrinking the DB size (to 156M) to make sure mariadb picks up the change correctly:
2019-06-06  6:17:24 140407714523328 [Warning] InnoDB: Resizing redo log from 2*16384 to 2*9984 pages, LSN=45922683
2019-06-06  6:17:24 140407714523328 [Warning] InnoDB: Starting to delete and rewrite log files.
2019-06-06  6:17:24 140407714523328 [Note] InnoDB: Setting log file ./ib_logfile101 size to 156 MB InnoDB: Progress in MB: 100
2019-06-06  6:17:24 140407714523328 [Note] InnoDB: Setting log file ./ib_logfile1 size to 156 MB InnoDB: Progress in MB: 100

And the files were again correctly resized:
-rw-rw----. 1 mysql mysql 163577856 Jun  6 06:22 ib_logfile0
-rw-rw----. 1 mysql mysql 163577856 Jun  6 06:17 ib_logfile1

Change-Id: Ie4425e7b319b39fb5bb541b17d0b909fa94c397c
Closes-Bug: #1831875
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/95/663595/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.yaml.template'],1,a098fbc64d6442317352913bc935da812bd32b9e,bug/1831875,tripleo::profile::base::database::mysql::innodb_log_file_size: 256M,,1,0
openstack%2Ftempest~master~Iec6a956cba6949d0f30b0d0297ed26487e892125,openstack/tempest,master,Iec6a956cba6949d0f30b0d0297ed26487e892125,Move tox execution to current docs section,MERGED,2019-06-05 10:16:24.000000000,2019-06-07 13:36:11.000000000,2019-06-07 13:36:11.000000000,"[{'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 10:16:24.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/80105b7c5423da06c79726b1c3aac0e985fa0b9a', 'message': 'Move tox execution to current docs section\n\nThis commit moves the execution explanation of tempest run to the\ncurrent(non-legacy) docs section. In the original section of the tox\njobs are ""Legacy run method"" which discourages to use it. However, we\ndon\'t do it yet so far. So, this commit would make it clearer for using\nthe tox jobs as a tempest runner.\n\nChange-Id: Iec6a956cba6949d0f30b0d0297ed26487e892125\n'}]",0,663296,80105b7c5423da06c79726b1c3aac0e985fa0b9a,7,3,1,5689,,,0,"Move tox execution to current docs section

This commit moves the execution explanation of tempest run to the
current(non-legacy) docs section. In the original section of the tox
jobs are ""Legacy run method"" which discourages to use it. However, we
don't do it yet so far. So, this commit would make it clearer for using
the tox jobs as a tempest runner.

Change-Id: Iec6a956cba6949d0f30b0d0297ed26487e892125
",git fetch https://review.opendev.org/openstack/tempest refs/changes/96/663296/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,80105b7c5423da06c79726b1c3aac0e985fa0b9a,enable-tox-docs, Tox also contains several existing job configurations. For example:: $ tox -e full which will run the same set of tests as the OpenStack gate. (it's exactly how the gate invokes Tempest) Or:: $ tox -e smoke to run the tests tagged as smoke. , Tox also contains several existing job configurations. For example:: $ tox -e full which will run the same set of tests as the OpenStack gate. (it's exactly how the gate invokes Tempest) Or:: $ tox -e smoke to run the tests tagged as smoke.,11,11
openstack%2Fglance~master~I18add352238e93c5d4ade8b3e8d967b2f639cdad,openstack/glance,master,I18add352238e93c5d4ade8b3e8d967b2f639cdad,Unit tests fails with new glance_store version 0.29.0,MERGED,2019-06-07 06:25:48.000000000,2019-06-07 13:36:07.000000000,2019-06-07 13:36:07.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 06:25:48.000000000', 'files': ['glance/tests/unit/v2/test_discovery_stores.py', 'glance/tests/unit/base.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/0182868be5a3d07755a5039d77ff53ff3d770147', 'message': 'Unit tests fails with new glance_store version 0.29.0\n\nAround 11 unit tests are failing [1] with a recent patch [2] merged in\nglance_store. The reason behind the failure is glance unit tests are\nloading rbd store which is not supported in gate. Earlier these tests\nwere passing because they were not trying to connect to rados while\nloading the store, but after merging of recent patch [1] it tries to\nconnect to rados via configure_add method of rbd driver.\n\nTo avoid these kind of failures in near future we should drop using\nrbd store in tests as we know it is not supported in gate.\n\nNOTE:\nAlso corrected the naming conventions of store identifiers, instead\nof using file1 etc., used appropriate names.\n\n[1] http://logs.openstack.org/40/663740/1/check/cross-glance-py27/50a9a9c/\n[2] https://review.opendev.org/660340\n\nChange-Id: I18add352238e93c5d4ade8b3e8d967b2f639cdad\nCloses-Bug: #1831963\n'}]",3,663840,0182868be5a3d07755a5039d77ff53ff3d770147,15,6,1,9303,,,0,"Unit tests fails with new glance_store version 0.29.0

Around 11 unit tests are failing [1] with a recent patch [2] merged in
glance_store. The reason behind the failure is glance unit tests are
loading rbd store which is not supported in gate. Earlier these tests
were passing because they were not trying to connect to rados while
loading the store, but after merging of recent patch [1] it tries to
connect to rados via configure_add method of rbd driver.

To avoid these kind of failures in near future we should drop using
rbd store in tests as we know it is not supported in gate.

NOTE:
Also corrected the naming conventions of store identifiers, instead
of using file1 etc., used appropriate names.

[1] http://logs.openstack.org/40/663740/1/check/cross-glance-py27/50a9a9c/
[2] https://review.opendev.org/660340

Change-Id: I18add352238e93c5d4ade8b3e8d967b2f639cdad
Closes-Bug: #1831963
",git fetch https://review.opendev.org/openstack/glance refs/changes/40/663840/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/v2/test_discovery_stores.py', 'glance/tests/unit/base.py']",2,0182868be5a3d07755a5039d77ff53ff3d770147,bug/1831963," self.config(enabled_backends={'fast': 'file', 'cheap': 'file', self.config(default_backend='fast', group='fast')"," self.config(enabled_backends={'file1': 'file', 'ceph1': 'rbd', self.config(default_backend='file1', group='file1')",5,5
openstack%2Fneutron~master~I86e4487035d60e1b52e951dd3cd50d6bb54f388b,openstack/neutron,master,I86e4487035d60e1b52e951dd3cd50d6bb54f388b,Add ip_monitor command implemented using Pyroute2,MERGED,2019-05-22 09:11:43.000000000,2019-06-07 13:36:03.000000000,2019-06-07 13:36:03.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-22 09:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9dbaf863f0deff0f7b12bb9a56238341d4f12e88', 'message': 'Add ip_monitor command implemented using Pyroute2\n\nThis method allows to track any IP address change in a\nnamespace. In future patches, this method will replace\nthe current IP monitor used in the keepalived_state_change\ndaemon. The current implementation relays in a spawned shell,\nexecuted in root mode, and the output of this shell,\nconveniently parsed.\n\nIf the passed namespace is not None, this new method must\nbe executed in privileged mode (root user), but cannot use\nprivsep because is a blocking function and can exhaust the\nnumber of working threads.\n\nThis function should be executed in a parallel thread, returning\nthe data using the eventlet queue. Pyroute does not implement yet\na non blocking method to retrieve the command output or to know if\nthe buffer has data. This method, spawned in a greenthread, must be\nstopped by killing this thread.\n\nAn example of how to use it can be found in the functional tests\nimplemented in this patch.\n\nChange-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b\nRelated-Bug: #1680183\n'}, {'number': 2, 'created': '2019-05-22 09:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cca2cc3df3cddf482687a7bd59b913549dee5caa', 'message': 'Add ip_monitor command implemented using Pyroute2\n\nThis method allows to track any IP address change in a\nnamespace. In future patches, this method will replace\nthe current IP monitor used in the keepalived_state_change\ndaemon. The current implementation relays in a spawned shell,\nexecuted in root mode, and the output of this shell,\nconveniently parsed.\n\nIf the passed namespace is not None, this new method must\nbe executed in privileged mode (root user), but cannot use\nprivsep because is a blocking function and can exhaust the\nnumber of working threads.\n\nThis function should be executed in a parallel thread, returning\nthe data using the eventlet queue. Pyroute does not implement yet\na non blocking method to retrieve the command output or to know if\nthe buffer has data. This method, spawned in a greenthread, must be\nstopped by killing this thread.\n\nAn example of how to use it can be found in the functional tests\nimplemented in this patch.\n\nChange-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b\nRelated-Bug: #1680183\n'}, {'number': 3, 'created': '2019-05-22 13:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae0cdd13eb0d017fc75e1d0fa30a091464df5783', 'message': 'Add ip_monitor command implemented using Pyroute2\n\nThis method allows to track any IP address change in a\nnamespace. In future patches, this method will replace\nthe current IP monitor used in the keepalived_state_change\ndaemon. The current implementation relays in a spawned shell,\nexecuted in root mode, and the output of this shell,\nconveniently parsed.\n\nIf the passed namespace is not None, this new method must\nbe executed in privileged mode (root user), but cannot use\nprivsep because is a blocking function and can exhaust the\nnumber of working threads.\n\nThis function should be executed in a parallel thread, returning\nthe data using the eventlet queue. Pyroute does not implement yet\na non blocking method to retrieve the command output or to know if\nthe buffer has data. This method, spawned in a greenthread, must be\nstopped by killing this thread.\n\nAn example of how to use it can be found in the functional tests\nimplemented in this patch.\n\nChange-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b\nRelated-Bug: #1680183\n'}, {'number': 4, 'created': '2019-05-22 19:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/855d966f3fc98ff2a6013051830b7edc9503a0f4', 'message': 'Add ip_monitor command implemented using Pyroute2\n\nThis method allows to track any IP address change in a\nnamespace. In future patches, this method will replace\nthe current IP monitor used in the keepalived_state_change\ndaemon. The current implementation relays in a spawned shell,\nexecuted in root mode, and the output of this shell,\nconveniently parsed.\n\nIf the passed namespace is not None, this new method must\nbe executed in privileged mode (root user), but cannot use\nprivsep because is a blocking function and can exhaust the\nnumber of working threads.\n\nThis function should be executed in a parallel thread, returning\nthe data using the eventlet queue. Pyroute does not implement yet\na non blocking method to retrieve the command output or to know if\nthe buffer has data. This method, spawned in a greenthread, must be\nstopped by killing this thread.\n\nAn example of how to use it can be found in the functional tests\nimplemented in this patch.\n\nChange-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b\nRelated-Bug: #1680183\n'}, {'number': 5, 'created': '2019-05-23 09:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ab3a7887be2f568124768fc3f4955dc01f8c9d4', 'message': 'Add ip_monitor command implemented using Pyroute2\n\nThis method allows to track any IP address change in a\nnamespace. In future patches, this method will replace\nthe current IP monitor used in the keepalived_state_change\ndaemon. The current implementation relays in a spawned shell,\nexecuted in root mode, and the output of this shell,\nconveniently parsed.\n\nIf the passed namespace is not None, this new method must\nbe executed in privileged mode (root user), but cannot use\nprivsep because is a blocking function and can exhaust the\nnumber of working threads.\n\nThis function should be executed in a parallel thread, returning\nthe data using the eventlet queue. Pyroute does not implement yet\na non blocking method to retrieve the command output or to know if\nthe buffer has data. This method, spawned in a greenthread, must be\nstopped by killing this thread.\n\nAn example of how to use it can be found in the functional tests\nimplemented in this patch.\n\nChange-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b\nRelated-Bug: #1680183\n'}, {'number': 6, 'created': '2019-05-23 14:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f0e6b2f042a101dc574ad743a3d7409a957f270', 'message': 'Add ip_monitor command implemented using Pyroute2\n\nThis method allows to track any IP address change in a\nnamespace. In future patches, this method will replace\nthe current IP monitor used in the keepalived_state_change\ndaemon. The current implementation relays in a spawned shell,\nexecuted in root mode, and the output of this shell,\nconveniently parsed.\n\nIf the passed namespace is not None, this new method must\nbe executed in privileged mode (root user), but cannot use\nprivsep because is a blocking function and can exhaust the\nnumber of working threads.\n\nThis function should be executed in a parallel thread, returning\nthe data using the eventlet queue. Pyroute does not implement yet\na non blocking method to retrieve the command output or to know if\nthe buffer has data. This method, spawned in a greenthread, must be\nstopped by killing this thread.\n\nAn example of how to use it can be found in the functional tests\nimplemented in this patch.\n\nChange-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b\nRelated-Bug: #1680183\n'}, {'number': 7, 'created': '2019-05-23 14:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c0718dbf29706e2b7b1d7295e14c700a5a820b8', 'message': 'Add ip_monitor command implemented using Pyroute2\n\nThis method allows to track any IP address change in a\nnamespace. In future patches, this method will replace\nthe current IP monitor used in the keepalived_state_change\ndaemon. The current implementation relays in a spawned shell,\nexecuted in root mode, and the output of this shell,\nconveniently parsed.\n\nIf the passed namespace is not None, this new method must\nbe executed in privileged mode (root user), but cannot use\nprivsep because is a blocking function and can exhaust the\nnumber of working threads.\n\nThis function should be executed in a parallel thread, returning\nthe data using the eventlet queue. Pyroute does not implement yet\na non blocking method to retrieve the command output or to know if\nthe buffer has data. This method, spawned in a greenthread, must be\nstopped by killing this thread.\n\nAn example of how to use it can be found in the functional tests\nimplemented in this patch.\n\nChange-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b\nRelated-Bug: #1680183\n'}, {'number': 8, 'created': '2019-05-23 15:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/44943b81aa5400c20e921e116b588012128072e6', 'message': 'Add ip_monitor command implemented using Pyroute2\n\nThis method allows to track any IP address change in a\nnamespace. In future patches, this method will replace\nthe current IP monitor used in the keepalived_state_change\ndaemon. The current implementation relays in a spawned shell,\nexecuted in root mode, and the output of this shell,\nconveniently parsed.\n\nIf the passed namespace is not None, this new method must\nbe executed in privileged mode (root user), but cannot use\nprivsep because is a blocking function and can exhaust the\nnumber of working threads.\n\nThis function should be executed in a parallel thread, returning\nthe data using the eventlet queue. Pyroute does not implement yet\na non blocking method to retrieve the command output or to know if\nthe buffer has data. This method, spawned in a greenthread, must be\nstopped by killing this thread.\n\nAn example of how to use it can be found in the functional tests\nimplemented in this patch.\n\nChange-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b\nRelated-Bug: #1680183\n'}, {'number': 9, 'created': '2019-05-24 11:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/668d132bd14598a02a343863c11f665640d76752', 'message': 'Add ip_monitor command implemented using Pyroute2\n\nThis method allows to track any IP address change in a\nnamespace. In future patches, this method will replace\nthe current IP monitor used in the keepalived_state_change\ndaemon. The current implementation relays in a spawned shell,\nexecuted in root mode, and the output of this shell,\nconveniently parsed.\n\nIf the passed namespace is not None, this new method must\nbe executed in privileged mode (root user), but cannot use\nprivsep because is a blocking function and can exhaust the\nnumber of working threads.\n\nThis function should be executed in a parallel thread, returning\nthe data using the eventlet queue. Pyroute does not implement yet\na non blocking method to retrieve the command output or to know if\nthe buffer has data. This method, spawned in a greenthread, must be\nstopped by killing this thread.\n\nAn example of how to use it can be found in the functional tests\nimplemented in this patch.\n\nChange-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b\nRelated-Bug: #1680183\n'}, {'number': 10, 'created': '2019-05-24 15:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ae5ee53067f7dab1da0d3bc1f5832bcb4e3fdf8', 'message': 'Add ip_monitor command implemented using Pyroute2\n\nThis method allows to track any IP address change in a\nnamespace. In future patches, this method will replace\nthe current IP monitor used in the keepalived_state_change\ndaemon. The current implementation relays in a spawned shell,\nexecuted in root mode, and the output of this shell,\nconveniently parsed.\n\nIf the passed namespace is not None, this new method must\nbe executed in privileged mode (root user), but cannot use\nprivsep because is a blocking function and can exhaust the\nnumber of working threads.\n\nThis function should be executed in a parallel thread, returning\nthe data using the eventlet queue. Pyroute does not implement yet\na non blocking method to retrieve the command output or to know if\nthe buffer has data. This method, spawned in a greenthread, must be\nstopped by killing this thread.\n\nAn example of how to use it can be found in the functional tests\nimplemented in this patch.\n\nChange-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b\nRelated-Bug: #1680183\n'}, {'number': 11, 'created': '2019-05-25 09:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ff1be8382d2ed0177a702ea6afb9c1cf6fde9fa', 'message': 'Add ip_monitor command implemented using Pyroute2\n\nThis method allows to track any IP address change in a\nnamespace. In future patches, this method will replace\nthe current IP monitor used in the keepalived_state_change\ndaemon. The current implementation relays in a spawned shell,\nexecuted in root mode, and the output of this shell,\nconveniently parsed.\n\nIf the passed namespace is not None, this new method must\nbe executed in privileged mode (root user), but cannot use\nprivsep because is a blocking function and can exhaust the\nnumber of working threads.\n\nThis function should be executed in a parallel thread, returning\nthe data using the eventlet queue. Pyroute does not implement yet\na non blocking method to retrieve the command output or to know if\nthe buffer has data. This method, spawned in a greenthread, must be\nstopped by killing this thread.\n\nAn example of how to use it can be found in the functional tests\nimplemented in this patch.\n\nChange-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b\nRelated-Bug: #1680183\n'}, {'number': 12, 'created': '2019-05-25 09:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/491e91f220a212f6a151244abddeae50e2095c1e', 'message': 'Add ip_monitor command implemented using Pyroute2\n\nThis method allows to track any IP address change in a\nnamespace. In future patches, this method will replace\nthe current IP monitor used in the keepalived_state_change\ndaemon. The current implementation relays in a spawned shell,\nexecuted in root mode, and the output of this shell,\nconveniently parsed.\n\nIf the passed namespace is not None, this new method must\nbe executed in privileged mode (root user), but cannot use\nprivsep because is a blocking function and can exhaust the\nnumber of working threads.\n\nThis function should be executed in a parallel thread, returning\nthe data using the eventlet queue. Pyroute does not implement yet\na non blocking method to retrieve the command output or to know if\nthe buffer has data. This method, spawned in a greenthread, must be\nstopped by killing this thread.\n\nAn example of how to use it can be found in the functional tests\nimplemented in this patch.\n\nChange-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b\nRelated-Bug: #1680183\n'}, {'number': 13, 'created': '2019-05-25 11:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/70e206bc09d5121db20bd96c9255f49c2596237f', 'message': 'Add ip_monitor command implemented using Pyroute2\n\nThis method allows to track any IP address change in a\nnamespace. In future patches, this method will replace\nthe current IP monitor used in the keepalived_state_change\ndaemon. The current implementation relays in a spawned shell,\nexecuted in root mode, and the output of this shell,\nconveniently parsed.\n\nIf the passed namespace is not None, this new method must\nbe executed in privileged mode (root user), but cannot use\nprivsep because is a blocking function and can exhaust the\nnumber of working threads.\n\nThis function should be executed in a parallel thread, returning\nthe data using the eventlet queue. Pyroute does not implement yet\na non blocking method to retrieve the command output or to know if\nthe buffer has data. This method, spawned in a greenthread, must be\nstopped by killing this thread.\n\nAn example of how to use it can be found in the functional tests\nimplemented in this patch.\n\nChange-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b\nRelated-Bug: #1680183\n'}, {'number': 14, 'created': '2019-05-25 11:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d88222275a63dc43afdc4e7040f3a791b4e8715d', 'message': 'Add ip_monitor command implemented using Pyroute2\n\nThis method allows to track any IP address change in a\nnamespace. In future patches, this method will replace\nthe current IP monitor used in the keepalived_state_change\ndaemon. The current implementation relays in a spawned shell,\nexecuted in root mode, and the output of this shell,\nconveniently parsed.\n\nIf the passed namespace is not None, this new method must\nbe executed in privileged mode (root user), but cannot use\nprivsep because is a blocking function and can exhaust the\nnumber of working threads.\n\nThis function should be executed in a parallel thread, returning\nthe data using the eventlet queue. Pyroute does not implement yet\na non blocking method to retrieve the command output or to know if\nthe buffer has data. This method, spawned in a greenthread, must be\nstopped by killing this thread.\n\nAn example of how to use it can be found in the functional tests\nimplemented in this patch.\n\nChange-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b\nRelated-Bug: #1680183\n'}, {'number': 15, 'created': '2019-05-25 18:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9b1caab99777aba5371edcdee8a6bf1b09ac8d2', 'message': 'Add ip_monitor command implemented using Pyroute2\n\nThis method allows to track any IP address change in a\nnamespace. In future patches, this method will replace\nthe current IP monitor used in the keepalived_state_change\ndaemon. The current implementation relays in a spawned shell,\nexecuted in root mode, and the output of this shell,\nconveniently parsed.\n\nIf the passed namespace is not None, this new method must\nbe executed in privileged mode (root user), but cannot use\nprivsep because is a blocking function and can exhaust the\nnumber of working threads.\n\nThis function should be executed in a parallel thread, returning\nthe data using the eventlet queue. Pyroute does not implement yet\na non blocking method to retrieve the command output or to know if\nthe buffer has data. This method, spawned in a greenthread, must be\nstopped by killing this thread.\n\nAn example of how to use it can be found in the functional tests\nimplemented in this patch.\n\nChange-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b\nRelated-Bug: #1680183\n'}, {'number': 16, 'created': '2019-05-26 19:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c2d827fc0bc3218c6a93128b1a3dece45ae5278', 'message': 'Add ip_monitor command implemented using Pyroute2\n\nThis method allows to track any IP address change in a\nnamespace. In future patches, this method will replace\nthe current IP monitor used in the keepalived_state_change\ndaemon. The current implementation relays in a spawned shell,\nexecuted in root mode, and the output of this shell,\nconveniently parsed.\n\nIf the passed namespace is not None, this new method must\nbe executed in privileged mode (root user), but cannot use\nprivsep because is a blocking function and can exhaust the\nnumber of working threads.\n\nThis function should be executed in a parallel thread, returning\nthe data using the eventlet queue. Pyroute does not implement yet\na non blocking method to retrieve the command output or to know if\nthe buffer has data. This method, spawned in a greenthread, must be\nstopped by killing this thread.\n\nAn example of how to use it can be found in the functional tests\nimplemented in this patch.\n\nChange-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b\nRelated-Bug: #1680183\n'}, {'number': 17, 'created': '2019-05-27 12:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/97de888d2a8a564c3527f13552d40277fd815915', 'message': 'Add ip_monitor command implemented using Pyroute2\n\nThis method allows to track any IP address change in a\nnamespace. In future patches, this method will replace\nthe current IP monitor used in the keepalived_state_change\ndaemon. The current implementation relays in a spawned shell,\nexecuted in root mode, and the output of this shell,\nconveniently parsed.\n\nIf the passed namespace is not None, this new method must\nbe executed in privileged mode (root user), but cannot use\nprivsep because is a blocking function and can exhaust the\nnumber of working threads.\n\nThis function should be executed in a parallel thread, returning\nthe data using the eventlet queue. Pyroute does not implement yet\na non blocking method to retrieve the command output or to know if\nthe buffer has data. This method, spawned in a greenthread, must be\nstopped by killing this thread.\n\nAn example of how to use it can be found in the functional tests\nimplemented in this patch.\n\nChange-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b\nRelated-Bug: #1680183\n'}, {'number': 18, 'created': '2019-05-28 16:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a94734b0b5ea8b90b86757e63497cca0fbe0f7c', 'message': 'Add ip_monitor command implemented using Pyroute2\n\nThis method allows to track any IP address change in a\nnamespace. In future patches, this method will replace\nthe current IP monitor used in the keepalived_state_change\ndaemon. The current implementation relays in a spawned shell,\nexecuted in root mode, and the output of this shell,\nconveniently parsed.\n\nIf the passed namespace is not None, this new method must\nbe executed in privileged mode (root user), but cannot use\nprivsep because is a blocking function and can exhaust the\nnumber of working threads.\n\nThis function should be executed in a parallel thread, returning\nthe data using the eventlet queue. Pyroute does not implement yet\na non blocking method to retrieve the command output or to know if\nthe buffer has data. This method, spawned in a greenthread, must be\nstopped by killing this thread.\n\nAn example of how to use it can be found in the functional tests\nimplemented in this patch.\n\nChange-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b\nRelated-Bug: #1680183\n'}, {'number': 19, 'created': '2019-06-05 17:23:43.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/functional/agent/linux/bin/ip_monitor.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a477c31a23049407b010e2eadbc93d0a2ed42e9d', 'message': 'Add ip_monitor command implemented using Pyroute2\n\nThis method allows to track any IP address change in a\nnamespace. In future patches, this method will replace\nthe current IP monitor used in the keepalived_state_change\ndaemon. The current implementation relays in a spawned shell,\nexecuted in root mode, and the output of this shell,\nconveniently parsed.\n\nIf the passed namespace is not None, this new method must\nbe executed in privileged mode (root user), but cannot use\nprivsep because is a blocking function and can exhaust the\nnumber of working threads.\n\nThis function should be executed in a parallel thread, returning\nthe data using the eventlet queue. Pyroute does not implement yet\na non blocking method to retrieve the command output or to know if\nthe buffer has data. This method, spawned in a greenthread, must be\nstopped by killing this thread.\n\nAn example of how to use it can be found in the functional tests\nimplemented in this patch.\n\nChange-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b\nRelated-Bug: #1680183\n'}]",14,660611,a477c31a23049407b010e2eadbc93d0a2ed42e9d,90,10,19,16688,,,0,"Add ip_monitor command implemented using Pyroute2

This method allows to track any IP address change in a
namespace. In future patches, this method will replace
the current IP monitor used in the keepalived_state_change
daemon. The current implementation relays in a spawned shell,
executed in root mode, and the output of this shell,
conveniently parsed.

If the passed namespace is not None, this new method must
be executed in privileged mode (root user), but cannot use
privsep because is a blocking function and can exhaust the
number of working threads.

This function should be executed in a parallel thread, returning
the data using the eventlet queue. Pyroute does not implement yet
a non blocking method to retrieve the command output or to know if
the buffer has data. This method, spawned in a greenthread, must be
stopped by killing this thread.

An example of how to use it can be found in the functional tests
implemented in this patch.

Change-Id: I86e4487035d60e1b52e951dd3cd50d6bb54f388b
Related-Bug: #1680183
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/660611/19 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/functional/privileged/agent/linux/test_ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py']",4,9dbaf863f0deff0f7b12bb9a56238341d4f12e88,bug/1680183,"import eventletdef get_device_name(namespace, index): """"""Get a device name based on it's index :return: (string) name of the device or None if this index does not exist in the namespace. """""" try: with get_iproute(namespace) as ip: device = ip.link('get', index=index) if device: attrs = device[0].get('attrs', []) for attr in (attr for attr in attrs if attr[0] == 'IFLA_IFNAME'): return attr[1] except OSError as e: if e.errno == errno.ENOENT: raise NetworkNamespaceNotFound(netns_name=namespace) raise except netlink_exceptions.NetlinkError as e: if e.code == errno.ENODEV: return raise @privileged.default.entrypoint # NOTE(slaweq): Because of issue with pyroute2.NetNS objects running in threads # we need to lock this function to workaround this issue. # For details please check https://bugs.launchpad.net/neutron/+bug/1811515 @lockutils.synchronized(""privileged-ip-lib"")",,281,15
openstack%2Ftripleo-quickstart-extras~master~Ic238edcbf66c5fb1981b5e24dc926d42574697b7,openstack/tripleo-quickstart-extras,master,Ic238edcbf66c5fb1981b5e24dc926d42574697b7,WIP: NeutronExternalNetworkBridge settings for OVB,ABANDONED,2019-06-06 11:49:34.000000000,2019-06-07 13:35:17.000000000,,"[{'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-06 11:49:34.000000000', 'files': ['config/environments/ovb-common.yml', 'roles/overcloud-prep-config/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4aeb7d5543f3e4c3619742a6d98aa635b8f6c775', 'message': 'WIP: NeutronExternalNetworkBridge settings for OVB\n\nChange-Id: Ic238edcbf66c5fb1981b5e24dc926d42574697b7\n'}]",0,663613,4aeb7d5543f3e4c3619742a6d98aa635b8f6c775,5,3,1,10969,,,0,"WIP: NeutronExternalNetworkBridge settings for OVB

Change-Id: Ic238edcbf66c5fb1981b5e24dc926d42574697b7
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/13/663613/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/environments/ovb-common.yml', 'roles/overcloud-prep-config/defaults/main.yml']",2,4aeb7d5543f3e4c3619742a6d98aa635b8f6c775,nobrex," NeutronExternalNetworkBridge: ""''"""," NeutronExternalNetworkBridge: """"",2,2
openstack%2Fcloudkitty-specs~master~I9b2531225895a4f8769112078f4fc4e443a31696,openstack/cloudkitty-specs,master,I9b2531225895a4f8769112078f4fc4e443a31696,"Spec: Add a ""delete"" method to the v2 storage interface",MERGED,2019-05-27 09:33:55.000000000,2019-06-07 13:30:58.000000000,2019-06-07 13:30:58.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-05-27 09:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/e983b96d4f7b7622cd67cc69c14bc9290a1ddfc2', 'message': 'Spec: Add a ""delete"" method to the v2 storage interface\n\nSee ""specs/train/add_delete_method_v2_storage.rst"" for details.\n\nChange-Id: I9b2531225895a4f8769112078f4fc4e443a31696\nStory: 2005395\nTask: 30791\n'}, {'number': 2, 'created': '2019-06-06 12:47:24.000000000', 'files': ['specs/template.rst', 'specs/train/add_delete_method_v2_storage.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/4dd31ac1e9edf2dc008223e4377db01a7b3e4ef4', 'message': 'Spec: Add a ""delete"" method to the v2 storage interface\n\nSee ""specs/train/add_delete_method_v2_storage.rst"" for details.\n\nChange-Id: I9b2531225895a4f8769112078f4fc4e443a31696\nStory: 2005395\nTask: 30791\n'}]",6,661576,4dd31ac1e9edf2dc008223e4377db01a7b3e4ef4,11,3,2,23060,,,0,"Spec: Add a ""delete"" method to the v2 storage interface

See ""specs/train/add_delete_method_v2_storage.rst"" for details.

Change-Id: I9b2531225895a4f8769112078f4fc4e443a31696
Story: 2005395
Task: 30791
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/76/661576/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/template.rst', 'specs/train/add_delete_method_v2_storage.rst']",2,e983b96d4f7b7622cd67cc69c14bc9290a1ddfc2,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================= Add a ""delete"" method to the v2 storage interface ================================================= https://storyboard.openstack.org/#!/story/2005395 Problem Description =================== .. note:: This spec is the detailled implementation of one part of a larger spec. If you haven't read it yet, please see https://specs.openstack.org/openstack/cloudkitty-specs/specs/train/reset_scope_state.html Currently, there is no way to delete data from a v2 storage backend *via* cloudkitty. However, this is required in order to reset the state of a scope (see note above). Proposed Change =============== A ``delete`` method will be added to the v2 storage interface and implemented in the v2 storage drivers. It will take three parameters: * ``begin`` (datetime object, optional): The start of the period for which data should be deleted. * ``end`` (datetime object, optional): The end of the period for which data should be deleted. * ``filters`` (dict, optional): A dict of optional filters allowing to select data marked for deletion. Alternatives ------------ None. Data model impact ----------------- No changes will be made to the data model. However, it will be possible to delete data from teh storage backend through cloudkitty now. REST API impact --------------- None. Described in another spec. Security impact --------------- None. API security impact is described in other specs. Notifications Impact -------------------- None. Described in another spec. Other end user impact --------------------- None. Performance Impact ------------------ Data deletion may slow down and put some load on the storage backend. Other deployer impact --------------------- None. Developer impact ---------------- Changes related to scope state reset will need to be rebased on this change. Implementation ============== Assignee(s) ----------- Primary assignee: peschk_l Work Items ---------- Add the ``delete`` method to the v2 storage interface and implement it in the InfluxDB storage driver. Dependencies ============ Spec: allowing to get/reset the state of a scope. https://specs.openstack.org/openstack/cloudkitty-specs/specs/train/reset_scope_state.html Testing ======= In addition to unit tests, Tempest scenarios testing the whole scope state reset action will be added. Documentation Impact ==================== The ``delete`` method will be added to the autogenerated documentation. References ========== Spec: allowing to get/reset the state of a scope. https://specs.openstack.org/openstack/cloudkitty-specs/specs/train/reset_scope_state.html ",,120,1
openstack%2Fopenstacksdk~master~I72a02ade12667a797643998f1ee9d07a6889f369,openstack/openstacksdk,master,I72a02ade12667a797643998f1ee9d07a6889f369,Use Resource layer for compute AZ and Aggregates,MERGED,2019-06-03 11:44:58.000000000,2019-06-07 13:25:46.000000000,2019-06-07 13:25:46.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-06-03 11:44:58.000000000', 'files': ['openstack/tests/unit/compute/v2/test_aggregate.py', 'openstack/compute/v2/aggregate.py', 'openstack/tests/unit/cloud/test_aggregate.py', 'openstack/tests/unit/compute/v2/test_availability_zone.py', 'openstack/compute/v2/availability_zone.py', 'openstack/cloud/_compute.py', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/de03f4f53a3fc55959ad1445111bd76c49fb7945', 'message': 'Use Resource layer for compute AZ and Aggregates\n\nChange-Id: I72a02ade12667a797643998f1ee9d07a6889f369\n'}]",2,662738,de03f4f53a3fc55959ad1445111bd76c49fb7945,12,4,1,27900,,,0,"Use Resource layer for compute AZ and Aggregates

Change-Id: I72a02ade12667a797643998f1ee9d07a6889f369
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/38/662738/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/compute/v2/test_aggregate.py', 'openstack/compute/v2/aggregate.py', 'openstack/tests/unit/cloud/test_aggregate.py', 'openstack/tests/unit/compute/v2/test_availability_zone.py', 'openstack/compute/v2/availability_zone.py', 'openstack/cloud/_compute.py', 'openstack/compute/v2/_proxy.py']",7,de03f4f53a3fc55959ad1445111bd76c49fb7945,resource_layer," def aggregates(self, **query): :param kwargs query: Optional query parameters to be sent to limit the aggregates being returned. return self._list(_aggregate.Aggregate, **query) base_path = '/os-availability-zone/detail' if details else None return self._list( availability_zone.AvailabilityZone, base_path=base_path)", def aggregates(self): aggregate = _aggregate.Aggregate return self._list(aggregate) if details: az = availability_zone.AvailabilityZoneDetail else: az = availability_zone.AvailabilityZone return self._list(az),33,92
openstack%2Fneutron~stable%2Frocky~If0d42919412dac75deb4d7f484c42cea630fbc59,openstack/neutron,stable/rocky,If0d42919412dac75deb4d7f484c42cea630fbc59,Make OVS controller inactivity_probe configurable,MERGED,2019-06-04 13:03:26.000000000,2019-06-07 13:22:38.000000000,2019-06-07 13:22:37.000000000,"[{'_account_id': 1131}, {'_account_id': 2733}, {'_account_id': 4694}, {'_account_id': 9373}, {'_account_id': 16963}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-04 13:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eaad77758daeefb69bd60d48b8ca1e2814604f8a', 'message': 'Make OVS controller inactivity_probe configurable\n\nThis parameter applies to the OVSDB Controller table when the\nnative openflow driver is used. There are reports that increasing\nit can reduce errors on busy systems. This patch also sets the\ndefault value to 10s which is more than the OVS default of 5s.\nSee the ovs-vswitchd.conf.db man page for full description.\n\nConflicts:\n    neutron/tests/functional/agent/common/test_ovs_lib.py\n\nChange-Id: If0d42919412dac75deb4d7f484c42cea630fbc59\nPartial-Bug: #1817022\n(cherry picked from commit 540d00f68ecf1c11b0296922f965ef60d15d1a86)\n(cherry picked from commit 6e661ecd2de3994de25af0337f7e2ae781c2cca9)\n'}, {'number': 2, 'created': '2019-06-06 10:20:41.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'releasenotes/notes/ovs-make-inactivity-probe-configurable-39d669014d961c5c.yaml', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e555347956acd8841951e5b18c2c6b59325e197', 'message': 'Make OVS controller inactivity_probe configurable\n\nThis parameter applies to the OVSDB Controller table when the\nnative openflow driver is used. There are reports that increasing\nit can reduce errors on busy systems. This patch also sets the\ndefault value to 10s which is more than the OVS default of 5s.\nSee the ovs-vswitchd.conf.db man page for full description.\n\nConflicts:\n    neutron/tests/functional/agent/common/test_ovs_lib.py\n\nChange-Id: If0d42919412dac75deb4d7f484c42cea630fbc59\nPartial-Bug: #1817022\n(cherry picked from commit 540d00f68ecf1c11b0296922f965ef60d15d1a86)\n(cherry picked from commit 6e661ecd2de3994de25af0337f7e2ae781c2cca9)\n'}]",0,663024,3e555347956acd8841951e5b18c2c6b59325e197,23,7,2,2733,,,0,"Make OVS controller inactivity_probe configurable

This parameter applies to the OVSDB Controller table when the
native openflow driver is used. There are reports that increasing
it can reduce errors on busy systems. This patch also sets the
default value to 10s which is more than the OVS default of 5s.
See the ovs-vswitchd.conf.db man page for full description.

Conflicts:
    neutron/tests/functional/agent/common/test_ovs_lib.py

Change-Id: If0d42919412dac75deb4d7f484c42cea630fbc59
Partial-Bug: #1817022
(cherry picked from commit 540d00f68ecf1c11b0296922f965ef60d15d1a86)
(cherry picked from commit 6e661ecd2de3994de25af0337f7e2ae781c2cca9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/663024/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge.py', 'releasenotes/notes/ovs-make-inactivity-probe-configurable-39d669014d961c5c.yaml', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py']",5,eaad77758daeefb69bd60d48b8ca1e2814604f8a,bug/1817022-stable/rocky," cfg.IntOpt('of_inactivity_probe', default=10, help=_(""The inactivity_probe interval in seconds for the local "" ""switch connection to the controller. "" ""A value of 0 disables inactivity probes. "" ""Used only for 'native' driver."")),",,26,3
openstack%2Freleases~master~I34f571396e388dfd466ca7329b9ff9909ab6c9d4,openstack/releases,master,I34f571396e388dfd466ca7329b9ff9909ab6c9d4,Release 0.31.0 of openstacksdk,ABANDONED,2019-06-07 13:17:17.000000000,2019-06-07 13:18:21.000000000,,[],"[{'number': 1, 'created': '2019-06-07 13:17:17.000000000', 'files': ['deliverables/train/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/87190b9acfd9f9825e3a6b4cb0c32e6945b9c4d1', 'message': 'Release 0.31.0 of openstacksdk\n\nChange-Id: I34f571396e388dfd466ca7329b9ff9909ab6c9d4\n'}]",0,663939,87190b9acfd9f9825e3a6b4cb0c32e6945b9c4d1,2,0,1,2,,,0,"Release 0.31.0 of openstacksdk

Change-Id: I34f571396e388dfd466ca7329b9ff9909ab6c9d4
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/663939/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/openstacksdk.yaml'],1,87190b9acfd9f9825e3a6b4cb0c32e6945b9c4d1,, - projects: - hash: f4fa6fabba88d6a738153357bcce55974a00cb1b repo: openstack/openstacksdk version: 0.31.0,,4,0
openstack%2Fkolla-ansible~master~I48d3f4c5f7c04b1ab41b3bad2a6c19e1e9a218fd,openstack/kolla-ansible,master,I48d3f4c5f7c04b1ab41b3bad2a6c19e1e9a218fd,Fix the deploy guide build failed,MERGED,2019-05-29 02:51:43.000000000,2019-06-07 13:16:10.000000000,2019-06-07 13:16:10.000000000,"[{'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-05-29 02:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/635c01361ad1d955fc7da25f7e4262af8caaffac', 'message': 'Add a explanatory note for ""placement_api_port""\n\nChange-Id: I48d3f4c5f7c04b1ab41b3bad2a6c19e1e9a218fd\nCloses-Bug: #1830420\n'}, {'number': 2, 'created': '2019-05-29 08:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e9fd4f64386ed341a0050f27fd73974b3c68020a', 'message': 'Add a explanatory note for ""placement_api_port""\n\nChange-Id: I48d3f4c5f7c04b1ab41b3bad2a6c19e1e9a218fd\nRelated-Bug: #1830420\n'}, {'number': 3, 'created': '2019-05-29 10:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/64ce6032670748ce5dbdb564e10397fbefc22468', 'message': 'Fix the deploy guide build failed\n\nCloses-Bug: #1830586\nChange-Id: I48d3f4c5f7c04b1ab41b3bad2a6c19e1e9a218fd\n'}, {'number': 4, 'created': '2019-05-29 10:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2922d81aa6c0e3a864698dd371c3ed8db81e2377', 'message': 'Fix the deploy guide build failed\n\nCloses-Bug: #1830586\nChange-Id: I48d3f4c5f7c04b1ab41b3bad2a6c19e1e9a218fd\n'}, {'number': 5, 'created': '2019-05-29 11:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff5a594f26737137ed16193ee872394567fb968d', 'message': 'Fix the deploy guide build failed\n\nCloses-Bug: #1830586\nChange-Id: I48d3f4c5f7c04b1ab41b3bad2a6c19e1e9a218fd\n'}, {'number': 6, 'created': '2019-05-29 11:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ef9d888616ab27d08e1f404bff2cd67c587fbd91', 'message': 'Fix the deploy guide build failed\n\nCloses-Bug: #1830586\nChange-Id: I48d3f4c5f7c04b1ab41b3bad2a6c19e1e9a218fd\n'}, {'number': 7, 'created': '2019-05-30 09:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b8f786fa6024f08de0727e40bb892196b9f8c4c6', 'message': 'Fix the deploy guide build failed\n\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1830586\nChange-Id: I48d3f4c5f7c04b1ab41b3bad2a6c19e1e9a218fd\n'}, {'number': 8, 'created': '2019-05-30 11:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fbdeff0b4c36800192e5bb47be6e0b9416e1f5bf', 'message': 'Fix the deploy guide build failed\n\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1830586\nChange-Id: I48d3f4c5f7c04b1ab41b3bad2a6c19e1e9a218fd\n'}, {'number': 9, 'created': '2019-05-30 13:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/816e2f2d13698903a5bcd70df682818685a31fde', 'message': 'Fix the deploy guide build failed\n\nDepends-On: https://review.opendev.org/662209\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1830586\nChange-Id: I48d3f4c5f7c04b1ab41b3bad2a6c19e1e9a218fd\n'}, {'number': 10, 'created': '2019-06-04 09:06:54.000000000', 'files': ['doc/source/user/quickstart.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'deploy-guide/source/conf.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a02de6732e9bdf0804249159ed72f80273e268bc', 'message': 'Fix the deploy guide build failed\n\nDepends-On: https://review.opendev.org/662209\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1830586\nChange-Id: I48d3f4c5f7c04b1ab41b3bad2a6c19e1e9a218fd\n'}]",5,661879,a02de6732e9bdf0804249159ed72f80273e268bc,34,5,10,19779,,,0,"Fix the deploy guide build failed

Depends-On: https://review.opendev.org/662209
Co-authored-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1830586
Change-Id: I48d3f4c5f7c04b1ab41b3bad2a6c19e1e9a218fd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/79/661879/10 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,635c01361ad1d955fc7da25f7e4262af8caaffac,bug/1830586,# Default Placement API port of 8778 already in use,,1,0
openstack%2Fneutron-lib~master~Id29f06b68a95f53ad62bdc597bbb0f12bc4d6a60,openstack/neutron-lib,master,Id29f06b68a95f53ad62bdc597bbb0f12bc4d6a60,Blacklist bandit 1.6.0 due to directory exclusion bug,MERGED,2019-05-10 03:12:17.000000000,2019-06-07 13:10:53.000000000,2019-05-10 14:31:33.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-10 03:12:17.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b04ea0d03154039803ab7772bd5b83015ccad54e', 'message': 'Blacklist bandit 1.6.0 due to directory exclusion bug\n\nBandit 1.6.0 introduces a regression[0] with the -x option,\na fix is expected to be included in 1.6.1 soon.\n\n[0] https://github.com/PyCQA/bandit/issues/488\n[1] https://github.com/PyCQA/bandit/pull/489\n\nChange-Id: Id29f06b68a95f53ad62bdc597bbb0f12bc4d6a60\n'}]",0,658245,b04ea0d03154039803ab7772bd5b83015ccad54e,11,5,1,1131,,,0,"Blacklist bandit 1.6.0 due to directory exclusion bug

Bandit 1.6.0 introduces a regression[0] with the -x option,
a fix is expected to be included in 1.6.1 soon.

[0] https://github.com/PyCQA/bandit/issues/488
[1] https://github.com/PyCQA/bandit/pull/489

Change-Id: Id29f06b68a95f53ad62bdc597bbb0f12bc4d6a60
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/45/658245/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,b04ea0d03154039803ab7772bd5b83015ccad54e,bandit-blacklist,"bandit!=1.6.0,>=1.1.0 # Apache-2.0",bandit>=1.1.0 # Apache-2.0,1,1
openstack%2Ftripleo-specs~master~I572aaa02b35792b32bd0572046a899c51bf3d94a,openstack/tripleo-specs,master,I572aaa02b35792b32bd0572046a899c51bf3d94a,add ci-reproducer to address bugs recreating ci results,MERGED,2019-06-06 15:51:01.000000000,2019-06-07 13:02:13.000000000,2019-06-07 13:02:13.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 15:51:01.000000000', 'files': ['specs/policy/bug-tagging.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/26ce1539f8eb97f8b4f9dd19864007d112af3af4', 'message': 'add ci-reproducer to address bugs recreating ci results\n\nThe TripleO team is putting together tools to reproduce\nCI results outside of the upstream CI system.  This\ntag can be used to organize those issues and bugs.\n\nChange-Id: I572aaa02b35792b32bd0572046a899c51bf3d94a\n'}]",0,663707,26ce1539f8eb97f8b4f9dd19864007d112af3af4,7,6,1,9592,,,0,"add ci-reproducer to address bugs recreating ci results

The TripleO team is putting together tools to reproduce
CI results outside of the upstream CI system.  This
tag can be used to organize those issues and bugs.

Change-Id: I572aaa02b35792b32bd0572046a899c51bf3d94a
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/07/663707/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/policy/bug-tagging.rst'],1,26ce1539f8eb97f8b4f9dd19864007d112af3af4,,| ci-reproducer | A bug affecting local recreation of Continuous Integration environments | +-------------------------------+----------------------------------------------------------------------------+,,2,0
openstack%2Fnova~master~I0e516f11d5bfa7f2ad9fec212467cb70571c6566,openstack/nova,master,I0e516f11d5bfa7f2ad9fec212467cb70571c6566,Fold ComputeManager._resize to its only caller,ABANDONED,2019-06-07 09:50:48.000000000,2019-06-07 12:57:26.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-07 09:50:48.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/761a980f8b54c9c7ddbd0d697ef595f8780a15bc', 'message': 'Fold ComputeManager._resize to its only caller\n\nChange-Id: I0e516f11d5bfa7f2ad9fec212467cb70571c6566\n'}]",0,663873,761a980f8b54c9c7ddbd0d697ef595f8780a15bc,9,7,1,9708,,,0,"Fold ComputeManager._resize to its only caller

Change-Id: I0e516f11d5bfa7f2ad9fec212467cb70571c6566
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/663873/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",3,761a980f8b54c9c7ddbd0d697ef595f8780a15bc,bp/remove-cells-v1," self.compute_task_api.resize_instance( context, instance, None, scheduler_hint, instance_type,"," self._resize(context=context, instance=instance, scheduler_hint=scheduler_hint, flavor=instance_type, def _resize(self, context, instance, scheduler_hint, flavor, request_spec, host_list): # Here just for use in tests self.compute_task_api.resize_instance(context, instance, None, scheduler_hint, flavor, request_spec=request_spec, host_list=host_list) ",31,27
openstack%2Fopenstacksdk~master~I576469b0bdb664512ce9d34d5217329f3fa62b64,openstack/openstacksdk,master,I576469b0bdb664512ce9d34d5217329f3fa62b64,baremetal: raise more specific ResourceFailure in wait_for_* methods,MERGED,2019-06-07 09:27:52.000000000,2019-06-07 12:56:10.000000000,2019-06-07 12:56:10.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-06-07 09:27:52.000000000', 'files': ['openstack/tests/unit/baremetal/v1/test_node.py', 'openstack/baremetal/v1/_proxy.py', 'openstack/tests/unit/baremetal/v1/test_allocation.py', 'openstack/tests/unit/baremetal_introspection/v1/test_proxy.py', 'openstack/baremetal_introspection/v1/_proxy.py', 'openstack/baremetal/v1/allocation.py', 'openstack/baremetal/v1/node.py', 'releasenotes/notes/baremetal-wait-e4571cdb150b188a.yaml', 'openstack/baremetal_introspection/v1/introspection.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f4fa6fabba88d6a738153357bcce55974a00cb1b', 'message': 'baremetal: raise more specific ResourceFailure in wait_for_* methods\n\nRaising a generic SDKException makes it harder to distinguish them\nfrom other failures. Also add missing docstrings.\n\nChange-Id: I576469b0bdb664512ce9d34d5217329f3fa62b64\n'}]",0,663867,f4fa6fabba88d6a738153357bcce55974a00cb1b,7,3,1,10239,,,0,"baremetal: raise more specific ResourceFailure in wait_for_* methods

Raising a generic SDKException makes it harder to distinguish them
from other failures. Also add missing docstrings.

Change-Id: I576469b0bdb664512ce9d34d5217329f3fa62b64
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/67/663867/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/baremetal/v1/test_node.py', 'openstack/baremetal/v1/_proxy.py', 'openstack/tests/unit/baremetal/v1/test_allocation.py', 'openstack/tests/unit/baremetal_introspection/v1/test_proxy.py', 'openstack/baremetal_introspection/v1/_proxy.py', 'openstack/baremetal/v1/allocation.py', 'openstack/baremetal/v1/node.py', 'releasenotes/notes/baremetal-wait-e4571cdb150b188a.yaml', 'openstack/baremetal_introspection/v1/introspection.py']",9,f4fa6fabba88d6a738153357bcce55974a00cb1b,baremetal-wait, :raises: :class:`~openstack.exceptions.ResourceFailure` if introspection fails and ``ignore_error`` is ``False``. :raises: :class:`~openstack.exceptions.ResourceTimeout` on timeout. raise exceptions.ResourceFailure(, raise exceptions.SDKException(,68,9
openstack%2Fopenstack-health~master~I0941d9a537681659b17150fc532668d6bc12fc05,openstack/openstack-health,master,I0941d9a537681659b17150fc532668d6bc12fc05,Update angularjs libraries version,MERGED,2017-04-14 08:48:48.000000000,2019-06-07 12:47:35.000000000,2019-06-07 12:47:35.000000000,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 20378}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 27078}]","[{'number': 1, 'created': '2017-04-14 08:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/aa60e8f9304a23100f84cffe937fb0fa44e7ab4e', 'message': ""Update angularjs libraries version\n\nThis commit updates angularjs libraries version. This can be included in\nthe other npm packages update patch, however, I took a deliberate way\nthis time to avoid accident as possible.\nThis version is the latest against AngularJS[1] but not Angular[2]\nbecause Angular is totally different from AngularJS. It's not so easy to\nupgrade to it.\n\n[1] https://www.angularjs.org/\n[2] https://angular.io/\n\nChange-Id: I0941d9a537681659b17150fc532668d6bc12fc05\n""}, {'number': 2, 'created': '2017-11-29 08:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/f6b82f945f38a9becebef3ae7b35c69c6ac60cd7', 'message': ""Update angularjs libraries version\n\nThis commit updates angularjs libraries version. This can be included in\nthe other npm packages update patch, however, I took a deliberate way\nthis time to avoid accident as possible.\nThis version is the latest against AngularJS[1] but not Angular[2]\nbecause Angular is totally different from AngularJS. It's not so easy to\nupgrade to it.\n\n[1] https://www.angularjs.org/\n[2] https://angular.io/\n\nChange-Id: I0941d9a537681659b17150fc532668d6bc12fc05\n""}, {'number': 3, 'created': '2017-12-25 08:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/549078a77b9d3941515c29f9567cb44379180d0b', 'message': ""Update angularjs libraries version\n\nThis commit updates angularjs libraries version. This can be included in\nthe other npm packages update patch, however, I took a deliberate way\nthis time to avoid accident as possible.\nThis version is the latest against AngularJS[1] but not Angular[2]\nbecause Angular is totally different from AngularJS. It's not so easy to\nupgrade to it.\n\n[1] https://www.angularjs.org/\n[2] https://angular.io/\n\nChange-Id: I0941d9a537681659b17150fc532668d6bc12fc05\n""}, {'number': 4, 'created': '2018-11-26 10:06:06.000000000', 'files': ['package.json'], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/f716b42b15e13e004f31fe253ec37b682aceea4c', 'message': ""Update angularjs libraries version\n\nThis commit updates angularjs libraries version. This can be included in\nthe other npm packages update patch, however, I took a deliberate way\nthis time to avoid accident as possible.\nThis version is the latest against AngularJS[1] but not Angular[2]\nbecause Angular is totally different from AngularJS. It's not so easy to\nupgrade to it.\n\n[1] https://www.angularjs.org/\n[2] https://angular.io/\n\nChange-Id: I0941d9a537681659b17150fc532668d6bc12fc05\n""}]",0,456855,f716b42b15e13e004f31fe253ec37b682aceea4c,27,7,4,5689,,,0,"Update angularjs libraries version

This commit updates angularjs libraries version. This can be included in
the other npm packages update patch, however, I took a deliberate way
this time to avoid accident as possible.
This version is the latest against AngularJS[1] but not Angular[2]
because Angular is totally different from AngularJS. It's not so easy to
upgrade to it.

[1] https://www.angularjs.org/
[2] https://angular.io/

Change-Id: I0941d9a537681659b17150fc532668d6bc12fc05
",git fetch https://review.opendev.org/openstack/openstack-health refs/changes/55/456855/4 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,aa60e8f9304a23100f84cffe937fb0fa44e7ab4e,upgrade-angular," ""angular"": ""1.6.4"", ""angular-fontawesome"": ""^1.0.0"", ""angular-mocks"": ""1.6.4"", ""angular-ui-bootstrap"": ""^2.5.0"", ""angular-ui-router"": ""^0.4.2"","," ""angular"": ""1.6.2"", ""angular-fontawesome"": ""^0.4.0"", ""angular-mocks"": ""1.6.2"", ""angular-ui-bootstrap"": ""^1.2.3"", ""angular-ui-router"": "">=0.2.16 <0.3.0"",",5,5
openstack%2Fkolla-ansible~stable%2Fstein~I5b617d2f7b1141692ce7cc1aebe914f90608d67a,openstack/kolla-ansible,stable/stein,I5b617d2f7b1141692ce7cc1aebe914f90608d67a,Set kolla_source_version to stein,MERGED,2019-06-06 09:01:34.000000000,2019-06-07 12:36:07.000000000,2019-06-07 12:36:07.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-06 09:01:34.000000000', 'files': ['ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6765d20ce08851dd92e10c743174a78d9bd27dc9', 'message': 'Set kolla_source_version to stein\n\nStein only.\n\nThis sets the version of git source repos cloned in dev mode.\n\nChange-Id: I5b617d2f7b1141692ce7cc1aebe914f90608d67a\n'}]",0,663551,6765d20ce08851dd92e10c743174a78d9bd27dc9,7,3,1,14826,,,0,"Set kolla_source_version to stein

Stein only.

This sets the version of git source repos cloned in dev mode.

Change-Id: I5b617d2f7b1141692ce7cc1aebe914f90608d67a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/663551/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,6765d20ce08851dd92e10c743174a78d9bd27dc9,kolla-source-version-stein,"kolla_source_version: ""stein""","kolla_source_version: ""master""",1,1
openstack%2Fnova~master~I369f82245465e96fc15d4fc71a79a8a71f6f2c6d,openstack/nova,master,I369f82245465e96fc15d4fc71a79a8a71f6f2c6d,Robustify attachment tracking in CinderFixtureNewAttachFlow,MERGED,2019-05-13 19:39:14.000000000,2019-06-07 12:35:53.000000000,2019-06-07 12:35:53.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 30467}]","[{'number': 1, 'created': '2019-05-13 19:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18bcaf69aae7e94806d7681920240b19a9e3f17c', 'message': 'Robustify attachment tracking in CinderFixtureNewAttachFlow\n\nCinder allows more than one attachment record on a non-multiattach\nvolume as long as only one attachment is ""connected"" (has a host\nconnector).\n\nWhen you create an empty (no connector) attachment for an in-use\nvolume, the volume status changes to ""attaching"". If you try to\nupdate the empty attachment before deleting the previous attachment,\nCinder will return a 400 like:\n\n  Invalid volume: Volume b2aba195-6570-40c4-82bb-46d3557fceeb status\n  must be available or downloading to reserve, but the current status\n  is attaching.\n\nThis change refactors the attachment tracking in the\nCinderFixtureNewAttachFlow fixture to be able to track the connector\nper attachment and if code tries to update an attachment on an\nalready connected volume it will fail.\n\nChange-Id: I369f82245465e96fc15d4fc71a79a8a71f6f2c6d\n'}, {'number': 2, 'created': '2019-05-16 02:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8730ffe7973b6f2295c0f8c80a5a6da8fadbb1d4', 'message': 'Robustify attachment tracking in CinderFixtureNewAttachFlow\n\nCinder allows more than one attachment record on a non-multiattach\nvolume as long as only one attachment is ""connected"" (has a host\nconnector).\n\nWhen you create an empty (no connector) attachment for an in-use\nvolume, the volume status changes to ""attaching"". If you try to\nupdate the empty attachment before deleting the previous attachment,\nCinder will return a 400 like:\n\n  Invalid volume: Volume b2aba195-6570-40c4-82bb-46d3557fceeb status\n  must be available or downloading to reserve, but the current status\n  is attaching.\n\nThis change refactors the attachment tracking in the\nCinderFixtureNewAttachFlow fixture to be able to track the connector\nper attachment and if code tries to update an attachment on an\nalready connected volume it will fail.\n\nChange-Id: I369f82245465e96fc15d4fc71a79a8a71f6f2c6d\n'}, {'number': 3, 'created': '2019-05-28 23:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30245d334a0e195e6a16b7bbdb2066d82634ea6a', 'message': 'Robustify attachment tracking in CinderFixtureNewAttachFlow\n\nCinder allows more than one attachment record on a non-multiattach\nvolume as long as only one attachment is ""connected"" (has a host\nconnector).\n\nWhen you create an empty (no connector) attachment for an in-use\nvolume, the volume status changes to ""attaching"". If you try to\nupdate the empty attachment before deleting the previous attachment,\nCinder will return a 400 like:\n\n  Invalid volume: Volume b2aba195-6570-40c4-82bb-46d3557fceeb status\n  must be available or downloading to reserve, but the current status\n  is attaching.\n\nThis change refactors the attachment tracking in the\nCinderFixtureNewAttachFlow fixture to be able to track the connector\nper attachment and if code tries to update an attachment on an\nalready connected volume it will fail.\n\nChange-Id: I369f82245465e96fc15d4fc71a79a8a71f6f2c6d\n'}, {'number': 4, 'created': '2019-05-29 21:34:26.000000000', 'files': ['nova/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1d3ca5a3a07fdfff0d61ac11c390dfd4acab23d7', 'message': 'Robustify attachment tracking in CinderFixtureNewAttachFlow\n\nCinder allows more than one attachment record on a non-multiattach\nvolume as long as only one attachment is ""connected"" (has a host\nconnector).\n\nWhen you create an empty (no connector) attachment for an in-use\nvolume, the volume status changes to ""attaching"". If you try to\nupdate the empty attachment before deleting the previous attachment,\nCinder will return a 400 like:\n\n  Invalid volume: Volume b2aba195-6570-40c4-82bb-46d3557fceeb status\n  must be available or downloading to reserve, but the current status\n  is attaching.\n\nThis change refactors the attachment tracking in the\nCinderFixtureNewAttachFlow fixture to be able to track the connector\nper attachment and if code tries to update an attachment on an\nalready connected volume it will fail.\n\nChange-Id: I369f82245465e96fc15d4fc71a79a8a71f6f2c6d\n'}]",0,658904,1d3ca5a3a07fdfff0d61ac11c390dfd4acab23d7,58,12,4,6873,,,0,"Robustify attachment tracking in CinderFixtureNewAttachFlow

Cinder allows more than one attachment record on a non-multiattach
volume as long as only one attachment is ""connected"" (has a host
connector).

When you create an empty (no connector) attachment for an in-use
volume, the volume status changes to ""attaching"". If you try to
update the empty attachment before deleting the previous attachment,
Cinder will return a 400 like:

  Invalid volume: Volume b2aba195-6570-40c4-82bb-46d3557fceeb status
  must be available or downloading to reserve, but the current status
  is attaching.

This change refactors the attachment tracking in the
CinderFixtureNewAttachFlow fixture to be able to track the connector
per attachment and if code tries to update an attachment on an
already connected volume it will fail.

Change-Id: I369f82245465e96fc15d4fc71a79a8a71f6f2c6d
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/658904/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures.py'],1,18bcaf69aae7e94806d7681920240b19a9e3f17c,bp/cross-cell-resize," # A dict, keyed by volume id, to a dict, keyed by attachment id, # with keys: # - id: the attachment id # - instance_uuid: uuid of the instance attached to the volume # - connector: host connector dict; None if not connected # before deleting another attachment. However, a non-multiattach volume # can only have at most one attachment with a host connector at a time. self.volume_to_attachment = collections.defaultdict(dict) for attachment in attachments.values(): if attachment['instance_uuid'] == instance_uuid: attachment = list(attachments.values())[0] 'attachment_id': attachment['id'] attachment = list(attachments.values())[0] attachment['instance_uuid']: { 'attachment_id': attachment['id'], A tuple of the volume ID, an attachment dict for the given attachment ID, and a dict (keyed by attachment id) of attachment dicts for the volume. for attachment in attachments.values(): if attachment_id == attachment['id']: self.volume_to_attachment[volume_id][attachment_id] = { 'id': attachment_id, 'instance_uuid': instance_uuid, 'connector': connector} del attachments[attachment_id] volume_id, attachment, attachments = ( _find_attachment(attachment_id)) # Cinder will only allow one ""connected"" attachment per # non-multiattach volume at a time. for _attachment in attachments.values(): if _attachment['connector'] is not None: raise exception.InvalidInput( 'Volume %s is already connected with attachment %s on ' 'host %s' % (volume_id, _attachment['id'], _attachment['connector'].get('host'))) attachment['connector'] = connector"," # A map of volumes to a list of (attachment_id, instance_uuid). # before deleting another attachment. self.volume_to_attachment = collections.defaultdict(list) for _, _instance_uuid in attachments: if _instance_uuid == instance_uuid: attachment_id, instance_uuid = attachments[0] 'attachment_id': attachment_id attachment_id, instance_uuid = attachments[0] instance_uuid: { 'attachment_id': attachment_id, A tuple of the volume ID, an attachment-instance mapping tuple for the given attachment ID, and a list of attachment-instance mapping tuples for the volume. for attachment in attachments: _attachment_id, instance_uuid = attachment if attachment_id == _attachment_id: self.volume_to_attachment[volume_id].append( (attachment_id, instance_uuid)) attachments.remove(attachment) _find_attachment(attachment_id)",36,20
openstack%2Fheat~stable%2Fpike~I23493b1c477d082c478f87167de2c1859ba5ace7,openstack/heat,stable/pike,I23493b1c477d082c478f87167de2c1859ba5ace7,Fix regression with SW deployments when region not configured,MERGED,2019-05-31 12:06:58.000000000,2019-06-07 12:09:32.000000000,2019-06-07 12:09:32.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 12:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1f7df3508d05388aad25fcfdc23c3b9d6fcbc4d1', 'message': 'Fix regression with SW deployments when region not configured\n\nThe region name eventually has to pass through an os-collect-config.conf\nfile, the format of which is unable to distinguish between the JSON null\n(equivalent to None in Python) and the string ""null"".\n\nThis means that Story 2002781 caused a regression for users who didn\'t\nhave the region_name_for_services config option explicitly set in\nheat.conf.\n\nTo avoid this, only specify the region when we know what it is.\n\nChange-Id: I23493b1c477d082c478f87167de2c1859ba5ace7\nStory: #2005797\nTask: 33527\nTask: 33528\n(cherry picked from commit d580565abff2997002eff856535bdfd2ddb44da7)\n'}, {'number': 2, 'created': '2019-05-31 13:26:24.000000000', 'files': ['heat/engine/resources/openstack/heat/software_deployment.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/4bc83597cfb0f4ffde6aa7b906064dd7634258b1', 'message': 'Fix regression with SW deployments when region not configured\n\nThe region name eventually has to pass through an os-collect-config.conf\nfile, the format of which is unable to distinguish between the JSON null\n(equivalent to None in Python) and the string ""null"".\n\nThis means that Story 2002781 caused a regression for users who didn\'t\nhave the region_name_for_services config option explicitly set in\nheat.conf.\n\nTo avoid this, only specify the region when we know what it is.\n\nChange-Id: I23493b1c477d082c478f87167de2c1859ba5ace7\nDepends-On: https://review.opendev.org/662290\nStory: #2005797\nTask: 33527\nTask: 33528\n(cherry picked from commit d580565abff2997002eff856535bdfd2ddb44da7)\n'}]",0,662444,4bc83597cfb0f4ffde6aa7b906064dd7634258b1,17,3,2,8833,,,0,"Fix regression with SW deployments when region not configured

The region name eventually has to pass through an os-collect-config.conf
file, the format of which is unable to distinguish between the JSON null
(equivalent to None in Python) and the string ""null"".

This means that Story 2002781 caused a regression for users who didn't
have the region_name_for_services config option explicitly set in
heat.conf.

To avoid this, only specify the region when we know what it is.

Change-Id: I23493b1c477d082c478f87167de2c1859ba5ace7
Depends-On: https://review.opendev.org/662290
Story: #2005797
Task: 33527
Task: 33528
(cherry picked from commit d580565abff2997002eff856535bdfd2ddb44da7)
",git fetch https://review.opendev.org/openstack/heat refs/changes/44/662444/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/heat/software_deployment.py'],1,1f7df3508d05388aad25fcfdc23c3b9d6fcbc4d1,," if creds['region_name']: yield swc_io.InputConfig( name=self.DEPLOY_REGION_NAME, value=creds['region_name'], description=_('Region name for API authentication'))"," yield swc_io.InputConfig( name=self.DEPLOY_REGION_NAME, value=creds['region_name'], description=_('Region name for API authentication'))",5,3
openstack%2Fkolla-ansible~stable%2Fstein~I3ac1e057971b7481a0bce2a15351031e51bf97d6,openstack/kolla-ansible,stable/stein,I3ac1e057971b7481a0bce2a15351031e51bf97d6,Fix quickstart for virtual environments,MERGED,2019-06-03 11:03:33.000000000,2019-06-07 12:08:41.000000000,2019-06-07 12:08:41.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-03 11:03:33.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5973d9917f4aba4ecfd73a3fa8cc0e2cde8b8f41', 'message': 'Fix quickstart for virtual environments\n\nThe etc_examples and inventory should be copied from the virtual\nenvironment rather than the system.\n\nChange-Id: I3ac1e057971b7481a0bce2a15351031e51bf97d6\nCloses-Bug: #1829435\n(cherry picked from commit 0b27baf3cee5cae3d6bbafe7d834276a05e39b7e)\n'}]",0,662732,5973d9917f4aba4ecfd73a3fa8cc0e2cde8b8f41,7,3,1,14826,,,0,"Fix quickstart for virtual environments

The etc_examples and inventory should be copied from the virtual
environment rather than the system.

Change-Id: I3ac1e057971b7481a0bce2a15351031e51bf97d6
Closes-Bug: #1829435
(cherry picked from commit 0b27baf3cee5cae3d6bbafe7d834276a05e39b7e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/662732/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,5973d9917f4aba4ecfd73a3fa8cc0e2cde8b8f41,bug/1829435-stable/stein," If using a virtual environment: .. code-block:: console cp -r /path/to/virtualenv/share/kolla-ansible/etc_examples/kolla/* /etc/kolla If not using a virtual environment on CentOS, run: If not using a virtual environment on Ubuntu, run: If using a virtual environment: .. code-block:: console cp /path/to/virtualenv/share/kolla-ansible/ansible/inventory/* . If not using a virtual environment on CentOS, run: If not using a virtual environment on Ubuntu, run:"," For CentOS, run: For Ubuntu, run: For CentOS, run: For Ubuntu, run:",16,4
openstack%2Frequirements~master~I80c3404226d09f7ec158196576bd737b53fbf2f0,openstack/requirements,master,I80c3404226d09f7ec158196576bd737b53fbf2f0,update constraint for os_vif to new release 1.16.0,MERGED,2019-06-06 20:08:21.000000000,2019-06-07 12:03:58.000000000,2019-06-07 12:03:58.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 20:08:21.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/85258a41505542d982b21285178280dee3d2092c', 'message': 'update constraint for os_vif to new release 1.16.0\n\nChange-Id: I80c3404226d09f7ec158196576bd737b53fbf2f0\nmeta:version: 1.16.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I80140586a4b892e2eb7804a0fd113e900f062be8\nmeta:release:Code-Review+1: Eric Fried <openstack@fried.cc>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,663757,85258a41505542d982b21285178280dee3d2092c,6,2,1,11131,,,0,"update constraint for os_vif to new release 1.16.0

Change-Id: I80c3404226d09f7ec158196576bd737b53fbf2f0
meta:version: 1.16.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I80140586a4b892e2eb7804a0fd113e900f062be8
meta:release:Code-Review+1: Eric Fried <openstack@fried.cc>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/57/663757/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,85258a41505542d982b21285178280dee3d2092c,new-release,os-vif===1.16.0,os-vif===1.15.1,1,1
openstack%2Frequirements~master~Icc3b9f4ebd98d15d2d62eab5899e089710e3713c,openstack/requirements,master,Icc3b9f4ebd98d15d2d62eab5899e089710e3713c,update constraint for python-ironicclient to new release 2.8.0,MERGED,2019-06-06 18:57:01.000000000,2019-06-07 12:03:57.000000000,2019-06-07 12:03:57.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 18:57:01.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/670c489d3298690fe91c75cebb4b48e272476468', 'message': 'update constraint for python-ironicclient to new release 2.8.0\n\nChange-Id: Icc3b9f4ebd98d15d2d62eab5899e089710e3713c\nmeta:version: 2.8.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Change-Id: Idd7a657f138056de41f22fccadd3b4ceb825872f\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+1: Julia Kreger <juliaashleykreger@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,663747,670c489d3298690fe91c75cebb4b48e272476468,6,2,1,11131,,,0,"update constraint for python-ironicclient to new release 2.8.0

Change-Id: Icc3b9f4ebd98d15d2d62eab5899e089710e3713c
meta:version: 2.8.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Change-Id: Idd7a657f138056de41f22fccadd3b4ceb825872f
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+1: Julia Kreger <juliaashleykreger@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/47/663747/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,670c489d3298690fe91c75cebb4b48e272476468,new-release,python-ironicclient===2.8.0,python-ironicclient===2.7.2,1,1
openstack%2Ftempest~master~I417574e3ef24e658b6cd2ce290f897180fed5300,openstack/tempest,master,I417574e3ef24e658b6cd2ce290f897180fed5300,Add QoS policies and minimum bandwidth rule client,MERGED,2019-01-08 10:34:29.000000000,2019-06-07 12:03:55.000000000,2019-06-07 12:03:55.000000000,"[{'_account_id': 4694}, {'_account_id': 5689}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 11975}, {'_account_id': 12033}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-01-08 10:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5f85a9cd73f05e38375d73a9536c9916aa806983', 'message': 'Add QoS client for basic operations\n\nThe goal of this QoS client for tempest is to make possible the\nend-to-end testing of the placement based bandwidth feature.\n\nChange-Id: I417574e3ef24e658b6cd2ce290f897180fed5300\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 2, 'created': '2019-01-09 15:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/55f7e2046eac8990c7939ba663985ae9774eb9d1', 'message': 'Add QoS client for basic operations\n\nThe goal of this QoS client for tempest is to make possible the\nend-to-end testing of the placement based bandwidth feature.\n\nChange-Id: I417574e3ef24e658b6cd2ce290f897180fed5300\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 3, 'created': '2019-01-09 15:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/553ca44ff16b25f300815588c337cbedf096c31b', 'message': 'Add QoS client for basic operations\n\nThe goal of this QoS client for tempest is to make possible the\nend-to-end testing of the placement based bandwidth feature.\n\nChange-Id: I417574e3ef24e658b6cd2ce290f897180fed5300\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 4, 'created': '2019-01-23 15:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fd38bc2e4242e9afb91f89eb6603de1f0ec9eb04', 'message': 'Add QoS client for basic operations\n\nThe goal of this QoS client for tempest is to make possible the\nend-to-end testing of the placement based bandwidth feature.\n\nChange-Id: I417574e3ef24e658b6cd2ce290f897180fed5300\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 5, 'created': '2019-02-05 13:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c7469e7dc894e2f5dc0e1cd6b77c2b3d75d9f716', 'message': 'Add QoS policies and minimum bandwidth rule client\n\nThe goal of the QoS policies and QoS minimum bandwidth rules client for\ntempest is to make possible the end-to-end testing of the placement\nbased bandwidth feature.\n\nChange-Id: I417574e3ef24e658b6cd2ce290f897180fed5300\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 6, 'created': '2019-02-28 12:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7519c1b4514cdd258d9888c4514cf0096d171a87', 'message': 'Add QoS policies and minimum bandwidth rule client\n\nThe goal of the QoS policies and QoS minimum bandwidth rules client for\ntempest is to make possible the end-to-end testing of the placement\nbased bandwidth feature.\n\nChange-Id: I417574e3ef24e658b6cd2ce290f897180fed5300\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 7, 'created': '2019-03-05 12:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/99a6b6b5b96142ba943e85a81bb24cc0a20fd0ab', 'message': 'Add QoS policies and minimum bandwidth rule client\n\nThe goal of the QoS policies and QoS minimum bandwidth rules client for\ntempest is to make possible the end-to-end testing of the placement\nbased bandwidth feature.\n\nChange-Id: I417574e3ef24e658b6cd2ce290f897180fed5300\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 8, 'created': '2019-03-06 07:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a63226ae5bbb008f9bd3d298671a7e9571856f59', 'message': 'Add QoS policies and minimum bandwidth rule client\n\nThe goal of the QoS policies and QoS minimum bandwidth rules client for\ntempest is to make possible the end-to-end testing of the placement\nbased bandwidth feature.\n\nChange-Id: I417574e3ef24e658b6cd2ce290f897180fed5300\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 9, 'created': '2019-04-08 06:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7da6b914814747069660b2a9149ca12cd115f8db', 'message': 'Add QoS policies and minimum bandwidth rule client\n\nThe goal of the QoS policies and QoS minimum bandwidth rules client for\ntempest is to make possible the end-to-end testing of the placement\nbased bandwidth feature.\n\nChange-Id: I417574e3ef24e658b6cd2ce290f897180fed5300\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 10, 'created': '2019-04-26 08:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6cb6608cefb1129dd78c4bfaa67f0909bfe4b5b7', 'message': 'Add QoS policies and minimum bandwidth rule client\n\nThe goal of the QoS policies and QoS minimum bandwidth rules client for\ntempest is to make possible the end-to-end testing of the placement\nbased bandwidth feature.\n\nChange-Id: I417574e3ef24e658b6cd2ce290f897180fed5300\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 11, 'created': '2019-05-20 09:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3d0566872e8cd64675980079bff9244a0bd39c3f', 'message': 'Add QoS policies and minimum bandwidth rule client\n\nThe goal of the QoS policies and QoS minimum bandwidth rules client for\ntempest is to make possible the end-to-end testing of the placement\nbased bandwidth feature.\n\nChange-Id: I417574e3ef24e658b6cd2ce290f897180fed5300\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 12, 'created': '2019-05-21 09:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/757d8c9d971f0d99ef79fb234ac22a4430dbded9', 'message': 'Add QoS policies and minimum bandwidth rule client\n\nThe goal of the QoS policies and QoS minimum bandwidth rules client for\ntempest is to make possible the end-to-end testing of the placement\nbased bandwidth feature.\n\nChange-Id: I417574e3ef24e658b6cd2ce290f897180fed5300\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 13, 'created': '2019-05-21 16:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/70f981d3e8f160053d5c530819bfb5ac60d69fec', 'message': 'Add QoS policies and minimum bandwidth rule client\n\nThe goal of the QoS policies and QoS minimum bandwidth rules client for\ntempest is to make possible the end-to-end testing of the placement\nbased bandwidth feature.\n\nChange-Id: I417574e3ef24e658b6cd2ce290f897180fed5300\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 14, 'created': '2019-05-29 08:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/49c108696b25c11a1fee40f0656c651541eab39a', 'message': 'Add QoS policies and minimum bandwidth rule client\n\nThe goal of the QoS policies and QoS minimum bandwidth rules client for\ntempest is to make possible the end-to-end testing of the placement\nbased bandwidth feature.\n\nChange-Id: I417574e3ef24e658b6cd2ce290f897180fed5300\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 15, 'created': '2019-05-30 09:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cbbe3a60578c65fe0063c284319e734b1c869931', 'message': 'Add QoS policies and minimum bandwidth rule client\n\nThe goal of the QoS policies and QoS minimum bandwidth rules client for\ntempest is to make possible the end-to-end testing of the placement\nbased bandwidth feature.\n\nChange-Id: I417574e3ef24e658b6cd2ce290f897180fed5300\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}, {'number': 16, 'created': '2019-06-04 15:35:26.000000000', 'files': ['releasenotes/notes/QoS-client-for-placement-based-minimum-bw-allocation-8e5854d5754cec68.yaml', 'tempest/lib/services/network/qos_client.py', 'tempest/lib/services/network/__init__.py', 'tempest/tests/lib/services/network/test_qos_minimum_bandwidth_rules_client.py', 'tempest/clients.py', 'tempest/tests/lib/services/network/test_qos_client.py', 'tempest/lib/services/network/qos_minimum_bandwidth_rules_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e8a5e5c82418d286a3f2eb4e2e1c6a1b0984119c', 'message': 'Add QoS policies and minimum bandwidth rule client\n\nThe goal of the QoS policies and QoS minimum bandwidth rules client for\ntempest is to make possible the end-to-end testing of the placement\nbased bandwidth feature.\n\nChange-Id: I417574e3ef24e658b6cd2ce290f897180fed5300\nPartial-Bug: #1578989\nSee-Also: https://review.openstack.org/502306 (nova spec)\nSee-Also: https://review.openstack.org/508149 (neutron spec)\n'}]",23,629142,e8a5e5c82418d286a3f2eb4e2e1c6a1b0984119c,72,14,16,8313,,,0,"Add QoS policies and minimum bandwidth rule client

The goal of the QoS policies and QoS minimum bandwidth rules client for
tempest is to make possible the end-to-end testing of the placement
based bandwidth feature.

Change-Id: I417574e3ef24e658b6cd2ce290f897180fed5300
Partial-Bug: #1578989
See-Also: https://review.openstack.org/502306 (nova spec)
See-Also: https://review.openstack.org/508149 (neutron spec)
",git fetch https://review.opendev.org/openstack/tempest refs/changes/42/629142/7 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/QoS-client-for-placement-based-minimum-bw-allocation-8e5854d5754cec68.yaml', 'tempest/lib/services/network/qos_client.py', 'tempest/lib/services/network/__init__.py', 'tempest/clients.py', 'tempest/tests/lib/services/network/test_qos_client.py']",5,5f85a9cd73f05e38375d73a9536c9916aa806983,minimum-bandwidth-allocation-placement-api,"# Copyright (c) 2019 Ericsson # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.lib.services.network import qos_client from tempest.tests.lib import fake_auth_provider from tempest.tests.lib.services import base class TestQosClient(base.BaseServiceTest): FAKE_QOS_POLICY_ID = ""f1011b08-1297-11e9-a1e7-c7e6825a2616"" FAKE_MIN_BW_RULE_ID = ""e758c89e-1297-11e9-a6cf-cf46a71e6699"" FAKE_QOS_POLICY_REQUEST = { 'name': 'foo', 'shared': True } FAKE_QOS_POLICY_RESPONSE = { 'policy': { 'name': 'foo', 'id': FAKE_QOS_POLICY_ID, 'shared': True, 'rules': [] } } FAKE_MIN_BW_RULE_REQUEST = { 'policy_id': FAKE_QOS_POLICY_ID, 'min_kbps': 1000, 'direction': 'ingress' } FAKE_MIN_BW_RULE_RESPONSE = { 'minimum_bandwidth_rule': { 'id': FAKE_MIN_BW_RULE_ID, 'min_kbps': 1000, 'direction': 'ingress' } } def setUp(self): super(TestQosClient, self).setUp() fake_auth = fake_auth_provider.FakeAuthProvider() self.qos_client = qos_client.QosClient( fake_auth, ""network"", ""regionOne"") def _test_create_qos_policy(self, bytes_body=False): self.check_service_client_function( self.qos_client.create_qos_policy, ""tempest.lib.common.rest_client.RestClient.post"", self.FAKE_QOS_POLICY_RESPONSE, bytes_body, 201, **self.FAKE_QOS_POLICY_REQUEST) def _test_create_minimum_bandwidth_rule(self, bytes_body=False): self.check_service_client_function( self.qos_client.create_minimum_bandwidth_rule, ""tempest.lib.common.rest_client.RestClient.post"", self.FAKE_MIN_BW_RULE_RESPONSE, bytes_body, 201, **self.FAKE_MIN_BW_RULE_REQUEST ) def test_create_qos_policy_with_str_body(self): self._test_create_qos_policy() def test_create_qos_policy_with_bytes_body(self): self._test_create_qos_policy(bytes_body=True) def test_delete_qos_policy(self): self.check_service_client_function( self.qos_client.delete_qos_policy, ""tempest.lib.common.rest_client.RestClient.delete"", {}, status=204, qos_policy_id=self.FAKE_QOS_POLICY_ID) def test_create_minimum_bandwidth_rule_with_str_body(self): self._test_create_minimum_bandwidth_rule() def test_create_minimum_bandwidth_rule_with_bytes_body(self): self._test_create_minimum_bandwidth_rule(bytes_body=True) def test_delete_minimum_bandwidth_rule(self): self.check_service_client_function( self.qos_client.delete_minimum_bandwidth_rule, ""tempest.lib.common.rest_client.RestClient.delete"", {}, status=204, qos_policy_id=self.FAKE_QOS_POLICY_ID, rule_id=self.FAKE_MIN_BW_RULE_ID) ",,159,3
openstack%2Fopenstack-helm~master~Ida1a95696ef96a8d5f0516614429f73edd5867e7,openstack/openstack-helm,master,Ida1a95696ef96a8d5f0516614429f73edd5867e7,get api-audit back,ABANDONED,2019-06-06 11:11:13.000000000,2019-06-07 11:48:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-06 11:11:13.000000000', 'files': ['neutron/templates/deployment-server.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c36071a1d98b68c5130681e8011b087e9260e50a', 'message': 'get api-audit back\n\nChange-Id: Ida1a95696ef96a8d5f0516614429f73edd5867e7\n'}]",0,663601,c36071a1d98b68c5130681e8011b087e9260e50a,4,1,1,30551,,,0,"get api-audit back

Change-Id: Ida1a95696ef96a8d5f0516614429f73edd5867e7
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/01/663601/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/templates/deployment-server.yaml'],1,c36071a1d98b68c5130681e8011b087e9260e50a,tf_support WIP, - name: neutron-etc mountPath: /etc/neutron/api_audit_map.conf subPath: api_audit_map.conf readOnly: true,,4,0
openstack%2Fopenstack-helm~master~Ie98dd6c57d8f19de90042c7d4ce116d66d99e5fe,openstack/openstack-helm,master,Ie98dd6c57d8f19de90042c7d4ce116d66d99e5fe,Add TungstenFabric compatibility to charts,ABANDONED,2019-06-06 11:11:13.000000000,2019-06-07 11:48:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-06 11:11:13.000000000', 'files': ['nova/values.yaml', 'neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9952437d3906101f465430fae4c927e07b162e2b', 'message': 'Add TungstenFabric compatibility to charts\n\nChange-Id: Ie98dd6c57d8f19de90042c7d4ce116d66d99e5fe\n'}]",0,663602,9952437d3906101f465430fae4c927e07b162e2b,4,1,1,30551,,,0,"Add TungstenFabric compatibility to charts

Change-Id: Ie98dd6c57d8f19de90042c7d4ce116d66d99e5fe
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/02/663602/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values.yaml', 'neutron/values.yaml']",2,9952437d3906101f465430fae4c927e07b162e2b,tf_support WIP," opencontrail_neutron_init: opencontrailnightly/contrail-openstack-neutron-init:ocata-master-latest tungstenfabric: server: daemonset: [] tungstenfabric: APISERVER: api_server_ip: config-api-server.tf api_server_port: 8082 contrail_extensions: ""ipam:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_ipam.NeutronPluginContrailIpam,policy:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_policy.NeutronPluginContrailPolicy,route-table:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_vpc.NeutronPluginContrailVpc,contrail:None,service-interface:None,vf-binding:None"" multi_tenancy: True KEYSTONE: insecure: True opencontrail: APISERVER: api_server_ip: contrail-config-api.contrail api_server_port: 8082 contrail_extensions: ""ipam:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_ipam.NeutronPluginContrailIpam,policy:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_policy.NeutronPluginContrailPolicy,route-table:neutron_plugin_contrail.plugins.opencontrail.contrail_plugin_vpc.NeutronPluginContrailVpc,contrail:None,service-interface:None,vf-binding:None"" multi_tenancy: True COLLECTOR: analytics_api_ip: contrail-analytics-api.contrail analytics_api_port: 8081 KEYSTONE: insecure: True",,28,1
openstack%2Frequirements~master~I1df6beb99243b72d75163a27234272b31987a63d,openstack/requirements,master,I1df6beb99243b72d75163a27234272b31987a63d,update constraint for neutron-lib to new release 1.27.0,MERGED,2019-06-04 15:36:44.000000000,2019-06-07 11:44:17.000000000,2019-06-07 11:44:17.000000000,"[{'_account_id': 5367}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 15:36:44.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9a0371e27ad6a0aed9fb250b7ff9810f8a9d1ac2', 'message': 'update constraint for neutron-lib to new release 1.27.0\n\nChange-Id: I1df6beb99243b72d75163a27234272b31987a63d\nmeta:version: 1.27.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Matthew Thode <mthode@mthode.org>\nmeta:release:Commit: Matthew Thode <mthode@mthode.org>\nmeta:release:Change-Id: Id3880e4a35a1f1c82d0d3ae5c18d17d02575a239\nmeta:release:Code-Review+1: boden <bodenvmw@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Miguel Lavalle <miguel.lavalle@verizonmedia.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,663066,9a0371e27ad6a0aed9fb250b7ff9810f8a9d1ac2,16,3,1,11131,,,0,"update constraint for neutron-lib to new release 1.27.0

Change-Id: I1df6beb99243b72d75163a27234272b31987a63d
meta:version: 1.27.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Matthew Thode <mthode@mthode.org>
meta:release:Commit: Matthew Thode <mthode@mthode.org>
meta:release:Change-Id: Id3880e4a35a1f1c82d0d3ae5c18d17d02575a239
meta:release:Code-Review+1: boden <bodenvmw@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Miguel Lavalle <miguel.lavalle@verizonmedia.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/66/663066/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9a0371e27ad6a0aed9fb250b7ff9810f8a9d1ac2,new-release,neutron-lib===1.27.0,neutron-lib===1.26.0,1,1
openstack%2Fironic~master~I39da54d50f069d6bec6c2575b448d7a1e9feea03,openstack/ironic,master,I39da54d50f069d6bec6c2575b448d7a1e9feea03,Fix regex string in the hacking check,MERGED,2019-06-06 06:51:26.000000000,2019-06-07 11:43:19.000000000,2019-06-07 11:43:19.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-06 06:51:26.000000000', 'files': ['ironic/hacking/checks.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9ffb6054dfb0eb51845cfdcd80a784dd6728a15b', 'message': 'Fix regex string in the hacking check\n\nI am seeing this warning recently:\n\nironic/hacking/checks.py:26: DeprecationWarning: invalid escape sequence \\(\n  ""\\(\\s*_\\(\\s*(\'|\\"")"")\n\nIt appears that the second line is not a raw string at all.\n\nChange-Id: I39da54d50f069d6bec6c2575b448d7a1e9feea03\n'}]",0,663519,9ffb6054dfb0eb51845cfdcd80a784dd6728a15b,17,6,1,24828,,,0,"Fix regex string in the hacking check

I am seeing this warning recently:

ironic/hacking/checks.py:26: DeprecationWarning: invalid escape sequence \(
  ""\(\s*_\(\s*('|\"")"")

It appears that the second line is not a raw string at all.

Change-Id: I39da54d50f069d6bec6c2575b448d7a1e9feea03
",git fetch https://review.opendev.org/openstack/ironic refs/changes/19/663519/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/hacking/checks.py'],1,9ffb6054dfb0eb51845cfdcd80a784dd6728a15b,hacking," r""\(\s*_\(\s*('|\"")"")"," ""\(\s*_\(\s*('|\"")"")",1,1
openstack%2Freleases~master~Ibf057bedb15add39ae33d33b6448604eba5a3d10,openstack/releases,master,Ibf057bedb15add39ae33d33b6448604eba5a3d10,[monasca] Create milestone-1 releases,MERGED,2019-06-06 13:08:20.000000000,2019-06-07 11:41:52.000000000,2019-06-07 11:41:51.000000000,"[{'_account_id': 11904}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 13:08:20.000000000', 'files': ['deliverables/train/monasca-common.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3823b862eeff5ce7e44e920c6f2e02b373bb3b4b', 'message': '[monasca] Create milestone-1 releases\n\nThis is a procedural review to create new releases for libraries following cycle-with-intermediary  model with code changes\n\nTeams should update this change as appropriate\n\nChange-Id: Ibf057bedb15add39ae33d33b6448604eba5a3d10\n'}]",0,663639,3823b862eeff5ce7e44e920c6f2e02b373bb3b4b,8,3,1,12898,,,0,"[monasca] Create milestone-1 releases

This is a procedural review to create new releases for libraries following cycle-with-intermediary  model with code changes

Teams should update this change as appropriate

Change-Id: Ibf057bedb15add39ae33d33b6448604eba5a3d10
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/663639/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/monasca-common.yaml'],1,3823b862eeff5ce7e44e920c6f2e02b373bb3b4b,wci-m1-releases,releases: - projects: - hash: 2d75f900b01914e17e866a316abd3ef03f2fe679 repo: openstack/monasca-common version: 2.14.0,,5,0
openstack%2Freleases~master~Icca2038e8370ec9a60c367b4a36ac6bf589522e9,openstack/releases,master,Icca2038e8370ec9a60c367b4a36ac6bf589522e9,[winstackers] Create milestone-1 releases,MERGED,2019-06-06 13:09:12.000000000,2019-06-07 11:41:51.000000000,2019-06-07 11:41:50.000000000,"[{'_account_id': 8213}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 13:09:12.000000000', 'files': ['deliverables/train/os-win.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1ea1c811b8eda89304981bae169cc7f704fe962f', 'message': '[winstackers] Create milestone-1 releases\n\nThis is a procedural review to create new releases for libraries following cycle-with-intermediary  model with code changes\n\nTeams should update this change as appropriate\n\nChange-Id: Icca2038e8370ec9a60c367b4a36ac6bf589522e9\n'}]",0,663643,1ea1c811b8eda89304981bae169cc7f704fe962f,8,3,1,12898,,,0,"[winstackers] Create milestone-1 releases

This is a procedural review to create new releases for libraries following cycle-with-intermediary  model with code changes

Teams should update this change as appropriate

Change-Id: Icca2038e8370ec9a60c367b4a36ac6bf589522e9
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/663643/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/os-win.yaml'],1,1ea1c811b8eda89304981bae169cc7f704fe962f,wci-m1-releases,releases: - projects: - hash: 75ac0ac15a3f1d238c5ae233485dd4cbc481a76b repo: openstack/os-win version: 4.3.0,,5,0
openstack%2Ftap-as-a-service~master~I9486ad1044e27cadea0ca8ef0bef24f1a1651681,openstack/tap-as-a-service,master,I9486ad1044e27cadea0ca8ef0bef24f1a1651681,Update deliverables for 5.0.0/stein,MERGED,2019-04-16 07:02:01.000000000,2019-06-07 11:26:58.000000000,2019-06-07 11:26:58.000000000,"[{'_account_id': 6854}, {'_account_id': 17120}, {'_account_id': 19350}, {'_account_id': 22348}, {'_account_id': 29754}]","[{'number': 1, 'created': '2019-04-16 07:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/ae4efcf61cdc11cfda0d7e6c4557fef144798722', 'message': 'Update deliverables for 5.0.0/stein\n\nChange-Id: I9486ad1044e27cadea0ca8ef0bef24f1a1651681\n'}, {'number': 2, 'created': '2019-04-16 08:29:50.000000000', 'files': ['deliverables/stein/tap-as-a-service.yaml'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/50e8d2905090bd4c2add42d47381a85c47869744', 'message': 'Update deliverables for 5.0.0/stein\n\nChange-Id: I9486ad1044e27cadea0ca8ef0bef24f1a1651681\n'}]",0,652929,50e8d2905090bd4c2add42d47381a85c47869744,13,5,2,6854,,,0,"Update deliverables for 5.0.0/stein

Change-Id: I9486ad1044e27cadea0ca8ef0bef24f1a1651681
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/29/652929/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/tap-as-a-service.yaml'],1,ae4efcf61cdc11cfda0d7e6c4557fef144798722,stein,--- launchpad: tap-as-a-service type: other releases: - projects: - hash: 3f175b3f2741a43efec7c1f801d0cd1c97132abc repo: openstack/tap-as-a-service version: t.0.0 branches: - name: stable/stein location: 5.0.0 ,,11,0
openstack%2Ftap-as-a-service~master~Ia5fb360f32691c568f5993635fc1fa167f3708c7,openstack/tap-as-a-service,master,Ia5fb360f32691c568f5993635fc1fa167f3708c7,DB migration milestone for Stein,MERGED,2019-04-16 08:55:44.000000000,2019-06-07 11:26:57.000000000,2019-06-07 11:26:57.000000000,"[{'_account_id': 6854}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 29754}]","[{'number': 1, 'created': '2019-04-16 08:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/0fb10dffac46d02982b881178186bb914c347b34', 'message': 'DB migration milestone for Stein\n\nChange-Id: Ia5fb360f32691c568f5993635fc1fa167f3708c7\n'}, {'number': 2, 'created': '2019-04-16 12:23:59.000000000', 'files': ['neutron_taas/db/migration/alembic_migration/versions/stein/expand/ccbcc559d175_add_vlan_filter_to_tap_flow.py', 'neutron_taas/db/migration/alembic_migration/versions/pike/contract/bac61f603e39_alter_tap_id_associations_to_support_tap_id_reuse.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/5d5aeec06626d20138b6f4a98ce722f346c33e4e', 'message': 'DB migration milestone for Stein\n\nChange-Id: Ia5fb360f32691c568f5993635fc1fa167f3708c7\n'}]",0,652949,5d5aeec06626d20138b6f4a98ce722f346c33e4e,11,4,2,6854,,,0,"DB migration milestone for Stein

Change-Id: Ia5fb360f32691c568f5993635fc1fa167f3708c7
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/49/652949/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_taas/db/migration/alembic_migration/versions/stein/expand/ccbcc559d175_add_vlan_filter_to_tap_flow.py', 'neutron_taas/db/migration/alembic_migration/versions/pike/contract/bac61f603e39_alter_tap_id_associations_to_support_tap_id_reuse.py']",2,0fb10dffac46d02982b881178186bb914c347b34,db-stein,"neutron_milestone = [ migration.PIKE, migration.QUEENS, migration.ROCKY, migration.STEIN, ]","neutron_milestone = [migration.PIKE, migration.QUEENS, migration.ROCKY]",10,1
openstack%2Ftripleo-validations~master~Id1d5bc67697aa939ce35c8a51fd39a573da66eea,openstack/tripleo-validations,master,Id1d5bc67697aa939ce35c8a51fd39a573da66eea,Add run-validations.sh script,MERGED,2019-06-04 15:52:07.000000000,2019-06-07 11:15:27.000000000,2019-06-07 11:14:29.000000000,"[{'_account_id': 11491}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-04 15:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9d52bc27676c49dcd7f08b9ce16fa80d7f6317bb', 'message': '[WIP] Add run-validations.sh script\n\nThis patch adds a simple script to run a validation through the\nansible-playbook command-line and only for testing-purpose.\n\nChange-Id: Id1d5bc67697aa939ce35c8a51fd39a573da66eea\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2019-06-04 15:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1f471c2955b91a0a7c5408f40c66d7fbb191a136', 'message': '[WIP] Add run-validations.sh script\n\nThis patch adds a simple script to run a validation through the\nansible-playbook command-line and only for testing-purpose.\n\nChange-Id: Id1d5bc67697aa939ce35c8a51fd39a573da66eea\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2019-06-05 11:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/672696c3e00c236818b5b30f567d138888591993', 'message': 'Add run-validations.sh script\n\nThis patch adds a simple script to run a validation through the\nansible-playbook command-line and only for testing-purpose.\n\nChange-Id: Id1d5bc67697aa939ce35c8a51fd39a573da66eea\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2019-06-05 15:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/52fab7d88f254e66d418722f95afd336cdef11c6', 'message': 'Add run-validations.sh script\n\nThis patch adds a simple script to run a validation through the\nansible-playbook command-line and only for testing-purpose.\n\nDepends-on: https://review.rdoproject.org/r/#/c/21014\nChange-Id: Id1d5bc67697aa939ce35c8a51fd39a573da66eea\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2019-06-05 16:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9a47d207a755e1a37380969520e4659b1d563569', 'message': 'Add run-validations.sh script\n\nThis patch adds a simple script to run a validation through the\nansible-playbook command-line and only for testing-purpose.\n\nDepends-on: https://review.rdoproject.org/r/#/c/21016/\nChange-Id: Id1d5bc67697aa939ce35c8a51fd39a573da66eea\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2019-06-06 09:45:39.000000000', 'files': ['setup.cfg', 'scripts/run-validations.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7c729cc83e99de09995638e2728901469887c70b', 'message': 'Add run-validations.sh script\n\nThis patch adds a simple script to run a validation through the\nansible-playbook command-line and only for testing-purpose.\n\nChange-Id: Id1d5bc67697aa939ce35c8a51fd39a573da66eea\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,663072,7c729cc83e99de09995638e2728901469887c70b,20,4,6,11491,,,0,"Add run-validations.sh script

This patch adds a simple script to run a validation through the
ansible-playbook command-line and only for testing-purpose.

Change-Id: Id1d5bc67697aa939ce35c8a51fd39a573da66eea
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/72/663072/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/run-validations.sh'],1,9d52bc27676c49dcd7f08b9ce16fa80d7f6317bb,663072,"#!/bin/bash usage() { echo "" SYNTAX run-validations.sh [--help] --plan-name <overcloud> --validation-name <validation_name> "" exit 1 } if [[ ""$*"" =~ ""--help"" ]]; then usage fi if [[ ""$#"" = 0 ]]; then usage fi while [ $# != 0 ]; do case $1 in --help|-h) usage ;; --plan-name) PLAN_NAME=$1 shift ;; --validation-name) VALIDATION=$2 shift ;; *) echo ""invalid arg -- $1"" usage exit 1 ;; esac shift done # IF running on Undercloud source /home/stack/stackrc # IF running on standalone, replace by # export OS_CLOUD=standalone VALIDATIONS_BASEDIR=""/usr/share/openstack-tripleo-validations"" # Use custom validation-specific formatter export ANSIBLE_STDOUT_CALLBACK=validation_output # Disable retry files to avoid messages like this: # [Errno 13] Permission denied: # u'/usr/share/openstack-tripleo-validations/validations/*.retry' export ANSIBLE_RETRY_FILES_ENABLED=false export ANSIBLE_KEEP_REMOTE_FILES=1 export ANSIBLE_CALLBACK_PLUGINS=""${VALIDATIONS_BASEDIR}/callback_plugins"" export ANSIBLE_ROLES_PATH=""${VALIDATIONS_BASEDIR}/roles"" export ANSIBLE_LOOKUP_PLUGINS=""${VALIDATIONS_BASEDIR}/lookup_plugins"" export ANSIBLE_LIBRARY=""${VALIDATIONS_BASEDIR}/library"" # Environment variable is the easiest way to pass variables to an Ansible # dynamic inventory script export TRIPLEO_PLAN_NAME=${PLAN_NAME} # IF running on Undercloud export ANSIBLE_INVENTORY=$(which tripleo-ansible-inventory) # IF running on standalone, create a ""hosts"" file with mandatory [undercloud] # entry, and pass it in the ANSIBLE_INVENTORY ansible-playbook ${VALIDATIONS_BASEDIR}/playbooks/${VALIDATION}.yaml ",,72,0
openstack%2Fmistral~master~Ifdf032a9e1377ed73b80cc26fd659aabb417cfc5,openstack/mistral,master,Ifdf032a9e1377ed73b80cc26fd659aabb417cfc5,Allow to use 'task()' yaql function in task policies,MERGED,2019-06-06 20:43:34.000000000,2019-06-07 11:03:12.000000000,2019-06-07 11:03:12.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 20:43:34.000000000', 'files': ['mistral/engine/base.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/5f86cf1f5c77bdaeb89ca81b6198b1a47ef4c3c2', 'message': ""Allow to use 'task()' yaql function in task policies\n\nChange-Id: Ifdf032a9e1377ed73b80cc26fd659aabb417cfc5\nSigned-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>\n""}]",0,663768,5f86cf1f5c77bdaeb89ca81b6198b1a47ef4c3c2,6,2,1,29124,,,0,"Allow to use 'task()' yaql function in task policies

Change-Id: Ifdf032a9e1377ed73b80cc26fd659aabb417cfc5
Signed-off-by: Oleg Ovcharuk <vgvoleg@gmail.com>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/68/663768/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/engine/base.py'],1,5f86cf1f5c77bdaeb89ca81b6198b1a47ef4c3c2,task_context_in_policies," data_flow.get_current_task_dict(task_ex), data_flow.get_current_task_dict(task_ex),",,2,0
openstack%2Ftripleo-validations~master~Id6beb76dc756db1bdbddbbbba86ff001fc79aad6,openstack/tripleo-validations,master,Id6beb76dc756db1bdbddbbbba86ff001fc79aad6,Fix typo in the command to get the file_descriptors total_limit,MERGED,2019-06-06 14:06:53.000000000,2019-06-07 11:02:29.000000000,2019-06-07 11:01:55.000000000,"[{'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-06 14:06:53.000000000', 'files': ['roles/rabbitmq-limits/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/39c530ce0e35edfb98fb46bc722ea75feb57b643', 'message': ""Fix typo in the command to get the file_descriptors total_limit\n\nThis patch fixes a templating string error due to a typo.\n\n- default('podman') instead of default'(podman')\n\nChange-Id: Id6beb76dc756db1bdbddbbbba86ff001fc79aad6\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}]",0,663680,39c530ce0e35edfb98fb46bc722ea75feb57b643,9,4,1,11491,,,0,"Fix typo in the command to get the file_descriptors total_limit

This patch fixes a templating string error due to a typo.

- default('podman') instead of default'(podman')

Change-Id: Id6beb76dc756db1bdbddbbbba86ff001fc79aad6
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/80/663680/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/rabbitmq-limits/tasks/main.yml'],1,39c530ce0e35edfb98fb46bc722ea75feb57b643,," exec $(""{{ container_cli|default('podman', true) }}"" ps -q --filter ""name=rabbitmq"" | head -1)"," exec $(""{{ container_cli|default'(podman', true) }}"" ps -q --filter ""name=rabbitmq"" | head -1)",1,1
openstack%2Fkolla-ansible~master~I5ce06cc6f2c7403a1c36aadf9e55068c780f05ac,openstack/kolla-ansible,master,I5ce06cc6f2c7403a1c36aadf9e55068c780f05ac,Check for 'become' in tasks that use Docker in pep8,MERGED,2019-04-09 12:50:38.000000000,2019-06-07 10:47:24.000000000,2019-06-07 10:47:24.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-04-09 12:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b9eba2232d7a47cba48edbb7b55231b32ea08c4d', 'message': ""Check for 'become' in tasks that use Docker in pep8\n\nWe should use become: true for all tasks that use Docker.\n\nChange-Id: I5ce06cc6f2c7403a1c36aadf9e55068c780f05ac\n""}, {'number': 2, 'created': '2019-04-09 14:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b9d513aa28bcd618c5aae9f54c9b010b8a26e645', 'message': ""Check for 'become' in tasks that use Docker in pep8\n\nWe should use become: true for all tasks that use Docker.\n\nChange-Id: I5ce06cc6f2c7403a1c36aadf9e55068c780f05ac\n""}, {'number': 3, 'created': '2019-05-20 15:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0bc839dcafcd4a6c0767cf2ebb047f8d4f6ab37a', 'message': ""Check for 'become' in tasks that use Docker in pep8\n\nWe should use become: true for all tasks that use Docker.\n\nChange-Id: I5ce06cc6f2c7403a1c36aadf9e55068c780f05ac\n""}, {'number': 4, 'created': '2019-05-29 09:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f45dfeb973bb339a0e1eac04de8ec7f807343e9c', 'message': ""Check for 'become' in tasks that use Docker in pep8\n\nWe should use become: true for all tasks that use Docker.\n\nChange-Id: I5ce06cc6f2c7403a1c36aadf9e55068c780f05ac\n""}, {'number': 5, 'created': '2019-06-06 18:05:15.000000000', 'files': ['tools/validate-all-file.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e474c6ca197147a9c5e57a8c8b183ece44d8d78a', 'message': ""Check for 'become' in tasks that use Docker in pep8\n\nWe should use become: true for all tasks that use Docker.\n\nChange-Id: I5ce06cc6f2c7403a1c36aadf9e55068c780f05ac\n""}]",0,651226,e474c6ca197147a9c5e57a8c8b183ece44d8d78a,22,5,5,14826,,,0,"Check for 'become' in tasks that use Docker in pep8

We should use become: true for all tasks that use Docker.

Change-Id: I5ce06cc6f2c7403a1c36aadf9e55068c780f05ac
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/26/651226/3 && git format-patch -1 --stdout FETCH_HEAD,['tools/validate-all-file.py'],1,b9eba2232d7a47cba48edbb7b55231b32ea08c4d,,"import yamlYAML_INCLUDE_PATTERNS = ['*.yml'] YAML_EXCLUDE_PATTERNS = ['.tox', '.testrepository', '.git', 'defaults', 'templates', 'vars'] def check_docker_become(): """"""All tasks that use Docker should have 'become: true'."""""" includes = r'|'.join([fnmatch.translate(x) for x in YAML_INCLUDE_PATTERNS]) excludes = r'|'.join([fnmatch.translate(x) for x in YAML_EXCLUDE_PATTERNS]) docker_modules = ('kolla_docker', 'kolla_ceph_keyring', 'kolla_container_facts', 'kolla_toolbox') cmd_modules = ('command', 'shell') return_code = 0 roles_path = os.path.join(PROJECT_ROOT, 'ansible', 'roles') for root, dirs, files in os.walk(roles_path): dirs[:] = [d for d in dirs if not re.match(excludes, d)] for filename in files: if not re.match(excludes, filename) and \ re.match(includes, filename): fullpath = os.path.join(root, filename) with open(fullpath) as fp: tasks = yaml.safe_load(fp) tasks = tasks or [] for task in tasks: for module in docker_modules: if module in task and not task.get('become'): return_code = 1 LOG.error(""Use of %s module without become in "" ""task %s in %s"", module, task['name'], fullpath) for module in cmd_modules: if (module in task and task[module].startswith('docker') and not task.get('become')): return_code = 1 LOG.error(""Use of docker in %s module without "" ""become in task %s in %s"", module, task['name'], fullpath) return return_code check_json_j2, check_docker_become,", check_json_j2,45,1
openstack%2Fkolla-ansible~master~I4a5ebcedaccb9261dbc958ec67e8077d7980e496,openstack/kolla-ansible,master,I4a5ebcedaccb9261dbc958ec67e8077d7980e496,Use become for all docker tasks,MERGED,2019-04-09 12:05:50.000000000,2019-06-07 10:47:23.000000000,2019-06-07 10:47:23.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23942}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-04-09 12:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1b6dfbd6aaf98866af40f1b625a1af4bbf3cd062', 'message': ""Use become for all docker tasks\n\nMany tasks that use Docker have become specified already, but\nnot all. This change ensures all tasks that use the following\nmodules have become:\n\n* kolla_docker\n* kolla_ceph_keyring\n* kolla_toolbox\n* kolla_container_facts\n\nIt also adds become for 'command' tasks that use docker CLI.\n\nChange-Id: I4a5ebcedaccb9261dbc958ec67e8077d7980e496\n""}, {'number': 2, 'created': '2019-04-09 16:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/be5b197829d5c1e5ce7fc56fe809bce5ddafec55', 'message': ""Use become for all docker tasks\n\nMany tasks that use Docker have become specified already, but\nnot all. This change ensures all tasks that use the following\nmodules have become:\n\n* kolla_docker\n* kolla_ceph_keyring\n* kolla_toolbox\n* kolla_container_facts\n\nIt also adds become for 'command' tasks that use docker CLI.\n\nChange-Id: I4a5ebcedaccb9261dbc958ec67e8077d7980e496\n""}, {'number': 3, 'created': '2019-05-20 15:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ed352c8e2ad3313efbe3769078b6376a93a5bec1', 'message': ""Use become for all docker tasks\n\nMany tasks that use Docker have become specified already, but\nnot all. This change ensures all tasks that use the following\nmodules have become:\n\n* kolla_docker\n* kolla_ceph_keyring\n* kolla_toolbox\n* kolla_container_facts\n\nIt also adds become for 'command' tasks that use docker CLI.\n\nChange-Id: I4a5ebcedaccb9261dbc958ec67e8077d7980e496\n""}, {'number': 4, 'created': '2019-05-29 09:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4f8a1e4b7f5e719e0248a15c14307c2be031fcf1', 'message': ""Use become for all docker tasks\n\nMany tasks that use Docker have become specified already, but\nnot all. This change ensures all tasks that use the following\nmodules have become:\n\n* kolla_docker\n* kolla_ceph_keyring\n* kolla_toolbox\n* kolla_container_facts\n\nIt also adds become for 'command' tasks that use docker CLI.\n\nChange-Id: I4a5ebcedaccb9261dbc958ec67e8077d7980e496\n""}, {'number': 5, 'created': '2019-06-06 18:05:15.000000000', 'files': ['ansible/roles/freezer/tasks/register.yml', 'ansible/roles/ceph/tasks/start_osds.yml', 'ansible/roles/storm/tasks/config.yml', 'ansible/roles/murano/tasks/bootstrap.yml', 'ansible/roles/solum/tasks/bootstrap.yml', 'ansible/roles/glance/tasks/bootstrap.yml', 'ansible/roles/vitrage/tasks/precheck.yml', 'ansible/roles/blazar/tasks/bootstrap.yml', 'ansible/roles/gnocchi/tasks/ceph.yml', 'ansible/roles/mistral/tasks/bootstrap.yml', 'ansible/roles/gnocchi/tasks/bootstrap.yml', 'ansible/roles/murano/tasks/precheck.yml', 'ansible/roles/mariadb/tasks/precheck.yml', 'ansible/roles/swift/tasks/check.yml', 'ansible/roles/rabbitmq/handlers/main.yml', 'ansible/roles/placement/tasks/precheck.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/manila/tasks/bootstrap.yml', 'ansible/roles/kuryr/tasks/precheck.yml', 'ansible/roles/common/handlers/main.yml', 'ansible/roles/keystone/tasks/bootstrap.yml', 'ansible/roles/swift/tasks/stop.yml', 'ansible/roles/ceph/tasks/distribute_keyrings.yml', 'ansible/roles/keystone/tasks/upgrade.yml', 'ansible/roles/storm/tasks/pull.yml', 'ansible/roles/designate/tasks/bootstrap.yml', 'ansible/roles/bifrost/tasks/stop.yml', 'ansible/roles/blazar/tasks/precheck.yml', 'ansible/roles/barbican/tasks/precheck.yml', 'ansible/roles/trove/tasks/precheck.yml', 'ansible/roles/heat/tasks/register.yml', 'ansible/roles/aodh/tasks/precheck.yml', 'ansible/roles/cyborg/tasks/config.yml', 'ansible/roles/ironic/tasks/bootstrap.yml', 'ansible/roles/sahara/tasks/register.yml', 'ansible/roles/ceph/tasks/reconfigure.yml', 'ansible/roles/gnocchi/tasks/register.yml', 'ansible/roles/kafka/tasks/precheck.yml', 'ansible/roles/ironic/handlers/main.yml', 'ansible/roles/mariadb/tasks/backup.yml', 'ansible/roles/searchlight/tasks/register.yml', 'ansible/roles/horizon/tasks/bootstrap.yml', 'ansible/roles/senlin/tasks/register.yml', 'ansible/roles/bifrost/tasks/deploy-servers.yml', 'ansible/roles/manila/tasks/fix_cephfs_owner.yml', 'ansible/roles/keystone/tasks/register.yml', 'ansible/roles/swift/tasks/precheck.yml', 'ansible/roles/karbor/tasks/register.yml', 'ansible/roles/nova/tasks/register.yml', 'ansible/roles/prometheus/handlers/main.yml', 'ansible/roles/tacker/tasks/precheck.yml', 'ansible/roles/freezer/tasks/precheck.yml', 'ansible/roles/monasca/tasks/bootstrap.yml', 'ansible/roles/vitrage/tasks/register.yml', 'ansible/roles/murano/tasks/import_library_packages.yml', 'ansible/roles/ceph/tasks/start_mdss.yml', 'ansible/roles/grafana/tasks/bootstrap.yml', 'ansible/roles/solum/tasks/precheck.yml', 'ansible/roles/multipathd/tasks/config.yml', 'ansible/roles/sahara/tasks/bootstrap.yml', 'ansible/roles/redis/tasks/check.yml', 'ansible/roles/ceph/tasks/start_rgw_keystone.yml', 'ansible/roles/iscsi/tasks/precheck.yml', 'ansible/roles/watcher/tasks/precheck.yml', 'ansible/roles/barbican/tasks/register.yml', 'ansible/roles/panko/tasks/precheck.yml', 'ansible/roles/barbican/tasks/bootstrap.yml', 'ansible/roles/searchlight/tasks/precheck.yml', 'ansible/roles/cloudkitty/tasks/precheck.yml', 'tools/cleanup-containers', 'ansible/roles/ceph_pools.yml', 'ansible/roles/ironic/tasks/register.yml', 'ansible/roles/storm/handlers/main.yml', 'ansible/roles/ceph/tasks/deploy.yml', 'ansible/roles/congress/tasks/register.yml', 'ansible/roles/prometheus/tasks/precheck.yml', 'ansible/roles/influxdb/tasks/precheck.yml', 'ansible/roles/swift/tasks/register.yml', 'ansible/roles/vitrage/tasks/bootstrap.yml', 'ansible/roles/kuryr/tasks/register.yml', 'ansible/roles/aodh/tasks/bootstrap.yml', 'ansible/roles/trove/tasks/register.yml', 'ansible/roles/mistral/tasks/register.yml', 'ansible/roles/swift/tasks/reconfigure.yml', 'ansible/roles/ceph/tasks/start_ceph_dashboard.yml', 'ansible/roles/openvswitch/tasks/ensure-ovs-bridge.yml', 'ansible/roles/neutron/tasks/precheck.yml', 'ansible/roles/storm/tasks/precheck.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/roles/neutron/tasks/rolling_upgrade.yml', 'ansible/roles/placement/tasks/bootstrap.yml', 'ansible/roles/aodh/tasks/register.yml', 'ansible/roles/redis/tasks/precheck.yml', 'ansible/roles/zun/handlers/main.yml', 'ansible/roles/designate/tasks/register.yml', 'ansible/roles/panko/tasks/bootstrap.yml', 'ansible/roles/zun/tasks/register.yml', 'ansible/roles/glance/tasks/precheck.yml', 'ansible/roles/cinder/tasks/ceph.yml', 'ansible/roles/tacker/tasks/bootstrap.yml', 'ansible/roles/watcher/tasks/bootstrap.yml', 'ansible/roles/etcd/tasks/precheck.yml', 'ansible/roles/magnum/tasks/precheck.yml', 'ansible/roles/glance/tasks/check.yml', 'ansible/roles/keystone/tasks/check.yml', 'ansible/roles/cyborg/tasks/register.yml', 'ansible/roles/zookeeper/tasks/precheck.yml', 'ansible/roles/ironic/tasks/precheck.yml', 'ansible/roles/cyborg/handlers/main.yml', 'ansible/roles/monasca/tasks/register.yml', 'ansible/roles/cinder/tasks/bootstrap.yml', 'ansible/roles/karbor/tasks/bootstrap.yml', 'ansible/roles/swift/tasks/start.yml', 'ansible/roles/ceph/tasks/bootstrap_osds.yml', 'ansible/roles/gnocchi/tasks/precheck.yml', 'ansible/roles/tacker/tasks/register.yml', 'ansible/roles/cloudkitty/tasks/bootstrap.yml', 'ansible/roles/octavia/tasks/precheck.yml', 'ansible/roles/glance/tasks/register.yml', 'ansible/roles/kibana/tasks/precheck.yml', 'ansible/roles/rabbitmq/tasks/precheck.yml', 'ansible/roles/magnum/tasks/register.yml', 'ansible/roles/barbican/tasks/check.yml', 'ansible/roles/manila/tasks/ceph.yml', 'ansible/roles/qinling/tasks/precheck.yml', 'ansible/roles/senlin/tasks/precheck.yml', 'ansible/roles/mariadb/tasks/check.yml', 'ansible/roles/manila/tasks/precheck.yml', 'ansible/roles/congress/tasks/bootstrap.yml', 'ansible/roles/ceilometer/handlers/main.yml', 'ansible/roles/iscsi/tasks/config.yml', 'ansible/roles/ceilometer/tasks/register.yml', 'ansible/roles/octavia/tasks/register.yml', 'ansible/roles/cloudkitty/tasks/register.yml', 'ansible/roles/prometheus/tasks/bootstrap.yml', 'ansible/roles/mongodb/tasks/precheck.yml', 'ansible/roles/neutron/tasks/register.yml', 'ansible/roles/trove/tasks/bootstrap.yml', 'ansible/roles/cinder/tasks/register.yml', 'ansible/roles/mariadb/tasks/register.yml', 'ansible/roles/service-stop/tasks/main.yml', 'ansible/roles/panko/tasks/register.yml', 'ansible/roles/rally/tasks/bootstrap.yml', 'ansible/roles/keystone/tasks/init_fernet.yml', 'ansible/roles/ceph/tasks/start_mgrs.yml', 'ansible/roles/cyborg/tasks/bootstrap_service.yml', 'ansible/roles/watcher/tasks/register.yml', 'ansible/roles/prechecks/tasks/service_checks.yml', 'ansible/roles/grafana/tasks/precheck.yml', 'ansible/roles/zun/tasks/bootstrap.yml', 'ansible/roles/cyborg/tasks/precheck.yml', 'ansible/roles/mongodb/tasks/bootstrap_cluster.yml', 'tools/cleanup-images', 'ansible/roles/murano/tasks/register.yml', 'ansible/roles/senlin/tasks/bootstrap.yml', 'ansible/roles/monasca/tasks/precheck.yml', 'ansible/roles/sahara/tasks/precheck.yml', 'ansible/roles/qdrouterd/tasks/precheck.yml', 'ansible/roles/nova/tasks/precheck.yml', 'ansible/roles/designate/tasks/update_pools.yml', 'ansible/roles/karbor/tasks/precheck.yml', 'ansible/roles/mariadb/tasks/recover_cluster.yml', 'tools/validate-docker-execute.sh', 'ansible/roles/ironic/tasks/rolling_upgrade.yml', 'ansible/roles/ovs-dpdk/handlers/main.yml', 'ansible/roles/elasticsearch/tasks/precheck.yml', 'ansible/roles/glance/tasks/ceph.yml', 'ansible/roles/manila/tasks/register.yml', 'ansible/roles/ceph/tasks/precheck.yml', 'ansible/roles/designate/tasks/precheck.yml', 'ansible/roles/heat/tasks/bootstrap.yml', 'ansible/roles/memcached/tasks/precheck.yml', 'ansible/roles/zun/tasks/precheck.yml', 'ansible/roles/keystone/tasks/precheck.yml', 'ansible/roles/glance/tasks/bootstrap_service.yml', 'ansible/roles/nova/tasks/discover_computes.yml', 'ansible/roles/skydive/tasks/precheck.yml', 'ansible/roles/congress/tasks/precheck.yml', 'ansible/roles/neutron/tasks/bootstrap.yml', 'ansible/roles/mistral/tasks/precheck.yml', 'ansible/roles/openvswitch/tasks/precheck.yml', 'ansible/roles/octavia/tasks/bootstrap.yml', 'ansible/roles/blazar/tasks/register.yml', 'ansible/roles/opendaylight/tasks/precheck.yml', 'ansible/roles/iscsi/tasks/pull.yml', 'ansible/roles/mongodb/handlers/main.yml', 'ansible/roles/bifrost/tasks/bootstrap.yml', 'ansible/roles/bifrost/tasks/reconfigure.yml', 'ansible/roles/cyborg/tasks/bootstrap.yml', 'ansible/roles/horizon/tasks/precheck.yml', 'ansible/roles/ceph/tasks/stop.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/magnum/tasks/bootstrap.yml', 'ansible/roles/solum/tasks/register.yml', 'ansible/roles/nova/tasks/bootstrap.yml', 'ansible/roles/cinder/tasks/check.yml', 'ansible/roles/nova/tasks/ceph.yml', 'ansible/roles/openvswitch/handlers/main.yml', 'ansible/roles/placement/tasks/register.yml', 'ansible/roles/ceph/tasks/upgrade.yml', 'ansible/roles/glance/tasks/rolling_upgrade.yml', 'ansible/roles/heat/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b123bf662129fea4ad44dbc7975009a081dded1c', 'message': ""Use become for all docker tasks\n\nMany tasks that use Docker have become specified already, but\nnot all. This change ensures all tasks that use the following\nmodules have become:\n\n* kolla_docker\n* kolla_ceph_keyring\n* kolla_toolbox\n* kolla_container_facts\n\nIt also adds become for 'command' tasks that use docker CLI.\n\nChange-Id: I4a5ebcedaccb9261dbc958ec67e8077d7980e496\n""}]",0,651210,b123bf662129fea4ad44dbc7975009a081dded1c,27,5,5,14826,,,0,"Use become for all docker tasks

Many tasks that use Docker have become specified already, but
not all. This change ensures all tasks that use the following
modules have become:

* kolla_docker
* kolla_ceph_keyring
* kolla_toolbox
* kolla_container_facts

It also adds become for 'command' tasks that use docker CLI.

Change-Id: I4a5ebcedaccb9261dbc958ec67e8077d7980e496
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/10/651210/5 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/freezer/tasks/register.yml', 'ansible/roles/ceph/tasks/start_osds.yml', 'ansible/roles/storm/tasks/config.yml', 'ansible/roles/murano/tasks/bootstrap.yml', 'ansible/roles/solum/tasks/bootstrap.yml', 'ansible/roles/glance/tasks/bootstrap.yml', 'ansible/roles/vitrage/tasks/precheck.yml', 'ansible/roles/blazar/tasks/bootstrap.yml', 'ansible/roles/gnocchi/tasks/ceph.yml', 'ansible/roles/mistral/tasks/bootstrap.yml', 'ansible/roles/gnocchi/tasks/bootstrap.yml', 'ansible/roles/murano/tasks/precheck.yml', 'ansible/roles/mariadb/tasks/precheck.yml', 'ansible/roles/swift/tasks/check.yml', 'ansible/roles/rabbitmq/handlers/main.yml', 'ansible/roles/placement/tasks/precheck.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/manila/tasks/bootstrap.yml', 'ansible/roles/kuryr/tasks/precheck.yml', 'ansible/roles/common/handlers/main.yml', 'ansible/roles/keystone/tasks/bootstrap.yml', 'ansible/roles/swift/tasks/stop.yml', 'ansible/roles/ceph/tasks/distribute_keyrings.yml', 'ansible/roles/keystone/tasks/upgrade.yml', 'ansible/roles/storm/tasks/pull.yml', 'ansible/roles/designate/tasks/bootstrap.yml', 'ansible/roles/bifrost/tasks/stop.yml', 'ansible/roles/blazar/tasks/precheck.yml', 'ansible/roles/barbican/tasks/precheck.yml', 'ansible/roles/trove/tasks/precheck.yml', 'ansible/roles/heat/tasks/register.yml', 'ansible/roles/aodh/tasks/precheck.yml', 'ansible/roles/cyborg/tasks/config.yml', 'ansible/roles/ironic/tasks/bootstrap.yml', 'ansible/roles/sahara/tasks/register.yml', 'ansible/roles/ceph/tasks/reconfigure.yml', 'ansible/roles/gnocchi/tasks/register.yml', 'ansible/roles/kafka/tasks/precheck.yml', 'ansible/roles/ironic/handlers/main.yml', 'ansible/roles/mariadb/tasks/backup.yml', 'ansible/roles/searchlight/tasks/register.yml', 'ansible/roles/horizon/tasks/bootstrap.yml', 'ansible/roles/senlin/tasks/register.yml', 'ansible/roles/bifrost/tasks/deploy-servers.yml', 'ansible/roles/manila/tasks/fix_cephfs_owner.yml', 'ansible/roles/keystone/tasks/register.yml', 'ansible/roles/swift/tasks/precheck.yml', 'ansible/roles/karbor/tasks/register.yml', 'ansible/roles/nova/tasks/register.yml', 'ansible/roles/prometheus/handlers/main.yml', 'ansible/roles/tacker/tasks/precheck.yml', 'ansible/roles/freezer/tasks/precheck.yml', 'ansible/roles/monasca/tasks/bootstrap.yml', 'ansible/roles/vitrage/tasks/register.yml', 'ansible/roles/murano/tasks/import_library_packages.yml', 'ansible/roles/ceph/tasks/start_mdss.yml', 'ansible/roles/grafana/tasks/bootstrap.yml', 'ansible/roles/solum/tasks/precheck.yml', 'ansible/roles/multipathd/tasks/config.yml', 'ansible/roles/sahara/tasks/bootstrap.yml', 'ansible/roles/redis/tasks/check.yml', 'ansible/roles/ceph/tasks/start_rgw_keystone.yml', 'ansible/roles/iscsi/tasks/precheck.yml', 'ansible/roles/watcher/tasks/precheck.yml', 'ansible/roles/barbican/tasks/register.yml', 'ansible/roles/panko/tasks/precheck.yml', 'ansible/roles/barbican/tasks/bootstrap.yml', 'ansible/roles/searchlight/tasks/precheck.yml', 'ansible/roles/cloudkitty/tasks/precheck.yml', 'ansible/roles/ceph_pools.yml', 'ansible/roles/ironic/tasks/register.yml', 'ansible/roles/storm/handlers/main.yml', 'ansible/roles/ceph/tasks/deploy.yml', 'ansible/roles/congress/tasks/register.yml', 'ansible/roles/prometheus/tasks/precheck.yml', 'ansible/roles/influxdb/tasks/precheck.yml', 'ansible/roles/swift/tasks/register.yml', 'ansible/roles/vitrage/tasks/bootstrap.yml', 'ansible/roles/kuryr/tasks/register.yml', 'ansible/roles/aodh/tasks/bootstrap.yml', 'ansible/roles/trove/tasks/register.yml', 'ansible/roles/mistral/tasks/register.yml', 'ansible/roles/swift/tasks/reconfigure.yml', 'ansible/roles/ceph/tasks/start_ceph_dashboard.yml', 'ansible/roles/openvswitch/tasks/ensure-ovs-bridge.yml', 'ansible/roles/neutron/tasks/precheck.yml', 'ansible/roles/storm/tasks/precheck.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/roles/neutron/tasks/rolling_upgrade.yml', 'ansible/roles/placement/tasks/bootstrap.yml', 'ansible/roles/aodh/tasks/register.yml', 'ansible/roles/redis/tasks/precheck.yml', 'ansible/roles/zun/handlers/main.yml', 'ansible/roles/designate/tasks/register.yml', 'ansible/roles/panko/tasks/bootstrap.yml', 'ansible/roles/zun/tasks/register.yml', 'ansible/roles/glance/tasks/precheck.yml', 'ansible/roles/cinder/tasks/ceph.yml', 'ansible/roles/placement/tasks/upgrade.yml', 'ansible/roles/tacker/tasks/bootstrap.yml', 'ansible/roles/watcher/tasks/bootstrap.yml', 'ansible/roles/etcd/tasks/precheck.yml', 'ansible/roles/magnum/tasks/precheck.yml', 'ansible/roles/glance/tasks/check.yml', 'ansible/roles/keystone/tasks/check.yml', 'ansible/roles/cyborg/tasks/register.yml', 'ansible/roles/zookeeper/tasks/precheck.yml', 'ansible/roles/ironic/tasks/precheck.yml', 'ansible/roles/cyborg/handlers/main.yml', 'ansible/roles/monasca/tasks/register.yml', 'ansible/roles/cinder/tasks/bootstrap.yml', 'ansible/roles/karbor/tasks/bootstrap.yml', 'ansible/roles/swift/tasks/start.yml', 'ansible/roles/ceph/tasks/bootstrap_osds.yml', 'ansible/roles/gnocchi/tasks/precheck.yml', 'ansible/roles/tacker/tasks/register.yml', 'ansible/roles/cloudkitty/tasks/bootstrap.yml', 'ansible/roles/octavia/tasks/precheck.yml', 'ansible/roles/glance/tasks/register.yml', 'ansible/roles/kibana/tasks/precheck.yml', 'ansible/roles/rabbitmq/tasks/precheck.yml', 'ansible/roles/magnum/tasks/register.yml', 'ansible/roles/barbican/tasks/check.yml', 'ansible/roles/manila/tasks/ceph.yml', 'ansible/roles/senlin/tasks/precheck.yml', 'ansible/roles/mariadb/tasks/check.yml', 'ansible/roles/manila/tasks/precheck.yml', 'ansible/roles/congress/tasks/bootstrap.yml', 'ansible/roles/ceilometer/handlers/main.yml', 'ansible/roles/iscsi/tasks/config.yml', 'ansible/roles/ceilometer/tasks/register.yml', 'ansible/roles/octavia/tasks/register.yml', 'ansible/roles/cloudkitty/tasks/register.yml', 'ansible/roles/prometheus/tasks/bootstrap.yml', 'ansible/roles/mongodb/tasks/precheck.yml', 'ansible/roles/neutron/tasks/register.yml', 'ansible/roles/trove/tasks/bootstrap.yml', 'ansible/roles/cinder/tasks/register.yml', 'ansible/roles/mariadb/tasks/register.yml', 'ansible/roles/service-stop/tasks/main.yml', 'ansible/roles/panko/tasks/register.yml', 'ansible/roles/rally/tasks/bootstrap.yml', 'ansible/roles/keystone/tasks/init_fernet.yml', 'ansible/roles/ceph/tasks/start_mgrs.yml', 'ansible/roles/cyborg/tasks/bootstrap_service.yml', 'ansible/roles/watcher/tasks/register.yml', 'ansible/roles/prechecks/tasks/service_checks.yml', 'ansible/roles/grafana/tasks/precheck.yml', 'ansible/roles/zun/tasks/bootstrap.yml', 'ansible/roles/cyborg/tasks/precheck.yml', 'ansible/roles/mongodb/tasks/bootstrap_cluster.yml', 'ansible/roles/murano/tasks/register.yml', 'ansible/roles/senlin/tasks/bootstrap.yml', 'ansible/roles/monasca/tasks/precheck.yml', 'ansible/roles/sahara/tasks/precheck.yml', 'ansible/roles/qdrouterd/tasks/precheck.yml', 'ansible/roles/nova/tasks/precheck.yml', 'ansible/roles/designate/tasks/update_pools.yml', 'ansible/roles/karbor/tasks/precheck.yml', 'ansible/roles/mariadb/tasks/recover_cluster.yml', 'ansible/roles/ironic/tasks/rolling_upgrade.yml', 'ansible/roles/ovs-dpdk/handlers/main.yml', 'ansible/roles/elasticsearch/tasks/precheck.yml', 'ansible/roles/glance/tasks/ceph.yml', 'ansible/roles/manila/tasks/register.yml', 'ansible/roles/ceph/tasks/precheck.yml', 'ansible/roles/designate/tasks/precheck.yml', 'ansible/roles/heat/tasks/bootstrap.yml', 'ansible/roles/memcached/tasks/precheck.yml', 'ansible/roles/zun/tasks/precheck.yml', 'ansible/roles/keystone/tasks/precheck.yml', 'ansible/roles/glance/tasks/bootstrap_service.yml', 'ansible/roles/nova/tasks/discover_computes.yml', 'ansible/roles/skydive/tasks/precheck.yml', 'ansible/roles/congress/tasks/precheck.yml', 'ansible/roles/neutron/tasks/bootstrap.yml', 'ansible/roles/mistral/tasks/precheck.yml', 'ansible/roles/openvswitch/tasks/precheck.yml', 'ansible/roles/octavia/tasks/bootstrap.yml', 'ansible/roles/blazar/tasks/register.yml', 'ansible/roles/opendaylight/tasks/precheck.yml', 'ansible/roles/iscsi/tasks/pull.yml', 'ansible/roles/mongodb/handlers/main.yml', 'ansible/roles/bifrost/tasks/bootstrap.yml', 'ansible/roles/bifrost/tasks/reconfigure.yml', 'ansible/roles/cyborg/tasks/bootstrap.yml', 'ansible/roles/horizon/tasks/precheck.yml', 'ansible/roles/ceph/tasks/stop.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/magnum/tasks/bootstrap.yml', 'ansible/roles/solum/tasks/register.yml', 'ansible/roles/nova/tasks/bootstrap.yml', 'ansible/roles/cinder/tasks/check.yml', 'ansible/roles/nova/tasks/ceph.yml', 'ansible/roles/openvswitch/handlers/main.yml', 'ansible/roles/placement/tasks/register.yml', 'ansible/roles/ceph/tasks/upgrade.yml', 'ansible/roles/glance/tasks/rolling_upgrade.yml', 'ansible/roles/heat/tasks/precheck.yml', 'ansible/roles/vitrage/tasks/upgrade.yml']",200,1b6dfbd6aaf98866af40f1b625a1af4bbf3cd062,, become: true,,384,0
openstack%2Fkolla~stable%2Frocky~If9e4f48439b6fb817db3da1af454da51ff8f3781,openstack/kolla,stable/rocky,If9e4f48439b6fb817db3da1af454da51ff8f3781,Bump Monasca Notification version in Rocky,MERGED,2019-06-04 14:10:13.000000000,2019-06-07 10:29:16.000000000,2019-06-07 10:29:16.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-04 14:10:13.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9d85b96b37c61968694e4dafd9998e5c9cd86b81', 'message': 'Bump Monasca Notification version in Rocky\n\nThis includes some important bugfixes for notification\nplugins.\n\nDepends-On: https://review.opendev.org/#/c/662177/\nChange-Id: If9e4f48439b6fb817db3da1af454da51ff8f3781\n'}]",0,663044,9d85b96b37c61968694e4dafd9998e5c9cd86b81,13,6,1,17669,,,0,"Bump Monasca Notification version in Rocky

This includes some important bugfixes for notification
plugins.

Depends-On: https://review.opendev.org/#/c/662177/
Change-Id: If9e4f48439b6fb817db3da1af454da51ff8f3781
",git fetch https://review.opendev.org/openstack/kolla refs/changes/44/663044/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,9d85b96b37c61968694e4dafd9998e5c9cd86b81,," 'monasca-notification-1.14.1.tar.gz')},"," 'monasca-notification-1.14.0.tar.gz')},",1,1
openstack%2Fhorizon~master~I12d03745bec5d8dec10a8e2b4306c595f2f39560,openstack/horizon,master,I12d03745bec5d8dec10a8e2b4306c595f2f39560,Make project volume group table work even with volumev3 only env,MERGED,2019-05-29 12:27:20.000000000,2019-06-07 10:29:05.000000000,2019-06-05 12:51:42.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-05-29 12:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bf3919e4019249343e4f2b410a5e2e9f20936eb8', 'message': ""Make project volume group table work only with volumev3 endpoint\n\nPreviously the volume group table in the project dashboard checked if\n'volume' endpoint is available and 'volumev3' endpoint was not checked.\nThe service endpoints are already checked in panel.py, so there is no\nneed to have the permission check (i.e., service check) in the table.\n\nSimilar patterns are found in tables in project/snapshots and\nproject/vg_snapshots. They are also cleanup by this commit.\n\nChange-Id: I12d03745bec5d8dec10a8e2b4306c595f2f39560\nCloses-Bug: #1829461\n""}, {'number': 2, 'created': '2019-05-29 14:06:21.000000000', 'files': ['openstack_dashboard/dashboards/project/vg_snapshots/tables.py', 'openstack_dashboard/dashboards/project/volume_groups/tables.py', 'openstack_dashboard/dashboards/project/snapshots/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/0cb5167b99d418c7ce8cbc9adda24f228fdd42d0', 'message': ""Make project volume group table work even with volumev3 only env\n\nPreviously the volume group table in the project dashboard checked if\n'volume' endpoint is available and 'volumev3' endpoint was not checked.\n'volumev3' is an endpoint name commonly used for Volume v3 API and\nit is not surprising that only volumev3 is configured in deployments,\nso we should ensure that horizon works with environments only with\n'volumev3' endpoint.\n\nThe service endpoints are already checked in panel.py, so there is no\nneed to have the permission check (i.e., service check) in the table.\n\nSimilar patterns are found in tables in project/snapshots and\nproject/vg_snapshots. They are also cleanup by this commit.\n\nChange-Id: I12d03745bec5d8dec10a8e2b4306c595f2f39560\nCloses-Bug: #1829461\n""}]",0,661960,0cb5167b99d418c7ce8cbc9adda24f228fdd42d0,18,5,2,841,,,0,"Make project volume group table work even with volumev3 only env

Previously the volume group table in the project dashboard checked if
'volume' endpoint is available and 'volumev3' endpoint was not checked.
'volumev3' is an endpoint name commonly used for Volume v3 API and
it is not surprising that only volumev3 is configured in deployments,
so we should ensure that horizon works with environments only with
'volumev3' endpoint.

The service endpoints are already checked in panel.py, so there is no
need to have the permission check (i.e., service check) in the table.

Similar patterns are found in tables in project/snapshots and
project/vg_snapshots. They are also cleanup by this commit.

Change-Id: I12d03745bec5d8dec10a8e2b4306c595f2f39560
Closes-Bug: #1829461
",git fetch https://review.opendev.org/openstack/horizon refs/changes/60/661960/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/vg_snapshots/tables.py', 'openstack_dashboard/dashboards/project/volume_groups/tables.py', 'openstack_dashboard/dashboards/project/snapshots/tables.py']",3,bf3919e4019249343e4f2b410a5e2e9f20936eb8,bug/1829461,," permissions = [ ('openstack.services.volume', 'openstack.services.volumev2', 'openstack.services.volumev3'), ]",0,8
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Frocky~Ic889b94c07d1479da8f7004fce21786e9fb77826,openstack/openstack-ansible-os_gnocchi,stable/rocky,Ic889b94c07d1479da8f7004fce21786e9fb77826,Fix ansible_python_interpreter for identity setup,MERGED,2019-06-05 15:24:25.000000000,2019-06-07 10:19:12.000000000,2019-06-07 10:19:12.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-05 15:24:25.000000000', 'files': ['tasks/gnocchi_identity_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/f72585873c6c7b6bc1581ec9465c6c12a47b6425', 'message': 'Fix ansible_python_interpreter for identity setup\n\nI04e853fb582d7b39708a2fb6ed854b4e458f06d9 fixed this for\ngnocchi_service_setup, but did not fix it in gnocchi_identity_setup.\n\nChange-Id: Ic889b94c07d1479da8f7004fce21786e9fb77826\n(cherry picked from commit e0f77278923ba6af8d0760656717d8d8dfabe81c)\n'}]",0,663359,f72585873c6c7b6bc1581ec9465c6c12a47b6425,11,3,1,17799,,,0,"Fix ansible_python_interpreter for identity setup

I04e853fb582d7b39708a2fb6ed854b4e458f06d9 fixed this for
gnocchi_service_setup, but did not fix it in gnocchi_identity_setup.

Change-Id: Ic889b94c07d1479da8f7004fce21786e9fb77826
(cherry picked from commit e0f77278923ba6af8d0760656717d8d8dfabe81c)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/59/663359/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/gnocchi_identity_setup.yml'],1,f72585873c6c7b6bc1581ec9465c6c12a47b6425,bp/python-build-simplification-stable/rocky," ansible_python_interpreter: ""{{ gnocchi_service_setup_host_python_interpreter }}"""," ansible_python_interpreter: >- {{ (gnocchi_service_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable']) }}",1,2
openstack%2Fec2-api~master~I65bea4f975c561d95c808c2fbf9759b1310400b9,openstack/ec2-api,master,I65bea4f975c561d95c808c2fbf9759b1310400b9,Replace tenant_id with project_id,ABANDONED,2019-06-06 13:21:56.000000000,2019-06-07 10:06:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-06 13:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/5a1ca9f6cbd15aa929ef4b67e1196cb49f51f8ad', 'message': 'Replace tenant_id with project_id\n\nThe former has been deprecated since Ocata.\n\nChange-Id: I65bea4f975c561d95c808c2fbf9759b1310400b9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2019-06-06 13:23:38.000000000', 'files': ['install.sh', 'ec2api/api/network_interface.py', 'ec2api/api/dhcp_options.py', 'ec2api/tests/unit/test_vpn_connection.py', 'ec2api/metadata/api.py', 'ec2api/tests/unit/test_metadata_api.py', 'ec2api/api/address.py', 'rally-scenarios/plugins/context_plugin_ec2_creds.py', 'ec2api/api/instance.py', 'rally-scenarios/plugins/context_plugin_images.py', 'ec2api/tests/unit/test_security_group.py', 'ec2api/api/subnet.py', 'ec2api/tests/unit/fakes.py', 'rally-scenarios/plugins/context_plugin_ec2_objects.py', 'ec2api/api/security_group.py', 'ec2api/api/vpn_connection.py', 'rally-scenarios/plugins/ec2api_plugin.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/e4af42a2eccf9d2ff56e8bddb9ad06e7c695998d', 'message': 'Replace tenant_id with project_id\n\nThe former has been deprecated since Ocata.\n\nChange-Id: I65bea4f975c561d95c808c2fbf9759b1310400b9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,663652,e4af42a2eccf9d2ff56e8bddb9ad06e7c695998d,4,1,2,15334,,,0,"Replace tenant_id with project_id

The former has been deprecated since Ocata.

Change-Id: I65bea4f975c561d95c808c2fbf9759b1310400b9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/52/663652/1 && git format-patch -1 --stdout FETCH_HEAD,"['install.sh', 'ec2api/api/network_interface.py', 'ec2api/api/dhcp_options.py', 'ec2api/tests/unit/test_vpn_connection.py', 'ec2api/metadata/api.py', 'ec2api/tests/unit/test_metadata_api.py', 'ec2api/api/address.py', 'rally-scenarios/plugins/context_plugin_ec2_creds.py', 'ec2api/api/instance.py', 'rally-scenarios/plugins/context_plugin_images.py', 'ec2api/tests/unit/test_security_group.py', 'ec2api/api/subnet.py', 'ec2api/tests/unit/fakes.py', 'rally-scenarios/plugins/context_plugin_ec2_objects.py', 'ec2api/api/security_group.py', 'ec2api/api/vpn_connection.py', 'rally-scenarios/plugins/ec2api_plugin.py']",17,5a1ca9f6cbd15aa929ef4b67e1196cb49f51f8ad,bug/1831870, neutron.list_floatingips(project_id=project_id) neutron.list_networks(project_id=project_id) neutron.list_subnets(project_id=project_id) neutron.list_ports(project_id=project_id) neutron.list_security_groups(project_id=project_id), neutron.list_floatingips(tenant_id=project_id) neutron.list_networks(tenant_id=project_id) neutron.list_subnets(tenant_id=project_id) neutron.list_ports(tenant_id=project_id) neutron.list_security_groups(tenant_id=project_id),100,101
openstack%2Ftripleo-common~master~Icbe80c338d69efc6ce8fceb0f73f833bec588536,openstack/tripleo-common,master,Icbe80c338d69efc6ce8fceb0f73f833bec588536,Pass execution_id to tripleo.ansible-playbook.,MERGED,2018-09-28 13:11:11.000000000,2019-06-07 09:54:09.000000000,2018-12-08 11:13:46.000000000,"[{'_account_id': 3153}, {'_account_id': 7385}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-28 13:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/86c892c48a53348f631bbcca16d96d1a5674f4a1', 'message': ""Pass execution_id to tripleo.ansible-playbook.\n\nPassing the execution_id to the tripleo.ansible-playbook action will\nmake it such that the execution_id is included in any messages sent on\nthe queue.\n\nThis is needed so that when tripleoclient filters by execution id to\ndiscard messages that are not from workflows it did not start, won't be\nshown.\n\nThe tripleoclient patch to filter on execution_id is\nhttps://review.openstack.org/#/c/605520/, but first we must land this\npatch so that execution_id is added an input to these actions.\n\nChange-Id: Icbe80c338d69efc6ce8fceb0f73f833bec588536\nRelated-Bug: #1794277\n""}, {'number': 2, 'created': '2018-11-09 21:50:29.000000000', 'files': ['workbooks/access.yaml', 'workbooks/deployment.yaml', 'workbooks/fernet-key-rotate.yaml', 'workbooks/skydive-ansible.yaml', 'workbooks/octavia_post.yaml', 'workbooks/swift_ring_rebalance.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/678d56461961444d64e9cf731fc04b25babaad05', 'message': ""Pass execution_id to tripleo.ansible-playbook.\n\nPassing the execution_id to the tripleo.ansible-playbook action will\nmake it such that the execution_id is included in any messages sent on\nthe queue.\n\nThis is needed so that when tripleoclient filters by execution id to\ndiscard messages that are not from workflows it did not start, won't be\nshown.\n\nThe tripleoclient patch to filter on execution_id is\nhttps://review.openstack.org/#/c/605520/, but first we must land this\npatch so that execution_id is added an input to these actions.\n\nChange-Id: Icbe80c338d69efc6ce8fceb0f73f833bec588536\nRelated-Bug: #1794277\n""}]",0,606064,678d56461961444d64e9cf731fc04b25babaad05,20,5,2,7144,,,0,"Pass execution_id to tripleo.ansible-playbook.

Passing the execution_id to the tripleo.ansible-playbook action will
make it such that the execution_id is included in any messages sent on
the queue.

This is needed so that when tripleoclient filters by execution id to
discard messages that are not from workflows it did not start, won't be
shown.

The tripleoclient patch to filter on execution_id is
https://review.openstack.org/#/c/605520/, but first we must land this
patch so that execution_id is added an input to these actions.

Change-Id: Icbe80c338d69efc6ce8fceb0f73f833bec588536
Related-Bug: #1794277
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/64/606064/2 && git format-patch -1 --stdout FETCH_HEAD,"['workbooks/access.yaml', 'workbooks/deployment.yaml', 'workbooks/fernet-key-rotate.yaml', 'workbooks/skydive-ansible.yaml', 'workbooks/octavia_post.yaml', 'workbooks/ceph-ansible.yaml', 'workbooks/swift_ring_rebalance.yaml']",7,86c892c48a53348f631bbcca16d96d1a5674f4a1,606064, execution_id: <% execution().id %>,,10,0
openstack%2Fmonasca-persister~master~I25635c069a5ed21342780a28b516c74b61dae30b,openstack/monasca-persister,master,I25635c069a5ed21342780a28b516c74b61dae30b,Clarify dependency on cachetools in recreate-metric-id tool,MERGED,2019-06-06 20:42:21.000000000,2019-06-07 09:51:25.000000000,2019-06-07 09:51:25.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 20:42:21.000000000', 'files': ['monasca_persister/tools/cassandra/recreate-metric-id/README.rst'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/c32885aed875ceb7ecbe0dfaabd64060e058fccf', 'message': 'Clarify dependency on cachetools in recreate-metric-id tool\n\nIt was found in some installations that python-cachetools needed\nto be present on the system.  This can happen if the installation\nwas configured for the Java mon-persister but the recreate-metric-id\ntool is written in Python.  Added a bullet item to describe this\ndependency and the quick workaround of installing the\npython-cachetools package.\n\nChange-Id: I25635c069a5ed21342780a28b516c74b61dae30b\nStory: 2005305\nTask: 30611\n'}]",0,663767,c32885aed875ceb7ecbe0dfaabd64060e058fccf,6,2,1,10311,,,0,"Clarify dependency on cachetools in recreate-metric-id tool

It was found in some installations that python-cachetools needed
to be present on the system.  This can happen if the installation
was configured for the Java mon-persister but the recreate-metric-id
tool is written in Python.  Added a bullet item to describe this
dependency and the quick workaround of installing the
python-cachetools package.

Change-Id: I25635c069a5ed21342780a28b516c74b61dae30b
Story: 2005305
Task: 30611
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/67/663767/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_persister/tools/cassandra/recreate-metric-id/README.rst'],1,c32885aed875ceb7ecbe0dfaabd64060e058fccf,,"- If this installation of Monasca is separate from other OpenStack services (i.e. if Keystone services are not installed on the same server) then `cachetools` may need to be installed. On a SUSE system this can be done with `sudo zypper in python-cachetools`, or on an Ubuntu based devstack this can be done with `sudo apt-get install python-cachetools`. ",,6,0
openstack%2Fneutron-tempest-plugin~master~Ie5475c797113cfc5c9bfaf4bbd58c211ed30bc89,openstack/neutron-tempest-plugin,master,Ie5475c797113cfc5c9bfaf4bbd58c211ed30bc89,Scenario test for port forwarding,MERGED,2019-06-02 12:34:52.000000000,2019-06-07 09:41:48.000000000,2019-06-07 09:41:47.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-02 12:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/03bf97a836dfd3cfd576f500f4cd5e855bad840b', 'message': 'Scenario test for port forwarding\n\nThis patch adds new scenario test for port forwarding functionality.\nIt creates 1 floating IP, and 1 router, then spawns 2 VMs and configure\n2 port forwardings using created floating IP and VMs.\nThose 2 port forwardings allows to SSH with 2 different ports to 2\ndifferent VMs using same floating IP.\n\nPatch still in progress, todo:\n1. Add dumping of vms console when ssh to instance fails,\n2. Check that all works as expected in zuul\n\nChange-Id: Ie5475c797113cfc5c9bfaf4bbd58c211ed30bc89\n'}, {'number': 2, 'created': '2019-06-02 20:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a52997958bfeea29440797bec272e57362188281', 'message': 'Scenario test for port forwarding\n\nThis patch adds new scenario test for port forwarding functionality.\nIt creates 1 floating IP, and 1 router, then spawns 2 VMs and configure\n2 port forwardings using created floating IP and VMs.\nThose 2 port forwardings allows to SSH with 2 different ports to 2\ndifferent VMs using same floating IP.\n\nChange-Id: Ie5475c797113cfc5c9bfaf4bbd58c211ed30bc89\n'}, {'number': 3, 'created': '2019-06-06 07:29:57.000000000', 'files': ['neutron_tempest_plugin/scenario/test_port_forwardings.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/13903aae40c99eeef66410c2251948940d9ac293', 'message': 'Scenario test for port forwarding\n\nThis patch adds new scenario test for port forwarding functionality.\nIt creates 1 floating IP, and 1 router, then spawns 2 VMs and configure\n2 port forwardings using created floating IP and VMs.\nThose 2 port forwardings allows to SSH with 2 different ports to 2\ndifferent VMs using same floating IP.\n\nChange-Id: Ie5475c797113cfc5c9bfaf4bbd58c211ed30bc89\n'}]",2,662628,13903aae40c99eeef66410c2251948940d9ac293,14,5,3,11975,,,0,"Scenario test for port forwarding

This patch adds new scenario test for port forwarding functionality.
It creates 1 floating IP, and 1 router, then spawns 2 VMs and configure
2 port forwardings using created floating IP and VMs.
Those 2 port forwardings allows to SSH with 2 different ports to 2
different VMs using same floating IP.

Change-Id: Ie5475c797113cfc5c9bfaf4bbd58c211ed30bc89
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/28/662628/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_port_forwardings.py'],1,03bf97a836dfd3cfd576f500f4cd5e855bad840b,add-port-forwardings-tests,"# Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.common import utils from tempest.lib.common.utils import data_utils from tempest.lib import decorators from tempest.lib import exceptions from neutron_tempest_plugin.common import ssh from neutron_tempest_plugin import config from neutron_tempest_plugin.scenario import base CONF = config.CONF class PortForwardingTestJSON(base.BaseTempestTestCase): required_extensions = ['router', 'floating-ip-port-forwarding'] @classmethod def resource_setup(cls): super(PortForwardingTestJSON, cls).resource_setup() cls.ext_net_id = CONF.network.public_network_id # Create network, subnet, router and add interface cls.network = cls.create_network() cls.subnet = cls.create_subnet(cls.network) cls.router = cls.create_router(data_utils.rand_name('router'), external_network_id=cls.ext_net_id) cls.create_router_interface(cls.router['id'], cls.subnet['id']) cls.secgroup = cls.create_security_group( name=data_utils.rand_name(""test_port_secgroup"")) cls.create_loginable_secgroup_rule(secgroup_id=cls.secgroup['id']) cls.keypair = cls.create_keypair() @decorators.idempotent_id('ab40fc48-ca8d-41a0-b2a3-f6679c847bfe') def test_port_forwarding_to_2_servers(self): internal_tcp_port = 22 servers = [] fip = self.create_floatingip() for i in range(1, 3): external_tcp_port = 1000 + i name=data_utils.rand_name(""server-%s"" % i) port = self.create_port(self.network) server = self.create_server( flavor_ref=CONF.compute.flavor_ref, image_ref=CONF.compute.image_ref, key_name=self.keypair['name'], name=name, security_groups=[ {'name': self.secgroup['name']}], networks=[{'port': port['id']}])['server'] self.wait_for_server_active(server) server['name'] = name server['port_forwarding'] = self.create_port_forwarding( fip['id'], internal_port_id=port['id'], internal_ip_address=port['fixed_ips'][0]['ip_address'], internal_port=internal_tcp_port, external_port=external_tcp_port, protocol=""tcp"") servers.append(server) for server in servers: ssh_client = ssh.Client( fip['floating_ip_address'], CONF.validation.image_ssh_user, pkey=self.keypair['private_key'], port=server['port_forwarding']['external_port']) self.assertIn(server['name'], ssh_client.exec_command('hostname')) ",,83,0
openstack%2Fneutron~master~I7e2c19e8cdb62cb85046500f862e8dbd42306225,openstack/neutron,master,I7e2c19e8cdb62cb85046500f862e8dbd42306225,Run nova's VM boot rally scenario in the neutron gate,MERGED,2019-06-03 16:42:40.000000000,2019-06-07 09:41:45.000000000,2019-06-07 09:41:45.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-03 16:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/675daad7a9b2a25bb2a0cf2cf4aab33075d2fb95', 'message': ""Run nova's VM boot rally scenario in the neutron gate\n\nAs discussed on the neutron_performance meeting [1] we'd like to run\na rally scenario in the neutron gate that boots a vm. Combined with\nSlawek's work to integrate osprofiler with rally [2] we should start\nto get some insight into neutron's vif plugging performance even if\nthat's not something directly exposed and measurable through the API.\n\n[1] http://eavesdrop.openstack.org/irclogs/%23openstack-meeting/latest.log.html#t2019-06-03T16:12:17\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006769.html\n\nChange-Id: I7e2c19e8cdb62cb85046500f862e8dbd42306225\n""}, {'number': 2, 'created': '2019-06-06 09:00:36.000000000', 'files': ['rally-jobs/task-neutron.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ccef17605d1e28c418821c2235ba24c15893fff2', 'message': ""Run nova's VM boot rally scenario in the neutron gate\n\nAs discussed on the neutron_performance meeting [1] we'd like to run\na rally scenario in the neutron gate that boots a vm. Combined with\nSlawek's work to integrate osprofiler with rally [2] we should start\nto get some insight into neutron's vif plugging performance even if\nthat's not something directly exposed and measurable through the API.\n\n[1] http://eavesdrop.openstack.org/irclogs/%23openstack-meeting/latest.log.html#t2019-06-03T16:12:17\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006769.html\n\nChange-Id: I7e2c19e8cdb62cb85046500f862e8dbd42306225\n""}]",2,662804,ccef17605d1e28c418821c2235ba24c15893fff2,26,6,2,15554,,,0,"Run nova's VM boot rally scenario in the neutron gate

As discussed on the neutron_performance meeting [1] we'd like to run
a rally scenario in the neutron gate that boots a vm. Combined with
Slawek's work to integrate osprofiler with rally [2] we should start
to get some insight into neutron's vif plugging performance even if
that's not something directly exposed and measurable through the API.

[1] http://eavesdrop.openstack.org/irclogs/%23openstack-meeting/latest.log.html#t2019-06-03T16:12:17
[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006769.html

Change-Id: I7e2c19e8cdb62cb85046500f862e8dbd42306225
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/662804/1 && git format-patch -1 --stdout FETCH_HEAD,['rally-jobs/task-neutron.yaml'],1,675daad7a9b2a25bb2a0cf2cf4aab33075d2fb95,rally-bind,"{% set image_name = ""^(cirros.*-disk|TestVM)$"" %} {% set flavor_name = ""m1.tiny"" %} - title: Workloads for osprofiler. workloads: - scenario: NovaServers.boot_and_delete_server: flavor: name: {{flavor_name}} image: name: {{image_name}} auto_assign_nic: true runner: constant: times: 2 concurrency: 2 contexts: users: tenants: 2 users_per_tenant: 2 network: {}",,22,0
openstack%2Fhacking~master~Ia4f9800d26b6f1c9fa172e41f97effe3e0282aa5,openstack/hacking,master,Ia4f9800d26b6f1c9fa172e41f97effe3e0282aa5,Dropping the py35 testing,MERGED,2019-04-22 03:42:53.000000000,2019-06-07 09:25:33.000000000,2019-06-07 09:25:33.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-22 03:42:53.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/hacking/commit/27f2cc3918daf07877dcec2eb2e057d56bafaafa', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ia4f9800d26b6f1c9fa172e41f97effe3e0282aa5\n'}]",0,654287,27f2cc3918daf07877dcec2eb2e057d56bafaafa,6,2,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Ia4f9800d26b6f1c9fa172e41f97effe3e0282aa5
",git fetch https://review.opendev.org/openstack/hacking refs/changes/87/654287/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,27f2cc3918daf07877dcec2eb2e057d56bafaafa,dropping-py35-testing,"envlist = py{36,27},pep8,pypy","envlist = py{35,27},pep8,pypy",2,3
openstack%2Fmonasca-specs~master~I152a6eaf5f20bb1a271a8ccf3fba5cbd30893f68,openstack/monasca-specs,master,I152a6eaf5f20bb1a271a8ccf3fba5cbd30893f68,Add Train priorities page,MERGED,2019-05-21 17:11:19.000000000,2019-06-07 09:13:15.000000000,2019-06-07 09:13:15.000000000,"[{'_account_id': 10311}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-21 17:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/8bf6f10d2e81318f959f9d4f4ce811895acd27b2', 'message': 'Add Train priorities page\n\nChange-Id: I152a6eaf5f20bb1a271a8ccf3fba5cbd30893f68\n'}, {'number': 2, 'created': '2019-05-22 08:43:20.000000000', 'files': ['priorities/train-priorities.rst'], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/ae237f9307192759dcb685ed4ab741c12ab99bb9', 'message': 'Add Train priorities page\n\nChange-Id: I152a6eaf5f20bb1a271a8ccf3fba5cbd30893f68\n'}]",1,660459,ae237f9307192759dcb685ed4ab741c12ab99bb9,10,3,2,16222,,,0,"Add Train priorities page

Change-Id: I152a6eaf5f20bb1a271a8ccf3fba5cbd30893f68
",git fetch https://review.opendev.org/openstack/monasca-specs refs/changes/59/660459/2 && git format-patch -1 --stdout FETCH_HEAD,['priorities/train-priorities.rst'],1,8bf6f10d2e81318f959f9d4f4ce811895acd27b2,660459,".. _train-priorities: ========================= Train Project Priorities ========================= List of priorities the Monasca drivers team is prioritizing in Train. The owners listed are responsible for tracking the status of that work and helping get that work done. They are not the only contributors to this work, and not necessarily doing most of the coding! The implementation progress on these priorities and other identified important tasks is tracked in `this board`_. .. _this board: https://storyboard.openstack.org/#!/board/141 Essential Priorities ~~~~~~~~~~~~~~~~~~~~ +-------------------------------------------------+---------------------------+ | Title | Owners | +=================================================+===========================+ | `Kafka client upgrade`_ | witek | +-------------------------------------------------+---------------------------+ | `Merge Monasca APIs`_ | adriancz | +-------------------------------------------------+---------------------------+ | `Middleware upgrade`_ | dougs | +-------------------------------------------------+---------------------------+ | `Thresholding engine replacement (tech prev.)`_ | | +-------------------------------------------------+---------------------------+ | `PDF generation for documentation`_ | joadavis | +-------------------------------------------------+---------------------------+ High Priorities ~~~~~~~~~~~~~~~ +---------------------------------------------+-------------------------+ | Title | Owners | +=============================================+=========================+ | `Application credentials (Grafana)`_ | dougsz | +---------------------------------------------+-------------------------+ | `Application credentials (agent)`_ | | +---------------------------------------------+-------------------------+ | `Documentation refresh`_ | joadavis | +---------------------------------------------+-------------------------+ | `Java Persister deprecation`_ | joadavis | +---------------------------------------------+-------------------------+ Optional Priorities ~~~~~~~~~~~~~~~~~~~ +---------------------------------------------+-------------------------+ | Title | Owners | +=============================================+=========================+ | `Monasca Events Agent`_ | | +---------------------------------------------+-------------------------+ | New query language | | +---------------------------------------------+-------------------------+ | OpenStack CLI | sc | +---------------------------------------------+-------------------------+ | Reuse Prometheus dashboards | | +---------------------------------------------+-------------------------+ | Vitrage integration | chaconpiza | +---------------------------------------------+-------------------------+ Backlog ~~~~~~~ +---------------------------------------------+-------------------------+ | Title | Owners | +=============================================+=========================+ | Sharding model for InfluxDB | dougsz | +---------------------------------------------+-------------------------+ | OpenStack Helm | | +---------------------------------------------+-------------------------+ | OpenStack Ansible | sc | +---------------------------------------------+-------------------------+ | Senlin integration | dougsz | +---------------------------------------------+-------------------------+ | Gnocchi support | dougsz | +---------------------------------------------+-------------------------+ Details ~~~~~~~ Kafka client upgrade -------------------- Currently, in all Python Monasca components, the copy of `kafka-python` library in version 0.9.5 (released on Feb 16, 2016) is used. Sticking with the old frozen client version is also unacceptable in terms of security. The goal is to upgrade the Apache Kafka client to `confluent-kafka-python`. This will dramatically improve the performance and reliability. Story: https://storyboard.openstack.org/#!/story/2003705 Merge Monasca APIs ------------------ The goal is to merge all Monasca APIs into a single unified API to reduce maintenance overhead, make it easier for developers to add new features and improve the user experience. Story: https://storyboard.openstack.org/#!/story/2003881 Middleware upgrade ------------------ We want to change the general approach and try to use the newest (stable) versions of software available. The beginning of the cycle is the good time point to upgrade components such as e.g.: Apache Kafka, InfluxDB, Apache Storm, ELK. Story: https://storyboard.openstack.org/#!/story/2005624 Thresholding engine replacement (tech prev.) -------------------------------------------- The goal of this task is to provide the technical preview of the new component replacing the current thresholding engine. Story: https://storyboard.openstack.org/#!/story/2005598 PDF generation for documentation -------------------------------- This is the community wide goal. https://governance.openstack.org/tc/goals/train/pdf-doc-generation.html Application credentials (Grafana) --------------------------------- `Keystone appliction credentials <https://docs.openstack .org/keystone/latest/user/application_credentials.html>`_ offer the mechanism to allow applications to authenticate to Keystone. The ability to specify `access rules <http://specs.openstack .org/openstack/keystone-specs/specs/keystone/stein/capabilities-app-creds .html>`_ for application credentials is being developed and will be released in the Train cycle. The goal of this story is to add application credentials support in monasca-grafana-datasource. The access rules should be limited to only reading the measurements from Monasca. It will allow storing these credentials directly in the datasource without the security risk of revealing the OpenStack user's password. It will also decouple the datasource from Grafana's authentication. Story: https://storyboard.openstack.org/#!/story/2005623 Application credentials (agent) ------------------------------- `Keystone appliction credentials <https://docs.openstack .org/keystone/latest/user/application_credentials.html>`_ offer the mechanism to allow applications to authenticate to Keystone. The ability to specify `access rules <http://specs.openstack .org/openstack/keystone-specs/specs/keystone/stein/capabilities-app-creds .html>`_ for application credentials is being developed and will be released in the Train cycle. The goal of this story is to add application credentials support in *monasca-agent*. This will prevent the security risk of revealing OpenStack user's password when installing the agent on the tenants environment. The access rules of these application credentials should be limited to posting measurements. *monasca-setup* should be extended to automatically generate such credentials and save them in configuration file if needed. Documentation refresh --------------------- Story: https://storyboard.openstack.org/#!/story/2005625 Java Persister deprecation -------------------------- Story: https://storyboard.openstack.org/#!/story/2005628 Monasca Events Agent -------------------- The goal is to extend Monasca Ceilometer project and add a new events publisher which will publish Openstack notifications (or events) to Monasca Events API. Story: https://storyboard.openstack.org/#!/story/2003023 ",,186,0
openstack%2Fkolla-ansible~master~I75955012a839e52281e9a409eeab4a2c8d778cd2,openstack/kolla-ansible,master,I75955012a839e52281e9a409eeab4a2c8d778cd2,Fix the document of external ceph for gnocchi,MERGED,2019-05-30 13:43:02.000000000,2019-06-07 09:08:14.000000000,2019-06-07 09:08:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-05-30 13:43:02.000000000', 'files': ['doc/source/reference/storage/external-ceph-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e87eb9e7886dda641d15dc7780c35b286c46bae7', 'message': 'Fix the document of external ceph for gnocchi\n\nChange-Id: I75955012a839e52281e9a409eeab4a2c8d778cd2\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n'}]",0,662220,e87eb9e7886dda641d15dc7780c35b286c46bae7,7,4,1,28367,,,0,"Fix the document of external ceph for gnocchi

Change-Id: I75955012a839e52281e9a409eeab4a2c8d778cd2
Signed-off-by: ZijianGuo <guozijn@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/662220/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/storage/external-ceph-guide.rst'],1,e87eb9e7886dda641d15dc7780c35b286c46bae7,external-ceph-gnocchi,Modify ``/etc/kolla/config/gnocchi.conf`` file according to,Modify ``/etc/kolla/config/gnocchi/gnocchi.conf`` file according to,1,1
openstack%2Fkolla-ansible~master~I936adc2aeaa3c87081be1c44aa0221caf2124e23,openstack/kolla-ansible,master,I936adc2aeaa3c87081be1c44aa0221caf2124e23,Add support for elasticsearch TLS and authentication in fluentd,MERGED,2019-05-30 13:28:08.000000000,2019-06-07 09:08:10.000000000,2019-06-07 09:08:10.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-05-30 13:28:08.000000000', 'files': ['ansible/roles/common/templates/conf/output/01-es.conf.j2', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/common/templates/conf/output/00-local.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc24e9af7cc8e8adb5dac1784b92c5e958072bc9', 'message': 'Add support for elasticsearch TLS and authentication in fluentd\n\nAdd options for configuring TLS and authentication for elasticsearch\nconnections in in fluentd.\n\nChange-Id: I936adc2aeaa3c87081be1c44aa0221caf2124e23\nCloses-Bug: #1831078\n'}]",0,662215,fc24e9af7cc8e8adb5dac1784b92c5e958072bc9,7,3,1,16036,,,0,"Add support for elasticsearch TLS and authentication in fluentd

Add options for configuring TLS and authentication for elasticsearch
connections in in fluentd.

Change-Id: I936adc2aeaa3c87081be1c44aa0221caf2124e23
Closes-Bug: #1831078
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/662215/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/output/01-es.conf.j2', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/common/templates/conf/output/00-local.conf.j2']",3,fc24e9af7cc8e8adb5dac1784b92c5e958072bc9,bug/1831078, scheme {{ fluentd_elasticsearch_scheme }} {% if fluentd_elasticsearch_path != '' %} path {{ fluentd_elasticsearch_path }} {% endif %} {% if fluentd_elasticsearch_scheme == 'https' %} ssl_version {{ fluentd_elasticsearch_ssl_version }} ssl_verify {{ fluentd_elasticsearch_ssl_verify }} {% endif %} {% if fluentd_elasticsearch_user != '' and fluentd_elasticsearch_password != ''%} user {{ fluentd_elasticsearch_user }} password {{ fluentd_elasticsearch_password }} {% endif %} scheme {{ fluentd_elasticsearch_scheme }} {% if fluentd_elasticsearch_path != '' %} path {{ fluentd_elasticsearch_path }} {% endif %} {% if fluentd_elasticsearch_scheme == 'https' %} ssl_version {{ fluentd_elasticsearch_ssl_version }} ssl_verify {{ fluentd_elasticsearch_ssl_verify }} {% endif %} {% if fluentd_elasticsearch_user != '' and fluentd_elasticsearch_password != ''%} user {{ fluentd_elasticsearch_user }} password {{ fluentd_elasticsearch_password }} {% endif %},,46,0
openstack%2Fkolla-ansible~master~I92af045da67f9e746fd6e4b94e56bb8aa72850c4,openstack/kolla-ansible,master,I92af045da67f9e746fd6e4b94e56bb8aa72850c4,Remove `/%(tenant_id)s` suffix from v2.1 endpoints,MERGED,2019-05-31 17:45:47.000000000,2019-06-07 09:08:07.000000000,2019-06-07 09:08:07.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-05-31 17:45:47.000000000', 'files': ['ansible/roles/nova/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/82551a2bfb62049cf7503fd2a543697ff7f4b7d4', 'message': 'Remove `/%(tenant_id)s` suffix from v2.1 endpoints\n\nThe installation guide [1] uses endpoints ending at the /v2.1 suffix.\n\n[1] https://docs.openstack.org/nova/stein/install/controller-install.html\n\nChange-Id: I92af045da67f9e746fd6e4b94e56bb8aa72850c4\n'}]",0,662528,82551a2bfb62049cf7503fd2a543697ff7f4b7d4,8,3,1,15197,,,0,"Remove `/%(tenant_id)s` suffix from v2.1 endpoints

The installation guide [1] uses endpoints ending at the /v2.1 suffix.

[1] https://docs.openstack.org/nova/stein/install/controller-install.html

Change-Id: I92af045da67f9e746fd6e4b94e56bb8aa72850c4
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/28/662528/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/defaults/main.yml'],1,82551a2bfb62049cf7503fd2a543697ff7f4b7d4,nova-endpoint-cleanup,"nova_admin_endpoint: ""{{ admin_protocol }}://{{ nova_internal_fqdn }}:{{ nova_api_port }}/v2.1"" nova_internal_endpoint: ""{{ internal_protocol }}://{{ nova_internal_fqdn }}:{{ nova_api_port }}/v2.1"" nova_public_endpoint: ""{{ public_protocol }}://{{ nova_external_fqdn }}:{{ nova_api_port }}/v2.1""","nova_admin_endpoint: ""{{ admin_protocol }}://{{ nova_internal_fqdn }}:{{ nova_api_port }}/v2.1/%(tenant_id)s"" nova_internal_endpoint: ""{{ internal_protocol }}://{{ nova_internal_fqdn }}:{{ nova_api_port }}/v2.1/%(tenant_id)s"" nova_public_endpoint: ""{{ public_protocol }}://{{ nova_external_fqdn }}:{{ nova_api_port }}/v2.1/%(tenant_id)s""",3,3
openstack%2Fkolla-ansible~master~Id99fc99e1dff2b8f953b242abda2174cbbecd11d,openstack/kolla-ansible,master,Id99fc99e1dff2b8f953b242abda2174cbbecd11d,[cloudkitty] Remove unused option from configuration file template,MERGED,2019-06-04 08:42:02.000000000,2019-06-07 09:08:05.000000000,2019-06-07 09:08:05.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23060}]","[{'number': 1, 'created': '2019-06-04 08:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/477db3a43fe2d6a80c6add54e11c6bd6894b5f68', 'message': '[cloudkitty] Update the configuration file template\n\nThe unused ""services"" option has been removed. Section names in the deprecated\nformat have been renamed.\n\nChange-Id: Id99fc99e1dff2b8f953b242abda2174cbbecd11d\n'}, {'number': 2, 'created': '2019-06-04 09:47:49.000000000', 'files': ['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/288b9e06f4d4a9b768a7ece8a964d2a2d776e772', 'message': '[cloudkitty] Remove unused option from configuration file template\n\nThe unused ""services"" option has been removed from the [collect] section.\n\nChange-Id: Id99fc99e1dff2b8f953b242abda2174cbbecd11d\n'}]",0,662972,288b9e06f4d4a9b768a7ece8a964d2a2d776e772,10,4,2,23060,,,0,"[cloudkitty] Remove unused option from configuration file template

The unused ""services"" option has been removed from the [collect] section.

Change-Id: Id99fc99e1dff2b8f953b242abda2174cbbecd11d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/662972/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2'],1,477db3a43fe2d6a80c6add54e11c6bd6894b5f68,update-cloudkitty-conf,[fetcher_keystone][collector_gnocchi],"services = compute,image{% if enable_cinder | bool %},volume{% endif %},network.bw.out,network.bw.in,network.floating[keystone_fetcher][gnocchi_collector]",2,3
openstack%2Freleases~master~I9ac83bdcd5729985c3682594d54052b1861b6b3f,openstack/releases,master,I9ac83bdcd5729985c3682594d54052b1861b6b3f,Drop traits and resource-classes train placeholders,MERGED,2019-06-06 18:13:53.000000000,2019-06-07 09:03:55.000000000,2019-06-07 03:18:29.000000000,"[{'_account_id': 11564}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 18:13:53.000000000', 'files': ['deliverables/train/os-traits.yaml', 'deliverables/train/os-resource-classes.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d7f0d60e9fa31dd4af5fff006714257cc7af486c', 'message': 'Drop traits and resource-classes train placeholders\n\nThese deliverables have moved to an independent release model starting\nin train.\n\nChange-Id: I9ac83bdcd5729985c3682594d54052b1861b6b3f\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,663738,d7f0d60e9fa31dd4af5fff006714257cc7af486c,8,4,1,11904,,,0,"Drop traits and resource-classes train placeholders

These deliverables have moved to an independent release model starting
in train.

Change-Id: I9ac83bdcd5729985c3682594d54052b1861b6b3f
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/663738/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/os-traits.yaml', 'deliverables/train/os-resource-classes.yaml']",2,d7f0d60e9fa31dd4af5fff006714257cc7af486c,indepenedence,,--- launchpad: nova team: placement type: library release-model: cycle-with-intermediary include-pypi-link: yes repository-settings: openstack/os-resource-classes: {} ,0,16
openstack%2Fkayobe~master~If6b637a0fac58ac7564c051e15b86a483b040a34,openstack/kayobe,master,If6b637a0fac58ac7564c051e15b86a483b040a34,Docs: improve package update admin docs,MERGED,2019-06-06 18:23:54.000000000,2019-06-07 09:02:59.000000000,2019-06-07 09:02:59.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 18:23:54.000000000', 'files': ['doc/source/administration/seed.rst', 'doc/source/administration/overcloud.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e884faab61e6f062153dd207f63b768d74f2d779', 'message': 'Docs: improve package update admin docs\n\nAdd information on updating package repos and rebooting after a kernel\nupdate.\n\nChange-Id: If6b637a0fac58ac7564c051e15b86a483b040a34\n'}]",0,663741,e884faab61e6f062153dd207f63b768d74f2d779,7,3,1,14826,,,0,"Docs: improve package update admin docs

Add information on updating package repos and rebooting after a kernel
update.

Change-Id: If6b637a0fac58ac7564c051e15b86a483b040a34
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/41/663741/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/administration/seed.rst', 'doc/source/administration/overcloud.rst']",2,e884faab61e6f062153dd207f63b768d74f2d779,package-update-docs,"It is possible to update packages on the overcloud hosts. Package Repositories -------------------- If using custom package repositories, it may be necessary to update these prior to running a package update. To do this, update the configuration in ``${KAYOBE_CONFIG_PATH}/yum.yml`` and run the following command:: (kayobe) $ kayobe overcloud host configure --tags yum --kolla-tags none Package Update -------------- To update one or more packages::Kernel Updates -------------- If the kernel has been updated, you will probably want to reboot the hosts to boot into the new kernel. This can be done using a command such as the following:: (kayobe) $ kayobe overcloud host command run --command ""shutdown -r"" --become It is normally best to apply this to control plane hosts in batches to avoid clustered services from losing quorum. This can be achieved using the ``--limit`` argument, and ensuring services are fully up after rebooting before proceeding with the next batch. ",It is possible to update packages on the overcloud hosts. To update one or more packages::,53,4
openstack%2Fpuppet-neutron~master~I55df97e7fe9860fd58a6fcb396452657498fc218,openstack/puppet-neutron,master,I55df97e7fe9860fd58a6fcb396452657498fc218,Ensure we have the /etc/neutron/kill_scripts directory,ABANDONED,2019-06-05 11:06:34.000000000,2019-06-07 09:01:41.000000000,,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 11975}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-05 11:06:34.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f42c619805a790066c39cd3eb0a2ba2c60da51b6', 'message': 'Ensure we have the /etc/neutron/kill_scripts directory\n\nA new feature was recently added to neutron in order to use kill scripts\ninstead of the plain, hard-coded ""kill"" when neutron wants to stop an\nagent.\n\nChange-Id: I55df97e7fe9860fd58a6fcb396452657498fc218\n'}]",2,663299,f42c619805a790066c39cd3eb0a2ba2c60da51b6,16,9,1,28223,,,0,"Ensure we have the /etc/neutron/kill_scripts directory

A new feature was recently added to neutron in order to use kill scripts
instead of the plain, hard-coded ""kill"" when neutron wants to stop an
agent.

Change-Id: I55df97e7fe9860fd58a6fcb396452657498fc218
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/99/663299/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,f42c619805a790066c39cd3eb0a2ba2c60da51b6,neutron/kill_scripts," $kill_script_location = '/etc/neutron/kill_scripts', file { $kill_script_location: ensure => directory, group => root, mode => 0755, owner => root, } ",,8,0
openstack%2Ftripleo-validations~master~I8175fa4f70e4d92219972eed8818112a3ab328ed,openstack/tripleo-validations,master,I8175fa4f70e4d92219972eed8818112a3ab328ed,Sync Sphinx requirement,MERGED,2019-06-04 03:00:47.000000000,2019-06-07 09:00:10.000000000,2019-06-05 19:19:31.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-06-04 03:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/62cbeb63b565a3798d4cdbfaf9adef280008c2f2', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I8175fa4f70e4d92219972eed8818112a3ab328ed\nCloses-Bug: #Closes-Bug: #1831511\n'}, {'number': 2, 'created': '2019-06-04 03:02:17.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/879818abaedeef93f5c4ef0d6ca390d94404170e', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I8175fa4f70e4d92219972eed8818112a3ab328ed\nCloses-Bug: #1831511\n'}]",0,662915,879818abaedeef93f5c4ef0d6ca390d94404170e,11,4,2,30356,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I8175fa4f70e4d92219972eed8818112a3ab328ed
Closes-Bug: #1831511
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/15/662915/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,62cbeb63b565a3798d4cdbfaf9adef280008c2f2,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fmagnum~master~Iaca028f36a387166691e036ed6d74fd0841d6f3b,openstack/magnum,master,Iaca028f36a387166691e036ed6d74fd0841d6f3b,WIP: k8s_fedora_atomic minion upgrade,ABANDONED,2017-10-25 08:57:23.000000000,2019-06-07 08:58:44.000000000,,"[{'_account_id': 136}, {'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28411}]","[{'number': 1, 'created': '2017-10-25 08:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/bcd9115ac34c8deeb8f62227d328c275f8cd269c', 'message': 'k8s_atomic: Add upgrade node functionallity\n\nadd:\n* master/minion kube_tag\n* master/minion image\n* update policy\n* software deployment for upgrade\n\nImplements: blueprint cluster-upgrades\nChange-Id: Iaca028f36a387166691e036ed6d74fd0841d6f3b\n'}, {'number': 2, 'created': '2018-08-21 22:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ca90f26f3093f54c6070b5835b1956e734849e1e', 'message': 'k8s_atomic: Add upgrade node functionallity\n\nadd:\n* master/minion kube_tag\n* master/minion image\n* update policy\n* software deployment for upgrade\n\nstory: 2002210\nChange-Id: Iaca028f36a387166691e036ed6d74fd0841d6f3b\n'}, {'number': 3, 'created': '2019-02-28 16:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/63caa751220885f25893fce1d56952858c3bda81', 'message': 'WIP: k8s_fedora_atomic minion upgrade\n\nChange-Id: Iaca028f36a387166691e036ed6d74fd0841d6f3b\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 4, 'created': '2019-03-26 16:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7d6124df9a5551aa7411ab6941797c1914c99bac', 'message': 'WIP: k8s_fedora_atomic minion upgrade\n\nChange-Id: Iaca028f36a387166691e036ed6d74fd0841d6f3b\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 5, 'created': '2019-04-09 19:52:04.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/make-cert-client.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/add-proxy.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-kube-os-config.sh', 'magnum/drivers/common/templates/kubernetes/fragments/start-container-agent.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/bd13da1ab23d74f5f1f738c9d10eba6a7f054fb0', 'message': 'WIP: k8s_fedora_atomic minion upgrade\n\nChange-Id: Iaca028f36a387166691e036ed6d74fd0841d6f3b\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",22,514960,bd13da1ab23d74f5f1f738c9d10eba6a7f054fb0,30,5,5,20498,,,0,"WIP: k8s_fedora_atomic minion upgrade

Change-Id: Iaca028f36a387166691e036ed6d74fd0841d6f3b
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/60/514960/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh']",4,bcd9115ac34c8deeb8f62227d328c275f8cd269c,story/2002210-30168,"#!/bin/bash -x uprgade_bin_file=/srv/magnum/bin/upgrade [ -f ${uprgade_bin_file} ] || { echo ""Writing File: $uprgade_bin_file"" mkdir -p $(dirname ${uprgade_bin_file}) cat << EOF > ${uprgade_bin_file} #!/bin/bash -x systemctl stop kubelet systemctl stop kube-proxy atomic uninstall kubelet atomic uninstall kube-proxy atomic pull --storage ostree docker.io/openstackmagnum/kubernetes-kubelet:${kube_tag_input} atomic pull --storage ostree docker.io/openstackmagnum/kubernetes-proxy:${kube_tag_input} atomic install --storage ostree --system --system-package=no --name=kubelet docker.io/openstackmagnum/kubernetes-kubelet:${kube_tag_input} atomic install --storage ostree --system --system-package=no --name=kube-proxy docker.io/openstackmagnum/kubernetes-proxy:${kube_tag_input} systemctl start kubelet systemctl start kube-proxy EOF chown root:root ${uprgade_bin_file} chmod 0755 ${uprgade_bin_file} } KUBE_UPGRADE_SERVICE=/etc/systemd/system/kube-upgrade.service [ -f ${KUBE_UPGRADE_SERVICE} ] || { echo ""Writing File: $KUBE_UPGRADE_SERVICE"" mkdir -p $(dirname ${KUBE_UPGRADE_SERVICE}) cat << EOF > ${KUBE_UPGRADE_SERVICE} [Unit] Description=Kubernetes Worker Uprgade service [Service] Type=oneshot Environment=HOME=/root ExecStart=${uprgade_bin_file} [Install] WantedBy=multi-user.target EOF } chown root:root ${KUBE_UPGRADE_SERVICE} chmod 0644 ${KUBE_UPGRADE_SERVICE} systemctl enable kube-upgrade.service systemctl start kube-upgrade.service ",,100,6
openstack%2Ftempest-stress~master~I332134edbdcfa442c6de965b27f50621ce6f4956,openstack/tempest-stress,master,I332134edbdcfa442c6de965b27f50621ce6f4956,Dropping the py35 testing,MERGED,2019-04-22 04:02:34.000000000,2019-06-07 08:56:51.000000000,2019-06-07 08:56:51.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-22 04:02:34.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/0ec9920de74f6c5d13fbd4893fbc62aa0d61de7f', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I332134edbdcfa442c6de965b27f50621ce6f4956\n'}]",2,654295,0ec9920de74f6c5d13fbd4893fbc62aa0d61de7f,9,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I332134edbdcfa442c6de965b27f50621ce6f4956
",git fetch https://review.opendev.org/openstack/tempest-stress refs/changes/95/654295/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,0ec9920de74f6c5d13fbd4893fbc62aa0d61de7f,dropping-py35-testing,"envlist = py36,py37,py27,pypy,pep8","envlist = py35,py27,py36,py37,pypy,pep8",2,3
openstack%2Fdevstack-tools~master~I25b69bcc166dc72cb25508d9dbb7e2e0af644b66,openstack/devstack-tools,master,I25b69bcc166dc72cb25508d9dbb7e2e0af644b66,Dropping the py35 testing,MERGED,2019-04-22 03:37:06.000000000,2019-06-07 08:55:28.000000000,2019-06-07 08:55:28.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-22 03:37:06.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/873311cd1c74e62b2db41d393ae48723b34c8ba0', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I25b69bcc166dc72cb25508d9dbb7e2e0af644b66\n'}]",0,654286,873311cd1c74e62b2db41d393ae48723b34c8ba0,7,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I25b69bcc166dc72cb25508d9dbb7e2e0af644b66
",git fetch https://review.opendev.org/openstack/devstack-tools refs/changes/86/654286/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,873311cd1c74e62b2db41d393ae48723b34c8ba0,dropping-py35-testing,"envlist = py36,pep8","envlist = py35,pep8",2,3
openstack%2Fkolla-ansible~master~If2f3b7c18de2e6c8d9bac131a16c28c2eeb348f2,openstack/kolla-ansible,master,If2f3b7c18de2e6c8d9bac131a16c28c2eeb348f2,Update contributor guide,MERGED,2019-05-21 15:57:11.000000000,2019-06-07 08:53:35.000000000,2019-06-07 08:53:35.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-05-21 15:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/78260361f7a0ae50574edccaa6f9446dad41012e', 'message': 'Update contributor guide\n\n... or ""what I wish existed when I first became PTL""\n\nSome general improvements to the contributor guide, plus new sections\nfor PTL duties and release management.\n\nChange-Id: If2f3b7c18de2e6c8d9bac131a16c28c2eeb348f2\n'}, {'number': 2, 'created': '2019-06-06 08:59:25.000000000', 'files': ['doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/CONTRIBUTING.rst', 'doc/source/contributor/ptl-guide.rst', 'doc/source/contributor/running-tests.rst', 'doc/source/contributor/release-management.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/68796d79fa52e1fadb35e987a80b263c6ff3a5dd', 'message': 'Update contributor guide\n\n... or ""what I wish existed when I first became PTL""\n\nSome general improvements to the contributor guide, plus new sections\nfor PTL duties and release management.\n\nChange-Id: If2f3b7c18de2e6c8d9bac131a16c28c2eeb348f2\n'}]",13,660442,68796d79fa52e1fadb35e987a80b263c6ff3a5dd,24,9,2,14826,,,0,"Update contributor guide

... or ""what I wish existed when I first became PTL""

Some general improvements to the contributor guide, plus new sections
for PTL duties and release management.

Change-Id: If2f3b7c18de2e6c8d9bac131a16c28c2eeb348f2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/660442/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/contributor/index.rst', 'ansible/group_vars/all.yml', 'doc/source/contributor/CONTRIBUTING.rst', 'doc/source/contributor/ptl-guide.rst', 'doc/source/contributor/running-tests.rst', 'doc/source/contributor/release-management.rst']",7,78260361f7a0ae50574edccaa6f9446dad41012e,contributor-guide,================== Release Management ================== Release management for Kolla Ansible is very much linked to that of Kolla. See `Kolla release management <https://docs.openstack.org/kolla/latest/contributor/release-management.html>`__. ,,76,18
openstack%2Fkolla-ansible~stable%2Fstein~I49588f9ceef60472428d835b95d26a36eaf2b47e,openstack/kolla-ansible,stable/stein,I49588f9ceef60472428d835b95d26a36eaf2b47e,there is no easy_install in Debian 'buster',MERGED,2019-06-03 11:07:38.000000000,2019-06-07 08:53:34.000000000,2019-06-07 08:53:34.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-06-03 11:07:38.000000000', 'files': ['ansible/roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ba976005e9642726d2e0870e063878be939c5a38', 'message': ""there is no easy_install in Debian 'buster'\n\nChange-Id: I49588f9ceef60472428d835b95d26a36eaf2b47e\n(cherry picked from commit 6cf60d23854122f5c1eeb7221ad69a1210260039)\n""}]",0,662733,ba976005e9642726d2e0870e063878be939c5a38,11,3,1,14826,,,0,"there is no easy_install in Debian 'buster'

Change-Id: I49588f9ceef60472428d835b95d26a36eaf2b47e
(cherry picked from commit 6cf60d23854122f5c1eeb7221ad69a1210260039)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/662733/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/baremetal/defaults/main.yml'],1,ba976005e9642726d2e0870e063878be939c5a38,," {{ not (ansible_distribution == 'Ubuntu' and ansible_distribution_major_version is version(18, 'ge')) and not (ansible_distribution == 'Debian' and ansible_distribution_major_version is version(10, 'ge')) }}"," {{ ansible_distribution != 'Ubuntu' or ansible_distribution_major_version is version(18, 'lt') }}",5,2
openstack%2Fkolla-ansible~stable%2Fstein~I48d3f4c5f7c04b1ab41b3bad2a6c19e1e9a218fd,openstack/kolla-ansible,stable/stein,I48d3f4c5f7c04b1ab41b3bad2a6c19e1e9a218fd,Fix the deploy guide build failed,MERGED,2019-06-06 10:39:55.000000000,2019-06-07 08:53:33.000000000,2019-06-07 08:53:33.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-06-06 10:39:55.000000000', 'files': ['doc/source/user/quickstart.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'deploy-guide/source/conf.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/261de9e33fd02b648d8fb558e4ca65b44bde1122', 'message': 'Fix the deploy guide build failed\n\nDepends-On: https://review.opendev.org/662209\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1830586\nChange-Id: I48d3f4c5f7c04b1ab41b3bad2a6c19e1e9a218fd\n'}]",0,663593,261de9e33fd02b648d8fb558e4ca65b44bde1122,8,4,1,14826,,,0,"Fix the deploy guide build failed

Depends-On: https://review.opendev.org/662209
Co-authored-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1830586
Change-Id: I48d3f4c5f7c04b1ab41b3bad2a6c19e1e9a218fd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/663593/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/quickstart.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'deploy-guide/source/conf.py']",4,261de9e33fd02b648d8fb558e4ca65b44bde1122,bug/1830586-stable/stein,"extensions = [ 'openstackdocstheme', ]# html_theme_path = [openstackdocstheme.get_html_theme_path()] # -- Options for openstackdocstheme ------------------------------------------- openstack_projects = [ 'kolla-ansible', ]", import openstackdocstheme # extensions =html_theme_path = [openstackdocstheme.get_html_theme_path()],20,9
openstack%2Fkolla-ansible~stable%2Fstein~I931772ca4c63757769467a57c80dc0726a11167a,openstack/kolla-ansible,stable/stein,I931772ca4c63757769467a57c80dc0726a11167a,Test Ceph upgrade in CI,MERGED,2019-06-06 09:38:27.000000000,2019-06-07 08:53:32.000000000,2019-06-07 08:53:32.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-06-06 09:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d12a17797ce7ef360a45cb64ec2571bcd88a84ff', 'message': 'Test Ceph upgrade in CI\n\nAdd CI jobs for testing an upgrade of a multinode system with Ceph\nenabled. As for the existing upgrade job, we upgrade from the previous\nrelease to the current release.\n\nChange-Id: I931772ca4c63757769467a57c80dc0726a11167a\nDepends-On: https://review.opendev.org/658163\n(cherry picked from commit 78ee0287a7197aef35f59d06d64c086279ca66ec)\n'}, {'number': 2, 'created': '2019-06-06 09:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cf71706d6139e8c83784467ddeef624926c78095', 'message': 'Test Ceph upgrade in CI\n\nAdd CI jobs for testing an upgrade of a multinode system with Ceph\nenabled. As for the existing upgrade job, we upgrade from the previous\nrelease to the current release.\n\nChange-Id: I931772ca4c63757769467a57c80dc0726a11167a\nDepends-On: https://review.opendev.org/658162\n(cherry picked from commit 78ee0287a7197aef35f59d06d64c086279ca66ec)\n'}, {'number': 3, 'created': '2019-06-06 12:17:53.000000000', 'files': ['tests/test-openstack.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bd450bda657e6e4b793b9521f44f1f805f3953c5', 'message': 'Test Ceph upgrade in CI\n\nAdd CI jobs for testing an upgrade of a multinode system with Ceph\nenabled. As for the existing upgrade job, we upgrade from the previous\nrelease to the current release.\n\nChange-Id: I931772ca4c63757769467a57c80dc0726a11167a\nDepends-On: https://review.opendev.org/658162\n(cherry picked from commit 78ee0287a7197aef35f59d06d64c086279ca66ec)\n'}]",0,663565,bd450bda657e6e4b793b9521f44f1f805f3953c5,19,5,3,14826,,,0,"Test Ceph upgrade in CI

Add CI jobs for testing an upgrade of a multinode system with Ceph
enabled. As for the existing upgrade job, we upgrade from the previous
release to the current release.

Change-Id: I931772ca4c63757769467a57c80dc0726a11167a
Depends-On: https://review.opendev.org/658162
(cherry picked from commit 78ee0287a7197aef35f59d06d64c086279ca66ec)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/663565/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-openstack.sh', 'tests/run.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",4,d12a17797ce7ef360a45cb64ec2571bcd88a84ff,, name: kolla-ansible-ubuntu-source-upgrade-ceph parent: kolla-ansible-upgrade-base nodeset: kolla-ansible-bionic-multi timeout: 9000 voting: false vars: base_distro: ubuntu install_type: source scenario: upgrade-ceph host-vars: primary: ceph_osd_storetype: filestore secondary1: ceph_osd_storetype: bluestore secondary2: ceph_osd_storetype: bluestore - job: name: kolla-ansible-centos-source-upgrade-ceph parent: kolla-ansible-upgrade-base nodeset: kolla-ansible-centos-multi timeout: 9000 voting: false vars: base_distro: centos install_type: source scenario: upgrade-ceph host-vars: primary: ceph_osd_storetype: filestore secondary1: ceph_osd_storetype: bluestore secondary2: ceph_osd_storetype: bluestore - job:,,60,9
openstack%2Ftripleo-validations~master~I643552d2fd91b1c986584aa72bcbcb4e9ab7a7bf,openstack/tripleo-validations,master,I643552d2fd91b1c986584aa72bcbcb4e9ab7a7bf,Fix validations-specific Ansible output callback,MERGED,2019-05-24 13:34:49.000000000,2019-06-07 08:51:22.000000000,2019-06-06 22:19:46.000000000,"[{'_account_id': 11491}, {'_account_id': 11589}, {'_account_id': 14250}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-05-24 13:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d32966d3138593a3ee277bf77b822fb3d782c849', 'message': 'Fix validations-specific Ansible output callback\n\nSince newer Ansible release, the tasks results data structure have\nsomewhat changed.\n\nThis patch fixes the way we output debug, warning and failure messages\nwhen running the validations. It also brings some colors for this\ndifferent kind of message.\n\nChange-Id: I643552d2fd91b1c986584aa72bcbcb4e9ab7a7bf\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2019-05-27 12:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/af29c2a4875d54e1872a6b2aaf6611e77804b3e4', 'message': 'Fix validations-specific Ansible output callback\n\nSince newer Ansible release, the tasks results data structure have\nsomewhat changed.\n\nThis patch fixes the way we output debug, warning and failure messages\nwhen running the validations. It also brings some colors for this\ndifferent kind of message.\n\nChange-Id: I643552d2fd91b1c986584aa72bcbcb4e9ab7a7bf\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2019-06-04 12:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8b78b96ab4899b9adc01dcedf1f8d228884e32cf', 'message': 'Fix validations-specific Ansible output callback\n\nSince newer Ansible release, the tasks results data structure have\nsomewhat changed.\n\nThis patch fixes the way we output debug, warning and failure messages\nwhen running the validations. It also brings some colors for this\ndifferent kind of message.\n\nChange-Id: I643552d2fd91b1c986584aa72bcbcb4e9ab7a7bf\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2019-06-05 08:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/af4ba2fa067508f241bdc0b8d3b325de52f7831b', 'message': 'Fix validations-specific Ansible output callback\n\nSince newer Ansible release, the tasks results data structure have\nsomewhat changed.\n\nThis patch fixes the way we output debug, warning and failure messages\nwhen running the validations. It also brings some colors for this\ndifferent kind of message.\n\nChange-Id: I643552d2fd91b1c986584aa72bcbcb4e9ab7a7bf\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2019-06-05 10:26:48.000000000', 'files': ['callback_plugins/validation_output.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c18eadb78ab4085c199f5f80ea55f0aedb633001', 'message': 'Fix validations-specific Ansible output callback\n\nSince newer Ansible release, the tasks results data structure have\nsomewhat changed.\n\nThis patch fixes the way we output debug, warning and failure messages\nwhen running the validations. It also brings some colors for this\ndifferent kind of message.\n\nChange-Id: I643552d2fd91b1c986584aa72bcbcb4e9ab7a7bf\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",1,661291,c18eadb78ab4085c199f5f80ea55f0aedb633001,19,6,5,11491,,,0,"Fix validations-specific Ansible output callback

Since newer Ansible release, the tasks results data structure have
somewhat changed.

This patch fixes the way we output debug, warning and failure messages
when running the validations. It also brings some colors for this
different kind of message.

Change-Id: I643552d2fd91b1c986584aa72bcbcb4e9ab7a7bf
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/91/661291/3 && git format-patch -1 --stdout FETCH_HEAD,['callback_plugins/validation_output.py'],1,d32966d3138593a3ee277bf77b822fb3d782c849,tls-everywhere,"from ansible import constants as C def print_failure_message(self, host_name, task_name, results, abridged_result): '''Print a human-readable error info from Ansible result dictionary.''' def is_script(results): return ('rc' in results and 'invocation' in results and 'script' in results._task_fields['action'] and '_raw_params' in results._task_fields['args']) display_full_results = False if 'rc' in results and 'cmd' in results: command = results['cmd'] # The command can be either a list or a string. # Concat if it's a list: if type(command) == list: command = "" "".join(results['cmd']) message = ""Command `{}` exited with code: {}"".format( command, results['rc']) # There may be an optional message attached to the command. # Display it: if 'msg' in results: message = message + "": "" + results['msg'] elif is_script(results): script_name = results['invocation']['module_args']['_raw_params'] message = ""Script `{}` exited with code: {}"".format( script_name, results['rc']) elif 'msg' in results: message = results['msg'] else: message = ""Unknown error"" display_full_results = True self._display.display( FAILURE_TEMPLATE.format(task_name, host_name, message), color=C.COLOR_ERROR) stdout = results.get('module_stdout', results.get('stdout', '')) if stdout: print('stdout:') self._display.display(indent(stdout), color=C.COLOR_ERROR) stderr = results.get('module_stderr', results.get('stderr', '')) if stderr: print('stderr:') self._display.display(indent(stderr), color=C.COLOR_ERROR) if display_full_results: print( ""Could not get an error message. Here is the Ansible output:"") pprint.pprint(abridged_result, indent=4) warnings = results.get('warnings', []) if warnings: print(""Warnings:"") for warning in warnings: self._display.display(""* %s "" % warning, color=C.COLOR_WARN) print("""") task_fields = result._task_fields self._display.display(WARNING_TEMPLATE.format(task_name, host_name), color=C.COLOR_WARN) if 'debug' in task_fields['action']: output = """" if 'var' in task_fields['args']: variable = task_fields['args']['var'] value = results[variable] output = ""{}: {}"".format(variable, str(value)) elif 'msg' in task_fields['args']: output = ""Message: {}"".format( task_fields['args']['msg']) self._display.display(DEBUG_TEMPLATE.format(host_name, output), color=C.COLOR_OK) self.print_failure_message(host_name, task_name, item, item) self.print_failure_message(host_name, task_name, result_dict, abridged_result) self.print_failure_message(host_name, task_name, results, results) print(""+-----------------------------------------------+"") print(""| Failure! The validation failed for all hosts: |"") print(""+-----------------------------------------------+"") for failed_host in failed_hosts: self._display.display(""* %s"" % failed_host, color=C.COLOR_ERROR) else: print(""+-------------------------------------------+"") print(""| Failure! The validation failed for hosts: |"") print(""+-------------------------------------------+"") for failed_host in failed_hosts: self._display.display(""* %s"" % failed_host, color=C.COLOR_ERROR) print(""+---------------------------+"") print(""| ... and passed for hosts: |"") print(""+---------------------------+"") for host in [h for h in hosts if h not in failed_hosts]: self._display.display(""* %s"" % host, color=C.COLOR_OK) else: print(""+-----------------------------------------------+"") print(""| Success! The validation passed for all hosts: |"") print(""+-----------------------------------------------+"") for host in hosts: self._display.display(""* %s"" % host, color=C.COLOR_OK) else: print(""+--------------------------------------------------+"") print(""| Warning! The validation did not run on any host. |"") print(""+--------------------------------------------------+"")","def print_failure_message(host_name, task_name, results, abridged_result): '''Print a human-readable error info from Ansible result dictionary.''' def is_script(results): return ('rc' in results and 'invocation' in results and results['invocation'].get('module_name') == 'script' and '_raw_params' in results['invocation'].get('module_args', {})) display_full_results = False if 'rc' in results and 'cmd' in results: command = results['cmd'] # The command can be either a list or a string. Concat if it's a list: if type(command) == list: command = "" "".join(results['cmd']) message = ""Command `{}` exited with code: {}"".format( command, results['rc']) # There may be an optional message attached to the command. Display it: if 'msg' in results: message = message + "": "" + results['msg'] elif is_script(results): script_name = results['invocation']['module_args']['_raw_params'] message = ""Script `{}` exited with code: {}"".format( script_name, results['rc']) elif 'msg' in results: message = results['msg'] else: message = ""Unknown error"" display_full_results = True print(FAILURE_TEMPLATE.format(task_name, host_name, message)) stdout = results.get('module_stdout', results.get('stdout', '')) if stdout: print('stdout:') print(indent(stdout)) stderr = results.get('module_stderr', results.get('stderr', '')) if stderr: print('stderr:') print(indent(stderr)) if display_full_results: print(""Could not get an error message. Here is the Ansible output:"") pprint.pprint(abridged_result, indent=4) warnings = results.get('warnings', []) if warnings: print(""Warnings:"") for warning in warnings: print(""*"", warning) print("""") print(WARNING_TEMPLATE.format(task_name, host_name)) # Print the result of debug module if (('invocation' in results) and ('module_name' in results['invocation'])): if ((results['invocation']['module_name'] == 'debug') and ('module_args' in results['invocation'])): output = """" # Variable and its value if 'var' in results['invocation']['module_args']: variable = results['invocation']['module_args']['var'] value = results[variable] output = ""{}: {}"".format(variable, str(value)) # Debug message elif 'msg' in results['invocation']['module_args']: output = ""Message: {}"".format( results['invocation']['module_args']['msg']) print(DEBUG_TEMPLATE.format(host_name, output)) print_failure_message(host_name, task_name, item, item) print_failure_message(host_name, task_name, result_dict, abridged_result) print_failure_message(host_name, task_name, results, results) print(""Failure! The validation failed for all hosts:"") for failed_host in failed_hosts: print(""*"", failed_host) else: print(""Failure! The validation failed for hosts:"") for failed_host in failed_hosts: print(""*"", failed_host) print(""and passed for hosts:"") for host in [h for h in hosts if h not in failed_hosts]: print(""*"", host) else: print(""Success! The validation passed for all hosts:"") for host in hosts: print(""*"", host) else: print(""Warning! The validation did not run on any host."")",99,82
openstack%2Fmistral~master~Idd4187f395aca9e359252f98cb657037bd14a998,openstack/mistral,master,Idd4187f395aca9e359252f98cb657037bd14a998,WIP: add lightweight task execution cache,NEW,2019-06-07 06:26:31.000000000,2019-06-07 08:50:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-07 06:26:31.000000000', 'files': ['mistral/workflow/base.py', 'mistral/tests/unit/engine/test_action_heartbeat.py', 'mistral/engine/workflows.py', 'mistral/workflow/direct_workflow.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/5359c7c76dc2004769b48021729cef6485d62cb1', 'message': ""WIP: add lightweight task execution cache\n\nIt's possible to store ids, names and states of completed task\nexecutions in local cache to prevent them from being fetched from\nthe database multiple times.\n\nChange-Id: Idd4187f395aca9e359252f98cb657037bd14a998\n""}]",0,663841,5359c7c76dc2004769b48021729cef6485d62cb1,2,1,1,11391,,,0,"WIP: add lightweight task execution cache

It's possible to store ids, names and states of completed task
executions in local cache to prevent them from being fetched from
the database multiple times.

Change-Id: Idd4187f395aca9e359252f98cb657037bd14a998
",git fetch https://review.opendev.org/openstack/mistral refs/changes/41/663841/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/engine/test_action_heartbeat.py', 'mistral/workflow/base.py', 'mistral/engine/workflows.py', 'mistral/workflow/direct_workflow.py']",4,5359c7c76dc2004769b48021729cef6485d62cb1,task_executions_cache," t_execs_cache = self._get_task_executions_cache(names) t_execs_cache = self._get_task_executions_cache(all_joins) t_execs_cache = self._get_task_executions_cache(names) def _get_task_executions_cache(self, names): # we need to fetch only those names that are not in the cache tasks_to_fetch = {name for name in names if name not in self.task_execution_cache} t_execs = { t_ex.name: t_ex for t_ex in self._get_task_executions( fields=('id', 'name', 'state'), name={'in': tasks_to_fetch} ) } if tasks_to_fetch else {} # update cache with new completed tasks for t_ex in t_execs.values(): if states.is_completed(t_ex.state): self.task_execution_cache[t_ex.name] = t_ex # get the remaining tasks from cache for name in (names - tasks_to_fetch): t_execs[name] = self.task_execution_cache[name] return t_execs "," t_execs_cache = { t_ex.name: t_ex for t_ex in self._get_task_executions( fields=('id', 'name', 'state'), name={'in': names} ) } if names else {} # don't perform a db request if 'names' are empty t_execs_cache = { t_ex.name: t_ex for t_ex in self._get_task_executions( fields=('id', 'name'), name={'in': all_joins} ) } if all_joins else {} t_execs_cache = { t_ex.name: t_ex for t_ex in self._get_task_executions( fields=('id', 'name', 'state'), name={'in': names} ) } if names else {} # don't perform a db request if 'names' are empty",57,26
openstack%2Fkolla-ansible~stable%2Frocky~Ie63a6ce6e66fb5b32e37ba2185a513aa0b05a712,openstack/kolla-ansible,stable/rocky,Ie63a6ce6e66fb5b32e37ba2185a513aa0b05a712,CI Test: Support being source of a Ceph upgrade,MERGED,2019-05-09 17:45:53.000000000,2019-06-07 08:46:04.000000000,2019-06-07 08:46:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-05-09 17:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/131756b976b918972f9151592fe09b210136117a', 'message': 'CI Test: Support being source of a Ceph upgrade\n\nAllow Rocky release to be the source of a Ceph upgrade test.\n\nChange-Id: Ie63a6ce6e66fb5b32e37ba2185a513aa0b05a712\n'}, {'number': 2, 'created': '2019-05-10 08:55:23.000000000', 'files': ['tests/run.yml', 'tests/templates/globals-default.j2', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2d4c3dec957103054abf58bec9fe635b768de74f', 'message': 'CI Test: Support being source of a Ceph upgrade\n\nAllow Rocky release to be the source of a Ceph upgrade test.\n\nChange-Id: Ie63a6ce6e66fb5b32e37ba2185a513aa0b05a712\n'}]",0,658162,2d4c3dec957103054abf58bec9fe635b768de74f,10,4,2,14826,,,0,"CI Test: Support being source of a Ceph upgrade

Allow Rocky release to be the source of a Ceph upgrade test.

Change-Id: Ie63a6ce6e66fb5b32e37ba2185a513aa0b05a712
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/62/658162/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'tests/templates/globals-default.j2', 'tools/setup_gate.sh']",3,131756b976b918972f9151592fe09b210136117a,test-ceph-upgrade-rocky," if [[ $ACTION =~ ""ceph"" ]]; then"," if [[ $ACTION == ""ceph"" ]]; then",6,4
openstack%2Frequirements~master~Ia33f82cb6561fd8e0ffad7a51c28c3ac922d0c97,openstack/requirements,master,Ia33f82cb6561fd8e0ffad7a51c28c3ac922d0c97,Add responses library for tacker test cases,ABANDONED,2019-05-31 09:37:15.000000000,2019-06-07 08:35:56.000000000,,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 29236}]","[{'number': 1, 'created': '2019-05-31 09:37:15.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/09aa3afb89708728e2f26db157a9971625d2019e', 'message': 'Add responses library for tacker test cases\n\nThis patch adds the responses library for writing test cases in tacker\nto mock the responses of python-heatclient.\n\nactive: yes\ngood code: seems good\npy3: yes\nlicense compat: yes\npackaged: no\ncovered by other libs: no\nneeded by: tacker\nmanaged by openstack: no\n\nChange-Id: Ia33f82cb6561fd8e0ffad7a51c28c3ac922d0c97\n'}]",2,662420,09aa3afb89708728e2f26db157a9971625d2019e,6,4,1,29236,,,0,"Add responses library for tacker test cases

This patch adds the responses library for writing test cases in tacker
to mock the responses of python-heatclient.

active: yes
good code: seems good
py3: yes
license compat: yes
packaged: no
covered by other libs: no
needed by: tacker
managed by openstack: no

Change-Id: Ia33f82cb6561fd8e0ffad7a51c28c3ac922d0c97
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/662420/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,09aa3afb89708728e2f26db157a9971625d2019e,add_support_for_responses,responses===0.10.5,,2,0
openstack%2Fopenstack-health~master~Iad34d786d182729cc9d7acd5fc51fbe8624140c3,openstack/openstack-health,master,Iad34d786d182729cc9d7acd5fc51fbe8624140c3,Modify README.rst and tox.ini,MERGED,2019-05-13 01:57:45.000000000,2019-06-07 08:31:39.000000000,2019-06-07 08:31:39.000000000,"[{'_account_id': 5689}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28706}]","[{'number': 1, 'created': '2019-05-13 01:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/5e8ea0d483dc83bb1d337d2fbedf0a17b08341a4', 'message': 'Modify README.rst\n\nReplace openstack.org URLs with opendev.org URLs\n\nChange-Id: Iad34d786d182729cc9d7acd5fc51fbe8624140c3\n'}, {'number': 2, 'created': '2019-05-14 05:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/02161c637d04dca9e3909c20dc65f2de51fb029f', 'message': 'Modify README.rst and tox.ini\nReplace openstack.org URLs with opendev.org URLs\n\nChange-Id: Iad34d786d182729cc9d7acd5fc51fbe8624140c3\n'}, {'number': 3, 'created': '2019-05-14 06:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/e6c36412344486e200e776616862a3a012075b80', 'message': 'Modify README.rst and tox.ini\nReplace openstack.org URLs with opendev.org URLs\n\nChange-Id: Iad34d786d182729cc9d7acd5fc51fbe8624140c3\n'}, {'number': 4, 'created': '2019-06-07 07:56:32.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/c42c0099750104983319e883662dfb4cc45dc340', 'message': 'Modify README.rst and tox.ini\n\nReplace openstack.org URLs with opendev.org URLs\n\nChange-Id: Iad34d786d182729cc9d7acd5fc51fbe8624140c3\n'}]",1,658711,c42c0099750104983319e883662dfb4cc45dc340,20,4,4,30396,,,0,"Modify README.rst and tox.ini

Replace openstack.org URLs with opendev.org URLs

Change-Id: Iad34d786d182729cc9d7acd5fc51fbe8624140c3
",git fetch https://review.opendev.org/openstack/openstack-health refs/changes/11/658711/4 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,5e8ea0d483dc83bb1d337d2fbedf0a17b08341a4,,- Source: https://opendev.org/openstack/openstack-health/.. _elastic-recheck: https://opendev.org/opendev/elastic-recheck/,- Source: http://git.openstack.org/cgit/openstack/openstack-health.. _elastic-recheck: http://git.openstack.org/cgit/openstack-infra/elastic-recheck/,2,2
openstack%2Fkolla~master~Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4,openstack/kolla,master,Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4,Debian/Ubuntu: move to Python 3 for source images,MERGED,2019-03-11 08:05:53.000000000,2019-06-07 08:29:06.000000000,2019-06-07 08:29:06.000000000,"[{'_account_id': 13039}, {'_account_id': 14826}, {'_account_id': 14985}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-03-11 08:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/932e692d4b8b197360c511b172ea2d992035d57f', 'message': 'Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n'}, {'number': 2, 'created': '2019-03-11 16:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a44372280b163235373cdf8f35f6d8abd57af050', 'message': 'Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nDepends-On: I659dcca7cb7ed45ab5069a42836cfc1136f4d57b\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n'}, {'number': 3, 'created': '2019-03-12 08:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/54fe303bb18ad1d287227dbb7345f3cfa7783a9a', 'message': 'Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n'}, {'number': 4, 'created': '2019-03-12 14:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e35ef8b3bb3a215df875e3026dfc8928be5453c6', 'message': 'Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n'}, {'number': 5, 'created': '2019-03-12 17:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/732511449ca21827ee14b57672869abe1af41d24', 'message': 'Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n'}, {'number': 6, 'created': '2019-03-12 21:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/675214a16884739d4f7a4f069badcc2d566f997a', 'message': 'Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n'}, {'number': 7, 'created': '2019-03-13 09:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/74d310d7659c75d33db812923f282d9e72d68afc', 'message': 'Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n'}, {'number': 8, 'created': '2019-03-13 11:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4eb8b7caacf30c1312ff07f4421dd0198a35cbea', 'message': ""Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nNow the only images with Python 2 are ones where Ceph is involved as\n'ceph-common' package drags Py2 on both Debian and Ubuntu.\n\nBoth Ubuntu:18.04 and Debian:buster have 'docker.io' package so no need\nfor 'docker-ce' one in 'dind' image.\n\nAlso install 'docker' Python package from binary package in 'dind'\nbinary images.\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n""}, {'number': 9, 'created': '2019-03-13 17:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5246b970d3aa0d01f3cdbf3b7c33b04bd4480f99', 'message': ""Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nNow the only images with Python 2 are ones where Ceph is involved as\n'ceph-common' package drags Py2 on both Debian and Ubuntu. For such\nimages we install also Py3 versions of Ceph packages.\n\nBoth Ubuntu:18.04 and Debian:buster have 'docker.io' package so no need\nfor 'docker-ce' one in 'dind' image.\n\nAlso install 'docker' Python package from binary package in 'dind'\nbinary images.\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n""}, {'number': 10, 'created': '2019-03-13 22:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e2461ee9ab694a8af4780892a8594f6c188bd56d', 'message': ""Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nNow the only images with Python 2 are ones where Ceph is involved as\n'ceph-common' package drags Py2 on both Debian and Ubuntu. For such\nimages we install also Py3 versions of Ceph packages.\n\nBoth Ubuntu:18.04 and Debian:buster have 'docker.io' package so no need\nfor 'docker-ce' one in 'dind' image.\n\nAlso install 'docker' Python package from binary package in 'dind'\nbinary images.\n\nDepends-On: I5edc46c3b93f93bdb7fa97b08072a773b8296e02\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n""}, {'number': 11, 'created': '2019-03-15 15:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/20428f1d8a7d81085025f4a1860acd2fdc4aadb2', 'message': ""Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nNow the only images with Python 2 are ones where Ceph is involved as\n'ceph-common' package drags Py2 on both Debian and Ubuntu. For such\nimages we install also Py3 versions of Ceph packages.\n\nBoth Ubuntu:18.04 and Debian:buster have 'docker.io' package so no need\nfor 'docker-ce' one in 'dind' image.\n\nAlso install 'docker' Python package from binary package in 'dind'\nbinary images.\n\nDepends-On: I5edc46c3b93f93bdb7fa97b08072a773b8296e02\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n""}, {'number': 12, 'created': '2019-03-18 13:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7d89a5ef6f9cb05d779dd5ff9c8da604a121562b', 'message': ""Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nNow the only images with Python 2 are ones where Ceph is involved as\n'ceph-common' package drags Py2 on both Debian and Ubuntu. For such\nimages we install also Py3 versions of Ceph packages.\n\nBoth Ubuntu:18.04 and Debian:buster have 'docker.io' package so no need\nfor 'docker-ce' one in 'dind' image.\n\nAlso install 'docker' Python package from binary package in 'dind'\nbinary images.\n\nDepends-On: I5edc46c3b93f93bdb7fa97b08072a773b8296e02\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n""}, {'number': 13, 'created': '2019-03-20 08:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e8818d4a53e991f98f33d8938462fe807af56707', 'message': ""Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nNow the only images with Python 2 are ones where Ceph is involved as\n'ceph-common' package drags Py2 on both Debian and Ubuntu. For such\nimages we install also Py3 versions of Ceph packages.\n\nBoth Ubuntu:18.04 and Debian:buster have 'docker.io' package so no need\nfor 'docker-ce' one in 'dind' image.\n\nAlso install 'docker' Python package from binary package in 'dind'\nbinary images.\n\nDepends-On: I5edc46c3b93f93bdb7fa97b08072a773b8296e02\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n""}, {'number': 14, 'created': '2019-03-20 09:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b884145cd8a3ddb9e8793c1c1df1aad10de02b69', 'message': ""Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nNow the only images with Python 2 are ones where Ceph is involved as\n'ceph-common' package drags Py2 on both Debian and Ubuntu. For such\nimages we install also Py3 versions of Ceph packages.\n\nBoth Ubuntu:18.04 and Debian:buster have 'docker.io' package so no need\nfor 'docker-ce' one in 'dind' image.\n\nAlso install 'docker' Python package from binary package in 'dind'\nbinary images.\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n""}, {'number': 15, 'created': '2019-03-21 07:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4f7efe46b8c2fc5edf9aa9ef57f295b912b6fb5a', 'message': ""Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nNow the only images with Python 2 are ones where Ceph is involved as\n'ceph-common' package drags Py2 on both Debian and Ubuntu. For such\nimages we install also Py3 versions of Ceph packages.\n\nBoth Ubuntu:18.04 and Debian:buster have 'docker.io' package so no need\nfor 'docker-ce' one in 'dind' image.\n\nAlso install 'docker' Python package from binary package in 'dind'\nbinary images.\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n""}, {'number': 16, 'created': '2019-03-26 08:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fd1f3ca790946463710411fc9f471099f693497c', 'message': ""Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nNow the only images with Python 2 are ones where Ceph is involved as\n'ceph-common' package drags Py2 on both Debian and Ubuntu. For such\nimages we install also Py3 versions of Ceph packages.\n\nBoth Ubuntu:18.04 and Debian:buster have 'docker.io' package so no need\nfor 'docker-ce' one in 'dind' image.\n\nAlso install 'docker' Python package from binary package in 'dind'\nbinary images.\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n""}, {'number': 17, 'created': '2019-04-15 07:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c17b854f45c38802d50dce591ce45ccac7e2db0d', 'message': ""Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nNow the only images with Python 2 are ones where Ceph is involved as\n'ceph-common' package drags Py2 on both Debian and Ubuntu. For such\nimages we install also Py3 versions of Ceph packages.\n\nBoth Ubuntu:18.04 and Debian:buster have 'docker.io' package so no need\nfor 'docker-ce' one in 'dind' image.\n\nAlso install 'docker' Python package from binary package in 'dind'\nbinary images.\n\nImplements: blueprint debian-ubuntu-python3\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n""}, {'number': 18, 'created': '2019-04-15 07:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2dcb11604e9a8cae2051b48982420b08b391ec3a', 'message': ""Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nNow the only images with Python 2 are ones where Ceph is involved as\n'ceph-common' package drags Py2 on both Debian and Ubuntu. For such\nimages we install also Py3 versions of Ceph packages.\n\nBoth Ubuntu:18.04 and Debian:buster have 'docker.io' package so no need\nfor 'docker-ce' one in 'dind' image.\n\nAlso install 'docker' Python package from binary package in 'dind'\nbinary images.\n\nImplements: blueprint debian-ubuntu-python3\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n""}, {'number': 19, 'created': '2019-05-06 15:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6569951aae758b9da1793f41033c88050f39da5f', 'message': ""Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nNow the only images with Python 2 are ones where Ceph is involved as\n'ceph-common' package drags Py2 on both Debian and Ubuntu. For such\nimages we install also Py3 versions of Ceph packages.\n\nBoth Ubuntu:18.04 and Debian:buster have 'docker.io' package so no need\nfor 'docker-ce' one in 'dind' image.\n\nAlso install 'docker' Python package from binary package in 'dind'\nbinary images.\n\nImplements: blueprint debian-ubuntu-python3\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n""}, {'number': 20, 'created': '2019-05-07 12:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/423dedae4a5ff5b21a2fc04329dcfa1f803c9640', 'message': ""Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nNow the only images with Python 2 are ones where Ceph is involved as\n'ceph-common' package drags Py2 on both Debian and Ubuntu. For such\nimages we install also Py3 versions of Ceph packages.\n\nBoth Ubuntu:18.04 and Debian:buster have 'docker.io' package so no need\nfor 'docker-ce' one in 'dind' image.\n\nAlso install 'docker' Python package from binary package in 'dind'\nbinary images.\n\n** NOTE **\n*\n* workaround for https://review.opendev.org/#/c/657578/ applied\n* - kolla/common/config.py part has networking-infoblox removed\n*\n\nImplements: blueprint debian-ubuntu-python3\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n""}, {'number': 21, 'created': '2019-05-08 12:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/77134c3ce7cfcdd06ae05c0079f41da5b17e8a21', 'message': ""Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nNow the only images with Python 2 are ones where Ceph is involved as\n'ceph-common' package drags Py2 on both Debian and Ubuntu. For such\nimages we install also Py3 versions of Ceph packages.\n\nBoth Ubuntu:18.04 and Debian:buster have 'docker.io' package so no need\nfor 'docker-ce' one in 'dind' image.\n\nAlso install 'docker' Python package from binary package in 'dind'\nbinary images.\n\n** NOTE **\n*\n* workaround for https://review.opendev.org/#/c/657578/ applied\n* - kolla/common/config.py part has networking-infoblox removed\n*\n\nImplements: blueprint debian-ubuntu-python3\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n""}, {'number': 22, 'created': '2019-05-09 12:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4aee7a8319d5d0968a2ce0901c6e9b27e839e03f', 'message': ""Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nNow the only images with Python 2 are ones where Ceph is involved as\n'ceph-common' package drags Py2 on both Debian and Ubuntu. For such\nimages we install also Py3 versions of Ceph packages.\n\nBoth Ubuntu:18.04 and Debian:buster have 'docker.io' package so no need\nfor 'docker-ce' one in 'dind' image.\n\nAlso install 'docker' Python package from binary package in 'dind'\nbinary images.\n\n** NOTE **\n*\n* workaround for https://review.opendev.org/#/c/657578/ applied\n* - kolla/common/config.py part has networking-infoblox removed\n*\n\nImplements: blueprint debian-ubuntu-python3\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n""}, {'number': 23, 'created': '2019-05-23 12:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1353d286a51fcc825b55193cc752dff941181453', 'message': ""Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nNow the only images with Python 2 are ones where Ceph is involved as\n'ceph-common' package drags Py2 on both Debian and Ubuntu. For such\nimages we install also Py3 versions of Ceph packages.\n\nBoth Ubuntu:18.04 and Debian:buster have 'docker.io' package so no need\nfor 'docker-ce' one in 'dind' image.\n\nAlso install 'docker' Python package from binary package in 'dind'\nbinary images.\n\n** NOTE **\n*\n* workaround for https://review.opendev.org/#/c/657578/ applied\n* - kolla/common/config.py part has networking-infoblox removed\n*\n\nImplements: blueprint debian-ubuntu-python3\n\nDepends-on: Icbd500e5b16deb0eafc0821a1c117794ddb8ae62\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n""}, {'number': 24, 'created': '2019-05-28 10:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6bd092abf8f8d5e1e054a34770d6d729b128556b', 'message': ""Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nNow the only images with Python 2 are ones where Ceph is involved as\n'ceph-common' package drags Py2 on both Debian and Ubuntu. For such\nimages we install also Py3 versions of Ceph packages.\n\nBoth Ubuntu:18.04 and Debian:buster have 'docker.io' package so no need\nfor 'docker-ce' one in 'dind' image.\n\nAlso install 'docker' Python package from binary package in 'dind'\nbinary images.\n\nRemoved neutron-server-plugin-networking-infoblox due to being not\nmaintained. Once https://review.opendev.org/#/c/657578/ get merged\nsomeone may revert that part.\n\nImplements: blueprint debian-ubuntu-python3\n\nDepends-on: Ie2a1077f7def0743f1403341985e2109aa490026\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n""}, {'number': 25, 'created': '2019-06-04 18:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d837073a873df7e0d8916fdc1991f7e58434ffa8', 'message': ""Debian/Ubuntu: move to Python 3 for binary/source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nNow the only images with Python 2 are ones where Ceph is involved as\n'ceph-common' package drags Py2 on both Debian and Ubuntu. For such\nimages we install also Py3 versions of Ceph packages.\n\nBoth Ubuntu:18.04 and Debian:buster have 'docker.io' package so no need\nfor 'docker-ce' one in 'dind' image.\n\nAlso install 'docker' Python package from binary package in 'dind'\nbinary images.\n\nRemoved neutron-server-plugin-networking-infoblox due to being not\nmaintained. Once https://review.opendev.org/#/c/657578/ get merged\nsomeone may revert that part.\n\nImplements: blueprint debian-ubuntu-python3\n\nDepends-on: Ie2a1077f7def0743f1403341985e2109aa490026\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n""}, {'number': 26, 'created': '2019-06-05 16:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4e46dc8ffd95014cac4b9f89f82692c09b4a2c33', 'message': ""Debian/Ubuntu: move to Python 3 for source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nNow the only images with Python 2 are ones where Ceph is involved as\n'ceph-common' package drags Py2 on both Debian and Ubuntu. For such\nimages we install also Py3 versions of Ceph packages.\n\nBoth Ubuntu:18.04 and Debian:buster have 'docker.io' package so no need\nfor 'docker-ce' one in 'dind' image.\n\nAlso install 'docker' Python package from binary package in 'dind'\nbinary images.\n\nRemoved neutron-server-plugin-networking-infoblox due to being not\nmaintained. Once https://review.opendev.org/#/c/657578/ get merged\nsomeone may revert that part.\n\nImplements: blueprint debian-ubuntu-python3\n\nDepends-on: Ie2a1077f7def0743f1403341985e2109aa490026\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n""}, {'number': 27, 'created': '2019-06-06 06:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/49edff03a35f2eba7f5f37f223f3af323df72d64', 'message': 'Debian/Ubuntu: move to Python 3 for source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nSome of images still contain Python 2. There are two reasons:\n\n- Ceph (ceph-common depends on Py2)\n- python3-ldappool on Ubuntu 18.04\n\nIn Ceph situation Py3 packages were added. For second one we can not do\nanything - Py2 dependency got dropped in Ubuntu 18.10 version.\n\nRemoved neutron-server-plugin-networking-infoblox due to being not\nmaintained. Once https://review.opendev.org/#/c/657578/ get merged\nsomeone may revert that part.\n\nImplements: blueprint debian-ubuntu-python3\n\nDepends-on: Ie2a1077f7def0743f1403341985e2109aa490026\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n'}, {'number': 28, 'created': '2019-06-06 10:59:23.000000000', 'files': ['docker/horizon/extend_start.sh', 'kolla/common/config.py', 'docker/vitrage/vitrage-base/Dockerfile.j2', 'docker/glance/glance-base/Dockerfile.j2', 'docker/horizon/Dockerfile.j2', 'kolla/image/build.py', 'docker/openstack-base/Dockerfile.j2', 'docker/freezer/freezer-api/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/cinder/cinder-volume/Dockerfile.j2', 'docker/cinder/cinder-base/Dockerfile.j2', 'docker/neutron/neutron-base/Dockerfile.j2', 'docker/cloudkitty/cloudkitty-api/Dockerfile.j2', 'docker/manila/manila-share/Dockerfile.j2', 'docker/zaqar/zaqar-base/Dockerfile.j2', 'docker/nova/nova-base/Dockerfile.j2', 'docker/heat/heat-base/Dockerfile.j2', 'docker/manila/manila-api/Dockerfile.j2', 'docker/panko/panko-base/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/octavia/octavia-api/Dockerfile.j2', 'docker/placement/placement-api/Dockerfile.j2', 'docker/helm-repository/Dockerfile.j2', 'docker/aodh/aodh-base/Dockerfile.j2', 'docker/ironic/ironic-api/Dockerfile.j2', 'docker/mistral/mistral-api/Dockerfile.j2', 'docker/cinder/cinder-api/Dockerfile.j2', 'docker/kubetoolbox/Dockerfile.j2', 'docker/zun/zun-base/Dockerfile.j2', 'docker/keystone/keystone-base/Dockerfile.j2', 'docker/nova/nova-api/Dockerfile.j2', 'docker/nova/nova-compute/Dockerfile.j2', 'docker/ceilometer/ceilometer-compute/Dockerfile.j2', 'docker/gnocchi/gnocchi-base/Dockerfile.j2', 'docker/kube/kube-controller-manager/Dockerfile.j2', 'kolla/tests/test_build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d436001b43f0a7e3c161ac4a2c5d09d36c6f1015', 'message': 'Debian/Ubuntu: move to Python 3 for source images\n\nCommit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3\nbased packages but not switched to use Python 3.\n\nSome of images still contain Python 2. There are two reasons:\n\n- Ceph (ceph-common depends on Py2)\n- python3-ldappool on Ubuntu 18.04\n\nIn Ceph situation Py3 packages were added. For second one we can not do\nanything - Py2 dependency got dropped in Ubuntu 18.10 version.\n\nRemoved neutron-server-plugin-networking-infoblox due to being not\nmaintained. Once https://review.opendev.org/#/c/657578/ get merged\nsomeone may revert that part.\n\nImplements: blueprint debian-ubuntu-python3\n\nDepends-on: Ie2a1077f7def0743f1403341985e2109aa490026\n\nChange-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4\n'}]",35,642375,d436001b43f0a7e3c161ac4a2c5d09d36c6f1015,141,10,28,24072,,,0,"Debian/Ubuntu: move to Python 3 for source images

Commit 43b74ccc157c0b50138c3785ed91dab504895571 enabled use of Python 3
based packages but not switched to use Python 3.

Some of images still contain Python 2. There are two reasons:

- Ceph (ceph-common depends on Py2)
- python3-ldappool on Ubuntu 18.04

In Ceph situation Py3 packages were added. For second one we can not do
anything - Py2 dependency got dropped in Ubuntu 18.10 version.

Removed neutron-server-plugin-networking-infoblox due to being not
maintained. Once https://review.opendev.org/#/c/657578/ get merged
someone may revert that part.

Implements: blueprint debian-ubuntu-python3

Depends-on: Ie2a1077f7def0743f1403341985e2109aa490026

Change-Id: Ibfe0c2b8be98db56c61f74fb0247488ab3749ef4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/75/642375/19 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2']",2,932e692d4b8b197360c511b172ea2d992035d57f,bp/debian-ubuntu-python3,{% set os_client_config= virtualenv_path + '/lib/python*/site-packages/os_client_config/defaults.json' %} {% set python='python' %} 'python3-dev' {% set python='python3' %} && {{python}} get-pip.py \,{% set os_client_config= virtualenv_path + '/lib/python2.7/site-packages/os_client_config/defaults.json' %} 'python-dev' && python get-pip.py \,6,4
openstack%2Fkolla-ansible~master~I8cb5d3ae7825690279f78ec847b940110bd60216,openstack/kolla-ansible,master,I8cb5d3ae7825690279f78ec847b940110bd60216,Add deploy guide stuff to irrelevant file list of zuul,MERGED,2019-05-30 13:11:32.000000000,2019-06-07 08:19:25.000000000,2019-06-07 08:19:25.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-05-30 13:11:32.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1fe92888559fe0e70d9088c6b4643dda1263a5f', 'message': ""Add deploy guide stuff to irrelevant file list of zuul\n\nIt shouldn't trigger kolla-ansible-base job if changing deploy guide.\n\nChange-Id: I8cb5d3ae7825690279f78ec847b940110bd60216\n""}]",0,662209,e1fe92888559fe0e70d9088c6b4643dda1263a5f,11,6,1,19779,,,0,"Add deploy guide stuff to irrelevant file list of zuul

It shouldn't trigger kolla-ansible-base job if changing deploy guide.

Change-Id: I8cb5d3ae7825690279f78ec847b940110bd60216
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/09/662209/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,e1fe92888559fe0e70d9088c6b4643dda1263a5f,irrelevant_files, - ^deploy-guide/.*$,,1,0
openstack%2Fopenstack-health~master~Iffa590d8325285094cd1d0bef9c5850616c9dedc,openstack/openstack-health,master,Iffa590d8325285094cd1d0bef9c5850616c9dedc,Use openstack theme for docs,MERGED,2019-05-16 03:56:28.000000000,2019-06-07 07:06:21.000000000,2019-06-07 07:06:21.000000000,"[{'_account_id': 5689}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-16 03:56:28.000000000', 'files': ['.zuul.yaml', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/418ae6d68a77ef7d075cf705a6d52a09d7ba9ac6', 'message': 'Use openstack theme for docs\n\nThis commit makes the doc use the openstack theme, and also adds\nbuild-openstack-docs-pti job to ensure the tox job.\n\nChange-Id: Iffa590d8325285094cd1d0bef9c5850616c9dedc\n'}]",0,659432,418ae6d68a77ef7d075cf705a6d52a09d7ba9ac6,6,2,1,5689,,,0,"Use openstack theme for docs

This commit makes the doc use the openstack theme, and also adds
build-openstack-docs-pti job to ensure the tox job.

Change-Id: Iffa590d8325285094cd1d0bef9c5850616c9dedc
",git fetch https://review.opendev.org/openstack/openstack-health refs/changes/32/659432/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'doc/source/conf.py']",2,418ae6d68a77ef7d075cf705a6d52a09d7ba9ac6,add-docs-job,"copyright = u'2015-2019, OpenStack Foundation'html_theme = 'openstackdocs'","copyright = u'2015, OpenStack Foundation'html_theme = 'nature'",3,2
openstack%2Fopenstack-health~master~I306795ca0192675d8ffb9bbc2f1fa04165a45209,openstack/openstack-health,master,I306795ca0192675d8ffb9bbc2f1fa04165a45209,Move doc related modules to doc/requirements.txt,MERGED,2019-05-14 07:45:40.000000000,2019-06-07 07:03:59.000000000,2019-06-07 07:03:59.000000000,"[{'_account_id': 5689}, {'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 30396}]","[{'number': 1, 'created': '2019-05-14 07:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/a56952cd56829acd6b4a1120cf3a3b10f950a3d7', 'message': 'Modify sphinx in test-requirements.txt\n\nBeacause of the build of py27 is failed(Zuul)\n\nChange-Id: I306795ca0192675d8ffb9bbc2f1fa04165a45209\n'}, {'number': 2, 'created': '2019-05-14 08:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/768dc716bf7132bf9d4201adf935ed067e7d48ef', 'message': 'Modify sphinx in test-requirements.txt\n\nBeacause of the build of py27 is failed(Zuul)\n\nChange-Id: I306795ca0192675d8ffb9bbc2f1fa04165a45209\n'}, {'number': 3, 'created': '2019-05-14 12:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/f567e83a92e62b9d1768357269df95fc83292d97', 'message': 'Modify sphinx in test-requirements.txt\n\nBeacause of the build of py27 is failed(Zuul)\n\nChange-Id: I306795ca0192675d8ffb9bbc2f1fa04165a45209\n'}, {'number': 4, 'created': '2019-05-15 02:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/8ebb8cad0604e4d6ba20bb4d8038c629b03bfa0e', 'message': 'Add requirements.txt in doc/requirements.txt\n\nBecause sphinx module is not for the unit test.\nI remove sphinx from test-requirements.txt, at the same time, add doc/requirements.txt\n\nBeacause of the build of py27 is failed(Zuul)\n\nChange-Id: I306795ca0192675d8ffb9bbc2f1fa04165a45209\n'}, {'number': 5, 'created': '2019-05-15 06:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/596577a2c035a4c8fd45f2446f4ab3b0f4e9b2cb', 'message': 'Add requirements.txt in doc/requirements.txt\n\nBecause sphinx module is not for the unit test.\nI remove sphinx from test-requirements.txt, at the same time, add doc/requirements.txt\n\nBeacause of the build of py27 is failed(Zuul), I write this patch.\n\nChange-Id: I306795ca0192675d8ffb9bbc2f1fa04165a45209\n'}, {'number': 6, 'created': '2019-05-15 13:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/29647a45c779a839e7f58c297305d426e5e8613b', 'message': 'Add requirements.txt in doc/requirements.txt. Modify test-requirements.txt and doc/source/_static/conf.py\n\nBecause sphinx and oslosphinx module is not for the unit test.\nI remove sphinx and oslosphinx from test-requirements.txt, at the same time, add doc/requirements.txt\n\nBeacause of the build of py27 is failed(Zuul), I write this patch.\n\nChange-Id: I306795ca0192675d8ffb9bbc2f1fa04165a45209\n'}, {'number': 7, 'created': '2019-05-16 03:00:22.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/2ffbcd1484a2863d0978cfdf9af373868d7803f8', 'message': 'Move doc related modules to doc/requirements.txt\n\nBecause sphinx and oslosphinx module is not for the unit test.\nI remove sphinx and oslosphinx from test-requirements.txt.\nAdd doc/requirements.txt and modify doc/source/_static/conf.py\n\nBeacause of the build of py27 is failed(Zuul), I write this patch.\n\nChange-Id: I306795ca0192675d8ffb9bbc2f1fa04165a45209\n'}]",10,658976,2ffbcd1484a2863d0978cfdf9af373868d7803f8,33,4,7,30396,,,0,"Move doc related modules to doc/requirements.txt

Because sphinx and oslosphinx module is not for the unit test.
I remove sphinx and oslosphinx from test-requirements.txt.
Add doc/requirements.txt and modify doc/source/_static/conf.py

Beacause of the build of py27 is failed(Zuul), I write this patch.

Change-Id: I306795ca0192675d8ffb9bbc2f1fa04165a45209
",git fetch https://review.opendev.org/openstack/openstack-health refs/changes/76/658976/5 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,a56952cd56829acd6b4a1120cf3a3b10f950a3d7,master_sphinx,sphinx>=1.8.5 # BSD,sphinx>=1.6.2 # BSD,1,1
openstack%2Fopenstack-helm-images~master~I8d2ca3b42aec070b903cb8cd8fcff098556ec012,openstack/openstack-helm-images,master,I8d2ca3b42aec070b903cb8cd8fcff098556ec012,Freeze Elasticsearch S3 with date.,MERGED,2019-06-06 18:35:46.000000000,2019-06-07 06:56:30.000000000,2019-06-06 21:37:25.000000000,"[{'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 18:35:46.000000000', 'files': ['zuul.d/elasticsearch-s3.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/db0de0eaa3cbcb703f29a48141a806684ad077d9', 'message': 'Freeze Elasticsearch S3 with date.\n\nChange-Id: I8d2ca3b42aec070b903cb8cd8fcff098556ec012\n'}]",0,663743,db0de0eaa3cbcb703f29a48141a806684ad077d9,9,3,1,17068,,,0,"Freeze Elasticsearch S3 with date.

Change-Id: I8d2ca3b42aec070b903cb8cd8fcff098556ec012
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/43/663743/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/elasticsearch-s3.yaml'],1,db0de0eaa3cbcb703f29a48141a806684ad077d9,freeze_eleasticsearch_s3_with_date," currentdate: ""{{ ansible_date_time['date'].replace('-','') }}"" - ""5_6_4-{{ currentdate }}""",,2,0
openstack%2Fpuppet-tripleo~stable%2Fqueens~I8a06c25d9ef73d72c5ea30086ffa340d82ab1dfe,openstack/puppet-tripleo,stable/queens,I8a06c25d9ef73d72c5ea30086ffa340d82ab1dfe,"Revert ""Refactor collectd/gnocchi integration""",MERGED,2019-06-06 20:38:04.000000000,2019-06-07 05:35:26.000000000,2019-06-07 05:35:26.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-06 20:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/65be789ea4574f9a33615ce6be17cb633b2b25f4', 'message': 'Revert ""Refactor collectd/gnocchi integration""\n\nThis reverts commit 2a9f0d89f10216f5d3915555f1b57faa9cddf8bc.\n\nChange-Id: I8a06c25d9ef73d72c5ea30086ffa340d82ab1dfe\n'}, {'number': 2, 'created': '2019-06-06 20:45:35.000000000', 'files': ['templates/collectd/collectd-gnocchi.conf.erb', 'manifests/profile/base/metrics/collectd.pp', 'manifests/profile/base/metrics/collectd/gnocchi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5553f8df5051d817d8ef7e05e7c595a48912e355', 'message': 'Revert ""Refactor collectd/gnocchi integration""\n\nThis reverts commit 2a9f0d89f10216f5d3915555f1b57faa9cddf8bc.\n\nCloses-Bug: #1831893\nChange-Id: I8a06c25d9ef73d72c5ea30086ffa340d82ab1dfe\n'}]",0,663766,5553f8df5051d817d8ef7e05e7c595a48912e355,10,6,2,28504,,,0,"Revert ""Refactor collectd/gnocchi integration""

This reverts commit 2a9f0d89f10216f5d3915555f1b57faa9cddf8bc.

Closes-Bug: #1831893
Change-Id: I8a06c25d9ef73d72c5ea30086ffa340d82ab1dfe
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/66/663766/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/collectd/collectd-gnocchi.conf.erb', 'manifests/profile/base/metrics/collectd.pp', 'manifests/profile/base/metrics/collectd/gnocchi.pp']",3,65be789ea4574f9a33615ce6be17cb633b2b25f4,663766," package { ['python-collectd-gnocchi', 'collectd-python']: collectd::plugin { 'python': ensure => $ensure, order => $order, content => template('tripleo/collectd/collectd-gnocchi.conf.erb'), require => Package['python-collectd-gnocchi'] }"," package { 'python-collectd-gnocchi': $_conf = {'Auth_Mode' => $auth_mode, 'ResourceType' => $resource_type, 'BatchSize' => $batch_size} if $auth_mode == 'basic' { $conf = merge($_conf, { 'Endpoint' => ""${protocol}://${server}:${port}"", 'User' => $user }) } elsif $auth_mode == 'keystone' { $conf = merge($_conf, { 'Auth_Url' => $keystone_auth_url, 'Username' => $keystone_user_name, 'User_Id' => $keystone_user_id, 'Project_Id' => $keystone_project_id, 'Project_Name' => $keystone_project_name, 'Password' => $keystone_password, 'User_Domain_Id' => $keystone_user_domain_id, 'User_Domain_Name' => $keystone_user_domain_name, 'Project_Domain_Id' => $keystone_project_domain_id, 'Project_Domain_Name' => $keystone_project_domain_name, 'Region_Name' => $keystone_region_name, 'Interface' => $keystone_interface, 'Endpoint' => $keystone_endpoint }) } else { fail('Invalid auth mode for collect_gnocchi plugin.') } $config = $conf.filter |$key, $value| { $value != undef } ::collectd::plugin::python::module { 'collectd_gnocchi': config => [$config] } ",69,91
openstack%2Fironic-ui~master~I8a306d1b42cb25296960f88158eb8c8e21b0be08,openstack/ironic-ui,master,I8a306d1b42cb25296960f88158eb8c8e21b0be08,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 09:00:08.000000000,2019-06-07 04:35:05.000000000,2019-04-25 09:59:14.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27781}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-04-23 09:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/eabb3c1a115a36f9429c72fc6fa107fcd2880349', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I8a306d1b42cb25296960f88158eb8c8e21b0be08\n'}, {'number': 2, 'created': '2019-04-23 17:13:44.000000000', 'files': ['doc/source/contributor/contributing.rst', 'doc/source/install/installation.rst', 'README.rst', 'package.json', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/6670f4339a76c87b55d515c81f8239c00164cb8f', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I8a306d1b42cb25296960f88158eb8c8e21b0be08\n'}]",2,654882,6670f4339a76c87b55d515c81f8239c00164cb8f,14,5,2,27781,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I8a306d1b42cb25296960f88158eb8c8e21b0be08
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/82/654882/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'README.rst', 'tox.ini']",3,eabb3c1a115a36f9429c72fc6fa107fcd2880349,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},3,3
openstack%2Fmagnum~master~Ibbed59bc135969174a20e5243ff8464908801a23,openstack/magnum,master,Ibbed59bc135969174a20e5243ff8464908801a23,[k8s][fedora atomic] Rolling upgrade support,MERGED,2019-05-22 22:25:18.000000000,2019-06-07 04:30:11.000000000,2019-06-07 04:30:11.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-05-22 22:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5141e3fac322844015c03a085e4398db32a36d03', 'message': '[DO NOT MERGE][k8s][fedora atomic] Rolling upgrade support\n\nRolling ugprade is an important feature for a managed k8s service,\nat this stage, two user cases will be covered:\n\n1. Upgrade base operating system\n2. Upgrade k8s version\n\nChange-Id: Ibbed59bc135969174a20e5243ff8464908801a23\nTask: 30168\nStory: 2002210\n'}, {'number': 2, 'created': '2019-05-26 08:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/fb690786399777cff816baf9ae7d9721c8ef62e7', 'message': '[DO NOT MERGE][k8s][fedora atomic] Rolling upgrade support\n\nRolling ugprade is an important feature for a managed k8s service,\nat this stage, two user cases will be covered:\n\n1. Upgrade base operating system\n2. Upgrade k8s version\n\nChange-Id: Ibbed59bc135969174a20e5243ff8464908801a23\nTask: 30168\nStory: 2002210\n'}, {'number': 3, 'created': '2019-05-29 09:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3b5a4ce9cdcaf33da29c4739a61f47b0701b0941', 'message': '[DO NOT MERGE][k8s][fedora atomic] Rolling upgrade support\n\nRolling ugprade is an important feature for a managed k8s service,\nat this stage, two user cases will be covered:\n\n1. Upgrade base operating system\n2. Upgrade k8s version\n\nChange-Id: Ibbed59bc135969174a20e5243ff8464908801a23\nTask: 30168\nStory: 2002210\n'}, {'number': 4, 'created': '2019-05-30 02:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/88b8a27ffd0e384c1be728044d803e47e3d7a405', 'message': 'q[k8s][fedora atomic] Rolling upgrade support\n\nRolling ugprade is an important feature for a managed k8s service,\nat this stage, two user cases will be covered:\n\n1. Upgrade base operating system\n2. Upgrade k8s version\n\nKnown limitation: When doing operating system upgrade, there is no\nchance to call kubectl drain to evict pods on that node.\n\nTask: 30168\nStory: 2002210\n\nChange-Id: Ibbed59bc135969174a20e5243ff8464908801a23\n'}, {'number': 5, 'created': '2019-05-30 02:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5851d9b543372360f010e53acac9b17f9dbf991f', 'message': '[k8s][fedora atomic] Rolling upgrade support\n\nRolling ugprade is an important feature for a managed k8s service,\nat this stage, two user cases will be covered:\n\n1. Upgrade base operating system\n2. Upgrade k8s version\n\nKnown limitation: When doing operating system upgrade, there is no\nchance to call kubectl drain to evict pods on that node.\n\nTask: 30168\nStory: 2002210\n\nChange-Id: Ibbed59bc135969174a20e5243ff8464908801a23\n'}, {'number': 6, 'created': '2019-06-05 03:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7efeee3a9756d4626fe4c55d976485650557f85d', 'message': '[k8s][fedora atomic] Rolling upgrade support\n\nRolling ugprade is an important feature for a managed k8s service,\nat this stage, two user cases will be covered:\n\n1. Upgrade base operating system\n2. Upgrade k8s version\n\nKnown limitation: When doing operating system upgrade, there is no\nchance to call kubectl drain to evict pods on that node.\n\nTask: 30168\nStory: 2002210\n\nChange-Id: Ibbed59bc135969174a20e5243ff8464908801a23\n'}, {'number': 7, 'created': '2019-06-05 06:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0edd40ef931a3c8520c12c4ccefeb9af475a8158', 'message': '[k8s][fedora atomic] Rolling upgrade support\n\nRolling ugprade is an important feature for a managed k8s service,\nat this stage, two user cases will be covered:\n\n1. Upgrade base operating system\n2. Upgrade k8s version\n\nKnown limitation: When doing operating system upgrade, there is no\nchance to call kubectl drain to evict pods on that node.\n\nTask: 30168\nStory: 2002210\n\nChange-Id: Ibbed59bc135969174a20e5243ff8464908801a23\n'}, {'number': 8, 'created': '2019-06-06 19:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/858a2c925230e8fc6937d2d95f68b83d0ebbe7d8', 'message': '[k8s][fedora atomic] Rolling upgrade support\n\nRolling ugprade is an important feature for a managed k8s service,\nat this stage, two user cases will be covered:\n\n1. Upgrade base operating system\n2. Upgrade k8s version\n\nKnown limitation: When doing operating system upgrade, there is no\nchance to call kubectl drain to evict pods on that node.\n\nTask: 30168\nStory: 2002210\n\nChange-Id: Ibbed59bc135969174a20e5243ff8464908801a23\n'}, {'number': 9, 'created': '2019-06-07 02:48:24.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.yaml', 'magnum/drivers/heat/template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-minion.sh', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert.sh', 'magnum/drivers/common/templates/fragments/configure_docker_storage_driver_atomic.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/add-proxy.sh', 'magnum/api/controllers/v1/cluster_actions.py', 'magnum/drivers/common/templates/fragments/configure-docker-registry.sh', 'magnum/drivers/common/templates/fragments/enable-docker-registry.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-kube-os-config.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert-client.sh', 'magnum/drivers/common/templates/fragments/configure-docker-storage.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'releasenotes/notes/k8s-fedora-atomic-rolling-upgrade-3d8edcdd91fa1529.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh', 'magnum/drivers/common/templates/kubernetes/fragments/start-container-agent.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/05c27f2d7399517c660ea233df816e74d8a75eae', 'message': '[k8s][fedora atomic] Rolling upgrade support\n\nRolling ugprade is an important feature for a managed k8s service,\nat this stage, two user cases will be covered:\n\n1. Upgrade base operating system\n2. Upgrade k8s version\n\nKnown limitation: When doing operating system upgrade, there is no\nchance to call kubectl drain to evict pods on that node.\n\nTask: 30185\nStory: 2002210\n\nChange-Id: Ibbed59bc135969174a20e5243ff8464908801a23\n'}]",5,660851,05c27f2d7399517c660ea233df816e74d8a75eae,32,4,9,6484,,,0,"[k8s][fedora atomic] Rolling upgrade support

Rolling ugprade is an important feature for a managed k8s service,
at this stage, two user cases will be covered:

1. Upgrade base operating system
2. Upgrade k8s version

Known limitation: When doing operating system upgrade, there is no
chance to call kubectl drain to evict pods on that node.

Task: 30185
Story: 2002210

Change-Id: Ibbed59bc135969174a20e5243ff8464908801a23
",git fetch https://review.opendev.org/openstack/magnum refs/changes/51/660851/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/make-cert-client.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/add-proxy.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-kube-os-config.sh', 'magnum/drivers/common/templates/kubernetes/fragments/start-container-agent.sh']",13,5141e3fac322844015c03a085e4398db32a36d03,story/2002210-30185-new,"set -x set +u HTTP_PROXY=""$HTTP_PROXY"" HTTPS_PROXY=""$HTTPS_PROXY"" NO_PROXY=""$NO_PROXY"" CONTAINER_INFRA_PREFIX=""$CONTAINER_INFRA_PREFIX"" HEAT_CONTAINER_AGENT_TAG=""$HEAT_CONTAINER_AGENT_TAG"" if [ -n ""${HTTP_PROXY}"" ]; thenif [ -n ""${HTTPS_PROXY}"" ]; thenif [ -n ""${NO_PROXY}"" ]; thenssh-keygen -q -t rsa -N '' -f /srv/magnum/.ssh/heat_agent_rsa_prefix=""${CONTAINER_INFRA_PREFIX:-docker.io/openstackmagnum/}""""${_prefix}heat-container-agent:${HEAT_CONTAINER_AGENT_TAG}""",". /etc/sysconfig/heat-params set -uxe if [ ! -z ""$HTTP_PROXY"" ]; thenif [ ! -z ""$HTTPS_PROXY"" ]; thenif [ ! -z ""$NO_PROXY"" ]; thenssh-keygen -t rsa -N '' -f /srv/magnum/.ssh/heat_agent_rsa_prefix=${CONTAINER_INFRA_PREFIX:-docker.io/openstackmagnum/}${_prefix}heat-container-agent:${HEAT_CONTAINER_AGENT_TAG}",307,286
openstack%2Fcoverage2sql~master~I23dbefa2a91417f5b2ce9b854dbfe4ab623aa6aa,openstack/coverage2sql,master,I23dbefa2a91417f5b2ce9b854dbfe4ab623aa6aa,Update and fix docs conf.py,MERGED,2019-06-07 03:09:01.000000000,2019-06-07 04:29:51.000000000,2019-06-07 04:29:51.000000000,"[{'_account_id': 5689}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 03:09:01.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/coverage2sql/commit/05bfc7613ef984801f1f9a778aba861d76bc243f', 'message': 'Update and fix docs conf.py\n\nThis commit updates and fixes the conf.py of documentation.\n\nChange-Id: I23dbefa2a91417f5b2ce9b854dbfe4ab623aa6aa\n'}]",0,663831,05bfc7613ef984801f1f9a778aba861d76bc243f,6,2,1,5689,,,0,"Update and fix docs conf.py

This commit updates and fixes the conf.py of documentation.

Change-Id: I23dbefa2a91417f5b2ce9b854dbfe4ab623aa6aa
",git fetch https://review.opendev.org/openstack/coverage2sql refs/changes/31/663831/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,05bfc7613ef984801f1f9a778aba861d76bc243f,update-docs,copyright = u'2016-2019 OpenStack Foundation'# html_theme_path = [openstackdocstheme.get_html_theme_path()]# intersphinx_mapping = {'http://docs.python.org/': None}," #'sphinx.ext.intersphinx',copyright = u'2016,2017 OpenStack Foundation'#html_theme_path = [openstackdocstheme.get_html_theme_path()]#intersphinx_mapping = {'http://docs.python.org/': None}",3,4
openstack%2Fneutron~stable%2Fpike~Ide740e0c5c43c2d2b842460a37c8ce125da12b28,openstack/neutron,stable/pike,Ide740e0c5c43c2d2b842460a37c8ce125da12b28,improve dvr port update under large scale deployment,MERGED,2019-06-05 21:14:31.000000000,2019-06-07 04:21:14.000000000,2019-06-07 04:21:13.000000000,"[{'_account_id': 4694}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29071}]","[{'number': 1, 'created': '2019-06-05 21:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/efb59f67eb251fc9a6561d1bc946516c05817041', 'message': 'improve dvr port update under large scale deployment\n\nupdate port may takes an excessive number of seconds\nto complete if dvr routers are running on more than 100\ncompute nodes. This patch tries to save some time by removing\nunnecessary calls inside looping through hosts.\n\nChange-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28\nCloses-Bug: #1830456\n(cherry picked from commit 00eb6f26f6165a00d647d2bf35fb7996534cfc09)\n'}, {'number': 2, 'created': '2019-06-06 15:34:14.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f2dd7c3f304b0bb5562cbe7dbd8241eab6a2b72', 'message': 'improve dvr port update under large scale deployment\n\nupdate port may takes an excessive number of seconds\nto complete if dvr routers are running on more than 100\ncompute nodes. This patch tries to save some time by removing\nunnecessary calls inside looping through hosts.\n\nChange-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28\nCloses-Bug: #1830456\n(cherry picked from commit 00eb6f26f6165a00d647d2bf35fb7996534cfc09)\n'}]",0,663433,4f2dd7c3f304b0bb5562cbe7dbd8241eab6a2b72,10,4,2,7016,,,0,"improve dvr port update under large scale deployment

update port may takes an excessive number of seconds
to complete if dvr routers are running on more than 100
compute nodes. This patch tries to save some time by removing
unnecessary calls inside looping through hosts.

Change-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28
Closes-Bug: #1830456
(cherry picked from commit 00eb6f26f6165a00d647d2bf35fb7996534cfc09)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/663433/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py']",2,efb59f67eb251fc9a6561d1bc946516c05817041,bug/1830456," return_value=['other_host', 'host1']),\ self.dut, '_check_dvr_serviceable_ports_on_host',"," return_value=['other_host']),\ self.dut, '_check_for_rtr_serviceable_ports',",17,12
openstack%2Fneutron~stable%2Fstein~Ide740e0c5c43c2d2b842460a37c8ce125da12b28,openstack/neutron,stable/stein,Ide740e0c5c43c2d2b842460a37c8ce125da12b28,improve dvr port update under large scale deployment,MERGED,2019-06-05 12:40:16.000000000,2019-06-07 04:21:11.000000000,2019-06-07 04:21:11.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-05 12:40:16.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb172b4c204f823d73f4b020aff39b4d09f4d7d9', 'message': 'improve dvr port update under large scale deployment\n\nupdate port may takes an excessive number of seconds\nto complete if dvr routers are running on more than 100\ncompute nodes. This patch tries to save some time by removing\nunnecessary calls inside looping through hosts.\n\nChange-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28\nCloses-Bug: #1830456\n(cherry picked from commit 00eb6f26f6165a00d647d2bf35fb7996534cfc09)\n'}]",0,663311,cb172b4c204f823d73f4b020aff39b4d09f4d7d9,8,4,1,29071,,,0,"improve dvr port update under large scale deployment

update port may takes an excessive number of seconds
to complete if dvr routers are running on more than 100
compute nodes. This patch tries to save some time by removing
unnecessary calls inside looping through hosts.

Change-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28
Closes-Bug: #1830456
(cherry picked from commit 00eb6f26f6165a00d647d2bf35fb7996534cfc09)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/663311/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py']",2,cb172b4c204f823d73f4b020aff39b4d09f4d7d9,bug/1830456-stable/stein," return_value=['other_host', 'host1']),\ self.dut, '_check_dvr_serviceable_ports_on_host',"," return_value=['other_host']),\ self.dut, '_check_for_rtr_serviceable_ports',",17,12
openstack%2Fironic~master~I6c1ef41b0f960fc2843a494dfd002a982e2bef01,openstack/ironic,master,I6c1ef41b0f960fc2843a494dfd002a982e2bef01,Remove deprecated option [DEFAULT]enabled_drivers,MERGED,2019-06-06 04:16:32.000000000,2019-06-07 03:57:22.000000000,2019-06-06 14:25:11.000000000,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-06 04:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d7a109cec28a7ac8a2162ea72c3f04f750dec9f5', 'message': ""Remove deprecated option [DEFAULT]enabled_drivers\n\nThe option was deprecated long ago, now it's removed.\n\nChange-Id: I6c1ef41b0f960fc2843a494dfd002a982e2bef01\n""}, {'number': 2, 'created': '2019-06-06 07:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c20023b4a88d9232c180c70c5067570024cc1df9', 'message': 'Remove deprecated option [DEFAULT]enabled_drivers\n\nThe option was deprecated in Rocky, this patch removes it.\n\nChange-Id: I6c1ef41b0f960fc2843a494dfd002a982e2bef01\n'}, {'number': 3, 'created': '2019-06-06 07:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/911e3fdf115066c0018009dc314b001cc6800eb7', 'message': 'Remove deprecated option [DEFAULT]enabled_drivers\n\nThe option was deprecated in Rocky, this patch removes it.\n\nChange-Id: I6c1ef41b0f960fc2843a494dfd002a982e2bef01\n'}, {'number': 4, 'created': '2019-06-06 10:28:37.000000000', 'files': ['ironic/conductor/base_manager.py', 'releasenotes/notes/remove-enabled-drivers-5afcd77b53da1499.yaml', 'ironic/conf/default.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a3634840f453609c58d40f792ff8c8c9b5515eee', 'message': 'Remove deprecated option [DEFAULT]enabled_drivers\n\nThe option was deprecated in Rocky, this patch removes it.\n\nChange-Id: I6c1ef41b0f960fc2843a494dfd002a982e2bef01\n'}]",7,663497,a3634840f453609c58d40f792ff8c8c9b5515eee,22,5,4,24828,,,0,"Remove deprecated option [DEFAULT]enabled_drivers

The option was deprecated in Rocky, this patch removes it.

Change-Id: I6c1ef41b0f960fc2843a494dfd002a982e2bef01
",git fetch https://review.opendev.org/openstack/ironic refs/changes/97/663497/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/base_manager.py', 'releasenotes/notes/remove-enabled-drivers-5afcd77b53da1499.yaml', 'ironic/conf/default.py']",3,d7a109cec28a7ac8a2162ea72c3f04f750dec9f5,deprecation,," cfg.ListOpt('enabled_drivers', default=[], help=_('This option is left for a start up check only. ' 'Any non-empty value will prevent the conductor ' 'from starting.'), deprecated_for_removal=True, deprecated_reason=_('Hardware types should be used instead ' 'of classic drivers. They are enabled ' 'via the enabled_hardware_types option.')),",5,14
openstack%2Fneutron~stable%2Frocky~Ide740e0c5c43c2d2b842460a37c8ce125da12b28,openstack/neutron,stable/rocky,Ide740e0c5c43c2d2b842460a37c8ce125da12b28,improve dvr port update under large scale deployment,MERGED,2019-06-06 00:13:51.000000000,2019-06-07 03:43:32.000000000,2019-06-07 03:43:32.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9373}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-06 00:13:51.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cace9239514c76a76a4172199e6823fd02aa7f06', 'message': 'improve dvr port update under large scale deployment\n\nupdate port may takes an excessive number of seconds\nto complete if dvr routers are running on more than 100\ncompute nodes. This patch tries to save some time by removing\nunnecessary calls inside looping through hosts.\n\nChange-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28\nCloses-Bug: #1830456\n(cherry picked from commit 00eb6f26f6165a00d647d2bf35fb7996534cfc09)\n'}]",0,663461,cace9239514c76a76a4172199e6823fd02aa7f06,8,5,1,29071,,,0,"improve dvr port update under large scale deployment

update port may takes an excessive number of seconds
to complete if dvr routers are running on more than 100
compute nodes. This patch tries to save some time by removing
unnecessary calls inside looping through hosts.

Change-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28
Closes-Bug: #1830456
(cherry picked from commit 00eb6f26f6165a00d647d2bf35fb7996534cfc09)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/663461/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py']",2,cace9239514c76a76a4172199e6823fd02aa7f06,bug/1830456-stable/rocky," return_value=['other_host', 'host1']),\ self.dut, '_check_dvr_serviceable_ports_on_host',"," return_value=['other_host']),\ self.dut, '_check_for_rtr_serviceable_ports',",17,12
openstack%2Fneutron~stable%2Fqueens~Ide740e0c5c43c2d2b842460a37c8ce125da12b28,openstack/neutron,stable/queens,Ide740e0c5c43c2d2b842460a37c8ce125da12b28,improve dvr port update under large scale deployment,MERGED,2019-06-04 23:56:20.000000000,2019-06-07 03:43:21.000000000,2019-06-07 03:43:21.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29071}]","[{'number': 1, 'created': '2019-06-04 23:56:20.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc0e0a5725a2331e6ccd9707701198de2073da1c', 'message': 'improve dvr port update under large scale deployment\n\nupdate port may takes an excessive number of seconds\nto complete if dvr routers are running on more than 100\ncompute nodes. This patch tries to save some time by removing\nunnecessary calls inside looping through hosts.\n\nChange-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28\nCloses-Bug: #1830456\n(cherry picked from commit 00eb6f26f6165a00d647d2bf35fb7996534cfc09)\n'}]",0,663167,fc0e0a5725a2331e6ccd9707701198de2073da1c,13,5,1,29071,,,0,"improve dvr port update under large scale deployment

update port may takes an excessive number of seconds
to complete if dvr routers are running on more than 100
compute nodes. This patch tries to save some time by removing
unnecessary calls inside looping through hosts.

Change-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28
Closes-Bug: #1830456
(cherry picked from commit 00eb6f26f6165a00d647d2bf35fb7996534cfc09)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/663167/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py']",2,fc0e0a5725a2331e6ccd9707701198de2073da1c,bug/1830456-stable/queens," return_value=['other_host', 'host1']),\ self.dut, '_check_dvr_serviceable_ports_on_host',"," return_value=['other_host']),\ self.dut, '_check_for_rtr_serviceable_ports',",17,12
openstack%2Ftripleo-heat-templates~master~If5adc76190e986bae1346a3a7e8dda8a2bc92f27,openstack/tripleo-heat-templates,master,If5adc76190e986bae1346a3a7e8dda8a2bc92f27,Remove deployed-server bootstrap resource,MERGED,2019-05-20 21:37:07.000000000,2019-06-07 02:43:56.000000000,2019-06-07 02:43:55.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-20 21:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/682d821739182871333cef9184c741217e2a82a9', 'message': 'Remove deployed-server bootstrap resource\n\nRemoves the deployed-server bootstrap resource from the deployed-server\ntemplate as the equivalent functionality enabled by the scripts has been\nmoved to the tripleo-bootstrap ansible role provided by tripleo-common.\n\nThe environments and templates for the bootstrap resource are deprecated\nin train and will be removed in a future release.\n\nChange-Id: If5adc76190e986bae1346a3a7e8dda8a2bc92f27\nDepends-On: Idc13a88481ae618f0321009f49acf71e68258b95\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 2, 'created': '2019-05-22 19:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d8f5cbebec84b353865793ff09d9c3d00e3d0b8', 'message': 'Remove deployed-server bootstrap resource\n\nRemoves the deployed-server bootstrap resource from the deployed-server\ntemplate as the equivalent functionality enabled by the scripts has been\nmoved to the tripleo-bootstrap ansible role provided by tripleo-common.\n\nThe environments and templates for the bootstrap resource are deprecated\nin train and will be removed in a future release.\n\nChange-Id: If5adc76190e986bae1346a3a7e8dda8a2bc92f27\nDepends-On: Idc13a88481ae618f0321009f49acf71e68258b95\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 3, 'created': '2019-05-22 19:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e5fced1fe447755568e526e03fce9ed5ba2011d', 'message': 'Remove deployed-server bootstrap resource\n\nRemoves the deployed-server bootstrap resource from the deployed-server\ntemplate as the equivalent functionality enabled by the scripts has been\nmoved to the tripleo-bootstrap ansible role provided by tripleo-common.\n\nThe environments and templates for the bootstrap resource are deprecated\nin train and will be removed in a future release.\n\nChange-Id: If5adc76190e986bae1346a3a7e8dda8a2bc92f27\nDepends-On: Idc13a88481ae618f0321009f49acf71e68258b95\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 4, 'created': '2019-05-29 00:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c56a7a1fd5cd518a43d4e40ea695a5230f1fdc4a', 'message': 'Remove deployed-server bootstrap resource\n\nRemoves the deployed-server bootstrap resource from the deployed-server\ntemplate as the equivalent functionality enabled by the scripts has been\nmoved to the tripleo-bootstrap ansible role provided by tripleo-common.\n\nThe environments and templates for the bootstrap resource are deprecated\nin train and will be removed in a future release.\n\nChange-Id: If5adc76190e986bae1346a3a7e8dda8a2bc92f27\nDepends-On: Idc13a88481ae618f0321009f49acf71e68258b95\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 5, 'created': '2019-05-29 17:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/552401d5a7615a64f03a76f0380ee0215b76d4ab', 'message': 'Remove deployed-server bootstrap resource\n\nRemoves the deployed-server bootstrap resource from the deployed-server\ntemplate as the equivalent functionality enabled by the scripts has been\nmoved to the tripleo-bootstrap ansible role provided by tripleo-common.\n\nThe environments and templates for the bootstrap resource are deprecated\nin train and will be removed in a future release.\n\nChange-Id: If5adc76190e986bae1346a3a7e8dda8a2bc92f27\nDepends-On: Idc13a88481ae618f0321009f49acf71e68258b95\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 6, 'created': '2019-05-29 22:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d908546f64c3efe820fa131090857027100cf1f', 'message': 'Remove deployed-server bootstrap resource\n\nRemoves the deployed-server bootstrap resource from the deployed-server\ntemplate as the equivalent functionality enabled by the scripts has been\nmoved to the tripleo-bootstrap ansible role provided by tripleo-common.\n\nThe environments and templates for the bootstrap resource are deprecated\nin train and will be removed in a future release.\n\nChange-Id: If5adc76190e986bae1346a3a7e8dda8a2bc92f27\nDepends-On: Idc13a88481ae618f0321009f49acf71e68258b95\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 7, 'created': '2019-05-30 18:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3923155c2b226a129301a1ba9777858406a2d9ec', 'message': 'Remove deployed-server bootstrap resource\n\nRemoves the deployed-server bootstrap resource from the deployed-server\ntemplate as the equivalent functionality enabled by the scripts has been\nmoved to the tripleo-bootstrap ansible role provided by tripleo-common.\n\nThe environments and templates for the bootstrap resource are deprecated\nin train and will be removed in a future release.\n\nChange-Id: If5adc76190e986bae1346a3a7e8dda8a2bc92f27\nDepends-On: Idc13a88481ae618f0321009f49acf71e68258b95\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 8, 'created': '2019-05-30 23:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3be1ad25b889e4e10c29bdf2457b4455908aea8c', 'message': 'Remove deployed-server bootstrap resource\n\nRemoves the deployed-server bootstrap resource from the deployed-server\ntemplate as the equivalent functionality enabled by the scripts has been\nmoved to the tripleo-bootstrap ansible role provided by tripleo-common.\n\nThe environments and templates for the bootstrap resource are deprecated\nin train and will be removed in a future release.\n\nChange-Id: If5adc76190e986bae1346a3a7e8dda8a2bc92f27\nDepends-On: Idc13a88481ae618f0321009f49acf71e68258b95\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 9, 'created': '2019-06-03 17:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca3fd2b0a1e3fa1c3e99287285834ef175ba23e1', 'message': 'Remove deployed-server bootstrap resource\n\nRemoves the deployed-server bootstrap resource from the deployed-server\ntemplate as the equivalent functionality enabled by the scripts has been\nmoved to the tripleo-bootstrap ansible role provided by tripleo-common.\n\nThe environments and templates for the bootstrap resource are deprecated\nin train and will be removed in a future release.\n\nChange-Id: If5adc76190e986bae1346a3a7e8dda8a2bc92f27\nDepends-On: Idc13a88481ae618f0321009f49acf71e68258b95\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 10, 'created': '2019-06-06 15:51:55.000000000', 'files': ['environments/deployed-server-environment.j2.yaml', 'deployed-server/deployed-server-bootstrap-centos.sh', 'deployed-server/deployed-server-bootstrap-rhel.sh', 'environments/deployed-server-bootstrap-environment-rhel.yaml', 'releasenotes/notes/remove-deployed-server-bootstrap-resource-7de0596b90f1b15a.yaml', 'deployed-server/deployed-server-bootstrap-centos.yaml', 'deployed-server/deployed-server-bootstrap-rhel.yaml', 'deployed-server/deployed-server.yaml', 'environments/deployed-server-bootstrap-environment-centos.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/198cfb6f8d6c4384118aee94cd404a8a54432691', 'message': 'Remove deployed-server bootstrap resource\n\nRemoves the deployed-server bootstrap resource from the deployed-server\ntemplate as the equivalent functionality enabled by the scripts has been\nmoved to the tripleo-bootstrap ansible role provided by tripleo-common.\n\nThe environments and templates for the bootstrap resource are deprecated\nin train and will be removed in a future release.\n\nChange-Id: If5adc76190e986bae1346a3a7e8dda8a2bc92f27\nDepends-On: Idc13a88481ae618f0321009f49acf71e68258b95\nimplements: blueprint reduce-deployment-resources\n'}]",0,660221,198cfb6f8d6c4384118aee94cd404a8a54432691,36,5,10,7144,,,0,"Remove deployed-server bootstrap resource

Removes the deployed-server bootstrap resource from the deployed-server
template as the equivalent functionality enabled by the scripts has been
moved to the tripleo-bootstrap ansible role provided by tripleo-common.

The environments and templates for the bootstrap resource are deprecated
in train and will be removed in a future release.

Change-Id: If5adc76190e986bae1346a3a7e8dda8a2bc92f27
Depends-On: Idc13a88481ae618f0321009f49acf71e68258b95
implements: blueprint reduce-deployment-resources
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/660221/8 && git format-patch -1 --stdout FETCH_HEAD,"['environments/deployed-server-environment.j2.yaml', 'deployed-server/deployed-server-bootstrap-centos.sh', 'deployed-server/deployed-server-bootstrap-rhel.sh', 'environments/deployed-server-bootstrap-environment-rhel.yaml', 'releasenotes/notes/remove-deployed-server-bootstrap-resource-7de0596b90f1b15a.yaml', 'deployed-server/deployed-server-bootstrap-centos.yaml', 'deployed-server/deployed-server-bootstrap-rhel.yaml', 'deployed-server/deployed-server.yaml', 'environments/deployed-server-bootstrap-environment-centos.yaml']",9,682d821739182871333cef9184c741217e2a82a9,bp/reduce-deployment-resources,# DEPRECATED. This environment is deprecated in train and will be removed in a # future release. The functionality of the bootstrap scripts has been moved to # the tripleo-bootstrap ansible role provided by tripleo-common. #,,35,5
openstack%2Fmagnum~master~Ia168877778aa0d473383eb06b1c8a16dc06b0576,openstack/magnum,master,Ia168877778aa0d473383eb06b1c8a16dc06b0576,Add cluster upgrade to the API,MERGED,2017-10-25 08:57:23.000000000,2019-06-07 02:33:22.000000000,2019-06-07 02:33:22.000000000,"[{'_account_id': 136}, {'_account_id': 6484}, {'_account_id': 19853}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2017-10-25 08:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6b28161d44698f73a7f83fac5e948b03341449de', 'message': 'WIP: Add cluster upgrade to the API\n\nImplements: blueprint cluster-upgrades\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 2, 'created': '2018-06-12 09:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/42fd304583d1b48c166b2ddae968ef04120be5f7', 'message': 'WIP: Add cluster upgrade to the API\n\nstory: 2002210\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 3, 'created': '2018-08-21 22:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9939786c2dbce01a2f5eff0ffa65bda39f8ccf00', 'message': 'WIP: Add cluster upgrade to the API\n\nstory: 2002210\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 4, 'created': '2019-02-25 10:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/befa67010ef9d7d97cb0e8ba58c6e904c9aeb20f', 'message': 'WIP: Add cluster upgrade to the API\n\nstory: 2002210\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 5, 'created': '2019-02-28 16:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cc01e5fd2ed326c45dc5b78893a6790b43189d58', 'message': 'WIP: Add cluster upgrade to the API\n\nstory: 2002210\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 6, 'created': '2019-03-08 03:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a68238ea958418e4ec27deaf6a19a14e67543b16', 'message': '(WIP) Add cluster upgrade to the API\n\nCo-Authored-By: Feilong Wang <flwang@catalyst.net.nz>\n\nstory: 2002210\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 7, 'created': '2019-03-08 03:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3aa854d538ec04a89a53b2e547e05c6b8998df93', 'message': '(WIP) Add cluster upgrade to the API\n\nCo-Authored-By: Feilong Wang <flwang@catalyst.net.nz>\n\nstory: 2002210\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 8, 'created': '2019-03-09 01:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2142688eb505fa0f87bb33a9a9f06e4894f1016c', 'message': '(WIP) Add cluster upgrade to the API\n\nCo-Authored-By: Feilong Wang <flwang@catalyst.net.nz>\n\nstory: 2002210\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 9, 'created': '2019-03-11 07:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7f1ca4faf310f207d4dc5c02c05acbf6a0adf78a', 'message': '(WIP) Add cluster upgrade to the API\n\nCo-Authored-By: Feilong Wang <flwang@catalyst.net.nz>\n\nstory: 2002210\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 10, 'created': '2019-03-11 10:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9622a63c9f10c1449251f9f68372d5e97a9dd586', 'message': '(WIP) Add cluster upgrade to the API\n\nCo-Authored-By: Feilong Wang <flwang@catalyst.net.nz>\n\nstory: 2002210\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 11, 'created': '2019-03-21 02:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2dcef970bb848dbf476243054d004bc166264008', 'message': 'Add cluster upgrade to the API\n\nTo enable the rolling upgrade ability of Kubernetes Cluster, this\npatch is proposing a new API /upgrade to support upgrade the\nbase operating system of nodes and the version of Kubernetes, even\nadd-ons running on the k8s cluster:\n\nPOST <ClusterID>/actions/upgrade\n\nAnd the post body will be:\n\n{\n    ""cluster_template"": \'dd9cc5ed-3a2b-11e9-9233-fa163e46bcc2\',\n    ""max_batch_size"": 1,\n    ""nodegroup"": ""production_group""\n}\n\nCo-Authored-By: Feilong Wang <flwang@catalyst.net.nz>\n\nstory: 2002210\n\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 12, 'created': '2019-03-21 10:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a240a14a1d34b6bb4f7a942c64e4948be65f1a57', 'message': 'Add cluster upgrade to the API\n\nTo enable the rolling upgrade ability of Kubernetes Cluster, this\npatch is proposing a new API /upgrade to support upgrade the\nbase operating system of nodes and the version of Kubernetes, even\nadd-ons running on the k8s cluster:\n\nPOST <ClusterID>/actions/upgrade\n\nAnd the post body will be:\n\n{\n    ""cluster_template"": \'dd9cc5ed-3a2b-11e9-9233-fa163e46bcc2\',\n    ""max_batch_size"": 1,\n    ""nodegroup"": ""production_group""\n}\n\nCo-Authored-By: Feilong Wang <flwang@catalyst.net.nz>\n\nstory: 2002210\n\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 13, 'created': '2019-03-26 10:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/892d41f2116bd16d35c6ef0bbf90339ea4f11bc1', 'message': 'Add cluster upgrade to the API\n\nTo enable the rolling upgrade ability of Kubernetes Cluster, this\npatch is proposing a new API /upgrade to support upgrade the\nbase operating system of nodes and the version of Kubernetes, even\nadd-ons running on the k8s cluster:\n\nPOST <ClusterID>/actions/upgrade\n\nAnd the post body will be:\n\n{\n    ""cluster_template"": \'dd9cc5ed-3a2b-11e9-9233-fa163e46bcc2\',\n    ""max_batch_size"": 1,\n    ""nodegroup"": ""production_group""\n}\n\nCo-Authored-By: Feilong Wang <flwang@catalyst.net.nz>\n\nstory: 2002210\n\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 14, 'created': '2019-03-27 20:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5880f6b991fae9c89dfcb3224e2355e95a10f1b5', 'message': 'Add cluster upgrade to the API\n\nTo enable the rolling upgrade ability of Kubernetes Cluster, this\npatch is proposing a new API /upgrade to support upgrade the\nbase operating system of nodes and the version of Kubernetes, even\nadd-ons running on the k8s cluster:\n\nPOST <ClusterID>/actions/upgrade\n\nAnd the post body will be:\n\n{\n    ""cluster_template"": \'dd9cc5ed-3a2b-11e9-9233-fa163e46bcc2\',\n    ""max_batch_size"": 1,\n    ""nodegroup"": ""production_group""\n}\n\nCo-Authored-By: Feilong Wang <flwang@catalyst.net.nz>\n\nTask: 30168\nStory: 2002210\n\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 15, 'created': '2019-03-29 18:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f73badfd9c2cc6c8bb45010406c18d0a016abc90', 'message': 'Add cluster upgrade to the API\n\nTo enable the rolling upgrade ability of Kubernetes Cluster, this\npatch is proposing a new API /upgrade to support upgrade the\nbase operating system of nodes and the version of Kubernetes, even\nadd-ons running on the k8s cluster:\n\nPOST <ClusterID>/actions/upgrade\n\nAnd the post body will be:\n\n{\n    ""cluster_template"": \'dd9cc5ed-3a2b-11e9-9233-fa163e46bcc2\',\n    ""max_batch_size"": 1,\n    ""nodegroup"": ""production_group""\n}\n\nCo-Authored-By: Feilong Wang <flwang@catalyst.net.nz>\n\nTask: 30168\nStory: 2002210\n\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 16, 'created': '2019-04-02 04:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0f3e810737a23929f3ae29d8b36ca02b9a3b10df', 'message': 'Add cluster upgrade to the API\n\nTo enable the rolling upgrade ability of Kubernetes Cluster, this\npatch is proposing a new API /upgrade to support upgrade the\nbase operating system of nodes and the version of Kubernetes, even\nadd-ons running on the k8s cluster:\n\nPOST <ClusterID>/actions/upgrade\n\nAnd the post body will be:\n\n{\n    ""cluster_template"": \'dd9cc5ed-3a2b-11e9-9233-fa163e46bcc2\',\n    ""max_batch_size"": 1,\n    ""nodegroup"": ""production_group""\n}\n\nCo-Authored-By: Feilong Wang <flwang@catalyst.net.nz>\n\nTask: 30168\nStory: 2002210\n\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 17, 'created': '2019-04-08 00:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f94664dce83fcfccb8fa194f6e5a64bb05a869c8', 'message': 'Add cluster upgrade to the API\n\nTo enable the rolling upgrade ability of Kubernetes Cluster, this\npatch is proposing a new API /upgrade to support upgrade the\nbase operating system of nodes and the version of Kubernetes, even\nadd-ons running on the k8s cluster:\n\nPOST <ClusterID>/actions/upgrade\n\nAnd the post body will be:\n\n{\n    ""cluster_template"": \'dd9cc5ed-3a2b-11e9-9233-fa163e46bcc2\',\n    ""max_batch_size"": 1,\n    ""nodegroup"": ""production_group""\n}\n\nCo-Authored-By: Feilong Wang <flwang@catalyst.net.nz>\n\nTask: 30168\nStory: 2002210\n\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 18, 'created': '2019-05-22 22:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8c94dd8c87ce5ffcd7b07590059ef2ffd23feee9', 'message': 'Add cluster upgrade to the API\n\nTo enable the rolling upgrade ability of Kubernetes Cluster, this\npatch is proposing a new API /upgrade to support upgrade the\nbase operating system of nodes and the version of Kubernetes, even\nadd-ons running on the k8s cluster:\n\nPOST <ClusterID>/actions/upgrade\n\nAnd the post body will be:\n\n{\n    ""cluster_template"": \'dd9cc5ed-3a2b-11e9-9233-fa163e46bcc2\',\n    ""max_batch_size"": 1,\n    ""nodegroup"": ""production_group""\n}\n\nCo-Authored-By: Feilong Wang <flwang@catalyst.net.nz>\n\nTask: 30168\nStory: 2002210\n\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 19, 'created': '2019-05-29 02:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4df4dd4c9e81f12fbe93a6cbe4988e06d3fbac53', 'message': 'Add cluster upgrade to the API\n\nTo enable the rolling upgrade ability of Kubernetes Cluster, this\npatch is proposing a new API /upgrade to support upgrade the\nbase operating system of nodes and the version of Kubernetes, even\nadd-ons running on the k8s cluster:\n\nPOST <ClusterID>/actions/upgrade\n\nAnd the post body will be:\n\n{\n    ""cluster_template"": \'dd9cc5ed-3a2b-11e9-9233-fa163e46bcc2\',\n    ""max_batch_size"": 1,\n    ""nodegroup"": ""production_group""\n}\n\nCo-Authored-By: Feilong Wang <flwang@catalyst.net.nz>\n\nTask: 30168\nStory: 2002210\n\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 20, 'created': '2019-06-05 03:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3d25c9ed8fb153250f517d34f5eabb0af76b4270', 'message': 'Add cluster upgrade to the API\n\nTo enable the rolling upgrade ability of Kubernetes Cluster, this\npatch is proposing a new API /upgrade to support upgrade the\nbase operating system of nodes and the version of Kubernetes, even\nadd-ons running on the k8s cluster:\n\nPOST <ClusterID>/actions/upgrade\n\nAnd the post body will be:\n\n{\n    ""cluster_template"": \'dd9cc5ed-3a2b-11e9-9233-fa163e46bcc2\',\n    ""max_batch_size"": 1,\n    ""nodegroup"": ""production_group""\n}\n\nCo-Authored-By: Feilong Wang <flwang@catalyst.net.nz>\n\nTask: 30168\nStory: 2002210\n\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 21, 'created': '2019-06-06 21:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ac687c62c86b230b8fde98879a17e119154d7dd5', 'message': 'Add cluster upgrade to the API\n\nTo enable the rolling upgrade ability of Kubernetes Cluster, this\npatch is proposing a new API /upgrade to support upgrade the\nbase operating system of nodes and the version of Kubernetes, even\nadd-ons running on the k8s cluster:\n\nPOST <ClusterID>/actions/upgrade\n\nAnd the post body will be:\n\n{\n    ""cluster_template"": \'dd9cc5ed-3a2b-11e9-9233-fa163e46bcc2\',\n    ""max_batch_size"": 1,\n    ""nodegroup"": ""production_group""\n}\n\nCo-Authored-By: Feilong Wang <flwang@catalyst.net.nz>\n\nTask: 30168\nStory: 2002210\n\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}, {'number': 22, 'created': '2019-06-07 00:01:29.000000000', 'files': ['magnum/drivers/k8s_fedora_ironic_v1/driver.py', 'magnum/drivers/mesos_ubuntu_v1/driver.py', 'doc/source/user/index.rst', 'magnum/drivers/common/driver.py', 'doc/source/user/rolling-upgrade.rst', 'magnum/common/policies/cluster.py', 'magnum/drivers/k8s_fedora_atomic_v1/driver.py', 'magnum/conductor/handlers/cluster_conductor.py', 'magnum/drivers/swarm_fedora_atomic_v1/driver.py', 'magnum/drivers/heat/driver.py', 'magnum/conductor/utils.py', 'magnum/drivers/swarm_fedora_atomic_v2/driver.py', 'releasenotes/notes/upgrade-api-975233ab93c0c092.yaml', 'magnum/api/controllers/versions.py', 'magnum/drivers/k8s_coreos_v1/driver.py', 'magnum/conductor/api.py', 'magnum/tests/unit/api/controllers/v1/test_cluster_actions.py', 'magnum/api/controllers/v1/cluster_actions.py', 'magnum/tests/unit/api/controllers/test_root.py', 'magnum/common/exception.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/9b1bd5da54b9b3a5ad10a8efa1962b61320c3150', 'message': 'Add cluster upgrade to the API\n\nTo enable the rolling upgrade ability of Kubernetes Cluster, this\npatch is proposing a new API /upgrade to support upgrade the\nbase operating system of nodes and the version of Kubernetes, even\nadd-ons running on the k8s cluster:\n\nPOST <ClusterID>/actions/upgrade\n\nAnd the post body will be:\n\n{\n    ""cluster_template"": \'dd9cc5ed-3a2b-11e9-9233-fa163e46bcc2\',\n    ""max_batch_size"": 1,\n    ""nodegroup"": ""production_group""\n}\n\nCo-Authored-By: Feilong Wang <flwang@catalyst.net.nz>\n\nTask: 30168\nStory: 2002210\n\nChange-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576\n'}]",6,514959,9b1bd5da54b9b3a5ad10a8efa1962b61320c3150,59,8,22,20498,,,0,"Add cluster upgrade to the API

To enable the rolling upgrade ability of Kubernetes Cluster, this
patch is proposing a new API /upgrade to support upgrade the
base operating system of nodes and the version of Kubernetes, even
add-ons running on the k8s cluster:

POST <ClusterID>/actions/upgrade

And the post body will be:

{
    ""cluster_template"": 'dd9cc5ed-3a2b-11e9-9233-fa163e46bcc2',
    ""max_batch_size"": 1,
    ""nodegroup"": ""production_group""
}

Co-Authored-By: Feilong Wang <flwang@catalyst.net.nz>

Task: 30168
Story: 2002210

Change-Id: Ia168877778aa0d473383eb06b1c8a16dc06b0576
",git fetch https://review.opendev.org/openstack/magnum refs/changes/59/514959/7 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_ironic_v1/driver.py', 'magnum/drivers/mesos_ubuntu_v1/driver.py', 'magnum/drivers/common/driver.py', 'magnum/drivers/k8s_fedora_atomic_v1/driver.py', 'magnum/conductor/handlers/cluster_conductor.py', 'magnum/drivers/swarm_fedora_atomic_v1/driver.py', 'magnum/drivers/heat/driver.py', 'magnum/drivers/swarm_fedora_atomic_v2/driver.py', 'magnum/drivers/k8s_coreos_v1/driver.py', 'magnum/conductor/api.py', 'magnum/api/controllers/v1/cluster_actions.py', 'magnum/api/controllers/v1/cluster.py']",12,6b28161d44698f73a7f83fac5e948b03341449de,story/2002210-30168-new,from magnum.api.controllers.v1 import cluster_actions actions = cluster_actions.ActionsController() ,,173,0
openstack%2Fironic-python-agent~master~I2e6c628360aecf81039089af78b19fe6a956e564,openstack/ironic-python-agent,master,I2e6c628360aecf81039089af78b19fe6a956e564,Software RAID: Fix shell commands,MERGED,2019-06-05 15:39:33.000000000,2019-06-07 02:31:46.000000000,2019-06-07 02:31:45.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-05 15:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4d685bd4a5c5d80b978bdf7f66819ec28a24dd1a', 'message': ""Software RAID: Fix shell commands\n\nPass an array to utils.execute() or enforce string usage\nvia 'shell=True', but don't mix.\n\nFollow-up to Id20302537f7994982c7584af546a7e7520e9612b\n\nChange-Id: I2e6c628360aecf81039089af78b19fe6a956e564\n""}, {'number': 2, 'created': '2019-06-06 11:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cbb2fea6afd3c869a933efb00316094613f1f120', 'message': ""Software RAID: Fix shell commands\n\nPass an array to utils.execute() or enforce string usage\nvia 'shell=True', but don't mix.\n\nFollow-up to Id20302537f7994982c7584af546a7e7520e9612b\n\nChange-Id: I2e6c628360aecf81039089af78b19fe6a956e564\n""}, {'number': 3, 'created': '2019-06-06 11:59:40.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4535305c1d3aef15a575e22040f4c844394ed1be', 'message': ""Software RAID: Fix shell commands\n\nPass an array to utils.execute() or enforce string usage\nvia 'shell=True', but don't mix.\n\nFollow-up to Id20302537f7994982c7584af546a7e7520e9612b\n\nChange-Id: I2e6c628360aecf81039089af78b19fe6a956e564\n""}]",3,663361,4535305c1d3aef15a575e22040f4c844394ed1be,20,5,3,11292,,,0,"Software RAID: Fix shell commands

Pass an array to utils.execute() or enforce string usage
via 'shell=True', but don't mix.

Follow-up to Id20302537f7994982c7584af546a7e7520e9612b

Change-Id: I2e6c628360aecf81039089af78b19fe6a956e564
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/61/663361/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py']",2,4d685bd4a5c5d80b978bdf7f66819ec28a24dd1a,software_raid_shell_fix," mock.call(cmd_md0, shell=True), mock.call(cmd_md1, shell=True)])"," mock.call(cmd_md0), mock.call(cmd_md1)])",7,7
openstack%2Fkolla-ansible~master~I7fe042f77bac7736856d34adee6c9a17ed39e35b,openstack/kolla-ansible,master,I7fe042f77bac7736856d34adee6c9a17ed39e35b,Remove nova-consoleauth,ABANDONED,2019-05-24 17:38:22.000000000,2019-06-07 02:13:00.000000000,,"[{'_account_id': 7488}, {'_account_id': 11604}, {'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-24 17:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fdb08ab7873848cd683592f72fbd3ca1875da949', 'message': ""Remove nova-consoleauth\n\nThe nova-consoleauth service was deprecated during the Rocky release [1]\nand has not been necessary since unless you're using cells v1. As Kolla\nhas never supported cells v1, which is finally being removed during\nTrain [2], we can get ahead of the curve and stop deploying\nnova-consoleauth immediately.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/rocky/implemented/convert-consoles-to-objects.html\n[2] https://blueprints.launchpad.net/nova/+spec/remove-cells-v1/\n\nChange-Id: I7fe042f77bac7736856d34adee6c9a17ed39e35b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2019-05-24 17:39:17.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'specs/high-availability.rst', 'ansible/site.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/nova/templates/nova-consoleauth.json.j2', 'ansible/roles/nova/tasks/config.yml', 'tests/templates/inventory.j2', 'ansible/roles/nova/handlers/main.yml', 'ansible/inventory/all-in-one', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d877c782af69df30579ce58596f110e5f9f69e55', 'message': ""Remove nova-consoleauth\n\nThe nova-consoleauth service was deprecated during the Rocky release [1]\nand has not been necessary since unless you're using cells v1. As Kolla\nhas never supported cells v1, which is finally being removed during\nTrain [2], we can get ahead of the curve and stop deploying\nnova-consoleauth immediately.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/rocky/implemented/convert-consoles-to-objects.html\n[2] https://blueprints.launchpad.net/nova/+spec/remove-cells-v1/\n\nChange-Id: I7fe042f77bac7736856d34adee6c9a17ed39e35b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,661366,d877c782af69df30579ce58596f110e5f9f69e55,15,5,2,15334,,,0,"Remove nova-consoleauth

The nova-consoleauth service was deprecated during the Rocky release [1]
and has not been necessary since unless you're using cells v1. As Kolla
has never supported cells v1, which is finally being removed during
Train [2], we can get ahead of the curve and stop deploying
nova-consoleauth immediately.

[1] https://specs.openstack.org/openstack/nova-specs/specs/rocky/implemented/convert-consoles-to-objects.html
[2] https://blueprints.launchpad.net/nova/+spec/remove-cells-v1/

Change-Id: I7fe042f77bac7736856d34adee6c9a17ed39e35b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/661366/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.14.conf.j2', 'specs/high-availability.rst', 'ansible/roles/nova/defaults/main.yml', 'ansible/site.yml', 'ansible/roles/nova/templates/nova-consoleauth.json.j2', 'ansible/roles/nova/tasks/config.yml', 'tests/templates/inventory.j2', 'ansible/roles/nova/handlers/main.yml', 'ansible/inventory/all-in-one', 'ansible/roles/common/templates/conf/filter/01-rewrite-0.12.conf.j2']",11,fdb08ab7873848cd683592f72fbd3ca1875da949,bp/remove-consoleauth, rewriterule3 programname ^(nova-api|nova-compute|nova-compute-ironic|nova-conductor|nova-manage|nova-novncproxy|nova-scheduler|nova-placement-api|placement-api|privsep-helper)$ openstack_python, rewriterule3 programname ^(nova-api|nova-compute|nova-compute-ironic|nova-conductor|nova-consoleauth|nova-manage|nova-novncproxy|nova-scheduler|nova-placement-api|placement-api|privsep-helper)$ openstack_python,12,90
openstack%2Floci~master~I49f6eecc133b6620bbd3aff2024f41de95af3056,openstack/loci,master,I49f6eecc133b6620bbd3aff2024f41de95af3056,Adding libapache2-mod-wsgi-py3 in bindep.txt,MERGED,2019-05-30 12:51:01.000000000,2019-06-07 01:10:30.000000000,2019-06-07 01:10:30.000000000,"[{'_account_id': 7822}, {'_account_id': 12281}, {'_account_id': 14525}, {'_account_id': 17068}, {'_account_id': 18795}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29954}]","[{'number': 1, 'created': '2019-05-30 12:51:01.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/loci/commit/f67e25503e2b1eed8088eaf3cd3d67ee074d013c', 'message': 'Adding libapache2-mod-wsgi-py3 in bindep.txt\n\nInstalling libapache2-mod-wsgi-py3 in case of python3 is used\ninside an image.\n\nChange-Id: I49f6eecc133b6620bbd3aff2024f41de95af3056\n'}]",0,662202,f67e25503e2b1eed8088eaf3cd3d67ee074d013c,12,8,1,29954,,,0,"Adding libapache2-mod-wsgi-py3 in bindep.txt

Installing libapache2-mod-wsgi-py3 in case of python3 is used
inside an image.

Change-Id: I49f6eecc133b6620bbd3aff2024f41de95af3056
",git fetch https://review.opendev.org/openstack/loci refs/changes/02/662202/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,f67e25503e2b1eed8088eaf3cd3d67ee074d013c,um,libapache2-mod-wsgi [platform:dpkg (apache !python3)] libapache2-mod-wsgi-py3 [platform:dpkg (apache python3)],libapache2-mod-wsgi [platform:dpkg apache],2,1
openstack%2Floci~master~I7c45ec5fcf14a737d59885ccf4bc8eeb558f9dd8,openstack/loci,master,I7c45ec5fcf14a737d59885ccf4bc8eeb558f9dd8,Remove curl from images,MERGED,2019-05-14 12:16:13.000000000,2019-06-07 01:10:29.000000000,2019-06-07 01:10:29.000000000,"[{'_account_id': 7822}, {'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-14 12:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/71aa9b8a595d0bf2da9a460145dad8b09fcc2bd5', 'message': ""Remove curl from images\n\nThere is no need for curl, per se, in the loci images.\nShould some project consume loci images and require curl added,\nthen it's that project duty to add curl inside it.\n\nChange-Id: I7c45ec5fcf14a737d59885ccf4bc8eeb558f9dd8\n""}, {'number': 2, 'created': '2019-05-30 06:44:36.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/loci/commit/7155b76adc5f065fee97589fbf131fb85adf6263', 'message': ""Remove curl from images\n\nThere is no need for curl, per se, in the loci images.\nShould some project consume loci images and require curl added,\nthen it's that project duty to add curl inside it.\n\nChange-Id: I7c45ec5fcf14a737d59885ccf4bc8eeb558f9dd8\n""}]",0,659051,7155b76adc5f065fee97589fbf131fb85adf6263,16,4,2,17068,,,0,"Remove curl from images

There is no need for curl, per se, in the loci images.
Should some project consume loci images and require curl added,
then it's that project duty to add curl inside it.

Change-Id: I7c45ec5fcf14a737d59885ccf4bc8eeb558f9dd8
",git fetch https://review.opendev.org/openstack/loci refs/changes/51/659051/2 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,71aa9b8a595d0bf2da9a460145dad8b09fcc2bd5,cleanup_curl,,curl [platform:suse heat],0,1
openstack%2Floci~master~I7b15709417dcdc17ae43e13add7770278289fab9,openstack/loci,master,I7b15709417dcdc17ae43e13add7770278289fab9,Fix fetch_wheels to work with hierahical registries,MERGED,2019-03-06 14:17:10.000000000,2019-06-07 01:10:29.000000000,2019-06-07 01:10:28.000000000,"[{'_account_id': 1390}, {'_account_id': 2243}, {'_account_id': 7822}, {'_account_id': 9373}, {'_account_id': 9542}, {'_account_id': 14119}, {'_account_id': 14525}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-03-06 14:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/b3bea6d367361b6ee350b6ef32e6b3e439335efa', 'message': 'WIP: allow to explicitly define registy host via REGISTRY_HOSTPORT\n\nChange-Id: I7b15709417dcdc17ae43e13add7770278289fab9\n'}, {'number': 2, 'created': '2019-03-06 14:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/6bb78cc30e86975fcf03ce29928b8598acbeb2a9', 'message': 'WIP: allow to explicitly define registy host via REGISTRY_HOSTPORT\n\nChange-Id: I7b15709417dcdc17ae43e13add7770278289fab9\n'}, {'number': 3, 'created': '2019-03-06 14:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/9b3de8cc2adacdfaa2605903f8a7577abd4504d1', 'message': 'WIP: allow to explicitly define registy host via REGISTRY_HOSTPORT\n\nChange-Id: I7b15709417dcdc17ae43e13add7770278289fab9\n'}, {'number': 4, 'created': '2019-03-06 15:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/6785ef51660aa486de747d4962c5cee979cf8845', 'message': 'WIP: allow to explicitly define registy host via REGISTRY_HOSTPORT\n\nChange-Id: I7b15709417dcdc17ae43e13add7770278289fab9\n'}, {'number': 5, 'created': '2019-04-25 15:23:02.000000000', 'files': ['scripts/fetch_wheels.py'], 'web_link': 'https://opendev.org/openstack/loci/commit/59c514092e17b8df9bfd7083c96219390e990b0e', 'message': 'Fix fetch_wheels to work with hierahical registries\n\nThis patch fixes fetch_wheels script to work with images\nstored in hierarchical folders like\n\n registry/foo/bar/myImage:latest\n\nChange-Id: I7b15709417dcdc17ae43e13add7770278289fab9\n'}]",1,641378,59c514092e17b8df9bfd7083c96219390e990b0e,17,10,5,14525,,,0,"Fix fetch_wheels to work with hierahical registries

This patch fixes fetch_wheels script to work with images
stored in hierarchical folders like

 registry/foo/bar/myImage:latest

Change-Id: I7b15709417dcdc17ae43e13add7770278289fab9
",git fetch https://review.opendev.org/openstack/loci refs/changes/78/641378/4 && git format-patch -1 --stdout FETCH_HEAD,['scripts/fetch_wheels.py'],1,b3bea6d367361b6ee350b6ef32e6b3e439335efa,mstr, if REGISTRY_HOSTPORT in os.environ: DOCKER_REGISTRY = os.environ['REGISTRY_HOSTPORT'] ,,3,0
openstack%2Fopenstack-helm-infra~master~I9bf05ab5c21f9afbe269e1566cfecd20b3c086c0,openstack/openstack-helm-infra,master,I9bf05ab5c21f9afbe269e1566cfecd20b3c086c0,Ingress: Add pod/container security context,MERGED,2019-05-17 05:23:37.000000000,2019-06-07 01:07:56.000000000,2019-06-06 11:53:11.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29161}]","[{'number': 1, 'created': '2019-05-17 05:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/addc32c569e36fdef4ec0cdee489aa4e14d908b2', 'message': 'Ingress: Fix read-only-fs\n\nThis PS permits read-only filesystems to back the containers by setting\nthe default to true\n\nChange-Id: I9bf05ab5c21f9afbe269e1566cfecd20b3c086c0\n'}, {'number': 2, 'created': '2019-05-17 06:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fabf2763ee4a83cdaa8cc4e587e849e76e65117e', 'message': 'Ingress: Fix read-only-fs\n\nThis PS permits read-only filesystems to back the containers by setting\nthe default to true\n\nChange-Id: I9bf05ab5c21f9afbe269e1566cfecd20b3c086c0\n'}, {'number': 3, 'created': '2019-05-20 15:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b4111503c68e31360608944ba36f362b921c754e', 'message': 'Ingress: Fix read-only-fs\n\nThis PS permits read-only filesystems to back the containers by setting\nthe default to true\n\nChange-Id: I9bf05ab5c21f9afbe269e1566cfecd20b3c086c0\n'}, {'number': 4, 'created': '2019-05-21 16:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5e84ec39367d54e8f8061688d83e3cedda659d9b', 'message': 'Ingress: Fix read-only-fs\n\nThis PS permits read-only filesystems to back the containers by setting\nthe default to true\n\nChange-Id: I9bf05ab5c21f9afbe269e1566cfecd20b3c086c0\n'}, {'number': 5, 'created': '2019-05-23 14:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/959c13b3b8f56475e4aa98d8f6b19d0791e83055', 'message': 'Ingress: Fix read-only-fs\n\nThis PS permits read-only filesystems to back the containers by setting\nthe default to true\n\nChange-Id: I9bf05ab5c21f9afbe269e1566cfecd20b3c086c0\n'}, {'number': 6, 'created': '2019-05-24 16:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/efc9a3c76d34b0d762ea8dbdfb867acd99660f85', 'message': 'Ingress: Fix read-only-fs\n\nThis PS permits read-only filesystems to back the containers by setting\nthe default to true\n\nChange-Id: I9bf05ab5c21f9afbe269e1566cfecd20b3c086c0\n'}, {'number': 7, 'created': '2019-05-28 14:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/71b3849b0edab66cde97db6299b35f66c2598d57', 'message': 'Ingress: Fix read-only-fs\n\nThis PS permits read-only filesystems to back the containers by setting\nthe default to true\n\nChange-Id: I9bf05ab5c21f9afbe269e1566cfecd20b3c086c0\n'}, {'number': 8, 'created': '2019-05-29 15:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ae625cd2eac016cbca445a902d08709e76fa0729', 'message': 'Ingress: Fix read-only-fs\n\nThis PS permits read-only filesystems to back the containers by setting\nthe default to true\n\nChange-Id: I9bf05ab5c21f9afbe269e1566cfecd20b3c086c0\n'}, {'number': 9, 'created': '2019-05-30 20:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fcc014b38370497060de867fc286a5c03c658829', 'message': 'Ingress: Fix read-only-fs\n\nThis PS permits read-only filesystems to back the containers by setting\nthe default to true\n\nChange-Id: I9bf05ab5c21f9afbe269e1566cfecd20b3c086c0\n'}, {'number': 10, 'created': '2019-06-03 01:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7c86bc22e53b9b4b39ead3dc5e16fb23aba8b854', 'message': 'Ingress: Fix read-only-fs\n\nThis PS permits read-only filesystems to back the containers by setting\nthe default to true\n\nChange-Id: I9bf05ab5c21f9afbe269e1566cfecd20b3c086c0\n'}, {'number': 11, 'created': '2019-06-04 20:21:14.000000000', 'files': ['ingress/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a0d67a11171ae70b2123c7a8ad1ed4ceced4d9b9', 'message': 'Ingress: Add pod/container security context\n\nThis updates the etcd chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem to true\n\nChange-Id: I9bf05ab5c21f9afbe269e1566cfecd20b3c086c0\n'}]",2,659719,a0d67a11171ae70b2123c7a8ad1ed4ceced4d9b9,34,6,11,29161,,,0,"Ingress: Add pod/container security context

This updates the etcd chart to include the pod
security context on the pod template.

This also adds the container security context to set
readOnlyRootFilesystem to true

Change-Id: I9bf05ab5c21f9afbe269e1566cfecd20b3c086c0
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/19/659719/10 && git format-patch -1 --stdout FETCH_HEAD,"['ingress/templates/deployment-ingress.yaml', 'ingress/values.yaml']",2,addc32c569e36fdef4ec0cdee489aa4e14d908b2,ingress, readOnlyRootFilesystem: true readOnlyRootFilesystem: true ingress: readOnlyRootFilesystem: true readOnlyRootFilesystem: true, readOnlyRootFilesystem: false readOnlyRootFilesystem: false ingress: readOnlyRootFilesystem: false readOnlyRootFilesystem: false,14,4
openstack%2Fpython-tripleoclient~master~I44d19692fb7ab16797460215a98baf75e6b82034,openstack/python-tripleoclient,master,I44d19692fb7ab16797460215a98baf75e6b82034,Implement tripleo container image list command,MERGED,2019-04-03 13:42:41.000000000,2019-06-07 00:53:11.000000000,2019-06-07 00:53:11.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2019-04-03 13:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/73945bd0a7c337ce7bc12861b42b0629ddf10878', 'message': 'WIP - Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\nTODO: Currently a barebones stub, development is in progress.\n'}, {'number': 2, 'created': '2019-04-03 13:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/608bea5f2999700974c97cdd07554245fcfd9d11', 'message': 'WIP - Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nTODO: Currently a barebones stub, development is in progress.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\n'}, {'number': 3, 'created': '2019-04-09 13:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/75bfb9618f4ca5a870149cb177846dfd0171a211', 'message': 'WIP - Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nTODO: Currently a barebones stub, development is in progress.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\n'}, {'number': 4, 'created': '2019-04-09 16:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/39833f4b550b614be93c16fc861374283ce9ac9b', 'message': 'WIP - Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nTODO: Currently a barebones stub, development is in progress.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\n'}, {'number': 5, 'created': '2019-04-09 19:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/00a59f55258e1e710a3b9e49c3688af81e67627e', 'message': 'WIP - Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nTODO: Currently a barebones stub, development is in progress.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\n'}, {'number': 6, 'created': '2019-04-09 19:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/41a06052bc4ef8d6361a06c8fe6041a7587b0091', 'message': 'WIP - Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nTODO: Currently a barebones stub, development is in progress.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\n'}, {'number': 7, 'created': '2019-04-09 19:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0043a97bf7a1d3fd6a1df53a4620a94bbd1db65e', 'message': 'WIP - Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nTODO: Currently a barebones stub, development is in progress.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\n'}, {'number': 8, 'created': '2019-04-10 13:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0dfb55f60c97131ea386798a04ff6210ded1fa61', 'message': 'WIP - Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nTODO: Currently a barebones stub, development is in progress.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\n'}, {'number': 9, 'created': '2019-04-10 13:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4cc81777d6d2f442b7ea11d1399b56ce3fd13d20', 'message': 'WIP - Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nTODO: Currently a barebones stub, development is in progress.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\n'}, {'number': 10, 'created': '2019-04-16 14:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e6d676614d4e0e55153f3589c9bda2b7867a1f36', 'message': 'WIP - Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nTODO: Currently a barebones stub, development is in progress.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\n'}, {'number': 11, 'created': '2019-04-16 20:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f14d922f8bd581a71892dbc6a3dbd64ffd7ee141', 'message': 'WIP - Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nTODO: Currently a barebones stub, development is in progress.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\n'}, {'number': 12, 'created': '2019-04-16 21:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3824349ac37816fa31d3e19a14ce7be7e877260a', 'message': 'WIP - Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nTODO: Currently a barebones stub, development is in progress.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\n'}, {'number': 13, 'created': '2019-04-16 21:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/96d0331e85e3d31aea232680e94e9898772d7505', 'message': 'WIP - Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nTODO: Currently a barebones stub, development is in progress.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\n'}, {'number': 14, 'created': '2019-04-18 18:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2b9c29564030bd5ece14bb5e52591ef42618cc2b', 'message': 'WIP - Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nTODO: Currently a barebones stub, development is in progress.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\n'}, {'number': 15, 'created': '2019-05-29 19:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4eccf06839d7f2b369ec6970e9ab9af356acdbe3', 'message': 'Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\n'}, {'number': 16, 'created': '2019-05-30 13:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3bf3371952e4d886081ded695f8ece4ccb7f75c2', 'message': 'Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\n'}, {'number': 17, 'created': '2019-05-31 19:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e9320dd08499267b6388f660c66249a947ceb770', 'message': 'WIP - Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\n'}, {'number': 18, 'created': '2019-06-03 17:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d249b130c3dbc92a86a09a4064a7503ac11b40cf', 'message': 'WIP - Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\n'}, {'number': 19, 'created': '2019-06-04 13:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f0048d7a3e737f0f1ee09df4ebbf497085882c62', 'message': 'WIP - Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\n'}, {'number': 20, 'created': '2019-06-04 21:02:12.000000000', 'files': ['tripleoclient/v1/container_image.py', 'releasenotes/notes/tripleo-container-image-list-97d38a0e8a899d89.yaml', 'tripleoclient/tests/v1/test_container_image.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/611b286cea0c759b1c081bc3204dfa39503804db', 'message': 'Implement tripleo container image list command\n\nThis patch implements the tripleo container image list command, reading\nfor a remote registry URL, e.g. localhost:8787.\n\nReturns a single column ascii table with full names of each image\ndiscovered.\n\nChange-Id: I44d19692fb7ab16797460215a98baf75e6b82034\n'}]",8,649619,611b286cea0c759b1c081bc3204dfa39503804db,71,7,20,27427,,,0,"Implement tripleo container image list command

This patch implements the tripleo container image list command, reading
for a remote registry URL, e.g. localhost:8787.

Returns a single column ascii table with full names of each image
discovered.

Change-Id: I44d19692fb7ab16797460215a98baf75e6b82034
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/19/649619/20 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/container_image.py', 'setup.cfg']",2,73945bd0a7c337ce7bc12861b42b0629ddf10878,bp/podman-support, tripleo_container_image_list = tripleoclient.v1.container_image:TripleOImageList,,20,0
openstack%2Ftripleo-docs~master~If1633fc55fb35be4c564da8fff5f7259e0515a8f,openstack/tripleo-docs,master,If1633fc55fb35be4c564da8fff5f7259e0515a8f,Fix standalone docs for 2 NIC example,ABANDONED,2018-12-03 22:20:28.000000000,2019-06-07 00:51:51.000000000,,"[{'_account_id': 360}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-03 22:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/ff34340df1a6ff65ea7eac00be139c0943d7563b', 'message': ""Fix standalone docs for 2 NIC example\n\nThe gateway ip should be 192.168.24.2 as the 2 NIC example from step 5\nearlier in the doc set $IP to 192.168.24.2. In this example,\n192.168.24.1 is never actually assigned anywhere so it can't be the\ngateway ip.\n\nThe OS::TripleO::Services::MasqueradeNetworks service is also included\nby default with the environments/services/masquerade-networks.yaml\nenvironments file as the network range (default:\n192.168.24.0/24) needs to be masqueraded by default in order for any\nlaunched instances to get external access.\n\nAlso fixes the value for the start of the public net allocation pool.\n\nAlso updates a usage of the deprecated environments/standalone.yaml in\nfavor of environments/standalone/standalone-tripleo.yaml.\n\nChange-Id: If1633fc55fb35be4c564da8fff5f7259e0515a8f\n""}, {'number': 2, 'created': '2018-12-18 22:56:45.000000000', 'files': ['doc/source/install/containers_deployment/standalone.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/15f6f093acedc09907d9d32e95537a6f6e5a015e', 'message': ""Fix standalone docs for 2 NIC example\n\nThe gateway ip should be 192.168.24.2 as the 2 NIC example from step 5\nearlier in the doc set $IP to 192.168.24.2. In this example,\n192.168.24.1 is never actually assigned anywhere so it can't be the\ngateway ip.\n\nThe OS::TripleO::Services::MasqueradeNetworks service is also included\nby default with the environments/services/masquerade-networks.yaml\nenvironments file as the network range (default:\n192.168.24.0/24) needs to be masqueraded by default in order for any\nlaunched instances to get external access.\n\nAlso fixes the value for the start of the public net allocation pool.\n\nAlso updates a usage of the deprecated environments/standalone.yaml in\nfavor of environments/standalone/standalone-tripleo.yaml.\n\nChange-Id: If1633fc55fb35be4c564da8fff5f7259e0515a8f\n""}]",8,621716,15f6f093acedc09907d9d32e95537a6f6e5a015e,13,5,2,7144,,,0,"Fix standalone docs for 2 NIC example

The gateway ip should be 192.168.24.2 as the 2 NIC example from step 5
earlier in the doc set $IP to 192.168.24.2. In this example,
192.168.24.1 is never actually assigned anywhere so it can't be the
gateway ip.

The OS::TripleO::Services::MasqueradeNetworks service is also included
by default with the environments/services/masquerade-networks.yaml
environments file as the network range (default:
192.168.24.0/24) needs to be masqueraded by default in order for any
launched instances to get external access.

Also fixes the value for the start of the public net allocation pool.

Also updates a usage of the deprecated environments/standalone.yaml in
favor of environments/standalone/standalone-tripleo.yaml.

Change-Id: If1633fc55fb35be4c564da8fff5f7259e0515a8f
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/16/621716/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/containers_deployment/standalone.rst'],1,ff34340df1a6ff65ea7eac00be139c0943d7563b,," MasqueradeNetworks: '192.168.24.0/24': ['192.168.24.0/24', '192.168.25.0/24'] -e /usr/share/openstack-tripleo-heat-templates/environments/services/masquerade-networks.yaml \ -e /usr/share/openstack-tripleo-heat-templates/environments/standalone/standalone-tripleo.yaml \ -e /usr/share/openstack-tripleo-heat-templates/environments/services/masquerade-networks.yaml \ export GATEWAY=192.168.24.2 export PUBLIC_NET_START=192.168.24.3", -e /usr/share/openstack-tripleo-heat-templates/environments/standalone.yaml \ export GATEWAY=192.168.24.1 export PUBLIC_NET_START=192.168.0.3,7,3
openstack%2Fneutron~master~I1f33535b201d49b875437bcc3397fcb465118064,openstack/neutron,master,I1f33535b201d49b875437bcc3397fcb465118064,Add Timer context manager class,MERGED,2019-05-24 11:24:10.000000000,2019-06-07 00:30:45.000000000,2019-06-06 14:48:24.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30412}]","[{'number': 1, 'created': '2019-05-24 11:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc00c983a14cc00bab4b7f011caf025223c95ae3', 'message': ""Add Timer context manager class\n\nThis class creates a context that:\n* Triggers a timeout exception if the timeout is set.\n* Returns the time elapsed since the context was initialized.\n* Returns the time spent in the context once it's closed.\n\nThe timeout exception can be suppressed; when the time expires, the\ncontext finishes without rising TimerTimeout.\n\nChange-Id: I1f33535b201d49b875437bcc3397fcb465118064\nRelated-Bug: #1680183\n""}, {'number': 2, 'created': '2019-05-27 09:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8e672a2d845b8dac3aeade9f4ddd525d5852c12', 'message': ""Add Timer context manager class\n\nThis class creates a context that:\n* Triggers a timeout exception if the timeout is set.\n* Returns the time elapsed since the context was initialized.\n* Returns the time spent in the context once it's closed.\n\nThe timeout exception can be suppressed; when the time expires, the\ncontext finishes without rising TimerTimeout.\n\nChange-Id: I1f33535b201d49b875437bcc3397fcb465118064\nRelated-Bug: #1680183\n""}, {'number': 3, 'created': '2019-05-27 13:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a65628920ef5b9aeb0b18387312e9f5eb6b8107', 'message': ""Add Timer context manager class\n\nThis class creates a context that:\n* Triggers a timeout exception if the timeout is set.\n* Returns the time elapsed since the context was initialized.\n* Returns the time spent in the context once it's closed.\n\nThe timeout exception can be suppressed; when the time expires, the\ncontext finishes without rising TimerTimeout.\n\nChange-Id: I1f33535b201d49b875437bcc3397fcb465118064\nRelated-Bug: #1680183\n""}, {'number': 4, 'created': '2019-05-27 16:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0eda5d3f0557eb25a3e39b5cc0ac47d589e0ed50', 'message': ""Add Timer context manager class\n\nThis class creates a context that:\n* Triggers a timeout exception if the timeout is set.\n* Returns the time elapsed since the context was initialized.\n* Returns the time spent in the context once it's closed.\n\nThe timeout exception can be suppressed; when the time expires, the\ncontext finishes without rising TimerTimeout.\n\nChange-Id: I1f33535b201d49b875437bcc3397fcb465118064\nRelated-Bug: #1680183\n""}, {'number': 5, 'created': '2019-05-28 09:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a5f096f2b521a5c21543842d45d73c9444ca7745', 'message': ""Add Timer context manager class\n\nThis class creates a context that:\n* Triggers a timeout exception if the timeout is set.\n* Returns the time elapsed since the context was initialized.\n* Returns the time spent in the context once it's closed.\n\nThe timeout exception can be suppressed; when the time expires, the\ncontext finishes without rising TimerTimeout.\n\nChange-Id: I1f33535b201d49b875437bcc3397fcb465118064\nRelated-Bug: #1680183\n""}, {'number': 6, 'created': '2019-06-05 09:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d2e5726ab2e36b6d9cabbadd55117bce77faf60', 'message': 'Add Timer context manager class\n\nThis class creates a context that:\n* Triggers a timeout exception if the timeout is set.\n* Returns the time elapsed since the context was initialized.\n* Returns the time spent in the context once it\'s closed.\n\nThe timeout exception can be suppressed; when the time expires, the\ncontext finishes without rising TimerTimeout.\n\nThis class can be used to execute blocking methods and finish them if\nthere is no return. For example, in the followup patch [1], this class\nis used in the method ""neutron.agent.linux.ip_lib.ip_monitor"" to control\nhow much time the blocking function ""IPRSocket.get"" is being called. By\nusing this strategy the method ""ip_monitor"" can be finished gracefully\nusing an external event signal in the main loop.\n\n[1] https://review.opendev.org/#/c/660611/\n\nChange-Id: I1f33535b201d49b875437bcc3397fcb465118064\nRelated-Bug: #1680183\n'}, {'number': 7, 'created': '2019-06-05 17:23:43.000000000', 'files': ['neutron/common/utils.py', 'neutron/tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ea01444dd75d2d15658c808e052143deaf66543', 'message': 'Add Timer context manager class\n\nThis class creates a context that:\n* Triggers a timeout exception if the timeout is set.\n* Returns the time elapsed since the context was initialized.\n* Returns the time spent in the context once it\'s closed.\n\nThe timeout exception can be suppressed; when the time expires, the\ncontext finishes without rising TimerTimeout.\n\nThis class can be used to execute blocking methods and finish them if\nthere is no return. For example, in the followup patch [1], this class\nis used in the method ""neutron.agent.linux.ip_lib.ip_monitor"" to control\nhow much time the blocking function ""IPRSocket.get"" is being called. By\nusing this strategy the method ""ip_monitor"" can be finished gracefully\nusing an external event signal in the main loop.\n\n[1] https://review.opendev.org/#/c/660611/\n\nChange-Id: I1f33535b201d49b875437bcc3397fcb465118064\nRelated-Bug: #1680183\n'}]",10,661257,6ea01444dd75d2d15658c808e052143deaf66543,50,10,7,16688,,,0,"Add Timer context manager class

This class creates a context that:
* Triggers a timeout exception if the timeout is set.
* Returns the time elapsed since the context was initialized.
* Returns the time spent in the context once it's closed.

The timeout exception can be suppressed; when the time expires, the
context finishes without rising TimerTimeout.

This class can be used to execute blocking methods and finish them if
there is no return. For example, in the followup patch [1], this class
is used in the method ""neutron.agent.linux.ip_lib.ip_monitor"" to control
how much time the blocking function ""IPRSocket.get"" is being called. By
using this strategy the method ""ip_monitor"" can be finished gracefully
using an external event signal in the main loop.

[1] https://review.opendev.org/#/c/660611/

Change-Id: I1f33535b201d49b875437bcc3397fcb465118064
Related-Bug: #1680183
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/661257/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/utils.py', 'neutron/tests/unit/common/test_utils.py']",2,dc00c983a14cc00bab4b7f011caf025223c95ae3,bug/1680183,"import time class TimerTestCase(base.BaseTestCase): def test__getattr(self): with utils.Timer() as timer: time.sleep(1) self.assertEqual(1, round(timer.total_seconds(), 0)) self.assertEqual(1, timer.delta.seconds) def test__enter_with_timeout(self): with utils.Timer(timeout=10) as timer: time.sleep(1) self.assertEqual(1, round(timer.total_seconds(), 0)) def test__enter_with_timeout_exception(self): with self.assertRaisesRegex(utils.TimerTimeout, 'Timer timeout expired, 1 seconds'): with utils.Timer(timeout=1): time.sleep(2) def test__enter_with_timeout_no_exception(self): with utils.Timer(timeout=1, raise_exception=False): time.sleep(2) def test__iter(self): iterations = [] for i in utils.Timer(timeout=2): iterations.append(i) time.sleep(1.1) self.assertEqual(2, len(iterations)) def test_delta_time_sec(self): with utils.Timer() as timer: self.assertIsInstance(timer.delta_time_sec(), float)",,102,0
openstack%2Fneutron~master~I0fbfcc7919f1b17b6bb0026fa9b98f157168255e,openstack/neutron,master,I0fbfcc7919f1b17b6bb0026fa9b98f157168255e,use test tools from neutron-lib,MERGED,2019-05-17 18:07:20.000000000,2019-06-07 00:29:35.000000000,2019-06-05 22:48:17.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-17 18:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5749802865a7da7b0840c761e41e42e717e2b87', 'message': ""use test tools from neutron-lib\n\nThis patch switches the code over to use neutron-lib's test tools module\nwhere appropriate rather than using neutron's.\nThis includes removing the following functions from neutron and using\nthem from lib instead:\n- get_random_EUI\n- get_random_ip_network\n- reset_random_seed\n\nDepends-On: https://review.opendev.org/#/c/659860/\nChange-Id: I0fbfcc7919f1b17b6bb0026fa9b98f157168255e\n""}, {'number': 2, 'created': '2019-05-21 17:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/74e883918b63fbc177e7e2a1a03228d3b43fdadf', 'message': ""use test tools from neutron-lib\n\nThis patch switches the code over to use neutron-lib's test tools module\nwhere appropriate rather than using neutron's.\nThis includes removing the following functions from neutron and using\nthem from lib instead:\n- get_random_EUI\n- get_random_ip_network\n- reset_random_seed\n\nDepends-On: https://review.opendev.org/#/c/659860/\nChange-Id: I0fbfcc7919f1b17b6bb0026fa9b98f157168255e\n""}, {'number': 3, 'created': '2019-05-23 14:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4804c8e9908638924ccdc663869fcd3b03019fcb', 'message': ""use test tools from neutron-lib\n\nThis patch switches the code over to use neutron-lib's test tools module\nwhere appropriate rather than using neutron's.\nThis includes removing the following functions from neutron and using\nthem from lib instead:\n- get_random_EUI\n- get_random_ip_network\n- reset_random_seed\n\nDepends-On: https://review.opendev.org/#/c/659860/\nChange-Id: I0fbfcc7919f1b17b6bb0026fa9b98f157168255e\n""}, {'number': 4, 'created': '2019-05-24 15:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/88f0ac64993c6e4f317fea2fc24177ffdef3b1ba', 'message': ""use test tools from neutron-lib\n\nThis patch switches the code over to use neutron-lib's test tools module\nwhere appropriate rather than using neutron's.\nThis includes removing the following functions from neutron and using\nthem from lib instead:\n- get_random_EUI\n- get_random_ip_network\n- reset_random_seed\n\nDepends-On: https://review.opendev.org/#/c/659860/\nChange-Id: I0fbfcc7919f1b17b6bb0026fa9b98f157168255e\n""}, {'number': 5, 'created': '2019-05-24 20:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b405fc94797363510f9c58ef57f9562ffcb755ce', 'message': ""use test tools from neutron-lib\n\nThis patch switches the code over to use neutron-lib's test tools module\nwhere appropriate rather than using neutron's.\nThis includes removing the following functions/classes from neutron and\nusing them from lib instead:\n- get_random_EUI\n- get_random_ip_network\n- reset_random_seed\n- OpenFixture\n\nDepends-On: https://review.opendev.org/#/c/661375/\nChange-Id: I0fbfcc7919f1b17b6bb0026fa9b98f157168255e\n""}, {'number': 6, 'created': '2019-05-28 19:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/382d8785715e4e63b3dfea85716093dce1c2e75a', 'message': ""use test tools from neutron-lib\n\nThis patch switches the code over to use neutron-lib's test tools module\nwhere appropriate rather than using neutron's.\nThis includes removing the following functions/classes from neutron and\nusing them from lib instead:\n- get_random_EUI\n- get_random_ip_network\n- reset_random_seed\n- OpenFixture\n\nDepends-On: https://review.opendev.org/#/c/661375/\nChange-Id: I0fbfcc7919f1b17b6bb0026fa9b98f157168255e\n""}, {'number': 7, 'created': '2019-06-04 20:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31ce5ae4f57d320f520b0b8cfca7aacc9a5bf531', 'message': ""use test tools from neutron-lib\n\nThis patch switches the code over to use neutron-lib's test tools module\nwhere appropriate rather than using neutron's.\nThis includes removing the following functions/classes from neutron and\nusing them from lib instead:\n- get_random_EUI\n- get_random_ip_network\n- reset_random_seed\n- OpenFixture\n\nChange-Id: I0fbfcc7919f1b17b6bb0026fa9b98f157168255e\n""}, {'number': 8, 'created': '2019-06-05 13:59:41.000000000', 'files': ['neutron/tests/unit/agent/linux/test_external_process.py', 'neutron/tests/unit/agent/linux/test_daemon.py', 'neutron/tests/unit/objects/test_common_types.py', 'neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/tests/unit/db/test_migration.py', 'neutron/tests/base.py', 'neutron/tests/unit/common/test_ipv6_utils.py', 'neutron/tests/unit/agent/l3/test_ha_router.py', 'neutron/tests/fullstack/base.py', 'neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/tests/tools.py', 'neutron/tests/unit/objects/test_ports.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/db/test_dvr_mac_db.py', 'neutron/tests/unit/agent/linux/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/03ec94ce5e4faaaccbe846da8621d9794983b18b', 'message': ""use test tools from neutron-lib\n\nThis patch switches the code over to use neutron-lib's test tools module\nwhere appropriate rather than using neutron's.\nThis includes removing the following functions/classes from neutron and\nusing them from lib instead:\n- get_random_EUI\n- get_random_ip_network\n- reset_random_seed\n- OpenFixture\n\nChange-Id: I0fbfcc7919f1b17b6bb0026fa9b98f157168255e\n""}]",0,659861,03ec94ce5e4faaaccbe846da8621d9794983b18b,57,11,8,5367,,,0,"use test tools from neutron-lib

This patch switches the code over to use neutron-lib's test tools module
where appropriate rather than using neutron's.
This includes removing the following functions/classes from neutron and
using them from lib instead:
- get_random_EUI
- get_random_ip_network
- reset_random_seed
- OpenFixture

Change-Id: I0fbfcc7919f1b17b6bb0026fa9b98f157168255e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/659861/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/fullstack/base.py', 'neutron/tests/tools.py', 'neutron/tests/unit/objects/test_ports.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/db/test_dvr_mac_db.py', 'neutron/tests/unit/objects/test_common_types.py', 'neutron/tests/base.py']",7,c5749802865a7da7b0840c761e41e42e717e2b87,bp/neutronlib-decouple-db,from neutron_lib.tests import tools as lib_test_tools lib_test_tools.reset_random_seed(), tools.reset_random_seed(),10,31
openstack%2Fpython-tripleoclient~stable%2Frocky~Idcdbd38129f5694c5452f3f8aca0388df80476b2,openstack/python-tripleoclient,stable/rocky,Idcdbd38129f5694c5452f3f8aca0388df80476b2,Raise proper exception at webscocket close,MERGED,2019-06-06 13:22:22.000000000,2019-06-07 00:28:45.000000000,2019-06-07 00:28:45.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2019-06-06 13:22:22.000000000', 'files': ['tripleoclient/plugin.py', 'tripleoclient/workflows/base.py', 'tripleoclient/tests/workflows/test_base.py', 'tripleoclient/exceptions.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8d9fa8ac0ab42dadd5f55e8f9c90e5a2f56573c6', 'message': 'Raise proper exception at webscocket close\n\nAfter fixing a bug with https://review.openstack.org/#/c/603802/ the\nreturn introduced there is bogus, we have to raise a proper exception\nand handle it like timeouts, to get all the mistral allright.\n\nChange-Id: Idcdbd38129f5694c5452f3f8aca0388df80476b2\n(cherry picked from commit fee9f8cf15d708e4b3b8bdf0f0ddd6df8ce5c223)\n'}]",0,663655,8d9fa8ac0ab42dadd5f55e8f9c90e5a2f56573c6,8,4,1,9712,,,0,"Raise proper exception at webscocket close

After fixing a bug with https://review.openstack.org/#/c/603802/ the
return introduced there is bogus, we have to raise a proper exception
and handle it like timeouts, to get all the mistral allright.

Change-Id: Idcdbd38129f5694c5452f3f8aca0388df80476b2
(cherry picked from commit fee9f8cf15d708e4b3b8bdf0f0ddd6df8ce5c223)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/55/663655/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/plugin.py', 'tripleoclient/workflows/base.py', 'tripleoclient/tests/workflows/test_base.py', 'tripleoclient/exceptions.py']",4,8d9fa8ac0ab42dadd5f55e8f9c90e5a2f56573c6,,"class WebSocketConnectionClosed(Exception): """"""Websocket connection is closed before wait for messages"""""" ",,32,14
openstack%2Fpython-openstackclient~master~I95d3d588e4abeb6848bdccf6915f7b5da40b5d4f,openstack/python-openstackclient,master,I95d3d588e4abeb6848bdccf6915f7b5da40b5d4f,Deprecate openstack server migrate --host option,MERGED,2019-05-15 22:04:02.000000000,2019-06-07 00:25:16.000000000,2019-06-06 19:05:45.000000000,"[{'_account_id': 2}, {'_account_id': 970}, {'_account_id': 6873}, {'_account_id': 9373}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-15 22:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/68047a22397ec428e1c1a4772378492e6beb919a', 'message': ""WIP: Deprecate openstack server migrate --host option\n\nPer the discussion at the Train Forum [1] this deprecates\nthe problematic --host option on the server migrate command\nwhich, depending on the compute API version used, forcefully\nbypasses the scheduler and also does not allow you to live\nmigrate a server and let the scheduler pick a host.\n\nThe --live option is replaced here with two new options:\n\n* --live-migration: this simply tells the command you want to\n  perform a live rather than cold migration\n\n* --host: when specified, this will request a target host for\n  the live migration and will be validated by the scheduler;\n  if not specified, the scheduler will pick a host\n\nWe can build on the --host option by supporting cold migrations\nwith a specified host when using compute API version 2.56 or\ngreater but that will come in a separate change.\n\nNote there are several related changes for this issue:\n\n- https://review.openstack.org/#/c/628334/\n- https://review.openstack.org/#/c/626949/\n- https://review.openstack.org/#/c/627801/\n- https://review.openstack.org/#/c/589012/\n- https://review.openstack.org/#/c/460059/\n\nThis change allows us to deprecate the --live option and provide\na replacement which is backward compatible without having to use\nsomething potentially error-prone like nargs='?'.\n\nCloses-Bug: #1411190\n\n[1] https://etherpad.openstack.org/p/DEN-osc-compute-api-gaps\n\nChange-Id: I95d3d588e4abeb6848bdccf6915f7b5da40b5d4f\n""}, {'number': 2, 'created': '2019-05-23 23:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2fd01cc5dc371bb0ee174f45b2004b1bd1bda99c', 'message': ""WIP: Deprecate openstack server migrate --host option\n\nPer the discussion at the Train Forum [1] this deprecates\nthe problematic --live option on the server migrate command\nwhich, depending on the compute API version used, forcefully\nbypasses the scheduler and also does not allow you to live\nmigrate a server and let the scheduler pick a host.\n\nThe --live option is replaced here with two new options:\n\n* --live-migration: this simply tells the command you want to\n  perform a live rather than cold migration\n\n* --host: when specified, this will request a target host for\n  the live migration and will be validated by the scheduler;\n  if not specified, the scheduler will pick a host\n\nWe can build on the --host option by supporting cold migrations\nwith a specified host when using compute API version 2.56 or\ngreater but that will come in a separate change.\n\nIf both --live and --live-migration are specified the --live\noption is ignored.\n\nNote there are several related changes for this issue:\n\n- https://review.openstack.org/#/c/628334/\n- https://review.openstack.org/#/c/626949/\n- https://review.openstack.org/#/c/627801/\n- https://review.openstack.org/#/c/589012/\n- https://review.openstack.org/#/c/460059/\n\nThis change allows us to deprecate the --live option and provide\na replacement which is backward compatible without having to use\nsomething potentially error-prone like nargs='?'.\n\nCloses-Bug: #1411190\n\n[1] https://etherpad.openstack.org/p/DEN-osc-compute-api-gaps\n\nChange-Id: I95d3d588e4abeb6848bdccf6915f7b5da40b5d4f\n""}, {'number': 3, 'created': '2019-05-24 00:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8e2f8818385e32cbad13b876974d2dc87b008122', 'message': ""WIP: Deprecate openstack server migrate --host option\n\nPer the discussion at the Train Forum [1] this deprecates\nthe problematic --live option on the server migrate command\nwhich, depending on the compute API version used, forcefully\nbypasses the scheduler and also does not allow you to live\nmigrate a server and let the scheduler pick a host.\n\nThe --live option is replaced here with two new options:\n\n* --live-migration: this simply tells the command you want to\n  perform a live rather than cold migration\n\n* --host: when specified, this will request a target host for\n  the live migration and will be validated by the scheduler;\n  if not specified, the scheduler will pick a host\n\nWe can build on the --host option by supporting cold migrations\nwith a specified host when using compute API version 2.56 or\ngreater but that will come in a separate change.\n\nIf both --live and --live-migration are specified the --live\noption is ignored.\n\nNote there are several related changes for this issue:\n\n- https://review.openstack.org/#/c/628334/\n- https://review.openstack.org/#/c/626949/\n- https://review.openstack.org/#/c/627801/\n- https://review.openstack.org/#/c/589012/\n- https://review.openstack.org/#/c/460059/\n\nThis change allows us to deprecate the --live option and provide\na replacement which is backward compatible without having to use\nsomething potentially error-prone like nargs='?'.\n\nCloses-Bug: #1411190\n\n[1] https://etherpad.openstack.org/p/DEN-osc-compute-api-gaps\n\nChange-Id: I95d3d588e4abeb6848bdccf6915f7b5da40b5d4f\n""}, {'number': 4, 'created': '2019-05-24 15:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b8312a6782d8411819b4b3b5f6896c340d33feaf', 'message': ""Deprecate openstack server migrate --host option\n\nPer the discussion at the Train Forum [1] this deprecates\nthe problematic --live option on the server migrate command\nwhich, depending on the compute API version used, forcefully\nbypasses the scheduler and also does not allow you to live\nmigrate a server and let the scheduler pick a host.\n\nThe --live option is replaced here with two new options:\n\n* --live-migration: this simply tells the command you want to\n  perform a live rather than cold migration; if specified with\n  --live the --live-migration option takes priority.\n\n* --host: when specified, this will request a target host for\n  the live migration and will be validated by the scheduler;\n  if not specified, the scheduler will pick a host. This option\n  is mutually exclusive with --live.\n\nWe can build on the --host option by supporting cold migrations\nwith a specified host when using compute API version 2.56 or\ngreater but that will come in a separate change.\n\nIf the --live option is ever used we log a warning.\n\nNote there are several related changes for this issue:\n\n- https://review.openstack.org/#/c/628334/\n- https://review.openstack.org/#/c/626949/\n- https://review.openstack.org/#/c/627801/\n- https://review.openstack.org/#/c/589012/\n- https://review.openstack.org/#/c/460059/\n\nThis change allows us to deprecate the --live option and provide\na replacement which is backward compatible without having to use\nsomething potentially error-prone like nargs='?'.\n\nCloses-Bug: #1411190\n\n[1] https://etherpad.openstack.org/p/DEN-osc-compute-api-gaps\n\nChange-Id: I95d3d588e4abeb6848bdccf6915f7b5da40b5d4f\n""}, {'number': 5, 'created': '2019-05-24 15:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2d8663a52e8d38e90596161a3bceada660f71a78', 'message': ""Deprecate openstack server migrate --host option\n\nPer the discussion at the Train Forum [1] this deprecates\nthe problematic --live option on the server migrate command\nwhich, depending on the compute API version used, forcefully\nbypasses the scheduler and also does not allow you to live\nmigrate a server and let the scheduler pick a host.\n\nThe --live option is replaced here with two new options:\n\n* --live-migration: this simply tells the command you want to\n  perform a live rather than cold migration; if specified with\n  --live the --live-migration option takes priority.\n\n* --host: when specified, this will request a target host for\n  the live migration and will be validated by the scheduler;\n  if not specified, the scheduler will pick a host. This option\n  is mutually exclusive with --live.\n\nWe can build on the --host option by supporting cold migrations\nwith a specified host when using compute API version 2.56 or\ngreater but that will come in a separate change.\n\nIf the --live option is ever used we log a warning.\n\nNote there are several related changes for this issue:\n\n- https://review.openstack.org/#/c/628334/\n- https://review.openstack.org/#/c/626949/\n- https://review.openstack.org/#/c/627801/\n- https://review.openstack.org/#/c/589012/\n- https://review.openstack.org/#/c/460059/\n\nThis change allows us to deprecate the --live option and provide\na replacement which is backward compatible without having to use\nsomething potentially error-prone like nargs='?'.\n\nCloses-Bug: #1411190\n\n[1] https://etherpad.openstack.org/p/DEN-osc-compute-api-gaps\n\nChange-Id: I95d3d588e4abeb6848bdccf6915f7b5da40b5d4f\n""}, {'number': 6, 'created': '2019-05-24 19:58:02.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py', 'releasenotes/notes/bug-1411190-live-migration-host-655ae6befa6a3de2.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3057989714e5e510e275c454258e0f167ed551d2', 'message': ""Deprecate openstack server migrate --host option\n\nPer the discussion at the Train Forum [1] this deprecates\nthe problematic --live option on the server migrate command\nwhich, depending on the compute API version used, forcefully\nbypasses the scheduler and also does not allow you to live\nmigrate a server and let the scheduler pick a host.\n\nThe --live option is replaced here with two new options:\n\n* --live-migration: this simply tells the command you want to\n  perform a live rather than cold migration; if specified with\n  --live the --live-migration option takes priority.\n\n* --host: when specified, this will request a target host for\n  the live migration and will be validated by the scheduler;\n  if not specified, the scheduler will pick a host. This option\n  is mutually exclusive with --live.\n\nWe can build on the --host option by supporting cold migrations\nwith a specified host when using compute API version 2.56 or\ngreater but that will come in a separate change.\n\nIf the --live option is ever used we log a warning.\n\nNote there are several related changes for this issue:\n\n- https://review.openstack.org/#/c/628334/\n- https://review.openstack.org/#/c/626949/\n- https://review.openstack.org/#/c/627801/\n- https://review.openstack.org/#/c/589012/\n- https://review.openstack.org/#/c/460059/\n\nThis change allows us to deprecate the --live option and provide\na replacement which is backward compatible without having to use\nsomething potentially error-prone like nargs='?'.\n\nCloses-Bug: #1411190\n\n[1] https://etherpad.openstack.org/p/DEN-osc-compute-api-gaps\n\nChange-Id: I95d3d588e4abeb6848bdccf6915f7b5da40b5d4f\n""}]",25,659382,3057989714e5e510e275c454258e0f167ed551d2,30,6,6,6873,,,0,"Deprecate openstack server migrate --host option

Per the discussion at the Train Forum [1] this deprecates
the problematic --live option on the server migrate command
which, depending on the compute API version used, forcefully
bypasses the scheduler and also does not allow you to live
migrate a server and let the scheduler pick a host.

The --live option is replaced here with two new options:

* --live-migration: this simply tells the command you want to
  perform a live rather than cold migration; if specified with
  --live the --live-migration option takes priority.

* --host: when specified, this will request a target host for
  the live migration and will be validated by the scheduler;
  if not specified, the scheduler will pick a host. This option
  is mutually exclusive with --live.

We can build on the --host option by supporting cold migrations
with a specified host when using compute API version 2.56 or
greater but that will come in a separate change.

If the --live option is ever used we log a warning.

Note there are several related changes for this issue:

- https://review.openstack.org/#/c/628334/
- https://review.openstack.org/#/c/626949/
- https://review.openstack.org/#/c/627801/
- https://review.openstack.org/#/c/589012/
- https://review.openstack.org/#/c/460059/

This change allows us to deprecate the --live option and provide
a replacement which is backward compatible without having to use
something potentially error-prone like nargs='?'.

Closes-Bug: #1411190

[1] https://etherpad.openstack.org/p/DEN-osc-compute-api-gaps

Change-Id: I95d3d588e4abeb6848bdccf6915f7b5da40b5d4f
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/82/659382/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/server.py', 'releasenotes/notes/bug-1411190-live-migration-host-655ae6befa6a3de2.yaml']",2,68047a22397ec428e1c1a4772378492e6beb919a,bug/1411190,"--- deprecations: - | The ``--live`` option on the ``openstack server migrate`` command has been deprecated and is being replaced with two new options: * ``--live-migration``: This will signal that the migration is a live migration. * ``--host``: This can be used to request a target host for the live migration but requires ``--os-compute-api-version`` 2.30 or greater so the requested host can be validated by the scheduler. The ``--live`` option is problematic in that it requires a host and prior to compute API version 2.30, specifying a host during live migration will bypass validation by the scheduler which could result in failures to actually migrate the server to the specified host or over-subscribe the host. fixes: - | `Bug 1411190`_ has been fixed by providing a ``--live-migration`` and ``--host`` option to the ``openstack server migrate`` command. .. _Bug 1411190: https://bugs.launchpad.net/python-openstackclient/+bug/1411190 ",,80,7
openstack%2Ftripleo-ansible~master~Ibe998fbbb92fb746578d33c5881d2a627f297789,openstack/tripleo-ansible,master,Ibe998fbbb92fb746578d33c5881d2a627f297789,Update project README,MERGED,2019-06-05 14:19:26.000000000,2019-06-07 00:05:47.000000000,2019-06-07 00:05:47.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-06-05 14:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/da4d494651dbbcf4fb30c953187f3712c09f97b2', 'message': 'Update project README\n\nThis change updates the project readme file so that its more in\nline with the rest of the managed openstack projects.\n\nChange-Id: Ibe998fbbb92fb746578d33c5881d2a627f297789\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-06-05 17:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dfc24ff2f8771380f0f12a6fc3347020f454d8ea', 'message': 'Update project README\n\nThis change updates the project readme file so that its more in\nline with the rest of the managed openstack projects.\n\nChange-Id: Ibe998fbbb92fb746578d33c5881d2a627f297789\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-06-06 13:19:58.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d49c61157f529e7ef1a9c6674f3b477d588d6466', 'message': 'Update project README\n\nThis change updates the project readme file so that its more in\nline with the rest of the managed openstack projects.\n\nChange-Id: Ibe998fbbb92fb746578d33c5881d2a627f297789\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",4,663342,d49c61157f529e7ef1a9c6674f3b477d588d6466,17,6,3,7353,,,0,"Update project README

This change updates the project readme file so that its more in
line with the rest of the managed openstack projects.

Change-Id: Ibe998fbbb92fb746578d33c5881d2a627f297789
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/42/663342/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,da4d494651dbbcf4fb30c953187f3712c09f97b2,structure-update,"======================== Team and repository tags ======================== .. image:: https://governance.openstack.org/tc/badges/tripleo-ansible.svg :target: https://governance.openstack.org/tc/reference/tags/index.html .. Change things from this point on TripleO Ansible project repository. Contains Ansible playbooks, roles, and plugins for use with TripleO. Documentation for the project can be found at: `<https://docs.openstack.org/tripleo-ansible/latest/>`_ Release notes for the project can be found at: `<https://docs.openstack.org/releasenotes/tripleo-ansible/>`_ The project source code repository is located at: `<https://opendev.org/openstack/tripleo-ansible/>`_ The project home is at: `<https://launchpad.net/tripleo>`_ The project bug tracker is located at: `< https://bugs.launchpad.net/tripleo>`_",TripleO Ansible project repository. Contains playbooks for use with TripleO OpenStack deployments. An inventory file can be obtained by running:: tripleo-ansible-inventory Operations Playbooks -------------------- Contains playbooks for performing common cloud operations tasks.,22,6
openstack%2Fopenstacksdk~master~Ie98ec9cfd58badc2b05a2a144d1d559d7ed6553b,openstack/openstacksdk,master,Ie98ec9cfd58badc2b05a2a144d1d559d7ed6553b,Pin to latest os-service-types,MERGED,2019-06-06 17:47:44.000000000,2019-06-07 00:02:52.000000000,2019-06-07 00:02:52.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 17:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1bbc2c7096e88c6bd7872833f463b1d11a6c0dd4', 'message': 'Pin to latest os-service-types\n\nOpenstackSDK should always be using the latest os-service-types.\n\nThis commit bumps the lower bounds to the current latest version\n(1.7.0), and adds a canary test so that the CI will fail as soon as a\nnew os-service-types version hits upper-constraints.\n\nChange-Id: Ie98ec9cfd58badc2b05a2a144d1d559d7ed6553b\n'}, {'number': 2, 'created': '2019-06-06 20:57:34.000000000', 'files': ['requirements.txt', 'openstack/tests/unit/test_utils.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f7860861a12931d3fe139d80041ef9997a590316', 'message': 'Pin to latest os-service-types\n\nOpenstackSDK should always be using the latest os-service-types.\n\nThis commit bumps the lower bounds to the current latest version\n(1.7.0), and adds a canary test so that the CI will fail as soon as a\nnew os-service-types version hits upper-constraints.\n\nChange-Id: Ie98ec9cfd58badc2b05a2a144d1d559d7ed6553b\n'}]",0,663733,f7860861a12931d3fe139d80041ef9997a590316,11,2,2,14070,,,0,"Pin to latest os-service-types

OpenstackSDK should always be using the latest os-service-types.

This commit bumps the lower bounds to the current latest version
(1.7.0), and adds a canary test so that the CI will fail as soon as a
new os-service-types version hits upper-constraints.

Change-Id: Ie98ec9cfd58badc2b05a2a144d1d559d7ed6553b
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/33/663733/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'openstack/tests/unit/test_utils.py', 'lower-constraints.txt']",3,1bbc2c7096e88c6bd7872833f463b1d11a6c0dd4,os-service-types-version-canary,os-service-types==1.7.0,os-service-types==1.2.0,13,2
openstack%2Ftripleo-validations~stable%2Fstein~Idf75b8bf51dddc4e2165b8aec555dcb17ae9de7c,openstack/tripleo-validations,stable/stein,Idf75b8bf51dddc4e2165b8aec555dcb17ae9de7c,New validation: ensure image-serve service is working as expected,MERGED,2019-06-06 11:27:13.000000000,2019-06-06 23:56:41.000000000,2019-06-06 23:56:41.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-06 11:27:13.000000000', 'files': ['roles/image-serve/meta/main.yaml', 'playbooks/image-serve.yaml', 'roles/image-serve/tasks/main.yaml', 'roles/image-serve/defaults/main.yaml', 'roles/image-serve/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9d3d67647a8e93c495bcdcbdbaaa77fa64db069b', 'message': ""New validation: ensure image-serve service is working as expected\n\nThis new validation can be used as:\n- pre-upgrade\n- in-flight\n\nIt's also called as post-deploy and post-upgrade, although it's not\nthat useful.\n\nChange-Id: Idf75b8bf51dddc4e2165b8aec555dcb17ae9de7c\n(cherry picked from commit 8f7f0f5ddeb32e2e15c03329ea074bbd8f465df1)\n""}]",0,663605,9d3d67647a8e93c495bcdcbdbaaa77fa64db069b,7,3,1,11491,,,0,"New validation: ensure image-serve service is working as expected

This new validation can be used as:
- pre-upgrade
- in-flight

It's also called as post-deploy and post-upgrade, although it's not
that useful.

Change-Id: Idf75b8bf51dddc4e2165b8aec555dcb17ae9de7c
(cherry picked from commit 8f7f0f5ddeb32e2e15c03329ea074bbd8f465df1)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/05/663605/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/image-serve/meta/main.yaml', 'playbooks/image-serve.yaml', 'roles/image-serve/tasks/main.yaml', 'roles/image-serve/defaults/main.yaml', 'roles/image-serve/vars/main.yml']",5,9d3d67647a8e93c495bcdcbdbaaa77fa64db069b,image-serve-stable/stein,metadata: name: Image-serve availability description: Verify that image-serve service is ready groups: - pre-upgrade - post-deployment - post-upgrade ,,73,0
openstack%2Fkolla~master~I353ecd3ed04c78fd21f0108c5e1355280d3f3bb9,openstack/kolla,master,I353ecd3ed04c78fd21f0108c5e1355280d3f3bb9,Remove tripleo-ui,MERGED,2019-06-03 19:58:55.000000000,2019-06-06 23:53:01.000000000,2019-06-06 23:53:01.000000000,"[{'_account_id': 3153}, {'_account_id': 10112}, {'_account_id': 14826}, {'_account_id': 14985}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-06-03 19:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/538feabca48a4387648200297aa54b7afdcf305e', 'message': 'Remove tripleo-ui\n\nThe tripleo-ui project has been removed from the upstream. Remove the\nreferences to the tripleo-ui containers.\n\nChange-Id: I353ecd3ed04c78fd21f0108c5e1355280d3f3bb9\nCloses-Bug: #1831478\n'}, {'number': 2, 'created': '2019-06-05 15:21:20.000000000', 'files': ['kolla/image/build.py', 'docker/tripleo-ui/extend_start.sh', 'releasenotes/notes/remove-tripleo-ui-855da0b4f4c73385.yaml', 'docker/tripleo-ui/Dockerfile.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e0eb7b79b22a7577eb3b6eeabc19e8b79b068d9c', 'message': 'Remove tripleo-ui\n\nThe tripleo-ui project has been removed from the upstream. Remove the\nreferences to the tripleo-ui containers.\n\nChange-Id: I353ecd3ed04c78fd21f0108c5e1355280d3f3bb9\nCloses-Bug: #1831478\n'}]",0,662846,e0eb7b79b22a7577eb3b6eeabc19e8b79b068d9c,32,9,2,14985,,,0,"Remove tripleo-ui

The tripleo-ui project has been removed from the upstream. Remove the
references to the tripleo-ui containers.

Change-Id: I353ecd3ed04c78fd21f0108c5e1355280d3f3bb9
Closes-Bug: #1831478
",git fetch https://review.opendev.org/openstack/kolla refs/changes/46/662846/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/tripleo-ui/extend_start.sh', 'releasenotes/notes/remove-tripleo-ui-855da0b4f4c73385.yaml', 'docker/tripleo-ui/Dockerfile.j2', 'kolla/common/config.py']",5,538feabca48a4387648200297aa54b7afdcf305e,retire_tripleo_ui,," 'tripleo-ui': { 'type': 'url', 'location': ('$tarballs_base/tripleo-ui/' 'tripleo-ui-latest.tar.gz')},",4,89
openstack%2Ftripleo-heat-templates~stable%2Frocky~I5cea8cf283df45c965017e444a8363278666896c,openstack/tripleo-heat-templates,stable/rocky,I5cea8cf283df45c965017e444a8363278666896c,Start/enable OVS on neutron ovs agent nodes,MERGED,2019-06-04 16:32:21.000000000,2019-06-06 23:52:35.000000000,2019-06-06 23:52:35.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 30105}]","[{'number': 1, 'created': '2019-06-04 16:32:21.000000000', 'files': ['docker/services/neutron-ovs-agent.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a483d0b53c8b05607082943870c5a3d852f9a622', 'message': 'Start/enable OVS on neutron ovs agent nodes\n\nStart and enable the openvswitch service during host prep for hosts\nrunning the neutron ovs agent.\n\nNote: this is pre-stein only as stein uses systemd dependencies to make\nsure openvswitch is running when needed.\n\nChange-Id: I5cea8cf283df45c965017e444a8363278666896c\nCloses-Bug: #1804264\n'}]",0,663092,a483d0b53c8b05607082943870c5a3d852f9a622,9,5,1,6681,,,0,"Start/enable OVS on neutron ovs agent nodes

Start and enable the openvswitch service during host prep for hosts
running the neutron ovs agent.

Note: this is pre-stein only as stein uses systemd dependencies to make
sure openvswitch is running when needed.

Change-Id: I5cea8cf283df45c965017e444a8363278666896c
Closes-Bug: #1804264
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/663092/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/neutron-ovs-agent.yaml'],1,a483d0b53c8b05607082943870c5a3d852f9a622,bug/1804264, - name: ensure openvswitch service is enabled service: name: openvswitch state: started enabled: yes,,5,0
openstack%2Fcinder~master~I6a569362ecc8e4f2f3b7b0ce4a0e5068da0fb281,openstack/cinder,master,I6a569362ecc8e4f2f3b7b0ce4a0e5068da0fb281,Enable osprofiler for rally job,MERGED,2019-05-31 13:36:54.000000000,2019-06-06 23:38:29.000000000,2019-06-06 23:11:10.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-31 13:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/83cccc031c67c2c856d4238b1a9e8f6b8fc31562', 'message': 'Enable osprofiler for rally job\n\nRecord profiling info with rally.\n\nChange-Id: I6a569362ecc8e4f2f3b7b0ce4a0e5068da0fb281\n'}, {'number': 2, 'created': '2019-06-04 17:26:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/edc5fab12eeb1046589ba5a6cf7e9df887dbaf0d', 'message': 'Enable osprofiler for rally job\n\nRecord profiling info with rally.\n\nChange-Id: I6a569362ecc8e4f2f3b7b0ce4a0e5068da0fb281\n'}]",0,662466,edc5fab12eeb1046589ba5a6cf7e9df887dbaf0d,56,29,2,4523,,,0,"Enable osprofiler for rally job

Record profiling info with rally.

Change-Id: I6a569362ecc8e4f2f3b7b0ce4a0e5068da0fb281
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/662466/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,83cccc031c67c2c856d4238b1a9e8f6b8fc31562,662466, osprofiler: https://opendev.org/openstack/osprofiler - openstack/osprofiler,,2,0
openstack%2Fcinder~master~Ib14346026bd34f90aea588c35407e5e2af505866,openstack/cinder,master,Ib14346026bd34f90aea588c35407e5e2af505866,"Small doc updates: canonical URLs, rally doc, etc",MERGED,2019-06-04 15:59:17.000000000,2019-06-06 23:25:02.000000000,2019-06-06 23:11:08.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-06-04 15:59:17.000000000', 'files': ['doc/source/admin/blockstorage-groups.rst', 'doc/source/contributor/high_availability.rst', 'contrib/block-box/README.md', 'doc/source/configuration/block-storage/drivers/datera-volume-driver.rst', 'doc/source/reference/support-matrix.rst', 'rally-jobs/README.rst', 'doc/source/contributor/development.environment.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/11d74a2f08c0c815e288d51b077f53428a40e973', 'message': 'Small doc updates: canonical URLs, rally doc, etc\n\n- use the canonical URL on opendev.org for OpenStack projects\n  whenever it is possible;\n- use a reference to cinder-specs instead of the code repository;\n- update few rally URLs, removing one which does not exist anymore;\n- update the repository URL of the datera driver.\n\nChange-Id: Ib14346026bd34f90aea588c35407e5e2af505866\n'}]",0,663079,11d74a2f08c0c815e288d51b077f53428a40e973,40,30,1,10459,,,0,"Small doc updates: canonical URLs, rally doc, etc

- use the canonical URL on opendev.org for OpenStack projects
  whenever it is possible;
- use a reference to cinder-specs instead of the code repository;
- update few rally URLs, removing one which does not exist anymore;
- update the repository URL of the datera driver.

Change-Id: Ib14346026bd34f90aea588c35407e5e2af505866
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/663079/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/blockstorage-groups.rst', 'doc/source/contributor/high_availability.rst', 'contrib/block-box/README.md', 'doc/source/configuration/block-storage/drivers/datera-volume-driver.rst', 'doc/source/reference/support-matrix.rst', 'rally-jobs/README.rst', 'doc/source/contributor/development.environment.rst']",7,11d74a2f08c0c815e288d51b077f53428a40e973,minor-doc-updates, git clone https://opendev.org/openstack/cinder.git, git clone https://github.com/openstack/cinder.git,11,13
openstack%2Fpython-openstackclient~master~Id45788e17c5388cee54e79cab1c120cfcc8f9f62,openstack/python-openstackclient,master,Id45788e17c5388cee54e79cab1c120cfcc8f9f62,Batch up minor cleanups for release,MERGED,2019-05-19 19:44:22.000000000,2019-06-06 23:19:12.000000000,2019-06-06 23:19:12.000000000,"[{'_account_id': 970}, {'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-19 19:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fb0b2bbb51bf54d974fed662fd4ff3ac6eea6b64', 'message': 'Batch up minor cleanups for release\n\nChange-Id: Id45788e17c5388cee54e79cab1c120cfcc8f9f62\nSigned-off-by: Dean Troyer <dtroyer@gmail.com>\n'}, {'number': 2, 'created': '2019-05-20 13:41:50.000000000', 'files': ['releasenotes/notes/bug-27882-402ced7ffe930058.yaml', 'openstackclient/tests/functional/network/v2/test_floating_ip.py', 'releasenotes/source/pre_20_releases.rst', 'releasenotes/notes/bug-1633582-df2bee534c2da7fc.yaml', 'openstackclient/tests/functional/network/v2/test_subnet_pool.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6f1f44d422ed3f384ea6d4d729227277f0988b99', 'message': 'Batch up minor cleanups for release\n\nChange-Id: Id45788e17c5388cee54e79cab1c120cfcc8f9f62\nSigned-off-by: Dean Troyer <dtroyer@gmail.com>\n'}]",3,659982,6f1f44d422ed3f384ea6d4d729227277f0988b99,11,3,2,970,,,0,"Batch up minor cleanups for release

Change-Id: Id45788e17c5388cee54e79cab1c120cfcc8f9f62
Signed-off-by: Dean Troyer <dtroyer@gmail.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/82/659982/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-27882-402ced7ffe930058.yaml', 'openstackclient/tests/functional/network/v2/test_floating_ip.py', 'releasenotes/source/pre_20_releases.rst', 'openstackclient/tests/functional/network/v2/test_subnet_pool.py', 'releasenotes/notes/bug-1633582-df2bee534c2da7fc.yaml', 'releasenotes/notes/bug-2004314-402ced7ffe930058.yaml']",6,fb0b2bbb51bf54d974fed662fd4ff3ac6eea6b64,release-cleanup,--- fixes: - | The ``--limit`` option of the ``image list`` command was previously ignored. [Bug `2004314 <https://storyboard.openstack.org/#!/story/2004314>`_] ,,11,11
openstack%2Fpython-openstackclient~master~I4f28168188973730247bcbcb70ba0e70eb81e3be,openstack/python-openstackclient,master,I4f28168188973730247bcbcb70ba0e70eb81e3be,Add changes-before attribute to server list,MERGED,2019-05-06 11:09:13.000000000,2019-06-06 23:17:28.000000000,2019-06-06 17:40:48.000000000,"[{'_account_id': 841}, {'_account_id': 970}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 26458}, {'_account_id': 27190}, {'_account_id': 30092}, {'_account_id': 30105}, {'_account_id': 30384}]","[{'number': 1, 'created': '2019-05-06 11:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/345664019281c986da2c4e3206c1e8d33af57112', 'message': 'Add changes-before attribute to server list\n\nCloses-Bug: #1827844\nPart of bp boot-instance-specific-storage-backend\n\nChange-Id: I4f28168188973730247bcbcb70ba0e70eb81e3be\n'}, {'number': 2, 'created': '2019-05-12 02:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f80467cc6a4a752f4da66b2d8e0ebd0cdeda4269', 'message': 'Add changes-before attribute to server list\n\nCloses-Bug: #1827844\nPart of bp boot-instance-specific-storage-backend\n\nChange-Id: I4f28168188973730247bcbcb70ba0e70eb81e3be\n'}, {'number': 3, 'created': '2019-05-18 02:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1221da4e65fab4630e8a72150244eb3e5c3d87f2', 'message': 'Add changes-before attribute to server list\n\nCloses-Bug: #1827844\nPart of bp boot-instance-specific-storage-backend\n\nChange-Id: I4f28168188973730247bcbcb70ba0e70eb81e3be\n'}, {'number': 4, 'created': '2019-05-18 03:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5c44eba99ec555f2daabe876728a739c9126948e', 'message': 'Add changes-before attribute to server list\n\nCloses-Bug: #1827844\nPart of bp support-to-query-nova-resources-filter-by-changes-before\n\nChange-Id: I4f28168188973730247bcbcb70ba0e70eb81e3be\n'}, {'number': 5, 'created': '2019-05-23 02:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b5e8a2c60f095901f40029be554a051cc629194b', 'message': 'Add changes-before attribute to server list\n\nCloses-Bug: #1827844\nPart of bp support-to-query-nova-resources-filter-by-changes-before\n\nChange-Id: I4f28168188973730247bcbcb70ba0e70eb81e3be\n'}, {'number': 6, 'created': '2019-05-24 13:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6874b483c3f626a0c54bd68e0bc72c637e47a55e', 'message': 'Add changes-before attribute to server list\n\nCloses-Bug: #1827844\nPart of bp support-to-query-nova-resources-filter-by-changes-before\n\nChange-Id: I4f28168188973730247bcbcb70ba0e70eb81e3be\n'}, {'number': 7, 'created': '2019-05-27 06:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bb37acc956c24e1354c3c20d29a3127880c17bcb', 'message': 'Add changes-before attribute to server list\n\nCloses-Bug: #1827844\nPart of bp support-to-query-nova-resources-filter-by-changes-before\n\nChange-Id: I4f28168188973730247bcbcb70ba0e70eb81e3be\n'}, {'number': 8, 'created': '2019-05-28 07:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4107fa2cd6274672d4610b7db918fb302a9e8736', 'message': 'Add changes-before attribute to server list\n\nCloses-Bug: #1827844\nPart of bp support-to-query-nova-resources-filter-by-changes-before\n\nChange-Id: I4f28168188973730247bcbcb70ba0e70eb81e3be\n'}, {'number': 9, 'created': '2019-05-31 05:39:29.000000000', 'files': ['openstackclient/tests/functional/compute/v2/test_server.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py', 'releasenotes/notes/bug-1827844-8f1de120087c6a22.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ef1fd388154eee11b9e83f80e5004670fdffb6cc', 'message': 'Add changes-before attribute to server list\n\nCloses-Bug: #1827844\nPart of bp support-to-query-nova-resources-filter-by-changes-before\n\nChange-Id: I4f28168188973730247bcbcb70ba0e70eb81e3be\n'}]",20,657373,ef1fd388154eee11b9e83f80e5004670fdffb6cc,43,9,9,26458,,,0,"Add changes-before attribute to server list

Closes-Bug: #1827844
Part of bp support-to-query-nova-resources-filter-by-changes-before

Change-Id: I4f28168188973730247bcbcb70ba0e70eb81e3be
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/73/657373/9 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py', 'releasenotes/notes/bug-1827844-8f1de120087c6a22.yaml']",3,345664019281c986da2c4e3206c1e8d33af57112,bug/1827844,--- features: - | Add ``--changes-before`` options to ``server list`` command. [Bug `1827844 <https://bugs.launchpad.net/ubuntu/+source/python-openstackclient/+bug/1827844>`_],,67,0
openstack%2Frequirements~master~I653c9915768f2e743bc6bcf8ccb9bd7b003436de,openstack/requirements,master,I653c9915768f2e743bc6bcf8ccb9bd7b003436de,update constraint for oslo.service to new release 1.40.0,MERGED,2019-06-06 06:22:45.000000000,2019-06-06 23:11:06.000000000,2019-06-06 23:11:06.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 06:22:45.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/dac8b3ebcea1f26f5ff25c85843015adc1509a47', 'message': 'update constraint for oslo.service to new release 1.40.0\n\nChange-Id: I653c9915768f2e743bc6bcf8ccb9bd7b003436de\nmeta:version: 1.40.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I6c09e7d4d673c589c0134a483c074c67c1761f76\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n'}]",0,663505,dac8b3ebcea1f26f5ff25c85843015adc1509a47,8,2,1,11131,,,0,"update constraint for oslo.service to new release 1.40.0

Change-Id: I653c9915768f2e743bc6bcf8ccb9bd7b003436de
meta:version: 1.40.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I6c09e7d4d673c589c0134a483c074c67c1761f76
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/05/663505/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,dac8b3ebcea1f26f5ff25c85843015adc1509a47,new-release,oslo.service===1.40.0,oslo.service===1.39.0,1,1
openstack%2Frequirements~master~Ifa9d17c67a33266538b290e07130522e603dff5c,openstack/requirements,master,Ifa9d17c67a33266538b290e07130522e603dff5c,update constraint for python-troveclient to new release 2.18.0,MERGED,2019-06-06 06:53:04.000000000,2019-06-06 23:11:05.000000000,2019-06-06 23:11:05.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 06:53:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6fdf28f81c1bf911486e8b20de6ab6d76b1b9c55', 'message': 'update constraint for python-troveclient to new release 2.18.0\n\nChange-Id: Ifa9d17c67a33266538b290e07130522e603dff5c\nmeta:version: 2.18.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Change-Id: I986b2c44cf43e9a12fc0e3b1ceda0c06158a99fc\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n'}]",0,663521,6fdf28f81c1bf911486e8b20de6ab6d76b1b9c55,8,2,1,11131,,,0,"update constraint for python-troveclient to new release 2.18.0

Change-Id: Ifa9d17c67a33266538b290e07130522e603dff5c
meta:version: 2.18.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Change-Id: I986b2c44cf43e9a12fc0e3b1ceda0c06158a99fc
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/21/663521/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6fdf28f81c1bf911486e8b20de6ab6d76b1b9c55,new-release,python-troveclient===2.18.0,python-troveclient===2.17.0,1,1
openstack%2Fmistral~master~I4cb2d85c193531648540a37caca9ee868ede3a08,openstack/mistral,master,I4cb2d85c193531648540a37caca9ee868ede3a08,Rework updating action executions heartbeats,MERGED,2019-06-05 22:56:30.000000000,2019-06-06 23:03:47.000000000,2019-06-06 23:03:47.000000000,"[{'_account_id': 8731}, {'_account_id': 11391}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 22:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/001728f2d0d568e91476d9020c79dfa63da3cd7f', 'message': 'Rework updating action executions heartbeats\n\nNew function update_action_execution_heartbeat was introduced in db api\nto optimize updating of heartbeats.\n\nNow to perform the update mistral downloads an action execution object,\nthen modifies it, and finally  uploads back to the db using ORM.\nThis function removes initial object fetching and changes ORM update to\nsqlalchemy core.\n\nChange-Id: I4cb2d85c193531648540a37caca9ee868ede3a08\n'}, {'number': 2, 'created': '2019-06-06 07:04:33.000000000', 'files': ['mistral/db/v2/api.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py', 'mistral/engine/default_engine.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/e5031e26f12295fb4379cfe99ca0d7b4f53cd6e6', 'message': 'Rework updating action executions heartbeats\n\nNew function update_action_execution_heartbeat was introduced in db api\nto optimize updating of heartbeats.\n\nNow to perform the update mistral downloads an action execution object,\nthen modifies it, and finally  uploads back to the db using ORM.\nThis function removes initial object fetching and changes ORM update to\nsqlalchemy core.\n\nChange-Id: I4cb2d85c193531648540a37caca9ee868ede3a08\n'}]",3,663455,e5031e26f12295fb4379cfe99ca0d7b4f53cd6e6,17,3,2,11391,,,0,"Rework updating action executions heartbeats

New function update_action_execution_heartbeat was introduced in db api
to optimize updating of heartbeats.

Now to perform the update mistral downloads an action execution object,
then modifies it, and finally  uploads back to the db using ORM.
This function removes initial object fetching and changes ORM update to
sqlalchemy core.

Change-Id: I4cb2d85c193531648540a37caca9ee868ede3a08
",git fetch https://review.opendev.org/openstack/mistral refs/changes/55/663455/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/db/v2/api.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py', 'mistral/engine/default_engine.py']",4,001728f2d0d568e91476d9020c79dfa63da3cd7f,update_last_heartbeat, db_api.update_action_execution_heartbeat(exec_id)," now = u.utc_now_sec() db_api.update_action_execution( exec_id, {""last_heartbeat"": now}, insecure=True )",38,7
openstack%2Ftripleo-common~stable%2Fstein~Iec99d194d261ae0cdab93e2b1b4ed0d030feae7f,openstack/tripleo-common,stable/stein,Iec99d194d261ae0cdab93e2b1b4ed0d030feae7f,Adds redfish support to 'overcloud generate fencing'.,MERGED,2019-06-03 08:34:55.000000000,2019-06-06 22:45:04.000000000,2019-06-06 22:45:04.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-03 08:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6024c11c4441d340e84d2e8899244f49361b2537', 'message': ""Adds redfish support to 'overcloud generate fencing'.\n\nSee https://review.openstack.org/#/c/636889/.\n\nStill work in progress.\n\nChange-Id: Iec99d194d261ae0cdab93e2b1b4ed0d030feae7f\n(cherry picked from commit 9314396efc318ae4553932fa76f24e1071a69da9)\n""}, {'number': 2, 'created': '2019-06-03 08:46:58.000000000', 'files': ['tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/actions/parameters.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c93be003e547a40edf157690c90b6241a5f4ba59', 'message': ""Adds redfish support to 'overcloud generate fencing'.\n\nSee https://review.openstack.org/#/c/636889/.\n\nTested downstream.\n\nChange-Id: Iec99d194d261ae0cdab93e2b1b4ed0d030feae7f\n(cherry picked from commit 9314396efc318ae4553932fa76f24e1071a69da9)\n""}]",0,662716,c93be003e547a40edf157690c90b6241a5f4ba59,10,4,2,30126,,,0,"Adds redfish support to 'overcloud generate fencing'.

See https://review.openstack.org/#/c/636889/.

Tested downstream.

Change-Id: Iec99d194d261ae0cdab93e2b1b4ed0d030feae7f
(cherry picked from commit 9314396efc318ae4553932fa76f24e1071a69da9)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/16/662716/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/actions/parameters.py']",2,6024c11c4441d340e84d2e8899244f49361b2537,redifish-fencing-wip-stable/stein," if driver_proto in {'ipmi', 'ipmitool', 'drac', 'idrac', 'ilo', 'redfish'}: if driver_proto == ""redfish"": node_data[""agent""] = ""fence_redfish"" params[""systems_uri""] = node[""pm_system_id""] else: node_data[""agent""] = ""fence_ipmilan"" if ""redfish_verify_ca"" in node: if node[""redfish_verify_ca""] == ""false"": params[""ssl_insecure""] = ""true"" else: params[""ssl_insecure""] = ""false"""," if driver_proto in {'ipmi', 'ipmitool', 'drac', 'idrac', 'ilo'}: node_data[""agent""] = ""fence_ipmilan""",48,4
openstack%2Ftripleo-common~stable%2Fqueens~I14b69b9fb5234cf79a4d7e85de5f16df5ef7f7a2,openstack/tripleo-common,stable/queens,I14b69b9fb5234cf79a4d7e85de5f16df5ef7f7a2,[CVE-2019-3895] Set image owner id,MERGED,2019-06-04 10:31:15.000000000,2019-06-06 22:45:03.000000000,2019-06-06 22:45:03.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-04 10:31:15.000000000', 'files': ['playbooks/octavia-files.yaml', 'playbooks/roles/octavia-undercloud/tasks/image_mgmt.yml', 'playbooks/roles/octavia-controller-config/tasks/octavia.yml', 'releasenotes/notes/octavia-set-image-owner-id-adb197d5daae54f1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a80f1b03203a4a13af7659be4a6e9e7651e216c0', 'message': '[CVE-2019-3895] Set image owner id\n\nThis patch ensures [controller_worker]/amp_image_owner_id is set. This\nconfiguration option restricts Glance image selection to a specific\nowner ID. This is a recommended security setting.\n\nCloses-Bug: #1830607\n\nChange-Id: I14b69b9fb5234cf79a4d7e85de5f16df5ef7f7a2\n(cherry picked from commit e7c5eab712e0f70ecbc6d225d4766e0fe0f3f884)\n(cherry picked from commit 728e59ed5e21e9c25dca27792d21f19d9bd2037f)\n(cherry picked from commit 375192b136e6dd2a92b4f80655a32390fe20d01b)\n'}]",0,663003,a80f1b03203a4a13af7659be4a6e9e7651e216c0,8,4,1,6469,,,0,"[CVE-2019-3895] Set image owner id

This patch ensures [controller_worker]/amp_image_owner_id is set. This
configuration option restricts Glance image selection to a specific
owner ID. This is a recommended security setting.

Closes-Bug: #1830607

Change-Id: I14b69b9fb5234cf79a4d7e85de5f16df5ef7f7a2
(cherry picked from commit e7c5eab712e0f70ecbc6d225d4766e0fe0f3f884)
(cherry picked from commit 728e59ed5e21e9c25dca27792d21f19d9bd2037f)
(cherry picked from commit 375192b136e6dd2a92b4f80655a32390fe20d01b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/663003/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/octavia-files.yaml', 'playbooks/roles/octavia-undercloud/tasks/image_mgmt.yml', 'playbooks/roles/octavia-controller-config/tasks/octavia.yml', 'releasenotes/notes/octavia-set-image-owner-id-adb197d5daae54f1.yaml']",4,a80f1b03203a4a13af7659be4a6e9e7651e216c0,bug/1830607,--- security: - | Fixed a vulnerability where an attacker may cause new Octavia amphorae to run based on any arbitrary image (CVE-2019-3895). fixes: - | Ensure [controller_worker]/amp_image_owner_id is set. This configuration option restricts Glance image selection to a specific owner ID. This is a recommended security setting. ,,62,6
openstack%2Ftripleo-common~stable%2Frocky~I14b69b9fb5234cf79a4d7e85de5f16df5ef7f7a2,openstack/tripleo-common,stable/rocky,I14b69b9fb5234cf79a4d7e85de5f16df5ef7f7a2,[CVE-2019-3895] Set image owner id,MERGED,2019-06-04 10:30:33.000000000,2019-06-06 22:45:02.000000000,2019-06-06 22:45:02.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-04 10:30:33.000000000', 'files': ['playbooks/octavia-files.yaml', 'playbooks/roles/octavia-undercloud/tasks/image_mgmt.yml', 'playbooks/roles/octavia-controller-config/tasks/octavia.yml', 'releasenotes/notes/octavia-set-image-owner-id-adb197d5daae54f1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/375192b136e6dd2a92b4f80655a32390fe20d01b', 'message': '[CVE-2019-3895] Set image owner id\n\nThis patch ensures [controller_worker]/amp_image_owner_id is set. This\nconfiguration option restricts Glance image selection to a specific\nowner ID. This is a recommended security setting.\n\nCloses-Bug: #1830607\n\nChange-Id: I14b69b9fb5234cf79a4d7e85de5f16df5ef7f7a2\n(cherry picked from commit e7c5eab712e0f70ecbc6d225d4766e0fe0f3f884)\n(cherry picked from commit 728e59ed5e21e9c25dca27792d21f19d9bd2037f)\n'}]",0,663002,375192b136e6dd2a92b4f80655a32390fe20d01b,8,4,1,6469,,,0,"[CVE-2019-3895] Set image owner id

This patch ensures [controller_worker]/amp_image_owner_id is set. This
configuration option restricts Glance image selection to a specific
owner ID. This is a recommended security setting.

Closes-Bug: #1830607

Change-Id: I14b69b9fb5234cf79a4d7e85de5f16df5ef7f7a2
(cherry picked from commit e7c5eab712e0f70ecbc6d225d4766e0fe0f3f884)
(cherry picked from commit 728e59ed5e21e9c25dca27792d21f19d9bd2037f)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/02/663002/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/octavia-files.yaml', 'playbooks/roles/octavia-undercloud/tasks/image_mgmt.yml', 'playbooks/roles/octavia-controller-config/tasks/octavia.yml', 'releasenotes/notes/octavia-set-image-owner-id-adb197d5daae54f1.yaml']",4,375192b136e6dd2a92b4f80655a32390fe20d01b,bug/1830607,--- security: - | Fixed a vulnerability where an attacker may cause new Octavia amphorae to run based on any arbitrary image (CVE-2019-3895). fixes: - | Ensure [controller_worker]/amp_image_owner_id is set. This configuration option restricts Glance image selection to a specific owner ID. This is a recommended security setting. ,,62,6
openstack%2Frequirements~master~I73134fdeeed0078afa303f998bd5c3a0cee7ec1b,openstack/requirements,master,I73134fdeeed0078afa303f998bd5c3a0cee7ec1b,Updated from generate-constraints,MERGED,2019-06-05 06:17:40.000000000,2019-06-06 22:39:25.000000000,2019-06-06 22:39:25.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 06:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/dd72ab0d31efcdacfda11a3cf0e2711633c8b187', 'message': 'Updated from generate-constraints\n\nChange-Id: I73134fdeeed0078afa303f998bd5c3a0cee7ec1b\n'}, {'number': 2, 'created': '2019-06-06 06:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/98c25a50afd6fc70c2685bb35ef0b0e549f78ce6', 'message': 'Updated from generate-constraints\n\nChange-Id: I73134fdeeed0078afa303f998bd5c3a0cee7ec1b\n'}, {'number': 3, 'created': '2019-06-06 14:43:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b921d9dc5cb0d37697a62cb08e4036f8f6861464', 'message': 'Updated from generate-constraints\n\nChange-Id: I73134fdeeed0078afa303f998bd5c3a0cee7ec1b\n'}]",0,663242,b921d9dc5cb0d37697a62cb08e4036f8f6861464,10,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: I73134fdeeed0078afa303f998bd5c3a0cee7ec1b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/42/663242/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,dd72ab0d31efcdacfda11a3cf0e2711633c8b187,openstack/requirements/constraints,pytest===4.6.2grpcio===1.21.1neutron-lib===1.27.0Mako===1.0.11zeroconf===0.23.0;python_version=='3.4' zeroconf===0.23.0;python_version=='3.5' zeroconf===0.23.0;python_version=='3.6' zeroconf===0.23.0;python_version=='3.7'arrow===0.14.2SQLAlchemy===1.3.4urllib3===1.25.3 graphviz===0.11tornado===5.1.1;python_version=='2.7'webcolors===1.9boto3===1.9.161s3transfer===0.2.1kubernetes===9.0.0botocore===1.12.161Django===1.11.21;python_version=='2.7'jsonschema===3.0.1ironic-lib===2.17.1,pytest===4.5.0grpcio===1.15.0neutron-lib===1.26.0Mako===1.0.10zeroconf===0.22.0;python_version=='3.4' zeroconf===0.22.0;python_version=='3.5' zeroconf===0.22.0;python_version=='3.6' zeroconf===0.22.0;python_version=='3.7'arrow===0.13.2SQLAlchemy===1.2.19urllib3===1.24.3 graphviz===0.10.1tornado===4.5.3;python_version=='2.7'webcolors===1.8.1boto3===1.9.159s3transfer===0.2.0kubernetes===8.0.1botocore===1.12.159Django===1.11.20;python_version=='2.7'jsonschema===2.6.0ironic-lib===2.17.0,21,21
openstack%2Frequirements~master~I7e76ee6597213485d632b14923f227f5945fabd2,openstack/requirements,master,I7e76ee6597213485d632b14923f227f5945fabd2,update constraint for python-octaviaclient to new release 1.9.0,MERGED,2019-06-06 07:26:29.000000000,2019-06-06 22:39:24.000000000,2019-06-06 22:39:23.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 07:26:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f3be2999d7f48572f1fabc320d9a8533fd29e253', 'message': 'update constraint for python-octaviaclient to new release 1.9.0\n\nChange-Id: I7e76ee6597213485d632b14923f227f5945fabd2\nmeta:version: 1.9.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Change-Id: I0e8171067a2cfe0ad118190ce045d6d8d7e1bbfe\nmeta:release:Code-Review+1: Adam Harwell <flux.adam@gmail.com>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n'}]",0,663529,f3be2999d7f48572f1fabc320d9a8533fd29e253,8,2,1,11131,,,0,"update constraint for python-octaviaclient to new release 1.9.0

Change-Id: I7e76ee6597213485d632b14923f227f5945fabd2
meta:version: 1.9.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Change-Id: I0e8171067a2cfe0ad118190ce045d6d8d7e1bbfe
meta:release:Code-Review+1: Adam Harwell <flux.adam@gmail.com>
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/29/663529/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f3be2999d7f48572f1fabc320d9a8533fd29e253,new-release,python-octaviaclient===1.9.0,python-octaviaclient===1.8.0,1,1
openstack%2Ftripleo-common~stable%2Fstein~I14b69b9fb5234cf79a4d7e85de5f16df5ef7f7a2,openstack/tripleo-common,stable/stein,I14b69b9fb5234cf79a4d7e85de5f16df5ef7f7a2,[CVE-2019-3895] Set image owner id,MERGED,2019-06-04 10:27:15.000000000,2019-06-06 22:30:16.000000000,2019-06-06 22:30:16.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-04 10:27:15.000000000', 'files': ['playbooks/octavia-files.yaml', 'playbooks/roles/octavia-undercloud/tasks/image_mgmt.yml', 'playbooks/roles/octavia-controller-config/tasks/octavia.yml', 'releasenotes/notes/octavia-set-image-owner-id-adb197d5daae54f1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/728e59ed5e21e9c25dca27792d21f19d9bd2037f', 'message': '[CVE-2019-3895] Set image owner id\n\nThis patch ensures [controller_worker]/amp_image_owner_id is set. This\nconfiguration option restricts Glance image selection to a specific\nowner ID. This is a recommended security setting.\n\nCloses-Bug: #1830607\n\nChange-Id: I14b69b9fb5234cf79a4d7e85de5f16df5ef7f7a2\n(cherry picked from commit e7c5eab712e0f70ecbc6d225d4766e0fe0f3f884)\n'}]",0,663001,728e59ed5e21e9c25dca27792d21f19d9bd2037f,10,5,1,6469,,,0,"[CVE-2019-3895] Set image owner id

This patch ensures [controller_worker]/amp_image_owner_id is set. This
configuration option restricts Glance image selection to a specific
owner ID. This is a recommended security setting.

Closes-Bug: #1830607

Change-Id: I14b69b9fb5234cf79a4d7e85de5f16df5ef7f7a2
(cherry picked from commit e7c5eab712e0f70ecbc6d225d4766e0fe0f3f884)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/01/663001/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/octavia-files.yaml', 'playbooks/roles/octavia-undercloud/tasks/image_mgmt.yml', 'playbooks/roles/octavia-controller-config/tasks/octavia.yml', 'releasenotes/notes/octavia-set-image-owner-id-adb197d5daae54f1.yaml']",4,728e59ed5e21e9c25dca27792d21f19d9bd2037f,bug/1830607,--- security: - | Fixed a vulnerability where an attacker may cause new Octavia amphorae to run based on any arbitrary image (CVE-2019-3895). fixes: - | Ensure [controller_worker]/amp_image_owner_id is set. This configuration option restricts Glance image selection to a specific owner ID. This is a recommended security setting. ,,62,6
openstack%2Fos-net-config~master~Ib12901d5fad51ac40d2a9d8cdc13919b7d64c92e,openstack/os-net-config,master,Ib12901d5fad51ac40d2a9d8cdc13919b7d64c92e,[FUP] Update sriov_pf.yaml samle with ethtool_opt,MERGED,2019-06-03 08:38:23.000000000,2019-06-06 22:19:47.000000000,2019-06-06 22:19:47.000000000,"[{'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-03 08:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/26013862def4a0325def5e05bcfebc51a276551d', 'message': '[FUP] Update sriov_pf.yaml samle with ethtool_opt\n\nThis change updates sriov_pf.yaml sample file with a\nusage example of ethtool_opt attribute that was added\nto sriov_pf port type.\n\nChange-Id: Ib12901d5fad51ac40d2a9d8cdc13919b7d64c92e\n'}, {'number': 2, 'created': '2019-06-04 06:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/cc691b89cdf4e5cc129b40be340eeccbf6d1add9', 'message': '[FUP] Update sriov_pf.yaml samle with ethtool_opt\n\nThis change updates sriov_pf.yaml sample file with a\nusage example of ethtool_opt attribute that was added\nto sriov_pf port type.\n\nChange-Id: Ib12901d5fad51ac40d2a9d8cdc13919b7d64c92e\n'}, {'number': 3, 'created': '2019-06-05 07:58:23.000000000', 'files': ['etc/os-net-config/samples/sriov_pf.json', 'etc/os-net-config/samples/sriov_pf.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/7668abb300d6c607814bfca209135781cc920ecc', 'message': '[FUP] Update sriov_pf.yaml samle with ethtool_opt\n\nThis change updates sriov_pf.yaml sample file with a\nusage example of ethtool_opt attribute that was added\nto sriov_pf port type.\n\nChange-Id: Ib12901d5fad51ac40d2a9d8cdc13919b7d64c92e\n'}]",1,662717,7668abb300d6c607814bfca209135781cc920ecc,12,4,3,28714,,,0,"[FUP] Update sriov_pf.yaml samle with ethtool_opt

This change updates sriov_pf.yaml sample file with a
usage example of ethtool_opt attribute that was added
to sriov_pf port type.

Change-Id: Ib12901d5fad51ac40d2a9d8cdc13919b7d64c92e
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/17/662717/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/os-net-config/samples/sriov_pf.yaml'],1,26013862def4a0325def5e05bcfebc51a276551d,ethtool_opts," # Set ethtool options ethtool_opts: ""speed 1000 duplex full"" ethtool_opts: ""speed 1000 duplex full""",,3,0
openstack%2Ftripleo-heat-templates~master~Ibb36c2bab58cbe59e5fa502d724f264aea1d09ec,openstack/tripleo-heat-templates,master,Ibb36c2bab58cbe59e5fa502d724f264aea1d09ec,Add/fix manila environments in the capabilities-map,ABANDONED,2018-08-27 21:32:16.000000000,2019-06-06 22:16:34.000000000,,"[{'_account_id': 7509}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-27 21:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/478c2eb101b00fe74d7edc1c6267045a3bf4a343', 'message': 'Add/fix manila environments in the capabilities-map\n\n- Aggregate the storage backends into one list\n- Add cephfs-nfs and netapp backends\n\nChange-Id: Ibb36c2bab58cbe59e5fa502d724f264aea1d09ec\n'}, {'number': 2, 'created': '2018-10-14 17:43:18.000000000', 'files': ['capabilities-map.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9adf622c1f7b4a589674c53a645c816a8c32779', 'message': 'Add/fix manila environments in the capabilities-map\n\n- Aggregate the storage backends into one list\n- Add cephfs-nfs and netapp backends\n\nChange-Id: Ibb36c2bab58cbe59e5fa502d724f264aea1d09ec\n'}]",3,596904,d9adf622c1f7b4a589674c53a645c816a8c32779,18,6,2,16643,,,0,"Add/fix manila environments in the capabilities-map

- Aggregate the storage backends into one list
- Add cephfs-nfs and netapp backends

Change-Id: Ibb36c2bab58cbe59e5fa502d724f264aea1d09ec
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/596904/2 && git format-patch -1 --stdout FETCH_HEAD,['capabilities-map.yaml'],1,478c2eb101b00fe74d7edc1c6267045a3bf4a343,capabilities-map, - title: Manila backends Enable various Manila storage backends environments: - file: environments/manila-cephfsnative-config.yaml title: Deploys Manila with CephFS via the Native cephfs protocol description: > Deploys Manila and configures it with the CephFS driver. This requires the deployment of Ceph and CephMDS from TripleO or the use of an external Ceph cluster for the overcloud. - file: environments/manila-cephfsganesha-config.yaml title: Deploys Manila with CephFS via the NFS protocol description: > Deploys Manila and configures it with the CephFS driver and sets up Ganesha gateways to serve CephFS filesystems exported via the NFS protocol. This requires the deployment of Ceph and CephMDS from TripleO or the use of an external Ceph cluster for the overcloud. It also requires that a dedicated Storage NFS network be created to provide the NFS exports. This network can be automatically set up with the help of the network_data_ganesha.yaml. requires: - network_data_ganesha.yaml - file: environments/manila-netapp-config.yaml title: Deploys Manila with NetApp driver description: > Deploys Manila and configures the NetApp ONTAP backend with either driver_handles_share_servers set to True or False., - file: environments/manila-cephfsnative-config-docker.yaml title: Manila with CephFS description: > Deploys Manila and configures it with the CephFS driver. This requires the deployment of Ceph and CephMDS from TripleO or the use of an external Ceph cluster for the overcloud. requires: - overcloud-resource-registry-puppet.yaml - title: Manila with Unity Deploys Manila and configures it with the Unity driver. environments: - title: Manila with VNX description: > Deploys Manila and configures it with the VNX driver. environments: - title: Manila with VMAX description: > Deploys Manila and configures it with the VMAX driver. environments: - title: Manila with Isilon description: > Deploys Manila and configures it with the Isilon driver. environments: requires: - overcloud-resource-registry-puppet.yaml,27,23
openstack%2Fnova~master~I319eccc1852ad2bb80018eb20fdd968c51a5c284,openstack/nova,master,I319eccc1852ad2bb80018eb20fdd968c51a5c284,[Docs] Update the confusing console output,MERGED,2018-08-06 02:30:55.000000000,2019-06-06 22:14:35.000000000,2019-06-06 22:14:35.000000000,"[{'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-08-06 02:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/766a71fb205edc02314d2a16884ee5488687d9c0', 'message': '[Docs] Update the confusing console output\n\nbackport: queens pike\n\nChange-Id: I319eccc1852ad2bb80018eb20fdd968c51a5c284\nCloses-Bug: #1784992\n'}, {'number': 2, 'created': '2018-08-06 02:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38c301622c5955ffc2fbfbbdccbe8a2f5dcd4aae', 'message': '[Docs] Update the confusing console output\n\nbackport: queens pike\n\nChange-Id: I319eccc1852ad2bb80018eb20fdd968c51a5c284\nCloses-Bug: #1784992\n'}, {'number': 3, 'created': '2019-06-06 11:00:51.000000000', 'files': ['doc/source/install/controller-install-obs.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/controller-install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/89f8ff449bf0aa9e331c7aa8d26a17292e4e53e7', 'message': '[Docs] Update the confusing console output\n\nChange-Id: I319eccc1852ad2bb80018eb20fdd968c51a5c284\nCloses-Bug: #1784992\n'}]",0,589004,89f8ff449bf0aa9e331c7aa8d26a17292e4e53e7,26,12,3,16523,,,0,"[Docs] Update the confusing console output

Change-Id: I319eccc1852ad2bb80018eb20fdd968c51a5c284
Closes-Bug: #1784992
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/589004/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/controller-install-ubuntu.rst'],1,766a71fb205edc02314d2a16884ee5488687d9c0,bug/1784992,,,1,0
openstack%2Fcinder~stable%2Fstein~I4ca37dc248ac5defbc988507379288299b19a6d7,openstack/cinder,stable/stein,I4ca37dc248ac5defbc988507379288299b19a6d7,Remove Sheepdog tests from zuul config,MERGED,2019-06-04 17:20:28.000000000,2019-06-06 22:14:14.000000000,2019-06-06 22:14:14.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-06-04 17:20:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d63940886337581f7ef3b4a5d3dada0120a20c0', 'message': 'Remove Sheepdog tests from zuul config\n\nThis was not working in Stein either. Backporting to allow us to\neventually remove the job definition in openstack-zuul-jobs.\n\nChange-Id: I4ca37dc248ac5defbc988507379288299b19a6d7\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit c83e7ec2a1fe54ce8c6d217b63b3b8bd4c944b0d)\n'}]",0,663104,9d63940886337581f7ef3b4a5d3dada0120a20c0,29,16,1,11904,,,0,"Remove Sheepdog tests from zuul config

This was not working in Stein either. Backporting to allow us to
eventually remove the job definition in openstack-zuul-jobs.

Change-Id: I4ca37dc248ac5defbc988507379288299b19a6d7
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit c83e7ec2a1fe54ce8c6d217b63b3b8bd4c944b0d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/663104/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9d63940886337581f7ef3b4a5d3dada0120a20c0,sheepdog-stable/stein,, - legacy-tempest-dsvm-full-sheepdog-src-os-brick: irrelevant-files: *gate-irrelevant-files - legacy-tempest-dsvm-full-sheepdog: irrelevant-files: *gate-irrelevant-files,0,4
openstack%2Fironic~master~I00d80df6da68cb0b3e78ffcab0716b1fcc227d7f,openstack/ironic,master,I00d80df6da68cb0b3e78ffcab0716b1fcc227d7f,(WIP) Update UCS driver to use new ucsmsdk,ABANDONED,2018-10-03 22:34:11.000000000,2019-06-06 21:47:54.000000000,,"[{'_account_id': 6638}, {'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-03 22:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4fd65c3b54f5e1fbdff7d7717e51fc12a9074d38', 'message': 'Update UCS driver to use new ucsmsdk\n\nUcsSdk is deprecated and replaced by ucsmsdk so UCS driver should use\nthis new dependency.\n\nChange-Id: I00d80df6da68cb0b3e78ffcab0716b1fcc227d7f\n'}, {'number': 2, 'created': '2018-10-03 22:35:14.000000000', 'files': ['doc/source/admin/drivers/ucs.rst', 'ironic/drivers/modules/ucs/helper.py', 'ironic/drivers/modules/ucs/power.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'driver-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1337b255c1c06c439fd4aa4d1b06cfe576f6f2d1', 'message': '(WIP) Update UCS driver to use new ucsmsdk\n\nUcsSdk is deprecated and replaced by ucsmsdk so UCS driver should use\nthis new dependency.\n\nChange-Id: I00d80df6da68cb0b3e78ffcab0716b1fcc227d7f\n'}]",0,607732,1337b255c1c06c439fd4aa4d1b06cfe576f6f2d1,12,8,2,6638,,,0,"(WIP) Update UCS driver to use new ucsmsdk

UcsSdk is deprecated and replaced by ucsmsdk so UCS driver should use
this new dependency.

Change-Id: I00d80df6da68cb0b3e78ffcab0716b1fcc227d7f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/32/607732/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/drivers/ucs.rst', 'ironic/drivers/modules/ucs/helper.py', 'ironic/drivers/modules/ucs/power.py', 'driver-requirements.txt', 'ironic/tests/unit/drivers/third_party_driver_mocks.py']",5,4fd65c3b54f5e1fbdff7d7717e51fc12a9074d38,ucsm-upgrade,ucsmsdk = importutils.try_import('ucsmsdk') if not ucsmsdk: ucsmsdk = mock.MagicMock() sys.modules['ucsmsdk'] = ucsmsdk,"ucssdk = importutils.try_import('UcsSdk') if not ucssdk: ucssdk = mock.MagicMock() sys.modules['UcsSdk'] = ucssdk sys.modules['UcsSdk.utils'] = ucssdk.utils sys.modules['UcsSdk.utils.power'] = ucssdk.utils.power sys.modules['UcsSdk.utils.management'] = ucssdk.utils.management sys.modules['UcsSdk.utils.exception'] = ucssdk.utils.exception ucssdk.utils.exception.UcsOperationError = ( type('UcsOperationError', (MockKwargsException,), {})) ucssdk.utils.exception.UcsConnectionError = ( type('UcsConnectionError', (MockKwargsException,), {}))",31,38
openstack%2Fironic~master~I325db6829c351f0e0baad6bd67c178b090329269,openstack/ironic,master,I325db6829c351f0e0baad6bd67c178b090329269,"The automatic startup situation of tftpd-hpa service will affect xinetd service. I suggest that after the service is installed, we ensure that this service does not start automatically.",ABANDONED,2017-12-15 03:43:38.000000000,2019-06-06 21:45:07.000000000,,"[{'_account_id': 11655}, {'_account_id': 14525}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-15 03:43:38.000000000', 'files': ['doc/source/install/configure-pxe.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cae1121f6838edc816eb350b7945b80d35560875', 'message': 'The automatic startup situation of tftpd-hpa service will affect xinetd service.\nI suggest that after the service is installed, we ensure that this service does not start automatically.\n\nChange-Id: I325db6829c351f0e0baad6bd67c178b090329269\nCloses-Bug: #1738316\n'}]",6,528153,cae1121f6838edc816eb350b7945b80d35560875,6,4,1,27371,,,0,"The automatic startup situation of tftpd-hpa service will affect xinetd service.
I suggest that after the service is installed, we ensure that this service does not start automatically.

Change-Id: I325db6829c351f0e0baad6bd67c178b090329269
Closes-Bug: #1738316
",git fetch https://review.opendev.org/openstack/ironic refs/changes/53/528153/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/configure-pxe.rst'],1,cae1121f6838edc816eb350b7945b80d35560875,bug/1738316, Ubuntu (Up to and including 14.04):: Ubuntu (14.10 and after):: sudo systemctl disable tftpd-hpa.service sudo service xinetd restart , Ubuntu::,6,1
openstack%2Fironic~master~Ie603035e4bff6884c6751ead85b8f3a593e611ba,openstack/ironic,master,Ie603035e4bff6884c6751ead85b8f3a593e611ba,a to an,ABANDONED,2018-06-12 08:42:07.000000000,2019-06-06 21:43:10.000000000,,"[{'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-12 08:42:07.000000000', 'files': ['ironic/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8857f3dd989f621632469cd76045cbc8a804ad72', 'message': 'a to an\n\nChange-Id: Ie603035e4bff6884c6751ead85b8f3a593e611ba\n'}]",0,574648,8857f3dd989f621632469cd76045cbc8a804ad72,8,6,1,27370,,,0,"a to an

Change-Id: Ie603035e4bff6884c6751ead85b8f3a593e611ba
",git fetch https://review.opendev.org/openstack/ironic refs/changes/48/574648/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/db/sqlalchemy/api.py'],1,8857f3dd989f621632469cd76045cbc8a804ad72,wdq612, # in an infinite loop., # in a infinite loop.,1,1
openstack%2Fopenstack-helm-infra~master~I44f30fbac274546abadba0290de029ed2b9d1958,openstack/openstack-helm-infra,master,I44f30fbac274546abadba0290de029ed2b9d1958,Nagios: Add Selenium tests via helm test pod,MERGED,2019-06-04 18:27:11.000000000,2019-06-06 21:23:25.000000000,2019-06-06 21:23:25.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-06-04 18:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f8a07995b87d9019fac40ccc43387f9ab190dc43', 'message': 'WIP: Nagios: Add Selenium tests via helm test pod\n\nThis adds selenium tests for the Nagios chart via a helm test\npod to help ensure the Nagios deployment is functional and\naccessible\n\nChange-Id: I44f30fbac274546abadba0290de029ed2b9d1958\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-06-04 18:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/56b2b00ae04238f036569c3b27889b36486d8ea4', 'message': 'WIP: Nagios: Add Selenium tests via helm test pod\n\nThis adds selenium tests for the Nagios chart via a helm test\npod to help ensure the Nagios deployment is functional and\naccessible\n\nChange-Id: I44f30fbac274546abadba0290de029ed2b9d1958\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-06-04 18:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7de72e4b99c63d2e07390da8e4b7e99884a0e331', 'message': 'WIP: Nagios: Add Selenium tests via helm test pod\n\nThis adds selenium tests for the Nagios chart via a helm test\npod to help ensure the Nagios deployment is functional and\naccessible\n\nChange-Id: I44f30fbac274546abadba0290de029ed2b9d1958\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-06-04 18:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3aa43d7250b4f1017f63f4716bd96ee1538651e5', 'message': 'Nagios: Add Selenium tests via helm test pod\n\nThis adds selenium tests for the Nagios chart via a helm test\npod to help ensure the Nagios deployment is functional and\naccessible\n\nChange-Id: I44f30fbac274546abadba0290de029ed2b9d1958\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 5, 'created': '2019-06-05 19:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5e47b218d9f76f1b46c03a9b8e369caa8ea4d77a', 'message': 'Nagios: Add Selenium tests via helm test pod\n\nThis adds selenium tests for the Nagios chart via a helm test\npod to help ensure the Nagios deployment is functional and\naccessible\n\nChange-Id: I44f30fbac274546abadba0290de029ed2b9d1958\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 6, 'created': '2019-06-05 20:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e7c776102930eafc5b94eca254344ac0fa7ae885', 'message': 'Nagios: Add Selenium tests via helm test pod\n\nThis adds selenium tests for the Nagios chart via a helm test\npod to help ensure the Nagios deployment is functional and\naccessible\n\nChange-Id: I44f30fbac274546abadba0290de029ed2b9d1958\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 7, 'created': '2019-06-06 19:35:59.000000000', 'files': ['nagios/templates/pod-helm-tests.yaml', 'nagios/templates/bin/_selenium-tests.py.tpl', 'nagios/values.yaml', 'nagios/templates/configmap-bin.yaml', 'tools/deployment/osh-infra-monitoring/120-nagios.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/40769d5a60ee9e6993eb1a68da9dc6db6a645a89', 'message': 'Nagios: Add Selenium tests via helm test pod\n\nThis adds selenium tests for the Nagios chart via a helm test\npod to help ensure the Nagios deployment is functional and\naccessible\n\nChange-Id: I44f30fbac274546abadba0290de029ed2b9d1958\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,663116,40769d5a60ee9e6993eb1a68da9dc6db6a645a89,22,5,7,17591,,,0,"Nagios: Add Selenium tests via helm test pod

This adds selenium tests for the Nagios chart via a helm test
pod to help ensure the Nagios deployment is functional and
accessible

Change-Id: I44f30fbac274546abadba0290de029ed2b9d1958
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/16/663116/5 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/templates/pod-helm-tests.yaml', 'nagios/templates/bin/_selenium-tests.py.tpl', 'nagios/values.yaml', 'grafana/templates/bin/_selenium-tests.py.tpl', 'nagios/templates/configmap-bin.yaml']",5,f8a07995b87d9019fac40ccc43387f9ab190dc43,nagios-helm-test," selenium-tests.py: | {{ tuple ""bin/_selenium-tests.py.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }}",,130,0
openstack%2Fnetworking-bagpipe~master~I46cdfc3592014995674c0060d43cfd0ae0a29693,openstack/networking-bagpipe,master,I46cdfc3592014995674c0060d43cfd0ae0a29693,DNM: test gate,ABANDONED,2019-05-30 12:18:51.000000000,2019-06-06 21:21:38.000000000,,"[{'_account_id': 5367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 12:18:51.000000000', 'files': ['networking_bagpipe/tests/unit/driver/test_mech_bagpipe.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/cc897c1cb341d835ef23d8070a1bd16807935c98', 'message': 'DNM: test gate\n\nDO NOT MERGE\n\nThis just a dummy patch to test the gate jobs.\n\nChange-Id: I46cdfc3592014995674c0060d43cfd0ae0a29693\n'}]",0,662192,cc897c1cb341d835ef23d8070a1bd16807935c98,4,2,1,5367,,,0,"DNM: test gate

DO NOT MERGE

This just a dummy patch to test the gate jobs.

Change-Id: I46cdfc3592014995674c0060d43cfd0ae0a29693
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/92/662192/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bagpipe/tests/unit/driver/test_mech_bagpipe.py'],1,cc897c1cb341d835ef23d8070a1bd16807935c98,test-gate,# dummy change,,1,0
openstack%2Ftripleo-heat-templates~master~I24caab14e7ba4a543529af7a7da3b3af5b835b2c,openstack/tripleo-heat-templates,master,I24caab14e7ba4a543529af7a7da3b3af5b835b2c,network,ABANDONED,2019-06-06 20:51:53.000000000,2019-06-06 20:52:38.000000000,,[],"[{'number': 1, 'created': '2019-06-06 20:51:53.000000000', 'files': ['common/deploy-steps.j2', 'puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd7e7a378f9c7ee7f6c1df46d04f1969f2c1f45d', 'message': 'network\n\nChange-Id: I24caab14e7ba4a543529af7a7da3b3af5b835b2c\n'}]",0,663772,dd7e7a378f9c7ee7f6c1df46d04f1969f2c1f45d,2,0,1,7144,,,0,"network

Change-Id: I24caab14e7ba4a543529af7a7da3b3af5b835b2c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/663772/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps.j2', 'puppet/role.role.j2.yaml']",2,dd7e7a378f9c7ee7f6c1df46d04f1969f2c1f45d,bp/reduce-deployment-resources, depends_on: PreNetworkConfig depends_on: PreNetworkConfig, NetworkDeployment: type: OS::TripleO::SoftwareDeployment depends_on: PreNetworkConfig properties: name: NetworkDeployment config: {get_resource: NetworkConfig} server: {get_resource: {{server_resource_name}}} input_values: bridge_name: {get_param: NeutronPhysicalBridge} interface_name: {get_param: NeutronPublicInterface} actions: if: - server_not_blacklisted - if: - role_network_deployment_actions_exists - {get_param: {{role.name}}NetworkDeploymentActions} - {get_param: NetworkDeploymentActions} - [] depends_on: NetworkDeployment depends_on: NetworkDeployment,3,22
openstack%2Fopenstacksdk~master~I1c140677347cf40db11e75f6a868356300d85071,openstack/openstacksdk,master,I1c140677347cf40db11e75f6a868356300d85071,Minor fixups from from_conf changes,MERGED,2019-06-06 14:33:00.000000000,2019-06-06 20:50:22.000000000,2019-06-06 20:50:22.000000000,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 14:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c03fa47f8b5741c58909c66ce7b3439e9eed3d24', 'message': 'Minor fixups from from_conf changes\n\nAddresses the following nonblocking nits from previous patches:\n\n- Consolidate warning logs when disabling service due to exception when\n  processing oslo.config ksa settings [1].\n- Move a TODO out of a docstring [2].\n- Remove a now-redundant region_name comparison in CloudRegion.__eq__\n  [3].\n- DRY the test_get_region_name unit test [4].\n\n[1] https://review.opendev.org/#/c/663439/3/openstack/config/cloud_region.py@171\n[2] https://review.opendev.org/#/c/662865/4/openstack/config/cloud_region.py@156\n[3] https://review.opendev.org/#/c/662865/4/openstack/config/cloud_region.py@237\n[4] https://review.opendev.org/#/c/662865/4/openstack/tests/unit/config/test_cloud_config.py@185\n\nChange-Id: I1c140677347cf40db11e75f6a868356300d85071\n'}, {'number': 2, 'created': '2019-06-06 17:25:24.000000000', 'files': ['openstack/config/cloud_region.py', 'openstack/tests/unit/config/test_cloud_config.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/879f7d4f12216710defc4cb5ffe0e9f2c00cda64', 'message': 'Minor fixups from from_conf changes\n\nAddresses the following nonblocking nits from previous patches:\n\n- Consolidate warning logs when disabling service due to exception when\n  processing oslo.config ksa settings [1].\n- Move a TODO out of a docstring [2].\n- Remove a now-redundant region_name comparison in CloudRegion.__eq__\n  [3].\n- DRY the test_get_region_name unit test [4].\n\n[1] https://review.opendev.org/#/c/663439/3/openstack/config/cloud_region.py@171\n[2] https://review.opendev.org/#/c/662865/4/openstack/config/cloud_region.py@156\n[3] https://review.opendev.org/#/c/662865/4/openstack/config/cloud_region.py@237\n[4] https://review.opendev.org/#/c/662865/4/openstack/tests/unit/config/test_cloud_config.py@185\n\nChange-Id: I1c140677347cf40db11e75f6a868356300d85071\n'}]",0,663685,879f7d4f12216710defc4cb5ffe0e9f2c00cda64,11,3,2,14070,,,0,"Minor fixups from from_conf changes

Addresses the following nonblocking nits from previous patches:

- Consolidate warning logs when disabling service due to exception when
  processing oslo.config ksa settings [1].
- Move a TODO out of a docstring [2].
- Remove a now-redundant region_name comparison in CloudRegion.__eq__
  [3].
- DRY the test_get_region_name unit test [4].

[1] https://review.opendev.org/#/c/663439/3/openstack/config/cloud_region.py@171
[2] https://review.opendev.org/#/c/662865/4/openstack/config/cloud_region.py@156
[3] https://review.opendev.org/#/c/662865/4/openstack/config/cloud_region.py@237
[4] https://review.opendev.org/#/c/662865/4/openstack/tests/unit/config/test_cloud_config.py@185

Change-Id: I1c140677347cf40db11e75f6a868356300d85071
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/85/663685/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/config/cloud_region.py', 'openstack/tests/unit/config/test_cloud_config.py']",2,c03fa47f8b5741c58909c66ce7b3439e9eed3d24,fixups," def assert_region_name(default, compute): self.assertEqual(default, cc.region_name) self.assertEqual(default, cc.get_region_name()) self.assertEqual(default, cc.get_region_name(service_type=None)) self.assertEqual( compute, cc.get_region_name(service_type='compute')) self.assertEqual( default, cc.get_region_name(service_type='placement')) assert_region_name(None, None) assert_region_name('foo', 'foo') assert_region_name('the-default', 'compute-region') assert_region_name('kwarg', 'compute-region')"," # TODO(efried): ddt this self.assertIsNone(cc.region_name) self.assertIsNone(cc.get_region_name()) self.assertIsNone(cc.get_region_name(service_type=None)) self.assertIsNone(cc.get_region_name(service_type='compute')) self.assertIsNone(cc.get_region_name(service_type='placement')) self.assertEqual('foo', cc.region_name) self.assertEqual('foo', cc.get_region_name()) self.assertEqual('foo', cc.get_region_name(service_type=None)) self.assertEqual('foo', cc.get_region_name(service_type='compute')) self.assertEqual('foo', cc.get_region_name(service_type='placement')) self.assertEqual('the-default', cc.region_name) self.assertEqual('the-default', cc.get_region_name()) self.assertEqual('the-default', cc.get_region_name(service_type=None)) self.assertEqual( 'compute-region', cc.get_region_name(service_type='compute')) self.assertEqual( 'the-default', cc.get_region_name(service_type='placement')) self.assertEqual('kwarg', cc.region_name) self.assertEqual('kwarg', cc.get_region_name()) self.assertEqual('kwarg', cc.get_region_name(service_type=None)) self.assertEqual( 'compute-region', cc.get_region_name(service_type='compute')) self.assertEqual('kwarg', cc.get_region_name(service_type='placement'))",16,31
openstack%2Fopenstacksdk~master~If7ee3aed6696308d15932c31f2ffb14486b30889,openstack/openstacksdk,master,If7ee3aed6696308d15932c31f2ffb14486b30889,Add release note for new disable service functionality,MERGED,2019-06-06 14:40:06.000000000,2019-06-06 20:50:21.000000000,2019-06-06 20:50:21.000000000,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-06-06 14:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1cb56c02baa17305ca5953a60cd23dfcf2d5a403', 'message': 'Add release note for new disable service functionality\n\nThe behavior of disabling a service has changed slightly.\n\nChange-Id: If7ee3aed6696308d15932c31f2ffb14486b30889\n'}, {'number': 2, 'created': '2019-06-06 14:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f5cd9495b3b69974d58853228e7bbfa29f3575b8', 'message': 'Add release note for new disable service functionality\n\nThe behavior of disabling a service has changed slightly.\n\nChange-Id: If7ee3aed6696308d15932c31f2ffb14486b30889\n'}, {'number': 3, 'created': '2019-06-06 17:30:06.000000000', 'files': ['releasenotes/notes/disable-service-39df96ef8a817785.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3bac4abbda487347964bbadc4315b0693fd961b0', 'message': 'Add release note for new disable service functionality\n\nThe behavior of disabling a service has changed slightly.\n\nChange-Id: If7ee3aed6696308d15932c31f2ffb14486b30889\n'}]",1,663690,3bac4abbda487347964bbadc4315b0693fd961b0,13,5,3,2,,,0,"Add release note for new disable service functionality

The behavior of disabling a service has changed slightly.

Change-Id: If7ee3aed6696308d15932c31f2ffb14486b30889
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/90/663690/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/disable-service-39df96ef8a817785.yaml'],1,1cb56c02baa17305ca5953a60cd23dfcf2d5a403,disabled-service-with-reason,--- features: - | ``has_{service_type}`` is a boolean config option that allows asserting that a given service does not exist or should not be used in a given cloud. Doing this will now cause the corresponding service ``Proxy`` object to not be created and in its place is an object that will throw exceptions if used. ,,8,0
openstack%2Fopenstacksdk~master~I3aa1f1633790e6e958bbc510ac5e5a11c0c27a9f,openstack/openstacksdk,master,I3aa1f1633790e6e958bbc510ac5e5a11c0c27a9f,Handle oslo.config exceptions in from_conf,MERGED,2019-06-05 21:30:57.000000000,2019-06-06 20:50:20.000000000,2019-06-06 20:50:19.000000000,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 10239}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 21:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7338aae7586a38b8ace81896ebed478d9f583862', 'message': ""(Broken) from_conf test paths for oslo.config exceptions\n\nAdds tests to demonstrate current broken behavior in from_conf for the\nfollowing cases:\n\n- If the conf section for a given service is missing, or present but\n  without ksa adapter opts registered, we should make it so Connection\n  doesn't work for that service. But instead we happily allow the\n  Connection, using default Adapter settings.\n- If the conf section for a given service has bogus values, we should\n  either raise an exception right away, or warn and make it so the\n  Connection doesn't work for that service. But instead we happily allow\n  the Connection, using default Adapter settings (or possibly\n  partially-loaded settings from the bogus conf??).\n\nChange-Id: I3aa1f1633790e6e958bbc510ac5e5a11c0c27a9f\n""}, {'number': 2, 'created': '2019-06-05 22:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f930a9aefb548cc6c31c250b14dea48df8cb2935', 'message': 'Handle oslo.config exceptions in from_conf\n\nIn the following cases, we used to happily allow the Connection to the\nservice, using default Adapter settings:\n\n- If the conf section for a given service is missing, or present but\n  without ksa adapter opts registered.\n- If the conf section for a given service has bogus values.\n\nNow for these scenarios, we disable that service with a helpful reason.\n\nThe service disabling is supported at a broader level: If someone sets\nhas_{service_type} to false in their config, we remove the adapter for\nthat service and replace it with something that throws errors when\npeople try to use it. They can optionally set\n{service_type}_disabled_reason to make the message more informative.\n\nChange-Id: I3aa1f1633790e6e958bbc510ac5e5a11c0c27a9f\n'}, {'number': 3, 'created': '2019-06-06 13:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/664399c2b7cb9bb56dd3f6a05517e9ab60eab089', 'message': 'Handle oslo.config exceptions in from_conf\n\nIn the following cases, we used to happily allow the Connection to the\nservice, using default Adapter settings:\n\n- If the conf section for a given service is missing, or present but\n  without ksa adapter opts registered.\n- If the conf section for a given service has bogus values.\n\nNow for these scenarios, we disable that service with a helpful reason.\n\nThe service disabling is supported at a broader level: If someone sets\nhas_{service_type} to false in their config, we remove the adapter for\nthat service and replace it with something that throws errors when\npeople try to use it. They can optionally set\n{service_type}_disabled_reason to make the message more informative.\n\nCo-Authored-By: Monty Taylor <mordred@inaugust.com>\n\nChange-Id: I3aa1f1633790e6e958bbc510ac5e5a11c0c27a9f\n'}, {'number': 4, 'created': '2019-06-06 17:25:24.000000000', 'files': ['openstack/config/cloud_region.py', 'openstack/exceptions.py', 'openstack/cloud/openstackcloud.py', 'requirements.txt', 'openstack/service_description.py', 'lower-constraints.txt', 'openstack/tests/unit/config/test_from_conf.py', 'openstack/connection.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/820790225cdcb078604c2ec6dab20bd6d2761496', 'message': 'Handle oslo.config exceptions in from_conf\n\nIn the following cases, we used to happily allow the Connection to the\nservice, using default Adapter settings:\n\n- If the conf section for a given service is missing, or present but\n  without ksa adapter opts registered.\n- If the conf section for a given service has bogus values.\n\nNow for these scenarios, we disable that service with a helpful reason.\n\nThe service disabling is supported at a broader level: If someone sets\nhas_{service_type} to false in their config, we remove the adapter for\nthat service and replace it with something that throws errors when\npeople try to use it. They can optionally set\n{service_type}_disabled_reason to make the message more informative.\n\nCo-Authored-By: Monty Taylor <mordred@inaugust.com>\n\nChange-Id: I3aa1f1633790e6e958bbc510ac5e5a11c0c27a9f\n'}]",7,663439,820790225cdcb078604c2ec6dab20bd6d2761496,18,5,4,14070,,,0,"Handle oslo.config exceptions in from_conf

In the following cases, we used to happily allow the Connection to the
service, using default Adapter settings:

- If the conf section for a given service is missing, or present but
  without ksa adapter opts registered.
- If the conf section for a given service has bogus values.

Now for these scenarios, we disable that service with a helpful reason.

The service disabling is supported at a broader level: If someone sets
has_{service_type} to false in their config, we remove the adapter for
that service and replace it with something that throws errors when
people try to use it. They can optionally set
{service_type}_disabled_reason to make the message more informative.

Co-Authored-By: Monty Taylor <mordred@inaugust.com>

Change-Id: I3aa1f1633790e6e958bbc510ac5e5a11c0c27a9f
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/39/663439/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/unit/config/test_from_conf.py'],1,7338aae7586a38b8ace81896ebed478d9f583862,disabled-service-with-reason," conf.register_group(cfg.OptGroup(group)) def _test_missing_invalid_permutations(self): # Do special things to self.oslo_config_dict['heat'] before calling # this method. # TODO(efried): This works, despite caller munging adapter opts. def test_no_such_conf_section(self): """"""No conf section (therefore no adapter opts) for service type."""""" # TODO(efried): This should refuse to create a usable proxy # from_conf should handle NoSuchOptError from process_conf_options del self.oslo_config_dict['heat'] self._test_missing_invalid_permutations() def test_no_adapter_opts(self): """"""Conf section present, but opts for service type not registered."""""" # TODO(efried): This should refuse to create a usable proxy # from_conf should handle NoSuchOptError from process_conf_options self.oslo_config_dict['heat'] = None self._test_missing_invalid_permutations() def test_invalid_adapter_opts(self): """"""Adapter opts are bogus, in exception-raising ways."""""" # TODO(efried): This should raise an exception right away (right?) # from_conf should handle TypeError from process_conf_options self.oslo_config_dict['heat'] = { 'interface': 'public', 'valid_interfaces': 'private', } self._test_missing_invalid_permutations() "," def test_no_adapter_opts(self): """"""Adapter opts for service type not registered."""""" del self.oslo_config_dict['heat'] # TODO(efried): This works, even though adapter opts are not # registered. Should it?",29,5
openstack%2Felection~master~I6253673cfe1e9ad139ee46e9730959e31ebb1534,openstack/election,master,I6253673cfe1e9ad139ee46e9730959e31ebb1534,Add Andy McCrae as an election official,MERGED,2019-06-03 17:30:59.000000000,2019-06-06 20:46:57.000000000,2019-06-06 20:46:57.000000000,"[{'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 2799}, {'_account_id': 4257}, {'_account_id': 5046}, {'_account_id': 5263}, {'_account_id': 8099}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-03 17:30:59.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/election/commit/457c0c6375155799d9132ba553e7269823310a82', 'message': 'Add Andy McCrae as an election official\n\nWe chatted at the PTG in Denver about his getting up to speed/\nhelping out for the next round of elections.\n\nChange-Id: I6253673cfe1e9ad139ee46e9730959e31ebb1534\n'}]",0,662808,457c0c6375155799d9132ba553e7269823310a82,16,11,1,16708,,,0,"Add Andy McCrae as an election official

We chatted at the PTG in Denver about his getting up to speed/
helping out for the next round of elections.

Change-Id: I6253673cfe1e9ad139ee46e9730959e31ebb1534
",git fetch https://review.opendev.org/openstack/election refs/changes/08/662808/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,457c0c6375155799d9132ba553e7269823310a82,add_andy,"* Andy McCrae (andymccr), andy dot mccrae at gmail dot com",,1,0
openstack%2Fopenstack-helm-infra~master~I30f99aaf92c3dc83afce10534b1d2ac9402b7fa7,openstack/openstack-helm-infra,master,I30f99aaf92c3dc83afce10534b1d2ac9402b7fa7,[ceph-client] Handle pool min_size during ceph cluster expansion,MERGED,2019-06-04 19:45:00.000000000,2019-06-06 20:45:48.000000000,2019-06-06 20:45:48.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24780}, {'_account_id': 29132}, {'_account_id': 29974}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-06-04 19:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d0d624a2c4d8d2ab0739556bd9ffecffa8ea928a', 'message': '[ceph-client] Handle pool min_size while ceph cluster expansion\n\nThis is to update logic for  pool min_size parameter  as  this is\nnot getting changed when replication changes from intilization.\n\nfor example if we start the pool replication as 1 and changed in\nexpansion phase to 3 , min_size parameter wwill not change to 3.\n\nChange-Id: I30f99aaf92c3dc83afce10534b1d2ac9402b7fa7\n'}, {'number': 2, 'created': '2019-06-04 19:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/824530d6724889736ce30d0c4661a8d1c1b1cc77', 'message': '[ceph-client] Handle pool min_size while ceph cluster expansion\n\nThis is to update logic for  pool min_size parameter  as  this is\nnot getting changed when replication changes from intilization.\n\nfor example if we start the pool replication as 1 and changed in\nexpansion phase to 3 , min_size parameter will not change to 2.\n\nChange-Id: I30f99aaf92c3dc83afce10534b1d2ac9402b7fa7\n'}, {'number': 3, 'created': '2019-06-04 20:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/10098f5971f344619ce6e2d7013163a64abbe762', 'message': '[ceph-client] Handle pool min_size while ceph cluster expansion\n\nThis is to update logic for  pool min_size parameter  as  this is\nnot getting changed when replication changes from intilization.\n\nfor example if we start the pool replication as 1 and changed in\nexpansion phase to 3 , min_size parameter will not change to 2.\n\nChange-Id: I30f99aaf92c3dc83afce10534b1d2ac9402b7fa7\n'}, {'number': 4, 'created': '2019-06-04 21:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/da4e3823af211e5c65d8625af1754f0d41dd48b4', 'message': '[ceph-client] Handle pool min_size during ceph cluster expansion\n\nThis is to update logic for  pool min_size parameter  as  this is\nnot getting changed when replication changes from intilization.\n\nChange-Id: I30f99aaf92c3dc83afce10534b1d2ac9402b7fa7\n'}, {'number': 5, 'created': '2019-06-06 15:20:43.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6767d0ad4817117cab8eff723eb17a57c50facad', 'message': '[ceph-client] Handle pool min_size during ceph cluster expansion\n\nThis is to update logic for  pool min_size parameter  as  this is\nnot getting changed when replication changes from intilization.\n\nChange-Id: I30f99aaf92c3dc83afce10534b1d2ac9402b7fa7\n'}]",3,663126,6767d0ad4817117cab8eff723eb17a57c50facad,20,8,5,28372,,,0,"[ceph-client] Handle pool min_size during ceph cluster expansion

This is to update logic for  pool min_size parameter  as  this is
not getting changed when replication changes from intilization.

Change-Id: I30f99aaf92c3dc83afce10534b1d2ac9402b7fa7
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/26/663126/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/templates/bin/pool/_init.sh.tpl'],1,d0d624a2c4d8d2ab0739556bd9ffecffa8ea928a,," #This is to handle cluster expansion case where replication may change from intilization if [ ${POOL_REPLICATION} -gt 1 ]; then EXPECTED_POOLMINSIZE=$[${POOL_REPLICATION}-1] ceph --cluster ceph osd pool set ""${POOL_NAME}"" min_size ${EXPECTED_POOLMINSIZE} fi",,6,0
openstack%2Frequirements~stable%2Fstein~I50b9f7fe89f37fb9adabecaa70ed9bd5620bfa66,openstack/requirements,stable/stein,I50b9f7fe89f37fb9adabecaa70ed9bd5620bfa66,update constraint for ironic-lib to new release 2.16.3,MERGED,2019-06-06 06:23:08.000000000,2019-06-06 20:40:39.000000000,2019-06-06 20:40:39.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 06:23:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0bcef059e5b64ec843937f5a5d85f1d1cd248803', 'message': 'update constraint for ironic-lib to new release 2.16.3\n\nChange-Id: I50b9f7fe89f37fb9adabecaa70ed9bd5620bfa66\nmeta:version: 2.16.3\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Change-Id: Id654eb3337a161c9e9b537bf51ccadfe4ee299bb\nmeta:release:Code-Review+1: Julia Kreger <juliaashleykreger@gmail.com>\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n'}]",0,663506,0bcef059e5b64ec843937f5a5d85f1d1cd248803,7,3,1,11131,,,0,"update constraint for ironic-lib to new release 2.16.3

Change-Id: I50b9f7fe89f37fb9adabecaa70ed9bd5620bfa66
meta:version: 2.16.3
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Change-Id: Id654eb3337a161c9e9b537bf51ccadfe4ee299bb
meta:release:Code-Review+1: Julia Kreger <juliaashleykreger@gmail.com>
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/06/663506/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0bcef059e5b64ec843937f5a5d85f1d1cd248803,new-release,ironic-lib===2.16.3,ironic-lib===2.16.2,1,1
openstack%2Fpuppet-tripleo~stable%2Fqueens~I248859bf0e4b70e3a057e96b5fb74be64f4008ed,openstack/puppet-tripleo,stable/queens,I248859bf0e4b70e3a057e96b5fb74be64f4008ed,Refactor collectd/gnocchi integration,MERGED,2019-05-17 17:30:16.000000000,2019-06-06 20:38:04.000000000,2019-06-01 16:46:39.000000000,"[{'_account_id': 5241}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-17 17:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5e5d755a88da72f33bd2be5cd58a4f4dca90b0ad', 'message': 'Refactor collectd/gnocchi integration\n\nCurrent implementation of collect_gnocchi plugin configuration blocks\nusage of other python-based plugins. This patch leverages puppet-collectd\nclasses properly to enable configuration of more than one python-based\nplugin together.\n\nChange-Id: I248859bf0e4b70e3a057e96b5fb74be64f4008ed\n(cherry picked from commit cfa969dac63ab1aafd7343091302c089c5cd0873)\n'}, {'number': 2, 'created': '2019-05-31 19:59:35.000000000', 'files': ['templates/collectd/collectd-gnocchi.conf.erb', 'manifests/profile/base/metrics/collectd.pp', 'manifests/profile/base/metrics/collectd/gnocchi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2a9f0d89f10216f5d3915555f1b57faa9cddf8bc', 'message': 'Refactor collectd/gnocchi integration\n\nCurrent implementation of collect_gnocchi plugin configuration blocks\nusage of other python-based plugins. This patch leverages puppet-collectd\nclasses properly to enable configuration of more than one python-based\nplugin together.\n\nChange-Id: I248859bf0e4b70e3a057e96b5fb74be64f4008ed\n(cherry picked from commit cfa969dac63ab1aafd7343091302c089c5cd0873)\n'}]",0,659850,2a9f0d89f10216f5d3915555f1b57faa9cddf8bc,27,4,2,28504,,,0,"Refactor collectd/gnocchi integration

Current implementation of collect_gnocchi plugin configuration blocks
usage of other python-based plugins. This patch leverages puppet-collectd
classes properly to enable configuration of more than one python-based
plugin together.

Change-Id: I248859bf0e4b70e3a057e96b5fb74be64f4008ed
(cherry picked from commit cfa969dac63ab1aafd7343091302c089c5cd0873)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/50/659850/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/collectd/collectd-gnocchi.conf.erb', 'manifests/profile/base/metrics/collectd.pp', 'manifests/profile/base/metrics/collectd/gnocchi.pp']",3,5e5d755a88da72f33bd2be5cd58a4f4dca90b0ad,," package { 'python-collectd-gnocchi': $_conf = {'Auth_Mode' => $auth_mode, 'ResourceType' => $resource_type, 'BatchSize' => $batch_size} if $auth_mode == 'basic' { $conf = merge($_conf, { 'Endpoint' => ""${protocol}://${server}:${port}"", 'User' => $user }) } elsif $auth_mode == 'keystone' { $conf = merge($_conf, { 'Auth_Url' => $keystone_auth_url, 'Username' => $keystone_user_name, 'User_Id' => $keystone_user_id, 'Project_Id' => $keystone_project_id, 'Project_Name' => $keystone_project_name, 'Password' => $keystone_password, 'User_Domain_Id' => $keystone_user_domain_id, 'User_Domain_Name' => $keystone_user_domain_name, 'Project_Domain_Id' => $keystone_project_domain_id, 'Project_Domain_Name' => $keystone_project_domain_name, 'Region_Name' => $keystone_region_name, 'Interface' => $keystone_interface, 'Endpoint' => $keystone_endpoint }) } else { fail('Invalid auth mode for collect_gnocchi plugin.') } $config = $conf.filter |$key, $value| { $value != undef } ::collectd::plugin::python::module { 'collectd_gnocchi': config => [$config] } "," package { ['python-collectd-gnocchi', 'collectd-python']: collectd::plugin { 'python': ensure => $ensure, order => $order, content => template('tripleo/collectd/collectd-gnocchi.conf.erb'), require => Package['python-collectd-gnocchi'] }",91,69
openstack%2Frequirements~stable%2Frocky~I5a9beb352e0109b651d86246aa0a8989c3ee84fc,openstack/requirements,stable/rocky,I5a9beb352e0109b651d86246aa0a8989c3ee84fc,update constraint for python-ironicclient to new release 2.5.3,MERGED,2019-06-06 06:52:08.000000000,2019-06-06 20:19:43.000000000,2019-06-06 20:19:43.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 06:52:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b5ef6392ce41458d21cf4d1005fba0b758a2c8ac', 'message': 'update constraint for python-ironicclient to new release 2.5.3\n\nChange-Id: I5a9beb352e0109b651d86246aa0a8989c3ee84fc\nmeta:version: 2.5.3\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Change-Id: Iac9028ccc1e256dbe5bdef33de9cab99b160c0b6\nmeta:release:Code-Review+1: yatin <ykarel@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n'}]",0,663520,b5ef6392ce41458d21cf4d1005fba0b758a2c8ac,7,3,1,11131,,,0,"update constraint for python-ironicclient to new release 2.5.3

Change-Id: I5a9beb352e0109b651d86246aa0a8989c3ee84fc
meta:version: 2.5.3
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Change-Id: Iac9028ccc1e256dbe5bdef33de9cab99b160c0b6
meta:release:Code-Review+1: yatin <ykarel@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/663520/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b5ef6392ce41458d21cf4d1005fba0b758a2c8ac,new-release,python-ironicclient===2.5.3,python-ironicclient===2.5.1,1,1
openstack%2Freleases~master~I8dd79c226caa6f7d020e4841183b00d79d6af9a2,openstack/releases,master,I8dd79c226caa6f7d020e4841183b00d79d6af9a2,Releases for Octavia and python-octaviaclient,MERGED,2019-06-05 22:20:04.000000000,2019-06-06 19:35:36.000000000,2019-06-06 19:35:36.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 22:20:04.000000000', 'files': ['deliverables/rocky/python-octaviaclient.yaml', 'deliverables/queens/octavia.yaml', 'deliverables/rocky/octavia.yaml', 'deliverables/queens/python-octaviaclient.yaml', 'deliverables/stein/octavia.yaml', 'deliverables/stein/python-octaviaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/979e7cd77dad9f7d808a53ba9f29f07c09566d13', 'message': 'Releases for Octavia and python-octaviaclient\n\nReleases for Octavia and python-octaviaclient for Queens, Rocky and\nStein versions.\n\nChange-Id: I8dd79c226caa6f7d020e4841183b00d79d6af9a2\n'}]",0,663452,979e7cd77dad9f7d808a53ba9f29f07c09566d13,10,6,1,6469,,,0,"Releases for Octavia and python-octaviaclient

Releases for Octavia and python-octaviaclient for Queens, Rocky and
Stein versions.

Change-Id: I8dd79c226caa6f7d020e4841183b00d79d6af9a2
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/663452/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/python-octaviaclient.yaml', 'deliverables/queens/octavia.yaml', 'deliverables/rocky/octavia.yaml', 'deliverables/queens/python-octaviaclient.yaml', 'deliverables/stein/octavia.yaml', 'deliverables/stein/python-octaviaclient.yaml']",6,979e7cd77dad9f7d808a53ba9f29f07c09566d13,, - projects: - hash: f3bb18356000d475955e373fe8058015b68103a3 repo: openstack/python-octaviaclient version: 1.8.1,,46,16
openstack%2Freleases~master~I80140586a4b892e2eb7804a0fd113e900f062be8,openstack/releases,master,I80140586a4b892e2eb7804a0fd113e900f062be8,[nova] Create milestone-1 releases,MERGED,2019-06-06 13:08:54.000000000,2019-06-06 19:35:35.000000000,2019-06-06 19:35:35.000000000,"[{'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 13:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/74a8ff57a7b97e29bf1dd97e3fc657c0c6af47aa', 'message': '[nova] Create milestone-1 releases\n\nThis is a procedural review to create new releases for libraries following cycle-with-intermediary  model with code changes\n\nTeams should update this change as appropriate\n\nChange-Id: I80140586a4b892e2eb7804a0fd113e900f062be8\n'}, {'number': 2, 'created': '2019-06-06 18:15:27.000000000', 'files': ['deliverables/train/os-vif.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bfbae1980366bc879a1920d388b56ab184c3200f', 'message': '[nova] Create milestone-1 releases\n\nThis is a procedural review to create new releases for libraries\nfollowing cycle-with-intermediary  model with code changes.\n\nTeams should update this change as appropriate.\n\nChange-Id: I80140586a4b892e2eb7804a0fd113e900f062be8\n'}]",3,663642,bfbae1980366bc879a1920d388b56ab184c3200f,13,3,2,12898,,,0,"[nova] Create milestone-1 releases

This is a procedural review to create new releases for libraries
following cycle-with-intermediary  model with code changes.

Teams should update this change as appropriate.

Change-Id: I80140586a4b892e2eb7804a0fd113e900f062be8
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/663642/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/os-vif.yaml', 'deliverables/train/os-traits.yaml']",2,74a8ff57a7b97e29bf1dd97e3fc657c0c6af47aa,wci-m1-releases,releases: - projects: - hash: af871d1ed5f41ad0bf61a0ae6a8e639af8fcaf32 repo: openstack/os-traits version: 0.12.0,,11,0
openstack%2Freno~master~I8487e9eed940ec7a6aced3728bc857711e49bde6,openstack/reno,master,I8487e9eed940ec7a6aced3728bc857711e49bde6,Add option to pass a yaml data file to be used when rendering the template,ABANDONED,2018-01-26 13:14:06.000000000,2019-06-06 19:32:58.000000000,,"[{'_account_id': 308}, {'_account_id': 6547}, {'_account_id': 10022}, {'_account_id': 10873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-26 13:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reno/commit/8f6c3fea45065ab742955d23c00bd0eb5e9e9d67', 'message': 'Add option to pass a yaml data file to be used when rendering the template\n\nThe template passed with --from-template option is not a jinja2\ntemplate. An optional file with data can now be passed to the template\nrendering.\n\nThis makes the template more flexible\n\nChange-Id: I8487e9eed940ec7a6aced3728bc857711e49bde6\n'}, {'number': 2, 'created': '2018-01-26 13:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reno/commit/b7bfdd86c4ea20da14e4301dc2b6f4deb0105d65', 'message': 'Add option to pass a yaml data file to be used when rendering the template\n\nThe template passed with --from-template option is not a jinja2\ntemplate. An optional file with data can now be passed to the template\nrendering.\n\nThis makes the template more flexible\n\nChange-Id: I8487e9eed940ec7a6aced3728bc857711e49bde6\n'}, {'number': 3, 'created': '2018-01-29 12:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reno/commit/4bd18f0835f38795f4d83da6d927e2ff2d0697e4', 'message': 'Add option to pass a yaml data file to be used when rendering the template\n\nThe template passed with --from-template option is not a jinja2\ntemplate. An optional file with data can now be passed to the template\nrendering.\n\nThis makes the template more flexible\n\nChange-Id: I8487e9eed940ec7a6aced3728bc857711e49bde6\n'}, {'number': 4, 'created': '2018-01-29 20:24:26.000000000', 'files': ['requirements.txt', 'doc/source/user/usage.rst', 'reno/create.py', 'reno/main.py', 'releasenotes/notes/enable-using-template-data-file-6d20b45b7c662d8a.yaml', 'reno/tests/test_create.py'], 'web_link': 'https://opendev.org/openstack/reno/commit/4925e82065057b1bffc62d117376eff541d59600', 'message': 'Add option to pass a yaml data file to be used when rendering the template\n\nThe template passed with --from-template option is not a jinja2\ntemplate. An optional file with data can now be passed to the template\nrendering.\n\nThis makes the template more flexible\n\nChange-Id: I8487e9eed940ec7a6aced3728bc857711e49bde6\n'}]",2,538233,4925e82065057b1bffc62d117376eff541d59600,12,5,4,10022,,,0,"Add option to pass a yaml data file to be used when rendering the template

The template passed with --from-template option is not a jinja2
template. An optional file with data can now be passed to the template
rendering.

This makes the template more flexible

Change-Id: I8487e9eed940ec7a6aced3728bc857711e49bde6
",git fetch https://review.opendev.org/openstack/reno refs/changes/33/538233/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'doc/source/user/usage.rst', 'reno/create.py', 'reno/main.py', 'releasenotes/notes/enable-using-template-data-file-6d20b45b7c662d8a.yaml', 'reno/tests/test_create.py']",6,8f6c3fea45065ab742955d23c00bd0eb5e9e9d67,jinja-capabilites," def _create_user_template_data(self, contents): filename = create._pick_note_file_name(self.tmpdir, 'usertemplatedata') with open(filename, 'w') as f: f.write(contents) return filename args.use_template_data = None def test_create_from_user_template_with_data(self): args = mock.Mock() args.from_template = self._create_user_template('i-am-a-user-template-{{ data }}') args.use_template_data = self._create_user_template_data('data: ""with-data""') args.slug = 'theslug' args.edit = False conf = mock.Mock() conf.notespath = self.tmpdir with mock.patch('sys.stdout', new=io.StringIO()) as fake_out: create.create_cmd(args, conf) filename = self._get_file_path_from_output(fake_out.getvalue()) with open(filename, 'r') as f: body = f.read() self.assertEqual('i-am-a-user-template-with-data', body) def test_create_from_user_template_fails_because_unexistent_data_file(self): args = mock.Mock() args.from_template = self._create_user_template('i-am-a-user-template-{{ data }}') args.use_template_data = 'some--unexistent-file.yaml' args.slug = 'theslug' args.edit = False conf = mock.Mock() conf.notespath = self.tmpdir self.assertRaises(ValueError, create.create_cmd, args, conf) ",,75,3
openstack%2Fos-api-ref~master~I34a4a705c0b30592a9c8eec8ed9ec2b94d981ddc,openstack/os-api-ref,master,I34a4a705c0b30592a9c8eec8ed9ec2b94d981ddc,Add default_policy parameter field,ABANDONED,2017-12-18 01:52:58.000000000,2019-06-06 19:29:13.000000000,,"[{'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-18 01:52:58.000000000', 'files': ['os_api_ref/tests/test_basic_example.py', 'os_api_ref/tests/test_microversions.py', 'doc/source/usage.rst', 'os_api_ref/__init__.py'], 'web_link': 'https://opendev.org/openstack/os-api-ref/commit/78e936963d2b5a508d194fb3e3ada2da099236e3', 'message': 'Add default_policy parameter field\n\nThis change adds documentation to parameter that are meant to be restricted\nto admin by default.\n\nChange-Id: I34a4a705c0b30592a9c8eec8ed9ec2b94d981ddc\n'}]",0,528598,78e936963d2b5a508d194fb3e3ada2da099236e3,4,2,1,9311,,,0,"Add default_policy parameter field

This change adds documentation to parameter that are meant to be restricted
to admin by default.

Change-Id: I34a4a705c0b30592a9c8eec8ed9ec2b94d981ddc
",git fetch https://review.opendev.org/openstack/os-api-ref refs/changes/98/528598/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_api_ref/tests/test_basic_example.py', 'os_api_ref/tests/test_microversions.py', 'doc/source/usage.rst', 'os_api_ref/__init__.py']",4,78e936963d2b5a508d194fb3e3ada2da099236e3,," headers = [""Name"", ""In"", ""Type"", ""Default Policy"", ""Description""] trow += self.add_col(values.get('default_policy'))"," headers = [""Name"", ""In"", ""Type"", ""Description""]",11,1
openstack%2Fopenstack-helm-infra~master~Ie2727bd6bcc26e57875bea38f0f665d4a0e85bd7,openstack/openstack-helm-infra,master,Ie2727bd6bcc26e57875bea38f0f665d4a0e85bd7,Uplift nfs-provisioner,MERGED,2019-06-03 18:49:57.000000000,2019-06-06 19:28:51.000000000,2019-06-06 19:28:51.000000000,"[{'_account_id': 7769}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 30526}]","[{'number': 1, 'created': '2019-06-03 18:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/735baa4bfc9d3ca82c10aa65641a51814b7237f3', 'message': '[WIP] Uplift nfs-provisioner\n\n* Update the version of uplift-provisioner image.\n* Allow nfs-provisioner user to manage its endpoints, this is\n  required because the newest version of nfs-provisioner uses\n  `leaderelection` package from k8s, this packages leverages\n  labels on endpoints to track leader election information.\n\nChange-Id: Ie2727bd6bcc26e57875bea38f0f665d4a0e85bd7\n'}, {'number': 2, 'created': '2019-06-03 20:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/83e467322d290e64e15d6dc55878ef73410d769c', 'message': 'Uplift nfs-provisioner\n\n* Update the version of uplift-provisioner to the latest image.\n* Allow nfs-provisioner user to manage its endpoints, this is\n  required because the newest version of nfs-provisioner uses\n  `leaderelection` package from k8s, this packages leverages\n  labels on endpoints to track leader election information.\n\nChange-Id: Ie2727bd6bcc26e57875bea38f0f665d4a0e85bd7\n'}, {'number': 3, 'created': '2019-06-03 20:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a15ff22121d941904f16488902eb8aa8cf658b42', 'message': 'Uplift nfs-provisioner\n\n* Update the version of uplift-provisioner to the latest image.\n* Allow nfs-provisioner user to manage endpoints, this is\n  required because the newest version of nfs-provisioner uses\n  `leaderelection` package from k8s, this packages leverages\n  labels on endpoints to track leader election information.\n\nChange-Id: Ie2727bd6bcc26e57875bea38f0f665d4a0e85bd7\n'}, {'number': 4, 'created': '2019-06-04 14:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/46bf06e74ae8411022385b4dd83bcbb70250404b', 'message': 'Uplift nfs-provisioner\n\n* Update the version of nfs-provisioner to the latest image.\n* Allow nfs-provisioner user to manage endpoints, this is\n  required because the newest version uses `leaderelection`\n  package from k8s, this packages leverages labels on endpoints\n  to track leader election information.\n\nChange-Id: Ie2727bd6bcc26e57875bea38f0f665d4a0e85bd7\n'}, {'number': 5, 'created': '2019-06-05 16:57:40.000000000', 'files': ['nfs-provisioner/templates/deployment.yaml', 'nfs-provisioner/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b77385c82f9853b3dfd82a9b41af23880877319b', 'message': 'Uplift nfs-provisioner\n\n* Update the version of nfs-provisioner to the latest image.\n* Allow nfs-provisioner user to manage endpoints, this is\n  required because the newest version uses `leaderelection`\n  package from k8s, this packages leverages labels on endpoints\n  to track leader election information.\n\nChange-Id: Ie2727bd6bcc26e57875bea38f0f665d4a0e85bd7\n'}]",0,662820,b77385c82f9853b3dfd82a9b41af23880877319b,26,10,5,8749,,,0,"Uplift nfs-provisioner

* Update the version of nfs-provisioner to the latest image.
* Allow nfs-provisioner user to manage endpoints, this is
  required because the newest version uses `leaderelection`
  package from k8s, this packages leverages labels on endpoints
  to track leader election information.

Change-Id: Ie2727bd6bcc26e57875bea38f0f665d4a0e85bd7
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/20/662820/1 && git format-patch -1 --stdout FETCH_HEAD,"['nfs-provisioner/templates/deployment.yaml', 'nfs-provisioner/values.yaml']",2,735baa4bfc9d3ca82c10aa65641a51814b7237f3,up-nfs-provisioner, nfs_provisioner: quay.io/kubernetes_incubator/nfs-provisioner:v2.2.1-k8s1.12, nfs_provisioner: quay.io/kubernetes_incubator/nfs-provisioner:v1.0.8,9,1
openstack%2Fopenstack-zuul-jobs~master~I1b2fc2f6f90f4b72cd469d449798b636eebec483,openstack/openstack-zuul-jobs,master,I1b2fc2f6f90f4b72cd469d449798b636eebec483,Remove legacy jobs from networking-onos,ABANDONED,2017-10-20 08:33:53.000000000,2019-06-06 19:27:43.000000000,,"[{'_account_id': 11278}, {'_account_id': 19741}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-20 08:33:53.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/tempest-dsvm-networking-onos/post.yaml', 'playbooks/legacy/tempest-dsvm-networking-onos/run.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/caa522136aa33e613fd6a87b8de0054bb348cb92', 'message': 'Remove legacy jobs from networking-onos\n\nDepends-On: If9716922aa6e95ce7f4d7f55db5c66319ab2e81d\nDepends-On: Ie2fbbbfb9ebae9f3fb113d985e1d32d723f1a65b\nChange-Id: I1b2fc2f6f90f4b72cd469d449798b636eebec483\n'}]",0,513657,caa522136aa33e613fd6a87b8de0054bb348cb92,4,3,1,22582,,,0,"Remove legacy jobs from networking-onos

Depends-On: If9716922aa6e95ce7f4d7f55db5c66319ab2e81d
Depends-On: Ie2fbbbfb9ebae9f3fb113d985e1d32d723f1a65b
Change-Id: I1b2fc2f6f90f4b72cd469d449798b636eebec483
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/57/513657/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/tempest-dsvm-networking-onos/post.yaml', 'playbooks/legacy/tempest-dsvm-networking-onos/run.yaml']",3,caa522136aa33e613fd6a87b8de0054bb348cb92,migrate-to-zuulv3,,"- hosts: all name: Autoconverted job legacy-tempest-dsvm-networking-onos from old job gate-tempest-dsvm-networking-onos-ubuntu-xenial-nv tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack-infra/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ git://git.openstack.org \ openstack-infra/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" [[local|localrc]] enable_plugin networking-onos git://git.openstack.org/openstack/networking-onos EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export DEVSTACK_GATE_NEUTRON=1 # Make sure tempest is installed, but run it out of the post_test_hooks.sh # script from the networking-onos repository. export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_TEMPEST_NOTESTS=1 export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi # Because we are testing a non standard project, add # our project repository. This makes zuul do the right # reference magic for testing changes. export PROJECTS=""openstack/networking-onos $PROJECTS"" # Keep localrc to be able to set some vars in pre_test_hook export KEEP_LOCALRC=1 function pre_test_hook { if [ -f $BASE/new/networking-onos/devstack/pre_test_hook.sh ] ; then . $BASE/new/networking-onos/devstack/pre_test_hook.sh fi } export -f pre_test_hook function post_test_hook { if [ -f $BASE/new/networking-onos/devstack/post_test_hook.sh ] ; then . $BASE/new/networking-onos/devstack/post_test_hook.sh fi } export -f post_test_hook cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",0,106
openstack%2Fproject-config~master~Ie2fbbbfb9ebae9f3fb113d985e1d32d723f1a65b,openstack/project-config,master,Ie2fbbbfb9ebae9f3fb113d985e1d32d723f1a65b,Remove legacy jobs from networking-onos,ABANDONED,2017-10-20 08:34:12.000000000,2019-06-06 19:27:05.000000000,,"[{'_account_id': 6547}, {'_account_id': 11278}, {'_account_id': 19741}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-20 08:34:12.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/138485184fe01028209488794be8fc65465567ad', 'message': 'Remove legacy jobs from networking-onos\n\nDepends-On: If9716922aa6e95ce7f4d7f55db5c66319ab2e81d\nChange-Id: Ie2fbbbfb9ebae9f3fb113d985e1d32d723f1a65b\nNeeded-By: I1b2fc2f6f90f4b72cd469d449798b636eebec483\n'}]",0,513658,138485184fe01028209488794be8fc65465567ad,5,4,1,22582,,,0,"Remove legacy jobs from networking-onos

Depends-On: If9716922aa6e95ce7f4d7f55db5c66319ab2e81d
Change-Id: Ie2fbbbfb9ebae9f3fb113d985e1d32d723f1a65b
Needed-By: I1b2fc2f6f90f4b72cd469d449798b636eebec483
",git fetch https://review.opendev.org/openstack/project-config refs/changes/58/513658/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,138485184fe01028209488794be8fc65465567ad,migrate-to-zuulv3,, check: jobs: - legacy-tempest-dsvm-networking-onos: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$,0,7
openstack%2Fnova~master~I8c021129a4df914f56193cca9ff136390a7240c3,openstack/nova,master,I8c021129a4df914f56193cca9ff136390a7240c3,Add testing guide for down cells,MERGED,2019-04-05 00:26:55.000000000,2019-06-06 18:50:50.000000000,2019-06-06 18:50:50.000000000,"[{'_account_id': 2033}, {'_account_id': 4690}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2019-04-05 00:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d10797581ccdd2e0cb3bd19b85a09cbd010a7833', 'message': 'Add testing guide for down cells\n\nThis adds a testing guide for creating a down cell\nenvironment with a basic single-node devstack setup.\n\nChange-Id: I8c021129a4df914f56193cca9ff136390a7240c3\n'}, {'number': 2, 'created': '2019-04-05 00:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff1e06366d2b42b17ba04d25d233f6769d0f9284', 'message': 'Add testing guide for down cells\n\nThis adds a testing guide for creating a down cell\nenvironment with a basic single-node devstack setup.\n\nChange-Id: I8c021129a4df914f56193cca9ff136390a7240c3\n'}, {'number': 3, 'created': '2019-04-05 17:58:08.000000000', 'files': ['doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/testing/down-cell.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/47fd7e332493fedef3a31a90bcb2b0099a486930', 'message': 'Add testing guide for down cells\n\nThis adds a testing guide for creating a down cell\nenvironment with a basic single-node devstack setup.\n\nChange-Id: I8c021129a4df914f56193cca9ff136390a7240c3\n'}]",12,650167,47fd7e332493fedef3a31a90bcb2b0099a486930,24,10,3,6873,,,0,"Add testing guide for down cells

This adds a testing guide for creating a down cell
environment with a basic single-node devstack setup.

Change-Id: I8c021129a4df914f56193cca9ff136390a7240c3
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/650167/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/testing/down-cell.rst', 'doc/source/admin/cells.rst']",4,d10797581ccdd2e0cb3bd19b85a09cbd010a7833,bp/handling-down-cell,.. _cellsv2-management: ,,243,0
openstack%2Fopenstack-helm-infra~master~I4c56b97f85093bbbaaef617f1981f67215a8bc00,openstack/openstack-helm-infra,master,I4c56b97f85093bbbaaef617f1981f67215a8bc00,Ceph-client: Fix security context for pod/container,MERGED,2019-05-28 16:14:47.000000000,2019-06-06 18:47:30.000000000,2019-06-06 18:47:29.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 9079}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29132}, {'_account_id': 29161}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-05-28 16:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6b93e87adf8c5d40b9c0373d593dd2122a87f4cc', 'message': 'Ceph-client: Fix security context for pod/container\n\nThis changes the  user from root to the nobody user instead\nin ceph-client chart whereever needed\n\nChange-Id: I4c56b97f85093bbbaaef617f1981f67215a8bc00\n'}, {'number': 2, 'created': '2019-05-28 17:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/538613918abd1ba7265d645ccd367fc389a7d57e', 'message': 'Ceph-client: Fix security context for pod/container\n\nThis changes the  user from root to the nobody user instead\nin ceph-client chart whereever needed\n\nChange-Id: I4c56b97f85093bbbaaef617f1981f67215a8bc00\n'}, {'number': 3, 'created': '2019-05-29 15:32:31.000000000', 'files': ['ceph-client/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/789fa7a4e5a37875bc6372c733f10d6a206e87bb', 'message': 'Ceph-client: Fix security context for pod/container\n\nThis changes the  user from root to the nobody user instead\nin ceph-client chart wherever needed\n\nChange-Id: I4c56b97f85093bbbaaef617f1981f67215a8bc00\n'}]",2,661805,789fa7a4e5a37875bc6372c733f10d6a206e87bb,23,11,3,29161,,,0,"Ceph-client: Fix security context for pod/container

This changes the  user from root to the nobody user instead
in ceph-client chart wherever needed

Change-Id: I4c56b97f85093bbbaaef617f1981f67215a8bc00
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/05/661805/2 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/values.yaml'],1,6b93e87adf8c5d40b9c0373d593dd2122a87f4cc,ceph-client, runAsUser: 65534 allowPrivilegeEscalation: false runAsUser: 65534 runAsUser: 0 runAsUser: 0 runAsUser: 65534 runAsUser: 0 runAsUser: 0 runAsUser: 65534 allowPrivilegeEscalation: false runAsUser: 65534 allowPrivilegeEscalation: false runAsUser: 65534 allowPrivilegeEscalation: false, runAsUser: 0 runAsUser: 0 runAsUser: 0 runAsUser: 0 runAsUser: 0 runAsUser: 0,14,6
openstack%2Fnetworking-ovn~stable%2Fstein~Idc7bae88ed6f3ec44541b38f559a0296d2159449,openstack/networking-ovn,stable/stein,Idc7bae88ed6f3ec44541b38f559a0296d2159449,Fix metadata agent proxy list updates race condition,MERGED,2019-06-05 13:00:20.000000000,2019-06-06 18:46:14.000000000,2019-06-06 18:46:14.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-06-05 13:00:20.000000000', 'files': ['networking_ovn/agent/metadata/agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5fe83cbcb5d2acc8af5e05d65345b114f859a359', 'message': 'Fix metadata agent proxy list updates race condition\n\nWhen multiple instances are being spawned and/or teared down at the\nsame time, multiple updates to the ""neutron-metadata-proxy-networks""\nlist may race each other resulting in some networks UUIDs to go missing\nin that process.\n\nOne of the problems with these updates is that the external_ids column\nin the OVSDBs only supports string type values so, the ""list"" is an\nactual comma-separated string. In order to add or remove an item from\nfrom it the code in networking-ovn needs to transform it from and back\nto string and commit the whole thing to OVN database when saving it.\n\nWhen it races, commits may overwrite each other.\n\nIn order to fix this problem this patch is adding a file lock on the\nmethod that manipulates this list and commit it to the database. It\'s\nimportant to note that the metadata agent only updates the Chassis entry\nwhich it\'s currently running on, therefore we do not need a distributed\nlock (the file lock, being local works).\n\nI was able to reproduce this problem fairly consistently by concurrently\nspawning 50 instances each time with BrowBeat (see bug ticket for more\ninformation). After this fix was applied I could attest that the problem\nwas resolved.\n\nChange-Id: Idc7bae88ed6f3ec44541b38f559a0296d2159449\nCloses-Bug: #1831224\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit d84cb7938a153bd22a6fae5adbfbf8ec3b819bda)\n'}]",0,663314,5fe83cbcb5d2acc8af5e05d65345b114f859a359,11,6,1,6773,,,0,"Fix metadata agent proxy list updates race condition

When multiple instances are being spawned and/or teared down at the
same time, multiple updates to the ""neutron-metadata-proxy-networks""
list may race each other resulting in some networks UUIDs to go missing
in that process.

One of the problems with these updates is that the external_ids column
in the OVSDBs only supports string type values so, the ""list"" is an
actual comma-separated string. In order to add or remove an item from
from it the code in networking-ovn needs to transform it from and back
to string and commit the whole thing to OVN database when saving it.

When it races, commits may overwrite each other.

In order to fix this problem this patch is adding a file lock on the
method that manipulates this list and commit it to the database. It's
important to note that the metadata agent only updates the Chassis entry
which it's currently running on, therefore we do not need a distributed
lock (the file lock, being local works).

I was able to reproduce this problem fairly consistently by concurrently
spawning 50 instances each time with BrowBeat (see bug ticket for more
information). After this fix was applied I could attest that the problem
was resolved.

Change-Id: Idc7bae88ed6f3ec44541b38f559a0296d2159449
Closes-Bug: #1831224
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit d84cb7938a153bd22a6fae5adbfbf8ec3b819bda)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/14/663314/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/agent/metadata/agent.py'],1,5fe83cbcb5d2acc8af5e05d65345b114f859a359,bug/1831224,"CHASSIS_METADATA_LOCK = 'chassis_metadata_lock' # NOTE(lucasagomes): Even tho the metadata agent is a multi-process # application, there's only one Southbound database IDL instance in # the agent which handles the OVSDB events therefore we do not need # the external=True parameter in the @synchronized decorator. @lockutils.synchronized(CHASSIS_METADATA_LOCK)",,6,0
openstack%2Fshade~master~Ie8629c6882feefd388d36905146b3a8255bbc950,openstack/shade,master,Ie8629c6882feefd388d36905146b3a8255bbc950,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 08:52:50.000000000,2019-06-06 18:44:22.000000000,2019-06-06 18:44:21.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 08:52:50.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/shade/commit/05de1cc854174ba0cea7da480328cc73a6a4ef93', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: Ie8629c6882feefd388d36905146b3a8255bbc950\n'}]",0,663545,05de1cc854174ba0cea7da480328cc73a6a4ef93,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: Ie8629c6882feefd388d36905146b3a8255bbc950
",git fetch https://review.opendev.org/openstack/shade refs/changes/45/663545/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,05de1cc854174ba0cea7da480328cc73a6a4ef93,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-helm-images~master~If39b0620199d9cdcc5c8f4dd48a4a74d443c7dd5,openstack/openstack-helm-images,master,If39b0620199d9cdcc5c8f4dd48a4a74d443c7dd5,Freeze images with a date,MERGED,2019-05-16 14:33:00.000000000,2019-06-06 18:32:39.000000000,2019-06-03 17:45:45.000000000,"[{'_account_id': 8749}, {'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-05-16 14:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/09f2fc07835bc326f4fb04c657d7d9f1878aaa30', 'message': '[WIP] Freeze Images with a date\n\nThis allows to keep rolling images on a per commit basis, but\nalso upload a frozen version of images.\n\nChange-Id: If39b0620199d9cdcc5c8f4dd48a4a74d443c7dd5\n'}, {'number': 2, 'created': '2019-05-16 14:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/80bedd62781e9cce22fb3e851f55e7a39efe93ff', 'message': '[WIP] Freeze Images with a date\n\nThis allows to keep rolling images on a per commit basis, but\nalso upload a frozen version of images.\n\nChange-Id: If39b0620199d9cdcc5c8f4dd48a4a74d443c7dd5\n'}, {'number': 3, 'created': '2019-05-16 15:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/523b465322d2dd716a60b7136a6db38a4f83a391', 'message': '[WIP] Freeze images with a date\n\nThis allows to keep rolling images on a per commit basis, but\nalso upload a frozen version of images.\n\nChange-Id: If39b0620199d9cdcc5c8f4dd48a4a74d443c7dd5\n'}, {'number': 4, 'created': '2019-05-16 15:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/2eb4bf0a643d9308ee8437adda17e47407e23d46', 'message': '[WIP] Freeze images with a date\n\nThis allows to keep rolling images on a per commit basis, but\nalso upload a frozen version of images.\n\nChange-Id: If39b0620199d9cdcc5c8f4dd48a4a74d443c7dd5\n'}, {'number': 5, 'created': '2019-05-16 15:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8838725529993e0f74ea18cd7a0e0374e477162d', 'message': 'Freeze images with a date\n\nThis allows to keep rolling images on a per commit basis, but\nalso upload a frozen version of images.\n\nChange-Id: If39b0620199d9cdcc5c8f4dd48a4a74d443c7dd5\n'}, {'number': 6, 'created': '2019-05-16 16:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/810dabbc70a862b0aa609dd234a949ca92b160e0', 'message': 'Freeze images with a date\n\nThis allows to keep rolling images on a per commit basis, but\nalso upload a frozen version of images.\n\nChange-Id: If39b0620199d9cdcc5c8f4dd48a4a74d443c7dd5\n'}, {'number': 7, 'created': '2019-05-31 06:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f04b253952ccc67f3b8d010c37a4d654008adeb4', 'message': 'Freeze images with a date\n\nThis allows to keep rolling images on a per commit basis, but\nalso upload a frozen version of images.\n\nChange-Id: If39b0620199d9cdcc5c8f4dd48a4a74d443c7dd5\n'}, {'number': 8, 'created': '2019-05-31 06:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/bec1350d7e27bf9b4dcb784df07de961efc2669d', 'message': 'Freeze images with a date\n\nThis allows to keep rolling images on a per commit basis, but\nalso upload a frozen version of images.\n\nChange-Id: If39b0620199d9cdcc5c8f4dd48a4a74d443c7dd5\n'}, {'number': 9, 'created': '2019-05-31 09:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d3f084dc19e85c7d799e658991ccb88bb12a9ce4', 'message': 'Freeze images with a date\n\nThis allows to keep rolling images on a per commit basis, but\nalso upload a frozen version of images.\n\nChange-Id: If39b0620199d9cdcc5c8f4dd48a4a74d443c7dd5\n'}, {'number': 10, 'created': '2019-06-03 12:17:34.000000000', 'files': ['zuul.d/calicoctl-utility.yaml', 'zuul.d/fluentd.yaml', 'zuul.d/ceph-utility.yaml', 'zuul.d/gate-utils.yaml', 'zuul.d/tempest.yaml', 'zuul.d/ceph-daemon.yaml', 'zuul.d/patroni.yaml', 'zuul.d/libvirt.yaml', 'zuul.d/ceph-config-helper.yaml', 'zuul.d/ceph-rbd-provisioner.yaml', 'zuul.d/vbmc.yaml', 'zuul.d/ceph-cephfs-provisioner.yaml', 'zuul.d/mini-mirror.yaml', 'zuul.d/openstack-loci.yaml', 'zuul.d/mariadb.yaml', 'zuul.d/openvswitch.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d31f6ed8e27d9bc85f55387f9a59391438496a5e', 'message': 'Freeze images with a date\n\nThis allows to keep rolling images on a per commit basis, but\nalso upload a frozen version of images.\n\nChange-Id: If39b0620199d9cdcc5c8f4dd48a4a74d443c7dd5\n'}]",0,659578,d31f6ed8e27d9bc85f55387f9a59391438496a5e,48,5,10,17068,,,0,"Freeze images with a date

This allows to keep rolling images on a per commit basis, but
also upload a frozen version of images.

Change-Id: If39b0620199d9cdcc5c8f4dd48a4a74d443c7dd5
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/78/659578/9 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openstack-loci.yaml'],1,09f2fc07835bc326f4fb04c657d7d9f1878aaa30,add_date_to_tag," # WIP: See if facts are gathered properly. If that works, cool # else check at lookup. currentdate: ""{{ ansible_date_time['date'] }}"" - ""{{ shortbranchname }}-{{ distroname }}"" # Always updated tag - ""{{ shortbranchname }}-{{ distroname }}-{{ currentdate }}"" # Frozen tag - ""{{ shortbranchname }}-18.04-sriov-{{ currentdate }}"" # WIP need to add frozen tags here."," - ""{{ shortbranchname }}-{{ distroname }}""",7,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~If7276e766344bbdc4a92f3df34961859962106e8,openstack/tripleo-heat-templates,stable/queens,If7276e766344bbdc4a92f3df34961859962106e8,"Revert ""[queens-only] Write docker config scripts only if config exists""",MERGED,2019-06-06 12:00:45.000000000,2019-06-06 18:20:21.000000000,2019-06-06 18:20:21.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-06-06 12:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cca0aeb7da808e3b3ae58703190aa2abc3990074', 'message': 'Revert ""[queens-only] Write docker config scripts only if config exists""\n\nIt broke the fs015 CI job (ipv6), we need to dig why, but in the meantime we revert.\n\nThis reverts commit 073851d32873e8ba54a58594846c6e65d0e9a3ff.\n\nChange-Id: If7276e766344bbdc4a92f3df34961859962106e8\n'}, {'number': 2, 'created': '2019-06-06 12:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f54b39654c4c72f452e788754fed850b223494cb', 'message': 'Revert ""[queens-only] Write docker config scripts only if config exists""\n\nIt broke the fs015 CI job (ipv6), we need to dig why, but in the meantime we revert.\n\nThis reverts commit 073851d32873e8ba54a58594846c6e65d0e9a3ff.\n\nChange-Id: If7276e766344bbdc4a92f3df34961859962106e8\n'}, {'number': 3, 'created': '2019-06-06 12:03:52.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/13f77b981cb36bcda7cd9c7abad1185f7792f31c', 'message': 'Revert ""[queens-only] Write docker config scripts only if config exists""\n\nIt broke the fs015 CI job (ipv6), we need to dig why, but in the meantime we revert.\n\nThis reverts commit 073851d32873e8ba54a58594846c6e65d0e9a3ff.\nDepends-On: I8884561e925db592e4b8b4d3b6c4df3bea8f9f47 \nChange-Id: If7276e766344bbdc4a92f3df34961859962106e8\n'}]",0,663618,13f77b981cb36bcda7cd9c7abad1185f7792f31c,10,8,3,3153,,,0,"Revert ""[queens-only] Write docker config scripts only if config exists""

It broke the fs015 CI job (ipv6), we need to dig why, but in the meantime we revert.

This reverts commit 073851d32873e8ba54a58594846c6e65d0e9a3ff.
Depends-On: I8884561e925db592e4b8b4d3b6c4df3bea8f9f47 
Change-Id: If7276e766344bbdc4a92f3df34961859962106e8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/663618/3 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,cca0aeb7da808e3b3ae58703190aa2abc3990074,bug/1831455,, when: stat_docker_config_scripts.stat.exists,0,1
openstack%2Ftripleo-quickstart-extras~master~I75696049a2776fbe8693b2aaef71f2342b52b387,openstack/tripleo-quickstart-extras,master,I75696049a2776fbe8693b2aaef71f2342b52b387,Add resize_server_revert and rebuild_list_server to skip list,MERGED,2019-06-06 07:08:20.000000000,2019-06-06 18:20:20.000000000,2019-06-06 18:20:20.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10135}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-06 07:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9ce3b1dc006d02d25183ab79270c6d40827527ac', 'message': '[ROCKY] test_resize_server_revert_with_volume_attached to skip list\n\nSince The VIF creation failure is a known issue as per the bug\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1678681 and we need to add\nit to skip list till it get fixed.\n\nRelated-Bug: #1831223\n\nChange-Id: I75696049a2776fbe8693b2aaef71f2342b52b387\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-06-06 07:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/07936e99a1b966acc3ba45b9ae596d77d4c20fa4', 'message': '[ROCKY] test_resize_server_revert_with_volume_attached to skip list\n\nSince The VIF creation failure is a known issue as per the bug\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1678681 and we need\nto add it to skip list till it get fixed.\n\nRelated-Bug: #1831223\n\nChange-Id: I75696049a2776fbe8693b2aaef71f2342b52b387\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-06-06 11:24:20.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_rocky.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/366634808a86e67a7ee51a048e3adcd4550f4cd3', 'message': 'Add resize_server_revert and rebuild_list_server to skip list\n\nSince The VIF creation failure is a known issue as per the bug\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1678681\n\ntempest.api.compute.servers.test_servers.ServerShowV263Test.\ntest_show_update_rebuild_list_server test is also failing due\nto https://bugs.launchpad.net/nova/+bug/1831866\n\nAdding it to skip list to unblock promotion pipeline.\n\nRelated-Bug: #1831223\n\nChange-Id: I75696049a2776fbe8693b2aaef71f2342b52b387\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",3,663525,366634808a86e67a7ee51a048e3adcd4550f4cd3,20,13,3,12393,,,0,"Add resize_server_revert and rebuild_list_server to skip list

Since The VIF creation failure is a known issue as per the bug
https://bugzilla.redhat.com/show_bug.cgi?id=1678681

tempest.api.compute.servers.test_servers.ServerShowV263Test.
test_show_update_rebuild_list_server test is also failing due
to https://bugs.launchpad.net/nova/+bug/1831866

Adding it to skip list to unblock promotion pipeline.

Related-Bug: #1831223

Change-Id: I75696049a2776fbe8693b2aaef71f2342b52b387
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/25/663525/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip_rocky.yml'],1,9ce3b1dc006d02d25183ab79270c6d40827527ac,bug/1831223," - test: 'tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON.test_resize_server_revert_with_volume_attached' reason: 'REVERT_RESIZE stuck for 300s: ""VirtualInterfaceCreateException: Virtual Interface creation failed' lp: 'https://bugzilla.redhat.com/show_bug.cgi?id=1678681'",,3,0
openstack%2Fkolla-ansible~stable%2Frocky~I4a74a91b9b38d5c172397a7e7204e626bcedcfac,openstack/kolla-ansible,stable/rocky,I4a74a91b9b38d5c172397a7e7204e626bcedcfac,Set log message field name in Monasca Fluentd plugin,MERGED,2019-05-23 14:55:19.000000000,2019-06-06 18:20:12.000000000,2019-06-06 18:20:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-05-23 14:55:19.000000000', 'files': ['ansible/roles/common/templates/conf/output/02-monasca.conf.j2', 'ansible/roles/common/templates/conf/output/00-local.conf.j2', 'ansible/roles/common/templates/conf/filter/00-record_transformer.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2ee13e179ffdac4ddc199e2d4d35ef8b18fcfb29', 'message': 'Set log message field name in Monasca Fluentd plugin\n\nLet the Monasca Fluentd output plugin handle mapping of the log\nmessage.\n\nChange-Id: I4a74a91b9b38d5c172397a7e7204e626bcedcfac\nCloses-Bug: #1830184\nDepends-On: https://review.opendev.org/#/c/660988/\n(cherry picked from commit a5cd622396700ff995d5fa7f70ff5bdeb2156013)\n'}]",0,661025,2ee13e179ffdac4ddc199e2d4d35ef8b18fcfb29,10,3,1,17669,,,0,"Set log message field name in Monasca Fluentd plugin

Let the Monasca Fluentd output plugin handle mapping of the log
message.

Change-Id: I4a74a91b9b38d5c172397a7e7204e626bcedcfac
Closes-Bug: #1830184
Depends-On: https://review.opendev.org/#/c/660988/
(cherry picked from commit a5cd622396700ff995d5fa7f70ff5bdeb2156013)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/25/661025/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/output/02-monasca.conf.j2', 'ansible/roles/common/templates/conf/output/00-local.conf.j2', 'ansible/roles/common/templates/conf/filter/00-record_transformer.conf.j2']",3,2ee13e179ffdac4ddc199e2d4d35ef8b18fcfb29,bug/1830184,,"# Kolla Fluentd input config configures Fluentd to save all log messages # under the 'Payload' field, however the fluentd-monasca plugin assumes # that log messages are saved under the 'message' field. Here we map the # 'Payload' field to the 'message' field so that log can be forwarded to # Monasca. <filter *.**> @type record_transformer enable_ruby true <record> message ${record[""Payload""]} </record> remove_keys Payload </filter> ",3,14
openstack%2Freleases~master~If030e4e05072ab92229e6f8644fd3d5ce23b9ffa,openstack/releases,master,If030e4e05072ab92229e6f8644fd3d5ce23b9ffa,[placement] Create milestone-1 releases,ABANDONED,2019-06-06 13:09:45.000000000,2019-06-06 18:14:33.000000000,,"[{'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 13:09:45.000000000', 'files': ['deliverables/train/os-resource-classes.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5e266ddac18f86d394ece2cde0448b00e51cb18b', 'message': '[placement] Create milestone-1 releases\n\nThis is a procedural review to create new releases for libraries following cycle-with-intermediary  model with code changes\n\nTeams should update this change as appropriate\n\nChange-Id: If030e4e05072ab92229e6f8644fd3d5ce23b9ffa\n'}]",0,663645,5e266ddac18f86d394ece2cde0448b00e51cb18b,4,3,1,12898,,,0,"[placement] Create milestone-1 releases

This is a procedural review to create new releases for libraries following cycle-with-intermediary  model with code changes

Teams should update this change as appropriate

Change-Id: If030e4e05072ab92229e6f8644fd3d5ce23b9ffa
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/663645/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/os-resource-classes.yaml'],1,5e266ddac18f86d394ece2cde0448b00e51cb18b,wci-m1-releases,releases: - projects: - hash: cda818464ec4bfc7f34279501fb4a890e900ae53 repo: openstack/os-resource-classes version: 0.4.0,,5,0
openstack%2Freleases~master~Idd7a657f138056de41f22fccadd3b4ceb825872f,openstack/releases,master,Idd7a657f138056de41f22fccadd3b4ceb825872f,Release python-ironicclient 2.8.0 for Train,MERGED,2019-06-06 12:07:11.000000000,2019-06-06 18:07:13.000000000,2019-06-06 18:07:12.000000000,"[{'_account_id': 308}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 12:07:11.000000000', 'files': ['deliverables/train/python-ironicclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9c9ff5ba64b1ad9bd2a7274566b73c1fbba5dff9', 'message': 'Release python-ironicclient 2.8.0 for Train\n\nChange-Id: Idd7a657f138056de41f22fccadd3b4ceb825872f\n'}]",0,663621,9c9ff5ba64b1ad9bd2a7274566b73c1fbba5dff9,8,4,1,10239,,,0,"Release python-ironicclient 2.8.0 for Train

Change-Id: Idd7a657f138056de41f22fccadd3b4ceb825872f
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/663621/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/python-ironicclient.yaml'],1,9c9ff5ba64b1ad9bd2a7274566b73c1fbba5dff9,ironicclient,releases: - projects: - hash: a22874bd585bac07a613bd6a2a14dc3fa487dcc3 repo: openstack/python-ironicclient version: 2.8.0,,5,0
openstack%2Fnova~master~I17a4aeef3c47dcf1fc4a2d2ef0d1a712bc4db85b,openstack/nova,master,I17a4aeef3c47dcf1fc4a2d2ef0d1a712bc4db85b,Replace eventlet.timeout.Timeout with StopWatch timer,ABANDONED,2019-05-08 08:02:45.000000000,2019-06-06 18:06:04.000000000,,"[{'_account_id': 6926}, {'_account_id': 9008}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-08 08:02:45.000000000', 'files': ['nova/api/openstack/__init__.py', 'nova/compute/multi_cell_list.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6fa3a19e115268bf2d0a7d7643400e86bb4907f5', 'message': 'Replace eventlet.timeout.Timeout with StopWatch timer\n\nThis removes the last remaining use of eventlet in nova-api by\nreplacing the eventlet.timeout.Timeout decorator with a oslo_utils\ntimeutils StopWatch timer.\n\nBecause nothing else in nova-api is using eventlet, we also remove\neventlet monkey patching in nova-api.\n\nChange-Id: I17a4aeef3c47dcf1fc4a2d2ef0d1a712bc4db85b\n'}]",0,657750,6fa3a19e115268bf2d0a7d7643400e86bb4907f5,19,16,1,4690,,,0,"Replace eventlet.timeout.Timeout with StopWatch timer

This removes the last remaining use of eventlet in nova-api by
replacing the eventlet.timeout.Timeout decorator with a oslo_utils
timeutils StopWatch timer.

Because nothing else in nova-api is using eventlet, we also remove
eventlet monkey patching in nova-api.

Change-Id: I17a4aeef3c47dcf1fc4a2d2ef0d1a712bc4db85b
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/657750/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/__init__.py', 'nova/compute/multi_cell_list.py']",2,6fa3a19e115268bf2d0a7d7643400e86bb4907f5,cell-scatter-gather-futurist,from oslo_utils import timeutils with timeutils.StopWatch() as timer: if timer.elapsed() <= context.CELL_TIMEOUT: yield record else: raise exception.CellTimeout(),"import eventlet with eventlet.timeout.Timeout(context.CELL_TIMEOUT, exception.CellTimeout): yield record",6,5
openstack%2Freleases~master~Ie7a7f85bdc0133146d132e70c47f4b5298121928,openstack/releases,master,Ie7a7f85bdc0133146d132e70c47f4b5298121928,Release glance_store 0.29.0,MERGED,2019-06-06 15:04:22.000000000,2019-06-06 18:02:22.000000000,2019-06-06 18:02:22.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 15:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/05408c1c916de439b11096564ca093857ada730c', 'message': 'Release glance_store 0.29.0\n\nThis is the Train milestone 1 release of glance_store.\n\nChange-Id: Ie7a7f85bdc0133146d132e70c47f4b5298121928\n'}, {'number': 2, 'created': '2019-06-06 16:36:37.000000000', 'files': ['deliverables/train/glance-store.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9de27a8155e52847143fa817f8dd79bb37228cdd', 'message': 'Release glance_store 0.29.0\n\nThis is the Train milestone 1 release of glance_store.\n\nChange-Id: Ie7a7f85bdc0133146d132e70c47f4b5298121928\n'}]",0,663696,9de27a8155e52847143fa817f8dd79bb37228cdd,10,4,2,9303,,,0,"Release glance_store 0.29.0

This is the Train milestone 1 release of glance_store.

Change-Id: Ie7a7f85bdc0133146d132e70c47f4b5298121928
",git fetch https://review.opendev.org/openstack/releases refs/changes/96/663696/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/glance-store.yaml'],1,05408c1c916de439b11096564ca093857ada730c,glance_store/T-1,releases: - projects: - hash: d5dc27e7d389cd00ece53e62f2b1e643ea115fd3 repo: openstack/glance_store version: 0.29.0,,5,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I02c8369c83a7342b4970fe474f8e190f5056d557,openstack/tripleo-heat-templates,stable/queens,I02c8369c83a7342b4970fe474f8e190f5056d557,"Revert ""Fix tempest volume tests on queens""",ABANDONED,2019-05-28 09:38:40.000000000,2019-06-06 17:59:27.000000000,,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}, {'_account_id': 28239}]","[{'number': 1, 'created': '2019-05-28 09:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c65d83372595969bf35dc87b65b81926f3ebf1ab', 'message': 'Revert ""Fix tempest volume tests on queens""\n\nThis reverts commit 3bc041b47da5f23c57f97c49a66349b81ccc0740.\n\nChange-Id: I02c8369c83a7342b4970fe474f8e190f5056d557\n'}, {'number': 2, 'created': '2019-05-28 09:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/116e049b0a618662c8709192d6e7b617554c9a4c', 'message': 'Revert ""Fix tempest volume tests on queens""\n\nThis reverts commit 3bc041b47da5f23c57f97c49a66349b81ccc0740.\n\nChange-Id: I02c8369c83a7342b4970fe474f8e190f5056d557\n'}, {'number': 3, 'created': '2019-05-28 14:31:43.000000000', 'files': ['puppet/services/cinder-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fbc592706fafa2ee566af04ee362303441cb662b', 'message': 'Revert ""Fix tempest volume tests on queens""\n\nThis reverts commit 3bc041b47da5f23c57f97c49a66349b81ccc0740.\n\nCloses-Bug: #1830351\n\nChange-Id: I02c8369c83a7342b4970fe474f8e190f5056d557\n'}]",0,661707,fbc592706fafa2ee566af04ee362303441cb662b,20,12,3,12393,,,0,"Revert ""Fix tempest volume tests on queens""

This reverts commit 3bc041b47da5f23c57f97c49a66349b81ccc0740.

Closes-Bug: #1830351

Change-Id: I02c8369c83a7342b4970fe474f8e190f5056d557
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/661707/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/cinder-api.yaml'],1,c65d83372595969bf35dc87b65b81926f3ebf1ab,bug/1822080, cinder::keystone::auth::configure_endpoint: false cinder::keystone::auth::service_type: volumev3," # Create the ""volume"" service using the same catalog info as the # ""volumev3"" service (see LP#1822080). cinder::keystone::auth::service_type: volume cinder::keystone::auth::public_url: {get_param: [EndpointMap, CinderV3Public, uri]} cinder::keystone::auth::internal_url: {get_param: [EndpointMap, CinderV3Internal, uri]} cinder::keystone::auth::admin_url: {get_param: [EndpointMap, CinderV3Admin, uri]}",2,6
openstack%2Fdevstack~master~Icfc175c49a1fc650d1c9ad06b77209a70c6386db,openstack/devstack,master,Icfc175c49a1fc650d1c9ad06b77209a70c6386db,Run nova-consoleauth only if cells v1 is enabled,ABANDONED,2018-10-01 23:54:20.000000000,2019-06-06 17:58:12.000000000,,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 28950}]","[{'number': 1, 'created': '2018-10-01 23:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7bd41fdc2f32ea68e3a49d8eaf4480a42f88b785', 'message': 'WIP Run nova-consoleauth only if cells v1 is enabled\n\nDepends-On: https://review.openstack.org/607068\n\nChange-Id: Icfc175c49a1fc650d1c9ad06b77209a70c6386db\n'}, {'number': 2, 'created': '2018-10-15 17:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/79cafb27fb7743e676d979d35ce6643382e22021', 'message': 'Run nova-consoleauth only if cells v1 is enabled\n\nThe nova-consoleauth service has been deprecated and its usage in\nnon-cells v1 code is being removed in Stein. This makes it so we\nonly run the nova-consoleauth service if cells v1 is enabled. It\nprovides verification that consoles work with nova even without the\nnova-consoleauth service running.\n\nDepends-On: https://review.openstack.org/607068\n\nChange-Id: Icfc175c49a1fc650d1c9ad06b77209a70c6386db\n'}, {'number': 3, 'created': '2018-12-13 21:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9900854fb750880a7ac3e85487775816c3a706f4', 'message': 'Run nova-consoleauth only if cells v1 is enabled\n\nThe nova-consoleauth service has been deprecated and its usage in\nnon-cells v1 code is being removed in Stein. This makes it so we\nonly run the nova-consoleauth service if cells v1 is enabled. It\nprovides verification that consoles work with nova even without the\nnova-consoleauth service running.\n\nDepends-On: https://review.openstack.org/607068\n\nChange-Id: Icfc175c49a1fc650d1c9ad06b77209a70c6386db\n'}, {'number': 4, 'created': '2018-12-13 21:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/db3f4bc762333f6a3944ccdef6983e3f3ab14f86', 'message': 'Run nova-consoleauth only if cells v1 is enabled\n\nThe nova-consoleauth service has been deprecated and its usage in\nnon-cells v1 code is being removed in Stein. This makes it so we\nonly run the nova-consoleauth service if cells v1 is enabled. It\nprovides verification that consoles work with nova even without the\nnova-consoleauth service running.\n\nChange-Id: Icfc175c49a1fc650d1c9ad06b77209a70c6386db\n'}, {'number': 5, 'created': '2019-04-03 16:59:31.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8deb8256ed6711004536489af7128058c51d2918', 'message': 'Run nova-consoleauth only if cells v1 is enabled\n\nThe nova-consoleauth service has been deprecated and its usage in\nnon-cells v1 code is being removed in Stein. This makes it so we\nonly run the nova-consoleauth service if cells v1 is enabled. It\nprovides verification that consoles work with nova even without the\nnova-consoleauth service running.\n\nChange-Id: Icfc175c49a1fc650d1c9ad06b77209a70c6386db\n'}]",5,607070,8deb8256ed6711004536489af7128058c51d2918,49,11,5,4690,,,0,"Run nova-consoleauth only if cells v1 is enabled

The nova-consoleauth service has been deprecated and its usage in
non-cells v1 code is being removed in Stein. This makes it so we
only run the nova-consoleauth service if cells v1 is enabled. It
provides verification that consoles work with nova even without the
nova-consoleauth service running.

Change-Id: Icfc175c49a1fc650d1c9ad06b77209a70c6386db
",git fetch https://review.opendev.org/openstack/devstack refs/changes/70/607070/4 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,7bd41fdc2f32ea68e3a49d8eaf4480a42f88b785,nova-consoleauth-cellsv1," if is_service_enabled n-cell; then run_process n-cauth ""$NOVA_BIN_DIR/nova-consoleauth --config-file $api_cell_conf"" fi"," run_process n-cauth ""$NOVA_BIN_DIR/nova-consoleauth --config-file $api_cell_conf""",3,1
openstack%2Freleases~master~Ibe94184ebdb3c6afc1144ca06b1baa628bd25b55,openstack/releases,master,Ibe94184ebdb3c6afc1144ca06b1baa628bd25b55,[glance] Create milestone-1 releases,ABANDONED,2019-06-06 13:07:45.000000000,2019-06-06 17:51:51.000000000,,"[{'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 13:07:45.000000000', 'files': ['deliverables/train/glance-store.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a7e5bf881e0b35ee37d037eae9d9be492686f132', 'message': '[glance] Create milestone-1 releases\n\nThis is a procedural review to create new releases for libraries following cycle-with-intermediary  model with code changes\n\nTeams should update this change as appropriate\n\nChange-Id: Ibe94184ebdb3c6afc1144ca06b1baa628bd25b55\n'}]",0,663637,a7e5bf881e0b35ee37d037eae9d9be492686f132,3,2,1,12898,,,0,"[glance] Create milestone-1 releases

This is a procedural review to create new releases for libraries following cycle-with-intermediary  model with code changes

Teams should update this change as appropriate

Change-Id: Ibe94184ebdb3c6afc1144ca06b1baa628bd25b55
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/663637/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/glance-store.yaml'],1,a7e5bf881e0b35ee37d037eae9d9be492686f132,wci-m1-releases,releases: - projects: - hash: 0c73abc6614898eb75663337c05e78fa9cd5b659 repo: openstack/glance_store version: 0.29.0,,5,0
openstack%2Fnetworking-bagpipe~master~Ibf46b4bbda9b44586d236752a2bad09820dd3761,openstack/networking-bagpipe,master,Ibf46b4bbda9b44586d236752a2bad09820dd3761,Update lower-constraints to valid with recent changes in Neutron,MERGED,2019-05-31 08:50:23.000000000,2019-06-06 17:40:57.000000000,2019-06-06 17:40:57.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 08:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/c25c975948855cd159be3cecec77ea6b01fc9a78', 'message': 'Update lower-constraints to valid with recent changes in Neutron\n\nBecause of recent changes in Neutron, like remove of_interface config\noption or tranition from ryu to os-ken project, it is needed to\nbump minumum required versions of projects like neutron for\nnetworking-bagpipe.\n\nThis commit updates also versions of other libs to be the same as are\nconfigured in neutron.\n\nChange-Id: Ibf46b4bbda9b44586d236752a2bad09820dd3761\n'}, {'number': 2, 'created': '2019-05-31 09:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/7512bd91cae78fc045ca1fc08d54be4af13e7dfe', 'message': 'Update lower-constraints to valid with recent changes in Neutron\n\nBecause of recent changes in Neutron, like remove of_interface config\noption or tranition from ryu to os-ken project, it is needed to\nbump minumum required versions of projects like neutron for\nnetworking-bagpipe.\n\nThis commit updates also versions of other libs to be the same as are\nconfigured in neutron.\n\nChange-Id: Ibf46b4bbda9b44586d236752a2bad09820dd3761\n'}, {'number': 3, 'created': '2019-05-31 09:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/4673fa0ec1ed3b11d495a558e16e566765a5daa6', 'message': 'Update lower-constraints to valid with recent changes in Neutron\n\nBecause of recent changes in Neutron, like remove of_interface config\noption or tranition from ryu to os-ken project, it is needed to\nbump minumum required versions of projects like neutron for\nnetworking-bagpipe.\n\nThis commit updates also versions of other libs to be the same as are\nconfigured in neutron.\n\nChange-Id: Ibf46b4bbda9b44586d236752a2bad09820dd3761\n'}, {'number': 4, 'created': '2019-05-31 09:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/c8c1477ca9026e8096241b8dae288b19df1bc3cf', 'message': 'Update lower-constraints to valid with recent changes in Neutron\n\nBecause of recent changes in Neutron, like remove of_interface config\noption or tranition from ryu to os-ken project, it is needed to\nbump minumum required versions of projects like neutron for\nnetworking-bagpipe.\n\nThis commit updates also versions of other libs to be the same as are\nconfigured in neutron.\n\nThis commit updates also sphinx requirements to be the same as for\nother OpenStack projects.\n\nChange-Id: Ibf46b4bbda9b44586d236752a2bad09820dd3761\n'}, {'number': 5, 'created': '2019-05-31 09:59:52.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/16151fcee4b5d79fd9937391dd9636fa160218c3', 'message': 'Update lower-constraints to valid with recent changes in Neutron\n\nBecause of recent changes in Neutron, like remove of_interface config\noption or tranition from ryu to os-ken project, it is needed to\nbump minumum required versions of projects like neutron for\nnetworking-bagpipe.\n\nThis commit updates also versions of other libs to be the same as are\nconfigured in neutron.\n\nThis commit updates also sphinx requirements to be the same as for\nother OpenStack projects.\n\nChange-Id: Ibf46b4bbda9b44586d236752a2bad09820dd3761\n'}]",0,662408,16151fcee4b5d79fd9937391dd9636fa160218c3,17,6,5,11975,,,0,"Update lower-constraints to valid with recent changes in Neutron

Because of recent changes in Neutron, like remove of_interface config
option or tranition from ryu to os-ken project, it is needed to
bump minumum required versions of projects like neutron for
networking-bagpipe.

This commit updates also versions of other libs to be the same as are
configured in neutron.

This commit updates also sphinx requirements to be the same as for
other OpenStack projects.

Change-Id: Ibf46b4bbda9b44586d236752a2bad09820dd3761
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/08/662408/4 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,c25c975948855cd159be3cecec77ea6b01fc9a78,bug/1831127,appdirs==1.4.3 astroid==2.1.0flake8==2.6.2hacking==1.1.0networking-bgpvpn==10.0.0neutron==14.0.0 neutron-lib==1.26.0os-ken==0.3.0oslo.db==4.37.0oslo.privsep==1.32.0oslo.versionedobjects==1.35.1pbr==4.0.0 pecan==1.3.2pylint==2.2.0pyroute2==0.5.3WebOb==1.8.2,appdirs==1.3.0 astroid==1.3.8flake8==2.5.5hacking==0.12.0networking-bgpvpn==9.0.0neutron==13.0.2.0 neutron-lib==1.18.0oslo.db==4.27.0oslo.privsep==1.23.0oslo.versionedobjects==1.31.2pbr==2.0.0 pecan==1.1.1pylint==1.4.5pyroute2==0.4.21ryu==4.24WebOb==1.7.1,16,16
openstack%2Fproject-config~master~I6e04717a22cd459f7a3324662e8e4136d9a1eeb3,openstack/project-config,master,I6e04717a22cd459f7a3324662e8e4136d9a1eeb3,Increase the size of ext4 journal on control plane images,MERGED,2019-06-06 17:06:07.000000000,2019-06-06 17:39:19.000000000,2019-06-06 17:39:19.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 17:06:07.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f19880c9fcb567c46206a282bf524f64106a8c88', 'message': ""Increase the size of ext4 journal on control plane images\n\nWe are building control plane images now but they didn't get the ext4\njournal size bump. We believe this size bump makes for happier disk ip\nso add it to this image as well.\n\nChange-Id: I6e04717a22cd459f7a3324662e8e4136d9a1eeb3\n""}]",0,663726,f19880c9fcb567c46206a282bf524f64106a8c88,7,3,1,4146,,,0,"Increase the size of ext4 journal on control plane images

We are building control plane images now but they didn't get the ext4
journal size bump. We believe this size bump makes for happier disk ip
so add it to this image as well.

Change-Id: I6e04717a22cd459f7a3324662e8e4136d9a1eeb3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/26/663726/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,f19880c9fcb567c46206a282bf524f64106a8c88,control-plane-journal, DIB_JOURNAL_SIZE: '512',,1,0
openstack%2Fneutron~stable%2Frocky~Ida6b7ae53f3fc76f54e389c5f7131b5a66f533ce,openstack/neutron,stable/rocky,Ida6b7ae53f3fc76f54e389c5f7131b5a66f533ce,[DVR] Block ARP to dvr router's port instead of subnet's gateway,MERGED,2019-06-04 23:15:26.000000000,2019-06-06 17:27:26.000000000,2019-06-06 17:27:26.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-04 23:15:26.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6af5ea2afcfe295159715edc43735ca8c5e3fe12', 'message': ""[DVR] Block ARP to dvr router's port instead of subnet's gateway\n\nIt may happen that subnet is connected to dvr router using IP address\ndifferent than subnet's gateway_ip.\nSo in br-tun arp to dvr router's port should be dropped instead of\ndropping arp to subnet's gateway_ip (or mac in case of IPv6).\n\nConflicts:\n        neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py\n\nChange-Id: Ida6b7ae53f3fc76f54e389c5f7131b5a66f533ce\nCloses-bug: #1831575\n(cherry picked from commit ae3aa28f5a4749b4e4cb3f0ae0d009c0734db405)\n""}]",0,663159,6af5ea2afcfe295159715edc43735ca8c5e3fe12,15,5,1,7016,,,0,"[DVR] Block ARP to dvr router's port instead of subnet's gateway

It may happen that subnet is connected to dvr router using IP address
different than subnet's gateway_ip.
So in br-tun arp to dvr router's port should be dropped instead of
dropping arp to subnet's gateway_ip (or mac in case of IPv6).

Conflicts:
        neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py

Change-Id: Ida6b7ae53f3fc76f54e389c5f7131b5a66f533ce
Closes-bug: #1831575
(cherry picked from commit ae3aa28f5a4749b4e4cb3f0ae0d009c0734db405)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/663159/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,6af5ea2afcfe295159715edc43735ca8c5e3fe12,bug/1831575," gateway_ip): gateway_mac=port.vif_mac), gateway_ip = '1.1.1.10' self._port.vif_mac = 'aa:bb:cc:11:22:33' gateway_mac = 'aa:bb:cc:66:66:66' gateway_ip=self._fixed_ips[0]['ip_address']) gateway_ip=gateway_ip) gateway_ip=gateway_ip) gateway_ip=gateway_ip)"," gateway_ip, gateway_mac): gateway_mac=gateway_mac), gateway_ip = '1.1.1.1' self._port.vif_mac = gateway_mac = 'aa:bb:cc:11:22:33' gateway_ip=gateway_ip, gateway_mac=gateway_mac) gateway_ip=gateway_ip, gateway_mac=gateway_mac) gateway_ip=gateway_ip, gateway_mac=gateway_mac) gateway_ip=gateway_ip, gateway_mac=gateway_mac)",12,16
openstack%2Fnova~master~Idf0ed84bae0bedbb70b5a65ee804ec1f2f4a27ee,openstack/nova,master,Idf0ed84bae0bedbb70b5a65ee804ec1f2f4a27ee,[DNM] use iptables in nova-multinode,ABANDONED,2019-05-22 16:47:20.000000000,2019-06-06 17:24:53.000000000,,"[{'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-22 16:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/779f1bc3f9c844da23b47a1ffd957ad3ce44edce', 'message': '[DNM] use iptables in nova-multinode\n\nThis patch is jsut for testing to see if we can repoduce the\nissue we are seeing downstrem upstream.\n\nmy current working theroy is because we are using iptables\nin the downstream ci which enable the hybrid plug workflow it\nchange the timeing of when the network events are sent.\n\nin a non hybrid plug case the network events are sent after the\nvm is resumed and libvirt plugs the interface back into ovs\nin the hybrid plug case as we have not called unplug on the souce\nnode the veth pair and intermeidate linux bridge still exist when\nwe activate the souce binding so the event woudl be sent imedetly before\nwe start waithgin for it. this is what we belive is the souce of the\nbug and this shoudl hopefully repoduce it.\n\nChange-Id: Idf0ed84bae0bedbb70b5a65ee804ec1f2f4a27ee\n'}, {'number': 2, 'created': '2019-05-27 21:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0470a6309cff774ce617edc44a96cf094bf5c6c1', 'message': '[DNM] use iptables in nova-multinode\n\nThis patch is jsut for testing to see if we can repoduce the\nissue we are seeing downstrem upstream.\n\nmy current working theroy is because we are using iptables\nin the downstream ci which enable the hybrid plug workflow it\nchange the timeing of when the network events are sent.\n\nin a non hybrid plug case the network events are sent after the\nvm is resumed and libvirt plugs the interface back into ovs\nin the hybrid plug case as we have not called unplug on the souce\nnode the veth pair and intermeidate linux bridge still exist when\nwe activate the souce binding so the event woudl be sent imedetly before\nwe start waithgin for it. this is what we belive is the souce of the\nbug and this shoudl hopefully repoduce it.\n\nChange-Id: Idf0ed84bae0bedbb70b5a65ee804ec1f2f4a27ee\n'}, {'number': 3, 'created': '2019-05-28 02:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c73921fb5f8298ddb04d5778e8a4fa6386d28d5c', 'message': '[DNM] use iptables in nova-multinode\n\nThis patch is jsut for testing to see if we can repoduce the\nissue we are seeing downstrem upstream.\n\nmy current working theroy is because we are using iptables\nin the downstream ci which enable the hybrid plug workflow it\nchange the timeing of when the network events are sent.\n\nin a non hybrid plug case the network events are sent after the\nvm is resumed and libvirt plugs the interface back into ovs\nin the hybrid plug case as we have not called unplug on the souce\nnode the veth pair and intermeidate linux bridge still exist when\nwe activate the souce binding so the event woudl be sent imedetly before\nwe start waithgin for it. this is what we belive is the souce of the\nbug and this shoudl hopefully repoduce it.\n\nChange-Id: Idf0ed84bae0bedbb70b5a65ee804ec1f2f4a27ee\n'}, {'number': 4, 'created': '2019-05-28 20:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/321799a8f7a6f4a712035bb3ad4e6343be769324', 'message': '[DNM] use iptables in nova-multinode\n\nThis patch is jsut for testing to see if we can repoduce the\nissue we are seeing downstrem upstream.\n\nmy current working theroy is because we are using iptables\nin the downstream ci which enable the hybrid plug workflow it\nchange the timeing of when the network events are sent.\n\nin a non hybrid plug case the network events are sent after the\nvm is resumed and libvirt plugs the interface back into ovs\nin the hybrid plug case as we have not called unplug on the souce\nnode the veth pair and intermeidate linux bridge still exist when\nwe activate the souce binding so the event woudl be sent imedetly before\nwe start waithgin for it. this is what we belive is the souce of the\nbug and this shoudl hopefully repoduce it.\n\nChange-Id: Idf0ed84bae0bedbb70b5a65ee804ec1f2f4a27ee\n'}, {'number': 5, 'created': '2019-05-29 18:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4919497bece03f329a35b7b822a5273ff6dc13d', 'message': '[DNM] use iptables in nova-multinode\n\nThis patch is jsut for testing to see if we can repoduce the\nissue we are seeing downstrem upstream.\n\nmy current working theroy is because we are using iptables\nin the downstream ci which enable the hybrid plug workflow it\nchange the timeing of when the network events are sent.\n\nin a non hybrid plug case the network events are sent after the\nvm is resumed and libvirt plugs the interface back into ovs\nin the hybrid plug case as we have not called unplug on the souce\nnode the veth pair and intermeidate linux bridge still exist when\nwe activate the souce binding so the event woudl be sent imedetly before\nwe start waithgin for it. this is what we belive is the souce of the\nbug and this shoudl hopefully repoduce it.\n\nChange-Id: Idf0ed84bae0bedbb70b5a65ee804ec1f2f4a27ee\n'}, {'number': 6, 'created': '2019-06-05 23:26:10.000000000', 'files': ['playbooks/legacy/nova-multinode/run.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/08b84c3a2edf603920017ad00b971714bb4c363a', 'message': '[DNM] use iptables in nova-multinode\n\nThis patch is jsut for testing to see if we can repoduce the\nissue we are seeing downstrem upstream.\n\nmy current working theroy is because we are using iptables\nin the downstream ci which enable the hybrid plug workflow it\nchange the timeing of when the network events are sent.\n\nin a non hybrid plug case the network events are sent after the\nvm is resumed and libvirt plugs the interface back into ovs\nin the hybrid plug case as we have not called unplug on the souce\nnode the veth pair and intermeidate linux bridge still exist when\nwe activate the souce binding so the event woudl be sent imedetly before\nwe start waithgin for it. this is what we belive is the souce of the\nbug and this shoudl hopefully repoduce it.\n\nChange-Id: Idf0ed84bae0bedbb70b5a65ee804ec1f2f4a27ee\n'}]",0,660782,08b84c3a2edf603920017ad00b971714bb4c363a,61,14,6,11604,,,0,"[DNM] use iptables in nova-multinode

This patch is jsut for testing to see if we can repoduce the
issue we are seeing downstrem upstream.

my current working theroy is because we are using iptables
in the downstream ci which enable the hybrid plug workflow it
change the timeing of when the network events are sent.

in a non hybrid plug case the network events are sent after the
vm is resumed and libvirt plugs the interface back into ovs
in the hybrid plug case as we have not called unplug on the souce
node the veth pair and intermeidate linux bridge still exist when
we activate the souce binding so the event woudl be sent imedetly before
we start waithgin for it. this is what we belive is the souce of the
bug and this shoudl hopefully repoduce it.

Change-Id: Idf0ed84bae0bedbb70b5a65ee804ec1f2f4a27ee
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/660782/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/nova-multinode/run.yaml'],1,779f1bc3f9c844da23b47a1ffd957ad3ce44edce,bug/1813789," - name: iptables firewall shell: # note that this is not recommended and even for config dirve # above we should not be doing this but it works and this patch # is just for testing. cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" # force the use of ip table firewall to confim theory of why # bug 1813789 is a thing. clip note we think this only happens # when hybrid_plug is used e.g. when using iptables [[post-config|/etc/neutron/plugins/ml2/ml2_conf.ini]] [securitygroup] firewall_driver = iptables_hybrid EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",,21,0
openstack%2Fnova~master~I980177410c16ecbd809856440ac633453fa20ea8,openstack/nova,master,I980177410c16ecbd809856440ac633453fa20ea8,Run revert resize tests in nova-live-migration,ABANDONED,2019-04-17 17:40:25.000000000,2019-06-06 17:21:22.000000000,,"[{'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-17 17:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/380f22ec9262f6c0d16ada0e6a04b31b9380b57e', 'message': 'DNM: Run test_resize_server_revert in the live migration job\n\nTesting for bug 1813789, need resize tests on multinode.\n\nChange-Id: I980177410c16ecbd809856440ac633453fa20ea8\n'}, {'number': 2, 'created': '2019-04-23 17:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b676c65c56fab16b0e73f7398e9425e4c9f9266a', 'message': 'Run revert resize tests in nova-live-migration\n\nIn order to test multinode resize revert (which is currently only\ntested in the single node tempest-full-py3 job), this patch renames\nthe nova-live-migration job to nova-multinode and makes it run revert\nresize test via a Tempest RC file. The existing live migration and\nevacuate tests are left as post-test hook scripts because they do\nthings like change Tempest settings, start Glance, and force down\ncompute nodes.\n\nChange-Id: I980177410c16ecbd809856440ac633453fa20ea8\n'}, {'number': 3, 'created': '2019-04-24 10:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1167fd2f39bbae56642d7af1b910fe94bf76f848', 'message': 'Run revert resize tests in nova-live-migration\n\nIn order to test multinode resize revert (which is currently only\ntested in the single node tempest-full-py3 job), this patch renames\nthe nova-live-migration job to nova-multinode and makes it run revert\nresize test via a Tempest RC file. The existing live migration and\nevacuate tests are left as post-test hook scripts because they do\nthings like change Tempest settings, start Glance, and force down\ncompute nodes.\n\nChange-Id: I980177410c16ecbd809856440ac633453fa20ea8\n'}, {'number': 4, 'created': '2019-04-24 10:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44acb29a211cbf18ef0dea361fdb21c4b244b162', 'message': 'Run revert resize tests in nova-live-migration\n\nIn order to test multinode resize revert (which is currently only\ntested in the single node tempest-full-py3 job), this patch renames\nthe nova-live-migration job to nova-multinode and makes it run revert\nresize test via a Tempest RC file. The existing live migration and\nevacuate tests are left as post-test hook scripts because they do\nthings like change Tempest settings, start Glance, and force down\ncompute nodes.\n\nChange-Id: I980177410c16ecbd809856440ac633453fa20ea8\n'}, {'number': 5, 'created': '2019-04-24 17:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/261a0812da3117f6f4533b9dd356c67e7de448e6', 'message': 'Run revert resize tests in nova-live-migration\n\nIn order to test multinode resize revert (which is currently only\ntested in the single node tempest-full-py3 job), this patch renames\nthe nova-live-migration job to nova-multinode and makes it run revert\nresize test via a Tempest RC file. The existing live migration and\nevacuate tests are left as post-test hook scripts because they do\nthings like change Tempest settings, start Glance, and force down\ncompute nodes.\n\nChange-Id: I980177410c16ecbd809856440ac633453fa20ea8\n'}, {'number': 6, 'created': '2019-04-25 17:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9e32974d7a1b6c7d8c219387d06f7983726780a', 'message': 'Run revert resize tests in nova-live-migration\n\nIn order to test multinode resize revert (which is currently only\ntested in the single node tempest-full-py3 job), this patch renames\nthe nova-live-migration job to nova-multinode and makes it run revert\nresize test via a Tempest RC file. The existing live migration and\nevacuate tests are left as post-test hook scripts because they do\nthings like change Tempest settings, start Glance, and force down\ncompute nodes.\n\nChange-Id: I980177410c16ecbd809856440ac633453fa20ea8\n'}, {'number': 7, 'created': '2019-04-26 20:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/663da127b49f62a47f4b483b28d14ff0ffe4c9e4', 'message': 'Run revert resize tests in nova-live-migration\n\nIn order to test multinode resize revert (which is currently only\ntested in the single node tempest-full-py3 job), this patch renames\nthe nova-live-migration job to nova-multinode and makes it run revert\nresize test via a Tempest RC file. The existing live migration and\nevacuate tests are left as post-test hook scripts because they do\nthings like change Tempest settings, start Glance, and force down\ncompute nodes.\n\nChange-Id: I980177410c16ecbd809856440ac633453fa20ea8\n'}, {'number': 8, 'created': '2019-04-29 13:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/002e1242b8a716d14365df801312f7d6d4c910ba', 'message': 'Run revert resize tests in nova-live-migration\n\nIn order to test multinode resize revert (which is currently only\ntested in the single node tempest-full-py3 job), this patch renames\nthe nova-live-migration job to nova-multinode and makes it run revert\nresize test via a Tempest RC file. The existing live migration and\nevacuate tests are left as post-test hook scripts because they do\nthings like change Tempest settings, start Glance, and force down\ncompute nodes.\n\nChange-Id: I980177410c16ecbd809856440ac633453fa20ea8\n'}, {'number': 9, 'created': '2019-05-22 16:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9f44dad90f38daae12588f95ab0933e74d9b9ed', 'message': 'Run revert resize tests in nova-live-migration\n\nIn order to test multinode resize revert (which is currently only\ntested in the single node tempest-full-py3 job), this patch renames\nthe nova-live-migration job to nova-multinode and makes it run revert\nresize test via a Tempest RC file. The existing live migration and\nevacuate tests are left as post-test hook scripts because they do\nthings like change Tempest settings, start Glance, and force down\ncompute nodes.\n\nChange-Id: I980177410c16ecbd809856440ac633453fa20ea8\n'}, {'number': 10, 'created': '2019-05-27 21:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fed734af3f95df19f5e709be75d374ce2d9a6632', 'message': 'Run revert resize tests in nova-live-migration\n\nIn order to test multinode resize revert (which is currently only\ntested in the single node tempest-full-py3 job), this patch renames\nthe nova-live-migration job to nova-multinode and makes it run revert\nresize test via a Tempest RC file. The existing live migration and\nevacuate tests are left as post-test hook scripts because they do\nthings like change Tempest settings, start Glance, and force down\ncompute nodes.\n\nChange-Id: I980177410c16ecbd809856440ac633453fa20ea8\n'}, {'number': 11, 'created': '2019-05-28 02:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4923c47e398e426c7c99a0cf3be04e3376890d0a', 'message': 'Run revert resize tests in nova-live-migration\n\nIn order to test multinode resize revert (which is currently only\ntested in the single node tempest-full-py3 job), this patch renames\nthe nova-live-migration job to nova-multinode and makes it run revert\nresize test via a Tempest RC file. The existing live migration and\nevacuate tests are left as post-test hook scripts because they do\nthings like change Tempest settings, start Glance, and force down\ncompute nodes.\n\nChange-Id: I980177410c16ecbd809856440ac633453fa20ea8\n'}, {'number': 12, 'created': '2019-05-28 20:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61d6a891cc2ae57785ce0f2a6fe4bcdcf33b5bd7', 'message': 'Run revert resize tests in nova-live-migration\n\nIn order to test multinode resize revert (which is currently only\ntested in the single node tempest-full-py3 job), this patch renames\nthe nova-live-migration job to nova-multinode and makes it run revert\nresize test via a Tempest RC file. The existing live migration and\nevacuate tests are left as post-test hook scripts because they do\nthings like change Tempest settings, start Glance, and force down\ncompute nodes.\n\nChange-Id: I980177410c16ecbd809856440ac633453fa20ea8\n'}, {'number': 13, 'created': '2019-05-29 18:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/753ac918b6fcdc6d7c53d56d920c57e8df1934da', 'message': 'Run revert resize tests in nova-live-migration\n\nIn order to test multinode resize revert (which is currently only\ntested in the single node tempest-full-py3 job), this patch renames\nthe nova-live-migration job to nova-multinode and makes it run revert\nresize test via a Tempest RC file. The existing live migration and\nevacuate tests are left as post-test hook scripts because they do\nthings like change Tempest settings, start Glance, and force down\ncompute nodes.\n\nChange-Id: I980177410c16ecbd809856440ac633453fa20ea8\n'}, {'number': 14, 'created': '2019-06-05 23:26:10.000000000', 'files': ['devstack/tempest-dsvm-multinode-rc', '.zuul.yaml', 'playbooks/legacy/nova-multinode/post.yaml', 'playbooks/legacy/nova-multinode/run.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/4fa12e9e41d2a19d807286cbffd1fe664b1b9277', 'message': 'Run revert resize tests in nova-live-migration\n\nIn order to test multinode resize revert (which is currently only\ntested in the single node tempest-full-py3 job), this patch renames\nthe nova-live-migration job to nova-multinode and makes it run revert\nresize test via a Tempest RC file. The existing live migration and\nevacuate tests are left as post-test hook scripts because they do\nthings like change Tempest settings, start Glance, and force down\ncompute nodes.\n\nChange-Id: I980177410c16ecbd809856440ac633453fa20ea8\n'}]",7,653498,4fa12e9e41d2a19d807286cbffd1fe664b1b9277,177,16,14,8864,,,0,"Run revert resize tests in nova-live-migration

In order to test multinode resize revert (which is currently only
tested in the single node tempest-full-py3 job), this patch renames
the nova-live-migration job to nova-multinode and makes it run revert
resize test via a Tempest RC file. The existing live migration and
evacuate tests are left as post-test hook scripts because they do
things like change Tempest settings, start Glance, and force down
compute nodes.

Change-Id: I980177410c16ecbd809856440ac633453fa20ea8
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/653498/12 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/live_migration/hooks/run_tests.sh'],1,380f22ec9262f6c0d16ada0e6a04b31b9380b57e,bug/1813789,"echo '4. Run test_resize_server_revert' run_tempest ""test_resize_server_revert"" ""test_resize_server_revert"" ",,3,0
openstack%2Frenderspec~master~Iac7dda35b44edf4a7af31129d9055280aa37df01,openstack/renderspec,master,Iac7dda35b44edf4a7af31129d9055280aa37df01,Fix _pymod2pkg_translate when skip_pyversion is None,MERGED,2019-06-06 09:50:09.000000000,2019-06-06 17:18:10.000000000,2019-06-06 17:18:10.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 09:50:09.000000000', 'files': ['renderspec/contextfuncs.py'], 'web_link': 'https://opendev.org/openstack/renderspec/commit/10dba1749532330048bad511b2a982a85986915e', 'message': ""Fix _pymod2pkg_translate when skip_pyversion is None\n\n[1] ensured proper order for py_vers when using pymod2pkg, however\nit did not consider the chance that skip_pyversion is None. In this\ncase, it failed with:\n\nTypeError: argument of type 'NoneType' is not iterable\n\nThis patch ensures that it works even when skip_pyversion is None.\n\n[1] - https://review.opendev.org/662719\n\nChange-Id: Iac7dda35b44edf4a7af31129d9055280aa37df01\n""}]",0,663570,10dba1749532330048bad511b2a982a85986915e,7,4,1,13294,,,0,"Fix _pymod2pkg_translate when skip_pyversion is None

[1] ensured proper order for py_vers when using pymod2pkg, however
it did not consider the chance that skip_pyversion is None. In this
case, it failed with:

TypeError: argument of type 'NoneType' is not iterable

This patch ensures that it works even when skip_pyversion is None.

[1] - https://review.opendev.org/662719

Change-Id: Iac7dda35b44edf4a7af31129d9055280aa37df01
",git fetch https://review.opendev.org/openstack/renderspec refs/changes/70/663570/1 && git format-patch -1 --stdout FETCH_HEAD,['renderspec/contextfuncs.py'],1,10dba1749532330048bad511b2a982a85986915e,," kwargs['py_vers'] = [i for i in py_versions if i not in set((context['skip_pyversion'],))]", kwargs['py_vers'] = [ i for i in py_versions if i not in context['skip_pyversion'] ],2,3
openstack%2Fopenstack-helm-infra~master~I5d3c1fbc8f983688807b73867773bfa2d83b91b3,openstack/openstack-helm-infra,master,I5d3c1fbc8f983688807b73867773bfa2d83b91b3,Ceph-mon: Fix security context for pod/container,MERGED,2019-05-28 18:58:38.000000000,2019-06-06 17:12:22.000000000,2019-06-06 17:12:22.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 9079}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29132}, {'_account_id': 29161}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-05-28 18:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f82bdf9aa5bef5e723b015b3a3d867aa8c26ed6e', 'message': 'Ceph-mon: Fix security context for pod/container\n\nThis changes the  user from root to the nobody user instead\nin ceph-mon chart whereever needed\n\nChange-Id: I5d3c1fbc8f983688807b73867773bfa2d83b91b3\n'}, {'number': 2, 'created': '2019-05-29 15:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7226715c91f921386572737b161417fd8395e696', 'message': 'Ceph-mon: Fix security context for pod/container\n\nThis changes the  user from root to the nobody user instead\nin ceph-mon chart wherever needed\n\nChange-Id: I5d3c1fbc8f983688807b73867773bfa2d83b91b3\n'}, {'number': 3, 'created': '2019-06-06 12:32:01.000000000', 'files': ['ceph-mon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d3dec3d2572c9a339432baa2bdc75c1c9d431582', 'message': 'Ceph-mon: Fix security context for pod/container\n\nThis changes the  user from root to the nobody user instead\nin ceph-mon chart wherever needed\n\nChange-Id: I5d3c1fbc8f983688807b73867773bfa2d83b91b3\n'}]",2,661831,d3dec3d2572c9a339432baa2bdc75c1c9d431582,19,11,3,29161,,,0,"Ceph-mon: Fix security context for pod/container

This changes the  user from root to the nobody user instead
in ceph-mon chart wherever needed

Change-Id: I5d3c1fbc8f983688807b73867773bfa2d83b91b3
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/31/661831/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-mon/values.yaml'],1,f82bdf9aa5bef5e723b015b3a3d867aa8c26ed6e,ceph-mon, runAsUser: 65534 runAsUser: 0 runAsUser: 0 runAsUser: 0 runAsUser: 65534 allowPrivilegeEscalation: false runAsUser: 65534 allowPrivilegeEscalation: false runAsUser: 65534 allowPrivilegeEscalation: false, runAsUser: 0 runAsUser: 0 runAsUser: 0 runAsUser: 0,10,4
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Fstein~Ic889b94c07d1479da8f7004fce21786e9fb77826,openstack/openstack-ansible-os_gnocchi,stable/stein,Ic889b94c07d1479da8f7004fce21786e9fb77826,Fix ansible_python_interpreter for identity setup,MERGED,2019-06-05 15:24:17.000000000,2019-06-06 17:06:00.000000000,2019-06-06 17:06:00.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-05 15:24:17.000000000', 'files': ['tasks/gnocchi_identity_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/7c78bdcf7fdce01363369d5568718de3ffe51618', 'message': 'Fix ansible_python_interpreter for identity setup\n\nI04e853fb582d7b39708a2fb6ed854b4e458f06d9 fixed this for\ngnocchi_service_setup, but did not fix it in gnocchi_identity_setup.\n\nChange-Id: Ic889b94c07d1479da8f7004fce21786e9fb77826\n(cherry picked from commit e0f77278923ba6af8d0760656717d8d8dfabe81c)\n'}]",0,663358,7c78bdcf7fdce01363369d5568718de3ffe51618,9,3,1,17799,,,0,"Fix ansible_python_interpreter for identity setup

I04e853fb582d7b39708a2fb6ed854b4e458f06d9 fixed this for
gnocchi_service_setup, but did not fix it in gnocchi_identity_setup.

Change-Id: Ic889b94c07d1479da8f7004fce21786e9fb77826
(cherry picked from commit e0f77278923ba6af8d0760656717d8d8dfabe81c)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/58/663358/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/gnocchi_identity_setup.yml'],1,7c78bdcf7fdce01363369d5568718de3ffe51618,bp/python-build-simplification-stable/stein," ansible_python_interpreter: ""{{ gnocchi_service_setup_host_python_interpreter }}"""," ansible_python_interpreter: >- {{ (gnocchi_service_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable']) }}",1,2
openstack%2Ftripleo-heat-templates~master~Iec2ed5bd7ca3d9c1f601b6c3940de77ab80525b5,openstack/tripleo-heat-templates,master,Iec2ed5bd7ca3d9c1f601b6c3940de77ab80525b5,Add healthcheck to ironic_pxe_http,MERGED,2019-04-11 22:27:11.000000000,2019-06-06 16:53:48.000000000,2019-06-06 16:41:47.000000000,"[{'_account_id': 1926}, {'_account_id': 7144}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-11 22:27:11.000000000', 'files': ['deployment/ironic/ironic-pxe-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3623b96c6820846a3de3e911bfcfb6b548fb785d', 'message': 'Add healthcheck to ironic_pxe_http\n\nThis was missing from the undercloud\n\nChange-Id: Iec2ed5bd7ca3d9c1f601b6c3940de77ab80525b5\n'}]",0,651937,3623b96c6820846a3de3e911bfcfb6b548fb785d,14,5,1,1926,,,0,"Add healthcheck to ironic_pxe_http

This was missing from the undercloud

Change-Id: Iec2ed5bd7ca3d9c1f601b6c3940de77ab80525b5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/651937/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-pxe-container-puppet.yaml'],1,3623b96c6820846a3de3e911bfcfb6b548fb785d,, healthcheck: test: /openstack/healthcheck,,2,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9eefa5f145ab5b17a4d93e96f4aad35d3e069382,openstack/tripleo-heat-templates,stable/queens,I9eefa5f145ab5b17a4d93e96f4aad35d3e069382,Fix ssl.yaml generating GaneshaInternal in the endpoint map,MERGED,2019-06-05 20:06:01.000000000,2019-06-06 16:48:30.000000000,2019-06-06 16:48:30.000000000,"[{'_account_id': 6796}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-05 20:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e4b27e50e047fd13d4cca621c890e173211779e', 'message': 'Fix ssl.yaml generating GaneshaInternal in the endpoint map\n\nThe GaneshaInternal configured in the endpoint map is used by\nthe Ganesha service that front-ends CephFS with Manila. It cannot be\na hostname, it must be an IP Address always. See [1]\n\nCloses-Bug: #1824421\n[1] https://github.com/nfs-ganesha/nfs-ganesha/blob/af26bf4/src/config_samples/config.txt#L43\nChange-Id: I9eefa5f145ab5b17a4d93e96f4aad35d3e069382\n(cherry picked from commit 7910cf3b487ba52e99bacfec4ecc86b1eeac4d16)\n'}, {'number': 2, 'created': '2019-06-05 20:09:42.000000000', 'files': ['sample-env-generator/ssl.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/257315572855db45df5c3e01b7e8c6ada6124ee2', 'message': 'Fix ssl.yaml generating GaneshaInternal in the endpoint map\n\nThe GaneshaInternal configured in the endpoint map is used by\nthe Ganesha service that front-ends CephFS with Manila. It cannot be\na hostname, it must be an IP Address always. See [1]\n\nCloses-Bug: #1824421\n[1] https://github.com/nfs-ganesha/nfs-ganesha/blob/af26bf4/src/config_samples/config.txt#L43\nChange-Id: I9eefa5f145ab5b17a4d93e96f4aad35d3e069382\n(cherry picked from commit 7910cf3b487ba52e99bacfec4ecc86b1eeac4d16)\n(cherry picked from commit b74dad7a8544d9bfa23d1f105715906464eb32a0)\n(cherry picked from commit 6c92c5195e426308c7d2d153f7ac809c627712fd)\n'}]",0,663415,257315572855db45df5c3e01b7e8c6ada6124ee2,13,4,2,16643,,,0,"Fix ssl.yaml generating GaneshaInternal in the endpoint map

The GaneshaInternal configured in the endpoint map is used by
the Ganesha service that front-ends CephFS with Manila. It cannot be
a hostname, it must be an IP Address always. See [1]

Closes-Bug: #1824421
[1] https://github.com/nfs-ganesha/nfs-ganesha/blob/af26bf4/src/config_samples/config.txt#L43
Change-Id: I9eefa5f145ab5b17a4d93e96f4aad35d3e069382
(cherry picked from commit 7910cf3b487ba52e99bacfec4ecc86b1eeac4d16)
(cherry picked from commit b74dad7a8544d9bfa23d1f105715906464eb32a0)
(cherry picked from commit 6c92c5195e426308c7d2d153f7ac809c627712fd)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/663415/2 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/ssl.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml']",2,5e4b27e50e047fd13d4cca621c890e173211779e,bug/1824421-stable/stein-stable/queens," GaneshaInternal: {protocol: 'nfs', port: '2049', host: 'IP_ADDRESS'}"," GaneshaInternal: {protocol: 'nfs', port: '2049', host: 'CLOUDNAME'}",2,2
openstack%2Ftripleo-common~stable%2Frocky~Id5b0bb1874ea8ad327dd086cb1e48ff15d2974d7,openstack/tripleo-common,stable/rocky,Id5b0bb1874ea8ad327dd086cb1e48ff15d2974d7,Add the ability to compute osds number counting lvm devices,MERGED,2019-06-06 08:41:45.000000000,2019-06-06 16:48:29.000000000,2019-06-06 16:48:29.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-06 08:41:45.000000000', 'files': ['workbooks/derive_params_formulas.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c4c35df06afb62af2cb6132ae49d5710028ad47e', 'message': ""Add the ability to compute osds number counting lvm devices\n\nThe previous version of this workbook only expected to find\nthe devices in a single list; with the new version of ceph-ansible\nit's valid to pass the lvm_volumes, so we need to recompute the\ntotal amount of osds.\nThis commit add a step that allows to get both devices and lvm_volumes\nlists and calculate the len().\n\nCloses-Bug: #1831458\nChange-Id: Id5b0bb1874ea8ad327dd086cb1e48ff15d2974d7\n(cherry picked from commit 7c89493e07b21e667ee6b93c9e00ca2f52838fc0)\n""}]",0,663537,c4c35df06afb62af2cb6132ae49d5710028ad47e,10,5,1,25402,,,0,"Add the ability to compute osds number counting lvm devices

The previous version of this workbook only expected to find
the devices in a single list; with the new version of ceph-ansible
it's valid to pass the lvm_volumes, so we need to recompute the
total amount of osds.
This commit add a step that allows to get both devices and lvm_volumes
lists and calculate the len().

Closes-Bug: #1831458
Change-Id: Id5b0bb1874ea8ad327dd086cb1e48ff15d2974d7
(cherry picked from commit 7c89493e07b21e667ee6b93c9e00ca2f52838fc0)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/37/663537/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/derive_params_formulas.yaml'],1,c4c35df06afb62af2cb6132ae49d5710028ad47e,bz1714922," on-success: calc_osds calc_osds: publish: num_dev: <% $.heat_resource_tree.parameters.get('CephAnsibleDisksConfig', {}).get('default', {}).get('devices', []).count() %> num_lvm: <% $.heat_resource_tree.parameters.get('CephAnsibleDisksConfig', {}).get('default', {}).get('lvm_volumes', []).count() %> num_osds: <% int($.num_dev + $.num_lvm) %>"," num_osds: <% $.heat_resource_tree.parameters.get('CephAnsibleDisksConfig', {}).get('default', {}).get('devices', []).count() %>",7,1
openstack%2Ftripleo-common~stable%2Fstein~Id5b0bb1874ea8ad327dd086cb1e48ff15d2974d7,openstack/tripleo-common,stable/stein,Id5b0bb1874ea8ad327dd086cb1e48ff15d2974d7,Add the ability to compute osds number counting lvm devices,MERGED,2019-06-06 08:41:31.000000000,2019-06-06 16:48:28.000000000,2019-06-06 16:48:28.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-06 08:41:31.000000000', 'files': ['workbooks/derive_params_formulas.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/571422a10858cc5b1b34063c0e3b0128395e96c1', 'message': ""Add the ability to compute osds number counting lvm devices\n\nThe previous version of this workbook only expected to find\nthe devices in a single list; with the new version of ceph-ansible\nit's valid to pass the lvm_volumes, so we need to recompute the\ntotal amount of osds.\nThis commit add a step that allows to get both devices and lvm_volumes\nlists and calculate the len().\n\nCloses-Bug: #1831458\nChange-Id: Id5b0bb1874ea8ad327dd086cb1e48ff15d2974d7\n(cherry picked from commit 7c89493e07b21e667ee6b93c9e00ca2f52838fc0)\n""}]",0,663536,571422a10858cc5b1b34063c0e3b0128395e96c1,9,5,1,25402,,,0,"Add the ability to compute osds number counting lvm devices

The previous version of this workbook only expected to find
the devices in a single list; with the new version of ceph-ansible
it's valid to pass the lvm_volumes, so we need to recompute the
total amount of osds.
This commit add a step that allows to get both devices and lvm_volumes
lists and calculate the len().

Closes-Bug: #1831458
Change-Id: Id5b0bb1874ea8ad327dd086cb1e48ff15d2974d7
(cherry picked from commit 7c89493e07b21e667ee6b93c9e00ca2f52838fc0)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/36/663536/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/derive_params_formulas.yaml'],1,571422a10858cc5b1b34063c0e3b0128395e96c1,bz1714922," on-success: calc_osds calc_osds: publish: num_dev: <% $.heat_resource_tree.parameters.get('CephAnsibleDisksConfig', {}).get('default', {}).get('devices', []).count() %> num_lvm: <% $.heat_resource_tree.parameters.get('CephAnsibleDisksConfig', {}).get('default', {}).get('lvm_volumes', []).count() %> num_osds: <% int($.num_dev + $.num_lvm) %>"," num_osds: <% $.heat_resource_tree.parameters.get('CephAnsibleDisksConfig', {}).get('default', {}).get('devices', []).count() %>",7,1
openstack%2Fironic~master~Ieb395bf35e2689741a243c11b56d08a237b200bc,openstack/ironic,master,Ieb395bf35e2689741a243c11b56d08a237b200bc,Add a pxe/uefi/grub2 CI job,MERGED,2018-10-29 17:26:02.000000000,2019-06-06 16:43:33.000000000,2019-06-06 15:26:32.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 18320}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30105}, {'_account_id': 30413}]","[{'number': 1, 'created': '2018-10-29 17:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/54291dab2fc396b431e1f54e934c0e369d9d69a7', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 2, 'created': '2018-10-30 19:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/203e01538eecc88a6371915ddf15a31f797ed9e2', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 3, 'created': '2019-05-31 22:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b7fa4073fd452ed595ab1c4352aa5bfa9a712150', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 4, 'created': '2019-06-01 00:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f26641cd01228a8222ec325a3b6796fc0505b11f', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 5, 'created': '2019-06-01 14:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/097196b5d827763ec71607833b83b9bccbb24120', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 6, 'created': '2019-06-01 19:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ad4ae5cbe87eb9edc6b2e8f5286ea131f9235071', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 7, 'created': '2019-06-01 21:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0156a6936b7a29f6d483da31479bd58ec743b253', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 8, 'created': '2019-06-01 21:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d8bac4e832bafc13a6ff76c5a7c822c69359b873', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 9, 'created': '2019-06-01 22:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bab6aef7bcc2e433b281fd3f8d4f77430ecda48e', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 10, 'created': '2019-06-02 14:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5794ffcf94662bf1c5f06475651437100461d84f', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 11, 'created': '2019-06-02 15:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7750bd46ff8bf302b406f6aa52ecf3b253cecab3', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 12, 'created': '2019-06-03 13:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e9bb54d041b1c81cb37b851d4d665987462ac5fc', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 13, 'created': '2019-06-03 17:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/566e7ecd64cc8c76b7d5dc1b82523d51cd2ff9e7', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 14, 'created': '2019-06-03 19:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/626e8b6968f1df87da393bcc8568c22a875e22db', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 15, 'created': '2019-06-03 20:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/75f648acb58ab648be29b3440361b34a47d1533c', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 16, 'created': '2019-06-03 21:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c070d25ebe00c081a20c7dddef76b9e25d15c352', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 17, 'created': '2019-06-03 22:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7c1386ee0ff4d6849fad73f179232a07482b3b94', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 18, 'created': '2019-06-04 00:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/825cee976ed5e3a6fbaf611ed5c23dd174807aaa', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 19, 'created': '2019-06-04 01:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b894ffa131b65c172957f9805b1c910b1448835d', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 20, 'created': '2019-06-04 13:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e176b575aaaa2fb9072be9c349dbe29763cd9f81', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 21, 'created': '2019-06-04 14:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7c00de8b7a6e740fa66d13277aab97b6be55f26d', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 22, 'created': '2019-06-04 16:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f32ba57d1ee391dad64c51b5449100307e26c343', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 23, 'created': '2019-06-04 18:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e04f1b6c4386aadcb17a06de17fa942529e0ed39', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 24, 'created': '2019-06-04 19:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3d3c362976ab87f8adf8510aff6bd25fd562c5a5', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 25, 'created': '2019-06-04 21:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9301ad7a87c67dcfcac13447c35f39ed7556d6a9', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 26, 'created': '2019-06-04 22:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3982a536526b9e607a9633547379bbd72881f76d', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 27, 'created': '2019-06-04 23:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d29ee44ee36289df9580a4188afea6bc2629b28a', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 28, 'created': '2019-06-05 13:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3221cdc8718d9310fcf143f52f18975397476b85', 'message': ""Add a pxe/uefi/grub2 CI job\n\nAdds only to the check queue on purpose so we don't continue to bloat\nthe number of CI jobs running in the gate.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n""}, {'number': 29, 'created': '2019-06-05 13:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0cc34c8013db0af73e5c67f4b0f2d0f7962210ad', 'message': 'Add a pxe/uefi/grub2 CI job\n\nFixes the grub2 based devstack logic and adds a grub2 CI job\nsuch that the ironic team can safely clean-up some of the PXE\ncode without fear of breaking the grub2 scenario.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n'}, {'number': 30, 'created': '2019-06-05 21:21:20.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'bindep.txt', 'devstack/tools/ironic/templates/vm.xml', 'zuul.d/project.yaml', 'devstack/files/debs/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/55e8d3fde1132af32b413b1b38d3e16288ec4398', 'message': 'Add a pxe/uefi/grub2 CI job\n\nFixes the grub2 based devstack logic and adds a grub2 CI job\nsuch that the ironic team can safely clean-up some of the PXE\ncode without fear of breaking the grub2 scenario.\n\nStory: 2003936\nTask: 27724\nChange-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc\n'}]",21,613998,55e8d3fde1132af32b413b1b38d3e16288ec4398,93,12,30,11655,,,0,"Add a pxe/uefi/grub2 CI job

Fixes the grub2 based devstack logic and adds a grub2 CI job
such that the ironic team can safely clean-up some of the PXE
code without fear of breaking the grub2 scenario.

Story: 2003936
Task: 27724
Change-Id: Ieb395bf35e2689741a243c11b56d08a237b200bc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/98/613998/20 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml']",2,54291dab2fc396b431e1f54e934c0e369d9d69a7,613998, - ironic-tempest-dsvm-pxe-uefi-grub2,,13,0
openstack%2Fpython-tripleoclient~master~Ia86f6f71eddcd4aa8505601ba51b4723e05cf488,openstack/python-tripleoclient,master,Ia86f6f71eddcd4aa8505601ba51b4723e05cf488,Change source for upper constraints,MERGED,2019-06-05 17:08:44.000000000,2019-06-06 16:41:50.000000000,2019-06-06 16:41:49.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-06-05 17:08:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8a3dc5121c8f09cda8d42cc78741d2d90dc9fba5', 'message': 'Change source for upper constraints\n\npy27 is currently broken due to a Sphinx failure\nthat is resolved if you properly include the upper constraints.\n\nChange-Id: Ia86f6f71eddcd4aa8505601ba51b4723e05cf488\n'}]",0,663384,8a3dc5121c8f09cda8d42cc78741d2d90dc9fba5,7,3,1,3153,,,0,"Change source for upper constraints

py27 is currently broken due to a Sphinx failure
that is resolved if you properly include the upper constraints.

Change-Id: Ia86f6f71eddcd4aa8505601ba51b4723e05cf488
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/84/663384/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8a3dc5121c8f09cda8d42cc78741d2d90dc9fba5,tox/sphinx, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Ftripleo-heat-templates~master~I3dc6d618071190ef572503554f0bcfe54615345f,openstack/tripleo-heat-templates,master,I3dc6d618071190ef572503554f0bcfe54615345f,Add EndpointMap to the ironic post_deploy template,MERGED,2019-06-05 16:59:44.000000000,2019-06-06 16:41:45.000000000,2019-06-06 16:41:45.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-06-05 16:59:44.000000000', 'files': ['ci/common/ironic_standalone_post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe1bdee58fa4939d032ac391c176ea96b84c5ce7', 'message': 'Add EndpointMap to the ironic post_deploy template\n\nAs of Ifa9d55cca90caf5be0c83507cb47447e25311fce its required\n\nChange-Id: I3dc6d618071190ef572503554f0bcfe54615345f\n'}]",0,663381,fe1bdee58fa4939d032ac391c176ea96b84c5ce7,10,4,1,1926,,,0,"Add EndpointMap to the ironic post_deploy template

As of Ifa9d55cca90caf5be0c83507cb47447e25311fce its required

Change-Id: I3dc6d618071190ef572503554f0bcfe54615345f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/663381/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/common/ironic_standalone_post.yaml'],1,fe1bdee58fa4939d032ac391c176ea96b84c5ce7,, EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json,,5,0
openstack%2Fmanila-ui~master~Iaebf5772043c4fd97162154eda896dd26209f6d0,openstack/manila-ui,master,Iaebf5772043c4fd97162154eda896dd26209f6d0,Update sphinx dependency,MERGED,2019-06-04 02:52:54.000000000,2019-06-06 16:40:35.000000000,2019-06-06 16:40:34.000000000,"[{'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 26968}, {'_account_id': 27822}, {'_account_id': 30412}]","[{'number': 1, 'created': '2019-06-04 02:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/bdc39df3227bc61941f3613023cd3029087d679f', 'message': 'Update sphinx dependency\n\nSphinx 2.0 no longer works on python 2.7,\nso we need to start capping it there as well\ndepend on https://review.opendev.org/#/c/657890/\n\nChange-Id: Iaebf5772043c4fd97162154eda896dd26209f6d0\n'}, {'number': 2, 'created': '2019-06-06 01:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/6ab3c1e2eb20e94f3a4fdd4c4df31636cc9a5617', 'message': 'Update sphinx dependency\n\nSphinx 2.0 no longer works on python 2.7,\nso we need to start capping it there as well\ndepend on https://review.opendev.org/#/c/657890/\n\nChange-Id: Iaebf5772043c4fd97162154eda896dd26209f6d0\n'}, {'number': 3, 'created': '2019-06-06 01:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/4f7c4bd066343dd1d005f2ad9d78e959a97c02d3', 'message': 'Update sphinx dependency\n\nSphinx 2.0 no longer works on python 2.7,\nso we need to start capping it there as well\ndepend on https://review.opendev.org/#/c/657890/\n\nChange-Id: Iaebf5772043c4fd97162154eda896dd26209f6d0\n'}, {'number': 4, 'created': '2019-06-06 02:59:35.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/a9c6352ef981e899c21bf2a0010ca9c3126b9cd9', 'message': 'Update sphinx dependency\n\nSphinx 2.0 no longer works on python 2.7,\nso we need to start capping it there as well\ndepend on https://review.opendev.org/#/c/657890/\n\nChange-Id: Iaebf5772043c4fd97162154eda896dd26209f6d0\n'}]",1,662911,a9c6352ef981e899c21bf2a0010ca9c3126b9cd9,16,11,4,27822,,,0,"Update sphinx dependency

Sphinx 2.0 no longer works on python 2.7,
so we need to start capping it there as well
depend on https://review.opendev.org/#/c/657890/

Change-Id: Iaebf5772043c4fd97162154eda896dd26209f6d0
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/11/662911/4 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,bdc39df3227bc61941f3613023cd3029087d679f,openstack/requirements,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fmanila~master~Ibbc3a3f04ea6253139112944cf7e0f6c265d0f26,openstack/manila,master,Ibbc3a3f04ea6253139112944cf7e0f6c265d0f26,Update sphinx dependency,MERGED,2019-06-04 03:03:00.000000000,2019-06-06 16:39:00.000000000,2019-06-06 16:39:00.000000000,"[{'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 26968}, {'_account_id': 27615}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-06-04 03:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e867ad5f6459b28910013bca5c08dbe167b272c1', 'message': 'Update sphinx dependency\n\nSphinx 2.0 no longer works on python 2.7,\nso we need to start capping it there as well\ndepend on https://review.opendev.org/#/c/657890/\n\nChange-Id: Ibbc3a3f04ea6253139112944cf7e0f6c265d0f26\n'}, {'number': 2, 'created': '2019-06-06 01:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/95a888c99dd0a79042e5f6bce175d4383ff7c3c3', 'message': 'Update sphinx dependency\n\nSphinx 2.0 no longer works on python 2.7,\nso we need to start capping it there as well\ndepend on https://review.opendev.org/#/c/657890/\n\nChange-Id: Ibbc3a3f04ea6253139112944cf7e0f6c265d0f26\n'}, {'number': 3, 'created': '2019-06-06 01:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/889e90fea4381bec330694c1bc92894c97877178', 'message': 'Update sphinx dependency\n\nSphinx 2.0 no longer works on python 2.7,\nso we need to start capping it there as well\ndepend on https://review.opendev.org/#/c/657890/\n\nChange-Id: Ibbc3a3f04ea6253139112944cf7e0f6c265d0f26\n'}, {'number': 4, 'created': '2019-06-06 02:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/dbf14841e179e7fb8275f57fad291854e006bffe', 'message': 'Update sphinx dependency\n\nSphinx 2.0 no longer works on python 2.7,\nso we need to start capping it there as well\ndepend on https://review.opendev.org/#/c/657890/\n\nChange-Id: Ibbc3a3f04ea6253139112944cf7e0f6c265d0f26\n'}, {'number': 5, 'created': '2019-06-06 02:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/919a5143e6448be91c1e83e5d6eee75c0e6ae3cc', 'message': 'Update sphinx dependency\n\nSphinx 2.0 no longer works on python 2.7,\nso we need to start capping it there as well\ndepend on https://review.opendev.org/#/c/657890/\n\nChange-Id: Ibbc3a3f04ea6253139112944cf7e0f6c265d0f26\n'}, {'number': 6, 'created': '2019-06-06 02:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c3fb9f61264cfa06c15ad23f853ec217af27ef05', 'message': 'Update sphinx dependency\n\nSphinx 2.0 no longer works on python 2.7,\nso we need to start capping it there as well\ndepend on https://review.opendev.org/#/c/657890/\n\nChange-Id: Ibbc3a3f04ea6253139112944cf7e0f6c265d0f26\n'}, {'number': 7, 'created': '2019-06-06 03:00:33.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/manila/commit/c5dd767303433d42dda84ba35fc1bdff0894aa02', 'message': 'Update sphinx dependency\n\nSphinx 2.0 no longer works on python 2.7,\nso we need to start capping it there as well\ndepend on https://review.opendev.org/#/c/657890/\n\nChange-Id: Ibbc3a3f04ea6253139112944cf7e0f6c265d0f26\n'}]",1,662917,c5dd767303433d42dda84ba35fc1bdff0894aa02,36,18,7,27822,,,0,"Update sphinx dependency

Sphinx 2.0 no longer works on python 2.7,
so we need to start capping it there as well
depend on https://review.opendev.org/#/c/657890/

Change-Id: Ibbc3a3f04ea6253139112944cf7e0f6c265d0f26
",git fetch https://review.opendev.org/openstack/manila refs/changes/17/662917/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,e867ad5f6459b28910013bca5c08dbe167b272c1,openstack/requirements,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fglance_store~master~Icd760d30e947867c2b5b87f86bbe4b1a4240d214,openstack/glance_store,master,Icd760d30e947867c2b5b87f86bbe4b1a4240d214,Add location prefix url to store instance,MERGED,2019-05-21 10:14:42.000000000,2019-06-06 16:33:22.000000000,2019-06-06 16:33:21.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26233}]","[{'number': 1, 'created': '2019-05-21 10:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/397e3b2a4f540f5cd8ebc822ff8675e4a6291a0a', 'message': ""Add location prefix url to store instance\n\nFor updating location metadata with store information to the images\nwhich are existed prior to enabling multiple stores, added new\npublic attribute 'url_prefix' to each of the store instance.\n\nImplements: location-uri-prefix\n\nChange-Id: Icd760d30e947867c2b5b87f86bbe4b1a4240d214\n""}, {'number': 2, 'created': '2019-05-22 07:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/1c419ad482c48c99959025520c81f026923c5466', 'message': ""Add location prefix url to store instance\n\nFor updating location metadata with store information to the images\nwhich are existed prior to enabling multiple stores, added new\npublic attribute 'url_prefix' to each of the store instance.\n\nImplements: blueprint location-uri-prefix\n\nChange-Id: Icd760d30e947867c2b5b87f86bbe4b1a4240d214\n""}, {'number': 3, 'created': '2019-05-30 07:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/da96c2183b21901013c75b4f6aa4ad855723f13f', 'message': ""Add location prefix url to store instance\n\nFor updating location metadata with store information to the images\nwhich are existed prior to enabling multiple stores, added new\npublic attribute 'url_prefix' to each of the store instance.\n\nImplements: location-uri-prefix\n\nChange-Id: Icd760d30e947867c2b5b87f86bbe4b1a4240d214\n""}, {'number': 4, 'created': '2019-06-03 16:17:06.000000000', 'files': ['glance_store/tests/unit/test_multistore_sheepdog.py', 'glance_store/_drivers/vmware_datastore.py', 'glance_store/tests/unit/test_multistore_vmware.py', 'glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_multistore_filesystem.py', 'glance_store/_drivers/swift/store.py', 'glance_store/tests/unit/test_multistore_cinder.py', 'glance_store/tests/unit/test_swift_store_multibackend.py', 'glance_store/_drivers/sheepdog.py', 'glance_store/tests/unit/test_multistore_rbd.py', 'glance_store/_drivers/cinder.py', 'glance_store/driver.py', 'glance_store/_drivers/filesystem.py', 'glance_store/_drivers/http.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/d5dc27e7d389cd00ece53e62f2b1e643ea115fd3', 'message': ""Add location prefix url to store instance\n\nFor updating location metadata with store information to the images\nwhich are existed prior to enabling multiple stores, added new\npublic attribute 'url_prefix' to each of the store instance.\n\nImplements: blueprint location-uri-prefix\n\nChange-Id: Icd760d30e947867c2b5b87f86bbe4b1a4240d214\n""}]",1,660340,d5dc27e7d389cd00ece53e62f2b1e643ea115fd3,21,6,4,9303,,,0,"Add location prefix url to store instance

For updating location metadata with store information to the images
which are existed prior to enabling multiple stores, added new
public attribute 'url_prefix' to each of the store instance.

Implements: blueprint location-uri-prefix

Change-Id: Icd760d30e947867c2b5b87f86bbe4b1a4240d214
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/40/660340/4 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/tests/unit/test_multistore_sheepdog.py', 'glance_store/_drivers/vmware_datastore.py', 'glance_store/tests/unit/test_multistore_vmware.py', 'glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_multistore_filesystem.py', 'glance_store/_drivers/swift/store.py', 'glance_store/tests/unit/test_multistore_cinder.py', 'glance_store/tests/unit/test_swift_store_multibackend.py', 'glance_store/_drivers/sheepdog.py', 'glance_store/tests/unit/test_multistore_rbd.py', 'glance_store/_drivers/cinder.py', 'glance_store/driver.py', 'glance_store/_drivers/filesystem.py']",13,397e3b2a4f540f5cd8ebc822ff8675e4a6291a0a,specs/store-mapping," if self.backend_group: self._set_url_prefix() def _set_url_prefix(self): path = self._find_best_datadir(0) self._url_prefix = ""%s://%s"" % ('file', path) ",,149,12
openstack%2Fkolla-ansible~stable%2Fstein~I50b8239ab7270814ffc8be9affb3bd28ce1f855b,openstack/kolla-ansible,stable/stein,I50b8239ab7270814ffc8be9affb3bd28ce1f855b,Tiny fix of quickstart guide,MERGED,2019-05-23 10:02:31.000000000,2019-06-06 16:33:05.000000000,2019-06-06 16:33:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 25314}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-05-23 10:02:31.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5917e08240efa93b167290b60252d3ace49be954', 'message': 'Tiny fix of quickstart guide\n\nRemove some unexpected indents.\n\nChange-Id: I50b8239ab7270814ffc8be9affb3bd28ce1f855b\n(cherry picked from commit fffb6678f12999bc1f915905015420b27fd9dc22)\n'}]",0,660963,5917e08240efa93b167290b60252d3ace49be954,9,5,1,19779,,,0,"Tiny fix of quickstart guide

Remove some unexpected indents.

Change-Id: I50b8239ab7270814ffc8be9affb3bd28ce1f855b
(cherry picked from commit fffb6678f12999bc1f915905015420b27fd9dc22)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/660963/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,5917e08240efa93b167290b60252d3ace49be954,tiny-fix-stable/stein,.. path /etc/ansible/ansible.cfg .. code-block:: ini [defaults] host_key_checking=False pipelining=True forks=100, .. path /etc/ansible/ansible.cfg .. code-block:: ini [defaults] host_key_checking=False pipelining=True forks=100,6,6
openstack%2Fkolla-ansible~master~I10c82dc5f83653beb60ddb86d558c5602153341a,openstack/kolla-ansible,master,I10c82dc5f83653beb60ddb86d558c5602153341a,Fix keystone fernet key rotation scheduling,MERGED,2019-05-15 13:47:09.000000000,2019-06-06 16:33:03.000000000,2019-06-06 16:33:03.000000000,"[{'_account_id': 782}, {'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23942}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-05-15 13:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/49afb7e800b25fdc8e2bf24e775543e53eb7a132', 'message': ""Fix keystone fernet key rotation scheduling\n\nRight now every controller rotates fernet keys. This is nice because\nshould any controller die, we know the remaining ones will rotate the\nkeys. However, we are currently over-rotating the keys.\n\nWhen we over rotate keys, we get logs like this:\n\n This is not a recognized Fernet token <token> TokenNotFound\n\nMost clients can recover and get a new token, but some clients (like\nNova passing tokens to other services) can't do that because it doesn't\nhave the password to regenerate a new token.\n\nWith three controllers, in crontab in keystone-fernet we see the once a day\ncorrectly staggered across the three controllers:\n\nssh ctrl1 sudo cat /etc/kolla/keystone-fernet/crontab\n0 0 * * * /usr/bin/fernet-rotate.sh\nssh ctrl2 sudo cat /etc/kolla/keystone-fernet/crontab\n0 8 * * * /usr/bin/fernet-rotate.sh\nssh ctrl3 sudo cat /etc/kolla/keystone-fernet/crontab\n0 16 * * * /usr/bin/fernet-rotate.sh\n\nCurrently with three controllers we have this keystone config:\n\n[token]\nexpiration = 86400 (although, keystone default is one hour)\nallow_expired_window = 172800 (this is the keystone default)\n\n[fernet_tokens]\nmax_active_keys = 4\n\nCurrently, kolla-ansible configures key rotation according to the following:\n\n   rotation_interval = token_expiration / num_hosts\n\nThis means we rotate keys more quickly the more hosts we have, which doesn't\nmake much sense.\n\nKeystone docs state:\n\n   max_active_keys =\n     ((token_expiration + allow_expired_window) / rotation_interval) + 2\n\nFor details see:\nhttps://docs.openstack.org/keystone/stein/admin/fernet-token-faq.html\n\nRotation is based on pushing out a staging key, so should any server\nstart using that key, other servers will consider that valid. Then each\nserver in turn starts using the staging key, each in term demoting the\nexisting primary key to a secondary key. Eventually you prune the\nsecondary keys when there is no token in the wild that would need to be\ndecrypted using that key. So this all makes sense.\n\nThis change adds new variables for allow_expired_window and\nrotation_interval, so that we can correctly calculate the correct number\nof active keys. We now set the default rotation interval so as to\nminimise the number of active keys to 3 - one primary, one secondary,\none buffer.\n\nChange-Id: I10c82dc5f83653beb60ddb86d558c5602153341a\nCloses-Bug: #1809469\n""}, {'number': 2, 'created': '2019-05-15 14:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5c9da43d64061a1d9119d5918fc145b233e112ef', 'message': ""Fix keystone fernet key rotation scheduling\n\nRight now every controller rotates fernet keys. This is nice because\nshould any controller die, we know the remaining ones will rotate the\nkeys. However, we are currently over-rotating the keys.\n\nWhen we over rotate keys, we get logs like this:\n\n This is not a recognized Fernet token <token> TokenNotFound\n\nMost clients can recover and get a new token, but some clients (like\nNova passing tokens to other services) can't do that because it doesn't\nhave the password to regenerate a new token.\n\nWith three controllers, in crontab in keystone-fernet we see the once a day\ncorrectly staggered across the three controllers:\n\nssh ctrl1 sudo cat /etc/kolla/keystone-fernet/crontab\n0 0 * * * /usr/bin/fernet-rotate.sh\nssh ctrl2 sudo cat /etc/kolla/keystone-fernet/crontab\n0 8 * * * /usr/bin/fernet-rotate.sh\nssh ctrl3 sudo cat /etc/kolla/keystone-fernet/crontab\n0 16 * * * /usr/bin/fernet-rotate.sh\n\nCurrently with three controllers we have this keystone config:\n\n[token]\nexpiration = 86400 (although, keystone default is one hour)\nallow_expired_window = 172800 (this is the keystone default)\n\n[fernet_tokens]\nmax_active_keys = 4\n\nCurrently, kolla-ansible configures key rotation according to the following:\n\n   rotation_interval = token_expiration / num_hosts\n\nThis means we rotate keys more quickly the more hosts we have, which doesn't\nmake much sense.\n\nKeystone docs state:\n\n   max_active_keys =\n     ((token_expiration + allow_expired_window) / rotation_interval) + 2\n\nFor details see:\nhttps://docs.openstack.org/keystone/stein/admin/fernet-token-faq.html\n\nRotation is based on pushing out a staging key, so should any server\nstart using that key, other servers will consider that valid. Then each\nserver in turn starts using the staging key, each in term demoting the\nexisting primary key to a secondary key. Eventually you prune the\nsecondary keys when there is no token in the wild that would need to be\ndecrypted using that key. So this all makes sense.\n\nThis change adds new variables for fernet_allow_expired_window and\nfernet_key_rotation_interval, so that we can correctly calculate the\ncorrect number of active keys. We now set the default rotation interval\nso as to minimise the number of active keys to 3 - one primary, one\nsecondary, one buffer.\n\nChange-Id: I10c82dc5f83653beb60ddb86d558c5602153341a\nCloses-Bug: #1809469\n""}, {'number': 3, 'created': '2019-05-15 15:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c09c442a20aec3c121d5d203e4e11017c33d86c3', 'message': ""Fix keystone fernet key rotation scheduling\n\nRight now every controller rotates fernet keys. This is nice because\nshould any controller die, we know the remaining ones will rotate the\nkeys. However, we are currently over-rotating the keys.\n\nWhen we over rotate keys, we get logs like this:\n\n This is not a recognized Fernet token <token> TokenNotFound\n\nMost clients can recover and get a new token, but some clients (like\nNova passing tokens to other services) can't do that because it doesn't\nhave the password to regenerate a new token.\n\nWith three controllers, in crontab in keystone-fernet we see the once a day\ncorrectly staggered across the three controllers:\n\nssh ctrl1 sudo cat /etc/kolla/keystone-fernet/crontab\n0 0 * * * /usr/bin/fernet-rotate.sh\nssh ctrl2 sudo cat /etc/kolla/keystone-fernet/crontab\n0 8 * * * /usr/bin/fernet-rotate.sh\nssh ctrl3 sudo cat /etc/kolla/keystone-fernet/crontab\n0 16 * * * /usr/bin/fernet-rotate.sh\n\nCurrently with three controllers we have this keystone config:\n\n[token]\nexpiration = 86400 (although, keystone default is one hour)\nallow_expired_window = 172800 (this is the keystone default)\n\n[fernet_tokens]\nmax_active_keys = 4\n\nCurrently, kolla-ansible configures key rotation according to the following:\n\n   rotation_interval = token_expiration / num_hosts\n\nThis means we rotate keys more quickly the more hosts we have, which doesn't\nmake much sense.\n\nKeystone docs state:\n\n   max_active_keys =\n     ((token_expiration + allow_expired_window) / rotation_interval) + 2\n\nFor details see:\nhttps://docs.openstack.org/keystone/stein/admin/fernet-token-faq.html\n\nRotation is based on pushing out a staging key, so should any server\nstart using that key, other servers will consider that valid. Then each\nserver in turn starts using the staging key, each in term demoting the\nexisting primary key to a secondary key. Eventually you prune the\nsecondary keys when there is no token in the wild that would need to be\ndecrypted using that key. So this all makes sense.\n\nThis change adds new variables for fernet_allow_expired_window and\nfernet_key_rotation_interval, so that we can correctly calculate the\ncorrect number of active keys. We now set the default rotation interval\nso as to minimise the number of active keys to 3 - one primary, one\nsecondary, one buffer.\n\nChange-Id: I10c82dc5f83653beb60ddb86d558c5602153341a\nCloses-Bug: #1809469\n""}, {'number': 4, 'created': '2019-05-16 16:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bd7d14bf0857b7a0f4c1fa00992e6da573fb2d48', 'message': ""Fix keystone fernet key rotation scheduling\n\nRight now every controller rotates fernet keys. This is nice because\nshould any controller die, we know the remaining ones will rotate the\nkeys. However, we are currently over-rotating the keys.\n\nWhen we over rotate keys, we get logs like this:\n\n This is not a recognized Fernet token <token> TokenNotFound\n\nMost clients can recover and get a new token, but some clients (like\nNova passing tokens to other services) can't do that because it doesn't\nhave the password to regenerate a new token.\n\nWith three controllers, in crontab in keystone-fernet we see the once a day\ncorrectly staggered across the three controllers:\n\nssh ctrl1 sudo cat /etc/kolla/keystone-fernet/crontab\n0 0 * * * /usr/bin/fernet-rotate.sh\nssh ctrl2 sudo cat /etc/kolla/keystone-fernet/crontab\n0 8 * * * /usr/bin/fernet-rotate.sh\nssh ctrl3 sudo cat /etc/kolla/keystone-fernet/crontab\n0 16 * * * /usr/bin/fernet-rotate.sh\n\nCurrently with three controllers we have this keystone config:\n\n[token]\nexpiration = 86400 (although, keystone default is one hour)\nallow_expired_window = 172800 (this is the keystone default)\n\n[fernet_tokens]\nmax_active_keys = 4\n\nCurrently, kolla-ansible configures key rotation according to the following:\n\n   rotation_interval = token_expiration / num_hosts\n\nThis means we rotate keys more quickly the more hosts we have, which doesn't\nmake much sense.\n\nKeystone docs state:\n\n   max_active_keys =\n     ((token_expiration + allow_expired_window) / rotation_interval) + 2\n\nFor details see:\nhttps://docs.openstack.org/keystone/stein/admin/fernet-token-faq.html\n\nRotation is based on pushing out a staging key, so should any server\nstart using that key, other servers will consider that valid. Then each\nserver in turn starts using the staging key, each in term demoting the\nexisting primary key to a secondary key. Eventually you prune the\nsecondary keys when there is no token in the wild that would need to be\ndecrypted using that key. So this all makes sense.\n\nThis change adds new variables for fernet_allow_expired_window and\nfernet_key_rotation_interval, so that we can correctly calculate the\ncorrect number of active keys. We now set the default rotation interval\nso as to minimise the number of active keys to 3 - one primary, one\nsecondary, one buffer.\n\nChange-Id: I10c82dc5f83653beb60ddb86d558c5602153341a\nCloses-Bug: #1809469\n""}, {'number': 5, 'created': '2019-05-16 17:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/93b724a8a3a263dd011b125507ce98b120bfbf35', 'message': ""Fix keystone fernet key rotation scheduling\n\nRight now every controller rotates fernet keys. This is nice because\nshould any controller die, we know the remaining ones will rotate the\nkeys. However, we are currently over-rotating the keys.\n\nWhen we over rotate keys, we get logs like this:\n\n This is not a recognized Fernet token <token> TokenNotFound\n\nMost clients can recover and get a new token, but some clients (like\nNova passing tokens to other services) can't do that because it doesn't\nhave the password to regenerate a new token.\n\nWith three controllers, in crontab in keystone-fernet we see the once a day\ncorrectly staggered across the three controllers:\n\nssh ctrl1 sudo cat /etc/kolla/keystone-fernet/crontab\n0 0 * * * /usr/bin/fernet-rotate.sh\nssh ctrl2 sudo cat /etc/kolla/keystone-fernet/crontab\n0 8 * * * /usr/bin/fernet-rotate.sh\nssh ctrl3 sudo cat /etc/kolla/keystone-fernet/crontab\n0 16 * * * /usr/bin/fernet-rotate.sh\n\nCurrently with three controllers we have this keystone config:\n\n[token]\nexpiration = 86400 (although, keystone default is one hour)\nallow_expired_window = 172800 (this is the keystone default)\n\n[fernet_tokens]\nmax_active_keys = 4\n\nCurrently, kolla-ansible configures key rotation according to the following:\n\n   rotation_interval = token_expiration / num_hosts\n\nThis means we rotate keys more quickly the more hosts we have, which doesn't\nmake much sense.\n\nKeystone docs state:\n\n   max_active_keys =\n     ((token_expiration + allow_expired_window) / rotation_interval) + 2\n\nFor details see:\nhttps://docs.openstack.org/keystone/stein/admin/fernet-token-faq.html\n\nRotation is based on pushing out a staging key, so should any server\nstart using that key, other servers will consider that valid. Then each\nserver in turn starts using the staging key, each in term demoting the\nexisting primary key to a secondary key. Eventually you prune the\nsecondary keys when there is no token in the wild that would need to be\ndecrypted using that key. So this all makes sense.\n\nThis change adds new variables for fernet_token_allow_expired_window and\nfernet_key_rotation_interval, so that we can correctly calculate the\ncorrect number of active keys. We now set the default rotation interval\nso as to minimise the number of active keys to 3 - one primary, one\nsecondary, one buffer.\n\nThis change also fixes the fernet cron job generator, which was broken\nin the following cases:\n\n* requesting an interval of more than 1 day resulted in no jobs\n* requesting an interval of more than 60 minutes, unless an exact\n  multiple of 60 minutes, resulted in no jobs\n\nIt should now be possible to request any interval up to a week divided\nby the number of hosts.\n\nChange-Id: I10c82dc5f83653beb60ddb86d558c5602153341a\nCloses-Bug: #1809469\n""}, {'number': 6, 'created': '2019-05-17 10:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/19a1bf64771e0d7af90c92a7c5c1d5eb9598d86d', 'message': ""Fix keystone fernet key rotation scheduling\n\nRight now every controller rotates fernet keys. This is nice because\nshould any controller die, we know the remaining ones will rotate the\nkeys. However, we are currently over-rotating the keys.\n\nWhen we over rotate keys, we get logs like this:\n\n This is not a recognized Fernet token <token> TokenNotFound\n\nMost clients can recover and get a new token, but some clients (like\nNova passing tokens to other services) can't do that because it doesn't\nhave the password to regenerate a new token.\n\nWith three controllers, in crontab in keystone-fernet we see the once a day\ncorrectly staggered across the three controllers:\n\nssh ctrl1 sudo cat /etc/kolla/keystone-fernet/crontab\n0 0 * * * /usr/bin/fernet-rotate.sh\nssh ctrl2 sudo cat /etc/kolla/keystone-fernet/crontab\n0 8 * * * /usr/bin/fernet-rotate.sh\nssh ctrl3 sudo cat /etc/kolla/keystone-fernet/crontab\n0 16 * * * /usr/bin/fernet-rotate.sh\n\nCurrently with three controllers we have this keystone config:\n\n[token]\nexpiration = 86400 (although, keystone default is one hour)\nallow_expired_window = 172800 (this is the keystone default)\n\n[fernet_tokens]\nmax_active_keys = 4\n\nCurrently, kolla-ansible configures key rotation according to the following:\n\n   rotation_interval = token_expiration / num_hosts\n\nThis means we rotate keys more quickly the more hosts we have, which doesn't\nmake much sense.\n\nKeystone docs state:\n\n   max_active_keys =\n     ((token_expiration + allow_expired_window) / rotation_interval) + 2\n\nFor details see:\nhttps://docs.openstack.org/keystone/stein/admin/fernet-token-faq.html\n\nRotation is based on pushing out a staging key, so should any server\nstart using that key, other servers will consider that valid. Then each\nserver in turn starts using the staging key, each in term demoting the\nexisting primary key to a secondary key. Eventually you prune the\nsecondary keys when there is no token in the wild that would need to be\ndecrypted using that key. So this all makes sense.\n\nThis change adds new variables for fernet_token_allow_expired_window and\nfernet_key_rotation_interval, so that we can correctly calculate the\ncorrect number of active keys. We now set the default rotation interval\nso as to minimise the number of active keys to 3 - one primary, one\nsecondary, one buffer.\n\nThis change also fixes the fernet cron job generator, which was broken\nin the following cases:\n\n* requesting an interval of more than 1 day resulted in no jobs\n* requesting an interval of more than 60 minutes, unless an exact\n  multiple of 60 minutes, resulted in no jobs\n\nIt should now be possible to request any interval up to a week divided\nby the number of hosts.\n\nChange-Id: I10c82dc5f83653beb60ddb86d558c5602153341a\nCloses-Bug: #1809469\n""}, {'number': 7, 'created': '2019-05-17 13:06:25.000000000', 'files': ['tests/test_fernet_rotate_cron_generator.py', 'ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/keystone/files/fernet_rotate_cron_generator.py', 'ansible/group_vars/all.yml', 'ansible/roles/keystone/tasks/config.yml', 'doc/source/reference/shared-services/index.rst', 'doc/source/reference/shared-services/keystone-guide.rst', 'releasenotes/notes/fernet-key-rotation-8d40041d7d783dc7.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6c1442c385450004dd253f3f464fe4336194be99', 'message': ""Fix keystone fernet key rotation scheduling\n\nRight now every controller rotates fernet keys. This is nice because\nshould any controller die, we know the remaining ones will rotate the\nkeys. However, we are currently over-rotating the keys.\n\nWhen we over rotate keys, we get logs like this:\n\n This is not a recognized Fernet token <token> TokenNotFound\n\nMost clients can recover and get a new token, but some clients (like\nNova passing tokens to other services) can't do that because it doesn't\nhave the password to regenerate a new token.\n\nWith three controllers, in crontab in keystone-fernet we see the once a day\ncorrectly staggered across the three controllers:\n\nssh ctrl1 sudo cat /etc/kolla/keystone-fernet/crontab\n0 0 * * * /usr/bin/fernet-rotate.sh\nssh ctrl2 sudo cat /etc/kolla/keystone-fernet/crontab\n0 8 * * * /usr/bin/fernet-rotate.sh\nssh ctrl3 sudo cat /etc/kolla/keystone-fernet/crontab\n0 16 * * * /usr/bin/fernet-rotate.sh\n\nCurrently with three controllers we have this keystone config:\n\n[token]\nexpiration = 86400 (although, keystone default is one hour)\nallow_expired_window = 172800 (this is the keystone default)\n\n[fernet_tokens]\nmax_active_keys = 4\n\nCurrently, kolla-ansible configures key rotation according to the following:\n\n   rotation_interval = token_expiration / num_hosts\n\nThis means we rotate keys more quickly the more hosts we have, which doesn't\nmake much sense.\n\nKeystone docs state:\n\n   max_active_keys =\n     ((token_expiration + allow_expired_window) / rotation_interval) + 2\n\nFor details see:\nhttps://docs.openstack.org/keystone/stein/admin/fernet-token-faq.html\n\nRotation is based on pushing out a staging key, so should any server\nstart using that key, other servers will consider that valid. Then each\nserver in turn starts using the staging key, each in term demoting the\nexisting primary key to a secondary key. Eventually you prune the\nsecondary keys when there is no token in the wild that would need to be\ndecrypted using that key. So this all makes sense.\n\nThis change adds new variables for fernet_token_allow_expired_window and\nfernet_key_rotation_interval, so that we can correctly calculate the\ncorrect number of active keys. We now set the default rotation interval\nso as to minimise the number of active keys to 3 - one primary, one\nsecondary, one buffer.\n\nThis change also fixes the fernet cron job generator, which was broken\nin the following cases:\n\n* requesting an interval of more than 1 day resulted in no jobs\n* requesting an interval of more than 60 minutes, unless an exact\n  multiple of 60 minutes, resulted in no jobs\n\nIt should now be possible to request any interval up to a week divided\nby the number of hosts.\n\nChange-Id: I10c82dc5f83653beb60ddb86d558c5602153341a\nCloses-Bug: #1809469\n""}]",11,659293,6c1442c385450004dd253f3f464fe4336194be99,25,7,7,14826,,,0,"Fix keystone fernet key rotation scheduling

Right now every controller rotates fernet keys. This is nice because
should any controller die, we know the remaining ones will rotate the
keys. However, we are currently over-rotating the keys.

When we over rotate keys, we get logs like this:

 This is not a recognized Fernet token <token> TokenNotFound

Most clients can recover and get a new token, but some clients (like
Nova passing tokens to other services) can't do that because it doesn't
have the password to regenerate a new token.

With three controllers, in crontab in keystone-fernet we see the once a day
correctly staggered across the three controllers:

ssh ctrl1 sudo cat /etc/kolla/keystone-fernet/crontab
0 0 * * * /usr/bin/fernet-rotate.sh
ssh ctrl2 sudo cat /etc/kolla/keystone-fernet/crontab
0 8 * * * /usr/bin/fernet-rotate.sh
ssh ctrl3 sudo cat /etc/kolla/keystone-fernet/crontab
0 16 * * * /usr/bin/fernet-rotate.sh

Currently with three controllers we have this keystone config:

[token]
expiration = 86400 (although, keystone default is one hour)
allow_expired_window = 172800 (this is the keystone default)

[fernet_tokens]
max_active_keys = 4

Currently, kolla-ansible configures key rotation according to the following:

   rotation_interval = token_expiration / num_hosts

This means we rotate keys more quickly the more hosts we have, which doesn't
make much sense.

Keystone docs state:

   max_active_keys =
     ((token_expiration + allow_expired_window) / rotation_interval) + 2

For details see:
https://docs.openstack.org/keystone/stein/admin/fernet-token-faq.html

Rotation is based on pushing out a staging key, so should any server
start using that key, other servers will consider that valid. Then each
server in turn starts using the staging key, each in term demoting the
existing primary key to a secondary key. Eventually you prune the
secondary keys when there is no token in the wild that would need to be
decrypted using that key. So this all makes sense.

This change adds new variables for fernet_token_allow_expired_window and
fernet_key_rotation_interval, so that we can correctly calculate the
correct number of active keys. We now set the default rotation interval
so as to minimise the number of active keys to 3 - one primary, one
secondary, one buffer.

This change also fixes the fernet cron job generator, which was broken
in the following cases:

* requesting an interval of more than 1 day resulted in no jobs
* requesting an interval of more than 60 minutes, unless an exact
  multiple of 60 minutes, resulted in no jobs

It should now be possible to request any interval up to a week divided
by the number of hosts.

Change-Id: I10c82dc5f83653beb60ddb86d558c5602153341a
Closes-Bug: #1809469
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/659293/5 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/keystone/files/fernet_rotate_cron_generator.py', 'ansible/group_vars/all.yml', 'ansible/roles/keystone/tasks/config.yml', 'releasenotes/notes/fernet-key-rotation-8d40041d7d783dc7.yaml']",5,49afb7e800b25fdc8e2bf24e775543e53eb7a132,bug/1809469,--- upgrade: - | The Keystone fernet key rotation scheduling algorithm has been modified to avoid issues with over-rotation of keys. TODO: more info See `bug 1809469 <https://launchpad.net/bugs/1809469>`__ for details. ,,41,7
openstack%2Fkolla~stable%2Frocky~Ifdc3a1fd5fe37da529b2aee9811b12f744cff3bf,openstack/kolla,stable/rocky,Ifdc3a1fd5fe37da529b2aee9811b12f744cff3bf,Fix the problem that the crush map is changed,MERGED,2019-04-19 07:21:44.000000000,2019-06-06 16:31:13.000000000,2019-06-06 16:31:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 24250}]","[{'number': 1, 'created': '2019-04-19 07:21:44.000000000', 'files': ['docker/ceph/ceph-osd/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8e8ede2b49a2c34d7bea9906564bf57662f53d1d', 'message': 'Fix the problem that the crush map is changed\n\nWhen deploying ceph osd with kolla, each osd deployment will move the\nhost bucket to default in the crush map.\n\nIf we adjust the crush map, we have to re-adjust the crush map after\nadding osd or fixing osd.\nThis commit fixes this problem.\n\nChange-Id: Ifdc3a1fd5fe37da529b2aee9811b12f744cff3bf\nCloses-bug: #1821681\n(cherry picked from commit 3d4a7360a7c51a1f1c806a70026a7c8b20e20789)\n'}]",0,653915,8e8ede2b49a2c34d7bea9906564bf57662f53d1d,11,5,1,24250,,,0,"Fix the problem that the crush map is changed

When deploying ceph osd with kolla, each osd deployment will move the
host bucket to default in the crush map.

If we adjust the crush map, we have to re-adjust the crush map after
adding osd or fixing osd.
This commit fixes this problem.

Change-Id: Ifdc3a1fd5fe37da529b2aee9811b12f744cff3bf
Closes-bug: #1821681
(cherry picked from commit 3d4a7360a7c51a1f1c806a70026a7c8b20e20789)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/15/653915/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/ceph/ceph-osd/extend_start.sh'],1,8e8ede2b49a2c34d7bea9906564bf57662f53d1d,bug/1821681-stable/rocky," host_bucket_name=""${HOSTNAME}${CEPH_ROOT_NAME:+-${CEPH_ROOT_NAME}}"" host_bucket_check=$(ceph osd tree | awk '/'""${host_bucket_name}""'/{print $0}' | wc -l) if [[ ""${host_bucket_check}"" -eq 0 ]]; then ceph osd crush add-bucket ""${host_bucket_name}"" host ceph osd crush move ""${host_bucket_name}"" root=${CEPH_ROOT_NAME:-default} fi"," ceph osd crush add-bucket ""${HOSTNAME}${CEPH_ROOT_NAME:+-${CEPH_ROOT_NAME}}"" host ceph osd crush move ""${HOSTNAME}${CEPH_ROOT_NAME:+-${CEPH_ROOT_NAME}}"" root=${CEPH_ROOT_NAME:-default}",6,2
openstack%2Frequirements~master~Ie39fbea99b916fb57b4c75afed16ffe9d12329a6,openstack/requirements,master,Ie39fbea99b916fb57b4c75afed16ffe9d12329a6,update constraint for openstacksdk to new release 0.30.0,MERGED,2019-06-06 06:31:38.000000000,2019-06-06 16:22:37.000000000,2019-06-06 16:22:37.000000000,"[{'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 06:31:38.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/82825c61e51bda28ac0aeed94fcfc3527061a262', 'message': 'update constraint for openstacksdk to new release 0.30.0\n\nChange-Id: Ie39fbea99b916fb57b4c75afed16ffe9d12329a6\nmeta:version: 0.30.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Monty Taylor <mordred@inaugust.com>\nmeta:release:Commit: Monty Taylor <mordred@inaugust.com>\nmeta:release:Change-Id: I196a3d871e3cc104e8a7171ea98d5379b8a089de\nmeta:release:Code-Review+1: Eric Fried <openstack@fried.cc>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n'}]",0,663508,82825c61e51bda28ac0aeed94fcfc3527061a262,7,3,1,11131,,,0,"update constraint for openstacksdk to new release 0.30.0

Change-Id: Ie39fbea99b916fb57b4c75afed16ffe9d12329a6
meta:version: 0.30.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: I196a3d871e3cc104e8a7171ea98d5379b8a089de
meta:release:Code-Review+1: Eric Fried <openstack@fried.cc>
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/08/663508/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,82825c61e51bda28ac0aeed94fcfc3527061a262,new-release,openstacksdk===0.30.0,openstacksdk===0.29.0,1,1
openstack%2Frequirements~master~I5982f007915616ee6144569d473b34822c6f24da,openstack/requirements,master,I5982f007915616ee6144569d473b34822c6f24da,update constraint for os-traits to new release 0.14.0,MERGED,2019-06-06 06:24:30.000000000,2019-06-06 16:22:36.000000000,2019-06-06 16:22:36.000000000,"[{'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 06:24:30.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5024f69e1d7fda5b45ceb4bff6732e6ec1888318', 'message': 'update constraint for os-traits to new release 0.14.0\n\nChange-Id: I5982f007915616ee6144569d473b34822c6f24da\nmeta:version: 0.14.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Eric Fried <openstack@fried.cc>\nmeta:release:Commit: Eric Fried <openstack@fried.cc>\nmeta:release:Change-Id: I9e9e7be2a54ac48d0021f3903c96e4787da8a280\nmeta:release:Code-Review+1: Chris Dent <cdent@anticdent.org>\nmeta:release:Code-Review+1: chaiguanglong <chaigl@awcloud.com>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n'}]",0,663507,5024f69e1d7fda5b45ceb4bff6732e6ec1888318,7,3,1,11131,,,0,"update constraint for os-traits to new release 0.14.0

Change-Id: I5982f007915616ee6144569d473b34822c6f24da
meta:version: 0.14.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Eric Fried <openstack@fried.cc>
meta:release:Commit: Eric Fried <openstack@fried.cc>
meta:release:Change-Id: I9e9e7be2a54ac48d0021f3903c96e4787da8a280
meta:release:Code-Review+1: Chris Dent <cdent@anticdent.org>
meta:release:Code-Review+1: chaiguanglong <chaigl@awcloud.com>
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/07/663507/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5024f69e1d7fda5b45ceb4bff6732e6ec1888318,new-release,os-traits===0.14.0,os-traits===0.13.0,1,1
openstack%2Ftripleo-heat-templates~master~If44e9cbad714ce3954928407c42a8dc2473fed2e,openstack/tripleo-heat-templates,master,If44e9cbad714ce3954928407c42a8dc2473fed2e,Add creating br-ex for compute node in ovn,MERGED,2019-05-29 11:02:22.000000000,2019-06-06 16:22:28.000000000,2019-06-06 16:22:28.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 11082}, {'_account_id': 12398}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 30412}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-05-29 11:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d5f1fb3ad7fd177ecf506e80d0a9034c6be08a12', 'message': 'Add creating br-ex for compute node in ovn\n\nFor ovn compute nodes we need br-ex exactly like with\nComputeDVR role\n\nChange-Id: If44e9cbad714ce3954928407c42a8dc2473fed2e\nCloses-Bug: #1822367\n'}, {'number': 2, 'created': '2019-06-03 08:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3970ce3bbc30b19fd34b9f99823fe9984e7aec1b', 'message': 'Add creating br-ex for compute node in ovn\n\nFor ovn compute nodes we need br-ex exactly like with\nComputeDVR role. Now we can do this in jinja templates\nusing new tag create_br_ex\n\nChange-Id: If44e9cbad714ce3954928407c42a8dc2473fed2e\nCloses-Bug: #1822367\n'}, {'number': 3, 'created': '2019-06-03 08:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed4e26b5f316901c8efa67de5bcc9d50f39d0832', 'message': 'Add creating br-ex for compute node in ovn\n\nFor ovn compute nodes we need br-ex exactly like with\nComputeDVR role. Now we can do this in jinja templates\nusing new tag create_br_ex\n\nChange-Id: If44e9cbad714ce3954928407c42a8dc2473fed2e\nCloses-Bug: #1822367\n'}, {'number': 4, 'created': '2019-06-03 14:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7dd8de0143f75b6784a041c7cd55cebde8919401', 'message': 'Add creating br-ex for compute node in ovn\n\nFor ovn compute nodes we need br-ex exactly like with\nComputeDVR role. Now we can do this in jinja templates\nusing new tag create_br_ex\n\nChange-Id: If44e9cbad714ce3954928407c42a8dc2473fed2e\nCloses-Bug: #1822367\n'}, {'number': 5, 'created': '2019-06-04 09:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1bda55bb29c88135bad43b5e4f44a7672cf2ef3f', 'message': 'Add creating br-ex for compute node in ovn\n\nFor ovn compute nodes we need br-ex exactly like with\nComputeDVR role. Now we can do this in jinja templates\nusing new tag external_bridge\n\nChange-Id: If44e9cbad714ce3954928407c42a8dc2473fed2e\nCloses-Bug: #1822367\n'}, {'number': 6, 'created': '2019-06-05 08:15:56.000000000', 'files': ['roles/ComputeDVR.yaml', 'roles_data.yaml', 'network/config/multiple-nics/role.role.j2.yaml', 'roles/Compute.yaml', 'roles/README.rst', 'roles/Networker.yaml', 'releasenotes/notes/create-br-ex-for-compute-b967312323d45d9b.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff7cce93ebcdf4fd868329be94d618f9e755049f', 'message': 'Add creating br-ex for compute node in ovn\n\nFor ovn compute nodes we need br-ex exactly like with\nComputeDVR role. Now we can do this in jinja templates\nusing new tag external_bridge\n\nChange-Id: If44e9cbad714ce3954928407c42a8dc2473fed2e\nCloses-Bug: #1822367\n'}]",21,661939,ff7cce93ebcdf4fd868329be94d618f9e755049f,47,11,6,11082,,,0,"Add creating br-ex for compute node in ovn

For ovn compute nodes we need br-ex exactly like with
ComputeDVR role. Now we can do this in jinja templates
using new tag external_bridge

Change-Id: If44e9cbad714ce3954928407c42a8dc2473fed2e
Closes-Bug: #1822367
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/661939/1 && git format-patch -1 --stdout FETCH_HEAD,['network/config/multiple-nics/role.role.j2.yaml'],1,d5f1fb3ad7fd177ecf506e80d0a9034c6be08a12,bug/1822367,{#- We need bridge also for ComputeDVR and Computes with OVN #} {%- elif network.name in role.networks or role.name == 'Networker' or role.name == 'ComputeDVR' or (role.name == 'Compute' and 'OS::TripleO::Services::OVNController' in role.ServicesDefault)%},{%- elif network.name in role.networks or role.name == 'Networker' or role.name == 'ComputeDVR' %},2,1
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fstein~I1cec7900bfd09283b9ecf15a3075ff53a71a0761,openstack/openstack-ansible-openstack_hosts,stable/stein,I1cec7900bfd09283b9ecf15a3075ff53a71a0761,Updated from OpenStack Ansible Tests,MERGED,2019-05-11 23:58:00.000000000,2019-06-06 16:20:59.000000000,2019-06-06 16:20:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-05-11 23:58:00.000000000', 'files': ['run_tests.sh', 'bindep.txt', 'Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/088a92488a1f7c20f695c912c08a15b393821d08', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I1cec7900bfd09283b9ecf15a3075ff53a71a0761\n'}]",0,658582,088a92488a1f7c20f695c912c08a15b393821d08,13,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I1cec7900bfd09283b9ecf15a3075ff53a71a0761
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/82/658582/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'bindep.txt', 'Vagrantfile']",3,088a92488a1f7c20f695c912c08a15b393821d08,openstack/openstack-ansible-tests/sync-tests,# https://opendev.org/openstack/openstack-ansible-tests/src/Vagrantfile,# https://git.openstack.org/cgit/openstack/openstack-ansible-tests/tree/Vagrantfile,6,6
openstack%2Fopenstack-virtual-baremetal~master~I86275931d389c0a658203aa5cae12dd161e1c547,openstack/openstack-virtual-baremetal,master,I86275931d389c0a658203aa5cae12dd161e1c547,Update sphinx requirement,MERGED,2019-06-06 15:31:11.000000000,2019-06-06 16:19:41.000000000,2019-06-06 16:10:54.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 15:31:11.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/dd4fdeb07e5b7651277b036240e4de763739a68b', 'message': ""Update sphinx requirement\n\nSphinx 2.0 doesn't work on Python 2 anymore. We need to cap it there.\n\nChange-Id: I86275931d389c0a658203aa5cae12dd161e1c547\n""}]",0,663700,dd4fdeb07e5b7651277b036240e4de763739a68b,8,2,1,6928,,,0,"Update sphinx requirement

Sphinx 2.0 doesn't work on Python 2 anymore. We need to cap it there.

Change-Id: I86275931d389c0a658203aa5cae12dd161e1c547
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/00/663700/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,dd4fdeb07e5b7651277b036240e4de763739a68b,pip-bmc,"sphinx!=1.6.6,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,>=1.6.2;python_version>='3.4' # BSD",sphinx>=1.6,2,1
openstack%2Fnetworking-sfc~master~Ib30382f6af434edde4b372e6af015e538768ddbd,openstack/networking-sfc,master,Ib30382f6af434edde4b372e6af015e538768ddbd,Complete move of networking-sfc tempest tests to tempest plugin,MERGED,2019-04-18 14:39:22.000000000,2019-06-06 16:18:48.000000000,2019-06-06 16:18:48.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 18955}, {'_account_id': 21798}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 30156}]","[{'number': 1, 'created': '2019-04-18 14:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/0e5575fc96935ad55c0cde4a1a1275c4b0cb4a79', 'message': 'Complete move of neutron-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.openstack.org/653012\n'}, {'number': 2, 'created': '2019-04-18 14:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/0f9a084a529a6c2ed192e76de7a9904bec64e029', 'message': 'Complete move of neutron-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.openstack.org/653012\n'}, {'number': 3, 'created': '2019-04-18 14:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/7899b91fe9bc4478adaf2d9da66b447eefe42a9a', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.openstack.org/653012\n'}, {'number': 4, 'created': '2019-04-19 13:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/38f0ad8933dfdbd34c400aeb246218143208e59d', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.openstack.org/653012\n'}, {'number': 5, 'created': '2019-04-23 08:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/47571d37d85db4081fe80e9d3c426dc468360f4d', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.openstack.org/653012\n'}, {'number': 6, 'created': '2019-04-23 08:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/75332aecf463eea76d9bc7bf1236b79e8a88296e', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.opendev.org/653012\n'}, {'number': 7, 'created': '2019-04-23 09:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/d498b5137b1dd091bfd1f07391a1f93f378516e3', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.opendev.org/653012\n'}, {'number': 8, 'created': '2019-05-01 00:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/4d4d701634a7b51b2b1c352975dea463111ae4e8', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.opendev.org/653012\n'}, {'number': 9, 'created': '2019-05-01 00:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/1c556ea143ebda7ca9c9ad6dc11ff318417a11f5', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.opendev.org/653012\n'}, {'number': 10, 'created': '2019-05-01 00:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/34cf4dc56e5ce85865f2613b9957a89a8ffcbe0e', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.opendev.org/653012\n'}, {'number': 11, 'created': '2019-05-20 13:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/3f388a7131b316e310f579fbe6fd670345fcb802', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.opendev.org/653012\n'}, {'number': 12, 'created': '2019-05-20 15:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/afda8978fa6e76899396763f3389f50264f912a1', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.opendev.org/653012\n'}, {'number': 13, 'created': '2019-05-21 09:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/bbc25ed09e416545a1994fcc7a5835b49eff57e4', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.opendev.org/653012\n'}, {'number': 14, 'created': '2019-05-21 11:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/41533c082be87cc9a1cf7f51404b4bc8c3ad0e3b', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\nThis also converts the tempest tests to zuulv3\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.opendev.org/653012\n'}, {'number': 15, 'created': '2019-05-21 13:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/6435ccb331d3350089f743236a0ddf996afc67dc', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\nThis also converts the tempest tests to zuulv3\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.opendev.org/653012\n'}, {'number': 16, 'created': '2019-05-23 09:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/f0c57fe7498c7d46b1fd5a31350278da058986c9', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\nThis also converts the tempest tests to zuulv3\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.opendev.org/653012\n'}, {'number': 17, 'created': '2019-05-23 14:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/5a7097ff9a8869301f3f31ec3c19fc5c741e98f4', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\nThis also converts the tempest tests to zuulv3\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.opendev.org/653012\n'}, {'number': 18, 'created': '2019-05-23 16:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/adcb62fd9ff69059dab8ad61ccfe56b310600d38', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\nThis also converts the tempest tests to zuulv3\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.opendev.org/653012\n'}, {'number': 19, 'created': '2019-05-24 13:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/f50e56e01a2b3a454e407c1d068776f70505ea9a', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\nThis also converts the tempest tests to zuulv3\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.opendev.org/653012\n'}, {'number': 20, 'created': '2019-05-24 15:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/cbb7818349fd2cd5daf28494ac486f33b9785394', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\nThis also converts the tempest tests to zuulv3\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.opendev.org/653012\n'}, {'number': 21, 'created': '2019-05-25 07:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/d18b8b840bff76a842476a7dffc9a8fc5b038a03', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\nThis also converts the tempest tests to zuulv3\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.opendev.org/653012\n'}, {'number': 22, 'created': '2019-06-04 16:50:42.000000000', 'files': ['playbooks/legacy/networking-sfc-tempest-dsvm-multinode/post.yaml', 'devstack/devstackgaterc', 'networking_sfc/tests/tempest_plugin/tests/scenario/test_sfc.py', 'test-requirements.txt', 'networking_sfc/tests/tempest_plugin/tests/scenario/base.py', 'playbooks/multinode-scenario-pre-run.yaml', 'devstack/post_test_hook.sh', 'networking_sfc/tests/tempest_plugin/services/__init__.py', 'networking_sfc/tests/tempest_plugin/tests/api/test_flowclassifier_extensions.py', 'networking_sfc/tests/tempest_plugin/tests/api/test_sfc_extensions.py', 'zuul.d/projects.yaml', 'networking_sfc/tests/tempest_plugin/__init__.py', 'networking_sfc/tests/tempest_plugin/tests/flowclassifier_client.py', 'networking_sfc/tests/tempest_plugin/tests/scenario/__init__.py', 'playbooks/legacy/networking-sfc-tempest-dsvm-multinode/run.yaml', 'playbooks/legacy/networking-sfc-periodic-tempest-dsvm/run.yaml', 'networking_sfc/tests/tempest_plugin/tests/scenario/manager.py', 'networking_sfc/tests/tempest_plugin/tests/sfc_client.py', 'playbooks/legacy/networking-sfc-tempest-dsvm/run.yaml', 'lower-constraints.txt', 'networking_sfc/tests/tempest_plugin/services/sfc_client.py', 'networking_sfc/tests/tempest_plugin/tests/api/base.py', 'networking_sfc/tests/tempest_plugin/plugin.py', 'networking_sfc/tests/tempest_plugin/tests/__init__.py', 'networking_sfc/tests/tempest_plugin/services/flowclassifier_client.py', 'setup.cfg', 'playbooks/legacy/networking-sfc-periodic-tempest-dsvm/post.yaml', 'playbooks/legacy/networking-sfc-tempest-dsvm/post.yaml', 'tox.ini', 'zuul.d/jobs.yaml', 'networking_sfc/tests/tempest_plugin/tests/api/__init__.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/e617fc9f760858f9673619112cf7cb89880384d7', 'message': 'Complete move of networking-sfc tempest tests to tempest plugin\n\nAs discussed in the neutron_ci meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins. This is the second part of a two\nstage move, by removing the tempest tests that were copied to the\nneutron-tempest-plugin repo [2].\n\nThis also converts the tempest tests to zuulv3\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: Ib30382f6af434edde4b372e6af015e538768ddbd\nDepends-On: https://review.opendev.org/653012\n'}]",5,653747,e617fc9f760858f9673619112cf7cb89880384d7,61,8,22,21798,,,0,"Complete move of networking-sfc tempest tests to tempest plugin

As discussed in the neutron_ci meeting [1] the QA team would like to
move the tempest tests for the stadium projects from their repos to
repos specific to being tempest plugins. This is the second part of a two
stage move, by removing the tempest tests that were copied to the
neutron-tempest-plugin repo [2].

This also converts the tempest tests to zuulv3

[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94
[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo

Change-Id: Ib30382f6af434edde4b372e6af015e538768ddbd
Depends-On: https://review.opendev.org/653012
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/47/653747/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/networking-sfc-tempest-dsvm-multinode/post.yaml', 'devstack/devstackgaterc', 'networking_sfc/tests/tempest_plugin/tests/scenario/test_sfc.py', 'networking_sfc/tests/tempest_plugin/tests/scenario/base.py', 'devstack/post_test_hook.sh', 'networking_sfc/tests/tempest_plugin/services/__init__.py', 'networking_sfc/tests/tempest_plugin/tests/api/test_flowclassifier_extensions.py', 'networking_sfc/tests/tempest_plugin/tests/api/test_sfc_extensions.py', 'zuul.d/projects.yaml', 'networking_sfc/tests/tempest_plugin/__init__.py', 'networking_sfc/tests/tempest_plugin/tests/flowclassifier_client.py', 'networking_sfc/tests/tempest_plugin/tests/scenario/__init__.py', 'playbooks/legacy/networking-sfc-tempest-dsvm-multinode/run.yaml', 'playbooks/legacy/networking-sfc-periodic-tempest-dsvm/run.yaml', 'networking_sfc/tests/tempest_plugin/tests/scenario/manager.py', 'networking_sfc/tests/tempest_plugin/tests/sfc_client.py', 'playbooks/legacy/networking-sfc-tempest-dsvm/run.yaml', 'lower-constraints.txt', 'networking_sfc/tests/tempest_plugin/services/sfc_client.py', 'networking_sfc/tests/tempest_plugin/tests/api/base.py', 'networking_sfc/tests/tempest_plugin/plugin.py', 'networking_sfc/tests/tempest_plugin/tests/__init__.py', 'networking_sfc/tests/tempest_plugin/services/flowclassifier_client.py', 'playbooks/legacy/networking-sfc-periodic-tempest-dsvm/post.yaml', 'playbooks/legacy/networking-sfc-tempest-dsvm/post.yaml', 'zuul.d/jobs.yaml', 'networking_sfc/tests/tempest_plugin/tests/api/__init__.py']",27,0e5575fc96935ad55c0cde4a1a1275c4b0cb4a79,networking-sfc-tests-move,,,36,3703
openstack%2Fnetworking-sfc~master~I7484f260c6f58927088d9e891957be2ab355df6e,openstack/networking-sfc,master,I7484f260c6f58927088d9e891957be2ab355df6e,Update sphinx requirements,MERGED,2019-05-20 14:53:32.000000000,2019-06-06 16:18:47.000000000,2019-06-06 16:18:47.000000000,"[{'_account_id': 11975}, {'_account_id': 18955}, {'_account_id': 21798}, {'_account_id': 21883}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-20 14:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/f0168d95a51a53550717844701f042bba66fc987', 'message': 'Update sphinx requirements\n\nrequirements-check fails with:\nhttp://logs.openstack.org/47/653747/11/check/requirements-check/d637f52/job-output.txt.gz\n\nChange-Id: I7484f260c6f58927088d9e891957be2ab355df6e\n'}, {'number': 2, 'created': '2019-06-04 15:08:21.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/7ff51c0c4d24099964e4f0a9dc4831088be4caa8', 'message': 'Update sphinx requirements\n\nrequirements-check fails with:\nhttp://logs.openstack.org/47/653747/11/check/requirements-check/d637f52/job-output.txt.gz\n\nChange-Id: I7484f260c6f58927088d9e891957be2ab355df6e\n'}]",0,660142,7ff51c0c4d24099964e4f0a9dc4831088be4caa8,14,5,2,21798,,,0,"Update sphinx requirements

requirements-check fails with:
http://logs.openstack.org/47/653747/11/check/requirements-check/d637f52/job-output.txt.gz

Change-Id: I7484f260c6f58927088d9e891957be2ab355df6e
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/42/660142/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f0168d95a51a53550717844701f042bba66fc987,sphinx_requirements,"sphinx!=1.6.6,!=1.6.7,>=1.6.5,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.5;python_version>='3.4' # BSD","sphinx!=1.6.6,>=1.6.5 # BSD",2,1
openstack%2Fnetworking-sfc~master~Ieeefd9fb4f7ab2ab1572decfcbe367dcb4035e0c,openstack/networking-sfc,master,Ieeefd9fb4f7ab2ab1572decfcbe367dcb4035e0c,Switch to native openflow implementation,MERGED,2019-05-30 21:35:23.000000000,2019-06-06 16:18:46.000000000,2019-06-06 16:18:46.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 21883}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 21:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/1bb2f0668522edbe8c904be8f88cf0ae1da929b8', 'message': 'Switch to native openflow implementation\n\nNeutron removed ovs_ofctl interface to manage openflows in [1],\nso networking_sfc should also stop using it and switch to\nnative implementation based on OSKen.\n\nCloses-Bug: #1831127\n\n[1] https://review.opendev.org/#/c/599496/\n\nChange-Id: Ieeefd9fb4f7ab2ab1572decfcbe367dcb4035e0c\n'}, {'number': 2, 'created': '2019-05-31 09:33:34.000000000', 'files': ['networking_sfc/tests/unit/services/sfc/agent/extensions/test_sfc.py', 'networking_sfc/tests/unit/services/sfc/agent/extensions/openvswitch/test_sfc_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/0014c99fadcd18da86bf8f961336fbd03f29682c', 'message': 'Switch to native openflow implementation\n\nNeutron removed ovs_ofctl interface to manage openflows in [1],\nso networking_sfc should also stop using it and switch to\nnative implementation based on OSKen.\n\nCloses-Bug: #1831127\n\n[1] https://review.opendev.org/#/c/599496/\n\nChange-Id: Ieeefd9fb4f7ab2ab1572decfcbe367dcb4035e0c\n'}]",0,662342,0014c99fadcd18da86bf8f961336fbd03f29682c,12,7,2,11975,,,0,"Switch to native openflow implementation

Neutron removed ovs_ofctl interface to manage openflows in [1],
so networking_sfc should also stop using it and switch to
native implementation based on OSKen.

Closes-Bug: #1831127

[1] https://review.opendev.org/#/c/599496/

Change-Id: Ieeefd9fb4f7ab2ab1572decfcbe367dcb4035e0c
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/42/662342/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_sfc/tests/unit/services/sfc/agent/extensions/test_sfc.py', 'networking_sfc/tests/unit/services/sfc/agent/extensions/openvswitch/test_sfc_driver.py']",2,1bb2f0668522edbe8c904be8f88cf0ae1da929b8,bug/1831127,"from oslo_utils import importutilsfrom neutron.plugins.ml2.drivers.openvswitch.agent.openflow.native import (class SfcAgentDriverTestCase(ovs_test_base.OVSOSKenTestBase): self.dp = mock.Mock() self.ofp = importutils.import_module(""os_ken.ofproto.ofproto_v1_3"") self.ofpp = importutils.import_module( ""os_ken.ofproto.ofproto_v1_3_parser"") self.get_dp = mock.patch.object( ovs_bridge.OVSAgentBridge, ""_get_dp"", return_value=self._get_dp()) self.get_dp.start() self.install_goto = mock.patch.object( ovs_bridge.OVSAgentBridge, ""install_goto"", self.mock_add_flow) self.install_goto.start() os_ken_app = mock.Mock() ovs_bridge.OVSAgentBridge('br-int', os_ken_app=os_ken_app), ovs_bridge.OVSAgentBridge('br-tun', os_ken_app=os_ken_app)) def _get_dp(self): return self.dp, self.ofp, self.ofpp ","from neutron.plugins.ml2.drivers.openvswitch.agent.openflow.ovs_ofctl import (class SfcAgentDriverTestCase(ovs_test_base.OVSOFCtlTestBase): ovs_bridge.OVSAgentBridge('br-int'), ovs_bridge.OVSAgentBridge('br-tun'))",26,7
openstack%2Fdevstack~master~Ib916d8d2be27acca05f94ac7ce42cf75171e2212,openstack/devstack,master,Ib916d8d2be27acca05f94ac7ce42cf75171e2212,Remove nova-cells-v1 job from experimental queue,ABANDONED,2019-05-24 19:09:54.000000000,2019-06-06 16:13:50.000000000,,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-24 19:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0770d5137c1e9fb6be89251c00cce6252e59219b', 'message': ""Remove nova-cells-v1 job from experimental queue\n\nThe nova-cells-v1 job was removed from nova in the stein\nrelease with change I2031bf2cc914d134e5ed61156d2cfc621f006e0b\nso we can remove it from devstack's experimental queue.\n\nChange-Id: Ib916d8d2be27acca05f94ac7ce42cf75171e2212\n""}, {'number': 2, 'created': '2019-05-24 19:13:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/102acee1043f75935ccad41f80aceef3dda2338d', 'message': ""Remove nova-cells-v1 job from experimental queue\n\nThe nova-cells-v1 job was removed from nova in the Train\nrelease with change I2031bf2cc914d134e5ed61156d2cfc621f006e0b\nso we can remove it from devstack's experimental queue.\n\nChange-Id: Ib916d8d2be27acca05f94ac7ce42cf75171e2212\n""}]",1,661380,102acee1043f75935ccad41f80aceef3dda2338d,8,4,2,6873,,,0,"Remove nova-cells-v1 job from experimental queue

The nova-cells-v1 job was removed from nova in the Train
release with change I2031bf2cc914d134e5ed61156d2cfc621f006e0b
so we can remove it from devstack's experimental queue.

Change-Id: Ib916d8d2be27acca05f94ac7ce42cf75171e2212
",git fetch https://review.opendev.org/openstack/devstack refs/changes/80/661380/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0770d5137c1e9fb6be89251c00cce6252e59219b,nova-multi-cell,, # * nova-cells-v1: maintained by nova for cells v1 (nova-cells service); # it's in experimental here (and in nova) for testing cells v1 # changes to devstack w/o gating on it for all devstack changes. - nova-cells-v1: irrelevant-files: - ^.*\.rst$ - ^doc/.*$,0,7
openstack%2Fneutron~master~I5ce1516d38e59d3254b6f684da1384ffd1cecb50,openstack/neutron,master,I5ce1516d38e59d3254b6f684da1384ffd1cecb50,Switch to new engine facade for Route objects,MERGED,2019-05-30 17:29:31.000000000,2019-06-06 16:13:22.000000000,2019-06-06 05:27:05.000000000,"[{'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-30 17:29:31.000000000', 'files': ['neutron/objects/subnet.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a9094838a9346ceb0ed54b19646ac8dbf88d6df0', 'message': 'Switch to new engine facade for Route objects\n\nThe Route object is an OVO front for the SubnetRoute model.  Enable the\nnew Engine Facade code for this object.\n\nChange-Id: I5ce1516d38e59d3254b6f684da1384ffd1cecb50\n'}]",0,662270,a9094838a9346ceb0ed54b19646ac8dbf88d6df0,23,8,1,13995,,,0,"Switch to new engine facade for Route objects

The Route object is an OVO front for the SubnetRoute model.  Enable the
new Engine Facade code for this object.

Change-Id: I5ce1516d38e59d3254b6f684da1384ffd1cecb50
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/662270/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/objects/subnet.py'],1,a9094838a9346ceb0ed54b19646ac8dbf88d6df0,bp/enginefacade-switch, new_facade = True ,,2,0
openstack%2Ftempest~master~I786499204acdb929ee341e014bcb0459d2f27483,openstack/tempest,master,I786499204acdb929ee341e014bcb0459d2f27483,Immutable user source: Non-admin V2 and V3 tests,MERGED,2018-12-17 21:07:14.000000000,2019-06-06 16:06:09.000000000,2019-06-06 16:06:09.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-17 21:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f807b7b469f5d8eead1e70dbfc2b6e56d2f21194', 'message': 'Immutable user source: Non-admin V2 and V3 tests\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip. In [1], I introduced the config setting that allows\nthis to happen.\n\n[1] https://review.openstack.org/#/c/585536/\n\nChange-Id: I786499204acdb929ee341e014bcb0459d2f27483\nPartial-Bug: 1777047\n'}, {'number': 2, 'created': '2018-12-18 02:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ea19379436881b531cf8090b9f5fab18d16ecaaa', 'message': 'Immutable user source: Non-admin V2 and V3 tests\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip. In [1], I introduced the config setting that allows\nthis to happen.\n\n[1] https://review.openstack.org/#/c/585536/\n\nChange-Id: I786499204acdb929ee341e014bcb0459d2f27483\nPartial-Bug: 1777047\n'}, {'number': 3, 'created': '2019-05-31 22:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d78b5d43bf07e4fbf270e9046d36a1c5891a3577', 'message': 'Immutable user source: Non-admin V2 and V3 tests\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip. In [1], I introduced the config setting that allows\nthis to happen.\n\n[1] https://review.openstack.org/#/c/585536/\n\nChange-Id: I786499204acdb929ee341e014bcb0459d2f27483\nPartial-Bug: 1777047\n'}, {'number': 4, 'created': '2019-05-31 22:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/86fb719e7d07764a1465c54043ef5384ce0cde02', 'message': 'Immutable user source: Non-admin V2 and V3 tests\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip. In [1], I introduced the config setting that allows\nthis to happen.\n\n[1] https://review.openstack.org/#/c/585536/\n\nChange-Id: I786499204acdb929ee341e014bcb0459d2f27483\nPartial-Bug: 1777047\n'}, {'number': 5, 'created': '2019-05-31 23:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/28ffce8ba926cd0ddec63720b86c510be175d30f', 'message': 'Immutable user source: Non-admin V2 and V3 tests\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip. In [1], I introduced the config setting that allows\nthis to happen.\n\n[1] https://review.openstack.org/#/c/585536/\n\nChange-Id: I786499204acdb929ee341e014bcb0459d2f27483\nPartial-Bug: 1777047\n'}, {'number': 6, 'created': '2019-06-05 22:48:16.000000000', 'files': ['tempest/api/identity/v3/test_users.py', 'tempest/api/identity/v2/test_users.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c98a3254c84c00f05db63a74f26010ab80e699c6', 'message': 'Immutable user source: Non-admin V2 and V3 tests\n\nIf the keystone user source is immutable, such as an LDAP\nactive directory implementation, tempest tests that try\nto create or delete a user will fail. Instead of failing,\nwe would like them to skip. This change uses a testtools\ndecorator to avoid unnecessary modifications and allow those tests\nto skip. In [1], I introduced the config setting that allows\nthis to happen.\n\n[1] https://review.openstack.org/#/c/585536/\n\nChange-Id: I786499204acdb929ee341e014bcb0459d2f27483\nPartial-Bug: 1777047\n'}]",3,625718,c98a3254c84c00f05db63a74f26010ab80e699c6,18,5,6,23625,,,0,"Immutable user source: Non-admin V2 and V3 tests

If the keystone user source is immutable, such as an LDAP
active directory implementation, tempest tests that try
to create or delete a user will fail. Instead of failing,
we would like them to skip. This change uses a testtools
decorator to avoid unnecessary modifications and allow those tests
to skip. In [1], I introduced the config setting that allows
this to happen.

[1] https://review.openstack.org/#/c/585536/

Change-Id: I786499204acdb929ee341e014bcb0459d2f27483
Partial-Bug: 1777047
",git fetch https://review.opendev.org/openstack/tempest refs/changes/18/625718/5 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/identity/v3/test_users.py', 'tempest/api/identity/v2/test_users.py']",2,f807b7b469f5d8eead1e70dbfc2b6e56d2f21194,bug/1777047,"import testtools @testtools.skipIf(CONF.identity_feature_enabled.immutable_user_source, 'Skipped because environment has an ' 'immutable user source and solely ' 'provides read-only access to users.')",,10,0
openstack%2Fopenstack-ansible-os_ironic~master~I08bde61baa956dfb190895b1d29ff3ff9df6ff91,openstack/openstack-ansible-os_ironic,master,I08bde61baa956dfb190895b1d29ff3ff9df6ff91,db_setup: refactor database setup to a common file,MERGED,2019-06-04 02:32:18.000000000,2019-06-06 16:04:25.000000000,2019-06-06 16:04:25.000000000,"[{'_account_id': 1004}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 02:32:18.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/ironic_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/d9dfa325c55ecde3f015a3efd978431a6b4369b1', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: I08bde61baa956dfb190895b1d29ff3ff9df6ff91\n'}]",1,662907,d9dfa325c55ecde3f015a3efd978431a6b4369b1,8,3,1,28008,,,0,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Change-Id: I08bde61baa956dfb190895b1d29ff3ff9df6ff91
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/07/662907/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/ironic_db_setup.yml']",3,d9dfa325c55ecde3f015a3efd978431a6b4369b1,osa/db-refactor,,"- name: Create DB for service mysql_db: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ ironic_galera_address }}"" name: ""{{ ironic_galera_database }}"" state: ""present"" delegate_to: ""{{ ironic_db_setup_host }}"" no_log: True - name: Grant access to the DB for the service mysql_user: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ ironic_galera_address }}"" name: ""{{ ironic_galera_user }}"" password: ""{{ ironic_container_mysql_password }}"" host: ""{{ item }}"" state: ""present"" priv: ""{{ ironic_galera_database }}.*:ALL"" delegate_to: ""{{ ironic_db_setup_host }}"" with_items: - ""localhost"" - ""%"" no_log: True ",75,45
openstack%2Felection~master~Ibae6644d9a11aa8ebeaac525706f24c3756778cd,openstack/election,master,Ibae6644d9a11aa8ebeaac525706f24c3756778cd,Allow for multiple events to overlap,MERGED,2019-05-28 05:09:20.000000000,2019-06-06 15:47:26.000000000,2019-06-06 15:47:26.000000000,"[{'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-28 05:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/5cecf9f494f9a9b9c615ebcb917f6336650fd3e2', 'message': 'Allow for multiple events to overlap\n\nCurrently the javascript only allows for a single event to be\n""Current"", add an additional check so we can have multiple events that\nare current.\n\nAn alternate approach would be to use a generic \'Nominations\' event but\nthis would require more change across multiple tools.\n\nChange-Id: Ibae6644d9a11aa8ebeaac525706f24c3756778cd\n'}, {'number': 2, 'created': '2019-05-28 05:53:11.000000000', 'files': ['doc/source/_static/event_timer.js'], 'web_link': 'https://opendev.org/openstack/election/commit/45d6d582e8a1ac153cf75dd163950fe77519d929', 'message': 'Allow for multiple events to overlap\n\nCurrently the javascript only allows for a single event to be\n""Current"", add an additional check so we can have multiple events that\nare current.\n\nAn alternate approach would be to use a generic \'Nominations\' event but\nthis would require more change across multiple tools.\n\nChange-Id: Ibae6644d9a11aa8ebeaac525706f24c3756778cd\n'}]",0,661672,45d6d582e8a1ac153cf75dd163950fe77519d929,9,3,2,12898,,,0,"Allow for multiple events to overlap

Currently the javascript only allows for a single event to be
""Current"", add an additional check so we can have multiple events that
are current.

An alternate approach would be to use a generic 'Nominations' event but
this would require more change across multiple tools.

Change-Id: Ibae6644d9a11aa8ebeaac525706f24c3756778cd
",git fetch https://review.opendev.org/openstack/election refs/changes/72/661672/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_static/event_timer.js'],1,5cecf9f494f9a9b9c615ebcb917f6336650fd3e2,feature/combined-election-type," else if (now > current_event_start && now < current_event_end) { set_event_status(current_event.name, 'Current'); }",,3,0
openstack%2Felection~master~Id39c50e71dc91bea8034ce443287463094e2f37f,openstack/election,master,Id39c50e71dc91bea8034ce443287463094e2f37f,Add new combined election type,MERGED,2019-05-28 05:09:20.000000000,2019-06-06 15:47:03.000000000,2019-06-06 15:47:03.000000000,"[{'_account_id': 5263}, {'_account_id': 6088}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-28 05:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/1df7e8f6855530e6dccac10f2001352b28244bbc', 'message': 'Add new combined election type\n\nThis type is for when TC and PTL elections must overlap.  There is a\nbuilt in assumption that each ""phase"" of an election:\n - Nominations\n - Campaigning\n - Election\n\nare completely synchronous\n\nNOTE: This change leaves the template-emails broken, as I do not add new\nfunctions for combined_$email.  This is because I\'d like to\nIf64c075b4a799574bc51ccd13019d472ee9a4b0e merge first, and I\'d also like\nto avoid to many rebases\n\nChange-Id: Id39c50e71dc91bea8034ce443287463094e2f37f\n'}, {'number': 2, 'created': '2019-05-28 05:53:11.000000000', 'files': ['openstack_election/cmds/check_all_candidacies.py', 'openstack_election/cmds/render_statistics.py', '.gitignore', 'doc/source/_exts/combined.jinja', 'openstack_election/cmds/ci_check_all_candidate_files.py', 'openstack_election/tests/test_utils.py', 'openstack_election/utils.py', 'openstack_election/cmds/template_emails.py', 'doc/source/_exts/candidates.py'], 'web_link': 'https://opendev.org/openstack/election/commit/c6406fdbd537b423ce97b8498981b80303654305', 'message': 'Add new combined election type\n\nThis type is for when TC and PTL elections must overlap.  There is a\nbuilt in assumption that each ""phase"" of an election:\n - Nominations\n - Campaigning\n - Election\n\nare completely synchronous\n\nNOTE: This change leaves the template-emails broken, as I do not add new\nfunctions for combined_$email.  This is because I\'d like to\nIf64c075b4a799574bc51ccd13019d472ee9a4b0e merge first, and I\'d also like\nto avoid to many rebases\n\nChange-Id: Id39c50e71dc91bea8034ce443287463094e2f37f\n'}]",0,661671,c6406fdbd537b423ce97b8498981b80303654305,9,3,2,12898,,,0,"Add new combined election type

This type is for when TC and PTL elections must overlap.  There is a
built in assumption that each ""phase"" of an election:
 - Nominations
 - Campaigning
 - Election

are completely synchronous

NOTE: This change leaves the template-emails broken, as I do not add new
functions for combined_$email.  This is because I'd like to
If64c075b4a799574bc51ccd13019d472ee9a4b0e merge first, and I'd also like
to avoid to many rebases

Change-Id: Id39c50e71dc91bea8034ce443287463094e2f37f
",git fetch https://review.opendev.org/openstack/election refs/changes/71/661671/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_election/cmds/check_all_candidacies.py', 'openstack_election/cmds/render_statistics.py', '.gitignore', 'doc/source/_exts/combined.jinja', 'openstack_election/cmds/ci_check_all_candidate_files.py', 'openstack_election/cmds/template_emails.py', 'openstack_election/utils.py', 'doc/source/_exts/candidates.py']",8,1df7e8f6855530e6dccac10f2001352b28244bbc,feature/combined-election-type," election_type = utils.conf.get('election_type', '').lower() render_list(election_type, candidates_list) election_type = utils.conf.get('election_type', '').lower() rst = '.. include:: %s.rst' % (election_type)"," if not utils.is_tc_election(): render_list(""ptl"", candidates_list) else: render_list(""tc"", candidates_list) rst = '.. include:: ' if utils.is_tc_election(): rst += 'tc.rst' else: rst += 'ptl.rst' ",55,17
openstack%2Fgovernance~master~If1173779525d0c247b3d3367f0e14de27ad2985e,openstack/governance,master,If1173779525d0c247b3d3367f0e14de27ad2985e,tools: add retired-on check,MERGED,2019-05-27 07:40:31.000000000,2019-06-06 15:45:01.000000000,2019-06-06 15:45:01.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 8099}, {'_account_id': 10607}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-27 07:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/9dbf7cf7e7d1e1f742012c1362c80eac45adc67d', 'message': ""tools: add retired-on check\n\nWe don't currently do any linting at all for the legacy projects,\nthis patch adds some basic linting.\n\nChange-Id: If1173779525d0c247b3d3367f0e14de27ad2985e\n""}, {'number': 2, 'created': '2019-05-27 08:02:57.000000000', 'files': ['tools/validate_repositories.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/a2a884c03dd50674ad9cfd98210a361d7c8e455c', 'message': ""tools: add retired-on check\n\nWe don't currently do any linting at all for the legacy projects,\nthis patch adds some basic linting.\n\nChange-Id: If1173779525d0c247b3d3367f0e14de27ad2985e\n""}]",2,661552,a2a884c03dd50674ad9cfd98210a361d7c8e455c,16,7,2,1004,,,0,"tools: add retired-on check

We don't currently do any linting at all for the legacy projects,
this patch adds some basic linting.

Change-Id: If1173779525d0c247b3d3367f0e14de27ad2985e
",git fetch https://review.opendev.org/openstack/governance refs/changes/52/661552/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/validate_repositories.py'],1,9dbf7cf7e7d1e1f742012c1362c80eac45adc67d,code-change," '-l', '--legacy-projects', default='./reference/legacy.yaml', help='legact.yaml file path (%(default)s)' ) parser.add_argument(with open(args.legacy_projects, 'r', encoding='utf-8') as f: legacy_projects = yaml.safe_load(f.read())for team_name, team_data in legacy_projects.items(): # Check if the team has been retired if 'retired-on' in team_data: continue deliverables = team_data.get('deliverables') # Team has no deliverables, retired with no retired-on date if not deliverables: print('{} team has no deliverables with no retired-on date'.format( team_name )) errors += 1 continue # In this case, team is not retired but has retired projects for deliverable_name, deliverable_data in deliverables.items(): # Retired-on date missing for a deliverable if 'retired-on' not in deliverable_data: print('{} is missing a retired-on date'.format(deliverable_name)) errors += 1 continue ",,30,1
openstack%2Fgovernance~master~If9cb0a77c5d9365fb9aa4b998a0bacc75b2042e0,openstack/governance,master,If9cb0a77c5d9365fb9aa4b998a0bacc75b2042e0,linters: Fix missing retired-on dates,MERGED,2019-05-27 07:51:54.000000000,2019-06-06 15:45:00.000000000,2019-06-06 15:45:00.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 8099}, {'_account_id': 10607}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-27 07:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/d4fe890c3e8d789ca0fdc5d642defade9fca38d7', 'message': 'linters: Fix missing retired-on dates\n\nThere are a few projects that have been retired without\na retired-on date, this patch fixes them so they pass\nthe new gating on this:\n\n- Charms[0]\n- OpenStack UX[1]\n- RefStack[2]\n\n[0]: https://review.opendev.org/411217\n[1]: https://review.opendev.org/437957\n[2]: https://review.opendev.org/590179\n\nChange-Id: If9cb0a77c5d9365fb9aa4b998a0bacc75b2042e0\n'}, {'number': 2, 'created': '2019-05-27 07:57:41.000000000', 'files': ['reference/legacy.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/5ae8e3d962dd0b8da623b1d32fb1027475a74bc1', 'message': 'linters: Fix missing retired-on dates\n\nThere are a few projects that have been retired without\na retired-on date, this patch fixes them so they pass\nthe new gating on this:\n\n- Charms[0][1]\n- OpenStack UX[2]\n- RefStack[3]\n\n[0]: https://review.opendev.org/411217\n[1]: https://review.opendev.org/596746\n[2]: https://review.opendev.org/437957\n[3]: https://review.opendev.org/590179\n\nChange-Id: If9cb0a77c5d9365fb9aa4b998a0bacc75b2042e0\n'}]",0,661555,5ae8e3d962dd0b8da623b1d32fb1027475a74bc1,15,8,2,1004,,,0,"linters: Fix missing retired-on dates

There are a few projects that have been retired without
a retired-on date, this patch fixes them so they pass
the new gating on this:

- Charms[0][1]
- OpenStack UX[2]
- RefStack[3]

[0]: https://review.opendev.org/411217
[1]: https://review.opendev.org/596746
[2]: https://review.opendev.org/437957
[3]: https://review.opendev.org/590179

Change-Id: If9cb0a77c5d9365fb9aa4b998a0bacc75b2042e0
",git fetch https://review.opendev.org/openstack/governance refs/changes/55/661555/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/legacy.yaml'],1,d4fe890c3e8d789ca0fdc5d642defade9fca38d7,project-update, retired-on: 2016-12-21 retired-on: 2016-12-21 retired-on: 2016-12-21 retired-on: 2016-12-21 retired-on: 2017-02-24 retired-on: 2018-08-10,,6,0
openstack%2Fgovernance~master~I548707b8fab1527f084b6cbddbe17b5c3e155d8e,openstack/governance,master,I548707b8fab1527f084b6cbddbe17b5c3e155d8e,Appointment of a new Vitrage PTL,MERGED,2019-05-22 05:38:03.000000000,2019-06-06 15:45:00.000000000,2019-06-06 15:44:59.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 1736}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 8099}, {'_account_id': 10607}, {'_account_id': 12404}, {'_account_id': 17068}, {'_account_id': 19134}, {'_account_id': 19184}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-22 05:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/b481baf321064c5cc045e1d4b8b726314265205d', 'message': 'Appointment of a new Vitrage PTL\n\nPropose Eyal Bar-Ilan as the new PTL of Vitrage\n\nChange-Id: I548707b8fab1527f084b6cbddbe17b5c3e155d8e\n'}, {'number': 2, 'created': '2019-05-22 05:44:15.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/8b7776190d81ce1bf554fa991703055dbdaf4e8f', 'message': 'Appointment of a new Vitrage PTL\n\nPropose Eyal Bar-Ilan as the new PTL of Vitrage\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-May/006480.html\n\nChange-Id: I548707b8fab1527f084b6cbddbe17b5c3e155d8e\n'}]",0,660563,8b7776190d81ce1bf554fa991703055dbdaf4e8f,20,13,2,19159,,,0,"Appointment of a new Vitrage PTL

Propose Eyal Bar-Ilan as the new PTL of Vitrage

http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006480.html

Change-Id: I548707b8fab1527f084b6cbddbe17b5c3e155d8e
",git fetch https://review.opendev.org/openstack/governance refs/changes/63/660563/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,b481baf321064c5cc045e1d4b8b726314265205d,project-update, name: Eyal Bar-Ilan irc: eyalb email: eyal.bar-ilan@nokia.com, name: Ifat Afek irc: ifat_afek email: ifat.afek@nokia.com,3,3
openstack%2Ftempest~master~I64b389032472447aa3a3d38e081f9a2b000847be,openstack/tempest,master,I64b389032472447aa3a3d38e081f9a2b000847be,Remove some deprecated auth and identity options,MERGED,2019-06-06 07:13:10.000000000,2019-06-06 15:40:43.000000000,2019-06-06 15:40:43.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 07:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/085de3a1b302340680bb2bec091fdd9e11ab22ff', 'message': ""Remove some deprecated ide ntity options\n\nBelow options are deprecated on 2015, so it's safe to delete them now.\n  * identity.endpoint_type\n  * auth.tenant_isolation_domain_name\n\nChange-Id: I64b389032472447aa3a3d38e081f9a2b000847be\n""}, {'number': 2, 'created': '2019-06-06 07:36:35.000000000', 'files': ['releasenotes/notes/remove-some-deprecated-auth-and-identity-options-xa1xd9b8fb948g4f.yaml', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f4d359245442507d6647a9efdb045f03d0757b01', 'message': ""Remove some deprecated auth and identity options\n\nBelow options are deprecated on 2015, in 87fc7e9ac0efa9fbe883d4f9375c06a94396b75d\nand c786213f95132df27b439c397c88ca2cb0d69390,\nso it's safe to delete them now.\n  * identity.endpoint_type\n  * auth.tenant_isolation_domain_name\n\nChange-Id: I64b389032472447aa3a3d38e081f9a2b000847be\n""}]",4,663526,f4d359245442507d6647a9efdb045f03d0757b01,10,4,2,20190,,,0,"Remove some deprecated auth and identity options

Below options are deprecated on 2015, in 87fc7e9ac0efa9fbe883d4f9375c06a94396b75d
and c786213f95132df27b439c397c88ca2cb0d69390,
so it's safe to delete them now.
  * identity.endpoint_type
  * auth.tenant_isolation_domain_name

Change-Id: I64b389032472447aa3a3d38e081f9a2b000847be
",git fetch https://review.opendev.org/openstack/tempest refs/changes/26/663526/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-some-deprecated-auth-and-identity-options-xa1xd9b8fb948g4f.yaml', 'tempest/config.py']",2,085de3a1b302340680bb2bec091fdd9e11ab22ff,deprecated," ""This is the name keystone uses for v2 compatibility.""), ""(Keystone) API v2""),"," ""This is the name keystone uses for v2 compatibility."", deprecated_opts=[cfg.DeprecatedOpt( 'tenant_isolation_domain_name', group='auth')]), ""(Keystone) API v2"", deprecated_opts=[cfg.DeprecatedOpt('endpoint_type', group='identity')]),",10,7
openstack%2Fgovernance~master~I7f9fc28efaa194fb890a0ceb3f590b6f5f793d11,openstack/governance,master,I7f9fc28efaa194fb890a0ceb3f590b6f5f793d11,Retire castellan-ui,MERGED,2019-05-29 19:45:22.000000000,2019-06-06 15:28:38.000000000,2019-06-06 15:28:38.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 6547}, {'_account_id': 7973}, {'_account_id': 8099}, {'_account_id': 10607}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 19:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/52a3e95686c0f7780d3601fd80a91c7bdee81bd2', 'message': 'Retire castellan-ui\n\ncastellan-ui is being retired. [1]  This patch removes the repository\nfrom Governance (Step 5 in [2]).\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006509.html\n[2] https://docs.openstack.org/infra/manual/drivers.html#retiring-a-project\n\nChange-Id: I7f9fc28efaa194fb890a0ceb3f590b6f5f793d11\n'}, {'number': 2, 'created': '2019-05-29 20:11:40.000000000', 'files': ['reference/legacy.yaml', 'reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/482d2c6836c6e87043336a452496b5563403e42c', 'message': 'Retire castellan-ui\n\ncastellan-ui is being retired. [1]  This patch removes the repository\nfrom Governance (Step 5 in [2]).\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006509.html\n[2] https://docs.openstack.org/infra/manual/drivers.html#retiring-a-project\n\nChange-Id: I7f9fc28efaa194fb890a0ceb3f590b6f5f793d11\n'}]",0,662077,482d2c6836c6e87043336a452496b5563403e42c,21,10,2,7973,,,0,"Retire castellan-ui

castellan-ui is being retired. [1]  This patch removes the repository
from Governance (Step 5 in [2]).

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006509.html
[2] https://docs.openstack.org/infra/manual/drivers.html#retiring-a-project

Change-Id: I7f9fc28efaa194fb890a0ceb3f590b6f5f793d11
",git fetch https://review.opendev.org/openstack/governance refs/changes/77/662077/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/legacy.yaml', 'reference/projects.yaml']",2,52a3e95686c0f7780d3601fd80a91c7bdee81bd2,project-update,, castellan-ui: repos: - openstack/castellan-ui tags: - vulnerability:managed,9,5
openstack%2Fmonasca-api~master~I58e523c47ced7efe2f6359d2293defd8d5f205ff,openstack/monasca-api,master,I58e523c47ced7efe2f6359d2293defd8d5f205ff,Upgrade InfluxDB to version 1.4.3,ABANDONED,2019-01-22 14:29:07.000000000,2019-06-06 15:26:22.000000000,,"[{'_account_id': 7102}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-22 14:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/7d994ac2b93d4524ee9d0f3f7ce28dcac092550b', 'message': 'Upgrade InfluxDB to version 1.5.5\n\nChange-Id: I58e523c47ced7efe2f6359d2293defd8d5f205ff\n'}, {'number': 2, 'created': '2019-01-23 13:41:27.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/9e0815cb9a800103a67cbabebad8c1c2ad9f0328', 'message': 'Upgrade InfluxDB to version 1.4.3\n\nChange-Id: I58e523c47ced7efe2f6359d2293defd8d5f205ff\n'}]",1,632475,9e0815cb9a800103a67cbabebad8c1c2ad9f0328,13,4,2,16222,,,0,"Upgrade InfluxDB to version 1.4.3

Change-Id: I58e523c47ced7efe2f6359d2293defd8d5f205ff
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/75/632475/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,7d994ac2b93d4524ee9d0f3f7ce28dcac092550b,inxluxdb,INFLUXDB_PYTHON_VERSION=${INFLUXDB_PYTHON_VERSION:-1.5.5},INFLUXDB_PYTHON_VERSION=${INFLUXDB_PYTHON_VERSION:-1.3.9},1,1
openstack%2Fmonasca-api~master~I0fc213dd3ea9f3b1f3f53f20a7149b2142846195,openstack/monasca-api,master,I0fc213dd3ea9f3b1f3f53f20a7149b2142846195,DNM: Raise influxdb version to 1.4.3,ABANDONED,2019-03-16 18:23:13.000000000,2019-06-06 15:25:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-16 18:23:13.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/c21f6953d7d7e641c239db76dcc708f936d90b70', 'message': 'DNM: Raise influxdb version to 1.4.3\n\nChange-Id: I0fc213dd3ea9f3b1f3f53f20a7149b2142846195\n'}]",0,643708,c21f6953d7d7e641c239db76dcc708f936d90b70,3,1,1,6593,,,0,"DNM: Raise influxdb version to 1.4.3

Change-Id: I0fc213dd3ea9f3b1f3f53f20a7149b2142846195
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/08/643708/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,c21f6953d7d7e641c239db76dcc708f936d90b70,,INFLUXDB_PYTHON_VERSION=${INFLUXDB_PYTHON_VERSION:-1.4.3},INFLUXDB_PYTHON_VERSION=${INFLUXDB_PYTHON_VERSION:-1.3.9},1,1
openstack%2Fnetworking-ovn~stable%2Fstein~I406204fc751387c02517286c87fe45533d70b93d,openstack/networking-ovn,stable/stein,I406204fc751387c02517286c87fe45533d70b93d,Floating IP does not work with VLAN tenant networks,MERGED,2019-05-28 15:01:24.000000000,2019-06-06 15:20:48.000000000,2019-06-06 15:20:48.000000000,"[{'_account_id': 5367}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 20147}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-05-28 15:01:24.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2daf80449a8eddc6c9dc78a11f9b208cdb6ff608', 'message': ""Floating IP does not work with VLAN tenant networks\n\nWhen trying to use the Floating IP address of an instance\nin a OVN-DVR setup while using VLAN tenant network type\nthe traffic does not pass. This is because of limitations\nwith VLAN tenant network types, which doesn't support\ndistributed VLAN routing.\n\nThe problem is the external_mac should not be set in the\nNAT table for the Floating IP which belongs to the logical\nport of a VLAN tenant logical switch. Otherwise, the compute\nnode which is binding the logical port will send the GARP\nwhere as the routing for VLAN tenant networks is centralized.\n\nChange-Id: I406204fc751387c02517286c87fe45533d70b93d\nCloses-bug: #1828891\n(cherry picked from commit c5aef51edc9843db605303ec8bd8610b6c55e9c2)\n""}]",0,661778,2daf80449a8eddc6c9dc78a11f9b208cdb6ff608,11,7,1,1131,,,0,"Floating IP does not work with VLAN tenant networks

When trying to use the Floating IP address of an instance
in a OVN-DVR setup while using VLAN tenant network type
the traffic does not pass. This is because of limitations
with VLAN tenant network types, which doesn't support
distributed VLAN routing.

The problem is the external_mac should not be set in the
NAT table for the Floating IP which belongs to the logical
port of a VLAN tenant logical switch. Otherwise, the compute
node which is binding the logical port will send the GARP
where as the routing for VLAN tenant networks is centralized.

Change-Id: I406204fc751387c02517286c87fe45533d70b93d
Closes-bug: #1828891
(cherry picked from commit c5aef51edc9843db605303ec8bd8610b6c55e9c2)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/78/661778/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py']",2,2daf80449a8eddc6c9dc78a11f9b208cdb6ff608,bug/1828891-stable/stein," gp.return_value = {'mac_address': '00:01:02:03:04:05', 'network_id': 'port-network-id'} @mock.patch('neutron.db.db_base_plugin_v2.NeutronDbPluginV2.get_network') def _test_update_floatingip_associate_distributed(self, network_type, uf, gf, gp, gn): gp.return_value = {'mac_address': '00:01:02:03:04:05', 'network_id': 'port-network-id'} fake_network_vlan = self.fake_network fake_network_vlan[pnet.NETWORK_TYPE] = network_type gn.return_value = fake_network_vlan if network_type == constants.TYPE_VLAN: self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-new-router-id', type='dnat_and_snat', logical_ip='10.10.10.10', external_ip='192.168.0.10', logical_port='new-port_id', external_ids=expected_ext_ids) else: self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-new-router-id', type='dnat_and_snat', logical_ip='10.10.10.10', external_ip='192.168.0.10', external_mac='00:01:02:03:04:05', logical_port='new-port_id', external_ids=expected_ext_ids) def test_update_floatingip_associate_distributed_flat(self): self._test_update_floatingip_associate_distributed(constants.TYPE_FLAT) def test_update_floatingip_associate_distributed_vlan(self): self._test_update_floatingip_associate_distributed(constants.TYPE_VLAN)"," gp.return_value = {'mac_address': '00:01:02:03:04:05'} def test_update_floatingip_associate_distributed(self, uf, gf, gp): gp.return_value = {'mac_address': '00:01:02:03:04:05'} self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-new-router-id', type='dnat_and_snat', logical_ip='10.10.10.10', external_ip='192.168.0.10', external_mac='00:01:02:03:04:05', logical_port='new-port_id', external_ids=expected_ext_ids)",33,9
openstack%2Fopenstacksdk~master~I53854ddcb86b92acdb64fabeb1de4ea4907c4a21,openstack/openstacksdk,master,I53854ddcb86b92acdb64fabeb1de4ea4907c4a21,Support skipping unknown QP,MERGED,2019-06-03 07:47:01.000000000,2019-06-06 15:08:31.000000000,2019-06-06 15:08:31.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-03 07:47:01.000000000', 'files': ['openstack/tests/unit/test_resource.py', 'openstack/resource.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/38847204f939956cbef95fa77d605334bffff734', 'message': 'Support skipping unknown QP\n\nIn the cloud layer we receive multiple filters. We would like to pass as \nmuch filters as possible to the server to reduce response size. For this \nwe need to know which QPs are supported by the given resource. Add \nsupport for passing everything given to the Resource.list function and \nsilently skipping unknown parameters. This is not going to be a default \nbehavior, but primarily used from cloud layer.\n\nChange-Id: I53854ddcb86b92acdb64fabeb1de4ea4907c4a21\n'}]",2,662698,38847204f939956cbef95fa77d605334bffff734,8,3,1,27900,,,0,"Support skipping unknown QP

In the cloud layer we receive multiple filters. We would like to pass as 
much filters as possible to the server to reduce response size. For this 
we need to know which QPs are supported by the given resource. Add 
support for passing everything given to the Resource.list function and 
silently skipping unknown parameters. This is not going to be a default 
behavior, but primarily used from cloud layer.

Change-Id: I53854ddcb86b92acdb64fabeb1de4ea4907c4a21
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/98/662698/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/test_resource.py', 'openstack/resource.py']",2,38847204f939956cbef95fa77d605334bffff734,resource_layer," def _validate(self, query, base_path=None, allow_unknown_params=False): client-side parameter name or server side name. the resource. : param allow_unknown_params: Exclude query params not known by the resource. :returns: Filtered collection of the supported QueryParameters if not invalid_keys: return query else: if not allow_unknown_params: raise exceptions.InvalidResourceQuery( message=""Invalid query params: %s"" % "","".join(invalid_keys), extra_data=invalid_keys) else: known_keys = set(query.keys()).intersection( set(expected_params)) return {k: query[k] for k in known_keys} def list(cls, session, paginated=True, base_path=None, allow_unknown_params=False, **params): a paginated series of responses, or ``False`` if a GET returns only one page of data. **When paginated is False only one page of data will be returned regardless of the API's support of pagination.** different from :data:`~openstack.resource.Resource.base_path`. :param bool allow_unknown_params: ``True`` to accept, but discard unknown query parameters. This allows getting list of 'filters' and passing everything known to the server. ``False`` will result in validation exception when unknown query parameters are passed. params = cls._query_mapping._validate( params, base_path=base_path, allow_unknown_params=allow_unknown_params)"," def _validate(self, query, base_path=None): client-side parameter name or server side name. the resource. if invalid_keys: raise exceptions.InvalidResourceQuery( message=""Invalid query params: %s"" % "","".join(invalid_keys), extra_data=invalid_keys) def list(cls, session, paginated=True, base_path=None, **params): a paginated series of responses, or ``False`` if a GET returns only one page of data. **When paginated is False only one page of data will be returned regardless of the API's support of pagination.** different from :data:`~openstack.resource.Resource.base_path`. cls._query_mapping._validate(params, base_path=base_path)",61,16
openstack%2Frpm-packaging~master~Iaf436a986d562643d3f49ea7eaed24669f9551f6,openstack/rpm-packaging,master,Iaf436a986d562643d3f49ea7eaed24669f9551f6,Fix: Tempest is failing when octavia is intalled.,ABANDONED,2019-06-03 14:28:37.000000000,2019-06-06 14:46:28.000000000,,"[{'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-03 14:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/29768af2f350c068379ba161ff6ecdefbf85d84b', 'message': ""Fix: Tempest is failing when octavia is intalled.\n\nCould not load 'octavia': No module named octavia_tempest_plugin\nNo module named octavia_tempest_plugin\n\nThere is an entry point pointing to the tests of the package\nopenstack-octavia-test. These tests are replaced by the ones in the\npackage python-octavia-tempest-plugin\n\nChange-Id: Iaf436a986d562643d3f49ea7eaed24669f9551f6\n""}, {'number': 2, 'created': '2019-06-04 14:24:26.000000000', 'files': ['openstack/octavia-lib/octavia-lib.spec.j2', 'openstack/octavia-lib/0002-remove-tempest-entry-point.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a10c488fe6a948c46b577bf5ae2d09460c2ba57b', 'message': ""Fix: Tempest is failing when octavia is intalled.\n\nCould not load 'octavia': No module named octavia_tempest_plugin\nNo module named octavia_tempest_plugin\n\nThere is an entry point pointing to the tests of the package\nopenstack-octavia-test. These tests are replaced by the ones in the\npackage python-octavia-tempest-plugin\n\nChange-Id: Iaf436a986d562643d3f49ea7eaed24669f9551f6\n""}]",0,662768,a10c488fe6a948c46b577bf5ae2d09460c2ba57b,10,4,2,29830,,,0,"Fix: Tempest is failing when octavia is intalled.

Could not load 'octavia': No module named octavia_tempest_plugin
No module named octavia_tempest_plugin

There is an entry point pointing to the tests of the package
openstack-octavia-test. These tests are replaced by the ones in the
package python-octavia-tempest-plugin

Change-Id: Iaf436a986d562643d3f49ea7eaed24669f9551f6
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/68/662768/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/octavia-lib/octavia-lib.spec.j2', 'openstack/octavia-lib/0002-remove-tempest-entry-point.patch']",2,29768af2f350c068379ba161ff6ecdefbf85d84b,remove-tempest-entry-point-rocky,"diff -ruN octavia-3.1.1.dev5/octavia.egg-info/entry_points.txt octavia-3.1.1.dev5.new/octavia.egg-info/entry_points.txt --- ./octavia.egg-info/entry_points.txt 2019-05-14 03:56:52.000000000 +0200 +++ ./octavia.egg-info/entry_points.txt 2019-05-28 12:35:04.088462256 +0200 @@ -72,9 +72,6 @@ [oslo.policy.policies] octavia = octavia.policies:list_rules -[tempest.test_plugins] -octavia = octavia.tests.tempest.plugin:OctaviaTempestPlugin - [wsgi_scripts] octavia-wsgi = octavia.api.app:setup_app diff -ruN octavia-3.1.1.dev5/setup.cfg octavia-3.1.1.dev5.new/setup.cfg --- ./setup.cfg 2019-05-14 03:56:52.000000000 +0200 +++ ./setup.cfg 2019-05-28 12:35:51.780839403 +0200 @@ -96,8 +96,6 @@ hot_plug_plugin = octavia.controller.worker.controller_worker:ControllerWorker oslo.config.opts = octavia = octavia.opts:list_opts -tempest.test_plugins = - octavia = octavia.tests.tempest.plugin:OctaviaTempestPlugin oslo.policy.policies = octavia = octavia.policies:list_rules oslo.policy.enforcer = ",,27,0
openstack%2Fopenstacksdk~master~I73a4056142d7aa396f6929ddfac2edfe5e06fffc,openstack/openstacksdk,master,I73a4056142d7aa396f6929ddfac2edfe5e06fffc,WIP Plumb service disabling into Connection adapters,ABANDONED,2019-06-05 21:23:04.000000000,2019-06-06 14:35:00.000000000,,"[{'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 21:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5f1b1965ecbb50ad7b812756821bd44f64ebfc71', 'message': 'WIP Plumb service disabling into Connection adapters\n\nIf someone sets has_{service_type} to false in their config, we\nshould remove the adapter for that service and replace it with\nsomething that throws errors when people try to use it.\n\nChange-Id: I73a4056142d7aa396f6929ddfac2edfe5e06fffc\n'}, {'number': 2, 'created': '2019-06-05 22:03:44.000000000', 'files': ['openstack/config/cloud_region.py', 'openstack/cloud/openstackcloud.py', 'openstack/service_description.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a2797727ee87d2195f360caaa4bce67f6cf9fd72', 'message': 'WIP Plumb service disabling into Connection adapters\n\nIf someone sets has_{service_type} to false in their config, we\nshould remove the adapter for that service and replace it with\nsomething that throws errors when people try to use it.\n\nChange-Id: I73a4056142d7aa396f6929ddfac2edfe5e06fffc\n'}]",2,663435,a2797727ee87d2195f360caaa4bce67f6cf9fd72,7,2,2,2,,,0,"WIP Plumb service disabling into Connection adapters

If someone sets has_{service_type} to false in their config, we
should remove the adapter for that service and replace it with
something that throws errors when people try to use it.

Change-Id: I73a4056142d7aa396f6929ddfac2edfe5e06fffc
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/35/663435/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/config/cloud_region.py', 'openstack/cloud/openstackcloud.py', 'openstack/service_description.py']",3,5f1b1965ecbb50ad7b812756821bd44f64ebfc71,, if not config.has_service(self.service_type): # TODO(mordred) Return a class that throws exceptions when # someone tries to use it. return None ,,25,1
openstack%2Ftripleo-heat-templates~master~Ib63daeeacc3b6f8542fc7931b98b722949a5f802,openstack/tripleo-heat-templates,master,Ib63daeeacc3b6f8542fc7931b98b722949a5f802,[WIP] Add support for the Mistral notifier services,ABANDONED,2018-07-23 12:46:34.000000000,2019-06-06 14:34:58.000000000,,"[{'_account_id': 7065}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-23 12:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/219b3cd45a2330594a872bef1fb9086abe13b6f8', 'message': ""[WIP] Add support for the Mistral notifier services\n\nThis isn't planned for Rocy, but experimentation for Stein.\n\nI don't really know what I am doing here, this is a guess based on how\nthe other Mistral services seem to be setup. Likely missing something.\n\nDepends-On: https://review.openstack.org/#/c/547666/\nChange-Id: Ib63daeeacc3b6f8542fc7931b98b722949a5f802\n""}, {'number': 2, 'created': '2018-07-31 13:59:26.000000000', 'files': ['environments/docker-uc-light.yaml', 'puppet/services/mistral-notifier.yaml', 'environments/services-baremetal/mistral.yaml', 'docker/services/mistral-notifier.yaml', 'environments/services/mistral.yaml', 'ci/environments/scenario003-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1dd85ad048daf7926347d7eb3360d43caf6d1fb', 'message': ""[WIP] Add support for the Mistral notifier services\n\nThis isn't planned for Rocy, but experimentation for Stein.\n\nI don't really know what I am doing here, this is a guess based on how\nthe other Mistral services seem to be setup. Likely missing something.\n\nDepends-On: https://review.rdoproject.org/r/15090\nDepends-On: https://review.openstack.org/#/c/547666/\nChange-Id: Ib63daeeacc3b6f8542fc7931b98b722949a5f802\n""}]",0,584853,c1dd85ad048daf7926347d7eb3360d43caf6d1fb,8,3,2,9712,,,0,"[WIP] Add support for the Mistral notifier services

This isn't planned for Rocy, but experimentation for Stein.

I don't really know what I am doing here, this is a guess based on how
the other Mistral services seem to be setup. Likely missing something.

Depends-On: https://review.rdoproject.org/r/15090
Depends-On: https://review.openstack.org/#/c/547666/
Change-Id: Ib63daeeacc3b6f8542fc7931b98b722949a5f802
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/584853/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/docker-uc-light.yaml', 'puppet/services/mistral-notifier.yaml', 'environments/services-baremetal/mistral.yaml', 'docker/services/mistral-notifier.yaml', 'environments/services/mistral.yaml', 'ci/environments/scenario003-multinode-containers.yaml']",6,219b3cd45a2330594a872bef1fb9086abe13b6f8,, OS::TripleO::Services::MistralEventEngine: ../../docker/services/mistral-notifier.yaml,,257,0
openstack%2Fmistral~master~I9c711c8e94531a4c97cc8608055a389b26820afa,openstack/mistral,master,I9c711c8e94531a4c97cc8608055a389b26820afa,Remove the deprecated json_pp YAQL/Jinja2 function,ABANDONED,2018-12-04 15:53:50.000000000,2019-06-06 14:34:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-04 15:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/740ce784d6344bc89f9a66bc4e35531820218840', 'message': 'Remove the deprecated json_pp YAQL/Jinja2 function\n\nIn I37f69d14e7cf4f57b910b355d7ccd31c9cd73d10 we said it would be removed\nin S, so it is time.\n\nChange-Id: I9c711c8e94531a4c97cc8608055a389b26820afa\n'}, {'number': 2, 'created': '2018-12-21 04:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e889cdc3fb15c3a8ec41faff80b3f0b7f80a0d1c', 'message': 'Remove the deprecated json_pp YAQL/Jinja2 function\n\nIn I37f69d14e7cf4f57b910b355d7ccd31c9cd73d10 we said it would be removed\nin S, so it is time.\n\nChange-Id: I9c711c8e94531a4c97cc8608055a389b26820afa\n'}, {'number': 3, 'created': '2019-01-04 11:51:37.000000000', 'files': ['mistral/ext/pygmentplugin.py', 'mistral/tests/unit/expressions/test_jinja_expression.py', 'mistral/tests/unit/expressions/test_yaql_expression.py', 'mistral/utils/expression_utils.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/mistral/commit/1a526260ce3727dbddcfa6e0423b2b10c03d8f79', 'message': 'Remove the deprecated json_pp YAQL/Jinja2 function\n\nIn I37f69d14e7cf4f57b910b355d7ccd31c9cd73d10 we said it would be removed\nin S, so it is time.\n\nChange-Id: I9c711c8e94531a4c97cc8608055a389b26820afa\n'}]",0,622379,1a526260ce3727dbddcfa6e0423b2b10c03d8f79,7,1,3,9712,,,0,"Remove the deprecated json_pp YAQL/Jinja2 function

In I37f69d14e7cf4f57b910b355d7ccd31c9cd73d10 we said it would be removed
in S, so it is time.

Change-Id: I9c711c8e94531a4c97cc8608055a389b26820afa
",git fetch https://review.opendev.org/openstack/mistral refs/changes/79/622379/3 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/ext/pygmentplugin.py', 'mistral/tests/unit/expressions/test_jinja_expression.py', 'mistral/tests/unit/expressions/test_yaql_expression.py', 'mistral/utils/expression_utils.py', 'setup.cfg']",5,740ce784d6344bc89f9a66bc4e35531820218840,,, # json_pp was deprecated in Queens and will be removed in the S cycle json_pp = mistral.utils.expression_utils:json_pp_ ,19,51
openstack%2Ftripleo-common~master~I6a77b468c710f57f87f8a65f71fd2a5c40239f2f,openstack/tripleo-common,master,I6a77b468c710f57f87f8a65f71fd2a5c40239f2f,"Revert ""Add the RootStackName parameter to the plan""",ABANDONED,2019-02-21 10:08:19.000000000,2019-06-06 14:34:48.000000000,,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 8833}, {'_account_id': 9712}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-21 10:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4be86728394c9291654cc73bc594f32a654c9c65', 'message': 'Revert ""Add the RootStackName parameter to the plan""\n\nThis reverts commit 5798748cb5f0e182f8f3066e70f7989555f06742.\n\nChange-Id: I6a77b468c710f57f87f8a65f71fd2a5c40239f2f\n'}, {'number': 2, 'created': '2019-02-21 10:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/441e4df93427d9ef9fdae77d7fbf0d02df3c2543', 'message': 'Revert ""Add the RootStackName parameter to the plan""\n\nThis reverts commit 5798748cb5f0e182f8f3066e70f7989555f06742.\n\nChange-Id: I6a77b468c710f57f87f8a65f71fd2a5c40239f2f\n'}, {'number': 3, 'created': '2019-02-21 10:17:27.000000000', 'files': ['workbooks/plan_management.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1bae3565e85987fc415e15247ca1377b589419fd', 'message': 'Revert ""Add the RootStackName parameter to the plan""\n\nThis reverts commit 5798748cb5f0e182f8f3066e70f7989555f06742.\n\nChange-Id: I6a77b468c710f57f87f8a65f71fd2a5c40239f2f\n'}]",0,638377,1bae3565e85987fc415e15247ca1377b589419fd,9,7,3,9712,,,0,"Revert ""Add the RootStackName parameter to the plan""

This reverts commit 5798748cb5f0e182f8f3066e70f7989555f06742.

Change-Id: I6a77b468c710f57f87f8a65f71fd2a5c40239f2f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/77/638377/2 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/plan_management.yaml'],1,4be86728394c9291654cc73bc594f32a654c9c65,, - container_images_prepare: <% $.generate_passwords != true %> on-error: ensure_passwords_exist_set_status_failed, - add_root_stack_name: <% $.generate_passwords != true %> on-success: add_root_stack_name on-error: ensure_passwords_exist_set_status_failed add_root_stack_name: action: tripleo.parameters.update input: container: <% $.container %> parameters: RootStackName: <% $.container %> publish-on-error: status: FAILED message: <% task().result %> on-error: notify_zaqar,2,14
openstack%2Fopenstacksdk~master~Ie253823a753d09d52e45df9d515fd22870c2d4c5,openstack/openstacksdk,master,Ie253823a753d09d52e45df9d515fd22870c2d4c5,Support Proxy-specific region_name,MERGED,2019-06-03 21:58:23.000000000,2019-06-06 14:34:23.000000000,2019-06-05 08:05:03.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 29745}]","[{'number': 1, 'created': '2019-06-03 21:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bd7a1ec32ed4ec4b93f6307ad484d41f6b496ed0', 'message': 'Support Proxy-specific region_name\n\nProxy (a subclass of keystoneauth1 Adapter) is set up to know about\nregion_name. This is done so that consumers of cloud_region.from_conf\nwill have their [$project]region_name setting honored rather than\nignored.\n\nPreviously, CloudRegion was set up to deal with a single region, masking\n(or rather overriding) each Proxy\'s notion of what its region_name\nshould be.\n\nWith this change, (service-specific) region_nameZ are honored by the\nCloudRegion constructor, as follows:\n\n- A service-specific region_name in the ``config`` dict (e.g.\n  \'compute_region_name\': \'SnowflakeComputeRegion\') takes first\n  precedence for that service.\n- If no service-specific region_name is present in the ``config`` dict,\n  the value of the region_name kwarg to the CloudRegion constructor is\n  used. (This kwarg should really go away, but is preserved for backward\n  compatibility.)\n- If neither of the above is given, the value of the (unprefixed)\n  \'region_name\' key in the ``config`` dict is used. (This should really\n  take precedence over the kwarg, but it\'s done this way for backward\n  compatibility.)\n- If none of the above exist, None is used (the previous behavior,\n  whatever that may mean).\n\nThis change should hopefully be transparent to any existing usages of\nthe CloudRegion constructor, as ${service}_region_name would have been\nignored if present. However, if any existing usages had such a config\nsetting present, it will no longer be ignored, resulting in potential\nRBB [1].\n\n[1] That\'s ""Revoked Bug Benefit""\n\nChange-Id: Ie253823a753d09d52e45df9d515fd22870c2d4c5\n'}, {'number': 2, 'created': '2019-06-03 22:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0638db6b03d5693fbe94b36e337a9e332bc9ea6e', 'message': 'Support Proxy-specific region_name\n\nProxy (a subclass of keystoneauth1 Adapter) is set up to know about\nregion_name. This is done so that consumers of cloud_region.from_conf\nwill have their [$project]region_name setting honored rather than\nignored.\n\nPreviously, CloudRegion was set up to deal with a single region, masking\n(or rather overriding) each Proxy\'s notion of what its region_name\nshould be.\n\nWith this change, (service-specific) region_nameZ are honored by the\nCloudRegion constructor, as follows:\n\n- A service-specific region_name in the ``config`` dict (e.g.\n  \'compute_region_name\': \'SnowflakeComputeRegion\') takes first\n  precedence for that service.\n- If no service-specific region_name is present in the ``config`` dict,\n  the value of the region_name kwarg to the CloudRegion constructor is\n  used. (This kwarg should really go away, but is preserved for backward\n  compatibility.)\n- If neither of the above is given, the value of the (unprefixed)\n  \'region_name\' key in the ``config`` dict is used. (This should really\n  take precedence over the kwarg, but it\'s done this way for backward\n  compatibility.)\n- If none of the above exist, None is used (the previous behavior,\n  whatever that may mean).\n\nThis change should hopefully be transparent to any existing usages of\nthe CloudRegion constructor, as ${service}_region_name would have been\nignored if present. However, if any existing usages had such a config\nsetting present, it will no longer be ignored, resulting in potential\nRBB [1].\n\n[1] That\'s ""Revoked Bug Benefit""\n\nChange-Id: Ie253823a753d09d52e45df9d515fd22870c2d4c5\n'}, {'number': 3, 'created': '2019-06-04 01:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cd720507d200bdb24c210367e776871637ff20b1', 'message': 'Support Proxy-specific region_name\n\nProxy (a subclass of keystoneauth1 Adapter) is set up to know about\nregion_name. This is done so that consumers of cloud_region.from_conf\nwill have their [$project]region_name setting honored rather than\nignored.\n\nPreviously, CloudRegion was set up to deal with a single region, masking\n(or rather overriding) each Proxy\'s notion of what its region_name\nshould be.\n\nWith this change, (service-specific) region_nameZ are honored by the\nCloudRegion constructor, as follows:\n\n- A service-specific region_name in the ``config`` dict (e.g.\n  \'compute_region_name\': \'SnowflakeComputeRegion\') takes first\n  precedence for that service.\n- If no service-specific region_name is present in the ``config`` dict,\n  the value of the region_name kwarg to the CloudRegion constructor is\n  used. (This kwarg should really go away, but is preserved for backward\n  compatibility.)\n- If neither of the above is given, the value of the (unprefixed)\n  \'region_name\' key in the ``config`` dict is used. (This should really\n  take precedence over the kwarg, but it\'s done this way for backward\n  compatibility.)\n- If none of the above exist, None is used (the previous behavior,\n  whatever that may mean).\n\nThis change should hopefully be transparent to any existing usages of\nthe CloudRegion constructor, as ${service}_region_name would have been\nignored if present. However, if any existing usages had such a config\nsetting present, it will no longer be ignored, resulting in potential\nRBB [1].\n\n[1] That\'s ""Revoked Bug Benefit""\n\nChange-Id: Ie253823a753d09d52e45df9d515fd22870c2d4c5\n'}, {'number': 4, 'created': '2019-06-04 13:38:17.000000000', 'files': ['openstack/config/cloud_region.py', 'openstack/cloud/openstackcloud.py', 'openstack/cloud/_normalize.py', 'openstack/tests/unit/config/test_cloud_config.py', 'openstack/service_description.py', 'openstack/tests/unit/config/test_from_conf.py', 'openstack/cloud/_compute.py', 'openstack/tests/unit/cloud/test_operator.py', 'openstack/tests/unit/cloud/test_meta.py', 'openstack/cloud/meta.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5f0401a20609569de77d8d355cd43b36bed8d111', 'message': 'Support Proxy-specific region_name\n\nProxy (a subclass of keystoneauth1 Adapter) is set up to know about\nregion_name. This is done so that consumers of cloud_region.from_conf\nwill have their [$project]region_name setting honored rather than\nignored.\n\nPreviously, CloudRegion was set up to deal with a single region, masking\n(or rather overriding) each Proxy\'s notion of what its region_name\nshould be.\n\nWith this change, (service-specific) region_nameZ are honored by the\nCloudRegion constructor, as follows:\n\n- A service-specific region_name in the ``config`` dict (e.g.\n  \'compute_region_name\': \'SnowflakeComputeRegion\') takes first\n  precedence for that service.\n- If no service-specific region_name is present in the ``config`` dict,\n  the value of the region_name kwarg to the CloudRegion constructor is\n  used. (This kwarg should really go away, but is preserved for backward\n  compatibility.)\n- If neither of the above is given, the value of the (unprefixed)\n  \'region_name\' key in the ``config`` dict is used. (This should really\n  take precedence over the kwarg, but it\'s done this way for backward\n  compatibility.)\n- If none of the above exist, None is used (the previous behavior,\n  whatever that may mean).\n\nThis change should hopefully be transparent to any existing usages of\nthe CloudRegion constructor, as ${service}_region_name would have been\nignored if present. However, if any existing usages had such a config\nsetting present, it will no longer be ignored, resulting in potential\nRBB [1].\n\n[1] That\'s ""Revoked Bug Benefit""\n\nChange-Id: Ie253823a753d09d52e45df9d515fd22870c2d4c5\n'}]",11,662865,5f0401a20609569de77d8d355cd43b36bed8d111,18,6,4,14070,,,0,"Support Proxy-specific region_name

Proxy (a subclass of keystoneauth1 Adapter) is set up to know about
region_name. This is done so that consumers of cloud_region.from_conf
will have their [$project]region_name setting honored rather than
ignored.

Previously, CloudRegion was set up to deal with a single region, masking
(or rather overriding) each Proxy's notion of what its region_name
should be.

With this change, (service-specific) region_nameZ are honored by the
CloudRegion constructor, as follows:

- A service-specific region_name in the ``config`` dict (e.g.
  'compute_region_name': 'SnowflakeComputeRegion') takes first
  precedence for that service.
- If no service-specific region_name is present in the ``config`` dict,
  the value of the region_name kwarg to the CloudRegion constructor is
  used. (This kwarg should really go away, but is preserved for backward
  compatibility.)
- If neither of the above is given, the value of the (unprefixed)
  'region_name' key in the ``config`` dict is used. (This should really
  take precedence over the kwarg, but it's done this way for backward
  compatibility.)
- If none of the above exist, None is used (the previous behavior,
  whatever that may mean).

This change should hopefully be transparent to any existing usages of
the CloudRegion constructor, as ${service}_region_name would have been
ignored if present. However, if any existing usages had such a config
setting present, it will no longer be ignored, resulting in potential
RBB [1].

[1] That's ""Revoked Bug Benefit""

Change-Id: Ie253823a753d09d52e45df9d515fd22870c2d4c5
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/65/662865/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/config/cloud_region.py', 'openstack/cloud/_normalize.py', 'openstack/cloud/openstackcloud.py', 'openstack/tests/unit/config/test_cloud_config.py', 'openstack/service_description.py', 'openstack/tests/unit/config/test_from_conf.py', 'openstack/cloud/_compute.py', 'openstack/tests/unit/cloud/test_operator.py', 'openstack/tests/unit/cloud/test_meta.py', 'openstack/cloud/meta.py']",10,bd7a1ec32ed4ec4b93f6307ad484d41f6b496ed0,bp/openstacksdk-in-nova, # NOTE(efried): This is hardcoded to 'compute' because this method is only # used from ComputeCloudMixin. region = cloud.config.get_region_name('compute'), region = cloud.config.region_name,110,45
openstack%2Fkuryr-kubernetes~master~I97ae3ce411e86aedba77068985bc62dbe61dbdbe,openstack/kuryr-kubernetes,master,I97ae3ce411e86aedba77068985bc62dbe61dbdbe,test,ABANDONED,2019-06-06 14:24:31.000000000,2019-06-06 14:26:08.000000000,,[],"[{'number': 1, 'created': '2019-06-06 14:24:31.000000000', 'files': ['cni_py3.Dockerfile', 'kuryr_cni/main.go', 'kuryr_cni/ovo.go', 'cni.Dockerfile'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2ea88c6dff23a227d432fc054f6dcd7a809a71a8', 'message': 'test\n\nChange-Id: I97ae3ce411e86aedba77068985bc62dbe61dbdbe\n'}]",0,663684,2ea88c6dff23a227d432fc054f6dcd7a809a71a8,2,0,1,11600,,,0,"test

Change-Id: I97ae3ce411e86aedba77068985bc62dbe61dbdbe
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/84/663684/1 && git format-patch -1 --stdout FETCH_HEAD,"['cni_py3.Dockerfile', 'kuryr_cni/main.go', 'kuryr_cni/ovo.go', 'cni.Dockerfile']",4,2ea88c6dff23a227d432fc054f6dcd7a809a71a8,bp/golang-kuryr-cni,RUN go build -o /go/bin/kuryr-cni ./kuryr_cni,RUN go build -o /go/bin/kuryr-cni kuryr_cni/main.go,135,64
openstack%2Fcinder~stable%2Fstein~I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d,openstack/cinder,stable/stein,I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d,Add upgrade check for Windows iSCSI driver.,MERGED,2019-05-31 19:05:58.000000000,2019-06-06 14:09:01.000000000,2019-06-06 14:09:01.000000000,"[{'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-31 19:05:58.000000000', 'files': ['releasenotes/notes/cinder-status-check-windows_iscsi_driver-5f4e0b93c7b92f53.yaml', 'cinder/tests/unit/cmd/test_status.py', 'cinder/cmd/status.py', 'doc/source/cli/cinder-status.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f8940565370c30cc28c1984f4552af299bdc9cb', 'message': 'Add upgrade check for Windows iSCSI driver.\n\nThe WindowsDriver was renamed in the Queens release to\nWindowsISCSIDriver to avoid confusion with the SMB driver.\nThe backwards compatibility for this has now been removed, so\nany cinder.conf settings still using\ncinder.volume.drivers.windows.windows.WindowsDriver\nmust now be updated to use\ncinder.volume.drivers.windows.iscsi.WindowsISCSIDriver.\n\nThe change includes the addtion of a function to get the\nenabled_drivers for a system as it is likely that the\nfunctionality will be useful for multiple update checks\nin the future.\n\nChange-Id: I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d\n(cherry picked from commit bc18906f01b10ca21a68b0b760503436caa4f91a)\n'}]",0,662544,5f8940565370c30cc28c1984f4552af299bdc9cb,19,15,1,7198,,,0,"Add upgrade check for Windows iSCSI driver.

The WindowsDriver was renamed in the Queens release to
WindowsISCSIDriver to avoid confusion with the SMB driver.
The backwards compatibility for this has now been removed, so
any cinder.conf settings still using
cinder.volume.drivers.windows.windows.WindowsDriver
must now be updated to use
cinder.volume.drivers.windows.iscsi.WindowsISCSIDriver.

The change includes the addtion of a function to get the
enabled_drivers for a system as it is likely that the
functionality will be useful for multiple update checks
in the future.

Change-Id: I34038c847b75f9f9bd1c4dd4d9a5803cd66ffc8d
(cherry picked from commit bc18906f01b10ca21a68b0b760503436caa4f91a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/662544/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cinder-status-check-windows_iscsi_driver-5f4e0b93c7b92f53.yaml', 'cinder/tests/unit/cmd/test_status.py', 'cinder/cmd/status.py', 'doc/source/cli/cinder-status.rst']",4,5f8940565370c30cc28c1984f4552af299bdc9cb,backport-upgrade-checks, * Ensure that correct volume_driver path is used for Windows iSCSI driver.,,81,0
openstack%2Fcinder~stable%2Fstein~Ia46e843ad245cf8263b97b773fac9bc6c6fe6647,openstack/cinder,stable/stein,Ia46e843ad245cf8263b97b773fac9bc6c6fe6647,Add upgrade check for presence of policy.json file,MERGED,2019-05-30 15:27:09.000000000,2019-06-06 14:08:59.000000000,2019-06-06 14:08:59.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30381}, {'_account_id': 30402}]","[{'number': 1, 'created': '2019-05-30 15:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/04dc5b861451d413d7c812a97c47c0bd965d831f', 'message': 'Add upgrade check for presence of policy.json file\n\nCorrect file is policy.yaml and only needed if overriding defaults. This\nonly warns if the file is present in case it was left by a previous\nversion and not actually needed or used.\n\nAlso checks for the policy_file being overridden in config, and if so,\nwarns if the specified file does not exist.\n\nChange-Id: Ia46e843ad245cf8263b97b773fac9bc6c6fe6647\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 8c6355f3ccb64cb949a8280b6cd98a37e13bfaa7)\n'}, {'number': 2, 'created': '2019-05-31 19:05:58.000000000', 'files': ['cinder/tests/unit/cmd/test_status.py', 'cinder/cmd/status.py', 'doc/source/cli/cinder-status.rst', 'releasenotes/notes/cinder-status-check-policyjson-ef61826eab95372b.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3bd5f7aa8db991f0d02201b600928daf351f0b1', 'message': 'Add upgrade check for presence of policy.json file\n\nCorrect file is policy.yaml and only needed if overriding defaults. This\nonly warns if the file is present in case it was left by a previous\nversion and not actually needed or used.\n\nAlso checks for the policy_file being overridden in config, and if so,\nwarns if the specified file does not exist.\n\nChange-Id: Ia46e843ad245cf8263b97b773fac9bc6c6fe6647\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 8c6355f3ccb64cb949a8280b6cd98a37e13bfaa7)\n'}]",0,662244,f3bd5f7aa8db991f0d02201b600928daf351f0b1,40,17,2,11904,,,0,"Add upgrade check for presence of policy.json file

Correct file is policy.yaml and only needed if overriding defaults. This
only warns if the file is present in case it was left by a previous
version and not actually needed or used.

Also checks for the policy_file being overridden in config, and if so,
warns if the specified file does not exist.

Change-Id: Ia46e843ad245cf8263b97b773fac9bc6c6fe6647
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 8c6355f3ccb64cb949a8280b6cd98a37e13bfaa7)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/662244/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/cmd/test_status.py', 'cinder/cmd/status.py', 'doc/source/cli/cinder-status.rst', 'releasenotes/notes/cinder-status-check-policyjson-ef61826eab95372b.yaml']",4,04dc5b861451d413d7c812a97c47c0bd965d831f,backport-upgrade-checks,--- upgrade: - | A warning has been added to the ``cinder-status upgrade check`` CLI if a ``policy.json`` file is present. Documentation has been updated to correct the file as ``policy.yaml`` if any policies need to be changed from their defaults. ,,131,8
openstack%2Fpuppet-tripleo~stable%2Fqueens~I8884561e925db592e4b8b4d3b6c4df3bea8f9f47,openstack/puppet-tripleo,stable/queens,I8884561e925db592e4b8b4d3b6c4df3bea8f9f47,"Revert ""Only request certs in step 1""",MERGED,2019-06-06 07:41:00.000000000,2019-06-06 13:53:18.000000000,2019-06-06 13:53:18.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9098}, {'_account_id': 10873}, {'_account_id': 11589}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22136}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27954}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-06 07:41:00.000000000', 'files': ['manifests/profile/base/certmonger_user.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0ed388fe3011e8671693d75a3df5d93d553d512e', 'message': 'Revert ""Only request certs in step 1""\n\nAll ovb jobs failing with:\nCould not find data item step in any Hiera data\nfile and no default supplied at certmonger.pp\n\nThis reverts commit af47731075dd3ce7c3adc4e5630030d905826901.\n\nChange-Id: I8884561e925db592e4b8b4d3b6c4df3bea8f9f47\n'}]",0,663532,0ed388fe3011e8671693d75a3df5d93d553d512e,11,14,1,13861,,,0,"Revert ""Only request certs in step 1""

All ovb jobs failing with:
Could not find data item step in any Hiera data
file and no default supplied at certmonger.pp

This reverts commit af47731075dd3ce7c3adc4e5630030d905826901.

Change-Id: I8884561e925db592e4b8b4d3b6c4df3bea8f9f47
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/32/663532/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/certmonger_user.pp'],1,0ed388fe3011e8671693d75a3df5d93d553d512e,," unless empty($haproxy_certificates_specs) { $reload_haproxy = ['systemctl reload haproxy'] Class['::tripleo::certmonger::ca::crl'] ~> Haproxy::Balancermember<||> if defined(Class['::haproxy']) { Class['::tripleo::certmonger::ca::crl'] ~> Class['::haproxy'] } } else { $reload_haproxy = [] } class { '::tripleo::certmonger::ca::crl' : reload_cmds => $reload_haproxy, } Certmonger_certificate<||> -> Class['::tripleo::certmonger::ca::crl'] include ::tripleo::certmonger::ca::libvirt include ::tripleo::certmonger::ca::libvirt_vnc # Remove apache_certificates_specs where hostname is empty. # Workaround bug: https://bugs.launchpad.net/tripleo/+bug/1811207 $apache_certificates_specs_filtered = $apache_certificates_specs.filter | $specs, $keys | { ! empty($keys[hostname]) } unless empty($apache_certificates_specs_filtered) { include ::tripleo::certmonger::apache_dirs ensure_resources('tripleo::certmonger::httpd', $apache_certificates_specs_filtered) } unless empty($libvirt_certificates_specs) { include ::tripleo::certmonger::libvirt_dirs ensure_resources('tripleo::certmonger::libvirt', $libvirt_certificates_specs, {'postsave_cmd' => $libvirt_postsave_cmd}) } unless empty($libvirt_vnc_certificates_specs) { include ::tripleo::certmonger::libvirt_vnc_dirs ensure_resources('tripleo::certmonger::libvirt_vnc', $libvirt_vnc_certificates_specs, {'postsave_cmd' => $libvirt_vnc_postsave_cmd}) } unless empty($haproxy_certificates_specs) { include ::tripleo::certmonger::haproxy_dirs ensure_resources('tripleo::certmonger::haproxy', $haproxy_certificates_specs) # The haproxy fronends (or listen resources) depend on the certificate # existing and need to be refreshed if it changed. Tripleo::Certmonger::Haproxy<||> ~> Haproxy::Listen<||> } unless empty($mongodb_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::mongodb', $mongodb_certificate_specs) } unless empty($mysql_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::mysql', $mysql_certificate_specs) } unless empty($rabbitmq_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::rabbitmq', $rabbitmq_certificate_specs) } unless empty($redis_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::redis', $redis_certificate_specs) } unless empty($etcd_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::etcd', $etcd_certificate_specs) } unless empty($odl_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::opendaylight', $odl_certificate_specs) } unless empty($ovs_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::openvswitch', $ovs_certificate_specs) } unless empty($neutron_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::neutron', $neutron_certificate_specs) } unless empty($novnc_proxy_certificates_specs) { ensure_resource('class', 'tripleo::certmonger::novnc_proxy', $novnc_proxy_certificates_specs, {'postsave_cmd' => $novnc_proxy_postsave_cmd})","# [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # $step = Integer(hiera('step')), if $step == 1 { unless empty($haproxy_certificates_specs) { $reload_haproxy = ['systemctl reload haproxy'] Class['::tripleo::certmonger::ca::crl'] ~> Haproxy::Balancermember<||> if defined(Class['::haproxy']) { Class['::tripleo::certmonger::ca::crl'] ~> Class['::haproxy'] } } else { $reload_haproxy = [] } class { '::tripleo::certmonger::ca::crl' : reload_cmds => $reload_haproxy, } Certmonger_certificate<||> -> Class['::tripleo::certmonger::ca::crl'] include ::tripleo::certmonger::ca::libvirt include ::tripleo::certmonger::ca::libvirt_vnc # Remove apache_certificates_specs where hostname is empty. # Workaround bug: https://bugs.launchpad.net/tripleo/+bug/1811207 $apache_certificates_specs_filtered = $apache_certificates_specs.filter | $specs, $keys | { ! empty($keys[hostname]) } unless empty($apache_certificates_specs_filtered) { include ::tripleo::certmonger::apache_dirs ensure_resources('tripleo::certmonger::httpd', $apache_certificates_specs_filtered) } unless empty($libvirt_certificates_specs) { include ::tripleo::certmonger::libvirt_dirs ensure_resources('tripleo::certmonger::libvirt', $libvirt_certificates_specs, {'postsave_cmd' => $libvirt_postsave_cmd}) } unless empty($libvirt_vnc_certificates_specs) { include ::tripleo::certmonger::libvirt_vnc_dirs ensure_resources('tripleo::certmonger::libvirt_vnc', $libvirt_vnc_certificates_specs, {'postsave_cmd' => $libvirt_vnc_postsave_cmd}) } unless empty($haproxy_certificates_specs) { include ::tripleo::certmonger::haproxy_dirs ensure_resources('tripleo::certmonger::haproxy', $haproxy_certificates_specs) # The haproxy fronends (or listen resources) depend on the certificate # existing and need to be refreshed if it changed. Tripleo::Certmonger::Haproxy<||> ~> Haproxy::Listen<||> } unless empty($mongodb_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::mongodb', $mongodb_certificate_specs) } unless empty($mysql_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::mysql', $mysql_certificate_specs) } unless empty($rabbitmq_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::rabbitmq', $rabbitmq_certificate_specs) } unless empty($redis_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::redis', $redis_certificate_specs) } unless empty($etcd_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::etcd', $etcd_certificate_specs) } unless empty($odl_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::opendaylight', $odl_certificate_specs) } unless empty($ovs_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::openvswitch', $ovs_certificate_specs) } unless empty($neutron_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::neutron', $neutron_certificate_specs) } unless empty($novnc_proxy_certificates_specs) { ensure_resource('class', 'tripleo::certmonger::novnc_proxy', $novnc_proxy_certificates_specs, {'postsave_cmd' => $novnc_proxy_postsave_cmd}) }",65,73
openstack%2Fopenstacksdk~master~I05fb4da39d2eefc91828ace02db2741b62a2cb0a,openstack/openstacksdk,master,I05fb4da39d2eefc91828ace02db2741b62a2cb0a,Make factory for a CloudRegion from CONF objects,MERGED,2019-03-15 14:50:30.000000000,2019-06-06 13:40:46.000000000,2019-06-05 07:50:08.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27900}, {'_account_id': 29745}]","[{'number': 1, 'created': '2019-03-15 14:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/beb7339f6ce668ceaee8aa8c5e65de1dcc9b527e', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 2, 'created': '2019-03-15 18:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fe611a1f842ae6921254b60f443c7d2254c60088', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 3, 'created': '2019-03-15 19:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bf393510228ceb89f64661f0499eaf6e166eeffd', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 4, 'created': '2019-03-15 20:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/78fd5108bff9b5d2f9412f59ef87b77a4bd0fc5b', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 5, 'created': '2019-03-15 20:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2e7145c0b9145ea1469c8a086abfd7441cbfba75', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 6, 'created': '2019-03-15 20:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/40298e84cd1214557a36f042e8b612f2d6df042e', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 7, 'created': '2019-03-17 18:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f512d4bf1f7de670346969704e63958321849a04', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 8, 'created': '2019-03-17 20:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/08990bda07bf11fe0fca8e450ac8589e8683e554', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 9, 'created': '2019-03-17 23:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/04de3498648b31be6c216565cebceebd4295b0c1', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 10, 'created': '2019-03-18 00:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2f02e7695f2bdb9dd404781b08996b7356982dde', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 11, 'created': '2019-03-18 00:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3eed9bd47607d248b2a48af75633739a7146aaf8', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 12, 'created': '2019-03-18 14:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f7eb5b00e555bfd294f50082aa09c37e107c9947', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 13, 'created': '2019-03-18 17:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4540519cc6323b46da6180d9baa368816eed069d', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 14, 'created': '2019-03-18 17:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9780aa129f142666fa87a3d0653444f234b25b3b', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nDepends-On: https://review.openstack.org/644251\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 15, 'created': '2019-03-18 18:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/45dadf909598f7fba7d5ff73da6705d3b07685b5', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nDepends-On: https://review.openstack.org/644251\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 16, 'created': '2019-04-17 22:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c5fad486fcc22ab379c609958854018bbc36d6fa', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nNeeded-By: blueprint openstacksdk-in-nova\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 17, 'created': '2019-04-17 22:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a5ce24ee530ac5937119e3f8b844bc2a79c020d5', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nNeeded-By: blueprint openstacksdk-in-nova\nDepends-On: https://review.openstack.org/644251\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 18, 'created': '2019-04-24 20:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/88b47179b2f3dd4a10f4459ae3370923252756a1', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nNeeded-By: blueprint openstacksdk-in-nova\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 19, 'created': '2019-04-25 14:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/595fca40017f6aff246c4b34f44fa08c3ee6b529', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nNeeded-By: blueprint openstacksdk-in-nova\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 20, 'created': '2019-06-01 00:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c794d4b852db2217ab55f23d22028c6aaae78604', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nWIP: Write a real commit message\nWIP: Main test is failing\n\nNeeded-By: blueprint openstacksdk-in-nova\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 21, 'created': '2019-06-01 13:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/44f12c22c89a3833837be94c328892a5fd687629', 'message': 'WIP Make factory for a CloudRegion from CONF objects\n\nWIP: Write a real commit message\nWIP: Main test is failing\n\nNeeded-By: blueprint openstacksdk-in-nova\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 22, 'created': '2019-06-01 19:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/07e0dd2fd2be3ff1390cd00a80932b2766971ddd', 'message': 'Make factory for a CloudRegion from CONF objects\n\nThis commit enables SDK consumers using oslo.config for keystoneauth1\nAdapter settings by introducing a method:\n\nopenstack.config.cloud_region.from_conf\n\nThis accepts:\n- An oslo.config ConfigOpts containing Adapter options in sections named\n  according to project (e.g. [nova], not [compute]). Current behavior is\n  to use defaults if no such section exists, which may not be what we\n  want long term.\n- A Session. This is currently required - if unspecified, a\n  ConfigException is raised - but in the future we probably want to\n  support creating one (and an auth) from the conf.\n- Other kwargs to be passed to the CloudRegion constructor.\n\nThe method returns a CloudRegion that can be used to create a\nConnection.\n\nNeeded-By: blueprint openstacksdk-in-nova\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 23, 'created': '2019-06-03 19:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9a4c8ba5a1eafd73d8d04f52cd70a97625bccbe3', 'message': 'Make factory for a CloudRegion from CONF objects\n\nThis commit enables SDK consumers using oslo.config for keystoneauth1\nAdapter settings by introducing a method:\n\nopenstack.config.cloud_region.from_conf\n\nThis accepts:\n- An oslo.config ConfigOpts containing Adapter options in sections named\n  according to project (e.g. [nova], not [compute]). Current behavior is\n  to use defaults if no such section exists, which may not be what we\n  want long term.\n- A Session. This is currently required - if unspecified, a\n  ConfigException is raised - but in the future we probably want to\n  support creating one (and an auth) from the conf.\n- Other kwargs to be passed to the CloudRegion constructor.\n\nThe method returns a CloudRegion that can be used to create a\nConnection.\n\nNeeded-By: blueprint openstacksdk-in-nova\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}, {'number': 24, 'created': '2019-06-04 13:36:32.000000000', 'files': ['openstack/config/cloud_region.py', 'requirements.txt', 'test-requirements.txt', 'releasenotes/notes/conf-object-ctr-c0e1da0a67dad841.yaml', 'lower-constraints.txt', 'openstack/tests/unit/config/test_from_conf.py', 'openstack/connection.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/86ad9debd1cb08c2a2e53fd30502b020a0c3e4fe', 'message': 'Make factory for a CloudRegion from CONF objects\n\nThis commit enables SDK consumers using oslo.config for keystoneauth1\nAdapter settings by introducing a method:\n\nopenstack.config.cloud_region.from_conf\n\nThis accepts:\n- An oslo.config ConfigOpts containing Adapter options in sections named\n  according to project (e.g. [nova], not [compute]). Current behavior is\n  to use defaults if no such section exists, which may not be what we\n  want long term.\n- A Session. This is currently required - if unspecified, a\n  ConfigException is raised - but in the future we probably want to\n  support creating one (and an auth) from the conf.\n- Other kwargs to be passed to the CloudRegion constructor.\n\nThe method returns a CloudRegion that can be used to create a\nConnection.\n\nNeeded-By: blueprint openstacksdk-in-nova\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a\n'}]",38,643601,86ad9debd1cb08c2a2e53fd30502b020a0c3e4fe,76,7,24,2,,,0,"Make factory for a CloudRegion from CONF objects

This commit enables SDK consumers using oslo.config for keystoneauth1
Adapter settings by introducing a method:

openstack.config.cloud_region.from_conf

This accepts:
- An oslo.config ConfigOpts containing Adapter options in sections named
  according to project (e.g. [nova], not [compute]). Current behavior is
  to use defaults if no such section exists, which may not be what we
  want long term.
- A Session. This is currently required - if unspecified, a
  ConfigException is raised - but in the future we probably want to
  support creating one (and an auth) from the conf.
- Other kwargs to be passed to the CloudRegion constructor.

The method returns a CloudRegion that can be used to create a
Connection.

Needed-By: blueprint openstacksdk-in-nova
Co-Authored-By: Eric Fried <openstack@fried.cc>
Change-Id: I05fb4da39d2eefc91828ace02db2741b62a2cb0a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/01/643601/10 && git format-patch -1 --stdout FETCH_HEAD,['openstack/config/cloud_region.py'],1,beb7339f6ce668ceaee8aa8c5e65de1dcc9b527e,bp/openstacksdk-in-nova,"from keystoneauth1 import loading as ks_loadingdef from_conf(conf, session=None, auth=None, name=None, app_name=None, app_version=None, include_deprecated=False, deprecated_opts=None): config_dict = config_defaults.get_defaults() opts = ks_loading.get_adapter_conf_options( include_deprecated=False, deprecated_opts=deprecated_opts) stm = os_service_types.ServiceTypes() # TODO(mordred) Think about region_name here region_name = None for st in stm.all_types_by_service_type.keys(): project_name = stm.get_project_name(st) try: c = conf[project_name] for opt in opts: if opt.name == 'region_name': region_name = opt.region_name continue if hasattr(opt.name, c): config_name = '{service_type}_{name}'.format( service_type=st, name=opt.name).replace('-', '_') config_dict[config_name] = getattr(opt.name) if session: if auth and not session.auth: session.auth = auth return CloudRegion( name=name, session=session, region_name=region_name, config=config_dict, app_name=app_name, app_version=app_version) else: # TODO(mordred) Fill this in - not needed for first stab with nova pass ",,37,0
openstack%2Fnetworking-bagpipe~master~I7d571386b29234c627f973bfac2005a5577e54ed,openstack/networking-bagpipe,master,I7d571386b29234c627f973bfac2005a5577e54ed,Switch to native openflow implementation,MERGED,2019-05-30 19:55:05.000000000,2019-06-06 13:37:46.000000000,2019-06-06 13:37:46.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 19:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/380b9449e4c2a7641204d7a89af359e5e8e9868d', 'message': 'Switch to native openflow implementation\n\nNeutron removed ovs_ofctl interface to manage openflows in [1],\nso networking_bagpipe should also stop using it and switch to\nnative implementation based on OSKen.\n\nCloses-Bug: #1831127\n\n[1] https://review.opendev.org/#/c/599496/\n\nChange-Id: I7d571386b29234c627f973bfac2005a5577e54ed\n'}, {'number': 2, 'created': '2019-05-30 21:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/797763909a66711ea2cd752c8205d1f81cd744ab', 'message': 'Switch to native openflow implementation\n\nNeutron removed ovs_ofctl interface to manage openflows in [1],\nso networking_bagpipe should also stop using it and switch to\nnative implementation based on OSKen.\n\nCloses-Bug: #1831127\n\n[1] https://review.opendev.org/#/c/599496/\n\nDepends-On: https://review.opendev.org/#/c/662231/\nChange-Id: I7d571386b29234c627f973bfac2005a5577e54ed\n'}, {'number': 3, 'created': '2019-05-31 08:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/c0ec2fecdc902e824c8429b79ff5343e0a89735f', 'message': 'Switch to native openflow implementation\n\nNeutron removed ovs_ofctl interface to manage openflows in [1],\nso networking_bagpipe should also stop using it and switch to\nnative implementation based on OSKen.\n\nCloses-Bug: #1831127\n\n[1] https://review.opendev.org/#/c/599496/\n\nDepends-On: https://review.opendev.org/#/c/662231/\nDepends-On: https://review.opendev.org/662402\n\nChange-Id: I7d571386b29234c627f973bfac2005a5577e54ed\n'}, {'number': 4, 'created': '2019-05-31 09:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/b4ba9b56b4a97c90d9770e2be3e1289e569cb95d', 'message': 'Switch to native openflow implementation\n\nNeutron removed ovs_ofctl interface to manage openflows in [1],\nso networking_bagpipe should also stop using it and switch to\nnative implementation based on OSKen.\n\nCloses-Bug: #1831127\n\n[1] https://review.opendev.org/#/c/599496/\n\nDepends-On: https://review.opendev.org/662231\nDepends-On: https://review.opendev.org/662402\nDepends-On: https://review.opendev.org/662142\n\nChange-Id: I7d571386b29234c627f973bfac2005a5577e54ed\n'}, {'number': 5, 'created': '2019-05-31 09:59:34.000000000', 'files': ['networking_bagpipe/tests/unit/agent/base.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/evpn/test_ovs.py', '.zuul.yaml', 'networking_bagpipe/bagpipe_bgp/vpn/evpn/ovs.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/6367219a6d01d588b99ac3896644497dc2130246', 'message': 'Switch to native openflow implementation\n\nNeutron removed ovs_ofctl interface to manage openflows in [1],\nso networking_bagpipe should also stop using it and switch to\nnative implementation based on OSKen.\n\nTo fix gate issues, this commit also changes old\nlegacy-tempest-dsvm-networking-bgpvpn-bagpipe CI job to new\nneutron-tempest-plugin-bgpvpn-bagpipe which was introduced in [2].\n\nCloses-Bug: #1831127\n\n[1] https://review.opendev.org/#/c/599496/\n[2] https://review.opendev.org/#/c/657793/\n\nChange-Id: I7d571386b29234c627f973bfac2005a5577e54ed\n'}]",0,662305,6367219a6d01d588b99ac3896644497dc2130246,21,6,5,11975,,,0,"Switch to native openflow implementation

Neutron removed ovs_ofctl interface to manage openflows in [1],
so networking_bagpipe should also stop using it and switch to
native implementation based on OSKen.

To fix gate issues, this commit also changes old
legacy-tempest-dsvm-networking-bgpvpn-bagpipe CI job to new
neutron-tempest-plugin-bgpvpn-bagpipe which was introduced in [2].

Closes-Bug: #1831127

[1] https://review.opendev.org/#/c/599496/
[2] https://review.opendev.org/#/c/657793/

Change-Id: I7d571386b29234c627f973bfac2005a5577e54ed
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/05/662305/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_bagpipe/tests/unit/agent/base.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/evpn/test_ovs.py', 'networking_bagpipe/bagpipe_bgp/vpn/evpn/ovs.py']",3,380b9449e4c2a7641204d7a89af359e5e8e9868d,bug/1831127,from neutron.plugins.ml2.drivers.openvswitch.agent.openflow.native import \,from neutron.plugins.ml2.drivers.openvswitch.agent.openflow.ovs_ofctl import \,4,4
openstack%2Fopenstack-ansible-tests~stable%2Fstein~Ie5dae335c12e178928186637b7b73f97c6a694ab,openstack/openstack-ansible-tests,stable/stein,Ie5dae335c12e178928186637b7b73f97c6a694ab,sync: use proposal-bot + gerrit ssh API to pull projects,MERGED,2019-04-22 07:18:06.000000000,2019-06-06 13:33:48.000000000,2019-04-22 15:27:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-04-22 07:18:06.000000000', 'files': ['gen-projects-list.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/17a4ca8d839cee1f4224a345b3475641b89ed35c', 'message': 'sync: use proposal-bot + gerrit ssh API to pull projects\n\nWith the transition to OpenDev, we cannot rely on the old URLs\nand this is a much cleaner solution that leverages the proposa-bot\nuser to get all the information we need.\n\nChange-Id: Ie5dae335c12e178928186637b7b73f97c6a694ab\n(cherry picked from commit 0f4872e8232063c1758f38834d1b99cfc4ac9c4e)\n'}]",0,654392,17a4ca8d839cee1f4224a345b3475641b89ed35c,8,3,1,1004,,,0,"sync: use proposal-bot + gerrit ssh API to pull projects

With the transition to OpenDev, we cannot rely on the old URLs
and this is a much cleaner solution that leverages the proposa-bot
user to get all the information we need.

Change-Id: Ie5dae335c12e178928186637b7b73f97c6a694ab
(cherry picked from commit 0f4872e8232063c1758f38834d1b99cfc4ac9c4e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/92/654392/1 && git format-patch -1 --stdout FETCH_HEAD,['gen-projects-list.sh'],1,17a4ca8d839cee1f4224a345b3475641b89ed35c,osa/opendev-stable/stein,ssh -p 29418 proposal-bot@review.opendev.org gerrit ls-projects --prefix openstack/openstack-ansible- | \,"curl --retry 10 -s --fail http://git.openstack.org/cgit | grep -o \ ""openstack/openstack-ansible-[[:alnum:]_-]*"" | \",1,2
openstack%2Fpython-openstackclient~master~Ic06d97b29e51828b29d7ac5172645c288e4ada9e,openstack/python-openstackclient,master,Ic06d97b29e51828b29d7ac5172645c288e4ada9e,Compute: Add description support for server,MERGED,2018-05-15 10:46:53.000000000,2019-06-06 13:18:17.000000000,2019-06-05 03:25:46.000000000,"[{'_account_id': 841}, {'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 6873}, {'_account_id': 8276}, {'_account_id': 12860}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 25562}, {'_account_id': 25564}, {'_account_id': 26311}]","[{'number': 1, 'created': '2018-05-15 10:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ff56633934f8017f0b51aea98aa81810e0204af4', 'message': 'Compute: Add description support for server\n\nChange-Id: Ic06d97b29e51828b29d7ac5172645c288e4ada9e\nStory: 2002005\nTask: 19640\n'}, {'number': 2, 'created': '2018-05-15 12:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/651b6bdc26a426dfe3a42e449553ca23349947c8', 'message': 'Compute: Add description support for server\n\nChange-Id: Ic06d97b29e51828b29d7ac5172645c288e4ada9e\nStory: 2002005\nTask: 19640\n'}, {'number': 3, 'created': '2018-05-18 02:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e5bb558d7ec6d0f0bc7e0723e07123543327feb1', 'message': 'Compute: Add description support for server\n\nChange-Id: Ic06d97b29e51828b29d7ac5172645c288e4ada9e\nStory: 2002005\nTask: 19640\n'}, {'number': 4, 'created': '2018-05-18 02:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8a3ecd9bc471547b051591979b59db580516f7c1', 'message': 'Compute: Add description support for server\n\nChange-Id: Ic06d97b29e51828b29d7ac5172645c288e4ada9e\nStory: 2002005\nTask: 19640\n'}, {'number': 5, 'created': '2018-05-18 02:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/82f6134c75a2884dfdd68dc763ffc1e7b081f38d', 'message': ""Compute: Add description support for server Part 1\n\nThis patch adds functionality of updating server's description\nand a couple of unit tests.\n\nChange-Id: Ic06d97b29e51828b29d7ac5172645c288e4ada9e\nStory: 2002005\nTask: 19640\n""}, {'number': 6, 'created': '2018-06-28 09:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6e4ea23ad2f16994a6af19bea525481165a74b5e', 'message': ""Compute: Add description support for server\n\nThis patch adds functionality to update and set server's description.\n\nChange-Id: Ic06d97b29e51828b29d7ac5172645c288e4ada9e\nStory: 2002005\nTask: 19640\n""}, {'number': 7, 'created': '2018-06-29 12:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/64d4f9a40a6b26acb619a5bcad9c94c0e407f3f1', 'message': ""Compute: Add description support for server\n\nThis patch adds functionality to configure server's description with:\n1 server create\n2 server set\n3 server unset\n4 server rebuild\n\nChange-Id: Ic06d97b29e51828b29d7ac5172645c288e4ada9e\nStory: 2002005\nTask: 19640\n""}, {'number': 8, 'created': '2018-07-27 06:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/065f8af58be91fbdba4207ad061471dabcdaecc9', 'message': ""Compute: Add description support for server\n\nThis patch adds functionality to configure server's description with:\n1 server create\n2 server set\n3 server unset\n4 server rebuild\n\nChange-Id: Ic06d97b29e51828b29d7ac5172645c288e4ada9e\nStory: 2002005\nTask: 19640\n""}, {'number': 9, 'created': '2018-10-18 09:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0067f265415b33c2323cbdb8f741614d1e72efc6', 'message': ""Compute: Add description support for server\n\nThis patch adds functionality to configure server's description with:\n1 server create\n2 server set\n3 server unset\n4 server rebuild\n\nChange-Id: Ic06d97b29e51828b29d7ac5172645c288e4ada9e\nStory: 2002005\nTask: 19640\n""}, {'number': 10, 'created': '2018-10-18 14:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2964242efe42593989b6fc1440c677a884f1ce3f', 'message': ""Compute: Add description support for server\n\nThis patch adds functionality to configure server's description with:\n1 server create\n2 server set\n3 server unset\n4 server rebuild\n\nChange-Id: Ic06d97b29e51828b29d7ac5172645c288e4ada9e\nStory: 2002005\nTask: 19640\n""}, {'number': 11, 'created': '2018-10-29 03:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ba171a91c9be1c9c32b811ec026d7d1d42f63294', 'message': ""Compute: Add description support for server\n\nThis patch adds functionality to configure server's description with:\n1 server create\n2 server set\n3 server unset\n4 server rebuild\n\nChange-Id: Ic06d97b29e51828b29d7ac5172645c288e4ada9e\nStory: 2002005\nTask: 19640\n""}, {'number': 12, 'created': '2019-05-17 20:58:35.000000000', 'files': ['releasenotes/notes/server-description-ae9618fc09544cac.yaml', 'doc/source/cli/data/nova.csv', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c77a9621beaf7748e5ccfecb3ac37fa9602c5bfe', 'message': ""Compute: Add description support for server\n\nThis patch adds functionality to configure server's description with:\n1 server create\n2 server set\n3 server unset\n4 server rebuild\n\nChange-Id: Ic06d97b29e51828b29d7ac5172645c288e4ada9e\nStory: 2002005\nTask: 19640\n""}]",21,568549,c77a9621beaf7748e5ccfecb3ac37fa9602c5bfe,55,11,12,25562,,,0,"Compute: Add description support for server

This patch adds functionality to configure server's description with:
1 server create
2 server set
3 server unset
4 server rebuild

Change-Id: Ic06d97b29e51828b29d7ac5172645c288e4ada9e
Story: 2002005
Task: 19640
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/49/568549/12 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",2,ff56633934f8017f0b51aea98aa81810e0204af4,compute_support_desc,"from novaclient import api_versions parser.add_argument( '--description', metavar='<description>', help=_('New server description'), ) if parsed_args.description: descr_microversion = api_versions.APIVersion(""2.19"") if server.api_version < descr_microversion: msg = _(""Description is not supported for nova api version "" ""< 2.19"") raise exceptions.CommandError(msg) server.update(description=parsed_args.description) ",,61,0
openstack%2Foctavia-lib~master~I224acdf4a1a946ef6e5ecb49a3a54938a6c961a7,openstack/octavia-lib,master,I224acdf4a1a946ef6e5ecb49a3a54938a6c961a7,Add project_id to all of the data model objects,MERGED,2019-06-05 21:18:20.000000000,2019-06-06 13:15:38.000000000,2019-06-06 12:06:19.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 25564}]","[{'number': 1, 'created': '2019-06-05 21:18:20.000000000', 'files': ['octavia_lib/tests/unit/api/drivers/test_data_models.py', 'octavia_lib/api/drivers/data_models.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/5376e0304c6858d27bf6951702b95924ec433618', 'message': 'Add project_id to all of the data model objects\n\nThis patch adds a project_id field to all of the data model objects.\n\nThis is useful for drivers to track/associate objects on the backend.\n\nChange-Id: I224acdf4a1a946ef6e5ecb49a3a54938a6c961a7\n'}]",0,663434,5376e0304c6858d27bf6951702b95924ec433618,10,4,1,11628,,,0,"Add project_id to all of the data model objects

This patch adds a project_id field to all of the data model objects.

This is useful for drivers to track/associate objects on the backend.

Change-Id: I224acdf4a1a946ef6e5ecb49a3a54938a6c961a7
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/34/663434/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_lib/tests/unit/api/drivers/test_data_models.py', 'octavia_lib/api/drivers/data_models.py']",2,5376e0304c6858d27bf6951702b95924ec433618,," client_crl_container_data=Unset, project_id=Unset): self.project_id = project_id crl_container_data=Unset, tls_enabled=Unset, project_id=Unset): self.project_id = project_id weight=Unset, backup=Unset, project_id=Unset): self.project_id = project_id domain_name=Unset, project_id=Unset): self.project_id = project_id rules=Unset, redirect_prefix=Unset, redirect_http_code=Unset, project_id=Unset): self.project_id = project_id value=Unset, project_id=Unset): self.project_id = project_id"," client_crl_container_data=Unset): crl_container_data=Unset, tls_enabled=Unset): weight=Unset, backup=Unset): domain_name=Unset): rules=Unset, redirect_prefix=Unset, redirect_http_code=Unset): value=Unset):",26,6
openstack%2Ftripleo-ansible~master~If3ca66befee3f82f462a8fc00984698e26cc7e9b,openstack/tripleo-ansible,master,If3ca66befee3f82f462a8fc00984698e26cc7e9b,Update project structure,MERGED,2019-06-05 14:14:45.000000000,2019-06-06 13:02:24.000000000,2019-06-06 13:02:24.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-06-05 14:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9453e7b15540d747e65b702447e2a47e5c743208', 'message': 'Update project structure\n\nThis change updates the project structure to reflect the documented\nansible best practice when creating projects [0].\n\n* setup.cfg has been updated to ensure this package installs all of the\n  libs and playbooks into the correct on system locations.\n\nWith this change we should be able to begin collecting content throughout\nthe tripleo ecosystem.\n\n[0] - https://docs.ansible.com/ansible/latest/user_guide/playbooks_best_practices.html#directory-layout\n\nChange-Id: If3ca66befee3f82f462a8fc00984698e26cc7e9b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-06-05 14:27:25.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/action/.gitkeep', 'tripleo_ansible/playbooks/host_vars/.gitkeep', 'tripleo_ansible/ansible_plugins/filter/.gitkeep', 'tripleo_ansible/playbooks/fetch-logs.yml', 'tripleo_ansible/playbooks/container-cleanup.yml', 'tripleo_ansible/roles/.gitkeep', 'tripleo_ansible/ansible_plugins/modules/podman_image_facts.py', 'tripleo_ansible/playbooks/group_vars/.gitkeep', 'tripleo_ansible/ansible_plugins/modules/podman_image.py', 'tripleo_ansible/ansible_plugins/module_utils/.gitkeep', 'tripleo_ansible/ansible_plugins/callback/.gitkeep', 'tripleo_ansible/playbooks/restart-service.yml', 'zuul.d/layout.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d7163861f2091699fd2f0212a09aa9016dd0443c', 'message': 'Update project structure\n\nThis change updates the project structure to reflect the documented\nansible best practice when creating projects [0].\n\n* setup.cfg has been updated to ensure this package installs all of the\n  libs and playbooks into the correct on system locations.\n\nWith this change we should be able to begin collecting content throughout\nthe tripleo ecosystem.\n\n[0] - https://docs.ansible.com/ansible/latest/user_guide/playbooks_best_practices.html#directory-layout\n\nChange-Id: If3ca66befee3f82f462a8fc00984698e26cc7e9b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",2,663340,d7163861f2091699fd2f0212a09aa9016dd0443c,13,6,2,7353,,,0,"Update project structure

This change updates the project structure to reflect the documented
ansible best practice when creating projects [0].

* setup.cfg has been updated to ensure this package installs all of the
  libs and playbooks into the correct on system locations.

With this change we should be able to begin collecting content throughout
the tripleo ecosystem.

[0] - https://docs.ansible.com/ansible/latest/user_guide/playbooks_best_practices.html#directory-layout

Change-Id: If3ca66befee3f82f462a8fc00984698e26cc7e9b
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/40/663340/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/action/.gitkeep', 'tripleo_ansible/playbooks/host_vars/.gitkeep', 'tripleo_ansible/ansible_plugins/filter/.gitkeep', 'tripleo_ansible/playbooks/fetch-logs.yml', 'tripleo_ansible/playbooks/container-cleanup.yml', 'tripleo_ansible/roles/.gitkeep', 'tripleo_ansible/ansible_plugins/modules/podman_image_facts.py', 'tripleo_ansible/playbooks/group_vars/.gitkeep', 'tripleo_ansible/ansible_plugins/modules/podman_image.py', 'tripleo_ansible/ansible_plugins/module_utils/.gitkeep', 'tripleo_ansible/ansible_plugins/callback/.gitkeep', 'tripleo_ansible/playbooks/restart-service.yml', 'zuul.d/layout.yaml', 'setup.cfg']",15,9453e7b15540d747e65b702447e2a47e5c743208,structure-update,summary = Ansible assets for the TripleO project. author = OpenStack author-email = openstack-discuss@lists.openstack.org License :: OSI Approved :: Apache Software License Development Status :: 4 - Beta Intended Audience :: Developers Intended Audience :: System Administrators Intended Audience :: Information Technology Topic :: Utilities share/ansible/tripleo-ansible/ = tripleo_ansible/playbooks/* share/ansible/plugins/ = tripleo_ansible/ansible_plugins/* share/ansible/roles/ = tripleo_ansible/roles/*skip_changelog = True,summary = TripleO Ansible - Ansible playbooks for the TripleO project.author = TripleO Team author-email = jillr@redhat.com License :: OSI Approved :: Apache Software License Development Status :: 4 - Beta Intended Audience :: Developers Intended Audience :: System Administrators Intended Audience :: Information Technology Topic :: Utilities share/ansible/tripleo-ansible/ = tripleo_ansible/*skip_changelog = True ,15,13
openstack%2Ftripleo-ansible~master~Ia680f38f6d50cb8021be1622413b8eb1cd642a8c,openstack/tripleo-ansible,master,Ia680f38f6d50cb8021be1622413b8eb1cd642a8c,Remove unnecessary files,MERGED,2019-06-05 13:59:05.000000000,2019-06-06 13:02:23.000000000,2019-06-06 13:02:23.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-06-05 13:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4f6454ab93e330858908554fc24cc2ed0a49767e', 'message': 'Remove unessisary files\n\nThese files serve no purpose at this time and have been removed.\n\nChange-Id: Ia680f38f6d50cb8021be1622413b8eb1cd642a8c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-06-05 14:07:16.000000000', 'files': ['ansible-requirements.txt', 'tripleo_ansible/group_vars/keep', 'tripleo_ansible/ansible.cfg', 'ansible.cfg', 'ci-scripts/ansible-lint.sh', 'tripleo_ansible/host_vars/keep'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fb416302f2a7e98e188b0035ec144b93b29aaa4e', 'message': 'Remove unnecessary files\n\nThese files serve no purpose at this time and have been removed.\n\nChange-Id: Ia680f38f6d50cb8021be1622413b8eb1cd642a8c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,663338,fb416302f2a7e98e188b0035ec144b93b29aaa4e,9,4,2,7353,,,0,"Remove unnecessary files

These files serve no purpose at this time and have been removed.

Change-Id: Ia680f38f6d50cb8021be1622413b8eb1cd642a8c
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/38/663338/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-requirements.txt', 'tripleo_ansible/group_vars/keep', 'tripleo_ansible/ansible.cfg', 'ansible.cfg', 'ci-scripts/ansible-lint.sh', 'tripleo_ansible/host_vars/keep']",6,4f6454ab93e330858908554fc24cc2ed0a49767e,structure-update,,,0,492
openstack%2Ftripleo-ansible~master~If2095741dd0e977de71f8110307aef92d4f3676c,openstack/tripleo-ansible,master,If2095741dd0e977de71f8110307aef92d4f3676c,Add update lint jobs using pre-commit,MERGED,2019-06-05 13:33:45.000000000,2019-06-06 13:02:22.000000000,2019-06-06 13:02:22.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 13:33:45.000000000', 'files': ['tripleo_ansible/ansible-role-requirements.yml', '.yamllint', 'tripleo_ansible/library/podman_image.py', 'test-requirements.txt', 'tripleo_ansible/container-cleanup.yml', 'tripleo_ansible/fetch-logs.yml', 'README.rst', 'tripleo_ansible/restart-service.yml', 'zuul.d/layout.yaml', 'tox.ini', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4403a163d4b9aa252fd23bc0dfbf11ae296a503b', 'message': ""Add update lint jobs using pre-commit\n\nPre-commit was added to run all of the lint jobs via tox. Because\nthis change now enforces the linters, the modules and playbooks\nhave been updated so they're able to pass the checks.\n\n> Several excludes and lint ommisions have been added to the\n  pre-commit config. These were added because the current code\n  can not pass the basic checks in its present state. In a\n  future PR updates will be made to the playbooks and modules\n  and these ommissions will be removed. The goal of this PR is\n  to ensure some checks are running and lay the ground work\n  for future structural changes.\n\nChange-Id: If2095741dd0e977de71f8110307aef92d4f3676c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",0,663331,4403a163d4b9aa252fd23bc0dfbf11ae296a503b,7,3,1,7353,,,0,"Add update lint jobs using pre-commit

Pre-commit was added to run all of the lint jobs via tox. Because
this change now enforces the linters, the modules and playbooks
have been updated so they're able to pass the checks.

> Several excludes and lint ommisions have been added to the
  pre-commit config. These were added because the current code
  can not pass the basic checks in its present state. In a
  future PR updates will be made to the playbooks and modules
  and these ommissions will be removed. The goal of this PR is
  to ensure some checks are running and lay the ground work
  for future structural changes.

Change-Id: If2095741dd0e977de71f8110307aef92d4f3676c
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/31/663331/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible-role-requirements.yml', '.yamllint', 'tripleo_ansible/library/podman_image.py', 'test-requirements.txt', 'tripleo_ansible/container-cleanup.yml', 'tripleo_ansible/fetch-logs.yml', 'README.rst', 'tripleo_ansible/restart-service.yml', 'zuul.d/layout.yaml', 'tox.ini', '.pre-commit-config.yaml']",11,4403a163d4b9aa252fd23bc0dfbf11ae296a503b,structure-update,"--- repos: - repo: https://github.com/pre-commit/pre-commit-hooks rev: v2.1.0 hooks: - id: end-of-file-fixer - id: trailing-whitespace - id: mixed-line-ending - id: check-byte-order-marker - id: check-executables-have-shebangs - id: check-merge-conflict - id: debug-statements - id: flake8 entry: flake8 --ignore=E24,E121,E123,E124,E126,E226,E305,E402,F401,F405,E501,E704,F403,F841,W503 # TODO(cloudnull): These codes were added to pass the lint check. # All of these ignore codes should be resolved in # future PRs. - id: check-yaml files: .*\.(yaml|yml)$ - repo: https://github.com/adrienverge/yamllint.git rev: v1.15.0 hooks: - id: yamllint files: \.(yaml|yml)$ types: [file, yaml] entry: yamllint --strict -f parsable - repo: https://github.com/ansible/ansible-lint rev: v4.1.0a0 hooks: - id: ansible-lint files: \.(yaml|yml)$ entry: >- ansible-lint --force-color -v -x ""ANSIBLE0006,ANSIBLE0007,ANSIBLE0010,ANSIBLE0012,ANSIBLE0013,ANSIBLE0016"" --exclude=tripleo_ansible/roles/openstack-operations/tasks/restore_galera.yml --exclude=tripleo_ansible/roles/openstack-operations/tasks/restore_redis.yml # TODO(cloudnull): These codes were added to pass the lint check. # All of these ignore codes should be resolved in # future PRs. - repo: https://github.com/openstack-dev/bashate.git rev: 0.6.0 hooks: - id: bashate entry: bashate --error . --verbose --ignore=E006,E040 # Run bashate check for all bash scripts # Ignores the following rules: # E006: Line longer than 79 columns (as many scripts use jinja # templating, this is very difficult) # E040: Syntax error determined using `bash -n` (as many scripts # use jinja templating, this will often fail and the syntax # error will be discovered in execution anyway) ",,184,41
openstack%2Fvitrage~master~Ia2c78071091a7f1b673d8ff2e03d36bbbb1ebe8c,openstack/vitrage,master,Ia2c78071091a7f1b673d8ff2e03d36bbbb1ebe8c,Configure nova to send versioned and unversioned notifications,MERGED,2019-06-06 08:37:12.000000000,2019-06-06 13:00:08.000000000,2019-06-06 13:00:08.000000000,"[{'_account_id': 1736}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 08:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/d903b714c2c9576d3b6893b2106111d56ff3a89c', 'message': 'Configure nova to send versioned and unversioned notifications\n\nNova change https://review.opendev.org/603079/ is changing the\ndefault configuration to send only unversioned notfications rather\nthan both versioned and unversioned notifications.\n\nmake sure vitrage uses both.\n\nChange-Id: Ia2c78071091a7f1b673d8ff2e03d36bbbb1ebe8c\n'}, {'number': 2, 'created': '2019-06-06 10:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/bf13dadd6ca25b83e501dfa3098deb4a08cc8df6', 'message': 'Configure nova to send versioned and unversioned notifications\n\nNova change https://review.opendev.org/603079/ is changing the\ndefault configuration to send only unversioned notfications rather\nthan both versioned and unversioned notifications.\n\nmake sure vitrage uses both.\n\nChange-Id: Ia2c78071091a7f1b673d8ff2e03d36bbbb1ebe8c\n'}, {'number': 3, 'created': '2019-06-06 10:16:24.000000000', 'files': ['devstack/gate_hook.sh', 'devstack/gate_hook_mock.sh'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/1a4d2bf7b9252fc4ea76b446c2a1217521d5e186', 'message': 'Configure nova to send versioned and unversioned notifications\n\nNova change https://review.opendev.org/603079/ is changing the\ndefault configuration to send only unversioned notfications rather\nthan both versioned and unversioned notifications.\n\nmake sure vitrage uses both.\n\nChange-Id: Ia2c78071091a7f1b673d8ff2e03d36bbbb1ebe8c\n'}]",2,663535,1a4d2bf7b9252fc4ea76b446c2a1217521d5e186,19,4,3,19134,,,0,"Configure nova to send versioned and unversioned notifications

Nova change https://review.opendev.org/603079/ is changing the
default configuration to send only unversioned notfications rather
than both versioned and unversioned notifications.

make sure vitrage uses both.

Change-Id: Ia2c78071091a7f1b673d8ff2e03d36bbbb1ebe8c
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/35/663535/3 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/gate_hook.sh', 'devstack/gate_hook_mock.sh']",2,d903b714c2c9576d3b6893b2106111d56ff3a89c,eyalb/notifications,"notification_format ""both""",,2,0
openstack%2Fansible-role-tripleo-ui~master~I276d5c4b809202ba7cb6bf9b10e04decc34b054b,openstack/ansible-role-tripleo-ui,master,I276d5c4b809202ba7cb6bf9b10e04decc34b054b,As part of the retirement of TripleO-UI this is no longer needed.,MERGED,2019-05-24 21:44:02.000000000,2019-06-06 13:00:00.000000000,2019-06-06 12:59:59.000000000,"[{'_account_id': 6547}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-24 21:44:02.000000000', 'files': ['tasks/main.yml', 'test-requirements.txt', 'setup.py', 'ansible.cfg', 'ci-scripts/ansible-lint.sh', 'defaults/main.yml', 'README.md', 'ansible-requirements.txt', 'requirements.txt', 'zuul.d/layout.yaml', 'setup.cfg', 'LICENSE', 'tox.ini', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-ui/commit/af7d3157c76f0906ea5755f74cd6498fea7c97bc', 'message': 'As part of the retirement of TripleO-UI this is no longer needed.\n\nSee topic: retire_tripleo_ui\n\nChange-Id: I276d5c4b809202ba7cb6bf9b10e04decc34b054b\n'}]",0,661406,af7d3157c76f0906ea5755f74cd6498fea7c97bc,10,5,1,10112,,,0,"As part of the retirement of TripleO-UI this is no longer needed.

See topic: retire_tripleo_ui

Change-Id: I276d5c4b809202ba7cb6bf9b10e04decc34b054b
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-ui refs/changes/06/661406/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'test-requirements.txt', 'setup.py', 'ansible.cfg', 'ci-scripts/ansible-lint.sh', 'defaults/main.yml', 'README.md', 'ansible-requirements.txt', 'requirements.txt', 'zuul.d/layout.yaml', 'setup.cfg', 'LICENSE', 'tox.ini', 'meta/main.yml']",14,af7d3157c76f0906ea5755f74cd6498fea7c97bc,retire_tripleo_ui,,galaxy_info: author: TripleO Team description: ui role for TripleO company: Red Hat license: Apache 2.0 min_ansible_version: 2.4 platforms: - name: EL versions: - 7 galaxy_tags: - openstack - tripleo dependencies: [] ,3,391
openstack%2Fvitrage~master~I838f28665da53cc9f301b78b7d34dbb4fa5b4b32,openstack/vitrage,master,I838f28665da53cc9f301b78b7d34dbb4fa5b4b32,Do not review. Test commit,ABANDONED,2019-06-05 21:27:44.000000000,2019-06-06 12:32:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-05 21:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/28ceacd83c8123854a760a693987bbf23402bef4', 'message': 'Do not review. Test commit\n\nChange-Id: I838f28665da53cc9f301b78b7d34dbb4fa5b4b32\n'}, {'number': 2, 'created': '2019-06-06 05:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/e4008ed554eef0f48164863d5079846f6a1915ae', 'message': 'Do not review. Test commit\n\nChange-Id: I838f28665da53cc9f301b78b7d34dbb4fa5b4b32\n'}, {'number': 3, 'created': '2019-06-06 06:14:07.000000000', 'files': ['vitrage/service.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/279c85c4ae6437bf1df6e7a5352684e53cbd5a57', 'message': 'Do not review. Test commit\n\nDepends-On: https://review.opendev.org/#/c/662849/\nChange-Id: I838f28665da53cc9f301b78b7d34dbb4fa5b4b32\n'}]",0,663437,279c85c4ae6437bf1df6e7a5352684e53cbd5a57,6,1,3,1736,,,0,"Do not review. Test commit

Depends-On: https://review.opendev.org/#/c/662849/
Change-Id: I838f28665da53cc9f301b78b7d34dbb4fa5b4b32
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/37/663437/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage/service.py'],1,28ceacd83c8123854a760a693987bbf23402bef4,test-ci,,,1,0
openstack%2Fzaqar~stable%2Frocky~I846d82415330b611944354c1d261a0f8ac17ae53,openstack/zaqar,stable/rocky,I846d82415330b611944354c1d261a0f8ac17ae53,Update UPPER_CONSTRAINTS_FILE for stable/rocky,MERGED,2018-08-06 17:01:06.000000000,2019-06-06 12:27:33.000000000,2019-06-06 12:27:33.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28035}]","[{'number': 1, 'created': '2018-08-06 17:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/fd772794403e1e06a61e2416e0f0120f1477b3eb', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/rocky\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I846d82415330b611944354c1d261a0f8ac17ae53\n""}, {'number': 2, 'created': '2018-09-19 01:06:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/85ddd7e189df7e3054f0a3fbe0efa0049509f9cc', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/rocky\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I846d82415330b611944354c1d261a0f8ac17ae53\n""}]",0,589232,85ddd7e189df7e3054f0a3fbe0efa0049509f9cc,16,3,2,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/rocky

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I846d82415330b611944354c1d261a0f8ac17ae53
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/32/589232/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fd772794403e1e06a61e2416e0f0120f1477b3eb,create-rocky,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/rocky} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fkolla-ansible~stable%2Frocky~I47dc121b31e175959aeb82dc157c6ee046c328c1,openstack/kolla-ansible,stable/rocky,I47dc121b31e175959aeb82dc157c6ee046c328c1,DNM: Test bifrost (Rocky),ABANDONED,2019-04-15 13:06:15.000000000,2019-06-06 12:18:46.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 13:06:15.000000000', 'files': ['ansible/roles/bifrost/tasks/config.yml', 'tests/get_logs.sh', 'zuul.d/project.yaml', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6efbec4e4a2292dd2da9a87acb58eebddee1b7e7', 'message': 'DNM: Test bifrost (Rocky)\n\nChange-Id: I47dc121b31e175959aeb82dc157c6ee046c328c1\n'}]",0,652651,6efbec4e4a2292dd2da9a87acb58eebddee1b7e7,8,2,1,14826,,,0,"DNM: Test bifrost (Rocky)

Change-Id: I47dc121b31e175959aeb82dc157c6ee046c328c1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/652651/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/bifrost/tasks/config.yml', 'tests/get_logs.sh', 'zuul.d/project.yaml', 'tools/setup_gate.sh']",4,6efbec4e4a2292dd2da9a87acb58eebddee1b7e7,test-bifrost, cat /etc/hosts > /tmp/logs/system_logs/hosts-before cat /etc/hosts > /tmp/logs/system_logs/hosts-after ,,6,17
openstack%2Fkolla-ansible~stable%2Fstein~I47dc121b31e175959aeb82dc157c6ee046c328c1,openstack/kolla-ansible,stable/stein,I47dc121b31e175959aeb82dc157c6ee046c328c1,DNM: Test bifrost (Stein),ABANDONED,2019-04-15 12:46:04.000000000,2019-06-06 12:18:41.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 12:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bdcf3413f3709237e63f41dd7b2101d2ad414756', 'message': 'DNM: Test bifrost (Stein)\n\nChange-Id: I47dc121b31e175959aeb82dc157c6ee046c328c1\n'}, {'number': 2, 'created': '2019-05-29 10:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/17e4d22c870a3206b67e4db21f750b948a8b3873', 'message': 'DNM: Test bifrost (Stein)\n\nChange-Id: I47dc121b31e175959aeb82dc157c6ee046c328c1\n'}, {'number': 3, 'created': '2019-05-29 12:10:21.000000000', 'files': ['tests/deploy-bifrost.sh', 'ansible/roles/bifrost/tasks/config.yml', 'tests/get_logs.sh', 'ansible/roles/bifrost/tasks/bootstrap.yml', 'zuul.d/project.yaml', 'tests/test-bifrost.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/65c4b7f65eb6e7be6fc89054387d79157a1d1665', 'message': 'DNM: Test bifrost (Stein)\n\nChange-Id: I47dc121b31e175959aeb82dc157c6ee046c328c1\n'}]",0,652640,65c4b7f65eb6e7be6fc89054387d79157a1d1665,16,2,3,14826,,,0,"DNM: Test bifrost (Stein)

Change-Id: I47dc121b31e175959aeb82dc157c6ee046c328c1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/40/652640/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/deploy-bifrost.sh', 'ansible/roles/bifrost/tasks/config.yml', 'tests/get_logs.sh', 'zuul.d/project.yaml']",4,bdcf3413f3709237e63f41dd7b2101d2ad414756,test-bifrost,, templates: - check-requirements - deploy-guide-jobs - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python-jobs - openstack-python36-jobs - openstack-python37-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - kolla-ansible-centos-source - kolla-ansible-ubuntu-source - kolla-ansible-oraclelinux-source - kolla-ansible-ubuntu-source-ceph - kolla-ansible-centos-source-ceph - kolla-ansible-oraclelinux-source-ceph - kolla-ansible-ubuntu-source-cinder-lvm: files: ^ansible\/roles\/(cinder|iscsi)\/.* - kolla-ansible-centos-source-cinder-lvm: files: ^ansible\/roles\/(cinder|iscsi)\/.* - kolla-ansible-ubuntu-source-zun: files: ^ansible\/roles\/(zun|kuryr)\/.* - kolla-ansible-centos-source-scenario-nfv: files: ^ansible\/roles\/(barbican|heat|mistral|redis|tacker)\/.* - kolla-ansible-centos-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-centos-binary - kolla-ansible-ubuntu-binary,6,28
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I67da243a7543dcea7af16e964810c4c32e8ecbe1,openstack/tripleo-heat-templates,stable/queens,I67da243a7543dcea7af16e964810c4c32e8ecbe1,[queens-only] Write docker config scripts only if config exists,MERGED,2019-06-03 13:36:37.000000000,2019-06-06 12:00:45.000000000,2019-06-05 21:05:35.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-06-03 13:36:37.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/073851d32873e8ba54a58594846c6e65d0e9a3ff', 'message': ""[queens-only] Write docker config scripts only if config exists\n\nDo not try to write docker config scripts if the\ndocker_config_scripts.yaml doesn't exist.\n\nI832a2ec34f4ed4a87e30d0c88f4c60bcf2f4c151 was reverted so there is no\ndefault hash provided to the loop introduced in\nI1fc7431dfc662212b6ca64f4f738760f25b0c30b so the simplest patch\n(one-liner) is to run the task only when the file exist (like the\nprevious fact which sets the var used).\n\nAnother way to fix it would have been to revert the revert but it has\nproven to break some CI jobs, so this is the simplest way to fix it now.\n\nChange-Id: I67da243a7543dcea7af16e964810c4c32e8ecbe1\nCloses-Bug: #1831455\n""}]",0,662756,073851d32873e8ba54a58594846c6e65d0e9a3ff,17,8,1,3153,,,0,"[queens-only] Write docker config scripts only if config exists

Do not try to write docker config scripts if the
docker_config_scripts.yaml doesn't exist.

I832a2ec34f4ed4a87e30d0c88f4c60bcf2f4c151 was reverted so there is no
default hash provided to the loop introduced in
I1fc7431dfc662212b6ca64f4f738760f25b0c30b so the simplest patch
(one-liner) is to run the task only when the file exist (like the
previous fact which sets the var used).

Another way to fix it would have been to revert the revert but it has
proven to break some CI jobs, so this is the simplest way to fix it now.

Change-Id: I67da243a7543dcea7af16e964810c4c32e8ecbe1
Closes-Bug: #1831455
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/662756/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,073851d32873e8ba54a58594846c6e65d0e9a3ff,bug/1831455, when: stat_docker_config_scripts.stat.exists,,1,0
openstack%2Fnova~master~Iaaeae9281301f14f4ae9b43f4a06de58b699fd68,openstack/nova,master,Iaaeae9281301f14f4ae9b43f4a06de58b699fd68,Hide hypervisor id on windows guests,MERGED,2018-07-03 15:02:33.000000000,2019-06-06 11:57:35.000000000,2019-06-06 05:35:52.000000000,"[{'_account_id': 7}, {'_account_id': 136}, {'_account_id': 782}, {'_account_id': 2033}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9373}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24791}, {'_account_id': 26515}, {'_account_id': 27882}, {'_account_id': 27961}, {'_account_id': 28332}, {'_account_id': 30400}, {'_account_id': 30413}, {'_account_id': 30448}]","[{'number': 1, 'created': '2018-07-03 15:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37579858d3e511708d4a63ed913573a62606e2a5', 'message': ""Hide hypervisor id on windows guests\n\nBlueprints hide-hypervisor-id-flavor-extra-spec and\nadd-kvm-hidden-feature allow hiding KVM's signature for guests, which is\nnecessary for Nvidia drivers to work in VMs with passthrough GPUs.\nWhile this works well for linux guests on KVM, it doesn't work for\nWindows guests. For them, KVM emulates some HyperV features. With the\ncurrent implementation, KVM's signature is hidden, but HyperV's is not,\nand Nvidia drivers don't work in Windows VMs.\n\nThis change generates an extra element in the libvirt xml for Windows\nguests on KVM which obfuscates HyperV's signature too, controlled by the\nexisting image and flavor parameters (img_hide_hypervisor_id and\nhide_hypervisor_id correspondingly). The extra xml element is <vendor_id\nstate='on' value='1234567890ab'/> in features/hyperv.\n\nChange-Id: Iaaeae9281301f14f4ae9b43f4a06de58b699fd68\nImplements: blueprint hide-hypervisor-id-windows-guests\nCloses-Bug: 1779845\n""}, {'number': 2, 'created': '2018-07-10 14:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8297dce5ed01f4f1aaa9264945a6a3a8160200a', 'message': ""Hide hypervisor id on windows guests\n\nBlueprints hide-hypervisor-id-flavor-extra-spec and\nadd-kvm-hidden-feature allow hiding KVM's signature for guests, which is\nnecessary for Nvidia drivers to work in VMs with passthrough GPUs.\nWhile this works well for linux guests on KVM, it doesn't work for\nWindows guests.\n\nFor them, KVM emulates some HyperV features. With the\ncurrent implementation, KVM's signature is hidden, but HyperV's is not,\nand Nvidia drivers don't work in Windows VMs.\n\nThis change generates an extra element in the libvirt xml for Windows\nguests on KVM which obfuscates HyperV's signature too, controlled by the\nexisting image and flavor parameters (img_hide_hypervisor_id and\nhide_hypervisor_id correspondingly). The extra xml element is\n  <vendor_id state='on' value='1234567890ab'/>\nin features/hyperv.\n\nChange-Id: Iaaeae9281301f14f4ae9b43f4a06de58b699fd68\nCloses-Bug: 1779845\n""}, {'number': 3, 'created': '2018-08-01 15:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a8a2d88aa417f17839fe1f677b868a0c1721c96', 'message': ""Hide hypervisor id on windows guests\n\nBlueprints hide-hypervisor-id-flavor-extra-spec and\nadd-kvm-hidden-feature allow hiding KVM's signature for guests, which is\nnecessary for Nvidia drivers to work in VMs with passthrough GPUs.\nWhile this works well for linux guests on KVM, it doesn't work for\nWindows guests.\n\nFor them, KVM emulates some HyperV features. With the\ncurrent implementation, KVM's signature is hidden, but HyperV's is not,\nand Nvidia drivers don't work in Windows VMs.\n\nThis change generates an extra element in the libvirt xml for Windows\nguests on KVM which obfuscates HyperV's signature too, controlled by the\nexisting image and flavor parameters (img_hide_hypervisor_id and\nhide_hypervisor_id correspondingly). The extra xml element is\n  <vendor_id state='on' value='1234567890ab'/>\nin features/hyperv.\n\nChange-Id: Iaaeae9281301f14f4ae9b43f4a06de58b699fd68\nCloses-Bug: 1779845\n""}, {'number': 4, 'created': '2018-08-02 14:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ad1318d1c0e1eeb4a1587df309d22577a7412d4', 'message': ""Hide hypervisor id on windows guests\n\nBlueprints hide-hypervisor-id-flavor-extra-spec and\nadd-kvm-hidden-feature allow hiding KVM's signature for guests, which is\nnecessary for Nvidia drivers to work in VMs with passthrough GPUs.\nWhile this works well for linux guests on KVM, it doesn't work for\nWindows guests.\n\nFor them, KVM emulates some HyperV features. With the\ncurrent implementation, KVM's signature is hidden, but HyperV's is not,\nand Nvidia drivers don't work in Windows VMs.\n\nThis change generates an extra element in the libvirt xml for Windows\nguests on KVM which obfuscates HyperV's signature too, controlled by the\nexisting image and flavor parameters (img_hide_hypervisor_id and\nhide_hypervisor_id correspondingly). The extra xml element is\n  <vendor_id state='on' value='1234567890ab'/>\nin features/hyperv.\n\nChange-Id: Iaaeae9281301f14f4ae9b43f4a06de58b699fd68\nCloses-Bug: 1779845\n""}, {'number': 5, 'created': '2019-05-31 20:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db8ac9d9081047a469173b275a9c82d441cb9869', 'message': ""Hide hypervisor id on windows guests\n\nBlueprints hide-hypervisor-id-flavor-extra-spec and\nadd-kvm-hidden-feature allow hiding KVM's signature for guests, which is\nnecessary for Nvidia drivers to work in VMs with passthrough GPUs.\nWhile this works well for linux guests on KVM, it doesn't work for\nWindows guests.\n\nFor them, KVM emulates some HyperV features. With the\ncurrent implementation, KVM's signature is hidden, but HyperV's is not,\nand Nvidia drivers don't work in Windows VMs.\n\nThis change generates an extra element in the libvirt xml for Windows\nguests on KVM which obfuscates HyperV's signature too, controlled by the\nexisting image and flavor parameters (img_hide_hypervisor_id and\nhide_hypervisor_id correspondingly). The extra xml element is\n  <vendor_id state='on' value='1234567890ab'/>\nin features/hyperv.\n\nChange-Id: Iaaeae9281301f14f4ae9b43f4a06de58b699fd68\nCloses-Bug: 1779845\n""}, {'number': 6, 'created': '2019-05-31 20:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1dbfbae64e0bad0a0fd547f8f3fe90fdc50e1155', 'message': ""Hide hypervisor id on windows guests\n\nBlueprints hide-hypervisor-id-flavor-extra-spec and\nadd-kvm-hidden-feature allow hiding KVM's signature for guests, which is\nnecessary for Nvidia drivers to work in VMs with passthrough GPUs.\nWhile this works well for linux guests on KVM, it doesn't work for\nWindows guests.\n\nFor them, KVM emulates some HyperV features. With the\ncurrent implementation, KVM's signature is hidden, but HyperV's is not,\nand Nvidia drivers don't work in Windows VMs.\n\nThis change generates an extra element in the libvirt xml for Windows\nguests on KVM which obfuscates HyperV's signature too, controlled by the\nexisting image and flavor parameters (img_hide_hypervisor_id and\nhide_hypervisor_id correspondingly). The extra xml element is\n  <vendor_id state='on' value='1234567890ab'/>\nin features/hyperv.\n\nChange-Id: Iaaeae9281301f14f4ae9b43f4a06de58b699fd68\nCloses-Bug: 1779845\n""}, {'number': 7, 'created': '2019-06-03 22:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8c272468e9d7741055910515a6f0aee101a9dd7', 'message': ""Hide hypervisor id on windows guests\n\nBlueprints hide-hypervisor-id-flavor-extra-spec [1] and\nadd-kvm-hidden-feature [2] allow hiding KVM's signature for guests,\nwhich is necessary for Nvidia drivers to work in VMs with passthrough\nGPUs.  While this works well for linux guests on KVM, it doesn't work\nfor Windows guests.\n\nFor them, KVM emulates some HyperV features. With the\ncurrent implementation, KVM's signature is hidden, but HyperV's is not,\nand Nvidia drivers don't work in Windows VMs.\n\nThis change generates an extra element in the libvirt xml for Windows\nguests on KVM which obfuscates HyperV's signature too, controlled by the\nexisting image and flavor parameters (img_hide_hypervisor_id and\nhide_hypervisor_id correspondingly). The extra xml element is\n  <vendor_id state='on' value='1234567890ab'/>\nin features/hyperv.\n\n[1] https://blueprints.launchpad.net/nova/+spec/hide-hypervisor-id-flavor-extra-spec\n[2] https://blueprints.launchpad.net/nova/+spec/add-kvm-hidden-feature\n\nChange-Id: Iaaeae9281301f14f4ae9b43f4a06de58b699fd68\nCloses-Bug: 1779845\n""}, {'number': 8, 'created': '2019-06-04 00:51:11.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'releasenotes/notes/bug-1779845-8819eea6e91fb09c.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ca543438e183b2bd97a08ef781ddeab8303354ed', 'message': ""Hide hypervisor id on windows guests\n\nBlueprints hide-hypervisor-id-flavor-extra-spec [1] and\nadd-kvm-hidden-feature [2] allow hiding KVM's signature for guests,\nwhich is necessary for Nvidia drivers to work in VMs with passthrough\nGPUs.  While this works well for linux guests on KVM, it doesn't work\nfor Windows guests.\n\nFor them, KVM emulates some HyperV features. With the\ncurrent implementation, KVM's signature is hidden, but HyperV's is not,\nand Nvidia drivers don't work in Windows VMs.\n\nThis change generates an extra element in the libvirt xml for Windows\nguests on KVM which obfuscates HyperV's signature too, controlled by the\nexisting image and flavor parameters (img_hide_hypervisor_id and\nhide_hypervisor_id correspondingly). The extra xml element is\n  <vendor_id state='on' value='1234567890ab'/>\nin features/hyperv.\n\n[1] https://blueprints.launchpad.net/nova/+spec/hide-hypervisor-id-flavor-extra-spec\n[2] https://blueprints.launchpad.net/nova/+spec/add-kvm-hidden-feature\n\nChange-Id: Iaaeae9281301f14f4ae9b43f4a06de58b699fd68\nCloses-Bug: 1779845\n""}]",44,579897,ca543438e183b2bd97a08ef781ddeab8303354ed,167,36,8,27961,,,0,"Hide hypervisor id on windows guests

Blueprints hide-hypervisor-id-flavor-extra-spec [1] and
add-kvm-hidden-feature [2] allow hiding KVM's signature for guests,
which is necessary for Nvidia drivers to work in VMs with passthrough
GPUs.  While this works well for linux guests on KVM, it doesn't work
for Windows guests.

For them, KVM emulates some HyperV features. With the
current implementation, KVM's signature is hidden, but HyperV's is not,
and Nvidia drivers don't work in Windows VMs.

This change generates an extra element in the libvirt xml for Windows
guests on KVM which obfuscates HyperV's signature too, controlled by the
existing image and flavor parameters (img_hide_hypervisor_id and
hide_hypervisor_id correspondingly). The extra xml element is
  <vendor_id state='on' value='1234567890ab'/>
in features/hyperv.

[1] https://blueprints.launchpad.net/nova/+spec/hide-hypervisor-id-flavor-extra-spec
[2] https://blueprints.launchpad.net/nova/+spec/add-kvm-hidden-feature

Change-Id: Iaaeae9281301f14f4ae9b43f4a06de58b699fd68
Closes-Bug: 1779845
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/579897/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,37579858d3e511708d4a63ed913573a62606e2a5,bug/1779845," @mock.patch.object(host.Host, 'has_min_version') def test_get_guest_config_windows_hyperv_all(self, mock_version): # Similar to test_get_guest_config_windows_hyperv_feature2 # but also test hiding the HyperV signature with the flavor # extra_spec ""hide_hypervisor_id"" flavor_hide_id = fake_flavor.fake_flavor_obj(self.context, extra_specs={""hide_hypervisor_id"": ""true""}, expected_attrs={""extra_specs""}) self.flags(virt_type='kvm', group='libvirt') mock_version.return_value = True drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance_ref = objects.Instance(**self.test_instance) instance_ref.flavor = flavor_hide_id instance_ref['os_type'] = 'windows' image_meta = objects.ImageMeta.from_dict(self.test_image_meta) disk_info = blockinfo.get_disk_info(CONF.libvirt.virt_type, instance_ref, image_meta) cfg = drvr._get_guest_config(instance_ref, _fake_network_info(self, 1), image_meta, disk_info) self.assertIsInstance(cfg.clock, vconfig.LibvirtConfigGuestClock) self.assertEqual(cfg.clock.offset, ""localtime"") self.assertEqual(4, len(cfg.features)) self.assertIsInstance(cfg.features[0], vconfig.LibvirtConfigGuestFeatureACPI) self.assertIsInstance(cfg.features[1], vconfig.LibvirtConfigGuestFeatureAPIC) self.assertIsInstance(cfg.features[2], vconfig.LibvirtConfigGuestFeatureHyperV) self.assertIsInstance(cfg.features[3], vconfig.LibvirtConfigGuestFeatureKvmHidden) self.assertTrue(cfg.features[2].relaxed) self.assertTrue(cfg.features[2].spinlocks) self.assertEqual(8191, cfg.features[2].spinlock_retries) self.assertTrue(cfg.features[2].vapic) self.assertTrue(cfg.features[2].vendorid_spoof) ",,61,2
openstack%2Fopenstack-helm-infra~master~Ia777bf212e0e3414909c70a4bd839e12d4919bb2,openstack/openstack-helm-infra,master,Ia777bf212e0e3414909c70a4bd839e12d4919bb2,Ceph-osd: Fix security context for pod/container,MERGED,2019-05-28 15:48:26.000000000,2019-06-06 11:53:10.000000000,2019-06-06 11:53:10.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 9079}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29132}, {'_account_id': 29161}]","[{'number': 1, 'created': '2019-05-28 15:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1c686d4501e15c6b982b75e64a31d8fded54dfe6', 'message': 'Ceph-osd: Fix security context for pod/container\n\nThis changes the  user from root to the nobody user instead\nin ceph-osd chart whereever needed\n\nThis also permits read-only filesystems to back the containers by setting\nthe default to true\n\nChange-Id: Ia777bf212e0e3414909c70a4bd839e12d4919bb2\n'}, {'number': 2, 'created': '2019-05-28 15:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/15e66d5406d7f046808a9d9240d9e073eb8dd3de', 'message': 'Ceph-osd: Fix security context for pod/container\n\nThis changes the  user from root to the nobody user instead\nin ceph-osd chart whereever needed\n\nThis also permits read-only filesystems to back the containers by setting\nthe default to true\n\nChange-Id: Ia777bf212e0e3414909c70a4bd839e12d4919bb2\n'}, {'number': 3, 'created': '2019-05-29 15:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eed8dc5e858a2a9344c68a1772afdabc7cc399e4', 'message': 'Ceph-osd: Fix security context for pod/container\n\nThis changes the  user from root to the nobody user instead\nin ceph-osd chart wherever needed\n\nThis also permits read-only filesystems to back the containers by setting\nthe default to true\n\nChange-Id: Ia777bf212e0e3414909c70a4bd839e12d4919bb2\n'}, {'number': 4, 'created': '2019-06-05 15:00:23.000000000', 'files': ['ceph-osd/templates/daemonset-osd.yaml', 'ceph-osd/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c9a1c412e76b939647e55dbe370605d1f45b0ff4', 'message': 'Ceph-osd: Fix security context for pod/container\n\nThis changes the  user from root to the nobody user instead\nin ceph-osd chart wherever needed\n\nThis also permits read-only filesystems to back the containers by setting\nthe default to true\n\nChange-Id: Ia777bf212e0e3414909c70a4bd839e12d4919bb2\n'}]",4,661796,c9a1c412e76b939647e55dbe370605d1f45b0ff4,19,9,4,29161,,,0,"Ceph-osd: Fix security context for pod/container

This changes the  user from root to the nobody user instead
in ceph-osd chart wherever needed

This also permits read-only filesystems to back the containers by setting
the default to true

Change-Id: Ia777bf212e0e3414909c70a4bd839e12d4919bb2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/96/661796/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/daemonset-osd.yaml', 'ceph-osd/values.yaml']",2,1c686d4501e15c6b982b75e64a31d8fded54dfe6,, runAsUser: 65534 runAsUser: 0 runAsUser: 0 runAsUser: 0 runAsUser: 0 runAsUser: 65534 runAsUser: 65534, runAsUser: 0 privileged: true privileged: true runAsUser: 0 runAsUser: 0,11,5
openstack%2Fpython-tripleoclient~master~Ief27d6d29afdff7608e35a8973c966592f1ef02b,openstack/python-tripleoclient,master,Ief27d6d29afdff7608e35a8973c966592f1ef02b,Add scripts for abandoning old patches,ABANDONED,2019-06-04 09:06:08.000000000,2019-06-06 11:45:35.000000000,,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 11082}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-04 09:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b642c11262eaa3a09cdd47af47f9c29280a5e040', 'message': 'WIP: Add scripts for abandoning old patches\n\nIn TripleO projects we have a lot of old reviews,\nthis two scripts will help to automatically abandon\nthis patches\n\nChange-Id: Ief27d6d29afdff7608e35a8973c966592f1ef02b\n'}, {'number': 2, 'created': '2019-06-05 10:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e562e4905948c0df402f90472e2a0870d5e42197', 'message': 'Add scripts for abandoning old patches\n\nIn TripleO projects we have a lot of old reviews,\nthis two scripts will help to automatically abandon\nthis patches. All decisions about abandoning are\nbased on:\nhttps://specs.openstack.org/openstack/tripleo-specs/specs/policy/patch-abandonment.html\n\nChange-Id: Ief27d6d29afdff7608e35a8973c966592f1ef02b\n'}, {'number': 3, 'created': '2019-06-05 10:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/309f78a21fe0990c2ce4ac6a378e52d3a635175e', 'message': 'Add scripts for abandoning old patches\n\nIn TripleO projects we have a lot of old reviews,\nthis two scripts will help to automatically abandon\nthis patches. All decisions about abandoning are\nbased on:\nhttps://specs.openstack.org/openstack/tripleo-specs/specs/policy/patch-abandonment.html\n\nChange-Id: Ief27d6d29afdff7608e35a8973c966592f1ef02b\n'}, {'number': 4, 'created': '2019-06-05 14:24:24.000000000', 'files': ['tools/unassign_bug.py', 'tools/abandon_old_reviews.sh'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7d335cbb3cdc6ab53053cec4733f8c4d130a6201', 'message': 'Add scripts for abandoning old patches\n\nIn TripleO projects we have a lot of old reviews,\nthis two scripts will help to automatically abandon\nthis patches. All decisions about abandoning are\nbased on:\nhttps://specs.openstack.org/openstack/tripleo-specs/specs/policy/patch-abandonment.html\n\nChange-Id: Ief27d6d29afdff7608e35a8973c966592f1ef02b\n'}]",8,662978,7d335cbb3cdc6ab53053cec4733f8c4d130a6201,20,8,4,11082,,,0,"Add scripts for abandoning old patches

In TripleO projects we have a lot of old reviews,
this two scripts will help to automatically abandon
this patches. All decisions about abandoning are
based on:
https://specs.openstack.org/openstack/tripleo-specs/specs/policy/patch-abandonment.html

Change-Id: Ief27d6d29afdff7608e35a8973c966592f1ef02b
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/78/662978/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/unassign_bug.py', 'tools/abandon_old_reviews.sh']",2,b642c11262eaa3a09cdd47af47f9c29280a5e040,abandon,"#!/usr/bin/env bash # Copyright 2019 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # WARNING! # Please do not run this script without talking to the Neutron PTL. Auto # abandoning people's changes is a good thing, but must be done with care. # # before you run this modify your .ssh/config to create a # review.opendev.org entry: # # Host review.opendev.org # User <yourgerritusername> # Port 29418 # DRY_RUN=0 CLEAN_PROJECT="""" function print_help { echo ""Script to abandon patches without activity for more than 4 weeks."" echo ""Usage:"" echo "" ./abandon_old_reviews.sh [--dry-run] [--project <project_name>] [--help]"" echo "" --dry-run In dry-run mode it will only print what patches would be abandoned "" echo "" but will not take any real actions in gerrit"" echo "" --project <project_name> Only check patches from <project_name> if passed."" echo "" It must be one of the projects which are a part of the TripleO-group."" echo "" If project is not provided, all projects from the TripleO-group will be checked"" echo "" --help Print help message"" } while [ $# -gt 0 ]; do key=""${1}"" case $key in --dry-run) echo ""Enabling dry run mode"" DRY_RUN=1 shift # past argument ;; --project) CLEAN_PROJECT=""project:openstack/${2}"" shift # past argument shift # past value ;; --help) print_help exit 2 esac done set -o errexit DIR=""$( cd ""$( dirname ""${BASH_SOURCE[0]}"" )"" && pwd )"" function abandon_review { local gitid=$1 shift local msg=$@ unassign_and_new_bug $gitid if [ $DRY_RUN -eq 1 ]; then echo ""Would abandon $gitid"" else echo ""Abandoning $gitid"" ssh review.opendev.org gerrit review $gitid --abandon --message \""$msg\"" fi } function unassign_and_new_bug { # unassign current assignee and set bug to 'new' status local gitid=$1 cm=$(ssh review.opendev.org ""gerrit query $gitid --current-patch-set --format json"" | jq .commitMessage) for closes in $(echo -e $cm | grep -i ""closes"" | grep -i ""bug"" | grep -o -E '[0-9]+'); do if [ $DRY_RUN -eq 1 ]; then echo ""Would unassign and tag 'timeout-abandon' $closes"" else echo ""Attempting to change status of bug $closes to New"" python ""$DIR/unassign_bug.py"" $closes fi done } PROJECTS=""($( python - <<EOF import urllib2 import yaml project = ""$CLEAN_PROJECT"" data = urllib2.urlopen(""https://raw.githubusercontent.com/openstack/"" ""governance/master/reference/projects.yaml"") governance = yaml.safe_load(data) stadium = governance[""tripleo""][""deliverables""].keys() query = [""project:openstack/%s"" % p for p in stadium] if project: print project if project in query else """" else: print ' OR '.join(query) EOF ))"" if [ ""$PROJECTS"" = ""()"" ]; then echo ""Project $CLEAN_PROJECT not found. It is probably not part of the TripleO deliverables."" exit 1 fi # first purge all the reviews that are more than 6w old and blocked by a core -2 blocked_reviews=$(ssh review.opendev.org ""gerrit query --current-patch-set --format json $PROJECTS status:open age:6w label:Code-Review<=-2"" | jq .currentPatchSet.revision | grep -v null | sed 's/""//g') blocked_msg=$(cat <<EOF This review is > 6 weeks without comment and currently blocked by a core reviewer with a -2. We are abandoning this for now. Feel free to reactivate the review by pressing the restore button and contacting the reviewer with the -2 on this review to ensure you address their concerns. EOF ) # For testing, put in a git rev of something you own and uncomment # blocked_reviews=""b6c4218ae4d75b86c33fa3d37c27bc23b46b6f0f"" for review in $blocked_reviews; do # echo ssh review.opendev.org gerrit review $review --abandon --message \""$msg\"" echo ""Blocked review $review"" abandon_review $review $blocked_msg done # then purge all the reviews that are > 8w with no changes and Zuul has -1ed failing_reviews=$(ssh review.opendev.org ""gerrit query --current-patch-set --format json $PROJECTS status:open age:8w NOT label:Verified>=1,Zuul"" | jq .currentPatchSet.revision | grep -v null | sed 's/""//g') failing_msg=$(cat <<EOF This review is > 8 weeks without comment, and failed Jenkins the last time it was checked. We are abandoning this for now. Feel free to reactivate the review by pressing the restore button and leaving a 'recheck' comment to get fresh test results. EOF ) for review in $failing_reviews; do echo ""Failing review $review"" abandon_review $review $failing_msg done if [ ""$PROJECTS"" = ""()"" ]; then echo ""Project $CLEAN_PROJECT not found. It is probably not part of the TripleO deliverables."" exit 1 fi very_old_reviews=$(ssh review.opendev.org ""gerrit query --current-patch-set --format json $PROJECTS status:open age:12w"" | jq .currentPatchSet.revision | grep -v null | sed 's/""//g') very_old_msg=$(cat <<EOF This review is > 12 weeks without comment. We are abandoning this for now. Feel free to reactivate the review by pressing the restore button and contacting the reviewers. EOF ) # then purge all the reviews that are > 12 for review in very_old_reviews; do # echo ssh review.opendev.org gerrit review $review --abandon --message \""$msg\"" echo ""Very old review $review"" abandon_review $review $very_old_msg done",,226,0
openstack%2Fkolla-ansible~stable%2Fstein~I04a9c4bff817601f718bb43f41f3418571b11cf4,openstack/kolla-ansible,stable/stein,I04a9c4bff817601f718bb43f41f3418571b11cf4,Spelling mistake in manila.conf.j2,MERGED,2019-06-03 01:47:26.000000000,2019-06-06 11:43:27.000000000,2019-06-06 11:43:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2019-06-03 01:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dcb878e07d006ec29e104c135aef4ad3e82c0b72', 'message': 'Spelling mistake in manila.conf.j2\n\nCo-Authored-By: liaoweizhong <liaoweizhong@unionpay.com>\n\nChange-Id: I04a9c4bff817601f718bb43f41f3418571b11cf4\nCloses-bugs: #1830853\n'}, {'number': 2, 'created': '2019-06-06 09:31:07.000000000', 'files': ['ansible/roles/manila/templates/manila-share.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/69cfe81adda18cea6b9972e47b19cf23bc694106', 'message': 'Spelling mistake in manila.conf.j2\n\nCo-Authored-By: liaoweizhong <liaoweizhong@unionpay.com>\n\nChange-Id: I04a9c4bff817601f718bb43f41f3418571b11cf4\nCloses-bug: #1830853\n(cherry picked from commit f4b49ae5e9ed26e8539aba495045773a8ef56d7d)\n'}]",0,662661,69cfe81adda18cea6b9972e47b19cf23bc694106,9,3,2,25048,,,0,"Spelling mistake in manila.conf.j2

Co-Authored-By: liaoweizhong <liaoweizhong@unionpay.com>

Change-Id: I04a9c4bff817601f718bb43f41f3418571b11cf4
Closes-bug: #1830853
(cherry picked from commit f4b49ae5e9ed26e8539aba495045773a8ef56d7d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/61/662661/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/manila/templates/manila-share.conf.j2'],1,dcb878e07d006ec29e104c135aef4ad3e82c0b72,bug/1830853-stable/stein,auth_uri = {{ keystone_internal_url }},uth_uri = {{ keystone_internal_url }},1,1
openstack%2Fglance_store~master~I965df1883639bfd5c900d2902884153d48988f6e,openstack/glance_store,master,I965df1883639bfd5c900d2902884153d48988f6e,Rethinking file system access,MERGED,2019-02-27 18:07:35.000000000,2019-06-06 11:41:45.000000000,2019-06-06 11:41:45.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 20147}, {'_account_id': 22348}, {'_account_id': 26233}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-02-27 18:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/8bcd6ac5a267e23752fdaac47a31b0015d072f4d', 'message': ""Rethinking file system access\n\nIn Rocky multiple backend support is added as experimental feature. In order\nto take advantage of this feature it is decided to deprecate work_dir and\nnode_staging_uri configuration options and reserve two filesystem stores\n'os_glance_tasks_store' and 'os_glance_staging_store', which can be used\nto get rid of initializing store via internal functions.\n\nThese stores will be `hard-coded` in glance for the time being\nand injected to enabled_backends config option to load when\nglance_store will be initialized at the time of glance-api service\nstarts. Operator needs to insure that these stores will not be\nincluded in enabled_backends config option in glance-api.conf.\n\nChange-Id: I965df1883639bfd5c900d2902884153d48988f6e\nPartial-Implements: blueprint rethinking-filesystem-access\n""}, {'number': 2, 'created': '2019-02-28 06:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/0ef4dea2a07baaf6ff660e4adae3f42f54937ce2', 'message': ""Rethinking file system access\n\nIn Rocky multiple backend support is added as experimental feature. In order\nto take advantage of this feature it is decided to deprecate work_dir and\nnode_staging_uri configuration options and reserve two filesystem stores\n'os_glance_tasks_store' and 'os_glance_staging_store', which can be used\nto get rid of initializing store via internal functions.\n\nThese stores will be `hard-coded` in glance for the time being\nand injected to enabled_backends config option to load when\nglance_store will be initialized at the time of glance-api service\nstarts. Operator needs to insure that these stores will not be\nincluded in enabled_backends config option in glance-api.conf.\n\nChange-Id: I965df1883639bfd5c900d2902884153d48988f6e\nPartial-Implements: blueprint rethinking-filesystem-access\n""}, {'number': 3, 'created': '2019-05-14 06:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/c99bce9e420a0dc64eb9ef10646fd1a944089612', 'message': ""Rethinking file system access\n\nIn Rocky multiple backend support is added as experimental feature. In order\nto take advantage of this feature it is decided to deprecate work_dir and\nnode_staging_uri configuration options and reserve two filesystem stores\n'os_glance_tasks_store' and 'os_glance_staging_store', which can be used\nto get rid of initializing store via internal functions.\n\nThese stores will be `hard-coded` in glance for the time being\nand injected to enabled_backends config option to load when\nglance_store will be initialized at the time of glance-api service\nstarts. Operator needs to insure that these stores will not be\nincluded in enabled_backends config option in glance-api.conf.\n\nChange-Id: I965df1883639bfd5c900d2902884153d48988f6e\nPartial-Implements: blueprint rethinking-filesystem-access\n""}, {'number': 4, 'created': '2019-05-15 05:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/556f30b3ce86425fd79ec5930f88323c2e086968', 'message': ""Rethinking file system access\n\nIn Rocky multiple backend support is added as experimental feature. In order\nto take advantage of this feature it is decided to deprecate work_dir and\nnode_staging_uri configuration options and reserve two filesystem stores\n'os_glance_tasks_store' and 'os_glance_staging_store', which can be used\nto get rid of initializing store via internal functions.\n\nThese stores will be `hard-coded` in glance for the time being\nand injected to enabled_backends config option to load when\nglance_store will be initialized at the time of glance-api service\nstarts. Operator needs to insure that these stores will not be\nincluded in enabled_backends config option in glance-api.conf.\n\nChange-Id: I965df1883639bfd5c900d2902884153d48988f6e\nPartial-Implements: blueprint rethinking-filesystem-access\n""}, {'number': 5, 'created': '2019-05-24 06:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/9b14169d9302802d87e6a90865e2295a08951fcf', 'message': ""Rethinking file system access\n\nIn Rocky multiple backend support is added as experimental feature. In order\nto take advantage of this feature it is decided to deprecate work_dir and\nnode_staging_uri configuration options and reserve three filesystem stores\n'os_glance_tasks_store', 'os_glance_staging_store' and\n'os_glancewhich can be used\nto get rid of initializing store via internal functions.\n\nThese stores will be `hard-coded` in glance for the time being\nand injected to enabled_backends config option to load when\nglance_store will be initialized at the time of glance-api service\nstarts. Operator needs to insure that these stores will not be\nincluded in enabled_backends config option in glance-api.conf.\n\nChange-Id: I965df1883639bfd5c900d2902884153d48988f6e\nPartial-Implements: blueprint rethinking-filesystem-access\n""}, {'number': 6, 'created': '2019-05-24 09:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/ba54a6bf328df10072b4a1f7c6af3bce0d372fca', 'message': ""Rethinking file system access\n\nIn Rocky multiple backend support is added as experimental feature. In order\nto take advantage of this feature it is decided to deprecate work_dir and\nnode_staging_uri configuration options and reserve three filesystem stores\n'os_glance_tasks_store', 'os_glance_staging_store' and\n'os_glance_cache_store' which can be used\nto get rid of initializing store via internal functions.\n\nThese stores will be `hard-coded` in glance for the time being\nand injected to enabled_backends config option to load when\nglance_store will be initialized at the time of glance-api service\nstarts. Operator needs to insure that these stores will not be\nincluded in enabled_backends config option in glance-api.conf.\n\nChange-Id: I965df1883639bfd5c900d2902884153d48988f6e\nPartial-Implements: blueprint rethinking-filesystem-access\n""}, {'number': 7, 'created': '2019-05-27 04:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/0ac7e422aa42050b44d9b0a1f5057da02f885245', 'message': ""Rethinking file system access\n\nIn Rocky multiple backend support is added as experimental feature. In order\nto take advantage of this feature it is decided to deprecate work_dir and\nnode_staging_uri configuration options and reserve three filesystem stores\n'os_glance_tasks_store', 'os_glance_staging_store' and\n'os_glance_cache_store' which can be used\nto get rid of initializing store via internal functions.\n\nThese stores will be `hard-coded` in glance for the time being\nand injected to enabled_backends config option to load when\nglance_store will be initialized at the time of glance-api service\nstarts. Operator needs to insure that these stores will not be\nincluded in enabled_backends config option in glance-api.conf.\n\nChange-Id: I965df1883639bfd5c900d2902884153d48988f6e\nPartial-Implements: blueprint rethinking-filesystem-access\n""}, {'number': 8, 'created': '2019-05-27 04:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/487b858a9e0d773b752eb7213b8aa4ccaaaae9e6', 'message': ""Rethinking file system access\n\nIn Rocky multiple backend support is added as experimental feature. In order\nto take advantage of this feature it is decided to deprecate work_dir and\nnode_staging_uri configuration options and reserve three filesystem stores\n'os_glance_tasks_store', 'os_glance_staging_store' and\n'os_glance_cache_store' which can be used\nto get rid of initializing store via internal functions.\n\nThese stores will be `hard-coded` in glance for the time being\nand injected to enabled_backends config option to load when\nglance_store will be initialized at the time of glance-api service\nstarts. Operator needs to insure that these stores will not be\nincluded in enabled_backends config option in glance-api.conf.\n\nChange-Id: I965df1883639bfd5c900d2902884153d48988f6e\nPartial-Implements: blueprint rethinking-filesystem-access\n""}, {'number': 9, 'created': '2019-05-27 06:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/cf0b91e37150ad9c07046aca9f943bf80d52ad64', 'message': ""Rethinking file system access\n\nIn Rocky multiple backend support is added as experimental feature. In order\nto take advantage of this feature it is decided to deprecate work_dir and\nnode_staging_uri configuration options and reserve three filesystem stores\n'os_glance_tasks_store' and 'os_glance_staging_store' which can be used\nto get rid of initializing store via internal functions.\n\nThese stores will be `hard-coded` in glance for the time being\nand injected to enabled_backends config option to load when\nglance_store will be initialized at the time of glance-api service\nstarts. Operator needs to insure that these stores will not be\nincluded in enabled_backends config option in glance-api.conf.\n\nChange-Id: I965df1883639bfd5c900d2902884153d48988f6e\nPartial-Implements: blueprint rethinking-filesystem-access\n""}, {'number': 10, 'created': '2019-05-29 05:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/52f9e24f6454b48bf5986050ef79e40445ecdb17', 'message': ""Rethinking file system access\n\nIn Rocky multiple backend support is added as experimental feature. In order\nto take advantage of this feature it is decided to deprecate work_dir and\nnode_staging_uri configuration options and reserve three filesystem stores\n'os_glance_tasks_store' and 'os_glance_staging_store' which can be used\nto get rid of initializing store via internal functions.\n\nThese stores will be `hard-coded` in glance for the time being\nand injected to enabled_backends config option to load when\nglance_store will be initialized at the time of glance-api service\nstarts. Operator needs to insure that these stores will not be\nincluded in enabled_backends config option in glance-api.conf.\n\nChange-Id: I965df1883639bfd5c900d2902884153d48988f6e\nPartial-Implements: blueprint rethinking-filesystem-access\n""}, {'number': 11, 'created': '2019-05-29 08:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/d9e10ae4bc63d21b56fa0e8aa10ac01cd2c663b2', 'message': ""Rethinking file system access\n\nIn Rocky multiple backend support is added as experimental feature. In order\nto take advantage of this feature it is decided to deprecate work_dir and\nnode_staging_uri configuration options and reserve three filesystem stores\n'os_glance_tasks_store' and 'os_glance_staging_store' which can be used\nto get rid of initializing store via internal functions.\n\nThese stores will be `hard-coded` in glance for the time being\nand injected to enabled_backends config option to load when\nglance_store will be initialized at the time of glance-api service\nstarts. Operator needs to insure that these stores will not be\nincluded in enabled_backends config option in glance-api.conf.\n\nChange-Id: I965df1883639bfd5c900d2902884153d48988f6e\nPartial-Implements: blueprint rethinking-filesystem-access\n""}, {'number': 12, 'created': '2019-06-04 04:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/e793dee5fe219ee9095b0f2b52b3392ab51dff5d', 'message': ""Rethinking file system access\n\nMade provision to load reserved_stores if it is specified in\nglance. Added keywrod argument to 'register_store_opts' and\n'create_multi_stores' method.\n\nChange-Id: I965df1883639bfd5c900d2902884153d48988f6e\nPartial-Implements: blueprint rethinking-filesystem-access\n""}, {'number': 13, 'created': '2019-06-05 03:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/09b2aaf8fe21e012387260b3051ac4e063623026', 'message': ""Rethinking file system access\n\nMade provision to load reserved_stores if it is specified in\nglance. Added keywrod argument to 'register_store_opts' and\n'create_multi_stores' method.\n\nChange-Id: I965df1883639bfd5c900d2902884153d48988f6e\nPartial-Implements: blueprint rethinking-filesystem-access\n""}, {'number': 14, 'created': '2019-06-05 12:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/6686bb9f9da3ee70f5c4d884c95905ef3b5082cb', 'message': ""Rethinking file system access\n\nMade provision to load reserved_stores if it is specified in\nglance. Added keywrod argument to 'register_store_opts' and\n'create_multi_stores' method.\n\nChange-Id: I965df1883639bfd5c900d2902884153d48988f6e\nPartial-Implements: blueprint rethinking-filesystem-access\n""}, {'number': 15, 'created': '2019-06-05 12:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/194c673d1ccd044fc89f9eb95cf50b9b7339e46c', 'message': ""Rethinking file system access\n\nMade provision to load reserved_stores if it is specified in\nglance. Added keywrod argument to 'register_store_opts' and\n'create_multi_stores' method.\n\nChange-Id: I965df1883639bfd5c900d2902884153d48988f6e\nPartial-Implements: blueprint rethinking-filesystem-access\n""}, {'number': 16, 'created': '2019-06-05 13:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/316977b0a0072267e68d18894a6443d9b81be436', 'message': ""Rethinking file system access\n\nMade provision to load reserved_stores if it is specified in\nglance. Added keywrod argument to 'register_store_opts' and\n'create_multi_stores' method.\n\nChange-Id: I965df1883639bfd5c900d2902884153d48988f6e\nPartial-Implements: blueprint rethinking-filesystem-access\n""}, {'number': 17, 'created': '2019-06-06 07:54:29.000000000', 'files': ['releasenotes/notes/rethinking-filesystem-access-5ab872fd0c0d27db.yaml', 'glance_store/tests/unit/test_store_base.py', 'glance_store/multi_backend.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/0c73abc6614898eb75663337c05e78fa9cd5b659', 'message': ""Rethinking file system access\n\nMade provision to load reserved_stores if it is specified in\nglance. Added keywrod argument to 'register_store_opts' and\n'create_multi_stores' method.\n\nChange-Id: I965df1883639bfd5c900d2902884153d48988f6e\nPartial-Implements: blueprint rethinking-filesystem-access\n""}]",30,639765,0c73abc6614898eb75663337c05e78fa9cd5b659,75,8,17,9303,,,0,"Rethinking file system access

Made provision to load reserved_stores if it is specified in
glance. Added keywrod argument to 'register_store_opts' and
'create_multi_stores' method.

Change-Id: I965df1883639bfd5c900d2902884153d48988f6e
Partial-Implements: blueprint rethinking-filesystem-access
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/65/639765/11 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/multi_backend.py'],1,8bcd6ac5a267e23752fdaac47a31b0015d072f4d,bp/rethinking-filesystem-access,"# Reserved file stores for staging and tasks operations RESERVED_STORES = { 'os_glance_staging_store': 'file', 'os_glance_tasks_store': 'file' } enabled_backends.update(RESERVED_STORES) enabled_backends.update(RESERVED_STORES) enabled_backends.update(RESERVED_STORES)",,10,0
openstack%2Felection~master~I6bcdfc891d73c1bdd78500e1633c1284fb4bd43b,openstack/election,master,I6bcdfc891d73c1bdd78500e1633c1284fb4bd43b,Fix rendering issues with the README file,ABANDONED,2019-05-30 20:03:40.000000000,2019-06-06 11:30:13.000000000,,"[{'_account_id': 5263}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 20:03:40.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/election/commit/0656d09218c84c2bb77a1aa530f7d5adb4b59cc6', 'message': 'Fix rendering issues with the README file\n\nThere were several common syntax issues, as well as a few clean up\nopportunities and doc8 errors and warnings, that were causing the\nrendered README output to not format correctly.\n\nChange-Id: I6bcdfc891d73c1bdd78500e1633c1284fb4bd43b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,662309,0656d09218c84c2bb77a1aa530f7d5adb4b59cc6,6,3,1,11904,,,0,"Fix rendering issues with the README file

There were several common syntax issues, as well as a few clean up
opportunities and doc8 errors and warnings, that were causing the
rendered README output to not format correctly.

Change-Id: I6bcdfc891d73c1bdd78500e1633c1284fb4bd43b
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/election refs/changes/09/662309/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,0656d09218c84c2bb77a1aa530f7d5adb4b59cc6,readme,"========================== * Prepare new election, e.g.: * ``tox -evenv -- create-directories`` * ``tox -e venv -- template-emails election_season``When PTL Candidacy starts * ``tox -e venv -- template-emails nominations_kickoff`` * Validate candidacy, e.g.: * ``tox -evenv -- check-all-candidacies``, or * ``tox -evenv -- ci-check-all-candidate-files candidates/release/project/candidates``, or * ``tox -evenv -- check-candidacy change_id`` * To +2 a candidate: * To +Workflow, checks the previous +2 details, find another commits using --limit 5 (optional) * Check candidate list and fix badly generated names through changes to the exception.txt file or requesting the candidate to update thier OSF member profile. * ``tox -evenv -- generate-rolls`` * Render statistics and send 'Motivation call for PTL candidacy round', e.g.: * ``tox -evenv -- render-statistics`` * ``tox -e venv -- template-emails nominations_last_days`` * ``tox -e venv -- template-emails end_nominations`` * ``tox -evenv -- generate-rolls`` * Create CIVS page - https://wiki.openstack.org/wiki/Election_Officiating_Guidelines#Running_the_election_itself * CIVS has a maximum number of electorate emails you can upload at a time without crashing, limit to 500 at a time * ``tox -e venv -- template-emails voting_kickoff`` * Send 'PTL Voting Last Days' email * ``tox -e venv -- template-emails voting_last_days`` * Close the election and udpate the results: * ``tox -evenv -- close-election ptl`` * edit ``doc/sources/pike/ptl.yaml`` to set election winners to True * This is ``doc/source/results/release/announce_ptl.rst`` generated by building the docs: ``tox -e docs`` After ``doc/source/results/release/ptl.yaml`` has been created and updated * Update governance repo: * ``tox -e venv update-governance -- --governance-repo ../governance/`` * ``tox -e venv -- template-emails election_season`` * ``tox -e venv -- template-emails nominations_kickoff`` * To +2 a candidate: * ``tox -e venv -- template-emails nominations_last_days`` * ``tox -e venv -- template-emails end_nominations`` * ``tox -evenv -- generate-rolls``with:: tox -e venv -- template-emails campaigning_kickoff * ``tox -e venv -- template-emails voting_kickoff`` * ``tox -e venv -- template-emails voting_last_days``* Run: ``tox -e venv -- close-election tc`` * edit ``doc/source/$series/tc.yaml`` setting the winners to 'True' * This is ``doc/source/results/release/announce_tc.rst`` generated by building the docs: ``tox -e docs`` After ``doc/source/results/release/tc.yaml`` has been created and updated * [Optional] Send 'TC Election Statistics'","=============* Prepare new election, e.g.: * tox -evenv -- create-directories * tox -e venv -- template-emails election_seasonWhen PTL Candidacy start * tox -e venv -- template-emails nominations_kickoff* Validate candidacy, e.g.: * tox -evenv -- check-all-candidacies, or * tox -evenv -- ci-check-all-candidate-files candidates/release/project/candidates , or * tox -evenv -- check-candidacy change_id * To +2 a candidate:* To +Workflow, checks the previous +2 details, find another commits using --limit 5 (optional) * Check candidate list and fix badly generated names through changes to the exception.txt file or requesting the candidate to update thier OSF member profile. * tox -evenv -- generate-rolls* Render statistics and send 'Motivation call for PTL candidacy round', e.g.: * tox -evenv -- render-statistics * tox -e venv -- template-emails nominations_last_days * tox -e venv -- template-emails end_nominations * tox -evenv -- generate-rolls* Create CIVS page ( https://wiki.openstack.org/wiki/Election_Officiating_Guidelines#Running_the_election_itself ) * CIVS has a maximum number of electorate emails you can upload at a time without crashing, limit to 500 at a time * tox -e venv -- template-emails voting_kickoff* Send 'PTL Voting Last Days' email * tox -e venv -- template-emails voting_last_days * Close the election and udpate the results: * tox -evenv -- close-election ptl * edit doc/sources/pike/ptl.yaml to set election winners to True * This is doc/source/results/release/announce_ptl.rst generated by building the docs: toc -e docs After doc/source/results/release/ptl.yaml has been created and updated * Update governance repo: * tox -e venv update-governance -- --governance-repo ../governance/ ============ * tox -e venv -- template-emails election_season * tox -e venv -- template-emails nominations_kickoff* To +2 a candidate: * tox -e venv -- template-emails nominations_last_days * tox -e venv -- template-emails end_nominations * tox -evenv -- generate-rollswith: * tox -e venv -- template-emails campaigning_kickoff * tox -e venv -- template-emails voting_kickoff * tox -e venv -- template-emails voting_last_days* Run: tox -e venv -- close-election tc * edit doc/source/pike/tc.yaml setting the winners to 'True' * This is doc/source/results/release/announce_tc.rst generated by building the docs: toc -e docs After doc/source/results/release/tc.yaml has been created and updated* [Optional]Send 'TC Election Statistics'",108,46
openstack%2Ftripleo-validations~master~Idf75b8bf51dddc4e2165b8aec555dcb17ae9de7c,openstack/tripleo-validations,master,Idf75b8bf51dddc4e2165b8aec555dcb17ae9de7c,New validation: ensure image-serve service is working as expected,MERGED,2019-04-25 14:29:04.000000000,2019-06-06 11:27:13.000000000,2019-05-04 00:23:23.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 17888}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-04-25 14:29:04.000000000', 'files': ['roles/image-serve/meta/main.yaml', 'playbooks/image-serve.yaml', 'roles/image-serve/tasks/main.yaml', 'roles/image-serve/defaults/main.yaml', 'roles/image-serve/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8f7f0f5ddeb32e2e15c03329ea074bbd8f465df1', 'message': ""New validation: ensure image-serve service is working as expected\n\nThis new validation can be used as:\n- pre-upgrade\n- in-flight\n\nIt's also called as post-deploy and post-upgrade, although it's not\nthat useful.\n\nChange-Id: Idf75b8bf51dddc4e2165b8aec555dcb17ae9de7c\n""}]",0,655708,8f7f0f5ddeb32e2e15c03329ea074bbd8f465df1,10,7,1,28223,,,0,"New validation: ensure image-serve service is working as expected

This new validation can be used as:
- pre-upgrade
- in-flight

It's also called as post-deploy and post-upgrade, although it's not
that useful.

Change-Id: Idf75b8bf51dddc4e2165b8aec555dcb17ae9de7c
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/08/655708/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/image-serve/meta/main.yaml', 'playbooks/image-serve.yaml', 'roles/image-serve/tasks/main.yaml', 'roles/image-serve/defaults/main.yaml', 'roles/image-serve/vars/main.yml']",5,8f7f0f5ddeb32e2e15c03329ea074bbd8f465df1,image-serve,metadata: name: Image-serve availability description: Verify that image-serve service is ready groups: - pre-upgrade - post-deployment - post-upgrade ,,73,0
openstack%2Fpython-ironicclient~master~Id7c1c46a66d19c782af917f48d6bdb82193da73b,openstack/python-ironicclient,master,Id7c1c46a66d19c782af917f48d6bdb82193da73b,Add allocation update API,MERGED,2019-04-25 15:41:56.000000000,2019-06-06 11:14:23.000000000,2019-06-06 11:14:23.000000000,"[{'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-04-25 15:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/c28b9b0ca965764f82cbf7d7a89129a66b9a3128', 'message': 'Add allocation update API\n\nThis patch adds the following OSC commands:\n* baremetal allocation set\n* baremetal allocation unset\n\nChange-Id: Id7c1c46a66d19c782af917f48d6bdb82193da73b\nStory: 2005126\nTask: 29797\n'}, {'number': 2, 'created': '2019-04-26 09:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/53c6bf272334f5a4e2c263d43ac578eb3e2a97c1', 'message': 'Add allocation update API\n\nThis patch adds the following OSC commands:\n* baremetal allocation set\n* baremetal allocation unset\n\nChange-Id: Id7c1c46a66d19c782af917f48d6bdb82193da73b\nStory: 2005126\nTask: 29797\n'}, {'number': 3, 'created': '2019-04-30 08:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/7d6f97c1b17e9441e12252332b69dd013d94fc54', 'message': 'Add allocation update API\n\nThis patch adds the following OSC commands:\n* baremetal allocation set\n* baremetal allocation unset\n\nChange-Id: Id7c1c46a66d19c782af917f48d6bdb82193da73b\nDepends-On: I435e9734f2517b959f8e6124e54fc473c683b702\nStory: 2005126\nTask: 29797\n'}, {'number': 4, 'created': '2019-05-02 08:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/8de7fb4b70e6848613f782f72afa7c9c1c423ede', 'message': 'Add allocation update API\n\nThis patch adds the following OSC commands:\n* baremetal allocation set\n* baremetal allocation unset\n\nChange-Id: Id7c1c46a66d19c782af917f48d6bdb82193da73b\nDepends-On: https://review.opendev.org/#/c/653491/\nStory: 2005126\nTask: 29797\n'}, {'number': 5, 'created': '2019-05-02 08:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/562659744175c0218df90a7fab7c06d88aae59f1', 'message': 'Add allocation update API\n\nThis patch adds the following OSC commands:\n* baremetal allocation set\n* baremetal allocation unset\n\nChange-Id: Id7c1c46a66d19c782af917f48d6bdb82193da73b\nStory: 2005126\nTask: 29797\n'}, {'number': 6, 'created': '2019-05-02 08:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/b0360d93cfe72488adf1c03cbd6b205f6b9e371f', 'message': 'Add allocation update API\n\nThis patch adds the following OSC commands:\n* baremetal allocation set\n* baremetal allocation unset\n\nChange-Id: Id7c1c46a66d19c782af917f48d6bdb82193da73b\nStory: 2005126\nTask: 29797\n'}, {'number': 7, 'created': '2019-05-02 08:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/886aea9746d5e1364c5147f5fa46397b0bd51244', 'message': 'Add allocation update API\n\nThis patch adds the following OSC commands:\n* baremetal allocation set\n* baremetal allocation unset\n\nChange-Id: Id7c1c46a66d19c782af917f48d6bdb82193da73b\nDepends-On: https://review.opendev.org/#/c/653491/\nStory: 2005126\nTask: 29797\n'}, {'number': 8, 'created': '2019-05-06 09:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/d1498464d20e11f44a46c0ab4a32f86083ceca9b', 'message': 'Add allocation update API\n\nThis patch adds the following OSC commands:\n* baremetal allocation set\n* baremetal allocation unset\n\nChange-Id: Id7c1c46a66d19c782af917f48d6bdb82193da73b\nDepends-On: https://review.opendev.org/653491\nStory: 2005126\nTask: 29797\n'}, {'number': 9, 'created': '2019-06-04 08:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/b9434c195d6b6810d66208ce7bda8fbf9064f534', 'message': 'Add allocation update API\n\nThis patch adds the following OSC commands:\n* baremetal allocation set\n* baremetal allocation unset\n\nChange-Id: Id7c1c46a66d19c782af917f48d6bdb82193da73b\nDepends-On: https://review.opendev.org/653491\nStory: 2005126\nTask: 29797\n'}, {'number': 10, 'created': '2019-06-06 03:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/8a51995d1b663986f15f3d9a8b623d45e53d9b38', 'message': 'Add allocation update API\n\nThis patch adds the following OSC commands:\n* baremetal allocation set\n* baremetal allocation unset\n\nChange-Id: Id7c1c46a66d19c782af917f48d6bdb82193da73b\nStory: 2005126\nTask: 29797\n'}, {'number': 11, 'created': '2019-06-06 03:49:03.000000000', 'files': ['ironicclient/tests/unit/osc/v1/test_baremetal_allocation.py', 'ironicclient/v1/allocation.py', 'releasenotes/notes/allow-allocation-update-b4fb715045ab40a2.yaml', 'setup.cfg', 'ironicclient/tests/functional/osc/v1/test_baremetal_allocation.py', 'ironicclient/osc/v1/baremetal_allocation.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/a22874bd585bac07a613bd6a2a14dc3fa487dcc3', 'message': 'Add allocation update API\n\nThis patch adds the following OSC commands:\n* baremetal allocation set\n* baremetal allocation unset\n\nChange-Id: Id7c1c46a66d19c782af917f48d6bdb82193da73b\nStory: 2005126\nTask: 29797\n'}]",21,655722,a22874bd585bac07a613bd6a2a14dc3fa487dcc3,29,4,11,10206,,,0,"Add allocation update API

This patch adds the following OSC commands:
* baremetal allocation set
* baremetal allocation unset

Change-Id: Id7c1c46a66d19c782af917f48d6bdb82193da73b
Story: 2005126
Task: 29797
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/22/655722/11 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/tests/unit/osc/v1/test_baremetal_allocation.py', 'ironicclient/v1/allocation.py', 'releasenotes/notes/allow-allocation-update-b4fb715045ab40a2.yaml', 'setup.cfg', 'ironicclient/tests/functional/osc/v1/test_baremetal_allocation.py', 'ironicclient/osc/v1/baremetal_allocation.py']",6,c28b9b0ca965764f82cbf7d7a89129a66b9a3128,allocation_update_cli," class SetBaremetalAllocation(command.Command): """"""Set allocation properties."""""" log = logging.getLogger(__name__ + "".SetBaremetalAllocation"") def get_parser(self, prog_name): parser = super(SetBaremetalAllocation, self).get_parser(prog_name) parser.add_argument( 'allocation', metavar='<allocation>', help=_(""Name or UUID of the allocation"") ) parser.add_argument( ""--name"", metavar=""<name>"", help=_(""Set the name of the allocation"") ) parser.add_argument( ""--extra"", metavar=""<key=value>"", action='append', help=_('Extra to set on this allocation ' '(repeat option to set multiple extras)') ) return parser def take_action(self, parsed_args): self.log.debug(""take_action(%s)"", parsed_args) baremetal_client = self.app.client_manager.baremetal properties = [] if parsed_args.name: properties.extend(utils.args_array_to_patch( 'add', [""name=%s"" % parsed_args.name])) if parsed_args.extra: properties.extend(utils.args_array_to_patch( 'add', [""extra/"" + x for x in parsed_args.extra])) if properties: baremetal_client.allocation.update( parsed_args.allocation, properties) else: self.log.warning(""Please specify what to set."") class UnsetBaremetalAllocation(command.Command): """"""Unset baremetal allocation properties."""""" log = logging.getLogger(__name__ + "".UnsetBaremetalAllocation"") def get_parser(self, prog_name): parser = super(UnsetBaremetalAllocation, self).get_parser( prog_name) parser.add_argument( 'allocation', metavar='<allocation>', help=_(""Name or UUID of the allocation"") ) parser.add_argument( ""--extra"", metavar=""<key>"", action='append', help=_('Extra to unset on this baremetal allocation ' '(repeat option to unset multiple extras).'), ) return parser def take_action(self, parsed_args): self.log.debug(""take_action(%s)"", parsed_args) baremetal_client = self.app.client_manager.baremetal properties = [] if parsed_args.extra: properties.extend(utils.args_array_to_patch('remove', ['extra/' + x for x in parsed_args.extra])) if properties: baremetal_client.allocation.update(parsed_args.allocation, properties) else: self.log.warning(""Please specify what to unset."")",,241,0
openstack%2Fironic-tempest-plugin~master~I1884fc47f9c4a496a0264543e377f9c0f93dbce8,openstack/ironic-tempest-plugin,master,I1884fc47f9c4a496a0264543e377f9c0f93dbce8,Allocation API: add tests on backfilling allocations,MERGED,2019-03-28 13:59:55.000000000,2019-06-06 11:14:17.000000000,2019-06-06 11:14:17.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-03-28 13:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/99ae409aee489f815f35bea38abaf4717094e68e', 'message': 'Allocation API: add tests on backfilling allocations\n\nDepends-On: https://review.openstack.org/648178\nChange-Id: I1884fc47f9c4a496a0264543e377f9c0f93dbce8\nStory: #2005014\nTask: #30234\n'}, {'number': 2, 'created': '2019-03-28 15:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/f27ccc4183f8e4790b9a41b591f1df4f4d1d10ac', 'message': 'Allocation API: add tests on backfilling allocations\n\nDepends-On: https://review.openstack.org/648178\nChange-Id: I1884fc47f9c4a496a0264543e377f9c0f93dbce8\nStory: #2005014\nTask: #30234\n'}, {'number': 3, 'created': '2019-03-28 16:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/8f9f4a10510c138aaae37a973604dc884f66f945', 'message': 'Allocation API: add tests on backfilling allocations\n\nDepends-On: https://review.openstack.org/648178\nChange-Id: I1884fc47f9c4a496a0264543e377f9c0f93dbce8\nStory: #2005014\nTask: #30234\n'}, {'number': 4, 'created': '2019-03-28 18:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/256d5790ab7476a05fd13148ae4d66bebd903229', 'message': 'Allocation API: add tests on backfilling allocations\n\nDepends-On: https://review.openstack.org/648178\nChange-Id: I1884fc47f9c4a496a0264543e377f9c0f93dbce8\nStory: #2005014\nTask: #30234\n'}, {'number': 5, 'created': '2019-03-29 10:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/803681c93e29bf094674b544082394942ea06636', 'message': 'Allocation API: add tests on backfilling allocations\n\nDepends-On: https://review.openstack.org/648178\nChange-Id: I1884fc47f9c4a496a0264543e377f9c0f93dbce8\nStory: #2005014\nTask: #30234\n'}, {'number': 6, 'created': '2019-05-21 11:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/54dd0e3b2c3dd2826bd3f34a102c36bb695f7bb2', 'message': 'Allocation API: add tests on backfilling allocations\n\nDepends-On: https://review.openstack.org/648178\nChange-Id: I1884fc47f9c4a496a0264543e377f9c0f93dbce8\nStory: #2005014\nTask: #30234\n'}, {'number': 7, 'created': '2019-05-21 12:17:17.000000000', 'files': ['ironic_tempest_plugin/services/baremetal/v1/json/baremetal_client.py', 'ironic_tempest_plugin/tests/api/admin/test_allocations.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/b1cd4d5b265b68e81185c5654ab7bc4a274e6fcc', 'message': 'Allocation API: add tests on backfilling allocations\n\nDepends-On: https://review.opendev.org/648178\nChange-Id: I1884fc47f9c4a496a0264543e377f9c0f93dbce8\nStory: #2005014\nTask: #30234\n'}]",0,648403,b1cd4d5b265b68e81185c5654ab7bc4a274e6fcc,33,4,7,10239,,,0,"Allocation API: add tests on backfilling allocations

Depends-On: https://review.opendev.org/648178
Change-Id: I1884fc47f9c4a496a0264543e377f9c0f93dbce8
Story: #2005014
Task: #30234
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/03/648403/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_tempest_plugin/services/baremetal/v1/json/baremetal_client.py', 'ironic_tempest_plugin/tests/api/admin/test_allocations.py']",2,99ae409aee489f815f35bea38abaf4717094e68e,story/2005014,"class Base(base.BaseBaremetalTest): super(Base, self).setUp() class TestAllocations(Base): """"""Tests for baremetal allocations."""""" min_microversion = '1.52' class TestBackfill(Base): """"""Tests for backfilling baremetal allocations."""""" min_microversion = '1.57' @decorators.idempotent_id('10774c1d-6b79-453a-8e26-9bf04ab580a4') def test_backfill_allocation(self): self.deploy_node(self.node['uuid']) _, body = self.client.create_allocation(self.resource_class, node_uuid=self.node['uuid']) uuid = body['uuid'] self.assertEqual(self.node['uuid'], body['node_uuid']) self.assertEqual('active', body['state']) self.assertIsNone(body['last_error']) _, body2 = self.client.show_node_allocation(body['node_uuid']) self.assertEqual(body, body2) _, node = self.client.show_node(self.node['uuid']) self.assertEqual(uuid, node['allocation_uuid']) @decorators.idempotent_id('10774c1d-6b79-453a-8e26-9bf04ab580a4') def test_backfill_without_resource_class(self): self.deploy_node(self.node['uuid']) _, body = self.client.create_allocation(None, node_uuid=self.node['uuid']) uuid = body['uuid'] self.assertEqual(self.node['uuid'], body['node_uuid']) self.assertEqual('active', body['state']) self.assertIsNone(body['last_error']) # Resource class is copied from node self.assertEqual(self.node['resource_class'], body['resource_class']) _, body2 = self.client.show_node_allocation(body['node_uuid']) self.assertEqual(body, body2) _, node = self.client.show_node(self.node['uuid']) self.assertEqual(uuid, node['allocation_uuid'])","class TestAllocations(base.BaseBaremetalTest): """"""Tests for baremetal allocations."""""" min_microversion = '1.52' super(TestAllocations, self).setUp()",52,7
openstack%2Foslo.messaging~stable%2Frocky~Ie6b379f2c99862c37891ac03c52464e07bc2b2cc,openstack/oslo.messaging,stable/rocky,Ie6b379f2c99862c37891ac03c52464e07bc2b2cc,Cap Bandit below 1.6.0 and update Sphinx requirement,MERGED,2019-05-21 13:32:54.000000000,2019-06-06 11:03:13.000000000,2019-06-06 11:03:12.000000000,"[{'_account_id': 8770}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-05-21 13:32:54.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ab03435ad0c108e52747c52c2cebce19b59e4c1d', 'message': 'Cap Bandit below 1.6.0 and update Sphinx requirement\n\nBandit 1.6.0 accidentally changed how the exclusion list option is\nhandled and breaks our use of it. Cap to the previous version until\nBandit has fixed the problem.\n\nSphinx 2.0 no longer works on python 2.7, so we need to start\ncapping it there as well.\n\nChange-Id: Ie6b379f2c99862c37891ac03c52464e07bc2b2cc\n(cherry picked from commit 4f467fbd73092aadda8b42e517bb60a4782064ae)\n'}]",0,660390,ab03435ad0c108e52747c52c2cebce19b59e4c1d,8,4,1,28522,,,0,"Cap Bandit below 1.6.0 and update Sphinx requirement

Bandit 1.6.0 accidentally changed how the exclusion list option is
handled and breaks our use of it. Cap to the previous version until
Bandit has fixed the problem.

Sphinx 2.0 no longer works on python 2.7, so we need to start
capping it there as well.

Change-Id: Ie6b379f2c99862c37891ac03c52464e07bc2b2cc
(cherry picked from commit 4f467fbd73092aadda8b42e517bb60a4782064ae)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/90/660390/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt']",2,ab03435ad0c108e52747c52c2cebce19b59e4c1d,bug/1828841,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",3,2
openstack%2Foslo.messaging~stable%2Frocky~I9dc1644cac0e39eb11bf05f57bde77dcf6d42ed3,openstack/oslo.messaging,stable/rocky,I9dc1644cac0e39eb11bf05f57bde77dcf6d42ed3,Fix switch connection destination when a rabbitmq cluster node disappear,MERGED,2019-05-21 08:18:56.000000000,2019-06-06 11:03:13.000000000,2019-06-06 11:03:13.000000000,"[{'_account_id': 8770}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-05-21 08:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f0b65b3bd5f82d9160bd55c5202e297bb8103656', 'message': ""Fix switch connection destination when a rabbitmq cluster node disappear\n\nIn a clustered rabbitmq when a node disappears, we get a\nConnectionRefusedError because the socket get disconnected.\n\nThe socket access yields a OSError because the heartbeat\ntries to reach an unreachable host (No route to host).\n\nCatch these exceptions to ensure that we call ensure_connection for switching\nthe connection destination.\n\nPOC is available at github.com:4383/rabbitmq-oslo_messging-error-poc\n\nExample:\n    $ git clone git@github.com:4383/rabbitmq-oslo_messging-error-poc\n    $ cd rabbitmq-oslo_messging-error-poc\n    $ python -m virtualenv .\n    $ source bin/activate\n    $ pip install -r requirements.txt\n    $ sudo podman run -d --hostname my-rabbit --name rabbit rabbitmq:3\n    $ python poc.py $(sudo podman inspect rabbit | niet '.[0].NetworkSettings.IPAddress')\n\nAnd in parallele in an another shell|tmux\n    $ podman stop rabbit\n    $ # observe the output of the poc.py script we now call ensure_connection\n\nNow you can observe some output relative to the connection who is\nmodified and not catched before these changes.\n\nRelated to: https://bugzilla.redhat.com/show_bug.cgi?id=1665399\n\nCloses-Bug: #1828841\n\nChange-Id: I9dc1644cac0e39eb11bf05f57bde77dcf6d42ed3\n(cherry picked from commit 9d8b1430e5c081b081c0e3c0b5f12f744dc7809d)\n""}, {'number': 2, 'created': '2019-05-21 13:32:54.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/26fccea84371a3690a4d7fe970f8d6c5ba9c154b', 'message': ""Fix switch connection destination when a rabbitmq cluster node disappear\n\nIn a clustered rabbitmq when a node disappears, we get a\nConnectionRefusedError because the socket get disconnected.\n\nThe socket access yields a OSError because the heartbeat\ntries to reach an unreachable host (No route to host).\n\nCatch these exceptions to ensure that we call ensure_connection for switching\nthe connection destination.\n\nPOC is available at github.com:4383/rabbitmq-oslo_messging-error-poc\n\nExample:\n    $ git clone git@github.com:4383/rabbitmq-oslo_messging-error-poc\n    $ cd rabbitmq-oslo_messging-error-poc\n    $ python -m virtualenv .\n    $ source bin/activate\n    $ pip install -r requirements.txt\n    $ sudo podman run -d --hostname my-rabbit --name rabbit rabbitmq:3\n    $ python poc.py $(sudo podman inspect rabbit | niet '.[0].NetworkSettings.IPAddress')\n\nAnd in parallele in an another shell|tmux\n    $ podman stop rabbit\n    $ # observe the output of the poc.py script we now call ensure_connection\n\nNow you can observe some output relative to the connection who is\nmodified and not catched before these changes.\n\nRelated to: https://bugzilla.redhat.com/show_bug.cgi?id=1665399\n\nCloses-Bug: #1828841\n\nChange-Id: I9dc1644cac0e39eb11bf05f57bde77dcf6d42ed3\n(cherry picked from commit 9d8b1430e5c081b081c0e3c0b5f12f744dc7809d)\n""}]",1,660278,26fccea84371a3690a4d7fe970f8d6c5ba9c154b,13,4,2,28522,,,0,"Fix switch connection destination when a rabbitmq cluster node disappear

In a clustered rabbitmq when a node disappears, we get a
ConnectionRefusedError because the socket get disconnected.

The socket access yields a OSError because the heartbeat
tries to reach an unreachable host (No route to host).

Catch these exceptions to ensure that we call ensure_connection for switching
the connection destination.

POC is available at github.com:4383/rabbitmq-oslo_messging-error-poc

Example:
    $ git clone git@github.com:4383/rabbitmq-oslo_messging-error-poc
    $ cd rabbitmq-oslo_messging-error-poc
    $ python -m virtualenv .
    $ source bin/activate
    $ pip install -r requirements.txt
    $ sudo podman run -d --hostname my-rabbit --name rabbit rabbitmq:3
    $ python poc.py $(sudo podman inspect rabbit | niet '.[0].NetworkSettings.IPAddress')

And in parallele in an another shell|tmux
    $ podman stop rabbit
    $ # observe the output of the poc.py script we now call ensure_connection

Now you can observe some output relative to the connection who is
modified and not catched before these changes.

Related to: https://bugzilla.redhat.com/show_bug.cgi?id=1665399

Closes-Bug: #1828841

Change-Id: I9dc1644cac0e39eb11bf05f57bde77dcf6d42ed3
(cherry picked from commit 9d8b1430e5c081b081c0e3c0b5f12f744dc7809d)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/78/660278/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,f0b65b3bd5f82d9160bd55c5202e297bb8103656,bug/1828841," # NOTE(hberaud): Python2 doesn't have ConnectionRefusedError # defined so to switch connections destination on failure # with python2 and python3 we need to wrapp adapt connection refused try: ConnectRefuseError = ConnectionRefusedError except NameError: ConnectRefuseError = socket.error # NOTE(hberaud): In a clustered rabbitmq when # a node disappears, we get a ConnectionRefusedError # because the socket get disconnected. # The socket access yields a OSError because the heartbeat # tries to reach an unreachable host (No route to host). # Catch these exceptions to ensure that we call # ensure_connection for switching the # connection destination. ConnectRefuseError, OSError,",,18,0
openstack%2Foslo.messaging~stable%2Fstein~I9dc1644cac0e39eb11bf05f57bde77dcf6d42ed3,openstack/oslo.messaging,stable/stein,I9dc1644cac0e39eb11bf05f57bde77dcf6d42ed3,Fix switch connection destination when a rabbitmq cluster node disappear,MERGED,2019-05-21 08:17:57.000000000,2019-06-06 11:03:11.000000000,2019-06-06 11:03:11.000000000,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-05-21 08:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4f35fa2a15c47fd19d362c78047c758b72b68b1d', 'message': ""Fix switch connection destination when a rabbitmq cluster node disappear\n\nIn a clustered rabbitmq when a node disappears, we get a\nConnectionRefusedError because the socket get disconnected.\n\nThe socket access yields a OSError because the heartbeat\ntries to reach an unreachable host (No route to host).\n\nCatch these exceptions to ensure that we call ensure_connection for switching\nthe connection destination.\n\nPOC is available at github.com:4383/rabbitmq-oslo_messging-error-poc\n\nExample:\n    $ git clone git@github.com:4383/rabbitmq-oslo_messging-error-poc\n    $ cd rabbitmq-oslo_messging-error-poc\n    $ python -m virtualenv .\n    $ source bin/activate\n    $ pip install -r requirements.txt\n    $ sudo podman run -d --hostname my-rabbit --name rabbit rabbitmq:3\n    $ python poc.py $(sudo podman inspect rabbit | niet '.[0].NetworkSettings.IPAddress')\n\nAnd in parallele in an another shell|tmux\n    $ podman stop rabbit\n    $ # observe the output of the poc.py script we now call ensure_connection\n\nNow you can observe some output relative to the connection who is\nmodified and not catched before these changes.\n\nRelated to: https://bugzilla.redhat.com/show_bug.cgi?id=1665399\n\nCloses-Bug: #1828841\n\nChange-Id: I9dc1644cac0e39eb11bf05f57bde77dcf6d42ed3\n(cherry picked from commit 9d8b1430e5c081b081c0e3c0b5f12f744dc7809d)\n""}, {'number': 2, 'created': '2019-05-21 13:31:06.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7b8fd6370c8b04c3836ee4f9d06eaa90c7be5197', 'message': ""Fix switch connection destination when a rabbitmq cluster node disappear\n\nIn a clustered rabbitmq when a node disappears, we get a\nConnectionRefusedError because the socket get disconnected.\n\nThe socket access yields a OSError because the heartbeat\ntries to reach an unreachable host (No route to host).\n\nCatch these exceptions to ensure that we call ensure_connection for switching\nthe connection destination.\n\nPOC is available at github.com:4383/rabbitmq-oslo_messging-error-poc\n\nExample:\n    $ git clone git@github.com:4383/rabbitmq-oslo_messging-error-poc\n    $ cd rabbitmq-oslo_messging-error-poc\n    $ python -m virtualenv .\n    $ source bin/activate\n    $ pip install -r requirements.txt\n    $ sudo podman run -d --hostname my-rabbit --name rabbit rabbitmq:3\n    $ python poc.py $(sudo podman inspect rabbit | niet '.[0].NetworkSettings.IPAddress')\n\nAnd in parallele in an another shell|tmux\n    $ podman stop rabbit\n    $ # observe the output of the poc.py script we now call ensure_connection\n\nNow you can observe some output relative to the connection who is\nmodified and not catched before these changes.\n\nRelated to: https://bugzilla.redhat.com/show_bug.cgi?id=1665399\n\nCloses-Bug: #1828841\n\nChange-Id: I9dc1644cac0e39eb11bf05f57bde77dcf6d42ed3\n(cherry picked from commit 9d8b1430e5c081b081c0e3c0b5f12f744dc7809d)\n""}]",0,660277,7b8fd6370c8b04c3836ee4f9d06eaa90c7be5197,12,4,2,28522,,,0,"Fix switch connection destination when a rabbitmq cluster node disappear

In a clustered rabbitmq when a node disappears, we get a
ConnectionRefusedError because the socket get disconnected.

The socket access yields a OSError because the heartbeat
tries to reach an unreachable host (No route to host).

Catch these exceptions to ensure that we call ensure_connection for switching
the connection destination.

POC is available at github.com:4383/rabbitmq-oslo_messging-error-poc

Example:
    $ git clone git@github.com:4383/rabbitmq-oslo_messging-error-poc
    $ cd rabbitmq-oslo_messging-error-poc
    $ python -m virtualenv .
    $ source bin/activate
    $ pip install -r requirements.txt
    $ sudo podman run -d --hostname my-rabbit --name rabbit rabbitmq:3
    $ python poc.py $(sudo podman inspect rabbit | niet '.[0].NetworkSettings.IPAddress')

And in parallele in an another shell|tmux
    $ podman stop rabbit
    $ # observe the output of the poc.py script we now call ensure_connection

Now you can observe some output relative to the connection who is
modified and not catched before these changes.

Related to: https://bugzilla.redhat.com/show_bug.cgi?id=1665399

Closes-Bug: #1828841

Change-Id: I9dc1644cac0e39eb11bf05f57bde77dcf6d42ed3
(cherry picked from commit 9d8b1430e5c081b081c0e3c0b5f12f744dc7809d)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/77/660277/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,4f35fa2a15c47fd19d362c78047c758b72b68b1d,bug/1828841," # NOTE(hberaud): Python2 doesn't have ConnectionRefusedError # defined so to switch connections destination on failure # with python2 and python3 we need to wrapp adapt connection refused try: ConnectRefuseError = ConnectionRefusedError except NameError: ConnectRefuseError = socket.error # NOTE(hberaud): In a clustered rabbitmq when # a node disappears, we get a ConnectionRefusedError # because the socket get disconnected. # The socket access yields a OSError because the heartbeat # tries to reach an unreachable host (No route to host). # Catch these exceptions to ensure that we call # ensure_connection for switching the # connection destination. ConnectRefuseError, OSError,",,18,0
openstack%2Fmanila~master~I7a047da0fa7851ac6c9de6d2e6c546d69266dbff,openstack/manila,master,I7a047da0fa7851ac6c9de6d2e6c546d69266dbff,Manila VMAX docs -  notification of removal of tags,MERGED,2019-04-16 09:37:08.000000000,2019-06-06 10:58:33.000000000,2019-06-06 10:16:18.000000000,"[{'_account_id': 7160}, {'_account_id': 10379}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12670}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23601}, {'_account_id': 29632}]","[{'number': 1, 'created': '2019-04-16 09:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8eabddda243370e26efcbc3bbe448408010872e9', 'message': ""Manila VMAX docs -  notification of removal of tags\n\nNotification of the removal of deprecated tags 'emc_nas_server_container',\n'emc_nas_pool_names' and 'emc_interface_ports' in the U release.\n\nChange-Id: I7a047da0fa7851ac6c9de6d2e6c546d69266dbff\n""}, {'number': 2, 'created': '2019-06-05 09:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1ee53d9ae3bbad033a0e0d6519adb4e6f551a0f2', 'message': ""Manila VMAX docs -  notification of removal of tags\n\nNotification of the removal of deprecated tags 'emc_nas_server_container',\n'emc_nas_pool_names' and 'emc_interface_ports' in the U release.\n\nChange-Id: I7a047da0fa7851ac6c9de6d2e6c546d69266dbff\n""}, {'number': 3, 'created': '2019-06-06 08:35:58.000000000', 'files': ['doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/6afe12050dedec76064708e7abef13a5903b5b3e', 'message': ""Manila VMAX docs -  notification of removal of tags\n\nNotification of the removal of deprecated tags\n'emc_nas_server_container', 'emc_nas_pool_names' and\n'emc_interface_ports' in the Train release.\n\nChange-Id: I7a047da0fa7851ac6c9de6d2e6c546d69266dbff\n""}]",6,652954,6afe12050dedec76064708e7abef13a5903b5b3e,44,14,3,12670,,,0,"Manila VMAX docs -  notification of removal of tags

Notification of the removal of deprecated tags
'emc_nas_server_container', 'emc_nas_pool_names' and
'emc_interface_ports' in the Train release.

Change-Id: I7a047da0fa7851ac6c9de6d2e6c546d69266dbff
",git fetch https://review.opendev.org/openstack/manila refs/changes/54/652954/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/shared-file-systems/drivers/dell-emc-vmax-driver.rst'],1,8eabddda243370e26efcbc3bbe448408010872e9,deprecated_tags,.. note:: The following deprecated tags will be removed in the U release `emc_nas_server_container` `emc_nas_pool_names` `emc_interface_ports` ,,8,0
openstack%2Fpython-blazarclient~master~I44b9d8003566793e54ebdc15cbb95450841fd3cd,openstack/python-blazarclient,master,I44b9d8003566793e54ebdc15cbb95450841fd3cd,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 10:01:50.000000000,2019-06-06 10:54:02.000000000,2019-06-06 10:54:02.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-06-06 10:01:50.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/88a78868f774746bd08940a25b8e7f91585c659b', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I44b9d8003566793e54ebdc15cbb95450841fd3cd\n'}]",0,663578,88a78868f774746bd08940a25b8e7f91585c659b,7,3,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I44b9d8003566793e54ebdc15cbb95450841fd3cd
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/78/663578/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,88a78868f774746bd08940a25b8e7f91585c659b,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fha-guide~master~Ie29d312145e0f7311f8ad0951598e5da6173044a,openstack/ha-guide,master,Ie29d312145e0f7311f8ad0951598e5da6173044a,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 09:23:02.000000000,2019-06-06 10:44:03.000000000,2019-06-06 10:44:03.000000000,"[{'_account_id': 2394}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 09:23:02.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/11b80ba90e3d3c550e450bf65402a69e10980417', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: Ie29d312145e0f7311f8ad0951598e5da6173044a\n'}]",0,663557,11b80ba90e3d3c550e450bf65402a69e10980417,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: Ie29d312145e0f7311f8ad0951598e5da6173044a
",git fetch https://review.opendev.org/openstack/ha-guide refs/changes/57/663557/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,11b80ba90e3d3c550e450bf65402a69e10980417,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fha-guide~master~I3f54303779dbce705ad63d47243127dc49c87937,openstack/ha-guide,master,I3f54303779dbce705ad63d47243127dc49c87937,Add a reference to Cinder volume backups,MERGED,2019-05-06 04:48:30.000000000,2019-06-06 10:44:03.000000000,2019-06-06 10:44:03.000000000,"[{'_account_id': 2394}, {'_account_id': 11904}, {'_account_id': 17130}, {'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-06 04:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/1e891872c9b90f1b928fc6afa956d3b4934298ec', 'message': 'Add a reference to Cinder volume backups\n\nChange-Id: I3f54303779dbce705ad63d47243127dc49c87937\nCloses-bug: #1667792\n'}, {'number': 2, 'created': '2019-05-06 16:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/ab6defd77b9ae608eee403077ff7f8ec4e6f1b82', 'message': 'Add a reference to Cinder volume backups\n\nChange-Id: I3f54303779dbce705ad63d47243127dc49c87937\nCloses-bug: #1667792\n'}, {'number': 3, 'created': '2019-05-07 16:31:31.000000000', 'files': ['doc/source/storage-ha-block.rst'], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/64d0b40c409b41a6c6cb16e4cb2a0a74727a3660', 'message': 'Add a reference to Cinder volume backups\n\nChange-Id: I3f54303779dbce705ad63d47243127dc49c87937\nCloses-bug: #1667792\n'}]",7,657311,64d0b40c409b41a6c6cb16e4cb2a0a74727a3660,15,5,3,17765,,,0,"Add a reference to Cinder volume backups

Change-Id: I3f54303779dbce705ad63d47243127dc49c87937
Closes-bug: #1667792
",git fetch https://review.opendev.org/openstack/ha-guide refs/changes/11/657311/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/storage-ha-block.rst'],1,1e891872c9b90f1b928fc6afa956d3b4934298ec,bug/1667792,Use Cinder volume backup and restore service ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Cinder provides feature for backup and restore volumes and snapshots. First backup of a volume will be handled as a full backup and the follow backups are incremental. Please refer to the `Cinder Admin Blockstorage Volume Backups section <https://docs.openstack.org/cinder/latest/admin/blockstorage-volume-backups.html>`_,,7,0
openstack%2Fkolla~master~Icb89e187841968cadddb917000c03c30bf67f03f,openstack/kolla,master,Icb89e187841968cadddb917000c03c30bf67f03f,[DNM] TestPushingPatch,ABANDONED,2019-06-06 10:37:32.000000000,2019-06-06 10:41:37.000000000,,[],"[{'number': 1, 'created': '2019-06-06 10:37:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla/commit/72fb22329d22d97ab6330078192e4a761b8ad45b', 'message': '[DNM] TestPushingPatch\n\nChange-Id: Icb89e187841968cadddb917000c03c30bf67f03f\n'}]",0,663592,72fb22329d22d97ab6330078192e4a761b8ad45b,2,0,1,23717,,,0,"[DNM] TestPushingPatch

Change-Id: Icb89e187841968cadddb917000c03c30bf67f03f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/92/663592/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,72fb22329d22d97ab6330078192e4a761b8ad45b,,,,1,0
openstack%2Ftripleo-heat-templates~master~Ia08ec74917b6d80376f59ce04613432ad0b041ea,openstack/tripleo-heat-templates,master,Ia08ec74917b6d80376f59ce04613432ad0b041ea,Do not assume the CNI config directory exists,MERGED,2019-05-31 12:22:00.000000000,2019-06-06 10:39:56.000000000,2019-06-06 10:39:56.000000000,"[{'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-05-31 12:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84754c10c34f5c6c1830bac5c9d3e1e896a2965f', 'message': 'Do not assume the CNI config directory exists\n\nThe upgrade to Stein can fail on task ""Remove default cni config for\ncni0"" with error ""Destination directory /etc/cni/net.d does not\nexist"". Don\'t fail if the directory doesn\'t exist.\n\nChange-Id: Ia08ec74917b6d80376f59ce04613432ad0b041ea\nCloses-Bug: #1831238\n'}, {'number': 2, 'created': '2019-05-31 13:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30479a6a6fe6dd0c51829dfad0014453832732d1', 'message': 'Do not assume the CNI config directory exists\n\nThe upgrade to Stein can fail on task ""Remove default cni config for\ncni0"" with error ""Destination directory /etc/cni/net.d does not\nexist"". Don\'t fail if the directory doesn\'t exist.\n\nChange-Id: Ia08ec74917b6d80376f59ce04613432ad0b041ea\nCloses-Bug: #1831238\n'}, {'number': 3, 'created': '2019-06-05 04:29:16.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0860d58a4f49cc5728bb09f540c54e693dcfbae', 'message': 'Do not assume the CNI config directory exists\n\nThe upgrade to Stein can fail on task ""Remove default cni config for\ncni0"" with error ""Destination directory /etc/cni/net.d does not\nexist"". Don\'t fail if the directory doesn\'t exist.\n\nChange-Id: Ia08ec74917b6d80376f59ce04613432ad0b041ea\nCloses-Bug: #1831238\n'}]",0,662446,c0860d58a4f49cc5728bb09f540c54e693dcfbae,20,5,3,8042,,,0,"Do not assume the CNI config directory exists

The upgrade to Stein can fail on task ""Remove default cni config for
cni0"" with error ""Destination directory /etc/cni/net.d does not
exist"". Don't fail if the directory doesn't exist.

Change-Id: Ia08ec74917b6d80376f59ce04613432ad0b041ea
Closes-Bug: #1831238
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/662446/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,84754c10c34f5c6c1830bac5c9d3e1e896a2965f,leapp, - name: Remove default cni config for cni0 if exists ignore_errors: True, - name: Remove default cni config for cni0,2,1
openstack%2Fpython-vitrageclient~master~I1980dba674e2baee4877f465a9faaffd9feb86cb,openstack/python-vitrageclient,master,I1980dba674e2baee4877f465a9faaffd9feb86cb,Add option to wait for add and delete template,MERGED,2019-05-28 12:10:15.000000000,2019-06-06 10:28:08.000000000,2019-06-06 10:28:08.000000000,"[{'_account_id': 1736}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 19184}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-28 12:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/3823e1013d08fa833c761203341eb673ff38dd26', 'message': 'Add option to wait for add and delete template\n\nAdd --wait to the cli as an option\n\nChange-Id: I1980dba674e2baee4877f465a9faaffd9feb86cb\n'}, {'number': 2, 'created': '2019-06-05 08:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/8233cb01ef8b9589d9f3729e4f0f4609df8e4d12', 'message': 'Add option to wait for add and delete template\n\nAdd --wait to the cli as an option\n\nChange-Id: I1980dba674e2baee4877f465a9faaffd9feb86cb\n'}, {'number': 3, 'created': '2019-06-05 09:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/ef2b4243d8221e7ee58b5cdf8db7f0ce2f415224', 'message': 'Add option to wait for add and delete template\n\nAdd --wait to the cli as an option\n\nChange-Id: I1980dba674e2baee4877f465a9faaffd9feb86cb\n'}, {'number': 4, 'created': '2019-06-05 09:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/7db99edd8321a1eeebcd0eb5cc174bb4e4889ec6', 'message': 'Add option to wait for add and delete template\n\nAdd --wait to the cli as an option\n\nChange-Id: I1980dba674e2baee4877f465a9faaffd9feb86cb\n'}, {'number': 5, 'created': '2019-06-05 10:45:59.000000000', 'files': ['vitrageclient/common/utils.py', 'vitrageclient/v1/cli/template.py', 'vitrageclient/v1/template.py'], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/cc07041fc4fde2245e98beb9ed55918accfe1b4e', 'message': 'Add option to wait for add and delete template\n\nAdd --wait to the cli as an option\n\nChange-Id: I1980dba674e2baee4877f465a9faaffd9feb86cb\n'}]",0,661741,cc07041fc4fde2245e98beb9ed55918accfe1b4e,17,5,5,19134,,,0,"Add option to wait for add and delete template

Add --wait to the cli as an option

Change-Id: I1980dba674e2baee4877f465a9faaffd9feb86cb
",git fetch https://review.opendev.org/openstack/python-vitrageclient refs/changes/41/661741/3 && git format-patch -1 --stdout FETCH_HEAD,"['vitrageclient/common/utils.py', 'vitrageclient/v1/cli/template.py']",2,3823e1013d08fa833c761203341eb673ff38dd26,eyalb/wait,"from oslo_log import log parser.add_argument('--wait', type=int, default=None, nargs='?', const=-1, help='Wait until template is ACTIVE or in ERROR' 'default is to wait forever ' 'else number of seconds' ) def get_status(_id): try: _templates = utils.get_client(self).template.list() template = next( ( template for template in _templates if template['uuid'] == _id ) ) status = template['status'] if status == 'ACTIVE': templates[0]['status'] = status return status != 'LOADING' except Exception: return False if parsed_args.wait: utils.wait_for_action_to_end(parsed_args.wait, get_status, _id=templates[0]['uuid']) parser.add_argument('--wait', type=int, default=None, nargs='?', const=-1, help='Wait until template is DELETED or in ERROR' 'default is to wait forever else number of seconds' ) def get_status(_id): try: utils.get_client(self).template.show(_id=_id) except Exception: return False else: return True if parsed_args.wait: utils.wait_for_action_to_end(parsed_args.wait, get_status, _id=_id)",from oslo_log import log ,65,3
openstack%2Fironic-inspector~master~I011b8a07459344769f82d42a4e7b9776ed7bc9d8,openstack/ironic-inspector,master,I011b8a07459344769f82d42a4e7b9776ed7bc9d8,Remove pci_devices config option,MERGED,2019-06-06 01:41:17.000000000,2019-06-06 10:23:51.000000000,2019-06-06 10:23:50.000000000,"[{'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-06 01:41:17.000000000', 'files': ['ironic_inspector/plugins/pci_devices.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f53cbe3011451a198e5e0fafa6af54bc78ac3cdb', 'message': 'Remove pci_devices config option\n\nA legacy job in 71a2bef7d9dcb5e83731ab2c49dd3ed6aad7142b.\nThis config option already defined under ``conf`` directory.\n\nChange-Id: I011b8a07459344769f82d42a4e7b9776ed7bc9d8\n'}]",0,663470,f53cbe3011451a198e5e0fafa6af54bc78ac3cdb,8,4,1,12860,,,0,"Remove pci_devices config option

A legacy job in 71a2bef7d9dcb5e83731ab2c49dd3ed6aad7142b.
This config option already defined under ``conf`` directory.

Change-Id: I011b8a07459344769f82d42a4e7b9776ed7bc9d8
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/70/663470/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/plugins/pci_devices.py'],1,f53cbe3011451a198e5e0fafa6af54bc78ac3cdb,remove_pci_devices_conf,,"from ironic_inspector.common.i18n import _PCI_DEVICES_OPTS = [ cfg.MultiStrOpt('alias', default=[], help=_('An alias for PCI device identified by ' '\'vendor_id\' and \'product_id\' fields. Format: ' '{""vendor_id"": ""1234"", ""product_id"": ""5678"", ' '""name"": ""pci_dev1""}')), ] def list_opts(): return [ ('pci_devices', PCI_DEVICES_OPTS) ] CONF.register_opts(PCI_DEVICES_OPTS, group='pci_devices')",0,17
openstack%2Fmagnum~stable%2Fstein~I14c4dcdd1d73e2d94325974b4e55c1e37a20d9ea,openstack/magnum,stable/stein,I14c4dcdd1d73e2d94325974b4e55c1e37a20d9ea,[k8s_fedora_atomic] Make calico devices unmanaged in NetworkManager config for master node,MERGED,2019-06-04 10:09:32.000000000,2019-06-06 10:21:18.000000000,2019-06-06 10:21:18.000000000,"[{'_account_id': 6484}, {'_account_id': 20147}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-04 10:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/68906a5161ff7fece8f9008b6a81e8c30811d967', 'message': ""[k8s_fedora_atomic] Make calico devices unmanaged in NetworkManager config for master node\n\nIn https://review.opendev.org/#/c/548139/, we did the same change for\nworker node, because kubelet is also installed on master nodes, we need\nthe same configuration, otherwise, the pods on master nodes won't work\nproperly(lost connection or timout frequently).\n\nStory: #2005805\nTask: #33544\n\nChange-Id: I14c4dcdd1d73e2d94325974b4e55c1e37a20d9ea\n(cherry picked from commit 49e5f17cb55348868720befe9bc67e065eabffea)\n""}, {'number': 2, 'created': '2019-06-04 22:28:08.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'releasenotes/notes/ignore-calico-devices-in-network-manager-e1bdb052834e11e9.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/71a05369dd76aa98a1da280c0252ef438a3d8829', 'message': ""[k8s_fedora_atomic] Make calico devices unmanaged in NetworkManager config for master node\n\nIn https://review.opendev.org/#/c/548139/, we did the same change for\nworker node, because kubelet is also installed on master nodes, we need\nthe same configuration, otherwise, the pods on master nodes won't work\nproperly(lost connection or timout frequently).\n\nStory: #2005805\nTask: #33544\n\nChange-Id: I14c4dcdd1d73e2d94325974b4e55c1e37a20d9ea\n(cherry picked from commit 49e5f17cb55348868720befe9bc67e065eabffea)\n""}]",0,662997,71a05369dd76aa98a1da280c0252ef438a3d8829,13,5,2,6484,,,0,"[k8s_fedora_atomic] Make calico devices unmanaged in NetworkManager config for master node

In https://review.opendev.org/#/c/548139/, we did the same change for
worker node, because kubelet is also installed on master nodes, we need
the same configuration, otherwise, the pods on master nodes won't work
properly(lost connection or timout frequently).

Story: #2005805
Task: #33544

Change-Id: I14c4dcdd1d73e2d94325974b4e55c1e37a20d9ea
(cherry picked from commit 49e5f17cb55348868720befe9bc67e065eabffea)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/97/662997/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'releasenotes/notes/ignore-calico-devices-in-network-manager-e1bdb052834e11e9.yaml']",2,68906a5161ff7fece8f9008b6a81e8c30811d967,master-networkmanager-stable/stein,"fixes: - Fixed an issue that applications running on master nodes which rely on network connection keep restarting because of timeout or connection lost, by making calico devices unmanaged in NetworkManager config on master nodes. ",,21,0
openstack%2Fmistral~stable%2Frocky~I976fe5723a8bad81f1c6e30618475aa34e3e2050,openstack/mistral,stable/rocky,I976fe5723a8bad81f1c6e30618475aa34e3e2050,Add release notes to changes to wflanguage execution object,MERGED,2019-06-05 15:00:00.000000000,2019-06-06 10:09:46.000000000,2019-06-06 10:09:46.000000000,"[{'_account_id': 8731}, {'_account_id': 15895}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 15:00:00.000000000', 'files': ['doc/source/user/wf_lang_v2.rst', 'releasenotes/notes/add_root_execution_id_to_jinja-90b67c69a50370b5.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/c9e61b80ad9f762d4acb07466b7fa548addcbd5c', 'message': 'Add release notes to changes to wflanguage execution object\n\nChange-Id: I976fe5723a8bad81f1c6e30618475aa34e3e2050\ndepends-on: Ia6c954e688589f69a7463f1b8e02244d029e8b7a\n(cherry picked from commit 9289f7d28ec861a6dd9fd7b73bf3d84066c74726)\n'}]",0,663350,c9e61b80ad9f762d4acb07466b7fa548addcbd5c,10,3,1,9712,,,0,"Add release notes to changes to wflanguage execution object

Change-Id: I976fe5723a8bad81f1c6e30618475aa34e3e2050
depends-on: Ia6c954e688589f69a7463f1b8e02244d029e8b7a
(cherry picked from commit 9289f7d28ec861a6dd9fd7b73bf3d84066c74726)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/50/663350/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/wf_lang_v2.rst', 'releasenotes/notes/add_root_execution_id_to_jinja-90b67c69a50370b5.yaml']",2,c9e61b80ad9f762d4acb07466b7fa548addcbd5c,add_release_note-stable/rocky,--- features: - | This makes getting a root_execution_id available to the jinja execution object. Before this it was only possible to get that through filtering and querying the executions search. ,,6,1
openstack%2Fmistral~master~Ia419c47a7d71db46a5cae557fe8bc7512390715e,openstack/mistral,master,Ia419c47a7d71db46a5cae557fe8bc7512390715e,Skip context evaluation for non-conditional transitions,MERGED,2019-06-05 16:33:21.000000000,2019-06-06 10:09:45.000000000,2019-06-06 10:09:45.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 27008}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-06-05 16:33:21.000000000', 'files': ['mistral/lang/v2/tasks.py', 'mistral/workflow/direct_workflow.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/f09c8ebec1a05d176ee7b69225916dd5166e3999', 'message': 'Skip context evaluation for non-conditional transitions\n\nContext evaluation is not required for non-conditional transitions,\nbecause the list of next tasks is known in advance.\nFor this reason we can skip this operation, that can be quite\ntime-consuming, and generate a list of task directly.\n\nAlso a little cleanup was done to remove unnecessary methods.\nChange-Id: Ia419c47a7d71db46a5cae557fe8bc7512390715e\n'}]",0,663376,f09c8ebec1a05d176ee7b69225916dd5166e3999,7,8,1,11391,,,0,"Skip context evaluation for non-conditional transitions

Context evaluation is not required for non-conditional transitions,
because the list of next tasks is known in advance.
For this reason we can skip this operation, that can be quite
time-consuming, and generate a list of task directly.

Also a little cleanup was done to remove unnecessary methods.
Change-Id: Ia419c47a7d71db46a5cae557fe8bc7512390715e
",git fetch https://review.opendev.org/openstack/mistral refs/changes/76/663376/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/lang/v2/tasks.py', 'mistral/workflow/direct_workflow.py']",2,f09c8ebec1a05d176ee7b69225916dd5166e3999,skip_context_evaluation," ctx_view = {} # Evaluate context only for conditional transitions or if it's # explicitly provided. if self._is_conditional_transition(task_ex) or ctx is not None: # By default we don't download task context from the database, # but just basic fields: 'id', 'name' and 'state'. It's a good # optimization, because contexts can be too heavy and we don't # need them most of the time. # But sometimes we need it for conditional transitions (when # the decision where to go is based on the current context), # and if this is the case, we download full task execution # and then evaluate its context to find the route. # TODO(mfedosin): Think of a way to avoid this. if not hasattr(task_ex, ""in_context""): task_ex = db_api.get_task_execution(task_ex.id) ctx_view = data_flow.ContextView( data_flow.get_current_task_dict(task_ex), ctx or data_flow.evaluate_task_outbound_context(task_ex), data_flow.get_workflow_environment_dict(self.wf_ex), self.wf_ex.context, self.wf_ex.input ) if not ctx: return [(t_name, params) for t_name, _, params in clause] if t_name in [t[0] for t in self._find_next_tasks(t_ex)]: def _is_conditional_transition(self, t_ex): if t_ex.state == states.ERROR: for _, cond, _ in self.wf_spec.get_on_error_clause(t_ex.name): if cond: return True if t_ex.state == states.SUCCESS: for _, cond, _ in self.wf_spec.get_on_success_clause(t_ex.name): if cond: return True for _, cond, _ in self.wf_spec.get_on_complete_clause(t_ex.name): if cond: return True"," def _find_next_task_names(self, task_ex): return [t[0] for t in self._find_next_tasks(task_ex)] ctx_view = data_flow.ContextView( data_flow.get_current_task_dict(task_ex), ctx or data_flow.evaluate_task_outbound_context(task_ex), data_flow.get_workflow_environment_dict(self.wf_ex), self.wf_ex.context, self.wf_ex.input ) if self._is_conditional_transition(in_task_ex, in_task_spec) and \ not hasattr(in_task_ex, ""in_context""): in_task_ex = db_api.get_task_execution(in_task_ex.id) # By default we don't download task context from the database, # but just basic fields: 'id', 'name' and 'state'. It's a good # optimization, because contexts can be too heavy and we don't # need them most of the time. # But sometimes we need it for conditional transitions (when # the decision where to go is based on the current context), # and if this is the case, we download full task execution # and then evaluate its context to find the route. # TODO(mfedosin): Think of a way to avoid this. if self._is_conditional_transition(t_ex, task_spec) and \ not hasattr(t_ex, ""in_context""): t_ex = db_api.get_task_execution(t_ex.id) if t_name in self._find_next_task_names(t_ex): @staticmethod def _is_conditional_transition(t_ex, t_spec): if t_ex.state == states.SUCCESS: return t_spec.is_conditional_transition('on-success') elif t_ex.state == states.ERROR: return t_spec.is_conditional_transition('on-error')",40,45
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ida27b52a091640545aecc982fc1a509fb5107db8,openstack/tripleo-heat-templates,stable/stein,Ida27b52a091640545aecc982fc1a509fb5107db8,Add new role parameter NovaLibvirtNumPciePorts,MERGED,2019-06-06 04:39:52.000000000,2019-06-06 09:57:58.000000000,2019-06-06 09:57:58.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 6962}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-06 04:39:52.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova_libvirt_num_pcie_ports-f904bf0fb9a7b19e.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b9992d9658754dfd50af12df38dee847b695c399', 'message': 'Add new role parameter NovaLibvirtNumPciePorts\n\nAdd role parameter NovaLibvirtNumPciePorts which sets `libvirt/num_pcie_ports`\nto specify the number of PCIe ports an instance will get.\nLibvirt allows a custom number of PCIe ports (pcie-root-port controllers) a\ntarget instance will get. Some will be used by default, rest will be available\nfor hotplug use. When using the \'q35\' machine type, by default, it allows only\na *single* PCIe device to be hotplugged.  And Nova currently sets\n\'num_pcie_ports\' to ""0"" (which means, it defaults to libvirt\'s ""1""), which is\nnot sufficient for hotplug use.\n\nDefault for NovaLibvirtNumPciePorts is 16.\n\nChange-Id: Ida27b52a091640545aecc982fc1a509fb5107db8\nCloses-Bug: #1831701\nDepends-On: I16732c9d6013112381cfad999540dd41ec3d7ba3\n(cherry picked from commit 0f6dabc725b16c975023a0e3f09433d7039922e2)\n'}]",0,663500,b9992d9658754dfd50af12df38dee847b695c399,8,8,1,17216,,,0,"Add new role parameter NovaLibvirtNumPciePorts

Add role parameter NovaLibvirtNumPciePorts which sets `libvirt/num_pcie_ports`
to specify the number of PCIe ports an instance will get.
Libvirt allows a custom number of PCIe ports (pcie-root-port controllers) a
target instance will get. Some will be used by default, rest will be available
for hotplug use. When using the 'q35' machine type, by default, it allows only
a *single* PCIe device to be hotplugged.  And Nova currently sets
'num_pcie_ports' to ""0"" (which means, it defaults to libvirt's ""1""), which is
not sufficient for hotplug use.

Default for NovaLibvirtNumPciePorts is 16.

Change-Id: Ida27b52a091640545aecc982fc1a509fb5107db8
Closes-Bug: #1831701
Depends-On: I16732c9d6013112381cfad999540dd41ec3d7ba3
(cherry picked from commit 0f6dabc725b16c975023a0e3f09433d7039922e2)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/663500/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova_libvirt_num_pcie_ports-f904bf0fb9a7b19e.yaml']",2,b9992d9658754dfd50af12df38dee847b695c399,bug/1831701-stable/stein,"--- features: - | Add role parameter NovaLibvirtNumPciePorts which sets `libvirt/num_pcie_ports` to specify the number of PCIe ports an instance will get. Libvirt allows a custom number of PCIe ports (pcie-root-port controllers) a target instance will get. Some will be used by default, rest will be available for hotplug use. When using the 'q35' machine type, by default, it allows only a *single* PCIe device to be hotplugged. And Nova currently sets 'num_pcie_ports' to ""0"" (which means, it defaults to libvirt's ""1""), which is not sufficient for hotplug use. Default for NovaLibvirtNumPciePorts is 16. ",,25,0
openstack%2Ftripleo-heat-templates~stable%2Fpike~I86fc82e604fbdee2881c4ef0ad6602da412a7ee6,openstack/tripleo-heat-templates,stable/pike,I86fc82e604fbdee2881c4ef0ad6602da412a7ee6,[stable queens/pike] Use server_not_blacklisted condition,MERGED,2019-06-06 04:10:56.000000000,2019-06-06 09:57:56.000000000,2019-06-06 09:57:56.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-06 04:10:56.000000000', 'files': ['puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebb5dde52f2c40f59c6a2cf9197a6d08f9898d28', 'message': ""[stable queens/pike] Use server_not_blacklisted condition\n\nIf the 'actions' is set to [] for UpdateDeployment, doing get_attr\nwould throw an error, as the deployment are not created in heat and\nresource_id would be None.  Though this should be fixed in heat,\nit would be good to get attributes from UpdateDeployment conditionally.\n\nThis minor update code has been removed since stable/rocky with\nchange I6c5eafe76eb53bc38d100a9ba132dd8fe6dd2d5f.\n\nChange-Id: I86fc82e604fbdee2881c4ef0ad6602da412a7ee6\nCloses-Bug: #1830837\n(cherry picked from commit 2c4004d7ace1ee540d9770d5733e050a1a62fa34)\n""}]",0,663495,ebb5dde52f2c40f59c6a2cf9197a6d08f9898d28,7,3,1,8833,,,0,"[stable queens/pike] Use server_not_blacklisted condition

If the 'actions' is set to [] for UpdateDeployment, doing get_attr
would throw an error, as the deployment are not created in heat and
resource_id would be None.  Though this should be fixed in heat,
it would be good to get attributes from UpdateDeployment conditionally.

This minor update code has been removed since stable/rocky with
change I6c5eafe76eb53bc38d100a9ba132dd8fe6dd2d5f.

Change-Id: I86fc82e604fbdee2881c4ef0ad6602da412a7ee6
Closes-Bug: #1830837
(cherry picked from commit 2c4004d7ace1ee540d9770d5733e050a1a62fa34)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/663495/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/role.role.j2.yaml'],1,ebb5dde52f2c40f59c6a2cf9197a6d08f9898d28,bug/1830837-stable/pike," enable_package_upgrade: if: - server_not_blacklisted - {get_attr: [UpdateDeployment, update_managed_packages]} - false"," enable_package_upgrade: {get_attr: [UpdateDeployment, update_managed_packages]}",5,1
openstack%2Fcinder~master~I08b2b7017fee8c30f6946eb89aadda01f9a16d88,openstack/cinder,master,I08b2b7017fee8c30f6946eb89aadda01f9a16d88,Remove unused CG volume manager constants,MERGED,2019-04-01 16:03:34.000000000,2019-06-06 09:44:21.000000000,2019-06-06 09:16:02.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25257}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-04-01 16:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3dc14831567da911a41403bad5c9406108a62abe', 'message': 'Remove unused CG volume manager constants\n\nThese are unused as of\nc979bdac Remove unused CG code\n\nChange-Id: I08b2b7017fee8c30f6946eb89aadda01f9a16d88\n'}, {'number': 2, 'created': '2019-06-04 20:31:33.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dae2a25e857d0366b9c540c15e7e90ca39d795f0', 'message': 'Remove unused CG volume manager constants\n\nThese are unused as of\nc979bdac Remove unused CG code\n\nChange-Id: I08b2b7017fee8c30f6946eb89aadda01f9a16d88\n'}]",2,649085,dae2a25e857d0366b9c540c15e7e90ca39d795f0,70,39,2,4523,,,0,"Remove unused CG volume manager constants

These are unused as of
c979bdac Remove unused CG code

Change-Id: I08b2b7017fee8c30f6946eb89aadda01f9a16d88
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/649085/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,3dc14831567da911a41403bad5c9406108a62abe,649085,,"VALID_REMOVE_VOL_FROM_CG_STATUS = ( 'available', 'in-use', 'error', 'error_deleting')VALID_ADD_VOL_TO_CG_STATUS = ( 'available', 'in-use')VALID_CREATE_CG_SRC_SNAP_STATUS = (fields.SnapshotStatus.AVAILABLE,)VALID_CREATE_CG_SRC_CG_STATUS = ('available',)",0,10
openstack%2Fnova~master~I759494bf1dc222f83edc3dd10cefa897ff55aac7,openstack/nova,master,I759494bf1dc222f83edc3dd10cefa897ff55aac7,Reword volume snapshot create,ABANDONED,2018-12-07 11:36:59.000000000,2019-06-06 09:38:50.000000000,,"[{'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12860}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25257}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-12-07 11:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab345b1af55213c5047152a3a81f9574e630407f', 'message': 'Remove other volume snapshot type\n\nCurrently the volume snapshot only support qcow2,\nthis patch removes ""other"" from the comment.\n\nChange-Id: I759494bf1dc222f83edc3dd10cefa897ff55aac7\n'}, {'number': 2, 'created': '2018-12-18 08:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c37b6304e913d1b9217c7afcecc1e0575cb7de3', 'message': 'Reword volume snapshot create\n\nCurrently the libvirt volume snapshot only support qcow2,\nthis patch adds raise info in the comment.\n\nChange-Id: I759494bf1dc222f83edc3dd10cefa897ff55aac7\n'}, {'number': 3, 'created': '2018-12-20 02:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1aa1b357b332feb3f2ba9676d9d2bc8f4229db1f', 'message': 'Reword volume snapshot create\n\nCurrently the libvirt volume snapshot only support qcow2,\nthis patch adds raise info in the comment.\n\nChange-Id: I759494bf1dc222f83edc3dd10cefa897ff55aac7\n'}, {'number': 4, 'created': '2019-01-02 15:18:51.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d8ec5cfa2eae54e9b67f10ab3bcc521d4178c31b', 'message': 'Reword volume snapshot create\n\nCurrently the libvirt volume snapshot only support qcow2,\nthis patch adds raise info in the comment.\n\nChange-Id: I759494bf1dc222f83edc3dd10cefa897ff55aac7\n'}]",6,623456,d8ec5cfa2eae54e9b67f10ab3bcc521d4178c31b,79,19,4,12860,,,0,"Reword volume snapshot create

Currently the libvirt volume snapshot only support qcow2,
this patch adds raise info in the comment.

Change-Id: I759494bf1dc222f83edc3dd10cefa897ff55aac7
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/623456/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,ab345b1af55213c5047152a3a81f9574e630407f,volume_snapshot_type," @mock.patch.object(libvirt_driver.LibvirtDriver, '_volume_snapshot_create') @mock.patch.object(host.Host, 'get_guest') def test_volume_snapshot_create_other_volume_type_failure(self, mock_get, mock_snapshot): instance = objects.Instance(**self.inst) domain = FakeVirtDomain(fake_xml=self.dom_xml, id=1) guest = libvirt_guest.Guest(domain) mock_get.return_value = guest create_info = {'type': 'other-type', 'snapshot_id': '1234-5678', 'new_file': 'new-file'} self.assertRaises(exception.InternalError, self.drvr.volume_snapshot_create, self.c, instance, self.volume_uuid, create_info) mock_get.assert_called_once_with(instance) self.assertFalse(mock_snapshot.called) ",,26,1
openstack%2Fcinder~master~If43f136b28aef0efccd37184c01e8617d62bb46c,openstack/cinder,master,If43f136b28aef0efccd37184c01e8617d62bb46c,Allow filtering on size for volume list,MERGED,2019-05-04 16:49:26.000000000,2019-06-06 09:29:55.000000000,2019-06-06 09:15:59.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-04 16:49:26.000000000', 'files': ['etc/cinder/resource_filters.json', 'cinder/tests/unit/api/test_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b7a7ac7b5af0eacb9bbf4144013ea93257043653', 'message': 'Allow filtering on size for volume list\n\n""size"" should be a filterable field.\n\nCloses-Bug: #1827733\nChange-Id: If43f136b28aef0efccd37184c01e8617d62bb46c\n'}]",0,657135,b7a7ac7b5af0eacb9bbf4144013ea93257043653,47,34,1,4523,,,0,"Allow filtering on size for volume list

""size"" should be a filterable field.

Closes-Bug: #1827733
Change-Id: If43f136b28aef0efccd37184c01e8617d62bb46c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/657135/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/cinder/resource_filters.json', 'cinder/tests/unit/api/test_common.py']",2,b7a7ac7b5af0eacb9bbf4144013ea93257043653,bug/1827733," ""availability_zone"", ""group_id"", ""size""]},"," ""availability_zone"", ""group_id""]},",3,2
openstack%2Fopenstack-ansible~master~I3c2c67b652fa2ef824f29189bf815965c8a804ab,openstack/openstack-ansible,master,I3c2c67b652fa2ef824f29189bf815965c8a804ab,Re-add releasenotes jobs,MERGED,2019-06-02 14:14:04.000000000,2019-06-06 09:29:51.000000000,2019-06-06 09:29:51.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-02 14:14:04.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d3de185520020db360ee4765c4d3343e80f38222', 'message': 'Re-add releasenotes jobs\n\nChange Iaad7a3b50e14d5f0ef25c52bcc070b7601d46a8f removed the release\nnotes building but this is not mentioned in the commit message at all,\nso looks like an accident - re-add them.\n\nThe release notes are currently only updated when a stable/rocky change\nmerges but not for master changes since stable/rocky has a release-notes\njob but master not.\n\nChange-Id: I3c2c67b652fa2ef824f29189bf815965c8a804ab\n'}]",0,662639,d3de185520020db360ee4765c4d3343e80f38222,7,3,1,6547,,,0,"Re-add releasenotes jobs

Change Iaad7a3b50e14d5f0ef25c52bcc070b7601d46a8f removed the release
notes building but this is not mentioned in the commit message at all,
so looks like an accident - re-add them.

The release notes are currently only updated when a stable/rocky change
merges but not for master changes since stable/rocky has a release-notes
job but master not.

Change-Id: I3c2c67b652fa2ef824f29189bf815965c8a804ab
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/39/662639/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,d3de185520020db360ee4765c4d3343e80f38222,releasenotes, - release-notes-jobs-python3,,1,0
openstack%2Fopenstack-ansible~master~I1e8d2801fc4c8c64ca2e41e403dded0cb2d8149a,openstack/openstack-ansible,master,I1e8d2801fc4c8c64ca2e41e403dded0cb2d8149a,Remove keystone_service_password from user secrets,MERGED,2019-06-05 18:23:11.000000000,2019-06-06 09:29:49.000000000,2019-06-06 09:29:49.000000000,"[{'_account_id': 290}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-05 18:23:11.000000000', 'files': ['etc/openstack_deploy/user_secrets.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/405d00419c63261528915cc868aaacf4b91e5680', 'message': ""Remove keystone_service_password from user secrets\n\nUse of the keystone_service_password variable was removed in\nIede26cba97ab43cdd0abc3887883e61d40007b34 and it shouldn't be generated\nin new deployments.\n\nChange-Id: I1e8d2801fc4c8c64ca2e41e403dded0cb2d8149a\n""}]",0,663395,405d00419c63261528915cc868aaacf4b91e5680,8,4,1,14805,,,0,"Remove keystone_service_password from user secrets

Use of the keystone_service_password variable was removed in
Iede26cba97ab43cdd0abc3887883e61d40007b34 and it shouldn't be generated
in new deployments.

Change-Id: I1e8d2801fc4c8c64ca2e41e403dded0cb2d8149a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/95/663395/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/openstack_deploy/user_secrets.yml'],1,405d00419c63261528915cc868aaacf4b91e5680,remove_keystone_service_user,,keystone_service_password:,0,1
openstack%2Fhorizon~master~Id1b0b94d27d24d7dfdd2f1542973088947d83ada,openstack/horizon,master,Id1b0b94d27d24d7dfdd2f1542973088947d83ada,Remove token object from credentials,MERGED,2019-04-09 15:01:02.000000000,2019-06-06 09:24:59.000000000,2019-06-06 09:24:59.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 10068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-09 15:01:02.000000000', 'files': ['openstack_auth/policy.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/eca9c9149406904d49205a93218a3dad3206d82a', 'message': ""Remove token object from credentials\n\nToken is not used in policies,\nand json.dumps can't dump it when http rules are used.\n\nCloses-Bug: 1823977\n\nChange-Id: Id1b0b94d27d24d7dfdd2f1542973088947d83ada\nSigned-off-by: George Melikov <mail@gmelikov.ru>\n""}]",0,651266,eca9c9149406904d49205a93218a3dad3206d82a,10,4,1,30238,,,0,"Remove token object from credentials

Token is not used in policies,
and json.dumps can't dump it when http rules are used.

Closes-Bug: 1823977

Change-Id: Id1b0b94d27d24d7dfdd2f1542973088947d83ada
Signed-off-by: George Melikov <mail@gmelikov.ru>
",git fetch https://review.opendev.org/openstack/horizon refs/changes/66/651266/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_auth/policy.py'],1,eca9c9149406904d49205a93218a3dad3206d82a,bug/1823977,," 'token': user.token,",0,1
openstack%2Fnova~master~I1bb472c3438cc9a91945999d2350b2c59fa6a1f3,openstack/nova,master,I1bb472c3438cc9a91945999d2350b2c59fa6a1f3,Document mitigation for Intel MDS security flaws,MERGED,2019-05-27 09:24:28.000000000,2019-06-06 09:16:10.000000000,2019-06-06 09:16:10.000000000,"[{'_account_id': 5754}, {'_account_id': 6962}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-27 09:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e830a3c7f0bb941f63288682922acf58f43377b', 'message': 'Document mitigation for Intel MDS security flaws\n\n(MDS == ""Microarchitectural Data Sampling"")\n\nReferences:\n\n - https://access.redhat.com/security/vulnerabilities/mds\n - https://mdsattacks.com/\n - https://zombieloadattack.com/\n\nChange-Id: I1bb472c3438cc9a91945999d2350b2c59fa6a1f3\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 2, 'created': '2019-05-27 16:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea988dbbb8e4b5d2484e163ff38f16ed2fe6f680', 'message': 'Document mitigation for Intel MDS security flaws\n\nIn May 2019, four new microprocessor flaws, known as ""MDS""\n(Microarchitectural Data Sampling) have been discovered.  These flaws\naffect unpatched Nova Compute nodes and instances running on Intel\nx86_64 CPUs.  The said MDS flaws are also referred to as ""RIDL"" (Rogue\nIn-Flight Data Load) and ""Fallout"".\n\nRefer to the following pages for further details:\n\n - https://access.redhat.com/security/vulnerabilities/mds\n - https://mdsattacks.com/\n - https://zombieloadattack.com/\n\nChange-Id: I1bb472c3438cc9a91945999d2350b2c59fa6a1f3\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 3, 'created': '2019-05-28 08:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b28b4d748e3e70c6b2754389ead3ad6345dfa7d3', 'message': 'Document mitigation for Intel MDS security flaws\n\nIn May 2019, four new microprocessor security flaws, known as ""MDS""\n(Microarchitectural Data Sampling) have been discovered.  These flaws\naffect unpatched Nova Compute nodes and instances running on Intel\nx86_64 CPUs.  The said security flaws are also referred to as ""RIDL""\n(Rogue In-Flight Data Load) and ""Fallout"".\n\nRefer to the following pages for further details:\n\n - https://access.redhat.com/security/vulnerabilities/mds\n - https://mdsattacks.com/\n - https://zombieloadattack.com/\n\n            * * *\n\nIf we\'re adding the guide for ""MDS"" flaws, then it begs the\nquestion: ""What about mitigation guides for previous vulnerabilities?""\n\nTwo options:\n\n(a) Write the mitigation document for rest of the previous\n    vulnerabilities too, for completeness\' sake.  (In April 2018 I wrote\n    this doc[1] for Meltdown  polish it and submit it?  Parts of\n    that document\'s content is already incorporated into the help text\n    for the config attribute `cpu_model_extra_flags`.)\n\n(b) For now, we can live with the clich ""something is better than\n    nothing""; we\'ll add the other docs ""when we get to it"".  And\n    meanwhile, operators get mitigation details from various other\n    places, too: processor vendors, Linux distributions, etc.\n\n[1] https://kashyapc.fedorapeople.org/Reducing-OpenStack-Guest-Perf-Impact-from-Meltdown.txt\n\nChange-Id: I1bb472c3438cc9a91945999d2350b2c59fa6a1f3\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 4, 'created': '2019-06-05 15:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f265a364eed4f74919c67a4c5868af1d34edde1f', 'message': 'Document mitigation for Intel MDS security flaws\n\nIn May 2019, four new microprocessor security flaws, known as ""MDS""\n(Microarchitectural Data Sampling) have been discovered.  These flaws\naffect unpatched Nova Compute nodes and instances running on Intel\nx86_64 CPUs.  The said security flaws are also referred to as ""RIDL""\n(Rogue In-Flight Data Load) and ""Fallout"".\n\nRefer to the following pages for further details:\n\n - https://access.redhat.com/security/vulnerabilities/mds\n - https://mdsattacks.com/\n - https://zombieloadattack.com/\n\n            * * *\n\nIf we\'re adding the guide for ""MDS"" flaws, then it begs the\nquestion: ""What about mitigation guides for previous vulnerabilities?""\n\nTwo points:\n\n(a) Write the mitigation document for rest of the previous\n    vulnerabilities too, for completeness\' sake. (In April 2018 I wrote\n    this doc[1] for Meltdown  polish it and submit it. Parts of that\n    document\'s content is already incorporated into the help text for\n    the config attribute `cpu_model_extra_flags`.)\n\n(b) For now, we can live with the clich, ""something is better than\n    nothing""; we\'ll add the other docs ""when we get to it"".  Meanwhile,\n    operators get mitigation details from various other places \n    processor vendors, Linux distributions, etc.\n\n[1] https://kashyapc.fedorapeople.org/Reducing-OpenStack-Guest-Perf-Impact-from-Meltdown.txt\n\nChange-Id: I1bb472c3438cc9a91945999d2350b2c59fa6a1f3\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 5, 'created': '2019-06-05 15:55:43.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/mitigation-for-Intel-MDS-security-flaws.rst', 'doc/source/admin/security.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/f394703f7e1e0d2df3af197ff39be04c8f51a562', 'message': 'Document mitigation for Intel MDS security flaws\n\nIn May 2019, four new microprocessor security flaws, known as ""MDS""\n(Microarchitectural Data Sampling) have been discovered.  These flaws\naffect unpatched Nova Compute nodes and instances running on Intel\nx86_64 CPUs.  The said security flaws are also referred to as ""RIDL""\n(Rogue In-Flight Data Load) and ""Fallout"".\n\nRefer to the following pages for further details:\n\n - https://access.redhat.com/security/vulnerabilities/mds\n - https://mdsattacks.com/\n - https://zombieloadattack.com/\n\n            * * *\n\nIf we\'re adding the guide for ""MDS"" flaws, then it begs the\nquestion: ""What about mitigation guides for previous vulnerabilities?""\n\nTwo points:\n\n(a) Write the mitigation document for rest of the previous\n    vulnerabilities too, for completeness\' sake. (In April 2018 I wrote\n    this doc[1] for Meltdown  polish it and submit it. Parts of that\n    document\'s content is already incorporated into the help text for\n    the config attribute `cpu_model_extra_flags`.)\n\n(b) For now, we can live with the clich, ""something is better than\n    nothing""; we\'ll add the other docs ""when we get to it"".  Meanwhile,\n    operators get mitigation details from various other places \n    processor vendors, Linux distributions, etc.\n\n[1] https://kashyapc.fedorapeople.org/Reducing-OpenStack-Guest-Perf-Impact-from-Meltdown.txt\n\nChange-Id: I1bb472c3438cc9a91945999d2350b2c59fa6a1f3\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}]",45,661574,f394703f7e1e0d2df3af197ff39be04c8f51a562,52,12,5,6962,,,0,"Document mitigation for Intel MDS security flaws

In May 2019, four new microprocessor security flaws, known as ""MDS""
(Microarchitectural Data Sampling) have been discovered.  These flaws
affect unpatched Nova Compute nodes and instances running on Intel
x86_64 CPUs.  The said security flaws are also referred to as ""RIDL""
(Rogue In-Flight Data Load) and ""Fallout"".

Refer to the following pages for further details:

 - https://access.redhat.com/security/vulnerabilities/mds
 - https://mdsattacks.com/
 - https://zombieloadattack.com/

            * * *

If we're adding the guide for ""MDS"" flaws, then it begs the
question: ""What about mitigation guides for previous vulnerabilities?""

Two points:

(a) Write the mitigation document for rest of the previous
    vulnerabilities too, for completeness' sake. (In April 2018 I wrote
    this doc[1] for Meltdown  polish it and submit it. Parts of that
    document's content is already incorporated into the help text for
    the config attribute `cpu_model_extra_flags`.)

(b) For now, we can live with the clich, ""something is better than
    nothing""; we'll add the other docs ""when we get to it"".  Meanwhile,
    operators get mitigation details from various other places 
    processor vendors, Linux distributions, etc.

[1] https://kashyapc.fedorapeople.org/Reducing-OpenStack-Guest-Perf-Impact-from-Meltdown.txt

Change-Id: I1bb472c3438cc9a91945999d2350b2c59fa6a1f3
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/661574/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/Mitgation-from-Intel-MDS-security-flaws.rst'],1,5e830a3c7f0bb941f63288682922acf58f43377b,document_mitigation_for_MDS_flaws,"====================================================================== Mitigation for MDS (""Microarchitectural Data Sampling"") Security Flaws ====================================================================== Issue ~~~~~ In May 2019, four new microprocessor flaws, known as `MDS <https://access.redhat.com/security/vulnerabilities/mds>`_ , have been discovered which will affect Nova Compute nodes and instances running on Intel x86_64 CPUs. (These security flaws are also referred to as `RIDL and Fallout <https://mdsattacks.com/>`_ or `ZombieLoad <https://zombieloadattack.com>`_). Resolution ~~~~~~~~~~ To get mitigation for the said MDS security flaws, a new CPU flag, `md-clear`, needs to be exposed to the Nova instances. It can be done as follows. (1) Update the following components to the versions from your Linux distribution that has fixes for the MDS flaws, on all Compute nodes with Intel x86_64 CPUs: - microcode_ctl - kernel - qemu-system-x86 - libvirt (2) Live migrate all the Nova instances to another Compute node. (3) Ensure that the CPU flag `md-clear` is exposed to the Nova instance. It can be done so in one of the three following ways, given that OpenStack Nova supports three distinct CPU modes: a. ``[libvirt]/cpu_mode = host-model`` When using ``host-model`` CPU mode, the ``md-clear`` CPU flag will be passed through to the Nova guests automatically. This mode is the default, when ``virt_type=kvm|qemu`` is set in ``/etc/nova/nova/conf``. b. ``[libvirt]/cpu_mode = host-passthrough`` When using ``host-passthrough`` CPU mode, the ``md-clear`` CPU flag will be passed through to the Nova guests automatically. c. A specific custom CPU model  this can be enabled using the Nova config attributes: ``[libvirt]/cpu_mode = custom`` plus a particular named CPU model, e.g. ``[libvirt]/cpu_model = IvyBridge`` (The list of all valid named CPU models that are supported by your host, QEMU and libvirt can be found out by running the command ``virsh domcapabilities``.) When using a custom CPU mode, you must *explicitly* enable the CPU flag ``md-clear`` to the Nova instances, in addition to the flags required for previous vulnerabilities, using the ``cpu_model_extra_flags``. E.g.:: [libvirt] cpu_mode = custom cpu_model = IvyBridge cpu_model_extra_flags = spec-ctrl,ssbd,md-clear (4) Reboot the Compute node for the fixes to take effect. Once the above steps have been taken on every vulnerable compute node in the deployment, each running guest in the cluster must be fully powered down, and cold-booted (i.e. an explicit stop followed by a start), in order to activate the new CPU model. This can be done by the guest administrators at a time of their choosing. Validate that the fixes are in effect ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ After applying relevant updates, administrators can check to ensure the patches are in effect by running either of the following (on the host):: # dmesg | grep ""MDS:"" [ 0.162571] MDS: Vulnerable: Clear CPU buffers attempted, no microcode [ 181.862076] MDS: Mitigation: Clear CPU buffers # cat /sys/devices/system/cpu/vulnerabilities/mds Mitigation: Clear CPU buffers; SMT vulnerable On the host, validate that KVM is capable of exposing the ``md-clear`` flag to guests:: # virsh domcapabilities kvm | grep md-clear <feature policy='require' name='md-clear'/> Also, refer to the 'Diagnosis' tab in this security notice document `here <https://access.redhat.com/security/vulnerabilities/mds>`_ Performance Impact ~~~~~~~~~~~~~~~~~~ Refer to this section titled ""Performance Impact and Disabling MDS"" from the security notice document `here <https://access.redhat.com/security/vulnerabilities/mds>`_, under the 'Resolve' tab. (Note that despite the article referred to is from Red Hat, the findings and recommendations about performance impact applies for other distributions as well.) ",,110,0
openstack%2Fnova~master~I093912e1afac1c1ef1a8d2fcd612e1b78e0c1d41,openstack/nova,master,I093912e1afac1c1ef1a8d2fcd612e1b78e0c1d41,DNM dump image_meta when attempting to validate image signatures,ABANDONED,2019-06-05 14:55:27.000000000,2019-06-06 09:13:44.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-05 14:55:27.000000000', 'files': ['nova/image/glance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b3fe331b5d3c24726ee07f3f8f5773c54bb6e9bd', 'message': 'DNM dump image_meta when attempting to validate image signatures\n\nChange-Id: I093912e1afac1c1ef1a8d2fcd612e1b78e0c1d41\n'}]",0,663348,b3fe331b5d3c24726ee07f3f8f5773c54bb6e9bd,12,10,1,10135,,,0,"DNM dump image_meta when attempting to validate image signatures

Change-Id: I093912e1afac1c1ef1a8d2fcd612e1b78e0c1d41
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/663348/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/image/glance.py'],1,b3fe331b5d3c24726ee07f3f8f5773c54bb6e9bd,," LOG.debug(""lyarwood %s %s %s %s %s"", image_id, img_signature, img_sig_hash_method, img_sig_cert_uuid, img_sig_key_type)",,2,0
openstack%2Fwatcher~master~I84a68f92fa34cf19487323f2afb89d379b8d80f5,openstack/watcher,master,I84a68f92fa34cf19487323f2afb89d379b8d80f5,add strategy tempest job,MERGED,2019-06-01 07:15:04.000000000,2019-06-06 09:11:19.000000000,2019-06-06 09:11:19.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-01 07:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/ce431b2dfe17c9a44eaf7bad276491ec1feeb9b8', 'message': '[WIP] add strategy tempest job\n\nChange-Id: I84a68f92fa34cf19487323f2afb89d379b8d80f5\n'}, {'number': 2, 'created': '2019-06-03 01:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/9a49741a1a2a4c9ea942b76b6d70070598bb407d', 'message': '[WIP] add strategy tempest job\n\nChange-Id: I84a68f92fa34cf19487323f2afb89d379b8d80f5\n'}, {'number': 3, 'created': '2019-06-06 07:19:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/c3e0e41fbf4f3cea8e56189d02945221feea4164', 'message': 'add strategy tempest job\n\nChange-Id: I84a68f92fa34cf19487323f2afb89d379b8d80f5\n'}]",0,662601,c3e0e41fbf4f3cea8e56189d02945221feea4164,10,2,3,21692,,,0,"add strategy tempest job

Change-Id: I84a68f92fa34cf19487323f2afb89d379b8d80f5
",git fetch https://review.opendev.org/openstack/watcher refs/changes/01/662601/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ce431b2dfe17c9a44eaf7bad276491ec1feeb9b8,tempest_job, name: watcher-tempest-strategies parent: watcher-tempest-multinode vars: tempest_test_regex: watcher_tempest_plugin.tests.scenario.test_execute_strategies - job:,,6,0
openstack%2Fvitrage~master~Ibf20acc8d6906824e03fb5b38c49849d2f767b68,openstack/vitrage,master,Ibf20acc8d6906824e03fb5b38c49849d2f767b68,Enable both versioned and unversioned notifications,ABANDONED,2019-06-06 09:04:36.000000000,2019-06-06 09:08:13.000000000,,[{'_account_id': 19134}],"[{'number': 1, 'created': '2019-06-06 09:04:36.000000000', 'files': ['devstack/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/32c4ee64e95b60b5a868d0863545602039976f60', 'message': 'Enable both versioned and unversioned notifications\n\nChange-Id: Ibf20acc8d6906824e03fb5b38c49849d2f767b68\n'}]",0,663552,32c4ee64e95b60b5a868d0863545602039976f60,3,1,1,1736,,,0,"Enable both versioned and unversioned notifications

Change-Id: Ibf20acc8d6906824e03fb5b38c49849d2f767b68
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/52/663552/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/gate_hook.sh'],1,32c4ee64e95b60b5a868d0863545602039976f60,nova-notifications,# Enable both versioned and unversioned notifications notification_format=both ,,3,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I9eefa5f145ab5b17a4d93e96f4aad35d3e069382,openstack/tripleo-heat-templates,stable/rocky,I9eefa5f145ab5b17a4d93e96f4aad35d3e069382,Fix ssl.yaml generating GaneshaInternal in the endpoint map,MERGED,2019-06-05 20:06:20.000000000,2019-06-06 09:03:31.000000000,2019-06-06 09:03:31.000000000,"[{'_account_id': 6796}, {'_account_id': 9003}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-05 20:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ed4c598422f7dfcdb48ff0ddee6f41d890e67e8', 'message': 'Fix ssl.yaml generating GaneshaInternal in the endpoint map\n\nThe GaneshaInternal configured in the endpoint map is used by\nthe Ganesha service that front-ends CephFS with Manila. It cannot be\na hostname, it must be an IP Address always. See [1]\n\nCloses-Bug: #1824421\n[1] https://github.com/nfs-ganesha/nfs-ganesha/blob/af26bf4/src/config_samples/config.txt#L43\nChange-Id: I9eefa5f145ab5b17a4d93e96f4aad35d3e069382\n(cherry picked from commit 7910cf3b487ba52e99bacfec4ecc86b1eeac4d16)\n'}, {'number': 2, 'created': '2019-06-05 20:08:24.000000000', 'files': ['sample-env-generator/ssl.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c92c5195e426308c7d2d153f7ac809c627712fd', 'message': 'Fix ssl.yaml generating GaneshaInternal in the endpoint map\n\nThe GaneshaInternal configured in the endpoint map is used by\nthe Ganesha service that front-ends CephFS with Manila. It cannot be\na hostname, it must be an IP Address always. See [1]\n\nCloses-Bug: #1824421\n[1] https://github.com/nfs-ganesha/nfs-ganesha/blob/af26bf4/src/config_samples/config.txt#L43\nChange-Id: I9eefa5f145ab5b17a4d93e96f4aad35d3e069382\n(cherry picked from commit 7910cf3b487ba52e99bacfec4ecc86b1eeac4d16)\n(cherry picked from commit b74dad7a8544d9bfa23d1f105715906464eb32a0)\n'}]",0,663416,6c92c5195e426308c7d2d153f7ac809c627712fd,10,6,2,16643,,,0,"Fix ssl.yaml generating GaneshaInternal in the endpoint map

The GaneshaInternal configured in the endpoint map is used by
the Ganesha service that front-ends CephFS with Manila. It cannot be
a hostname, it must be an IP Address always. See [1]

Closes-Bug: #1824421
[1] https://github.com/nfs-ganesha/nfs-ganesha/blob/af26bf4/src/config_samples/config.txt#L43
Change-Id: I9eefa5f145ab5b17a4d93e96f4aad35d3e069382
(cherry picked from commit 7910cf3b487ba52e99bacfec4ecc86b1eeac4d16)
(cherry picked from commit b74dad7a8544d9bfa23d1f105715906464eb32a0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/663416/2 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/ssl.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml']",2,0ed4c598422f7dfcdb48ff0ddee6f41d890e67e8,bug/1824421-stable/stein-stable/rocky," GaneshaInternal: {protocol: 'nfs', port: '2049', host: 'IP_ADDRESS'}"," GaneshaInternal: {protocol: 'nfs', port: '2049', host: 'CLOUDNAME'}",2,2
openstack%2Fkolla-ansible~master~I78702110ee470cc6fd9fe16a964714321691ecf4,openstack/kolla-ansible,master,I78702110ee470cc6fd9fe16a964714321691ecf4,Fix deploy guide build,ABANDONED,2019-05-28 07:37:18.000000000,2019-06-06 08:58:22.000000000,,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 27679}, {'_account_id': 30388}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-05-28 07:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b5401f84cbeb8ae84d3cda74112eadd525096dd2', 'message': 'Fix deploy guide build\n\nMissing referenced part caused build failure:\ndoc/source/user/quickstart.rst:31:undefined label: virtual-environments-target-hosts\n\nChange-Id: I78702110ee470cc6fd9fe16a964714321691ecf4\nCloses-Bug: #1830586\n'}, {'number': 2, 'created': '2019-05-28 08:22:45.000000000', 'files': ['deploy-guide/source/virtual-environments.rst', 'deploy-guide/source/index.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4fa3b256ed905c832341b8cdec03d806cd13ddc1', 'message': 'Fix deploy guide build\n\nMissing referenced part caused build failure:\ndoc/source/user/quickstart.rst:31:undefined label: virtual-environments-target-hosts\nFixed by including it in deploy guide too.\n\nChange-Id: I78702110ee470cc6fd9fe16a964714321691ecf4\nCloses-Bug: #1830586\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",2,661691,4fa3b256ed905c832341b8cdec03d806cd13ddc1,12,6,2,30491,,,0,"Fix deploy guide build

Missing referenced part caused build failure:
doc/source/user/quickstart.rst:31:undefined label: virtual-environments-target-hosts
Fixed by including it in deploy guide too.

Change-Id: I78702110ee470cc6fd9fe16a964714321691ecf4
Closes-Bug: #1830586
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/91/661691/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/virtual-environments.rst', 'deploy-guide/source/index.rst']",2,b5401f84cbeb8ae84d3cda74112eadd525096dd2,fix-deploy-guide-build, virtual-environments,,4,0
openstack%2Fcinder~master~I0edb932f4633a226cf63434742359e9276c3c8ab,openstack/cinder,master,I0edb932f4633a226cf63434742359e9276c3c8ab,VMware: Filter out datastore with 0 capacity,MERGED,2019-05-09 23:56:28.000000000,2019-06-06 08:42:27.000000000,2019-06-06 08:29:42.000000000,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27336}, {'_account_id': 27615}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-09 23:56:28.000000000', 'files': ['cinder/volume/drivers/vmware/datastore.py', 'cinder/tests/unit/volume/drivers/vmware/test_vmware_datastore.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/52b7656894217c713a98e2a3d3ae4a4d3dba3157', 'message': 'VMware: Filter out datastore with 0 capacity\n\nSometimes invalid configuration results in vsan datastores\nwith 0 capacity. Filtering out such datastores.\n\nChange-Id: I0edb932f4633a226cf63434742359e9276c3c8ab\n'}]",0,658229,52b7656894217c713a98e2a3d3ae4a4d3dba3157,32,27,1,9171,,,0,"VMware: Filter out datastore with 0 capacity

Sometimes invalid configuration results in vsan datastores
with 0 capacity. Filtering out such datastores.

Change-Id: I0edb932f4633a226cf63434742359e9276c3c8ab
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/658229/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/vmware/datastore.py', 'cinder/tests/unit/volume/drivers/vmware/test_vmware_datastore.py']",2,52b7656894217c713a98e2a3d3ae4a4d3dba3157,invalid_ds," # datastore with zero capacity ds1c = self._create_datastore('ds-1c') ds1c_props = {'summary': self._create_summary(ds1c, capacity=0), 'host': host_mounts1} ds1b: ds1b_props, ds1c: ds1c_props} self._ds_sel._ds_regex = re.compile(r""ds-[1-9ac]{1,2}$"")"," ds1b: ds1b_props} self._ds_sel._ds_regex = re.compile(r""ds-[1-9a]{1,2}$"")",9,3
openstack%2Ftripleo-common~master~Id5b0bb1874ea8ad327dd086cb1e48ff15d2974d7,openstack/tripleo-common,master,Id5b0bb1874ea8ad327dd086cb1e48ff15d2974d7,Add the ability to compute osds number counting lvm devices,MERGED,2019-06-03 13:32:53.000000000,2019-06-06 08:41:31.000000000,2019-06-06 08:14:51.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-03 13:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/85b889ad473ea1603b53d11a82cd940074944f7d', 'message': ""Add the ability to compute osds number counting lvm devices\n\nThe previous version of this workbook only expected to find\nthe devices in a single list; with the new version of ceph-ansible\nit's valid to pass the lvm_volumes, so we need to recompute the\ntotal amount of osds.\nThis commit add a step that allows to get both devices and lvm_volumes\nlists and calculate the len().\n\nChange-Id: Id5b0bb1874ea8ad327dd086cb1e48ff15d2974d7\n""}, {'number': 2, 'created': '2019-06-03 14:02:34.000000000', 'files': ['workbooks/derive_params_formulas.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7c89493e07b21e667ee6b93c9e00ca2f52838fc0', 'message': ""Add the ability to compute osds number counting lvm devices\n\nThe previous version of this workbook only expected to find\nthe devices in a single list; with the new version of ceph-ansible\nit's valid to pass the lvm_volumes, so we need to recompute the\ntotal amount of osds.\nThis commit add a step that allows to get both devices and lvm_volumes\nlists and calculate the len().\n\nCloses-Bug: #1831458\nChange-Id: Id5b0bb1874ea8ad327dd086cb1e48ff15d2974d7\n""}]",0,662751,7c89493e07b21e667ee6b93c9e00ca2f52838fc0,27,6,2,25402,,,0,"Add the ability to compute osds number counting lvm devices

The previous version of this workbook only expected to find
the devices in a single list; with the new version of ceph-ansible
it's valid to pass the lvm_volumes, so we need to recompute the
total amount of osds.
This commit add a step that allows to get both devices and lvm_volumes
lists and calculate the len().

Closes-Bug: #1831458
Change-Id: Id5b0bb1874ea8ad327dd086cb1e48ff15d2974d7
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/51/662751/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/derive_params_formulas.yaml'],1,85b889ad473ea1603b53d11a82cd940074944f7d,bz1714922," on-success: calc_osds calc_osds: publish: num_dev: <% $.heat_resource_tree.parameters.get('CephAnsibleDisksConfig', {}).get('default', {}).get('devices', []).count() %> num_lvm: <% $.heat_resource_tree.parameters.get('CephAnsibleDisksConfig', {}).get('default', {}).get('lvm_volumes', []).count() %> num_osds: <% int($.num_dev + $.num_lvm) %>"," num_osds: <% $.heat_resource_tree.parameters.get('CephAnsibleDisksConfig', {}).get('default', {}).get('devices', []).count() %>",7,1
openstack%2Fkayobe~master~Idad687015d00589429733da34ef3c4bbcb6fc364,openstack/kayobe,master,Idad687015d00589429733da34ef3c4bbcb6fc364,Add conditional check for bifrost cloud file in tenks deploy,ABANDONED,2019-06-03 14:43:51.000000000,2019-06-06 08:25:57.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30438}]","[{'number': 1, 'created': '2019-06-03 14:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8db6ecf544240e27a118a3dc82f11437435c5314', 'message': 'Adds conditional check for bifrost cloud file in tenks deploy\n\nChange-Id: Idad687015d00589429733da34ef3c4bbcb6fc364\n'}, {'number': 2, 'created': '2019-06-03 15:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/963fa58c5fbc3a01efd72a36dd874b1e581a2a54', 'message': 'Adds conditional check for bifrost cloud file in tenks deploy\n\nThe tenks-deploy.sh script currently  changes behaviour after first \nrun due to the creation of the admin-openrc.sh file. \nThis check ensures script consistency on subsequent runs. \n\nChange-Id: Idad687015d00589429733da34ef3c4bbcb6fc364\n'}, {'number': 3, 'created': '2019-06-03 17:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9a75c0a229796fc4fceebbabcddff4bc39316138', 'message': 'Add conditional check for bifrost cloud file in tenks deploy\n\nThe tenks-deploy.sh script currently changes behaviour after first\nrun due to the creation of the admin-openrc.sh file.\nThis check ensures script consistency on subsequent runs.\n\nChange-Id: Idad687015d00589429733da34ef3c4bbcb6fc364\n'}, {'number': 4, 'created': '2019-06-03 17:19:17.000000000', 'files': ['dev/functions'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f3c3326375915e8227257deb818ef18679911f12', 'message': 'Add conditional check for bifrost cloud file in tenks deploy\n\nThe tenks-deploy.sh script currently changes behaviour after first\nrun due to the creation of the admin-openrc.sh file.\nThis check ensures script consistency on subsequent runs.\n\nChange-Id: Idad687015d00589429733da34ef3c4bbcb6fc364\n'}]",0,662777,f3c3326375915e8227257deb818ef18679911f12,10,3,4,30438,,,0,"Add conditional check for bifrost cloud file in tenks deploy

The tenks-deploy.sh script currently changes behaviour after first
run due to the creation of the admin-openrc.sh file.
This check ensures script consistency on subsequent runs.

Change-Id: Idad687015d00589429733da34ef3c4bbcb6fc364
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/77/662777/4 && git format-patch -1 --stdout FETCH_HEAD,['dev/functions'],1,8db6ecf544240e27a118a3dc82f11437435c5314,tenks-deploy-fix," if ! has_bifrost_clouds_yaml; thenfunction has_bifrost_clouds_yaml { # Check if a clouds.yaml file has been created already. [ -f ~/.config/openstack/clouds.yaml ] } if [[ -f ""${KOLLA_CONFIG_PATH:-/etc/kolla}/admin-openrc.sh"" && has_bifrost_clouds_yaml ]]; then"," if [[ ! -f ~/.config/openstack/clouds.yaml ]]; then if [[ -f ""${KOLLA_CONFIG_PATH:-/etc/kolla}/admin-openrc.sh"" ]]; then",8,2
openstack%2Fopenstack-ansible-os_nova~master~Iea84648c7ff65b5a4d8b97957fb92716578f714d,openstack/openstack-ansible-os_nova,master,Iea84648c7ff65b5a4d8b97957fb92716578f714d,powervm: drop support,MERGED,2019-05-31 22:38:54.000000000,2019-06-06 08:23:24.000000000,2019-06-06 08:23:24.000000000,"[{'_account_id': 1004}, {'_account_id': 14070}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-05-31 22:38:54.000000000', 'files': ['tasks/nova_install_apt_powervm.yml', 'vars/source_install.yml', 'vars/distro_install.yml', 'doc/source/app-powervm.rst', 'tasks/drivers/powervm/nova_compute_powervm.yml', 'vars/debian.yml', 'tasks/nova_install.yml', 'defaults/main.yml', 'tasks/nova_virt_detect.yml', 'doc/source/index.rst', 'templates/nova.conf.j2', 'releasenotes/notes/drop-powervm-6fed6605a4bf72cf.yaml', 'vars/redhat-7.yml', 'templates/nova-interfaces-template.j2', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/3341ce834ff6e2ae9a4075387fb82e6133f406c8', 'message': ""powervm: drop support\n\nThe PowerVM driver has been untested for a few years as well\nas broken due to using the wrong driver as well.  It's not possible\nto test it within our infrastructure neither has there been any\ncontributions to improve/fix it.\n\nThis patch drops the support for it.\n\nChange-Id: Iea84648c7ff65b5a4d8b97957fb92716578f714d\n""}]",1,662587,3341ce834ff6e2ae9a4075387fb82e6133f406c8,9,6,1,1004,,,0,"powervm: drop support

The PowerVM driver has been untested for a few years as well
as broken due to using the wrong driver as well.  It's not possible
to test it within our infrastructure neither has there been any
contributions to improve/fix it.

This patch drops the support for it.

Change-Id: Iea84648c7ff65b5a4d8b97957fb92716578f714d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/87/662587/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/nova_install_apt_powervm.yml', 'vars/source_install.yml', 'vars/distro_install.yml', 'doc/source/app-powervm.rst', 'tasks/drivers/powervm/nova_compute_powervm.yml', 'vars/debian.yml', 'tasks/nova_install.yml', 'defaults/main.yml', 'tasks/nova_virt_detect.yml', 'doc/source/index.rst', 'templates/nova.conf.j2', 'releasenotes/notes/drop-powervm-6fed6605a4bf72cf.yaml', 'vars/redhat-7.yml', 'templates/nova-interfaces-template.j2', 'vars/suse.yml']",15,3341ce834ff6e2ae9a4075387fb82e6133f406c8,drop-powervm,,# TODO: add support for PowerVM/NovaLink on openSUSE at some point. nova_compute_powervm_distro_packages: [] novalink_gpg_keys: [] ,5,345
openstack%2Ftripleo-quickstart-extras~master~I1422f6f8468eee670eb05ab9ad88d7bda52ca563,openstack/tripleo-quickstart-extras,master,I1422f6f8468eee670eb05ab9ad88d7bda52ca563,Point to the maintained ovn-ha yaml file,ABANDONED,2019-03-10 07:29:13.000000000,2019-06-06 08:19:17.000000000,,"[{'_account_id': 7144}, {'_account_id': 10969}, {'_account_id': 18575}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-03-10 07:29:13.000000000', 'files': ['roles/overcloud-deploy/tasks/pre-deploy.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1131c9a55fc34b1e9d217d4fb12937e33609ece5', 'message': ""Point to the maintained ovn-ha yaml file\n\nIn I8dc362bcbf860386b497490e57eec69d69f69cc8 we want to remove the\nfollowing unmaintained (and not to be used) environment files:\nenvironments/neutron-ml2-ovn-dvr-ha.yaml\nenvironments/neutron-ml2-ovn-ha.yaml\n\nSo let's use the supported environments/services/neutron-ovn-ha.yaml\ninstead.\n\nChange-Id: I1422f6f8468eee670eb05ab9ad88d7bda52ca563\n""}]",0,642253,1131c9a55fc34b1e9d217d4fb12937e33609ece5,13,7,1,20172,,,0,"Point to the maintained ovn-ha yaml file

In I8dc362bcbf860386b497490e57eec69d69f69cc8 we want to remove the
following unmaintained (and not to be used) environment files:
environments/neutron-ml2-ovn-dvr-ha.yaml
environments/neutron-ml2-ovn-ha.yaml

So let's use the supported environments/services/neutron-ovn-ha.yaml
instead.

Change-Id: I1422f6f8468eee670eb05ab9ad88d7bda52ca563
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/53/642253/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/tasks/pre-deploy.yml'],1,1131c9a55fc34b1e9d217d4fb12937e33609ece5,, -e {{ overcloud_templates_path }}/environments/services/neutron-ovn-ha.yaml, -e {{ overcloud_templates_path }}/environments/neutron-ml2-ovn-ha.yaml,1,1
openstack%2Fcinder~master~I86f30dc075a64c10343a560fe1cdb4711c9ec3ef,openstack/cinder,master,I86f30dc075a64c10343a560fe1cdb4711c9ec3ef,PowerMax docs - known issues with metro,MERGED,2019-05-02 12:49:59.000000000,2019-06-06 08:02:02.000000000,2019-06-06 07:49:25.000000000,"[{'_account_id': 7160}, {'_account_id': 9732}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25314}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 27679}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}, {'_account_id': 30413}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-05-02 12:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/acb9f09de7325f5a91b99cce7385732b6881eaa2', 'message': 'PowerMax docs - known issue with metro and image_volume_cache_enabled\n\nDue to extend and cloning limitations with metro we do not support\nimage_volume_cache_enabled=True on bootable volumes where metro\nreplication is enabled.\n\nChange-Id: I86f30dc075a64c10343a560fe1cdb4711c9ec3ef\n'}, {'number': 2, 'created': '2019-05-28 17:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b4c6d83d462245915d408402ea56d2108805db32', 'message': 'PowerMax docs - known issue with metro and image_volume_cache_enabled\n\nDue to extend and cloning limitations with metro we do not support\nimage_volume_cache_enabled=True on bootable volumes where metro\nreplication is enabled.\n\nChange-Id: I86f30dc075a64c10343a560fe1cdb4711c9ec3ef\n'}, {'number': 3, 'created': '2019-05-28 17:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/11f02a4566ab887a0aa0ab3ee38ec940d5205ca2', 'message': 'PowerMax docs - known issue with metro and image_volume_cache_enabled\n\nDue to extend and cloning limitations with metro we do not support\nimage_volume_cache_enabled=True on bootable volumes where metro\nreplication is enabled.\n\nChange-Id: I86f30dc075a64c10343a560fe1cdb4711c9ec3ef\n'}, {'number': 4, 'created': '2019-05-28 17:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/86dd17eccf2ad416208ece9a556b6f8b05f5ca3e', 'message': 'PowerMax docs - known issues with metro\n\nDue to extend and cloning limitations with metro we do not support\nimage_volume_cache_enabled=True on bootable volumes where metro\nreplication is enabled. There is also a pending fix on cloning metro\nvolumes on PowerMax OS.\n\nChange-Id: I86f30dc075a64c10343a560fe1cdb4711c9ec3ef\n'}, {'number': 5, 'created': '2019-05-29 20:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f750b4a45ab960a2cbee991ef4e1ce5374b9479', 'message': 'PowerMax docs - known issues with metro\n\nDue to extend and cloning limitations with metro we do not support\nimage_volume_cache_enabled=True on bootable volumes where metro\nreplication is enabled. There is also a pending fix on cloning metro\nvolumes on PowerMax OS.\n\nChange-Id: I86f30dc075a64c10343a560fe1cdb4711c9ec3ef\n'}, {'number': 6, 'created': '2019-05-30 15:48:15.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f37d88a71c74553c6f1314bafd7153f36040241f', 'message': 'PowerMax docs - known issues with metro\n\nDue to extend and cloning limitations with metro we do not support\nimage_volume_cache_enabled=True on bootable volumes where metro\nreplication is enabled. There is also a pending fix on cloning metro\nvolumes on PowerMax OS.\n\nChange-Id: I86f30dc075a64c10343a560fe1cdb4711c9ec3ef\n'}]",13,656770,f37d88a71c74553c6f1314bafd7153f36040241f,153,39,6,12670,,,0,"PowerMax docs - known issues with metro

Due to extend and cloning limitations with metro we do not support
image_volume_cache_enabled=True on bootable volumes where metro
replication is enabled. There is also a pending fix on cloning metro
volumes on PowerMax OS.

Change-Id: I86f30dc075a64c10343a560fe1cdb4711c9ec3ef
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/656770/6 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'],1,acb9f09de7325f5a91b99cce7385732b6881eaa2,I86f30dc075a64c10343a560fe1cdb4711c9ec3ef, Due to to nature of SRDF/Metro and issues around extending and cloning Metro devices we cannot support image_volume_cache_enabled=True on bootable Metro devices. .. note:: ,,6,0
openstack%2Ftripleo-heat-templates~master~Iad78b4432202b4a489d9fa0e21bd1ff6b87b916f,openstack/tripleo-heat-templates,master,Iad78b4432202b4a489d9fa0e21bd1ff6b87b916f,Remove old tcp keepalive settings,ABANDONED,2019-04-03 13:55:03.000000000,2019-06-06 07:56:44.000000000,,"[{'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 9257}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-03 13:55:03.000000000', 'files': ['deployment/kernel/kernel-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8128b41d8c5cd29ee5de5e9e54d53f4c3ca0d08b', 'message': 'Remove old tcp keepalive settings\n\nThese settings stem mainly from a bunch of very old bugs in oslo and\nrabbit. Specifically:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1167414\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1651230\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1175685\n\nNow that oslo has proper heartbeat support and since rabbitmq\nswitched to net_ticktime via https://bugs.launchpad.net/tripleo/+bug/1717006\nwe can restore the default tcp keepalive settings.\n\nDiscussed this with Eck and we should be fine in removing these\nnow.\n\nChange-Id: Iad78b4432202b4a489d9fa0e21bd1ff6b87b916f\n'}]",1,649621,8128b41d8c5cd29ee5de5e9e54d53f4c3ca0d08b,7,5,1,20172,,,0,"Remove old tcp keepalive settings

These settings stem mainly from a bunch of very old bugs in oslo and
rabbit. Specifically:
https://bugzilla.redhat.com/show_bug.cgi?id=1167414
https://bugzilla.redhat.com/show_bug.cgi?id=1651230
https://bugzilla.redhat.com/show_bug.cgi?id=1175685

Now that oslo has proper heartbeat support and since rabbitmq
switched to net_ticktime via https://bugs.launchpad.net/tripleo/+bug/1717006
we can restore the default tcp keepalive settings.

Discussed this with Eck and we should be fine in removing these
now.

Change-Id: Iad78b4432202b4a489d9fa0e21bd1ff6b87b916f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/649621/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/kernel/kernel-baremetal-puppet.yaml'],1,8128b41d8c5cd29ee5de5e9e54d53f4c3ca0d08b,no-tcp-keepalives, - net.ipv4.conf.default.send_redirects:, - net.ipv4.tcp_keepalive_intvl: value: 1 net.ipv4.tcp_keepalive_probes: value: 5 net.ipv4.tcp_keepalive_time: value: 5 net.ipv4.conf.default.send_redirects:,1,7
openstack%2Fcloudkitty~master~If0e2d5a4cfd55bd67e0414803bd5b4f3fe57c1f5,openstack/cloudkitty,master,If0e2d5a4cfd55bd67e0414803bd5b4f3fe57c1f5,Fix Prometheus fetcher error,MERGED,2019-06-03 13:48:07.000000000,2019-06-06 07:50:48.000000000,2019-06-06 07:50:48.000000000,"[{'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-06-03 13:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/d7870e9cb6a2f0d17718d6229d723f16df02f6f0', 'message': 'Fix Prometheus fetcher error\n\nAn error was returned by the Prometheus fetcher\ndue to the fact that Prometheus returns the\naggregated total as {} even when filtering with\ngroupby parameters causing a KeyError to be triggered.\n\nThis is now fixed and the fetcher works as expected.\n\nChange-Id: If0e2d5a4cfd55bd67e0414803bd5b4f3fe57c1f5\n'}, {'number': 2, 'created': '2019-06-04 08:56:00.000000000', 'files': ['cloudkitty/fetcher/prometheus.py', 'cloudkitty/tests/fetchers/test_prometheus.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/bba518c04d26cac107905faf775b2508b56797dd', 'message': 'Fix Prometheus fetcher error\n\nAn error was returned by the Prometheus fetcher\ndue to the fact that Prometheus returns the\naggregated total as {} even when filtering with\ngroupby parameters causing a KeyError to be triggered.\n\nThis is now fixed and the fetcher works as expected.\n\nChange-Id: If0e2d5a4cfd55bd67e0414803bd5b4f3fe57c1f5\n'}]",4,662758,bba518c04d26cac107905faf775b2508b56797dd,11,4,2,29503,,,0,"Fix Prometheus fetcher error

An error was returned by the Prometheus fetcher
due to the fact that Prometheus returns the
aggregated total as {} even when filtering with
groupby parameters causing a KeyError to be triggered.

This is now fixed and the fetcher works as expected.

Change-Id: If0e2d5a4cfd55bd67e0414803bd5b4f3fe57c1f5
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/58/662758/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/fetcher/prometheus.py', 'cloudkitty/tests/fetchers/test_prometheus.py']",2,d7870e9cb6a2f0d17718d6229d723f16df02f6f0,,," no_response = mock.patch( 'cloudkitty.common.prometheus_client.PrometheusClient.get_instant', return_value={ 'data': { 'result': [{ 'metric': { 'foo': 'bar' } }] } }, ) with no_response: self.assertRaises( prometheus.PrometheusFetcherError, self.fetcher.get_tenants, ) def test_get_tenants_raises_exception3(self):",10,35
openstack%2Fkolla~stable%2Fstein~I000398f587c5f4d6cc8995e34e162eebc77bc3e3,openstack/kolla,stable/stein,I000398f587c5f4d6cc8995e34e162eebc77bc3e3,Ceph: Update to Nautilus on CentOS and OracleLinux,MERGED,2019-06-05 12:49:57.000000000,2019-06-06 07:47:10.000000000,2019-06-06 07:47:10.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-05 12:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e7e537d638b214975ac431fe444383987544fb13', 'message': 'Ceph: Update to Nautilus on CentOS and OracleLinux\n\nThe CentOS Stein OpenStack distribution depends on the Ceph Nautilus\nrelease, while Kolla currently deploys Luminous on CentOS.\n\nThis change switches CentOS and OracleLinux builds to use Ceph Nautilus.\n\nSupport for auth UID has been removed in the Nautilus release [1][2], so\nwe have removed the --set-uid argument from calls to ceph-authtool.\n\nAlso ceph-osd bootstrap mode fails when no mon config is provided, so\nwe added --no-mon-config (mon config is injected later after bootstrap).\n\nDue to ceph-nfs build issues (ceph upstream nfs-ganesha rpms relied on older\nversion of userspace-rcu, than CentOS Storage SIG packages) we need to move\nto ceph upstream rpm repos.\n\n[1] https://github.com/ceph/ceph/commit/d6def8ba1126209f8dcb40e296977dc2b09a376e\n[2] http://docs.ceph.com/docs/master/releases/nautilus/\n\nCo-Authored-By: Michal Nasiadka <michal.nasiadka@nokia.com>\n\nChange-Id: I000398f587c5f4d6cc8995e34e162eebc77bc3e3\nImplements: blueprint centos-ceph-nautilus\n(cherry picked from commit e0cae62c4aab001fa7b5cc324f178793f4e88f3c)\n'}, {'number': 2, 'created': '2019-06-06 06:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b67d54d4dadb86a4380c5aff3eb056cab4a11be6', 'message': 'Ceph: Update to Nautilus on CentOS and OracleLinux\n\nThe CentOS Stein OpenStack distribution depends on the Ceph Nautilus\nrelease, while Kolla currently deploys Luminous on CentOS.\n\nThis change switches CentOS and OracleLinux builds to use Ceph Nautilus.\n\nSupport for auth UID has been removed in the Nautilus release [1][2], so\nwe have removed the --set-uid argument from calls to ceph-authtool.\n\nAlso ceph-osd bootstrap mode fails when no mon config is provided, so\nwe added --no-mon-config (mon config is injected later after bootstrap).\n\nDue to ceph-nfs build issues (ceph upstream nfs-ganesha rpms relied on older\nversion of userspace-rcu, than CentOS Storage SIG packages) we need to move\nto ceph upstream rpm repos.\n\n[1] https://github.com/ceph/ceph/commit/d6def8ba1126209f8dcb40e296977dc2b09a376e\n[2] http://docs.ceph.com/docs/master/releases/nautilus/\n\nCo-Authored-By: Michal Nasiadka <michal.nasiadka@nokia.com>\n\nChange-Id: I000398f587c5f4d6cc8995e34e162eebc77bc3e3\nImplements: blueprint centos-ceph-nautilus\n(cherry picked from commit e0cae62c4aab001fa7b5cc324f178793f4e88f3c)\n\nDepends-On: Ifff5c60f5690098619bf5a43f25ae3895a96e0d2\n'}, {'number': 3, 'created': '2019-06-06 06:36:47.000000000', 'files': ['docker/ceph/ceph-base/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/ceph/ceph-mon/extend_start.sh', 'docker/ceph/ceph-osd/extend_start.sh', 'docker/base/ceph.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/78f862b0d7e390b16a57770a6af8519c27f05631', 'message': 'Ceph: Update to Nautilus on CentOS and OracleLinux\n\nThe CentOS Stein OpenStack distribution depends on the Ceph Nautilus\nrelease, while Kolla currently deploys Luminous on CentOS.\n\nThis change switches CentOS and OracleLinux builds to use Ceph Nautilus.\n\nSupport for auth UID has been removed in the Nautilus release [1][2], so\nwe have removed the --set-uid argument from calls to ceph-authtool.\n\nAlso ceph-osd bootstrap mode fails when no mon config is provided, so\nwe added --no-mon-config (mon config is injected later after bootstrap).\n\nDue to ceph-nfs build issues (ceph upstream nfs-ganesha rpms relied on older\nversion of userspace-rcu, than CentOS Storage SIG packages) we need to move\nto ceph upstream rpm repos.\n\n[1] https://github.com/ceph/ceph/commit/d6def8ba1126209f8dcb40e296977dc2b09a376e\n[2] http://docs.ceph.com/docs/master/releases/nautilus/\n\nCo-Authored-By: Michal Nasiadka <michal.nasiadka@nokia.com>\n\nChange-Id: I000398f587c5f4d6cc8995e34e162eebc77bc3e3\nImplements: blueprint centos-ceph-nautilus\n(cherry picked from commit e0cae62c4aab001fa7b5cc324f178793f4e88f3c)\n'}]",0,663312,78f862b0d7e390b16a57770a6af8519c27f05631,11,4,3,14826,,,0,"Ceph: Update to Nautilus on CentOS and OracleLinux

The CentOS Stein OpenStack distribution depends on the Ceph Nautilus
release, while Kolla currently deploys Luminous on CentOS.

This change switches CentOS and OracleLinux builds to use Ceph Nautilus.

Support for auth UID has been removed in the Nautilus release [1][2], so
we have removed the --set-uid argument from calls to ceph-authtool.

Also ceph-osd bootstrap mode fails when no mon config is provided, so
we added --no-mon-config (mon config is injected later after bootstrap).

Due to ceph-nfs build issues (ceph upstream nfs-ganesha rpms relied on older
version of userspace-rcu, than CentOS Storage SIG packages) we need to move
to ceph upstream rpm repos.

[1] https://github.com/ceph/ceph/commit/d6def8ba1126209f8dcb40e296977dc2b09a376e
[2] http://docs.ceph.com/docs/master/releases/nautilus/

Co-Authored-By: Michal Nasiadka <michal.nasiadka@nokia.com>

Change-Id: I000398f587c5f4d6cc8995e34e162eebc77bc3e3
Implements: blueprint centos-ceph-nautilus
(cherry picked from commit e0cae62c4aab001fa7b5cc324f178793f4e88f3c)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/12/663312/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/ceph/ceph-base/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/ceph/ceph-mon/extend_start.sh', 'docker/ceph/ceph-osd/extend_start.sh', 'docker/base/ceph.repo']",5,e7e537d638b214975ac431fe444383987544fb13,bp/centos-ceph-nautilus-stable/stein,[ceph] name=ceph baseurl=https://download.ceph.com/rpm-nautilus/el7/$basearch enabled=1 gpgcheck=1 gpgkey=https://download.ceph.com/keys/release.asc [ceph-noarch] name=Ceph noarch packages baseurl=https://download.ceph.com/rpm-nautilus/el7/noarch enabled=1 priority=2 gpgcheck=1 gpgkey=https://download.ceph.com/keys/release.asc [nfs_ganesha] baseurl = http://download.ceph.com/nfs-ganesha/rpm-V2.7-stable/nautilus/$basearch gpgcheck = 1 gpgkey = https://download.ceph.com/keys/release.asc name = nfs-ganesha stable repo skip_if_unavailable = 1 ,,51,9
openstack%2Fironic~master~Iaaec6ca325b5ec0a7d9ad80d14a6595ef0bd9a8e,openstack/ironic,master,Iaaec6ca325b5ec0a7d9ad80d14a6595ef0bd9a8e,Remove commit_required in iDRAC hardware type,MERGED,2019-05-17 21:09:33.000000000,2019-06-06 07:41:22.000000000,2019-06-06 07:41:21.000000000,"[{'_account_id': 7160}, {'_account_id': 8068}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 10379}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 11929}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 28429}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-05-17 21:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/45506e062f5bb93456618b4b0fef7a138d3c7c3c', 'message': ""Remove commit_required in iDRAC hardware type\n\nThe deprecated commit_required attribute in dictionaries returned\nfrom various python-dracclient calls has been removed from\npython-dracclient.  This patch removes the iDRAC driver's dependency on\nthis attribute.\n\nChange-Id: Iaaec6ca325b5ec0a7d9ad80d14a6595ef0bd9a8e\n""}, {'number': 2, 'created': '2019-05-17 21:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/50eb432f0d17ecb967bef99c2c2eec7b56586857', 'message': ""Remove commit_required in iDRAC hardware type\n\nThe deprecated commit_required attribute in dictionaries returned\nfrom various python-dracclient calls has been removed from\npython-dracclient.  This patch removes the iDRAC hardware type's\ndependency on this attribute.\n\nChange-Id: Iaaec6ca325b5ec0a7d9ad80d14a6595ef0bd9a8e\n""}, {'number': 3, 'created': '2019-05-21 20:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d6b6c49db33eb08edb73f898179cbbd263f2cb64', 'message': ""Remove commit_required in iDRAC hardware type\n\nThe deprecated commit_required attribute in dictionaries returned\nfrom various python-dracclient calls has been removed from\npython-dracclient.  This patch removes the iDRAC hardware type's\ndependency on this attribute.\n\nChange-Id: Iaaec6ca325b5ec0a7d9ad80d14a6595ef0bd9a8e\n""}, {'number': 4, 'created': '2019-05-23 18:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/09879d40f6e9628b0f07123222ab9cda28b4bc19', 'message': ""Remove commit_required in iDRAC hardware type\n\nThe deprecated commit_required attribute in dictionaries returned\nfrom various python-dracclient calls has been removed from\npython-dracclient.  This patch removes the iDRAC hardware type's\ndependency on this attribute.\n\nChange-Id: Iaaec6ca325b5ec0a7d9ad80d14a6595ef0bd9a8e\n""}, {'number': 5, 'created': '2019-05-23 21:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0fba6cf4b2403799a345ee38be5e18cd85f9932b', 'message': ""Remove commit_required in iDRAC hardware type\n\nThe deprecated commit_required attribute in dictionaries returned\nfrom various python-dracclient calls has been removed from\npython-dracclient.  This patch removes the iDRAC hardware type's\ndependency on this attribute.\n\nChange-Id: Iaaec6ca325b5ec0a7d9ad80d14a6595ef0bd9a8e\n""}, {'number': 6, 'created': '2019-05-28 20:55:05.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/vendor_passthru.py', 'ironic/drivers/modules/drac/bios.py', 'releasenotes/notes/idrac-remove-commit_required-d9ea849e8f5e78e2.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cc10323dbb044c6d2a6b345b665bd23d9487c234', 'message': ""Remove commit_required in iDRAC hardware type\n\nThe deprecated commit_required attribute in dictionaries returned\nfrom various python-dracclient calls has been removed from\npython-dracclient.  This patch removes the iDRAC hardware type's\ndependency on this attribute.\n\nChange-Id: Iaaec6ca325b5ec0a7d9ad80d14a6595ef0bd9a8e\n""}]",24,659880,cc10323dbb044c6d2a6b345b665bd23d9487c234,61,17,6,10250,,,0,"Remove commit_required in iDRAC hardware type

The deprecated commit_required attribute in dictionaries returned
from various python-dracclient calls has been removed from
python-dracclient.  This patch removes the iDRAC hardware type's
dependency on this attribute.

Change-Id: Iaaec6ca325b5ec0a7d9ad80d14a6595ef0bd9a8e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/80/659880/6 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/vendor_passthru.py', 'ironic/drivers/modules/drac/bios.py']",3,45506e062f5bb93456618b4b0fef7a138d3c7c3c,commit_required," :returns: A dictionary containing the is_commit_required key with a boolean to make the changes, and the is_reboot_required key which has a value of 'true' or 'false'. This key is used to indicate to the commit_bios_config() call if a reboot should be performed.", :returns: A dictionary containing the commit_required key with a boolean to make the changes.,17,25
openstack%2Fpuppet-tripleo~stable%2Fqueens~I572d53bb6977e16d1deffe0127e17e48a8cda29c,openstack/puppet-tripleo,stable/queens,I572d53bb6977e16d1deffe0127e17e48a8cda29c,Only request certs in step 1,MERGED,2019-06-05 09:22:05.000000000,2019-06-06 07:41:00.000000000,2019-06-05 17:41:28.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9098}, {'_account_id': 10873}, {'_account_id': 11589}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22136}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-05 09:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5db3b19bb03879ec5e6ff1c89de6adafdb012ac5', 'message': 'Only request certs in step 1\n\nThe certmonger-user service used to run in every step. This limits it to\nonly step 1.\n\nChange-Id: I572d53bb6977e16d1deffe0127e17e48a8cda29c\n'}, {'number': 2, 'created': '2019-06-05 09:30:23.000000000', 'files': ['manifests/profile/base/certmonger_user.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/af47731075dd3ce7c3adc4e5630030d905826901', 'message': 'Only request certs in step 1\n\nThe certmonger-user service used to run in every step. This limits it to\nonly step 1.\n\nChange-Id: I572d53bb6977e16d1deffe0127e17e48a8cda29c\n(cherry picked from commit 98e9879fd55194ed86c294158cabbf21ec1c903f)\n'}]",0,663284,af47731075dd3ce7c3adc4e5630030d905826901,10,10,2,27954,,,0,"Only request certs in step 1

The certmonger-user service used to run in every step. This limits it to
only step 1.

Change-Id: I572d53bb6977e16d1deffe0127e17e48a8cda29c
(cherry picked from commit 98e9879fd55194ed86c294158cabbf21ec1c903f)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/84/663284/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/certmonger_user.pp'],1,5db3b19bb03879ec5e6ff1c89de6adafdb012ac5,,"# [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # $step = Integer(hiera('step')), if $step == 1 { unless empty($haproxy_certificates_specs) { $reload_haproxy = ['systemctl reload haproxy'] Class['::tripleo::certmonger::ca::crl'] ~> Haproxy::Balancermember<||> if defined(Class['::haproxy']) { Class['::tripleo::certmonger::ca::crl'] ~> Class['::haproxy'] } } else { $reload_haproxy = [] } class { '::tripleo::certmonger::ca::crl' : reload_cmds => $reload_haproxy, } Certmonger_certificate<||> -> Class['::tripleo::certmonger::ca::crl'] include ::tripleo::certmonger::ca::libvirt include ::tripleo::certmonger::ca::libvirt_vnc # Remove apache_certificates_specs where hostname is empty. # Workaround bug: https://bugs.launchpad.net/tripleo/+bug/1811207 $apache_certificates_specs_filtered = $apache_certificates_specs.filter | $specs, $keys | { ! empty($keys[hostname]) } unless empty($apache_certificates_specs_filtered) { include ::tripleo::certmonger::apache_dirs ensure_resources('tripleo::certmonger::httpd', $apache_certificates_specs_filtered) } unless empty($libvirt_certificates_specs) { include ::tripleo::certmonger::libvirt_dirs ensure_resources('tripleo::certmonger::libvirt', $libvirt_certificates_specs, {'postsave_cmd' => $libvirt_postsave_cmd}) } unless empty($libvirt_vnc_certificates_specs) { include ::tripleo::certmonger::libvirt_vnc_dirs ensure_resources('tripleo::certmonger::libvirt_vnc', $libvirt_vnc_certificates_specs, {'postsave_cmd' => $libvirt_vnc_postsave_cmd}) } unless empty($haproxy_certificates_specs) { include ::tripleo::certmonger::haproxy_dirs ensure_resources('tripleo::certmonger::haproxy', $haproxy_certificates_specs) # The haproxy fronends (or listen resources) depend on the certificate # existing and need to be refreshed if it changed. Tripleo::Certmonger::Haproxy<||> ~> Haproxy::Listen<||> } unless empty($mongodb_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::mongodb', $mongodb_certificate_specs) } unless empty($mysql_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::mysql', $mysql_certificate_specs) } unless empty($rabbitmq_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::rabbitmq', $rabbitmq_certificate_specs) } unless empty($redis_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::redis', $redis_certificate_specs) } unless empty($etcd_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::etcd', $etcd_certificate_specs) } unless empty($odl_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::opendaylight', $odl_certificate_specs) } unless empty($ovs_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::openvswitch', $ovs_certificate_specs) } unless empty($neutron_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::neutron', $neutron_certificate_specs) } unless empty($novnc_proxy_certificates_specs) { ensure_resource('class', 'tripleo::certmonger::novnc_proxy', $novnc_proxy_certificates_specs, {'postsave_cmd' => $novnc_proxy_postsave_cmd}) }"," unless empty($haproxy_certificates_specs) { $reload_haproxy = ['systemctl reload haproxy'] Class['::tripleo::certmonger::ca::crl'] ~> Haproxy::Balancermember<||> if defined(Class['::haproxy']) { Class['::tripleo::certmonger::ca::crl'] ~> Class['::haproxy'] } } else { $reload_haproxy = [] } class { '::tripleo::certmonger::ca::crl' : reload_cmds => $reload_haproxy, } Certmonger_certificate<||> -> Class['::tripleo::certmonger::ca::crl'] include ::tripleo::certmonger::ca::libvirt include ::tripleo::certmonger::ca::libvirt_vnc # Remove apache_certificates_specs where hostname is empty. # Workaround bug: https://bugs.launchpad.net/tripleo/+bug/1811207 $apache_certificates_specs_filtered = $apache_certificates_specs.filter | $specs, $keys | { ! empty($keys[hostname]) } unless empty($apache_certificates_specs_filtered) { include ::tripleo::certmonger::apache_dirs ensure_resources('tripleo::certmonger::httpd', $apache_certificates_specs_filtered) } unless empty($libvirt_certificates_specs) { include ::tripleo::certmonger::libvirt_dirs ensure_resources('tripleo::certmonger::libvirt', $libvirt_certificates_specs, {'postsave_cmd' => $libvirt_postsave_cmd}) } unless empty($libvirt_vnc_certificates_specs) { include ::tripleo::certmonger::libvirt_vnc_dirs ensure_resources('tripleo::certmonger::libvirt_vnc', $libvirt_vnc_certificates_specs, {'postsave_cmd' => $libvirt_vnc_postsave_cmd}) } unless empty($haproxy_certificates_specs) { include ::tripleo::certmonger::haproxy_dirs ensure_resources('tripleo::certmonger::haproxy', $haproxy_certificates_specs) # The haproxy fronends (or listen resources) depend on the certificate # existing and need to be refreshed if it changed. Tripleo::Certmonger::Haproxy<||> ~> Haproxy::Listen<||> } unless empty($mongodb_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::mongodb', $mongodb_certificate_specs) } unless empty($mysql_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::mysql', $mysql_certificate_specs) } unless empty($rabbitmq_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::rabbitmq', $rabbitmq_certificate_specs) } unless empty($redis_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::redis', $redis_certificate_specs) } unless empty($etcd_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::etcd', $etcd_certificate_specs) } unless empty($odl_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::opendaylight', $odl_certificate_specs) } unless empty($ovs_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::openvswitch', $ovs_certificate_specs) } unless empty($neutron_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::neutron', $neutron_certificate_specs) } unless empty($novnc_proxy_certificates_specs) { ensure_resource('class', 'tripleo::certmonger::novnc_proxy', $novnc_proxy_certificates_specs, {'postsave_cmd' => $novnc_proxy_postsave_cmd})",73,65
openstack%2Fcloudkitty~master~I64dc2b4aec81409bbc58291f36628221142cc3b3,openstack/cloudkitty,master,I64dc2b4aec81409bbc58291f36628221142cc3b3,Update sphinx dependency,MERGED,2019-05-31 08:44:12.000000000,2019-06-06 07:29:27.000000000,2019-06-06 07:29:27.000000000,"[{'_account_id': 7042}, {'_account_id': 7923}, {'_account_id': 8358}, {'_account_id': 9642}, {'_account_id': 18898}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-05-31 08:44:12.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/870679a441709cf495865ed2d5d229807930aac1', 'message': 'Update sphinx dependency\n\nSphinx 2.0 no longer works on python 2.7,\nso we need to start capping it there as well\ndepend on https://review.opendev.org/#/c/657890/\n\nChange-Id: I64dc2b4aec81409bbc58291f36628221142cc3b3\n'}]",0,662406,870679a441709cf495865ed2d5d229807930aac1,9,10,1,27822,,,0,"Update sphinx dependency

Sphinx 2.0 no longer works on python 2.7,
so we need to start capping it there as well
depend on https://review.opendev.org/#/c/657890/

Change-Id: I64dc2b4aec81409bbc58291f36628221142cc3b3
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/06/662406/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,870679a441709cf495865ed2d5d229807930aac1,Bug#sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx>=1.6.2,!=1.6.6,!=1.6.7 # BSD",2,1
openstack%2Fpython-troveclient~master~If48449acf7037ffb04e1b5b9d1c4b059ea629055,openstack/python-troveclient,master,If48449acf7037ffb04e1b5b9d1c4b059ea629055,Add unit test for Management index,MERGED,2019-06-06 06:44:36.000000000,2019-06-06 07:22:26.000000000,2019-06-06 07:22:26.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 06:44:36.000000000', 'files': ['troveclient/v1/management.py', 'troveclient/tests/test_management.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/5ffc158a6d1b9b0542cd7f01b26f5ca41a8233a7', 'message': 'Add unit test for Management index\n\nChange-Id: If48449acf7037ffb04e1b5b9d1c4b059ea629055\n'}]",0,663515,5ffc158a6d1b9b0542cd7f01b26f5ca41a8233a7,6,2,1,6732,,,0,"Add unit test for Management index

Change-Id: If48449acf7037ffb04e1b5b9d1c4b059ea629055
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/15/663515/1 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/v1/management.py', 'troveclient/tests/test_management.py']",2,5ffc158a6d1b9b0542cd7f01b26f5ca41a8233a7,add-index-ut," def test_index(self): """"""index() is just wrapper for list()"""""" page_mock = mock.Mock() self.management._paginated = page_mock self.management.index(deleted=True) page_mock.assert_called_with('/mgmt/instances', 'instances', None, None, query_strings={'deleted': True}) self.management.index(deleted=False, limit=10, marker=""foo"") page_mock.assert_called_with('/mgmt/instances', 'instances', 10, ""foo"", query_strings={""deleted"": False}) ",,14,1
openstack%2Fglance_store~master~Ida27628c54607b43e76389029f1f6f78ccc49f93,openstack/glance_store,master,Ida27628c54607b43e76389029f1f6f78ccc49f93,Change location metadata key 'backend' to 'store',MERGED,2019-05-14 05:31:21.000000000,2019-06-06 07:18:55.000000000,2019-06-06 07:18:55.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26233}, {'_account_id': 30413}, {'_account_id': 30448}]","[{'number': 1, 'created': '2019-05-14 05:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/620fb77f7e5b20118501c9883dfce0dec4f2ebfd', 'message': ""Change lacation metadata key 'backend' to 'store'\n\nAs a part of vocabulory correction, changed the location\nmetadata key name from 'backend' to 'store'. Modified\ncorresponding tests as well.\n\nbp:multi-store-vocabulary-correction\nChange-Id: Ida27628c54607b43e76389029f1f6f78ccc49f93\n""}, {'number': 2, 'created': '2019-05-15 05:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/77483ce4906f8206511d49b6abec046e89a19e15', 'message': ""Change location metadata key 'backend' to 'store'\n\nAs a part of vocabulary correction, changed the location\nmetadata key name from 'backend' to 'store'. Modified\ncorresponding tests as well.\n\nbp:multi-store-vocabulary-correction\nChange-Id: Ida27628c54607b43e76389029f1f6f78ccc49f93\n""}, {'number': 3, 'created': '2019-05-24 06:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/4fae87eb14f88b3d9277fd8b111f822054698056', 'message': ""Change location metadata key 'backend' to 'store'\n\nAs a part of vocabulary correction, changed the location\nmetadata key name from 'backend' to 'store'. Modified\ncorresponding tests as well.\n\nbp:multi-store-vocabulary-correction\nChange-Id: Ida27628c54607b43e76389029f1f6f78ccc49f93\n""}, {'number': 4, 'created': '2019-06-04 04:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/99da501cd4c0f85758813fe9eea91efe28496e75', 'message': ""Change lacation metadata key 'backend' to 'store'\n\nAs a part of vocabulory correction, changed the location\nmetadata key name from 'backend' to 'store'. Modified\ncorresponding tests as well.\n\nbp:multi-store-vocabulary-correction\nChange-Id: Ida27628c54607b43e76389029f1f6f78ccc49f93\n""}, {'number': 5, 'created': '2019-06-04 16:28:10.000000000', 'files': ['glance_store/_drivers/vmware_datastore.py', 'glance_store/tests/unit/test_multistore_vmware.py', 'glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_multistore_filesystem.py', 'glance_store/tests/unit/test_multistore_rbd.py', 'glance_store/_drivers/swift/store.py', 'glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_multistore_cinder.py', 'glance_store/tests/unit/test_swift_store_multibackend.py', 'glance_store/_drivers/filesystem.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/54744cc3a39e1df7f24f34dbdc3f72c692199956', 'message': ""Change location metadata key 'backend' to 'store'\n\nAs a part of vocabulary correction, changed the location\nmetadata key name from 'backend' to 'store'. Modified\ncorresponding tests as well.\n\nbp:multi-store-vocabulary-correction\nChange-Id: Ida27628c54607b43e76389029f1f6f78ccc49f93\n""}]",2,658960,54744cc3a39e1df7f24f34dbdc3f72c692199956,26,8,5,9303,,,0,"Change location metadata key 'backend' to 'store'

As a part of vocabulary correction, changed the location
metadata key name from 'backend' to 'store'. Modified
corresponding tests as well.

bp:multi-store-vocabulary-correction
Change-Id: Ida27628c54607b43e76389029f1f6f78ccc49f93
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/60/658960/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/_drivers/vmware_datastore.py', 'glance_store/tests/unit/test_multistore_vmware.py', 'glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_multistore_filesystem.py', 'glance_store/tests/unit/test_multistore_rbd.py', 'glance_store/_drivers/cinder.py', 'glance_store/_drivers/swift/store.py', 'glance_store/tests/unit/test_multistore_cinder.py', 'glance_store/tests/unit/test_swift_store_multibackend.py', 'glance_store/_drivers/filesystem.py']",10,620fb77f7e5b20118501c9883dfce0dec4f2ebfd,bp/rethinking-filesystem-access," metadata['store'] = u""%s"" % self.backend_group"," metadata['backend'] = u""%s"" % self.backend_group",36,36
openstack%2Fironic-inspector~stable%2Fstein~I0e8e76291653dd2e0cd3cde35d18a1e8f9c91853,openstack/ironic-inspector,stable/stein,I0e8e76291653dd2e0cd3cde35d18a1e8f9c91853,Convert Swift connection errors into more obvious ones,MERGED,2019-06-03 08:09:26.000000000,2019-06-06 07:04:46.000000000,2019-06-06 07:04:46.000000000,"[{'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 12860}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-03 08:09:26.000000000', 'files': ['ironic_inspector/test/unit/test_swift.py', 'ironic_inspector/common/swift.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/ccff6e84927cfe2ccecff90181b695d959a7e0b2', 'message': 'Convert Swift connection errors into more obvious ones\n\nCurrently we handle Swift errors on putting/getting objects, but not\non connections. This patch improves it for better error messages.\n\nThis also means that commit 09938a397595b92f19f6415bb3cfec8be76fe6a3\nis incomplete and does not actually fix the extra-hardware plugin\nwhen Swift is absent. This change corrects it.\n\nChange-Id: I0e8e76291653dd2e0cd3cde35d18a1e8f9c91853\n(cherry picked from commit cebeb820068b3aa7f7a8a145888e226430987868)\n'}]",0,662707,ccff6e84927cfe2ccecff90181b695d959a7e0b2,15,7,1,10239,,,0,"Convert Swift connection errors into more obvious ones

Currently we handle Swift errors on putting/getting objects, but not
on connections. This patch improves it for better error messages.

This also means that commit 09938a397595b92f19f6415bb3cfec8be76fe6a3
is incomplete and does not actually fix the extra-hardware plugin
when Swift is absent. This change corrects it.

Change-Id: I0e8e76291653dd2e0cd3cde35d18a1e8f9c91853
(cherry picked from commit cebeb820068b3aa7f7a8a145888e226430987868)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/07/662707/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_swift.py', 'ironic_inspector/common/swift.py']",2,ccff6e84927cfe2ccecff90181b695d959a7e0b2,," try: if not SWIFT_SESSION: SWIFT_SESSION = keystone.get_session('swift') adapter = keystone.get_adapter('swift', session=SWIFT_SESSION, **adapter_opts) except Exception as exc: raise utils.Error(_(""Could not create an adapter to connect to "" ""the object storage service: %s"") % exc) try: self.connection = swift_client.Connection(session=SWIFT_SESSION, **params) except Exception as exc: raise utils.Error(_(""Could not connect to the object storage "" ""service: %s"") % exc)"," if not SWIFT_SESSION: SWIFT_SESSION = keystone.get_session('swift') adapter = keystone.get_adapter('swift', session=SWIFT_SESSION, **adapter_opts) self.connection = swift_client.Connection(session=SWIFT_SESSION, **params)",34,7
openstack%2Fcloudkitty-dashboard~master~I76d04daf2b9a1a72c054c2a1467c25b881e29ca7,openstack/cloudkitty-dashboard,master,I76d04daf2b9a1a72c054c2a1467c25b881e29ca7,Update sphinx dependency,MERGED,2019-05-31 08:48:01.000000000,2019-06-06 07:02:20.000000000,2019-06-06 07:02:20.000000000,"[{'_account_id': 7042}, {'_account_id': 8358}, {'_account_id': 9642}, {'_account_id': 18898}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}]","[{'number': 1, 'created': '2019-05-31 08:48:01.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/40110851cfc1d76e48e818e046ef3e766b92797d', 'message': 'Update sphinx dependency\n\nSphinx 2.0 no longer works on python 2.7,\nso we need to start capping it there as well\ndepend on https://review.opendev.org/#/c/657890/\n\nChange-Id: I76d04daf2b9a1a72c054c2a1467c25b881e29ca7\n'}]",0,662407,40110851cfc1d76e48e818e046ef3e766b92797d,7,8,1,27822,,,0,"Update sphinx dependency

Sphinx 2.0 no longer works on python 2.7,
so we need to start capping it there as well
depend on https://review.opendev.org/#/c/657890/

Change-Id: I76d04daf2b9a1a72c054c2a1467c25b881e29ca7
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/07/662407/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,40110851cfc1d76e48e818e046ef3e766b92797d,Bug#sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fnova~master~I125e2af11ebcdc444c62ed41a9ce7985db6d5576,openstack/nova,master,I125e2af11ebcdc444c62ed41a9ce7985db6d5576,"Revert ""Wait for network-vif-plugged on resize revert""",ABANDONED,2019-02-26 17:37:50.000000000,2019-06-06 06:53:23.000000000,,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12393}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-02-26 17:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ca8c650bb57e7787952376240f43997886c7063', 'message': '[Broken WIP] Split external events handling into 2 steps\n\nCloses-bug: 1813789\n\nChange-Id: I125e2af11ebcdc444c62ed41a9ce7985db6d5576\n'}, {'number': 2, 'created': '2019-03-07 20:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33e6cda41535aa531304050d604ec09119c764ca', 'message': ""Dont' wait for VIF plugging during revert resize\n\nCurrently, when reverting a resize, we call Neutron from the compute\nmanager to setup the instance networks on the source host. Later, in\nthe libvirt driver, we plugs the VIF(s)s and start the guest paused,\nthen wait for network-vif-plugged events from Neutron. The reasonning\nis that once Nova plugs the VIF(s), the Neutron agent wires them up on\nthe host. Once it's done, we can unpause the guest.\n\nThis reasoning is false. On the source, the instance remains shut off,\nand the VIFs remain plugged. As soon as we call Neutron from the\ncompute manager, the agent is able to wire up the VIF(s) and we\nreceive the network-vif-plugged event. This races with the libvirt\ndriver setting up the event listener.\n\nThis patch uses the existing vifs_already_plugged kwarg to\n_create_domain_and_network() to disable waiting for\nnetwork-vif-plugged events during a revert resize operation.\n\nPartial-bug: 1813789\nChange-Id: I125e2af11ebcdc444c62ed41a9ce7985db6d5576\n""}, {'number': 3, 'created': '2019-03-08 14:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e55989a4873baf915cb006c4c19dbd0d2c2e429', 'message': ""Dont' wait for VIF plugging during revert resize\n\nCurrently, when reverting a resize, we call Neutron from the compute\nmanager to setup the instance networks on the source host. Later, in\nthe libvirt driver, we plugs the VIF(s)s and start the guest paused,\nthen wait for network-vif-plugged events from Neutron. The reasonning\nis that once Nova plugs the VIF(s), the Neutron agent wires them up on\nthe host. Once it's done, we can unpause the guest.\n\nThis reasoning is false. On the source, the instance remains shut off,\nand the VIFs remain plugged. As soon as we call Neutron from the\ncompute manager, the agent is able to wire up the VIF(s) and we\nreceive the network-vif-plugged event. This races with the libvirt\ndriver setting up the event listener.\n\nThis patch uses the existing vifs_already_plugged kwarg to\n_create_domain_and_network() to disable waiting for\nnetwork-vif-plugged events during a revert resize operation.\n\nPartial-bug: 1813789\nChange-Id: I125e2af11ebcdc444c62ed41a9ce7985db6d5576\n""}, {'number': 4, 'created': '2019-03-08 16:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfb58980d1f593571c164eba84c1142faa3e0eaa', 'message': ""Dont' wait for VIF plugging during revert resize\n\nCurrently, when reverting a resize, we call Neutron from the compute\nmanager to setup the instance networks on the source host. Later, in\nthe libvirt driver, we plug the VIF(s)s and start the guest paused,\nthen wait for network-vif-plugged events from Neutron. The reasoning\nis that once Nova plugs the VIF(s), the Neutron agent wires them up on\nthe host. Once it's done, we can unpause the guest.\n\nThis reasoning is false. On the source, the instance remains shut off,\nand the VIFs remain plugged. As soon as we call Neutron from the\ncompute manager, the agent is able to wire up the VIF(s) and we\nreceive the network-vif-plugged event. This races with the libvirt\ndriver setting up the event listener.\n\nThis patch uses the existing vifs_already_plugged kwarg to\n_create_domain_and_network() to disable waiting for\nnetwork-vif-plugged events during a revert resize operation.\n\nPartial-bug: 1813789\nChange-Id: I125e2af11ebcdc444c62ed41a9ce7985db6d5576\n""}, {'number': 5, 'created': '2019-03-08 16:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ee4015d93f4f770aa34ec1b4b556b4f2fe904e0', 'message': ""Don't wait for VIF plugging during revert resize\n\nCurrently, when reverting a resize, we call Neutron from the compute\nmanager to setup the instance networks on the source host. Later, in\nthe libvirt driver, we plug the VIF(s)s and start the guest paused,\nthen wait for network-vif-plugged events from Neutron. The reasoning\nis that once Nova plugs the VIF(s), the Neutron agent wires them up on\nthe host. Once it's done, we can unpause the guest.\n\nThis reasoning is false. On the source, the instance remains shut off,\nand the VIFs remain plugged. As soon as we call Neutron from the\ncompute manager, the agent is able to wire up the VIF(s) and we\nreceive the network-vif-plugged event. This races with the libvirt\ndriver setting up the event listener.\n\nThis patch uses the existing vifs_already_plugged kwarg to\n_create_domain_and_network() to disable waiting for\nnetwork-vif-plugged events during a revert resize operation.\n\nPartial-bug: 1813789\nChange-Id: I125e2af11ebcdc444c62ed41a9ce7985db6d5576\n""}, {'number': 6, 'created': '2019-03-20 14:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/747ec2c483ca62a8a3072a4047852bcc1ce59e07', 'message': 'Revert ""Wait for network-vif-plugged on resize revert""\n\nCurrently, when reverting a resize, we ask the Neutron API to\nmigrate_instance_finish(), which updates the port bindings back to the\nsource host. Later, in the libvirt driver, we plug the VIF(s)s and\nstart the guest paused, then wait for network-vif-plugged events from\nNeutron. The reasoning is that once Nova plugs the VIF(s), the Neutron\nagent wires them up on the host. Once it\'s done, we can unpause the\nguest.\n\nThis reasoning is false. On the source, the instance remains shut off,\nand the VIFs remain plugged. As soon as we call Neutron from the\ncompute manager, the agent is able to wire up the VIF(s) and we\nreceive the network-vif-plugged event. This races with the libvirt\ndriver setting up the event listener.\n\nThis patch reverts commit 4817165fc5938a553fafa1a69c6086f9ebe311af,\nwhich is when we started waiting for events during revert resize in\nthe libvirt driver. In a subsequent patch, the waiting will be done in\nthe compute manager instead.\n\nPartial-bug: 1813789\nChange-Id: I125e2af11ebcdc444c62ed41a9ce7985db6d5576\n'}, {'number': 7, 'created': '2019-04-10 23:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08a480b0be7578f946e594d6c7efb419544764ab', 'message': 'Revert ""Wait for network-vif-plugged on resize revert""\n\nCurrently, when reverting a resize, we ask the Neutron API to\nmigrate_instance_finish(), which updates the port bindings back to the\nsource host. Later, in the libvirt driver, we plug the VIF(s)s and\nstart the guest paused, then wait for network-vif-plugged events from\nNeutron. The reasoning is that once Nova plugs the VIF(s), the Neutron\nagent wires them up on the host. Once it\'s done, we can unpause the\nguest.\n\nThis reasoning is false. On the source, the instance remains shut off,\nand the VIFs remain plugged. As soon as we call Neutron from the\ncompute manager, the agent is able to wire up the VIF(s) and we\nreceive the network-vif-plugged event. This races with the libvirt\ndriver setting up the event listener.\n\nThis patch reverts commit 4817165fc5938a553fafa1a69c6086f9ebe311af,\nwhich is when we started waiting for events during revert resize in\nthe libvirt driver. In a subsequent patch, the waiting will be done in\nthe compute manager instead.\n\nPartial-bug: 1813789\nChange-Id: I125e2af11ebcdc444c62ed41a9ce7985db6d5576\n'}, {'number': 8, 'created': '2019-04-12 23:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3ab31690aeae71b8d1f56f9a4012496c8929497', 'message': 'Revert ""Wait for network-vif-plugged on resize revert""\n\nCurrently, when reverting a resize, we ask the Neutron API to\nmigrate_instance_finish(), which updates the port bindings back to the\nsource host. Later, in the libvirt driver, we plug the VIF(s)s and\nstart the guest paused, then wait for network-vif-plugged events from\nNeutron. The reasoning is that once Nova plugs the VIF(s), the Neutron\nagent wires them up on the host. Once it\'s done, we can unpause the\nguest.\n\nThis reasoning is false. On the source, the instance remains shut off,\nand the VIFs remain plugged. As soon as we call Neutron from the\ncompute manager, the agent is able to wire up the VIF(s) and we\nreceive the network-vif-plugged event. This races with the libvirt\ndriver setting up the event listener.\n\nThis patch reverts commit 4817165fc5938a553fafa1a69c6086f9ebe311af,\nwhich is when we started waiting for events during revert resize in\nthe libvirt driver. In a subsequent patch, the waiting will be done in\nthe compute manager instead.\n\nPartial-bug: 1813789\nChange-Id: I125e2af11ebcdc444c62ed41a9ce7985db6d5576\n'}, {'number': 9, 'created': '2019-04-17 17:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b37e696ebb0e059e5dd7be6c412c3e70a1a47b8', 'message': 'Revert ""Wait for network-vif-plugged on resize revert""\n\nCurrently, when reverting a resize, we ask the Neutron API to\nmigrate_instance_finish(), which updates the port bindings back to the\nsource host. Later, in the libvirt driver, we plug the VIF(s)s and\nstart the guest paused, then wait for network-vif-plugged events from\nNeutron. The reasoning is that once Nova plugs the VIF(s), the Neutron\nagent wires them up on the host. Once it\'s done, we can unpause the\nguest.\n\nThis reasoning is false. On the source, the instance remains shut off,\nand the VIFs remain plugged. As soon as we call Neutron from the\ncompute manager, the agent is able to wire up the VIF(s) and we\nreceive the network-vif-plugged event. This races with the libvirt\ndriver setting up the event listener.\n\nThis patch reverts commit 4817165fc5938a553fafa1a69c6086f9ebe311af,\nwhich is when we started waiting for events during revert resize in\nthe libvirt driver. In a subsequent patch, the waiting will be done in\nthe compute manager instead.\n\nPartial-bug: 1813789\nChange-Id: I125e2af11ebcdc444c62ed41a9ce7985db6d5576\n'}, {'number': 10, 'created': '2019-04-23 17:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3acd6cf1cb6986e5605c355b0dc5d3124d0f0f3b', 'message': 'Revert ""Wait for network-vif-plugged on resize revert""\n\nCurrently, when reverting a resize, we ask the Neutron API to\nmigrate_instance_finish(), which updates the port bindings back to the\nsource host. Later, in the libvirt driver, we plug the VIF(s)s and\nstart the guest paused, then wait for network-vif-plugged events from\nNeutron. The reasoning is that once Nova plugs the VIF(s), the Neutron\nagent wires them up on the host. Once it\'s done, we can unpause the\nguest.\n\nThis reasoning is false. On the source, the instance remains shut off,\nand the VIFs remain plugged. As soon as we call Neutron from the\ncompute manager, the agent is able to wire up the VIF(s) and we\nreceive the network-vif-plugged event. This races with the libvirt\ndriver setting up the event listener.\n\nThis patch reverts commit 4817165fc5938a553fafa1a69c6086f9ebe311af,\nwhich is when we started waiting for events during revert resize in\nthe libvirt driver. In a subsequent patch, the waiting will be done in\nthe compute manager instead.\n\nPartial-bug: 1813789\nChange-Id: I125e2af11ebcdc444c62ed41a9ce7985db6d5576\n'}, {'number': 11, 'created': '2019-04-24 10:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83925cd6fa7ca7098ed9bf78fa8fc0109547b0c0', 'message': 'Revert ""Wait for network-vif-plugged on resize revert""\n\nCurrently, when reverting a resize, we ask the Neutron API to\nmigrate_instance_finish(), which updates the port bindings back to the\nsource host. Later, in the libvirt driver, we plug the VIF(s)s and\nstart the guest paused, then wait for network-vif-plugged events from\nNeutron. The reasoning is that once Nova plugs the VIF(s), the Neutron\nagent wires them up on the host. Once it\'s done, we can unpause the\nguest.\n\nThis reasoning is false. On the source, the instance remains shut off,\nand the VIFs remain plugged. As soon as we call Neutron from the\ncompute manager, the agent is able to wire up the VIF(s) and we\nreceive the network-vif-plugged event. This races with the libvirt\ndriver setting up the event listener.\n\nThis patch reverts commit 4817165fc5938a553fafa1a69c6086f9ebe311af,\nwhich is when we started waiting for events during revert resize in\nthe libvirt driver. In a subsequent patch, the waiting will be done in\nthe compute manager instead.\n\nPartial-bug: 1813789\nChange-Id: I125e2af11ebcdc444c62ed41a9ce7985db6d5576\n'}, {'number': 12, 'created': '2019-04-24 10:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e99975ea462cc3687980ff523d85f1e02fb0586e', 'message': 'Revert ""Wait for network-vif-plugged on resize revert""\n\nCurrently, when reverting a resize, we ask the Neutron API to\nmigrate_instance_finish(), which updates the port bindings back to the\nsource host. Later, in the libvirt driver, we plug the VIF(s)s and\nstart the guest paused, then wait for network-vif-plugged events from\nNeutron. The reasoning is that once Nova plugs the VIF(s), the Neutron\nagent wires them up on the host. Once it\'s done, we can unpause the\nguest.\n\nThis reasoning is false. On the source, the instance remains shut off,\nand the VIFs remain plugged. As soon as we call Neutron from the\ncompute manager, the agent is able to wire up the VIF(s) and we\nreceive the network-vif-plugged event. This races with the libvirt\ndriver setting up the event listener.\n\nThis patch reverts commit 4817165fc5938a553fafa1a69c6086f9ebe311af,\nwhich is when we started waiting for events during revert resize in\nthe libvirt driver. In a subsequent patch, the waiting will be done in\nthe compute manager instead.\n\nPartial-bug: 1813789\nChange-Id: I125e2af11ebcdc444c62ed41a9ce7985db6d5576\n'}, {'number': 13, 'created': '2019-04-24 17:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c803925ca7e10cf0396577b10d19d0fdadee168', 'message': 'Revert ""Wait for network-vif-plugged on resize revert""\n\nCurrently, when reverting a resize, we ask the Neutron API to\nmigrate_instance_finish(), which updates the port bindings back to the\nsource host. Later, in the libvirt driver, we plug the VIF(s)s and\nstart the guest paused, then wait for network-vif-plugged events from\nNeutron. The reasoning is that once Nova plugs the VIF(s), the Neutron\nagent wires them up on the host. Once it\'s done, we can unpause the\nguest.\n\nThis reasoning is false. On the source, the instance remains shut off,\nand the VIFs remain plugged. As soon as we call Neutron from the\ncompute manager, the agent is able to wire up the VIF(s) and we\nreceive the network-vif-plugged event. This races with the libvirt\ndriver setting up the event listener.\n\nThis patch reverts commit 4817165fc5938a553fafa1a69c6086f9ebe311af,\nwhich is when we started waiting for events during revert resize in\nthe libvirt driver. In a subsequent patch, the waiting will be done in\nthe compute manager instead.\n\nPartial-bug: 1813789\nChange-Id: I125e2af11ebcdc444c62ed41a9ce7985db6d5576\n'}, {'number': 14, 'created': '2019-04-25 17:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfdedd3fcba2e457286b596efc2f8ff62ae40526', 'message': 'Revert ""Wait for network-vif-plugged on resize revert""\n\nCurrently, when reverting a resize, we ask the Neutron API to\nmigrate_instance_finish(), which updates the port bindings back to the\nsource host. Later, in the libvirt driver, we plug the VIF(s)s and\nstart the guest paused, then wait for network-vif-plugged events from\nNeutron. The reasoning is that once Nova plugs the VIF(s), the Neutron\nagent wires them up on the host. Once it\'s done, we can unpause the\nguest.\n\nThis reasoning is false. On the source, the instance remains shut off,\nand the VIFs remain plugged. As soon as we call Neutron from the\ncompute manager, the agent is able to wire up the VIF(s) and we\nreceive the network-vif-plugged event. This races with the libvirt\ndriver setting up the event listener.\n\nThis patch reverts commit 4817165fc5938a553fafa1a69c6086f9ebe311af,\nwhich is when we started waiting for events during revert resize in\nthe libvirt driver. In a subsequent patch, the waiting will be done in\nthe compute manager instead.\n\nPartial-bug: 1813789\nChange-Id: I125e2af11ebcdc444c62ed41a9ce7985db6d5576\n'}, {'number': 15, 'created': '2019-04-26 20:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b98ca4259e26c23e02a725fc13e0ad90a04957f6', 'message': 'Revert ""Wait for network-vif-plugged on resize revert""\n\nCurrently, when reverting a resize, we ask the Neutron API to\nmigrate_instance_finish(), which updates the port bindings back to the\nsource host. Later, in the libvirt driver, we plug the VIF(s)s and\nstart the guest paused, then wait for network-vif-plugged events from\nNeutron. The reasoning is that once Nova plugs the VIF(s), the Neutron\nagent wires them up on the host. Once it\'s done, we can unpause the\nguest.\n\nThis reasoning is false. On the source, the instance remains shut off,\nand the VIFs remain plugged. As soon as we call Neutron from the\ncompute manager, the agent is able to wire up the VIF(s) and we\nreceive the network-vif-plugged event. This races with the libvirt\ndriver setting up the event listener.\n\nThis patch reverts commit 4817165fc5938a553fafa1a69c6086f9ebe311af,\nwhich is when we started waiting for events during revert resize in\nthe libvirt driver. In a subsequent patch, the waiting will be done in\nthe compute manager instead.\n\nPartial-bug: 1813789\nChange-Id: I125e2af11ebcdc444c62ed41a9ce7985db6d5576\n'}, {'number': 16, 'created': '2019-04-29 13:58:17.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7a34b85d6971795c87a2ecc04a5000c461444815', 'message': 'Revert ""Wait for network-vif-plugged on resize revert""\n\nCurrently, when reverting a resize, we ask the Neutron API to\nmigrate_instance_finish(), which updates the port bindings back to the\nsource host. Later, in the libvirt driver, we plug the VIF(s)s and\nstart the guest paused, then wait for network-vif-plugged events from\nNeutron. The reasoning is that once Nova plugs the VIF(s), the Neutron\nagent wires them up on the host. Once it\'s done, we can unpause the\nguest.\n\nThis reasoning is false. On the source, the instance remains shut off,\nand the VIFs remain plugged. As soon as we call Neutron from the\ncompute manager, the agent is able to wire up the VIF(s) and we\nreceive the network-vif-plugged event. This races with the libvirt\ndriver setting up the event listener.\n\nThis patch reverts commit 4817165fc5938a553fafa1a69c6086f9ebe311af,\nwhich is when we started waiting for events during revert resize in\nthe libvirt driver. In a subsequent patch, the waiting will be done in\nthe compute manager instead.\n\nPartial-bug: 1813789\nChange-Id: I125e2af11ebcdc444c62ed41a9ce7985db6d5576\n'}]",18,639396,7a34b85d6971795c87a2ecc04a5000c461444815,156,19,16,8864,,,0,"Revert ""Wait for network-vif-plugged on resize revert""

Currently, when reverting a resize, we ask the Neutron API to
migrate_instance_finish(), which updates the port bindings back to the
source host. Later, in the libvirt driver, we plug the VIF(s)s and
start the guest paused, then wait for network-vif-plugged events from
Neutron. The reasoning is that once Nova plugs the VIF(s), the Neutron
agent wires them up on the host. Once it's done, we can unpause the
guest.

This reasoning is false. On the source, the instance remains shut off,
and the VIFs remain plugged. As soon as we call Neutron from the
compute manager, the agent is able to wire up the VIF(s) and we
receive the network-vif-plugged event. This races with the libvirt
driver setting up the event listener.

This patch reverts commit 4817165fc5938a553fafa1a69c6086f9ebe311af,
which is when we started waiting for events during revert resize in
the libvirt driver. In a subsequent patch, the waiting will be done in
the compute manager instead.

Partial-bug: 1813789
Change-Id: I125e2af11ebcdc444c62ed41a9ce7985db6d5576
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/639396/16 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,0ca8c650bb57e7787952376240f43997886c7063,bug/1813789," self.events = {} def setup_listeners_for_event(self, instance, event_names): """"""Set up to receive instance events. Listeners will be created for all events specified by event_names. If an error_callback is provided, it will be remembered along with the event_names. To actually wait for the events, wait_for_instance_event must be called with the same event_names. :param instance: The instance for which an event is expected :param event_names: A list of event names. Each element is a tuple of strings to indicate (name, tag), where name is required, but tag may be None. """""" if error_callback is None: error_callback = self._default_error_callback for event_name in event_names: name, tag = event_name event_name = objects.InstanceExternalEvent.make_key(name, tag) try: if event_name in self.events: LOG.info('Ignored attempt to listen for duplicate event ' '%s', event_name) else: instance_events = self._compute.instance_events self.events[event_name] = \ instance_events.prepare_for_instance_event(instance, name, tag) except exception.NovaException: error_callback(event_name, instance) # NOTE(danms): Don't wait for any of the events. They # should all be canceled and fired immediately below, # but don't stick around if not. deadline = 0 """"""Wait for events to arrive. This context manager will immediately yield, then wait for all the scheduled events to complete. yield yield with eventlet.timeout.Timeout(deadline): actual_event = self.events[event_name].wait() network_info = instance.get_network_info() for vif in network_info: self.virtapi.setup_listeners_for_event(instance, ('network-vif-plugged', vif['id'])"," """"""Plan to wait for some events, run some code, then wait. This context manager will first create plans to wait for the provided event_names, yield, and then wait for all the scheduled events to complete. :param instance: The instance for which an event is expected :param event_names: A list of event names. Each element is a tuple of strings to indicate (name, tag), where name is required, but tag may be None. :param deadline: Maximum number of seconds we should wait for all of the specified events to arrive. if error_callback is None: error_callback = self._default_error_callback events = {} try: events[event_name] = ( self._compute.instance_events.prepare_for_instance_event( instance, name, tag)) except exception.NovaException: error_callback(event_name, instance) # NOTE(danms): Don't wait for any of the events. They # should all be canceled and fired immediately below, # but don't stick around if not. deadline = 0 yield with eventlet.timeout.Timeout(deadline): for event_name, event in events.items(): actual_event = event.wait() else: network_info = instance.get_network_info()",47,31
openstack%2Fkolla~stable%2Fstein~Ifff5c60f5690098619bf5a43f25ae3895a96e0d2,openstack/kolla,stable/stein,Ifff5c60f5690098619bf5a43f25ae3895a96e0d2,Remove nova-placement-api,ABANDONED,2019-05-28 07:27:46.000000000,2019-06-06 06:37:11.000000000,,"[{'_account_id': 10135}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30448}]","[{'number': 1, 'created': '2019-05-28 07:27:46.000000000', 'files': ['docker/nova/nova-placement-api/Dockerfile.j2', 'docker/nova/nova-placement-api/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0809ee31ae42327ddcfd5401d1fe4ce0f41986ce', 'message': 'Remove nova-placement-api\n\nNow that the required changes to extract Placement from Nova have landed\nin kolla-ansible we can remove the nova-placement-api service from\nkolla.\n\nChange-Id: Ifff5c60f5690098619bf5a43f25ae3895a96e0d2\n(cherry picked from commit 755e65c3f9e38bbfdb22238fde33b92fb971ff2c)\n'}]",0,661686,0809ee31ae42327ddcfd5401d1fe4ce0f41986ce,11,7,1,22629,,,0,"Remove nova-placement-api

Now that the required changes to extract Placement from Nova have landed
in kolla-ansible we can remove the nova-placement-api service from
kolla.

Change-Id: Ifff5c60f5690098619bf5a43f25ae3895a96e0d2
(cherry picked from commit 755e65c3f9e38bbfdb22238fde33b92fb971ff2c)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/86/661686/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/nova/nova-placement-api/Dockerfile.j2', 'docker/nova/nova-placement-api/extend_start.sh']",2,0809ee31ae42327ddcfd5401d1fe4ce0f41986ce,split-placement-stable/stein,,"#!/bin/bash # NOTE(pbourke): httpd will not clean up after itself in some cases which # results in the container not being able to restart. (bug #1489676, 1557036) if [[ ""${KOLLA_BASE_DISTRO}"" =~ debian|ubuntu ]]; then # Loading Apache2 ENV variables . /etc/apache2/envvars rm -rf /var/run/apache2/* else rm -rf /var/run/httpd/* /run/httpd/* /tmp/httpd* fi ",0,82
openstack%2Freleases~master~I7d0e94480a7709e9225903b3a2b502884f4ff625,openstack/releases,master,I7d0e94480a7709e9225903b3a2b502884f4ff625,Release ironic 10.1.9 for Queens,MERGED,2019-06-04 07:16:58.000000000,2019-06-06 06:34:16.000000000,2019-06-06 06:34:16.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 07:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7f078e92e624bb6b53f1e12c60652e8e6c738702', 'message': 'Release ironic 10.1.9 for Queens\n\nChange-Id: I7d0e94480a7709e9225903b3a2b502884f4ff625\n'}, {'number': 2, 'created': '2019-06-04 12:06:09.000000000', 'files': ['deliverables/queens/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6f577eb8caed14b98527affd8f8ebfa3a9b47fbb', 'message': 'Release ironic 10.1.9 for Queens\n\nChange-Id: I7d0e94480a7709e9225903b3a2b502884f4ff625\n'}]",0,662948,6f577eb8caed14b98527affd8f8ebfa3a9b47fbb,12,5,2,10239,,,0,"Release ironic 10.1.9 for Queens

Change-Id: I7d0e94480a7709e9225903b3a2b502884f4ff625
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/662948/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/ironic.yaml'],1,7f078e92e624bb6b53f1e12c60652e8e6c738702,ironic-queens," - projects: - hash: 9138b7c0b8c5fef60d6511ccc348237aadbe947f repo: openstack/ironic version: 10.1.9 - 'Finished implementation of rescue mode. Users can repair instances, troubleshoot misconfigured nodes, lost SSH keys, etc.'"," - 'Finished implementation of rescue mode. Users can repair instances, troubleshoot misconfigured nodes, lost SSH keys, etc.'",6,2
openstack%2Freleases~master~I2734714c462d0655f707ae7733b2929a2535b4ca,openstack/releases,master,I2734714c462d0655f707ae7733b2929a2535b4ca,Puppet OpenStack Train Milestone 1,MERGED,2019-06-05 18:42:19.000000000,2019-06-06 06:34:15.000000000,2019-06-06 06:34:15.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 18:42:19.000000000', 'files': ['deliverables/train/puppet-keystone.yaml', 'deliverables/train/puppet-senlin.yaml', 'deliverables/train/puppet-nova.yaml', 'deliverables/train/puppet-ceilometer.yaml', 'deliverables/train/puppet-freezer.yaml', 'deliverables/train/puppet-barbican.yaml', 'deliverables/train/puppet-trove.yaml', 'deliverables/train/puppet-tempest.yaml', 'deliverables/train/puppet-qdr.yaml', 'deliverables/train/puppet-aodh.yaml', 'deliverables/train/puppet-neutron.yaml', 'deliverables/train/puppet-panko.yaml', 'deliverables/train/puppet-watcher.yaml', 'deliverables/train/puppet-murano.yaml', 'deliverables/train/puppet-ec2api.yaml', 'deliverables/train/puppet-openstack_extras.yaml', 'deliverables/train/puppet-octavia.yaml', 'deliverables/train/puppet-cinder.yaml', 'deliverables/train/puppet-ironic.yaml', 'deliverables/train/puppet-rally.yaml', 'deliverables/train/puppet-magnum.yaml', 'deliverables/train/puppet-cloudkitty.yaml', 'deliverables/train/puppet-gnocchi.yaml', 'deliverables/train/puppet-vswitch.yaml', 'deliverables/train/puppet-tacker.yaml', 'deliverables/train/puppet-openstacklib.yaml', 'deliverables/train/puppet-sahara.yaml', 'deliverables/train/puppet-vitrage.yaml', 'deliverables/train/puppet-manila.yaml', 'deliverables/train/puppet-oslo.yaml', 'deliverables/train/puppet-zaqar.yaml', 'deliverables/train/puppet-horizon.yaml', 'deliverables/train/puppet-glance.yaml', 'deliverables/train/puppet-heat.yaml', 'deliverables/train/puppet-designate.yaml', 'deliverables/train/puppet-swift.yaml', 'deliverables/train/puppet-glare.yaml', 'deliverables/train/puppet-mistral.yaml', 'deliverables/train/puppet-congress.yaml', 'deliverables/train/puppet-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/edc22fd6515b44a85d541006567d282c02d6763e', 'message': 'Puppet OpenStack Train Milestone 1\n\nChange-Id: I2734714c462d0655f707ae7733b2929a2535b4ca\n'}]",0,663399,edc22fd6515b44a85d541006567d282c02d6763e,8,4,1,14985,,,0,"Puppet OpenStack Train Milestone 1

Change-Id: I2734714c462d0655f707ae7733b2929a2535b4ca
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/663399/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/puppet-keystone.yaml', 'deliverables/train/puppet-senlin.yaml', 'deliverables/train/puppet-nova.yaml', 'deliverables/train/puppet-ceilometer.yaml', 'deliverables/train/puppet-freezer.yaml', 'deliverables/train/puppet-barbican.yaml', 'deliverables/train/puppet-trove.yaml', 'deliverables/train/puppet-tempest.yaml', 'deliverables/train/puppet-qdr.yaml', 'deliverables/train/puppet-aodh.yaml', 'deliverables/train/puppet-neutron.yaml', 'deliverables/train/puppet-panko.yaml', 'deliverables/train/puppet-watcher.yaml', 'deliverables/train/puppet-murano.yaml', 'deliverables/train/puppet-ec2api.yaml', 'deliverables/train/puppet-openstack_extras.yaml', 'deliverables/train/puppet-octavia.yaml', 'deliverables/train/puppet-cinder.yaml', 'deliverables/train/puppet-ironic.yaml', 'deliverables/train/puppet-rally.yaml', 'deliverables/train/puppet-magnum.yaml', 'deliverables/train/puppet-cloudkitty.yaml', 'deliverables/train/puppet-gnocchi.yaml', 'deliverables/train/puppet-vswitch.yaml', 'deliverables/train/puppet-tacker.yaml', 'deliverables/train/puppet-openstacklib.yaml', 'deliverables/train/puppet-sahara.yaml', 'deliverables/train/puppet-vitrage.yaml', 'deliverables/train/puppet-manila.yaml', 'deliverables/train/puppet-oslo.yaml', 'deliverables/train/puppet-zaqar.yaml', 'deliverables/train/puppet-horizon.yaml', 'deliverables/train/puppet-glance.yaml', 'deliverables/train/puppet-heat.yaml', 'deliverables/train/puppet-designate.yaml', 'deliverables/train/puppet-swift.yaml', 'deliverables/train/puppet-glare.yaml', 'deliverables/train/puppet-mistral.yaml', 'deliverables/train/puppet-congress.yaml', 'deliverables/train/puppet-ovn.yaml']",40,edc22fd6515b44a85d541006567d282c02d6763e,puppet-openstack-m1,releases: - projects: - hash: 7853c55c412643432b0ac381ffd477ec7aad83eb repo: openstack/puppet-ovn version: 15.0.0,,200,0
openstack%2Freleases~master~I0e8171067a2cfe0ad118190ce045d6d8d7e1bbfe,openstack/releases,master,I0e8171067a2cfe0ad118190ce045d6d8d7e1bbfe,Release python-octaviaclient 1.9.0 for Train,MERGED,2019-06-05 21:28:55.000000000,2019-06-06 06:33:38.000000000,2019-06-06 06:33:38.000000000,"[{'_account_id': 10273}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 21:28:55.000000000', 'files': ['deliverables/train/python-octaviaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/05a6447bf3e66f76a62278392b87208de27d14ee', 'message': 'Release python-octaviaclient 1.9.0 for Train\n\nChange-Id: I0e8171067a2cfe0ad118190ce045d6d8d7e1bbfe\n'}]",0,663438,05a6447bf3e66f76a62278392b87208de27d14ee,7,3,1,6732,,,0,"Release python-octaviaclient 1.9.0 for Train

Change-Id: I0e8171067a2cfe0ad118190ce045d6d8d7e1bbfe
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/663438/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/python-octaviaclient.yaml'],1,05a6447bf3e66f76a62278392b87208de27d14ee,python-octaviaclient-1.9.0,releases: - version: 1.9.0 projects: - repo: openstack/python-octaviaclient hash: 680efaac9a82863fc7deae229baa6c05aed831f9,,5,0
openstack%2Freleases~master~I986b2c44cf43e9a12fc0e3b1ceda0c06158a99fc,openstack/releases,master,I986b2c44cf43e9a12fc0e3b1ceda0c06158a99fc,Release python-troveclient 2.18.0 for Train,MERGED,2019-06-06 02:40:41.000000000,2019-06-06 06:24:37.000000000,2019-06-06 06:24:37.000000000,"[{'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 02:40:41.000000000', 'files': ['deliverables/train/python-troveclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1b83ca12ec26fbfb91a61684c131cb93a23ccdfe', 'message': 'Release python-troveclient 2.18.0 for Train\n\nChange-Id: I986b2c44cf43e9a12fc0e3b1ceda0c06158a99fc\n'}]",0,663483,1b83ca12ec26fbfb91a61684c131cb93a23ccdfe,6,2,1,6732,,,0,"Release python-troveclient 2.18.0 for Train

Change-Id: I986b2c44cf43e9a12fc0e3b1ceda0c06158a99fc
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/663483/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/python-troveclient.yaml'],1,1b83ca12ec26fbfb91a61684c131cb93a23ccdfe,python-troveclient,releases: - projects: - hash: 50ac153dc53881dbb066723d77ad13092e9d15ac repo: openstack/python-troveclient version: 2.18.0,,5,0
openstack%2Freleases~master~Ib7b9545c6b529e18e73868b053f129df5e83ec45,openstack/releases,master,Ib7b9545c6b529e18e73868b053f129df5e83ec45,Release ironic-lib 2.12.3 for Queens,MERGED,2019-06-04 07:21:08.000000000,2019-06-06 06:24:36.000000000,2019-06-06 06:24:36.000000000,"[{'_account_id': 11655}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 07:21:08.000000000', 'files': ['deliverables/queens/ironic-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/809f1114ea56a966eabb2ffacdecef22a90d1a33', 'message': 'Release ironic-lib 2.12.3 for Queens\n\nChange-Id: Ib7b9545c6b529e18e73868b053f129df5e83ec45\n'}]",0,662952,809f1114ea56a966eabb2ffacdecef22a90d1a33,8,4,1,10239,,,0,"Release ironic-lib 2.12.3 for Queens

Change-Id: Ib7b9545c6b529e18e73868b053f129df5e83ec45
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/662952/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/ironic-lib.yaml'],1,809f1114ea56a966eabb2ffacdecef22a90d1a33,ironic-lib-queens, - projects: - hash: f46f271bca789ed1fb0860c02225ed326e5cd90b repo: openstack/ironic-lib version: 2.12.3,,4,0
openstack%2Freleases~master~I6f5b02c10891b9fb6b449e5bcffac31dbfb97c11,openstack/releases,master,I6f5b02c10891b9fb6b449e5bcffac31dbfb97c11,Release ironic-python-agent 3.2.3 for Queens,MERGED,2019-06-04 07:18:29.000000000,2019-06-06 06:23:42.000000000,2019-06-06 06:23:41.000000000,"[{'_account_id': 11655}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 07:18:29.000000000', 'files': ['deliverables/queens/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c4ab336cc97a448e2ce3ff72fef863cfab10d436', 'message': 'Release ironic-python-agent 3.2.3 for Queens\n\nChange-Id: I6f5b02c10891b9fb6b449e5bcffac31dbfb97c11\n'}]",0,662949,c4ab336cc97a448e2ce3ff72fef863cfab10d436,8,4,1,10239,,,0,"Release ironic-python-agent 3.2.3 for Queens

Change-Id: I6f5b02c10891b9fb6b449e5bcffac31dbfb97c11
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/662949/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/ironic-python-agent.yaml'],1,c4ab336cc97a448e2ce3ff72fef863cfab10d436,ironic-python-agent-queens, - projects: - hash: bf705dba9964c230890bdf2dd1ded79c5d3e7152 repo: openstack/ironic-python-agent version: 3.2.3,,4,0
openstack%2Freleases~master~Ie7e5c8c5c456a44ee750b5371cfc01a6763f4c21,openstack/releases,master,Ie7e5c8c5c456a44ee750b5371cfc01a6763f4c21,Release OpenStack-Ansible Queens,MERGED,2019-06-03 17:27:30.000000000,2019-06-06 06:23:41.000000000,2019-06-06 06:23:40.000000000,"[{'_account_id': 1004}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-06-03 17:27:30.000000000', 'files': ['deliverables/queens/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d163efb13c2a2343aa36809e1a7821d1216e6109', 'message': 'Release OpenStack-Ansible Queens\n\nChange-Id: Ie7e5c8c5c456a44ee750b5371cfc01a6763f4c21\n'}]",0,662807,d163efb13c2a2343aa36809e1a7821d1216e6109,11,5,1,28619,,,0,"Release OpenStack-Ansible Queens

Change-Id: Ie7e5c8c5c456a44ee750b5371cfc01a6763f4c21
",git fetch https://review.opendev.org/openstack/releases refs/changes/07/662807/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/openstack-ansible.yaml'],1,d163efb13c2a2343aa36809e1a7821d1216e6109,release_osa, - projects: - hash: 653e5fb6d8355c6a2fd243aebaea644cfd0fdc2e repo: openstack/openstack-ansible version: 17.1.11,,4,0
openstack%2Freleases~master~Iac9028ccc1e256dbe5bdef33de9cab99b160c0b6,openstack/releases,master,Iac9028ccc1e256dbe5bdef33de9cab99b160c0b6,Release python-ironicclient 2.5.3 for Rocky,MERGED,2019-06-03 06:46:42.000000000,2019-06-06 06:20:28.000000000,2019-06-06 06:20:28.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 13861}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-03 06:46:42.000000000', 'files': ['deliverables/rocky/python-ironicclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/25de8186df4cdabba2556bc06726940491d3cfb1', 'message': 'Release python-ironicclient 2.5.3 for Rocky\n\nChange-Id: Iac9028ccc1e256dbe5bdef33de9cab99b160c0b6\n'}]",0,662685,25de8186df4cdabba2556bc06726940491d3cfb1,10,6,1,10239,,,0,"Release python-ironicclient 2.5.3 for Rocky

Change-Id: Iac9028ccc1e256dbe5bdef33de9cab99b160c0b6
",git fetch https://review.opendev.org/openstack/releases refs/changes/85/662685/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/python-ironicclient.yaml'],1,25de8186df4cdabba2556bc06726940491d3cfb1,ironicclient-rocky, - projects: - hash: 51fc3a7cf99f9c84ebbe03db4370561ccd1b49e4 repo: openstack/python-ironicclient version: 2.5.3,,4,0
openstack%2Freleases~master~Ia73634dd9a948563288470a3d6048458e9e7d809,openstack/releases,master,Ia73634dd9a948563288470a3d6048458e9e7d809,"Revert ""Replace the invalid index of keystone highlight in Rocky""",MERGED,2019-06-03 14:50:01.000000000,2019-06-06 06:20:27.000000000,2019-06-06 06:20:27.000000000,"[{'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-03 14:50:01.000000000', 'files': ['deliverables/rocky/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3dbc1f54161eb155b1173d0147ad52b97b33f283', 'message': 'Revert ""Replace the invalid index of keystone highlight in Rocky""\n\nThis reverts commit fec5ac7a030fbd7a08bd1c5f3c6cab167e4cf9e6.\n\nSince this highlight was for Rocky, we should point to the Rocky\ndocumentation, when this path was still valid.\n\nChange-Id: Ia73634dd9a948563288470a3d6048458e9e7d809\n'}]",0,662779,3dbc1f54161eb155b1173d0147ad52b97b33f283,7,3,1,8482,,,0,"Revert ""Replace the invalid index of keystone highlight in Rocky""

This reverts commit fec5ac7a030fbd7a08bd1c5f3c6cab167e4cf9e6.

Since this highlight was for Rocky, we should point to the Rocky
documentation, when this path was still valid.

Change-Id: Ia73634dd9a948563288470a3d6048458e9e7d809
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/662779/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/keystone.yaml'],1,3dbc1f54161eb155b1173d0147ad52b97b33f283,rocky-reno, <https://docs.openstack.org/keystone/rocky/admin/identity-case-insensitive.html>`_., <https://docs.openstack.org/keystone/latest/admin/case-insensitive.html>`_.,1,1
openstack%2Freleases~master~I708a02df2673126de8497679aeb90197556a4d4e,openstack/releases,master,I708a02df2673126de8497679aeb90197556a4d4e,Release OpenStack-Ansible Rocky,MERGED,2019-06-03 17:15:04.000000000,2019-06-06 06:20:26.000000000,2019-06-06 06:20:26.000000000,"[{'_account_id': 1004}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-03 17:15:04.000000000', 'files': ['deliverables/rocky/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e1ef7cee0db3ce468bcf62a329b9fe1698defa4a', 'message': 'Release OpenStack-Ansible Rocky\n\nChange-Id: I708a02df2673126de8497679aeb90197556a4d4e\n'}]",0,662806,e1ef7cee0db3ce468bcf62a329b9fe1698defa4a,9,4,1,28619,,,0,"Release OpenStack-Ansible Rocky

Change-Id: I708a02df2673126de8497679aeb90197556a4d4e
",git fetch https://review.opendev.org/openstack/releases refs/changes/06/662806/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/openstack-ansible.yaml'],1,e1ef7cee0db3ce468bcf62a329b9fe1698defa4a,release_osa, - projects: - hash: 5f5e6fbcf3249ddec78c2a837288f6c5ee258bab repo: openstack/openstack-ansible version: 18.1.7,,4,0
openstack%2Freleases~master~Ic27d1fe8e7675dd87712b182b7d332262c4d7a1a,openstack/releases,master,Ic27d1fe8e7675dd87712b182b7d332262c4d7a1a,Release monasca-notification 1.14.1,MERGED,2019-05-30 10:18:01.000000000,2019-06-06 06:16:20.000000000,2019-06-06 06:16:20.000000000,"[{'_account_id': 10311}, {'_account_id': 12898}, {'_account_id': 16222}, {'_account_id': 17068}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-05-30 10:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/470b6c520fb69bb0d134241dc21110090707ef71', 'message': 'Release monasca-notification 1.14.1\n\nThis includes a number of bugfixes which affect the operation\nof notification plugins.\n\nChange-Id: Ic27d1fe8e7675dd87712b182b7d332262c4d7a1a\n'}, {'number': 2, 'created': '2019-06-04 10:07:42.000000000', 'files': ['deliverables/rocky/monasca-notification.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7ab1dc542a9ffca0c41aa5e7b93f0afa27828e3f', 'message': 'Release monasca-notification 1.14.1\n\nThis includes a number of bugfixes which affect the operation\nof notification plugins.\n\nChange-Id: Ic27d1fe8e7675dd87712b182b7d332262c4d7a1a\n'}]",0,662177,7ab1dc542a9ffca0c41aa5e7b93f0afa27828e3f,20,7,2,17669,,,0,"Release monasca-notification 1.14.1

This includes a number of bugfixes which affect the operation
of notification plugins.

Change-Id: Ic27d1fe8e7675dd87712b182b7d332262c4d7a1a
",git fetch https://review.opendev.org/openstack/releases refs/changes/77/662177/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/monasca-notification.yaml'],1,470b6c520fb69bb0d134241dc21110090707ef71,, - projects: - hash: 5c007818649382b156bfa48a5a77071d45ce355f repo: openstack/monasca-notification version: 1.14.1,,4,0
openstack%2Freleases~master~Ie7f408bdc413f66d59f5cee884ea32128b952922,openstack/releases,master,Ie7f408bdc413f66d59f5cee884ea32128b952922,Release ironic-python-agent 3.3.2 for Rocky,MERGED,2019-06-04 07:11:59.000000000,2019-06-06 06:15:35.000000000,2019-06-06 06:15:35.000000000,"[{'_account_id': 11655}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 07:11:59.000000000', 'files': ['deliverables/rocky/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3c6897d8627989a767c663121a1bcb4dff1daafe', 'message': 'Release ironic-python-agent 3.3.2 for Rocky\n\nChange-Id: Ie7f408bdc413f66d59f5cee884ea32128b952922\n'}]",0,662947,3c6897d8627989a767c663121a1bcb4dff1daafe,8,4,1,10239,,,0,"Release ironic-python-agent 3.3.2 for Rocky

Change-Id: Ie7f408bdc413f66d59f5cee884ea32128b952922
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/662947/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/ironic-python-agent.yaml'],1,3c6897d8627989a767c663121a1bcb4dff1daafe,ironic-python-agent-rocky, - projects: - hash: 78ba0d1c30776607c1563bae847c062622ff12b7 repo: openstack/ironic-python-agent version: 3.3.2,,4,0
openstack%2Freleases~master~Id4dd5babf4fbdfe8789a1c300b58e76c737f8dc9,openstack/releases,master,Id4dd5babf4fbdfe8789a1c300b58e76c737f8dc9,Release ironic-lib 2.14.2 for Rocky,MERGED,2019-06-04 07:19:58.000000000,2019-06-06 06:15:34.000000000,2019-06-06 06:15:34.000000000,"[{'_account_id': 11655}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 07:19:58.000000000', 'files': ['deliverables/rocky/ironic-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1cd059f21963f32fad5810b2d965581e3be575f1', 'message': 'Release ironic-lib 2.14.2 for Rocky\n\nChange-Id: Id4dd5babf4fbdfe8789a1c300b58e76c737f8dc9\n'}]",0,662950,1cd059f21963f32fad5810b2d965581e3be575f1,8,4,1,10239,,,0,"Release ironic-lib 2.14.2 for Rocky

Change-Id: Id4dd5babf4fbdfe8789a1c300b58e76c737f8dc9
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/662950/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/ironic-lib.yaml'],1,1cd059f21963f32fad5810b2d965581e3be575f1,ironic-lib-rocky, - projects: - hash: 9731ae35bb9d449b434fc82293b778683b33643b repo: openstack/ironic-lib version: 2.14.2,,4,0
openstack%2Freleases~master~I8538ed21d62c76e66596a30be8d34e6df1141582,openstack/releases,master,I8538ed21d62c76e66596a30be8d34e6df1141582,Release ironic 11.1.3 for Rocky,MERGED,2019-06-04 07:08:25.000000000,2019-06-06 06:15:33.000000000,2019-06-06 06:15:33.000000000,"[{'_account_id': 11655}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 07:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1bee6799d7c10a485dc0bbd34795fb2d44f3bfdb', 'message': 'Release ironic 11.1.3 for Rocky\n\nChange-Id: I8538ed21d62c76e66596a30be8d34e6df1141582\n'}, {'number': 2, 'created': '2019-06-04 12:05:29.000000000', 'files': ['deliverables/rocky/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a675e4fc88048a864ad00c86a0d05f6ccd8e5850', 'message': 'Release ironic 11.1.3 for Rocky\n\nChange-Id: I8538ed21d62c76e66596a30be8d34e6df1141582\n'}]",0,662946,a675e4fc88048a864ad00c86a0d05f6ccd8e5850,10,4,2,10239,,,0,"Release ironic 11.1.3 for Rocky

Change-Id: I8538ed21d62c76e66596a30be8d34e6df1141582
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/662946/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/ironic.yaml'],1,1bee6799d7c10a485dc0bbd34795fb2d44f3bfdb,ironic-rocky," - projects: - hash: a2dea908c2156145402bcd3e040b4b7f3198bf5d repo: openstack/ironic version: 11.1.3 - 'Added the ability to define groups of conductors and nodes, enabling operators to define specific failure or management domains.' - 'Added ability to manage BIOS settings, with driver support for iRMC and iLO hardware types.' - 'Added automatic recovery from power faults, removing a long standing headache for operators.' - 'Added a ramdisk deployment interface enabling high performance computing deployments to have diskless nodes.'"," - 'Added the ability to define groups of conductors and nodes, enabling operators to define specific failure or management domains.' - 'Added ability to manage BIOS settings, with driver support for iRMC and iLO hardware types.' - 'Added automatic recovery from power faults, removing a long standing headache for operators.' - 'Added a ramdisk deployment interface enabling high performance computing deployments to have diskless nodes.'",12,8
openstack%2Freleases~master~I501a2809ad48e49bc7d29edd80bd2f4f2c219a6b,openstack/releases,master,I501a2809ad48e49bc7d29edd80bd2f4f2c219a6b,Release Candidate for OpenStack-Ansible Stein,MERGED,2019-06-03 17:32:59.000000000,2019-06-06 06:15:32.000000000,2019-06-06 06:15:32.000000000,"[{'_account_id': 1004}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-03 17:32:59.000000000', 'files': ['deliverables/stein/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/594dc4f611438b8b6e7d4581ae34a39636de5dcc', 'message': 'Release Candidate for OpenStack-Ansible Stein\n\nChange-Id: I501a2809ad48e49bc7d29edd80bd2f4f2c219a6b\n'}]",0,662809,594dc4f611438b8b6e7d4581ae34a39636de5dcc,12,5,1,28619,,,0,"Release Candidate for OpenStack-Ansible Stein

Change-Id: I501a2809ad48e49bc7d29edd80bd2f4f2c219a6b
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/662809/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/openstack-ansible.yaml'],1,594dc4f611438b8b6e7d4581ae34a39636de5dcc,release_osa, - projects: - hash: 0d23f7b7482f1e57a017d397d87108f85a974d8e repo: openstack/openstack-ansible version: 19.0.0.0rc2 cycle-highlights: - 'Tooling optimizations have been done that will result in faster and more reliable deployments.',cycle-highlights: - 'Tooling optimizations have been done that will result in faster and more reliable deployments.',6,2
openstack%2Freleases~master~I2105bda1eefe7a58a626081aab50894ff79955ac,openstack/releases,master,I2105bda1eefe7a58a626081aab50894ff79955ac,nova: release stein 19.0.1,MERGED,2019-05-24 18:41:31.000000000,2019-06-06 06:15:31.000000000,2019-06-06 06:15:30.000000000,"[{'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-05-24 18:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a5ed83b592faba0bdfab6796966434aa64cb6140', 'message': ""nova: release stein 19.0.1\n\nThis release contains a few fixes for regressions found\nafter the Stein 19.0.0 GA plus lots of other bug fixes.\n\n$ git log --oneline --no-merges 19.0.0..origin/stable/stein\nc094a6ef0c (bug/1827628) Disable limit if affinity(anti)/same(different)host is requested\n4ff46ff767 Restore connection_info after live migration rollback\nf1280ab849 libvirt: Do not reraise DiskNotFound exceptions during resize\ne13513010f Fix target used in nova.policy.check_is_admin\n2f7b1031a9 Stop logging traceback when skipping quiesce\n8330ab4e61 Skip _exclude_nested_providers() if not nested\nd250834734 Fix assert methods in unit tests\n61fef49b15 Fix retry of instance_update_and_get_original\nd7d7f11543 (bug/1821594) Add functional confirm_migration_error test\ncfc3fa4908 Only call _fill_provider_mapping if claim succeeds\n1c774315a5 Handle placement error during re-schedule\nc38a821902 Fix exception type in test_boot_reschedule_fill_provider_mapping_raises\n07a1a8ff7d Reproduce bug #1819460 in functional test\na2b1ef5f11 Log when port resource is leaked during port delete\n91282f879c Use migration_status during volume migrating and retyping\naf07ddb734 (bug/1825034-stein) Exclude fake marker instance when listing servers\n840f109afc Add regression test for bug 1825034\n1d4f64b190 (review/lee_yarwood/bug/1821798) Include all network devices in nova diagnostics\n048d5b790f libvirt: Always disconnect volumes after libvirtError exceptions\nb3dedefcc5 libvirt: Stop ignoring unknown libvirtError exceptions during volume attach\n3285210add (review/matt_riedemann/bug/1825020) Fix volume-backed resize with a smaller disk flavor\nb123b05a48 Fix help for ironic.peer_list config\na1db4507ac Add functional regression recreate test for bug 1825020\nc6432ac021 libvirt: Avoid using os-brick encryptors when device_path isn't provided\nc280d747fb AZ list performance optimization: avoid double service list DB fetch\n7cd816f43a Do not perform port update in case of baremetal instance.\n222f462444 Pass on region when we don't have a valid ironic endpoint\n870e5bcfb6 Create request spec, build request and mappings in one transaction\ne6ca3838d9 Fix {min|max}_version in ironic Adapter setup\nb3b1e6d4da OpenDev Migration Patch\n7500c1910c libvirt: set device address tag only if setting disk unit\n2bbd7f4a0c Change a log level for overwriting allocation\nd773e3b146 libvirt: disconnect volume when encryption fails\nfe5c8a517a Do not log a warning about not using compute monitors\nef25fff5ec doc: Capitalize keystone domain name\n5f515060f6 (review/matt_riedemann/bug/1821594) Delete allocations even if _confirm_resize raises\n17e6ca7272 Don't warn on network-vif-unplugged event during live migration\n972d4e0eb3 Error out migration when confirm_resize fails\n6a5be4ae25 Fix bug preventing forbidden traits from working\nc97466456f Adding tests to demonstrate bug #1821824\nb1b28169af Move create of ComputeAPI object in websocketproxy\n76dfb9d0b6 (bug/1669054-stein) Do not persist RequestSpec.ignore_hosts\n20c1414945 Add functional regression test for bug 1669054\nbcb42a43a9 Temporarily mutate migration object in finish_revert_resize\n99b3f44eb1 Add retry_on_deadlock to migration_update DB API\n7ccea385b1 doc: Fix openstack CLI command\n26e5991283 (bug/1819963-stein) Update instance.availability_zone on revertResize\n0b2345442d Add functional recreate test for bug 1819963\neec39762cf (review/elod_illes/bug/1819430) Fix incomplete instance data returned after build failure\na98fb711b5 Use Selection object to fill request group mapping\nae40ceba84 Override the 'get' method in DriverBlockDevice class\nd0f540742e Eventlet monkey patching should be as early as possible\n\nChange-Id: I2105bda1eefe7a58a626081aab50894ff79955ac\n""}, {'number': 2, 'created': '2019-05-24 18:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b78ef1d350a3adbbf6d94f9b0ad60ef71b958b13', 'message': ""nova: release stein 19.0.1\n\nThis release contains a few fixes for regressions found\nafter the Stein 19.0.0 GA plus lots of other bug fixes.\n\n$ git log --oneline --no-merges --no-decorate 19.0.0..origin/stable/stein\nc094a6ef0c Disable limit if affinity(anti)/same(different)host is requested\n4ff46ff767 Restore connection_info after live migration rollback\nf1280ab849 libvirt: Do not reraise DiskNotFound exceptions during resize\ne13513010f Fix target used in nova.policy.check_is_admin\n2f7b1031a9 Stop logging traceback when skipping quiesce\n8330ab4e61 Skip _exclude_nested_providers() if not nested\nd250834734 Fix assert methods in unit tests\n61fef49b15 Fix retry of instance_update_and_get_original\nd7d7f11543 Add functional confirm_migration_error test\ncfc3fa4908 Only call _fill_provider_mapping if claim succeeds\n1c774315a5 Handle placement error during re-schedule\nc38a821902 Fix exception type in test_boot_reschedule_fill_provider_mapping_raises\n07a1a8ff7d Reproduce bug #1819460 in functional test\na2b1ef5f11 Log when port resource is leaked during port delete\n91282f879c Use migration_status during volume migrating and retyping\naf07ddb734 Exclude fake marker instance when listing servers\n840f109afc Add regression test for bug 1825034\n1d4f64b190 Include all network devices in nova diagnostics\n048d5b790f libvirt: Always disconnect volumes after libvirtError exceptions\nb3dedefcc5 libvirt: Stop ignoring unknown libvirtError exceptions during volume attach\n3285210add Fix volume-backed resize with a smaller disk flavor\nb123b05a48 Fix help for ironic.peer_list config\na1db4507ac Add functional regression recreate test for bug 1825020\nc6432ac021 libvirt: Avoid using os-brick encryptors when device_path isn't provided\nc280d747fb AZ list performance optimization: avoid double service list DB fetch\n7cd816f43a Do not perform port update in case of baremetal instance.\n222f462444 Pass on region when we don't have a valid ironic endpoint\n870e5bcfb6 Create request spec, build request and mappings in one transaction\ne6ca3838d9 Fix {min|max}_version in ironic Adapter setup\nb3b1e6d4da OpenDev Migration Patch\n7500c1910c libvirt: set device address tag only if setting disk unit\n2bbd7f4a0c Change a log level for overwriting allocation\nd773e3b146 libvirt: disconnect volume when encryption fails\nfe5c8a517a Do not log a warning about not using compute monitors\nef25fff5ec doc: Capitalize keystone domain name\n5f515060f6 Delete allocations even if _confirm_resize raises\n17e6ca7272 Don't warn on network-vif-unplugged event during live migration\n972d4e0eb3 Error out migration when confirm_resize fails\n6a5be4ae25 Fix bug preventing forbidden traits from working\nc97466456f Adding tests to demonstrate bug #1821824\nb1b28169af Move create of ComputeAPI object in websocketproxy\n76dfb9d0b6 Do not persist RequestSpec.ignore_hosts\n20c1414945 Add functional regression test for bug 1669054\nbcb42a43a9 Temporarily mutate migration object in finish_revert_resize\n99b3f44eb1 Add retry_on_deadlock to migration_update DB API\n7ccea385b1 doc: Fix openstack CLI command\n26e5991283 Update instance.availability_zone on revertResize\n0b2345442d Add functional recreate test for bug 1819963\neec39762cf Fix incomplete instance data returned after build failure\na98fb711b5 Use Selection object to fill request group mapping\nae40ceba84 Override the 'get' method in DriverBlockDevice class\nd0f540742e Eventlet monkey patching should be as early as possible\n\nChange-Id: I2105bda1eefe7a58a626081aab50894ff79955ac\n""}, {'number': 3, 'created': '2019-05-31 13:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fbdb30d21e731ff393c8882ec8c2d9b16ae9ad95', 'message': ""nova: release stein 19.0.1\n\nDepends-On: https://review.opendev.org/#/c/656304/\n\nThis release contains a few fixes for regressions found\nafter the Stein 19.0.0 GA plus lots of other bug fixes.\n\n$ git log --oneline --no-merges --no-decorate 19.0.0..origin/stable/stein\nc094a6ef0c Disable limit if affinity(anti)/same(different)host is requested\n4ff46ff767 Restore connection_info after live migration rollback\nf1280ab849 libvirt: Do not reraise DiskNotFound exceptions during resize\ne13513010f Fix target used in nova.policy.check_is_admin\n2f7b1031a9 Stop logging traceback when skipping quiesce\n8330ab4e61 Skip _exclude_nested_providers() if not nested\nd250834734 Fix assert methods in unit tests\n61fef49b15 Fix retry of instance_update_and_get_original\nd7d7f11543 Add functional confirm_migration_error test\ncfc3fa4908 Only call _fill_provider_mapping if claim succeeds\n1c774315a5 Handle placement error during re-schedule\nc38a821902 Fix exception type in test_boot_reschedule_fill_provider_mapping_raises\n07a1a8ff7d Reproduce bug #1819460 in functional test\na2b1ef5f11 Log when port resource is leaked during port delete\n91282f879c Use migration_status during volume migrating and retyping\naf07ddb734 Exclude fake marker instance when listing servers\n840f109afc Add regression test for bug 1825034\n1d4f64b190 Include all network devices in nova diagnostics\n048d5b790f libvirt: Always disconnect volumes after libvirtError exceptions\nb3dedefcc5 libvirt: Stop ignoring unknown libvirtError exceptions during volume attach\n3285210add Fix volume-backed resize with a smaller disk flavor\nb123b05a48 Fix help for ironic.peer_list config\na1db4507ac Add functional regression recreate test for bug 1825020\nc6432ac021 libvirt: Avoid using os-brick encryptors when device_path isn't provided\nc280d747fb AZ list performance optimization: avoid double service list DB fetch\n7cd816f43a Do not perform port update in case of baremetal instance.\n222f462444 Pass on region when we don't have a valid ironic endpoint\n870e5bcfb6 Create request spec, build request and mappings in one transaction\ne6ca3838d9 Fix {min|max}_version in ironic Adapter setup\nb3b1e6d4da OpenDev Migration Patch\n7500c1910c libvirt: set device address tag only if setting disk unit\n2bbd7f4a0c Change a log level for overwriting allocation\nd773e3b146 libvirt: disconnect volume when encryption fails\nfe5c8a517a Do not log a warning about not using compute monitors\nef25fff5ec doc: Capitalize keystone domain name\n5f515060f6 Delete allocations even if _confirm_resize raises\n17e6ca7272 Don't warn on network-vif-unplugged event during live migration\n972d4e0eb3 Error out migration when confirm_resize fails\n6a5be4ae25 Fix bug preventing forbidden traits from working\nc97466456f Adding tests to demonstrate bug #1821824\nb1b28169af Move create of ComputeAPI object in websocketproxy\n76dfb9d0b6 Do not persist RequestSpec.ignore_hosts\n20c1414945 Add functional regression test for bug 1669054\nbcb42a43a9 Temporarily mutate migration object in finish_revert_resize\n99b3f44eb1 Add retry_on_deadlock to migration_update DB API\n7ccea385b1 doc: Fix openstack CLI command\n26e5991283 Update instance.availability_zone on revertResize\n0b2345442d Add functional recreate test for bug 1819963\neec39762cf Fix incomplete instance data returned after build failure\na98fb711b5 Use Selection object to fill request group mapping\nae40ceba84 Override the 'get' method in DriverBlockDevice class\nd0f540742e Eventlet monkey patching should be as early as possible\n\nChange-Id: I2105bda1eefe7a58a626081aab50894ff79955ac\n""}, {'number': 4, 'created': '2019-06-04 17:57:37.000000000', 'files': ['deliverables/stein/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d0779d66418a839522b98369e2fe0bd545e6dbce', 'message': 'nova: release stein 19.0.1\n\nThis release contains a few fixes for regressions found\nafter the Stein 19.0.0 GA plus lots of other bug fixes.\n\nChange-Id: I2105bda1eefe7a58a626081aab50894ff79955ac\n'}]",2,661376,d0779d66418a839522b98369e2fe0bd545e6dbce,25,7,4,6873,,,0,"nova: release stein 19.0.1

This release contains a few fixes for regressions found
after the Stein 19.0.0 GA plus lots of other bug fixes.

Change-Id: I2105bda1eefe7a58a626081aab50894ff79955ac
",git fetch https://review.opendev.org/openstack/releases refs/changes/76/661376/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/nova.yaml'],1,a5ed83b592faba0bdfab6796966434aa64cb6140,nova-stein-19.0.1, - projects: - hash: 3689fbf82715d57ca2ed9271de5e829e19b5f3ca repo: openstack/nova version: 19.0.1,,4,0
openstack%2Freleases~master~Iadf7963703a3f74b0cdf2b895e742410d292a2f8,openstack/releases,master,Iadf7963703a3f74b0cdf2b895e742410d292a2f8,Release ironic-python-agent 3.6.1 for Stein,MERGED,2019-06-04 07:02:19.000000000,2019-06-06 06:13:44.000000000,2019-06-06 06:13:44.000000000,"[{'_account_id': 11655}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 07:02:19.000000000', 'files': ['deliverables/stein/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0c0cd8d5445a27f0294f003e4fe1d2f9837b61aa', 'message': 'Release ironic-python-agent 3.6.1 for Stein\n\nChange-Id: Iadf7963703a3f74b0cdf2b895e742410d292a2f8\n'}]",0,662944,0c0cd8d5445a27f0294f003e4fe1d2f9837b61aa,8,4,1,10239,,,0,"Release ironic-python-agent 3.6.1 for Stein

Change-Id: Iadf7963703a3f74b0cdf2b895e742410d292a2f8
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/662944/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/ironic-python-agent.yaml'],1,0c0cd8d5445a27f0294f003e4fe1d2f9837b61aa,, - projects: - hash: a29a27910a64ee24ce925438a7c692ee0e4b10de repo: openstack/ironic-python-agent version: 3.6.1,,4,0
openstack%2Freleases~master~Ie1465e373624b0f95c85dbb78a70c6febb0c6e8f,openstack/releases,master,Ie1465e373624b0f95c85dbb78a70c6febb0c6e8f,Release bifrost 6.0.2 for Stein,MERGED,2019-06-04 07:23:24.000000000,2019-06-06 06:11:30.000000000,2019-06-06 06:11:29.000000000,"[{'_account_id': 11655}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 07:23:24.000000000', 'files': ['deliverables/stein/bifrost.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dfa90554d79fa76e9ef00e63b0b7f725bec780e8', 'message': 'Release bifrost 6.0.2 for Stein\n\nChange-Id: Ie1465e373624b0f95c85dbb78a70c6febb0c6e8f\n'}]",0,662953,dfa90554d79fa76e9ef00e63b0b7f725bec780e8,8,4,1,10239,,,0,"Release bifrost 6.0.2 for Stein

Change-Id: Ie1465e373624b0f95c85dbb78a70c6febb0c6e8f
",git fetch https://review.opendev.org/openstack/releases refs/changes/53/662953/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/bifrost.yaml'],1,dfa90554d79fa76e9ef00e63b0b7f725bec780e8,bifrost-stein, - projects: - hash: 91e3bfad043833f78de1ce5322e78308f0120164 repo: openstack/bifrost version: 6.0.2,,4,0
openstack%2Freleases~master~I0fa089daf87d2c2b80fe962f94bde152deed9db4,openstack/releases,master,I0fa089daf87d2c2b80fe962f94bde152deed9db4,Release ironic 12.1.1 for Stein,MERGED,2019-06-04 07:01:33.000000000,2019-06-06 06:09:28.000000000,2019-06-06 06:09:28.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 07:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a21a0836b673ae6ed7b3c274ce928297c2eaf5ba', 'message': 'Release ironic 12.1.1 for Stein\n\nChange-Id: I0fa089daf87d2c2b80fe962f94bde152deed9db4\n'}, {'number': 2, 'created': '2019-06-04 12:04:40.000000000', 'files': ['deliverables/stein/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b1f4c31fdade3cddf7c2dc23fadcba2c20ed99d5', 'message': 'Release ironic 12.1.1 for Stein\n\nChange-Id: I0fa089daf87d2c2b80fe962f94bde152deed9db4\n'}]",0,662943,b1f4c31fdade3cddf7c2dc23fadcba2c20ed99d5,12,5,2,10239,,,0,"Release ironic 12.1.1 for Stein

Change-Id: I0fa089daf87d2c2b80fe962f94bde152deed9db4
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/662943/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/ironic.yaml'],1,a21a0836b673ae6ed7b3c274ce928297c2eaf5ba,ironic-stein," - projects: - hash: 596e82baab4953cf5b4a372aad9f8731bb6b1b58 repo: openstack/ironic version: 12.1.1 - 'Adds additional interfaces for management of hardware including Redfish BIOS settings, explicit iPXE boot interface option, and additional hardware support.' - 'Increased capabilities and options for operators including deployment templates, improved parallel conductor workers and disk erasure processes, deployed node protection and descriptions, and use of local HTTP(S) servers for serving images.' - 'Improved options for standalone users to request allocations of bare metal nodes and submit configuration data as opposed to pre-formed configuration drives. Additionally allows for ironic to be leveraged using JSON-RPC as opposed to an AMQP message bus.'"," - 'Adds additional interfaces for management of hardware including Redfish BIOS settings, explicit iPXE boot interface option, and additional hardware support.' - 'Increased capabilities and options for operators including deployment templates, improved parallel conductor workers and disk erasure processes, deployed node protection and descriptions, and use of local HTTP(S) servers for serving images.' - 'Improved options for standalone users to request allocations of bare metal nodes and submit configuration data as opposed to pre-formed configuration drives. Additionally allows for ironic to be leveraged using JSON-RPC as opposed to an AMQP message bus.'",15,9
openstack%2Freleases~master~If1639a8f07daa6608ab8296b723be722a4301d75,openstack/releases,master,If1639a8f07daa6608ab8296b723be722a4301d75,Release ironic-inspector 9.0.0 for Train,MERGED,2019-06-04 07:33:40.000000000,2019-06-06 06:09:27.000000000,2019-06-06 06:09:26.000000000,"[{'_account_id': 11655}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 07:33:40.000000000', 'files': ['deliverables/train/ironic-inspector.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5562d54bab78e5c9fc10675e9945df44cd91ae7b', 'message': 'Release ironic-inspector 9.0.0 for Train\n\nChange-Id: If1639a8f07daa6608ab8296b723be722a4301d75\n'}]",1,662957,5562d54bab78e5c9fc10675e9945df44cd91ae7b,7,3,1,10239,,,0,"Release ironic-inspector 9.0.0 for Train

Change-Id: If1639a8f07daa6608ab8296b723be722a4301d75
",git fetch https://review.opendev.org/openstack/releases refs/changes/57/662957/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ironic-inspector.yaml'],1,5562d54bab78e5c9fc10675e9945df44cd91ae7b,ironic-inspector,releases: - projects: - hash: cebeb820068b3aa7f7a8a145888e226430987868 repo: openstack/ironic-inspector version: 9.0.0,,5,0
openstack%2Fswift~master~I63a502be13f5dcda2a457d38f2fc5f1ca469d562,openstack/swift,master,I63a502be13f5dcda2a457d38f2fc5f1ca469d562,py3: port ssync,MERGED,2019-05-22 01:04:20.000000000,2019-06-06 06:03:21.000000000,2019-06-06 06:02:12.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 25251}]","[{'number': 1, 'created': '2019-05-22 01:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/eb35736889891f844d061deef01d3db2a3521bf8', 'message': 'py3: port ssync\n\nChange-Id: I63a502be13f5dcda2a457d38f2fc5f1ca469d562\n'}, {'number': 2, 'created': '2019-05-22 04:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/def20df5af70634c47dbf6a407011a713d441318', 'message': 'py3: port ssync\n\nChange-Id: I63a502be13f5dcda2a457d38f2fc5f1ca469d562\n'}, {'number': 3, 'created': '2019-05-22 20:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2a164ab82c05819f6ef0a18129b0a796618757e1', 'message': 'py3: port ssync\n\nChange-Id: I63a502be13f5dcda2a457d38f2fc5f1ca469d562\n'}, {'number': 4, 'created': '2019-05-23 22:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a4fa419aa920dc781a89c9e56c9be266ba9946c5', 'message': 'py3: port ssync\n\nChange-Id: I63a502be13f5dcda2a457d38f2fc5f1ca469d562\n'}, {'number': 5, 'created': '2019-06-05 20:26:23.000000000', 'files': ['swift/obj/reconstructor.py', 'test/unit/obj/test_ssync_sender.py', 'swift/obj/ssync_sender.py', 'test/unit/obj/test_ssync.py', 'tox.ini', 'swift/obj/ssync_receiver.py', 'test/unit/obj/test_ssync_receiver.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d9cafca246bb15e706d9f7546e1f4bedda1b6c8b', 'message': 'py3: port ssync\n\nChange-Id: I63a502be13f5dcda2a457d38f2fc5f1ca469d562\n'}]",9,660542,d9cafca246bb15e706d9f7546e1f4bedda1b6c8b,25,4,5,15343,,,0,"py3: port ssync

Change-Id: I63a502be13f5dcda2a457d38f2fc5f1ca469d562
",git fetch https://review.opendev.org/openstack/swift refs/changes/42/660542/5 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/reconstructor.py', 'test/unit/obj/test_ssync_sender.py', 'swift/obj/ssync_sender.py', 'test/unit/obj/test_ssync.py', 'tox.ini', 'swift/obj/ssync_receiver.py', 'test/unit/obj/test_ssync_receiver.py']",7,eb35736889891f844d061deef01d3db2a3521bf8,py3-obj,"if six.PY2: UNPACK_ERR = b"":ERROR: 0 'need more than 1 value to unpack'"" else: UNPACK_ERR = b"":ERROR: 0 'not enough values to unpack (expected 2, got 1)'"" for line in body.split(b'\n'): [b"":ERROR: 503 '<html><h1>Service Unavailable</h1><p>The "" b""server is currently unavailable. Please try again at a "" b""later time.</p></html>'""]) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) with self.assertRaises(HTTPException) as caught: self.assertEqual('503 Service Unavailable', caught.exception.status) self.assertEqual(b'No policy with index 2', caught.exception.body) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b"":ERROR: 0 '0.01 seconds: /somewhere/sda1'""]) for chunk1, chunk2 in six.moves.zip_longest(rcvr1(), rcvr2()): [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) b''.join(body_lines2), b""^:ERROR: 0 '0\.0[0-9]+ seconds: "" b""/.+/sda1/objects/1/.lock-replication'$"") [b""Invalid path: /device""]) [b""Invalid path: /device/""]) [b':ERROR: 0 ""Looking for :MISSING_CHECK: START got \'\'""']) [b""Invalid path: /device/partition/junk""]) [b':ERROR: 0 ""Looking for :MISSING_CHECK: START got \'\'""']) [b""<html><h1>Insufficient Storage</h1><p>There "" b""was not enough space to save the resource. Drive: "" b""device</p></html>""]) [b':ERROR: 0 ""Looking for :MISSING_CHECK: START got \'\'""']) class _Wrapper(six.BytesIO): six.BytesIO.__init__(self, value) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b"":ERROR: 0 'Got no headers for Bad content is here'""]) class _Wrapper(six.BytesIO): six.BytesIO.__init__(self, value) [b':MISSING_CHECK: START', b':MISSING_CHECK: END']) class _Wrapper(six.BytesIO): six.BytesIO.__init__(self, value) line = six.BytesIO.readline(self) if line.startswith(b'hash'): [b"":ERROR: 408 '0.01 seconds: missing_check line'""]) class _Wrapper(six.BytesIO): six.BytesIO.__init__(self, value) line = six.BytesIO.readline(self) if line.startswith(b'hash'): [b"":ERROR: 0 'test exception'""]) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', (self.hash1 + ' dm').encode('ascii'), (self.hash2 + ' dm').encode('ascii'), b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', (self.hash1 + ' dm').encode('ascii'), (self.hash2 + ' dm').encode('ascii'), b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', (self.hash2 + ' dm').encode('ascii'), b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', b'c2519f265f9633e74f9b2fe3b9bec27d m', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', (self.hash1 + ' dm').encode('ascii'), b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', (self.hash1 + ' dm').encode('ascii'), b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', (self.hash2 + ' dm').encode('ascii'), b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', (self.hash2 + ' dm').encode('ascii'), b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', (self.hash1 + ' d').encode('ascii'), b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', (self.hash1 + ' m').encode('ascii'), b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) class _Wrapper(six.BytesIO): six.BytesIO.__init__(self, value) line = six.BytesIO.readline(self) if line.startswith(b'DELETE'): [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b"":ERROR: 408 '0.01 seconds: updates line'""]) class _Wrapper(six.BytesIO): six.BytesIO.__init__(self, value) line = six.BytesIO.readline(self) if line.startswith(b'DELETE'): [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b"":ERROR: 0 'test exception'""]) class _Wrapper(six.BytesIO): six.BytesIO.__init__(self, value) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', UNPACK_ERR]) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', UNPACK_ERR]) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b"":ERROR: 0 'Got no headers for DELETE /a/c/o'""]) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', UNPACK_ERR]) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', UNPACK_ERR]) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':ERROR: 0 ""invalid literal for int() with base 10: \'a\'""']) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b"":ERROR: 0 'DELETE subrequest with content-length /a/c/o'""]) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b"":ERROR: 0 'No content-length sent for PUT /a/c/o'""]) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b"":ERROR: 0 'Early termination for PUT /a/c/o'""]) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b"":ERROR: 500 'ERROR: With :UPDATES: 3 failures to 0 "" b""successes'""]) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b"":ERROR: 0 'Too many 4 failures to 0 successes'""]) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b"":ERROR: 500 'ERROR: With :UPDATES: 4 failures to 3 "" b""successes'""]) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b"":ERROR: 0 'Too many 4 failures to 2 successes'""]) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) self.assertEqual(b'1', chunk) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) self.assertEqual(req.read_body, b'1') [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) self.assertEqual(req.read_body, b'1') [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b"":ERROR: 0 'Invalid subrequest method BONK'""]) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b':UPDATES: START', b':UPDATES: END']) self.assertEqual(req.read_body, b'1') self.assertEqual(req.read_body, b'123') self.assertEqual(req.read_body, b'1\r\n4') self.assertEqual(req.read_body, b'1234567') class _IgnoreReadlineHint(six.BytesIO): six.BytesIO.__init__(self, value) return six.BytesIO.readline(self) [b':MISSING_CHECK: START', b':MISSING_CHECK: END', b"":ERROR: 500 'ERROR: With :UPDATES: 2 failures to 0 successes'""]) self.assertEqual(req.read_body, b'12') self.assertEqual(req.read_body, b'1') self.assertIn(b""Invalid X-Backend-Ssync-Frag-Index 'None'"", error_msg) self.assertEqual(expected, ssync_receiver.decode_missing(msg.encode('ascii'))) self.assertEqual(expected, ssync_receiver.decode_missing(msg.encode('ascii'))) expected, ssync_receiver.decode_missing(msg.encode('ascii'))) expected, ssync_receiver.decode_missing(msg.encode('ascii'))) expected, ssync_receiver.decode_missing(msg.encode('ascii'))) self.assertEqual(expected, ssync_receiver.decode_missing(msg.encode('ascii'))) expected, ssync_receiver.decode_missing(msg.encode('ascii'))) self.assertEqual(expected, ssync_receiver.decode_missing(msg.encode('ascii')))"," for line in body.split('\n'): ["":ERROR: 503 '<html><h1>Service Unavailable</h1><p>The "" ""server is currently unavailable. Please try again at a "" ""later time.</p></html>'""]) [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) try: self.fail('Expected HTTPException to be raised.') except HTTPException as err: self.assertEqual('503 Service Unavailable', err.status) self.assertEqual('No policy with index 2', err.body) [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) ["":ERROR: 0 '0.01 seconds: /somewhere/sda1'""]) for chunk1, chunk2 in itertools.izip_longest(rcvr1(), rcvr2()): [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) ''.join(body_lines2), ""^:ERROR: 0 '0\.0[0-9]+ seconds: "" ""/.+/sda1/objects/1/.lock-replication'$"") [""Invalid path: /device""]) [""Invalid path: /device/""]) [':ERROR: 0 ""Looking for :MISSING_CHECK: START got \'\'""']) [""Invalid path: /device/partition/junk""]) [':ERROR: 0 ""Looking for :MISSING_CHECK: START got \'\'""']) [""<html><h1>Insufficient Storage</h1><p>There "" ""was not enough space to save the resource. Drive: "" ""device</p></html>""]) [':ERROR: 0 ""Looking for :MISSING_CHECK: START got \'\'""']) class _Wrapper(six.StringIO): six.StringIO.__init__(self, value) [':MISSING_CHECK: START', ':MISSING_CHECK: END', "":ERROR: 0 'Got no headers for Bad content is here'""]) class _Wrapper(six.StringIO): six.StringIO.__init__(self, value) [':MISSING_CHECK: START', ':MISSING_CHECK: END']) class _Wrapper(six.StringIO): six.StringIO.__init__(self, value) line = six.StringIO.readline(self) if line.startswith('hash'): ["":ERROR: 408 '0.01 seconds: missing_check line'""]) class _Wrapper(six.StringIO): six.StringIO.__init__(self, value) line = six.StringIO.readline(self) if line.startswith('hash'): ["":ERROR: 0 'test exception'""]) [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', self.hash1 + ' dm', self.hash2 + ' dm', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', self.hash1 + ' dm', self.hash2 + ' dm', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', self.hash2 + ' dm', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', 'c2519f265f9633e74f9b2fe3b9bec27d m', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', self.hash1 + ' dm', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', self.hash1 + ' dm', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', self.hash2 + ' dm', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', self.hash2 + ' dm', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', self.hash1 + ' d', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', self.hash1 + ' m', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) class _Wrapper(six.StringIO): six.StringIO.__init__(self, value) line = six.StringIO.readline(self) if line.startswith('DELETE'): [':MISSING_CHECK: START', ':MISSING_CHECK: END', "":ERROR: 408 '0.01 seconds: updates line'""]) class _Wrapper(six.StringIO): six.StringIO.__init__(self, value) line = six.StringIO.readline(self) if line.startswith('DELETE'): [':MISSING_CHECK: START', ':MISSING_CHECK: END', "":ERROR: 0 'test exception'""]) class _Wrapper(six.StringIO): six.StringIO.__init__(self, value) [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', ':MISSING_CHECK: END', "":ERROR: 0 'need more than 1 value to unpack'""]) [':MISSING_CHECK: START', ':MISSING_CHECK: END', "":ERROR: 0 'need more than 1 value to unpack'""]) [':MISSING_CHECK: START', ':MISSING_CHECK: END', "":ERROR: 0 'Got no headers for DELETE /a/c/o'""]) [':MISSING_CHECK: START', ':MISSING_CHECK: END', "":ERROR: 0 'need more than 1 value to unpack'""]) [':MISSING_CHECK: START', ':MISSING_CHECK: END', "":ERROR: 0 'need more than 1 value to unpack'""]) [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':ERROR: 0 ""invalid literal for int() with base 10: \'a\'""']) [':MISSING_CHECK: START', ':MISSING_CHECK: END', "":ERROR: 0 'DELETE subrequest with content-length /a/c/o'""]) [':MISSING_CHECK: START', ':MISSING_CHECK: END', "":ERROR: 0 'No content-length sent for PUT /a/c/o'""]) [':MISSING_CHECK: START', ':MISSING_CHECK: END', "":ERROR: 0 'Early termination for PUT /a/c/o'""]) [':MISSING_CHECK: START', ':MISSING_CHECK: END', "":ERROR: 500 'ERROR: With :UPDATES: 3 failures to 0 "" ""successes'""]) [':MISSING_CHECK: START', ':MISSING_CHECK: END', "":ERROR: 0 'Too many 4 failures to 0 successes'""]) [':MISSING_CHECK: START', ':MISSING_CHECK: END', "":ERROR: 500 'ERROR: With :UPDATES: 4 failures to 3 "" ""successes'""]) [':MISSING_CHECK: START', ':MISSING_CHECK: END', "":ERROR: 0 'Too many 4 failures to 2 successes'""]) [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) self.assertEqual('1', chunk) [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) self.assertEqual(req.read_body, '1') [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) self.assertEqual(req.read_body, '1') [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) [':MISSING_CHECK: START', ':MISSING_CHECK: END', "":ERROR: 0 'Invalid subrequest method BONK'""]) [':MISSING_CHECK: START', ':MISSING_CHECK: END', ':UPDATES: START', ':UPDATES: END']) self.assertEqual(req.read_body, '1') self.assertEqual(req.read_body, '123') self.assertEqual(req.read_body, '1\r\n4') self.assertEqual(req.read_body, '1234567') class _IgnoreReadlineHint(six.StringIO): six.StringIO.__init__(self, value) return six.StringIO.readline(self) [':MISSING_CHECK: START', ':MISSING_CHECK: END', "":ERROR: 500 'ERROR: With :UPDATES: 2 failures to 0 successes'""]) self.assertEqual(req.read_body, '12') self.assertEqual(req.read_body, '1') self.assertIn(""Invalid X-Backend-Ssync-Frag-Index 'None'"", error_msg) self.assertEqual(expected, ssync_receiver.decode_missing(msg)) self.assertEqual(expected, ssync_receiver.decode_missing(msg)) expected, ssync_receiver.decode_missing(msg)) expected, ssync_receiver.decode_missing(msg)) expected, ssync_receiver.decode_missing(msg)) self.assertEqual(expected, ssync_receiver.decode_missing(msg)) expected, ssync_receiver.decode_missing(msg)) self.assertEqual(expected, ssync_receiver.decode_missing(msg))",471,418
openstack%2Freleases~master~Id654eb3337a161c9e9b537bf51ccadfe4ee299bb,openstack/releases,master,Id654eb3337a161c9e9b537bf51ccadfe4ee299bb,Release ironic-lib 2.16.3 for Stein,MERGED,2019-06-04 07:04:29.000000000,2019-06-06 06:03:13.000000000,2019-06-06 06:03:13.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 07:04:29.000000000', 'files': ['deliverables/stein/ironic-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f915ab73024ca574f6b2bcccdb8f1755786f111a', 'message': 'Release ironic-lib 2.16.3 for Stein\n\nChange-Id: Id654eb3337a161c9e9b537bf51ccadfe4ee299bb\n'}]",0,662945,f915ab73024ca574f6b2bcccdb8f1755786f111a,10,5,1,10239,,,0,"Release ironic-lib 2.16.3 for Stein

Change-Id: Id654eb3337a161c9e9b537bf51ccadfe4ee299bb
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/662945/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/ironic-lib.yaml'],1,f915ab73024ca574f6b2bcccdb8f1755786f111a,ironic-lib-stein, - projects: - hash: eca4ac942a13f87d8ca836e0487595a52d872390 repo: openstack/ironic-lib version: 2.16.3,,4,0
openstack%2Freleases~master~I1b1c444c5533ce0ada420c6c573993da72892c79,openstack/releases,master,I1b1c444c5533ce0ada420c6c573993da72892c79,Release bifrost 6.1.0 for Train,MERGED,2019-06-04 07:26:59.000000000,2019-06-06 06:02:21.000000000,2019-06-06 06:02:20.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 07:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/27f1e28f82b35b3f0231103866c037101f7aec07', 'message': 'Release bifrost 6.1.0 for Train\n\nChange-Id: I1b1c444c5533ce0ada420c6c573993da72892c79\n'}, {'number': 2, 'created': '2019-06-04 12:23:59.000000000', 'files': ['deliverables/train/bifrost.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/13ae0b70bfaac859a258e31216d653803b591963', 'message': 'Release bifrost 6.1.0 for Train\n\nChange-Id: I1b1c444c5533ce0ada420c6c573993da72892c79\n'}]",0,662955,13ae0b70bfaac859a258e31216d653803b591963,11,4,2,10239,,,0,"Release bifrost 6.1.0 for Train

Change-Id: I1b1c444c5533ce0ada420c6c573993da72892c79
",git fetch https://review.opendev.org/openstack/releases refs/changes/55/662955/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/bifrost.yaml'],1,27f1e28f82b35b3f0231103866c037101f7aec07,bifrost,releases: - projects: - hash: 5ebea663cce43fd5b844ff1e9aa37dd78bb24513 repo: openstack/bifrost version: 6.1.0,,5,0
openstack%2Fneutron~stable%2Fpike~Ia59de069b29f584cce21163a77812ec0ed243e65,openstack/neutron,stable/pike,Ia59de069b29f584cce21163a77812ec0ed243e65,cap bandit in test-requirements.txt,MERGED,2019-06-05 15:42:23.000000000,2019-06-06 06:02:09.000000000,2019-06-06 06:02:09.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-05 15:42:23.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4bdd17a74359eaf42c0653e73e84183dba12491a', 'message': 'cap bandit in test-requirements.txt\n\nbandit is a linter and is listed in the ""blacklist"" from the\nrequirements repo, so it does not appear in the constraints lists.\nProject teams are expected to manage the verions(s) allowed on their\nown, to allow different teams to roll ahead to new versions as they can\nrather than having the entire community do it in lock-step. This change\ncaps the version of bandit to the one available during the rocky\ndevelopment cycle to avoid introducing the new rules from newer releases\ninto a stable branch.\n\nThis patch also changes to use older keepalived version in functional\ntests.\nThis issue is reported in bug 1788185.\n\nIt looks that current keepalived version which is available in\nUbuntu Xenial repositories (1:1.2.24-1ubuntu0.16.04.1) is broken\nand cause failure of some functional tests in Neutron.\nDetails are in [1].\nOlder version works fine so as temporary solution we can use\nthis version in functional tests.\n\nThis issue don\'t happens on master and stable/rocky branch, as there\nnewer cloud-archive repo is used and it has newer version of keepalived\nwhich works fine.\n\n[1] https://bugs.launchpad.net/ubuntu/+source/keepalived/+bug/1789045\n\nChange-Id: Ia59de069b29f584cce21163a77812ec0ed243e65\nCloses-Bug: #1788185\n(cherry picked from commit 159490502e206f474c6828090e8b86c613f9c8db)\n'}]",0,663363,4bdd17a74359eaf42c0653e73e84183dba12491a,14,5,1,1131,,,0,"cap bandit in test-requirements.txt

bandit is a linter and is listed in the ""blacklist"" from the
requirements repo, so it does not appear in the constraints lists.
Project teams are expected to manage the verions(s) allowed on their
own, to allow different teams to roll ahead to new versions as they can
rather than having the entire community do it in lock-step. This change
caps the version of bandit to the one available during the rocky
development cycle to avoid introducing the new rules from newer releases
into a stable branch.

This patch also changes to use older keepalived version in functional
tests.
This issue is reported in bug 1788185.

It looks that current keepalived version which is available in
Ubuntu Xenial repositories (1:1.2.24-1ubuntu0.16.04.1) is broken
and cause failure of some functional tests in Neutron.
Details are in [1].
Older version works fine so as temporary solution we can use
this version in functional tests.

This issue don't happens on master and stable/rocky branch, as there
newer cloud-archive repo is used and it has newer version of keepalived
which works fine.

[1] https://bugs.launchpad.net/ubuntu/+source/keepalived/+bug/1789045

Change-Id: Ia59de069b29f584cce21163a77812ec0ed243e65
Closes-Bug: #1788185
(cherry picked from commit 159490502e206f474c6828090e8b86c613f9c8db)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/663363/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,4bdd17a74359eaf42c0653e73e84183dba12491a,bug/1788185-stable/pike,"bandit>=1.1.0,<1.5.0 # Apache-2.0",bandit>=1.1.0 # Apache-2.0,1,1
openstack%2Freleases~master~I196a3d871e3cc104e8a7171ea98d5379b8a089de,openstack/releases,master,I196a3d871e3cc104e8a7171ea98d5379b8a089de,Release 0.30.0 of openstacksdk,MERGED,2019-06-05 14:32:03.000000000,2019-06-06 06:01:15.000000000,2019-06-06 06:01:15.000000000,"[{'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 14:32:03.000000000', 'files': ['deliverables/train/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/231b357e399a7add27b7a142eea0bc30d7165b80', 'message': 'Release 0.30.0 of openstacksdk\n\nChange-Id: I196a3d871e3cc104e8a7171ea98d5379b8a089de\n'}]",0,663343,231b357e399a7add27b7a142eea0bc30d7165b80,7,3,1,2,,,0,"Release 0.30.0 of openstacksdk

Change-Id: I196a3d871e3cc104e8a7171ea98d5379b8a089de
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/663343/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/openstacksdk.yaml'],1,231b357e399a7add27b7a142eea0bc30d7165b80,, - projects: - hash: a5dfa85d4e7ff5bd5a40d37519670392f05ab6fe repo: openstack/openstacksdk version: 0.30.0,,4,0
openstack%2Freleases~master~I9e9e7be2a54ac48d0021f3903c96e4787da8a280,openstack/releases,master,I9e9e7be2a54ac48d0021f3903c96e4787da8a280,Release os-traits 0.14.0,MERGED,2019-06-04 10:51:57.000000000,2019-06-06 05:59:18.000000000,2019-06-06 05:59:18.000000000,"[{'_account_id': 11564}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-06-04 10:51:57.000000000', 'files': ['deliverables/_independent/os-traits.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6249768005b89c5d6b46f8982c71dd8bc2300c92', 'message': 'Release os-traits 0.14.0\n\nAdds a new HW_NUMA_NODE trait [1] for representing NUMA subtree roots.\n\n[1] https://review.opendev.org/#/c/657898/\n\nChange-Id: I9e9e7be2a54ac48d0021f3903c96e4787da8a280\n'}]",0,663005,6249768005b89c5d6b46f8982c71dd8bc2300c92,8,4,1,14070,,,0,"Release os-traits 0.14.0

Adds a new HW_NUMA_NODE trait [1] for representing NUMA subtree roots.

[1] https://review.opendev.org/#/c/657898/

Change-Id: I9e9e7be2a54ac48d0021f3903c96e4787da8a280
",git fetch https://review.opendev.org/openstack/releases refs/changes/05/663005/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/os-traits.yaml'],1,6249768005b89c5d6b46f8982c71dd8bc2300c92,os-traits-0.14.0, - version: 0.14.0 projects: - repo: openstack/os-traits hash: af871d1ed5f41ad0bf61a0ae6a8e639af8fcaf32,,4,0
openstack%2Freleases~master~I3e91c6677dcc6defcfd9704b0b97bb2780e2ba3a,openstack/releases,master,I3e91c6677dcc6defcfd9704b0b97bb2780e2ba3a,renderspec: Release 1.11.0,MERGED,2019-06-04 04:03:49.000000000,2019-06-06 05:59:17.000000000,2019-06-06 05:59:17.000000000,"[{'_account_id': 7102}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 04:03:49.000000000', 'files': ['deliverables/_independent/renderspec.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/21670043e3e3fb287dc3a0a3c6716c5ab28e4ca7', 'message': 'renderspec: Release 1.11.0\n\n- Fix bug with ordering which made tests flaky\n- Switch to openstackdocstheme\n\nChange-Id: I3e91c6677dcc6defcfd9704b0b97bb2780e2ba3a\n'}]",0,662929,21670043e3e3fb287dc3a0a3c6716c5ab28e4ca7,7,3,1,7102,,,0,"renderspec: Release 1.11.0

- Fix bug with ordering which made tests flaky
- Switch to openstackdocstheme

Change-Id: I3e91c6677dcc6defcfd9704b0b97bb2780e2ba3a
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/662929/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/renderspec.yaml'],1,21670043e3e3fb287dc3a0a3c6716c5ab28e4ca7,, - projects: - hash: 110c29133b9b6e57c101a9b3bee5f8c59ed4af13 repo: openstack/renderspec version: 1.11.0,,4,0
openstack%2Fmistral~stable%2Fstein~I976fe5723a8bad81f1c6e30618475aa34e3e2050,openstack/mistral,stable/stein,I976fe5723a8bad81f1c6e30618475aa34e3e2050,Add release notes to changes to wflanguage execution object,MERGED,2019-06-05 14:59:55.000000000,2019-06-06 05:58:50.000000000,2019-06-06 05:58:50.000000000,"[{'_account_id': 8731}, {'_account_id': 15895}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 14:59:55.000000000', 'files': ['doc/source/user/wf_lang_v2.rst', 'releasenotes/notes/add_root_execution_id_to_jinja-90b67c69a50370b5.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/6ff82c316e9b2464eedd5a8df215101918ebff9b', 'message': 'Add release notes to changes to wflanguage execution object\n\nChange-Id: I976fe5723a8bad81f1c6e30618475aa34e3e2050\ndepends-on: Ia6c954e688589f69a7463f1b8e02244d029e8b7a\n(cherry picked from commit 9289f7d28ec861a6dd9fd7b73bf3d84066c74726)\n'}]",0,663349,6ff82c316e9b2464eedd5a8df215101918ebff9b,8,3,1,9712,,,0,"Add release notes to changes to wflanguage execution object

Change-Id: I976fe5723a8bad81f1c6e30618475aa34e3e2050
depends-on: Ia6c954e688589f69a7463f1b8e02244d029e8b7a
(cherry picked from commit 9289f7d28ec861a6dd9fd7b73bf3d84066c74726)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/49/663349/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/wf_lang_v2.rst', 'releasenotes/notes/add_root_execution_id_to_jinja-90b67c69a50370b5.yaml']",2,6ff82c316e9b2464eedd5a8df215101918ebff9b,add_release_note-stable/stein,--- features: - | This makes getting a root_execution_id available to the jinja execution object. Before this it was only possible to get that through filtering and querying the executions search. ,,6,1
openstack%2Freleases~master~I6c09e7d4d673c589c0134a483c074c67c1761f76,openstack/releases,master,I6c09e7d4d673c589c0134a483c074c67c1761f76,oslo.service 1.40.0,MERGED,2019-06-03 21:08:45.000000000,2019-06-06 05:57:56.000000000,2019-06-06 05:57:56.000000000,"[{'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-03 21:08:45.000000000', 'files': ['deliverables/train/oslo.service.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/90a50ae95d06d5017aa6e8619e14242f8c8149a6', 'message': 'oslo.service 1.40.0\n\nChange-Id: I6c09e7d4d673c589c0134a483c074c67c1761f76\n'}]",0,662858,90a50ae95d06d5017aa6e8619e14242f8c8149a6,6,2,1,6928,,,0,"oslo.service 1.40.0

Change-Id: I6c09e7d4d673c589c0134a483c074c67c1761f76
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/662858/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/oslo.service.yaml'],1,90a50ae95d06d5017aa6e8619e14242f8c8149a6,oslo-master, - projects: - hash: ac29c8269965aa65db059c9c7cb626a09ce715c0 repo: openstack/oslo.service version: 1.40.0,,4,0
openstack%2Fmistral~master~Ia9ab0cfb134f0f6ca168e8e746582fe1fc7c9710,openstack/mistral,master,Ia9ab0cfb134f0f6ca168e8e746582fe1fc7c9710,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-06-06 03:20:54.000000000,2019-06-06 05:56:08.000000000,2019-06-06 05:56:08.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 03:20:54.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/mistral/commit/0731cd1d873cb83a2aeffeaf453ee4bc9e9a20a1', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: Ia9ab0cfb134f0f6ca168e8e746582fe1fc7c9710\n'}]",0,663490,0731cd1d873cb83a2aeffeaf453ee4bc9e9a20a1,6,2,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: Ia9ab0cfb134f0f6ca168e8e746582fe1fc7c9710
",git fetch https://review.opendev.org/openstack/mistral refs/changes/90/663490/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,0731cd1d873cb83a2aeffeaf453ee4bc9e9a20a1,Bug#1,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fmistral~stable%2Fqueens~I976fe5723a8bad81f1c6e30618475aa34e3e2050,openstack/mistral,stable/queens,I976fe5723a8bad81f1c6e30618475aa34e3e2050,Add release notes to changes to wflanguage execution object,MERGED,2019-06-05 15:00:05.000000000,2019-06-06 05:41:30.000000000,2019-06-06 05:41:30.000000000,"[{'_account_id': 8731}, {'_account_id': 15895}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 15:00:05.000000000', 'files': ['doc/source/user/wf_lang_v2.rst', 'releasenotes/notes/add_root_execution_id_to_jinja-90b67c69a50370b5.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/da0e2639a8d89e95ac3011d0c21696d37b03301e', 'message': 'Add release notes to changes to wflanguage execution object\n\nChange-Id: I976fe5723a8bad81f1c6e30618475aa34e3e2050\ndepends-on: Ia6c954e688589f69a7463f1b8e02244d029e8b7a\n(cherry picked from commit 9289f7d28ec861a6dd9fd7b73bf3d84066c74726)\n'}]",0,663351,da0e2639a8d89e95ac3011d0c21696d37b03301e,6,3,1,9712,,,0,"Add release notes to changes to wflanguage execution object

Change-Id: I976fe5723a8bad81f1c6e30618475aa34e3e2050
depends-on: Ia6c954e688589f69a7463f1b8e02244d029e8b7a
(cherry picked from commit 9289f7d28ec861a6dd9fd7b73bf3d84066c74726)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/51/663351/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/wf_lang_v2.rst', 'releasenotes/notes/add_root_execution_id_to_jinja-90b67c69a50370b5.yaml']",2,da0e2639a8d89e95ac3011d0c21696d37b03301e,add_release_note-stable/stein-stable/queens,--- features: - | This makes getting a root_execution_id available to the jinja execution object. Before this it was only possible to get that through filtering and querying the executions search. ,,6,1
openstack%2Ftripleo-heat-templates~master~Ib115e70ce0ce53a8638ccbe6c9fe6ed6a421e09b,openstack/tripleo-heat-templates,master,Ib115e70ce0ce53a8638ccbe6c9fe6ed6a421e09b,Handle openvswitch meta-package on undercloud upgrade.,MERGED,2019-05-27 14:47:43.000000000,2019-06-06 05:25:55.000000000,2019-06-06 05:25:55.000000000,"[{'_account_id': 6681}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 27679}, {'_account_id': 29222}, {'_account_id': 30526}]","[{'number': 1, 'created': '2019-05-27 14:47:43.000000000', 'files': ['deployment/undercloud/undercloud-upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bbc18dd8d8db9f24bfb1e7dbb5ee760bd9036465', 'message': 'Handle openvswitch meta-package on undercloud upgrade.\n\nAs done for the overcloud in [0], we need to include the\nsame special package handling in the tasks in charge of\nupgrading the undercloud.\n\nThis patch adds special handling for the rhosp-openvswitch\nlayered product package to ensure that openvswitch networking\nremains available during the upgrade.\n\n[0] - https://opendev.org/openstack/tripleo-heat-templates/commit/1773afb0689c8fded9bce2dff4c1f8d9406c8294\nChange-Id: Ib115e70ce0ce53a8638ccbe6c9fe6ed6a421e09b\nCloses-Bug: #1830627\n'}]",7,661629,bbc18dd8d8db9f24bfb1e7dbb5ee760bd9036465,40,11,1,26343,,,0,"Handle openvswitch meta-package on undercloud upgrade.

As done for the overcloud in [0], we need to include the
same special package handling in the tasks in charge of
upgrading the undercloud.

This patch adds special handling for the rhosp-openvswitch
layered product package to ensure that openvswitch networking
remains available during the upgrade.

[0] - https://opendev.org/openstack/tripleo-heat-templates/commit/1773afb0689c8fded9bce2dff4c1f8d9406c8294
Change-Id: Ib115e70ce0ce53a8638ccbe6c9fe6ed6a421e09b
Closes-Bug: #1830627
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/661629/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/undercloud/undercloud-upgrade.yaml'],1,bbc18dd8d8db9f24bfb1e7dbb5ee760bd9036465,bug/1830627," # With the layered product packaging, the key package is rhosp-openvswitch. It depends on # a openvswitch package that includes the version as part of the name (e.g openvswitch2.10). # This requires some additional special handling: # - During an upgrade the package name for openvswitch may change so # upgrading the currently installed package won't do anything. # - The rhosp-openvswitch package ""obsoletes"" several packages, # including older openvswitch packages. This results in a pretty # severe uninstall/install sequence of operations that stops and # removes openvswitch which could break network links required to # continue the upgrade. # - To prevent rhosp-openvswitch breaking connectivity, the currently # installed core openvswitch packages need to be erased from the rpm # database but leave the binaries intact. This effectively # short-circuits the obsoletes mechanism in rhosp-openvswitch and # leaves the core elements of openvswitch running. In the future we # may replace this mechanism with ""an upgrade on reboot"". We only # do this for the core openvswitch packages so other packages # obsoleted by rhosp-openvswitch will be removed when # rhosp-openvswitch is installed/upgraded. # - Neither the rhosp-openvswitch nor openvswitch{m.n} package enables # or starts the systemd service so there must always be a task # to ensure that it is enabled or OpenvSwitch functionality won't be # available on reboot. # - With LP, we expect that the core openvswitch package name will # change with every major upgrade so this special handling will # eventually replace the special handling of upgrading the # openvswitch package ""in place"" - name: Block for gathering information for upgrading OpenvSwitch layered product packaging when: step|int == 2 block: - name: Process rhosp-openvswitch layered package for new version number shell: | set -o pipefail yum info -q rhosp-openvswitch | awk '/^Version/{print $NF}' register: rhosp_package_result ignore_errors: true - name: Set fact for triggering OpenvSwitch layered product package handling set_fact: ovs_lp_packaging: ""{{ rhosp_package_result.rc == 0 }}"" - name: Capture the expected OpenvSwitch version. set_fact: new_ovs_version: ""{{ rhosp_package_result.stdout }}"" when: ovs_lp_packaging|default(false) - name: Get current OpenvSwitch package name register: ovs_pkg_out shell: rpm -qa | awk -F- '/^(openvswitch[0-9]+\.[0-9]+-|openvswitch-2)/{print $1}' - name: Get version from current OpenvSwitch package register: ovs_version_out shell: rpm -qi ""{{ ovs_pkg_out.stdout }}"" | awk '/^Version/{print $NF}' - name: split numeric version for OpenvSwitch into parts set_fact: ovs_version_parts: ""{{ ovs_version_out.stdout.split('.') }}"" - name: get major minor version for OpenvSwitch package naming set_fact: current_ovs_version: ""{{ ovs_version_parts[0] }}.{{ ovs_version_parts[1] }}"" - name: get OpenvSwitch major version set_fact: current_ovs_major_version: ""{{ ovs_version_parts[0]|int }}"" - name: get OpenvSwitch minor version set_fact: current_ovs_minor_version: ""{{ ovs_version_parts[1]|int }}"" - name: Block for upgrading OpenvSwitch when layer package is present when: - step|int == 2 - ovs_lp_packaging|default(false) block: - name: set current OpenvSwitch package suffix if old version is layered product format set_fact: package_suffix: ""{{ current_ovs_version }}"" when: - current_ovs_major_version|int >= 3 or current_ovs_minor_version|int >=10 - name: remove old OpenvSwitch package(s) if version doesn't match shell: | rpm -e --noscripts --nopreun --nopostun --notriggers --nodeps $(rpm -qa 'openvswitch{{ package_suffix|default('') }}*' | grep -v 'selinux') args: warn: false when: new_ovs_version != current_ovs_version - name: install/upgrade OpenvSwitch LP package package: name: rhosp-openvswitch state: latest - name: set flag to skip other upgrade steps since OpenvSwitch is already upgraded! set_fact: run_ovs_update: false - name: Check for openvswitch upgrade if not layered package installs when: - step|int == 2 - run_ovs_update|default(true) block: - name: check if an upgrade is required register: ovs_need_upgrade ignore_errors: true shell: | yum check-upgrade openvswitch | awk '/openvswitch/{print}' - name: Check openvswitch packaging. shell: rpm -q --scripts openvswitch | awk '/postuninstall/,/*/' | grep -q ""systemctl.*try-restart"" register: ovs_packaging_issue ignore_errors: true - name: Upgrade openvswitch block: - name: ""Ensure empty directory: emptying."" file: state: absent path: /root/OVS_UPGRADE - name: ""Ensure empty directory: creating."" file: state: directory path: /root/OVS_UPGRADE owner: root group: root mode: 0750 - name: Make yum cache. command: yum makecache - name: Download OVS packages. command: yumdownloader --destdir /root/OVS_UPGRADE --resolve openvswitch - name: Get rpm list for manual upgrade of OVS. shell: ls -1 /root/OVS_UPGRADE/*.rpm register: ovs_list_of_rpms - name: Manual upgrade of OVS shell: | rpm -U --replacepkgs --notriggerun --nopostun {{item}} args: chdir: /root/OVS_UPGRADE with_items: - ""{{ovs_list_of_rpms.stdout_lines}}"" when: - step|int == 2 - run_ovs_update|default(true) - ovs_packaging_issue|default(false)|succeeded - ovs_need_upgrade.stdout|default('') # The openvswitch package disables the systemd service on install. When installing # the layered product we prevent the service from being killed, but it doesn't # do anything to prevent the systemd service from being removed and it is not # re-enabled by default by the new package. - name: Always ensure the openvswitch service is enabled and running after upgrades when: step|int == 2 service: name: openvswitch enabled: yes state: started",,143,0
openstack%2Fos-net-config~stable%2Frocky~I6906d3b6923845af177faba6579fa255a2195bec,openstack/os-net-config,stable/rocky,I6906d3b6923845af177faba6579fa255a2195bec,Add Policy Based Routing Support to os-net-config,MERGED,2019-06-05 09:07:26.000000000,2019-06-06 05:25:54.000000000,2019-06-06 05:25:54.000000000,"[{'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-06-05 09:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/09d67dea090e9c0f6cce549a56a78301ac276f2c', 'message': 'Add Policy Based Routing Support to os-net-config\n\nAdd support for routing tables and rules, as well as a\nproperty to specify a routing table for each route to\nthe impl_ifcfg implementation.\n\nThis change adds a new top-level object in the\nnetwork_config with type ""route_table"" to specify\nwhich route table IDs and names should be added to\nthe /etc/iproute2/rt_table file.\n\nThis change adds a ""table"" property to routes for each\ninterface type, that allows the selection of which\nrouting table to apply the route to.\n\nThis change also adds a ""rules"" property to each\ninterface type, which can be used to specify a list\nof rules. Each rule contains a rule string and an\noptional comment, both of which will be added to the\n/etc/sysconfig/network-scripts/rule-<iface> file.\n\nThis change includes tests and changes to the schema\nfor validation.\n\nNote that this change was based on the abandoned patch\nhttps://review.openstack.org/#/c/575712\nand was recreated when that patch diverged too far\nfrom master branch.\n\nChange-Id: I6906d3b6923845af177faba6579fa255a2195bec\nCloses-bug: #1783297\n(cherry picked from commit 35832347e1d14b0cd8c3e58ab7d4a5a86f6716f6)\n'}, {'number': 2, 'created': '2019-06-05 09:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e9df9e27f0ea481f13d53ac49b883f108c6cf106', 'message': 'Add Policy Based Routing Support to os-net-config\n\nAdd support for routing tables and rules, as well as a\nproperty to specify a routing table for each route to\nthe impl_ifcfg implementation.\n\nThis change adds a new top-level object in the\nnetwork_config with type ""route_table"" to specify\nwhich route table IDs and names should be added to\nthe /etc/iproute2/rt_table file.\n\nThis change adds a ""table"" property to routes for each\ninterface type, that allows the selection of which\nrouting table to apply the route to.\n\nThis change also adds a ""rules"" property to each\ninterface type, which can be used to specify a list\nof rules. Each rule contains a rule string and an\noptional comment, both of which will be added to the\n/etc/sysconfig/network-scripts/rule-<iface> file.\n\nThis change includes tests and changes to the schema\nfor validation.\n\nNote that this change was based on the abandoned patch\nhttps://review.openstack.org/#/c/575712\nand was recreated when that patch diverged too far\nfrom master branch.\n\nChange-Id: I6906d3b6923845af177faba6579fa255a2195bec\nCloses-bug: #1783297\n(cherry picked from commit 35832347e1d14b0cd8c3e58ab7d4a5a86f6716f6)\n'}, {'number': 3, 'created': '2019-06-05 23:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/6e07c4a5e60165103da82835e062f56c014593dd', 'message': 'Add Policy Based Routing Support to os-net-config\n\nAdd support for routing tables and rules, as well as a\nproperty to specify a routing table for each route to\nthe impl_ifcfg implementation.\n\nThis change adds a new top-level object in the\nnetwork_config with type ""route_table"" to specify\nwhich route table IDs and names should be added to\nthe /etc/iproute2/rt_table file.\n\nThis change adds a ""table"" property to routes for each\ninterface type, that allows the selection of which\nrouting table to apply the route to.\n\nThis change also adds a ""rules"" property to each\ninterface type, which can be used to specify a list\nof rules. Each rule contains a rule string and an\noptional comment, both of which will be added to the\n/etc/sysconfig/network-scripts/rule-<iface> file.\n\nThis change includes tests and changes to the schema\nfor validation.\n\nNote that this change was based on the abandoned patch\nhttps://review.openstack.org/#/c/575712\nand was recreated when that patch diverged too far\nfrom master branch.\n\nChange-Id: I6906d3b6923845af177faba6579fa255a2195bec\nDepends-On: https://review.opendev.org/#/c/663280/\nCloses-bug: #1783297\n(cherry picked from commit 35832347e1d14b0cd8c3e58ab7d4a5a86f6716f6)\n'}, {'number': 4, 'created': '2019-06-05 23:29:17.000000000', 'files': ['os_net_config/schema.yaml', 'os_net_config/tests/test_objects.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py', 'os_net_config/__init__.py', 'releasenotes/notes/policy-based-routing-3fa1200ae155bbee.yaml', 'etc/os-net-config/samples/routes.yaml', 'os_net_config/objects.py', 'os_net_config/tests/test_validator.py', 'os_net_config/cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/6eb51555a221a7d8a8d048730a40568f4c44ab3d', 'message': 'Add Policy Based Routing Support to os-net-config\n\nAdd support for routing tables and rules, as well as a\nproperty to specify a routing table for each route to\nthe impl_ifcfg implementation.\n\nThis change adds a new top-level object in the\nnetwork_config with type ""route_table"" to specify\nwhich route table IDs and names should be added to\nthe /etc/iproute2/rt_table file.\n\nThis change adds a ""table"" property to routes for each\ninterface type, that allows the selection of which\nrouting table to apply the route to.\n\nThis change also adds a ""rules"" property to each\ninterface type, which can be used to specify a list\nof rules. Each rule contains a rule string and an\noptional comment, both of which will be added to the\n/etc/sysconfig/network-scripts/rule-<iface> file.\n\nThis change includes tests and changes to the schema\nfor validation.\n\nNote that this change was based on the abandoned patch\nhttps://review.openstack.org/#/c/575712\nand was recreated when that patch diverged too far\nfrom master branch.\n\nChange-Id: I6906d3b6923845af177faba6579fa255a2195bec\nCloses-bug: #1783297\n(cherry picked from commit 35832347e1d14b0cd8c3e58ab7d4a5a86f6716f6)\n'}]",0,663280,6eb51555a221a7d8a8d048730a40568f4c44ab3d,14,4,4,12398,,,0,"Add Policy Based Routing Support to os-net-config

Add support for routing tables and rules, as well as a
property to specify a routing table for each route to
the impl_ifcfg implementation.

This change adds a new top-level object in the
network_config with type ""route_table"" to specify
which route table IDs and names should be added to
the /etc/iproute2/rt_table file.

This change adds a ""table"" property to routes for each
interface type, that allows the selection of which
routing table to apply the route to.

This change also adds a ""rules"" property to each
interface type, which can be used to specify a list
of rules. Each rule contains a rule string and an
optional comment, both of which will be added to the
/etc/sysconfig/network-scripts/rule-<iface> file.

This change includes tests and changes to the schema
for validation.

Note that this change was based on the abandoned patch
https://review.openstack.org/#/c/575712
and was recreated when that patch diverged too far
from master branch.

Change-Id: I6906d3b6923845af177faba6579fa255a2195bec
Closes-bug: #1783297
(cherry picked from commit 35832347e1d14b0cd8c3e58ab7d4a5a86f6716f6)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/80/663280/4 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/schema.yaml', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_objects.py', 'os_net_config/impl_ifcfg.py', 'os_net_config/__init__.py', 'releasenotes/notes/policy-based-routing-3fa1200ae155bbee.yaml', 'etc/os-net-config/samples/routes.yaml', 'os_net_config/objects.py', 'os_net_config/cli.py', 'os_net_config/tests/test_validator.py']",10,09d67dea090e9c0f6cce549a56a78301ac276f2c,bug/1783297," def test_route_table(self): schema = validator.get_schema_for_defined_type(""route_table"") v = jsonschema.Draft4Validator(schema) data = {""type"": ""route_table"", ""name"": ""custom"", ""table_id"": ""20""} self.assertTrue(v.is_valid(data)) data[""unkown_property""] = ""value"" self.assertFalse(v.is_valid(data)) self.assertFalse(v.is_valid({})) self.assertFalse(v.is_valid([])) self.assertFalse(v.is_valid(None)) def test_route_rule(self): schema = validator.get_schema_for_defined_type(""route_rule"") v = jsonschema.Draft4Validator(schema) data = {""rule"": ""iif em2 table 20""} self.assertTrue(v.is_valid(data)) data[""unkown_property""] = ""value"" self.assertFalse(v.is_valid(data)) self.assertFalse(v.is_valid({})) self.assertFalse(v.is_valid([])) self.assertFalse(v.is_valid(None)) ",,829,234
openstack%2Fneutron~master~Ic04b52bc0aca7a18fa06ea89e981c80d67f42eb1,openstack/neutron,master,Ic04b52bc0aca7a18fa06ea89e981c80d67f42eb1,Add TC filtering for VXLAN traffic,MERGED,2019-04-26 17:05:26.000000000,2019-06-06 05:22:24.000000000,2019-06-06 05:22:24.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13692}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30412}]","[{'number': 1, 'created': '2019-04-26 17:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5877ae59b642072bc9b10933d216b6e5c54203fb', 'message': 'Add TC filtering for VXLAN traffic\n\nThis new function in neutron.agent.linux.tc_lib creates a TC filter in\na device depending on the VXLAN ID (VNI) and the source MAC address\n(usually the VM TAP MAC address). This filter will send all the egress\ntunneled traffic from the VM to a TC class in other to shape it (QoS).\n\nChange-Id: Ic04b52bc0aca7a18fa06ea89e981c80d67f42eb1\nRelated-Bug: #1560963\n'}, {'number': 2, 'created': '2019-05-22 09:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5972710a0220f94f8e6b4ac2b368c7ab037ca5f3', 'message': 'Add TC filtering for VXLAN traffic\n\nThis new function in neutron.agent.linux.tc_lib creates a TC filter in\na device depending on the VXLAN ID (VNI) and the source MAC address\n(usually the VM TAP MAC address). This filter will send all the egress\ntunneled traffic from the VM to a TC class in other to shape it (QoS).\n\nChange-Id: Ic04b52bc0aca7a18fa06ea89e981c80d67f42eb1\nRelated-Bug: #1560963\n'}, {'number': 3, 'created': '2019-05-28 08:27:56.000000000', 'files': ['neutron/tests/unit/agent/linux/test_tc_lib.py', 'neutron/tests/functional/agent/linux/test_tc_lib.py', 'neutron/agent/linux/tc_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f99c79a504264397f3784abf295ba624241b380', 'message': 'Add TC filtering for VXLAN traffic\n\nThis new function in neutron.agent.linux.tc_lib creates a TC filter in\na device depending on the VXLAN ID (VNI) and the source MAC address\n(usually the VM TAP MAC address). This filter will send all the egress\ntunneled traffic from the VM to a TC class in other to shape it (QoS).\n\nChange-Id: Ic04b52bc0aca7a18fa06ea89e981c80d67f42eb1\nRelated-Bug: #1560963\n'}]",6,655969,5f99c79a504264397f3784abf295ba624241b380,35,12,3,16688,,,0,"Add TC filtering for VXLAN traffic

This new function in neutron.agent.linux.tc_lib creates a TC filter in
a device depending on the VXLAN ID (VNI) and the source MAC address
(usually the VM TAP MAC address). This filter will send all the egress
tunneled traffic from the VM to a TC class in other to shape it (QoS).

Change-Id: Ic04b52bc0aca7a18fa06ea89e981c80d67f42eb1
Related-Bug: #1560963
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/655969/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_tc_lib.py', 'neutron/tests/functional/agent/linux/test_tc_lib.py', 'neutron/agent/linux/tc_lib.py']",3,5877ae59b642072bc9b10933d216b6e5c54203fb,bug/1560963,"TC_CLASS_MAX_FLOWID = 0xffff # NOTE(ralonsoh): VXLAN header: +28 bytes from the outer MAC header (TC # initial offset) # - VXLAN flags: 1 byte # - Reserved: 3 bytes # - VNI: 3 bytes --> VXLAN_VNI_OFFSET = 32 (+32 from the TC initial offset) # - Reserved: 1 byte VXLAN_INNER_SRC_MAC_OFFSET = 42 VXLAN_VNI_OFFSET = 32 def add_tc_filter_vxlan(device, parent, classid, src_mac, vxlan_id, namespace=None): """"""Add a TC filter to match VXLAN traffic based on the VM mac and the VNI. :param device: (string) device name :param parent: (string) qdisc parent class ('root', 'ingress', '2:10') :param classid: (string) major:minor handler identifier ('10:20') :param src_mac: (string) source MAC address to match (VM mac) :param vxlan_id: (int) VXLAN ID (VNI) :param namespace: (string) (optional) namespace name """""" keys = [hex(int(vxlan_id << 8)) + '/' + hex(0xffffff00) + '+' + str(VXLAN_VNI_OFFSET)] keys += [key['key'] for key in _mac_to_pyroute2_keys(src_mac, VXLAN_INNER_SRC_MAC_OFFSET)] priv_tc_lib.add_tc_filter_match32(device, parent, 1, classid, keys, namespace=namespace) ",,143,0
openstack%2Foctavia~master~Ia65539a8c39560e2276750d8e79a637be4c0f265,openstack/octavia,master,Ia65539a8c39560e2276750d8e79a637be4c0f265,Create Amphora V2 provider driver,MERGED,2019-05-16 23:33:12.000000000,2019-06-06 05:21:31.000000000,2019-06-06 05:21:31.000000000,"[{'_account_id': 2245}, {'_account_id': 6579}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-16 23:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cbf5ecc90acbc1fddfaf38f34d358b62e2f8ffbe', 'message': 'Create Amphora V2 provider driver\n\nThis patch creates an Amphora v2 provider driver as well as a\nV2 controller worker.\nThis is in preparation for having the amphora driver use the new\nprovider driver data models and rely less on native Octavia database\naccess.\nIt is also a prepartion step for enabling TaskFlow JobBoard as\nthis work will move to storing dictionaries in the flows instead\nof database models.\n\nChange-Id: Ia65539a8c39560e2276750d8e79a637be4c0f265\nStory: 2005072\nTask: 30808\n'}, {'number': 2, 'created': '2019-05-17 20:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9ae1e3b9d60a7a925a52053525501b84e305077a', 'message': 'Create Amphora V2 provider driver\n\nThis patch creates an Amphora v2 provider driver as well as a\nV2 controller worker.\nThis is in preparation for having the amphora driver use the new\nprovider driver data models and rely less on native Octavia database\naccess.\nIt is also a prepartion step for enabling TaskFlow JobBoard as\nthis work will move to storing dictionaries in the flows instead\nof database models.\n\nChange-Id: Ia65539a8c39560e2276750d8e79a637be4c0f265\nStory: 2005072\nTask: 30808\n'}, {'number': 3, 'created': '2019-05-17 20:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/47c70f9a6eedc37ba1e0f48642f4306795fc6841', 'message': 'Create Amphora V2 provider driver\n\nThis patch creates an Amphora v2 provider driver as well as a\nV2 controller worker.\nThis is in preparation for having the amphora driver use the new\nprovider driver data models and rely less on native Octavia database\naccess.\nIt is also a prepartion step for enabling TaskFlow JobBoard as\nthis work will move to storing dictionaries in the flows instead\nof database models.\n\nChange-Id: Ia65539a8c39560e2276750d8e79a637be4c0f265\nStory: 2005072\nTask: 30808\n'}, {'number': 4, 'created': '2019-05-18 01:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/144bc1c4f6c1852c05095b9741731402bf8e908a', 'message': 'Create Amphora V2 provider driver\n\nThis patch creates an Amphora v2 provider driver as well as a\nV2 controller worker.\nThis is in preparation for having the amphora driver use the new\nprovider driver data models and rely less on native Octavia database\naccess.\nIt is also a prepartion step for enabling TaskFlow JobBoard as\nthis work will move to storing dictionaries in the flows instead\nof database models.\nThe listener flows are updated in this patch.\n\nChange-Id: Ia65539a8c39560e2276750d8e79a637be4c0f265\nStory: 2005072\nTask: 30808\n'}, {'number': 5, 'created': '2019-05-18 01:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0cfba396a3f219454f7ffe8a1066f8c44b5cab5d', 'message': 'Create Amphora V2 provider driver\n\nThis patch creates an Amphora v2 provider driver as well as a\nV2 controller worker.\nThis is in preparation for having the amphora driver use the new\nprovider driver data models and rely less on native Octavia database\naccess.\nIt is also a prepartion step for enabling TaskFlow JobBoard as\nthis work will move to storing dictionaries in the flows instead\nof database models.\nThe listener flows are updated in this patch.\n\nChange-Id: Ia65539a8c39560e2276750d8e79a637be4c0f265\nStory: 2005072\nTask: 30808\n'}, {'number': 6, 'created': '2019-05-18 01:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e962f6ff0871288c11b1c333859b164159afe487', 'message': 'Create Amphora V2 provider driver\n\nThis patch creates an Amphora v2 provider driver as well as a\nV2 controller worker.\nThis is in preparation for having the amphora driver use the new\nprovider driver data models and rely less on native Octavia database\naccess.\nIt is also a prepartion step for enabling TaskFlow JobBoard as\nthis work will move to storing dictionaries in the flows instead\nof database models.\nThe listener flows are updated in this patch.\n\nChange-Id: Ia65539a8c39560e2276750d8e79a637be4c0f265\nStory: 2005072\nTask: 30808\n'}, {'number': 7, 'created': '2019-05-20 17:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c6582011f4db22507c012ea977969301ad98c232', 'message': 'Create Amphora V2 provider driver\n\nThis patch creates an Amphora v2 provider driver as well as a\nV2 controller worker.\nThis is in preparation for having the amphora driver use the new\nprovider driver data models and rely less on native Octavia database\naccess.\nIt is also a prepartion step for enabling TaskFlow JobBoard as\nthis work will move to storing dictionaries in the flows instead\nof database models.\n\nChange-Id: Ia65539a8c39560e2276750d8e79a637be4c0f265\nStory: 2005072\nTask: 30806\n'}, {'number': 8, 'created': '2019-05-20 19:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fc977ed2b640f9f433609d9f5826a6dcde07a2e9', 'message': 'Create Amphora V2 provider driver\n\nThis patch creates an Amphora v2 provider driver as well as a\nV2 controller worker.\nThis is in preparation for having the amphora driver use the new\nprovider driver data models and rely less on native Octavia database\naccess.\nIt is also a prepartion step for enabling TaskFlow JobBoard as\nthis work will move to storing dictionaries in the flows instead\nof database models.\n\nChange-Id: Ia65539a8c39560e2276750d8e79a637be4c0f265\nStory: 2005072\nTask: 30806\n'}, {'number': 9, 'created': '2019-05-20 19:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0cb9938ac2f020b94ee28a4f344b14b3c2ecd82b', 'message': 'Create Amphora V2 provider driver\n\nThis patch creates an Amphora v2 provider driver as well as a\nV2 controller worker.\nThis is in preparation for having the amphora driver use the new\nprovider driver data models and rely less on native Octavia database\naccess.\nIt is also a prepartion step for enabling TaskFlow JobBoard as\nthis work will move to storing dictionaries in the flows instead\nof database models.\n\nChange-Id: Ia65539a8c39560e2276750d8e79a637be4c0f265\nStory: 2005072\nTask: 30806\n'}, {'number': 10, 'created': '2019-05-20 20:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1986b5887ac45b827a04bfc4c9b802ae7a85925a', 'message': 'Create Amphora V2 provider driver\n\nThis patch creates an Amphora v2 provider driver as well as a\nV2 controller worker.\nThis is in preparation for having the amphora driver use the new\nprovider driver data models and rely less on native Octavia database\naccess.\nIt is also a prepartion step for enabling TaskFlow JobBoard as\nthis work will move to storing dictionaries in the flows instead\nof database models.\n\nChange-Id: Ia65539a8c39560e2276750d8e79a637be4c0f265\nStory: 2005072\nTask: 30806\n'}, {'number': 11, 'created': '2019-05-21 18:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/56d58a7a059e9299fa845680ae5e64695faf5873', 'message': 'Create Amphora V2 provider driver\n\nThis patch creates an Amphora v2 provider driver as well as a\nV2 controller worker.\nThis is in preparation for having the amphora driver use the new\nprovider driver data models and rely less on native Octavia database\naccess.\nIt is also a prepartion step for enabling TaskFlow JobBoard as\nthis work will move to storing dictionaries in the flows instead\nof database models.\n\nChange-Id: Ia65539a8c39560e2276750d8e79a637be4c0f265\nStory: 2005072\nTask: 30806\n'}, {'number': 12, 'created': '2019-05-21 18:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a2aaf5a1f63b4ac9ec0b731449c2b864bcfcb9a6', 'message': 'Create Amphora V2 provider driver\n\nThis patch creates an Amphora v2 provider driver as well as a\nV2 controller worker.\nThis is in preparation for having the amphora driver use the new\nprovider driver data models and rely less on native Octavia database\naccess.\nIt is also a prepartion step for enabling TaskFlow JobBoard as\nthis work will move to storing dictionaries in the flows instead\nof database models.\n\nChange-Id: Ia65539a8c39560e2276750d8e79a637be4c0f265\nStory: 2005072\nTask: 30806\n'}, {'number': 13, 'created': '2019-05-22 21:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/841cd348a444af66ad1953ed1fa8e3d17aebdfaf', 'message': 'Create Amphora V2 provider driver\n\nThis patch creates an Amphora v2 provider driver as well as a\nV2 controller worker.\nThis is in preparation for having the amphora driver use the new\nprovider driver data models and rely less on native Octavia database\naccess.\nIt is also a prepartion step for enabling TaskFlow JobBoard as\nthis work will move to storing dictionaries in the flows instead\nof database models.\n\nChange-Id: Ia65539a8c39560e2276750d8e79a637be4c0f265\nStory: 2005072\nTask: 30806\n'}, {'number': 14, 'created': '2019-06-05 21:30:31.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/flows/l7rule_flows.py', 'octavia/tests/unit/controller/queue/v1/test_consumer.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'octavia/tests/unit/controller/queue/v2/test_endpoints.py', 'zuul.d/projects.yaml', 'octavia/controller/worker/v2/flows/l7rule_flows.py', 'octavia/tests/unit/controller/worker/v1/__init__.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v2/__init__.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_compute_tasks.py', 'octavia/common/constants.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/controller/worker/v2/tasks/lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_cert_task.py', 'octavia/controller/worker/v1/flows/health_monitor_flows.py', 'octavia/tests/unit/controller/queue/v1/test_endpoints.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_lifecycle_tasks.py', 'tools/flow-list.txt', 'octavia/tests/unit/controller/worker/v1/tasks/__init__.py', 'octavia/tests/unit/controller/worker/v2/flows/test_member_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_model_tasks.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_amphora_driver_tasks.py', 'octavia/controller/worker/v2/tasks/model_tasks.py', 'octavia/tests/unit/controller/worker/v1/flows/test_listener_flows.py', 'octavia/controller/worker/v1/controller_worker.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/tests/unit/controller/worker/v2/flows/test_l7rule_flows.py', 'octavia/tests/unit/controller/worker/v1/flows/test_l7policy_flows.py', 'octavia/controller/queue/v1/endpoints.py', 'octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py', 'octavia/controller/queue/v2/endpoints.py', 'zuul.d/jobs.yaml', 'octavia/controller/worker/v2/flows/listener_flows.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_compute_tasks.py', 'octavia/controller/worker/v1/flows/__init__.py', 'octavia/tests/unit/controller/worker/v2/flows/test_l7policy_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_cert_task.py', 'octavia/controller/worker/v2/tasks/cert_task.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'octavia/controller/housekeeping/house_keeping.py', 'octavia/tests/unit/controller/worker/v1/flows/__init__.py', 'octavia/controller/worker/v1/tasks/lifecycle_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_health_monitor_flows.py', 'octavia/controller/worker/v1/tasks/__init__.py', 'octavia/controller/queue/v2/consumer.py', 'octavia/controller/worker/v1/tasks/model_tasks.py', 'octavia/controller/worker/v2/flows/member_flows.py', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/controller/worker/v1/flows/listener_flows.py', 'octavia/controller/worker/v1/tasks/cert_task.py', 'octavia/tests/unit/controller/worker/v1/flows/test_l7rule_flows.py', 'octavia/tests/unit/controller/worker/v2/flows/test_amphora_flows.py', 'octavia/tests/unit/controller/queue/v2/test_consumer.py', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/controller/worker/v1/tasks/compute_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks_quota.py', 'octavia/controller/queue/v1/consumer.py', 'octavia/controller/queue/v1/__init__.py', 'octavia/controller/queue/v2/__init__.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_lifecycle_tasks.py', 'octavia/controller/worker/v1/flows/amphora_flows.py', 'octavia/tests/unit/controller/worker/v2/flows/test_pool_flows.py', 'octavia/controller/worker/v2/flows/health_monitor_flows.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/flows/l7policy_flows.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_model_tasks.py', 'setup.cfg', 'octavia/tests/unit/controller/worker/v2/tasks/__init__.py', 'octavia/controller/worker/v2/flows/pool_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/cmd/octavia_worker.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/__init__.py', 'octavia/tests/unit/controller/worker/v1/flows/test_pool_flows.py', 'octavia/tests/unit/controller/worker/v1/flows/test_amphora_flows.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/__init__.py', 'octavia/controller/worker/v1/__init__.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/controller/worker/v1/flows/pool_flows.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/controller/worker/v2/__init__.py', 'octavia/controller/healthmanager/health_manager.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/tests/unit/controller/housekeeping/test_house_keeping.py', 'octavia/controller/worker/v2/flows/__init__.py', 'octavia/tests/unit/controller/healthmanager/test_health_manager.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_listener_flows.py', 'octavia/controller/worker/v1/flows/member_flows.py', 'octavia/controller/worker/v1/flows/l7policy_flows.py', 'octavia/tests/unit/controller/queue/v1/__init__.py', 'octavia/controller/worker/v2/tasks/__init__.py', 'octavia/tests/unit/controller/queue/v2/__init__.py', 'octavia/controller/worker/v1/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/controller/worker/v1/test_controller_worker.py', 'octavia/api/drivers/amphora_driver/v2/__init__.py', 'octavia/tests/unit/controller/worker/v1/flows/test_health_monitor_flows.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks_quota.py', 'octavia/tests/unit/controller/worker/v1/flows/test_member_flows.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/__init__.py', 'octavia/api/v2/controllers/listener.py', 'octavia/api/drivers/amphora_driver/v1/__init__.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0ab16921ae3a0380dd18b6bd6e7f0d72511b80d0', 'message': 'Create Amphora V2 provider driver\n\nThis patch creates an Amphora v2 provider driver as well as a\nV2 controller worker.\nThis is in preparation for having the amphora driver use the new\nprovider driver data models and rely less on native Octavia database\naccess.\nIt is also a prepartion step for enabling TaskFlow JobBoard as\nthis work will move to storing dictionaries in the flows instead\nof database models.\n\nChange-Id: Ia65539a8c39560e2276750d8e79a637be4c0f265\nStory: 2005072\nTask: 30806\n'}]",7,659689,0ab16921ae3a0380dd18b6bd6e7f0d72511b80d0,44,6,14,11628,,,0,"Create Amphora V2 provider driver

This patch creates an Amphora v2 provider driver as well as a
V2 controller worker.
This is in preparation for having the amphora driver use the new
provider driver data models and rely less on native Octavia database
access.
It is also a prepartion step for enabling TaskFlow JobBoard as
this work will move to storing dictionaries in the flows instead
of database models.

Change-Id: Ia65539a8c39560e2276750d8e79a637be4c0f265
Story: 2005072
Task: 30806
",git fetch https://review.opendev.org/openstack/octavia refs/changes/89/659689/14 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/controller/worker/v2_worker.py', 'octavia/common/constants.py', 'octavia/cmd/octavia_worker.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'setup.cfg', 'octavia/api/v2/controllers/listener.py', 'octavia/controller/queue/v2_endpoints.py', 'octavia/controller/queue/consumer.py']",8,cbf5ecc90acbc1fddfaf38f34d358b62e2f8ffbe,jobboard,"from octavia.common import constants class ConsumerServiceV2(cotyledon.Service): def __init__(self, worker_id, conf): super(ConsumerServiceV2, self).__init__(worker_id) self.conf = conf self.topic = constants.TOPIC_AMPHORA_V2 self.server = conf.host self.endpoints = [] self.access_policy = dispatcher.DefaultRPCAccessPolicy self.message_listener = None def run(self): LOG.info('Starting V2 consumer...') target = messaging.Target(topic=self.topic, server=self.server, fanout=False) self.endpoints = [v2_endpoints.Endpoint()] self.message_listener = rpc.get_server( target, self.endpoints, executor='threading', access_policy=self.access_policy ) self.message_listener.start() def terminate(self, graceful=False): if self.message_listener: LOG.info('Stopping V2 consumer...') self.message_listener.stop() if graceful: LOG.info('V2 Consumer successfully stopped. Waiting for ' 'final messages to be processed...') self.message_listener.wait() if self.endpoints: LOG.info('Shutting down V2 endpoint worker executors...') for e in self.endpoints: try: e.worker.executor.shutdown() except AttributeError: pass super(ConsumerServiceV2, self).terminate()",,1497,1
openstack%2Fmistral-dashboard~master~I71bc27c9e388a5892daaaa41db5d8e70dd39ea0e,openstack/mistral-dashboard,master,I71bc27c9e388a5892daaaa41db5d8e70dd39ea0e,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-06-06 03:03:39.000000000,2019-06-06 05:08:01.000000000,2019-06-06 05:08:01.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 27008}]","[{'number': 1, 'created': '2019-06-06 03:03:39.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/c0f2cf7c6f3bbb644759aff550c6d6084a2c99d4', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I71bc27c9e388a5892daaaa41db5d8e70dd39ea0e\n'}]",0,663486,c0f2cf7c6f3bbb644759aff550c6d6084a2c99d4,6,7,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I71bc27c9e388a5892daaaa41db5d8e70dd39ea0e
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/86/663486/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c0f2cf7c6f3bbb644759aff550c6d6084a2c99d4,Bug#sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fpython-mistralclient~master~I01631bed507ac07dc192076685c427ceebd29eaf,openstack/python-mistralclient,master,I01631bed507ac07dc192076685c427ceebd29eaf,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-06-06 03:18:28.000000000,2019-06-06 05:05:20.000000000,2019-06-06 05:05:20.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 27008}]","[{'number': 1, 'created': '2019-06-06 03:18:28.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/cbc6962527f1ff39419e087c65f0d6e9cf40a379', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I01631bed507ac07dc192076685c427ceebd29eaf\n'}]",0,663488,cbc6962527f1ff39419e087c65f0d6e9cf40a379,6,7,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I01631bed507ac07dc192076685c427ceebd29eaf
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/88/663488/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,cbc6962527f1ff39419e087c65f0d6e9cf40a379,Bug#1,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fpython-tripleoclient~master~Icdbfa5ecdbe9a0bf510c0f3713b0eaa318c69732,openstack/python-tripleoclient,master,Icdbfa5ecdbe9a0bf510c0f3713b0eaa318c69732,Remove pull source option.,MERGED,2019-04-19 10:17:51.000000000,2019-06-06 04:54:13.000000000,2019-06-06 04:54:13.000000000,"[{'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-19 10:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/764600569a52c65e6415970cfcd094e7025d8d72', 'message': 'Remove pull source option.\n\nThis option was deprecated in the previous version and can be now\nremoved. Use namespace option now.\n\nChange-Id: Icdbfa5ecdbe9a0bf510c0f3713b0eaa318c69732\n'}, {'number': 2, 'created': '2019-05-02 08:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7807529fa822d51256831312eb5ab4768d6d6c89', 'message': 'Remove pull source option.\n\nThis option was deprecated in the previous version and can be now\nremoved. Use namespace option now.\n\nChange-Id: Icdbfa5ecdbe9a0bf510c0f3713b0eaa318c69732\n'}, {'number': 3, 'created': '2019-05-16 07:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/91d696fa431764c740b4940a7b2f69656ac07a68', 'message': 'Remove pull source option.\n\nThis option was deprecated in the previous version and can be now\nremoved. Use namespace option now.\n\nChange-Id: Icdbfa5ecdbe9a0bf510c0f3713b0eaa318c69732\n'}, {'number': 4, 'created': '2019-05-20 08:36:36.000000000', 'files': ['tripleoclient/v1/container_image.py', 'tripleoclient/tests/v1/test_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ca1d6344c6b4b302524a0d823f919a4d8ed71e25', 'message': 'Remove pull source option.\n\nThis option was deprecated in the previous version and can be now\nremoved. Use namespace option now.\n\nChange-Id: Icdbfa5ecdbe9a0bf510c0f3713b0eaa318c69732\n'}]",0,653934,ca1d6344c6b4b302524a0d823f919a4d8ed71e25,26,6,4,29222,,,0,"Remove pull source option.

This option was deprecated in the previous version and can be now
removed. Use namespace option now.

Change-Id: Icdbfa5ecdbe9a0bf510c0f3713b0eaa318c69732
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/34/653934/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/container_image.py', 'tripleoclient/tests/v1/test_container_image.py']",2,764600569a52c65e6415970cfcd094e7025d8d72,remove_pull_source_option,," pull_source=None, pull_source=None,",0,10
openstack%2Ftrove~master~If705470330f51be9b78914ac2d456c62348c4329,openstack/trove,master,If705470330f51be9b78914ac2d456c62348c4329,Remove flavor operations from API doc,MERGED,2019-06-06 04:15:56.000000000,2019-06-06 04:46:00.000000000,2019-06-06 04:46:00.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 04:15:56.000000000', 'files': ['api-ref/source/samples/db-flavors-by-id-response-json-http.txt', 'api-ref/source/index.rst', 'api-ref/source/samples/db-flavors-response.json', 'doc/votes/channel_logging', 'api-ref/source/samples/db-flavors-request-json-http.txt', 'api-ref/source/samples/db-flavors-by-id-response.json', 'api-ref/source/flavors.inc', 'api-ref/source/samples/db-flavors-response-json-http.txt', 'api-ref/source/samples/db-flavors-by-id-request-json-http.txt'], 'web_link': 'https://opendev.org/openstack/trove/commit/f83899867e1ac8f46526b10e74ad120ced379819', 'message': ""Remove flavor operations from API doc\n\nTrove doesn't need to expose resources directly from Nova.\n\nChange-Id: If705470330f51be9b78914ac2d456c62348c4329\n""}]",0,663496,f83899867e1ac8f46526b10e74ad120ced379819,6,2,1,6732,,,0,"Remove flavor operations from API doc

Trove doesn't need to expose resources directly from Nova.

Change-Id: If705470330f51be9b78914ac2d456c62348c4329
",git fetch https://review.opendev.org/openstack/trove refs/changes/96/663496/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/samples/db-flavors-by-id-response-json-http.txt', 'api-ref/source/index.rst', 'api-ref/source/samples/db-flavors-response.json', 'doc/votes/channel_logging', 'api-ref/source/samples/db-flavors-request-json-http.txt', 'api-ref/source/samples/db-flavors-by-id-response.json', 'api-ref/source/flavors.inc', 'api-ref/source/samples/db-flavors-response-json-http.txt', 'api-ref/source/samples/db-flavors-by-id-request-json-http.txt']",9,f83899867e1ac8f46526b10e74ad120ced379819,remove-flavor-api-doc,,GET /v1.0/1234/flavors/1 HTTP/1.1 User-Agent: python-troveclient Host: troveapi.org X-Auth-Token: 87c6033c-9ff6-405f-943e-2deb73f278b7 Accept: application/json Content-Type: application/json ,0,390
openstack%2Fpuppet-nova~stable%2Fqueens~I2d2934e36fbb5442607693c0c481c1d4c8f59cb0,openstack/puppet-nova,stable/queens,I2d2934e36fbb5442607693c0c481c1d4c8f59cb0,Adds functionality to modudify the nfs clients mount options,MERGED,2019-06-05 10:37:33.000000000,2019-06-06 04:41:55.000000000,2019-06-06 04:41:55.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 25820}]","[{'number': 1, 'created': '2019-06-05 10:37:33.000000000', 'files': ['spec/classes/nova_compute_libvirt_spec.rb', 'releasenotes/notes/nova_libvirt_nfs_mount_options_support-97b15b09475b5b21.yaml', 'manifests/compute/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bb9517e5e8fc0abb38262dbd6622551448b113ef', 'message': 'Adds functionality to modudify the nfs clients mount options\n\nChange-Id: I2d2934e36fbb5442607693c0c481c1d4c8f59cb0\nCloses-Bug: #1803839\n(cherry picked from commit 9f12976e5270f580c969476643a2d23b30aea43e)\n(cherry picked from commit f30766c3275c168a15478a1995bced1bd426fa55)\n(cherry picked from commit bad938fcae63a283063d82ed6f63c0c020cfc73c)\n'}]",0,663297,bb9517e5e8fc0abb38262dbd6622551448b113ef,7,6,1,17216,,,0,"Adds functionality to modudify the nfs clients mount options

Change-Id: I2d2934e36fbb5442607693c0c481c1d4c8f59cb0
Closes-Bug: #1803839
(cherry picked from commit 9f12976e5270f580c969476643a2d23b30aea43e)
(cherry picked from commit f30766c3275c168a15478a1995bced1bd426fa55)
(cherry picked from commit bad938fcae63a283063d82ed6f63c0c020cfc73c)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/97/663297/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_compute_libvirt_spec.rb', 'releasenotes/notes/nova_libvirt_nfs_mount_options_support-97b15b09475b5b21.yaml', 'manifests/compute/libvirt.pp']",3,bb9517e5e8fc0abb38262dbd6622551448b113ef,bug/1803839-stable/rocky-stable/queens,"# [*nfs_mount_options*] # (optional) Mount options passed to the NFS client. See section of the # nfs man page for details. # Defaults to $::os_service_default # $nfs_mount_options = $::os_service_default, 'libvirt/nfs_mount_options': value => $nfs_mount_options;",,20,1
openstack%2Fsushy~master~I6d6d3ac2bc8057a7fa018a6a44cf98f98c3b45d0,openstack/sushy,master,I6d6d3ac2bc8057a7fa018a6a44cf98f98c3b45d0,Use collections.abc instead of collections when available,MERGED,2019-06-05 13:28:53.000000000,2019-06-06 04:41:34.000000000,2019-06-06 04:41:34.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-05 13:28:53.000000000', 'files': ['sushy/utils.py', 'sushy/resources/base.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/6f4539d1b00d31b6f831fc8e23278261c0fdd55e', 'message': 'Use collections.abc instead of collections when available\n\nIn Python 3.8, the abstract base classes in collections.abc will\nno longer be exposed in the regular collections module.\nPython 2.7 will maintain the old behavior.\nThis patch allows the usage of the abstract classes in both\nPython versions.\n\nChange-Id: I6d6d3ac2bc8057a7fa018a6a44cf98f98c3b45d0\n'}]",1,663329,6f4539d1b00d31b6f831fc8e23278261c0fdd55e,7,3,1,23851,,,0,"Use collections.abc instead of collections when available

In Python 3.8, the abstract base classes in collections.abc will
no longer be exposed in the regular collections module.
Python 2.7 will maintain the old behavior.
This patch allows the usage of the abstract classes in both
Python versions.

Change-Id: I6d6d3ac2bc8057a7fa018a6a44cf98f98c3b45d0
",git fetch https://review.opendev.org/openstack/sushy refs/changes/29/663329/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/utils.py', 'sushy/resources/base.py']",2,6f4539d1b00d31b6f831fc8e23278261c0fdd55e,collections-abc," # (rpittau) this allows usage of collection ABC abstract classes in both # Python 2.7 and Python 3.8+ try: collectionsAbc = collections.abc except AttributeError: collectionsAbc = collections class CompositeField(collectionsAbc.Mapping, Field): # https://docs.python.org/3/library/collections.abc.html#collections.abc.Mapping if not isinstance(mapping, collectionsAbc.Mapping):","class CompositeField(collections.Mapping, Field): if not isinstance(mapping, collections.Mapping):",22,5
openstack%2Ftripleo-heat-templates~master~Ida27b52a091640545aecc982fc1a509fb5107db8,openstack/tripleo-heat-templates,master,Ida27b52a091640545aecc982fc1a509fb5107db8,Add new role parameter NovaLibvirtNumPciePorts,MERGED,2019-06-05 07:31:28.000000000,2019-06-06 04:39:52.000000000,2019-06-06 00:35:03.000000000,"[{'_account_id': 3153}, {'_account_id': 6962}, {'_account_id': 11604}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-06-05 07:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/256d6b3f29b702b3f38216994b7c3c3a2a73a178', 'message': 'Add new role parameter NovaLibvirtNumPciePorts\n\nAdd role parameter NovaLibvirtNumPciePorts which sets `libvirt/num_pcie_ports`\nto specify the number of PCIe ports an instance will get.\nLibvirt allows a custom number of PCIe ports (pcie-root-port controllers) a\ntarget instance will get. Some will be used by default, rest will be available\nfor hotplug use.\nDefault for NovaLibvirtNumPciePorts is 16.\n\nChange-Id: Ida27b52a091640545aecc982fc1a509fb5107db8\nCloses-Bug: #1831701\nDepends-On: I16732c9d6013112381cfad999540dd41ec3d7ba3\n'}, {'number': 2, 'created': '2019-06-05 11:06:49.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova_libvirt_num_pcie_ports-f904bf0fb9a7b19e.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f6dabc725b16c975023a0e3f09433d7039922e2', 'message': 'Add new role parameter NovaLibvirtNumPciePorts\n\nAdd role parameter NovaLibvirtNumPciePorts which sets `libvirt/num_pcie_ports`\nto specify the number of PCIe ports an instance will get.\nLibvirt allows a custom number of PCIe ports (pcie-root-port controllers) a\ntarget instance will get. Some will be used by default, rest will be available\nfor hotplug use. When using the \'q35\' machine type, by default, it allows only\na *single* PCIe device to be hotplugged.  And Nova currently sets\n\'num_pcie_ports\' to ""0"" (which means, it defaults to libvirt\'s ""1""), which is\nnot sufficient for hotplug use.\n\nDefault for NovaLibvirtNumPciePorts is 16.\n\nChange-Id: Ida27b52a091640545aecc982fc1a509fb5107db8\nCloses-Bug: #1831701\nDepends-On: I16732c9d6013112381cfad999540dd41ec3d7ba3\n'}]",1,663261,0f6dabc725b16c975023a0e3f09433d7039922e2,20,10,2,17216,,,0,"Add new role parameter NovaLibvirtNumPciePorts

Add role parameter NovaLibvirtNumPciePorts which sets `libvirt/num_pcie_ports`
to specify the number of PCIe ports an instance will get.
Libvirt allows a custom number of PCIe ports (pcie-root-port controllers) a
target instance will get. Some will be used by default, rest will be available
for hotplug use. When using the 'q35' machine type, by default, it allows only
a *single* PCIe device to be hotplugged.  And Nova currently sets
'num_pcie_ports' to ""0"" (which means, it defaults to libvirt's ""1""), which is
not sufficient for hotplug use.

Default for NovaLibvirtNumPciePorts is 16.

Change-Id: Ida27b52a091640545aecc982fc1a509fb5107db8
Closes-Bug: #1831701
Depends-On: I16732c9d6013112381cfad999540dd41ec3d7ba3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/663261/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova_libvirt_num_pcie_ports-f904bf0fb9a7b19e.yaml']",2,256d6b3f29b702b3f38216994b7c3c3a2a73a178,bug/1831701,"--- features: - | Add role parameter NovaLibvirtNumPciePorts which sets `libvirt/num_pcie_ports` to specify the number of PCIe ports an instance will get. Libvirt allows a custom number of PCIe ports (pcie-root-port controllers) a target instance will get. Some will be used by default, rest will be available for hotplug use. Default for NovaLibvirtNumPciePorts is 16. ",,22,0
openstack%2Ftrove~master~I4a232fb3148faec690d1bc2096001c5eb6108954,openstack/trove,master,I4a232fb3148faec690d1bc2096001c5eb6108954,Fix the structure in releasenotes folder,MERGED,2019-06-06 04:10:00.000000000,2019-06-06 04:39:00.000000000,2019-06-06 04:38:59.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 04:10:00.000000000', 'files': ['releasenotes/notes/releasenotes/notes/fix-endpoint_type-option-not-used-with-single-tenant-f3e8b0f2807a026d.yaml', 'releasenotes/notes/deprecate-default_neutron_networks-84cd00224d6b7bc1.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/35301fa8981a5d8c729fe82fd6bfc2f6fbb6a945', 'message': 'Fix the structure in releasenotes folder\n\nChange-Id: I4a232fb3148faec690d1bc2096001c5eb6108954\n'}]",0,663494,35301fa8981a5d8c729fe82fd6bfc2f6fbb6a945,6,2,1,6732,,,0,"Fix the structure in releasenotes folder

Change-Id: I4a232fb3148faec690d1bc2096001c5eb6108954
",git fetch https://review.opendev.org/openstack/trove refs/changes/94/663494/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/releasenotes/notes/fix-endpoint_type-option-not-used-with-single-tenant-f3e8b0f2807a026d.yaml', 'releasenotes/notes/deprecate-default_neutron_networks-84cd00224d6b7bc1.yaml']",2,35301fa8981a5d8c729fe82fd6bfc2f6fbb6a945,fix-release-notes,,,0,6
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I86fc82e604fbdee2881c4ef0ad6602da412a7ee6,openstack/tripleo-heat-templates,stable/queens,I86fc82e604fbdee2881c4ef0ad6602da412a7ee6,[stable queens/pike] Use server_not_blacklisted condition,MERGED,2019-05-29 05:11:18.000000000,2019-06-06 04:10:56.000000000,2019-05-29 15:16:46.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-29 05:11:18.000000000', 'files': ['puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2c4004d7ace1ee540d9770d5733e050a1a62fa34', 'message': ""[stable queens/pike] Use server_not_blacklisted condition\n\nIf the 'actions' is set to [] for UpdateDeployment, doing get_attr\nwould throw an error, as the deployment are not created in heat and\nresource_id would be None.  Though this should be fixed in heat,\nit would be good to get attributes from UpdateDeployment conditionally.\n\nThis minor update code has been removed since stable/rocky with\nchange I6c5eafe76eb53bc38d100a9ba132dd8fe6dd2d5f.\n\nChange-Id: I86fc82e604fbdee2881c4ef0ad6602da412a7ee6\nCloses-Bug: #1830837\n""}]",0,661890,2c4004d7ace1ee540d9770d5733e050a1a62fa34,8,4,1,8833,,,0,"[stable queens/pike] Use server_not_blacklisted condition

If the 'actions' is set to [] for UpdateDeployment, doing get_attr
would throw an error, as the deployment are not created in heat and
resource_id would be None.  Though this should be fixed in heat,
it would be good to get attributes from UpdateDeployment conditionally.

This minor update code has been removed since stable/rocky with
change I6c5eafe76eb53bc38d100a9ba132dd8fe6dd2d5f.

Change-Id: I86fc82e604fbdee2881c4ef0ad6602da412a7ee6
Closes-Bug: #1830837
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/661890/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/role.role.j2.yaml'],1,2c4004d7ace1ee540d9770d5733e050a1a62fa34,bug/1830837," enable_package_upgrade: if: - server_not_blacklisted - {get_attr: [UpdateDeployment, update_managed_packages]} - false"," enable_package_upgrade: {get_attr: [UpdateDeployment, update_managed_packages]}",5,1
openstack%2Fplacement~master~I342512732b94bc19bd711684ba3ec9480cc51f81,openstack/placement,master,I342512732b94bc19bd711684ba3ec9480cc51f81,Optionally run a wsgi profiler when asked,MERGED,2019-03-14 10:42:30.000000000,2019-06-06 04:10:49.000000000,2019-06-06 04:10:49.000000000,"[{'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-03-14 10:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/98fdc5647c2035fcb7d8b9ed78cd3351a3a6c53b', 'message': 'WIP: Optionally run a wsgi profiler when asked\n\nThis is the code used to run placement with the wsgi\nprofiling described in a blog post [1]. Having it\navailable in gerrit may make it easier to experiment\nwith. We may also want to consider if something like\nthis is worth making official.\n\n[1] https://anticdent.org/profiling-wsgi-apps.html\n\nChange-Id: I342512732b94bc19bd711684ba3ec9480cc51f81\n'}, {'number': 2, 'created': '2019-03-15 14:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/41ea1a3b86a8de43f0b4619e22c8970e2115b4a7', 'message': 'WIP: Optionally run a wsgi profiler when asked\n\nThis is the code used to run placement with the wsgi\nprofiling described in a blog post [1]. Having it\navailable in gerrit may make it easier to experiment\nwith. We may also want to consider if something like\nthis is worth making official.\n\n[1] https://anticdent.org/profiling-wsgi-apps.html\n\nChange-Id: I342512732b94bc19bd711684ba3ec9480cc51f81\n'}, {'number': 3, 'created': '2019-05-09 21:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/1e1a68e423a57516bcef58ecb2ff432d803b535b', 'message': 'WIP: Optionally run a wsgi profiler when asked\n\nThis is the code used to run placement with the wsgi\nprofiling described in a blog post [1]. Having it\navailable in gerrit may make it easier to experiment\nwith. We may also want to consider if something like\nthis is worth making official.\n\n[1] https://anticdent.org/profiling-wsgi-apps.html\n\nChange-Id: I342512732b94bc19bd711684ba3ec9480cc51f81\n'}, {'number': 4, 'created': '2019-05-09 21:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/0450590d33a2441b6918a0fac80882e6d4da9ae4', 'message': 'WIP: Optionally run a wsgi profiler when asked\n\nThis is the code used to run placement with the wsgi\nprofiling described in a blog post [1]. Having it\navailable in gerrit may make it easier to experiment\nwith. We may also want to consider if something like\nthis is worth making official.\n\n[1] https://anticdent.org/profiling-wsgi-apps.html\n\nChange-Id: I342512732b94bc19bd711684ba3ec9480cc51f81\n'}, {'number': 5, 'created': '2019-05-22 19:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/5dd05c3351a2f29d4b44e3ca0c3b3dbb1a522266', 'message': 'WIP: Optionally run a wsgi profiler when asked\n\nThis is the code used to run placement with the wsgi\nprofiling described in a blog post [1]. Having it\navailable in gerrit may make it easier to experiment\nwith. We may also want to consider if something like\nthis is worth making official.\n\n[1] https://anticdent.org/profiling-wsgi-apps.html\n\nChange-Id: I342512732b94bc19bd711684ba3ec9480cc51f81\n'}, {'number': 6, 'created': '2019-05-28 09:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/1527674bde8f1eb04f009f4c39f8645a0037d784', 'message': ""Optionally run a wsgi profiler when asked\n\nThis is the code used to run placement with the wsgi\nprofiling described in a blog post [1]. It has proven\nuseful enough that we may wish to include it in the\nreleased code. It is added in a way that is off by\ndefault and makes no changes to requirements.\n\nBrief docs are included in testing.rst. They are\nbrief because it's assumed that someone who wants to\ndo this already mostly knows what they want to do and\nmerely needs the specifics on how to do it in this\nenvironment.k\n\n[1] https://anticdent.org/profiling-wsgi-apps.html\n\nChange-Id: I342512732b94bc19bd711684ba3ec9480cc51f81\n""}, {'number': 7, 'created': '2019-05-29 08:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/1f2b2316eed568f1612097e0d7d2528ed9c435e6', 'message': ""Optionally run a wsgi profiler when asked\n\nThis is the code used to run placement with the wsgi\nprofiling described in a blog post [1]. It has proven\nuseful enough that we may wish to include it in the\nreleased code. It is added in a way that is off by\ndefault and makes no changes to requirements.\n\nBrief docs are included in testing.rst. They are\nbrief because it's assumed that someone who wants to\ndo this already mostly knows what they want to do and\nmerely needs the specifics on how to do it in this\nenvironment.\n\n[1] https://anticdent.org/profiling-wsgi-apps.html\n\nChange-Id: I342512732b94bc19bd711684ba3ec9480cc51f81\n""}, {'number': 8, 'created': '2019-06-03 12:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/2aee46e76a0a7032c60df7482831ddf30f0e8f04', 'message': ""Optionally run a wsgi profiler when asked\n\nThis is the code used to run placement with the wsgi\nprofiling described in a blog post [1]. It has proven\nuseful enough that we may wish to include it in the\nreleased code. It is added in a way that is off by\ndefault and makes no changes to requirements.\n\nBrief docs are included in testing.rst. They are\nbrief because it's assumed that someone who wants to\ndo this already mostly knows what they want to do and\nmerely needs the specifics on how to do it in this\nenvironment.\n\n[1] https://anticdent.org/profiling-wsgi-apps.html\n\nChange-Id: I342512732b94bc19bd711684ba3ec9480cc51f81\n""}, {'number': 9, 'created': '2019-06-05 19:41:18.000000000', 'files': ['doc/source/contributor/testing.rst', 'placement/deploy.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/88c6ad9cb44eba3bd69742b6a3c5f9c015106df2', 'message': ""Optionally run a wsgi profiler when asked\n\nThis is the code used to run placement with the wsgi\nprofiling described in a blog post [1]. It has proven\nuseful enough that we may wish to include it in the\nreleased code. It is added in a way that is off by\ndefault and makes no changes to requirements.\n\nBrief docs are included in testing.rst. They are\nbrief because it's assumed that someone who wants to\ndo this already mostly knows what they want to do and\nmerely needs the specifics on how to do it in this\nenvironment.\n\n[1] https://anticdent.org/profiling-wsgi-apps.html\n\nChange-Id: I342512732b94bc19bd711684ba3ec9480cc51f81\n""}]",4,643269,88c6ad9cb44eba3bd69742b6a3c5f9c015106df2,34,5,9,11564,,,0,"Optionally run a wsgi profiler when asked

This is the code used to run placement with the wsgi
profiling described in a blog post [1]. It has proven
useful enough that we may wish to include it in the
released code. It is added in a way that is off by
default and makes no changes to requirements.

Brief docs are included in testing.rst. They are
brief because it's assumed that someone who wants to
do this already mostly knows what they want to do and
merely needs the specifics on how to do it in this
environment.

[1] https://anticdent.org/profiling-wsgi-apps.html

Change-Id: I342512732b94bc19bd711684ba3ec9480cc51f81
",git fetch https://review.opendev.org/openstack/placement refs/changes/69/643269/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/deploy.py'],1,98fdc5647c2035fcb7d8b9ed78cd3351a3a6c53b,cd/profiler-hack,"import os PROFILER_OUTPUT = os.environ.get('OS_WSGI_PROFILER') if PROFILER_OUTPUT: from werkzeug.contrib import profiler # If PROFILER_OUTPUT is set, generate per request profile reports # to the directory named therein. if PROFILER_OUTPUT: application = profiler.ProfilerMiddleware( application, profile_dir=PROFILER_OUTPUT) ",,14,0
openstack%2Fneutron~stable%2Frocky~I246c1f56df889bad9c7e140b56c3614124d80a19,openstack/neutron,stable/rocky,I246c1f56df889bad9c7e140b56c3614124d80a19,Packets getting lost during SNAT with too many connections,MERGED,2019-04-25 20:47:05.000000000,2019-06-06 04:10:47.000000000,2019-06-06 04:10:47.000000000,"[{'_account_id': 1131}, {'_account_id': 7016}, {'_account_id': 9732}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-25 20:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/386e7088e8280d7c58100d6082d049df961f0ed0', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}, {'number': 2, 'created': '2019-04-26 20:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6c2a932d28b54bd0068423bdfa7cbd127785e06', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}, {'number': 3, 'created': '2019-04-26 20:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/39d228944e93f3061632fcc58b98e1214a82d372', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}, {'number': 4, 'created': '2019-05-02 20:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/03fb326927846684598bf830c1f2ecf336a753e0', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}, {'number': 5, 'created': '2019-06-04 23:23:14.000000000', 'files': ['neutron/common/constants.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/iptables_manager.py', 'neutron/common/utils.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/unit/common/test_utils.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1dd35515d4ea7f31878cfb60612bf68e523b9e69', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nConflicts:\n    neutron/agent/linux/iptables_manager.py\n    neutron/common/constants.py\n    neutron/tests/unit/agent/l3/test_agent.py\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}]",0,655791,1dd35515d4ea7f31878cfb60612bf68e523b9e69,34,7,5,7016,,,0,"Packets getting lost during SNAT with too many connections

We have a problem with SNAT with too many connections using the
same source and destination on the network nodes.

In addition we can see in the conntrack table that the who
""instert_failed"" increases.

This might be a generic problem with conntrack and linux.
We suspect that we encounter the following ""limitation / bug""
in the kernel.

There seems to be a workaround to alleviate this behavior by
setting the -random-fully flag in iptables for port consumption.

This patch fixes the problem by adding the --random-fully to
the SNAT rules.

Conflicts:
    neutron/agent/linux/iptables_manager.py
    neutron/common/constants.py
    neutron/tests/unit/agent/l3/test_agent.py

Change-Id: I246c1f56df889bad9c7e140b56c3614124d80a19
Closes-Bug: #1814002
(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/655791/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/constants.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/iptables_manager.py', 'neutron/common/utils.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/unit/common/test_utils.py', 'neutron/agent/l3/dvr_edge_router.py']",9,386e7088e8280d7c58100d6082d049df961f0ed0,bug/1814002," to_source = '-s %s/32 -j SNAT --to-source %s' % (fixed_ip, floating_ip) if self.snat_iptables_manager.random_fully: to_source += ' --random-fully' ('float-snat', to_source)]"," ('float-snat', '-s %s/32 -j SNAT --to-source %s' % (fixed_ip, floating_ip))]",121,31
openstack%2Fcinder~master~I0ef2ec959f892acb79d8d08a31d9a8ad47c4350f,openstack/cinder,master,I0ef2ec959f892acb79d8d08a31d9a8ad47c4350f,Unity: Add consistent group support,MERGED,2018-06-11 02:21:57.000000000,2019-06-06 03:55:04.000000000,2019-06-05 04:11:53.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 6491}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18742}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26114}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2018-06-11 02:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6f4940b3cc48d3c76438eb98ae5dd49beeefbf4', 'message': 'Unity: Add cg clone support\n\nThe supported operations are:\n\n- Create/delete consistent groups\n- Add volumes to and remove volumes from consistent groups\n- Create/delete consistent group snapshots\n- Create consistent groups from snapshots\n- Clone consistent groups\n\nImplements: blueprint unity-consistent-group-support\n\nChange-Id: I0ef2ec959f892acb79d8d08a31d9a8ad47c4350f\n'}, {'number': 2, 'created': '2018-06-11 03:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8e4079ce34bcb5019cb2a95c5186baa5c42ced6', 'message': 'Unity: Add consistent group support\n\nThe supported operations are:\n\n- Create/delete consistent groups\n- Add volumes to and remove volumes from consistent groups\n- Create/delete consistent group snapshots\n- Create consistent groups from snapshots\n- Clone consistent groups\n\nImplements: blueprint unity-consistent-group-support\n\nChange-Id: I0ef2ec959f892acb79d8d08a31d9a8ad47c4350f\n'}, {'number': 3, 'created': '2018-07-17 02:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5d6c6b677eae7fb2322321f2f29e35fe3c84c309', 'message': 'Unity: Add consistent group support\n\nThe supported operations are:\n\n- Create/delete consistent groups\n- Add volumes to and remove volumes from consistent groups\n- Create/delete consistent group snapshots\n- Create consistent groups from snapshots\n- Clone consistent groups\n\nImplements: blueprint unity-consistent-group-support\n\nChange-Id: I0ef2ec959f892acb79d8d08a31d9a8ad47c4350f\n'}, {'number': 4, 'created': '2018-07-24 08:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/18b858a61d3d093145132e0a186ec7b6436e4f81', 'message': 'Unity: Add consistent group support\n\nThe supported operations are:\n\n- Create/delete consistent groups\n- Add volumes to and remove volumes from consistent groups\n- Create/delete consistent group snapshots\n- Create consistent groups from snapshots\n- Clone consistent groups\n\nImplements: blueprint unity-consistent-group-support\n\nChange-Id: I0ef2ec959f892acb79d8d08a31d9a8ad47c4350f\n'}, {'number': 5, 'created': '2018-08-09 03:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b4fd7fbc12d8a2b73c35051e71be3c8445960217', 'message': 'Unity: Add consistent group support\n\nThe supported operations are:\n\n- Create/delete consistent groups\n- Add volumes to and remove volumes from consistent groups\n- Create/delete consistent group snapshots\n- Create consistent groups from snapshots\n- Clone consistent groups\n\nImplements: blueprint unity-consistent-group-support\n\nChange-Id: I0ef2ec959f892acb79d8d08a31d9a8ad47c4350f\n'}, {'number': 6, 'created': '2018-10-11 02:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/871f7515559bf961444be724caa108f50056e62a', 'message': 'Unity: Add consistent group support\n\nThe supported operations are:\n\n- Create/delete consistent groups\n- Add volumes to and remove volumes from consistent groups\n- Create/delete consistent group snapshots\n- Create consistent groups from snapshots\n- Clone consistent groups\n\nImplements: blueprint unity-consistent-group-support\n\nChange-Id: I0ef2ec959f892acb79d8d08a31d9a8ad47c4350f\n'}, {'number': 7, 'created': '2019-01-14 02:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dbc0e692a3bb1f285103e89552626670e68bdee4', 'message': 'Unity: Add consistent group support\n\nThe supported operations are:\n\n- Create/delete consistent groups\n- Add volumes to and remove volumes from consistent groups\n- Create/delete consistent group snapshots\n- Create consistent groups from snapshots\n- Clone consistent groups\n\nImplements: blueprint unity-consistent-group-support\n\nChange-Id: I0ef2ec959f892acb79d8d08a31d9a8ad47c4350f\n'}, {'number': 8, 'created': '2019-02-22 03:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b370b338a7e75b5d802e9ea1b0e03c9bf0c99bdb', 'message': ""Unity: Add consistent group support\n\nUsers could create a group type supporting consistent groups with\nspecification `'consistent_group_snapshot_enabled': <is> True`, then any\ngroups created of that group type are consistent groups, otherwise they\nare generic groups.\n\nThe supported operations are:\n\n- Create/delete consistent groups\n- Add volumes to and remove volumes from consistent groups\n- Create/delete consistent group snapshots\n- Create consistent groups from snapshots\n- Clone consistent groups\n\nImplements: blueprint unity-consistent-group-support\n\nChange-Id: I0ef2ec959f892acb79d8d08a31d9a8ad47c4350f\n""}, {'number': 9, 'created': '2019-02-25 03:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff42d6159b7896fcfa46a8c9faa2b7b0d0cb7eb5', 'message': ""Unity: Add consistent group support\n\nUsers could create a group type supporting consistent groups with\nspecification `'consistent_group_snapshot_enabled': <is> True`, then any\ngroups created of that group type are consistent groups, otherwise they\nare generic groups.\n\nThe supported operations are:\n\n- Create/delete consistent groups\n- Add volumes to and remove volumes from consistent groups\n- Create/delete consistent group snapshots\n- Create consistent groups from snapshots\n- Clone consistent groups\n\nThis change also does some refactor and puts extra capabilities report\ntogether in `utils.py`, including the existing\n`thin_provisioning_support`, `thick_provisioning_support` and the newly\none added for cg named `consistent_group_snapshot_enabled`.\n\nImplements: blueprint unity-consistent-group-support\n\nChange-Id: I0ef2ec959f892acb79d8d08a31d9a8ad47c4350f\n""}, {'number': 10, 'created': '2019-02-27 04:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f18195191ac39afd0cc784bd895686600ffbdde7', 'message': ""Unity: Add consistent group support\n\nUsers could create a group type supporting consistent groups with\nspecification `'consistent_group_snapshot_enabled': <is> True`, then any\ngroups created of that group type are consistent groups, otherwise they\nare generic groups.\n\nThe supported operations are:\n\n- Create/delete consistent groups\n- Add volumes to and remove volumes from consistent groups\n- Create/delete consistent group snapshots\n- Create consistent groups from snapshots\n- Clone consistent groups\n\nThis change also does some refactor and puts extra capabilities report\ntogether in `utils.py`, including the existing\n`thin_provisioning_support`, `thick_provisioning_support` and the newly\none added for cg named `consistent_group_snapshot_enabled`.\n\nImplements: blueprint unity-consistent-group-support\n\nChange-Id: I0ef2ec959f892acb79d8d08a31d9a8ad47c4350f\n""}, {'number': 11, 'created': '2019-03-28 03:33:00.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/unity/test_adapter.py', 'doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/dell_emc/unity/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/fake_exception.py', 'cinder/volume/drivers/dell_emc/unity/adapter.py', 'cinder/volume/drivers/dell_emc/unity/driver.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_driver.py', 'cinder/volume/drivers/dell_emc/unity/client.py', 'doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst', 'releasenotes/notes/support-cg-2b55da0bd9f69c7d.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/661a4f121261569e1ce73c3ba19811db2342762d', 'message': ""Unity: Add consistent group support\n\nUsers could create a group type supporting consistent groups with\nspecification `'consistent_group_snapshot_enabled': <is> True`, then any\ngroups created of that group type are consistent groups, otherwise they\nare generic groups.\n\nThe supported operations are:\n\n- Create/delete consistent groups\n- Add volumes to and remove volumes from consistent groups\n- Create/delete consistent group snapshots\n- Create consistent groups from snapshots\n- Clone consistent groups\n\nThis change also does some refactor and puts extra capabilities report\ntogether in `utils.py`, including the existing\n`thin_provisioning_support`, `thick_provisioning_support` and the newly\none added for cg named `consistent_group_snapshot_enabled`.\n\nImplements: blueprint unity-consistent-group-support\n\nChange-Id: I0ef2ec959f892acb79d8d08a31d9a8ad47c4350f\n""}]",16,574119,661a4f121261569e1ce73c3ba19811db2342762d,495,61,11,18742,,,0,"Unity: Add consistent group support

Users could create a group type supporting consistent groups with
specification `'consistent_group_snapshot_enabled': <is> True`, then any
groups created of that group type are consistent groups, otherwise they
are generic groups.

The supported operations are:

- Create/delete consistent groups
- Add volumes to and remove volumes from consistent groups
- Create/delete consistent group snapshots
- Create consistent groups from snapshots
- Clone consistent groups

This change also does some refactor and puts extra capabilities report
together in `utils.py`, including the existing
`thin_provisioning_support`, `thick_provisioning_support` and the newly
one added for cg named `consistent_group_snapshot_enabled`.

Implements: blueprint unity-consistent-group-support

Change-Id: I0ef2ec959f892acb79d8d08a31d9a8ad47c4350f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/574119/7 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/unity/test_adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/fake_exception.py', 'cinder/volume/drivers/dell_emc/unity/utils.py', 'cinder/volume/drivers/dell_emc/unity/adapter.py', 'cinder/volume/drivers/dell_emc/unity/driver.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_driver.py', 'cinder/volume/drivers/dell_emc/unity/client.py', 'doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst', 'releasenotes/notes/support-cg-2b55da0bd9f69c7d.yaml']",10,c6f4940b3cc48d3c76438eb98ae5dd49beeefbf4,bp/unity-consistent-group-support,"--- features: - | Dell EMC Unity driver: Add consistent group support. The supported operations are: create/delete consistent groups, add volumes to and remove volumes from consistent groups, create/delete consistent group snapshots, create consistent groups from snapshots, clone consistent groups. ",,878,28
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ida2011b2ad0858d479b2c7d7988e1b5b908f4b3e,openstack/tripleo-heat-templates,stable/rocky,Ida2011b2ad0858d479b2c7d7988e1b5b908f4b3e,Set TenantNetPhysnetMtu to 0 to allow different MTUs,MERGED,2019-06-05 18:48:34.000000000,2019-06-06 03:40:29.000000000,2019-06-06 03:40:28.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23294}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-06-05 18:48:34.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42695fbd95bbbcc247886e62e971dd6eb786179d', 'message': 'Set TenantNetPhysnetMtu to 0 to allow different MTUs\n\nI5e60d52ad571e1cdb3b82cd1d9947e33fa682bf8 changed the default value that\nwas being used to honor the TenantNetPhysnetMtu if the\nNeutronGlobalPhysnetMtu is set to 0 (the default).  For the undercloud\nwe want this value to be 0 so we can define overcloud networks with\n>1500 MTU even if the undercloud is set to 1500.\n\nChange-Id: Ida2011b2ad0858d479b2c7d7988e1b5b908f4b3e\nCloses-Bug: #1826729\n(cherry picked from commit d6b08579abbe27e2cd58ef83f95a7a1a115c9c96)\n'}]",0,663400,42695fbd95bbbcc247886e62e971dd6eb786179d,9,5,1,14985,,,0,"Set TenantNetPhysnetMtu to 0 to allow different MTUs

I5e60d52ad571e1cdb3b82cd1d9947e33fa682bf8 changed the default value that
was being used to honor the TenantNetPhysnetMtu if the
NeutronGlobalPhysnetMtu is set to 0 (the default).  For the undercloud
we want this value to be 0 so we can define overcloud networks with
>1500 MTU even if the undercloud is set to 1500.

Change-Id: Ida2011b2ad0858d479b2c7d7988e1b5b908f4b3e
Closes-Bug: #1826729
(cherry picked from commit d6b08579abbe27e2cd58ef83f95a7a1a115c9c96)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/663400/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,42695fbd95bbbcc247886e62e971dd6eb786179d,bug/1826729-stable/rocky, # This allows MTU > 1500 for the overcloud if local_mtu is set to 1500 # See LP#1826729 TenantNetPhysnetMtu: 0,,3,0
openstack%2Fhorizon~master~I662e5ca2bc4e36377cf9044d1f2759bbf6cbb555,openstack/horizon,master,I662e5ca2bc4e36377cf9044d1f2759bbf6cbb555,Disable add rules button when quotas are exceeded in security rule panel,MERGED,2019-04-17 08:15:29.000000000,2019-06-06 03:13:14.000000000,2019-06-06 03:13:13.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 23294}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-04-17 08:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/765f1e9bbe860e8e5c5187d92a459124f6adf01d', 'message': 'Disable add rules button when quotas are exceeded in security rule panel\n\nChange-Id: I662e5ca2bc4e36377cf9044d1f2759bbf6cbb555\n'}, {'number': 2, 'created': '2019-04-18 08:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ff54a25e493d24afb94824b877253184aa7044f8', 'message': 'Disable add rules button when quotas are exceeded in security rule panel\n\nChange-Id: I662e5ca2bc4e36377cf9044d1f2759bbf6cbb555\n'}, {'number': 3, 'created': '2019-04-18 08:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6653ce95021b37999c9ca1c5a211932df16f1826', 'message': 'Disable add rules button when quotas are exceeded in security rule panel\n\nChange-Id: I662e5ca2bc4e36377cf9044d1f2759bbf6cbb555\nCloses-Bug: #1825314\n'}, {'number': 4, 'created': '2019-05-30 01:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1fa9d35459722e6543eb4ce359f136d879a4afe9', 'message': 'Disable add rules button when quotas are exceeded in security rule panel\n\nChange-Id: I662e5ca2bc4e36377cf9044d1f2759bbf6cbb555\nCloses-Bug: #1825314\n'}, {'number': 5, 'created': '2019-05-30 06:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/dbb6bf04b37e6741cc13239ccbd1b92e4b562701', 'message': 'Disable add rules button when quotas are exceeded in security rule panel\n\nChange-Id: I662e5ca2bc4e36377cf9044d1f2759bbf6cbb555\nCloses-Bug: #1825314\n'}, {'number': 6, 'created': '2019-05-30 08:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/395ef44e41d853e48c4c45f756bde9513127658a', 'message': 'Disable add rules button when quotas are exceeded in security rule panel\n\nChange-Id: I662e5ca2bc4e36377cf9044d1f2759bbf6cbb555\nCloses-Bug: #1825314\n'}, {'number': 7, 'created': '2019-06-03 01:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/94d0db78d2729916d5724054913a908963533c79', 'message': 'Disable add rules button when quotas are exceeded in security rule panel\n\nChange-Id: I662e5ca2bc4e36377cf9044d1f2759bbf6cbb555\nCloses-Bug: #1825314\n'}, {'number': 8, 'created': '2019-06-03 06:09:52.000000000', 'files': ['openstack_dashboard/dashboards/project/security_groups/tables.py', 'openstack_dashboard/dashboards/project/security_groups/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e13b74e4a27f0aee25f2efa24646bfaf00f8bee4', 'message': 'Disable add rules button when quotas are exceeded in security rule panel\n\nChange-Id: I662e5ca2bc4e36377cf9044d1f2759bbf6cbb555\nCloses-Bug: #1825314\n'}]",4,653348,e13b74e4a27f0aee25f2efa24646bfaf00f8bee4,34,6,8,27822,,,0,"Disable add rules button when quotas are exceeded in security rule panel

Change-Id: I662e5ca2bc4e36377cf9044d1f2759bbf6cbb555
Closes-Bug: #1825314
",git fetch https://review.opendev.org/openstack/horizon refs/changes/48/653348/8 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/security_groups/tables.py'],1,765f1e9bbe860e8e5c5187d92a459124f6adf01d,bug/1825314," def allowed(self, request, security_group=None): usages = quotas.tenant_quota_usages(request, targets=('security_group_rule', )) if usages['security_group_rule'].get('available', 1) <= 0: if ""disabled"" not in self.classes: self.classes = [c for c in self.classes] + [""disabled""] self.verbose_name = _(""Add Rule (Quota exceeded)"") else: self.verbose_name = _(""Add Rule"") self.classes = [c for c in self.classes if c != ""disabled""] return True ",,13,0
openstack%2Fopenstack-ansible-os_barbican~master~I722a0464c2ffe1930bbd14c9397eeae2dc0f4d89,openstack/openstack-ansible-os_barbican,master,I722a0464c2ffe1930bbd14c9397eeae2dc0f4d89,db_setup: refactor database setup to a common file,MERGED,2019-06-03 19:18:41.000000000,2019-06-06 02:58:02.000000000,2019-06-06 02:58:01.000000000,"[{'_account_id': 1004}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-03 19:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/c2703549af10ba4f07a2fdac4843f899c9afbd73', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: I722a0464c2ffe1930bbd14c9397eeae2dc0f4d89\n'}, {'number': 2, 'created': '2019-06-04 02:18:56.000000000', 'files': ['tasks/barbican_db_sync.yml', 'tasks/main.yml', 'tasks/db_setup.yml', 'tasks/barbican_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/e25fed9f51e59bc2c008178b659ab304dbcb49f6', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: I722a0464c2ffe1930bbd14c9397eeae2dc0f4d89\n'}]",0,662832,e25fed9f51e59bc2c008178b659ab304dbcb49f6,9,3,2,28008,,,0,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Change-Id: I722a0464c2ffe1930bbd14c9397eeae2dc0f4d89
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/32/662832/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/barbican_db_sync.yml', 'tasks/main.yml', 'tasks/db_setup.yml', 'tasks/barbican_db_setup.yml']",4,c2703549af10ba4f07a2fdac4843f899c9afbd73,osa/db-refactor,,"--- # Copyright 2016, Ian Cordasco # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Create DB for service mysql_db: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ barbican_galera_address }}"" name: ""{{ barbican_galera_database }}"" state: ""present"" delegate_to: ""{{ barbican_db_setup_host }}"" no_log: True - name: Grant access to the DB for the service mysql_user: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ barbican_galera_address }}"" name: ""{{ barbican_galera_user }}"" password: ""{{ barbican_galera_password }}"" host: ""{{ item }}"" state: ""present"" priv: ""{{ barbican_galera_database }}.*:ALL"" delegate_to: ""{{ barbican_db_setup_host }}"" with_items: - ""localhost"" - ""%"" no_log: True - name: Perform a synchronization of the Barbican database command: ""{{ barbican_bin }}/barbican-manage db upgrade"" become: yes become_user: ""{{ barbican_system_user_name }}"" changed_when: false ",94,65
openstack%2Fopenstack-ansible-os_designate~master~I51d103ef054a5018b5c2e3dd2c1f34cd1a4f9cc2,openstack/openstack-ansible-os_designate,master,I51d103ef054a5018b5c2e3dd2c1f34cd1a4f9cc2,db_setup: refactor database setup to a common file,MERGED,2019-06-03 19:38:42.000000000,2019-06-06 02:56:42.000000000,2019-06-06 02:56:42.000000000,"[{'_account_id': 1004}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-03 19:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/c37f003e11994adf0b99c762764ecbc32210eb87', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: I51d103ef054a5018b5c2e3dd2c1f34cd1a4f9cc2\n'}, {'number': 2, 'created': '2019-06-04 02:19:31.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/designate_db_setup.yml', 'tasks/designate_db_sync.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/7e5a171d2e5f87067e6d50d84eebc7033a74d394', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: I51d103ef054a5018b5c2e3dd2c1f34cd1a4f9cc2\n'}]",0,662839,7e5a171d2e5f87067e6d50d84eebc7033a74d394,9,3,2,28008,,,0,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Change-Id: I51d103ef054a5018b5c2e3dd2c1f34cd1a4f9cc2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/39/662839/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/designate_db_setup.yml', 'tasks/designate_db_sync.yml']",4,c37f003e11994adf0b99c762764ecbc32210eb87,osa/db-refactor,"--- # Copyright 2016, Tata Consultancy Services # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Perform a Designate DB sync command: ""{{ designate_bin }}/designate-manage database sync"" become: yes become_user: ""{{ designate_system_user_name }}"" changed_when: false - name: Perform a Designate DNS pools update command: ""{{ designate_bin }}/designate-manage pool update"" become: yes become_user: ""{{ designate_system_user_name }}"" changed_when: false when: designate_pools_yaml is defined notify: Restart designate services ",,105,75
openstack%2Fopenstack-ansible-os_magnum~master~I2a955bfc34d37eb30f29c07592854f893f15b619,openstack/openstack-ansible-os_magnum,master,I2a955bfc34d37eb30f29c07592854f893f15b619,db_setup: refactor database setup to a common file,MERGED,2019-06-04 02:37:59.000000000,2019-06-06 02:53:43.000000000,2019-06-06 02:53:43.000000000,"[{'_account_id': 1004}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 02:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/cb78f63fbd0987f7eb2775825c066101ea291f59', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: I2a955bfc34d37eb30f29c07592854f893f15b619\n'}, {'number': 2, 'created': '2019-06-04 12:45:16.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/magnum_db_setup.yml', 'tasks/magnum_db_sync.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/07392c289449e847da4f2237be0d0ca67efca7e9', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: I2a955bfc34d37eb30f29c07592854f893f15b619\n'}]",0,662909,07392c289449e847da4f2237be0d0ca67efca7e9,9,3,2,28008,,,0,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Change-Id: I2a955bfc34d37eb30f29c07592854f893f15b619
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/09/662909/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/magnum_db_setup.yml', 'tasks/magnum_db_sync.yml']",4,cb78f63fbd0987f7eb2775825c066101ea291f59,osa/db-refactor,"--- # Copyright 2016, Ian Cordasco # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Perform a synchronization of the Magnum database command: ""{{ magnum_bin}}/magnum-db-manage upgrade"" become: yes become_user: ""{{ magnum_system_user_name }}"" changed_when: false ",,95,66
openstack%2Fopenstack-ansible-os_heat~master~Ife10587bb82cd56c3d537c510f35962a9b8276d9,openstack/openstack-ansible-os_heat,master,Ife10587bb82cd56c3d537c510f35962a9b8276d9,db_setup: refactor database setup to a common file,MERGED,2019-06-03 19:50:24.000000000,2019-06-06 02:53:37.000000000,2019-06-06 02:53:37.000000000,"[{'_account_id': 1004}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-03 19:50:24.000000000', 'files': ['tasks/heat_db_setup.yml', 'tasks/heat_db_sync.yml', 'tasks/main.yml', 'tasks/db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/d759c870f63da74511e7fee135a8c4e4ba2ccfee', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: Ife10587bb82cd56c3d537c510f35962a9b8276d9\n'}]",0,662843,d759c870f63da74511e7fee135a8c4e4ba2ccfee,7,3,1,28008,,,0,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Change-Id: Ife10587bb82cd56c3d537c510f35962a9b8276d9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/43/662843/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/heat_db_setup.yml', 'tasks/heat_db_sync.yml', 'tasks/main.yml', 'tasks/db_setup.yml']",4,d759c870f63da74511e7fee135a8c4e4ba2ccfee,osa/db-refactor,"--- # Copyright 2019, VEXXHOST, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://git.openstack.org/cgit/openstack/openstack-ansible-tests/tree/sync/tasks/db_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup Database Service (MariaDB) delegate_to: ""{{ _oslodb_setup_host }}"" tags: - common-mariadb block: - name: Create database for service mysql_db: name: ""{{ item.name }}"" loop: ""{{ _oslodb_databases }}"" - name: Grant access to the database for the service mysql_user: name: ""{{ item.1.username }}"" password: ""{{ item.1.password }}"" host: ""{{ item.1.host | default('%') }}"" priv: ""{{ item.0.name }}.*:{{ item.1.priv | default('ALL') }}"" append_privs: yes loop: ""{{ _oslodb_databases | subelements('users') }}"" no_log: true ",,96,66
openstack%2Fopenstack-ansible-os_cloudkitty~master~I1aa03e1327c7e90fbc30f88f137dda26700a0683,openstack/openstack-ansible-os_cloudkitty,master,I1aa03e1327c7e90fbc30f88f137dda26700a0683,db_setup: refactor database setup to a common file,MERGED,2019-06-03 19:25:36.000000000,2019-06-06 02:40:13.000000000,2019-06-06 02:40:13.000000000,"[{'_account_id': 1004}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-03 19:25:36.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/cloudkitty_db_sync.yml', 'tasks/cloudkitty_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/d9e345b8d2fa8e45c97259e34442a6c1e067b31b', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: I1aa03e1327c7e90fbc30f88f137dda26700a0683\n'}]",0,662834,d9e345b8d2fa8e45c97259e34442a6c1e067b31b,7,3,1,28008,,,0,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Change-Id: I1aa03e1327c7e90fbc30f88f137dda26700a0683
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/34/662834/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/cloudkitty_db_sync.yml', 'tasks/db_setup.yml', 'tasks/cloudkitty_db_setup.yml']",4,d9e345b8d2fa8e45c97259e34442a6c1e067b31b,osa/db-refactor,,"--- # Copyright 2016, Rackspace US, Inc. # # (C) 2016 Michael Rice <michael.rice@rackspace.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Create DB for service mysql_db: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ cloudkitty_galera_address }}"" name: ""{{ cloudkitty_galera_database }}"" state: ""present"" delegate_to: ""{{ cloudkitty_db_setup_host }}"" no_log: true tags: - cloudkitty-db-setup - name: Grant access to the DB for the service mysql_user: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ cloudkitty_galera_address }}"" name: ""{{ cloudkitty_galera_user }}"" password: ""{{ cloudkitty_container_mysql_password }}"" host: ""{{ item }}"" state: ""present"" priv: ""{{ cloudkitty_galera_database }}.*:ALL"" delegate_to: ""{{ cloudkitty_db_setup_host }}"" no_log: true with_items: - ""localhost"" - ""%"" tags: - cloudkitty-db-setup - name: Perform a cloudkitty DB sync command: ""{{ cloudkitty_bin }}/cloudkitty-dbsync upgrade"" become: yes become_user: ""{{ cloudkitty_system_user_name }}"" changed_when: false tags: - cloudkitty-db-sync - cloudkitty-setup - cloudkitty-command-bin - name: Init cloudkitty storage backend command: ""{{ cloudkitty_bin }}/cloudkitty-storage-init"" become: yes become_user: ""{{ cloudkitty_system_user_name }}"" changed_when: false tags: - cloudkitty-db-sync - cloudkitty-setup - cloudkitty-command-bin ",110,85
openstack%2Fopenstack-ansible-os_glance~master~I24e7a05372b6b1831529c620d3346889d5505f09,openstack/openstack-ansible-os_glance,master,I24e7a05372b6b1831529c620d3346889d5505f09,Fix distro installs on Ubuntu,MERGED,2019-05-31 20:49:15.000000000,2019-06-06 02:39:29.000000000,2019-06-05 21:50:29.000000000,"[{'_account_id': 14805}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-05-31 20:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/07b8248160fca0fe5cf91ae18a24191a47bf8f0f', 'message': 'Fix distro installs on Ubuntu\n\nBeginning in the Stein release, Ubuntu distro packages are now using\nPython3. This requires additionally installing and using the uwsgi\npython3 plugin.\n\nChange-Id: I24e7a05372b6b1831529c620d3346889d5505f09\n'}, {'number': 2, 'created': '2019-06-04 17:20:53.000000000', 'files': ['templates/glance-uwsgi.ini.j2', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/e45c741f5b2c1c975bebf8f5097476e9d9727d3e', 'message': ""Fix distro installs on Ubuntu\n\nBeginning in the Stein release, Ubuntu distro packages are now using\nPython3. This requires additionally installing and using the uwsgi\npython3 plugin.\n\nInstall the 'python3-glance' package instead of 'glance-api'. glance-api\nprovides a service config file that conflicts with the one OSA provides.\n\nChange-Id: I24e7a05372b6b1831529c620d3346889d5505f09\n""}]",0,662575,e45c741f5b2c1c975bebf8f5097476e9d9727d3e,18,4,2,14805,,,0,"Fix distro installs on Ubuntu

Beginning in the Stein release, Ubuntu distro packages are now using
Python3. This requires additionally installing and using the uwsgi
python3 plugin.

Install the 'python3-glance' package instead of 'glance-api'. glance-api
provides a service config file that conflicts with the one OSA provides.

Change-Id: I24e7a05372b6b1831529c620d3346889d5505f09
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/75/662575/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/glance-uwsgi.ini.j2', 'vars/debian.yml']",2,07b8248160fca0fe5cf91ae18a24191a47bf8f0f,ubuntu-distro-install, - uwsgi-plugin-python3, - uwsgi-plugin-python,4,1
openstack%2Fkolla-ansible~master~I52de6e041bbc4c316d332cbedeca924a7f3c7346,openstack/kolla-ansible,master,I52de6e041bbc4c316d332cbedeca924a7f3c7346,runonce: do not set hw_firmware_type=uefi,MERGED,2019-06-04 06:59:07.000000000,2019-06-06 02:37:50.000000000,2019-06-06 02:37:50.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-04 06:59:07.000000000', 'files': ['tools/init-runonce'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/df5a5b65785fa297ddc9ccb3bec06ece782220f0', 'message': 'runonce: do not set hw_firmware_type=uefi\n\nWe made it default in Queens.\n\nChange-Id: I52de6e041bbc4c316d332cbedeca924a7f3c7346\n'}]",0,662942,df5a5b65785fa297ddc9ccb3bec06ece782220f0,9,7,1,24072,,,0,"runonce: do not set hw_firmware_type=uefi

We made it default in Queens.

Change-Id: I52de6e041bbc4c316d332cbedeca924a7f3c7346
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/662942/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/init-runonce'],1,df5a5b65785fa297ddc9ccb3bec06ece782220f0,, --property os_type=${IMAGE_TYPE} --file ${IMAGE_PATH}/${IMAGE} ${IMAGE_NAME},"EXTRA_PROPERTIES= if [ ${ARCH} == aarch64 ]; then EXTRA_PROPERTIES=""--property hw_firmware_type=uefi"" fi --property os_type=${IMAGE_TYPE} ${EXTRA_PROPERTIES} --file ${IMAGE_PATH}/${IMAGE} ${IMAGE_NAME}",1,6
openstack%2Fopenstack-ansible-os_congress~master~Iab25fcbd8f0f9a16a2f9fe3c400ab1cc843d01d0,openstack/openstack-ansible-os_congress,master,Iab25fcbd8f0f9a16a2f9fe3c400ab1cc843d01d0,db_setup: refactor database setup to a common file,MERGED,2019-06-03 19:32:10.000000000,2019-06-06 02:36:06.000000000,2019-06-06 02:36:06.000000000,"[{'_account_id': 1004}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-03 19:32:10.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/congress_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/7ae1717fee38bbe8554474c51007b806aaa8f0b7', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: Iab25fcbd8f0f9a16a2f9fe3c400ab1cc843d01d0\n'}]",0,662836,7ae1717fee38bbe8554474c51007b806aaa8f0b7,7,3,1,28008,,,0,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Change-Id: Iab25fcbd8f0f9a16a2f9fe3c400ab1cc843d01d0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_congress refs/changes/36/662836/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/congress_db_setup.yml']",3,7ae1717fee38bbe8554474c51007b806aaa8f0b7,osa/db-refactor,,"- name: Create DB for service mysql_db: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ congress_galera_address }}"" name: ""{{ congress_galera_database }}"" state: ""present"" delegate_to: ""{{ congress_db_setup_host }}"" no_log: True - name: Grant access to the DB for the service mysql_user: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ congress_galera_address }}"" name: ""{{ congress_galera_user }}"" password: ""{{ congress_container_mysql_password }}"" host: ""{{ item }}"" state: ""present"" priv: ""{{ congress_galera_database }}.*:ALL"" delegate_to: ""{{ congress_db_setup_host }}"" with_items: - ""localhost"" - ""%"" no_log: True ",73,44
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fpike~I4fa838706f1163fd68ff68258bfc66cbf13bad94,openstack/openstack-ansible-lxc_hosts,stable/pike,I4fa838706f1163fd68ff68258bfc66cbf13bad94,Use pkill for lxc-dnsmasq systemd unit file,MERGED,2019-04-12 17:55:23.000000000,2019-06-06 02:30:26.000000000,2019-06-06 02:30:26.000000000,"[{'_account_id': 290}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-04-12 17:55:23.000000000', 'files': ['templates/lxc-dnsmasq-systemd-init.j2', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/107c55ca1c433be395392caf9f513f547f88f257', 'message': ""Use pkill for lxc-dnsmasq systemd unit file\n\nPreviously psmisc was not installed by default, causing\nthe killall in the lxc-dnsmasq systemd unit file to\nsilently fail if killall wasn't found.  This prevented\nrunning instances of dnsmasq to be torn down when\nrestarting the service.\n\nThis would exhibit as a problem during upgrades as\nthe older dnsmasq service would be running and the\nnew service would be unable to take over the port.\nThis would cause lxc containers to lose connectivity.\n\nThis commit switches to using pkill and ensures procps\nis always installed by default.\n\nChange-Id: I4fa838706f1163fd68ff68258bfc66cbf13bad94\n""}]",0,652123,107c55ca1c433be395392caf9f513f547f88f257,13,4,1,290,,,0,"Use pkill for lxc-dnsmasq systemd unit file

Previously psmisc was not installed by default, causing
the killall in the lxc-dnsmasq systemd unit file to
silently fail if killall wasn't found.  This prevented
running instances of dnsmasq to be torn down when
restarting the service.

This would exhibit as a problem during upgrades as
the older dnsmasq service would be running and the
new service would be unable to take over the port.
This would cause lxc containers to lose connectivity.

This commit switches to using pkill and ensures procps
is always installed by default.

Change-Id: I4fa838706f1163fd68ff68258bfc66cbf13bad94
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/23/652123/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/lxc-dnsmasq-systemd-init.j2', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml']",4,107c55ca1c433be395392caf9f513f547f88f257,dnsmasq_pkill_pike, - procps,,4,1
openstack%2Fopenstack-ansible~master~Ic8761baebdd95b1d6ab5be71e1716f5484995a37,openstack/openstack-ansible,master,Ic8761baebdd95b1d6ab5be71e1716f5484995a37,[DOCS] Fix extra quote in major-upgrades.html,MERGED,2019-06-03 11:20:37.000000000,2019-06-06 02:24:03.000000000,2019-06-06 02:24:02.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-03 11:20:37.000000000', 'files': ['doc/source/admin/upgrades/major-upgrades.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/65fd50908e6b2ad6b6819620d592dbf77ee65935', 'message': '[DOCS] Fix extra quote in major-upgrades.html\n\nThis patch addresses an extra double-quote in a command that would result\nin the command not being executed properly.\n\nChange-Id: Ic8761baebdd95b1d6ab5be71e1716f5484995a37\nCloses-Bug: 1831439\n'}]",0,662736,65fd50908e6b2ad6b6819620d592dbf77ee65935,7,3,1,16011,,,0,"[DOCS] Fix extra quote in major-upgrades.html

This patch addresses an extra double-quote in a command that would result
in the command not being executed properly.

Change-Id: Ic8761baebdd95b1d6ab5be71e1716f5484995a37
Closes-Bug: 1831439
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/36/662736/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/upgrades/major-upgrades.rst'],1,65fd50908e6b2ad6b6819620d592dbf77ee65935,bug/1831439," # openstack-ansible ""${SCRIPTS_PATH}/upgrade-utilities/pip-conf-removal.yml"""," # openstack-ansible """"${SCRIPTS_PATH}/upgrade-utilities/pip-conf-removal.yml""",1,1
openstack%2Ftripleo-heat-templates~master~I60e4fe26a67be2c5f74b605d076efdaddcbce5ca,openstack/tripleo-heat-templates,master,I60e4fe26a67be2c5f74b605d076efdaddcbce5ca,Configure Neutron API for Nova Placement...,MERGED,2019-06-05 13:41:38.000000000,2019-06-06 02:22:04.000000000,2019-06-06 02:10:01.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-06-05 13:41:38.000000000', 'files': ['releasenotes/notes/neutron-placement-6ea6de89bd30b592.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e11de618e199b55194dcc686b365dcd5aaeb66a', 'message': ""Configure Neutron API for Nova Placement...\n\n...to store Keystone authentication credentials. When the\nNeutron Routed Provider Networks feature is used in the\novercloud, the Networking service will use those credentials\nto communicate with the Compute scheduler's placement API.\n\nSee for details:\nhttps://docs.openstack.org/neutron/latest/admin/config-routed-networks.html#example-configuration\n\nAuthored-By: Bogdan Dobrelya <bdobreli@redhat.com>\nCo-Authored-By: Harald Jenss <hjensas@redhat.com>\nCloses-Bug: #1831745\nRelated-blueprint: tripleo-routed-networks-deployment\nChange-Id: I60e4fe26a67be2c5f74b605d076efdaddcbce5ca\n""}]",0,663335,0e11de618e199b55194dcc686b365dcd5aaeb66a,11,7,1,24245,,,0,"Configure Neutron API for Nova Placement...

...to store Keystone authentication credentials. When the
Neutron Routed Provider Networks feature is used in the
overcloud, the Networking service will use those credentials
to communicate with the Compute scheduler's placement API.

See for details:
https://docs.openstack.org/neutron/latest/admin/config-routed-networks.html#example-configuration

Authored-By: Bogdan Dobrelya <bdobreli@redhat.com>
Co-Authored-By: Harald Jenss <hjensas@redhat.com>
Closes-Bug: #1831745
Related-blueprint: tripleo-routed-networks-deployment
Change-Id: I60e4fe26a67be2c5f74b605d076efdaddcbce5ca
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/663335/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/neutron-placement-6ea6de89bd30b592.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml']",2,0e11de618e199b55194dcc686b365dcd5aaeb66a,bp/tripleo-routed-networks-deployment," placement: neutron::server::placement::www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} neutron::server::placement::project_domain_name: 'Default' neutron::server::placement::project_name: 'service' neutron::server::placement::user_domain_name: 'Default' neutron::server::placement::password: {get_param: NovaPassword} neutron::server::placement::username: nova neutron::server::placement::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} neutron::server::placement::auth_type: 'password' neutron::server::placement::region_name: {get_param: KeystoneRegion}",,18,0
openstack%2Ftripleo-common~master~Idc13a88481ae618f0321009f49acf71e68258b95,openstack/tripleo-common,master,Idc13a88481ae618f0321009f49acf71e68258b95,Add deployed-server bootstrap tasks to tripleo-bootstrap,MERGED,2019-05-20 21:26:17.000000000,2019-06-06 02:19:26.000000000,2019-06-06 02:19:26.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-20 21:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/da8224fd800130c756b7b6bb8a7c5539481af6fa', 'message': 'Add deployed-server bootstrap tasks to tripleo-bootstrap\n\nThis commit adds the equivalent ansible tasks from the deployed-server\nbootstrap resources[1] so that we can move towards eliminating those\nresources from the Heat templates.\n\n[1]\nhttps://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployed-server/deployed-server-bootstrap-centos.sh\nhttps://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployed-server/deployed-server-bootstrap-rhel.sh\n\nChange-Id: Idc13a88481ae618f0321009f49acf71e68258b95\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 2, 'created': '2019-05-22 17:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/564cc821fd3b0669712a552bec1593a20eaae24e', 'message': 'Add deployed-server bootstrap tasks to tripleo-bootstrap\n\nThis commit adds the equivalent ansible tasks from the deployed-server\nbootstrap resources[1] so that we can move towards eliminating those\nresources from the Heat templates.\n\n[1]\nhttps://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployed-server/deployed-server-bootstrap-centos.sh\nhttps://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployed-server/deployed-server-bootstrap-rhel.sh\n\nChange-Id: Idc13a88481ae618f0321009f49acf71e68258b95\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 3, 'created': '2019-05-29 00:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7b4ec456eec6676868bf615dfe6b436d29a7afcc', 'message': 'Add deployed-server bootstrap tasks to tripleo-bootstrap\n\nThis commit adds the equivalent ansible tasks from the deployed-server\nbootstrap resources[1] so that we can move towards eliminating those\nresources from the Heat templates.\n\n[1]\nhttps://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployed-server/deployed-server-bootstrap-centos.sh\nhttps://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployed-server/deployed-server-bootstrap-rhel.sh\n\nChange-Id: Idc13a88481ae618f0321009f49acf71e68258b95\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 4, 'created': '2019-05-29 17:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1cf6248dee402afdaa26f7fdcd7e42b52317ab53', 'message': 'Add deployed-server bootstrap tasks to tripleo-bootstrap\n\nThis commit adds the equivalent ansible tasks from the deployed-server\nbootstrap resources[1] so that we can move towards eliminating those\nresources from the Heat templates.\n\n[1]\nhttps://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployed-server/deployed-server-bootstrap-centos.sh\nhttps://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployed-server/deployed-server-bootstrap-rhel.sh\n\nChange-Id: Idc13a88481ae618f0321009f49acf71e68258b95\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 5, 'created': '2019-05-29 21:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/540fd00078e2867db346bf4d8bdea1831d1372ac', 'message': 'Add deployed-server bootstrap tasks to tripleo-bootstrap\n\nThis commit adds the equivalent ansible tasks from the deployed-server\nbootstrap resources[1] so that we can move towards eliminating those\nresources from the Heat templates.\n\n[1]\nhttps://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployed-server/deployed-server-bootstrap-centos.sh\nhttps://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployed-server/deployed-server-bootstrap-rhel.sh\n\nChange-Id: Idc13a88481ae618f0321009f49acf71e68258b95\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 6, 'created': '2019-05-30 18:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7f747bb6f3a8a39533168edbd545ed136bae8e8d', 'message': 'Add deployed-server bootstrap tasks to tripleo-bootstrap\n\nThis commit adds the equivalent ansible tasks from the deployed-server\nbootstrap resources[1] so that we can move towards eliminating those\nresources from the Heat templates.\n\n[1]\nhttps://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployed-server/deployed-server-bootstrap-centos.sh\nhttps://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployed-server/deployed-server-bootstrap-rhel.sh\n\nChange-Id: Idc13a88481ae618f0321009f49acf71e68258b95\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 7, 'created': '2019-05-30 23:48:08.000000000', 'files': ['roles/tripleo-bootstrap/defaults/main.yml', 'roles/tripleo-bootstrap/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b4d13dc8f245974205996043a7bfd13b64c60512', 'message': 'Add deployed-server bootstrap tasks to tripleo-bootstrap\n\nThis commit adds the equivalent ansible tasks from the deployed-server\nbootstrap resources[1] so that we can move towards eliminating those\nresources from the Heat templates.\n\n[1]\nhttps://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployed-server/deployed-server-bootstrap-centos.sh\nhttps://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployed-server/deployed-server-bootstrap-rhel.sh\n\nChange-Id: Idc13a88481ae618f0321009f49acf71e68258b95\nimplements: blueprint reduce-deployment-resources\n'}]",0,660212,b4d13dc8f245974205996043a7bfd13b64c60512,31,4,7,7144,,,0,"Add deployed-server bootstrap tasks to tripleo-bootstrap

This commit adds the equivalent ansible tasks from the deployed-server
bootstrap resources[1] so that we can move towards eliminating those
resources from the Heat templates.

[1]
https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployed-server/deployed-server-bootstrap-centos.sh
https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployed-server/deployed-server-bootstrap-rhel.sh

Change-Id: Idc13a88481ae618f0321009f49acf71e68258b95
implements: blueprint reduce-deployment-resources
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/12/660212/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-bootstrap/defaults/main.yml', 'roles/tripleo-bootstrap/tasks/main.yml']",2,da8224fd800130c756b7b6bb8a7c5539481af6fa,bp/reduce-deployment-resources," - name: Find all installed puppet modules under /usr/share/openstack-puppet/modules find: paths: - /usr/share/openstack-puppet/modules file_type: directory register: find_openstack_puppet_modules - name: Symlink puppet modules under /etc/puppet/modules file: state: link src: ""{{ item.path }}"" path: ""/etc/puppet/modules/{{ item.path | basename }}"" loop: ""{{ find_openstack_puppet_modules.files }}"" loop_control: label: ""/etc/puppet/modules/{{ item.path | basename }} -> {{ item.path }}"" - name: Create empty ruleset in /etc/sysconfig/iptables and /etc/sysconfig/ip6tables copy: dest: ""{{ item }}"" content: ""# empty ruleset created by deployed-server bootstrap"" loop: - /etc/sysconfig/iptables - /etc/sysconfig/ip6tables - name: Check if /usr/bin/ansible-playbook exists stat: path: /usr/bin/ansible-playbook register: stat_ansible_playbook - name: Check if /usr/bin/ansible-playbook-3 exists stat: path: /usr/bin/ansible-playbook-3 register: stat_ansible_playbook_3 - name: Symlink /usr/local/bin/ansible-playbook to /usr/bin/ansible-playbook-3 file: state: link src: /usr/bin/ansible-playbook-3 path: /usr/local/bin/ansible-playbook when: - not stat_ansible_playbook.stat.exists - stat_ansible_playbook_3.stat.exists - name: Symlink /usr/local/bin/ansible-playbook-3 to /usr/bin/ansible-playbook file: state: link src: /usr/bin/ansible-playbook path: /usr/local/bin/ansible-playbook-3 when: - stat_ansible_playbook.stat.exists - not stat_ansible_playbook_3.stat.exists",,58,0
openstack%2Ftripleo-heat-templates~master~Ic174699ef038ca3028c21a49373658a5d43844f6,openstack/tripleo-heat-templates,master,Ic174699ef038ca3028c21a49373658a5d43844f6,Use ansible for AllNodesDeployment,MERGED,2019-05-14 19:48:12.000000000,2019-06-06 02:19:25.000000000,2019-06-06 02:19:25.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-14 19:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/923e81025d5b8c8ef0ef6bda0c6945344f593f8d', 'message': 'Use ansible for AllNodesDeployment\n\nReplaces the SoftwareDeployment resource for AllNodesDeployment with the\nusage of the new tripleo-hieradata role.\n\nChange-Id: Ic174699ef038ca3028c21a49373658a5d43844f6\nDepends-On: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7\n'}, {'number': 2, 'created': '2019-05-20 12:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2c8e3d98d21d0c8a9b293929cbc883303d940ef4', 'message': 'Use ansible for AllNodesDeployment\n\nReplaces the SoftwareDeployment resource for AllNodesDeployment with the\nusage of the new tripleo-hieradata role.\n\nChange-Id: Ic174699ef038ca3028c21a49373658a5d43844f6\nDepends-On: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 3, 'created': '2019-05-22 19:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e2465268dd35f3975a7dc4447f9c2ec1bcbe3f51', 'message': 'Use ansible for AllNodesDeployment\n\nReplaces the SoftwareDeployment resource for AllNodesDeployment with the\nusage of the new tripleo-hieradata role.\n\nChange-Id: Ic174699ef038ca3028c21a49373658a5d43844f6\nDepends-On: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 4, 'created': '2019-05-29 00:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/51cd8628efe70160060aa7e998381c751c09a9ac', 'message': 'Use ansible for AllNodesDeployment\n\nReplaces the SoftwareDeployment resource for AllNodesDeployment with the\nusage of the new tripleo-hieradata role.\n\nChange-Id: Ic174699ef038ca3028c21a49373658a5d43844f6\nDepends-On: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 5, 'created': '2019-05-29 17:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/413f330e575bc47807c7c2eb82525b6de7f9c517', 'message': 'Use ansible for AllNodesDeployment\n\nReplaces the SoftwareDeployment resource for AllNodesDeployment with the\nusage of the new tripleo-hieradata role.\n\nChange-Id: Ic174699ef038ca3028c21a49373658a5d43844f6\nDepends-On: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 6, 'created': '2019-05-29 22:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/60558c64bc2157182278a0b2f56e86a6a465f7df', 'message': 'Use ansible for AllNodesDeployment\n\nReplaces the SoftwareDeployment resource for AllNodesDeployment with the\nusage of the new tripleo-hieradata role.\n\nChange-Id: Ic174699ef038ca3028c21a49373658a5d43844f6\nDepends-On: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 7, 'created': '2019-05-30 18:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c717753837f56afeb5c8981b15145a9279987dc1', 'message': 'Use ansible for AllNodesDeployment\n\nReplaces the SoftwareDeployment resource for AllNodesDeployment with the\nusage of the new tripleo-hieradata role.\n\nChange-Id: Ic174699ef038ca3028c21a49373658a5d43844f6\nDepends-On: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 8, 'created': '2019-05-30 23:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c9a896ad05dd18fbf93a18c6c393b6e8702ff5b', 'message': 'Use ansible for AllNodesDeployment\n\nReplaces the SoftwareDeployment resource for AllNodesDeployment with the\nusage of the new tripleo-hieradata role.\n\nChange-Id: Ic174699ef038ca3028c21a49373658a5d43844f6\nDepends-On: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 9, 'created': '2019-06-03 17:34:52.000000000', 'files': ['puppet/all-nodes-config.j2.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'overcloud.j2.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9be6c1c935aa9ae5dfc540d69992c4047e86db22', 'message': 'Use ansible for AllNodesDeployment\n\nReplaces the SoftwareDeployment resource for AllNodesDeployment with the\nusage of the new tripleo-hieradata role.\n\nChange-Id: Ic174699ef038ca3028c21a49373658a5d43844f6\nDepends-On: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7\nimplements: blueprint reduce-deployment-resources\n'}]",4,659148,9be6c1c935aa9ae5dfc540d69992c4047e86db22,46,5,9,7144,,,0,"Use ansible for AllNodesDeployment

Replaces the SoftwareDeployment resource for AllNodesDeployment with the
usage of the new tripleo-hieradata role.

Change-Id: Ic174699ef038ca3028c21a49373658a5d43844f6
Depends-On: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7
implements: blueprint reduce-deployment-resources
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/659148/2 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/all-nodes-config.j2.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'overcloud.j2.yaml', 'common/deploy-steps.j2']",4,923e81025d5b8c8ef0ef6bda0c6945344f593f8d,bp/reduce-deployment-resources,"{%- for role in roles %} {{role.name}}AllNodesDeploymentHieradata: type: json default: {} {%- endfor %} name: Server pre deployment steps gather_facts: no any_errors_fatal: yes tasks: {%- for role in roles %} - name: AllNodesDeployment hieradata include_role: name: tripleo-hieradata vars: hieradata_template: ""{{role.name}}/all-nodes-deployment-hieradata.j2.yaml"" hieradata_variable_start_string: $$ hieradata_variable_end_string: $$ when: tripleo_role_name == '{{role.name}}' {%- endfor %} tags: - overcloud - pre_deploy_steps - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST{%- for role in roles %} {{role.name}}/all-nodes-deployment-hieradata.j2: {get_param: {{role.name}}AllNodesDeploymentHieradata} {%- endfor %}",,92,37
openstack%2Ftripleo-heat-templates~stable%2Fstein~I9eefa5f145ab5b17a4d93e96f4aad35d3e069382,openstack/tripleo-heat-templates,stable/stein,I9eefa5f145ab5b17a4d93e96f4aad35d3e069382,Fix ssl.yaml generating GaneshaInternal in the endpoint map,MERGED,2019-06-05 06:07:08.000000000,2019-06-06 02:19:23.000000000,2019-06-06 02:19:23.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-05 06:07:08.000000000', 'files': ['sample-env-generator/ssl.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b74dad7a8544d9bfa23d1f105715906464eb32a0', 'message': 'Fix ssl.yaml generating GaneshaInternal in the endpoint map\n\nThe GaneshaInternal configured in the endpoint map is used by\nthe Ganesha service that front-ends CephFS with Manila. It cannot be\na hostname, it must be an IP Address always. See [1]\n\nCloses-Bug: #1824421\n[1] https://github.com/nfs-ganesha/nfs-ganesha/blob/af26bf4/src/config_samples/config.txt#L43\nChange-Id: I9eefa5f145ab5b17a4d93e96f4aad35d3e069382\n(cherry picked from commit 7910cf3b487ba52e99bacfec4ecc86b1eeac4d16)\n'}]",0,663235,b74dad7a8544d9bfa23d1f105715906464eb32a0,13,7,1,16643,,,0,"Fix ssl.yaml generating GaneshaInternal in the endpoint map

The GaneshaInternal configured in the endpoint map is used by
the Ganesha service that front-ends CephFS with Manila. It cannot be
a hostname, it must be an IP Address always. See [1]

Closes-Bug: #1824421
[1] https://github.com/nfs-ganesha/nfs-ganesha/blob/af26bf4/src/config_samples/config.txt#L43
Change-Id: I9eefa5f145ab5b17a4d93e96f4aad35d3e069382
(cherry picked from commit 7910cf3b487ba52e99bacfec4ecc86b1eeac4d16)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/663235/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/ssl.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml']",2,b74dad7a8544d9bfa23d1f105715906464eb32a0,bug/1824421-stable/stein," GaneshaInternal: {protocol: 'nfs', port: '2049', host: 'IP_ADDRESS'}"," GaneshaInternal: {protocol: 'nfs', port: '2049', host: 'CLOUDNAME'}",2,2
openstack%2Fpython-troveclient~master~Id9c9e6352742c672ae3f2764c42dd984c8202544,openstack/python-troveclient,master,Id9c9e6352742c672ae3f2764c42dd984c8202544,Restore the index method for Management class,MERGED,2019-06-06 01:49:55.000000000,2019-06-06 02:19:13.000000000,2019-06-06 02:19:13.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 01:49:55.000000000', 'files': ['troveclient/v1/management.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/20926f1e4b34a6f06f3c21a20d94698e399b2f78', 'message': 'Restore the index method for Management class\n\nChange-Id: Id9c9e6352742c672ae3f2764c42dd984c8202544\n'}]",0,663472,20926f1e4b34a6f06f3c21a20d94698e399b2f78,6,2,1,6732,,,0,"Restore the index method for Management class

Change-Id: Id9c9e6352742c672ae3f2764c42dd984c8202544
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/72/663472/1 && git format-patch -1 --stdout FETCH_HEAD,['troveclient/v1/management.py'],1,20926f1e4b34a6f06f3c21a20d94698e399b2f78,restore-index-func," def index(self, **kwargs): """"""A wrapper for list method."""""" return self.list(kwargs) ",,4,0
openstack%2Fcharm-hacluster~master~I72f65bacba8bf17a13db19d2a3472f760776019a,openstack/charm-hacluster,master,I72f65bacba8bf17a13db19d2a3472f760776019a,Allow tuning for check_crm failure handling,MERGED,2019-05-13 14:10:30.000000000,2019-06-06 02:17:18.000000000,2019-06-06 02:17:18.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 27944}, {'_account_id': 30302}]","[{'number': 1, 'created': '2019-05-13 14:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/7f7edfffb2e42e26c3b288c8a39eeca2780c3026', 'message': ""Don't crit on failed actions\n\nThis commit adds two new options, failed_actions_alert_type and\nfailed_actions_threshold, which map onto the check_crm options\n--failedactions and --failcounts, respectively.\nThe default option values make check_crm generate warnings if resource\nagent actions have failed 5 times or more since the last reset. This is\ndifferent from the previous default, which was to generate critical\nalerts if actions failed even only once.\nThe actions check can be entirely bypassed if failed_actions_alert_type\nis set to 'ignore'.\n\nCloses-Bug: #1796400\nChange-Id: I72f65bacba8bf17a13db19d2a3472f760776019a\n""}, {'number': 2, 'created': '2019-06-05 15:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/da39bb7cf7585fac73b58084b94c0261a55f5e58', 'message': ""Allow tuning for check_crm failure handling\n\nThis commit adds two new options, failed_actions_alert_type and\nfailed_actions_threshold, which map onto the check_crm options\n--failedactions and --failcounts, respectively.\nThe default option values make check_crm generate critical alerts if\nactions failed even only once.\nThe actions check can be entirely bypassed if failed_actions_alert_type\nis set to 'ignore'.\n\nCloses-Bug: #1796400\nChange-Id: I72f65bacba8bf17a13db19d2a3472f760776019a\n""}, {'number': 3, 'created': '2019-06-05 17:14:33.000000000', 'files': ['hooks/hooks.py', 'config.yaml', 'unit_tests/test_hacluster_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/4d391e8107f63eefbc143624d78100389fd12a92', 'message': ""Allow tuning for check_crm failure handling\n\nThis commit adds two new options, failed_actions_alert_type and\nfailed_actions_threshold, which map onto the check_crm options\n--failedactions and --failcounts, respectively.\nThe default option values make check_crm generate critical alerts if\nactions failed once.\nThe actions check can be entirely bypassed if failed_actions_alert_type\nis set to 'ignore'.\n\nCloses-Bug: #1796400\nChange-Id: I72f65bacba8bf17a13db19d2a3472f760776019a\n""}]",4,658825,4d391e8107f63eefbc143624d78100389fd12a92,16,6,3,27944,,,0,"Allow tuning for check_crm failure handling

This commit adds two new options, failed_actions_alert_type and
failed_actions_threshold, which map onto the check_crm options
--failedactions and --failcounts, respectively.
The default option values make check_crm generate critical alerts if
actions failed once.
The actions check can be entirely bypassed if failed_actions_alert_type
is set to 'ignore'.

Closes-Bug: #1796400
Change-Id: I72f65bacba8bf17a13db19d2a3472f760776019a
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/25/658825/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'config.yaml']",2,7f7edfffb2e42e26c3b288c8a39eeca2780c3026,bug/1796400," failed_actions_alert_type: type: string default: 'warning' description: | If the CRM status has recorded failed actions in any of the registered resource agents, check_crm can optionally generate an alert. Valid options: ignore/warning/critical failed_actions_threshold: type: int default: 5 description: | check_crm will not generate an alert unless enough failed actions have been recorded. Has no effect if failed_actions_alert_type is set to 'ignore'",,41,5
openstack%2Fpython-troveclient~master~I88a15ba1910f7b3294067b54ae4a7a9b4c4a17a5,openstack/python-troveclient,master,I88a15ba1910f7b3294067b54ae4a7a9b4c4a17a5,Support to batch delete database instances,MERGED,2019-06-06 01:37:55.000000000,2019-06-06 02:14:28.000000000,2019-06-06 02:14:28.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 30402}]","[{'number': 1, 'created': '2019-06-06 01:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/f3ea774e482de2b5b6e844ad2fc3e89279b89343', 'message': 'Support to batch delete database instances\n\nAllow users to delete database instances in batch, usage:\n\nusage: openstack database instance delete [-h] instance [instance ...]\n\nChange-Id: I88a15ba1910f7b3294067b54ae4a7a9b4c4a17a5\n'}, {'number': 2, 'created': '2019-06-06 01:38:45.000000000', 'files': ['troveclient/utils.py', 'troveclient/osc/v1/base.py', 'releasenotes/notes/bulk-delete-database-instances-7938121487fb11e9.yaml', 'troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/16d1dedb54dc70a6f0ae7e5068fd5582f0539a5a', 'message': 'Support to batch delete database instances\n\nAllow users to delete database instances in batch, usage:\n\nusage: openstack database instance delete [-h] instance [instance ...]\n\nChange-Id: I88a15ba1910f7b3294067b54ae4a7a9b4c4a17a5\n'}]",0,663468,16d1dedb54dc70a6f0ae7e5068fd5582f0539a5a,8,3,2,6732,,,0,"Support to batch delete database instances

Allow users to delete database instances in batch, usage:

usage: openstack database instance delete [-h] instance [instance ...]

Change-Id: I88a15ba1910f7b3294067b54ae4a7a9b4c4a17a5
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/68/663468/1 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/utils.py', 'troveclient/osc/v1/base.py', 'releasenotes/notes/bulk-delete-database-instances-7938121487fb11e9.yaml', 'troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py']",5,f3ea774e482de2b5b6e844ad2fc3e89279b89343,bulk-delete,"from oslo_utils import uuidutils @mock.patch(""troveclient.utils.get_resource_id_by_name"") def test_instance_delete(self, mock_getid): mock_getid.return_value = ""fake_uuid"" args = ['instance1'] parsed_args = self.check_parser(self.cmd, args, []) self.cmd.take_action(parsed_args) mock_getid.assert_called_once_with(self.instance_client, ""instance1"") self.instance_client.delete.assert_called_with('fake_uuid') @mock.patch(""troveclient.utils.get_resource_id_by_name"") def test_instance_delete_with_exception(self, mock_getid): mock_getid.side_effect = exceptions.CommandError @mock.patch(""troveclient.utils.get_resource_id_by_name"") def test_instance_bulk_delete(self, mock_getid): instance_1 = uuidutils.generate_uuid() instance_2 = uuidutils.generate_uuid() mock_getid.return_value = instance_1 args = [""fake_instance"", instance_2] parsed_args = self.check_parser(self.cmd, args, []) self.cmd.take_action(parsed_args) mock_getid.assert_called_once_with(self.instance_client, ""fake_instance"") calls = [mock.call(instance_1), mock.call(instance_2)] self.instance_client.delete.assert_has_calls(calls) "," @mock.patch.object(utils, 'find_resource') def test_instance_delete(self, mock_find): args = ['instance1'] mock_find.return_value = args[0] parsed_args = self.check_parser(self.cmd, args, []) result = self.cmd.take_action(parsed_args) self.instance_client.delete.assert_called_with('instance1') self.assertIsNone(result) @mock.patch.object(utils, 'find_resource') def test_instance_delete_with_exception(self, mock_find): mock_find.side_effect = exceptions.CommandError",101,24
openstack%2Fpuppet-tripleo~stable%2Fqueens~Ib8e7ef5b58cc0a6d125502081c1459ccf6648ee2,openstack/puppet-tripleo,stable/queens,Ib8e7ef5b58cc0a6d125502081c1459ccf6648ee2,Allow external Ganesha for the cephfs manila backend,MERGED,2019-06-04 09:21:21.000000000,2019-06-06 02:10:00.000000000,2019-06-06 02:10:00.000000000,"[{'_account_id': 16643}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-04 09:21:21.000000000', 'files': ['manifests/profile/pacemaker/manila/share_bundle.pp', 'spec/classes/tripleo_profile_pacemaker_manila_share_bundle_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/06be0e18123b0c242fcc8464241246fd9b9c7c1c', 'message': 'Allow external Ganesha for the cephfs manila backend\n\nParameters are added here [1]; however one can use\nControllerExtraConfig to configure the missing params.\n\n[1] https://review.opendev.org/#/c/661287/\n\nSee: blueprint manila-external-ganesha\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: Ib8e7ef5b58cc0a6d125502081c1459ccf6648ee2\n(cherry picked from commit da474f17fb708c64d634aef7f8649972c6206f5a)\n'}]",0,662983,06be0e18123b0c242fcc8464241246fd9b9c7c1c,8,5,1,6796,,,0,"Allow external Ganesha for the cephfs manila backend

Parameters are added here [1]; however one can use
ControllerExtraConfig to configure the missing params.

[1] https://review.opendev.org/#/c/661287/

See: blueprint manila-external-ganesha
Co-Authored-By: Giulio Fidente <gfidente@redhat.com>
Change-Id: Ib8e7ef5b58cc0a6d125502081c1459ccf6648ee2
(cherry picked from commit da474f17fb708c64d634aef7f8649972c6206f5a)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/83/662983/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/manila/share_bundle.pp', 'spec/classes/tripleo_profile_pacemaker_manila_share_bundle_spec.rb']",2,06be0e18123b0c242fcc8464241246fd9b9c7c1c,bp/manila-external-ganesha," # ceph-nfs is disabled by default, so ensure no resources are created. context 'with ceph-nfs enabled' do :ceph_nfs_enabled => true, it 'should include ceph-nfs docker volumes and pacemaker constraints' do"," # CephFS is disabled by default, so ensure no resources are created. context 'with cephfs backend enabled' do :backend_cephfs_enabled => true, it 'should include cephfs docker volumes and pacemaker constraints' do",10,15
openstack%2Ftosca-parser~master~I1a4715a60403ed9a76c9f2c55e566d83395bad7e,openstack/tosca-parser,master,I1a4715a60403ed9a76c9f2c55e566d83395bad7e,Sync Sphinx requirement,MERGED,2019-06-04 03:12:28.000000000,2019-06-06 02:07:41.000000000,2019-06-06 02:07:40.000000000,"[{'_account_id': 16511}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 03:12:28.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/6f78538707acd2bbd18b565bf74574479c2b2bb4', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I1a4715a60403ed9a76c9f2c55e566d83395bad7e\nCloses-Bug: 1831533\n'}]",0,662922,6f78538707acd2bbd18b565bf74574479c2b2bb4,6,2,1,30356,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I1a4715a60403ed9a76c9f2c55e566d83395bad7e
Closes-Bug: 1831533
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/22/662922/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,6f78538707acd2bbd18b565bf74574479c2b2bb4,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.5 # BSD",2,1
openstack%2Fpuppet-tripleo~stable%2Frocky~Ib8e7ef5b58cc0a6d125502081c1459ccf6648ee2,openstack/puppet-tripleo,stable/rocky,Ib8e7ef5b58cc0a6d125502081c1459ccf6648ee2,Allow external Ganesha for the cephfs manila backend,MERGED,2019-06-04 09:19:20.000000000,2019-06-06 01:52:53.000000000,2019-06-06 01:52:53.000000000,"[{'_account_id': 16643}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-06-04 09:19:20.000000000', 'files': ['manifests/profile/pacemaker/manila/share_bundle.pp', 'spec/classes/tripleo_profile_pacemaker_manila_share_bundle_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/da474f17fb708c64d634aef7f8649972c6206f5a', 'message': 'Allow external Ganesha for the cephfs manila backend\n\nParameters are added here [1]; however one can use\nControllerExtraConfig to configure the missing params.\n\n[1] https://review.opendev.org/#/c/661287/\n\nSee: blueprint manila-external-ganesha\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: Ib8e7ef5b58cc0a6d125502081c1459ccf6648ee2\n(cherry picked from commit 44afda839aad275877e431e18131569c696e7aee)\n'}]",0,662982,da474f17fb708c64d634aef7f8649972c6206f5a,9,6,1,6796,,,0,"Allow external Ganesha for the cephfs manila backend

Parameters are added here [1]; however one can use
ControllerExtraConfig to configure the missing params.

[1] https://review.opendev.org/#/c/661287/

See: blueprint manila-external-ganesha
Co-Authored-By: Giulio Fidente <gfidente@redhat.com>
Change-Id: Ib8e7ef5b58cc0a6d125502081c1459ccf6648ee2
(cherry picked from commit 44afda839aad275877e431e18131569c696e7aee)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/82/662982/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/manila/share_bundle.pp', 'spec/classes/tripleo_profile_pacemaker_manila_share_bundle_spec.rb']",2,da474f17fb708c64d634aef7f8649972c6206f5a,bp/manila-external-ganesha," # ceph-nfs is disabled by default, so ensure no resources are created. context 'with ceph-nfs enabled' do :ceph_nfs_enabled => true, it 'should include ceph-nfs docker volumes and pacemaker constraints' do"," # CephFS is disabled by default, so ensure no resources are created. context 'with cephfs backend enabled' do :backend_cephfs_enabled => true, it 'should include cephfs docker volumes and pacemaker constraints' do",10,15
openstack%2Fpuppet-tripleo~stable%2Fstein~Ib8e7ef5b58cc0a6d125502081c1459ccf6648ee2,openstack/puppet-tripleo,stable/stein,Ib8e7ef5b58cc0a6d125502081c1459ccf6648ee2,Allow external Ganesha for the cephfs manila backend,MERGED,2019-06-04 09:17:49.000000000,2019-06-06 01:49:08.000000000,2019-06-06 01:49:07.000000000,"[{'_account_id': 16643}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 30381}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-06-04 09:17:49.000000000', 'files': ['manifests/profile/pacemaker/manila/share_bundle.pp', 'spec/classes/tripleo_profile_pacemaker_manila_share_bundle_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7317a2b247db5b2d21931003e95bf2c1ce92fbe5', 'message': 'Allow external Ganesha for the cephfs manila backend\n\nParameters are added here [1]; however one can use\nControllerExtraConfig to configure the missing params.\n\n[1] https://review.opendev.org/#/c/661287/\n\nSee: blueprint manila-external-ganesha\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: Ib8e7ef5b58cc0a6d125502081c1459ccf6648ee2\n(cherry picked from commit 44afda839aad275877e431e18131569c696e7aee)\n'}]",0,662981,7317a2b247db5b2d21931003e95bf2c1ce92fbe5,10,7,1,6796,,,0,"Allow external Ganesha for the cephfs manila backend

Parameters are added here [1]; however one can use
ControllerExtraConfig to configure the missing params.

[1] https://review.opendev.org/#/c/661287/

See: blueprint manila-external-ganesha
Co-Authored-By: Giulio Fidente <gfidente@redhat.com>
Change-Id: Ib8e7ef5b58cc0a6d125502081c1459ccf6648ee2
(cherry picked from commit 44afda839aad275877e431e18131569c696e7aee)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/81/662981/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/manila/share_bundle.pp', 'spec/classes/tripleo_profile_pacemaker_manila_share_bundle_spec.rb']",2,7317a2b247db5b2d21931003e95bf2c1ce92fbe5,bp/manila-external-ganesha," # ceph-nfs is disabled by default, so ensure no resources are created. context 'with ceph-nfs enabled' do :ceph_nfs_enabled => true, it 'should include ceph-nfs docker volumes and pacemaker constraints' do"," # CephFS is disabled by default, so ensure no resources are created. context 'with cephfs backend enabled' do :backend_cephfs_enabled => true, it 'should include cephfs docker volumes and pacemaker constraints' do",10,15
openstack%2Ftripleo-heat-templates~master~I8dc362bcbf860386b497490e57eec69d69f69cc8,openstack/tripleo-heat-templates,master,I8dc362bcbf860386b497490e57eec69d69f69cc8,Delete the stale and incorrect ovn environment files,MERGED,2018-08-16 07:35:19.000000000,2019-06-06 01:49:06.000000000,2019-06-06 01:49:06.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6773}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 10237}, {'_account_id': 11082}, {'_account_id': 13861}, {'_account_id': 16515}, {'_account_id': 18575}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}, {'_account_id': 25241}]","[{'number': 1, 'created': '2018-08-16 07:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/078e4ea83b591abd14fe4aad4ee7221dc0edb2dd', 'message': 'Delete the stale and incorrect ovn environment files\n\nThe OVN environment files - environments/neutron-ml2-ovn-dvr-ha.yaml\nenvironments/neutron-ml2-ovn-ha.yaml and environments/neutron-ml2-ovn-hw-offload.yaml\nare not correct. Moreoever the correct path for OVN environment files is\n- environment/services.\n\nHaving multiple files is confusing and hard to maintain.\n\nChange-Id: I8dc362bcbf860386b497490e57eec69d69f69cc8\n'}, {'number': 2, 'created': '2018-08-24 17:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b4813dacf9e42bb75201079d073bfed030d05b9', 'message': 'Delete the stale and incorrect ovn environment files\n\nThe OVN environment files - environments/neutron-ml2-ovn-dvr-ha.yaml\nenvironments/neutron-ml2-ovn-ha.yaml and environments/neutron-ml2-ovn-hw-offload.yaml\nare not correct. Moreoever the correct path for OVN environment files is\n- environment/services.\n\nHaving multiple files is confusing and hard to maintain.\n\nChange-Id: I8dc362bcbf860386b497490e57eec69d69f69cc8\n'}, {'number': 3, 'created': '2018-08-26 08:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/11f74559f02017c92f13ca166781f3612fc1863e', 'message': 'Delete the stale and incorrect ovn environment files\n\nThe OVN environment files - environments/neutron-ml2-ovn-dvr-ha.yaml\nenvironments/neutron-ml2-ovn-ha.yaml and environments/neutron-ml2-ovn-hw-offload.yaml\nare not correct. Moreoever the correct path for OVN environment files is\n- environment/services.\n\nHaving multiple files is confusing and hard to maintain.\n\nChange-Id: I8dc362bcbf860386b497490e57eec69d69f69cc8\n'}, {'number': 4, 'created': '2018-09-03 05:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66ef2f4899c3366719bf833e6a1a7942e66ad2d4', 'message': 'Delete the stale and incorrect ovn environment files\n\nThe OVN environment files - environments/neutron-ml2-ovn-dvr-ha.yaml\nenvironments/neutron-ml2-ovn-ha.yaml and environments/neutron-ml2-ovn-hw-offload.yaml\nare not correct. Moreoever the correct path for OVN environment files is\n- environment/services.\n\nHaving multiple files is confusing and hard to maintain.\n\nChange-Id: I8dc362bcbf860386b497490e57eec69d69f69cc8\n'}, {'number': 5, 'created': '2018-09-17 16:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87373fe8be12902b0c9662ee9312d4c452078ccf', 'message': 'Delete the stale and incorrect ovn environment files\n\nThe OVN environment files - environments/neutron-ml2-ovn-dvr-ha.yaml\nenvironments/neutron-ml2-ovn-ha.yaml and environments/neutron-ml2-ovn-hw-offload.yaml\nare not correct. Moreoever the correct path for OVN environment files is\n- environment/services.\n\nHaving multiple files is confusing and hard to maintain.\n\nChange-Id: I8dc362bcbf860386b497490e57eec69d69f69cc8\n'}, {'number': 6, 'created': '2019-02-22 10:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/585b4f8574122b1d149cb63bdcd9e54611a3fa99', 'message': 'Delete the stale and incorrect ovn environment files\n\nThe OVN environment files - environments/neutron-ml2-ovn-dvr-ha.yaml\nenvironments/neutron-ml2-ovn-ha.yaml and environments/neutron-ml2-ovn-hw-offload.yaml\nare not correct. Moreoever the correct path for OVN environment files is\n- environment/services.\n\nHaving multiple files is confusing and hard to maintain.\n\nChange-Id: I8dc362bcbf860386b497490e57eec69d69f69cc8\n'}, {'number': 7, 'created': '2019-03-09 06:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/836aa9610b6cd24657eac851fced8a0f6aea077a', 'message': 'Delete the stale and incorrect ovn environment files\n\nThe OVN environment files - environments/neutron-ml2-ovn-dvr-ha.yaml\nenvironments/neutron-ml2-ovn-ha.yaml and environments/neutron-ml2-ovn-hw-offload.yaml\nare not correct. Moreoever the correct path for OVN environment files is\n- environment/services.\n\nHaving multiple files is confusing and hard to maintain.\n\nChange-Id: I8dc362bcbf860386b497490e57eec69d69f69cc8\n'}, {'number': 8, 'created': '2019-03-10 07:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/98f7d7ec68ee91b0862ad0517d78b9b90a78e558', 'message': 'Delete the stale and incorrect ovn environment files\n\nThe OVN environment files - environments/neutron-ml2-ovn-dvr-ha.yaml\nenvironments/neutron-ml2-ovn-ha.yaml and environments/neutron-ml2-ovn-hw-offload.yaml\nare not correct. Moreoever the correct path for OVN environment files is\n- environment/services.\n\nHaving multiple files is confusing and hard to maintain.\n\nDepends-On: Icabcba5efed48b3c06d675ee7f0e594e26410753\nDepends-On: I1422f6f8468eee670eb05ab9ad88d7bda52ca563\n\nChange-Id: I8dc362bcbf860386b497490e57eec69d69f69cc8\n'}, {'number': 9, 'created': '2019-05-29 07:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cca5a1baafd1d52202a2c9b18599902391c51e77', 'message': 'Delete the stale and incorrect ovn environment files\n\nThe OVN environment files - environments/neutron-ml2-ovn-dvr-ha.yaml\nand environments/neutron-ml2-ovn-ha.yaml\nare not correct. Moreoever the correct path for OVN environment files is\n- environment/services.\n\nHaving multiple files is confusing and hard to maintain.\n\nChange-Id: I8dc362bcbf860386b497490e57eec69d69f69cc8\n'}, {'number': 10, 'created': '2019-05-30 07:16:30.000000000', 'files': ['environments/neutron-ml2-ovn-dvr-ha.yaml', 'releasenotes/notes/deprecated-vn-ha-env-files-f0d967d173dcdb16.yaml', 'environments/neutron-ml2-ovn-ha.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6454247dd6bc931725beb47ade87e5e7cc9e98d3', 'message': 'Delete the stale and incorrect ovn environment files\n\nThe OVN environment files - environments/neutron-ml2-ovn-dvr-ha.yaml\nand environments/neutron-ml2-ovn-ha.yaml\nare not correct. Moreoever the correct path for OVN environment files is\n- environment/services.\n\nHaving multiple files is confusing and hard to maintain.\n\nDepends-On: https://review.opendev.org/#/c/662143/\nChange-Id: I8dc362bcbf860386b497490e57eec69d69f69cc8\n'}]",6,592299,6454247dd6bc931725beb47ade87e5e7cc9e98d3,67,19,10,10237,,,0,"Delete the stale and incorrect ovn environment files

The OVN environment files - environments/neutron-ml2-ovn-dvr-ha.yaml
and environments/neutron-ml2-ovn-ha.yaml
are not correct. Moreoever the correct path for OVN environment files is
- environment/services.

Having multiple files is confusing and hard to maintain.

Depends-On: https://review.opendev.org/#/c/662143/
Change-Id: I8dc362bcbf860386b497490e57eec69d69f69cc8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/592299/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/neutron-ml2-ovn-dvr-ha.yaml', 'environments/neutron-ml2-ovn-hw-offload.yaml', 'environments/neutron-ml2-ovn-ha.yaml']",3,078e4ea83b591abd14fe4aad4ee7221dc0edb2dd,fix/dep_temp,,"# A Heat environment file which can be used to enable OVN # extensions, configured via docker resource_registry: OS::TripleO::Services::NeutronCorePlugin: OS::TripleO::Services::NeutronCorePluginML2OVN OS::TripleO::Services::OVNController: ../docker/services/ovn-controller.yaml OS::TripleO::Services::OVNDBs: ../docker/services/pacemaker/ovn-dbs.yaml OS::TripleO::Services::OVNMetadataAgent: ../docker/services/ovn-metadata.yaml # Disabling Neutron services that overlap with OVN OS::TripleO::Services::NeutronOvsAgent: OS::Heat::None OS::TripleO::Services::ComputeNeutronOvsAgent: OS::Heat::None OS::TripleO::Services::NeutronL3Agent: OS::Heat::None OS::TripleO::Services::NeutronMetadataAgent: OS::Heat::None OS::TripleO::Services::NeutronDhcpAgent: OS::Heat::None OS::TripleO::Services::ComputeNeutronCorePlugin: OS::Heat::None parameter_defaults: NeutronMechanismDrivers: ovn OVNVifType: ovs OVNNeutronSyncMode: log OVNQosDriver: ovn-qos OVNTunnelEncapType: geneve NeutronEnableDHCPAgent: false NeutronTypeDrivers: 'geneve,vlan,flat' NeutronNetworkType: 'geneve' NeutronServicePlugins: 'qos,ovn-router,trunk' NeutronVniRanges: ['1:65536', ] ComputeParameters: NeutronBridgeMappings: """" NetworkerParameters: OVNCMSOptions: ""enable-chassis-as-gw"" KernelIpNonLocalBind: 1 ",0,102
openstack%2Fnova~master~I6997e395d09fcd79140ee6b663735766b6ec9153,openstack/nova,master,I6997e395d09fcd79140ee6b663735766b6ec9153,Remove ports on create_port timeout during instance build,ABANDONED,2017-07-14 09:58:52.000000000,2019-06-06 01:48:14.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 26458}]","[{'number': 1, 'created': '2017-07-14 09:58:52.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/71e0002262cfd3d75eee55410f18dd0ad44c3a0c', 'message': 'Remove ports on create_port timeout during instance build\n\nWhen trying to allocate network for an booting instance,\nif failed, Nova would retry for serveral times according\nto CONF.network_allocate_retries. But before next\nallocation task begins, there might be remaining ports of\nthis instance in Neutron(e.g. because Neutron does not\nrespond in time).\n\nNova should clean up the remaining ports before next retry.\n\nChange-Id: I6997e395d09fcd79140ee6b663735766b6ec9153\nCloses-Bug: #1603909\n'}]",0,483888,71e0002262cfd3d75eee55410f18dd0ad44c3a0c,16,12,1,23417,,,0,"Remove ports on create_port timeout during instance build

When trying to allocate network for an booting instance,
if failed, Nova would retry for serveral times according
to CONF.network_allocate_retries. But before next
allocation task begins, there might be remaining ports of
this instance in Neutron(e.g. because Neutron does not
respond in time).

Nova should clean up the remaining ports before next retry.

Change-Id: I6997e395d09fcd79140ee6b663735766b6ec9153
Closes-Bug: #1603909
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/483888/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,71e0002262cfd3d75eee55410f18dd0ad44c3a0c,bug/1603909," # remove remaining ports self._cleanup_allocated_networks(context, instance, requested_networks)",,3,0
openstack%2Fansible-role-redhat-subscription~master~I14aa7eaec1c9abad6de83ddff092e2ad224075c2,openstack/ansible-role-redhat-subscription,master,I14aa7eaec1c9abad6de83ddff092e2ad224075c2,sat6: install katello-host-tools after registration,MERGED,2019-06-05 13:25:08.000000000,2019-06-06 01:44:26.000000000,2019-06-06 01:44:26.000000000,"[{'_account_id': 3153}, {'_account_id': 16339}, {'_account_id': 18851}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 13:25:08.000000000', 'files': ['tasks/satellite.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/a8b5d8124d10cead1c79059f41c23e6f6fcd3305', 'message': 'sat6: install katello-host-tools after registration\n\nContext on https://bugzilla.redhat.com/show_bug.cgi?id=1717093 but with\nSatellite 6.5, we now require this rpm to be deployed right after the\nregistration and repos setup otherwise the registration is in failure.\n\nChange-Id: I14aa7eaec1c9abad6de83ddff092e2ad224075c2\n'}]",0,663328,a8b5d8124d10cead1c79059f41c23e6f6fcd3305,8,4,1,3153,,,0,"sat6: install katello-host-tools after registration

Context on https://bugzilla.redhat.com/show_bug.cgi?id=1717093 but with
Satellite 6.5, we now require this rpm to be deployed right after the
registration and repos setup otherwise the registration is in failure.

Change-Id: I14aa7eaec1c9abad6de83ddff092e2ad224075c2
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/28/663328/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/satellite.yml'],1,a8b5d8124d10cead1c79059f41c23e6f6fcd3305,bz/1717093, # https://bugzilla.redhat.com/show_bug.cgi?id=1717093 - name: SATELLITE 6 | Install katello-host-tools when: rhsm_satellite_version == '6' package: name: katello-host-tools state: present,,7,0
openstack%2Fironic-inspector~stable%2Fstein~I6cae8d84ac73ea656f0e305bc408c4788aefa1fa,openstack/ironic-inspector,stable/stein,I6cae8d84ac73ea656f0e305bc408c4788aefa1fa,Improve error handling of extra_hardware,MERGED,2019-06-03 08:09:26.000000000,2019-06-06 01:41:01.000000000,2019-06-06 01:41:01.000000000,"[{'_account_id': 10206}, {'_account_id': 11655}, {'_account_id': 12860}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-03 08:09:26.000000000', 'files': ['ironic_inspector/plugins/extra_hardware.py', 'ironic_inspector/test/unit/test_plugins_extra_hardware.py', 'releasenotes/notes/fix-extra-hardware-process-c0635a972de37b0a.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7e7a729519de0df7c2f98c312bd4bdb18e3511d6', 'message': 'Improve error handling of extra_hardware\n\nextra_hardware plugin saves data to Swift, if Swift is not available\nor accessible, the collected information will not be processed and\nconsumed.\n\nChange-Id: I6cae8d84ac73ea656f0e305bc408c4788aefa1fa\nStory: 2005691\nTask: 31011\n(cherry picked from commit 09938a397595b92f19f6415bb3cfec8be76fe6a3)\n'}]",0,662706,7e7a729519de0df7c2f98c312bd4bdb18e3511d6,9,6,1,10239,,,0,"Improve error handling of extra_hardware

extra_hardware plugin saves data to Swift, if Swift is not available
or accessible, the collected information will not be processed and
consumed.

Change-Id: I6cae8d84ac73ea656f0e305bc408c4788aefa1fa
Story: 2005691
Task: 31011
(cherry picked from commit 09938a397595b92f19f6415bb3cfec8be76fe6a3)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/06/662706/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/plugins/extra_hardware.py', 'ironic_inspector/test/unit/test_plugins_extra_hardware.py', 'releasenotes/notes/fix-extra-hardware-process-c0635a972de37b0a.yaml']",3,7e7a729519de0df7c2f98c312bd4bdb18e3511d6,,"--- fixes: - | Fixes an issue when extra_hardware plugin failed to save extra hardware information to Swift, the collected information is not processed and consumed. ",,52,4
openstack%2Ffreezer-api~master~I741c27cf83ca41e27c5c59f2e7ce57bf8a21f1e2,openstack/freezer-api,master,I741c27cf83ca41e27c5c59f2e7ce57bf8a21f1e2,Add python3.7 unit test job in tox.ini,MERGED,2019-06-05 07:51:31.000000000,2019-06-06 01:32:20.000000000,2019-06-06 01:32:20.000000000,"[{'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 07:51:31.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/ba67938413736fa4aa1b37c69086e23e3ac8992a', 'message': 'Add python3.7 unit test job in tox.ini\n\nAdd a unit test job running under Python 3.7.\n\nChange-Id: I741c27cf83ca41e27c5c59f2e7ce57bf8a21f1e2\n'}]",0,663264,ba67938413736fa4aa1b37c69086e23e3ac8992a,7,2,1,21069,,,0,"Add python3.7 unit test job in tox.ini

Add a unit test job running under Python 3.7.

Change-Id: I741c27cf83ca41e27c5c59f2e7ce57bf8a21f1e2
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/64/663264/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,ba67938413736fa4aa1b37c69086e23e3ac8992a,,"envlist = py27,py36,py37,pep8,pylint[testenv:py37] basepython = python3.7 setenv = OS_PATH_TEST = ./freezer_api/tests/unit commands = find . -type f -name ""*.py[c|o]"" -delete rm -rf .testrepository python setup.py test --coverage --coverage-package-name freezer_api --testr-args={posargs} coverage report -m rm -f .coverage rm -rf .testrepository ","envlist = py27,py36,pep8,pylint",13,1
openstack%2Fopenstack-ansible-os_manila~master~I6941e8f928dca35791b313caafe7dbf9202ed689,openstack/openstack-ansible-os_manila,master,I6941e8f928dca35791b313caafe7dbf9202ed689,db_setup: refactor database setup to a common file,MERGED,2019-06-04 03:02:50.000000000,2019-06-06 01:27:29.000000000,2019-06-06 01:27:29.000000000,"[{'_account_id': 1004}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 03:02:50.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/manila_db_sync.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/6fe22f0f0fb8c7d14b2a58847aa01b7fb9eed192', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: I6941e8f928dca35791b313caafe7dbf9202ed689\n'}]",0,662916,6fe22f0f0fb8c7d14b2a58847aa01b7fb9eed192,7,3,1,28008,,,0,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Change-Id: I6941e8f928dca35791b313caafe7dbf9202ed689
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/16/662916/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/manila_db_sync.yml']",3,6fe22f0f0fb8c7d14b2a58847aa01b7fb9eed192,osa/db-refactor,,"- name: Create DB for service mysql_db: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ manila_galera_address }}"" name: ""{{ manila_galera_database }}"" state: ""present"" delegate_to: ""{{ manila_db_setup_host }}"" no_log: true - name: Grant access to the DB for the service mysql_user: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ manila_galera_address }}"" name: ""{{ manila_galera_user }}"" password: ""{{ manila_container_mysql_password }}"" host: ""{{ item }}"" state: ""present"" priv: ""{{ manila_galera_database }}.*:ALL"" delegate_to: ""{{ manila_db_setup_host }}"" with_items: - ""localhost"" - ""%"" no_log: true ",75,46
openstack%2Felection~master~Ia23682a285f6ee539dbeb9e1eb790cad8575da25,openstack/election,master,Ia23682a285f6ee539dbeb9e1eb790cad8575da25,Update tox.ini for correct py3 support and remove py2,MERGED,2019-05-28 03:53:05.000000000,2019-06-06 01:25:24.000000000,2019-06-06 01:25:24.000000000,"[{'_account_id': 5263}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-28 03:53:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/election/commit/03332aa4b07e61ba2d729605427fc2b6b34cc1e9', 'message': ""Update tox.ini for correct py3 support and remove py2\n\nWhen running 'tox' on a system where 'python3' is any version of python\nother that 3.5 tox will complain that the py35 testenv isn't py35 ...\nfor example:\n\n [tony@thor election]$ tox -r\n /usr/lib/python3.7/site-packages/tox/config.py:570: UserWarning: conflicting basepython version (set 37, should be 35) for env 'py35';resolve conflict or set ignore_basepython_conflict proposed_version, implied_version, testenv_config.envname\n /usr/lib/python3.7/site-packages/tox/config.py:570: UserWarning: conflicting basepython version (set 37, should be 27) for env 'py27';resolve conflict or set ignore_basepython_conflict proposed_version, implied_version, testenv_config.envname\n docs recreate: /home/tony/tmp/election/.tox/docs\n <snip>\n ________________________________________________ summary _________________________________________________\n   docs: commands succeeded\n   linters: commands succeeded\n   py35: commands succeeded\n   py27: commands succeeded\n   congratulations :)\n [tony@thor election]$ for py in .tox/py*/bin/python ; do $py --version ; done\n Python 3.7.3\n Python 3.7.3\n\nAs you can see the py35 and py27 interpreters are both in fact py37.\nUpdate tox.ini to that we can enforce python3 but still test on py35 and\npy37.  While ther update the default envlist to remove py27 as that will\nalways fail since I20184300f0a6cb6d230428cafc49f1b917376380 merged.\n\nAs we're using ignore_basepython_conflict we need to set the tox\nminvcersion to 3.1.0 as that's the earliest version with that support\n\nChange-Id: Ia23682a285f6ee539dbeb9e1eb790cad8575da25\n""}]",0,661670,03332aa4b07e61ba2d729605427fc2b6b34cc1e9,7,3,1,12898,,,0,"Update tox.ini for correct py3 support and remove py2

When running 'tox' on a system where 'python3' is any version of python
other that 3.5 tox will complain that the py35 testenv isn't py35 ...
for example:

 [tony@thor election]$ tox -r
 /usr/lib/python3.7/site-packages/tox/config.py:570: UserWarning: conflicting basepython version (set 37, should be 35) for env 'py35';resolve conflict or set ignore_basepython_conflict proposed_version, implied_version, testenv_config.envname
 /usr/lib/python3.7/site-packages/tox/config.py:570: UserWarning: conflicting basepython version (set 37, should be 27) for env 'py27';resolve conflict or set ignore_basepython_conflict proposed_version, implied_version, testenv_config.envname
 docs recreate: /home/tony/tmp/election/.tox/docs
 <snip>
 ________________________________________________ summary _________________________________________________
   docs: commands succeeded
   linters: commands succeeded
   py35: commands succeeded
   py27: commands succeeded
   congratulations :)
 [tony@thor election]$ for py in .tox/py*/bin/python ; do $py --version ; done
 Python 3.7.3
 Python 3.7.3

As you can see the py35 and py27 interpreters are both in fact py37.
Update tox.ini to that we can enforce python3 but still test on py35 and
py37.  While ther update the default envlist to remove py27 as that will
always fail since I20184300f0a6cb6d230428cafc49f1b917376380 merged.

As we're using ignore_basepython_conflict we need to set the tox
minvcersion to 3.1.0 as that's the earliest version with that support

Change-Id: Ia23682a285f6ee539dbeb9e1eb790cad8575da25
",git fetch https://review.opendev.org/openstack/election refs/changes/70/661670/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,03332aa4b07e61ba2d729605427fc2b6b34cc1e9,,"envlist = docs,linters,py35,py37 minversion = 3.1.0ignore_basepython_conflict=true","envlist = docs,linters,py35,py27 minversion = 2.0",3,2
openstack%2Fswift~master~Ida50539e645ea7e2950ba668c7f031a8d10da787,openstack/swift,master,Ida50539e645ea7e2950ba668c7f031a8d10da787,Do not sync suffixes when remote rejects reconstructor sync,MERGED,2019-06-03 11:14:29.000000000,2019-06-06 01:18:41.000000000,2019-06-06 01:16:50.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 30464}]","[{'number': 1, 'created': '2019-06-03 11:14:29.000000000', 'files': ['swift/obj/reconstructor.py', 'test/unit/obj/test_reconstructor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/37fa12cd83849a3ae8374ff07861d1d710d53174', 'message': ""Do not sync suffixes when remote rejects reconstructor sync\n\nThe commit a0fcca1e makes reconstructor not sync suffixes when remote\nreject reconstructor revert. However, the exact same logic should\nbe applied to SYNC job as well. REPLICATE requests aren't generally\nneeded when using SSYC (which the reconstructor always does).\n\nIf a ssync_sender fails to finish a sync the reconstructor should skip\nthe REPLICATE call entirely and move on to the next partition without\ncausing any useless remote IO.\n\nChange-Id: Ida50539e645ea7e2950ba668c7f031a8d10da787\nCloses-Bug: #1665141\n""}]",0,662735,37fa12cd83849a3ae8374ff07861d1d710d53174,15,6,1,30464,,,0,"Do not sync suffixes when remote rejects reconstructor sync

The commit a0fcca1e makes reconstructor not sync suffixes when remote
reject reconstructor revert. However, the exact same logic should
be applied to SYNC job as well. REPLICATE requests aren't generally
needed when using SSYC (which the reconstructor always does).

If a ssync_sender fails to finish a sync the reconstructor should skip
the REPLICATE call entirely and move on to the next partition without
causing any useless remote IO.

Change-Id: Ida50539e645ea7e2950ba668c7f031a8d10da787
Closes-Bug: #1665141
",git fetch https://review.opendev.org/openstack/swift refs/changes/35/662735/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/reconstructor.py', 'test/unit/obj/test_reconstructor.py']",2,37fa12cd83849a3ae8374ff07861d1d710d53174,bug/1665141," # the first (primary sync_to) node's rehash_remote will be skipped first_node = part_nodes[0] expected_suffix_calls.remove( (first_node['replication_ip'], '/%s/0/123-abc' % first_node['device']))",,7,1
openstack%2Fswift~master~I571c16c196dae4e4f8fb41904c8850d0054b1fe9,openstack/swift,master,I571c16c196dae4e4f8fb41904c8850d0054b1fe9,s3api: Allow clients to upload with UNSIGNED-PAYLOAD,MERGED,2019-05-20 18:44:48.000000000,2019-06-06 01:17:51.000000000,2019-06-06 01:16:49.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-20 18:44:48.000000000', 'files': ['test/unit/common/middleware/s3api/test_obj.py', 'swift/common/middleware/s3api/s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/82e446a8a0c0fd6a81f06717b76ed3d1be26a281', 'message': 's3api: Allow clients to upload with UNSIGNED-PAYLOAD\n\n(Some versions of?) awscli/boto3 will do v4 signatures but send a\nContent-MD5 for end-to-end validation. Since a X-Amz-Content-SHA256\nis still required to calculate signatures, it uses UNSIGNED-PAYLOAD\nsimilar to how signatures work for pre-signed URLs.\n\nLook for UNSIGNED-PAYLOAD and skip SHA256 validation if set.\n\nChange-Id: I571c16c196dae4e4f8fb41904c8850d0054b1fe9\nRelated-Change: I61eb12455c37376be4d739eee55a5f439216f0e9\n'}]",0,660196,82e446a8a0c0fd6a81f06717b76ed3d1be26a281,7,2,1,15343,,,0,"s3api: Allow clients to upload with UNSIGNED-PAYLOAD

(Some versions of?) awscli/boto3 will do v4 signatures but send a
Content-MD5 for end-to-end validation. Since a X-Amz-Content-SHA256
is still required to calculate signatures, it uses UNSIGNED-PAYLOAD
similar to how signatures work for pre-signed URLs.

Look for UNSIGNED-PAYLOAD and skip SHA256 validation if set.

Change-Id: I571c16c196dae4e4f8fb41904c8850d0054b1fe9
Related-Change: I61eb12455c37376be4d739eee55a5f439216f0e9
",git fetch https://review.opendev.org/openstack/swift refs/changes/96/660196/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/s3api/test_obj.py', 'swift/common/middleware/s3api/s3request.py']",2,82e446a8a0c0fd6a81f06717b76ed3d1be26a281,," if hashed_payload != 'UNSIGNED-PAYLOAD': if self.content_length == 0: if hashed_payload != sha256().hexdigest(): raise BadDigest( 'The X-Amz-Content-SHA56 you specified did not ' 'match what we received.') elif self.content_length: self.environ['wsgi.input'] = HashingInput( self.environ['wsgi.input'], self.content_length, sha256, hashed_payload) # else, length not provided -- Swift will kick out a # 411 Length Required which will get translated back # to a S3-style response in S3Request._swift_error_codes"," if self.content_length == 0: if hashed_payload != sha256().hexdigest(): raise BadDigest( 'The X-Amz-Content-SHA56 you specified did not match ' 'what we received.') elif self.content_length: self.environ['wsgi.input'] = HashingInput( self.environ['wsgi.input'], self.content_length, sha256, hashed_payload) # else, not provided -- Swift will kick out a 411 Length Required # which will get translated back to a S3-style response in # S3Request._swift_error_codes",44,15
openstack%2Fironic~master~I6732bfbcabfa1c74aa5ab6fa990e977589a50b92,openstack/ironic,master,I6732bfbcabfa1c74aa5ab6fa990e977589a50b92,Software RAID: Trigger grub installation on the holder disks,MERGED,2019-03-04 16:40:49.000000000,2019-06-06 01:11:06.000000000,2019-06-06 01:11:06.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28429}, {'_account_id': 29800}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-03-04 16:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c0bc03455c1d3d8b187335c87904188346a941bd', 'message': '[WIP] Software RAID: Trigger grub installation on the holder disks\n\nIronic triggers the bootloader installation only for partition\nimages (as whole disk images should come with the bootloader).\nWhen a software RAID device is used for deployment, however, the\nbootloader needs to be installed on the holder disks by the IPA,\nso we need to detect and trigger this.\n\nChange-Id: I6732bfbcabfa1c74aa5ab6fa990e977589a50b92\nStory: #2004581\nTask: #29105\n'}, {'number': 2, 'created': '2019-03-19 11:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7320f107dcbe974fb7dddaef7ad4378ad1335d04', 'message': 'Software RAID: Trigger grub installation on the holder disks\n\nIronic triggers the bootloader installation only for partition\nimages (as whole disk images should come with the bootloader).\nWhen a software RAID device is used for deployment, however, the\nbootloader needs to be installed on the holder disks by the IPA,\nso we need to detect and trigger this.\n\nChange-Id: I6732bfbcabfa1c74aa5ab6fa990e977589a50b92\nStory: #2004581\nTask: #29105\n'}, {'number': 3, 'created': '2019-05-29 15:37:53.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_agent_base_vendor.py', 'ironic/drivers/modules/agent_base_vendor.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5b0ec703c9c5dd13e1ffb2871ae24973ab6ae459', 'message': 'Software RAID: Trigger grub installation on the holder disks\n\nIronic triggers the bootloader installation only for partition\nimages (as whole disk images should come with the bootloader).\nWhen a software RAID device is used for deployment, however, the\nbootloader needs to be installed on the holder disks by the IPA,\nso we need to detect and trigger this.\n\nChange-Id: I6732bfbcabfa1c74aa5ab6fa990e977589a50b92\nStory: #2004581\nTask: #29105\nDepends-on: https://review.opendev.org/639390\n'}]",6,640810,5b0ec703c9c5dd13e1ffb2871ae24973ab6ae459,31,12,3,11292,,,0,"Software RAID: Trigger grub installation on the holder disks

Ironic triggers the bootloader installation only for partition
images (as whole disk images should come with the bootloader).
When a software RAID device is used for deployment, however, the
bootloader needs to be installed on the holder disks by the IPA,
so we need to detect and trigger this.

Change-Id: I6732bfbcabfa1c74aa5ab6fa990e977589a50b92
Story: #2004581
Task: #29105
Depends-on: https://review.opendev.org/639390
",git fetch https://review.opendev.org/openstack/ironic refs/changes/10/640810/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_agent_base_vendor.py', 'ironic/drivers/modules/agent_base_vendor.py']",2,c0bc03455c1d3d8b187335c87904188346a941bd,software_raid," # If the target RAID configuration is set to 'software' for the # 'controller', we need to trigger the the installation of grub # on the holder disks of the desired Software RAID. internal_info = node.driver_internal_info raid_config = node.target_raid_config logical_disks = raid_config.get('logical_disks', []) software_raid = False for logical_disk in logical_disks: if logical_disk['controller'] == 'software': LOG.debug('Node %s has a Software RAID configuration', node.uuid) software_raid = True root_uuid = internal_info.get('root_uuid_or_disk_id') break whole_disk_image = internal_info.get('is_whole_disk_image') if root_uuid and not whole_disk_image or software_raid:", if not node.driver_internal_info.get( 'is_whole_disk_image') and root_uuid:,46,2
openstack%2Fpuppet-tripleo~stable%2Frocky~I1741721ede9f9f469e2554b409ec6e0e6c7c22a2,openstack/puppet-tripleo,stable/rocky,I1741721ede9f9f469e2554b409ec6e0e6c7c22a2,Add support for external Ganesha service in Manila Share profile,MERGED,2019-06-04 09:25:22.000000000,2019-06-06 00:35:02.000000000,2019-06-06 00:35:02.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-04 09:25:22.000000000', 'files': ['manifests/profile/base/manila/share.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7ae85edf954e1222ceadfade90a04343cbf920d7', 'message': 'Add support for external Ganesha service in Manila Share profile\n\nWe might want to connect Manila Share to an external Ganesha service\nand in that case need to provide additional configs so that we can\nconnect to the remote node via SSH.\n\nChange-Id: I1741721ede9f9f469e2554b409ec6e0e6c7c22a2\nImplements: blueprint manila-external-ganesha\nDepends-On: I31fff6a1b6fede860b8aaee0079183924e8b31d6\n(cherry picked from commit dabfc9e1e3199d59d79b912a1d0c240470ef6edb)\n'}]",0,662985,7ae85edf954e1222ceadfade90a04343cbf920d7,8,4,1,6796,,,0,"Add support for external Ganesha service in Manila Share profile

We might want to connect Manila Share to an external Ganesha service
and in that case need to provide additional configs so that we can
connect to the remote node via SSH.

Change-Id: I1741721ede9f9f469e2554b409ec6e0e6c7c22a2
Implements: blueprint manila-external-ganesha
Depends-On: I31fff6a1b6fede860b8aaee0079183924e8b31d6
(cherry picked from commit dabfc9e1e3199d59d79b912a1d0c240470ef6edb)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/85/662985/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/manila/share.pp'],1,7ae85edf954e1222ceadfade90a04343cbf920d7,bp/manila-external-ganesha," $cephfs_ganesha_server_ip = hiera('manila::backend::cephfs::cephfs_ganesha_server_ip', undef) if $cephfs_ganesha_server_ip == undef { $cephfs_ganesha_server_ip_real = hiera('ganesha_vip', undef) } else { $cephfs_ganesha_server_ip_real = $cephfs_ganesha_server_ip } manila::backend::cephfs { $manila_cephfs_backend : driver_handles_share_servers => hiera('manila::backend::cephfs::driver_handles_share_servers', false), share_backend_name => hiera('manila::backend::cephfs::share_backend_name'), cephfs_conf_path => hiera('manila::backend::cephfs::cephfs_conf_path'), cephfs_auth_id => $cephfs_auth_id, cephfs_cluster_name => hiera('manila::backend::cephfs::cephfs_cluster_name'), cephfs_enable_snapshots => hiera('manila::backend::cephfs::cephfs_enable_snapshots'), cephfs_volume_mode => hiera('manila::backend::cephfs::cephfs_volume_mode', '0755'), cephfs_protocol_helper_type => $manila_cephfs_protocol_helper_type, cephfs_ganesha_server_ip => $cephfs_ganesha_server_ip_real, cephfs_ganesha_server_is_remote => hiera('manila::backend::cephfs::cephfs_ganesha_server_is_remote', false), cephfs_ganesha_server_username => hiera('manila::backend::cephfs::cephfs_ganesha_server_username', undef), cephfs_ganesha_server_password => hiera('manila::backend::cephfs::cephfs_ganesha_server_password', undef), cephfs_ganesha_path_to_private_key => hiera('manila::backend::cephfs::cephfs_ganesha_path_to_private_key', undef),"," manila::backend::cephfs { $manila_cephfs_backend : driver_handles_share_servers => hiera('manila::backend::cephfs::driver_handles_share_servers', false), share_backend_name => hiera('manila::backend::cephfs::share_backend_name'), cephfs_conf_path => hiera('manila::backend::cephfs::cephfs_conf_path'), cephfs_auth_id => $cephfs_auth_id, cephfs_cluster_name => hiera('manila::backend::cephfs::cephfs_cluster_name'), cephfs_enable_snapshots => hiera('manila::backend::cephfs::cephfs_enable_snapshots'), cephfs_volume_mode => hiera('manila::backend::cephfs::cephfs_volume_mode', '0755'), cephfs_protocol_helper_type => $manila_cephfs_protocol_helper_type, cephfs_ganesha_server_ip => hiera('ganesha_vip', undef),",20,9
openstack%2Fpuppet-tripleo~stable%2Fstein~I1741721ede9f9f469e2554b409ec6e0e6c7c22a2,openstack/puppet-tripleo,stable/stein,I1741721ede9f9f469e2554b409ec6e0e6c7c22a2,Add support for external Ganesha service in Manila Share profile,MERGED,2019-06-04 09:22:44.000000000,2019-06-06 00:35:01.000000000,2019-06-06 00:35:01.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-04 09:22:44.000000000', 'files': ['manifests/profile/base/manila/share.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0c81daf7e57683ff03c9a5d36654038e1e840921', 'message': 'Add support for external Ganesha service in Manila Share profile\n\nWe might want to connect Manila Share to an external Ganesha service\nand in that case need to provide additional configs so that we can\nconnect to the remote node via SSH.\n\nChange-Id: I1741721ede9f9f469e2554b409ec6e0e6c7c22a2\nImplements: blueprint manila-external-ganesha\nDepends-On: I31fff6a1b6fede860b8aaee0079183924e8b31d6\n(cherry picked from commit dabfc9e1e3199d59d79b912a1d0c240470ef6edb)\n'}]",0,662984,0c81daf7e57683ff03c9a5d36654038e1e840921,8,4,1,6796,,,0,"Add support for external Ganesha service in Manila Share profile

We might want to connect Manila Share to an external Ganesha service
and in that case need to provide additional configs so that we can
connect to the remote node via SSH.

Change-Id: I1741721ede9f9f469e2554b409ec6e0e6c7c22a2
Implements: blueprint manila-external-ganesha
Depends-On: I31fff6a1b6fede860b8aaee0079183924e8b31d6
(cherry picked from commit dabfc9e1e3199d59d79b912a1d0c240470ef6edb)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/84/662984/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/manila/share.pp'],1,0c81daf7e57683ff03c9a5d36654038e1e840921,bp/manila-external-ganesha," $cephfs_ganesha_server_ip = hiera('manila::backend::cephfs::cephfs_ganesha_server_ip', undef) if $cephfs_ganesha_server_ip == undef { $cephfs_ganesha_server_ip_real = hiera('ganesha_vip', undef) } else { $cephfs_ganesha_server_ip_real = $cephfs_ganesha_server_ip } manila::backend::cephfs { $manila_cephfs_backend : driver_handles_share_servers => hiera('manila::backend::cephfs::driver_handles_share_servers', false), share_backend_name => hiera('manila::backend::cephfs::share_backend_name'), cephfs_conf_path => hiera('manila::backend::cephfs::cephfs_conf_path'), cephfs_auth_id => $cephfs_auth_id, cephfs_cluster_name => hiera('manila::backend::cephfs::cephfs_cluster_name'), cephfs_enable_snapshots => hiera('manila::backend::cephfs::cephfs_enable_snapshots'), cephfs_volume_mode => hiera('manila::backend::cephfs::cephfs_volume_mode', '0755'), cephfs_protocol_helper_type => $manila_cephfs_protocol_helper_type, cephfs_ganesha_server_ip => $cephfs_ganesha_server_ip_real, cephfs_ganesha_server_is_remote => hiera('manila::backend::cephfs::cephfs_ganesha_server_is_remote', false), cephfs_ganesha_server_username => hiera('manila::backend::cephfs::cephfs_ganesha_server_username', undef), cephfs_ganesha_server_password => hiera('manila::backend::cephfs::cephfs_ganesha_server_password', undef), cephfs_ganesha_path_to_private_key => hiera('manila::backend::cephfs::cephfs_ganesha_path_to_private_key', undef),"," manila::backend::cephfs { $manila_cephfs_backend : driver_handles_share_servers => hiera('manila::backend::cephfs::driver_handles_share_servers', false), share_backend_name => hiera('manila::backend::cephfs::share_backend_name'), cephfs_conf_path => hiera('manila::backend::cephfs::cephfs_conf_path'), cephfs_auth_id => $cephfs_auth_id, cephfs_cluster_name => hiera('manila::backend::cephfs::cephfs_cluster_name'), cephfs_enable_snapshots => hiera('manila::backend::cephfs::cephfs_enable_snapshots'), cephfs_volume_mode => hiera('manila::backend::cephfs::cephfs_volume_mode', '0755'), cephfs_protocol_helper_type => $manila_cephfs_protocol_helper_type, cephfs_ganesha_server_ip => hiera('ganesha_vip', undef),",20,9
openstack%2Fneutron~stable%2Fstein~Ida6b7ae53f3fc76f54e389c5f7131b5a66f533ce,openstack/neutron,stable/stein,Ida6b7ae53f3fc76f54e389c5f7131b5a66f533ce,[DVR] Block ARP to dvr router's port instead of subnet's gateway,MERGED,2019-06-04 22:28:19.000000000,2019-06-06 00:26:21.000000000,2019-06-06 00:26:21.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-04 22:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c276f871ba20aaff2c831ae9d2006f232338a1df', 'message': ""[DVR] Block ARP to dvr router's port instead of subnet's gateway\n\nIt may happen that subnet is connected to dvr router using IP address\ndifferent than subnet's gateway_ip.\nSo in br-tun arp to dvr router's port should be dropped instead of\ndropping arp to subnet's gateway_ip (or mac in case of IPv6).\n\nChange-Id: Ida6b7ae53f3fc76f54e389c5f7131b5a66f533ce\nCloses-bug: #1831575\n(cherry picked from commit ae3aa28f5a4749b4e4cb3f0ae0d009c0734db405)\n""}, {'number': 2, 'created': '2019-06-05 07:59:58.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a7c9cc870eab7ad3272d79a7fa7c224217068211', 'message': ""[DVR] Block ARP to dvr router's port instead of subnet's gateway\n\nIt may happen that subnet is connected to dvr router using IP address\ndifferent than subnet's gateway_ip.\nSo in br-tun arp to dvr router's port should be dropped instead of\ndropping arp to subnet's gateway_ip (or mac in case of IPv6).\n\nChange-Id: Ida6b7ae53f3fc76f54e389c5f7131b5a66f533ce\nCloses-bug: #1831575\n(cherry picked from commit ae3aa28f5a4749b4e4cb3f0ae0d009c0734db405)\n""}]",0,663155,a7c9cc870eab7ad3272d79a7fa7c224217068211,14,6,2,7016,,,0,"[DVR] Block ARP to dvr router's port instead of subnet's gateway

It may happen that subnet is connected to dvr router using IP address
different than subnet's gateway_ip.
So in br-tun arp to dvr router's port should be dropped instead of
dropping arp to subnet's gateway_ip (or mac in case of IPv6).

Change-Id: Ida6b7ae53f3fc76f54e389c5f7131b5a66f533ce
Closes-bug: #1831575
(cherry picked from commit ae3aa28f5a4749b4e4cb3f0ae0d009c0734db405)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/663155/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,c276f871ba20aaff2c831ae9d2006f232338a1df,bug/1831575-stable/stein," gateway_ip): gateway_mac=port.vif_mac), gateway_ip = '1.1.1.10' self._port.vif_mac = 'aa:bb:cc:11:22:33' gateway_mac = 'aa:bb:cc:66:66:66' gateway_ip=self._fixed_ips[0]['ip_address']) gateway_ip=gateway_ip) gateway_ip=gateway_ip) gateway_ip=gateway_ip)"," gateway_ip, gateway_mac): gateway_mac=gateway_mac), gateway_ip = '1.1.1.1' self._port.vif_mac = gateway_mac = 'aa:bb:cc:11:22:33' gateway_ip=gateway_ip, gateway_mac=gateway_mac) gateway_ip=gateway_ip, gateway_mac=gateway_mac) gateway_ip=gateway_ip, gateway_mac=gateway_mac) gateway_ip=gateway_ip, gateway_mac=gateway_mac)",12,16
openstack%2Fpython-troveclient~master~I3a1fd52759f22502fa9617f3dae017a0e132ec6a,openstack/python-troveclient,master,I3a1fd52759f22502fa9617f3dae017a0e132ec6a,Add release note for --all-projects support,MERGED,2019-06-05 22:02:57.000000000,2019-06-06 00:24:45.000000000,2019-06-06 00:24:45.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 22:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/701cc3c376f5af0f9810e88c69eea5d13c6e9f17', 'message': 'Add release note for --all-projects support\n\nChange-Id: I3a1fd52759f22502fa9617f3dae017a0e132ec6a\n'}, {'number': 2, 'created': '2019-06-05 22:43:34.000000000', 'files': ['releasenotes/notes/get-all-database-instance-admin-3f1b83a487dd11e9.yaml'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/be04075d2efac7403afe8d131f520e44c094461c', 'message': 'Add release note for --all-projects support\n\nChange-Id: I3a1fd52759f22502fa9617f3dae017a0e132ec6a\n'}]",0,663448,be04075d2efac7403afe8d131f520e44c094461c,8,2,2,6732,,,0,"Add release note for --all-projects support

Change-Id: I3a1fd52759f22502fa9617f3dae017a0e132ec6a
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/48/663448/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/get-all-database-instance-admin-3f1b83a487dd11e9.yaml'],1,701cc3c376f5af0f9810e88c69eea5d13c6e9f17,releasenote,features: - Admin user can use ``openstack database instances list --all-projects`` to get database instances of all the projects. ,,3,0
openstack%2Fneutron~master~Ide740e0c5c43c2d2b842460a37c8ce125da12b28,openstack/neutron,master,Ide740e0c5c43c2d2b842460a37c8ce125da12b28,improve dvr port update under large scale deployment,MERGED,2019-05-27 03:40:41.000000000,2019-06-06 00:13:51.000000000,2019-06-04 23:43:40.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 7016}, {'_account_id': 7125}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21273}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27679}, {'_account_id': 29071}, {'_account_id': 30498}]","[{'number': 1, 'created': '2019-05-27 03:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c38e4428b2620253718427613387c1005fa8c64f', 'message': 'improve dvr port update under large scale deployment\n\nupdate port may takes an excessive number of seconds to complete if dvr routers are running on a lot of compute nodes. This patch tries to save some time by avoid wasting get_ports call inside traversing all hosts.\n\nChange-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28\n'}, {'number': 2, 'created': '2019-05-27 04:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/85a64ae72375a8db9d69fb781761f0536c744755', 'message': 'improve dvr port update under large scale deployment\n\nupdate port may takes an excessive number of seconds to complete if dvr routers are running on a lot of compute nodes. This patch tries to save some time by avoid wasting get_ports call inside traversing all hosts.\n\nChange-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28\nCloses-Bug: #1830456\n'}, {'number': 3, 'created': '2019-05-27 07:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a0e31856c14f7c4bbcdcc4ea220314c6936adc6', 'message': 'improve dvr port update under large scale deployment\n\nupdate port may takes an excessive number of seconds\nto complete if dvr routers are running on more than 100\ncompute nodes. This patch tries to save some time by removing\nunnecessary calls inside looping through hosts.\n\nChange-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28\nCloses-Bug: #1830456\n'}, {'number': 4, 'created': '2019-05-27 09:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d7f8282fc85452fe5b315c1660c97f4ad963e79', 'message': 'improve dvr port update under large scale deployment\n\nupdate port may takes an excessive number of seconds\nto complete if dvr routers are running on more than 100\ncompute nodes. This patch tries to save some time by removing\nunnecessary calls inside looping through hosts.\n\nChange-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28\nCloses-Bug: #1830456\n'}, {'number': 5, 'created': '2019-05-28 02:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/caeffe2d726fe4c491d599c8040d9ded326b550f', 'message': 'improve dvr port update under large scale deployment\n\nupdate port may takes an excessive number of seconds\nto complete if dvr routers are running on more than 100\ncompute nodes. This patch tries to save some time by removing\nunnecessary calls inside looping through hosts.\n\nChange-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28\nCloses-Bug: #1830456\n'}, {'number': 6, 'created': '2019-05-29 05:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6bc1f431ba0e8466dd0fe06406e03a65300789a4', 'message': 'improve dvr port update under large scale deployment\n\nupdate port may takes an excessive number of seconds\nto complete if dvr routers are running on more than 100\ncompute nodes. This patch tries to save some time by removing\nunnecessary calls inside looping through hosts.\n\nChange-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28\nCloses-Bug: #1830456\n'}, {'number': 7, 'created': '2019-05-29 08:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc715a711992c0ff94755145045cb700dc9e818d', 'message': 'improve dvr port update under large scale deployment\n\nupdate port may takes an excessive number of seconds\nto complete if dvr routers are running on more than 100\ncompute nodes. This patch tries to save some time by removing\nunnecessary calls inside looping through hosts.\n\nChange-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28\nCloses-Bug: #1830456\n'}, {'number': 8, 'created': '2019-05-29 23:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1e1b5e22320ce28db21b95a5f214fd4c31afde7', 'message': 'improve dvr port update under large scale deployment\n\nupdate port may takes an excessive number of seconds\nto complete if dvr routers are running on more than 100\ncompute nodes. This patch tries to save some time by removing\nunnecessary calls inside looping through hosts.\n\nChange-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28\nCloses-Bug: #1830456\n'}, {'number': 9, 'created': '2019-05-31 09:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6fd25628e6472990890977dc66d9dafbaac4f9d6', 'message': 'improve dvr port update under large scale deployment\n\nupdate port may takes an excessive number of seconds\nto complete if dvr routers are running on more than 100\ncompute nodes. This patch tries to save some time by removing\nunnecessary calls inside looping through hosts.\n\nChange-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28\nCloses-Bug: #1830456\n'}, {'number': 10, 'created': '2019-06-01 01:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/65623e860ef5054ed70f1c09ace094bc7771fefa', 'message': 'improve dvr port update under large scale deployment\n\nupdate port may takes an excessive number of seconds\nto complete if dvr routers are running on more than 100\ncompute nodes. This patch tries to save some time by removing\nunnecessary calls inside looping through hosts.\n\nChange-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28\nCloses-Bug: #1830456\n'}, {'number': 11, 'created': '2019-06-01 05:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b8eb6d18d5d4ccefe63f8b2066a1b43dd15aa8b', 'message': 'improve dvr port update under large scale deployment\n\nupdate port may takes an excessive number of seconds\nto complete if dvr routers are running on more than 100\ncompute nodes. This patch tries to save some time by removing\nunnecessary calls inside looping through hosts.\n\nChange-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28\nCloses-Bug: #1830456\n'}, {'number': 12, 'created': '2019-06-01 11:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3417fc32934849bc4a316a13c2ed17cf1ed86135', 'message': 'improve dvr port update under large scale deployment\n\nupdate port may takes an excessive number of seconds\nto complete if dvr routers are running on more than 100\ncompute nodes. This patch tries to save some time by removing\nunnecessary calls inside looping through hosts.\n\nChange-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28\nCloses-Bug: #1830456\n'}, {'number': 13, 'created': '2019-06-04 11:40:37.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/00eb6f26f6165a00d647d2bf35fb7996534cfc09', 'message': 'improve dvr port update under large scale deployment\n\nupdate port may takes an excessive number of seconds\nto complete if dvr routers are running on more than 100\ncompute nodes. This patch tries to save some time by removing\nunnecessary calls inside looping through hosts.\n\nChange-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28\nCloses-Bug: #1830456\n'}]",98,661522,00eb6f26f6165a00d647d2bf35fb7996534cfc09,154,16,13,29071,,,0,"improve dvr port update under large scale deployment

update port may takes an excessive number of seconds
to complete if dvr routers are running on more than 100
compute nodes. This patch tries to save some time by removing
unnecessary calls inside looping through hosts.

Change-Id: Ide740e0c5c43c2d2b842460a37c8ce125da12b28
Closes-Bug: #1830456
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/661522/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_dvrscheduler_db.py'],1,c38e4428b2620253718427613387c1005fa8c64f,bug/1830456," check_for_fip_and_create_agent_gw_port_on_host_if_not_exists( context, port, dest_host)) # (ushen) save host - router relationship in a dict # to avoid performance issue when looping through a large number of hosts # the performance issue is get_ports method does cost at least half of second to complete # so program should avoid calling this method inside a loop host_router_dict = dict() # (ushen) dest_host should handle all router_ids # which are on the current port[portbindings.HOST_ID] host_router_dict[port_host] = set(router_ids) for router_id in router_ids: for host in self.get_hosts_to_notify(context, router_id): if host_router_dict[host] is None: host_router_dict[host] = {router_id} else: host_router_dict[host] |= {router_id} for host, routers in host_router_dict.items(): self.l3_rpc_notifier.routers_updated_on_host( context, list(routers), host ) [n_const.DEVICE_OWNER_DVR_INTERFACE]} [n_const.DEVICE_OWNER_DVR_INTERFACE]} get_distributed_port_binding_by_host( context, port['id'], port_host)) [n_const.L3_AGENT_MODE_DVR, n_const.L3_AGENT_MODE_DVR_NO_EXTERNAL, n_const.L3_AGENT_MODE_DVR_SNAT]): context, agent_db['host'], list(subnet_ids))): new_port[portbindings.HOST_ID] and new_port[portbindings.HOST_ID] != original_port[portbindings.HOST_ID]) original_port[portbindings.HOST_ID] and original_port[portbindings.HOST_ID] != new_port[portbindings.HOST_ID]) context, port_id=original_port['id'])"," check_for_fip_and_create_agent_gw_port_on_host_if_not_exists( context, port, dest_host)) hosts = set([port_host]) for router_id in router_ids: hosts |= set(self.get_hosts_to_notify(context, router_id)) for host in hosts: updated_routers = set() for router_id in router_ids: if self._check_for_rtr_serviceable_ports( context.elevated(), router_id, host): updated_routers.add(router_id) if updated_routers: self.l3_rpc_notifier.routers_updated_on_host( context, updated_routers, host) [n_const.DEVICE_OWNER_DVR_INTERFACE]} [n_const.DEVICE_OWNER_DVR_INTERFACE]} get_distributed_port_binding_by_host( context, port['id'], port_host)) [n_const.L3_AGENT_MODE_DVR, n_const.L3_AGENT_MODE_DVR_NO_EXTERNAL, n_const.L3_AGENT_MODE_DVR_SNAT]): context, agent_db['host'], list(subnet_ids))): new_port[portbindings.HOST_ID] and new_port[portbindings.HOST_ID] != original_port[portbindings.HOST_ID]) original_port[portbindings.HOST_ID] and original_port[portbindings.HOST_ID] != new_port[portbindings.HOST_ID]) context, port_id=original_port['id'])",36,30
openstack%2Fpuppet-tripleo~stable%2Fqueens~I1741721ede9f9f469e2554b409ec6e0e6c7c22a2,openstack/puppet-tripleo,stable/queens,I1741721ede9f9f469e2554b409ec6e0e6c7c22a2,Add support for external Ganesha service in Manila Share profile,MERGED,2019-06-04 09:33:01.000000000,2019-06-05 23:56:24.000000000,2019-06-05 23:56:24.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-06-04 09:33:01.000000000', 'files': ['manifests/profile/base/manila/share.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2abb6f11ddd662f4be393b16d505b83fbe501e91', 'message': 'Add support for external Ganesha service in Manila Share profile\n\nWe might want to connect Manila Share to an external Ganesha service\nand in that case need to provide additional configs so that we can\nconnect to the remote node via SSH.\n\nChange-Id: I1741721ede9f9f469e2554b409ec6e0e6c7c22a2\nImplements: blueprint manila-external-ganesha\nDepends-On: I31fff6a1b6fede860b8aaee0079183924e8b31d6\n(cherry picked from commit dabfc9e1e3199d59d79b912a1d0c240470ef6edb)\n'}]",0,662989,2abb6f11ddd662f4be393b16d505b83fbe501e91,9,5,1,6796,,,0,"Add support for external Ganesha service in Manila Share profile

We might want to connect Manila Share to an external Ganesha service
and in that case need to provide additional configs so that we can
connect to the remote node via SSH.

Change-Id: I1741721ede9f9f469e2554b409ec6e0e6c7c22a2
Implements: blueprint manila-external-ganesha
Depends-On: I31fff6a1b6fede860b8aaee0079183924e8b31d6
(cherry picked from commit dabfc9e1e3199d59d79b912a1d0c240470ef6edb)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/89/662989/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/manila/share.pp'],1,2abb6f11ddd662f4be393b16d505b83fbe501e91,bp/manila-external-ganesha," $cephfs_ganesha_server_ip = hiera('manila::backend::cephfs::cephfs_ganesha_server_ip', undef) if $cephfs_ganesha_server_ip == undef { $cephfs_ganesha_server_ip_real = hiera('ganesha_vip', undef) } else { $cephfs_ganesha_server_ip_real = $cephfs_ganesha_server_ip } manila::backend::cephfs { $manila_cephfs_backend : driver_handles_share_servers => hiera('manila::backend::cephfs::driver_handles_share_servers', false), share_backend_name => hiera('manila::backend::cephfs::share_backend_name'), cephfs_conf_path => hiera('manila::backend::cephfs::cephfs_conf_path'), cephfs_auth_id => $cephfs_auth_id, cephfs_cluster_name => hiera('manila::backend::cephfs::cephfs_cluster_name'), cephfs_enable_snapshots => hiera('manila::backend::cephfs::cephfs_enable_snapshots'), cephfs_volume_mode => hiera('manila::backend::cephfs::cephfs_volume_mode', '0755'), cephfs_protocol_helper_type => $manila_cephfs_protocol_helper_type, cephfs_ganesha_server_ip => $cephfs_ganesha_server_ip_real, cephfs_ganesha_server_is_remote => hiera('manila::backend::cephfs::cephfs_ganesha_server_is_remote', false), cephfs_ganesha_server_username => hiera('manila::backend::cephfs::cephfs_ganesha_server_username', undef), cephfs_ganesha_server_password => hiera('manila::backend::cephfs::cephfs_ganesha_server_password', undef), cephfs_ganesha_path_to_private_key => hiera('manila::backend::cephfs::cephfs_ganesha_path_to_private_key', undef),"," manila::backend::cephfs { $manila_cephfs_backend : driver_handles_share_servers => hiera('manila::backend::cephfs::driver_handles_share_servers', false), share_backend_name => hiera('manila::backend::cephfs::share_backend_name'), cephfs_conf_path => hiera('manila::backend::cephfs::cephfs_conf_path'), cephfs_auth_id => $cephfs_auth_id, cephfs_cluster_name => hiera('manila::backend::cephfs::cephfs_cluster_name'), cephfs_enable_snapshots => hiera('manila::backend::cephfs::cephfs_enable_snapshots'), cephfs_volume_mode => hiera('manila::backend::cephfs::cephfs_volume_mode', '0755'), cephfs_protocol_helper_type => $manila_cephfs_protocol_helper_type, cephfs_ganesha_server_ip => hiera('ganesha_vip', undef),",21,9
openstack%2Ftripleo-heat-templates~master~I21a222b3291a5dfb51746193d7830ed8878d5618,openstack/tripleo-heat-templates,master,I21a222b3291a5dfb51746193d7830ed8878d5618,Drop dhcp_domain from ironic compute,MERGED,2019-05-31 19:46:42.000000000,2019-06-05 23:56:22.000000000,2019-06-05 23:56:22.000000000,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-05-31 19:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc26a1653531c22e0c20519bb328862d4417800a', 'message': ""Drop dhcp_domain from ironic compute\n\nThe dhcp_domain setting is used by the nova metadata api or nova\nnetwork. Let's remove it in the nova ironic usage so we can clean it up\ncorrectly.\n\nChange-Id: I21a222b3291a5dfb51746193d7830ed8878d5618\n""}, {'number': 2, 'created': '2019-05-31 21:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f60f1cc6e9e401dc0e88414bee3f6a0d9ccb3149', 'message': ""Drop dhcp_domain from ironic compute\n\nThe dhcp_domain setting is used by the nova metadata api or nova\nnetwork. Let's remove it in the nova ironic usage so we can clean it up\ncorrectly.\n\nDepends-On: https://review.opendev.org/#/c/660741/\nChange-Id: I21a222b3291a5dfb51746193d7830ed8878d5618\n""}, {'number': 3, 'created': '2019-05-31 21:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b6b24ee953b30314268c9793c9ad83b7fe660b0', 'message': ""Drop dhcp_domain from ironic compute\n\nThe dhcp_domain setting is used by the nova metadata api or nova\nnetwork. Let's remove it in the nova ironic usage so we can clean it up\ncorrectly.\n\nDepends-On: https://review.opendev.org/#/c/660741/\nChange-Id: I21a222b3291a5dfb51746193d7830ed8878d5618\n""}, {'number': 4, 'created': '2019-05-31 21:23:05.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0cb21704e2605382af9cef9b2a08c2d3b674a51c', 'message': ""Drop dhcp_domain from ironic compute\n\nThe dhcp_domain setting is used by the nova metadata api or nova\nnetwork. Let's remove it in the nova ironic usage so we can clean it up\ncorrectly.\n\nChange-Id: I21a222b3291a5dfb51746193d7830ed8878d5618\n""}]",0,662561,0cb21704e2605382af9cef9b2a08c2d3b674a51c,35,8,4,14985,,,0,"Drop dhcp_domain from ironic compute

The dhcp_domain setting is used by the nova metadata api or nova
network. Let's remove it in the nova ironic usage so we can clean it up
correctly.

Change-Id: I21a222b3291a5dfb51746193d7830ed8878d5618
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/662561/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-ironic-container-puppet.yaml'],1,bc26a1653531c22e0c20519bb328862d4417800a,nova-cleanup,, nova::network::neutron::dhcp_domain: '',0,1
openstack%2Fcyborg-specs~master~I8126104422ff79b444d5ead1a32e1bf49ae882a2,openstack/cyborg-specs,master,I8126104422ff79b444d5ead1a32e1bf49ae882a2,Fix the release name in index.rst.,ABANDONED,2019-05-10 22:40:44.000000000,2019-06-05 23:48:39.000000000,,"[{'_account_id': 17813}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 25738}, {'_account_id': 27458}]","[{'number': 1, 'created': '2019-05-10 22:40:44.000000000', 'files': ['specs/index.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/b705018fedbcb4a9680dcd58813806ba089652bd', 'message': 'Fix the release name in index.rst.\n\nChange-Id: I8126104422ff79b444d5ead1a32e1bf49ae882a2\n'}]",0,658498,b705018fedbcb4a9680dcd58813806ba089652bd,6,6,1,21672,,,0,"Fix the release name in index.rst.

Change-Id: I8126104422ff79b444d5ead1a32e1bf49ae882a2
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/98/658498/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/index.rst'],1,b705018fedbcb4a9680dcd58813806ba089652bd,,This section has a list of specs for the Train release.,This section has a list of specs for the Stein release.,1,1
openstack%2Fswift~master~I3a6f409208de45ebf9f55f7f59e4fe6ac6fbe163,openstack/swift,master,I3a6f409208de45ebf9f55f7f59e4fe6ac6fbe163,py3: symlink follow-up,MERGED,2019-05-30 18:56:32.000000000,2019-06-05 23:23:32.000000000,2019-06-05 23:22:19.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 18:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/183ac5196bd892ae48954a34bea2eb78a8f9e0c6', 'message': 'py3: symlink follow-up\n\n- Have the unit tests use WSGI strings, like a real system.\n- Port the func tests.\n\nChange-Id: I3a6f409208de45ebf9f55f7f59e4fe6ac6fbe163\n'}, {'number': 2, 'created': '2019-05-30 23:25:30.000000000', 'files': ['test/functional/test_symlink.py', 'test/functional/test_dlo.py', 'swift/common/middleware/symlink.py', 'test/unit/common/middleware/test_symlink.py', 'test/unit/__init__.py', 'test/functional/test_slo.py', 'test/functional/test_tempurl.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/2e35376c6d6afb5aa2a36081861bab011c8c95c3', 'message': 'py3: symlink follow-up\n\n- Have the unit tests use WSGI strings, like a real system.\n- Port the func tests.\n\nChange-Id: I3a6f409208de45ebf9f55f7f59e4fe6ac6fbe163\n'}]",0,662294,2e35376c6d6afb5aa2a36081861bab011c8c95c3,10,2,2,15343,,,0,"py3: symlink follow-up

- Have the unit tests use WSGI strings, like a real system.
- Port the func tests.

Change-Id: I3a6f409208de45ebf9f55f7f59e4fe6ac6fbe163
",git fetch https://review.opendev.org/openstack/swift refs/changes/94/662294/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/functional/test_symlink.py', 'test/functional/test_dlo.py', 'swift/common/middleware/symlink.py', 'test/unit/common/middleware/test_symlink.py', 'test/unit/__init__.py', 'test/functional/test_slo.py', 'test/functional/test_tempurl.py', 'tox.ini']",8,183ac5196bd892ae48954a34bea2eb78a8f9e0c6,py3_symlink, test/functional/test_symlink.py \,,192,154
openstack%2Fswift~feature%2Flosf~I3b1508c9555bcff9016fd7ba918cebcaa4eb484c,openstack/swift,feature/losf,I3b1508c9555bcff9016fd7ba918cebcaa4eb484c,Merge remote-tracking branch 'remotes/origin/master' into merge-master,MERGED,2019-06-05 07:28:26.000000000,2019-06-05 23:23:31.000000000,2019-06-05 23:22:21.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 07:28:26.000000000', 'files': ['swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3ba65cb7eca6948d32b53ba91157037c48f06002', 'message': ""Merge remote-tracking branch 'remotes/origin/master' into merge-master\n\nConflicts:\n    swift/obj/diskfile.py\n\nChange-Id: I3b1508c9555bcff9016fd7ba918cebcaa4eb484c\n""}]",0,663260,3ba65cb7eca6948d32b53ba91157037c48f06002,7,2,1,4608,,,0,"Merge remote-tracking branch 'remotes/origin/master' into merge-master

Conflicts:
    swift/obj/diskfile.py

Change-Id: I3b1508c9555bcff9016fd7ba918cebcaa4eb484c
",git fetch https://review.opendev.org/openstack/swift refs/changes/60/663260/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/obj/diskfile.py'],1,3ba65cb7eca6948d32b53ba91157037c48f06002,merge-master," quar_path = quarantine_renamer( device_path, os.path.join( hsh_path, ""made-up-filename"")) quar_path = self.quarantine_renamer( dev_path, os.path.join( object_path, ""made-up-filename""))","<<<<<<< HEAD (20b097 Merge ""Merge remote-tracking branch 'remotes/origin/master' ) quar_path = quarantine_renamer(device_path, hsh_path) ======= partition_path = dirname(path) objects_path = dirname(partition_path) device_path = dirname(objects_path) quar_path = quarantine_renamer(device_path, join(hsh_path, ""made-up-filename"")) >>>>>>> BRANCH (4ffc5d Merge ""Note s3api compatability requirements in sample.conf"") quar_path = self.quarantine_renamer(dev_path, join(object_path, ""made-up-filename""))",6,13
openstack%2Frequirements~master~I7b2ae14f14326463c34bf227dc759dfa3c038bd3,openstack/requirements,master,I7b2ae14f14326463c34bf227dc759dfa3c038bd3,Updated from generate-constraints,MERGED,2019-06-01 06:13:25.000000000,2019-06-05 22:48:20.000000000,2019-06-05 22:48:20.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-01 06:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b355203a1b2964d8f69b546ce01d69586c4fc986', 'message': 'Updated from generate-constraints\n\nChange-Id: I7b2ae14f14326463c34bf227dc759dfa3c038bd3\n'}, {'number': 2, 'created': '2019-06-02 06:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8f1970aadab6f3fa5a1c8855ce91e25ea41a3dc4', 'message': 'Updated from generate-constraints\n\nChange-Id: I7b2ae14f14326463c34bf227dc759dfa3c038bd3\n'}, {'number': 3, 'created': '2019-06-03 06:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/815510877d4feed7102e24ac56cb045fa85054bf', 'message': 'Updated from generate-constraints\n\nChange-Id: I7b2ae14f14326463c34bf227dc759dfa3c038bd3\n'}, {'number': 4, 'created': '2019-06-03 15:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/497b56a312d998f743a6c9b04b33f221389c7284', 'message': 'Updated from generate-constraints\n\nChange-Id: I7b2ae14f14326463c34bf227dc759dfa3c038bd3\n'}, {'number': 5, 'created': '2019-06-04 14:36:58.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f6b15cf96cfb0ed2bf9a18c8803d4e980a537ee4', 'message': 'Updated from generate-constraints\n\nChange-Id: I7b2ae14f14326463c34bf227dc759dfa3c038bd3\n'}]",0,662598,f6b15cf96cfb0ed2bf9a18c8803d4e980a537ee4,28,3,5,11131,,,0,"Updated from generate-constraints

Change-Id: I7b2ae14f14326463c34bf227dc759dfa3c038bd3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/98/662598/3 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b355203a1b2964d8f69b546ce01d69586c4fc986,openstack/requirements/constraints/noclob,grpcio===1.21.1Mako===1.0.11arrow===0.14.0SQLAlchemy===1.3.4urllib3===1.25.3tornado===5.1.1;python_version=='2.7'kubernetes===9.0.0jsonschema===3.0.1,grpcio===1.15.0Mako===1.0.10arrow===0.13.2SQLAlchemy===1.2.19urllib3===1.24.3tornado===4.5.3;python_version=='2.7'kubernetes===8.0.1jsonschema===2.6.0,8,8
openstack%2Fopenstacksdk~master~I4071788e99669f3ee90ddd043a10cae7185c619a,openstack/openstacksdk,master,I4071788e99669f3ee90ddd043a10cae7185c619a,Show a pretty reason when service is disabled,ABANDONED,2019-06-05 22:25:50.000000000,2019-06-05 22:47:38.000000000,,[],"[{'number': 1, 'created': '2019-06-05 22:25:50.000000000', 'files': ['openstack/config/cloud_region.py', 'openstack/exceptions.py', 'openstack/service_description.py', 'openstack/tests/unit/config/test_from_conf.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d7c08c1c90451b82e752c0285e4c31f828ba7e58', 'message': ""Show a pretty reason when service is disabled\n\nPreviously attempting to access the proxy for a disabled service would\nresult in;\n\nAttributeError: 'NoneType' object has no attribute '_connection'\n\nWith this commit, you get a real thing back instead of an exception, but\nwhen you try to do anything with it, *that* raises an exception with a\nhelpful message, including whatever reason was registered when the\nservice wsa disabled.\n\nChange-Id: I4071788e99669f3ee90ddd043a10cae7185c619a\n""}]",0,663453,d7c08c1c90451b82e752c0285e4c31f828ba7e58,2,0,1,14070,,,0,"Show a pretty reason when service is disabled

Previously attempting to access the proxy for a disabled service would
result in;

AttributeError: 'NoneType' object has no attribute '_connection'

With this commit, you get a real thing back instead of an exception, but
when you try to do anything with it, *that* raises an exception with a
helpful message, including whatever reason was registered when the
service wsa disabled.

Change-Id: I4071788e99669f3ee90ddd043a10cae7185c619a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/53/663453/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/config/cloud_region.py', 'openstack/exceptions.py', 'openstack/service_description.py', 'openstack/tests/unit/config/test_from_conf.py']",4,d7c08c1c90451b82e752c0285e4c31f828ba7e58,disabled-service-with-reason," def _test_missing_invalid_permutations(self, expected_reason): adap = conn.orchestration ex = self.assertRaises( exceptions.ServiceDisabledException, getattr, adap, 'get') self.assertIn(""Service 'orchestration' is disabled because its "" ""configuration could not be loaded."", ex.message) self.assertIn(expected_reason, ex.message) self._test_missing_invalid_permutations( ""No section for project 'heat' (service type 'orchestration') was "" ""present in the config."") self._test_missing_invalid_permutations( ""Encountered an exception attempting to process config for "" ""project 'heat' (service type 'orchestration'): no such option"") self._test_missing_invalid_permutations( ""Encountered an exception attempting to process config for "" ""project 'heat' (service type 'orchestration'): interface and "" ""valid_interfaces are mutually exclusive."")"," def _test_missing_invalid_permutations(self): # TODO(efried): Better exception eventually self.assertRaises(AttributeError, getattr, conn, 'orchestration') self._test_missing_invalid_permutations() self._test_missing_invalid_permutations() self._test_missing_invalid_permutations()",40,13
openstack%2Fopenstacksdk~master~Ice984fe26bc2a27a91e833300d34cdc83b2d5c4a,openstack/openstacksdk,master,Ice984fe26bc2a27a91e833300d34cdc83b2d5c4a,Disable service on exception in from_conf,ABANDONED,2019-06-05 22:03:44.000000000,2019-06-05 22:47:33.000000000,,[],"[{'number': 1, 'created': '2019-06-05 22:03:44.000000000', 'files': ['openstack/config/cloud_region.py', 'openstack/tests/unit/config/test_from_conf.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/91080491b556598ae5602e462a3f2b4ea803fd60', 'message': ""Disable service on exception in from_conf\n\nIn the following cases, we used to happily allow the Connection to the\nservice, using default Adapter settings:\n\n- If the conf section for a given service is missing, or present but\n  without ksa adapter opts registered.\n- If the conf section for a given service has bogus values.\n\nNow for these scenarios, we disable that service, so that attempting to\naccess its Proxy gives you:\n\nAttributeError: 'NoneType' object has no attribute '_connection'\n\nWhen we disable the service, we register a helpful reason, which will\neventually be plumbed into the thing you get back instead of your Proxy\nso you get something better than the above.\n\nChange-Id: Ice984fe26bc2a27a91e833300d34cdc83b2d5c4a\n""}]",0,663449,91080491b556598ae5602e462a3f2b4ea803fd60,3,0,1,14070,,,0,"Disable service on exception in from_conf

In the following cases, we used to happily allow the Connection to the
service, using default Adapter settings:

- If the conf section for a given service is missing, or present but
  without ksa adapter opts registered.
- If the conf section for a given service has bogus values.

Now for these scenarios, we disable that service, so that attempting to
access its Proxy gives you:

AttributeError: 'NoneType' object has no attribute '_connection'

When we disable the service, we register a helpful reason, which will
eventually be plumbed into the thing you get back instead of your Proxy
so you get something better than the above.

Change-Id: Ice984fe26bc2a27a91e833300d34cdc83b2d5c4a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/49/663449/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/config/cloud_region.py', 'openstack/tests/unit/config/test_from_conf.py']",2,91080491b556598ae5602e462a3f2b4ea803fd60,from_conf-exception-cases," # monasca-api not in the service catalog 'monasca-api': {}, # TODO(efried): Better exception eventually self.assertRaises(AttributeError, getattr, conn, 'orchestration')"," # monasca not in the service catalog 'monasca': {}, # TODO(efried): This works, despite caller munging adapter opts. adap = conn.orchestration self.assertIsNone(adap.region_name) self.assertEqual('orchestration', adap.service_type) self.assertEqual('public', adap.interface) self.assertIsNone(adap.endpoint_override) self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'orchestration', append=['foo']), json={'foo': {}}) ]) adap.get('/foo') self.assert_calls() # TODO(efried): This should refuse to create a usable proxy # from_conf should handle NoSuchOptError from process_conf_options # TODO(efried): This should refuse to create a usable proxy # from_conf should handle NoSuchOptError from process_conf_options # TODO(efried): This should raise an exception right away (right?) # from_conf should handle TypeError from process_conf_options",37,34
openstack%2Fironic~master~I71abd44458d20f29316114713790cf9b17ef836a,openstack/ironic,master,I71abd44458d20f29316114713790cf9b17ef836a,Remove XML support in parsable_error middleware,MERGED,2019-06-03 14:50:40.000000000,2019-06-05 22:46:53.000000000,2019-06-05 06:02:02.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-06-03 14:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/867b14476e4d4905d490fd6158ae1f347e15cea7', 'message': 'Remove XML support in parsable_error middleware\n\nOur API no longer supports XML anyway[0], so remove the XML handling in\nthis middleware.\n\n[0] http://paste.openstack.org/show/752441/\n\nChange-Id: I71abd44458d20f29316114713790cf9b17ef836a\n'}, {'number': 2, 'created': '2019-06-03 21:11:35.000000000', 'files': ['ironic/api/middleware/parsable_error.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/99137706e45f49a908471ffc07dbc4e539d2a85c', 'message': 'Remove XML support in parsable_error middleware\n\nOur API no longer supports XML anyway[0], so remove the XML handling in\nthis middleware.\n\n[0] http://paste.openstack.org/show/752441/\n\nChange-Id: I71abd44458d20f29316114713790cf9b17ef836a\n'}]",0,662780,99137706e45f49a908471ffc07dbc4e539d2a85c,27,9,2,10343,,,0,"Remove XML support in parsable_error middleware

Our API no longer supports XML anyway[0], so remove the XML handling in
this middleware.

[0] http://paste.openstack.org/show/752441/

Change-Id: I71abd44458d20f29316114713790cf9b17ef836a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/80/662780/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic/api/middleware/parsable_error.py'],1,867b14476e4d4905d490fd6158ae1f347e15cea7,662780," if six.PY3: app_iter = [i.decode('utf-8') for i in app_iter] body = [json.dumps({'error_message': '\n'.join(app_iter)})] if six.PY3: body = [item.encode('utf-8') for item in body] state['headers'].append(('Content-Type', 'application/json'))","from xml import etree as et if (req.accept.best_match(['application/json', 'application/xml']) == 'application/xml'): try: # simple check xml is valid body = [et.ElementTree.tostring( et.ElementTree.fromstring('<error_message>' + '\n'.join(app_iter) + '</error_message>'))] except et.ElementTree.ParseError as err: LOG.error('Error parsing HTTP response: %s', err) body = ['<error_message>%s' % state['status_code'] + '</error_message>'] state['headers'].append(('Content-Type', 'application/xml')) else: if six.PY3: app_iter = [i.decode('utf-8') for i in app_iter] body = [json.dumps({'error_message': '\n'.join(app_iter)})] if six.PY3: body = [item.encode('utf-8') for item in body] state['headers'].append(('Content-Type', 'application/json'))",6,21
openstack%2Foctavia-lib~master~I531e92ead8aad8930f477904d5202035067e9f7c,openstack/octavia-lib,master,I531e92ead8aad8930f477904d5202035067e9f7c,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:39:25.000000000,2019-06-05 22:34:11.000000000,2019-06-05 22:34:11.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 11:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/d3ae8b18a393e7e9cef0e860aa1bd48434c26749', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I531e92ead8aad8930f477904d5202035067e9f7c\n'}, {'number': 2, 'created': '2019-04-23 13:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/360ab519a8bf69195497db1965172f4788038848', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I531e92ead8aad8930f477904d5202035067e9f7c\n'}, {'number': 3, 'created': '2019-06-05 21:37:22.000000000', 'files': ['doc/source/contributor/index.rst', 'doc/source/library/index.rst', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/625f171dcd304b45fdb2f59fe3142932aae43b29', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I531e92ead8aad8930f477904d5202035067e9f7c\n'}]",0,655043,625f171dcd304b45fdb2f59fe3142932aae43b29,11,3,3,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I531e92ead8aad8930f477904d5202035067e9f7c
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/43/655043/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,d3ae8b18a393e7e9cef0e860aa1bd48434c26749,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},2,2
openstack%2Fopenstack-helm-infra~master~Idc8d97e5111628d1ed4f25145086d54c5e0136e7,openstack/openstack-helm-infra,master,Idc8d97e5111628d1ed4f25145086d54c5e0136e7,Grafana: Add Selenium tests to helm test pod,MERGED,2019-06-04 18:12:20.000000000,2019-06-05 22:25:09.000000000,2019-06-05 22:25:09.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-06-04 18:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1a8e73cb90d094222f68f579d4e6c38d09abfc09', 'message': 'WIP: Grafana: Add Selenium tests to helm test pod\n\nThis adds selenium tests for the grafana chart to the helm test\npod to help ensure the Grafana deployment is functional and\naccessible\n\nChange-Id: Idc8d97e5111628d1ed4f25145086d54c5e0136e7\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-06-04 18:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6f4554566975b36ca48f5924c027962473d7cdce', 'message': 'Grafana: Add Selenium tests to helm test pod\n\nThis adds selenium tests for the grafana chart to the helm test\npod to help ensure the Grafana deployment is functional and\naccessible\n\nChange-Id: Idc8d97e5111628d1ed4f25145086d54c5e0136e7\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-06-04 18:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b5f94306da933ed31318d34d0a91f62b8c0eb869', 'message': 'Grafana: Add Selenium tests to helm test pod\n\nThis adds selenium tests for the grafana chart to the helm test\npod to help ensure the Grafana deployment is functional and\naccessible\n\nChange-Id: Idc8d97e5111628d1ed4f25145086d54c5e0136e7\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-06-04 19:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/53c5634537d795871cb4db43bd97b455f61ed5a9', 'message': 'Grafana: Add Selenium tests to helm test pod\n\nThis adds selenium tests for the grafana chart to the helm test\npod to help ensure the Grafana deployment is functional and\naccessible\n\nChange-Id: Idc8d97e5111628d1ed4f25145086d54c5e0136e7\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 5, 'created': '2019-06-04 20:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/17cdfb6c9427836fc81f0479b4c3c5bd3f68248f', 'message': 'Grafana: Add Selenium tests to helm test pod\n\nThis adds selenium tests for the grafana chart to the helm test\npod to help ensure the Grafana deployment is functional and\naccessible\n\nChange-Id: Idc8d97e5111628d1ed4f25145086d54c5e0136e7\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 6, 'created': '2019-06-04 22:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/98a0e0901e4ca4a408f6d7aa97ee5bd43ad101f5', 'message': 'Grafana: Add Selenium tests to helm test pod\n\nThis adds selenium tests for the grafana chart to the helm test\npod to help ensure the Grafana deployment is functional and\naccessible\n\nChange-Id: Idc8d97e5111628d1ed4f25145086d54c5e0136e7\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 7, 'created': '2019-06-05 13:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/05bdc8c45568640dd7ae022d7ff4aaa79d7bad7a', 'message': 'Grafana: Add Selenium tests to helm test pod\n\nThis adds selenium tests for the grafana chart to the helm test\npod to help ensure the Grafana deployment is functional and\naccessible\n\nChange-Id: Idc8d97e5111628d1ed4f25145086d54c5e0136e7\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 8, 'created': '2019-06-05 13:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0453ba4b97019b7cd9d1153a041a960b20352b5c', 'message': 'Grafana: Add Selenium tests to helm test pod\n\nThis adds selenium tests for the grafana chart to the helm test\npod to help ensure the Grafana deployment is functional and\naccessible\n\nChange-Id: Idc8d97e5111628d1ed4f25145086d54c5e0136e7\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 9, 'created': '2019-06-05 16:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b96b7739a8ff628513a2affd9e2f9f806f3f3550', 'message': 'Grafana: Add Selenium tests to helm test pod\n\nThis adds selenium tests for the grafana chart to the helm test\npod to help ensure the Grafana deployment is functional and\naccessible\n\nChange-Id: Idc8d97e5111628d1ed4f25145086d54c5e0136e7\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 10, 'created': '2019-06-05 16:09:07.000000000', 'files': ['grafana/values.yaml', 'grafana/templates/bin/_selenium-tests.py.tpl', 'grafana/templates/pod-helm-tests.yaml', 'grafana/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/25e105f26a8048ef52b4b8e328f4f1e6364ab313', 'message': 'Grafana: Add Selenium tests to helm test pod\n\nThis adds selenium tests for the grafana chart to the helm test\npod to help ensure the Grafana deployment is functional and\naccessible\n\nChange-Id: Idc8d97e5111628d1ed4f25145086d54c5e0136e7\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",1,663111,25e105f26a8048ef52b4b8e328f4f1e6364ab313,27,5,10,17591,,,0,"Grafana: Add Selenium tests to helm test pod

This adds selenium tests for the grafana chart to the helm test
pod to help ensure the Grafana deployment is functional and
accessible

Change-Id: Idc8d97e5111628d1ed4f25145086d54c5e0136e7
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/11/663111/8 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/values.yaml', 'grafana/templates/bin/_selenium-tests.py.tpl', 'grafana/templates/pod-helm-tests.yaml', 'grafana/templates/configmap-bin.yaml']",4,1a8e73cb90d094222f68f579d4e6c38d09abfc09,grafana-helm-tests," selenium-tests.py: | {{ tuple ""bin/_selenium-tests.py.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }}",,46,0
openstack%2Fcinder~stable%2Frocky~Icabc4a67d3f5462fe24e4027e84e56a001e1b2b8,openstack/cinder,stable/rocky,Icabc4a67d3f5462fe24e4027e84e56a001e1b2b8,lvm: Only use initiators when comparing connector dicts,MERGED,2019-05-22 07:24:57.000000000,2019-06-05 22:19:14.000000000,2019-06-05 22:19:14.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-22 07:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f759cbdc4b29c2852325bd5f4c203a97b10154e', 'message': 'lvm: Only use initiators when comparing connector dicts\n\nIb5aa1b7578f7d3200185566ff5f8634dd519d020 previously fixed the premature\ntermination of multi attached iSCSI/LVM volumes by comparing the\nprovided connector dict against that stored with any remaining active\nattachments. Only allowing the termination to proceed if a single active\nattachment remained using the provided connector.\n\nHowever this check fails if two instances on the same host are connected\nto the same multi attach volume using different mountpoints as these are\nnow stored within the connector. This behaviour was introduced during\nQueens by If3afe8d8bd6b8c327ccc7d1140053bccaf7e1ad7 and\nI11ba269c3f7a2e7707b2b7e27d26eb7a2c948a82 to workaround differences\nbetween the cinderv2 and cinderv3 APIs.\n\nThis change corrects this by only comparing the initiator key of the\nconnectors ensuring terminate connection is only called when a single\nattachment remains on a given host using a specific initiator.\n\nCloses-Bug: #1825957\nChange-Id: Icabc4a67d3f5462fe24e4027e84e56a001e1b2b8\n(cherry picked from commit c1388ce1c05f3e3e53210d52bc2efafbe191135d)\n(cherry picked from commit 4910ca4d7337298553f3d0b58ceccf925ae39f1b)\n'}, {'number': 2, 'created': '2019-05-22 11:17:00.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_lvm_driver.py', 'cinder/volume/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d5291871bb0d21dc74e1003480b3cde8fdbef1a3', 'message': 'lvm: Only use initiators when comparing connector dicts\n\nIb5aa1b7578f7d3200185566ff5f8634dd519d020 previously fixed the premature\ntermination of multi attached iSCSI/LVM volumes by comparing the\nprovided connector dict against that stored with any remaining active\nattachments. Only allowing the termination to proceed if a single active\nattachment remained using the provided connector.\n\nHowever this check fails if two instances on the same host are connected\nto the same multi attach volume using different mountpoints as these are\nnow stored within the connector. This behaviour was introduced during\nQueens by If3afe8d8bd6b8c327ccc7d1140053bccaf7e1ad7 and\nI11ba269c3f7a2e7707b2b7e27d26eb7a2c948a82 to workaround differences\nbetween the cinderv2 and cinderv3 APIs.\n\nThis change corrects this by only comparing the initiator key of the\nconnectors ensuring terminate connection is only called when a single\nattachment remains on a given host using a specific initiator.\n\nNOTE(lyarwood): Conflict as I253123d5451b32f0e3143916e41aaa1af75561c2\nis not present in stable/rocky and as such fake_volume_attachment_obj\nis now used to create the required test attachment objects.\n\nConflicts:\n    cinder/tests/unit/volume/drivers/test_lvm_driver.py\n\nCloses-Bug: #1825957\nChange-Id: Icabc4a67d3f5462fe24e4027e84e56a001e1b2b8\n(cherry picked from commit c1388ce1c05f3e3e53210d52bc2efafbe191135d)\n(cherry picked from commit 4910ca4d7337298553f3d0b58ceccf925ae39f1b)\n'}]",0,660586,d5291871bb0d21dc74e1003480b3cde8fdbef1a3,46,19,2,10135,,,0,"lvm: Only use initiators when comparing connector dicts

Ib5aa1b7578f7d3200185566ff5f8634dd519d020 previously fixed the premature
termination of multi attached iSCSI/LVM volumes by comparing the
provided connector dict against that stored with any remaining active
attachments. Only allowing the termination to proceed if a single active
attachment remained using the provided connector.

However this check fails if two instances on the same host are connected
to the same multi attach volume using different mountpoints as these are
now stored within the connector. This behaviour was introduced during
Queens by If3afe8d8bd6b8c327ccc7d1140053bccaf7e1ad7 and
I11ba269c3f7a2e7707b2b7e27d26eb7a2c948a82 to workaround differences
between the cinderv2 and cinderv3 APIs.

This change corrects this by only comparing the initiator key of the
connectors ensuring terminate connection is only called when a single
attachment remains on a given host using a specific initiator.

NOTE(lyarwood): Conflict as I253123d5451b32f0e3143916e41aaa1af75561c2
is not present in stable/rocky and as such fake_volume_attachment_obj
is now used to create the required test attachment objects.

Conflicts:
    cinder/tests/unit/volume/drivers/test_lvm_driver.py

Closes-Bug: #1825957
Change-Id: Icabc4a67d3f5462fe24e4027e84e56a001e1b2b8
(cherry picked from commit c1388ce1c05f3e3e53210d52bc2efafbe191135d)
(cherry picked from commit 4910ca4d7337298553f3d0b58ceccf925ae39f1b)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/660586/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_lvm_driver.py', 'cinder/volume/drivers/lvm.py']",2,1f759cbdc4b29c2852325bd5f4c203a97b10154e,bug/1825957, if sum(1 for a in attachments if a.connector and a.connector['initiator'] == connector['initiator']) > 1:, if sum(1 for a in attachments if a.connector == connector) > 1:,54,1
openstack%2Fneutron-tempest-plugin~master~Ib41b58d25955b9a7fa0c06c9257bf0db17f4f8fc,openstack/neutron-tempest-plugin,master,Ib41b58d25955b9a7fa0c06c9257bf0db17f4f8fc,Scenario test case to check connectivity when dvr and non-dvr routers used,MERGED,2019-06-04 10:24:24.000000000,2019-06-05 22:19:12.000000000,2019-06-05 22:19:12.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 10:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/66b54401134937c611be975bcdc87abea0db3a34', 'message': 'Scenario test case to check connectivity when dvr and non-dvr routers used\n\nSubnet is connected to dvr and non-dvr routers in the same time, test\nensures that connectivity from VM to both routers works properly.\n\nChange-Id: Ib41b58d25955b9a7fa0c06c9257bf0db17f4f8fc\nRelated-Bug: #1831575\n'}, {'number': 2, 'created': '2019-06-04 10:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5374611f948c9c53273240017d80a3fbf1ad0726', 'message': 'Scenario test case to check connectivity when dvr and non-dvr routers used\n\nSubnet is connected to dvr and non-dvr routers in the same time, test\nensures that connectivity from VM to both routers works properly.\n\nDepends-On: https://review.opendev.org/662999\n\nChange-Id: Ib41b58d25955b9a7fa0c06c9257bf0db17f4f8fc\nRelated-Bug: #1831575\n'}, {'number': 3, 'created': '2019-06-04 12:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/56ae9ceb64cfef08befb35f21e661fd182e18cc3', 'message': 'Scenario test case to check connectivity when dvr and non-dvr routers used\n\nSubnet is connected to dvr and non-dvr routers in the same time, test\nensures that connectivity from VM to both routers works properly.\n\nDepends-On: https://review.opendev.org/662999\n\nChange-Id: Ib41b58d25955b9a7fa0c06c9257bf0db17f4f8fc\nRelated-Bug: #1831575\n'}, {'number': 4, 'created': '2019-06-04 21:11:09.000000000', 'files': ['neutron_tempest_plugin/scenario/test_connectivity.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d2a6accd066492ed7f6df30397a59b5845e398a2', 'message': 'Scenario test case to check connectivity when dvr and non-dvr routers used\n\nSubnet is connected to dvr and non-dvr routers in the same time, test\nensures that connectivity from VM to both routers works properly.\n\nDepends-On: https://review.opendev.org/662999\n\nChange-Id: Ib41b58d25955b9a7fa0c06c9257bf0db17f4f8fc\nRelated-Bug: #1831575\n'}]",6,663000,d2a6accd066492ed7f6df30397a59b5845e398a2,16,5,4,11975,,,0,"Scenario test case to check connectivity when dvr and non-dvr routers used

Subnet is connected to dvr and non-dvr routers in the same time, test
ensures that connectivity from VM to both routers works properly.

Depends-On: https://review.opendev.org/662999

Change-Id: Ib41b58d25955b9a7fa0c06c9257bf0db17f4f8fc
Related-Bug: #1831575
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/00/663000/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_connectivity.py'],1,66b54401134937c611be975bcdc87abea0db3a34,bug/1831575," @utils.requires_ext(extension=""dvr"", service=""network"") @decorators.idempotent_id('69d3650a-5c32-40bc-ae56-5c4c849ddd37') def test_connectivity_dvr_and_no_dvr_routers_in_same_subnet(self): """"""This test case tests connectivity between vm and 2 routers. Subnet is connected to dvr and non-dvr routers in the same time, test ensures that connectivity from VM to both routers is working. Test scenario: +----------------+ +------------+ | Non-dvr router | | DVR router | | | | | | 10.0.0.1 | | 10.0.0.x | +-------+--------+ +-----+------+ | | | 10.0.0.0/24 | +----------------+----------------+ | +-+-+ |VM | +---+ where: 10.0.0.1 - is subnet's gateway IP address, 10.0.0.x - is any other IP address taken from subnet's range Test ensures that both 10.0.0.1 and 10.0.0.x IP addresses are reachable from VM. """""" network = self.create_network() subnet = self.create_subnet( network, cidr=""10.0.0.0/24"", gateway=""10.0.0.1"") non_dvr_router = self.create_router_by_client( tenant_id=self.client.tenant_id, is_admin=True, router_name=data_utils.rand_name(""dvr-2-routers-same-network""), admin_state_up=True, distributed=False) dvr_router = self.create_router_by_client( tenant_id=self.client.tenant_id, is_admin=True, router_name=data_utils.rand_name(""nodvr-2-rotuers-same-network""), admin_state_up=True, distributed=True) self.create_router_interface(non_dvr_router['id'], subnet['id']) dvr_router_port = self.create_port(network) self.client.add_router_interface_with_port_id( dvr_router['id'], dvr_router_port['id']) vm_port = self.create_port( network, security_groups=[self.secgroup['id']]) self.create_server( flavor_ref=CONF.compute.flavor_ref, image_ref=CONF.compute.image_ref, key_name=self.keypair['name'], networks=[{'port': vm_port['id']}]) fip = self.create_and_associate_floatingip(vm_port['id']) sshclient = ssh.Client( fip['floating_ip_address'], CONF.validation.image_ssh_user, pkey=self.keypair['private_key']) self.check_remote_connectivity( sshclient, '10.0.0.1', ping_count=10) self.check_remote_connectivity( sshclient, dvr_router_port['fixed_ips'][0]['ip_address'], ping_count=10)",,72,0
openstack%2Fneutron~master~I7cd146691dce1a690e1d2c309dfd54b4a0032f76,openstack/neutron,master,I7cd146691dce1a690e1d2c309dfd54b4a0032f76,Canonicalize IPv6 ICMP protocol name in security groups,MERGED,2017-04-04 21:41:09.000000000,2019-06-05 22:19:10.000000000,2019-06-05 22:19:09.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 7249}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17776}, {'_account_id': 20330}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2017-04-04 21:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/df5c93e08b6907d1a88f6118e4a2669e26a0ff87', 'message': ""Canonicalize ICMP protocol name in security groups\n\nCurrently, 'icmp', 'ipv6-icmp' and 'icmpv6' can be\nspecified as an IPv6 ICMP protocol value.  This can\nlead to duplicate entries in the DB for doing exactly\nthe same thing.\n\nChange them all to be 'icmp' so this doesn't happen.\n\n** Still need to work on squashing existing duplicates\n\nChange-Id: I7cd146691dce1a690e1d2c309dfd54b4a0032f76\nParticl-Bug: #1582500\n""}, {'number': 2, 'created': '2017-04-20 21:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/70256c3906134ba98864320e2897d8a8c96bfd48', 'message': ""Canonicalize IPc6 ICMP protocol name in security groups\n\nCurrently, 'icmp', 'ipv6-icmp' and 'icmpv6' can be\nspecified as an IPv6 ICMP protocol value.  This can\nlead to duplicate entries in the DB for doing exactly\nthe same thing.\n\nChange them all to be 'ipv6-icmp' so this doesn't happen.\n\nChange-Id: I7cd146691dce1a690e1d2c309dfd54b4a0032f76\nPartial-Bug: #1582500\n""}, {'number': 3, 'created': '2017-04-21 18:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b289df91abdfb10e1b19e10e4e2a4b25fdbf6c5', 'message': ""Canonicalize IPv6 ICMP protocol name in security groups\n\nCurrently, 'icmp', 'ipv6-icmp' and 'icmpv6' can be\nspecified as an IPv6 ICMP protocol value.  This can\nlead to duplicate entries in the DB for doing exactly\nthe same thing.\n\nChange to always be 'ipv6-icmp' so this doesn't happen.\n\nChange-Id: I7cd146691dce1a690e1d2c309dfd54b4a0032f76\nPartial-Bug: #1582500\n""}, {'number': 4, 'created': '2017-06-05 20:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0a2c71bc74325b9c2b69b719cd94d6e2f722bf9', 'message': ""Canonicalize IPv6 ICMP protocol name in security groups\n\nCurrently, 'icmp', 'ipv6-icmp' and 'icmpv6' can be\nspecified as an IPv6 ICMP protocol value.  This can\nlead to duplicate entries in the DB for doing exactly\nthe same thing.\n\nChange to always be 'ipv6-icmp' so this doesn't happen.\n\nChange-Id: I7cd146691dce1a690e1d2c309dfd54b4a0032f76\nPartial-Bug: #1582500\n""}, {'number': 5, 'created': '2017-06-06 16:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e5e7e7253b9ba6e292e2432dc25eb90c456568b', 'message': ""Canonicalize IPv6 ICMP protocol name in security groups\n\nCurrently, 'icmp', 'ipv6-icmp' and 'icmpv6' can be\nspecified as an IPv6 ICMP protocol value.  This can\nlead to duplicate entries in the DB for doing exactly\nthe same thing.\n\nChange to always be 'ipv6-icmp' so this doesn't happen.\n\nChange-Id: I7cd146691dce1a690e1d2c309dfd54b4a0032f76\nPartial-Bug: #1582500\n""}, {'number': 6, 'created': '2019-04-26 22:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6636e3f98c768bbfca928cffd9c77a9532a79d98', 'message': ""Canonicalize IPv6 ICMP protocol name in security groups\n\nCurrently, 'icmp', 'ipv6-icmp' and 'icmpv6' can be\nspecified as an IPv6 ICMP protocol value.  This can\nlead to duplicate entries in the DB for doing exactly\nthe same thing.\n\nChange to always be 'ipv6-icmp' so this doesn't happen.\n\nChange-Id: I7cd146691dce1a690e1d2c309dfd54b4a0032f76\nPartial-Bug: #1582500\n""}, {'number': 7, 'created': '2019-05-01 13:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/224de4d1835f17d7071ad34ed441575f67f27138', 'message': ""Canonicalize IPv6 ICMP protocol name in security groups\n\nCurrently, 'icmp', 'ipv6-icmp' and 'icmpv6' can be\nspecified as an IPv6 ICMP protocol value.  This can\nlead to duplicate entries in the DB for doing exactly\nthe same thing.\n\nChange to always be 'ipv6-icmp' so this doesn't happen.\n\nChange-Id: I7cd146691dce1a690e1d2c309dfd54b4a0032f76\nPartial-Bug: #1582500\n""}, {'number': 8, 'created': '2019-05-01 18:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/69434c196620eaca0d9f87726d0f4b7c9eca5f75', 'message': ""Canonicalize IPv6 ICMP protocol name in security groups\n\nCurrently, 'icmp', 'ipv6-icmp' and 'icmpv6' can be\nspecified as an IPv6 ICMP protocol value.  This can\nlead to duplicate entries in the DB for doing exactly\nthe same thing.\n\nChange to always be 'ipv6-icmp' so this doesn't happen.\n\nChange-Id: I7cd146691dce1a690e1d2c309dfd54b4a0032f76\nPartial-Bug: #1582500\n""}, {'number': 9, 'created': '2019-05-01 20:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b10c260251909ab9715acad97953f66f1cb16e69', 'message': ""Canonicalize IPv6 ICMP protocol name in security groups\n\nCurrently, 'icmp', 'ipv6-icmp' and 'icmpv6' can be\nspecified as an IPv6 ICMP protocol value.  This can\nlead to duplicate entries in the DB for doing exactly\nthe same thing.\n\nChange to always be 'ipv6-icmp' so this doesn't happen.\n\nChange-Id: I7cd146691dce1a690e1d2c309dfd54b4a0032f76\nPartial-Bug: #1582500\n""}, {'number': 10, 'created': '2019-05-17 19:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bfe2192b2e770a259b80e57ceadf9bc004181888', 'message': ""Canonicalize IPv6 ICMP protocol name in security groups\n\nCurrently, 'icmp', 'ipv6-icmp' and 'icmpv6' can be\nspecified as an IPv6 ICMP protocol value.  This can\nlead to duplicate entries in the DB for doing exactly\nthe same thing.\n\nChange to always be 'ipv6-icmp' so this doesn't happen,\nupdating any existing rules when a conflict is\ndetected.\n\nChange-Id: I7cd146691dce1a690e1d2c309dfd54b4a0032f76\nPartial-Bug: #1582500\n""}, {'number': 11, 'created': '2019-05-20 20:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/de0d84851745630abd6430facc13806d1c9fd697', 'message': ""Canonicalize IPv6 ICMP protocol name in security groups\n\nCurrently, 'icmp', 'ipv6-icmp' and 'icmpv6' can be\nspecified as an IPv6 ICMP protocol value.  This can\nlead to duplicate entries in the DB for doing exactly\nthe same thing.\n\nChange to always be 'ipv6-icmp' so this doesn't happen.\n\nExisting rules using one of the old values will now be\nreturned with 'ipv6-icmp' as the protocol value.\n\nDepends-on: https://review.opendev.org/660206\n\nChange-Id: I7cd146691dce1a690e1d2c309dfd54b4a0032f76\nPartial-Bug: #1582500\n""}, {'number': 12, 'created': '2019-05-21 13:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/242b19d209ca50e36815afd06dcc2f05a7711264', 'message': ""Canonicalize IPv6 ICMP protocol name in security groups\n\nCurrently, 'icmp', 'ipv6-icmp' and 'icmpv6' can be\nspecified as an IPv6 ICMP protocol value.  This can\nlead to duplicate entries in the DB for doing exactly\nthe same thing.\n\nChange to always be 'ipv6-icmp' so this doesn't happen.\n\nExisting rules using one of the old values will now be\nreturned with 'ipv6-icmp' as the protocol value.\n\nDepends-on: https://review.opendev.org/660206\nDepends-on: https://review.opendev.org/660387\n\nChange-Id: I7cd146691dce1a690e1d2c309dfd54b4a0032f76\nPartial-Bug: #1582500\n""}, {'number': 13, 'created': '2019-05-23 13:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b114bb0f0834e87310d6a5f24b259dddf1befe93', 'message': ""Canonicalize IPv6 ICMP protocol name in security groups\n\nCurrently, 'icmp', 'ipv6-icmp' and 'icmpv6' can be\nspecified as an IPv6 ICMP protocol value.  This can\nlead to duplicate entries in the DB for doing exactly\nthe same thing.\n\nChange to always be 'ipv6-icmp' so this doesn't happen.\n\nExisting rules using one of the old values will now be\nreturned with 'ipv6-icmp' as the protocol value.\n\nDepends-on: https://review.opendev.org/660206\nDepends-on: https://review.opendev.org/660387\n\nChange-Id: I7cd146691dce1a690e1d2c309dfd54b4a0032f76\nPartial-Bug: #1582500\n""}, {'number': 14, 'created': '2019-05-25 01:46:42.000000000', 'files': ['neutron/db/securitygroups_db.py', 'releasenotes/notes/security-group-ipv6-icmp-221c59dcaf2caa3c.yaml', 'neutron/agent/linux/iptables_firewall.py', 'neutron/common/_constants.py', 'neutron/tests/unit/extensions/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/42074a67259eb4bfe70631d087fa4fc4d509ab51', 'message': ""Canonicalize IPv6 ICMP protocol name in security groups\n\nCurrently, 'icmp', 'ipv6-icmp' and 'icmpv6' can be\nspecified as an IPv6 ICMP protocol value.  This can\nlead to duplicate entries in the DB for doing exactly\nthe same thing.\n\nChange to always be 'ipv6-icmp' so this doesn't happen.\n\nExisting rules using one of the old values will now be\nreturned with 'ipv6-icmp' as the protocol value.\n\nDepends-on: https://review.opendev.org/660206\nDepends-on: https://review.opendev.org/660387\n\nChange-Id: I7cd146691dce1a690e1d2c309dfd54b4a0032f76\nPartial-Bug: #1582500\n""}]",19,453346,42074a67259eb4bfe70631d087fa4fc4d509ab51,130,17,14,1131,,,0,"Canonicalize IPv6 ICMP protocol name in security groups

Currently, 'icmp', 'ipv6-icmp' and 'icmpv6' can be
specified as an IPv6 ICMP protocol value.  This can
lead to duplicate entries in the DB for doing exactly
the same thing.

Change to always be 'ipv6-icmp' so this doesn't happen.

Existing rules using one of the old values will now be
returned with 'ipv6-icmp' as the protocol value.

Depends-on: https://review.opendev.org/660206
Depends-on: https://review.opendev.org/660387

Change-Id: I7cd146691dce1a690e1d2c309dfd54b4a0032f76
Partial-Bug: #1582500
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/453346/13 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/extensions/securitygroup.py', 'neutron/tests/unit/extensions/test_securitygroup.py']",2,df5c93e08b6907d1a88f6118e4a2669e26a0ff87,bug/1582500," security_group_id, 'ingress', const.PROTO_NAME_IPV6_FRAG) protocol = const.PROTO_NAME_ICMP def _test_create_security_group_rule_legacy_protocol_name(self, protocol): # protocol 'ipv6-icmp' will be changed to 'icmp' if k == 'protocol': v = const.PROTO_NAME_ICMP def test_create_security_group_rule_ipv6_icmp_legacy_protocol_name(self): protocol = const.PROTO_NAME_IPV6_ICMP_LEGACY self._test_create_security_group_rule_legacy_protocol_name(protocol) def test_create_security_group_rule_icmpv6_legacy_protocol_name(self): protocol = const.PROTO_NAME_IPV6_ICMP self._test_create_security_group_rule_legacy_protocol_name(protocol) "," security_group_id, 'ingress', const.PROTO_NAME_IPV6_ICMP) protocol = const.PROTO_NAME_IPV6_ICMP def test_create_security_group_rule_icmpv6_legacy_protocol_name(self): protocol = const.PROTO_NAME_IPV6_ICMP_LEGACY",24,5
openstack%2Foctavia-lib~master~I14432befcffbc5bb99fad83dc58eccd983b41fe4,openstack/octavia-lib,master,I14432befcffbc5bb99fad83dc58eccd983b41fe4,Cap sphinx for py2 to match global requirements,MERGED,2019-05-16 08:34:59.000000000,2019-06-05 21:52:13.000000000,2019-06-05 21:52:13.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-16 08:34:59.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/3fc6659b61bd1da3cb0e459f723b75b2ff33335b', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I14432befcffbc5bb99fad83dc58eccd983b41fe4\n'}]",0,659495,3fc6659b61bd1da3cb0e459f723b75b2ff33335b,7,3,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I14432befcffbc5bb99fad83dc58eccd983b41fe4
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/95/659495/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,3fc6659b61bd1da3cb0e459f723b75b2ff33335b,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-helm~master~I3616c05596b2bd94931c39fb774333bf65453d52,openstack/openstack-helm,master,I3616c05596b2bd94931c39fb774333bf65453d52,Horizon helm tests,MERGED,2019-06-04 13:38:39.000000000,2019-06-05 21:50:41.000000000,2019-06-05 21:50:41.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-06-04 13:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5d9ee65a4411ed1711913116c62572f74dcb91e1', 'message': 'WIP: Horizon helm tests\n\nChange-Id: I3616c05596b2bd94931c39fb774333bf65453d52\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-06-04 13:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8af0d48835f307f69eeddf611a3699a0013c008d', 'message': 'WIP: Horizon helm tests\n\nChange-Id: I3616c05596b2bd94931c39fb774333bf65453d52\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-06-04 13:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ece2ede2fd105aac63064f16a1573bc21a8f5c61', 'message': 'WIP: Horizon helm tests\n\nChange-Id: I3616c05596b2bd94931c39fb774333bf65453d52\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-06-04 13:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4c46dcffbd290a5df2e31b9d5da4e50380318357', 'message': 'WIP: Horizon helm tests\n\nChange-Id: I3616c05596b2bd94931c39fb774333bf65453d52\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 5, 'created': '2019-06-04 17:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a0dfb92bea77696fa6906fe42ab967da3cda9915', 'message': 'WIP: Horizon helm tests\n\nChange-Id: I3616c05596b2bd94931c39fb774333bf65453d52\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 6, 'created': '2019-06-04 17:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/592d25972939fa16bcce64be44ed160a030f3851', 'message': 'WIP: Horizon helm tests\n\nChange-Id: I3616c05596b2bd94931c39fb774333bf65453d52\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 7, 'created': '2019-06-04 18:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/446a2287e8d3af53673bf3f71702cbcccf2c3590', 'message': 'Horizon helm tests\n\nThis adds a helm test for Horizon, the helm test\nruns a selenium webdriver check to verify the dashboard\nis up\n\nChange-Id: I3616c05596b2bd94931c39fb774333bf65453d52\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 8, 'created': '2019-06-04 18:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a9a82d0a6a42133b18330fedbbd80ab41ecdfe49', 'message': 'Horizon helm tests\n\nThis adds a helm test for Horizon, the helm test\nruns a selenium webdriver check to verify the dashboard\nis up\n\nChange-Id: I3616c05596b2bd94931c39fb774333bf65453d52\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 9, 'created': '2019-06-04 18:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3aeab0b00ec1ecbfed135402f36033246cc4c7fd', 'message': 'Horizon helm tests\n\nThis adds a helm test for Horizon, the helm test\nruns a selenium webdriver check to verify the dashboard\nis up\n\nChange-Id: I3616c05596b2bd94931c39fb774333bf65453d52\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 10, 'created': '2019-06-04 19:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f6e3dc481c1f8e784d2ccbd5e2e0a0cf254cf010', 'message': 'Horizon helm tests\n\nThis adds a helm test for Horizon, the helm test\nruns a selenium webdriver check to verify the dashboard\nis up\n\nChange-Id: I3616c05596b2bd94931c39fb774333bf65453d52\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 11, 'created': '2019-06-05 15:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/af94140b01a152d9d9bcf81829adf987189b8d06', 'message': 'Horizon helm tests\n\nThis adds a helm test for Horizon, the helm test\nruns a selenium webdriver check to verify the dashboard\nis up\n\nChange-Id: I3616c05596b2bd94931c39fb774333bf65453d52\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 12, 'created': '2019-06-05 16:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c22330b8c7d29c63eaa136c208925ab68b3b279f', 'message': 'Horizon helm tests\n\nThis adds a helm test for Horizon, the helm test\nruns a selenium webdriver check to verify the dashboard\nis up\n\nChange-Id: I3616c05596b2bd94931c39fb774333bf65453d52\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 13, 'created': '2019-06-05 16:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f39c6decf9256240cde7f53a21942181f68e5c8a', 'message': 'Horizon helm tests\n\nThis adds a helm test for Horizon, the helm test\nruns a selenium webdriver check to verify the dashboard\nis up\n\nChange-Id: I3616c05596b2bd94931c39fb774333bf65453d52\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 14, 'created': '2019-06-05 17:41:29.000000000', 'files': ['horizon/templates/configmap-bin.yaml', 'horizon/templates/secret-keystone.yaml', 'tools/deployment/component/horizon/horizon.sh', 'horizon/templates/pod-helm-tests.yaml', 'tools/deployment/developer/common/100-horizon.sh', 'zuul.d/project.yaml', 'horizon/templates/bin/_selenium-test.py.tpl', 'zuul.d/jobs-openstack-helm.yaml', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0e1c296101ffc19fae4ec5851b786ad33cd00f41', 'message': 'Horizon helm tests\n\nThis adds a helm test for Horizon, the helm test\nruns a selenium webdriver check to verify the dashboard\nis up\n\nChange-Id: I3616c05596b2bd94931c39fb774333bf65453d52\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",6,663033,0e1c296101ffc19fae4ec5851b786ad33cd00f41,30,7,14,17591,,,0,"Horizon helm tests

This adds a helm test for Horizon, the helm test
runs a selenium webdriver check to verify the dashboard
is up

Change-Id: I3616c05596b2bd94931c39fb774333bf65453d52
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/33/663033/12 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/templates/configmap-bin.yaml', 'horizon/templates/secret-keystone.yaml', 'tools/deployment/component/horizon/horizon.sh', 'horizon/templates/pod-helm-tests.yaml', 'zuul.d/project.yaml', 'horizon/templates/bin/_selenium-test.py.tpl', 'zuul.d/jobs-openstack-helm.yaml', 'horizon/values.yaml']",8,5d9ee65a4411ed1711913116c62572f74dcb91e1,horizon-helm-tests, horizon_tests: init_container: null horizon_tests: volumeMounts: volumes: identity: admin: horizon-keystone-admin auth: admin: region_name: RegionOne username: admin password: password project_name: admin user_domain_name: default project_domain_name: default pod_helm_test: true,,183,0
openstack%2Fpython-troveclient~master~I318907b1d4a63017f4a6f7967312770f8784c1f4,openstack/python-troveclient,master,I318907b1d4a63017f4a6f7967312770f8784c1f4,Get all the database instances by admin,MERGED,2019-05-20 00:10:37.000000000,2019-06-05 21:44:55.000000000,2019-06-05 21:44:55.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-20 00:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/b3a73eaf25ca0edaccc8eed3ab86cd8b3864056c', 'message': 'Get all the database instances by admin\n\nCurrently, there is no way for the admin user to get databases of all\nthe projects, which is very important for auditing or billing purpose.\n\nWith this change, admin user can get all the database instances by\nrunning:\n\n$ openstack database instances list --all-projects\n\nChange-Id: I318907b1d4a63017f4a6f7967312770f8784c1f4\nStory: #2005735\nTask: #33393\n'}, {'number': 2, 'created': '2019-05-20 03:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/f639688fc463b347eba541d6b5cf3ed37e616f68', 'message': 'Get all the database instances by admin\n\nCurrently, there is no way for the admin user to get databases of all\nthe projects, which is very important for auditing or billing purpose.\n\nWith this change, admin user can get all the database instances by\nrunning:\n\n$ openstack database instances list --all-projects\n\nChange-Id: I318907b1d4a63017f4a6f7967312770f8784c1f4\nStory: #2005735\nTask: #33393\n'}, {'number': 3, 'created': '2019-05-20 08:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/6c14179b6c369931fa07804feb58e1e2e545aebe', 'message': 'Get all the database instances by admin\n\nCurrently, there is no way for the admin user to get databases of all\nthe projects, which is very important for auditing or billing purpose.\n\nWith this change, admin user can get all the database instances by\nrunning:\n\n$ openstack database instances list --all-projects\n\nChange-Id: I318907b1d4a63017f4a6f7967312770f8784c1f4\nStory: #2005735\nTask: #33393\n'}, {'number': 4, 'created': '2019-05-20 12:12:30.000000000', 'files': ['troveclient/common.py', 'troveclient/tests/test_common.py', 'troveclient/v1/management.py', 'troveclient/tests/test_management.py', 'troveclient/tests/test_v1_shell.py', 'troveclient/v1/client.py', 'troveclient/tests/fakes.py', 'troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/7a791177e86b8ce84267fb860ada36d6daf0417b', 'message': 'Get all the database instances by admin\n\nCurrently, there is no way for the admin user to get databases of all\nthe projects, which is very important for auditing or billing purpose.\n\nWith this change, admin user can get all the database instances by\nrunning:\n\n$ openstack database instances list --all-projects\n\nChange-Id: I318907b1d4a63017f4a6f7967312770f8784c1f4\nStory: #2005735\nTask: #33393\n'}]",0,659990,7a791177e86b8ce84267fb860ada36d6daf0417b,12,2,4,6732,,,0,"Get all the database instances by admin

Currently, there is no way for the admin user to get databases of all
the projects, which is very important for auditing or billing purpose.

With this change, admin user can get all the database instances by
running:

$ openstack database instances list --all-projects

Change-Id: I318907b1d4a63017f4a6f7967312770f8784c1f4
Story: #2005735
Task: #33393
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/90/659990/4 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/common.py', 'troveclient/tests/test_common.py', 'troveclient/v1/management.py', 'troveclient/v1/client.py', 'troveclient/tests/fakes.py', 'troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py']",7,b3a73eaf25ca0edaccc8eed3ab86cd8b3864056c,get-all-dbs," self.mgmt_client = self.app.client_manager.database.mgmt_instances self.instance_client.list.return_value = common.Paginated(self.data) self.assertEqual( database_instances.ListDatabaseInstances.columns, columns ) values = [ ('1234', 'test-member-1', 'mysql', '5.6', 'ACTIVE', '02', 2, 'regionOne'), ('5678', 'test-member-2', 'mysql', '5.6', 'ACTIVE', '2', 2, 'regionOne') ] def test_instance_list_all_projects(self): parsed_args = self.check_parser(self.cmd, [""--all-projects""], [(""all_projects"", True)]) columns, instances = self.cmd.take_action(parsed_args) self.mgmt_client.list.assert_called_once_with(**self.defaults) self.assertEqual( database_instances.ListDatabaseInstances.admin_columns, columns ) expected_instances = [ ('1234', 'test-member-1', 'fake_tenant_id', 'mysql', '5.6', 'ACTIVE', '02', 2), ('5678', 'test-member-2', 'fake_tenant_id', 'mysql', '5.6', 'ACTIVE', '2', 2) ] self.assertEqual(expected_instances, instances) "," columns = database_instances.ListDatabaseInstances.columns values = [('1234', 'test-member-1', 'mysql', '5.6', 'ACTIVE', '02', 2, 'regionOne'), ('5678', 'test-member-2', 'mysql', '5.6', 'ACTIVE', '2', 2, 'regionOne')] self.instance_client.list.return_value = common.Paginated(self.data) self.assertEqual(self.columns, columns)",107,57
openstack%2Fpuppet-tripleo~master~Iffb74b7f63d9e52b85ab137a71b63213d75b2d66,openstack/puppet-tripleo,master,Iffb74b7f63d9e52b85ab137a71b63213d75b2d66,Bump metadata for Train Milestone 1,MERGED,2019-06-05 15:33:49.000000000,2019-06-05 21:20:52.000000000,2019-06-05 21:20:52.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 15:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8111905b84df2b8277f9c24b3f75a7342fbb84f4', 'message': 'Bump metadata for Train Milestone 1\n\nChange-Id: Iffb74b7f63d9e52b85ab137a71b63213d75b2d66\n'}, {'number': 2, 'created': '2019-06-05 15:35:14.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/99b386e367831e97c689ebfc7d97296f799c79c2', 'message': 'Bump metadata for Train Milestone 1\n\nChange-Id: Iffb74b7f63d9e52b85ab137a71b63213d75b2d66\n'}]",0,663360,99b386e367831e97c689ebfc7d97296f799c79c2,7,2,2,14985,,,0,"Bump metadata for Train Milestone 1

Change-Id: Iffb74b7f63d9e52b85ab137a71b63213d75b2d66
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/60/663360/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,8111905b84df2b8277f9c24b3f75a7342fbb84f4,tripleo-m1," ""version"": ""11.0.0"", { ""name"": ""openstack/openstacklib"", ""version_requirement"": "">=15.0.0 <17.0.0"" },"," ""version"": ""10.5.0"", { ""name"": ""openstack/openstacklib"", ""version_requirement"": "">=15.0.0 <16.0.0"" },",2,2
openstack%2Fopenstack-ansible-os_keystone~stable%2Fstein~Ib926b14f82616f6b4d3c595a8848f191827b4b3e,openstack/openstack-ansible-os_keystone,stable/stein,Ib926b14f82616f6b4d3c595a8848f191827b4b3e,Remove unsupported option for keystone mapping,MERGED,2019-06-04 15:56:15.000000000,2019-06-05 21:19:46.000000000,2019-06-05 21:19:46.000000000,"[{'_account_id': 1004}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-04 15:56:15.000000000', 'files': ['templates/keystone.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/9019e2ce104f0805cfa89513ebd97cf694415183', 'message': 'Remove unsupported option for keystone mapping\n\nsaml2 is already configured as an entrypoint for the Mapped plugin.\n\nfix sp part of LP:#1808543\n\nRelated-Bug: 1808543\n\nmapping in the config has been disable in keystone\n\nChange-Id: Ib926b14f82616f6b4d3c595a8848f191827b4b3e\nDepends-On: Ibff3aa2a1ac1bbf2493aaf2419ee1e4dd763934c\n(cherry picked from commit c5dcce8879b45682c19ec6cce898273f99a16552)\n'}]",0,663077,9019e2ce104f0805cfa89513ebd97cf694415183,14,5,1,13095,,,0,"Remove unsupported option for keystone mapping

saml2 is already configured as an entrypoint for the Mapped plugin.

fix sp part of LP:#1808543

Related-Bug: 1808543

mapping in the config has been disable in keystone

Change-Id: Ib926b14f82616f6b4d3c595a8848f191827b4b3e
Depends-On: Ibff3aa2a1ac1bbf2493aaf2419ee1e4dd763934c
(cherry picked from commit c5dcce8879b45682c19ec6cce898273f99a16552)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/77/663077/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/keystone.conf.j2'],1,9019e2ce104f0805cfa89513ebd97cf694415183,bug/1808543-stable/stein,,saml2 = keystone.auth.plugins.mapped.Mapped,0,1
openstack%2Fopenstack-ansible-os_keystone~stable%2Fstein~I5117ccb6395c820a19d9070187b0a1e5c9fba448,openstack/openstack-ansible-os_keystone,stable/stein,I5117ccb6395c820a19d9070187b0a1e5c9fba448,remove old wsgi script in apache,MERGED,2019-06-04 15:55:51.000000000,2019-06-05 21:08:07.000000000,2019-06-05 21:08:07.000000000,"[{'_account_id': 1004}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 30381}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-06-04 15:55:51.000000000', 'files': ['templates/keystone-httpd.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/0e18ca5d1062c2e3bf37b5f0a0d1f81e7636ff9a', 'message': 'remove old wsgi script in apache\n\nWSGIScriptAliasMatch is a configuration for mod_wsgi that is not used\nanymore.\nPrevent ProxyPass to redirect all traffic to keystone uwsgi, the\n/Shibboleth.sso needs to be handled by mod_shib\n\nChange-Id: I5117ccb6395c820a19d9070187b0a1e5c9fba448\nDepends-On: Ibff3aa2a1ac1bbf2493aaf2419ee1e4dd763934c\n(cherry picked from commit fbed9e974c4198c18216ca4ad6297d438ba3256e)\n'}]",0,663075,0e18ca5d1062c2e3bf37b5f0a0d1f81e7636ff9a,15,6,1,13095,,,0,"remove old wsgi script in apache

WSGIScriptAliasMatch is a configuration for mod_wsgi that is not used
anymore.
Prevent ProxyPass to redirect all traffic to keystone uwsgi, the
/Shibboleth.sso needs to be handled by mod_shib

Change-Id: I5117ccb6395c820a19d9070187b0a1e5c9fba448
Depends-On: Ibff3aa2a1ac1bbf2493aaf2419ee1e4dd763934c
(cherry picked from commit fbed9e974c4198c18216ca4ad6297d438ba3256e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/75/663075/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/keystone-httpd.conf.j2'],1,0e18ca5d1062c2e3bf37b5f0a0d1f81e7636ff9a,cleanup-wsgi-apache-stable/stein, {% if keystone_sp != {} -%} ProxyPass /Shibboleth.sso ! {% endif %}, WSGIScriptAliasMatch ^(/v3/OS-FEDERATION/identity_providers/.*?/protocols/.*?/auth)$ /var/www/cgi-bin/keystone/main/$1,3,1
openstack%2Fglance~master~I6838d6b131bb6861084f9fde77b2756d6a4ec787,openstack/glance,master,I6838d6b131bb6861084f9fde77b2756d6a4ec787,"Remove additional "" from config help",MERGED,2019-06-04 14:08:08.000000000,2019-06-05 21:05:04.000000000,2019-06-05 21:05:04.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 22348}, {'_account_id': 26693}]","[{'number': 1, 'created': '2019-06-04 14:08:08.000000000', 'files': ['glance/common/config.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/be13eb05a0bc127069e743c9a6b14aa81b448b5d', 'message': 'Remove additional "" from config help\n\nThis change removes one "" that has been inserted by mistake.\nDepending on the editor in use this additional "" confuses\nsyntax highlighting issues otherwise.\n\nChange-Id: I6838d6b131bb6861084f9fde77b2756d6a4ec787\n'}]",0,663041,be13eb05a0bc127069e743c9a6b14aa81b448b5d,12,4,1,26693,,,0,"Remove additional "" from config help

This change removes one "" that has been inserted by mistake.
Depending on the editor in use this additional "" confuses
syntax highlighting issues otherwise.

Change-Id: I6838d6b131bb6861084f9fde77b2756d6a4ec787
",git fetch https://review.opendev.org/openstack/glance refs/changes/41/663041/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/common/config.py'],1,be13eb05a0bc127069e743c9a6b14aa81b448b5d,doc_fix_config_help_typo," help=_("""""""," help=_(""""""""",1,1
openstack%2Fopenstack-helm-infra~master~Iefa50f474b57a10c5e7e5a9032c7b23d26d97640,openstack/openstack-helm-infra,master,Iefa50f474b57a10c5e7e5a9032c7b23d26d97640,Update apparmor job after fluent-logging split,MERGED,2019-06-03 14:42:21.000000000,2019-06-05 20:44:17.000000000,2019-06-05 20:44:17.000000000,"[{'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-03 14:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4bb12bb608e2005892d48def2b4d84a8b6e21c26', 'message': 'Update apparmor job after fluent-logging split\n\nThis updates the apparmor job to account for the splitting of the\nfluent-logging chart, as it was missed during that change.  Now,\nthe apparmor job will deploy fluentbit as well as fluentd deployed\nas a daemonset running as a collecting agent\n\nChange-Id: Iefa50f474b57a10c5e7e5a9032c7b23d26d97640\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-06-03 16:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2277a9030a34f776f7a46f2f3cb111648e91beb4', 'message': 'Update apparmor job after fluent-logging split\n\nThis updates the apparmor job to account for the splitting of the\nfluent-logging chart, as it was missed during that change.  Now,\nthe apparmor job will deploy fluentbit as well as fluentd deployed\nas a daemonset running as a collecting agent\n\nChange-Id: Iefa50f474b57a10c5e7e5a9032c7b23d26d97640\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-06-03 19:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e408bbe827bbc636744a21fe8d8f3804841f7c63', 'message': 'Update apparmor job after fluent-logging split\n\nThis updates the apparmor job to account for the splitting of the\nfluent-logging chart, as it was missed during that change.  Now,\nthe apparmor job will deploy fluentbit as well as fluentd deployed\nas a daemonset running as a collecting agent\n\nChange-Id: Iefa50f474b57a10c5e7e5a9032c7b23d26d97640\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-06-04 12:58:33.000000000', 'files': ['tools/deployment/apparmor/120-openvswitch.sh', 'tools/deployment/apparmor/100-fluentbit.sh', 'tools/deployment/apparmor/110-fluentd-daemonset.sh', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0d2ac10fc27b1ddf8aac47da30181cd31c00d95b', 'message': 'Update apparmor job after fluent-logging split\n\nThis updates the apparmor job to account for the splitting of the\nfluent-logging chart, as it was missed during that change.  Now,\nthe apparmor job will deploy fluentbit as well as fluentd deployed\nas a daemonset running as a collecting agent\n\nChange-Id: Iefa50f474b57a10c5e7e5a9032c7b23d26d97640\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,662775,0d2ac10fc27b1ddf8aac47da30181cd31c00d95b,18,4,4,17591,,,0,"Update apparmor job after fluent-logging split

This updates the apparmor job to account for the splitting of the
fluent-logging chart, as it was missed during that change.  Now,
the apparmor job will deploy fluentbit as well as fluentd deployed
as a daemonset running as a collecting agent

Change-Id: Iefa50f474b57a10c5e7e5a9032c7b23d26d97640
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/75/662775/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/apparmor/120-openvswitch.sh', 'tools/deployment/apparmor/100-fluentbit.sh', 'tools/deployment/apparmor/110-fluentd-daemonset.sh', 'zuul.d/jobs.yaml']",4,4bb12bb608e2005892d48def2b4d84a8b6e21c26,fix-apparmor-job, - ./tools/deployment/apparmor/100-fluentbit.sh - ./tools/deployment/apparmor/110-fluentd-daemonset.sh - ./tools/deployment/apparmor/120-openvswitch.sh, - ./tools/deployment/apparmor/100-fluent-logging.sh - ./tools/deployment/apparmor/110-openvswitch.sh,184,8
openstack%2Fopenstack-helm~master~I84d3cf32e0c54d48d9f8b37a98a28d12b81a8719,openstack/openstack-helm,master,I84d3cf32e0c54d48d9f8b37a98a28d12b81a8719,Armada: Pin to Armada commit before Tiller 2.14.0,ABANDONED,2019-06-05 18:30:11.000000000,2019-06-05 20:24:09.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 18:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/664a52503d1e709908fc90016a2fa34eae03366e', 'message': ""Armada: Pin to Armada commit before Tiller 2.14.0\n\nThis pins the Armada job to build Armada from a commit reference\nprior to Armada's move to use Tiller 2.14.0, with the goal of\navoiding the issues referenced in the following Helm issue:\n\nhttps://github.com/helm/helm/issues/5750\n\nChange-Id: I84d3cf32e0c54d48d9f8b37a98a28d12b81a8719\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n""}, {'number': 2, 'created': '2019-06-05 19:25:12.000000000', 'files': ['tools/deployment/armada/015-armada-build.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ff05bd9362b8b9301bbfff1077d3a8d3a62d4890', 'message': ""Armada: Pin to Armada commit before Tiller 2.14.0\n\nThis pins the Armada job to build Armada from a commit reference\nprior to Armada's move to use Tiller 2.14.0, with the goal of\navoiding the issues referenced in the following Helm issue:\n\nhttps://github.com/helm/helm/issues/5750\n\nChange-Id: I84d3cf32e0c54d48d9f8b37a98a28d12b81a8719\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n""}]",0,663397,ff05bd9362b8b9301bbfff1077d3a8d3a62d4890,7,2,2,17591,,,0,"Armada: Pin to Armada commit before Tiller 2.14.0

This pins the Armada job to build Armada from a commit reference
prior to Armada's move to use Tiller 2.14.0, with the goal of
avoiding the issues referenced in the following Helm issue:

https://github.com/helm/helm/issues/5750

Change-Id: I84d3cf32e0c54d48d9f8b37a98a28d12b81a8719
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/97/663397/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/armada/015-armada-build.sh'],1,664a52503d1e709908fc90016a2fa34eae03366e,pin-armada-commit,"CURRENT_DIR=$(pwd) git clone --depth 1 https://github.com/airshipit/armada ${TMP_DIR}/armada # NOTE(srwilkers): Checkout commit reference prior to Armada moving to 2.14.0, # to avoid introduction of bug associated with strict kubernetes schema # validation: https://github.com/helm/helm/issues/5750 cd ${TMP_DIR}/armada git checkout 877600a61d0f223723b9fa0100c941ce4c18acc1 cd ${CURRENT_DIR} ", git clone --depth 1 http://github.com/openstack/airship-armada.git ${TMP_DIR}/armada,10,1
openstack%2Fopenstack-helm-infra~master~Ia0fd52e4b80034baf11a5d8e8108280b6e577a3d,openstack/openstack-helm-infra,master,Ia0fd52e4b80034baf11a5d8e8108280b6e577a3d,Armada: Pin to Armada commit before Tiller 2.14.0,ABANDONED,2019-06-05 18:29:44.000000000,2019-06-05 20:24:04.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 18:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a0eca70447a1eb4a4137b53051e5e6ad49241ca9', 'message': ""Armada: Pin to Armada commit before Tiller 2.14.0\n\nThis pins the Armada job to build Armada from a commit reference\nprior to Armada's move to use Tiller 2.14.0, with the goal of\navoiding the issues referenced in the following Helm issue:\n\nhttps://github.com/helm/helm/issues/5750\n\nChange-Id: Ia0fd52e4b80034baf11a5d8e8108280b6e577a3d\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n""}, {'number': 2, 'created': '2019-06-05 19:24:51.000000000', 'files': ['tools/deployment/armada/015-armada-build.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cf7c8bf82cdeec3b3d50b7e2671e5ceec890fa2d', 'message': ""Armada: Pin to Armada commit before Tiller 2.14.0\n\nThis pins the Armada job to build Armada from a commit reference\nprior to Armada's move to use Tiller 2.14.0, with the goal of\navoiding the issues referenced in the following Helm issue:\n\nhttps://github.com/helm/helm/issues/5750\n\nChange-Id: Ia0fd52e4b80034baf11a5d8e8108280b6e577a3d\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n""}]",0,663396,cf7c8bf82cdeec3b3d50b7e2671e5ceec890fa2d,6,2,2,17591,,,0,"Armada: Pin to Armada commit before Tiller 2.14.0

This pins the Armada job to build Armada from a commit reference
prior to Armada's move to use Tiller 2.14.0, with the goal of
avoiding the issues referenced in the following Helm issue:

https://github.com/helm/helm/issues/5750

Change-Id: Ia0fd52e4b80034baf11a5d8e8108280b6e577a3d
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/96/663396/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/armada/015-armada-build.sh'],1,a0eca70447a1eb4a4137b53051e5e6ad49241ca9,pin-armada-commit,"CURRENT_DIR=$(pwd) git clone --depth 1 https://github.com/airshipit/armada ${TMP_DIR}/armada # NOTE(srwilkers): Checkout commit reference prior to Armada moving to 2.14.0, # to avoid introduction of bug associated with strict kubernetes schema # validation: https://github.com/helm/helm/issues/5750 cd ${TMP_DIR}/armada git checkout 877600a61d0f223723b9fa0100c941ce4c18acc1 cd ${CURRENT_DIR} ", git clone --depth 1 http://github.com/openstack/airship-armada.git ${TMP_DIR}/armada,10,1
openstack%2Fopenstack-ansible-tests~stable%2Fpike~I6cc12827068aee8a0948f4b2bc3fe789ebc9137f,openstack/openstack-ansible-tests,stable/pike,I6cc12827068aee8a0948f4b2bc3fe789ebc9137f,Reenable CentOS gating for Pike,MERGED,2019-05-30 23:02:00.000000000,2019-06-05 20:20:19.000000000,2019-06-05 20:20:19.000000000,"[{'_account_id': 290}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-30 23:02:00.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/31cf1488f8efa219650b8e9453c9951cde7fec16', 'message': 'Reenable CentOS gating for Pike\n\nEnables CentOS gating for Pike once percona-release fixes\nmerge.\n\nChange-Id: I6cc12827068aee8a0948f4b2bc3fe789ebc9137f\n'}]",0,662352,31cf1488f8efa219650b8e9453c9951cde7fec16,12,4,1,290,,,0,"Reenable CentOS gating for Pike

Enables CentOS gating for Pike once percona-release fixes
merge.

Change-Id: I6cc12827068aee8a0948f4b2bc3fe789ebc9137f
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/52/662352/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,31cf1488f8efa219650b8e9453c9951cde7fec16,reenable_centos_gating, - openstack-ansible-functional-centos-7 - openstack-ansible-functional-centos-7, - openstack-ansible-functional-centos-7: voting: false# - openstack-ansible-functional-centos-7,2,3
openstack%2Fcinder~stable%2Fstein~Icabc4a67d3f5462fe24e4027e84e56a001e1b2b8,openstack/cinder,stable/stein,Icabc4a67d3f5462fe24e4027e84e56a001e1b2b8,lvm: Only use initiators when comparing connector dicts,MERGED,2019-05-21 17:09:34.000000000,2019-06-05 20:17:01.000000000,2019-06-05 20:17:01.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 29716}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-05-21 17:09:34.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_lvm_driver.py', 'cinder/volume/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4910ca4d7337298553f3d0b58ceccf925ae39f1b', 'message': 'lvm: Only use initiators when comparing connector dicts\n\nIb5aa1b7578f7d3200185566ff5f8634dd519d020 previously fixed the premature\ntermination of multi attached iSCSI/LVM volumes by comparing the\nprovided connector dict against that stored with any remaining active\nattachments. Only allowing the termination to proceed if a single active\nattachment remained using the provided connector.\n\nHowever this check fails if two instances on the same host are connected\nto the same multi attach volume using different mountpoints as these are\nnow stored within the connector. This behaviour was introduced during\nQueens by If3afe8d8bd6b8c327ccc7d1140053bccaf7e1ad7 and\nI11ba269c3f7a2e7707b2b7e27d26eb7a2c948a82 to workaround differences\nbetween the cinderv2 and cinderv3 APIs.\n\nThis change corrects this by only comparing the initiator key of the\nconnectors ensuring terminate connection is only called when a single\nattachment remains on a given host using a specific initiator.\n\nCloses-Bug: #1825957\nChange-Id: Icabc4a67d3f5462fe24e4027e84e56a001e1b2b8\n(cherry picked from commit c1388ce1c05f3e3e53210d52bc2efafbe191135d)\n'}]",0,660458,4910ca4d7337298553f3d0b58ceccf925ae39f1b,22,20,1,4523,,,0,"lvm: Only use initiators when comparing connector dicts

Ib5aa1b7578f7d3200185566ff5f8634dd519d020 previously fixed the premature
termination of multi attached iSCSI/LVM volumes by comparing the
provided connector dict against that stored with any remaining active
attachments. Only allowing the termination to proceed if a single active
attachment remained using the provided connector.

However this check fails if two instances on the same host are connected
to the same multi attach volume using different mountpoints as these are
now stored within the connector. This behaviour was introduced during
Queens by If3afe8d8bd6b8c327ccc7d1140053bccaf7e1ad7 and
I11ba269c3f7a2e7707b2b7e27d26eb7a2c948a82 to workaround differences
between the cinderv2 and cinderv3 APIs.

This change corrects this by only comparing the initiator key of the
connectors ensuring terminate connection is only called when a single
attachment remains on a given host using a specific initiator.

Closes-Bug: #1825957
Change-Id: Icabc4a67d3f5462fe24e4027e84e56a001e1b2b8
(cherry picked from commit c1388ce1c05f3e3e53210d52bc2efafbe191135d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/660458/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_lvm_driver.py', 'cinder/volume/drivers/lvm.py']",2,4910ca4d7337298553f3d0b58ceccf925ae39f1b,bug/1825957, if sum(1 for a in attachments if a.connector and a.connector['initiator'] == connector['initiator']) > 1:, if sum(1 for a in attachments if a.connector == connector) > 1:,54,1
openstack%2Fopenstack-ansible~master~I96d1058cb7966c2ec4adeb92f6fa9e4a9cf3fe82,openstack/openstack-ansible,master,I96d1058cb7966c2ec4adeb92f6fa9e4a9cf3fe82,[Docs] Update release process,MERGED,2019-05-31 11:58:13.000000000,2019-06-05 19:55:27.000000000,2019-06-05 19:55:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-05-31 11:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/721e378969b6e23006cdd1dad24596857817ba6d', 'message': '[Docs] Update release process\n\nChange-Id: I96d1058cb7966c2ec4adeb92f6fa9e4a9cf3fe82\n'}, {'number': 2, 'created': '2019-05-31 12:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2dd49a4316b1dbdb7eddd09e80e0859bc9258144', 'message': '[Docs] Update release process\n\nChange-Id: I96d1058cb7966c2ec4adeb92f6fa9e4a9cf3fe82\n'}, {'number': 3, 'created': '2019-05-31 14:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0e656c3848596b00638afd9416dd49d22a1d443b', 'message': '[Docs] Update release process\n\nChange-Id: I96d1058cb7966c2ec4adeb92f6fa9e4a9cf3fe82\n'}, {'number': 4, 'created': '2019-06-01 06:48:29.000000000', 'files': ['doc/source/contributor/periodic-work.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a6749fbaca91530414fe48ee386c2e74a6ed1bd1', 'message': '[Docs] Update release process\n\nChange-Id: I96d1058cb7966c2ec4adeb92f6fa9e4a9cf3fe82\n'}]",0,662438,a6749fbaca91530414fe48ee386c2e74a6ed1bd1,17,3,4,17068,,,0,"[Docs] Update release process

Change-Id: I96d1058cb7966c2ec4adeb92f6fa9e4a9cf3fe82
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/38/662438/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/periodic-work.rst'],1,721e378969b6e23006cdd1dad24596857817ba6d,update_releasing,"OSA CLI tooling --------------- OpenStack-Ansible used to bump everything in a single script, which made it hard to maintain, and was very branch specific. It made it hard for users to consume either an update of the upstream shas, or to bump roles with their own pace. Since then, the OpenStack-Ansible has agreed to provide more metadata necessary for releasing into the openstack-ansible code tree. This allowed the tooling for releasing to be more flexible, and lighter, over time. Now, all the functions are separated, and included into a branch independent tooling, `osa_cli_releases`. .. _osa_cli_releases: https://github.com/evrardjp/osa_cli_releases You can install the latest version of this tooling by running: pip install -e git+https://github.com/evrardjp/osa-cli.git#egg=openstack_ansible_cli pip install -e git+https://github.com/evrardjp/osa_cli_releases.git#egg=osa_cli_releases This tooling can then be called using ``osa releases``. Each subcommand contains help by default. Updating upstream SHAs ---------------------- The dependencies for OpenStack-Ansible are updated through the use of ``osa releases bump_upstream_shas``. This script updates the project's pinned SHAs, located in the `repo_packages folder`, based on their ``_git_track_branch`` value. .. _repo_packages folder: https://github.com/openstack/openstack-ansible/tree/master/playbooks/defaults/repo_packages Updating OpenStack-Ansible roles -------------------------------- Updating the roles to their latest version per branch is done through ``osa releases bump_roles $gitbranchname``. This can do multiple things: - Freeze ansible-role-requirements to their latest SHAs for the branch they are tracking. - Copy release notes relevant to the freeze. - Unfreeze of master. Master doesn't get frozen, unless explicitly asked for it for release milestones, using the command ``osa releases freeze_roles_for_milestone`` Check current pins status ------------------------- You can check the current PyPI pins that are used in openstack-ansible repository by running ``osa releases check_pins``. This will display a table, showing the current pin in OSA, and what is available upstream on PyPI. This doesn't patch the ``global-requirements-pins``, as this should be a manual operation. See the :ref:`cycle-checklist` to know when to bump the global-requirements-pins. .. _cycle-checklist: * Update ``global-requirements-pins`` * Update ``global-requirements-pins`` * Update ``global-requirements-pins`` * Feature freeze, bug fixes, and testing improvements. * Branch all the independent repos that aren't part of the release * Send a thank you note to all the contributors through the mailing lists. They deserve it.","Dependency Updates ------------------ The dependencies for OpenStack-Ansible are updated through the use of ``scripts/sources-branch-updater.sh``. This script updates all pinned SHA's for OpenStack services, OpenStack-Ansible roles, and other python dependencies which are not handled by the OpenStack global requirements management process. This script also updates the statically held templates/files in each role to ensure that they are always up to date. Finally, it also increments the patch version of the ``openstack_release`` variable. The update script is used as follows: # change directory to the openstack-ansible checkout cd ~/code/openstack-ansible # ensure that the correct branch is checked out git checkout |current_release_git_branch_name| # ensure that the branch is up to date git pull # create the local branch for the update git checkout -b sha-update # execute the script for all openstack services ./scripts/sources-branch-updater.sh -b |current_release_git_branch_name| -o |current_release_git_branch_name| # execute the script for gnocchi ./scripts/sources-branch-updater.sh -s playbooks/defaults/repo_packages/gnocchi.yml -b |current_release_gnocchi_git_branch_name| -o |current_release_git_branch_name| # the console code should only be updated when necessary for a security fix, or for the OSA master branch ./scripts/sources-branch-updater.sh -s playbooks/defaults/repo_packages/nova_consoles.yml -b master # commit the changes new_version=$(awk '/^openstack_release/ {print $2}' inventory/group_vars/all/all.yml) git add --all git commit -a -m ""Update all SHAs for ${new_version}"" \ -m ""This patch updates all the roles to the latest available stable SHA's, copies the release notes from the updated roles into the integrated repo, updates all the OpenStack Service SHA's, and updates the appropriate python requirements pins. # push the changes up to gerrit git review * Set the ``openstack_release`` version to xx.0.0.0b1 * Set the ``openstack_release`` version to xx.0.0.0b2 * Set the ``openstack_release`` version to xx.0.0.0b3 * Feature freeze, bug fixes, and testing improvements * Set the ``openstack_release`` version to xx.0.0 * Branch all the repos that aren't part of the integrated release * Set the ``openstack_release`` version to xx.0.1",59,43
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fqueens~I4fa838706f1163fd68ff68258bfc66cbf13bad94,openstack/openstack-ansible-lxc_hosts,stable/queens,I4fa838706f1163fd68ff68258bfc66cbf13bad94,Use pkill for lxc-dnsmasq systemd unit file,MERGED,2019-04-12 17:49:49.000000000,2019-06-05 19:53:39.000000000,2019-06-05 19:53:39.000000000,"[{'_account_id': 290}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-04-12 17:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/b089421f759d2999d420191a3d3bd07997165271', 'message': ""Use pkill for lxc-dnsmasq systemd unit file\n\nPreviously psmisc was not installed by default, causing\nthe killall in the lxc-dnsmasq systemd unit file to\nsilently fail if killall wasn't found.  This prevented\nrunning instances of dnsmasq to be torn down when\nrestarting the service.\n\nThis would exhibit as a problem during upgrades as\nthe older dnsmasq service would be running and the\nnew service would be unable to take over the port.\nThis would cause lxc containers to lose connectivity.\n\nThis commit switches to using pkill and ensures procps\nis always installed by default.\n\nChange-Id: I4fa838706f1163fd68ff68258bfc66cbf13bad94\n""}, {'number': 2, 'created': '2019-04-23 22:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9af7487f75dd6e0cadae827cfb719b5d4c4296f8', 'message': ""Use pkill for lxc-dnsmasq systemd unit file\n\nPreviously psmisc was not installed by default, causing\nthe killall in the lxc-dnsmasq systemd unit file to\nsilently fail if killall wasn't found.  This prevented\nrunning instances of dnsmasq to be torn down when\nrestarting the service.\n\nThis would exhibit as a problem during upgrades as\nthe older dnsmasq service would be running and the\nnew service would be unable to take over the port.\nThis would cause lxc containers to lose connectivity.\n\nThis commit switches to using pkill and ensures procps\nis always installed by default.\n\nChange-Id: I4fa838706f1163fd68ff68258bfc66cbf13bad94\n""}, {'number': 3, 'created': '2019-05-30 14:57:28.000000000', 'files': ['templates/lxc-dnsmasq-systemd-init.j2', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'zuul.d/project.yaml', 'vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/cffdaf8a795f00fea686ee2debff50675539ff40', 'message': ""Use pkill for lxc-dnsmasq systemd unit file\n\nPreviously psmisc was not installed by default, causing\nthe killall in the lxc-dnsmasq systemd unit file to\nsilently fail if killall wasn't found.  This prevented\nrunning instances of dnsmasq to be torn down when\nrestarting the service.\n\nThis would exhibit as a problem during upgrades as\nthe older dnsmasq service would be running and the\nnew service would be unable to take over the port.\nThis would cause lxc containers to lose connectivity.\n\nThis commit switches to using pkill and ensures procps\nis always installed by default.\n\nAlso removes openSUSE 42.3 lxc job since 42.3 is EOL soon\nand the jobs are broken.\n\nChange-Id: I4fa838706f1163fd68ff68258bfc66cbf13bad94\n""}]",0,652120,cffdaf8a795f00fea686ee2debff50675539ff40,27,4,3,290,,,0,"Use pkill for lxc-dnsmasq systemd unit file

Previously psmisc was not installed by default, causing
the killall in the lxc-dnsmasq systemd unit file to
silently fail if killall wasn't found.  This prevented
running instances of dnsmasq to be torn down when
restarting the service.

This would exhibit as a problem during upgrades as
the older dnsmasq service would be running and the
new service would be unable to take over the port.
This would cause lxc containers to lose connectivity.

This commit switches to using pkill and ensures procps
is always installed by default.

Also removes openSUSE 42.3 lxc job since 42.3 is EOL soon
and the jobs are broken.

Change-Id: I4fa838706f1163fd68ff68258bfc66cbf13bad94
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/20/652120/3 && git format-patch -1 --stdout FETCH_HEAD,"['templates/lxc-dnsmasq-systemd-init.j2', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml']",4,b089421f759d2999d420191a3d3bd07997165271,dnsmasq_pkill_queens, - procps,,4,1
openstack%2Fopenstack-ansible-tests~stable%2Frocky~Id60b7ac62ff16af938577615ab001dd144f92c26,openstack/openstack-ansible-tests,stable/rocky,Id60b7ac62ff16af938577615ab001dd144f92c26,Add rabbitmq policy configuration task,MERGED,2019-06-04 14:07:15.000000000,2019-06-05 19:49:30.000000000,2019-06-05 19:49:30.000000000,"[{'_account_id': 1004}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-04 14:07:15.000000000', 'files': ['test-vars.yml', 'sync/tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/9115354e303e6ec8bbdb4b16a38fe75a5f60d5bc', 'message': 'Add rabbitmq policy configuration task\n\nThis patch adds support of rabbitmq policies configuration for mq_setup\nand uses oslomsg_rpc_policies and oslomsg_notify_policies variables for\nthat. These variables are defined in group vars and provide HA mode.\n\nIt also adds ability to provide extra policies during include by\nspecifying _oslomsg_notify_policies and/or _oslomsg_rpc_policies\nvariables.\n\nDepends-On: https://review.opendev.org/663039/\nChange-Id: Id60b7ac62ff16af938577615ab001dd144f92c26\n(cherry picked from commit 68064c9ee74656b818e3382fa6b0da4f31b7a18c)\n(cherry picked from commit 0227351d9f8d93369d3bfd09e8d49b4b27f5c9bc)\n'}]",0,663040,9115354e303e6ec8bbdb4b16a38fe75a5f60d5bc,9,4,1,13095,,,0,"Add rabbitmq policy configuration task

This patch adds support of rabbitmq policies configuration for mq_setup
and uses oslomsg_rpc_policies and oslomsg_notify_policies variables for
that. These variables are defined in group vars and provide HA mode.

It also adds ability to provide extra policies during include by
specifying _oslomsg_notify_policies and/or _oslomsg_rpc_policies
variables.

Depends-On: https://review.opendev.org/663039/
Change-Id: Id60b7ac62ff16af938577615ab001dd144f92c26
(cherry picked from commit 68064c9ee74656b818e3382fa6b0da4f31b7a18c)
(cherry picked from commit 0227351d9f8d93369d3bfd09e8d49b4b27f5c9bc)
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/40/663040/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-vars.yml', 'sync/tasks/mq_setup.yml']",2,9115354e303e6ec8bbdb4b16a38fe75a5f60d5bc,rabbitmq_vhost_policies-stable/stein-stable/rocky," - name: Apply RPC RabbitMQ vhost policies rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Apply Notify RabbitMQ vhost policies rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - _oslomsg_notify_vhost != _oslomsg_rpc_vhost ",,30,0
openstack%2Fironic-python-agent~master~I2144c284ffcfa696412fca30f59a66c54c3d1965,openstack/ironic-python-agent,master,I2144c284ffcfa696412fca30f59a66c54c3d1965,Incorporate bandit support in CI,MERGED,2019-06-03 07:50:30.000000000,2019-06-05 19:43:44.000000000,2019-06-05 19:43:44.000000000,"[{'_account_id': 2472}, {'_account_id': 10206}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-03 07:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ea669a7700d2411520f5ded8ce69cb50dee78aab', 'message': 'Incorporate bandit support in CI\n\nChange-Id: I2144c284ffcfa696412fca30f59a66c54c3d1965\nStory: 2005791\nTask: 33564\n'}, {'number': 2, 'created': '2019-06-05 00:55:34.000000000', 'files': ['test-requirements.txt', 'zuul.d/ironic-python-agent-jobs.yaml', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3352d40907c9ad42759492961e7a3a7aa06ef12f', 'message': 'Incorporate bandit support in CI\n\nChange-Id: I2144c284ffcfa696412fca30f59a66c54c3d1965\nStory: 2005791\nTask: 33564\n'}]",0,662699,3352d40907c9ad42759492961e7a3a7aa06ef12f,14,6,2,24828,,,0,"Incorporate bandit support in CI

Change-Id: I2144c284ffcfa696412fca30f59a66c54c3d1965
Story: 2005791
Task: 33564
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/99/662699/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'zuul.d/ironic-python-agent-jobs.yaml', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini']",5,ea669a7700d2411520f5ded8ce69cb50dee78aab,bandit, [testenv:bandit] basepython = python3 deps = -r{toxinidir}/test-requirements.txt commands = bandit -r ironic_python_agent -x tests -n5 -ll,,26,0
openstack%2Fironic-python-agent~master~Ieb2c95ff130b5cc1e643fcde500066d9458ddbec,openstack/ironic-python-agent,master,Ieb2c95ff130b5cc1e643fcde500066d9458ddbec,Software RAID: Add IPA deploy support,MERGED,2019-02-26 17:04:05.000000000,2019-06-05 19:40:09.000000000,2019-06-05 19:40:09.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 11929}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24843}]","[{'number': 1, 'created': '2019-02-26 17:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a7c3e0915c9b802964f23d45db61932b7f366c08', 'message': '[WIP] Software RAID: Add IPA deploy support\n\nThis patch proposes to extend the IPA to be able to deploy on\nsoftware RAID devices. The IPA needs to be able to detect an\nmd device, find the underlying holder disks and configure grub\non them.\n\nChange-Id: Ieb2c95ff130b5cc1e643fcde500066d9458ddbec\nStory: #2004581\nTask: #29102\n'}, {'number': 2, 'created': '2019-02-28 16:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0372e284e1c0bfdc2e0c72c2636439b132945471', 'message': '[WIP] Software RAID: Add IPA deploy support\n\nThis patch proposes to extend the IPA to be able to deploy on\nsoftware RAID devices. The IPA needs to be able to detect an\nmd device, find the underlying holder disks and configure grub\non them.\n\nChange-Id: Ieb2c95ff130b5cc1e643fcde500066d9458ddbec\nStory: #2004581\nTask: #29102\n'}, {'number': 3, 'created': '2019-03-04 09:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ea645defb54caf961ccdf33fcf541169b4910725', 'message': '[WIP] Software RAID: Add IPA deploy support\n\nThis patch proposes to extend the IPA to be able to deploy on\nsoftware RAID devices. The IPA needs to be able to detect an\nmd device, find the underlying holder disks and configure grub\non them.\n\nChange-Id: Ieb2c95ff130b5cc1e643fcde500066d9458ddbec\nStory: #2004581\nTask: #29102\n'}, {'number': 4, 'created': '2019-03-19 11:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/58fae88abce9f0b2502b671967e202547b09c02e', 'message': 'Software RAID: Add IPA deploy support\n\nThis patch proposes to extend the IPA to be able to deploy on\nsoftware RAID devices. The IPA needs to be able to detect an\nmd device, find the underlying holder disks and configure grub\non them.\n\nChange-Id: Ieb2c95ff130b5cc1e643fcde500066d9458ddbec\nStory: #2004581\nTask: #29102\n'}, {'number': 5, 'created': '2019-03-19 11:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a77e9f362f2868ba467aa66d81af6a2c1ccfc253', 'message': 'Software RAID: Add IPA deploy support\n\nThis patch proposes to extend the IPA to be able to deploy on\nsoftware RAID devices. The IPA needs to be able to detect an\nmd device, find the underlying holder disks and configure grub\non them.\n\nChange-Id: Ieb2c95ff130b5cc1e643fcde500066d9458ddbec\nStory: #2004581\nTask: #29102\n'}, {'number': 6, 'created': '2019-03-29 10:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/57391b72d2311078ab0c10df77129f30ca42ad24', 'message': 'Software RAID: Add IPA deploy support\n\nThis patch proposes to extend the IPA to be able to deploy on\nsoftware RAID devices. The IPA needs to be able to detect an\nmd device, find the underlying holder disks and configure grub\non them.\n\nChange-Id: Ieb2c95ff130b5cc1e643fcde500066d9458ddbec\nStory: #2004581\nTask: #29102\n'}, {'number': 7, 'created': '2019-04-02 09:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/206fd8d8083cc3bbf4e91fc13ce786fb7056da12', 'message': 'Software RAID: Add IPA deploy support\n\nThis patch proposes to extend the IPA to be able to deploy on\nsoftware RAID devices. The IPA needs to be able to detect an\nmd device, find the underlying holder disks and configure grub\non them.\n\nChange-Id: Ieb2c95ff130b5cc1e643fcde500066d9458ddbec\nStory: #2004581\nTask: #29102\n'}, {'number': 8, 'created': '2019-04-05 12:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/10a5d2ddfe1cb9a001023e550080ba91d58524df', 'message': 'Software RAID: Add IPA deploy support\n\nThis patch proposes to extend the IPA to be able to deploy on\nsoftware RAID devices. The IPA needs to be able to detect an\nmd device, find the underlying holder disks and configure grub\non them.\n\nChange-Id: Ieb2c95ff130b5cc1e643fcde500066d9458ddbec\nStory: #2004581\nTask: #29102\n'}, {'number': 9, 'created': '2019-05-09 08:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/17563ace7d6e6bd506dac8cd489e16d5cff55190', 'message': 'Software RAID: Add IPA deploy support\n\nThis patch proposes to extend the IPA to be able to deploy on\nsoftware RAID devices. The IPA needs to be able to detect an\nmd device, find the underlying holder disks and configure grub\non them.\n\nChange-Id: Ieb2c95ff130b5cc1e643fcde500066d9458ddbec\nStory: #2004581\nTask: #29102\n'}, {'number': 10, 'created': '2019-05-09 13:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1b64d5e42185b86647e9beacf87d522b0d56fdd2', 'message': 'Software RAID: Add IPA deploy support\n\nThis patch proposes to extend the IPA to be able to deploy on\nsoftware RAID devices. The IPA needs to be able to detect an\nmd device, find the underlying holder disks and configure grub\non them.\n\nChange-Id: Ieb2c95ff130b5cc1e643fcde500066d9458ddbec\nStory: #2004581\nTask: #29102\n'}, {'number': 11, 'created': '2019-05-09 15:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7bcab1506c0680fa6578895045ce88a6a45a8e18', 'message': 'Software RAID: Add IPA deploy support\n\nThis patch proposes to extend the IPA to be able to deploy on\nsoftware RAID devices. The IPA needs to be able to detect an\nmd device, find the underlying holder disks and configure grub\non them.\n\nChange-Id: Ieb2c95ff130b5cc1e643fcde500066d9458ddbec\nStory: #2004581\nTask: #29102\n'}, {'number': 12, 'created': '2019-05-10 07:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d9fb8d4b62f87cea8a10e7387a1ae65c7a75db5a', 'message': 'Software RAID: Add IPA deploy support\n\nThis patch proposes to extend the IPA to be able to deploy on\nsoftware RAID devices. The IPA needs to be able to detect an\nmd device, find the underlying holder disks and configure grub\non them.\n\nChange-Id: Ieb2c95ff130b5cc1e643fcde500066d9458ddbec\nStory: #2004581\nTask: #29102\n'}, {'number': 13, 'created': '2019-05-13 08:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/63805ad4e51b6051c6f2713f886c29c1fc768958', 'message': 'Software RAID: Add IPA deploy support\n\nThis patch proposes to extend the IPA to be able to deploy on\nsoftware RAID devices. The IPA needs to be able to detect an\nmd device, find the underlying holder disks and configure grub\non them.\n\nChange-Id: Ieb2c95ff130b5cc1e643fcde500066d9458ddbec\nStory: #2004581\nTask: #29102\n'}, {'number': 14, 'created': '2019-05-31 11:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/23cfc158f5cbe0f36c8e1384f990666d44038b41', 'message': 'Software RAID: Add IPA deploy support\n\nThis patch proposes to extend the IPA to be able to deploy on\nsoftware RAID devices. The IPA needs to be able to detect an\nmd device, find the underlying holder disks and configure grub\non them.\n\nChange-Id: Ieb2c95ff130b5cc1e643fcde500066d9458ddbec\nStory: #2004581\nTask: #29102\n'}, {'number': 15, 'created': '2019-05-31 17:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/fe37b7faab16e082084da80bbc115b9b76149a0a', 'message': 'Software RAID: Add IPA deploy support\n\nThis patch proposes to extend the IPA to be able to deploy on\nsoftware RAID devices. The IPA needs to be able to detect an\nmd device, find the underlying holder disks and configure grub\non them.\n\nChange-Id: Ieb2c95ff130b5cc1e643fcde500066d9458ddbec\nStory: #2004581\nTask: #29102\n'}, {'number': 16, 'created': '2019-05-31 17:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0a8b4937d57266163ddc817ab44cd3f4880dfec8', 'message': 'Software RAID: Add IPA deploy support\n\nThis patch proposes to extend the IPA to be able to deploy on\nsoftware RAID devices. The IPA needs to be able to detect an\nmd device, find the underlying holder disks and configure grub\non them.\n\nChange-Id: Ieb2c95ff130b5cc1e643fcde500066d9458ddbec\nStory: #2004581\nTask: #29102\n'}, {'number': 17, 'created': '2019-06-04 11:01:47.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8fe390ecddd50ea6ab50bdb190feb948e8fd6fb5', 'message': 'Software RAID: Add IPA deploy support\n\nThis patch proposes to extend the IPA to be able to deploy on\nsoftware RAID devices. The IPA needs to be able to detect an\nmd device, find the underlying holder disks and configure grub\non them.\n\nChange-Id: Ieb2c95ff130b5cc1e643fcde500066d9458ddbec\nStory: #2004581\nTask: #29102\n'}]",47,639390,8fe390ecddd50ea6ab50bdb190feb948e8fd6fb5,62,9,17,11292,,,0,"Software RAID: Add IPA deploy support

This patch proposes to extend the IPA to be able to deploy on
software RAID devices. The IPA needs to be able to detect an
md device, find the underlying holder disks and configure grub
on them.

Change-Id: Ieb2c95ff130b5cc1e643fcde500066d9458ddbec
Story: #2004581
Task: #29102
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/90/639390/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py']",2,a7c3e0915c9b802964f23d45db61932b7f366c08,software_raid," @mock.patch.object(utils, 'execute', autospec=True) def test__get_holder_disks(self, mocked_execute): mocked_execute.side_effect = [(MDADM_DETAIL_OUTPUT.splitlines(), '')] raid_device = hardware.BlockDevice('/dev/md0', 'RAID-1', 1073741824, True) component_devices = hardware._get_holder_disks(raid_device.name) self.assertEqual(['/dev/vde', '/dev/vdf'], component_devices) ",,47,0
openstack%2Fopenstack-ansible~master~I023871df159413f9313d7a85820a50872da2b36b,openstack/openstack-ansible,master,I023871df159413f9313d7a85820a50872da2b36b,Load extra variables correctly in wrapper,MERGED,2019-05-29 16:31:26.000000000,2019-06-05 19:31:12.000000000,2019-06-05 17:54:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-05-29 16:31:26.000000000', 'files': ['scripts/openstack-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cb26d9a3fd6eb8265d60ae10cdef649f95ddeaa3', 'message': ""Load extra variables correctly in wrapper\n\nThe extra variables are meant to be loaded contextually if ansible\nor ansible-playbook are executed in the OSA playbooks dir, or if the\nopenstack-ansible wrapper is explicitly called.\n\nThis is occurring correctly for openstack-ansible and ansible-playbook,\nbut extra vars are not being loaded correctly (despite being output\nto console as if they're being loaded) when ad-hoc ansible commands\nare run in the OSA context.\n\nChange-Id: I023871df159413f9313d7a85820a50872da2b36b\n""}]",0,662032,cb26d9a3fd6eb8265d60ae10cdef649f95ddeaa3,14,3,1,17799,,,0,"Load extra variables correctly in wrapper

The extra variables are meant to be loaded contextually if ansible
or ansible-playbook are executed in the OSA playbooks dir, or if the
openstack-ansible wrapper is explicitly called.

This is occurring correctly for openstack-ansible and ansible-playbook,
but extra vars are not being loaded correctly (despite being output
to console as if they're being loaded) when ad-hoc ansible commands
are run in the OSA context.

Change-Id: I023871df159413f9313d7a85820a50872da2b36b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/32/662032/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/openstack-ansible.sh'],1,cb26d9a3fd6eb8265d60ae10cdef649f95ddeaa3,," ${RUN_CMD} ""${@}"" ${VAR1}"," ${RUN_CMD} ""${@}""",1,1
openstack%2Fblazar-specs~master~I5b4b52211b6aa8d8388c4b9c4ff4b59830736187,openstack/blazar-specs,master,I5b4b52211b6aa8d8388c4b9c4ff4b59830736187,Add spec of json Schema Validation for Blazar API,MERGED,2019-05-28 06:58:36.000000000,2019-06-05 19:27:48.000000000,2019-06-05 19:27:48.000000000,"[{'_account_id': 8878}, {'_account_id': 13192}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 27302}]","[{'number': 1, 'created': '2019-05-28 06:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-specs/commit/6803e38029f8cf21ac3a0ed1b1f6773a9b414294', 'message': 'Add spec of json Schema Validation for Blazar API\n\nChange-Id: I5b4b52211b6aa8d8388c4b9c4ff4b59830736187\nImplements: bp json-schema-validation\n'}, {'number': 2, 'created': '2019-05-31 08:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-specs/commit/1c684e00afe5b10d4376745f7ac913851fe024e6', 'message': 'Add spec of json Schema Validation for Blazar API\n\nChange-Id: I5b4b52211b6aa8d8388c4b9c4ff4b59830736187\nImplements: bp json-schema-validation\n'}, {'number': 3, 'created': '2019-06-03 15:59:02.000000000', 'files': ['doc/source/specs/train/api-json-schema-validation.rst'], 'web_link': 'https://opendev.org/openstack/blazar-specs/commit/902ce5aa6073db4e5e436b1c59ab442442affd8f', 'message': 'Add spec of json Schema Validation for Blazar API\n\nChange-Id: I5b4b52211b6aa8d8388c4b9c4ff4b59830736187\nImplements: bp json-schema-validation\n'}]",6,661680,902ce5aa6073db4e5e436b1c59ab442442affd8f,16,6,3,27302,,,0,"Add spec of json Schema Validation for Blazar API

Change-Id: I5b4b52211b6aa8d8388c4b9c4ff4b59830736187
Implements: bp json-schema-validation
",git fetch https://review.opendev.org/openstack/blazar-specs refs/changes/80/661680/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/train/api-json-schema-validation.rst'],1,6803e38029f8cf21ac3a0ed1b1f6773a9b414294,bp/json-schema-validation,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============== API Validation ============== https://blueprints.launchpad.net/blazar/+spec/json-schema-validation Currently, Blazar has different implementations for validating request bodies. The purpose of this blueprint is to validate the request body in the API layer using json schema validation before it is forwarded to any of the other Blazar components. Validating the request bodies sent to the Blazar server, accepting requests that fit the resource schema and rejecting requests that do not fit the schema. Depending on the content of the request body, the request should be accepted or rejected. Problem description =================== Currently Blazar doesn't have a consistent request validation layer. Some resources validate input at the resource controller and some fail out in the backend. Ideally, Blazar would have some validation in place to catch disallowed parameters and return a validation error to the user. The end user will benefit from having consistent and helpful feedback, regardless of which resource they are interacting with. Use Cases ========= As a user or developer, I want to observe consistent API validation and values passed to the Blazar API server. Proposed change =============== One possible way to validate the Blazar API is to use jsonschema similar to Nova, Keystone and Glance (https://pypi.python.org/pypi/jsonschema). A jsonschema validator object can be used to check each resource against an appropriate schema for that resource. If the validation passes, the request can follow the existing flow of control through the resource manager to the backend. If the request body parameters fails the validation specified by the resource schema, a validation error wrapped in HTTPBadRequest will be returned from the server. Alternatives ------------ Before the API validation framework, we needed to add the validation code into each API method in ad-hoc. These changes would make the API method code dirty and we need to create multiple patches due to incomplete validation. If using JSON Schema definitions instead, acceptable request formats are clear and we don't need to do ad-hoc works in the future. Data model impact ----------------- None REST API impact --------------- API Response code changes: There are some occurrences where API response code will change while adding schema layer for them. For example, On current master 'computehosts' table has 'hypervisor_hostname' of maximum 255 characters in database table. While creating host user can pass 'host' of more than 255 characters which obviously fails with 404 HostNotFound wasting a database call. For this we can restrict the 'host' of maximum 255 characters only in schema definition of 'os-hosts'. If user passes more than 255 characters, he/she will get 400 BadRequest in response. API Response error messages: There will be change in the error message returned to user. For example, On current master if user passes nothing for host name like ""name"": """" then below error message is returned to user from blazar-api: ""Host '' not found!"". With schema validation below error message will be returned to user for this case: Invalid input for field/attribute name. Value: <value passed by user>. '<value passed by user>' is too short. Security impact --------------- The output from the request validation layer should not compromise data or expose private data to an external user. Request validation should not return information upon successful validation. In the event a request body is not valid, the validation layer should return the invalid values and/or the values required by the request, of which the end user should know. The parameters of the resources being validated are public information, described in the Blazar API spec, with the exception of private data. In the event the user's private data fails validation, a check can be built into the error handling of the validator not to return the actual value of the private data. jsonschema documentation notes security considerations for both schemas and instances: http://json-schema.org/latest/json-schema-core.html#anchor21 Better up front input validation will reduce the ability for malicious user input to exploit security bugs. Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ Blazar will need some performance cost for this comprehensive request parameters validation, because the checks will be increased for API parameters which are not validated now. Other deployer impact --------------------- None Developer impact ---------------- This will require developers contributing new extensions to Blazar to have a proper schema representing the extension's API. Implementation ============== Assignee(s) ----------- Primary assignee: Asmita Singh : <asmita.singh@nttdata.com> Work Items ---------- 1. Initial validator implementation, which will contain common validator code designed to be shared across all resource controllers validating request bodies. 2. Introduce validation schemas for existing API resources. 3. Enforce validation on proposed API additions and extensions. 4. Remove duplicated ad-hoc validation code. 5. Add unit and end-to-end tests of related APIs. 6. Add/Update Blazar documentation. Dependencies ============ None Testing ======= Some tests can be added as each resource is validated against its schema. These tests should walk through invalid request types. Documentation Impact ==================== 1. The Blazar API documentation will need to be updated to reflect the REST API changes. 2. The Blazar developer documentation will need to be updated to explain how the schema validation will work and how to add json schema for new API's. References ========== Useful Links: * [Understanding JSON Schema] (http://spacetelescope.github.io/understanding-json-schema/reference/object.html) * [Nova Validation Examples] (http://git.openstack.org/cgit/openstack/nova/tree/nova/api/validation) * [JSON Schema on PyPI] (https://pypi.python.org/pypi/jsonschema) * [JSON Schema core definitions and terminology] (http://tools.ietf.org/html/draft-zyp-json-schema-04) * [JSON Schema Documentation] (http://json-schema.org/documentation.html) ",,209,0
openstack%2Fopenstack-ansible-os_neutron~master~Ib3cee86b659a95242ebd82dd1b0826df67d47bcb,openstack/openstack-ansible-os_neutron,master,Ib3cee86b659a95242ebd82dd1b0826df67d47bcb,Add ability to set neutron_bind_host,ABANDONED,2019-06-05 18:59:44.000000000,2019-06-05 19:21:44.000000000,,[{'_account_id': 28008}],"[{'number': 1, 'created': '2019-06-05 18:59:44.000000000', 'files': ['templates/neutron.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/dd26abc434f7fca675d38287445c8ad24cdd8a9d', 'message': 'Add ability to set neutron_bind_host\n\nThis is usefull in deployment which the user wants\nto define which would be the bind host. One use case\nof this is when the deployment is ipv6 only.\n\nChange-Id: Ib3cee86b659a95242ebd82dd1b0826df67d47bcb\n'}]",0,663402,dd26abc434f7fca675d38287445c8ad24cdd8a9d,3,1,1,28008,,,0,"Add ability to set neutron_bind_host

This is usefull in deployment which the user wants
to define which would be the bind host. One use case
of this is when the deployment is ipv6 only.

Change-Id: Ib3cee86b659a95242ebd82dd1b0826df67d47bcb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/02/663402/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/neutron.conf.j2', 'defaults/main.yml']",2,dd26abc434f7fca675d38287445c8ad24cdd8a9d,,neutron_bind_host: 0.0.0.0 ,,3,1
openstack%2Fopenstack-helm-addons~master~I69f99d651a7d60f27c75f1718e894c84bcfea366,openstack/openstack-helm-addons,master,I69f99d651a7d60f27c75f1718e894c84bcfea366,Ranger-Agent: Add pod/container security context,MERGED,2019-05-03 12:05:00.000000000,2019-06-05 19:12:28.000000000,2019-06-05 19:12:28.000000000,"[{'_account_id': 7769}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24999}, {'_account_id': 28235}, {'_account_id': 28849}, {'_account_id': 29131}, {'_account_id': 29134}, {'_account_id': 29144}, {'_account_id': 29161}]","[{'number': 1, 'created': '2019-05-03 12:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/3eae686db1d921233bf2ea6276dd23c59cd5473a', 'message': 'Ranger-Agent: Add pod/container security context\n\nThis updates the Ranger  chart to include the pod\nsecurity context on the pod template\n\nChange-Id: I69f99d651a7d60f27c75f1718e894c84bcfea366\n'}, {'number': 2, 'created': '2019-05-03 12:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/ab271f5af4841a28acfd7380fe3eaba654125d38', 'message': 'Ranger-Agent: Add pod/container security context\n\nThis updates the Ranger-Agent  chart to include the pod\nsecurity context on the pod template\n\nChange-Id: I69f99d651a7d60f27c75f1718e894c84bcfea366\n'}, {'number': 3, 'created': '2019-05-17 14:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/6e57187bd299aeee0ab6d0a3856bd6b7d38d83fc', 'message': 'Ranger-Agent: Add pod/container security context\n\nThis updates the Ranger-Agent  chart to include the pod\nsecurity context on the pod template\n\nChange-Id: I69f99d651a7d60f27c75f1718e894c84bcfea366\n'}, {'number': 4, 'created': '2019-05-21 16:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/96fdc27c2c441049255f701402686625294b26b2', 'message': 'Ranger-Agent: Add pod/container security context\n\nThis updates the Ranger-Agent chart to include the pod\nsecurity context on the pod template\n\nwhen I set to true for rangen-agent engine it going to crashloopbackoff\n\nChange-Id: I69f99d651a7d60f27c75f1718e894c84bcfea366\n'}, {'number': 5, 'created': '2019-05-28 14:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/9ba9d455fa8b1d0cb69e2fb95dc356cc49850f77', 'message': 'Ranger-Agent: Add pod/container security context\n\nThis updates the Ranger-Agent chart to include the pod\nsecurity context on the pod template\n\nwhen I set to true for rangen-agent engine it going to crashloopbackoff\n\nChange-Id: I69f99d651a7d60f27c75f1718e894c84bcfea366\n'}, {'number': 6, 'created': '2019-06-05 16:54:10.000000000', 'files': ['ranger-agent/templates/deployment-ranger-agent-api.yaml', 'ranger-agent/values.yaml', 'ranger-agent/templates/deployment-ranger-agent-engine.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/b6fa5da91cb9694546fedd17768fcf5fec5132d8', 'message': 'Ranger-Agent: Add pod/container security context\n\nThis updates the Ranger-Agent chart to include the pod\nsecurity context on the pod template\n\nwhen I set to true for rangen-agent engine it going to crashloopbackoff\n\nChange-Id: I69f99d651a7d60f27c75f1718e894c84bcfea366\n'}]",13,656942,b6fa5da91cb9694546fedd17768fcf5fec5132d8,29,15,6,29134,,,0,"Ranger-Agent: Add pod/container security context

This updates the Ranger-Agent chart to include the pod
security context on the pod template

when I set to true for rangen-agent engine it going to crashloopbackoff

Change-Id: I69f99d651a7d60f27c75f1718e894c84bcfea366
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/42/656942/3 && git format-patch -1 --stdout FETCH_HEAD,"['ranger-agent/templates/deployment-ranger-agent-api.yaml', 'ranger-agent/values.yaml', 'ranger-agent/templates/deployment-ranger-agent-engine.yaml']",3,3eae686db1d921233bf2ea6276dd23c59cd5473a,,"{{ dict ""envAll"" $envAll ""application"" ""engine"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 6 }}{{ dict ""envAll"" $envAll ""application"" ""engine"" ""container"" ""ranger_agent_engine"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}", securityContext: runAsUser: {{ .Values.pod.user.ranger_agent.uid }},19,7
openstack%2Fneutron~stable%2Fqueens~I246c1f56df889bad9c7e140b56c3614124d80a19,openstack/neutron,stable/queens,I246c1f56df889bad9c7e140b56c3614124d80a19,Packets getting lost during SNAT with too many connections,MERGED,2019-04-25 20:48:42.000000000,2019-06-05 18:52:38.000000000,2019-06-05 18:52:38.000000000,"[{'_account_id': 1131}, {'_account_id': 7016}, {'_account_id': 9373}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30526}]","[{'number': 1, 'created': '2019-04-25 20:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb88f2164d267b1087622353d26a651405f0361d', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}, {'number': 2, 'created': '2019-04-26 20:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/53150923ecf26e94fe61c857593efc7ba78a943b', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}, {'number': 3, 'created': '2019-05-07 17:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/435226d69faa0fbba68a32678cb1445536533b0b', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}, {'number': 4, 'created': '2019-06-04 23:23:46.000000000', 'files': ['neutron/common/constants.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/iptables_manager.py', 'neutron/common/utils.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/unit/common/test_utils.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/836f79e7b73f3241bbd209289683ed7dac0fc735', 'message': 'Packets getting lost during SNAT with too many connections\n\nWe have a problem with SNAT with too many connections using the\nsame source and destination on the network nodes.\n\nIn addition we can see in the conntrack table that the who\n""instert_failed"" increases.\n\nThis might be a generic problem with conntrack and linux.\nWe suspect that we encounter the following ""limitation / bug""\nin the kernel.\n\nThere seems to be a workaround to alleviate this behavior by\nsetting the -random-fully flag in iptables for port consumption.\n\nThis patch fixes the problem by adding the --random-fully to\nthe SNAT rules.\nConflicts:\n    neutron/agent/linux/iptables_manager.py\n    neutron/common/constants.py\n    neutron/tests/unit/agent/l3/test_agent.py\n\nChange-Id: I246c1f56df889bad9c7e140b56c3614124d80a19\nCloses-Bug: #1814002\n(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)\n'}]",0,655792,836f79e7b73f3241bbd209289683ed7dac0fc735,28,9,4,7016,,,0,"Packets getting lost during SNAT with too many connections

We have a problem with SNAT with too many connections using the
same source and destination on the network nodes.

In addition we can see in the conntrack table that the who
""instert_failed"" increases.

This might be a generic problem with conntrack and linux.
We suspect that we encounter the following ""limitation / bug""
in the kernel.

There seems to be a workaround to alleviate this behavior by
setting the -random-fully flag in iptables for port consumption.

This patch fixes the problem by adding the --random-fully to
the SNAT rules.
Conflicts:
    neutron/agent/linux/iptables_manager.py
    neutron/common/constants.py
    neutron/tests/unit/agent/l3/test_agent.py

Change-Id: I246c1f56df889bad9c7e140b56c3614124d80a19
Closes-Bug: #1814002
(cherry picked from commit 30f35e08f92e5262e7a9108684da048d11402b07)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/655792/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/constants.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/linux/iptables_manager.py', 'neutron/common/utils.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/unit/common/test_utils.py', 'neutron/agent/l3/dvr_edge_router.py']",9,bb88f2164d267b1087622353d26a651405f0361d,bug/1814002-stable/queens," to_source = '-s %s/32 -j SNAT --to-source %s' % (fixed_ip, floating_ip) if self.snat_iptables_manager.random_fully: to_source += ' --random-fully' ('float-snat', to_source)]"," ('float-snat', '-s %s/32 -j SNAT --to-source %s' % (fixed_ip, floating_ip))]",121,31
openstack%2Ftripleo-heat-templates~master~Ida2011b2ad0858d479b2c7d7988e1b5b908f4b3e,openstack/tripleo-heat-templates,master,Ida2011b2ad0858d479b2c7d7988e1b5b908f4b3e,Set TenantNetPhysnetMtu to 0 to allow different MTUs,MERGED,2019-06-03 21:40:26.000000000,2019-06-05 18:48:34.000000000,2019-06-04 14:06:38.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16690}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-06-03 21:40:26.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6b08579abbe27e2cd58ef83f95a7a1a115c9c96', 'message': 'Set TenantNetPhysnetMtu to 0 to allow different MTUs\n\nI5e60d52ad571e1cdb3b82cd1d9947e33fa682bf8 changed the default value that\nwas being used to honor the TenantNetPhysnetMtu if the\nNeutronGlobalPhysnetMtu is set to 0 (the default).  For the undercloud\nwe want this value to be 0 so we can define overcloud networks with\n>1500 MTU even if the undercloud is set to 1500.\n\nChange-Id: Ida2011b2ad0858d479b2c7d7988e1b5b908f4b3e\nCloses-Bug: #1826729\n'}]",3,662863,d6b08579abbe27e2cd58ef83f95a7a1a115c9c96,13,7,1,14985,,,0,"Set TenantNetPhysnetMtu to 0 to allow different MTUs

I5e60d52ad571e1cdb3b82cd1d9947e33fa682bf8 changed the default value that
was being used to honor the TenantNetPhysnetMtu if the
NeutronGlobalPhysnetMtu is set to 0 (the default).  For the undercloud
we want this value to be 0 so we can define overcloud networks with
>1500 MTU even if the undercloud is set to 1500.

Change-Id: Ida2011b2ad0858d479b2c7d7988e1b5b908f4b3e
Closes-Bug: #1826729
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/662863/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,d6b08579abbe27e2cd58ef83f95a7a1a115c9c96,bug/1826729, # This allows MTU > 1500 for the overcloud if local_mtu is set to 1500 # See LP#1826729 TenantNetPhysnetMtu: 0,,3,0
openstack%2Fironic~master~Icbe69bc628af8bdfd48327319f5c6b01607700bf,openstack/ironic,master,Icbe69bc628af8bdfd48327319f5c6b01607700bf,Fix binary file upload to Swift,MERGED,2019-05-14 13:22:28.000000000,2019-06-05 18:19:03.000000000,2019-06-04 08:14:47.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 12860}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 26340}, {'_account_id': 28429}, {'_account_id': 30100}, {'_account_id': 30105}]","[{'number': 1, 'created': '2019-05-14 13:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/558c9815c2142744ebda6683819340dddef01fe7', 'message': 'Fix binary file upload to Swift\n\nFixes binary files upload to Swift. Prior to this\nfix, binary file upload to Swift might fail at unicode\ncharacters interpretation.\n\nChange-Id: Icbe69bc628af8bdfd48327319f5c6b01607700bf\n'}, {'number': 2, 'created': '2019-05-14 13:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0858739269baccaa9f7b07808c462eec1593b6d9', 'message': 'Fix binary file upload to Swift\n\nFixes binary files upload to Swift. Prior to this\nfix, binary file upload to Swift might fail at unicode\ncharacters interpretation.\n\nChange-Id: Icbe69bc628af8bdfd48327319f5c6b01607700bf\n'}, {'number': 3, 'created': '2019-05-15 11:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7b2218c1a8dc11f2906292bb7888dae8f3e2e98a', 'message': 'Fix binary file upload to Swift\n\nFixes binary files upload to Swift. Prior to this\nfix, binary file upload to Swift might fail at unicode\ncharacters interpretation.\n\nStory: 2005697\nChange-Id: Icbe69bc628af8bdfd48327319f5c6b01607700bf\n'}, {'number': 4, 'created': '2019-05-17 02:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/970ae55192dcef03c43e62a2ccebe169873ef9e1', 'message': 'Fix binary file upload to Swift\n\nFixes binary files upload to Swift. Prior to this\nfix, binary file upload to Swift might fail at unicode\ncharacters interpretation.\n\nStory: 2005697\nTask: 31018\nChange-Id: Icbe69bc628af8bdfd48327319f5c6b01607700bf\n'}, {'number': 5, 'created': '2019-05-20 17:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/71b2c279aa8d041a6fc2ca46a084c47ebf9a5d03', 'message': 'Fix binary file upload to Swift\n\nFixes binary files upload to Swift. Prior to this\nfix, binary file upload to Swift might fail at unicode\ncharacters interpretation.\n\nStory: 2005697\nChange-Id: Icbe69bc628af8bdfd48327319f5c6b01607700bf\n'}, {'number': 6, 'created': '2019-05-21 15:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7fd37df141c37593abe74fec002e427ac5ae43ec', 'message': 'Fix binary file upload to Swift\n\nFixes binary files upload to Swift. Prior to this\nfix, binary file upload to Swift might fail at unicode\ncharacters interpretation.\n\nStory: 2005697\nChange-Id: Icbe69bc628af8bdfd48327319f5c6b01607700bf\n'}, {'number': 7, 'created': '2019-05-21 17:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d7817c2bbe19bb1e22023c79bf4a26b9e90e2fc3', 'message': 'Fix binary file upload to Swift\n\nFixes binary files upload to Swift. Prior to this\nfix, binary file upload to Swift might fail at unicode\ncharacters interpretation.\n\nStory: 2005697\nTask: 31018\nChange-Id: Icbe69bc628af8bdfd48327319f5c6b01607700bf\n'}, {'number': 8, 'created': '2019-05-29 16:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ea4a985987be7a2e2dddb1bef2f8a51f6400a7e0', 'message': 'Fix binary file upload to Swift\n\nFixes binary files upload to Swift. Prior to this\nfix, binary file upload to Swift might fail at unicode\ncharacters interpretation.\n\nStory: 2005697\nChange-Id: Icbe69bc628af8bdfd48327319f5c6b01607700bf\n'}, {'number': 9, 'created': '2019-06-03 17:29:55.000000000', 'files': ['releasenotes/notes/fix-swift-binary-upload-bf9471fca29290e1.yaml', 'ironic/common/swift.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/45020712d73a2040bd91b74bb2d1df9b55233ba6', 'message': 'Fix binary file upload to Swift\n\nFixes binary files upload to Swift. Prior to this\nfix, binary file upload to Swift might fail at unicode\ncharacters interpretation.\n\nStory: 2005697\nChange-Id: Icbe69bc628af8bdfd48327319f5c6b01607700bf\n'}]",0,659061,45020712d73a2040bd91b74bb2d1df9b55233ba6,91,13,9,26340,,,0,"Fix binary file upload to Swift

Fixes binary files upload to Swift. Prior to this
fix, binary file upload to Swift might fail at unicode
characters interpretation.

Story: 2005697
Change-Id: Icbe69bc628af8bdfd48327319f5c6b01607700bf
",git fetch https://review.opendev.org/openstack/ironic refs/changes/61/659061/9 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-swift-binary-upload-bf9471fca29290e1.yaml', 'ironic/common/swift.py']",2,558c9815c2142744ebda6683819340dddef01fe7,fix-swift-binary-upload," with open(filename, ""rb"") as fileobj:"," with open(filename, ""r"") as fileobj:",6,1
openstack%2Fzaqar~stable%2Fstein~Ibc886cacf344e61e595a44a938586a61ee6f231a,openstack/zaqar,stable/stein,Ibc886cacf344e61e595a44a938586a61ee6f231a,Update UPPER_CONSTRAINTS_FILE for stable/stein,MERGED,2019-03-20 15:04:43.000000000,2019-06-05 18:11:31.000000000,2019-06-05 18:11:31.000000000,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-20 15:04:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/8cca26a59a5e4d3c5caa6a127aa94d11fc328332', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ibc886cacf344e61e595a44a938586a61ee6f231a\n'}]",0,644893,8cca26a59a5e4d3c5caa6a127aa94d11fc328332,7,3,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/stein

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/stein branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ibc886cacf344e61e595a44a938586a61ee6f231a
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/93/644893/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8cca26a59a5e4d3c5caa6a127aa94d11fc328332,create-stein,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Fzaqar~stable%2Fstein~I51ee6b2a1758be5576a4a041b69bc7f9267bc790,openstack/zaqar,stable/stein,I51ee6b2a1758be5576a4a041b69bc7f9267bc790,Update .gitreview for stable/stein,MERGED,2019-03-20 15:04:42.000000000,2019-06-05 18:11:30.000000000,2019-06-05 18:11:30.000000000,"[{'_account_id': 4257}, {'_account_id': 8846}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-03-20 15:04:42.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/cbdba2063092f90634ae49f2ab2aa4e3d9bab827', 'message': 'Update .gitreview for stable/stein\n\nChange-Id: I51ee6b2a1758be5576a4a041b69bc7f9267bc790\n'}]",0,644892,cbdba2063092f90634ae49f2ab2aa4e3d9bab827,26,5,1,22816,,,0,"Update .gitreview for stable/stein

Change-Id: I51ee6b2a1758be5576a4a041b69bc7f9267bc790
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/92/644892/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,cbdba2063092f90634ae49f2ab2aa4e3d9bab827,create-stein,defaultbranch=stable/stein,,1,0
openstack%2Fopenstack-ansible-tests~stable%2Fstein~Ib5f17388dcb8370ca9b1b70199b7b5b3b026cb6d,openstack/openstack-ansible-tests,stable/stein,Ib5f17388dcb8370ca9b1b70199b7b5b3b026cb6d,Pin ARA to <1.0.0,MERGED,2019-06-05 15:45:17.000000000,2019-06-05 18:07:08.000000000,2019-06-05 18:07:08.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-05 15:45:17.000000000', 'files': ['test-ansible-env-prep.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/5eb944fa4d2e03a501fb82f32ca241ab74e414ad', 'message': 'Pin ARA to <1.0.0\n\nChange-Id: Ib5f17388dcb8370ca9b1b70199b7b5b3b026cb6d\n(cherry picked from commit 41f3b941cbe8f6c96019db42acfaf562f91d8df2)\n'}]",0,663364,5eb944fa4d2e03a501fb82f32ca241ab74e414ad,7,3,1,13095,,,0,"Pin ARA to <1.0.0

Change-Id: Ib5f17388dcb8370ca9b1b70199b7b5b3b026cb6d
(cherry picked from commit 41f3b941cbe8f6c96019db42acfaf562f91d8df2)
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/64/663364/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-env-prep.sh'],1,5eb944fa4d2e03a501fb82f32ca241ab74e414ad,," PIP_OPTS+="" ara<1.0.0"""," PIP_OPTS+="" ara""",1,1
openstack%2Ftripleo-common~master~I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7,openstack/tripleo-common,master,I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7,Add tripleo-hieradata role,MERGED,2019-05-14 19:47:31.000000000,2019-06-05 18:01:39.000000000,2019-06-05 18:01:38.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30448}]","[{'number': 1, 'created': '2019-05-14 19:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4ef5e28b4bd5c9cbec44a35e4ff65a9bf4de8f15', 'message': 'Add tripleo-hieradata role\n\nThe tripleo-hieradata ansible role will be used to copy hieradata files\nto nodes. It will be an initial replacement of the Heat\nSoftwareDeployment resources that use group:hiera.\n\nA followup patch will add support for configuring the hierarchy in\n/etc/puppet/hiera.yaml (as the Heat hook script does today).\n\nChange-Id: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 2, 'created': '2019-05-20 12:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2c959ba9f8559996bd2f3d4d4eda59e3d3df54af', 'message': 'Add tripleo-hieradata role\n\nThe tripleo-hieradata ansible role will be used to copy hieradata files\nto nodes. It will be an initial replacement of the Heat\nSoftwareDeployment resources that use group:hiera.\n\nA followup patch will add support for configuring the hierarchy in\n/etc/puppet/hiera.yaml (as the Heat hook script does today).\n\nChange-Id: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 3, 'created': '2019-05-20 16:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/748208014c62e13f09fea99f7d685138fe131f84', 'message': 'Add tripleo-hieradata role\n\nThe tripleo-hieradata ansible role will be used to copy hieradata files\nto nodes. It will be an initial replacement of the Heat\nSoftwareDeployment resources that use group:hiera.\n\nA followup patch will add support for configuring the hierarchy in\n/etc/puppet/hiera.yaml (as the Heat hook script does today).\n\nChange-Id: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 4, 'created': '2019-05-22 17:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ac94ffe5337b0ccd5cfcd22ab1f5803aa64aa1d1', 'message': 'Add tripleo-hieradata role\n\nThe tripleo-hieradata ansible role will be used to copy hieradata files\nto nodes. It will be an initial replacement of the Heat\nSoftwareDeployment resources that use group:hiera.\n\nA followup patch will add support for configuring the hierarchy in\n/etc/puppet/hiera.yaml (as the Heat hook script does today).\n\nChange-Id: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 5, 'created': '2019-05-29 00:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/58299adb2aabb74f92de52fdb298a1313165023c', 'message': 'Add tripleo-hieradata role\n\nThe tripleo-hieradata ansible role will be used to copy hieradata files\nto nodes. It will be an initial replacement of the Heat\nSoftwareDeployment resources that use group:hiera.\n\nA followup patch will add support for configuring the hierarchy in\n/etc/puppet/hiera.yaml (as the Heat hook script does today).\n\nChange-Id: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 6, 'created': '2019-05-29 17:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/704b475f25316ed121408e6b367beca3a3e6840e', 'message': 'Add tripleo-hieradata role\n\nThe tripleo-hieradata ansible role will be used to copy hieradata files\nto nodes. It will be an initial replacement of the Heat\nSoftwareDeployment resources that use group:hiera.\n\nA followup patch will add support for configuring the hierarchy in\n/etc/puppet/hiera.yaml (as the Heat hook script does today).\n\nChange-Id: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 7, 'created': '2019-05-29 21:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b6b242574e3dbee49513dd0c6cf66e34ff0952e9', 'message': 'Add tripleo-hieradata role\n\nThe tripleo-hieradata ansible role will be used to copy hieradata files\nto nodes. It will be an initial replacement of the Heat\nSoftwareDeployment resources that use group:hiera.\n\nA followup patch will add support for configuring the hierarchy in\n/etc/puppet/hiera.yaml (as the Heat hook script does today).\n\nChange-Id: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 8, 'created': '2019-05-30 18:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4dd2a7dd2e9761cadd4354afb7b9f605241fbbc2', 'message': 'Add tripleo-hieradata role\n\nThe tripleo-hieradata ansible role will be used to copy hieradata files\nto nodes. It will be an initial replacement of the Heat\nSoftwareDeployment resources that use group:hiera.\n\nA followup patch will add support for configuring the hierarchy in\n/etc/puppet/hiera.yaml (as the Heat hook script does today).\n\nChange-Id: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 9, 'created': '2019-05-30 23:48:08.000000000', 'files': ['roles/tripleo-hieradata/README.md', 'roles/tripleo-hieradata/tasks/main.yaml', 'roles/tripleo-hieradata/test-playbook.yaml', 'roles/tripleo-hieradata/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ba3891b3382878cdf0c9c1c8b790ce30fe32706a', 'message': 'Add tripleo-hieradata role\n\nThe tripleo-hieradata ansible role will be used to copy hieradata files\nto nodes. It will be an initial replacement of the Heat\nSoftwareDeployment resources that use group:hiera.\n\nA followup patch will add support for configuring the hierarchy in\n/etc/puppet/hiera.yaml (as the Heat hook script does today).\n\nChange-Id: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7\nimplements: blueprint reduce-deployment-resources\n'}]",16,659144,ba3891b3382878cdf0c9c1c8b790ce30fe32706a,46,7,9,7144,,,0,"Add tripleo-hieradata role

The tripleo-hieradata ansible role will be used to copy hieradata files
to nodes. It will be an initial replacement of the Heat
SoftwareDeployment resources that use group:hiera.

A followup patch will add support for configuring the hierarchy in
/etc/puppet/hiera.yaml (as the Heat hook script does today).

Change-Id: I28b5c2bedbba1c27da628c6bda4c7a57ca0f3ad7
implements: blueprint reduce-deployment-resources
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/44/659144/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-hieradata/README.md', 'roles/tripleo-hieradata/tasks/main.yaml', 'roles/tripleo-hieradata/test-playbook.yaml', 'roles/tripleo-hieradata/defaults/main.yaml']",4,4ef5e28b4bd5c9cbec44a35e4ff65a9bf4de8f15,bp/reduce-deployment-resources,"hieradata_template: """" hieradata_file: """" variable_start_string: ""{{"" variable_end_string: ""}}"" ",,74,0
openstack%2Fpuppet-tripleo~master~I1741721ede9f9f469e2554b409ec6e0e6c7c22a2,openstack/puppet-tripleo,master,I1741721ede9f9f469e2554b409ec6e0e6c7c22a2,Add support for external Ganesha service in Manila Share profile,MERGED,2019-05-24 13:19:48.000000000,2019-06-05 18:01:38.000000000,2019-06-05 18:01:37.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 9003}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-24 13:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/83abd8fec4938a671e88231b77bd6ce44d0b0e20', 'message': 'Add support for external Ganesha service in Manila Share profile\n\nWe might want to connect Manila Share to an external Ganesha service\nand in that case need to provide additional configs so that we can\nconnect to the remote node via SSH.\n\nChange-Id: I1741721ede9f9f469e2554b409ec6e0e6c7c22a2\nImplements: blueprint manila-external-ganesha\n'}, {'number': 2, 'created': '2019-05-24 13:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/62f3404eaee171f366bec059b61466705cbccd2a', 'message': 'Add support for external Ganesha service in Manila Share profile\n\nWe might want to connect Manila Share to an external Ganesha service\nand in that case need to provide additional configs so that we can\nconnect to the remote node via SSH.\n\nChange-Id: I1741721ede9f9f469e2554b409ec6e0e6c7c22a2\nImplements: blueprint manila-external-ganesha\nDepends-On: I31fff6a1b6fede860b8aaee0079183924e8b31d6\n'}, {'number': 3, 'created': '2019-05-27 14:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c6863980332191a72321f6f6c1efb056fa97ea9d', 'message': 'Add support for external Ganesha service in Manila Share profile\n\nWe might want to connect Manila Share to an external Ganesha service\nand in that case need to provide additional configs so that we can\nconnect to the remote node via SSH.\n\nChange-Id: I1741721ede9f9f469e2554b409ec6e0e6c7c22a2\nImplements: blueprint manila-external-ganesha\nDepends-On: I31fff6a1b6fede860b8aaee0079183924e8b31d6\n'}, {'number': 4, 'created': '2019-05-27 19:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7c96ff4fca16d3d70f487c310cc3e4cdbec471ff', 'message': 'Add support for external Ganesha service in Manila Share profile\n\nWe might want to connect Manila Share to an external Ganesha service\nand in that case need to provide additional configs so that we can\nconnect to the remote node via SSH.\n\nChange-Id: I1741721ede9f9f469e2554b409ec6e0e6c7c22a2\nImplements: blueprint manila-external-ganesha\nDepends-On: I31fff6a1b6fede860b8aaee0079183924e8b31d6\n'}, {'number': 5, 'created': '2019-05-30 11:10:46.000000000', 'files': ['manifests/profile/base/manila/share.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/dabfc9e1e3199d59d79b912a1d0c240470ef6edb', 'message': 'Add support for external Ganesha service in Manila Share profile\n\nWe might want to connect Manila Share to an external Ganesha service\nand in that case need to provide additional configs so that we can\nconnect to the remote node via SSH.\n\nChange-Id: I1741721ede9f9f469e2554b409ec6e0e6c7c22a2\nImplements: blueprint manila-external-ganesha\nDepends-On: I31fff6a1b6fede860b8aaee0079183924e8b31d6\n'}]",0,661287,dabfc9e1e3199d59d79b912a1d0c240470ef6edb,34,7,5,6796,,,0,"Add support for external Ganesha service in Manila Share profile

We might want to connect Manila Share to an external Ganesha service
and in that case need to provide additional configs so that we can
connect to the remote node via SSH.

Change-Id: I1741721ede9f9f469e2554b409ec6e0e6c7c22a2
Implements: blueprint manila-external-ganesha
Depends-On: I31fff6a1b6fede860b8aaee0079183924e8b31d6
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/87/661287/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/manila/share.pp'],1,83abd8fec4938a671e88231b77bd6ce44d0b0e20,bp/manila-external-ganesha," $cephfs_ganesha_server_ip = hiera('manila::backend::cephfs::cephfs_ganesha_server_ip', undef) if $cephfs_ganesha_server_ip == undef { $cephfs_ganesha_server_ip_real = hiera('ganesha_vip') } else { $cephfs_ganesha_server_ip_real = $cephfs_ganesha_server_ip } share_backend_name => hiera('manila::backend::cephfs::share_backend_name'), cephfs_conf_path => hiera('manila::backend::cephfs::cephfs_conf_path'), cephfs_auth_id => $cephfs_auth_id, cephfs_cluster_name => hiera('manila::backend::cephfs::cephfs_cluster_name'), cephfs_enable_snapshots => hiera('manila::backend::cephfs::cephfs_enable_snapshots'), cephfs_volume_mode => hiera('manila::backend::cephfs::cephfs_volume_mode', '0755'), cephfs_protocol_helper_type => $manila_cephfs_protocol_helper_type, cephfs_ganesha_server_ip => $cephfs_ganesha_server_ip_real, cephfs_ganesha_server_is_remote => hiera('manila::backend::cephfs::cephfs_ganesha_server_is_remote', false), cephfs_ganesha_server_username => hiera('manila::backend::cephfs::cephfs_ganesha_server_username, undef), cephfs_ganesha_server_password => hiera('manila::backend::cephfs::cephfs_ganesha_server_password, undef), cephfs_ganesha_path_to_private_key => hiera('manila::backend::cephfs::cephfs_ganesha_path_to_private_key', undef),"," share_backend_name => hiera('manila::backend::cephfs::share_backend_name'), cephfs_conf_path => hiera('manila::backend::cephfs::cephfs_conf_path'), cephfs_auth_id => $cephfs_auth_id, cephfs_cluster_name => hiera('manila::backend::cephfs::cephfs_cluster_name'), cephfs_enable_snapshots => hiera('manila::backend::cephfs::cephfs_enable_snapshots'), cephfs_volume_mode => hiera('manila::backend::cephfs::cephfs_volume_mode', '0755'), cephfs_protocol_helper_type => $manila_cephfs_protocol_helper_type, cephfs_ganesha_server_ip => hiera('ganesha_vip', undef),",19,8
openstack%2Ftripleo-heat-templates~stable%2Frocky~I10ddb4f79f5c8b69b09622b96e96325ba19d62e0,openstack/tripleo-heat-templates,stable/rocky,I10ddb4f79f5c8b69b09622b96e96325ba19d62e0,Add CephAnsibleEnvironmentVariables to nodes-uuid call,MERGED,2019-05-29 19:27:49.000000000,2019-06-05 18:01:36.000000000,2019-06-05 18:01:36.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-29 19:27:49.000000000', 'files': ['docker/services/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e972555e14dacde4e91cd043f511caeedfcf512', 'message': 'Add CephAnsibleEnvironmentVariables to nodes-uuid call\n\nCephAnsibleEnvironmentVariables are also useful when running\nthe nodes-uuid playbook. Users may know ceph-ansible playbook\nis run but may not know the nodes-uuid playbook is run too.\nIf additional Ansible environment variables are useful for\nrunning ceph-ansible it is likely they will be needed for\nthe nodes-uuid playbook. The altnernative is to create another\nparameter like NodesUuidAnsibleEnvironmentVariables.\n\nChange-Id: I10ddb4f79f5c8b69b09622b96e96325ba19d62e0\n(cherry picked from commit 6858ef41146d5afdbfe614e6f3d8f9727a5b2563)\n(cherry picked from commit e1f51a5f578b7c1b9adbbdaa76cbb4741b0ce31c)\n'}]",0,662072,3e972555e14dacde4e91cd043f511caeedfcf512,7,3,1,18002,,,0,"Add CephAnsibleEnvironmentVariables to nodes-uuid call

CephAnsibleEnvironmentVariables are also useful when running
the nodes-uuid playbook. Users may know ceph-ansible playbook
is run but may not know the nodes-uuid playbook is run too.
If additional Ansible environment variables are useful for
running ceph-ansible it is likely they will be needed for
the nodes-uuid playbook. The altnernative is to create another
parameter like NodesUuidAnsibleEnvironmentVariables.

Change-Id: I10ddb4f79f5c8b69b09622b96e96325ba19d62e0
(cherry picked from commit 6858ef41146d5afdbfe614e6f3d8f9727a5b2563)
(cherry picked from commit e1f51a5f578b7c1b9adbbdaa76cbb4741b0ce31c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/662072/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/ceph-ansible/ceph-base.yaml'],1,3e972555e14dacde4e91cd043f511caeedfcf512,ceph-ansible-env-variales-stable/rocky, - yaql: data: {get_param: CephAnsibleEnvironmentVariables} expression: $.data.items().select($[0] + '=' + $[1]).join(' '),,3,0
openstack%2Fcinder~master~Ia06940cff7c3b71938eddb271d2cb8170e02e954,openstack/cinder,master,Ia06940cff7c3b71938eddb271d2cb8170e02e954,Bump hacking version to 1.1.x,MERGED,2019-04-15 15:46:39.000000000,2019-06-05 17:48:01.000000000,2019-06-04 17:12:57.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14624}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}, {'_account_id': 30413}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-04-15 15:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1d65d6b278e4ab4cd29e692369aa6619cf24b049', 'message': ""Bump hacking version to 1.1.x\n\nE731s are be fixed, since use of lambdas makes code\nharder to debug.\n\nIgnore E402 and W503 since these don't make a sensible\ncase for us to change code.\n\nChange-Id: Ia06940cff7c3b71938eddb271d2cb8170e02e954\n""}, {'number': 2, 'created': '2019-04-16 13:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b62acec29a7b7651766c40f19f58e2f18c70522b', 'message': ""Bump hacking version to 1.1.x\n\nE731s are be fixed, since use of lambdas makes code\nharder to debug.\n\nIgnore E402 and W503 since these don't make a sensible\ncase for us to change code.\n\nChange-Id: Ia06940cff7c3b71938eddb271d2cb8170e02e954\n""}, {'number': 3, 'created': '2019-05-20 15:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d07fd8270c336453f284fb5226a73b5b0a7abb8b', 'message': ""Bump hacking version to 1.1.x\n\nE731s are be fixed, since use of lambdas makes code\nharder to debug.\n\nIgnore E402 and W503 since these don't make a sensible\ncase for us to change code.\n\nThis also requires fixing some E501 errors that should\nhave already been detected, but weren't.\n\nChange-Id: Ia06940cff7c3b71938eddb271d2cb8170e02e954\n""}, {'number': 4, 'created': '2019-05-21 14:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2bd5919ef4e5f6542dbd98d2bb4df88fdd54a208', 'message': ""Bump hacking version to 1.1.x\n\nE731s are be fixed, since use of lambdas makes code\nharder to debug.\n\nIgnore E402 and W503 since these don't make a sensible\ncase for us to change code.\n\nThis also requires fixing some E501 errors that should\nhave already been detected, but weren't.\n\nChange-Id: Ia06940cff7c3b71938eddb271d2cb8170e02e954\n""}, {'number': 5, 'created': '2019-05-22 19:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/38ae81bbc83bf83d5f0eaa09c72a4fee32945100', 'message': ""Bump hacking version to 1.1.x\n\nE731s are be fixed, since use of lambdas makes code\nharder to debug.\n\nIgnore E402 and W503/W504 since these don't make a\nsensible case for us to change code.\n\nThis also requires fixing some E501 errors that should\nhave already been detected, but weren't.\n\nChange-Id: Ia06940cff7c3b71938eddb271d2cb8170e02e954\n""}, {'number': 6, 'created': '2019-05-23 17:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/799946da6512f26004d5c684cb4764cf95909034', 'message': ""Bump hacking version to 1.1.x\n\nE731s are be fixed, since use of lambdas makes code\nharder to debug.\n\nIgnore E402 and W503/W504 since these don't make a\nsensible case for us to change code.\n\nThis also requires fixing some E501 errors that should\nhave already been detected, but weren't.\n\nE117 and E305 errors are disabled for the moment,\nand are fixed in a subsequent patch.\n\nPin pycodestyle to 2.5.0.\n\nChange-Id: Ia06940cff7c3b71938eddb271d2cb8170e02e954\n""}, {'number': 7, 'created': '2019-05-29 13:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e1b501f27e845d170cb977833cb2efdaae66c55a', 'message': ""Bump hacking version to 1.1.x\n\nE731s are be fixed, since use of lambdas makes code\nharder to debug.\n\nIgnore E402 and W503/W504 since these don't make a\nsensible case for us to change code.\n\nThis also requires fixing some E501 errors that should\nhave already been detected, but weren't.\n\nE117 and E305 errors are disabled for the moment,\nand are fixed in a subsequent patch.\n\nPin pycodestyle to 2.5.0.\n\nChange-Id: Ia06940cff7c3b71938eddb271d2cb8170e02e954\n""}, {'number': 8, 'created': '2019-05-29 17:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cfa9b86291bbdde02b9c354c4e967d90f52a23e3', 'message': ""Bump hacking version to 1.1.x\n\nE731s are be fixed, since use of lambdas makes code\nharder to debug.\n\nIgnore E402 and W503/W504 since these don't make a\nsensible case for us to change code.\n\nThis also requires fixing some E501 errors that should\nhave already been detected, but weren't.\n\nE117 and E305 errors are disabled for the moment,\nand are fixed in a subsequent patch.\n\nPin pycodestyle to 2.5.0.\n\nChange-Id: Ia06940cff7c3b71938eddb271d2cb8170e02e954\n""}, {'number': 9, 'created': '2019-05-30 19:16:06.000000000', 'files': ['test-requirements.txt', 'cinder/volume/flows/api/manage_existing.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_api.py', 'cinder/tests/functional/test_quotas.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py', 'cinder/cmd/status.py', 'cinder/quota.py', 'cinder/tests/unit/test_hacking.py', 'cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_groups.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_xtremio.py', 'cinder/volume/drivers/drbdmanagedrv.py', 'cinder/tests/unit/api/v2/test_limits.py', 'cinder/context.py', 'cinder/tests/unit/backup/test_backup.py', 'lower-constraints.txt', 'cinder/volume/drivers/dell_emc/scaleio/driver.py', 'cinder/tests/unit/test_cmd.py', 'cinder/test.py', 'cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/volume/drivers/ibm/storwize_svc/replication.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'tox.ini', 'cinder/tests/unit/targets/test_tgt_driver.py', 'cinder/backup/chunkeddriver.py', 'cinder/tests/unit/volume/drivers/test_zfssa.py', 'cinder/tests/unit/zonemanager/test_brcd_http_fc_zone_client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/830490916b666f16a917a989efc4b8f3d7027725', 'message': ""Bump hacking version to 1.1.x\n\nE731s are be fixed, since use of lambdas makes code\nharder to debug.\n\nIgnore E402 and W503/W504 since these don't make a\nsensible case for us to change code.\n\nThis also requires fixing some E501 errors that should\nhave already been detected, but weren't.\n\nE117 and E305 errors are disabled for the moment,\nand are fixed in a subsequent patch.\n\nPin pycodestyle to 2.5.0.\n\nChange-Id: Ia06940cff7c3b71938eddb271d2cb8170e02e954\n""}]",9,652703,830490916b666f16a917a989efc4b8f3d7027725,244,39,9,4523,,,0,"Bump hacking version to 1.1.x

E731s are be fixed, since use of lambdas makes code
harder to debug.

Ignore E402 and W503/W504 since these don't make a
sensible case for us to change code.

This also requires fixing some E501 errors that should
have already been detected, but weren't.

E117 and E305 errors are disabled for the moment,
and are fixed in a subsequent patch.

Pin pycodestyle to 2.5.0.

Change-Id: Ia06940cff7c3b71938eddb271d2cb8170e02e954
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/652703/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'lower-constraints.txt', 'cinder/quota.py', 'cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_groups.py', 'tox.ini', 'cinder/tests/unit/test_cmd.py']",7,1d65d6b278e4ab4cd29e692369aa6619cf24b049,652703," mock.patch.object(rtslib_fb, 'FabricModule') as fabric_mod, \ fabric_mod.return_value = mock.sentinel.fabric_new fabric_mod.assert_called_once_with('iscsi') mock.patch.object(rtslib_fb, 'FabricModule') as fabric_mod, \ fabric_mod.return_value = mock.sentinel.fabric_new fabric_mod.assert_called_once_with('iscsi')"," mock.patch.object(rtslib_fb, 'FabricModule') as fabric_module, \ fabric_module.return_value = mock.sentinel.fabric_new fabric_module.assert_called_once_with('iscsi') mock.patch.object(rtslib_fb, 'FabricModule') as fabric_module, \ fabric_module.return_value = mock.sentinel.fabric_new fabric_module.assert_called_once_with('iscsi')",32,21
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I71cb64997991a31b1b87bf73aa4109c355a90708,openstack/tripleo-heat-templates,stable/queens,I71cb64997991a31b1b87bf73aa4109c355a90708,Do not bind /run on host to nova_migration_target,MERGED,2019-06-04 21:24:49.000000000,2019-06-05 17:41:34.000000000,2019-06-05 17:41:34.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-04 21:24:49.000000000', 'files': ['docker/services/nova-migration-target.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/43b074c10955c424aa5918b305758f55d6eb384a', 'message': 'Do not bind /run on host to nova_migration_target\n\nNow we have 2 sshd instances running on compute nodes, (1)sshd running\non host, and (2)sshd running inside nova_migration_target.\nBecause we bind /run on host to nova_mgiration_target, these two prcesses\nshare the same pid file, /var/run/sshd.pid , which causes that we have\npid 1 in that pid file.\n\nAs we do not require sshd running on the container to have access to\nhost pid files, this patch removes bind about /run about the container,\nto avoid the overwriting problem.\n\nChange-Id: I71cb64997991a31b1b87bf73aa4109c355a90708\nCloses-bug: #1830982\n(cherry picked from commit b4223ead2d1ed7e07cdfd5ceac52f43eb29e0f71)\n'}]",0,663149,43b074c10955c424aa5918b305758f55d6eb384a,9,6,1,14985,,,0,"Do not bind /run on host to nova_migration_target

Now we have 2 sshd instances running on compute nodes, (1)sshd running
on host, and (2)sshd running inside nova_migration_target.
Because we bind /run on host to nova_mgiration_target, these two prcesses
share the same pid file, /var/run/sshd.pid , which causes that we have
pid 1 in that pid file.

As we do not require sshd running on the container to have access to
host pid files, this patch removes bind about /run about the container,
to avoid the overwriting problem.

Change-Id: I71cb64997991a31b1b87bf73aa4109c355a90708
Closes-bug: #1830982
(cherry picked from commit b4223ead2d1ed7e07cdfd5ceac52f43eb29e0f71)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/663149/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/nova-migration-target.yaml'],1,43b074c10955c424aa5918b305758f55d6eb384a,bug/1830982,, - /run:/run,0,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~I71cb64997991a31b1b87bf73aa4109c355a90708,openstack/tripleo-heat-templates,stable/rocky,I71cb64997991a31b1b87bf73aa4109c355a90708,Do not bind /run on host to nova_migration_target,MERGED,2019-06-04 21:24:28.000000000,2019-06-05 17:41:32.000000000,2019-06-05 17:41:32.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-06-04 21:24:28.000000000', 'files': ['docker/services/nova-migration-target.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7329ca67a9f771e84458873c2ef2dc5adff2b674', 'message': 'Do not bind /run on host to nova_migration_target\n\nNow we have 2 sshd instances running on compute nodes, (1)sshd running\non host, and (2)sshd running inside nova_migration_target.\nBecause we bind /run on host to nova_mgiration_target, these two prcesses\nshare the same pid file, /var/run/sshd.pid , which causes that we have\npid 1 in that pid file.\n\nAs we do not require sshd running on the container to have access to\nhost pid files, this patch removes bind about /run about the container,\nto avoid the overwriting problem.\n\nChange-Id: I71cb64997991a31b1b87bf73aa4109c355a90708\nCloses-bug: #1830982\n(cherry picked from commit b4223ead2d1ed7e07cdfd5ceac52f43eb29e0f71)\n'}]",0,663148,7329ca67a9f771e84458873c2ef2dc5adff2b674,10,7,1,14985,,,0,"Do not bind /run on host to nova_migration_target

Now we have 2 sshd instances running on compute nodes, (1)sshd running
on host, and (2)sshd running inside nova_migration_target.
Because we bind /run on host to nova_mgiration_target, these two prcesses
share the same pid file, /var/run/sshd.pid , which causes that we have
pid 1 in that pid file.

As we do not require sshd running on the container to have access to
host pid files, this patch removes bind about /run about the container,
to avoid the overwriting problem.

Change-Id: I71cb64997991a31b1b87bf73aa4109c355a90708
Closes-bug: #1830982
(cherry picked from commit b4223ead2d1ed7e07cdfd5ceac52f43eb29e0f71)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/663148/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/nova-migration-target.yaml'],1,7329ca67a9f771e84458873c2ef2dc5adff2b674,bug/1830982,, - /run:/run,0,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I71cb64997991a31b1b87bf73aa4109c355a90708,openstack/tripleo-heat-templates,stable/stein,I71cb64997991a31b1b87bf73aa4109c355a90708,Do not bind /run on host to nova_migration_target,MERGED,2019-06-04 21:23:09.000000000,2019-06-05 17:41:29.000000000,2019-06-05 17:41:29.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-06-04 21:23:09.000000000', 'files': ['deployment/nova/nova-migration-target-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b1ba9846b68545751b930c7c4a65e97845d2e3d', 'message': 'Do not bind /run on host to nova_migration_target\n\nNow we have 2 sshd instances running on compute nodes, (1)sshd running\non host, and (2)sshd running inside nova_migration_target.\nBecause we bind /run on host to nova_mgiration_target, these two prcesses\nshare the same pid file, /var/run/sshd.pid , which causes that we have\npid 1 in that pid file.\n\nAs we do not require sshd running on the container to have access to\nhost pid files, this patch removes bind about /run about the container,\nto avoid the overwriting problem.\n\nChange-Id: I71cb64997991a31b1b87bf73aa4109c355a90708\nCloses-bug: #1830982\n(cherry picked from commit b4223ead2d1ed7e07cdfd5ceac52f43eb29e0f71)\n'}]",0,663147,5b1ba9846b68545751b930c7c4a65e97845d2e3d,13,7,1,14985,,,0,"Do not bind /run on host to nova_migration_target

Now we have 2 sshd instances running on compute nodes, (1)sshd running
on host, and (2)sshd running inside nova_migration_target.
Because we bind /run on host to nova_mgiration_target, these two prcesses
share the same pid file, /var/run/sshd.pid , which causes that we have
pid 1 in that pid file.

As we do not require sshd running on the container to have access to
host pid files, this patch removes bind about /run about the container,
to avoid the overwriting problem.

Change-Id: I71cb64997991a31b1b87bf73aa4109c355a90708
Closes-bug: #1830982
(cherry picked from commit b4223ead2d1ed7e07cdfd5ceac52f43eb29e0f71)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/663147/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-migration-target-container-puppet.yaml'],1,5b1ba9846b68545751b930c7c4a65e97845d2e3d,bug/1830982,, - /run:/run,0,1
openstack%2Fopenstack-ansible-galera_server~stable%2Fpike~I9fb16b7f046530efc124e760bc7870c13b4e8d32,openstack/openstack-ansible-galera_server,stable/pike,I9fb16b7f046530efc124e760bc7870c13b4e8d32,Update percona-release package,MERGED,2019-05-29 22:34:19.000000000,2019-06-05 17:39:02.000000000,2019-06-05 17:39:02.000000000,"[{'_account_id': 290}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-29 22:34:19.000000000', 'files': ['vars/redhat-7.yml', 'tests/tests-repo-clone.sh', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/1f8992758b54eaa8b9967e94332584660c7dca92', 'message': 'Update percona-release package\n\nIn February 2019, Percona updated their RPM signing keys[1], requiring\nthe use of an updated percona-release package to install the new\nkeys.\n\nAlso pull in the updated tests-repo-clone script so the correct tests\nrepo path is used.\n\nopenSUSE 42.3 jobs are also removed since 42.3 is EOL soon and the jobs\nare broken since they leverage LXC containers.\n\n[1] https://www.percona.com/blog/2019/02/05/new-percona-package-signing-key-requires-update-on-rhel-and-centos/\n\nDepends-On: I67ebe9e813c95a3a8bcf204678ddccbcea7a45cd\nChange-Id: I9fb16b7f046530efc124e760bc7870c13b4e8d32\n'}]",0,662107,1f8992758b54eaa8b9967e94332584660c7dca92,9,5,1,290,,,0,"Update percona-release package

In February 2019, Percona updated their RPM signing keys[1], requiring
the use of an updated percona-release package to install the new
keys.

Also pull in the updated tests-repo-clone script so the correct tests
repo path is used.

openSUSE 42.3 jobs are also removed since 42.3 is EOL soon and the jobs
are broken since they leverage LXC containers.

[1] https://www.percona.com/blog/2019/02/05/new-percona-package-signing-key-requires-update-on-rhel-and-centos/

Depends-On: I67ebe9e813c95a3a8bcf204678ddccbcea7a45cd
Change-Id: I9fb16b7f046530efc124e760bc7870c13b4e8d32
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/07/662107/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'tests/tests-repo-clone.sh', 'zuul.d/project.yaml']",3,1f8992758b54eaa8b9967e94332584660c7dca92,percona-release-pike,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,5,7
openstack%2Ftripleo-heat-templates~stable%2Fstein~I447ef5241572e31729893cdad1902fe38e92d3e7,openstack/tripleo-heat-templates,stable/stein,I447ef5241572e31729893cdad1902fe38e92d3e7,Adapt sensu on refactor,MERGED,2019-05-29 20:23:19.000000000,2019-06-05 17:25:32.000000000,2019-06-05 17:25:31.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-29 20:23:19.000000000', 'files': ['deployment/deprecated/monitoring/sensu-client-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d1aa80d0638df0b5425380dd8a4201bcb6dcaba', 'message': 'Adapt sensu on refactor\n\nThis patch fixes path containers-common.yaml after it has been moved to deployment dir.\n\nChange-Id: I447ef5241572e31729893cdad1902fe38e92d3e7\n(cherry picked from commit a3f5d1282b2f20e48ff43e876d52d36032733236)\n'}]",0,662086,5d1aa80d0638df0b5425380dd8a4201bcb6dcaba,7,4,1,5241,,,0,"Adapt sensu on refactor

This patch fixes path containers-common.yaml after it has been moved to deployment dir.

Change-Id: I447ef5241572e31729893cdad1902fe38e92d3e7
(cherry picked from commit a3f5d1282b2f20e48ff43e876d52d36032733236)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/662086/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/deprecated/monitoring/sensu-client-container-puppet.yaml'],1,5d1aa80d0638df0b5425380dd8a4201bcb6dcaba,sensu-fails-again-stable/stein, type: ../../containers-common.yaml, type: ../../../docker/services/containers-common.yaml,1,1
openstack%2Ftripleo-heat-templates~master~If13bbcdea82045d816485412f252c9b52bcf45a7,openstack/tripleo-heat-templates,master,If13bbcdea82045d816485412f252c9b52bcf45a7,Remove Neutron LBaaS,MERGED,2019-06-04 13:14:10.000000000,2019-06-05 17:17:15.000000000,2019-06-05 17:17:15.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-04 13:14:10.000000000', 'files': ['environments/services/neutron-nsx-lbaasv2.yaml', 'roles/Standalone.yaml', 'deployment/neutron/neutron-lbaas-agent-baremetal-puppet.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'environments/neutron-nsx.yaml', 'deployment/neutron/neutron-lbaas-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'releasenotes/notes/remove-neutron-lbaas-e72025b67de3563b.yaml', 'roles_data.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'roles/ControllerNoCeph.yaml', 'capabilities-map.yaml', 'environments/services/neutron-lbaasv2.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/Controller.yaml', 'environments/services-baremetal/neutron-lbaasv2.yaml', 'roles/Networker.yaml', 'roles/ControllerOpenstack.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14436f915bffe1c466e13baaae263d7ecbcb2e78', 'message': 'Remove Neutron LBaaS\n\nThe project has been retired and there will be no Train release [1].\nThis patch removes Neutron LBaaS support in tripleo-heat-templates.\n\n[1] https://review.opendev.org/#/c/658494/\n\nCloses-Bug: #1831618\nChange-Id: If13bbcdea82045d816485412f252c9b52bcf45a7\n'}]",0,663027,14436f915bffe1c466e13baaae263d7ecbcb2e78,9,4,1,6469,,,0,"Remove Neutron LBaaS

The project has been retired and there will be no Train release [1].
This patch removes Neutron LBaaS support in tripleo-heat-templates.

[1] https://review.opendev.org/#/c/658494/

Closes-Bug: #1831618
Change-Id: If13bbcdea82045d816485412f252c9b52bcf45a7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/663027/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/neutron-nsx-lbaasv2.yaml', 'roles/Standalone.yaml', 'deployment/neutron/neutron-lbaas-agent-baremetal-puppet.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'environments/neutron-nsx.yaml', 'deployment/neutron/neutron-lbaas-api-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'releasenotes/notes/remove-neutron-lbaas-e72025b67de3563b.yaml', 'roles_data.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'roles/ControllerNoCeph.yaml', 'capabilities-map.yaml', 'environments/services/neutron-lbaasv2.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/Controller.yaml', 'environments/services-baremetal/neutron-lbaasv2.yaml', 'roles/Networker.yaml', 'roles/ControllerOpenstack.yaml']",21,14436f915bffe1c466e13baaae263d7ecbcb2e78,remove-lbaas,, - OS::TripleO::Services::NeutronLbaasv2Api,12,205
openstack%2Fpuppet-tripleo~master~I8e95027aa0bd7f1257c7f99c1b5a474aeb2fada4,openstack/puppet-tripleo,master,I8e95027aa0bd7f1257c7f99c1b5a474aeb2fada4,Remove Neutron LBaaS,MERGED,2019-06-04 17:30:16.000000000,2019-06-05 17:17:12.000000000,2019-06-05 17:17:12.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-04 17:30:16.000000000', 'files': ['manifests/profile/pacemaker/neutron/lbaas.pp', 'manifests/profile/base/neutron/agents/lbaas.pp', 'releasenotes/notes/remove-neutron-lbaas-f6337e030a200b64.yaml', 'manifests/profile/base/neutron/lbaas.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f95c6d1b5409245c6d75c193a7027b25db44d1e4', 'message': 'Remove Neutron LBaaS\n\nThe project has been retired and there will be no Train release [1].\nThis patch removes Neutron LBaaS support in tripleo-heat-templates.\n\n[1] https://review.opendev.org/#/c/658494/\n\nRelated-Bug: #1831618\nChange-Id: I8e95027aa0bd7f1257c7f99c1b5a474aeb2fada4\n'}]",0,663105,f95c6d1b5409245c6d75c193a7027b25db44d1e4,9,4,1,6469,,,0,"Remove Neutron LBaaS

The project has been retired and there will be no Train release [1].
This patch removes Neutron LBaaS support in tripleo-heat-templates.

[1] https://review.opendev.org/#/c/658494/

Related-Bug: #1831618
Change-Id: I8e95027aa0bd7f1257c7f99c1b5a474aeb2fada4
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/05/663105/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/neutron/lbaas.pp', 'manifests/profile/base/neutron/agents/lbaas.pp', 'releasenotes/notes/remove-neutron-lbaas-f6337e030a200b64.yaml', 'manifests/profile/base/neutron/lbaas.pp']",4,f95c6d1b5409245c6d75c193a7027b25db44d1e4,remove-lbaas,,"# Copyright 2016 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::neutron::lbaas # # Neutron LBaaS Service plugin profile for TripleO # # === Parameters # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # class tripleo::profile::base::neutron::lbaas( $step = Integer(hiera('step')), ) { include ::tripleo::profile::base::neutron if $step >= 4 { include ::neutron::services::lbaas } } ",12,120
openstack%2Ftripleo-heat-templates~master~Ic6c0e2d42781633f78cb0d70b265456e71579a51,openstack/tripleo-heat-templates,master,Ic6c0e2d42781633f78cb0d70b265456e71579a51,Remove tripleo-ui references,MERGED,2019-06-03 19:54:34.000000000,2019-06-05 17:17:10.000000000,2019-06-05 17:17:10.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-03 19:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e77fbd63315b01138e1b5f62700b811f1b7bd793', 'message': ""Remove tripleo-ui references\n\nWe've removed the contents from tripleo-ui. Let's cleanup the remaining\ntripleo-ui items.\n\nCloses-Bug: #1831478\nChange-Id: Ic6c0e2d42781633f78cb0d70b265456e71579a51\n""}, {'number': 2, 'created': '2019-06-03 23:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d6539a06cd2f9fc8aa18d6b9eace0f58bb116b3', 'message': ""Remove tripleo-ui references\n\nWe've removed the contents from tripleo-ui. Let's cleanup the remaining\ntripleo-ui items.\n\nDepends-On: https://review.opendev.org/#/c/662873/\nCloses-Bug: #1831478\nChange-Id: Ic6c0e2d42781633f78cb0d70b265456e71579a51\n""}, {'number': 3, 'created': '2019-06-04 13:29:56.000000000', 'files': ['deployment/deprecated/tripleo-ui/tripleo-ui-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services/tripleo-ui.yaml', 'roles_data_undercloud.yaml', 'tools/yaml-validate.py', 'network/service_net_map.j2.yaml', 'roles/Undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67f8a42a855ed76c75413fbb2e7fd28d360992d1', 'message': ""Remove tripleo-ui references\n\nWe've removed the contents from tripleo-ui. Let's cleanup the remaining\ntripleo-ui items.\n\nDepends-On: https://review.opendev.org/#/c/662873/\nCloses-Bug: #1831478\nChange-Id: Ic6c0e2d42781633f78cb0d70b265456e71579a51\n""}]",0,662844,67f8a42a855ed76c75413fbb2e7fd28d360992d1,14,4,3,14985,,,0,"Remove tripleo-ui references

We've removed the contents from tripleo-ui. Let's cleanup the remaining
tripleo-ui items.

Depends-On: https://review.opendev.org/#/c/662873/
Closes-Bug: #1831478
Change-Id: Ic6c0e2d42781633f78cb0d70b265456e71579a51
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/662844/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/deprecated/tripleo-ui/tripleo-ui-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services/tripleo-ui.yaml', 'roles_data_undercloud.yaml', 'tools/yaml-validate.py', 'network/service_net_map.j2.yaml', 'roles/Undercloud.yaml']",7,e77fbd63315b01138e1b5f62700b811f1b7bd793,retire_tripleo_ui,, - OS::TripleO::Services::TripleoUI,0,54
openstack%2Ftripleo-puppet-elements~stable%2Frocky~I551d6ac2d064bff05862b3ffa025240657fafd36,openstack/tripleo-puppet-elements,stable/rocky,I551d6ac2d064bff05862b3ffa025240657fafd36,Add element to install all openstack clients,MERGED,2019-06-01 15:05:23.000000000,2019-06-05 17:17:07.000000000,2019-06-05 17:17:07.000000000,"[{'_account_id': 3153}, {'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-06-01 15:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/ace87776ea6289e93ec2df8d08a44af8f1f59e43', 'message': ""Add element to install all openstack clients\n\nLet's add an element to ensure all the python openstack clients are\nproperly installed on the controllers. These were previously being\npulled in because we installed the actual services. Since we moved to\ncontainers, these clients are no longer installed by default.\n\nConflicts:\n\telements/overcloud-controller/install.d/package-installs-overcloud-controller\n\telements/overcloud-controller/pkg-map\n\nCloses-Bug: #1829769\nChange-Id: I551d6ac2d064bff05862b3ffa025240657fafd36\n(cherry picked from commit 6a3c2b3e61923c82a3b95b6a1ec65f154021e42a)\n""}, {'number': 2, 'created': '2019-06-03 13:35:11.000000000', 'files': ['elements/overcloud-openstack-clients/install.d/package-installs-overcloud-openstack-clients', 'elements/overcloud-controller/pkg-map', 'elements/overcloud-openstack-clients/element-deps', 'elements/overcloud-openstack-clients/pkg-map', 'elements/overcloud-controller/element-deps', 'elements/overcloud-controller/install.d/package-installs-overcloud-controller', 'elements/overcloud-openstack-clients/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/81729a1fd3b95b452ee6472e62ced36aab9ba249', 'message': ""Add element to install all openstack clients\n\nLet's add an element to ensure all the python openstack clients are\nproperly installed on the controllers. These were previously being\npulled in because we installed the actual services. Since we moved to\ncontainers, these clients are no longer installed by default.\n\nConflicts:\n\telements/overcloud-controller/install.d/package-installs-overcloud-controller\n\telements/overcloud-controller/pkg-map\n\nCloses-Bug: #1829769\nChange-Id: I551d6ac2d064bff05862b3ffa025240657fafd36\n(cherry picked from commit 6a3c2b3e61923c82a3b95b6a1ec65f154021e42a)\n""}]",0,662610,81729a1fd3b95b452ee6472e62ced36aab9ba249,18,7,2,14985,,,0,"Add element to install all openstack clients

Let's add an element to ensure all the python openstack clients are
properly installed on the controllers. These were previously being
pulled in because we installed the actual services. Since we moved to
containers, these clients are no longer installed by default.

Conflicts:
	elements/overcloud-controller/install.d/package-installs-overcloud-controller
	elements/overcloud-controller/pkg-map

Closes-Bug: #1829769
Change-Id: I551d6ac2d064bff05862b3ffa025240657fafd36
(cherry picked from commit 6a3c2b3e61923c82a3b95b6a1ec65f154021e42a)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/10/662610/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-openstack-clients/install.d/package-installs-overcloud-openstack-clients', 'elements/overcloud-controller/pkg-map', 'elements/overcloud-openstack-clients/element-deps', 'elements/overcloud-openstack-clients/pkg-map', 'elements/overcloud-controller/element-deps', 'elements/overcloud-controller/install.d/package-installs-overcloud-controller', 'elements/overcloud-openstack-clients/README.md']",7,ace87776ea6289e93ec2df8d08a44af8f1f59e43,bug/1829769,Install all openstack clients ,,91,2
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ida2011b2ad0858d479b2c7d7988e1b5b908f4b3e,openstack/tripleo-heat-templates,stable/stein,Ida2011b2ad0858d479b2c7d7988e1b5b908f4b3e,Set TenantNetPhysnetMtu to 0 to allow different MTUs,MERGED,2019-06-04 14:21:55.000000000,2019-06-05 17:13:22.000000000,2019-06-05 17:13:22.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-06-04 14:21:55.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a199e335b61806178f0f192138abae87336803dc', 'message': 'Set TenantNetPhysnetMtu to 0 to allow different MTUs\n\nI5e60d52ad571e1cdb3b82cd1d9947e33fa682bf8 changed the default value that\nwas being used to honor the TenantNetPhysnetMtu if the\nNeutronGlobalPhysnetMtu is set to 0 (the default).  For the undercloud\nwe want this value to be 0 so we can define overcloud networks with\n>1500 MTU even if the undercloud is set to 1500.\n\nChange-Id: Ida2011b2ad0858d479b2c7d7988e1b5b908f4b3e\nCloses-Bug: #1826729\n(cherry picked from commit d6b08579abbe27e2cd58ef83f95a7a1a115c9c96)\n'}]",0,663047,a199e335b61806178f0f192138abae87336803dc,8,4,1,14985,,,0,"Set TenantNetPhysnetMtu to 0 to allow different MTUs

I5e60d52ad571e1cdb3b82cd1d9947e33fa682bf8 changed the default value that
was being used to honor the TenantNetPhysnetMtu if the
NeutronGlobalPhysnetMtu is set to 0 (the default).  For the undercloud
we want this value to be 0 so we can define overcloud networks with
>1500 MTU even if the undercloud is set to 1500.

Change-Id: Ida2011b2ad0858d479b2c7d7988e1b5b908f4b3e
Closes-Bug: #1826729
(cherry picked from commit d6b08579abbe27e2cd58ef83f95a7a1a115c9c96)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/663047/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,a199e335b61806178f0f192138abae87336803dc,bug/1826729-stable/stein, # This allows MTU > 1500 for the overcloud if local_mtu is set to 1500 # See LP#1826729 TenantNetPhysnetMtu: 0,,3,0
openstack%2Ftripleo-validations~stable%2Fstein~Ic099c61c74abf6da24a2cce899c944e3bf8ce26b,openstack/tripleo-validations,stable/stein,Ic099c61c74abf6da24a2cce899c944e3bf8ce26b,Add option to fail if ceph-ansible is not installed,MERGED,2019-06-05 08:01:07.000000000,2019-06-05 17:13:20.000000000,2019-06-05 17:13:20.000000000,"[{'_account_id': 6796}, {'_account_id': 17888}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-05 08:01:07.000000000', 'files': ['playbooks/ceph-ansible-installed.yaml', 'roles/ceph/tasks/ceph-ansible-installed.yaml', 'roles/ceph/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4af560c8c2dc830afbbe20dc3b2d7606eab7af75', 'message': 'Add option to fail if ceph-ansible is not installed\n\nIf someone is deploying Ceph then they need ceph-ansible.\nThe warning might be overlooked and the user may end up\nwith a message about a missing file. If Ceph is being\ndeployed then we want to make the validation fail the\ndeployment if ceph-ansible is not installed so that the\nuser has a better error message to follow in order to debug.\n\nAlso, update warning to refer to the ceph-ansible package.\n\nChange-Id: Ic099c61c74abf6da24a2cce899c944e3bf8ce26b\n(cherry picked from commit bf206aa97a5cce5b04de505c294d4d634f05d135)\n'}]",0,663267,4af560c8c2dc830afbbe20dc3b2d7606eab7af75,7,5,1,11491,,,0,"Add option to fail if ceph-ansible is not installed

If someone is deploying Ceph then they need ceph-ansible.
The warning might be overlooked and the user may end up
with a message about a missing file. If Ceph is being
deployed then we want to make the validation fail the
deployment if ceph-ansible is not installed so that the
user has a better error message to follow in order to debug.

Also, update warning to refer to the ceph-ansible package.

Change-Id: Ic099c61c74abf6da24a2cce899c944e3bf8ce26b
(cherry picked from commit bf206aa97a5cce5b04de505c294d4d634f05d135)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/67/663267/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/ceph-ansible-installed.yaml', 'roles/ceph/tasks/ceph-ansible-installed.yaml', 'roles/ceph/defaults/main.yml']",3,4af560c8c2dc830afbbe20dc3b2d7606eab7af75,fail_without_ceph_ansible-stable/stein,--- fail_without_ceph_ansible: false ,,12,1
openstack%2Fnova~master~I2263116e0c0f4d163a8b07b642cf5ad772fd3fdd,openstack/nova,master,I2263116e0c0f4d163a8b07b642cf5ad772fd3fdd,[POC]: Limit _get_computes_for_cells to only go into the required cells,ABANDONED,2019-02-07 15:12:46.000000000,2019-06-05 17:04:35.000000000,,"[{'_account_id': 2033}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2019-02-07 15:12:46.000000000', 'files': ['nova/scheduler/filter_scheduler.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a1d78b1e6d9ef3f06755916d7a05257d8c4164b4', 'message': '[POC]: Limit _get_computes_for_cells to only go into the required cells\n\nThis patch uses the results from placement which contain the compute\nnode ""uuids"" of the allocation candiates to get their respective ""names""\nin order to fetch the host_mappings of those computes and use the\ncell_mapping to determine which all cells need to be visited to pull\nout the services/compute_nodes info in _get_computes_for_cells().\n\nNote that this would get better if the host_mappings object had the\ncompute_node ""uuid"" instead of the ""name"".\n\nChange-Id: I2263116e0c0f4d163a8b07b642cf5ad772fd3fdd\nCloses-bug: #1767303\n'}]",5,635532,a1d78b1e6d9ef3f06755916d7a05257d8c4164b4,13,11,1,26936,,,0,"[POC]: Limit _get_computes_for_cells to only go into the required cells

This patch uses the results from placement which contain the compute
node ""uuids"" of the allocation candiates to get their respective ""names""
in order to fetch the host_mappings of those computes and use the
cell_mapping to determine which all cells need to be visited to pull
out the services/compute_nodes info in _get_computes_for_cells().

Note that this would get better if the host_mappings object had the
compute_node ""uuid"" instead of the ""name"".

Change-Id: I2263116e0c0f4d163a8b07b642cf5ad772fd3fdd
Closes-bug: #1767303
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/635532/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/filter_scheduler.py', 'nova/scheduler/host_manager.py']",2,a1d78b1e6d9ef3f06755916d7a05257d8c4164b4,bug/1767303," cctxt, compute_uuids.keys()) if compute_uuids is not None: cells = {} for compute_name in compute_uuids.values(): try: hm = objects.HostMapping.get_by_host(context, compute_name) if not hm.cell_mapping.disabled: cells[hm.cell_mapping.id] = hm.cell_mapping except exception.HostMappingNotFound: LOG.error(""HM not found for %s"", compute_name) results = context_module.scatter_gather_cells(context, cells.values(), timeout, targeted_operation) else: results = context_module.scatter_gather_cells(context, cells, timeout, targeted_operation) "," cctxt, compute_uuids) results = context_module.scatter_gather_cells(context, cells, timeout, targeted_operation)",26,5
openstack%2Ftripleo-upgrade~stable%2Fstein~I20eff8d9d6781196e1eeab88cd005ccbaab704d2,openstack/tripleo-upgrade,stable/stein,I20eff8d9d6781196e1eeab88cd005ccbaab704d2,Error invalid options for include tasks tags.,MERGED,2019-05-28 13:09:30.000000000,2019-06-05 17:01:48.000000000,2019-06-05 17:01:48.000000000,"[{'_account_id': 8175}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-05-28 13:09:30.000000000', 'files': ['tasks/upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/707e380e7fa8cda94799c9cc1aef3b70cc6faad2', 'message': 'Error invalid options for include tasks tags.\n\nFix the invalid options. The args must be use with apply.\n\nChange-Id: I20eff8d9d6781196e1eeab88cd005ccbaab704d2\nCloses-Bug: #1827906\n(cherry picked from commit fdd2eac1a700747bc23ba4d089a75d2b6d13e041)\n'}]",0,661751,707e380e7fa8cda94799c9cc1aef3b70cc6faad2,9,4,1,29222,,,0,"Error invalid options for include tasks tags.

Fix the invalid options. The args must be use with apply.

Change-Id: I20eff8d9d6781196e1eeab88cd005ccbaab704d2
Closes-Bug: #1827906
(cherry picked from commit fdd2eac1a700747bc23ba4d089a75d2b6d13e041)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/51/661751/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/main.yml'],1,707e380e7fa8cda94799c9cc1aef3b70cc6faad2,bug/1827906, apply: tags: - create_overcloud_upgrade_scripts, tags: - create_overcloud_upgrade_scripts,3,2
openstack%2Fcinder-specs~master~Ib8234211efc75594a6a9793a6cc7f3ab5886a2bd,openstack/cinder-specs,master,Ib8234211efc75594a6a9793a6cc7f3ab5886a2bd,[WIP]Introduce host manager's state store to manage volume pool status,ABANDONED,2018-06-12 10:04:08.000000000,2019-06-05 16:47:29.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9535}, {'_account_id': 10058}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-12 10:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/7f356f87d56e89644bb49119357e966994cebe92', 'message': '[WIP]Introduce scheduler store driver to manage volume pool status\n\nSee above.\n\nChange-Id: Ib8234211efc75594a6a9793a6cc7f3ab5886a2bd\n'}, {'number': 2, 'created': '2018-06-12 10:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/39aed7c987142b668956b46f4509dd20542a0cbc', 'message': '[WIP]Introduce scheduler store driver to manage volume pool status\n\nSee above.\n\nChange-Id: Ib8234211efc75594a6a9793a6cc7f3ab5886a2bd\n'}, {'number': 3, 'created': '2018-06-12 12:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/eacd55e1ceb5dde8cadf10813b680a288fea11d6', 'message': '[WIP]Introduce scheduler store driver to manage volume pool status\n\nSee above.\n\nChange-Id: Ib8234211efc75594a6a9793a6cc7f3ab5886a2bd\n'}, {'number': 4, 'created': '2018-06-19 09:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/e6a1d83b4cad340063672f624e6611fa2c158aa5', 'message': ""[WIP]Introduce host manager's state store to manage volume pool status\n\nSee above.\n\nChange-Id: Ib8234211efc75594a6a9793a6cc7f3ab5886a2bd\n""}, {'number': 5, 'created': '2018-07-02 07:08:48.000000000', 'files': ['specs/rocky/introduce-scheduler-store-backend.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/ad04abf486f4f243e342af98f1ebd81904aa4363', 'message': ""[WIP]Introduce host manager's state store to manage volume pool status\n\nSee above.\n\nChange-Id: Ib8234211efc75594a6a9793a6cc7f3ab5886a2bd\n""}]",12,574681,ad04abf486f4f243e342af98f1ebd81904aa4363,12,6,5,23083,,,0,"[WIP]Introduce host manager's state store to manage volume pool status

See above.

Change-Id: Ib8234211efc75594a6a9793a6cc7f3ab5886a2bd
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/81/574681/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/introduce-scheduler-store-backend.rst'],1,7f356f87d56e89644bb49119357e966994cebe92,feature/support-pluginable-backend,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================================= Introduce scheduler store driver to manage volume pool status ============================================================= https://blueprints.launchpad.net/cinder/+spec/placeholder-for-link This blueprint proposes to introduce configurable scheduler store backend to manage volume pool status reported by volume service. Problem description =================== Cinder scheduler service now will store the volume backend status in memory and leverage on the calculation based on this to determine how many more resource (volume or snapshot) still can be created until volume backend update it again, thus if we have multiple scheduler instances (the same to multiple workers?) deployed, it's possible that schedulers will permit more create resource requests than that of backend actually can hold. Also, the issue above means our scheduler service can not been deployed in A/A mode and the service itself could be the performance bottleneck of the whole system. We have been bothered by this long standing issue for several cycles and raised several ideas to centralize the backend data to resolve this, see database proposal [1] and placement proposal [2]. But neither of them satisfies us all since both of them will add more complexity to our service as well as increase the possibility to have more issues in deployment, what's more our current code already work perfect in the standalone and A/P deployment. Use Cases ========= To add the ability to configure scheduler store driver which can be used to manage backend pool status reported by volume service. For the first step, there would be only one driver called ``MemoryStoreDriver`` which represents our current logic. Proposed change =============== This spec proposes to introduce a scheduler store driver and move existing backend status related operations into the new driver. In general, the new driver is responsible for two main things: 1. Update backend status, this is generally happened on volume node and when volume driver updates pool status or when resource has been successfully created/deleted extended at backend. 2. Select valid hosts based on current backend status and request spec, consume resource when scheduled. This is happened on scheduler node. Based on the use case above we propose to add a new class 'StoreDriver' to scheduler module which may have the interfaces defined as below: .. code-block:: python class StoreDriver(object): """"""The base class that all Store Driver classes should inherit from."""""" def initialize_driver(self, context, manager): """"""Initialize driver within manager instance This method will be performed when initialize driver at the scheduler node. :param context: The context of the caller. :param manager: The manager instance. """""" def get_candidates(self, context, resources): """"""Get valid backend candidates This method is typically used in scheduler when creating new resources the parameter 'resources' which represents the requirements will be: .. code-block:: javascript { ""VOLUME_GB"": 1024 } NOTE: driver need to build the BackendState object rather than status dictionary when returning. :param context: The context of the caller. :param resources: The resource requirement. :return: Lists of BackendState who can hold the specified resource. """""" return [] def update_backend_capabilities(self, context, service_name, backend_identity, capabilities): """""" Update backend pools' status This method is typically used by volume service's periodic task, the 'capabilities' is a raw data collected from drivers in the format of: .. code-block:: javascript { ""filter_function"": """", ""goodness_function"": """", ""shared_targets"": false, ""volume_backend_name"": ""lvmdriver-1"", ""driver_version"": ""3.0.0"", ""sparse_copy_volume"": true, ""pools"": [ { ""pool_name"": ""lvmdriver-1"", ""filter_function"": """", ""goodness_function"": """", ""multiattach"": true, ""total_volumes"": ""1 1"", ""provisioned_capacity_gb"": 10.0, ""allocated_capacity_gb"": 10, ""thin_provisioning_support"": true, ""free_capacity_gb"": 9.32, ""location_info"": ""LVMVolumeDriver:h:lvmgroup:thin:0"", ""total_capacity_gb"": 9.51, ""thick_provisioning_support"": false, ""reserved_percentage"": 0, ""QoS_support"": false, ""max_over_subscription_ratio"": ""20.0"", ""backend_state"": ""up"" } ], ""vendor_name"": ""Open Source"", ""storage_protocol"": ""iSCSI"" } driver needs to update the corresponding backend data as well as notify metering system. :param context: The context of the caller. :param service_name: The name of the service. :param backend_identity: Backend-specific information used to identity a backend data. :param capabilities: The raw capabilities information collected from driver. """""" return def consume_resources(self, backend_identity, resources): """"""Update backend status within resources This is used when resource successfully schedule in the scheduler or created in the backend. The resource number can be negative which means revert consuming operation. 'resources' will in the format of: .. code-block:: javascript { ""VOLUME_GB"": 1024 } When consuming one resource in one specific pool. Three main attributes of pool will be update. 1. free_capacity_gb 2. allocated_capacity_gb 3. provisioned_capacity_gb :param backend_identity: Backend-specific information used to identity a backend data. :param resources: The resource requirement. """""" return Currently we will collect the backend information in the volume service, broadcast it to scheduler service via rpc method, then manage and keep it updated in the node memory. In order to keep it compatible, ""MemoryStoreDriver"" will be our first landed driver which represents the existing code. **Report backend status** Considering we already defined two rpc methods ``update_service_capabilities`` and ``notify_service_capabilities`` in scheduler to handle backend update task. We will move them into driver code and bound them back to the scheduler manager as additional rpc endpoint methods within the code below when initialize: .. code-block::python def _update_service_capabilities(self, context, service_name, host, capabilities, cluster_name, timestamp): """"""This method holds the same logic as the identical method 'update_service_capabilities' defined in host manager """""" pass def _notify_service_capabilities(self, context, service_name, capabilities, host=None, backend=None, timestamp=None): """"""This method holds the same logic as the identical method 'notify_service_capabilities' defined in host manager """""" pass def initialize_driver(self, context, manager): self.manager = manager def update_service_capabilities(self, context, service_name=None, host=None, capabilities=None, cluster_name=None, timestamp=None): self.store_driver._update_service_capabilities( context=context, service_name=service_name, host=host, capabilities=capabilities, cluster_name=cluster_name, timestamp=timestamp) def notify_service_capabilities(self, context, service_name, capabilities, host=None, backend=None, timestamp=None): self.store_driver._notify_service_capabilities( context, service_name, capabilities, host=host, backend=backend, timestamp=timestamp) self.manager.update_service_capabilities = types.MethodType( update_service_capabilities, self.manager) self.manager.notify_service_capabilities = types.MethodType( notify_service_capabilities, self.manager) Also, we will extend scheduler's rpc api to add the client code back as well: .. code-block::python class MemoryStoreRpcClient(rpcapi.SchedulerAPI): def update_service_capabilities(self, ctxt, service_name, host, capabilities, cluster_name, timestamp=None): """"""This method holds the same logic as the identical method 'update_service_capabilities' defined in scheduler rpcapi """""" pass def notify_service_capabilities(self, ctxt, service_name, backend, capabilities, timestamp=None): """"""This method holds the same logic as the identical method 'notify_service_capabilities' defined in scheduler rpcapi """""" pass Therefore, when asking ``MemoryStoreDriver`` to update backend status, it will deliver the backend data to scheduler via rpc as what we did as before. .. code-block::python def update_backend_capabilities(self, context, service_name, backend_identity, capabilities): self.rpcclient.update_volume_backend_capabilities( context, service_name, host, capabilities, cluster, timestamp=None) self.rpcclient.notify_volume_backend_capabilities( context, service_name, host, capabilities, timestamp=None) **Select candidates and consume resource** Before this change, scheduler driver will collect all backend status from host_manager and then perform filtering and weighing. And now, the scheduler driver will only use collection returned from store driver's ``get_candidates``. Method ``get_candidates`` is designed to only return valid backends based on required size, but for the first step of ``MemoryStoreDriver`` we will return all backends, just keep it simple and consistent as before. The code snippets would be as below: .. code-block::python #1. Task: ScheduleCreateVolumeTask in scheduler service def execute(self, context, request_spec, filter_properties, volume): try: resources = vol_utils.build_resource_from_request_spec( request_spec) backend_candidates = self.store_driver.get_candidates(context, resources) self.driver_api.schedule_create_volume(context, request_spec, filter_properties, backends=backend_candidates) except Exception as e: pass #1. MemoryStoreDriver's _get_all_backend_states method. def _get_all_backend_states(self, context): """"""This method holds the same logic as the identical method '_get_all_backend_states' defined in host manager """""" pass #3. MemoryStoreDriver's get_candidates def get_candidates(self, context, resource): return self._get_all_backend_states(context) When resource has been successfully scheduled to volume service or failed creation on volume service node, It's required to ask store driver to update the backend pool status. .. code-block::python def consume_resources(self, backend, resource): backend_state = self.backend_state_map.get(backend, None) if backend_state: backend_state.consume_from_volume( {'volume': resource.get('VOLUME_GB')}) **Other mentionable changes** TBD Alternatives ------------ TBD. Data model impact ----------------- TBD REST API impact --------------- TBD Cinder-client impact -------------------- TBD Security impact --------------- TBD Notifications impact -------------------- TBD Other end user impact --------------------- TBD Performance Impact ------------------ TBD Other deployer impact --------------------- None Developer impact ---------------- TBD Implementation ============== Assignee(s) ----------- Primary assignee: tommylikehu(tommylikehu@gmail.com) Work Items ---------- TBD Dependencies ============ TBD Testing ======= TBD Documentation Impact ==================== TBD References ========== [1]: https://review.openstack.org/#/c/556529 [2]: https://review.openstack.org/#/c/559718 ",,418,0
openstack%2Fopenstack-ansible-os_aodh~master~I3f459958e7d420e7adfc6f3747080e3fc20f59d7,openstack/openstack-ansible-os_aodh,master,I3f459958e7d420e7adfc6f3747080e3fc20f59d7,db_setup: refactor database setup to a common file,MERGED,2019-06-03 19:03:17.000000000,2019-06-05 16:39:47.000000000,2019-06-05 16:39:46.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-03 19:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/d9e7c08537415c689abed8355f59be063bbf17b5', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: I3f459958e7d420e7adfc6f3747080e3fc20f59d7\n'}, {'number': 2, 'created': '2019-06-03 20:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/25dc49f0ae054aa04d3c62744a1a5e1198ad141d', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: I3f459958e7d420e7adfc6f3747080e3fc20f59d7\n'}, {'number': 3, 'created': '2019-06-04 02:20:19.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/aodh_db_sync.yml', 'tasks/aodh_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/7224c37af7bd4658edb93cb91d5f498c6b0a6b7c', 'message': 'db_setup: refactor database setup to a common file\n\nThis patch refactors the database creation to db_setup.yml which\nwill eventually be managed by openstack-ansible-tests.\n\nThis also re-orders the mq_setup to be done earlier so these system\nlevel dependencies are ready before service activation.\n\nChange-Id: I3f459958e7d420e7adfc6f3747080e3fc20f59d7\n'}]",0,662827,7224c37af7bd4658edb93cb91d5f498c6b0a6b7c,20,3,3,28008,,,0,"db_setup: refactor database setup to a common file

This patch refactors the database creation to db_setup.yml which
will eventually be managed by openstack-ansible-tests.

This also re-orders the mq_setup to be done earlier so these system
level dependencies are ready before service activation.

Change-Id: I3f459958e7d420e7adfc6f3747080e3fc20f59d7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/27/662827/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/aodh_db_sync.yml', 'tasks/aodh_db_setup.yml']",4,d9e7c08537415c689abed8355f59be063bbf17b5,osa/db-refactor,,"--- # Copyright 2016, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Create DB for service mysql_db: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ aodh_db_address }}"" name: ""{{ aodh_database_name }}"" state: ""present"" delegate_to: ""{{ aodh_db_setup_host }}"" no_log: True - name: Grant access to the DB for the service mysql_user: login_user: ""{{ galera_root_user }}"" login_password: ""{{ galera_root_password }}"" login_host: ""{{ aodh_db_address }}"" name: ""{{ aodh_database_user }}"" password: ""{{ aodh_container_db_password }}"" host: ""{{ item }}"" state: ""present"" priv: ""{{ aodh_database_name }}.*:ALL"" delegate_to: ""{{ aodh_db_setup_host }}"" with_items: - ""localhost"" - ""%"" no_log: True - name: Perform a Aodh DB sync command: ""{{ aodh_bin }}/aodh-dbsync"" become: yes become_user: ""{{ aodh_system_user_name }}"" changed_when: false ",94,65
openstack%2Fpuppet-nova~stable%2Fstein~I16732c9d6013112381cfad999540dd41ec3d7ba3,openstack/puppet-nova,stable/stein,I16732c9d6013112381cfad999540dd41ec3d7ba3,Add parameter for `libvirt/num_pcie_ports`,MERGED,2019-06-05 04:30:57.000000000,2019-06-05 16:39:33.000000000,2019-06-05 16:39:33.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 04:30:57.000000000', 'files': ['spec/classes/nova_compute_libvirt_spec.rb', 'releasenotes/notes/libvirt_num_pcie_ports-427923117bd13a65.yaml', 'manifests/compute/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/17663a522bd214d5cf54c803e5f5f801ea54f84f', 'message': 'Add parameter for `libvirt/num_pcie_ports`\n\nAdd parameter `num_pcie_ports` to specify the number of PCIe ports an\ninstance will get.\nLibvirt allows a custom number of PCIe ports (pcie-root-port controllers) a\ntarget instance will get. Some will be used by default, rest will be available\nfor hotplug use.\n\nChange-Id: I16732c9d6013112381cfad999540dd41ec3d7ba3\n(cherry picked from commit 3e7cd134f8bcb1290108b70962af144d1dd5e299)\n'}]",0,663228,17663a522bd214d5cf54c803e5f5f801ea54f84f,7,4,1,17216,,,0,"Add parameter for `libvirt/num_pcie_ports`

Add parameter `num_pcie_ports` to specify the number of PCIe ports an
instance will get.
Libvirt allows a custom number of PCIe ports (pcie-root-port controllers) a
target instance will get. Some will be used by default, rest will be available
for hotplug use.

Change-Id: I16732c9d6013112381cfad999540dd41ec3d7ba3
(cherry picked from commit 3e7cd134f8bcb1290108b70962af144d1dd5e299)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/28/663228/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_compute_libvirt_spec.rb', 'releasenotes/notes/libvirt_num_pcie_ports-427923117bd13a65.yaml', 'manifests/compute/libvirt.pp']",3,17663a522bd214d5cf54c803e5f5f801ea54f84f,num_pcie_ports-stable/stein,"# [*num_pcie_ports*] # (optional) The number of PCIe ports an instance will get. # Libvirt allows a custom number of PCIe ports (pcie-root-port controllers) a # target instance will get. Some will be used by default, rest will be available # for hotplug use. # Defaults to $::os_service_default # $num_pcie_ports = $::os_service_default, 'libvirt/num_pcie_ports': value => $num_pcie_ports;",,21,1
openstack%2Fplacement~master~Idb972d9d905f2891cd412c0abefb7bff5524d04f,openstack/placement,master,Idb972d9d905f2891cd412c0abefb7bff5524d04f,Bump os-traits requirements,MERGED,2019-06-05 08:11:44.000000000,2019-06-05 16:38:25.000000000,2019-06-05 16:38:25.000000000,"[{'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-06-05 08:11:44.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'placement/tests/functional/gabbits/traits.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/7db53444fb313fa2f2f9dc30f318e26e9a969a1b', 'message': 'Bump os-traits requirements\n\nThis patch bumps os-traits since os-traits 0.13.0 was released.\n\nChange-Id: Idb972d9d905f2891cd412c0abefb7bff5524d04f\n'}]",0,663269,7db53444fb313fa2f2f9dc30f318e26e9a969a1b,10,4,1,25625,,,0,"Bump os-traits requirements

This patch bumps os-traits since os-traits 0.13.0 was released.

Change-Id: Idb972d9d905f2891cd412c0abefb7bff5524d04f
",git fetch https://review.opendev.org/openstack/placement refs/changes/69/663269/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'placement/tests/functional/gabbits/traits.yaml']",3,7db53444fb313fa2f2f9dc30f318e26e9a969a1b,bump-os-traits, $.traits.`len`: 236 # Number of standard traits, $.traits.`len`: 223 # Number of standard traits,3,3
openstack%2Fkolla-ansible~stable%2Frocky~Ibb8ce5d262c03d3ddb0234cfcd41796677158f5b,openstack/kolla-ansible,stable/rocky,Ibb8ce5d262c03d3ddb0234cfcd41796677158f5b,Fix bifrost tests (Rocky),MERGED,2019-05-29 16:16:23.000000000,2019-06-05 16:14:49.000000000,2019-06-05 16:14:49.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-05-29 16:16:23.000000000', 'files': ['tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5998650bc94d7d98fc1f85256077a86128a0ff40', 'message': 'Fix bifrost tests (Rocky)\n\nBifrost now requires the use of the openstack CLI rather than ironic.\n\nChange-Id: Ibb8ce5d262c03d3ddb0234cfcd41796677158f5b\n'}]",0,662029,5998650bc94d7d98fc1f85256077a86128a0ff40,7,3,1,14826,,,0,"Fix bifrost tests (Rocky)

Bifrost now requires the use of the openstack CLI rather than ironic.

Change-Id: Ibb8ce5d262c03d3ddb0234cfcd41796677158f5b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/29/662029/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_gate.sh'],1,5998650bc94d7d98fc1f85256077a86128a0ff40,," while [[ $(sudo docker exec bifrost_deploy bash -c ""OS_CLOUD=bifrost openstack baremetal driver list -f value"" | wc -l) -eq 0 ]]; do sudo docker exec bifrost_deploy bash -c ""OS_CLOUD=bifrost openstack baremetal node list"" sudo docker exec bifrost_deploy bash -c ""OS_CLOUD=bifrost openstack baremetal node create --driver ipmi --name test-node"" sudo docker exec bifrost_deploy bash -c ""OS_CLOUD=bifrost openstack baremetal node delete test-node"""," while [[ $(sudo docker exec bifrost_deploy bash -c ""source env-vars && ironic driver-list"" | wc -l) -le 4 ]]; do sudo docker exec bifrost_deploy bash -c ""source env-vars && ironic node-list"" sudo docker exec bifrost_deploy bash -c ""source env-vars && ironic node-create --driver ipmi --name test-node"" sudo docker exec bifrost_deploy bash -c ""source env-vars && ironic node-delete test-node""",4,4
openstack%2Fkuryr-kubernetes~master~I668ccc07263fe84c65dc7dbd6073a88a1ae9a924,openstack/kuryr-kubernetes,master,I668ccc07263fe84c65dc7dbd6073a88a1ae9a924,DNM: Testing the gates,ABANDONED,2019-04-15 15:30:37.000000000,2019-06-05 15:52:05.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-15 15:30:37.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a317201e8893884b5f24e989b76ab393e7d96c55', 'message': 'DNM: Testing the gates\n\nChange-Id: I668ccc07263fe84c65dc7dbd6073a88a1ae9a924\n'}]",0,652692,a317201e8893884b5f24e989b76ab393e7d96c55,16,2,1,11600,,,0,"DNM: Testing the gates

Change-Id: I668ccc07263fe84c65dc7dbd6073a88a1ae9a924
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/92/652692/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,a317201e8893884b5f24e989b76ab393e7d96c55,test-gates," get_container ""$KURYR_HYPERKUBE_IMAGE"" ""$KURYR_HYPERKUBE_VERSION""",,1,0
openstack%2Fpuppet-tripleo~master~I1c3943b85cd63781b4d34f7b9b57ca54473cb797,openstack/puppet-tripleo,master,I1c3943b85cd63781b4d34f7b9b57ca54473cb797,Add new kill script for neutron,ABANDONED,2019-06-05 11:21:06.000000000,2019-06-05 15:51:42.000000000,,"[{'_account_id': 6681}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-05 11:21:06.000000000', 'files': ['manifests/profile/base/neutron/wrappers/haproxy.pp', 'templates/neutron/kill-script.epp', 'manifests/profile/base/neutron/wrappers/keepalived.pp', 'manifests/profile/base/neutron/wrappers/dnsmasq.pp', 'manifests/profile/base/neutron/wrappers/kill_script.pp', 'manifests/profile/base/neutron/wrappers/dibbler_client.pp', 'spec/defines/tripleo_profile_base_neutron_wrappers_kill__scriptx_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1fc7796137cc0b5a012f8fef3c44a1a7fa69df5c', 'message': 'Add new kill script for neutron\n\nRecently, Neutron has been modified in order to support kill script\ninstead of the plain, hard-coded ""kill"" when it needs to terminate an\nagent.\n\nThis patch takes advantage of this feature and creates per-service kill\nscript that will call the *container_cli* for stopping and removing\nagent container.\n\nYou can find more information about the change with this change-id:\nI29dfbedfb7167982323dcff1c4554ee780cc48db\n\nDepends-On: I55df97e7fe9860fd58a6fcb396452657498fc218\nChange-Id: I1c3943b85cd63781b4d34f7b9b57ca54473cb797\n'}]",2,663302,1fc7796137cc0b5a012f8fef3c44a1a7fa69df5c,7,6,1,28223,,,0,"Add new kill script for neutron

Recently, Neutron has been modified in order to support kill script
instead of the plain, hard-coded ""kill"" when it needs to terminate an
agent.

This patch takes advantage of this feature and creates per-service kill
script that will call the *container_cli* for stopping and removing
agent container.

You can find more information about the change with this change-id:
I29dfbedfb7167982323dcff1c4554ee780cc48db

Depends-On: I55df97e7fe9860fd58a6fcb396452657498fc218
Change-Id: I1c3943b85cd63781b4d34f7b9b57ca54473cb797
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/02/663302/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/neutron/wrappers/haproxy.pp', 'templates/neutron/kill-script.epp', 'manifests/profile/base/neutron/wrappers/dnsmasq.pp', 'manifests/profile/base/neutron/wrappers/keepalived.pp', 'manifests/profile/base/neutron/wrappers/kill_script.pp', 'manifests/profile/base/neutron/wrappers/dibbler_client.pp', 'spec/defines/tripleo_profile_base_neutron_wrappers_kill__scriptx_spec.rb']",7,1fc7796137cc0b5a012f8fef3c44a1a7fa69df5c,neutron/kill_script,"# # Copyright (C) 2018 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # require 'spec_helper' describe 'tripleo::profile::base::neutron::wrappers::kill_script' do let :title do 'service-kill-script' end shared_examples_for 'tripleo::profile::base::neutron::wrappers::kill_script' do context 'creates kill_script file for docker' do let(:params) { { :service_name => 'my_service', :bind_socket => 'unix:///run/another/docker.sock', :container_cli => 'docker', :debug => true, } } it 'should generate a wrapper file' do is_expected.to contain_file('/etc/neutron/kill_scripts/my_service-kill').with( :mode => '0755' ) is_expected.to contain_file('/etc/neutron/kill_scripts/my_service-kill').with_content( /export DOCKER_HOST=""unix:...run.another.docker.sock/ ) is_expected.to contain_file('/etc/neutron/kill_scripts/my_service-kill').with_content( /set -x/ ) is_expected.to contain_file('/etc/neutron/kill_scripts/my_service-kill').with_content( /CLI='docker'/ ) end end context 'creates wrapper file for podman' do let(:params) { { :service_name => 'my_service', :container_cli => 'podman', :debug => false, } } it 'should generate a wrapper file' do is_expected.to contain_file('/etc/neutron/kill_scripts/my_service-kill').with( :mode => '0755' ) is_expected.to contain_file('/etc/neutron/kill_scripts/my_service-kill').with_content( /CLI=""nsenter.*""/ ) end end end on_supported_os.each do |os, facts| context ""on #{os}"" do let(:facts) do facts.merge({ :hostname => 'node.example.com' }) end it_behaves_like 'tripleo::profile::base::neutron::wrappers::kill_script' end end end ",,198,0
openstack%2Fopenstack-ansible-tests~master~Ib5f17388dcb8370ca9b1b70199b7b5b3b026cb6d,openstack/openstack-ansible-tests,master,Ib5f17388dcb8370ca9b1b70199b7b5b3b026cb6d,Pin ARA to <1.0.0,MERGED,2019-06-04 23:06:47.000000000,2019-06-05 15:45:17.000000000,2019-06-05 09:47:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-04 23:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/f9606fab0510664ffb23ff18a52d50b1ff54c208', 'message': 'Pin ARA to <1.0.0\n\nChange-Id: Ib5f17388dcb8370ca9b1b70199b7b5b3b026cb6d\n'}, {'number': 2, 'created': '2019-06-05 01:35:09.000000000', 'files': ['test-ansible-env-prep.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/41f3b941cbe8f6c96019db42acfaf562f91d8df2', 'message': 'Pin ARA to <1.0.0\n\nChange-Id: Ib5f17388dcb8370ca9b1b70199b7b5b3b026cb6d\n'}]",0,663158,41f3b941cbe8f6c96019db42acfaf562f91d8df2,10,3,2,17799,,,0,"Pin ARA to <1.0.0

Change-Id: Ib5f17388dcb8370ca9b1b70199b7b5b3b026cb6d
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/58/663158/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-env-prep.sh'],1,f9606fab0510664ffb23ff18a52d50b1ff54c208,," PIP_OPTS+="" 'ara<1.0.0'"""," PIP_OPTS+="" ara""",1,1
openstack%2Fneutron~stable%2Fqueens~Ia59de069b29f584cce21163a77812ec0ed243e65,openstack/neutron,stable/queens,Ia59de069b29f584cce21163a77812ec0ed243e65,cap bandit in test-requirements.txt,MERGED,2018-08-17 15:17:13.000000000,2019-06-05 15:42:23.000000000,2018-08-27 18:16:19.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 2472}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15471}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2018-08-17 15:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a214a94ed95852387521444e3d426c2d4f729bc', 'message': 'cap bandit in test-requirements.txt\n\nbandit is a linter and is listed in the ""blacklist"" from the\nrequirements repo, so it does not appear in the constraints lists.\nProject teams are expected to manage the verions(s) allowed on their\nown, to allow different teams to roll ahead to new versions as they can\nrather than having the entire community do it in lock-step. This change\ncaps the version of bandit to the one available during the rocky\ndevelopment cycle to avoid introducing the new rules from newer releases\ninto a stable branch.\n\nChange-Id: Ia59de069b29f584cce21163a77812ec0ed243e65\n'}, {'number': 2, 'created': '2018-08-25 21:06:59.000000000', 'files': ['test-requirements.txt', 'neutron/tests/contrib/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/159490502e206f474c6828090e8b86c613f9c8db', 'message': 'cap bandit in test-requirements.txt\n\nbandit is a linter and is listed in the ""blacklist"" from the\nrequirements repo, so it does not appear in the constraints lists.\nProject teams are expected to manage the verions(s) allowed on their\nown, to allow different teams to roll ahead to new versions as they can\nrather than having the entire community do it in lock-step. This change\ncaps the version of bandit to the one available during the rocky\ndevelopment cycle to avoid introducing the new rules from newer releases\ninto a stable branch.\n\nThis patch also changes to use older keepalived version in functional\ntests.\nThis issue is reported in bug 1788185.\n\nIt looks that current keepalived version which is available in\nUbuntu Xenial repositories (1:1.2.24-1ubuntu0.16.04.1) is broken\nand cause failure of some functional tests in Neutron.\nDetails are in [1].\nOlder version works fine so as temporary solution we can use\nthis version in functional tests.\n\nThis issue don\'t happens on master and stable/rocky branch, as there\nnewer cloud-archive repo is used and it has newer version of keepalived\nwhich works fine.\n\n[1] https://bugs.launchpad.net/ubuntu/+source/keepalived/+bug/1789045\n\nChange-Id: Ia59de069b29f584cce21163a77812ec0ed243e65\nCloses-Bug: #1788185\n'}]",0,593078,159490502e206f474c6828090e8b86c613f9c8db,35,13,2,11975,,,0,"cap bandit in test-requirements.txt

bandit is a linter and is listed in the ""blacklist"" from the
requirements repo, so it does not appear in the constraints lists.
Project teams are expected to manage the verions(s) allowed on their
own, to allow different teams to roll ahead to new versions as they can
rather than having the entire community do it in lock-step. This change
caps the version of bandit to the one available during the rocky
development cycle to avoid introducing the new rules from newer releases
into a stable branch.

This patch also changes to use older keepalived version in functional
tests.
This issue is reported in bug 1788185.

It looks that current keepalived version which is available in
Ubuntu Xenial repositories (1:1.2.24-1ubuntu0.16.04.1) is broken
and cause failure of some functional tests in Neutron.
Details are in [1].
Older version works fine so as temporary solution we can use
this version in functional tests.

This issue don't happens on master and stable/rocky branch, as there
newer cloud-archive repo is used and it has newer version of keepalived
which works fine.

[1] https://bugs.launchpad.net/ubuntu/+source/keepalived/+bug/1789045

Change-Id: Ia59de069b29f584cce21163a77812ec0ed243e65
Closes-Bug: #1788185
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/593078/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,3a214a94ed95852387521444e3d426c2d4f729bc,bug/1788185,"bandit>=1.1.0,<1.5.0 # Apache-2.0",bandit>=1.1.0 # Apache-2.0,1,1
openstack%2Fheat~stable%2Fpike~Ieabcd4e8c5e5354125a63e89b9b60931c760858a,openstack/heat,stable/pike,Ieabcd4e8c5e5354125a63e89b9b60931c760858a,Blacklist bandit 1.6.0 and cap Sphinx on Python2,MERGED,2019-05-30 18:39:10.000000000,2019-06-05 15:26:27.000000000,2019-06-05 15:26:27.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 18:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/97124edd938df742f47aaed1dac1d84c617017d3', 'message': ""Blacklist bandit 1.6.0 and cap Sphinx on Python2\n\nThere's a regression[0] in bandit 1.6.0 which causes bandit to stop\nrespecting excluded directories, and our tests throw a bunch of\nviolations. Blacklist this version, but allow newer versions as there is\nalready a pull request[1] to fix it, and I expect it will be included in\nthe next release.\n\nAlso fix the requirements job which was broken by\nhttps://review.opendev.org/657890 adding a cap on Sphinx on Python 2.\n\n[0] https://github.com/PyCQA/bandit/issues/488\n[1] https://github.com/PyCQA/bandit/pull/489\n\nChange-Id: Ieabcd4e8c5e5354125a63e89b9b60931c760858a\n(cherry picked from commit 011fa22c42506e63229cca7e5fc65f81b6e0aabf)\n""}, {'number': 2, 'created': '2019-05-30 21:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/92c5d93113f1d594a504e7066d2689550c42e581', 'message': ""Blacklist bandit 1.6.0 and cap Sphinx on Python2\n\nThere's a regression[0] in bandit 1.6.0 which causes bandit to stop\nrespecting excluded directories, and our tests throw a bunch of\nviolations. Blacklist this version, but allow newer versions as there is\nalready a pull request[1] to fix it, and I expect it will be included in\nthe next release.\n\nAlso fix the requirements job which was broken by\nhttps://review.opendev.org/657890 adding a cap on Sphinx on Python 2.\n\n[0] https://github.com/PyCQA/bandit/issues/488\n[1] https://github.com/PyCQA/bandit/pull/489\n\nChange-Id: Ieabcd4e8c5e5354125a63e89b9b60931c760858a\nDepends-On: https://review.opendev.org/662335\n(cherry picked from commit 011fa22c42506e63229cca7e5fc65f81b6e0aabf)\n""}, {'number': 3, 'created': '2019-05-31 13:19:48.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/d625d106b315c4ccf1fa543094e8f285429614d4', 'message': ""Blacklist bandit 1.6.0 and cap Sphinx on Python2\n\nThere's a regression[0] in bandit 1.6.0 which causes bandit to stop\nrespecting excluded directories, and our tests throw a bunch of\nviolations. Blacklist this version, but allow newer versions as there is\nalready a pull request[1] to fix it, and I expect it will be included in\nthe next release.\n\nIgnore the bandit check B413, which was added in bandit 1.5.0 and\nprevents importing PyCrypto. PyCrypto wasn't removed from Heat until\nQueens.\n\nAlso fix the requirements job which was broken by\nhttps://review.opendev.org/657890 adding a cap on Sphinx on Python 2.\n\n[0] https://github.com/PyCQA/bandit/issues/488\n[1] https://github.com/PyCQA/bandit/pull/489\n\nChange-Id: Ieabcd4e8c5e5354125a63e89b9b60931c760858a\nCo-Authored-By: Zane Bitter <zbitter@redhat.com>\nDepends-On: https://review.opendev.org/662335\n(cherry picked from commit 011fa22c42506e63229cca7e5fc65f81b6e0aabf)\n""}]",0,662290,d625d106b315c4ccf1fa543094e8f285429614d4,11,3,3,4257,,,0,"Blacklist bandit 1.6.0 and cap Sphinx on Python2

There's a regression[0] in bandit 1.6.0 which causes bandit to stop
respecting excluded directories, and our tests throw a bunch of
violations. Blacklist this version, but allow newer versions as there is
already a pull request[1] to fix it, and I expect it will be included in
the next release.

Ignore the bandit check B413, which was added in bandit 1.5.0 and
prevents importing PyCrypto. PyCrypto wasn't removed from Heat until
Queens.

Also fix the requirements job which was broken by
https://review.opendev.org/657890 adding a cap on Sphinx on Python 2.

[0] https://github.com/PyCQA/bandit/issues/488
[1] https://github.com/PyCQA/bandit/pull/489

Change-Id: Ieabcd4e8c5e5354125a63e89b9b60931c760858a
Co-Authored-By: Zane Bitter <zbitter@redhat.com>
Depends-On: https://review.opendev.org/662335
(cherry picked from commit 011fa22c42506e63229cca7e5fc65f81b6e0aabf)
",git fetch https://review.opendev.org/openstack/heat refs/changes/90/662290/3 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,97124edd938df742f47aaed1dac1d84c617017d3,,"bandit!=1.6.0,>=1.1.0 # Apache-2.0sphinx>=1.6.2;python_version>='3.4' # BSD sphinx>=1.6.2,<2.0.0;python_version=='2.7' # BSD",bandit>=1.1.0 # Apache-2.0sphinx>=1.6.2 # BSD,3,2
