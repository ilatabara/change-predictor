id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fmonasca-agent~stable%2Ftrain~I8050e1eed68d7b64f7a968b061afa69fe2e86d72,openstack/monasca-agent,stable/train,I8050e1eed68d7b64f7a968b061afa69fe2e86d72,Add remove configuration for matching arguments,NEW,2020-07-20 16:28:16.000000000,2020-07-20 17:06:24.000000000,,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-20 16:28:16.000000000', 'files': ['tests/test_remove_config.py', 'docs/DeveloperDocs/agent_internals.md', 'docs/Agent.md', 'monasca_setup/main.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/3d914cc7029d4fa2ba1e56267857c0cb59c7cf9e', 'message': 'Add remove configuration for matching arguments\n\nThe remove_config() function only removes an exact match for\nthe configured instance.\nThis will allow removing plugin configuration when all config is\nnot known.\n\nUse case: A compute node has been removed, so any host_alive\nping checks that are configured for it should be removed.  But at\nthe time of removal the list of target_hostnames to match are\nnot known.\n\nChange-Id: I8050e1eed68d7b64f7a968b061afa69fe2e86d72\nStory: 2004539\nTask: 28287\n(cherry picked from commit 8d4bd979d5789689ff5fe5298171e60ac0d65c81)\n'}]",0,741985,3d914cc7029d4fa2ba1e56267857c0cb59c7cf9e,2,3,1,14892,,,0,"Add remove configuration for matching arguments

The remove_config() function only removes an exact match for
the configured instance.
This will allow removing plugin configuration when all config is
not known.

Use case: A compute node has been removed, so any host_alive
ping checks that are configured for it should be removed.  But at
the time of removal the list of target_hostnames to match are
not known.

Change-Id: I8050e1eed68d7b64f7a968b061afa69fe2e86d72
Story: 2004539
Task: 28287
(cherry picked from commit 8d4bd979d5789689ff5fe5298171e60ac0d65c81)
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/85/741985/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_remove_config.py', 'docs/DeveloperDocs/agent_internals.md', 'docs/Agent.md', 'monasca_setup/main.py']",4,3d914cc7029d4fa2ba1e56267857c0cb59c7cf9e,story2004539-remove-matching-stable/train," if args.remove_matching_args: LOG.debug(""Calling remove configuration for matching arguments."") changes = remove_config_for_matching_args(args, plugin_names) elif args.remove: '--remove_matching_args', help=""Remove any configuration that matches all of the supplied arguments."" "" Useful when removing a compute node but all the target_hostnames"" "" are not known. Implies -r."", action=""store_true"", default=False) parser.add_argument( :param detection_args_json: Alternate json format for detection arguments, use one or the other :param remove: When True will not log a message indicating the detected name is configuring :return: True if changes, False otherwise existing_config_files = _get_config_yaml_files(args.config_dir) if existing_config_files == []: LOG.warning(""Found no existing configuration files, no changes will be made!"") LOG.debug(""Plugins selected: %s"", plugins) if args.detection_args or args.detection_args_json: LOG.debug(""Detected configuration: %s"", detected_config) # JSON version of detection_args LOG.debug(""Removing %s"", inst) LOG.debug(""Removing %s"", inst) # TODO(joadavis) match dry-run functionality like in modify_configdef remove_config_for_matching_args(args, plugin_names): """"""Parse all configuration removing any configuration built by plugins in plugin_names Will use the generated config fields to match against the stored configs Intended for use when removing all config for a deleted compute host. May delete more than intended in other uses, so be cautious. Note there is no concept of overwrite for removal. :param args: specified arguments. detection_args or detection_args_json are Required. :param plugin_names: A list of the plugin names to remove from the config :return: True if changes, False otherwise """""" changes = False existing_config_files = _get_config_yaml_files(args.config_dir) if existing_config_files == []: LOG.warning(""Found no existing configuration files, no changes will be made!"") detected_plugins = utils.discover_plugins(CUSTOM_PLUGIN_PATH) plugins = utils.select_plugins(args.detection_plugins, detected_plugins) LOG.debug(""Plugins selected: %s"", plugins) if args.detection_args or args.detection_args_json: detected_config = plugin_detection( plugins, args.template_dir, args.detection_args, args.detection_args_json, skip_failed=(args.detection_plugins is None), remove=True) else: # this method requires detection_args LOG.warning(""Removing a configuration for matching arguments requires"" "" arguments. No changes to configuration will be made!"") return changes LOG.debug(""Detected configuration: %s"", detected_config) for file_path in existing_config_files: deletes = False plugin_name = os.path.splitext(os.path.basename(file_path))[0] config = agent_config.read_plugin_config_from_disk(args.config_dir, plugin_name) # To avoid odd issues from iterating over a list you delete from, build a new instead new_instances = [] if args.detection_args is None: # using detection_args_json LOG.error(""Only key-value argument format is currently supported for removing "" ""matching configuration. JSON format is not yet supported. "" ""No changes to configuration will be made!"") return False else: # here is where it will differ from remove_config() # detected_config = generated based on args, config = read from disk # for each field in the detected_config instance, check it matches the one on disk # note that the one on disk is allowed to have more fields for exist_inst in config['instances']: for detected_key in detected_config.keys(): for detected_inst in detected_config[detected_key]['instances']: if len(detected_inst.keys()) < 1: new_instances.append(exist_inst) continue needs_delete = True for detect_inst_key in detected_inst.keys(): if detect_inst_key in exist_inst.keys(): if detected_inst[detect_inst_key] != exist_inst[detect_inst_key]: needs_delete = False else: # not a match needs_delete = False continue if needs_delete: LOG.debug(""Removing configuration %s"", exist_inst) changes = True deletes = True continue new_instances.append(exist_inst) config['instances'] = new_instances # TODO(joadavis) match dry-run functionality like in modify_config if deletes: agent_config.delete_from_config(args, config, file_path, plugin_name) return changes # helper function to make mock testing easier def _get_config_yaml_files(config_dir): return glob(os.path.join(config_dir, 'conf.d', '*.yaml')) "," if args.remove: :return: True if changes, false otherwise existing_config_files = glob(os.path.join(args.config_dir, 'conf.d', '*.yaml')) if (args.detection_args or args.detection_args_json):",530,6
openstack%2Frequirements~stable%2Fstein~I996da246db4f2ff901fc1478326a674b28b96aca,openstack/requirements,stable/stein,I996da246db4f2ff901fc1478326a674b28b96aca,update constraint for ceilometer to new release 12.1.1,MERGED,2020-07-20 10:10:17.000000000,2020-07-20 17:04:48.000000000,2020-07-20 17:04:48.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-20 10:10:17.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4a301bce6e7255235e20587122f0de18ae892e21', 'message': 'update constraint for ceilometer to new release 12.1.1\n\nChange-Id: I996da246db4f2ff901fc1478326a674b28b96aca\nmeta:version: 12.1.1\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I59527381bc86a0819636246e5a38b3f4f38b3c99\nmeta:release:Code-Review+1: zhurong <aaronzhu1121@gmail.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,741908,4a301bce6e7255235e20587122f0de18ae892e21,8,3,1,11131,,,0,"update constraint for ceilometer to new release 12.1.1

Change-Id: I996da246db4f2ff901fc1478326a674b28b96aca
meta:version: 12.1.1
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I59527381bc86a0819636246e5a38b3f4f38b3c99
meta:release:Code-Review+1: zhurong <aaronzhu1121@gmail.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/08/741908/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4a301bce6e7255235e20587122f0de18ae892e21,new-release,ceilometer===12.1.1,ceilometer===12.1.0,1,1
openstack%2Frequirements~stable%2Fstein~I9142b5ffc53c06103234f24236900d63e4458a82,openstack/requirements,stable/stein,I9142b5ffc53c06103234f24236900d63e4458a82,update constraint for horizon to new release 15.3.1,MERGED,2020-07-20 10:01:43.000000000,2020-07-20 17:04:46.000000000,2020-07-20 17:04:46.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-20 10:01:43.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a163dd33a64b4bad920565582d3d17c6eca73d70', 'message': 'update constraint for horizon to new release 15.3.1\n\nChange-Id: I9142b5ffc53c06103234f24236900d63e4458a82\nmeta:version: 15.3.1\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: If013d4d1ecec13d1b6d5c09e5f1888d4c60a91a8\nmeta:release:Code-Review+1: Vishal Manchanda <manchandavishal143@gmail.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,741906,a163dd33a64b4bad920565582d3d17c6eca73d70,8,3,1,11131,,,0,"update constraint for horizon to new release 15.3.1

Change-Id: I9142b5ffc53c06103234f24236900d63e4458a82
meta:version: 15.3.1
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: If013d4d1ecec13d1b6d5c09e5f1888d4c60a91a8
meta:release:Code-Review+1: Vishal Manchanda <manchandavishal143@gmail.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/06/741906/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a163dd33a64b4bad920565582d3d17c6eca73d70,new-release,horizon===15.3.1,horizon===15.3.0,1,1
openstack%2Fdiskimage-builder~master~Ic3d397650efdbffb6a43cafe09e44f4bd06b297d,openstack/diskimage-builder,master,Ic3d397650efdbffb6a43cafe09e44f4bd06b297d,Enable py3 on dib centos/rhel 7,ABANDONED,2020-06-18 02:54:46.000000000,2020-07-20 17:04:14.000000000,,"[{'_account_id': 7118}, {'_account_id': 8175}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-18 02:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e049d495f1176f85bb7aa3761417f039c3057eae', 'message': ""DNM: Debug py3 on dib 7\n\ncheck 'command -v python3' on\ndiskimage_builder/elements/dib-python/pre-install.d/01-dib-python\n\nChange-Id: Ic3d397650efdbffb6a43cafe09e44f4bd06b297d\n""}, {'number': 2, 'created': '2020-06-19 17:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/32a46b3067d5c1c0c3486d0a4349a1a65109c2f2', 'message': ""DNM: Debug py3 on dib 7\n\ncheck 'command -v python3' on\ndiskimage_builder/elements/dib-python/pre-install.d/01-dib-python\n\nChange-Id: Ic3d397650efdbffb6a43cafe09e44f4bd06b297d\n""}, {'number': 3, 'created': '2020-06-20 18:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/12e049282effe102714e236928c092e0b0b1d444', 'message': ""DNM: Debug py3 on dib 7\n\ncheck 'command -v python3' on\ndiskimage_builder/elements/dib-python/pre-install.d/01-dib-python\n\nChange-Id: Ic3d397650efdbffb6a43cafe09e44f4bd06b297d\n""}, {'number': 4, 'created': '2020-06-22 15:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f76fa7b81d991839f843cd4eb739e78121517c5b', 'message': ""DNM: Debug py3 on dib 7\n\ncheck 'command -v python3' on\ndiskimage_builder/elements/dib-python/pre-install.d/01-dib-python\n\nChange-Id: Ic3d397650efdbffb6a43cafe09e44f4bd06b297d\n""}, {'number': 5, 'created': '2020-06-23 18:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9dd29a49af04520722029919e22a53500c0a0f95', 'message': ""DNM: Debug py3 on dib 7\n\ncheck 'command -v python3' on\ndiskimage_builder/elements/dib-python/pre-install.d/01-dib-python\n\nChange-Id: Ic3d397650efdbffb6a43cafe09e44f4bd06b297d\n""}, {'number': 6, 'created': '2020-06-24 18:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/274229cdc568fca126ce74a198f530f82bffdc47', 'message': ""DNM: Debug py3 on dib 7\n\ncheck 'command -v python3' on\ndiskimage_builder/elements/dib-python/pre-install.d/01-dib-python\n\nChange-Id: Ic3d397650efdbffb6a43cafe09e44f4bd06b297d\n""}, {'number': 7, 'created': '2020-06-24 19:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c41c348216b32f2c19abf076fe2fcd717d271964', 'message': ""DNM: Debug py3 on dib 7\n\ncheck 'command -v python3' on\ndiskimage_builder/elements/dib-python/pre-install.d/01-dib-python\n\nChange-Id: Ic3d397650efdbffb6a43cafe09e44f4bd06b297d\n""}, {'number': 8, 'created': '2020-06-25 18:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a4ec179734dc76083c48e8aee5944e69c081743b', 'message': ""Enable py3 on dib release 7\n\n'command -v python3' cannot find python3 on\ndiskimage_builder/elements/dib-python/pre-install.d/01-dib-python\n\npython3-pyyaml is not available as package, then install it with\npip.\n\nFinally, let the bash script to handle 'command -v' error by\nadding || echo ''.\n\nChange-Id: Ic3d397650efdbffb6a43cafe09e44f4bd06b297d\n""}, {'number': 9, 'created': '2020-07-03 20:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e465bde14180973d05de3037f726cce7be249047', 'message': ""Enable py3 on dib release 7\n\nThis change installs python3 on a dib7 base image to allow dib\nto build images on older branches and distros like CentOS7/RHEL7\nwith Python3 and also using the latest code of DIB.\n\ndiskimage_builder/elements/dib-python/pre-install.d/01-dib-python\nruns 'command -v python3' and fails because CentOS7 cloud base\nimage does not have python3 installed.\n\nAlso, python3-pyyaml is not available as package, then we install\nit with pip to meet package requirements..\n\nThis change also includes a small fix on the error handling for\n'command -v' by letting the script to continue its execution and\necho the error msg.\n\nChange-Id: Ic3d397650efdbffb6a43cafe09e44f4bd06b297d\n""}, {'number': 10, 'created': '2020-07-06 12:28:27.000000000', 'files': ['diskimage_builder/elements/dib-python/pre-install.d/01-dib-python'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6c05cb288e88d0e1adefc4ab1c092d81195cee02', 'message': ""Enable py3 on dib centos/rhel 7\n\nThis change installs python3 on a dib7 base image to allow dib\nto build images on older branches and distros like CentOS7/RHEL7\nwith Python3 and also using the latest code of DIB.\n\ndiskimage_builder/elements/dib-python/pre-install.d/01-dib-python\nruns 'command -v python3' and fails because CentOS7 cloud base\nimage does not have python3 installed.\n\nAlso, python3-pyyaml is not available as package, then we install\nit with pip to meet package requirements..\n\nThis change also includes a small fix on the error handling for\n'command -v' by letting the script to continue its execution and\necho the error msg.\n\nChange-Id: Ic3d397650efdbffb6a43cafe09e44f4bd06b297d\n""}]",19,736421,6c05cb288e88d0e1adefc4ab1c092d81195cee02,64,6,10,8175,,,0,"Enable py3 on dib centos/rhel 7

This change installs python3 on a dib7 base image to allow dib
to build images on older branches and distros like CentOS7/RHEL7
with Python3 and also using the latest code of DIB.

diskimage_builder/elements/dib-python/pre-install.d/01-dib-python
runs 'command -v python3' and fails because CentOS7 cloud base
image does not have python3 installed.

Also, python3-pyyaml is not available as package, then we install
it with pip to meet package requirements..

This change also includes a small fix on the error handling for
'command -v' by letting the script to continue its execution and
echo the error msg.

Change-Id: Ic3d397650efdbffb6a43cafe09e44f4bd06b297d
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/21/736421/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/dib-python/pre-install.d/01-dib-python'],1,e049d495f1176f85bb7aa3761417f039c3057eae,py3-dib7," python_path=""$(command -v python${DIB_PYTHON_VERSION})"" echo ""$python_path""which python3 || true if [ -z ""${python_path+1}"" ]; then"," python_path=$(command -v python${DIB_PYTHON_VERSION})if [ -z ""$python_path"" ]; then",5,2
openstack%2Ftripleo-docs~master~I8ecb3abb8fb2e0365e26c76da4b3f6ca9f1aeb08,openstack/tripleo-docs,master,I8ecb3abb8fb2e0365e26c76da4b3f6ca9f1aeb08,Correct a typo in the document,MERGED,2020-07-11 03:35:07.000000000,2020-07-20 16:50:33.000000000,2020-07-20 16:46:12.000000000,"[{'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2020-07-11 03:35:07.000000000', 'files': ['deploy-guide/source/post_deployment/backup_and_restore/04_overcloud_restore.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/061d746ca32aa746e07c32933962d7391fd5f9c8', 'message': ""Correct a typo in the document\n\nThis patch changes 'stoped' to 'stopped'\nin deploy-guide/source/post_deployment/\nbackup_and_restore/04_overcloud_restore.rst\n\nChange-Id: I8ecb3abb8fb2e0365e26c76da4b3f6ca9f1aeb08\n""}]",0,740538,061d746ca32aa746e07c32933962d7391fd5f9c8,9,4,1,30696,,,0,"Correct a typo in the document

This patch changes 'stoped' to 'stopped'
in deploy-guide/source/post_deployment/
backup_and_restore/04_overcloud_restore.rst

Change-Id: I8ecb3abb8fb2e0365e26c76da4b3f6ca9f1aeb08
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/38/740538/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/post_deployment/backup_and_restore/04_overcloud_restore.rst'],1,061d746ca32aa746e07c32933962d7391fd5f9c8,typo,"With all the services stopped in the Overcloud controllers (except MySQL), go through","With all the services stoped in the Overcloud controllers (except MySQL), go through",1,1
openstack%2Fnova-specs~master~Ic1382ae27c01aa50c62d2cbd6bc33f05b5b7fe14,openstack/nova-specs,master,Ic1382ae27c01aa50c62d2cbd6bc33f05b5b7fe14,DNM: testing focal,ABANDONED,2020-07-20 16:23:13.000000000,2020-07-20 16:38:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-20 16:23:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/19d105959f1b1ef41037a52b7bb9a748cb2bac21', 'message': 'DNM: testing focal\n\nDepends-On: https://review.opendev.org/#/c/734700\n\nChange-Id: Ic1382ae27c01aa50c62d2cbd6bc33f05b5b7fe14\nStory: #2007865\nTask: #40200\n'}]",0,741984,19d105959f1b1ef41037a52b7bb9a748cb2bac21,3,1,1,8556,,,0,"DNM: testing focal

Depends-On: https://review.opendev.org/#/c/734700

Change-Id: Ic1382ae27c01aa50c62d2cbd6bc33f05b5b7fe14
Story: #2007865
Task: #40200
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/84/741984/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,19d105959f1b1ef41037a52b7bb9a748cb2bac21,migrate-to-focal,#test focal,,1,0
openstack%2Fmonasca-agent~master~I8050e1eed68d7b64f7a968b061afa69fe2e86d72,openstack/monasca-agent,master,I8050e1eed68d7b64f7a968b061afa69fe2e86d72,Add remove configuration for matching arguments,MERGED,2018-12-08 01:12:13.000000000,2020-07-20 16:28:16.000000000,2020-04-24 10:55:32.000000000,"[{'_account_id': 10311}, {'_account_id': 11880}, {'_account_id': 16222}, {'_account_id': 16957}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-08 01:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/71eb0aa56b356aa57265b3e836c9c088be73edea', 'message': 'WIP Add remove configuration for matching arguments\n\nThe remove_config() function only removes an exact match for\nthe configured instance.\nThis will allow removing plugin configuration when all config is\nnot known.\n\nUse case: A compute node has been removed, so any host_alive\nping checks that are configured for it should be removed.  But at\nthe time of removal the list of target_hostnames to match are\nnot known.\n\nWIP: this new function and the existing remove_config() need to\nhave unit tests added.\n\nChange-Id: I8050e1eed68d7b64f7a968b061afa69fe2e86d72\nStory: 2004539\nTask: 28287\n'}, {'number': 2, 'created': '2019-04-04 22:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/ff3aae3c679fe0411e4ca833049529f6ecafd2b1', 'message': 'WIP Add remove configuration for matching arguments\n\nThe remove_config() function only removes an exact match for\nthe configured instance.\nThis will allow removing plugin configuration when all config is\nnot known.\n\nUse case: A compute node has been removed, so any host_alive\nping checks that are configured for it should be removed.  But at\nthe time of removal the list of target_hostnames to match are\nnot known.\n\nWIP: this new function and the existing remove_config() need to\nhave unit tests added.\n\nChange-Id: I8050e1eed68d7b64f7a968b061afa69fe2e86d72\nStory: 2004539\nTask: 28287\n'}, {'number': 3, 'created': '2019-08-01 22:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/9eacb72a27d386ea0ec6ec82210dd23a9e6ba38b', 'message': 'WIP Add remove configuration for matching arguments\n\nThe remove_config() function only removes an exact match for\nthe configured instance.\nThis will allow removing plugin configuration when all config is\nnot known.\n\nUse case: A compute node has been removed, so any host_alive\nping checks that are configured for it should be removed.  But at\nthe time of removal the list of target_hostnames to match are\nnot known.\n\nWIP: this new function and the existing remove_config() need to\nhave unit tests added.\n\nChange-Id: I8050e1eed68d7b64f7a968b061afa69fe2e86d72\nStory: 2004539\nTask: 28287\n'}, {'number': 4, 'created': '2020-02-20 05:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/a72c788166a789ce6306a7da4bd4f972556d50ff', 'message': 'Add remove configuration for matching arguments\n\nThe remove_config() function only removes an exact match for\nthe configured instance.\nThis will allow removing plugin configuration when all config is\nnot known.\n\nUse case: A compute node has been removed, so any host_alive\nping checks that are configured for it should be removed.  But at\nthe time of removal the list of target_hostnames to match are\nnot known.\n\nChange-Id: I8050e1eed68d7b64f7a968b061afa69fe2e86d72\nStory: 2004539\nTask: 28287\n'}, {'number': 5, 'created': '2020-04-23 17:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/d8f87d6cd23d97f55ffda36dac3deab972508a35', 'message': 'Add remove configuration for matching arguments\n\nThe remove_config() function only removes an exact match for\nthe configured instance.\nThis will allow removing plugin configuration when all config is\nnot known.\n\nUse case: A compute node has been removed, so any host_alive\nping checks that are configured for it should be removed.  But at\nthe time of removal the list of target_hostnames to match are\nnot known.\n\nChange-Id: I8050e1eed68d7b64f7a968b061afa69fe2e86d72\nStory: 2004539\nTask: 28287\n'}, {'number': 6, 'created': '2020-04-23 22:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/87a1343987135d0ad49ea718f453c73876f1d0aa', 'message': 'Add remove configuration for matching arguments\n\nThe remove_config() function only removes an exact match for\nthe configured instance.\nThis will allow removing plugin configuration when all config is\nnot known.\n\nUse case: A compute node has been removed, so any host_alive\nping checks that are configured for it should be removed.  But at\nthe time of removal the list of target_hostnames to match are\nnot known.\n\nChange-Id: I8050e1eed68d7b64f7a968b061afa69fe2e86d72\nStory: 2004539\nTask: 28287\n'}, {'number': 7, 'created': '2020-04-23 22:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/951238397d0b5a8bb30178f09eb70dd0b6d81b45', 'message': 'Add remove configuration for matching arguments\n\nThe remove_config() function only removes an exact match for\nthe configured instance.\nThis will allow removing plugin configuration when all config is\nnot known.\n\nUse case: A compute node has been removed, so any host_alive\nping checks that are configured for it should be removed.  But at\nthe time of removal the list of target_hostnames to match are\nnot known.\n\nChange-Id: I8050e1eed68d7b64f7a968b061afa69fe2e86d72\nStory: 2004539\nTask: 28287\n'}, {'number': 8, 'created': '2020-04-23 22:56:31.000000000', 'files': ['tests/test_remove_config.py', 'docs/DeveloperDocs/agent_internals.md', 'docs/Agent.md', 'monasca_setup/main.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/8d4bd979d5789689ff5fe5298171e60ac0d65c81', 'message': 'Add remove configuration for matching arguments\n\nThe remove_config() function only removes an exact match for\nthe configured instance.\nThis will allow removing plugin configuration when all config is\nnot known.\n\nUse case: A compute node has been removed, so any host_alive\nping checks that are configured for it should be removed.  But at\nthe time of removal the list of target_hostnames to match are\nnot known.\n\nChange-Id: I8050e1eed68d7b64f7a968b061afa69fe2e86d72\nStory: 2004539\nTask: 28287\n'}]",0,623611,8d4bd979d5789689ff5fe5298171e60ac0d65c81,24,5,8,10311,,,0,"Add remove configuration for matching arguments

The remove_config() function only removes an exact match for
the configured instance.
This will allow removing plugin configuration when all config is
not known.

Use case: A compute node has been removed, so any host_alive
ping checks that are configured for it should be removed.  But at
the time of removal the list of target_hostnames to match are
not known.

Change-Id: I8050e1eed68d7b64f7a968b061afa69fe2e86d72
Story: 2004539
Task: 28287
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/11/623611/8 && git format-patch -1 --stdout FETCH_HEAD,['monasca_setup/main.py'],1,71eb0aa56b356aa57265b3e836c9c088be73edea,story2004539-remove-matching," if args.remove_matching_args: LOG.debug(""Calling remove configuration for matching arguments."") changes = remove_config_for_matching_args(args, plugin_names) elif args.remove: '--remove_matching_args', help=""Remove any configuration that matches all of the supplied arguments."" "" Useful when removing a compute node but all the target_hostnames"" "" are not known. Implies -r."", action=""store_true"", default=False) parser.add_argument( :param detection_args_json: Alternate json format for detection arguments, use one or the other :param remove: When True will not log a message indicating the detected name is configuring :return: True if changes, False otherwisedef remove_config_for_matching_args(args, plugin_names): """"""Parse all configuration removing any configuration built by plugins in plugin_names Will use the generated config fields to match against the stored configs Intended for use when removing all config for a deleted compute host. May delete more than intended in other uses, so be cautious. Note there is no concept of overwrite for removal. :param args: specified arguments. detection_args or detection_args_json are Required. :param plugin_names: A list of the plugin names to remove from the config :return: True if changes, False otherwise """""" changes = False existing_config_files = glob(os.path.join(args.config_dir, 'conf.d', '*.yaml')) detected_plugins = utils.discover_plugins(CUSTOM_PLUGIN_PATH) plugins = utils.select_plugins(args.detection_plugins, detected_plugins) if args.detection_args or args.detection_args_json: detected_config = plugin_detection( plugins, args.template_dir, args.detection_args, args.detection_args_json, skip_failed=(args.detection_plugins is None), remove=True) else: # this method requires detection_args LOG.warning(""Removing a configuration for matching arguments requires"" "" arguments. No changes to configuration will be made."") return changes for file_path in existing_config_files: deletes = False plugin_name = os.path.splitext(os.path.basename(file_path))[0] config = agent_config.read_plugin_config_from_disk(args.config_dir, plugin_name) # To avoid odd issues from iterating over a list you delete from, build a new instead new_instances = [] if args.detection_args is None: # collect up the instances, skipping any matching the plugin_names list for inst in config['instances']: if 'built_by' in inst and inst['built_by'] in plugin_names: changes = True deletes = True continue new_instances.append(inst) config['instances'] = new_instances else: # here is where it will differ from remove_config() # detected_config = generated based on args, config = read from disk # for each field in the detected_config instance, check it matches the one on disk # note that the one on disk is allowed to have more fields for exist_inst in config['instances']: for detected_key in detected_config.keys(): for detected_inst in detected_config[detected_key]['instances']: if len(detected_inst.keys()) < 1: new_instances.append(exist_inst) continue needs_delete = True for detect_inst_key in detected_inst.keys(): if detect_inst_key in exist_inst.keys(): if detected_inst[detect_inst_key] != exist_inst[detect_inst_key]: needs_delete = False else: # not a match needs_delete = False continue if needs_delete: LOG.debug(""Removing configuration {0}"".format(exist_inst)) changes = True deletes = True continue new_instances.append(exist_inst) config['instances'] = new_instances if deletes: agent_config.delete_from_config(args, config, file_path, plugin_name) return changes "," if args.remove: :return: True if changes, false otherwise",87,2
openstack%2Fdragonflow~master~Id3a5477860323547a4e17155061f597a8c96640b,openstack/dragonflow,master,Id3a5477860323547a4e17155061f597a8c96640b,Retire repo,MERGED,2020-06-23 15:37:39.000000000,2020-07-20 16:01:34.000000000,2020-07-20 16:01:34.000000000,"[{'_account_id': 6547}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-23 15:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/a9f4f7345804a7c957c00c9645d8842431680448', 'message': 'Retire repo\n\nThis patch completes step 2 of the infra project retirement process\nfound here:\n\nhttps://docs.opendev.org/opendev/infra-manual/latest/drivers.html#step-2-remove-project-content\n\nReference:\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-June/015600.html\n\nChange-Id: Id3a5477860323547a4e17155061f597a8c96640b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-06-23 15:50:16.000000000', 'files': ['dragonflow/cmd/eventlet/df_rest_service.py', 'zuul/tempest-dsvm-dragonflow/post.yaml', 'devstack/zmq_pubsub_driver', 'dragonflow/cmd/eventlet/df_local_controller.py', 'doc/source/specs/metadata_service.rst', 'dragonflow/db/neutron/migration/alembic_migrations/script.py.mako', 'doc/source/docker_install.rst', 'dragonflow/controller/apps/aging.py', 'dragonflow/controller/df_base_app.py', 'dragonflow/controller/topology.py', 'dragonflow/tests/unit/test_vip_port_enabler.py', 'dragonflow/db/models/migration.py', 'dragonflow/db/models/l3.py', 'dragonflow/neutron/agent/l3/df_router.py', 'doc/source/specs/security_groups.rst', 'dragonflow/tests/unit/test_radix_tree.py', 'dragonflow/version.py', 'releasenotes/source/newton.rst', 'dragonflow/controller/apps/portsec.py', 'etc/standalone/dragonflow.ini', 'devstack/redis_driver', 'dragonflow/db/models/switch.py', 'dragonflow/db/model_framework.py', 'dragonflow/tests/fullstack/apps/test_portsec.py', 'dragonflow/tests/fullstack/apps/test_snat.py', 'dragonflow/tests/fullstack/test_l2_flows.py', 'tools/run_dragonflow.sh', 'doc/source/specs/traceroute.rst', 'dragonflow/controller/df_bgp_service.py', 'dragonflow/db/models/core.py', 'dragonflow/neutron/services/sfc/__init__.py', 'dragonflow/tests/unit/test_chassis_snat_app.py', 'dragonflow/controller/common/__init__.py', 'doc/images/df_logo.png', 'doc/source/specs/classification_app.rst', 'doc/source/specs/tunneling_app.rst', 'dragonflow/controller/dispatcher.py', 'dragonflow/controller/common/constants.py', 'dragonflow/tests/fullstack/test_portsec_flows.py', 'dragonflow/common/extensions.py', 'dragonflow/tests/unit/test_os_ken_base_app.py', 'dragonflow/controller/apps/l3_base.py', 'dragonflow/db/neutron/migration/alembic_migrations/__init__.py', 'doc/source/distributed_dhcp.rst', 'rally-jobs/README.rst', 'dragonflow/tests/fullstack/test_neutron_api.py', 'dragonflow/conf/df_zmq.py', 'doc/source/cli/dragonflow-status.rst', 'releasenotes/source/pike.rst', '.zuul.yaml', 'devstack/redis_pubsub_driver', 'doc/source/specs/igmp_application_and_multicast_support.rst', 'dragonflow/tests/unit/test_l3_proactive_app.py', 'dragonflow/db/pubsub_drivers/etcd_pubsub_driver.py', 'dragonflow/neutron/services/l3_router_plugin.py', 'dragonflow/controller/apps/fc.py', 'dragonflow/controller/apps/tunneling.py', 'doc/images/pubsub_topology.png', 'doc/source/pluggable_db.rst', 'dragonflow/cli/utils.py', 'devstack/zookeeper_driver', 'README.rst', 'dragonflow/controller/apps/active_port_detection.py', 'devstack/tempest-filter', 'doc/source/devrefs/index.rst', 'dragonflow/tests/unit/test_redis_db.py', 'doc/source/specs/distributed_dnat.rst', 'dragonflow/tests/unit/test_sync.py', 'doc/source/specs/bgp_dynamic_routing.rst', 'dragonflow/tests/fullstack/apps/test_l3.py', 'doc/images/db3.jpg', 'dragonflow/tests/unit/test_redis_pubsub.py', 'CONTRIBUTING.rst', 'dragonflow/tests/fullstack/test_topology.py', 'dragonflow/neutron/ml2/mech_driver.py', 'LICENSE', 'dragonflow/tests/fullstack/test_snat_flows.py', 'dragonflow/tests/unit/test_provider_net_app.py', 'dragonflow/tests/common/constants.py', 'doc/source/specs/performance_testing.rst', 'devstack/etcd.conf', 'dragonflow/conf/df_snat.py', 'dragonflow/tests/unit/test_unique_key_mixin.py', 'dragonflow/controller/apps/l3_reactive.py', 'dragonflow/tests/unit/test_sg_app.py', 'releasenotes/source/index.rst', 'doc/images/pipeline1.jpg', 'doc/source/installation.rst', 'dragonflow/db/pubsub_drivers/__init__.py', 'dragonflow/tests/unit/test_app_base.py', 'doc/source/specs/local_controller_reliability.rst', 'dragonflow/db/models/l2.py', 'devstack/ovs_dpdk_setup.sh', 'dragonflow/tests/unit/cmd/test_status.py', 'dragonflow/tests/unit/test_l3_app.py', 'devstack/devstackgaterc-redis', 'releasenotes/notes/support-zookeeper-48a082d4e63026df.yaml', 'dragonflow/_i18n.py', 'dragonflow/neutron/services/trunk/port_behind_port.py', 'releasenotes/source/ocata.rst', 'dragonflow/controller/apps/dnat.py', 'dragonflow/db/drivers/rethink_db_driver.py', 'dragonflow/tests/common/clients.py', 'doc/source/specs/extra_dhcp_opts.rst', 'vagrant/provisioning/dragonflow.conf.yml', 'doc/source/single-node-conf/etcd_local_controller.conf', 'doc/source/specs/redis_driver.rst', 'dragonflow/db/drivers/ramcloud.py', 'dragonflow/tests/unit/test_fc_app.py', 'dragonflow/tests/unit/test_api_nb.py', 'dragonflow/conf/__init__.py', 'dragonflow/controller/apps/migration.py', 'doc/source/manual_deployment.rst', 'doc/source/specs/support_check_chassis_alive.rst', 'devstack/ramcloud_driver', 'doc/source/multi-node-conf/etcd_controller_node.conf', 'zuul/dragonflow-dsvm-rally/post.yaml', 'dragonflow/tests/unit/test_ovsdb_monitor.py', 'dragonflow/db/pubsub_drivers/redis_db_pubsub_driver.py', 'dragonflow/tests/fullstack/test_remote_port.py', 'dragonflow/db/api_nb.py', 'doc/source/single-node-conf/zookeeper_local_controller.conf', 'dragonflow/tests/fullstack/apps/test_l2.py', 'dragonflow/controller/common/arp_responder.py', 'dragonflow/common/utils.py', 'doc/images/pipeline6.jpg', 'devstack/devstackgaterc-etcd-zmq', 'doc/source/specs/skeleton.rst', 'doc/images/db2.jpg', 'dragonflow/neutron/services/sfc/driver.py', 'devstack/etcd.service', 'doc/source/usage.rst', 'dragonflow/neutron/services/__init__.py', 'dragonflow/__init__.py', 'dragonflow/db/neutron/migration/alembic_migrations/env.py', 'dragonflow/utils/radix_tree.py', 'dragonflow/controller/port_locator.py', 'dragonflow/switch/drivers/ovs/__init__.py', 'dragonflow/neutron/services/qos/__init__.py', 'dragonflow/tests/fullstack/apps/test_sg.py', 'dragonflow/controller/common/nd_advertisers.py', 'dragonflow/neutron/services/trunk/__init__.py', 'doc/images/pubsub_neutron_API_server.graphml', 'doc/source/specs/publish_subscribe_abstraction.rst', 'dragonflow/db/neutron_notifier_api.py', 'dragonflow/neutron/db/models/secgroups.py', 'dragonflow/cmd/eventlet/df_l3_agent.py', 'dragonflow/db/pub_sub_api.py', 'lower-constraints.txt', 'dragonflow/neutron/__init__.py', 'dragonflow/db/drivers/redis_db_driver.py', 'doc/source/single-node-conf/rethinkDB_local_controller.conf', 'dragonflow/controller/apps/chassis_snat.py', 'dragonflow/neutron/common/dhcp_opt_map.py', 'dragonflow/db/models/trunk.py', 'dragonflow/tests/unit/test_nb_api_neutron_notifier.py', 'dragonflow/switch/drivers/__init__.py', 'dragonflow/tests/contrib/gate_hook.sh', 'dragonflow/neutron/agent/__init__.py', 'devstack/ovs_setup.sh', 'dragonflow/tests/unit/test_db_api.py', 'dragonflow/neutron/services/lbaas/__init__.py', 'dragonflow/db/models/service.py', 'dragonflow/tests/unit/test_service.py', 'dragonflow/controller/common/logical_networks.py', 'dragonflow/tests/fullstack/test_apps.py', 'dragonflow/tests/base.py', 'dragonflow/conf/df_dhcp.py', 'doc/source/testing_and_debugging.rst', 'zuul/dragonflow-dsvm-fullstack-etcd-zmq/post.yaml', 'vagrant/provisioning/setup-aio.sh', 'dragonflow/controller/app_base.py', 'dragonflow/db/field_types.py', 'dragonflow/tests/unit/test_qos_models.py', 'doc/source/specs/service_function_chaining.rst', 'doc/source/specs/tap_as_a_service.rst', 'doc/images/dhcp1.jpg', 'dragonflow/tests/unit/test_trunk_driver.py', '.stestr.conf', 'dragonflow/common/exceptions.py', 'dragonflow/db/neutron/migration/alembic_migrations/versions/ce93d45fd192_initial_branchpoint.py', 'tools/ovs_metadata_service_deployment.sh', 'doc/source/specs/vlan_networking.rst', 'dragonflow/db/models/active_port.py', 'babel.cfg', 'dragonflow/tests/unit/test_df_bgp_service.py', 'tools/add_table_names', 'dragonflow/neutron/services/trunk/driver.py', 'doc/source/specs/template.rst', 'dragonflow/db/models/mixins.py', 'dragonflow/db/neutron/__init__.py', 'doc/source/multi-node-conf/etcd_compute_node.conf', 'HACKING.rst', 'dragonflow/cmd/eventlet/df_bgp_service.py', 'zuul/tempest-dsvm-dragonflow/run.yaml', 'doc/source/specs/keep_db_consistency.rst', 'doc/source/specs/lbaas2.rst', 'dragonflow/db/pubsub_drivers/zmq_pubsub_driver.py', 'doc/source/multi-node-conf/redis_compute_node_local_controller.conf', 'dragonflow/tests/unit/test_zmq_pubsub.py', 'doc/source/reviewers_guide.rst', 'dragonflow/tests/unit/test_df_local_controller.py', 'dragonflow/tests/unit/test_l3_router_plugin.py', 'doc/source/sfc-example/sfc-example.yaml', 'dragonflow/conf/opts.py', 'dragonflow/tests/fullstack/__init__.py', 'dragonflow/tests/unit/test_rate_limiter.py', 'devstack/etcd_driver', 'dragonflow/controller/apps/packet_log.py', 'dragonflow/cli/__init__.py', 'dragonflow/db/neutron/migration/alembic_migrations/versions/EXPAND_HEAD', 'dragonflow/controller/apps/legacy_snat.py', 'devstack/devstackgaterc-common', 'dragonflow/cli/df_model.py', 'rally-jobs/dragonflow.yaml', 'doc/source/specs/port_qos.rst', 'dragonflow/db/__init__.py', 'doc/source/single-node-conf/cassandra_local_controller.conf', 'setup.cfg', 'dragonflow/tests/unit/test_sfc_app.py', 'doc/source/contributing.rst', 'doc/source/multi-node-conf/cassandra_controller_node.conf', 'devstack/cassandra_driver', 'dragonflow/tests/contrib/post_test_hook.sh', 'doc/source/specs/publish_subscribe_v2.rst', 'dragonflow/db/neutron/migration/alembic_migrations/README', 'dragonflow/db/drivers/etcd_db_driver.py', 'dragonflow/tests/unit/__init__.py', 'dragonflow/neutron/common/constants.py', 'dragonflow/tests/fullstack/test_responder.py', 'dragonflow/tests/fullstack/test_metadata_service.py', 'dragonflow/db/models/sfc.py', 'doc/source/specs/skydive_integration.rst', 'dragonflow/controller/apps/snat_mixin.py', 'devstack/devstackgaterc-tempest-redis', 'doc/source/osprofiler.rst', 'doc/source/specs/cassandra_driver.rst', 'dragonflow/cmd/status.py', 'dragonflow/tests/unit/test_portbinding_app.py', 'doc/images/dragonflow_distributed_architecture.png', 'rally-jobs/extra/README.rst', 'dragonflow/neutron/services/bgp/__init__.py', 'dragonflow/tests/unit/test_trunk_app.py', 'devstack/override-defaults', 'dragonflow/db/neutron/models.py', 'dragonflow/neutron/services/mixins.py', 'doc/requirements.txt', 'dragonflow/db/drivers/redis_mgt.py', 'dragonflow/tests/unit/test_fc_driver.py', 'dragonflow/tests/unit/test_l2_app.py', 'dragonflow/tests/database/test_db.py', 'dragonflow/db/models/__init__.py', 'dragonflow/conf/df_bgp.py', 'dragonflow/neutron/common/__init__.py', 'releasenotes/notes/dragonflow-status-upgrade-check-framework-efd2592c6decdd16.yaml', 'test-requirements.txt', 'doc/images/pipeline4.jpg', 'dragonflow/db/models/host_route.py', 'dragonflow/db/drivers/cassandra_db_driver.py', 'doc/source/single-node-conf/redis_local_controller.conf', 'doc/source/multi-node-conf/zookeeper_controller_node.conf', 'dragonflow/switch/drivers/ovs/os_ken_base_app.py', 'dragonflow/db/db_store.py', 'dragonflow/controller/apps/sg.py', 'dragonflow/neutron/db/models/l3.py', 'releasenotes/source/README.rst', 'doc/source/pluggable_pubsub.rst', 'dragonflow/neutron/services/qos/drivers/__init__.py', 'dragonflow/conf/df_metadata_service.py', 'doc/source/specs/services_status.rst', 'dragonflow/controller/df_config.py', 'dragonflow/tests/unit/test_sfc_models.py', 'dragonflow/db/models/qos.py', 'dragonflow/db/neutron/migration/__init__.py', 'dragonflow/tests/fullstack/apps/test_trunk.py', 'doc/source/single-node-conf/etcd_skydive_local_controller.conf', 'releasenotes/source/mitaka.rst', 'zuul/dragonflow-dsvm-fullstack-redis/post.yaml', 'doc/source/specs/database_migration_and_upgrade.rst', 'doc/source/multi-node-conf/ramcloud_controller_node.conf', 'doc/source/specs/nb_api_refactor.rst', 'doc/source/specs/logical_port_locality.rst', 'doc/source/releasenotes_create.rst', 'dragonflow/db/neutron/migration/alembic_migrations/versions/CONTRACT_HEAD', 'dragonflow/tests/unit/test_port_behind_port.py', 'dragonflow/ovsdb/vswitch_impl.py', 'releasenotes/source/_templates/.placeholder', 'dragonflow/db/models/all.py', 'requirements.txt', 'dragonflow/controller/__init__.py', 'dragonflow/controller/apps/sfc.py', 'dragonflow/switch/drivers/df_switch_driver.py', 'dragonflow/tests/unit/test_tunneling_app.py', 'dragonflow/controller/apps/provider.py', 'vagrant/provisioning/setup-compute.sh', 'dragonflow/switch/drivers/ovs/datapath.py', 'dragonflow/tests/database/__init__.py', 'dragonflow/cmd/eventlet/df_metadata_service.py', 'doc/source/specs/virtual_tunnel_port.rst', 'dragonflow/controller/apps/l2.py', 'zuul/dragonflow-dsvm-rally/run.yaml', 'dragonflow/controller/datapath_layout.py', 'doc/source/index.rst', 'dragonflow/controller/apps/sfc_driver_base.py', 'dragonflow/controller/apps/metadata_service.py', 'dragonflow/tests/unit/test_metadata_service_app.py', 'doc/source/multi-node-conf/rethinkDB_compute_node.conf', 'dragonflow/conf/df_l3.py', 'dragonflow/common/dhcp.py', 'dragonflow/tests/unit/test_logical_networks.py', 'dragonflow/db/models/secgroups.py', 'dragonflow/conf/df_loadbalancer.py', 'setup.py', 'doc/source/specs/vm_live_migration.rst', 'devstack/etcd_pubsub_driver', 'devstack/settings', 'vagrant/provisioning/setup-controller.sh', 'dragonflow/tests/unit/test_model_proxy.py', 'releasenotes/notes/osprofiler-97302fc3440b4fd9.yaml', 'devstack/devstackgaterc-fullstack-etcd-zmq', 'dragonflow/tests/unit/test_mech_driver.py', 'dragonflow/tests/fullstack/apps/test_allowed_address_pairs.py', 'zuul/dragonflow-dsvm-fullstack-etcd-zmq/run.yaml', 'doc/source/multi-node-conf/rethinkDB_controller_node.conf', 'doc/source/specs/port_status_update.rst', 'dragonflow/neutron/services/flowclassifier/__init__.py', 'doc/source/single-node-conf/ramcloud_local_controller.conf', 'dragonflow/common/__init__.py', 'etc/oslo-config-generator/dragonflow.ini', 'dragonflow/db/models/bgp.py', 'rally-jobs/plugins/__init__.py', 'dragonflow/tests/database/_dummy_db_driver.py', 'dragonflow/controller/df_publisher_service.py', 'dragonflow/tests/fullstack/test_ovsdb_monitor.py', 'doc/source/cli/index.rst', 'dragonflow/conf/df_provider_networks.py', 'dragonflow/switch/__init__.py', 'doc/source/specs/mac_spoofing.rst', 'dragonflow/controller/apps/portqos.py', 'doc/images/dhcp2.jpg', '.gitignore', 'doc/source/specs/index.rst', 'dragonflow/db/db_api.py', 'dragonflow/tests/common/app_testing_objects.py', 'doc/source/specs/ipv6.rst', 'dragonflow/tests/common/__init__.py', 'releasenotes/notes/traceroute-support-18e959fd88f15da7.yaml', 'dragonflow/switch/drivers/ovs/df_ovs_driver.py', 'dragonflow/conf/df_dnat.py', 'dragonflow/neutron/services/bgp/bgp_plugin.py', 'dragonflow/conf/df_l2.py', 'dragonflow/db/drivers/zookeeper_db_driver.py', 'dragonflow/db/neutron/migration/alembic_migrations/versions/mitaka/contract/ee426cd9f25a_initial_contract.py', 'doc/source/multi-node-conf/cassandra_compute_node.conf', 'doc/source/configuration.rst', 'dragonflow/tests/fullstack/test_dhcp_flows.py', 'devstack/etcd.service.conf', 'dragonflow/tests/fullstack/test_pub_sub.py', 'devstack/plugin.sh', 'doc/source/specs/control_plane_testing.rst', 'dragonflow/ovsdb/commands.py', 'dragonflow/tests/unit/test_dnat_app.py', 'dragonflow/tests/fullstack/test_base.py', 'dragonflow/tests/fullstack/test_db_consistent.py', 'dragonflow/tests/fullstack/test_portqos.py', 'dragonflow/tests/unit/test_mixins.py', 'doc/source/gmr.rst', 'releasenotes/source/conf.py', 'doc/source/specs/dhcp_port_per_network.rst', 'dragonflow/db/neutron/migration/alembic_migrations/versions/mitaka/expand/1dee3dc24674_initial_expand.py', 'dragonflow/tests/fullstack/test_l3_flows.py', 'dragonflow/tests/fullstack/test_objects.py', 'dragonflow/tests/unit/test_migration_app.py', 'dragonflow/tests/unit/test_sfc_driver.py', 'doc/source/specs/api.rst', 'dragonflow/tests/fullstack/apps/__init__.py', 'dragonflow/tests/unit/_test_l3.py', 'dragonflow/controller/apps/sfc_mpls_driver.py', 'dragonflow/controller/service.py', 'dragonflow/neutron/services/lbaas/vip_port_enabler.py', 'releasenotes/notes/started-using-reno-57feaf66a19a01f0.yaml', '.coveragerc', 'doc/source/multi-node-conf/zookeeper_compute_node.conf', 'doc/source/specs/application_decoupling.rst', 'doc/source/containers.rst', 'dragonflow/tests/fullstack/test_sfc.py', 'doc/source/features.rst', 'dragonflow/conf/df_cassandra.py', 'dragonflow/tests/unit/test_model_framework.py', 'doc/images/pipeline2.jpg', 'dragonflow/db/drivers/__init__.py', 'rally-jobs/plugins/README.rst', 'dragonflow/controller/df_local_controller.py', 'dragonflow/controller/common/utils.py', 'doc/source/specs/dnsaas.rst', 'dragonflow/utils/__init__.py', 'dragonflow/controller/apps/trunk.py', 'dragonflow/controller/common/icmp_error_generator.py', 'dragonflow/controller/common/icmp_responder.py', 'dragonflow/conf/df_redis.py', 'dragonflow/tests/unit/test_classifier_app.py', 'doc/source/specs/vlan_aware_vms.rst', 'tools/generate_config_file_samples.sh', 'dragonflow/controller/apps/classifier.py', 'doc/source/pipeline.rst', 'dragonflow/ovsdb/impl_idl.py', 'dragonflow/neutron/agent/df_l3_agent.py', 'dragonflow/neutron/ml2/__init__.py', 'dragonflow/neutron/ml2/dhcp_module.py', 'dragonflow/tests/fullstack/test_api_nb.py', 'dragonflow/db/db_common.py', 'dragonflow/db/models/constants.py', 'doc/images/pipeline5.jpg', 'dragonflow/tests/unit/test_datapath.py', 'dragonflow/ovsdb/__init__.py', 'doc/images/pubsub_topology.graphml', 'doc/images/pubsub_neutron_API_server.png', 'devstack/devstackgaterc-fullstack-common', 'doc/images/db1.jpg', 'dragonflow/controller/apps/dhcp.py', 'doc/source/specs/allowed_address_pairs.rst', 'dragonflow/tests/__init__.py', 'doc/source/multi-node-conf/ramcloud_compute_node.conf', 'dragonflow/db/pubsub_drivers/nb_api_neutron_notifier.py', 'dragonflow/db/neutron/lockedobjects_db.py', 'Dockerfile.fedora', 'dragonflow/cli/df_db.py', 'zuul/dragonflow-dsvm-fullstack-redis/run.yaml', 'dragonflow/neutron/db/models/qos.py', 'dragonflow/common/profiler.py', 'doc/source/devrefs/models.rst', 'vagrant/provisioning/setup-base.sh', 'doc/source/specs/fwaas.rst', 'devstack/devstackgaterc-fullstack-redis', 'dragonflow/neutron/agent/l3/__init__.py', 'dragonflow/neutron/services/qos/drivers/df_qos.py', 'doc/source/specs/redis_availability.rst', 'dragonflow/controller/apps/portbinding.py', 'doc/images/pipeline3.jpg', 'dragonflow/tests/fullstack/apps/test_dhcp.py', 'dragonflow/tests/unit/test_model_fields.py', 'doc/source/multi-node-conf/redis_controller_node_local_controller.conf', 'dragonflow/tests/fullstack/apps/test_dnat.py', 'dragonflow/cmd/__init__.py', 'dragonflow/tests/unit/test_cookies.py', 'dragonflow/tests/unit/test_db_store.py', 'dragonflow/tests/unit/test_legacy_snat.py', 'dragonflow/db/sync.py', 'dragonflow/tests/unit/test_dhcp_app.py', 'dragonflow/tests/fullstack/test_os_ken_base_app.py', 'dragonflow/cmd/eventlet/__init__.py', 'dragonflow/common/constants.py', 'doc/source/specs/distributed_snat.rst', 'doc/source/specs/ovsdb_monitor.rst', '.mailmap', 'doc/source/specs/config_generation.rst', 'dragonflow/neutron/db/__init__.py', 'etc/rootwrap.d/dragonflow.filters', 'dragonflow/conf/df_common_params.py', 'dragonflow/tests/fullstack/test_object_version.py', 'devstack/devstackgaterc-rally-redis', 'dragonflow/controller/apps/__init__.py', 'doc/source/specs/remote_device_communication.rst', 'dragonflow/tests/common/utils.py', 'doc/source/specs/selective_topo_dist.rst', 'tox.ini', 'doc/source/specs/provider_networks_app.rst', 'dragonflow/db/model_proxy.py', 'dragonflow/db/drivers/redis_calckey.py', 'dragonflow/tests/unit/test_common.py', 'dragonflow/conf/df_active_port_detection.py', 'dragonflow/tests/fullstack/test_allowed_address_pairs_flows.py', 'dragonflow/tests/fullstack/test_db_api.py', 'dragonflow/tests/unit/test_df_qos_driver.py', 'dragonflow/controller/apps/l3_proactive.py', 'dragonflow/neutron/db/models/l2.py', 'dragonflow/neutron/services/flowclassifier/driver.py', 'dragonflow/conf/df_rethinkdb.py', 'dragonflow/tests/database/test_db_api.py', 'dragonflow/db/drivers/ramcloud_db_driver.py', 'dragonflow/cmd/eventlet/df_publisher_service.py', 'releasenotes/source/_static/.placeholder', 'dragonflow/tests/unit/test_dhcp_module.py', 'dragonflow/conf/df_skydive.py', 'dragonflow/db/neutron/migration/alembic_migrations/versions/mitaka/expand/f03c862d2645-dragonflow-lockedobjects.py', 'dragonflow/conf/df_os_ken.py', 'dragonflow/cmd/df_skydive_service.py', 'doc/source/conf.py', 'doc/source/distributed_dragonflow.rst', 'vagrant/Vagrantfile', 'devstack/rethinkdb_driver', 'etc/dragonflow_datapath_layout.yaml', 'Dockerfile', 'releasenotes/source/unreleased.rst', 'dragonflow/controller/common/cookies.py', 'dragonflow/tests/unit/test_topology.py', 'doc/source/readme.rst', 'dragonflow/tests/unit/test_dispatcher.py', 'dragonflow/neutron/db/models/__init__.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/7839f35ca3170e13c9a6e655489b32585e33641a', 'message': 'Retire repo\n\nThis patch completes step 2 of the infra project retirement process\nfound here:\n\nhttps://docs.opendev.org/opendev/infra-manual/latest/drivers.html#step-2-remove-project-content\n\nReference:\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-June/015600.html\n\nDepend-on: https://review.opendev.org/737566\n\nChange-Id: Id3a5477860323547a4e17155061f597a8c96640b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,737564,7839f35ca3170e13c9a6e655489b32585e33641a,14,6,2,11904,,,0,"Retire repo

This patch completes step 2 of the infra project retirement process
found here:

https://docs.opendev.org/opendev/infra-manual/latest/drivers.html#step-2-remove-project-content

Reference:

http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015600.html

Depend-on: https://review.opendev.org/737566

Change-Id: Id3a5477860323547a4e17155061f597a8c96640b
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/64/737564/2 && git format-patch -1 --stdout FETCH_HEAD,"['dragonflow/cmd/eventlet/df_rest_service.py', 'zuul/tempest-dsvm-dragonflow/post.yaml', 'devstack/zmq_pubsub_driver', 'dragonflow/cmd/eventlet/df_local_controller.py', 'doc/source/specs/metadata_service.rst', 'dragonflow/db/neutron/migration/alembic_migrations/script.py.mako', 'doc/source/docker_install.rst', 'dragonflow/controller/apps/aging.py', 'dragonflow/controller/df_base_app.py', 'dragonflow/controller/topology.py', 'dragonflow/tests/unit/test_vip_port_enabler.py', 'dragonflow/db/models/migration.py', 'dragonflow/db/models/l3.py', 'dragonflow/neutron/agent/l3/df_router.py', 'doc/source/specs/security_groups.rst', 'dragonflow/tests/unit/test_radix_tree.py', 'dragonflow/version.py', 'releasenotes/source/newton.rst', 'dragonflow/controller/apps/portsec.py', 'etc/standalone/dragonflow.ini', 'devstack/redis_driver', 'dragonflow/db/models/switch.py', 'dragonflow/db/model_framework.py', 'dragonflow/tests/fullstack/apps/test_portsec.py', 'dragonflow/tests/fullstack/apps/test_snat.py', 'dragonflow/tests/fullstack/test_l2_flows.py', 'tools/run_dragonflow.sh', 'doc/source/specs/traceroute.rst', 'dragonflow/controller/df_bgp_service.py', 'dragonflow/db/models/core.py', 'dragonflow/neutron/services/sfc/__init__.py', 'dragonflow/tests/unit/test_chassis_snat_app.py', 'dragonflow/controller/common/__init__.py', 'doc/images/df_logo.png', 'doc/source/specs/classification_app.rst', 'doc/source/specs/tunneling_app.rst', 'dragonflow/controller/dispatcher.py', 'dragonflow/controller/common/constants.py', 'dragonflow/tests/fullstack/test_portsec_flows.py', 'dragonflow/common/extensions.py', 'dragonflow/tests/unit/test_os_ken_base_app.py', 'dragonflow/controller/apps/l3_base.py', 'dragonflow/db/neutron/migration/alembic_migrations/__init__.py', 'doc/source/distributed_dhcp.rst', 'rally-jobs/README.rst', 'dragonflow/tests/fullstack/test_neutron_api.py', 'dragonflow/conf/df_zmq.py', 'doc/source/cli/dragonflow-status.rst', 'releasenotes/source/pike.rst', '.zuul.yaml', 'devstack/redis_pubsub_driver', 'doc/source/specs/igmp_application_and_multicast_support.rst', 'dragonflow/tests/unit/test_l3_proactive_app.py', 'dragonflow/db/pubsub_drivers/etcd_pubsub_driver.py', 'dragonflow/neutron/services/l3_router_plugin.py', 'dragonflow/controller/apps/fc.py', 'dragonflow/controller/apps/tunneling.py', 'doc/images/pubsub_topology.png', 'doc/source/pluggable_db.rst', 'dragonflow/cli/utils.py', 'devstack/zookeeper_driver', 'README.rst', 'dragonflow/controller/apps/active_port_detection.py', 'devstack/tempest-filter', 'doc/source/devrefs/index.rst', 'dragonflow/tests/unit/test_redis_db.py', 'doc/source/specs/distributed_dnat.rst', 'dragonflow/tests/unit/test_sync.py', 'doc/source/specs/bgp_dynamic_routing.rst', 'dragonflow/tests/fullstack/apps/test_l3.py', 'doc/images/db3.jpg', 'dragonflow/tests/unit/test_redis_pubsub.py', 'CONTRIBUTING.rst', 'dragonflow/tests/fullstack/test_topology.py', 'dragonflow/neutron/ml2/mech_driver.py', 'LICENSE', 'dragonflow/tests/fullstack/test_snat_flows.py', 'dragonflow/tests/unit/test_provider_net_app.py', 'dragonflow/tests/common/constants.py', 'doc/source/specs/performance_testing.rst', 'devstack/etcd.conf', 'dragonflow/conf/df_snat.py', 'dragonflow/tests/unit/test_unique_key_mixin.py', 'dragonflow/controller/apps/l3_reactive.py', 'dragonflow/tests/unit/test_sg_app.py', 'releasenotes/source/index.rst', 'doc/images/pipeline1.jpg', 'doc/source/installation.rst', 'dragonflow/db/pubsub_drivers/__init__.py', 'dragonflow/tests/unit/test_app_base.py', 'doc/source/specs/local_controller_reliability.rst', 'dragonflow/db/models/l2.py', 'devstack/ovs_dpdk_setup.sh', 'dragonflow/tests/unit/cmd/test_status.py', 'dragonflow/tests/unit/test_l3_app.py', 'devstack/devstackgaterc-redis', 'releasenotes/notes/support-zookeeper-48a082d4e63026df.yaml', 'dragonflow/_i18n.py', 'dragonflow/neutron/services/trunk/port_behind_port.py', 'releasenotes/source/ocata.rst', 'dragonflow/controller/apps/dnat.py', 'dragonflow/db/drivers/rethink_db_driver.py', 'dragonflow/tests/common/clients.py', 'doc/source/specs/extra_dhcp_opts.rst', 'vagrant/provisioning/dragonflow.conf.yml', 'doc/source/single-node-conf/etcd_local_controller.conf', 'doc/source/specs/redis_driver.rst', 'dragonflow/db/drivers/ramcloud.py', 'dragonflow/tests/unit/test_fc_app.py', 'dragonflow/tests/unit/test_api_nb.py', 'dragonflow/conf/__init__.py', 'dragonflow/controller/apps/migration.py', 'doc/source/manual_deployment.rst', 'doc/source/specs/support_check_chassis_alive.rst', 'devstack/ramcloud_driver', 'doc/source/multi-node-conf/etcd_controller_node.conf', 'zuul/dragonflow-dsvm-rally/post.yaml', 'dragonflow/tests/unit/test_ovsdb_monitor.py', 'dragonflow/db/pubsub_drivers/redis_db_pubsub_driver.py', 'dragonflow/tests/fullstack/test_remote_port.py', 'dragonflow/db/api_nb.py', 'doc/source/single-node-conf/zookeeper_local_controller.conf', 'dragonflow/tests/fullstack/apps/test_l2.py', 'dragonflow/controller/common/arp_responder.py', 'dragonflow/common/utils.py', 'doc/images/pipeline6.jpg', 'devstack/devstackgaterc-etcd-zmq', 'doc/source/specs/skeleton.rst', 'doc/images/db2.jpg', 'dragonflow/neutron/services/sfc/driver.py', 'devstack/etcd.service', 'doc/source/usage.rst', 'dragonflow/neutron/services/__init__.py', 'dragonflow/__init__.py', 'dragonflow/db/neutron/migration/alembic_migrations/env.py', 'dragonflow/utils/radix_tree.py', 'dragonflow/controller/port_locator.py', 'dragonflow/switch/drivers/ovs/__init__.py', 'dragonflow/neutron/services/qos/__init__.py', 'dragonflow/tests/fullstack/apps/test_sg.py', 'dragonflow/controller/common/nd_advertisers.py', 'dragonflow/neutron/services/trunk/__init__.py', 'doc/images/pubsub_neutron_API_server.graphml', 'doc/source/specs/publish_subscribe_abstraction.rst', 'dragonflow/db/neutron_notifier_api.py', 'dragonflow/neutron/db/models/secgroups.py', 'dragonflow/cmd/eventlet/df_l3_agent.py', 'dragonflow/db/pub_sub_api.py', 'lower-constraints.txt', 'dragonflow/neutron/__init__.py', 'dragonflow/db/drivers/redis_db_driver.py', 'doc/source/single-node-conf/rethinkDB_local_controller.conf', 'dragonflow/controller/apps/chassis_snat.py', 'dragonflow/neutron/common/dhcp_opt_map.py', 'dragonflow/db/models/trunk.py', 'dragonflow/tests/unit/test_nb_api_neutron_notifier.py', 'dragonflow/switch/drivers/__init__.py', 'dragonflow/tests/contrib/gate_hook.sh', 'dragonflow/neutron/agent/__init__.py', 'devstack/ovs_setup.sh', 'dragonflow/tests/unit/test_db_api.py', 'dragonflow/neutron/services/lbaas/__init__.py', 'dragonflow/db/models/service.py', 'dragonflow/tests/unit/test_service.py', 'dragonflow/controller/common/logical_networks.py', 'dragonflow/tests/fullstack/test_apps.py', 'dragonflow/tests/base.py', 'dragonflow/conf/df_dhcp.py', 'doc/source/testing_and_debugging.rst', 'zuul/dragonflow-dsvm-fullstack-etcd-zmq/post.yaml', 'vagrant/provisioning/setup-aio.sh', 'dragonflow/controller/app_base.py', 'dragonflow/db/field_types.py', 'dragonflow/tests/unit/test_qos_models.py', 'doc/source/specs/service_function_chaining.rst', 'doc/source/specs/tap_as_a_service.rst', 'doc/images/dhcp1.jpg', 'dragonflow/tests/unit/test_trunk_driver.py', '.stestr.conf', 'dragonflow/common/exceptions.py', 'dragonflow/db/neutron/migration/alembic_migrations/versions/ce93d45fd192_initial_branchpoint.py', 'tools/ovs_metadata_service_deployment.sh', 'doc/source/specs/vlan_networking.rst', 'dragonflow/db/models/active_port.py', 'babel.cfg', 'dragonflow/tests/unit/test_df_bgp_service.py', 'tools/add_table_names', 'dragonflow/neutron/services/trunk/driver.py', 'doc/source/specs/template.rst', 'dragonflow/db/models/mixins.py', 'dragonflow/db/neutron/__init__.py', 'doc/source/multi-node-conf/etcd_compute_node.conf', 'HACKING.rst', 'dragonflow/cmd/eventlet/df_bgp_service.py', 'zuul/tempest-dsvm-dragonflow/run.yaml', 'doc/source/specs/keep_db_consistency.rst', 'doc/source/specs/lbaas2.rst', 'dragonflow/db/pubsub_drivers/zmq_pubsub_driver.py', 'doc/source/multi-node-conf/redis_compute_node_local_controller.conf', 'dragonflow/tests/unit/test_zmq_pubsub.py', 'doc/source/reviewers_guide.rst', 'dragonflow/tests/unit/test_df_local_controller.py', 'dragonflow/tests/unit/test_l3_router_plugin.py', 'doc/source/sfc-example/sfc-example.yaml', 'dragonflow/conf/opts.py', 'dragonflow/tests/fullstack/__init__.py', 'dragonflow/tests/unit/test_rate_limiter.py', 'devstack/etcd_driver', 'dragonflow/controller/apps/packet_log.py', 'dragonflow/cli/__init__.py', 'dragonflow/db/neutron/migration/alembic_migrations/versions/EXPAND_HEAD', 'dragonflow/controller/apps/legacy_snat.py', 'devstack/devstackgaterc-common', 'dragonflow/cli/df_model.py', 'rally-jobs/dragonflow.yaml', 'doc/source/specs/port_qos.rst', 'dragonflow/db/__init__.py', 'doc/source/single-node-conf/cassandra_local_controller.conf', 'setup.cfg', 'dragonflow/tests/unit/test_sfc_app.py', 'doc/source/contributing.rst', 'doc/source/multi-node-conf/cassandra_controller_node.conf', 'devstack/cassandra_driver', 'dragonflow/tests/contrib/post_test_hook.sh', 'doc/source/specs/publish_subscribe_v2.rst', 'dragonflow/db/neutron/migration/alembic_migrations/README', 'dragonflow/db/drivers/etcd_db_driver.py', 'dragonflow/tests/unit/__init__.py', 'dragonflow/neutron/common/constants.py', 'dragonflow/tests/fullstack/test_responder.py', 'dragonflow/tests/fullstack/test_metadata_service.py', 'dragonflow/db/models/sfc.py', 'doc/source/specs/skydive_integration.rst', 'dragonflow/controller/apps/snat_mixin.py', 'devstack/devstackgaterc-tempest-redis', 'doc/source/osprofiler.rst', 'doc/source/specs/cassandra_driver.rst', 'dragonflow/cmd/status.py', 'dragonflow/tests/unit/test_portbinding_app.py', 'doc/images/dragonflow_distributed_architecture.png', 'rally-jobs/extra/README.rst', 'dragonflow/neutron/services/bgp/__init__.py', 'dragonflow/tests/unit/test_trunk_app.py', 'devstack/override-defaults', 'dragonflow/db/neutron/models.py', 'dragonflow/neutron/services/mixins.py', 'doc/requirements.txt', 'dragonflow/db/drivers/redis_mgt.py', 'dragonflow/tests/unit/test_fc_driver.py', 'dragonflow/tests/unit/test_l2_app.py', 'dragonflow/tests/database/test_db.py', 'dragonflow/db/models/__init__.py', 'dragonflow/conf/df_bgp.py', 'dragonflow/neutron/common/__init__.py', 'releasenotes/notes/dragonflow-status-upgrade-check-framework-efd2592c6decdd16.yaml', 'test-requirements.txt', 'doc/images/pipeline4.jpg', 'dragonflow/db/models/host_route.py', 'dragonflow/db/drivers/cassandra_db_driver.py', 'doc/source/single-node-conf/redis_local_controller.conf', 'doc/source/multi-node-conf/zookeeper_controller_node.conf', 'dragonflow/switch/drivers/ovs/os_ken_base_app.py', 'dragonflow/db/db_store.py', 'dragonflow/controller/apps/sg.py', 'dragonflow/neutron/db/models/l3.py', 'releasenotes/source/README.rst', 'doc/source/pluggable_pubsub.rst', 'dragonflow/neutron/services/qos/drivers/__init__.py', 'dragonflow/conf/df_metadata_service.py', 'doc/source/specs/services_status.rst', 'dragonflow/controller/df_config.py', 'dragonflow/tests/unit/test_sfc_models.py', 'dragonflow/db/models/qos.py', 'dragonflow/db/neutron/migration/__init__.py', 'dragonflow/tests/fullstack/apps/test_trunk.py', 'doc/source/single-node-conf/etcd_skydive_local_controller.conf', 'releasenotes/source/mitaka.rst', 'zuul/dragonflow-dsvm-fullstack-redis/post.yaml', 'doc/source/specs/database_migration_and_upgrade.rst', 'doc/source/multi-node-conf/ramcloud_controller_node.conf', 'doc/source/specs/nb_api_refactor.rst', 'doc/source/specs/logical_port_locality.rst', 'doc/source/releasenotes_create.rst', 'dragonflow/db/neutron/migration/alembic_migrations/versions/CONTRACT_HEAD', 'dragonflow/tests/unit/test_port_behind_port.py', 'dragonflow/ovsdb/vswitch_impl.py', 'releasenotes/source/_templates/.placeholder', 'dragonflow/db/models/all.py', 'requirements.txt', 'dragonflow/controller/__init__.py', 'dragonflow/controller/apps/sfc.py', 'dragonflow/switch/drivers/df_switch_driver.py', 'dragonflow/tests/unit/test_tunneling_app.py', 'dragonflow/controller/apps/provider.py', 'vagrant/provisioning/setup-compute.sh', 'dragonflow/switch/drivers/ovs/datapath.py', 'dragonflow/tests/database/__init__.py', 'dragonflow/cmd/eventlet/df_metadata_service.py', 'doc/source/specs/virtual_tunnel_port.rst', 'dragonflow/controller/apps/l2.py', 'zuul/dragonflow-dsvm-rally/run.yaml', 'dragonflow/controller/datapath_layout.py', 'doc/source/index.rst', 'dragonflow/controller/apps/sfc_driver_base.py', 'dragonflow/controller/apps/metadata_service.py', 'dragonflow/tests/unit/test_metadata_service_app.py', 'doc/source/multi-node-conf/rethinkDB_compute_node.conf', 'dragonflow/conf/df_l3.py', 'dragonflow/common/dhcp.py', 'dragonflow/tests/unit/test_logical_networks.py', 'dragonflow/db/models/secgroups.py', 'dragonflow/conf/df_loadbalancer.py', 'setup.py', 'doc/source/specs/vm_live_migration.rst', 'devstack/etcd_pubsub_driver', 'devstack/settings', 'vagrant/provisioning/setup-controller.sh', 'dragonflow/tests/unit/test_model_proxy.py', 'releasenotes/notes/osprofiler-97302fc3440b4fd9.yaml', 'devstack/devstackgaterc-fullstack-etcd-zmq', 'dragonflow/tests/unit/test_mech_driver.py', 'dragonflow/tests/fullstack/apps/test_allowed_address_pairs.py', 'zuul/dragonflow-dsvm-fullstack-etcd-zmq/run.yaml', 'doc/source/multi-node-conf/rethinkDB_controller_node.conf', 'doc/source/specs/port_status_update.rst', 'dragonflow/neutron/services/flowclassifier/__init__.py', 'doc/source/single-node-conf/ramcloud_local_controller.conf', 'dragonflow/common/__init__.py', 'etc/oslo-config-generator/dragonflow.ini', 'dragonflow/db/models/bgp.py', 'rally-jobs/plugins/__init__.py', 'dragonflow/tests/database/_dummy_db_driver.py', 'dragonflow/controller/df_publisher_service.py', 'dragonflow/tests/fullstack/test_ovsdb_monitor.py', 'doc/source/cli/index.rst', 'dragonflow/conf/df_provider_networks.py', 'dragonflow/switch/__init__.py', 'doc/source/specs/mac_spoofing.rst', 'dragonflow/controller/apps/portqos.py', 'doc/images/dhcp2.jpg', '.gitignore', 'doc/source/specs/index.rst', 'dragonflow/db/db_api.py', 'dragonflow/tests/common/app_testing_objects.py', 'doc/source/specs/ipv6.rst', 'dragonflow/tests/common/__init__.py', 'releasenotes/notes/traceroute-support-18e959fd88f15da7.yaml', 'dragonflow/switch/drivers/ovs/df_ovs_driver.py', 'dragonflow/conf/df_dnat.py', 'dragonflow/neutron/services/bgp/bgp_plugin.py', 'dragonflow/conf/df_l2.py', 'dragonflow/db/drivers/zookeeper_db_driver.py', 'dragonflow/db/neutron/migration/alembic_migrations/versions/mitaka/contract/ee426cd9f25a_initial_contract.py', 'doc/source/multi-node-conf/cassandra_compute_node.conf', 'doc/source/configuration.rst', 'dragonflow/tests/fullstack/test_dhcp_flows.py', 'devstack/etcd.service.conf', 'dragonflow/tests/fullstack/test_pub_sub.py', 'devstack/plugin.sh', 'doc/source/specs/control_plane_testing.rst', 'dragonflow/ovsdb/commands.py', 'dragonflow/tests/unit/test_dnat_app.py', 'dragonflow/tests/fullstack/test_base.py', 'dragonflow/tests/fullstack/test_db_consistent.py', 'dragonflow/tests/fullstack/test_portqos.py', 'dragonflow/tests/unit/test_mixins.py', 'doc/source/gmr.rst', 'releasenotes/source/conf.py', 'doc/source/specs/dhcp_port_per_network.rst', 'dragonflow/db/neutron/migration/alembic_migrations/versions/mitaka/expand/1dee3dc24674_initial_expand.py', 'dragonflow/tests/fullstack/test_l3_flows.py', 'dragonflow/tests/fullstack/test_objects.py', 'dragonflow/tests/unit/test_migration_app.py', 'dragonflow/tests/unit/test_sfc_driver.py', 'doc/source/specs/api.rst', 'dragonflow/tests/fullstack/apps/__init__.py', 'dragonflow/tests/unit/_test_l3.py', 'dragonflow/controller/apps/sfc_mpls_driver.py', 'dragonflow/controller/service.py', 'dragonflow/neutron/services/lbaas/vip_port_enabler.py', 'releasenotes/notes/started-using-reno-57feaf66a19a01f0.yaml', '.coveragerc', 'doc/source/multi-node-conf/zookeeper_compute_node.conf', 'doc/source/specs/application_decoupling.rst', 'doc/source/containers.rst', 'dragonflow/tests/fullstack/test_sfc.py', 'doc/source/features.rst', 'dragonflow/conf/df_cassandra.py', 'dragonflow/tests/unit/test_model_framework.py', 'doc/images/pipeline2.jpg', 'dragonflow/db/drivers/__init__.py', 'rally-jobs/plugins/README.rst', 'dragonflow/controller/df_local_controller.py', 'dragonflow/controller/common/utils.py', 'doc/source/specs/dnsaas.rst', 'dragonflow/utils/__init__.py', 'dragonflow/controller/apps/trunk.py', 'dragonflow/controller/common/icmp_error_generator.py', 'dragonflow/controller/common/icmp_responder.py', 'dragonflow/conf/df_redis.py', 'dragonflow/tests/unit/test_classifier_app.py', 'doc/source/specs/vlan_aware_vms.rst', 'tools/generate_config_file_samples.sh', 'dragonflow/controller/apps/classifier.py', 'doc/source/pipeline.rst', 'dragonflow/ovsdb/impl_idl.py', 'dragonflow/neutron/agent/df_l3_agent.py', 'dragonflow/neutron/ml2/__init__.py', 'dragonflow/neutron/ml2/dhcp_module.py', 'dragonflow/tests/fullstack/test_api_nb.py', 'dragonflow/db/db_common.py', 'dragonflow/db/models/constants.py', 'doc/images/pipeline5.jpg', 'dragonflow/tests/unit/test_datapath.py', 'dragonflow/ovsdb/__init__.py', 'doc/images/pubsub_topology.graphml', 'doc/images/pubsub_neutron_API_server.png', 'devstack/devstackgaterc-fullstack-common', 'doc/images/db1.jpg', 'dragonflow/controller/apps/dhcp.py', 'doc/source/specs/allowed_address_pairs.rst', 'dragonflow/tests/__init__.py', 'doc/source/multi-node-conf/ramcloud_compute_node.conf', 'dragonflow/db/pubsub_drivers/nb_api_neutron_notifier.py', 'dragonflow/db/neutron/lockedobjects_db.py', 'Dockerfile.fedora', 'dragonflow/cli/df_db.py', 'zuul/dragonflow-dsvm-fullstack-redis/run.yaml', 'dragonflow/neutron/db/models/qos.py', 'dragonflow/common/profiler.py', 'doc/source/devrefs/models.rst', 'vagrant/provisioning/setup-base.sh', 'doc/source/specs/fwaas.rst', 'devstack/devstackgaterc-fullstack-redis', 'dragonflow/neutron/agent/l3/__init__.py', 'dragonflow/neutron/services/qos/drivers/df_qos.py', 'doc/source/specs/redis_availability.rst', 'dragonflow/controller/apps/portbinding.py', 'doc/images/pipeline3.jpg', 'dragonflow/tests/fullstack/apps/test_dhcp.py', 'dragonflow/tests/unit/test_model_fields.py', 'doc/source/multi-node-conf/redis_controller_node_local_controller.conf', 'dragonflow/tests/fullstack/apps/test_dnat.py', 'dragonflow/cmd/__init__.py', 'dragonflow/tests/unit/test_cookies.py', 'dragonflow/tests/unit/test_db_store.py', 'dragonflow/tests/unit/test_legacy_snat.py', 'dragonflow/db/sync.py', 'dragonflow/tests/unit/test_dhcp_app.py', 'dragonflow/tests/fullstack/test_os_ken_base_app.py', 'dragonflow/cmd/eventlet/__init__.py', 'dragonflow/common/constants.py', 'doc/source/specs/distributed_snat.rst', 'doc/source/specs/ovsdb_monitor.rst', '.mailmap', 'doc/source/specs/config_generation.rst', 'dragonflow/neutron/db/__init__.py', 'etc/rootwrap.d/dragonflow.filters', 'dragonflow/conf/df_common_params.py', 'dragonflow/tests/fullstack/test_object_version.py', 'devstack/devstackgaterc-rally-redis', 'dragonflow/controller/apps/__init__.py', 'doc/source/specs/remote_device_communication.rst', 'dragonflow/tests/common/utils.py', 'doc/source/specs/selective_topo_dist.rst', 'tox.ini', 'doc/source/specs/provider_networks_app.rst', 'dragonflow/db/model_proxy.py', 'dragonflow/db/drivers/redis_calckey.py', 'dragonflow/tests/unit/test_common.py', 'dragonflow/conf/df_active_port_detection.py', 'dragonflow/tests/fullstack/test_allowed_address_pairs_flows.py', 'dragonflow/tests/fullstack/test_db_api.py', 'dragonflow/tests/unit/test_df_qos_driver.py', 'dragonflow/controller/apps/l3_proactive.py', 'dragonflow/neutron/db/models/l2.py', 'dragonflow/neutron/services/flowclassifier/driver.py', 'dragonflow/conf/df_rethinkdb.py', 'dragonflow/tests/database/test_db_api.py', 'dragonflow/db/drivers/ramcloud_db_driver.py', 'dragonflow/cmd/eventlet/df_publisher_service.py', 'releasenotes/source/_static/.placeholder', 'dragonflow/tests/unit/test_dhcp_module.py', 'dragonflow/conf/df_skydive.py', 'dragonflow/db/neutron/migration/alembic_migrations/versions/mitaka/expand/f03c862d2645-dragonflow-lockedobjects.py', 'dragonflow/conf/df_os_ken.py', 'dragonflow/cmd/df_skydive_service.py', 'doc/source/conf.py', 'doc/source/distributed_dragonflow.rst', 'vagrant/Vagrantfile', 'devstack/rethinkdb_driver', 'etc/dragonflow_datapath_layout.yaml', 'Dockerfile', 'releasenotes/source/unreleased.rst', 'dragonflow/controller/common/cookies.py', 'dragonflow/tests/unit/test_topology.py', 'doc/source/readme.rst', 'dragonflow/tests/unit/test_dispatcher.py', 'dragonflow/neutron/db/models/__init__.py']",499,a9f4f7345804a7c957c00c9645d8842431680448,dragonflow,,,8,65848
openstack%2Foslo.limit~master~I6e02e68b689176a1a5e6adff0f32adf79ec473cf,openstack/oslo.limit,master,I6e02e68b689176a1a5e6adff0f32adf79ec473cf,Align contributing doc with oslo's policy,MERGED,2020-05-04 16:24:33.000000000,2020-07-20 15:43:54.000000000,2020-07-20 15:41:34.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 27954}, {'_account_id': 28595}]","[{'number': 1, 'created': '2020-05-04 16:24:33.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/1443a6ec1117bbb8660da3b4407c6c68715da58e', 'message': ""Align contributing doc with oslo's policy\n\nRelated to:\n- https://review.opendev.org/#/c/723044/\n- https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nChange-Id: I6e02e68b689176a1a5e6adff0f32adf79ec473cf\n""}]",0,725317,1443a6ec1117bbb8660da3b4407c6c68715da58e,10,5,1,28522,,,0,"Align contributing doc with oslo's policy

Related to:
- https://review.opendev.org/#/c/723044/
- https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Change-Id: I6e02e68b689176a1a5e6adff0f32adf79ec473cf
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/17/725317/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,1443a6ec1117bbb8660da3b4407c6c68715da58e,,"If you would like to contribute to the development of oslo's libraries, first you must take a look to this page: https://specs.openstack.org/openstack/oslo-specs/specs/policy/contributing.html ",,5,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~I838e6748879c668dd004ca2243b7b00b857c2a7b,openstack/python-tripleoclient,stable/train,I838e6748879c668dd004ca2243b7b00b857c2a7b,"Add ""yes"" prompt for update/upgrades commands",MERGED,2020-07-17 23:45:20.000000000,2020-07-20 15:36:30.000000000,2020-07-20 15:33:53.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 9114}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-17 23:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/466224d553331d7db96aa0d4f47f90c427ea1301', 'message': 'Add ""yes"" prompt for update/upgrades commands\n\nUpdate/Upgrade commands have now a prompt by default that ask for\nconfirmation before proceeding. It\'ll prevent an user to run the\ncommand that may cause the problems to infrastructure.\nThis prompt can be skipped with --yes/-y argument.\n\nNote: putting ""UPDATE"" and ""UPGRADE"" in uppercase to make sure this is\nvisible and clear. We have seen many users running the wrong command and\nending up doing an upgrade instead of an update.\n\nNote2: this prompt will be ported to the upgrade and FFWD workflows to\nprevent unexpected execution to prevent potential harm to\ninfrastructures.\n\nDepends-On: https://review.opendev.org/741658\nChange-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b\n(Partly cherry picked from commit 7a044ca2517d26ea4ea763cc76d373ad4b39f7f9)\n'}, {'number': 2, 'created': '2020-07-18 21:27:00.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_external_update/test_overcloud_external_update.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'releasenotes/notes/upgrade_update_prompt-f6ace53f02b62fa0.yaml', 'tripleoclient/exceptions.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_external_upgrade/test_overcloud_external_upgrade.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/v1/overcloud_external_update.py', 'tripleoclient/v1/overcloud_external_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/289759474ff36330041e4842e0f5fc55270e2934', 'message': 'Add ""yes"" prompt for update/upgrades commands\n\nUpdate/Upgrade commands have now a prompt by default that ask for\nconfirmation before proceeding. It\'ll prevent an user to run the\ncommand that may cause the problems to infrastructure.\nThis prompt can be skipped with --yes/-y argument.\n\nNote: putting ""UPDATE"" and ""UPGRADE"" in uppercase to make sure this is\nvisible and clear. We have seen many users running the wrong command and\nending up doing an upgrade instead of an update.\n\nNote2: this prompt will be ported to the upgrade and FFWD workflows to\nprevent unexpected execution to prevent potential harm to\ninfrastructures.\n\nDepends-On: https://review.opendev.org/741658\nChange-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b\n(Partly cherry picked from commit 7a044ca2517d26ea4ea763cc76d373ad4b39f7f9)\n'}]",0,741792,289759474ff36330041e4842e0f5fc55270e2934,13,11,2,11090,,,0,"Add ""yes"" prompt for update/upgrades commands

Update/Upgrade commands have now a prompt by default that ask for
confirmation before proceeding. It'll prevent an user to run the
command that may cause the problems to infrastructure.
This prompt can be skipped with --yes/-y argument.

Note: putting ""UPDATE"" and ""UPGRADE"" in uppercase to make sure this is
visible and clear. We have seen many users running the wrong command and
ending up doing an upgrade instead of an update.

Note2: this prompt will be ported to the upgrade and FFWD workflows to
prevent unexpected execution to prevent potential harm to
infrastructures.

Depends-On: https://review.opendev.org/741658
Change-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b
(Partly cherry picked from commit 7a044ca2517d26ea4ea763cc76d373ad4b39f7f9)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/92/741792/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_external_update/test_overcloud_external_update.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'releasenotes/notes/upgrade_update_prompt-f6ace53f02b62fa0.yaml', 'tripleoclient/exceptions.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_external_upgrade/test_overcloud_external_upgrade.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/v1/overcloud_external_update.py', 'tripleoclient/v1/overcloud_external_upgrade.py']",11,466224d553331d7db96aa0d4f47f90c427ea1301,,"from tripleoclient.exceptions import OvercloudUpgradeNotConfirmed parser.add_argument('-y', '--yes', default=False, action='store_true', help=_(""Use -y or --yes to skip the confirmation "" ""required before any upgrade "" ""operation. Use this with caution! ""), ) if (not parsed_args.yes and not oooutils.prompt_user_for_confirmation( constants.UPGRADE_PROMPT, self.log)): raise OvercloudUpgradeNotConfirmed(constants.UPGRADE_NO) ",,205,26
openstack%2Foctavia~master~I670087163b265e7098af35063572d6aa9d068bb9,openstack/octavia,master,I670087163b265e7098af35063572d6aa9d068bb9,Prioritize policy validation,MERGED,2020-06-19 21:18:41.000000000,2020-07-20 15:25:06.000000000,2020-06-21 16:22:42.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-19 21:18:41.000000000', 'files': ['octavia/api/v2/controllers/pool.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/api/v2/controllers/member.py', 'octavia/api/v2/controllers/health_monitor.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8394633635af1045131b1ba5eeeafea8aa98416b', 'message': 'Prioritize policy validation\n\nThis patch makes sure that we validate RBAC compliance before\nother validation tasks.\n\nChange-Id: I670087163b265e7098af35063572d6aa9d068bb9\n'}]",0,737084,8394633635af1045131b1ba5eeeafea8aa98416b,9,3,1,11628,,,0,"Prioritize policy validation

This patch makes sure that we validate RBAC compliance before
other validation tasks.

Change-Id: I670087163b265e7098af35063572d6aa9d068bb9
",git fetch https://review.opendev.org/openstack/octavia refs/changes/84/737084/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/controllers/pool.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/api/v2/controllers/member.py', 'octavia/api/v2/controllers/health_monitor.py']",5,8394633635af1045131b1ba5eeeafea8aa98416b,," self._auth_validate_action(context, health_monitor.project_id, consts.RBAC_POST) if (not CONF.api_settings.allow_ping_health_monitors and health_monitor.type == consts.HEALTH_MONITOR_PING): raise exceptions.DisabledOption( option='type', value=consts.HEALTH_MONITOR_PING) "," if (not CONF.api_settings.allow_ping_health_monitors and health_monitor.type == consts.HEALTH_MONITOR_PING): raise exceptions.DisabledOption( option='type', value=consts.HEALTH_MONITOR_PING) self._auth_validate_action(context, health_monitor.project_id, consts.RBAC_POST) ",63,56
openstack%2Fcharm-masakari-monitors~master~Ied1736a70c70d2b246fba99b3447f2a3cd591eac,openstack/charm-masakari-monitors,master,Ied1736a70c70d2b246fba99b3447f2a3cd591eac,Add Victoria test bundles,MERGED,2020-07-15 08:52:45.000000000,2020-07-20 15:07:49.000000000,2020-07-20 15:07:49.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-15 08:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/967e6280954513dfd068525f0f75175a0a97e825', 'message': 'Add Victoria test bundles\n\nChange-Id: Ied1736a70c70d2b246fba99b3447f2a3cd591eac\n'}, {'number': 2, 'created': '2020-07-17 07:45:29.000000000', 'files': ['src/tests/bundles/overlays/focal-victoria-pacemaker-remote-ssl-yaml.j2', 'src/tests/bundles/focal-victoria-pacemaker-remote-ssl.yaml', 'src/tests/bundles/overlays/groovy-victoria-pacemaker-remote-ssl-yaml.j2', 'src/tests/bundles/groovy-victoria-pacemaker-remote-ssl.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/002d829d96fffb9f3ba4c0e0b015a31e042d87e7', 'message': 'Add Victoria test bundles\n\nChange-Id: Ied1736a70c70d2b246fba99b3447f2a3cd591eac\n'}]",0,741122,002d829d96fffb9f3ba4c0e0b015a31e042d87e7,11,4,2,31289,,,0,"Add Victoria test bundles

Change-Id: Ied1736a70c70d2b246fba99b3447f2a3cd591eac
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/22/741122/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/focal-victoria-pacemaker-remote-ssl-yaml.j2', 'src/tests/bundles/focal-victoria-pacemaker-remote-ssl.yaml', 'src/tests/bundles/overlays/groovy-victoria-pacemaker-remote-ssl-yaml.j2', 'src/tests/bundles/groovy-victoria-pacemaker-remote-ssl.yaml', 'src/tests/tests.yaml']",5,967e6280954513dfd068525f0f75175a0a97e825,victoria-charm-tests,dev_bundles: - focal-victoria-pacemaker-remote-ssl - groovy-victoria-pacemaker-remote-ssl - groovy-victoria-pacemaker-remote-ssl, - focal-ussuri-pacemaker-remote-ssl,786,1
openstack%2Fcharm-keystone-ldap~master~I01cd3a3f53b09edb46398c7652ba19a6b1df4623,openstack/charm-keystone-ldap,master,I01cd3a3f53b09edb46398c7652ba19a6b1df4623,Remove inherited configuration options invalid for charm,MERGED,2020-05-16 21:29:57.000000000,2020-07-20 14:59:09.000000000,2020-07-20 14:59:09.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-05-16 21:29:57.000000000', 'files': ['src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/3f72380e220d44b3886b29f14273bb64d7679ee2', 'message': 'Remove inherited configuration options invalid for charm\n\nChange-Id: I01cd3a3f53b09edb46398c7652ba19a6b1df4623\nCloses-Bug: #1879088\n'}]",0,728660,3f72380e220d44b3886b29f14273bb64d7679ee2,11,5,1,13686,,,0,"Remove inherited configuration options invalid for charm

Change-Id: I01cd3a3f53b09edb46398c7652ba19a6b1df4623
Closes-Bug: #1879088
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/60/728660/1 && git format-patch -1 --stdout FETCH_HEAD,['src/layer.yaml'],1,3f72380e220d44b3886b29f14273bb64d7679ee2,bug/1879088,config: deletes: - debug - verbose - use-internal-endpoints - use-syslog - ssl_ca - ssl_cert - ssl_key,,9,0
openstack%2Fcharm-cinder-backup-swift-proxy~master~I7fbc6b07d1e6fe93b67cafcba0ad0055d161dcd2,openstack/charm-cinder-backup-swift-proxy,master,I7fbc6b07d1e6fe93b67cafcba0ad0055d161dcd2,Remove inherited configuration options invalid for charm,MERGED,2020-05-16 21:22:50.000000000,2020-07-20 14:56:39.000000000,2020-07-20 14:56:39.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-05-16 21:22:50.000000000', 'files': ['src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/bdbaa53af8303abbc7ad2726533464b2eb0ab371', 'message': 'Remove inherited configuration options invalid for charm\n\nChange-Id: I7fbc6b07d1e6fe93b67cafcba0ad0055d161dcd2\nCloses-Bug: #1879088\n'}]",0,728658,bdbaa53af8303abbc7ad2726533464b2eb0ab371,9,4,1,13686,,,0,"Remove inherited configuration options invalid for charm

Change-Id: I7fbc6b07d1e6fe93b67cafcba0ad0055d161dcd2
Closes-Bug: #1879088
",git fetch https://review.opendev.org/openstack/charm-cinder-backup-swift-proxy refs/changes/58/728658/1 && git format-patch -1 --stdout FETCH_HEAD,['src/layer.yaml'],1,bdbaa53af8303abbc7ad2726533464b2eb0ab371,bug/1879088,config: deletes: - debug - verbose - use-internal-endpoints - use-syslog - ssl_ca - ssl_cert - ssl_key,,9,0
openstack%2Ftripleo-operator-ansible~master~Ia24350cb44180b155f5a892414edb0a8590a4247,openstack/tripleo-operator-ansible,master,Ia24350cb44180b155f5a892414edb0a8590a4247,trivial: document undocumented debug parameter,MERGED,2020-07-17 19:36:46.000000000,2020-07-20 14:55:51.000000000,2020-07-20 14:55:51.000000000,"[{'_account_id': 3153}, {'_account_id': 9954}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 19:36:46.000000000', 'files': ['roles/tripleo_overcloud_node_introspect/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/3eefe989194e9b620c1dd67b7402abd1ec67a5fb', 'message': 'trivial: document undocumented debug parameter\n\nChange-Id: Ia24350cb44180b155f5a892414edb0a8590a4247\n'}]",0,741703,3eefe989194e9b620c1dd67b7402abd1ec67a5fb,8,5,1,5046,,,0,"trivial: document undocumented debug parameter

Change-Id: Ia24350cb44180b155f5a892414edb0a8590a4247
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/03/741703/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo_overcloud_node_introspect/README.md'],1,3eefe989194e9b620c1dd67b7402abd1ec67a5fb,,* `tripleo_overcloud_node_introspect_debug`: : (Boolean) Flag to print out the introspection command. Default: False,,1,0
openstack%2Ftripleo-quickstart~master~I408a1d74d8db0e95952a07fe272772c216452113,openstack/tripleo-quickstart,master,I408a1d74d8db0e95952a07fe272772c216452113,Rework resolv.conf,MERGED,2020-07-15 21:56:55.000000000,2020-07-20 14:49:29.000000000,2020-07-20 14:47:26.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-15 21:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d32474d8e3fa5b662fee7b8f0f4d763aa3c203f6', 'message': 'Move resolv.conf to own task\n\n- Move resolv.conf to own task\n- Change >> to > as it doesn\'t work with ""127.0.0.1""\n\nChange-Id: I408a1d74d8db0e95952a07fe272772c216452113\n'}, {'number': 2, 'created': '2020-07-16 11:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d410e9717f6821c908b633d8ec46ff29471e3bc7', 'message': 'Rework resolv.conf\n\n- Move resolv.conf to own task\n- Change >> to > as it doesn\'t work with ""127.0.0.1""\n- Set chattr +i so NetworkManager or dhcp-agent won\'t override\n  resolv.conf\n- Replace ""Folded Block"" to ""Include Block"" to remove ; at end of\n  multiline bash scripts.\n\nCo-Authored-By: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I408a1d74d8db0e95952a07fe272772c216452113\n'}, {'number': 3, 'created': '2020-07-16 12:10:51.000000000', 'files': ['roles/libvirt/setup/overcloud/tasks/register_vm.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dad177d92ed4bc27c1001732c3b1a7c513b19288', 'message': 'Rework resolv.conf\n\n- Move resolv.conf to own task\n- Change >> to > as it doesn\'t work with ""127.0.0.1""\n- Set chattr +i so NetworkManager or dhcp-agent won\'t override\n  resolv.conf\n- Replace ""Folded Block"" to ""Include Block"" to remove ; at end of\n  multiline bash scripts.\n\nCo-Authored-By: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I408a1d74d8db0e95952a07fe272772c216452113\n'}]",1,741330,dad177d92ed4bc27c1001732c3b1a7c513b19288,31,9,3,11090,,,0,"Rework resolv.conf

- Move resolv.conf to own task
- Change >> to > as it doesn't work with ""127.0.0.1""
- Set chattr +i so NetworkManager or dhcp-agent won't override
  resolv.conf
- Replace ""Folded Block"" to ""Include Block"" to remove ; at end of
  multiline bash scripts.

Co-Authored-By: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I408a1d74d8db0e95952a07fe272772c216452113
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/30/741330/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/libvirt/setup/overcloud/tasks/register_vm.yml'],1,d32474d8e3fa5b662fee7b8f0f4d763aa3c203f6,libvirt_resolv," - name: Set resolv.conf for {{ item.name }} delegate_to: ""{{ item.name }}"" shell: > echo ""nameserver {{ custom_nameserver }} "" > /etc/resolv.conf; echo ""append domain-name-servers {{ custom_nameserver }};"" >> /etc/dhcp/dhclient.conf become: true changed_when: true when: custom_nameserver is defined"," {% if custom_nameserver is defined and custom_nameserver %} echo ""nameserver {{ custom_nameserver }} "" >> /etc/resolv.conf; echo ""append domain-name-servers {{ custom_nameserver }};"" >> /etc/dhcp/dhclient.conf {% endif %}",9,4
openstack%2Fcharm-octavia-dashboard~master~Icd93c7289e2da3440b991b9d2cd389f4892c87f4,openstack/charm-octavia-dashboard,master,Icd93c7289e2da3440b991b9d2cd389f4892c87f4,Remove inherited configuration options invalid for charm,MERGED,2020-05-16 20:59:47.000000000,2020-07-20 14:46:59.000000000,2020-07-20 14:46:59.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-05-16 20:59:47.000000000', 'files': ['src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/df4cc4403327375f4f5cbc05ba18b3b21cad5150', 'message': 'Remove inherited configuration options invalid for charm\n\nChange-Id: Icd93c7289e2da3440b991b9d2cd389f4892c87f4\nCloses-Bug: #1879088\n'}]",0,728654,df4cc4403327375f4f5cbc05ba18b3b21cad5150,12,5,1,13686,,,0,"Remove inherited configuration options invalid for charm

Change-Id: Icd93c7289e2da3440b991b9d2cd389f4892c87f4
Closes-Bug: #1879088
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/54/728654/1 && git format-patch -1 --stdout FETCH_HEAD,['src/layer.yaml'],1,df4cc4403327375f4f5cbc05ba18b3b21cad5150,bug/1879088, - ssl_cert - ssl_key,,2,0
openstack%2Fcharm-barbican-softhsm~master~I33a9602793c2a19d8d21e4524999c5c2dd51e85f,openstack/charm-barbican-softhsm,master,I33a9602793c2a19d8d21e4524999c5c2dd51e85f,Remove inherited configuration options invalid for charm,MERGED,2020-05-16 21:11:08.000000000,2020-07-20 14:46:50.000000000,2020-07-20 14:46:50.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-05-16 21:11:08.000000000', 'files': ['src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/161aaef2f27eff288bdb3de8afc2bfe693d804cc', 'message': 'Remove inherited configuration options invalid for charm\n\nChange-Id: I33a9602793c2a19d8d21e4524999c5c2dd51e85f\nCloses-Bug: #1879088\n'}]",0,728656,161aaef2f27eff288bdb3de8afc2bfe693d804cc,11,5,1,13686,,,0,"Remove inherited configuration options invalid for charm

Change-Id: I33a9602793c2a19d8d21e4524999c5c2dd51e85f
Closes-Bug: #1879088
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/56/728656/1 && git format-patch -1 --stdout FETCH_HEAD,['src/layer.yaml'],1,161aaef2f27eff288bdb3de8afc2bfe693d804cc,bug/1879088,config: deletes: - debug - verbose - use-internal-endpoints - use-syslog - ssl_ca - ssl_cert - ssl_key,,9,0
openstack%2Fcharm-manila-ganesha~master~Icd8b168116a9025e4917653a5144586637718d51,openstack/charm-manila-ganesha,master,Icd8b168116a9025e4917653a5144586637718d51,Remove inherited configuration options invalid for charm,MERGED,2020-05-18 07:05:03.000000000,2020-07-20 14:46:00.000000000,2020-07-20 14:46:00.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-05-18 07:05:03.000000000', 'files': ['src/icon.svg', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/19d3af1ebcf393ca09bbdfc4d5aadfe79a24df43', 'message': 'Remove inherited configuration options invalid for charm\n\nAdd missing icon.\n\nChange-Id: Icd8b168116a9025e4917653a5144586637718d51\nCloses-Bug: #1879088\n'}]",0,728753,19d3af1ebcf393ca09bbdfc4d5aadfe79a24df43,9,4,1,13686,,,0,"Remove inherited configuration options invalid for charm

Add missing icon.

Change-Id: Icd8b168116a9025e4917653a5144586637718d51
Closes-Bug: #1879088
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/53/728753/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/icon.svg', 'src/layer.yaml']",2,19d3af1ebcf393ca09bbdfc4d5aadfe79a24df43,bug/1879088, include_system_packages: False config: deletes: - region - ssl_ca - ssl_cert - ssl_key - verbose , include_system_packages: False,214,249
openstack%2Fcharm-cinder-purestorage~master~I7e0023acc1277a0edbdda09b6069a7c8e62c2b0a,openstack/charm-cinder-purestorage,master,I7e0023acc1277a0edbdda09b6069a7c8e62c2b0a,Remove inherited configuration options invalid for charm,MERGED,2020-05-16 21:24:57.000000000,2020-07-20 14:38:31.000000000,2020-07-20 14:38:31.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-05-16 21:24:57.000000000', 'files': ['src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/761a970780d03f203259a6964fad7f0a6fe0e1bb', 'message': 'Remove inherited configuration options invalid for charm\n\nChange-Id: I7e0023acc1277a0edbdda09b6069a7c8e62c2b0a\nCloses-Bug: #1879088\n'}]",0,728659,761a970780d03f203259a6964fad7f0a6fe0e1bb,11,5,1,13686,,,0,"Remove inherited configuration options invalid for charm

Change-Id: I7e0023acc1277a0edbdda09b6069a7c8e62c2b0a
Closes-Bug: #1879088
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/59/728659/1 && git format-patch -1 --stdout FETCH_HEAD,['src/layer.yaml'],1,761a970780d03f203259a6964fad7f0a6fe0e1bb,bug/1879088, - ssl_cert - ssl_key repo: https://github.com/openstack-charmers/charm-cinder-purestorage ,repo: https://github.com/openstack-charmers/charm-cinder-purestorage,3,1
openstack%2Fcharm-octavia-dashboard~master~Ifd096de5ad0c58d3798567608ea99f258d98e1bf,openstack/charm-octavia-dashboard,master,Ifd096de5ad0c58d3798567608ea99f258d98e1bf,Remove inherited configuration options invalid for charm,MERGED,2020-05-18 07:55:18.000000000,2020-07-20 14:38:01.000000000,2020-07-20 14:38:00.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-05-18 07:55:18.000000000', 'files': ['src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/0a41348eabd990753da0de1b905f41f0727209e6', 'message': 'Remove inherited configuration options invalid for charm\n\nChange-Id: Ifd096de5ad0c58d3798567608ea99f258d98e1bf\nCloses-Bug: #1879088\n'}]",0,728770,0a41348eabd990753da0de1b905f41f0727209e6,9,4,1,13686,,,0,"Remove inherited configuration options invalid for charm

Change-Id: Ifd096de5ad0c58d3798567608ea99f258d98e1bf
Closes-Bug: #1879088
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/70/728770/1 && git format-patch -1 --stdout FETCH_HEAD,['src/layer.yaml'],1,0a41348eabd990753da0de1b905f41f0727209e6,bug/1879088, - ssl_cert - ssl_key,,2,0
openstack%2Fneutron~master~Idcf103782eaa6ad2292482d8a5cbb6375d3fcd6e,openstack/neutron,master,Idcf103782eaa6ad2292482d8a5cbb6375d3fcd6e,grenade: Explicitly enable ml2/ovs,ABANDONED,2020-07-08 07:57:23.000000000,2020-07-20 14:36:44.000000000,,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-08 07:57:23.000000000', 'files': ['zuul.d/grenade.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d318019a1103e6050e7ac972ebc8a711f391e68d', 'message': ""grenade: Explicitly enable ml2/ovs\n\nThis patch is a part of switching ovn as a default in devstack\ninitiative. However, grenade will keep running with ml2/ovs for now.\nThis patch explicitly sets variables to deploy ml2/ovs, even though it's\nstill a default now.\n\nChange-Id: Idcf103782eaa6ad2292482d8a5cbb6375d3fcd6e\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}]",0,739915,d318019a1103e6050e7ac972ebc8a711f391e68d,4,4,1,8655,,,0,"grenade: Explicitly enable ml2/ovs

This patch is a part of switching ovn as a default in devstack
initiative. However, grenade will keep running with ml2/ovs for now.
This patch explicitly sets variables to deploy ml2/ovs, even though it's
still a default now.

Change-Id: Idcf103782eaa6ad2292482d8a5cbb6375d3fcd6e
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/739915/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/grenade.yaml'],1,d318019a1103e6050e7ac972ebc8a711f391e68d,ovn-devstack," name: neutron-ovs-grenade-base grenade_devstack_localrc: shared: Q_AGENT: openvswitch Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,linuxbridge - job: name: neutron-grenade-multinode parent: neutron-ovs-grenade-base vars: parent: neutron-ovs-grenade-base", name: neutron-grenade-multinode parent: grenade-multinode required-projects: - openstack/grenade - openstack/neutron,12,5
openstack%2Fcharm-hacluster~master~I2a704c1221bda242caaa5e87849d9984db3c6b71,openstack/charm-hacluster,master,I2a704c1221bda242caaa5e87849d9984db3c6b71,Remove old configure_stonith,MERGED,2020-06-03 12:46:26.000000000,2020-07-20 14:34:21.000000000,2020-07-20 14:34:21.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-03 12:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/496f3d8f75c289489ee6bf50a523321c89482595', 'message': 'Remove old configure_stonith\n\nThe old configure_stonith last worked on xenial. This patch bypassies\nit given it is broken and it is interfering with the new pacemaker\nremote stonith resource setup. The code will be removed by a follow\nup patch. This patch is designed to be small for easy cherry picking.\n\nChange-Id: I2a704c1221bda242caaa5e87849d9984db3c6b71\nPartial-Bug: # 1881114\n'}, {'number': 2, 'created': '2020-06-03 13:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/d266ed8da7e6f7e8e2c11b4512a1cd898ee3405b', 'message': 'Remove old configure_stonith\n\nThe old configure_stonith last worked on xenial. This patch bypassies\nit given it is broken and it is interfering with the new pacemaker\nremote stonith resource setup. The code will be removed by a follow\nup patch. This patch is designed to be small for easy cherry picking.\n\nChange-Id: I2a704c1221bda242caaa5e87849d9984db3c6b71\nPartial-Bug: # 1881114\n'}, {'number': 3, 'created': '2020-06-06 07:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/295c9a694051e41322f914d1d18cd3e96fd2497a', 'message': 'Remove old configure_stonith\n\nThe old configure_stonith last worked on xenial. This patch bypassies\nit given it is broken and it is interfering with the new pacemaker\nremote stonith resource setup. The code will be removed by a follow\nup patch. This patch is designed to be small for easy cherry picking.\n\nChange-Id: I2a704c1221bda242caaa5e87849d9984db3c6b71\nPartial-Bug: # 1881114\n'}, {'number': 4, 'created': '2020-06-09 08:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/32e790e9f0dc6495c5a620e8334e5321e6bc070e', 'message': 'Remove old configure_stonith\n\nThe old configure_stonith last worked on xenial. This patch bypassies\nit given it is broken and it is interfering with the new pacemaker\nremote stonith resource setup. The code will be removed by a follow\nup patch. This patch is designed to be small for easy cherry picking.\n\nChange-Id: I2a704c1221bda242caaa5e87849d9984db3c6b71\nPartial-Bug: # 1881114\n'}, {'number': 5, 'created': '2020-06-25 05:10:38.000000000', 'files': ['hooks/utils.py', 'unit_tests/test_hacluster_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/eaaa5e5bd8d154016eb785c6655962633217213b', 'message': 'Remove old configure_stonith\n\nThe old configure_stonith last worked on xenial. This patch bypassies\nit given it is broken and it is interfering with the new pacemaker\nremote stonith resource setup. The code will be removed by a follow\nup patch. This patch is designed to be small for easy cherry picking.\n\nChange-Id: I2a704c1221bda242caaa5e87849d9984db3c6b71\nPartial-Bug: #1881114\n'}]",1,733128,eaaa5e5bd8d154016eb785c6655962633217213b,24,5,5,12549,,,0,"Remove old configure_stonith

The old configure_stonith last worked on xenial. This patch bypassies
it given it is broken and it is interfering with the new pacemaker
remote stonith resource setup. The code will be removed by a follow
up patch. This patch is designed to be small for easy cherry picking.

Change-Id: I2a704c1221bda242caaa5e87849d9984db3c6b71
Partial-Bug: #1881114
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/28/733128/5 && git format-patch -1 --stdout FETCH_HEAD,['hooks/hooks.py'],1,496f3d8f75c289489ee6bf50a523321c89482595,bug/1881114, configure_pacemaker_remote_stonith_resource() configure_pacemaker_remote_stonith_resource()," configure_stonith, configure_stonith() configure_stonith()",2,3
openstack%2Fcharm-placement~master~I018f486627cc870a8733e7fd945075d888dda6b9,openstack/charm-placement,master,I018f486627cc870a8733e7fd945075d888dda6b9,Remove inherited configuration options invalid for charm,MERGED,2020-05-18 08:03:21.000000000,2020-07-20 14:30:55.000000000,2020-07-20 14:30:54.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-05-18 08:03:21.000000000', 'files': ['src/icon.svg', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/4e3a6c7eddee8b7123b98592e58beda3a51b8dee', 'message': 'Remove inherited configuration options invalid for charm\n\nAdd missing icon.\n\nChange-Id: I018f486627cc870a8733e7fd945075d888dda6b9\nCloses-Bug: #1879088\n'}]",0,728772,4e3a6c7eddee8b7123b98592e58beda3a51b8dee,10,4,1,13686,,,0,"Remove inherited configuration options invalid for charm

Add missing icon.

Change-Id: I018f486627cc870a8733e7fd945075d888dda6b9
Closes-Bug: #1879088
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/72/728772/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/icon.svg', 'src/layer.yaml']",2,4e3a6c7eddee8b7123b98592e58beda3a51b8dee,bug/1879088, - ssl_ca - ssl_cert - ssl_key - use-syslog - worker-multiplier,,241,0
openstack%2Ftripleo-quickstart-extras~master~Iaa53097780b1bf4d7dc31666e59f559c6d9348b1,openstack/tripleo-quickstart-extras,master,Iaa53097780b1bf4d7dc31666e59f559c6d9348b1,Fix Syntax Error in reproducer script,MERGED,2020-07-20 05:14:06.000000000,2020-07-20 14:26:26.000000000,2020-07-20 14:26:26.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-20 05:14:06.000000000', 'files': ['roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2d0019061ebc9cb6d68131ec9ba00e9b602f5eaf', 'message': 'Fix Syntax Error in reproducer script\n\nWrong variable name was used and space was missing,\nthis patch fixes these.\n\nChange-Id: Iaa53097780b1bf4d7dc31666e59f559c6d9348b1\n'}]",1,741870,2d0019061ebc9cb6d68131ec9ba00e9b602f5eaf,10,6,1,13861,,,0,"Fix Syntax Error in reproducer script

Wrong variable name was used and space was missing,
this patch fixes these.

Change-Id: Iaa53097780b1bf4d7dc31666e59f559c6d9348b1
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/70/741870/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2'],1,2d0019061ebc9cb6d68131ec9ba00e9b602f5eaf,,"if [[ ""$CONTAINER_MODE"" == ""docker"" ]]; then","if [[ ""$CONTAINER_CLI"" == ""docker""]]; then",1,1
openstack%2Frally-openstack~master~Ia25148e08e33d80ea9d021d5e16f87153b902d94,openstack/rally-openstack,master,Ia25148e08e33d80ea9d021d5e16f87153b902d94,Use NeutronService helper instead of network wrapper,MERGED,2020-04-28 12:14:08.000000000,2020-07-20 14:10:11.000000000,2020-07-20 14:10:11.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}, {'_account_id': 30657}, {'_account_id': 31868}]","[{'number': 1, 'created': '2020-04-28 12:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/285f05e11e6bc0f7c9ab993d200d925e7cf0113e', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 2, 'created': '2020-04-28 13:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/2a0db98b2005173ddf3aa5b921322c06dbb11987', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 3, 'created': '2020-04-28 13:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/e6120133d6aa562663b907abdf84eee5683eb427', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 4, 'created': '2020-04-28 19:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/4dbb0e6e7430a2c29aaa039d372c2766c92f1ed3', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 5, 'created': '2020-04-28 20:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/24e4b25162dee8a463f1584ec3affb77d85ff222', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 6, 'created': '2020-04-29 09:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/378d5cb780b5cce9753dea2fd72a88d654127d74', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 7, 'created': '2020-04-29 11:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/cc8fa38dbe51458b29f38a5d2e7e099ccb9d0790', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 8, 'created': '2020-04-29 12:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/f9243236a96695544600a6e624752ae17ccdcd92', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 9, 'created': '2020-04-29 13:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/bc55215d962b65665f68790461444518ca6f3b7c', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 10, 'created': '2020-04-29 16:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/92a4e874f1ca3ad8adfb8cf038c6fb3ec69d1d31', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 11, 'created': '2020-04-29 16:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/e04e402e7ada84e4a9cc040d58354ca8396b0393', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 12, 'created': '2020-04-29 16:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6b72c9a728c092e3fa2d747992cd0206cb012da7', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 13, 'created': '2020-05-01 13:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/41ab1bac5c00d30859bba53a27365e0c8bd6d29c', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 14, 'created': '2020-05-04 13:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/9e6b0b1e15dcf6641ac2e208d2b7c47c40fe7bba', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 15, 'created': '2020-05-04 16:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6dcef6a46fa8ceaa4c85a0447b64e561e6e748e8', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 16, 'created': '2020-05-04 16:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ff5fcc5354e42c1a334f775566f1a032c8d207d7', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 17, 'created': '2020-05-04 18:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/449c7c44f4aedf690eed44de24084347747a69ac', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 18, 'created': '2020-05-04 19:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ae6803c5c33e2b981fe7d8cf628a13e6b5cd5f53', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 19, 'created': '2020-05-04 20:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/753a20f6b01048464f6fd91fdf33e8544e8bb145', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 20, 'created': '2020-05-05 07:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ba31d21117e07b6e68ed192c7305f9b2540b243e', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 21, 'created': '2020-05-05 07:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/f5126ae4cd9181fd4048a955ede44fa615c5dcae', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 22, 'created': '2020-05-05 08:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/18067b3e3c3e533b739ec4a80df963d28bb0894f', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 23, 'created': '2020-05-05 12:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/34ea03f73049bc3c4aff1fa8d7dbb311926c940e', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 24, 'created': '2020-05-05 17:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/5d7ecfb119f114b82fd78ecb44f76e80fffd22bb', 'message': '[wip] Use NeutronService helper at networks context\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 25, 'created': '2020-05-06 11:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/458660fba66c12c71c5aa5e1e3f468a1203ba2d0', 'message': 'Use NeutronService helper instead of nework wrapper\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 26, 'created': '2020-05-06 14:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/bc731fd9eb01c2473b3b21ecf5ec80f194090bf7', 'message': 'Use NeutronService helper instead of nework wrapper\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 27, 'created': '2020-05-06 17:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/9de53c99b9ca05c8e2235c5fc8ac96f89010c4d4', 'message': 'Use NeutronService helper instead of nework wrapper\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 28, 'created': '2020-07-17 11:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/7d34cf3970fc8604b4548b10384737da614baa33', 'message': 'Use NeutronService helper instead of network wrapper\n\nThis change allows to use network context without admin user\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 29, 'created': '2020-07-18 08:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/05da4311ec5a5f8e3edb89d6ca61fe69409a47a4', 'message': 'Use NeutronService helper instead of network wrapper\n\nThis change allows to use network context without admin user\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 30, 'created': '2020-07-18 19:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/7b35e8f5a9611ac9743c584b3422337ccd4d7d08', 'message': 'Use NeutronService helper instead of network wrapper\n\nThis change allows to use network context without admin user\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}, {'number': 31, 'created': '2020-07-20 11:06:45.000000000', 'files': ['rally_openstack/common/wrappers/network.py', 'rally_openstack/task/contexts/keystone/users.py', 'rally-jobs/neutron.yaml', 'samples/tasks/scenarios/neutron/create-and-update-ports.yaml', 'samples/tasks/scenarios/neutron/create-and-update-subnets.json', 'rally-jobs/rally-mos.yaml', 'samples/tasks/scenarios/neutron/create-and-update-routers.json', 'samples/tasks/scenarios/neutron/create-and-update-networks.yaml', 'samples/tasks/scenarios/neutron/create-and-update-subnets.yaml', 'tests/unit/task/contexts/keystone/test_users.py', 'rally_openstack/task/scenarios/neutron/utils.py', 'tests/unit/verification/tempest/test_context.py', 'rally_openstack/task/scenarios/neutron/network.py', 'tests/unit/task/scenarios/vm/test_utils.py', '.zuul.d/zuul.yaml', 'rally_openstack/verification/tempest/context.py', 'CHANGELOG.rst', 'tests/unit/task/scenarios/neutron/test_utils.py', 'tests/unit/task/scenarios/neutron/test_network.py', 'rally_openstack/common/services/network/neutron.py', 'rally_openstack/task/scenarios/vm/utils.py', 'rally_openstack/task/scenarios/nova/servers.py', 'samples/tasks/scenarios/neutron/create-and-update-routers.yaml', 'tests/ci/cover.sh', 'tests/unit/task/scenarios/nova/test_servers.py', 'tests/unit/task/contexts/network/test_network.py', 'rally_openstack/common/osclients.py', 'rally_openstack/task/contexts/network/allow_ssh.py', 'samples/tasks/scenarios/neutron/create-and-update-networks.json', 'samples/tasks/scenarios/neutron/create-and-update-ports.json', 'rally-jobs/basic-with-existing-users.yaml', 'rally_openstack/task/contexts/network/networks.py', 'tasks/openstack/scenario/neutron.yaml', 'tests/unit/common/wrappers/test_network.py', 'tests/unit/task/contexts/network/test_allow_ssh.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/4c207ae082427adf642860f25a789b2bc8951bfd', 'message': 'Use NeutronService helper instead of network wrapper\n\nThis change allows to use network context without admin user\n\nChange-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94\n'}]",0,723879,4c207ae082427adf642860f25a789b2bc8951bfd,65,4,31,9545,,,0,"Use NeutronService helper instead of network wrapper

This change allows to use network context without admin user

Change-Id: Ia25148e08e33d80ea9d021d5e16f87153b902d94
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/79/723879/27 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/task/contexts/network/networks.py'],1,285f05e11e6bc0f7c9ab993d200d925e7cf0113e,net_wrapper,"from rally_openstack.common.services.network import neutron client = neutron.NeutronService( user[""credential""].clients(), name_generator=self.generate_random_name, atomic_inst=self.atomic_actions() ) for i in range(self.config[""networks_per_tenant""]): subnet_create_args = { ""dns_nameservers"": self.config[""dns_nameservers""], ""start_cidr"": (self.config[""start_cidr""] if not self.config[""dualstack""] else None) } router_create_args = dict(self.config[""router""]) external = router_create_args.pop(""external"") router_create_args[""discover_external_gw""] = external net_infra = client.create_network_infrastructure( subnet_create_args=subnet_create_args, subnets_dualstack=self.config[""dualstack""], subnets_count=self.config[""subnets_per_network""], router_create_args=router_create_args) for user, tenant_id in self._iterate_per_tenants(): client = neutron.NeutronService( user[""credential""].clients(), atomic_inst=self.atomic_actions() ) for net in self.context[""tenants""][tenant_id][""networks""]: client.delete_network_infrastructure(net)","from rally_openstack.common import osclients from rally_openstack.common.wrappers import network as network_wrapper net_wrapper = network_wrapper.wrap( osclients.Clients(self.context[""admin""][""credential""]), self, config=self.config ) kwargs = {} if self.config[""dns_nameservers""] is not None: kwargs[""dns_nameservers""] = self.config[""dns_nameservers""] for i in range(self.config[""networks_per_tenant""]): net_infra = net_wrapper._create_network_infrastructure( tenant_id, dualstack=self.config[""dualstack""], subnets_num=self.config[""subnets_per_network""], router_create_args=self.config[""router""], **kwargs) net_wrapper = network_wrapper.wrap( osclients.Clients(self.context[""admin""][""credential""]), self, config=self.config) for tenant_id, tenant_ctx in self.context[""tenants""].items(): for network in tenant_ctx.get(""networks"", []): with logging.ExceptionLogger( LOG, ""Failed to delete network for tenant %s"" % tenant_id): net_wrapper.delete_network(network)",31,25
openstack%2Freleases~master~I2c67923f67d9922e1fcb9d6a915e099456072dcc,openstack/releases,master,I2c67923f67d9922e1fcb9d6a915e099456072dcc,Release octavia-lib 2.1.0,MERGED,2020-07-20 09:39:46.000000000,2020-07-20 13:50:43.000000000,2020-07-20 13:50:43.000000000,"[{'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-20 09:39:46.000000000', 'files': ['deliverables/victoria/octavia-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b100efdea74253b4f74727abbbd825b76765af2e', 'message': 'Release octavia-lib 2.1.0\n\nChange-Id: I2c67923f67d9922e1fcb9d6a915e099456072dcc\n'}]",0,741901,b100efdea74253b4f74727abbbd825b76765af2e,8,4,1,6469,,,0,"Release octavia-lib 2.1.0

Change-Id: I2c67923f67d9922e1fcb9d6a915e099456072dcc
",git fetch https://review.opendev.org/openstack/releases refs/changes/01/741901/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/octavia-lib.yaml'],1,b100efdea74253b4f74727abbbd825b76765af2e,,releases: - version: 2.1.0 projects: - repo: openstack/octavia-lib hash: ec7195d713d71370fa6a72d3839253b9789b3b4e,,5,0
openstack%2Fproject-team-guide~master~Ib33823e449ab98455f83a5be703b69ca3b886039,openstack/project-team-guide,master,Ib33823e449ab98455f83a5be703b69ca3b886039,Import the Zuul v3 porting guide,MERGED,2020-07-13 16:28:53.000000000,2020-07-20 13:41:26.000000000,2020-07-20 13:39:00.000000000,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 16:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/836c9de74760d4817f909ac1d9e8391ad9712292', 'message': 'Import the Zuul v3 porting guide\n\nThe guide needs a reference location. It was removed from\nopendev/infra-manual via https://review.opendev.org/711325.\nThis change adds a bit of introduction and and imports\nthe last version of the guide almost unchanged:\n- minimal changes to few then-internal references, now external;\n- a few formatting fixes (long lines).\n\nThis is a squashed version of zuulv3.rst which comes from\nthe following Change-Id-s:\n\nI0db0a753e17d671ee64ea7a87e065c958dd94850\nI2a5fb17c5ec1cb76693bf55ff25ffda6cc84759e\nI4bfb63bf99c8528494d73f5f50018a2636b5bc37\nIe79726677c3c3ad5204fa6c1b3d3c0dfa25d7ebb\nI720e1532f177d26fbb50f00dbc612422aa60c3bd\nI51bd6c5bbcb8135c3ea4fed6941613643a3bcead\nI0f8878901ce0302c89a40b9190dd806b2f5a85e8\nIc08e914be065ff9f4ec6b489c9d1d9915ff284f8\nI837ba17307cd81b4339c2a1350692e3186146fb3\nI33bab470f04a00b978b8cf22416ac4d0d805b4ef\nIdded1004ffaebe51010fa52dad696f19f721d526\nIbe8dfe1ce3723dee8d682a7d3fa4cb57561614d9\nIea9b8386e22c8801343e5405d7a1a249a93df7d9\nId02e8c89fd212d527f8efcc575eb5541ed06a3ad\nI2b4b4a9c3d9009cc618b7ebba666582e4cf03a08\nI2b150ccf7e712ddfaf9ab61a20e986630ce94501\nIc372436b97fc26173767033346172883c2f91a37\nI5e69c55b9b7ea2c3654f4a231005107f7ead0430\nI084c0e930fb4b7899e4d233f9529642bbcf19a7d\nIf36eed0a720f3e4747b81359687a9e5df417c0fe\nIbf79b03c33fb82d2e55016e1e1225b0d9dba6f1e\nIb3102f270f94eb689b81dd719574b1113bccba19\nIb78c43e4a38c3976ca9180fb68bbfb5eedaf3df7\nIf30ddf3f32bc49e8c764b123ac760a34bcae9cec\nI2e099e0d90e0450fba89ac985de3aa646836367d\nI0d3a3dfe4015dc8ea9f7d3957fe5de29c3e2283b\nI3156520772db4de7cc90fcfc274b3dac957538e4\nI09a0f9ecb3bba693caac67958675cce7fd554a5e\nIa2b71fbd2cf5a7848db1648278350c91e757a324\nIb8062210854e1979aa1f56bd7c0f5af8e578decc\nI79ec68b995c5acc431b6cc8007ffd00808c89ff0\nI112005d360f23648985d6691200d07476c622d70\nI1649c64e2e7b2bd9b6324f44a8a50bce6f2fdb98\nIe85c7ebc1a1c9f646316e8c7e6d6eb7eea8a23d3\nI73970d0b70c1de919e28d669a531e6d6d2bbef71\nI8bbf3d937b71847ea499539b50283bb1f255d1f3\nI21dbdb66962b44eba460300ade8f28869f8b9c07\nIacd4f3057c3e33396f6930283177460624ff102c\nI52417a26587b42c4e18a5d81dbb84643f1b36115\nIe2f37c17747e1f22e517457e39e3721d00d27ab6\nIa093e69ca515895221258240d74d30065c76eabf\nIc690f2e680992d365c760ca8f94b85d7ba78bbc7\nIe313d59dfaf1a0ab1a5a87f53e270d40c6206c21\nI68e9320570227ce53bae422cd93253f8d561cb66\nI542c8f7cd383415b0b1e421ad68685d62ebed9a1\nI2f720a9e6ff3c10ac05852d7d102878f418bd5cf\nId44c3eda204456af3dfa6d616ff44c107088fb40\nIe2f414d271bc1ee649b50e24cc3aa6bc80c973c6\nI19493c9fb9f07561c9627e080ed24c0a58164a53\nI7b467cb8b13e614d382c4801aa244e34ce827065\nIeb1f88e07eb0660f62699819d4be833d5d794e65\nIdb46fc3c6fc07aad8fa2f4e20b43785bccd90547\nIafad5ae4997c94e1c517bab1fb794ff5d6a34251\nIa4ee7f2c8c623ea0054c41007b16aeed65d13e35\n\nChange-Id: Ib33823e449ab98455f83a5be703b69ca3b886039\nCo-Authored-By: James E. Blair <jeblair@redhat.com>\nCo-Authored-By: Andreas Jaeger <aj@suse.com>\nCo-Authored-By: Monty Taylor <mordred@inaugust.com>\nCo-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>\nCo-Authored-By: Clark Boylan <clark.boylan@gmail.com>\nCo-Authored-By: David Moreau-Simard <dmsimard@redhat.com>\nCo-Authored-By: Doug Hellmann <doug@doughellmann.com>\nCo-Authored-By: François Magimel <francois.magimel@alumni.enseeiht.fr>\nCo-Authored-By: Jan Zerebecki <jan.openstack@zerebecki.de>\nCo-Authored-By: Jeremy Stanley <fungi@yuggoth.org>\nCo-Authored-By: Jesse Keating <omgjlk@us.ibm.com>\nCo-Authored-By: Julien Danjou <julien@danjou.info>\nCo-Authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\nCo-Authored-By: YAMAMOTO Takashi <yamamoto@midokura.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\n'}, {'number': 2, 'created': '2020-07-13 16:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/ac6a37aeb60433a9b29188e649fece3cab845aba', 'message': 'Import the Zuul v3 porting guide\n\nThe guide needs a reference location. It was removed from\nopendev/infra-manual via https://review.opendev.org/711325.\nThis change adds a bit of introduction and and imports\nthe last version of the guide almost unchanged:\n- minimal changes to few then-internal references, now external;\n- a few formatting fixes (long lines).\n\nThis is a squashed version of zuulv3.rst which comes from\nthe following Change-Id-s:\n\nI0db0a753e17d671ee64ea7a87e065c958dd94850\nI2a5fb17c5ec1cb76693bf55ff25ffda6cc84759e\nI4bfb63bf99c8528494d73f5f50018a2636b5bc37\nIe79726677c3c3ad5204fa6c1b3d3c0dfa25d7ebb\nI720e1532f177d26fbb50f00dbc612422aa60c3bd\nI51bd6c5bbcb8135c3ea4fed6941613643a3bcead\nI0f8878901ce0302c89a40b9190dd806b2f5a85e8\nIc08e914be065ff9f4ec6b489c9d1d9915ff284f8\nI837ba17307cd81b4339c2a1350692e3186146fb3\nI33bab470f04a00b978b8cf22416ac4d0d805b4ef\nIdded1004ffaebe51010fa52dad696f19f721d526\nIbe8dfe1ce3723dee8d682a7d3fa4cb57561614d9\nIea9b8386e22c8801343e5405d7a1a249a93df7d9\nId02e8c89fd212d527f8efcc575eb5541ed06a3ad\nI2b4b4a9c3d9009cc618b7ebba666582e4cf03a08\nI2b150ccf7e712ddfaf9ab61a20e986630ce94501\nIc372436b97fc26173767033346172883c2f91a37\nI5e69c55b9b7ea2c3654f4a231005107f7ead0430\nI084c0e930fb4b7899e4d233f9529642bbcf19a7d\nIf36eed0a720f3e4747b81359687a9e5df417c0fe\nIbf79b03c33fb82d2e55016e1e1225b0d9dba6f1e\nIb3102f270f94eb689b81dd719574b1113bccba19\nIb78c43e4a38c3976ca9180fb68bbfb5eedaf3df7\nIf30ddf3f32bc49e8c764b123ac760a34bcae9cec\nI2e099e0d90e0450fba89ac985de3aa646836367d\nI0d3a3dfe4015dc8ea9f7d3957fe5de29c3e2283b\nI3156520772db4de7cc90fcfc274b3dac957538e4\nI09a0f9ecb3bba693caac67958675cce7fd554a5e\nIa2b71fbd2cf5a7848db1648278350c91e757a324\nIb8062210854e1979aa1f56bd7c0f5af8e578decc\nI79ec68b995c5acc431b6cc8007ffd00808c89ff0\nI112005d360f23648985d6691200d07476c622d70\nI1649c64e2e7b2bd9b6324f44a8a50bce6f2fdb98\nIe85c7ebc1a1c9f646316e8c7e6d6eb7eea8a23d3\nI73970d0b70c1de919e28d669a531e6d6d2bbef71\nI8bbf3d937b71847ea499539b50283bb1f255d1f3\nI21dbdb66962b44eba460300ade8f28869f8b9c07\nIacd4f3057c3e33396f6930283177460624ff102c\nI52417a26587b42c4e18a5d81dbb84643f1b36115\nIe2f37c17747e1f22e517457e39e3721d00d27ab6\nIa093e69ca515895221258240d74d30065c76eabf\nIc690f2e680992d365c760ca8f94b85d7ba78bbc7\nIe313d59dfaf1a0ab1a5a87f53e270d40c6206c21\nI68e9320570227ce53bae422cd93253f8d561cb66\nI542c8f7cd383415b0b1e421ad68685d62ebed9a1\nI2f720a9e6ff3c10ac05852d7d102878f418bd5cf\nId44c3eda204456af3dfa6d616ff44c107088fb40\nIe2f414d271bc1ee649b50e24cc3aa6bc80c973c6\nI19493c9fb9f07561c9627e080ed24c0a58164a53\nI7b467cb8b13e614d382c4801aa244e34ce827065\nIeb1f88e07eb0660f62699819d4be833d5d794e65\nIdb46fc3c6fc07aad8fa2f4e20b43785bccd90547\nIafad5ae4997c94e1c517bab1fb794ff5d6a34251\nIa4ee7f2c8c623ea0054c41007b16aeed65d13e35\n\nCo-Authored-By: James E. Blair <jeblair@redhat.com>\nCo-Authored-By: Andreas Jaeger <aj@suse.com>\nCo-Authored-By: Monty Taylor <mordred@inaugust.com>\nCo-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>\nCo-Authored-By: Clark Boylan <clark.boylan@gmail.com>\nCo-Authored-By: David Moreau-Simard <dmsimard@redhat.com>\nCo-Authored-By: Doug Hellmann <doug@doughellmann.com>\nCo-Authored-By: François Magimel <francois.magimel@alumni.enseeiht.fr>\nCo-Authored-By: Jan Zerebecki <jan.openstack@zerebecki.de>\nCo-Authored-By: Jeremy Stanley <fungi@yuggoth.org>\nCo-Authored-By: Jesse Keating <omgjlk@us.ibm.com>\nCo-Authored-By: Julien Danjou <julien@danjou.info>\nCo-Authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\nCo-Authored-By: YAMAMOTO Takashi <yamamoto@midokura.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\n\nChange-Id: Ib33823e449ab98455f83a5be703b69ca3b886039\n'}, {'number': 3, 'created': '2020-07-13 17:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/96a91d5c8de32046da1dce868afe786748eab9dc', 'message': 'Import the Zuul v3 porting guide\n\nThe guide needs a reference location. It was removed from\nopendev/infra-manual via https://review.opendev.org/711325.\nThis change adds a bit of introduction and and imports\nthe last version of the guide almost unchanged:\n- minimal changes to few then-internal references, now external;\n- a few formatting fixes (long lines).\n\nThis is a squashed version of zuulv3.rst which comes from\nthe following Change-Id-s:\n\nI0db0a753e17d671ee64ea7a87e065c958dd94850\nI2a5fb17c5ec1cb76693bf55ff25ffda6cc84759e\nI4bfb63bf99c8528494d73f5f50018a2636b5bc37\nIe79726677c3c3ad5204fa6c1b3d3c0dfa25d7ebb\nI720e1532f177d26fbb50f00dbc612422aa60c3bd\nI51bd6c5bbcb8135c3ea4fed6941613643a3bcead\nI0f8878901ce0302c89a40b9190dd806b2f5a85e8\nIc08e914be065ff9f4ec6b489c9d1d9915ff284f8\nI837ba17307cd81b4339c2a1350692e3186146fb3\nI33bab470f04a00b978b8cf22416ac4d0d805b4ef\nIdded1004ffaebe51010fa52dad696f19f721d526\nIbe8dfe1ce3723dee8d682a7d3fa4cb57561614d9\nIea9b8386e22c8801343e5405d7a1a249a93df7d9\nId02e8c89fd212d527f8efcc575eb5541ed06a3ad\nI2b4b4a9c3d9009cc618b7ebba666582e4cf03a08\nI2b150ccf7e712ddfaf9ab61a20e986630ce94501\nIc372436b97fc26173767033346172883c2f91a37\nI5e69c55b9b7ea2c3654f4a231005107f7ead0430\nI084c0e930fb4b7899e4d233f9529642bbcf19a7d\nIf36eed0a720f3e4747b81359687a9e5df417c0fe\nIbf79b03c33fb82d2e55016e1e1225b0d9dba6f1e\nIb3102f270f94eb689b81dd719574b1113bccba19\nIb78c43e4a38c3976ca9180fb68bbfb5eedaf3df7\nIf30ddf3f32bc49e8c764b123ac760a34bcae9cec\nI2e099e0d90e0450fba89ac985de3aa646836367d\nI0d3a3dfe4015dc8ea9f7d3957fe5de29c3e2283b\nI3156520772db4de7cc90fcfc274b3dac957538e4\nI09a0f9ecb3bba693caac67958675cce7fd554a5e\nIa2b71fbd2cf5a7848db1648278350c91e757a324\nIb8062210854e1979aa1f56bd7c0f5af8e578decc\nI79ec68b995c5acc431b6cc8007ffd00808c89ff0\nI112005d360f23648985d6691200d07476c622d70\nI1649c64e2e7b2bd9b6324f44a8a50bce6f2fdb98\nIe85c7ebc1a1c9f646316e8c7e6d6eb7eea8a23d3\nI73970d0b70c1de919e28d669a531e6d6d2bbef71\nI8bbf3d937b71847ea499539b50283bb1f255d1f3\nI21dbdb66962b44eba460300ade8f28869f8b9c07\nIacd4f3057c3e33396f6930283177460624ff102c\nI52417a26587b42c4e18a5d81dbb84643f1b36115\nIe2f37c17747e1f22e517457e39e3721d00d27ab6\nIa093e69ca515895221258240d74d30065c76eabf\nIc690f2e680992d365c760ca8f94b85d7ba78bbc7\nIe313d59dfaf1a0ab1a5a87f53e270d40c6206c21\nI68e9320570227ce53bae422cd93253f8d561cb66\nI542c8f7cd383415b0b1e421ad68685d62ebed9a1\nI2f720a9e6ff3c10ac05852d7d102878f418bd5cf\nId44c3eda204456af3dfa6d616ff44c107088fb40\nIe2f414d271bc1ee649b50e24cc3aa6bc80c973c6\nI19493c9fb9f07561c9627e080ed24c0a58164a53\nI7b467cb8b13e614d382c4801aa244e34ce827065\nIeb1f88e07eb0660f62699819d4be833d5d794e65\nIdb46fc3c6fc07aad8fa2f4e20b43785bccd90547\nIafad5ae4997c94e1c517bab1fb794ff5d6a34251\nIa4ee7f2c8c623ea0054c41007b16aeed65d13e35\n\nCo-Authored-By: James E. Blair <jeblair@redhat.com>\nCo-Authored-By: Andreas Jaeger <aj@suse.com>\nCo-Authored-By: Monty Taylor <mordred@inaugust.com>\nCo-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>\nCo-Authored-By: Clark Boylan <clark.boylan@gmail.com>\nCo-Authored-By: David Moreau-Simard <dmsimard@redhat.com>\nCo-Authored-By: Doug Hellmann <doug@doughellmann.com>\nCo-Authored-By: François Magimel <francois.magimel@alumni.enseeiht.fr>\nCo-Authored-By: Jan Zerebecki <jan.openstack@zerebecki.de>\nCo-Authored-By: Jeremy Stanley <fungi@yuggoth.org>\nCo-Authored-By: Jesse Keating <omgjlk@us.ibm.com>\nCo-Authored-By: Julien Danjou <julien@danjou.info>\nCo-Authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\nCo-Authored-By: YAMAMOTO Takashi <yamamoto@midokura.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\n\nChange-Id: Ib33823e449ab98455f83a5be703b69ca3b886039\n'}, {'number': 4, 'created': '2020-07-14 08:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/48226164ae02ac3c98fb6416592ff8fed3c27e4b', 'message': 'Import the Zuul v3 porting guide\n\nThe guide needs a reference location. It was removed from\nopendev/infra-manual via https://review.opendev.org/711325.\nThis change adds a bit of introduction and and imports\nthe last version of the guide almost unchanged:\n- minimal changes to few then-internal references, now external;\n- a few formatting fixes (long lines, broken links, etc).\n\nThis is a squashed version of zuulv3.rst which comes from\nthe following Change-Id-s:\n\nI0db0a753e17d671ee64ea7a87e065c958dd94850\nI2a5fb17c5ec1cb76693bf55ff25ffda6cc84759e\nI4bfb63bf99c8528494d73f5f50018a2636b5bc37\nIe79726677c3c3ad5204fa6c1b3d3c0dfa25d7ebb\nI720e1532f177d26fbb50f00dbc612422aa60c3bd\nI51bd6c5bbcb8135c3ea4fed6941613643a3bcead\nI0f8878901ce0302c89a40b9190dd806b2f5a85e8\nIc08e914be065ff9f4ec6b489c9d1d9915ff284f8\nI837ba17307cd81b4339c2a1350692e3186146fb3\nI33bab470f04a00b978b8cf22416ac4d0d805b4ef\nIdded1004ffaebe51010fa52dad696f19f721d526\nIbe8dfe1ce3723dee8d682a7d3fa4cb57561614d9\nIea9b8386e22c8801343e5405d7a1a249a93df7d9\nId02e8c89fd212d527f8efcc575eb5541ed06a3ad\nI2b4b4a9c3d9009cc618b7ebba666582e4cf03a08\nI2b150ccf7e712ddfaf9ab61a20e986630ce94501\nIc372436b97fc26173767033346172883c2f91a37\nI5e69c55b9b7ea2c3654f4a231005107f7ead0430\nI084c0e930fb4b7899e4d233f9529642bbcf19a7d\nIf36eed0a720f3e4747b81359687a9e5df417c0fe\nIbf79b03c33fb82d2e55016e1e1225b0d9dba6f1e\nIb3102f270f94eb689b81dd719574b1113bccba19\nIb78c43e4a38c3976ca9180fb68bbfb5eedaf3df7\nIf30ddf3f32bc49e8c764b123ac760a34bcae9cec\nI2e099e0d90e0450fba89ac985de3aa646836367d\nI0d3a3dfe4015dc8ea9f7d3957fe5de29c3e2283b\nI3156520772db4de7cc90fcfc274b3dac957538e4\nI09a0f9ecb3bba693caac67958675cce7fd554a5e\nIa2b71fbd2cf5a7848db1648278350c91e757a324\nIb8062210854e1979aa1f56bd7c0f5af8e578decc\nI79ec68b995c5acc431b6cc8007ffd00808c89ff0\nI112005d360f23648985d6691200d07476c622d70\nI1649c64e2e7b2bd9b6324f44a8a50bce6f2fdb98\nIe85c7ebc1a1c9f646316e8c7e6d6eb7eea8a23d3\nI73970d0b70c1de919e28d669a531e6d6d2bbef71\nI8bbf3d937b71847ea499539b50283bb1f255d1f3\nI21dbdb66962b44eba460300ade8f28869f8b9c07\nIacd4f3057c3e33396f6930283177460624ff102c\nI52417a26587b42c4e18a5d81dbb84643f1b36115\nIe2f37c17747e1f22e517457e39e3721d00d27ab6\nIa093e69ca515895221258240d74d30065c76eabf\nIc690f2e680992d365c760ca8f94b85d7ba78bbc7\nIe313d59dfaf1a0ab1a5a87f53e270d40c6206c21\nI68e9320570227ce53bae422cd93253f8d561cb66\nI542c8f7cd383415b0b1e421ad68685d62ebed9a1\nI2f720a9e6ff3c10ac05852d7d102878f418bd5cf\nId44c3eda204456af3dfa6d616ff44c107088fb40\nIe2f414d271bc1ee649b50e24cc3aa6bc80c973c6\nI19493c9fb9f07561c9627e080ed24c0a58164a53\nI7b467cb8b13e614d382c4801aa244e34ce827065\nIeb1f88e07eb0660f62699819d4be833d5d794e65\nIdb46fc3c6fc07aad8fa2f4e20b43785bccd90547\nIafad5ae4997c94e1c517bab1fb794ff5d6a34251\nIa4ee7f2c8c623ea0054c41007b16aeed65d13e35\n\nCo-Authored-By: James E. Blair <jeblair@redhat.com>\nCo-Authored-By: Andreas Jaeger <aj@suse.com>\nCo-Authored-By: Monty Taylor <mordred@inaugust.com>\nCo-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>\nCo-Authored-By: Clark Boylan <clark.boylan@gmail.com>\nCo-Authored-By: David Moreau-Simard <dmsimard@redhat.com>\nCo-Authored-By: Doug Hellmann <doug@doughellmann.com>\nCo-Authored-By: François Magimel <francois.magimel@alumni.enseeiht.fr>\nCo-Authored-By: Jan Zerebecki <jan.openstack@zerebecki.de>\nCo-Authored-By: Jeremy Stanley <fungi@yuggoth.org>\nCo-Authored-By: Jesse Keating <omgjlk@us.ibm.com>\nCo-Authored-By: Julien Danjou <julien@danjou.info>\nCo-Authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\nCo-Authored-By: YAMAMOTO Takashi <yamamoto@midokura.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\n\nChange-Id: Ib33823e449ab98455f83a5be703b69ca3b886039\n'}, {'number': 5, 'created': '2020-07-14 11:26:35.000000000', 'files': ['doc/source/zuulv3.rst', 'doc/source/testing.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/5a8b34fbba7c0744456f5d32167e0295f8578387', 'message': 'Import the Zuul v3 porting guide\n\nThe guide needs a reference location. It was removed from\nopendev/infra-manual via https://review.opendev.org/711325.\nThis change adds a bit of introduction and and imports\nthe last version of the guide almost unchanged:\n- minimal changes to few then-internal references, now external;\n- a few formatting fixes (long lines, broken links, etc).\n\nThis is a squashed version of zuulv3.rst which comes from\nthe following Change-Id-s:\n\nI0db0a753e17d671ee64ea7a87e065c958dd94850\nI2a5fb17c5ec1cb76693bf55ff25ffda6cc84759e\nI4bfb63bf99c8528494d73f5f50018a2636b5bc37\nIe79726677c3c3ad5204fa6c1b3d3c0dfa25d7ebb\nI720e1532f177d26fbb50f00dbc612422aa60c3bd\nI51bd6c5bbcb8135c3ea4fed6941613643a3bcead\nI0f8878901ce0302c89a40b9190dd806b2f5a85e8\nIc08e914be065ff9f4ec6b489c9d1d9915ff284f8\nI837ba17307cd81b4339c2a1350692e3186146fb3\nI33bab470f04a00b978b8cf22416ac4d0d805b4ef\nIdded1004ffaebe51010fa52dad696f19f721d526\nIbe8dfe1ce3723dee8d682a7d3fa4cb57561614d9\nIea9b8386e22c8801343e5405d7a1a249a93df7d9\nId02e8c89fd212d527f8efcc575eb5541ed06a3ad\nI2b4b4a9c3d9009cc618b7ebba666582e4cf03a08\nI2b150ccf7e712ddfaf9ab61a20e986630ce94501\nIc372436b97fc26173767033346172883c2f91a37\nI5e69c55b9b7ea2c3654f4a231005107f7ead0430\nI084c0e930fb4b7899e4d233f9529642bbcf19a7d\nIf36eed0a720f3e4747b81359687a9e5df417c0fe\nIbf79b03c33fb82d2e55016e1e1225b0d9dba6f1e\nIb3102f270f94eb689b81dd719574b1113bccba19\nIb78c43e4a38c3976ca9180fb68bbfb5eedaf3df7\nIf30ddf3f32bc49e8c764b123ac760a34bcae9cec\nI2e099e0d90e0450fba89ac985de3aa646836367d\nI0d3a3dfe4015dc8ea9f7d3957fe5de29c3e2283b\nI3156520772db4de7cc90fcfc274b3dac957538e4\nI09a0f9ecb3bba693caac67958675cce7fd554a5e\nIa2b71fbd2cf5a7848db1648278350c91e757a324\nIb8062210854e1979aa1f56bd7c0f5af8e578decc\nI79ec68b995c5acc431b6cc8007ffd00808c89ff0\nI112005d360f23648985d6691200d07476c622d70\nI1649c64e2e7b2bd9b6324f44a8a50bce6f2fdb98\nIe85c7ebc1a1c9f646316e8c7e6d6eb7eea8a23d3\nI73970d0b70c1de919e28d669a531e6d6d2bbef71\nI8bbf3d937b71847ea499539b50283bb1f255d1f3\nI21dbdb66962b44eba460300ade8f28869f8b9c07\nIacd4f3057c3e33396f6930283177460624ff102c\nI52417a26587b42c4e18a5d81dbb84643f1b36115\nIe2f37c17747e1f22e517457e39e3721d00d27ab6\nIa093e69ca515895221258240d74d30065c76eabf\nIc690f2e680992d365c760ca8f94b85d7ba78bbc7\nIe313d59dfaf1a0ab1a5a87f53e270d40c6206c21\nI68e9320570227ce53bae422cd93253f8d561cb66\nI542c8f7cd383415b0b1e421ad68685d62ebed9a1\nI2f720a9e6ff3c10ac05852d7d102878f418bd5cf\nId44c3eda204456af3dfa6d616ff44c107088fb40\nIe2f414d271bc1ee649b50e24cc3aa6bc80c973c6\nI19493c9fb9f07561c9627e080ed24c0a58164a53\nI7b467cb8b13e614d382c4801aa244e34ce827065\nIeb1f88e07eb0660f62699819d4be833d5d794e65\nIdb46fc3c6fc07aad8fa2f4e20b43785bccd90547\nIafad5ae4997c94e1c517bab1fb794ff5d6a34251\nIa4ee7f2c8c623ea0054c41007b16aeed65d13e35\n\nCo-Authored-By: James E. Blair <jeblair@redhat.com>\nCo-Authored-By: Andreas Jaeger <aj@suse.com>\nCo-Authored-By: Monty Taylor <mordred@inaugust.com>\nCo-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>\nCo-Authored-By: Clark Boylan <clark.boylan@gmail.com>\nCo-Authored-By: David Moreau-Simard <dmsimard@redhat.com>\nCo-Authored-By: Doug Hellmann <doug@doughellmann.com>\nCo-Authored-By: François Magimel <francois.magimel@alumni.enseeiht.fr>\nCo-Authored-By: Jan Zerebecki <jan.openstack@zerebecki.de>\nCo-Authored-By: Jeremy Stanley <fungi@yuggoth.org>\nCo-Authored-By: Jesse Keating <omgjlk@us.ibm.com>\nCo-Authored-By: Julien Danjou <julien@danjou.info>\nCo-Authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\nCo-Authored-By: Stephen Finucane <stephenfin@redhat.com>\nCo-Authored-By: YAMAMOTO Takashi <yamamoto@midokura.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\n\nChange-Id: Ib33823e449ab98455f83a5be703b69ca3b886039\n'}]",21,740727,5a8b34fbba7c0744456f5d32167e0295f8578387,22,4,5,10459,,,0,"Import the Zuul v3 porting guide

The guide needs a reference location. It was removed from
opendev/infra-manual via https://review.opendev.org/711325.
This change adds a bit of introduction and and imports
the last version of the guide almost unchanged:
- minimal changes to few then-internal references, now external;
- a few formatting fixes (long lines, broken links, etc).

This is a squashed version of zuulv3.rst which comes from
the following Change-Id-s:

I0db0a753e17d671ee64ea7a87e065c958dd94850
I2a5fb17c5ec1cb76693bf55ff25ffda6cc84759e
I4bfb63bf99c8528494d73f5f50018a2636b5bc37
Ie79726677c3c3ad5204fa6c1b3d3c0dfa25d7ebb
I720e1532f177d26fbb50f00dbc612422aa60c3bd
I51bd6c5bbcb8135c3ea4fed6941613643a3bcead
I0f8878901ce0302c89a40b9190dd806b2f5a85e8
Ic08e914be065ff9f4ec6b489c9d1d9915ff284f8
I837ba17307cd81b4339c2a1350692e3186146fb3
I33bab470f04a00b978b8cf22416ac4d0d805b4ef
Idded1004ffaebe51010fa52dad696f19f721d526
Ibe8dfe1ce3723dee8d682a7d3fa4cb57561614d9
Iea9b8386e22c8801343e5405d7a1a249a93df7d9
Id02e8c89fd212d527f8efcc575eb5541ed06a3ad
I2b4b4a9c3d9009cc618b7ebba666582e4cf03a08
I2b150ccf7e712ddfaf9ab61a20e986630ce94501
Ic372436b97fc26173767033346172883c2f91a37
I5e69c55b9b7ea2c3654f4a231005107f7ead0430
I084c0e930fb4b7899e4d233f9529642bbcf19a7d
If36eed0a720f3e4747b81359687a9e5df417c0fe
Ibf79b03c33fb82d2e55016e1e1225b0d9dba6f1e
Ib3102f270f94eb689b81dd719574b1113bccba19
Ib78c43e4a38c3976ca9180fb68bbfb5eedaf3df7
If30ddf3f32bc49e8c764b123ac760a34bcae9cec
I2e099e0d90e0450fba89ac985de3aa646836367d
I0d3a3dfe4015dc8ea9f7d3957fe5de29c3e2283b
I3156520772db4de7cc90fcfc274b3dac957538e4
I09a0f9ecb3bba693caac67958675cce7fd554a5e
Ia2b71fbd2cf5a7848db1648278350c91e757a324
Ib8062210854e1979aa1f56bd7c0f5af8e578decc
I79ec68b995c5acc431b6cc8007ffd00808c89ff0
I112005d360f23648985d6691200d07476c622d70
I1649c64e2e7b2bd9b6324f44a8a50bce6f2fdb98
Ie85c7ebc1a1c9f646316e8c7e6d6eb7eea8a23d3
I73970d0b70c1de919e28d669a531e6d6d2bbef71
I8bbf3d937b71847ea499539b50283bb1f255d1f3
I21dbdb66962b44eba460300ade8f28869f8b9c07
Iacd4f3057c3e33396f6930283177460624ff102c
I52417a26587b42c4e18a5d81dbb84643f1b36115
Ie2f37c17747e1f22e517457e39e3721d00d27ab6
Ia093e69ca515895221258240d74d30065c76eabf
Ic690f2e680992d365c760ca8f94b85d7ba78bbc7
Ie313d59dfaf1a0ab1a5a87f53e270d40c6206c21
I68e9320570227ce53bae422cd93253f8d561cb66
I542c8f7cd383415b0b1e421ad68685d62ebed9a1
I2f720a9e6ff3c10ac05852d7d102878f418bd5cf
Id44c3eda204456af3dfa6d616ff44c107088fb40
Ie2f414d271bc1ee649b50e24cc3aa6bc80c973c6
I19493c9fb9f07561c9627e080ed24c0a58164a53
I7b467cb8b13e614d382c4801aa244e34ce827065
Ieb1f88e07eb0660f62699819d4be833d5d794e65
Idb46fc3c6fc07aad8fa2f4e20b43785bccd90547
Iafad5ae4997c94e1c517bab1fb794ff5d6a34251
Ia4ee7f2c8c623ea0054c41007b16aeed65d13e35

Co-Authored-By: James E. Blair <jeblair@redhat.com>
Co-Authored-By: Andreas Jaeger <aj@suse.com>
Co-Authored-By: Monty Taylor <mordred@inaugust.com>
Co-Authored-By: David Shrewsbury <shrewsbury.dave@gmail.com>
Co-Authored-By: Clark Boylan <clark.boylan@gmail.com>
Co-Authored-By: David Moreau-Simard <dmsimard@redhat.com>
Co-Authored-By: Doug Hellmann <doug@doughellmann.com>
Co-Authored-By: François Magimel <francois.magimel@alumni.enseeiht.fr>
Co-Authored-By: Jan Zerebecki <jan.openstack@zerebecki.de>
Co-Authored-By: Jeremy Stanley <fungi@yuggoth.org>
Co-Authored-By: Jesse Keating <omgjlk@us.ibm.com>
Co-Authored-By: Julien Danjou <julien@danjou.info>
Co-Authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>
Co-Authored-By: Stephen Finucane <stephenfin@redhat.com>
Co-Authored-By: YAMAMOTO Takashi <yamamoto@midokura.com>
Co-Authored-By: melissaml <ma.lei@99cloud.net>

Change-Id: Ib33823e449ab98455f83a5be703b69ca3b886039
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/27/740727/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/zuulv3.rst', 'doc/source/testing.rst']",2,836c9de74760d4817f909ac1d9e8391ad9712292,import-zuulv3-doc," Zuul v3 native jobs =================== At the beginning of the Victoria cycle an important amount of jobs of ""legacy"" jobs is still present. The legacy jobs are scripts automatically converted from the old Jenkins jobs and contain a lot duplicated code shell code. One of the community goals for the cycle `deals with porting them to Zuul v3 <https://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html>`_. A detailed porting guide, originally part of the OpenDev documentation, has been imported here: .. toctree:: :maxdepth: 1 zuulv3 In addition to it, other documentation sources are: - `Consistent Naming for Zuul jobs <https://docs.opendev.org/opendev/infra-manual/latest/drivers.html#consistent-naming-for-zuul-jobs>`_. - `Migrating Zuul V2 CI jobs to V3 <https://docs.openstack.org/devstack/latest/zuul_ci_jobs_migration.html>`_. It is worth noting that, while the goal focuses on the fixing the jobs used in Victoria (and future releases), backporting the converted jobs to the older branches where they are still in use is recommended for maintenance reasons in the long run.",,984,0
openstack%2Ftripleo-quickstart~master~I4ddf957f677ba8cc584a155444b27d43b7d27e5c,openstack/tripleo-quickstart,master,I4ddf957f677ba8cc584a155444b27d43b7d27e5c,Use dnf/yum for customizing libvirt nodepool images,MERGED,2020-07-17 07:19:36.000000000,2020-07-20 13:36:50.000000000,2020-07-20 13:35:16.000000000,"[{'_account_id': 6926}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-17 07:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c07e56c67a396f39b76732cd6a3bd37d42a869cb', 'message': 'Use dnf/yum for customizing libvirt nodepool images\n\nyum is not installed by default in CentOS8 images,\nso use dnf for it and fallback to yum when dnf not\navailable.\n\nRelated-Bug: #1887637\nChange-Id: I4ddf957f677ba8cc584a155444b27d43b7d27e5c\n'}, {'number': 2, 'created': '2020-07-17 10:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c913ae6309eccfb7e21be76da3db23b590677fde', 'message': 'Use dnf/yum for customizing libvirt nodepool images\n\nyum is not installed by default in CentOS8 images,\nso use dnf for it and fallback to yum when dnf not\navailable.\n\nRelated-Bug: #1887637\nChange-Id: I4ddf957f677ba8cc584a155444b27d43b7d27e5c\n'}, {'number': 3, 'created': '2020-07-17 10:06:54.000000000', 'files': ['roles/libvirt/setup/overcloud/tasks/libvirt_nodepool.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8cfedbcf7ef8962d9bdd2c9a4e5683eb68fa620a', 'message': 'Use dnf/yum for customizing libvirt nodepool images\n\nyum is not installed by default in CentOS8 images,\nso use dnf for it and fallback to yum when dnf not\navailable.\n\nRelated-Bug: #1887637\nChange-Id: I4ddf957f677ba8cc584a155444b27d43b7d27e5c\n'}]",2,741587,8cfedbcf7ef8962d9bdd2c9a4e5683eb68fa620a,20,5,3,13861,,,0,"Use dnf/yum for customizing libvirt nodepool images

yum is not installed by default in CentOS8 images,
so use dnf for it and fallback to yum when dnf not
available.

Related-Bug: #1887637
Change-Id: I4ddf957f677ba8cc584a155444b27d43b7d27e5c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/87/741587/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/libvirt/setup/overcloud/tasks/libvirt_nodepool.yml'],1,c07e56c67a396f39b76732cd6a3bd37d42a869cb,bug/1887637, --run-command '$(type -t -p dnf || type -t -p yum) install -y qemu-guest-agent', --run-command 'yum install -y qemu-guest-agent',1,1
openstack%2Fironic-inspector~master~Ia96a9a8b85841612fb13616754bfdbf651b212d8,openstack/ironic-inspector,master,Ia96a9a8b85841612fb13616754bfdbf651b212d8,Do not try to set local_gb to -1 when the matched root device size is 0,MERGED,2020-07-09 14:16:36.000000000,2020-07-20 13:29:08.000000000,2020-07-20 13:22:22.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-09 14:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0869d3253929a782cd1786d4b454640f90e87ed0', 'message': ""Do not try to set local_gb to -1 when the matched root device size is 0\n\nApparently, virtual floppies on some machines are represented as normal\nblock devices, but with size = 0. We should filter them out in ironic-lib,\nbut for now at least don't fail miserably.\n\nChange-Id: Ia96a9a8b85841612fb13616754bfdbf651b212d8\n""}, {'number': 2, 'created': '2020-07-09 14:40:53.000000000', 'files': ['ironic_inspector/test/unit/test_plugins_standard.py', 'ironic_inspector/plugins/standard.py', 'releasenotes/notes/zero-size-55c4b4f2b9e8384d.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/95e103d21cffd9040619ab04edd71a53a650cf34', 'message': ""Do not try to set local_gb to -1 when the matched root device size is 0\n\nApparently, virtual floppies on some machines are represented as normal\nblock devices, but with size = 0. We should filter them out in ironic-lib,\nbut for now at least don't fail miserably.\n\nStory: #2007907\nTask: #40308\nChange-Id: Ia96a9a8b85841612fb13616754bfdbf651b212d8\n""}]",0,740304,95e103d21cffd9040619ab04edd71a53a650cf34,24,6,2,10239,,,0,"Do not try to set local_gb to -1 when the matched root device size is 0

Apparently, virtual floppies on some machines are represented as normal
block devices, but with size = 0. We should filter them out in ironic-lib,
but for now at least don't fail miserably.

Story: #2007907
Task: #40308
Change-Id: Ia96a9a8b85841612fb13616754bfdbf651b212d8
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/04/740304/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_plugins_standard.py', 'ironic_inspector/plugins/standard.py', 'releasenotes/notes/zero-size-55c4b4f2b9e8384d.yaml']",3,0869d3253929a782cd1786d4b454640f90e87ed0,zero-size,--- fixes: - | No longer tries to set ``local_gb`` to -1 if the matched root device has size of zero. ,,26,5
openstack%2Frequirements~stable%2Fstein~I54f9e88ca483d96b61d0aa5eadbc343ff7383fe0,openstack/requirements,stable/stein,I54f9e88ca483d96b61d0aa5eadbc343ff7383fe0,update constraint for python-octaviaclient to new release 1.8.2,MERGED,2020-07-20 10:24:07.000000000,2020-07-20 13:27:57.000000000,2020-07-20 13:27:57.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-20 10:24:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e105a020d7536159e7269a70beb86a9ad4db8de9', 'message': 'update constraint for python-octaviaclient to new release 1.8.2\n\nChange-Id: I54f9e88ca483d96b61d0aa5eadbc343ff7383fe0\nmeta:version: 1.8.2\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: Ief2e28d88f6bae6af08930310f062e58616b83c9\nmeta:release:Code-Review+1: Carlos Goncalves <cgoncalves@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,741914,e105a020d7536159e7269a70beb86a9ad4db8de9,7,3,1,11131,,,0,"update constraint for python-octaviaclient to new release 1.8.2

Change-Id: I54f9e88ca483d96b61d0aa5eadbc343ff7383fe0
meta:version: 1.8.2
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: Ief2e28d88f6bae6af08930310f062e58616b83c9
meta:release:Code-Review+1: Carlos Goncalves <cgoncalves@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/14/741914/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e105a020d7536159e7269a70beb86a9ad4db8de9,new-release,python-octaviaclient===1.8.2,python-octaviaclient===1.8.1,1,1
openstack%2Frequirements~stable%2Fstein~I16185f1eefa85bb7477a65ecbdaa5ee3b828247b,openstack/requirements,stable/stein,I16185f1eefa85bb7477a65ecbdaa5ee3b828247b,update constraint for python-zunclient to new release 3.3.1,MERGED,2020-07-20 10:15:03.000000000,2020-07-20 13:25:54.000000000,2020-07-20 13:25:54.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-20 10:15:03.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/661cceef4e3a764acccd3d9da23c83fb6034aacb', 'message': 'update constraint for python-zunclient to new release 3.3.1\n\nChange-Id: I16185f1eefa85bb7477a65ecbdaa5ee3b828247b\nmeta:version: 3.3.1\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I246d4ee7adfd9d47287367618fcb7ef6c02797ea\nmeta:release:Code-Review+1: Hongbin Lu <hongbin034@gmail.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,741911,661cceef4e3a764acccd3d9da23c83fb6034aacb,7,3,1,11131,,,0,"update constraint for python-zunclient to new release 3.3.1

Change-Id: I16185f1eefa85bb7477a65ecbdaa5ee3b828247b
meta:version: 3.3.1
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I246d4ee7adfd9d47287367618fcb7ef6c02797ea
meta:release:Code-Review+1: Hongbin Lu <hongbin034@gmail.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/11/741911/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,661cceef4e3a764acccd3d9da23c83fb6034aacb,new-release,python-zunclient===3.3.1,python-zunclient===3.3.0,1,1
openstack%2Frequirements~stable%2Ftrain~Ibe50390ce936144099c05edbe8c42d614f780016,openstack/requirements,stable/train,Ibe50390ce936144099c05edbe8c42d614f780016,update constraint for oslo.messaging to new release 10.2.1,MERGED,2020-07-20 09:43:46.000000000,2020-07-20 13:22:35.000000000,2020-07-20 13:22:35.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-20 09:43:46.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b7ff05c5517784aa84c4aa8e6fc786189388a6f6', 'message': 'update constraint for oslo.messaging to new release 10.2.1\n\nChange-Id: Ibe50390ce936144099c05edbe8c42d614f780016\nmeta:version: 10.2.1\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Ie4f1057048bfdc55c1c403654da8831461199468\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,741904,b7ff05c5517784aa84c4aa8e6fc786189388a6f6,7,3,1,11131,,,0,"update constraint for oslo.messaging to new release 10.2.1

Change-Id: Ibe50390ce936144099c05edbe8c42d614f780016
meta:version: 10.2.1
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: Ie4f1057048bfdc55c1c403654da8831461199468
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/04/741904/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b7ff05c5517784aa84c4aa8e6fc786189388a6f6,new-release,oslo.messaging===10.2.1,oslo.messaging===10.2.0,1,1
openstack%2Fnova~stable%2Ftrain~I207a6c8c8cf562477792c69e353ba99b3ec4cb5e,openstack/nova,stable/train,I207a6c8c8cf562477792c69e353ba99b3ec4cb5e,Correct reported system memory,MERGED,2020-07-13 11:08:43.000000000,2020-07-20 12:44:31.000000000,2020-07-20 12:42:39.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-13 11:08:43.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7d33d744148d2f9d3bef9a6cbf2fc916f5b17f88', 'message': ""Correct reported system memory\n\nIn Python 3.3+, 'sys.platform' no longer includes a major version [1]:\n\n  issue 12326: On Linux, sys.platform doesn't contain the major version\n  anymore. It is now always 'linux', instead of 'linux2' or 'linux3'\n  depending on the Linux version used to build Python. Replace\n  sys.platform == 'linux2' with sys.platform.startswith('linux'), or\n  directly sys.platform == 'linux' if you don't need to support older\n  Python versions.\n\nSince we only care about Python 3.6 or greater, we could simply check\nfor 'linux'. However, the libvirt driver isn't supported on non-Linux\nhosts so this was always a dumb check. Simply remove it instead.\n\n[1] https://docs.python.org/3.3/whatsnew/3.3.html#porting-python-code\n\nChange-Id: I207a6c8c8cf562477792c69e353ba99b3ec4cb5e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1882233\n(cherry picked from commit e567adf7f6f27f51cda3cd3422df462148f27b90)\n(cherry picked from commit ecd218b1a4408708156e6adb00e05f345dfbce36)\n""}]",0,740667,7d33d744148d2f9d3bef9a6cbf2fc916f5b17f88,14,5,1,15334,,,0,"Correct reported system memory

In Python 3.3+, 'sys.platform' no longer includes a major version [1]:

  issue 12326: On Linux, sys.platform doesn't contain the major version
  anymore. It is now always 'linux', instead of 'linux2' or 'linux3'
  depending on the Linux version used to build Python. Replace
  sys.platform == 'linux2' with sys.platform.startswith('linux'), or
  directly sys.platform == 'linux' if you don't need to support older
  Python versions.

Since we only care about Python 3.6 or greater, we could simply check
for 'linux'. However, the libvirt driver isn't supported on non-Linux
hosts so this was always a dumb check. Simply remove it instead.

[1] https://docs.python.org/3.3/whatsnew/3.3.html#porting-python-code

Change-Id: I207a6c8c8cf562477792c69e353ba99b3ec4cb5e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1882233
(cherry picked from commit e567adf7f6f27f51cda3cd3422df462148f27b90)
(cherry picked from commit ecd218b1a4408708156e6adb00e05f345dfbce36)
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/740667/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py']",2,7d33d744148d2f9d3bef9a6cbf2fc916f5b17f88,bug/1882233,,"import sys if sys.platform.upper() not in ['LINUX2', 'LINUX3']: return 0 ",11,24
openstack%2Fnova~stable%2Frocky~Ifd8b249de3e8f96fa13db252f0abe2b1bd950de0,openstack/nova,stable/rocky,Ifd8b249de3e8f96fa13db252f0abe2b1bd950de0,fix scsi disk unit number of the attaching volume when cdrom bus is scsi,MERGED,2020-05-22 12:36:54.000000000,2020-07-20 12:28:06.000000000,2020-07-20 12:28:05.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-22 12:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b65687e83f1f2c8cba3ec11b3447ff8c8fd5ecab', 'message': 'fix scsi disk unit number of the attaching volume when cdrom bus is scsi\n\nFrom Image Meta Properties: hw_cdrom_bus=scsi, and use virtio-scsi mode,\nit will also need a disk address for it. So we need to calculate the\ndisk address when call the function to get the next unit of scsi controller.\n\nCloses-Bug: #1867075\nChange-Id: Ifd8b249de3e8f96fa13db252f0abe2b1bd950de0\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n(cherry picked from commit c8d6767cf8baaf3cc81496c83db10c8ae72fce06)\n'}, {'number': 2, 'created': '2020-05-27 18:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0fe700ab53c33fb258b7746fc16ad5880af2b159', 'message': 'fix scsi disk unit number of the attaching volume when cdrom bus is scsi\n\nFrom Image Meta Properties: hw_cdrom_bus=scsi, and use virtio-scsi mode,\nit will also need a disk address for it. So we need to calculate the\ndisk address when call the function to get the next unit of scsi controller.\n\nCloses-Bug: #1867075\nChange-Id: Ifd8b249de3e8f96fa13db252f0abe2b1bd950de0\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n(cherry picked from commit c8d6767cf8baaf3cc81496c83db10c8ae72fce06)\n(cherry picked from commit 11b2b7f0b3a8c09216cd8ebfea8b4cd059605290)\n(cherry picked from commit 86328d11468af66d95587b53ce28f65ed92c46d7)\n'}, {'number': 3, 'created': '2020-07-02 10:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10c6b832ca257684d511871daf765f24db7f913e', 'message': 'fix scsi disk unit number of the attaching volume when cdrom bus is scsi\n\nFrom Image Meta Properties: hw_cdrom_bus=scsi, and use virtio-scsi mode,\nit will also need a disk address for it. So we need to calculate the\ndisk address when call the function to get the next unit of scsi controller.\n\nCloses-Bug: #1867075\nChange-Id: Ifd8b249de3e8f96fa13db252f0abe2b1bd950de0\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n(cherry picked from commit c8d6767cf8baaf3cc81496c83db10c8ae72fce06)\n(cherry picked from commit 11b2b7f0b3a8c09216cd8ebfea8b4cd059605290)\n(cherry picked from commit 86328d11468af66d95587b53ce28f65ed92c46d7)\n'}, {'number': 4, 'created': '2020-07-02 13:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28071e878f28b3754aecfabaa82950f917b98290', 'message': 'fix scsi disk unit number of the attaching volume when cdrom bus is scsi\n\nFrom Image Meta Properties: hw_cdrom_bus=scsi, and use virtio-scsi mode,\nit will also need a disk address for it. So we need to calculate the\ndisk address when call the function to get the next unit of scsi controller.\n\nCloses-Bug: #1867075\nChange-Id: Ifd8b249de3e8f96fa13db252f0abe2b1bd950de0\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n(cherry picked from commit c8d6767cf8baaf3cc81496c83db10c8ae72fce06)\n(cherry picked from commit 11b2b7f0b3a8c09216cd8ebfea8b4cd059605290)\n(cherry picked from commit 86328d11468af66d95587b53ce28f65ed92c46d7)\n'}, {'number': 5, 'created': '2020-07-20 07:47:11.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3b2c6ccf261ddb810473954559fa1dd1454e9f09', 'message': 'fix scsi disk unit number of the attaching volume when cdrom bus is scsi\n\nFrom Image Meta Properties: hw_cdrom_bus=scsi, and use virtio-scsi mode,\nit will also need a disk address for it. So we need to calculate the\ndisk address when call the function to get the next unit of scsi controller.\n\nCloses-Bug: #1867075\nChange-Id: Ifd8b249de3e8f96fa13db252f0abe2b1bd950de0\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n(cherry picked from commit c8d6767cf8baaf3cc81496c83db10c8ae72fce06)\n(cherry picked from commit 11b2b7f0b3a8c09216cd8ebfea8b4cd059605290)\n(cherry picked from commit 86328d11468af66d95587b53ce28f65ed92c46d7)\n'}]",0,730312,3b2c6ccf261ddb810473954559fa1dd1454e9f09,73,10,5,11604,,,0,"fix scsi disk unit number of the attaching volume when cdrom bus is scsi

From Image Meta Properties: hw_cdrom_bus=scsi, and use virtio-scsi mode,
it will also need a disk address for it. So we need to calculate the
disk address when call the function to get the next unit of scsi controller.

Closes-Bug: #1867075
Change-Id: Ifd8b249de3e8f96fa13db252f0abe2b1bd950de0
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
(cherry picked from commit c8d6767cf8baaf3cc81496c83db10c8ae72fce06)
(cherry picked from commit 11b2b7f0b3a8c09216cd8ebfea8b4cd059605290)
(cherry picked from commit 86328d11468af66d95587b53ce28f65ed92c46d7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/730312/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,b65687e83f1f2c8cba3ec11b3447ff8c8fd5ecab,bug/1867075," def test_get_scsi_controller_next_unit_from_guest(self): xml = """""" <domain type='kvm'> <devices> <disk type='file' device='disk'> <target dev='sda' bus='scsi'/> <address type='drive' controller='0' bus='0' target='0' unit='0'/> </disk> <disk type='file' device='disk'> <target dev='vda' bus='virtio'/> </disk> <disk type='file' device='cdrom'> <target dev='sdc' bus='scsi'/> <address type='drive' controller='0' bus='0' target='0' unit='1'/> </disk> </devices> </domain> """""" self._test_get_scsi_controller_next_unit_from_guest(xml, 2) def test_get_scsi_controller_next_unit_from_guest_no_scsi(self): xml = """""" <domain type='kvm'> <devices> <disk type='file' device='disk'> <target dev='vda' bus='virtio'/> </disk> <disk type='file' device='disk'> <target dev='vdb' bus='virtio'/> </disk> </devices> </domain> """""" self._test_get_scsi_controller_next_unit_from_guest(xml, 0) @mock.patch.object(libvirt_guest.Guest, ""get_xml_desc"") def _test_get_scsi_controller_next_unit_from_guest(self, xml, expect_num, mock_get_xml_desc): mock_get_xml_desc.return_value = xml drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) guest = libvirt_guest.Guest(FakeVirtDomain()) i = drvr._get_scsi_controller_next_unit(guest) self.assertEqual(expect_num, i) ",,51,5
openstack%2Fnova~stable%2Fpike~I4c3fbb213e023ac16efc0b8561f975a659311684,openstack/nova,stable/pike,I4c3fbb213e023ac16efc0b8561f975a659311684,Clean up allocation if unshelve fails due to neutron,MERGED,2020-07-13 08:40:53.000000000,2020-07-20 12:28:01.000000000,2020-07-20 12:28:01.000000000,"[{'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-13 08:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74003884a3118bb2374ef85c63764e6501e2f72c', 'message': 'Clean up allocation if unshelve fails due to neutron\n\nWhen port binding update fails during unshelve of a shelve offloaded\ninstance compute manager has to catch the exception and clean up the\ndestination host allocation.\n\nChange-Id: I4c3fbb213e023ac16efc0b8561f975a659311684\nCloses-Bug: #1862633\n(cherry picked from commit e65d4a131a7ebc02261f5df69fa1b394a502f268)\n(cherry picked from commit e6b749dbdd735e2cd0054654b5da7a02280a080b)\n(cherry picked from commit 405a35587a2291e3cf9eb4efc8f102c91bb4ef76)\n(cherry picked from commit aeeab5d064492e112cd626a2988a6808250fb029)\n'}, {'number': 2, 'created': '2020-07-13 08:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2707a079110520cd3b4f2c3a1f5b9bfd447a03c8', 'message': 'Clean up allocation if unshelve fails due to neutron\n\nWhen port binding update fails during unshelve of a shelve offloaded\ninstance compute manager has to catch the exception and clean up the\ndestination host allocation.\n\nChange-Id: I4c3fbb213e023ac16efc0b8561f975a659311684\nCloses-Bug: #1862633\n(cherry picked from commit e65d4a131a7ebc02261f5df69fa1b394a502f268)\n(cherry picked from commit e6b749dbdd735e2cd0054654b5da7a02280a080b)\n(cherry picked from commit 405a35587a2291e3cf9eb4efc8f102c91bb4ef76)\n(cherry picked from commit aeeab5d064492e112cd626a2988a6808250fb029)\n'}, {'number': 3, 'created': '2020-07-13 11:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef81d70873057fed0c34a813ba60993bb1d99cda', 'message': 'Clean up allocation if unshelve fails due to neutron\n\nWhen port binding update fails during unshelve of a shelve offloaded\ninstance compute manager has to catch the exception and clean up the\ndestination host allocation.\n\nChange-Id: I4c3fbb213e023ac16efc0b8561f975a659311684\nCloses-Bug: #1862633\n(cherry picked from commit e65d4a131a7ebc02261f5df69fa1b394a502f268)\n(cherry picked from commit e6b749dbdd735e2cd0054654b5da7a02280a080b)\n(cherry picked from commit 405a35587a2291e3cf9eb4efc8f102c91bb4ef76)\n(cherry picked from commit aeeab5d064492e112cd626a2988a6808250fb029)\n'}, {'number': 4, 'created': '2020-07-13 16:04:23.000000000', 'files': ['nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1862633.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/89312275607ea21e1c35a393ad1b00fe5591e30a', 'message': 'Clean up allocation if unshelve fails due to neutron\n\nWhen port binding update fails during unshelve of a shelve offloaded\ninstance compute manager has to catch the exception and clean up the\ndestination host allocation.\n\nChange-Id: I4c3fbb213e023ac16efc0b8561f975a659311684\nCloses-Bug: #1862633\n(cherry picked from commit e65d4a131a7ebc02261f5df69fa1b394a502f268)\n(cherry picked from commit e6b749dbdd735e2cd0054654b5da7a02280a080b)\n(cherry picked from commit 405a35587a2291e3cf9eb4efc8f102c91bb4ef76)\n(cherry picked from commit aeeab5d064492e112cd626a2988a6808250fb029)\n(cherry picked from commit 9a073c9edc993525e896f67eeda1639a248fe2df)\n'}]",0,740636,89312275607ea21e1c35a393ad1b00fe5591e30a,29,6,4,9708,,,0,"Clean up allocation if unshelve fails due to neutron

When port binding update fails during unshelve of a shelve offloaded
instance compute manager has to catch the exception and clean up the
destination host allocation.

Change-Id: I4c3fbb213e023ac16efc0b8561f975a659311684
Closes-Bug: #1862633
(cherry picked from commit e65d4a131a7ebc02261f5df69fa1b394a502f268)
(cherry picked from commit e6b749dbdd735e2cd0054654b5da7a02280a080b)
(cherry picked from commit 405a35587a2291e3cf9eb4efc8f102c91bb4ef76)
(cherry picked from commit aeeab5d064492e112cd626a2988a6808250fb029)
(cherry picked from commit 9a073c9edc993525e896f67eeda1639a248fe2df)
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/740636/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1862633.py']",2,74003884a3118bb2374ef85c63764e6501e2f72c,bug/1862633," self.api, server, {'status': 'SHELVED_OFFLOADED', 'OS-EXT-SRV-ATTR:host': None}) 'OS-EXT-STS:task_state': None, 'OS-EXT-SRV-ATTR:host': None}) self.assertEqual(0, len(allocations))"," self.api, server, {'status': 'SHELVED_OFFLOADED'}) 'OS-EXT-STS:task_state': None}) # allocations = self.placement_api.get( # '/allocations/%s' % server['id']).body['allocations'] # self.assertEqual(0, len(allocations)) # # but the allocation is leaked this is bug 1862633 self.assertEqual(1, len(allocations))",9,11
openstack%2Ftripleo-docs~master~I995167f00df5ccd9dfa2fd633714eab9769ebfd4,openstack/tripleo-docs,master,I995167f00df5ccd9dfa2fd633714eab9769ebfd4,Add good use cases for manually running config-download playbooks.,MERGED,2020-03-20 19:19:27.000000000,2020-07-20 12:20:37.000000000,2020-07-20 12:19:11.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-20 19:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/1c45b25d2d5336e9c0a30473f7b2863bca7f444c', 'message': 'Add good use cases for manually running config-download playbooks.\n\nThis was created based on the feedback from the community.\nReal world use cases are explained for config-download and\nalso what advantages it brings.\n\nChange-Id: I995167f00df5ccd9dfa2fd633714eab9769ebfd4\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2020-03-25 14:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/c27867bdf6eb933e1a5331117e4a35caa894f0f6', 'message': 'Add good use cases for manually running config-download playbooks.\n\nThis was created based on the feedback from the community.\nReal world use cases are explained for config-download and\nalso what advantages it brings.\n\nChange-Id: I995167f00df5ccd9dfa2fd633714eab9769ebfd4\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 3, 'created': '2020-06-25 15:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b97efcd45320f300cc78822ef8177bfc94309c4c', 'message': 'Add good use cases for manually running config-download playbooks.\n\nThis was created based on the feedback from the community.\nReal world use cases are explained for config-download and\nalso what advantages it brings.\n\nChange-Id: I995167f00df5ccd9dfa2fd633714eab9769ebfd4\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 4, 'created': '2020-06-29 15:12:56.000000000', 'files': ['deploy-guide/source/deployment/ansible_config_download_differences.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/e60d972b96be68fe080a643a548d7f97f78da771', 'message': 'Add good use cases for manually running config-download playbooks.\n\nThis was created based on the feedback from the community.\nReal world use cases are explained for config-download and\nalso what advantages it brings.\n\nChange-Id: I995167f00df5ccd9dfa2fd633714eab9769ebfd4\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",0,714196,e60d972b96be68fe080a643a548d7f97f78da771,23,4,4,25877,,,0,"Add good use cases for manually running config-download playbooks.

This was created based on the feedback from the community.
Real world use cases are explained for config-download and
also what advantages it brings.

Change-Id: I995167f00df5ccd9dfa2fd633714eab9769ebfd4
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/96/714196/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/ansible_config_download_differences.rst'],1,1c45b25d2d5336e9c0a30473f7b2863bca7f444c,I995167f00df5ccd9dfa2fd633714eab9769ebfd4," config-download Use Cases ------------------------- config-download exposes the ability to manually run the ``ansible-playbook`` command against the playbooks that are generated for the deployment. This leads to many advantages over the older Heat deployment model. - Test deployments. Using the ``ansible-playbook --check --diff deploy_steps_playbook.yaml`` arguments will not modify an existing deployment. Instead, it will only show any changes that would be made. - Development environment testing. Ansible variables can be modified to do quick testing. Once verified, Heat environment templates need to be updated to reflect the change permanently. Then the config-download content should be re-generated by running ``openstack overcloud deploy --stack-only``. - Run specific tasks. It is possible to run certain parts of a deployment by using ``--tags``. - Prepare the deployment or update ahead of time and then run the playbooks later. The operations around a deployment can be done at different times to minimize risk. - Integration with CI/CD. Additional checks and verification can be added to a CI/CD pipeline relating to updating Heat templates and the Ansible config-download content. - AWX or Ansible Tower integration. Ansible content can be imported and ran through a scalable and distributed system.",,25,0
openstack%2Ftripleo-quickstart-extras~master~I5d3daac3fdb391fec58cf8283910e92819785898,openstack/tripleo-quickstart-extras,master,I5d3daac3fdb391fec58cf8283910e92819785898,Add reproducer_build_vmnodes to control build VMs,ABANDONED,2020-07-14 13:25:32.000000000,2020-07-20 11:56:16.000000000,,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-14 13:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/795556c8d745be23e556380afb9cec3e3431de28', 'message': 'Add reproducer_build_vmnodes to control build VMs\n\nWhen reproducer is in libvirt mode, and user wants only to reconfigure\nZuul and relaunch the CI job under reproducing, allow omitting\nlibvirt preparations of VM nodes for nodepool.\n\nChange-Id: I5d3daac3fdb391fec58cf8283910e92819785898\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2020-07-14 13:30:36.000000000', 'files': ['roles/create-zuul-based-reproducer/defaults/main.yml', 'roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2', 'roles/create-zuul-based-reproducer/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/928e76cada4bc4e4326e2e9114c9ea84c3b25c8b', 'message': 'Add reproducer_build_vmnodes to control build VMs\n\nWhen reproducer is in libvirt mode, and user wants only to reconfigure\nZuul and relaunch the CI job under reproducing, allow omitting\nlibvirt preparations of VM nodes for nodepool.\n\nChange-Id: I5d3daac3fdb391fec58cf8283910e92819785898\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",1,740957,928e76cada4bc4e4326e2e9114c9ea84c3b25c8b,6,7,2,6926,,,0,"Add reproducer_build_vmnodes to control build VMs

When reproducer is in libvirt mode, and user wants only to reconfigure
Zuul and relaunch the CI job under reproducing, allow omitting
libvirt preparations of VM nodes for nodepool.

Change-Id: I5d3daac3fdb391fec58cf8283910e92819785898
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/57/740957/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/create-zuul-based-reproducer/defaults/main.yml', 'roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2', 'roles/create-zuul-based-reproducer/README.md']",3,795556c8d745be23e556380afb9cec3e3431de28,,* reproducer_build_vmnodes: Allows to skip building VM nodes in libvirt mode and start from Zuul configuration steps,,4,0
openstack%2Fkayobe~master~I7f757098211745671ec891fdd4e0b52dc1fe7602,openstack/kayobe,master,I7f757098211745671ec891fdd4e0b52dc1fe7602,Add py38 package metadata,MERGED,2020-07-15 09:32:55.000000000,2020-07-20 11:12:05.000000000,2020-07-20 11:10:49.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 27336}]","[{'number': 1, 'created': '2020-07-15 09:32:55.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5e0ad3ad919ab82486f012cba20a1176ee336d3e', 'message': 'Add py38 package metadata\n\nChange-Id: I7f757098211745671ec891fdd4e0b52dc1fe7602\n'}]",0,741129,5e0ad3ad919ab82486f012cba20a1176ee336d3e,9,4,1,26285,,,0,"Add py38 package metadata

Change-Id: I7f757098211745671ec891fdd4e0b52dc1fe7602
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/29/741129/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5e0ad3ad919ab82486f012cba20a1176ee336d3e,, Programming Language :: Python :: 3.8,,1,0
openstack%2Fheat~master~If6f431b71cc595330428e1eeab5ca9c47f28dbc8,openstack/heat,master,If6f431b71cc595330428e1eeab5ca9c47f28dbc8,[DNM] Test with stevedore latest,ABANDONED,2020-07-20 07:08:40.000000000,2020-07-20 11:05:39.000000000,,[],"[{'number': 1, 'created': '2020-07-20 07:08:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/e767238bb9914c9b70ec5e39ad8bc3ebbf10c6c3', 'message': '[DNM] Test with stevedore latest\n\nChange-Id: If6f431b71cc595330428e1eeab5ca9c47f28dbc8\n'}]",0,741881,e767238bb9914c9b70ec5e39ad8bc3ebbf10c6c3,2,0,1,13861,,,0,"[DNM] Test with stevedore latest

Change-Id: If6f431b71cc595330428e1eeab5ca9c47f28dbc8
",git fetch https://review.opendev.org/openstack/heat refs/changes/81/741881/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e767238bb9914c9b70ec5e39ad8bc3ebbf10c6c3,, check: jobs: [], templates: - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-victoria-jobs - periodic-stable-jobs - publish-openstack-docs-pti - check-requirements - release-notes-jobs-python3 check: jobs: - grenade-heat - grenade-heat-multinode - heat-functional - heat-functional-legacy - heat-functional-non-apache gate: queue: heat jobs: - grenade-heat - grenade-heat-multinode - heat-functional - heat-functional-legacy experimental: jobs: - tripleo-ci-centos-7-scenario002-standalone,1,24
openstack%2Fcharm-interface-openstack-ha~master~Ia10e1454791d92b9ca6233425b4a6ea89642def0,openstack/charm-interface-openstack-ha,master,Ia10e1454791d92b9ca6233425b4a6ea89642def0,Make peer discover more defensive,MERGED,2020-07-20 07:24:15.000000000,2020-07-20 10:59:53.000000000,2020-07-20 10:59:53.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-20 07:24:15.000000000', 'files': ['peers.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-openstack-ha/commit/75286e5117874e242ceb8af1a468772769c836c8', 'message': ""Make peer discover more defensive\n\nBefore adding a (unit-name, address) tuple to the list of peers\nfor a particular address type, ensure that the unit has actually\npresented data for the requested address type.\n\nThis avoids 'None' values being written to the haproxy configuration\nfiles during initial deployment and scale back of units.\n\nChange-Id: Ia10e1454791d92b9ca6233425b4a6ea89642def0\nCloses-Bug: 1849901\n""}]",2,741882,75286e5117874e242ceb8af1a468772769c836c8,8,3,1,935,,,0,"Make peer discover more defensive

Before adding a (unit-name, address) tuple to the list of peers
for a particular address type, ensure that the unit has actually
presented data for the requested address type.

This avoids 'None' values being written to the haproxy configuration
files during initial deployment and scale back of units.

Change-Id: Ia10e1454791d92b9ca6233425b4a6ea89642def0
Closes-Bug: 1849901
",git fetch https://review.opendev.org/openstack/charm-interface-openstack-ha refs/changes/82/741882/1 && git format-patch -1 --stdout FETCH_HEAD,['peers.py'],1,75286e5117874e242ceb8af1a468772769c836c8,bug/1849901," address = conv.get_remote(address_key) if address: nodes.append((host_name, address))"," nodes.append((host_name, conv.get_remote(address_key)))",3,1
openstack%2Fneutron~master~I0b80d4595f241479077a762ccc6cd2de39c45592,openstack/neutron,master,I0b80d4595f241479077a762ccc6cd2de39c45592,DO NOT REVIEW: Test gate fix,ABANDONED,2020-07-20 10:13:00.000000000,2020-07-20 10:57:11.000000000,,[],"[{'number': 1, 'created': '2020-07-20 10:13:00.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e5c43641bd8fec42c52edddbadc68781a5ed6674', 'message': 'DO NOT REVIEW: Test gate fix\n\nChange-Id: I0b80d4595f241479077a762ccc6cd2de39c45592\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,741910,e5c43641bd8fec42c52edddbadc68781a5ed6674,2,0,1,6773,,,0,"DO NOT REVIEW: Test gate fix

Change-Id: I0b80d4595f241479077a762ccc6cd2de39c45592
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/741910/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e5c43641bd8fec42c52edddbadc68781a5ed6674,gate-stevedore,"stevedore>=1.20.0,!=3.2.0 # Apache-2.0",stevedore>=1.20.0 # Apache-2.0,1,1
openstack%2Fcharm-vault~master~I85f8fe1ecf42a95ecb6d5d72e4dbd5c32677a863,openstack/charm-vault,master,I85f8fe1ecf42a95ecb6d5d72e4dbd5c32677a863,Support MySQL as a HA lock store from v0.11.0,ABANDONED,2019-10-21 12:08:21.000000000,2020-07-20 10:38:24.000000000,,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 12:08:21.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/tests/bundles/xenial-ha-mysql.yaml', 'src/tests/bundles/overlays/xenial-ha-mysql-etcd.yaml.j2', 'src/templates/vault.hcl.j2', 'src/tests/bundles/xenial-ha-mysql-etcd.yaml', 'src/tests/tests.yaml', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/4bd7d08e8c37153d44ef49e9c6442e0e76fae1dc', 'message': 'Support MySQL as a HA lock store from v0.11.0\n\nFrom version 0.11.0 Vault supports using MySQL as the backend for\nits HA locking mechanism *1. This removes the need for etcd &\neasyrsa.\n\nThis change configures vault to continue to use etcd if the relation\nis present. Otherwise use MySQL is the Vault version supports it and\na MySQL relation exits.\n\n*1 https://github.com/hashicorp/vault/blob/master/CHANGELOG.md#0110-august-28th-2018\n\nChange-Id: I85f8fe1ecf42a95ecb6d5d72e4dbd5c32677a863\n'}]",0,689727,4bd7d08e8c37153d44ef49e9c6442e0e76fae1dc,5,3,1,12549,,,0,"Support MySQL as a HA lock store from v0.11.0

From version 0.11.0 Vault supports using MySQL as the backend for
its HA locking mechanism *1. This removes the need for etcd &
easyrsa.

This change configures vault to continue to use etcd if the relation
is present. Otherwise use MySQL is the Vault version supports it and
a MySQL relation exits.

*1 https://github.com/hashicorp/vault/blob/master/CHANGELOG.md#0110-august-28th-2018

Change-Id: I85f8fe1ecf42a95ecb6d5d72e4dbd5c32677a863
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/27/689727/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/tests/bundles/xenial-ha-mysql.yaml', 'src/tests/bundles/overlays/xenial-ha-mysql-etcd.yaml.j2', 'src/templates/vault.hcl.j2', 'src/tests/bundles/xenial-ha-mysql-etcd.yaml', 'src/reactive/vault_handlers.py', 'src/tests/tests.yaml']",7,4bd7d08e8c37153d44ef49e9c6442e0e76fae1dc,feature/mysql-for-ha,- xenial-ha-mysql-etcd,,113,15
openstack%2Fcharm-keystone~master~I7dec0e854f3938ec213f8063c064a584c3528a49,openstack/charm-keystone,master,I7dec0e854f3938ec213f8063c064a584c3528a49,Rename default domain and member role,ABANDONED,2020-05-15 11:15:11.000000000,2020-07-20 10:38:00.000000000,,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-05-15 11:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/a27feac2ef46a68abf3dd38cc9ec30a6b1c12528', 'message': 'Rename default domain and member role\n\nThe keystone-manage bootstrap process creates a member role named\n`member` and default domain named `Default`. Unfortunatly this is\ninconsistent with previous charm deploys meaning this breaks existing\ntools and tests that rely on the previous names. This patch performs\na rename after bootstrap to restore the previous behaviour.\n\nCloses-Bug: #1878228\nChange-Id: I7dec0e854f3938ec213f8063c064a584c3528a49\n'}, {'number': 2, 'created': '2020-05-15 12:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/5a7e65fc1ae7d6d502bb4e8ee05ceb74ff78f1cc', 'message': 'Rename default domain and member role\n\nThe keystone-manage bootstrap process creates a member role named\n`member` and default domain named `Default`. Unfortunatly this is\ninconsistent with previous charm deploys meaning this breaks existing\ntools and tests that rely on the previous names. This patch performs\na rename after bootstrap to restore the previous behaviour.\n\nCloses-Bug: #1878228\nChange-Id: I7dec0e854f3938ec213f8063c064a584c3528a49\n'}, {'number': 3, 'created': '2020-05-15 15:22:31.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py', 'actions/security_checklist.py', 'hooks/manager.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/2f77bbeea4cd673f90b4b95fee2d6b6e21f0f6f0', 'message': 'Rename default domain and member role\n\nThe keystone-manage bootstrap process creates a member role named\n`member` and default domain named `Default`. Unfortunatly this is\ninconsistent with previous charm deploys meaning this breaks existing\ntools and tests that rely on the previous names. This patch performs\na rename after bootstrap to restore the previous behaviour.\n\nCloses-Bug: #1878228\nChange-Id: I7dec0e854f3938ec213f8063c064a584c3528a49\n'}]",1,728420,2f77bbeea4cd673f90b4b95fee2d6b6e21f0f6f0,18,4,3,12549,,,0,"Rename default domain and member role

The keystone-manage bootstrap process creates a member role named
`member` and default domain named `Default`. Unfortunatly this is
inconsistent with previous charm deploys meaning this breaks existing
tools and tests that rely on the previous names. This patch performs
a rename after bootstrap to restore the previous behaviour.

Closes-Bug: #1878228
Change-Id: I7dec0e854f3938ec213f8063c064a584c3528a49
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/20/728420/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py', 'hooks/manager.py']",3,a27feac2ef46a68abf3dd38cc9ec30a6b1c12528,bug/1878228," def rename_role(self, role_id, new_name): ""Update the role name tp new_name"""""" # roles.find() is broken Bug #1626640 roles = [r for r in self.api.roles.list() if r.id == role_id] assert len(roles) == 1, ""Found {} roles expected 1"".format(len(roles)) self.api.roles.update(roles[0], name=new_name) def rename_domain(self, domain_id, new_name): ""Update the domain name tp new_name"""""" # domains.find() is broken Bug #1626640 domains = [d for d in self.api.domains.list() if d.id == domain_id] assert len(domains) == 1, ""Found {} domains expected 1"".format( len(domains)) self.api.domains.update(domains[0], name=new_name) ",,47,1
openstack%2Ftenks~master~I6553fb63742df907059e21b893d7d8f5d4292e85,openstack/tenks,master,I6553fb63742df907059e21b893d7d8f5d4292e85,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:37:12.000000000,2020-07-20 10:36:48.000000000,2020-07-20 10:35:28.000000000,"[{'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 13:37:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tenks/commit/d17101a437722ed994462737ed699d067ae34f15', 'message': 'Set min version of tox to 3.2.1\n\nAs recommended, since version 3.2.0 tox switches pip invocations\nto use the module -m pip instead of direct invocation.\nWe set min version to 3.2.1 [1] to also fix the behavior of\n--parallel--safe-build\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10\n\nChange-Id: I6553fb63742df907059e21b893d7d8f5d4292e85\n'}]",0,741194,d17101a437722ed994462737ed699d067ae34f15,8,3,1,23851,,,0,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I6553fb63742df907059e21b893d7d8f5d4292e85
",git fetch https://review.opendev.org/openstack/tenks refs/changes/94/741194/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d17101a437722ed994462737ed699d067ae34f15,tox-m-pip,minversion = 3.2.1,minversion = 3.1.0,1,1
openstack%2Fkolla-ansible~master~I6a174468bd91d214c08477b93c88032a45c137be,openstack/kolla-ansible,master,I6a174468bd91d214c08477b93c88032a45c137be,Fix Barbican client (Castellan) with TLS,MERGED,2020-07-06 08:44:26.000000000,2020-07-20 10:17:36.000000000,2020-07-14 08:57:53.000000000,"[{'_account_id': 14826}, {'_account_id': 21757}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24849}, {'_account_id': 27594}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-07-06 08:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eafd4ab838a916713aa34fd7bc77a08256cd6cdd', 'message': 'add support when the openstack env enable internal TLS\n\ncurrently, we have some problems when we enable internal\nTLS.such as:\n1.create encryed volume failed\n2.attach the encryed volume failed\n3.upload encryed image failed\nThe reason is that the castellan has a bug[1], but\nthe bug is fixed now. So we should support it.\n\n[1]:https://bugs.launchpad.net/castellan/+bug/1876103\n\nChange-Id: I6a174468bd91d214c08477b93c88032a45c137be\n'}, {'number': 2, 'created': '2020-07-06 08:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c3d2f07238d4c87aff199e92f57309dde2c1df7a', 'message': 'add support when the openstack env enable internal TLS\n\ncurrently, we have some problems when we enable internal\nTLS.such as:\n1.create encryed volume failed\n2.attach the encryed volume failed\n3.upload encryed image failed\nThe reason is that the castellan has a bug[1], but\nthe bug is fixed now. So we should support it.\n\n[1]:https://bugs.launchpad.net/castellan/+bug/1876102\n\nChange-Id: I6a174468bd91d214c08477b93c88032a45c137be\n'}, {'number': 3, 'created': '2020-07-06 09:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8056b4943b238d4f3a3034f09b5490d55fa8c89f', 'message': 'add support when the openstack env enable internal TLS\n\ncurrently, we have some problems when we enable internal\nTLS.such as:\n1.create encryed volume failed\n2.attach the encryed volume failed\n3.upload encryed image failed\nThe reason is that the castellan has a bug[1], but\nthe bug is fixed now. So we should support it.\n\n[1]:https://bugs.launchpad.net/castellan/+bug/1876102\n\nChange-Id: I6a174468bd91d214c08477b93c88032a45c137be\n'}, {'number': 4, 'created': '2020-07-07 04:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/df5f76182e0af543444b8229a588ed21f1ca4a04', 'message': 'add support when the openstack env enable internal TLS\n\ncurrently, we have some problems when we enable internal\nTLS.such as:\n1.create encryed volume failed\n2.attach the encryed volume failed\n3.upload encryed image failed\nThe reason is that the castellan has a bug[1], but\nthe bug is fixed now. So we should support it.\n\n[1]:https://bugs.launchpad.net/castellan/+bug/1876102\n\nChange-Id: I6a174468bd91d214c08477b93c88032a45c137be\n'}, {'number': 5, 'created': '2020-07-09 09:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/210df6df427e91a3865ee059f91f4e114077ebfe', 'message': 'add support when the openstack env enable internal TLS\n\ncurrently, we have some problems when we enable internal\nTLS.such as:\n1.create encryed volume failed\n2.attach the encryed volume failed\n3.upload encryed image failed\nThe reason is that the castellan has a bug[1], but\nthe bug is fixed now. So we should support it.\n\n[1]:https://bugs.launchpad.net/castellan/+bug/1876102\n\nChange-Id: I6a174468bd91d214c08477b93c88032a45c137be\n'}, {'number': 6, 'created': '2020-07-09 09:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7e636f3bfe933fee13d86a882308e832ff265e80', 'message': 'add support when the openstack env enable internal TLS\n\ncurrently, we have some problems when we enable internal\nTLS.such as:\n1.create encryed volume failed\n2.attach the encryed volume failed\n3.upload encryed image failed\nThe reason is that the castellan has a bug[1], but\nthe bug is fixed now. So we should support it.\n\n[1]:https://bugs.launchpad.net/castellan/+bug/1876102\n\nCloses-Bug: #1886615\n\nChange-Id: I6a174468bd91d214c08477b93c88032a45c137be\n'}, {'number': 7, 'created': '2020-07-09 11:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d36b8102e6ba8120dd16d7470323918cfd451c04', 'message': 'add support when the openstack env enable internal TLS\n\ncurrently, we have some problems when we enable internal\nTLS.such as:\n1.create encrypted volume failed\n2.attach the encrypted volume failed\n3.upload encrypted image failed\nThe reason is that the castellan has a bug[1], but\nthe bug is fixed now. So we should support it.\n\n[1]:https://bugs.launchpad.net/castellan/+bug/1876102\n\nCloses-Bug: #1886615\n\nChange-Id: I6a174468bd91d214c08477b93c88032a45c137be\n'}, {'number': 8, 'created': '2020-07-09 16:18:18.000000000', 'files': ['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'releasenotes/notes/bug-1886615-640e817dfdb93b8a.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0e9a81fdca4e94048b731bc4c79da8b397437365', 'message': 'Fix Barbican client (Castellan) with TLS\n\nThe Castellan (Barbican client) has different parameters to control\nthe used CA file.\nThis patch uses them.\nMoreover, this aligns Barbican with other services by defaulting\nits client config to the internal endpoint.\n\nSee also [1].\n\n[1] https://bugs.launchpad.net/castellan/+bug/1876102\n\nCloses-Bug: #1886615\n\nChange-Id: I6a174468bd91d214c08477b93c88032a45c137be\n'}]",6,739429,0e9a81fdca4e94048b731bc4c79da8b397437365,44,9,8,27594,,,0,"Fix Barbican client (Castellan) with TLS

The Castellan (Barbican client) has different parameters to control
the used CA file.
This patch uses them.
Moreover, this aligns Barbican with other services by defaulting
its client config to the internal endpoint.

See also [1].

[1] https://bugs.launchpad.net/castellan/+bug/1876102

Closes-Bug: #1886615

Change-Id: I6a174468bd91d214c08477b93c88032a45c137be
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/29/739429/7 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2']",3,eafd4ab838a916713aa34fd7bc77a08256cd6cdd,bug/1886615,auth_version = 3 {% if enable_barbican | bool %} [barbican] auth_endpoint = {{ keystone_internal_url }} barbican_endpoint_type = internal cafile = {{ openstack_cacert }} {% endif %},,12,0
openstack%2Fkolla-ansible~master~Iabad035d583d291169f23be3d71931cb260e87ae,openstack/kolla-ansible,master,Iabad035d583d291169f23be3d71931cb260e87ae,CI: add prometheus-efk scenario,MERGED,2020-07-08 18:32:35.000000000,2020-07-20 10:12:03.000000000,2020-07-14 08:56:05.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-08 18:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/02d77565d539c5b7a947b95d848d939a7cbd4896', 'message': 'WIP: CI: add prometheus-efk scenario\n\nTests prometheus, grafana, and centralised logging.\n\nChange-Id: Iabad035d583d291169f23be3d71931cb260e87ae\n'}, {'number': 2, 'created': '2020-07-09 10:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8b2d9accad1311204d9a3092cec59cdb0504efa0', 'message': 'WIP: CI: add prometheus-efk scenario\n\nTests prometheus, grafana, and centralised logging.\n\nChange-Id: Iabad035d583d291169f23be3d71931cb260e87ae\n'}, {'number': 3, 'created': '2020-07-09 10:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ff201e9bcbd27dd82807025b2db00b91286e7da', 'message': 'WIP: CI: add prometheus-efk scenario\n\nTests prometheus, grafana, and centralised logging.\n\nChange-Id: Iabad035d583d291169f23be3d71931cb260e87ae\n'}, {'number': 4, 'created': '2020-07-09 11:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/87028f4ebb3a19de5dda0fa6ecaf7d6556338f08', 'message': 'WIP: CI: add prometheus-efk scenario\n\nTests prometheus, grafana, and centralised logging.\n\nChange-Id: Iabad035d583d291169f23be3d71931cb260e87ae\n'}, {'number': 5, 'created': '2020-07-09 11:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ca4f28745dba0c8c612a4dcf7e7ce2b53b02812f', 'message': 'WIP: CI: add prometheus-efk scenario\n\nTests prometheus, grafana, and centralised logging.\n\nChange-Id: Iabad035d583d291169f23be3d71931cb260e87ae\n'}, {'number': 6, 'created': '2020-07-09 12:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9452927674b093d95459a0fda840f01e6f69c8a7', 'message': 'WIP: CI: add prometheus-efk scenario\n\nTests prometheus, grafana, and centralised logging.\n\nChange-Id: Iabad035d583d291169f23be3d71931cb260e87ae\n'}, {'number': 7, 'created': '2020-07-09 14:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c87966b43858f05106a2ada0a4c088f66f50e9b0', 'message': 'WIP: CI: add prometheus-efk scenario\n\nTests prometheus, grafana, and centralised logging.\n\nChange-Id: Iabad035d583d291169f23be3d71931cb260e87ae\n'}, {'number': 8, 'created': '2020-07-09 16:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c3d52a5f20b1c69eef701bb1d3f294d694a9ec30', 'message': 'CI: add prometheus-efk scenario\n\nTests prometheus, grafana, and centralised logging.\n\nThe tests could be improved in future by querying logs in elasticsearch,\nand metrics in prometheus.\n\nChange-Id: Iabad035d583d291169f23be3d71931cb260e87ae\n'}, {'number': 9, 'created': '2020-07-10 07:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e71ecb8a702889bd8c66c8998e312b7c702ed8db', 'message': 'CI: add prometheus-efk scenario\n\nTests prometheus, grafana, and centralised logging.\n\nThe tests could be improved in future by querying logs in elasticsearch,\nand metrics in prometheus.\n\nChange-Id: Iabad035d583d291169f23be3d71931cb260e87ae\n'}, {'number': 10, 'created': '2020-07-10 07:55:14.000000000', 'files': ['tests/test-prometheus-efk.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f44876c406fcb7edf28e1d2f9ee894a220c362bc', 'message': 'CI: add prometheus-efk scenario\n\nTests prometheus, grafana, and centralised logging.\n\nThe tests could be improved in future by querying logs in elasticsearch,\nand metrics in prometheus.\n\nChange-Id: Iabad035d583d291169f23be3d71931cb260e87ae\n'}]",0,740083,f44876c406fcb7edf28e1d2f9ee894a220c362bc,31,3,10,14826,,,0,"CI: add prometheus-efk scenario

Tests prometheus, grafana, and centralised logging.

The tests could be improved in future by querying logs in elasticsearch,
and metrics in prometheus.

Change-Id: Iabad035d583d291169f23be3d71931cb260e87ae
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/83/740083/9 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-prometheus-efk.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'tools/setup_gate.sh']",7,02d77565d539c5b7a947b95d848d939a7cbd4896,," if [[ $SCENARIO == ""prometheus-efk"" ]]; then GATE_IMAGES=""^cron,^elasticsearch,^fluentd,^grafana,^haproxy,^keepalived,^kibana,^kolla-toolbox,^prometheus"" fi ",,72,44
openstack%2Freleases~master~I9d6621f45ce50159dbbf635020d006e6dc284b68,openstack/releases,master,I9d6621f45ce50159dbbf635020d006e6dc284b68,Release cinder for stable/stein,MERGED,2020-07-17 22:05:36.000000000,2020-07-20 10:11:34.000000000,2020-07-20 10:11:34.000000000,"[{'_account_id': 308}, {'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:05:36.000000000', 'files': ['deliverables/stein/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/effef66073a03515be44a7ef33ce2bf80bcbdbf1', 'message': 'Release cinder for stable/stein\n\nThis release picks up new commits to cinder since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I9d6621f45ce50159dbbf635020d006e6dc284b68\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741732,effef66073a03515be44a7ef33ce2bf80bcbdbf1,8,4,1,11904,,,0,"Release cinder for stable/stein

This release picks up new commits to cinder since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I9d6621f45ce50159dbbf635020d006e6dc284b68
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/32/741732/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/cinder.yaml'],1,effef66073a03515be44a7ef33ce2bf80bcbdbf1,stein-stable, - version: 14.2.1 projects: - repo: openstack/cinder hash: 5edb3a0b2c5114c5a083997087e1ce2b393e75f6,,4,0
openstack%2Freleases~master~Ie15ce623c4cd0030d7b1efccbc5635d88964233a,openstack/releases,master,Ie15ce623c4cd0030d7b1efccbc5635d88964233a,Release neutron-lbaas-dashboard for stable/stein,MERGED,2020-07-17 22:19:04.000000000,2020-07-20 10:11:33.000000000,2020-07-20 10:11:33.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:19:04.000000000', 'files': ['deliverables/stein/neutron-lbaas-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0f732813d714720f49387caadf60a94dd2ab4191', 'message': 'Release neutron-lbaas-dashboard for stable/stein\n\nThis release picks up new commits to neutron-lbaas-dashboard since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: Ie15ce623c4cd0030d7b1efccbc5635d88964233a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741757,0f732813d714720f49387caadf60a94dd2ab4191,9,5,1,11904,,,0,"Release neutron-lbaas-dashboard for stable/stein

This release picks up new commits to neutron-lbaas-dashboard since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Ie15ce623c4cd0030d7b1efccbc5635d88964233a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/57/741757/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/neutron-lbaas-dashboard.yaml'],1,0f732813d714720f49387caadf60a94dd2ab4191,stein-stable, - version: 6.0.1 projects: - repo: openstack/neutron-lbaas-dashboard hash: fdc34d2087c55bf59c8a20eb2dae13df04157773,,4,0
openstack%2Fbifrost~master~Ie1198768889bd468176cd68c8ccb48791c724262,openstack/bifrost,master,Ie1198768889bd468176cd68c8ccb48791c724262,Enable metadata cleaning by default,MERGED,2020-07-17 13:44:00.000000000,2020-07-20 10:10:27.000000000,2020-07-20 10:08:45.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-17 13:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1ff42d600c2391d67df26a1a55efde7f75083ac9', 'message': 'Enable metadata cleaning by default\n\nWe used to disable cleaning because only full disk cleaning was\navailable. Enable metadata cleaning by default and add an option\nto enable full cleaning.\n\nChange-Id: Ie1198768889bd468176cd68c8ccb48791c724262\n'}, {'number': 2, 'created': '2020-07-17 14:53:23.000000000', 'files': ['playbooks/roles/bifrost-prep-for-install/README.md', 'bifrost/cli.py', 'doc/source/contributor/testenv.rst', 'playbooks/roles/bifrost-unprovision-node-dynamic/tasks/main.yml', 'doc/source/install/index.rst', 'playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/test-bifrost.yaml', 'playbooks/roles/bifrost-ironic-install/README.md', 'playbooks/roles/bifrost-unprovision-node-dynamic/defaults/main.yml', 'releasenotes/notes/cleaning-9b4241342320f315.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d5b49bd498a2b1df683ec5b95d7747f7e7d37755', 'message': 'Enable metadata cleaning by default\n\nWe used to disable cleaning because only full disk cleaning was\navailable. Enable metadata cleaning by default and add an option\nto enable full cleaning.\n\nChange-Id: Ie1198768889bd468176cd68c8ccb48791c724262\n'}]",0,741638,d5b49bd498a2b1df683ec5b95d7747f7e7d37755,10,3,2,10239,,,0,"Enable metadata cleaning by default

We used to disable cleaning because only full disk cleaning was
available. Enable metadata cleaning by default and add an option
to enable full cleaning.

Change-Id: Ie1198768889bd468176cd68c8ccb48791c724262
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/38/741638/1 && git format-patch -1 --stdout FETCH_HEAD,"['bifrost/cli.py', 'doc/source/contributor/testenv.rst', 'playbooks/roles/bifrost-prep-for-install/README.md', 'doc/source/install/index.rst', 'playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/test-bifrost.yaml', 'playbooks/roles/bifrost-ironic-install/README.md', 'releasenotes/notes/cleaning-9b4241342320f315.yaml']",9,1ff42d600c2391d67df26a1a55efde7f75083ac9,cleaning,"--- features: - | Metadata cleaning is now enabled by default, set ``cleaning`` to ``false`` to disable completely. - | To enable full disk cleaning, set ``cleaning_disk_erase`` to ``true``. upgrade: - | If you use ``cleaning=true`` to enable full disk cleaning, you need to also set ``cleaning_disk_erase=true`` now. Omitting it will result in only metadata cleaning enabled. ",,39,18
openstack%2Freleases~master~I290f47ab3280de55f8d42c653361bf0221a24e39,openstack/releases,master,I290f47ab3280de55f8d42c653361bf0221a24e39,Release ironic for stable/stein,MERGED,2020-07-17 22:10:23.000000000,2020-07-20 10:06:16.000000000,2020-07-20 10:06:16.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:10:23.000000000', 'files': ['deliverables/stein/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4a3d6f3888a322fc1620c786a7e790dec07bb72c', 'message': 'Release ironic for stable/stein\n\nThis release picks up new commits to ironic since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I290f47ab3280de55f8d42c653361bf0221a24e39\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741740,4a3d6f3888a322fc1620c786a7e790dec07bb72c,11,6,1,11904,,,0,"Release ironic for stable/stein

This release picks up new commits to ironic since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I290f47ab3280de55f8d42c653361bf0221a24e39
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/741740/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/ironic.yaml'],1,4a3d6f3888a322fc1620c786a7e790dec07bb72c,stein-stable, - version: 12.1.5 projects: - repo: openstack/ironic hash: f1b2cb74545b4ea75bd551fca61c69f53bb608fd,,4,0
openstack%2Freleases~master~Ief2e28d88f6bae6af08930310f062e58616b83c9,openstack/releases,master,Ief2e28d88f6bae6af08930310f062e58616b83c9,Release python-octaviaclient for stable/stein,MERGED,2020-07-17 22:30:59.000000000,2020-07-20 10:06:15.000000000,2020-07-20 10:06:15.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:30:59.000000000', 'files': ['deliverables/stein/python-octaviaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bed3eaed9e562cd4f30c53fddbf128e073dd22eb', 'message': 'Release python-octaviaclient for stable/stein\n\nThis release picks up new commits to python-octaviaclient since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: Ief2e28d88f6bae6af08930310f062e58616b83c9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741767,bed3eaed9e562cd4f30c53fddbf128e073dd22eb,10,6,1,11904,,,0,"Release python-octaviaclient for stable/stein

This release picks up new commits to python-octaviaclient since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Ief2e28d88f6bae6af08930310f062e58616b83c9
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/67/741767/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/python-octaviaclient.yaml'],1,bed3eaed9e562cd4f30c53fddbf128e073dd22eb,stein-stable, - version: 1.8.2 projects: - repo: openstack/python-octaviaclient hash: c9069d587228603db696496f88b6e686d380f022,,4,0
openstack%2Fbifrost~master~I980d91302e58c086210cbcdb1e51dfcd05ec1722,openstack/bifrost,master,I980d91302e58c086210cbcdb1e51dfcd05ec1722,Make skip_install a normal boolean variable,MERGED,2020-07-17 12:27:50.000000000,2020-07-20 09:56:00.000000000,2020-07-20 09:53:54.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-17 12:27:50.000000000', 'files': ['playbooks/roles/bifrost-prep-for-install/README.md', 'playbooks/roles/bifrost-pip-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/test-bifrost.yaml', 'playbooks/roles/bifrost-pip-install/defaults/main.yml', 'scripts/test-bifrost.sh', 'releasenotes/notes/skip-install-bfd642f5065cf304.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-keystone-install/tasks/install.yml', 'playbooks/install.yaml', 'playbooks/roles/bifrost-keystone-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fc2b247f64a9a1aca9750903745377d2a53c0f82', 'message': ""Make skip_install a normal boolean variable\n\nCurrently we skip installation if it's set to any value, even false.\n\nChange-Id: I980d91302e58c086210cbcdb1e51dfcd05ec1722\n""}]",0,741627,fc2b247f64a9a1aca9750903745377d2a53c0f82,8,3,1,10239,,,0,"Make skip_install a normal boolean variable

Currently we skip installation if it's set to any value, even false.

Change-Id: I980d91302e58c086210cbcdb1e51dfcd05ec1722
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/27/741627/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-prep-for-install/README.md', 'playbooks/roles/bifrost-pip-install/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/test-bifrost.yaml', 'playbooks/roles/bifrost-pip-install/defaults/main.yml', 'scripts/test-bifrost.sh', 'releasenotes/notes/skip-install-bfd642f5065cf304.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-keystone-install/tasks/install.yml', 'playbooks/install.yaml', 'playbooks/roles/bifrost-keystone-install/defaults/main.yml']",12,fc2b247f64a9a1aca9750903745377d2a53c0f82,skip-install,skip_install: False,,27,13
openstack%2Freleases~master~I4d5478167b593783d8a2c10d0e125192020a2874,openstack/releases,master,I4d5478167b593783d8a2c10d0e125192020a2874,Release kuryr-kubernetes for stable/stein,MERGED,2020-07-17 22:12:00.000000000,2020-07-20 09:55:18.000000000,2020-07-20 09:55:18.000000000,"[{'_account_id': 308}, {'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:12:00.000000000', 'files': ['deliverables/stein/kuryr-kubernetes.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b012693aab682cde61cc94c81c0478bd77afc335', 'message': 'Release kuryr-kubernetes for stable/stein\n\nThis release picks up new commits to kuryr-kubernetes since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I4d5478167b593783d8a2c10d0e125192020a2874\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741743,b012693aab682cde61cc94c81c0478bd77afc335,9,4,1,11904,,,0,"Release kuryr-kubernetes for stable/stein

This release picks up new commits to kuryr-kubernetes since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I4d5478167b593783d8a2c10d0e125192020a2874
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/741743/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/kuryr-kubernetes.yaml'],1,b012693aab682cde61cc94c81c0478bd77afc335,stein-stable, - version: 1.0.1 projects: - repo: openstack/kuryr-kubernetes hash: cb0ff6c7ff7a850b623c4690da56af3257a53812,,4,0
openstack%2Freleases~master~I609ce0eef42489c7f01313bbd88a2d2691a58d48,openstack/releases,master,I609ce0eef42489c7f01313bbd88a2d2691a58d48,Release octavia for stable/stein,MERGED,2020-07-17 22:25:44.000000000,2020-07-20 09:55:17.000000000,2020-07-20 09:55:17.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:25:44.000000000', 'files': ['deliverables/stein/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7b0e02e48be9b51326b19d14662075f3dc0a0877', 'message': 'Release octavia for stable/stein\n\nThis release picks up new commits to octavia since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I609ce0eef42489c7f01313bbd88a2d2691a58d48\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741762,7b0e02e48be9b51326b19d14662075f3dc0a0877,9,5,1,11904,,,0,"Release octavia for stable/stein

This release picks up new commits to octavia since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I609ce0eef42489c7f01313bbd88a2d2691a58d48
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/741762/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/octavia.yaml'],1,7b0e02e48be9b51326b19d14662075f3dc0a0877,stein-stable, - version: 4.1.3 projects: - repo: openstack/octavia hash: d2bef9a47c6497b479d91471fbaec60d993e86ac,,4,0
openstack%2Freleases~master~I3999d0f407e5cb27e7da1c2edbc6ed79f379625d,openstack/releases,master,I3999d0f407e5cb27e7da1c2edbc6ed79f379625d,Release kuryr-libnetwork for stable/stein,MERGED,2020-07-17 22:12:13.000000000,2020-07-20 09:55:00.000000000,2020-07-20 09:55:00.000000000,"[{'_account_id': 308}, {'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:12:13.000000000', 'files': ['deliverables/stein/kuryr-libnetwork.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4e83fbe388024b16f03cbc138e6f40f4e7c2e615', 'message': 'Release kuryr-libnetwork for stable/stein\n\nThis release picks up new commits to kuryr-libnetwork since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I3999d0f407e5cb27e7da1c2edbc6ed79f379625d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741744,4e83fbe388024b16f03cbc138e6f40f4e7c2e615,10,5,1,11904,,,0,"Release kuryr-libnetwork for stable/stein

This release picks up new commits to kuryr-libnetwork since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I3999d0f407e5cb27e7da1c2edbc6ed79f379625d
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/741744/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/kuryr-libnetwork.yaml'],1,4e83fbe388024b16f03cbc138e6f40f4e7c2e615,stein-stable, - version: 3.0.1 projects: - repo: openstack/kuryr-libnetwork hash: f43ba07c783f291133b32dee0277d8e5035e3e8c,,4,0
openstack%2Freleases~master~I56cb654facc920dd7393cd385f874462bedba966,openstack/releases,master,I56cb654facc920dd7393cd385f874462bedba966,Release solum for stable/stein,MERGED,2020-07-17 22:34:06.000000000,2020-07-20 09:54:59.000000000,2020-07-20 09:54:59.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:34:06.000000000', 'files': ['deliverables/stein/solum.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8f6726faaf6d8e38f089740290d9e181585781ef', 'message': 'Release solum for stable/stein\n\nThis release picks up new commits to solum since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I56cb654facc920dd7393cd385f874462bedba966\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741776,8f6726faaf6d8e38f089740290d9e181585781ef,10,5,1,11904,,,0,"Release solum for stable/stein

This release picks up new commits to solum since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I56cb654facc920dd7393cd385f874462bedba966
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/76/741776/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/solum.yaml'],1,8f6726faaf6d8e38f089740290d9e181585781ef,stein-stable, - version: 6.0.1 projects: - repo: openstack/solum hash: c9d7760774ed7a749831592e426e14c6b5fba033,,4,0
openstack%2Freleases~master~I1d092f4eb08055a9ad511b23795956b16c1f5cbd,openstack/releases,master,I1d092f4eb08055a9ad511b23795956b16c1f5cbd,Release ironic-inspector for stable/stein,MERGED,2020-07-17 22:09:33.000000000,2020-07-20 09:53:45.000000000,2020-07-20 09:53:45.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:09:33.000000000', 'files': ['deliverables/stein/ironic-inspector.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/763eac7de98d2abca9687dadc82810ba7ccb1e62', 'message': 'Release ironic-inspector for stable/stein\n\nThis release picks up new commits to ironic-inspector since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I1d092f4eb08055a9ad511b23795956b16c1f5cbd\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741738,763eac7de98d2abca9687dadc82810ba7ccb1e62,9,6,1,11904,,,0,"Release ironic-inspector for stable/stein

This release picks up new commits to ironic-inspector since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I1d092f4eb08055a9ad511b23795956b16c1f5cbd
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/741738/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/ironic-inspector.yaml'],1,763eac7de98d2abca9687dadc82810ba7ccb1e62,stein-stable, - version: 8.2.5 projects: - repo: openstack/ironic-inspector hash: 72510ea9355e26c76a39abf0eb5d8e5b5df38ffc,,4,0
openstack%2Freleases~master~Icc1e443942b324aa307c7cdd2166d48eddbe7731,openstack/releases,master,Icc1e443942b324aa307c7cdd2166d48eddbe7731,Release murano for stable/stein,MERGED,2020-07-17 22:17:22.000000000,2020-07-20 09:52:23.000000000,2020-07-20 09:52:23.000000000,"[{'_account_id': 308}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:17:22.000000000', 'files': ['deliverables/stein/murano.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0661b073408418346b70aeae854d33a4a0e5b298', 'message': 'Release murano for stable/stein\n\nThis release picks up new commits to murano since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: Icc1e443942b324aa307c7cdd2166d48eddbe7731\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741754,0661b073408418346b70aeae854d33a4a0e5b298,9,4,1,11904,,,0,"Release murano for stable/stein

This release picks up new commits to murano since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Icc1e443942b324aa307c7cdd2166d48eddbe7731
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/741754/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/murano.yaml'],1,0661b073408418346b70aeae854d33a4a0e5b298,stein-stable, - version: 7.1.0 projects: - repo: openstack/murano hash: 75a85b0c0c8d810f4b3cc246cc5adf3ba52ec006,,4,0
openstack%2Freleases~master~I16261c301730cec9c5b77541bc0dfb8c8e8eb23b,openstack/releases,master,I16261c301730cec9c5b77541bc0dfb8c8e8eb23b,Release ironic-python-agent for stable/stein,MERGED,2020-07-17 22:09:50.000000000,2020-07-20 09:52:21.000000000,2020-07-20 09:52:21.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:09:50.000000000', 'files': ['deliverables/stein/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d775aa75680f065327824167038780d1a7674f63', 'message': 'Release ironic-python-agent for stable/stein\n\nThis release picks up new commits to ironic-python-agent since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I16261c301730cec9c5b77541bc0dfb8c8e8eb23b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741739,d775aa75680f065327824167038780d1a7674f63,9,6,1,11904,,,0,"Release ironic-python-agent for stable/stein

This release picks up new commits to ironic-python-agent since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I16261c301730cec9c5b77541bc0dfb8c8e8eb23b
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/741739/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/ironic-python-agent.yaml'],1,d775aa75680f065327824167038780d1a7674f63,stein-stable, - version: 3.6.4 projects: - repo: openstack/ironic-python-agent hash: 0819e416b029939f403a0b736ef302a02a01dfac,,4,0
openstack%2Freleases~master~I54cbedfbad37448858dba31a4ebb8783f8c15ee0,openstack/releases,master,I54cbedfbad37448858dba31a4ebb8783f8c15ee0,Release sahara-plugin-mapr for stable/stein,MERGED,2020-07-17 22:32:50.000000000,2020-07-20 09:51:15.000000000,2020-07-20 09:51:14.000000000,"[{'_account_id': 308}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:32:50.000000000', 'files': ['deliverables/stein/sahara-plugin-mapr.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/22219927458b3b69021ce3514c6d6b6fc2f9b49d', 'message': 'Release sahara-plugin-mapr for stable/stein\n\nThis release picks up new commits to sahara-plugin-mapr since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I54cbedfbad37448858dba31a4ebb8783f8c15ee0\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741772,22219927458b3b69021ce3514c6d6b6fc2f9b49d,11,6,1,11904,,,0,"Release sahara-plugin-mapr for stable/stein

This release picks up new commits to sahara-plugin-mapr since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I54cbedfbad37448858dba31a4ebb8783f8c15ee0
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/72/741772/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/sahara-plugin-mapr.yaml'],1,22219927458b3b69021ce3514c6d6b6fc2f9b49d,stein-stable, - version: 1.0.2 projects: - repo: openstack/sahara-plugin-mapr hash: f58087bbb184b22dfa25a5ceb8f8cdf18499800d,,4,0
openstack%2Freleases~master~If746189cbc9c262d1bea495e96f2be0b23edc554,openstack/releases,master,If746189cbc9c262d1bea495e96f2be0b23edc554,Release vitrage for stable/stein,MERGED,2020-07-17 22:37:07.000000000,2020-07-20 09:48:29.000000000,2020-07-20 09:48:29.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:37:07.000000000', 'files': ['deliverables/stein/vitrage.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e8bba83d65b51109c2d04fd2371e98e28bbc7adc', 'message': 'Release vitrage for stable/stein\n\nThis release picks up new commits to vitrage since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: If746189cbc9c262d1bea495e96f2be0b23edc554\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741780,e8bba83d65b51109c2d04fd2371e98e28bbc7adc,10,5,1,11904,,,0,"Release vitrage for stable/stein

This release picks up new commits to vitrage since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: If746189cbc9c262d1bea495e96f2be0b23edc554
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/741780/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/vitrage.yaml'],1,e8bba83d65b51109c2d04fd2371e98e28bbc7adc,stein-stable, - version: 4.3.2 projects: - repo: openstack/vitrage hash: c3aaf5042f3ea33ddc66d093f63c3fe826f167ff,,4,0
openstack%2Freleases~master~I342d4b219ef6505c2a462a84190df95254212676,openstack/releases,master,I342d4b219ef6505c2a462a84190df95254212676,Release sahara-dashboard for stable/stein,MERGED,2020-07-17 22:32:18.000000000,2020-07-20 09:45:25.000000000,2020-07-20 09:45:25.000000000,"[{'_account_id': 308}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:32:18.000000000', 'files': ['deliverables/stein/sahara-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/49aa662a9eda3d43e22892fa141471ee3ebc46a8', 'message': 'Release sahara-dashboard for stable/stein\n\nThis release picks up new commits to sahara-dashboard since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I342d4b219ef6505c2a462a84190df95254212676\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741769,49aa662a9eda3d43e22892fa141471ee3ebc46a8,11,6,1,11904,,,0,"Release sahara-dashboard for stable/stein

This release picks up new commits to sahara-dashboard since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I342d4b219ef6505c2a462a84190df95254212676
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/69/741769/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/sahara-dashboard.yaml'],1,49aa662a9eda3d43e22892fa141471ee3ebc46a8,stein-stable, - version: 10.0.2 projects: - repo: openstack/sahara-dashboard hash: a63c7b419bc54dc9401beda9b49eb5064e8c8b90,,4,0
openstack%2Freleases~master~I820ca8eb99ba4138f436dc3ec6544d5deb33e99d,openstack/releases,master,I820ca8eb99ba4138f436dc3ec6544d5deb33e99d,Release zun for stable/stein,MERGED,2020-07-17 22:38:59.000000000,2020-07-20 09:45:23.000000000,2020-07-20 09:45:23.000000000,"[{'_account_id': 308}, {'_account_id': 11536}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 27654}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:38:59.000000000', 'files': ['deliverables/stein/zun.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e0bbddc72a6fa059f0b3ae4b20750406a7b1d89c', 'message': 'Release zun for stable/stein\n\nThis release picks up new commits to zun since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I820ca8eb99ba4138f436dc3ec6544d5deb33e99d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741783,e0bbddc72a6fa059f0b3ae4b20750406a7b1d89c,10,7,1,11904,,,0,"Release zun for stable/stein

This release picks up new commits to zun since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I820ca8eb99ba4138f436dc3ec6544d5deb33e99d
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/741783/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/zun.yaml'],1,e0bbddc72a6fa059f0b3ae4b20750406a7b1d89c,stein-stable, - version: 3.0.1 projects: - repo: openstack/zun hash: 307617805dfb2ca32761c2db3aaa472b6811a7bf,,4,0
openstack%2Freleases~master~I246d4ee7adfd9d47287367618fcb7ef6c02797ea,openstack/releases,master,I246d4ee7adfd9d47287367618fcb7ef6c02797ea,Release python-zunclient for stable/stein,MERGED,2020-07-17 22:31:48.000000000,2020-07-20 09:45:21.000000000,2020-07-20 09:45:21.000000000,"[{'_account_id': 308}, {'_account_id': 11536}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 27654}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:31:48.000000000', 'files': ['deliverables/stein/python-zunclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d18cd510e2e1dd27a93c1af3f1474f220816f6de', 'message': 'Release python-zunclient for stable/stein\n\nThis release picks up new commits to python-zunclient since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I246d4ee7adfd9d47287367618fcb7ef6c02797ea\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741768,d18cd510e2e1dd27a93c1af3f1474f220816f6de,10,7,1,11904,,,0,"Release python-zunclient for stable/stein

This release picks up new commits to python-zunclient since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I246d4ee7adfd9d47287367618fcb7ef6c02797ea
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/68/741768/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/python-zunclient.yaml'],1,d18cd510e2e1dd27a93c1af3f1474f220816f6de,stein-stable, - version: 3.3.1 projects: - repo: openstack/python-zunclient hash: 75517b5284c99e3d2be051963a42f981f3959f63,,4,0
openstack%2Freleases~master~Ib4cbfc3dc2273c29347d2fae5cfe67d7d518377b,openstack/releases,master,Ib4cbfc3dc2273c29347d2fae5cfe67d7d518377b,Release zaqar for stable/stein,MERGED,2020-07-17 22:38:38.000000000,2020-07-20 09:41:20.000000000,2020-07-20 09:41:20.000000000,"[{'_account_id': 308}, {'_account_id': 6484}, {'_account_id': 8846}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:38:38.000000000', 'files': ['deliverables/stein/zaqar.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1a52fb703a4ed51cd4832aa0f8a5e80e8c1888b2', 'message': 'Release zaqar for stable/stein\n\nThis release picks up new commits to zaqar since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: Ib4cbfc3dc2273c29347d2fae5cfe67d7d518377b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741782,1a52fb703a4ed51cd4832aa0f8a5e80e8c1888b2,10,6,1,11904,,,0,"Release zaqar for stable/stein

This release picks up new commits to zaqar since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Ib4cbfc3dc2273c29347d2fae5cfe67d7d518377b
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/741782/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/zaqar.yaml'],1,1a52fb703a4ed51cd4832aa0f8a5e80e8c1888b2,stein-stable, - version: 8.0.1 projects: - repo: openstack/zaqar hash: a5752f84dd3b31f7b0087756c0bd906ef428ac42,,4,0
openstack%2Freleases~master~I59527381bc86a0819636246e5a38b3f4f38b3c99,openstack/releases,master,I59527381bc86a0819636246e5a38b3f4f38b3c99,Release ceilometer for stable/stein,MERGED,2020-07-17 22:04:28.000000000,2020-07-20 09:41:19.000000000,2020-07-20 09:41:19.000000000,"[{'_account_id': 308}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:04:28.000000000', 'files': ['deliverables/stein/ceilometer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/80e57784196e5ada77737496eebc6b4d302127ce', 'message': 'Release ceilometer for stable/stein\n\nThis release picks up new commits to ceilometer since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I59527381bc86a0819636246e5a38b3f4f38b3c99\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741730,80e57784196e5ada77737496eebc6b4d302127ce,9,4,1,11904,,,0,"Release ceilometer for stable/stein

This release picks up new commits to ceilometer since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I59527381bc86a0819636246e5a38b3f4f38b3c99
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/741730/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/ceilometer.yaml'],1,80e57784196e5ada77737496eebc6b4d302127ce,stein-stable, - version: 12.1.1 projects: - repo: openstack/ceilometer hash: 6787bfc00397b6d38f51fb890fd1c2199b719eb2,,4,0
openstack%2Freleases~master~Ie6ae287a8429ef6746daca90eb64d5e18918cb18,openstack/releases,master,Ie6ae287a8429ef6746daca90eb64d5e18918cb18,Release aodh for stable/stein,MERGED,2020-07-17 22:00:25.000000000,2020-07-20 09:41:17.000000000,2020-07-20 09:41:17.000000000,"[{'_account_id': 308}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:00:25.000000000', 'files': ['deliverables/stein/aodh.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ed18b54a299e18542415027a31a432e34dd22a30', 'message': 'Release aodh for stable/stein\n\nThis release picks up new commits to aodh since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: Ie6ae287a8429ef6746daca90eb64d5e18918cb18\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741725,ed18b54a299e18542415027a31a432e34dd22a30,9,4,1,11904,,,0,"Release aodh for stable/stein

This release picks up new commits to aodh since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Ie6ae287a8429ef6746daca90eb64d5e18918cb18
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/741725/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/aodh.yaml'],1,ed18b54a299e18542415027a31a432e34dd22a30,stein-stable, - version: 8.0.1 projects: - repo: openstack/aodh hash: 43e3b39a649897344ca863e6c8b4e85d5b32d4b7,,4,0
openstack%2Freleases~master~I7d31a497c7b2832d7a8938af9c40362b85fa3def,openstack/releases,master,I7d31a497c7b2832d7a8938af9c40362b85fa3def,Release tacker for stable/stein,MERGED,2020-07-17 22:35:25.000000000,2020-07-20 09:41:16.000000000,2020-07-20 09:41:15.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:35:25.000000000', 'files': ['deliverables/stein/tacker.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e7904dd8bf966833015bb04a92c79b960715f92d', 'message': 'Release tacker for stable/stein\n\nThis release picks up new commits to tacker since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I7d31a497c7b2832d7a8938af9c40362b85fa3def\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741779,e7904dd8bf966833015bb04a92c79b960715f92d,10,5,1,11904,,,0,"Release tacker for stable/stein

This release picks up new commits to tacker since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I7d31a497c7b2832d7a8938af9c40362b85fa3def
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/741779/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/tacker.yaml'],1,e7904dd8bf966833015bb04a92c79b960715f92d,stein-stable, - version: 1.0.1 projects: - repo: openstack/tacker hash: aee46c86bbe87cbb8b6ebb3bd9b765aafd13df53,,4,0
openstack%2Freleases~master~If8be3197a8485c5cbc0f137ecabdcfc7f84fe7e7,openstack/releases,master,If8be3197a8485c5cbc0f137ecabdcfc7f84fe7e7,Release tacker-horizon for stable/stein,MERGED,2020-07-17 22:34:58.000000000,2020-07-20 09:40:29.000000000,2020-07-20 09:40:29.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:34:58.000000000', 'files': ['deliverables/stein/tacker-horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5d4785ac46f00489d92207d4fae1d291cd95a1e1', 'message': 'Release tacker-horizon for stable/stein\n\nThis release picks up new commits to tacker-horizon since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: If8be3197a8485c5cbc0f137ecabdcfc7f84fe7e7\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741778,5d4785ac46f00489d92207d4fae1d291cd95a1e1,10,5,1,11904,,,0,"Release tacker-horizon for stable/stein

This release picks up new commits to tacker-horizon since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: If8be3197a8485c5cbc0f137ecabdcfc7f84fe7e7
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/78/741778/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/tacker-horizon.yaml'],1,5d4785ac46f00489d92207d4fae1d291cd95a1e1,stein-stable, - version: 0.14.1 projects: - repo: openstack/tacker-horizon hash: 471af9fd63ea5152ad7110e8e7717f6260a63ec4,,4,0
openstack%2Freleases~master~If013d4d1ecec13d1b6d5c09e5f1888d4c60a91a8,openstack/releases,master,If013d4d1ecec13d1b6d5c09e5f1888d4c60a91a8,Release horizon for stable/stein,MERGED,2020-07-17 22:09:17.000000000,2020-07-20 09:40:28.000000000,2020-07-20 09:40:28.000000000,"[{'_account_id': 308}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-07-17 22:09:17.000000000', 'files': ['deliverables/stein/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/234835125630bb13f022afe1d2926b6da0aaf93e', 'message': 'Release horizon for stable/stein\n\nThis release picks up new commits to horizon since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: If013d4d1ecec13d1b6d5c09e5f1888d4c60a91a8\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741737,234835125630bb13f022afe1d2926b6da0aaf93e,9,5,1,11904,,,0,"Release horizon for stable/stein

This release picks up new commits to horizon since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: If013d4d1ecec13d1b6d5c09e5f1888d4c60a91a8
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/741737/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/horizon.yaml'],1,234835125630bb13f022afe1d2926b6da0aaf93e,stein-stable, - version: 15.3.1 projects: - repo: openstack/horizon hash: 8da0dcd21200cc851e57de4dfa46c3c838c73c3c,,4,0
openstack%2Freleases~master~I2a97a8567511296ee019f464d72b2a3f9302fb34,openstack/releases,master,I2a97a8567511296ee019f464d72b2a3f9302fb34,Release manila for stable/stein,MERGED,2020-07-17 22:13:06.000000000,2020-07-20 09:40:26.000000000,2020-07-20 09:40:26.000000000,"[{'_account_id': 308}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:13:06.000000000', 'files': ['deliverables/stein/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/609a671906c0f630d1c2796f942734e6aae59762', 'message': 'Release manila for stable/stein\n\nThis release picks up new commits to manila since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I2a97a8567511296ee019f464d72b2a3f9302fb34\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741747,609a671906c0f630d1c2796f942734e6aae59762,9,5,1,11904,,,0,"Release manila for stable/stein

This release picks up new commits to manila since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I2a97a8567511296ee019f464d72b2a3f9302fb34
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/741747/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/manila.yaml'],1,609a671906c0f630d1c2796f942734e6aae59762,stein-stable, - version: 8.1.3 projects: - repo: openstack/manila hash: ef79a1df75850e2bf0e8c7e9ac95ceab93cd3232,,4,0
openstack%2Foctavia~stable%2Fussuri~Ie71db27dc383c93496c1dfd69f486a4fd02b597e,openstack/octavia,stable/ussuri,Ie71db27dc383c93496c1dfd69f486a4fd02b597e,add the verify for the session,MERGED,2020-06-29 08:55:07.000000000,2020-07-20 09:37:53.000000000,2020-07-20 09:36:15.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 21757}, {'_account_id': 22348}, {'_account_id': 24849}]","[{'number': 1, 'created': '2020-06-29 08:55:07.000000000', 'files': ['octavia/certificates/common/auth/barbican_acl.py', 'releasenotes/notes/fix-barbican-client-verfiy-689be1b9389bd1d8.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/12e30394ad9332ad122a8590c4904e6ea8f48844', 'message': 'add the verify for the session\n\nWe run the octavia scenario test failed when the OpenStack env\nenable TLS. So we need add the verify for the session.\n\nStory: 2007662\nTask:  39754\nCloses-Bug: #1877818\n(cherry picked from commit f26ab8b97be7a478fdd391c9e31a5c1a86a2a3cf)\n\nChange-Id: Ie71db27dc383c93496c1dfd69f486a4fd02b597e\n'}]",0,738403,12e30394ad9332ad122a8590c4904e6ea8f48844,8,6,1,27594,,,0,"add the verify for the session

We run the octavia scenario test failed when the OpenStack env
enable TLS. So we need add the verify for the session.

Story: 2007662
Task:  39754
Closes-Bug: #1877818
(cherry picked from commit f26ab8b97be7a478fdd391c9e31a5c1a86a2a3cf)

Change-Id: Ie71db27dc383c93496c1dfd69f486a4fd02b597e
",git fetch https://review.opendev.org/openstack/octavia refs/changes/03/738403/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/certificates/common/auth/barbican_acl.py', 'releasenotes/notes/fix-barbican-client-verfiy-689be1b9389bd1d8.yaml']",2,12e30394ad9332ad122a8590c4904e6ea8f48844,bug/1877818,"--- fixes: - | Fix an issue when the barbican service enable TLS, we create the listerner failed. ",,8,1
openstack%2Foctavia-lib~master~Ie201f5b2574e5e11aeca9c08859977a1b8a3c1d8,openstack/octavia-lib,master,Ie201f5b2574e5e11aeca9c08859977a1b8a3c1d8,Add missing assertIsInstance checks,MERGED,2020-06-25 18:53:52.000000000,2020-07-20 09:37:44.000000000,2020-07-20 09:36:16.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 18:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/866c92a0c0d145d0cfd07c9a3bc4617a62263f74', 'message': 'Add missing assertIsInstance checks\n\nTwo tests were missing assertIsInstance() checks, this\nmakes them like the tests above and below them.\n\nChange-Id: Ie201f5b2574e5e11aeca9c08859977a1b8a3c1d8\n'}, {'number': 2, 'created': '2020-07-20 08:43:57.000000000', 'files': ['octavia_lib/tests/unit/api/drivers/test_exceptions.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/ec7195d713d71370fa6a72d3839253b9789b3b4e', 'message': 'Add missing assertIsInstance checks\n\nTwo tests were missing assertIsInstance() checks, this\nmakes them like the tests above and below them.\n\nChange-Id: Ie201f5b2574e5e11aeca9c08859977a1b8a3c1d8\n'}]",0,738090,ec7195d713d71370fa6a72d3839253b9789b3b4e,15,4,2,1131,,,0,"Add missing assertIsInstance checks

Two tests were missing assertIsInstance() checks, this
makes them like the tests above and below them.

Change-Id: Ie201f5b2574e5e11aeca9c08859977a1b8a3c1d8
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/90/738090/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia_lib/tests/unit/api/drivers/test_exceptions.py'],1,866c92a0c0d145d0cfd07c9a3bc4617a62263f74,add-assert," self.assertIsInstance(update_status_error, Exception) self.assertIsInstance(update_stats_error, Exception)",,2,0
openstack%2Ftempest~master~I0112182811ce8fa573e66f52cc20a597764a3634,openstack/tempest,master,I0112182811ce8fa573e66f52cc20a597764a3634,Change the post url according to the api reference,ABANDONED,2020-04-13 09:33:25.000000000,2020-07-20 09:32:03.000000000,,"[{'_account_id': 8367}, {'_account_id': 12907}, {'_account_id': 22348}, {'_account_id': 30643}, {'_account_id': 30742}]","[{'number': 1, 'created': '2020-04-13 09:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/553f95868b05dc0e26278db0012c9904038cb61b', 'message': 'Change the post url according to the ref api\n\nchange the volume manage url according to ref api\n\nChange-Id: I0112182811ce8fa573e66f52cc20a597764a3634\n'}, {'number': 2, 'created': '2020-06-01 09:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/02ddc0059e2fc730eeeb2fb7ae5b8dd8eb0c3668', 'message': 'Change the post url according to the api reference\n\nchange the volume manage url according to api reference https://docs.openstack.org/api-ref/block-storage/v3/index.html#manage-an-existing-volume\n\nChange-Id: I0112182811ce8fa573e66f52cc20a597764a3634\n'}, {'number': 3, 'created': '2020-06-05 09:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bad6522bb0ccb5d715132394e291aadd0e121d41', 'message': 'Change the post url according to the api reference\n\nchange the volume manage url according to api reference https://docs.openstack.org/api-ref/block-storage/v3/index.html#manage-an-existing-volume\n\nChange-Id: I0112182811ce8fa573e66f52cc20a597764a3634\n'}]",0,719426,bad6522bb0ccb5d715132394e291aadd0e121d41,17,5,3,30643,,,0,"Change the post url according to the api reference

change the volume manage url according to api reference https://docs.openstack.org/api-ref/block-storage/v3/index.html#manage-an-existing-volume

Change-Id: I0112182811ce8fa573e66f52cc20a597764a3634
",git fetch https://review.opendev.org/openstack/tempest refs/changes/26/719426/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/volume/v3/volume_manage_client.py', 'tempest/tests/lib/services/volume/v3/test_volume_manage_client.py']",2,553f95868b05dc0e26278db0012c9904038cb61b,fix412," mock_args=['manageable_volumes', payload],"," mock_args=['os-volume-manage', payload],",2,2
openstack%2Freleases~master~Id80a49cc7854002bb4bc66ed077edd68960ef6be,openstack/releases,master,Id80a49cc7854002bb4bc66ed077edd68960ef6be,Release blazar for stable/stein,MERGED,2020-07-17 22:03:32.000000000,2020-07-20 09:29:56.000000000,2020-07-20 09:29:56.000000000,"[{'_account_id': 308}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:03:32.000000000', 'files': ['deliverables/stein/blazar.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/aa77df6ebab77d02cbabfd7ab61ee39f63b6454d', 'message': 'Release blazar for stable/stein\n\nThis release picks up new commits to blazar since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: Id80a49cc7854002bb4bc66ed077edd68960ef6be\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741729,aa77df6ebab77d02cbabfd7ab61ee39f63b6454d,9,4,1,11904,,,0,"Release blazar for stable/stein

This release picks up new commits to blazar since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Id80a49cc7854002bb4bc66ed077edd68960ef6be
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/741729/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/blazar.yaml'],1,aa77df6ebab77d02cbabfd7ab61ee39f63b6454d,stein-stable, - version: 3.0.1 projects: - repo: openstack/blazar hash: 6bbad1bc79eb2f9535e58f0c9ff19669eaac1373,,4,0
openstack%2Freleases~master~Ifdd08c9f3457470c6fc0a142c10982bcbfb0450e,openstack/releases,master,Ifdd08c9f3457470c6fc0a142c10982bcbfb0450e,Release oslo's project for stein - 2020-07-17,MERGED,2020-07-17 10:37:03.000000000,2020-07-20 09:23:56.000000000,2020-07-20 09:23:56.000000000,"[{'_account_id': 308}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 10:37:03.000000000', 'files': ['deliverables/stein/castellan.yaml', 'deliverables/stein/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a6e3787bc9c1ce7fef09c7170523873e3cd7a4fc', 'message': ""Release oslo's project for stein - 2020-07-17\n\nRelease a bugfix version for Castellan even if a feature have been added\nbecause the right minor version is already in use in train.\n\nChange-Id: Ifdd08c9f3457470c6fc0a142c10982bcbfb0450e\n""}]",0,741613,a6e3787bc9c1ce7fef09c7170523873e3cd7a4fc,8,4,1,28522,,,0,"Release oslo's project for stein - 2020-07-17

Release a bugfix version for Castellan even if a feature have been added
because the right minor version is already in use in train.

Change-Id: Ifdd08c9f3457470c6fc0a142c10982bcbfb0450e
",git fetch https://review.opendev.org/openstack/releases refs/changes/13/741613/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/castellan.yaml', 'deliverables/stein/oslo.messaging.yaml']",2,a6e3787bc9c1ce7fef09c7170523873e3cd7a4fc,oslo-stein-07-17, - version: 9.5.2 projects: - repo: openstack/oslo.messaging hash: fd795bbb8f5aaa740fa810f2248646f6ec3a211e,,8,0
openstack%2Freleases~master~Ie4f1057048bfdc55c1c403654da8831461199468,openstack/releases,master,Ie4f1057048bfdc55c1c403654da8831461199468,Release oslo's project for train - 2020-07-17,MERGED,2020-07-17 10:41:26.000000000,2020-07-20 09:23:55.000000000,2020-07-20 09:23:54.000000000,"[{'_account_id': 308}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 10:41:26.000000000', 'files': ['deliverables/train/castellan.yaml', 'deliverables/train/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c5141a905ac66caec172f2a01277287e17013264', 'message': ""Release oslo's project for train - 2020-07-17\n\nCastellan ought to be a minor version, but this one is already in use in\nussuri.\n\nChange-Id: Ie4f1057048bfdc55c1c403654da8831461199468\n""}]",1,741614,c5141a905ac66caec172f2a01277287e17013264,8,4,1,28522,,,0,"Release oslo's project for train - 2020-07-17

Castellan ought to be a minor version, but this one is already in use in
ussuri.

Change-Id: Ie4f1057048bfdc55c1c403654da8831461199468
",git fetch https://review.opendev.org/openstack/releases refs/changes/14/741614/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/castellan.yaml', 'deliverables/train/oslo.messaging.yaml']",2,c5141a905ac66caec172f2a01277287e17013264,oslo-train-07-17, - version: 10.2.1 projects: - repo: openstack/oslo.messaging hash: 1613b7a968f33ef7dc683d05fde05be0c458c8fc,,8,0
openstack%2Fopenstack-ansible-repo_server~stable%2Ftrain~I0c56df1d184553a6128c9645811e7ed6950e893b,openstack/openstack-ansible-repo_server,stable/train,I0c56df1d184553a6128c9645811e7ed6950e893b,add missing quote to lsyncd.lua template,MERGED,2020-05-29 14:47:32.000000000,2020-07-20 09:15:45.000000000,2020-05-31 18:35:28.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-05-29 14:47:32.000000000', 'files': ['templates/lsyncd.lua.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/d8c48fe420b83a79595259c91ab31d807ea64c53', 'message': 'add missing quote to lsyncd.lua template\n\nChange-Id: I0c56df1d184553a6128c9645811e7ed6950e893b\n(cherry picked from commit 220a48107111e7fc33d6342cf71bb8f93d18a523)\n'}]",0,731779,d8c48fe420b83a79595259c91ab31d807ea64c53,9,3,1,14288,,,0,"add missing quote to lsyncd.lua template

Change-Id: I0c56df1d184553a6128c9645811e7ed6950e893b
(cherry picked from commit 220a48107111e7fc33d6342cf71bb8f93d18a523)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/79/731779/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/lsyncd.lua.j2'],1,d8c48fe420b83a79595259c91ab31d807ea64c53,train/fix-lsyncd-template-quote," exclude = ""{{ repo_build_global_links_dirname }}"","," exclude = {{ repo_build_global_links_dirname }}"",",1,1
openstack%2Fcharm-cinder-purestorage~master~I65d31b439c83ef6dea0f1b0f333101918b228592,openstack/charm-cinder-purestorage,master,I65d31b439c83ef6dea0f1b0f333101918b228592,Add Victoria test bundles,MERGED,2020-07-17 11:32:29.000000000,2020-07-20 08:50:14.000000000,2020-07-20 08:50:14.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 11:32:29.000000000', 'files': ['src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/e273d8334aa17442187e92f4d9dc5f583eabb471', 'message': 'Add Victoria test bundles\n\nChange-Id: I65d31b439c83ef6dea0f1b0f333101918b228592\n'}]",0,741620,e273d8334aa17442187e92f4d9dc5f583eabb471,7,3,1,31289,,,0,"Add Victoria test bundles

Change-Id: I65d31b439c83ef6dea0f1b0f333101918b228592
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/20/741620/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml']",3,e273d8334aa17442187e92f4d9dc5f583eabb471,victoria-charm-tests,dev_bundles: - groovy-victoria - focal-victoria tests_options: force_deploy: - groovy-victoria,,166,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~I725f6a6caa7e91949ab23c0cbd04fd6d1d992eb3,openstack/tripleo-upgrade,stable/train,I725f6a6caa7e91949ab23c0cbd04fd6d1d992eb3,Workload during updates can be launched with SRIOV ports,ABANDONED,2020-07-20 08:35:07.000000000,2020-07-20 08:38:26.000000000,,[],"[{'number': 1, 'created': '2020-07-20 08:35:07.000000000', 'files': ['tasks/main.yml', 'README.rst', 'infrared_plugin/plugin.spec', 'templates/workload_launch.sh.j2', 'templates/fip_http_check_start.sh.j2', 'infrared_plugin/main.yml', 'templates/nova_actions_check.sh.j2', 'defaults/main.yml', 'templates/l3_agent_start_ping.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0df27d3f4b7f9ce6f876df7065c8b337155b2b1f', 'message': 'Workload during updates can be launched with SRIOV ports\n\nWhen upgrade-workloadsriov is set, workload is generated with an SRIOV\nPF port on the existing external network\nA mechanism has been added to remove workload previously created after\nupdate/upgrade is completed, when upgrade-workloadcleanup is set\n\nChange-Id: I725f6a6caa7e91949ab23c0cbd04fd6d1d992eb3\n'}]",0,741889,0df27d3f4b7f9ce6f876df7065c8b337155b2b1f,3,0,1,31291,,,0,"Workload during updates can be launched with SRIOV ports

When upgrade-workloadsriov is set, workload is generated with an SRIOV
PF port on the existing external network
A mechanism has been added to remove workload previously created after
update/upgrade is completed, when upgrade-workloadcleanup is set

Change-Id: I725f6a6caa7e91949ab23c0cbd04fd6d1d992eb3
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/89/741889/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'README.rst', 'infrared_plugin/plugin.spec', 'templates/fip_http_check_start.sh.j2', 'templates/workload_launch.sh.j2', 'infrared_plugin/main.yml', 'templates/nova_actions_check.sh.j2', 'defaults/main.yml', 'templates/l3_agent_start_ping.sh.j2']",9,0df27d3f4b7f9ce6f876df7065c8b337155b2b1f,sriov_workload-stable/train,"if [ -f {{ working_dir }}/vm_ip.sh ]; then source {{ working_dir }}/vm_ip.sh {% if workload_sriov | bool %} echo export VM_IP=$(openstack server list -f json | jq -r -c '.[0][""Networks""]' | cut -d""="" -f2) > {{ working_dir }}/vm_ip.sh {% else %} echo export VM_IP=$(openstack floating ip list -f json | jq -r -c '.[] | select(.Port) | .[""Floating IP Address""]' | head -1) > {{ working_dir }}/vm_ip.sh {% endif %} source {{ working_dir }}/vm_ip.shping -D ${VM_IP} >> ~/ping_results_$(date +%Y%m%d%H%M).log &","if [ -f {{ working_dir }}/fip.sh ]; then source {{ working_dir }}/fip.sh echo export FIP=$(openstack floating ip list -f json | jq -r -c '.[] | select(.Port) | .[""Floating IP Address""]' | head -1) > {{ working_dir }}/fip.sh source {{ working_dir }}/fip.shping -D ${FIP} >> ~/ping_results_$(date +%Y%m%d%H%M).log &",295,177
openstack%2Fbifrost~master~I588fe1cb625683efa6c1e4f21b6c84a098230954,openstack/bifrost,master,I588fe1cb625683efa6c1e4f21b6c84a098230954,Add git_url_root to override root for all repositories at once,MERGED,2020-07-09 10:24:04.000000000,2020-07-20 08:24:38.000000000,2020-07-20 08:23:00.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 10:24:04.000000000', 'files': ['playbooks/roles/bifrost-prep-for-install/README.md', 'playbooks/test-bifrost.yaml', 'releasenotes/notes/git-url-root-c81478d395f66e46.yaml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml', 'playbooks/test-bifrost-create-vm.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9e9249c5cb815ec8089ab13571c270dadc62aaa6', 'message': 'Add git_url_root to override root for all repositories at once\n\nChange-Id: I588fe1cb625683efa6c1e4f21b6c84a098230954\n'}]",0,740224,9e9249c5cb815ec8089ab13571c270dadc62aaa6,8,3,1,10239,,,0,"Add git_url_root to override root for all repositories at once

Change-Id: I588fe1cb625683efa6c1e4f21b6c84a098230954
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/24/740224/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-prep-for-install/README.md', 'playbooks/test-bifrost.yaml', 'releasenotes/notes/git-url-root-c81478d395f66e46.yaml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml', 'playbooks/test-bifrost-create-vm.yaml']",6,9e9249c5cb815ec8089ab13571c270dadc62aaa6,git-url-root," git_url_root: ""{{ lookup('env', 'WORKSPACE') }}"""," reqs_git_url: ""{{ lookup('env', 'WORKSPACE') }}/openstack/requirements""",30,30
openstack%2Fcharm-ceilometer~master~I004bff0706362f893f2f69b07568be1034dbf574,openstack/charm-ceilometer,master,I004bff0706362f893f2f69b07568be1034dbf574,Set the b64 encoded cert as a string,MERGED,2020-05-26 14:52:20.000000000,2020-07-20 08:24:11.000000000,2020-05-27 07:05:28.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-26 14:52:20.000000000', 'files': ['hooks/ceilometer_hooks.py', 'unit_tests/test_ceilometer_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/7ad2d31417fa1836ca66195e57ade417d9de9cd3', 'message': 'Set the b64 encoded cert as a string\n\nSending a byte string to relation-set can result in the data\nbeing sent being prefixed with a ""b\'"". In this case it corrupts\nthe b64encoding and the receiving charm (ceilometer-agent) cannot\nb64decode the data.\n\nChange-Id: I004bff0706362f893f2f69b07568be1034dbf574\n'}]",0,730840,7ad2d31417fa1836ca66195e57ade417d9de9cd3,8,3,1,12549,,,0,"Set the b64 encoded cert as a string

Sending a byte string to relation-set can result in the data
being sent being prefixed with a ""b'"". In this case it corrupts
the b64encoding and the receiving charm (ceilometer-agent) cannot
b64decode the data.

Change-Id: I004bff0706362f893f2f69b07568be1034dbf574
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/40/730840/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceilometer_hooks.py', 'unit_tests/test_ceilometer_hooks.py']",2,7ad2d31417fa1836ca66195e57ade417d9de9cd3,decode-cert,"from mock import patch, MagicMock, call, mock_open self.get_ceilometer_context.return_value = { 'test': 'data', 'rabbit_ssl_ca': '/etc/certs/rabbit.pem'} with patch.object( hooks, 'open', mock_open(read_data=b'dGVzdCBjZXJ0Cg==')): hooks.hooks.execute(['hooks/ceilometer-service-relation-joined']) self.relation_set.assert_called_with( 'ceilometer:0', {'test': 'data', 'rabbit_ssl_ca': 'ZEdWemRDQmpaWEowQ2c9PQ=='})","from mock import patch, MagicMock, call self.get_ceilometer_context.return_value = {'test': 'data'} hooks.hooks.execute(['hooks/ceilometer-service-relation-joined']) self.relation_set.assert_called_with('ceilometer:0', {'test': 'data'})",13,6
openstack%2Fbifrost~master~Idfdfe2087b020cd8069d1088991e088873783825,openstack/bifrost,master,Idfdfe2087b020cd8069d1088991e088873783825,Get rid of ci_testing variable in roles,MERGED,2020-07-09 10:15:27.000000000,2020-07-20 08:04:37.000000000,2020-07-20 08:03:04.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-09 10:15:27.000000000', 'files': ['playbooks/roles/bifrost-prep-for-install/README.md', 'releasenotes/notes/ci-testing-faa63db25ebc94df.yaml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/test-bifrost.yaml', 'playbooks/roles/bifrost-prep-for-install/tasks/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml', 'playbooks/test-bifrost-create-vm.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ab69cca0cea475a4caa0351af3ad65e2ee226368', 'message': 'Get rid of ci_testing variable in roles\n\nThe roles should not change their behavior based on the presence of Zuul.\nUse the existing copy_from_local_path variable to copy pre-cached\nrepositories. Also get rid of the redundant ci_testing_zuul.\n\nChange-Id: Idfdfe2087b020cd8069d1088991e088873783825\n'}]",0,740217,ab69cca0cea475a4caa0351af3ad65e2ee226368,8,3,1,10239,,,0,"Get rid of ci_testing variable in roles

The roles should not change their behavior based on the presence of Zuul.
Use the existing copy_from_local_path variable to copy pre-cached
repositories. Also get rid of the redundant ci_testing_zuul.

Change-Id: Idfdfe2087b020cd8069d1088991e088873783825
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/17/740217/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-prep-for-install/README.md', 'releasenotes/notes/ci-testing-faa63db25ebc94df.yaml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/test-bifrost.yaml', 'playbooks/roles/bifrost-prep-for-install/tasks/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml', 'playbooks/test-bifrost-create-vm.yaml']",9,ab69cca0cea475a4caa0351af3ad65e2ee226368,ci-testing," copy_from_local_path: true reqs_git_url: ""{{ lookup('env', 'WORKSPACE') }}/openstack/requirements"" when: ci_testing | default(false)| bool when: ci_testing | default(false)| bool", ci_testing_zuul: true when: ci_testing_zuul is defined when: ci_testing_zuul is defined,22,27
openstack%2Fpuppet-tripleo~stable%2Fussuri~Ibb80b8b0f4075c00ceb306bcf54bb87df58165af,openstack/puppet-tripleo,stable/ussuri,Ibb80b8b0f4075c00ceb306bcf54bb87df58165af,Use relative names to include classes,ABANDONED,2020-07-16 17:20:21.000000000,2020-07-20 07:05:31.000000000,,"[{'_account_id': 9816}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-16 17:20:21.000000000', 'files': ['manifests/profile/base/neutron/opencontrail/vrouter.pp', 'manifests/network/contrail/database.pp', 'manifests/profile/base/zaqar.pp', 'manifests/profile/base/metrics/collectd.pp', 'manifests/network/contrail/analyticsdatabase.pp', 'manifests/network/contrail/heat.pp', 'manifests/profile/base/mistral.pp', 'manifests/network/contrail/webui.pp', 'manifests/network/contrail/analytics.pp', 'manifests/network/contrail/config.pp', 'manifests/network/contrail/provision.pp', 'manifests/profile/base/ceilometer/agent/notification.pp', 'manifests/profile/base/haproxy.pp', 'manifests/profile/pacemaker/haproxy.pp', 'manifests/network/contrail/control.pp', 'manifests/network/contrail/vrouter.pp', 'manifests/profile/base/etcd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6b6f5d909d5b52794c3cf54c40f26b522b24e01c', 'message': 'Use relative names to include classes\n\n... to avoid lint errors by relative_classname_inclusion, which was\nre-enabled recently[1].\n\n[1] https://review.opendev.org/#/c/740023/\n\nCloses-Bug: #1887830\nChange-Id: Ibb80b8b0f4075c00ceb306bcf54bb87df58165af\n(cherry picked from commit 07e0aca2424a76fa95b4121967e5c0bf777301d0)\n'}]",0,741501,6b6f5d909d5b52794c3cf54c40f26b522b24e01c,12,5,1,20778,,,0,"Use relative names to include classes

... to avoid lint errors by relative_classname_inclusion, which was
re-enabled recently[1].

[1] https://review.opendev.org/#/c/740023/

Closes-Bug: #1887830
Change-Id: Ibb80b8b0f4075c00ceb306bcf54bb87df58165af
(cherry picked from commit 07e0aca2424a76fa95b4121967e5c0bf777301d0)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/01/741501/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/neutron/opencontrail/vrouter.pp', 'manifests/network/contrail/database.pp', 'manifests/profile/base/zaqar.pp', 'manifests/profile/base/metrics/collectd.pp', 'manifests/network/contrail/analyticsdatabase.pp', 'manifests/network/contrail/heat.pp', 'manifests/profile/base/mistral.pp', 'manifests/network/contrail/webui.pp', 'manifests/network/contrail/analytics.pp', 'manifests/network/contrail/config.pp', 'manifests/network/contrail/provision.pp', 'manifests/profile/base/ceilometer/agent/notification.pp', 'manifests/profile/base/haproxy.pp', 'manifests/profile/pacemaker/haproxy.pp', 'manifests/network/contrail/control.pp', 'manifests/network/contrail/vrouter.pp', 'manifests/profile/base/etcd.pp']",17,6b6f5d909d5b52794c3cf54c40f26b522b24e01c,bug/1887830, class {'etcd':, class {'::etcd':,25,25
openstack%2Frequirements~master~I4ea56522632846b574e4f66926fdf83932e3de1f,openstack/requirements,master,I4ea56522632846b574e4f66926fdf83932e3de1f,Updated from generate-constraints,ABANDONED,2020-07-20 06:26:48.000000000,2020-07-20 06:41:44.000000000,,[],"[{'number': 1, 'created': '2020-07-20 06:26:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5b51095584cf2f5420ba83235e3264e34b86732c', 'message': 'Updated from generate-constraints\n\nChange-Id: I4ea56522632846b574e4f66926fdf83932e3de1f\n'}]",0,741878,5b51095584cf2f5420ba83235e3264e34b86732c,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I4ea56522632846b574e4f66926fdf83932e3de1f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/78/741878/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5b51095584cf2f5420ba83235e3264e34b86732c,openstack/requirements/constraints,mock===4.0.2docutils===0.16msgpack===1.0.0PyMySQL===0.10.0dogpile.cache===1.0.0pkg-resources===0.0.0,mock===3.0.5docutils===0.15.2msgpack===0.6.1PyMySQL===0.9.3dogpile.cache===0.9.2,6,5
openstack%2Fdevstack~master~Ifa366888605a43f708a08fd961020a161ae46c1a,openstack/devstack,master,Ifa366888605a43f708a08fd961020a161ae46c1a,dnm: debug,ABANDONED,2020-07-15 04:23:37.000000000,2020-07-20 06:40:46.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 04:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c6b07be5879719429acedc8b40781134218d9e13', 'message': 'dnm: debug\n\nChange-Id: Ifa366888605a43f708a08fd961020a161ae46c1a\n'}, {'number': 2, 'created': '2020-07-15 19:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c7c897ab0ab2ce8760ed8b5b721fb8bab3d8c1ec', 'message': 'dnm: debug\n\nChange-Id: Ifa366888605a43f708a08fd961020a161ae46c1a\n'}, {'number': 3, 'created': '2020-07-15 21:23:22.000000000', 'files': ['inc/meta-config', '.zuul.yaml', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/76d7d7c90c3979c72404fddd31ee884c8bfdb1ec', 'message': 'dnm: debug\n\nChange-Id: Ifa366888605a43f708a08fd961020a161ae46c1a\n'}]",0,741082,76d7d7c90c3979c72404fddd31ee884c8bfdb1ec,7,2,3,16643,,,0,"dnm: debug

Change-Id: Ifa366888605a43f708a08fd961020a161ae46c1a
",git fetch https://review.opendev.org/openstack/devstack refs/changes/82/741082/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,c6b07be5879719429acedc8b40781134218d9e13,debug,cat /opt/stack/tempest/etc/tempest.confcat /opt/stack/tempest/etc/tempest.conf,,2,1
openstack%2Ftripleo-quickstart~master~I7b0ca347444317c91a94bf5410d244bf0cf000b1,openstack/tripleo-quickstart,master,I7b0ca347444317c91a94bf5410d244bf0cf000b1,[DNM] podman testing 164,ABANDONED,2020-07-15 08:28:33.000000000,2020-07-20 06:19:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-15 08:28:33.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ad5fec7d34095c1d26c7d33699bb3fd0e0db62ca', 'message': '[DNM] podman testing 164\n\nChange-Id: I7b0ca347444317c91a94bf5410d244bf0cf000b1\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,741113,ad5fec7d34095c1d26c7d33699bb3fd0e0db62ca,4,2,1,12393,,,0,"[DNM] podman testing 164

Change-Id: I7b0ca347444317c91a94bf5410d244bf0cf000b1
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/13/741113/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-ussuri.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml']",3,ad5fec7d34095c1d26c7d33699bb3fd0e0db62ca,podman164testing, sudo dnf -y install https://koji.mbox.centos.org/pkgs/packages/podman/1.6.4/10.module_el8.2.0+305+5e198a41/x86_64/podman-1.6.4-10.module_el8.2.0+305+5e198a41.x86_64.rpm podman,,6,0
openstack%2Fcinder~master~I88c5afacff5f1f780c2dc850e3af417b1b081592,openstack/cinder,master,I88c5afacff5f1f780c2dc850e3af417b1b081592,Kaminario: Fix unique_fqdn_network option,MERGED,2020-07-02 12:41:19.000000000,2020-07-20 05:31:56.000000000,2020-07-16 04:54:26.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29122}, {'_account_id': 29705}, {'_account_id': 31254}, {'_account_id': 31849}]","[{'number': 1, 'created': '2020-07-02 12:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f86e4448813c5a2500da3ee7902328c5f12e8c4b', 'message': 'Kaminario: Fix unique_fqdn_network option\n\nThe Kaminario driver used to accept the unique_fqdn_network\nconfiguration option in the specific driver section, but when we moved\nthis option to be an option also used by 3PAR we introduced a regression\nwhere the parameter was now only used if it was defined in the shared\nconfiguration group.\n\nThis patch fixes this and makes it possible for the option to be defined\nin the sahred configuration group as well as the driver specific\nsection.\n\nChange-Id: I88c5afacff5f1f780c2dc850e3af417b1b081592\n'}, {'number': 2, 'created': '2020-07-02 12:49:22.000000000', 'files': ['doc/source/configuration/block-storage/drivers/hpe-3par-driver.rst', 'releasenotes/notes/fix-kaminario-unique_fqdn_network-ecde36f614c30733.yaml', 'cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/tests/unit/volume/drivers/test_kaminario.py', 'cinder/tests/unit/test.py', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/53504f82a53146151935e6aac301a41e2b387623', 'message': 'Kaminario: Fix unique_fqdn_network option\n\nThe Kaminario driver used to accept the unique_fqdn_network\nconfiguration option in the specific driver section, but when we moved\nthis option to be an option also used by 3PAR we introduced a regression\nwhere the parameter was now only used if it was defined in the shared\nconfiguration group.\n\nThis patch fixes this and makes it possible for the option to be defined\nin the shared configuration group as well as the driver specific\nsection.\n\nCloses-Bug: #1886042\nChange-Id: I88c5afacff5f1f780c2dc850e3af417b1b081592\n'}]",1,739033,53504f82a53146151935e6aac301a41e2b387623,112,32,2,9535,,,0,"Kaminario: Fix unique_fqdn_network option

The Kaminario driver used to accept the unique_fqdn_network
configuration option in the specific driver section, but when we moved
this option to be an option also used by 3PAR we introduced a regression
where the parameter was now only used if it was defined in the shared
configuration group.

This patch fixes this and makes it possible for the option to be defined
in the shared configuration group as well as the driver specific
section.

Closes-Bug: #1886042
Change-Id: I88c5afacff5f1f780c2dc850e3af417b1b081592
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/739033/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/block-storage/drivers/hpe-3par-driver.rst', 'releasenotes/notes/fix-kaminario-unique_fqdn_network-ecde36f614c30733.yaml', 'cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/tests/unit/volume/drivers/test_kaminario.py', 'cinder/tests/unit/test.py', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",9,f86e4448813c5a2500da3ee7902328c5f12e8c4b,fix-unique-fqdn," def _safe_hostname(self, connector, configuration): hostname = connector['host'] unique_fqdn_network = configuration.unique_fqdn_network"," def _safe_hostname(self, hostname, connector=None): SHARED_CONF_GROUP = 'backend_defaults' shared_backend_conf = CONF._get(SHARED_CONF_GROUP) unique_fqdn_network = shared_backend_conf.unique_fqdn_network",67,49
openstack%2Fdevstack~master~I49f5de06bdf8a6e17abe7305c0fa5733c9c12512,openstack/devstack,master,I49f5de06bdf8a6e17abe7305c0fa5733c9c12512,add no check certificate when wget files,ABANDONED,2020-07-17 08:12:07.000000000,2020-07-20 05:30:30.000000000,,"[{'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-17 08:12:07.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/devstack/commit/89a3ffb9bd3a8edf0529321ba32b830c2c6f5563', 'message': 'add no check certificate when wget files\n\nChange-Id: I49f5de06bdf8a6e17abe7305c0fa5733c9c12512\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}]",0,741598,89a3ffb9bd3a8edf0529321ba32b830c2c6f5563,6,3,1,22076,,,0,"add no check certificate when wget files

Change-Id: I49f5de06bdf8a6e17abe7305c0fa5733c9c12512
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/98/741598/1 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,89a3ffb9bd3a8edf0529321ba32b830c2c6f5563,, wget --progress=dot:giga --no-check-certificate -t 2 -c $file_url -O $FILES/$file_name, wget --progress=dot:giga -t 2 -c $file_url -O $FILES/$file_name,1,1
openstack%2Fopenstack-helm-infra~master~If0f132a6bf004cb76f0acee047832c250571004f,openstack/openstack-helm-infra,master,If0f132a6bf004cb76f0acee047832c250571004f,[test],ABANDONED,2020-07-19 04:33:57.000000000,2020-07-19 21:34:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-19 04:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/73e99aebd812522d2ba9d574c3e3d8a7fd44c312', 'message': '[test]\n\nChange-Id: If0f132a6bf004cb76f0acee047832c250571004f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-19 12:29:52.000000000', 'files': ['roles/override-images/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f7e9d2d4fe5a172c8f5b530cfcb1460f53b36a84', 'message': '[test]\n\nChange-Id: If0f132a6bf004cb76f0acee047832c250571004f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,741833,f7e9d2d4fe5a172c8f5b530cfcb1460f53b36a84,5,1,2,8863,,,0,"[test]

Change-Id: If0f132a6bf004cb76f0acee047832c250571004f
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/33/741833/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/override-images/tasks/main.yaml'],1,73e99aebd812522d2ba9d574c3e3d8a7fd44c312,," ## NOTE(aostapenko) To remove when https://review.opendev.org/#/c/741584/ is merged #- name: Write buildset registry TLS certificate # become: true # copy: # content: ""{{ buildset_registry.cert }}"" # dest: ""/usr/local/share/ca-certificates/zuul-jobs.buildset-registry.crt"" # when: buildset_registry is defined #- name: Update CA certs # command: update-ca-certificates # become: true # when: buildset_registry is defined","# NOTE(aostapenko) To remove when https://review.opendev.org/#/c/741584/ is merged - name: Write buildset registry TLS certificate become: true copy: content: ""{{ buildset_registry.cert }}"" dest: ""/usr/local/share/ca-certificates/zuul-jobs.buildset-registry.crt"" when: buildset_registry is defined - name: Update CA certs command: update-ca-certificates become: true when: buildset_registry is defined",11,11
openstack%2Fironic~master~I0cd08e527763f0626fd1e43cc3b87163a4b0d018,openstack/ironic,master,I0cd08e527763f0626fd1e43cc3b87163a4b0d018,Auto extend the timeout for RAX hosts,MERGED,2020-07-17 23:19:26.000000000,2020-07-19 21:20:28.000000000,2020-07-19 16:47:22.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-17 23:19:26.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3750ba62dff13c82392ac3667325d42b5c8d2fe2', 'message': ""Auto extend the timeout for RAX hosts\n\nRax hosts uses qemu software emulated VMs without leveraging the\nmagic with-in the processors to help ensure speedy execution.\n\nAs such, they can be substantially slower in some operations, such\ndecompressing ramdisks. This adds an unpredictable element into our\nCI and causes job failures when they should ahve succeeded, which\ncauses more rechecks, which consumes more resources... and the cycle\ncontinues.\n\nSo instead, we'll extend the timeout a little, to hopefully give the\njob time to complete without causing failures.\n\nChange-Id: I0cd08e527763f0626fd1e43cc3b87163a4b0d018\n""}]",4,741791,3750ba62dff13c82392ac3667325d42b5c8d2fe2,16,6,1,11655,,,0,"Auto extend the timeout for RAX hosts

Rax hosts uses qemu software emulated VMs without leveraging the
magic with-in the processors to help ensure speedy execution.

As such, they can be substantially slower in some operations, such
decompressing ramdisks. This adds an unpredictable element into our
CI and causes job failures when they should ahve succeeded, which
causes more rechecks, which consumes more resources... and the cycle
continues.

So instead, we'll extend the timeout a little, to hopefully give the
job time to complete without causing failures.

Change-Id: I0cd08e527763f0626fd1e43cc3b87163a4b0d018
",git fetch https://review.opendev.org/openstack/ironic refs/changes/91/741791/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,3750ba62dff13c82392ac3667325d42b5c8d2fe2,,"hostdomain=$(hostname) if [[ ""$hostdomain"" =~ ""rax"" ]]; then echo ""WARNING: Auto-increasing the requested build timeout by 1.5 as the detected hostname suggests a cloud host where VMs are software emulated."" # NOTE(TheJulia): Rax hosts are entirely qemu emulated, not CPU enabled # virtualization. As such, the ramdisk decompression is known to take an # eceptional amount of time and we need to afford a little more time to # these hosts for jobs to complete without issues. new_timeout=$(echo ""$IRONIC_TEMPEST_BUILD_TIMEOUT * 1.5 / 1"" | bc) IRONIC_TEMPEST_BUILD_TIMEOUT=$new_timeout fi ",,11,0
openstack%2Fcinder~master~I88f6fb78235a40529647baf1e7564c08d8fb85f2,openstack/cinder,master,I88f6fb78235a40529647baf1e7564c08d8fb85f2,PowerMax Driver - Volume Migrate Exception Handling,MERGED,2020-05-28 09:29:50.000000000,2020-07-19 21:18:33.000000000,2020-07-16 18:38:35.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30165}, {'_account_id': 30688}, {'_account_id': 31868}]","[{'number': 1, 'created': '2020-05-28 09:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9e5179888879f5b951c59275d5e17966be330da', 'message': 'PowerMax Driver - Volume Migrate Exception Handling\n\nAdd additional exception handling to _migrate_volume\nand its related methods to attempt to rollback to\nprevious state if an exception is raised.\n\nChange-Id: I88f6fb78235a40529647baf1e7564c08d8fb85f2\n'}, {'number': 2, 'created': '2020-06-02 15:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0005eb70a05db3fcf0edf22fe4581056fabce468', 'message': 'PowerMax Driver - Volume Migrate Exception Handling\n\nAdd additional exception handling to _migrate_volume\nand its related methods to attempt to rollback to\nprevious state if an exception is raised.\nAlso change exception message type when handling REST\nrequest that times out when no failover settings\nare present.\n\nChange-Id: I88f6fb78235a40529647baf1e7564c08d8fb85f2\n'}, {'number': 3, 'created': '2020-06-22 13:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/beea6c4dd16dfa422b31c43150814cbcd1c4e21b', 'message': 'PowerMax Driver - Volume Migrate Exception Handling\n\nAdd additional exception handling to _migrate_volume\nand its related methods to attempt to rollback to\nprevious state if an exception is raised.\nAlso change exception message type when handling REST\nrequest that times out when no failover settings\nare present.\n\nChange-Id: I88f6fb78235a40529647baf1e7564c08d8fb85f2\n'}, {'number': 4, 'created': '2020-07-07 13:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b88e5626458394076ca126791ccd58f374a2e9a5', 'message': 'PowerMax Driver - Volume Migrate Exception Handling\n\nAdd additional exception handling to _migrate_volume\nand its related methods to attempt to rollback to\nprevious state if an exception is raised.\nAlso change exception message type when handling REST\nrequest that times out when no failover settings\nare present.\n\nChange-Id: I88f6fb78235a40529647baf1e7564c08d8fb85f2\nCloses-Bug: 1886662\n'}, {'number': 5, 'created': '2020-07-07 13:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/926723bf4a2e65a47b2215fefc558b1f3a1112a5', 'message': 'PowerMax Driver - Volume Migrate Exception Handling\n\nAdd additional exception handling to _migrate_volume\nand its related methods to attempt to rollback to\nprevious state if an exception is raised.\nAlso change exception message type when handling REST\nrequest that times out when no failover settings\nare present.\n\nChange-Id: I88f6fb78235a40529647baf1e7564c08d8fb85f2\nCloses-Bug: 1886662\n'}, {'number': 6, 'created': '2020-07-13 09:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fa30eac047ad806d5f6f6abacc6ab009dd27a704', 'message': 'PowerMax Driver - Volume Migrate Exception Handling\n\nAdd additional exception handling to _migrate_volume\nand its related methods to attempt to rollback to\nprevious state if an exception is raised.\nAlso change exception message type when handling REST\nrequest that times out when no failover settings\nare present.\n\nChange-Id: I88f6fb78235a40529647baf1e7564c08d8fb85f2\nCloses-Bug: 1886662\nCloses-Bug: 1874187\n'}, {'number': 7, 'created': '2020-07-14 16:41:26.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/16373bfb47940582b598e68755d31410f41cda07', 'message': 'PowerMax Driver - Volume Migrate Exception Handling\n\nAdd additional exception handling to _migrate_volume\nand its related methods to attempt to rollback to\nprevious state if an exception is raised.\nAlso change exception message type when handling REST\nrequest that times out when no failover settings\nare present.\n\nChange-Id: I88f6fb78235a40529647baf1e7564c08d8fb85f2\nCloses-Bug: 1886662\nCloses-Bug: 1874187\n'}]",6,731479,16373bfb47940582b598e68755d31410f41cda07,228,39,7,30165,,,0,"PowerMax Driver - Volume Migrate Exception Handling

Add additional exception handling to _migrate_volume
and its related methods to attempt to rollback to
previous state if an exception is raised.
Also change exception message type when handling REST
request that times out when no failover settings
are present.

Change-Id: I88f6fb78235a40529647baf1e7564c08d8fb85f2
Closes-Bug: 1886662
Closes-Bug: 1874187
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/731479/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py']",3,c9e5179888879f5b951c59275d5e17966be330da,validation_race_retype_sg_resume," extra_specs = deepcopy(self.data.rep_extra_specs) extra_specs[utils.REP_CONFIG] = self.data.rep_config_sync array_id, device_id, volume_name, extra_specs, volume) target_extra_specs, volume) array, device_id, volume_name, extra_specs, volume) volume = self.data.test_volume array, device_id, volume_name, extra_specs, volume)) volume = self.data.test_volume array, device_id, volume_name, extra_specs, volume)) @mock.patch.object(rest.PowerMaxRest, 'srdf_resume_replication') def test_cleanup_on_configure_volume_replication_failure_resume( self, mck_resume): resume_rdf = True rdf_pair_created = False remote_sg_get = False add_to_mgmt_sg = False r1_device_id = self.data.device_id r2_device_id = self.data.device_id2 mgmt_sg_name = self.data.rdf_managed_async_grp array = self.data.array remote_array = self.data.remote_array extra_specs = self.data.extra_specs_rep_enabled rep_extra_specs = self.data.rep_extra_specs_mgmt rdf_group_no = rep_extra_specs['rdf_group_no'] volume = self.data.test_volume tgt_sg_name = self.data.storagegroup_name_i self.common._cleanup_on_configure_volume_replication_failure( resume_rdf, rdf_pair_created, remote_sg_get, add_to_mgmt_sg, r1_device_id, r2_device_id, mgmt_sg_name, array, remote_array, rdf_group_no, extra_specs, rep_extra_specs, volume, tgt_sg_name) mck_resume.assert_called_once_with( array, mgmt_sg_name, rdf_group_no, rep_extra_specs) @mock.patch.object(rest.PowerMaxRest, 'delete_storage_group') @mock.patch.object(rest.PowerMaxRest, 'get_volumes_in_storage_group', return_value=[]) @mock.patch.object( masking.PowerMaxMasking, 'remove_vol_from_storage_group') @mock.patch.object(rest.PowerMaxRest, 'srdf_resume_replication') @mock.patch.object( common.PowerMaxCommon, 'break_rdf_device_pair_session', return_value=(tpd.PowerMaxData.rep_extra_specs_mgmt, True)) @mock.patch.object(utils.PowerMaxUtils, 'get_volume_element_name', return_value=tpd.PowerMaxData.volume_id) def test_cleanup_on_configure_volume_replication_failure_pair_created( self, mck_elem, mck_break, mck_resume, mck_remove, mck_get, mck_del): resume_rdf = True rdf_pair_created = True remote_sg_get = True add_to_mgmt_sg = True r1_device_id = self.data.device_id r2_device_id = self.data.device_id2 mgmt_sg_name = self.data.rdf_managed_async_grp array = self.data.array remote_array = self.data.remote_array extra_specs = self.data.extra_specs_rep_enabled rep_extra_specs = self.data.rep_extra_specs_mgmt rdf_group_no = self.data.rdf_group_no_1 volume = self.data.test_volume tgt_sg_name = self.data.storagegroup_name_i volume_name = self.data.volume_id self.common._cleanup_on_configure_volume_replication_failure( resume_rdf, rdf_pair_created, remote_sg_get, add_to_mgmt_sg, r1_device_id, r2_device_id, mgmt_sg_name, array, remote_array, rdf_group_no, extra_specs, rep_extra_specs, volume, tgt_sg_name) mck_elem.assert_called_once_with(volume.id) mck_break.assert_called_once_with( array, r1_device_id, volume_name, extra_specs, volume) mck_resume.assert_called_once_with( array, mgmt_sg_name, rdf_group_no, rep_extra_specs) mck_remove.assert_called_with( remote_array, r2_device_id, mgmt_sg_name, '', rep_extra_specs) self.assertEqual(2, mck_remove.call_count) mck_get.assert_called_once_with(remote_array, tgt_sg_name) mck_del.assert_called_once_with(remote_array, tgt_sg_name) @mock.patch.object(rest.PowerMaxRest, 'srdf_resume_replication') def test_cleanup_on_break_rdf_device_pair_session_failure_resume( self, mck_resume): rdfg_suspended = True pair_deleted = False r2_sg_remove = False array = self.data.array management_sg = self.data.rdf_managed_async_grp extra_specs = self.data.extra_specs_rep_enabled rep_extra_specs = self.data.rep_extra_specs rdf_group_no = rep_extra_specs['rdf_group_no'] r2_sg_names = [self.data.storagegroup_name_i] device_id = self.data.device_id remote_array = self.data.remote_array remote_device_id = self.data.device_id2 volume = self.data.test_volume volume_name = self.data.volume_id self.common._cleanup_on_break_rdf_device_pair_session_failure( rdfg_suspended, pair_deleted, r2_sg_remove, array, management_sg, rdf_group_no, extra_specs, r2_sg_names, device_id, remote_array, remote_device_id, volume, volume_name, rep_extra_specs) mck_resume.assert_called_once_with( array, management_sg, rdf_group_no, extra_specs) @mock.patch.object(rest.PowerMaxRest, 'srdf_resume_replication') @mock.patch.object(common.PowerMaxCommon, '_protect_storage_group') @mock.patch.object(utils.PowerMaxUtils, 'get_volume_element_name', return_value=tpd.PowerMaxData.volume_id) @mock.patch.object( common.PowerMaxCommon, 'configure_volume_replication', return_value=('first_vol_in_rdf_group', True, True, tpd.PowerMaxData.rep_extra_specs_mgmt, True)) @mock.patch.object(common.PowerMaxCommon, '_delete_from_srp') @mock.patch.object(masking.PowerMaxMasking, 'remove_volume_from_sg') def test_cleanup_on_break_rdf_device_pair_session_failure_pair_created( self, mck_remove, mck_delete, mck_configure, mck_elem, mck_protect, mck_resume): rdfg_suspended = True pair_deleted = True r2_sg_remove = False array = self.data.array management_sg = self.data.rdf_managed_async_grp extra_specs = self.data.extra_specs_rep_enabled rep_extra_specs = self.data.rep_extra_specs_mgmt rdf_group_no = rep_extra_specs['rdf_group_no'] r2_sg_names = [self.data.storagegroup_name_i] device_id = self.data.device_id remote_array = self.data.remote_array remote_device_id = self.data.device_id2 volume = self.data.test_volume volume_name = self.data.volume_id self.common._cleanup_on_break_rdf_device_pair_session_failure( rdfg_suspended, pair_deleted, r2_sg_remove, array, management_sg, rdf_group_no, extra_specs, r2_sg_names, device_id, remote_array, remote_device_id, volume, volume_name, rep_extra_specs) mck_remove.assert_called_once_with( remote_array, remote_device_id, volume_name, r2_sg_names[0], rep_extra_specs) mck_delete.assert_called_once_with( remote_array, remote_device_id, volume_name, extra_specs) mck_configure.assert_called_once_with( array, volume, device_id, extra_specs) mck_elem.assert_called_once_with(volume.id) mck_protect.assert_called_once_with( array, device_id, volume, volume_name, rep_extra_specs) mck_resume.assert_called_once_with( array, management_sg, rdf_group_no, rep_extra_specs)"," extra_specs = self.data.rep_extra_specs array_id, device_id, volume_name, extra_specs) target_extra_specs) array, device_id, volume_name, extra_specs) array, device_id, volume_name, extra_specs)) array, device_id, volume_name, extra_specs))",845,222
openstack%2Ftripleo-quickstart~master~I86a6fcc7ce8b22ac02ad7cc6f4e23ce0e1534bcb,openstack/tripleo-quickstart,master,I86a6fcc7ce8b22ac02ad7cc6f4e23ce0e1534bcb,Allow custom passwords for zuul subnodes in repro,MERGED,2019-11-27 13:43:55.000000000,2020-07-19 20:41:59.000000000,2020-07-19 20:40:48.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-11-27 13:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e4a3b931b089caf3d2b1f0cc77349e3d04410093', 'message': 'Allow custom passwords for zuul subnodes in repro\n\nCI reproducer only uses random passwords deleted after set up.\nAllow using custom passwords defined via modify_image_vc_root_password\n\nChange-Id: I86a6fcc7ce8b22ac02ad7cc6f4e23ce0e1534bcb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-11-28 11:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dffbc6d65da8d9fc88f965505c094b0f8e6d4622', 'message': 'Allow custom passwords for zuul subnodes in repro\n\nCI reproducer only uses random passwords deleted after set up.\nAllow using custom passwords defined via modify_image_vc_root_password\n\nChange-Id: I86a6fcc7ce8b22ac02ad7cc6f4e23ce0e1534bcb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2020-01-14 10:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0d8d4226b782e5677983a3355a59ebd04b94445d', 'message': 'Allow custom passwords for zuul subnodes in repro\n\nCI reproducer only uses random passwords deleted after set up.\nAllow using custom passwords defined via modify_image_vc_root_password\n\nChange-Id: I86a6fcc7ce8b22ac02ad7cc6f4e23ce0e1534bcb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2020-07-17 09:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/95fecd3c32535b8ccdbf476e5e5f8f38e744e838', 'message': 'Allow custom passwords for zuul subnodes in repro\n\nCI reproducer only uses random passwords deleted after set up.\nAllow using custom passwords defined via modify_image_vc_root_password\n\nChange-Id: I86a6fcc7ce8b22ac02ad7cc6f4e23ce0e1534bcb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2020-07-17 09:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/41074f335bb859a2e734184abadfb798367bad6f', 'message': 'Allow custom passwords for zuul subnodes in repro\n\nCI reproducer only uses random passwords deleted after set up.\nAllow using custom passwords defined via modify_image_vc_root_password\n\nChange-Id: I86a6fcc7ce8b22ac02ad7cc6f4e23ce0e1534bcb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2020-07-17 10:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/830367a743e15c64043f5a7db0db2d0353df95e8', 'message': 'Allow custom passwords for zuul subnodes in repro\n\nCI reproducer only uses random passwords deleted after set up.\nAllow using custom passwords defined via modify_image_vc_root_password\n\nChange-Id: I86a6fcc7ce8b22ac02ad7cc6f4e23ce0e1534bcb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2020-07-17 10:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ed44aab46c49575e4a0e43523c1ac121fb8d7055', 'message': 'Allow custom passwords for zuul subnodes in repro\n\nCI reproducer only uses random passwords deleted after set up.\nAllow using custom passwords defined via modify_image_vc_root_password\n\nChange-Id: I86a6fcc7ce8b22ac02ad7cc6f4e23ce0e1534bcb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 8, 'created': '2020-07-17 10:09:17.000000000', 'files': ['roles/libvirt/setup/overcloud/tasks/libvirt_nodepool.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dd6790616118d9cc7c4aa5b50137f3dc870a4b47', 'message': 'Allow custom passwords for zuul subnodes in repro\n\nCI reproducer only uses random passwords deleted after set up.\nAllow using custom passwords defined via modify_image_vc_root_password\n\nChange-Id: I86a6fcc7ce8b22ac02ad7cc6f4e23ce0e1534bcb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",11,696306,dd6790616118d9cc7c4aa5b50137f3dc870a4b47,40,9,8,6926,,,0,"Allow custom passwords for zuul subnodes in repro

CI reproducer only uses random passwords deleted after set up.
Allow using custom passwords defined via modify_image_vc_root_password

Change-Id: I86a6fcc7ce8b22ac02ad7cc6f4e23ce0e1534bcb
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/06/696306/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/libvirt/setup/overcloud/tasks/libvirt_nodepool.yml'],1,e4a3b931b089caf3d2b1f0cc77349e3d04410093,696306,"- name: Manage password file when: modify_image_vc_root_password is defined block: - name: Calculate password hash no_log: true shell: > import crypt; print crypt.crypt(""{{ vm_pass }}"", ""$1$SecretSalt$"") args: executable: /usr/bin/python register: hash - name: Copy generated password to file copy: content: ""{{ hash.stdout }}"" dest: ""{{ working_dir }}/pwtemp"" mode: 0600 {% if modify_image_vc_root_password is defined -%} --root-password password:{{ modify_image_vc_root_password }} {% else -%} {% endif -%} when: modify_image_vc_root_password is not defined","- name: Calculate password hash no_log: true shell: > import crypt; print crypt.crypt(""{{ vm_pass }}"", ""$1$SecretSalt$"") args: executable: /usr/bin/python register: hash - name: Copy generated password to file copy: content: ""{{ hash.stdout }}"" dest: ""{{ working_dir }}/pwtemp"" mode: 0600",21,13
openstack%2Fansible-role-collect-logs~master~Ieb359ea273c607e28a54ddae9b2a625e9a5842f8,openstack/ansible-role-collect-logs,master,Ieb359ea273c607e28a54ddae9b2a625e9a5842f8,Add another introspection pattern to sova,MERGED,2020-07-19 15:00:13.000000000,2020-07-19 20:40:51.000000000,2020-07-19 20:40:51.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-19 15:00:13.000000000', 'files': ['vars/sova-patterns.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/d18bd2d56c1fbc2e640ab1fc256244253c127810', 'message': 'Add another introspection pattern to sova\n\nChange-Id: Ieb359ea273c607e28a54ddae9b2a625e9a5842f8\n'}]",0,741845,d18bd2d56c1fbc2e640ab1fc256244253c127810,6,2,1,10969,,,0,"Add another introspection pattern to sova

Change-Id: Ieb359ea273c607e28a54ddae9b2a625e9a5842f8
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/45/741845/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/sova-patterns.yml'],1,d18bd2d56c1fbc2e640ab1fc256244253c127810,," - id: 530 logstash: ""Exception introspecting nodes"" msg: ""Introspection FAIL."" pattern: ""Exception introspecting nodes"" tag: ""infra""",,5,0
openstack%2Fansible-role-collect-logs~master~I9644d6cc3dfdd671741cf62556443c36dbdd8460,openstack/ansible-role-collect-logs,master,I9644d6cc3dfdd671741cf62556443c36dbdd8460,Add pattern to prividing node failure,MERGED,2020-07-19 14:57:43.000000000,2020-07-19 20:40:50.000000000,2020-07-19 20:40:50.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-19 14:57:43.000000000', 'files': ['vars/sova-patterns.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/29f4684177b465422439a10296dbd52ef65b7f5c', 'message': 'Add pattern to prividing node failure\n\nChange-Id: I9644d6cc3dfdd671741cf62556443c36dbdd8460\n'}]",0,741844,29f4684177b465422439a10296dbd52ef65b7f5c,6,2,1,10969,,,0,"Add pattern to prividing node failure

Change-Id: I9644d6cc3dfdd671741cf62556443c36dbdd8460
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/44/741844/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/sova-patterns.yml'],1,29f4684177b465422439a10296dbd52ef65b7f5c,," - id: 529 logstash: ""playbook: /usr/share/ansible/tripleo-playbooks/cli-overcloud-node-provide.yaml, Run Status: failed"" msg: ""Providing node failed."" pattern: ""playbook: /usr/share/ansible/tripleo-playbooks/cli-overcloud-node-provide.yaml, Run Status: failed"" tag: ""infra""",,5,0
openstack%2Fansible-role-collect-logs~master~I3533775a107ed5eb497cde1fd60c5572dfaf2a42,openstack/ansible-role-collect-logs,master,I3533775a107ed5eb497cde1fd60c5572dfaf2a42,Add pattern to not manageable nodes,MERGED,2020-07-19 14:54:36.000000000,2020-07-19 20:40:49.000000000,2020-07-19 20:40:49.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-19 14:54:36.000000000', 'files': ['vars/sova-patterns.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/e248a443f2cce28e9d79e62a3e35bfb66120ea42', 'message': 'Add pattern to not manageable nodes\n\nChange-Id: I3533775a107ed5eb497cde1fd60c5572dfaf2a42\n'}]",0,741843,e248a443f2cce28e9d79e62a3e35bfb66120ea42,6,2,1,10969,,,0,"Add pattern to not manageable nodes

Change-Id: I3533775a107ed5eb497cde1fd60c5572dfaf2a42
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/43/741843/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/sova-patterns.yml'],1,e248a443f2cce28e9d79e62a3e35bfb66120ea42,," - id: 89 msg: ""Nodes aren't manageable."" pattern: 'FAILED - RETRYING: Wait until nodes will be manageable (1 retries left)' tag: ""infra"" logstash: ""FAILED - RETRYING: Wait until nodes will be manageable (1 retries left)""",,5,0
openstack%2Ftripleo-quickstart~master~I4c24e19dc3853f71d6e5f842d5441393cf50e583,openstack/tripleo-quickstart,master,I4c24e19dc3853f71d6e5f842d5441393cf50e583,Set dlrn_baseurl default based on distro,MERGED,2020-07-17 07:50:58.000000000,2020-07-19 20:29:30.000000000,2020-07-19 20:28:33.000000000,"[{'_account_id': 6926}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-17 07:50:58.000000000', 'files': ['roles/repo-setup/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0571ff7f5516d59891cc208d88e8bf46905a301f', 'message': 'Set dlrn_baseurl default based on distro\n\nmaster release is centos8 only since ussuri\nrelease, so set dlrn_baseurl based on\ndistribution version instead of 7.\n\nRelated-Bug: #1887637\nChange-Id: I4c24e19dc3853f71d6e5f842d5441393cf50e583\n'}]",0,741593,0571ff7f5516d59891cc208d88e8bf46905a301f,15,6,1,13861,,,0,"Set dlrn_baseurl default based on distro

master release is centos8 only since ussuri
release, so set dlrn_baseurl based on
distribution version instead of 7.

Related-Bug: #1887637
Change-Id: I4c24e19dc3853f71d6e5f842d5441393cf50e583
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/93/741593/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/repo-setup/defaults/main.yml'],1,0571ff7f5516d59891cc208d88e8bf46905a301f,bug/1887637,"dlrn_baseurl: ""https://trunk.rdoproject.org/centos{{ ansible_distribution_major_version | default('7') }}-{{ release }}""",dlrn_baseurl: https://trunk.rdoproject.org/centos7-{{ release }},1,1
openstack%2Foctavia~stable%2Ftrain~I64172d6995959cf377364584ad9a2395f9ec0605,openstack/octavia,stable/train,I64172d6995959cf377364584ad9a2395f9ec0605,Fix missing params in amphora base and noop driver,MERGED,2020-07-14 06:27:23.000000000,2020-07-19 19:50:12.000000000,2020-07-19 19:47:51.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 06:27:23.000000000', 'files': ['octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/amphorae/drivers/driver_base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/dc47caa1a27e0c7876637715d62f2520d27f7ec7', 'message': 'Fix missing params in amphora base and noop driver\n\nRunning amphora failover against the amphora noop driver was raising a\nTypeError (reload() takes from 2 to 3 positional arguments but 4 were\ngiven).\n\nChange-Id: I64172d6995959cf377364584ad9a2395f9ec0605\n(cherry picked from commit 41c628a084002017d2003926cf0e25ba3ffeee0c)\n(cherry picked from commit 176791e675141b37ddf139a9d9f2ae6bb814fa20)\n'}]",0,740892,dc47caa1a27e0c7876637715d62f2520d27f7ec7,18,4,1,6469,,,0,"Fix missing params in amphora base and noop driver

Running amphora failover against the amphora noop driver was raising a
TypeError (reload() takes from 2 to 3 positional arguments but 4 were
given).

Change-Id: I64172d6995959cf377364584ad9a2395f9ec0605
(cherry picked from commit 41c628a084002017d2003926cf0e25ba3ffeee0c)
(cherry picked from commit 176791e675141b37ddf139a9d9f2ae6bb814fa20)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/92/740892/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/amphorae/drivers/driver_base.py']",2,dc47caa1a27e0c7876637715d62f2520d27f7ec7,failover-refactor," def start(self, loadbalancer, amphora, timeout_dict=None): :param timeout_dict: Dictionary of timeout values for calls to the amphora. May contain: req_conn_timeout, req_read_timeout, conn_max_retries, conn_retry_interval :type timeout_dict: dict def reload(self, loadbalancer, amphora, timeout_dict=None): :param timeout_dict: Dictionary of timeout values for calls to the amphora. May contain: req_conn_timeout, req_read_timeout, conn_max_retries, conn_retry_interval :type timeout_dict: dict"," def start(self, loadbalancer, amphora): def reload(self, loadbalancer, amphora):",24,12
openstack%2Foctavia~stable%2Ftrain~I2328b3dc4d5b95c8771a305d3d4bb1dee6019117,openstack/octavia,stable/train,I2328b3dc4d5b95c8771a305d3d4bb1dee6019117,Add missing reload method in amphora noop driver,MERGED,2020-07-14 06:27:23.000000000,2020-07-19 19:49:14.000000000,2020-07-19 19:47:47.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 06:27:23.000000000', 'files': ['octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/tests/unit/amphorae/drivers/test_noop_amphoraloadbalancer_driver.py', 'octavia/amphorae/drivers/driver_base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d285f517d2842b0cc87de997f941214025c7e979', 'message': 'Add missing reload method in amphora noop driver\n\nThe reload method was also missing in the abstract class.\n\nTask: 40140\nStory: 2007847\n\nChange-Id: I2328b3dc4d5b95c8771a305d3d4bb1dee6019117\n(cherry picked from commit 89123c0fc117e095c44ed21e360394974d3e15a5)\n(cherry picked from commit 7e3d09ae76101ea4d49b2f9b3a906b2d9066f11f)\n'}]",0,740891,d285f517d2842b0cc87de997f941214025c7e979,20,4,1,6469,,,0,"Add missing reload method in amphora noop driver

The reload method was also missing in the abstract class.

Task: 40140
Story: 2007847

Change-Id: I2328b3dc4d5b95c8771a305d3d4bb1dee6019117
(cherry picked from commit 89123c0fc117e095c44ed21e360394974d3e15a5)
(cherry picked from commit 7e3d09ae76101ea4d49b2f9b3a906b2d9066f11f)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/91/740891/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/tests/unit/amphorae/drivers/test_noop_amphoraloadbalancer_driver.py', 'octavia/amphorae/drivers/driver_base.py']",3,d285f517d2842b0cc87de997f941214025c7e979,failover-refactor," def reload(self, loadbalancer, amphora): """"""Reload the listeners on the amphora. :param loadbalancer: loadbalancer object to reload listeners :type loadbalancer: octavia.db.models.LoadBalancer :param amphora: Amphora to start. If None, reload on all amphora :type amphora: octavia.db.models.Amphora :returns: return a value list (listener, vip, status flag--enable) At this moment, we just build the basic structure for testing, will add more function along with the development. """""" @abc.abstractmethod",,33,0
openstack%2Foctavia~stable%2Ftrain~I04cb2f1f10ec566298834f81df0cf8b100ca916c,openstack/octavia,stable/train,I04cb2f1f10ec566298834f81df0cf8b100ca916c,Refactor the failover flows,MERGED,2020-07-07 14:10:57.000000000,2020-07-19 19:21:50.000000000,2020-07-19 19:20:12.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 14:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2a2bfa021ebeb7ead445c89ed3c4837acc068b92', 'message': 'Refactor the failover flows\n\nThis patch refactors the failover flows to improve the performance\nand reliability of failovers in Octavia.\n\nSpecific improvements are:\n* More tasks and flows will retry when other OpenStack services are\n  failing.\n* Failover can now succeed even when all of the amphora are missing\n  for a given load balancer.\n* It will check and repair the load balancer VIP should the VIP\n  port(s) become corrupted in neutron.\n* It will cleanup extra resources that may be associated with a\n  load balancer in the event of a cloud service failure.\n\nThis patch also removes some dead code.\n\nConflicts:\n  octavia/amphorae/backends/agent/api_server/amphora_info.py\n  octavia/amphorae/drivers/haproxy/rest_api_driver.py\n  octavia/amphorae/drivers/keepalived/vrrp_rest_driver.py\n  octavia/api/drivers/utils.py\n  octavia/api/v2/controllers/load_balancer.py\n  octavia/common/constants.py\n  octavia/common/utils.py\n  octavia/controller/worker/v1/controller_worker.py\n  octavia/controller/worker/v1/flows/amphora_flows.py\n  octavia/controller/worker/v1/tasks/amphora_driver_tasks.py\n  octavia/controller/worker/v1/tasks/compute_tasks.py\n  octavia/controller/worker/v1/tasks/network_tasks.py\n  octavia/network/base.py\n  octavia/tests/unit/amphorae/backends/agent/api_server/test_loadbalancer.py\n  octavia/tests/unit/controller/worker/v1/flows/test_amphora_flows.py\n  octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py\n  octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py\n  octavia/tests/unit/controller/worker/v1/test_controller_worker.py\n  octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py\n\nChange-Id: I04cb2f1f10ec566298834f81df0cf8b100ca916c\nStory: 2003084\nTask: 23166\nStory: 2004440\nTask: 28108\n(cherry picked from commit 955bb8840616d96ed74de3086f8959ad4190a472)\n(cherry picked from commit 2f9dc3693e73fe8c235e0eaaf0f9595576940aae)\n(cherry picked from commit edebde748d0283a9948c8b7f6386d5a8835c617c)\n'}, {'number': 2, 'created': '2020-07-09 09:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/807d2694075b172d65ec6babda81918e8eff68ff', 'message': 'Refactor the failover flows\n\nThis patch refactors the failover flows to improve the performance\nand reliability of failovers in Octavia.\n\nSpecific improvements are:\n* More tasks and flows will retry when other OpenStack services are\n  failing.\n* Failover can now succeed even when all of the amphora are missing\n  for a given load balancer.\n* It will check and repair the load balancer VIP should the VIP\n  port(s) become corrupted in neutron.\n* It will cleanup extra resources that may be associated with a\n  load balancer in the event of a cloud service failure.\n\nThis patch also removes some dead code.\n\nConflicts:\n  octavia/amphorae/backends/agent/api_server/amphora_info.py\n  octavia/amphorae/drivers/haproxy/rest_api_driver.py\n  octavia/amphorae/drivers/keepalived/vrrp_rest_driver.py\n  octavia/api/drivers/utils.py\n  octavia/api/v2/controllers/load_balancer.py\n  octavia/common/constants.py\n  octavia/common/utils.py\n  octavia/controller/worker/v1/controller_worker.py\n  octavia/controller/worker/v1/flows/amphora_flows.py\n  octavia/controller/worker/v1/tasks/amphora_driver_tasks.py\n  octavia/controller/worker/v1/tasks/compute_tasks.py\n  octavia/controller/worker/v1/tasks/network_tasks.py\n  octavia/network/base.py\n  octavia/tests/unit/amphorae/backends/agent/api_server/test_loadbalancer.py\n  octavia/tests/unit/controller/worker/v1/flows/test_amphora_flows.py\n  octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py\n  octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py\n  octavia/tests/unit/controller/worker/v1/test_controller_worker.py\n  octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py\n\nChange-Id: I04cb2f1f10ec566298834f81df0cf8b100ca916c\nStory: 2003084\nTask: 23166\nStory: 2004440\nTask: 28108\n(cherry picked from commit 955bb8840616d96ed74de3086f8959ad4190a472)\n(cherry picked from commit 2f9dc3693e73fe8c235e0eaaf0f9595576940aae)\n(cherry picked from commit edebde748d0283a9948c8b7f6386d5a8835c617c)\n'}, {'number': 3, 'created': '2020-07-09 11:00:17.000000000', 'files': ['octavia/common/utils.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_loadbalancer.py', 'octavia/amphorae/backends/utils/ip_advertisement.py', 'octavia/tests/unit/amphorae/drivers/keepalived/test_vrrp_rest_driver.py', 'octavia/amphorae/backends/utils/network_utils.py', 'etc/octavia.conf', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/common/constants.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_common.py', 'octavia/network/base.py', 'octavia/network/data_models.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_keepalivedlvs.py', 'octavia/common/exceptions.py', 'octavia/controller/worker/v1/tasks/compute_tasks.py', 'octavia/tests/unit/amphorae/drivers/test_noop_amphoraloadbalancer_driver.py', 'octavia/amphorae/drivers/driver_base.py', 'octavia/compute/drivers/noop_driver/driver.py', 'releasenotes/notes/refactor_failover_flow-9efcd854240f71ad.yaml', 'octavia/tests/unit/controller/worker/v1/tasks/test_retry_tasks.py', 'tools/flow-list.txt', 'octavia/amphorae/drivers/keepalived/vrrp_rest_driver.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_amphora_driver_tasks.py', 'tools/create_flow_docs.py', 'octavia/api/drivers/utils.py', 'octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'octavia/controller/worker/v1/controller_worker.py', 'octavia/controller/worker/v1/flows/amphora_flows.py', 'octavia/network/drivers/neutron/base.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py', 'octavia/tests/unit/network/drivers/neutron/test_utils.py', 'octavia/tests/common/constants.py', 'octavia/tests/unit/amphorae/backends/utils/test_network_utils.py', 'octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/amphorae/backends/agent/api_server/keepalived.py', 'octavia/common/config.py', 'octavia/network/drivers/neutron/utils.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_compute_tasks.py', 'octavia/tests/common/data_model_helpers.py', 'octavia/tests/common/sample_data_models.py', 'octavia/tests/unit/amphorae/backends/utils/test_ip_advertisement.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_exceptions.py', 'octavia/compute/drivers/nova_driver.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_osutils.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/tests/unit/controller/worker/v1/flows/test_amphora_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'octavia/amphorae/backends/agent/api_server/amphora_info.py', 'octavia/controller/worker/v1/tasks/retry_tasks.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/amphorae/backends/utils/test_network_namespace.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/opts.py', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/tests/unit/compute/drivers/test_nova_driver.py', 'octavia/amphorae/drivers/haproxy/exceptions.py', 'octavia/amphorae/backends/utils/network_namespace.py', 'octavia/tests/unit/common/test_utils.py', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/controller/worker/v1/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/network/drivers/test_network_noop_driver.py', 'octavia/tests/unit/controller/worker/v1/test_controller_worker.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/amphorae/backends/agent/api_server/keepalivedlvs.py', 'octavia/tests/common/sample_network_data.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8eaa660c3a1439de72077b7e6b8a7f87a69b90aa', 'message': 'Refactor the failover flows\n\nThis patch refactors the failover flows to improve the performance\nand reliability of failovers in Octavia.\n\nSpecific improvements are:\n* More tasks and flows will retry when other OpenStack services are\n  failing.\n* Failover can now succeed even when all of the amphora are missing\n  for a given load balancer.\n* It will check and repair the load balancer VIP should the VIP\n  port(s) become corrupted in neutron.\n* It will cleanup extra resources that may be associated with a\n  load balancer in the event of a cloud service failure.\n\nThis patch also removes some dead code.\n\nConflicts:\n  octavia/amphorae/backends/agent/api_server/amphora_info.py\n  octavia/amphorae/drivers/haproxy/rest_api_driver.py\n  octavia/amphorae/drivers/keepalived/vrrp_rest_driver.py\n  octavia/api/drivers/utils.py\n  octavia/api/v2/controllers/load_balancer.py\n  octavia/common/constants.py\n  octavia/common/utils.py\n  octavia/controller/worker/v1/controller_worker.py\n  octavia/controller/worker/v1/flows/amphora_flows.py\n  octavia/controller/worker/v1/tasks/amphora_driver_tasks.py\n  octavia/controller/worker/v1/tasks/compute_tasks.py\n  octavia/controller/worker/v1/tasks/network_tasks.py\n  octavia/network/base.py\n  octavia/tests/unit/amphorae/backends/agent/api_server/test_loadbalancer.py\n  octavia/tests/unit/controller/worker/v1/flows/test_amphora_flows.py\n  octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py\n  octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py\n  octavia/tests/unit/controller/worker/v1/test_controller_worker.py\n  octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py\n\nChange-Id: I04cb2f1f10ec566298834f81df0cf8b100ca916c\nStory: 2003084\nTask: 23166\nStory: 2004440\nTask: 28108\n(cherry picked from commit 955bb8840616d96ed74de3086f8959ad4190a472)\n(cherry picked from commit 2f9dc3693e73fe8c235e0eaaf0f9595576940aae)\n(cherry picked from commit edebde748d0283a9948c8b7f6386d5a8835c617c)\n'}]",0,739772,8eaa660c3a1439de72077b7e6b8a7f87a69b90aa,24,4,3,6469,,,0,"Refactor the failover flows

This patch refactors the failover flows to improve the performance
and reliability of failovers in Octavia.

Specific improvements are:
* More tasks and flows will retry when other OpenStack services are
  failing.
* Failover can now succeed even when all of the amphora are missing
  for a given load balancer.
* It will check and repair the load balancer VIP should the VIP
  port(s) become corrupted in neutron.
* It will cleanup extra resources that may be associated with a
  load balancer in the event of a cloud service failure.

This patch also removes some dead code.

Conflicts:
  octavia/amphorae/backends/agent/api_server/amphora_info.py
  octavia/amphorae/drivers/haproxy/rest_api_driver.py
  octavia/amphorae/drivers/keepalived/vrrp_rest_driver.py
  octavia/api/drivers/utils.py
  octavia/api/v2/controllers/load_balancer.py
  octavia/common/constants.py
  octavia/common/utils.py
  octavia/controller/worker/v1/controller_worker.py
  octavia/controller/worker/v1/flows/amphora_flows.py
  octavia/controller/worker/v1/tasks/amphora_driver_tasks.py
  octavia/controller/worker/v1/tasks/compute_tasks.py
  octavia/controller/worker/v1/tasks/network_tasks.py
  octavia/network/base.py
  octavia/tests/unit/amphorae/backends/agent/api_server/test_loadbalancer.py
  octavia/tests/unit/controller/worker/v1/flows/test_amphora_flows.py
  octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py
  octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py
  octavia/tests/unit/controller/worker/v1/test_controller_worker.py
  octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py

Change-Id: I04cb2f1f10ec566298834f81df0cf8b100ca916c
Story: 2003084
Task: 23166
Story: 2004440
Task: 28108
(cherry picked from commit 955bb8840616d96ed74de3086f8959ad4190a472)
(cherry picked from commit 2f9dc3693e73fe8c235e0eaaf0f9595576940aae)
(cherry picked from commit edebde748d0283a9948c8b7f6386d5a8835c617c)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/72/739772/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/utils.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_loadbalancer.py', 'octavia/amphorae/backends/utils/ip_advertisement.py', 'octavia/tests/unit/amphorae/drivers/keepalived/test_vrrp_rest_driver.py', 'octavia/amphorae/backends/utils/network_utils.py', 'etc/octavia.conf', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/common/constants.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_common.py', 'octavia/network/base.py', 'octavia/network/data_models.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_keepalivedlvs.py', 'octavia/common/exceptions.py', 'octavia/controller/worker/v1/tasks/compute_tasks.py', 'octavia/tests/unit/amphorae/drivers/test_noop_amphoraloadbalancer_driver.py', 'octavia/amphorae/drivers/driver_base.py', 'octavia/compute/drivers/noop_driver/driver.py', 'releasenotes/notes/refactor_failover_flow-9efcd854240f71ad.yaml', 'octavia/tests/unit/controller/worker/v1/tasks/test_retry_tasks.py', 'tools/flow-list.txt', 'octavia/amphorae/drivers/keepalived/vrrp_rest_driver.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_amphora_driver_tasks.py', 'tools/create_flow_docs.py', 'octavia/api/drivers/utils.py', 'octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'octavia/controller/worker/v1/controller_worker.py', 'octavia/controller/worker/v1/flows/amphora_flows.py', 'octavia/network/drivers/neutron/base.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_network_tasks.py', 'octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py', 'octavia/tests/unit/network/drivers/neutron/test_utils.py', 'octavia/tests/common/constants.py', 'octavia/tests/unit/amphorae/backends/utils/test_network_utils.py', 'octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/amphorae/backends/agent/api_server/keepalived.py', 'octavia/common/config.py', 'octavia/network/drivers/neutron/utils.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_compute_tasks.py', 'octavia/tests/common/data_model_helpers.py', 'octavia/tests/common/sample_data_models.py', 'octavia/tests/unit/amphorae/backends/utils/test_ip_advertisement.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_exceptions.py', 'octavia/compute/drivers/nova_driver.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/tests/unit/controller/worker/v1/flows/test_amphora_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'octavia/amphorae/backends/agent/api_server/amphora_info.py', 'octavia/controller/worker/v1/tasks/retry_tasks.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/amphorae/backends/utils/test_network_namespace.py', 'octavia/controller/worker/v1/tasks/network_tasks.py', 'octavia/opts.py', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/tests/unit/compute/drivers/test_nova_driver.py', 'octavia/amphorae/drivers/haproxy/exceptions.py', 'octavia/amphorae/backends/utils/network_namespace.py', 'octavia/tests/unit/common/test_utils.py', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/controller/worker/v1/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/network/drivers/test_network_noop_driver.py', 'octavia/tests/unit/controller/worker/v1/test_controller_worker.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/amphorae/backends/agent/api_server/keepalivedlvs.py', 'octavia/tests/common/sample_network_data.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py']",73,2a2bfa021ebeb7ead445c89ed3c4837acc068b92,failover-refactor," amp1, loadbalancer.id, None) def test_reload(self): amp1 = mock.MagicMock() amp1.api_version = API_VERSION amp2 = mock.MagicMock() amp2.api_version = API_VERSION amp2.status = constants.DELETED loadbalancer = mock.MagicMock() loadbalancer.id = uuidutils.generate_uuid() loadbalancer.amphorae = [amp1, amp2] loadbalancer.vip = self.sv listener = mock.MagicMock() listener.id = uuidutils.generate_uuid() listener.protocol = constants.PROTOCOL_HTTP loadbalancer.listeners = [listener] listener.load_balancer = loadbalancer self.driver.clients[ API_VERSION].reload_listener.__name__ = 'reload_listener' # Execute driver method self.driver.reload(loadbalancer) self.driver.clients[ API_VERSION].reload_listener.assert_called_once_with( amp1, loadbalancer.id, None) self.amp, self.lb.id, None) self.amp, self.sl_udp.id, None)"," amp1, loadbalancer.id) self.amp, self.lb.id) self.amp, self.sl_udp.id) def test_get_vrrp_interface(self): self.driver.get_vrrp_interface(self.amp) self.driver.clients[API_VERSION].get_interface.assert_called_once_with( self.amp, self.amp.vrrp_ip, timeout_dict=None) ",6204,1338
openstack%2Fopenstack-helm-images~master~I657aa1df9c736b8bf6538c671e33de20f6558b78,openstack/openstack-helm-images,master,I657aa1df9c736b8bf6538c671e33de20f6558b78,[dnm] test buildset registry w/o certificate,ABANDONED,2020-07-19 04:36:57.000000000,2020-07-19 18:37:36.000000000,,"[{'_account_id': 8863}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-19 04:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7340ebc8e2132e39248b5ea8b4e812a007e9be06', 'message': '[test]\n\nDepends-On: https://review.opendev.org/741833\nChange-Id: I657aa1df9c736b8bf6538c671e33de20f6558b78\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-19 13:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0e9e6b187bb890d6b4d24ebbaaea299e8119229a', 'message': '[test]\n\nChange-Id: I657aa1df9c736b8bf6538c671e33de20f6558b78\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-19 13:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0e10219aa97dbfcc281abecd1a0b9cbc1eb0d512', 'message': '[dnm] test buildset registry w/o certificate\n\nChange-Id: I657aa1df9c736b8bf6538c671e33de20f6558b78\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-07-19 13:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/53db8eaa323ea4a0d7705e53beeb7ad76fb85c15', 'message': '[dnm] test buildset registry w/o certificate\n\nChange-Id: I657aa1df9c736b8bf6538c671e33de20f6558b78\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2020-07-19 14:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/be22209fac226333b9f4d0f541235f303ef1cd53', 'message': '[dnm] test buildset registry w/o certificate\n\nChange-Id: I657aa1df9c736b8bf6538c671e33de20f6558b78\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 6, 'created': '2020-07-19 15:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/2ec60cfd47ba45de71122202788297fb242bb7d1', 'message': '[dnm] test buildset registry w/o certificate\n\nChange-Id: I657aa1df9c736b8bf6538c671e33de20f6558b78\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 7, 'created': '2020-07-19 16:12:55.000000000', 'files': ['zuul.d/playbooks/build-docker-image/pre.yml', 'zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/791f5d2fd87db2b504044c4d8ee8e0895c5ac4d4', 'message': '[dnm] test buildset registry w/o certificate\n\nChange-Id: I657aa1df9c736b8bf6538c671e33de20f6558b78\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,741834,791f5d2fd87db2b504044c4d8ee8e0895c5ac4d4,16,2,7,8863,,,0,"[dnm] test buildset registry w/o certificate

Change-Id: I657aa1df9c736b8bf6538c671e33de20f6558b78
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/34/741834/4 && git format-patch -1 --stdout FETCH_HEAD,[],0,7340ebc8e2132e39248b5ea8b4e812a007e9be06,,,,0,0
openstack%2Fironic~stable%2Fussuri~Iad6cb02ee4f17b7c5987719b3a0603df210c840d,openstack/ironic,stable/ussuri,Iad6cb02ee4f17b7c5987719b3a0603df210c840d,Clean up nodes in DELETING on conductor restart,MERGED,2020-07-06 12:35:50.000000000,2020-07-19 17:40:06.000000000,2020-07-19 17:38:47.000000000,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-06 12:35:50.000000000', 'files': ['ironic/tests/unit/conductor/test_base_manager.py', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/deleting-dcdb9cf0d2a6a1a6.yaml', 'ironic/common/states.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4baa4fee12f80f264076cfdee61bd0a36aed0350', 'message': 'Clean up nodes in DELETING on conductor restart\n\nChange-Id: Iad6cb02ee4f17b7c5987719b3a0603df210c840d\n(cherry picked from commit 4f6374a209dcf96ecf7d55da4999b045ae4061ef)\n'}]",0,739472,4baa4fee12f80f264076cfdee61bd0a36aed0350,20,5,1,10239,,,0,"Clean up nodes in DELETING on conductor restart

Change-Id: Iad6cb02ee4f17b7c5987719b3a0603df210c840d
(cherry picked from commit 4f6374a209dcf96ecf7d55da4999b045ae4061ef)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/72/739472/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/conductor/test_base_manager.py', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/deleting-dcdb9cf0d2a6a1a6.yaml', 'ironic/common/states.py']",5,4baa4fee12f80f264076cfdee61bd0a36aed0350,deleting-stable/ussuri," ADOPTING, RESCUING, UNRESCUING, DELETING)machine.add_transition(DELETING, ERROR, 'fail')"," ADOPTING, RESCUING, UNRESCUING)machine.add_transition(DELETING, ERROR, 'error')",9,4
openstack%2Fironic~master~I44336423194eed99f026c44b6390030a94ed0522,openstack/ironic,master,I44336423194eed99f026c44b6390030a94ed0522,Replace oslo_utils.netutils type compares with ipaddress,MERGED,2020-04-06 20:46:01.000000000,2020-07-19 17:09:56.000000000,2020-07-19 16:05:48.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-04-06 20:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/df4fc78012c1607b85d635c58e5e82eccbab6cd5', 'message': 'Replace netaddr with ipaddress\n\nnetaddr, much to what it seems, is not an integrated\nlibrary, and the proper library to use for Python3 is\nipaddress.\n\nChange-Id: I44336423194eed99f026c44b6390030a94ed0522\n'}, {'number': 2, 'created': '2020-04-07 13:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8f79849cbd42261302c6beb884441587d8c503de', 'message': 'Replace netaddr with ipaddress\n\nnetaddr, much to what it seems, is not an integrated\nlibrary, and the proper library to use for Python3 is\nipaddress.\n\nChange-Id: I44336423194eed99f026c44b6390030a94ed0522\n'}, {'number': 3, 'created': '2020-04-13 14:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/06adaf3d614d1f95f767dc009cdf392ccab54d6e', 'message': 'Replace netaddr with ipaddress\n\nnetaddr, much to what it seems, is not an integrated\nlibrary, and the proper library to use for Python3 is\nipaddress.\n\nChange-Id: I44336423194eed99f026c44b6390030a94ed0522\n'}, {'number': 4, 'created': '2020-04-13 15:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5159a7bcbb31fb3967e6b3613ea999a0a6fa88aa', 'message': 'Replace oslo_utils.netutils with ipaddress\n\nWe used netutils earlier on to have a backportable change\nhowever the longer term goal was to replace the change with\nusing the python native ipaddress module directly.\n\nChange-Id: I44336423194eed99f026c44b6390030a94ed0522\n'}, {'number': 5, 'created': '2020-07-18 00:07:02.000000000', 'files': ['ironic/dhcp/neutron.py', 'ironic/tests/unit/drivers/modules/test_console_utils.py', 'ironic/common/neutron.py', 'ironic/drivers/modules/console_utils.py', 'ironic/common/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b1dd9147d2def7fd86d1624ee4404fe6988ec315', 'message': 'Replace oslo_utils.netutils type compares with ipaddress\n\nWe used netutils earlier on to have a backportable change\nhowever the longer term goal was to replace the change with\nusing the python native ipaddress module directly.\n\nFor the cases where we can change IP version type compares,\nwe change them with this change.\n\nNote: other uses of netutils still exist, and we should\neventually see if we can phase them out, however the remaining\nuses are around MAC address validations.\n\nChange-Id: I44336423194eed99f026c44b6390030a94ed0522\n'}]",4,717852,b1dd9147d2def7fd86d1624ee4404fe6988ec315,39,9,5,11655,,,0,"Replace oslo_utils.netutils type compares with ipaddress

We used netutils earlier on to have a backportable change
however the longer term goal was to replace the change with
using the python native ipaddress module directly.

For the cases where we can change IP version type compares,
we change them with this change.

Note: other uses of netutils still exist, and we should
eventually see if we can phase them out, however the remaining
uses are around MAC address validations.

Change-Id: I44336423194eed99f026c44b6390030a94ed0522
",git fetch https://review.opendev.org/openstack/ironic refs/changes/52/717852/5 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/neutron.py'],1,df4fc78012c1607b85d635c58e5e82eccbab6cd5,717852,import ipaddress or ipaddress.ip_address( fixed_ips[0]['ip_address']).version != 6):, import netaddr or netaddr.IPAddress(fixed_ips[0]['ip_address']).version != 6):,3,2
openstack%2Fproject-config~master~Id11cfa0e961ec2e9c16506a21a7859b284ecdc0a,openstack/project-config,master,Id11cfa0e961ec2e9c16506a21a7859b284ecdc0a,Allow circular dependencies for openstack-helm projects,NEW,2020-07-19 15:16:05.000000000,2020-07-19 17:06:46.000000000,,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8863}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-19 15:16:05.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/42135b0ba7848ee0a321d23b28f00259aa51d910', 'message': 'Allow circular dependencies for openstack-helm projects\n\nOpenstack-helm projects reuse job definitions and related ansible code\nfrom each other for testing purposes to avoid code duplication not\nsupporting strongly dependent changes introduced to multiple repositories.\n\nThis commit allows circular dependencies for openstack-helm projects to\navoid temporarily disabling jobs in one of projects for strongly dependent\nchanges.\n\nChange-Id: Id11cfa0e961ec2e9c16506a21a7859b284ecdc0a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,741846,42135b0ba7848ee0a321d23b28f00259aa51d910,6,4,1,8863,,,0,"Allow circular dependencies for openstack-helm projects

Openstack-helm projects reuse job definitions and related ansible code
from each other for testing purposes to avoid code duplication not
supporting strongly dependent changes introduced to multiple repositories.

This commit allows circular dependencies for openstack-helm projects to
avoid temporarily disabling jobs in one of projects for strongly dependent
changes.

Change-Id: Id11cfa0e961ec2e9c16506a21a7859b284ecdc0a
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/46/741846/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,42135b0ba7848ee0a321d23b28f00259aa51d910,, - openstack/openstack-helm: allow-circular-dependencies: true - openstack/openstack-helm-addons: allow-circular-dependencies: true - openstack/openstack-helm-images: allow-circular-dependencies: true - openstack/openstack-helm-infra: allow-circular-dependencies: true, - openstack/openstack-helm - openstack/openstack-helm-addons - openstack/openstack-helm-images - openstack/openstack-helm-infra,8,4
openstack%2Fironic~stable%2Fussuri~Id220ce3a2c2821ad1841add20f2138e65d1786bf,openstack/ironic,stable/ussuri,Id220ce3a2c2821ad1841add20f2138e65d1786bf,Add missing agent RAID compatibility for ilo5 and idrac,MERGED,2020-07-18 11:15:53.000000000,2020-07-19 16:43:50.000000000,2020-07-19 16:41:29.000000000,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-18 11:15:53.000000000', 'files': ['ironic/tests/unit/drivers/test_ilo.py', 'ironic/drivers/ilo.py', 'releasenotes/notes/missing-sw-raid-b7fdc9259612970d.yaml', 'ironic/drivers/drac.py', 'ironic/tests/unit/drivers/test_drac.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a4311fb70479619169d4e34c487acb0c1587129a', 'message': 'Add missing agent RAID compatibility for ilo5 and idrac\n\nSoftware RAID relies on it.\n\nChange-Id: Id220ce3a2c2821ad1841add20f2138e65d1786bf\n(cherry picked from commit c376cb32196fdd6c8be6806395479ea8d0db13ff)\n'}]",0,741808,a4311fb70479619169d4e34c487acb0c1587129a,8,3,1,10239,,,0,"Add missing agent RAID compatibility for ilo5 and idrac

Software RAID relies on it.

Change-Id: Id220ce3a2c2821ad1841add20f2138e65d1786bf
(cherry picked from commit c376cb32196fdd6c8be6806395479ea8d0db13ff)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/08/741808/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/ilo.py', 'ironic/tests/unit/drivers/test_ilo.py', 'releasenotes/notes/missing-sw-raid-b7fdc9259612970d.yaml', 'ironic/drivers/drac.py', 'ironic/tests/unit/drivers/test_drac.py']",5,a4311fb70479619169d4e34c487acb0c1587129a,missing-sw-raid-stable/ussuri,"from oslo_utils import uuidutils 'idrac', 'idrac-wsman', 'no-raid', 'agent'], for iface, impl in [('agent', agent.AgentRAID), ('no-raid', noop.NoRAID)]: node = obj_utils.create_test_node(self.context, uuid=uuidutils.generate_uuid(), driver='idrac', raid_interface=iface) with task_manager.acquire(self.context, node.id) as task: self._validate_interfaces(task.driver, raid=impl)"," 'idrac', 'idrac-wsman', 'no-raid'], node = obj_utils.create_test_node(self.context, driver='idrac', raid_interface='no-raid') with task_manager.acquire(self.context, node.id) as task: self._validate_interfaces(task.driver, raid=noop.NoRAID)",38,25
openstack%2Fironic~stable%2Ftrain~I07f17a7321582e9829ac422efb51b571a17c5ca8,openstack/ironic,stable/train,I07f17a7321582e9829ac422efb51b571a17c5ca8,New configuration parameter to use ipmitool retries,MERGED,2020-07-16 16:55:43.000000000,2020-07-19 16:43:49.000000000,2020-07-19 16:41:32.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-16 16:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/76d9ae3ed80d8ea3ff130f1ac0bdf8847c82a4aa', 'message': 'Use min_command_interval when ironic does IPMI retries\n\nFor certain BMCs the default of 1 second is too short for the ipmitool\nminimum command interval (-N).  The configured\n``[ipmi]min_command_interval`` should be used.\n\nStory: 2007914\nTask: 40317\n\nChange-Id: I07f17a7321582e9829ac422efb51b571a17c5ca8\n(cherry picked from commit a7445d9f85cd06b7f919714efebe8ada0f2c25e7)\n'}, {'number': 2, 'created': '2020-07-16 17:18:27.000000000', 'files': ['releasenotes/notes/ipmitool-use_ipmitool_retries-b55b2b8ed5cab603.yaml', 'ironic/conf/ipmi.py', 'releasenotes/notes/ipmi-retries-min-command-interval-070cd7eff5eb74dd.yaml', 'ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/725fd9c235ce99c395e11b19ec1bb204f26d689f', 'message': 'New configuration parameter to use ipmitool retries\n\nAdd a new ``[ipmi]use_ipmitool_retries`` option. When set to\n``True`` and timing is supported by ipmitool, the number of\nretries and command interval will be passed to ipmitool so\nthat ipmitool will do the retries.  When set to ``False``,\nironic will do the retries.\n\nThe default is ``True``, so this will not change the current\nbehaviour which is to have ipmitool do the retries when\ntiming is supported.\n\nSetting to ``False`` will help with certain BMCs which do\nnot support the Cipher Suites command.  In this case ipmitool\ncan take up to 10 seconds for each retry which results in a\ntotal time exceeding ``[ipmi]command_retry_timeout``.\n\nChange-Id: I1d0194e7c7ae9fcdd4665e6115ee26d10b14e480\nStory: 2007632\nTask: 39676\n(cherry picked from commit 0adedb2e6c17bea0b1eb4588ba694c4a90f92b93)\n\nUse min_command_interval when ironic does IPMI retries\n\nFor certain BMCs the default of 1 second is too short for the ipmitool\nminimum command interval (-N).  The configured\n``[ipmi]min_command_interval`` should be used.\n\nStory: 2007914\nTask: 40317\n\nChange-Id: I07f17a7321582e9829ac422efb51b571a17c5ca8\n(cherry picked from commit a7445d9f85cd06b7f919714efebe8ada0f2c25e7)\n'}]",1,741496,725fd9c235ce99c395e11b19ec1bb204f26d689f,15,5,2,21909,,,0,"New configuration parameter to use ipmitool retries

Add a new ``[ipmi]use_ipmitool_retries`` option. When set to
``True`` and timing is supported by ipmitool, the number of
retries and command interval will be passed to ipmitool so
that ipmitool will do the retries.  When set to ``False``,
ironic will do the retries.

The default is ``True``, so this will not change the current
behaviour which is to have ipmitool do the retries when
timing is supported.

Setting to ``False`` will help with certain BMCs which do
not support the Cipher Suites command.  In this case ipmitool
can take up to 10 seconds for each retry which results in a
total time exceeding ``[ipmi]command_retry_timeout``.

Change-Id: I1d0194e7c7ae9fcdd4665e6115ee26d10b14e480
Story: 2007632
Task: 39676
(cherry picked from commit 0adedb2e6c17bea0b1eb4588ba694c4a90f92b93)

Use min_command_interval when ironic does IPMI retries

For certain BMCs the default of 1 second is too short for the ipmitool
minimum command interval (-N).  The configured
``[ipmi]min_command_interval`` should be used.

Story: 2007914
Task: 40317

Change-Id: I07f17a7321582e9829ac422efb51b571a17c5ca8
(cherry picked from commit a7445d9f85cd06b7f919714efebe8ada0f2c25e7)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/741496/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ipmitool.py', 'releasenotes/notes/ipmi-retries-min-command-interval-070cd7eff5eb74dd.yaml', 'ironic/tests/unit/drivers/modules/test_ipmitool.py']",3,76d9ae3ed80d8ea3ff130f1ac0bdf8847c82a4aa,ipmitool-use-retries-stable/train," '-N', '5',"," '-N', '1',",8,5
openstack%2Fironic-inspector~master~I814b12cbc05c6a110dc5593113b948e3f89e80c1,openstack/ironic-inspector,master,I814b12cbc05c6a110dc5593113b948e3f89e80c1,Make inspector base CI job use 2 CPUs,MERGED,2020-07-13 18:48:27.000000000,2020-07-19 16:43:35.000000000,2020-07-19 16:41:31.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-13 18:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/473dee2dc0b9845a34ede3f2fff78512ad9256d1', 'message': 'Make inspector base CI job use 2 CPUs\n\nUncompressing the ramdisk on a single core CPU can take a\nsubstantial amount of time and elongate the overall initial\nperiod between VM start and OS becoming operational.\n\nAdditionally, multiple CPUs allows for the software with-in\nthe job to execute more quickly with multiple running processes.\n\nChange-Id: I814b12cbc05c6a110dc5593113b948e3f89e80c1\n'}, {'number': 2, 'created': '2020-07-13 18:49:45.000000000', 'files': ['zuul.d/ironic-inspector-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/039844a0a50d0d204b5d28a4bea46c9f7abd7650', 'message': 'Make inspector base CI job use 2 CPUs\n\nUncompressing the ramdisk on a single core CPU can take a\nsubstantial amount of time and elongate the overall initial\nperiod between VM start and OS becoming operational.\n\nAdditionally, multiple CPUs allows for the software with-in\nthe job to execute more quickly with multiple running processes.\n\nChange-Id: I814b12cbc05c6a110dc5593113b948e3f89e80c1\n'}]",0,740746,039844a0a50d0d204b5d28a4bea46c9f7abd7650,31,9,2,11655,,,0,"Make inspector base CI job use 2 CPUs

Uncompressing the ramdisk on a single core CPU can take a
substantial amount of time and elongate the overall initial
period between VM start and OS becoming operational.

Additionally, multiple CPUs allows for the software with-in
the job to execute more quickly with multiple running processes.

Change-Id: I814b12cbc05c6a110dc5593113b948e3f89e80c1
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/46/740746/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-inspector-jobs.yaml'],1,473dee2dc0b9845a34ede3f2fff78512ad9256d1,740344, IRONIC_VM_SPECS_CPU: 2,,1,0
openstack%2Fironic~master~I63b5348ecfd55e9ac889fb12b0212d76785edaca,openstack/ironic,master,I63b5348ecfd55e9ac889fb12b0212d76785edaca,Allow disabling retries in AgentClient.get_command_statuses,MERGED,2020-07-17 13:03:26.000000000,2020-07-19 16:39:44.000000000,2020-07-19 16:05:42.000000000,"[{'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-17 13:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d1d53d0817947fc21cf0330992c471f0abf254fa', 'message': 'Allow disabling retries in AgentClient.get_command_statuses\n\nFor the agent power interface it will be required to check if the agent\nis running without making too many retries.\n\nChange-Id: I63b5348ecfd55e9ac889fb12b0212d76785edaca\nStory: #2007771\nTask: #40380\n'}, {'number': 2, 'created': '2020-07-17 15:32:50.000000000', 'files': ['ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3b6163afd2404cbc326598d879c71da0859d6add', 'message': 'Allow disabling retries in AgentClient.get_command_statuses\n\nFor the agent power interface it will be required to check if the agent\nis running without making too many retries.\n\nChange-Id: I63b5348ecfd55e9ac889fb12b0212d76785edaca\nStory: #2007771\nTask: #40380\n'}]",0,741632,3b6163afd2404cbc326598d879c71da0859d6add,14,5,2,10239,,,0,"Allow disabling retries in AgentClient.get_command_statuses

For the agent power interface it will be required to check if the agent
is running without making too many retries.

Change-Id: I63b5348ecfd55e9ac889fb12b0212d76785edaca
Story: #2007771
Task: #40380
",git fetch https://review.opendev.org/openstack/ironic refs/changes/32/741632/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",2,d1d53d0817947fc21cf0330992c471f0abf254fa,story/2007771," self.assertRaises(exception.AgentConnectionFailed, url = self.client._get_command_url(self.node) self.client.session.post.assert_called_with( url, data=mock.ANY, params={'wait': 'false'}, timeout=60) self.assertEqual(3, self.client.session.post.call_count) res = mock.MagicMock(spec_set=['json']) res.json.return_value = {'commands': []} self.client.session.get.side_effect = [ requests.ConnectionError('boom'), res ] self.assertEqual([], self.client.get_commands_status(self.node)) self.assertEqual(2, self.client.session.get.call_count) def test_get_commands_status_no_retries(self): self.client.session.get.side_effect = requests.ConnectionError('boom') self.assertRaises(exception.AgentConnectionFailed, self.client.get_commands_status, self.node, retry_connection=False) self.assertEqual(1, self.client.session.get.call_count)"," self.assertRaises(exception.IronicException, self.client._get_command_url(self.node) with mock.patch.object(self.client.session, 'get', autospec=True) as mock_get: res = mock.MagicMock(spec_set=['json']) res.json.return_value = {'commands': []} mock_get.side_effect = [ requests.ConnectionError('boom'), res] self.assertEqual([], self.client.get_commands_status(self.node)) self.assertEqual(2, mock_get.call_count)",51,29
openstack%2Fironic~stable%2Ftrain~I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671,openstack/ironic,stable/train,I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671,Correct Redfish boot once fallback conditional,MERGED,2020-07-09 20:37:36.000000000,2020-07-19 16:07:04.000000000,2020-07-19 16:05:37.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 27909}, {'_account_id': 31616}]","[{'number': 1, 'created': '2020-07-09 20:37:36.000000000', 'files': ['ironic/drivers/modules/redfish/management.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e45b46061dcfc9840af24278aeec440debde36ad', 'message': ""Correct Redfish boot once fallback conditional\n\nThis corrects the variable examined to determine if falling back from\nRedfish boot source override enabled continuous to once should be\nperformed. The value of the variable 'enabled', instead of\n'desired_enabled', should be used.\n\nStory: 2007733\nTask: 40273\nChange-Id: I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671\n(cherry picked from commit 91b0f738347cdbcb87c320e80023657b1824b6a5)\n""}]",0,740368,e45b46061dcfc9840af24278aeec440debde36ad,23,14,1,23847,,,0,"Correct Redfish boot once fallback conditional

This corrects the variable examined to determine if falling back from
Redfish boot source override enabled continuous to once should be
performed. The value of the variable 'enabled', instead of
'desired_enabled', should be used.

Story: 2007733
Task: 40273
Change-Id: I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671
(cherry picked from commit 91b0f738347cdbcb87c320e80023657b1824b6a5)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/68/740368/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/management.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py']",2,e45b46061dcfc9840af24278aeec440debde36ad,story/2007733-stable/train," @mock.patch.object(redfish_utils, 'get_system', autospec=True) def test_set_boot_device_fail_no_change(self, mock_get_system): fake_system = mock.Mock() fake_system.set_system_boot_options.side_effect = ( sushy.exceptions.SushyError() ) mock_get_system.return_value = fake_system with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: expected_values = [ (True, sushy.BOOT_SOURCE_ENABLED_CONTINUOUS), (False, sushy.BOOT_SOURCE_ENABLED_ONCE) ] for target, expected in expected_values: fake_system.boot.get.return_value = expected self.assertRaisesRegex( exception.RedfishError, 'Redfish set boot device', task.driver.management.set_boot_device, task, boot_devices.PXE, persistent=target) fake_system.set_system_boot_options.assert_called_once_with( sushy.BOOT_SOURCE_TARGET_PXE, enabled=None) mock_get_system.assert_called_once_with(task.node) self.assertNotIn('redfish_boot_device', task.node.driver_internal_info) # Reset mocks fake_system.set_system_boot_options.reset_mock() mock_get_system.reset_mock() ",,32,1
openstack%2Fironic~stable%2Fussuri~I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671,openstack/ironic,stable/ussuri,I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671,Correct Redfish boot once fallback conditional,MERGED,2020-07-09 20:11:27.000000000,2020-07-19 16:07:03.000000000,2020-07-19 16:05:32.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}, {'_account_id': 31616}]","[{'number': 1, 'created': '2020-07-09 20:11:27.000000000', 'files': ['ironic/drivers/modules/redfish/management.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d35cd6a8b2d57173e6dbd22054b643b9a4b09c0a', 'message': ""Correct Redfish boot once fallback conditional\n\nThis corrects the variable examined to determine if falling back from\nRedfish boot source override enabled continuous to once should be\nperformed. The value of the variable 'enabled', instead of\n'desired_enabled', should be used.\n\nStory: 2007733\nTask: 40273\nChange-Id: I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671\n(cherry picked from commit 91b0f738347cdbcb87c320e80023657b1824b6a5)\n""}]",0,740356,d35cd6a8b2d57173e6dbd22054b643b9a4b09c0a,18,13,1,23847,,,0,"Correct Redfish boot once fallback conditional

This corrects the variable examined to determine if falling back from
Redfish boot source override enabled continuous to once should be
performed. The value of the variable 'enabled', instead of
'desired_enabled', should be used.

Story: 2007733
Task: 40273
Change-Id: I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671
(cherry picked from commit 91b0f738347cdbcb87c320e80023657b1824b6a5)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/56/740356/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/management.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py']",2,d35cd6a8b2d57173e6dbd22054b643b9a4b09c0a,story/2007733-stable/ussuri," @mock.patch.object(redfish_utils, 'get_system', autospec=True) def test_set_boot_device_fail_no_change(self, mock_get_system): fake_system = mock.Mock() fake_system.set_system_boot_options.side_effect = ( sushy.exceptions.SushyError() ) mock_get_system.return_value = fake_system with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: expected_values = [ (True, sushy.BOOT_SOURCE_ENABLED_CONTINUOUS), (False, sushy.BOOT_SOURCE_ENABLED_ONCE) ] for target, expected in expected_values: fake_system.boot.get.return_value = expected self.assertRaisesRegex( exception.RedfishError, 'Redfish set boot device', task.driver.management.set_boot_device, task, boot_devices.PXE, persistent=target) fake_system.set_system_boot_options.assert_called_once_with( sushy.BOOT_SOURCE_TARGET_PXE, enabled=None) mock_get_system.assert_called_once_with(task.node) self.assertNotIn('redfish_boot_device', task.node.driver_internal_info) # Reset mocks fake_system.set_system_boot_options.reset_mock() mock_get_system.reset_mock() ",,32,1
openstack%2Ftacker-horizon~master~I41249dae63e4416aa37dacfa9f1ea9fd063700f2,openstack/tacker-horizon,master,I41249dae63e4416aa37dacfa9f1ea9fd063700f2,[WIP] Web studio for designing TOSCA templates,NEW,2018-02-22 14:56:17.000000000,2020-07-19 13:59:06.000000000,,"[{'_account_id': 2874}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 27068}, {'_account_id': 27181}]","[{'number': 1, 'created': '2018-02-22 14:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/fb13cf205609cfa506103f096f3c96cdb9ac6926', 'message': '[WIP] Web studio for designing TOSCA templates for VNFD, VNFFGD, NSD\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 2, 'created': '2018-02-22 14:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/16b2e289c823747e060b4b61c545618880963fa8', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 3, 'created': '2018-03-10 15:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/20de4a615081eecf05ac3c74760b489e3b6e4af0', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 4, 'created': '2018-03-10 18:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/c4308f7da77c8e32ac025d58e864f6b4d8d68e49', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nTogether with tacker-horizon, Tacker Studio requires 2 other\nworking ttems which will be implemented along with this patch:\n\n- tacker: database models, api\n- python-tackerclient: using tacker api to access the db and\ndo other stuffs such as: onboarding vnfd, vnffgd, nsd from\nthe designed TOSCA templates.\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 5, 'created': '2018-03-10 18:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/43d703f5034fdcf8b8ca8f49ca90e67a31ae248b', 'message': ""[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nWork items for tacker-horizon:\n\n- Horizon UIs: list designed templates\n- AngualarJS module:\n    - Drag&drop TOSCA properties,\n    - Export to yaml file,\n    - Save the template to Tacker's db\n    - Load the template from Tacker's db and render it\n    - Delete existing templates\n\nTogether with tacker-horizon, Tacker Studio requires 2 other\nworking ttems which will be implemented:\n\n- tacker: database models, api\n- python-tackerclient: using tacker api to access the db and\ndo other stuffs such as: onboarding vnfd, vnffgd, nsd from\nthe designed TOSCA templates.\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n""}, {'number': 6, 'created': '2018-03-11 19:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/3a3326b6f0c3aaf5c677e22e997e549549218040', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nWork items for tacker-horizon:\n\n- Horizon UIs: list designed templates\n- AngualarJS module:\n    - Drag&drop TOSCA properties for Tacker,\n    - Export to yaml file,\n    - Import yaml files and render,\n    - Save the template to draft files stores inside\n      tacker-horizon,\n    - Load the template from draft files and render it,\n    - Delete existing draft,\n    - Call tacker api to onboarding vnfd, vnffgd, nsd from\n      the draft templates.\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 7, 'created': '2018-03-12 06:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/b91ad17708683013fbc0dff50cc310b625ce1bfc', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nWork items for tacker-horizon:\n\n- Horizon UIs: list designed templates\n- AngualarJS module:\n    - Drag&drop TOSCA properties for Tacker,\n    - Export to yaml file,\n    - Import yaml files and render,\n    - Save the template to draft files stores inside\n      tacker-horizon,\n    - Load the template from draft files and render it,\n    - Delete existing draft,\n    - Call tacker api to onboarding vnfd, vnffgd, nsd from\n      the draft templates.\nTacker node types and attributes:\n- topology:\n  - node templates:\n    - VDU\n    - CP\n    - VL\n    - FIP (floating IP)\n  - policies\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 8, 'created': '2018-03-13 18:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/73d5e22f74243f140b43d0c6896e3af4068a01a9', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nWork items for tacker-horizon:\n\n- Horizon UIs: list designed templates\n- AngualarJS module:\n    - Drag&drop TOSCA properties for Tacker,\n    - Export to yaml file,\n    - Import yaml files and render,\n    - Save the template to draft files stores inside\n      tacker-horizon,\n    - Load the template from draft files and render it,\n    - Delete existing draft,\n    - Call tacker api to onboarding vnfd, vnffgd, nsd from\n      the draft templates.\nTacker node types and attributes:\n- topology:\n  - node templates:\n    - VDU\n    - CP\n    - VL\n    - FIP (floating IP)\n  - policies\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 9, 'created': '2018-03-13 18:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/e4f57ed5cba47d105a7f0efb65e9495f6858399d', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nWork items for tacker-horizon:\n\n- Horizon UIs: list designed templates\n- AngualarJS module:\n    - Drag&drop TOSCA properties for Tacker,\n    - Export to yaml file,\n    - Import yaml files and render,\n    - Save the template to draft files stores inside\n      tacker-horizon,\n    - Load the template from draft files and render it,\n    - Delete existing draft,\n    - Call tacker api to onboarding vnfd, vnffgd, nsd from\n      the draft templates.\nTacker node types and attributes:\n- topology:\n  - node templates:\n    - VDU\n    - CP\n    - VL\n    - FIP (floating IP)\n  - policies\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 10, 'created': '2018-03-13 18:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/48d75b3ec3a61d4010b65e9ea35a68ade6cb10e6', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\n+ Workflow diagram: https://drive.google.com/file/d/1gxpk6WQlp9IyZN5TRNAOD1KcUXi6yjhT/view\n\n+ Work items for tacker-horizon:\n\n- Horizon UIs: list designed templates\n- AngualarJS module:\n    - Drag&drop TOSCA properties for Tacker,\n    - Export to yaml file,\n    - Import yaml files and render,\n    - Save the template to draft files stores inside\n      tacker-horizon,\n    - Load the template from draft files and render it,\n    - Delete existing draft,\n    - Call tacker api to onboarding vnfd, vnffgd, nsd from\n      the draft templates.\n+ Tacker node types and attributes:\n- topology:\n  - node templates:\n    - VDU\n    - CP\n    - VL\n    - FIP (floating IP)\n  - policies\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 11, 'created': '2018-03-20 08:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/d9929fc93a07c79923e77656c9bf83f98dc6ad98', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\n+ Workflow diagram: https://drive.google.com/file/d/1gxpk6WQlp9IyZN5TRNAOD1KcUXi6yjhT/view\n\n+ Work items for tacker-horizon:\n\n- Horizon UIs: list designed templates\n- AngualarJS module:\n    - Drag&drop TOSCA properties for Tacker,\n    - Export to yaml file,\n    - Import yaml files and render,\n    - Save the template to draft files stores inside\n      tacker-horizon,\n    - Load the template from draft files and render it,\n    - Delete existing draft,\n    - Call tacker api to onboarding vnfd, vnffgd, nsd from\n      the draft templates.\n+ Tacker node types and attributes:\n- topology:\n  - node templates:\n    - VDU\n    - CP\n    - VL\n    - FIP (floating IP)\n  - policies\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 12, 'created': '2018-03-20 08:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/3d8987232b3501fb561bfd9de3f0b0608ce37a4b', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\n+ Workflow diagram: https://drive.google.com/file/d/1gxpk6WQlp9IyZN5TRNAOD1KcUXi6yjhT/view\n\n+ Work items for tacker-horizon:\n\n- Horizon UIs: list designed templates\n- AngualarJS module:\n    - Drag&drop TOSCA properties for Tacker,\n    - Export to yaml file,\n    - Import yaml files and render,\n    - Save the template to draft files stores inside\n      tacker-horizon,\n    - Load the template from draft files and render it,\n    - Delete existing draft,\n    - Call tacker api to onboarding vnfd, vnffgd, nsd from\n      the draft templates.\n+ Tacker node types and attributes:\n- topology:\n  - node templates:\n    - VDU\n    - CP\n    - VL\n    - FIP (floating IP)\n  - policies\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 13, 'created': '2018-03-20 13:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/25b353909a39f9c349eea7c2d9450322b6fca4c1', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nSpecs: https://review.openstack.org/#/c/553684/\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 14, 'created': '2018-03-20 14:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/3c16b66f3319e3e91c1dc05d9b26d5a5ab910e4e', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nSpecs: https://review.openstack.org/#/c/553684/\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 15, 'created': '2018-03-21 05:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/3fc67ce5ed3e855eeff1648c9b0f66ce85f1b7ef', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nSpecs: https://review.openstack.org/#/c/553684/\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 16, 'created': '2018-03-21 05:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/be3944bc2d616ee9b5cec00d31de37d269134f40', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nSpecs: https://review.openstack.org/#/c/553684/\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 17, 'created': '2018-03-21 07:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/deaabaf7864c5c56f6ca5500778f36879aedf3bf', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nSpecs: https://review.openstack.org/#/c/553684/\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 18, 'created': '2018-03-21 10:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/af736711694c95f07095d7051b43d015831eb1f9', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nSpecs: https://review.openstack.org/#/c/553684/\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 19, 'created': '2018-03-23 13:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/ac9e3f161e640365ce65ad2d53e2f473aa5a28db', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nSpecs: https://review.openstack.org/#/c/553684/\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 20, 'created': '2018-03-26 13:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/8510f2e3113f463509e76640db9c729b429c0fda', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nSpecs: https://review.openstack.org/#/c/553684/\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 21, 'created': '2018-04-02 02:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/4d296dfaa380ca373ee8c89a491b83f53b16a11c', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nSpecs: https://review.openstack.org/#/c/553684/\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 22, 'created': '2018-04-06 00:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/78c12e1dd405632e72a16249efb2e39d0b6262ec', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nSpecs: https://review.openstack.org/#/c/553684/\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 23, 'created': '2018-04-09 11:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/8637fea47f6745007a1928fad2e9e41832800378', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nSpecs: https://review.openstack.org/#/c/553684/\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 24, 'created': '2018-04-09 11:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/dcd0142cc252d70e335cf0d7969c2679d451bfc4', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nSpecs: https://review.openstack.org/#/c/553684/\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 25, 'created': '2018-05-09 14:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/6ee2fa3ccc5fdae3070cb5323e46a46c34580686', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nSpecs: https://review.openstack.org/#/c/553684/\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 26, 'created': '2018-06-20 10:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/c410b18b542d7305995554e62f1c3ca4b0c6824c', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nSpecs: https://review.openstack.org/#/c/553684/\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 27, 'created': '2018-08-17 15:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/9d501beb0163da4a8f4e18a7b4c26cc181649978', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nSpecs: https://review.openstack.org/#/c/553684/\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 28, 'created': '2018-09-22 02:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/48c3b377adb6d082a03234f4d422a247a5fdc915', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nSpecs: https://review.openstack.org/#/c/553684/\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}, {'number': 29, 'created': '2020-07-19 12:22:07.000000000', 'files': ['tacker_horizon/openstack_dashboard/dashboards/nfv/studio/templates/studio/index.html', 'tacker_horizon/openstack_dashboard/dashboards/nfv/studio/__init__.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/dashboard.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/studio/urls.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/studio/panel.py', 'tacker_horizon/enabled/common.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/studio/views.py', 'tacker_horizon/enabled/_8010_nfv_studio_panel.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/studio/tests.py'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/c432e492ac4ed7f9dc6ea051b3b4893bf55db628', 'message': '[WIP] Web studio for designing TOSCA templates\n\nIn order to launch VNFs, VNFFG, or NS, we have to manually\nprepare a TOSCA template YAML file which may have typos,\nunexpected indents, wrong fields etc... This patch proposes\nto build a web interface (horizon) that helps us to design,\nstore, and export VNFD, VNFFGD, NSD templates beautifully\nwith less errors.\n\nSpecs: https://review.openstack.org/#/c/553684/\n\nChange-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2\nImplements: blueprint tacker-studio\n'}]",1,547018,c432e492ac4ed7f9dc6ea051b3b4893bf55db628,59,6,29,27068,,,0,"[WIP] Web studio for designing TOSCA templates

In order to launch VNFs, VNFFG, or NS, we have to manually
prepare a TOSCA template YAML file which may have typos,
unexpected indents, wrong fields etc... This patch proposes
to build a web interface (horizon) that helps us to design,
store, and export VNFD, VNFFGD, NSD templates beautifully
with less errors.

Specs: https://review.openstack.org/#/c/553684/

Change-Id: I41249dae63e4416aa37dacfa9f1ea9fd063700f2
Implements: blueprint tacker-studio
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/18/547018/23 && git format-patch -1 --stdout FETCH_HEAD,"['tacker_horizon/openstack_dashboard/dashboards/nfv/studio/__init__.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/studio/tabs.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/studio/urls.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/studio/templates/studio/_onboardtemplate.html', 'tacker_horizon/openstack_dashboard/dashboards/nfv/studio/views.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/studio/templates/studio/index.html', 'tacker_horizon/openstack_dashboard/dashboards/nfv/studio/templates/studio/template.html', 'tacker_horizon/openstack_dashboard/dashboards/nfv/studio/templates/studio/onboardtemplate.html', 'tacker_horizon/openstack_dashboard/dashboards/nfv/studio/forms.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/studio/panel.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/studio/templates/studio/detail.html', 'tacker_horizon/openstack_dashboard/dashboards/nfv/studio/tables.py', 'tacker_horizon/openstack_dashboard/dashboards/nfv/studio/tests.py']",13,fb13cf205609cfa506103f096f3c96cdb9ac6926,bp/tacker-studio,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack_dashboard.test import helpers as test class StudioTests(test.TestCase): # Unit tests for Tacker Studio. def test_me(self): self.assertTrue(1 + 1 == 2) ",,261,0
openstack%2Fnova~master~I5630dcf724150da08c93bdfd168f6e3d4db96bb3,openstack/nova,master,I5630dcf724150da08c93bdfd168f6e3d4db96bb3,Add test coverage of FIP policies,ABANDONED,2020-07-18 06:20:52.000000000,2020-07-19 13:45:48.000000000,,"[{'_account_id': 9008}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-18 06:20:52.000000000', 'files': ['nova/tests/unit/policies/test_floating_ips.py', 'nova/tests/unit/api/openstack/compute/test_floating_ips.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3b95b78151b49597ff16f6c451a2b957b66e0011', 'message': ""Add test coverage of FIP policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nTo adopt the keystone's scope_type and new defaults in deprecated\nAPI policies, we need to first write test coverage for the same to\nknow the complete effect of policies changes.\n\nPartial implement blueprint policy-defaults-refresh-deprecated-apis\n\nChange-Id: I5630dcf724150da08c93bdfd168f6e3d4db96bb3\n""}]",0,741799,3b95b78151b49597ff16f6c451a2b957b66e0011,6,4,1,8556,,,0,"Add test coverage of FIP policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

To adopt the keystone's scope_type and new defaults in deprecated
API policies, we need to first write test coverage for the same to
know the complete effect of policies changes.

Partial implement blueprint policy-defaults-refresh-deprecated-apis

Change-Id: I5630dcf724150da08c93bdfd168f6e3d4db96bb3
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/741799/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/policies/test_floating_ips.py', 'nova/tests/unit/api/openstack/compute/test_floating_ips.py']",2,3b95b78151b49597ff16f6c451a2b957b66e0011,bp/policy-defaults-refresh-deprecated-apis,,"class FloatingIPPolicyEnforcementV21(test.NoDBTestCase): def setUp(self): super(FloatingIPPolicyEnforcementV21, self).setUp() self.controller = fips_v21.FloatingIPController() self.req = fakes.HTTPRequest.blank('') def _common_policy_check(self, func, *arg, **kwarg): rule_name = ""os_compute_api:os-floating-ips"" rule = {rule_name: ""project:non_fake""} self.policy.set_rules(rule) exc = self.assertRaises( exception.PolicyNotAuthorized, func, *arg, **kwarg) self.assertEqual( ""Policy doesn't allow %s to be performed."" % rule_name, exc.format_message()) def test_index_policy_failed(self): self._common_policy_check(self.controller.index, self.req) def test_show_policy_failed(self): self._common_policy_check(self.controller.show, self.req, uuids.fake) def test_create_policy_failed(self): self._common_policy_check(self.controller.create, self.req) def test_delete_policy_failed(self): self._common_policy_check(self.controller.delete, self.req, uuids.fake) class FloatingIPActionPolicyEnforcementV21(test.NoDBTestCase): def setUp(self): super(FloatingIPActionPolicyEnforcementV21, self).setUp() self.controller = fips_v21.FloatingIPActionController() self.req = fakes.HTTPRequest.blank('') def _common_policy_check(self, func, *arg, **kwarg): rule_name = ""os_compute_api:os-floating-ips"" rule = {rule_name: ""project:non_fake""} self.policy.set_rules(rule) exc = self.assertRaises( exception.PolicyNotAuthorized, func, *arg, **kwarg) self.assertEqual( ""Policy doesn't allow %s to be performed."" % rule_name, exc.format_message()) def test_add_policy_failed(self): body = dict(addFloatingIp=dict(address='10.10.10.11')) self._common_policy_check( self.controller._add_floating_ip, self.req, uuids.fake, body=body) def test_remove_policy_failed(self): body = dict(removeFloatingIp=dict(address='10.10.10.10')) self._common_policy_check( self.controller._remove_floating_ip, self.req, uuids.fake, body=body) ",161,59
openstack%2Fzun~master~I3c8d2a7d7320bc8cf43a14f67dbfe3d125f5c46d,openstack/zun,master,I3c8d2a7d7320bc8cf43a14f67dbfe3d125f5c46d,Rename network_api to network_driver,MERGED,2020-07-12 00:22:26.000000000,2020-07-19 05:10:51.000000000,2020-07-19 05:09:50.000000000,"[{'_account_id': 11536}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-12 00:22:26.000000000', 'files': ['zun/container/docker/driver.py', 'zun/network/network.py', 'zun/tests/unit/network/test_kuryr_network.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/7f5d147c0fad8325227a9f83e1aa5d9b6ed78bb7', 'message': 'Rename network_api to network_driver\n\nChange-Id: I3c8d2a7d7320bc8cf43a14f67dbfe3d125f5c46d\n'}]",0,740559,7f5d147c0fad8325227a9f83e1aa5d9b6ed78bb7,8,3,1,11536,,,0,"Rename network_api to network_driver

Change-Id: I3c8d2a7d7320bc8cf43a14f67dbfe3d125f5c46d
",git fetch https://review.opendev.org/openstack/zun refs/changes/59/740559/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/container/docker/driver.py', 'zun/network/network.py', 'zun/tests/unit/network/test_kuryr_network.py']",3,7f5d147c0fad8325227a9f83e1aa5d9b6ed78bb7,," self.network_driver = kuryr_network.KuryrNetwork() self.network_driver.init(self.context, self.docker_api) self.network_driver.neutron_api = FakeNeutronClient() self.network_driver.neutron_api.subnets[0].pop('subnetpool_id') mock_neutron_api_cls.return_value = self.network_driver.neutron_api with mock.patch.object(self.network_driver.docker, 'create_network', network = self.network_driver.create_network(name, neutron_net_id) mock_neutron_api_cls.return_value = self.network_driver.neutron_api with mock.patch.object(self.network_driver.docker, 'create_network', network = self.network_driver.create_network(name, neutron_net_id) mock_neutron_api_cls.return_value = self.network_driver.neutron_api with mock.patch.object(self.network_driver.docker, 'networks', network = self.network_driver.create_network(name, neutron_net_id) self.network_driver.remove_network(network) info = self.network_driver.inspect_network(network_name) networks = self.network_driver.list_networks() old_port = self.network_driver.neutron_api.list_ports( with mock.patch.object(self.network_driver.docker, 'connect_container_to_network') as mock_connect: address = self.network_driver.connect_container_to_network( new_port = self.network_driver.neutron_api.list_ports( mock_neutron_api_cls.return_value = self.network_driver.neutron_api old_port = self.network_driver.neutron_api.list_ports( self.network_driver.docker = mock.MagicMock() self.network_driver.docker.connect_container_to_network = \ self.network_driver.connect_container_to_network, new_port = self.network_driver.neutron_api.list_ports( ports = self.network_driver.neutron_api.list_ports( with mock.patch.object(self.network_driver.docker, self.network_driver.disconnect_container_from_network( ports = self.network_driver.neutron_api.list_ports( mock_neutron_api_cls.return_value = self.network_driver.neutron_api old_port = self.network_driver.neutron_api.list_ports( self.network_driver.add_security_groups_to_ports(container, security_group_ids) new_port = self.network_driver.neutron_api.list_ports( mock_neutron_api_cls.return_value = self.network_driver.neutron_api with mock.patch.object(self.network_driver.neutron_api, self.network_driver.add_security_groups_to_ports,"," self.network_api = kuryr_network.KuryrNetwork() self.network_api.init(self.context, self.docker_api) self.network_api.neutron_api = FakeNeutronClient() self.network_api.neutron_api.subnets[0].pop('subnetpool_id') mock_neutron_api_cls.return_value = self.network_api.neutron_api with mock.patch.object(self.network_api.docker, 'create_network', network = self.network_api.create_network(name, neutron_net_id) mock_neutron_api_cls.return_value = self.network_api.neutron_api with mock.patch.object(self.network_api.docker, 'create_network', network = self.network_api.create_network(name, neutron_net_id) mock_neutron_api_cls.return_value = self.network_api.neutron_api with mock.patch.object(self.network_api.docker, 'networks', network = self.network_api.create_network(name, neutron_net_id) self.network_api.remove_network(network) info = self.network_api.inspect_network(network_name) networks = self.network_api.list_networks() old_port = self.network_api.neutron_api.list_ports( with mock.patch.object(self.network_api.docker, 'connect_container_to_network') as mock_connect: address = self.network_api.connect_container_to_network( new_port = self.network_api.neutron_api.list_ports( mock_neutron_api_cls.return_value = self.network_api.neutron_api old_port = self.network_api.neutron_api.list_ports( self.network_api.docker = mock.MagicMock() self.network_api.docker.connect_container_to_network = \ self.network_api.connect_container_to_network, new_port = self.network_api.neutron_api.list_ports( ports = self.network_api.neutron_api.list_ports( with mock.patch.object(self.network_api.docker, self.network_api.disconnect_container_from_network( ports = self.network_api.neutron_api.list_ports( mock_neutron_api_cls.return_value = self.network_api.neutron_api old_port = self.network_api.neutron_api.list_ports( self.network_api.add_security_groups_to_ports(container, security_group_ids) new_port = self.network_api.neutron_api.list_ports( mock_neutron_api_cls.return_value = self.network_api.neutron_api with mock.patch.object(self.network_api.neutron_api, self.network_api.add_security_groups_to_ports,",92,89
openstack%2Fironic~master~I1b9276d614cc94c602d63c55ed1d57cfe7f76c7b,openstack/ironic,master,I1b9276d614cc94c602d63c55ed1d57cfe7f76c7b,DNM/Test Force Insufficent memory in CI,NEW,2020-07-16 18:35:40.000000000,2020-07-19 03:08:30.000000000,,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-16 18:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa65731bb37d801eeb1823ef85405e3fac59d288', 'message': 'DNM/Test Force Insufficent memory in CI\n\nChange-Id: I1b9276d614cc94c602d63c55ed1d57cfe7f76c7b\n'}, {'number': 2, 'created': '2020-07-16 20:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9e5aec02499d67634d0fb3c8a54f1cd736755f54', 'message': 'DNM/Test Force Insufficent memory in CI\n\nChange-Id: I1b9276d614cc94c602d63c55ed1d57cfe7f76c7b\n'}, {'number': 3, 'created': '2020-07-17 23:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4cdc864f26cb926bc3772117c9f3e5d23ac6aa36', 'message': 'DNM/Test Force Insufficent memory in CI\n\nChange-Id: I1b9276d614cc94c602d63c55ed1d57cfe7f76c7b\n'}, {'number': 4, 'created': '2020-07-17 23:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/878ff486622f6d0f29cbc42366189c669aef7440', 'message': 'DNM/Test Force Insufficent memory in CI\n\nChange-Id: I1b9276d614cc94c602d63c55ed1d57cfe7f76c7b\n'}, {'number': 5, 'created': '2020-07-17 23:50:27.000000000', 'files': ['devstack/lib/ironic', 'ironic/conf/default.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ac011bd938dfa536f7ef1babedf97d0bee8089b0', 'message': 'DNM/Test Force Insufficent memory in CI\n\nChange-Id: I1b9276d614cc94c602d63c55ed1d57cfe7f76c7b\n'}]",0,741519,ac011bd938dfa536f7ef1babedf97d0bee8089b0,14,3,5,11655,,,0,"DNM/Test Force Insufficent memory in CI

Change-Id: I1b9276d614cc94c602d63c55ed1d57cfe7f76c7b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/19/741519/4 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conf/default.py'],1,fa65731bb37d801eeb1823ef85405e3fac59d288,726483," default=3072,"," default=1024,",1,1
openstack%2Fzun-ui~stable%2Ftrain~I5a58cedffe0b6ada17c3aa0484725e4711b8914f,openstack/zun-ui,stable/train,I5a58cedffe0b6ada17c3aa0484725e4711b8914f,Fix npm jobs,MERGED,2020-07-14 13:50:11.000000000,2020-07-19 03:04:42.000000000,2020-07-19 03:03:39.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 13:50:11.000000000', 'files': ['package.json'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/385236b0d4092a3df42918db89675a1551fb98b0', 'message': 'Fix npm jobs\n\nhorizon is doing frequent releases, the install from source is not\nworking as is anymore. Remove it.\n\nChange-Id: I5a58cedffe0b6ada17c3aa0484725e4711b8914f\n'}]",0,740965,385236b0d4092a3df42918db89675a1551fb98b0,7,2,1,29313,,,0,"Fix npm jobs

horizon is doing frequent releases, the install from source is not
working as is anymore. Remove it.

Change-Id: I5a58cedffe0b6ada17c3aa0484725e4711b8914f
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/65/740965/1 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,385236b0d4092a3df42918db89675a1551fb98b0,," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; fi"","," ""postinstall"": ""if [ ! -d .tox ] || [ ! -d .tox/karma ]; then tox -ekarma --notest; python3 -m pip install -U -t ./.tox/karma/lib/`python3 -V|tr -d ' '|tr 'P' 'p'|cut -c -9`/site-packages/ -chttps://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt ../horizon; fi"",",1,1
openstack%2Fneutron~stable%2Fussuri~Ice115623491ad5b50397a0338f0a7780dc05d24c,openstack/neutron,stable/ussuri,Ice115623491ad5b50397a0338f0a7780dc05d24c,[OVN] Wait for WaitForDataPathBindingCreateEvent event in functional tests,MERGED,2020-07-01 15:11:47.000000000,2020-07-19 01:36:18.000000000,2020-07-19 01:34:46.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-01 15:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee68db3f55eb8ed5369adc055922aff0237eed3a', 'message': ""[OVN] Wait for WaitForDataPathBindingCreateEvent event in functional tests\n\nThere is a bug in OVN functional tests, where it looks for datapath binding\nof just created network.\nIn rare conditions datapath binding entry could not be in place in time,\nbecause it is a ovn-northd responsibility to create it and we don't lock\nthis process in neutron api.\n\nChange-Id: Ice115623491ad5b50397a0338f0a7780dc05d24c\nCloses-Bug: #1884986\n(cherry picked from commit 598e0376c6497929a5abc1aa7c7ea1dada5de589)\n""}, {'number': 2, 'created': '2020-07-14 07:58:31.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8341a87bd0272ddfc472138643711626f43ec58d', 'message': ""[OVN] Wait for WaitForDataPathBindingCreateEvent event in functional tests\n\nThere is a bug in OVN functional tests, where it looks for datapath binding\nof just created network.\nIn rare conditions datapath binding entry could not be in place in time,\nbecause it is a ovn-northd responsibility to create it and we don't lock\nthis process in neutron api.\n\nChange-Id: Ice115623491ad5b50397a0338f0a7780dc05d24c\nCloses-Bug: #1884986\n(cherry picked from commit 598e0376c6497929a5abc1aa7c7ea1dada5de589)\n""}]",0,738865,8341a87bd0272ddfc472138643711626f43ec58d,28,5,2,24791,,,0,"[OVN] Wait for WaitForDataPathBindingCreateEvent event in functional tests

There is a bug in OVN functional tests, where it looks for datapath binding
of just created network.
In rare conditions datapath binding entry could not be in place in time,
because it is a ovn-northd responsibility to create it and we don't lock
this process in neutron api.

Change-Id: Ice115623491ad5b50397a0338f0a7780dc05d24c
Closes-Bug: #1884986
(cherry picked from commit 598e0376c6497929a5abc1aa7c7ea1dada5de589)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/738865/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'],1,ee68db3f55eb8ed5369adc055922aff0237eed3a,bug/1884986-stable/ussuri,"class WaitForDataPathBindingCreateEvent(event.WaitEvent): event_name = 'WaitForDataPathBindingCreateEvent' def __init__(self, net_name): table = 'Datapath_Binding' events = (self.ROW_CREATE,) conditions = (('external_ids', '=', {'name2': net_name}),) super(WaitForDataPathBindingCreateEvent, self).__init__( events, table, conditions, timeout=15) net_name = 'network1' self._make_network(self.fmt, net_name, True) row_event = WaitForDataPathBindingCreateEvent(net_name) ('external_ids', '=', {'name2': net_name})).execute()"," self._make_network(self.fmt, 'network1', True) ('external_ids', '=', {'name2': 'network1'})).execute()",15,2
openstack%2Frequirements~master~I0e37204f981eeec932dc26e609048b3257c2e5aa,openstack/requirements,master,I0e37204f981eeec932dc26e609048b3257c2e5aa,Updated from generate-constraints,MERGED,2020-07-18 06:28:54.000000000,2020-07-19 01:35:49.000000000,2020-07-19 01:34:49.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-18 06:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5c79daa7846c9d6472875f547ae86a43651b548c', 'message': 'Updated from generate-constraints\n\nChange-Id: I0e37204f981eeec932dc26e609048b3257c2e5aa\n'}, {'number': 2, 'created': '2020-07-18 22:33:40.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/237770babb13510eb5aad4813667a0265205b620', 'message': 'Updated from generate-constraints\n\nChange-Id: I0e37204f981eeec932dc26e609048b3257c2e5aa\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,741800,237770babb13510eb5aad4813667a0265205b620,13,3,2,11131,,,0,"Updated from generate-constraints

Change-Id: I0e37204f981eeec932dc26e609048b3257c2e5aa
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/00/741800/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5c79daa7846c9d6472875f547ae86a43651b548c,openstack/requirements/constraints/noclob,rst2txt===1.1.0simplejson===3.17.2google-auth===1.19.2mock===4.0.2hiredis===1.1.0 google-api-python-client===1.10.0autobahn===20.7.1docutils===0.16boto3===1.14.23psutil===5.7.2msgpack===1.0.0botocore===1.17.23jsonpatch===1.26pkg-resources===0.0.0dnspython===2.0.0virtualenv===20.0.27,rst2txt===1.1.0simplejson===3.17.0google-auth===1.19.0mock===3.0.5hiredis===1.0.1 google-api-python-client===1.9.3autobahn===20.6.2docutils===0.15.2boto3===1.14.20psutil===5.7.0msgpack===0.6.1botocore===1.17.20jsonpatch===1.25dnspython===1.16.0virtualenv===20.0.26,16,15
openstack%2Fneutron~master~I74b05ef245a343c7531fa45aeadb90060b2fd22e,openstack/neutron,master,I74b05ef245a343c7531fa45aeadb90060b2fd22e,[OVN] DevStack: Make the transition of DevStack module easier,MERGED,2020-07-13 10:50:23.000000000,2020-07-19 00:44:44.000000000,2020-07-19 00:43:09.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8556}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 10:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/98d13e70ec5566f8ef47077ce5372d1abb04089f', 'message': '[OVN] DevStack: Make create_public_bridge idempotent\n\nIf we call this function more than once the second call and on will fail\nwith the following error:\n\n2020-07-13 09:12:53.885633 | controller | ++\n/opt/stack/neutron/devstack/lib/ovn_agent:create_public_bridge:263 :\nsudo ip addr add 172.24.5.1/24 dev br-ex\n2020-07-13 09:12:53.894247 | controller | RTNETLINK answers: File exists\n\nDuring the transiton of moving the OVN DevStack from the Neutron\nrepository to the DevStack repository [0] this method is being invoked\ntwice in the ovn job in the DevStack gate because it will be cause as\npart of the plugin being enabled and the normal code execution.\n\nThis patch makes the method idempotent by flushing the attributes of the\npublic bridge before attempting to set it (again).\n\n[0] https://review.opendev.org/#/c/734621/ (see the\nneutron-ovn-tempest-ovs-release job run)\n\nChange-Id: I74b05ef245a343c7531fa45aeadb90060b2fd22e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-07-13 12:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b593cf0afca7dedab02822b894a63f4da0c35750', 'message': '[OVN] DevStack: Make transition of DevStack module easier\n\nThis patch intends to make the transition of the OVN DevStack module\neasier by allowing both copies of it to exist at the same time, the one\nin Neutron repository and the one in the DevStack repository [0].\n\n1) Make create_public_bridge idempotent\n\nIf we call this function more than once the second call and on will fail\nwith the following error:\n\n2020-07-13 09:12:53.885633 | controller | ++\n/opt/stack/neutron/devstack/lib/ovn_agent:create_public_bridge:263 :\nsudo ip addr add 172.24.5.1/24 dev br-ex\n2020-07-13 09:12:53.894247 | controller | RTNETLINK answers: File exists\n\nDuring the transiton of moving the OVN DevStack from the Neutron\nrepository to the DevStack repository [0] this method is being invoked\ntwice in the ovn job in the DevStack gate because it will be cause as\npart of the plugin being enabled and the normal code execution.\n\nThis patch makes the method idempotent by flushing the attributes of the\npublic bridge before attempting to set it (again).\n\n2) Move the setup of the tcpdump on br-ex to ""extra"" to it can start\nafter the create_public_bridge is called.\n\n[0] https://review.opendev.org/#/c/734621/\n\nChange-Id: I74b05ef245a343c7531fa45aeadb90060b2fd22e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-07-16 08:47:44.000000000', 'files': ['devstack/plugin.sh', 'devstack/lib/ovn_agent'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7df43395c60c700c25171d131255ae5ae0b716d', 'message': '[OVN] DevStack: Make the transition of DevStack module easier\n\nThis patch intends to make the transition of the OVN DevStack module\neasier by allowing both copies of it to exist at the same time, the one\nin Neutron repository and the one in the DevStack repository [0].\n\n1) Make create_public_bridge idempotent\n\nIf we call this function more than once the second call and on will fail\nwith the following error:\n\n2020-07-13 09:12:53.885633 | controller | ++\n/opt/stack/neutron/devstack/lib/ovn_agent:create_public_bridge:263 :\nsudo ip addr add 172.24.5.1/24 dev br-ex\n2020-07-13 09:12:53.894247 | controller | RTNETLINK answers: File exists\n\nDuring the transiton of moving the OVN DevStack from the Neutron\nrepository to the DevStack repository [0] this method is being invoked\ntwice in the ovn job in the DevStack gate because it will be cause as\npart of the plugin being enabled and the normal code execution.\n\nThis patch makes the method idempotent by calling ""addr replace"" instead\nof ""addr add"" to avoid the ""RTNETLINK answers: File exists"" error.\n\n2) Move the setup of the tcpdump on br-ex to ""extra"" to it can start\nafter the create_public_bridge is called.\n\n[0] https://review.opendev.org/#/c/734621/\n\nChange-Id: I74b05ef245a343c7531fa45aeadb90060b2fd22e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",2,740663,e7df43395c60c700c25171d131255ae5ae0b716d,28,6,3,6773,,,0,"[OVN] DevStack: Make the transition of DevStack module easier

This patch intends to make the transition of the OVN DevStack module
easier by allowing both copies of it to exist at the same time, the one
in Neutron repository and the one in the DevStack repository [0].

1) Make create_public_bridge idempotent

If we call this function more than once the second call and on will fail
with the following error:

2020-07-13 09:12:53.885633 | controller | ++
/opt/stack/neutron/devstack/lib/ovn_agent:create_public_bridge:263 :
sudo ip addr add 172.24.5.1/24 dev br-ex
2020-07-13 09:12:53.894247 | controller | RTNETLINK answers: File exists

During the transiton of moving the OVN DevStack from the Neutron
repository to the DevStack repository [0] this method is being invoked
twice in the ovn job in the DevStack gate because it will be cause as
part of the plugin being enabled and the normal code execution.

This patch makes the method idempotent by calling ""addr replace"" instead
of ""addr add"" to avoid the ""RTNETLINK answers: File exists"" error.

2) Move the setup of the tcpdump on br-ex to ""extra"" to it can start
after the create_public_bridge is called.

[0] https://review.opendev.org/#/c/734621/

Change-Id: I74b05ef245a343c7531fa45aeadb90060b2fd22e
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/740663/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ovn_agent'],1,98d13e70ec5566f8ef47077ce5372d1abb04089f,pub-bridge-idempotent, sudo ip addr flush dev $ext_gw_ifc sudo ip -6 addr flush dev $ext_gw_ifc,,2,0
openstack%2Fneutron~stable%2Fstein~I7cbb0e87a7e87f23ccf5d8750835b4785693473a,openstack/neutron,stable/stein,I7cbb0e87a7e87f23ccf5d8750835b4785693473a,Optionally use admin powers when deleting DNS records,MERGED,2020-07-13 11:32:03.000000000,2020-07-19 00:38:15.000000000,2020-07-19 00:36:46.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 13252}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 11:32:03.000000000', 'files': ['releasenotes/notes/bug-1875981-ec32d8c3918b0dd4.yaml', 'neutron/services/externaldns/drivers/designate/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/72085466b546ed97c79a5ff4ecbafc52c947a49f', 'message': 'Optionally use admin powers when deleting DNS records\n\nThis resolves a bug that causes stale records to be kept in place when\nan admin deletes a port, server or floating IP that was created in some\nproject other than the admin project.\n\nChange-Id: I7cbb0e87a7e87f23ccf5d8750835b4785693473a\nCloses-Bug: #1875981\n(cherry picked from commit 622714b63e08feaba4e81d218541319d2ffada30)\n'}]",0,740677,72085466b546ed97c79a5ff4ecbafc52c947a49f,25,5,1,13252,,,0,"Optionally use admin powers when deleting DNS records

This resolves a bug that causes stale records to be kept in place when
an admin deletes a port, server or floating IP that was created in some
project other than the admin project.

Change-Id: I7cbb0e87a7e87f23ccf5d8750835b4785693473a
Closes-Bug: #1875981
(cherry picked from commit 622714b63e08feaba4e81d218541319d2ffada30)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/740677/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1875981-ec32d8c3918b0dd4.yaml', 'neutron/services/externaldns/drivers/designate/driver.py']",2,72085466b546ed97c79a5ff4ecbafc52c947a49f,bug/1875981-stable/ussuri-stable/train-stable/stein,"def get_all_projects_client(context): auth = token_endpoint.Token(CONF.designate.url, context.auth_token) return d_client.Client(session=_SESSION, auth=auth, all_projects=True) client, admin_client = get_clients(context) try: ids_to_delete = self._get_ids_ips_to_delete( dns_domain, '%s.%s' % (dns_name, dns_domain), records, client) except dns_exc.DNSDomainNotFound: # Try whether we have admin powers and can see all projects client = get_all_projects_client(context) ids_to_delete = self._get_ids_ips_to_delete( dns_domain, '%s.%s' % (dns_name, dns_domain), records, client) for _id in ids_to_delete: client.recordsets.delete(dns_domain, _id) admin_client.recordsets.delete(in_addr_zone_name, in_addr_name)"," designate, designate_admin = get_clients(context) ids_to_delete = self._get_ids_ips_to_delete( dns_domain, '%s.%s' % (dns_name, dns_domain), records, designate) for _id in ids_to_delete: designate.recordsets.delete(dns_domain, _id) designate_admin.recordsets.delete(in_addr_zone_name, in_addr_name)",23,5
openstack%2Fopenstack-helm-infra~master~Idcead2d24fd30d950130a6f1f121beac039e656f,openstack/openstack-helm-infra,master,Idcead2d24fd30d950130a6f1f121beac039e656f,Add ensure-pip role to functional jobs,MERGED,2020-07-16 15:34:30.000000000,2020-07-18 23:58:16.000000000,2020-07-18 23:57:04.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2020-07-16 15:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5b1922dfa5f5e10b84f9750744f0e4b58c4874f6', 'message': 'Add ensure-pip role to functional jobs\n\nChange-Id: Idcead2d24fd30d950130a6f1f121beac039e656f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-16 15:52:43.000000000', 'files': ['playbooks/osh-infra-gate-runner.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e8caaac6b48656e756526aeecd204ed53a2826dd', 'message': 'Add ensure-pip role to functional jobs\n\nChange-Id: Idcead2d24fd30d950130a6f1f121beac039e656f\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,741485,e8caaac6b48656e756526aeecd204ed53a2826dd,13,5,2,8863,,,0,"Add ensure-pip role to functional jobs

Change-Id: Idcead2d24fd30d950130a6f1f121beac039e656f
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/85/741485/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/osh-infra-gate-runner.yaml'],1,5b1922dfa5f5e10b84f9750744f0e4b58c4874f6,, - name: Ensure pip include_role: ensure-pip,,2,0
openstack%2Fpuppet-tripleo~master~I4b4646cd45488992da1e58b74800713e85b25aba,openstack/puppet-tripleo,master,I4b4646cd45488992da1e58b74800713e85b25aba,WIP: Include placement::api class,ABANDONED,2020-06-16 02:01:22.000000000,2020-07-18 23:36:25.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-16 02:01:22.000000000', 'files': ['spec/classes/tripleo_profile_base_placement_api_spec.rb', 'manifests/profile/base/placement/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e56648bd5c5ea8c8430be64ed546eaf21ae59495', 'message': 'WIP: Include placement::api class\n\n... because the placement::api class will be required in a future\nrelease of puppet-placement.\n\nChange-Id: I4b4646cd45488992da1e58b74800713e85b25aba\n'}]",0,735759,e56648bd5c5ea8c8430be64ed546eaf21ae59495,7,3,1,9816,,,0,"WIP: Include placement::api class

... because the placement::api class will be required in a future
release of puppet-placement.

Change-Id: I4b4646cd45488992da1e58b74800713e85b25aba
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/59/735759/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_placement_api_spec.rb', 'manifests/profile/base/placement/api.pp']",2,e56648bd5c5ea8c8430be64ed546eaf21ae59495,placement-api, include placement::api,,6,0
openstack%2Fneutron~stable%2Frocky~I515c310f221e7d9ae3be59a26260538d1bc591c2,openstack/neutron,stable/rocky,I515c310f221e7d9ae3be59a26260538d1bc591c2,Make _ensure_default_security_group method atomic,MERGED,2020-06-24 08:01:26.000000000,2020-07-18 23:32:01.000000000,2020-07-18 23:32:01.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-24 08:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/20ce3ce407d0b86f91c74a8fc28d50ae450f1dae', 'message': ""Make _ensure_default_security_group method atomic\n\nMethod _ensure_default_security_group wasn't atomic as it first tries to get\ndefault SG and if that not exists in DB, it tries to create it.\n\nIt may happend, like e.g. in Calico plugin that between\nget_default_sg_id method and create_security_group method, this default\nSG will be created by other neutron worker. And in such case there will\nbe Duplicate entry exception raised.\n\nSo this patch is adding handling of such exception.\n\nConflicts:\n    neutron/db/securitygroups_db.py\n\nChange-Id: I515c310f221e7d9ae3be59a26260538d1bc591c2\nCloses-Bug: #1883730\n(cherry picked from commit 7019c5cf50bc4ad97b302220664a26efaf81a7fd)\n""}, {'number': 2, 'created': '2020-07-06 20:05:59.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3216c1efe904ce8be944bc7b45e6f0b6fd501913', 'message': ""Make _ensure_default_security_group method atomic\n\nMethod _ensure_default_security_group wasn't atomic as it first tries to get\ndefault SG and if that not exists in DB, it tries to create it.\n\nIt may happend, like e.g. in Calico plugin that between\nget_default_sg_id method and create_security_group method, this default\nSG will be created by other neutron worker. And in such case there will\nbe Duplicate entry exception raised.\n\nSo this patch is adding handling of such exception.\n\nConflicts:\n    neutron/db/securitygroups_db.py\n\nChange-Id: I515c310f221e7d9ae3be59a26260538d1bc591c2\nCloses-Bug: #1883730\n(cherry picked from commit 7019c5cf50bc4ad97b302220664a26efaf81a7fd)\n""}]",0,737703,3216c1efe904ce8be944bc7b45e6f0b6fd501913,40,5,2,11975,,,0,"Make _ensure_default_security_group method atomic

Method _ensure_default_security_group wasn't atomic as it first tries to get
default SG and if that not exists in DB, it tries to create it.

It may happend, like e.g. in Calico plugin that between
get_default_sg_id method and create_security_group method, this default
SG will be created by other neutron worker. And in such case there will
be Duplicate entry exception raised.

So this patch is adding handling of such exception.

Conflicts:
    neutron/db/securitygroups_db.py

Change-Id: I515c310f221e7d9ae3be59a26260538d1bc591c2
Closes-Bug: #1883730
(cherry picked from commit 7019c5cf50bc4ad97b302220664a26efaf81a7fd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/737703/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py']",2,20ce3ce407d0b86f91c74a8fc28d50ae450f1dae,bug/1883730,"from neutron_lib.objects import exceptions as obj_exc def test__ensure_default_security_group(self): with mock.patch.object( self.mixin, '_get_default_sg_id') as get_default_sg_id,\ mock.patch.object( self.mixin, 'create_security_group') as create_sg: get_default_sg_id.return_value = None self.mixin._ensure_default_security_group(self.ctx, 'tenant_1') create_sg.assert_called_once_with( self.ctx, {'security_group': { 'name': 'default', 'tenant_id': 'tenant_1', 'description': securitygroups_db.DEFAULT_SG_DESCRIPTION}}, default_sg=True) get_default_sg_id.assert_called_once_with(self.ctx, 'tenant_1') def test__ensure_default_security_group_already_exists(self): with mock.patch.object( self.mixin, '_get_default_sg_id') as get_default_sg_id,\ mock.patch.object( self.mixin, 'create_security_group') as create_sg: get_default_sg_id.return_value = 'default_sg_id' self.mixin._ensure_default_security_group(self.ctx, 'tenant_1') create_sg.assert_not_called() get_default_sg_id.assert_called_once_with(self.ctx, 'tenant_1') def test__ensure_default_security_group_created_in_parallel(self): with mock.patch.object( self.mixin, '_get_default_sg_id') as get_default_sg_id,\ mock.patch.object( self.mixin, 'create_security_group') as create_sg: get_default_sg_id.side_effect = [None, 'default_sg_id'] create_sg.side_effect = obj_exc.NeutronDbObjectDuplicateEntry( mock.Mock(), mock.Mock()) self.mixin._ensure_default_security_group(self.ctx, 'tenant_1') create_sg.assert_called_once_with( self.ctx, {'security_group': { 'name': 'default', 'tenant_id': 'tenant_1', 'description': securitygroups_db.DEFAULT_SG_DESCRIPTION}}, default_sg=True) get_default_sg_id.assert_has_calls([ mock.call(self.ctx, 'tenant_1'), mock.call(self.ctx, 'tenant_1')])",,57,3
openstack%2Fopenstack-helm-images~master~I0abc8ed0637db73817f9139fdb84bf750e1ed6a4,openstack/openstack-helm-images,master,I0abc8ed0637db73817f9139fdb84bf750e1ed6a4,Move vbmc to py3 and install from pypi,MERGED,2020-07-18 22:23:17.000000000,2020-07-18 23:24:17.000000000,2020-07-18 23:21:30.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2020-07-18 22:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e93017e6d5150db2bc2e1b49610c33c33e7a05c7', 'message': 'Move vbmc to py3 and install from pypi\n\nChange-Id: I0abc8ed0637db73817f9139fdb84bf750e1ed6a4\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-18 22:25:23.000000000', 'files': ['vbmc/Dockerfile.centos_7', 'zuul.d/vbmc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/fe32d1bc6c9ef261b35f7043e0dc14b1c972ae85', 'message': 'Move vbmc to py3 and install from pypi\n\nAlso comments out opensuse build for vbmc\n\nChange-Id: I0abc8ed0637db73817f9139fdb84bf750e1ed6a4\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,741822,fe32d1bc6c9ef261b35f7043e0dc14b1c972ae85,9,5,2,8863,,,0,"Move vbmc to py3 and install from pypi

Also comments out opensuse build for vbmc

Change-Id: I0abc8ed0637db73817f9139fdb84bf750e1ed6a4
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/22/741822/1 && git format-patch -1 --stdout FETCH_HEAD,['vbmc/Dockerfile.centos_7'],1,e93017e6d5150db2bc2e1b49610c33c33e7a05c7,, centos-release-openstack-stein \ python3-devel \ python3-pip \ pip3 install -U virtualbmc ;\, centos-release-openstack-newton \ python-devel \ curl https://bootstrap.pypa.io/get-pip.py -o /tmp/get-pip.py ;\ python /tmp/get-pip.py ;\ rm -f /tmp/get-pip.py ;\ TMP_DIR=$(mktemp -d) ;\ git clone https://github.com/openstack/virtualbmc ${TMP_DIR} ;\ pip install -U ${TMP_DIR} ;\ rm -rf ${TMP_DIR} ;\,4,9
openstack%2Fdiskimage-builder~master~Id58e53a592b5f4601b893ba6c828bad07942b07b,openstack/diskimage-builder,master,Id58e53a592b5f4601b893ba6c828bad07942b07b,add openrc init system support to serial console element,MERGED,2020-07-14 18:47:20.000000000,2020-07-18 23:18:37.000000000,2020-07-18 23:16:10.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-14 18:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d2478426a689065ddfc6bb16a880193eb0e50fa7', 'message': 'add openrc init system support to serial console element\n\nChange-Id: Id58e53a592b5f4601b893ba6c828bad07942b07b\n'}, {'number': 2, 'created': '2020-07-14 18:59:18.000000000', 'files': ['diskimage_builder/elements/enable-serial-console/install.d/20-stty'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2559933f8f3f6466c9a29debf30617cf4686000e', 'message': 'add openrc init system support to serial console element\n\nChange-Id: Id58e53a592b5f4601b893ba6c828bad07942b07b\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",2,741028,2559933f8f3f6466c9a29debf30617cf4686000e,43,6,2,14288,,,0,"add openrc init system support to serial console element

Change-Id: Id58e53a592b5f4601b893ba6c828bad07942b07b
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/28/741028/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/enable-serial-console/install.d/20-stty'],1,d2478426a689065ddfc6bb16a880193eb0e50fa7,add-gentoo-to-serial-console-element,"elif [ ""$DIB_INIT_SYSTEM"" == ""openrc"" ]; then sed -r 's/^#(.*ttyS[0,1].*$)/\1/' -i /etc/inittab",,2,0
openstack%2Fneutron~master~I664eeb87d019ba4898800ec8c90e9785164f5f26,openstack/neutron,master,I664eeb87d019ba4898800ec8c90e9785164f5f26,[DNM] Test devstack patch to unblock NTP CI jobs,ABANDONED,2020-07-17 17:48:46.000000000,2020-07-18 23:08:20.000000000,,"[{'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-17 17:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/10fcb04f7ac5e7959206213191b0399013b11785', 'message': '[DNM] Test devstack patch to unbloc NTP CI jobs\n\nDepends-On: https://review.opendev.org/#/c/741687/\nChange-Id: I664eeb87d019ba4898800ec8c90e9785164f5f26\n'}, {'number': 2, 'created': '2020-07-17 17:49:02.000000000', 'files': ['neutron/agent/agent_extensions_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d94b3c6e75a2538f05fab3efea5dfad5e6bf26b', 'message': '[DNM] Test devstack patch to unblock NTP CI jobs\n\nDepends-On: https://review.opendev.org/#/c/741687/\nChange-Id: I664eeb87d019ba4898800ec8c90e9785164f5f26\n'}]",1,741691,6d94b3c6e75a2538f05fab3efea5dfad5e6bf26b,17,5,2,16688,,,0,"[DNM] Test devstack patch to unblock NTP CI jobs

Depends-On: https://review.opendev.org/#/c/741687/
Change-Id: I664eeb87d019ba4898800ec8c90e9785164f5f26
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/741691/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/agent_extensions_manager.py'],1,10fcb04f7ac5e7959206213191b0399013b11785,test_ntp_ci_jobs,,,1,0
openstack%2Fneutron-tempest-plugin~master~I761f5f199b7a2dd045cdc503223333900bfeadf0,openstack/neutron-tempest-plugin,master,I761f5f199b7a2dd045cdc503223333900bfeadf0,[WIP] Test GLANCE_STANDALONE=False to fix glance in CI jobs,ABANDONED,2020-07-17 18:08:12.000000000,2020-07-18 23:07:34.000000000,,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-17 18:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7b544216cf6c1ca22739e83c5150fdf41361bad9', 'message': '[WIP] Test GLANCE_STANDALONE=False to fix glance in CI jobs\n\nChange-Id: I761f5f199b7a2dd045cdc503223333900bfeadf0\nRelated-Bug: #1887992\n'}, {'number': 2, 'created': '2020-07-18 11:46:28.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ed097fc5526392dc4435eabce55838ccf625fa64', 'message': '[WIP] Test GLANCE_STANDALONE=False to fix glance in CI jobs\n\nChange-Id: I761f5f199b7a2dd045cdc503223333900bfeadf0\nRelated-Bug: #1887992\nDepends-On: https://review.opendev.org/741687\n'}]",0,741695,ed097fc5526392dc4435eabce55838ccf625fa64,7,4,2,16688,,,0,"[WIP] Test GLANCE_STANDALONE=False to fix glance in CI jobs

Change-Id: I761f5f199b7a2dd045cdc503223333900bfeadf0
Related-Bug: #1887992
Depends-On: https://review.opendev.org/741687
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/95/741695/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,7b544216cf6c1ca22739e83c5150fdf41361bad9,bug/1887992, GLANCE_STANDALONE: False,,1,0
openstack%2Frequirements~master~I05a7e73849cd951724517e551c86e520896fd629,openstack/requirements,master,I05a7e73849cd951724517e551c86e520896fd629,Updated from generate-constraints,MERGED,2020-07-16 06:34:06.000000000,2020-07-18 22:01:37.000000000,2020-07-18 22:00:36.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-16 06:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3ea6a9244168af47c2463fd8ed852eade40edce4', 'message': 'Updated from generate-constraints\n\nChange-Id: I05a7e73849cd951724517e551c86e520896fd629\n'}, {'number': 2, 'created': '2020-07-17 06:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a04292d92efd30d032c18ddeb03bb05940effc0c', 'message': 'Updated from generate-constraints\n\nChange-Id: I05a7e73849cd951724517e551c86e520896fd629\n'}, {'number': 3, 'created': '2020-07-17 15:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5bc10542addcef4da7ccbe1c2662d98b0c42a601', 'message': 'Updated from generate-constraints\n\nChange-Id: I05a7e73849cd951724517e551c86e520896fd629\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 4, 'created': '2020-07-18 03:45:39.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2fef30ad8a2df5601a18ecb22083c43b3265e08f', 'message': 'Updated from generate-constraints\n\nChange-Id: I05a7e73849cd951724517e551c86e520896fd629\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",3,741381,2fef30ad8a2df5601a18ecb22083c43b3265e08f,29,4,4,11131,,,0,"Updated from generate-constraints

Change-Id: I05a7e73849cd951724517e551c86e520896fd629
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/81/741381/4 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3ea6a9244168af47c2463fd8ed852eade40edce4,openstack/requirements/constraints/noclob,typing===3.7.4.3lxml===4.5.2rst2txt===1.1.0skydive-client===0.9.0zeroconf===0.28.0google-auth===1.19.1 kazoo===2.8.0graphviz===0.14.1mock===4.0.2google-auth-httplib2===0.0.4hiredis===1.1.0 google-api-python-client===1.10.0SQLAlchemy-Utils===0.36.8pytest-xdist===1.33.0docutils===0.16boto3===1.14.21psutil===5.7.2pysaml2===6.1.0msgpack===1.0.0botocore===1.17.21cmd2===1.2.1jsonpatch===1.26zstd===1.4.5.1GitPython===3.1.7pkg-resources===0.0.0Paste===3.4.2demjson===2.2.4virtualenv===20.0.27,typing===3.7.4.1rst2txt===1.1.0lxml===4.5.1skydive-client===0.8.1zeroconf===0.27.1google-auth===1.18.0 kazoo===2.7.0graphviz===0.14mock===3.0.5google-auth-httplib2===0.0.3hiredis===1.0.1 google-api-python-client===1.9.3SQLAlchemy-Utils===0.36.7pytest-xdist===1.32.0docutils===0.15.2boto3===1.14.17psutil===5.7.0pysaml2===5.3.0msgpack===0.6.1botocore===1.17.17cmd2===1.1.0jsonpatch===1.25GitPython===3.1.3Paste===3.4.1virtualenv===20.0.25zstd===1.4.5.1,28,26
openstack%2Fsushy~master~I27cfec6d998c0c0ae1f8a78d07335a907a020588,openstack/sushy,master,I27cfec6d998c0c0ae1f8a78d07335a907a020588,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:22:17.000000000,2020-07-18 21:58:59.000000000,2020-07-18 21:57:53.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-15 13:22:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sushy/commit/619445ce5446c6bdcec4776823a76f895d18460c', 'message': 'Set min version of tox to 3.2.1\n\nAs recommended, since version 3.2.0 tox switches pip invocations\nto use the module -m pip instead of direct invocation.\nWe set min version to 3.2.1 [1] to also fix the behavior of\n--parallel--safe-build\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10\n\nChange-Id: I27cfec6d998c0c0ae1f8a78d07335a907a020588\n'}]",0,741184,619445ce5446c6bdcec4776823a76f895d18460c,16,5,1,23851,,,0,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I27cfec6d998c0c0ae1f8a78d07335a907a020588
",git fetch https://review.opendev.org/openstack/sushy refs/changes/84/741184/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,619445ce5446c6bdcec4776823a76f895d18460c,tox-m-pip,minversion = 3.2.1,minversion = 3.1.0,1,1
openstack%2Fsushy-tools~master~I72cad184b4f2929b21183444d8f93c27a501cd32,openstack/sushy-tools,master,I72cad184b4f2929b21183444d8f93c27a501cd32,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:30:27.000000000,2020-07-18 21:55:03.000000000,2020-07-18 21:53:59.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 13:30:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/ffba0c7bcd0b7b301f65e3083eb57636e16cee34', 'message': 'Set min version of tox to 3.2.1\n\nAs recommended, since version 3.2.0 tox switches pip invocations\nto use the module -m pip instead of direct invocation.\nWe set min version to 3.2.1 [1] to also fix the behavior of\n--parallel--safe-build\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10\n\nChange-Id: I72cad184b4f2929b21183444d8f93c27a501cd32\n'}]",0,741188,ffba0c7bcd0b7b301f65e3083eb57636e16cee34,8,3,1,23851,,,0,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I72cad184b4f2929b21183444d8f93c27a501cd32
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/88/741188/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ffba0c7bcd0b7b301f65e3083eb57636e16cee34,tox-m-pip,minversion = 3.2.1,minversion = 3.1.0,1,1
openstack%2Fironic-python-agent-builder~master~I79338f6a5c67e189dfd6783ab40d2e6bd7d8b628,openstack/ironic-python-agent-builder,master,I79338f6a5c67e189dfd6783ab40d2e6bd7d8b628,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:44:05.000000000,2020-07-18 20:32:12.000000000,2020-07-18 20:31:10.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 13:44:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/654e9c729ef2da7493fdc382481b068a96c01fb2', 'message': 'Set min version of tox to 3.2.1\n\nAs recommended, since version 3.2.0 tox switches pip invocations\nto use the module -m pip instead of direct invocation.\nWe set min version to 3.2.1 [1] to also fix the behavior of\n--parallel--safe-build\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10\n\nChange-Id: I79338f6a5c67e189dfd6783ab40d2e6bd7d8b628\n'}]",0,741202,654e9c729ef2da7493fdc382481b068a96c01fb2,7,2,1,23851,,,0,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I79338f6a5c67e189dfd6783ab40d2e6bd7d8b628
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/02/741202/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,654e9c729ef2da7493fdc382481b068a96c01fb2,tox-m-pip,minversion = 3.2.1,minversion = 3.1.0,1,1
openstack%2Fironic-python-agent-builder~master~I7cc07415ae0a75442ca4285cdcaa1ea539057dee,openstack/ironic-python-agent-builder,master,I7cc07415ae0a75442ca4285cdcaa1ea539057dee,Update ipa jobs,NEW,2020-07-10 18:35:08.000000000,2020-07-18 20:21:46.000000000,,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-10 18:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/ded85af64e4f4849e3b103e362f79ba348c2bab0', 'message': ""Update ipa jobs\n\nWe are changing the name of the jobs on ipa, so let's update.\n\nDepends-On: https://review.opendev.org/740454\nChange-Id: I7cc07415ae0a75442ca4285cdcaa1ea539057dee\n""}, {'number': 2, 'created': '2020-07-13 09:05:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/30b8158359780ddabe2a458f9cf3f057ca4f22ef', 'message': ""Update ipa jobs\n\nWe are changing the name of the jobs on ipa, so let's update.\n\nDepends-On: https://review.opendev.org/740641\nChange-Id: I7cc07415ae0a75442ca4285cdcaa1ea539057dee\n""}]",1,740519,30b8158359780ddabe2a458f9cf3f057ca4f22ef,10,3,2,15519,,,0,"Update ipa jobs

We are changing the name of the jobs on ipa, so let's update.

Depends-On: https://review.opendev.org/740641
Change-Id: I7cc07415ae0a75442ca4285cdcaa1ea539057dee
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/19/740519/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ded85af64e4f4849e3b103e362f79ba348c2bab0,update-jobs, - ipa-tempest-bios-ipmi-direct-tinyipa-src - ipa-tempest-bios-ipmi-iscsi-tinyipa-src - ipa-tempest-bios-ipmi-direct-tinyipa-src - ipa-tempest-bios-ipmi-iscsi-tinyipa-src, - ipa-tempest-partition-bios-ipmi-direct-tinyipa-src - ipa-tempest-partition-bios-ipmi-iscsi-tinyipa-src - ipa-tempest-wholedisk-bios-ipmi-direct-tinyipa-src - ipa-tempest-wholedisk-bios-ipmi-iscsi-tinyipa-src - ipa-tempest-partition-bios-ipmi-direct-tinyipa-src - ipa-tempest-partition-bios-ipmi-iscsi-tinyipa-src - ipa-tempest-wholedisk-bios-ipmi-direct-tinyipa-src - ipa-tempest-wholedisk-bios-ipmi-iscsi-tinyipa-src,4,8
openstack%2Fdevstack~master~I47dea645d4a852e02e25af0e1df9c28fec92c42a,openstack/devstack,master,I47dea645d4a852e02e25af0e1df9c28fec92c42a,Fix glance standalone when tls-proxy is disabled,MERGED,2020-07-17 17:25:00.000000000,2020-07-18 18:58:56.000000000,2020-07-18 18:57:52.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-17 17:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a86b0a53a0b1fc76a6542494191ffd72bf422b5d', 'message': 'Fix glance standalone when tls-proxy is disabled\n\nWe always want to start glance on the internal port now,\nregardless of whether or not tls-proxy is in use, because we\nwrite_local_proxy_http_config() for the standalone case. So,\nmove the setting of bind_port out of the tls-proxy conditional.\n\nChange-Id: I47dea645d4a852e02e25af0e1df9c28fec92c42a\n'}, {'number': 2, 'created': '2020-07-18 11:16:17.000000000', 'files': ['lib/glance'], 'web_link': 'https://opendev.org/openstack/devstack/commit/fcbf3e976c8fa80099698693d37afa81058803c7', 'message': 'Fix glance standalone when tls-proxy is disabled\n\nWe always want to start glance on the internal port now,\nregardless of whether or not tls-proxy is in use, because we\nwrite_local_proxy_http_config() for the standalone case.\n\nChange-Id: I47dea645d4a852e02e25af0e1df9c28fec92c42a\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",2,741687,fcbf3e976c8fa80099698693d37afa81058803c7,15,6,2,4393,,,0,"Fix glance standalone when tls-proxy is disabled

We always want to start glance on the internal port now,
regardless of whether or not tls-proxy is in use, because we
write_local_proxy_http_config() for the standalone case.

Change-Id: I47dea645d4a852e02e25af0e1df9c28fec92c42a
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/87/741687/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/glance'],1,a86b0a53a0b1fc76a6542494191ffd72bf422b5d,glance-standalone-noproxy, iniset $GLANCE_API_CONF DEFAULT bind_port $GLANCE_SERVICE_PORT_INT, iniset $GLANCE_API_CONF DEFAULT bind_port $GLANCE_SERVICE_PORT_INT,1,1
openstack%2Fmanila~master~I501d0b6537653613a58ea1fe606f6ef66b8b6d38,openstack/manila,master,I501d0b6537653613a58ea1fe606f6ef66b8b6d38,[ci] Re-enable scenario tests for lvm job,MERGED,2020-07-11 13:04:13.000000000,2020-07-18 17:52:24.000000000,2020-07-18 17:51:08.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-11 13:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bba0f35d4a6579c99c83559caf3573f0053cb438', 'message': '[ci] DNM - Re-enable scenario tests for lvm job\n\nThis is for now just an anchor for reviews that aim\nto fix the issue with scenario tests on rax.\n\nChange-Id: I501d0b6537653613a58ea1fe606f6ef66b8b6d38\n'}, {'number': 2, 'created': '2020-07-16 18:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3f4b226c1783037c4be9e8e397472adad4062182', 'message': '[ci] DNM - Re-enable scenario tests for lvm job\n\nThis is for now just an anchor for reviews that aim\nto fix the issue with scenario tests on rax.\n\nChange-Id: I501d0b6537653613a58ea1fe606f6ef66b8b6d38\n'}, {'number': 3, 'created': '2020-07-17 17:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d42ff7b2ab65969b9eda31213dd8eeb74fc9b6ef', 'message': ""[ci] Re-enable scenario tests for lvm job\n\nWe temporarily disabled scenario tests in\nthe voting LVM job [1] because of a bug\nin which a kernel problem caused a reboot\nin the middle of the job when it ran in a\nXen virtualization environment on rax nodes.\n\nThe kernel has been updated on those nodes\nand the problem has gone away, as evidenced\nin various checks jobs in this review, so\nlet's reenable the scenario tests.\n    .\n[1] https://review.opendev.org/#/c/740507/\n[2] https://launchpad.net/bugs/1886988\n\nCloses-bug: #740507\n\nChange-Id: I501d0b6537653613a58ea1fe606f6ef66b8b6d38\n""}, {'number': 4, 'created': '2020-07-17 18:29:47.000000000', 'files': ['contrib/ci/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/3fc96e3ad87d88f0498f5b47f22488043e46e57a', 'message': ""[ci] Re-enable scenario tests for lvm job\n\nWe temporarily disabled scenario tests in\nthe voting LVM job [1] because of a bug\nin which a kernel problem caused a reboot\nin the middle of the job when it ran in a\nXen virtualization environment on rax nodes.\n\nThe kernel has been updated on those nodes\nand the problem has gone away, as evidenced\nin various checks jobs in this review, so\nlet's reenable the scenario tests.\n    .\n[1] https://review.opendev.org/#/c/740507/\n[2] https://launchpad.net/bugs/1886988\n\nCloses-bug: #1886988\n\nChange-Id: I501d0b6537653613a58ea1fe606f6ef66b8b6d38\n""}]",2,740551,3fc96e3ad87d88f0498f5b47f22488043e46e57a,64,11,4,9003,,,0,"[ci] Re-enable scenario tests for lvm job

We temporarily disabled scenario tests in
the voting LVM job [1] because of a bug
in which a kernel problem caused a reboot
in the middle of the job when it ran in a
Xen virtualization environment on rax nodes.

The kernel has been updated on those nodes
and the problem has gone away, as evidenced
in various checks jobs in this review, so
let's reenable the scenario tests.
    .
[1] https://review.opendev.org/#/c/740507/
[2] https://launchpad.net/bugs/1886988

Closes-bug: #1886988

Change-Id: I501d0b6537653613a58ea1fe606f6ef66b8b6d38
",git fetch https://review.opendev.org/openstack/manila refs/changes/51/740551/4 && git format-patch -1 --stdout FETCH_HEAD,['contrib/ci/post_test_hook.sh'],1,bba0f35d4a6579c99c83559caf3573f0053cb438,bug/1886988," MANILA_TESTS=""(^manila_tempest_tests.tests)(?=.*\[.*\bbackend\b.*\])"""," MANILA_TESTS=""(^manila_tempest_tests.tests.api)(?=.*\[.*\bbackend\b.*\])""",1,1
openstack%2Freleases~master~Ie425d6a6a8b1c455324572b085a2e9e7e8e37a83,openstack/releases,master,Ie425d6a6a8b1c455324572b085a2e9e7e8e37a83,Release sahara-plugin-storm for stable/stein,ABANDONED,2020-07-17 22:33:06.000000000,2020-07-18 14:56:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-07-17 22:33:06.000000000', 'files': ['deliverables/stein/sahara-plugin-storm.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/463f70ca992a5d39f5a236378ff3cfcad88e9e20', 'message': 'Release sahara-plugin-storm for stable/stein\n\nThis release picks up new commits to sahara-plugin-storm since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: Ie425d6a6a8b1c455324572b085a2e9e7e8e37a83\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741774,463f70ca992a5d39f5a236378ff3cfcad88e9e20,3,2,1,11904,,,0,"Release sahara-plugin-storm for stable/stein

This release picks up new commits to sahara-plugin-storm since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Ie425d6a6a8b1c455324572b085a2e9e7e8e37a83
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/74/741774/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/sahara-plugin-storm.yaml'],1,463f70ca992a5d39f5a236378ff3cfcad88e9e20,stein-stable, - version: 1.0.1 projects: - repo: openstack/sahara-plugin-storm hash: 5d1f66a08081c1503e865620999d22cb28fb41d9,,4,0
openstack%2Freleases~master~I168e9e0bbc193bc74d4aa958a53c9413ec92f5d0,openstack/releases,master,I168e9e0bbc193bc74d4aa958a53c9413ec92f5d0,Release sahara-plugin-vanilla for stable/stein,ABANDONED,2020-07-17 22:33:13.000000000,2020-07-18 14:56:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-07-17 22:33:13.000000000', 'files': ['deliverables/stein/sahara-plugin-vanilla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c6cfdda0c62563a699e3576bcdea8aa1a0f69cf6', 'message': 'Release sahara-plugin-vanilla for stable/stein\n\nThis release picks up new commits to sahara-plugin-vanilla since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I168e9e0bbc193bc74d4aa958a53c9413ec92f5d0\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741775,c6cfdda0c62563a699e3576bcdea8aa1a0f69cf6,3,2,1,11904,,,0,"Release sahara-plugin-vanilla for stable/stein

This release picks up new commits to sahara-plugin-vanilla since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I168e9e0bbc193bc74d4aa958a53c9413ec92f5d0
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/75/741775/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/sahara-plugin-vanilla.yaml'],1,c6cfdda0c62563a699e3576bcdea8aa1a0f69cf6,stein-stable, - version: 1.0.1 projects: - repo: openstack/sahara-plugin-vanilla hash: 26d912ebbffb92f3396e2f946d042b9eb00628b5,,4,0
openstack%2Freleases~master~I063538e1fb1f612bbd6b71710427c7bd5b494f86,openstack/releases,master,I063538e1fb1f612bbd6b71710427c7bd5b494f86,Release sahara-plugin-ambari for stable/stein,ABANDONED,2020-07-17 22:32:35.000000000,2020-07-18 14:53:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-07-17 22:32:35.000000000', 'files': ['deliverables/stein/sahara-plugin-ambari.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/feca3303f1137b0c8991ea513b4b1c0b25474d06', 'message': 'Release sahara-plugin-ambari for stable/stein\n\nThis release picks up new commits to sahara-plugin-ambari since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I063538e1fb1f612bbd6b71710427c7bd5b494f86\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741770,feca3303f1137b0c8991ea513b4b1c0b25474d06,3,2,1,11904,,,0,"Release sahara-plugin-ambari for stable/stein

This release picks up new commits to sahara-plugin-ambari since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I063538e1fb1f612bbd6b71710427c7bd5b494f86
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/741770/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/sahara-plugin-ambari.yaml'],1,feca3303f1137b0c8991ea513b4b1c0b25474d06,stein-stable, - version: 1.0.1 projects: - repo: openstack/sahara-plugin-ambari hash: 9f0c1904a1691fe7f1d0b4d5312ddc58d2223d63,,4,0
openstack%2Freleases~master~I6259eacea29d3f99a22c1851796c351deacfb776,openstack/releases,master,I6259eacea29d3f99a22c1851796c351deacfb776,Release sahara-plugin-cdh for stable/stein,ABANDONED,2020-07-17 22:32:43.000000000,2020-07-18 14:53:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-07-17 22:32:43.000000000', 'files': ['deliverables/stein/sahara-plugin-cdh.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a2e5afb0992fef4260cfbb645edfca4df8931bab', 'message': 'Release sahara-plugin-cdh for stable/stein\n\nThis release picks up new commits to sahara-plugin-cdh since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I6259eacea29d3f99a22c1851796c351deacfb776\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741771,a2e5afb0992fef4260cfbb645edfca4df8931bab,3,2,1,11904,,,0,"Release sahara-plugin-cdh for stable/stein

This release picks up new commits to sahara-plugin-cdh since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I6259eacea29d3f99a22c1851796c351deacfb776
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/741771/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/sahara-plugin-cdh.yaml'],1,a2e5afb0992fef4260cfbb645edfca4df8931bab,stein-stable, - version: 1.0.2 projects: - repo: openstack/sahara-plugin-cdh hash: 09ce9173f0f2b6ab72c1ded006f444190657a614,,4,0
openstack%2Freleases~master~I83c291adac00b837e341c286ea37ba77e7b3d75b,openstack/releases,master,I83c291adac00b837e341c286ea37ba77e7b3d75b,Release sahara-plugin-spark for stable/stein,ABANDONED,2020-07-17 22:32:59.000000000,2020-07-18 14:53:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-07-17 22:32:59.000000000', 'files': ['deliverables/stein/sahara-plugin-spark.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d9a3e181d86b12eafca795b987de239c36d42790', 'message': 'Release sahara-plugin-spark for stable/stein\n\nThis release picks up new commits to sahara-plugin-spark since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I83c291adac00b837e341c286ea37ba77e7b3d75b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741773,d9a3e181d86b12eafca795b987de239c36d42790,3,2,1,11904,,,0,"Release sahara-plugin-spark for stable/stein

This release picks up new commits to sahara-plugin-spark since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I83c291adac00b837e341c286ea37ba77e7b3d75b
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/741773/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/sahara-plugin-spark.yaml'],1,d9a3e181d86b12eafca795b987de239c36d42790,stein-stable, - version: 1.0.1 projects: - repo: openstack/sahara-plugin-spark hash: 47a6a02ebd0de59fbcefa42b360543cc0721e3c8,,4,0
openstack%2Fironic~master~I0745e07d32e3455fad2a2249c31f279fd1d38b5b,openstack/ironic,master,I0745e07d32e3455fad2a2249c31f279fd1d38b5b,Explicitly set jobs to ML2/OVS,MERGED,2020-07-08 10:24:22.000000000,2020-07-18 14:46:02.000000000,2020-07-18 03:35:08.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-08 10:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/95037807eaec96fc3b85b2b4e6fc407fa5b189dd', 'message': ""Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch is\nto make sure Ironic gate will not get broken by this change as currently\nOVN doesn't support baremetal nodes.\n\nChange-Id: I0745e07d32e3455fad2a2249c31f279fd1d38b5b\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}, {'number': 2, 'created': '2020-07-08 11:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/00ae61d73b7deec634cf004ed4aea5ee01f0e5e1', 'message': ""Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch is\nto make sure Ironic gate will not get broken by this change as currently\nOVN doesn't support baremetal nodes.\n\nChange-Id: I0745e07d32e3455fad2a2249c31f279fd1d38b5b\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}, {'number': 3, 'created': '2020-07-15 14:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/887b09e82e67a318aa01b65b3833205f02932e85', 'message': ""Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch is\nto make sure Ironic gate will not get broken by this change as currently\nOVN doesn't support baremetal nodes.\n\nDepends-On: https://review.opendev.org/#/c/735097/\nChange-Id: I0745e07d32e3455fad2a2249c31f279fd1d38b5b\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}, {'number': 4, 'created': '2020-07-15 14:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b4d1af686346c0099484bad9c6d4e2de90bb6c14', 'message': ""Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch is\nto make sure Ironic gate will not get broken by this change as currently\nOVN doesn't support baremetal nodes.\n\nChange-Id: I0745e07d32e3455fad2a2249c31f279fd1d38b5b\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}, {'number': 5, 'created': '2020-07-17 09:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a4b558d3cac6f76b38506f0ac5a66f576ca198c1', 'message': ""Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch is\nto make sure Ironic gate will not get broken by this change as currently\nOVN doesn't support baremetal nodes.\n\nChange-Id: I0745e07d32e3455fad2a2249c31f279fd1d38b5b\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}, {'number': 6, 'created': '2020-07-17 12:58:12.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/02d3efbd7ed7663a7a123857a55a7807a1dac41d', 'message': ""Explicitly set jobs to ML2/OVS\n\nDevstack is changing the Neutron default to OVN backend. This patch is\nto make sure Ironic gate will not get broken by this change as currently\nOVN doesn't support baremetal nodes.\n\nChange-Id: I0745e07d32e3455fad2a2249c31f279fd1d38b5b\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}]",12,739945,02d3efbd7ed7663a7a123857a55a7807a1dac41d,57,8,6,8655,,,0,"Explicitly set jobs to ML2/OVS

Devstack is changing the Neutron default to OVN backend. This patch is
to make sure Ironic gate will not get broken by this change as currently
OVN doesn't support baremetal nodes.

Change-Id: I0745e07d32e3455fad2a2249c31f279fd1d38b5b
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
",git fetch https://review.opendev.org/openstack/ironic refs/changes/45/739945/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'playbooks/legacy/grenade-dsvm-ironic-multinode-multitenant/run.yaml']",2,95037807eaec96fc3b85b2b4e6fc407fa5b189dd,ovn-devstack," export DEVSTACK_LOCAL_CONFIG+=$'\n'""Q_AGENT=openvswitch"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""Q_ML2_PLUGIN_MECHANISM_DRIVERS=openvswitch""",,3,0
openstack%2Fmanila-tempest-plugin~master~Iefcacfb83262eb8441fd524b4703491980b6a9d7,openstack/manila-tempest-plugin,master,Iefcacfb83262eb8441fd524b4703491980b6a9d7,[ci] Re-enable scenario tests in the LVM job,MERGED,2020-07-16 06:42:20.000000000,2020-07-18 13:34:26.000000000,2020-07-18 13:34:25.000000000,"[{'_account_id': 12017}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-16 06:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f57fee857eb32d777449ea77e1774b8d97a343b0', 'message': 'WIP - Re-enable scenario tests\n\nChange-Id: Iefcacfb83262eb8441fd524b4703491980b6a9d7\nRelated-Bug: #1886668\nRelated-Bug: #1886988\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-07-17 17:24:08.000000000', 'files': ['zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/170cc45947459384b62a7f899f8c65fa7081bb3e', 'message': '[ci] Re-enable scenario tests in the LVM job\n\nBug #1886668 has now been addressed in ubuntu, and\nthe new kernel no longer suffers from the problem\nthat led to mid-test reboots like the previous ones\ndid. So we can safely re-enable scenario tests in the\ngating LVM job.\n\n\nChange-Id: Iefcacfb83262eb8441fd524b4703491980b6a9d7\nRelated-Bug: #1886668\nCloses-Bug: #1886988\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,741384,170cc45947459384b62a7f899f8c65fa7081bb3e,19,7,2,16643,,,0,"[ci] Re-enable scenario tests in the LVM job

Bug #1886668 has now been addressed in ubuntu, and
the new kernel no longer suffers from the problem
that led to mid-test reboots like the previous ones
did. So we can safely re-enable scenario tests in the
gating LVM job.


Change-Id: Iefcacfb83262eb8441fd524b4703491980b6a9d7
Related-Bug: #1886668
Closes-Bug: #1886988
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/84/741384/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/manila-tempest-jobs.yaml']",2,f57fee857eb32d777449ea77e1774b8d97a343b0,bug/1886988, tempest_test_regex: '(^manila_tempest_tests.tests)(?=.*\[.*\bbackend\b.*\])', tempest_test_regex: '(^manila_tempest_tests.tests.api)(?=.*\[.*\bbackend\b.*\])',15,15
openstack%2Fansible-role-collect-logs~master~I00d09eca5931eab364dc8681442384fa7847a783,openstack/ansible-role-collect-logs,master,I00d09eca5931eab364dc8681442384fa7847a783,Add new introspection pattern to sova,MERGED,2020-07-18 09:33:08.000000000,2020-07-18 13:34:01.000000000,2020-07-18 13:34:01.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-18 09:33:08.000000000', 'files': ['vars/sova-patterns.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f8ae4deb14760a94ae8e31128e3440d53d3c92fa', 'message': 'Add new introspection pattern to sova\n\nChange-Id: I00d09eca5931eab364dc8681442384fa7847a783\n'}]",0,741805,f8ae4deb14760a94ae8e31128e3440d53d3c92fa,6,2,1,10969,,,0,"Add new introspection pattern to sova

Change-Id: I00d09eca5931eab364dc8681442384fa7847a783
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/05/741805/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/sova-patterns.yml'],1,f8ae4deb14760a94ae8e31128e3440d53d3c92fa,," - id: 528 logstash: ""playbook: /usr/share/ansible/tripleo-playbooks/cli-baremetal-introspect.yaml, Run Status: failed"" msg: ""Introspection failed."" pattern: ""playbook: /usr/share/ansible/tripleo-playbooks/cli-baremetal-introspect.yaml, Run Status: failed"" tag: ""infra""",,5,0
openstack%2Fansible-role-collect-logs~master~Ie9b2e6a145f16a4e4af6e79e9d35faed47fb174a,openstack/ansible-role-collect-logs,master,Ie9b2e6a145f16a4e4af6e79e9d35faed47fb174a,Add new files to track in logstash,MERGED,2020-07-18 08:54:54.000000000,2020-07-18 13:34:00.000000000,2020-07-18 13:33:59.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-18 08:54:54.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/5f0bc9c897b7a93f6209138cb67f2546e5043cef', 'message': 'Add new files to track in logstash\n\nImages related files were added in OVB jobs, add them to tracking\nof logstash.\nChange-Id: Ie9b2e6a145f16a4e4af6e79e9d35faed47fb174a\n'}]",0,741803,5f0bc9c897b7a93f6209138cb67f2546e5043cef,8,3,1,10969,,,0,"Add new files to track in logstash

Images related files were added in OVB jobs, add them to tracking
of logstash.
Change-Id: Ie9b2e6a145f16a4e4af6e79e9d35faed47fb174a
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/03/741803/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,5f0bc9c897b7a93f6209138cb67f2546e5043cef,, - /home/*/overcloud_image_upload.log - /home/*/overcloud_import_nodes.log - /home/*/overcloud_introspect.log - /home/*/pkg_mgr_mirror_error.log - /home/*/pkg_mgr_mirror.log - /home/*/standalone_deploy.log - /home/*/tempest.log - /home/*/undercloud_custom_tht_script.log - /home/*/*update*.log - /home/*/*upgrade*.log - /var/log/tripleo-container-image-prepare.log, - /home/*/standalone_deploy.log - /home/*/*upgrade*.log - /home/*/*update*.log - /home/*/undercloud_custom_tht_script.log - /home/*/pkg_mgr_mirror_error.log - /home/*/pkg_mgr_mirror.log - /home/*/tempest.log - /var/log/tripleo-container-image-prepare.log,11,8
openstack%2Ftrove~master~I3398557700dd76ec831e441ba074032fd4b67cca,openstack/trove,master,I3398557700dd76ec831e441ba074032fd4b67cca,Fix the slow start of mariadb container,MERGED,2020-07-18 10:06:35.000000000,2020-07-18 12:10:34.000000000,2020-07-18 12:08:40.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-18 10:06:35.000000000', 'files': ['trove/guestagent/datastore/mysql_common/service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/058490a609108bf0709117d42710ad3f7ee28d70', 'message': ""Fix the slow start of mariadb container\n\nAdding '-e MYSQL_INITDB_SKIP_TZINFO=1' when starting database\ncontainer.\n\nRef:\nhttps://github.com/docker-library/mariadb/issues/262\n\nChange-Id: I3398557700dd76ec831e441ba074032fd4b67cca\n""}]",0,741806,058490a609108bf0709117d42710ad3f7ee28d70,7,2,1,6732,,,0,"Fix the slow start of mariadb container

Adding '-e MYSQL_INITDB_SKIP_TZINFO=1' when starting database
container.

Ref:
https://github.com/docker-library/mariadb/issues/262

Change-Id: I3398557700dd76ec831e441ba074032fd4b67cca
",git fetch https://review.opendev.org/openstack/trove refs/changes/06/741806/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/guestagent/datastore/mysql_common/service.py'],1,058490a609108bf0709117d42710ad3f7ee28d70,fix-slow-start," ""MYSQL_INITDB_SKIP_TZINFO"": 1,",,1,0
openstack%2Ftrove~master~I61e5e270bf66b0355da3282c19cbc9fd42c4090b,openstack/trove,master,I61e5e270bf66b0355da3282c19cbc9fd42c4090b,Monkey patch original current_thread _active,MERGED,2020-05-05 19:42:46.000000000,2020-07-18 12:09:47.000000000,2020-07-18 12:08:38.000000000,"[{'_account_id': 6732}, {'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-05 19:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d538db7a3b689beb1242b5c2b774ce0d42478805', 'message': 'Monkey patch original current_thread _active\n\nMonkey patch the original current_thread to use the up-to-date _active\nglobal variable. This solution is based on that documented at:\nhttps://github.com/eventlet/eventlet/issues/592\n\nChange-Id: I61e5e270bf66b0355da3282c19cbc9fd42c4090b\nCloses-Bug: #1863021\n'}, {'number': 2, 'created': '2020-05-27 01:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/098aeff44ed8d9d0eadcad23fc52b830d2ee3342', 'message': 'Monkey patch original current_thread _active\n\nMonkey patch the original current_thread to use the up-to-date _active\nglobal variable. This solution is based on that documented at:\nhttps://github.com/eventlet/eventlet/issues/592\n\nChange-Id: I61e5e270bf66b0355da3282c19cbc9fd42c4090b\nCloses-Bug: #1863021\n'}, {'number': 3, 'created': '2020-06-24 04:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6b59bdafbebe4eb617efce2c33276ecacf1441c7', 'message': 'Monkey patch original current_thread _active\n\nMonkey patch the original current_thread to use the up-to-date _active\nglobal variable. This solution is based on that documented at:\nhttps://github.com/eventlet/eventlet/issues/592\n\nChange-Id: I61e5e270bf66b0355da3282c19cbc9fd42c4090b\nCloses-Bug: #1863021\n'}, {'number': 4, 'created': '2020-07-17 04:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d255c73174c0f290a6b725925845c25c036d901b', 'message': 'Monkey patch original current_thread _active\n\nMonkey patch the original current_thread to use the up-to-date _active\nglobal variable. This solution is based on that documented at:\nhttps://github.com/eventlet/eventlet/issues/592\n\nChange-Id: I61e5e270bf66b0355da3282c19cbc9fd42c4090b\nCloses-Bug: #1863021\n'}, {'number': 5, 'created': '2020-07-18 10:09:51.000000000', 'files': ['trove/cmd/__init__.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/56bb6f39b6c808160d2e4c96fcc2104ba1daf817', 'message': 'Monkey patch original current_thread _active\n\nMonkey patch the original current_thread to use the up-to-date _active\nglobal variable. This solution is based on that documented at:\nhttps://github.com/eventlet/eventlet/issues/592\n\nChange-Id: I61e5e270bf66b0355da3282c19cbc9fd42c4090b\nCloses-Bug: #1863021\n'}]",1,725672,56bb6f39b6c808160d2e4c96fcc2104ba1daf817,24,3,5,11805,,,0,"Monkey patch original current_thread _active

Monkey patch the original current_thread to use the up-to-date _active
global variable. This solution is based on that documented at:
https://github.com/eventlet/eventlet/issues/592

Change-Id: I61e5e270bf66b0355da3282c19cbc9fd42c4090b
Closes-Bug: #1863021
",git fetch https://review.opendev.org/openstack/trove refs/changes/72/725672/5 && git format-patch -1 --stdout FETCH_HEAD,['trove/cmd/__init__.py'],1,d538db7a3b689beb1242b5c2b774ce0d42478805,bug/1863021, # Monkey patch the original current_thread to use the up-to-date _active # global variable. See https://bugs.launchpad.net/bugs/1863021 and # https://github.com/eventlet/eventlet/issues/592 import __original_module_threading as orig_threading import threading # noqa orig_threading.current_thread.__globals__['_active'] = threading._active,,6,0
openstack%2Fironic~master~Id220ce3a2c2821ad1841add20f2138e65d1786bf,openstack/ironic,master,Id220ce3a2c2821ad1841add20f2138e65d1786bf,Add missing agent RAID compatibility for ilo5 and idrac,MERGED,2020-07-14 14:26:50.000000000,2020-07-18 11:15:53.000000000,2020-07-18 03:51:00.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-14 14:26:50.000000000', 'files': ['ironic/tests/unit/drivers/test_ilo.py', 'ironic/drivers/ilo.py', 'releasenotes/notes/missing-sw-raid-b7fdc9259612970d.yaml', 'ironic/drivers/drac.py', 'ironic/tests/unit/drivers/test_drac.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c376cb32196fdd6c8be6806395479ea8d0db13ff', 'message': 'Add missing agent RAID compatibility for ilo5 and idrac\n\nSoftware RAID relies on it.\n\nChange-Id: Id220ce3a2c2821ad1841add20f2138e65d1786bf\n'}]",1,740975,c376cb32196fdd6c8be6806395479ea8d0db13ff,33,6,1,10239,,,0,"Add missing agent RAID compatibility for ilo5 and idrac

Software RAID relies on it.

Change-Id: Id220ce3a2c2821ad1841add20f2138e65d1786bf
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/740975/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/ilo.py', 'ironic/tests/unit/drivers/test_ilo.py', 'releasenotes/notes/missing-sw-raid-b7fdc9259612970d.yaml', 'ironic/drivers/drac.py', 'ironic/tests/unit/drivers/test_drac.py']",5,c376cb32196fdd6c8be6806395479ea8d0db13ff,missing-sw-raid,"from oslo_utils import uuidutils 'idrac', 'idrac-wsman', 'no-raid', 'agent'], for iface, impl in [('agent', agent.AgentRAID), ('no-raid', noop.NoRAID)]: node = obj_utils.create_test_node(self.context, uuid=uuidutils.generate_uuid(), driver='idrac', raid_interface=iface) with task_manager.acquire(self.context, node.id) as task: self._validate_interfaces(task.driver, raid=impl)"," 'idrac', 'idrac-wsman', 'no-raid'], node = obj_utils.create_test_node(self.context, driver='idrac', raid_interface='no-raid') with task_manager.acquire(self.context, node.id) as task: self._validate_interfaces(task.driver, raid=noop.NoRAID)",38,25
openstack%2Ftripleo-heat-templates~master~I881f6fdb7f99575f017fb86d6ab2dc3d55348e46,openstack/tripleo-heat-templates,master,I881f6fdb7f99575f017fb86d6ab2dc3d55348e46,Bind mount /var/lib/container-config-scripts inside the restart bundles,MERGED,2020-07-15 08:37:41.000000000,2020-07-18 09:09:11.000000000,2020-07-18 09:09:11.000000000,"[{'_account_id': 6926}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-15 08:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94b83c7bd333d9978fd823f1766dd6f2dc8d561d', 'message': ""Bind mount /var/lib/container-config-scripts inside the restart bundles\n\nBind mounting the single files is never a good idea and\nwe're actually planning to potentially add one more script in there\nto be used by the restart bundles, so best if we bind mount the whole\nfolder and use that directly.\n\nChange-Id: I881f6fdb7f99575f017fb86d6ab2dc3d55348e46\n""}, {'number': 2, 'created': '2020-07-17 20:20:17.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/containers-common.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/233710ad5d77f9341b121e523290048526c97382', 'message': ""Bind mount /var/lib/container-config-scripts inside the restart bundles\n\nBind mounting the single files is never a good idea and\nwe're actually planning to potentially add one more script in there\nto be used by the restart bundles, so best if we bind mount the whole\nfolder and use that directly.\n\nChange-Id: I881f6fdb7f99575f017fb86d6ab2dc3d55348e46\n""}]",0,741116,233710ad5d77f9341b121e523290048526c97382,21,6,2,20172,,,0,"Bind mount /var/lib/container-config-scripts inside the restart bundles

Bind mounting the single files is never a good idea and
we're actually planning to potentially add one more script in there
to be used by the restart bundles, so best if we bind mount the whole
folder and use that directly.

Change-Id: I881f6fdb7f99575f017fb86d6ab2dc3d55348e46
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/741116/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/containers-common.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",11,94b83c7bd333d9978fd823f1766dd6f2dc8d561d,locking, command: /var/lib/container-config-scripts/pacemaker_restart_bundle.sh oslo_messaging_rpc rabbitmq rabbitmq-bundle Started, command: /pacemaker_restart_bundle.sh oslo_messaging_rpc rabbitmq rabbitmq-bundle Started,11,12
openstack%2Fcharm-trilio-data-mover~master~I0ccf13591303a8562a992b01e4ecd3dd30c30a5e,openstack/charm-trilio-data-mover,master,I0ccf13591303a8562a992b01e4ecd3dd30c30a5e,Add Ussuri and Victoria test bundles,ABANDONED,2020-07-08 08:52:44.000000000,2020-07-18 06:36:01.000000000,,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-08 08:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/b0d2a9380f330cac5beef34dcb0a34e38ee0b84f', 'message': 'Add Ussuri and Victoria test bundles\n\nChange-Id: I0ccf13591303a8562a992b01e4ecd3dd30c30a5e\n'}, {'number': 2, 'created': '2020-07-08 12:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/229c3860cac20471bc04fa7ad56b3fcecf8b0150', 'message': 'Add Ussuri and Victoria test bundles\n\nChange-Id: I0ccf13591303a8562a992b01e4ecd3dd30c30a5e\n'}, {'number': 3, 'created': '2020-07-09 13:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/3711b6e8477d68c2ab2d18c469c444e3034a62fb', 'message': 'Add Ussuri and Victoria test bundles\n\nChange-Id: I0ccf13591303a8562a992b01e4ecd3dd30c30a5e\n'}, {'number': 4, 'created': '2020-07-10 14:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/a4a3ef6709b8ea85a3d34ef1df829cec4c7168cb', 'message': 'Add Ussuri and Victoria test bundles\n\nChange-Id: I0ccf13591303a8562a992b01e4ecd3dd30c30a5e\n'}, {'number': 5, 'created': '2020-07-14 13:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/4b14ad7ca0035a1cae181780b8cc747bfe5082b6', 'message': 'Add Ussuri and Victoria test bundles\n\nChange-Id: I0ccf13591303a8562a992b01e4ecd3dd30c30a5e\n'}, {'number': 6, 'created': '2020-07-16 12:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/9f701a4c7ce39cc6d47a36fb25f1171544acf227', 'message': 'Add Ussuri and Victoria test bundles\n\nChange-Id: I0ccf13591303a8562a992b01e4ecd3dd30c30a5e\n'}, {'number': 7, 'created': '2020-07-17 07:16:33.000000000', 'files': ['src/tests/bundles/bionic-ussuri-ssl.yaml', 'src/metadata.yaml', 'src/tests/bundles/focal-victoria-ssl.yaml', 'src/tests/bundles/focal-ussuri-ssl.yaml', 'src/tests/bundles/groovy-victoria-ssl.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-data-mover/commit/b1936e1156152497e94a4383a973f3e91ce827b9', 'message': 'Add Ussuri and Victoria test bundles\n\nChange-Id: I0ccf13591303a8562a992b01e4ecd3dd30c30a5e\n'}]",0,739928,b1936e1156152497e94a4383a973f3e91ce827b9,46,5,7,31289,,,0,"Add Ussuri and Victoria test bundles

Change-Id: I0ccf13591303a8562a992b01e4ecd3dd30c30a5e
",git fetch https://review.opendev.org/openstack/charm-trilio-data-mover refs/changes/28/739928/7 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-ussuri-ssl.yaml', 'src/metadata.yaml', 'src/tests/bundles/focal-ussuri-ssl.yaml', 'src/tests/bundles/focal-victoria-ssl.yaml', 'src/tests/bundles/groovy-victoria-ssl.yaml', 'src/tests/tests.yaml']",6,b0d2a9380f330cac5beef34dcb0a34e38ee0b84f,victoria-charm-tests,dev_bundles: - bionic-ussuri-ssl - focal-ussuri-ssl - focal-victoria-ssl - groovy-victoria-ssltests_options: force_deploy: - groovy-victoria,,905,0
openstack%2Fpuppet-openstack-integration~master~Iebeebbc4f64aac0547ffe673ad7d92c4680b742b,openstack/puppet-openstack-integration,master,Iebeebbc4f64aac0547ffe673ad7d92c4680b742b,Updated from Puppet OpenStack modules constraints,MERGED,2020-07-16 06:10:53.000000000,2020-07-18 06:35:22.000000000,2020-07-18 06:35:22.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 06:10:53.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3d08bc750da59480ba57cc0ea416f82b064a6735', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Iebeebbc4f64aac0547ffe673ad7d92c4680b742b\n'}]",0,741378,3d08bc750da59480ba57cc0ea416f82b064a6735,11,4,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Iebeebbc4f64aac0547ffe673ad7d92c4680b742b
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/78/741378/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,3d08bc750da59480ba57cc0ea416f82b064a6735,openstack/puppet/constraints, :ref => 'v10.1.1', :ref => 'v10.1.0',1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib69b9127f530ff8063a1c7408a70e20cfc7babc7,openstack/tripleo-heat-templates,stable/train,Ib69b9127f530ff8063a1c7408a70e20cfc7babc7,deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable,MERGED,2020-07-15 18:18:06.000000000,2020-07-18 06:11:41.000000000,2020-07-18 06:11:41.000000000,"[{'_account_id': 3153}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-15 18:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1d34495ec4709cbdd5fa8c889200dd29d4ea089', 'message': ""deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable\n\nFor all the tasks in common/deploy-steps-playbooks-common.yaml:\n\n* any_errors_fatal will be set to True except for the scale playbooks,\n  where we consider than an error can happen if a node is down.\n  The logic was wrong, we need to set a default to\n  scale_ignore_unreachable (false) and configure any_errors_fatal to be\n  the opposite of scale_ignore_unreachable.\n\n* Add ignore_unreachable to all the tasks which didn't have it before\n  (and set it to scale_ignore_unreachable | default(false))\n\nThis will allow a scale-down to work fine when a node that is being\nscaled down is unreachable.\n\nChange-Id: Ib69b9127f530ff8063a1c7408a70e20cfc7babc7\nCloses-Bug: #1887702\n(cherry picked from commit f1f2dab36e5ac74e8e6d2336ee09efdb75943e35)\n""}, {'number': 2, 'created': '2020-07-16 13:13:15.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b3ee1252c2d78d8c5f3733649c5b4bc2dc263840', 'message': ""deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable\n\nFor all the tasks in common/deploy-steps-playbooks-common.yaml:\n\n* any_errors_fatal will be set to False for all tasks as this is\n  shared with the scale tasks or where nodes may not be available.\n  Due to https://github.com/ansible/ansible/issues/70663 this cannot\n  be set dynamically at this time. If an error occurs it'll get picked\n  up by a future task.\n\n* Add ignore_unreachable to all the tasks which didn't have it before\n  (and set it to scale_ignore_unreachable | default(false))\n\nThis will allow a scale-down to work fine when a node that is being\nscaled down is unreachable.\n\nChange-Id: Ib69b9127f530ff8063a1c7408a70e20cfc7babc7\nCloses-Bug: #1887702\n(cherry picked from commit af30d7d290287491f0a46c471a892f6e870eef84)\n""}]",0,741298,b3ee1252c2d78d8c5f3733649c5b4bc2dc263840,16,5,2,3153,,,0,"deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable

For all the tasks in common/deploy-steps-playbooks-common.yaml:

* any_errors_fatal will be set to False for all tasks as this is
  shared with the scale tasks or where nodes may not be available.
  Due to https://github.com/ansible/ansible/issues/70663 this cannot
  be set dynamically at this time. If an error occurs it'll get picked
  up by a future task.

* Add ignore_unreachable to all the tasks which didn't have it before
  (and set it to scale_ignore_unreachable | default(false))

This will allow a scale-down to work fine when a node that is being
scaled down is unreachable.

Change-Id: Ib69b9127f530ff8063a1c7408a70e20cfc7babc7
Closes-Bug: #1887702
(cherry picked from commit af30d7d290287491f0a46c471a892f6e870eef84)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/741298/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-playbooks-common.yaml'],1,b1d34495ec4709cbdd5fa8c889200dd29d4ea089,train/unreach," any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" ignore_unreachable: ""{{ scale_ignore_unreachable | default(false) }}"" any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" ignore_unreachable: ""{{ scale_ignore_unreachable | default(false) }}"" any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" ignore_unreachable: ""{{ scale_ignore_unreachable | default(false) }}"" any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" ignore_unreachable: ""{{ scale_ignore_unreachable | default(false) }}"""," any_errors_fatal: ""{{ not scale_ignore_unreachable | default(true) }}"" any_errors_fatal: ""{{ not scale_ignore_unreachable | default(true) }}"" any_errors_fatal: ""{{ not scale_ignore_unreachable | default(true) }}"" any_errors_fatal: yes any_errors_fatal: yes any_errors_fatal: yes",11,6
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ic3a5f7d079993ca31176df5e460640938495bb7b,openstack/tripleo-heat-templates,stable/train,Ic3a5f7d079993ca31176df5e460640938495bb7b,Add become: true to the container json file modules,MERGED,2020-07-17 02:14:44.000000000,2020-07-18 06:11:33.000000000,2020-07-18 06:11:33.000000000,"[{'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-17 02:14:44.000000000', 'files': ['common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a87458ac75cbc197e870d7f547f620a84cac7fb', 'message': 'Add become: true to the container json file modules\n\nAdding the become: true when calling the modules which manage files in\n/var/lib/tripleo-config, they need root access.\n\nChange-Id: Ic3a5f7d079993ca31176df5e460640938495bb7b\n(cherry picked from commit 4395e4a3ceb41874a8855129444e6387686c649b)\n'}]",0,741568,3a87458ac75cbc197e870d7f547f620a84cac7fb,12,4,1,3153,,,0,"Add become: true to the container json file modules

Adding the become: true when calling the modules which manage files in
/var/lib/tripleo-config, they need root access.

Change-Id: Ic3a5f7d079993ca31176df5e460640938495bb7b
(cherry picked from commit 4395e4a3ceb41874a8855129444e6387686c649b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/741568/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks-step-1.yaml'],1,3a87458ac75cbc197e870d7f547f620a84cac7fb,train/become, become: true become: true,,2,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ie67bac28ac6097cba810b51496493584be0edcc8,openstack/tripleo-heat-templates,stable/train,Ie67bac28ac6097cba810b51496493584be0edcc8,Use distinct params for ca cert in nova-vnc-proxy and nova-libvirt,MERGED,2020-07-13 11:44:22.000000000,2020-07-18 06:11:31.000000000,2020-07-18 06:11:30.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9914}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31075}]","[{'number': 1, 'created': '2020-07-13 11:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1671bcd7b2d61d5442199f412b01e5136a87d5b8', 'message': 'Use distinct params for ca cert in nova-vnc-proxy and nova-libvirt\n\nThe two services use the same parameter for the location of the\nCA cert.  This causes problems when trying to deploy both services\non the same machine, for example in standalone mode.\n\nCloses-Bug: 1887376\nChange-Id: Ie67bac28ac6097cba810b51496493584be0edcc8\n(cherry picked from commit de14bc555cbff1321f077ebca83c54126e5cb53f)\n'}, {'number': 2, 'created': '2020-07-15 19:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/abdcd9fe44bf1b0f9ade780fbe9d09eaed3a95b1', 'message': 'Use distinct params for ca cert in nova-vnc-proxy and nova-libvirt\n\nThe two services use the same parameter for the location of the\nCA cert.  This causes problems when trying to deploy both services\non the same machine, for example in standalone mode.\n\nCloses-Bug: 1887376\nChange-Id: Ie67bac28ac6097cba810b51496493584be0edcc8\n(cherry picked from commit de14bc555cbff1321f077ebca83c54126e5cb53f)\n'}, {'number': 3, 'created': '2020-07-17 19:32:42.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5087bc9c12fb2eda23db6c06cec82bbc7fb997a1', 'message': 'Use distinct params for ca cert in nova-vnc-proxy and nova-libvirt\n\nThe two services use the same parameter for the location of the\nCA cert.  This causes problems when trying to deploy both services\non the same machine, for example in standalone mode.\n\nCloses-Bug: 1887376\nChange-Id: Ie67bac28ac6097cba810b51496493584be0edcc8\n(cherry picked from commit de14bc555cbff1321f077ebca83c54126e5cb53f)\n'}]",0,740679,5087bc9c12fb2eda23db6c06cec82bbc7fb997a1,19,10,3,29775,,,0,"Use distinct params for ca cert in nova-vnc-proxy and nova-libvirt

The two services use the same parameter for the location of the
CA cert.  This causes problems when trying to deploy both services
on the same machine, for example in standalone mode.

Closes-Bug: 1887376
Change-Id: Ie67bac28ac6097cba810b51496493584be0edcc8
(cherry picked from commit de14bc555cbff1321f077ebca83c54126e5cb53f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/740679/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'tools/yaml-validate.py']",2,1671bcd7b2d61d5442199f412b01e5136a87d5b8,add_standalone_tls-stable/train," 'LibvirtVncCACert': ['description'],",,6,5
openstack%2Fironic~master~I0ba8a3741eefa80eb56e25a1b339f8433b3fc0dc,openstack/ironic,master,I0ba8a3741eefa80eb56e25a1b339f8433b3fc0dc,Follow-up on blocking port deletions,MERGED,2020-07-14 19:52:53.000000000,2020-07-18 06:09:39.000000000,2020-07-18 04:22:06.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-14 19:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb07a91a8f4d60219a331d1ec675dd2e02fa9791', 'message': 'Follow-up on blocking port deletions\n\nA recent comment on https://review.opendev.org/#/c/665835\npointed out that we should likely make some changes and a fix\na missing check for the introspection_vif_port_id which was\nlikely introduced after this functionality was originally\nwritten.\n\nAlso adds some documentation on the subject since we lack\ndocs even pointing out how to delete a port. :\\\n\nChange-Id: I0ba8a3741eefa80eb56e25a1b339f8433b3fc0dc\n'}, {'number': 2, 'created': '2020-07-16 19:47:13.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/utils.py', 'doc/source/admin/troubleshooting.rst', 'doc/source/install/enrollment.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ba0dc574bc47abae71e5a48b8868e8a8fdccea50', 'message': 'Follow-up on blocking port deletions\n\nA recent comment on https://review.opendev.org/#/c/665835\npointed out that we should likely make some changes and a fix\na missing check for the introspection_vif_port_id which was\nlikely introduced after this functionality was originally\nwritten.\n\nAlso adds some documentation on the subject since we lack\ndocs even pointing out how to delete a port. :\\\n\nChange-Id: I0ba8a3741eefa80eb56e25a1b339f8433b3fc0dc\n'}]",2,741039,ba0dc574bc47abae71e5a48b8868e8a8fdccea50,22,7,2,11655,,,0,"Follow-up on blocking port deletions

A recent comment on https://review.opendev.org/#/c/665835
pointed out that we should likely make some changes and a fix
a missing check for the introspection_vif_port_id which was
likely introduced after this functionality was originally
written.

Also adds some documentation on the subject since we lack
docs even pointing out how to delete a port. :\

Change-Id: I0ba8a3741eefa80eb56e25a1b339f8433b3fc0dc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/39/741039/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/utils.py', 'doc/source/admin/troubleshooting.rst', 'doc/source/install/enrollment.rst']",6,eb07a91a8f4d60219a331d1ec675dd2e02fa9791,741039," .. note:: When it is time to remove the node from the Bare Metal service, the command used to remove the port is ``openstack baremetal port delete <port uuid>``. When doing so, it is important to ensure that the baremetal node is not in ``maintenance`` as guarding logic to prevent orphaning Neutron Virtual Interfaces (VIFs) will be overriden. ",,96,5
openstack%2Fneutron~master~I1b6154b9433a9442d3e0118dedfa01c4a9b4740b,openstack/neutron,master,I1b6154b9433a9442d3e0118dedfa01c4a9b4740b,Don't add arp responder for non tunnel network port,MERGED,2019-04-12 11:24:05.000000000,2020-07-18 05:45:49.000000000,2019-04-27 12:42:51.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9396}, {'_account_id': 9531}, {'_account_id': 10518}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 19956}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28722}]","[{'number': 1, 'created': '2019-04-12 11:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/37742aa93f574c0ff6133879cbd3e15f35a83630', 'message': ""Don't add arp responder for non tunnel network port\n\nWhen the vlan and vxlan both exist in env, and l2population\nand arp_responder are enabled, when we update a vlan port's\nip address, there will be arp responder related flows added\ninto br-tun, this will cause too many arp reply for one arp\nrequest, and vm connections will be unnormal.\n\nCloses-Bug: #1824504\nChange-Id: I1b6154b9433a9442d3e0118dedfa01c4a9b4740b\n""}, {'number': 2, 'created': '2019-04-15 05:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed99ab7f0cf68fa269b30c270a9fb2a51b5fbf23', 'message': ""Don't add arp responder for non tunnel network port\n\nWhen the vlan and vxlan both exist in env, and l2population\nand arp_responder are enabled, when we update a vlan port's\nip address, there will be arp responder related flows added\ninto br-tun, this will cause too many arp reply for one arp\nrequest, and vm connections will be unnormal.\n\nCloses-Bug: #1824504\nChange-Id: I1b6154b9433a9442d3e0118dedfa01c4a9b4740b\n""}, {'number': 3, 'created': '2019-04-15 08:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/69e88a38a37af41dcda77216b9828bf754769e08', 'message': ""Don't add arp responder for non tunnel network port\n\nWhen the vlan and vxlan both exist in env, and l2population\nand arp_responder are enabled, when we update a vlan port's\nip address, there will be arp responder related flows added\ninto br-tun, this will cause too many arp reply for one arp\nrequest, and vm connections will be unnormal.\n\nCloses-Bug: #1824504\nChange-Id: I1b6154b9433a9442d3e0118dedfa01c4a9b4740b\n""}, {'number': 4, 'created': '2019-04-25 02:34:48.000000000', 'files': ['neutron/plugins/ml2/drivers/l2pop/mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5301ecf41b18e83abdc3c828cd64ce0111f9fcd1', 'message': ""Don't add arp responder for non tunnel network port\n\nWhen the vlan and vxlan both exist in env, and l2population\nand arp_responder are enabled, if we update a port's ip address\nfrom vlan network, there will be arp responder related flows\nadded into br-tun, this will cause too many arp reply for\none arp request, and vm connections will be unnormal.\n\nCloses-Bug: #1824504\nChange-Id: I1b6154b9433a9442d3e0118dedfa01c4a9b4740b\n""}]",9,652043,5301ecf41b18e83abdc3c828cd64ce0111f9fcd1,38,13,4,19956,,,0,"Don't add arp responder for non tunnel network port

When the vlan and vxlan both exist in env, and l2population
and arp_responder are enabled, if we update a port's ip address
from vlan network, there will be arp responder related flows
added into br-tun, this will cause too many arp reply for
one arp request, and vm connections will be unnormal.

Closes-Bug: #1824504
Change-Id: I1b6154b9433a9442d3e0118dedfa01c4a9b4740b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/652043/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/l2pop/mech_driver.py'],1,37742aa93f574c0ff6133879cbd3e15f35a83630,bug/1824504," # We should not add arp responder for non tunnel network type session = db_api.get_session() agent = l2pop_db.get_agent_by_host(session, agent_host) segment = context.bottom_bound_segment if not self._validate_segment(segment, port['id'], agent): return ",,7,0
openstack%2Fneutron~stable%2Fstein~I1b6154b9433a9442d3e0118dedfa01c4a9b4740b,openstack/neutron,stable/stein,I1b6154b9433a9442d3e0118dedfa01c4a9b4740b,Don't add arp responder for non tunnel network port,MERGED,2020-07-10 10:26:11.000000000,2020-07-18 05:15:16.000000000,2020-07-18 05:13:51.000000000,"[{'_account_id': 4694}, {'_account_id': 19956}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 29071}]","[{'number': 1, 'created': '2020-07-10 10:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d1422b6dd724382bd1730fcc9f390cbe3be4a7e', 'message': ""Don't add arp responder for non tunnel network port\n\nWhen the vlan and vxlan both exist in env, and l2population\nand arp_responder are enabled, if we update a port's ip address\nfrom vlan network, there will be arp responder related flows\nadded into br-tun, this will cause too many arp reply for\none arp request, and vm connections will be unnormal.\n\nCloses-Bug: #1824504\nChange-Id: I1b6154b9433a9442d3e0118dedfa01c4a9b4740b\n(cherry picked from commit 5301ecf41b18e83abdc3c828cd64ce0111f9fcd1)\n""}, {'number': 2, 'created': '2020-07-13 23:53:09.000000000', 'files': ['neutron/plugins/ml2/drivers/l2pop/mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/514a18ee920f7d738abca2069a95c15baaed00fd', 'message': ""Don't add arp responder for non tunnel network port\n\nWhen the vlan and vxlan both exist in env, and l2population\nand arp_responder are enabled, if we update a port's ip address\nfrom vlan network, there will be arp responder related flows\nadded into br-tun, this will cause too many arp reply for\none arp request, and vm connections will be unnormal.\n\nCloses-Bug: #1824504\nChange-Id: I1b6154b9433a9442d3e0118dedfa01c4a9b4740b\n(cherry picked from commit 5301ecf41b18e83abdc3c828cd64ce0111f9fcd1)\n""}]",0,740437,514a18ee920f7d738abca2069a95c15baaed00fd,18,5,2,29071,,,0,"Don't add arp responder for non tunnel network port

When the vlan and vxlan both exist in env, and l2population
and arp_responder are enabled, if we update a port's ip address
from vlan network, there will be arp responder related flows
added into br-tun, this will cause too many arp reply for
one arp request, and vm connections will be unnormal.

Closes-Bug: #1824504
Change-Id: I1b6154b9433a9442d3e0118dedfa01c4a9b4740b
(cherry picked from commit 5301ecf41b18e83abdc3c828cd64ce0111f9fcd1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/740437/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/l2pop/mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py']",2,0d1422b6dd724382bd1730fcc9f390cbe3be4a7e,bug/1824504-stable/stein," def test_fixed_ips_changed_vlan(self): self._register_ml2_agents() with self.subnet(network=self._network2) as subnet: host_arg = {portbindings.HOST_ID: HOST} fixed_ips = [{'subnet_id': subnet['subnet']['id'], 'ip_address': '10.0.0.2'}] with self.port(subnet=subnet, cidr='10.0.0.0/24', device_owner=DEVICE_OWNER_COMPUTE, arg_list=(portbindings.HOST_ID,), fixed_ips=fixed_ips, **host_arg) as port: p = port['port'] device = 'tap' + p['id'] self.callbacks.update_device_up(self.adminContext, agent_id=HOST, device=device) data = {'port': {'fixed_ips': [{'ip_address': '10.0.0.2'}, {'ip_address': '10.0.0.10'}]}} self.new_update_request('ports', data, p['id']) l2pop_mech = l2pop_mech_driver.L2populationMechanismDriver() l2pop_mech.L2PopulationAgentNotify = mock.Mock() l2notify = l2pop_mech.L2PopulationAgentNotify l2notify.update_fdb_entries = mock.Mock() self.assertFalse(l2notify.update_fdb_entries.called) ",,36,0
openstack%2Fironic~master~Ief043a0a01a800ea2d01a602000f0854df9e629f,openstack/ironic,master,Ief043a0a01a800ea2d01a602000f0854df9e629f,"Ironic to use DevStack's neutron""-legacy"" module",MERGED,2020-07-15 15:42:53.000000000,2020-07-18 04:39:06.000000000,2020-07-18 03:17:02.000000000,"[{'_account_id': 6773}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-15 15:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3b39cfab2f30bd397afb858a18573000630355bb', 'message': 'DO NOT REVIEW: Test Ironic with DevStack\'s neutron-legacy plugin\n\ntl;dr: The neutron-legacy plugin will be un-deprecated and the ""new""\nmodule will be deleted. If it all works well, I will update this commit\nmessage with references and etc...\n\nChange-Id: Ief043a0a01a800ea2d01a602000f0854df9e629f\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-07-16 12:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/37c0084b5990bab640a8ab468eefc7c000e368d8', 'message': 'DO NOT REVIEW: Test Ironic with DevStack\'s neutron-legacy plugin\n\ntl;dr: The neutron-legacy plugin will be un-deprecated and the ""new""\nmodule will be deleted. If it all works well, I will update this commit\nmessage with references and etc...\n\nChange-Id: Ief043a0a01a800ea2d01a602000f0854df9e629f\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-07-16 14:45:56.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bec00bd85df994efbb3f234727bcaba357125b50', 'message': 'Ironic to use DevStack\'s neutron""-legacy"" module\n\nIn the last PTG the Neutron team discussed and decided to undeprecate\nthe neutron-legacy module in DevStack because that\'s the module being\nused (almost) everywhere and it works. The lib/neutron was an attempt\nto refactor the old module but, in the last few years it hasn\'t gained\nany traction and due to the lack of features and people to work on it,\nit\'s going to be removed from DevStack eventually.\n\nBelow is a snippet from the PTG summary email [0] about this topic:\n\n<snippet>\nIn Devstack there are currently 2 modules which can configure\nNeutron. Old one called ""lib/neutron-legacy"" and the new one called\n""lib/neutron"". It is like that since many cycles that ""lib/neutron-legacy""\nis deprecated. But it is still used everywhwere. New module isn\'t still\nfinished and isn\'t working fine.  This is very confusing for users as\nreally maintained and recommended is still ""lib/neutron-legacy"" module.\n\nDuring the discussion Sean Collins explained us that originally this\nnew module was created as an attempt to refactor old module, and to\nmake Neutron in the Devstack better to maintain. But now we see that\nthis process failed as new module isn\'t still used and we don\'t have\nany cycles to work on it. So our final conclusion is to ""undeprecate""\nold ""lib/neutron-legacy"" and get rid of the new module.\n</snippet>\n\nThis patch changes the Ironic jobs to use the old Neutron module in\nDevStack.\n\n[0]\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-June/015368.html\n[1]\nhttp://codesearch.openstack.org/?q=neutron-api%3A%20true&i=nope&files=&repos=\n\nChange-Id: Ief043a0a01a800ea2d01a602000f0854df9e629f\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,741256,bec00bd85df994efbb3f234727bcaba357125b50,33,7,3,6773,,,0,"Ironic to use DevStack's neutron""-legacy"" module

In the last PTG the Neutron team discussed and decided to undeprecate
the neutron-legacy module in DevStack because that's the module being
used (almost) everywhere and it works. The lib/neutron was an attempt
to refactor the old module but, in the last few years it hasn't gained
any traction and due to the lack of features and people to work on it,
it's going to be removed from DevStack eventually.

Below is a snippet from the PTG summary email [0] about this topic:

<snippet>
In Devstack there are currently 2 modules which can configure
Neutron. Old one called ""lib/neutron-legacy"" and the new one called
""lib/neutron"". It is like that since many cycles that ""lib/neutron-legacy""
is deprecated. But it is still used everywhwere. New module isn't still
finished and isn't working fine.  This is very confusing for users as
really maintained and recommended is still ""lib/neutron-legacy"" module.

During the discussion Sean Collins explained us that originally this
new module was created as an attempt to refactor old module, and to
make Neutron in the Devstack better to maintain. But now we see that
this process failed as new module isn't still used and we don't have
any cycles to work on it. So our final conclusion is to ""undeprecate""
old ""lib/neutron-legacy"" and get rid of the new module.
</snippet>

This patch changes the Ironic jobs to use the old Neutron module in
DevStack.

[0]
http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015368.html
[1]
http://codesearch.openstack.org/?q=neutron-api%3A%20true&i=nope&files=&repos=

Change-Id: Ief043a0a01a800ea2d01a602000f0854df9e629f
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/ironic refs/changes/56/741256/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,3b39cfab2f30bd397afb858a18573000630355bb,neutron-legacy, q-agt: true q-dhcp: true q-l3: true q-meta: true q-metering: true q-svc: true q-agt: True q-dhcp: True q-l3: True q-svc: True, q-agt: false q-dhcp: false q-l3: false q-meta: false q-metering: false q-svc: false neutron-api: true neutron-agent: true neutron-dhcp: true neutron-l3: true neutron-metadata-agent: true neutron-metering: true neutron-api: False neutron-agent: False neutron-dhcp: False neutron-l3: False neutron-metadata-agent: False neutron-metering: False neutron: True neutron-api: True neutron-agent: True neutron-dhcp: True neutron-l3: True neutron-metadata-agent: False neutron-metering: False q-agt: False q-dhcp: False q-l3: False q-svc: False,10,29
openstack%2Frequirements~master~I66b349a46d33095eef45e7288c1e79bfafeadea1,openstack/requirements,master,I66b349a46d33095eef45e7288c1e79bfafeadea1,update constraint for oslo.vmware to new release 3.5.0,MERGED,2020-07-17 14:06:11.000000000,2020-07-18 03:33:22.000000000,2020-07-18 03:30:44.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 14:06:11.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2cea050c119829530ec923a6ef1512c6c305fbc0', 'message': 'update constraint for oslo.vmware to new release 3.5.0\n\nChange-Id: I66b349a46d33095eef45e7288c1e79bfafeadea1\nmeta:version: 3.5.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I12855da61e2466a42bb81c18bcc9851e52eab536\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741647,2cea050c119829530ec923a6ef1512c6c305fbc0,10,3,1,11131,,,0,"update constraint for oslo.vmware to new release 3.5.0

Change-Id: I66b349a46d33095eef45e7288c1e79bfafeadea1
meta:version: 3.5.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: I12855da61e2466a42bb81c18bcc9851e52eab536
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/47/741647/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2cea050c119829530ec923a6ef1512c6c305fbc0,new-release,oslo.vmware===3.5.0,oslo.vmware===3.4.0,1,1
openstack%2Fneutron~stable%2Ftrain~I7cbb0e87a7e87f23ccf5d8750835b4785693473a,openstack/neutron,stable/train,I7cbb0e87a7e87f23ccf5d8750835b4785693473a,Optionally use admin powers when deleting DNS records,MERGED,2020-07-13 11:31:50.000000000,2020-07-18 03:32:22.000000000,2020-07-18 03:30:31.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 13252}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 11:31:50.000000000', 'files': ['releasenotes/notes/bug-1875981-ec32d8c3918b0dd4.yaml', 'neutron/services/externaldns/drivers/designate/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b47a2684b7ab611f7e7ba3ff31f8a82cffe66724', 'message': 'Optionally use admin powers when deleting DNS records\n\nThis resolves a bug that causes stale records to be kept in place when\nan admin deletes a port, server or floating IP that was created in some\nproject other than the admin project.\n\nChange-Id: I7cbb0e87a7e87f23ccf5d8750835b4785693473a\nCloses-Bug: #1875981\n(cherry picked from commit 622714b63e08feaba4e81d218541319d2ffada30)\n'}]",0,740676,b47a2684b7ab611f7e7ba3ff31f8a82cffe66724,19,5,1,13252,,,0,"Optionally use admin powers when deleting DNS records

This resolves a bug that causes stale records to be kept in place when
an admin deletes a port, server or floating IP that was created in some
project other than the admin project.

Change-Id: I7cbb0e87a7e87f23ccf5d8750835b4785693473a
Closes-Bug: #1875981
(cherry picked from commit 622714b63e08feaba4e81d218541319d2ffada30)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/740676/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1875981-ec32d8c3918b0dd4.yaml', 'neutron/services/externaldns/drivers/designate/driver.py']",2,b47a2684b7ab611f7e7ba3ff31f8a82cffe66724,bug/1875981-stable/ussuri-stable/train,"def get_all_projects_client(context): auth = token_endpoint.Token(CONF.designate.url, context.auth_token) return d_client.Client(session=_SESSION, auth=auth, all_projects=True) client, admin_client = get_clients(context) try: ids_to_delete = self._get_ids_ips_to_delete( dns_domain, '%s.%s' % (dns_name, dns_domain), records, client) except dns_exc.DNSDomainNotFound: # Try whether we have admin powers and can see all projects client = get_all_projects_client(context) ids_to_delete = self._get_ids_ips_to_delete( dns_domain, '%s.%s' % (dns_name, dns_domain), records, client) for _id in ids_to_delete: client.recordsets.delete(dns_domain, _id) admin_client.recordsets.delete(in_addr_zone_name, in_addr_name)"," designate, designate_admin = get_clients(context) ids_to_delete = self._get_ids_ips_to_delete( dns_domain, '%s.%s' % (dns_name, dns_domain), records, designate) for _id in ids_to_delete: designate.recordsets.delete(dns_domain, _id) designate_admin.recordsets.delete(in_addr_zone_name, in_addr_name)",23,5
openstack%2Fglance~stable%2Ftrain~I789fa7adfb459e7861c90a51f418a635c0c22244,openstack/glance,stable/train,I789fa7adfb459e7861c90a51f418a635c0c22244,Improve lazy loading mechanism for multiple stores,MERGED,2020-07-15 05:19:13.000000000,2020-07-18 03:32:16.000000000,2020-07-18 03:30:34.000000000,"[{'_account_id': 5202}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 05:19:13.000000000', 'files': ['glance/tests/unit/common/test_utils.py', 'glance/api/authorization.py', 'glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/common/store_utils.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/baf6b5ebf05ce7a2fb012f4a90cf34c61059d97a', 'message': ""Improve lazy loading mechanism for multiple stores\n\nGlance has a facility lazy loading for legacy images which will be called\non get/list api calls to add store information in image's location metadata\nbased on location URL of image. Even if admin decides to change the store\nnames in glance-api.conf same will also be updated in location metadata\nfor all images related to that particular store. Current implementation of\nlegacy image performs this operation on each get/list call as location metadata\nis not getting updated in database or it doesn't handle to perform store name\ncheck in glance-api.conf.\n\nImprovements done:\n1. Save updated location metadata information in database permenantly\n2. Add logic to perform lazy loading only if store information is not present\nin location metadata or store present in location metadata is not defined in\nglance's enbaled_backends configuration option.\n\nChange-Id: I789fa7adfb459e7861c90a51f418a635c0c22244\nCloses-Bug: #1886374\n(cherry picked from commit ab0e5268a9c2614572659d763b3c0b6fc36dd0cf)\n(cherry picked from commit 9a104acbae328788451442f71aefbc5c20a98f3c)\n""}]",0,741086,baf6b5ebf05ce7a2fb012f4a90cf34c61059d97a,9,3,1,9303,,,0,"Improve lazy loading mechanism for multiple stores

Glance has a facility lazy loading for legacy images which will be called
on get/list api calls to add store information in image's location metadata
based on location URL of image. Even if admin decides to change the store
names in glance-api.conf same will also be updated in location metadata
for all images related to that particular store. Current implementation of
legacy image performs this operation on each get/list call as location metadata
is not getting updated in database or it doesn't handle to perform store name
check in glance-api.conf.

Improvements done:
1. Save updated location metadata information in database permenantly
2. Add logic to perform lazy loading only if store information is not present
in location metadata or store present in location metadata is not defined in
glance's enbaled_backends configuration option.

Change-Id: I789fa7adfb459e7861c90a51f418a635c0c22244
Closes-Bug: #1886374
(cherry picked from commit ab0e5268a9c2614572659d763b3c0b6fc36dd0cf)
(cherry picked from commit 9a104acbae328788451442f71aefbc5c20a98f3c)
",git fetch https://review.opendev.org/openstack/glance refs/changes/86/741086/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/common/test_utils.py', 'glance/api/authorization.py', 'glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py', 'glance/common/store_utils.py']",5,baf6b5ebf05ce7a2fb012f4a90cf34c61059d97a,bug/1886374-stable/ussuri-stable/train,"def update_store_in_locations(image, image_repo): for loc in image.locations: if (not loc['metadata'].get( 'store') or loc['metadata'].get( 'store') not in CONF.enabled_backends): store_id = _get_store_id_from_uri(loc['url']) if store_id: if 'store' in loc['metadata']: old_store = loc['metadata']['store'] if old_store != store_id: LOG.debug(""Store '%(old)s' has changed to "" ""'%(new)s' by operator, updating "" ""the same in the location of image "" ""'%(id)s'"", {'old': old_store, 'new': store_id, 'id': image.image_id}) loc['metadata']['store'] = store_id image_repo.save(image) def get_updated_store_location(locations): return locations ","def update_store_in_locations(locations, image_id): if 'store' in loc['metadata']: old_store = loc['metadata']['store'] if old_store != store_id: LOG.debug(""Store '%(old)s' has changed to "" ""'%(new)s' by operator, updating "" ""the same in the location of image "" ""'%(id)s'"", {'old': old_store, 'new': store_id, 'id': image_id}) ",78,28
openstack%2Frequirements~master~I94e44017ace431d90d57fc51e82abbe5232cd7cd,openstack/requirements,master,I94e44017ace431d90d57fc51e82abbe5232cd7cd,update constraint for castellan to new release 3.4.0,MERGED,2020-07-17 13:52:25.000000000,2020-07-18 03:32:12.000000000,2020-07-18 03:30:35.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 13:52:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/378903a03fac582f13c2d2a9e89aa26beda98f13', 'message': 'update constraint for castellan to new release 3.4.0\n\nChange-Id: I94e44017ace431d90d57fc51e82abbe5232cd7cd\nmeta:version: 3.4.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I12855da61e2466a42bb81c18bcc9851e52eab536\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741640,378903a03fac582f13c2d2a9e89aa26beda98f13,10,3,1,11131,,,0,"update constraint for castellan to new release 3.4.0

Change-Id: I94e44017ace431d90d57fc51e82abbe5232cd7cd
meta:version: 3.4.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: I12855da61e2466a42bb81c18bcc9851e52eab536
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/40/741640/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,378903a03fac582f13c2d2a9e89aa26beda98f13,new-release,castellan===3.4.0,castellan===3.3.0,1,1
openstack%2Fglance~master~Icf3aded7975d99dbc01b9378905f5e9dece07f04,openstack/glance,master,Icf3aded7975d99dbc01b9378905f5e9dece07f04,"Remove unused ""copy_from"" policy rule",MERGED,2020-07-15 20:02:53.000000000,2020-07-18 03:32:07.000000000,2020-07-18 03:30:47.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 20:02:53.000000000', 'files': ['glance/policies/image.py', 'glance/tests/etc/policy.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/363a78ddfb15ac07ad7d712dddbc7e7cda734973', 'message': 'Remove unused ""copy_from"" policy rule\n\nThis rule was only used in v1, which is now gone. Remove this to avoid\nconfusion over the difference between it and ""copy_image"" (and of course,\nconfusion over it doing anything at all).\n\nLoosely related to blueprint copy-unowned-image\n\nChange-Id: Icf3aded7975d99dbc01b9378905f5e9dece07f04\n'}]",0,741312,363a78ddfb15ac07ad7d712dddbc7e7cda734973,15,5,1,4393,,,0,"Remove unused ""copy_from"" policy rule

This rule was only used in v1, which is now gone. Remove this to avoid
confusion over the difference between it and ""copy_image"" (and of course,
confusion over it doing anything at all).

Loosely related to blueprint copy-unowned-image

Change-Id: Icf3aded7975d99dbc01b9378905f5e9dece07f04
",git fetch https://review.opendev.org/openstack/glance refs/changes/12/741312/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/policies/image.py', 'glance/tests/etc/policy.json']",2,363a78ddfb15ac07ad7d712dddbc7e7cda734973,bp/copy-unowned-image,," ""copy_from"": """",",0,2
openstack%2Frequirements~master~I2ee8470d6f8bacee3a3adbb2449c10ea8e80c475,openstack/requirements,master,I2ee8470d6f8bacee3a3adbb2449c10ea8e80c475,update constraint for stevedore to new release 3.2.0,MERGED,2020-07-17 13:57:38.000000000,2020-07-18 03:30:42.000000000,2020-07-18 03:30:42.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 13:57:38.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/90680158354e61b702ceef0e7065068c5c570cb0', 'message': 'update constraint for stevedore to new release 3.2.0\n\nChange-Id: I2ee8470d6f8bacee3a3adbb2449c10ea8e80c475\nmeta:version: 3.2.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I12855da61e2466a42bb81c18bcc9851e52eab536\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741645,90680158354e61b702ceef0e7065068c5c570cb0,9,3,1,11131,,,0,"update constraint for stevedore to new release 3.2.0

Change-Id: I2ee8470d6f8bacee3a3adbb2449c10ea8e80c475
meta:version: 3.2.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: I12855da61e2466a42bb81c18bcc9851e52eab536
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/45/741645/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,90680158354e61b702ceef0e7065068c5c570cb0,new-release,stevedore===3.2.0,stevedore===3.1.0,1,1
openstack%2Frequirements~master~I472bfdf28083abe9a69c4742d33d427cda2faf60,openstack/requirements,master,I472bfdf28083abe9a69c4742d33d427cda2faf60,update constraint for oslo.policy to new release 3.3.1,MERGED,2020-07-17 13:57:10.000000000,2020-07-18 03:30:39.000000000,2020-07-18 03:30:38.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 13:57:10.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/244fb54bff73a99faccfe9350dc00b6f65eda5e9', 'message': 'update constraint for oslo.policy to new release 3.3.1\n\nChange-Id: I472bfdf28083abe9a69c4742d33d427cda2faf60\nmeta:version: 3.3.1\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I12855da61e2466a42bb81c18bcc9851e52eab536\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741643,244fb54bff73a99faccfe9350dc00b6f65eda5e9,9,3,1,11131,,,0,"update constraint for oslo.policy to new release 3.3.1

Change-Id: I472bfdf28083abe9a69c4742d33d427cda2faf60
meta:version: 3.3.1
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: I12855da61e2466a42bb81c18bcc9851e52eab536
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/43/741643/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,244fb54bff73a99faccfe9350dc00b6f65eda5e9,new-release,oslo.policy===3.3.1,oslo.policy===3.3.0,1,1
openstack%2Frequirements~master~I7456387ff9b1870d46957d88000aa1bb736524d9,openstack/requirements,master,I7456387ff9b1870d46957d88000aa1bb736524d9,update constraint for oslo.db to new release 8.3.0,MERGED,2020-07-17 13:54:48.000000000,2020-07-18 03:30:37.000000000,2020-07-18 03:30:36.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 13:54:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ec584af31f0ce6efb496cd9b1b1e54ea3eede73f', 'message': 'update constraint for oslo.db to new release 8.3.0\n\nChange-Id: I7456387ff9b1870d46957d88000aa1bb736524d9\nmeta:version: 8.3.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I12855da61e2466a42bb81c18bcc9851e52eab536\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741641,ec584af31f0ce6efb496cd9b1b1e54ea3eede73f,9,3,1,11131,,,0,"update constraint for oslo.db to new release 8.3.0

Change-Id: I7456387ff9b1870d46957d88000aa1bb736524d9
meta:version: 8.3.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: I12855da61e2466a42bb81c18bcc9851e52eab536
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/41/741641/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ec584af31f0ce6efb496cd9b1b1e54ea3eede73f,new-release,oslo.db===8.3.0,oslo.db===8.2.1,1,1
openstack%2Fswift-bench~master~I46c196c389f9425c398506a4abe4dd0abed7ade9,openstack/swift-bench,master,I46c196c389f9425c398506a4abe4dd0abed7ade9,py3: Fix sigint handler,MERGED,2020-07-14 20:05:22.000000000,2020-07-18 03:30:22.000000000,2020-07-18 00:03:48.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 20:05:22.000000000', 'files': ['swiftbench/bench.py'], 'web_link': 'https://opendev.org/openstack/swift-bench/commit/4539128ffcbc7459b4a6a759b9654edf5312b4e3', 'message': 'py3: Fix sigint handler\n\nChange-Id: I46c196c389f9425c398506a4abe4dd0abed7ade9\n'}]",0,741041,4539128ffcbc7459b4a6a759b9654edf5312b4e3,7,2,1,15343,,,0,"py3: Fix sigint handler

Change-Id: I46c196c389f9425c398506a4abe4dd0abed7ade9
",git fetch https://review.opendev.org/openstack/swift-bench refs/changes/41/741041/1 && git format-patch -1 --stdout FETCH_HEAD,['swiftbench/bench.py'],1,4539128ffcbc7459b4a6a759b9654edf5312b4e3,," print( 'Send one more SIGINT to exit *immediately*.', file=sys.stderr)"," print >>sys.stderr, ( 'Send one more SIGINT to exit *immediately*.')",3,2
openstack%2Foctavia~stable%2Ftrain~I2cf241ea965ad56ed70ebde83632ab855f5d859e,openstack/octavia,stable/train,I2cf241ea965ad56ed70ebde83632ab855f5d859e,Use retry for AmphoraComputeConnectivityWait,MERGED,2020-07-07 14:10:57.000000000,2020-07-18 02:45:42.000000000,2020-07-18 02:44:06.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 14:10:57.000000000', 'files': ['octavia/amphorae/driver_exceptions/exceptions.py', 'octavia/common/constants.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/controller/queue/v2/test_endpoints.py', 'octavia/controller/queue/v2/endpoints.py', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/amphorae/drivers/driver_base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/dad1357ebfa5600844b15a22a3d10f82a2d1ddbf', 'message': 'Use retry for AmphoraComputeConnectivityWait\n\nUse taskflow retry for connectivity wait. [1]\n\nThis reqired for redis jobboard implementation as each retry expand\nclaim for job on worker. This means that worker is proccesing job and\nit should not be released for other workers to work on it.\n\nAdopted for v2 flows.\n\n[1] - https://docs.openstack.org/taskflow/latest/user/atoms.html#retry\n\nStory: 2005072\nTask: 33477\n\nChange-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e\n(cherry picked from commit 314b43af9a57a698a66d46c11892380bff315166)\n'}]",0,739771,dad1357ebfa5600844b15a22a3d10f82a2d1ddbf,14,5,1,6469,,,0,"Use retry for AmphoraComputeConnectivityWait

Use taskflow retry for connectivity wait. [1]

This reqired for redis jobboard implementation as each retry expand
claim for job on worker. This means that worker is proccesing job and
it should not be released for other workers to work on it.

Adopted for v2 flows.

[1] - https://docs.openstack.org/taskflow/latest/user/atoms.html#retry

Story: 2005072
Task: 33477

Change-Id: I2cf241ea965ad56ed70ebde83632ab855f5d859e
(cherry picked from commit 314b43af9a57a698a66d46c11892380bff315166)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/71/739771/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/driver_exceptions/exceptions.py', 'octavia/common/constants.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/controller/queue/v2/test_endpoints.py', 'octavia/controller/queue/v2/endpoints.py', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/amphorae/drivers/noop_driver/driver.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'octavia/amphorae/drivers/driver_base.py']",10,dad1357ebfa5600844b15a22a3d10f82a2d1ddbf,failover-refactor," def get_info(self, amphora, raise_retry_exception=False): :param raise_retry_exception: Flag if outside task should be retried :type boolean: False by default"," def get_info(self, amphora):",86,37
openstack%2Fpython-tripleoclient~stable%2Fussuri~I838e6748879c668dd004ca2243b7b00b857c2a7b,openstack/python-tripleoclient,stable/ussuri,I838e6748879c668dd004ca2243b7b00b857c2a7b,"Add ""yes"" prompt for update/upgrades commands",MERGED,2020-07-17 15:26:56.000000000,2020-07-18 02:06:51.000000000,2020-07-18 02:05:19.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-17 15:26:56.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'releasenotes/notes/upgrade_update_prompt-f6ace53f02b62fa0.yaml', 'tripleoclient/exceptions.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/v1/overcloud_external_update.py', 'tripleoclient/v1/overcloud_external_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/106b694460257f1c6acfefc1e0a92ad01c851407', 'message': 'Add ""yes"" prompt for update/upgrades commands\n\nUpdate/Upgrade commands have now a prompt by default that ask for\nconfirmation before proceeding. It\'ll prevent an user to run the\ncommand that may cause the problems to infrastructure.\nThis prompt can be skipped with --yes/-y argument.\n\nNote: putting ""UPDATE"" and ""UPGRADE"" in uppercase to make sure this is\nvisible and clear. We have seen many users running the wrong command and\nending up doing an upgrade instead of an update.\n\nNote2: this prompt will be ported to the upgrade and FFWD workflows to\nprevent unexpected execution to prevent potential harm to\ninfrastructures.\n\nDepends-On: https://review.opendev.org/741657\nChange-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b\n(cherry picked from commit 7a044ca2517d26ea4ea763cc76d373ad4b39f7f9)\n'}]",0,741659,106b694460257f1c6acfefc1e0a92ad01c851407,9,6,1,11090,,,0,"Add ""yes"" prompt for update/upgrades commands

Update/Upgrade commands have now a prompt by default that ask for
confirmation before proceeding. It'll prevent an user to run the
command that may cause the problems to infrastructure.
This prompt can be skipped with --yes/-y argument.

Note: putting ""UPDATE"" and ""UPGRADE"" in uppercase to make sure this is
visible and clear. We have seen many users running the wrong command and
ending up doing an upgrade instead of an update.

Note2: this prompt will be ported to the upgrade and FFWD workflows to
prevent unexpected execution to prevent potential harm to
infrastructures.

Depends-On: https://review.opendev.org/741657
Change-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b
(cherry picked from commit 7a044ca2517d26ea4ea763cc76d373ad4b39f7f9)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/59/741659/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'releasenotes/notes/upgrade_update_prompt-f6ace53f02b62fa0.yaml', 'tripleoclient/exceptions.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/v1/overcloud_external_update.py', 'tripleoclient/v1/overcloud_external_upgrade.py']",9,106b694460257f1c6acfefc1e0a92ad01c851407,yes_prompt-stable/ussuri,"from tripleoclient.exceptions import OvercloudUpgradeNotConfirmed parser.add_argument('-y', '--yes', default=False, action='store_true', help=_(""Use -y or --yes to skip the confirmation "" ""required before any upgrade "" ""operation. Use this with caution! ""), ) if (not parsed_args.yes and not oooutils.prompt_user_for_confirmation( constants.UPGRADE_PROMPT, self.log)): raise OvercloudUpgradeNotConfirmed(constants.UPGRADE_NO) ",,150,14
openstack%2Ftripleo-upgrade~stable%2Ftrain~I22a998e0cf3b04ef51a51478fc6576324a931dcb,openstack/tripleo-upgrade,stable/train,I22a998e0cf3b04ef51a51478fc6576324a931dcb,Fix --yes evaluation from the help CLI,MERGED,2020-07-17 15:25:58.000000000,2020-07-18 02:05:21.000000000,2020-07-18 02:05:20.000000000,"[{'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 15:25:58.000000000', 'files': ['templates/overcloud_update_converge.sh.j2', 'templates/fast-forward-upgrade/overcloud_upgrade_role.sh.j2', 'templates/overcloud_update_prepare.sh.j2', 'templates/overcloud_system_upgrade.sh.j2', 'templates/overcloud_update_run.sh.j2', 'templates/ceph-update-run.sh.j2', 'templates/overcloud_upgrade_run.sh.j2', 'templates/overcloud_upgrade_prepare.sh.j2', 'templates/ceph-upgrade-run.sh.j2', 'templates/undercloud_upgrade.sh.j2', 'templates/overcloud_prepare_containers.sh.j2', 'templates/overcloud_online_data_migration.sh.j2', 'templates/overcloud_upgrade_converge.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0311467f55982bc483a117e026d423eadebd28ff', 'message': 'Fix --yes evaluation from the help CLI\n\nSometimes, CLI may return error earlier than grep catches up\nits query results. With bash pipefail set, this ends up with grep --yes\nomitted and the wrong command executed (without --yes).\n\nSet pipefail only after the --yes argument evaluated by grep.\n\nChange-Id: I22a998e0cf3b04ef51a51478fc6576324a931dcb\nCo-Authored-By: Sergii Golovatouk <sgolovat@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 9ceca92d206bf5e71c3715005b44480c25c11706)\n'}]",0,741658,0311467f55982bc483a117e026d423eadebd28ff,9,4,1,11090,,,0,"Fix --yes evaluation from the help CLI

Sometimes, CLI may return error earlier than grep catches up
its query results. With bash pipefail set, this ends up with grep --yes
omitted and the wrong command executed (without --yes).

Set pipefail only after the --yes argument evaluated by grep.

Change-Id: I22a998e0cf3b04ef51a51478fc6576324a931dcb
Co-Authored-By: Sergii Golovatouk <sgolovat@redhat.com>
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 9ceca92d206bf5e71c3715005b44480c25c11706)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/58/741658/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/overcloud_update_converge.sh.j2', 'templates/fast-forward-upgrade/overcloud_upgrade_role.sh.j2', 'templates/overcloud_update_prepare.sh.j2', 'templates/overcloud_system_upgrade.sh.j2', 'templates/overcloud_update_run.sh.j2', 'templates/ceph-update-run.sh.j2', 'templates/overcloud_upgrade_run.sh.j2', 'templates/overcloud_upgrade_prepare.sh.j2', 'templates/ceph-upgrade-run.sh.j2', 'templates/undercloud_upgrade.sh.j2', 'templates/overcloud_prepare_containers.sh.j2', 'templates/overcloud_online_data_migration.sh.j2', 'templates/overcloud_upgrade_converge.sh.j2']",13,0311467f55982bc483a117e026d423eadebd28ff,,set -euset -o pipefail,set -euo pipefail,28,12
openstack%2Ftripleo-validations~stable%2Ftrain~I16e7eb081640332ac69ee0b32d3d871fab40d447,openstack/tripleo-validations,stable/train,I16e7eb081640332ac69ee0b32d3d871fab40d447,Make Get OSD stat percentage compatible with both Luminous and Nautilus,MERGED,2020-07-16 10:35:40.000000000,2020-07-18 02:05:21.000000000,2020-07-18 02:05:21.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 11166}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 26343}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-16 10:35:40.000000000', 'files': ['roles/ceph/tasks/ceph-health.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/02664d11456311f7c80a43eb9f8a9b8f01bb307d', 'message': 'Make Get OSD stat percentage compatible with both Luminous and Nautilus\n\nOn upgrade we might be using the newer validations against a Luminous\ncluster, hence the check needs to work in both cases.\n\nChange-Id: I16e7eb081640332ac69ee0b32d3d871fab40d447\nRelated-Bug: 1882387\n(cherry picked from commit 35821c44dfe448ae6a381ee873e3945ab899e431)\n'}]",0,741427,02664d11456311f7c80a43eb9f8a9b8f01bb307d,17,10,1,25402,,,0,"Make Get OSD stat percentage compatible with both Luminous and Nautilus

On upgrade we might be using the newer validations against a Luminous
cluster, hence the check needs to work in both cases.

Change-Id: I16e7eb081640332ac69ee0b32d3d871fab40d447
Related-Bug: 1882387
(cherry picked from commit 35821c44dfe448ae6a381ee873e3945ab899e431)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/27/741427/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ceph/tasks/ceph-health.yaml'],1,02664d11456311f7c80a43eb9f8a9b8f01bb307d,, jq_osd_percentage_filter: '( (try .osdmap.num_in_osds + try .num_in_osds) / (try .osdmap.num_osds + try .num_osds)) * 100', jq_osd_percentage_filter: '( (.osdmap.num_in_osds) / (.osdmap.num_osds) ) * 100',1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~Ibb91dfa9684b481dea34607fc47c0d531d56ee45,openstack/tripleo-ansible,stable/train,Ibb91dfa9684b481dea34607fc47c0d531d56ee45,Make buildah login optional,MERGED,2020-07-16 04:28:48.000000000,2020-07-18 01:56:57.000000000,2020-07-18 01:56:57.000000000,"[{'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-16 04:28:48.000000000', 'files': ['tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_login.yml', 'tripleo_ansible/roles/tripleo-podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo-podman/molecule/login/playbook.yml', 'tripleo_ansible/roles/tripleo-podman/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-podman/tasks/main.yml', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_buildah_login.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ad0403ceb39f86f0679957f99cd1003978b0db74', 'message': ""Make buildah login optional\n\nBuildah login is not needed always, it's needed\nwhen pushing to container registeries, so make it\noptional by role var tripleo_podman_buildah_login set\nto false by default.\n\nConflicts:\n  tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_login.yml\n  tripleo_ansible/roles/tripleo_podman/defaults/main.yml\n\nRelated-Bug: #1886555\nChange-Id: Ibb91dfa9684b481dea34607fc47c0d531d56ee45\n(cherry picked from commit 0d9effda372c034bafeaec9fca89c3af521c58bd)\n(cherry picked from commit c49c6ffbfc6f7cfbc0bfe25e27708c7734404e53)\n""}]",0,741369,ad0403ceb39f86f0679957f99cd1003978b0db74,16,4,1,13861,,,0,"Make buildah login optional

Buildah login is not needed always, it's needed
when pushing to container registeries, so make it
optional by role var tripleo_podman_buildah_login set
to false by default.

Conflicts:
  tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_login.yml
  tripleo_ansible/roles/tripleo_podman/defaults/main.yml

Related-Bug: #1886555
Change-Id: Ibb91dfa9684b481dea34607fc47c0d531d56ee45
(cherry picked from commit 0d9effda372c034bafeaec9fca89c3af521c58bd)
(cherry picked from commit c49c6ffbfc6f7cfbc0bfe25e27708c7734404e53)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/69/741369/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_login.yml', 'tripleo_ansible/roles/tripleo-podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo-podman/molecule/login/playbook.yml', 'tripleo_ansible/roles/tripleo-podman/vars/redhat.yml', 'tripleo_ansible/roles/tripleo-podman/tasks/main.yml', 'tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_buildah_login.yml']",6,ad0403ceb39f86f0679957f99cd1003978b0db74,bug/1886555,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: ensure buildah is installed become: true package: name: ""buildah"" state: latest - name: Perform container registry login(s) with buildah become: true shell: |- buildah login --username=$REGISTRY_USERNAME \ --password=$REGISTRY_PASSWORD \ --tls-verify={{ tripleo_podman_tls_verify }} \ $REGISTRY environment: REGISTRY_USERNAME: ""{{ lookup('dict', item.value).key }}"" REGISTRY_PASSWORD: ""{{ lookup('dict', item.value).value }}"" REGISTRY: ""{{ item.key }}"" no_log: ""{{ not tripleo_podman_debug|bool }}"" loop: ""{{ query('dict', tripleo_container_registry_logins) }}"" register: registry_login_buildah ",,49,16
openstack%2Ftripleo-upgrade~stable%2Fussuri~I22a998e0cf3b04ef51a51478fc6576324a931dcb,openstack/tripleo-upgrade,stable/ussuri,I22a998e0cf3b04ef51a51478fc6576324a931dcb,Fix --yes evaluation from the help CLI,MERGED,2020-07-17 15:24:47.000000000,2020-07-18 01:55:43.000000000,2020-07-18 01:55:43.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 15:24:47.000000000', 'files': ['templates/overcloud_update_converge.sh.j2', 'templates/fast-forward-upgrade/overcloud_upgrade_role.sh.j2', 'templates/overcloud_update_prepare.sh.j2', 'templates/overcloud_system_upgrade.sh.j2', 'templates/overcloud_update_run.sh.j2', 'templates/ceph-update-run.sh.j2', 'templates/overcloud_upgrade_run.sh.j2', 'templates/overcloud_upgrade_prepare.sh.j2', 'templates/ceph-upgrade-run.sh.j2', 'templates/undercloud_upgrade.sh.j2', 'templates/overcloud_prepare_containers.sh.j2', 'templates/overcloud_online_data_migration.sh.j2', 'templates/overcloud_upgrade_converge.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7cfb7f7302d861849229f7d9353f4ca1929f4690', 'message': 'Fix --yes evaluation from the help CLI\n\nSometimes, CLI may return error earlier than grep catches up\nits query results. With bash pipefail set, this ends up with grep --yes\nomitted and the wrong command executed (without --yes).\n\nSet pipefail only after the --yes argument evaluated by grep.\n\nChange-Id: I22a998e0cf3b04ef51a51478fc6576324a931dcb\nCo-Authored-By: Sergii Golovatouk <sgolovat@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 9ceca92d206bf5e71c3715005b44480c25c11706)\n'}]",0,741657,7cfb7f7302d861849229f7d9353f4ca1929f4690,9,6,1,11090,,,0,"Fix --yes evaluation from the help CLI

Sometimes, CLI may return error earlier than grep catches up
its query results. With bash pipefail set, this ends up with grep --yes
omitted and the wrong command executed (without --yes).

Set pipefail only after the --yes argument evaluated by grep.

Change-Id: I22a998e0cf3b04ef51a51478fc6576324a931dcb
Co-Authored-By: Sergii Golovatouk <sgolovat@redhat.com>
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 9ceca92d206bf5e71c3715005b44480c25c11706)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/57/741657/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/overcloud_update_converge.sh.j2', 'templates/fast-forward-upgrade/overcloud_upgrade_role.sh.j2', 'templates/overcloud_update_prepare.sh.j2', 'templates/overcloud_system_upgrade.sh.j2', 'templates/overcloud_update_run.sh.j2', 'templates/ceph-update-run.sh.j2', 'templates/overcloud_upgrade_run.sh.j2', 'templates/overcloud_upgrade_prepare.sh.j2', 'templates/ceph-upgrade-run.sh.j2', 'templates/undercloud_upgrade.sh.j2', 'templates/overcloud_prepare_containers.sh.j2', 'templates/overcloud_online_data_migration.sh.j2', 'templates/overcloud_upgrade_converge.sh.j2']",13,7cfb7f7302d861849229f7d9353f4ca1929f4690,,set -euset -o pipefail,set -euo pipefail,28,12
openstack%2Fnova~stable%2Frocky~I4afaa0808b75cc31a8dd14663912c162281a1a42,openstack/nova,stable/rocky,I4afaa0808b75cc31a8dd14663912c162281a1a42,Check cherry-pick hashes in pep8 tox target,MERGED,2020-07-16 16:32:46.000000000,2020-07-18 01:52:28.000000000,2020-07-18 01:50:46.000000000,"[{'_account_id': 4393}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-16 16:32:46.000000000', 'files': ['tox.ini', 'tools/check-cherry-picks.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/f1ab10b8252bab4123c55a9fc10583710f347cef', 'message': ""Check cherry-pick hashes in pep8 tox target\n\nNOTE(elod.illes): This is a combination of 2 commits: the cherry-pick\nhash checker script and a fix for the script.\n\n1. Check cherry-pick hashes in pep8 tox target\n\nThis adds a tools/ script that checks any cherry-picked hashes\non the current commit (or a provided commit) to make sure that\nall the hashes exist on at least master or stable/.* branches.\nThis should help avoid accidentally merging stable backports\nwhere one of the hashes along the line has changed due to conflicts.\n\n2. Fix cherry-pick check for merge patch\n\nCherry-pick check script validates the proposed patch's commit message.\nIf a patch is not on top of the given branch then Zuul rebases it to\nthe top and the patch becomes a merge patch. In this case the script\nvalidates the merge patch's commit message instead of the original\npatch's commit message and fails.\n\nThis fix selects the parent of the patch if it is a merge patch.\n\n(cherry picked from commit c7c48c6f52c9159767b60a4576ba37726156a5f7)\n(cherry picked from commit 02f213b831d8e1d4a1d8ebb18d1260571fe20b84)\n(cherry picked from commit 7a5111ba2943014b6fd53a5fe7adcd9bc445315e)\n\nChange-Id: I4afaa0808b75cc31a8dd14663912c162281a1a42\n(cherry picked from commit aebc829c4e0d39a160eaaa5ad949c1256c8179e6)\n(cherry picked from commit 5cacfaab82853241022d3a2a0734f82dae59a34b)\n(cherry picked from commit d307b964ce380f2fa57debc6c4c8346ac8736afe)\n(cherry picked from commit c3dd9f86f13a86c901443054de5ad3ab57953901)\n""}]",0,741492,f1ab10b8252bab4123c55a9fc10583710f347cef,10,4,1,17685,,,0,"Check cherry-pick hashes in pep8 tox target

NOTE(elod.illes): This is a combination of 2 commits: the cherry-pick
hash checker script and a fix for the script.

1. Check cherry-pick hashes in pep8 tox target

This adds a tools/ script that checks any cherry-picked hashes
on the current commit (or a provided commit) to make sure that
all the hashes exist on at least master or stable/.* branches.
This should help avoid accidentally merging stable backports
where one of the hashes along the line has changed due to conflicts.

2. Fix cherry-pick check for merge patch

Cherry-pick check script validates the proposed patch's commit message.
If a patch is not on top of the given branch then Zuul rebases it to
the top and the patch becomes a merge patch. In this case the script
validates the merge patch's commit message instead of the original
patch's commit message and fails.

This fix selects the parent of the patch if it is a merge patch.

(cherry picked from commit c7c48c6f52c9159767b60a4576ba37726156a5f7)
(cherry picked from commit 02f213b831d8e1d4a1d8ebb18d1260571fe20b84)
(cherry picked from commit 7a5111ba2943014b6fd53a5fe7adcd9bc445315e)

Change-Id: I4afaa0808b75cc31a8dd14663912c162281a1a42
(cherry picked from commit aebc829c4e0d39a160eaaa5ad949c1256c8179e6)
(cherry picked from commit 5cacfaab82853241022d3a2a0734f82dae59a34b)
(cherry picked from commit d307b964ce380f2fa57debc6c4c8346ac8736afe)
(cherry picked from commit c3dd9f86f13a86c901443054de5ad3ab57953901)
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/741492/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'tools/check-cherry-picks.sh']",2,f1ab10b8252bab4123c55a9fc10583710f347cef,backport-hash-check,"#!/bin/sh # # A tool to check the cherry-pick hashes from the current git commit message # to verify that they're all on either master or stable/ branches # commit_hash="""" # Check if the patch is a merge patch by counting the number of parents. # If the patch has 2 parents, then the 2nd parent is the patch we want # to validate. parent_number=$(git show --format='%P' --quiet | awk '{print NF}') if [ $parent_number -eq 2 ]; then commit_hash=$(git show --format='%P' --quiet | awk '{print $NF}') fi hashes=$(git show --format='%b' --quiet $commit_hash | sed -nr 's/^.cherry picked from commit (.*).$/\1/p') checked=0 branches+="""" for hash in $hashes; do branch=$(git branch -a --contains ""$hash"" 2>/dev/null| grep -oE '(master|stable/[a-z]+)') if [ $? -ne 0 ]; then echo ""Cherry pick hash $hash not on any master or stable branches"" exit 1 fi branches+="" $branch"" checked=$(($checked + 1)) done if [ $checked -eq 0 ]; then if ! grep -q '^defaultbranch=stable/' .gitreview; then echo ""Checked $checked cherry-pick hashes: OK"" exit 0 else if ! git show --format='%B' --quiet | grep -qi 'stable.*only'; then echo 'Stable branch requires either cherry-pick -x headers or [stable-only] tag!' exit 1 fi fi else echo Checked $checked cherry-pick hashes on branches: $(echo $branches | tr ' ' '\n' | sort | uniq) fi ",,43,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib4a02a192377aafab5970647d74977cb1189bcae,openstack/tripleo-heat-templates,stable/ussuri,Ib4a02a192377aafab5970647d74977cb1189bcae,Switch deploy steps to tripleo_free,MERGED,2020-07-14 21:07:14.000000000,2020-07-18 01:45:35.000000000,2020-07-18 01:45:34.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-14 21:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91fc0eae6e0c038748ef1cfd27c31f9e2d1a2e36', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n(cherry picked from commit a5f9740759461434177d6590cc8c99bb5e48365b)\n""}, {'number': 2, 'created': '2020-07-15 02:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1fbaa0d93a75a96559f19428f82189b6fc07dbf2', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n(cherry picked from commit a5f9740759461434177d6590cc8c99bb5e48365b)\n""}, {'number': 3, 'created': '2020-07-17 14:01:54.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/22544669d840876b99d132449c2960b06416de32', 'message': ""Switch deploy steps to tripleo_free\n\nThe tripleo_free strategy should allow the tasks to run freely for a\ngiven playbook that defines using the tripleo_free strategy. The defaul\nstrategy is a linear one that will execute each task across all servers\nprior to moving to the next task. The tripleo_free strategy will execute\nthe tasks on servers without syncryonizing the tasks within a given\nplaybook. Because TripleO uses step concepts in our deployment, we\nalready have the syncronization points in the main playbook. The outer\nplaybook should be done linearly but the deployment steps themselves\nshould be done freely.\n\nThe tripleo_free playbook won't stop execution on all hosts if one host\nfails or becomes unreachable. It will however end the play exeuction if\nany error occurs on any host. This is similar to the deployment failures\nwe used to have with Heat where a failure on any single node would stop\nthe deployment at a given deployment step.  A future improvement of this\nwill be to add logic to handle a failure percentage on a given TripleO\nrole to only stop the playbook if the failure percentage exceeds a\ndefined amount. Currently any failure will stop a playbook but may not\nstop later tasks from executing on the rest of the hosts. We will likely\nneed to implement a tripleo_linear strategy based on the upstream linear\nstrategy to understand these failure percentages as well.\n\nNOTE: During the testing of this, we identified two issues with the free\nstrategy in ansible itself. We will need those fixes landed in the\nversion of ansible prior to being able to land this.\n\nDepends-On: https://github.com/ansible/ansible/pull/69730\nDepends-On: https://github.com/ansible/ansible/pull/69524\nChange-Id: Ib4a02a192377aafab5970647d74977cb1189bcae\n(cherry picked from commit a5f9740759461434177d6590cc8c99bb5e48365b)\n""}]",0,741053,22544669d840876b99d132449c2960b06416de32,18,4,3,3153,,,0,"Switch deploy steps to tripleo_free

The tripleo_free strategy should allow the tasks to run freely for a
given playbook that defines using the tripleo_free strategy. The defaul
strategy is a linear one that will execute each task across all servers
prior to moving to the next task. The tripleo_free strategy will execute
the tasks on servers without syncryonizing the tasks within a given
playbook. Because TripleO uses step concepts in our deployment, we
already have the syncronization points in the main playbook. The outer
playbook should be done linearly but the deployment steps themselves
should be done freely.

The tripleo_free playbook won't stop execution on all hosts if one host
fails or becomes unreachable. It will however end the play exeuction if
any error occurs on any host. This is similar to the deployment failures
we used to have with Heat where a failure on any single node would stop
the deployment at a given deployment step.  A future improvement of this
will be to add logic to handle a failure percentage on a given TripleO
role to only stop the playbook if the failure percentage exceeds a
defined amount. Currently any failure will stop a playbook but may not
stop later tasks from executing on the rest of the hosts. We will likely
need to implement a tripleo_linear strategy based on the upstream linear
strategy to understand these failure percentages as well.

NOTE: During the testing of this, we identified two issues with the free
strategy in ansible itself. We will need those fixes landed in the
version of ansible prior to being able to land this.

Depends-On: https://github.com/ansible/ansible/pull/69730
Depends-On: https://github.com/ansible/ansible/pull/69524
Change-Id: Ib4a02a192377aafab5970647d74977cb1189bcae
(cherry picked from commit a5f9740759461434177d6590cc8c99bb5e48365b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/741053/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,91fc0eae6e0c038748ef1cfd27c31f9e2d1a2e36,strategy-improvements-stable/ussuri, strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free strategy: tripleo_free,,7,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ib69b9127f530ff8063a1c7408a70e20cfc7babc7,openstack/tripleo-heat-templates,stable/ussuri,Ib69b9127f530ff8063a1c7408a70e20cfc7babc7,deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable,MERGED,2020-07-15 18:17:46.000000000,2020-07-18 01:45:32.000000000,2020-07-18 01:45:32.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-15 18:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af8d1adbf1ea9c35461355ff2a2400210a8e2e8f', 'message': ""deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable\n\nFor all the tasks in common/deploy-steps-playbooks-common.yaml:\n\n* any_errors_fatal will be set to True except for the scale playbooks,\n  where we consider than an error can happen if a node is down.\n  The logic was wrong, we need to set a default to\n  scale_ignore_unreachable (false) and configure any_errors_fatal to be\n  the opposite of scale_ignore_unreachable.\n\n* Add ignore_unreachable to all the tasks which didn't have it before\n  (and set it to scale_ignore_unreachable | default(false))\n\nThis will allow a scale-down to work fine when a node that is being\nscaled down is unreachable.\n\nChange-Id: Ib69b9127f530ff8063a1c7408a70e20cfc7babc7\nCloses-Bug: #1887702\n(cherry picked from commit f1f2dab36e5ac74e8e6d2336ee09efdb75943e35)\n""}, {'number': 2, 'created': '2020-07-16 13:12:32.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71a8917a1cb80f8ae0fbd104221a98e97d0acadf', 'message': ""deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable\n\nFor all the tasks in common/deploy-steps-playbooks-common.yaml:\n\n* any_errors_fatal will be set to False for all tasks as this is\n  shared with the scale tasks or where nodes may not be available.\n  Due to https://github.com/ansible/ansible/issues/70663 this cannot\n  be set dynamically at this time. If an error occurs it'll get picked\n  up by a future task.\n\n* Add ignore_unreachable to all the tasks which didn't have it before\n  (and set it to scale_ignore_unreachable | default(false))\n\nThis will allow a scale-down to work fine when a node that is being\nscaled down is unreachable.\n\nChange-Id: Ib69b9127f530ff8063a1c7408a70e20cfc7babc7\nCloses-Bug: #1887702\n(cherry picked from commit af30d7d290287491f0a46c471a892f6e870eef84)\n""}]",0,741297,71a8917a1cb80f8ae0fbd104221a98e97d0acadf,15,4,2,3153,,,0,"deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable

For all the tasks in common/deploy-steps-playbooks-common.yaml:

* any_errors_fatal will be set to False for all tasks as this is
  shared with the scale tasks or where nodes may not be available.
  Due to https://github.com/ansible/ansible/issues/70663 this cannot
  be set dynamically at this time. If an error occurs it'll get picked
  up by a future task.

* Add ignore_unreachable to all the tasks which didn't have it before
  (and set it to scale_ignore_unreachable | default(false))

This will allow a scale-down to work fine when a node that is being
scaled down is unreachable.

Change-Id: Ib69b9127f530ff8063a1c7408a70e20cfc7babc7
Closes-Bug: #1887702
(cherry picked from commit af30d7d290287491f0a46c471a892f6e870eef84)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/741297/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-playbooks-common.yaml'],1,af8d1adbf1ea9c35461355ff2a2400210a8e2e8f,ussuri/unreach," any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" ignore_unreachable: ""{{ scale_ignore_unreachable | default(false) }}"" any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" ignore_unreachable: ""{{ scale_ignore_unreachable | default(false) }}"" any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" ignore_unreachable: ""{{ scale_ignore_unreachable | default(false) }}"" any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" ignore_unreachable: ""{{ scale_ignore_unreachable | default(false) }}"""," any_errors_fatal: ""{{ not scale_ignore_unreachable | default(true) }}"" any_errors_fatal: ""{{ not scale_ignore_unreachable | default(true) }}"" any_errors_fatal: ""{{ not scale_ignore_unreachable | default(true) }}"" any_errors_fatal: yes any_errors_fatal: yes any_errors_fatal: yes",11,6
openstack%2Ftripleo-heat-templates~master~I43652972494a9ed1f2b8b483fe19e685cbe4da1b,openstack/tripleo-heat-templates,master,I43652972494a9ed1f2b8b483fe19e685cbe4da1b,Relax facts gathering plays on the overcloud,MERGED,2020-06-09 16:46:03.000000000,2020-07-18 01:45:29.000000000,2020-07-18 01:45:29.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-09 16:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26b0960dffa640ee23df435939079a66f45a7715', 'message': ""WIP - Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nWIP for now, under testing.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}, {'number': 2, 'created': '2020-06-09 16:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/169795b55bf0c019d194e6f2aea2ce1add31cc8a', 'message': ""WIP - Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nWIP for now, under testing.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}, {'number': 3, 'created': '2020-06-09 22:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/acd331b7c791f990921785a5f53a9ecde4e17135', 'message': ""WIP - Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nWIP for now, under testing.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}, {'number': 4, 'created': '2020-06-11 13:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e72973023da7b5ad63df22eb77c3f8f976e2f9c7', 'message': ""WIP - Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nWIP for now, under testing.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}, {'number': 5, 'created': '2020-06-11 19:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d385a863c9ed92ca74e1f0197b5fdb2a80b5667f', 'message': ""WIP - Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nWIP for now, under testing.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}, {'number': 6, 'created': '2020-06-18 14:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/778bdd632fc08544b52856006866277e9044a889', 'message': ""Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nWIP for now, under testing.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}, {'number': 7, 'created': '2020-06-19 02:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7b957eadbecbaf2d24995ca229e3db1af2e7f52', 'message': ""Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}, {'number': 8, 'created': '2020-06-19 02:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b971101645aa790ab1da398399ee092e089023f', 'message': ""Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}, {'number': 9, 'created': '2020-06-22 12:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de606cf007f3156925700401b1c763201bb79292', 'message': ""Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}, {'number': 10, 'created': '2020-06-25 00:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c94389cac9fdfe9d91009304b37b516ecdc2aa1b', 'message': ""Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}, {'number': 11, 'created': '2020-07-02 21:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca48a96e32282c47f22481d95dd45b066a83b0eb', 'message': ""Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}, {'number': 12, 'created': '2020-07-03 13:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8cd0de344ce6a72a3a6c4692a5732bd1312a8357', 'message': ""Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}, {'number': 13, 'created': '2020-07-05 20:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/476cd67c4a02b7ce8a1de9b9418fcca3c320c584', 'message': ""Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}, {'number': 14, 'created': '2020-07-06 13:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d2c269d78e2190153c7c0070c61abda66839c24', 'message': ""Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}, {'number': 15, 'created': '2020-07-07 11:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80cccbc79feee0111f65e96bb135c516dc483649', 'message': ""Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}, {'number': 16, 'created': '2020-07-08 12:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dbcf7e679089e0a458128c3a26349ae911b2921a', 'message': ""Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}, {'number': 17, 'created': '2020-07-13 01:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bca7e030799374c0498e623382ceca4862048aca', 'message': ""Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}, {'number': 18, 'created': '2020-07-13 12:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7bb9cc1bc3583809db209263fe103abfe036ebbe', 'message': ""Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}, {'number': 19, 'created': '2020-07-15 20:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87db57f4f9fd3060691f766e46ffa883b5276579', 'message': ""Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}, {'number': 20, 'created': '2020-07-15 20:46:03.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/107b9c4c903924784a9829a405bbdd05b3cb1931', 'message': ""Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n""}]",3,734649,107b9c4c903924784a9829a405bbdd05b3cb1931,91,6,20,3153,,,0,"Relax facts gathering plays on the overcloud

Tolerate failures on all the plays that run on the overcloud and which
potentially run with facts gathering only (no other tasks).

Since they can't apply a strategy, we want to let them fail without
error. In a later play, we have our tripleo strategies which will figure
out if we have reached the maximum of failures that was configured with
MaxFailPercentage.

Change-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/734649/20 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps-playbooks-common.yaml', 'common/deploy-steps.j2']",2,26b0960dffa640ee23df435939079a66f45a7715,relax,, scale_ignore_unreachable: true,25,9
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I3923ea24c640941961624326cf3abe1012020771,openstack/tripleo-heat-templates,stable/ussuri,I3923ea24c640941961624326cf3abe1012020771,"Revert ""Prevent nftables to interfere with tripleo firewall""",MERGED,2020-07-10 14:47:55.000000000,2020-07-18 01:45:27.000000000,2020-07-18 01:45:27.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-10 14:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f2c4249f1f4ca68aa207aba01b4c0b53a691ef4', 'message': 'Revert ""Prevent nftables to interfere with tripleo firewall""\n\nThis reverts commit d44df735e9675f4bb55dd56091217abc776bd4cd.\n\nRevert ""Do not fail if /usr/sbin/nft is not present""\n\nThis reverts commit aa019cdd5d84b6678395c18ff536b804a8b10005.\n\nThe nftables rules are not enabled now after [1] so reverting\nthe original changes which are not needed.\n\n[1] https://git.centos.org/rpms/nftables/c/3730f48\n\nRelated-Bug: #1870095\nRelated-Bug: #1869166\nChange-Id: I3923ea24c640941961624326cf3abe1012020771\n'}, {'number': 2, 'created': '2020-07-17 03:24:40.000000000', 'files': ['deployment/tripleo-firewall/tripleo-firewall-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9c861fcfc427d55f96e24e5d573e0ca535d44cb1', 'message': 'Revert ""Prevent nftables to interfere with tripleo firewall""\n\nThis reverts commit d44df735e9675f4bb55dd56091217abc776bd4cd.\n\nRevert ""Do not fail if /usr/sbin/nft is not present""\n\nThis reverts commit aa019cdd5d84b6678395c18ff536b804a8b10005.\n\nThe nftables rules are not enabled now after [1] so reverting\nthe original changes which are not needed.\n\n[1] https://git.centos.org/rpms/nftables/c/3730f48\n\nRelated-Bug: #1870095\nRelated-Bug: #1869166\nChange-Id: I3923ea24c640941961624326cf3abe1012020771\n(cherry picked from commit 8e3c4f572891717e1ce9b997e5ab35bb602a544b)\n'}]",0,740486,9c861fcfc427d55f96e24e5d573e0ca535d44cb1,13,5,2,13861,,,0,"Revert ""Prevent nftables to interfere with tripleo firewall""

This reverts commit d44df735e9675f4bb55dd56091217abc776bd4cd.

Revert ""Do not fail if /usr/sbin/nft is not present""

This reverts commit aa019cdd5d84b6678395c18ff536b804a8b10005.

The nftables rules are not enabled now after [1] so reverting
the original changes which are not needed.

[1] https://git.centos.org/rpms/nftables/c/3730f48

Related-Bug: #1870095
Related-Bug: #1869166
Change-Id: I3923ea24c640941961624326cf3abe1012020771
(cherry picked from commit 8e3c4f572891717e1ce9b997e5ab35bb602a544b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/740486/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-firewall/tripleo-firewall-baremetal-ansible.yaml'],1,4f2c4249f1f4ca68aa207aba01b4c0b53a691ef4,bug/1870095-stable/ussuri, - if: - name: Failure - ctlplane subnet is unset fail: - name: Notice - ctlplane subnet is set debug: msg: | CIDRs found in the ctlplane network tags.," list_concat: - - name: Prevent Nftables to set up any rules copy: dest: /etc/sysconfig/nftables.conf content: | # This file has been explicitely emptied and disabled by TripleO # so that nftables and iptables do not race each other register: nftablesconf - when: nftablesconf is changed block: - name: Flush Nftables rules when nftables.conf changed shell: if [[ -x /usr/sbin/nft ]]; then /usr/sbin/nft flush ruleset; fi - name: Restart iptables to restore firewall after flushing nftables systemd: state: reloaded name: ""{{item}}"" loop: - iptables.service - ip6tables.service - if: - - name: Ensure ctlplane subnet is set fail: - - name: Notice - ctlplane subnet is set debug: msg: | CIDRs found in the ctlplane network tags.",7,28
openstack%2Fpython-tripleoclient~master~If25b71ae4d12208875d0fbcd9e16188a6f018f99,openstack/python-tripleoclient,master,If25b71ae4d12208875d0fbcd9e16188a6f018f99,Add backup functionality to Openstack client for undercloud and overcloud.,MERGED,2020-04-20 19:42:49.000000000,2020-07-18 01:41:40.000000000,2020-07-18 01:40:10.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8932}, {'_account_id': 9592}, {'_account_id': 11085}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-20 19:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a74003cacf93eff11b141902dc0a3f25c6af99d6', 'message': '[WIP] Add backup functionality to Openstack client for undercloud and overcloud.\n\nThis will allow administrators to perform a backup of the undercloud or\novercloud from the existing backup and restore role which is included\nin the tripleo-anisble project.\n\nChange-Id: If25b71ae4d12208875d0fbcd9e16188a6f018f99\n'}, {'number': 2, 'created': '2020-04-23 21:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f2f298f60b6fc975ff5e252dec4d82221da8383e', 'message': '[WIP] Add backup functionality to Openstack client for undercloud and overcloud.\n\nThis will allow administrators to perform a backup of the undercloud or\novercloud from the existing backup and restore role which is included\nin the tripleo-anisble project.\n\nChange-Id: If25b71ae4d12208875d0fbcd9e16188a6f018f99\n'}, {'number': 3, 'created': '2020-04-23 21:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c1d461974b67e1cd45ffcc1327a18a469fe2186c', 'message': 'Add backup functionality to Openstack client for undercloud and overcloud.\n\nThis will allow administrators to perform a backup of the undercloud or\novercloud from the existing backup and restore role which is included\nin the tripleo-anisble project.\n\nChange-Id: If25b71ae4d12208875d0fbcd9e16188a6f018f99\n'}, {'number': 4, 'created': '2020-04-24 13:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d9415f2b8382f703511179538633bed5dabc262b', 'message': 'Add backup functionality to Openstack client for undercloud and overcloud.\n\nThis will allow administrators to perform a backup of the undercloud or\novercloud from the existing backup and restore role which is included\nin the tripleo-anisble project.\n\nDepends-on: https://review.opendev.org/720087\n\nChange-Id: If25b71ae4d12208875d0fbcd9e16188a6f018f99\n'}, {'number': 5, 'created': '2020-05-04 17:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4e3d07b23ea666ff45bda33c50efbcd89b5f92ac', 'message': 'Add backup functionality to Openstack client for undercloud and overcloud.\n\nThis will allow administrators to perform a backup of the undercloud or\novercloud from the existing backup and restore role which is included\nin the tripleo-anisble project.\n\nDepends-on: https://review.opendev.org/720087\n\nChange-Id: If25b71ae4d12208875d0fbcd9e16188a6f018f99\n'}, {'number': 6, 'created': '2020-05-04 17:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c786fe4072266d5c24fa6cefa0f7d2580f50fb19', 'message': 'Add backup functionality to Openstack client for undercloud and overcloud.\n\nThis will allow administrators to perform a backup of the undercloud or\novercloud from the existing backup and restore role which is included\nin the tripleo-anisble project.\n\nDepends-on: https://review.opendev.org/720087\n\nChange-Id: If25b71ae4d12208875d0fbcd9e16188a6f018f99\n'}, {'number': 7, 'created': '2020-05-13 18:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/14fcbbb6f62a3db777363f5924fc9d4e413ccdda', 'message': 'Add backup functionality to Openstack client for undercloud and overcloud.\n\nThis will allow administrators to perform a backup of the undercloud or\novercloud from the existing backup and restore role which is included\nin the tripleo-anisble project.\n\nDepends-on: https://review.opendev.org/720087\n\nChange-Id: If25b71ae4d12208875d0fbcd9e16188a6f018f99\n'}, {'number': 8, 'created': '2020-05-13 18:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0fc999d3c5849d553fca60efd5776bb526db8465', 'message': 'Add backup functionality to Openstack client for undercloud and overcloud.\n\nThis will allow administrators to perform a backup of the undercloud or\novercloud from the existing backup and restore role which is included\nin the tripleo-anisble project.\n\nDepends-on: https://review.opendev.org/720087\n\nChange-Id: If25b71ae4d12208875d0fbcd9e16188a6f018f99\n'}, {'number': 9, 'created': '2020-05-15 16:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/71b34d6ea3e330793373202003b88ed16d43cd01', 'message': 'Add backup functionality to Openstack client for undercloud and overcloud.\n\nThis will allow administrators to perform a backup of the undercloud or\novercloud from the existing backup and restore role which is included\nin the tripleo-anisble project.\n\nDepends-on: https://review.opendev.org/720087\n\nChange-Id: If25b71ae4d12208875d0fbcd9e16188a6f018f99\n'}, {'number': 10, 'created': '2020-05-15 16:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2cc722de48ecfae64478e78df32790bea21f0225', 'message': 'Add backup functionality to Openstack client for undercloud and overcloud.\n\nThis will allow administrators to perform a backup of the undercloud or\novercloud from the existing backup and restore role which is included\nin the tripleo-anisble project.\n\nDepends-on: https://review.opendev.org/720087\n\nChange-Id: If25b71ae4d12208875d0fbcd9e16188a6f018f99\n'}, {'number': 11, 'created': '2020-05-19 00:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6a439bc44f05f044a7e1952b636670d9282eaeed', 'message': 'Add backup functionality to Openstack client for undercloud and overcloud.\n\nThis will allow administrators to perform a backup of the undercloud or\novercloud from the existing backup and restore role which is included\nin the tripleo-anisble project.\n\nDepends-on: https://review.opendev.org/720087\n\nChange-Id: If25b71ae4d12208875d0fbcd9e16188a6f018f99\n'}, {'number': 12, 'created': '2020-05-19 15:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/47e3c20df625ae6b3a34e2116fdc308c69d3a456', 'message': 'Add backup functionality to Openstack client for undercloud and overcloud.\n\nThis will allow administrators to perform a backup of the undercloud or\novercloud from the existing backup and restore role which is included\nin the tripleo-anisble project.\n\nDepends-on: https://review.opendev.org/720087\n\nChange-Id: If25b71ae4d12208875d0fbcd9e16188a6f018f99\n'}, {'number': 13, 'created': '2020-05-22 14:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/71bc5a7558f492d264e348873fa66403c492478c', 'message': 'Add backup functionality to Openstack client for undercloud and overcloud.\n\nThis will allow administrators to perform a backup of the undercloud or\novercloud from the existing backup and restore role which is included\nin the tripleo-anisble project.\n\nDepends-on: https://review.opendev.org/720087\n\nChange-Id: If25b71ae4d12208875d0fbcd9e16188a6f018f99\n'}, {'number': 14, 'created': '2020-05-22 19:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1b6fc1435b59d7418c5bbd2217f5ef333dbbdf94', 'message': 'Add backup functionality to Openstack client for undercloud and overcloud.\n\nThis will allow administrators to perform a backup of the undercloud or\novercloud from the existing backup and restore role which is included\nin the tripleo-anisble project.\n\nDepends-on: https://review.opendev.org/720087\n\nChange-Id: If25b71ae4d12208875d0fbcd9e16188a6f018f99\n'}, {'number': 15, 'created': '2020-06-05 21:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e0c30da660ac5d9c32540203cc49025e4c713e5d', 'message': 'Add backup functionality to Openstack client for undercloud and overcloud.\n\nThis will allow administrators to perform a backup of the undercloud or\novercloud from the existing backup and restore role which is included\nin the tripleo-anisble project.\n\nDepends-on: https://review.opendev.org/720087\n\nChange-Id: If25b71ae4d12208875d0fbcd9e16188a6f018f99\n'}, {'number': 16, 'created': '2020-06-05 23:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d85a10c48e1e602bc3d37a029a23548df30fd168', 'message': 'Add backup functionality to Openstack client for undercloud and overcloud.\n\nThis will allow administrators to perform a backup of the undercloud or\novercloud from the existing backup and restore role which is included\nin the tripleo-anisble project.\n\nDepends-on: https://review.opendev.org/720087\n\nChange-Id: If25b71ae4d12208875d0fbcd9e16188a6f018f99\n'}, {'number': 17, 'created': '2020-06-09 15:24:01.000000000', 'files': ['tripleoclient/tests/v1/overcloud_backup/__init__.py', 'tripleoclient/v1/undercloud_backup.py', 'tripleoclient/tests/v1/overcloud_backup/test_backup.py', 'tripleoclient/tests/v1/undercloud/test_backup.py', 'tripleoclient/v1/overcloud_backup.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/846836a1969cff17aaf9172183b768dd677374aa', 'message': 'Add backup functionality to Openstack client for undercloud and overcloud.\n\nThis will allow administrators to perform a backup of the undercloud or\novercloud from the existing backup and restore role which is included\nin the tripleo-anisble project.\n\nDepends-on: https://review.opendev.org/720087\n\nChange-Id: If25b71ae4d12208875d0fbcd9e16188a6f018f99\n'}]",23,721333,846836a1969cff17aaf9172183b768dd677374aa,75,10,17,11085,,,0,"Add backup functionality to Openstack client for undercloud and overcloud.

This will allow administrators to perform a backup of the undercloud or
overcloud from the existing backup and restore role which is included
in the tripleo-anisble project.

Depends-on: https://review.opendev.org/720087

Change-Id: If25b71ae4d12208875d0fbcd9e16188a6f018f99
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/33/721333/16 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v2/overcloud_backup.py', 'tripleoclient/v2/undercloud_backup.py']",2,a74003cacf93eff11b141902dc0a3f25c6af99d6,,"# Copyright 2020 Red Hat, Inc. # New flags for tripleo-ansible backup and restore role. parser.add_argument( '--init', default=False, action='store_true', help=_(""Initialize enviornment for backup,"" ""which will check for package install"" ""status and configured ReaR."") ) parser.add_argument( '--inventory', action='store', default='/home/stack/tripleo-inventory.yaml', help=_(""Tripleo inventory file generated with"" ""tripleo-ansible-inventory command."") ) if parsed_args.add_path or parsed_args.save_swift: LOG.warning(""The following flags will be deprecated:"" ""[--add-path, --exclude-path, --save-swift]"") self._legacy_backup_undercloud(parsed_args) if parsed_args.init: # call init playbook. #TODO: add logic for nfs server setup. LOG.debug(_(""Initilizing Backup configs."")) with utils.TempDirs() as tmp: utils.run_ansible_playbook( playbook='cli-undercloud-backup.yml', inventory=parsed_args.inventory, workdir=tmp, tags='system_check', playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, ) LOG.info(_(""Starting undercloud backup."")) with utils.TempDirs() as tmp: utils.run_ansible_playbook( playbook='undercloud-backup.yml', inventory=parsed_args.inventory, workdir=tmp, tags='bar_create_recover_image', playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, ) def _legacy_backup_undercloud(self, parsed_args): """""" Legacy backup undercloud will allow for easier removal once the funcationality is no longer needed. """""" exit()","# Copyright 2018 Red Hat, Inc.",136,1
openstack%2Ftripleo-heat-templates~master~I42c55ee0f69234fd54003e9cc471570f668c17b6,openstack/tripleo-heat-templates,master,I42c55ee0f69234fd54003e9cc471570f668c17b6,Use native YAML syntax in mount tasks,MERGED,2020-06-24 11:02:13.000000000,2020-07-18 01:40:08.000000000,2020-07-18 01:40:08.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-06-24 11:02:13.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/336425636844af04d048434a73ef281e6083f052', 'message': 'Use native YAML syntax in mount tasks\n\nGenerally it is recommended[1] to use native YAML syntax in ansible\ninstead of one line definition, because it brings some benefits like\nclear difference detected in git.\n\nThis patch updates existing mount tasks to follow that recommendation.\n\n[1] https://www.ansible.com/blog/ansible-best-practices-essentials\n\nChange-Id: I42c55ee0f69234fd54003e9cc471570f668c17b6\n'}]",0,737744,336425636844af04d048434a73ef281e6083f052,51,8,1,9816,,,0,"Use native YAML syntax in mount tasks

Generally it is recommended[1] to use native YAML syntax in ansible
instead of one line definition, because it brings some benefits like
clear difference detected in git.

This patch updates existing mount tasks to follow that recommendation.

[1] https://www.ansible.com/blog/ansible-best-practices-essentials

Change-Id: I42c55ee0f69234fd54003e9cc471570f668c17b6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/737744/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml']",2,336425636844af04d048434a73ef281e6083f052,native-yaml-mount," mount: name: /var/lib/glance/images state: mounted fstype: nfs src: ""{{nfs_share}}"" opts: ""{{nfs_options}}"" mount: name: ""{{glance_node_staging_uri[7:]}}"" state: mounted fstype: nfs src: ""{{glance_staging_nfs_share}}"" opts: ""{{glance_nfs_options}}"""," mount: name=/var/lib/glance/images src=""{{nfs_share}}"" fstype=nfs opts=""{{nfs_options}}"" state=mounted mount: name=""{{glance_node_staging_uri[7:]}}"" src=""{{glance_staging_nfs_share}}"" fstype=nfs opts=""{{glance_nfs_options}}"" state=mounted",18,3
openstack%2Ftripleo-quickstart-extras~master~I7ac9f77787384a446dd4887e889e479a6358e8fe,openstack/tripleo-quickstart-extras,master,I7ac9f77787384a446dd4887e889e479a6358e8fe,Mount gating repo in containers only when it exists,MERGED,2020-07-16 08:00:35.000000000,2020-07-18 01:40:06.000000000,2020-07-18 01:40:06.000000000,"[{'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-16 08:00:35.000000000', 'files': ['roles/container-build/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b39af784df6e6f7b676fef1b4ec31a7440d3fd9f', 'message': 'Mount gating repo in containers only when it exists\n\n/opt/gating_repo only exists when packages are built\nin job, so add /opt/gating_repo volume only when\nthe directory exists.\n\nChange-Id: I7ac9f77787384a446dd4887e889e479a6358e8fe\n'}]",0,741397,b39af784df6e6f7b676fef1b4ec31a7440d3fd9f,15,5,1,13861,,,0,"Mount gating repo in containers only when it exists

/opt/gating_repo only exists when packages are built
in job, so add /opt/gating_repo volume only when
the directory exists.

Change-Id: I7ac9f77787384a446dd4887e889e479a6358e8fe
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/97/741397/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/container-build/tasks/main.yaml'],1,b39af784df6e6f7b676fef1b4ec31a7440d3fd9f,,"- name: Set container_image_build_volumes fact set_fact: container_image_build_volumes: - ""/etc/yum.repos.d:/etc/yum.repos.d:z"" - ""/etc/pki/rpm-gpg:/etc/pki/rpm-gpg:z"" - name: Check if /opt/gating_repo exists stat: path: /opt/gating_repo register: gating_stat - name: Add gating repo to mount volumes if exists set_fact: container_image_build_volumes: '{{ container_image_build_volumes + [""/opt/gating_repo:/opt/gating_repo:z""] }}' when: gating_stat.stat.exists|bool tripleo_container_image_build_volumes: ""{{ container_image_build_volumes }}"""," tripleo_container_image_build_volumes: - ""/etc/yum.repos.d:/etc/yum.repos.d:z"" - ""/etc/pki/rpm-gpg:/etc/pki/rpm-gpg:z"" - ""/opt/gating_repo:/opt/gating_repo:z""",18,4
openstack%2Fproject-config~master~I4bf00e77e9003e7a67e73d05a914c1e34c0fd2b5,openstack/project-config,master,I4bf00e77e9003e7a67e73d05a914c1e34c0fd2b5,Create limestone/ansible-role-lxd_* projects,NEW,2020-07-12 04:21:00.000000000,2020-07-17 23:25:42.000000000,,"[{'_account_id': 6547}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-12 04:21:00.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/limestone/ci-cloud-config.config', 'gerrit/acls/limestone/limestone.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d1d83c6993c36fbfa4fd75fb9348b1f18e18758a', 'message': 'Create limestone/ansible-role-lxd_* projects\n\nWe will open source several ansible roles used for managing lxd\ninfrastructure.\n\nChange-Id: I4bf00e77e9003e7a67e73d05a914c1e34c0fd2b5\n'}]",0,740579,d1d83c6993c36fbfa4fd75fb9348b1f18e18758a,5,3,1,17799,,,0,"Create limestone/ansible-role-lxd_* projects

We will open source several ansible roles used for managing lxd
infrastructure.

Change-Id: I4bf00e77e9003e7a67e73d05a914c1e34c0fd2b5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/79/740579/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/limestone/ci-cloud-config.config', 'gerrit/acls/limestone/limestone.config']",4,d1d83c6993c36fbfa4fd75fb9348b1f18e18758a,lxd-role-project,"[access ""refs/heads/*""] abandon = group limestone-core label-Code-Review = -2..+2 group limestone-core label-Workflow = -1..+1 group limestone-core [receive] requireChangeId = true [submit] mergeContent = true ",,23,10
openstack%2Fopenstack-helm-infra~master~Ied24169499cbd709024925703d3911e976f3a51d,openstack/openstack-helm-infra,master,Ied24169499cbd709024925703d3911e976f3a51d,Enable Application Armor to all ceph key-generator pods.,ABANDONED,2020-07-15 18:16:29.000000000,2020-07-17 23:17:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 29131}]","[{'number': 1, 'created': '2020-07-15 18:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8f34c1bbe3204dfc741087ffd16638760f73f42f', 'message': '[WIP] ENable Dynamic container name to job-keyring pods\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 2, 'created': '2020-07-15 18:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5e45666cd36cb585d693593f2ff044938252dacc', 'message': '[WIP] ENable Dynamic container name to job-keyring pods\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 3, 'created': '2020-07-15 18:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f79f8a9cb3481ba94c99846c4594a5ff13974284', 'message': '[WIP] ENable Dynamic container name to job-keyring pods\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 4, 'created': '2020-07-15 21:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4399b5f688d1413ae3edb89d30ac45ef0462bc27', 'message': '[WIP] ENable Dynamic container name to job-keyring pods\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 5, 'created': '2020-07-16 19:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/efe48edd38de03e76c9d3a7e819ec8352798ce90', 'message': '[WIP] ENable Dynamic container name to job-keyring pods\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 6, 'created': '2020-07-16 19:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/528305ad21e8d1b305fa556cbef0471618fdf5f1', 'message': '[WIP] ENable Dynamic container name to job-keyring pods\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 7, 'created': '2020-07-16 21:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/215a0dae26b6f78da9cdb19ee97f04032b127545', 'message': '[WIP] ENable Dynamic container name to job-keyring pods\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 8, 'created': '2020-07-16 21:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/17ec57efc8dc05102bda867fb5f7299d5ed620c2', 'message': '[WIP] ENable Dynamic container name to job-keyring pods\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 9, 'created': '2020-07-16 21:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/450c8ab7ca1f8a309b3e7df09de519c9afff91e1', 'message': '[WIP] ENable Dynamic container name to job-keyring pods\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 10, 'created': '2020-07-16 22:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ec032682fbfdabab6ff9207d47488366de27c195', 'message': '[WIP] ENable Dynamic container name to job-keyring pods\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 11, 'created': '2020-07-16 23:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/39923d06050977c21ca457834b51782da7632cd7', 'message': '[WIP] ENable Dynamic container name to job-keyring pods\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 12, 'created': '2020-07-17 01:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7b631fad45a7400827a104a69b5491c64b8d3230', 'message': '[WIP] ENable Dynamic container name to job-keyring pods\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 13, 'created': '2020-07-17 02:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c5dac71ff62e7cb296dec5a43645522912de28c5', 'message': '[WIP] ENable Dynamic container name to job-keyring pods\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 14, 'created': '2020-07-17 02:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1ec16a2d6bebbf872ec3c85bd545fa7b36e93f0a', 'message': '[WIP] ENable Dynamic container name to job-keyring pods\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 15, 'created': '2020-07-17 04:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b0210d41adf5ac938e9394e88c5b4ced26740d5a', 'message': '[WIP] ENable Dynamic container name to job-keyring pods\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 16, 'created': '2020-07-17 15:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/405fdc587f00a19a933d0cc3eddd81ab4a8f9440', 'message': '[WIP] ENable Dynamic container name to job-keyring pods\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 17, 'created': '2020-07-17 15:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d96c9c7d6e6fcea31f20c017a17d6e9bc0941d40', 'message': '[WIP] ENable Dynamic container name to job-keyring pods\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 18, 'created': '2020-07-17 17:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bc68bfa469f1664147849fa0708b88bdc8b17a18', 'message': '[WIP] ENable Dynamic container name to job-keyring pods\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 19, 'created': '2020-07-17 17:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9be18fed45eae102e7aa765d34d7a4771728494e', 'message': '[WIP] ENable Dynamic container name to job-keyring pods\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 20, 'created': '2020-07-17 23:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c2956cdb6d16fe56d0ef420b93ded19ad4807202', 'message': 'Enable Application Armor to all ceph key-generator pods.\n\n1) Changed the pod name and container name to pick name dynamically for\n   osd,mon,mgr and mds.\n\n2) Added Init container for ceph-provisioners\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 21, 'created': '2020-07-17 23:16:07.000000000', 'files': ['ceph-provisioners/templates/job-cephfs-client-key.yaml', 'ceph-mon/values_overrides/apparmor.yaml', 'ceph-provisioners/values_overrides/apparmor.yaml', 'ceph-mon/templates/job-keyring.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b56be552140ccc913d43363f63920ac347de4491', 'message': 'Enable Application Armor to all ceph key-generator pods.\n\n1) Changed the pod name and container name to pick name dynamically for\n   osd,mon,mgr and mds.\n\n2) Added Init container for ceph-provisioners\n\nChange-Id: Ied24169499cbd709024925703d3911e976f3a51d\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}]",0,741296,b56be552140ccc913d43363f63920ac347de4491,66,2,21,29131,,,0,"Enable Application Armor to all ceph key-generator pods.

1) Changed the pod name and container name to pick name dynamically for
   osd,mon,mgr and mds.

2) Added Init container for ceph-provisioners

Change-Id: Ied24169499cbd709024925703d3911e976f3a51d
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/96/741296/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,8f34c1bbe3204dfc741087ffd16638760f73f42f,dynamic_container_name,,,0,0
openstack%2Fpython-ironicclient~master~I5101dcffa0ea9d44507d25b1a8519d710404deb3,openstack/python-ironicclient,master,I5101dcffa0ea9d44507d25b1a8519d710404deb3,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:31:58.000000000,2020-07-17 23:16:18.000000000,2020-07-17 23:14:50.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 13:31:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/42514bef11f80d7cdb588371acd517f230a1c900', 'message': 'Set min version of tox to 3.2.1\n\nAs recommended, since version 3.2.0 tox switches pip invocations\nto use the module -m pip instead of direct invocation.\nWe set min version to 3.2.1 [1] to also fix the behavior of\n--parallel--safe-build\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10\n\nChange-Id: I5101dcffa0ea9d44507d25b1a8519d710404deb3\n'}]",0,741190,42514bef11f80d7cdb588371acd517f230a1c900,9,3,1,23851,,,0,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I5101dcffa0ea9d44507d25b1a8519d710404deb3
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/90/741190/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,42514bef11f80d7cdb588371acd517f230a1c900,tox-m-pip,minversion = 3.2.1,minversion = 3.1.0,1,1
openstack%2Fswift~master~I3ccd145c14a9b68ff8a9da61f79034549c9bc127,openstack/swift,master,I3ccd145c14a9b68ff8a9da61f79034549c9bc127,Breakup reclaim into batches,MERGED,2020-05-13 20:59:24.000000000,2020-07-17 22:17:20.000000000,2020-05-26 20:36:03.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-13 20:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/eaf7e09de8d704a4a3417199c0f1cd0725749a25', 'message': 'Breakup reclaim into batches\n\nWe want to do the table scan without locking and group the locking\ndeletes into small indexed operations to minimize the impact of\nbackground processes calling reclaim each cycle.\n\nChange-Id: I3ccd145c14a9b68ff8a9da61f79034549c9bc127\nCloses-Bug: #1877651\n'}, {'number': 2, 'created': '2020-05-15 15:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/55a9028046399b4a92ca2a7c27879343442abfcf', 'message': 'Breakup reclaim into batches\n\nWe want to do the table scan without locking and group the locking\ndeletes into small indexed operations to minimize the impact of\nbackground processes calling reclaim each cycle.\n\nChange-Id: I3ccd145c14a9b68ff8a9da61f79034549c9bc127\nCloses-Bug: #1877651\n'}, {'number': 3, 'created': '2020-05-18 20:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/86eab2f45f1be65c7538fb1ffd5374cf33a9d097', 'message': 'Breakup reclaim into batches\n\nWe want to do the table scan without locking and group the locking\ndeletes into small indexed operations to minimize the impact of\nbackground processes calling reclaim each cycle.\n\nChange-Id: I3ccd145c14a9b68ff8a9da61f79034549c9bc127\nCloses-Bug: #1877651\n'}, {'number': 4, 'created': '2020-05-20 20:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8a24efa3c28e3326cc4179fb981e19a8bc727415', 'message': 'Breakup reclaim into batches\n\nWe want to do the table scan without locking and group the locking\ndeletes into small indexed operations to minimize the impact of\nbackground processes calling reclaim each cycle.\n\nChange-Id: I3ccd145c14a9b68ff8a9da61f79034549c9bc127\nCloses-Bug: #1877651\n'}, {'number': 5, 'created': '2020-05-22 18:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e8069117406f1509f1b37bba981e262935dfb32e', 'message': 'Breakup reclaim into batches\n\nWe want to do the table scan without locking and group the locking\ndeletes into small indexed operations to minimize the impact of\nbackground processes calling reclaim each cycle.\n\nChange-Id: I3ccd145c14a9b68ff8a9da61f79034549c9bc127\nCloses-Bug: #1877651\n'}, {'number': 6, 'created': '2020-05-22 18:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c15b8af11f434a7b831e83348f1e9c6da5624b6b', 'message': 'Breakup reclaim into batches\n\nWe want to do the table scan without locking and group the locking\ndeletes into small indexed operations to minimize the impact of\nbackground processes calling reclaim each cycle.\n\nChange-Id: I3ccd145c14a9b68ff8a9da61f79034549c9bc127\nCloses-Bug: #1877651\n'}, {'number': 7, 'created': '2020-05-22 19:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/88adf888a49edf5064cee9c583ec772df1959d6a', 'message': 'Breakup reclaim into batches\n\nWe want to do the table scan without locking and group the locking\ndeletes into small indexed operations to minimize the impact of\nbackground processes calling reclaim each cycle.\n\nChange-Id: I3ccd145c14a9b68ff8a9da61f79034549c9bc127\nCloses-Bug: #1877651\n'}, {'number': 8, 'created': '2020-05-22 19:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a5ce3bb76e3b86b8b5d7da090c0e12e6da9f640b', 'message': 'Breakup reclaim into batches\n\nWe want to do the table scan without locking and group the locking\ndeletes into small indexed operations to minimize the impact of\nbackground processes calling reclaim each cycle.\n\nChange-Id: I3ccd145c14a9b68ff8a9da61f79034549c9bc127\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCloses-Bug: #1877651\n'}, {'number': 9, 'created': '2020-05-22 19:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/58d441b9e2989a96c89f55ed387ac3b1a828e66f', 'message': 'Breakup reclaim into batches\n\nWe want to do the table scan without locking and group the locking\ndeletes into small indexed operations to minimize the impact of\nbackground processes calling reclaim each cycle.\n\nChange-Id: I3ccd145c14a9b68ff8a9da61f79034549c9bc127\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCloses-Bug: #1877651\n'}, {'number': 10, 'created': '2020-05-22 21:16:09.000000000', 'files': ['swift/common/db.py', 'test/unit/common/test_db.py', 'test/unit/container/test_backend.py', 'test/unit/account/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/aab45880f8aaddfed15fe641939aac0d2eccc465', 'message': 'Breakup reclaim into batches\n\nWe want to do the table scan without locking and group the locking\ndeletes into small indexed operations to minimize the impact of\nbackground processes calling reclaim each cycle.\n\nChange-Id: I3ccd145c14a9b68ff8a9da61f79034549c9bc127\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCloses-Bug: #1877651\n'}]",25,727876,aab45880f8aaddfed15fe641939aac0d2eccc465,57,3,10,1179,,,0,"Breakup reclaim into batches

We want to do the table scan without locking and group the locking
deletes into small indexed operations to minimize the impact of
background processes calling reclaim each cycle.

Change-Id: I3ccd145c14a9b68ff8a9da61f79034549c9bc127
Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Closes-Bug: #1877651
",git fetch https://review.opendev.org/openstack/swift refs/changes/76/727876/7 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/db.py', 'test/unit/container/test_backend.py', 'test/unit/account/test_backend.py', 'swift/container/backend.py']",4,eaf7e09de8d704a4a3417199c0f1cd0725749a25,batched-reclaim," zero_like, DatabaseAlreadyExists, SQLITE_ARG_LIMIT"," zero_like, DatabaseAlreadyExists SQLITE_ARG_LIMIT = 999",127,7
openstack%2Fdevstack~master~I2b84f7b7c51b7b20765a06b48c75006fd2e8ab71,openstack/devstack,master,I2b84f7b7c51b7b20765a06b48c75006fd2e8ab71,Add missing glance multi-store configurations,MERGED,2020-07-17 08:19:55.000000000,2020-07-17 21:57:56.000000000,2020-07-17 21:56:07.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-17 08:19:55.000000000', 'files': ['lib/glance'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f2577fc574d2d8299b3cfff458702321aca57e44', 'message': 'Add missing glance multi-store configurations\n\nWhile removing registry [1] we by mistake removed some code related to\nmultiple store configuration for glance. This must be happened during\nresolving merged conflicts.\n\nAdding it back.\n\n[1] https://review.opendev.org/708062\n\nChange-Id: I2b84f7b7c51b7b20765a06b48c75006fd2e8ab71\n'}]",1,741599,f2577fc574d2d8299b3cfff458702321aca57e44,8,3,1,9303,,,0,"Add missing glance multi-store configurations

While removing registry [1] we by mistake removed some code related to
multiple store configuration for glance. This must be happened during
resolving merged conflicts.

Adding it back.

[1] https://review.opendev.org/708062

Change-Id: I2b84f7b7c51b7b20765a06b48c75006fd2e8ab71
",git fetch https://review.opendev.org/openstack/devstack refs/changes/99/741599/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/glance'],1,f2577fc574d2d8299b3cfff458702321aca57e44,missing-multistore-file-configs," # Configure multiple stores if [[ ""$GLANCE_ENABLE_MULTIPLE_STORES"" == ""True"" ]]; then local store enabled_backends enabled_backends="""" for store in $(echo $GLANCE_MULTIPLE_FILE_STORES | tr "","" ""\n""); do enabled_backends+=""${store}:file,"" done iniset $GLANCE_API_CONF DEFAULT enabled_backends ${enabled_backends::-1} fi ",,10,0
openstack%2Fnova~stable%2Fpike~I7be32e4fc2e69f805535e0a437931516f491e5cb,openstack/nova,stable/pike,I7be32e4fc2e69f805535e0a437931516f491e5cb,Reproduce bug 1862633,MERGED,2020-07-13 08:37:12.000000000,2020-07-17 21:56:12.000000000,2020-07-17 21:56:11.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-13 08:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e03b844ada705077bc9e8e3ad3772b07609834e0', 'message': 'Reproduce bug 1862633\n\nIf port update fails during unshelve of an offloaded server then\nplacement allocation on the target host is leaked.\n\nChanges in nova test_bug_1862633.py due to\nI2cf2fcbaebc706f897ce5dfbff47d32117064f9c is missing from stable/queens\n\nChange-Id: I7be32e4fc2e69f805535e0a437931516f491e5cb\nRelated-Bug: #1862633\n(cherry picked from commit c33ebdafbd633578a0a4b6f1b118c756510acea6)\n(cherry picked from commit bd1bfc13d7e2c418afc409871ab56da454a1334d)\n(cherry picked from commit f960d1751d752d559ea18604bfd1fcaf1a3283cd)\n(cherry picked from commit 5e452f8eb743c226af4f4998835ece8dd142a011)\n(cherry picked from commit eb4f0a5aa93feb2dc7730987207f052a04bc33db)\n'}, {'number': 2, 'created': '2020-07-13 08:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67d3523727f0665788f4ea52cd67f4c9b1aeffb4', 'message': 'Reproduce bug 1862633\n\nIf port update fails during unshelve of an offloaded server then\nplacement allocation on the target host is leaked.\n\nChange-Id: I7be32e4fc2e69f805535e0a437931516f491e5cb\nRelated-Bug: #1862633\n(cherry picked from commit c33ebdafbd633578a0a4b6f1b118c756510acea6)\n(cherry picked from commit bd1bfc13d7e2c418afc409871ab56da454a1334d)\n(cherry picked from commit f960d1751d752d559ea18604bfd1fcaf1a3283cd)\n(cherry picked from commit 5e452f8eb743c226af4f4998835ece8dd142a011)\n(cherry picked from commit eb4f0a5aa93feb2dc7730987207f052a04bc33db)\n'}, {'number': 3, 'created': '2020-07-13 11:52:09.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1862633.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/618dd9bdc24b3a1de6a5581d4e7201efdf1f86bd', 'message': 'Reproduce bug 1862633\n\nIf port update fails during unshelve of an offloaded server then\nplacement allocation on the target host is leaked.\n\nChanges in test_bug_1862633.py due to:\n* the NeutronFixture improvement done in\n  Id8d2c48c9c864554a917596e377d30515465fec1 is missing from stable/pike\n  therefore the fault injection mock needed to be moved to a higher\n  level function.\n* the Ie4676eed0039c927b35af7573f0b57fd762adbaa refactor is also missing\n  and causing the name change of wait_for_versioned_notification\n\nChange-Id: I7be32e4fc2e69f805535e0a437931516f491e5cb\nRelated-Bug: #1862633\n(cherry picked from commit c33ebdafbd633578a0a4b6f1b118c756510acea6)\n(cherry picked from commit bd1bfc13d7e2c418afc409871ab56da454a1334d)\n(cherry picked from commit f960d1751d752d559ea18604bfd1fcaf1a3283cd)\n(cherry picked from commit 5e452f8eb743c226af4f4998835ece8dd142a011)\n(cherry picked from commit eb4f0a5aa93feb2dc7730987207f052a04bc33db)\n'}]",2,740634,618dd9bdc24b3a1de6a5581d4e7201efdf1f86bd,13,4,3,9708,,,0,"Reproduce bug 1862633

If port update fails during unshelve of an offloaded server then
placement allocation on the target host is leaked.

Changes in test_bug_1862633.py due to:
* the NeutronFixture improvement done in
  Id8d2c48c9c864554a917596e377d30515465fec1 is missing from stable/pike
  therefore the fault injection mock needed to be moved to a higher
  level function.
* the Ie4676eed0039c927b35af7573f0b57fd762adbaa refactor is also missing
  and causing the name change of wait_for_versioned_notification

Change-Id: I7be32e4fc2e69f805535e0a437931516f491e5cb
Related-Bug: #1862633
(cherry picked from commit c33ebdafbd633578a0a4b6f1b118c756510acea6)
(cherry picked from commit bd1bfc13d7e2c418afc409871ab56da454a1334d)
(cherry picked from commit f960d1751d752d559ea18604bfd1fcaf1a3283cd)
(cherry picked from commit 5e452f8eb743c226af4f4998835ece8dd142a011)
(cherry picked from commit eb4f0a5aa93feb2dc7730987207f052a04bc33db)
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/740634/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1862633.py'],1,e03b844ada705077bc9e8e3ad3772b07609834e0,bug/1862633,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from neutronclient.common import exceptions as neutron_exception from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit import fake_notifier from nova.tests.unit.image import fake as fake_image from nova.virt import fake class UnshelveNeutronErrorTest( test.TestCase, integrated_helpers.InstanceHelperMixin): def setUp(self): super(UnshelveNeutronErrorTest, self).setUp() # Start standard fixtures. placement = nova_fixtures.PlacementFixture() self.useFixture(placement) self.placement_api = placement.api self.neutron = nova_fixtures.NeutronFixture(self) self.useFixture(self.neutron) fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) # Start nova services. self.api = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')).admin_api self.api.microversion = 'latest' fake_notifier.stub_notifier(self) self.addCleanup(fake_notifier.reset) self.start_service('conductor') self.start_service('scheduler') self.addCleanup(fake.restore_nodes) fake.set_nodes(['host1']) self.start_service('compute', host='host1') fake.set_nodes(['host2']) self.start_service('compute', host='host2') def test_unshelve_offloaded_fails_due_to_neutron(self): server_req = self._build_minimal_create_server_request( self.api, name='unshelve-error-vm', image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', networks=[{'port': self.neutron.port_1['id']}], az='nova:host1') created_server = self.api.post_server({'server': server_req}) server = self._wait_for_state_change( self.api, created_server, 'ACTIVE') # with default config shelve means immediate offload as well req = { 'shelve': {} } self.api.post_server_action(server['id'], req) self._wait_for_server_parameter( self.api, server, {'status': 'SHELVED_OFFLOADED'}) allocations = self.placement_api.get( '/allocations/%s' % server['id']).body['allocations'] self.assertEqual(0, len(allocations)) # disable the original host of the instance to force a port update # during unshelve source_service_id = self.api.get_services( host='host1', binary='nova-compute')[0]['id'] self.api.put_service(source_service_id, {""status"": ""disabled""}) # Simulate that port update fails during unshelve due to neutron is # unavailable with mock.patch( 'nova.tests.fixtures.NeutronFixture.' 'update_port') as mock_update_port: mock_update_port.side_effect = neutron_exception.ConnectionFailed( reason='test') req = {'unshelve': None} self.api.post_server_action(server['id'], req) fake_notifier.wait_for_versioned_notifications( 'instance.unshelve.start') self._wait_for_server_parameter( self.api, server, {'status': 'SHELVED_OFFLOADED', 'OS-EXT-STS:task_state': None}) # As the instance went back to offloaded state we expect no allocation # allocations = self.placement_api.get( # '/allocations/%s' % server['id']).body['allocations'] # self.assertEqual(0, len(allocations)) # # but the allocation is leaked this is bug 1862633 allocations = self.placement_api.get( '/allocations/%s' % server['id']).body['allocations'] self.assertEqual(1, len(allocations)) ",,101,0
openstack%2Ftripleo-common~stable%2Fussuri~I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d,openstack/tripleo-common,stable/ussuri,I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d,TCIB: add python3-pynacl to mariadb image,MERGED,2020-07-17 02:17:26.000000000,2020-07-17 21:16:14.000000000,2020-07-17 21:13:59.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-17 02:17:26.000000000', 'files': ['container-images/tcib/base/mariadb/mariadb.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d5dc49f8d6056b68c4fd8785a236498ab236c1d3', 'message': 'TCIB: add python3-pynacl to mariadb image\n\nPorting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.\n\nChange-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d\nRelated-Bug: #1866093\n(cherry picked from commit 1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad)\n'}]",0,741569,d5dc49f8d6056b68c4fd8785a236498ab236c1d3,8,3,1,3153,,,0,"TCIB: add python3-pynacl to mariadb image

Porting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.

Change-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d
Related-Bug: #1866093
(cherry picked from commit 1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/69/741569/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/mariadb/mariadb.yaml'],1,d5dc49f8d6056b68c4fd8785a236498ab236c1d3,, - python3-pynacl,,1,0
openstack%2Ftripleo-common~stable%2Fussuri~I819d057cf4673a50231be6277160b986c232e692,openstack/tripleo-common,stable/ussuri,I819d057cf4673a50231be6277160b986c232e692,image_uploader: switch stdout_callback to tripleo_dense,MERGED,2020-07-17 02:17:45.000000000,2020-07-17 21:13:38.000000000,2020-07-17 21:11:20.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-17 02:17:45.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b113157b9dc8a065b25397f843fc151260f68386', 'message': 'image_uploader: switch stdout_callback to tripleo_dense\n\n... because this is cool and consistent with the rest of Ansible\nconfigurations.\n\nChange-Id: I819d057cf4673a50231be6277160b986c232e692\n(cherry picked from commit c19ee504412e3f515219a7cf8336a78328657f58)\n'}]",0,741570,b113157b9dc8a065b25397f843fc151260f68386,8,3,1,3153,,,0,"image_uploader: switch stdout_callback to tripleo_dense

... because this is cool and consistent with the rest of Ansible
configurations.

Change-Id: I819d057cf4673a50231be6277160b986c232e692
(cherry picked from commit c19ee504412e3f515219a7cf8336a78328657f58)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/70/741570/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,b113157b9dc8a065b25397f843fc151260f68386,callback/image-upload-stable/ussuri," ""stdout_callback=tripleo_dense\n"""," ""stdout_callback=yaml\n""",2,2
openstack%2Fneutron~stable%2Fussuri~Ia012a8e116a276a6674f86366c803e0e2d8ff704,openstack/neutron,stable/ussuri,Ia012a8e116a276a6674f86366c803e0e2d8ff704,[OVN] Unify OVN/OVS compilation,MERGED,2020-07-09 12:04:08.000000000,2020-07-17 21:11:56.000000000,2020-07-17 21:03:56.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-07-09 12:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1122904b20642ed02a0349e639c7b6def6ec61d9', 'message': '[OVN] Unify OVN/OVS compilation\n\nThere were duplicated methods doing almost the same in terms\nof OVS/OVN compilation.\n\nThis change:\n * move of OVS related compilation code to devstack/lib/ovs\n * delete of OVS related compilation code from devstack/lib/ovn_agent\n * source unified functions in devstack/lib/ovn_agent from\n   devstack/lib/ovs\n * Unify NEUTRON_PATH variable to NEUTRON_DIR\n\nCloses-Bug: #1877377\n\nChange-Id: Ia012a8e116a276a6674f86366c803e0e2d8ff704\n(cherry picked from commit fb2806f8088dccafd6616a68f5b296914d192150)\n'}, {'number': 2, 'created': '2020-07-14 07:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3bce7415219a867d55107d44ac2d209b5c7c0912', 'message': '[OVN] Unify OVN/OVS compilation\n\nThere were duplicated methods doing almost the same in terms\nof OVS/OVN compilation.\n\nThis change:\n * move of OVS related compilation code to devstack/lib/ovs\n * delete of OVS related compilation code from devstack/lib/ovn_agent\n * source unified functions in devstack/lib/ovn_agent from\n   devstack/lib/ovs\n * Unify NEUTRON_PATH variable to NEUTRON_DIR\n\nCloses-Bug: #1877377\n\nChange-Id: Ia012a8e116a276a6674f86366c803e0e2d8ff704\n(cherry picked from commit fb2806f8088dccafd6616a68f5b296914d192150)\n'}, {'number': 3, 'created': '2020-07-15 10:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe2f4a98d9ef51e615c3a89932d73a1c5bf29dd2', 'message': '[OVN] Unify OVN/OVS compilation\n\nThere were duplicated methods doing almost the same in terms\nof OVS/OVN compilation.\n\nThis change:\n * move of OVS related compilation code to devstack/lib/ovs\n * delete of OVS related compilation code from devstack/lib/ovn_agent\n * source unified functions in devstack/lib/ovn_agent from\n   devstack/lib/ovs\n * Unify NEUTRON_PATH variable to NEUTRON_DIR\n\nCloses-Bug: #1877377\n\nChange-Id: Ia012a8e116a276a6674f86366c803e0e2d8ff704\n(cherry picked from commit fb2806f8088dccafd6616a68f5b296914d192150)\n(cherry picked from commit 3bce7415219a867d55107d44ac2d209b5c7c0912)\n'}, {'number': 4, 'created': '2020-07-15 10:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee14c44bb2433909aa69587a6c7bca43306ff095', 'message': '[OVN] Unify OVN/OVS compilation\n\nThere were duplicated methods doing almost the same in terms\nof OVS/OVN compilation.\n\nThis change:\n * move of OVS related compilation code to devstack/lib/ovs\n * delete of OVS related compilation code from devstack/lib/ovn_agent\n * source unified functions in devstack/lib/ovn_agent from\n   devstack/lib/ovs\n * Unify NEUTRON_PATH variable to NEUTRON_DIR\n * Sets default variable for OVN_BRANCH to point latest\n   stable release\n\nCloses-Bug: #1877377\n\nChange-Id: Ia012a8e116a276a6674f86366c803e0e2d8ff704\n(cherry picked from commit fb2806f8088dccafd6616a68f5b296914d192150)\n'}, {'number': 5, 'created': '2020-07-17 11:41:35.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'tools/configure_for_func_testing.sh', 'neutron/tests/contrib/gate_hook.sh', 'roles/configure_functional_tests/tasks/main.yaml', 'devstack/lib/ovs', 'devstack/lib/ovn_agent'], 'web_link': 'https://opendev.org/openstack/neutron/commit/61851345cededd906517cea783cd86f8abd3a01a', 'message': '[OVN] Unify OVN/OVS compilation\n\nThere were duplicated methods doing almost the same in terms\nof OVS/OVN compilation.\n\nThis change:\n * move of OVS related compilation code to devstack/lib/ovs\n * delete of OVS related compilation code from devstack/lib/ovn_agent\n * source unified functions in devstack/lib/ovn_agent from\n   devstack/lib/ovs\n * Unify NEUTRON_PATH variable to NEUTRON_DIR\n\nStable-specific change:\n * Sets default variable for OVN_BRANCH to point latest\n   stable release\n\nConflicts:\n   devstack/lib/ovn_agent\n\nCloses-Bug: #1877377\n\nChange-Id: Ia012a8e116a276a6674f86366c803e0e2d8ff704\n(cherry picked from commit fb2806f8088dccafd6616a68f5b296914d192150)\n'}]",4,740255,61851345cededd906517cea783cd86f8abd3a01a,18,5,5,24791,,,0,"[OVN] Unify OVN/OVS compilation

There were duplicated methods doing almost the same in terms
of OVS/OVN compilation.

This change:
 * move of OVS related compilation code to devstack/lib/ovs
 * delete of OVS related compilation code from devstack/lib/ovn_agent
 * source unified functions in devstack/lib/ovn_agent from
   devstack/lib/ovs
 * Unify NEUTRON_PATH variable to NEUTRON_DIR

Stable-specific change:
 * Sets default variable for OVN_BRANCH to point latest
   stable release

Conflicts:
   devstack/lib/ovn_agent

Closes-Bug: #1877377

Change-Id: Ia012a8e116a276a6674f86366c803e0e2d8ff704
(cherry picked from commit fb2806f8088dccafd6616a68f5b296914d192150)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/740255/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'tools/configure_for_func_testing.sh', 'neutron/tests/contrib/gate_hook.sh', 'roles/configure_functional_tests/tasks/main.yaml', 'devstack/lib/ovs', 'devstack/lib/ovn_agent']",7,1122904b20642ed02a0349e639c7b6def6ec61d9,bug/1877377,# Load devstack ovs base functions source $NEUTRON_DIR/devstack/lib/ovs ,"# Set variables for building OVS from source OVS_REPO=${OVS_REPO:-https://github.com/openvswitch/ovs.git} OVS_REPO_NAME=$(basename ${OVS_REPO} | cut -f1 -d'.') OVS_REPO_NAME=${OVS_REPO_NAME:-ovs} OVS_BRANCH=${OVS_BRANCH:-master} # Fetch the ovs git repository and install packages needed for # the compilation. function _prepare_for_ovs_compilation { local build_modules=$1 clone_repository $OVS_REPO $DEST/$OVS_REPO_NAME $OVS_BRANCH if [[ ""$build_modules"" == ""False"" ]]; then return fi KERNEL_VERSION=`uname -r` if is_fedora ; then # is_fedora covers Fedora, RHEL, CentOS, etc... if [[ ""$os_VENDOR"" == ""Fedora"" ]]; then install_package elfutils-libelf-devel KERNEL_VERSION=`echo $KERNEL_VERSION | cut --delimiter='-' --field 1` elif [[ ${KERNEL_VERSION:0:2} != ""3."" ]]; then # dash is illegal character in rpm version so replace # them with underscore like it is done in the kernel # https://github.com/torvalds/linux/blob/master/scripts/package/mkspec#L25 # but only for latest series of the kernel, not 3.x KERNEL_VERSION=`echo $KERNEL_VERSION | tr - _` fi echo NOTE: if kernel-devel-$KERNEL_VERSION or kernel-headers-$KERNEL_VERSION installation echo failed, please, provide a repository with the package, or yum update / reboot echo your machine to get the latest kernel. install_package kernel-devel-$KERNEL_VERSION install_package kernel-headers-$KERNEL_VERSION elif is_ubuntu ; then install_package linux-headers-$KERNEL_VERSION fi } # Reload the ovs kernel modules function _reload_ovs_kernel_modules { set +e ovs_system=$(sudo ovs-dpctl dump-dps | grep ovs-system) if [ -n ""$ovs_system"" ]; then sudo ovs-dpctl del-dp ovs-system fi set -e sudo modprobe -r vport_geneve sudo modprobe -r openvswitch sudo modprobe openvswitch || (dmesg && die $LINENO ""FAILED TO LOAD openvswitch"") sudo modprobe vport-geneve || (dmesg && echo ""FAILED TO LOAD vport-geneve"") } # Compile openvswitch and its kernel module function _compile_ovs { local build_modules=$1 # Install the dependencies install_package autoconf automake libtool gcc patch make # TODO(flaviof): Would prefer to use pip_install wrapper, but that is not # useable right now because REQUIREMENTS_DIR variable is hard coded in # starckrc sudo pip3 install six _prepare_for_ovs_compilation $build_modules pushd $DEST/$OVS_REPO_NAME [ -f configure ] || ./boot.sh if [ ! -f config.status ] || [ configure -nt config.status ] ; then if [[ ""$build_modules"" == ""True"" ]]; then ./configure --with-linux=/lib/modules/$(uname -r)/build else ./configure fi fi make -j$(($(nproc) + 1)) sudo make install if [[ ""$build_modules"" == ""True"" ]]; then sudo make INSTALL_MOD_DIR=kernel/net/openvswitch modules_install if [ $? -eq 0 ]; then _reload_ovs_kernel_modules else echo ""Compiling OVS kernel modules failed"" fi fi popd } source $NEUTRON_DIR/devstack/lib/ovs",42,143
openstack%2Fnova~stable%2Fussuri~I04717b95dd44ae89f24bd74525d1c9607e3bc0fc,openstack/nova,stable/ussuri,I04717b95dd44ae89f24bd74525d1c9607e3bc0fc,zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full,MERGED,2020-07-17 07:45:12.000000000,2020-07-17 21:06:19.000000000,2020-07-17 20:59:22.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-17 07:45:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/cf399a363ca530151895c4b7cf49ad7b2a79e01b', 'message': 'zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full\n\nThe job was part of the neutron experimental queue but then removed\nduring the ussuri lifecycle.\nSee https://review.opendev.org/#/c/693630/\n\nChange-Id: I04717b95dd44ae89f24bd74525d1c9607e3bc0fc\n(cherry picked from commit bce4a3ab97320bdc2a6a43e2a961a0aa0b8ffb63)\n'}]",0,741590,cf399a363ca530151895c4b7cf49ad7b2a79e01b,10,5,1,10459,,,0,"zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full

The job was part of the neutron experimental queue but then removed
during the ussuri lifecycle.
See https://review.opendev.org/#/c/693630/

Change-Id: I04717b95dd44ae89f24bd74525d1c9607e3bc0fc
(cherry picked from commit bce4a3ab97320bdc2a6a43e2a961a0aa0b8ffb63)
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/741590/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cf399a363ca530151895c4b7cf49ad7b2a79e01b,native-zuulv3-migration,, - legacy-tempest-dsvm-neutron-dvr-multinode-full: irrelevant-files: *dsvm-irrelevant-files,0,2
openstack%2Fheat~stable%2Ftrain~Ia0e34423377843adee8efc7f23d2c2df5dac8e20,openstack/heat,stable/train,Ia0e34423377843adee8efc7f23d2c2df5dac8e20,Don't check stack staus for already migrated stacks,MERGED,2020-07-14 09:30:11.000000000,2020-07-17 21:06:17.000000000,2020-07-17 21:01:56.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 09:30:11.000000000', 'files': ['heat/engine/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ba6218cd333208aacb686d0f94507cdd0004b4d1', 'message': ""Don't check stack staus for already migrated stacks\n\nIf stacks are already migrated to convergence, there is no point\nin checking stack status before returning. This will allow re-run\nof the command inspite of migrated stacks in FAILED state.\n\nChange-Id: Ia0e34423377843adee8efc7f23d2c2df5dac8e20\nTask: 40266\n(cherry picked from commit 8d5d2a8fb6145caa7aac1eb90a4787706c298e47)\n(cherry picked from commit 1f66e61ca5db0f324688665f6c769ac24d560c32)\n""}]",0,740924,ba6218cd333208aacb686d0f94507cdd0004b4d1,18,3,1,8833,,,0,"Don't check stack staus for already migrated stacks

If stacks are already migrated to convergence, there is no point
in checking stack status before returning. This will allow re-run
of the command inspite of migrated stacks in FAILED state.

Change-Id: Ia0e34423377843adee8efc7f23d2c2df5dac8e20
Task: 40266
(cherry picked from commit 8d5d2a8fb6145caa7aac1eb90a4787706c298e47)
(cherry picked from commit 1f66e61ca5db0f324688665f6c769ac24d560c32)
",git fetch https://review.opendev.org/openstack/heat refs/changes/24/740924/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/service.py'],1,ba6218cd333208aacb686d0f94507cdd0004b4d1,," if parent_stack.status != parent_stack.COMPLETE: raise exception.ActionNotComplete(stack_name=parent_stack.name, action=parent_stack.action) "," if parent_stack.status != parent_stack.COMPLETE: raise exception.ActionNotComplete(stack_name=parent_stack.name, action=parent_stack.action) ",4,4
openstack%2Fneutron~stable%2Fstein~I515c310f221e7d9ae3be59a26260538d1bc591c2,openstack/neutron,stable/stein,I515c310f221e7d9ae3be59a26260538d1bc591c2,Make _ensure_default_security_group method atomic,MERGED,2020-06-24 07:57:12.000000000,2020-07-17 21:04:00.000000000,2020-07-17 20:59:11.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-24 07:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e336ce32f249a3ed749f2ef928f96490869c4afb', 'message': ""Make _ensure_default_security_group method atomic\n\nMethod _ensure_default_security_group wasn't atomic as it first tries to get\ndefault SG and if that not exists in DB, it tries to create it.\n\nIt may happend, like e.g. in Calico plugin that between\nget_default_sg_id method and create_security_group method, this default\nSG will be created by other neutron worker. And in such case there will\nbe Duplicate entry exception raised.\n\nSo this patch is adding handling of such exception.\n\nConflicts:\n    neutron/db/securitygroups_db.py\n\nChange-Id: I515c310f221e7d9ae3be59a26260538d1bc591c2\nCloses-Bug: #1883730\n(cherry picked from commit 7019c5cf50bc4ad97b302220664a26efaf81a7fd)\n""}, {'number': 2, 'created': '2020-07-06 08:01:15.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/13f8296d5c1bf0e2bc90ee689a4825ec9acf8881', 'message': ""Make _ensure_default_security_group method atomic\n\nMethod _ensure_default_security_group wasn't atomic as it first tries to get\ndefault SG and if that not exists in DB, it tries to create it.\n\nIt may happend, like e.g. in Calico plugin that between\nget_default_sg_id method and create_security_group method, this default\nSG will be created by other neutron worker. And in such case there will\nbe Duplicate entry exception raised.\n\nSo this patch is adding handling of such exception.\n\nConflicts:\n    neutron/db/securitygroups_db.py\n\nChange-Id: I515c310f221e7d9ae3be59a26260538d1bc591c2\nCloses-Bug: #1883730\n(cherry picked from commit 7019c5cf50bc4ad97b302220664a26efaf81a7fd)\n""}]",0,737702,13f8296d5c1bf0e2bc90ee689a4825ec9acf8881,27,6,2,11975,,,0,"Make _ensure_default_security_group method atomic

Method _ensure_default_security_group wasn't atomic as it first tries to get
default SG and if that not exists in DB, it tries to create it.

It may happend, like e.g. in Calico plugin that between
get_default_sg_id method and create_security_group method, this default
SG will be created by other neutron worker. And in such case there will
be Duplicate entry exception raised.

So this patch is adding handling of such exception.

Conflicts:
    neutron/db/securitygroups_db.py

Change-Id: I515c310f221e7d9ae3be59a26260538d1bc591c2
Closes-Bug: #1883730
(cherry picked from commit 7019c5cf50bc4ad97b302220664a26efaf81a7fd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/737702/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py']",2,e336ce32f249a3ed749f2ef928f96490869c4afb,bug/1883730,"from neutron_lib.objects import exceptions as obj_exc def test__ensure_default_security_group(self): with mock.patch.object( self.mixin, '_get_default_sg_id') as get_default_sg_id,\ mock.patch.object( self.mixin, 'create_security_group') as create_sg: get_default_sg_id.return_value = None self.mixin._ensure_default_security_group(self.ctx, 'tenant_1') create_sg.assert_called_once_with( self.ctx, {'security_group': { 'name': 'default', 'tenant_id': 'tenant_1', 'description': securitygroups_db.DEFAULT_SG_DESCRIPTION}}, default_sg=True) get_default_sg_id.assert_called_once_with(self.ctx, 'tenant_1') def test__ensure_default_security_group_already_exists(self): with mock.patch.object( self.mixin, '_get_default_sg_id') as get_default_sg_id,\ mock.patch.object( self.mixin, 'create_security_group') as create_sg: get_default_sg_id.return_value = 'default_sg_id' self.mixin._ensure_default_security_group(self.ctx, 'tenant_1') create_sg.assert_not_called() get_default_sg_id.assert_called_once_with(self.ctx, 'tenant_1') def test__ensure_default_security_group_created_in_parallel(self): with mock.patch.object( self.mixin, '_get_default_sg_id') as get_default_sg_id,\ mock.patch.object( self.mixin, 'create_security_group') as create_sg: get_default_sg_id.side_effect = [None, 'default_sg_id'] create_sg.side_effect = obj_exc.NeutronDbObjectDuplicateEntry( mock.Mock(), mock.Mock()) self.mixin._ensure_default_security_group(self.ctx, 'tenant_1') create_sg.assert_called_once_with( self.ctx, {'security_group': { 'name': 'default', 'tenant_id': 'tenant_1', 'description': securitygroups_db.DEFAULT_SG_DESCRIPTION}}, default_sg=True) get_default_sg_id.assert_has_calls([ mock.call(self.ctx, 'tenant_1'), mock.call(self.ctx, 'tenant_1')])",,57,3
openstack%2Fdevstack~master~I86ffa2d963decb8492927f3d67f1d58b35870aac,openstack/devstack,master,I86ffa2d963decb8492927f3d67f1d58b35870aac,Fix glance image handling,ABANDONED,2020-07-15 21:31:42.000000000,2020-07-17 21:02:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-15 21:31:42.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/devstack/commit/5c12b7fd474f1f793be7affebac918be35936e8c', 'message': 'Fix glance image handling\n\nUpdate the image upload command for kernels/ramdisks so partition\nimage based CI integration testing jobs, like those used by ironic,\nare not failing due to only the partition image being uploaded without\na kernel and ramdisk, which causes code interpreting the image to\nbelieve that the image is infact a whole-disk-image.\n\nThis is needed as a result of change:\nhttps://review.opendev.org/#/c/735966\n\n+ functions:upload_image:427 : \'[\' -n /opt/stack/devstack/files/images/cirros-0.5.1-x86_64-uec/cirros-0.5.1-x86_64-initrd \']\'\n++ functions:upload_image:428 : oscwrap --os-cloud=devstack-admin --os-region-name=RegionOne image create cirros-0.5.1-x86_64-uec-ramdisk hw_rng_model=virtio --public --container-format ari --disk-format ari\n\nWhere previously ""--property"" was prepended to the properties set,\nhowever for partition images, it doesn\'t make sense to support\nexplicit property setting as the kernel and ramdisk id values are\nlinked to by the primary glance image object once uploaded.\n\nChange-Id: I86ffa2d963decb8492927f3d67f1d58b35870aac\n'}]",0,741322,5c12b7fd474f1f793be7affebac918be35936e8c,3,2,1,11655,,,0,"Fix glance image handling

Update the image upload command for kernels/ramdisks so partition
image based CI integration testing jobs, like those used by ironic,
are not failing due to only the partition image being uploaded without
a kernel and ramdisk, which causes code interpreting the image to
believe that the image is infact a whole-disk-image.

This is needed as a result of change:
https://review.opendev.org/#/c/735966

+ functions:upload_image:427 : '[' -n /opt/stack/devstack/files/images/cirros-0.5.1-x86_64-uec/cirros-0.5.1-x86_64-initrd ']'
++ functions:upload_image:428 : oscwrap --os-cloud=devstack-admin --os-region-name=RegionOne image create cirros-0.5.1-x86_64-uec-ramdisk hw_rng_model=virtio --public --container-format ari --disk-format ari

Where previously ""--property"" was prepended to the properties set,
however for partition images, it doesn't make sense to support
explicit property setting as the kernel and ramdisk id values are
linked to by the primary glance image object once uploaded.

Change-Id: I86ffa2d963decb8492927f3d67f1d58b35870aac
",git fetch https://review.opendev.org/openstack/devstack refs/changes/22/741322/1 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,5c12b7fd474f1f793be7affebac918be35936e8c,fix-ironic-ci," kernel_id=$(openstack --os-cloud=devstack-admin --os-region-name=""$REGION_NAME"" image create ""$image_name-kernel"" --public --container-format aki --disk-format aki < ""$kernel"" | grep ' id ' | get_field 2) ramdisk_id=$(openstack --os-cloud=devstack-admin --os-region-name=""$REGION_NAME"" image create ""$image_name-ramdisk"" --public --container-format ari --disk-format ari < ""$ramdisk"" | grep ' id ' | get_field 2)"," kernel_id=$(openstack --os-cloud=devstack-admin --os-region-name=""$REGION_NAME"" image create ""$image_name-kernel"" $img_property --public --container-format aki --disk-format aki < ""$kernel"" | grep ' id ' | get_field 2) ramdisk_id=$(openstack --os-cloud=devstack-admin --os-region-name=""$REGION_NAME"" image create ""$image_name-ramdisk"" $img_property --public --container-format ari --disk-format ari < ""$ramdisk"" | grep ' id ' | get_field 2)",2,2
openstack%2Fneutron~stable%2Fqueens~I515c310f221e7d9ae3be59a26260538d1bc591c2,openstack/neutron,stable/queens,I515c310f221e7d9ae3be59a26260538d1bc591c2,Make _ensure_default_security_group method atomic,MERGED,2020-06-24 08:01:55.000000000,2020-07-17 20:59:15.000000000,2020-07-17 20:59:15.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-24 08:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd79b6bf0c543fa8136c7b02b8fbb86d9348548c', 'message': ""Make _ensure_default_security_group method atomic\n\nMethod _ensure_default_security_group wasn't atomic as it first tries to get\ndefault SG and if that not exists in DB, it tries to create it.\n\nIt may happend, like e.g. in Calico plugin that between\nget_default_sg_id method and create_security_group method, this default\nSG will be created by other neutron worker. And in such case there will\nbe Duplicate entry exception raised.\n\nSo this patch is adding handling of such exception.\n\nConflicts:\n    neutron/db/securitygroups_db.py\n\nChange-Id: I515c310f221e7d9ae3be59a26260538d1bc591c2\nCloses-Bug: #1883730\n(cherry picked from commit 7019c5cf50bc4ad97b302220664a26efaf81a7fd)\n""}, {'number': 2, 'created': '2020-07-07 14:44:54.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0cc3032edc7d1cd533789453d19b2a1b2d193d38', 'message': ""Make _ensure_default_security_group method atomic\n\nMethod _ensure_default_security_group wasn't atomic as it first tries to get\ndefault SG and if that not exists in DB, it tries to create it.\n\nIt may happend, like e.g. in Calico plugin that between\nget_default_sg_id method and create_security_group method, this default\nSG will be created by other neutron worker. And in such case there will\nbe Duplicate entry exception raised.\n\nSo this patch is adding handling of such exception.\n\nConflicts:\n    neutron/db/securitygroups_db.py\n\nChange-Id: I515c310f221e7d9ae3be59a26260538d1bc591c2\nCloses-Bug: #1883730\n(cherry picked from commit 7019c5cf50bc4ad97b302220664a26efaf81a7fd)\n""}]",0,737704,0cc3032edc7d1cd533789453d19b2a1b2d193d38,13,5,2,11975,,,0,"Make _ensure_default_security_group method atomic

Method _ensure_default_security_group wasn't atomic as it first tries to get
default SG and if that not exists in DB, it tries to create it.

It may happend, like e.g. in Calico plugin that between
get_default_sg_id method and create_security_group method, this default
SG will be created by other neutron worker. And in such case there will
be Duplicate entry exception raised.

So this patch is adding handling of such exception.

Conflicts:
    neutron/db/securitygroups_db.py

Change-Id: I515c310f221e7d9ae3be59a26260538d1bc591c2
Closes-Bug: #1883730
(cherry picked from commit 7019c5cf50bc4ad97b302220664a26efaf81a7fd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/737704/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py']",2,bd79b6bf0c543fa8136c7b02b8fbb86d9348548c,bug/1883730-stable/queens,"from neutron_lib.objects import exceptions as obj_exc def test__ensure_default_security_group(self): with mock.patch.object( self.mixin, '_get_default_sg_id') as get_default_sg_id,\ mock.patch.object( self.mixin, 'create_security_group') as create_sg: get_default_sg_id.return_value = None self.mixin._ensure_default_security_group(self.ctx, 'tenant_1') create_sg.assert_called_once_with( self.ctx, {'security_group': { 'name': 'default', 'tenant_id': 'tenant_1', 'description': securitygroups_db.DEFAULT_SG_DESCRIPTION}}, default_sg=True) get_default_sg_id.assert_called_once_with(self.ctx, 'tenant_1') def test__ensure_default_security_group_already_exists(self): with mock.patch.object( self.mixin, '_get_default_sg_id') as get_default_sg_id,\ mock.patch.object( self.mixin, 'create_security_group') as create_sg: get_default_sg_id.return_value = 'default_sg_id' self.mixin._ensure_default_security_group(self.ctx, 'tenant_1') create_sg.assert_not_called() get_default_sg_id.assert_called_once_with(self.ctx, 'tenant_1') def test__ensure_default_security_group_created_in_parallel(self): with mock.patch.object( self.mixin, '_get_default_sg_id') as get_default_sg_id,\ mock.patch.object( self.mixin, 'create_security_group') as create_sg: get_default_sg_id.side_effect = [None, 'default_sg_id'] create_sg.side_effect = obj_exc.NeutronDbObjectDuplicateEntry( mock.Mock(), mock.Mock()) self.mixin._ensure_default_security_group(self.ctx, 'tenant_1') create_sg.assert_called_once_with( self.ctx, {'security_group': { 'name': 'default', 'tenant_id': 'tenant_1', 'description': securitygroups_db.DEFAULT_SG_DESCRIPTION}}, default_sg=True) get_default_sg_id.assert_has_calls([ mock.call(self.ctx, 'tenant_1'), mock.call(self.ctx, 'tenant_1')])",,57,3
openstack%2Ftripleo-common~stable%2Fussuri~Ib80d9a055cb0fd0f0e1cf437d579d5ec32710812,openstack/tripleo-common,stable/ussuri,Ib80d9a055cb0fd0f0e1cf437d579d5ec32710812,TCIB: bump ceph image to align with kolla images,MERGED,2020-07-17 02:12:57.000000000,2020-07-17 20:40:56.000000000,2020-07-17 20:39:18.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-17 02:12:57.000000000', 'files': ['container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/abd0d701bf9ce1738cd99e14a113d824211faabf', 'message': 'TCIB: bump ceph image to align with kolla images\n\nThis was missed when we implemented TCIB, in the meantime the ceph image\nwas bumped to v4.0.12.\n\nChange-Id: Ib80d9a055cb0fd0f0e1cf437d579d5ec32710812\n(cherry picked from commit 415457e6ccaab1b0c128c9baa107d9e871c9f27d)\n'}]",0,741566,abd0d701bf9ce1738cd99e14a113d824211faabf,8,3,1,3153,,,0,"TCIB: bump ceph image to align with kolla images

This was missed when we implemented TCIB, in the meantime the ceph image
was bumped to v4.0.12.

Change-Id: Ib80d9a055cb0fd0f0e1cf437d579d5ec32710812
(cherry picked from commit 415457e6ccaab1b0c128c9baa107d9e871c9f27d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/66/741566/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml'],1,abd0d701bf9ce1738cd99e14a113d824211faabf,ussuri/unreach,- imagename: docker.io/ceph/daemon:v4.0.12-stable-4.0-nautilus-centos-7-x86_64,- imagename: docker.io/ceph/daemon:v4.0.10-stable-4.0-nautilus-centos-7-x86_64,1,1
openstack%2Fpython-tripleoclient~master~I93e23e11dffcd2e0f9e33ba816b163de817166f4,openstack/python-tripleoclient,master,I93e23e11dffcd2e0f9e33ba816b163de817166f4,Log error when fail_on_rc disabled,MERGED,2020-07-09 14:40:51.000000000,2020-07-17 20:40:52.000000000,2020-07-17 20:39:17.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 14:40:51.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/33123f6e88ad1c196448764cdedfdbeb7571d488', 'message': 'Log error when fail_on_rc disabled\n\nChange-Id: I93e23e11dffcd2e0f9e33ba816b163de817166f4\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,740312,33123f6e88ad1c196448764cdedfdbeb7571d488,10,6,1,6926,,,0,"Log error when fail_on_rc disabled

Change-Id: I93e23e11dffcd2e0f9e33ba816b163de817166f4
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/12/740312/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,33123f6e88ad1c196448764cdedfdbeb7571d488,, else: LOG.error(err_msg + '. Ignoring.'),,2,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ic3a5f7d079993ca31176df5e460640938495bb7b,openstack/tripleo-heat-templates,stable/ussuri,Ic3a5f7d079993ca31176df5e460640938495bb7b,Add become: true to the container json file modules,MERGED,2020-07-17 02:13:02.000000000,2020-07-17 20:39:20.000000000,2020-07-17 20:39:20.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-17 02:13:02.000000000', 'files': ['common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c2bee43b66c02b02c52324ff3248952248d244b', 'message': 'Add become: true to the container json file modules\n\nAdding the become: true when calling the modules which manage files in\n/var/lib/tripleo-config, they need root access.\n\nChange-Id: Ic3a5f7d079993ca31176df5e460640938495bb7b\n(cherry picked from commit 4395e4a3ceb41874a8855129444e6387686c649b)\n'}]",0,741567,0c2bee43b66c02b02c52324ff3248952248d244b,7,3,1,3153,,,0,"Add become: true to the container json file modules

Adding the become: true when calling the modules which manage files in
/var/lib/tripleo-config, they need root access.

Change-Id: Ic3a5f7d079993ca31176df5e460640938495bb7b
(cherry picked from commit 4395e4a3ceb41874a8855129444e6387686c649b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/741567/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks-step-1.yaml'],1,0c2bee43b66c02b02c52324ff3248952248d244b,become-stable/ussuri, become: true become: true,,2,0
openstack%2Frequirements~master~I9bae8e1e5d23b1ffc42ed97896a09c680cf07340,openstack/requirements,master,I9bae8e1e5d23b1ffc42ed97896a09c680cf07340,update constraint for openstackdocstheme to new release 2.2.5,MERGED,2020-07-17 07:51:39.000000000,2020-07-17 20:31:03.000000000,2020-07-17 20:28:58.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 07:51:39.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9f2189ac56485dc26d6eee5360c04b7eb441449b', 'message': 'update constraint for openstackdocstheme to new release 2.2.5\n\nChange-Id: I9bae8e1e5d23b1ffc42ed97896a09c680cf07340\nmeta:version: 2.2.5\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Jeremy Stanley <fungi@yuggoth.org>\nmeta:release:Commit: Jeremy Stanley <fungi@yuggoth.org>\nmeta:release:Change-Id: Ia5ef18024c16195b2561f480f3352ec9ef613224\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,741594,9f2189ac56485dc26d6eee5360c04b7eb441449b,12,3,1,11131,,,0,"update constraint for openstackdocstheme to new release 2.2.5

Change-Id: I9bae8e1e5d23b1ffc42ed97896a09c680cf07340
meta:version: 2.2.5
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Jeremy Stanley <fungi@yuggoth.org>
meta:release:Commit: Jeremy Stanley <fungi@yuggoth.org>
meta:release:Change-Id: Ia5ef18024c16195b2561f480f3352ec9ef613224
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/94/741594/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9f2189ac56485dc26d6eee5360c04b7eb441449b,new-release,openstackdocstheme===2.2.5,openstackdocstheme===2.2.4,1,1
openstack%2Foctavia-tempest-plugin~master~Idd517eefdf7c9ce6ef08f6b42c3aef27263e9cab,openstack/octavia-tempest-plugin,master,Idd517eefdf7c9ce6ef08f6b42c3aef27263e9cab,Gate on octavia-v2-dsvm-tls-barbican jobs,MERGED,2019-06-23 11:47:11.000000000,2020-07-17 20:30:09.000000000,2020-07-17 20:17:04.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-23 11:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b9866eab0aa3fdb73b581e5300f7919bcf10f761', 'message': 'Gate on octavia-v2-dsvm-tls-barbican jobs\n\nTLS Barbican jobs were added a while ago and proven to be solid [1].\nThis is a good time to promote them to the gate queue.\n\n[1] http://zuul.openstack.org/builds?job_name=octavia-v2-dsvm-tls-barbican\n\nChange-Id: Idd517eefdf7c9ce6ef08f6b42c3aef27263e9cab\n'}, {'number': 2, 'created': '2019-07-29 21:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/da119ce6b816a3449c275944dfd59652f86321de', 'message': 'Gate on octavia-v2-dsvm-tls-barbican jobs\n\nTLS Barbican jobs were added a while ago and proven to be solid [1].\nThis is a good time to promote them to the gate queue.\n\n[1] http://zuul.openstack.org/builds?job_name=octavia-v2-dsvm-tls-barbican\n\nChange-Id: Idd517eefdf7c9ce6ef08f6b42c3aef27263e9cab\n'}, {'number': 3, 'created': '2019-11-16 17:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5939044f05cb19ceeecb533f335c7b751190714b', 'message': 'Gate on octavia-v2-dsvm-tls-barbican jobs\n\nTLS Barbican jobs were added a while ago and proven to be solid [1].\nThis is a good time to promote them to the gate queue.\n\n[1] http://zuul.openstack.org/builds?job_name=octavia-v2-dsvm-tls-barbican\n\nChange-Id: Idd517eefdf7c9ce6ef08f6b42c3aef27263e9cab\n'}, {'number': 4, 'created': '2020-06-07 09:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d60011acd9a2a9111102f711eda24741894c00d7', 'message': 'Gate on octavia-v2-dsvm-tls-barbican jobs\n\nTLS Barbican jobs were added a while ago and proven to be solid [1].\nThis is a good time to promote them to the gate queue.\n\n[1] https://zuul.openstack.org/builds?job_name=octavia-v2-dsvm-tls-barbican&pipeline=gate\n\nChange-Id: Idd517eefdf7c9ce6ef08f6b42c3aef27263e9cab\n'}, {'number': 5, 'created': '2020-06-11 20:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/fdb05e1020ec219a9881a8fb15e33199cc986282', 'message': 'Gate on octavia-v2-dsvm-tls-barbican jobs\n\nTLS Barbican jobs were added a while ago and proven to be solid [1].\nThis is a good time to promote them to the gate queue.\n\n[1] https://zuul.openstack.org/builds?job_name=octavia-v2-dsvm-tls-barbican&pipeline=gate\n\nChange-Id: Idd517eefdf7c9ce6ef08f6b42c3aef27263e9cab\n'}, {'number': 6, 'created': '2020-07-14 10:50:21.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ba35dab12a34930af7f940f7d41417bac91ec47f', 'message': 'Gate on octavia-v2-dsvm-tls-barbican jobs\n\nTLS Barbican jobs were added a while ago and proven to be solid [1].\nThis is a good time to promote them to the gate queue.\n\n[1] https://zuul.openstack.org/builds?job_name=octavia-v2-dsvm-tls-barbican&pipeline=gate\n\nChange-Id: Idd517eefdf7c9ce6ef08f6b42c3aef27263e9cab\n'}]",0,666986,ba35dab12a34930af7f940f7d41417bac91ec47f,37,5,6,6469,,,0,"Gate on octavia-v2-dsvm-tls-barbican jobs

TLS Barbican jobs were added a while ago and proven to be solid [1].
This is a good time to promote them to the gate queue.

[1] https://zuul.openstack.org/builds?job_name=octavia-v2-dsvm-tls-barbican&pipeline=gate

Change-Id: Idd517eefdf7c9ce6ef08f6b42c3aef27263e9cab
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/86/666986/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,b9866eab0aa3fdb73b581e5300f7919bcf10f761,, - octavia-v2-dsvm-tls-barbican - octavia-v2-dsvm-tls-barbican-stable-stein - octavia-v2-dsvm-tls-barbican-stable-rocky - octavia-v2-dsvm-tls-barbican-stable-queens - octavia-v2-dsvm-tls-barbican - octavia-v2-dsvm-tls-barbican-stable-stein - octavia-v2-dsvm-tls-barbican-stable-rocky - octavia-v2-dsvm-tls-barbican-stable-queens, - octavia-v2-dsvm-tls-barbican: voting: false - octavia-v2-dsvm-tls-barbican-stable-stein: voting: false - octavia-v2-dsvm-tls-barbican-stable-rocky: voting: false - octavia-v2-dsvm-tls-barbican-stable-queens: voting: false,8,8
openstack%2Foctavia-lib~master~Iba51738982a13cd93125cd26ac02280745821165,openstack/octavia-lib,master,Iba51738982a13cd93125cd26ac02280745821165,Add SCTP protocol and health-monitor constants,MERGED,2020-07-01 12:07:08.000000000,2020-07-17 20:27:10.000000000,2020-07-17 20:17:06.000000000,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 12:07:08.000000000', 'files': ['octavia_lib/common/constants.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/1e041202992e46280ddca6ef5cbda43ebacb2d2f', 'message': 'Add SCTP protocol and health-monitor constants\n\nStory: 2007884\nTask: 40255\n\nChange-Id: Iba51738982a13cd93125cd26ac02280745821165\n'}]",0,738834,1e041202992e46280ddca6ef5cbda43ebacb2d2f,10,4,1,29244,,,0,"Add SCTP protocol and health-monitor constants

Story: 2007884
Task: 40255

Change-Id: Iba51738982a13cd93125cd26ac02280745821165
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/34/738834/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_lib/common/constants.py'],1,1e041202992e46280ddca6ef5cbda43ebacb2d2f,,"HEALTH_MONITOR_SCTP = 'SCTP' HEALTH_MONITOR_UDP_CONNECT, HEALTH_MONITOR_SCTP)PROTOCOL_SCTP = 'SCTP' PROTOCOL_TERMINATED_HTTPS, PROTOCOL_PROXY, PROTOCOL_UDP, PROTOCOL_SCTP) PROTOCOL_TERMINATED_HTTPS, PROTOCOL_UDP, PROTOCOL_SCTP) PROTOCOL_PROXY, PROTOCOL_UDP, PROTOCOL_SCTP)"," HEALTH_MONITOR_UDP_CONNECT) PROTOCOL_TERMINATED_HTTPS, PROTOCOL_PROXY, PROTOCOL_UDP) PROTOCOL_TERMINATED_HTTPS, PROTOCOL_UDP) PROTOCOL_PROXY, PROTOCOL_UDP)",9,4
openstack%2Foctavia-tempest-plugin~master~Ic6623994713abb2c8b7a79eac8e0b3d10b0f1571,openstack/octavia-tempest-plugin,master,Ic6623994713abb2c8b7a79eac8e0b3d10b0f1571,Add stable/ussuri jobs to check and gate lists,MERGED,2020-07-09 18:51:05.000000000,2020-07-17 20:26:42.000000000,2020-07-17 20:17:03.000000000,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 18:51:05.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d2b5b447518c18e1705bcd4fbecd6405b8565c39', 'message': 'Add stable/ussuri jobs to check and gate lists\n\nChange-Id: Ic6623994713abb2c8b7a79eac8e0b3d10b0f1571\n'}]",0,740349,d2b5b447518c18e1705bcd4fbecd6405b8565c39,9,4,1,6469,,,0,"Add stable/ussuri jobs to check and gate lists

Change-Id: Ic6623994713abb2c8b7a79eac8e0b3d10b0f1571
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/49/740349/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,d2b5b447518c18e1705bcd4fbecd6405b8565c39,, name: octavia-v2-dsvm-noop-api-stable-ussuri parent: octavia-v2-dsvm-noop-api override-checkout: stable/ussuri - job: name: octavia-v2-dsvm-scenario-stable-ussuri parent: octavia-v2-dsvm-scenario override-checkout: stable/ussuri - job: name: octavia-v2-dsvm-tls-barbican-stable-ussuri parent: octavia-v2-dsvm-tls-barbican override-checkout: stable/ussuri - job: name: octavia-v2-dsvm-spare-pool-stable-ussuri parent: octavia-v2-dsvm-spare-pool override-checkout: stable/ussuri - job: name: octavia-v2-act-stdby-dsvm-scenario-stable-ussuri parent: octavia-v2-act-stdby-dsvm-scenario override-checkout: stable/ussuri - job:,,35,0
openstack%2Foctavia~stable%2Ftrain~I0213424eaafe079e7f9a9aaee8e29514c7e840f4,openstack/octavia,stable/train,I0213424eaafe079e7f9a9aaee8e29514c7e840f4,Remove install DIB from Git option,MERGED,2020-07-16 10:12:40.000000000,2020-07-17 20:25:13.000000000,2020-07-17 20:17:01.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 10:12:40.000000000', 'files': ['devstack/plugin.sh', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d6a7eebb266616f4723d3ffcf18a78ed317d6359', 'message': 'Remove install DIB from Git option\n\nDIB no longer supports Python 2 and is upper constrainted to 2.30.0.\nAllowing to install DIB from Git would cause nothing but trouble. Just\nrely on pip to a functional DIB version.\n\nChange-Id: I0213424eaafe079e7f9a9aaee8e29514c7e840f4\n(cherry picked from commit 1ea2fb18c076049515354ca37d650a5862302a9f)\n'}]",0,741421,d6a7eebb266616f4723d3ffcf18a78ed317d6359,8,3,1,6469,,,0,"Remove install DIB from Git option

DIB no longer supports Python 2 and is upper constrainted to 2.30.0.
Allowing to install DIB from Git would cause nothing but trouble. Just
rely on pip to a functional DIB version.

Change-Id: I0213424eaafe079e7f9a9aaee8e29514c7e840f4
(cherry picked from commit 1ea2fb18c076049515354ca37d650a5862302a9f)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/21/741421/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'zuul.d/jobs.yaml']",2,d6a7eebb266616f4723d3ffcf18a78ed317d6359,octavia-grenade,, - openstack/diskimage-builder,0,8
openstack%2Foctavia-lib~master~Ibfc1609d867b746e639f9b8382301c04a6723f4b,openstack/octavia-lib,master,Ibfc1609d867b746e639f9b8382301c04a6723f4b,Define the protocols supported by listener and pool respectively,MERGED,2019-03-10 06:51:59.000000000,2020-07-17 20:24:22.000000000,2020-07-17 20:17:02.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28329}, {'_account_id': 30619}]","[{'number': 1, 'created': '2019-03-10 06:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/c924e4330a1a044956afe635c64cbee7c757c378', 'message': 'Add LISTENER_SUPPORTED_PROTOCOLS and POOL_SUPPORTED_PROTOCOLS\n\nHTTPS and TERMINATED_HTTPS are not valid protocols for pools, and\nPROXY is not valid protocol for listener. So we should declare two\nconstants to differently constrain listener and pool support\nprotocols.\n\nChange-Id: Ibfc1609d867b746e639f9b8382301c04a6723f4b\n'}, {'number': 2, 'created': '2019-03-10 06:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/bc5e51a6d988bfee34e93621e203eba7730bff58', 'message': 'Define the protocols supported by listener and pool respectively\n\nHTTPS and TERMINATED_HTTPS are not valid protocols for pools, and\nPROXY is not valid protocol for listener. So we should declare two\nconstants to respectively constrain listener and pool support\nprotocols.\n\nChange-Id: Ibfc1609d867b746e639f9b8382301c04a6723f4b\n'}, {'number': 3, 'created': '2020-05-12 02:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/fca927b8803e7efbf6597d651e3fe15e09bef2e0', 'message': 'Define the protocols supported by listener and pool respectively\n\nHTTPS and TERMINATED_HTTPS are not valid protocols for pools, and\nPROXY is not valid protocol for listener. So we should declare two\nconstants to respectively constrain listener and pool support\nprotocols.\n\nChange-Id: Ibfc1609d867b746e639f9b8382301c04a6723f4b\n'}, {'number': 4, 'created': '2020-07-01 00:30:38.000000000', 'files': ['octavia_lib/common/constants.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/ab0beac3eab5b4b8930d18ae9d3a00a376b43cfe', 'message': 'Define the protocols supported by listener and pool respectively\n\nHTTPS and TERMINATED_HTTPS are not valid protocols for pools, and\nPROXY is not valid protocol for listener. So we should declare two\nconstants to respectively constrain listener and pool support\nprotocols.\n\nChange-Id: Ibfc1609d867b746e639f9b8382301c04a6723f4b\n'}]",6,642252,ab0beac3eab5b4b8930d18ae9d3a00a376b43cfe,19,6,4,28329,,,0,"Define the protocols supported by listener and pool respectively

HTTPS and TERMINATED_HTTPS are not valid protocols for pools, and
PROXY is not valid protocol for listener. So we should declare two
constants to respectively constrain listener and pool support
protocols.

Change-Id: Ibfc1609d867b746e639f9b8382301c04a6723f4b
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/52/642252/4 && git format-patch -1 --stdout FETCH_HEAD,['octavia_lib/common/constants.py'],1,c924e4330a1a044956afe635c64cbee7c757c378,protocol_contraint,"LISTENER_SUPPORTED_PROTOCOLS = (PROTOCOL_TCP, PROTOCOL_HTTPS, PROTOCOL_HTTP, PROTOCOL_TERMINATED_HTTPS, PROTOCOL_UDP) POOL_SUPPORTED_PROTOCOLS = (PROTOCOL_TCP, PROTOCOL_HTTP, PROTOCOL_PROXY, PROTOCOL_UDP)","SUPPORTED_PROTOCOLS = (PROTOCOL_TCP, PROTOCOL_HTTPS, PROTOCOL_HTTP, PROTOCOL_TERMINATED_HTTPS, PROTOCOL_PROXY, PROTOCOL_UDP)",4,2
openstack%2Foctavia-lib~master~Ie9bfb1ae17cba85db71b8818e068e3f757e7f671,openstack/octavia-lib,master,Ie9bfb1ae17cba85db71b8818e068e3f757e7f671,Switch to victoria jobs,MERGED,2020-07-06 16:21:32.000000000,2020-07-17 20:16:20.000000000,2020-07-17 20:11:06.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 16:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/809ac6dbeac8cf027e4f21876925e73e33303270', 'message': 'Switch to victoria jobs\n\nChange-Id: Ie9bfb1ae17cba85db71b8818e068e3f757e7f671\n'}, {'number': 2, 'created': '2020-07-16 15:56:02.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/b6d20c02b66deadbe842f66e03131325e68ec209', 'message': 'Switch to victoria jobs\n\nChange-Id: Ie9bfb1ae17cba85db71b8818e068e3f757e7f671\n'}]",0,739542,b6d20c02b66deadbe842f66e03131325e68ec209,15,5,2,6469,,,0,"Switch to victoria jobs

Change-Id: Ie9bfb1ae17cba85db71b8818e068e3f757e7f671
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/42/739542/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,809ac6dbeac8cf027e4f21876925e73e33303270,, - openstack-python3-victoria-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Foctavia~stable%2Ftrain~If5b6411a0b7c75441a406234c2792ea68d35d0fe,openstack/octavia,stable/train,If5b6411a0b7c75441a406234c2792ea68d35d0fe,Fix listener update with SNI certificates,MERGED,2020-07-17 11:28:41.000000000,2020-07-17 20:14:59.000000000,2020-07-17 20:11:02.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 11:28:41.000000000', 'files': ['octavia/tests/functional/db/test_repositories.py', 'octavia/common/data_models.py', 'releasenotes/notes/fix-api-listener-update-sni-containers-6595c52e2de1f621.yaml', 'octavia/db/models.py', 'octavia/db/repositories.py', 'octavia/api/v2/types/listener.py', 'octavia/tests/common/sample_data_models.py', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/drivers/utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b9dd09450863a155490f9bbaf4b0dd1f23a00b02', 'message': 'Fix listener update with SNI certificates\n\nSNI certificates were not being set in the database on listener update.\nA listener GET would not show the certificates in the sni_container_refs\nattribute. Also, the API was allowing set of SNI certs on non\nTERMINATED_HTTPS listeners.\n\nTask: 39042\nStory: 2007421\nStory: 2007430\n\nChange-Id: If5b6411a0b7c75441a406234c2792ea68d35d0fe\n(cherry picked from commit 9e070e6e6df6468a0b8f792cb089de0d9fc180b5)\n(cherry picked from commit 7c6fef82ac3afbd6e47d3b2ad6341fc1accb8c54)\n'}]",0,741619,b9dd09450863a155490f9bbaf4b0dd1f23a00b02,8,3,1,6469,,,0,"Fix listener update with SNI certificates

SNI certificates were not being set in the database on listener update.
A listener GET would not show the certificates in the sni_container_refs
attribute. Also, the API was allowing set of SNI certs on non
TERMINATED_HTTPS listeners.

Task: 39042
Story: 2007421
Story: 2007430

Change-Id: If5b6411a0b7c75441a406234c2792ea68d35d0fe
(cherry picked from commit 9e070e6e6df6468a0b8f792cb089de0d9fc180b5)
(cherry picked from commit 7c6fef82ac3afbd6e47d3b2ad6341fc1accb8c54)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/19/741619/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/db/test_repositories.py', 'octavia/common/data_models.py', 'releasenotes/notes/fix-api-listener-update-sni-containers-6595c52e2de1f621.yaml', 'octavia/db/models.py', 'octavia/db/repositories.py', 'octavia/api/v2/types/listener.py', 'octavia/tests/common/sample_data_models.py', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/drivers/utils.py']",10,b9dd09450863a155490f9bbaf4b0dd1f23a00b02,story/2007421," # Format the sni_containers -> sni_container_refs sni_containers = new_listener_dict.pop('sni_containers', None) if sni_containers: new_listener_dict['sni_container_refs'] = [] for sni in sni_containers: if isinstance(sni, dict): new_listener_dict['sni_container_refs'].append( sni['tls_container_id']) elif isinstance(sni, str): new_listener_dict['sni_container_refs'].append(sni) else: raise exceptions.ValidationException( detail=_('Invalid SNI container on listener')) ", if 'sni_containers' in new_listener_dict: sni_refs = [] sni_containers = new_listener_dict.pop('sni_containers') for sni in sni_containers: if 'tls_container_id' in sni: sni_refs.append(sni['tls_container_id']) else: raise exceptions.ValidationException( detail=_('Invalid SNI container on listener')) new_listener_dict['sni_container_refs'] = sni_refs if 'sni_container_refs' in listener_dict: listener_dict['sni_containers'] = listener_dict.pop( 'sni_container_refs') if 'listener' in sni: del sni['listener'],85,29
openstack%2Fopenstack-helm-infra~master~Ie78ffd16d8d732bd10b362726a57181bb5cb56cc,openstack/openstack-helm-infra,master,Ie78ffd16d8d732bd10b362726a57181bb5cb56cc,[ceph] make sure hostname present in k8s,MERGED,2020-07-15 21:35:34.000000000,2020-07-17 20:09:36.000000000,2020-07-17 20:08:11.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24780}, {'_account_id': 29974}, {'_account_id': 30746}, {'_account_id': 32190}]","[{'number': 1, 'created': '2020-07-15 21:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c267606e169cea00d958aac70bf58bc528ebd94e', 'message': '[ceph] test\n\nChange-Id: Ie78ffd16d8d732bd10b362726a57181bb5cb56cc\n'}, {'number': 2, 'created': '2020-07-15 23:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e870336e40a8bd03fe1537657223dfab858c82ab', 'message': '[ceph] make sure hostname present in k8s\n\nThis is to validate hosntame matches with node name registered with\nk8 before checking for ""rack"" label on the node.\n\nChange-Id: Ie78ffd16d8d732bd10b362726a57181bb5cb56cc\n'}, {'number': 3, 'created': '2020-07-15 23:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6791535941ec74ce4dfbe3e1a3b1423214751bce', 'message': '[ceph] make sure hostname present in k8s\n\nThis is to validate hosntame matches with node name registered with\nk8 before checking for ""rack"" label on the node.\n\nChange-Id: Ie78ffd16d8d732bd10b362726a57181bb5cb56cc\n'}, {'number': 4, 'created': '2020-07-16 14:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b8082a4973112461cbc84bd7085e58ac0fefa5da', 'message': '[ceph] make sure hostname present in k8s\n\nThis is to validate hosntame matches with node name registered with\nk8 before checking for ""rack"" label on the node.\n\nChange-Id: Ie78ffd16d8d732bd10b362726a57181bb5cb56cc\n'}, {'number': 5, 'created': '2020-07-16 16:38:53.000000000', 'files': ['ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/24072c188bdb5edb0b0c99d20820a1084f6db198', 'message': '[ceph] make sure hostname present in k8s\n\nThis is to validate hosntame matches with node name registered with\nk8 before checking for ""rack"" label on the node.\n\nChange-Id: Ie78ffd16d8d732bd10b362726a57181bb5cb56cc\n'}]",2,741324,24072c188bdb5edb0b0c99d20820a1084f6db198,20,10,5,28372,,,0,"[ceph] make sure hostname present in k8s

This is to validate hosntame matches with node name registered with
k8 before checking for ""rack"" label on the node.

Change-Id: Ie78ffd16d8d732bd10b362726a57181bb5cb56cc
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/24/741324/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl'],1,c267606e169cea00d958aac70bf58bc528ebd94e,,kubectl get nodes hostname,,2,0
openstack%2Fbifrost~master~I8ff1d620d5ab7608847fd4ac03a06168e3d1db2d,openstack/bifrost,master,I8ff1d620d5ab7608847fd4ac03a06168e3d1db2d,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:36:41.000000000,2020-07-17 20:08:41.000000000,2020-07-17 20:05:55.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 13:36:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/df9c0d446025fd7313786963043b5b0ec9110ddc', 'message': 'Set min version of tox to 3.2.1\n\nAs recommended, since version 3.2.0 tox switches pip invocations\nto use the module -m pip instead of direct invocation.\nWe set min version to 3.2.1 [1] to also fix the behavior of\n--parallel--safe-build\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10\n\nChange-Id: I8ff1d620d5ab7608847fd4ac03a06168e3d1db2d\n'}]",0,741193,df9c0d446025fd7313786963043b5b0ec9110ddc,9,4,1,23851,,,0,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I8ff1d620d5ab7608847fd4ac03a06168e3d1db2d
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/93/741193/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,df9c0d446025fd7313786963043b5b0ec9110ddc,tox-m-pip,minversion = 3.2.1,minversion = 3.1.0,1,1
openstack%2Foctavia~stable%2Fussuri~If5b6411a0b7c75441a406234c2792ea68d35d0fe,openstack/octavia,stable/ussuri,If5b6411a0b7c75441a406234c2792ea68d35d0fe,Fix listener update with SNI certificates,MERGED,2020-07-17 11:28:05.000000000,2020-07-17 19:43:27.000000000,2020-07-17 19:41:40.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 11:28:05.000000000', 'files': ['octavia/tests/functional/db/test_repositories.py', 'octavia/common/data_models.py', 'releasenotes/notes/fix-api-listener-update-sni-containers-6595c52e2de1f621.yaml', 'octavia/db/models.py', 'octavia/db/repositories.py', 'octavia/api/v2/types/listener.py', 'octavia/tests/common/sample_data_models.py', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/drivers/utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7c6fef82ac3afbd6e47d3b2ad6341fc1accb8c54', 'message': 'Fix listener update with SNI certificates\n\nSNI certificates were not being set in the database on listener update.\nA listener GET would not show the certificates in the sni_container_refs\nattribute. Also, the API was allowing set of SNI certs on non\nTERMINATED_HTTPS listeners.\n\nTask: 39042\nStory: 2007421\nStory: 2007430\n\nChange-Id: If5b6411a0b7c75441a406234c2792ea68d35d0fe\n(cherry picked from commit 9e070e6e6df6468a0b8f792cb089de0d9fc180b5)\n'}]",0,741618,7c6fef82ac3afbd6e47d3b2ad6341fc1accb8c54,8,3,1,6469,,,0,"Fix listener update with SNI certificates

SNI certificates were not being set in the database on listener update.
A listener GET would not show the certificates in the sni_container_refs
attribute. Also, the API was allowing set of SNI certs on non
TERMINATED_HTTPS listeners.

Task: 39042
Story: 2007421
Story: 2007430

Change-Id: If5b6411a0b7c75441a406234c2792ea68d35d0fe
(cherry picked from commit 9e070e6e6df6468a0b8f792cb089de0d9fc180b5)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/18/741618/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/db/test_repositories.py', 'octavia/common/data_models.py', 'releasenotes/notes/fix-api-listener-update-sni-containers-6595c52e2de1f621.yaml', 'octavia/db/models.py', 'octavia/db/repositories.py', 'octavia/api/v2/types/listener.py', 'octavia/tests/common/sample_data_models.py', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/drivers/utils.py']",10,7c6fef82ac3afbd6e47d3b2ad6341fc1accb8c54,story/2007421," # Format the sni_containers -> sni_container_refs sni_containers = new_listener_dict.pop('sni_containers', None) if sni_containers: new_listener_dict['sni_container_refs'] = [] for sni in sni_containers: if isinstance(sni, dict): new_listener_dict['sni_container_refs'].append( sni['tls_container_id']) elif isinstance(sni, str): new_listener_dict['sni_container_refs'].append(sni) else: raise exceptions.ValidationException( detail=_('Invalid SNI container on listener')) ", if 'sni_containers' in new_listener_dict: sni_refs = [] sni_containers = new_listener_dict.pop('sni_containers') for sni in sni_containers: if 'tls_container_id' in sni: sni_refs.append(sni['tls_container_id']) else: raise exceptions.ValidationException( detail=_('Invalid SNI container on listener')) new_listener_dict['sni_container_refs'] = sni_refs if 'sni_container_refs' in listener_dict: listener_dict['sni_containers'] = listener_dict.pop( 'sni_container_refs') if 'listener' in sni: del sni['listener'],85,29
openstack%2Fpython-glanceclient~master~I3dbfcfa0f5f590a41ed549afd44537d8ed41433a,openstack/python-glanceclient,master,I3dbfcfa0f5f590a41ed549afd44537d8ed41433a,Do not use the six library.,MERGED,2020-06-15 19:47:35.000000000,2020-07-17 19:34:17.000000000,2020-07-17 19:32:29.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-15 19:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/5a47638c5aa61a1c58464979f01dbf9e809d74bb', 'message': 'Do not use the six library.\n\nChange-Id: I3dbfcfa0f5f590a41ed549afd44537d8ed41433a\n'}, {'number': 2, 'created': '2020-06-23 19:57:59.000000000', 'files': ['glanceclient/common/progressbar.py', 'glanceclient/tests/unit/test_shell.py', 'glanceclient/shell.py', 'glanceclient/v1/apiclient/exceptions.py', 'glanceclient/v1/apiclient/base.py', 'glanceclient/v2/images.py', 'glanceclient/common/http.py', 'lower-constraints.txt', 'glanceclient/v2/metadefs.py', 'glanceclient/exc.py', 'glanceclient/common/https.py', 'requirements.txt', 'glanceclient/v1/images.py', 'glanceclient/v1/apiclient/utils.py', 'glanceclient/v2/tasks.py', 'tox.ini', 'glanceclient/common/utils.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/b513c8db4bf6a5b2eb0366117ca22e042dd3529e', 'message': 'Do not use the six library.\n\nChange-Id: I3dbfcfa0f5f590a41ed549afd44537d8ed41433a\n'}]",19,735670,b513c8db4bf6a5b2eb0366117ca22e042dd3529e,16,6,2,8122,,,0,"Do not use the six library.

Change-Id: I3dbfcfa0f5f590a41ed549afd44537d8ed41433a
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/70/735670/1 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/common/progressbar.py', 'glanceclient/tests/unit/test_shell.py', 'glanceclient/shell.py', 'glanceclient/v1/apiclient/exceptions.py', 'glanceclient/v1/apiclient/base.py', 'glanceclient/v2/images.py', 'glanceclient/common/http.py', 'lower-constraints.txt', 'glanceclient/v2/metadefs.py', 'glanceclient/exc.py', 'glanceclient/common/https.py', 'requirements.txt', 'glanceclient/v1/images.py', 'glanceclient/v1/apiclient/utils.py', 'glanceclient/v2/tasks.py', 'tox.ini', 'glanceclient/common/utils.py']",17,5a47638c5aa61a1c58464979f01dbf9e809d74bb,feature/remove-six-from-tests,"from urllib.parse import urlparse vals = [str(val) for val in property.get('enum')] file_obj.seekable()): if not isinstance(endpoint, str): url_parts = urlparse(endpoint) if isinstance(chunk, str): chunk = bytes(chunk, 'latin-1') if isinstance(chunk, str): chunk = bytes(chunk, 'latin-1')","import six.moves.urllib.parse as urlparseimport six vals = [six.text_type(val) for val in property.get('enum')] if six.PY2 and isinstance(src, unicode): return src.encode('utf-8') (six.PY2 or six.PY3 and file_obj.seekable())): if not isinstance(endpoint, six.string_types): url_parts = urlparse.urlparse(endpoint) if isinstance(chunk, six.string_types): chunk = six.b(chunk) if isinstance(chunk, six.string_types): chunk = six.b(chunk)",55,147
openstack%2Fcinder~stable%2Ftrain~I2e8af74bae63c487e786da6e99aa4827029a05a2,openstack/cinder,stable/train,I2e8af74bae63c487e786da6e99aa4827029a05a2,Disable siblings for the cinderlib functional tests,MERGED,2020-07-09 12:39:04.000000000,2020-07-17 19:32:43.000000000,2020-07-17 19:30:25.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-07-09 12:39:04.000000000', 'files': ['playbooks/tempest-and-cinderlib-run.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d77377c233e35c0c1eff681d7d935427312ea08a', 'message': 'Disable siblings for the cinderlib functional tests\n\nFollow the same pattern of the other jobs which deploy devstack\nbut runs also functional tests (see devtack-tox-functional\nand devstack-tox-functional-consumer).\n\nWithout this, the older branches where cinderlib functional tests\nuse Python 2 (stein, and soon train when that is branched) fails\nbecause they try to install packages part of which are Python 3\nonly.\n\nThe same change was applied to the branchless jobs defined\ninside cinder-tempest-plugins: https://review.opendev.org/738078/\n\nChange-Id: I2e8af74bae63c487e786da6e99aa4827029a05a2\n(cherry picked from commit f9019679b3d7ea252d9d6b0aeef6b69167f051af)\n(cherry picked from commit 72846a194b51938713eb4ea30fa11dcd82ccddce)\n'}]",0,740263,d77377c233e35c0c1eff681d7d935427312ea08a,72,17,1,10459,,,0,"Disable siblings for the cinderlib functional tests

Follow the same pattern of the other jobs which deploy devstack
but runs also functional tests (see devtack-tox-functional
and devstack-tox-functional-consumer).

Without this, the older branches where cinderlib functional tests
use Python 2 (stein, and soon train when that is branched) fails
because they try to install packages part of which are Python 3
only.

The same change was applied to the branchless jobs defined
inside cinder-tempest-plugins: https://review.opendev.org/738078/

Change-Id: I2e8af74bae63c487e786da6e99aa4827029a05a2
(cherry picked from commit f9019679b3d7ea252d9d6b0aeef6b69167f051af)
(cherry picked from commit 72846a194b51938713eb4ea30fa11dcd82ccddce)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/740263/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest-and-cinderlib-run.yaml'],1,d77377c233e35c0c1eff681d7d935427312ea08a,, tox_install_siblings: false,,1,0
openstack%2Fpython-openstackclient~master~I5143dac9d52ff091a269afae3f8ac821b1d61f45,openstack/python-openstackclient,master,I5143dac9d52ff091a269afae3f8ac821b1d61f45,Fix the testcases that try to delete already deleted volume snapshots,ABANDONED,2020-07-15 23:59:11.000000000,2020-07-17 19:24:16.000000000,,"[{'_account_id': 5690}, {'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30690}]","[{'number': 1, 'created': '2020-07-15 23:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0a73234c7f4f6b4b9cd129c72cd38d7253c3d406', 'message': 'Fix the testcases that try to delete already deleted volume snapshots\n\nCurrently, the volume_snapshot testcases create volume snapshots, deletes them\nand again tries to deletes them without checking if they actually exist. So,\nadding a check that deletes volume snapshots the second time only if they exist.\n\nChange-Id: I5143dac9d52ff091a269afae3f8ac821b1d61f45\n'}, {'number': 2, 'created': '2020-07-16 16:52:23.000000000', 'files': ['openstackclient/tests/functional/volume/v3/test_volume.py', 'openstackclient/tests/functional/volume/v2/test_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/520502d72d5f6cbd32f2cf4af9ea884a12cdafe4', 'message': 'Fix the testcases that try to delete already deleted volume snapshots\n\nCurrently, the volume_snapshot testcases create volume snapshots, deletes them\nand again tries to deletes them without checking if they actually exist. So,\nadding a check that deletes volume snapshots the second time only if they exist.\n\nChange-Id: I5143dac9d52ff091a269afae3f8ac821b1d61f45\n'}]",3,741344,520502d72d5f6cbd32f2cf4af9ea884a12cdafe4,7,6,2,30690,,,0,"Fix the testcases that try to delete already deleted volume snapshots

Currently, the volume_snapshot testcases create volume snapshots, deletes them
and again tries to deletes them without checking if they actually exist. So,
adding a check that deletes volume snapshots the second time only if they exist.

Change-Id: I5143dac9d52ff091a269afae3f8ac821b1d61f45
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/44/741344/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/functional/volume/v3/test_volume.py', 'openstackclient/tests/functional/volume/v2/test_volume.py']",2,0a73234c7f4f6b4b9cd129c72cd38d7253c3d406,," if raw_output != """": self.wait_for_delete('volume snapshot', snapshot_name)"," self.wait_for_delete('volume snapshot', snapshot_name)",4,2
openstack%2Ftripleo-ansible~stable%2Fussuri~Ibb91dfa9684b481dea34607fc47c0d531d56ee45,openstack/tripleo-ansible,stable/ussuri,Ibb91dfa9684b481dea34607fc47c0d531d56ee45,Make buildah login optional,MERGED,2020-07-16 04:16:41.000000000,2020-07-17 19:07:25.000000000,2020-07-17 19:07:25.000000000,"[{'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-16 04:16:41.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/login/converge.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_buildah_login.yml', 'tripleo_ansible/roles/tripleo_podman/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_login.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c49c6ffbfc6f7cfbc0bfe25e27708c7734404e53', 'message': ""Make buildah login optional\n\nBuildah login is not needed always, it's needed\nwhen pushing to container registeries, so make it\noptional by role var tripleo_podman_buildah_login set\nto false by default.\n\nRelated-Bug: #1886555\nChange-Id: Ibb91dfa9684b481dea34607fc47c0d531d56ee45\n(cherry picked from commit 0d9effda372c034bafeaec9fca89c3af521c58bd)\n""}]",0,741368,c49c6ffbfc6f7cfbc0bfe25e27708c7734404e53,16,5,1,13861,,,0,"Make buildah login optional

Buildah login is not needed always, it's needed
when pushing to container registeries, so make it
optional by role var tripleo_podman_buildah_login set
to false by default.

Related-Bug: #1886555
Change-Id: Ibb91dfa9684b481dea34607fc47c0d531d56ee45
(cherry picked from commit 0d9effda372c034bafeaec9fca89c3af521c58bd)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/68/741368/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/login/converge.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_buildah_login.yml', 'tripleo_ansible/roles/tripleo_podman/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_login.yml']",6,c49c6ffbfc6f7cfbc0bfe25e27708c7734404e53,bug/1886555-stable/ussuri,," - name: Perform container registry login(s) with buildah become: true shell: |- buildah login --username=$REGISTRY_USERNAME \ --password=$REGISTRY_PASSWORD \ --tls-verify={{ tripleo_podman_tls_verify }} \ $REGISTRY environment: REGISTRY_USERNAME: ""{{ lookup('dict', item.value).key }}"" REGISTRY_PASSWORD: ""{{ lookup('dict', item.value).value }}"" REGISTRY: ""{{ item.key }}"" no_log: ""{{ tripleo_podman_hide_sensitive_logs | bool }}"" loop: ""{{ query('dict', tripleo_container_registry_logins) }}"" register: registry_login_buildah",49,16
openstack%2Fmanila-ui~master~Ibf35d7196d83e1018881776110ce173e68cf8286,openstack/manila-ui,master,Ibf35d7196d83e1018881776110ce173e68cf8286,Drop legacy dsvm job & change zuulv3 integration job,MERGED,2020-07-16 18:40:40.000000000,2020-07-17 19:03:45.000000000,2020-07-17 13:57:21.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 18:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/f588e40ef12f2aeacf7de5da362a6ffd6e1f37ab', 'message': 'Drop legacy dsvm job & change zuulv3 integration job\n\nThe legacy job in this repository was just\nsetting up devstack with manila-ui enabled\nand doing nothing else.\n\nWe added an integration gate job a couple of\nreleases ago that does exactly what the above\njob does, and goes a step beyond by executing\ntests that check whether manila-ui is working.\n\nWe can make this job use the fake driver from\nmanila so we can add more interesting and useful\ntest cases without having to worry about any\nlacking capabilities.\n\nAlso make this integration job voting.\n\nChange-Id: Ibf35d7196d83e1018881776110ce173e68cf8286\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-07-16 19:21:13.000000000', 'files': ['playbooks/legacy/manila-ui-dsvm/run.yaml', '.zuul.yaml', 'playbooks/legacy/manila-ui-dsvm/post.yaml'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/1f0754ff32660c3b669a1e12d302d4c4eea090a2', 'message': 'Drop legacy dsvm job & change zuulv3 integration job\n\nThe legacy job in this repository was just\nsetting up devstack with manila-ui enabled\nand doing nothing else.\n\nWe added an integration gate job a couple of\nreleases ago that does exactly what the above\njob does, and goes a step beyond by executing\ntests that check whether manila-ui is working.\n\nWe can make this job use the fake driver from\nmanila so we can add more interesting and useful\ntest cases without having to worry about any\nlacking capabilities.\n\nAlso make this integration job voting.\n\nChange-Id: Ibf35d7196d83e1018881776110ce173e68cf8286\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,741521,1f0754ff32660c3b669a1e12d302d4c4eea090a2,13,3,2,16643,,,0,"Drop legacy dsvm job & change zuulv3 integration job

The legacy job in this repository was just
setting up devstack with manila-ui enabled
and doing nothing else.

We added an integration gate job a couple of
releases ago that does exactly what the above
job does, and goes a step beyond by executing
tests that check whether manila-ui is working.

We can make this job use the fake driver from
manila so we can add more interesting and useful
test cases without having to worry about any
lacking capabilities.

Also make this integration job voting.

Change-Id: Ibf35d7196d83e1018881776110ce173e68cf8286
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/21/741521/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/manila-ui-dsvm/run.yaml', '.zuul.yaml', 'playbooks/legacy/manila-ui-dsvm/post.yaml']",3,f588e40ef12f2aeacf7de5da362a6ffd6e1f37ab,native-zuulv3-migration,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*nose_results.html - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testr_results.html.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.testrepository/tmp* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testrepository.subunit.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}/tox' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.tox/*/log/* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,49,182
openstack%2Foctavia-lib~master~Ia931aeaf6cda38dbca022b7c17760b2ff77b858c,openstack/octavia-lib,master,Ia931aeaf6cda38dbca022b7c17760b2ff77b858c,Add py38 classifier,MERGED,2020-07-03 16:05:41.000000000,2020-07-17 18:46:35.000000000,2020-07-17 18:44:51.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-03 16:05:41.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/0ce11e8773683f6dae5eb0a7894231279e7d710b', 'message': 'Add py38 classifier\n\nadd py38 classifier\n\nChange-Id: Ia931aeaf6cda38dbca022b7c17760b2ff77b858c\n'}]",0,739258,0ce11e8773683f6dae5eb0a7894231279e7d710b,9,4,1,26285,,,0,"Add py38 classifier

add py38 classifier

Change-Id: Ia931aeaf6cda38dbca022b7c17760b2ff77b858c
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/58/739258/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0ce11e8773683f6dae5eb0a7894231279e7d710b,, Programming Language :: Python :: 3.8,,1,0
openstack%2Ftripleo-quickstart-extras~master~I73f3ba3114e10423c3be4e8c25497de9343c8141,openstack/tripleo-quickstart-extras,master,I73f3ba3114e10423c3be4e8c25497de9343c8141,Replace validate-tempest with tempest-skiplist,MERGED,2020-05-11 10:49:05.000000000,2020-07-17 18:09:45.000000000,2020-07-17 18:09:44.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 30742}]","[{'number': 1, 'created': '2020-05-11 10:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/69e2e74dbc5095bde4e5dd3b15b29c4325fc8ed4', 'message': 'DNM - Testing tempest-skip tool\n\nDepends-On: https://review.opendev.org/#/c/725220/\nChange-Id: I73f3ba3114e10423c3be4e8c25497de9343c8141\n'}, {'number': 2, 'created': '2020-05-11 15:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b9437755f18625ad1063d45f2fe32166e9c757f3', 'message': 'DNM - Testing tempest-skip tool\n\nDepends-On: https://review.opendev.org/#/c/725220/\nChange-Id: I73f3ba3114e10423c3be4e8c25497de9343c8141\n'}, {'number': 3, 'created': '2020-05-11 16:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d2730dd4803d5df7604c63c57dd520a0b8f2dd96', 'message': 'DNM - Testing tempest-skip tool\n\nDepends-On: https://review.opendev.org/#/c/725220/\nDepends-On: https://review.opendev.org/#/c/726843/\nChange-Id: I73f3ba3114e10423c3be4e8c25497de9343c8141\n'}, {'number': 4, 'created': '2020-05-12 08:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c44e3a135af2d7c6c9eca85f68e5894fe8338cde', 'message': 'DNM - Testing tempest-skip tool\n\nDepends-On: https://review.opendev.org/#/c/725220/\nDepends-On: https://review.opendev.org/#/c/726843/\nDepends-On: https://review.opendev.org/#/c/727101/\n\nChange-Id: I73f3ba3114e10423c3be4e8c25497de9343c8141\n'}, {'number': 5, 'created': '2020-05-12 09:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/87fd37f513b0df6463dba607455a0828deaf513f', 'message': 'DNM - Testing tempest-skip tool\n\nDepends-On: https://review.opendev.org/#/c/725220/\nDepends-On: https://review.opendev.org/#/c/726843/\n\nChange-Id: I73f3ba3114e10423c3be4e8c25497de9343c8141\n'}, {'number': 6, 'created': '2020-06-25 08:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/98fb3e9e5ae17e61e64cadc736253fbfdc1a5598', 'message': 'DNM - Testing tempest-skip tool\n\nDepends-On: https://review.opendev.org/#/c/734775/\n\nChange-Id: I73f3ba3114e10423c3be4e8c25497de9343c8141\n'}, {'number': 7, 'created': '2020-06-25 13:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/46591b57ae192933b8b940fa7c538e8bc8683d75', 'message': 'DNM - Testing tempest-skip tool\n\nDepends-On: https://review.opendev.org/#/c/734775/\nDepends-On: https://review.opendev.org/738022\n\nChange-Id: I73f3ba3114e10423c3be4e8c25497de9343c8141\n'}, {'number': 8, 'created': '2020-07-01 11:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e7738bd34d1c7d0c2926dbab06825f7900dd31cb', 'message': 'DNM - Testing tempest-skip tool\n\nDepends-On: https://review.opendev.org/#/c/734775/\nDepends-On: https://review.opendev.org/738022\n\nChange-Id: I73f3ba3114e10423c3be4e8c25497de9343c8141\n'}, {'number': 9, 'created': '2020-07-13 09:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/74c58fe045e6edc593b222076738464fd6e049a4', 'message': 'Replace validate-tempest with tempest-skiplist\n\nThe role validate-tempest is now deprecated (for a long time) and we are\nmoving to openstack-tempest-skiplist that is now up to date with the\nskipped tests in validate-tempest\n\nDepends-On: https://review.opendev.org/#/c/734775/\nDepends-On: https://review.opendev.org/738022\n\nChange-Id: I73f3ba3114e10423c3be4e8c25497de9343c8141\n'}, {'number': 10, 'created': '2020-07-15 10:36:00.000000000', 'files': ['playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/535b9eba75b163d115a7083f3f39039249650ef0', 'message': 'Replace validate-tempest with tempest-skiplist\n\nThe role validate-tempest is now deprecated (for a long time) and we are\nmoving to openstack-tempest-skiplist that is now up to date with the\nskipped tests in validate-tempest\n\nDepends-On: https://review.opendev.org/#/c/734775/\nDepends-On: https://review.opendev.org/738022\n\nTaiga: #1839\nChange-Id: I73f3ba3114e10423c3be4e8c25497de9343c8141\n'}]",3,726773,535b9eba75b163d115a7083f3f39039249650ef0,54,11,10,8367,,,0,"Replace validate-tempest with tempest-skiplist

The role validate-tempest is now deprecated (for a long time) and we are
moving to openstack-tempest-skiplist that is now up to date with the
skipped tests in validate-tempest

Depends-On: https://review.opendev.org/#/c/734775/
Depends-On: https://review.opendev.org/738022

Taiga: #1839
Change-Id: I73f3ba3114e10423c3be4e8c25497de9343c8141
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/73/726773/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest.yml'],1,69e2e74dbc5095bde4e5dd3b15b29c4325fc8ed4,tempest-skiplist,"- block: name: Install tempest-skip tool vars: tempest_skip_path: ""{{ zuul.projects['opendev.org/openstack/openstack-tempest-skiplist'].src_dir }}"" include_role: name: install_skiplist ",,7,0
openstack%2Fironic~master~Iac29bf90a0eed721050f26b3ce7edbc7f75173bc,openstack/ironic,master,Iac29bf90a0eed721050f26b3ce7edbc7f75173bc,DNM collect grenade ngs information,ABANDONED,2020-06-29 18:42:56.000000000,2020-07-17 17:59:07.000000000,,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-06-29 18:42:56.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/21896b00636acc3ab7f38e002cac6a6df1307e87', 'message': 'DNM collect grenade ngs information\n\nDepends-On: https://review.opendev.org/738486\nChange-Id: Iac29bf90a0eed721050f26b3ce7edbc7f75173bc\n'}]",0,738487,21896b00636acc3ab7f38e002cac6a6df1307e87,5,3,1,11655,,,0,"DNM collect grenade ngs information

Depends-On: https://review.opendev.org/738486
Change-Id: Iac29bf90a0eed721050f26b3ce7edbc7f75173bc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/87/738487/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,21896b00636acc3ab7f38e002cac6a6df1307e87,, - ironic-grenade-dsvm-multinode-multitenant, - ironic-standalone-redfish: voting: false - ironic-tempest-functional-python3 - ironic-grenade - ironic-grenade-dsvm-multinode-multitenant: voting: false - ironic-tempest-partition-bios-redfish-pxe - ironic-tempest-partition-uefi-redfish-vmedia - ironic-tempest-wholedisk-bios-snmp-pxe - ironic-tempest-ipa-partition-pxe_ipmitool - ironic-tempest-ipa-partition-uefi-pxe_ipmitool - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-indirect - ironic-tempest-ipa-partition-bios-agent_ipmitool-indirect - ironic-tempest-bfv - ironic-tempest-ipa-partition-uefi-pxe-grub2 - metalsmith-integration-glance-localboot-centos7 # Non-voting jobs - ironic-tox-bandit: voting: false - ironic-inspector-tempest: voting: false - ironic-inspector-tempest-managed-non-standalone: voting: false - ironic-inspector-tempest-partition-bios-redfish-vmedia: voting: false - ironic-tempest-ipa-wholedisk-bios-ipmi-direct-dib: voting: false - bifrost-integration-tinyipa-ubuntu-bionic: voting: false - ironic-tempest-pxe_ipmitool-postgres: voting: false - ironic-tempest-ipxe-ipv6: voting: false,1,34
openstack%2Foslo.service~stable%2Frocky~I4e908c1fb1a61d8a57769e2aa85c02a21722367b,openstack/oslo.service,stable/rocky,I4e908c1fb1a61d8a57769e2aa85c02a21722367b,Ensure connection is active in graceful shutdown tests,MERGED,2020-07-17 14:41:24.000000000,2020-07-17 17:41:52.000000000,2020-07-17 17:40:11.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 14:41:24.000000000', 'files': ['oslo_service/tests/eventlet_service.py', 'oslo_service/tests/test_service.py'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/3789b4fe38171d78f7c13f536a88682094eb73cc', 'message': 'Ensure connection is active in graceful shutdown tests\n\nRecent versions of eventlet close idle connections, so just opening\na connection is no longer sufficient to trigger graceful shutdown\nbehavior. This change sends a request and adds a delay on the server\nside so the connection will be active throughout the test.\n\nChange-Id: I4e908c1fb1a61d8a57769e2aa85c02a21722367b\nCloses-Bug: 1788959\n(cherry picked from commit 2705800cd32b383df80f872577ccca2cab6f3522)\n'}]",0,741653,3789b4fe38171d78f7c13f536a88682094eb73cc,10,5,1,17685,,,0,"Ensure connection is active in graceful shutdown tests

Recent versions of eventlet close idle connections, so just opening
a connection is no longer sufficient to trigger graceful shutdown
behavior. This change sends a request and adds a delay on the server
side so the connection will be active throughout the test.

Change-Id: I4e908c1fb1a61d8a57769e2aa85c02a21722367b
Closes-Bug: 1788959
(cherry picked from commit 2705800cd32b383df80f872577ccca2cab6f3522)
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/53/741653/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_service/tests/eventlet_service.py', 'oslo_service/tests/test_service.py']",2,3789b4fe38171d78f7c13f536a88682094eb73cc,bug/1788959," # NOTE(bnemec): process_time of 5 needs to be longer than the graceful # shutdown timeout in the ""exceeded"" test below, but also needs to be # shorter than the timeout in the regular graceful shutdown test. kwargs={'workers': self.workers, 'process_time': 5}) # Send request to make the connection active. conn.sendall(b'GET / HTTP/1.1\r\nHost: localhost\r\n\r\n') # server with graceful shutdown must wait forever if # we can not wait forever ... so 1 second is enough. # NOTE(bnemec): In newer versions of eventlet that drop idle # connections, this needs to be long enough to allow the signal # handler to fire but short enough that our request doesn't complete # or the connection will be closed and the server will stop. time.sleep(1)", kwargs={'workers': self.workers}) # server with graceful shutdown must wait forewer if # we can not wait forever ... so 3 seconds are enough time.sleep(3),19,5
openstack%2Fkolla-ansible~master~Icda62c038aa2d704a0ba89c315f39445e63a6829,openstack/kolla-ansible,master,Icda62c038aa2d704a0ba89c315f39445e63a6829,[DNM]: test,NEW,2020-07-17 17:03:32.000000000,2020-07-17 17:25:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-17 17:03:32.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c455035dcc7b379f43ba53656a574ad7a67e433a', 'message': '[DNM]: test\n\nChange-Id: Icda62c038aa2d704a0ba89c315f39445e63a6829\n'}]",0,741683,c455035dcc7b379f43ba53656a574ad7a67e433a,2,1,1,28543,,,0,"[DNM]: test

Change-Id: Icda62c038aa2d704a0ba89c315f39445e63a6829
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/83/741683/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,c455035dcc7b379f43ba53656a574ad7a67e433a,,test,,1,0
openstack%2Fpython-ironic-inspector-client~master~I100a313e91316b8457c5e2e37f106da2fab31777,openstack/python-ironic-inspector-client,master,I100a313e91316b8457c5e2e37f106da2fab31777,Tempest job to use the inherited devstack_services value,MERGED,2020-07-16 14:55:44.000000000,2020-07-17 17:23:34.000000000,2020-07-17 17:16:24.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-16 14:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/3ed088281483c808db27bf55bafd09fa38a676bb', 'message': ""Tempest job to use the inherited devcstack_services value\n\nThe python-ironic-inspector-client-tempest should use the inherited\ndevcstack_services configuration from it's base class instead of\nexplicitly enabling each service.\n\nChange-Id: I100a313e91316b8457c5e2e37f106da2fab31777\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 2, 'created': '2020-07-16 14:59:44.000000000', 'files': ['zuul.d/python-ironic-inspector-client-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/55d99610c22a4610cd1100033fcea33104e03b6d', 'message': ""Tempest job to use the inherited devstack_services value\n\nThe python-ironic-inspector-client-tempest should use the inherited\ndevcstack_services configuration from it's base class instead of\nexplicitly enabling each service.\n\nChange-Id: I100a313e91316b8457c5e2e37f106da2fab31777\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}]",0,741474,55d99610c22a4610cd1100033fcea33104e03b6d,10,4,2,6773,,,0,"Tempest job to use the inherited devstack_services value

The python-ironic-inspector-client-tempest should use the inherited
devcstack_services configuration from it's base class instead of
explicitly enabling each service.

Change-Id: I100a313e91316b8457c5e2e37f106da2fab31777
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/74/741474/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/python-ironic-inspector-client-jobs.yaml'],1,3ed088281483c808db27bf55bafd09fa38a676bb,neutron-legacy,, devstack_services: c-api: False c-bak: False c-sch: False c-vol: False cinder: False s-account: True s-container: True s-object: True s-proxy: True dstat: True g-api: True g-reg: True key: True mysql: True n-api: True n-api-meta: True n-cauth: True n-cond: True n-cpu: True n-novnc: True n-obj: True n-sch: True placement-api: True q-agt: False q-dhcp: False q-l3: False q-meta: False q-metering: False q-svc: False neutron-api: True neutron-agent: True neutron-dhcp: True neutron-l3: True neutron-metadata-agent: True neutron-metering: True rabbit: True ir-api: True ir-cond: True ironic-inspector: True ironic-inspector-dhcp: True,0,41
openstack%2Fopenstack-helm-infra~master~I63d00549327c27ec0590c1a9d05966015f480c92,openstack/openstack-helm-infra,master,I63d00549327c27ec0590c1a9d05966015f480c92,Add namespace to database backup error logs,MERGED,2020-07-16 21:23:35.000000000,2020-07-17 17:20:36.000000000,2020-07-17 17:14:03.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 30746}]","[{'number': 1, 'created': '2020-07-16 21:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c5a0cc7bcaa6b9789e717f4e5ca3d3ca8a7e5afe', 'message': 'Add namespace to database backup error logs\n\nNamespace is added to error logs generated by database backup\nmain script for etcd, mariadb and postgresql database backups\n\nChange-Id: I63d00549327c27ec0590c1a9d05966015f480c92\n'}, {'number': 2, 'created': '2020-07-17 02:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/286e6701925c8007cd8ccf5e5ef2dbeb40ae34c8', 'message': 'Add namespace to database backup error logs\n\nNamespace is added to error logs generated by database backup\nmain script for etcd, mariadb and postgresql database backups\n\nChange-Id: I63d00549327c27ec0590c1a9d05966015f480c92\n'}, {'number': 3, 'created': '2020-07-17 12:11:14.000000000', 'files': ['helm-toolkit/templates/scripts/db-backup-restore/_backup_main.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/898f6b94ed09f10dc76fc5b9aa460f1d44f2daa3', 'message': 'Add namespace to database backup error logs\n\nNamespace is added to error logs generated by database backup\nmain script for etcd, mariadb and postgresql database backups\n\nChange-Id: I63d00549327c27ec0590c1a9d05966015f480c92\n'}]",0,741548,898f6b94ed09f10dc76fc5b9aa460f1d44f2daa3,20,6,3,18236,,,0,"Add namespace to database backup error logs

Namespace is added to error logs generated by database backup
main script for etcd, mariadb and postgresql database backups

Change-Id: I63d00549327c27ec0590c1a9d05966015f480c92
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/48/741548/2 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/scripts/db-backup-restore/_backup_main.sh.tpl'],1,c5a0cc7bcaa6b9789e717f4e5ca3d3ca8a7e5afe,," log ERROR ""${DB_NAME}_backup"" ""${DB_NAMESPACE} namespace: ${MSG}"" log ERROR ""${DB_NAME}_backup"" ""Backup ${TARBALL_FILE} could not be sent to remote RGW."""," log ERROR ""${DB_NAME}_backup"" ""${MSG}"" log ERROR ""${DB_NAME}_backup"" ""Backup could not be sent to remote RGW.""",2,2
openstack%2Fkolla-ansible~master~I22059cc9f094d2d3b871ef7e9a45fef90186b1a5,openstack/kolla-ansible,master,I22059cc9f094d2d3b871ef7e9a45fef90186b1a5,Add py38 package metadata,MERGED,2020-07-15 07:06:01.000000000,2020-07-17 17:04:26.000000000,2020-07-17 17:01:32.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-15 07:06:01.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4df7d69874d1df9296ed9ae771331e62423bc951', 'message': 'Add py38 package metadata\n\nChange-Id: I22059cc9f094d2d3b871ef7e9a45fef90186b1a5\n'}]",0,741101,4df7d69874d1df9296ed9ae771331e62423bc951,9,3,1,26285,,,0,"Add py38 package metadata

Change-Id: I22059cc9f094d2d3b871ef7e9a45fef90186b1a5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/741101/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4df7d69874d1df9296ed9ae771331e62423bc951,, Programming Language :: Python :: 3.8,,1,0
openstack%2Fironic-python-agent-builder~master~If130594b9ea041409c68498f1ae2239578217d07,openstack/ironic-python-agent-builder,master,If130594b9ea041409c68498f1ae2239578217d07,Fixes DIB_IPA_CERT certificate copy issue,MERGED,2020-07-17 07:12:59.000000000,2020-07-17 17:03:57.000000000,2020-07-17 17:01:06.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-07-17 07:12:59.000000000', 'files': ['dib/ironic-python-agent-ramdisk/install.d/ironic-python-agent-ramdisk-source-install/60-ironic-python-agent-ramdisk-install'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/541e8587a85be9aeb9701c1a51edd1f277977cfb', 'message': 'Fixes DIB_IPA_CERT certificate copy issue\n\nWhen copying the DIB_IPA_CERT certificate to certificate bundle the script\nfails due to incorrect print usage in python3\n\nChange-Id: If130594b9ea041409c68498f1ae2239578217d07\n'}]",0,741585,541e8587a85be9aeb9701c1a51edd1f277977cfb,8,3,1,18781,,,0,"Fixes DIB_IPA_CERT certificate copy issue

When copying the DIB_IPA_CERT certificate to certificate bundle the script
fails due to incorrect print usage in python3

Change-Id: If130594b9ea041409c68498f1ae2239578217d07
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/85/741585/1 && git format-patch -1 --stdout FETCH_HEAD,['dib/ironic-python-agent-ramdisk/install.d/ironic-python-agent-ramdisk-source-install/60-ironic-python-agent-ramdisk-install'],1,541e8587a85be9aeb9701c1a51edd1f277977cfb,fix_certificate_copy," cat /tmp/in_target.d/ipa-trusted-cert.pem >> $($VENVDIR/bin/python -c ""import requests; print(requests.certs.where())"")"," cat /tmp/in_target.d/ipa-trusted-cert.pem >> $($VENVDIR/bin/python -c ""import requests; print requests.certs.where()"")",1,1
openstack%2Ftripleo-ansible~stable%2Fussuri~I3a5fc2214e7068f1e7aacc0e7a8a681c3f9715e9,openstack/tripleo-ansible,stable/ussuri,I3a5fc2214e7068f1e7aacc0e7a8a681c3f9715e9,[ussuri] paunch: exit module if config doesn't exist,MERGED,2020-07-16 02:05:37.000000000,2020-07-17 16:51:03.000000000,2020-07-17 16:51:03.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-16 02:05:37.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/paunch.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b2fe3f2d612fff70c94fcd83a4eac13907aea016', 'message': ""[ussuri] paunch: exit module if config doesn't exist\n\nIt's possible that the step directory doesn't exist in a deployment,\njust quit the module with no change and move on.\n\nIt'll avoid running paunch with empty config.\nThis will be backported to Train.\n\nChange-Id: I3a5fc2214e7068f1e7aacc0e7a8a681c3f9715e9\n""}]",0,741355,b2fe3f2d612fff70c94fcd83a4eac13907aea016,24,5,1,3153,,,0,"[ussuri] paunch: exit module if config doesn't exist

It's possible that the step directory doesn't exist in a deployment,
just quit the module with no change and move on.

It'll avoid running paunch with empty config.
This will be backported to Train.

Change-Id: I3a5fc2214e7068f1e7aacc0e7a8a681c3f9715e9
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/55/741355/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/paunch.py'],1,b2fe3f2d612fff70c94fcd83a4eac13907aea016,ussuri/paunch, # Do nothing if config path doesn't exist if not os.path.exists(self.config): self.module.exit_json(**self.results),,3,0
openstack%2Foslo.messaging~master~I4c459d8c947dac213a1866c0d37e8f3d547aa82e,openstack/oslo.messaging,master,I4c459d8c947dac213a1866c0d37e8f3d547aa82e,Drop a python 2 exception management,MERGED,2020-06-18 11:27:24.000000000,2020-07-17 16:29:52.000000000,2020-07-17 16:28:14.000000000,"[{'_account_id': 8770}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-18 11:27:24.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/661bdd7f41d1e253e76c9d516019eb6aafe90f15', 'message': ""Drop a python 2 exception management\n\nPreviously (when python 2 was supported) we introduced some specific\nexception management to detect connections issues when a rabbitmq\ncluster node disappearing.\n\nThe original issue was that a ConnectionRefusedError is thrown and not\nmanaged by oslo.messaging to detect heartbeat issue and call ensure_connection\nfor switching the connection destination (cluster node).\n\n`ConnectionRefusedError` is only a python 3 exception [2].\n\nNow that we only support python 3 we don't need to continue to\nwrap/emulate this kind of exceptions (ConnectionRefusedError) [2] and\nso we can drop the python 2 compatibility code to only support python 3 code.\n\n[1] https://github.com/openstack/oslo.messaging/commit/9d8b1430e5c081b081c0e3c0b5f12f744dc7809d\n[2] https://docs.python.org/3/library/exceptions.html#ConnectionRefusedError\n\nChange-Id: I4c459d8c947dac213a1866c0d37e8f3d547aa82e\n""}]",0,736622,661bdd7f41d1e253e76c9d516019eb6aafe90f15,23,5,1,28522,,,0,"Drop a python 2 exception management

Previously (when python 2 was supported) we introduced some specific
exception management to detect connections issues when a rabbitmq
cluster node disappearing.

The original issue was that a ConnectionRefusedError is thrown and not
managed by oslo.messaging to detect heartbeat issue and call ensure_connection
for switching the connection destination (cluster node).

`ConnectionRefusedError` is only a python 3 exception [2].

Now that we only support python 3 we don't need to continue to
wrap/emulate this kind of exceptions (ConnectionRefusedError) [2] and
so we can drop the python 2 compatibility code to only support python 3 code.

[1] https://github.com/openstack/oslo.messaging/commit/9d8b1430e5c081b081c0e3c0b5f12f744dc7809d
[2] https://docs.python.org/3/library/exceptions.html#ConnectionRefusedError

Change-Id: I4c459d8c947dac213a1866c0d37e8f3d547aa82e
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/22/736622/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,661bdd7f41d1e253e76c9d516019eb6aafe90f15,connection-error," ConnectionRefusedError,"," # NOTE(hberaud): Python2 doesn't have ConnectionRefusedError # defined so to switch connections destination on failure # with python2 and python3 we need to wrapp adapt connection refused try: ConnectRefuseError = ConnectionRefusedError except NameError: ConnectRefuseError = socket.error ConnectRefuseError,",1,8
openstack%2Fnova~master~I2489bf16dabc8a83b2044139247f4245ae29adb1,openstack/nova,master,I2489bf16dabc8a83b2044139247f4245ae29adb1,libvirt: Simplify '_create_domain' function,MERGED,2020-07-03 11:16:41.000000000,2020-07-17 16:22:04.000000000,2020-07-16 21:07:06.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-03 11:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d58a5f2b3b9da35102d3000773836b037ee6aa6f', 'message': ""libvirt: Split '_create_domain' function\n\nThis is actually two functions, one of which takes an XML string and\nanother than takes an existing domain. Neither return a domain but\nrather a Guest, so the name is doubly confusing. Split the function in\ntwo, renaming both the new functions along with a related function,\n'_create_domain_and_network', to reflect what they actually return.\nWhile we're here, we also update the function signature of the later to\nmake the 'block_device_info' argument mandatory, since all callers were\npassing this anyway. All of this has some test impact but nothing\nserious.\n\nChange-Id: I2489bf16dabc8a83b2044139247f4245ae29adb1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-07 15:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfe4b9d1d26ea4995647c4c07ec527a9b57ad4c5', 'message': ""libvirt: Split '_create_domain' function\n\nThis is actually two functions, one of which takes an XML string and\nanother than takes an existing domain. Neither return a domain but\nrather a Guest, so the name is doubly confusing. Split the function in\ntwo, renaming both the new functions along with a related function,\n'_create_domain_and_network', to reflect what they actually return.\nWhile we're here, we also update the function signature of the later to\nmake the 'block_device_info' argument mandatory, since all callers were\npassing this anyway. All of this has some test impact but nothing\nserious.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I2489bf16dabc8a83b2044139247f4245ae29adb1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-07-08 14:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2739f1ed8d9d6bd41c155a1d99da5b2dd728ef0b', 'message': ""libvirt: Split '_create_domain' function\n\nThis is actually two functions, one of which takes an XML string and\nanother than takes an existing domain. Neither return a domain but\nrather a Guest, so the name is doubly confusing. Split the function in\ntwo, renaming both the new functions along with a related function,\n'_create_domain_and_network', to reflect what they actually return.\nWhile we're here, we also update the function signature of the later to\nmake the 'block_device_info' argument mandatory, since all callers were\npassing this anyway. All of this has some test impact but nothing\nserious.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I2489bf16dabc8a83b2044139247f4245ae29adb1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-07-09 13:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ba7c02c8463e86b20160ada93343dcc34b75385', 'message': ""libvirt: Simplify '_create_domain' function\n\nThis is actually two functions, one of which takes an XML string and\nanother than takes an existing domain. Neither return a domain but\nrather a Guest object, and while the first actually creates a new domain\nalong with the new Guest, the latter simply creates the new Guest and\nresumes the existing domain. Simplify the function by ensuring it only\nfocuses on the former case, creation of new domains as part of the new\nGuest object. The revised function is renamed, along with a related\nfunction, '_create_domain_and_network', to reflect what it actually\nreturns. The other cases are replaced by simple call to\n'Guest.resume()', which is all the latter case was really doing.\n\nWhile we're here, we also update the function signature of the later to\nmake the 'block_device_info' argument mandatory, since all callers were\npassing this anyway. All of this has some test impact but nothing\nserious.\n\nWe also move some of the tests from 'test_driver' to 'test_guest', since\nthey were actually testing things from 'virt.libvirt.guest' but clearly\njust weren't moved when that module was introduced many cycles ago.\n\nFinally, we rename the '_prepare_domain_for_snapshot' and\n'_snapshot_domain' functions to reflect what they're actually doing,\nnamely suspending and then resuming the domain before and after a\n(cold) snapshot, respectively.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I2489bf16dabc8a83b2044139247f4245ae29adb1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-07-16 17:04:26.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/969a6d49e5bac0d19f56d17d42425febcc71517b', 'message': ""libvirt: Simplify '_create_domain' function\n\nThis is actually two functions, one of which takes an XML string and\nanother than takes an existing domain. Neither return a domain but\nrather a Guest object, and while the first actually creates a new domain\nalong with the new Guest, the latter simply creates the new Guest and\nresumes the existing domain. Simplify the function by ensuring it only\nfocuses on the former case, creation of new domains as part of the new\nGuest object. The revised function is renamed, along with a related\nfunction, '_create_domain_and_network', to reflect what it actually\nreturns. The other cases are replaced by simple call to\n'Guest.resume()', which is all the latter case was really doing.\n\nWhile we're here, we also update the function signature of the later to\nmake the 'block_device_info' argument mandatory, since all callers were\npassing this anyway. All of this has some test impact but nothing\nserious.\n\nWe also move some of the tests from 'test_driver' to 'test_guest', since\nthey were actually testing things from 'virt.libvirt.guest' but clearly\njust weren't moved when that module was introduced many cycles ago.\n\nFinally, we rename the '_prepare_domain_for_snapshot' and\n'_snapshot_domain' functions to reflect what they're actually doing,\nnamely suspending and then resuming the domain before and after a\n(cold) snapshot, respectively.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I2489bf16dabc8a83b2044139247f4245ae29adb1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",44,739208,969a6d49e5bac0d19f56d17d42425febcc71517b,59,11,5,15334,,,0,"libvirt: Simplify '_create_domain' function

This is actually two functions, one of which takes an XML string and
another than takes an existing domain. Neither return a domain but
rather a Guest object, and while the first actually creates a new domain
along with the new Guest, the latter simply creates the new Guest and
resumes the existing domain. Simplify the function by ensuring it only
focuses on the former case, creation of new domains as part of the new
Guest object. The revised function is renamed, along with a related
function, '_create_domain_and_network', to reflect what it actually
returns. The other cases are replaced by simple call to
'Guest.resume()', which is all the latter case was really doing.

While we're here, we also update the function signature of the later to
make the 'block_device_info' argument mandatory, since all callers were
passing this anyway. All of this has some test impact but nothing
serious.

We also move some of the tests from 'test_driver' to 'test_guest', since
they were actually testing things from 'virt.libvirt.guest' but clearly
just weren't moved when that module was introduced many cycles ago.

Finally, we rename the '_prepare_domain_for_snapshot' and
'_snapshot_domain' functions to reflect what they're actually doing,
namely suspending and then resuming the domain before and after a
(cold) snapshot, respectively.

Part of blueprint add-emulated-virtual-tpm

Change-Id: I2489bf16dabc8a83b2044139247f4245ae29adb1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/739208/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,d58a5f2b3b9da35102d3000773836b037ee6aa6f,bp/add-emulated-virtual-tpm," def test_unmount_fs_if_error_during_lxc_create_guest(self, """"""If we hit an error during a `_create_guest` call to `libvirt+lxc` drvr._create_guest_with_network, mock_instance, None, None) '_create_guest_with_network', lambda *a, **kw: None) '_create_guest_with_network') mock_create_guest_with_network, def fake_create_guest_with_network( context, xml, instance, network_info, block_device_info, power_on=True, vifs_already_plugged=False, post_xml_callback=None, external_events=None, cleanup_instance_dir=False, cleanup_instance_disks=False, ): mock_create_guest_with_network.side_effect = \ fake_create_guest_with_network '_create_guest_with_network', mock.patch.object(drvr, '_create_guest_with_network'), mock_get_guest_xml, mock_create_guest_with_network, mock.patch.object(drvr, '_create_guest'), '_create_guest_with_network', '_create_guest_with_network', mock.patch.object(driver, '_create_guest_with_network'), mock.patch.object(drvr, '_create_guest_with_network'), @mock.patch.object( libvirt_driver.LibvirtDriver, '_create_guest_from_domain') mock_create.assert_called_once_with(mock_domain) @mock.patch('nova.virt.libvirt.LibvirtDriver._create_guest_with_network') mock_get_guest_xml, mock_create_guest_with_network, mock_create_guest_with_network.assert_called_once_with(self.context, dummyxml, instance, network_info, block_device_info, vifs_already_plugged=True) @mock.patch('nova.virt.libvirt.LibvirtDriver._create_guest_with_network') def _test_clean_shutdown(self, mock_get_domain, mock.patch.object(drvr, '_create_guest_with_network', ) as (_get_existing_domain_xml, _create_guest_with_network, _create_guest_with_network.assert_has_calls([ mock.call( self.context, dummyxml, instance, network_info, block_device_info, vifs_already_plugged=True, )]) def test_create_guest_from_domain(self): guest = drvr._create_guest_from_domain(mock_domain) def test_create_guest_lxc(self, mock_get_inst_path, mock_ensure_tree, mock.patch.object(drvr, '_create_guest'), mock.patch.object(drvr, 'plug_vifs')): drvr._create_guest_with_network(self.context, 'xml', mock_instance, [], None) def test_create_guest_lxc_id_maps( self, mock_get_inst_path, mock_ensure_tree, mock_setup_container, mock_chown, mock_get_info, mock_clean, ): mock.patch.object(drvr, '_create_guest'), mock_is_booted_from_volume, mock_create_guest, mock_plug_vifs, ): drvr._create_guest_with_network(self.context, 'xml', mock_instance, [], None) def test_create_guest_lxc_not_running( self, mock_get_inst_path, mock_ensure_tree, mock_setup_container, mock_get_info, mock_teardown, ): mock.patch.object(drvr, '_create_guest'), mock.patch.object(drvr, 'plug_vifs')): drvr._create_guest_with_network(self.context, 'xml', mock_instance, [], None) def test_create_guest_define_xml_fails(self): self.assertRaises(fakelibvirt.libvirtError, drvr._create_guest, def test_create_guest_from_domain_with_flags_fails(self): self.assertRaises(fakelibvirt.libvirtError, drvr._create_guest_from_domain, fake_domain) mock.patch.object(drvr, '_create_guest', drvr._create_guest_with_network, instance, None, None) mock.patch.object(drvr, '_create_guest'), domain = drvr._create_guest_with_network(self.context, 'xml', instance, None, None) @mock.patch.object(drvr, '_create_guest') domain = drvr._create_guest_with_network(self.context, 'xml', instance, vifs, None, @mock.patch.object(drvr, '_create_guest') test.TestingException, drvr._create_guest_with_network, mock.patch.object(drvr, '_create_guest'), guest = drvr._create_guest_with_network( self.context, fake_xml, instance, network_info, block_device_info=block_device_info) '_create_guest_with_network') mock_create_guest_with_network, mock_create_guest_with_network.return_value = \ mock_create_guest_with_network.assert_called_once_with( mock.ANY, mock.ANY, instance, [], bdi, power_on=power_on, self.fake_create_guest_called = False def fake_create_guest_with_network( _self, context, xml, instance, network_info, block_device_info, power_on=None, vifs_already_plugged=None, post_xml_callback=None, external_events=None, cleanup_instance_dir=False, cleanup_instance_disks=False, ): self.fake_create_guest_called = True '_create_guest_with_network', fake_create_guest_with_network) self.assertTrue(self.fake_create_guest_called) mock.patch.object(drvr, '_create_guest_with_network'), mock.patch.object(drvr, '_create_guest_with_network'), mock.patch.object(drvr, '_create_guest_with_network'), mock.patch.object(drvr, '_create_guest_with_network'), mock.patch.object(drvr, '_create_guest_with_network'), def fake_create_guest( xml, power_on=True, pause=False, post_xml_callback=None ): mock.patch.object(self.drvr, '_create_guest', side_effect=fake_create_guest), ) as (mock_create_guest, mock_connect_volume): self.assertTrue(mock_create_guest.called) mock.patch.object(drvr, '_create_guest'), mock.patch.object(drvr, '_create_guest'), mock_create.assert_called_once_with('fake_unrescue_xml')"," def test_unmount_fs_if_error_during_lxc_create_domain(self, """"""If we hit an error during a `_create_domain` call to `libvirt+lxc` drvr._create_domain_and_network, mock_instance, None) '_create_domain_and_network', lambda *a, **kw: None) '_create_domain_and_network') mock_create_domain_and_network, def fake_create_domain_and_network( context, xml, instance, network_info, block_device_info=None, power_on=True, vifs_already_plugged=False, post_xml_callback=None, cleanup_instance_dir=False, cleanup_instance_disks=False): mock_create_domain_and_network.side_effect = \ fake_create_domain_and_network '_create_domain_and_network', mock.patch.object(drvr, '_create_domain_and_network'), mock_get_guest_xml, mock_create_domain_and_network, mock.patch.object(drvr, '_create_domain'), '_create_domain_and_network', '_create_domain_and_network', mock.patch.object(driver, '_create_domain_and_network'), mock.patch.object(drvr, '_create_domain_and_network'), @mock.patch.object(libvirt_driver.LibvirtDriver, '_create_domain') mock_create.assert_called_once_with(domain=mock_domain) @mock.patch('nova.virt.libvirt.LibvirtDriver._create_domain_and_network') mock_get_guest_xml, mock_create_domain_and_network, mock_create_domain_and_network.assert_called_once_with(self.context, dummyxml, instance, network_info, block_device_info=block_device_info, vifs_already_plugged=True) @mock.patch('nova.virt.libvirt.LibvirtDriver._create_domain_and_network') @mock.patch.object(libvirt_driver.LibvirtDriver, '_create_domain') def _test_clean_shutdown(self, mock_get_domain, mock_create_domain, def fake_create_domain(**kwargs): self.reboot_create_called = True mock_create_domain.side_effect = fake_create_domain mock.patch.object(drvr, '_create_domain_and_network', ) as (_get_existing_domain_xml, _create_domain_and_network, _create_domain_and_network.assert_has_calls([mock.call( self.context, dummyxml, instance, network_info, block_device_info=block_device_info, vifs_already_plugged=True)]) def test_create_domain(self): guest = drvr._create_domain(domain=mock_domain) def test_create_domain_lxc(self, mock_get_inst_path, mock_ensure_tree, mock.patch.object(drvr, '_create_domain'), mock.patch.object(drvr, 'plug_vifs')): drvr._create_domain_and_network(self.context, 'xml', mock_instance, []) def test_create_domain_lxc_id_maps(self, mock_get_inst_path, mock_ensure_tree, mock_setup_container, mock_chown, mock_get_info, mock_clean): mock.patch.object(drvr, '_create_domain'), mock_is_booted_from_volume, mock_create_domain, mock_plug_vifs, ): drvr._create_domain_and_network(self.context, 'xml', mock_instance, []) def test_create_domain_lxc_not_running(self, mock_get_inst_path, mock_ensure_tree, mock_setup_container, mock_get_info, mock_teardown): mock.patch.object(drvr, '_create_domain'), mock.patch.object(drvr, 'plug_vifs')): drvr._create_domain_and_network(self.context, 'xml', mock_instance, []) def test_create_domain_define_xml_fails(self): self.assertRaises(fakelibvirt.libvirtError, drvr._create_domain, def test_create_domain_with_flags_fails(self): self.assertRaises(fakelibvirt.libvirtError, drvr._create_domain, domain=fake_domain) mock.patch.object(drvr, '_create_domain', drvr._create_domain_and_network, instance, None) mock.patch.object(drvr, '_create_domain'), domain = drvr._create_domain_and_network(self.context, 'xml', instance, None) @mock.patch.object(drvr, '_create_domain') domain = drvr._create_domain_and_network(self.context, 'xml', instance, vifs, @mock.patch.object(drvr, '_create_domain') test.TestingException, drvr._create_domain_and_network, mock.patch.object(drvr, '_create_domain'), guest = drvr._create_domain_and_network( self.context, fake_xml, instance, network_info, block_device_info=block_device_info) '_create_domain_and_network') mock_create_domain_and_network, mock_create_domain_and_network.return_value = \ mock_create_domain_and_network.assert_called_once_with( mock.ANY, mock.ANY, instance, [], block_device_info=bdi, power_on=power_on, self.fake_create_domain_called = False def fake_create_domain(_self, context, xml, instance, network_info, block_device_info=None, power_on=None, vifs_already_plugged=None, external_events=None): self.fake_create_domain_called = True '_create_domain_and_network', fake_create_domain) self.assertTrue(self.fake_create_domain_called) mock.patch.object(drvr, '_create_domain_and_network'), mock.patch.object(drvr, '_create_domain_and_network'), mock.patch.object(drvr, '_create_domain_and_network'), mock.patch.object(drvr, '_create_domain_and_network'), mock.patch.object(drvr, '_create_domain_and_network'), def fake_create_domain(xml=None, domain=None, power_on=True, pause=False, post_xml_callback=None): mock.patch.object(self.drvr, '_create_domain', side_effect=fake_create_domain), ) as (mock_create_domain, mock_connect_volume): self.assertTrue(mock_create_domain.called) mock.patch.object(drvr, '_create_domain'), mock.patch.object(drvr, '_create_domain'), mock_create.assert_called_once_with(""fake_unrescue_xml"", fake_dom)",170,168
openstack%2Fopenstack-helm~master~I7ba17382059dfc23ab125a49b2b302166915c350,openstack/openstack-helm,master,I7ba17382059dfc23ab125a49b2b302166915c350,Add missing security context to Heat pods/containers,MERGED,2020-07-01 15:58:25.000000000,2020-07-17 16:21:11.000000000,2020-07-17 16:18:05.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29144}, {'_account_id': 29161}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-07-01 15:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/54bd232920742bb9f8079a18ed1aebccc8460720', 'message': 'Implement helm-toolkit snippet to Heat pods/containers\n\nThis updates the heat chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I7ba17382059dfc23ab125a49b2b302166915c350\n'}, {'number': 2, 'created': '2020-07-01 16:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/08d80c404a5dcdc3d5503406e06696e9dbc014dd', 'message': 'Implement helm-toolkit snippet to Heat pods/containers\n\nThis updates the heat chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I7ba17382059dfc23ab125a49b2b302166915c350\n'}, {'number': 3, 'created': '2020-07-01 16:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/da42c32f22568f4adfef4737cb42833782fb0527', 'message': 'Implement helm-toolkit snippet to Heat pods/containers\n\nThis updates the heat chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I7ba17382059dfc23ab125a49b2b302166915c350\n'}, {'number': 4, 'created': '2020-07-01 19:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/548d729bcbe7d21d21a2c71a8a451d6ececee931', 'message': 'Implement helm-toolkit snippet to Heat pods/containers\n\nThis updates the heat chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I7ba17382059dfc23ab125a49b2b302166915c350\n'}, {'number': 5, 'created': '2020-07-01 23:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2fed00491d44654385e1226057d9a4a5ac7d191c', 'message': 'Implement helm-toolkit snippet to Heat pods/containers\n\nThis updates the heat chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I7ba17382059dfc23ab125a49b2b302166915c350\n'}, {'number': 6, 'created': '2020-07-01 23:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1c0731b2314e37b21affd637ee9c807b448837f9', 'message': 'Implement helm-toolkit snippet to Heat pods/containers\n\nThis updates the heat chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I7ba17382059dfc23ab125a49b2b302166915c350\n'}, {'number': 7, 'created': '2020-07-02 02:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0ad56f8b161244b4662a31eef1d0eddabaa08785', 'message': 'Implement helm-toolkit snippet to Heat pods/containers\n\nThis updates the heat chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I7ba17382059dfc23ab125a49b2b302166915c350\n'}, {'number': 8, 'created': '2020-07-02 02:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1054b9d24e56c89ed68e77874d231e5adce7f2a6', 'message': 'Implement helm-toolkit snippet to Heat pods/containers\n\nThis updates the heat chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I7ba17382059dfc23ab125a49b2b302166915c350\n'}, {'number': 9, 'created': '2020-07-03 19:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/07d5c886d592773ac7efc25d2ccb3049a19dc9da', 'message': 'Implement helm-toolkit snippet to Heat pods/containers\n\nThis updates the heat chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I7ba17382059dfc23ab125a49b2b302166915c350\n'}, {'number': 10, 'created': '2020-07-06 23:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2c4ae2b3947e1c442fd22f69d59008ac7d4005a9', 'message': 'Add missing security context to Heat pods/containers\n\nThis updates the heat chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I7ba17382059dfc23ab125a49b2b302166915c350\n'}, {'number': 11, 'created': '2020-07-07 01:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/31282cfa85c99638333933a2980f4b990ded2c7d', 'message': 'Add missing security context to Heat pods/containers\n\nThis updates the heat chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I7ba17382059dfc23ab125a49b2b302166915c350\n'}, {'number': 12, 'created': '2020-07-17 06:01:51.000000000', 'files': ['heat/templates/job-ks-user-domain.yaml', 'heat/values.yaml', 'heat/templates/job-trusts.yaml', 'heat/templates/cron-job-engine-cleaner.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2e752d180a0dea47db1256d443df4ad1231bc064', 'message': 'Add missing security context to Heat pods/containers\n\nThis updates the heat chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I7ba17382059dfc23ab125a49b2b302166915c350\n'}]",10,738873,2e752d180a0dea47db1256d443df4ad1231bc064,49,12,12,29144,,,0,"Add missing security context to Heat pods/containers

This updates the heat chart to include the pod
security context on the pod template.

This also adds the container security context to set
readOnlyRootFilesystem flag to true

Change-Id: I7ba17382059dfc23ab125a49b2b302166915c350
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/73/738873/12 && git format-patch -1 --stdout FETCH_HEAD,"['heat/templates/deployment-engine.yaml', 'heat/templates/deployment-cloudwatch.yaml', 'heat/templates/job-ks-user-domain.yaml', 'heat/templates/deployment-api.yaml', 'heat/values.yaml', 'heat/templates/pod-rally-test.yaml', 'heat/templates/deployment-cfn.yaml', 'heat/templates/job-trusts.yaml', 'heat/templates/cron-job-engine-cleaner.yaml']",9,54bd232920742bb9f8079a18ed1aebccc8460720,,"{{ dict ""envAll"" $envAll ""application"" ""engine_cleaner"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 6 }}{{ dict ""envAll"" $envAll ""application"" ""engine_cleaner"" ""container"" ""init"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 14 }}{{ dict ""envAll"" $envAll ""application"" ""engine_cleaner"" ""container"" ""heat_engine_cleaner"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 14 }}",,59,0
openstack%2Fcharm-hacluster~master~Id828479fae94211c5377c53fa2cc9b18df7ea47f,openstack/charm-hacluster,master,Id828479fae94211c5377c53fa2cc9b18df7ea47f,Actions on resources: show and cleanup,ABANDONED,2017-05-03 15:51:09.000000000,2020-07-17 16:19:24.000000000,,"[{'_account_id': 2424}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 24890}]","[{'number': 1, 'created': '2017-05-03 15:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/8622a9663624441f9c027b599c1e946b0267c7fc', 'message': 'Actions on resources: show and cleanup\n\n- ""crm_mon -1Rt"" and ""crm_resource -P"" turned into actions\n using crmsh python module. The aim is to get a quick\n overview of the status of a cluster and be able to clean any\n old ""failed action"".\n- Actions documented in README.md\n\nChange-Id: Id828479fae94211c5377c53fa2cc9b18df7ea47f\nCloses-Bug: #1688019\nSigned-off-by: Alvaro Uria <alvaro.uria@canonical.com>\n'}, {'number': 2, 'created': '2017-05-03 16:51:00.000000000', 'files': ['actions/resource-status', 'actions/actions.py', 'actions/resource-cleanup', 'metadata.yaml', 'README.md', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/8f9465c2579d81fc1485f747b7aa1d0a56667ab9', 'message': 'Actions on resources: show and cleanup\n\n- ""crm_mon -1Rt"" and ""crm_resource -P"" turned into actions\n using crmsh python module. The aim is to get a quick\n overview of the status of a cluster and be able to clean any\n old ""failed action"".\n- Actions documented in README.md\n- Add zesty to metadata.yaml (missing from\n f58b1d30181d2e1e893ba32fa7c06a82d8045b9e)\n\nChange-Id: Id828479fae94211c5377c53fa2cc9b18df7ea47f\nCloses-Bug: #1688019\nSigned-off-by: Alvaro Uria <alvaro.uria@canonical.com>\n'}]",2,462194,8f9465c2579d81fc1485f747b7aa1d0a56667ab9,14,4,2,24890,,,0,"Actions on resources: show and cleanup

- ""crm_mon -1Rt"" and ""crm_resource -P"" turned into actions
 using crmsh python module. The aim is to get a quick
 overview of the status of a cluster and be able to clean any
 old ""failed action"".
- Actions documented in README.md
- Add zesty to metadata.yaml (missing from
 f58b1d30181d2e1e893ba32fa7c06a82d8045b9e)

Change-Id: Id828479fae94211c5377c53fa2cc9b18df7ea47f
Closes-Bug: #1688019
Signed-off-by: Alvaro Uria <alvaro.uria@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/94/462194/2 && git format-patch -1 --stdout FETCH_HEAD,"['actions/resource-status', 'actions/actions.py', 'actions/resource-cleanup', 'README.md', 'actions.yaml']",5,8622a9663624441f9c027b599c1e946b0267c7fc,bug/1688019, description: Take hacluster unit out of standby mode resource-status: description: Print all resources status in a ha cluster resource-cleanup: description: Reprobe all resources in all nodes (it can take a while if there are many nodes within a cluster), descrpition: Take hacluster unit out of standby mode,137,3
openstack%2Foslo.messaging~stable%2Frocky~I5ca930cada523bc77c644703a0f02b9160816231,openstack/oslo.messaging,stable/rocky,I5ca930cada523bc77c644703a0f02b9160816231,Print warning message when connection running out,MERGED,2020-07-11 03:27:35.000000000,2020-07-17 16:18:07.000000000,2020-07-17 16:14:15.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-11 03:27:35.000000000', 'files': ['oslo_messaging/_drivers/pool.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/171132ff69bb0edcc0ebe1044ae59d1a6d572fd3', 'message': ""Print warning message when connection running out\n\nI believe when connection pool running out of available\nresources, there will be all kinds of weird consequences\nfollowing. So let's print warning logs when we are going\nto waiting indefinitely for the lock\n\nChange-Id: I5ca930cada523bc77c644703a0f02b9160816231\nRelated-bug: #1871813\n(cherry picked from commit 96300a32213d1a9bf114b90bef6971d69b839d1d)\n(cherry picked from commit 39f770f55b3331b7a99b3ea42a34982a20635cf2)\n(cherry picked from commit 1613b7a968f33ef7dc683d05fde05be0c458c8fc)\n(cherry picked from commit fd795bbb8f5aaa740fa810f2248646f6ec3a211e)\n""}]",0,740537,171132ff69bb0edcc0ebe1044ae59d1a6d572fd3,8,3,1,29071,,,0,"Print warning message when connection running out

I believe when connection pool running out of available
resources, there will be all kinds of weird consequences
following. So let's print warning logs when we are going
to waiting indefinitely for the lock

Change-Id: I5ca930cada523bc77c644703a0f02b9160816231
Related-bug: #1871813
(cherry picked from commit 96300a32213d1a9bf114b90bef6971d69b839d1d)
(cherry picked from commit 39f770f55b3331b7a99b3ea42a34982a20635cf2)
(cherry picked from commit 1613b7a968f33ef7dc683d05fde05be0c458c8fc)
(cherry picked from commit fd795bbb8f5aaa740fa810f2248646f6ec3a211e)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/37/740537/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/pool.py'],1,171132ff69bb0edcc0ebe1044ae59d1a6d572fd3,bug/1871813-stable/ussuri-stable/train-stable/stein-stable/rocky," LOG.warning(""Connection pool limit exceeded: "" ""current size %s surpasses max "" ""configured rpc_conn_pool_size %s"", self._current_size, self._max_size)",,4,0
openstack%2Fcharm-ceph-osd~master~Ieaccc18a39d018d120ae8bd6ee62b97f30d90e41,openstack/charm-ceph-osd,master,Ieaccc18a39d018d120ae8bd6ee62b97f30d90e41,Warning description for autotune config.,MERGED,2020-07-06 05:28:53.000000000,2020-07-17 16:18:03.000000000,2020-07-17 16:18:03.000000000,"[{'_account_id': 6737}, {'_account_id': 10058}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 26032}]","[{'number': 1, 'created': '2020-07-06 05:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/9060c0760501866a5ddeb10390fdbeb48280a966', 'message': 'Warning description for autotune config.\n\nChange-Id: Ieaccc18a39d018d120ae8bd6ee62b97f30d90e41\nPartial-Bug: #1798794\n'}, {'number': 2, 'created': '2020-07-07 01:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/b27fde8d3785a5b8967bb20be8734d4b980002d9', 'message': 'Warning description for autotune config.\n\nChange-Id: Ieaccc18a39d018d120ae8bd6ee62b97f30d90e41\nPartial-Bug: #1798794\n'}, {'number': 3, 'created': '2020-07-07 01:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/8e1eb52702bf89561b218ac4766d4ba92556dec2', 'message': 'Warning description for autotune config.\n\nChange-Id: Ieaccc18a39d018d120ae8bd6ee62b97f30d90e41\nPartial-Bug: #1798794\n'}, {'number': 4, 'created': '2020-07-09 22:15:19.000000000', 'files': ['hooks/ceph_hooks.py', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/08d56bb04064d4252b358f99aaeff7f024f8c6c0', 'message': 'Warning description for autotune config.\n\nChange-Id: Ieaccc18a39d018d120ae8bd6ee62b97f30d90e41\nPartial-Bug: #1798794\n'}]",5,739402,08d56bb04064d4252b358f99aaeff7f024f8c6c0,26,7,4,26032,,,0,"Warning description for autotune config.

Change-Id: Ieaccc18a39d018d120ae8bd6ee62b97f30d90e41
Partial-Bug: #1798794
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/02/739402/2 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,9060c0760501866a5ddeb10390fdbeb48280a966,bug/1798794, and make appropriate sysctl changes. WARNING: Exercise caution when enabling this feature; examine and confirm sysctl values are appropriate for your environment. See http://pad.lv/1798794 for a full discussion., and make appropriate sysctl changes. Enabling this option should generally be safe.,4,2
openstack%2Fkolla-ansible~master~I6a4676bf6efeebc61383ec7a406db07c7a868b2a,openstack/kolla-ansible,master,I6a4676bf6efeebc61383ec7a406db07c7a868b2a,Performance: Run common role in a separate play,MERGED,2020-07-02 17:14:56.000000000,2020-07-17 16:16:28.000000000,2020-07-17 15:43:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 29543}]","[{'number': 1, 'created': '2020-07-02 17:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c41d8d26643f2b847c0617a7390ad69e63b91b3e', 'message': 'Performance: Run common role in a separate play\n\nThe common role was previously added as a dependency to all other roles.\nIt would set a fact after running on a host to avoid running twice. This\nhad the nice effect that deploying any service would automatically pull\nin the common services for that host. When using tags, any services with\nmatching tags would also run the common role. This could be both\nsurprising and sometimes useful.\n\nWhen using Ansible at large scale, there is a penalty associated with\nexecuting a task against a large number of hosts, even if it is skipped.\nThe common role introduces some overhead, just in determining that it\nhas already run.\n\nThis change extracts the common role into a separate play, and removes\nthe dependency on it from all other roles. New groups have been added\nfor cron, fluentd, and kolla-toolbox, similar to other services. This\nchanges the behaviour in the following ways:\n\n* The common role is now run for all hosts at the beginning, rather than\n  prior to their first enabled service\n* Hosts must be in the necessary group for each of the common services\n  in order to have that service deployed. This is mostly to avoid\n  deploying on localhost or the deployment host\n* If tags are specified for another service e.g. nova, the common role\n  will *not* automatically run for matching hosts. The common tag must\n  be specified explicitly\n\nThe last of these is probably the largest behaviour change. While it\nwould be possible to determine which hosts should automatically run the\ncommon role, it would be quite complex, and would introduce some\noverhead that would probably negate the benefit of splitting out the\ncommon role.\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: I6a4676bf6efeebc61383ec7a406db07c7a868b2a\n'}, {'number': 2, 'created': '2020-07-03 15:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/84dde18dd9d70593bad1531d5f5cbc1996b90407', 'message': 'Performance: Run common role in a separate play\n\nThe common role was previously added as a dependency to all other roles.\nIt would set a fact after running on a host to avoid running twice. This\nhad the nice effect that deploying any service would automatically pull\nin the common services for that host. When using tags, any services with\nmatching tags would also run the common role. This could be both\nsurprising and sometimes useful.\n\nWhen using Ansible at large scale, there is a penalty associated with\nexecuting a task against a large number of hosts, even if it is skipped.\nThe common role introduces some overhead, just in determining that it\nhas already run.\n\nThis change extracts the common role into a separate play, and removes\nthe dependency on it from all other roles. New groups have been added\nfor cron, fluentd, and kolla-toolbox, similar to other services. This\nchanges the behaviour in the following ways:\n\n* The common role is now run for all hosts at the beginning, rather than\n  prior to their first enabled service\n* Hosts must be in the necessary group for each of the common services\n  in order to have that service deployed. This is mostly to avoid\n  deploying on localhost or the deployment host\n* If tags are specified for another service e.g. nova, the common role\n  will *not* automatically run for matching hosts. The common tag must\n  be specified explicitly\n\nThe last of these is probably the largest behaviour change. While it\nwould be possible to determine which hosts should automatically run the\ncommon role, it would be quite complex, and would introduce some\noverhead that would probably negate the benefit of splitting out the\ncommon role.\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: I6a4676bf6efeebc61383ec7a406db07c7a868b2a\n'}, {'number': 3, 'created': '2020-07-03 15:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f5613c79dd35a3d4e4d5a906e37940cd3742319d', 'message': 'Performance: Run common role in a separate play\n\nThe common role was previously added as a dependency to all other roles.\nIt would set a fact after running on a host to avoid running twice. This\nhad the nice effect that deploying any service would automatically pull\nin the common services for that host. When using tags, any services with\nmatching tags would also run the common role. This could be both\nsurprising and sometimes useful.\n\nWhen using Ansible at large scale, there is a penalty associated with\nexecuting a task against a large number of hosts, even if it is skipped.\nThe common role introduces some overhead, just in determining that it\nhas already run.\n\nThis change extracts the common role into a separate play, and removes\nthe dependency on it from all other roles. New groups have been added\nfor cron, fluentd, and kolla-toolbox, similar to other services. This\nchanges the behaviour in the following ways:\n\n* The common role is now run for all hosts at the beginning, rather than\n  prior to their first enabled service\n* Hosts must be in the necessary group for each of the common services\n  in order to have that service deployed. This is mostly to avoid\n  deploying on localhost or the deployment host\n* If tags are specified for another service e.g. nova, the common role\n  will *not* automatically run for matching hosts. The common tag must\n  be specified explicitly\n\nThe last of these is probably the largest behaviour change. While it\nwould be possible to determine which hosts should automatically run the\ncommon role, it would be quite complex, and would introduce some\noverhead that would probably negate the benefit of splitting out the\ncommon role.\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: I6a4676bf6efeebc61383ec7a406db07c7a868b2a\n'}, {'number': 4, 'created': '2020-07-07 15:00:47.000000000', 'files': ['ansible/roles/common/tasks/bootstrap.yml', 'ansible/roles/zun/meta/main.yml', 'ansible/roles/cinder/meta/main.yml', 'ansible/roles/designate/meta/main.yml', 'ansible/roles/searchlight/meta/main.yml', 'ansible/roles/prometheus/meta/main.yml', 'ansible/site.yml', 'ansible/roles/common/tasks/check-containers.yml', 'ansible/roles/ovn/meta/main.yml', 'ansible/roles/qinling/meta/main.yml', 'ansible/roles/cyborg/meta/main.yml', 'ansible/roles/ironic/meta/main.yml', 'ansible/roles/ceilometer/meta/main.yml', 'ansible/roles/magnum/meta/main.yml', 'ansible/roles/openvswitch/meta/main.yml', 'ansible/roles/qdrouterd/meta/main.yml', 'tools/kolla-ansible', 'ansible/roles/tempest/meta/main.yml', 'ansible/roles/murano/meta/main.yml', 'ansible/roles/gnocchi/meta/main.yml', 'ansible/roles/nova-hyperv/meta/main.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/tacker/meta/main.yml', 'ansible/roles/chrony/meta/main.yml', 'ansible/roles/skydive/meta/main.yml', 'releasenotes/notes/separate-common-play-09a1aa1ac7d0797a.yaml', 'ansible/roles/trove/meta/main.yml', 'ansible/roles/nova-cell/meta/main.yml', 'ansible/roles/common/tasks/pull.yml', 'ansible/roles/sahara/meta/main.yml', 'ansible/roles/placement/meta/main.yml', 'ansible/roles/ovs-dpdk/meta/main.yml', 'ansible/roles/barbican/meta/main.yml', 'ansible/roles/telegraf/meta/main.yml', 'ansible/roles/solum/meta/main.yml', 'tests/templates/inventory.j2', 'ansible/roles/monasca/meta/main.yml', 'ansible/inventory/multinode', 'ansible/roles/collectd/meta/main.yml', 'ansible/roles/zookeeper/meta/main.yml', 'ansible/roles/masakari/meta/main.yml', 'ansible/roles/manila/meta/main.yml', 'ansible/roles/vmtp/meta/main.yml', 'ansible/roles/karbor/meta/main.yml', 'ansible/roles/kibana/meta/main.yml', 'ansible/roles/senlin/meta/main.yml', 'ansible/roles/octavia/meta/main.yml', 'ansible/inventory/all-in-one', 'ansible/roles/vitrage/meta/main.yml', 'ansible/roles/horizon/meta/main.yml', 'ansible/roles/aodh/meta/main.yml', 'ansible/roles/storm/meta/main.yml', 'ansible/roles/kuryr/meta/main.yml', 'ansible/roles/mistral/meta/main.yml', 'ansible/roles/blazar/meta/main.yml', 'ansible/roles/swift/meta/main.yml', 'ansible/roles/influxdb/meta/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/common/tasks/main.yml', 'ansible/roles/keystone/meta/main.yml', 'ansible/roles/watcher/meta/main.yml', 'ansible/roles/etcd/meta/main.yml', 'ansible/roles/mariadb/meta/main.yml', 'ansible/roles/neutron/meta/main.yml', 'ansible/roles/rabbitmq/meta/main.yml', 'ansible/roles/cloudkitty/meta/main.yml', 'ansible/roles/panko/meta/main.yml', 'ansible/roles/haproxy/meta/main.yml', 'ansible/roles/rally/meta/main.yml', 'ansible/roles/freezer/meta/main.yml', 'ansible/roles/glance/meta/main.yml', 'ansible/roles/grafana/meta/main.yml', 'ansible/roles/nova/meta/main.yml', 'ansible/roles/redis/meta/main.yml', 'ansible/roles/elasticsearch/meta/main.yml', 'ansible/roles/heat/meta/main.yml', 'ansible/roles/kafka/meta/main.yml', 'ansible/roles/iscsi/meta/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/56ae2db7ac694d7c651623aa7d2e23b3386bd2b2', 'message': 'Performance: Run common role in a separate play\n\nThe common role was previously added as a dependency to all other roles.\nIt would set a fact after running on a host to avoid running twice. This\nhad the nice effect that deploying any service would automatically pull\nin the common services for that host. When using tags, any services with\nmatching tags would also run the common role. This could be both\nsurprising and sometimes useful.\n\nWhen using Ansible at large scale, there is a penalty associated with\nexecuting a task against a large number of hosts, even if it is skipped.\nThe common role introduces some overhead, just in determining that it\nhas already run.\n\nThis change extracts the common role into a separate play, and removes\nthe dependency on it from all other roles. New groups have been added\nfor cron, fluentd, and kolla-toolbox, similar to other services. This\nchanges the behaviour in the following ways:\n\n* The common role is now run for all hosts at the beginning, rather than\n  prior to their first enabled service\n* Hosts must be in the necessary group for each of the common services\n  in order to have that service deployed. This is mostly to avoid\n  deploying on localhost or the deployment host\n* If tags are specified for another service e.g. nova, the common role\n  will *not* automatically run for matching hosts. The common tag must\n  be specified explicitly\n\nThe last of these is probably the largest behaviour change. While it\nwould be possible to determine which hosts should automatically run the\ncommon role, it would be quite complex, and would introduce some\noverhead that would probably negate the benefit of splitting out the\ncommon role.\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: I6a4676bf6efeebc61383ec7a406db07c7a868b2a\n'}]",5,739111,56ae2db7ac694d7c651623aa7d2e23b3386bd2b2,21,5,4,14826,,,0,"Performance: Run common role in a separate play

The common role was previously added as a dependency to all other roles.
It would set a fact after running on a host to avoid running twice. This
had the nice effect that deploying any service would automatically pull
in the common services for that host. When using tags, any services with
matching tags would also run the common role. This could be both
surprising and sometimes useful.

When using Ansible at large scale, there is a penalty associated with
executing a task against a large number of hosts, even if it is skipped.
The common role introduces some overhead, just in determining that it
has already run.

This change extracts the common role into a separate play, and removes
the dependency on it from all other roles. New groups have been added
for cron, fluentd, and kolla-toolbox, similar to other services. This
changes the behaviour in the following ways:

* The common role is now run for all hosts at the beginning, rather than
  prior to their first enabled service
* Hosts must be in the necessary group for each of the common services
  in order to have that service deployed. This is mostly to avoid
  deploying on localhost or the deployment host
* If tags are specified for another service e.g. nova, the common role
  will *not* automatically run for matching hosts. The common tag must
  be specified explicitly

The last of these is probably the largest behaviour change. While it
would be possible to determine which hosts should automatically run the
common role, it would be quite complex, and would introduce some
overhead that would probably negate the benefit of splitting out the
common role.

Partially-Implements: blueprint performance-improvements

Change-Id: I6a4676bf6efeebc61383ec7a406db07c7a868b2a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/11/739111/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/tasks/bootstrap.yml', 'ansible/roles/zun/meta/main.yml', 'ansible/roles/cinder/meta/main.yml', 'ansible/roles/designate/meta/main.yml', 'ansible/roles/searchlight/meta/main.yml', 'ansible/roles/prometheus/meta/main.yml', 'ansible/site.yml', 'ansible/roles/common/tasks/check-containers.yml', 'ansible/roles/ovn/meta/main.yml', 'ansible/roles/qinling/meta/main.yml', 'ansible/roles/cyborg/meta/main.yml', 'ansible/roles/ironic/meta/main.yml', 'ansible/roles/ceilometer/meta/main.yml', 'ansible/roles/magnum/meta/main.yml', 'ansible/roles/openvswitch/meta/main.yml', 'ansible/roles/qdrouterd/meta/main.yml', 'tools/kolla-ansible', 'ansible/roles/tempest/meta/main.yml', 'ansible/roles/murano/meta/main.yml', 'ansible/roles/gnocchi/meta/main.yml', 'ansible/roles/nova-hyperv/meta/main.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/tacker/meta/main.yml', 'ansible/roles/chrony/meta/main.yml', 'ansible/roles/skydive/meta/main.yml', 'releasenotes/notes/separate-common-play-09a1aa1ac7d0797a.yaml', 'ansible/roles/trove/meta/main.yml', 'ansible/roles/nova-cell/meta/main.yml', 'ansible/roles/common/tasks/pull.yml', 'ansible/roles/sahara/meta/main.yml', 'ansible/roles/placement/meta/main.yml', 'ansible/roles/ovs-dpdk/meta/main.yml', 'ansible/roles/barbican/meta/main.yml', 'ansible/roles/telegraf/meta/main.yml', 'ansible/roles/solum/meta/main.yml', 'tests/templates/inventory.j2', 'ansible/roles/monasca/meta/main.yml', 'ansible/inventory/multinode', 'ansible/roles/collectd/meta/main.yml', 'ansible/roles/zookeeper/meta/main.yml', 'ansible/roles/masakari/meta/main.yml', 'ansible/roles/manila/meta/main.yml', 'ansible/roles/vmtp/meta/main.yml', 'ansible/roles/karbor/meta/main.yml', 'ansible/roles/kibana/meta/main.yml', 'ansible/roles/senlin/meta/main.yml', 'ansible/roles/octavia/meta/main.yml', 'ansible/inventory/all-in-one', 'ansible/roles/vitrage/meta/main.yml', 'ansible/roles/horizon/meta/main.yml', 'ansible/roles/aodh/meta/main.yml', 'ansible/roles/storm/meta/main.yml', 'ansible/roles/kuryr/meta/main.yml', 'ansible/roles/mistral/meta/main.yml', 'ansible/roles/blazar/meta/main.yml', 'ansible/roles/swift/meta/main.yml', 'ansible/roles/influxdb/meta/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/common/tasks/main.yml', 'ansible/roles/keystone/meta/main.yml', 'ansible/roles/watcher/meta/main.yml', 'ansible/roles/etcd/meta/main.yml', 'ansible/roles/mariadb/meta/main.yml', 'ansible/roles/neutron/meta/main.yml', 'ansible/roles/rabbitmq/meta/main.yml', 'ansible/roles/cloudkitty/meta/main.yml', 'ansible/roles/panko/meta/main.yml', 'ansible/roles/haproxy/meta/main.yml', 'ansible/roles/rally/meta/main.yml', 'ansible/roles/freezer/meta/main.yml', 'ansible/roles/glance/meta/main.yml', 'ansible/roles/grafana/meta/main.yml', 'ansible/roles/nova/meta/main.yml', 'ansible/roles/redis/meta/main.yml', 'ansible/roles/elasticsearch/meta/main.yml', 'ansible/roles/heat/meta/main.yml', 'ansible/roles/kafka/meta/main.yml', 'ansible/roles/iscsi/meta/main.yml']",78,c41d8d26643f2b847c0617a7390ad69e63b91b3e,bp/performance-improvements,,--- dependencies: - { role: common } ,159,260
openstack%2Fdevstack-plugin-kafka~master~Ice0ce9f1b005f8a1a7216e12cb910441608a37c1,openstack/devstack-plugin-kafka,master,Ice0ce9f1b005f8a1a7216e12cb910441608a37c1,Update the Zuul configuration,MERGED,2020-07-17 13:55:39.000000000,2020-07-17 16:15:41.000000000,2020-07-17 16:15:41.000000000,"[{'_account_id': 6928}, {'_account_id': 10459}, {'_account_id': 20523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 13:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-kafka/commit/09f4f79968dba9520a27a48316488d388aadb511', 'message': 'Update the Zuul configuration\n\n - Remove deprecated test that is no longer used by oslo.messaging\n\nChange-Id: Ice0ce9f1b005f8a1a7216e12cb910441608a37c1\n'}, {'number': 2, 'created': '2020-07-17 13:56:47.000000000', 'files': ['playbooks/legacy/tempest-dsvm-full-kafka/run.yaml', 'playbooks/legacy/tempest-dsvm-full-kafka/post.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-kafka/commit/4e1c82f63767524f3de04da010974009bc7f0a0f', 'message': 'Update the Zuul configuration\n\n - Remove deprecated test that is no longer used by oslo.messaging\n\nChange-Id: Ice0ce9f1b005f8a1a7216e12cb910441608a37c1\n'}]",0,741642,4e1c82f63767524f3de04da010974009bc7f0a0f,9,4,2,8770,,,0,"Update the Zuul configuration

 - Remove deprecated test that is no longer used by oslo.messaging

Change-Id: Ice0ce9f1b005f8a1a7216e12cb910441608a37c1
",git fetch https://review.opendev.org/openstack/devstack-plugin-kafka refs/changes/42/741642/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/tempest-dsvm-full-kafka/post.yaml', 'playbooks/legacy/tempest-dsvm-full-kafka/run.yaml', '.zuul.yaml']",3,09f4f79968dba9520a27a48316488d388aadb511,native-zuulv3-migration, - oslo.messaging-src-dsvm-full-kafka-hybrid,- job: name: devstack-plugin-kafka-tempest-full parent: legacy-dsvm-base run: playbooks/legacy/tempest-dsvm-full-kafka/run.yaml post-run: playbooks/legacy/tempest-dsvm-full-kafka/post.yaml timeout: 10800 required-projects: - openstack/devstack-gate - openstack/devstack-plugin-kafka - openstack/tempest - devstack-plugin-kafka-tempest-full: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - oslo.messaging-src-dsvm-full-kafka-default: voting: false - oslo.messaging-src-dsvm-full-kafka-default-centos-7: - devstack-plugin-kafka-tempest-full: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$,1,98
openstack%2Fcharms.openstack~master~I78218aa972ead49f144bb19a988bd6f0bbf4a539,openstack/charms.openstack,master,I78218aa972ead49f144bb19a988bd6f0bbf4a539,Enable Database TLS,MERGED,2020-07-13 23:09:53.000000000,2020-07-17 16:14:17.000000000,2020-07-17 16:14:17.000000000,"[{'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 23:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/cbb4b377447a0825feb7c26d2bed790e247c63c8', 'message': 'Enable Database TLS\n\nBring the charms.openstack Database handling into line with classic\ncharms and charm-helpers.\n\n* Write out the SSL key and certs from relation data\n* Point sqlalchamy at the files\n\nChange-Id: I78218aa972ead49f144bb19a988bd6f0bbf4a539\n'}, {'number': 2, 'created': '2020-07-15 23:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/2fadc9953bb90fe8b9dd33a52e3d39a75c2b62e7', 'message': 'Enable Database TLS\n\nBring the charms.openstack Database handling into line with classic\ncharms and charm-helpers.\n\n* Write out the SSL key and certs from relation data\n* Point sqlalchamy at the files\n\nChange-Id: I78218aa972ead49f144bb19a988bd6f0bbf4a539\n'}, {'number': 3, 'created': '2020-07-16 21:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/d3bf219cfe48a2c8133510a250b7c26d0e6041f3', 'message': 'Enable Database TLS\n\nBring the charms.openstack Database handling into line with classic\ncharms and charm-helpers.\n\n* Write out the SSL key and certs from relation data\n* Point sqlalchamy at the files\n\nChange-Id: I78218aa972ead49f144bb19a988bd6f0bbf4a539\n'}, {'number': 4, 'created': '2020-07-17 14:44:30.000000000', 'files': ['charms_openstack/adapters.py', 'unit_tests/test_charms_openstack_adapters.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/2ed7b212ef9b651304af5f4a12d20a10192f71e4', 'message': 'Enable Database TLS\n\nBring the charms.openstack Database handling into line with classic\ncharms and charm-helpers.\n\n* Write out the SSL key and certs from relation data\n* Point sqlalchamy at the files\n\nChange-Id: I78218aa972ead49f144bb19a988bd6f0bbf4a539\n'}]",6,740826,2ed7b212ef9b651304af5f4a12d20a10192f71e4,16,3,4,20805,,,0,"Enable Database TLS

Bring the charms.openstack Database handling into line with classic
charms and charm-helpers.

* Write out the SSL key and certs from relation data
* Point sqlalchamy at the files

Change-Id: I78218aa972ead49f144bb19a988bd6f0bbf4a539
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/26/740826/3 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/adapters.py'],1,cbb4b377447a0825feb7c26d2bed790e247c63c8,feature/tls,"import base64import osCA_CERTS_DIR = ""/usr/local/share/ca-certificates"" def __init__(self, relation, ssl_dir=CA_CERTS_DIR): self.set_ssl_dir(ssl_dir) def set_ssl_dir(self, ssl_dir): """""" Set the SSL dir to a non-default location. It may be desireble to continue using: /etc/apache2/ssl/<charm name> """""" self.ssl_dir = ssl_dir @property def database_ssl_ca(self): if self.ssl_ca: ca_path = os.path.join(self.ssl_dir, 'db-client.ca') with open(ca_path, 'wb') as fh: fh.write(base64.b64decode(self.ssl_ca)) return ca_path @property def database_ssl_cert(self): if self.ssl_cert: cert_path = os.path.join(self.ssl_dir, 'db-client.cert') with open(cert_path, 'wb') as fh: fh.write(base64.b64decode(self.ssl_cert)) return cert_path @property def database_ssl_key(self): if self.ssl_key: key_path = os.path.join(self.ssl_dir, 'db-client.key') with open(key_path, 'wb') as fh: fh.write(base64.b64decode(self.ssl_key)) return key_path if self.database_ssl_ca: uri = '{}?ssl_ca={}'.format(uri, self.database_ssl_ca) if self.database_ssl_cert: .format( uri, self.database_ssl_cert, self.database_ssl_key))"," def __init__(self, relation): if self.ssl_ca: uri = '{}?ssl_ca={}'.format(uri, self.ssl_ca) if self.ssl_cert: .format(uri, self.ssl_cert, self.ssl_key))",47,5
openstack%2Fironic~master~Idfcf99216f10e8928fe4ba6202a7d69bfa916459,openstack/ironic,master,Idfcf99216f10e8928fe4ba6202a7d69bfa916459,Add json and param parsing to args,MERGED,2020-01-28 02:13:53.000000000,2020-07-17 16:08:10.000000000,2020-07-17 14:47:03.000000000,"[{'_account_id': 4571}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-01-28 02:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c97b43bd501599f86a780d968efa72a184f4bf74', 'message': 'WIP Add json parsing to args\n\nWIP until there are unit tests\nStory: 1651346\n\nChange-Id: Idfcf99216f10e8928fe4ba6202a7d69bfa916459\n'}, {'number': 2, 'created': '2020-04-15 05:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/da1a7b0e3ad1da2717163b169b397255871cfa0e', 'message': 'WIP Add json parsing to args\n\nWIP until there are unit tests\nStory: 1651346\n\nChange-Id: Idfcf99216f10e8928fe4ba6202a7d69bfa916459\n'}, {'number': 3, 'created': '2020-04-20 00:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/50d1171cfe57420d97e2c5b1f7d865512961a5da', 'message': 'WIP Add json parsing to args\n\nWIP until the param unit tests are complete, or until some\ninstrumentation shows which params code paths are actually used.\n\nStory: 1651346\n\nChange-Id: Idfcf99216f10e8928fe4ba6202a7d69bfa916459\n'}, {'number': 4, 'created': '2020-05-05 05:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6363350f0f554938ca2e693ae5578a6781388272', 'message': 'Add json and param parsing to args\n\nSome unused HTTP param to arg parsing has not been implemented to\nreduce code complexity. This includes the following types:\n- DictType\n- complex types\n- arrays of complex types\n\nAsserts are added to confirm these param types are not used in ironic\ncurrently, and to prevent them being used in future development.\n\nStory: 1651346\n\nChange-Id: Idfcf99216f10e8928fe4ba6202a7d69bfa916459\n'}, {'number': 5, 'created': '2020-05-05 23:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b50ab8cd89d096c854f88d1ebe179ff1494adc26', 'message': 'Add json and param parsing to args\n\nSome unused HTTP param to arg parsing has not been implemented to\nreduce code complexity. This includes the following types:\n- DictType\n- complex types\n\nAsserts are added to confirm these param types are not used in ironic\ncurrently, and to prevent them being used in future development.\n\nStory: 1651346\n\nChange-Id: Idfcf99216f10e8928fe4ba6202a7d69bfa916459\n'}, {'number': 6, 'created': '2020-06-02 03:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/444f6160eb2cc3e47ba315e2e8e503aa11104519', 'message': 'Add json and param parsing to args\n\nSome unused HTTP param to arg parsing has not been implemented to\nreduce code complexity. This includes the following types:\n- DictType\n- complex types\n\nAsserts are added to confirm these param types are not used in ironic\ncurrently, and to prevent them being used in future development.\n\nStory: 1651346\nTask: 10551\n\nChange-Id: Idfcf99216f10e8928fe4ba6202a7d69bfa916459\n'}, {'number': 7, 'created': '2020-07-09 01:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9bd73891d4a550d65223556dc4bc514127c853b0', 'message': 'Add json and param parsing to args\n\nSome unused HTTP param to arg parsing has not been implemented to\nreduce code complexity. This includes the following types:\n- DictType\n- complex types\n\nAsserts are added to confirm these param types are not used in ironic\ncurrently, and to prevent them being used in future development.\n\nStory: 1651346\nTask: 10551\n\nChange-Id: Idfcf99216f10e8928fe4ba6202a7d69bfa916459\n'}, {'number': 8, 'created': '2020-07-09 23:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e28f80f11086057e034d400a8764627d7a09f347', 'message': 'Add json and param parsing to args\n\nSome unused HTTP param to arg parsing has not been implemented to\nreduce code complexity. This includes the following types:\n- DictType\n- complex types\n\nAsserts are added to confirm these param types are not used in ironic\ncurrently, and to prevent them being used in future development.\n\nStory: 1651346\nTask: 10551\n\nChange-Id: Idfcf99216f10e8928fe4ba6202a7d69bfa916459\n'}, {'number': 9, 'created': '2020-07-14 23:37:31.000000000', 'files': ['ironic/api/args.py', 'ironic/common/exception.py', 'ironic/api/types.py', 'ironic/common/utils.py', 'ironic/tests/unit/api/test_args.py', 'ironic/api/expose.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8006c9dfd2cc1cfa78710d182019a04530ce4598', 'message': 'Add json and param parsing to args\n\nSome unused HTTP param to arg parsing has not been implemented to\nreduce code complexity. This includes the following types:\n- DictType\n- complex types\n\nAsserts are added to confirm these param types are not used in ironic\ncurrently, and to prevent them being used in future development.\n\nStory: 1651346\nTask: 10551\n\nChange-Id: Idfcf99216f10e8928fe4ba6202a7d69bfa916459\n'}]",2,704489,8006c9dfd2cc1cfa78710d182019a04530ce4598,60,9,9,4571,,,0,"Add json and param parsing to args

Some unused HTTP param to arg parsing has not been implemented to
reduce code complexity. This includes the following types:
- DictType
- complex types

Asserts are added to confirm these param types are not used in ironic
currently, and to prevent them being used in future development.

Story: 1651346
Task: 10551

Change-Id: Idfcf99216f10e8928fe4ba6202a7d69bfa916459
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/704489/8 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/args.py', 'ironic/common/exception.py', 'ironic/api/types.py', 'ironic/common/utils.py', 'ironic/api/expose.py']",5,c97b43bd501599f86a780d968efa72a184f4bf74,story/1651346," from ironic.api import args as api_args args, kwargs = api_args.get_args(","import wsme.rest.args args, kwargs = wsme.rest.args.get_args(",586,2
openstack%2Fkolla-ansible~master~I42bc78ffe304ba21c448c2e08b025e93a70ddb44,openstack/kolla-ansible,master,I42bc78ffe304ba21c448c2e08b025e93a70ddb44,Use Confluent Kafka client in remaining Monasca services,MERGED,2020-07-13 14:16:20.000000000,2020-07-17 15:47:27.000000000,2020-07-17 15:43:57.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-13 14:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e42a98395435fb74042bc1d88adb4ebbc17e75d4', 'message': 'Use Confluent Kafka client in remaining Monasca services\n\nSwitch to the Confluent Kafka client in all remaining Python based\nMonasca services. This should allow us to un-pin the Kafka messaging\nversion for Monasca.\n\nChange-Id: I42bc78ffe304ba21c448c2e08b025e93a70ddb44\n'}, {'number': 2, 'created': '2020-07-15 10:17:18.000000000', 'files': ['ansible/roles/monasca/templates/monasca-persister/persister.conf.j2', 'ansible/roles/monasca/templates/monasca-notification/notification.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/46b68015f393f91434aaff46316d341d754e7764', 'message': 'Use Confluent Kafka client in remaining Monasca services\n\nSwitch to the Confluent Kafka client in all remaining Python based\nMonasca services. This should allow us to later un-pin the Kafka\nmessaging version for Monasca.\n\nChange-Id: I42bc78ffe304ba21c448c2e08b025e93a70ddb44\n'}]",2,740702,46b68015f393f91434aaff46316d341d754e7764,14,5,2,17669,,,0,"Use Confluent Kafka client in remaining Monasca services

Switch to the Confluent Kafka client in all remaining Python based
Monasca services. This should allow us to later un-pin the Kafka
messaging version for Monasca.

Change-Id: I42bc78ffe304ba21c448c2e08b025e93a70ddb44
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/02/740702/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/monasca/templates/monasca-notification/notification.conf.j2', 'ansible/roles/monasca/templates/monasca-persister/persister.conf.j2']",2,e42a98395435fb74042bc1d88adb4ebbc17e75d4,,[kafka] legacy_kafka_client_enabled = False ,,4,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I7ab85b88f46bb29e4ca9d547ad1743e6e07b0afe,openstack/tripleo-ansible,stable/ussuri,I7ab85b88f46bb29e4ca9d547ad1743e6e07b0afe,Add default value in CinderRbdExtraPools task condition,MERGED,2020-07-13 12:40:49.000000000,2020-07-17 15:45:06.000000000,2020-07-17 15:45:06.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-07-13 12:40:49.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/build_pools.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1cc81eb78bf7e1787a480ab91b4df6ab1426dfd1', 'message': 'Add default value in CinderRbdExtraPools task condition\n\nIf overrides is empty and CinderRbdExtraPools are specified\n(with external ceph clusters), the task that is supposed to\nbuild pools fail.\nAdding a default value is safe and avoid this issue.\n\nChange-Id: I7ab85b88f46bb29e4ca9d547ad1743e6e07b0afe\nCloses-Bug: #1885258\n(cherry picked from commit ea50aaff1821ed30d8ba266a03c0df381a665eb0)\n'}]",0,740688,1cc81eb78bf7e1787a480ab91b4df6ab1426dfd1,13,7,1,18002,,,0,"Add default value in CinderRbdExtraPools task condition

If overrides is empty and CinderRbdExtraPools are specified
(with external ceph clusters), the task that is supposed to
build pools fail.
Adding a default value is safe and avoid this issue.

Change-Id: I7ab85b88f46bb29e4ca9d547ad1743e6e07b0afe
Closes-Bug: #1885258
(cherry picked from commit ea50aaff1821ed30d8ba266a03c0df381a665eb0)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/88/740688/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/build_pools.yml'],1,1cc81eb78bf7e1787a480ab91b4df6ab1426dfd1,1885258, - item not in overrides | default([]), - item not in overrides,1,1
openstack%2Fnova~master~I2ebd81345d99d6498e807a0ff0f5cbac8d0ad5ff,openstack/nova,master,I2ebd81345d99d6498e807a0ff0f5cbac8d0ad5ff,Device tags: don't pass pf_interface=True to get_mac_by_pci_address,NEW,2019-07-12 16:05:41.000000000,2020-07-17 15:38:59.000000000,,"[{'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-12 16:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bda5ae1fd1035ab99285dcd121fe30f95a117c4d', 'message': ""Device tags: don't pass pf_interface=True to get_mac_by_pci_address\n\nWhen calculating the device tagging metadata for PFs, we need to get\nthe PCI device's MAC address in order to find its associated VIF.\nPreviously, this was done by calling\npci_utils.get_mac_by_pci_address() and passing pf_interface=True. This\nwas incorrect. It caused _get_sysfs_netdev_path() to return a\nnonexistent sysfs path to get_ifname_by_pci_address(). The latter's\nos.listdir() call then raised an Exception. This was caught and\nbubbled up as a PciDeviceNotFoundById exception. This caused\n_build_hostdev_metadata() in the libvirt driver to skip that\ninterface's metadata.\n\npf_interface=True is used when passing a VF's PCI address in order to\nrequest the PCI address of its parent PF. As this is not what\n_build_hostdev_metadata() needs, this patch stops doing that.\n\nCloses bug: 1836389\nChange-Id: I2ebd81345d99d6498e807a0ff0f5cbac8d0ad5ff\n""}, {'number': 2, 'created': '2019-07-22 18:27:16.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/28c184c4f472b85be2aaa3d3426c5244978cd45d', 'message': ""Device tags: don't pass pf_interface=True to get_mac_by_pci_address\n\nWhen calculating the device tagging metadata for PFs, we need to get\nthe PCI device's MAC address in order to find its associated VIF.\nPreviously, this was done by calling\npci_utils.get_mac_by_pci_address() and passing pf_interface=True. This\nwas incorrect. It caused _get_sysfs_netdev_path() to return a\nnonexistent sysfs path to get_ifname_by_pci_address(). The latter's\nos.listdir() call then raised an Exception. This was caught and\nbubbled up as a PciDeviceNotFoundById exception. This caused\n_build_hostdev_metadata() in the libvirt driver to skip that\ninterface's metadata.\n\npf_interface=True is used when passing a VF's PCI address in order to\nrequest the PCI address of its parent PF. As this is not what\n_build_hostdev_metadata() needs, this patch stops doing that.\n\nIn the case of PFs using VFIO-PCI (as opposed to a regular networking\nkernel driver), PciDeviceNotFoundById is expected to be raised, as\nthose devices have no associated netdev. Instead of the previous\ndebug-level generic notice, this patch promotes the log message to a\nwarning explaining that device tagging does not work with VFIO-PCI\ndevices.\n\nPartial bug: 1836389\nChange-Id: I2ebd81345d99d6498e807a0ff0f5cbac8d0ad5ff\n""}]",12,670593,28c184c4f472b85be2aaa3d3426c5244978cd45d,35,18,2,8864,,,0,"Device tags: don't pass pf_interface=True to get_mac_by_pci_address

When calculating the device tagging metadata for PFs, we need to get
the PCI device's MAC address in order to find its associated VIF.
Previously, this was done by calling
pci_utils.get_mac_by_pci_address() and passing pf_interface=True. This
was incorrect. It caused _get_sysfs_netdev_path() to return a
nonexistent sysfs path to get_ifname_by_pci_address(). The latter's
os.listdir() call then raised an Exception. This was caught and
bubbled up as a PciDeviceNotFoundById exception. This caused
_build_hostdev_metadata() in the libvirt driver to skip that
interface's metadata.

pf_interface=True is used when passing a VF's PCI address in order to
request the PCI address of its parent PF. As this is not what
_build_hostdev_metadata() needs, this patch stops doing that.

In the case of PFs using VFIO-PCI (as opposed to a regular networking
kernel driver), PciDeviceNotFoundById is expected to be raised, as
those devices have no associated netdev. Instead of the previous
debug-level generic notice, this patch promotes the log message to a
warning explaining that device tagging does not work with VFIO-PCI
devices.

Partial bug: 1836389
Change-Id: I2ebd81345d99d6498e807a0ff0f5cbac8d0ad5ff
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/670593/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,bda5ae1fd1035ab99285dcd121fe30f95a117c4d,bug/1836389," return_value='da:d1:f2:91:95:c1') ) as (mock_vif_get, mock_bdm_get, mock_get_guest, mock_get_xml, mock_get_mac): mock_get_mac.assert_called_with('0000:06:00.1') ", return_value='da:d1:f2:91:95:c1')):,6,3
openstack%2Fironic~master~I537c6f6cf66c80b67b9045ea0618b02b7b93d36c,openstack/ironic,master,I537c6f6cf66c80b67b9045ea0618b02b7b93d36c,Decompose the core deploy step on iscsi and ansible deploy,MERGED,2020-05-27 12:04:53.000000000,2020-07-17 15:37:58.000000000,2020-07-17 14:46:55.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-05-27 12:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7aabba57749f55fdfbbf935e03c7deb0c7f0ba1a', 'message': ""WIP: Decompose core deploy step on iscsi and ansible deploy\n\nFollowing the decomposition of the core step on the 'direct' deploy\ninterface, this change decomposed the iscsi and ansible deploy.\n\nChange-Id: I537c6f6cf66c80b67b9045ea0618b02b7b93d36c\nStory: 2006963\n""}, {'number': 2, 'created': '2020-05-27 12:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d4be5c1ca686ea372a74da917c590633234c0e48', 'message': ""WIP: Decompose core deploy step on iscsi and ansible deploy\n\nFollowing the decomposition of the core step on the 'direct' deploy\ninterface, this change decomposed the iscsi and ansible deploy.\n\nChange-Id: I537c6f6cf66c80b67b9045ea0618b02b7b93d36c\nStory: 2006963\n""}, {'number': 3, 'created': '2020-05-29 07:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e3676d3b0ff612c76a239c6646f9fea5a7679830', 'message': ""WIP: Decompose core deploy step on iscsi and ansible deploy\n\nFollowing the decomposition of the core step on the 'direct' deploy\ninterface, this change decomposed the iscsi and ansible deploy.\n\nChange-Id: I537c6f6cf66c80b67b9045ea0618b02b7b93d36c\nStory: 2006963\n""}, {'number': 4, 'created': '2020-05-29 12:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c230345b6e689b2110ec26b9020db5771a328da4', 'message': ""WIP: Decompose core deploy step on iscsi and ansible deploy\n\nFollowing the decomposition of the core step on the 'direct' deploy\ninterface, this change decomposed the iscsi and ansible deploy.\n\nChange-Id: I537c6f6cf66c80b67b9045ea0618b02b7b93d36c\nStory: 2006963\n""}, {'number': 5, 'created': '2020-06-07 09:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e3ecb8ff98aced90f9046f6585ea4c7ec6740870', 'message': ""WIP: Decompose the core deploy step on iscsi and ansible deploy\n\nFollowing the decomposition of the core step on the 'direct' deploy\ninterface, this change decomposed the iscsi and ansible deploy.\n\nChange-Id: I537c6f6cf66c80b67b9045ea0618b02b7b93d36c\nStory: 2006963\n""}, {'number': 6, 'created': '2020-06-19 14:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/13aa077bf03895396c688a3fbbb9fd303e6acbf5', 'message': ""WIP: Decompose the core deploy step on iscsi and ansible deploy\n\nFollowing the decomposition of the core step on the 'direct' deploy\ninterface, this change decomposed the iscsi and ansible deploy.\n\nChange-Id: I537c6f6cf66c80b67b9045ea0618b02b7b93d36c\nStory: 2006963\n""}, {'number': 7, 'created': '2020-06-23 16:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4cc974f099c9a1011ff8b6e3d63276168604adb5', 'message': ""WIP: Decompose the core deploy step on iscsi and ansible deploy\n\nFollowing the decomposition of the core step on the 'direct' deploy\ninterface, this change decomposed the iscsi and ansible deploy.\n\nChange-Id: I537c6f6cf66c80b67b9045ea0618b02b7b93d36c\nStory: 2006963\n""}, {'number': 8, 'created': '2020-06-24 07:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d3840c017cd5642a875f9c6010994cdf8677eba2', 'message': ""WIP: Decompose the core deploy step on iscsi and ansible deploy\n\nFollowing the decomposition of the core step on the 'direct' deploy\ninterface, this change decomposed the iscsi and ansible deploy.\n\nChange-Id: I537c6f6cf66c80b67b9045ea0618b02b7b93d36c\nStory: #2006963\nTask: #40152\n""}, {'number': 9, 'created': '2020-06-24 09:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/40967a442d2ff9e9f5ea5272994094d907b33430', 'message': ""WIP: Decompose the core deploy step on iscsi and ansible deploy\n\nFollowing the decomposition of the core step on the 'direct' deploy\ninterface, this change decomposed the iscsi and ansible deploy.\n\nChange-Id: I537c6f6cf66c80b67b9045ea0618b02b7b93d36c\nStory: #2006963\nTask: #40152\n""}, {'number': 10, 'created': '2020-06-24 15:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5094e10f7b21bf4b899451dca9dfb897c441eb6c', 'message': ""WIP: Decompose the core deploy step on iscsi and ansible deploy\n\nFollowing the decomposition of the core step on the 'direct' deploy\ninterface, this change decomposed the iscsi and ansible deploy.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>\nChange-Id: I537c6f6cf66c80b67b9045ea0618b02b7b93d36c\nStory: #2006963\nTask: #40152\n""}, {'number': 11, 'created': '2020-06-25 11:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ab0440d3f0d5b97d09ed0fd3e6b8feed78c8ea39', 'message': ""WIP: Decompose the core deploy step on iscsi and ansible deploy\n\nFollowing the decomposition of the core step on the 'direct' deploy\ninterface, this change decomposed the iscsi and ansible deploy.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>\nChange-Id: I537c6f6cf66c80b67b9045ea0618b02b7b93d36c\nStory: #2006963\nTask: #40152\n""}, {'number': 12, 'created': '2020-06-25 11:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/07bf366208754d491cbfab2a6e1f6bac7a9eb2c6', 'message': ""Decompose the core deploy step on iscsi and ansible deploy\n\nFollowing the decomposition of the core step on the 'direct' deploy\ninterface, this change decomposed the iscsi and ansible deploy.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>\nChange-Id: I537c6f6cf66c80b67b9045ea0618b02b7b93d36c\nStory: #2006963\nTask: #40152\n""}, {'number': 13, 'created': '2020-06-25 14:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2454b72d2d19abd1f2fc14a2ecd40def65fa6b2e', 'message': ""Decompose the core deploy step on iscsi and ansible deploy\n\nFollowing the decomposition of the core step on the 'direct' deploy\ninterface, this change decomposed the iscsi and ansible deploy.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>\nChange-Id: I537c6f6cf66c80b67b9045ea0618b02b7b93d36c\nStory: #2006963\nTask: #40152\n""}, {'number': 14, 'created': '2020-07-02 08:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d90d91079524a533da9a0d4dca8f37613e941a8b', 'message': ""Decompose the core deploy step on iscsi and ansible deploy\n\nFollowing the decomposition of the core step on the 'direct' deploy\ninterface, this change decomposed the iscsi and ansible deploy.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>\nChange-Id: I537c6f6cf66c80b67b9045ea0618b02b7b93d36c\nStory: #2006963\nTask: #40152\n""}, {'number': 15, 'created': '2020-07-08 09:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9943e024c234e2e8f396e52fbf1f3c69c45dae92', 'message': ""Decompose the core deploy step on iscsi and ansible deploy\n\nFollowing the decomposition of the core step on the 'direct' deploy\ninterface, this change decomposed the iscsi and ansible deploy.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>\nChange-Id: I537c6f6cf66c80b67b9045ea0618b02b7b93d36c\nStory: #2006963\nTask: #40152\n""}, {'number': 16, 'created': '2020-07-13 09:36:14.000000000', 'files': ['ironic/drivers/modules/agent_base.py', 'ironic/drivers/modules/iscsi_deploy.py', 'releasenotes/notes/iscsi-ansible-steps-817b52269d2455b0.yaml', 'ironic/drivers/modules/ansible/deploy.py', 'doc/source/admin/node-deployment.rst', 'ironic/tests/unit/drivers/modules/ansible/test_deploy.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/63f6adf68ee76295a6ce8157362548ad10af8473', 'message': ""Decompose the core deploy step on iscsi and ansible deploy\n\nFollowing the decomposition of the core step on the 'direct' deploy\ninterface, this change decomposed the iscsi and ansible deploy.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>\nChange-Id: I537c6f6cf66c80b67b9045ea0618b02b7b93d36c\nStory: #2006963\nTask: #40152\n""}]",3,731180,63f6adf68ee76295a6ce8157362548ad10af8473,112,8,16,10239,,,0,"Decompose the core deploy step on iscsi and ansible deploy

Following the decomposition of the core step on the 'direct' deploy
interface, this change decomposed the iscsi and ansible deploy.

Co-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>
Change-Id: I537c6f6cf66c80b67b9045ea0618b02b7b93d36c
Story: #2006963
Task: #40152
",git fetch https://review.opendev.org/openstack/ironic refs/changes/80/731180/16 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/iscsi_deploy.py', 'ironic/drivers/modules/ansible/deploy.py', 'ironic/tests/unit/drivers/modules/ansible/test_deploy.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py']",4,7aabba57749f55fdfbbf935e03c7deb0c7f0ba1a,story/2006963," @mock.patch.object(manager_utils, 'node_power_action', autospec=True) def test_deploy_storage_should_write_image_false( self, mock_write, mock_node_power_action): with task_manager.acquire( self.context, self.node.uuid, shared=False) as task: self.assertFalse(mock_node_power_action.called) result = task.driver.deploy.deploy(task) self.assertIsNone(result) self.assertEqual(states.DEPLOYING, task.node.provision_state) self.assertFalse(continue_deploy_mock.called) def test_continue_deploy(self, do_agent_iscsi_deploy_mock): task.driver.deploy.continue_deploy(task) do_agent_iscsi_deploy_mock.assert_called_once_with( task, task.driver.deploy._client) self.assertEqual( task.node.driver_internal_info['uuid_dict_returned'], uuid_dict_returned) @mock.patch.object(agent_base.AgentDeployMixin, 'reboot_and_finish_deploy', autospec=True) def test_reboot_to_instance_netboot(self, reboot_and_finish_deploy_mock): uuid_dict_returned = {'root uuid': 'some-root-uuid'} self.node.provision_state = states.DEPLOYWAIT self.node.target_provision_state = states.ACTIVE info = self.node.driver_internal_info info['uuid_dict_returned'] = uuid_dict_returned self.node.driver_internal_info = info self.node.save() with task_manager.acquire(self.context, self.node.uuid) as task: task.driver.deploy.reboot_to_instance(task) def test_reboot_to_instance_localboot(self, configure_local_boot_mock, reboot_and_finish_deploy_mock, set_boot_device_mock): uuid_dict_returned = {'root uuid': 'some-root-uuid'} info = self.node.driver_internal_info info['uuid_dict_returned'] = uuid_dict_returned self.node.driver_internal_info = info task.driver.deploy.reboot_to_instance(task) def test_reboot_to_instance_localboot_uefi(self, configure_local_boot_mock, reboot_and_finish_deploy_mock, set_boot_device_mock): uuid_dict_returned = {'root uuid': 'some-root-uuid', 'efi system partition uuid': 'efi-part-uuid'} info = self.node.driver_internal_info info['uuid_dict_returned'] = uuid_dict_returned self.node.driver_internal_info = info task.driver.deploy.reboot_to_instance(task) @mock.patch.object(noop_storage.NoopStorage, 'should_write_image', autospec=True) @mock.patch.object(flat_network.FlatNetwork, 'configure_tenant_networks', spec_set=True, autospec=True) @mock.patch.object(flat_network.FlatNetwork, 'remove_provisioning_network', spec_set=True, autospec=True) @mock.patch.object(pxe.PXEBoot, 'prepare_instance', spec_set=True, autospec=True) @mock.patch.object(manager_utils, 'node_power_action', autospec=True) def test_reboot_to_instance_storage_should_write_image_false_with_smartnic( self, mock_node_power_action, mock_prepare_instance, mock_remove_network, mock_tenant_network, mock_write, power_on_node_if_needed_mock, restore_power_state_mock): mock_write.return_value = False self.node.provision_state = states.DEPLOYING self.node.deploy_step = { 'step': 'deploy', 'priority': 50, 'interface': 'deploy'} self.node.save() with task_manager.acquire( self.context, self.node.uuid, shared=False) as task: power_on_node_if_needed_mock.return_value = states.POWER_OFF ret = task.driver.deploy.reboot_to_instance(task) self.assertIsNone(ret) mock_remove_network.assert_called_once_with(mock.ANY, task) mock_tenant_network.assert_called_once_with(mock.ANY, task) mock_prepare_instance.assert_called_once_with(mock.ANY, task) self.assertEqual(2, mock_node_power_action.call_count) self.assertEqual(states.DEPLOYING, task.node.provision_state) power_on_node_if_needed_mock.assert_called_once_with(task) restore_power_state_mock.assert_called_once_with( task, states.POWER_OFF) @mock.patch.object(manager_utils, 'restore_power_state_if_needed', autospec=True) @mock.patch.object(manager_utils, 'power_on_node_if_needed', autospec=True)"," @mock.patch.object(flat_network.FlatNetwork, 'configure_tenant_networks', spec_set=True, autospec=True) @mock.patch.object(flat_network.FlatNetwork, 'remove_provisioning_network', spec_set=True, autospec=True) @mock.patch.object(pxe.PXEBoot, 'prepare_instance', spec_set=True, autospec=True) @mock.patch.object(manager_utils, 'node_power_action', autospec=True) @mock.patch.object(iscsi_deploy, 'check_image_size', autospec=True) @mock.patch.object(deploy_utils, 'cache_instance_image', autospec=True) def test_deploy_storage_check_write_image_false(self, mock_cache_instance_image, mock_check_image_size, mock_node_power_action, mock_prepare_instance, mock_remove_network, mock_tenant_network, mock_write): with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: self.assertFalse(mock_cache_instance_image.called) self.assertFalse(mock_check_image_size.called) mock_remove_network.assert_called_once_with(mock.ANY, task) mock_tenant_network.assert_called_once_with(mock.ANY, task) mock_prepare_instance.assert_called_once_with(mock.ANY, task) self.assertEqual(2, mock_node_power_action.call_count) self.assertEqual(states.DEPLOYING, task.node.provision_state) task.driver.deploy.deploy(task) self.assertEqual(states.DEPLOYWAIT, task.node.provision_state) continue_deploy_mock.assert_called_with(mock.ANY, task) def test_continue_deploy_netboot(self, do_agent_iscsi_deploy_mock, reboot_and_finish_deploy_mock): task.driver.deploy.continue_deploy(task) do_agent_iscsi_deploy_mock.assert_called_once_with( task, task.driver.deploy._client) @mock.patch.object(iscsi_deploy, 'do_agent_iscsi_deploy', autospec=True) def test_continue_deploy_localboot(self, do_agent_iscsi_deploy_mock, configure_local_boot_mock, reboot_and_finish_deploy_mock, set_boot_device_mock): uuid_dict_returned = {'root uuid': 'some-root-uuid'} do_agent_iscsi_deploy_mock.return_value = uuid_dict_returned task.driver.deploy.continue_deploy(task) do_agent_iscsi_deploy_mock.assert_called_once_with( task, task.driver.deploy._client) @mock.patch.object(iscsi_deploy, 'do_agent_iscsi_deploy', autospec=True) def test_continue_deploy_localboot_uefi(self, do_agent_iscsi_deploy_mock, configure_local_boot_mock, reboot_and_finish_deploy_mock, set_boot_device_mock): uuid_dict_returned = {'root uuid': 'some-root-uuid', 'efi system partition uuid': 'efi-part-uuid'} do_agent_iscsi_deploy_mock.return_value = uuid_dict_returned task.driver.deploy.continue_deploy(task) do_agent_iscsi_deploy_mock.assert_called_once_with( task, task.driver.deploy._client) @mock.patch.object(manager_utils, 'restore_power_state_if_needed', autospec=True) @mock.patch.object(manager_utils, 'power_on_node_if_needed', autospec=True) @mock.patch.object(noop_storage.NoopStorage, 'should_write_image', autospec=True) @mock.patch.object(flat_network.FlatNetwork, 'configure_tenant_networks', spec_set=True, autospec=True) @mock.patch.object(flat_network.FlatNetwork, 'remove_provisioning_network', spec_set=True, autospec=True) @mock.patch.object(pxe.PXEBoot, 'prepare_instance', spec_set=True, autospec=True) @mock.patch.object(manager_utils, 'node_power_action', autospec=True) @mock.patch.object(iscsi_deploy, 'check_image_size', autospec=True) @mock.patch.object(deploy_utils, 'cache_instance_image', autospec=True) def test_deploy_storage_check_write_image_false_with_smartnic_port( self, mock_cache_instance_image, mock_check_image_size, mock_node_power_action, mock_prepare_instance, mock_remove_network, mock_tenant_network, mock_write, power_on_node_if_needed_mock, restore_power_state_mock): mock_write.return_value = False self.node.provision_state = states.DEPLOYING self.node.deploy_step = { 'step': 'deploy', 'priority': 50, 'interface': 'deploy'} self.node.save() with task_manager.acquire( self.context, self.node.uuid, shared=False) as task: power_on_node_if_needed_mock.return_value = states.POWER_OFF ret = task.driver.deploy.deploy(task) self.assertIsNone(ret) self.assertFalse(mock_cache_instance_image.called) self.assertFalse(mock_check_image_size.called) mock_remove_network.assert_called_once_with(mock.ANY, task) mock_tenant_network.assert_called_once_with(mock.ANY, task) mock_prepare_instance.assert_called_once_with(mock.ANY, task) self.assertEqual(2, mock_node_power_action.call_count) self.assertEqual(states.DEPLOYING, task.node.provision_state) power_on_node_if_needed_mock.assert_called_once_with(task) restore_power_state_mock.assert_called_once_with( task, states.POWER_OFF) ",151,130
openstack%2Fopenstack-helm~master~I44adcb0ebb5c06b1f0334c0e895c1d6363dc7b9b,openstack/openstack-helm,master,I44adcb0ebb5c06b1f0334c0e895c1d6363dc7b9b,[CEPH] cleanup ceph-volume deployment tool as override,ABANDONED,2020-07-01 18:03:05.000000000,2020-07-17 15:37:27.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 28372}]","[{'number': 1, 'created': '2020-07-01 18:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fb77f80a4f86de3c478a50a3e2ceadf0c62bec97', 'message': '[CEPH] Make ceph-volume as default deployment tool\n\nThis is to remomove ceph-volume deployment tool override in this\nscript since ceph-volume is the default deployment tool.\n\nChange-Id: I44adcb0ebb5c06b1f0334c0e895c1d6363dc7b9b\n'}, {'number': 2, 'created': '2020-07-15 23:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5efab3a797b496f954e666410f21ea3a071d00ac', 'message': '[CEPH] Make ceph-volume as default deployment tool\n\nThis is to remomove ceph-volume deployment tool override in this\nscript since ceph-volume is the default deployment tool.\n\nChange-Id: I44adcb0ebb5c06b1f0334c0e895c1d6363dc7b9b\n'}, {'number': 3, 'created': '2020-07-15 23:16:39.000000000', 'files': ['tools/deployment/component/ceph/ceph.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f842d21783fd60a42d2f3dbdff2eeba72f63ff40', 'message': '[CEPH] cleanup ceph-volume deployment tool as override\n\nThis is to remomove ceph-volume deployment tool override in this\nscript since ceph-volume is the default deployment tool.\n\nChange-Id: I44adcb0ebb5c06b1f0334c0e895c1d6363dc7b9b\n'}]",0,738909,f842d21783fd60a42d2f3dbdff2eeba72f63ff40,9,3,3,28372,,,0,"[CEPH] cleanup ceph-volume deployment tool as override

This is to remomove ceph-volume deployment tool override in this
script since ceph-volume is the default deployment tool.

Change-Id: I44adcb0ebb5c06b1f0334c0e895c1d6363dc7b9b
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/09/738909/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/component/ceph/ceph.sh'],1,fb77f80a4f86de3c478a50a3e2ceadf0c62bec97,,,"deploy: tool: ""ceph-volume""",0,2
openstack%2Fopenstack-zuul-jobs~master~Iabb6bc307cae3f03d6aa52c4a1af2d9756a5f04e,openstack/openstack-zuul-jobs,master,Iabb6bc307cae3f03d6aa52c4a1af2d9756a5f04e,Remove unused zero-downtime job,NEW,2020-07-17 15:34:23.000000000,2020-07-17 15:35:32.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 15:34:23.000000000', 'files': ['playbooks/legacy/grenade-dsvm-neutron-multinode-zero-downtime/post.yaml', 'zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/grenade-dsvm-neutron-multinode-zero-downtime/run.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/4aa7e61d44a22818a6f7d5a18edcf201f0c60673', 'message': 'Remove unused zero-downtime job\n\nzero-downtime job is used only in nova experimental pipeline\nwhich is going to be removed now (depends-on).\n\nThis job is failing 100% https://zuul.opendev.org/t/openstack/builds?job_name=legacy-grenade-dsvm-neutron-multinode-zero-downtime\n\nDepends-On: https://review.opendev.org/#/c/741603/\nChange-Id: Iabb6bc307cae3f03d6aa52c4a1af2d9756a5f04e\n'}]",0,741660,4aa7e61d44a22818a6f7d5a18edcf201f0c60673,5,2,1,8556,,,0,"Remove unused zero-downtime job

zero-downtime job is used only in nova experimental pipeline
which is going to be removed now (depends-on).

This job is failing 100% https://zuul.opendev.org/t/openstack/builds?job_name=legacy-grenade-dsvm-neutron-multinode-zero-downtime

Depends-On: https://review.opendev.org/#/c/741603/
Change-Id: Iabb6bc307cae3f03d6aa52c4a1af2d9756a5f04e
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/60/741660/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/grenade-dsvm-neutron-multinode-zero-downtime/post.yaml', 'zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/grenade-dsvm-neutron-multinode-zero-downtime/run.yaml']",3,4aa7e61d44a22818a6f7d5a18edcf201f0c60673,native-zuulv3-migration,,"- hosts: primary name: Autoconverted job legacy-grenade-dsvm-neutron-multinode-zero-downtime from old job gate-grenade-dsvm-neutron-multinode-zero-downtime-ubuntu-xenial tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_CONFIGDRIVE=0 export DEVSTACK_GATE_GRENADE=pullup export DEVSTACK_GATE_USE_PYTHON3=False export PROJECTS=""openstack/grenade $PROJECTS"" # Default to non DVR export DEVSTACK_GATE_NEUTRON_DVR=0 export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi export DEVSTACK_GATE_TOPOLOGY=""multinode"" function post_test_hook { /opt/stack/new/nova/nova/tests/zero_downtime/hooks/run_tests.sh } export -f post_test_hook cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",0,79
openstack%2Fpython-tripleoclient~master~I838e6748879c668dd004ca2243b7b00b857c2a7b,openstack/python-tripleoclient,master,I838e6748879c668dd004ca2243b7b00b857c2a7b,"Add ""yes"" prompt for update/upgrades commands",MERGED,2020-05-22 13:34:13.000000000,2020-07-17 15:26:56.000000000,2020-07-17 12:20:41.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-05-22 13:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/758515e0f39b7e7b738d54d693e9ad5833aad853', 'message': 'Add prompt for overcloud update commands\n\nThe overcloud update commands have now a prompt by default which asks for\nconfirmation before proceeding. It\'ll prevent an user to run the wrong\ncommand and have problems in their infrastructure.\nThis prompt can be skipped with --yes/-y argument.\n\nNote: putting ""MINOR UPDATE"" in uppercase to make sure this is visible\nand clear. We have seen many users running the wrong command and ending\nup doing an upgrade instead of an update.\n\nNote2: this prompt will be ported to the upgrade and FFWD commands.\n\nChange-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b\n'}, {'number': 2, 'created': '2020-05-22 13:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0cbd4a2e6e79fb97e2e4d88ce1d04b6bb57ed457', 'message': 'Add prompt for overcloud update commands\n\nThe overcloud update commands have now a prompt by default which asks for\nconfirmation before proceeding. It\'ll prevent an user to run the wrong\ncommand and have problems in their infrastructure.\nThis prompt can be skipped with --yes/-y argument.\n\nNote: putting ""MINOR UPDATE"" in uppercase to make sure this is visible\nand clear. We have seen many users running the wrong command and ending\nup doing an upgrade instead of an update.\n\nNote2: this prompt will be ported to the upgrade and FFWD commands.\n\nChange-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b\n'}, {'number': 3, 'created': '2020-05-22 19:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b82e1f0f39690575d78f26f6cbc6dd6bbf9381ec', 'message': 'Add prompt for overcloud update commands\n\nThe overcloud update commands have now a prompt by default which asks for\nconfirmation before proceeding. It\'ll prevent an user to run the wrong\ncommand and have problems in their infrastructure.\nThis prompt can be skipped with --yes/-y argument.\n\nNote: putting ""MINOR UPDATE"" in uppercase to make sure this is visible\nand clear. We have seen many users running the wrong command and ending\nup doing an upgrade instead of an update.\n\nNote2: this prompt will be ported to the upgrade and FFWD commands.\n\nDepends-On: https://review.opendev.org/730408\nChange-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b\n'}, {'number': 4, 'created': '2020-05-22 19:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d988210dd60c0dbb51471bdcd6d5ab800b216227', 'message': 'Add prompt for overcloud update commands\n\nThe overcloud update commands have now a prompt by default which asks for\nconfirmation before proceeding. It\'ll prevent an user to run the wrong\ncommand and have problems in their infrastructure.\nThis prompt can be skipped with --yes/-y argument.\n\nNote: putting ""MINOR UPDATE"" in uppercase to make sure this is visible\nand clear. We have seen many users running the wrong command and ending\nup doing an upgrade instead of an update.\n\nNote2: this prompt will be ported to the upgrade and FFWD commands.\n\nDepends-On: https://review.opendev.org/730328\nChange-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b\n'}, {'number': 5, 'created': '2020-05-28 13:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7bd76933a2949411411d986ece936de19c71a1b5', 'message': 'Add prompt for overcloud update commands\n\nThe overcloud update commands have now a prompt by default which asks for\nconfirmation before proceeding. It\'ll prevent an user to run the wrong\ncommand and have problems in their infrastructure.\nThis prompt can be skipped with --yes/-y argument.\n\nNote: putting ""MINOR UPDATE"" in uppercase to make sure this is visible\nand clear. We have seen many users running the wrong command and ending\nup doing an upgrade instead of an update.\n\nNote2: this prompt will be ported to the upgrade and FFWD commands.\n\nDepends-On: https://review.opendev.org/730328\nChange-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b\n'}, {'number': 6, 'created': '2020-07-08 18:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/62d93f96cb175fd8a06a77848bb4cab103de6c94', 'message': 'Add prompt for overcloud update commands\n\nThe overcloud update commands have now a prompt by default which asks for\nconfirmation before proceeding. It\'ll prevent an user to run the wrong\ncommand and have problems in their infrastructure.\nThis prompt can be skipped with --yes/-y argument.\n\nNote: putting ""MINOR UPDATE"" in uppercase to make sure this is visible\nand clear. We have seen many users running the wrong command and ending\nup doing an upgrade instead of an update.\n\nNote2: this prompt will be ported to the upgrade and FFWD commands.\n\nDepends-On: https://review.opendev.org/730328\nChange-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b\n'}, {'number': 7, 'created': '2020-07-09 09:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f8e0d3b9916bd646f56659f1acecb3b3aa7b55b3', 'message': 'Add ""yes"" prompt for update/upgrades commands\n\nUpdate/Upgrade commands have now a prompt by default that ask for\nconfirmation before proceeding. It\'ll prevent an user to run the\ncommand that may cause the problems to infrastructure.\nThis prompt can be skipped with --yes/-y argument.\n\nNote: putting ""UPDATE"" and ""UPGRADE"" in uppercase to make sure this is\nvisible and clear. We have seen many users running the wrong command and\nending up doing an upgrade instead of an update.\n\nNote2: this prompt will be ported to the upgrade and FFWD workflows to\nprevent unexpected execution to prevent potential harm to\ninfrastructures.\n\nDepends-On: https://review.opendev.org/730328\nChange-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b\n'}, {'number': 8, 'created': '2020-07-09 10:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f419e7dcd8430244f088c33f48ff78232126ce71', 'message': 'Add ""yes"" prompt for update/upgrades commands\n\nUpdate/Upgrade commands have now a prompt by default that ask for\nconfirmation before proceeding. It\'ll prevent an user to run the\ncommand that may cause the problems to infrastructure.\nThis prompt can be skipped with --yes/-y argument.\n\nNote: putting ""UPDATE"" and ""UPGRADE"" in uppercase to make sure this is\nvisible and clear. We have seen many users running the wrong command and\nending up doing an upgrade instead of an update.\n\nNote2: this prompt will be ported to the upgrade and FFWD workflows to\nprevent unexpected execution to prevent potential harm to\ninfrastructures.\n\nDepends-On: https://review.opendev.org/730328\nChange-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b\n'}, {'number': 9, 'created': '2020-07-09 17:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/979973c3a559626d8512fb99f9911bbf57fc6191', 'message': 'Add ""yes"" prompt for update/upgrades commands\n\nUpdate/Upgrade commands have now a prompt by default that ask for\nconfirmation before proceeding. It\'ll prevent an user to run the\ncommand that may cause the problems to infrastructure.\nThis prompt can be skipped with --yes/-y argument.\n\nNote: putting ""UPDATE"" and ""UPGRADE"" in uppercase to make sure this is\nvisible and clear. We have seen many users running the wrong command and\nending up doing an upgrade instead of an update.\n\nNote2: this prompt will be ported to the upgrade and FFWD workflows to\nprevent unexpected execution to prevent potential harm to\ninfrastructures.\n\nDepends-On: https://review.opendev.org/730328\nChange-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b\n'}, {'number': 10, 'created': '2020-07-09 17:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3a12a9fab702d022e759ad492ea3c365bbb3a60a', 'message': 'Add ""yes"" prompt for update/upgrades commands\n\nUpdate/Upgrade commands have now a prompt by default that ask for\nconfirmation before proceeding. It\'ll prevent an user to run the\ncommand that may cause the problems to infrastructure.\nThis prompt can be skipped with --yes/-y argument.\n\nNote: putting ""UPDATE"" and ""UPGRADE"" in uppercase to make sure this is\nvisible and clear. We have seen many users running the wrong command and\nending up doing an upgrade instead of an update.\n\nNote2: this prompt will be ported to the upgrade and FFWD workflows to\nprevent unexpected execution to prevent potential harm to\ninfrastructures.\n\nDepends-On: https://review.opendev.org/730328\nChange-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b\n'}, {'number': 11, 'created': '2020-07-13 15:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b34051deb64657a2eaacc458dac77a695b15a1ad', 'message': 'Add ""yes"" prompt for update/upgrades commands\n\nUpdate/Upgrade commands have now a prompt by default that ask for\nconfirmation before proceeding. It\'ll prevent an user to run the\ncommand that may cause the problems to infrastructure.\nThis prompt can be skipped with --yes/-y argument.\n\nNote: putting ""UPDATE"" and ""UPGRADE"" in uppercase to make sure this is\nvisible and clear. We have seen many users running the wrong command and\nending up doing an upgrade instead of an update.\n\nNote2: this prompt will be ported to the upgrade and FFWD workflows to\nprevent unexpected execution to prevent potential harm to\ninfrastructures.\n\nDepends-On: https://review.opendev.org/730328\nChange-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b\n'}, {'number': 12, 'created': '2020-07-15 22:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b178ed66088ee5c12570e4af367b36d5f6540411', 'message': 'Add ""yes"" prompt for update/upgrades commands\n\nUpdate/Upgrade commands have now a prompt by default that ask for\nconfirmation before proceeding. It\'ll prevent an user to run the\ncommand that may cause the problems to infrastructure.\nThis prompt can be skipped with --yes/-y argument.\n\nNote: putting ""UPDATE"" and ""UPGRADE"" in uppercase to make sure this is\nvisible and clear. We have seen many users running the wrong command and\nending up doing an upgrade instead of an update.\n\nNote2: this prompt will be ported to the upgrade and FFWD workflows to\nprevent unexpected execution to prevent potential harm to\ninfrastructures.\n\nDepends-On: https://review.opendev.org/730328\nChange-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b\n'}, {'number': 13, 'created': '2020-07-16 15:19:58.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'releasenotes/notes/upgrade_update_prompt-f6ace53f02b62fa0.yaml', 'tripleoclient/exceptions.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/v1/overcloud_external_update.py', 'tripleoclient/v1/overcloud_external_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7a044ca2517d26ea4ea763cc76d373ad4b39f7f9', 'message': 'Add ""yes"" prompt for update/upgrades commands\n\nUpdate/Upgrade commands have now a prompt by default that ask for\nconfirmation before proceeding. It\'ll prevent an user to run the\ncommand that may cause the problems to infrastructure.\nThis prompt can be skipped with --yes/-y argument.\n\nNote: putting ""UPDATE"" and ""UPGRADE"" in uppercase to make sure this is\nvisible and clear. We have seen many users running the wrong command and\nending up doing an upgrade instead of an update.\n\nNote2: this prompt will be ported to the upgrade and FFWD workflows to\nprevent unexpected execution to prevent potential harm to\ninfrastructures.\n\nDepends-On: https://review.opendev.org/741480\nChange-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b\n'}]",45,730325,7a044ca2517d26ea4ea763cc76d373ad4b39f7f9,64,10,13,3153,,,0,"Add ""yes"" prompt for update/upgrades commands

Update/Upgrade commands have now a prompt by default that ask for
confirmation before proceeding. It'll prevent an user to run the
command that may cause the problems to infrastructure.
This prompt can be skipped with --yes/-y argument.

Note: putting ""UPDATE"" and ""UPGRADE"" in uppercase to make sure this is
visible and clear. We have seen many users running the wrong command and
ending up doing an upgrade instead of an update.

Note2: this prompt will be ported to the upgrade and FFWD workflows to
prevent unexpected execution to prevent potential harm to
infrastructures.

Depends-On: https://review.opendev.org/741480
Change-Id: I838e6748879c668dd004ca2243b7b00b857c2a7b
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/25/730325/11 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/overcloud_update_prompt-f6ace53f02b62fa0.yaml', 'tripleoclient/constants.py', 'tripleoclient/exceptions.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py']",5,758515e0f39b7e7b738d54d693e9ad5833aad853,yes_prompt," @mock.patch('tripleoclient.utils.prompt_user_for_confirmation', return_value=True) mock_get_stack, mock_get_undercloud_host_entry, mock_confirm): @mock.patch('tripleoclient.utils.prompt_user_for_confirmation', return_value=True) mock_get_stack, mock_confirm): @mock.patch('tripleoclient.utils.prompt_user_for_confirmation', return_value=True) self, mock_open, mock_execute, mock_expanduser, update_ansible, mock_confirm): @mock.patch('tripleoclient.utils.prompt_user_for_confirmation', return_value=True) def test_update_converge(self, deploy_action, mock_confirm):"," mock_get_stack, mock_get_undercloud_host_entry): mock_get_stack): self, mock_open, mock_execute, mock_expanduser, update_ansible): def test_update_converge(self, deploy_action):",59,4
openstack%2Ftripleo-upgrade~master~I22a998e0cf3b04ef51a51478fc6576324a931dcb,openstack/tripleo-upgrade,master,I22a998e0cf3b04ef51a51478fc6576324a931dcb,Fix --yes evaluation from the help CLI,MERGED,2020-07-16 15:19:18.000000000,2020-07-17 15:24:47.000000000,2020-07-17 12:20:40.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-16 15:19:18.000000000', 'files': ['templates/overcloud_update_converge.sh.j2', 'templates/fast-forward-upgrade/overcloud_upgrade_role.sh.j2', 'templates/overcloud_update_prepare.sh.j2', 'templates/overcloud_system_upgrade.sh.j2', 'templates/overcloud_update_run.sh.j2', 'templates/ceph-update-run.sh.j2', 'templates/overcloud_upgrade_run.sh.j2', 'templates/overcloud_upgrade_prepare.sh.j2', 'templates/ceph-upgrade-run.sh.j2', 'templates/undercloud_upgrade.sh.j2', 'templates/overcloud_prepare_containers.sh.j2', 'templates/overcloud_online_data_migration.sh.j2', 'templates/overcloud_upgrade_converge.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9ceca92d206bf5e71c3715005b44480c25c11706', 'message': 'Fix --yes evaluation from the help CLI\n\nSometimes, CLI may return error earlier than grep catches up\nits query results. With bash pipefail set, this ends up with grep --yes\nomitted and the wrong command executed (without --yes).\n\nSet pipefail only after the --yes argument evaluated by grep.\n\nChange-Id: I22a998e0cf3b04ef51a51478fc6576324a931dcb\nCo-Authored-By: Sergii Golovatouk <sgolovat@redhat.com>\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,741480,9ceca92d206bf5e71c3715005b44480c25c11706,10,6,1,6926,,,0,"Fix --yes evaluation from the help CLI

Sometimes, CLI may return error earlier than grep catches up
its query results. With bash pipefail set, this ends up with grep --yes
omitted and the wrong command executed (without --yes).

Set pipefail only after the --yes argument evaluated by grep.

Change-Id: I22a998e0cf3b04ef51a51478fc6576324a931dcb
Co-Authored-By: Sergii Golovatouk <sgolovat@redhat.com>
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/80/741480/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/overcloud_update_converge.sh.j2', 'templates/fast-forward-upgrade/overcloud_upgrade_role.sh.j2', 'templates/overcloud_update_prepare.sh.j2', 'templates/overcloud_system_upgrade.sh.j2', 'templates/overcloud_update_run.sh.j2', 'templates/ceph-update-run.sh.j2', 'templates/overcloud_upgrade_run.sh.j2', 'templates/overcloud_upgrade_prepare.sh.j2', 'templates/ceph-upgrade-run.sh.j2', 'templates/undercloud_upgrade.sh.j2', 'templates/overcloud_prepare_containers.sh.j2', 'templates/overcloud_online_data_migration.sh.j2', 'templates/overcloud_upgrade_converge.sh.j2']",13,9ceca92d206bf5e71c3715005b44480c25c11706,,set -euset -o pipefail,set -euo pipefail,28,12
openstack%2Fcharm-ceph-osd~master~Ibc09bc7951babe0bc18d1c377242b0dbdf32ab89,openstack/charm-ceph-osd,master,Ibc09bc7951babe0bc18d1c377242b0dbdf32ab89,Switch to using openstack-python3-charm-jobs,MERGED,2020-07-13 07:26:12.000000000,2020-07-17 15:11:16.000000000,2020-07-17 15:11:16.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-13 07:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/2aa16751e6b429b809523037ec0728c8399cb080', 'message': 'Switch to using openstack-python3-charm-jobs\n\nChange-Id: Ibc09bc7951babe0bc18d1c377242b0dbdf32ab89\nDepends-On: Ib9ed240aef6680be7c972088ca5337b5740b9c36\n'}, {'number': 2, 'created': '2020-07-13 07:31:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/5c084ba5daddfe36a07b4e6a7b26e5cb2cf52351', 'message': 'Switch to using openstack-python3-charm-jobs\n\nChange-Id: Ibc09bc7951babe0bc18d1c377242b0dbdf32ab89\nDepends-On: Ib9ed240aef6680be7c972088ca5337b5740b9c36\n'}]",0,740626,5c084ba5daddfe36a07b4e6a7b26e5cb2cf52351,9,3,2,935,,,0,"Switch to using openstack-python3-charm-jobs

Change-Id: Ibc09bc7951babe0bc18d1c377242b0dbdf32ab89
Depends-On: Ib9ed240aef6680be7c972088ca5337b5740b9c36
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/26/740626/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', '.zuul.yaml']",2,2aa16751e6b429b809523037ec0728c8399cb080,openstack-python3-charm-jobs, - openstack-python3-charm-jobs, - python35-charm-jobs - openstack-python3-ussuri-jobs,1,3
openstack%2Fcharm-ceph-osd~master~I6204a5ade684f0564c4be2d30df467c75baa6dba,openstack/charm-ceph-osd,master,I6204a5ade684f0564c4be2d30df467c75baa6dba,Add a progress watchdog for OSD upgrades,MERGED,2020-07-06 16:15:29.000000000,2020-07-17 15:11:16.000000000,2020-07-17 15:11:15.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-06 16:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/9bae3dc6432aa4a7df2f6251c0e664533287327f', 'message': ""Add a progress watchdog for OSD upgrades\n\nThis patch (in charms.ceph [1], copied here) add the concept of a\nwatchdog to the upgrade_monitor so that the charm can achieve two\nobjectives of 1. Waiting for much longer, but 2. detecting whether the\nprevious node has died / gone away.  This is needed for 'large' OSDs\nwhere the time to upgrade a node may exceed the current limit of 10\nminutes, but also not to wait for 30 minutes on a dead previous node.\nThe watchdog implements two timeouts and an addition 'alive' key from\nthe previous node to indicate that it is still running.  Otherwise,\nfunctionality is identical.\n\n[1] See depends on below\nDepends-On: Ia450e936c2096f092af3be5a369b7abaf5023b16\nCloses-Bug: #1762852\n\nChange-Id: I6204a5ade684f0564c4be2d30df467c75baa6dba\n""}, {'number': 2, 'created': '2020-07-14 11:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/1a976613f7c02490cd30906c49a36bc62ac79849', 'message': ""Add a progress watchdog for OSD upgrades\n\nThis patch (in charms.ceph [1], copied here) add the concept of a\nwatchdog to the upgrade_monitor so that the charm can achieve two\nobjectives of 1. Waiting for much longer, but 2. detecting whether the\nprevious node has died / gone away.  This is needed for 'large' OSDs\nwhere the time to upgrade a node may exceed the current limit of 10\nminutes, but also not to wait for 30 minutes on a dead previous node.\nThe watchdog implements two timeouts and an addition 'alive' key from\nthe previous node to indicate that it is still running.  Otherwise,\nfunctionality is identical.\n\n[1] See depends on below\nDepends-On: Ia450e936c2096f092af3be5a369b7abaf5023b16\nCloses-Bug: #1762852\n\nChange-Id: I6204a5ade684f0564c4be2d30df467c75baa6dba\n""}, {'number': 3, 'created': '2020-07-15 14:49:44.000000000', 'files': ['lib/charms_ceph/utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/6b0a11b4048027d7de11d28bbf388bd0c337400f', 'message': ""Add a progress watchdog for OSD upgrades\n\nThis patch (in charms.ceph [1], copied here) add the concept of a\nwatchdog to the upgrade_monitor so that the charm can achieve two\nobjectives of 1. Waiting for much longer, but 2. detecting whether the\nprevious node has died / gone away.  This is needed for 'large' OSDs\nwhere the time to upgrade a node may exceed the current limit of 10\nminutes, but also not to wait for 30 minutes on a dead previous node.\nThe watchdog implements two timeouts and an addition 'alive' key from\nthe previous node to indicate that it is still running.  Otherwise,\nfunctionality is identical.\n\n[1] See depends on below\nDepends-On: Ia450e936c2096f092af3be5a369b7abaf5023b16\nCloses-Bug: #1762852\n\nChange-Id: I6204a5ade684f0564c4be2d30df467c75baa6dba\n""}]",0,739535,6b0a11b4048027d7de11d28bbf388bd0c337400f,30,4,3,20870,,,0,"Add a progress watchdog for OSD upgrades

This patch (in charms.ceph [1], copied here) add the concept of a
watchdog to the upgrade_monitor so that the charm can achieve two
objectives of 1. Waiting for much longer, but 2. detecting whether the
previous node has died / gone away.  This is needed for 'large' OSDs
where the time to upgrade a node may exceed the current limit of 10
minutes, but also not to wait for 30 minutes on a dead previous node.
The watchdog implements two timeouts and an addition 'alive' key from
the previous node to indicate that it is still running.  Otherwise,
functionality is identical.

[1] See depends on below
Depends-On: Ia450e936c2096f092af3be5a369b7abaf5023b16
Closes-Bug: #1762852

Change-Id: I6204a5ade684f0564c4be2d30df467c75baa6dba
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/35/739535/3 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms_ceph/utils.py', 'tox.ini']",2,9bae3dc6432aa4a7df2f6251c0e664533287327f,bug/1762852,"ignore = E402,E226,W504","ignore = E402,E226",246,43
openstack%2Fnetworking-odl~stable%2Fussuri~Id0a1d1c25eb90be4a2bed85de6c56b5fdf2d76d6,openstack/networking-odl,stable/ussuri,Id0a1d1c25eb90be4a2bed85de6c56b5fdf2d76d6,Fix pep8 job  and small fixes for functional jobs,ABANDONED,2020-07-15 14:23:41.000000000,2020-07-17 15:07:25.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 14:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9f2588bf6bf4e4b5d1bc5895656b4849c6f2cd38', 'message': ""Fix pep8 job  and small fixes for functional jobs\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\n\nChange-Id: Id0a1d1c25eb90be4a2bed85de6c56b5fdf2d76d6\n""}, {'number': 2, 'created': '2020-07-16 08:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/08d2142fc98e36e072412cc40521d2ef529ee691', 'message': ""Fix pep8 job  and small fixes for functional jobs\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\n\nChange-Id: Id0a1d1c25eb90be4a2bed85de6c56b5fdf2d76d6\n""}, {'number': 3, 'created': '2020-07-17 12:43:47.000000000', 'files': ['playbooks/functional/pre.yaml', 'test-requirements.txt', 'lower-constraints.txt', 'networking_odl/tests/functional/requirements.txt', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/174fb68ce5ea342a76f65f1fe2b4c1e8cbb59075', 'message': ""Fix pep8 job  and small fixes for functional jobs\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nThe issue appeared on stable branches that functional jobs can't find\ncorrect pip version and failed due to not actual neutron version.\n\nChange-Id: Id0a1d1c25eb90be4a2bed85de6c56b5fdf2d76d6\n""}]",0,741221,174fb68ce5ea342a76f65f1fe2b4c1e8cbb59075,7,2,3,8313,,,0,"Fix pep8 job  and small fixes for functional jobs

New versions of isort broke pylint. This patch fixes it at 4.3.21.

The issue appeared on stable branches that functional jobs can't find
correct pip version and failed due to not actual neutron version.

Change-Id: Id0a1d1c25eb90be4a2bed85de6c56b5fdf2d76d6
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/21/741221/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/functional/pre.yaml', 'test-requirements.txt', 'lower-constraints.txt', '.zuul.d/jobs.yaml']",4,9f2588bf6bf4e4b5d1bc5895656b4849c6f2cd38,pep8-error-stable/ussuri, - openstack/neutron - openstack/neutron-lib,,5,1
openstack%2Fcharm-barbican~master~I69ffbb9274a352c784db634e40a936e7aca7b5f5,openstack/charm-barbican,master,I69ffbb9274a352c784db634e40a936e7aca7b5f5,Switch to using openstack-python3-charm-jobs,MERGED,2020-07-13 07:36:38.000000000,2020-07-17 15:02:12.000000000,2020-07-17 15:02:12.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-13 07:36:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/3baea3523e0a25b80558615c82ea82962cf629fb', 'message': 'Switch to using openstack-python3-charm-jobs\n\nChange-Id: I69ffbb9274a352c784db634e40a936e7aca7b5f5\nDepends-On: Ib9ed240aef6680be7c972088ca5337b5740b9c36\n'}]",0,740627,3baea3523e0a25b80558615c82ea82962cf629fb,7,3,1,935,,,0,"Switch to using openstack-python3-charm-jobs

Change-Id: I69ffbb9274a352c784db634e40a936e7aca7b5f5
Depends-On: Ib9ed240aef6680be7c972088ca5337b5740b9c36
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/27/740627/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3baea3523e0a25b80558615c82ea82962cf629fb,openstack-python3-charm-jobs, - openstack-python3-charm-jobs, - python35-charm-jobs - openstack-python3-ussuri-jobs,1,2
openstack%2Fironic~master~I397d23af64dfd56074cb563eedbe2d1ef8efff53,openstack/ironic,master,I397d23af64dfd56074cb563eedbe2d1ef8efff53,Stop wiping driver_internal_info on node.driver updates,MERGED,2020-07-16 15:19:38.000000000,2020-07-17 14:59:16.000000000,2020-07-16 21:06:51.000000000,"[{'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-16 15:19:38.000000000', 'files': ['ironic/objects/node.py', 'ironic/tests/unit/objects/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5f557f47f4815e498a1837852742a4eeb8adb389', 'message': 'Stop wiping driver_internal_info on node.driver updates\n\nIt brings more harm than good, e.g. it breaks fast-track. Since\ndriver-specific fields are name-spaced, there should be no much\nharm in keeping them around.\n\nChange-Id: I397d23af64dfd56074cb563eedbe2d1ef8efff53\n'}]",0,741481,5f557f47f4815e498a1837852742a4eeb8adb389,11,5,1,10239,,,0,"Stop wiping driver_internal_info on node.driver updates

It brings more harm than good, e.g. it breaks fast-track. Since
driver-specific fields are name-spaced, there should be no much
harm in keeping them around.

Change-Id: I397d23af64dfd56074cb563eedbe2d1ef8efff53
",git fetch https://review.opendev.org/openstack/ironic refs/changes/81/741481/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/objects/node.py', 'ironic/tests/unit/objects/test_node.py']",2,5f557f47f4815e498a1837852742a4eeb8adb389,driver-internal-info,," 'driver_internal_info': {}, 'driver_internal_info': {},",0,6
openstack%2Fcharm-hacluster~master~I2ca35f51281809a3948ba93f2f0ef56a6fa87cf5,openstack/charm-hacluster,master,I2ca35f51281809a3948ba93f2f0ef56a6fa87cf5,Update tox.ini to release-tools version,ABANDONED,2020-07-15 13:04:52.000000000,2020-07-17 14:58:36.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24890}]","[{'number': 1, 'created': '2020-07-15 13:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/0928f09635f3f641a4682475db2a551a662c475c', 'message': 'Normalize tox.ini func tests environments\n\nChange-Id: I2ca35f51281809a3948ba93f2f0ef56a6fa87cf5\n'}, {'number': 2, 'created': '2020-07-17 08:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/0230b34b9cd5ad41b8e7007d3f3ac20106f299cd', 'message': ""Update tox.ini to release-tools version\n\nPyflake failed in py38 because 'FlakesChecker' object has no attribute\n'CONSTANT'. flake8 version has been updated in test-requirements.txt,\nbut it also requires tox.ini to ignore W504 lint warnings. Several lint\nerrors were fixed.\n\nChange-Id: I2ca35f51281809a3948ba93f2f0ef56a6fa87cf5\n""}, {'number': 3, 'created': '2020-07-17 09:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/00586c44e1ed4287b44abc3766ac94b7664cec6a', 'message': ""Update tox.ini to release-tools version\n\n * py38 support: pyflake failed because 'FlakesChecker' object has no\n attribute 'CONSTANT'. flake8 version has been updated in\n test-requirements.txt\n * tox.ini flake8 ignore list includes W504 lint warnings\n * Lint errors fixed\n * requirements.txt: psutil has been removed.\n psutil is not used in charm-hacluster. It was copied from the\n release-tools version but failed to build due to unmatched deps.\n\nChange-Id: I2ca35f51281809a3948ba93f2f0ef56a6fa87cf5\n""}, {'number': 4, 'created': '2020-07-17 14:12:42.000000000', 'files': ['hooks/hooks.py', 'hooks/utils.py', 'actions/actions.py', 'unit_tests/__init__.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/7cb8c471f9b98576439499621247268a2cbcf548', 'message': 'Update tox.ini to release-tools version\n\n * tox.ini flake8 ignore list includes W504 lint warnings\n * Lint errors fixed\n\nChange-Id: I2ca35f51281809a3948ba93f2f0ef56a6fa87cf5\n'}]",3,741178,7cb8c471f9b98576439499621247268a2cbcf548,15,4,4,24890,,,0,"Update tox.ini to release-tools version

 * tox.ini flake8 ignore list includes W504 lint warnings
 * Lint errors fixed

Change-Id: I2ca35f51281809a3948ba93f2f0ef56a6fa87cf5
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/78/741178/4 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'hooks/utils.py', 'actions/actions.py', 'test-requirements.txt', 'unit_tests/__init__.py', 'tox.ini']",6,0928f09635f3f641a4682475db2a551a662c475c,fix/linting,"deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtbasepython = python3 commands = functest-run-suite --keep-model --dev [testenv:func-target]ignore = E402,E226,W504","deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtignore = E402,E226",14,28
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1d21db4af894c096d929863daabd08673592370c,openstack/tripleo-heat-templates,stable/train,I1d21db4af894c096d929863daabd08673592370c,Set and then unset Ceph's noout flag before/after node is rebooted,MERGED,2020-07-03 13:44:47.000000000,2020-07-17 14:56:34.000000000,2020-07-17 14:56:34.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}, {'_account_id': 27092}]","[{'number': 1, 'created': '2020-07-03 13:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/31e0726b1c93afc366af5a20dcd8679a27b69422', 'message': 'WIP: unset noout flag after node upgrade\n\nChange-Id: I1d21db4af894c096d929863daabd08673592370c\n'}, {'number': 2, 'created': '2020-07-03 14:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/060d6512fdf10d51cc868917d47aa3182372b0f8', 'message': 'WIP: unset noout flag after node upgrade\n\nChange-Id: I1d21db4af894c096d929863daabd08673592370c\n'}, {'number': 3, 'created': '2020-07-06 16:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7797d7ed96872b42add8c7e91bad4c649a9de8c0', 'message': 'WIP: unset noout flag after node upgrade\n\nChange-Id: I1d21db4af894c096d929863daabd08673592370c\n'}, {'number': 4, 'created': '2020-07-06 17:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad8dcfa26ce9ab9aaf4b76e029f5f927cda4fe46', 'message': ""Set and then unset Ceph's noout flag before/after node is rebooted\n\nThe Ceph cluster needs not to mark down OSDs during the time when\nthe nodes are undercloud LEAPP upgrade because during that step\nnodes will be rebooted.\n\nThis change implements setting and unsetting of the noout flag\nbefore nodes (each) starts the LEAPP process and after the upgrade\nis finished and the node rebooted.\n\nChange-Id: I1d21db4af894c096d929863daabd08673592370c\n""}, {'number': 5, 'created': '2020-07-17 07:39:31.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d48b22c15eacba5e8d0fa23e888518b71e25b399', 'message': ""Set and then unset Ceph's noout flag before/after node is rebooted\n\nThe Ceph cluster needs not to mark down OSDs during the time when\nthe nodes are undercloud LEAPP upgrade because during that step\nnodes will be rebooted.\n\nThis change implements setting and unsetting of the Ceph flags\n(noout, norebalance, norecover and nobackfill) required to avoid\nmarking the OSDs down: the involved tasks are executed before node\n(each) starts the LEAPP process and after the upgrade is finished and\nthe node rebooted.\n\nThis patch is going directly into train because it's trying to address\na problem that depends on the queens/train FFWD upgrade, while in\nthe main branch the upgrade_tasks list is still empty.\n\nChange-Id: I1d21db4af894c096d929863daabd08673592370c\n""}]",14,739232,d48b22c15eacba5e8d0fa23e888518b71e25b399,35,11,5,6796,,,0,"Set and then unset Ceph's noout flag before/after node is rebooted

The Ceph cluster needs not to mark down OSDs during the time when
the nodes are undercloud LEAPP upgrade because during that step
nodes will be rebooted.

This change implements setting and unsetting of the Ceph flags
(noout, norebalance, norecover and nobackfill) required to avoid
marking the OSDs down: the involved tasks are executed before node
(each) starts the LEAPP process and after the upgrade is finished and
the node rebooted.

This patch is going directly into train because it's trying to address
a problem that depends on the queens/train FFWD upgrade, while in
the main branch the upgrade_tasks list is still empty.

Change-Id: I1d21db4af894c096d929863daabd08673592370c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/739232/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,31e0726b1c93afc366af5a20dcd8679a27b69422,ceph_ffu_noout," post_upgrade_tasks: - name: Unset noout flaf command: ""{{ container_cli }} exec -u root ceph-mon-${HOSTNAME} ceph osd unset noout"" when: step|int == 3 tripleo_delegate_to: ""{{ groups['ceph_mon'] | default([]) | first }}""",,5,0
openstack%2Fneutron~stable%2Fqueens~I795ee7ca729646be0411a1232bf218015c65010f,openstack/neutron,stable/queens,I795ee7ca729646be0411a1232bf218015c65010f,Add config option ``http_retries``,MERGED,2020-07-09 10:18:46.000000000,2020-07-17 14:55:52.000000000,2020-07-17 14:53:30.000000000,"[{'_account_id': 4694}, {'_account_id': 9373}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 10:18:46.000000000', 'files': ['releasenotes/notes/Add-http_retries-config-option-b81dd29c03ba8c6a.yaml', 'neutron/conf/common.py', 'neutron/notifiers/nova.py', 'neutron/tests/unit/notifiers/test_nova.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/290c3a9885c5c02e9dd3d6505473fc3f08207991', 'message': 'Add config option ``http_retries``\n\nThis option allows to configure Number of times nova or ironic client\nshould retry on any failed http call.\nDefault value for this new option is ""3"".\n\nConflicts:\n    neutron/notifiers/ironic.py\n    neutron/notifiers/nova.py\n    neutron/tests/unit/notifiers/test_nova.py\n\nChange-Id: I795ee7ca729646be0411a1232bf218015c65010f\nCloses-Bug: #1883712\n(cherry picked from commit e94511cd251299cee84b8b67d404972988ae28d3)\n'}]",0,740222,290c3a9885c5c02e9dd3d6505473fc3f08207991,13,5,1,11975,,,0,"Add config option ``http_retries``

This option allows to configure Number of times nova or ironic client
should retry on any failed http call.
Default value for this new option is ""3"".

Conflicts:
    neutron/notifiers/ironic.py
    neutron/notifiers/nova.py
    neutron/tests/unit/notifiers/test_nova.py

Change-Id: I795ee7ca729646be0411a1232bf218015c65010f
Closes-Bug: #1883712
(cherry picked from commit e94511cd251299cee84b8b67d404972988ae28d3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/740222/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Add-http_retries-config-option-b81dd29c03ba8c6a.yaml', 'neutron/conf/common.py', 'neutron/notifiers/nova.py', 'neutron/tests/unit/notifiers/test_nova.py']",4,290c3a9885c5c02e9dd3d6505473fc3f08207991,bug/1883712-stable/queens," connect_retries=3, connect_retries=3,",,18,1
openstack%2Fdevstack~master~I860e899274646ff73b8f084a0583325239aee9cc,openstack/devstack,master,I860e899274646ff73b8f084a0583325239aee9cc,Only set hw_rng_model by default if we're on libvirt,MERGED,2020-07-15 21:54:47.000000000,2020-07-17 14:55:26.000000000,2020-07-17 14:53:32.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-15 21:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/aee64d1ff55f01907864ab5a4dd9a60ec25dc56f', 'message': ""Only set hw_rng_model by default if we're on libvirt\n\nThis makes no sense to set on _every_ devstack deployment, only\nif we are using libvirt. Make it conditional.\n\nChange-Id: I860e899274646ff73b8f084a0583325239aee9cc\n""}, {'number': 2, 'created': '2020-07-16 13:30:55.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/devstack/commit/49ad4850c8d5be9c90b10f118853e0288997405d', 'message': ""Only set hw_rng_model by default if we're on libvirt\n\nThis makes no sense to set on _every_ devstack deployment, only\nif we are using libvirt qemu or kvm. Make it conditional.\n\nChange-Id: I860e899274646ff73b8f084a0583325239aee9cc\n""}]",0,741328,49ad4850c8d5be9c90b10f118853e0288997405d,15,5,2,4393,,,0,"Only set hw_rng_model by default if we're on libvirt

This makes no sense to set on _every_ devstack deployment, only
if we are using libvirt qemu or kvm. Make it conditional.

Change-Id: I860e899274646ff73b8f084a0583325239aee9cc
",git fetch https://review.opendev.org/openstack/devstack refs/changes/28/741328/1 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,aee64d1ff55f01907864ab5a4dd9a60ec25dc56f,fix-image-property," local img_property="""" if [[ ""$VIRT_DRIVER"" == ""libvirt"" ]]; then img_property=""hw_rng_model=virtio"" fi "," local img_property=""hw_rng_model=virtio""",6,1
openstack%2Fironic~stable%2Fussuri~Ibac5d07b988438719bf414f314cbc610562e7599,openstack/ironic,stable/ussuri,Ibac5d07b988438719bf414f314cbc610562e7599,Software RAID: don't try to set local_gb to MAX,MERGED,2020-07-06 13:43:53.000000000,2020-07-17 14:50:48.000000000,2020-07-17 14:47:02.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-06 13:43:53.000000000', 'files': ['releasenotes/notes/raid-max-c0920cc44b9779ee.yaml', 'ironic/tests/unit/common/test_raid.py', 'ironic/common/raid.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/485dad97b1bb9088627ac9e60c934e3491dbbc50', 'message': ""Software RAID: don't try to set local_gb to MAX\n\nChange-Id: Ibac5d07b988438719bf414f314cbc610562e7599\n(cherry picked from commit cedc4a24167de205db25cc45fd37275f3e4956bd)\n""}]",0,739488,485dad97b1bb9088627ac9e60c934e3491dbbc50,20,6,1,10239,,,0,"Software RAID: don't try to set local_gb to MAX

Change-Id: Ibac5d07b988438719bf414f314cbc610562e7599
(cherry picked from commit cedc4a24167de205db25cc45fd37275f3e4956bd)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/88/739488/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/raid-max-c0920cc44b9779ee.yaml', 'ironic/tests/unit/common/test_raid.py', 'ironic/common/raid.py']",3,485dad97b1bb9088627ac9e60c934e3491dbbc50,raid-max-stable/ussuri, if root_logical_disk['size_gb'] != 'MAX': properties['local_gb'] = root_logical_disk['size_gb'], properties['local_gb'] = root_logical_disk['size_gb'],20,3
openstack%2Foslo.config~master~I77637e5d993d94ecfac985afa4b532b80cb4e8e7,openstack/oslo.config,master,I77637e5d993d94ecfac985afa4b532b80cb4e8e7,WIP: mypy: Add initial type hints,NEW,2019-10-09 09:30:37.000000000,2020-07-17 14:46:01.000000000,,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2019-10-09 09:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/1076388a8f3473510b301e46e8601ec96ba74544', 'message': 'WIP: mypy: Add initial type hints\n\nChange-Id: I77637e5d993d94ecfac985afa4b532b80cb4e8e7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-10-09 15:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/5059c0b18aecf148b2b97bb8f481fa4dd05b1e33', 'message': 'WIP: mypy: Add initial type hints\n\nChange-Id: I77637e5d993d94ecfac985afa4b532b80cb4e8e7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2019-12-17 17:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/dc4006a3c946672c9199be3b37106fd831dd980e', 'message': 'WIP: mypy: Add initial type hints\n\nChange-Id: I77637e5d993d94ecfac985afa4b532b80cb4e8e7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2020-01-31 15:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/da960099a4a031c02be1da109dad31c252980226', 'message': 'WIP: mypy: Add initial type hints\n\nChange-Id: I77637e5d993d94ecfac985afa4b532b80cb4e8e7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 5, 'created': '2020-01-31 17:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/7e6f2319af16aa24a2ee82c3abdb46c51aa1d526', 'message': 'WIP: mypy: Add initial type hints\n\nChange-Id: I77637e5d993d94ecfac985afa4b532b80cb4e8e7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 6, 'created': '2020-02-03 11:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/0f24955c6e71865be3dad90ad4c695ef056caa9a', 'message': 'WIP: mypy: Add initial type hints\n\nChange-Id: I77637e5d993d94ecfac985afa4b532b80cb4e8e7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 7, 'created': '2020-02-10 11:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/2e4f953e7560641f7706edea567acd80bc8e0862', 'message': 'WIP: mypy: Add initial type hints\n\nChange-Id: I77637e5d993d94ecfac985afa4b532b80cb4e8e7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 8, 'created': '2020-02-10 15:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/e64e146b337fa8fc5161afcc340d80ffa429914d', 'message': 'WIP: mypy: Add initial type hints\n\nChange-Id: I77637e5d993d94ecfac985afa4b532b80cb4e8e7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 9, 'created': '2020-02-12 09:57:12.000000000', 'files': ['oslo_config/cfg.py', 'oslo_config/types.py', 'oslo_config/iniparser.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/540a4f92d8eac848d694b051840be5d9ff7fa754', 'message': 'WIP: mypy: Add initial type hints\n\nChange-Id: I77637e5d993d94ecfac985afa4b532b80cb4e8e7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",3,687513,540a4f92d8eac848d694b051840be5d9ff7fa754,24,4,9,15334,,,0,"WIP: mypy: Add initial type hints

Change-Id: I77637e5d993d94ecfac985afa4b532b80cb4e8e7
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/13/687513/8 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_config/cfg.py', 'oslo_config/types.py', 'oslo_config/iniparser.py']",3,1076388a8f3473510b301e46e8601ec96ba74544,mypy-integration,from typing import List value: List[str] = [], value = [],16,18
openstack%2Fcharm-heat~master~Ia5e17a750135060b16ffb5d5d5d8dcac8264272f,openstack/charm-heat,master,Ia5e17a750135060b16ffb5d5d5d8dcac8264272f,Switch to using openstack-python3-charm-jobs,MERGED,2020-07-13 06:24:33.000000000,2020-07-17 14:44:06.000000000,2020-07-17 14:44:06.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-13 06:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/ad4842f56f280d0103620edf6fa4943028f340e6', 'message': 'Switch to using openstack-python3-charm-jobs\n\nChange-Id: Ia5e17a750135060b16ffb5d5d5d8dcac8264272f\nDepends-On: Ib9ed240aef6680be7c972088ca5337b5740b9c36\n'}, {'number': 2, 'created': '2020-07-13 06:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/ae2e30d14278dc8056ff5cb7f1a1591002e9dcae', 'message': 'Switch to using openstack-python3-charm-jobs\n\nChange-Id: Ia5e17a750135060b16ffb5d5d5d8dcac8264272f\nDepends-On: Ib9ed240aef6680be7c972088ca5337b5740b9c36\n'}, {'number': 3, 'created': '2020-07-13 06:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/7b93b9d7857e74a14f594c8022d79103ba7c1965', 'message': 'Switch to using openstack-python3-charm-jobs\n\nChange-Id: Ia5e17a750135060b16ffb5d5d5d8dcac8264272f\nDepends-On: Ib9ed240aef6680be7c972088ca5337b5740b9c36\n'}, {'number': 4, 'created': '2020-07-13 07:31:56.000000000', 'files': ['test-requirements.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/3cde0a90a5bfb9ccbbe43ad978ed270921a64fcb', 'message': 'Switch to using openstack-python3-charm-jobs\n\nChange-Id: Ia5e17a750135060b16ffb5d5d5d8dcac8264272f\nDepends-On: Ib9ed240aef6680be7c972088ca5337b5740b9c36\n'}]",0,740615,3cde0a90a5bfb9ccbbe43ad978ed270921a64fcb,17,4,4,935,,,0,"Switch to using openstack-python3-charm-jobs

Change-Id: Ia5e17a750135060b16ffb5d5d5d8dcac8264272f
Depends-On: Ib9ed240aef6680be7c972088ca5337b5740b9c36
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/15/740615/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ad4842f56f280d0103620edf6fa4943028f340e6,openstack-python3-charm-jobs, - openstack-python3-charm-jobs, - python35-charm-jobs - openstack-python3-ussuri-jobs,1,2
openstack%2Fcharms.ceph~master~Ia450e936c2096f092af3be5a369b7abaf5023b16,openstack/charms.ceph,master,Ia450e936c2096f092af3be5a369b7abaf5023b16,Add a progress watchdog for OSD upgrades,MERGED,2020-07-06 16:06:10.000000000,2020-07-17 14:42:13.000000000,2020-07-17 14:42:13.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-06 16:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/650a20d91d7dc76550684214cc83baf544e03c6c', 'message': ""Add a progress watchdog for OSD upgrades\n\nThis patch add the concept of a watchdog to the upgrade_monitor so that\nthe charm can achieve two objectives of 1. Waiting for much longer, but\n2. detecting whether the previous node has died / gone away.  This is\nneeded for 'large' OSDs where the time to upgrade a node may exceed the\ncurrent limit of 10 minutes, but also not to wait for 30 minutes on a\ndead previous node.  The watchdog implements two timeouts and an\naddition 'alive' key from the previous node to indicate that it is still\nrunning.  Otherwise, functionality is identical.\n\nChange-Id: Ia450e936c2096f092af3be5a369b7abaf5023b16\nRelated-Bug: #1762852\n""}, {'number': 2, 'created': '2020-07-06 16:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/72ec8b3d7a707a70ae94bc54ce723daccb0bf307', 'message': ""Add a progress watchdog for OSD upgrades\n\nThis patch add the concept of a watchdog to the upgrade_monitor so that\nthe charm can achieve two objectives of 1. Waiting for much longer, but\n2. detecting whether the previous node has died / gone away.  This is\nneeded for 'large' OSDs where the time to upgrade a node may exceed the\ncurrent limit of 10 minutes, but also not to wait for 30 minutes on a\ndead previous node.  The watchdog implements two timeouts and an\naddition 'alive' key from the previous node to indicate that it is still\nrunning.  Otherwise, functionality is identical.\n\nChange-Id: Ia450e936c2096f092af3be5a369b7abaf5023b16\nRelated-Bug: #1762852\n""}, {'number': 3, 'created': '2020-07-14 11:56:58.000000000', 'files': ['charms_ceph/utils.py', 'unit_tests/test_mon_upgrade_roll.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/b688f048895a3d95473bfce160c1e8f24d44573c', 'message': ""Add a progress watchdog for OSD upgrades\n\nThis patch add the concept of a watchdog to the upgrade_monitor so that\nthe charm can achieve two objectives of 1. Waiting for much longer, but\n2. detecting whether the previous node has died / gone away.  This is\nneeded for 'large' OSDs where the time to upgrade a node may exceed the\ncurrent limit of 10 minutes, but also not to wait for 30 minutes on a\ndead previous node.  The watchdog implements two timeouts and an\naddition 'alive' key from the previous node to indicate that it is still\nrunning.  Otherwise, functionality is identical.\n\nChange-Id: Ia450e936c2096f092af3be5a369b7abaf5023b16\nRelated-Bug: #1762852\n""}]",23,739529,b688f048895a3d95473bfce160c1e8f24d44573c,15,3,3,20870,,,0,"Add a progress watchdog for OSD upgrades

This patch add the concept of a watchdog to the upgrade_monitor so that
the charm can achieve two objectives of 1. Waiting for much longer, but
2. detecting whether the previous node has died / gone away.  This is
needed for 'large' OSDs where the time to upgrade a node may exceed the
current limit of 10 minutes, but also not to wait for 30 minutes on a
dead previous node.  The watchdog implements two timeouts and an
addition 'alive' key from the previous node to indicate that it is still
running.  Otherwise, functionality is identical.

Change-Id: Ia450e936c2096f092af3be5a369b7abaf5023b16
Related-Bug: #1762852
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/29/739529/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_ceph/utils.py', 'unit_tests/test_mon_upgrade_roll.py']",2,650a20d91d7dc76550684214cc83baf544e03c6c,bug/1762852,"from mock import patch, call, MagicMock, ANYdef monitor_key_exists_side_effect(*args): if args[1] == 'mon_ip-192-168-1-2_0.94.1_start': return True if args[1] == 'mon_ip-192-168-1-2_0.94.1_done': return False raise Exception(""Unexpected test argument"") upgrade_monitor.assert_called_once_with('hammer', kick_function=ANY) mock_kick_function = MagicMock() charms_ceph.utils.upgrade_monitor('hammer', kick_function=mock_kick_function) mock_kick_function.assert_called() monitor_key_exists.side_effect = monitor_key_exists_side_effect # Make sure the function tested that start exists. monitor_key_exists.assert_any_call('admin', 'mon_ip-192-168-1-2_0.94.1_start') # Make sure the Watchdog checked at least once for alive. monitor_key_get.assert_any_call('admin', 'mon_ip-192-168-1-2_0.94.1_alive') ","from mock import patch, call, MagicMock upgrade_monitor.assert_called_once_with('hammer') charms_ceph.utils.upgrade_monitor('hammer') monitor_key_exists.return_value = False # Make sure we checked to see if the previous node started monitor_key_get.assert_has_calls( [call('admin', 'mon_ip-192-168-1-2_0.94.1_start')] )",265,50
openstack%2Ftripleo-common~master~Ic4593a7b1d61ac8094e00374d394f5cb8c001a7a,openstack/tripleo-common,master,Ic4593a7b1d61ac8094e00374d394f5cb8c001a7a,Refactor 55-heat-config related tasks,ABANDONED,2020-07-16 19:12:55.000000000,2020-07-17 14:39:42.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-16 19:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5f0ddb0feaf6f96fd76f3c2c84f1c839e1b7923b', 'message': 'Refactor 55-heat-config related tasks\n\nWhen 55-heat-config ran, it creates a json file for the output. We use\njq to fetch the return code written in that file.\n\nThis patch aims to refactor the tasks which run this script and\nverification to avoid task duplication and also ensure that the file\nactually exists on the file system, with a retries/delay mechanism in\norder to avoid a race condition (see bug report).\n\nChange-Id: Ic4593a7b1d61ac8094e00374d394f5cb8c001a7a\nCloses-Bug: #1887846\n'}, {'number': 2, 'created': '2020-07-17 02:22:56.000000000', 'files': ['tripleo_common/templates/deployments.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cfdc15aa544a2eae641ad8e4fe33cfaf66ca483d', 'message': 'Refactor 55-heat-config related tasks\n\nWhen 55-heat-config ran, it creates a json file for the output. We use\njq to fetch the return code written in that file.\n\nThis patch aims to refactor the tasks which run this script and\nverification to avoid task duplication and also ensure that the file\nactually exists on the file system, with a retries/delay mechanism in\norder to avoid a race condition (see bug report).\n\nChange-Id: Ic4593a7b1d61ac8094e00374d394f5cb8c001a7a\nCloses-Bug: #1887846\n'}]",13,741526,cfdc15aa544a2eae641ad8e4fe33cfaf66ca483d,20,6,2,3153,,,0,"Refactor 55-heat-config related tasks

When 55-heat-config ran, it creates a json file for the output. We use
jq to fetch the return code written in that file.

This patch aims to refactor the tasks which run this script and
verification to avoid task duplication and also ensure that the file
actually exists on the file system, with a retries/delay mechanism in
order to avoid a race condition (see bug report).

Change-Id: Ic4593a7b1d61ac8094e00374d394f5cb8c001a7a
Closes-Bug: #1887846
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/26/741526/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/templates/deployments.yaml'],1,5f0ddb0feaf6f96fd76f3c2c84f1c839e1b7923b,heat-config-2," shell: /usr/libexec/os-refresh-config/configure.d/55-heat-config # we stop later if the deployment failed ignore_errors: true async: ""{{ (use_async_deployment | bool) | ternary((async_timeout|default(300)), omit) }}"" poll: ""{{ (use_async_deployment | bool) | ternary((async_poll|default(3)), omit) }}"" - name: ""Ensure that /var/lib/heat-config/deployed/{{ deployment_uuid }}.notify.json exists"" stat: path: ""/var/lib/heat-config/deployed/{{ deployment_uuid }}.notify.json"" register: st_json until: st_json.stat.exists|bool retries: 5 delay: 5- name: ""Fetch deployment return code for {{ item }}"" shell: exit $(jq .deploy_status_code /var/lib/heat-config/deployed/{{ deployment_uuid }}.notify.json) become: true register: deployment_result ignore_errors: true async: ""{{ (use_async_deployment | bool) | ternary((async_timeout|default(300)), omit) }}"" poll: ""{{ (use_async_deployment | bool) | ternary((async_poll|default(3)), omit) }}"" - name: ""Output for deployment {{ item }}"" - stderr: ""{{ deployment_result.stderr.split('\n') }}"" - status_code: ""{{ deployment_result.rc) }}"" failed_when: deployment_result.rc != 0 when: not ansible_check_mode|bool"," shell: | /usr/libexec/os-refresh-config/configure.d/55-heat-config exit $(jq .deploy_status_code /var/lib/heat-config/deployed/{{ deployment_uuid }}.notify.json) register: deployment_sync_result ignore_errors: yes when: not use_async_deployment|bool - name: ""Run async deployment {{ item }}"" shell: | /usr/libexec/os-refresh-config/configure.d/55-heat-config exit $(jq .deploy_status_code /var/lib/heat-config/deployed/{{ deployment_uuid }}.notify.json) become: true environment: HEAT_SHELL_CONFIG: /var/lib/heat-config/tripleo-config-download/{{ item ~ '-' ~ deployment_uuid }} register: deployment_async_result ignore_errors: yes when: use_async_deployment|bool- name: ""Output for sync deployment {{ item }}"" debug: msg: - stderr: ""{{ deployment_sync_result.stderr.split('\n') }}"" - status_code: ""{{ deployment_sync_result.rc }}"" tags: - output failed_when: deployment_sync_result.rc != 0 when: not ansible_check_mode|bool and not use_async_deployment|bool - name: ""Output for async deployment {{ item }}"" - stderr: ""{{ deployment_async_result.stderr.split('\n') }}"" - status_code: ""{{ deployment_async_result.rc }}"" failed_when: deployment_async_result.rc != 0 when: not ansible_check_mode|bool and use_async_deployment|bool",24,30
openstack%2Fneutron~stable%2Frocky~I804a95fdaa3552c785e85ffab7b8ac849c634a87,openstack/neutron,stable/rocky,I804a95fdaa3552c785e85ffab7b8ac849c634a87,Update the processing of assigned addresses when assigning addresses,MERGED,2020-06-30 05:33:14.000000000,2020-07-17 14:23:34.000000000,2020-07-17 14:23:34.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9373}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 25643}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-30 05:33:14.000000000', 'files': ['neutron/tests/unit/ipam/drivers/neutrondb_ipam/test_driver.py', 'neutron/ipam/drivers/neutrondb_ipam/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e23f226d15f77a2aad6f675f7b89b987aa6ab56b', 'message': ""Update the processing of assigned addresses when assigning addresses\n\n1.It is best not to use 'netaddr.IPSet.add',\n  because _compact_single_network in 'IPSet.add' is quite time consuming\n\n2.When the current address pool does not have enough addresses,\n  all addresses are allocated from the current pool,\n  and allocations are continued from the next address pool\n  until all addresses are assigned.\n\nChange-Id: I804a95fdaa3552c785e85ffab7b8ac849c634a87\nCloses-Bug: #1813253\n(cherry picked from commit 1746d7e0e682eab1001bfc434b73efb1cdf5f0f4)\n""}]",0,738548,e23f226d15f77a2aad6f675f7b89b987aa6ab56b,18,8,1,9531,,,0,"Update the processing of assigned addresses when assigning addresses

1.It is best not to use 'netaddr.IPSet.add',
  because _compact_single_network in 'IPSet.add' is quite time consuming

2.When the current address pool does not have enough addresses,
  all addresses are allocated from the current pool,
  and allocations are continued from the next address pool
  until all addresses are assigned.

Change-Id: I804a95fdaa3552c785e85ffab7b8ac849c634a87
Closes-Bug: #1813253
(cherry picked from commit 1746d7e0e682eab1001bfc434b73efb1cdf5f0f4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/738548/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/ipam/drivers/neutrondb_ipam/test_driver.py', 'neutron/ipam/drivers/neutrondb_ipam/driver.py']",2,e23f226d15f77a2aad6f675f7b89b987aa6ab56b,bug/1813253-stable/rocky," allocated_ips = [] requested_num_addresses = num_addresses allocations = self.subnet_manager.list_allocations(context) # It is better not to use 'netaddr.IPSet.add', # because _compact_single_network in 'IPSet.add' # is quite time consuming. ip_allocations = netaddr.IPSet( [netaddr.IPAddress(allocation.ip_address) for allocation in allocations]) if av_set.size < requested_num_addresses: # All addresses of the address pool are allocated # for the first time and the remaining addresses # will be allocated in the next address pools. allocated_num_addresses = av_set.size else: # All expected addresses can be assigned in this loop. allocated_num_addresses = requested_num_addresses allocated_num_addresses)) allocated_ips.extend([str(allocated_ip) for allocated_ip in allocated_ip_pool]) requested_num_addresses -= allocated_num_addresses if requested_num_addresses: # More addresses need to be allocated in the next loop. continue return allocated_ips if allocated_num_addresses > 1: window = min(av_set.size, allocated_num_addresses * MULTIPLIER, if window < allocated_num_addresses: allocated_ip_pool = random.sample(av_ips, allocated_num_addresses) allocated_ips.extend([str(allocated_ip) for allocated_ip in allocated_ip_pool]) requested_num_addresses -= allocated_num_addresses if requested_num_addresses: # More addresses need to be allocated in the next loop. continue return allocated_ips"," ip_allocations = netaddr.IPSet() for ipallocation in self.subnet_manager.list_allocations(context): ip_allocations.add(ipallocation.ip_address) if av_set.size < num_addresses: # Not enough addresses in pool to perform validation # TODO(njohnston): How to handle when there are enough IPs but # not enough in a single pool to satisfy the request? continue num_addresses)) return [str(allocated_ip) for allocated_ip in allocated_ip_pool] if num_addresses > 1: window = min(av_set.size, num_addresses * MULTIPLIER, if window < num_addresses: allocated_ip_pool = random.sample(av_ips, num_addresses) return [str(allocated_ip) for allocated_ip in allocated_ip_pool]",67,16
openstack%2Foctavia~stable%2Ftrain~Ie71db27dc383c93496c1dfd69f486a4fd02b597e,openstack/octavia,stable/train,Ie71db27dc383c93496c1dfd69f486a4fd02b597e,add the verify for the session,MERGED,2020-06-29 08:51:41.000000000,2020-07-17 14:18:54.000000000,2020-07-17 14:16:38.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 21757}, {'_account_id': 22348}, {'_account_id': 24849}]","[{'number': 1, 'created': '2020-06-29 08:51:41.000000000', 'files': ['octavia/certificates/common/auth/barbican_acl.py', 'releasenotes/notes/fix-barbican-client-verfiy-689be1b9389bd1d8.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5954fe677b106d33683285692a6d0ff46f70e775', 'message': 'add the verify for the session\n\nWe run the octavia scenario test failed when the OpenStack env\nenable TLS. So we need add the verify for the session.\n\nStory: 2007662\nTask:  39754\nCloses-Bug: #1877818\n(cherry picked from commit f26ab8b97be7a478fdd391c9e31a5c1a86a2a3cf)\n\nChange-Id: Ie71db27dc383c93496c1dfd69f486a4fd02b597e\n'}]",0,738402,5954fe677b106d33683285692a6d0ff46f70e775,8,6,1,27594,,,0,"add the verify for the session

We run the octavia scenario test failed when the OpenStack env
enable TLS. So we need add the verify for the session.

Story: 2007662
Task:  39754
Closes-Bug: #1877818
(cherry picked from commit f26ab8b97be7a478fdd391c9e31a5c1a86a2a3cf)

Change-Id: Ie71db27dc383c93496c1dfd69f486a4fd02b597e
",git fetch https://review.opendev.org/openstack/octavia refs/changes/02/738402/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/certificates/common/auth/barbican_acl.py', 'releasenotes/notes/fix-barbican-client-verfiy-689be1b9389bd1d8.yaml']",2,5954fe677b106d33683285692a6d0ff46f70e775,bug/1877818,"--- fixes: - | Fix an issue when the barbican service enable TLS, we create the listerner failed. ",,8,1
openstack%2Fdevstack~master~I141acab2a07a4eebd8d850f900058bc8cbf9c7bf,openstack/devstack,master,I141acab2a07a4eebd8d850f900058bc8cbf9c7bf,Default Glance to standalone mode,MERGED,2020-07-15 15:46:39.000000000,2020-07-17 14:18:17.000000000,2020-07-17 14:10:33.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-15 15:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0fde367be34fd94f311674669a8b4ec889472485', 'message': 'Default Glance to standalone mode\n\nA whole set of Glance functionality is not usable under uwsgi, including any\nof the more powerful async import, customization, and copying functions.\nIn order to facilitate writing and running tempest tests for these features\nin all environments covered by the various jobs across all the projects that\ninclude Glance, we should default to this deployment method.\n\nIt is still possible to deploy glance in uwsgi mode by setting the flag to\nFalse, and we can do that for some jobs to make sure that it continues to\nwork. However, the default should be what we expect deployers will use,\nwhich is standalone mode.\n\nChange-Id: I141acab2a07a4eebd8d850f900058bc8cbf9c7bf\n'}, {'number': 2, 'created': '2020-07-16 15:16:12.000000000', 'files': ['lib/glance'], 'web_link': 'https://opendev.org/openstack/devstack/commit/cc0821a5867358b34d7a9c156d02bd19b2f46dec', 'message': 'Default Glance to standalone mode\n\nA whole set of Glance functionality is not usable under uwsgi, including any\nof the more powerful async import, customization, and copying functions.\nIn order to facilitate writing and running tempest tests for these features\nin all environments covered by the various jobs across all the projects that\ninclude Glance, we should default to this deployment method.\n\nIt is still possible to deploy glance in uwsgi mode by setting the flag to\nFalse, and we can do that for some jobs to make sure that it continues to\nwork. However, the default should be what we expect deployers will use,\nwhich is standalone mode.\n\nDepends-On: https://review.opendev.org/741479\nChange-Id: I141acab2a07a4eebd8d850f900058bc8cbf9c7bf\n'}]",0,741258,cc0821a5867358b34d7a9c156d02bd19b2f46dec,14,5,2,4393,,,0,"Default Glance to standalone mode

A whole set of Glance functionality is not usable under uwsgi, including any
of the more powerful async import, customization, and copying functions.
In order to facilitate writing and running tempest tests for these features
in all environments covered by the various jobs across all the projects that
include Glance, we should default to this deployment method.

It is still possible to deploy glance in uwsgi mode by setting the flag to
False, and we can do that for some jobs to make sure that it continues to
work. However, the default should be what we expect deployers will use,
which is standalone mode.

Depends-On: https://review.opendev.org/741479
Change-Id: I141acab2a07a4eebd8d850f900058bc8cbf9c7bf
",git fetch https://review.opendev.org/openstack/devstack refs/changes/58/741258/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/glance'],1,0fde367be34fd94f311674669a8b4ec889472485,glance-standalone-default,GLANCE_STANDALONE=${GLANCE_STANDALONE:-True},GLANCE_STANDALONE=${GLANCE_STANDALONE:-False},1,1
openstack%2Fgrenade~master~I9ac380aec2689277a2793a67b33b6f9ef8728003,openstack/grenade,master,I9ac380aec2689277a2793a67b33b6f9ef8728003,Always assume glance is uwsgi mode for grenade,MERGED,2020-07-16 15:15:46.000000000,2020-07-17 14:18:16.000000000,2020-07-17 14:10:31.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-16 15:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/3261f6d57758e37bbd3d4d9d436a288fa26a5b00', 'message': 'Always assume glance is uwsgi mode for grenade\n\nSince older devstack versions do not support glance in standalone mode,\nmake grenade configure the base and target for glance deployed with\nuwsgi.\n\nChange-Id: I9ac380aec2689277a2793a67b33b6f9ef8728003\n'}, {'number': 2, 'created': '2020-07-16 17:48:48.000000000', 'files': ['devstack.localrc.base', 'devstack.localrc.target', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/edb6ddc2db1cf93211bd43a68097a47c5b455582', 'message': 'Always assume glance is uwsgi mode for grenade\n\nSince older devstack versions do not support glance in standalone mode,\nmake grenade configure the base and target for glance deployed with\nuwsgi.\n\nChange-Id: I9ac380aec2689277a2793a67b33b6f9ef8728003\n'}]",0,741479,edb6ddc2db1cf93211bd43a68097a47c5b455582,9,3,2,4393,,,0,"Always assume glance is uwsgi mode for grenade

Since older devstack versions do not support glance in standalone mode,
make grenade configure the base and target for glance deployed with
uwsgi.

Change-Id: I9ac380aec2689277a2793a67b33b6f9ef8728003
",git fetch https://review.opendev.org/openstack/grenade refs/changes/79/741479/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack.localrc.base', 'devstack.localrc.target']",2,3261f6d57758e37bbd3d4d9d436a288fa26a5b00,glance-no-standalone," # NOTE(danms): Until all recent versions of devstack support # standalone glance mode, just assume we are upgrading from/to # Glance as deployed with uwsgi. GLANCE_STANDALONE=False",,10,0
openstack%2Ftempest~master~I6edfd00f0c43cd0bfe688db5e43768288dd4c1c1,openstack/tempest,master,I6edfd00f0c43cd0bfe688db5e43768288dd4c1c1,zuul: clean up some legacy jobs,MERGED,2020-07-15 13:40:59.000000000,2020-07-17 14:17:58.000000000,2020-07-17 14:10:30.000000000,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-07-15 13:40:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b4e0e2c7e7e8fd0972e547043bd4fd36d948dd51', 'message': 'zuul: clean up some legacy jobs\n\nReplace legacy-tempest-dsvm-lvm-multibackend with its native version,\ncinder-tempest-lvm-multibackend.\n\nRemove legacy-tempest-dsvm-neutron-dvr-multinode-full, which was defined\nas an experimental job in neutron and removed during the ussuri lifecycle.\nSee https://review.opendev.org/#/c/693630/\nIt seems neutron-tempest-dvr-ha-multinode-full should cover its use case.\n\nChange-Id: I6edfd00f0c43cd0bfe688db5e43768288dd4c1c1\n'}]",0,741197,b4e0e2c7e7e8fd0972e547043bd4fd36d948dd51,10,4,1,10459,,,0,"zuul: clean up some legacy jobs

Replace legacy-tempest-dsvm-lvm-multibackend with its native version,
cinder-tempest-lvm-multibackend.

Remove legacy-tempest-dsvm-neutron-dvr-multinode-full, which was defined
as an experimental job in neutron and removed during the ussuri lifecycle.
See https://review.opendev.org/#/c/693630/
It seems neutron-tempest-dvr-ha-multinode-full should cover its use case.

Change-Id: I6edfd00f0c43cd0bfe688db5e43768288dd4c1c1
",git fetch https://review.opendev.org/openstack/tempest refs/changes/97/741197/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b4e0e2c7e7e8fd0972e547043bd4fd36d948dd51,native-zuulv3-migration, - cinder-tempest-lvm-multibackend:, - legacy-tempest-dsvm-neutron-dvr-multinode-full: irrelevant-files: *tempest-irrelevant-files - legacy-tempest-dsvm-lvm-multibackend:,1,3
openstack%2Ftripleo-ansible~master~Ie38d8b9fce36ce2f73a2811072e53f405f1367f6,openstack/tripleo-ansible,master,Ie38d8b9fce36ce2f73a2811072e53f405f1367f6,BaR Ceph authenticacion more ansible way,MERGED,2020-06-15 15:57:44.000000000,2020-07-17 13:50:47.000000000,2020-07-17 13:50:47.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-15 15:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8e62969ca738c096096a42aafbce224b256f3b5f', 'message': 'BaR Ceph authenticacion more ansible way\n\nInstead of execute a command and redirect the output to a file.\nThis patch gets the output of the command line and writes it\nto a file.\n\nChange-Id: Ie38d8b9fce36ce2f73a2811072e53f405f1367f6\n'}, {'number': 2, 'created': '2020-06-23 09:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7be943a507faaa7318239f7de00e62f9939898ff', 'message': 'BaR Ceph authenticacion more ansible way\n\nInstead of execute a command and redirect the output to a file.\nThis patch gets the output of the command line and writes it\nto a file.\n\nAlso fixed the molecule-backup_and_restore test\n\nChange-Id: Ie38d8b9fce36ce2f73a2811072e53f405f1367f6\n'}, {'number': 3, 'created': '2020-06-23 15:38:31.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ad2c7b5892695fd8bb99633724bdb31f36d04c70', 'message': 'BaR Ceph authenticacion more ansible way\n\nInstead of execute a command and redirect the output to a file.\nThis patch gets the output of the command line and writes it\nto a file.\n\nAlso fixed the molecule-backup_and_restore test\n\nChange-Id: Ie38d8b9fce36ce2f73a2811072e53f405f1367f6\n'}]",5,735628,ad2c7b5892695fd8bb99633724bdb31f36d04c70,46,5,3,22954,,,0,"BaR Ceph authenticacion more ansible way

Instead of execute a command and redirect the output to a file.
This patch gets the output of the command line and writes it
to a file.

Also fixed the molecule-backup_and_restore test

Change-Id: Ie38d8b9fce36ce2f73a2811072e53f405f1367f6
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/735628/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml'],1,8e62969ca738c096096a42aafbce224b256f3b5f,BaR_Ceph_Improvement," {{ tripleo_container_cli }} exec ceph-mon-{{ ansible_hostname }} bash -c ""ceph auth export"" register: bar_ceph_autentication_content tags: - bar_create_recover_image - name: Save ceph authentication at {{ tripleo_backup_and_restore_ceph_auth_file }} copy: dest: ""{{ tripleo_backup_and_restore_ceph_auth_file }}"" content: | {{ bar_ceph_autentication_content.stdout }}"," {{ tripleo_container_cli }} exec ceph-mon-{{ ansible_hostname }} bash -c ""ceph auth export"" > {{ tripleo_backup_and_restore_ceph_auth_file }}",10,1
openstack%2Fnova~stable%2Fqueens~I764481966c96a67d993da6e902dc9fc3ad29ee36,openstack/nova,stable/queens,I764481966c96a67d993da6e902dc9fc3ad29ee36,libvirt: Don't delete disks on shared storage during evacuate,MERGED,2020-06-02 15:28:06.000000000,2020-07-17 13:50:05.000000000,2020-07-17 13:50:05.000000000,"[{'_account_id': 4690}, {'_account_id': 9555}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-06-02 15:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11efa3f3a2f4f1b372ae58f55ae81af1a553409c', 'message': ""libvirt: Don't delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nNOTE(lyarwood): Conflict due to\nI51673e58fc8d5f051df911630f6d7a928d123a5b not being present in\nstable/queens.\n\nConflicts:\n    nova/virt/libvirt/driver.py\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 083df01a4d90e155c1b4ef9e954d8be14a02d830)\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n(cherry picked from commit d298f7763b709cfc01f89222de31f566310748b3)\n(cherry picked from commit 005fcaf01f22aebee58ee70cdcc7ef56da6c59af)\n(cherry picked from commit 672a567a9b27e645b9a84e034dfcec280bb089e9)\n(cherry picked from commit e5146594bec8919d49dc6999d587a66eefb3059d)\n""}, {'number': 2, 'created': '2020-06-09 16:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc387e20be574d1cddf72410ef77f8ab4d449e83', 'message': 'libvirt: Don\'t delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nConflicts:\n\tnova/virt/libvirt/driver.py\n\nNOTE(lyarwood): Conflicts due to\nI51673e58fc8d5f051df911630f6d7a928d123a5b (""Revert resize: wait for\nevents according to hybrid plug"") not being present in stable/queens.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 083df01a4d90e155c1b4ef9e954d8be14a02d830)\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n(cherry picked from commit d298f7763b709cfc01f89222de31f566310748b3)\n(cherry picked from commit 005fcaf01f22aebee58ee70cdcc7ef56da6c59af)\n(cherry picked from commit 889975ff16bee0f63bfe8603ef6870d71c4e937b)\n(cherry picked from commit 920c3c4cc534b3f6d831b78a2630a9bf268ac40e)\n'}, {'number': 3, 'created': '2020-06-10 03:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05c856a58e23593b81bdd3ec7f84699aa11d78ca', 'message': 'libvirt: Don\'t delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nConflicts:\n\tnova/virt/libvirt/driver.py\n\nNOTE(lyarwood): Conflicts due to\nI51673e58fc8d5f051df911630f6d7a928d123a5b (""Revert resize: wait for\nevents according to hybrid plug"") not being present in stable/queens.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n(cherry picked from commit 8b48ca672d9c0eb108c71b7f9f3f089d9ecf688a)\n(cherry picked from commit 1a320f2a0e0918de6afcce5cf23b7de178ec3a49)\n(cherry picked from commit a7d8aa699793e1d60ece4e03920e6041337f9a43)\n(cherry picked from commit 4c5b9058b9947f94e9334e57a5d1556839c3c7a9)\n'}, {'number': 4, 'created': '2020-07-15 12:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/178a1657cb1471ee67541db3634559dac28efddd', 'message': 'libvirt: Don\'t delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nConflicts:\n\tnova/virt/libvirt/driver.py\n\nNOTE(lyarwood): Conflicts due to\nI51673e58fc8d5f051df911630f6d7a928d123a5b (""Revert resize: wait for\nevents according to hybrid plug"") not being present in stable/queens.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n(cherry picked from commit 8b48ca672d9c0eb108c71b7f9f3f089d9ecf688a)\n(cherry picked from commit 1a320f2a0e0918de6afcce5cf23b7de178ec3a49)\n(cherry picked from commit a7d8aa699793e1d60ece4e03920e6041337f9a43)\n(cherry picked from commit ae7602c1206de23439d6c3609b5872831138aa99)\n'}, {'number': 5, 'created': '2020-07-16 21:13:42.000000000', 'files': ['nova/tests/functional/libvirt/test_evacuate.py', 'nova/virt/libvirt/driver.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/functional/regressions/test_bug_1595962.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a54f51b0d2089e7f79db23875e9ff74e212b3435', 'message': 'libvirt: Don\'t delete disks on shared storage during evacuate\n\nWhen evacuating an instance between compute hosts on shared storage,\nduring the rebuild operation we call spawn() on the destination\ncompute. spawn() currently assumes that it should cleanup all\nresources on failure, which results in user data being deleted in the\nevacuate case.\n\nThis change modifies spawn in the libvirt driver such that it only\ncleans up resources it created.\n\nConflicts:\n\tnova/virt/libvirt/driver.py\n\nNOTE(lyarwood): Conflicts due to\nI51673e58fc8d5f051df911630f6d7a928d123a5b (""Revert resize: wait for\nevents according to hybrid plug"") not being present in stable/queens.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1550919\nChange-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36\n(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)\n(cherry picked from commit 8b48ca672d9c0eb108c71b7f9f3f089d9ecf688a)\n(cherry picked from commit 1a320f2a0e0918de6afcce5cf23b7de178ec3a49)\n(cherry picked from commit a7d8aa699793e1d60ece4e03920e6041337f9a43)\n(cherry picked from commit ae7602c1206de23439d6c3609b5872831138aa99)\n'}]",3,732717,a54f51b0d2089e7f79db23875e9ff74e212b3435,45,9,5,10135,,,0,"libvirt: Don't delete disks on shared storage during evacuate

When evacuating an instance between compute hosts on shared storage,
during the rebuild operation we call spawn() on the destination
compute. spawn() currently assumes that it should cleanup all
resources on failure, which results in user data being deleted in the
evacuate case.

This change modifies spawn in the libvirt driver such that it only
cleans up resources it created.

Conflicts:
	nova/virt/libvirt/driver.py

NOTE(lyarwood): Conflicts due to
I51673e58fc8d5f051df911630f6d7a928d123a5b (""Revert resize: wait for
events according to hybrid plug"") not being present in stable/queens.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Closes-Bug: #1550919
Change-Id: I764481966c96a67d993da6e902dc9fc3ad29ee36
(cherry picked from commit 497360b0ea970f1e68912be8229ef8c3f5454e9e)
(cherry picked from commit 8b48ca672d9c0eb108c71b7f9f3f089d9ecf688a)
(cherry picked from commit 1a320f2a0e0918de6afcce5cf23b7de178ec3a49)
(cherry picked from commit a7d8aa699793e1d60ece4e03920e6041337f9a43)
(cherry picked from commit ae7602c1206de23439d6c3609b5872831138aa99)
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/732717/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_evacuate.py', 'nova/virt/libvirt/driver.py', 'nova/tests/functional/regressions/test_bug_1595962.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,11efa3f3a2f4f1b372ae58f55ae81af1a553409c,bug/1550919," mock.patch.object(drvr, '_cleanup')): cleanup_instance_dir=False, cleanup_instance_disks=False): mock.patch.object(drvr, '_cleanup')): @mock.patch.object(drvr, '_cleanup') self.assertRaises( test.TestingException, drvr._create_domain_and_network, self.context, 'xml', instance, [], None, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks) mock_cleanup.assert_called_once_with( self.context, instance, [], None, None, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: drvr._cleanup_failed_start( None, None, None, None, None, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: drvr._cleanup_failed_start( None, None, None, None, guest, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: drvr._cleanup_failed_start( None, None, None, None, guest, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: None, None, None, None, guest, False, False) with mock.patch.object(drvr, '_cleanup') as mock_cleanup: self.assertRaises( test.TestingException, drvr._cleanup_failed_start, None, None, None, None, guest, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks) mock_cleanup.assert_called_once_with( None, None, None, block_device_info=None, destroy_vifs=True, cleanup_instance_dir=mock.sentinel.cleanup_instance_dir, cleanup_instance_disks=mock.sentinel.cleanup_instance_disks)"," mock.patch.object(drvr, 'cleanup')): destroy_disks_on_failure=False): mock.patch.object(drvr, 'cleanup')): @mock.patch.object(drvr, 'cleanup') self.assertRaises(test.TestingException, drvr._create_domain_and_network, self.context, 'xml', instance, [], None) mock_cleanup.assert_called_once_with(self.context, instance, [], None, None, False) # destroy_disks_on_failure=True, used only by spawn() mock_cleanup.reset_mock() self.assertRaises(test.TestingException, drvr._create_domain_and_network, self.context, 'xml', instance, [], None, destroy_disks_on_failure=True) mock_cleanup.assert_called_once_with(self.context, instance, [], None, None, True) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: drvr._cleanup_failed_start(None, None, None, None, None, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: drvr._cleanup_failed_start(None, None, None, None, guest, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: drvr._cleanup_failed_start(None, None, None, None, guest, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: None, None, None, None, guest, False) with mock.patch.object(drvr, 'cleanup') as mock_cleanup: self.assertRaises(test.TestingException, drvr._cleanup_failed_start, None, None, None, None, guest, True) mock_cleanup.assert_called_once_with(None, None, network_info=None, block_device_info=None, destroy_disks=True)",180,87
openstack%2Fpuppet-octavia~master~Ieb6bc60eb2750a9f3f0539c2bd0176fabfebb30e,openstack/puppet-octavia,master,Ieb6bc60eb2750a9f3f0539c2bd0176fabfebb30e,Switch oslo.policy over to yaml,MERGED,2020-06-29 18:44:05.000000000,2020-07-17 13:50:02.000000000,2020-07-17 13:48:04.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 9414}, {'_account_id': 9592}, {'_account_id': 9816}, {'_account_id': 11628}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-29 18:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/595a51d19aea006d2b47eb9d721755f3d816e3eb', 'message': 'Switch oslo.policy over to yaml\n\nUpstream switched oslo.policy from JSON to YAML format\noutput in [1].\n\n[1] https://review.opendev.org/#/c/732453/\n\nChange-Id: Ieb6bc60eb2750a9f3f0539c2bd0176fabfebb30e\n'}, {'number': 2, 'created': '2020-06-29 18:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/f48809361dcf38eb28b94bdf4560732877d55553', 'message': 'Switch oslo.policy over to yaml\n\nUpstream switched oslo.policy from JSON to YAML format\noutput in [1].\n\n[1] https://review.opendev.org/#/c/732453/\n\nCloses-Bug: #1885602\nChange-Id: Ieb6bc60eb2750a9f3f0539c2bd0176fabfebb30e\n'}, {'number': 3, 'created': '2020-07-08 18:13:55.000000000', 'files': ['spec/classes/octavia_policy_spec.rb', 'releasenotes/notes/change-oslo-policy-to-yaml-e4efbaeafa2fbb1c.yaml', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/daa3c1269f29ecb7aac47f77e41c3ee8b082e15f', 'message': 'Switch oslo.policy over to yaml\n\nUpstream switched oslo.policy from JSON to YAML format\noutput in [1].\n\n[1] https://review.opendev.org/#/c/732453/\n\nCloses-Bug: #1885602\n\nDepends-On: Iec610053a9250cb78c2a17bfc2c197bf55d9df86\nChange-Id: Ieb6bc60eb2750a9f3f0539c2bd0176fabfebb30e\n'}]",2,738488,daa3c1269f29ecb7aac47f77e41c3ee8b082e15f,21,9,3,6469,,,0,"Switch oslo.policy over to yaml

Upstream switched oslo.policy from JSON to YAML format
output in [1].

[1] https://review.opendev.org/#/c/732453/

Closes-Bug: #1885602

Depends-On: Iec610053a9250cb78c2a17bfc2c197bf55d9df86
Change-Id: Ieb6bc60eb2750a9f3f0539c2bd0176fabfebb30e
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/88/738488/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/octavia_policy_spec.rb', 'releasenotes/notes/change-oslo-policy-to-yaml-e4efbaeafa2fbb1c.yaml', 'manifests/policy.pp']",3,595a51d19aea006d2b47eb9d721755f3d816e3eb,,"# (Optional) Path to the nova policy.yaml file # Defaults to /etc/octavia/policy.yaml $policy_path = '/etc/octavia/policy.yaml',","# (Optional) Path to the nova policy.json file # Defaults to /etc/octavia/policy.json $policy_path = '/etc/octavia/policy.json',",8,5
openstack%2Fneutron~stable%2Fpike~I51050c600ba7090fea71213687d94340bac0674a,openstack/neutron,stable/pike,I51050c600ba7090fea71213687d94340bac0674a,Do not block connection between br-int and br-phys on startup,MERGED,2020-06-29 22:11:54.000000000,2020-07-17 13:50:02.000000000,2020-07-17 13:43:41.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29071}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-06-29 22:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5338b1b523fd9944acb8d8203bc194d70cdbf020', 'message': ""Do not block connection between br-int and br-phys on startup\n\nBlock traffic between br-int and br-physical is over kill\nand will at least\n\n1. interrupt vlan flow during startup, and is particularly\nso if dvr enabled\n2. if let's rabbitmq is not stable, it is possible data plane\nwill be affected and vlan will never work.\n\nUsing openstack on k8s particularly amplifies the problem\nbecause pod could be killed pretty easily by liveness\nprobes.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I51050c600ba7090fea71213687d94340bac0674a\nCloses-Bug: #1869808\n(cherry picked from commit 90212b12cdf62e92d811997ebba699cab431d696)\n""}, {'number': 2, 'created': '2020-07-13 23:52:51.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1f4f888ad34d54ec968d9c9f9f80c388f3ca0d12', 'message': ""Do not block connection between br-int and br-phys on startup\n\nBlock traffic between br-int and br-physical is over kill\nand will at least\n\n1. interrupt vlan flow during startup, and is particularly\nso if dvr enabled\n2. if let's rabbitmq is not stable, it is possible data plane\nwill be affected and vlan will never work.\n\nUsing openstack on k8s particularly amplifies the problem\nbecause pod could be killed pretty easily by liveness\nprobes.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I51050c600ba7090fea71213687d94340bac0674a\nCloses-Bug: #1869808\n(cherry picked from commit 90212b12cdf62e92d811997ebba699cab431d696)\n""}]",0,738523,1f4f888ad34d54ec968d9c9f9f80c388f3ca0d12,19,7,2,29071,,,0,"Do not block connection between br-int and br-phys on startup

Block traffic between br-int and br-physical is over kill
and will at least

1. interrupt vlan flow during startup, and is particularly
so if dvr enabled
2. if let's rabbitmq is not stable, it is possible data plane
will be affected and vlan will never work.

Using openstack on k8s particularly amplifies the problem
because pod could be killed pretty easily by liveness
probes.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py

Change-Id: I51050c600ba7090fea71213687d94340bac0674a
Closes-Bug: #1869808
(cherry picked from commit 90212b12cdf62e92d811997ebba699cab431d696)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/738523/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,5338b1b523fd9944acb8d8203bc194d70cdbf020,bug/1869808-stable/queens-stable/pike, # following drop operations are not necessary for # dvr agent setup_dvr_flows. So skip it if dvr enabled # the reason is for br_int it is duplicate # for br_physical drop_port is dangerous because when dvr # enabled the highest flow on table=0 is 2 which means # basically everything will be dropped until setup_dvr_flows # got executed. if not self.enable_distributed_routing: self.int_br.drop_port(in_port=int_ofport) br.drop_port(in_port=phys_ofport), # block all untranslated traffic between bridges self.int_br.drop_port(in_port=int_ofport) br.drop_port(in_port=phys_ofport),10,3
openstack%2Fcharm-masakari~master~I5486fe829815a6127496e910ccee3d9e76ec54a9,openstack/charm-masakari,master,I5486fe829815a6127496e910ccee3d9e76ec54a9,Add victoria package version,MERGED,2020-07-13 19:13:07.000000000,2020-07-17 13:47:57.000000000,2020-07-17 13:47:57.000000000,"[{'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 19:13:07.000000000', 'files': ['src/lib/charm/openstack/masakari.py'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/7e7c97866f056bfaa9a07b6c49a36f0ae97abe66', 'message': 'Add victoria package version\n\nChange-Id: I5486fe829815a6127496e910ccee3d9e76ec54a9\n'}]",0,740780,7e7c97866f056bfaa9a07b6c49a36f0ae97abe66,12,5,1,11805,,,0,"Add victoria package version

Change-Id: I5486fe829815a6127496e910ccee3d9e76ec54a9
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/80/740780/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/masakari.py'],1,7e7c97866f056bfaa9a07b6c49a36f0ae97abe66,batch-update," ('10', 'victoria'),",,1,0
openstack%2Fcharm-trilio-wlm~master~I0f1a9beba8d6a1454d1e97560103f9228d3ccb8a,openstack/charm-trilio-wlm,master,I0f1a9beba8d6a1454d1e97560103f9228d3ccb8a,Set cloud_unique_id to service account id,MERGED,2020-07-14 08:53:26.000000000,2020-07-17 13:40:51.000000000,2020-07-17 13:40:51.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 08:53:26.000000000', 'files': ['src/templates/workloadmgr.conf'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/6993eb54c2e3b03bf73281ae2f7e0aa479337e0d', 'message': 'Set cloud_unique_id to service account id\n\nThe cloud_unique_id is used by TrilioVault in functions associated\nwith global scheduling, import and auditing.\n\nEnsure it is set to the ID of the trilio service account.\n\nChange-Id: I0f1a9beba8d6a1454d1e97560103f9228d3ccb8a\nCloses-Bug: 1887401\n'}]",0,740919,6993eb54c2e3b03bf73281ae2f7e0aa479337e0d,7,3,1,935,,,0,"Set cloud_unique_id to service account id

The cloud_unique_id is used by TrilioVault in functions associated
with global scheduling, import and auditing.

Ensure it is set to the ID of the trilio service account.

Change-Id: I0f1a9beba8d6a1454d1e97560103f9228d3ccb8a
Closes-Bug: 1887401
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/19/740919/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/workloadmgr.conf'],1,6993eb54c2e3b03bf73281ae2f7e0aa479337e0d,bug/1887401,cloud_unique_id = {{ identity_service.admin_user_id }},cloud_unique_id = {{ options.trilio_user_id }},1,1
openstack%2Ftripleo-quickstart-extras~master~Ic3cb165b80ef7bed11381a3925a7d6294162ed78,openstack/tripleo-quickstart-extras,master,Ic3cb165b80ef7bed11381a3925a7d6294162ed78,standalone: add support to build containers before deployment,MERGED,2020-05-20 01:33:46.000000000,2020-07-17 13:37:12.000000000,2020-07-03 20:32:56.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-05-20 01:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/108fc86a3e0c806d8fe7af3d7511400ddbd1866f', 'message': 'standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/729410\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 2, 'created': '2020-05-20 01:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d12a763e1de1b3d9740029d8de02eeb742a114a6', 'message': 'standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/729410\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 3, 'created': '2020-05-20 01:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1c27210d064e88ce98b7aa9331349a5bd3794959', 'message': 'standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/729410\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 4, 'created': '2020-05-21 03:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5a50e00d0d70c932ed7b9c8acbc56a73889c879d', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 5, 'created': '2020-05-21 04:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e1f8f01fb6aedb52348f147bb3ce3878f6d98f7c', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 6, 'created': '2020-05-21 04:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2aaec5f5e0c9da09bd46221ffc88f5bc1b80798c', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 7, 'created': '2020-05-21 14:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8f9514b03413fe048eef6a291bd5722a402f47e5', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 8, 'created': '2020-05-21 17:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/82c87162e27fd37263cea8ea62b41daa7a81cb1c', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730084\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 9, 'created': '2020-05-21 19:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e15eb87d9a9c734ee93b20af3d8d8e99b28d1e8d', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730084\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 10, 'created': '2020-05-22 00:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f17aaf6e7b6f59581f674c7d14e92a18584ee5b4', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730152\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 11, 'created': '2020-05-22 02:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8a4bb9c767ade0a7e43b34f13f295f08590e9421', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730152\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 12, 'created': '2020-05-22 12:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4f9909e5b83a97ae2aa0d60e7becd4e55967ebca', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730152\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 13, 'created': '2020-05-22 12:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9d2fd76327ebbec78cb922b37690095e4963fc60', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730152\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 14, 'created': '2020-05-22 12:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/13df36df7d4ce2d7396bf3921fb1e65482dee7b9', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730152\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 15, 'created': '2020-05-22 13:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a0833e2d02f73727595ef0f11318be039664f2da', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730152\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 16, 'created': '2020-05-22 15:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/245367349ec914626459b3d04de42362ee3ffce0', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730369\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 17, 'created': '2020-05-22 18:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/87aad6d3b3daa6fc79e8182c0d271be06ac470c8', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730369\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 18, 'created': '2020-05-22 19:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/af398fd7d446c41f4140d2f25583bc5235aaaf4b', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730369\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 19, 'created': '2020-05-22 21:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/aa5f6fbc26202a81bc1a77d33d035f14b1d381d9', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730369\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 20, 'created': '2020-05-23 01:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c44072813efccbad1ba5ba139f878c9e37b4b1ec', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730369\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 21, 'created': '2020-05-24 02:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6d99043564e166da16c07c21f88f888e1cbb324b', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730369\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 22, 'created': '2020-05-25 13:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8605cab73487ffdc77c167143aaa5f73a8ad4bbf', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730369\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 23, 'created': '2020-05-25 14:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6476230875f760f5a74a5a3e5186c518b7fe3308', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730369\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 24, 'created': '2020-05-25 15:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1c50f0181589667b9ce717593ad32b039d74ed8c', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730369\nDepends-On: https://review.opendev.org/730634\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 25, 'created': '2020-05-25 16:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2cc696ae0e40264f964c6f4744a5e880d052a2ce', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730369\nDepends-On: https://review.opendev.org/730634\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 26, 'created': '2020-05-26 02:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7e3cbae105b51c70d63dcba7cd460de8da1cbb54', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730369\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 27, 'created': '2020-05-26 02:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/598375d1c884f2aef10d6a2db77512931d9edc80', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730369\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 28, 'created': '2020-05-26 12:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5e0819337911341e79eda02eb54bf60e8a810e68', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730369\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 29, 'created': '2020-05-27 17:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4d0fca058959a8f024ec4d9b404352a16db024a6', 'message': 'WIP - standalone: add support to build containers before deployment\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730369\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 30, 'created': '2020-06-03 18:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fa2a26793c3714dd9c6c780611fd9bfdd074dcc5', 'message': 'standalone: add support to build containers before deployment\n\n* Create a new role, container-build, that will install\n  a Docker registry in a container and run tripleo_container_image_build\n  to build TripleO images.\n* Update the standalone deploy role so it can deploy TripleO from\n  locally built container images and not from a remote registry.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730369\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 31, 'created': '2020-06-03 18:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8115c5d997bc54234341c5b4e274c26baec7d37b', 'message': 'standalone: add support to build containers before deployment\n\n* Create a new role, container-build, that will install\n  a Docker registry in a container and run tripleo_container_image_build\n  to build TripleO images.\n* Update the standalone deploy role so it can deploy TripleO from\n  locally built container images and not from a remote registry.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730369\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 32, 'created': '2020-06-03 18:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3cced045e836a7afc25856c6e38d3cc8b59eafaa', 'message': 'standalone: add support to build containers before deployment\n\n* Create a new role, container-build, that will install\n  a Docker registry in a container and run tripleo_container_image_build\n  to build TripleO images.\n* Update the standalone deploy role so it can deploy TripleO from\n  locally built container images and not from a remote registry.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\nDepends-On: https://review.opendev.org/730369\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 33, 'created': '2020-06-03 18:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f2e327b20b766ce423ccf1eeaf62bcbcd5f7c1e8', 'message': 'standalone: add support to build containers before deployment\n\n* Create a new role, container-build, that will install\n  a Docker registry in a container, running on port 5001\n  and run tripleo_container_image_build to build TripleO images from\n  scratch.\n* Update the standalone deploy role so it can deploy TripleO from\n  locally built container images and not from a remote registry.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nDepends-On: https://review.opendev.org/729824\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 34, 'created': '2020-06-03 19:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6aff855e19ba0fb7b6c1a8d170d098d5ddb89151', 'message': 'standalone: add support to build containers before deployment\n\n* Create a new role, container-build, that will install\n  a Docker registry in a container, running on port 5001\n  and run tripleo_container_image_build to build TripleO images from\n  scratch.\n* Update the standalone deploy role so it can deploy TripleO from\n  locally built container images and not from a remote registry.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 35, 'created': '2020-06-03 19:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/58bc52cf51fedd8ae701139466e67ff5427a23b1', 'message': 'standalone: add support to build containers before deployment\n\n* Create a new role, container-build, that will install\n  a Docker registry in a container, running on port 5001\n  and run tripleo_container_image_build to build TripleO images from\n  scratch.\n* Update the standalone deploy role so it can deploy TripleO from\n  locally built container images and not from a remote registry.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 36, 'created': '2020-06-04 03:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6ce1b7423e955aeb57141757cd5fe3c472423b6a', 'message': 'standalone: add support to build containers before deployment\n\n* Create a new role, container-build, that will install\n  a Docker registry in a container, running on port 5001\n  and run tripleo_container_image_build to build TripleO images from\n  scratch.\n* Update the standalone deploy role so it can deploy TripleO from\n  locally built container images and not from a remote registry.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 37, 'created': '2020-06-04 14:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2f0fdd28b49b0aeab9249e75219787763c634e5c', 'message': 'standalone: add support to build containers before deployment\n\n* Create a new role, container-build, that will install\n  a Docker registry in a container, running on port 5001\n  and run tripleo_container_image_build to build TripleO images from\n  scratch.\n* Update the standalone deploy role so it can deploy TripleO from\n  locally built container images and not from a remote registry.\n\nDepends-On: https://review.opendev.org/724147\nDepends-On: https://review.opendev.org/722486\nDepends-On: https://review.opendev.org/729408\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 38, 'created': '2020-06-09 14:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5cebeebe48e4602318aba98110316c317a62a811', 'message': 'standalone: add support to build containers before deployment\n\n* Create a new role, container-build, that will install\n  a Docker registry in a container, running on port 5001\n  and run tripleo_container_image_build to build TripleO images from\n  scratch.\n* Update the standalone deploy role so it can deploy TripleO from\n  locally built container images and not from a remote registry.\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 39, 'created': '2020-06-09 14:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b836b1c797b7bccf2f410878424861294c087863', 'message': 'standalone: add support to build containers before deployment\n\n* Create a new role, container-build, that will install\n  a Docker registry in a container, running on port 5001\n  and run tripleo_container_image_build to build TripleO images from\n  scratch.\n* Update the standalone deploy role so it can deploy TripleO from\n  locally built container images and not from a remote registry.\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 40, 'created': '2020-06-10 18:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7f3230d2c2cde3378e9d97f0c2f88d2579d9d67b', 'message': 'standalone: add support to build containers before deployment\n\n* Create a new role, container-build, that will install\n  a Docker registry in a container, running on port 5001\n  and run tripleo_container_image_build to build TripleO images from\n  scratch.\n* Update the standalone deploy role so it can deploy TripleO from\n  locally built container images and not from a remote registry.\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 41, 'created': '2020-06-16 17:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/25b29e1dd3c20bd9df5912a8d791535063434ce3', 'message': 'standalone: add support to build containers before deployment\n\n* Create a new role, container-build, that will install\n  a Docker registry in a container, running on port 5001\n  and run tripleo_container_image_build to build TripleO images from\n  scratch.\n* Update the standalone deploy role so it can deploy TripleO from\n  locally built container images and not from a remote registry.\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 42, 'created': '2020-06-18 21:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8e5122d6f40be5415151a15b4937f85af66fd31f', 'message': 'standalone: add support to build containers before deployment\n\n* Create a new role, container-build, that will install\n  a Docker registry in a container, running on port 5001\n  and run tripleo_container_image_build to build TripleO images from\n  scratch.\n* Update the standalone deploy role so it can deploy TripleO from\n  locally built container images and not from a remote registry.\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 43, 'created': '2020-06-23 02:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b29eea5c211a080e955f9cad2abb74a4d711fdf3', 'message': 'standalone: add support to build containers before deployment\n\n* Create a new role, container-build, that will install\n  a Docker registry in a container, running on port 5001\n  and run tripleo_container_image_build to build TripleO images from\n  scratch.\n* Update the standalone deploy role so it can deploy TripleO from\n  locally built container images and not from a remote registry.\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 44, 'created': '2020-06-24 03:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a96ada0c819b6efadb9ab62bde447696d9076aab', 'message': 'standalone: add support to build containers before deployment\n\n* Create a new role, container-build, that will install\n  a Docker registry in a container, running on port 5001\n  and run tripleo_container_image_build to build TripleO images from\n  scratch.\n* Update the standalone deploy role so it can deploy TripleO from\n  locally built container images and not from a remote registry.\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 45, 'created': '2020-06-26 13:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ce5e1f8f24d658212b7b4120515a60e68085a5a2', 'message': 'standalone: add support to build containers before deployment\n\n* Create a new role, container-build, that will install\n  a Docker registry in a container, running on port 5001\n  and run tripleo_container_image_build to build TripleO images from\n  scratch.\n* Update the standalone deploy role so it can deploy TripleO from\n  locally built container images and not from a remote registry.\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 46, 'created': '2020-06-27 14:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/519d83d886f94a34539a6a380b427ca2a8953568', 'message': 'standalone: add support to build containers before deployment\n\n* Create a new role, container-build, that will install\n  a Docker registry in a container, running on port 5001\n  and run tripleo_container_image_build to build TripleO images from\n  scratch.\n* Update the standalone deploy role so it can deploy TripleO from\n  locally built container images and not from a remote registry.\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}, {'number': 47, 'created': '2020-07-02 20:59:38.000000000', 'files': ['roles/container-build/tasks/main.yaml', 'roles/container-build/defaults/main.yaml', 'roles/standalone/tasks/main.yml', 'roles/container-build/README.md', 'roles/extras-common/defaults/main.yml', 'roles/standalone/templates/standalone_config.yaml.j2', 'roles/container-build/meta/main.yaml', 'roles/standalone/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bbee06f544ae2cb7772dfeaaee200af46cbe6faa', 'message': 'standalone: add support to build containers before deployment\n\n* Create a new role, container-build, that will install\n  a Docker registry in a container, running on port 5001\n  and run tripleo_container_image_build to build TripleO images from\n  scratch.\n* Update the standalone deploy role so it can deploy TripleO from\n  locally built container images and not from a remote registry.\n\nChange-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78\n'}]",5,729465,bbee06f544ae2cb7772dfeaaee200af46cbe6faa,217,9,47,3153,,,0,"standalone: add support to build containers before deployment

* Create a new role, container-build, that will install
  a Docker registry in a container, running on port 5001
  and run tripleo_container_image_build to build TripleO images from
  scratch.
* Update the standalone deploy role so it can deploy TripleO from
  locally built container images and not from a remote registry.

Change-Id: Ic3cb165b80ef7bed11381a3925a7d6294162ed78
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/65/729465/10 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/tasks/main.yml'],1,108fc86a3e0c806d8fe7af3d7511400ddbd1866f,images/new,"- name: Build TripleO Container Images when: - build_container_images|default(false)|bool block: - name: Deploy the tripleo container image registry roles: - role: ""tripleo_image_serve"" - name: Run tripleo container image build via tripleo-operator-ansible collections: - tripleo.operator include_role: name: tripleo_container_image_build vars: tripleo_container_image_build_debug: true tripleo_container_image_build_generate_scripts: true tripleo_container_image_build_namespace: ""{{ docker_registry_namespace }}"" tripleo_container_image_build_tag: standalone-build - name: update container-prepare-parameters.yaml for remote registries when: - not build_container_images|default(false)|bool block: # update the registry to rdo or docker.io - name: update registry if needed in container-prepare-parameters.yaml when: - docker_registry_host != '' and docker_registry_namespace != '' replace: path: ""{{ working_dir }}/containers-prepare-parameters.yaml"" regexp: "" namespace: (.*)"" replace: "" namespace: {{ docker_registry_host }}/{{ docker_registry_namespace }}"" backup: true # update the container tag to match dlrn hash - name: update container tag if needed in container-prepare-parameters.yaml when: - container_build_id != '' - not build_container_images|default(false)|bool replace: path: ""{{ working_dir }}/containers-prepare-parameters.yaml"" regexp: "" tag: (.*)"" replace: "" tag: {{ container_build_id }}"" backup: true # in extra-common/defaults # docker_prep_prefix: ""{{ ansible_distribution | lower }}-binary-"" - name: update container name_prefix for the appropriate distro when: - not build_container_images|default(false)|bool replace: path: ""{{ working_dir }}/containers-prepare-parameters.yaml"" regexp: "" name_prefix: (.*)"" replace: "" name_prefix: {{ docker_prep_prefix }}"" backup: true - name: update container-prepare-parameters.yaml for local container images when: - build_container_images|default(false)|bool block: - name: update registry if needed in container-prepare-parameters.yaml replace: path: ""{{ working_dir }}/containers-prepare-parameters.yaml"" regexp: "" namespace: (.*)"" replace: "" namespace: localhost/{{ docker_registry_namespace }}"" backup: true - name: update container tag if needed in container-prepare-parameters.yaml replace: path: ""{{ working_dir }}/containers-prepare-parameters.yaml"" regexp: "" tag: (.*)"" replace: "" tag: standalone-build"" backup: true - name: update container name_prefix for the appropriate distro replace: path: ""{{ working_dir }}/containers-prepare-parameters.yaml"" regexp: "" name_prefix: (.*)"" replace: "" name_prefix: openstack-"" backup: true","# update the registry to rdo or docker.io - name: update registry if needed in container-prepare-parameters.yaml when: - docker_registry_host != '' and docker_registry_namespace != '' replace: path: ""{{ working_dir }}/containers-prepare-parameters.yaml"" regexp: "" namespace: (.*)"" replace: "" namespace: {{ docker_registry_host }}/{{ docker_registry_namespace }}"" backup: true # update the container tag to match dlrn hash - name: update container tag if needed in container-prepare-parameters.yaml when: - container_build_id != '' replace: path: ""{{ working_dir }}/containers-prepare-parameters.yaml"" regexp: "" tag: (.*)"" replace: "" tag: {{ container_build_id }}"" backup: true # in extra-common/defaults # docker_prep_prefix: ""{{ ansible_distribution | lower }}-binary-"" - name: update container name_prefix for the appropriate distro replace: path: ""{{ working_dir }}/containers-prepare-parameters.yaml"" regexp: "" name_prefix: (.*)"" replace: "" name_prefix: {{ docker_prep_prefix }}"" backup: true",74,24
openstack%2Fcharm-masakari-monitors~master~I62f5315c32cfc014ef8a8581ca5f977ec6114263,openstack/charm-masakari-monitors,master,I62f5315c32cfc014ef8a8581ca5f977ec6114263,"Add victoria, ussuri, train package versions",MERGED,2020-07-13 19:15:24.000000000,2020-07-17 13:35:55.000000000,2020-07-17 13:35:55.000000000,"[{'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 19:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/3292c757106d08f9035c323af4ed912b3b12573d', 'message': 'Add victoria, ussuri, train package versions\n\nChange-Id: I62f5315c32cfc014ef8a8581ca5f977ec6114263\n'}, {'number': 2, 'created': '2020-07-14 13:30:08.000000000', 'files': ['src/lib/charm/openstack/masakari_monitors.py', 'src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/a0e1741a913d4863ab4b8c4e7ba2e63d4c1dfbbe', 'message': 'Add victoria, ussuri, train package versions\n\nAlso remove jinja2 from wheelhouse.txt as is a duplicate\nand due to improvements in charm build it now causes the\nbuild to fail.\n\nChange-Id: I62f5315c32cfc014ef8a8581ca5f977ec6114263\n'}]",0,740782,a0e1741a913d4863ab4b8c4e7ba2e63d4c1dfbbe,14,4,2,11805,,,0,"Add victoria, ussuri, train package versions

Also remove jinja2 from wheelhouse.txt as is a duplicate
and due to improvements in charm build it now causes the
build to fail.

Change-Id: I62f5315c32cfc014ef8a8581ca5f977ec6114263
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/82/740782/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/masakari_monitors.py'],1,3292c757106d08f9035c323af4ed912b3b12573d,batch-update," ('8', 'train'), ('9', 'ussuri'), ('10', 'victoria'),",,3,0
openstack%2Freleases~master~I12855da61e2466a42bb81c18bcc9851e52eab536,openstack/releases,master,I12855da61e2466a42bb81c18bcc9851e52eab536,Release oslo's projects for victoria - 2020-07-17,MERGED,2020-07-17 10:32:44.000000000,2020-07-17 13:29:22.000000000,2020-07-17 13:29:22.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 10:32:44.000000000', 'files': ['deliverables/victoria/oslo.vmware.yaml', 'deliverables/victoria/oslo.db.yaml', 'deliverables/victoria/oslo.policy.yaml', 'deliverables/victoria/castellan.yaml', 'deliverables/victoria/stevedore.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a0128974b0c77a65f3bc26d87ab42bd46d22d99c', 'message': ""Release oslo's projects for victoria - 2020-07-17\n\nChange-Id: I12855da61e2466a42bb81c18bcc9851e52eab536\n""}]",1,741612,a0128974b0c77a65f3bc26d87ab42bd46d22d99c,7,3,1,28522,,,0,"Release oslo's projects for victoria - 2020-07-17

Change-Id: I12855da61e2466a42bb81c18bcc9851e52eab536
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/741612/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/oslo.vmware.yaml', 'deliverables/victoria/oslo.db.yaml', 'deliverables/victoria/oslo.policy.yaml', 'deliverables/victoria/castellan.yaml', 'deliverables/victoria/stevedore.yaml']",5,a0128974b0c77a65f3bc26d87ab42bd46d22d99c,oslo-victoria-07-17, - version: 3.2.0 projects: - repo: openstack/stevedore hash: e9204ee7b702f67c4de1c777db9482b065126407,,20,0
openstack%2Ftripleo-heat-templates~master~Ic3a5f7d079993ca31176df5e460640938495bb7b,openstack/tripleo-heat-templates,master,Ic3a5f7d079993ca31176df5e460640938495bb7b,Add become: true to the container json file modules,MERGED,2020-07-15 02:51:53.000000000,2020-07-17 13:23:26.000000000,2020-07-16 23:31:26.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-15 02:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca31072abe602f351e9af06b762b770b5861ac36', 'message': 'Add become: true to the container json file modules\n\nAdding the become: true when calling the modules which manage files in\n/var/lib/tripleo-config, they need root access.\n\nChange-Id: Ic3a5f7d079993ca31176df5e460640938495bb7b\n'}, {'number': 2, 'created': '2020-07-16 01:51:37.000000000', 'files': ['common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4395e4a3ceb41874a8855129444e6387686c649b', 'message': 'Add become: true to the container json file modules\n\nAdding the become: true when calling the modules which manage files in\n/var/lib/tripleo-config, they need root access.\n\nChange-Id: Ic3a5f7d079993ca31176df5e460640938495bb7b\n'}]",0,741074,4395e4a3ceb41874a8855129444e6387686c649b,15,6,2,3153,,,0,"Add become: true to the container json file modules

Adding the become: true when calling the modules which manage files in
/var/lib/tripleo-config, they need root access.

Change-Id: Ic3a5f7d079993ca31176df5e460640938495bb7b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/741074/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks-step-1.yaml'],1,ca31072abe602f351e9af06b762b770b5861ac36,become, become: true become: true,,2,0
openstack%2Fpuppet-tripleo~stable%2Fussuri~I40731728dcb79fde0fbbba42f7e0bab3e4da1729,openstack/puppet-tripleo,stable/ussuri,I40731728dcb79fde0fbbba42f7e0bab3e4da1729,Update Gemfile for stable/ussuri,MERGED,2020-07-17 02:45:11.000000000,2020-07-17 13:09:12.000000000,2020-07-17 13:09:12.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-17 02:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f1c760d1f60e2a1b67bf07efb94d638b6c1f8fca', 'message': '[Ussuri only] Use openstack_spec_helper stable/ussuri\n\nChange-Id: I40731728dcb79fde0fbbba42f7e0bab3e4da1729\n'}, {'number': 2, 'created': '2020-07-17 02:55:29.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d5c6e1c567a95f9115a3611d4be9d2f3ce2b4822', 'message': 'Update Gemfile for stable/ussuri\n\nChange-Id: I40731728dcb79fde0fbbba42f7e0bab3e4da1729\n'}]",0,741571,d5c6e1c567a95f9115a3611d4be9d2f3ce2b4822,9,4,2,9816,,,0,"Update Gemfile for stable/ussuri

Change-Id: I40731728dcb79fde0fbbba42f7e0bab3e4da1729
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/71/741571/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,f1c760d1f60e2a1b67bf07efb94d638b6c1f8fca,gemfile-ussuri," :ref => 'stable/ussuri',",,1,0
openstack%2Frpm-packaging~master~Ic9ce2bef96a51d02d2cd70947f7d91eecea1d8a2,openstack/rpm-packaging,master,Ic9ce2bef96a51d02d2cd70947f7d91eecea1d8a2,glance: update filelist for glance-registry removal,MERGED,2020-07-16 19:07:15.000000000,2020-07-17 13:02:06.000000000,2020-07-17 13:02:06.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-16 19:07:15.000000000', 'files': ['openstack/glance/openstack-glance-registry.service', 'openstack/glance/glance.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6b15f9075c7707fc1816724cb39f52fd7017c473', 'message': 'glance: update filelist for glance-registry removal\n\nChange-Id: Ic9ce2bef96a51d02d2cd70947f7d91eecea1d8a2\n'}]",0,741523,6b15f9075c7707fc1816724cb39f52fd7017c473,11,5,1,6593,,,0,"glance: update filelist for glance-registry removal

Change-Id: Ic9ce2bef96a51d02d2cd70947f7d91eecea1d8a2
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/23/741523/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/glance/openstack-glance-registry.service', 'openstack/glance/glance.spec.j2']",2,6b15f9075c7707fc1816724cb39f52fd7017c473,,,"Source4: openstack-glance-registry.service%package registry Summary: OpenStack Image service (Glance) - Registry Group: Development/Languages/Python Requires: %{name} = %{epoch}:%{version}-%{release} %description registry The Glance project provides a service where users can upload and discover data assets that are meant to be used with other services. This currently includes images and metadata definitions. Glance image services include discovering, registering, and retrieving virtual machine images. Glance has a RESTful API that allows querying of VM image metadata as well as retrieval of the actual image. VM images made available through Glance can be stored in a variety of locations from simple filesystems to object-storage systems like the OpenStack Swift project. This package contains the %{name} registry server. install -d -m 755 %{buildroot}%{_sysconfdir}/glance/glance-registry.conf.d/install -p -D -m 444 %{SOURCE4} %{buildroot}%{_unitdir}/openstack-glance-registry.service%post registry %systemd_post %{name}-registry.service %preun registry %systemd_preun %{name}-registry.service %postun registry %systemd_postun_with_restart %{name}-registry.service %dir %attr(0750, root, glance) %{_sysconfdir}/glance/glance-registry.conf.d/%config(noreplace) %attr(0640, root, glance) %{_sysconfdir}/{{ pypi_name }}/glance-registry.conf%config %{_sysconfdir}/{{ pypi_name }}/glance-registry-paste.ini%files registry %{_unitdir}/openstack-glance-registry.service %{_bindir}/{{ pypi_name }}-registry ",0,52
openstack%2Frpm-packaging~master~I8d8678e41db94d9f1ce1d7f89780dbcd4987f229,openstack/rpm-packaging,master,I8d8678e41db94d9f1ce1d7f89780dbcd4987f229,freezer-api: switch to stestr,MERGED,2020-07-16 19:12:04.000000000,2020-07-17 12:58:21.000000000,2020-07-17 12:58:21.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-16 19:12:04.000000000', 'files': ['openstack/freezer-api/freezer-api.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/de4cf782394ab1057815819f3bb8bfb9fd8c38bc', 'message': 'freezer-api: switch to stestr\n\nChange-Id: I8d8678e41db94d9f1ce1d7f89780dbcd4987f229\n'}]",0,741525,de4cf782394ab1057815819f3bb8bfb9fd8c38bc,9,5,1,6593,,,0,"freezer-api: switch to stestr

Change-Id: I8d8678e41db94d9f1ce1d7f89780dbcd4987f229
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/25/741525/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/freezer-api/freezer-api.spec.j2'],1,de4cf782394ab1057815819f3bb8bfb9fd8c38bc,,BuildRequires: {{ py3('stestr') }}python3 -m stestr.cli run,BuildRequires: {{ py3('testrepository') }}PYTHON=%{__python3} OS_PATH_TEST=./freezer_api/tests/unit %{__python3} setup.py test,2,2
openstack%2Ftripleo-ci~master~I80f4c698a3860f55590a12973c025344df217cd5,openstack/tripleo-ci,master,I80f4c698a3860f55590a12973c025344df217cd5,DNM: Test scenario010 on puppet-octavia,ABANDONED,2020-07-17 12:32:07.000000000,2020-07-17 12:49:31.000000000,,[],"[{'number': 1, 'created': '2020-07-17 12:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/82f1d83bf604c7e07cdb545eb712ab600571d610', 'message': 'Add triggering for scenario010 on puppet-octavia\n\nChanges to some puppet-octavia files should run\nthe scenario010 test.\n\nChange-Id: I80f4c698a3860f55590a12973c025344df217cd5\nDepends-On: https://review.opendev.org/#/c/738488/\n'}, {'number': 2, 'created': '2020-07-17 12:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f02bd327270958cbc486083aac2c3b80f3d7ba1c', 'message': 'Add triggering for scenario010 on puppet-octavia\n\nChanges to some puppet-octavia files should run\nthe scenario010 test.\n\nChange-Id: I80f4c698a3860f55590a12973c025344df217cd5\nDepends-On: https://review.opendev.org/#/c/738488/\n'}, {'number': 3, 'created': '2020-07-17 12:41:36.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7e0bff3c537c306e95d7113b3024164c20bb9bab', 'message': 'DNM: Test scenario010 on puppet-octavia\n\nChange-Id: I80f4c698a3860f55590a12973c025344df217cd5\nDepends-On: https://review.opendev.org/#/c/738488/\n'}]",0,741628,7e0bff3c537c306e95d7113b3024164c20bb9bab,4,0,3,9976,,,0,"DNM: Test scenario010 on puppet-octavia

Change-Id: I80f4c698a3860f55590a12973c025344df217cd5
Depends-On: https://review.opendev.org/#/c/738488/
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/28/741628/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,82f1d83bf604c7e07cdb545eb712ab600571d610,test-scen010, # puppet-octavia - ^manifests/policy.*$,,2,0
openstack%2Ftripleo-quickstart-extras~master~If764a36d76278d303e07177b41d11db7370c5c87,openstack/tripleo-quickstart-extras,master,If764a36d76278d303e07177b41d11db7370c5c87,Add mandatory container_mode to reproducer script,MERGED,2020-07-16 09:47:18.000000000,2020-07-17 12:20:39.000000000,2020-07-17 12:20:39.000000000,"[{'_account_id': 6926}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-16 09:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/07e4a500988203e9f5b0c92854bef2369d5759a6', 'message': ""Add mandatory container_more to reproducer script\n\nReproducer playbook requires container_mode, set it for 'podman'\nby default.\nChange-Id: If764a36d76278d303e07177b41d11db7370c5c87\n""}, {'number': 2, 'created': '2020-07-16 09:50:38.000000000', 'files': ['roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9a3f78fc94f04a765f00ecf8176dde824ea02791', 'message': ""Add mandatory container_mode to reproducer script\n\nReproducer playbook requires container_mode, set it for 'podman'\nby default.\nChange-Id: If764a36d76278d303e07177b41d11db7370c5c87\n""}]",0,741417,9a3f78fc94f04a765f00ecf8176dde824ea02791,14,5,2,10969,,,0,"Add mandatory container_mode to reproducer script

Reproducer playbook requires container_mode, set it for 'podman'
by default.
Change-Id: If764a36d76278d303e07177b41d11db7370c5c87
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/17/741417/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2'],1,07e4a500988203e9f5b0c92854bef2369d5759a6,reprofix,": ${CONTAINER_MODE:=""podman""} --container-cli|-cont) CONTAINER_MODE=$2 shift ;; if [[ ""$CONTAINER_CLI"" == ""docker""]]; then if [ -x ""/usr/bin/docker"" ] ; then # Fail as early as possible if the docker # group is not setup appropriately. # This has to be done AFTER package intalls. # Set up docker groups if ! groups | grep -Eq ""docker|dockerroot""; then echo ""$USER is not in the docker|dockerroot group."" if grep -q docker: /etc/group; then DG=docker elif grep -q dockerroot: /etc/group; then DG=dockerroot elif ! grep -q docker /etc/group; then sudo groupadd docker DG=docker fi sudo usermod -aG $DG $USER echo -e ""\e[31m WARNING: The script has exited the current shell in order to setup \ the user groups via usermod correctly. Please re-execute the script. \e[0m"" exec sg $DG newgrp `id -gn` # This can only be checked after rpms are installed. # Check the Docker config if [[ -f /etc/docker/daemon.json ]]; then if cat /etc/docker/daemon.json | grep '""group"": ""docker""'; then echo ""docker group is already added to /etc/docker/daemon.json"" elif cat /etc/docker/daemon.json | grep '""group"": ""dockerroot""'; then echo ""dockerroot group is already added to /etc/docker/daemon.json"" elif (( $(cat /etc/docker/daemon.json | wc -m) > 3 )); then echo -e ""\e[31m /etc/docker/daemon.json is populated. \ Exit this script and either clear the file or add the docker group. \e[0m"" | xargs exit 1 else echo ""The docker|dockerroot group will be added to /etc/docker/daemon.json."" fi # Ensure the docker process has been restarted sudo systemctl restart docker fi -e container_mode=""$CONTAINER_MODE"" \","if [ -x ""/usr/bin/docker"" ] ; then # Fail as early as possible if the docker # group is not setup appropriately. # This has to be done AFTER package intalls. # Set up docker groups if ! groups | grep -Eq ""docker|dockerroot""; then echo ""$USER is not in the docker|dockerroot group."" if grep -q docker: /etc/group; then DG=docker elif grep -q dockerroot: /etc/group; then DG=dockerroot elif ! grep -q docker /etc/group; then sudo groupadd docker DG=docker sudo usermod -aG $DG $USER echo -e ""\e[31m WARNING: The script has exited the current shell in order to setup \ the user groups via usermod correctly. Please re-execute the script. \e[0m"" exec sg $DG newgrp `id -gn` fi # This can only be checked after rpms are installed. # Check the Docker config if [[ -f /etc/docker/daemon.json ]]; then if cat /etc/docker/daemon.json | grep '""group"": ""docker""'; then echo ""docker group is already added to /etc/docker/daemon.json"" elif cat /etc/docker/daemon.json | grep '""group"": ""dockerroot""'; then echo ""dockerroot group is already added to /etc/docker/daemon.json"" elif (( $(cat /etc/docker/daemon.json | wc -m) > 3 )); then echo -e ""\e[31m /etc/docker/daemon.json is populated. \ Exit this script and either clear the file or add the docker group. \e[0m"" | xargs exit 1 else echo ""The docker|dockerroot group will be added to /etc/docker/daemon.json."" fi # Ensure the docker process has been restarted sudo systemctl restart docker",44,36
openstack%2Ftripleo-quickstart~master~I66ccb49b1adb06247f6b9794599ae28a7365fe0b,openstack/tripleo-quickstart,master,I66ccb49b1adb06247f6b9794599ae28a7365fe0b,Don't force qemu guest installation,MERGED,2020-07-16 13:05:35.000000000,2020-07-17 12:19:50.000000000,2020-07-17 12:16:58.000000000,"[{'_account_id': 6926}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-16 13:05:35.000000000', 'files': ['roles/libvirt/setup/overcloud/tasks/libvirt_nodepool.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d4d3f225513b4df28d4f37a395dea04277110a71', 'message': ""Don't force qemu guest installation\n\nIt may depend on the image which doesn't have required repos to\ninstall qemu-guest, in total it's not mandatory. Don't fail\nplaybook on this task.\nChange-Id: I66ccb49b1adb06247f6b9794599ae28a7365fe0b\n""}]",0,741446,d4d3f225513b4df28d4f37a395dea04277110a71,11,6,1,10969,,,0,"Don't force qemu guest installation

It may depend on the image which doesn't have required repos to
install qemu-guest, in total it's not mandatory. Don't fail
playbook on this task.
Change-Id: I66ccb49b1adb06247f6b9794599ae28a7365fe0b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/46/741446/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/libvirt/setup/overcloud/tasks/libvirt_nodepool.yml'],1,d4d3f225513b4df28d4f37a395dea04277110a71,reprofix, failed_when: false,,1,0
openstack%2Fpython-tripleoclient~stable%2Fussuri~Idac62d37a19ee49f30936e20021a9dab5af40eec,openstack/python-tripleoclient,stable/ussuri,Idac62d37a19ee49f30936e20021a9dab5af40eec,Fix package manager used during undercloud packages update,MERGED,2020-07-16 06:39:44.000000000,2020-07-17 11:46:06.000000000,2020-07-17 11:43:53.000000000,"[{'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-16 06:39:44.000000000', 'files': ['tripleoclient/v1/undercloud.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c20dcf9aeab45cd062c5cbe82c9c5baf9dc20684', 'message': ""Fix package manager used during undercloud packages update\n\nAs described in the related bug we need to use dnf instead of yum\nfor centos8 otherwise it fails in the undercloud packages update.\n\nI am using the python version to determine - py3 is dnf. As part of\ndiscussion here when dnf isn't available fall back to yum.\n\nFound as part of the work in [1].\n\nRelated-Bug: 1886837\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: Idac62d37a19ee49f30936e20021a9dab5af40eec\n(cherry picked from commit 9c53cb3ef5ad513b05d4888552a3280e0eec43ca)\n""}]",0,741383,c20dcf9aeab45cd062c5cbe82c9c5baf9dc20684,13,8,1,8449,,,0,"Fix package manager used during undercloud packages update

As described in the related bug we need to use dnf instead of yum
for centos8 otherwise it fails in the undercloud packages update.

I am using the python version to determine - py3 is dnf. As part of
discussion here when dnf isn't available fall back to yum.

Found as part of the work in [1].

Related-Bug: 1886837
[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817

Change-Id: Idac62d37a19ee49f30936e20021a9dab5af40eec
(cherry picked from commit 9c53cb3ef5ad513b05d4888552a3280e0eec43ca)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/83/741383/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py']",2,c20dcf9aeab45cd062c5cbe82c9c5baf9dc20684,Idac62d37a19ee49f30936e20021a9dab5af40eec-stable/ussuri," @mock.patch('os.system') @mock.patch('sys.version_info') mock_subprocess, mock_wr, mock_os_mkdir, mock_copy, mock_user, mock_getuid, mock_confirm, mock_sys, mock_os_sys): mock_sys.major = 3 mock_os_sys.return_value = 0 # DisplayCommandBase.take_action() returns two tuples self.cmd.take_action(parsed_args) mock_run_command.assert_called_with( ['sudo', 'dnf', 'upgrade', '-y', 'python2-tripleoclient', 'openstack-tripleo-common', 'openstack-tripleo-heat-templates', 'openstack-tripleo-validations', 'tripleo-ansible'], name='Update extra packages' ) mock_os_sys.assert_called_with(""which dnf"") mock_sys.major = 2"," mock_subprocess, mock_wr, mock_os, mock_copy, mock_user, mock_getuid, mock_confirm):",28,5
openstack%2Fcloudkitty-dashboard~master~Iaa76d1476320085a95c844bf1001153da957ec0c,openstack/cloudkitty-dashboard,master,Iaa76d1476320085a95c844bf1001153da957ec0c,Imported Translations from Zanata,MERGED,2020-07-10 06:33:27.000000000,2020-07-17 11:44:22.000000000,2020-07-17 11:41:58.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-07-10 06:33:27.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/86ad84efdcd0b3852c0309dedd5498c5188e0bc7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iaa76d1476320085a95c844bf1001153da957ec0c\n'}]",0,740404,86ad84efdcd0b3852c0309dedd5498c5188e0bc7,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iaa76d1476320085a95c844bf1001153da957ec0c
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/04/740404/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,86ad84efdcd0b3852c0309dedd5498c5188e0bc7,zanata/translations,"""POT-Creation-Date: 2020-07-02 10:22+0000\n""""PO-Revision-Date: 2020-07-09 08:12+0000\n""msgid ""10.0.0"" msgstr ""10.0.0"" msgid ""Ussuri Series Release Notes"" msgstr ""Ussuri Series Release Notes"" ","""POT-Creation-Date: 2020-04-08 14:52+0000\n""""PO-Revision-Date: 2020-04-16 12:19+0000\n""msgid ""9.0.0-16"" msgstr ""9.0.0-16"" ",8,5
openstack%2Ftripleo-common~master~I985ef22c340c4071866c8c51bf303a6f4ee7713c,openstack/tripleo-common,master,I985ef22c340c4071866c8c51bf303a6f4ee7713c,Don't assume default tag exists in container repo,MERGED,2020-07-06 19:23:04.000000000,2020-07-17 11:41:18.000000000,2020-07-16 23:20:17.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-06 19:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c3487b53f182945ea33c11de6856caca6a0d3d96', 'message': ""Don't assume default tag exists in container repo\n\nWhen no tag is set for an entry in ContainerImagePrepare, the default\ntag from container-images/container_image_prepare_defaults.yaml will be\nassumed, which is typically current-tripleo, or a release version such\nas 16.0.\n\nIn most cases, this tag will exist. However, when using a satellite with\na content view that has been filtered on tags, it likely won't exist\nsince content views are often used with container image versions that\nare not the latest.\n\nIn the case where no tag is set in the entry in ContainerImagePrepare,\nand the default tag does not exist in the container repo, the latest tag\nfrom the repo will be assumed instead.\n\nChange-Id: I985ef22c340c4071866c8c51bf303a6f4ee7713c\nCloses-Bug: #1886547\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 2, 'created': '2020-07-15 12:11:24.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'container-images/container_image_prepare_defaults.yaml', 'tripleo_common/image/kolla_builder.py', 'releasenotes/notes/check_for_default_tag-09fe34d2ac434890.yaml', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0c4de9c771fad75ebabe2d18f5aef4b76613d52a', 'message': ""Don't assume default tag exists in container repo\n\nWhen no tag is set for an entry in ContainerImagePrepare, the default\ntag from container-images/container_image_prepare_defaults.yaml will be\nassumed, which is typically current-tripleo, or a release version such\nas 16.0.\n\nIn most cases, this tag will exist. However, when using a satellite with\na content view that has been filtered on tags, it likely won't exist\nsince content views are often used with container image versions that\nare not the latest.\n\nIn the case where no tag is set in the entry in ContainerImagePrepare,\nand the default tag does not exist in the container repo, the latest tag\nfrom the repo will be assumed instead.\n\nChange-Id: I985ef22c340c4071866c8c51bf303a6f4ee7713c\nCloses-Bug: #1886547\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}]",1,739594,0c4de9c771fad75ebabe2d18f5aef4b76613d52a,36,8,2,7144,,,0,"Don't assume default tag exists in container repo

When no tag is set for an entry in ContainerImagePrepare, the default
tag from container-images/container_image_prepare_defaults.yaml will be
assumed, which is typically current-tripleo, or a release version such
as 16.0.

In most cases, this tag will exist. However, when using a satellite with
a content view that has been filtered on tags, it likely won't exist
since content views are often used with container image versions that
are not the latest.

In the case where no tag is set in the entry in ContainerImagePrepare,
and the default tag does not exist in the container repo, the latest tag
from the repo will be assumed instead.

Change-Id: I985ef22c340c4071866c8c51bf303a6f4ee7713c
Closes-Bug: #1886547
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/94/739594/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/kolla_builder.py', 'releasenotes/notes/check_for_default_tag-09fe34d2ac434890.yaml', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/image/test_kolla_builder.py']",6,c3487b53f182945ea33c11de6856caca6a0d3d96,," 'default_tag': True, 'default_tag': False,",,56,32
openstack%2Fbifrost~stable%2Fussuri~I4d7640a24fac9fca2c24bc06fcedff400d74ed8d,openstack/bifrost,stable/ussuri,I4d7640a24fac9fca2c24bc06fcedff400d74ed8d,selinux: allow nginx to read symbolic links,MERGED,2020-07-17 09:52:43.000000000,2020-07-17 11:12:00.000000000,2020-07-17 11:09:38.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-17 09:52:43.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/files/ironic_policy.te', 'releasenotes/notes/selinux-lnk_file-527ac51c60f9c2ad.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/334c30925d8d0bc7386d6237aa59b807248f7f05', 'message': 'selinux: allow nginx to read symbolic links\n\nThis is required to support netboot (which is off by default, but\nis useful together with the netboot fallback).\n\nChange-Id: I4d7640a24fac9fca2c24bc06fcedff400d74ed8d\n(cherry picked from commit 8210ff3696a82293e554f28f46b978bba9496db1)\n'}]",0,741608,334c30925d8d0bc7386d6237aa59b807248f7f05,7,2,1,10239,,,0,"selinux: allow nginx to read symbolic links

This is required to support netboot (which is off by default, but
is useful together with the netboot fallback).

Change-Id: I4d7640a24fac9fca2c24bc06fcedff400d74ed8d
(cherry picked from commit 8210ff3696a82293e554f28f46b978bba9496db1)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/08/741608/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/files/ironic_policy.te', 'releasenotes/notes/selinux-lnk_file-527ac51c60f9c2ad.yaml']",2,334c30925d8d0bc7386d6237aa59b807248f7f05,selinux-stable/ussuri,"--- fixes: - | On systems with SELinux enforcing, enables nginx to read symbolic links. Fixes network boot of instances. ",,8,1
openstack%2Fmetalsmith~master~I5b02daeb1a2b073dc25a9646975a840f22d03058,openstack/metalsmith,master,I5b02daeb1a2b073dc25a9646975a840f22d03058,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:45:18.000000000,2020-07-17 11:00:26.000000000,2020-07-17 10:54:03.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 13:45:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/c086a4d51f5d83d499499895cc11b01b8ada2a68', 'message': 'Set min version of tox to 3.2.1\n\nAs recommended, since version 3.2.0 tox switches pip invocations\nto use the module -m pip instead of direct invocation.\nWe set min version to 3.2.1 [1] to also fix the behavior of\n--parallel--safe-build\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10\n\nChange-Id: I5b02daeb1a2b073dc25a9646975a840f22d03058\n'}]",0,741203,c086a4d51f5d83d499499895cc11b01b8ada2a68,8,3,1,23851,,,0,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I5b02daeb1a2b073dc25a9646975a840f22d03058
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/03/741203/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c086a4d51f5d83d499499895cc11b01b8ada2a68,tox-m-pip,minversion = 3.2.1,minversion = 3.1.0,1,1
openstack%2Fmetalsmith~master~I5a72455729d93b32df11ede7713b16045a395aee,openstack/metalsmith,master,I5a72455729d93b32df11ede7713b16045a395aee,"Metalsmith to use DevStack's neutron""-legacy"" module",MERGED,2020-07-16 14:59:19.000000000,2020-07-17 10:57:52.000000000,2020-07-17 10:54:02.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-16 14:59:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/ea6d4e62654fdb3d082687b83eaee5a31f693018', 'message': 'Metalsmith to use DevStack\'s neutron""-legacy"" module\n\nIn the last PTG the Neutron team discussed and decided to undeprecate\nthe neutron-legacy module in DevStack because that\'s the module being\nused (almost) everywhere and it works. The lib/neutron was an attempt\nto refactor the old module but, in the last few years it hasn\'t gained\nany traction and due to the lack of features and people to work on it,\nit\'s going to be removed from DevStack eventually.\n\nBelow is a snippet from the PTG summary email [0] about this topic:\n\n<snippet>\nIn Devstack there are currently 2 modules which can configure\nNeutron. Old one called ""lib/neutron-legacy"" and the new one called\n""lib/neutron"". It is like that since many cycles that\n""lib/neutron-legacy""\nis deprecated. But it is still used everywhwere. New module isn\'t still\nfinished and isn\'t working fine.  This is very confusing for users as\nreally maintained and recommended is still ""lib/neutron-legacy"" module.\n\nDuring the discussion Sean Collins explained us that originally this\nnew module was created as an attempt to refactor old module, and to\nmake Neutron in the Devstack better to maintain. But now we see that\nthis process failed as new module isn\'t still used and we don\'t have\nany cycles to work on it. So our final conclusion is to ""undeprecate""\nold ""lib/neutron-legacy"" and get rid of the new module.\n</snippet>\n\nThis patch changes the Metalsmith jobs to use the old Neutron module in\nDevStack.\n\n[0]\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-June/015368.html\n[1]\nhttp://codesearch.openstack.org/?q=neutron-api%3A%20true&i=nope&files=&repos=\n\nChange-Id: I5a72455729d93b32df11ede7713b16045a395aee\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,741476,ea6d4e62654fdb3d082687b83eaee5a31f693018,8,3,1,6773,,,0,"Metalsmith to use DevStack's neutron""-legacy"" module

In the last PTG the Neutron team discussed and decided to undeprecate
the neutron-legacy module in DevStack because that's the module being
used (almost) everywhere and it works. The lib/neutron was an attempt
to refactor the old module but, in the last few years it hasn't gained
any traction and due to the lack of features and people to work on it,
it's going to be removed from DevStack eventually.

Below is a snippet from the PTG summary email [0] about this topic:

<snippet>
In Devstack there are currently 2 modules which can configure
Neutron. Old one called ""lib/neutron-legacy"" and the new one called
""lib/neutron"". It is like that since many cycles that
""lib/neutron-legacy""
is deprecated. But it is still used everywhwere. New module isn't still
finished and isn't working fine.  This is very confusing for users as
really maintained and recommended is still ""lib/neutron-legacy"" module.

During the discussion Sean Collins explained us that originally this
new module was created as an attempt to refactor old module, and to
make Neutron in the Devstack better to maintain. But now we see that
this process failed as new module isn't still used and we don't have
any cycles to work on it. So our final conclusion is to ""undeprecate""
old ""lib/neutron-legacy"" and get rid of the new module.
</snippet>

This patch changes the Metalsmith jobs to use the old Neutron module in
DevStack.

[0]
http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015368.html
[1]
http://codesearch.openstack.org/?q=neutron-api%3A%20true&i=nope&files=&repos=

Change-Id: I5a72455729d93b32df11ede7713b16045a395aee
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/76/741476/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ea6d4e62654fdb3d082687b83eaee5a31f693018,neutron-legacy, q-agt: true q-dhcp: true q-l3: true q-meta: true q-metering: true q-svc: true, q-agt: false q-dhcp: false q-l3: false q-meta: false q-metering: false q-svc: false neutron-api: true neutron-agent: true neutron-dhcp: true neutron-l3: true neutron-metadata-agent: true neutron-metering: true,6,12
openstack%2Fmanila~master~I44117debfc5b7cdef6acb706786963ec81f59db7,openstack/manila,master,I44117debfc5b7cdef6acb706786963ec81f59db7,Add plugin name to devstack/settings,MERGED,2020-07-16 22:43:27.000000000,2020-07-17 10:55:54.000000000,2020-07-17 10:52:42.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-07-16 22:43:27.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/manila/commit/99063598297c9231cfacb2aada2edac603dc1e51', 'message': 'Add plugin name to devstack/settings\n\nNeeded for zuulv3 jobs that use two\ndevstack plugins that need to be invoked\nin a pre-defined order [1]\n\n[1] https://docs.openstack.org/devstack/latest/plugins.html#plugin-interface\n\nChange-Id: I44117debfc5b7cdef6acb706786963ec81f59db7\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,741556,99063598297c9231cfacb2aada2edac603dc1e51,12,8,1,16643,,,0,"Add plugin name to devstack/settings

Needed for zuulv3 jobs that use two
devstack plugins that need to be invoked
in a pre-defined order [1]

[1] https://docs.openstack.org/devstack/latest/plugins.html#plugin-interface

Change-Id: I44117debfc5b7cdef6acb706786963ec81f59db7
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/56/741556/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,99063598297c9231cfacb2aada2edac603dc1e51,native-zuulv3-migration,define_plugin manila ,,2,0
openstack%2Fcharm-cinder-purestorage~master~I839e720ccdea1440069ea98b84b1621a47824325,openstack/charm-cinder-purestorage,master,I839e720ccdea1440069ea98b84b1621a47824325,Add focal and ussuri bundles to the charm,MERGED,2020-05-19 19:49:27.000000000,2020-07-17 10:50:26.000000000,2020-07-17 10:50:26.000000000,"[{'_account_id': 12549}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-05-19 19:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/a4ff1d53e14414a75b0ab139a14fbcddbaea7bda', 'message': 'Add focal and ussuri bundles to the charm\n\nChange-Id: I839e720ccdea1440069ea98b84b1621a47824325\n'}, {'number': 2, 'created': '2020-05-20 07:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/88e32cf140d2848545f6535d841899c914de4f98', 'message': 'Add focal and ussuri bundles to the charm\n\nChange-Id: I839e720ccdea1440069ea98b84b1621a47824325\n'}, {'number': 3, 'created': '2020-07-15 12:58:34.000000000', 'files': ['src/tests/bundles/focal-ussuri.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-ussuri.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/ec02c2c1e8ee98523c910a031c1fb7ab23d71acd', 'message': 'Add focal and ussuri bundles to the charm\n\nChange-Id: I839e720ccdea1440069ea98b84b1621a47824325\n'}]",0,729370,ec02c2c1e8ee98523c910a031c1fb7ab23d71acd,27,5,3,12549,,,0,"Add focal and ussuri bundles to the charm

Change-Id: I839e720ccdea1440069ea98b84b1621a47824325
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/70/729370/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-ussuri.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-ussuri.yaml']",4,a4ff1d53e14414a75b0ab139a14fbcddbaea7bda,enable-focal,series: bionic comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': consussurits: mem=3072M '1': '2': '3': relations: - - keystone:shared-db - mysql:shared-db - - cinder:shared-db - mysql:shared-db - - cinder:identity-service - keystone:identity-service - - cinder:amqp - rabbitmq-server:amqp - - cinder:storage-backend - cinder-purestorage:storage-backend applications: mysql: charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 to: - '0' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: cloud:bionic-ussuri to: - '1' cinder: charm: cs:~openstack-charmers-next/cinder num_units: 1 options: openstack-origin: cloud:bionic-ussuri to: - '2' cinder-purestorage: series: bionic charm: ../../../cinder-purestorage options: # Add config options here driver-source: ppa:openstack-charmers/purestorage-stable protocol: iscsi volume-backend-name: cinder-pure rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 to: - '3' ,,106,0
openstack%2Fironic~stable%2Ftrain~I5a4e0a40659042087b7a466baae0a8c3dc136211,openstack/ironic,stable/train,I5a4e0a40659042087b7a466baae0a8c3dc136211,Allow deleting nodes with a broken driver,MERGED,2020-07-16 14:08:43.000000000,2020-07-17 10:40:35.000000000,2020-07-17 10:38:25.000000000,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-16 14:08:43.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/destroy-broken-8b13de8382199aca.yaml', 'ironic/conductor/task_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/692cf843c617c8c02f829bfc3a34ade1b6490f32', 'message': 'Allow deleting nodes with a broken driver\n\nThe only reason we need a driver is to stop serial console. Only try\nto load the driver in this case.\n\nChange-Id: I5a4e0a40659042087b7a466baae0a8c3dc136211\n(cherry picked from commit 53325881527467891044618685e942c660e65a0b)\n'}]",0,741461,692cf843c617c8c02f829bfc3a34ade1b6490f32,8,3,1,10239,,,0,"Allow deleting nodes with a broken driver

The only reason we need a driver is to stop serial console. Only try
to load the driver in this case.

Change-Id: I5a4e0a40659042087b7a466baae0a8c3dc136211
(cherry picked from commit 53325881527467891044618685e942c660e65a0b)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/61/741461/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/destroy-broken-8b13de8382199aca.yaml', 'ironic/conductor/task_manager.py']",4,692cf843c617c8c02f829bfc3a34ade1b6490f32,delete-broken-stable/train, def load_driver(self): if self.driver is None: self.driver = driver_factory.build_driver_for_task(self) ,,30,0
openstack%2Fironic~stable%2Fussuri~I5a4e0a40659042087b7a466baae0a8c3dc136211,openstack/ironic,stable/ussuri,I5a4e0a40659042087b7a466baae0a8c3dc136211,Allow deleting nodes with a broken driver,MERGED,2020-07-16 14:08:34.000000000,2020-07-17 10:40:31.000000000,2020-07-17 10:38:23.000000000,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-16 14:08:34.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/destroy-broken-8b13de8382199aca.yaml', 'ironic/conductor/task_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4253956c0f1441a74ae22403c56dafc9952215d8', 'message': 'Allow deleting nodes with a broken driver\n\nThe only reason we need a driver is to stop serial console. Only try\nto load the driver in this case.\n\nChange-Id: I5a4e0a40659042087b7a466baae0a8c3dc136211\n(cherry picked from commit 53325881527467891044618685e942c660e65a0b)\n'}]",0,741460,4253956c0f1441a74ae22403c56dafc9952215d8,8,3,1,10239,,,0,"Allow deleting nodes with a broken driver

The only reason we need a driver is to stop serial console. Only try
to load the driver in this case.

Change-Id: I5a4e0a40659042087b7a466baae0a8c3dc136211
(cherry picked from commit 53325881527467891044618685e942c660e65a0b)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/60/741460/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/destroy-broken-8b13de8382199aca.yaml', 'ironic/conductor/task_manager.py']",4,4253956c0f1441a74ae22403c56dafc9952215d8,delete-broken-stable/ussuri, def load_driver(self): if self.driver is None: self.driver = driver_factory.build_driver_for_task(self) ,,30,0
openstack%2Fneutron~stable%2Fussuri~I795ee7ca729646be0411a1232bf218015c65010f,openstack/neutron,stable/ussuri,I795ee7ca729646be0411a1232bf218015c65010f,Add config option ``http_retries``,MERGED,2020-07-09 10:11:22.000000000,2020-07-17 10:19:23.000000000,2020-07-17 10:16:17.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 10:11:22.000000000', 'files': ['neutron/notifiers/ironic.py', 'releasenotes/notes/Add-http_retries-config-option-b81dd29c03ba8c6a.yaml', 'neutron/conf/common.py', 'neutron/notifiers/nova.py', 'neutron/tests/unit/notifiers/test_nova.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/34d4a8bb9907a41bc3aee8398c68a54f0e91fe1d', 'message': 'Add config option ``http_retries``\n\nThis option allows to configure Number of times nova or ironic client\nshould retry on any failed http call.\nDefault value for this new option is ""3"".\n\nChange-Id: I795ee7ca729646be0411a1232bf218015c65010f\nCloses-Bug: #1883712\n(cherry picked from commit e94511cd251299cee84b8b67d404972988ae28d3)\n'}]",0,740214,34d4a8bb9907a41bc3aee8398c68a54f0e91fe1d,22,3,1,11975,,,0,"Add config option ``http_retries``

This option allows to configure Number of times nova or ironic client
should retry on any failed http call.
Default value for this new option is ""3"".

Change-Id: I795ee7ca729646be0411a1232bf218015c65010f
Closes-Bug: #1883712
(cherry picked from commit e94511cd251299cee84b8b67d404972988ae28d3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/740214/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/notifiers/ironic.py', 'releasenotes/notes/Add-http_retries-config-option-b81dd29c03ba8c6a.yaml', 'neutron/conf/common.py', 'neutron/notifiers/nova.py', 'neutron/tests/unit/notifiers/test_nova.py']",5,34d4a8bb9907a41bc3aee8398c68a54f0e91fe1d,bug/1883712-stable/ussuri," connect_retries=3, connect_retries=3,",,20,2
openstack%2Fopenstack-helm-infra~master~Ib34d7b1385e039d8c7bf82dcdb756bce2cc12bd2,openstack/openstack-helm-infra,master,Ib34d7b1385e039d8c7bf82dcdb756bce2cc12bd2,[ceph-osd] Add get_lv_from_device helper function,MERGED,2020-07-15 17:45:42.000000000,2020-07-17 10:06:22.000000000,2020-07-17 10:03:10.000000000,"[{'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 28372}]","[{'number': 1, 'created': '2020-07-15 17:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4905b94ad76f4d5bf69490c9fe6ce7c6cfe06f0e', 'message': '[ceph-osd] Add get_lv_from_device helper function\n\nThere was already a call to a nonexistent get_lv_from_device\nhelper function in get_lv_size_from_device. The get_lv_from_device\nfunction has been added and the line in get_lvm_tag_from_device\nthat gets the logical volume has been updated to use it.\n\nChange-Id: Ib34d7b1385e039d8c7bf82dcdb756bce2cc12bd2\n'}, {'number': 2, 'created': '2020-07-15 21:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9e2d33f0ddb214fdf87b8d0fe4997b572380cf07', 'message': '[ceph-osd] Add get_lv_from_device helper function\n\nThere was already an incorrect call to a nonexistent\nget_lv_from_device helper function in get_lv_size_from_device. The\nget_lv_from_device function has been added, the call to it in\nget_lv_size_from_device has been corrected,  and the line in\nget_lvm_tag_from_device that gets the logical volume has been\nupdated to use the new helper function.\n\nChange-Id: Ib34d7b1385e039d8c7bf82dcdb756bce2cc12bd2\n'}, {'number': 3, 'created': '2020-07-15 21:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7e41f4adb141070043d97dc1c2f45a159de7d278', 'message': '[ceph-osd] Add get_lv_from_device helper function\n\nThere was already an incorrect call to a nonexistent\nget_lv_from_device helper function in get_lv_size_from_device. The\nget_lv_from_device function has been added, the call to it in\nget_lv_size_from_device has been corrected, and the line in\nget_lvm_tag_from_device that gets the logical volume has been\nupdated to use the new helper function.\n\nChange-Id: Ib34d7b1385e039d8c7bf82dcdb756bce2cc12bd2\n'}, {'number': 4, 'created': '2020-07-16 21:14:31.000000000', 'files': ['ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/858a2b166fea155455bc84043673e36693357355', 'message': '[ceph-osd] Add get_lv_from_device helper function\n\nThere was already a call to a nonexistent get_lv_from_device helper\nfunction in get_lv_size_from_device. The get_lv_from_device function has\nbeen added and the line in get_lvm_tag_from_device that gets the logical\nvolume has been updated to use the new helper function.\n\nChange-Id: Ib34d7b1385e039d8c7bf82dcdb756bce2cc12bd2\n'}]",0,741289,858a2b166fea155455bc84043673e36693357355,21,6,4,29974,,,0,"[ceph-osd] Add get_lv_from_device helper function

There was already a call to a nonexistent get_lv_from_device helper
function in get_lv_size_from_device. The get_lv_from_device function has
been added and the line in get_lvm_tag_from_device that gets the logical
volume has been updated to use the new helper function.

Change-Id: Ib34d7b1385e039d8c7bf82dcdb756bce2cc12bd2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/89/741289/4 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl'],1,4905b94ad76f4d5bf69490c9fe6ce7c6cfe06f0e,,"# Helper function to get a logical volume from a physical volume function get_lv_from_device { device=""$1"" locked pvdisplay -m ${device} | awk '/Logical volume/{print $3}' } logical_volume=""get_lv_from_device ${device}"""," logical_volume=""$(locked pvdisplay -m ${device} | awk '/Logical volume/{print $3}')""",8,1
openstack%2Fopenstack-helm-infra~master~I87e1c1fe3d61680a73701d48f85e5c48c11b6325,openstack/openstack-helm-infra,master,I87e1c1fe3d61680a73701d48f85e5c48c11b6325,Remove the Elasticsearch Wait job from the chart,MERGED,2020-07-15 13:21:02.000000000,2020-07-17 10:00:56.000000000,2020-07-17 09:59:12.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30777}, {'_account_id': 31713}]","[{'number': 1, 'created': '2020-07-15 13:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bd8b6cb6287ca35b0fc7b8d2e3d887f34f5c0203', 'message': '[test] Remove the Elasticsearch Wait job from the chart\n\nChange-Id: I87e1c1fe3d61680a73701d48f85e5c48c11b6325\n'}, {'number': 2, 'created': '2020-07-15 13:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8a6d8db77439cd1b753ace01cfcc7ff7e15cefaa', 'message': '[test] Remove the Elasticsearch Wait job from the chart\n\nChange-Id: I87e1c1fe3d61680a73701d48f85e5c48c11b6325\n'}, {'number': 3, 'created': '2020-07-15 19:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ec1f01393ffce8e01b154743afb3d1d37fa6940c', 'message': 'Remove the Elasticsearch Wait job from the chart\n\nChange-Id: I87e1c1fe3d61680a73701d48f85e5c48c11b6325\n'}, {'number': 4, 'created': '2020-07-16 15:26:49.000000000', 'files': ['elasticsearch/templates/configmap-bin-elasticsearch.yaml', 'elasticsearch/templates/job-es-cluster-wait.yaml', 'elasticsearch/values.yaml', 'elasticsearch/values_overrides/apparmor.yaml', 'elasticsearch/templates/bin/_es-cluster-wait.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3257ed1db8fc83324756242122397a90bc82a2cc', 'message': ""Remove the Elasticsearch Wait job from the chart\n\nThe elastic-cluster-wait job was meant to serve as a dependency check\nfor a couple of other jobs, such that when this wait job was complete\nthe other jobs could procede successfully. This goal can be achieved\nby using our HTK init container's dependency check however.\n\nThe two jobs that waited on this wait job just need to use the\nelasticsearch API, which is available once the `elasticsearch-logging`\nservice has endpoints.\n\nChange-Id: I87e1c1fe3d61680a73701d48f85e5c48c11b6325\n""}]",0,741183,3257ed1db8fc83324756242122397a90bc82a2cc,17,6,4,30777,,,0,"Remove the Elasticsearch Wait job from the chart

The elastic-cluster-wait job was meant to serve as a dependency check
for a couple of other jobs, such that when this wait job was complete
the other jobs could procede successfully. This goal can be achieved
by using our HTK init container's dependency check however.

The two jobs that waited on this wait job just need to use the
elasticsearch API, which is available once the `elasticsearch-logging`
service has endpoints.

Change-Id: I87e1c1fe3d61680a73701d48f85e5c48c11b6325
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/83/741183/1 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/templates/configmap-bin-elasticsearch.yaml', 'elasticsearch/templates/job-es-cluster-wait.yaml', 'elasticsearch/values.yaml', 'elasticsearch/values_overrides/apparmor.yaml', 'elasticsearch/templates/bin/_es-cluster-wait.sh.tpl']",5,bd8b6cb6287ca35b0fc7b8d2e3d887f34f5c0203,,,"#!/bin/bash {{/* Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} function check_cluster_health() { RESPONSE=$(curl -s -K- <<< ""--user ${ELASTICSEARCH_USERNAME}:${ELASTICSEARCH_PASSWORD}"" \ ""${ELASTICSEARCH_HOST}/_cat/health?format=json&pretty"" ) echo ""Response: $RESPONSE"" STATUS=$(echo $RESPONSE | jq -r .[].status) echo ""Status: $STATUS"" } check_cluster_health while [[ $STATUS != ""yellow"" ]] && [[ $STATUS != ""green"" ]]; do echo ""Waiting for cluster to become ready."" sleep 30 check_cluster_health done echo ""Cluster is ready."" ",4,137
openstack%2Fbifrost~master~I4d7640a24fac9fca2c24bc06fcedff400d74ed8d,openstack/bifrost,master,I4d7640a24fac9fca2c24bc06fcedff400d74ed8d,selinux: allow nginx to read symbolic links,MERGED,2020-07-16 15:59:28.000000000,2020-07-17 09:52:43.000000000,2020-07-17 04:44:05.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-16 15:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0f1afaa318ead74cccf0e6fc98c3f897bd6a764a', 'message': 'selinux: allow nginx to read symbolic links\n\nThis is required to support netboot (which is off by default, but\nis useful together with the netboot fallback).\n\nChange-Id: I4d7640a24fac9fca2c24bc06fcedff400d74ed8d\n'}, {'number': 2, 'created': '2020-07-16 16:02:01.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/files/ironic_policy.te', 'releasenotes/notes/selinux-lnk_file-527ac51c60f9c2ad.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8210ff3696a82293e554f28f46b978bba9496db1', 'message': 'selinux: allow nginx to read symbolic links\n\nThis is required to support netboot (which is off by default, but\nis useful together with the netboot fallback).\n\nChange-Id: I4d7640a24fac9fca2c24bc06fcedff400d74ed8d\n'}]",0,741491,8210ff3696a82293e554f28f46b978bba9496db1,10,3,2,10239,,,0,"selinux: allow nginx to read symbolic links

This is required to support netboot (which is off by default, but
is useful together with the netboot fallback).

Change-Id: I4d7640a24fac9fca2c24bc06fcedff400d74ed8d
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/91/741491/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/files/ironic_policy.te'],1,0f1afaa318ead74cccf0e6fc98c3f897bd6a764a,selinux, class lnk_file read;allow httpd_t root_t:lnk_file read; allow httpd_t default_t:lnk_file read;,#!!!! This avc can be allowed using the boolean 'daemons_dump_core',3,1
openstack%2Fcharm-trilio-dm-api~master~I4805d8b5523305627cf4e5bf4880b95b2d7bf4bc,openstack/charm-trilio-dm-api,master,I4805d8b5523305627cf4e5bf4880b95b2d7bf4bc,Add Ussuri and Victoria test bundles,ABANDONED,2020-07-14 11:44:06.000000000,2020-07-17 09:43:46.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-14 11:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/d4a6e000edc768a89fd55bb94cfc777357b96f6f', 'message': 'Add Ussuri and Victoria test bundles\n\nAlso add focal to metadata.\n\nChange-Id: I4805d8b5523305627cf4e5bf4880b95b2d7bf4bc\n'}, {'number': 2, 'created': '2020-07-15 12:31:01.000000000', 'files': ['src/tests/bundles/bionic-ussuri-ssl.yaml', 'src/metadata.yaml', 'src/tests/bundles/focal-victoria-ssl.yaml', 'src/tests/bundles/focal-ussuri-ssl.yaml', 'src/tests/bundles/groovy-victoria-ssl.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/9b0a85cf3e52f1eeef60e047aa3dad4467f679c4', 'message': 'Add Ussuri and Victoria test bundles\n\nAlso add focal to metadata.\n\nChange-Id: I4805d8b5523305627cf4e5bf4880b95b2d7bf4bc\n'}]",0,740943,9b0a85cf3e52f1eeef60e047aa3dad4467f679c4,14,4,2,31289,,,0,"Add Ussuri and Victoria test bundles

Also add focal to metadata.

Change-Id: I4805d8b5523305627cf4e5bf4880b95b2d7bf4bc
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/43/740943/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-ussuri-ssl.yaml', 'src/metadata.yaml', 'src/tests/bundles/focal-ussuri-ssl.yaml', 'src/tests/bundles/focal-victoria-ssl.yaml', 'src/tests/bundles/groovy-victoria-ssl.yaml', 'src/tests/tests.yaml']",6,d4a6e000edc768a89fd55bb94cfc777357b96f6f,victoria-charm-tests, - bionic-ussuri-ssl - focal-ussuri-ssldev_bundles: - focal-victoria-ssl - groovy-victoria-ssltests_options: force_deploy: - groovy-victoria-ssl,,1327,0
openstack%2Fironic-python-agent~master~Icffc137ad96dbd331341c2ad936a84464a3343a4,openstack/ironic-python-agent,master,Icffc137ad96dbd331341c2ad936a84464a3343a4,Unified import rule，Using oslo_serialization instead of the json,ABANDONED,2019-05-14 09:16:29.000000000,2020-07-17 09:42:44.000000000,,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-14 09:16:29.000000000', 'files': ['ironic_python_agent/hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9ac40c374a369b37ee5dfab6bd6d530d7b427df9', 'message': 'Unified import rule，Using oslo_serialization instead of the json\n\nChange-Id: Icffc137ad96dbd331341c2ad936a84464a3343a4\n'}]",0,658995,9ac40c374a369b37ee5dfab6bd6d530d7b427df9,6,2,1,30387,,,0,"Unified import rule，Using oslo_serialization instead of the json

Change-Id: Icffc137ad96dbd331341c2ad936a84464a3343a4
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/95/658995/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,9ac40c374a369b37ee5dfab6bd6d530d7b427df9,,from oslo_serialization import jsonutils return jsonutils.loads(out),import json return json.loads(out),2,2
openstack%2Fcharm-trilio-horizon-plugin~master~Iaf49e0d0ef58ad85526bf26e3d4bc410bed7dc64,openstack/charm-trilio-horizon-plugin,master,Iaf49e0d0ef58ad85526bf26e3d4bc410bed7dc64,Add Ussuri and Victoria test bundles,ABANDONED,2020-07-14 10:17:03.000000000,2020-07-17 09:42:35.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-14 10:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-horizon-plugin/commit/c69a31c9a362cde965f1c22d028ba41fc5d0d0f5', 'message': 'Add Ussuri and Victoria test bundles\n\nChange-Id: Iaf49e0d0ef58ad85526bf26e3d4bc410bed7dc64\n'}, {'number': 2, 'created': '2020-07-14 11:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-horizon-plugin/commit/e8c3c73995cd974efc3bd561ffceca21da04ded9', 'message': 'Add Ussuri and Victoria test bundles\n\nChange-Id: Iaf49e0d0ef58ad85526bf26e3d4bc410bed7dc64\n'}, {'number': 3, 'created': '2020-07-14 11:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-horizon-plugin/commit/a66a3da0d9a05484d693fc5819a2df18af0d05f2', 'message': 'Add Ussuri and Victoria test bundles\n\nAlso add focal to metadata.\n\nChange-Id: Iaf49e0d0ef58ad85526bf26e3d4bc410bed7dc64\n'}, {'number': 4, 'created': '2020-07-15 12:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trilio-horizon-plugin/commit/801ec99e9215c573a733f9dff6ea7dd21a13a008', 'message': 'Add Ussuri and Victoria test bundles\n\nAlso add focal to metadata.\n\nChange-Id: Iaf49e0d0ef58ad85526bf26e3d4bc410bed7dc64\n'}, {'number': 5, 'created': '2020-07-15 17:10:16.000000000', 'files': ['src/tests/bundles/bionic-ussuri-ssl.yaml', 'src/metadata.yaml', 'src/tests/bundles/focal-victoria-ssl.yaml', 'src/tests/bundles/focal-ussuri-ssl.yaml', 'src/tests/bundles/groovy-victoria-ssl.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-horizon-plugin/commit/a1500deedb50ddb9736136ee2e40756994bad769', 'message': 'Add Ussuri and Victoria test bundles\n\nAlso add focal to metadata.\n\nChange-Id: Iaf49e0d0ef58ad85526bf26e3d4bc410bed7dc64\n'}]",0,740934,a1500deedb50ddb9736136ee2e40756994bad769,25,4,5,31289,,,0,"Add Ussuri and Victoria test bundles

Also add focal to metadata.

Change-Id: Iaf49e0d0ef58ad85526bf26e3d4bc410bed7dc64
",git fetch https://review.opendev.org/openstack/charm-trilio-horizon-plugin refs/changes/34/740934/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-ussuri-ssl.yaml', 'src/metadata.yaml', 'src/tests/bundles/focal-ussuri-ssl.yaml', 'src/tests/bundles/focal-victoria-ssl.yaml', 'src/tests/bundles/groovy-victoria-ssl.yaml', 'src/tests/tests.yaml']",6,c69a31c9a362cde965f1c22d028ba41fc5d0d0f5,victoria-charm-tests, - bionic-ussuri-ssl - focal-ussuri-ssldev_bundles: - focal-victoria-ssl - groovy-victoria-ssltests_options: force_deploy: - groovy-victoria,,1319,0
openstack%2Fpuppet-pacemaker~master~I2019b7f3f41796ec38e4bdf8f1943ce7fc111f60,openstack/puppet-pacemaker,master,I2019b7f3f41796ec38e4bdf8f1943ce7fc111f60,Fix typo in CRMDIFF_BIN,MERGED,2020-07-17 08:03:21.000000000,2020-07-17 09:34:21.000000000,2020-07-17 09:34:21.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 08:03:21.000000000', 'files': ['lib/puppet/provider/pcmk_common.rb'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/1bb2fe70b1e09dfb04ada5286d86d8d08de48f53', 'message': 'Fix typo in CRMDIFF_BIN\n\nFix obvious typo that slipped when killing warnings around redefinition\nof constants\n\nChange-Id: I2019b7f3f41796ec38e4bdf8f1943ce7fc111f60\n'}]",0,741596,1bb2fe70b1e09dfb04ada5286d86d8d08de48f53,7,3,1,20172,,,0,"Fix typo in CRMDIFF_BIN

Fix obvious typo that slipped when killing warnings around redefinition
of constants

Change-Id: I2019b7f3f41796ec38e4bdf8f1943ce7fc111f60
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/96/741596/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/pcmk_common.rb'],1,1bb2fe70b1e09dfb04ada5286d86d8d08de48f53,fix-typo,"CRMDIFF_BIN = ""#{prefix_path}crm_diff"" unless defined? CRMDIFF_BIN","CRMDIFF_BIN = ""#{prefix_path}crm_diff unless"" unless defined? CRMDIFF_BIN",1,1
openstack%2Ftripleo-ci~master~I1f930a9891cc1c2fe5c0e2418f2c3f80713d4e5c,openstack/tripleo-ci,master,I1f930a9891cc1c2fe5c0e2418f2c3f80713d4e5c,Add centos8 standalone-upgrade master and stable/ussuri jobs,MERGED,2020-07-01 13:13:52.000000000,2020-07-17 09:22:42.000000000,2020-07-17 09:22:42.000000000,"[{'_account_id': 6816}, {'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 12393}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-01 13:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0fcdf70ec752c3654720d828d50a086b9948b98c', 'message': 'Add centos8 standalone upgrade job for master ussuri and train\n\nAdd centos8 standalone upgrade jobs. Tracked by tripleo-ci at [1].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I1f930a9891cc1c2fe5c0e2418f2c3f80713d4e5c\n'}, {'number': 2, 'created': '2020-07-01 15:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a8b8cc7e0b18834863b675e035c4c0dfa3ddfc46', 'message': 'Add centos8 standalone upgrade & updates jobs master ussuri train\n\nAdd centos8 standalone upgrade jobs and container-updates jobs for\nstable ussuri/train. Jobs are added to the appropriate zuul layout.\nTracked by tripleo-ci at [1].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I1f930a9891cc1c2fe5c0e2418f2c3f80713d4e5c\n'}, {'number': 3, 'created': '2020-07-02 11:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7cf51ad000a079fd37bff8094d628cc726540d52', 'message': 'sort out centos8 upgrades and updates jobs master ussuri train\n\nAdd centos8 standalone upgrade jobs and container-updates jobs for\nstable ussuri/train. Jobs are added to the appropriate zuul layout.\nAlso adds scen0 multinode container upgrade jobs for ussuri/train\ncentos8\n\nTracked by tripleo-ci at [1].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I1f930a9891cc1c2fe5c0e2418f2c3f80713d4e5c\n'}, {'number': 4, 'created': '2020-07-02 11:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a6469741e7c9298a337af9ab29c55384ecc7a6d6', 'message': 'sort out centos8 upgrades and updates jobs master ussuri train\n\nAdd centos8 standalone upgrade jobs and container-updates jobs for\nstable ussuri/train. Jobs are added to the appropriate zuul layout.\nAlso adds scen0 multinode container upgrade jobs for ussuri/train\ncentos8\n\nTracked by tripleo-ci at [1].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I1f930a9891cc1c2fe5c0e2418f2c3f80713d4e5c\n'}, {'number': 5, 'created': '2020-07-02 11:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/26da3c4479a89435591698df4830dc4ffeec56bb', 'message': 'sort out centos8 upgrades and updates jobs master ussuri train\n\nAdd centos8 standalone upgrade jobs and container-updates jobs for\nstable ussuri/train. Jobs are added to the appropriate zuul layout.\nAlso adds scen0 multinode container upgrade jobs for ussuri/train\ncentos8\n\nTracked by tripleo-ci at [1].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I1f930a9891cc1c2fe5c0e2418f2c3f80713d4e5c\n'}, {'number': 6, 'created': '2020-07-03 10:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/62d5f426d69fd10e654657ee222afd0ccf3eb62f', 'message': 'sort out centos8 upgrades and updates jobs master ussuri train\n\nAdd centos8 standalone upgrade jobs and container-updates jobs for\nstable ussuri/train. Jobs are added to the appropriate zuul layout.\nAlso adds scen0 multinode container upgrade jobs for ussuri/train\ncentos8 and undercloud upgrades jobs.\n\nTracked by tripleo-ci at [1].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I1f930a9891cc1c2fe5c0e2418f2c3f80713d4e5c\n'}, {'number': 7, 'created': '2020-07-03 12:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/79222fb5328a0a9482d20621adeb4a2d0c148abb', 'message': 'Add centos8 standalone-upgrade & -train -ussuri jobs\n\nAdds the tripleo-ci-centos-8-standalone-upgrade as well as -ussuri\nand -train versions. These are non voting for now but -train and\n-ussuri will go voting asap as a followup. Thus only added to\ncheck not gate yet. Tracked by tripleo-ci at [1].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I1f930a9891cc1c2fe5c0e2418f2c3f80713d4e5c\n'}, {'number': 8, 'created': '2020-07-06 10:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6498123ba80876b7ec3d137e10a8fd5b15a8789f', 'message': 'Add centos8 standalone-upgrade & -train -ussuri jobs\n\nAdds the tripleo-ci-centos-8-standalone-upgrade as well as -ussuri\nand -train versions. These are non voting for now but -train and\n-ussuri will go voting asap as a followup. Thus only added to\ncheck not gate yet. Tracked by tripleo-ci at [1].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I1f930a9891cc1c2fe5c0e2418f2c3f80713d4e5c\n'}, {'number': 9, 'created': '2020-07-07 09:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3f2b2302695043af8c4142a3defd55fd5098bebd', 'message': 'Add centos8 standalone-upgrade master and stable/ussuri jobs\n\nAdds the tripleo-ci-centos-8-standalone-upgrade as well as -ussuri\nThese are non voting for now but -train and -ussuri will go voting\nasap as a followup. Thus only added to check not gate yet.\nTracked by tripleo-ci at [1].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I1f930a9891cc1c2fe5c0e2418f2c3f80713d4e5c\n'}, {'number': 10, 'created': '2020-07-08 09:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ad84c14da1f13536d51b1383ba0ecbe12e03ee70', 'message': 'Add centos8 standalone-upgrade master and stable/ussuri jobs\n\nAdds the tripleo-ci-centos-8-standalone-upgrade as well as -ussuri\nThese are non voting for now but -train and -ussuri will go voting\nasap as a followup. Thus only added to check not gate yet.\nTracked by tripleo-ci at [1].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I1f930a9891cc1c2fe5c0e2418f2c3f80713d4e5c\n'}, {'number': 11, 'created': '2020-07-13 11:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0984e0a2aa4eb5c9dae626b52c44025499f510c7', 'message': 'Add centos8 standalone-upgrade master and stable/ussuri jobs\n\nAdds the tripleo-ci-centos-8-standalone-upgrade as well as -ussuri\nThese are non voting for now but -train and -ussuri will go voting\nasap as a followup. Thus only added to check not gate yet.\nTracked by tripleo-ci at [1].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I1f930a9891cc1c2fe5c0e2418f2c3f80713d4e5c\n'}, {'number': 12, 'created': '2020-07-15 10:07:50.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1a84b757dffdf48d10d9f562efb7080588a0af8e', 'message': 'Add centos8 standalone-upgrade master and stable/ussuri jobs\n\nAdds the tripleo-ci-centos-8-standalone-upgrade as well as -ussuri\nThese are non voting for now but -train and -ussuri will go voting\nasap as a followup. Thus only added to check not gate yet.\nTracked by tripleo-ci at [1].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: I1f930a9891cc1c2fe5c0e2418f2c3f80713d4e5c\n'}]",14,738844,1a84b757dffdf48d10d9f562efb7080588a0af8e,53,13,12,8449,,,0,"Add centos8 standalone-upgrade master and stable/ussuri jobs

Adds the tripleo-ci-centos-8-standalone-upgrade as well as -ussuri
These are non voting for now but -train and -ussuri will go voting
asap as a followup. Thus only added to check not gate yet.
Tracked by tripleo-ci at [1].

[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817

Change-Id: I1f930a9891cc1c2fe5c0e2418f2c3f80713d4e5c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/44/738844/12 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,0fcdf70ec752c3654720d828d50a086b9948b98c,centos8_upgrades_jobs,- job: name: tripleo-ci-centos-8-standalone-upgrade parent: tripleo-ci-base-standalone-upgrade-centos-8 voting: false branches: ^master$ vars: featureset: '056' irrelevant-files: *upgrade_irrelevant - job: name: tripleo-ci-centos-8-standalone-upgrade-ussuri parent: tripleo-ci-base-standalone-upgrade-centos-8 voting: false branches: ^stable/ussuri$ override-checkout: 'stable/ussuri' vars: featureset: '056' irrelevant-files: *upgrade_irrelevant - job: name: tripleo-ci-centos-8-standalone-upgrade-train parent: tripleo-ci-base-standalone-upgrade-centos-8 voting: false branches: ^stable/train$ override-checkout: 'stable/train' vars: featureset: '056' irrelevant-files: *upgrade_irrelevant - tripleo-ci-centos-8-standalone-upgrade - tripleo-ci-centos-8-standalone-upgrade-ussuri - tripleo-ci-centos-8-standalone-upgrade-train,,32,0
openstack%2Fneutron~master~I57feb9730ef59c2d1110955b5b83a8748d830f50,openstack/neutron,master,I57feb9730ef59c2d1110955b5b83a8748d830f50,[WIP] Floating IP for routed networks,ABANDONED,2020-07-16 10:42:17.000000000,2020-07-17 09:07:56.000000000,,"[{'_account_id': 4187}, {'_account_id': 6476}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 10:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6183499c0b76416179fdeb1c80f91b3a06f278d9', 'message': ""[WIP] Floating IP for routed networks\n\nThis change is a proof-of-concept for enabling floating IP's on routed\nnetworks. To be able to create a subnet that spans all segments of a\nrouted network, a special subnet service type of 'network:routed' is\nused to denote a network that can span all segments of a routed network.\nTo create floating IP's on a routed network, the subnet must be created\nwith a service_type of 'network:routed'. After the subnet has been\ncreated, floating IP's can be allocated and associated as before.\nSee the design spec https://review.opendev.org/#/c/486450/ for\nreference.\n\nOne caveat for this approach is that it requires the underlying\ninfrastructure to be aware of and able to route /32 host routes\nfor the floating IP. This implies that in practice, use of the\n'network:routed' service type should be done in conjunction with\none or both of the following:\n\n1. Third-party SDN backend that handles this service type in its\n   own way\n2. neutron-dynamic-routing and the BGP service plugin for announcing\n   the appropriate next-hops for floating IP's. This is compatible\n   with DVR and non-DVR environments.\n\nChange-Id: I57feb9730ef59c2d1110955b5b83a8748d830f50\nPartial-Bug: #1667329\n""}, {'number': 2, 'created': '2020-07-16 10:50:03.000000000', 'files': ['neutron/tests/unit/db/test_ipam_backend_mixin.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/objects/subnet.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b9033b5a9879e15db5a70297a3105222bcb2891', 'message': ""[WIP] Floating IP for routed networks\n\nThis change is a proof-of-concept for enabling floating IP's on routed\nnetworks. To be able to create a subnet that spans all segments of a\nrouted network, a special subnet service type of 'network:routed' is\nused to denote a network that can span all segments of a routed network.\nTo create floating IP's on a routed network, the subnet must be created\nwith a service_type of 'network:routed'. After the subnet has been\ncreated, floating IP's can be allocated and associated as before.\nSee the design spec https://review.opendev.org/#/c/486450/ for\nreference.\n\nOne caveat for this approach is that it requires the underlying\ninfrastructure to be aware of and able to route /32 host routes\nfor the floating IP. This implies that in practice, use of the\n'network:routed' service type should be done in conjunction with\none or both of the following:\n\n1. Third-party SDN backend that handles this service type in its\n   own way\n2. neutron-dynamic-routing and the BGP service plugin for announcing\n   the appropriate next-hops for floating IP's. This is compatible\n   with DVR and non-DVR environments.\n\nChange-Id: I57feb9730ef59c2d1110955b5b83a8748d830f50\nPartial-Bug: #1667329\n""}]",2,741429,2b9033b5a9879e15db5a70297a3105222bcb2891,11,5,2,6476,,,0,"[WIP] Floating IP for routed networks

This change is a proof-of-concept for enabling floating IP's on routed
networks. To be able to create a subnet that spans all segments of a
routed network, a special subnet service type of 'network:routed' is
used to denote a network that can span all segments of a routed network.
To create floating IP's on a routed network, the subnet must be created
with a service_type of 'network:routed'. After the subnet has been
created, floating IP's can be allocated and associated as before.
See the design spec https://review.opendev.org/#/c/486450/ for
reference.

One caveat for this approach is that it requires the underlying
infrastructure to be aware of and able to route /32 host routes
for the floating IP. This implies that in practice, use of the
'network:routed' service type should be done in conjunction with
one or both of the following:

1. Third-party SDN backend that handles this service type in its
   own way
2. neutron-dynamic-routing and the BGP service plugin for announcing
   the appropriate next-hops for floating IP's. This is compatible
   with DVR and non-DVR environments.

Change-Id: I57feb9730ef59c2d1110955b5b83a8748d830f50
Partial-Bug: #1667329
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/741429/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_ipam_backend_mixin.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/objects/subnet.py']",3,6183499c0b76416179fdeb1c80f91b3a06f278d9,bug/1667329," @classmethod def get_subnet_segment_ids(cls, context, network_id, filtered_service_type=None): query = context.session.query(cls.db_model.segment_id) query = query.filter(cls.db_model.network_id == network_id) if filtered_service_type: service_type_model = SubnetServiceType.db_model query = query.filter(~exists().where(and_( cls.db_model.id == service_type_model.subnet_id, service_type_model.service_type == filtered_service_type))) return [segment_id for (segment_id,) in query.all()] ",,20,3
openstack%2Fvalidations-common~master~I4a016387722a565eaacc5b90d3988811ee3f49d3,openstack/validations-common,master,I4a016387722a565eaacc5b90d3988811ee3f49d3,Add validation.py as script in setup.cfg,MERGED,2020-07-09 12:07:19.000000000,2020-07-17 08:59:54.000000000,2020-07-17 08:59:54.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-09 12:07:19.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/57eec174977bd98d6848500b00592eb625aaec35', 'message': 'Add validation.py as script in setup.cfg\n\nChange-Id: I4a016387722a565eaacc5b90d3988811ee3f49d3\n'}]",0,740258,57eec174977bd98d6848500b00592eb625aaec35,7,3,1,16515,,,0,"Add validation.py as script in setup.cfg

Change-Id: I4a016387722a565eaacc5b90d3988811ee3f49d3
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/58/740258/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,57eec174977bd98d6848500b00592eb625aaec35,cli/script,scripts = validations_common/validation.py ,,3,0
openstack%2Fneutron~stable%2Fstein~Ief52fac479d4b3cfa5f90118235c241a14b1011f,openstack/neutron,stable/stein,Ief52fac479d4b3cfa5f90118235c241a14b1011f,[stable only] Configure logging in keepalived_state_change,MERGED,2020-07-03 17:43:15.000000000,2020-07-17 08:37:41.000000000,2020-07-17 08:35:07.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-03 17:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/801958b877c991be689f219933bb68f14fa8287e', 'message': 'Configure logging in keepalived_state_change\n\nIn versions prior to Train, the ""keepalived-state-change"" monitor\ndoes not format correctly the log messages. That happens when the\n""Daemon.run()"" method executes ""unwatch_log"". After the privileges\nare dropped, the logging should be configured again.\n\nChange-Id: Ief52fac479d4b3cfa5f90118235c241a14b1011f\nCloses-Bug: #1886216\n'}, {'number': 2, 'created': '2020-07-06 10:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/16b3a3d8589099bfec00b4def0b37b1d306090e8', 'message': 'Configure logging in keepalived_state_change\n\nIn versions prior to Train, the ""keepalived-state-change"" monitor\ndoes not format correctly the log messages. That happens when the\n""Daemon.run()"" method executes ""unwatch_log"". After the privileges\nare dropped, the logging should be configured again.\n\nChange-Id: Ief52fac479d4b3cfa5f90118235c241a14b1011f\nCloses-Bug: #1886216\n'}, {'number': 3, 'created': '2020-07-14 17:40:10.000000000', 'files': ['neutron/agent/l3/keepalived_state_change.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6fd89dacf3b1a14e8f4b49ee719edc23981536d5', 'message': '[stable only] Configure logging in keepalived_state_change\n\nIn versions prior to Train, the ""keepalived-state-change"" monitor\ndoes not format correctly the log messages. That happens when the\n""Daemon.run()"" method executes ""unwatch_log"". After the privileges\nare dropped, the logging should be configured again.\n\nChange-Id: Ief52fac479d4b3cfa5f90118235c241a14b1011f\nCloses-Bug: #1886216\n'}]",2,739267,6fd89dacf3b1a14e8f4b49ee719edc23981536d5,33,7,3,16688,,,0,"[stable only] Configure logging in keepalived_state_change

In versions prior to Train, the ""keepalived-state-change"" monitor
does not format correctly the log messages. That happens when the
""Daemon.run()"" method executes ""unwatch_log"". After the privileges
are dropped, the logging should be configured again.

Change-Id: Ief52fac479d4b3cfa5f90118235c241a14b1011f
Closes-Bug: #1886216
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/739267/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/config.py', 'neutron/agent/l3/keepalived_state_change.py']",2,801958b877c991be689f219933bb68f14fa8287e,bug/1886216, config.setup_logging(log_initial_info=False),,5,1
openstack%2Fneutron~stable%2Frocky~I1b6154b9433a9442d3e0118dedfa01c4a9b4740b,openstack/neutron,stable/rocky,I1b6154b9433a9442d3e0118dedfa01c4a9b4740b,Don't add arp responder for non tunnel network port,MERGED,2020-07-10 10:26:28.000000000,2020-07-17 08:35:10.000000000,2020-07-17 08:35:10.000000000,"[{'_account_id': 4694}, {'_account_id': 19956}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 29071}]","[{'number': 1, 'created': '2020-07-10 10:26:28.000000000', 'files': ['neutron/plugins/ml2/drivers/l2pop/mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ac6d5fbaed1859abe0847f3d33594df8807b0aa', 'message': ""Don't add arp responder for non tunnel network port\n\nWhen the vlan and vxlan both exist in env, and l2population\nand arp_responder are enabled, if we update a port's ip address\nfrom vlan network, there will be arp responder related flows\nadded into br-tun, this will cause too many arp reply for\none arp request, and vm connections will be unnormal.\n\nCloses-Bug: #1824504\nChange-Id: I1b6154b9433a9442d3e0118dedfa01c4a9b4740b\n(cherry picked from commit 5301ecf41b18e83abdc3c828cd64ce0111f9fcd1)\n""}]",0,740438,0ac6d5fbaed1859abe0847f3d33594df8807b0aa,13,5,1,29071,,,0,"Don't add arp responder for non tunnel network port

When the vlan and vxlan both exist in env, and l2population
and arp_responder are enabled, if we update a port's ip address
from vlan network, there will be arp responder related flows
added into br-tun, this will cause too many arp reply for
one arp request, and vm connections will be unnormal.

Closes-Bug: #1824504
Change-Id: I1b6154b9433a9442d3e0118dedfa01c4a9b4740b
(cherry picked from commit 5301ecf41b18e83abdc3c828cd64ce0111f9fcd1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/740438/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/l2pop/mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py']",2,0ac6d5fbaed1859abe0847f3d33594df8807b0aa,bug/1824504-stable/rocky," def test_fixed_ips_changed_vlan(self): self._register_ml2_agents() with self.subnet(network=self._network2) as subnet: host_arg = {portbindings.HOST_ID: HOST} fixed_ips = [{'subnet_id': subnet['subnet']['id'], 'ip_address': '10.0.0.2'}] with self.port(subnet=subnet, cidr='10.0.0.0/24', device_owner=DEVICE_OWNER_COMPUTE, arg_list=(portbindings.HOST_ID,), fixed_ips=fixed_ips, **host_arg) as port: p = port['port'] device = 'tap' + p['id'] self.callbacks.update_device_up(self.adminContext, agent_id=HOST, device=device) data = {'port': {'fixed_ips': [{'ip_address': '10.0.0.2'}, {'ip_address': '10.0.0.10'}]}} self.new_update_request('ports', data, p['id']) l2pop_mech = l2pop_mech_driver.L2populationMechanismDriver() l2pop_mech.L2PopulationAgentNotify = mock.Mock() l2notify = l2pop_mech.L2PopulationAgentNotify l2notify.update_fdb_entries = mock.Mock() self.assertFalse(l2notify.update_fdb_entries.called) ",,36,0
openstack%2Fironic-prometheus-exporter~master~Ie8f795e8ff13461e14ff8b9e5bcf3b0ed8b629f5,openstack/ironic-prometheus-exporter,master,Ie8f795e8ff13461e14ff8b9e5bcf3b0ed8b629f5,"Prometheus-exporter to use DevStack's neutron""-legacy"" module",MERGED,2020-07-16 15:02:59.000000000,2020-07-17 08:14:29.000000000,2020-07-17 08:10:00.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-16 15:02:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/7f799a3111aa14186b72605d4f272e60aadfd984', 'message': 'Prometheus-exporter to use DevStack\'s neutron""-legacy"" module\n\nIn the last PTG the Neutron team discussed and decided to undeprecate\nthe neutron-legacy module in DevStack because that\'s the module being\nused (almost) everywhere and it works. The lib/neutron was an attempt\nto refactor the old module but, in the last few years it hasn\'t gained\nany traction and due to the lack of features and people to work on it,\nit\'s going to be removed from DevStack eventually.\n\nBelow is a snippet from the PTG summary email [0] about this topic:\n\n<snippet>\nIn Devstack there are currently 2 modules which can configure\nNeutron. Old one called ""lib/neutron-legacy"" and the new one called\n""lib/neutron"". It is like that since many cycles that\n""lib/neutron-legacy""\nis deprecated. But it is still used everywhwere. New module isn\'t still\nfinished and isn\'t working fine.  This is very confusing for users as\nreally maintained and recommended is still ""lib/neutron-legacy"" module.\n\nDuring the discussion Sean Collins explained us that originally this\nnew module was created as an attempt to refactor old module, and to\nmake Neutron in the Devstack better to maintain. But now we see that\nthis process failed as new module isn\'t still used and we don\'t have\nany cycles to work on it. So our final conclusion is to ""undeprecate""\nold ""lib/neutron-legacy"" and get rid of the new module.\n</snippet>\n\nThis patch changes the ironic-prometheus-exporter jobs to use the old\nNeutron module in DevStack.\n\n[0]\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-June/015368.html\n[1]\nhttp://codesearch.openstack.org/?q=neutron-api%3A%20true&i=nope&files=&repos=\n\nChange-Id: Ie8f795e8ff13461e14ff8b9e5bcf3b0ed8b629f5\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,741477,7f799a3111aa14186b72605d4f272e60aadfd984,9,3,1,6773,,,0,"Prometheus-exporter to use DevStack's neutron""-legacy"" module

In the last PTG the Neutron team discussed and decided to undeprecate
the neutron-legacy module in DevStack because that's the module being
used (almost) everywhere and it works. The lib/neutron was an attempt
to refactor the old module but, in the last few years it hasn't gained
any traction and due to the lack of features and people to work on it,
it's going to be removed from DevStack eventually.

Below is a snippet from the PTG summary email [0] about this topic:

<snippet>
In Devstack there are currently 2 modules which can configure
Neutron. Old one called ""lib/neutron-legacy"" and the new one called
""lib/neutron"". It is like that since many cycles that
""lib/neutron-legacy""
is deprecated. But it is still used everywhwere. New module isn't still
finished and isn't working fine.  This is very confusing for users as
really maintained and recommended is still ""lib/neutron-legacy"" module.

During the discussion Sean Collins explained us that originally this
new module was created as an attempt to refactor old module, and to
make Neutron in the Devstack better to maintain. But now we see that
this process failed as new module isn't still used and we don't have
any cycles to work on it. So our final conclusion is to ""undeprecate""
old ""lib/neutron-legacy"" and get rid of the new module.
</snippet>

This patch changes the ironic-prometheus-exporter jobs to use the old
Neutron module in DevStack.

[0]
http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015368.html
[1]
http://codesearch.openstack.org/?q=neutron-api%3A%20true&i=nope&files=&repos=

Change-Id: Ie8f795e8ff13461e14ff8b9e5bcf3b0ed8b629f5
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/77/741477/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7f799a3111aa14186b72605d4f272e60aadfd984,neutron-legacy, q-agt: true q-dhcp: true q-l3: true q-meta: true q-metering: true q-svc: true, q-agt: false q-dhcp: false q-l3: false q-meta: false q-metering: false q-svc: false neutron-api: true neutron-agent: true neutron-dhcp: true neutron-l3: true neutron-metadata-agent: true neutron-metering: true,6,12
openstack%2Fneutron~master~I51050c600ba7090fea71213687d94340bac0674a,openstack/neutron,master,I51050c600ba7090fea71213687d94340bac0674a,Do not block connection between br-int and br-phys on startup,MERGED,2020-06-04 11:55:38.000000000,2020-07-17 08:04:34.000000000,2020-06-29 15:53:22.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29071}]","[{'number': 1, 'created': '2020-06-04 11:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d63c8fd306092fbf095fb5e62fd4f15c4b6c7a9', 'message': ""Do not block connection between br-int and br-phys\n\nBlock traffic between br-int and br-physical is over kill\nand will at least\n\n1. interrupt vlan flow during startup, and is particularly\nso if dvr enabled\n2. if let's rabbitmq is not stable, it is possible data plane\nwill be affected and vlan will never work.\n\nUsing openstack on k8s particularly amplifies the problem\nbecause pod could be killed pretty easily by liveness\nprobes.\n\nChange-Id: I51050c600ba7090fea71213687d94340bac0674a\n""}, {'number': 2, 'created': '2020-06-04 11:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a86b303db00c7ff98cba32426abf9e17231930f0', 'message': ""Do not block connection between br-int and br-phys on startup\n\nBlock traffic between br-int and br-physical is over kill\nand will at least\n\n1. interrupt vlan flow during startup, and is particularly\nso if dvr enabled\n2. if let's rabbitmq is not stable, it is possible data plane\nwill be affected and vlan will never work.\n\nUsing openstack on k8s particularly amplifies the problem\nbecause pod could be killed pretty easily by liveness\nprobes.\n\nChange-Id: I51050c600ba7090fea71213687d94340bac0674a\nCloses-Bug: #1869808\n""}, {'number': 3, 'created': '2020-06-06 11:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a811146b85457848e58ed98399cfb49e336bc599', 'message': ""Do not block connection between br-int and br-phys on startup\n\nBlock traffic between br-int and br-physical is over kill\nand will at least\n\n1. interrupt vlan flow during startup, and is particularly\nso if dvr enabled\n2. if let's rabbitmq is not stable, it is possible data plane\nwill be affected and vlan will never work.\n\nUsing openstack on k8s particularly amplifies the problem\nbecause pod could be killed pretty easily by liveness\nprobes.\n\nChange-Id: I51050c600ba7090fea71213687d94340bac0674a\nCloses-Bug: #1869808\n""}, {'number': 4, 'created': '2020-06-18 08:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb45112d37a9fe3ad404ca8242aba7b975537d48', 'message': ""Do not block connection between br-int and br-phys on startup\n\nBlock traffic between br-int and br-physical is over kill\nand will at least\n\n1. interrupt vlan flow during startup, and is particularly\nso if dvr enabled\n2. if let's rabbitmq is not stable, it is possible data plane\nwill be affected and vlan will never work.\n\nUsing openstack on k8s particularly amplifies the problem\nbecause pod could be killed pretty easily by liveness\nprobes.\n\nChange-Id: I51050c600ba7090fea71213687d94340bac0674a\nCloses-Bug: #1869808\n""}, {'number': 5, 'created': '2020-06-18 12:51:11.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/90212b12cdf62e92d811997ebba699cab431d696', 'message': ""Do not block connection between br-int and br-phys on startup\n\nBlock traffic between br-int and br-physical is over kill\nand will at least\n\n1. interrupt vlan flow during startup, and is particularly\nso if dvr enabled\n2. if let's rabbitmq is not stable, it is possible data plane\nwill be affected and vlan will never work.\n\nUsing openstack on k8s particularly amplifies the problem\nbecause pod could be killed pretty easily by liveness\nprobes.\n\nChange-Id: I51050c600ba7090fea71213687d94340bac0674a\nCloses-Bug: #1869808\n""}]",16,733568,90212b12cdf62e92d811997ebba699cab431d696,64,14,5,29071,,,0,"Do not block connection between br-int and br-phys on startup

Block traffic between br-int and br-physical is over kill
and will at least

1. interrupt vlan flow during startup, and is particularly
so if dvr enabled
2. if let's rabbitmq is not stable, it is possible data plane
will be affected and vlan will never work.

Using openstack on k8s particularly amplifies the problem
because pod could be killed pretty easily by liveness
probes.

Change-Id: I51050c600ba7090fea71213687d94340bac0674a
Closes-Bug: #1869808
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/733568/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,1d63c8fd306092fbf095fb5e62fd4f15c4b6c7a9,bug/1869808,," # These two drop flows are the root cause for the bug #1803919. # And now we add a rpc check during agent start procedure. If # ovs agent can not reach any neutron server, or all neutron # servers are down, these flows will not be installed anymore. # Bug #1803919 was fixed in that way. # And as a reminder, we can not do much work on this. Because # the bridge mappings can be varied. Provider (external) network # can be implicitly set on any physical bridge due to the basic # NORMAL flow. Different vlan range networks can also have many # bridge map settings, these tenant network traffic can also be # blocked by the following drop flows. # block all untranslated traffic between bridges self.int_br.drop_port(in_port=int_ofport) br.drop_port(in_port=phys_ofport) ",0,15
openstack%2Ftripleo-ci~master~I9b3a4074aa8261dde55ad9c01faf94a0e918ace1,openstack/tripleo-ci,master,I9b3a4074aa8261dde55ad9c01faf94a0e918ace1,"Revert ""set minion job to nv for now""",MERGED,2020-07-13 12:07:18.000000000,2020-07-17 07:52:41.000000000,2020-07-17 07:52:41.000000000,"[{'_account_id': 3153}, {'_account_id': 5263}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-07-13 12:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d364a6506d298c5d03dd998a54226031a18831bd', 'message': 'Revert ""set minion job to nv for now""\n\nThe job should be voting now.\n\nThis reverts commit bd70935df50967507ba00047e89d859393159288.\n\nChange-Id: I9b3a4074aa8261dde55ad9c01faf94a0e918ace1\n'}, {'number': 2, 'created': '2020-07-15 02:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/820928d89b9aeb9ff11dd5a97eaf98a1b5c3e70e', 'message': 'Revert ""set minion job to nv for now""\n\nThe job should be voting now.\n\nThis reverts commit bd70935df50967507ba00047e89d859393159288.\n\nChange-Id: I9b3a4074aa8261dde55ad9c01faf94a0e918ace1\n'}, {'number': 3, 'created': '2020-07-16 02:06:44.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d5793a19a245fdb173e13b2725e28746769614ef', 'message': 'Revert ""set minion job to nv for now""\n\nThe job should be voting now.\n\nThis reverts commit bd70935df50967507ba00047e89d859393159288.\n\nChange-Id: I9b3a4074aa8261dde55ad9c01faf94a0e918ace1\n'}]",0,740682,d5793a19a245fdb173e13b2725e28746769614ef,28,10,3,3153,,,0,"Revert ""set minion job to nv for now""

The job should be voting now.

This reverts commit bd70935df50967507ba00047e89d859393159288.

Change-Id: I9b3a4074aa8261dde55ad9c01faf94a0e918ace1
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/82/740682/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,d364a6506d298c5d03dd998a54226031a18831bd,, - tripleo-ci-centos-8-containers-undercloud-minion: irrelevant-files: *multinode_ignored, voting: false,2,1
openstack%2Fcharm-masakari-monitors~master~I78bbc765a67e8f92a618a7be1aed86b37f41051d,openstack/charm-masakari-monitors,master,I78bbc765a67e8f92a618a7be1aed86b37f41051d,Remove duplicate dependency: Jinja2,MERGED,2020-07-13 20:43:32.000000000,2020-07-17 07:34:31.000000000,2020-07-17 07:34:31.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-13 20:43:32.000000000', 'files': ['src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/0f7e7851657e8c9f7e1ec1e0fec8a40c42d0a940', 'message': 'Remove duplicate dependency: Jinja2\n\nChange-Id: I78bbc765a67e8f92a618a7be1aed86b37f41051d\nCloses-Bug: #1885935\n'}]",0,740807,0f7e7851657e8c9f7e1ec1e0fec8a40c42d0a940,13,4,1,20805,,,0,"Remove duplicate dependency: Jinja2

Change-Id: I78bbc765a67e8f92a618a7be1aed86b37f41051d
Closes-Bug: #1885935
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/07/740807/1 && git format-patch -1 --stdout FETCH_HEAD,['src/wheelhouse.txt'],1,0f7e7851657e8c9f7e1ec1e0fec8a40c42d0a940,bug/1885935,, jinja2,0,2
openstack%2Freleases~master~Ia5ef18024c16195b2561f480f3352ec9ef613224,openstack/releases,master,Ia5ef18024c16195b2561f480f3352ec9ef613224,Release openstackdocstheme 2.2.5,MERGED,2020-07-16 21:28:06.000000000,2020-07-17 07:30:51.000000000,2020-07-17 07:30:51.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-16 21:28:06.000000000', 'files': ['deliverables/_independent/openstackdocstheme.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/805b89697562427a3d40fc94a51a88df23054055', 'message': 'Release openstackdocstheme 2.2.5\n\nThe StarlingX docs site utilizes a theme variant within the\nopenstackdocstheme repo, but consumes packaged releases. A recent\nchange merged to add a version drop-down, and the StarlingX\ncommunity would appreciate a new openstackdocstheme release to make\nuse of it.\n\nChange-Id: Ia5ef18024c16195b2561f480f3352ec9ef613224\n'}]",0,741550,805b89697562427a3d40fc94a51a88df23054055,8,4,1,5263,,,0,"Release openstackdocstheme 2.2.5

The StarlingX docs site utilizes a theme variant within the
openstackdocstheme repo, but consumes packaged releases. A recent
change merged to add a version drop-down, and the StarlingX
community would appreciate a new openstackdocstheme release to make
use of it.

Change-Id: Ia5ef18024c16195b2561f480f3352ec9ef613224
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/741550/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/openstackdocstheme.yaml'],1,805b89697562427a3d40fc94a51a88df23054055,starlingx-docs, - version: 2.2.5 projects: - repo: openstack/openstackdocstheme hash: 0ef4eb20b4c74c70b934e6dca48525328c0577dd,,4,0
openstack%2Ftrove~master~I0ddd7214dae6e29ddfaf045fdb282f4980a8afff,openstack/trove,master,I0ddd7214dae6e29ddfaf045fdb282f4980a8afff,Support backup strategy API,MERGED,2020-07-15 22:31:49.000000000,2020-07-17 07:16:36.000000000,2020-07-17 07:12:00.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 22:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/5b28fe3a74099401da1060b894820c7b1e6c5413', 'message': 'Support swift container name for creating backup\n\nChange-Id: I0ddd7214dae6e29ddfaf045fdb282f4980a8afff\n'}, {'number': 2, 'created': '2020-07-16 11:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6c8758afae0e305e2af11425fbaabac4b570b4e0', 'message': 'Support backup strategy API\n\nChange-Id: I0ddd7214dae6e29ddfaf045fdb282f4980a8afff\n'}, {'number': 3, 'created': '2020-07-16 23:36:11.000000000', 'files': ['api-ref/source/parameters.yaml', 'trove/tests/unittests/backup/test_backup_models.py', 'trove/common/strategies/storage/__init__.py', 'trove/common/policies/backups.py', 'doc/source/user/backup-db-incremental.rst', 'trove/backup/views.py', 'doc/source/user/backup-db.rst', 'trove/common/strategies/storage/swift.py', 'trove/common/api.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/backup/models.py', 'trove/common/cfg.py', 'trove/common/policies/base.py', 'trove/common/exception.py', 'doc/source/user/index.rst', 'api-ref/source/index.rst', 'api-ref/source/samples/backup-strategy-create-request.json', 'releasenotes/notes/victoria-support-backup-strategy.yaml', 'api-ref/source/backup-strategy.inc', 'trove/db/sqlalchemy/mappers.py', 'api-ref/source/backups.inc', 'trove/tests/scenario/runners/guest_log_runners.py', 'backup/main.py', '.zuul.yaml', 'api-ref/source/samples/backup-strategy-list-response.json', 'trove/common/apischema.py', 'trove/tests/unittests/taskmanager/test_models.py', 'trove/backup/service.py', 'trove/tests/api/instances_actions.py', 'trove/taskmanager/models.py', 'api-ref/source/samples/backup-strategy-create-response.json', 'tox.ini', 'trove/db/sqlalchemy/migrate_repo/versions/045_add_backup_strategy.py', 'trove/common/strategies/storage/base.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/828e873846495df6d6911f9c196ae1fb478492f5', 'message': 'Support backup strategy API\n\nChange-Id: I0ddd7214dae6e29ddfaf045fdb282f4980a8afff\n'}]",0,741334,828e873846495df6d6911f9c196ae1fb478492f5,11,2,3,6732,,,0,"Support backup strategy API

Change-Id: I0ddd7214dae6e29ddfaf045fdb282f4980a8afff
",git fetch https://review.opendev.org/openstack/trove refs/changes/34/741334/3 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'trove/tests/unittests/backup/test_backup_models.py', 'trove/common/strategies/storage/__init__.py', 'trove/common/policies/backups.py', 'doc/source/user/backup-db-incremental.rst', 'trove/backup/views.py', 'doc/source/user/backup-db.rst', 'trove/common/strategies/storage/swift.py', 'trove/common/api.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/backup/models.py', 'trove/common/cfg.py', 'trove/common/policies/base.py', 'trove/common/exception.py', 'api-ref/source/index.rst', 'api-ref/source/samples/backup-strategy-create-request.json', 'releasenotes/notes/victoria-support-backup-strategy.yaml', 'api-ref/source/backup-strategy.inc', 'trove/db/sqlalchemy/mappers.py', 'api-ref/source/backups.inc', 'trove/tests/scenario/runners/guest_log_runners.py', 'backup/main.py', '.zuul.yaml', 'api-ref/source/samples/backup-strategy-list-response.json', 'trove/common/apischema.py', 'trove/tests/unittests/taskmanager/test_models.py', 'trove/backup/service.py', 'trove/tests/api/instances_actions.py', 'trove/taskmanager/models.py', 'api-ref/source/samples/backup-strategy-create-response.json', 'tox.ini', 'trove/db/sqlalchemy/migrate_repo/versions/045_add_backup_strategy.py', 'trove/common/strategies/storage/base.py']",33,5b28fe3a74099401da1060b894820c7b1e6c5413,container-name,,"# Copyright 2013 Hewlett-Packard Development Company, L.P. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import abc from trove.common.strategies.strategy import Strategy class Storage(Strategy): """"""Base class for Storage Strategy implementation."""""" __strategy_type__ = 'storage' __strategy_ns__ = 'trove.common.strategies.storage' def __init__(self, context): self.context = context super(Storage, self).__init__() @abc.abstractmethod def save(self, filename, stream, metadata=None): """"""Persist information from the stream."""""" @abc.abstractmethod def load(self, location, backup_checksum): """"""Load a stream from a persisted storage location."""""" @abc.abstractmethod def load_metadata(self, location, backup_checksum): """"""Load metadata for a persisted object."""""" @abc.abstractmethod def save_metadata(self, location, metadata={}): """"""Save metadata for a persisted object."""""" ",575,429
openstack%2Fironic~master~I16ccefd5ac18cda99fa58415153ddbf0276041fc,openstack/ironic,master,I16ccefd5ac18cda99fa58415153ddbf0276041fc,DNM: Just test the patch under with devstack change,NEW,2020-07-15 14:34:58.000000000,2020-07-17 07:13:51.000000000,,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-15 14:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bec951bf2f3e07c902eb3f2e364396919353752d', 'message': 'DNM: Just test the patch under with devstack change\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: I16ccefd5ac18cda99fa58415153ddbf0276041fc\n'}, {'number': 2, 'created': '2020-07-16 13:20:25.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e7a9fd33441a497adcbae079b8007fde38593af8', 'message': 'DNM: Just test the patch under with devstack change\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: I16ccefd5ac18cda99fa58415153ddbf0276041fc\n'}]",0,741226,e7a9fd33441a497adcbae079b8007fde38593af8,8,3,2,8655,,,0,"DNM: Just test the patch under with devstack change

Depends-On: https://review.opendev.org/#/c/735097
Change-Id: I16ccefd5ac18cda99fa58415153ddbf0276041fc
",git fetch https://review.opendev.org/openstack/ironic refs/changes/26/741226/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bec951bf2f3e07c902eb3f2e364396919353752d,ovn-devstack,,,1,0
openstack%2Ftripleo-common~stable%2Fussuri~I29d3a2ed0bdfce412ebef549c29053754763e555,openstack/tripleo-common,stable/ussuri,I29d3a2ed0bdfce412ebef549c29053754763e555,Drop systemd support from nsswitch.conf,MERGED,2020-07-07 13:26:35.000000000,2020-07-17 07:13:37.000000000,2020-07-17 07:07:53.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-07 13:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aee3550fab80a574dc7c2de2a519afd703a94101', 'message': 'Drop systemd support from nsswitch.conf\n\nA bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we\nshould remove the nss-systemd lookup from containers. The reasons for\nthis are as follows:\n1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5\nwhen this nss module is triggered it tries to talk to dbus.\nIt triggers a bunch of selinux denials and it makes little sense\nto open all containers to talk to dbus.\nIn particular, if a container is run as non-privileged and bind-mounts\n/run from the host, we will hit selinux denials like the following:\n\n  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg=\'avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?\'UID=""dbus"" AUID=""unset"" SAUID=""dbus""\n\n2) It just makes little sense in a kolla-world to have containers\ntalk to dbus/systemd and it saves us some time when a lookup triggers\nthe systemd module for whatever reason. Especially because the\nnss-systemd module does a few things which are not useful in a container\n(ensures that the root and nobody users and groups remain resolvable,\nSystemD\'s DynamicUser= feature, provide Lookup API via Varlink)\n\nThe sed regex gives us the wanted results:\n$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf\n--- /etc/nsswitch.conf.orig     2020-06-17 08:13:20.108520894 +0000\n+++ /etc/nsswitch.conf  2020-06-17 08:13:27.627069541 +0000\n@@ -19,8 +19,8 @@\n #     passwd: sss files # from profile\n #     hosts: files dns  # from user file\n\n-passwd:     sss files systemd\n-group:      sss files systemd\n+passwd:     sss files\n+group:      sss files\n netgroup:   sss files\n automount:  sss files\n services:   sss files\n\nNB: This is the tcib versionb of the kolla change at I81e5b7abf4571fece13a029e25911e9e4dece673\nRelated-Bug: #1883849\n\nChange-Id: I29d3a2ed0bdfce412ebef549c29053754763e555\n(cherry picked from commit db71bdb684ac347cd2f915a39e7e99a95958606c)\n'}, {'number': 2, 'created': '2020-07-08 01:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a2dbc12bdb82252b4686fb93803c5442150b5d5d', 'message': 'Drop systemd support from nsswitch.conf\n\nA bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we\nshould remove the nss-systemd lookup from containers. The reasons for\nthis are as follows:\n1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5\nwhen this nss module is triggered it tries to talk to dbus.\nIt triggers a bunch of selinux denials and it makes little sense\nto open all containers to talk to dbus.\nIn particular, if a container is run as non-privileged and bind-mounts\n/run from the host, we will hit selinux denials like the following:\n\n  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg=\'avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?\'UID=""dbus"" AUID=""unset"" SAUID=""dbus""\n\n2) It just makes little sense in a kolla-world to have containers\ntalk to dbus/systemd and it saves us some time when a lookup triggers\nthe systemd module for whatever reason. Especially because the\nnss-systemd module does a few things which are not useful in a container\n(ensures that the root and nobody users and groups remain resolvable,\nSystemD\'s DynamicUser= feature, provide Lookup API via Varlink)\n\nThe sed regex gives us the wanted results:\n$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf\n--- /etc/nsswitch.conf.orig     2020-06-17 08:13:20.108520894 +0000\n+++ /etc/nsswitch.conf  2020-06-17 08:13:27.627069541 +0000\n@@ -19,8 +19,8 @@\n #     passwd: sss files # from profile\n #     hosts: files dns  # from user file\n\n-passwd:     sss files systemd\n-group:      sss files systemd\n+passwd:     sss files\n+group:      sss files\n netgroup:   sss files\n automount:  sss files\n services:   sss files\n\nNB: This is the tcib versionb of the kolla change at I81e5b7abf4571fece13a029e25911e9e4dece673\nRelated-Bug: #1883849\n\nChange-Id: I29d3a2ed0bdfce412ebef549c29053754763e555\n(cherry picked from commit db71bdb684ac347cd2f915a39e7e99a95958606c)\n'}, {'number': 3, 'created': '2020-07-13 01:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f54cb606be43d661f3bf925c9e9a67a1af6c59b1', 'message': 'Drop systemd support from nsswitch.conf\n\nA bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we\nshould remove the nss-systemd lookup from containers. The reasons for\nthis are as follows:\n1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5\nwhen this nss module is triggered it tries to talk to dbus.\nIt triggers a bunch of selinux denials and it makes little sense\nto open all containers to talk to dbus.\nIn particular, if a container is run as non-privileged and bind-mounts\n/run from the host, we will hit selinux denials like the following:\n\n  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg=\'avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?\'UID=""dbus"" AUID=""unset"" SAUID=""dbus""\n\n2) It just makes little sense in a kolla-world to have containers\ntalk to dbus/systemd and it saves us some time when a lookup triggers\nthe systemd module for whatever reason. Especially because the\nnss-systemd module does a few things which are not useful in a container\n(ensures that the root and nobody users and groups remain resolvable,\nSystemD\'s DynamicUser= feature, provide Lookup API via Varlink)\n\nThe sed regex gives us the wanted results:\n$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf\n--- /etc/nsswitch.conf.orig     2020-06-17 08:13:20.108520894 +0000\n+++ /etc/nsswitch.conf  2020-06-17 08:13:27.627069541 +0000\n@@ -19,8 +19,8 @@\n #     passwd: sss files # from profile\n #     hosts: files dns  # from user file\n\n-passwd:     sss files systemd\n-group:      sss files systemd\n+passwd:     sss files\n+group:      sss files\n netgroup:   sss files\n automount:  sss files\n services:   sss files\n\nNB: This is the tcib versionb of the kolla change at I81e5b7abf4571fece13a029e25911e9e4dece673\nRelated-Bug: #1883849\n\nChange-Id: I29d3a2ed0bdfce412ebef549c29053754763e555\n(cherry picked from commit db71bdb684ac347cd2f915a39e7e99a95958606c)\n'}, {'number': 4, 'created': '2020-07-14 01:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fa9d0097322ac463a6448087a07960bb38d019b6', 'message': 'Drop systemd support from nsswitch.conf\n\nA bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we\nshould remove the nss-systemd lookup from containers. The reasons for\nthis are as follows:\n1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5\nwhen this nss module is triggered it tries to talk to dbus.\nIt triggers a bunch of selinux denials and it makes little sense\nto open all containers to talk to dbus.\nIn particular, if a container is run as non-privileged and bind-mounts\n/run from the host, we will hit selinux denials like the following:\n\n  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg=\'avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?\'UID=""dbus"" AUID=""unset"" SAUID=""dbus""\n\n2) It just makes little sense in a kolla-world to have containers\ntalk to dbus/systemd and it saves us some time when a lookup triggers\nthe systemd module for whatever reason. Especially because the\nnss-systemd module does a few things which are not useful in a container\n(ensures that the root and nobody users and groups remain resolvable,\nSystemD\'s DynamicUser= feature, provide Lookup API via Varlink)\n\nThe sed regex gives us the wanted results:\n$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf\n--- /etc/nsswitch.conf.orig     2020-06-17 08:13:20.108520894 +0000\n+++ /etc/nsswitch.conf  2020-06-17 08:13:27.627069541 +0000\n@@ -19,8 +19,8 @@\n #     passwd: sss files # from profile\n #     hosts: files dns  # from user file\n\n-passwd:     sss files systemd\n-group:      sss files systemd\n+passwd:     sss files\n+group:      sss files\n netgroup:   sss files\n automount:  sss files\n services:   sss files\n\nNB: This is the tcib versionb of the kolla change at I81e5b7abf4571fece13a029e25911e9e4dece673\nRelated-Bug: #1883849\n\nChange-Id: I29d3a2ed0bdfce412ebef549c29053754763e555\n(cherry picked from commit db71bdb684ac347cd2f915a39e7e99a95958606c)\n'}, {'number': 5, 'created': '2020-07-16 02:06:50.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5af8278c5967cc5ddc4e779d8e39f94483e12164', 'message': 'Drop systemd support from nsswitch.conf\n\nA bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we\nshould remove the nss-systemd lookup from containers. The reasons for\nthis are as follows:\n1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5\nwhen this nss module is triggered it tries to talk to dbus.\nIt triggers a bunch of selinux denials and it makes little sense\nto open all containers to talk to dbus.\nIn particular, if a container is run as non-privileged and bind-mounts\n/run from the host, we will hit selinux denials like the following:\n\n  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg=\'avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?\'UID=""dbus"" AUID=""unset"" SAUID=""dbus""\n\n2) It just makes little sense in a kolla-world to have containers\ntalk to dbus/systemd and it saves us some time when a lookup triggers\nthe systemd module for whatever reason. Especially because the\nnss-systemd module does a few things which are not useful in a container\n(ensures that the root and nobody users and groups remain resolvable,\nSystemD\'s DynamicUser= feature, provide Lookup API via Varlink)\n\nThe sed regex gives us the wanted results:\n$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf\n--- /etc/nsswitch.conf.orig     2020-06-17 08:13:20.108520894 +0000\n+++ /etc/nsswitch.conf  2020-06-17 08:13:27.627069541 +0000\n@@ -19,8 +19,8 @@\n #     passwd: sss files # from profile\n #     hosts: files dns  # from user file\n\n-passwd:     sss files systemd\n-group:      sss files systemd\n+passwd:     sss files\n+group:      sss files\n netgroup:   sss files\n automount:  sss files\n services:   sss files\n\nNB: This is the tcib versionb of the kolla change at I81e5b7abf4571fece13a029e25911e9e4dece673\nRelated-Bug: #1883849\n\nChange-Id: I29d3a2ed0bdfce412ebef549c29053754763e555\n(cherry picked from commit db71bdb684ac347cd2f915a39e7e99a95958606c)\n'}]",0,739744,5af8278c5967cc5ddc4e779d8e39f94483e12164,51,6,5,3153,,,0,"Drop systemd support from nsswitch.conf

A bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we
should remove the nss-systemd lookup from containers. The reasons for
this are as follows:
1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5
when this nss module is triggered it tries to talk to dbus.
It triggers a bunch of selinux denials and it makes little sense
to open all containers to talk to dbus.
In particular, if a container is run as non-privileged and bind-mounts
/run from the host, we will hit selinux denials like the following:

  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg='avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?'UID=""dbus"" AUID=""unset"" SAUID=""dbus""

2) It just makes little sense in a kolla-world to have containers
talk to dbus/systemd and it saves us some time when a lookup triggers
the systemd module for whatever reason. Especially because the
nss-systemd module does a few things which are not useful in a container
(ensures that the root and nobody users and groups remain resolvable,
SystemD's DynamicUser= feature, provide Lookup API via Varlink)

The sed regex gives us the wanted results:
$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf
--- /etc/nsswitch.conf.orig     2020-06-17 08:13:20.108520894 +0000
+++ /etc/nsswitch.conf  2020-06-17 08:13:27.627069541 +0000
@@ -19,8 +19,8 @@
 #     passwd: sss files # from profile
 #     hosts: files dns  # from user file

-passwd:     sss files systemd
-group:      sss files systemd
+passwd:     sss files
+group:      sss files
 netgroup:   sss files
 automount:  sss files
 services:   sss files

NB: This is the tcib versionb of the kolla change at I81e5b7abf4571fece13a029e25911e9e4dece673
Related-Bug: #1883849

Change-Id: I29d3a2ed0bdfce412ebef549c29053754763e555
(cherry picked from commit db71bdb684ac347cd2f915a39e7e99a95958606c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/44/739744/5 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,aee3550fab80a574dc7c2de2a519afd703a94101,nsswitch/ussuri,- run: sed -ri '/^(passwd:|group:)/ s/systemd//g' /etc/nsswitch.conf,,1,0
openstack%2Fpython-tripleoclient~master~I0185cb54ac32e1ac8558d22ba4c735a02e80a470,openstack/python-tripleoclient,master,I0185cb54ac32e1ac8558d22ba4c735a02e80a470,Don't run config-download for --stack-only,MERGED,2020-07-16 15:30:18.000000000,2020-07-17 06:58:08.000000000,2020-07-17 06:54:55.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-16 15:30:18.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5805ee4dbedac673268c6c3cf2ef616b887a1a5d', 'message': ""Don't run config-download for --stack-only\n\nWe now seem to run config-download irrespective of the\n--stack-only flag. This moves the config-download\nrelated code within the if block.\n\nChange-Id: I0185cb54ac32e1ac8558d22ba4c735a02e80a470\nCloses-Bug: #1887811\n""}]",0,741482,5805ee4dbedac673268c6c3cf2ef616b887a1a5d,15,5,1,8833,,,0,"Don't run config-download for --stack-only

We now seem to run config-download irrespective of the
--stack-only flag. This moves the config-download
related code within the if block.

Change-Id: I0185cb54ac32e1ac8558d22ba4c735a02e80a470
Closes-Bug: #1887811
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/82/741482/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,5805ee4dbedac673268c6c3cf2ef616b887a1a5d,," if not parsed_args.config_download_only: deployment.get_hosts_and_enable_ssh_admin( stack, parsed_args.overcloud_ssh_network, parsed_args.overcloud_ssh_user, self.get_key_pair(parsed_args), parsed_args.overcloud_ssh_port_timeout, verbosity=utils.playbook_verbosity(self=self) ) if parsed_args.config_download_timeout: timeout = parsed_args.config_download_timeout else: used = int((time.time() - start) // 60) timeout = parsed_args.timeout - used if timeout <= 0: raise exceptions.DeploymentError( 'Deployment timed out after %sm' % used) deployment_options = {} if parsed_args.deployment_python_interpreter: deployment_options['ansible_python_interpreter'] = \ parsed_args.deployment_python_interpreter deployment.config_download( self.log, self.clients, parsed_args.output_dir, parsed_args.override_ansible_cfg, timeout=parsed_args.overcloud_ssh_port_timeout, verbosity=utils.playbook_verbosity(self=self), deployment_options=deployment_options, in_flight_validations=parsed_args.inflight, deployment_timeout=timeout, tags=parsed_args.tags, skip_tags=parsed_args.skip_tags, limit_hosts=utils.playbook_limit_parse( limit_nodes=parsed_args.limit ) deployment.set_deployment_status( clients=self.clients, plan=stack.stack_name, status=deploy_status)"," if not parsed_args.config_download_only: deployment.get_hosts_and_enable_ssh_admin( parsed_args.overcloud_ssh_user, self.get_key_pair(parsed_args), parsed_args.overcloud_ssh_port_timeout, verbosity=utils.playbook_verbosity(self=self) if parsed_args.config_download_timeout: timeout = parsed_args.config_download_timeout else: used = int((time.time() - start) // 60) timeout = parsed_args.timeout - used if timeout <= 0: raise exceptions.DeploymentError( 'Deployment timed out after %sm' % used) deployment_options = {} if parsed_args.deployment_python_interpreter: deployment_options['ansible_python_interpreter'] = \ parsed_args.deployment_python_interpreter deployment.config_download( self.log, self.clients, stack, parsed_args.overcloud_ssh_network, parsed_args.output_dir, parsed_args.override_ansible_cfg, timeout=parsed_args.overcloud_ssh_port_timeout, verbosity=utils.playbook_verbosity(self=self), deployment_options=deployment_options, in_flight_validations=parsed_args.inflight, deployment_timeout=timeout, tags=parsed_args.tags, skip_tags=parsed_args.skip_tags, limit_hosts=utils.playbook_limit_parse( limit_nodes=parsed_args.limit ) ) deployment.set_deployment_status( clients=self.clients, plan=stack.stack_name, status=deploy_status)",43,44
openstack%2Fneutron~stable%2Fussuri~Icef60dc4db70a3058251909cf485cd8e8424cb16,openstack/neutron,stable/ussuri,Icef60dc4db70a3058251909cf485cd8e8424cb16,[ci] Fix several rally task arguments,MERGED,2020-07-09 13:12:45.000000000,2020-07-17 06:56:05.000000000,2020-07-17 06:53:01.000000000,"[{'_account_id': 4694}, {'_account_id': 9545}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 13:12:45.000000000', 'files': ['rally-jobs/task-neutron.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e723f95e60047b4e676c4391b6f519b25ae1cec2', 'message': ""[ci] Fix several rally task arguments\n\nThere are several invalid cased that Rally ignored before and that will\nbecome an validation error soon.\n\n* transmitting None where dict is expected\n* setting 'name' of entities. It is restricted thing, since rally\n  generates pseudo-random names that can be filtered by celanup\n  mechanism. Currently, Rally overrides 'name' params silently, but it\n  will become an error soon.\n\nChange-Id: Icef60dc4db70a3058251909cf485cd8e8424cb16\n(cherry picked from commit 98b326f0e4fb66ab47442ced8e4300da11c590c3)\n""}]",1,740276,e723f95e60047b4e676c4391b6f519b25ae1cec2,11,4,1,9545,,,0,"[ci] Fix several rally task arguments

There are several invalid cased that Rally ignored before and that will
become an validation error soon.

* transmitting None where dict is expected
* setting 'name' of entities. It is restricted thing, since rally
  generates pseudo-random names that can be filtered by celanup
  mechanism. Currently, Rally overrides 'name' params silently, but it
  will become an error soon.

Change-Id: Icef60dc4db70a3058251909cf485cd8e8424cb16
(cherry picked from commit 98b326f0e4fb66ab47442ced8e4300da11c590c3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/740276/1 && git format-patch -1 --stdout FETCH_HEAD,['rally-jobs/task-neutron.yaml'],1,e723f95e60047b4e676c4391b6f519b25ae1cec2,, network_create_args: {} port_create_args: {}," name: ""_updated"" name: ""_subnet_updated"" name: ""_router_updated"" network_create_args: port_create_args: name: ""_port_updated""",2,6
openstack%2Fopenstack-helm~master~I29a432f28a4d8dd57341152d60b34c5a391e872f,openstack/openstack-helm,master,I29a432f28a4d8dd57341152d60b34c5a391e872f,Add missing security context for Keystone rally tests,MERGED,2020-07-16 18:12:32.000000000,2020-07-17 06:54:19.000000000,2020-07-17 06:50:18.000000000,"[{'_account_id': 8863}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 18:12:32.000000000', 'files': ['keystone/values.yaml', 'keystone/templates/pod-rally-test.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2eaa98ecf11d580ac8ee4f068168313e0dab3b90', 'message': 'Add missing security context for Keystone rally tests\n\nChange-Id: I29a432f28a4d8dd57341152d60b34c5a391e872f\n'}]",0,741512,2eaa98ecf11d580ac8ee4f068168313e0dab3b90,8,3,1,29144,,,0,"Add missing security context for Keystone rally tests

Change-Id: I29a432f28a4d8dd57341152d60b34c5a391e872f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/12/741512/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/values.yaml', 'keystone/templates/pod-rally-test.yaml']",2,2eaa98ecf11d580ac8ee4f068168313e0dab3b90,,"{{ dict ""envAll"" $envAll ""application"" ""test"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 2 }}{{ dict ""envAll"" $envAll ""application"" ""test"" ""container"" ""keystone_test_ks_user"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 6 }}{{ dict ""envAll"" $envAll ""application"" ""test"" ""container"" ""keystone_test"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 6}} - name: rally-work mountPath: /home/rally/.rally - name: rally-work emptyDir: {}",,18,0
openstack%2Fneutron~stable%2Fqueens~I584d867f0e1c47447cb8790fd715fa01ec902438,openstack/neutron,stable/queens,I584d867f0e1c47447cb8790fd715fa01ec902438,Catch OVSFWTagNotFound in update_port_filter,MERGED,2020-06-30 15:26:38.000000000,2020-07-17 06:53:04.000000000,2020-07-17 06:53:04.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-30 15:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/06812eb1c23809db1e9dda4350cec399734629e1', 'message': 'Catch OVSFWTagNotFound in update_port_filter\n\nIn neutron.agent.linux.openvswitch_firewall.firewall make the method\nupdate_port_filter catch OVSFWTagNotFound and log it to avoid\ntraceback in log files.\n\nConflicts:\n  neutron/agent/linux/openvswitch_firewall/firewall.py\n\nChange-Id: I584d867f0e1c47447cb8790fd715fa01ec902438\nCloses-Bug: #1811405\n(cherry picked from commit 22f55822aab17c758f5f723c304b1acaf3179ec1)\n(cherry picked from commit 6d17829aa664e7cf6a92291963ff622c8b763b53)\n'}, {'number': 2, 'created': '2020-07-07 14:44:29.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fd0f912caf2e7db9ccf701354d7a7a9b89adf5c', 'message': 'Catch OVSFWTagNotFound in update_port_filter\n\nIn neutron.agent.linux.openvswitch_firewall.firewall make the method\nupdate_port_filter catch OVSFWTagNotFound and log it to avoid\ntraceback in log files.\n\nConflicts:\n  neutron/agent/linux/openvswitch_firewall/firewall.py\n\nChange-Id: I584d867f0e1c47447cb8790fd715fa01ec902438\nCloses-Bug: #1811405\n(cherry picked from commit 22f55822aab17c758f5f723c304b1acaf3179ec1)\n(cherry picked from commit 6d17829aa664e7cf6a92291963ff622c8b763b53)\n'}]",0,738649,8fd0f912caf2e7db9ccf701354d7a7a9b89adf5c,21,6,2,11975,,,0,"Catch OVSFWTagNotFound in update_port_filter

In neutron.agent.linux.openvswitch_firewall.firewall make the method
update_port_filter catch OVSFWTagNotFound and log it to avoid
traceback in log files.

Conflicts:
  neutron/agent/linux/openvswitch_firewall/firewall.py

Change-Id: I584d867f0e1c47447cb8790fd715fa01ec902438
Closes-Bug: #1811405
(cherry picked from commit 22f55822aab17c758f5f723c304b1acaf3179ec1)
(cherry picked from commit 6d17829aa664e7cf6a92291963ff622c8b763b53)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/738649/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,06812eb1c23809db1e9dda4350cec399734629e1,bug/1811405-stable/queens," except exceptions.OVSFWTagNotFound as tag_not_found: LOG.info(""Tag was not found for port %(port_id)s: %(err)s."", {'port_id': port['device'], 'err': tag_not_found})",,4,0
openstack%2Fneutron~stable%2Fpike~I4543b8bc267f0699200879b07e4f89d2443dce9d,openstack/neutron,stable/pike,I4543b8bc267f0699200879b07e4f89d2443dce9d,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2020-07-08 07:35:02.000000000,2020-07-17 06:12:57.000000000,2020-07-17 06:12:56.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-08 07:35:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d088b13aaa65851c67cfdef7c5806238fcd4e6e9', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extended Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nChange-Id: I4543b8bc267f0699200879b07e4f89d2443dce9d\n'}]",0,739910,d088b13aaa65851c67cfdef7c5806238fcd4e6e9,8,4,1,21798,,,0,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extended Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Change-Id: I4543b8bc267f0699200879b07e4f89d2443dce9d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/739910/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d088b13aaa65851c67cfdef7c5806238fcd4e6e9,fix_pike_gate, - neutron-tempest-multinode-full - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-ovsfw - legacy-tempest-dsvm-neutron-dvr-multinode-scenario: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - legacy-tempest-dsvm-neutron-scenario-linuxbridge: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$, - neutron-tempest-multinode-full - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-ovsfw - legacy-tempest-dsvm-neutron-dvr-multinode-scenario: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - legacy-tempest-dsvm-neutron-scenario-linuxbridge: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$,25,27
openstack%2Ftripleo-common~stable%2Fussuri~I2e9fc7b9e9005fce7d956f1b936054e540b39849,openstack/tripleo-common,stable/ussuri,I2e9fc7b9e9005fce7d956f1b936054e540b39849,ansible: limit_hosts now takes precedence over blacklisted_hostnames,MERGED,2020-07-15 18:12:02.000000000,2020-07-17 05:49:35.000000000,2020-07-17 05:48:04.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-15 18:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2d44552f6f45f19356d305ab3bed437e01dc5254', 'message': ""ansible: limit_hosts now takes precedence over blacklisted_hostnames\n\nFrom now, limit_hosts will take precedence over the blacklisted_hostnames.\nAnd therefore Ansible won't be run with two --limit if both limit hosts\nand blacklisted hostnames are in use. When we want to run Ansible on\nspecific hosts, we will ignore the blacklisted nodes and assume we know\nwhat we do. In the case of the scale-down scenario, the unreachable nodes\nare ignored.\n\nNote: adding unit tests coverage for both parameters.\n\nChange-Id: I2e9fc7b9e9005fce7d956f1b936054e540b39849\nCloses-Bug: #1857298\n(cherry picked from commit 8cd3b14925868f52b9b75814c1066078eac94abd)\n""}, {'number': 2, 'created': '2020-07-15 21:56:37.000000000', 'files': ['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py', 'releasenotes/notes/limit_over_blacklist-3ce81ecf04b09997.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c9adf14a21e9573c7f9ed46eb673b43fb94b1f2c', 'message': ""ansible: limit_hosts now takes precedence over blacklisted_hostnames\n\nFrom now, limit_hosts will take precedence over the blacklisted_hostnames.\nAnd therefore Ansible won't be run with two --limit if both limit hosts\nand blacklisted hostnames are in use. When we want to run Ansible on\nspecific hosts, we will ignore the blacklisted nodes and assume we know\nwhat we do. In the case of the scale-down scenario, the unreachable nodes\nare ignored.\n\nNote: adding unit tests coverage for both parameters.\n\nChange-Id: I2e9fc7b9e9005fce7d956f1b936054e540b39849\nCloses-Bug: #1857298\n(cherry picked from commit 76bc13e3bf88c24ba1733c699deadb364420f14e)\n""}]",0,741292,c9adf14a21e9573c7f9ed46eb673b43fb94b1f2c,14,4,2,3153,,,0,"ansible: limit_hosts now takes precedence over blacklisted_hostnames

From now, limit_hosts will take precedence over the blacklisted_hostnames.
And therefore Ansible won't be run with two --limit if both limit hosts
and blacklisted hostnames are in use. When we want to run Ansible on
specific hosts, we will ignore the blacklisted nodes and assume we know
what we do. In the case of the scale-down scenario, the unreachable nodes
are ignored.

Note: adding unit tests coverage for both parameters.

Change-Id: I2e9fc7b9e9005fce7d956f1b936054e540b39849
Closes-Bug: #1857298
(cherry picked from commit 76bc13e3bf88c24ba1733c699deadb364420f14e)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/92/741292/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py', 'releasenotes/notes/limit_over_blacklist-3ce81ecf04b09997.yaml']",3,2d44552f6f45f19356d305ab3bed437e01dc5254,ussuri/1857298,"--- fixes: - | Fix `bug 1887692 <https://bugs.launchpad.net/tripleo/+bug/1887692>`__ so limit_hosts will take precedence over the blacklisted_hostnames. And therefore Ansible won't be run with two --limit if both limit hosts and blacklisted hostnames are in use. When we want to run Ansible on specific hosts, we will ignore the blacklisted nodes and assume we know what we do. In the case of the scale-down scenario, the unreachable nodes are ignored. ",,100,5
openstack%2Ftripleo-heat-templates~master~Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7,openstack/tripleo-heat-templates,master,Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7,Use tripleo linear when not using tripleo free,MERGED,2020-04-30 22:11:00.000000000,2020-07-17 05:48:02.000000000,2020-07-17 05:48:02.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 9976}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-30 22:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b6406a8393b1334126cc60cd815b690dcaf3783a', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724767/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 2, 'created': '2020-05-01 00:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dab033f2a6426e80b116e80c81ad6ddc32cf4ea3', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724767/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 3, 'created': '2020-05-01 20:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf92fb6c9ef39bf86e06670ee1bfbdbbce6ab84e', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724767/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 4, 'created': '2020-05-04 20:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0b7bd4b1d8d2c520b6b8eba32ac8ced459cd9c65', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 5, 'created': '2020-05-08 02:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d77b5fa2e9f11ed7c844c222738839a87dcaef3d', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 6, 'created': '2020-05-12 23:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2bc849207cd96abbe93727ebe35627fe19f1e0d2', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 7, 'created': '2020-05-28 15:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd3891d14db603a332c4791d374186229a81ec17', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 8, 'created': '2020-06-05 20:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aad9901f7085225f5dc5265f0bfe06b0271eb34b', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 9, 'created': '2020-06-05 20:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e72ca7193e62901df6da5984c45e0936ec1358d8', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 10, 'created': '2020-06-09 16:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2bfe6aad4a04d0b1885e56b3f80c3fa1fe1215d1', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 11, 'created': '2020-06-09 16:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/55586ab7f849a78018cd23c9c353dd1feabc3958', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 12, 'created': '2020-06-09 22:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a55869b8a34163f1721c65a0b7f94cfc3a5cd20e', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 13, 'created': '2020-06-11 13:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca6698c76d711897a0074393fd28237c5c5f6fcc', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 14, 'created': '2020-06-11 19:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a4244c2d624e1b645c43feb32002f16da6580573', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 15, 'created': '2020-06-19 02:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e15efd653df116f2864b99d8061f08bd90dd5d9', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 16, 'created': '2020-06-22 12:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb30a19b0f2a8712e988f4c4aa1b79a0ffd03236', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 17, 'created': '2020-06-25 00:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/654f070f897eab71e39c12a1c16d1c1bd65ab6c4', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 18, 'created': '2020-07-02 21:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b88a59b19a0089a65390751af35d3553575be8ad', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 19, 'created': '2020-07-03 13:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/812230f6e23c5125ab2321560cf8277847bccfd3', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 20, 'created': '2020-07-05 20:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2d27ef78cafb4aef2887c995e75dc5c254398e65', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 21, 'created': '2020-07-06 12:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b4c3034e0b8597e5b27b5ffd699ac08bde27e42f', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 22, 'created': '2020-07-07 11:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84557ad3d1761d66811ec8ba3ada9c2fd5841675', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 23, 'created': '2020-07-08 12:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/51c68e4b459808b60c1d010157d119a8bed48c7e', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 24, 'created': '2020-07-13 01:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c453128a557525abcf87b922bc89972a26caa5b0', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 25, 'created': '2020-07-13 12:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b0c18e62a3a0fe304a416cf58451377d2d602eae', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 26, 'created': '2020-07-15 20:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afa75064f0c7ad2c2ed12648d52e53f9462fd81b', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}, {'number': 27, 'created': '2020-07-15 20:42:18.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/029722ef1f828f8f97675e75acfaad581dcf1b01', 'message': ""Use tripleo linear when not using tripleo free\n\nIn order to handle percentage failures for tripleo classes we will need\nto use a custom strategy to handle the failures. Let's explicitly define\nour expected strategies in the playbook so it'll default to linear (the\nansible default) on the host when ansible is invoked but our deployment\ntasks will be run as we want them.\n\nDepends-On: https://review.opendev.org/#/c/724766/\nChange-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7\n""}]",3,724769,029722ef1f828f8f97675e75acfaad581dcf1b01,158,9,27,14985,,,0,"Use tripleo linear when not using tripleo free

In order to handle percentage failures for tripleo classes we will need
to use a custom strategy to handle the failures. Let's explicitly define
our expected strategies in the playbook so it'll default to linear (the
ansible default) on the host when ansible is invoked but our deployment
tasks will be run as we want them.

Depends-On: https://review.opendev.org/#/c/724766/
Change-Id: Ifaddeccfbb82e03815311ee0b76eb2e2eae282a7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/724769/25 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,b6406a8393b1334126cc60cd815b690dcaf3783a,strategy-improvements, strategy: tripleo_linear strategy: tripleo_linear strategy: tripleo_linear strategy: tripleo_linear strategy: tripleo_linear,,5,0
openstack%2Fneutron~stable%2Fstein~I795ee7ca729646be0411a1232bf218015c65010f,openstack/neutron,stable/stein,I795ee7ca729646be0411a1232bf218015c65010f,Add config option ``http_retries``,MERGED,2020-07-09 10:14:25.000000000,2020-07-17 05:43:32.000000000,2020-07-17 05:41:44.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 10:14:25.000000000', 'files': ['releasenotes/notes/Add-http_retries-config-option-b81dd29c03ba8c6a.yaml', 'neutron/conf/common.py', 'neutron/notifiers/nova.py', 'neutron/tests/unit/notifiers/test_nova.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d06db0989a46608eb699f401c1b02aaf070c623', 'message': 'Add config option ``http_retries``\n\nThis option allows to configure Number of times nova or ironic client\nshould retry on any failed http call.\nDefault value for this new option is ""3"".\n\nConflicts:\n    neutron/notifiers/ironic.py\n\nChange-Id: I795ee7ca729646be0411a1232bf218015c65010f\nCloses-Bug: #1883712\n(cherry picked from commit e94511cd251299cee84b8b67d404972988ae28d3)\n'}]",0,740216,5d06db0989a46608eb699f401c1b02aaf070c623,10,3,1,11975,,,0,"Add config option ``http_retries``

This option allows to configure Number of times nova or ironic client
should retry on any failed http call.
Default value for this new option is ""3"".

Conflicts:
    neutron/notifiers/ironic.py

Change-Id: I795ee7ca729646be0411a1232bf218015c65010f
Closes-Bug: #1883712
(cherry picked from commit e94511cd251299cee84b8b67d404972988ae28d3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/740216/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Add-http_retries-config-option-b81dd29c03ba8c6a.yaml', 'neutron/conf/common.py', 'neutron/notifiers/nova.py', 'neutron/tests/unit/notifiers/test_nova.py']",4,5d06db0989a46608eb699f401c1b02aaf070c623,bug/1883712," connect_retries=3, connect_retries=3,",,18,1
openstack%2Ftripleo-heat-templates~master~Ib69b9127f530ff8063a1c7408a70e20cfc7babc7,openstack/tripleo-heat-templates,master,Ib69b9127f530ff8063a1c7408a70e20cfc7babc7,deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable,MERGED,2020-07-15 18:01:46.000000000,2020-07-17 05:30:54.000000000,2020-07-17 05:30:54.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-15 18:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1f2dab36e5ac74e8e6d2336ee09efdb75943e35', 'message': ""deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable\n\nFor all the tasks in common/deploy-steps-playbooks-common.yaml:\n\n* any_errors_fatal will be set to True except for the scale playbooks,\n  where we consider than an error can happen if a node is down.\n  The logic was wrong, we need to set a default to\n  scale_ignore_unreachable (false) and configure any_errors_fatal to be\n  the opposite of scale_ignore_unreachable.\n\n* Add ignore_unreachable to all the tasks which didn't have it before\n  (and set it to scale_ignore_unreachable | default(false))\n\nThis will allow a scale-down to work fine when a node that is being\nscaled down is unreachable.\n\nChange-Id: Ib69b9127f530ff8063a1c7408a70e20cfc7babc7\nCloses-Bug: #1887702\n""}, {'number': 2, 'created': '2020-07-15 20:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aed50fb07cf9fcd6986bf5dde3ab6bba62ba0c90', 'message': ""deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable\n\nFor all the tasks in common/deploy-steps-playbooks-common.yaml:\n\n* any_errors_fatal will be set to False for all tasks as this is\n  shared with the scale tasks or where nodes may not be available.\n  Due to https://github.com/ansible/ansible/issues/70663 this cannot\n  be set dynamically at this time. If an error occurs it'll get picked\n  up by a future task.\n\n* Add ignore_unreachable to all the tasks which didn't have it before\n  (and set it to scale_ignore_unreachable | default(false))\n\nThis will allow a scale-down to work fine when a node that is being\nscaled down is unreachable.\n\nChange-Id: Ib69b9127f530ff8063a1c7408a70e20cfc7babc7\nCloses-Bug: #1887702\n""}, {'number': 3, 'created': '2020-07-15 20:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e51f1f345599d2f4b6534a43d3afe1e3559d0871', 'message': ""deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable\n\nFor all the tasks in common/deploy-steps-playbooks-common.yaml:\n\n* any_errors_fatal will be set to False for all tasks as this is\n  shared with the scale tasks or where nodes may not be available.\n  Due to https://github.com/ansible/ansible/issues/70663 this cannot\n  be set dynamically at this time. If an error occurs it'll get picked\n  up by a future task.\n\n* Add ignore_unreachable to all the tasks which didn't have it before\n  (and set it to scale_ignore_unreachable | default(false))\n\nThis will allow a scale-down to work fine when a node that is being\nscaled down is unreachable.\n\nChange-Id: Ib69b9127f530ff8063a1c7408a70e20cfc7babc7\nCloses-Bug: #1887702\n""}, {'number': 4, 'created': '2020-07-15 20:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2969f86319cca5edf354fd1ee5b326efac60c369', 'message': ""deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable\n\nFor all the tasks in common/deploy-steps-playbooks-common.yaml:\n\n* any_errors_fatal will be set to False for all tasks as this is\n  shared with the scale tasks or where nodes may not be available.\n  Due to https://github.com/ansible/ansible/issues/70663 this cannot\n  be set dynamically at this time. If an error occurs it'll get picked\n  up by a future task.\n\n* Add ignore_unreachable to all the tasks which didn't have it before\n  (and set it to scale_ignore_unreachable | default(false))\n\nThis will allow a scale-down to work fine when a node that is being\nscaled down is unreachable.\n\nChange-Id: Ib69b9127f530ff8063a1c7408a70e20cfc7babc7\nCloses-Bug: #1887702\n""}, {'number': 5, 'created': '2020-07-15 20:41:27.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af30d7d290287491f0a46c471a892f6e870eef84', 'message': ""deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable\n\nFor all the tasks in common/deploy-steps-playbooks-common.yaml:\n\n* any_errors_fatal will be set to False for all tasks as this is\n  shared with the scale tasks or where nodes may not be available.\n  Due to https://github.com/ansible/ansible/issues/70663 this cannot\n  be set dynamically at this time. If an error occurs it'll get picked\n  up by a future task.\n\n* Add ignore_unreachable to all the tasks which didn't have it before\n  (and set it to scale_ignore_unreachable | default(false))\n\nThis will allow a scale-down to work fine when a node that is being\nscaled down is unreachable.\n\nChange-Id: Ib69b9127f530ff8063a1c7408a70e20cfc7babc7\nCloses-Bug: #1887702\n""}]",10,741290,af30d7d290287491f0a46c471a892f6e870eef84,31,7,5,3153,,,0,"deploy-steps-playbooks-common: fix logic for scale_ignore_unreachable

For all the tasks in common/deploy-steps-playbooks-common.yaml:

* any_errors_fatal will be set to False for all tasks as this is
  shared with the scale tasks or where nodes may not be available.
  Due to https://github.com/ansible/ansible/issues/70663 this cannot
  be set dynamically at this time. If an error occurs it'll get picked
  up by a future task.

* Add ignore_unreachable to all the tasks which didn't have it before
  (and set it to scale_ignore_unreachable | default(false))

This will allow a scale-down to work fine when a node that is being
scaled down is unreachable.

Change-Id: Ib69b9127f530ff8063a1c7408a70e20cfc7babc7
Closes-Bug: #1887702
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/741290/3 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-playbooks-common.yaml'],1,f1f2dab36e5ac74e8e6d2336ee09efdb75943e35,bug/1887702," any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" ignore_unreachable: ""{{ scale_ignore_unreachable | default(false) }}"" any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" ignore_unreachable: ""{{ scale_ignore_unreachable | default(false) }}"" any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" ignore_unreachable: ""{{ scale_ignore_unreachable | default(false) }}"" any_errors_fatal: ""{{ not (scale_ignore_unreachable|default(false)) }}"" ignore_unreachable: ""{{ scale_ignore_unreachable | default(false) }}"""," any_errors_fatal: ""{{ not scale_ignore_unreachable | default(true) }}"" any_errors_fatal: ""{{ not scale_ignore_unreachable | default(true) }}"" any_errors_fatal: ""{{ not scale_ignore_unreachable | default(true) }}"" any_errors_fatal: yes any_errors_fatal: yes any_errors_fatal: yes",11,6
openstack%2Fpython-tripleoclient~stable%2Frocky~Ie24163a39a68ec73ae8ea5ad1011eb3789961077,openstack/python-tripleoclient,stable/rocky,Ie24163a39a68ec73ae8ea5ad1011eb3789961077,Skip network check with stack env when validations disabled,MERGED,2020-07-16 14:12:11.000000000,2020-07-17 05:30:52.000000000,2020-07-17 05:30:52.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-16 14:12:11.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/68f74dbcd06c91a254b678e0ee8ba0df57df3882', 'message': 'Skip network check with stack env when validations disabled\n\nAllow for bypassing check_stack_network_matches_env_files()\nwhen --disable-validations is provided.\n\nChange-Id: Ie24163a39a68ec73ae8ea5ad1011eb3789961077\nCloses-Bug: #1866155\n(cherry picked from commit d8a7eaf88c22af6e31d27df9e5ef83a83a8f17b7)\n'}]",0,741465,68f74dbcd06c91a254b678e0ee8ba0df57df3882,11,4,1,14985,,,0,"Skip network check with stack env when validations disabled

Allow for bypassing check_stack_network_matches_env_files()
when --disable-validations is provided.

Change-Id: Ie24163a39a68ec73ae8ea5ad1011eb3789961077
Closes-Bug: #1866155
(cherry picked from commit d8a7eaf88c22af6e31d27df9e5ef83a83a8f17b7)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/65/741465/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,68f74dbcd06c91a254b678e0ee8ba0df57df3882,," if not parsed_args.disable_validations: # note(aschultz): network validation goes here before we deploy utils.check_stack_network_matches_env_files(stack, env)"," # note(aschultz): network validation goes here before we deploy utils.check_stack_network_matches_env_files(stack, env)",3,2
openstack%2Ftripleo-common~stable%2Fussuri~Iad38f5152ef824a90d3c9fde8be45594acbed44a,openstack/tripleo-common,stable/ussuri,Iad38f5152ef824a90d3c9fde8be45594acbed44a,TCIB: add etcd user to the kolla group,MERGED,2020-07-15 21:42:05.000000000,2020-07-17 05:10:55.000000000,2020-07-17 05:09:07.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-15 21:42:05.000000000', 'files': ['container-images/tcib/base/etcd/etcd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cb828e7e83528b68cb7fc5d077bba2956c25a867', 'message': 'TCIB: add etcd user to the kolla group\n\nThis is required or the kolla_set_configs will fail to run with\npermission error.\n\nChange-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a\n(cherry picked from commit 4d26b5dc1c51cf0e63b1050cf3d90b13ed53dc32)\n'}]",0,741325,cb828e7e83528b68cb7fc5d077bba2956c25a867,13,3,1,3153,,,0,"TCIB: add etcd user to the kolla group

This is required or the kolla_set_configs will fail to run with
permission error.

Change-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a
(cherry picked from commit 4d26b5dc1c51cf0e63b1050cf3d90b13ed53dc32)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/25/741325/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/etcd/etcd.yaml'],1,cb828e7e83528b68cb7fc5d077bba2956c25a867,etcd/group-stable/ussuri,- run: usermod -a -G kolla etcd,,1,0
openstack%2Fpython-tripleoclient~stable%2Fqueens~Ie24163a39a68ec73ae8ea5ad1011eb3789961077,openstack/python-tripleoclient,stable/queens,Ie24163a39a68ec73ae8ea5ad1011eb3789961077,Skip network check with stack env when validations disabled,MERGED,2020-07-16 14:12:19.000000000,2020-07-17 05:09:08.000000000,2020-07-17 05:09:08.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-16 14:12:19.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ef338549353d568a67eba9629e9c5c275ecfa4ea', 'message': 'Skip network check with stack env when validations disabled\n\nAllow for bypassing check_stack_network_matches_env_files()\nwhen --disable-validations is provided.\n\nChange-Id: Ie24163a39a68ec73ae8ea5ad1011eb3789961077\nCloses-Bug: #1866155\n(cherry picked from commit d8a7eaf88c22af6e31d27df9e5ef83a83a8f17b7)\n'}]",0,741466,ef338549353d568a67eba9629e9c5c275ecfa4ea,11,4,1,14985,,,0,"Skip network check with stack env when validations disabled

Allow for bypassing check_stack_network_matches_env_files()
when --disable-validations is provided.

Change-Id: Ie24163a39a68ec73ae8ea5ad1011eb3789961077
Closes-Bug: #1866155
(cherry picked from commit d8a7eaf88c22af6e31d27df9e5ef83a83a8f17b7)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/66/741466/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,ef338549353d568a67eba9629e9c5c275ecfa4ea,," if not parsed_args.disable_validations: # note(aschultz): network validation goes here before we deploy utils.check_stack_network_matches_env_files(stack, env)"," # note(aschultz): network validation goes here before we deploy utils.check_stack_network_matches_env_files(stack, env)",3,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I45e72bb598ef2157531919173e94ab36eb98ad16,openstack/tripleo-heat-templates,stable/train,I45e72bb598ef2157531919173e94ab36eb98ad16,FFU support for ceph_nfs,MERGED,2020-07-16 15:57:39.000000000,2020-07-17 05:08:53.000000000,2020-07-17 05:08:53.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 18002}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-07-16 15:57:39.000000000', 'files': ['deployment/ceph-ansible/ceph-nfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ba5cfa943f7b1572a5b27ecbc40c45cc533f633', 'message': 'FFU support for ceph_nfs\n\nThis change introduces the steps needed to dump the set\nof playbook used to perform the ceph-nfs update.\n\nDepends-On: I89c848bdae1b997b38a5164302acdcca94619471\nChange-Id: I45e72bb598ef2157531919173e94ab36eb98ad16\n(cherry picked from commit 4354d8ed00e23a5f132ed957ed05e975df03e610)\n'}]",0,741490,0ba5cfa943f7b1572a5b27ecbc40c45cc533f633,9,9,1,25402,,,0,"FFU support for ceph_nfs

This change introduces the steps needed to dump the set
of playbook used to perform the ceph-nfs update.

Depends-On: I89c848bdae1b997b38a5164302acdcca94619471
Change-Id: I45e72bb598ef2157531919173e94ab36eb98ad16
(cherry picked from commit 4354d8ed00e23a5f132ed957ed05e975df03e610)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/741490/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-nfs.yaml'],1,0ba5cfa943f7b1572a5b27ecbc40c45cc533f633,ffu-ceph-nfs," upgrade_tasks: - name: Create hiera data to upgrade ceph_nfs in a stepwise manner. when: - step|int == 1 - cluster_recreate|bool block: - name: set ceph_nfs upgrade node facts in a single-node environment set_fact: ceph_nfs_short_node_names_upgraded: ""{{ ceph_nfs_short_node_names }}"" cacheable: no when: groups['ceph_nfs'] | length <= 1 - name: set ceph_nfs upgrade node facts from the limit option set_fact: ceph_nfs_short_node_names_upgraded: ""{{ ceph_nfs_short_node_names_upgraded|default([]) + [item.split('.')[0]] }}"" cacheable: no when: - groups['ceph_nfs'] | length > 1 - item.split('.')[0] in ansible_limit.split(':') loop: ""{{ ceph_nfs_short_node_names | default([]) }}"" - fail: msg: > You can't upgrade ceph_nfs without staged upgrade. You need to use the limit option in order to do so. when: >- ceph_nfs_short_node_names_upgraded is not defined or ceph_nfs_short_node_names_upgraded | length == 0 - debug: msg: ""Prepare ceph_nfs upgrade for {{ ceph_nfs_short_node_names_upgraded }}"" - name: add the ceph_nfs short name to hiera data for the upgrade. include_role: name: tripleo_upgrade_hiera tasks_from: set.yml vars: tripleo_upgrade_key: ceph_nfs_short_node_names_override tripleo_upgrade_value: ""{{ceph_nfs_short_node_names_upgraded}}"" - name: remove the extra hiera data needed for the upgrade. include_role: name: tripleo_upgrade_hiera tasks_from: remove.yml vars: tripleo_upgrade_key: ceph_nfs_short_node_names_override when: ceph_nfs_short_node_names_upgraded | length == ceph_nfs_short_node_names | length step_config: 'include tripleo::profile::pacemaker::ceph_nfs'", upgrade_tasks: [] step_config: 'include ::tripleo::profile::pacemaker::ceph_nfs',44,2
openstack%2Fneutron~stable%2Ftrain~I795ee7ca729646be0411a1232bf218015c65010f,openstack/neutron,stable/train,I795ee7ca729646be0411a1232bf218015c65010f,Add config option ``http_retries``,MERGED,2020-07-09 10:11:43.000000000,2020-07-17 04:54:55.000000000,2020-07-17 04:52:53.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 10:11:43.000000000', 'files': ['neutron/notifiers/ironic.py', 'releasenotes/notes/Add-http_retries-config-option-b81dd29c03ba8c6a.yaml', 'neutron/conf/common.py', 'neutron/notifiers/nova.py', 'neutron/tests/unit/notifiers/test_nova.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/76e651005b62888090dfe097b7fe03c62cdd32f1', 'message': 'Add config option ``http_retries``\n\nThis option allows to configure Number of times nova or ironic client\nshould retry on any failed http call.\nDefault value for this new option is ""3"".\n\nChange-Id: I795ee7ca729646be0411a1232bf218015c65010f\nCloses-Bug: #1883712\n(cherry picked from commit e94511cd251299cee84b8b67d404972988ae28d3)\n'}]",0,740215,76e651005b62888090dfe097b7fe03c62cdd32f1,16,4,1,11975,,,0,"Add config option ``http_retries``

This option allows to configure Number of times nova or ironic client
should retry on any failed http call.
Default value for this new option is ""3"".

Change-Id: I795ee7ca729646be0411a1232bf218015c65010f
Closes-Bug: #1883712
(cherry picked from commit e94511cd251299cee84b8b67d404972988ae28d3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/740215/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/notifiers/ironic.py', 'releasenotes/notes/Add-http_retries-config-option-b81dd29c03ba8c6a.yaml', 'neutron/conf/common.py', 'neutron/notifiers/nova.py', 'neutron/tests/unit/notifiers/test_nova.py']",5,76e651005b62888090dfe097b7fe03c62cdd32f1,bug/1883712-stable/ussuri-stable/train," connect_retries=3, connect_retries=3,",,20,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I45e72bb598ef2157531919173e94ab36eb98ad16,openstack/tripleo-heat-templates,stable/ussuri,I45e72bb598ef2157531919173e94ab36eb98ad16,FFU support for ceph_nfs,MERGED,2020-07-16 15:46:36.000000000,2020-07-17 04:49:47.000000000,2020-07-17 04:49:47.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-16 15:46:36.000000000', 'files': ['deployment/ceph-ansible/ceph-nfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6bafbf03d3aa109b786bc2a7699d6473bd54938', 'message': 'FFU support for ceph_nfs\n\nThis change introduces the steps needed to dump the set\nof playbook used to perform the ceph-nfs update.\n\nDepends-On: I89c848bdae1b997b38a5164302acdcca94619471\nChange-Id: I45e72bb598ef2157531919173e94ab36eb98ad16\n(cherry picked from commit 4354d8ed00e23a5f132ed957ed05e975df03e610)\n'}]",0,741486,c6bafbf03d3aa109b786bc2a7699d6473bd54938,7,4,1,25402,,,0,"FFU support for ceph_nfs

This change introduces the steps needed to dump the set
of playbook used to perform the ceph-nfs update.

Depends-On: I89c848bdae1b997b38a5164302acdcca94619471
Change-Id: I45e72bb598ef2157531919173e94ab36eb98ad16
(cherry picked from commit 4354d8ed00e23a5f132ed957ed05e975df03e610)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/741486/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-nfs.yaml'],1,c6bafbf03d3aa109b786bc2a7699d6473bd54938,ffu-ceph-nfs-stable/ussuri," upgrade_tasks: - name: Create hiera data to upgrade ceph_nfs in a stepwise manner. when: - step|int == 1 - cluster_recreate|bool block: - name: set ceph_nfs upgrade node facts in a single-node environment set_fact: ceph_nfs_short_node_names_upgraded: ""{{ ceph_nfs_short_node_names }}"" cacheable: no when: groups['ceph_nfs'] | length <= 1 - name: set ceph_nfs upgrade node facts from the limit option set_fact: ceph_nfs_short_node_names_upgraded: ""{{ ceph_nfs_short_node_names_upgraded|default([]) + [item.split('.')[0]] }}"" cacheable: no when: - groups['ceph_nfs'] | length > 1 - item.split('.')[0] in ansible_limit.split(':') loop: ""{{ ceph_nfs_short_node_names | default([]) }}"" - fail: msg: > You can't upgrade ceph_nfs without staged upgrade. You need to use the limit option in order to do so. when: >- ceph_nfs_short_node_names_upgraded is not defined or ceph_nfs_short_node_names_upgraded | length == 0 - debug: msg: ""Prepare ceph_nfs upgrade for {{ ceph_nfs_short_node_names_upgraded }}"" - name: add the ceph_nfs short name to hiera data for the upgrade. include_role: name: tripleo_upgrade_hiera tasks_from: set.yml vars: tripleo_upgrade_key: ceph_nfs_short_node_names_override tripleo_upgrade_value: ""{{ceph_nfs_short_node_names_upgraded}}"" - name: remove the extra hiera data needed for the upgrade. include_role: name: tripleo_upgrade_hiera tasks_from: remove.yml vars: tripleo_upgrade_key: ceph_nfs_short_node_names_override when: ceph_nfs_short_node_names_upgraded | length == ceph_nfs_short_node_names | length", upgrade_tasks: [],43,1
openstack%2Fbifrost~master~Idd4925a0e0987671aa730636da16d02c4799ca56,openstack/bifrost,master,Idd4925a0e0987671aa730636da16d02c4799ca56,Provide the correct DIB_PYTHON_EXEC in a venv,ABANDONED,2020-01-28 01:05:37.000000000,2020-07-17 04:46:02.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-28 01:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5b8b51221108ab08157b359663a7170c6a6e36b3', 'message': 'Test: See if DIB path patch fixes bifrost dib job\n\nDepends-On: https://review.opendev.org/704478\nChange-Id: Idd4925a0e0987671aa730636da16d02c4799ca56\n'}, {'number': 2, 'created': '2020-01-28 01:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b99147b2bddc065a934f97d59bc32d4a3dc62c0e', 'message': ""swap diskimage-builder/ironic-python-agent-builder order\n\nTurns out we can't actually test changes to DIB if we install\nipa builder after dib because it downgrades diskimage-builder.\n\nDepends-On: https://review.opendev.org/704478\nChange-Id: Idd4925a0e0987671aa730636da16d02c4799ca56\n""}, {'number': 3, 'created': '2020-01-28 04:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8c68024a5b1b6effdd1d9acabef43f247145bae4', 'message': ""swap diskimage-builder/ironic-python-agent-builder order\n\nTurns out we can't actually test changes to DIB if we install\nipa builder after dib because it downgrades diskimage-builder.\n\nAlso defaults python verison to version 3 for diskimage-builder.\n\nDepends-On: https://review.opendev.org/704478\nChange-Id: Idd4925a0e0987671aa730636da16d02c4799ca56\n""}, {'number': 4, 'created': '2020-01-28 12:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2b543949b966f3ff5f5aa052765433f0dff06b9e', 'message': ""swap diskimage-builder/ironic-python-agent-builder order\n\nTurns out we can't actually test changes to DIB if we install\nipa builder after dib because it downgrades diskimage-builder.\n\nAlso defaults python verison to version 3 for diskimage-builder.\n\nDepends-On: https://review.opendev.org/704478\nChange-Id: Idd4925a0e0987671aa730636da16d02c4799ca56\n""}, {'number': 5, 'created': '2020-01-28 13:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4723481680aa07185e66b3cf789d178360b7e259', 'message': ""swap diskimage-builder/ironic-python-agent-builder order\n\nTurns out we can't actually test changes to DIB if we install\nipa builder after dib because it downgrades diskimage-builder.\n\nAlso defaults python verison to version 3 for diskimage-builder.\n\nDepends-On: https://review.opendev.org/704478\nChange-Id: Idd4925a0e0987671aa730636da16d02c4799ca56\n""}, {'number': 6, 'created': '2020-02-15 03:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c56e79f817947a8c354faf2aa96f67487c068dd3', 'message': ""swap diskimage-builder/ironic-python-agent-builder order\n\nTurns out we can't actually test changes to DIB if we install\nipa builder after dib because it downgrades diskimage-builder.\n\nAlso defaults python verison to version 3 for diskimage-builder.\n\nDepends-On: https://review.opendev.org/704478\nChange-Id: Idd4925a0e0987671aa730636da16d02c4799ca56\n""}, {'number': 7, 'created': '2020-05-29 08:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2850076290e11834994521ee9bc0a320efa42cba', 'message': 'Default python verison to version 3 for diskimage-builder\n\nDepends-On: https://review.opendev.org/704478\nChange-Id: Idd4925a0e0987671aa730636da16d02c4799ca56\n'}, {'number': 8, 'created': '2020-05-29 10:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a6fe7ce0ab1080a107b3764f17314c2fb076a546', 'message': 'Default python verison to version 3 for diskimage-builder\n\nDepends-On: https://review.opendev.org/704478\nChange-Id: Idd4925a0e0987671aa730636da16d02c4799ca56\n'}, {'number': 9, 'created': '2020-05-29 10:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/181e1b16b004b7822c797ab3297e5bb8640f3936', 'message': 'WIP/DNM testing the DIB CI\n\nDepends-On: https://review.opendev.org/704478\nChange-Id: Idd4925a0e0987671aa730636da16d02c4799ca56\n'}, {'number': 10, 'created': '2020-05-29 10:50:26.000000000', 'files': ['playbooks/roles/bifrost-create-dib-image/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b3c974f442996977b5544a4b1b34f7e695622894', 'message': 'Provide the correct DIB_PYTHON_EXEC in a venv\n\nDepends-On: https://review.opendev.org/704478\nChange-Id: Idd4925a0e0987671aa730636da16d02c4799ca56\n'}]",1,704480,b3c974f442996977b5544a4b1b34f7e695622894,24,3,10,11655,,,0,"Provide the correct DIB_PYTHON_EXEC in a venv

Depends-On: https://review.opendev.org/704478
Change-Id: Idd4925a0e0987671aa730636da16d02c4799ca56
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/80/704480/7 && git format-patch -1 --stdout FETCH_HEAD,[],0,5b8b51221108ab08157b359663a7170c6a6e36b3,704480,,,0,0
openstack%2Fironic-tempest-plugin~master~I31f08a7ec61e4b6f565bf9221336818ed77d5b31,openstack/ironic-tempest-plugin,master,I31f08a7ec61e4b6f565bf9221336818ed77d5b31,WIP: Ramdisk tempest test,ABANDONED,2018-07-24 17:53:46.000000000,2020-07-17 04:45:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-24 17:53:46.000000000', 'files': ['ironic_tempest_plugin/tests/scenario/ironic_standalone/test_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/eb029b4c9cb04680cf35a7392c3ae519a98e9817', 'message': 'WIP: Ramdisk tempest test\n\nChange-Id: I31f08a7ec61e4b6f565bf9221336818ed77d5b31\nTask: #23165\nStory: #1753842\n'}]",0,585495,eb029b4c9cb04680cf35a7392c3ae519a98e9817,3,1,1,11655,,,0,"WIP: Ramdisk tempest test

Change-Id: I31f08a7ec61e4b6f565bf9221336818ed77d5b31
Task: #23165
Story: #1753842
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/95/585495/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/tests/scenario/ironic_standalone/test_basic_ops.py'],1,eb029b4c9cb04680cf35a7392c3ae519a98e9817,story/1753842," class BaremetalIpmiRamdiskDeploy(bsm.BaremetalStandaloneScenarioTest): # NOTE(TheJulia): This is just copypasta api_microversion = '1.45' min_microversion = '1.45' driver = 'ipmi' deploy_interface = 'ramdisk' @utils.services('image', 'network') def test_ip_access_to_server(self): self.boot_and_verify_node()",,13,0
openstack%2Fironic~master~I9f1402d927dd26d76b31b9d792063f0de89f5329,openstack/ironic,master,I9f1402d927dd26d76b31b9d792063f0de89f5329,fix the error spelling,NEW,2019-01-10 11:40:36.000000000,2020-07-17 04:38:29.000000000,,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 29209}]","[{'number': 1, 'created': '2019-01-10 11:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cbbb544d2958c3ac2f19c138e3af7791db1412ad', 'message': 'fix the error spelling\n\nChange-Id: I9f1402d927dd26d76b31b9d792063f0de89f5329\n'}, {'number': 2, 'created': '2019-01-10 12:18:57.000000000', 'files': ['releasenotes/notes/add-more-retryable-ipmitool-errors-1c9351a89ff0ec1a.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e2b7de3f1e56978b7cba7b9cf3a95e29dc7e9fbc', 'message': 'fix the error spelling\n\nChange-Id: I9f1402d927dd26d76b31b9d792063f0de89f5329\n'}]",2,629836,e2b7de3f1e56978b7cba7b9cf3a95e29dc7e9fbc,15,8,2,27385,,,0,"fix the error spelling

Change-Id: I9f1402d927dd26d76b31b9d792063f0de89f5329
",git fetch https://review.opendev.org/openstack/ironic refs/changes/36/629836/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/add-more-retryable-ipmitool-errors-1c9351a89ff0ec1a.yaml'],1,cbbb544d2958c3ac2f19c138e3af7791db1412ad,communication, This change should improve the reliability of IPMI-based communication, This change should improve the reliability of IPMI-based communicaton,1,1
openstack%2Fneutron~stable%2Frocky~I795ee7ca729646be0411a1232bf218015c65010f,openstack/neutron,stable/rocky,I795ee7ca729646be0411a1232bf218015c65010f,Add config option ``http_retries``,MERGED,2020-07-09 10:18:21.000000000,2020-07-17 04:38:25.000000000,2020-07-17 04:35:48.000000000,"[{'_account_id': 4694}, {'_account_id': 9373}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 10:18:21.000000000', 'files': ['releasenotes/notes/Add-http_retries-config-option-b81dd29c03ba8c6a.yaml', 'neutron/conf/common.py', 'neutron/notifiers/nova.py', 'neutron/tests/unit/notifiers/test_nova.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6bd6847a796c10742ddc6dad166df2c0bb5de636', 'message': 'Add config option ``http_retries``\n\nThis option allows to configure Number of times nova or ironic client\nshould retry on any failed http call.\nDefault value for this new option is ""3"".\n\nConflicts:\n    neutron/notifiers/ironic.py\n    neutron/notifiers/nova.py\n    neutron/tests/unit/notifiers/test_nova.py\n\nChange-Id: I795ee7ca729646be0411a1232bf218015c65010f\nCloses-Bug: #1883712\n(cherry picked from commit e94511cd251299cee84b8b67d404972988ae28d3)\n'}]",0,740220,6bd6847a796c10742ddc6dad166df2c0bb5de636,11,5,1,11975,,,0,"Add config option ``http_retries``

This option allows to configure Number of times nova or ironic client
should retry on any failed http call.
Default value for this new option is ""3"".

Conflicts:
    neutron/notifiers/ironic.py
    neutron/notifiers/nova.py
    neutron/tests/unit/notifiers/test_nova.py

Change-Id: I795ee7ca729646be0411a1232bf218015c65010f
Closes-Bug: #1883712
(cherry picked from commit e94511cd251299cee84b8b67d404972988ae28d3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/740220/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Add-http_retries-config-option-b81dd29c03ba8c6a.yaml', 'neutron/conf/common.py', 'neutron/notifiers/nova.py', 'neutron/tests/unit/notifiers/test_nova.py']",4,6bd6847a796c10742ddc6dad166df2c0bb5de636,bug/1883712," connect_retries=3, connect_retries=3,",,18,1
openstack%2Fneutron~stable%2Fussuri~I34ad0fd5feed65dd1266993a77f6ebc69fecfdfb,openstack/neutron,stable/ussuri,I34ad0fd5feed65dd1266993a77f6ebc69fecfdfb,migration: Use ansible-inventory to parse tripleo inventory,MERGED,2020-07-15 10:28:38.000000000,2020-07-17 04:29:35.000000000,2020-07-17 04:26:49.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-07-15 10:28:38.000000000', 'files': ['tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c0fba2007c53e5120ece6eb6ab84e28a87741d04', 'message': 'migration: Use ansible-inventory to parse tripleo inventory\n\nInstead of adapting to changes to the tripleo inventory structure let\nansible parse it for us using ansible-inventory.\n\nChange-Id: I34ad0fd5feed65dd1266993a77f6ebc69fecfdfb\nCloses-bug: #1884764\n(cherry picked from commit aa6491a9d91bb5aab6bfaba81cf3a82279a551f7)\n'}]",0,741145,c0fba2007c53e5120ece6eb6ab84e28a87741d04,11,4,1,8655,,,0,"migration: Use ansible-inventory to parse tripleo inventory

Instead of adapting to changes to the tripleo inventory structure let
ansible parse it for us using ansible-inventory.

Change-Id: I34ad0fd5feed65dd1266993a77f6ebc69fecfdfb
Closes-bug: #1884764
(cherry picked from commit aa6491a9d91bb5aab6bfaba81cf3a82279a551f7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/741145/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/ovn_migration.sh'],1,c0fba2007c53e5120ece6eb6ab84e28a87741d04,adopt_tripleo_change-stable/ussuri," host_vars=$(ansible-inventory -i ""$inventory_file"" --host ""$host_name"" 2>/dev/null) if [[ $? -eq 0 ]]; then echo ""$host_vars"" | jq -r \.ansible_host echo $host_nameget_group_hosts() { group_name=$2 group_graph=$(ansible-inventory -i ""$inventory_file"" --graph ""$group_name"" 2>/dev/null) if [[ $? -eq 0 ]]; then echo ""$group_graph"" | sed -ne 's/^[ \t|]\+--\([a-z0-9\-]\+\)$/\1/p' else echo """" fi inventory_file=$(mktemp --tmpdir ansible-inventory-XXXXXXXX.yaml) /usr/bin/tripleo-ansible-inventory --static-yaml-inventory ""$inventory_file"" OVN_DBS=$(get_group_hosts ""$inventory_file"" neutron_api) node_ip=$(get_host_ip ""$inventory_file"" $node_name) OVN_CONTROLLERS=$(get_group_hosts ""$inventory_file"" neutron_ovs_agent) node_ip=$(get_host_ip ""$inventory_file"" $node_name) rm -f ""$inventory_file"""," ip=`jq -r --arg role _meta --arg hostname $host_name 'to_entries[] | select(.key == $role) | .value.hostvars[$hostname].ansible_host' $inventory_file` if [[ ""x$ip"" == ""x"" ]] || [[ ""x$ip"" == ""xnull"" ]]; then # This file does not provide translation from the hostname to the IP, or # we already have an IP (Queens backwards compatibility) echo $host_name echo $ipget_role_hosts() { role_name=$2 roles=`jq -r \.$role_name\.children\[\] $inventory_file` for role in $roles; do # During the rocky cycle the format changed to have .value.hosts hosts=`jq -r --arg role ""$role"" 'to_entries[] | select(.key == $role) | .value.hosts[]' $inventory_file` if [[ ""x$hosts"" == ""x"" ]]; then # But we keep backwards compatibility with nested childrens (Queens) hosts=`jq -r --arg role ""$role"" 'to_entries[] | select(.key == $role) | .value.children[]' $inventory_file` for host in $hosts; do HOSTS=""$HOSTS `jq -r --arg host ""$host"" 'to_entries[] | select(.key == $host) | .value.hosts[0]' $inventory_file`"" done else HOSTS=""${hosts} ${HOSTS}"" fi done echo $HOSTS /usr/bin/tripleo-ansible-inventory --list > /tmp/ansible-inventory.txt OVN_DBS=$(get_role_hosts /tmp/ansible-inventory.txt neutron_api) node_ip=$(get_host_ip /tmp/ansible-inventory.txt $node_name) OVN_CONTROLLERS=$(get_role_hosts /tmp/ansible-inventory.txt neutron_ovs_agent) node_ip=$(get_host_ip /tmp/ansible-inventory.txt $node_name) rm -f /tmp/ansible-inventory.txt",19,30
openstack%2Fneutron~stable%2Fqueens~I804a95fdaa3552c785e85ffab7b8ac849c634a87,openstack/neutron,stable/queens,I804a95fdaa3552c785e85ffab7b8ac849c634a87,Update the processing of assigned addresses when assigning addresses,MERGED,2020-06-19 10:10:41.000000000,2020-07-17 04:26:45.000000000,2020-07-17 04:26:45.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 25643}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-19 10:10:41.000000000', 'files': ['neutron/tests/unit/ipam/drivers/neutrondb_ipam/test_driver.py', 'neutron/ipam/drivers/neutrondb_ipam/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b182f9c326df8b943e840ffe3a5c5f64f535ac48', 'message': ""Update the processing of assigned addresses when assigning addresses\n\n1.It is best not to use 'netaddr.IPSet.add',\n  because _compact_single_network in 'IPSet.add' is quite time consuming\n\n2.When the current address pool does not have enough addresses,\n  all addresses are allocated from the current pool,\n  and allocations are continued from the next address pool\n  until all addresses are assigned.\n\nChange-Id: I804a95fdaa3552c785e85ffab7b8ac849c634a87\nCloses-Bug: #1813253\n(cherry picked from commit 1746d7e0e682eab1001bfc434b73efb1cdf5f0f4)\n""}]",0,736969,b182f9c326df8b943e840ffe3a5c5f64f535ac48,20,7,1,9531,,,0,"Update the processing of assigned addresses when assigning addresses

1.It is best not to use 'netaddr.IPSet.add',
  because _compact_single_network in 'IPSet.add' is quite time consuming

2.When the current address pool does not have enough addresses,
  all addresses are allocated from the current pool,
  and allocations are continued from the next address pool
  until all addresses are assigned.

Change-Id: I804a95fdaa3552c785e85ffab7b8ac849c634a87
Closes-Bug: #1813253
(cherry picked from commit 1746d7e0e682eab1001bfc434b73efb1cdf5f0f4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/736969/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/ipam/drivers/neutrondb_ipam/test_driver.py', 'neutron/ipam/drivers/neutrondb_ipam/driver.py']",2,b182f9c326df8b943e840ffe3a5c5f64f535ac48,bug/1813253-stable/queens," allocated_ips = [] requested_num_addresses = num_addresses allocations = self.subnet_manager.list_allocations(context) # It is better not to use 'netaddr.IPSet.add', # because _compact_single_network in 'IPSet.add' # is quite time consuming. ip_allocations = netaddr.IPSet( [netaddr.IPAddress(allocation.ip_address) for allocation in allocations]) if av_set.size < requested_num_addresses: # All addresses of the address pool are allocated # for the first time and the remaining addresses # will be allocated in the next address pools. allocated_num_addresses = av_set.size else: # All expected addresses can be assigned in this loop. allocated_num_addresses = requested_num_addresses allocated_num_addresses)) allocated_ips.extend([str(allocated_ip) for allocated_ip in allocated_ip_pool]) requested_num_addresses -= allocated_num_addresses if requested_num_addresses: # More addresses need to be allocated in the next loop. continue return allocated_ips if allocated_num_addresses > 1: window = min(av_set.size, allocated_num_addresses * MULTIPLIER, if window < allocated_num_addresses: allocated_ip_pool = random.sample(av_ips, allocated_num_addresses) allocated_ips.extend([str(allocated_ip) for allocated_ip in allocated_ip_pool]) requested_num_addresses -= allocated_num_addresses if requested_num_addresses: # More addresses need to be allocated in the next loop. continue return allocated_ips"," ip_allocations = netaddr.IPSet() for ipallocation in self.subnet_manager.list_allocations(context): ip_allocations.add(ipallocation.ip_address) if av_set.size < num_addresses: # Not enough addresses in pool to perform validation # TODO(njohnston): How to handle when there are enough IPs but # not enough in a single pool to satisfy the request? continue num_addresses)) return [str(allocated_ip) for allocated_ip in allocated_ip_pool] if num_addresses > 1: window = min(av_set.size, num_addresses * MULTIPLIER, if window < num_addresses: allocated_ip_pool = random.sample(av_ips, num_addresses) return [str(allocated_ip) for allocated_ip in allocated_ip_pool]",67,16
openstack%2Fironic~master~I88c57a1345edb1b14c760753638ad927641b34a2,openstack/ironic,master,I88c57a1345edb1b14c760753638ad927641b34a2,Change non-tinyipa jobs to use multiple cores,MERGED,2020-07-13 21:30:39.000000000,2020-07-17 03:59:32.000000000,2020-07-16 22:22:24.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-13 21:30:39.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/44d56c559b5cc634911b5cdea42ae1b22aa4cb76', 'message': 'Change non-tinyipa jobs to use multiple cores\n\nA large ramdisk image tends to take an undesirable amount\nof time performing the initial uncompression into memory before\nthe system is booted and available. This sets the number of CPU cores\nby default for all jobs to 2, and only sets that back to 1 where\nTinyIPA is being used.\n\nChange-Id: I88c57a1345edb1b14c760753638ad927641b34a2\n'}]",0,740820,44d56c559b5cc634911b5cdea42ae1b22aa4cb76,20,7,1,11655,,,0,"Change non-tinyipa jobs to use multiple cores

A large ramdisk image tends to take an undesirable amount
of time performing the initial uncompression into memory before
the system is booted and available. This sets the number of CPU cores
by default for all jobs to 2, and only sets that back to 1 where
TinyIPA is being used.

Change-Id: I88c57a1345edb1b14c760753638ad927641b34a2
",git fetch https://review.opendev.org/openstack/ironic refs/changes/20/740820/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,44d56c559b5cc634911b5cdea42ae1b22aa4cb76,740360, IRONIC_VM_SPECS_CPU: 2 IRONIC_VM_SPECS_CPU: 1 IRONIC_VM_SPECS_CPU: 1 IRONIC_VM_SPECS_CPU: 1 IRONIC_VM_SPECS_CPU: 1,,5,0
openstack%2Fironic~master~Ibd94d9d8ad5467f8430f77673a34507feb83da84,openstack/ironic,master,Ibd94d9d8ad5467f8430f77673a34507feb83da84,Do not validate driver on changing non-driver fields,MERGED,2020-07-07 10:26:25.000000000,2020-07-17 03:03:25.000000000,2020-07-16 20:50:46.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-07 10:26:25.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/driver-maintenance-0945c2939fa4e917.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/217e354a2dc0999d2b27130d0cc0abce9a097bf3', 'message': 'Do not validate driver on changing non-driver fields\n\nThis prevents setting maintenance on nodes with a broken driver.\n\nChange-Id: Ibd94d9d8ad5467f8430f77673a34507feb83da84\n'}]",0,739699,217e354a2dc0999d2b27130d0cc0abce9a097bf3,87,7,1,10239,,,0,"Do not validate driver on changing non-driver fields

This prevents setting maintenance on nodes with a broken driver.

Change-Id: Ibd94d9d8ad5467f8430f77673a34507feb83da84
",git fetch https://review.opendev.org/openstack/ironic refs/changes/99/739699/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/driver-maintenance-0945c2939fa4e917.yaml']",3,217e354a2dc0999d2b27130d0cc0abce9a097bf3,driver-maintenance,--- fixes: - | Fixes updating driver fields for nodes with a broken driver. This is required to be able to set maintenance for such nodes. ,,55,1
openstack%2Ftripleo-common~stable%2Ftrain~I178ac191e6e438be850767a2f3ca1a51a390668d,openstack/tripleo-common,stable/train,I178ac191e6e438be850767a2f3ca1a51a390668d,WIP Handle scale-down limits separately,ABANDONED,2020-07-16 09:06:50.000000000,2020-07-17 02:52:24.000000000,,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-16 09:06:50.000000000', 'files': ['workbooks/deployment.yaml', 'tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/db182a0fd7159e3d6587e9cdb5afe1ad36514859', 'message': ""WIP Handle scale-down limits separately\n\nWe use the same limit_hosts parameter for both scale down\nand normal deployment. In case of normal deployment blacklists\nare to be respected where as in case of scale-down they should\nnot.\n\nLet's use different set of parameters to avoid the confusion\nand manage them properly in the mistral action.\n\nChange-Id: I178ac191e6e438be850767a2f3ca1a51a390668d\nCloses-Bug: #1857298\n""}]",0,741407,db182a0fd7159e3d6587e9cdb5afe1ad36514859,13,4,1,8833,,,0,"WIP Handle scale-down limits separately

We use the same limit_hosts parameter for both scale down
and normal deployment. In case of normal deployment blacklists
are to be respected where as in case of scale-down they should
not.

Let's use different set of parameters to avoid the confusion
and manage them properly in the mistral action.

Change-Id: I178ac191e6e438be850767a2f3ca1a51a390668d
Closes-Bug: #1857298
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/741407/1 && git format-patch -1 --stdout FETCH_HEAD,"['workbooks/deployment.yaml', 'tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py']",3,db182a0fd7159e3d6587e9cdb5afe1ad36514859,," def test_run_with_limit(self, mock_execute, mock_write_cfg): mock_execute.return_value = ('', '') action = ansible.AnsiblePlaybookAction( playbook=self.playbook, limit_hosts='Compute', blacklisted_hostnames=['compute21'], remote_user=self.remote_user, become=self.become, become_user=self.become_user, extra_vars=self.extra_vars, verbosity=self.verbosity, config_download_args=['--check', '--diff']) ansible_config_path = os.path.join(action.work_dir, 'ansible.cfg') mock_write_cfg.return_value = ansible_config_path action.run(self.ctx) mock_write_cfg.assert_called_once_with(action.work_dir, self.remote_user, ssh_private_key=None, override_ansible_cfg=None) pb = os.path.join(action.work_dir, 'playbook.yaml') env = { 'HOME': action.work_dir, 'ANSIBLE_LOCAL_TEMP': action.work_dir, 'ANSIBLE_CONFIG': ansible_config_path, 'ANSIBLE_CALLBACK_WHITELIST': 'tripleo,profile_tasks', 'ANSIBLE_STDOUT_CALLBACK': 'tripleo', 'PROFILE_TASKS_TASK_OUTPUT_LIMIT': '0', } python_version = sys.version_info.major ansible_playbook_cmd = 'ansible-playbook-{}'.format(python_version) mock_execute.assert_called_once_with( ansible_playbook_cmd, '-v', pb, '--limit', 'Compute:!compute21', '--become', '--become-user', self.become_user, '--extra-vars', json.dumps(self.extra_vars), env_variables=env, cwd=action.work_dir, log_errors=processutils.LogErrors.ALL) @mock.patch(""tripleo_common.actions.ansible.write_default_ansible_cfg"") @mock.patch(""oslo_concurrency.processutils.execute"") def test_run_with_scale_limit(self, mock_execute, mock_write_cfg): mock_execute.return_value = ('', '') action = ansible.AnsiblePlaybookAction( playbook=self.playbook, limit_hosts=None, scale_limit_hosts='compute35', blacklisted_hostnames=['compute21'], remote_user=self.remote_user, become=self.become, become_user=self.become_user, extra_vars=self.extra_vars, verbosity=self.verbosity, config_download_args=['--check', '--diff']) ansible_config_path = os.path.join(action.work_dir, 'ansible.cfg') mock_write_cfg.return_value = ansible_config_path action.run(self.ctx) mock_write_cfg.assert_called_once_with(action.work_dir, self.remote_user, ssh_private_key=None, override_ansible_cfg=None) pb = os.path.join(action.work_dir, 'playbook.yaml') env = { 'HOME': action.work_dir, 'ANSIBLE_LOCAL_TEMP': action.work_dir, 'ANSIBLE_CONFIG': ansible_config_path, 'ANSIBLE_CALLBACK_WHITELIST': 'tripleo,profile_tasks', 'ANSIBLE_STDOUT_CALLBACK': 'tripleo', 'PROFILE_TASKS_TASK_OUTPUT_LIMIT': '0', } python_version = sys.version_info.major ansible_playbook_cmd = 'ansible-playbook-{}'.format(python_version) mock_execute.assert_called_once_with( ansible_playbook_cmd, '-v', pb, '--limit', 'compute35', '--become', '--become-user', self.become_user, '--extra-vars', json.dumps(self.extra_vars), env_variables=env, cwd=action.work_dir, log_errors=processutils.LogErrors.ALL) @mock.patch(""tripleo_common.actions.ansible.write_default_ansible_cfg"") @mock.patch(""oslo_concurrency.processutils.execute"")",,103,10
openstack%2Foctavia-dashboard~master~I96fc5ca23010958d68cf261793489580b57f3a4f,openstack/octavia-dashboard,master,I96fc5ca23010958d68cf261793489580b57f3a4f,Switch to hacking 3.0,MERGED,2020-05-15 14:22:20.000000000,2020-07-17 02:46:59.000000000,2020-07-17 02:44:47.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 8556}, {'_account_id': 11628}, {'_account_id': 15025}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-15 14:22:20.000000000', 'files': ['test-requirements.txt', 'octavia_dashboard/api/rest/lbaasv2.py', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/771dcae2eddd7003159846994b1196b709de8602', 'message': 'Switch to hacking 3.0\n\nThis patch update hacking version to 3.0.0[1]. In order to make code compatible\nwith new hacking rules line break before/after binary operator I have added\nW504 into ignore list in tox.ini. It also drop flake8, hacking, django-babel,\nand mox3 packages from lower-requirements.txt.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: I96fc5ca23010958d68cf261793489580b57f3a4f\n'}]",0,728461,771dcae2eddd7003159846994b1196b709de8602,9,6,1,29313,,,0,"Switch to hacking 3.0

This patch update hacking version to 3.0.0[1]. In order to make code compatible
with new hacking rules line break before/after binary operator I have added
W504 into ignore list in tox.ini. It also drop flake8, hacking, django-babel,
and mox3 packages from lower-requirements.txt.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: I96fc5ca23010958d68cf261793489580b57f3a4f
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/61/728461/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/api/rest/lbaasv2.py', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini']",4,771dcae2eddd7003159846994b1196b709de8602,,"# W504 line break after binary operatorignore = E123,E125,F405,W504","ignore = E123,E125,F405",4,7
openstack%2Ftripleo-common~master~I819d057cf4673a50231be6277160b986c232e692,openstack/tripleo-common,master,I819d057cf4673a50231be6277160b986c232e692,image_uploader: switch stdout_callback to tripleo_dense,MERGED,2020-07-14 20:22:56.000000000,2020-07-17 02:17:45.000000000,2020-07-16 22:37:23.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-14 20:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4e1d2eaf9018e530111ee9989969f4880494cc33', 'message': 'image_uploader: switch stdout_callback to tripleo_dense\n\n... because this is cool and consistent with the rest of Ansible\nconfigurations.\n\nChange-Id: I819d057cf4673a50231be6277160b986c232e692\n'}, {'number': 2, 'created': '2020-07-15 02:44:48.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c19ee504412e3f515219a7cf8336a78328657f58', 'message': 'image_uploader: switch stdout_callback to tripleo_dense\n\n... because this is cool and consistent with the rest of Ansible\nconfigurations.\n\nChange-Id: I819d057cf4673a50231be6277160b986c232e692\n'}]",0,741045,c19ee504412e3f515219a7cf8336a78328657f58,16,5,2,3153,,,0,"image_uploader: switch stdout_callback to tripleo_dense

... because this is cool and consistent with the rest of Ansible
configurations.

Change-Id: I819d057cf4673a50231be6277160b986c232e692
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/45/741045/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,4e1d2eaf9018e530111ee9989969f4880494cc33,callback/image-upload," ""stdout_callback=tripleo_dense\n"""," ""stdout_callback=yaml\n""",2,2
openstack%2Ftripleo-common~master~I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d,openstack/tripleo-common,master,I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d,TCIB: add python3-pynacl to mariadb image,MERGED,2020-07-15 14:49:05.000000000,2020-07-17 02:17:26.000000000,2020-07-16 22:37:24.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-15 14:49:05.000000000', 'files': ['container-images/tcib/base/mariadb/mariadb.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad', 'message': 'TCIB: add python3-pynacl to mariadb image\n\nPorting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.\n\nChange-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d\nRelated-Bug: #1866093\n'}]",0,741229,1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad,11,5,1,3153,,,0,"TCIB: add python3-pynacl to mariadb image

Porting I908b2af6acce25dfb115463f9d04b0e14c7cba33 into TCIB.

Change-Id: I660feeba2cfdbca9cff6cc05ff9fd63458d4da0d
Related-Bug: #1866093
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/29/741229/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/mariadb/mariadb.yaml'],1,1b22253e4503304bbe5f1a1f7ffdb98b5a3a39ad,, - python3-pynacl,,1,0
openstack%2Fnetworking-ovn~stable%2Ftrain~I34ad0fd5feed65dd1266993a77f6ebc69fecfdfb,openstack/networking-ovn,stable/train,I34ad0fd5feed65dd1266993a77f6ebc69fecfdfb,migration: Use ansible-inventory to parse tripleo inventory,MERGED,2020-07-15 13:50:02.000000000,2020-07-17 01:25:24.000000000,2020-07-17 01:22:42.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-07-15 13:50:02.000000000', 'files': ['migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6bc778b51e0b286867681edd014540119a6901d6', 'message': 'migration: Use ansible-inventory to parse tripleo inventory\n\nInstead of adapting to changes to the tripleo inventory structure let\nansible parse it for us using ansible-inventory.\n\nCloses-bug: #1884764\n\nChange-Id: I34ad0fd5feed65dd1266993a77f6ebc69fecfdfb\n(cherry-picked from c0fba2007c53e5120ece6eb6ab84e28a87741d04)\n'}]",0,741206,6bc778b51e0b286867681edd014540119a6901d6,9,6,1,8655,,,0,"migration: Use ansible-inventory to parse tripleo inventory

Instead of adapting to changes to the tripleo inventory structure let
ansible parse it for us using ansible-inventory.

Closes-bug: #1884764

Change-Id: I34ad0fd5feed65dd1266993a77f6ebc69fecfdfb
(cherry-picked from c0fba2007c53e5120ece6eb6ab84e28a87741d04)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/06/741206/1 && git format-patch -1 --stdout FETCH_HEAD,['migration/tripleo_environment/ovn_migration.sh'],1,6bc778b51e0b286867681edd014540119a6901d6,bug/1884764," host_vars=$(ansible-inventory -i ""$inventory_file"" --host ""$host_name"" 2>/dev/null) if [[ $? -eq 0 ]]; then echo ""$host_vars"" | jq -r \.ansible_host echo $host_nameget_group_hosts() { group_name=$2 group_graph=$(ansible-inventory -i ""$inventory_file"" --graph ""$group_name"" 2>/dev/null) if [[ $? -eq 0 ]]; then echo ""$group_graph"" | sed -ne 's/^[ \t|]\+--\([a-z0-9\-]\+\)$/\1/p' else echo """" fi inventory_file=$(mktemp --tmpdir ansible-inventory-XXXXXXXX.yaml) /usr/bin/tripleo-ansible-inventory --static-yaml-inventory ""$inventory_file"" OVN_DBS=$(get_group_hosts ""$inventory_file"" neutron_api) node_ip=$(get_host_ip ""$inventory_file"" $node_name) if [ ""$ovn_central"" == ""True"" ]; then OVN_CONTROLLERS=$(get_group_hosts ""$inventory_file"" neutron_ovs_agent) node_ip=$(get_host_ip ""$inventory_file"" $node_name) rm -f ""$inventory_file"""," ip=`jq -r --arg role _meta --arg hostname $host_name 'to_entries[] | select(.key == $role) | .value.hostvars[$hostname].ansible_host' $inventory_file` if [[ ""x$ip"" == ""x"" ]] || [[ ""x$ip"" == ""xnull"" ]]; then # This file does not provide translation from the hostname to the IP, or # we already have an IP (Queens backwards compatibility) echo $host_name echo $ipget_role_hosts() { role_name=$2 roles=`jq -r \.$role_name\.children\[\] $inventory_file` for role in $roles; do # During the rocky cycle the format changed to have .value.hosts hosts=`jq -r --arg role ""$role"" 'to_entries[] | select(.key == $role) | .value.hosts[]' $inventory_file` if [[ ""x$hosts"" == ""x"" ]]; then # But we keep backwards compatibility with nested childrens (Queens) hosts=`jq -r --arg role ""$role"" 'to_entries[] | select(.key == $role) | .value.children[]' $inventory_file` for host in $hosts; do HOSTS=""$HOSTS `jq -r --arg host ""$host"" 'to_entries[] | select(.key == $host) | .value.hosts[0]' $inventory_file`"" done else HOSTS=""${hosts} ${HOSTS}"" fi done echo $HOSTS /usr/bin/tripleo-ansible-inventory --list > /tmp/ansible-inventory.txt OVN_DBS=$(get_role_hosts /tmp/ansible-inventory.txt neutron_api) node_ip=$(get_host_ip /tmp/ansible-inventory.txt $node_name) if [ ""$ovn_central"" == ""True"" ] then OVN_CONTROLLERS=$(get_role_hosts /tmp/ansible-inventory.txt neutron_ovs_agent) node_ip=$(get_host_ip /tmp/ansible-inventory.txt $node_name) rm -f /tmp/ansible-inventory.txt",20,32
openstack%2Fnetworking-ovn~stable%2Ftrain~I3f7de633e5546dc78c3546b9c34ea81d0a0524d3,openstack/networking-ovn,stable/train,I3f7de633e5546dc78c3546b9c34ea81d0a0524d3,[OVN] HA Chassis Group: Ignore UPDATES when external_ids hasn't changed,MERGED,2020-06-19 15:58:23.000000000,2020-07-17 01:24:12.000000000,2020-07-17 01:22:41.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-19 15:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a21c686fbe383a48221578355e62329432c528a4', 'message': '[OVN] HA Chassis Group: Ignore UPDATES when external_ids hasn\'t changed\n\nThe ""old"" parameter passed to the handle_ha_chassis_group_changes()\nmethod is a delta object and sometimes it does not contain the\n""external_ids"" column (because it hasn\'t changed).\n\nThe absence of that column was misleading that method into believe that\nthe ""old"" object was no longer a gateway chassis and that triggered some\nchanges in the HA group. Changing the HA group resulted in the SRIOV\n(external in OVN) ports to start flapping between the gateway chassis.\n\nThis patch is adding a check to verify that the ""external_ids"" column\nhas changed before acting on it, otherwise just ignore the update and\nreturn.\n\nCloses-Bug: #1869389\nChange-Id: I3f7de633e5546dc78c3546b9c34ea81d0a0524d3\n(cherry-picked manually from Neutron\n ea999564a5b80dcf13c0c43f107165f0754210b7)\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-07-15 09:05:09.000000000', 'files': ['networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9858ef5a7bc842068f0f26b1d6c6d188f6bf4545', 'message': '[OVN] HA Chassis Group: Ignore UPDATES when external_ids hasn\'t changed\n\nThe ""old"" parameter passed to the handle_ha_chassis_group_changes()\nmethod is a delta object and sometimes it does not contain the\n""external_ids"" column (because it hasn\'t changed).\n\nThe absence of that column was misleading that method into believe that\nthe ""old"" object was no longer a gateway chassis and that triggered some\nchanges in the HA group. Changing the HA group resulted in the SRIOV\n(external in OVN) ports to start flapping between the gateway chassis.\n\nThis patch is adding a check to verify that the ""external_ids"" column\nhas changed before acting on it, otherwise just ignore the update and\nreturn.\n\nCloses-Bug: #1869389\nChange-Id: I3f7de633e5546dc78c3546b9c34ea81d0a0524d3\n(cherry-picked manually from Neutron\n ea999564a5b80dcf13c0c43f107165f0754210b7)\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,737041,9858ef5a7bc842068f0f26b1d6c6d188f6bf4545,23,4,2,8655,,,0,"[OVN] HA Chassis Group: Ignore UPDATES when external_ids hasn't changed

The ""old"" parameter passed to the handle_ha_chassis_group_changes()
method is a delta object and sometimes it does not contain the
""external_ids"" column (because it hasn't changed).

The absence of that column was misleading that method into believe that
the ""old"" object was no longer a gateway chassis and that triggered some
changes in the HA group. Changing the HA group resulted in the SRIOV
(external in OVN) ports to start flapping between the gateway chassis.

This patch is adding a check to verify that the ""external_ids"" column
has changed before acting on it, otherwise just ignore the update and
return.

Closes-Bug: #1869389
Change-Id: I3f7de633e5546dc78c3546b9c34ea81d0a0524d3
(cherry-picked manually from Neutron
 ea999564a5b80dcf13c0c43f107165f0754210b7)
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/41/737041/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py']",2,a21c686fbe383a48221578355e62329432c528a4,bug/1869389-ha-chassis-grp-update-no-ext-ids," def test_handle_ha_chassis_group_changes_update_ext_id_not_found(self): self.is_gw_ch_mock.side_effect = (True, False) old = fakes.FakeOvsdbTable.create_one_ovsdb_table( attrs={'name': 'SpongeBob'}) self.assertIsNone(self.event.handle_ha_chassis_group_changes( self.event.ROW_UPDATE, mock.Mock(), old)) self.assertFalse(self.nb_ovn.ha_chassis_group_add_chassis.called) self.assertFalse(self.nb_ovn.ha_chassis_group_del_chassis.called)",,14,0
openstack%2Fnova~master~I04717b95dd44ae89f24bd74525d1c9607e3bc0fc,openstack/nova,master,I04717b95dd44ae89f24bd74525d1c9607e3bc0fc,zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full,MERGED,2020-07-10 11:23:05.000000000,2020-07-17 01:23:00.000000000,2020-07-17 00:31:39.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-10 11:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4728dc94e23136fbda6d327093def0e0f483b05b', 'message': 'zuu: remove legacy-tempest-dsvm-neutron-dvr-multinode-full\n\nThe job was part of the neutron experimental queue but then removed\nduring the ussuri lifecycle.\nSee https://review.opendev.org/#/c/693630/\n\nChange-Id: I04717b95dd44ae89f24bd74525d1c9607e3bc0fc\n'}, {'number': 2, 'created': '2020-07-10 11:27:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/bce4a3ab97320bdc2a6a43e2a961a0aa0b8ffb63', 'message': 'zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full\n\nThe job was part of the neutron experimental queue but then removed\nduring the ussuri lifecycle.\nSee https://review.opendev.org/#/c/693630/\n\nChange-Id: I04717b95dd44ae89f24bd74525d1c9607e3bc0fc\n'}]",1,740447,bce4a3ab97320bdc2a6a43e2a961a0aa0b8ffb63,24,11,2,10459,,,0,"zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full

The job was part of the neutron experimental queue but then removed
during the ussuri lifecycle.
See https://review.opendev.org/#/c/693630/

Change-Id: I04717b95dd44ae89f24bd74525d1c9607e3bc0fc
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/740447/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4728dc94e23136fbda6d327093def0e0f483b05b,native-zuulv3-migration,, - legacy-tempest-dsvm-neutron-dvr-multinode-full: irrelevant-files: *dsvm-irrelevant-files,0,2
openstack%2Ftripleo-common~master~Ib80d9a055cb0fd0f0e1cf437d579d5ec32710812,openstack/tripleo-common,master,Ib80d9a055cb0fd0f0e1cf437d579d5ec32710812,TCIB: bump ceph image to align with kolla images,MERGED,2020-07-15 13:57:10.000000000,2020-07-17 00:22:29.000000000,2020-07-17 00:20:38.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 13861}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-15 13:57:10.000000000', 'files': ['container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/415457e6ccaab1b0c128c9baa107d9e871c9f27d', 'message': 'TCIB: bump ceph image to align with kolla images\n\nThis was missed when we implemented TCIB, in the meantime the ceph image\nwas bumped to v4.0.12.\n\nChange-Id: Ib80d9a055cb0fd0f0e1cf437d579d5ec32710812\n'}]",1,741208,415457e6ccaab1b0c128c9baa107d9e871c9f27d,22,9,1,3153,,,0,"TCIB: bump ceph image to align with kolla images

This was missed when we implemented TCIB, in the meantime the ceph image
was bumped to v4.0.12.

Change-Id: Ib80d9a055cb0fd0f0e1cf437d579d5ec32710812
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/08/741208/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml'],1,415457e6ccaab1b0c128c9baa107d9e871c9f27d,ceph,- imagename: docker.io/ceph/daemon:v4.0.12-stable-4.0-nautilus-centos-7-x86_64,- imagename: docker.io/ceph/daemon:v4.0.10-stable-4.0-nautilus-centos-7-x86_64,1,1
openstack%2Fnova~master~I8b7d2d45963160bc8acf19f36f7945c7545570b3,openstack/nova,master,I8b7d2d45963160bc8acf19f36f7945c7545570b3,libvirt: Add vTPM config support,MERGED,2020-07-03 11:16:41.000000000,2020-07-17 00:20:14.000000000,2020-07-17 00:17:33.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-03 11:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d3d98e52ee05e60953e5f589af29061cc203a43', 'message': ""libvirt: Add vTPM config support\n\nThere are two changes to our XML element generation code needed for vTPM\nsupport: the '<secret>' element needs to gain support for the 'vtpm'\nusage type, and a wholly new '<tpm>' element [1].\n\nNone of this is actually used yet, outside of tests. That will come\nlater.\n\n[1] https://libvirt.org/formatsecret.html\n[2] https://libvirt.org/formatdomain.html#elementsTpm\n\nChange-Id: I8b7d2d45963160bc8acf19f36f7945c7545570b3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-07 15:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b4207b9b8781792577f61374c3554b57d59bd30', 'message': ""libvirt: Add vTPM config support\n\nThere are two changes to our XML element generation code needed for vTPM\nsupport: the '<secret>' element needs to gain support for the 'vtpm'\nusage type, and a wholly new '<tpm>' element [1].\n\nNone of this is actually used yet, outside of tests. That will come\nlater.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://libvirt.org/formatsecret.html\n[2] https://libvirt.org/formatdomain.html#elementsTpm\n\nChange-Id: I8b7d2d45963160bc8acf19f36f7945c7545570b3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-07-08 14:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c5e037c8685b550b752e4779b0a545f8120560e', 'message': ""libvirt: Add vTPM config support\n\nThere are two changes to our XML element generation code needed for vTPM\nsupport: the '<secret>' element needs to gain support for the 'vtpm'\nusage type, and a wholly new '<tpm>' element [1].\n\nNone of this is actually used yet, outside of tests. That will come\nlater.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://libvirt.org/formatsecret.html\n[2] https://libvirt.org/formatdomain.html#elementsTpm\n\nChange-Id: I8b7d2d45963160bc8acf19f36f7945c7545570b3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-07-09 13:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29614924259a31127de8d1c8ee47369a6acf9a3c', 'message': ""libvirt: Add vTPM config support\n\nThere are two changes to our XML element generation code needed for vTPM\nsupport: the '<secret>' element needs to gain support for the 'vtpm'\nusage type, and a wholly new '<tpm>' element [1].\n\nNone of this is actually used yet, outside of tests. That will come\nlater.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://libvirt.org/formatsecret.html\n[2] https://libvirt.org/formatdomain.html#elementsTpm\n\nChange-Id: I8b7d2d45963160bc8acf19f36f7945c7545570b3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-07-16 17:04:26.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py', 'nova/virt/hardware.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e3b0412dda2c070e9d4d3341de22d9845b84b7c6', 'message': ""libvirt: Add vTPM config support\n\nThere are two changes to our XML element generation code needed for vTPM\nsupport: the '<secret>' element needs to gain support for the 'vtpm'\nusage type, and a wholly new '<tpm>' element [1].\n\nNone of this is actually used yet, outside of tests. That will come\nlater.\n\nPart of blueprint add-emulated-virtual-tpm\n\n[1] https://libvirt.org/formatsecret.html\n[2] https://libvirt.org/formatdomain.html#elementsTpm\n\nChange-Id: I8b7d2d45963160bc8acf19f36f7945c7545570b3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",9,739209,e3b0412dda2c070e9d4d3341de22d9845b84b7c6,54,11,5,15334,,,0,"libvirt: Add vTPM config support

There are two changes to our XML element generation code needed for vTPM
support: the '<secret>' element needs to gain support for the 'vtpm'
usage type, and a wholly new '<tpm>' element [1].

None of this is actually used yet, outside of tests. That will come
later.

Part of blueprint add-emulated-virtual-tpm

[1] https://libvirt.org/formatsecret.html
[2] https://libvirt.org/formatdomain.html#elementsTpm

Change-Id: I8b7d2d45963160bc8acf19f36f7945c7545570b3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/739209/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/hardware.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py']",5,7d3d98e52ee05e60953e5f589af29061cc203a43,bp/add-emulated-virtual-tpm,"from nova.virt import hardware secret.ephemeral = False secret.private = False <secret ephemeral=""no"" private=""no""> secret.ephemeral = False secret.private = False <secret ephemeral=""no"" private=""no""> def test_config_secret_vtpm(self): secret.usage_type = 'vtpm' secret.usage_id = 'sample_name' secret.uuid = uuids.vtpm xml = secret.to_xml() expected_xml = f"""""" <secret ephemeral=""yes"" private=""yes""> <uuid>{uuids.vtpm}</uuid> <usage type=""vtpm""> <name>sample_name</name> </usage> </secret>"""""" self.assertXmlEqual(expected_xml, xml) def test_config_secret_iscsi(self): secret = config.LibvirtConfigSecret() secret.ephemeral = False secret.private = False <secret ephemeral=""no"" private=""no""> class LibvirtConfigTPMTest(LibvirtConfigBaseTest): def test_config_tpm_tis_1_2(self): vtpm_config = hardware.VTPMConfig('1.2', 'tpm-tis') vtpm_secret_uuid = 'b028130c-bdcb-4d5f-9bca-b9175ca6c28c' expected_xml = """""" <tpm model='tpm-tis'> <backend type='emulator' version='1.2'> <encryption secret='b028130c-bdcb-4d5f-9bca-b9175ca6c28c'/> </backend> </tpm>"""""" tpm = config.LibvirtConfigGuestVTPM(vtpm_config, vtpm_secret_uuid) xml = tpm.to_xml() self.assertXmlEqual(expected_xml, xml) def test_config_tpm_tis_2_0(self): vtpm_config = hardware.VTPMConfig('2.0', 'tpm-tis') vtpm_secret_uuid = 'b028130c-bdcb-4d5f-9bca-b9175ca6c28c' expected_xml = """""" <tpm model='tpm-tis'> <backend type='emulator' version='2.0'> <encryption secret='b028130c-bdcb-4d5f-9bca-b9175ca6c28c'/> </backend> </tpm>"""""" tpm = config.LibvirtConfigGuestVTPM(vtpm_config, vtpm_secret_uuid) xml = tpm.to_xml() self.assertXmlEqual(expected_xml, xml) def test_config_tpm_crb_2_0(self): vtpm_config = hardware.VTPMConfig('2.0', 'tpm-crb') vtpm_secret_uuid = 'b028130c-bdcb-4d5f-9bca-b9175ca6c28c' expected_xml = """""" <tpm model='tpm-crb'> <backend type='emulator' version='2.0'> <encryption secret='b028130c-bdcb-4d5f-9bca-b9175ca6c28c'/> </backend> </tpm>"""""" tpm = config.LibvirtConfigGuestVTPM(vtpm_config, vtpm_secret_uuid) xml = tpm.to_xml() self.assertXmlEqual(expected_xml, xml)"," secret.ephemeral = True secret.private = True <secret ephemeral=""yes"" private=""yes""> secret.ephemeral = True secret.private = True <secret ephemeral=""yes"" private=""yes""> def test_config_secret_iscsi(self): <secret ephemeral=""yes"" private=""yes"">",121,14
openstack%2Fpuppet-glare~master~Idbaf877352d93a9713a87b4ceadd18feb770ad6d,openstack/puppet-glare,master,Idbaf877352d93a9713a87b4ceadd18feb770ad6d,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-16 01:27:43.000000000,2020-07-17 00:01:47.000000000,2020-07-17 00:00:27.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 01:27:43.000000000', 'files': ['spec/classes/glare_keystone_authtoken_spec.rb', 'releasenotes/notes/keystone-authtoken-interface-b271efca2905e001.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/ede6fbf786fce99cf2f57c58ad5923fd4daa7593', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: Idbaf877352d93a9713a87b4ceadd18feb770ad6d\n'}]",0,741353,ede6fbf786fce99cf2f57c58ad5923fd4daa7593,12,3,1,32114,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: Idbaf877352d93a9713a87b4ceadd18feb770ad6d
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/53/741353/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/glare_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'releasenotes/notes/keystone-authtoken-interface-b271efca2905e001.yaml']",3,ede6fbf786fce99cf2f57c58ad5923fd4daa7593,at-interface,"--- features: - | The new ``glare::keystone::authtoken::interface`` parameter has been added, which can be used to set the interface parameter in authtoken middleware. ",,15,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ie24163a39a68ec73ae8ea5ad1011eb3789961077,openstack/python-tripleoclient,stable/train,Ie24163a39a68ec73ae8ea5ad1011eb3789961077,Skip network check with stack env when validations disabled,MERGED,2020-07-16 14:12:02.000000000,2020-07-16 23:51:42.000000000,2020-07-16 23:50:02.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-16 14:12:02.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bf17d081b87592eef775b183827a5d3b5380611c', 'message': 'Skip network check with stack env when validations disabled\n\nAllow for bypassing check_stack_network_matches_env_files()\nwhen --disable-validations is provided.\n\nChange-Id: Ie24163a39a68ec73ae8ea5ad1011eb3789961077\nCloses-Bug: #1866155\n(cherry picked from commit d8a7eaf88c22af6e31d27df9e5ef83a83a8f17b7)\n'}]",0,741464,bf17d081b87592eef775b183827a5d3b5380611c,9,4,1,14985,,,0,"Skip network check with stack env when validations disabled

Allow for bypassing check_stack_network_matches_env_files()
when --disable-validations is provided.

Change-Id: Ie24163a39a68ec73ae8ea5ad1011eb3789961077
Closes-Bug: #1866155
(cherry picked from commit d8a7eaf88c22af6e31d27df9e5ef83a83a8f17b7)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/64/741464/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,bf17d081b87592eef775b183827a5d3b5380611c,," if not parsed_args.disable_validations: # note(aschultz): network validation goes here before we deploy utils.check_stack_network_matches_env_files(stack, env)"," # note(aschultz): network validation goes here before we deploy utils.check_stack_network_matches_env_files(stack, env)",3,2
openstack%2Fopenstack-helm-infra~master~Iaeea66dad34a2616c0620eafacc53574ed79a7b5,openstack/openstack-helm-infra,master,Iaeea66dad34a2616c0620eafacc53574ed79a7b5,Add missing security-context for elasticsearch-data and elasticsearch-master,MERGED,2020-07-16 02:06:04.000000000,2020-07-16 23:38:57.000000000,2020-07-16 23:37:34.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24780}, {'_account_id': 29131}, {'_account_id': 29144}, {'_account_id': 29161}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-07-16 02:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dcc598979fefdb272d4a2cbaf3e0b55b34d1b3f0', 'message': 'Add missing helm-toolkit snippet to elasticsearch-perms containers\n\nThis also implements security-context template to add readOnly-fs flag\n\nChange-Id: Iaeea66dad34a2616c0620eafacc53574ed79a7b5\n'}, {'number': 2, 'created': '2020-07-16 19:54:46.000000000', 'files': ['elasticsearch/values.yaml', 'elasticsearch/templates/statefulset-master.yaml', 'elasticsearch/templates/statefulset-data.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9cfb1f8509a2bb6b46b9727695041931aaf326ed', 'message': 'Add missing security-context for elasticsearch-data and elasticsearch-master\n\nThis also implements security-context template to add readOnly-fs flag\n\nChange-Id: Iaeea66dad34a2616c0620eafacc53574ed79a7b5\n'}]",1,741357,9cfb1f8509a2bb6b46b9727695041931aaf326ed,17,14,2,29161,,,0,"Add missing security-context for elasticsearch-data and elasticsearch-master

This also implements security-context template to add readOnly-fs flag

Change-Id: Iaeea66dad34a2616c0620eafacc53574ed79a7b5
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/57/741357/2 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/values.yaml', 'elasticsearch/templates/statefulset-master.yaml', 'elasticsearch/templates/statefulset-data.yaml']",3,dcc598979fefdb272d4a2cbaf3e0b55b34d1b3f0,,"{{ dict ""envAll"" $envAll ""application"" ""data"" ""container"" ""elasticsearch_perms"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}", securityContext: runAsUser: 0,6,4
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac,openstack/tripleo-heat-templates,stable/train,I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac,Generate container startup configs with a new module,MERGED,2020-07-14 17:41:30.000000000,2020-07-16 23:31:24.000000000,2020-07-16 23:31:24.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-14 17:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/01bcf9db80fcee411db31b0f6a5fc74f86bf4a6c', 'message': ""Generate container startup configs with a new module\n\nRemove container_startup_configs_tasks.yaml playbook, and some set_fact\ntasks that aren't needed anymore; since we now have a module to generate\ncontainer startup config files.\n\nChange-Id: I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac\n(cherry picked from commit c587d74ae192fa9562b42ed118fc946547a6c899)\n""}, {'number': 2, 'created': '2020-07-15 02:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df134aa341881a1f4faa2ad6ca02368abc21ed12', 'message': 'Generate container startup configs with a new module\n\nRemove container_startup_configs_tasks.yaml playbook, and some set_fact\ntasks that aren\'t needed anymore; since we now have a module to generate\ncontainer startup config files.\n\nNote: unclean backport, we also have to remove the task:\n""Write per-step container startup configs for backward compatibility""\nWhich isn\'t useful anymore.\n\nChange-Id: I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac\n(cherry picked from commit c587d74ae192fa9562b42ed118fc946547a6c899)\n'}, {'number': 3, 'created': '2020-07-15 22:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1a131594b671c5e15b02e6808fc8ca161f33fdc', 'message': 'Generate container startup configs with a new module\n\nRemove container_startup_configs_tasks.yaml playbook, and some set_fact\ntasks that aren\'t needed anymore; since we now have a module to generate\ncontainer startup config files.\n\nNote: unclean backport, we also have to remove the task:\n""Write per-step container startup configs for backward compatibility""\nWhich isn\'t useful anymore.\n\nChange-Id: I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac\n(cherry picked from commit c587d74ae192fa9562b42ed118fc946547a6c899)\n'}, {'number': 4, 'created': '2020-07-16 02:06:29.000000000', 'files': ['common/container_startup_configs_tasks.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec3568e68cab3def6c612f31c5eabb2e78de6caf', 'message': 'Generate container startup configs with a new module\n\nRemove container_startup_configs_tasks.yaml playbook, and some set_fact\ntasks that aren\'t needed anymore; since we now have a module to generate\ncontainer startup config files.\n\nNote: unclean backport, we also have to remove the task:\n""Write per-step container startup configs for backward compatibility""\nWhich isn\'t useful anymore.\n\nDepends-On: https://review.opendev.org/741356\nChange-Id: I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac\n(cherry picked from commit c587d74ae192fa9562b42ed118fc946547a6c899)\n'}]",0,741011,ec3568e68cab3def6c612f31c5eabb2e78de6caf,19,4,4,3153,,,0,"Generate container startup configs with a new module

Remove container_startup_configs_tasks.yaml playbook, and some set_fact
tasks that aren't needed anymore; since we now have a module to generate
container startup config files.

Note: unclean backport, we also have to remove the task:
""Write per-step container startup configs for backward compatibility""
Which isn't useful anymore.

Depends-On: https://review.opendev.org/741356
Change-Id: I8ebe7f5f52f14a14c3911748b2e2063e0c3ad9ac
(cherry picked from commit c587d74ae192fa9562b42ed118fc946547a6c899)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/741011/4 && git format-patch -1 --stdout FETCH_HEAD,"['common/container_startup_configs_tasks.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks-step-1.yaml']",3,01bcf9db80fcee411db31b0f6a5fc74f86bf4a6c,startup/train," container_startup_config: config_base_dir: /var/lib/tripleo-config/container-startup-config config_data: ""{{ lookup('file', (tripleo_role_name + '/docker_config.yaml'), errors='ignore') | default({}, True) | from_yaml }}"""," # Here we are dumping all the container startup configuration data # so that we can have access to how they are started outside of heat # and container cmd. This lets us create command line tools to test containers. - name: Set container_config_default fact no_log: True set_fact: container_config_default: ""{{ container_config_default | default({}) | combine( {'step_' + item: {}} ) }}"" with_sequence: count={{ deploy_steps_max }} tags: - container_startup_configs - name: Set container_startup_configs_with_default fact no_log: True set_fact: container_config_with_default: ""{{ container_config_default | combine(role_data_container_config) }}"" vars: role_data_container_config: ""{{ lookup('file', tripleo_role_name + '/docker_config.yaml', errors='ignore') | default({}, True) | from_yaml }}"" tags: - container_startup_configs no_log: True include_tasks: container_startup_configs_tasks.yaml loop: ""{{ container_config_with_default | dictsort }}""",3,52
openstack%2Fpython-troveclient~master~Ic8c20109b287f2f9220379cb249669d18b52893d,openstack/python-troveclient,master,Ic8c20109b287f2f9220379cb249669d18b52893d,Support backup strategy,MERGED,2020-07-16 11:04:05.000000000,2020-07-16 23:26:08.000000000,2020-07-16 23:24:28.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 11:04:05.000000000', 'files': ['troveclient/v1/backup_strategy.py', 'troveclient/base.py', 'troveclient/osc/v1/database_backup_strategy.py', 'troveclient/tests/osc/v1/test_database_backups.py', 'troveclient/tests/osc/v1/test_database_backup_strategy.py', 'troveclient/v1/client.py', 'releasenotes/notes/victoria-backup-strategy.yaml', 'setup.cfg', 'troveclient/osc/v1/database_backups.py', 'troveclient/v1/backups.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/40af5562643856efad8717698511e613b4b142d4', 'message': 'Support backup strategy\n\nChange-Id: Ic8c20109b287f2f9220379cb249669d18b52893d\n'}]",0,741433,40af5562643856efad8717698511e613b4b142d4,7,2,1,6732,,,0,"Support backup strategy

Change-Id: Ic8c20109b287f2f9220379cb249669d18b52893d
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/33/741433/1 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/v1/backup_strategy.py', 'troveclient/base.py', 'troveclient/osc/v1/database_backup_strategy.py', 'troveclient/tests/osc/v1/test_database_backups.py', 'troveclient/tests/osc/v1/test_database_backup_strategy.py', 'troveclient/v1/client.py', 'releasenotes/notes/victoria-backup-strategy.yaml', 'setup.cfg', 'troveclient/osc/v1/database_backups.py', 'troveclient/v1/backups.py']",10,40af5562643856efad8717698511e613b4b142d4,backup-strategy," parent_id=None, incremental=False, swift_container=None): :param swift_container: Swift container name. if swift_container: body['backup']['swift_container'] = swift_container"," parent_id=None, incremental=False):",288,8
openstack%2Ftripleo-common~master~I2e9fc7b9e9005fce7d956f1b936054e540b39849,openstack/tripleo-common,master,I2e9fc7b9e9005fce7d956f1b936054e540b39849,ansible: limit_hosts now takes precedence over blacklisted_hostnames,MERGED,2020-07-15 16:41:16.000000000,2020-07-16 23:22:01.000000000,2020-07-16 23:20:13.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-15 16:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8cd3b14925868f52b9b75814c1066078eac94abd', 'message': ""ansible: limit_hosts now takes precedence over blacklisted_hostnames\n\nFrom now, limit_hosts will take precedence over the blacklisted_hostnames.\nAnd therefore Ansible won't be run with two --limit if both limit hosts\nand blacklisted hostnames are in use. When we want to run Ansible on\nspecific hosts, we will ignore the blacklisted nodes and assume we know\nwhat we do. In the case of the scale-down scenario, the unreachable nodes\nare ignored.\n\nNote: adding unit tests coverage for both parameters.\n\nChange-Id: I2e9fc7b9e9005fce7d956f1b936054e540b39849\nCloses-Bug: #1857298\n""}, {'number': 2, 'created': '2020-07-15 18:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d01ee83c2dc591059246047eb0b0fd88d22d5168', 'message': ""ansible: limit_hosts now takes precedence over blacklisted_hostnames\n\nFrom now, limit_hosts will take precedence over the blacklisted_hostnames.\nAnd therefore Ansible won't be run with two --limit if both limit hosts\nand blacklisted hostnames are in use. When we want to run Ansible on\nspecific hosts, we will ignore the blacklisted nodes and assume we know\nwhat we do. In the case of the scale-down scenario, the unreachable nodes\nare ignored.\n\nNote: adding unit tests coverage for both parameters.\n\nChange-Id: I2e9fc7b9e9005fce7d956f1b936054e540b39849\nCloses-Bug: #1857298\n(cherry picked from commit 8cd3b14925868f52b9b75814c1066078eac94abd)\n""}, {'number': 3, 'created': '2020-07-15 18:11:25.000000000', 'files': ['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py', 'releasenotes/notes/limit_over_blacklist-3ce81ecf04b09997.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/76bc13e3bf88c24ba1733c699deadb364420f14e', 'message': ""ansible: limit_hosts now takes precedence over blacklisted_hostnames\n\nFrom now, limit_hosts will take precedence over the blacklisted_hostnames.\nAnd therefore Ansible won't be run with two --limit if both limit hosts\nand blacklisted hostnames are in use. When we want to run Ansible on\nspecific hosts, we will ignore the blacklisted nodes and assume we know\nwhat we do. In the case of the scale-down scenario, the unreachable nodes\nare ignored.\n\nNote: adding unit tests coverage for both parameters.\n\nChange-Id: I2e9fc7b9e9005fce7d956f1b936054e540b39849\nCloses-Bug: #1857298\n""}]",6,741271,76bc13e3bf88c24ba1733c699deadb364420f14e,28,7,3,3153,,,0,"ansible: limit_hosts now takes precedence over blacklisted_hostnames

From now, limit_hosts will take precedence over the blacklisted_hostnames.
And therefore Ansible won't be run with two --limit if both limit hosts
and blacklisted hostnames are in use. When we want to run Ansible on
specific hosts, we will ignore the blacklisted nodes and assume we know
what we do. In the case of the scale-down scenario, the unreachable nodes
are ignored.

Note: adding unit tests coverage for both parameters.

Change-Id: I2e9fc7b9e9005fce7d956f1b936054e540b39849
Closes-Bug: #1857298
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/71/741271/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py', 'releasenotes/notes/limit_over_blacklist-3ce81ecf04b09997.yaml']",3,8cd3b14925868f52b9b75814c1066078eac94abd,1857298,"--- fixes: - | Fix `bug 1887692 <https://bugs.launchpad.net/tripleo/+bug/1887692>`__ so limit_hosts will take precedence over the blacklisted_hostnames. And therefore Ansible won't be run with two --limit if both limit hosts and blacklisted hostnames are in use. When we want to run Ansible on specific hosts, we will ignore the blacklisted nodes and assume we know what we do. In the case of the scale-down scenario, the unreachable nodes are ignored. ",,100,5
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I772ad486ca11525b8756a0b8cac7a5345373a5d3,openstack/tripleo-heat-templates,stable/ussuri,I772ad486ca11525b8756a0b8cac7a5345373a5d3,Convert roles section into tasks-include_role in deploy-steps.j2.,MERGED,2020-07-16 10:18:01.000000000,2020-07-16 23:20:15.000000000,2020-07-16 23:20:15.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-16 10:18:01.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b6874daa9e794babfc53a2db38d34caef8aa437', 'message': ""Convert roles section into tasks-include_role in deploy-steps.j2.\n\nWhen executing the deployment_steps_playbook.yaml passing\na specific --tags, it looks like this play gets executed\neven though the tag passed in --tags isn't common_roles.\n\nThis patch converts the roles: structure into a:\ntasks:\n  - include_role:\n\nwhich is the prefered way since Ansible 2.4. This way, the\ntags work properly and the execution of both roles is skipped\nif the tag doesn't match common_roles.\n\nChange-Id: I772ad486ca11525b8756a0b8cac7a5345373a5d3\nCloses-Bug: #1885721\n(cherry picked from commit 70eacd3dab79a02e24bc30c97cdf5dc744908605)\n""}]",0,741422,3b6874daa9e794babfc53a2db38d34caef8aa437,11,6,1,6816,,,0,"Convert roles section into tasks-include_role in deploy-steps.j2.

When executing the deployment_steps_playbook.yaml passing
a specific --tags, it looks like this play gets executed
even though the tag passed in --tags isn't common_roles.

This patch converts the roles: structure into a:
tasks:
  - include_role:

which is the prefered way since Ansible 2.4. This way, the
tags work properly and the execution of both roles is skipped
if the tag doesn't match common_roles.

Change-Id: I772ad486ca11525b8756a0b8cac7a5345373a5d3
Closes-Bug: #1885721
(cherry picked from commit 70eacd3dab79a02e24bc30c97cdf5dc744908605)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/741422/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,3b6874daa9e794babfc53a2db38d34caef8aa437,ffwd-upgrade2-stable/ussuri, tasks: - include_role: name: tripleo_bootstrap - include_role: name: tripleo_ssh_known_hosts, roles: - tripleo_bootstrap - tripleo_ssh_known_hosts,5,3
openstack%2Ftripleo-validations~stable%2Ftrain~I248fc36ab3b1f4a81a6884b18fba5fcc0cff08ea,openstack/tripleo-validations,stable/train,I248fc36ab3b1f4a81a6884b18fba5fcc0cff08ea,Fix ceph-ansible permissions when checking the repo name,MERGED,2020-07-06 22:33:37.000000000,2020-07-16 23:20:12.000000000,2020-07-16 23:20:12.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 27092}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-06 22:33:37.000000000', 'files': ['roles/ceph/tasks/ceph-ansible-installed.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/082d48b109e101ce6bbe26bf409b4af9cc0cdb27', 'message': 'Fix ceph-ansible permissions when checking the repo name\n\nThe purpose of this fix is to address a bug hit during\nupgrades: in order to run yum info the current user should\nbe able to download metadata for repositories and a privileges\nescalation is required by pkg manager.\n\nChange-Id: I248fc36ab3b1f4a81a6884b18fba5fcc0cff08ea\n(cherry picked from commit a87793fcd97fb8884f92f436d1e57a44fbb62cd3)\n'}]",0,739620,082d48b109e101ce6bbe26bf409b4af9cc0cdb27,10,5,1,6796,,,0,"Fix ceph-ansible permissions when checking the repo name

The purpose of this fix is to address a bug hit during
upgrades: in order to run yum info the current user should
be able to download metadata for repositories and a privileges
escalation is required by pkg manager.

Change-Id: I248fc36ab3b1f4a81a6884b18fba5fcc0cff08ea
(cherry picked from commit a87793fcd97fb8884f92f436d1e57a44fbb62cd3)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/20/739620/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ceph/tasks/ceph-ansible-installed.yaml'],1,082d48b109e101ce6bbe26bf409b4af9cc0cdb27,, become: true,,1,0
openstack%2Fcharm-keystone~master~I004903e50f51e190467d71691982de26518d7149,openstack/charm-keystone,master,I004903e50f51e190467d71691982de26518d7149,Fix peer readiness detection,MERGED,2020-05-20 22:51:28.000000000,2020-07-16 22:54:36.000000000,2020-07-16 22:54:36.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-05-20 22:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/e446ea859fd6b793d12b8398759e6b766ed5f882', 'message': ""Fix peer readiness detection\n\nSharing the admin password with peers over the 'cluster' relation\nwas needed in case the leader would die and the next leader would\nthen need that information. This was implemented years ago when\nthe leader DB didn't exist.\n\nThis led to a race condition described in the mentioned bug and\ncan now be safely removed.\n\nValidated by deploying several keystone and glance units, then\nremoving the keystone leader, then adding a glance unit and\nchecking that this new unit gets its service credentials.\n\nAlso added useful traces and made linter happy.\n\nDepends-On: https://github.com/juju/charm-helpers/pull/476\nCloses-Bug: #1818113\nChange-Id: I004903e50f51e190467d71691982de26518d7149\n""}, {'number': 2, 'created': '2020-06-23 07:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/01ff484d5405977dfa62c3c3f86584e74b3e7630', 'message': ""Fix peer readiness detection\n\nSharing the admin password with peers over the 'cluster' relation\nwas needed in case the leader would die and the next leader would\nthen need that information. This was implemented years ago when\nthe leader DB didn't exist.\n\nThis led to a race condition described in the mentioned bug and\ncan now be safely removed.\n\nValidated by deploying several keystone and glance units, then\nremoving the keystone leader, then adding a glance unit and\nchecking that this new unit gets its service credentials.\n\nAlso added useful traces and made linter happy.\n\nDepends-On: https://github.com/juju/charm-helpers/pull/476\nCloses-Bug: #1818113\nChange-Id: I004903e50f51e190467d71691982de26518d7149\n""}, {'number': 3, 'created': '2020-07-02 10:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/d864559da19e7acd6a6f52d758eccd002316bb0a', 'message': ""Fix peer readiness detection\n\nSharing the admin password with peers over the 'cluster' relation\nwas needed in case the leader would die and the next leader would\nthen need that information. This was implemented years ago when\nthe leader DB didn't exist.\n\nThis led to a race condition described in the mentioned bug and\ncan now be safely removed.\n\nValidated by deploying several keystone and glance units, then\nremoving the keystone leader, then adding a glance unit and\nchecking that this new unit gets its service credentials.\n\nAlso added useful traces and made linter happy.\n\nDepends-On: https://github.com/juju/charm-helpers/pull/476\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/341\nCloses-Bug: #1818113\nChange-Id: I004903e50f51e190467d71691982de26518d7149\n""}, {'number': 4, 'created': '2020-07-02 13:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/3e2ca43aa4c5206d634f184d94bde574424cebbb', 'message': ""Fix peer readiness detection\n\nSharing the admin password with peers over the 'cluster' relation\nwas needed in case the leader would die and the next leader would\nthen need that information. This was implemented years ago when\nthe leader DB didn't exist.\n\nThis led to a race condition described in the mentioned bug and\ncan now be safely removed.\n\nValidated by deploying several keystone and glance units, then\nremoving the keystone leader, then adding a glance unit and\nchecking that this new unit gets its service credentials.\n\nAlso added useful traces, made linter happy and increased fernet\ntoken expiration to avoid spurious test failures.\n\nDepends-On: https://github.com/juju/charm-helpers/pull/476\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/341\nCloses-Bug: #1818113\nChange-Id: I004903e50f51e190467d71691982de26518d7149\n""}, {'number': 5, 'created': '2020-07-03 07:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/da45cda8e80499f2c892040b9002ac2ff306d869', 'message': ""Fix peer readiness detection\n\nSharing the admin password with peers over the 'cluster' relation\nwas needed in case the leader would die and the next leader would\nthen need that information. This was implemented years ago when\nthe leader DB didn't exist.\n\nThis led to a race condition described in the mentioned bug and\ncan now be safely removed.\n\nValidated by deploying several keystone and glance units, then\nremoving the keystone leader, then adding a glance unit and\nchecking that this new unit gets its service credentials.\n\nAlso added useful traces, made linter happy and increased fernet\ntoken expiration to avoid spurious test failures.\n\nDepends-On: https://github.com/juju/charm-helpers/pull/476\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/341\nCloses-Bug: #1818113\nChange-Id: I004903e50f51e190467d71691982de26518d7149\n""}, {'number': 6, 'created': '2020-07-16 20:56:58.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'charmhelpers/contrib/openstack/utils.py', 'tests/bundles/xenial-ocata.yaml', 'charmhelpers/fetch/snap.py', 'hooks/keystone_utils.py', 'hooks/keystone_hooks.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/bionic-queens.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/8b46dfd637908adeb5a817f85fc97fad249be8a0', 'message': ""Fix peer readiness detection\n\nSharing the admin password with peers over the 'cluster' relation\nwas needed in case the leader would die and the next leader would\nthen need that information. This was implemented years ago when\nthe leader DB didn't exist.\n\nThis led to a race condition described in the mentioned bug and\ncan now be safely removed.\n\nValidated by deploying several keystone and glance units, then\nremoving the keystone leader, then adding a glance unit and\nchecking that this new unit gets its service credentials.\n\nAlso added useful traces, made linter happy and increased fernet\ntoken expiration to avoid spurious test failures.\n\nCloses-Bug: #1818113\nChange-Id: I004903e50f51e190467d71691982de26518d7149\n""}]",0,729781,8b46dfd637908adeb5a817f85fc97fad249be8a0,56,7,6,31289,,,0,"Fix peer readiness detection

Sharing the admin password with peers over the 'cluster' relation
was needed in case the leader would die and the next leader would
then need that information. This was implemented years ago when
the leader DB didn't exist.

This led to a race condition described in the mentioned bug and
can now be safely removed.

Validated by deploying several keystone and glance units, then
removing the keystone leader, then adding a glance unit and
checking that this new unit gets its service credentials.

Also added useful traces, made linter happy and increased fernet
token expiration to avoid spurious test failures.

Closes-Bug: #1818113
Change-Id: I004903e50f51e190467d71691982de26518d7149
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/81/729781/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'actions/security_checklist.py', 'charmhelpers/fetch/snap.py', 'hooks/keystone_utils.py', 'hooks/keystone_hooks.py', 'charmhelpers/contrib/storage/linux/ceph.py']",6,e446ea859fd6b793d12b8398759e6b766ed5f882,bug/1818113,"AUTOSCALER_DEFAULT_PGS = 32 nautilus_or_later = cmp_pkgrevno('ceph-common', '14.2.0') >= 0 if nautilus_or_later: cmd = [ 'ceph', '--id', self.service, 'osd', 'pool', 'create', '--pg-num-min={}'.format( min(AUTOSCALER_DEFAULT_PGS, self.pg_num) ), self.name, str(self.pg_num) ] else: cmd = [ 'ceph', '--id', self.service, 'osd', 'pool', 'create', self.name, str(self.pg_num) ] log('Could not set app name for pool {}'.format(self.name), level=WARNING) self.name, e), level=WARNING) nautilus_or_later = cmp_pkgrevno('ceph-common', '14.2.0') >= 0 if nautilus_or_later: cmd = [ 'ceph', '--id', self.service, 'osd', 'pool', 'create', '--pg-num-min={}'.format( min(AUTOSCALER_DEFAULT_PGS, pgs) ), self.name, str(pgs), str(pgs), 'erasure', self.erasure_code_profile ] else: cmd = [ 'ceph', '--id', self.service, 'osd', 'pool', 'create', self.name, str(pgs), str(pgs), 'erasure', self.erasure_code_profile ] log('Could not set app name for pool {}'.format(self.name), level=WARNING) self.name, e), level=WARNING)"," cmd = ['ceph', '--id', self.service, 'osd', 'pool', 'create', self.name, str(self.pg_num)] nautilus_or_later = cmp_pkgrevno('ceph-common', '14.2.0') >= 0 log('Could not set app name for pool {}'.format(self.name, level=WARNING)) self.name, e, level=WARNING)) cmd = ['ceph', '--id', self.service, 'osd', 'pool', 'create', self.name, str(pgs), str(pgs), 'erasure', self.erasure_code_profile] log('Could not set app name for pool {}'.format(self.name, level=WARNING)) nautilus_or_later = cmp_pkgrevno('ceph-common', '14.2.0') >= 0 self.name, e, level=WARNING))",60,32
openstack%2Fironic~master~I66103598cf58267010a09b1bd654dc90f714c202,openstack/ironic,master,I66103598cf58267010a09b1bd654dc90f714c202,Implement get_deploy_steps for AgentRAID,MERGED,2020-07-15 14:33:32.000000000,2020-07-16 22:53:18.000000000,2020-07-16 17:27:00.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-15 14:33:32.000000000', 'files': ['ironic/drivers/modules/agent.py', 'releasenotes/notes/agent-raid-647acfd599e83476.yaml', 'ironic/tests/unit/drivers/modules/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a7976b349133ce770f35e8d036eb3b5f74534c78', 'message': 'Implement get_deploy_steps for AgentRAID\n\nThis allows using software RAID as an in-band deploy step.\n\nChange-Id: I66103598cf58267010a09b1bd654dc90f714c202\n'}]",0,741225,a7976b349133ce770f35e8d036eb3b5f74534c78,21,7,1,10239,,,0,"Implement get_deploy_steps for AgentRAID

This allows using software RAID as an in-band deploy step.

Change-Id: I66103598cf58267010a09b1bd654dc90f714c202
",git fetch https://review.opendev.org/openstack/ironic refs/changes/25/741225/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'releasenotes/notes/agent-raid-647acfd599e83476.yaml', 'ironic/tests/unit/drivers/modules/test_agent.py']",3,a7976b349133ce770f35e8d036eb3b5f74534c78,story/2006963," @mock.patch.object(agent_base, 'get_steps', autospec=True) def test_get_deploy_steps(self, get_steps_mock): get_steps_mock.return_value = [ {'step': 'apply_configuration', 'interface': 'raid', 'priority': 0}, ] with task_manager.acquire(self.context, self.node.uuid) as task: ret = task.driver.raid.get_deploy_steps(task) self.assertEqual('apply_configuration', ret[0]['step']) ",,29,0
openstack%2Ftripleo-heat-templates~master~I4609a2ae735c06f4e3dacd875167742629dbfea0,openstack/tripleo-heat-templates,master,I4609a2ae735c06f4e3dacd875167742629dbfea0,Add TSO configuration for OVS DPDK datapath.,MERGED,2020-04-28 05:51:00.000000000,2020-07-16 22:40:41.000000000,2020-07-16 22:37:26.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23618}, {'_account_id': 31108}]","[{'number': 1, 'created': '2020-04-28 05:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5619cf378205f39b0cf526f9d617a26bf0fa9424', 'message': 'Add TSO configuration for OVS DPDK datapath.\n\nChange-Id: I4609a2ae735c06f4e3dacd875167742629dbfea0\nSigned-off-by: Gowrishankar Muthukrishnan <gmuthukr@redhat.com>\n'}, {'number': 2, 'created': '2020-04-28 08:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/08d6c91791eb27d7ada8af2918400f751a7d3e7a', 'message': 'Add TSO configuration for OVS DPDK datapath.\n\nChange-Id: I4609a2ae735c06f4e3dacd875167742629dbfea0\nDepends-On: https://review.opendev.org/#/c/723799\nSigned-off-by: Gowrishankar Muthukrishnan <gmuthukr@redhat.com>\n'}, {'number': 3, 'created': '2020-04-28 08:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/35e17aa03596ef374e608f3faea26d1007070a15', 'message': 'Add TSO configuration for OVS DPDK datapath.\n\nChange-Id: I4609a2ae735c06f4e3dacd875167742629dbfea0\nDepends-On: https://review.opendev.org/723799\nSigned-off-by: Gowrishankar Muthukrishnan <gmuthukr@redhat.com>\n'}, {'number': 4, 'created': '2020-04-28 16:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a75c56d6e863ff4a421ae38c357f1c776ef042e', 'message': 'Add TSO configuration for OVS DPDK datapath.\n\nChange-Id: I4609a2ae735c06f4e3dacd875167742629dbfea0\nDepends-On: https://review.opendev.org/723799\nSigned-off-by: Gowrishankar Muthukrishnan <gmuthukr@redhat.com>\n'}, {'number': 5, 'created': '2020-07-04 14:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/74918764ff28f26b81232f8750a82d243909ac16', 'message': 'Add TSO configuration for OVS DPDK datapath.\n\nChange-Id: I4609a2ae735c06f4e3dacd875167742629dbfea0\nDepends-On: https://review.opendev.org/723799\nSigned-off-by: Gowrishankar Muthukrishnan <gmuthukr@redhat.com>\n'}, {'number': 6, 'created': '2020-07-05 06:45:13.000000000', 'files': ['deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml', 'releasenotes/notes/ovs-dpdk-tso-f96406621ec69bd1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89840a5432a412bd45d06516efdb4f23e73c1408', 'message': 'Add TSO configuration for OVS DPDK datapath.\n\nChange-Id: I4609a2ae735c06f4e3dacd875167742629dbfea0\nDepends-On: https://review.opendev.org/723799\nSigned-off-by: Gowrishankar Muthukrishnan <gmuthukr@redhat.com>\n'}]",7,723798,89840a5432a412bd45d06516efdb4f23e73c1408,35,7,6,31108,,,0,"Add TSO configuration for OVS DPDK datapath.

Change-Id: I4609a2ae735c06f4e3dacd875167742629dbfea0
Depends-On: https://review.opendev.org/723799
Signed-off-by: Gowrishankar Muthukrishnan <gmuthukr@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/723798/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml']",2,5619cf378205f39b0cf526f9d617a26bf0fa9424,tso, OvsDpdkEnableTSO: description: | Enable TSO in OVS DPDK datapath. type: boolean default: false tags: - role_specific vswitch::ovs::enable_tso: OvsDpdkEnableTSO OvsDpdkEnableTSO: {get_param: OvsDpdkEnableTSO},,25,0
openstack%2Fpython-tripleoclient~stable%2Fussuri~If0c0ed9a44a51cf367fd060c77e10055f367694c,openstack/python-tripleoclient,stable/ussuri,If0c0ed9a44a51cf367fd060c77e10055f367694c,Remove ffwd-upgrade commands from tripleoclient.,MERGED,2020-07-13 09:37:55.000000000,2020-07-16 22:40:32.000000000,2020-07-16 22:37:22.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-13 09:37:55.000000000', 'files': ['tripleoclient/constants.py', 'releasenotes/notes/remove_ffwd-upgrade_commands-579f885957f02863.yaml', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'setup.cfg', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/__init__.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5cf56172804738116c17989c1b569a51c3a2e779', 'message': 'Remove ffwd-upgrade commands from tripleoclient.\n\nNow that the FFU process relies on the openstack overcloud upgrade\ncommands there is no need to keep the old ffwd-upgrade command\navailable.\n\nThis patch removes the three ffwd-upgrade (run, prepare and converge)\nas well as their tests, utils functions and constants.\n\nChange-Id: If0c0ed9a44a51cf367fd060c77e10055f367694c\n(cherry picked from commit 8e7331098eafb3766b53a17991dfc6a0416bc543)\n'}]",0,740646,5cf56172804738116c17989c1b569a51c3a2e779,10,5,1,6816,,,0,"Remove ffwd-upgrade commands from tripleoclient.

Now that the FFU process relies on the openstack overcloud upgrade
commands there is no need to keep the old ffwd-upgrade command
available.

This patch removes the three ffwd-upgrade (run, prepare and converge)
as well as their tests, utils functions and constants.

Change-Id: If0c0ed9a44a51cf367fd060c77e10055f367694c
(cherry picked from commit 8e7331098eafb3766b53a17991dfc6a0416bc543)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/46/740646/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'releasenotes/notes/remove_ffwd-upgrade_commands-579f885957f02863.yaml', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'setup.cfg', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/__init__.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/fakes.py']",8,5cf56172804738116c17989c1b569a51c3a2e779,remove-ffwd-leftovers-stable/ussuri,,"# Copyright 2018 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # from tripleoclient.tests import fakes class TestFFWDUpgradePrepare(fakes.FakePlaybookExecution): def setUp(self): super(TestFFWDUpgradePrepare, self).setUp() class TestFFWDUpgradeRun(fakes.FakePlaybookExecution): def setUp(self): super(TestFFWDUpgradeRun, self).setUp() class TestFFWDUpgradeConverge(fakes.FakePlaybookExecution): def setUp(self): super(TestFFWDUpgradeConverge, self).setUp() ",8,508
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1626e16376da07b887d06089f556faf907b24c35,openstack/tripleo-heat-templates,stable/train,I1626e16376da07b887d06089f556faf907b24c35,Check for correct column name for execution show,MERGED,2020-07-15 10:24:57.000000000,2020-07-16 22:37:20.000000000,2020-07-16 22:37:20.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-15 10:24:57.000000000', 'files': ['deployed-server/scripts/enable-ssh-admin.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed7096f31cbf64606d98bd9f2dc788c612092435', 'message': ""Check for correct column name for execution show\n\nUse 'State' instead of 'state'.\n\nChange-Id: I1626e16376da07b887d06089f556faf907b24c35\nRelated-Bug: #1876646\n(cherry picked from commit 9cf9a5a8abda86fa50a232d2d5ff010b9ddd61c3)\n""}]",0,741140,ed7096f31cbf64606d98bd9f2dc788c612092435,7,3,1,8833,,,0,"Check for correct column name for execution show

Use 'State' instead of 'state'.

Change-Id: I1626e16376da07b887d06089f556faf907b24c35
Related-Bug: #1876646
(cherry picked from commit 9cf9a5a8abda86fa50a232d2d5ff010b9ddd61c3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/741140/1 && git format-patch -1 --stdout FETCH_HEAD,['deployed-server/scripts/enable-ssh-admin.sh'],1,ed7096f31cbf64606d98bd9f2dc788c612092435,, RESULT=$(openstack workflow execution show -f value -c State $execution_id), RESULT=$(openstack workflow execution show -f value -c state $execution_id),1,1
openstack%2Fironic~stable%2Fussuri~I07f17a7321582e9829ac422efb51b571a17c5ca8,openstack/ironic,stable/ussuri,I07f17a7321582e9829ac422efb51b571a17c5ca8,Use min_command_interval when ironic does IPMI retries,MERGED,2020-07-15 12:54:00.000000000,2020-07-16 22:09:10.000000000,2020-07-16 22:07:25.000000000,"[{'_account_id': 19339}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-15 12:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0ef324cf6823818895dcc93efc11c984ce8445ea', 'message': 'Use min_command_interval when ironic does IPMI retries\n\nFor certain BMCs the default of 1 second is too short for the ipmitool\nminimum command interval (-N).  The configured\n``[ipmi]min_command_interval`` should be used.\n\nStory: 2007914\nTask: 40317\n\nChange-Id: I07f17a7321582e9829ac422efb51b571a17c5ca8\n(cherry picked from commit a7445d9f85cd06b7f919714efebe8ada0f2c25e7)\n'}, {'number': 2, 'created': '2020-07-15 12:55:59.000000000', 'files': ['releasenotes/notes/ipmi-retries-min-command-interval-070cd7eff5eb74dd.yaml', 'ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8825f4401f9ee3b6d37dcfc1422da3e0ab0d3ccf', 'message': 'Use min_command_interval when ironic does IPMI retries\n\nFor certain BMCs the default of 1 second is too short for the ipmitool\nminimum command interval (-N).  The configured\n``[ipmi]min_command_interval`` should be used.\n\nStory: 2007914\nTask: 40317\n\nChange-Id: I07f17a7321582e9829ac422efb51b571a17c5ca8\n(cherry picked from commit a7445d9f85cd06b7f919714efebe8ada0f2c25e7)\n'}]",0,741169,8825f4401f9ee3b6d37dcfc1422da3e0ab0d3ccf,17,4,2,10239,,,0,"Use min_command_interval when ironic does IPMI retries

For certain BMCs the default of 1 second is too short for the ipmitool
minimum command interval (-N).  The configured
``[ipmi]min_command_interval`` should be used.

Story: 2007914
Task: 40317

Change-Id: I07f17a7321582e9829ac422efb51b571a17c5ca8
(cherry picked from commit a7445d9f85cd06b7f919714efebe8ada0f2c25e7)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/69/741169/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ipmitool.py', 'releasenotes/notes/ipmi-retries-min-command-interval-070cd7eff5eb74dd.yaml', 'ironic/tests/unit/drivers/modules/test_ipmitool.py']",3,0ef324cf6823818895dcc93efc11c984ce8445ea,ipmi-min-command-interval-stable/ussuri," '-N', '5',"," '-N', '1',",8,5
openstack%2Fpython-glanceclient~master~Ic8a2a736a733e0151ca82f19bfde428dc04cf255,openstack/python-glanceclient,master,Ic8a2a736a733e0151ca82f19bfde428dc04cf255,Do not use the six library in the tests.,MERGED,2020-06-15 19:05:12.000000000,2020-07-16 21:27:01.000000000,2020-07-16 21:25:14.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-15 19:05:12.000000000', 'files': ['glanceclient/tests/unit/test_shell.py', 'glanceclient/tests/unit/test_ssl.py', 'glanceclient/tests/unit/test_http.py', 'glanceclient/tests/unit/test_progressbar.py', 'glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/tests/unit/v1/test_shell.py', 'glanceclient/tests/utils.py', 'glanceclient/tests/unit/test_utils.py', 'glanceclient/tests/unit/v1/test_images.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/928935e5c0b8b43827fdf08b212d59d92b660924', 'message': 'Do not use the six library in the tests.\n\nChange-Id: Ic8a2a736a733e0151ca82f19bfde428dc04cf255\n'}]",1,735658,928935e5c0b8b43827fdf08b212d59d92b660924,8,3,1,8122,,,0,"Do not use the six library in the tests.

Change-Id: Ic8a2a736a733e0151ca82f19bfde428dc04cf255
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/58/735658/1 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/tests/unit/test_shell.py', 'glanceclient/tests/unit/test_ssl.py', 'glanceclient/tests/unit/test_http.py', 'glanceclient/tests/unit/test_progressbar.py', 'glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/tests/unit/v1/test_shell.py', 'glanceclient/tests/utils.py', 'glanceclient/tests/unit/test_utils.py', 'glanceclient/tests/unit/v1/test_images.py']",9,928935e5c0b8b43827fdf08b212d59d92b660924,feature/remove-six-from-tests,"import iofrom urllib import parse image_data = io.StringIO('XXX') image_data = io.StringIO('XXX') fields = {""x-image-meta-name"": value}"," import six from six.moves.urllib import parse image_data = six.StringIO('XXX') image_data = six.StringIO('XXX') if six.PY2: fields = {""x-image-meta-name"": ""ni\xc3\xb1o""} else: fields = {""x-image-meta-name"": value}",76,105
openstack%2Ftripleo-ci~master~I9e8e0523a7f73792d24b46fc827c15f8722625fa,openstack/tripleo-ci,master,I9e8e0523a7f73792d24b46fc827c15f8722625fa,Set c8 scenario010 standalone Non voting,MERGED,2020-07-16 11:42:21.000000000,2020-07-16 20:47:22.000000000,2020-07-16 20:47:22.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-07-16 11:42:21.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b269cbacef46eb8b46e44b1bf719d675e9bacdff', 'message': 'Set c8 scenario010 standalone Non voting\n\ntripleo-ci-centos-8-scenario010-standalone is failing with bug[1].\nFor now to unblock check/gate setting this to non voting and removing\nfrom gate queue.\n\n[1] https://bugs.launchpad.net/tripleo/+bug/1887790\n\nChange-Id: I9e8e0523a7f73792d24b46fc827c15f8722625fa\nRelated-Bug: #1887790\n'}]",0,741435,b269cbacef46eb8b46e44b1bf719d675e9bacdff,9,8,1,29775,,,0,"Set c8 scenario010 standalone Non voting

tripleo-ci-centos-8-scenario010-standalone is failing with bug[1].
For now to unblock check/gate setting this to non voting and removing
from gate queue.

[1] https://bugs.launchpad.net/tripleo/+bug/1887790

Change-Id: I9e8e0523a7f73792d24b46fc827c15f8722625fa
Related-Bug: #1887790
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/35/741435/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,b269cbacef46eb8b46e44b1bf719d675e9bacdff,bug/1887790, voting: false, - tripleo-ci-centos-8-scenario010-standalone: files: *scen10_files voting: true,1,3
openstack%2Ftripleo-quickstart-extras~master~I6b7e11e431ec948c1c8f37be64aaed6f643ab67e,openstack/tripleo-quickstart-extras,master,I6b7e11e431ec948c1c8f37be64aaed6f643ab67e,Fix openstack org mirrors for reproducer,MERGED,2020-07-14 13:02:21.000000000,2020-07-16 20:47:21.000000000,2020-07-16 20:47:21.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-14 13:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1a648dd566672f5df961d76c38977d71f482858f', 'message': 'Fix openstack org mirrors for reproducer\n\nLibvirt reproducer defaults to openstack.org mirrors, which no longer\nexist. Fix the reference to opendev.org to make defaults working as\nwell.\n\nChange-Id: I6b7e11e431ec948c1c8f37be64aaed6f643ab67e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2020-07-14 13:03:33.000000000', 'files': ['roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2', 'roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2', 'roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/290f1d27a8eb42df2fb912dc2668f98043aad7d0', 'message': 'Fix openstack org mirrors for reproducer\n\nLibvirt reproducer defaults to openstack.org mirrors, which no longer\nexist. Fix the reference to opendev.org to make defaults working as\nwell.\n\nChange-Id: I6b7e11e431ec948c1c8f37be64aaed6f643ab67e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,740952,290f1d27a8eb42df2fb912dc2668f98043aad7d0,11,8,2,6926,,,0,"Fix openstack org mirrors for reproducer

Libvirt reproducer defaults to openstack.org mirrors, which no longer
exist. Fix the reference to opendev.org to make defaults working as
well.

Change-Id: I6b7e11e431ec948c1c8f37be64aaed6f643ab67e
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/52/740952/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2', 'roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2', 'roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2']",3,1a648dd566672f5df961d76c38977d71f482858f,,# -e mirror_path=mirror.mtl01.inap.opendev.org,# -e mirror_path=mirror.mtl01.inap.openstack.org,4,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I2af6587fbfa659eb46b712d63b998e039189d31f,openstack/tripleo-heat-templates,stable/train,I2af6587fbfa659eb46b712d63b998e039189d31f,Fixed libvirt volume path for nova-migration-target-container,MERGED,2020-07-16 08:45:31.000000000,2020-07-16 20:47:19.000000000,2020-07-16 20:47:19.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-16 08:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b3f9d9ff746b794f83a3541b9ad2f6778e2976a5', 'message': 'Fixed libvirt volume path for nova-migration-target-container\n\nDepends-On: https://review.opendev.org/#/c/711599/\n\nCo-Authored-By: Cédric Jeanneret (Tengu) <cjeanne@redhat.com>\nChange-Id: I2af6587fbfa659eb46b712d63b998e039189d31f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Cédric Jeanneret <cjeanner@redhat.com>\n'}, {'number': 2, 'created': '2020-07-16 09:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/54579d37bec3ec30f5a328f10f28c94857d0e4d6', 'message': 'Fixed libvirt volume path for nova-migration-target-container\n\nDepends-On: https://review.opendev.org/#/c/711599/\n\nCo-Authored-By: Cédric Jeanneret (Tengu) <cjeanne@redhat.com>\nChange-Id: I2af6587fbfa659eb46b712d63b998e039189d31f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Cédric Jeanneret <cjeanner@redhat.com>\n(cherry picked from commit e423bcf389c1cf25d9180b77f63647e32aa9fc12)\n'}, {'number': 3, 'created': '2020-07-16 09:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/04bfac907405b9c2d63a1b8d225e4717961ce1e0', 'message': 'Fixed libvirt volume path for nova-migration-target-container\n\nDepends-On: https://review.opendev.org/#/c/711599/\n\nConflicts:\n  deployment/nova/nova-migration-target-container-puppet.yaml\n\nCo-Authored-By: Cédric Jeanneret (Tengu) <cjeanne@redhat.com>\nChange-Id: I2af6587fbfa659eb46b712d63b998e039189d31f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Cédric Jeanneret <cjeanner@redhat.com>\n(cherry picked from commit e423bcf389c1cf25d9180b77f63647e32aa9fc12)\n'}, {'number': 4, 'created': '2020-07-16 09:55:15.000000000', 'files': ['deployment/nova/nova-migration-target-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc603f1970ddedc790a9864c7ee2056005232703', 'message': 'Fixed libvirt volume path for nova-migration-target-container\n\nConflicts:\n  deployment/nova/nova-migration-target-container-puppet.yaml\n\nCo-Authored-By: Cédric Jeanneret (Tengu) <cjeanne@redhat.com>\nChange-Id: I2af6587fbfa659eb46b712d63b998e039189d31f\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Cédric Jeanneret <cjeanner@redhat.com>\n(cherry picked from commit e423bcf389c1cf25d9180b77f63647e32aa9fc12)\n'}]",1,741403,cc603f1970ddedc790a9864c7ee2056005232703,17,11,4,20182,,,0,"Fixed libvirt volume path for nova-migration-target-container

Conflicts:
  deployment/nova/nova-migration-target-container-puppet.yaml

Co-Authored-By: Cédric Jeanneret (Tengu) <cjeanne@redhat.com>
Change-Id: I2af6587fbfa659eb46b712d63b998e039189d31f
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Signed-off-by: Cédric Jeanneret <cjeanner@redhat.com>
(cherry picked from commit e423bcf389c1cf25d9180b77f63647e32aa9fc12)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/741403/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-migration-target-container-puppet.yaml', 'zuul.d/layout.yaml']",2,b3f9d9ff746b794f83a3541b9ad2f6778e2976a5,fix_libvirt_train, - tripleo-ci-centos-8-scenario012-standalone:, - tripleo-ci-centos-7-scenario012-standalone:,16,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9,openstack/tripleo-heat-templates,stable/train,Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9,Don't use pacemaker in ironic sa job,MERGED,2020-07-15 10:56:46.000000000,2020-07-16 20:46:31.000000000,2020-07-16 20:46:30.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-15 10:56:46.000000000', 'files': ['ci/environments/scenario012-standalone.yaml', 'ci/common/ironic_standalone_post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf26dcda4aaa070e22fea16b6dfb1f7671c6a98d', 'message': ""Don't use pacemaker in ironic sa job\n\n- Stop using Pacemaker in Ironic Standalone job\n- Remove Docker resource (and use Podman)\n- Add missing EndpointMap to ci/common/ironic_standalone_post.yaml\n\nChange-Id: Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9\n(cherry picked from commit 42168c4acc062f71d2b3a147bef684420fcb298b)\n""}]",0,741154,cf26dcda4aaa070e22fea16b6dfb1f7671c6a98d,11,9,1,12393,,,0,"Don't use pacemaker in ironic sa job

- Stop using Pacemaker in Ironic Standalone job
- Remove Docker resource (and use Podman)
- Add missing EndpointMap to ci/common/ironic_standalone_post.yaml

Change-Id: Ie86e20c8a2219c3b96da9abdc35bf13cb539fce9
(cherry picked from commit 42168c4acc062f71d2b3a147bef684420fcb298b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/741154/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario012-standalone.yaml', 'ci/common/ironic_standalone_post.yaml']",2,cf26dcda4aaa070e22fea16b6dfb1f7671c6a98d,, EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json,,7,10
openstack%2Fironic~master~I0fa742110649ed2786f360e1ef43012e77671620,openstack/ironic,master,I0fa742110649ed2786f360e1ef43012e77671620,Add `get_node_network_data` to Neutron NetworkInterface,MERGED,2019-10-16 10:30:01.000000000,2020-07-16 20:22:25.000000000,2020-07-16 15:18:18.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10379}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-10-16 10:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9be7ce6891b95d3cee2a84819db970f0e85e2d5e', 'message': '[WIP] Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport/portgroup objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 2, 'created': '2019-10-16 21:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/74c15e85143f6e808131a2c69ecc68bd6543aa02', 'message': '[WIP] Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport/portgroup objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 3, 'created': '2019-10-18 13:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1cfad5365ff93e142ee011814b33c11644c3583d', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport/portgroup objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 4, 'created': '2019-10-18 15:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/30077a75a3e44d3940a04ab89e9060c813d25fca', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport/portgroup objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 5, 'created': '2019-10-19 14:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9a4ac208267d5ee2373633acc747f134bb483fd3', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport/portgroup objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 6, 'created': '2019-10-21 16:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/357b22aeb8e7791d147bba7388a1abb8437908e3', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport/portgroup objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 7, 'created': '2019-10-23 05:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/94684aab729f5518f989ecdbe5c226d377c0d95c', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport/portgroup objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 8, 'created': '2019-11-04 12:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8a79b247f2def5f4cd87846e1d46cc65cd1e3b05', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport/portgroup objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 9, 'created': '2019-11-21 11:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1c10852cab2e182efeb8ed748da268bd930c1ec4', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport/portgroup objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 10, 'created': '2019-11-26 17:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/29eb31809dce088043e6b82dea1a39586713cdc9', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport/portgroup objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 11, 'created': '2019-11-27 10:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ede3b8adb267e360796c0aae05759dbefa4f8d9c', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport/portgroup objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 12, 'created': '2020-04-01 15:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/39a57497643070813a04da03a4beea8328794707', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 13, 'created': '2020-04-01 22:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa2f6215ea974ec894d85d7054377a2bc8fa0193', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 14, 'created': '2020-04-06 09:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/19f39e72c2701e77e247352f9895201f1b56a351', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 15, 'created': '2020-04-07 12:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a4335ce62369a47647e9ec3bd524ebd8ffae1a11', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 16, 'created': '2020-04-09 09:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/acb385b48e701deec66499eb8eb7c1882a733d30', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 17, 'created': '2020-04-09 13:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a36c3f2e6a6e8a79d2231292a7c8ef2be579a98a', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 18, 'created': '2020-04-14 17:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8c1960960cd93cae3e107a43f12429ed49f2b1fb', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 19, 'created': '2020-04-15 18:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d02904348ff1fdfde774c74bdec2622083682fd', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 20, 'created': '2020-04-17 08:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4be3e02bd42863fd4ed6ada15a0627a2c29a25e7', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 21, 'created': '2020-05-05 14:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b9c626beca42b5dc18c160d2502ec64dc39a2293', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 22, 'created': '2020-05-25 16:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1a364fdf6bd1920269112c5bc74cda08840a8e6a', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport objects associated with the node.\n\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}, {'number': 23, 'created': '2020-07-01 12:58:09.000000000', 'files': ['ironic/tests/unit/common/json_samples/neutron_network_show_ipv6.json', 'ironic/tests/unit/common/test_neutron.py', 'releasenotes/notes/node-network-data-6f998aaa57020f4b.yaml', 'ironic/tests/unit/drivers/modules/network/test_flat.py', 'ironic/tests/unit/drivers/modules/network/test_neutron.py', 'ironic/tests/unit/common/json_samples/neutron_port_show_ipv6.json', 'ironic/tests/unit/common/json_samples/neutron_network_show.json', 'ironic/tests/unit/common/json_samples/neutron_subnet_show.json', 'ironic/drivers/modules/network/common.py', 'ironic/tests/unit/common/json_samples/neutron_subnet_show_ipv6.json', 'ironic/tests/unit/common/json_samples/neutron_port_show.json', 'ironic/common/neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c84c6af087f3173be8854fd94f1173a22efc451e', 'message': 'Add `get_node_network_data` to Neutron NetworkInterface\n\nImplements `get_node_network_data` network interface method for\nNeutron networks providing Nova network metadata\n(AKA network_data.json) collected from Neutron VIF of ironic\nport objects associated with the node.\n\nCo-Authored: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nChange-Id: I0fa742110649ed2786f360e1ef43012e77671620\nStory: 2006691\nTask: 37071\n'}]",17,688896,c84c6af087f3173be8854fd94f1173a22efc451e,114,11,23,26340,,,0,"Add `get_node_network_data` to Neutron NetworkInterface

Implements `get_node_network_data` network interface method for
Neutron networks providing Nova network metadata
(AKA network_data.json) collected from Neutron VIF of ironic
port objects associated with the node.

Co-Authored: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
Change-Id: I0fa742110649ed2786f360e1ef43012e77671620
Story: 2006691
Task: 37071
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/688896/6 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/network/common.py', 'releasenotes/notes/add-nw-data-neutron-8eeb8c0a9b2cd3ca.yaml', 'ironic/common/neutron.py', 'ironic/drivers/modules/network/neutron.py', 'ironic/tests/unit/drivers/modules/network/test_neutron.py']",5,9be7ce6891b95d3cee2a84819db970f0e85e2d5e,07-add-nw-data-neutron," @mock.patch.object(neutron_common, 'get_neutron_port_data', autospec=True) self, glgi_mock, client_mock, wait_agent_mock, port_data_mock): # TODO(etingof): add proper tests here def _test_get_node_network_data(self):"," self, glgi_mock, client_mock, wait_agent_mock): def test_get_node_network_data(self):",171,4
openstack%2Fglance~master~Idebf66e2944bcddb7a5c76b81e47c654b401c2a8,openstack/glance,master,Idebf66e2944bcddb7a5c76b81e47c654b401c2a8,Add a policy knob for allowing non-owned image copying,MERGED,2020-06-30 21:44:47.000000000,2020-07-16 20:17:11.000000000,2020-07-16 20:14:39.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-30 21:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/598120ff74b05c40811533e1fe8bc2575a251ee6', 'message': 'Add a policy knob for allowing non-owned image copying\n\nThis adds a copy_image policy knob which can be used to grant users\nthe ability to copy images other than their own using the new\nfunctionality just added to the api_image_import task. By default,\nonly admins are allowed to do this.\n\nA functional test modification is included to show that users can\nbe granted permission to do this based on something like the\n""public visibility"" attribute of an image.\n\nChange-Id: Idebf66e2944bcddb7a5c76b81e47c654b401c2a8\n'}, {'number': 2, 'created': '2020-07-01 15:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/db24601d29154dcdce797a421fee76b8aaf8d577', 'message': 'Add a policy knob for allowing non-owned image copying\n\nThis adds a copy_image policy knob which can be used to grant users\nthe ability to copy images other than their own using the new\nfunctionality just added to the api_image_import task. By default,\nonly admins are allowed to do this.\n\nA functional test modification is included to show that users can\nbe granted permission to do this based on something like the\n""public visibility"" attribute of an image.\n\nChange-Id: Idebf66e2944bcddb7a5c76b81e47c654b401c2a8\n'}, {'number': 3, 'created': '2020-07-07 22:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2b3aa85c60cc08bb5666f7504426bc9aca49aa98', 'message': 'WIP Add a policy knob for allowing non-owned image copying\n\nThis adds a copy_image policy knob which can be used to grant users\nthe ability to copy images other than their own using the new\nfunctionality just added to the api_image_import task. By default,\nonly admins are allowed to do this.\n\nA functional test modification is included to show that users can\nbe granted permission to do this based on something like the\n""public visibility"" attribute of an image.\n\nChange-Id: Idebf66e2944bcddb7a5c76b81e47c654b401c2a8\n'}, {'number': 4, 'created': '2020-07-08 17:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2e67cbfc6128f6ae2b2466cefceaa0bb4c05572f', 'message': 'WIP Add a policy knob for allowing non-owned image copying\n\nThis adds a copy_image policy knob which can be used to grant users\nthe ability to copy images other than their own using the new\nfunctionality just added to the api_image_import task. By default,\nonly admins are allowed to do this.\n\nA functional test modification is included to show that users can\nbe granted permission to do this based on something like the\n""public visibility"" attribute of an image.\n\nChange-Id: Idebf66e2944bcddb7a5c76b81e47c654b401c2a8\n'}, {'number': 5, 'created': '2020-07-09 14:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d92640663f9700ee03084f053ca6ffd730b30683', 'message': 'Add a policy knob for allowing non-owned image copying\n\nThis adds a copy_image policy knob which can be used to grant users\nthe ability to copy images other than their own using the new\nfunctionality just added to the api_image_import task. By default,\nonly admins are allowed to do this.\n\nA functional test modification is included to show that users can\nbe granted permission to do this based on something like the\n""public visibility"" attribute of an image.\n\nChange-Id: Idebf66e2944bcddb7a5c76b81e47c654b401c2a8\n'}, {'number': 6, 'created': '2020-07-10 15:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d3c17feb00c865b80ebf49294f4ef9c917f4c8e1', 'message': 'Add a policy knob for allowing non-owned image copying\n\nThis adds a copy_image policy knob which can be used to grant users\nthe ability to copy images other than their own using the new\nfunctionality just added to the api_image_import task. By default,\nonly admins are allowed to do this.\n\nA functional test modification is included to show that users can\nbe granted permission to do this based on something like the\n""public visibility"" attribute of an image.\n\nChange-Id: Idebf66e2944bcddb7a5c76b81e47c654b401c2a8\n'}, {'number': 7, 'created': '2020-07-15 20:02:53.000000000', 'files': ['glance/tests/functional/v2/test_images.py', 'glance/api/v2/images.py', 'glance/policies/image.py', 'glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/ee8a69d50675097ec58dcb61c84966fe6255eb80', 'message': 'Add a policy knob for allowing non-owned image copying\n\nThis adds a copy_image policy knob which can be used to grant users\nthe ability to copy images other than their own using the new\nfunctionality just added to the api_image_import task. By default,\nonly admins are allowed to do this.\n\nA functional test modification is included to show that users can\nbe granted permission to do this based on something like the\n""public visibility"" attribute of an image.\n\nChange-Id: Idebf66e2944bcddb7a5c76b81e47c654b401c2a8\n'}]",10,738703,ee8a69d50675097ec58dcb61c84966fe6255eb80,43,6,7,4393,,,0,"Add a policy knob for allowing non-owned image copying

This adds a copy_image policy knob which can be used to grant users
the ability to copy images other than their own using the new
functionality just added to the api_image_import task. By default,
only admins are allowed to do this.

A functional test modification is included to show that users can
be granted permission to do this based on something like the
""public visibility"" attribute of an image.

Change-Id: Idebf66e2944bcddb7a5c76b81e47c654b401c2a8
",git fetch https://review.opendev.org/openstack/glance refs/changes/03/738703/6 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images.py', 'glance/api/v2/images.py', 'glance/policies/image.py']",3,598120ff74b05c40811533e1fe8bc2575a251ee6,bp/copy-unowned-image," policy.RuleDefault(name=""copy_image"", check_str=""role:admin""),",,73,4
openstack%2Ftripleo-heat-templates~master~I3923ea24c640941961624326cf3abe1012020771,openstack/tripleo-heat-templates,master,I3923ea24c640941961624326cf3abe1012020771,"Revert ""Prevent nftables to interfere with tripleo firewall""",MERGED,2020-07-10 14:47:09.000000000,2020-07-16 20:14:26.000000000,2020-07-16 20:14:26.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-10 14:47:09.000000000', 'files': ['deployment/tripleo-firewall/tripleo-firewall-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e3c4f572891717e1ce9b997e5ab35bb602a544b', 'message': 'Revert ""Prevent nftables to interfere with tripleo firewall""\n\nThis reverts commit d44df735e9675f4bb55dd56091217abc776bd4cd.\n\nRevert ""Do not fail if /usr/sbin/nft is not present""\n\nThis reverts commit aa019cdd5d84b6678395c18ff536b804a8b10005.\n\nThe nftables rules are not enabled now after [1] so reverting\nthe original changes which are not needed.\n\n[1] https://git.centos.org/rpms/nftables/c/3730f48\n\nRelated-Bug: #1870095\nRelated-Bug: #1869166\nChange-Id: I3923ea24c640941961624326cf3abe1012020771\n'}]",0,740485,8e3c4f572891717e1ce9b997e5ab35bb602a544b,9,6,1,13861,,,0,"Revert ""Prevent nftables to interfere with tripleo firewall""

This reverts commit d44df735e9675f4bb55dd56091217abc776bd4cd.

Revert ""Do not fail if /usr/sbin/nft is not present""

This reverts commit aa019cdd5d84b6678395c18ff536b804a8b10005.

The nftables rules are not enabled now after [1] so reverting
the original changes which are not needed.

[1] https://git.centos.org/rpms/nftables/c/3730f48

Related-Bug: #1870095
Related-Bug: #1869166
Change-Id: I3923ea24c640941961624326cf3abe1012020771
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/740485/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-firewall/tripleo-firewall-baremetal-ansible.yaml'],1,8e3c4f572891717e1ce9b997e5ab35bb602a544b,bug/1870095, - if: - name: Failure - ctlplane subnet is unset fail: - name: Notice - ctlplane subnet is set debug: msg: | CIDRs found in the ctlplane network tags.," list_concat: - - name: Prevent Nftables to set up any rules copy: dest: /etc/sysconfig/nftables.conf content: | # This file has been explicitely emptied and disabled by TripleO # so that nftables and iptables do not race each other register: nftablesconf - when: nftablesconf is changed block: - name: Flush Nftables rules when nftables.conf changed shell: if [[ -x /usr/sbin/nft ]]; then /usr/sbin/nft flush ruleset; fi - name: Restart iptables to restore firewall after flushing nftables systemd: state: reloaded name: ""{{item}}"" loop: - iptables.service - ip6tables.service - if: - - name: Ensure ctlplane subnet is set fail: - - name: Notice - ctlplane subnet is set debug: msg: | CIDRs found in the ctlplane network tags.",7,28
openstack%2Fkeystone~master~Ia51f47a58712c7230753f2cfa0c87b83a7339bf9,openstack/keystone,master,Ia51f47a58712c7230753f2cfa0c87b83a7339bf9,Support regexes in whitelists/blacklists,MERGED,2020-05-22 23:00:09.000000000,2020-07-16 20:06:34.000000000,2020-07-16 20:03:46.000000000,"[{'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 29100}]","[{'number': 1, 'created': '2020-05-22 23:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/83dfacb0d4a7d6e9a59d94969d671554cb5cc27a', 'message': 'Support regexes in whitelists/blacklists\n\nThis adds support for the ""regex"" flag for both the ""whitelist"" and\n""blacklist"" conditional types. Before, only the ""any_one_of"" and\n""not_any_of"" conditionals supported this. Similar to the pre-existing\nregex logic, the patterns are matched from the beginning of the string,\nmeaning you may need prefix them with "".*"" if you do not care about the\nfirst characters of the match.\n\nCloses-Bug: #1880252\nChange-Id: Ia51f47a58712c7230753f2cfa0c87b83a7339bf9\n'}, {'number': 2, 'created': '2020-05-26 15:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/32aba63c33cd6cb0a067209973df85c0efec6126', 'message': 'Support regexes in whitelists/blacklists\n\nThis adds support for the ""regex"" flag for both the ""whitelist"" and\n""blacklist"" conditional types. Before, only the ""any_one_of"" and\n""not_any_of"" conditionals supported this. Similar to the pre-existing\nregex logic, the patterns are matched from the beginning of the string,\nmeaning you may need prefix them with "".*"" if you do not care about the\nfirst characters of the match.\n\nCloses-Bug: #1880252\nChange-Id: Ia51f47a58712c7230753f2cfa0c87b83a7339bf9\n'}, {'number': 3, 'created': '2020-05-26 16:00:28.000000000', 'files': ['releasenotes/notes/bug-1880252-51036d5353125e15.yaml', 'keystone/federation/utils.py', 'doc/source/admin/federation/mapping_combinations.rst', 'keystone/tests/unit/mapping_fixtures.py', 'keystone/tests/unit/contrib/federation/test_utils.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/feaf03443807676e0cf56b7a4458b978a065a132', 'message': 'Support regexes in whitelists/blacklists\n\nThis adds support for the ""regex"" flag for both the ""whitelist"" and\n""blacklist"" conditional types. Before, only the ""any_one_of"" and\n""not_any_of"" conditionals supported this. Similar to the pre-existing\nregex logic, the patterns are matched from the beginning of the string,\nmeaning you may need prefix them with "".*"" if you do not care about the\nfirst characters of the match.\n\nCloses-Bug: #1880252\nChange-Id: Ia51f47a58712c7230753f2cfa0c87b83a7339bf9\n'}]",6,730423,feaf03443807676e0cf56b7a4458b978a065a132,20,6,3,29100,,,0,"Support regexes in whitelists/blacklists

This adds support for the ""regex"" flag for both the ""whitelist"" and
""blacklist"" conditional types. Before, only the ""any_one_of"" and
""not_any_of"" conditionals supported this. Similar to the pre-existing
regex logic, the patterns are matched from the beginning of the string,
meaning you may need prefix them with "".*"" if you do not care about the
first characters of the match.

Closes-Bug: #1880252
Change-Id: Ia51f47a58712c7230753f2cfa0c87b83a7339bf9
",git fetch https://review.opendev.org/openstack/keystone refs/changes/23/730423/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1880252-51036d5353125e15.yaml', 'keystone/federation/utils.py', 'doc/source/admin/federation/mapping_combinations.rst', 'keystone/tests/unit/mapping_fixtures.py', 'keystone/tests/unit/contrib/federation/test_utils.py']",5,83dfacb0d4a7d6e9a59d94969d671554cb5cc27a,feature/blacklist-regex," def test_rule_engine_regex_blacklist(self): mapping = mapping_fixtures.MAPPING_GROUPS_BLACKLIST_REGEX assertion = mapping_fixtures.EMPLOYEE_PARTTIME_ASSERTION rp = mapping_utils.RuleProcessor(FAKE_MAPPING_ID, mapping['rules']) mapped = rp.process(assertion) expected = { 'user': {'type': 'ephemeral'}, 'projects': [], 'group_ids': [], 'group_names': [ {'name': 'Manager', 'domain': { 'id': mapping_fixtures.FEDERATED_DOMAIN}} ] } self.assertEqual(expected, mapped) def test_rule_engine_regex_whitelist(self): mapping = mapping_fixtures.MAPPING_GROUPS_WHITELIST_REGEX assertion = mapping_fixtures.EMPLOYEE_PARTTIME_ASSERTION rp = mapping_utils.RuleProcessor(FAKE_MAPPING_ID, mapping['rules']) mapped = rp.process(assertion) expected = { 'user': {'type': 'ephemeral'}, 'projects': [], 'group_ids': [], 'group_names': [ {'name': 'Employee', 'domain': { 'id': mapping_fixtures.FEDERATED_DOMAIN}}, {'name': 'PartTimeEmployee', 'domain': { 'id': mapping_fixtures.FEDERATED_DOMAIN}} ] } self.assertEqual(expected, mapped) ",,171,25
openstack%2Foctavia~master~If5b6411a0b7c75441a406234c2792ea68d35d0fe,openstack/octavia,master,If5b6411a0b7c75441a406234c2792ea68d35d0fe,Fix listener update with SNI certificates,MERGED,2020-03-12 20:33:52.000000000,2020-07-16 19:59:44.000000000,2020-07-16 19:56:35.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27488}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-03-12 20:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b231d1fb92856a4f4b4d3800cea961acba67276', 'message': 'WIP: Fix SNI certificates on listener update\n\nTask: 39042\nStory: 2007421\n\nChange-Id: If5b6411a0b7c75441a406234c2792ea68d35d0fe\n'}, {'number': 2, 'created': '2020-03-13 15:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5e8a7d6303469606505bd0b5e8f420c1fde9e865', 'message': 'Fix listener update with SNI certificates\n\nSNI certificates were not being set in the database on listener update. A\nlistener GET would not show the certificates in the sni_container_refs\nattribute. Also, the API was allowing set of SNI certs on non TERMINATED_HTTPS\nlisteners.\n\nTask: 39042\nStory: 2007421\nStory: 2007430\n\nChange-Id: If5b6411a0b7c75441a406234c2792ea68d35d0fe\n'}, {'number': 3, 'created': '2020-03-13 23:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cc213716740296665e0ef541a975f210c51940e0', 'message': 'Fix listener update with SNI certificates\n\nSNI certificates were not being set in the database on listener update.\nA listener GET would not show the certificates in the sni_container_refs\nattribute. Also, the API was allowing set of SNI certs on non\nTERMINATED_HTTPS listeners.\n\nTask: 39042\nStory: 2007421\nStory: 2007430\n\nChange-Id: If5b6411a0b7c75441a406234c2792ea68d35d0fe\n'}, {'number': 4, 'created': '2020-03-31 13:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e005336ce5ac11dd5f81da6b740a7fcc7c9c13ab', 'message': 'Fix listener update with SNI certificates\n\nSNI certificates were not being set in the database on listener update.\nA listener GET would not show the certificates in the sni_container_refs\nattribute. Also, the API was allowing set of SNI certs on non\nTERMINATED_HTTPS listeners.\n\nTask: 39042\nStory: 2007421\nStory: 2007430\n\nChange-Id: If5b6411a0b7c75441a406234c2792ea68d35d0fe\n'}, {'number': 5, 'created': '2020-04-07 16:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/231b2982f9d331352172ac66d90d4567af9698fe', 'message': 'Fix listener update with SNI certificates\n\nSNI certificates were not being set in the database on listener update.\nA listener GET would not show the certificates in the sni_container_refs\nattribute. Also, the API was allowing set of SNI certs on non\nTERMINATED_HTTPS listeners.\n\nTask: 39042\nStory: 2007421\nStory: 2007430\n\nChange-Id: If5b6411a0b7c75441a406234c2792ea68d35d0fe\n'}, {'number': 6, 'created': '2020-06-08 06:13:37.000000000', 'files': ['octavia/tests/functional/db/test_repositories.py', 'octavia/common/data_models.py', 'releasenotes/notes/fix-api-listener-update-sni-containers-6595c52e2de1f621.yaml', 'octavia/db/models.py', 'octavia/db/repositories.py', 'octavia/api/v2/types/listener.py', 'octavia/tests/common/sample_data_models.py', 'octavia/tests/unit/api/drivers/test_utils.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/drivers/utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9e070e6e6df6468a0b8f792cb089de0d9fc180b5', 'message': 'Fix listener update with SNI certificates\n\nSNI certificates were not being set in the database on listener update.\nA listener GET would not show the certificates in the sni_container_refs\nattribute. Also, the API was allowing set of SNI certs on non\nTERMINATED_HTTPS listeners.\n\nTask: 39042\nStory: 2007421\nStory: 2007430\n\nChange-Id: If5b6411a0b7c75441a406234c2792ea68d35d0fe\n'}]",6,712790,9e070e6e6df6468a0b8f792cb089de0d9fc180b5,25,6,6,6469,,,0,"Fix listener update with SNI certificates

SNI certificates were not being set in the database on listener update.
A listener GET would not show the certificates in the sni_container_refs
attribute. Also, the API was allowing set of SNI certs on non
TERMINATED_HTTPS listeners.

Task: 39042
Story: 2007421
Story: 2007430

Change-Id: If5b6411a0b7c75441a406234c2792ea68d35d0fe
",git fetch https://review.opendev.org/openstack/octavia refs/changes/90/712790/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/db/models.py', 'octavia/db/repositories.py']",2,8b231d1fb92856a4f4b4d3800cea961acba67276,story/2007421," if 'sni_container_refs' in model_kwargs: # sni_container_refs is being updated. It is either being set # or unset/cleared. We need to update in DB side. containers = model_kwargs.pop('sni_container_refs', []) or [] listener_db.sni_containers = [] if containers: listener_db.sni_containers = [ models.SNI(listener_id=id, tls_container_id=container_ref) for container_ref in containers]"," sni_containers = model_kwargs.pop('sni_containers', []) for container_ref in sni_containers: sni = models.SNI(listener_id=id, tls_certificate_id=container_ref) listener_db.sni_containers.append(sni)",11,7
openstack%2Fkolla~master~I7b2df46d8015ed694372a209a58de3760afcf8cb,openstack/kolla,master,I7b2df46d8015ed694372a209a58de3760afcf8cb,"Revert ""base: use en_US.UTF-8 locale on all distros""",ABANDONED,2020-05-25 15:04:06.000000000,2020-07-16 19:50:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-25 15:04:06.000000000', 'files': ['docker/base/Dockerfile.j2', 'releasenotes/notes/unicode-locale-018fe01eaccc556d.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/46093ad591584be5d5d803d8bf56d2172b8791e0', 'message': 'Revert ""base: use en_US.UTF-8 locale on all distros""\n\nGoing forward, we do not support EL7 anymore as the new version is now\nEL8.\n\nOn EL8, we have C.UTF-8 shipped and enabled by default.\n\nThis reverts commit e910ef6cf67fcdb718823fbe06becc160e453e69.\n\nChange-Id: I7b2df46d8015ed694372a209a58de3760afcf8cb\n'}]",0,730633,46093ad591584be5d5d803d8bf56d2172b8791e0,7,4,1,3153,,,0,"Revert ""base: use en_US.UTF-8 locale on all distros""

Going forward, we do not support EL7 anymore as the new version is now
EL8.

On EL8, we have C.UTF-8 shipped and enabled by default.

This reverts commit e910ef6cf67fcdb718823fbe06becc160e453e69.

Change-Id: I7b2df46d8015ed694372a209a58de3760afcf8cb
",git fetch https://review.opendev.org/openstack/kolla refs/changes/33/730633/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'releasenotes/notes/unicode-locale-018fe01eaccc556d.yaml']",2,46093ad591584be5d5d803d8bf56d2172b8791e0,utf, ``C.UTF-8`` is set as the default locale (``LANG``) for images., ``en_US.UTF-8`` is set as the default locale (``LANG``) for images.,2,2
openstack%2Fnetworking-ovn~stable%2Frocky~I3e9e734b757f67d3e4ab1c5a02f8e7f9f0c9aa2e,openstack/networking-ovn,stable/rocky,I3e9e734b757f67d3e4ab1c5a02f8e7f9f0c9aa2e,[OVN] Remove VLAN check when setting external_mac,MERGED,2020-01-31 16:10:53.000000000,2020-07-16 19:45:33.000000000,2020-07-16 19:45:33.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-31 16:10:53.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9f3d8624c9896441db350b5884c5c77b349e96f0', 'message': ""[OVN] Remove VLAN check when setting external_mac\n\nThis patch reverts [0].\n\nThe code wasn't accounting for VLAN provider networks, as stated in the\nbug #1842988, DVR won't work if the provider network (where the FIP is\ncreated) is VLAN.\n\nThere was also an incosistency in how the external_mac was set for the\nVLAN networks. Upon creating the FIP the code was checking for the\nnetwork type and not setting the external_mac attribute in case the\nnetwork was VLAN type. But, if the port went down and up again (e.g if\nyou reboot the VM) the event handler that set/unset the external_mac [1]\nwasn't check for the type. This is how people worked around the DVR\nproblem (as stated in bug #1842988).\n\nFor more information see bug #1842988.\n\n[0]\nhttps://github.com/openstack/networking-ovn/commit/c5aef51edc9843db605303ec8bd8610b6c55e9c2\n[1]\nhttps://github.com/openstack/networking-ovn/blob/eda5d7f80d877601170631c5f5485370ea701f42/networking_ovn/ml2/mech_driver.py#L794-L800\n\nCloses-Bug: #1842988\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n\n(Cherry-picked from Neutron Ifb795626dc9c2ac4f0104f491dd38c9b4cc902c9)\n\nChange-Id: I3e9e734b757f67d3e4ab1c5a02f8e7f9f0c9aa2e\n(cherry picked from commit f9b1dffada3ad6c1328843b30128e72b92cfcdf5)\n""}]",0,705252,9f3d8624c9896441db350b5884c5c77b349e96f0,17,4,1,6773,,,0,"[OVN] Remove VLAN check when setting external_mac

This patch reverts [0].

The code wasn't accounting for VLAN provider networks, as stated in the
bug #1842988, DVR won't work if the provider network (where the FIP is
created) is VLAN.

There was also an incosistency in how the external_mac was set for the
VLAN networks. Upon creating the FIP the code was checking for the
network type and not setting the external_mac attribute in case the
network was VLAN type. But, if the port went down and up again (e.g if
you reboot the VM) the event handler that set/unset the external_mac [1]
wasn't check for the type. This is how people worked around the DVR
problem (as stated in bug #1842988).

For more information see bug #1842988.

[0]
https://github.com/openstack/networking-ovn/commit/c5aef51edc9843db605303ec8bd8610b6c55e9c2
[1]
https://github.com/openstack/networking-ovn/blob/eda5d7f80d877601170631c5f5485370ea701f42/networking_ovn/ml2/mech_driver.py#L794-L800

Closes-Bug: #1842988
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>

(Cherry-picked from Neutron Ifb795626dc9c2ac4f0104f491dd38c9b4cc902c9)

Change-Id: I3e9e734b757f67d3e4ab1c5a02f8e7f9f0c9aa2e
(cherry picked from commit f9b1dffada3ad6c1328843b30128e72b92cfcdf5)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/52/705252/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py']",2,9f3d8624c9896441db350b5884c5c77b349e96f0,," def test_update_floatingip_associate_distributed(self, uf, gf, gp, gn): fake_network_vlan[pnet.NETWORK_TYPE] = constants.TYPE_FLAT self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-new-router-id', type='dnat_and_snat', logical_ip='10.10.10.10', external_ip='192.168.0.10', external_mac='00:01:02:03:04:05', logical_port='new-port_id', external_ids=expected_ext_ids)"," def _test_update_floatingip_associate_distributed(self, network_type, uf, gf, gp, gn): fake_network_vlan[pnet.NETWORK_TYPE] = network_type if network_type == constants.TYPE_VLAN: self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-new-router-id', type='dnat_and_snat', logical_ip='10.10.10.10', external_ip='192.168.0.10', logical_port='new-port_id', external_ids=expected_ext_ids) else: self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-new-router-id', type='dnat_and_snat', logical_ip='10.10.10.10', external_ip='192.168.0.10', external_mac='00:01:02:03:04:05', logical_port='new-port_id', external_ids=expected_ext_ids) def test_update_floatingip_associate_distributed_flat(self): self._test_update_floatingip_associate_distributed(constants.TYPE_FLAT) def test_update_floatingip_associate_distributed_vlan(self): self._test_update_floatingip_associate_distributed(constants.TYPE_VLAN)",8,24
openstack%2Fmanila-tempest-plugin~master~I4fd282673074887cada729b6e4491ee493e230cc,openstack/manila-tempest-plugin,master,I4fd282673074887cada729b6e4491ee493e230cc,Fix ReplicaQuotasNegativeTest,MERGED,2020-07-16 05:50:52.000000000,2020-07-16 19:34:09.000000000,2020-07-16 19:34:09.000000000,"[{'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-16 05:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/e9b488c6d4d070472ecb57fba5532cfda4a01bed', 'message': 'Fix more usage of tenant_id in tests\n\nCommit 38544589c4a5c39e78f5399fbb2f4ccf92fb7b91\nfixed the use of tenant_id in the rules\nand quota tests. There is one more usage\nin the ReplicaQuotasNegativeTest class to fix.\n\nChange-Id: I4fd282673074887cada729b6e4491ee493e230cc\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-07-16 06:48:34.000000000', 'files': ['manila_tempest_tests/tests/api/admin/test_quotas_negative.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/517a7a250770e4b43940eec637de97b126672a3c', 'message': 'Fix ReplicaQuotasNegativeTest\n\nThis test was not being executed in the CI\ndue to recent changes in manila-tempest-plugin\nand a few bugs went unnoticed.\n\nChange-Id: I4fd282673074887cada729b6e4491ee493e230cc\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,741376,517a7a250770e4b43940eec637de97b126672a3c,12,6,2,16643,,,0,"Fix ReplicaQuotasNegativeTest

This test was not being executed in the CI
due to recent changes in manila-tempest-plugin
and a few bugs went unnoticed.

Change-Id: I4fd282673074887cada729b6e4491ee493e230cc
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/76/741376/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/admin/test_quotas_negative.py'],1,e9b488c6d4d070472ecb57fba5532cfda4a01bed,fix-tenant-id," self.update_quotas(self.shares_v2_client.tenant_id, client=self.admin_client, **kwargs) updated_quota = self.admin_client.show_quotas( self.shares_v2_client.tenant_id)"," self.update_quotas(self.tenant_id, client=self.admin_client, **kwargs) updated_quota = self.admin_client.show_quotas(self.tenant_id)",5,2
openstack%2Fpython-manilaclient~master~I3e199e1a117ddf7739fce8858694a801a26ed08f,openstack/python-manilaclient,master,I3e199e1a117ddf7739fce8858694a801a26ed08f,Use unittest.mock instead of third party lib,MERGED,2020-04-17 01:56:43.000000000,2020-07-16 19:25:52.000000000,2020-07-16 19:24:11.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31213}]","[{'number': 1, 'created': '2020-04-17 01:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7f2d346c2e45c5d7f4482c7d2a1c3812c6ba3620', 'message': ""Use unittest.mock instead of third party lib\n\nmock was adopted into standard python\nin version 3.3 [1]. Since python-manilaclient\nno longer supports python2.7, we can use the inbuilt\nmock package rather than the third party\nlib.\n\nAlso fix some issues with imports that\nweren't following our import conventions\nof grouping imports [3]\n\n[1] https://docs.python.org/3/library/unittest.mock.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-March/013281.html\n[3] https://docs.openstack.org/hacking/latest/user/hacking.html#imports\n\nChange-Id: I3e199e1a117ddf7739fce8858694a801a26ed08f\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 2, 'created': '2020-04-17 18:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/76c678aaf16fb09d9d73173c5fae0163b9937889', 'message': ""Use unittest.mock instead of third party lib\n\nmock was adopted into standard python\nin version 3.3 [1]. Since python-manilaclient\nno longer supports python2.7, we can use the inbuilt\nmock package rather than the third party\nlib.\n\nAlso fix some issues with imports that\nweren't following our import conventions\nof grouping imports [3]\n\n[1] https://docs.python.org/3/library/unittest.mock.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-March/013281.html\n[3] https://docs.openstack.org/hacking/latest/user/hacking.html#imports\n\nDepends-On: Ibd39328c27b68190e2edbf1f52fcea52db3ae791\nChange-Id: I3e199e1a117ddf7739fce8858694a801a26ed08f\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 3, 'created': '2020-04-28 22:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/2b6911e5a9f1a480bf50062bef5367f10169cb5e', 'message': ""Use unittest.mock instead of third party lib\n\nmock was adopted into standard python\nin version 3.3 [1]. Since python-manilaclient\nno longer supports python2.7, we can use the inbuilt\nmock package rather than the third party\nlib.\n\nAlso fix some issues with imports that\nweren't following our import conventions\nof grouping imports [3]\n\n[1] https://docs.python.org/3/library/unittest.mock.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-March/013281.html\n[3] https://docs.openstack.org/hacking/latest/user/hacking.html#imports\n\nDepends-On: Ibd39328c27b68190e2edbf1f52fcea52db3ae791\nChange-Id: I3e199e1a117ddf7739fce8858694a801a26ed08f\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 4, 'created': '2020-04-29 06:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/fca19114d27c3ee34135acb4271b06d3968d77f8', 'message': ""Use unittest.mock instead of third party lib\n\nmock was adopted into standard python\nin version 3.3 [1]. Since python-manilaclient\nno longer supports python2.7, we can use the inbuilt\nmock package rather than the third party\nlib.\n\nAlso fix some issues with imports that\nweren't following our import conventions\nof grouping imports [3]\n\n[1] https://docs.python.org/3/library/unittest.mock.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-March/013281.html\n[3] https://docs.openstack.org/hacking/latest/user/hacking.html#imports\n\nDepends-On: Ibd39328c27b68190e2edbf1f52fcea52db3ae791\nChange-Id: I3e199e1a117ddf7739fce8858694a801a26ed08f\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 5, 'created': '2020-06-22 23:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c5a92cc1d4d818ed851244a33504c1a0a61b26e7', 'message': ""Use unittest.mock instead of third party lib\n\nmock was adopted into standard python\nin version 3.3 [1]. Since python-manilaclient\nno longer supports python2.7, we can use the inbuilt\nmock package rather than the third party\nlib.\n\nAlso fix some issues with imports that\nweren't following our import conventions\nof grouping imports [3]\n\n[1] https://docs.python.org/3/library/unittest.mock.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-March/013281.html\n[3] https://docs.openstack.org/hacking/latest/user/hacking.html#imports\n\nChange-Id: I3e199e1a117ddf7739fce8858694a801a26ed08f\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 6, 'created': '2020-06-23 00:26:34.000000000', 'files': ['manilaclient/tests/unit/osc/osc_fakes.py', 'manilaclient/tests/unit/test_shell.py', 'test-requirements.txt', 'manilaclient/tests/unit/v2/test_client.py', 'manilaclient/tests/unit/v2/test_services.py', 'manilaclient/tests/unit/common/test_httpclient.py', 'manilaclient/tests/unit/osc/v2/test_share_type.py', 'manilaclient/tests/unit/v2/test_share_networks.py', 'manilaclient/tests/unit/v2/test_scheduler_stats.py', 'manilaclient/tests/unit/v2/test_security_services.py', 'manilaclient/tests/unit/v2/test_share_servers.py', 'manilaclient/tests/unit/v2/test_share_snapshots.py', 'manilaclient/tests/unit/v2/test_shares.py', 'manilaclient/tests/unit/v2/test_share_instances.py', 'manilaclient/tests/unit/v2/test_share_replica_export_locations.py', 'manilaclient/tests/unit/test_api_versions.py', 'manilaclient/tests/unit/v2/test_share_groups.py', 'manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/v2/test_types.py', 'manilaclient/tests/unit/v2/test_quotas.py', 'manilaclient/tests/unit/v2/test_share_instance_export_locations.py', 'lower-constraints.txt', 'manilaclient/tests/unit/v2/test_share_snapshot_instances.py', 'manilaclient/tests/unit/v2/test_share_group_types.py', 'manilaclient/tests/unit/v2/test_availability_zones.py', 'manilaclient/tests/unit/v2/test_share_export_locations.py', 'manilaclient/tests/unit/v2/test_share_network_subnets.py', 'manilaclient/tests/unit/v2/test_share_group_type_access.py', 'manilaclient/tests/unit/v2/test_type_access.py', 'manilaclient/tests/unit/utils.py', 'manilaclient/tests/unit/osc/v2/test_share.py', 'manilaclient/tests/unit/test_client.py', 'manilaclient/tests/unit/v2/test_share_replicas.py', 'manilaclient/tests/unit/v2/test_quota_classes.py', 'manilaclient/tests/unit/v2/test_share_group_snapshots.py', 'manilaclient/tests/unit/test_base.py', 'manilaclient/tests/unit/v2/test_limits.py', 'manilaclient/tests/unit/v2/test_messages.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/2d4df937d5661051c9bed75d948d65e81066fc0c', 'message': ""Use unittest.mock instead of third party lib\n\nmock was adopted into standard python\nin version 3.3 [1]. Since python-manilaclient\nno longer supports python2.7, we can use the inbuilt\nmock package rather than the third party\nlib.\n\nAlso fix some issues with imports that\nweren't following our import conventions\nof grouping imports [3]\n\n[1] https://docs.python.org/3/library/unittest.mock.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-March/013281.html\n[3] https://docs.openstack.org/hacking/latest/user/hacking.html#imports\n\nChange-Id: I3e199e1a117ddf7739fce8858694a801a26ed08f\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",0,720628,2d4df937d5661051c9bed75d948d65e81066fc0c,29,6,6,16643,,,0,"Use unittest.mock instead of third party lib

mock was adopted into standard python
in version 3.3 [1]. Since python-manilaclient
no longer supports python2.7, we can use the inbuilt
mock package rather than the third party
lib.

Also fix some issues with imports that
weren't following our import conventions
of grouping imports [3]

[1] https://docs.python.org/3/library/unittest.mock.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-March/013281.html
[3] https://docs.openstack.org/hacking/latest/user/hacking.html#imports

Change-Id: I3e199e1a117ddf7739fce8858694a801a26ed08f
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/28/720628/3 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/osc/osc_fakes.py', 'manilaclient/tests/unit/test_shell.py', 'test-requirements.txt', 'manilaclient/tests/unit/v2/test_client.py', 'manilaclient/tests/unit/v2/test_services.py', 'manilaclient/tests/unit/common/test_httpclient.py', 'manilaclient/tests/unit/osc/v2/test_share_type.py', 'manilaclient/tests/unit/v2/test_share_networks.py', 'manilaclient/tests/unit/v2/test_scheduler_stats.py', 'manilaclient/tests/unit/v2/test_security_services.py', 'manilaclient/tests/unit/v2/test_share_servers.py', 'manilaclient/tests/unit/v2/test_share_snapshots.py', 'manilaclient/tests/unit/v2/test_shares.py', 'manilaclient/tests/unit/v2/test_share_instances.py', 'manilaclient/tests/unit/v2/test_share_replica_export_locations.py', 'manilaclient/tests/unit/test_api_versions.py', 'manilaclient/tests/unit/v2/test_share_groups.py', 'manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/v2/test_types.py', 'manilaclient/tests/unit/v2/test_quotas.py', 'manilaclient/tests/unit/v2/test_share_instance_export_locations.py', 'lower-constraints.txt', 'manilaclient/tests/unit/v2/test_share_snapshot_instances.py', 'manilaclient/tests/unit/v2/test_share_group_types.py', 'manilaclient/tests/unit/v2/test_availability_zones.py', 'manilaclient/tests/unit/v2/test_share_export_locations.py', 'manilaclient/tests/unit/v2/test_share_network_subnets.py', 'manilaclient/tests/unit/v2/test_share_group_type_access.py', 'manilaclient/tests/unit/v2/test_type_access.py', 'manilaclient/tests/unit/utils.py', 'manilaclient/tests/unit/osc/v2/test_share.py', 'manilaclient/tests/unit/test_client.py', 'manilaclient/tests/unit/v2/test_share_replicas.py', 'manilaclient/tests/unit/v2/test_quota_classes.py', 'manilaclient/tests/unit/v2/test_share_group_snapshots.py', 'manilaclient/tests/unit/test_base.py', 'manilaclient/tests/unit/v2/test_limits.py', 'manilaclient/tests/unit/v2/test_messages.py']",39,7f2d346c2e45c5d7f4482c7d2a1c3812c6ba3620,unittest.mock,from unittest import mock,import mock,70,49
openstack%2Frpm-packaging~master~Icb6735e7c41f1f805696bc06b12fe47cecf6f5b3,openstack/rpm-packaging,master,Icb6735e7c41f1f805696bc06b12fe47cecf6f5b3,os-traits: update to 2.4.0,MERGED,2020-07-14 03:31:45.000000000,2020-07-16 19:20:55.000000000,2020-07-16 19:20:55.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-14 03:31:45.000000000', 'files': ['openstack/os-traits/os-traits.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/66dff7ef35353e1ae080fd3793d9d20840dd0931', 'message': 'os-traits: update to 2.4.0\n\nChange-Id: Icb6735e7c41f1f805696bc06b12fe47cecf6f5b3\n'}]",0,740857,66dff7ef35353e1ae080fd3793d9d20840dd0931,9,5,1,12907,,,0,"os-traits: update to 2.4.0

Change-Id: Icb6735e7c41f1f805696bc06b12fe47cecf6f5b3
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/57/740857/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-traits/os-traits.spec.j2'],1,66dff7ef35353e1ae080fd3793d9d20840dd0931,,{% set upstream_version = upstream_version('2.4.0') %},{% set upstream_version = upstream_version('2.3.0') %},1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I2f2003cfa00873d3669c94711635c51c4ac69ab3,openstack/tripleo-ansible,stable/train,I2f2003cfa00873d3669c94711635c51c4ac69ab3,Add debug output when rendering container files,MERGED,2020-07-15 14:14:45.000000000,2020-07-16 19:16:13.000000000,2020-07-16 19:16:13.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-15 14:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7463b89fa0b904a3daeb162f3d44a92f7f96891e', 'message': 'Add debug output when rendering container files\n\nThis change adds a debug print statement which will assist in debugging should there\never be an issue rendering files.\n\nThis change also removes the tcib_pre_build option, this var was not doing anything\nand creating condusion when executing role builds.\n\nChange-Id: I2f2003cfa00873d3669c94711635c51c4ac69ab3\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 1543b75697e6926558919b73be01c23dbd337a84)\n'}, {'number': 2, 'created': '2020-07-15 14:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b583356ebe70ca26d34ff7a7f098e097034b0008', 'message': 'Add debug output when rendering container files\n\nThis change adds a debug print statement which will assist in debugging should there\never be an issue rendering files.\n\nThis change also removes the tcib_pre_build option, this var was not doing anything\nand creating condusion when executing role builds.\n\nChange-Id: I2f2003cfa00873d3669c94711635c51c4ac69ab3\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 1543b75697e6926558919b73be01c23dbd337a84)\n'}, {'number': 3, 'created': '2020-07-15 21:33:20.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-image-build/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-image-build/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8d66408a62718be44b1f7bb7d32de40a131bdd31', 'message': 'Add debug output when rendering container files\n\nThis change adds a debug print statement which will assist in debugging should there\never be an issue rendering files.\n\nThis change also removes the tcib_pre_build option, this var was not doing anything\nand creating condusion when executing role builds.\n\nChange-Id: I2f2003cfa00873d3669c94711635c51c4ac69ab3\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 1543b75697e6926558919b73be01c23dbd337a84)\n'}]",0,741216,8d66408a62718be44b1f7bb7d32de40a131bdd31,13,3,3,3153,,,0,"Add debug output when rendering container files

This change adds a debug print statement which will assist in debugging should there
ever be an issue rendering files.

This change also removes the tcib_pre_build option, this var was not doing anything
and creating condusion when executing role builds.

Change-Id: I2f2003cfa00873d3669c94711635c51c4ac69ab3
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 1543b75697e6926558919b73be01c23dbd337a84)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/16/741216/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-image-build/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-image-build/defaults/main.yml']",2,7463b89fa0b904a3daeb162f3d44a92f7f96891e,tcib/train,," # Boolean, enables the gathering of files. tcib_pre_build: false",1,6
openstack%2Fnetworking-ovn~stable%2Ftrain~Ica73aa09e1e5f88e699d5dda166296fb16cba83e,openstack/networking-ovn,stable/train,Ica73aa09e1e5f88e699d5dda166296fb16cba83e,ovn: Remove is_port_groups_supported() code,MERGED,2020-06-19 21:55:42.000000000,2020-07-16 19:04:30.000000000,2020-07-16 18:59:52.000000000,"[{'_account_id': 1131}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-19 21:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/360caaea4c20619c16a50b65bc86af8d68a8fdb2', 'message': ""ovn: Remove is_port_groups_supported() code\n\nPort_Groups table has been introduced in OVN 2.10 and we've moved in\nmaster to newer version since. This patch removes all references to code\nbranching between port_groups and address_sets, and also removes\nunneeded Address_Set commands and references.\n\nMerge Conflicts Resolved:\nnetworking_ovn/common/acl.py\nnetworking_ovn/common/ovn_client.py\nnetworking_ovn/ovn_db_sync.py\nnetworking_ovn/tests/functional/test_ovn_db_resources.py\nnetworking_ovn/tests/functional/test_ovn_db_sync.py\nnetworking_ovn/tests/unit/common/test_acl.py\nnetworking_ovn/tests/unit/ml2/test_mech_driver.py\nnetworking_ovn/tests/unit/test_ovn_db_sync.py\n\nChange-Id: Ica73aa09e1e5f88e699d5dda166296fb16cba83e\n(cherry picked from commit 9cbbd8de53db18a5388d109174a464dcd96ab78b)\n""}, {'number': 2, 'created': '2020-06-23 15:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/db24ec94434176d4afaf899395fc8501a3d24d0b', 'message': ""ovn: Remove is_port_groups_supported() code\n\nPort_Groups table has been introduced in OVN 2.10 and we've moved in\nmaster to newer version since. This patch removes all references to code\nbranching between port_groups and address_sets, and also removes\nunneeded Address_Set commands and references.\n\nMerge Conflicts Resolved:\nnetworking_ovn/common/acl.py\nnetworking_ovn/common/ovn_client.py\nnetworking_ovn/ovn_db_sync.py\nnetworking_ovn/tests/functional/test_ovn_db_resources.py\nnetworking_ovn/tests/functional/test_ovn_db_sync.py\nnetworking_ovn/tests/unit/common/test_acl.py\nnetworking_ovn/tests/unit/ml2/test_mech_driver.py\nnetworking_ovn/tests/unit/test_ovn_db_sync.py\n\nChange-Id: Ica73aa09e1e5f88e699d5dda166296fb16cba83e\n(cherry picked from commit 9cbbd8de53db18a5388d109174a464dcd96ab78b)\n""}, {'number': 3, 'created': '2020-06-24 09:44:27.000000000', 'files': ['networking_ovn/tests/unit/ovsdb/test_commands.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/tests/unit/common/test_maintenance.py', 'doc/source/contributor/design/index.rst', 'networking_ovn/tests/functional/test_ovn_db_resources.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py', 'networking_ovn/common/acl.py', 'networking_ovn/tests/functional/test_maintenance.py', 'networking_ovn/common/ovn_client.py', 'networking_ovn/ovsdb/ovn_api.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/common/maintenance.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'doc/source/contributor/design/acl_optimizations.rst', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/tests/unit/common/test_acl.py', 'networking_ovn/ovsdb/commands.py', 'networking_ovn/tests/unit/fakes.py', 'doc/source/admin/refarch/refarch.rst'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c4448f442ecf3319417b9b239ae882777519128f', 'message': ""ovn: Remove is_port_groups_supported() code\n\nPort_Groups table has been introduced in OVN 2.10 and we've moved in\nmaster to newer version since. This patch removes all references to code\nbranching between port_groups and address_sets, and also removes\nunneeded Address_Set commands and references.\n\nMerge Conflicts Resolved:\nnetworking_ovn/common/acl.py\nnetworking_ovn/common/ovn_client.py\nnetworking_ovn/ovn_db_sync.py\nnetworking_ovn/tests/functional/test_ovn_db_resources.py\nnetworking_ovn/tests/functional/test_ovn_db_sync.py\nnetworking_ovn/tests/unit/common/test_acl.py\nnetworking_ovn/tests/unit/ml2/test_mech_driver.py\nnetworking_ovn/tests/unit/test_ovn_db_sync.py\n\nChange-Id: Ica73aa09e1e5f88e699d5dda166296fb16cba83e\n(cherry picked from commit 9cbbd8de53db18a5388d109174a464dcd96ab78b)\n""}]",2,737090,c4448f442ecf3319417b9b239ae882777519128f,18,5,3,11952,,,0,"ovn: Remove is_port_groups_supported() code

Port_Groups table has been introduced in OVN 2.10 and we've moved in
master to newer version since. This patch removes all references to code
branching between port_groups and address_sets, and also removes
unneeded Address_Set commands and references.

Merge Conflicts Resolved:
networking_ovn/common/acl.py
networking_ovn/common/ovn_client.py
networking_ovn/ovn_db_sync.py
networking_ovn/tests/functional/test_ovn_db_resources.py
networking_ovn/tests/functional/test_ovn_db_sync.py
networking_ovn/tests/unit/common/test_acl.py
networking_ovn/tests/unit/ml2/test_mech_driver.py
networking_ovn/tests/unit/test_ovn_db_sync.py

Change-Id: Ica73aa09e1e5f88e699d5dda166296fb16cba83e
(cherry picked from commit 9cbbd8de53db18a5388d109174a464dcd96ab78b)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/90/737090/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ovsdb/test_commands.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/tests/unit/common/test_maintenance.py', 'doc/source/contributor/design/index.rst', 'networking_ovn/tests/functional/test_ovn_db_resources.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py', 'networking_ovn/common/acl.py', 'networking_ovn/tests/functional/test_maintenance.py', 'networking_ovn/common/ovn_client.py', 'networking_ovn/ovsdb/ovn_api.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/common/maintenance.py', 'networking_ovn/ovsdb/impl_idl_ovn.py', 'doc/source/contributor/design/acl_optimizations.rst', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/tests/unit/common/test_acl.py', 'networking_ovn/ovsdb/commands.py', 'networking_ovn/tests/unit/fakes.py', 'doc/source/admin/refarch/refarch.rst']",19,360caaea4c20619c16a50b65bc86af8d68a8fdb2,port-groups-removal,"When a Neutron Security Group is created, the equivalent Port Group in OVN (pg-<security_group_id> is created). This Port Group references Neutron SG id in its external_ids column. When a Neutron Port is created, the equivalent Logical Port in OVN is added to those Port Groups associated to the Neutron Security Groups this port belongs to. When a Neutron Port is deleted, the associated Logical Port in OVN is deleted. Since the schema includes a weak reference to the port, when the LSP gets deleted, it is automatically deleted from any Port Group entry where it was previously present. Every time a security group rule is created, instead of figuring out the ports affected by its SG and inserting an ACL row which will be referenced by different Logical Switches, we just reference it from the associated Port Group. a port group in the Port_Group table of the northbound DB: _uuid : e96c5994-695d-4b9c-a17b-c7375ad281e2 acls : [33c3c2d0-bc7b-421b-ace9-10884851521a, c22170ec-da5d-4a59-b118-f7f0e370ebc4] external_ids : {""neutron:security_group_id""=""ccbeffee-7b98-4b6f-adf7-d42027ca6447""} name : pg_ccbeffee_7b98_4b6f_adf7_d42027ca6447 ports : [] And it also creates the default ACLs for egress traffic in the ACL table of the northbound DB: _uuid : 33c3c2d0-bc7b-421b-ace9-10884851521a action : allow-related direction : from-lport external_ids : {""neutron:security_group_rule_id""=""655b0d7e-144e-4bd8-9243-10a261b91041""} log : false match : ""inport == @pg_ccbeffee_7b98_4b6f_adf7_d42027ca6447 && ip4"" meter : [] name : [] priority : 1002 severity : [] _uuid : c22170ec-da5d-4a59-b118-f7f0e370ebc4 action : allow-related direction : from-lport external_ids : {""neutron:security_group_rule_id""=""a303a34f-5f19-494f-a9e2-e23f246bfcad""} log : false match : ""inport == @pg_ccbeffee_7b98_4b6f_adf7_d42027ca6447 && ip6"" meter : [] name : [] priority : 1002 severity : [] Ports with no security groups ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ When a port doesn't belong to any Security Group and port security is enabled, we, by default, drop all the traffic to/from that port. In order to implement this through Port Groups, we'll create a special Port Group with a fixed name (``neutron_pg_drop``) which holds the ACLs to drop all the traffic. This PG is created automatically once before neutron-server forks into workers.","Each security group will map to 2 Address_Sets in the OVN NB and SB tables, one for ipv4 and another for ipv6, which will be used to hold ip addresses for the ports that belong to the security group, so that rules with remote_group_id can be efficiently applied. 2 new entries in the Address Set table of the northbound DB: _uuid : 9a9d01bd-4afc-4d12-853a-cd21b547911d addresses : [] external_ids : {""neutron:security_group_name""=default} name : ""as_ip4_90a78a43_b549_4bee_8822_21fcccab58dc"" _uuid : 27a91327-636e-4125-99f0-6f2937a3b6d8 addresses : [] external_ids : {""neutron:security_group_name""=default} name : ""as_ip6_90a78a43_b549_4bee_8822_21fcccab58dc"" In the above entries, the address set name include the protocol (IPv4 or IPv6, written as ip4 or ip6) and the UUID of the Openstack security group, dashes translated to underscores. #. In turn, these new entries will be translated by the OVN northd daemon into entries in the southbound DB: _uuid : 886d7b3a-e460-470f-8af2-7c7d88ce45d2 addresses : [] name : ""as_ip4_90a78a43_b549_4bee_8822_21fcccab58dc"" _uuid : 355ddcba-941d-4f1c-b823-dc811cec59ca addresses : [] name : ""as_ip6_90a78a43_b549_4bee_8822_21fcccab58dc""",257,1774
openstack%2Fopenstack-helm~master~I2ccd920fa26aca2955afef8b71d56e55d1ae26e8,openstack/openstack-helm,master,I2ccd920fa26aca2955afef8b71d56e55d1ae26e8,Add missing security context to Horizon test pods/containers,MERGED,2020-06-29 20:00:20.000000000,2020-07-16 18:55:52.000000000,2020-07-16 18:53:46.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29144}, {'_account_id': 29161}, {'_account_id': 29298}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-06-29 20:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ada0b4bcc13878c7ef0f3f4a59122070cbff231e', 'message': 'Implement helm-toolkit snippet to Horizon test pods/containers\n\nThis updates the horizon chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I2ccd920fa26aca2955afef8b71d56e55d1ae26e8\n'}, {'number': 2, 'created': '2020-06-30 20:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b969c0f535e297b27a9483df8c12e3dd3d5f5ac2', 'message': 'Implement helm-toolkit snippet to Horizon test pods/containers\n\nThis updates the horizon chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I2ccd920fa26aca2955afef8b71d56e55d1ae26e8\n'}, {'number': 3, 'created': '2020-07-01 23:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e2701beb1a09ad6f737bb94d178d1a13396d4e7a', 'message': 'Implement helm-toolkit snippet to Horizon test pods/containers\n\nThis updates the horizon chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I2ccd920fa26aca2955afef8b71d56e55d1ae26e8\n'}, {'number': 4, 'created': '2020-07-01 23:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eb09728a4382d7657892fc76c8abad1e70262c98', 'message': 'Implement helm-toolkit snippet to Horizon test pods/containers\n\nThis updates the horizon chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I2ccd920fa26aca2955afef8b71d56e55d1ae26e8\n'}, {'number': 5, 'created': '2020-07-06 22:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/59312d6d51a584d9ca95eb94222a0be09f3bb396', 'message': 'Implement helm-toolkit snippet to Horizon test pods/containers\n\nThis updates the horizon chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I2ccd920fa26aca2955afef8b71d56e55d1ae26e8\n'}, {'number': 6, 'created': '2020-07-06 23:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4e35cfc2a1f33d039468bec1c059b886e15e3371', 'message': 'Add missing security context to Horizon test pods/containers\n\nThis updates the horizon chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I2ccd920fa26aca2955afef8b71d56e55d1ae26e8\n'}, {'number': 7, 'created': '2020-07-07 01:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/67e07d4a1915357fdf43b5a6cd9d03df4fb8f3d6', 'message': 'Add missing security context to Horizon test pods/containers\n\nThis updates the horizon chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I2ccd920fa26aca2955afef8b71d56e55d1ae26e8\n'}, {'number': 8, 'created': '2020-07-07 03:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e95f5d9fe336e4a0471e707db7e40dcef04c36df', 'message': 'Add missing security context to Horizon test pods/containers\n\nThis updates the horizon chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I2ccd920fa26aca2955afef8b71d56e55d1ae26e8\n'}, {'number': 9, 'created': '2020-07-07 17:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/563db516e8c532383cb7ceeb0f779cefe8c6311b', 'message': 'Add missing security context to Horizon test pods/containers\n\nThis updates the horizon chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I2ccd920fa26aca2955afef8b71d56e55d1ae26e8\n'}, {'number': 10, 'created': '2020-07-08 06:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e511a35c73284bec4b9e8fb69afbdfb132fa734f', 'message': 'Add missing security context to Horizon test pods/containers\n\nThis updates the horizon chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I2ccd920fa26aca2955afef8b71d56e55d1ae26e8\n'}, {'number': 11, 'created': '2020-07-08 06:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6386ce789dd7493e000b4bd095e610706293d15a', 'message': 'Add missing security context to Horizon test pods/containers\n\nThis updates the horizon chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I2ccd920fa26aca2955afef8b71d56e55d1ae26e8\n'}, {'number': 12, 'created': '2020-07-08 06:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9c92829171aba48b7b5722e46aa16d9476c6e691', 'message': 'Add missing security context to Horizon test pods/containers\n\nThis updates the horizon chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I2ccd920fa26aca2955afef8b71d56e55d1ae26e8\n'}, {'number': 13, 'created': '2020-07-08 06:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fc3380b6fe598094e3ff85e6c9707e8fb004e26a', 'message': 'Add missing security context to Horizon test pods/containers\n\nThis updates the horizon chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I2ccd920fa26aca2955afef8b71d56e55d1ae26e8\n'}, {'number': 14, 'created': '2020-07-08 09:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d39361cb5f6fcd057bfba5475087aeade8b78a68', 'message': 'Add missing security context to Horizon test pods/containers\n\nThis updates the horizon chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I2ccd920fa26aca2955afef8b71d56e55d1ae26e8\n'}, {'number': 15, 'created': '2020-07-15 21:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d615981559db60fa2772fc7371bb19b23663a3ad', 'message': 'Add missing security context to Horizon test pods/containers\n\nThis updates the horizon chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I2ccd920fa26aca2955afef8b71d56e55d1ae26e8\n'}, {'number': 16, 'created': '2020-07-15 22:27:07.000000000', 'files': ['horizon/templates/job-db-sync.yaml', 'horizon/templates/pod-helm-tests.yaml', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e61f88465a587de04f587aa1b239cf7927cdca96', 'message': 'Add missing security context to Horizon test pods/containers\n\nThis updates the horizon chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I2ccd920fa26aca2955afef8b71d56e55d1ae26e8\n'}]",12,738500,e61f88465a587de04f587aa1b239cf7927cdca96,67,13,16,29144,,,0,"Add missing security context to Horizon test pods/containers

This updates the horizon chart to include the pod
security context on the pod template.

This also adds the container security context to set
readOnlyRootFilesystem flag to true

Change-Id: I2ccd920fa26aca2955afef8b71d56e55d1ae26e8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/00/738500/5 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/templates/pod-helm-tests.yaml', 'horizon/values.yaml']",2,ada0b4bcc13878c7ef0f3f4a59122070cbff231e,, test: pod: runAsUser: 42424 container: init: readOnlyRootFilesystem: true allowPrivilegeEscalation: false horizon_test: readOnlyRootFilesystem: true allowPrivilegeEscalation: false,,13,0
openstack%2Foctavia-tempest-plugin~master~I53d5d33ae9a181b79e1d971d56452eeee5dd7759,openstack/octavia-tempest-plugin,master,I53d5d33ae9a181b79e1d971d56452eeee5dd7759,Fix availability zone API tests,MERGED,2020-06-21 19:25:10.000000000,2020-07-16 18:52:11.000000000,2020-07-16 18:46:20.000000000,"[{'_account_id': 3031}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-21 19:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/9ec3df31cc3b5d04a36e915aa9926762e2dffe5b', 'message': 'Fix availability zone API tests\n\nCurrently, if you run the availability zone API tests when not using\nthe no-op drivers, the API tests will fail as they had hard-coded\navailability zone names that do not exist.\nSince creating availability zones requires reconfiguration of the nova\nhost deployments, it is not practical to create nova availability zones\nfor these tests.\n\nThis patch adds tempest configuration settings for the required\navailability zones, and if not configured will skip the tests that\nrequire the availability zones be present.\n\nChange-Id: I53d5d33ae9a181b79e1d971d56452eeee5dd7759\n'}, {'number': 2, 'created': '2020-06-21 23:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e9652f798024d752f7e9b48540780e3863559961', 'message': 'Fix availability zone API tests\n\nCurrently, if you run the availability zone API tests when not using\nthe no-op drivers, the API tests will fail as they had hard-coded\navailability zone names that do not exist.\nSince creating availability zones requires reconfiguration of the nova\nhost deployments, it is not practical to create nova availability zones\nfor these tests.\n\nThis patch adds tempest configuration settings for the required\navailability zones, and if not configured will skip the tests that\nrequire the availability zones be present.\n\nChange-Id: I53d5d33ae9a181b79e1d971d56452eeee5dd7759\n'}, {'number': 3, 'created': '2020-06-22 17:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7ef37c1e50478ba174d36e3674c85d7e01c76221', 'message': 'Fix availability zone API tests\n\nCurrently, if you run the availability zone API tests when not using\nthe no-op drivers, the API tests will fail as they had hard-coded\navailability zone names that do not exist.\nSince creating availability zones requires reconfiguration of the nova\nhost deployments, it is not practical to create nova availability zones\nfor these tests.\n\nThis patch adds tempest configuration settings for the required\navailability zones, and if not configured will skip the tests that\nrequire the availability zones be present.\n\nChange-Id: I53d5d33ae9a181b79e1d971d56452eeee5dd7759\n'}, {'number': 4, 'created': '2020-06-24 15:57:54.000000000', 'files': ['octavia_tempest_plugin/config.py', 'releasenotes/notes/skip-az-api-tests-if-azs-not-configured-c5d06cdcf29beeb5.yaml', 'octavia_tempest_plugin/tests/api/v2/test_availability_zone.py', 'octavia_tempest_plugin/tests/api/v2/test_availability_zone_profile.py', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a1862ff5cc4032901f51f3bb92bba03f6cb3b0df', 'message': 'Fix availability zone API tests\n\nCurrently, if you run the availability zone API tests when not using\nthe no-op drivers, the API tests will fail as they had hard-coded\navailability zone names that do not exist.\nSince creating availability zones requires reconfiguration of the nova\nhost deployments, it is not practical to create nova availability zones\nfor these tests.\n\nThis patch adds tempest configuration settings for the required\navailability zones, and if not configured will skip the tests that\nrequire the availability zones be present.\n\nChange-Id: I53d5d33ae9a181b79e1d971d56452eeee5dd7759\n'}]",2,737191,a1862ff5cc4032901f51f3bb92bba03f6cb3b0df,16,4,4,11628,,,0,"Fix availability zone API tests

Currently, if you run the availability zone API tests when not using
the no-op drivers, the API tests will fail as they had hard-coded
availability zone names that do not exist.
Since creating availability zones requires reconfiguration of the nova
host deployments, it is not practical to create nova availability zones
for these tests.

This patch adds tempest configuration settings for the required
availability zones, and if not configured will skip the tests that
require the availability zones be present.

Change-Id: I53d5d33ae9a181b79e1d971d56452eeee5dd7759
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/91/737191/4 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/config.py', 'releasenotes/notes/skip-az-api-tests-if-azs-not-configured-c5d06cdcf29beeb5.yaml', 'octavia_tempest_plugin/tests/api/v2/test_availability_zone.py', 'octavia_tempest_plugin/tests/api/v2/test_availability_zone_profile.py']",4,9ec3df31cc3b5d04a36e915aa9926762e2dffe5b,," @classmethod def skip_checks(cls): super(AvailabilityZoneProfileAPITest, cls).skip_checks() if (not CONF.load_balancer.availability_zone and not CONF.load_balancer.test_with_noop): raise cls.skipException( 'Availability zone profile API tests require an availability ' 'zone configured in the [load_blaancer] availability_zone ' 'setting in the tempest configuration file.') const.COMPUTE_ZONE: CONF.load_balancer.availability_zone, if ((not CONF.load_balancer.availability_zone2 or not CONF.load_balancer.availability_zone3) and not CONF.load_balancer.test_with_noop): raise self.skipException( 'Availability zone profile list API test requires the ' '[load_balancer] availability_zone, availability_zone2, and ' 'availability_zone3 settings be defined in the tempest ' 'configuration file.') const.COMPUTE_ZONE: CONF.load_balancer.availability_zone, const.COMPUTE_ZONE: CONF.load_balancer.availability_zone2, const.COMPUTE_ZONE: CONF.load_balancer.availability_zone3, const.COMPUTE_ZONE: CONF.load_balancer.availability_zone, if (not CONF.load_balancer.availability_zone2 and not CONF.load_balancer.test_with_noop): raise self.skipException( 'Availability zone profile update API tests requires ' '[load_balancer] availability_zone2 to be defined in the ' 'tempest configuration file.') const.COMPUTE_ZONE: CONF.load_balancer.availability_zone, const.COMPUTE_ZONE: CONF.load_balancer.availability_zone2, const.COMPUTE_ZONE: CONF.load_balancer.availability_zone,"," const.COMPUTE_ZONE: 'my_compute_zone', const.COMPUTE_ZONE: 'my_compute_zone1', const.COMPUTE_ZONE: 'my_compute_zone2', const.COMPUTE_ZONE: 'my_compute_zone3', const.COMPUTE_ZONE: 'my_compute_zone', const.COMPUTE_ZONE: 'my_compute_zone1', const.COMPUTE_ZONE: 'my_compute_zone2', const.COMPUTE_ZONE: 'my_compute_zone',",54,9
openstack%2Fneutron~stable%2Fussuri~Iecca2649fc5e066fabe7f4b4746094506b595f0b,openstack/neutron,stable/ussuri,Iecca2649fc5e066fabe7f4b4746094506b595f0b,[OVN] Stop using neutron_tempest_plugin in OVN singlenode job,MERGED,2020-07-09 13:19:07.000000000,2020-07-16 18:43:59.000000000,2020-07-16 18:38:33.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-07-09 13:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0795eb80d21292054aafae6c2f54b1ba78759629', 'message': '[OVN] Stop using neutron_tempest_plugin in OVN singlenode job\n\nIn patch [1] we moved neutron_tempest_plugin test executions to\nneutron-tempest-plugin repository.\nThat moves us forward with unifying the way of executing tests\nafter OVN merge.\n\n[1] https://review.opendev.org/#/c/734832/\n\nChange-Id: Iecca2649fc5e066fabe7f4b4746094506b595f0b\n(cherry picked from commit 193df8279dbca4af6cb12fe25b79de4c1716f663)\n'}, {'number': 2, 'created': '2020-07-14 07:59:01.000000000', 'files': ['zuul.d/tempest-singlenode.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb9815fdf00d06689ddae61979b827814db30a15', 'message': '[OVN] Stop using neutron_tempest_plugin in OVN singlenode job\n\nIn patch [1] we moved neutron_tempest_plugin test executions to\nneutron-tempest-plugin repository.\nThat moves us forward with unifying the way of executing tests\nafter OVN merge.\n\n[1] https://review.opendev.org/#/c/734832/\n\nChange-Id: Iecca2649fc5e066fabe7f4b4746094506b595f0b\n(cherry picked from commit 193df8279dbca4af6cb12fe25b79de4c1716f663)\n'}]",0,740281,fb9815fdf00d06689ddae61979b827814db30a15,13,4,2,24791,,,0,"[OVN] Stop using neutron_tempest_plugin in OVN singlenode job

In patch [1] we moved neutron_tempest_plugin test executions to
neutron-tempest-plugin repository.
That moves us forward with unifying the way of executing tests
after OVN merge.

[1] https://review.opendev.org/#/c/734832/

Change-Id: Iecca2649fc5e066fabe7f4b4746094506b595f0b
(cherry picked from commit 193df8279dbca4af6cb12fe25b79de4c1716f663)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/740281/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-singlenode.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst']",2,0795eb80d21292054aafae6c2f54b1ba78759629,, |neutron-tempest-plugin-scenario-ovn | neutron_tempest_plugin.scenario | 3.6 | 1 | ovn | ovn | --- | False | False | False | Yes | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+, | |and neutron_tempest_plugi tests | | | | | | | | | |,3,40
openstack%2Frequirements~master~If0a01e76b62b8ab30b9aa9e89236d2b6f399fe63,openstack/requirements,master,If0a01e76b62b8ab30b9aa9e89236d2b6f399fe63,Updated from generate-constraints,MERGED,2020-07-15 06:20:10.000000000,2020-07-16 18:43:17.000000000,2020-07-16 18:38:42.000000000,"[{'_account_id': 4690}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 06:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7efe699087eb6e0e327bb2324eb8b02ef53aa06e', 'message': 'Updated from generate-constraints\n\nChange-Id: If0a01e76b62b8ab30b9aa9e89236d2b6f399fe63\n'}, {'number': 2, 'created': '2020-07-15 06:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/31d52b852beffafb322f899b29fedf3b190f61dc', 'message': 'Updated from generate-constraints\n\nChange-Id: If0a01e76b62b8ab30b9aa9e89236d2b6f399fe63\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2020-07-15 18:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/55e7c6065fc3d452bea82da9a9603a8ce9ca62ef', 'message': 'Updated from generate-constraints\n\nChange-Id: If0a01e76b62b8ab30b9aa9e89236d2b6f399fe63\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 4, 'created': '2020-07-16 13:49:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/26c10f7335dfa6e2cb9274578b82f4d5b03bc40c', 'message': 'Updated from generate-constraints\n\nChange-Id: If0a01e76b62b8ab30b9aa9e89236d2b6f399fe63\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,741091,26c10f7335dfa6e2cb9274578b82f4d5b03bc40c,19,4,4,11131,,,0,"Updated from generate-constraints

Change-Id: If0a01e76b62b8ab30b9aa9e89236d2b6f399fe63
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/91/741091/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7efe699087eb6e0e327bb2324eb8b02ef53aa06e,openstack/requirements/constraints/noclob,typing===3.7.4.3lxml===4.5.2skydive-client===0.9.0zeroconf===0.28.0google-auth===1.19.0 kazoo===2.8.0graphviz===0.14.1mock===4.0.2google-auth-httplib2===0.0.4SQLAlchemy-Utils===0.36.8pytest-xdist===1.33.0docutils===0.16boto3===1.14.20pysaml2===6.1.0msgpack===1.0.0botocore===1.17.20cmd2===1.2.1jsonpatch===1.26zstd===1.4.5.1GitPython===3.1.7pkg-resources===0.0.0Paste===3.4.2demjson===2.2.4virtualenv===20.0.26,typing===3.7.4.1lxml===4.5.1skydive-client===0.8.1zeroconf===0.27.1google-auth===1.18.0 kazoo===2.7.0graphviz===0.14mock===3.0.5google-auth-httplib2===0.0.3SQLAlchemy-Utils===0.36.7pytest-xdist===1.32.0docutils===0.15.2boto3===1.14.17pysaml2===5.3.0msgpack===0.6.1botocore===1.17.17cmd2===1.1.0jsonpatch===1.25GitPython===3.1.3Paste===3.4.1virtualenv===20.0.25zstd===1.4.5.1,24,22
openstack%2Fmanila~master~I976a6861b07b31f1f3bdbbcdac0a76e0238783b4,openstack/manila,master,I976a6861b07b31f1f3bdbbcdac0a76e0238783b4,DNM - zuulv3 xpt,ABANDONED,2019-07-25 12:54:51.000000000,2020-07-16 18:41:46.000000000,,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-07-25 12:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6eb0b8fe296051793dce2fe6a9fd0af01d577b52', 'message': 'DNM - zuulv3 xpt\n\nChange-Id: I976a6861b07b31f1f3bdbbcdac0a76e0238783b4\n'}, {'number': 2, 'created': '2019-07-25 13:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8a7a64fc145175f4bcc40f2d2fea31fc5214c0ac', 'message': 'DNM - zuulv3 xpt\n\nChange-Id: I976a6861b07b31f1f3bdbbcdac0a76e0238783b4\n'}, {'number': 3, 'created': '2019-07-25 13:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fff071d2b79c83fe52beddbc32faf09b645b8596', 'message': 'DNM - zuulv3 xpt\n\nChange-Id: I976a6861b07b31f1f3bdbbcdac0a76e0238783b4\n'}, {'number': 4, 'created': '2019-07-25 13:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7824f06c3c06e9d28516002f0444508c692350b9', 'message': 'DNM - zuulv3 xpt\n\nChange-Id: I976a6861b07b31f1f3bdbbcdac0a76e0238783b4\n'}, {'number': 5, 'created': '2019-07-25 14:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c444286cab73e2b91d125edef155bba78d9c9c03', 'message': 'DNM - zuulv3 xpt\n\nChange-Id: I976a6861b07b31f1f3bdbbcdac0a76e0238783b4\n'}, {'number': 6, 'created': '2019-07-25 14:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7aeb079d8ffa7ccd3b40944606c2f4c9304c4c59', 'message': 'DNM - zuulv3 xpt\n\nChange-Id: I976a6861b07b31f1f3bdbbcdac0a76e0238783b4\n'}, {'number': 7, 'created': '2019-07-25 17:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7ec404d570ec6409766624d57bb8cf212402673c', 'message': 'DNM - zuulv3 xpt\n\nChange-Id: I976a6861b07b31f1f3bdbbcdac0a76e0238783b4\n'}, {'number': 8, 'created': '2019-07-25 17:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5baa7fd7ce2520d7902ac86772da8064ce0099e8', 'message': 'DNM - zuulv3 xpt\n\nChange-Id: I976a6861b07b31f1f3bdbbcdac0a76e0238783b4\n'}, {'number': 9, 'created': '2019-07-26 17:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6bb1ea58940a8c1148de5b11feea744df1d7513b', 'message': 'DNM - zuulv3 xpt\n\nChange-Id: I976a6861b07b31f1f3bdbbcdac0a76e0238783b4\n'}, {'number': 10, 'created': '2019-07-26 17:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d7530242aed03d6b308e9da76621908e8d35947a', 'message': 'DNM - zuulv3 xpt\n\nChange-Id: I976a6861b07b31f1f3bdbbcdac0a76e0238783b4\n'}, {'number': 11, 'created': '2019-07-26 19:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/55c9d60f4ce8a97a4e0692419d9f2071890a14ef', 'message': 'DNM - zuulv3 xpt\n\nChange-Id: I976a6861b07b31f1f3bdbbcdac0a76e0238783b4\n'}, {'number': 12, 'created': '2020-04-29 20:08:15.000000000', 'files': ['.zuul.yaml', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/manila/commit/1aa98cbd8ad39e899cf97e2024e88ddd77bbfd2f', 'message': 'DNM - zuulv3 xpt\n\nChange-Id: I976a6861b07b31f1f3bdbbcdac0a76e0238783b4\n'}]",4,672716,1aa98cbd8ad39e899cf97e2024e88ddd77bbfd2f,50,12,12,9003,,,0,"DNM - zuulv3 xpt

Change-Id: I976a6861b07b31f1f3bdbbcdac0a76e0238783b4
",git fetch https://review.opendev.org/openstack/manila refs/changes/16/672716/10 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6eb0b8fe296051793dce2fe6a9fd0af01d577b52,native-zuulv3-migration, - manila-tempest-minimal-dsvm-cephfs-native parent: devstack-tempest irrelevant-files: *tempest-irrelevant-files vars: devstack_localrc: USE_PYTHON3: true LIBS_FROM_GIT: python-manilaclient ENABLE_ISOLATED_METADATA: true TEMPEST_USE_TEST_ACCOUNTS: true MANILA_USE_DOWNGRADE_MIGRATIONS: true # Above this line are common and should be inherited SHARE_DRIVER: manila.share.drivers.cephfs.driver.CephFSDriver MANILA_ENABLED_BACKENDS: cephfsnative1 MANILA_ENABLED_SHARE_PROTOCOLS: CEPHFS MANILA_DEFAULT_SHARE_TYPE: cefphfstype MANILA_SERVICE_IMAGE_ENABLED: false MANILA_CONFIGURE_GROUPS: cephfsnative1 MANILA_OPTGROUP_cephfsnative1_driver_handles_share_servers: false MANILA_OPTGROUP_cephfsnative1_share_driver: manila.share.drivers.cephfs.cephfs_native.CephFSNativeDriver MANILA_OPTGROUP_cephfsnative1_share_backend_name: CEPHFSNATIVE1 MANILA_OPTGROUP_cephfsnative1_cephfs_conf_path: ${CEPH_CONF_FILE} MANILA_OPTGROUP_cephfsnative1_cephfs_auth_id: ${MANILA_CEPH_USER} MANILA_OPTGROUP_cephfsnative1_manila_ceph_driver: cephfsnative ENABLE_CEPH_MANILA: true ENABLE_CEPH_NOVA: false ENABLE_CEPH_GLANCE: false ENABLE_CEPH_CINDER: false ENABLE_CEPH_C_BAK: false devstack_plugins: manila: https://opendev.org/openstack/manila devstack-plugin-ceph: https://opendev.org/openstack/devstack-plugin-ceph manila-tempest-plugin: https://opendev.org/openstack/manila-tempest-plugin devstack-services: base: false key: true mysql: true rabbit: true tempest: true tempest_plugins: - manila-tempest-plugin tempest_test_regex: manila_tempest_tests.tests tempest_concurrency: 8 tox_envlist: all devstack_local_conf: test-config: $TEMPEST_CONFIG: share: backend_names: CEPHFSNATIVE1 default_share_type_name: default run_manage_unmanage_tests: false enable_protocols: cephfs capability_storage_protocol: CEPHFS enable_cephx_rules_for_protocols: cephfs capability_snapshot_support: false multitenancy_enabled: false required-projects:, templates: - publish-openstack-docs-pti - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python-jobs - openstack-python3-train-jobs - check-requirements - release-notes-jobs-python3 - periodic-stable-jobs - manila-tox-genconfig - manila-tempest-dsvm-mysql-generic: voting: false - manila-tempest-dsvm-postgres-container: voting: false - manila-tempest-dsvm-postgres-zfsonlinux: voting: false - manila-tempest-dsvm-postgres-generic-singlebackend: voting: false - manila-tempest-dsvm-generic-no-share-servers: voting: false - manila-tempest-dsvm-scenario: voting: false - manila-tempest-minimal-dsvm-cephfs-native: voting: false - manila-tempest-minimal-dsvm-cephfs-nfs: voting: false - manila-tempest-minimal-dsvm-dummy - manila-tempest-minimal-dsvm-lvm - manila-grenade: voting: false - manila-rally-multibackend: voting: false - manila-rally-multibackend-no-ss: voting: false - openstack-tox-pylint: voting: false timeout: 5400 - openstack-tox-cover: voting: false parent: manila-tempest-base run: playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native/run.yaml post-run: playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-native/post.yaml required-projects: - openstack/devstack-gate,55,43
openstack%2Fmanila-ui~stable%2Fqueens~I8287ecdba7dc11d048a089f246a1b3437c0ace1e,openstack/manila-ui,stable/queens,I8287ecdba7dc11d048a089f246a1b3437c0ace1e,Small cosmetic fix for the pie charts,MERGED,2020-06-18 23:19:29.000000000,2020-07-16 18:34:49.000000000,2020-07-16 18:34:49.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-18 23:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/1619d2909a74ea98d2df54b6da9db209c8f78230', 'message': 'Small cosmetic fix for the pie charts\n\nWe were showing ""False X of Y"" instead of ""Used X of Y""\n\nChange-Id: I8287ecdba7dc11d048a089f246a1b3437c0ace1e\n'}, {'number': 2, 'created': '2020-06-19 00:32:22.000000000', 'files': ['manila_ui/tests/dashboards/project/tests.py', 'manila_ui/dashboards/project/shares/__init__.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/4e84942e0cf3b86a246ac7ef0c9c9f19b8509e7e', 'message': 'Small cosmetic fix for the pie charts\n\nWe were showing ""False X of Y"" instead of ""Used X of Y""\n\nChange-Id: I8287ecdba7dc11d048a089f246a1b3437c0ace1e\n'}]",1,736867,4e84942e0cf3b86a246ac7ef0c9c9f19b8509e7e,10,4,2,6413,,,0,"Small cosmetic fix for the pie charts

We were showing ""False X of Y"" instead of ""Used X of Y""

Change-Id: I8287ecdba7dc11d048a089f246a1b3437c0ace1e
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/67/736867/2 && git format-patch -1 --stdout FETCH_HEAD,['manila_ui/dashboards/project/shares/__init__.py'],1,1619d2909a74ea98d2df54b6da9db209c8f78230,," 'text': _(""Used ""),"," 'text': False,",1,1
openstack%2Fneutron~stable%2Fussuri~I317b7ad54a2f5c5c99bf0bff9eba4d91a1a86491,openstack/neutron,stable/ussuri,I317b7ad54a2f5c5c99bf0bff9eba4d91a1a86491,Stop installing Octavia in OVN jobs,MERGED,2020-07-09 13:15:54.000000000,2020-07-16 18:19:36.000000000,2020-07-16 18:14:25.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-07-09 13:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/80bfc16e6952863d78098917a880cb3502c5036e', 'message': 'Stop installing Octavia in OVN jobs\n\nWe have separate project now - OVN Octavia provider - and its gate\nis responsible for testing OVN integration with Octavia.\n\nChange-Id: I317b7ad54a2f5c5c99bf0bff9eba4d91a1a86491\n(cherry picked from commit b64d9349641a16c71c1781e137623d5912b1f984)\n'}, {'number': 2, 'created': '2020-07-14 07:58:40.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/90955cf893e0c7ff73dfe36989c06d31d6a96d0a', 'message': 'Stop installing Octavia in OVN jobs\n\nWe have separate project now - OVN Octavia provider - and its gate\nis responsible for testing OVN integration with Octavia.\n\nChange-Id: I317b7ad54a2f5c5c99bf0bff9eba4d91a1a86491\n(cherry picked from commit b64d9349641a16c71c1781e137623d5912b1f984)\n'}]",0,740279,90955cf893e0c7ff73dfe36989c06d31d6a96d0a,17,4,2,24791,,,0,"Stop installing Octavia in OVN jobs

We have separate project now - OVN Octavia provider - and its gate
is responsible for testing OVN integration with Octavia.

Change-Id: I317b7ad54a2f5c5c99bf0bff9eba4d91a1a86491
(cherry picked from commit b64d9349641a16c71c1781e137623d5912b1f984)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/740279/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml']",2,80bfc16e6952863d78098917a880cb3502c5036e,,, - openstack/octavia octavia: https://opendev.org/openstack/octavia o-api: true o-hk: true ovn-octavia: true,0,11
openstack%2Fnetworking-ovn~stable%2Fqueens~I3e9e734b757f67d3e4ab1c5a02f8e7f9f0c9aa2e,openstack/networking-ovn,stable/queens,I3e9e734b757f67d3e4ab1c5a02f8e7f9f0c9aa2e,[OVN] Remove VLAN check when setting external_mac,MERGED,2020-01-31 16:11:57.000000000,2020-07-16 18:14:28.000000000,2020-07-16 18:14:28.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-31 16:11:57.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b915cc15ee569308cd217dc2716fe3a787d00c8b', 'message': ""[OVN] Remove VLAN check when setting external_mac\n\nThis patch reverts [0].\n\nThe code wasn't accounting for VLAN provider networks, as stated in the\nbug #1842988, DVR won't work if the provider network (where the FIP is\ncreated) is VLAN.\n\nThere was also an incosistency in how the external_mac was set for the\nVLAN networks. Upon creating the FIP the code was checking for the\nnetwork type and not setting the external_mac attribute in case the\nnetwork was VLAN type. But, if the port went down and up again (e.g if\nyou reboot the VM) the event handler that set/unset the external_mac [1]\nwasn't check for the type. This is how people worked around the DVR\nproblem (as stated in bug #1842988).\n\nFor more information see bug #1842988.\n\n[0]\nhttps://github.com/openstack/networking-ovn/commit/c5aef51edc9843db605303ec8bd8610b6c55e9c2\n[1]\nhttps://github.com/openstack/networking-ovn/blob/eda5d7f80d877601170631c5f5485370ea701f42/networking_ovn/ml2/mech_driver.py#L794-L800\n\nCloses-Bug: #1842988\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n\n(Cherry-picked from Neutron Ifb795626dc9c2ac4f0104f491dd38c9b4cc902c9)\n\nChange-Id: I3e9e734b757f67d3e4ab1c5a02f8e7f9f0c9aa2e\n(cherry picked from commit f9b1dffada3ad6c1328843b30128e72b92cfcdf5)\n""}]",0,705253,b915cc15ee569308cd217dc2716fe3a787d00c8b,19,4,1,6773,,,0,"[OVN] Remove VLAN check when setting external_mac

This patch reverts [0].

The code wasn't accounting for VLAN provider networks, as stated in the
bug #1842988, DVR won't work if the provider network (where the FIP is
created) is VLAN.

There was also an incosistency in how the external_mac was set for the
VLAN networks. Upon creating the FIP the code was checking for the
network type and not setting the external_mac attribute in case the
network was VLAN type. But, if the port went down and up again (e.g if
you reboot the VM) the event handler that set/unset the external_mac [1]
wasn't check for the type. This is how people worked around the DVR
problem (as stated in bug #1842988).

For more information see bug #1842988.

[0]
https://github.com/openstack/networking-ovn/commit/c5aef51edc9843db605303ec8bd8610b6c55e9c2
[1]
https://github.com/openstack/networking-ovn/blob/eda5d7f80d877601170631c5f5485370ea701f42/networking_ovn/ml2/mech_driver.py#L794-L800

Closes-Bug: #1842988
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>

(Cherry-picked from Neutron Ifb795626dc9c2ac4f0104f491dd38c9b4cc902c9)

Change-Id: I3e9e734b757f67d3e4ab1c5a02f8e7f9f0c9aa2e
(cherry picked from commit f9b1dffada3ad6c1328843b30128e72b92cfcdf5)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/53/705253/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py']",2,b915cc15ee569308cd217dc2716fe3a787d00c8b,," def test_update_floatingip_associate_distributed(self, uf, gf, gp, gn): fake_network_vlan[pnet.NETWORK_TYPE] = constants.TYPE_FLAT self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-new-router-id', type='dnat_and_snat', logical_ip='10.10.10.10', external_ip='192.168.0.10', external_mac='00:01:02:03:04:05', logical_port='new-port_id', external_ids=expected_ext_ids)"," def _test_update_floatingip_associate_distributed(self, network_type, uf, gf, gp, gn): fake_network_vlan[pnet.NETWORK_TYPE] = network_type if network_type == constants.TYPE_VLAN: self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-new-router-id', type='dnat_and_snat', logical_ip='10.10.10.10', external_ip='192.168.0.10', logical_port='new-port_id', external_ids=expected_ext_ids) else: self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-new-router-id', type='dnat_and_snat', logical_ip='10.10.10.10', external_ip='192.168.0.10', external_mac='00:01:02:03:04:05', logical_port='new-port_id', external_ids=expected_ext_ids) def test_update_floatingip_associate_distributed_flat(self): self._test_update_floatingip_associate_distributed(constants.TYPE_FLAT) def test_update_floatingip_associate_distributed_vlan(self): self._test_update_floatingip_associate_distributed(constants.TYPE_VLAN)",8,24
openstack%2Fcinderlib~master~I40ef42b4224521abed00b3b210418ec96c1116ea,openstack/cinderlib,master,I40ef42b4224521abed00b3b210418ec96c1116ea,Fix and improve cross-project functional testing,MERGED,2020-07-14 22:07:44.000000000,2020-07-16 18:08:02.000000000,2020-07-15 22:35:02.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 22:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/21b23c91b67603494d4e86cc679caa0bf7d10a34', 'message': 'zuul: add cinder-tempest-plugin-lvm-lio-barbican\n\ncinderlib changes can break cinder and cinder-tempest-plugin,\nand they indeed did it in the past, so ensure that everything works\nby running cinder-tempest-plugin-lvm-lio-barbican.\n\nChange-Id: I40ef42b4224521abed00b3b210418ec96c1116ea\n'}, {'number': 2, 'created': '2020-07-15 13:52:15.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/d982db62642740c5af57b1be2b445132d15e2964', 'message': 'Fix and improve cross-project functional testing\n\nMake sure stestr is executed using the python interpreter set inside\nthe virtualenv, otherwise the libraries installed there may not\nfound. This is due to the fact that (stestr default shebang points\nto system python when installed through devstack and the functional\ntox target uses that version thanks to sitepackages=True.\nThe sitepackages option  must be used to find a few system ceph/python\nlibraries not available on pypi.\n\nSetting PATH is not really needed nowadays, so remove the custom\nworkaround. It is worth noting that the hack would not be needed anymore\nand PATH could be set through setenv (extending {env:PATH}).\n\nAs cinderlib changes can break cinder and cinder-tempest-plugin,\nand they indeed did it in the past, so ensure that everything works\nby running cinder-tempest-plugin-lvm-lio-barbican.\n\nChange-Id: I40ef42b4224521abed00b3b210418ec96c1116ea\n'}]",0,741060,d982db62642740c5af57b1be2b445132d15e2964,16,6,2,10459,,,0,"Fix and improve cross-project functional testing

Make sure stestr is executed using the python interpreter set inside
the virtualenv, otherwise the libraries installed there may not
found. This is due to the fact that (stestr default shebang points
to system python when installed through devstack and the functional
tox target uses that version thanks to sitepackages=True.
The sitepackages option  must be used to find a few system ceph/python
libraries not available on pypi.

Setting PATH is not really needed nowadays, so remove the custom
workaround. It is worth noting that the hack would not be needed anymore
and PATH could be set through setenv (extending {env:PATH}).

As cinderlib changes can break cinder and cinder-tempest-plugin,
and they indeed did it in the past, so ensure that everything works
by running cinder-tempest-plugin-lvm-lio-barbican.

Change-Id: I40ef42b4224521abed00b3b210418ec96c1116ea
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/60/741060/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,21b23c91b67603494d4e86cc679caa0bf7d10a34,fix-cross-testing, - cinder-tempest-plugin-lvm-lio-barbican - cinder-tempest-plugin-lvm-lio-barbican,,2,0
openstack%2Fopenstack-helm-images~master~Idc846885e5823f6443f89587058eb3dd71ca3c3e,openstack/openstack-helm-images,master,Idc846885e5823f6443f89587058eb3dd71ca3c3e,Introduces gate testing for loci images using osh jobs,MERGED,2020-07-10 19:47:37.000000000,2020-07-16 17:36:11.000000000,2020-07-16 17:29:13.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-10 19:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/be7ab5e0492d0b5572dfce93821bd50628f9c958', 'message': '[test]\n\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\n'}, {'number': 2, 'created': '2020-07-10 20:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0cf35e1ec3c36d9cd30c61e932d303edd4f4c5b3', 'message': '[test]\n\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-10 20:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4e5815b50f7a949c45a1fe1c1533fb3a3a630435', 'message': '[test]\n\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-07-10 21:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9f5396d74978cf28094c4fca0132bcd86db28d7f', 'message': '[test]\n\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2020-07-11 01:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/96d3fb753d4f12435272e26b68455805996af496', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 6, 'created': '2020-07-11 01:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9dc8a684f34b4468794d40a5626e8c69c61d56e8', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 7, 'created': '2020-07-11 02:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/33ce66728bd5838d4cd7e5c5eea8f31222d516b5', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 8, 'created': '2020-07-11 05:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4701bcc2f65b1a73255db0b564ef574e2abdaa74', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 9, 'created': '2020-07-11 06:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/675e80f86771589acbe9dbf6c513428b3a8b85b2', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 10, 'created': '2020-07-11 13:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9ea83bbd51e631546278d9918eecd00646b3c46d', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 11, 'created': '2020-07-11 14:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/022437972327ea803deef91cf0af8acad8ffb789', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 12, 'created': '2020-07-11 14:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/113a39ad749d7eb3e94efc778b55d98865129591', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 13, 'created': '2020-07-11 14:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f634c4bce910a0a3da1b0898daa0e89b88d975f5', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 14, 'created': '2020-07-11 14:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e5f8672d9b1cf2ef0e0048758adbfb6a051f7ffc', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 15, 'created': '2020-07-11 14:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9bca8137558d70ebb24daf869a0aa307b8a09c89', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 16, 'created': '2020-07-11 14:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c11a8a443bb7a401ed086ddecaacb70ee2554f49', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 17, 'created': '2020-07-11 18:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f0132b1056fcde5ac139bc00c931bf7048195dfb', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 18, 'created': '2020-07-11 18:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8fb0109c3d34fcdbfe4f799a722fb98c75808577', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 19, 'created': '2020-07-11 23:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f11d043f7eadae1ce176548eedeb0e0c19ff7302', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 20, 'created': '2020-07-12 04:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/144886269bdcdc4e8dfa6e4873813e977ac1a20c', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 21, 'created': '2020-07-13 02:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/58e8b516c2f56f7b1ec9c06ac1df2985a1f0b3b2', 'message': 'Introduces gate testing for loci images using osh jobs\n\nThis commit is a first commit in chain that together with commits\nin osh [0], osh-infra [1-3] will allow to test produced images during\nthe gates reusing osh and osh-infra jobs. And together with zuul-jobs\ncommit [4] will allow to build, test and promote to lates images in\nperiodic pipeline that mostly relevan for loci images that incorporate\nchanges from multiple repositories and often outdated.\n\nThis particular commit adds test deployments to gate jobs for loci\nstein and train bionic images.\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 22, 'created': '2020-07-13 02:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4c4612eb7e132d67bd67cdc50247e9f07daee5a9', 'message': 'Introduces gate testing for loci images using osh jobs\n\nThis commit is a first commit in chain that together with commits\nin osh [0], osh-infra [1-3] will allow to test produced images during\nthe gates reusing osh and osh-infra jobs. And together with zuul-jobs\ncommit [4] will allow to build, test and promote to lates images in\nperiodic pipeline that mostly relevan for loci images that incorporate\nchanges from multiple repositories and often outdated.\n\nThis particular commit adds test deployments to gate jobs for loci\nstein and train bionic images.\n\n[0] https://review.opendev.org/740530\n[1] https://review.opendev.org/740539\n[2] https://review.opendev.org/740554\n[3] https://review.opendev.org/740557\n[4] https://review.opendev.org/740560\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 23, 'created': '2020-07-13 02:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d6785c7b2e43ef7449bcb4fcad7cc1395d6ac9a2', 'message': 'Introduces gate testing for loci images using osh jobs\n\nThis commit is a first commit in chain that together with commits\nin osh [0], osh-infra [1-3] will allow to test produced images during\nthe gates reusing osh and osh-infra jobs. And together with zuul-jobs\ncommit [4] will allow to build, test and promote to lates images in\nperiodic pipeline that mostly relevan for loci images that incorporate\nchanges from multiple repositories and often outdated.\n\nThis particular commit adds test deployments to gate jobs for loci\nstein and train bionic images.\n\n[0] https://review.opendev.org/740530\n[1] https://review.opendev.org/740539\n[2] https://review.opendev.org/740554\n[3] https://review.opendev.org/740557\n[4] https://review.opendev.org/740560\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 24, 'created': '2020-07-13 02:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c1f58a38ffaf2bd95bbb3f74075bbdaec1999b5d', 'message': 'Introduces gate testing for loci images using osh jobs\n\nThis commit is a first commit in chain that together with commits\nin osh [0], osh-infra [1-3] will allow to test produced images during\nthe gates reusing osh and osh-infra jobs. And together with zuul-jobs\ncommit [4] will allow to build, test and promote to lates images in\nperiodic pipeline that mostly relevan for loci images that incorporate\nchanges from multiple repositories and often outdated.\n\nThis particular commit adds test deployments to post-review jobs for\nloci stein and train bionic images.\n\nAlso this commits removes lost, dropped after Queens pycrypto from\nplacement image that currently breaks gates.\n\n[0] https://review.opendev.org/740530\n[1] https://review.opendev.org/740539\n[2] https://review.opendev.org/740554\n[3] https://review.opendev.org/740557\n[4] https://review.opendev.org/740560\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 25, 'created': '2020-07-13 13:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7aaf62a6dc8f253d6a6d4517d439c049afcdbdbb', 'message': 'Introduces gate testing for loci images using osh jobs\n\nThis commit is a first commit in chain that together with commits\nin osh [0], osh-infra [1-3] will allow to test produced images during\nthe gates reusing osh and osh-infra jobs. And together with zuul-jobs\ncommit [4] will allow to build, test and promote to lates images in\nperiodic pipeline that mostly relevan for loci images that incorporate\nchanges from multiple repositories and often outdated.\n\nThis particular commit adds test deployments to post-review jobs for\nloci stein and train bionic images.\n\nAlso this commits removes lost, dropped after Queens pycrypto from\nplacement image that currently breaks gates.\n\n[0] https://review.opendev.org/740530\n[1] https://review.opendev.org/740539\n[2] https://review.opendev.org/740554\n[3] https://review.opendev.org/740557\n[4] https://review.opendev.org/740560\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 26, 'created': '2020-07-13 17:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/77985d55e1d90c6bcff24f1c0dd2e9fdf5ac1515', 'message': 'Introduces gate testing for loci images using osh jobs\n\nThis commit is a first commit in chain that together with commits\nin osh [0], osh-infra [1-3] will allow to test produced images during\nthe gates reusing osh and osh-infra jobs. And together with zuul-jobs\ncommit [4] will allow to build, test and promote to latest images in\nperiodic pipeline that mostly relevan for loci images that incorporate\nchanges from multiple repositories and often outdated.\n\nThis particular commit adds test deployments to post-review jobs for\nloci stein and train bionic images.\n\nAlso this commits removes lost, dropped after Queens pycrypto from\nplacement image that currently breaks gates.\n\n[0] https://review.opendev.org/740530\n[1] https://review.opendev.org/740539\n[2] https://review.opendev.org/740554\n[3] https://review.opendev.org/740557\n[4] https://review.opendev.org/740560\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 27, 'created': '2020-07-13 17:15:36.000000000', 'files': ['zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/b5e8fcaea2426293dc5042aee375d9d67ef16fd3', 'message': 'Introduces gate testing for loci images using osh jobs\n\nThis commit is a first commit in chain that together with commits\nin osh [0], osh-infra [1-3] will allow to test produced images during\nthe gates reusing osh and osh-infra jobs. And together with zuul-jobs\ncommit [4] will allow to build, test and promote latest images in\nperiodic pipeline that mostly relevant for loci images that incorporate\nchanges from multiple repositories and are often outdated.\n\nThis particular commit adds test deployments to post-review jobs for\nloci stein and train bionic images.\n\nAlso this commits removes lost, dropped after Queens pycrypto from\nplacement image that currently breaks gates.\n\n[0] https://review.opendev.org/740530\n[1] https://review.opendev.org/740539\n[2] https://review.opendev.org/740554\n[3] https://review.opendev.org/740557\n[4] https://review.opendev.org/740560\n\nDepends-On: https://review.opendev.org/740530\nChange-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",12,740523,b5e8fcaea2426293dc5042aee375d9d67ef16fd3,71,4,27,8863,,,0,"Introduces gate testing for loci images using osh jobs

This commit is a first commit in chain that together with commits
in osh [0], osh-infra [1-3] will allow to test produced images during
the gates reusing osh and osh-infra jobs. And together with zuul-jobs
commit [4] will allow to build, test and promote latest images in
periodic pipeline that mostly relevant for loci images that incorporate
changes from multiple repositories and are often outdated.

This particular commit adds test deployments to post-review jobs for
loci stein and train bionic images.

Also this commits removes lost, dropped after Queens pycrypto from
placement image that currently breaks gates.

[0] https://review.opendev.org/740530
[1] https://review.opendev.org/740539
[2] https://review.opendev.org/740554
[3] https://review.opendev.org/740557
[4] https://review.opendev.org/740560

Depends-On: https://review.opendev.org/740530
Change-Id: Idc846885e5823f6443f89587058eb3dd71ca3c3e
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/23/740523/27 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openstack-loci.yaml'],1,be7ab5e0492d0b5572dfce93821bd50628f9c958,test-osh-images, requires: ocata-xenial-images provides: ocata-xenial-images,,2,0
openstack%2Fironic~master~I99d6716e002c14b83ed2d18fd3d037431d99b42b,openstack/ironic,master,I99d6716e002c14b83ed2d18fd3d037431d99b42b,DNM: Test of devstack fix,NEW,2020-07-15 21:32:36.000000000,2020-07-16 17:29:24.000000000,,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-15 21:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5c5cf9ad66d05bbc1b5f7a141b6d356b5686dd23', 'message': 'DNM: Test of devstack fix\n\nDepends-On: https://review.opendev.org/741322\nChange-Id: I99d6716e002c14b83ed2d18fd3d037431d99b42b\n'}]",0,741323,5c5cf9ad66d05bbc1b5f7a141b6d356b5686dd23,4,3,1,11655,,,0,"DNM: Test of devstack fix

Depends-On: https://review.opendev.org/741322
Change-Id: I99d6716e002c14b83ed2d18fd3d037431d99b42b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/23/741323/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,5c5cf9ad66d05bbc1b5f7a141b6d356b5686dd23,,,,0,0
openstack%2Fironic~stable%2Ftrain~I1d0194e7c7ae9fcdd4665e6115ee26d10b14e480,openstack/ironic,stable/train,I1d0194e7c7ae9fcdd4665e6115ee26d10b14e480,New configuration parameter to use ipmitool retries,ABANDONED,2020-07-15 16:29:38.000000000,2020-07-16 17:29:17.000000000,,"[{'_account_id': 10239}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-15 16:29:38.000000000', 'files': ['releasenotes/notes/ipmitool-use_ipmitool_retries-b55b2b8ed5cab603.yaml', 'ironic/conf/ipmi.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/04e874822392e4043e095a39e94f09b589de9350', 'message': 'New configuration parameter to use ipmitool retries\n\nAdd a new ``[ipmi]use_ipmitool_retries`` option. When set to\n``True`` and timing is supported by ipmitool, the number of\nretries and command interval will be passed to ipmitool so\nthat ipmitool will do the retries.  When set to ``False``,\nironic will do the retries.\n\nThe default is ``True``, so this will not change the current\nbehaviour which is to have ipmitool do the retries when\ntiming is supported.\n\nSetting to ``False`` will help with certain BMCs which do\nnot support the Cipher Suites command.  In this case ipmitool\ncan take up to 10 seconds for each retry which results in a\ntotal time exceeding ``[ipmi]command_retry_timeout``.\n\nChange-Id: I1d0194e7c7ae9fcdd4665e6115ee26d10b14e480\nStory: 2007632\nTask: 39676\n(cherry picked from commit 0adedb2e6c17bea0b1eb4588ba694c4a90f92b93)\n'}]",0,741268,04e874822392e4043e095a39e94f09b589de9350,7,4,1,21909,,,0,"New configuration parameter to use ipmitool retries

Add a new ``[ipmi]use_ipmitool_retries`` option. When set to
``True`` and timing is supported by ipmitool, the number of
retries and command interval will be passed to ipmitool so
that ipmitool will do the retries.  When set to ``False``,
ironic will do the retries.

The default is ``True``, so this will not change the current
behaviour which is to have ipmitool do the retries when
timing is supported.

Setting to ``False`` will help with certain BMCs which do
not support the Cipher Suites command.  In this case ipmitool
can take up to 10 seconds for each retry which results in a
total time exceeding ``[ipmi]command_retry_timeout``.

Change-Id: I1d0194e7c7ae9fcdd4665e6115ee26d10b14e480
Story: 2007632
Task: 39676
(cherry picked from commit 0adedb2e6c17bea0b1eb4588ba694c4a90f92b93)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/68/741268/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ipmitool-use_ipmitool_retries-b55b2b8ed5cab603.yaml', 'ironic/conf/ipmi.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py']",4,04e874822392e4043e095a39e94f09b589de9350,ipmitool-use-retries-stable/train," @mock.patch.object(ipmi, '_is_option_supported', autospec=True) @mock.patch.object(ipmi, '_make_password_file', _make_password_file_stub) @mock.patch.object(utils, 'execute', autospec=True) def test__exec_ipmitool_with_ironic_retries( self, mock_exec, mock_support): args = [ 'ipmitool', '-I', 'lanplus', '-H', self.info['address'], '-L', self.info['priv_level'], '-U', self.info['username'], '-v', '-R', '1', '-N', '1', '-f', awesome_password_filename, 'A', 'B', 'C', ] mock_support.return_value = True mock_exec.return_value = (None, None) self.config(use_ipmitool_retries=False, group='ipmi') ipmi._exec_ipmitool(self.info, 'A B C') mock_support.assert_called_once_with('timing') mock_exec.assert_called_once_with(*args) @mock.patch.object(ipmi, '_is_option_supported', autospec=True) @mock.patch.object(ipmi, '_make_password_file', _make_password_file_stub) @mock.patch.object(utils, 'execute', autospec=True) def test__exec_ipmitool_with_ironic_retries_multiple( self, mock_exec, mock_support): mock_exec.side_effect = [ processutils.ProcessExecutionError( stderr=""Unknown"" ), processutils.ProcessExecutionError( stderr=""Unknown"" ), processutils.ProcessExecutionError( stderr=""Unknown"" ), ] self.config(min_command_interval=1, group='ipmi') self.config(command_retry_timeout=3, group='ipmi') self.config(use_ipmitool_retries=False, group='ipmi') self.assertRaises(processutils.ProcessExecutionError, ipmi._exec_ipmitool, self.info, 'A B C') mock_support.assert_called_once_with('timing') self.assertEqual(3, mock_exec.call_count) ",,93,3
openstack%2Ftripleo-ansible~stable%2Ftrain~I7ab85b88f46bb29e4ca9d547ad1743e6e07b0afe,openstack/tripleo-ansible,stable/train,I7ab85b88f46bb29e4ca9d547ad1743e6e07b0afe,Add default value in CinderRbdExtraPools task condition,MERGED,2020-07-16 08:07:12.000000000,2020-07-16 17:16:48.000000000,2020-07-16 17:16:48.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-16 08:07:12.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-work-dir/tasks/build_pools.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7940dd9143ba0862e80c46f7904771a76ede9d6f', 'message': 'Add default value in CinderRbdExtraPools task condition\n\nIf overrides is empty and CinderRbdExtraPools are specified\n(with external ceph clusters), the task that is supposed to\nbuild pools fail.\nAdding a default value is safe and avoid this issue.\n\nChange-Id: I7ab85b88f46bb29e4ca9d547ad1743e6e07b0afe\nCloses-Bug: #1885258\n(cherry picked from commit ea50aaff1821ed30d8ba266a03c0df381a665eb0)\n'}]",0,741399,7940dd9143ba0862e80c46f7904771a76ede9d6f,9,5,1,25402,,,0,"Add default value in CinderRbdExtraPools task condition

If overrides is empty and CinderRbdExtraPools are specified
(with external ceph clusters), the task that is supposed to
build pools fail.
Adding a default value is safe and avoid this issue.

Change-Id: I7ab85b88f46bb29e4ca9d547ad1743e6e07b0afe
Closes-Bug: #1885258
(cherry picked from commit ea50aaff1821ed30d8ba266a03c0df381a665eb0)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/99/741399/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ceph-work-dir/tasks/build_pools.yml'],1,7940dd9143ba0862e80c46f7904771a76ede9d6f,1885258, - item not in overrides | default([]), - item not in overrides,1,1
openstack%2Fironic~master~I5a4e0a40659042087b7a466baae0a8c3dc136211,openstack/ironic,master,I5a4e0a40659042087b7a466baae0a8c3dc136211,Allow deleting nodes with a broken driver,MERGED,2020-07-07 10:38:13.000000000,2020-07-16 16:51:04.000000000,2020-07-16 14:07:53.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-07 10:38:13.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/destroy-broken-8b13de8382199aca.yaml', 'ironic/conductor/task_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/53325881527467891044618685e942c660e65a0b', 'message': 'Allow deleting nodes with a broken driver\n\nThe only reason we need a driver is to stop serial console. Only try\nto load the driver in this case.\n\nChange-Id: I5a4e0a40659042087b7a466baae0a8c3dc136211\n'}]",0,739702,53325881527467891044618685e942c660e65a0b,52,7,1,10239,,,0,"Allow deleting nodes with a broken driver

The only reason we need a driver is to stop serial console. Only try
to load the driver in this case.

Change-Id: I5a4e0a40659042087b7a466baae0a8c3dc136211
",git fetch https://review.opendev.org/openstack/ironic refs/changes/02/739702/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/destroy-broken-8b13de8382199aca.yaml', 'ironic/conductor/task_manager.py']",4,53325881527467891044618685e942c660e65a0b,delete-broken, def load_driver(self): if self.driver is None: self.driver = driver_factory.build_driver_for_task(self) ,,30,0
openstack%2Fironic~master~I5e753c4bbcb8075a1889754a468d9c3dd8310a08,openstack/ironic,master,I5e753c4bbcb8075a1889754a468d9c3dd8310a08,Use default timeout for all jobs,MERGED,2020-07-15 09:03:57.000000000,2020-07-16 16:20:53.000000000,2020-07-16 14:05:36.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-15 09:03:57.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f27fcda53b0bdee28aacccaf0856737ccb4898d3', 'message': ""Use default timeout for all jobs\n\nLet's use the default timeout from ironic-base for all jobs\nso we can avoid job timeout in our CI.\n\nChange-Id: I5e753c4bbcb8075a1889754a468d9c3dd8310a08\n""}]",0,741123,f27fcda53b0bdee28aacccaf0856737ccb4898d3,16,6,1,15519,,,0,"Use default timeout for all jobs

Let's use the default timeout from ironic-base for all jobs
so we can avoid job timeout in our CI.

Change-Id: I5e753c4bbcb8075a1889754a468d9c3dd8310a08
",git fetch https://review.opendev.org/openstack/ironic refs/changes/23/741123/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,f27fcda53b0bdee28aacccaf0856737ccb4898d3,use_default_timeout,, timeout: 5400 timeout: 9600 timeout: 5400 timeout: 5400 timeout: 5400 timeout: 9600 timeout: 5400 timeout: 5400 timeout: 5400 timeout: 10800 timeout: 9600 timeout: 5400,0,12
openstack%2Fpuppet-trove~master~If61e708f68f96ce6c485a681d39e17c3cf737d2a,openstack/puppet-trove,master,If61e708f68f96ce6c485a681d39e17c3cf737d2a,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-16 08:08:13.000000000,2020-07-16 16:19:21.000000000,2020-07-16 16:17:48.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32114}]","[{'number': 1, 'created': '2020-07-16 08:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/77b3cad03d2af4c56fce9f5bf9841df4996e8c67', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: If61e708f68f96ce6c485a681d39e17c3cf737d2a\n'}, {'number': 2, 'created': '2020-07-16 11:29:16.000000000', 'files': ['releasenotes/notes/keystone-authtoken-interface-a21e29a682e51819.yaml', 'spec/classes/trove_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/7585243d3f60b4a7abd1037f7aa58aa3cd387bae', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: If61e708f68f96ce6c485a681d39e17c3cf737d2a\n'}]",2,741400,7585243d3f60b4a7abd1037f7aa58aa3cd387bae,16,4,2,32114,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: If61e708f68f96ce6c485a681d39e17c3cf737d2a
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/00/741400/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone-authtoken-interface-a21e29a682e51819.yaml', 'spec/classes/trove_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,77b3cad03d2af4c56fce9f5bf9841df4996e8c67,at-interface,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin"". # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,15,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I3a5fc2214e7068f1e7aacc0e7a8a681c3f9715e9,openstack/tripleo-ansible,stable/train,I3a5fc2214e7068f1e7aacc0e7a8a681c3f9715e9,[train] paunch: exit module if config doesn't exist,MERGED,2020-07-16 02:05:59.000000000,2020-07-16 16:17:28.000000000,2020-07-16 16:17:28.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-16 02:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7d05d05dbf577c2adb713c42416ffc8144ffa947', 'message': ""[ussuri] paunch: exit module if config doesn't exist\n\nIt's possible that the step directory doesn't exist in a deployment,\njust quit the module with no change and move on.\n\nIt'll avoid running paunch with empty config.\nThis will be backported to Train.\n\nChange-Id: I3a5fc2214e7068f1e7aacc0e7a8a681c3f9715e9\n(cherry picked from commit b2fe3f2d612fff70c94fcd83a4eac13907aea016)\n""}, {'number': 2, 'created': '2020-07-16 02:06:11.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/paunch.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8b6924bb706a1f9385ad0ffc048ef82830e854e2', 'message': ""[train] paunch: exit module if config doesn't exist\n\nIt's possible that the step directory doesn't exist in a deployment,\njust quit the module with no change and move on.\n\nIt'll avoid running paunch with empty config.\nThis will be backported to Train.\n\nChange-Id: I3a5fc2214e7068f1e7aacc0e7a8a681c3f9715e9\n(cherry picked from commit b2fe3f2d612fff70c94fcd83a4eac13907aea016)\n""}]",0,741356,8b6924bb706a1f9385ad0ffc048ef82830e854e2,8,3,2,3153,,,0,"[train] paunch: exit module if config doesn't exist

It's possible that the step directory doesn't exist in a deployment,
just quit the module with no change and move on.

It'll avoid running paunch with empty config.
This will be backported to Train.

Change-Id: I3a5fc2214e7068f1e7aacc0e7a8a681c3f9715e9
(cherry picked from commit b2fe3f2d612fff70c94fcd83a4eac13907aea016)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/56/741356/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/paunch.py'],1,7d05d05dbf577c2adb713c42416ffc8144ffa947,train/paunch, # Do nothing if config path doesn't exist if not os.path.exists(self.config): self.module.exit_json(**self.results),,3,0
openstack%2Fansible-role-redhat-subscription~master~I4ffa344956572ebcd5a432fe41b86eb682f8d2a3,openstack/ansible-role-redhat-subscription,master,I4ffa344956572ebcd5a432fe41b86eb682f8d2a3,"Add support for ""Simplified Content Access""",MERGED,2020-07-16 02:53:53.000000000,2020-07-16 16:12:20.000000000,2020-07-16 16:12:20.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 02:53:53.000000000', 'files': ['tasks/main.yml', 'tasks/portal.yml', 'defaults/main.yml', 'README.md'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/6d26afa9c7e9d6f42e261c7e63977b46b647e3ab', 'message': 'Add support for ""Simplified Content Access""\n\nWhen Simplified Content Access is enabled for a subscription,\nthe portal can be used with an activation key AND repositories.\n\nSo this patch adds a new parameter, rhsm_simplified_content_access\n(False by default for backward compatibility).\nWhen set to True, we\'ll allow the ""Configure repository subscriptions""\ntask to be run without any warning since both the rhsm_repos and\nrhsm_activation_key usually mutually exclusive, now work together when\nsimplified content access is enabled.\n\nChange-Id: I4ffa344956572ebcd5a432fe41b86eb682f8d2a3\n'}]",0,741360,6d26afa9c7e9d6f42e261c7e63977b46b647e3ab,7,3,1,3153,,,0,"Add support for ""Simplified Content Access""

When Simplified Content Access is enabled for a subscription,
the portal can be used with an activation key AND repositories.

So this patch adds a new parameter, rhsm_simplified_content_access
(False by default for backward compatibility).
When set to True, we'll allow the ""Configure repository subscriptions""
task to be run without any warning since both the rhsm_repos and
rhsm_activation_key usually mutually exclusive, now work together when
simplified content access is enabled.

Change-Id: I4ffa344956572ebcd5a432fe41b86eb682f8d2a3
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/60/741360/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/portal.yml', 'defaults/main.yml', 'README.md']",4,6d26afa9c7e9d6f42e261c7e63977b46b647e3ab,simplified_content_access,| `rhsm_simplified_content_access` | `False` | Enable Simplified Content Access. |,,4,1
openstack%2Fnova~stable%2Fstein~Ia9f0a23034c193f97b0c395aa4313c8d1679b66f,openstack/nova,stable/stein,Ia9f0a23034c193f97b0c395aa4313c8d1679b66f,DNM: debug check-cherry-picks.sh on gate,ABANDONED,2020-06-26 11:23:03.000000000,2020-07-16 16:09:31.000000000,,"[{'_account_id': 10118}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-06-26 11:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe896b1b91bfb5ab623a7ccd752c1e37d2be4f9c', 'message': 'DNM: debug check-cherry-picks.sh on gate\n\n... as locally it works fine\n\nChange-Id: Ia9f0a23034c193f97b0c395aa4313c8d1679b66f\n(cherry picked from commit c8b65501f614acb495889dbb8a03de5a00758c03)\n'}, {'number': 2, 'created': '2020-06-26 13:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64f09c7c3bda9f89afb4fbbbaa260fd61710684a', 'message': 'DNM: debug check-cherry-picks.sh on gate\n\n... as locally it works fine\n\nChange-Id: Ia9f0a23034c193f97b0c395aa4313c8d1679b66f\n(cherry picked from commit c8b65501f614acb495889dbb8a03de5a00758c03)\n'}, {'number': 3, 'created': '2020-06-26 16:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72a634cf0faba0bcdaf3b838b7fc4f785573927c', 'message': 'DNM: debug check-cherry-picks.sh on gate\n\n... as locally it works fine\n\nChange-Id: Ia9f0a23034c193f97b0c395aa4313c8d1679b66f\n(cherry picked from commit c8b65501f614acb495889dbb8a03de5a00758c03)\n'}, {'number': 4, 'created': '2020-06-26 20:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc1e6feedee62e69e6ec6ac3704675efc101d2dd', 'message': 'DNM: debug check-cherry-picks.sh on gate\n\n... as locally it works fine\n\nPS4: parent is not on the top - merge patch case\n\nChange-Id: Ia9f0a23034c193f97b0c395aa4313c8d1679b66f\n(cherry picked from commit c8b65501f614acb495889dbb8a03de5a00758c03)\n'}, {'number': 5, 'created': '2020-06-26 21:01:14.000000000', 'files': ['tox.ini', 'tools/check-cherry-picks.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/b4553a0999e4fd6b110d50acf96087949287e8df', 'message': 'DNM: debug check-cherry-picks.sh on gate\n\n... as locally it works fine\n\nPS4: parent is not on the top - merge patch case\nPS5: parent is on the top - not a merge patch\n\nChange-Id: Ia9f0a23034c193f97b0c395aa4313c8d1679b66f\n(cherry picked from commit c8b65501f614acb495889dbb8a03de5a00758c03)\n'}]",0,738189,b4553a0999e4fd6b110d50acf96087949287e8df,21,5,5,17685,,,0,"DNM: debug check-cherry-picks.sh on gate

... as locally it works fine

PS4: parent is not on the top - merge patch case
PS5: parent is on the top - not a merge patch

Change-Id: Ia9f0a23034c193f97b0c395aa4313c8d1679b66f
(cherry picked from commit c8b65501f614acb495889dbb8a03de5a00758c03)
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/738189/5 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'tools/check-cherry-picks.sh']",2,fe896b1b91bfb5ab623a7ccd752c1e37d2be4f9c,do-not-merge,"#!/bin/sh # # A tool to check the cherry-pick hashes from the current git commit message # to verify that they're all on either master or stable/ branches # set -x commitmessage=$(git show --format='%b' --quiet $1) hashes=$(git show --format='%b' --quiet $1 | sed -nr 's/^.cherry picked from commit (.*).$/\1/p') checked=0 branches+="""" for hash in $hashes; do branch=$(git branch -a --contains ""$hash"" 2>/dev/null| grep -oE '(master|stable/[a-z]+)') if [ $? -ne 0 ]; then echo ""Cherry pick hash $hash not on any master or stable branches"" exit 1 fi branches+="" $branch"" checked=$(($checked + 1)) done if [ $checked -eq 0 ]; then if ! grep -q '^defaultbranch=stable/' .gitreview; then echo ""Checked $checked cherry-pick hashes: OK"" exit 0 else if ! git show --format='%B' --quiet | grep -qi 'stable.*only'; then echo 'Stable branch requires either cherry-pick -x headers or [stable-only] tag!' exit 1 fi fi else echo Checked $checked cherry-pick hashes on branches: $(echo $branches | tr ' ' '\n' | sort | uniq) fi ",,37,0
openstack%2Fpython-glanceclient~master~I3a08c1beb398ba9f2556b6779c925f679bdc2c49,openstack/python-glanceclient,master,I3a08c1beb398ba9f2556b6779c925f679bdc2c49,Pass Global Request ID on with session client,MERGED,2020-07-13 21:37:42.000000000,2020-07-16 15:56:28.000000000,2020-07-16 15:54:26.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 21:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/04d40f293c7f8975a32956c45b605cb786b05ecc', 'message': 'Pass Global Request ID on with session client\n\nChange-Id: I3a08c1beb398ba9f2556b6779c925f679bdc2c49\nCloses-bug: #1886650\n'}, {'number': 2, 'created': '2020-07-13 21:55:34.000000000', 'files': ['releasenotes/notes/sess_client_grid-3c2101609110f413.yaml', 'glanceclient/tests/unit/test_http.py', 'glanceclient/common/http.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/bae1d89cc767949fc61cef63dcacec200a2c236a', 'message': 'Pass Global Request ID on with session client\n\nCloses-bug: #1886650\nChange-Id: I3a08c1beb398ba9f2556b6779c925f679bdc2c49\n'}]",0,740821,bae1d89cc767949fc61cef63dcacec200a2c236a,9,3,2,5202,,,0,"Pass Global Request ID on with session client

Closes-bug: #1886650
Change-Id: I3a08c1beb398ba9f2556b6779c925f679bdc2c49
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/21/740821/2 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/tests/unit/test_http.py', 'glanceclient/common/http.py']",2,04d40f293c7f8975a32956c45b605cb786b05ecc,bug/1886650,," self.global_request_id = kwargs.pop('global_request_id', None)",14,1
openstack%2Foctavia-lib~master~If3d095f033f342ebb637d74bd834d373e31fee0f,openstack/octavia-lib,master,If3d095f033f342ebb637d74bd834d373e31fee0f,Add NotFound exception class,MERGED,2020-06-25 17:46:02.000000000,2020-07-16 15:55:53.000000000,2020-07-16 15:52:56.000000000,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 17:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/9e2ef90827f29164449f4378449968fd85303b52', 'message': 'Add NotFound exception class\n\nThis class can be used by provider drivers to raise an exception when a\nresource cannot be found.\n\nChange-Id: If3d095f033f342ebb637d74bd834d373e31fee0f\n'}, {'number': 2, 'created': '2020-07-16 15:21:03.000000000', 'files': ['octavia_lib/api/drivers/provider_base.py', 'octavia_lib/tests/unit/api/drivers/test_exceptions.py', 'releasenotes/notes/add-not-found-exception-7f9d188cd22f69e1.yaml', 'octavia_lib/api/drivers/exceptions.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/684e0b9f55c07c3389c0ac875b18f22b06587ca3', 'message': 'Add NotFound exception class\n\nThis class can be used by provider drivers to raise an exception when a\nresource cannot be found.\n\nChange-Id: If3d095f033f342ebb637d74bd834d373e31fee0f\n'}]",0,738075,684e0b9f55c07c3389c0ac875b18f22b06587ca3,14,4,2,6469,,,0,"Add NotFound exception class

This class can be used by provider drivers to raise an exception when a
resource cannot be found.

Change-Id: If3d095f033f342ebb637d74bd834d373e31fee0f
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/75/738075/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_lib/api/drivers/provider_base.py', 'octavia_lib/tests/unit/api/drivers/test_exceptions.py', 'releasenotes/notes/add-not-found-exception-7f9d188cd22f69e1.yaml', 'octavia_lib/api/drivers/exceptions.py']",4,9e2ef90827f29164449f4378449968fd85303b52,," class NotFound(Exception): """"""Exception raised when the driver cannot find a resource. This exception includes two strings: The user fault string and the optional operator fault string. The user fault string, ""user_fault_string"", will be provided to the API requester. The operator fault string, ""operator_fault_string"", will be logged in the Octavia API log file for the operator to use when debugging. :param user_fault_string: String provided to the API requester. :type user_fault_string: string :param operator_fault_string: Optional string logged by the Octavia API for the operator to use when debugging. :type operator_fault_string: string """""" user_fault_string = _(""The provider driver could not find a resource."") operator_fault_string = _(""The provider driver could not find a resource."") def __init__(self, *args, **kwargs): self.user_fault_string = kwargs.pop('user_fault_string', self.user_fault_string) self.operator_fault_string = kwargs.pop('operator_fault_string', self.operator_fault_string) super(NotFound, self).__init__(self.user_fault_string, *args, **kwargs)",,44,0
openstack%2Fmanila~stable%2Fussuri~If5fe32c155fe0861b3ed86b862335e062796056b,openstack/manila,stable/ussuri,If5fe32c155fe0861b3ed86b862335e062796056b,Enforce policy checks getting share-type by name,MERGED,2020-07-15 17:26:52.000000000,2020-07-16 15:51:06.000000000,2020-07-16 15:07:12.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-15 17:26:52.000000000', 'files': ['manila/db/sqlalchemy/api.py', 'manila/api/v1/shares.py', 'releasenotes/notes/bug-1885956-enforce-policy-check-getting-share-type-by-name-5eca17b02bea5261.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/e02cc6d6bc92e354bc7f4220a05ec6fedf2ecc9c', 'message': ""Enforce policy checks getting share-type by name\n\nPolicy checks are skipped when looking up a share-type\nby name.  This causes share creation attempts that specify\na valid share-type to pass the early API check on share type\neven if the share type named is private and not shared with\nthe user's project.  The share creation fails later, but after\nthe database record for the share is created.  Although the\noperation fails with an ERROR, the share is stuck in CREATING\nstate.\n\nFix this issue by checking the user's project in the database\nAPI just as we do for share type lookups by uuid.\n\nCloses-bug: #1885956\nChange-Id: If5fe32c155fe0861b3ed86b862335e062796056b\n(cherry picked from commit f877deed5186cff3a7ecfbce2536e72fc6013895)\n""}]",0,741278,e02cc6d6bc92e354bc7f4220a05ec6fedf2ecc9c,10,4,1,16643,,,0,"Enforce policy checks getting share-type by name

Policy checks are skipped when looking up a share-type
by name.  This causes share creation attempts that specify
a valid share-type to pass the early API check on share type
even if the share type named is private and not shared with
the user's project.  The share creation fails later, but after
the database record for the share is created.  Although the
operation fails with an ERROR, the share is stuck in CREATING
state.

Fix this issue by checking the user's project in the database
API just as we do for share type lookups by uuid.

Closes-bug: #1885956
Change-Id: If5fe32c155fe0861b3ed86b862335e062796056b
(cherry picked from commit f877deed5186cff3a7ecfbce2536e72fc6013895)
",git fetch https://review.opendev.org/openstack/manila refs/changes/78/741278/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/sqlalchemy/api.py', 'manila/api/v1/shares.py', 'releasenotes/notes/bug-1885956-enforce-policy-check-getting-share-type-by-name-5eca17b02bea5261.yaml']",3,e02cc6d6bc92e354bc7f4220a05ec6fedf2ecc9c,,--- fixes: - | Fixed `launchpad bug #1885956 <https://bugs.launchpad.net/manila/+bug/1885956>`_ by ensuring that policy checks are enforced when looking up a share-type by name. This prevents a problem where shares could be stuck in CREATING status when a user attempts to create a share using the name of a private share-type to which the user lacks access. ,,11,3
openstack%2Ftripleo-heat-templates~master~I45e72bb598ef2157531919173e94ab36eb98ad16,openstack/tripleo-heat-templates,master,I45e72bb598ef2157531919173e94ab36eb98ad16,FFU support for ceph_nfs,MERGED,2020-07-03 07:29:55.000000000,2020-07-16 15:46:36.000000000,2020-07-16 15:34:11.000000000,"[{'_account_id': 3153}, {'_account_id': 6413}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 18002}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 27092}]","[{'number': 1, 'created': '2020-07-03 07:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/76570d228cd3e7d7b6d7e97ab4fe13492b46db99', 'message': 'WIP FFU support for ceph_nfs\n\nDepends-On: I89c848bdae1b997b38a5164302acdcca94619471\nChange-Id: I45e72bb598ef2157531919173e94ab36eb98ad16\n'}, {'number': 2, 'created': '2020-07-06 06:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/707623c00b4e28037b5ccd42785edad1fd7b76eb', 'message': 'FFU support for ceph_nfs\n\nThis change introduces the steps needed to dump the set\nof playbook used to perform the ceph-nfs update.\n\nDepends-On: I89c848bdae1b997b38a5164302acdcca94619471\nChange-Id: I45e72bb598ef2157531919173e94ab36eb98ad16\n'}, {'number': 3, 'created': '2020-07-09 15:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf83960229004d0e40821004bc60e6c8daadd2e9', 'message': 'FFU support for ceph_nfs\n\nThis change introduces the steps needed to dump the set\nof playbook used to perform the ceph-nfs update.\n\nDepends-On: I89c848bdae1b997b38a5164302acdcca94619471\nChange-Id: I45e72bb598ef2157531919173e94ab36eb98ad16\n'}, {'number': 4, 'created': '2020-07-15 10:32:04.000000000', 'files': ['deployment/ceph-ansible/ceph-nfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4354d8ed00e23a5f132ed957ed05e975df03e610', 'message': 'FFU support for ceph_nfs\n\nThis change introduces the steps needed to dump the set\nof playbook used to perform the ceph-nfs update.\n\nDepends-On: I89c848bdae1b997b38a5164302acdcca94619471\nChange-Id: I45e72bb598ef2157531919173e94ab36eb98ad16\n'}]",0,739172,4354d8ed00e23a5f132ed957ed05e975df03e610,54,11,4,20172,,,0,"FFU support for ceph_nfs

This change introduces the steps needed to dump the set
of playbook used to perform the ceph-nfs update.

Depends-On: I89c848bdae1b997b38a5164302acdcca94619471
Change-Id: I45e72bb598ef2157531919173e94ab36eb98ad16
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/739172/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-nfs.yaml'],1,76570d228cd3e7d7b6d7e97ab4fe13492b46db99,ffu-ceph-nfs," upgrade_tasks: - name: Create hiera data to upgrade ceph_nfs in a stepwise manner. when: - step|int == 1 - cluster_recreate|bool block: - name: set ceph_nfs upgrade node facts in a single-node environment set_fact: ceph_nfs_short_node_names_upgraded: ""{{ ceph_nfs_short_node_names }}"" cacheable: no when: groups['ceph_nfs'] | length <= 1 - name: set ceph_nfs upgrade node facts from the limit option set_fact: ceph_nfs_short_node_names_upgraded: ""{{ ceph_nfs_short_node_names_upgraded|default([]) + [item.split('.')[0]] }}"" cacheable: no when: - groups['ceph_nfs'] | length > 1 - item.split('.')[0] in ansible_limit.split(':') loop: ""{{ ceph_nfs_short_node_names | default([]) }}"" - fail: msg: > You can't upgrade ceph_nfs without staged upgrade. You need to use the limit option in order to do so. when: >- ceph_nfs_short_node_names_upgraded is not defined or ceph_nfs_short_node_names_upgraded | length == 0 - debug: msg: ""Prepare ceph_nfs upgrade for {{ ceph_nfs_short_node_names_upgraded }}"" - name: add the ceph_nfs short name to hiera data for the upgrade. include_role: name: tripleo_upgrade_hiera tasks_from: set.yml vars: tripleo_upgrade_key: ceph_nfs_short_node_names_override tripleo_upgrade_value: ""{{ceph_nfs_short_node_names_upgraded}}"" - name: remove the extra hiera data needed for the upgrade. include_role: name: tripleo_upgrade_hiera tasks_from: remove.yml vars: tripleo_upgrade_key: ceph_nfs_short_node_names_override when: ceph_nfs_short_node_names_upgraded | length == ceph_nfs_short_node_names | length", upgrade_tasks: [],43,1
openstack%2Fpuppet-magnum~master~I43f3f5708d1de6f63b61cbb688fb98a5d9241c8c,openstack/puppet-magnum,master,I43f3f5708d1de6f63b61cbb688fb98a5d9241c8c,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-16 06:27:05.000000000,2020-07-16 15:39:19.000000000,2020-07-16 15:37:36.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32114}]","[{'number': 1, 'created': '2020-07-16 06:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/066ceadd7951ffa7ab8f97e78f424894c8faa6cd', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I43f3f5708d1de6f63b61cbb688fb98a5d9241c8c\n'}, {'number': 2, 'created': '2020-07-16 11:27:13.000000000', 'files': ['spec/classes/magnum_keystone_authtoken_spec.rb', 'releasenotes/notes/keystone-authtoken-interface-7f48cab08fdc7ac9.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/d7abb24b8c597d9ba2985e6e6c55ad550913ec60', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I43f3f5708d1de6f63b61cbb688fb98a5d9241c8c\n'}]",4,741380,d7abb24b8c597d9ba2985e6e6c55ad550913ec60,13,4,2,32114,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I43f3f5708d1de6f63b61cbb688fb98a5d9241c8c
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/80/741380/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/magnum_keystone_authtoken_spec.rb', 'releasenotes/notes/keystone-authtoken-interface-7f48cab08fdc7ac9.yaml', 'manifests/keystone/authtoken.pp']",3,066ceadd7951ffa7ab8f97e78f424894c8faa6cd,at-interface,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin"". # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,15,0
openstack%2Fcharm-manila-ganesha~master~I309c84081cfd18ac4fac1c4cc488a6e7da2be27d,openstack/charm-manila-ganesha,master,I309c84081cfd18ac4fac1c4cc488a6e7da2be27d,Remove duplicate dependency: Jinja2,MERGED,2020-07-13 20:46:21.000000000,2020-07-16 15:38:12.000000000,2020-07-16 15:38:12.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-13 20:46:21.000000000', 'files': ['src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/dc4199a94522d953affaf5983e428236b690c8fc', 'message': 'Remove duplicate dependency: Jinja2\n\nChange-Id: I309c84081cfd18ac4fac1c4cc488a6e7da2be27d\nCloses-Bug: #1885935\n'}]",0,740808,dc4199a94522d953affaf5983e428236b690c8fc,7,3,1,20805,,,0,"Remove duplicate dependency: Jinja2

Change-Id: I309c84081cfd18ac4fac1c4cc488a6e7da2be27d
Closes-Bug: #1885935
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/08/740808/1 && git format-patch -1 --stdout FETCH_HEAD,['src/wheelhouse.txt'],1,dc4199a94522d953affaf5983e428236b690c8fc,bug/1885935,, jinja2,0,2
openstack%2Fopenstack-helm~master~I315f04ef7bdf5bf97d09843de8f878e2d15377dc,openstack/openstack-helm,master,I315f04ef7bdf5bf97d09843de8f878e2d15377dc,Refactor to support jobs invocations from other projects,MERGED,2020-07-10 23:46:41.000000000,2020-07-16 15:36:21.000000000,2020-07-16 15:31:11.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-10 23:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/960ebcc0a57caa7704b60bffafc2408b82542b44', 'message': '[test image test]\n\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-10 23:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3d330f1b722fb36c14868ac6e2ae780933ea6d0a', 'message': '[test image test]\n\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-10 23:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f9eccaf2624624567f11382795dcab22853f24cd', 'message': '[test image test]\n\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-07-11 00:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1fadaa2517207950fe7a2cef8d766cff784aea9f', 'message': '[test image test]\n\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2020-07-11 00:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ec8defa2cd466181c0d706c66d39d8cdf293b179', 'message': '[test image test]\n\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 6, 'created': '2020-07-11 00:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0b4c442132bafba606362e2e6ac5e96ba8a9bbb7', 'message': '[test image test]\n\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 7, 'created': '2020-07-11 00:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b067d43d3a5e5f639fd0643f6abb6f242d41d4e8', 'message': '[test image test]\n\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 8, 'created': '2020-07-11 00:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/21d7f65d97eaf96e6dc5bdcc972df4e007b55fdd', 'message': '[test image test]\n\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 9, 'created': '2020-07-11 00:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7d170c7b1acf24ab64a61021de1d505be65de217', 'message': '[test image test]\n\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 10, 'created': '2020-07-11 00:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a671e4ff6546099ca402c4b9eb47ef2e5d6d1268', 'message': '[test image test]\n\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 11, 'created': '2020-07-11 00:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a3b643410ff9b93342085c32c3ea117187f14984', 'message': '[test image test]\n\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 12, 'created': '2020-07-11 01:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/20a8eb7c41145e74a5957f0e2d2a5da5df2f78ca', 'message': '[test image test]\n\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 13, 'created': '2020-07-11 03:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7f27c1645f34660cd573bcb2ab971d8433759497', 'message': '[test image test]\n\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 14, 'created': '2020-07-11 04:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c6831c4f45166127f2019e6dbe0f91c3f71aec65', 'message': '[test image test]\n\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 15, 'created': '2020-07-11 05:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5bf449007a503a40e921a672c7ea3803e311e589', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/#/c/740539/\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 16, 'created': '2020-07-11 06:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a857fe281f2e2a5c6d733fc58f0a939c3c811e55', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/#/c/740539/\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 17, 'created': '2020-07-11 14:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c64e39bc6d772c8be45f1b4302a5e6cd83e24b1a', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/#/c/740539/\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 18, 'created': '2020-07-11 19:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3bd50be3fe0d71d7a192f428de25df897c2988b4', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/#/c/740539/\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 19, 'created': '2020-07-11 19:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/06b69a0e134377f24877f0ac3e3649055eb90858', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/#/c/740539/\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 20, 'created': '2020-07-11 19:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7070814695fde4d5774d4db79a6e713b66898359', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/#/c/740539/\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 21, 'created': '2020-07-11 19:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6e4d8de9fec828942e97a08d53e823684ec71d63', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/740554\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 22, 'created': '2020-07-11 21:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3a0ac50d03234550b8cc2923f810e44982aa8540', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/740554\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 23, 'created': '2020-07-11 21:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2c214fafcca609d65cd1f735f859ce145eee7dae', 'message': '[test image test]\n\nDepends-On: https://review.opendev.org/740557\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 24, 'created': '2020-07-12 03:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/32b510f8c2da5a6eba2f9fc05ba770e948916cb7', 'message': 'Refactor to support jobs invocations from other projects\n\nSwitch osh fuctional jobs to osh-infra-job-runner playbook inheriting\nfrom openstack-helm-infra-functional.\nSpecify gate_scripts_relative_path var for each job to support the\ncase when corresponding jobs defined in osh are invoked from another\nproject to allow playbook know where to look for gate scripts.\n\nDepends-On: https://review.opendev.org/740557\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 25, 'created': '2020-07-12 03:19:39.000000000', 'files': ['tools/gate/playbooks/osh-gate-runner.yaml', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/67acec14cd1878b5b2253ffc12d618973be2d38d', 'message': 'Refactor to support jobs invocations from other projects\n\nSwitch osh fuctional jobs to osh-infra-job-runner playbook inheriting\nfrom openstack-helm-infra-functional.\nSpecify gate_scripts_relative_path var for each job to support the\ncase when corresponding jobs defined in osh are invoked from another\nproject to allow playbook know where to look for gate scripts.\n\nDepends-On: https://review.opendev.org/740557\nChange-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,740530,67acec14cd1878b5b2253ffc12d618973be2d38d,53,4,25,8863,,,0,"Refactor to support jobs invocations from other projects

Switch osh fuctional jobs to osh-infra-job-runner playbook inheriting
from openstack-helm-infra-functional.
Specify gate_scripts_relative_path var for each job to support the
case when corresponding jobs defined in osh are invoked from another
project to allow playbook know where to look for gate scripts.

Depends-On: https://review.opendev.org/740557
Change-Id: I315f04ef7bdf5bf97d09843de8f878e2d15377dc
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/30/740530/24 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/playbooks/osh-gate-runner.yaml', 'zuul.d/jobs-openstack-helm.yaml']",2,960ebcc0a57caa7704b60bffafc2408b82542b44,test-osh-images, - openstack/openstack-helm,,10,0
openstack%2Fcharm-neutron-dynamic-routing~master~If970fdc135c78c7a5ad1ae14daba3e96b9363c39,openstack/charm-neutron-dynamic-routing,master,If970fdc135c78c7a5ad1ae14daba3e96b9363c39,Remove duplicate dependency: Jinja2,MERGED,2020-07-13 17:19:17.000000000,2020-07-16 15:35:39.000000000,2020-07-16 15:35:39.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-13 17:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/76ffe59234e978e89434076fbd0d4514665ecf33', 'message': 'Remove duplicate dependency: Jinja2\n\nChange-Id: If970fdc135c78c7a5ad1ae14daba3e96b9363c39\n'}, {'number': 2, 'created': '2020-07-13 17:52:35.000000000', 'files': ['src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/c94e0f3067c2f544268f6ef4cc1b49f3762d057d', 'message': 'Remove duplicate dependency: Jinja2\n\nCloses-Bug: #1885935\nChange-Id: If970fdc135c78c7a5ad1ae14daba3e96b9363c39\n'}]",0,740734,c94e0f3067c2f544268f6ef4cc1b49f3762d057d,10,3,2,20805,,,0,"Remove duplicate dependency: Jinja2

Closes-Bug: #1885935
Change-Id: If970fdc135c78c7a5ad1ae14daba3e96b9363c39
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/34/740734/2 && git format-patch -1 --stdout FETCH_HEAD,['src/wheelhouse.txt'],1,76ffe59234e978e89434076fbd0d4514665ecf33,bug/1885935,, jinja2,0,2
openstack%2Fcharm-keystone-saml-mellon~master~I9911a3a43956f49d8fad76aa872cd96ce809aae4,openstack/charm-keystone-saml-mellon,master,I9911a3a43956f49d8fad76aa872cd96ce809aae4,Remove duplicate dependency: Jinja2,MERGED,2020-07-13 17:26:25.000000000,2020-07-16 15:34:54.000000000,2020-07-16 15:34:54.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-13 17:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/4a553b5cad3e42b9daf348878e14862b1523ad6a', 'message': 'Remove duplicate dependency: Jinja2\n\nChange-Id: I9911a3a43956f49d8fad76aa872cd96ce809aae4\n'}, {'number': 2, 'created': '2020-07-13 17:52:18.000000000', 'files': ['src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/979f2969dd7695ff978f9534b2acd80c5df9b513', 'message': 'Remove duplicate dependency: Jinja2\n\nCloses-Bug: #1885935\nChange-Id: I9911a3a43956f49d8fad76aa872cd96ce809aae4\n'}]",0,740735,979f2969dd7695ff978f9534b2acd80c5df9b513,9,3,2,20805,,,0,"Remove duplicate dependency: Jinja2

Closes-Bug: #1885935
Change-Id: I9911a3a43956f49d8fad76aa872cd96ce809aae4
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/35/740735/1 && git format-patch -1 --stdout FETCH_HEAD,['src/wheelhouse.txt'],1,4a553b5cad3e42b9daf348878e14862b1523ad6a,bug/1885935,, jinja2,0,2
openstack%2Fpuppet-neutron~master~I0f962637a13db9c3151a3c27530e97f15b0a4f59,openstack/puppet-neutron,master,I0f962637a13db9c3151a3c27530e97f15b0a4f59,Remove deprecated neutron database params,MERGED,2020-06-23 11:08:59.000000000,2020-07-16 15:23:09.000000000,2020-07-16 15:20:07.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-23 11:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/66665fab98683ebf81f47b9046cbe9286c837fb5', 'message': 'Remove deprecated neutron database params\n\nChange-Id: I0f962637a13db9c3151a3c27530e97f15b0a4f59\n'}, {'number': 2, 'created': '2020-06-23 13:57:10.000000000', 'files': ['releasenotes/notes/remove-deprecated-database-095127d35fa70e40.yaml', 'manifests/db.pp', 'manifests/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8993e81274c01c38a24366f94eccba6eae522d81', 'message': 'Remove deprecated neutron database params\n\nDepends-On: https://review.opendev.org/737544\nChange-Id: I0f962637a13db9c3151a3c27530e97f15b0a4f59\n'}]",0,737497,8993e81274c01c38a24366f94eccba6eae522d81,20,6,2,16137,,,0,"Remove deprecated neutron database params

Depends-On: https://review.opendev.org/737544
Change-Id: I0f962637a13db9c3151a3c27530e97f15b0a4f59
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/97/737497/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-deprecated-database-095127d35fa70e40.yaml', 'manifests/db.pp', 'manifests/server.pp']",3,66665fab98683ebf81f47b9046cbe9286c837fb5,737497,,"# DEPRECATED PARAMETERS # # [*database_min_pool_size*] # (Optional) Minimum number of SQL connections to keep open in a pool. # Defaults to: undef. # # [*database_connection*] # (Optional) Connection url for the neutron database. # (Defaults to undef) # # [*database_max_retries*] # (Optional) Maximum database connection retries during startup. # (Defaults to undef) # # [*database_idle_timeout*] # (Optional) Timeout before idle database connections are reaped. # (Defaults to undef) # # [*database_retry_interval*] # (Optional) Interval between retries of opening a database connection. # (Defaults to 10) # # [*database_max_pool_size*] # (Optional) Maximum number of SQL connections to keep open in a pool. # Defaults to: undef. # # [*database_max_overflow*] # (Optional) If set, use this value for max_overflow with sqlalchemy. # Defaults to: undef. # # [*ensure_fwaas_package*] # (Optional) Ensures installation of FWaaS package before starting API service. # Set to true to ensure installation of the package that is required to start neutron service if service_plugin is enabled. # Defaults to undef. # # DEPRECATED PARAMETERS $database_min_pool_size = undef, $database_connection = undef, $database_max_retries = undef, $database_idle_timeout = undef, $database_retry_interval = undef, $database_max_pool_size = undef, $database_max_overflow = undef, $ensure_fwaas_package = undef,",17,75
openstack%2Fcharm-hacluster~master~Ibcbb5f56205b72c475807e3c34c64a00844908f4,openstack/charm-hacluster,master,Ibcbb5f56205b72c475807e3c34c64a00844908f4,Fix directory /etc/nagios/nrpe.d/  issue,MERGED,2020-07-14 14:41:38.000000000,2020-07-16 15:22:21.000000000,2020-07-16 15:22:21.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 14:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/09bee1a7dc3e279be419bf5af517dd2e9c520c28', 'message': 'Fix directory /etc/nagios/nrpe.d/  issue\n\nUnder certain deployment conditions, the charm can attempt to write to\nthe /etc/nagios/nrpe.d/ directory before it exists.  This directory is\ncreated by the nrpe charm, but if the hacluster (this charm) gets\ninstalled first, then it can be triggered to attempt to set up the nrpe\nentries before the directory can be created by nrpe.  This change (and\nthe associated charm-helpers change) ensures that the charm will delay\nthe nrpe config until the directory is available (and thus, the nrpe\ncharm is fully installed)\n\nRelated charm-helpers: https://github.com/juju/charm-helpers/pull/492\n\nChange-Id: Ibcbb5f56205b72c475807e3c34c64a00844908f4\nCloses-Bug: #1882557\n'}, {'number': 2, 'created': '2020-07-15 14:13:17.000000000', 'files': ['hooks/hooks.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/24fa642247b0692de387df417b7862ee450e15b9', 'message': 'Fix directory /etc/nagios/nrpe.d/  issue\n\nUnder certain deployment conditions, the charm can attempt to write to\nthe /etc/nagios/nrpe.d/ directory before it exists.  This directory is\ncreated by the nrpe charm, but if the hacluster (this charm) gets\ninstalled first, then it can be triggered to attempt to set up the nrpe\nentries before the directory can be created by nrpe.  This change (and\nthe associated charm-helpers change) ensures that the charm will delay\nthe nrpe config until the directory is available (and thus, the nrpe\ncharm is fully installed)\n\nRelated charm-helpers: https://github.com/juju/charm-helpers/pull/492\n\nChange-Id: Ibcbb5f56205b72c475807e3c34c64a00844908f4\nCloses-Bug: #1882557\n'}]",2,740979,24fa642247b0692de387df417b7862ee450e15b9,15,4,2,20870,,,0,"Fix directory /etc/nagios/nrpe.d/  issue

Under certain deployment conditions, the charm can attempt to write to
the /etc/nagios/nrpe.d/ directory before it exists.  This directory is
created by the nrpe charm, but if the hacluster (this charm) gets
installed first, then it can be triggered to attempt to set up the nrpe
entries before the directory can be created by nrpe.  This change (and
the associated charm-helpers change) ensures that the charm will delay
the nrpe config until the directory is available (and thus, the nrpe
charm is fully installed)

Related charm-helpers: https://github.com/juju/charm-helpers/pull/492

Change-Id: Ibcbb5f56205b72c475807e3c34c64a00844908f4
Closes-Bug: #1882557
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/79/740979/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'tox.ini']",3,09bee1a7dc3e279be419bf5af517dd2e9c520c28,bug/1882557,[testenv:func-target] basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = functest-run-suite --keep-model --bundle {posargs} ,,57,25
openstack%2Foctavia-lib~master~I7ebdd5eea537a8258f66b5e1bf2ee1aad3f8b10b,openstack/octavia-lib,master,I7ebdd5eea537a8258f66b5e1bf2ee1aad3f8b10b,Update test-requirements to match Octavia repo,MERGED,2020-07-16 13:51:58.000000000,2020-07-16 15:03:39.000000000,2020-07-16 15:01:57.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 13:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/27f26079773d4d8100a8502c1748025f51df1e07', 'message': ""Update test-requirements to match Octavia repo\n\npylint needed an update to be >=2.2.0 to fix a pep8 issue,\nupdated bandit requirement to match Octavia repo while\nwe're at it.\n\nChange-Id: I7ebdd5eea537a8258f66b5e1bf2ee1aad3f8b10b\n""}, {'number': 2, 'created': '2020-07-16 14:16:04.000000000', 'files': ['octavia_lib/api/drivers/driver_lib.py', 'octavia_lib/api/drivers/provider_base.py', 'octavia_lib/hacking/checks.py', 'test-requirements.txt', 'octavia_lib/api/drivers/data_models.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/bf1824a8b26fe1062f420cb5b0470c6feebaa8ee', 'message': ""Update test-requirements to match Octavia repo\n\npylint needed an update to be >=2.2.0 to fix a pep8 issue,\nupdated bandit requirement to match Octavia repo while\nwe're at it.\n\nHad to fix some new errors pylint found as a result.\n\nChange-Id: I7ebdd5eea537a8258f66b5e1bf2ee1aad3f8b10b\n""}]",0,741455,bf1824a8b26fe1062f420cb5b0470c6feebaa8ee,11,3,2,1131,,,0,"Update test-requirements to match Octavia repo

pylint needed an update to be >=2.2.0 to fix a pep8 issue,
updated bandit requirement to match Octavia repo while
we're at it.

Had to fix some new errors pylint found as a result.

Change-Id: I7ebdd5eea537a8258f66b5e1bf2ee1aad3f8b10b
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/55/741455/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,27f26079773d4d8100a8502c1748025f51df1e07,update-test-req,"bandit!=1.6.0,>=1.1.0 # Apache-2.0pylint>=2.2.0 # GPLv2",bandit>=1.1.0 # Apache-2.0pylint==1.9.2 # GPLv2,2,2
openstack%2Fneutron~master~I68d9d2a029dca46c819342ae4f16076c9e3dccd8,openstack/neutron,master,I68d9d2a029dca46c819342ae4f16076c9e3dccd8,[ovn]: port forwarding,ABANDONED,2020-04-28 10:44:42.000000000,2020-07-16 14:43:35.000000000,,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}, {'_account_id': 28961}]","[{'number': 1, 'created': '2020-04-28 10:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/752ec786e1c10c38ab55af3de9a1f0088b956312', 'message': 'WIP (DNM): ovn port forwarding rfe\n\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 2, 'created': '2020-04-28 15:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/87228d7a861bdbbac8d8b78675fb11e4ea7be48a', 'message': 'WIP (DNM): ovn port forwarding rfe\n\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 3, 'created': '2020-04-28 16:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb647f246f7ab0afa0a215bbd99439591f45cd6d', 'message': 'WIP (DNM): ovn port forwarding rfe\n\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 4, 'created': '2020-04-30 00:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3cc08384b97bf0a9c259e0396ecc4eed886fe38', 'message': 'WIP (DNM): ovn port forwarding rfe\n\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 5, 'created': '2020-04-30 16:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d0c647e1f078cef1b1751d85d48f8c60eddca8d', 'message': 'WIP (DNM): ovn port forwarding rfe\n\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 6, 'created': '2020-05-01 20:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8bea10630e5cb0e4adefdc8c890f7a38ef28bea5', 'message': 'WIP (DNM): ovn port forwarding rfe\n\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 7, 'created': '2020-05-01 20:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7899db13a3712303f97abf927de94ad722e1b7f4', 'message': 'WIP (DNM): ovn port forwarding rfe\n\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 8, 'created': '2020-05-04 16:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15df5922238b521ba4be50b8f9e0ee23b9a3ffbe', 'message': 'WIP (DNM): ovn port forwarding rfe\n\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 9, 'created': '2020-05-04 20:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7269d853ae0ec3822154c1b630021f27bbe1c0d', 'message': 'WIP (DNM): ovn port forwarding rfe\n\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 10, 'created': '2020-05-06 14:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8591767d3a077f3982416fc7a11effd138f569ab', 'message': 'WIP (DNM): ovn port forwarding rfe\n\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 11, 'created': '2020-05-07 22:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/629f6e718c7fb78d49e187fb4adf70e9daabaeca', 'message': 'WIP (DNM): ovn port forwarding rfe\n\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 12, 'created': '2020-05-11 14:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bbd2e004f90d99b8548608acb32c960f5ea3245b', 'message': 'WIP (DNM): ovn port forwarding rfe\n\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 13, 'created': '2020-05-11 21:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd8deadcefc10d9e9a58710f03cd796364a17053', 'message': 'WIP (DNM): [ovn]: port forwarding functionality\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nThis is not ready for merging. Still need to implement tests.\n\nAnother change will be used for handling the maintenance task.\n\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 14, 'created': '2020-05-12 16:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9854b59e1d4e582ca86e7faa7c899da1fc579c75', 'message': 'WIP (DNM): [ovn]: port forwarding functionality\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nThis is not ready for merging. Still need to implement tests.\n\nAnother change will be used for handling the maintenance task.\n\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 15, 'created': '2020-05-12 21:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec554b726a61a2c2ead92ff2dc70a4760b665b15', 'message': 'WIP (DNM): [ovn]: port forwarding functionality\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nThis is not ready for merging. Still need to:\n- implement fip callbacks to update load balancer.\n- fix the maintenance task.\n- implement tests.\n\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 16, 'created': '2020-05-13 21:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d92d9d2a6ccacd67afb0cad876d8083d1cdedfb3', 'message': 'WIP (DNM): [ovn]: port forwarding functionality\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nThis is not ready for merging. Still need to:\n- fix the maintenance task.\n- implement tests.\n\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 17, 'created': '2020-05-13 23:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b7acfe4735a2cf4bfa9f2b6fbb14d83981ed144', 'message': 'WIP (DNM): [ovn]: port forwarding functionality\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nThis is not ready for merging. Still need to:\n- fix the maintenance task.\n- implement tests.\n\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 18, 'created': '2020-05-13 23:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/014cf443708f05d8c224ce83b5a2d28e8140872f', 'message': 'WIP (DNM): [ovn]: port forwarding functionality\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nThis is not ready for merging. Still need to:\n- fix the maintenance task.\n- implement tests.\n\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 19, 'created': '2020-05-18 10:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a70ecf0c7eea98e220f635b027710dc02a5b4dfb', 'message': 'WIP (DNM): [ovn]: port forwarding functionality\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nThis is not ready for merging. Still need to:\n- fix the maintenance task.\n- implement tests.\n\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 20, 'created': '2020-05-18 10:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/65448e5e9002311664abad4a7c82dd8edbc661f2', 'message': 'DNM [ovn]: port forwarding functionality\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nThis is a partial changeset for the RFE. It is not yet\nready to be merged.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 21, 'created': '2020-05-19 19:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3d6851cee6c81d4584907624b670b5da6192731', 'message': 'DNM [ovn]: port forwarding functionality (1 of 2)\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 22, 'created': '2020-05-20 19:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/17228a52ee3cdbcc577f735ced81d220e462822c', 'message': 'DNM [ovn]: port forwarding functionality (1 of 2)\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 23, 'created': '2020-05-20 19:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a611b6443031a2d859f31c970cbb4fcc2674b56f', 'message': 'DNM [ovn]: port forwarding functionality (1 of 2)\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 24, 'created': '2020-05-22 01:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb62976923c5e7a890c7107e92613e701e5c7fab', 'message': 'DNM [ovn]: port forwarding functionality (1 of 2)\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nIt also includes changes to maintenance task to properly\nhandle OVN nat/lb sync based on Neutron fip+fw databases.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 25, 'created': '2020-05-22 01:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e4f3b19c7300a8d7d85e108b90eea286a921446', 'message': 'DNM [ovn]: port forwarding functionality (1 of 2)\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nIt also includes changes to maintenance task to properly\nhandle OVN nat/lb sync based on Neutron fip+fw databases.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 26, 'created': '2020-05-26 09:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/07321830ebd119f44fe1674d9fde38da6e131379', 'message': 'DNM [ovn]: port forwarding functionality (1 of 2)\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nIt also includes changes to maintenance task to properly\nhandle OVN nat/lb sync based on Neutron fip+fw databases.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 27, 'created': '2020-05-28 23:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8c0f1d17cd427ec8b7a9ebe0bc1565e8c7423da', 'message': 'DNM [ovn]: port forwarding functionality (1 of 2)\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nIt also includes changes to maintenance task to properly\nhandle OVN nat/lb sync based on Neutron fip+fw databases.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 28, 'created': '2020-06-08 10:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8d69412ec8dfce77c27f836116544d5e21bb7bc', 'message': 'DNM [ovn]: port forwarding functionality (1 of 2)\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nIt also includes changes to maintenance task to properly\nhandle OVN nat/lb sync based on Neutron fip+fw databases.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 29, 'created': '2020-06-08 23:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5190a3c848426f880c0901e54666638447b97172', 'message': 'DNM [ovn]: port forwarding functionality (1 of 2)\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nIt also includes changes to maintenance task to properly\nhandle OVN nat/lb sync based on Neutron fip+fw databases.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 30, 'created': '2020-06-09 01:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a79d2c57046b077c4ec4def9544a9710f93e8bcd', 'message': '[WIP] DNM [ovn]: port forwarding functionality\n\nWIP: Still missing updating unit tests\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nIt also includes changes to maintenance task to properly\nhandle OVN nat/lb sync based on Neutron fip+fw databases.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nRelated-Bug: #1877447\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 31, 'created': '2020-06-09 19:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1fc9dfad052b854f6bf75617079064ada0a4583', 'message': '[WIP] DNM [ovn]: port forwarding functionality\n\nWIP: Still missing updating unit tests\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nIt also includes changes to maintenance task to properly\nhandle OVN nat/lb sync based on Neutron fip+fw databases.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nRelated-Bug: #1877447\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 32, 'created': '2020-06-09 20:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/56073154b787ae9045a72144135a95c848d5f2be', 'message': '[WIP] DNM [ovn]: port forwarding functionality\n\nWIP: Still missing updating unit tests\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nIt also includes changes to maintenance task to properly\nhandle OVN nat/lb sync based on Neutron fip+fw databases.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nRelated-Bug: #1877447\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 33, 'created': '2020-06-22 21:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/541d11075b9ebf33070fb969e4bf926abf2761f4', 'message': '[WIP] DNM [ovn]: port forwarding functionality\n\nWIP: missing updating unit tests\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nIt also includes changes to maintenance task to properly\nhandle OVN nat/lb sync based on Neutron fip+fw databases.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nRelated-Bug: #1877447\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 34, 'created': '2020-06-22 21:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b897467d6ffdbf859c4b6c26352615c2e14a2437', 'message': '[WIP] DNM [ovn]: port forwarding functionality\n\nWIP: missing updating unit tests\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nIt also includes changes to maintenance task to properly\nhandle OVN nat/lb sync based on Neutron fip+fw databases.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nRelated-Bug: #1877447\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 35, 'created': '2020-06-24 10:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c12d0198abf407ffea97ef55b30f6910c5fc5be8', 'message': '[WIP] DNM [ovn]: port forwarding functionality\n\nWIP: missing updating unit tests\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nIt also includes changes to maintenance task to properly\nhandle OVN nat/lb sync based on Neutron fip+fw databases.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nRelated-Bug: #1877447\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 36, 'created': '2020-06-26 20:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52c5c5bc6e16674b98e1e27e2f263fb7d5dd95a2', 'message': '[WIP] DNM [ovn]: port forwarding functionality\n\nWIP: missing updating unit tests\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nIt also includes changes to maintenance task to properly\nhandle OVN nat/lb sync based on Neutron fip+fw databases.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nRelated-Bug: #1877447\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 37, 'created': '2020-06-30 18:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e24872ce4ce454cd737e4e39e5221fcde75883d', 'message': '[WIP] DNM [ovn]: port forwarding functionality\n\nWIP: missing updating unit tests\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nIt also includes changes to maintenance task to properly\nhandle OVN nat/lb sync based on Neutron fip+fw databases.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nRelated-Bug: #1877447\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 38, 'created': '2020-07-02 19:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/87d1b7e0d271d93b3ae3d47c2c8e2f0581901c17', 'message': '[WIP] DNM [ovn]: port forwarding functionality\n\nWIP: missing updating unit tests\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nIt also includes changes to maintenance task to properly\nhandle OVN nat/lb sync based on Neutron fip+fw databases.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nRelated-Bug: #1877447\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 39, 'created': '2020-07-03 03:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b38866a0c5ed64643bc86cb8da474ceabf927754', 'message': '[WIP] DNM [ovn]: port forwarding functionality\n\nWIP: missing updating unit tests\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nIt also includes changes to maintenance task to properly\nhandle OVN nat/lb sync based on Neutron fip+fw databases.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nRelated-Bug: #1877447\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 40, 'created': '2020-07-07 22:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51656ad452d5c157ae9a3181460fcdc9bf23926d', 'message': '[WIP] DNM [ovn]: port forwarding functionality\n\nWIP: missing updating unit tests\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nIt also includes changes to maintenance task to properly\nhandle OVN nat/lb sync based on Neutron fip+fw databases.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nRelated-Bug: #1877447\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 41, 'created': '2020-07-07 22:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc528562f8a89569cb3622d14abfa28bedda1aa7', 'message': '[WIP] DNM [ovn]: port forwarding functionality\n\nWIP: missing updating unit tests\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nIt also includes changes to maintenance task to properly\nhandle OVN nat/lb sync based on Neutron fip+fw databases.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nRelated-Bug: #1877447\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 42, 'created': '2020-07-08 15:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7b424410287028e82bdad5c3829450f468d6510', 'message': '[WIP] DNM [ovn]: port forwarding functionality\n\nWIP: missing updating unit tests\n\nThis change implements the core changes in OVN for the\nport forwarding RFE.\n\nIt also includes changes to maintenance task to properly\nhandle OVN nat/lb sync based on Neutron fip+fw databases.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nPartially-implements: ovn/port_forwarding\nRelated-Bug: #1877447\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 43, 'created': '2020-07-11 12:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/28d3029224f5d584e7401d441ddcdf8772f7c3db', 'message': '[ovn]: port forwarding\n\nOVN support for floating ip port forwarding functionality.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nImplements: ovn/port_forwarding\nPartially-implements: blueprint portforwarding-description\nCloses-Bug: #1877447\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 44, 'created': '2020-07-13 20:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1859047a92b530ad8ee3f04dd0e0de6afa00ddd3', 'message': '[ovn]: port forwarding\n\nOVN support for floating ip port forwarding functionality.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nImplements: ovn/port_forwarding\nPartially-implements: blueprint portforwarding-description\nCloses-Bug: #1877447\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}, {'number': 45, 'created': '2020-07-14 12:54:52.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py', 'neutron/common/ovn/extensions.py', 'neutron/services/portforwarding/ovn/port_forwarding.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/tests/unit/services/portforwarding/ovn/__init__.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/services/portforwarding/ovn/__init__.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'zuul.d/tempest-multinode.yaml', 'neutron/services/portforwarding/constants.py', 'doc/source/ovn/port_forwarding.rst', 'neutron/tests/functional/base.py', 'neutron/services/portforwarding/pf_plugin.py', 'doc/source/ovn/index.rst', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py', 'doc/source/admin/ovn/features.rst', 'neutron/tests/unit/fake_resources.py', 'doc/source/ovn/gaps.rst', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'zuul.d/tempest-singlenode.yaml', 'devstack/ovn-local.conf.sample', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/portforwarding/ovn/test_port_forwarding.py', 'releasenotes/notes/floatingips-port-forwarding-ovn-8f8981922dd4c4ab.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dce204c7d85e6c6fff978875787d5dd4e149dd45', 'message': '[ovn]: port forwarding\n\nOVN support for floating ip port forwarding functionality.\n\nDepends-On: https://review.opendev.org/#/c/726478/\nImplements: ovn/port_forwarding\nPartially-implements: blueprint portforwarding-description\nCloses-Bug: #1877447\nChange-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8\n'}]",67,723863,dce204c7d85e6c6fff978875787d5dd4e149dd45,202,12,45,11952,,,0,"[ovn]: port forwarding

OVN support for floating ip port forwarding functionality.

Depends-On: https://review.opendev.org/#/c/726478/
Implements: ovn/port_forwarding
Partially-implements: blueprint portforwarding-description
Closes-Bug: #1877447
Change-Id: I68d9d2a029dca46c819342ae4f16076c9e3dccd8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/723863/44 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/ovn-local.conf.sample', 'neutron/common/ovn/extensions.py', 'neutron/services/portforwarding/ovn/port_forwarding.py', 'neutron/services/portforwarding/ovn/__init__.py', 'doc/source/admin/ovn/features.rst', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",6,752ec786e1c10c38ab55af3de9a1f0088b956312,ovn/port_forwarding,from neutron.services.portforwarding.ovn import port_forwarding self.port_forwarding = port_forwarding.OVNPortForwarding.create(self),,61,0
openstack%2Foctavia-tempest-plugin~master~If6bd962aeafb2fee5b331e9c938c24bfa5488020,openstack/octavia-tempest-plugin,master,If6bd962aeafb2fee5b331e9c938c24bfa5488020,Set image driver to noop in noop jobs,MERGED,2020-06-25 13:30:44.000000000,2020-07-16 14:30:03.000000000,2020-07-16 14:26:06.000000000,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 13:30:44.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3ab77935c2d30027091b177167375d3b7434b89d', 'message': 'Set image driver to noop in noop jobs\n\nChange-Id: If6bd962aeafb2fee5b331e9c938c24bfa5488020\n'}]",0,738015,3ab77935c2d30027091b177167375d3b7434b89d,9,4,1,6469,,,0,"Set image driver to noop in noop jobs

Change-Id: If6bd962aeafb2fee5b331e9c938c24bfa5488020
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/15/738015/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,3ab77935c2d30027091b177167375d3b7434b89d,, image_driver: image_noop_driver,,1,0
openstack%2Fpuppet-ec2api~master~I7cdb181057ad8a126fbbdd5d0862827a2ed28062,openstack/puppet-ec2api,master,I7cdb181057ad8a126fbbdd5d0862827a2ed28062,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-16 00:40:26.000000000,2020-07-16 14:30:00.000000000,2020-07-16 14:28:12.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 00:40:26.000000000', 'files': ['releasenotes/notes/keystone-authtoken-interface-ea4c6ce7e8bf7842.yaml', 'spec/classes/ec2api_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/8610a7e5c4a906c91cf595174200ddff6e1ab1ba', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I7cdb181057ad8a126fbbdd5d0862827a2ed28062\n'}]",0,741348,8610a7e5c4a906c91cf595174200ddff6e1ab1ba,8,3,1,32114,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I7cdb181057ad8a126fbbdd5d0862827a2ed28062
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/48/741348/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone-authtoken-interface-ea4c6ce7e8bf7842.yaml', 'spec/classes/ec2api_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,8610a7e5c4a906c91cf595174200ddff6e1ab1ba,at-interface,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin"". # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,15,0
openstack%2Fi18n~master~I04c1b88c5b978905c6b9fae5084c9d3561e805ad,openstack/i18n,master,I04c1b88c5b978905c6b9fae5084c9d3561e805ad,Stop to use the __future__ module.,MERGED,2020-06-02 18:18:41.000000000,2020-07-16 14:23:20.000000000,2020-07-16 14:20:58.000000000,"[{'_account_id': 841}, {'_account_id': 14482}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 18:18:41.000000000', 'files': ['tools/zanata/zanata_stats.py'], 'web_link': 'https://opendev.org/openstack/i18n/commit/e624e808e84a9f22a62513a2677b8391979f681e', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I04c1b88c5b978905c6b9fae5084c9d3561e805ad\n""}]",0,732847,e624e808e84a9f22a62513a2677b8391979f681e,11,5,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I04c1b88c5b978905c6b9fae5084c9d3561e805ad
",git fetch https://review.opendev.org/openstack/i18n refs/changes/47/732847/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/zanata/zanata_stats.py'],1,e624e808e84a9f22a62513a2677b8391979f681e,drop_future_imports,,from __future__ import print_function ,0,2
openstack%2Fbifrost~master~Ic68400f38059eb059599fd8cd17d4c82229578fe,openstack/bifrost,master,Ic68400f38059eb059599fd8cd17d4c82229578fe,Rework installation documentation for an easier start,MERGED,2020-07-16 10:06:03.000000000,2020-07-16 14:15:52.000000000,2020-07-16 14:13:14.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 10:06:03.000000000', 'files': ['doc/source/install/index.rst'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6610cf4ee14fa0efb8d62478e29c85dfa9bb5b91', 'message': 'Rework installation documentation for an easier start\n\nDocument bifrost-cli, flatten the structure and make it friendlier\nfor new-starters.\n\nChange-Id: Ic68400f38059eb059599fd8cd17d4c82229578fe\n'}]",0,741420,6610cf4ee14fa0efb8d62478e29c85dfa9bb5b91,8,3,1,10239,,,0,"Rework installation documentation for an easier start

Document bifrost-cli, flatten the structure and make it friendlier
for new-starters.

Change-Id: Ic68400f38059eb059599fd8cd17d4c82229578fe
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/20/741420/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/index.rst'],1,6610cf4ee14fa0efb8d62478e29c85dfa9bb5b91,bifrost-cli,"This document will guide you through installing the Bare Metal Service (ironic) using Bifrost. Requirements ============ Supported operating systems: * Ubuntu 18.04, 20.04 * Red Hat Enterprise Linux (RHEL) 8 * CentOS 8 * openSUSE Leap 15.1 * Fedora 30 * Debian Buster Bifrost structure ================= Installation and use of Bifrost is split into roughly three steps:Installation of Bifrost can be done in three ways: * Via the ``bifrost-cli`` command line tool. This is the path recommended for those who want something that just works. It provides minimum configuration and uses the recommended defaults. * By directly invoking ``ansible-playbook`` on one of provided playbooks. * By writing your own playbooks using Ansible roles provided with Bifrost. =================Know your environment ===================== Before you start, you need to gather certain facts about your bare metal environment (this step can be skipped if you're testing Bifrost on virtual machines). For the machine that hosts Bifrost you'll need to figure out: * The network interface you're going to use for communication between the bare metal machines and the Bifrost services. * Pool of IP addresses for DHCP (must be within the network configured on the chosen network interface). * Whether you want the services to use authentication via Keystone_. For each machine that is going to be enrolled in the Bare Metal service you'll need: * The management technology you are going to use to control the machine (IPMI, Redfish, etc). See `bare metal drivers`_ for guidance. * An IP address or a host name of its management controller (BMC). * Credentials for the management controller. * MAC address of the NIC the machine uses for PXE booting (optional for IPMI). .. _Keystone: https://docs.openstack.org/keystone/latest/ .. _bare metal drivers: https://docs.openstack.org/ironic/latest/admin/drivers.html Required packages ================= To start with Bifrost you will need Python 3.6 or newer and the ``git`` source code management tool. On CentOS/RHEL/Fedora: .. code-block:: bash sudo dnf install -y git python3 On Ubuntu/Debian: .. code-block:: bash sudo apt-get update sudo apt-get install -y python3 git On openSUSE: .. code-block:: bash sudo zipper install -y python3 git ======================================================================================Clone Bifrost ============= Bifrost is typically installed from git: .. code-block:: bash git clone https://opendev.org/openstack/bifrost cd bifrost To install Bare Metal services from a specific release series (rather than the latest versions), check out the corresponding stable branch. For example, for Ussuri: .. code-block:: bash git checkout stable/ussuri Testing on virtual machinesIf you want to try Bifrost on virtual machines instead of real hardware, you need to prepare a testing environment. The easiest way is via ``bifrost-cli``: .. code-block:: bash ./bifrost-cli testenv Then do not forget to pass ``--testenv`` flag to ``bifrost-cli install``. See :doc:`/contributor/testenv` for more details and for advanced ways of creating a virtual environment. ============================ Quick start with bifrost-cli ============================ The ``bifrost-cli`` script, available since the Victoria release series, installs the Bare Metal service with the recommended defaults. Using it is as simple as: .. code-block:: bash ./bifrost-cli install \ --network-interface <the network interface to use> \ --dhcp-pool <DHCP start IP>-<DHCP end IP> For example: .. code-block:: bash ./bifrost-cli install --network-interface eno1 \ --dhcp-pool 10.0.0.20-10.0.0.100 .. note:: See `Know your environment`_ for the guidance on the two required parameters. If installing on a virtual environment, skip these two parameters: .. code-block:: bash ./bifrost-cli install --testenv Additionally, the following parameters can be useful: ``--hardware-types`` A comma separated list of hardware types to enable. ``--enable-keystone`` Whether to enable authentication with Keystone_. See the built-in documentation for more details: .. code-block:: bash ./bifrost-cli install --help ========================== Installation via playbooks ========================== =================================================================================================","Installation and use of bifrost is split into roughly three steps:Supported operating systems: * Ubuntu 18.04, 20.04 * Red Hat Enterprise Linux (RHEL) 8 * CentOS 8 * openSUSE Leap 15.1 * Fedora 30 * Debian Buster If you want to try Bifrost on a virtual environment, see :doc:`/contributor/testenv`. ============ Installation ============ --------------------------------------------------------------------------------------Performing the installation* Cloning the bifrost repository.. note:: The documentation expects that you have a copy of the repository on your local machine, and that your working directory is inside of the copy of the bifrost repository. Cloning ------- Clone the Bifrost repository:: git clone https://opendev.org/openstack/bifrost cd bifrost -------------------------------------------------------------------.. note:: Bifrost does not overwrite pre-existing IPA ramdisk and deployment image files. As such, you will need to remove the files if you wish to rebuild them. These files typically consist the default files: ``/httpboot/deployment_image.qcow2``, ``/httpboot/ipa.kernel``, ``/etc/httpboot/ipa.initramfs``. Installing ---------- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^",166,44
openstack%2Fi18n~master~I619505df6bfbf9ef832c854c4b462061ee0b72cc,openstack/i18n,master,I619505df6bfbf9ef832c854c4b462061ee0b72cc,Document translation of stable branches,MERGED,2020-06-22 16:18:37.000000000,2020-07-16 14:13:12.000000000,2020-07-16 14:11:32.000000000,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 6882}, {'_account_id': 14482}, {'_account_id': 17566}, {'_account_id': 17765}, {'_account_id': 17907}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-22 16:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/b4e26079902a1428a9b13d7107d5406fee8c505d', 'message': 'Document translation of stable branches\n\nDocument the change from https://review.opendev.org/723217.\n\nChange-Id: I619505df6bfbf9ef832c854c4b462061ee0b72cc\n'}, {'number': 2, 'created': '2020-07-10 10:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/73a190c3e7c82a9caa492dd3340335ff31463eea', 'message': 'Document translation of stable branches\n\nDocument the change from https://review.opendev.org/723217.\n\nChange-Id: I619505df6bfbf9ef832c854c4b462061ee0b72cc\n'}, {'number': 3, 'created': '2020-07-10 11:37:18.000000000', 'files': ['doc/source/project_setup.rst'], 'web_link': 'https://opendev.org/openstack/i18n/commit/8d8ec6042b7ae4c0f7850a1861965205f33f5515', 'message': 'Document translation of stable branches\n\nDocument the change from https://review.opendev.org/723217.\n\nChange-Id: I619505df6bfbf9ef832c854c4b462061ee0b72cc\n'}]",8,737309,8d8ec6042b7ae4c0f7850a1861965205f33f5515,18,9,3,6547,,,0,"Document translation of stable branches

Document the change from https://review.opendev.org/723217.

Change-Id: I619505df6bfbf9ef832c854c4b462061ee0b72cc
",git fetch https://review.opendev.org/openstack/i18n refs/changes/09/737309/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/project_setup.rst'],1,b4e26079902a1428a9b13d7107d5406fee8c505d,dashboard-trans," The translation team is translating stable branches of projects only for UI/horizon dashboard projects. If the repository is a UI/horizoon dashboard project, use the ``translation-jobs-master-stable`` template. Otherwise use the ``translation-jobs-master-only`` template."," If the repository is planned to have stable branch, use the ``translation-jobs-master-stable`` template. Otherwise use the ``translation-jobs-master-only`` template.",6,3
openstack%2Fpython-tripleoclient~master~Ie24163a39a68ec73ae8ea5ad1011eb3789961077,openstack/python-tripleoclient,master,Ie24163a39a68ec73ae8ea5ad1011eb3789961077,Skip network check with stack env when validations disabled,MERGED,2020-03-05 07:22:02.000000000,2020-07-16 14:12:19.000000000,2020-03-05 18:31:30.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 07:22:02.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d8a7eaf88c22af6e31d27df9e5ef83a83a8f17b7', 'message': 'Skip network check with stack env when validations disabled\n\nAllow for bypassing check_stack_network_matches_env_files()\nwhen --disable-validations is provided.\n\nChange-Id: Ie24163a39a68ec73ae8ea5ad1011eb3789961077\nCloses-Bug: #1866155\n'}]",5,711392,d8a7eaf88c22af6e31d27df9e5ef83a83a8f17b7,16,5,1,8833,,,0,"Skip network check with stack env when validations disabled

Allow for bypassing check_stack_network_matches_env_files()
when --disable-validations is provided.

Change-Id: Ie24163a39a68ec73ae8ea5ad1011eb3789961077
Closes-Bug: #1866155
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/92/711392/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,d8a7eaf88c22af6e31d27df9e5ef83a83a8f17b7,," if not parsed_args.disable_validations: # note(aschultz): network validation goes here before we deploy utils.check_stack_network_matches_env_files(stack, env)"," # note(aschultz): network validation goes here before we deploy utils.check_stack_network_matches_env_files(stack, env)",3,2
openstack%2Fpuppet-sahara~master~I2e84c07cd0609d9636682326f70b9d366994205f,openstack/puppet-sahara,master,I2e84c07cd0609d9636682326f70b9d366994205f,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-16 06:56:21.000000000,2020-07-16 14:07:57.000000000,2020-07-16 14:05:02.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32114}]","[{'number': 1, 'created': '2020-07-16 06:56:21.000000000', 'files': ['releasenotes/notes/keystone-authtoken-interface-7d98af82eb230ebd.yaml', 'spec/classes/sahara_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/d733228e004d55ba758866dc5e503946bce30495', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I2e84c07cd0609d9636682326f70b9d366994205f\n'}]",0,741386,d733228e004d55ba758866dc5e503946bce30495,11,4,1,32114,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I2e84c07cd0609d9636682326f70b9d366994205f
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/86/741386/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone-authtoken-interface-7d98af82eb230ebd.yaml', 'spec/classes/sahara_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,d733228e004d55ba758866dc5e503946bce30495,at-interface,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin"". # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,15,0
openstack%2Fpuppet-vitrage~master~I91206baca49e0c0b052c2ccc014842b8a5015e49,openstack/puppet-vitrage,master,I91206baca49e0c0b052c2ccc014842b8a5015e49,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-16 09:20:10.000000000,2020-07-16 13:54:52.000000000,2020-07-16 13:52:25.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 09:20:10.000000000', 'files': ['spec/classes/vitrage_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'releasenotes/notes/keystone-authtoken-interface-88956fcd6ff1ca54.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/f349ceec5df0d788507c441fc203f985e89feb41', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I91206baca49e0c0b052c2ccc014842b8a5015e49\n'}]",0,741409,f349ceec5df0d788507c441fc203f985e89feb41,9,3,1,32114,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I91206baca49e0c0b052c2ccc014842b8a5015e49
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/09/741409/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/vitrage_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'releasenotes/notes/keystone-authtoken-interface-88956fcd6ff1ca54.yaml']",3,f349ceec5df0d788507c441fc203f985e89feb41,at-interface,"--- features: - | The new ``vitrage::keystone::authtoken::interface`` parameter has been added, which can be used to set the interface parameter in authtoken middleware. ",,15,0
openstack%2Fkolla-ansible~master~I023d96d25edd9d2fafd4415743e298af72a861a1,openstack/kolla-ansible,master,I023d96d25edd9d2fafd4415743e298af72a861a1,Support editable virtualenv installation for development,MERGED,2020-07-02 17:15:53.000000000,2020-07-16 13:53:51.000000000,2020-07-15 11:50:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-02 17:15:53.000000000', 'files': ['tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5fb37ae58494cda74fba49ade43d082fb6b69288', 'message': 'Support editable virtualenv installation for development\n\nAn editable installation allows changes to be made to the source code\ndirectly, and have those changes applied immediately without having to\nreinstall.\n\n    pip install -e /path/to/kolla-ansible\n\nChange-Id: I023d96d25edd9d2fafd4415743e298af72a861a1\n'}]",0,739116,5fb37ae58494cda74fba49ade43d082fb6b69288,15,5,1,14826,,,0,"Support editable virtualenv installation for development

An editable installation allows changes to be made to the source code
directly, and have those changes applied immediately without having to
reinstall.

    pip install -e /path/to/kolla-ansible

Change-Id: I023d96d25edd9d2fafd4415743e298af72a861a1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/739116/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla-ansible'],1,5fb37ae58494cda74fba49ade43d082fb6b69288,," if test -f ${VIRTUAL_ENV}/lib/python*/site-packages/kolla-ansible.egg-link; then # Editable install. BASEDIR=""$(head -n1 ${VIRTUAL_ENV}/lib/python*/site-packages/kolla-ansible.egg-link)"" else BASEDIR=""${VIRTUAL_ENV}/share/kolla-ansible"" fi"," BASEDIR=""${VIRTUAL_ENV}/share/kolla-ansible""",6,1
openstack%2Fpuppet-watcher~master~I39e914c199d9bbd9003a2ad12b6d26b59c7b15a5,openstack/puppet-watcher,master,I39e914c199d9bbd9003a2ad12b6d26b59c7b15a5,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-16 09:50:03.000000000,2020-07-16 13:27:50.000000000,2020-07-16 13:26:16.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 09:50:03.000000000', 'files': ['manifests/keystone/authtoken.pp', 'spec/classes/watcher_keystone_authtoken_spec.rb', 'releasenotes/notes/keystone-authtoken-interface-7148ae51c1971a27.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/bf7ecaffb6358a17d973665df2a73ccdeae57682', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I39e914c199d9bbd9003a2ad12b6d26b59c7b15a5\n'}]",0,741418,bf7ecaffb6358a17d973665df2a73ccdeae57682,8,3,1,32114,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I39e914c199d9bbd9003a2ad12b6d26b59c7b15a5
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/18/741418/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/keystone/authtoken.pp', 'spec/classes/watcher_keystone_authtoken_spec.rb', 'releasenotes/notes/keystone-authtoken-interface-7148ae51c1971a27.yaml']",3,bf7ecaffb6358a17d973665df2a73ccdeae57682,at-interface,"--- features: - | The new ``watcher::keystone::authtoken::interface`` parameter has been added, which can be used to set the interface parameter in authtoken middleware. ",,15,0
openstack%2Fdevstack~master~Idf7fdfe3f5800f79f6c48f9d9606a7b53436a730,openstack/devstack,master,Idf7fdfe3f5800f79f6c48f9d9606a7b53436a730,Fix ami/aki image create use of $img_property,MERGED,2020-07-15 21:42:52.000000000,2020-07-16 13:26:36.000000000,2020-07-16 04:54:28.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 21:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1ccda541a257cc83ac8d225f6612168ad65c0c32', 'message': 'Fix ami/aki image create use of $img_property\n\nThis abstracts out the conversion of key=value,... property lists to a function\nand makes both _upload_image() and the two ami/aki image create calls use it. The\nmove to bare key=value properties introduced a regression for ami/aki where\nthe --property flag stopped being passed to osc in that case.\n\nChange-Id: Idf7fdfe3f5800f79f6c48f9d9606a7b53436a730\n'}, {'number': 2, 'created': '2020-07-15 21:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5189b246bc503fd69f4815906a571495e196962e', 'message': 'Fix ami/aki image create use of $img_property\n\nThis abstracts out the conversion of key=value,... property lists to a function\nand makes both _upload_image() and the two ami/aki image create calls use it. The\nmove to bare key=value properties introduced a regression for ami/aki where\nthe --property flag stopped being passed to osc in that case.\n\nChange-Id: Idf7fdfe3f5800f79f6c48f9d9606a7b53436a730\n'}, {'number': 3, 'created': '2020-07-16 00:27:02.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2614c1bba103cb88c9a88a1dfe9c6af7ccc1cc55', 'message': 'Fix ami/aki image create use of $img_property\n\nThis abstracts out the conversion of key=value,... property lists to a function\nand makes both _upload_image() and the two ami/aki image create calls use it. The\nmove to bare key=value properties introduced a regression for ami/aki where\nthe --property flag stopped being passed to osc in that case.\n\nChange-Id: Idf7fdfe3f5800f79f6c48f9d9606a7b53436a730\n'}]",2,741326,2614c1bba103cb88c9a88a1dfe9c6af7ccc1cc55,12,2,3,4393,,,0,"Fix ami/aki image create use of $img_property

This abstracts out the conversion of key=value,... property lists to a function
and makes both _upload_image() and the two ami/aki image create calls use it. The
move to bare key=value properties introduced a regression for ami/aki where
the --property flag stopped being passed to osc in that case.

Change-Id: Idf7fdfe3f5800f79f6c48f9d9606a7b53436a730
",git fetch https://review.opendev.org/openstack/devstack refs/changes/26/741326/1 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,1ccda541a257cc83ac8d225f6612168ad65c0c32,fix-image-property,"function _image_properties_to_arg { local result="""" for property in $*; do result+=""$result --property $property"" done echo $result } properties=$(_image_properties_to_arg $*) kernel_id=$(openstack --os-cloud=devstack-admin --os-region-name=""$REGION_NAME"" image create ""$image_name-kernel"" $(_image_properties_to_arg $img_property) --public --container-format aki --disk-format aki < ""$kernel"" | grep ' id ' | get_field 2) ramdisk_id=$(openstack --os-cloud=devstack-admin --os-region-name=""$REGION_NAME"" image create ""$image_name-ramdisk"" $(_image_properties_to_arg $img_property) --public --container-format ari --disk-format ari < ""$ramdisk"" | grep ' id ' | get_field 2)"," for prop in $*; do properties+="" --property $prop"" done kernel_id=$(openstack --os-cloud=devstack-admin --os-region-name=""$REGION_NAME"" image create ""$image_name-kernel"" $img_property --public --container-format aki --disk-format aki < ""$kernel"" | grep ' id ' | get_field 2) ramdisk_id=$(openstack --os-cloud=devstack-admin --os-region-name=""$REGION_NAME"" image create ""$image_name-ramdisk"" $img_property --public --container-format ari --disk-format ari < ""$ramdisk"" | grep ' id ' | get_field 2)",11,5
openstack%2Ftripleo-quickstart-extras~master~Ia1fa2fd02e4a1ae32cf98bcec25bacc62d407d2d,openstack/tripleo-quickstart-extras,master,Ia1fa2fd02e4a1ae32cf98bcec25bacc62d407d2d,Replace openstack.org with opendev.org,ABANDONED,2020-07-15 21:04:20.000000000,2020-07-16 13:21:20.000000000,,"[{'_account_id': 6926}, {'_account_id': 8175}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-15 21:04:20.000000000', 'files': ['roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2', 'roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2', 'roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0417ceb25e433cf577c8db834cfaa52c0005a8ab', 'message': 'Replace openstack.org with opendev.org\n\nAs mirror was moved to another domain this patch fix the behaviour of\nquickstart on libvirt\n\nChange-Id: Ia1fa2fd02e4a1ae32cf98bcec25bacc62d407d2d\n'}]",0,741318,0417ceb25e433cf577c8db834cfaa52c0005a8ab,5,6,1,11090,,,0,"Replace openstack.org with opendev.org

As mirror was moved to another domain this patch fix the behaviour of
quickstart on libvirt

Change-Id: Ia1fa2fd02e4a1ae32cf98bcec25bacc62d407d2d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/18/741318/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2', 'roles/create-zuul-based-reproducer/templates/reproducer-zuul-based-quickstart.sh.j2', 'roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2']",3,0417ceb25e433cf577c8db834cfaa52c0005a8ab,opendev.org,# -e mirror_path=mirror.mtl01.inap.opendev.org,# -e mirror_path=mirror.mtl01.inap.openstack.org,3,3
openstack%2Fcinder~master~I90c0df9460f2eddc21fa33b00a7b5f4f4467572a,openstack/cinder,master,I90c0df9460f2eddc21fa33b00a7b5f4f4467572a,Migrate tempest job to zuul v3 native,ABANDONED,2018-09-05 16:02:14.000000000,2020-07-16 13:20:45.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2018-09-05 16:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/662d711dc132571ca811ef8209b9e599e6b68afa', 'message': 'Migrate tempest job to zuul v3 native\n\nThis commit migrates legacy cinder tempest job to zuulv3 native syntax.\n\nChange-Id: I90c0df9460f2eddc21fa33b00a7b5f4f4467572a\n'}, {'number': 2, 'created': '2018-09-05 16:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/13841262e4280282b24b05dadd503be489b62923', 'message': 'Migrate tempest job to zuul v3 native\n\nThis commit migrates legacy cinder tempest job to zuulv3 native syntax.\n\nChange-Id: I90c0df9460f2eddc21fa33b00a7b5f4f4467572a\n'}, {'number': 3, 'created': '2019-07-19 12:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0cec822f2b69e6f7fa6a6d0caf17c3386ab1d12d', 'message': 'Migrate tempest job to zuul v3 native\n\nThis commit migrates legacy cinder tempest job to zuulv3 native syntax.\n\nWhile the job has been renamed to follow the current naming standard,\nan alias job which uses the old name has been retained to not break\nan os-brick job.\n\nCo-Authored-By: Luigi Toscano <ltoscano@redhat.com>\nChange-Id: I90c0df9460f2eddc21fa33b00a7b5f4f4467572a\n'}, {'number': 4, 'created': '2019-07-19 12:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c9b03ebcbfd72671d4e600b527b88d1b170accb', 'message': 'Migrate tempest job to zuul v3 native\n\nThis commit migrates legacy cinder tempest job to zuulv3 native syntax.\n\nWhile the job has been renamed to follow the current naming standard,\nan alias job which uses the old name has been retained to not break\nan os-brick job.\n\nCo-Authored-By: Luigi Toscano <ltoscano@redhat.com>\nChange-Id: I90c0df9460f2eddc21fa33b00a7b5f4f4467572a\n'}, {'number': 5, 'created': '2019-07-19 21:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb16877d9ba231c8cb0680a0653c5fe79a29407b', 'message': 'Migrate tempest job to zuul v3 native\n\nThis commit migrates legacy cinder tempest job to zuulv3 native syntax.\n\nWhile the job has been renamed to follow the current naming standard,\nan alias job which uses the old name has been retained to not break\nan os-brick job.\n\nCo-Authored-By: Luigi Toscano <ltoscano@redhat.com>\nChange-Id: I90c0df9460f2eddc21fa33b00a7b5f4f4467572a\n'}, {'number': 6, 'created': '2019-07-20 15:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a7b8cfb7c58e6d1511e1cac9edab3ec608938b4', 'message': 'Migrate tempest job to zuul v3 native\n\nThis commit migrates legacy cinder tempest job to zuulv3 native syntax.\n\nWhile the job has been renamed to follow the current naming standard,\nan alias job which uses the old name has been retained to not break\nan os-brick job.\n\nCo-Authored-By: Luigi Toscano <ltoscano@redhat.com>\nChange-Id: I90c0df9460f2eddc21fa33b00a7b5f4f4467572a\n'}, {'number': 7, 'created': '2019-07-20 17:23:45.000000000', 'files': ['tempest_blacklist.txt', 'playbooks/legacy/cinder-tempest-dsvm-lvm-lio-barbican/post.yaml', 'playbooks/legacy/cinder-tempest-dsvm-lvm-lio-barbican/run.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2eeb03360315c6723d22bd27716ada7e2a98243d', 'message': 'Migrate tempest job to zuul v3 native\n\nThis commit migrates legacy cinder tempest job to zuulv3 native syntax.\n\nWhile the job has been renamed to follow the current naming standard,\nan alias job which uses the old name has been retained to not break\nan os-brick job.\n\nCo-Authored-By: Luigi Toscano <ltoscano@redhat.com>\nChange-Id: I90c0df9460f2eddc21fa33b00a7b5f4f4467572a\n'}]",4,600105,2eeb03360315c6723d22bd27716ada7e2a98243d,85,34,7,14885,,,0,"Migrate tempest job to zuul v3 native

This commit migrates legacy cinder tempest job to zuulv3 native syntax.

While the job has been renamed to follow the current naming standard,
an alias job which uses the old name has been retained to not break
an os-brick job.

Co-Authored-By: Luigi Toscano <ltoscano@redhat.com>
Change-Id: I90c0df9460f2eddc21fa33b00a7b5f4f4467572a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/600105/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/cinder-tempest-dsvm-lvm-lio-barbican/post.yaml', 'playbooks/legacy/cinder-tempest-dsvm-lvm-lio-barbican/run.yaml', '.zuul.yaml']",3,662d711dc132571ca811ef8209b9e599e6b68afa,zuulv3_native_jobs," - cinder-tempest-lvm-lio-barbican - job: name: cinder-tempest-barbican parent: devtack-tempest description: Cinder tempest job with lvm, lio and barbican host-vars: controller: devstack-plugins: barbican: https://git.openstack.org/openstack/barbican vars: tox_envlist: 'all' tempest_test_regex: '(^tempest\.(api|scenario)|(^cinder\.tests.tempest))' devstack_localrc: CINDER_ISCSI_HELPER=lioadm CINDER_LVM_TYPE=thin zuul_copy_output: '{{ ansible_user_dir }}/workspace/': 'logs'", - cinder-tempest-dsvm-lvm-lio-barbican- job: # Previously named legacy-tempest-dsvm-full-lio name: cinder-tempest-dsvm-lvm-lio-barbican parent: legacy-dsvm-base run: playbooks/legacy/cinder-tempest-dsvm-lvm-lio-barbican/run.yaml post-run: playbooks/legacy/cinder-tempest-dsvm-lvm-lio-barbican/post.yaml,17,102
openstack%2Ftripleo-validations~master~I248fc36ab3b1f4a81a6884b18fba5fcc0cff08ea,openstack/tripleo-validations,master,I248fc36ab3b1f4a81a6884b18fba5fcc0cff08ea,Fix ceph-ansible permissions when checking the repo name,MERGED,2020-06-24 14:03:12.000000000,2020-07-16 13:19:48.000000000,2020-07-16 13:19:48.000000000,"[{'_account_id': 6796}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 17126}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-06-24 14:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/30152d51465561d13373a973742fe45219c54394', 'message': 'Fix ceph-ansible permissions when checking the repo name\n\nThe purpose of this fix is to address a bug hit during\nupgrades: in order to run yum info the current user should\nbe able to download metadata for repositories and a privileges\nescalation is required by pkg manager.\n\nChange-Id: I248fc36ab3b1f4a81a6884b18fba5fcc0cff08ea\n'}, {'number': 2, 'created': '2020-07-06 16:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a87793fcd97fb8884f92f436d1e57a44fbb62cd3', 'message': 'Fix ceph-ansible permissions when checking the repo name\n\nThe purpose of this fix is to address a bug hit during\nupgrades: in order to run yum info the current user should\nbe able to download metadata for repositories and a privileges\nescalation is required by pkg manager.\n\nChange-Id: I248fc36ab3b1f4a81a6884b18fba5fcc0cff08ea\n'}, {'number': 3, 'created': '2020-07-10 09:20:45.000000000', 'files': ['roles/ceph/tasks/ceph-ansible-installed.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9315f04b0cb6e6bfd3ee82b1e5f479403e8c7c38', 'message': 'Fix ceph-ansible permissions when checking the repo name\n\nThe purpose of this fix is to address a bug hit during\nupgrades: in order to run yum info the current user should\nbe able to download metadata for repositories and a privileges\nescalation is required by pkg manager.\n\nChange-Id: I248fc36ab3b1f4a81a6884b18fba5fcc0cff08ea\n'}]",0,737802,9315f04b0cb6e6bfd3ee82b1e5f479403e8c7c38,33,9,3,25402,,,0,"Fix ceph-ansible permissions when checking the repo name

The purpose of this fix is to address a bug hit during
upgrades: in order to run yum info the current user should
be able to download metadata for repositories and a privileges
escalation is required by pkg manager.

Change-Id: I248fc36ab3b1f4a81a6884b18fba5fcc0cff08ea
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/02/737802/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ceph/tasks/ceph-ansible-installed.yaml'],1,30152d51465561d13373a973742fe45219c54394,, become: true,,1,0
openstack%2Foctavia-tempest-plugin~master~I11aab764763a12e4e4434ce99ae47ab02e5b033e,openstack/octavia-tempest-plugin,master,I11aab764763a12e4e4434ce99ae47ab02e5b033e,Set test_basic_traffic as smoke test,MERGED,2020-06-05 13:27:33.000000000,2020-07-16 13:16:46.000000000,2020-07-16 13:14:43.000000000,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-05 13:27:33.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c9227dfb6cae540c25c5922602fd57fbc0c1f527', 'message': 'Set test_basic_traffic as smoke test\n\nSmoke tests cover the most basic functionality and help save time if\nthey do identify a problem. Test test_basic_traffic is a good candidate\nto be defined as a smoke test [1]. We also set attribute ""slow"" [2] to\nsignal that the test takes a long time to run.\n\n[1] https://docs.openstack.org/tempest/latest/HACKING.html#smoke-attribute\n[2] https://docs.openstack.org/tempest/latest/HACKING.html#slow-attribute\n\nChange-Id: I11aab764763a12e4e4434ce99ae47ab02e5b033e\n'}]",0,733832,c9227dfb6cae540c25c5922602fd57fbc0c1f527,9,4,1,6469,,,0,"Set test_basic_traffic as smoke test

Smoke tests cover the most basic functionality and help save time if
they do identify a problem. Test test_basic_traffic is a good candidate
to be defined as a smoke test [1]. We also set attribute ""slow"" [2] to
signal that the test takes a long time to run.

[1] https://docs.openstack.org/tempest/latest/HACKING.html#smoke-attribute
[2] https://docs.openstack.org/tempest/latest/HACKING.html#slow-attribute

Change-Id: I11aab764763a12e4e4434ce99ae47ab02e5b033e
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/32/733832/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py'],1,c9227dfb6cae540c25c5922602fd57fbc0c1f527,," @decorators.attr(type=['smoke', 'slow'])",,1,0
openstack%2Foctavia~master~Ia20caacd31ae5a411981a33d9a7f2a6330902760,openstack/octavia,master,Ia20caacd31ae5a411981a33d9a7f2a6330902760,Add non-voting octavia-v2-dsvm-scenario-centos-8,MERGED,2020-07-15 10:31:41.000000000,2020-07-16 13:09:46.000000000,2020-07-16 13:05:55.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-07-15 10:31:41.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1072263b73810133ff2c0e25e4b0a085e8f60f02', 'message': 'Add non-voting octavia-v2-dsvm-scenario-centos-8\n\nRecent change [1] improved the reliability and lowered the job duration\nsignificatly (as low as 41m39s per a recent run) [2]. This enables us to\nmore comfortably (less wait time) and confidently (less timeouts) run\nscenario tests on CentOS 8.\n\nShould this job prove to have a record of being stable for a reasonable\namount of time/builds, we can follow up with a patch to promote it to\nvoting.\n\n[1] https://review.opendev.org/#/c/738246/\n[2] https://zuul.openstack.org/builds?job_name=octavia-v2-dsvm-scenario-centos-8\n\nChange-Id: Ia20caacd31ae5a411981a33d9a7f2a6330902760\n'}]",0,741147,1072263b73810133ff2c0e25e4b0a085e8f60f02,9,4,1,6469,,,0,"Add non-voting octavia-v2-dsvm-scenario-centos-8

Recent change [1] improved the reliability and lowered the job duration
significatly (as low as 41m39s per a recent run) [2]. This enables us to
more comfortably (less wait time) and confidently (less timeouts) run
scenario tests on CentOS 8.

Should this job prove to have a record of being stable for a reasonable
amount of time/builds, we can follow up with a patch to promote it to
voting.

[1] https://review.opendev.org/#/c/738246/
[2] https://zuul.openstack.org/builds?job_name=octavia-v2-dsvm-scenario-centos-8

Change-Id: Ia20caacd31ae5a411981a33d9a7f2a6330902760
",git fetch https://review.opendev.org/openstack/octavia refs/changes/47/741147/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,1072263b73810133ff2c0e25e4b0a085e8f60f02,centos8, - octavia-v2-dsvm-scenario-centos-8: irrelevant-files: *irrelevant-files voting: false,,3,0
openstack%2Fneutron~stable%2Fussuri~I7cbb0e87a7e87f23ccf5d8750835b4785693473a,openstack/neutron,stable/ussuri,I7cbb0e87a7e87f23ccf5d8750835b4785693473a,Optionally use admin powers when deleting DNS records,MERGED,2020-07-13 11:31:20.000000000,2020-07-16 13:01:39.000000000,2020-07-16 12:59:23.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 11:31:20.000000000', 'files': ['releasenotes/notes/bug-1875981-ec32d8c3918b0dd4.yaml', 'neutron/services/externaldns/drivers/designate/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c172235f585be07bc01df9de470405c20d062bec', 'message': 'Optionally use admin powers when deleting DNS records\n\nThis resolves a bug that causes stale records to be kept in place when\nan admin deletes a port, server or floating IP that was created in some\nproject other than the admin project.\n\nChange-Id: I7cbb0e87a7e87f23ccf5d8750835b4785693473a\nCloses-Bug: #1875981\n(cherry picked from commit 622714b63e08feaba4e81d218541319d2ffada30)\n'}]",0,740675,c172235f585be07bc01df9de470405c20d062bec,19,5,1,13252,,,0,"Optionally use admin powers when deleting DNS records

This resolves a bug that causes stale records to be kept in place when
an admin deletes a port, server or floating IP that was created in some
project other than the admin project.

Change-Id: I7cbb0e87a7e87f23ccf5d8750835b4785693473a
Closes-Bug: #1875981
(cherry picked from commit 622714b63e08feaba4e81d218541319d2ffada30)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/740675/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1875981-ec32d8c3918b0dd4.yaml', 'neutron/services/externaldns/drivers/designate/driver.py']",2,c172235f585be07bc01df9de470405c20d062bec,bug/1875981-stable/ussuri,"def get_all_projects_client(context): auth = token_endpoint.Token(CONF.designate.url, context.auth_token) return d_client.Client(session=_SESSION, auth=auth, all_projects=True) client, admin_client = get_clients(context) try: ids_to_delete = self._get_ids_ips_to_delete( dns_domain, '%s.%s' % (dns_name, dns_domain), records, client) except dns_exc.DNSDomainNotFound: # Try whether we have admin powers and can see all projects client = get_all_projects_client(context) ids_to_delete = self._get_ids_ips_to_delete( dns_domain, '%s.%s' % (dns_name, dns_domain), records, client) for _id in ids_to_delete: client.recordsets.delete(dns_domain, _id) admin_client.recordsets.delete(in_addr_zone_name, in_addr_name)"," designate, designate_admin = get_clients(context) ids_to_delete = self._get_ids_ips_to_delete( dns_domain, '%s.%s' % (dns_name, dns_domain), records, designate) for _id in ids_to_delete: designate.recordsets.delete(dns_domain, _id) designate_admin.recordsets.delete(in_addr_zone_name, in_addr_name)",23,5
openstack%2Fpuppet-freezer~master~I451c224457b20f01c72283ca022024679aff9d07,openstack/puppet-freezer,master,I451c224457b20f01c72283ca022024679aff9d07,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-16 00:57:24.000000000,2020-07-16 12:46:16.000000000,2020-07-16 12:44:19.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 00:57:24.000000000', 'files': ['releasenotes/notes/keystone-authtoken-interface-c736c7af68ae0c72.yaml', 'spec/classes/freezer_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/f0305b8f3d8b53715977ef385fd7fa4f77347eca', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I451c224457b20f01c72283ca022024679aff9d07\n'}]",0,741350,f0305b8f3d8b53715977ef385fd7fa4f77347eca,9,3,1,32114,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I451c224457b20f01c72283ca022024679aff9d07
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/50/741350/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone-authtoken-interface-c736c7af68ae0c72.yaml', 'spec/classes/freezer_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,f0305b8f3d8b53715977ef385fd7fa4f77347eca,at-interface,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin"". # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,15,0
openstack%2Ftripleo-heat-templates~master~I4e0d5d63901cfcabd2b49ccf269f1875de7d93ae,openstack/tripleo-heat-templates,master,I4e0d5d63901cfcabd2b49ccf269f1875de7d93ae,Chasing down last svirt_sandox_file_t,ABANDONED,2020-07-16 08:05:26.000000000,2020-07-16 12:35:52.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-16 08:05:26.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml', 'common/generate-config-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bbff5e860a2c222a4f484042dc5f1eeb4e6c43c7', 'message': 'Chasing down last svirt_sandox_file_t\n\nA previous commit did a huge cleanup in order to converge the file\ncontext to container_file_t - a second pass is needed since some merges\nhappened after, pointing to the old name.\n\nThis patch also replaces the ""chcon"" call with a ""restorecon"", since the\nopenstack-selinux provides the correct fcontext for\n/var/lib/config-data.\n\nWe might want to consider either removing completely, or moving this\nrestorecon to a FFU task though, in order to avoid losing time during\nscaling tasks.\n\nRelated-Bug: 1887721\nChange-Id: I4e0d5d63901cfcabd2b49ccf269f1875de7d93ae\n'}]",0,741398,bbff5e860a2c222a4f484042dc5f1eeb4e6c43c7,6,4,1,28223,,,0,"Chasing down last svirt_sandox_file_t

A previous commit did a huge cleanup in order to converge the file
context to container_file_t - a second pass is needed since some merges
happened after, pointing to the old name.

This patch also replaces the ""chcon"" call with a ""restorecon"", since the
openstack-selinux provides the correct fcontext for
/var/lib/config-data.

We might want to consider either removing completely, or moving this
restorecon to a FFU task though, in order to avoid losing time during
scaling tasks.

Related-Bug: 1887721
Change-Id: I4e0d5d63901cfcabd2b49ccf269f1875de7d93ae
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/741398/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps-playbooks-common.yaml', 'common/generate-config-tasks.yaml']",2,bbff5e860a2c222a4f484042dc5f1eeb4e6c43c7,selinux/bye-bye-svirt_sandbox_file_t, setype: container_file_t, setype: svirt_sandbox_file_t,2,2
openstack%2Fnova~stable%2Frocky~Idf84ccff254d26fa13473fe9741ddac21cbcf321,openstack/nova,stable/rocky,Idf84ccff254d26fa13473fe9741ddac21cbcf321,Reject boot request for unsupported images,MERGED,2020-02-19 10:35:50.000000000,2020-07-16 12:28:25.000000000,2020-07-16 12:25:52.000000000,"[{'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-19 10:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80d294ba905ca97da7cd66df7510fd0dc868144f', 'message': ""Reject boot request for unsupported images\n\nNova has never supported direct booting of an image of an encrypted\nvolume uploaded to Glance via the Cinder upload-volume-to-image\nprocess, but instead of rejecting such a request, an 'active' but\nunusable instance is created.  This patch allows Nova to use image\nmetadata to detect such an image and reject the boot request.\n\nNOTE(lyarwood): conflict as I06fad233006c7bab14749a51ffa226c3801f951b is\nnot present in stable/rocky.\n\nConflicts:\n    nova/compute/api.py\n\nChange-Id: Idf84ccff254d26fa13473fe9741ddac21cbcf321\nRelated-bug: #1852106\nCloses-bug: #1863611\n(cherry picked from commit 963fd8c0f956bdf5c6c8987aa5d9f836386fd5ed)\n(cherry picked from commit 5eebfdec553e839dee426a0286de075318cbe599)\n(cherry picked from commit 51dc6eb40adedd3fb44f4131fbdf6dce0ca00238)\n""}, {'number': 2, 'created': '2020-06-16 10:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9597d8aa6ebf3c223c93b2f5704ecb4200f78fb2', 'message': 'Reject boot request for unsupported images\n\nNova has never supported direct booting of an image of an encrypted\nvolume uploaded to Glance via the Cinder upload-volume-to-image\nprocess, but instead of rejecting such a request, an \'active\' but\nunusable instance is created.  This patch allows Nova to use image\nmetadata to detect such an image and reject the boot request.\n\nConflicts:\n\tnova/compute/api.py\n\nNOTE(lyarwood): conflict as I06fad233006c7bab14749a51ffa226c3801f951b\n(""Add support for translating CPU policy extra specs, image meta"") is\nnot present in stable/rocky.\n\nChange-Id: Idf84ccff254d26fa13473fe9741ddac21cbcf321\nRelated-bug: #1852106\nCloses-bug: #1863611\n(cherry picked from commit 963fd8c0f956bdf5c6c8987aa5d9f836386fd5ed)\n(cherry picked from commit 240d0309023fcaf20df44f819e9b3e14af97f526)\n(cherry picked from commit 6e71909b0b8ad8d20d0863e714cad2a7b120f658)\n'}, {'number': 3, 'created': '2020-07-09 13:05:36.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'releasenotes/notes/cinder-detect-nonbootable-image-6fad7f865b45f879.yaml', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/02551d6d6a3baee49309cffbc3bef2508fcafe72', 'message': 'Reject boot request for unsupported images\n\nNova has never supported direct booting of an image of an encrypted\nvolume uploaded to Glance via the Cinder upload-volume-to-image\nprocess, but instead of rejecting such a request, an \'active\' but\nunusable instance is created.  This patch allows Nova to use image\nmetadata to detect such an image and reject the boot request.\n\nConflicts:\n\tnova/compute/api.py\n\nNOTE(lyarwood): conflict as I06fad233006c7bab14749a51ffa226c3801f951b\n(""Add support for translating CPU policy extra specs, image meta"") is\nnot present in stable/rocky.\n\nChange-Id: Idf84ccff254d26fa13473fe9741ddac21cbcf321\nRelated-bug: #1852106\nCloses-bug: #1863611\n(cherry picked from commit 963fd8c0f956bdf5c6c8987aa5d9f836386fd5ed)\n(cherry picked from commit 240d0309023fcaf20df44f819e9b3e14af97f526)\n(cherry picked from commit 6e71909b0b8ad8d20d0863e714cad2a7b120f658)\n'}]",4,708608,02551d6d6a3baee49309cffbc3bef2508fcafe72,25,8,3,10135,,,0,"Reject boot request for unsupported images

Nova has never supported direct booting of an image of an encrypted
volume uploaded to Glance via the Cinder upload-volume-to-image
process, but instead of rejecting such a request, an 'active' but
unusable instance is created.  This patch allows Nova to use image
metadata to detect such an image and reject the boot request.

Conflicts:
	nova/compute/api.py

NOTE(lyarwood): conflict as I06fad233006c7bab14749a51ffa226c3801f951b
(""Add support for translating CPU policy extra specs, image meta"") is
not present in stable/rocky.

Change-Id: Idf84ccff254d26fa13473fe9741ddac21cbcf321
Related-bug: #1852106
Closes-bug: #1863611
(cherry picked from commit 963fd8c0f956bdf5c6c8987aa5d9f836386fd5ed)
(cherry picked from commit 240d0309023fcaf20df44f819e9b3e14af97f526)
(cherry picked from commit 6e71909b0b8ad8d20d0863e714cad2a7b120f658)
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/708608/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/compute/api.py', 'releasenotes/notes/cinder-detect-nonbootable-image-6fad7f865b45f879.yaml', 'nova/api/openstack/compute/servers.py']",4,80d294ba905ca97da7cd66df7510fd0dc868144f,bug/1863611," exception.ImageUnacceptable,",,52,0
openstack%2Fneutron~stable%2Fstein~I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f,openstack/neutron,stable/stein,I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f,Ensure that stale flows are cleaned from phys_bridges,MERGED,2020-05-26 13:46:15.000000000,2020-07-16 12:28:08.000000000,2020-07-16 12:25:47.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-05-26 13:46:15.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6cf718c5056c1d9ea5dbc40a1b41b3f3a16d00a5', 'message': 'Ensure that stale flows are cleaned from phys_bridges\n\nIn case when neutron-ovs-agent will notice that any of physical\nbridges was ""re-created"", we should also ensure that stale Open\nFlow rules (with old cookie id) are cleaned.\nThis patch is doing exactly that.\n\nChange-Id: I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f\nRelated-Bug: #1864822\n(cherry picked from commit 63c45b37666efc7fb33fc154fa828050b3dc7945)\n'}]",0,730823,6cf718c5056c1d9ea5dbc40a1b41b3f3a16d00a5,24,6,1,11975,,,0,"Ensure that stale flows are cleaned from phys_bridges

In case when neutron-ovs-agent will notice that any of physical
bridges was ""re-created"", we should also ensure that stale Open
Flow rules (with old cookie id) are cleaned.
This patch is doing exactly that.

Change-Id: I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f
Related-Bug: #1864822
(cherry picked from commit 63c45b37666efc7fb33fc154fa828050b3dc7945)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/730823/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,6cf718c5056c1d9ea5dbc40a1b41b3f3a16d00a5,bug/1864822-stable/ussuri-stable/train-stable/stein," if bridges_recreated: # In case when any bridge was ""re-created"", we need to ensure # that there is no any stale flows in bridges left need_clean_stale_flow = True if need_clean_stale_flow: self.cleanup_stale_flows() need_clean_stale_flow = False LOG.info(""Agent rpc_loop - iteration:%(iter_num)d - "" ""cleanup stale flows. Elapsed:%(elapsed).3f"", {'iter_num': self.iter_num, 'elapsed': time.time() - start}) ", if need_clean_stale_flow: self.cleanup_stale_flows() need_clean_stale_flow = False,12,3
openstack%2Fneutron~stable%2Ftrain~I689d5135b7194475c846731d846ccf6b25b80b4a,openstack/neutron,stable/train,I689d5135b7194475c846731d846ccf6b25b80b4a,[DVR] Related routers should be included if are requested,MERGED,2020-07-10 13:30:14.000000000,2020-07-16 12:27:35.000000000,2020-07-16 12:25:44.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-10 13:30:14.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ae7b0f189d58e45ba9b2ec72f148e230d632ab3', 'message': '[DVR] Related routers should be included if are requested\n\nIn case when related dvr router is configured by L3 agent, it is first\nadded to the tasks queue and then processed as any other router hosted\non the L3 agent.\nBut if L3 agent will ask neutron server about details of such router,\nit wasn\'t returned back as this router wasn\'t really scheduled to the\ncompute node which was asking for it. It was ""only"" related to some\nother router scheduled to this compute node. Because of that router\'s\ninfo wasn\'t found in reply from the neutron-server and L3 agent was\nremoving it from the compute node.\n\nNow _get_router_ids_for_agent method from the l3_dvrscheduler_db module\nwill check router serviceable ports for each dvr router hosted on the\ncompute node and will then find all routers related to it. Thanks to\nthat it will return routers which are on the compute node only because\nof other related routers scheduled to this host and such router will not\nbe deleted anymore.\n\nChange-Id: I689d5135b7194475c846731d846ccf6b25b80b4a\nCloses-Bug: #1884527\n(cherry picked from commit 38286dbd2e35f1f94bf06b5f1cfa9227e5d402c6)\n'}]",0,740460,3ae7b0f189d58e45ba9b2ec72f148e230d632ab3,18,5,1,11975,,,0,"[DVR] Related routers should be included if are requested

In case when related dvr router is configured by L3 agent, it is first
added to the tasks queue and then processed as any other router hosted
on the L3 agent.
But if L3 agent will ask neutron server about details of such router,
it wasn't returned back as this router wasn't really scheduled to the
compute node which was asking for it. It was ""only"" related to some
other router scheduled to this compute node. Because of that router's
info wasn't found in reply from the neutron-server and L3 agent was
removing it from the compute node.

Now _get_router_ids_for_agent method from the l3_dvrscheduler_db module
will check router serviceable ports for each dvr router hosted on the
compute node and will then find all routers related to it. Thanks to
that it will return routers which are on the compute node only because
of other related routers scheduled to this host and such router will not
be deleted anymore.

Change-Id: I689d5135b7194475c846731d846ccf6b25b80b4a
Closes-Bug: #1884527
(cherry picked from commit 38286dbd2e35f1f94bf06b5f1cfa9227e5d402c6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/740460/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py']",2,3ae7b0f189d58e45ba9b2ec72f148e230d632ab3,bug/1884527-stable/ussuri-stable/train," def test__get_router_ids_for_agent_related_router(self): router1 = self._create_router() router2 = self._create_router() router3 = self._create_router() arg_list = (portbindings.HOST_ID,) dvr_l3_agent = helpers.register_l3_agent( host=""host1"", agent_mode=constants.L3_AGENT_MODE_DVR) host = dvr_l3_agent['host'] with self.subnet() as wan_subnet,\ self.subnet(cidr='20.0.0.0/24') as subnet1,\ self.subnet(cidr='30.0.0.0/24') as subnet2,\ self.subnet(cidr='40.0.0.0/24') as subnet3,\ self.port(subnet=wan_subnet) as wan_port1,\ self.port(subnet=wan_subnet) as wan_port2,\ self.port(subnet=subnet1, device_owner=constants.DEVICE_OWNER_DHCP, arg_list=arg_list, **{portbindings.HOST_ID: host}): self.l3_plugin.add_router_interface( self.context, router1['id'], {'subnet_id': subnet1['subnet']['id']}) self.l3_plugin.add_router_interface( self.context, router2['id'], {'subnet_id': subnet2['subnet']['id']}) # Router3 is here just to be sure that it will not be returned as # is not related to the router1 and router2 in any way self.l3_plugin.add_router_interface( self.context, router3['id'], {'subnet_id': subnet3['subnet']['id']}) self.l3_plugin.add_router_interface( self.context, router1['id'], {'port_id': wan_port1['port']['id']}) self.l3_plugin.add_router_interface( self.context, router2['id'], {'port_id': wan_port2['port']['id']}) ids = self.l3_plugin._get_router_ids_for_agent( self.context, dvr_l3_agent, []) self.assertEqual({router1['id'], router2['id']}, set(ids)) ids = self.l3_plugin._get_router_ids_for_agent( self.context, dvr_l3_agent, [router2['id']]) self.assertEqual({router1['id'], router2['id']}, set(ids)) ids = self.l3_plugin._get_router_ids_for_agent( self.context, dvr_l3_agent, [router1['id']]) self.assertEqual({router1['id'], router2['id']}, set(ids)) ",,65,4
openstack%2Fwatcher~stable%2Fussuri~I7c0ca760a7fa414faca03c5293df34a84aad6fac,openstack/watcher,stable/ussuri,I7c0ca760a7fa414faca03c5293df34a84aad6fac,Watcher API supports strategy name when creating audit template,MERGED,2020-07-10 01:15:40.000000000,2020-07-16 12:02:09.000000000,2020-07-16 12:00:17.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 31455}]","[{'number': 1, 'created': '2020-07-10 01:15:40.000000000', 'files': ['watcher/tests/api/v1/test_audit_templates.py', 'watcher/api/controllers/v1/audit_template.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/0543ccfe746cc2e0d7c08012181167744083fe52', 'message': 'Watcher API supports strategy name when creating audit template\n\nwhen directly using the `curl` command to create audit template,\nstrategy name can be accepted.\n\nCloses-Bug: #1884174\n\nChange-Id: I7c0ca760a7fa414faca03c5293df34a84aad6fac\n(cherry picked from commit 3f7a508a2e3aedb5c88c4cb15f9d5b93b4793cf5)\n'}]",0,740386,0543ccfe746cc2e0d7c08012181167744083fe52,8,3,1,21692,,,0,"Watcher API supports strategy name when creating audit template

when directly using the `curl` command to create audit template,
strategy name can be accepted.

Closes-Bug: #1884174

Change-Id: I7c0ca760a7fa414faca03c5293df34a84aad6fac
(cherry picked from commit 3f7a508a2e3aedb5c88c4cb15f9d5b93b4793cf5)
",git fetch https://review.opendev.org/openstack/watcher refs/changes/86/740386/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/tests/api/v1/test_audit_templates.py', 'watcher/api/controllers/v1/audit_template.py']",2,0543ccfe746cc2e0d7c08012181167744083fe52,bug/1884174-stable/ussuri," try: if (common_utils.is_uuid_like(audit_template.strategy) or common_utils.is_int_like(audit_template.strategy)): strategy = objects.Strategy.get( AuditTemplatePostType._ctx, audit_template.strategy) else: strategy = objects.Strategy.get_by_name( AuditTemplatePostType._ctx, audit_template.strategy) except Exception: available_strategies = objects.Strategy.list( AuditTemplatePostType._ctx)", available_strategies = objects.Strategy.list( AuditTemplatePostType._ctx) available_strategies_map = { s.uuid: s for s in available_strategies} if audit_template.strategy not in available_strategies_map: strategy = available_strategies_map[audit_template.strategy],40,6
openstack%2Fwatcher~stable%2Ftrain~I7c0ca760a7fa414faca03c5293df34a84aad6fac,openstack/watcher,stable/train,I7c0ca760a7fa414faca03c5293df34a84aad6fac,Watcher API supports strategy name when creating audit template,MERGED,2020-07-10 01:16:19.000000000,2020-07-16 12:02:04.000000000,2020-07-16 12:00:18.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 31455}]","[{'number': 1, 'created': '2020-07-10 01:16:19.000000000', 'files': ['watcher/tests/api/v1/test_audit_templates.py', 'watcher/api/controllers/v1/audit_template.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/70a24cb009e3318c55ca94727f5f6325dc3c8db6', 'message': 'Watcher API supports strategy name when creating audit template\n\nwhen directly using the `curl` command to create audit template,\nstrategy name can be accepted.\n\nCloses-Bug: #1884174\n\nChange-Id: I7c0ca760a7fa414faca03c5293df34a84aad6fac\n(cherry picked from commit 3f7a508a2e3aedb5c88c4cb15f9d5b93b4793cf5)\n'}]",0,740387,70a24cb009e3318c55ca94727f5f6325dc3c8db6,8,3,1,21692,,,0,"Watcher API supports strategy name when creating audit template

when directly using the `curl` command to create audit template,
strategy name can be accepted.

Closes-Bug: #1884174

Change-Id: I7c0ca760a7fa414faca03c5293df34a84aad6fac
(cherry picked from commit 3f7a508a2e3aedb5c88c4cb15f9d5b93b4793cf5)
",git fetch https://review.opendev.org/openstack/watcher refs/changes/87/740387/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/tests/api/v1/test_audit_templates.py', 'watcher/api/controllers/v1/audit_template.py']",2,70a24cb009e3318c55ca94727f5f6325dc3c8db6,bug/1884174-stable/train," try: if (common_utils.is_uuid_like(audit_template.strategy) or common_utils.is_int_like(audit_template.strategy)): strategy = objects.Strategy.get( AuditTemplatePostType._ctx, audit_template.strategy) else: strategy = objects.Strategy.get_by_name( AuditTemplatePostType._ctx, audit_template.strategy) except Exception: available_strategies = objects.Strategy.list( AuditTemplatePostType._ctx)", available_strategies = objects.Strategy.list( AuditTemplatePostType._ctx) available_strategies_map = { s.uuid: s for s in available_strategies} if audit_template.strategy not in available_strategies_map: strategy = available_strategies_map[audit_template.strategy],40,6
openstack%2Fcharm-watcher~master~I6128fb64e4f1b2b4eb62ee70aef2de458cb37a4b,openstack/charm-watcher,master,I6128fb64e4f1b2b4eb62ee70aef2de458cb37a4b,Ensure that the charm expects python3,MERGED,2020-05-04 15:38:35.000000000,2020-07-16 11:33:14.000000000,2020-07-16 11:33:14.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-04 15:38:35.000000000', 'files': ['src/lib/charm/openstack/watcher.py'], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/9f8538fdfe10dfb2d05a0cd5097ff79a5ec03cf4', 'message': 'Ensure that the charm expects python3\n\nChange-Id: I6128fb64e4f1b2b4eb62ee70aef2de458cb37a4b\n'}]",0,725305,9f8538fdfe10dfb2d05a0cd5097ff79a5ec03cf4,7,3,1,20634,,,0,"Ensure that the charm expects python3

Change-Id: I6128fb64e4f1b2b4eb62ee70aef2de458cb37a4b
",git fetch https://review.opendev.org/openstack/charm-watcher refs/changes/05/725305/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/watcher.py'],1,9f8538fdfe10dfb2d05a0cd5097ff79a5ec03cf4,bug/1871691, python_version = 3 ,,2,0
openstack%2Fnova~master~I3fdfde36641dccfc9de60c25779e60fb9aabba82,openstack/nova,master,I3fdfde36641dccfc9de60c25779e60fb9aabba82,hardware: refactor the code for CPU policy sanity check,MERGED,2020-07-14 09:37:40.000000000,2020-07-16 11:21:47.000000000,2020-07-16 11:18:56.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}, {'_account_id': 30209}]","[{'number': 1, 'created': '2020-07-14 09:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d20b6edfcdea5e190eebab0cb75a6e0f5b594fc1', 'message': ""hardware: refactor the code for CPU policy sanity check\n\nThe code setting the 'dedicated_cpus' for the 'dedicated' policy\ninstance does not belong to the scope of CPU policy sanity check,\nmoving it out of the sanity check block.\n\nAlso removed a note saying 'get_dedicated_cpu_constraint' should\nbe public, which seems not necessary.\n\nThis is a folow-up commit in addressing comments in this topic [1].\n\n[1] https://review.opendev.org/#/c/716267/14/\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3fdfde36641dccfc9de60c25779e60fb9aabba82\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 2, 'created': '2020-07-14 09:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae7348504e93c37e4e4bb9f520a038d7d1c0dcde', 'message': ""hardware: refactor the code for CPU policy sanity check\n\nThe code setting the 'dedicated_cpus' for the 'dedicated' policy\ninstance does not belong to the scope of CPU policy sanity check,\nmoving it out of the sanity check block.\n\nAlso removed a note saying 'get_dedicated_cpu_constraint' should\nbe public, which seems not necessary.\n\nThis is a follow-up commit in addressing comments in this topic [1].\n\n[1] https://review.opendev.org/#/c/716267/14/\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3fdfde36641dccfc9de60c25779e60fb9aabba82\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 3, 'created': '2020-07-14 16:42:29.000000000', 'files': ['nova/virt/hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c4e9e2e06638769796ae2edcadb97ed978b2f5e9', 'message': ""hardware: refactor the code for CPU policy sanity check\n\nThe code setting the 'dedicated_cpus' for the 'dedicated' policy\ninstance does not belong to the scope of CPU policy sanity check,\nmoving it out of the sanity check block.\n\nAlso removed a note saying 'get_dedicated_cpu_constraint' should\nbe public, which seems not necessary.\n\nThis is a follow-up commit in addressing comments in this topic [1].\n\n[1] https://review.opendev.org/#/c/716267/14/\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3fdfde36641dccfc9de60c25779e60fb9aabba82\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}]",0,740925,c4e9e2e06638769796ae2edcadb97ed978b2f5e9,28,11,3,30209,,,0,"hardware: refactor the code for CPU policy sanity check

The code setting the 'dedicated_cpus' for the 'dedicated' policy
instance does not belong to the scope of CPU policy sanity check,
moving it out of the sanity check block.

Also removed a note saying 'get_dedicated_cpu_constraint' should
be public, which seems not necessary.

This is a follow-up commit in addressing comments in this topic [1].

[1] https://review.opendev.org/#/c/716267/14/

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: I3fdfde36641dccfc9de60c25779e60fb9aabba82
Signed-off-by: Wang Huaqiang <huaqiang.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/740925/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/hardware.py'],1,d20b6edfcdea5e190eebab0cb75a6e0f5b594fc1,bp/use-pcpu-and-vcpu-in-one-instance," # If 'hw:cpu_dedicated_mask' is not found in flavor extra specs, the # 'dedicated_cpus' variable is None, while we hope it being an empty set. if cpu_policy == fields.CPUAllocationPolicy.DEDICATED: # But for an instance with 'dedicated' CPU allocation policy, all # CPUs are 'dedicated' CPUs, which is 1:1 pinned to a host CPU. dedicated_cpus = set(range(flavor.vcpus))"," # But for an instance with 'dedicated' CPU allocation policy, all # CPUs are 'dedicated' CPUs, which is 1:1 pinned to a host CPU. dedicated_cpus = set(range(flavor.vcpus))",6,3
openstack%2Fpuppet-neutron~master~Ife7d196883f34aa53e7d6311bdcdb286e8ba275c,openstack/puppet-neutron,master,Ife7d196883f34aa53e7d6311bdcdb286e8ba275c,Create an independent class for nova notifications,MERGED,2020-07-13 06:26:53.000000000,2020-07-16 11:20:12.000000000,2020-07-16 11:18:41.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 06:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/55be326ce1417145d7b643ceab64955c5fe68de3', 'message': 'Create an independent class for nova notifications\n\nThis patch introcues a new class, neutron::server::notifications::nova,\nto manage all configuration parameters for nova notifications.\n\nChange-Id: Ife7d196883f34aa53e7d6311bdcdb286e8ba275c\n'}, {'number': 2, 'created': '2020-07-13 06:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f794e9c218d11491329485f8f032ddadd702a6b0', 'message': 'Create an independent class for nova notifications\n\nThis patch introcues a new class, neutron::server::notifications::nova,\nto manage all configuration parameters for nova notifications.\n\nChange-Id: Ife7d196883f34aa53e7d6311bdcdb286e8ba275c\n'}, {'number': 3, 'created': '2020-07-13 07:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/77bc9463220fb75fc9dd68b41867d2c0cafb37fe', 'message': 'Create an independent class for nova notifications\n\nThis patch introcues a new class, neutron::server::notifications::nova,\nto manage all configuration parameters for nova notifications.\n\nChange-Id: Ife7d196883f34aa53e7d6311bdcdb286e8ba275c\n'}, {'number': 4, 'created': '2020-07-13 07:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/da8e9a28359062cd56c6581beefd7d5b65237b1c', 'message': 'Create an independent class for nova notifications\n\nThis patch introcues a new class, neutron::server::notifications::nova,\nto manage all configuration parameters for nova notifications.\n\nChange-Id: Ife7d196883f34aa53e7d6311bdcdb286e8ba275c\n'}, {'number': 5, 'created': '2020-07-13 09:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/d9958cb6a3d4fcae24c40b9f8b43a6aa6efd19f6', 'message': 'Create an independent class for nova notifications\n\nThis patch introcues a new class, neutron::server::notifications::nova,\nto manage all configuration parameters for nova notifications.\n\nChange-Id: Ife7d196883f34aa53e7d6311bdcdb286e8ba275c\n'}, {'number': 6, 'created': '2020-07-13 11:21:42.000000000', 'files': ['spec/classes/neutron_server_notifications_nova_spec.rb', 'spec/classes/neutron_server_notifications_spec.rb', 'manifests/server/notifications.pp', 'releasenotes/notes/server-notifications-nova-4df35db13a4f85c8.yaml', 'manifests/server/notifications/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4638137d449082cd95931bd792aa631ff39ca78f', 'message': 'Create an independent class for nova notifications\n\nThis patch introcues a new class, neutron::server::notifications::nova,\nto manage all configuration parameters for nova notifications.\n\nNote that the default values for notify_nova_on_port_status_changes and\nnotify_nova_on_data_status_changes are set to $::os_service_default in\nthis change, to use the default values defined in neutron (True)\ninstead of overriding it in puppet-neutron.\n\nChange-Id: Ife7d196883f34aa53e7d6311bdcdb286e8ba275c\n'}]",0,740616,4638137d449082cd95931bd792aa631ff39ca78f,17,4,6,9816,,,0,"Create an independent class for nova notifications

This patch introcues a new class, neutron::server::notifications::nova,
to manage all configuration parameters for nova notifications.

Note that the default values for notify_nova_on_port_status_changes and
notify_nova_on_data_status_changes are set to $::os_service_default in
this change, to use the default values defined in neutron (True)
instead of overriding it in puppet-neutron.

Change-Id: Ife7d196883f34aa53e7d6311bdcdb286e8ba275c
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/16/740616/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_server_notifications_nova_spec.rb', 'spec/classes/neutron_server_notifications_spec.rb', 'manifests/server/notifications.pp', 'releasenotes/notes/server-notifications-nova-4df35db13a4f85c8.yaml', 'manifests/server/notifications/nova.pp']",5,55be326ce1417145d7b643ceab64955c5fe68de3,notifications-nova,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: neutron::server::notifications::nova # # Configure service credentials to notify nova # # === Parameters # # [*password*] # (required) Password for connection to nova in admin context. # # [*notify_nova_on_port_status_changes*] # (optional) Send notification to nova when port status is active. # Defaults to true # # [*notify_nova_on_port_data_changes*] # (optional) Send notifications to nova when port data (fixed_ips/floatingips) # change so nova can update its cache. # Defaults to true # # [*auth_type*] # (optional) An authentication type to use with an OpenStack Identity server. # The value should contain auth plugin name # Defaults to 'password' # # [*username*] # (optional) Username for connection to nova in admin context # Defaults to 'nova' # # [*project_domain_name*] # (Optional) Name of domain for $project_name # Defaults to 'Default' # # [*project_name*] # (optional) Nova project's name # Defaults to 'services' # # [*user_domain_name*] # (Optional) Name of domain for $username # Defaults to 'Default' # # [*auth_url*] # (optional) Authorization URL for connection to nova in admin context. # If version independent identity plugin is used available versions will be # determined using auth_url # Defaults to 'http://127.0.0.1:5000' # # [*region_name*] # (optional) Name of nova region to use. Useful if keystone manages more than # one region. # Defaults to $::os_service_default # # [*endpoint_type*] # (optional) The type of nova endpoint to use when looking up in # the keystone catalog. # Defaults to $::os_service_default # class neutron::server::notifications::nova ( $password = undef, $notify_nova_on_port_status_changes = true, $notify_nova_on_port_data_changes = true, $auth_type = 'password', $username = 'nova', $project_domain_name = 'Default', $project_name = 'services', $user_domain_name = 'Default', $auth_url = 'http://127.0.0.1:5000', $region_name = $::os_service_default, $endpoint_type = $::os_service_default, ) { include neutron::deps $password_real = pick($::neutron::server::notifications::password, $password) if $password_real == undef { fail('password should be set') } $auth_type_real = pick($::neutron::server::notifications::auth_type, $auth_type) $username_real = pick($::neutron::server::notifications::username, $username) $project_name_real = pick($::neutron::server::notifications::project_name, $project_name) $user_domain_name_real = pick( $::neutron::server::notifications::user_domain_name, $user_domain_name) $project_dmain_name_real = pick( $::neutron::server::notifications::project_domain_name, $project_domain_name) $auth_url_real = pick($::neutron::server::notifications::auth_url, $auth_url) $region_name_real = pick($::neutron::server::notifications::region)name, $region_name) $endpoint_type_real = pick($::neutron::server::notifications::endpoint_type, $endpoint_type) neutron_config { 'nova/auth_url': value => $auth_url_real; 'nova/username': value => $username_real; 'nova/password': value => $password_real, secret => true; 'nova/project_domain_name': value => $project_domain_name_real; 'nova/project_name': value => $project_name_real; 'nova/user_domain_name': value => $user_domain_name_real; 'nova/region_name': value => $region_name_real; 'nova/endpoint_type': value => $endpoint_type_real; 'nova/auth_type': value => $auth_type_real; } $notify_nova_on_port_status_changes_real = pick( $::neutron::server::notifications::notify_nova_on_port_status_changes, $notify_nova_on_port_status_changes) $notify_nova_on_port_data_changes_real = pick( $::neutron::server::notifications::notify_nova_on_port_data_changes, $notify_nova_on_port_data_changes) neutron_config { 'DEFAULT/notify_nova_on_port_status_changes': value => $notify_nova_on_port_status_changes_real; 'DEFAULT/notify_nova_on_port_data_changes': value => $notify_nova_on_port_data_changes_real; } } ",,308,117
openstack%2Fdevstack~master~Ie55de13b34e7df546bf5e2fa0f1fce5a143a72ad,openstack/devstack,master,Ie55de13b34e7df546bf5e2fa0f1fce5a143a72ad,DNM: Add Nova debug logging when detaching devices for focal failures,ABANDONED,2020-05-29 10:36:07.000000000,2020-07-16 11:17:32.000000000,,"[{'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 10:36:07.000000000', 'files': ['.DNM'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6366665bbbde21a437ae9dbad499047ef738ebee', 'message': 'DNM: Add Nova debug logging when detaching devices for focal failures\n\nChange-Id: Ie55de13b34e7df546bf5e2fa0f1fce5a143a72ad\nDepends-On: https://review.opendev.org/731721\n'}]",0,731723,6366665bbbde21a437ae9dbad499047ef738ebee,9,2,1,10135,,,0,"DNM: Add Nova debug logging when detaching devices for focal failures

Change-Id: Ie55de13b34e7df546bf5e2fa0f1fce5a143a72ad
Depends-On: https://review.opendev.org/731721
",git fetch https://review.opendev.org/openstack/devstack refs/changes/23/731723/1 && git format-patch -1 --stdout FETCH_HEAD,['.DNM'],1,6366665bbbde21a437ae9dbad499047ef738ebee,,,,0,0
openstack%2Fnova~master~Ia0572deb1d080abdf64b78b63b0126366e76025f,openstack/nova,master,Ia0572deb1d080abdf64b78b63b0126366e76025f,DNM libvirt: Add exception logging when attempting to detach device,ABANDONED,2020-05-29 10:34:36.000000000,2020-07-16 11:17:29.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-29 10:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cec8b5480a31ef7937df1923a4324f306ac25e91', 'message': 'DNM libvirt: Add exception logging when attempting to detach device\n\nChange-Id: Ia0572deb1d080abdf64b78b63b0126366e76025f\n'}, {'number': 2, 'created': '2020-05-29 13:21:22.000000000', 'files': ['nova/virt/libvirt/guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b072ca6bdc25b2cdf011abac007d7101ae1ecbf6', 'message': 'DNM libvirt: Add exception logging when attempting to detach device\n\nChange-Id: Ia0572deb1d080abdf64b78b63b0126366e76025f\n'}]",1,731721,b072ca6bdc25b2cdf011abac007d7101ae1ecbf6,19,9,2,10135,,,0,"DNM libvirt: Add exception logging when attempting to detach device

Change-Id: Ia0572deb1d080abdf64b78b63b0126366e76025f
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/731721/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/guest.py'],1,cec8b5480a31ef7937df1923a4324f306ac25e91,, errmsg = ex.get_error_message() LOG.exception(f'Exception thrown while detaching device ' '{device} {errcode} {errmsg}'), errmsg = ex.get_error_message(),3,1
openstack%2Fnova~master~I99cfee14bb105a8792651129426c0c5a3749796d,openstack/nova,master,I99cfee14bb105a8792651129426c0c5a3749796d,objects: Introduce the 'CPUAllocationPolicy.MIXED' enum,MERGED,2020-03-31 12:07:52.000000000,2020-07-16 11:11:02.000000000,2020-07-16 11:06:20.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30209}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-03-31 12:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3fb97683756cd1d433bb29f1782cf2dcd1d09436', 'message': ""Introduce the 'CPUAllocationPolicy.MIXED' enum\n\nIntroduce a 'mixed' instance CPU allocation policy and\nwill be worked with upcoming patches, for purpose of\ncreating an instance combined with both dedicated\nCPUs and shared CPUs.\n\nBased on https://review.opendev.org/714704\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I99cfee14bb105a8792651129426c0c5a3749796d\n""}, {'number': 2, 'created': '2020-04-02 13:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71da0a454ba2664de9cc8b46ff722525c4d954c3', 'message': ""Introduce the 'CPUAllocationPolicy.MIXED' enum\n\nIntroduce a 'mixed' instance CPU allocation policy and\nwill be worked with upcoming patches, for purpose of\ncreating an instance combined with both dedicated\nCPUs and shared CPUs.\n\nBased on https://review.opendev.org/714704\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I99cfee14bb105a8792651129426c0c5a3749796d\n""}, {'number': 3, 'created': '2020-04-08 02:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d63cf382ce17df8ea1c4ebcb2b3f7e3f8de50d18', 'message': ""Introduce the 'CPUAllocationPolicy.MIXED' enum\n\nIntroduce a 'mixed' instance CPU allocation policy and\nwill be worked with upcoming patches, for purpose of\ncreating an instance combined with both dedicated\nCPUs and shared CPUs.\n\nBased on https://review.opendev.org/714704\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I99cfee14bb105a8792651129426c0c5a3749796d\n""}, {'number': 4, 'created': '2020-04-08 10:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37e0fe7a2b067a673128af5b50643bdc99804b61', 'message': ""Introduce the 'CPUAllocationPolicy.MIXED' enum\n\nIntroduce a 'mixed' instance CPU allocation policy and\nwill be worked with upcoming patches, for purpose of\ncreating an instance combined with both dedicated\nCPUs and shared CPUs.\n\nBased on https://review.opendev.org/714704\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I99cfee14bb105a8792651129426c0c5a3749796d\n""}, {'number': 5, 'created': '2020-04-08 15:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3ce86085ce6eca872645a7e7fad0604306bf860', 'message': ""Introduce the 'CPUAllocationPolicy.MIXED' enum\n\nIntroduce a 'mixed' instance CPU allocation policy and\nwill be worked with upcoming patches, for purpose of\ncreating an instance combined with both dedicated\nCPUs and shared CPUs.\n\nBased on https://review.opendev.org/714704\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I99cfee14bb105a8792651129426c0c5a3749796d\n""}, {'number': 6, 'created': '2020-05-15 15:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd91a3627cd5ad945a39918ea8e46c6debc49d56', 'message': ""Introduce the 'CPUAllocationPolicy.MIXED' enum\n\nIntroduce a 'mixed' instance CPU allocation policy and\nwill be worked with upcoming patches, for purpose of\ncreating an instance combined shared CPUs with dedicated\nor realtime CPUs.\n\nIn an instance mixed with different type of CPUs, the shared CPU\nshared CPU time slots with other instances, and also might be a\nCPU with less or un-guaranteed hardware resources, which implies\nto have no guarantee for the behavior of the workload running on\nit. If we call the shared CPU as 'low priority' CPU, then the\nrealtime or dedicated CPU could be called as 'high priority' CPU,\nuser could assign more hardware CPU resources or place some\nguaranteed resource to it to let the workload to entail high\nperformance or stable service quality.\n\nBased on https://review.opendev.org/714704\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I99cfee14bb105a8792651129426c0c5a3749796d\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 7, 'created': '2020-05-15 16:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11480184b94883b74c3a2a641d485069bb8dfaf5', 'message': ""Introduce the 'CPUAllocationPolicy.MIXED' enum\n\nIntroduce a 'mixed' instance CPU allocation policy and\nwill be worked with upcoming patches, for purpose of\ncreating an instance combined shared CPUs with dedicated\nor realtime CPUs.\n\nIn an instance mixed with different type of CPUs, the shared CPU\nshared CPU time slots with other instances, and also might be a\nCPU with less or un-guaranteed hardware resources, which implies\nto have no guarantee for the behavior of the workload running on\nit. If we call the shared CPU as 'low priority' CPU, then the\nrealtime or dedicated CPU could be called as 'high priority' CPU,\nuser could assign more hardware CPU resources or place some\nguaranteed resource to it to let the workload to entail high\nperformance or stable service quality.\n\nBased on https://review.opendev.org/714704\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I99cfee14bb105a8792651129426c0c5a3749796d\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 8, 'created': '2020-06-19 15:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d1bdc2c346b952b98bcba97a0df56877b87ccb8', 'message': ""objects: Introduce the 'CPUAllocationPolicy.MIXED' enum\n\nIntroduce a 'mixed' instance CPU allocation policy and\nwill be worked with upcoming patches, for purpose of\ncreating an instance combined shared CPUs with dedicated\nor realtime CPUs.\n\nIn an instance mixed with different type of CPUs, the shared CPU\nshared CPU time slots with other instances, and also might be a\nCPU with less or un-guaranteed hardware resources, which implies\nto have no guarantee for the behavior of the workload running on\nit. If we call the shared CPU as 'low priority' CPU, then the\nrealtime or dedicated CPU could be called as 'high priority' CPU,\nuser could assign more hardware CPU resources or place some\nguaranteed resource to it to let the workload to entail high\nperformance or stable service quality.\n\nBased on https://review.opendev.org/714704\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I99cfee14bb105a8792651129426c0c5a3749796d\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 9, 'created': '2020-06-19 15:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e96bc2d32ecbabc08a207a069d7a6d02bd1b9304', 'message': ""objects: Introduce the 'CPUAllocationPolicy.MIXED' enum\n\nIntroduce a 'mixed' instance CPU allocation policy and\nwill be worked with upcoming patches, for purpose of\ncreating an instance combined shared CPUs with dedicated\nor realtime CPUs.\n\nIn an instance mixed with different type of CPUs, the shared CPU\nshared CPU time slots with other instances, and also might be a\nCPU with less or un-guaranteed hardware resources, which implies\nto have no guarantee for the behavior of the workload running on\nit. If we call the shared CPU as 'low priority' CPU, then the\nrealtime or dedicated CPU could be called as 'high priority' CPU,\nuser could assign more hardware CPU resources or place some\nguaranteed resource to it to let the workload to entail high\nperformance or stable service quality.\n\nBased on https://review.opendev.org/714704\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I99cfee14bb105a8792651129426c0c5a3749796d\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 10, 'created': '2020-07-02 09:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53444297c8d3e75cb493883ccc9bea1367f36aec', 'message': ""objects: Introduce the 'CPUAllocationPolicy.MIXED' enum\n\nIntroduce a 'mixed' instance CPU allocation policy and\nwill be worked with upcoming patches, for purpose of\ncreating an instance combined shared CPUs with dedicated\nor realtime CPUs.\n\nIn an instance mixed with different type of CPUs, the shared CPU\nshared CPU time slots with other instances, and also might be a\nCPU with less or un-guaranteed hardware resources, which implies\nto have no guarantee for the behavior of the workload running on\nit. If we call the shared CPU as 'low priority' CPU, then the\nrealtime or dedicated CPU could be called as 'high priority' CPU,\nuser could assign more hardware CPU resources or place some\nguaranteed resource to it to let the workload to entail high\nperformance or stable service quality.\n\nBased on https://review.opendev.org/714704\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I99cfee14bb105a8792651129426c0c5a3749796d\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 11, 'created': '2020-07-02 12:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c98f534f512fc80b23f1320079f5f17375a62b50', 'message': ""objects: Introduce the 'CPUAllocationPolicy.MIXED' enum\n\nIntroduce a 'mixed' instance CPU allocation policy and\nwill be worked with upcoming patches, for purpose of\ncreating an instance combined shared CPUs with dedicated\nor realtime CPUs.\n\nIn an instance mixed with different type of CPUs, the shared CPU\nshared CPU time slots with other instances, and also might be a\nCPU with less or un-guaranteed hardware resources, which implies\nto have no guarantee for the behavior of the workload running on\nit. If we call the shared CPU as 'low priority' CPU, then the\nrealtime or dedicated CPU could be called as 'high priority' CPU,\nuser could assign more hardware CPU resources or place some\nguaranteed resource to it to let the workload to entail high\nperformance or stable service quality.\n\nBased on https://review.opendev.org/714704\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I99cfee14bb105a8792651129426c0c5a3749796d\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 12, 'created': '2020-07-08 11:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b290aaee70ce6fac8f7ee8bb43355defd2f5bee', 'message': ""objects: Introduce the 'CPUAllocationPolicy.MIXED' enum\n\nIntroduce a 'mixed' instance CPU allocation policy and\nwill be worked with upcoming patches, for purpose of\ncreating an instance combined shared CPUs with dedicated\nor realtime CPUs.\n\nIn an instance mixed with different type of CPUs, the shared CPU\nshared CPU time slots with other instances, and also might be a\nCPU with less or un-guaranteed hardware resources, which implies\nto have no guarantee for the behavior of the workload running on\nit. If we call the shared CPU as 'low priority' CPU, then the\nrealtime or dedicated CPU could be called as 'high priority' CPU,\nuser could assign more hardware CPU resources or place some\nguaranteed resource to it to let the workload to entail high\nperformance or stable service quality.\n\nBased on https://review.opendev.org/714704\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I99cfee14bb105a8792651129426c0c5a3749796d\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 13, 'created': '2020-07-09 13:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfbf103e21c915ea7a28d7db9512c4149abecb42', 'message': ""objects: Introduce the 'CPUAllocationPolicy.MIXED' enum\n\nIntroduce a 'mixed' instance CPU allocation policy and\nwill be worked with upcoming patches, for purpose of\ncreating an instance combined shared CPUs with dedicated\nor realtime CPUs.\n\nIn an instance mixed with different type of CPUs, the shared CPU\nshared CPU time slots with other instances, and also might be a\nCPU with less or un-guaranteed hardware resources, which implies\nto have no guarantee for the behavior of the workload running on\nit. If we call the shared CPU as 'low priority' CPU, then the\nrealtime or dedicated CPU could be called as 'high priority' CPU,\nuser could assign more hardware CPU resources or place some\nguaranteed resource to it to let the workload to entail high\nperformance or stable service quality.\n\nBased on https://review.opendev.org/714704\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I99cfee14bb105a8792651129426c0c5a3749796d\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 14, 'created': '2020-07-10 03:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b61f385b003716245c0c9747ef29cc5f2f1b602b', 'message': ""objects: Introduce the 'CPUAllocationPolicy.MIXED' enum\n\nIntroduce a 'mixed' instance CPU allocation policy and\nwill be worked with upcoming patches, for purpose of\ncreating an instance combined shared CPUs with dedicated\nor realtime CPUs.\n\nIn an instance mixed with different type of CPUs, the shared CPU\nshared CPU time slots with other instances, and also might be a\nCPU with less or un-guaranteed hardware resources, which implies\nto have no guarantee for the behavior of the workload running on\nit. If we call the shared CPU as 'low priority' CPU, then the\nrealtime or dedicated CPU could be called as 'high priority' CPU,\nuser could assign more hardware CPU resources or place some\nguaranteed resource to it to let the workload to entail high\nperformance or stable service quality.\n\nBased on https://review.opendev.org/714704\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I99cfee14bb105a8792651129426c0c5a3749796d\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 15, 'created': '2020-07-14 09:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2098f1b3db6b941b22f56e86308ff5e00337618d', 'message': ""objects: Introduce the 'CPUAllocationPolicy.MIXED' enum\n\nIntroduce a 'mixed' instance CPU allocation policy and\nwill be worked with upcoming patches, for purpose of\ncreating an instance combined shared CPUs with dedicated\nor realtime CPUs.\n\nIn an instance mixed with different type of CPUs, the shared CPU\nshared CPU time slots with other instances, and also might be a\nCPU with less or un-guaranteed hardware resources, which implies\nto have no guarantee for the behavior of the workload running on\nit. If we call the shared CPU as 'low priority' CPU, then the\nrealtime or dedicated CPU could be called as 'high priority' CPU,\nuser could assign more hardware CPU resources or place some\nguaranteed resource to it to let the workload to entail high\nperformance or stable service quality.\n\nBased on https://review.opendev.org/714704\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I99cfee14bb105a8792651129426c0c5a3749796d\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 16, 'created': '2020-07-14 16:42:29.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/objects/instance_numa.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'doc/notification_samples/common_payloads/ImageMetaPropsPayload.json', 'nova/tests/unit/compute/test_compute.py', 'nova/objects/fields.py', 'nova/api/validation/extra_specs/hw.py', 'doc/notification_samples/common_payloads/InstanceNUMACellPayload.json', 'nova/api/openstack/compute/servers.py', 'nova/notifications/objects/image.py', 'nova/tests/unit/objects/test_objects.py', 'nova/exception.py', 'nova/notifications/objects/request_spec.py', 'nova/tests/unit/api/validation/extra_specs/test_validators.py', 'nova/virt/hardware.py', 'nova/objects/image_meta.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ba3388d666ad344e87de3bbf8f76ab494bb4421f', 'message': ""objects: Introduce the 'CPUAllocationPolicy.MIXED' enum\n\nIntroduce a 'mixed' instance CPU allocation policy and\nwill be worked with upcoming patches, for purpose of\ncreating an instance combined shared CPUs with dedicated\nor realtime CPUs.\n\nIn an instance mixed with different type of CPUs, the shared CPU\nshared CPU time slots with other instances, and also might be a\nCPU with less or un-guaranteed hardware resources, which implies\nto have no guarantee for the behavior of the workload running on\nit. If we call the shared CPU as 'low priority' CPU, then the\nrealtime or dedicated CPU could be called as 'high priority' CPU,\nuser could assign more hardware CPU resources or place some\nguaranteed resource to it to let the workload to entail high\nperformance or stable service quality.\n\nBased on https://review.opendev.org/714704\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I99cfee14bb105a8792651129426c0c5a3749796d\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}]",46,716267,ba3388d666ad344e87de3bbf8f76ab494bb4421f,156,15,16,30209,,,0,"objects: Introduce the 'CPUAllocationPolicy.MIXED' enum

Introduce a 'mixed' instance CPU allocation policy and
will be worked with upcoming patches, for purpose of
creating an instance combined shared CPUs with dedicated
or realtime CPUs.

In an instance mixed with different type of CPUs, the shared CPU
shared CPU time slots with other instances, and also might be a
CPU with less or un-guaranteed hardware resources, which implies
to have no guarantee for the behavior of the workload running on
it. If we call the shared CPU as 'low priority' CPU, then the
realtime or dedicated CPU could be called as 'high priority' CPU,
user could assign more hardware CPU resources or place some
guaranteed resource to it to let the workload to entail high
performance or stable service quality.

Based on https://review.opendev.org/714704

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: I99cfee14bb105a8792651129426c0c5a3749796d
Signed-off-by: Wang Huaqiang <huaqiang.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/716267/16 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_hardware.py', 'nova/scheduler/utils.py', 'nova/objects/instance_numa.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'doc/notification_samples/common_payloads/ImageMetaPropsPayload.json', 'nova/objects/fields.py', 'doc/notification_samples/common_payloads/InstanceNUMACellPayload.json', 'nova/notifications/objects/image.py', 'nova/tests/unit/objects/test_objects.py', 'nova/notifications/objects/request_spec.py', 'nova/virt/hardware.py', 'nova/objects/image_meta.py']",13,3fb97683756cd1d433bb29f1782cf2dcd1d09436,bp/use-pcpu-and-vcpu-in-one-instance," # Version 1.26: Added 'mixed' to 'hw_cpu_policy' field VERSION = '1.26' if target_version < (1, 26): policy = primitive.get('hw_cpu_policy', None) if policy == fields.CPUAllocationPolicy.MIXED: raise exception.ObjectActionError( action='obj_make_compatible', reason='hw_cpu_policy=%s not supported in version %s' % ( policy, target_version))", VERSION = '1.25',121,14
openstack%2Fcinder-tempest-plugin~master~I9b59792008dd5bb003f1f3dbdd0403b1c679e4e2,openstack/cinder-tempest-plugin,master,I9b59792008dd5bb003f1f3dbdd0403b1c679e4e2,Skip a few c-bak tests broken by the new ceph,MERGED,2020-06-03 14:57:03.000000000,2020-07-16 11:10:06.000000000,2020-07-16 10:36:06.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-06-03 14:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/d90369f4280cb660769ec9640b03737e58f80791', 'message': 'WIP Skip a few c-bak tests broken by the new ceph\n\nDepends-On: https://review.opendev.org/676722\nChange-Id: I9b59792008dd5bb003f1f3dbdd0403b1c679e4e2\n'}, {'number': 2, 'created': '2020-07-05 21:18:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/9d626d0de5ebddbe359b3f3bf0dae4c6e45efaad', 'message': 'Skip a few c-bak tests broken by the new ceph\n\nMost likely needed to unblock the cinder gates.\n\nDepends-On: https://review.opendev.org/676722\nChange-Id: I9b59792008dd5bb003f1f3dbdd0403b1c679e4e2\n'}]",0,733161,9d626d0de5ebddbe359b3f3bf0dae4c6e45efaad,28,5,2,10459,,,0,"Skip a few c-bak tests broken by the new ceph

Most likely needed to unblock the cinder gates.

Depends-On: https://review.opendev.org/676722
Change-Id: I9b59792008dd5bb003f1f3dbdd0403b1c679e4e2
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/61/733161/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d90369f4280cb660769ec9640b03737e58f80791,skip-broken-by-ceph, tempest_black_regex: '(VolumesBackupsTest.test_bootable_volume_backup_and_restore|TestVolumeBackupRestore.test_volume_backup_restore)' tempest_black_regex: '',,2,0
openstack%2Fnova~master~Ifeb21b9eff828952f67002172c8500f738e9984c,openstack/nova,master,Ifeb21b9eff828952f67002172c8500f738e9984c,notifications: add the pcpuset info to instance numa cell payload,MERGED,2020-05-15 15:57:04.000000000,2020-07-16 11:08:57.000000000,2020-07-16 11:06:14.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30209}, {'_account_id': 32029}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-05-15 15:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/73e9e2e0d1733545ec932d2f9b426e282e6c87ef', 'message': ""notification: add the pcpuset info to instance numa cell payload\n\nUpdate the versioned object notification for 'InstanceNUMACell'\nobject to reflect the change of a new 'pcpuset' field.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Ifeb21b9eff828952f67002172c8500f738e9984c\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 2, 'created': '2020-05-15 16:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6acd947dbb8798cc36bfaaa86056c9b618513d1', 'message': ""notification: add the pcpuset info to instance numa cell payload\n\nUpdate the versioned object notification for 'InstanceNUMACell'\nobject to reflect the change of a new 'pcpuset' field.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Ifeb21b9eff828952f67002172c8500f738e9984c\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 3, 'created': '2020-06-19 15:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5bf7edff312d0c2e6ab7f269d915897b3cbee905', 'message': ""notifications: add the pcpuset info to instance numa cell payload\n\nUpdate the versioned object notification for 'InstanceNUMACell'\nobject to reflect the change of a new 'pcpuset' field.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Ifeb21b9eff828952f67002172c8500f738e9984c\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 4, 'created': '2020-06-19 15:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f6cf61bbddec3d0ec556f7b7a8b21f7c42388ab', 'message': ""notifications: add the pcpuset info to instance numa cell payload\n\nUpdate the versioned object notification for 'InstanceNUMACell'\nobject to reflect the change of a new 'pcpuset' field.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Ifeb21b9eff828952f67002172c8500f738e9984c\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 5, 'created': '2020-07-02 09:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3bf49e6491e60ef03ed09031775acf63c78a27f', 'message': ""notifications: add the pcpuset info to instance numa cell payload\n\nUpdate the versioned object notification for 'InstanceNUMACell'\nobject to reflect the change of a new 'pcpuset' field.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Ifeb21b9eff828952f67002172c8500f738e9984c\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 6, 'created': '2020-07-08 11:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb5a014aca2484063e541c54304948880f7b742b', 'message': ""notifications: add the pcpuset info to instance numa cell payload\n\nUpdate the versioned object notification for 'InstanceNUMACell'\nobject to reflect the change of a new 'pcpuset' field.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Ifeb21b9eff828952f67002172c8500f738e9984c\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 7, 'created': '2020-07-10 03:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2099751299ac8678bcce50ddc91c17d3ed56f947', 'message': ""notifications: add the pcpuset info to instance numa cell payload\n\nUpdate the versioned object notification for 'InstanceNUMACell'\nobject to reflect the change of a new 'pcpuset' field.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Ifeb21b9eff828952f67002172c8500f738e9984c\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 8, 'created': '2020-07-14 16:42:29.000000000', 'files': ['nova/notifications/objects/request_spec.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'doc/notification_samples/common_payloads/InstanceNUMACellPayload.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/d992eb2f5a58e0a589b68384ceb02c880489e135', 'message': ""notifications: add the pcpuset info to instance numa cell payload\n\nUpdate the versioned object notification for 'InstanceNUMACell'\nobject to reflect the change of a new 'pcpuset' field.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Ifeb21b9eff828952f67002172c8500f738e9984c\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}]",2,728480,d992eb2f5a58e0a589b68384ceb02c880489e135,76,18,8,30209,,,0,"notifications: add the pcpuset info to instance numa cell payload

Update the versioned object notification for 'InstanceNUMACell'
object to reflect the change of a new 'pcpuset' field.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: Ifeb21b9eff828952f67002172c8500f738e9984c
Signed-off-by: Wang Huaqiang <huaqiang.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/728480/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/notifications/objects/request_spec.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'doc/notification_samples/common_payloads/InstanceNUMACellPayload.json']",3,73e9e2e0d1733545ec932d2f9b426e282e6c87ef,bp/use-pcpu-and-vcpu-in-one-instance," ""nova_object.version"": ""1.1"", ""pcpuset"": [],"," ""nova_object.version"": ""1.0"",",9,5
openstack%2Ftrove-tempest-plugin~master~I0da6b5376b4dd97606bfb75dae0fe0791cf8c47e,openstack/trove-tempest-plugin,master,I0da6b5376b4dd97606bfb75dae0fe0791cf8c47e,Add config database_restore_timeout,MERGED,2020-07-15 22:57:34.000000000,2020-07-16 11:08:25.000000000,2020-07-16 11:06:47.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 22:57:34.000000000', 'files': ['trove_tempest_plugin/config.py', 'trove_tempest_plugin/tests/scenario/base_backup.py'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/177648d906d522e7ddb6d282f43c5648e93b09fb', 'message': 'Add config database_restore_timeout\n\nChange-Id: I0da6b5376b4dd97606bfb75dae0fe0791cf8c47e\n'}]",0,741336,177648d906d522e7ddb6d282f43c5648e93b09fb,7,2,1,6732,,,0,"Add config database_restore_timeout

Change-Id: I0da6b5376b4dd97606bfb75dae0fe0791cf8c47e
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/36/741336/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove_tempest_plugin/config.py', 'trove_tempest_plugin/tests/scenario/base_backup.py']",2,177648d906d522e7ddb6d282f43c5648e93b09fb,restore-timeout-config," self.wait_for_instance_status( restore_instance['id'], timeout=CONF.database.database_restore_timeout) self.wait_for_instance_status( restore_instance['id'], timeout=CONF.database.database_restore_timeout) ", self.wait_for_instance_status(restore_instance['id']) self.wait_for_instance_status(restore_instance['id']),14,2
openstack%2Fpuppet-tacker~master~I13166e0bc38cce220f3ccc735d85f7a00a4e163e,openstack/puppet-tacker,master,I13166e0bc38cce220f3ccc735d85f7a00a4e163e,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-16 07:16:35.000000000,2020-07-16 11:06:45.000000000,2020-07-16 11:05:21.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 07:16:35.000000000', 'files': ['releasenotes/notes/keystone-authtoken-interface-7c0debd2916b010c.yaml', 'spec/classes/tacker_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/c10b870dd28abe4c2843a475fcff2ade5f758674', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I13166e0bc38cce220f3ccc735d85f7a00a4e163e\n'}]",0,741394,c10b870dd28abe4c2843a475fcff2ade5f758674,8,3,1,32114,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I13166e0bc38cce220f3ccc735d85f7a00a4e163e
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/94/741394/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone-authtoken-interface-7c0debd2916b010c.yaml', 'spec/classes/tacker_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,c10b870dd28abe4c2843a475fcff2ade5f758674,at-interface,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin"". # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,15,0
openstack%2Fnetworking-ovn~stable%2Fstein~I3e9e734b757f67d3e4ab1c5a02f8e7f9f0c9aa2e,openstack/networking-ovn,stable/stein,I3e9e734b757f67d3e4ab1c5a02f8e7f9f0c9aa2e,[OVN] Remove VLAN check when setting external_mac,MERGED,2020-01-31 16:10:27.000000000,2020-07-16 11:05:07.000000000,2020-07-16 11:03:28.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-31 16:10:27.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/46f5abea3b786d143323ec04c39aedb70310b28b', 'message': ""[OVN] Remove VLAN check when setting external_mac\n\nThis patch reverts [0].\n\nThe code wasn't accounting for VLAN provider networks, as stated in the\nbug #1842988, DVR won't work if the provider network (where the FIP is\ncreated) is VLAN.\n\nThere was also an incosistency in how the external_mac was set for the\nVLAN networks. Upon creating the FIP the code was checking for the\nnetwork type and not setting the external_mac attribute in case the\nnetwork was VLAN type. But, if the port went down and up again (e.g if\nyou reboot the VM) the event handler that set/unset the external_mac [1]\nwasn't check for the type. This is how people worked around the DVR\nproblem (as stated in bug #1842988).\n\nFor more information see bug #1842988.\n\n[0]\nhttps://github.com/openstack/networking-ovn/commit/c5aef51edc9843db605303ec8bd8610b6c55e9c2\n[1]\nhttps://github.com/openstack/networking-ovn/blob/eda5d7f80d877601170631c5f5485370ea701f42/networking_ovn/ml2/mech_driver.py#L794-L800\n\nCloses-Bug: #1842988\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n\n(Cherry-picked from Neutron Ifb795626dc9c2ac4f0104f491dd38c9b4cc902c9)\n\nChange-Id: I3e9e734b757f67d3e4ab1c5a02f8e7f9f0c9aa2e\n(cherry picked from commit f9b1dffada3ad6c1328843b30128e72b92cfcdf5)\n""}]",0,705251,46f5abea3b786d143323ec04c39aedb70310b28b,20,4,1,6773,,,0,"[OVN] Remove VLAN check when setting external_mac

This patch reverts [0].

The code wasn't accounting for VLAN provider networks, as stated in the
bug #1842988, DVR won't work if the provider network (where the FIP is
created) is VLAN.

There was also an incosistency in how the external_mac was set for the
VLAN networks. Upon creating the FIP the code was checking for the
network type and not setting the external_mac attribute in case the
network was VLAN type. But, if the port went down and up again (e.g if
you reboot the VM) the event handler that set/unset the external_mac [1]
wasn't check for the type. This is how people worked around the DVR
problem (as stated in bug #1842988).

For more information see bug #1842988.

[0]
https://github.com/openstack/networking-ovn/commit/c5aef51edc9843db605303ec8bd8610b6c55e9c2
[1]
https://github.com/openstack/networking-ovn/blob/eda5d7f80d877601170631c5f5485370ea701f42/networking_ovn/ml2/mech_driver.py#L794-L800

Closes-Bug: #1842988
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>

(Cherry-picked from Neutron Ifb795626dc9c2ac4f0104f491dd38c9b4cc902c9)

Change-Id: I3e9e734b757f67d3e4ab1c5a02f8e7f9f0c9aa2e
(cherry picked from commit f9b1dffada3ad6c1328843b30128e72b92cfcdf5)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/51/705251/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py']",2,46f5abea3b786d143323ec04c39aedb70310b28b,," def test_update_floatingip_associate_distributed(self, uf, gf, gp, gn): fake_network_vlan[pnet.NETWORK_TYPE] = constants.TYPE_FLAT self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-new-router-id', type='dnat_and_snat', logical_ip='10.10.10.10', external_ip='192.168.0.10', external_mac='00:01:02:03:04:05', logical_port='new-port_id', external_ids=expected_ext_ids)"," def _test_update_floatingip_associate_distributed(self, network_type, uf, gf, gp, gn): fake_network_vlan[pnet.NETWORK_TYPE] = network_type if network_type == constants.TYPE_VLAN: self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-new-router-id', type='dnat_and_snat', logical_ip='10.10.10.10', external_ip='192.168.0.10', logical_port='new-port_id', external_ids=expected_ext_ids) else: self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-new-router-id', type='dnat_and_snat', logical_ip='10.10.10.10', external_ip='192.168.0.10', external_mac='00:01:02:03:04:05', logical_port='new-port_id', external_ids=expected_ext_ids) def test_update_floatingip_associate_distributed_flat(self): self._test_update_floatingip_associate_distributed(constants.TYPE_FLAT) def test_update_floatingip_associate_distributed_vlan(self): self._test_update_floatingip_associate_distributed(constants.TYPE_VLAN)",8,24
openstack%2Fpuppet-tripleo~master~Ibb80b8b0f4075c00ceb306bcf54bb87df58165af,openstack/puppet-tripleo,master,Ibb80b8b0f4075c00ceb306bcf54bb87df58165af,Use relative names to include classes,MERGED,2020-07-15 03:00:55.000000000,2020-07-16 10:55:09.000000000,2020-07-16 10:55:09.000000000,"[{'_account_id': 3153}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-15 03:00:55.000000000', 'files': ['manifests/profile/base/neutron/opencontrail/vrouter.pp', 'manifests/network/contrail/database.pp', 'manifests/profile/base/zaqar.pp', 'manifests/profile/base/metrics/collectd.pp', 'manifests/network/contrail/analyticsdatabase.pp', 'manifests/network/contrail/heat.pp', 'manifests/profile/base/mistral.pp', 'manifests/network/contrail/webui.pp', 'manifests/network/contrail/analytics.pp', 'manifests/network/contrail/config.pp', 'manifests/network/contrail/provision.pp', 'manifests/profile/base/ceilometer/agent/notification.pp', 'manifests/profile/base/haproxy.pp', 'manifests/profile/pacemaker/haproxy.pp', 'manifests/network/contrail/control.pp', 'manifests/network/contrail/vrouter.pp', 'manifests/profile/base/etcd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/07e0aca2424a76fa95b4121967e5c0bf777301d0', 'message': 'Use relative names to include classes\n\n... to avoid lint errors by relative_classname_inclusion, which was\nre-enabled recently[1].\n\n[1] https://review.opendev.org/#/c/740023/\n\nChange-Id: Ibb80b8b0f4075c00ceb306bcf54bb87df58165af\n'}]",0,741075,07e0aca2424a76fa95b4121967e5c0bf777301d0,9,4,1,9816,,,0,"Use relative names to include classes

... to avoid lint errors by relative_classname_inclusion, which was
re-enabled recently[1].

[1] https://review.opendev.org/#/c/740023/

Change-Id: Ibb80b8b0f4075c00ceb306bcf54bb87df58165af
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/75/741075/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/neutron/opencontrail/vrouter.pp', 'manifests/network/contrail/database.pp', 'manifests/profile/base/zaqar.pp', 'manifests/profile/base/metrics/collectd.pp', 'manifests/network/contrail/analyticsdatabase.pp', 'manifests/network/contrail/heat.pp', 'manifests/profile/base/mistral.pp', 'manifests/network/contrail/webui.pp', 'manifests/network/contrail/analytics.pp', 'manifests/network/contrail/config.pp', 'manifests/network/contrail/provision.pp', 'manifests/profile/base/ceilometer/agent/notification.pp', 'manifests/profile/base/haproxy.pp', 'manifests/profile/pacemaker/haproxy.pp', 'manifests/network/contrail/control.pp', 'manifests/network/contrail/vrouter.pp', 'manifests/profile/base/etcd.pp']",17,07e0aca2424a76fa95b4121967e5c0bf777301d0,relative-names, class {'etcd':, class {'::etcd':,25,25
openstack%2Fpuppet-senlin~master~I84e1ab7f0c7ab114eb9b9cd8317bb142159bb01e,openstack/puppet-senlin,master,I84e1ab7f0c7ab114eb9b9cd8317bb142159bb01e,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-16 07:09:03.000000000,2020-07-16 10:53:18.000000000,2020-07-16 10:51:08.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 07:09:03.000000000', 'files': ['releasenotes/notes/keystone-authtoken-interface-a131d7b70280b297.yaml', 'spec/classes/senlin_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/5dca9f55d81ffd186e3c8ee413f7c2fe10fe9964', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I84e1ab7f0c7ab114eb9b9cd8317bb142159bb01e\n'}]",0,741390,5dca9f55d81ffd186e3c8ee413f7c2fe10fe9964,8,3,1,32114,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I84e1ab7f0c7ab114eb9b9cd8317bb142159bb01e
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/90/741390/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone-authtoken-interface-a131d7b70280b297.yaml', 'spec/classes/senlin_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,5dca9f55d81ffd186e3c8ee413f7c2fe10fe9964,at-interface,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin"". # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,15,0
openstack%2Fopenstack-helm-infra~master~I5e7acb0dd0edd6838b6f7ddb5111db0fa34912d4,openstack/openstack-helm-infra,master,I5e7acb0dd0edd6838b6f7ddb5111db0fa34912d4,Support images overrides,MERGED,2020-07-11 21:48:25.000000000,2020-07-16 10:48:46.000000000,2020-07-16 10:43:34.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 26686}]","[{'number': 1, 'created': '2020-07-11 21:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3b137b2aba5af30c79947dd2a986303c32930967', 'message': '[test image test]\n\nChange-Id: I5e7acb0dd0edd6838b6f7ddb5111db0fa34912d4\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-12 03:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/24b305281e3b8c170df5feb3fdf5451772359be6', 'message': '[test image test]\n\nChange-Id: I5e7acb0dd0edd6838b6f7ddb5111db0fa34912d4\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-12 03:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7c0430edb95236e182fce39d15c51f4f5cb79670', 'message': 'Support images overrides\n\nAdds ability to override images in osh and osh-i repositories\nif docker_images dict is provided with tags following zuul-jobs\nupload-docker-image naming convention.\n\nThis allows to inherit osh job from osh-images project providing\nrequired vars.\n\nChange-Id: I5e7acb0dd0edd6838b6f7ddb5111db0fa34912d4\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-07-12 04:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/051f39f68121afa57a61553d51f859a52ead22b0', 'message': 'Support images overrides\n\nAdds ability to override images in osh and osh-i repositories\nif docker_images dict is provided with tags following zuul-jobs\nupload-docker-image naming convention.\n\nThis allows to inherit osh job from osh-images project providing\nrequired vars.\n\nChange-Id: I5e7acb0dd0edd6838b6f7ddb5111db0fa34912d4\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2020-07-12 13:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3996f686c20479c8cd2bf2f5eefef6a389f640e1', 'message': 'Support images overrides\n\nAdds ability to override images in osh and osh-i repositories\nif docker_images dict is provided with tags following zuul-jobs\nupload-docker-image naming convention.\n\nThis allows to inherit osh job from osh-images project providing\nrequired vars.\n\nChange-Id: I5e7acb0dd0edd6838b6f7ddb5111db0fa34912d4\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 6, 'created': '2020-07-12 14:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/95d99621ca5030b91be9afcfc08c8b5f4614ee51', 'message': 'Support images overrides\n\nAdds ability to override images in osh and osh-i repositories\nif docker_images dict is provided with tags following zuul-jobs\nupload-docker-image naming convention.\n\nThis allows to inherit osh job from osh-images project providing\nrequired vars.\n\nChange-Id: I5e7acb0dd0edd6838b6f7ddb5111db0fa34912d4\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 7, 'created': '2020-07-12 16:41:53.000000000', 'files': ['playbooks/osh-infra-gate-runner.yaml', 'roles/override-images/tasks/main.yaml', 'roles/override-images/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0ff44fc155b0fd18f2a76c757ead27c6b51cf35d', 'message': 'Support images overrides\n\nAdds ability to override images in osh and osh-i repositories\nif docker_images dict is provided with tags following zuul-jobs\nupload-docker-image naming convention.\n\nThis allows to inherit osh job from osh-images project providing\nrequired vars.\n\nChange-Id: I5e7acb0dd0edd6838b6f7ddb5111db0fa34912d4\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",2,740557,0ff44fc155b0fd18f2a76c757ead27c6b51cf35d,23,5,7,8863,,,0,"Support images overrides

Adds ability to override images in osh and osh-i repositories
if docker_images dict is provided with tags following zuul-jobs
upload-docker-image naming convention.

This allows to inherit osh job from osh-images project providing
required vars.

Change-Id: I5e7acb0dd0edd6838b6f7ddb5111db0fa34912d4
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/57/740557/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/osh-infra-gate-runner.yaml'],1,3b137b2aba5af30c79947dd2a986303c32930967,test-osh-images," - name: Create review images overrides shell: > find {{ work_dir }}/../openstack-helm*/*/values* -type f -exec sed -i 's#\({{ item.repository }}\):\({{ item.tags[0] }}\)#\1:{{ prefix }}_\2#g' {} + loop: ""{{ docker_images }}"" vars: prefix: ""{{ (zuul.change is defined) | ternary('change_' + zuul.change, 'periodic') }}"" work_dir: ""{{ zuul.project.src_dir }}"" when: docker_images is defined - name: Diff shell: | for dir in openstack-helm openstack-helm-infra; do echo ""${dir} diff"" cd {{ work_dir }}/../${dir}/; git diff; done vars: work_dir: ""{{ zuul.project.src_dir }}"" when: docker_images is defined ",,20,0
openstack%2Fopenstack-helm-infra~master~I1c5968ea3d785c4902c7ab011f7538877b10ce24,openstack/openstack-helm-infra,master,I1c5968ea3d785c4902c7ab011f7538877b10ce24,Explicitly specify a script directory for jobs run,MERGED,2020-07-11 05:37:23.000000000,2020-07-16 10:47:17.000000000,2020-07-16 10:41:28.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-11 05:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/57a7c3c7cccdd07b1e1c2a416b39e8028ae59d35', 'message': 'Explicitly specify a script directory for jobs run\n\nRequired to support reusing of a job in another project.\n\nChange-Id: I1c5968ea3d785c4902c7ab011f7538877b10ce24\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-11 05:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e3c16d43ebf5cf24fb4d295a51abe867c3a6b170', 'message': 'Explicitly specify a script directory for jobs run\n\nRequired to support reusing of a job in another project.\n\nChange-Id: I1c5968ea3d785c4902c7ab011f7538877b10ce24\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-11 05:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/46b5de70d0cb82f2c36c0b53888f926cf666d6f6', 'message': 'Explicitly specify a script directory for jobs run\n\nRequired to support reusing of a job in another project.\n\nChange-Id: I1c5968ea3d785c4902c7ab011f7538877b10ce24\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-07-11 06:00:24.000000000', 'files': ['roles/osh-run-script/tasks/main.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/32a860072a9230575cd786ca82116296eff8ced8', 'message': 'Explicitly specify a script directory for jobs run\n\nRequired to support reusing of a job in another project.\n\nChange-Id: I1c5968ea3d785c4902c7ab011f7538877b10ce24\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",8,740539,32a860072a9230575cd786ca82116296eff8ced8,14,3,4,8863,,,0,"Explicitly specify a script directory for jobs run

Required to support reusing of a job in another project.

Change-Id: I1c5968ea3d785c4902c7ab011f7538877b10ce24
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/39/740539/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/osh-run-script/tasks/main.yaml', 'zuul.d/jobs.yaml']",2,57a7c3c7cccdd07b1e1c2a416b39e8028ae59d35,test-osh-images, job_scripts_dir: openstack-helm-infra,,2,1
openstack%2Fopenstack-helm-infra~master~I7e7d090312ee577314509cd848adf76cabda6aad,openstack/openstack-helm-infra,master,I7e7d090312ee577314509cd848adf76cabda6aad,Inherit playbook from common osh-infra parent for fuctional jobs,MERGED,2020-07-11 19:24:19.000000000,2020-07-16 10:41:30.000000000,2020-07-16 10:41:29.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-11 19:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/84ac20861f83314d7835a4be02acce34c9fa5138', 'message': 'Inherit playbook from parent for fuctional jobs\n\nChange-Id: I7e7d090312ee577314509cd848adf76cabda6aad\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-11 21:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6158d6489e52bd8466fb7f8a2964c0c7db7af803', 'message': 'Inherit playbook from parent for fuctional jobs\n\nChange-Id: I7e7d090312ee577314509cd848adf76cabda6aad\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-11 21:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ae195dc9f34eb01bd7d6d518405f808f6e172724', 'message': 'Inherit playbook from commont osh-infra parent for fuctional jobs\n\nChange-Id: I7e7d090312ee577314509cd848adf76cabda6aad\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-07-12 03:08:56.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/06ad7cc7f609bf318ef5d15948bc4a235f32acfd', 'message': 'Inherit playbook from common osh-infra parent for fuctional jobs\n\nChange-Id: I7e7d090312ee577314509cd848adf76cabda6aad\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,740554,06ad7cc7f609bf318ef5d15948bc4a235f32acfd,13,3,4,8863,,,0,"Inherit playbook from common osh-infra parent for fuctional jobs

Change-Id: I7e7d090312ee577314509cd848adf76cabda6aad
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/54/740554/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,84ac20861f83314d7835a4be02acce34c9fa5138,test-osh-images, run: playbooks/osh-infra-gate-runner.yaml abstract: true, run: playbooks/osh-infra-gate-runner.yaml run: playbooks/osh-infra-gate-runner.yaml run: playbooks/osh-infra-gate-runner.yaml run: playbooks/osh-infra-gate-runner.yaml run: playbooks/osh-infra-gate-runner.yaml run: playbooks/osh-infra-gate-runner.yaml run: playbooks/osh-infra-gate-runner.yaml run: playbooks/osh-infra-gate-runner.yaml run: playbooks/osh-infra-gate-runner.yaml run: playbooks/osh-infra-gate-runner.yaml run: playbooks/osh-infra-gate-runner.yaml run: playbooks/osh-infra-gate-runner.yaml run: playbooks/osh-infra-gate-runner.yaml run: playbooks/osh-infra-gate-runner.yaml run: playbooks/osh-infra-gate-runner.yaml run: playbooks/osh-infra-gate-runner.yaml run: playbooks/osh-infra-gate-runner.yaml run: playbooks/osh-infra-gate-runner.yaml run: playbooks/osh-infra-gate-runner.yaml run: playbooks/osh-infra-gate-runner.yaml,2,20
openstack%2Ftripleo-validations~master~I16e7eb081640332ac69ee0b32d3d871fab40d447,openstack/tripleo-validations,master,I16e7eb081640332ac69ee0b32d3d871fab40d447,Make Get OSD stat percentage compatible with both Luminous and Nautilus,MERGED,2020-07-01 14:19:42.000000000,2020-07-16 10:35:40.000000000,2020-07-13 09:47:46.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 11166}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 26343}, {'_account_id': 27092}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-01 14:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/44ac7ab20826d99c31f49a5da2aa4ae4b38c5960', 'message': 'Make Get OSD stat percentage compatible with both Luminous and Nautilus\n\nOn upgrade we might be using the newer validations against a Luminous\ncluster, hence the check needs to work in both cases.\n\nChange-Id: I16e7eb081640332ac69ee0b32d3d871fab40d447\nRelated-Bug: 1882387\n'}, {'number': 2, 'created': '2020-07-06 12:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/61de0f2aa1654498916b33faff892669e341a7e8', 'message': 'Make Get OSD stat percentage compatible with both Luminous and Nautilus\n\nOn upgrade we might be using the newer validations against a Luminous\ncluster, hence the check needs to work in both cases.\n\nChange-Id: I16e7eb081640332ac69ee0b32d3d871fab40d447\nRelated-Bug: 1882387\n'}, {'number': 3, 'created': '2020-07-10 09:22:56.000000000', 'files': ['roles/ceph/tasks/ceph-health.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/35821c44dfe448ae6a381ee873e3945ab899e431', 'message': 'Make Get OSD stat percentage compatible with both Luminous and Nautilus\n\nOn upgrade we might be using the newer validations against a Luminous\ncluster, hence the check needs to work in both cases.\n\nChange-Id: I16e7eb081640332ac69ee0b32d3d871fab40d447\nRelated-Bug: 1882387\n'}]",0,738855,35821c44dfe448ae6a381ee873e3945ab899e431,19,9,3,6796,,,0,"Make Get OSD stat percentage compatible with both Luminous and Nautilus

On upgrade we might be using the newer validations against a Luminous
cluster, hence the check needs to work in both cases.

Change-Id: I16e7eb081640332ac69ee0b32d3d871fab40d447
Related-Bug: 1882387
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/55/738855/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/ceph/tasks/ceph-health.yaml'],1,44ac7ab20826d99c31f49a5da2aa4ae4b38c5960,, jq_osd_percentage_filter: '( (try .osdmap.num_in_osds + try .num_in_osds) / (try .osdmap.num_osds + try .num_osds)) * 100', jq_osd_percentage_filter: '( (.osdmap.num_in_osds) / (.osdmap.num_osds) ) * 100',1,1
openstack%2Fneutron~stable%2Fussuri~I6a85fdde2558d781bf2853c5d11c5c964bbab81f,openstack/neutron,stable/ussuri,I6a85fdde2558d781bf2853c5d11c5c964bbab81f,[OVN] OVN driver to adapt to enable_distributed_floating_ip changes,MERGED,2020-07-01 08:54:48.000000000,2020-07-16 10:21:11.000000000,2020-07-16 10:18:52.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-01 08:54:48.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd4821f918e561fc1c973970bfe5531f58be8dca', 'message': '[OVN] OVN driver to adapt to enable_distributed_floating_ip changes\n\nPrior to this patch, if the [ovn]/enable_distributed_floating_ip\nconfiguration option changed in an existing environment the OVN\ndriver wouldn\'t adapt to it requiring administrators to clear up the\n""external_mac"" column from the NAT table manually for the existing\nfloating ips.\n\nWith this patch, OVN will automatically correct existing NAT entries for\nfloating ips whenever this option changes.\n\nTo make the code simpler when handling the port up/down event this patch\nalways set the logical_port and the neutron:fip_external_mac key in the\nexternal_ids column of the NAT entry when creating the floating ip.\n\nNote that we are not using the maintenance task for this either, we are\nre-using the event that set/unset the ""external_mac"" column for this\nbecause, whenenver the service is restarted (after the configuration is\nchanged, we need to restart for it to take effect) the IDL will re-trigger\nthose events.\n\nCloses-Bug: #1883559\nChange-Id: I6a85fdde2558d781bf2853c5d11c5c964bbab81f\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 26f6b90930509314cece4c237e4280b60bae278f)\n'}]",0,738764,fd4821f918e561fc1c973970bfe5531f58be8dca,20,5,1,6773,,,0,"[OVN] OVN driver to adapt to enable_distributed_floating_ip changes

Prior to this patch, if the [ovn]/enable_distributed_floating_ip
configuration option changed in an existing environment the OVN
driver wouldn't adapt to it requiring administrators to clear up the
""external_mac"" column from the NAT table manually for the existing
floating ips.

With this patch, OVN will automatically correct existing NAT entries for
floating ips whenever this option changes.

To make the code simpler when handling the port up/down event this patch
always set the logical_port and the neutron:fip_external_mac key in the
external_ids column of the NAT entry when creating the floating ip.

Note that we are not using the maintenance task for this either, we are
re-using the event that set/unset the ""external_mac"" column for this
because, whenenver the service is restarted (after the configuration is
changed, we need to restart for it to take effect) the IDL will re-trigger
those events.

Closes-Bug: #1883559
Change-Id: I6a85fdde2558d781bf2853c5d11c5c964bbab81f
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 26f6b90930509314cece4c237e4280b60bae278f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/738764/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",4,fd4821f918e561fc1c973970bfe5531f58be8dca,," if up and ovn_conf.is_ovn_distributed_floating_ip(): if nat['external_mac'] != mac: LOG.debug(""Setting external_mac of port %s to %s"", port_id, mac) self._nb_ovn.db_set( 'NAT', nat['_uuid'], ('external_mac', mac)).execute( check_error=True) else: if nat['external_mac']: LOG.debug(""Clearing up external_mac of port %s"", port_id) self._nb_ovn.db_clear( 'NAT', nat['_uuid'], 'external_mac').execute( check_error=True)"," if not ovn_conf.is_ovn_distributed_floating_ip(): return if up: LOG.debug(""Setting external_mac of port %s to %s"", port_id, mac) self._nb_ovn.db_set( 'NAT', nat['_uuid'], ('external_mac', mac)).execute(check_error=True) else: LOG.debug(""Clearing up external_mac of port %s"", port_id) self._nb_ovn.db_clear( 'NAT', nat['_uuid'], 'external_mac').execute(check_error=True)",42,27
openstack%2Ftripleo-ci~master~Ic60889457c6dbc81e42c36ecab1c5db820b6f9cb,openstack/tripleo-ci,master,Ic60889457c6dbc81e42c36ecab1c5db820b6f9cb,Put containers to exclude list coming from docker.io,ABANDONED,2020-07-15 14:56:19.000000000,2020-07-16 10:20:35.000000000,,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-15 14:56:19.000000000', 'files': ['roles/build-containers/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e41f4763f4721a553f727c48a0a5c0eb7ea1d686', 'message': 'Put containers to exclude list coming from docker.io\n\nDuring container build process, the containers coming from\ndocker.io are not rebuilt in promotion pipeline and not\npushed to rdo registry and docker.io.\n\nPromoter uses [1] as a source of truth for containers\nand since docker.io containers are not built so those\ncontainers not found on RDO registry and promoter\nfails to push container to docker.io.\n\nMoving it to exclude list fixes the issue.\n\n[1] https://opendev.org/openstack/tripleo-common/src/branch/master/container-images/tripleo_containers.yaml\n\nChange-Id: Ic60889457c6dbc81e42c36ecab1c5db820b6f9cb\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",3,741233,e41f4763f4721a553f727c48a0a5c0eb7ea1d686,9,9,1,12393,,,0,"Put containers to exclude list coming from docker.io

During container build process, the containers coming from
docker.io are not rebuilt in promotion pipeline and not
pushed to rdo registry and docker.io.

Promoter uses [1] as a source of truth for containers
and since docker.io containers are not built so those
containers not found on RDO registry and promoter
fails to push container to docker.io.

Moving it to exclude list fixes the issue.

[1] https://opendev.org/openstack/tripleo-common/src/branch/master/container-images/tripleo_containers.yaml

Change-Id: Ic60889457c6dbc81e42c36ecab1c5db820b6f9cb
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/33/741233/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/vars/main.yaml'],1,e41f4763f4721a553f727c48a0a5c0eb7ea1d686,excludedocker, # List of containers coming docker.io - daemon - prometheus - alertmanager - node-exporter - grafana,,6,0
openstack%2Ftripleo-heat-templates~master~I772ad486ca11525b8756a0b8cac7a5345373a5d3,openstack/tripleo-heat-templates,master,I772ad486ca11525b8756a0b8cac7a5345373a5d3,Convert roles section into tasks-include_role in deploy-steps.j2.,MERGED,2020-06-30 12:57:43.000000000,2020-07-16 10:18:01.000000000,2020-07-15 16:46:59.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-06-30 12:57:43.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70eacd3dab79a02e24bc30c97cdf5dc744908605', 'message': ""Convert roles section into tasks-include_role in deploy-steps.j2.\n\nWhen executing the deployment_steps_playbook.yaml passing\na specific --tags, it looks like this play gets executed\neven though the tag passed in --tags isn't common_roles.\n\nThis patch converts the roles: structure into a:\ntasks:\n  - include_role:\n\nwhich is the prefered way since Ansible 2.4. This way, the\ntags work properly and the execution of both roles is skipped\nif the tag doesn't match common_roles.\n\nChange-Id: I772ad486ca11525b8756a0b8cac7a5345373a5d3\nCloses-Bug: #1885721\n""}]",0,738606,70eacd3dab79a02e24bc30c97cdf5dc744908605,41,12,1,26343,,,0,"Convert roles section into tasks-include_role in deploy-steps.j2.

When executing the deployment_steps_playbook.yaml passing
a specific --tags, it looks like this play gets executed
even though the tag passed in --tags isn't common_roles.

This patch converts the roles: structure into a:
tasks:
  - include_role:

which is the prefered way since Ansible 2.4. This way, the
tags work properly and the execution of both roles is skipped
if the tag doesn't match common_roles.

Change-Id: I772ad486ca11525b8756a0b8cac7a5345373a5d3
Closes-Bug: #1885721
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/738606/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,70eacd3dab79a02e24bc30c97cdf5dc744908605,ffwd-upgrade2, tasks: - include_role: name: tripleo_bootstrap - include_role: name: tripleo_ssh_known_hosts, roles: - tripleo_bootstrap - tripleo_ssh_known_hosts,5,3
openstack%2Fos-brick~stable%2Ftrain~I3e6b8f7fffff8aa2e9d4a3009374c74baa131405,openstack/os-brick,stable/train,I3e6b8f7fffff8aa2e9d4a3009374c74baa131405,Port the os-bricks jobs to Zuul v3,MERGED,2020-07-07 16:56:00.000000000,2020-07-16 10:07:24.000000000,2020-07-16 10:04:00.000000000,"[{'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-07-07 16:56:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5418d080a3683beaaa35570c33232a3d7e081617', 'message': 'Port the os-bricks jobs to Zuul v3\n\nAll existing jobs are converted to native Zuul v3 versions.\n\nos-brick-cinder-tempest-dsvm-lvm-lio-barbican has been removed\nbecause it is a duplicate of cinder-tempest-plugin-lvm-lio-barbican\nwhich does not test against the current os-brick.\n\nos-brick-src-tempest-lvm-lio-barbican is in fact the same job,\nbut it tests against the os-brick codebase being tested.\n\nPartial-Bug: #1853372\n\nDepends-On: https://review.opendev.org/672804\nChange-Id: I3e6b8f7fffff8aa2e9d4a3009374c74baa131405\n(cherry picked from commit 8ef7c54807dd2a877705d795999b344b113aba62)\n'}]",0,739817,5418d080a3683beaaa35570c33232a3d7e081617,47,9,1,10459,,,0,"Port the os-bricks jobs to Zuul v3

All existing jobs are converted to native Zuul v3 versions.

os-brick-cinder-tempest-dsvm-lvm-lio-barbican has been removed
because it is a duplicate of cinder-tempest-plugin-lvm-lio-barbican
which does not test against the current os-brick.

os-brick-src-tempest-lvm-lio-barbican is in fact the same job,
but it tests against the os-brick codebase being tested.

Partial-Bug: #1853372

Depends-On: https://review.opendev.org/672804
Change-Id: I3e6b8f7fffff8aa2e9d4a3009374c74baa131405
(cherry picked from commit 8ef7c54807dd2a877705d795999b344b113aba62)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/17/739817/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5418d080a3683beaaa35570c33232a3d7e081617,, - os-brick-src-devstack-plugin-ceph: - os-brick-src-tempest-lvm-lio-barbican - os-brick-src-tempest-lvm-lio-barbican - job: name: os-brick-src-devstack-plugin-ceph description: | Tempest job which tests os-brick from source. Former names for this job were: * legacy-tempest-dsvm-full-ceph-plugin-src-os-brick parent: cinder-plugin-ceph-tempest required-projects: - opendev.org/openstack/os-brick - job: name: os-brick-src-tempest-lvm-lio-barbican parent: cinder-tempest-plugin-lvm-lio-barbican description: | Specialized cinder-tempest-lvm-lio-barbican which runs against os-brick from sources. Former names for this job were: * legacy-tempest-dsvm-full-lio-src-os-brick required-projects: - opendev.org/openstack/os-brick, - legacy-tempest-dsvm-full-ceph-plugin-src-os-brick: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - legacy-tempest-dsvm-full-lio-src-os-brick: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - os-brick-cinder-tempest-dsvm-lvm-lio-barbican - legacy-tempest-dsvm-full-lio-src-os-brick: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - os-brick-cinder-tempest-dsvm-lvm-lio-barbican- job: name: os-brick-cinder-tempest-dsvm-lvm-lio-barbican parent: cinder-tempest-dsvm-lvm-lio-barbican required-projects: - openstack/cinder,22,17
openstack%2Fmistral~master~Ia92d799a421e07542f270223c1add2aae7b32aab,openstack/mistral,master,Ia92d799a421e07542f270223c1add2aae7b32aab,Add a protection for list commands from parallel deletes,MERGED,2020-07-13 08:45:31.000000000,2020-07-16 09:32:32.000000000,2020-07-16 09:30:50.000000000,"[{'_account_id': 8731}, {'_account_id': 9029}, {'_account_id': 15426}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 30755}]","[{'number': 1, 'created': '2020-07-13 08:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/3c6da16736535fdbcfdfe2dd674561baf1e3c9dd', 'message': 'WIP: add a protection for list commands from parallel deletes\n\nChange-Id: Ia92d799a421e07542f270223c1add2aae7b32aab\nCloses-Bug: #1887357\n'}, {'number': 2, 'created': '2020-07-14 11:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/ac7e1e99a6b0956e60bb182bc1e48f78a714ee8a', 'message': ""Add a protection for list commands from parallel deletes\n\n* While fetching a list of object in the REST layer we now check\n  if the object has already been deleted in parallel (by catching\n  the corresponding exception caused by lazy loading) and don't\n  include it into the result set.\n* Added the corresponding test that uses mocking and two synchronized\n  threads to reproduce this corner case.\n* Minor style changes.\n\nChange-Id: Ia92d799a421e07542f270223c1add2aae7b32aab\nCloses-Bug: #1887357\n""}, {'number': 3, 'created': '2020-07-15 09:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9bada942e9bc9f51aabbc36c185159b025e12b60', 'message': ""Add a protection for list commands from parallel deletes\n\n* While fetching a list of object in the REST layer we now check\n  if the object has already been deleted in parallel (by catching\n  the corresponding exception caused by lazy loading) and don't\n  include it into the result set.\n* Added the corresponding test that uses mocking and two synchronized\n  threads to reproduce this corner case.\n* Minor style changes.\n\nChange-Id: Ia92d799a421e07542f270223c1add2aae7b32aab\nCloses-Bug: #1887357\n""}, {'number': 4, 'created': '2020-07-15 09:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/deb47afef9b6a95afb05ab3cdbea0c21d45729c8', 'message': ""Add a protection for list commands from parallel deletes\n\n* While fetching a list of object in the REST layer we now check\n  if the object has already been deleted in parallel (by catching\n  the corresponding exception caused by lazy loading) and don't\n  include it into the result set.\n* Added the corresponding test that uses mocking and two synchronized\n  threads to reproduce this corner case.\n* Minor style changes.\n\nChange-Id: Ia92d799a421e07542f270223c1add2aae7b32aab\nCloses-Bug: #1887357\n""}, {'number': 5, 'created': '2020-07-16 06:14:09.000000000', 'files': ['mistral/tests/unit/api/v2/test_parallel_operations.py', 'mistral/utils/rest_utils.py', 'mistral/tests/unit/api/v2/test_global_publish.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/4f617856b6976244cb4bc588356a1170bcf73379', 'message': ""Add a protection for list commands from parallel deletes\n\n* While fetching a list of object in the REST layer we now check\n  if the object has already been deleted in parallel (by catching\n  the corresponding exception caused by lazy loading) and don't\n  include it into the result set.\n* Added the corresponding test that uses mocking and two synchronized\n  threads to reproduce this corner case.\n* Minor style changes.\n\nChange-Id: Ia92d799a421e07542f270223c1add2aae7b32aab\nCloses-Bug: #1887357\n""}]",8,740638,4f617856b6976244cb4bc588356a1170bcf73379,23,9,5,8731,,,0,"Add a protection for list commands from parallel deletes

* While fetching a list of object in the REST layer we now check
  if the object has already been deleted in parallel (by catching
  the corresponding exception caused by lazy loading) and don't
  include it into the result set.
* Added the corresponding test that uses mocking and two synchronized
  threads to reproduce this corner case.
* Minor style changes.

Change-Id: Ia92d799a421e07542f270223c1add2aae7b32aab
Closes-Bug: #1887357
",git fetch https://review.opendev.org/openstack/mistral refs/changes/38/740638/2 && git format-patch -1 --stdout FETCH_HEAD,['mistral/utils/rest_utils.py'],1,3c6da16736535fdbcfdfe2dd674561baf1e3c9dd,bug/1887357,"from sqlalchemy.orm import exc as sa_exc try: if resource_function: rest_resource = resource_function(db_model) else: rest_resource = cls.from_db_model(db_model) rest_resources.append(rest_resource) except sa_exc.ObjectDeletedError: # If the persistent object has been removed in a parallel # transaction then it just won't be included into the # result set and the warning will be printed into the log. LOG.warning( 'The object must have been deleted while being fetched' ' with a list request [model_class=%s, id=%s]', cls(db_model), db_model.id, exc_info=True )", if resource_function: rest_resource = resource_function(db_model) else: rest_resource = cls.from_db_model(db_model) rest_resources.append(rest_resource),18,5
openstack%2Ftripleo-heat-templates~master~I04a6114ca3d2703ca2891d6807d49b78ffee0f97,openstack/tripleo-heat-templates,master,I04a6114ca3d2703ca2891d6807d49b78ffee0f97,Simplify host entries generation,MERGED,2020-07-07 05:41:44.000000000,2020-07-16 09:29:32.000000000,2020-07-16 09:28:13.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-07-07 05:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30e6fed88a7d438313f442c08c3520be47049fc8', 'message': 'Simplify host entries generation\n\nThis removes a resource and the the unnecessary yaql function.\n\nChange-Id: I04a6114ca3d2703ca2891d6807d49b78ffee0f97\nRelated-Bug: #1886203\n'}, {'number': 2, 'created': '2020-07-07 06:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5dd756b595d65775aa720968f46b994a3f342c1c', 'message': 'Simplify host entries generation\n\nThis removes a resource and the the unnecessary yaql function.\nAlso replaces json data types with lists to reduce memory\nfootprint.\n\nChange-Id: I04a6114ca3d2703ca2891d6807d49b78ffee0f97\nRelated-Bug: #1886203\n'}, {'number': 3, 'created': '2020-07-13 06:55:45.000000000', 'files': ['overcloud.j2.yaml', 'puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d573f4e8787c99982f6172aae74042f05a750d56', 'message': 'Simplify host entries generation\n\nThis removes a resource and the the unnecessary yaql function.\nAlso replaces json data types with lists to reduce memory\nfootprint.\n\nChange-Id: I04a6114ca3d2703ca2891d6807d49b78ffee0f97\nRelated-Bug: #1886203\n'}]",8,739661,d573f4e8787c99982f6172aae74042f05a750d56,48,10,3,8833,,,0,"Simplify host entries generation

This removes a resource and the the unnecessary yaql function.
Also replaces json data types with lists to reduce memory
footprint.

Change-Id: I04a6114ca3d2703ca2891d6807d49b78ffee0f97
Related-Bug: #1886203
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/739661/2 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'puppet/role.role.j2.yaml']",2,30e6fed88a7d438313f442c08c3520be47049fc8,remove_yaql," list_join: - ',' - - str_replace: template: PRIMARYIP PRIMARYHOST.DOMAIN PRIMARYHOST params: PRIMARYIP: {get_attr: [NetIpMap, net_ip_map, {get_param: [ServiceNetMap, {{role.name}}HostnameResolveNetwork]}]} DOMAIN: {get_param: CloudDomain} PRIMARYHOST: {get_attr: [{{server_resource_name}}, name]} - str_replace: template: {{network.name}}IP {{network.name}}HOST.DOMAIN {{network.name}}HOST params: DOMAIN: {get_param: CloudDomain} {{network.name}}IP: {get_attr: [{{network.name}}Port, ip_address]} {{network.name}}HOST: {get_attr: [NetHostMap, value, {{network.name_lower|default(network.name.lower())}}, short]} - str_replace: template: CTLPLANEIP CTLPLANEHOST.DOMAIN CTLPLANEHOST params: DOMAIN: {get_param: CloudDomain} CTLPLANEIP: {get_attr: [{{server_resource_name}}, networks, ctlplane, 0]} CTLPLANEHOST: {get_attr: [NetHostMap, value, ctlplane, short]}"," entries: - str_replace: template: PRIMARYIP PRIMARYHOST.DOMAIN PRIMARYHOST params: PRIMARYIP: {get_attr: [NetIpMap, net_ip_map, {get_param: [ServiceNetMap, {{role.name}}HostnameResolveNetwork]}]} DOMAIN: {get_param: CloudDomain} PRIMARYHOST: {get_attr: [{{server_resource_name}}, name]} - str_replace: template: {{network.name}}IP {{network.name}}HOST.DOMAIN {{network.name}}HOST params: DOMAIN: {get_param: CloudDomain} {{network.name}}IP: {get_attr: [{{network.name}}Port, ip_address]} {{network.name}}HOST: {get_attr: [NetHostMap, value, {{network.name_lower|default(network.name.lower())}}, short]} - str_replace: template: CTLPLANEIP CTLPLANEHOST.DOMAIN CTLPLANEHOST params: DOMAIN: {get_param: CloudDomain} CTLPLANEIP: {get_attr: [{{server_resource_name}}, networks, ctlplane, 0]} CTLPLANEHOST: {get_attr: [NetHostMap, value, ctlplane, short]}",31,40
openstack%2Ftripleo-puppet-elements~master~Iae6ed1629eb01df5efdc7b61997d8adaf56a97cd,openstack/tripleo-puppet-elements,master,Iae6ed1629eb01df5efdc7b61997d8adaf56a97cd,"Revert ""add buildah to overcloud-base""",MERGED,2020-07-15 12:49:35.000000000,2020-07-16 09:28:15.000000000,2020-07-16 09:28:15.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-15 12:49:35.000000000', 'files': ['elements/overcloud-base/install.d/package-installs-overcloud-base'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/9245195ee1fc363a124c6c4dd8c8609c051370aa', 'message': 'Revert ""add buildah to overcloud-base""\n\nThis reverts commit 96199e9c4c31b2762e2436de664a422aca7bad35.\n\nbuildah should not be required for the overcloud. We should\nfix the tripleo-ansible role to make it optional for login.\n\nChange-Id: Iae6ed1629eb01df5efdc7b61997d8adaf56a97cd\n'}]",1,741168,9245195ee1fc363a124c6c4dd8c8609c051370aa,10,9,1,14985,,,0,"Revert ""add buildah to overcloud-base""

This reverts commit 96199e9c4c31b2762e2436de664a422aca7bad35.

buildah should not be required for the overcloud. We should
fix the tripleo-ansible role to make it optional for login.

Change-Id: Iae6ed1629eb01df5efdc7b61997d8adaf56a97cd
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/68/741168/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-base/install.d/package-installs-overcloud-base'],1,9245195ee1fc363a124c6c4dd8c8609c051370aa,,,buildah,0,1
openstack%2Fcharm-glance~master~I7bc0b06abfe19b1783593ae10f384806c8334d29,openstack/charm-glance,master,I7bc0b06abfe19b1783593ae10f384806c8334d29,Sync charm-helpers for Victoria/Groovy updates,MERGED,2020-07-13 18:59:48.000000000,2020-07-16 09:10:29.000000000,2020-07-16 09:10:29.000000000,"[{'_account_id': 11805}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 18:59:48.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/python.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/4a6500a7e0fb6c60067cdfe500bb171ad81c53f3', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: I7bc0b06abfe19b1783593ae10f384806c8334d29\n'}]",0,740760,4a6500a7e0fb6c60067cdfe500bb171ad81c53f3,12,5,1,11805,,,0,"Sync charm-helpers for Victoria/Groovy updates

This sync picks up the release and version details for Victoria/Groovy.

Change-Id: I7bc0b06abfe19b1783593ae10f384806c8334d29
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/60/740760/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/python.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/__init__.py']",10,4a6500a7e0fb6c60067cdfe500bb171ad81c53f3,batch-update,from __future__ import print_function from __future__ import absolute_import,,51,2
openstack%2Fcharm-nova-compute~master~I73649f07b0b5692e8f603ee6ca81fd5d4557275c,openstack/charm-nova-compute,master,I73649f07b0b5692e8f603ee6ca81fd5d4557275c,Sync charm-helpers for Victoria/Groovy updates,MERGED,2020-07-13 19:00:43.000000000,2020-07-16 09:02:46.000000000,2020-07-16 09:02:45.000000000,"[{'_account_id': 11805}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 19:00:43.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/9ad925a8c89bd1f1a969a037ebafcc3b376651d3', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: I73649f07b0b5692e8f603ee6ca81fd5d4557275c\n'}]",0,740771,9ad925a8c89bd1f1a969a037ebafcc3b376651d3,14,5,1,11805,,,0,"Sync charm-helpers for Victoria/Groovy updates

This sync picks up the release and version details for Victoria/Groovy.

Change-Id: I73649f07b0b5692e8f603ee6ca81fd5d4557275c
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/71/740771/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py']",6,9ad925a8c89bd1f1a969a037ebafcc3b376651d3,batch-update," # Victoria 'victoria': 'focal-updates/victoria', 'focal-victoria': 'focal-updates/victoria', 'focal-victoria/updates': 'focal-updates/victoria', 'focal-updates/victoria': 'focal-updates/victoria', 'victoria/proposed': 'focal-proposed/victoria', 'focal-victoria/proposed': 'focal-proposed/victoria', 'focal-proposed/victoria': 'focal-proposed/victoria',",,41,2
openstack%2Fdevstack~master~I15f66ea8837344aeb01d4fa9a3bc3d20adb93fd6,openstack/devstack,master,I15f66ea8837344aeb01d4fa9a3bc3d20adb93fd6,DO NOT REVIEW: [OVN] Do not fail if q-l3 or q-agt is enabled,ABANDONED,2020-07-15 14:54:36.000000000,2020-07-16 08:39:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-15 14:54:36.000000000', 'files': ['lib/neutron_plugins/ovn'], 'web_link': 'https://opendev.org/openstack/devstack/commit/811b47eef19105b8778819169212e25309ba061d', 'message': 'DO NOT REVIEW: [OVN] Do not fail if q-l3 or q-agt is enabled\n\nChange-Id: I15f66ea8837344aeb01d4fa9a3bc3d20adb93fd6\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,741232,811b47eef19105b8778819169212e25309ba061d,3,1,1,6773,,,0,"DO NOT REVIEW: [OVN] Do not fail if q-l3 or q-agt is enabled

Change-Id: I15f66ea8837344aeb01d4fa9a3bc3d20adb93fd6
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/32/741232/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/ovn'],1,811b47eef19105b8778819169212e25309ba061d,ovn-devstack," if is_service_enabled q-svc neutron-api && [[ ! $Q_ML2_PLUGIN_MECHANISM_DRIVERS =~ ""ovn"" ]]; then"," if is_service_enabled q-agt neutron-agt; then die $LINENO ""The q-agt/neutron-agt service must be disabled with OVN."" elif is_service_enabled q-l3 neutron-l3; then die $LINENO ""The q-l3/neutron-l3 service must be disabled with OVN."" elif is_service_enabled q-svc neutron-api && [[ ! $Q_ML2_PLUGIN_MECHANISM_DRIVERS =~ ""ovn"" ]]; then",1,5
openstack%2Fproject-config~master~Iafb5ea2a643fc25c8559a4cca684eaa28501d942,openstack/project-config,master,Iafb5ea2a643fc25c8559a4cca684eaa28501d942,Switch dragonflow ACL to retired,MERGED,2020-07-15 21:01:09.000000000,2020-07-16 08:18:11.000000000,2020-07-16 06:22:25.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 21:01:09.000000000', 'files': ['gerrit/projects.yaml', 'gerrit/acls/openstack/dragonflow.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/30bb773f389cacc29d0fa523b0ce20b8f84476ff', 'message': 'Switch dragonflow ACL to retired\n\nThis is a special step 1.5 in the retirement process, doing part of step\n3 [0] before step 2. No one from the dragonflow team is around anymore,\nso in order to get the repo contents removed and README updated in [1],\nwe need to switch to the retired ACL first to enable the TC to merge\nthat change.\n\n[0] https://review.opendev.org/#/c/737578/\n[1] https://review.opendev.org/#/c/737564/\n\nChange-Id: Iafb5ea2a643fc25c8559a4cca684eaa28501d942\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741317,30bb773f389cacc29d0fa523b0ce20b8f84476ff,9,4,1,11904,,,0,"Switch dragonflow ACL to retired

This is a special step 1.5 in the retirement process, doing part of step
3 [0] before step 2. No one from the dragonflow team is around anymore,
so in order to get the repo contents removed and README updated in [1],
we need to switch to the retired ACL first to enable the TC to merge
that change.

[0] https://review.opendev.org/#/c/737578/
[1] https://review.opendev.org/#/c/737564/

Change-Id: Iafb5ea2a643fc25c8559a4cca684eaa28501d942
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/17/741317/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'gerrit/acls/openstack/dragonflow.config']",2,30bb773f389cacc29d0fa523b0ce20b8f84476ff,dragonflow,,"[access ""refs/heads/*""] abandon = group dragonflow-core label-Code-Review = -2..+2 group dragonflow-core label-Workflow = -1..+1 group dragonflow-core [access ""refs/heads/stable/*""] abandon = group Change Owner abandon = group Project Bootstrappers abandon = group dragonflow-release abandon = group stable-maint-core exclusiveGroupPermissions = abandon label-Code-Review label-Workflow label-Code-Review = -2..+2 group Project Bootstrappers label-Code-Review = -2..+2 group dragonflow-release label-Code-Review = -2..+2 group stable-maint-core label-Code-Review = -1..+1 group Registered Users label-Workflow = -1..+0 group Change Owner label-Workflow = -1..+1 group Project Bootstrappers label-Workflow = -1..+1 group dragonflow-release label-Workflow = -1..+1 group stable-maint-core [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",2,27
openstack%2Fkolla-ansible~stable%2Ftrain~I6187997a00f908e87ceace6f79f5f7262ea78738,openstack/kolla-ansible,stable/train,I6187997a00f908e87ceace6f79f5f7262ea78738,Manila - adjust logic for Open vSwitch configuration generation,MERGED,2020-07-15 13:59:05.000000000,2020-07-16 08:13:01.000000000,2020-07-16 08:11:10.000000000,"[{'_account_id': 167}, {'_account_id': 10910}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-15 13:59:05.000000000', 'files': ['ansible/roles/openvswitch/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6b51404a943c933b4925ebfd7044321169f31d5d', 'message': 'Manila - adjust logic for Open vSwitch configuration generation\n\nWork was done to selectively enable Open vSwitch deployment for Manila\nservices as bug #1884939.  However this did not appear to catch all\ncases.  This patch adds a couple more.\n\nChange-Id: I6187997a00f908e87ceace6f79f5f7262ea78738\nCloses-Bug: #1886166\nCo-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>\n(cherry picked from commit 78e8472c2d353c9660aba1883645161216e86d25)\n'}]",0,741211,6b51404a943c933b4925ebfd7044321169f31d5d,8,4,1,30491,,,0,"Manila - adjust logic for Open vSwitch configuration generation

Work was done to selectively enable Open vSwitch deployment for Manila
services as bug #1884939.  However this did not appear to catch all
cases.  This patch adds a couple more.

Change-Id: I6187997a00f908e87ceace6f79f5f7262ea78738
Closes-Bug: #1886166
Co-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>
(cherry picked from commit 78e8472c2d353c9660aba1883645161216e86d25)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/11/741211/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/openvswitch/tasks/config.yml'],1,6b51404a943c933b4925ebfd7044321169f31d5d,bug/1886166-stable/ussuri-stable/train, - service.host_in_groups | bool - service.host_in_groups | bool, - inventory_hostname in groups[service.group] - inventory_hostname in groups[service.group],2,2
openstack%2Fcyborg-tempest-plugin~master~If2f83d578c9848f35f974c1e64cbfa0da9abb1ae,openstack/cyborg-tempest-plugin,master,If2f83d578c9848f35f974c1e64cbfa0da9abb1ae,migrate testing to ubuntu focal,ABANDONED,2020-07-14 02:48:19.000000000,2020-07-16 08:12:35.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 02:48:19.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/93718b600ae1c79c9a25493adaf26e8bc34bba90', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: If2f83d578c9848f35f974c1e64cbfa0da9abb1ae\n'}]",0,740850,93718b600ae1c79c9a25493adaf26e8bc34bba90,5,3,1,30384,,,0,"migrate testing to ubuntu focal

Change-Id: If2f83d578c9848f35f974c1e64cbfa0da9abb1ae
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/50/740850/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,93718b600ae1c79c9a25493adaf26e8bc34bba90,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1,,4,0
openstack%2Fkolla-ansible~stable%2Fussuri~I6187997a00f908e87ceace6f79f5f7262ea78738,openstack/kolla-ansible,stable/ussuri,I6187997a00f908e87ceace6f79f5f7262ea78738,Manila - adjust logic for Open vSwitch configuration generation,MERGED,2020-07-15 13:58:56.000000000,2020-07-16 08:06:31.000000000,2020-07-16 08:01:16.000000000,"[{'_account_id': 167}, {'_account_id': 10910}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-15 13:58:56.000000000', 'files': ['ansible/roles/openvswitch/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d2be30095519a931390e347ccd0e68a563c8be94', 'message': 'Manila - adjust logic for Open vSwitch configuration generation\n\nWork was done to selectively enable Open vSwitch deployment for Manila\nservices as bug #1884939.  However this did not appear to catch all\ncases.  This patch adds a couple more.\n\nChange-Id: I6187997a00f908e87ceace6f79f5f7262ea78738\nCloses-Bug: #1886166\nCo-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>\n(cherry picked from commit 78e8472c2d353c9660aba1883645161216e86d25)\n'}]",0,741210,d2be30095519a931390e347ccd0e68a563c8be94,10,4,1,30491,,,0,"Manila - adjust logic for Open vSwitch configuration generation

Work was done to selectively enable Open vSwitch deployment for Manila
services as bug #1884939.  However this did not appear to catch all
cases.  This patch adds a couple more.

Change-Id: I6187997a00f908e87ceace6f79f5f7262ea78738
Closes-Bug: #1886166
Co-Authored-By: Sebastian Luna Valero <sebastian.luna.valero@gmail.com>
(cherry picked from commit 78e8472c2d353c9660aba1883645161216e86d25)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/10/741210/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/openvswitch/tasks/config.yml'],1,d2be30095519a931390e347ccd0e68a563c8be94,bug/1886166-stable/ussuri, - service.host_in_groups | bool - service.host_in_groups | bool, - inventory_hostname in groups[service.group] - inventory_hostname in groups[service.group],2,2
openstack%2Fkolla-ansible~stable%2Fstein~Ifbab7b673ba87925e52bb01c0996479eb1b76c44,openstack/kolla-ansible,stable/stein,Ifbab7b673ba87925e52bb01c0996479eb1b76c44,Fix Logstash 2.4 log rotation,MERGED,2020-07-15 15:35:11.000000000,2020-07-16 08:06:08.000000000,2020-07-16 08:01:13.000000000,"[{'_account_id': 167}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-15 15:35:11.000000000', 'files': ['ansible/roles/common/templates/cron.json.j2', 'releasenotes/notes/bug-1886787-013164ffc2f67264.yaml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/common/templates/cron-logrotate-logstash.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/da1267e609f2724d94ef0a494a78a5591eb84d81', 'message': ""Fix Logstash 2.4 log rotation\n\nLogstash 2.4 uses integrated in container logrotate configuration\nwhich tries to rotate logs in /var/log/logstash and Kolla's Logstash\nlogs are in /var/log/kolla/logstash/\nThis patch adds kolla-ansible internal logrotate config for Logstash\n\nChange-Id: Ifbab7b673ba87925e52bb01c0996479eb1b76c44\nCloses-Bug: #1886787\n(cherry picked from commit 0e353d3f57c6f2cb45d993da8737b6e112dd1d45)\n""}]",0,741250,da1267e609f2724d94ef0a494a78a5591eb84d81,9,5,1,23084,,,0,"Fix Logstash 2.4 log rotation

Logstash 2.4 uses integrated in container logrotate configuration
which tries to rotate logs in /var/log/logstash and Kolla's Logstash
logs are in /var/log/kolla/logstash/
This patch adds kolla-ansible internal logrotate config for Logstash

Change-Id: Ifbab7b673ba87925e52bb01c0996479eb1b76c44
Closes-Bug: #1886787
(cherry picked from commit 0e353d3f57c6f2cb45d993da8737b6e112dd1d45)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/741250/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/cron.json.j2', 'releasenotes/notes/bug-1886787-013164ffc2f67264.yaml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/common/templates/cron-logrotate-logstash.conf.j2']",4,da1267e609f2724d94ef0a494a78a5591eb84d81,bug/1886787,"""/var/log/kolla/logstash/*.log"" { } ",,14,0
openstack%2Fkolla-ansible~stable%2Frocky~Ifbab7b673ba87925e52bb01c0996479eb1b76c44,openstack/kolla-ansible,stable/rocky,Ifbab7b673ba87925e52bb01c0996479eb1b76c44,Fix Logstash 2.4 log rotation,MERGED,2020-07-15 15:05:52.000000000,2020-07-16 08:03:25.000000000,2020-07-16 08:01:12.000000000,"[{'_account_id': 167}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-15 15:05:52.000000000', 'files': ['ansible/roles/common/templates/cron.json.j2', 'releasenotes/notes/bug-1886787-013164ffc2f67264.yaml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/common/templates/cron-logrotate-logstash.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1aeed4343b7af37b7cdf932a0055e337227e1d8f', 'message': ""Fix Logstash 2.4 log rotation\n\nLogstash 2.4 uses integrated in container logrotate configuration\nwhich tries to rotate logs in /var/log/logstash and Kolla's Logstash\nlogs are in /var/log/kolla/logstash/\nThis patch adds kolla-ansible internal logrotate config for Logstash\n\nChange-Id: Ifbab7b673ba87925e52bb01c0996479eb1b76c44\nCloses-Bug: #1886787\n(cherry picked from commit 0e353d3f57c6f2cb45d993da8737b6e112dd1d45)\n""}]",0,741235,1aeed4343b7af37b7cdf932a0055e337227e1d8f,8,5,1,23084,,,0,"Fix Logstash 2.4 log rotation

Logstash 2.4 uses integrated in container logrotate configuration
which tries to rotate logs in /var/log/logstash and Kolla's Logstash
logs are in /var/log/kolla/logstash/
This patch adds kolla-ansible internal logrotate config for Logstash

Change-Id: Ifbab7b673ba87925e52bb01c0996479eb1b76c44
Closes-Bug: #1886787
(cherry picked from commit 0e353d3f57c6f2cb45d993da8737b6e112dd1d45)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/35/741235/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/cron.json.j2', 'releasenotes/notes/bug-1886787-013164ffc2f67264.yaml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/common/templates/cron-logrotate-logstash.conf.j2']",4,1aeed4343b7af37b7cdf932a0055e337227e1d8f,bug/1886787,"""/var/log/kolla/logstash/*.log"" { } ",,14,0
openstack%2Fkolla-ansible~stable%2Fussuri~I023d96d25edd9d2fafd4415743e298af72a861a1,openstack/kolla-ansible,stable/ussuri,I023d96d25edd9d2fafd4415743e298af72a861a1,Support editable virtualenv installation for development,MERGED,2020-07-15 19:32:44.000000000,2020-07-16 08:03:25.000000000,2020-07-16 08:01:09.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-15 19:32:44.000000000', 'files': ['tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/97d153bff16e2e123b4137da172b245244fe0181', 'message': 'Support editable virtualenv installation for development\n\nAn editable installation allows changes to be made to the source code\ndirectly, and have those changes applied immediately without having to\nreinstall.\n\n    pip install -e /path/to/kolla-ansible\n\nChange-Id: I023d96d25edd9d2fafd4415743e298af72a861a1\n(cherry picked from commit 5fb37ae58494cda74fba49ade43d082fb6b69288)\n'}]",0,741308,97d153bff16e2e123b4137da172b245244fe0181,10,4,1,30491,,,0,"Support editable virtualenv installation for development

An editable installation allows changes to be made to the source code
directly, and have those changes applied immediately without having to
reinstall.

    pip install -e /path/to/kolla-ansible

Change-Id: I023d96d25edd9d2fafd4415743e298af72a861a1
(cherry picked from commit 5fb37ae58494cda74fba49ade43d082fb6b69288)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/741308/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla-ansible'],1,97d153bff16e2e123b4137da172b245244fe0181,," if test -f ${VIRTUAL_ENV}/lib/python*/site-packages/kolla-ansible.egg-link; then # Editable install. BASEDIR=""$(head -n1 ${VIRTUAL_ENV}/lib/python*/site-packages/kolla-ansible.egg-link)"" else BASEDIR=""${VIRTUAL_ENV}/share/kolla-ansible"" fi"," BASEDIR=""${VIRTUAL_ENV}/share/kolla-ansible""",6,1
openstack%2Fkolla-ansible~stable%2Fstein~I023d96d25edd9d2fafd4415743e298af72a861a1,openstack/kolla-ansible,stable/stein,I023d96d25edd9d2fafd4415743e298af72a861a1,Support editable virtualenv installation for development,MERGED,2020-07-15 19:56:10.000000000,2020-07-16 08:03:24.000000000,2020-07-16 08:01:10.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-15 19:56:10.000000000', 'files': ['tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/87e7df1f90f49dc3f812f0d032ee9308138d1c2c', 'message': 'Support editable virtualenv installation for development\n\nAn editable installation allows changes to be made to the source code\ndirectly, and have those changes applied immediately without having to\nreinstall.\n\n    pip install -e /path/to/kolla-ansible\n\nChange-Id: I023d96d25edd9d2fafd4415743e298af72a861a1\n(cherry picked from commit 5fb37ae58494cda74fba49ade43d082fb6b69288)\n'}]",0,741310,87e7df1f90f49dc3f812f0d032ee9308138d1c2c,8,4,1,30491,,,0,"Support editable virtualenv installation for development

An editable installation allows changes to be made to the source code
directly, and have those changes applied immediately without having to
reinstall.

    pip install -e /path/to/kolla-ansible

Change-Id: I023d96d25edd9d2fafd4415743e298af72a861a1
(cherry picked from commit 5fb37ae58494cda74fba49ade43d082fb6b69288)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/10/741310/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla-ansible'],1,87e7df1f90f49dc3f812f0d032ee9308138d1c2c,," if test -f ${VIRTUAL_ENV}/lib/python*/site-packages/kolla-ansible.egg-link; then # Editable install. BASEDIR=""$(head -n1 ${VIRTUAL_ENV}/lib/python*/site-packages/kolla-ansible.egg-link)"" else BASEDIR=""${VIRTUAL_ENV}/share/kolla-ansible"" fi"," BASEDIR=""${VIRTUAL_ENV}/share/kolla-ansible""",6,1
openstack%2Fkolla-ansible~stable%2Ftrain~I023d96d25edd9d2fafd4415743e298af72a861a1,openstack/kolla-ansible,stable/train,I023d96d25edd9d2fafd4415743e298af72a861a1,Support editable virtualenv installation for development,MERGED,2020-07-15 19:55:58.000000000,2020-07-16 08:03:24.000000000,2020-07-16 08:01:07.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-15 19:55:58.000000000', 'files': ['tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/94c27865c0ece9a2a48fb195c5b29d3141d82819', 'message': 'Support editable virtualenv installation for development\n\nAn editable installation allows changes to be made to the source code\ndirectly, and have those changes applied immediately without having to\nreinstall.\n\n    pip install -e /path/to/kolla-ansible\n\nChange-Id: I023d96d25edd9d2fafd4415743e298af72a861a1\n(cherry picked from commit 5fb37ae58494cda74fba49ade43d082fb6b69288)\n'}]",0,741309,94c27865c0ece9a2a48fb195c5b29d3141d82819,9,4,1,30491,,,0,"Support editable virtualenv installation for development

An editable installation allows changes to be made to the source code
directly, and have those changes applied immediately without having to
reinstall.

    pip install -e /path/to/kolla-ansible

Change-Id: I023d96d25edd9d2fafd4415743e298af72a861a1
(cherry picked from commit 5fb37ae58494cda74fba49ade43d082fb6b69288)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/09/741309/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla-ansible'],1,94c27865c0ece9a2a48fb195c5b29d3141d82819,," if test -f ${VIRTUAL_ENV}/lib/python*/site-packages/kolla-ansible.egg-link; then # Editable install. BASEDIR=""$(head -n1 ${VIRTUAL_ENV}/lib/python*/site-packages/kolla-ansible.egg-link)"" else BASEDIR=""${VIRTUAL_ENV}/share/kolla-ansible"" fi"," BASEDIR=""${VIRTUAL_ENV}/share/kolla-ansible""",6,1
openstack%2Fnetworking-l2gw~stable%2Fstein~I1bf048df49c385a92fea55f99bd0a7c4283960cf,openstack/networking-l2gw,stable/stein,I1bf048df49c385a92fea55f99bd0a7c4283960cf,Retire networking-l2gw: remove zuul jobs,MERGED,2020-07-10 12:25:12.000000000,2020-07-16 08:01:47.000000000,2020-07-16 08:01:47.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-10 12:25:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/243ea9820f539694b7bb3f2e9eb91eb98cb6ef66', 'message': 'Retire networking-l2gw: remove zuul jobs\n\nnetworking-l2gw is not a neutron stadium project, and not governed by\nopenstack, so it is time to move it to x/ namespace. As a first step\ndisable zuul jobs to avoid collisions when the new repository will be\ncreated as x/networking-l2gw.\n\nChange-Id: I1bf048df49c385a92fea55f99bd0a7c4283960cf\n(cherry picked from commit 454cf61f8a191fc25a1d85d7be5df81eab405c54)\n(cherry picked from commit 5f692dcca0a8b7cb60c9d250dbe3fa522d59425c)\n'}]",0,740453,243ea9820f539694b7bb3f2e9eb91eb98cb6ef66,7,4,1,8313,,,0,"Retire networking-l2gw: remove zuul jobs

networking-l2gw is not a neutron stadium project, and not governed by
openstack, so it is time to move it to x/ namespace. As a first step
disable zuul jobs to avoid collisions when the new repository will be
created as x/networking-l2gw.

Change-Id: I1bf048df49c385a92fea55f99bd0a7c4283960cf
(cherry picked from commit 454cf61f8a191fc25a1d85d7be5df81eab405c54)
(cherry picked from commit 5f692dcca0a8b7cb60c9d250dbe3fa522d59425c)
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/53/740453/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,243ea9820f539694b7bb3f2e9eb91eb98cb6ef66,complete-retirement-networking-l2gw-stable/train-stable/stein,, check: jobs: - networking-l2gw-tempest-dummy - l2gw-tox-lower-constraints gate: jobs: - networking-l2gw-tempest-dummy - l2gw-tox-lower-constraints - job: name: l2gw-tox-lower-constraints parent: openstack-tox-lower-constraints required-projects: - openstack/neutron,0,13
openstack%2Ftempest~master~Ifb12011ac901be57d49a6ae623a24a916837c07d,openstack/tempest,master,Ifb12011ac901be57d49a6ae623a24a916837c07d,Fix tempest plugin cookicutter repo path,MERGED,2020-07-15 18:42:08.000000000,2020-07-16 07:59:39.000000000,2020-07-16 07:58:08.000000000,"[{'_account_id': 5689}, {'_account_id': 9303}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-07-15 18:42:08.000000000', 'files': ['doc/source/plugins/plugin.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0aa0636a09a59dab87e9b7755f15188691e25417', 'message': ""Fix tempest plugin cookicutter repo path\n\ncookicutter expect ether git+<repo-url> or it has the\n'git' in url, otherwise it give error\n- http://paste.openstack.org/show/795952/\n\nplugin cookicutter README is fine but tempest doc does\nnot mention about it and end up having error\n- https://opendev.org/openstack/tempest-plugin-cookiecutter\n\nChange-Id: Ifb12011ac901be57d49a6ae623a24a916837c07d\n""}]",2,741305,0aa0636a09a59dab87e9b7755f15188691e25417,10,5,1,8556,,,0,"Fix tempest plugin cookicutter repo path

cookicutter expect ether git+<repo-url> or it has the
'git' in url, otherwise it give error
- http://paste.openstack.org/show/795952/

plugin cookicutter README is fine but tempest doc does
not mention about it and end up having error
- https://opendev.org/openstack/tempest-plugin-cookiecutter

Change-Id: Ifb12011ac901be57d49a6ae623a24a916837c07d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/05/741305/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/plugins/plugin.rst'],1,0aa0636a09a59dab87e9b7755f15188691e25417,, > pip install -U cookiecutter && cookiecutter https://opendev.org/openstack/tempest-plugin-cookiecutter.git, > pip install -U cookiecutter && cookiecutter https://opendev.org/openstack/tempest-plugin-cookiecutter,1,1
openstack%2Fpuppet-neutron~master~If022b4acb4e417f578d925f5e8d6867854107c49,openstack/puppet-neutron,master,If022b4acb4e417f578d925f5e8d6867854107c49,Add support for notifications to ironic,MERGED,2020-07-13 04:50:09.000000000,2020-07-16 06:50:47.000000000,2020-07-16 06:48:56.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 04:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/56b7eff8d363c0a2fc568418564a7d75fe386f8d', 'message': 'Add support for notifications to ironic\n\nChange-Id: If022b4acb4e417f578d925f5e8d6867854107c49\n'}, {'number': 2, 'created': '2020-07-13 06:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/cff913feb08233876cfe8603a8e115039b980d91', 'message': 'Add support for notifications to ironic\n\nChange-Id: If022b4acb4e417f578d925f5e8d6867854107c49\n'}, {'number': 3, 'created': '2020-07-13 06:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2f48fbfebdefd74bdcef96714fb034b0102283ba', 'message': 'Add support for notifications to ironic\n\nChange-Id: If022b4acb4e417f578d925f5e8d6867854107c49\n'}, {'number': 4, 'created': '2020-07-14 07:49:44.000000000', 'files': ['releasenotes/notes/server-notifications-ironic-01a481317cf11c08.yaml', 'spec/classes/neutron_server_notifications_ironic_spec.rb', 'manifests/server/notifications/ironic.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/286d66b99ef5764254f45fab6b19638afc4b967e', 'message': 'Add support for notifications to ironic\n\nChange-Id: If022b4acb4e417f578d925f5e8d6867854107c49\n'}]",0,740610,286d66b99ef5764254f45fab6b19638afc4b967e,25,4,4,9816,,,0,"Add support for notifications to ironic

Change-Id: If022b4acb4e417f578d925f5e8d6867854107c49
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/10/740610/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/server-notifications-ironic-01a481317cf11c08.yaml', 'spec/classes/neutron_server_notifications_ironic_spec.rb', 'manifests/server/notifications/ironic.pp']",3,56b7eff8d363c0a2fc568418564a7d75fe386f8d,notifications-ironic,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: neutron::server::notifications::ironic # # Configure service credentials to notify ironic # # === Parameters # # [*password*] # (required) Password for connection to ironic in admin context. # # [*notify_ironic_on_port_status_changes*] # (optional) Send notification to ironic when port status is active. # Defaults to true # # [*notify_ironic_on_port_data_changes*] # (optional) Send notifications to ironic when port data (fixed_ips/floatingips) # change so ironic can update its cache. # Defaults to true # # [*send_events_interval*] # (optional) Number of seconds between sending events to ironic if there are # any events to send. # Defaults to $::os_service_default # # [*auth_type*] # (optional) An authentication type to use with an OpenStack Identity server. # The value should contain auth plugin name # Defaults to 'password' # # [*username*] # (optional) Username for connection to ironic in admin context # Defaults to 'ironic' # # [*project_domain_name*] # (Optional) Name of domain for $project_name # Defaults to 'Default' # # [*project_name*] # (optional) ironic project's name # Defaults to 'services' # # [*user_domain_name*] # (Optional) Name of domain for $username # Defaults to 'Default' # # [*auth_url*] # (optional) Authorization URL for connection to ironic in admin context. # If version independent identity plugin is used available versions will be # determined using auth_url # Defaults to 'http://127.0.0.1:5000' # # [*region_name*] # (optional) Name of ironic region to use. Useful if keystone manages more than # one region. # Defaults to $::os_service_default # # [*valid_interfaces*] # (optional) Interface names used for getting the keystone endpoint for # the ironic API. Comma separated if multiple. # Defaults to $::os_service_default # # [*enable_notifications*] # (optional) Send notification events to ironic # Defaults to $::os_service_default # class neutron::server::notifications::ironic ( $password, $auth_type = 'password', $username = 'ironic', $project_domain_name = 'Default', $project_name = 'services', $user_domain_name = 'Default', $auth_url = 'http://127.0.0.1:5000', $region_name = $::os_service_default, $valid_interfaces = $::os_service_default, $enable_notifications = $::os_service_default, ) { include neutron::deps neutron_config { 'ironic/auth_url': value => $auth_url; 'ironic/username': value => $username; 'ironic/password': value => $password, secret => true; 'ironic/project_domain_name': value => $project_domain_name; 'ironic/project_name': value => $project_name; 'ironic/user_domain_name': value => $user_domain_name; 'ironic/region_name': value => $region_name; 'ironic/auth_type': value => $auth_type; 'ironic/valid_interfaces': value => $valid_interfaces; 'ironic/enable_notifications': value => $enable_notifications; } } ",,193,0
openstack%2Fpython-tripleoclient~master~Idac62d37a19ee49f30936e20021a9dab5af40eec,openstack/python-tripleoclient,master,Idac62d37a19ee49f30936e20021a9dab5af40eec,Fix package manager used during undercloud packages update,MERGED,2020-07-08 15:29:52.000000000,2020-07-16 06:39:44.000000000,2020-07-15 20:22:33.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-08 15:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/67289f103c0c7406dfffdd56a56cba14eb64406e', 'message': 'Fix package manager used during undercloud packages update\n\nAs described in the related bug we need to use dnf instead of yum\nfor centos8 otherwise it fails in the undercloud packages update.\n\nI am using the python version to determine - py3 is dnf. Open to\nother suggestions.\n\nFound as part of the work in [1].\n\nRelated-Bug: 1886837\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: Idac62d37a19ee49f30936e20021a9dab5af40eec\n'}, {'number': 2, 'created': '2020-07-09 10:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d6a368903eb793a1a0324281c112108c68ed96f9', 'message': 'Fix package manager used during undercloud packages update\n\nAs described in the related bug we need to use dnf instead of yum\nfor centos8 otherwise it fails in the undercloud packages update.\n\nI am using the python version to determine - py3 is dnf. Open to\nother suggestions.\n\nFound as part of the work in [1].\n\nRelated-Bug: 1886837\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: Idac62d37a19ee49f30936e20021a9dab5af40eec\n'}, {'number': 3, 'created': '2020-07-13 11:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/361acc73e73a34a49c87db299cbf1b9c71ef8944', 'message': 'Fix package manager used during undercloud packages update\n\nAs described in the related bug we need to use dnf instead of yum\nfor centos8 otherwise it fails in the undercloud packages update.\n\nI am using the python version to determine - py3 is dnf. As part of\nreview comments here, when both yum and dnf cannot be found via rpm\n-q then we exit error.\n\nFound as part of the work in [1].\n\nRelated-Bug: 1886837\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: Idac62d37a19ee49f30936e20021a9dab5af40eec\n'}, {'number': 4, 'created': '2020-07-13 12:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ce884dc5f6fb1288203ca89b564c7aec60d52354', 'message': 'Fix package manager used during undercloud packages update\n\nAs described in the related bug we need to use dnf instead of yum\nfor centos8 otherwise it fails in the undercloud packages update.\n\nI am using the python version to determine - py3 is dnf. As part of\nreview comments here, when both yum and dnf cannot be found via rpm\n-q then we exit error.\n\nFound as part of the work in [1].\n\nRelated-Bug: 1886837\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: Idac62d37a19ee49f30936e20021a9dab5af40eec\n'}, {'number': 5, 'created': '2020-07-13 12:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a034e6cf56c02fe9d8737af2ae7fff4afaa87a9d', 'message': 'Fix package manager used during undercloud packages update\n\nAs described in the related bug we need to use dnf instead of yum\nfor centos8 otherwise it fails in the undercloud packages update.\n\nI am using the python version to determine - py3 is dnf. As part of\ndiscussion here, when both yum and dnf cannot be found exit error.\n\nFound as part of the work in [1].\n\nRelated-Bug: 1886837\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: Idac62d37a19ee49f30936e20021a9dab5af40eec\n'}, {'number': 6, 'created': '2020-07-14 11:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/367cc497bc238afcf8c8f4efc05bba8e63af5e7e', 'message': ""Fix package manager used during undercloud packages update\n\nAs described in the related bug we need to use dnf instead of yum\nfor centos8 otherwise it fails in the undercloud packages update.\n\nI am using the python version to determine - py3 is dnf. As part of\ndiscussion here when dnf isn't available fall back to yum.\n\nFound as part of the work in [1].\n\nRelated-Bug: 1886837\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: Idac62d37a19ee49f30936e20021a9dab5af40eec\n""}, {'number': 7, 'created': '2020-07-15 11:00:24.000000000', 'files': ['tripleoclient/v1/undercloud.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9c53cb3ef5ad513b05d4888552a3280e0eec43ca', 'message': ""Fix package manager used during undercloud packages update\n\nAs described in the related bug we need to use dnf instead of yum\nfor centos8 otherwise it fails in the undercloud packages update.\n\nI am using the python version to determine - py3 is dnf. As part of\ndiscussion here when dnf isn't available fall back to yum.\n\nFound as part of the work in [1].\n\nRelated-Bug: 1886837\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: Idac62d37a19ee49f30936e20021a9dab5af40eec\n""}]",4,740019,9c53cb3ef5ad513b05d4888552a3280e0eec43ca,29,11,7,8449,,,0,"Fix package manager used during undercloud packages update

As described in the related bug we need to use dnf instead of yum
for centos8 otherwise it fails in the undercloud packages update.

I am using the python version to determine - py3 is dnf. As part of
discussion here when dnf isn't available fall back to yum.

Found as part of the work in [1].

Related-Bug: 1886837
[1] https://tree.taiga.io/project/tripleo-ci-board/task/1817

Change-Id: Idac62d37a19ee49f30936e20021a9dab5af40eec
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/19/740019/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud.py'],1,67289f103c0c7406dfffdd56a56cba14eb64406e,Idac62d37a19ee49f30936e20021a9dab5af40eec," pkg_manager = 'yum' if sys.version >= ""3"": pkg_manager = 'dnf' cmd = ['sudo', pkg_manager, 'upgrade', '-y'] + packages"," cmd = ['sudo', 'yum', 'upgrade', '-y'] + packages",5,1
openstack%2Fheat~master~Icd68f6eab73e44406f2ff5073636dcdd111e00ea,openstack/heat,master,Icd68f6eab73e44406f2ff5073636dcdd111e00ea,Use correct attribute from entrypoint,MERGED,2020-07-15 06:14:01.000000000,2020-07-16 06:38:39.000000000,2020-07-16 06:34:37.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 06:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8619bde776b30c84e0a1c539d253b118a6b7f673', 'message': 'Use correct attribute from entrypoint\n\nThe type of the entry point objects returned in stevedore has\nbeen changed from`pkg_resources.EntryPoint` to\n`importlib.metadata.EntryPoint`[1] and it does not have module_name\nattribute.\n\n[1] https://review.opendev.org/#/c/740515/\n\nChange-Id: Icd68f6eab73e44406f2ff5073636dcdd111e00ea\n'}, {'number': 2, 'created': '2020-07-15 06:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5d472b4ff61a80ea6bea08dc193b1b6181e91042', 'message': 'Use correct attribute from entrypoint\n\nThe type of the entry point objects returned in stevedore has\nbeen changed from`pkg_resources.EntryPoint` to\n`importlib.metadata.EntryPoint`[1] and it does not have module_name\nattribute.\n\n[1] https://review.opendev.org/#/c/740515/\nTask: 40355\nChange-Id: Icd68f6eab73e44406f2ff5073636dcdd111e00ea\n'}, {'number': 3, 'created': '2020-07-15 12:23:15.000000000', 'files': ['requirements.txt', 'heat/common/pluginutils.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/heat/commit/2aea5c9b3224215e246b7508b5f81a7d36cf1abd', 'message': 'Use correct attribute from entrypoint\n\nThe type of the entry point objects returned in stevedore has\nbeen changed from`pkg_resources.EntryPoint` to\n`importlib.metadata.EntryPoint`[1] and it does not have module_name\nattribute.\n\nIt also bumps requirements/lower-constraints as stevedore==3.1.0 is\nnot backward compatible.\n\n[1] https://review.opendev.org/#/c/740515/\nTask: 40355\nChange-Id: Icd68f6eab73e44406f2ff5073636dcdd111e00ea\n'}]",0,741088,2aea5c9b3224215e246b7508b5f81a7d36cf1abd,17,5,3,8833,,,0,"Use correct attribute from entrypoint

The type of the entry point objects returned in stevedore has
been changed from`pkg_resources.EntryPoint` to
`importlib.metadata.EntryPoint`[1] and it does not have module_name
attribute.

It also bumps requirements/lower-constraints as stevedore==3.1.0 is
not backward compatible.

[1] https://review.opendev.org/#/c/740515/
Task: 40355
Change-Id: Icd68f6eab73e44406f2ff5073636dcdd111e00ea
",git fetch https://review.opendev.org/openstack/heat refs/changes/88/741088/3 && git format-patch -1 --stdout FETCH_HEAD,['heat/common/pluginutils.py'],1,8619bde776b30c84e0a1c539d253b118a6b7f673,," {'module_name': entrypoint.module,"," {'module_name': entrypoint.module_name,",1,1
openstack%2Fpuppet-openstacklib~master~Icc450fbb747c20f624ee9bb924978d97cd826685,openstack/puppet-openstacklib,master,Icc450fbb747c20f624ee9bb924978d97cd826685,Add support for policy.yaml,ABANDONED,2020-07-08 13:44:13.000000000,2020-07-16 06:05:21.000000000,,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 13:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/0378e60e82a84ce8d13d25b6b9b810d0d507b66d', 'message': 'WIP: Support policy.yaml\n\nChange-Id: Icc450fbb747c20f624ee9bb924978d97cd826685\n'}, {'number': 2, 'created': '2020-07-08 13:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/9fff527e7e0ad456420c28747ba85e4d096ee777', 'message': 'WIP: Support policy.yaml\n\nChange-Id: Icc450fbb747c20f624ee9bb924978d97cd826685\n'}, {'number': 3, 'created': '2020-07-08 14:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/4cb24ba757024fca46896af01b4a365f95e67498', 'message': 'WIP: Support policy.yaml\n\nChange-Id: Icc450fbb747c20f624ee9bb924978d97cd826685\n'}, {'number': 4, 'created': '2020-07-08 23:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/59e7af4d89a8de2810ceaa2d903f17ee9cd5775c', 'message': 'WIP: Support policy.yaml\n\nChange-Id: Icc450fbb747c20f624ee9bb924978d97cd826685\n'}, {'number': 5, 'created': '2020-07-09 05:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/61552ee42a4672ad0d43a84edb1d04c7d190e4c9', 'message': 'WIP: Support policy.yaml\n\nChange-Id: Icc450fbb747c20f624ee9bb924978d97cd826685\n'}, {'number': 6, 'created': '2020-07-09 05:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/ca1a4c9d3b9f0ef6e830b99b1f3a08b71ab01b9f', 'message': 'WIP: Support policy.yaml\n\nChange-Id: Icc450fbb747c20f624ee9bb924978d97cd826685\n'}, {'number': 7, 'created': '2020-07-09 05:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/95bf2acf0a9917d2061e394b7a51f1499f8c1691', 'message': 'Add support for policy.yaml\n\nThis patch add support for policy.yaml in addition to policy.json, in\nfavor of recent migration from json to yaml about policy definitions.\n\nThe file format of policy file is automatically detected according to\nthe given file_path, but this behavior can be overridden by setting\nfile_format parameter.\n\nChange-Id: Icc450fbb747c20f624ee9bb924978d97cd826685\n'}, {'number': 8, 'created': '2020-07-15 15:23:37.000000000', 'files': ['releasenotes/notes/policy-yaml-support-e198ef6e162023fd.yaml', 'spec/defines/openstacklib_policy_base_spec.rb', 'manifests/policy/base.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/69e88e009a184ce623d7928d9394654724be2219', 'message': 'Add support for policy.yaml\n\nThis patch add support for policy.yaml in addition to policy.json, in\nfavor of recent migration from json to yaml about policy definitions.\n\nThe file format of policy file is automatically detected according to\nthe given file_path, but this behavior can be overridden by setting\nfile_format parameter.\n\nChange-Id: Icc450fbb747c20f624ee9bb924978d97cd826685\n'}]",1,739989,69e88e009a184ce623d7928d9394654724be2219,17,3,8,9816,,,0,"Add support for policy.yaml

This patch add support for policy.yaml in addition to policy.json, in
favor of recent migration from json to yaml about policy definitions.

The file format of policy file is automatically detected according to
the given file_path, but this behavior can be overridden by setting
file_format parameter.

Change-Id: Icc450fbb747c20f624ee9bb924978d97cd826685
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/89/739989/6 && git format-patch -1 --stdout FETCH_HEAD,['manifests/policy/base.pp'],1,0378e60e82a84ce8d13d25b6b9b810d0d507b66d,policy,"# Path to the policy file# [*file_format*] # (optional) Format of the policy file. This parameter should be set as # one of 'json' and 'yaml' # Defaults to 'json' # $value = '', $file_mode = '0640', $file_user = undef, $file_group = undef, $file_format = 'json', # TODO(tkajinam): We might want to detect file format automatically from file # name, instead of depending of the format parameter case $file_format { 'json': { $policy_content = loadjson($file_path, {}) $new_policy_content = merge($policy_content, {$key => $value}) $new_content = to_json_pretty($new_policy_content) } 'yaml': { $policy_content = loadyaml($file_path, {}) $new_policy_content = merge($policy_content, {$key => $value}) $new_content = to_yaml($new_policy_content) } Default: { fail(""${file_format} is not supported"") } }","# Path to the policy.json file $value = '', $file_mode = '0640', $file_user = undef, $file_group = undef, $policy_content = loadjson($file_path, {}) $new_policy_content = merge($policy_content, {$key => $value}) $new_content = to_json_pretty($new_policy_content)",28,9
openstack%2Fnetworking-ovn~stable%2Ftrain~I04858cb7a38da083962449779b6063f0c48f3ae7,openstack/networking-ovn,stable/train,I04858cb7a38da083962449779b6063f0c48f3ae7,Add support for router availability zones,MERGED,2020-06-29 09:07:23.000000000,2020-07-16 05:18:32.000000000,2020-07-16 05:17:09.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2020-06-29 09:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fc92b474ad44363bbbf2a092d8f92e10b1da5303', 'message': 'Add support for router availability zones\n\nThis patch is adding support for the router_availability_zone extension\nfor Neutron.\n\nThe OVN driver will now read from the router\'s availability_zone_hints\nfield and schedule the router ports onto OVN chassis belonging to those\nAZs.\n\nSince the OVN driver does not rely on the L3 agent, this patch does not\nre-use the configuration option for the agent to configure the\navailability zone that a Chassis belongs to (even because there\'s no\nconfiguration file in nodes such as networker nodes). Instead, this\npatch reuses the ""ovn-cms-options"" field from the local OVSDB to\nconfigure the Chassis. The follow syntax has been used:\n\n$ ovs-vsctl set Open_VSwitch .\nexternal-ids:ovn-cms-options=""enable-chassis-as-gw,availability-zones=az0:az1""\n\nIn the example above, the Chassis has been configured to belong to two\nAZs: ""az0"" and ""az1"".\n\nThis patch also implements listing the availability zones:\n$ openstack availability zone list\n\nAs well as validating the router\'s availability zone hints:\n$ openstack router create --availability-zone-hint az0\n--availability-zone-hint az1 test_router\n\nThe above command would fail if there\'s no ""az0"" and ""az1"" configured in\nany OVN chassis.\n\nDocumentation for this feature is being written and will be submitted\nin a separated patch.\n\n(cherry picked from Neutron d669dff1dcf0fbc2dc7ea0d2e0c88f244a1add4b)\n\nChange-Id: I04858cb7a38da083962449779b6063f0c48f3ae7\nPartial-Bug: #1881095\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-07-15 08:55:40.000000000', 'files': ['networking_ovn/common/utils.py', 'releasenotes/notes/ovn-router-availability-zones-03a802ee19689474.yaml', 'networking_ovn/tests/unit/common/test_utils.py', 'networking_ovn/common/extensions.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py', 'networking_ovn/l3/l3_ovn.py', 'networking_ovn/common/ovn_client.py', 'networking_ovn/common/constants.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py', 'networking_ovn/tests/unit/fakes.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/44e5a6b9e3eeb6f81f5c9593fd28c6e4dbcf0c18', 'message': 'Add support for router availability zones\n\nThis patch is adding support for the router_availability_zone extension\nfor Neutron.\n\nThe OVN driver will now read from the router\'s availability_zone_hints\nfield and schedule the router ports onto OVN chassis belonging to those\nAZs.\n\nSince the OVN driver does not rely on the L3 agent, this patch does not\nre-use the configuration option for the agent to configure the\navailability zone that a Chassis belongs to (even because there\'s no\nconfiguration file in nodes such as networker nodes). Instead, this\npatch reuses the ""ovn-cms-options"" field from the local OVSDB to\nconfigure the Chassis. The follow syntax has been used:\n\n$ ovs-vsctl set Open_VSwitch .\nexternal-ids:ovn-cms-options=""enable-chassis-as-gw,availability-zones=az0:az1""\n\nIn the example above, the Chassis has been configured to belong to two\nAZs: ""az0"" and ""az1"".\n\nThis patch also implements listing the availability zones:\n$ openstack availability zone list\n\nAs well as validating the router\'s availability zone hints:\n$ openstack router create --availability-zone-hint az0\n--availability-zone-hint az1 test_router\n\nThe above command would fail if there\'s no ""az0"" and ""az1"" configured in\nany OVN chassis.\n\nDocumentation for this feature is being written and will be submitted\nin a separated patch.\n\n(cherry picked from Neutron d669dff1dcf0fbc2dc7ea0d2e0c88f244a1add4b)\n\nChange-Id: I04858cb7a38da083962449779b6063f0c48f3ae7\nPartial-Bug: #1881095\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,738405,44e5a6b9e3eeb6f81f5c9593fd28c6e4dbcf0c18,22,5,2,6773,,,0,"Add support for router availability zones

This patch is adding support for the router_availability_zone extension
for Neutron.

The OVN driver will now read from the router's availability_zone_hints
field and schedule the router ports onto OVN chassis belonging to those
AZs.

Since the OVN driver does not rely on the L3 agent, this patch does not
re-use the configuration option for the agent to configure the
availability zone that a Chassis belongs to (even because there's no
configuration file in nodes such as networker nodes). Instead, this
patch reuses the ""ovn-cms-options"" field from the local OVSDB to
configure the Chassis. The follow syntax has been used:

$ ovs-vsctl set Open_VSwitch .
external-ids:ovn-cms-options=""enable-chassis-as-gw,availability-zones=az0:az1""

In the example above, the Chassis has been configured to belong to two
AZs: ""az0"" and ""az1"".

This patch also implements listing the availability zones:
$ openstack availability zone list

As well as validating the router's availability zone hints:
$ openstack router create --availability-zone-hint az0
--availability-zone-hint az1 test_router

The above command would fail if there's no ""az0"" and ""az1"" configured in
any OVN chassis.

Documentation for this feature is being written and will be submitted
in a separated patch.

(cherry picked from Neutron d669dff1dcf0fbc2dc7ea0d2e0c88f244a1add4b)

Change-Id: I04858cb7a38da083962449779b6063f0c48f3ae7
Partial-Bug: #1881095
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/05/738405/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/utils.py', 'releasenotes/notes/ovn-router-availability-zones-03a802ee19689474.yaml', 'networking_ovn/tests/unit/common/test_utils.py', 'networking_ovn/common/extensions.py', 'networking_ovn/tests/unit/test_ovn_db_sync.py', 'networking_ovn/l3/l3_ovn.py', 'networking_ovn/common/ovn_client.py', 'networking_ovn/common/constants.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/ovn_db_sync.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py', 'networking_ovn/tests/unit/fakes.py']",13,fc92b474ad44363bbbf2a092d8f92e10b1da5303,," self.lookup = mock.MagicMock() self.chassis_list = mock.MagicMock() class FakeChassis(object): @staticmethod def create(attrs=None, az_list=None, chassis_as_gw=False): cms_opts = [] if az_list: cms_opts.append(""%s=%s"" % (ovn_const.CMS_OPT_AVAILABILITY_ZONES, ':'.join(az_list))) if chassis_as_gw: cms_opts.append(ovn_const.CMS_OPT_CHASSIS_AS_GW) external_ids = {} if cms_opts: external_ids[ovn_const.OVN_CMS_OPTIONS] = ','.join(cms_opts) attrs = { 'encaps': [], 'external_ids': external_ids, 'hostname': '', 'name': uuidutils.generate_uuid(), 'nb_cfg': 0, 'other_config': {}, 'transport_zones': [], 'vtep_logical_switches': []} # Overwrite default attributes. attrs.update(attrs) return type('Chassis', (object, ), attrs)",,354,26
openstack%2Fneutron~stable%2Fussuri~Iba02f5a2211b18c2deb9097daad6be5e7d21faf8,openstack/neutron,stable/ussuri,Iba02f5a2211b18c2deb9097daad6be5e7d21faf8,Auto-delete dhcp ports on segment delete,MERGED,2020-07-13 10:38:03.000000000,2020-07-16 04:56:28.000000000,2020-07-16 04:54:21.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 15554}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-13 10:38:03.000000000', 'files': ['neutron/plugins/ml2/db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/objects/test_ports.py', 'neutron/common/_constants.py', 'neutron/tests/unit/plugins/ml2/test_db.py', 'neutron/objects/ports.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4130c0dc1787e30a70ab33486047fee720ab286', 'message': 'Auto-delete dhcp ports on segment delete\n\nSubnet delete triggers dhcp port deletion but asynchronously,\ntherefore in the condition described in the bug report we may\nget a conflict when deleting the segment too fast after the subnet.\n\nHere we follow the example of how we auto-delete ports in net delete.\n\nPlease also find a fullstack test in Related-Change below.\n\nChange-Id: Iba02f5a2211b18c2deb9097daad6be5e7d21faf8\nCloses-Bug: #1878632\nRelated-Change: https://review.opendev.org/728904\n(cherry picked from commit da45bbbff4e10e3d924ac3d85c9f382623708b11)\n'}]",0,740659,b4130c0dc1787e30a70ab33486047fee720ab286,17,7,1,24791,,,0,"Auto-delete dhcp ports on segment delete

Subnet delete triggers dhcp port deletion but asynchronously,
therefore in the condition described in the bug report we may
get a conflict when deleting the segment too fast after the subnet.

Here we follow the example of how we auto-delete ports in net delete.

Please also find a fullstack test in Related-Change below.

Change-Id: Iba02f5a2211b18c2deb9097daad6be5e7d21faf8
Closes-Bug: #1878632
Related-Change: https://review.opendev.org/728904
(cherry picked from commit da45bbbff4e10e3d924ac3d85c9f382623708b11)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/740659/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/objects/test_ports.py', 'neutron/common/_constants.py', 'neutron/tests/unit/plugins/ml2/test_db.py', 'neutron/objects/ports.py']",6,b4130c0dc1787e30a70ab33486047fee720ab286,,"from neutron.common import _constants def get_auto_deletable_port_ids_and_proper_port_count_by_segment( cls, context, segment_id): q_delete = query.filter( models_v2.Port.device_owner.in_( _constants.AUTO_DELETE_PORT_OWNERS)) q_proper = query.filter( ~models_v2.Port.device_owner.in_( _constants.AUTO_DELETE_PORT_OWNERS)) return ([r.id for r in q_delete.all()], q_proper.count())"," def get_port_ids_filter_by_segment_id(cls, context, segment_id): return [p.id for p in query]",116,21
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I2f0f60052c1acfc971fe3d5195f9499e45068396,openstack/tripleo-heat-templates,stable/train,I2f0f60052c1acfc971fe3d5195f9499e45068396,Allow overriding InterfaceDefaultRoute with ips_from_pool template,MERGED,2020-06-02 14:31:08.000000000,2020-07-16 04:27:13.000000000,2020-07-16 04:27:13.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-06-02 14:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a42682403535370596dc8a4b76df6b10fa8b14d', 'message': ""Allow {{network.name}}InterfaceDefaultRoute overriding by parameter\n\nCurrently {{network.name}}InterfaceDefaultRoute can be specified only\nby network_data.yaml, and can't be oberridden by a template parameter.\n\nThis patch allows overriding the parameter by a template parameter, to\nprovide a consistent experience about network parameters in templates.\n\nCloses-Bug: #1881768\nChange-Id: I2f0f60052c1acfc971fe3d5195f9499e45068396\n""}, {'number': 5, 'created': '2020-07-15 16:29:01.000000000', 'files': ['network/ports/port_from_pool.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/247105809b02d65d828b1f2f009c40972c04146c', 'message': ""Allow overriding InterfaceDefaultRoute with ips_from_pool template\n\nCurrently InterfaceDefaultRoute doesn't affect when ips_from_pool\ntemplate is used, and gateway_ip in network_data is always picked up.\nThis patch allows operators to override default route by the parameter\neven when ips_from_pool template is used.\n\nNote that this patch also fixes incorrect handling about subnet in\nips_from_pool template when ipv6 is enabled.\n\nCloses-Bug: #1881768\nChange-Id: I2f0f60052c1acfc971fe3d5195f9499e45068396\n(cherry picked from commit 396b26fe9b67aebf9b3a7badc9b82be5380ce237)\n(cherry picked from commit 454a0e6520b8ff324b7b4b649837c6c76628a260)\n""}]",0,732692,247105809b02d65d828b1f2f009c40972c04146c,11,4,2,9816,,,0,"Allow overriding InterfaceDefaultRoute with ips_from_pool template

Currently InterfaceDefaultRoute doesn't affect when ips_from_pool
template is used, and gateway_ip in network_data is always picked up.
This patch allows operators to override default route by the parameter
even when ips_from_pool template is used.

Note that this patch also fixes incorrect handling about subnet in
ips_from_pool template when ipv6 is enabled.

Closes-Bug: #1881768
Change-Id: I2f0f60052c1acfc971fe3d5195f9499e45068396
(cherry picked from commit 396b26fe9b67aebf9b3a7badc9b82be5380ce237)
(cherry picked from commit 454a0e6520b8ff324b7b4b649837c6c76628a260)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/732692/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/role.role.j2.yaml'],1,3a42682403535370596dc8a4b76df6b10fa8b14d,bug/1881768," {{network.name}}InterfaceDefaultRoute: default: '' description: default route for the {{network.name_lower}} network type: string {{network.name_lower}}_interface_default_route_set: not: equals: - {get_param: {{network.name}}InterfaceDefaultRoute} - '' {{network.name}}InterfaceDefaultRoute: if: - {{network.name_lower}}_interface_default_route_set - {get_param: {{network.name}}InterfaceDefaultRoute - {get_attr: [{{network.name}}Port, gateway_ip]}"," {{network.name}}InterfaceDefaultRoute: {get_attr: [{{network.name}}Port, gateway_ip]}",14,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ic8a938235de59f4d3547f7e632233f9fe16220aa,openstack/tripleo-heat-templates,stable/queens,Ic8a938235de59f4d3547f7e632233f9fe16220aa,Fix typo in setting octavia wsgi server name,MERGED,2020-07-15 14:30:02.000000000,2020-07-16 04:21:00.000000000,2020-07-16 04:21:00.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-07-15 14:30:02.000000000', 'files': ['puppet/services/octavia-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8686b41d266bfc03ea321c609a962a4ee2941c1', 'message': ""Fix typo in setting octavia wsgi server name\n\nhiera was being set as server_name when it should've been servername.\n\nNote: this is semantic backport of https://review.opendev.org/#/c/725877/\nwhich could not be cherry picked because of file reorganization.\n\nCloses-Bug: #1877130\nChange-Id: Ic8a938235de59f4d3547f7e632233f9fe16220aa\n(cherry picked from commit bc6d55acef48b4a717c2f9966760b6560566858a)\n""}]",0,741223,a8686b41d266bfc03ea321c609a962a4ee2941c1,9,5,1,6681,,,0,"Fix typo in setting octavia wsgi server name

hiera was being set as server_name when it should've been servername.

Note: this is semantic backport of https://review.opendev.org/#/c/725877/
which could not be cherry picked because of file reorganization.

Closes-Bug: #1877130
Change-Id: Ic8a938235de59f4d3547f7e632233f9fe16220aa
(cherry picked from commit bc6d55acef48b4a717c2f9966760b6560566858a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/741223/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/octavia-api.yaml'],1,a8686b41d266bfc03ea321c609a962a4ee2941c1,bug/1877130, octavia::wsgi::apache::servername:, octavia::wsgi::apache::server_name:,1,1
openstack%2Ftripleo-ansible~master~Ibb91dfa9684b481dea34607fc47c0d531d56ee45,openstack/tripleo-ansible,master,Ibb91dfa9684b481dea34607fc47c0d531d56ee45,Make buildah login optional,MERGED,2020-07-15 12:56:02.000000000,2020-07-16 04:16:41.000000000,2020-07-15 19:49:28.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-15 12:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ca304cf27b8679fcf7bab91081f08b46a0d721da', 'message': ""Make buildah login optional\n\nBuildah login is not needed always, it's needed\nwhen pushing to container registeries, so make it\noptional by role var tripleo_buildah_login set\nto false by default.\n\nRelated-Bug: #1886555\nChange-Id: Ibb91dfa9684b481dea34607fc47c0d531d56ee45\n""}, {'number': 2, 'created': '2020-07-15 13:10:03.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/login/converge.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_buildah_login.yml', 'tripleo_ansible/roles/tripleo_podman/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_login.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0d9effda372c034bafeaec9fca89c3af521c58bd', 'message': ""Make buildah login optional\n\nBuildah login is not needed always, it's needed\nwhen pushing to container registeries, so make it\noptional by role var tripleo_podman_buildah_login set\nto false by default.\n\nRelated-Bug: #1886555\nChange-Id: Ibb91dfa9684b481dea34607fc47c0d531d56ee45\n""}]",5,741174,0d9effda372c034bafeaec9fca89c3af521c58bd,21,9,2,13861,,,0,"Make buildah login optional

Buildah login is not needed always, it's needed
when pushing to container registeries, so make it
optional by role var tripleo_podman_buildah_login set
to false by default.

Related-Bug: #1886555
Change-Id: Ibb91dfa9684b481dea34607fc47c0d531d56ee45
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/74/741174/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/login/converge.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_buildah_login.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_login.yml']",6,ca304cf27b8679fcf7bab91081f08b46a0d721da,bug/1886555,," - name: Perform container registry login(s) with buildah become: true shell: |- buildah login --username=$REGISTRY_USERNAME \ --password=$REGISTRY_PASSWORD \ --tls-verify={{ tripleo_podman_tls_verify }} \ $REGISTRY environment: REGISTRY_USERNAME: ""{{ lookup('dict', item.value).key }}"" REGISTRY_PASSWORD: ""{{ lookup('dict', item.value).value }}"" REGISTRY: ""{{ item.key }}"" no_log: ""{{ tripleo_podman_hide_sensitive_logs | bool }}"" loop: ""{{ query('dict', tripleo_container_registry_logins) }}"" register: registry_login_buildah",48,16
openstack%2Fneutron~stable%2Fussuri~I689d5135b7194475c846731d846ccf6b25b80b4a,openstack/neutron,stable/ussuri,I689d5135b7194475c846731d846ccf6b25b80b4a,[DVR] Related routers should be included if are requested,MERGED,2020-07-10 13:29:52.000000000,2020-07-16 03:03:02.000000000,2020-07-16 03:01:23.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-10 13:29:52.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/282710016968b353d10b6a986f48d7f8a7d0404a', 'message': '[DVR] Related routers should be included if are requested\n\nIn case when related dvr router is configured by L3 agent, it is first\nadded to the tasks queue and then processed as any other router hosted\non the L3 agent.\nBut if L3 agent will ask neutron server about details of such router,\nit wasn\'t returned back as this router wasn\'t really scheduled to the\ncompute node which was asking for it. It was ""only"" related to some\nother router scheduled to this compute node. Because of that router\'s\ninfo wasn\'t found in reply from the neutron-server and L3 agent was\nremoving it from the compute node.\n\nNow _get_router_ids_for_agent method from the l3_dvrscheduler_db module\nwill check router serviceable ports for each dvr router hosted on the\ncompute node and will then find all routers related to it. Thanks to\nthat it will return routers which are on the compute node only because\nof other related routers scheduled to this host and such router will not\nbe deleted anymore.\n\nChange-Id: I689d5135b7194475c846731d846ccf6b25b80b4a\nCloses-Bug: #1884527\n(cherry picked from commit 38286dbd2e35f1f94bf06b5f1cfa9227e5d402c6)\n'}]",0,740459,282710016968b353d10b6a986f48d7f8a7d0404a,18,5,1,11975,,,0,"[DVR] Related routers should be included if are requested

In case when related dvr router is configured by L3 agent, it is first
added to the tasks queue and then processed as any other router hosted
on the L3 agent.
But if L3 agent will ask neutron server about details of such router,
it wasn't returned back as this router wasn't really scheduled to the
compute node which was asking for it. It was ""only"" related to some
other router scheduled to this compute node. Because of that router's
info wasn't found in reply from the neutron-server and L3 agent was
removing it from the compute node.

Now _get_router_ids_for_agent method from the l3_dvrscheduler_db module
will check router serviceable ports for each dvr router hosted on the
compute node and will then find all routers related to it. Thanks to
that it will return routers which are on the compute node only because
of other related routers scheduled to this host and such router will not
be deleted anymore.

Change-Id: I689d5135b7194475c846731d846ccf6b25b80b4a
Closes-Bug: #1884527
(cherry picked from commit 38286dbd2e35f1f94bf06b5f1cfa9227e5d402c6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/740459/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py']",2,282710016968b353d10b6a986f48d7f8a7d0404a,bug/1884527-stable/ussuri," def test__get_router_ids_for_agent_related_router(self): router1 = self._create_router() router2 = self._create_router() router3 = self._create_router() arg_list = (portbindings.HOST_ID,) dvr_l3_agent = helpers.register_l3_agent( host=""host1"", agent_mode=constants.L3_AGENT_MODE_DVR) host = dvr_l3_agent['host'] with self.subnet() as wan_subnet,\ self.subnet(cidr='20.0.0.0/24') as subnet1,\ self.subnet(cidr='30.0.0.0/24') as subnet2,\ self.subnet(cidr='40.0.0.0/24') as subnet3,\ self.port(subnet=wan_subnet) as wan_port1,\ self.port(subnet=wan_subnet) as wan_port2,\ self.port(subnet=subnet1, device_owner=constants.DEVICE_OWNER_DHCP, arg_list=arg_list, **{portbindings.HOST_ID: host}): self.l3_plugin.add_router_interface( self.context, router1['id'], {'subnet_id': subnet1['subnet']['id']}) self.l3_plugin.add_router_interface( self.context, router2['id'], {'subnet_id': subnet2['subnet']['id']}) # Router3 is here just to be sure that it will not be returned as # is not related to the router1 and router2 in any way self.l3_plugin.add_router_interface( self.context, router3['id'], {'subnet_id': subnet3['subnet']['id']}) self.l3_plugin.add_router_interface( self.context, router1['id'], {'port_id': wan_port1['port']['id']}) self.l3_plugin.add_router_interface( self.context, router2['id'], {'port_id': wan_port2['port']['id']}) ids = self.l3_plugin._get_router_ids_for_agent( self.context, dvr_l3_agent, []) self.assertEqual({router1['id'], router2['id']}, set(ids)) ids = self.l3_plugin._get_router_ids_for_agent( self.context, dvr_l3_agent, [router2['id']]) self.assertEqual({router1['id'], router2['id']}, set(ids)) ids = self.l3_plugin._get_router_ids_for_agent( self.context, dvr_l3_agent, [router1['id']]) self.assertEqual({router1['id'], router2['id']}, set(ids)) ",,65,4
openstack%2Fmurano~stable%2Fussuri~Iba918ec671dabb2d0df72e071c6279176c63b312,openstack/murano,stable/ussuri,Iba918ec671dabb2d0df72e071c6279176c63b312,Fix versions api by using webob correctly,MERGED,2020-07-10 05:17:26.000000000,2020-07-16 02:47:04.000000000,2020-07-16 02:45:34.000000000,"[{'_account_id': 3031}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-10 05:17:26.000000000', 'files': ['murano/api/versions.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/988251b0e5c0ae37bb4cfdf4745bbe0710521b0c', 'message': 'Fix versions api by using webob correctly\n\nCurrently getting the following error:\nTypeError: You cannot set Response.body to a text object (use Response.text)\n\nCloses-Bug: #1882156\n\nChange-Id: Iba918ec671dabb2d0df72e071c6279176c63b312\n(cherry picked from commit cd27f95c0bc9bc8941cb6982c788b214253e23ee)\n'}]",0,740398,988251b0e5c0ae37bb4cfdf4745bbe0710521b0c,7,3,1,14107,,,0,"Fix versions api by using webob correctly

Currently getting the following error:
TypeError: You cannot set Response.body to a text object (use Response.text)

Closes-Bug: #1882156

Change-Id: Iba918ec671dabb2d0df72e071c6279176c63b312
(cherry picked from commit cd27f95c0bc9bc8941cb6982c788b214253e23ee)
",git fetch https://review.opendev.org/openstack/murano refs/changes/98/740398/1 && git format-patch -1 --stdout FETCH_HEAD,['murano/api/versions.py'],1,988251b0e5c0ae37bb4cfdf4745bbe0710521b0c,bug/1882156-stable/ussuri, response.text = jsonutils.dumps(dict(versions=version_objs)), response.body = jsonutils.dumps(dict(versions=version_objs)),1,1
openstack%2Fmurano~stable%2Ftrain~Iba918ec671dabb2d0df72e071c6279176c63b312,openstack/murano,stable/train,Iba918ec671dabb2d0df72e071c6279176c63b312,Fix versions api by using webob correctly,MERGED,2020-07-10 05:17:50.000000000,2020-07-16 02:46:58.000000000,2020-07-16 02:45:35.000000000,"[{'_account_id': 3031}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-10 05:17:50.000000000', 'files': ['murano/api/versions.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/fa8332f48fb491a725df4d44389907b0b52e5f61', 'message': 'Fix versions api by using webob correctly\n\nCurrently getting the following error:\nTypeError: You cannot set Response.body to a text object (use Response.text)\n\nCloses-Bug: #1882156\n\nChange-Id: Iba918ec671dabb2d0df72e071c6279176c63b312\n(cherry picked from commit cd27f95c0bc9bc8941cb6982c788b214253e23ee)\n'}]",0,740399,fa8332f48fb491a725df4d44389907b0b52e5f61,7,3,1,14107,,,0,"Fix versions api by using webob correctly

Currently getting the following error:
TypeError: You cannot set Response.body to a text object (use Response.text)

Closes-Bug: #1882156

Change-Id: Iba918ec671dabb2d0df72e071c6279176c63b312
(cherry picked from commit cd27f95c0bc9bc8941cb6982c788b214253e23ee)
",git fetch https://review.opendev.org/openstack/murano refs/changes/99/740399/1 && git format-patch -1 --stdout FETCH_HEAD,['murano/api/versions.py'],1,fa8332f48fb491a725df4d44389907b0b52e5f61,bug/1882156-stable/train, response.text = jsonutils.dumps(dict(versions=version_objs)), response.body = jsonutils.dumps(dict(versions=version_objs)),1,1
openstack%2Fkeystone~master~Ia5f000e13f7973383fc0379266fe8d47e451eb31,openstack/keystone,master,Ia5f000e13f7973383fc0379266fe8d47e451eb31,Cap jsonschema 3.2.0 as the minimal version,MERGED,2020-05-26 19:51:56.000000000,2020-07-16 02:11:10.000000000,2020-07-16 02:08:50.000000000,"[{'_account_id': 1736}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-26 19:51:56.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4d86f37aafdd96becf91874cc6625412a5591701', 'message': ""Cap jsonschema 3.2.0 as the minimal version\n\nPrevious versions of jsonschema (<3.2.0) doesn't support python 3.8 [1].\nPython 3.8 is part of the victoria supported runtimes [2] so we now force\nto use jsonschema version 3.2.0 to avoid issues, remove ambiguity and ensure\nthat everything works with python 3 in general.\n\n[1] https://github.com/Julian/jsonschema/pull/627\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: Ia5f000e13f7973383fc0379266fe8d47e451eb31\n""}]",0,730952,4d86f37aafdd96becf91874cc6625412a5591701,17,6,1,28522,,,0,"Cap jsonschema 3.2.0 as the minimal version

Previous versions of jsonschema (<3.2.0) doesn't support python 3.8 [1].
Python 3.8 is part of the victoria supported runtimes [2] so we now force
to use jsonschema version 3.2.0 to avoid issues, remove ambiguity and ensure
that everything works with python 3 in general.

[1] https://github.com/Julian/jsonschema/pull/627
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Ia5f000e13f7973383fc0379266fe8d47e451eb31
",git fetch https://review.opendev.org/openstack/keystone refs/changes/52/730952/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,4d86f37aafdd96becf91874cc6625412a5591701,cap_jsonschema,jsonschema==3.2.0,jsonschema==2.6.0,2,2
openstack%2Fcyborg~master~I3f882aa7c32b7439ab86e6658772f3d7630ab0c9,openstack/cyborg,master,I3f882aa7c32b7439ab86e6658772f3d7630ab0c9,update API documentation,MERGED,2020-07-09 08:52:07.000000000,2020-07-16 01:40:18.000000000,2020-07-16 01:38:20.000000000,"[{'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-07-09 08:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6d15e2f4b4ac99ae0ee8442dbe3c3cf4cd82ca67', 'message': 'update API documentation\n\nThe existed API documentation is not clear enough, which\ncaused misleading and confusion to end users and developers from other\ncommunity when talking about cyborg support in CNTT[1]. This patch updated the documentation to improve and avoid this kind of misleading.\n\n[1] http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-07-09-03.01.log.html\nStory: 2007809\nTask: 40301\n\nChange-Id: I3f882aa7c32b7439ab86e6658772f3d7630ab0c9\n'}, {'number': 2, 'created': '2020-07-10 07:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/964cc958e30f4e864cdeeeed434ab4209850d6e9', 'message': 'update API documentation\n\nThe existed API documentation is not clear enough, which\ncaused misleading and confusion to end users and developers from other\ncommunity when talking about cyborg support in CNTT[1]. This patch updated the documentation to improve and avoid this kind of misleading.\n\n[1] http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-07-09-03.01.log.html\nStory: 2007809\nTask: 40301\n\nChange-Id: I3f882aa7c32b7439ab86e6658772f3d7630ab0c9\n'}, {'number': 3, 'created': '2020-07-10 07:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4bfe8768805801482d0b0a8fe07c4b2d7a7345ab', 'message': 'update API documentation\n\nThe existed API documentation is not clear enough, which\ncaused misleading and confusion to end users and developers from other\ncommunity when talking about cyborg support in CNTT[1]. This patch updated the documentation to improve and avoid this kind of misleading.\n\n[1] http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-07-09-03.01.log.html\nStory: 2007809\nTask: 40301\n\nChange-Id: I3f882aa7c32b7439ab86e6658772f3d7630ab0c9\n'}, {'number': 4, 'created': '2020-07-15 10:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ed31c3da476319f0d632be87056ba530f3e16e2b', 'message': 'update API documentation\n\nThe existed API documentation is not clear enough, which\ncaused misleading and confusion to end users and developers from other\ncommunity when talking about cyborg support in CNTT[1]. This patch updated the documentation to improve and avoid this kind of misleading.\n\n[1] http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-07-09-03.01.log.html\nStory: 2007809\nTask: 40301\n\nChange-Id: I3f882aa7c32b7439ab86e6658772f3d7630ab0c9\n'}, {'number': 5, 'created': '2020-07-15 12:43:03.000000000', 'files': ['doc/source/index.rst', 'cyborg/cmd/__init__.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/bf94ef8bdd7efaa65bb3e71e1aaded32c6e23937', 'message': 'update API documentation\n\nThe existed API documentation is not clear enough, which\ncaused misleading and confusion to end users and developers from other\ncommunity when talking about cyborg support in CNTT[1]. This patch updated the documentation to improve and avoid this kind of misleading.\n\n[1] http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-07-09-03.01.log.html\nStory: 2007809\nTask: 40301\n\nChange-Id: I3f882aa7c32b7439ab86e6658772f3d7630ab0c9\n'}]",8,740192,bf94ef8bdd7efaa65bb3e71e1aaded32c6e23937,21,5,5,24872,,,0,"update API documentation

The existed API documentation is not clear enough, which
caused misleading and confusion to end users and developers from other
community when talking about cyborg support in CNTT[1]. This patch updated the documentation to improve and avoid this kind of misleading.

[1] http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-07-09-03.01.log.html
Story: 2007809
Task: 40301

Change-Id: I3f882aa7c32b7439ab86e6658772f3d7630ab0c9
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/92/740192/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,6d15e2f4b4ac99ae0ee8442dbe3c3cf4cd82ca67,v2-api-doc,"Cyborg. This can be consumed directly, or via various SDKs. The Cyborg API has experienced an evolution from V1 API to V2 API. Cyborg introduced and landed a totally `new DB modeling schema <https://opendev.org/openstack/cyborg-specs/src/branch/master/specs/stein/approved/cyborg-database-model-proposal.rst>`_. for tracking cyborg resources in Stein release. The legacy v1 api does not match the new data model, which we changed pretty much. So cyborg introduced version 2.0 APIs in Train release and supported `limited V2 APIs <https://docs.openstack.org/cyborg/train/api/api.html>`_, and later in the Ussuri release cyborg can support full V2 APIs and microversion. The following resource may help you get started with V2 API directly.","Cyborg. This can be consumed directly, or via various SDKs. The following resources will help you get started with consuming the API directly.",10,2
openstack%2Fcyborg~stable%2Fussuri~I3f882aa7c32b7439ab86e6658772f3d7630ab0c9,openstack/cyborg,stable/ussuri,I3f882aa7c32b7439ab86e6658772f3d7630ab0c9,update API documentation for stable/ussuri,MERGED,2020-07-09 08:46:59.000000000,2020-07-16 01:40:16.000000000,2020-07-16 01:39:01.000000000,"[{'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-07-09 08:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ed0a3f719d336763659ef2a85985b445802e3fdb', 'message': 'update API documentation for stable/ussuri\n\nThe existed API documentation for stable/ussuri is not clear enough, which\ncaused misleading and confusion to end users and developers from other\ncommunity when talking about cyborg support in CNTT[1]. This patch updated\nthe documentation to improve and avoid this kind of misleading.\n\n[1] http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-07-09-03.01.log.html\nStory: 2007809\nTask: 40301\n\nChange-Id: I3f882aa7c32b7439ab86e6658772f3d7630ab0c9\n'}, {'number': 2, 'created': '2020-07-10 06:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/e290359428f9c3f1efcb12e93cf265482a4892a2', 'message': 'update API documentation for stable/ussuri\n\nThe existed API documentation for stable/ussuri is not clear enough, which\ncaused misleading and confusion to end users and developers from other\ncommunity when talking about cyborg support in CNTT[1]. This patch updated\nthe documentation to improve and avoid this kind of misleading.\n\n[1] http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-07-09-03.01.log.html\nStory: 2007809\nTask: 40301\n\nChange-Id: I3f882aa7c32b7439ab86e6658772f3d7630ab0c9\n'}, {'number': 3, 'created': '2020-07-10 08:05:31.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/0b03b8bd9271970142817814a16324b7b5b6c142', 'message': 'update API documentation for stable/ussuri\n\nThe existed API documentation for stable/ussuri is not clear enough, which\ncaused misleading and confusion to end users and developers from other\ncommunity when talking about cyborg support in CNTT[1]. This patch updated\nthe documentation to improve and avoid this kind of misleading.\n\n[1] http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-07-09-03.01.log.html\nStory: 2007809\nTask: 40301\n\nChange-Id: I3f882aa7c32b7439ab86e6658772f3d7630ab0c9\n'}]",5,740191,0b03b8bd9271970142817814a16324b7b5b6c142,16,5,3,24872,,,0,"update API documentation for stable/ussuri

The existed API documentation for stable/ussuri is not clear enough, which
caused misleading and confusion to end users and developers from other
community when talking about cyborg support in CNTT[1]. This patch updated
the documentation to improve and avoid this kind of misleading.

[1] http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-07-09-03.01.log.html
Story: 2007809
Task: 40301

Change-Id: I3f882aa7c32b7439ab86e6658772f3d7630ab0c9
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/91/740191/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,ed0a3f719d336763659ef2a85985b445802e3fdb,v2-api-doc,"Cyborg. This can be consumed directly, or via various SDKs. The Cyborg API has experienced an evolution from V1 API to V2 API. Cyborg introduced and landed a totally `new DB modeling schema <https://opendev.org/openstack/cyborg-specs/src/branch/master/specs/stein/approved/cyborg-database-model-proposal.rst>`_. for tracking cyborg resources in Stein release. The legacy v1 api does not match the new data model, which we changed pretty much. So cyborg introduced version 2.0 APIs in Train release and supported `limited V2 APIs <https://docs.openstack.org/cyborg/train/api/api.html>`_, and later in the Ussuri release cyborg can support full V2 APIs and microversion. The following resource may help you get started with V2 API directly.","Cyborg. This can be consumed directly, or via various SDKs. The following resources will help you get started with consuming the API directly.",10,2
openstack%2Fcyborg~stable%2Ftrain~I3ea3ed7f788c493141c4d3080a610b1e9b1ea550,openstack/cyborg,stable/train,I3ea3ed7f788c493141c4d3080a610b1e9b1ea550,update API documentation for stable/train,MERGED,2020-07-09 08:16:24.000000000,2020-07-16 01:40:13.000000000,2020-07-16 01:38:25.000000000,"[{'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 30759}]","[{'number': 1, 'created': '2020-07-09 08:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/e4696d115acfd41ce7fb878ad82ad5f078cf7abf', 'message': 'update API documentation for stable/train\n\nThe existed API documentation for stable/train is not accurate, which caused\nmisleading and confusion to end users and developers from other\ncommunity when talking about cyborg support in CNTT[1]. This patch updated\nthe documentation to improve and avoide this kind of misleading.\n\n[1] http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-07-09-03.01.log.html\n\nChange-Id: I3ea3ed7f788c493141c4d3080a610b1e9b1ea550\n'}, {'number': 2, 'created': '2020-07-09 08:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/2f73b2f00bed6ff7301e9d3850c01c9a405b5c94', 'message': 'update API documentation for stable/train\n\nThe existed API documentation for stable/train is not accurate, which caused\nmisleading and confusion to end users and developers from other\ncommunity when talking about cyborg support in CNTT[1]. This patch updated\nthe documentation to improve and avoide this kind of misleading.\n\n[1] http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-07-09-03.01.log.html\nStory: 2007809\nTask: 40301\n\nChange-Id: I3ea3ed7f788c493141c4d3080a610b1e9b1ea550\n'}, {'number': 3, 'created': '2020-07-09 09:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/52546285650c639e34342e2ef63693ae932f6cc2', 'message': 'update API documentation for stable/train\n\nThe existed API documentation for stable/train is not accurate, which caused\nmisleading and confusion to end users and developers from other\ncommunity when talking about cyborg support in CNTT[1]. This patch updated\nthe documentation to improve and avoide this kind of misleading.\n\n[1] http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-07-09-03.01.log.html\nStory: 2007809\nTask: 40301\n\nChange-Id: I3ea3ed7f788c493141c4d3080a610b1e9b1ea550\n'}, {'number': 4, 'created': '2020-07-10 06:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/091f895157769dc0bf69ee372c5d6cf50cd8ef53', 'message': 'update API documentation for stable/train\n\nThe existed API documentation for stable/train is not accurate, which caused\nmisleading and confusion to end users and developers from other\ncommunity when talking about cyborg support in CNTT[1]. This patch updated\nthe documentation to improve and avoide this kind of misleading.\n\n[1] http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-07-09-03.01.log.html\nStory: 2007809\nTask: 40301\n\nChange-Id: I3ea3ed7f788c493141c4d3080a610b1e9b1ea550\n'}, {'number': 5, 'created': '2020-07-10 06:41:05.000000000', 'files': ['doc/source/api/api.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4cd0e05d5e87bddee03c9ec8a72c7464f7f0aea5', 'message': 'update API documentation for stable/train\n\nThe existed API documentation for stable/train is not accurate, which caused\nmisleading and confusion to end users and developers from other\ncommunity when talking about cyborg support in CNTT[1]. This patch updated\nthe documentation to improve and avoid this kind of misleading.\n\n[1] http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-07-09-03.01.log.html\nStory: 2007809\nTask: 40301\n\nChange-Id: I3ea3ed7f788c493141c4d3080a610b1e9b1ea550\n'}]",11,740182,4cd0e05d5e87bddee03c9ec8a72c7464f7f0aea5,19,6,5,24872,,,0,"update API documentation for stable/train

The existed API documentation for stable/train is not accurate, which caused
misleading and confusion to end users and developers from other
community when talking about cyborg support in CNTT[1]. This patch updated
the documentation to improve and avoid this kind of misleading.

[1] http://eavesdrop.openstack.org/meetings/openstack_cyborg/2020/openstack_cyborg.2020-07-09-03.01.log.html
Story: 2007809
Task: 40301

Change-Id: I3ea3ed7f788c493141c4d3080a610b1e9b1ea550
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/82/740182/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/api/api.rst'],1,e4696d115acfd41ce7fb878ad82ad5f078cf7abf,v2-api-doc,"Cyborg introduced and landed a totally `new DB modeling schema <https://opendev.org/openstack/cyborg-specs/src/branch/master/specs/stein/approved/cyborg-database-model-proposal.rst>`_. for tracking cyborg resources in Stein release. The legacy v1 api does not match the new data model, which we changed pretty much, so cyborg starts to suppoort a new set of api(v2) as well. The Train release introduced version 2.0 APIs. Details of these APIsHowever, Train release landed partial V2 APIs, which means incomplete. One can expect full support V2 APIs(as well as full V2 API documentation) from cyborg in the Ussuri release. The supported V2 APIs in Train are listed below: .. list-table:: :widths: 10 40 50 :header-rows: 1 * - Verb - URI - Description * - GET - ``/device_profiles`` - List all device profiles * - GET - ``/device_profiles/{uuid}`` - Retrieve a certain device profile info identified by `{uuid}` * - POST - ``/device_profiles`` - Create a new device profile * - DELETE - ``/device_profiles/{uuid}`` - Delete the device_profile identified by `{uuid}` * - DELETE - ``/device_profiles?value={device_profile_name1},{device_profile_name2}`` - Delete the device_profiles identified by `{name}` * - GET - ``/accelerator_requests`` - List Accelerator Requests * - GET - ``/accelerator_requests/{accelerator_request_uuid}`` - Get one Accelerator Requests * - POST - ``/accelerator_requests`` - Create Accelerator Requests * - PATCH - ``/accelerator_requests/{accelerator_request_uuid}`` - Update Accelerator Requests * - DELETE - ``/accelerator_requests?arqs={accelerator_request_uuid}`` - Delete the accelerator_requests identified by `{ARQ_uuid}` * - DELETE - ``/accelerator_requests?instance={instance_uuid}`` - Delete the accelerator_requests identified by `{instance_uuid}`",The Train release introduces version 2.0 APIs. Details of these APIs,52,1
openstack%2Fneutron~stable%2Fstein~Ibd085a563b89c117e1e9a9c112a7d15cc2ecbc3e,openstack/neutron,stable/stein,Ibd085a563b89c117e1e9a9c112a7d15cc2ecbc3e,"Revert ""Make greande jobs n-v for EM and oldest stable""",MERGED,2020-07-09 13:48:45.000000000,2020-07-16 01:37:15.000000000,2020-07-16 01:34:25.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 13:48:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/56aa95b88cf4608b2eb9cc656fd37d3676cbd86b', 'message': 'Revert ""Make greande jobs n-v for EM and oldest stable""\n\nThis reverts commit 9313dce4590116b13b24570c5455df415575817e.\n\nNOTE(elod.illes): devstack in Rocky is fixed and grenade jobs started\nto pass. We can enable grenades again to restore testing as it was\nbefore.\n\nChange-Id: Ibd085a563b89c117e1e9a9c112a7d15cc2ecbc3e\n'}]",0,740294,56aa95b88cf4608b2eb9cc656fd37d3676cbd86b,18,5,1,17685,,,0,"Revert ""Make greande jobs n-v for EM and oldest stable""

This reverts commit 9313dce4590116b13b24570c5455df415575817e.

NOTE(elod.illes): devstack in Rocky is fixed and grenade jobs started
to pass. We can enable grenades again to restore testing as it was
before.

Change-Id: Ibd085a563b89c117e1e9a9c112a7d15cc2ecbc3e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/740294/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,56aa95b88cf4608b2eb9cc656fd37d3676cbd86b,grenade-em-nv, - neutron-grenade-multinode - neutron-grenade-dvr-multinode - neutron-grenade - neutron-grenade-multinode - neutron-grenade-dvr-multinode - neutron-grenade - grenade-py3: irrelevant-files: *tempest-irrelevant-files, - neutron-grenade-multinode: voting: false - neutron-grenade-dvr-multinode: voting: false - neutron-grenade: voting: false voting: false,8,7
openstack%2Fmanila~master~Ib677adb6c238b84a3eef80db951dbcab8b5603ef,openstack/manila,master,Ib677adb6c238b84a3eef80db951dbcab8b5603ef,Create wrapper client for ceph clients,ABANDONED,2020-02-10 20:21:52.000000000,2020-07-16 00:38:46.000000000,,"[{'_account_id': 6413}, {'_account_id': 8056}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 31638}]","[{'number': 1, 'created': '2020-02-10 20:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9c0d34be911789e13ade11ec677faac305cff939', 'message': 'Create wrapper client for ceph clients\n\nSince the way we communicate with the Ceph\ncluster differs between Ceph versions (we use\nceph_volume_library for versions prior to Nautilus\nand we use ceph-mgr volume post Nautilus) we needed\nto create a client wrapper to abstract us from this\nchange.\n\nThis patch set proposes a base structure for this and\nimplements main commands used by Manila to interact\nwith the ceph backend.\n\nWe need to note that ceph_volume_client is a python\nlibrary whereas we use the bash client to interact\nwith cephmgr-volume. We add a bash executor to perform\ncalls for latter client.\n\nChange-Id: Ib677adb6c238b84a3eef80db951dbcab8b5603ef\nImplements: blueprint update-cephfs-drivers\n'}, {'number': 2, 'created': '2020-02-17 20:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7c1c585d00bba6cafb94724b7a0593cfa49930a0', 'message': 'Create wrapper client for ceph clients\n\nSince the way we communicate with the Ceph\ncluster differs between Ceph versions (we use\nceph_volume_library for versions prior to Nautilus\nand we use ceph-mgr volume post Nautilus) we needed\nto create a client wrapper to abstract us from this\nchange.\n\nThis patch set proposes a base structure for this and\nimplements main commands used by Manila to interact\nwith the ceph backend.\n\nWe need to note that ceph_volume_client is a python\nlibrary whereas we use the bash client to interact\nwith cephmgr-volume. We add a bash executor to perform\ncalls for latter client.\n\nChange-Id: Ib677adb6c238b84a3eef80db951dbcab8b5603ef\nImplements: blueprint update-cephfs-drivers\n'}, {'number': 3, 'created': '2020-02-17 21:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/18ff3158bfe637c101e600a40d6a22b13b18fb07', 'message': 'Create wrapper client for ceph clients\n\nSince the way we communicate with the Ceph\ncluster differs between Ceph versions (we use\nceph_volume_library for versions prior to Nautilus\nand we use ceph-mgr volume post Nautilus) we needed\nto create a client wrapper to abstract us from this\nchange.\n\nThis patch set proposes a base structure for this and\nimplements main commands used by Manila to interact\nwith the ceph backend.\n\nWe need to note that ceph_volume_client is a python\nlibrary whereas we use the bash client to interact\nwith cephmgr-volume. We add a bash executor to perform\ncalls for latter client.\n\nChange-Id: Ib677adb6c238b84a3eef80db951dbcab8b5603ef\nImplements: blueprint update-cephfs-drivers\n'}, {'number': 4, 'created': '2020-02-18 02:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7fb6a92e0d985851b9c2d29a2125145ec2bc6592', 'message': 'Create wrapper client for ceph clients\n\nSince the way we communicate with the Ceph\ncluster differs between Ceph versions (we use\nceph_volume_library for versions prior to Nautilus\nand we use ceph-mgr volume post Nautilus) we needed\nto create a client wrapper to abstract us from this\nchange.\n\nThis patch set proposes a base structure for this and\nimplements main commands used by Manila to interact\nwith the ceph backend.\n\nWe need to note that ceph_volume_client is a python\nlibrary whereas we use the bash client to interact\nwith cephmgr-volume. We add a bash executor to perform\ncalls for latter client.\n\nChange-Id: Ib677adb6c238b84a3eef80db951dbcab8b5603ef\nImplements: blueprint update-cephfs-drivers\n'}, {'number': 5, 'created': '2020-02-18 22:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/42c9f2a27de75c4f62e59b9ac7ace161744fc669', 'message': 'Create wrapper client for ceph clients\n\nSince the way we communicate with the Ceph\ncluster differs between Ceph versions (we use\nceph_volume_library for versions prior to Nautilus\nand we use ceph-mgr volume post Nautilus) we needed\nto create a client wrapper to abstract us from this\nchange.\n\nThis patch set proposes a base structure for this and\nimplements main commands used by Manila to interact\nwith the ceph backend.\n\nWe need to note that ceph_volume_client is a python\nlibrary whereas we use the bash client to interact\nwith cephmgr-volume. We add a bash executor to perform\ncalls for latter client.\n\nChange-Id: Ib677adb6c238b84a3eef80db951dbcab8b5603ef\nImplements: blueprint update-cephfs-drivers\n'}, {'number': 6, 'created': '2020-03-06 18:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7089e98b0c72a7dc3e5e77607ab528903aeac60f', 'message': 'Create wrapper client for ceph clients\n\nSince the way we communicate with the Ceph\ncluster differs between Ceph versions (we use\nceph_volume_library for versions prior to Nautilus\nand we use ceph-mgr volume post Nautilus) we needed\nto create a client wrapper to abstract us from this\nchange.\n\nThis patch set proposes a base structure for this and\nimplements main commands used by Manila to interact\nwith the ceph backend.\n\nWe need to note that ceph_volume_client is a python\nlibrary whereas we use the bash client to interact\nwith cephmgr-volume. We add a bash executor to perform\ncalls for latter client.\n\nChange-Id: Ib677adb6c238b84a3eef80db951dbcab8b5603ef\nImplements: blueprint update-cephfs-drivers\n'}, {'number': 7, 'created': '2020-03-06 19:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fccddb90379e76c54f0921eda40d82c2ba52828a', 'message': 'Create wrapper client for ceph clients\n\nSince the way we communicate with the Ceph\ncluster differs between Ceph versions (we use\nceph_volume_library for versions prior to Nautilus\nand we use ceph-mgr volume post Nautilus) we needed\nto create a client wrapper to abstract us from this\nchange.\n\nThis patch set proposes a base structure for this and\nimplements main commands used by Manila to interact\nwith the ceph backend.\n\nWe need to note that ceph_volume_client is a python\nlibrary whereas we use the bash client to interact\nwith cephmgr-volume. We add a bash executor to perform\ncalls for latter client.\n\nChange-Id: Ib677adb6c238b84a3eef80db951dbcab8b5603ef\nImplements: blueprint update-cephfs-drivers\n'}, {'number': 8, 'created': '2020-03-10 20:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/261d852c42a275b72ff9b2fc14272e468d916f3f', 'message': 'Create wrapper client for ceph clients\n\nSince the way we communicate with the Ceph\ncluster differs between Ceph versions (we use\nceph_volume_library for versions prior to Nautilus\nand we use ceph-mgr volume post Nautilus) we needed\nto create a client wrapper to abstract us from this\nchange.\n\nThis patch set proposes a base structure for this and\nimplements main commands used by Manila to interact\nwith the ceph backend.\n\nWe need to note that ceph_volume_client is a python\nlibrary whereas we use the bash client to interact\nwith cephmgr-volume. We add a bash executor to perform\ncalls for latter client.\n\nChange-Id: Ib677adb6c238b84a3eef80db951dbcab8b5603ef\nImplements: blueprint update-cephfs-drivers\n'}, {'number': 9, 'created': '2020-03-27 15:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1fdeab11f796ee74ea6d0579702e1c0ef3273d34', 'message': 'Create wrapper client for ceph clients\n\nSince the way we communicate with the Ceph\ncluster differs between Ceph versions (we use\nceph_volume_library for versions prior to Nautilus\nand we use ceph-mgr volume post Nautilus) we needed\nto create a client wrapper to abstract us from this\nchange.\n\nThis patch set proposes a base structure for this and\nimplements main commands used by Manila to interact\nwith the ceph backend.\n\nWe need to note that ceph_volume_client is a python\nlibrary whereas we use the bash client to interact\nwith cephmgr-volume. We add a bash executor to perform\ncalls for latter client.\n\nChange-Id: Ib677adb6c238b84a3eef80db951dbcab8b5603ef\nImplements: blueprint update-cephfs-drivers\n'}, {'number': 10, 'created': '2020-03-27 23:17:04.000000000', 'files': ['manila/share/drivers/cephfs/client/__init__.py', 'manila/share/drivers/cephfs/client/utils.py', 'manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'manila/share/drivers/cephfs/client/client_cephmgr.py', 'manila/share/drivers/cephfs/client/client_base.py', 'manila/share/drivers/cephfs/client/client_legacy.py', 'manila/exception.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/1aede7e9efe58bb165c9c6b3d889a151d7a10dd3', 'message': 'Create wrapper client for ceph clients\n\nSince the way we communicate with the Ceph\ncluster differs between Ceph versions (we use\nceph_volume_library for versions prior to Nautilus\nand we use ceph-mgr volume post Nautilus) we needed\nto create a client wrapper to abstract us from this\nchange.\n\nThis patch set proposes a base structure for this and\nimplements main commands used by Manila to interact\nwith the ceph backend.\n\nWe need to note that ceph_volume_client is a python\nlibrary whereas we use the bash client to interact\nwith cephmgr-volume. We add a bash executor to perform\ncalls for latter client.\n\nChange-Id: Ib677adb6c238b84a3eef80db951dbcab8b5603ef\nImplements: blueprint update-cephfs-drivers\n'}]",14,706968,1aede7e9efe58bb165c9c6b3d889a151d7a10dd3,86,12,10,6413,,,0,"Create wrapper client for ceph clients

Since the way we communicate with the Ceph
cluster differs between Ceph versions (we use
ceph_volume_library for versions prior to Nautilus
and we use ceph-mgr volume post Nautilus) we needed
to create a client wrapper to abstract us from this
change.

This patch set proposes a base structure for this and
implements main commands used by Manila to interact
with the ceph backend.

We need to note that ceph_volume_client is a python
library whereas we use the bash client to interact
with cephmgr-volume. We add a bash executor to perform
calls for latter client.

Change-Id: Ib677adb6c238b84a3eef80db951dbcab8b5603ef
Implements: blueprint update-cephfs-drivers
",git fetch https://review.opendev.org/openstack/manila refs/changes/68/706968/10 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/cephfs/client/__init__.py', 'manila/share/drivers/cephfs/client/utils.py', 'manila/share/drivers/cephfs/driver.py', 'manila/share/drivers/cephfs/client/client_cephmgr.py', 'manila/share/drivers/cephfs/client/client_base.py', 'manila/exception.py', 'manila/share/drivers/cephfs/client/client_legacy.py']",7,9c0d34be911789e13ade11ec677faac305cff939,bp/update-cephfs-drivers,"# Copyright (c) 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log from manila.share.drivers.cephfs.client.client_base import ClientBase try: import ceph_volume_client ceph_module_found = True except ImportError as e: ceph_volume_client = None ceph_module_found = False LOG = log.getLogger(__name__) class ClientLegacy(ClientBase): """"""Client wrapper for ceph_volume_client To communicate to Ceph clusters pre Nautilus we need to use the ceph_volume_client. """""" def __init__(self, auth_id, conf_path, cluster_name, volume_prefix): self._volume_client = ceph_volume_client.CephFSVolumeClient( auth_id, conf_path, cluster_name, volume_prefix=volume_prefix) LOG.info(""[%(be)s}] Ceph client found, connecting..."", {""be"": self.backend_name}) def create_volume(self): pass ",,189,11
openstack%2Fglance~master~I82b61a2d7687ff109051815e01619eb612ea9073,openstack/glance,master,I82b61a2d7687ff109051815e01619eb612ea9073,Stop to use the __future__ module.,MERGED,2020-06-02 18:14:39.000000000,2020-07-16 00:14:10.000000000,2020-07-16 00:12:28.000000000,"[{'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 18:14:39.000000000', 'files': ['glance/tests/unit/fixtures.py', 'glance/tests/unit/test_image_cache.py', 'glance/tests/unit/test_glance_replicator.py', 'glance/tests/unit/test_manage.py', 'glance/tests/functional/store_utils.py', 'glance/cmd/control.py', 'glance/cmd/replicator.py', 'glance/image_cache/drivers/sqlite.py', 'glance/db/sqlalchemy/alembic_migrations/env.py', 'glance/common/wsgi.py', 'glance/cmd/manage.py', 'glance/image_cache/drivers/xattr.py', 'glance/cmd/cache_manage.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/64e3c4116720531d69a522d1b056636a0b0065b5', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I82b61a2d7687ff109051815e01619eb612ea9073\n""}]",0,732843,64e3c4116720531d69a522d1b056636a0b0065b5,19,5,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I82b61a2d7687ff109051815e01619eb612ea9073
",git fetch https://review.opendev.org/openstack/glance refs/changes/43/732843/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/fixtures.py', 'glance/tests/unit/test_image_cache.py', 'glance/tests/unit/test_glance_replicator.py', 'glance/tests/unit/test_manage.py', 'glance/tests/functional/store_utils.py', 'glance/cmd/control.py', 'glance/cmd/replicator.py', 'glance/image_cache/drivers/sqlite.py', 'glance/db/sqlalchemy/alembic_migrations/env.py', 'glance/common/wsgi.py', 'glance/cmd/manage.py', 'glance/image_cache/drivers/xattr.py', 'glance/cmd/cache_manage.py']",13,64e3c4116720531d69a522d1b056636a0b0065b5,drop_future_imports,,from __future__ import print_function,0,24
openstack%2Frequirements~master~Ifb677e8839b736164e7fe9bf53cb0856bf5457e3,openstack/requirements,master,Ifb677e8839b736164e7fe9bf53cb0856bf5457e3,update constraint for python-watcherclient to new release 3.1.0,MERGED,2020-06-18 17:16:04.000000000,2020-07-16 00:14:04.000000000,2020-07-16 00:12:27.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-18 17:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ea8c078b20435885ceebb94d1328343855552b60', 'message': 'update constraint for python-watcherclient to new release 3.1.0\n\nChange-Id: Ifb677e8839b736164e7fe9bf53cb0856bf5457e3\nmeta:version: 3.1.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I3d60d4af030824a6b5f7064ca7e846b3cfc6d481\nmeta:release:Code-Review+1: licanwei <li.canwei2@zte.com.cn>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}, {'number': 2, 'created': '2020-06-22 23:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/de548b7f00c2112fcc473518204d91b866689add', 'message': 'update constraint for python-watcherclient to new release 3.1.0\n\nChange-Id: Ifb677e8839b736164e7fe9bf53cb0856bf5457e3\nmeta:version: 3.1.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I3d60d4af030824a6b5f7064ca7e846b3cfc6d481\nmeta:release:Code-Review+1: licanwei <li.canwei2@zte.com.cn>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}, {'number': 3, 'created': '2020-06-24 20:30:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6da3a399716319b136b5595f2dc75b8532f21272', 'message': 'update constraint for python-watcherclient to new release 3.1.0\n\nChange-Id: Ifb677e8839b736164e7fe9bf53cb0856bf5457e3\nmeta:version: 3.1.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I3d60d4af030824a6b5f7064ca7e846b3cfc6d481\nmeta:release:Code-Review+1: licanwei <li.canwei2@zte.com.cn>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,736782,6da3a399716319b136b5595f2dc75b8532f21272,34,4,3,11131,,,0,"update constraint for python-watcherclient to new release 3.1.0

Change-Id: Ifb677e8839b736164e7fe9bf53cb0856bf5457e3
meta:version: 3.1.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I3d60d4af030824a6b5f7064ca7e846b3cfc6d481
meta:release:Code-Review+1: licanwei <li.canwei2@zte.com.cn>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/82/736782/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ea8c078b20435885ceebb94d1328343855552b60,new-release,python-watcherclient===3.1.0,python-watcherclient===3.0.0,1,1
openstack%2Ftripleo-heat-templates~master~I8b35fa8f322e5c261c20827f3bee887a5fd1dc93,openstack/tripleo-heat-templates,master,I8b35fa8f322e5c261c20827f3bee887a5fd1dc93,Test policy.yaml,ABANDONED,2020-07-14 05:42:32.000000000,2020-07-15 23:42:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-14 05:42:32.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f76700f95613090454bd90867e8d5c1d762faa2c', 'message': 'Test policy.yaml\n\nChange-Id: I8b35fa8f322e5c261c20827f3bee887a5fd1dc93\nDepeonds-on: https://review.opendev.org/#/c/739989/\n'}]",0,740873,f76700f95613090454bd90867e8d5c1d762faa2c,4,2,1,9816,,,0,"Test policy.yaml

Change-Id: I8b35fa8f322e5c261c20827f3bee887a5fd1dc93
Depeonds-on: https://review.opendev.org/#/c/739989/
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/740873/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,f76700f95613090454bd90867e8d5c1d762faa2c,policy-generation, keystone::policy::policy_path: '/etc/keystone/policy.yaml',,1,0
openstack%2Ftripleo-heat-templates~master~Ib91a9c5bd96f2dd3fec84573cd1079e153a181fa,openstack/tripleo-heat-templates,master,Ib91a9c5bd96f2dd3fec84573cd1079e153a181fa,Test new policy file management,ABANDONED,2020-07-14 05:42:32.000000000,2020-07-15 23:42:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-14 05:42:32.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a3270fde7275133a37c588427a2f69035d4a65e2', 'message': 'Test new policy file management\n\nDepends-on: https://review.opendev.org/#/c/739984/\nChange-Id: Ib91a9c5bd96f2dd3fec84573cd1079e153a181fa\n'}]",0,740872,a3270fde7275133a37c588427a2f69035d4a65e2,4,2,1,9816,,,0,"Test new policy file management

Depends-on: https://review.opendev.org/#/c/739984/
Change-Id: Ib91a9c5bd96f2dd3fec84573cd1079e153a181fa
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/740872/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,a3270fde7275133a37c588427a2f69035d4a65e2,policy-generation," default: { keystone-context_is_admin: { key: context_is_admin, value: 'role:admin' } }", default: {},1,1
openstack%2Fcinderlib~master~I96a492f56fc92a6c436bd539affbb66f79f32db4,openstack/cinderlib,master,I96a492f56fc92a6c436bd539affbb66f79f32db4,WIP functional tests: directly set PATH,ABANDONED,2020-07-14 22:17:03.000000000,2020-07-15 22:54:16.000000000,,"[{'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 22:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/252944d1be899e81e43ce4d5650537adda956404', 'message': 'functional tests: directly set PATH\n\nSetting PATH inside the command may make stestr find the command\noutside the venv, and the workaround itself seems to not be needed\nanymore.\n\nChange-Id: I96a492f56fc92a6c436bd539affbb66f79f32db4\n'}, {'number': 2, 'created': '2020-07-15 09:17:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/0d18dc310d4e3139285dc4d9d336d45aad43ace4', 'message': 'WIP functional tests: directly set PATH\n\nSetting PATH inside the command may make stestr find the command\noutside the venv, and the workaround itself seems to not be needed\nanymore.\n\nChange-Id: I96a492f56fc92a6c436bd539affbb66f79f32db4\n'}]",0,741061,0d18dc310d4e3139285dc4d9d336d45aad43ace4,8,3,2,10459,,,0,"WIP functional tests: directly set PATH

Setting PATH inside the command may make stestr find the command
outside the venv, and the workaround itself seems to not be needed
anymore.

Change-Id: I96a492f56fc92a6c436bd539affbb66f79f32db4
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/61/741061/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,252944d1be899e81e43ce4d5650537adda956404,cinder-cross-testing, PATH={env:PATH}:/usr/local/sbin:/usr/sbin stestr run --serial {posargs}," ADD_PATHS=/usr/local/sbin:/usr/sbin # Tox has a bug and it ignores the PATH set in setenv, so we work around it bash -i -c ""PATH=$PATH:$ADD_PATHS stestr run --serial {posargs}""",2,3
openstack%2Fcinder-specs~master~I866bf7af44f975842271fdd70e19102c16f8f671,openstack/cinder-specs,master,I866bf7af44f975842271fdd70e19102c16f8f671,Support modern compression algorithms in cinder backup,MERGED,2020-05-08 08:20:39.000000000,2020-07-15 22:52:45.000000000,2020-07-15 22:50:43.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 25397}, {'_account_id': 28522}, {'_account_id': 28948}]","[{'number': 1, 'created': '2020-05-08 08:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/766a136013dda4a3600aaf3119f07d0ddbe96124', 'message': 'Support modern compression algorithms in cinder backup\n\nChange-Id: I866bf7af44f975842271fdd70e19102c16f8f671\nImplements: blueprint support-modern-compression-algorithms-in-cinder-backup\n'}, {'number': 2, 'created': '2020-05-08 08:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/964fcfdec6000db755ab4487d240e0f23df95726', 'message': 'Support modern compression algorithms in cinder backup\n\nChange-Id: I866bf7af44f975842271fdd70e19102c16f8f671\nImplements: blueprint support-modern-compression-algorithms-in-cinder-backup\n'}, {'number': 3, 'created': '2020-05-12 07:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/84ac1d3ba34a905497d34ea6d197e2fbab5c67eb', 'message': 'Support modern compression algorithms in cinder backup\n\nChange-Id: I866bf7af44f975842271fdd70e19102c16f8f671\nImplements: blueprint support-modern-compression-algorithms-in-cinder-backup\n'}, {'number': 4, 'created': '2020-07-06 13:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/6b0ddae39b184ea0d6e5a4119bf0f09c587685df', 'message': 'Support modern compression algorithms in cinder backup\n\nChange-Id: I866bf7af44f975842271fdd70e19102c16f8f671\nImplements: blueprint support-modern-compression-algorithms-in-cinder-backup\n'}, {'number': 5, 'created': '2020-07-14 00:59:14.000000000', 'files': ['doc/source/index.rst', 'specs/victoria/support-modern-compression-algorithms-in-cinder-backup.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/035034fffc817c01eb57804567824e9ee4642d02', 'message': 'Support modern compression algorithms in cinder backup\n\nChange-Id: I866bf7af44f975842271fdd70e19102c16f8f671\nImplements: blueprint support-modern-compression-algorithms-in-cinder-backup\n'}]",14,726307,035034fffc817c01eb57804567824e9ee4642d02,32,7,5,25397,,,0,"Support modern compression algorithms in cinder backup

Change-Id: I866bf7af44f975842271fdd70e19102c16f8f671
Implements: blueprint support-modern-compression-algorithms-in-cinder-backup
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/07/726307/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/support-modern-compression-algorithms-in-cinder-backup.rst'],1,766a136013dda4a3600aaf3119f07d0ddbe96124,bp/support-modern-compression-algorithms-in-cinder-backup,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================================================== Support modern compression algorithms in cinder backup ====================================================== https://blueprints.launchpad.net/cinder/+spec/support-modern-compression-algorithms-in-cinder-backup This blueprint proposes to add support of modern compression algorithms like lz4 and zstd to cinder backup. Problem description =================== Cinder backup currently supports only gzip and bzip2 to compress/decompress the volume data during backup and restore operation. It should support other compression algorithms as well because efficiency of compression entirely depends on cloud provider's environment and choice. Some may want fast compression compromising the compression ratio, so to provide more choices to cloud provider, it will be good to add support of other algorithms like lz4 and zstd. Lz4 is known as fast compression algorithm. It's often used for realtime-compression. (e.g. ZFS filesystem support lz4 for on-the-fly compression. https://lz4.github.io/lz4/ Zstandard(zstd) gives high compression ratio(comparable to zlib) with very much fast speed. It's now used as package compression algorithm for arch linux. https://facebook.github.io/zstd/ Some general benchmark result is available on the website introduced above, or lzbench website. https://github.com/inikep/lzbench/ Use Cases ========= * Cinder backup with high-speed compression algorithm Proposed change =============== * add lz4 and zstd algorithms package details in requirements.txt. * add the support of lz4 and zstd algorithm in get compressor routine of cinder backup. Alternatives ------------ None. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ * Cinder backup and restore operation gets faster. * Size of backup data may be bigger than zlib or bz2 compression algorithm (depends on content of data volume) * Simple performance test result I have done * Server spec: 8core CPU, 16GB memory * Backup store is NFS-backend on localhost(i.e. small network bottleneck) * Backup/restore a 16GB volume created from a Windows image (qcow2 12001017856 bytes) * Measured backup/restore time backup data size, and size ratio versus size of qcow2(considering as approximate amount of data in the volume) The smaller the better for all values. ================= ================ ================= =========== ============= Algorithm backup time(sec) restore time(sec) size(bytes) v.s. qcow2(%) ================= ================ ================= =========== ============= none 203.8 112.4 17218167818 143.5 gzip 739.8 1440.0 6658990044 55.5 bz2 2076.4 735.4 6480248772 54.0 lz4(to be added) 207.2 114.8 7903490364 65.9 zstd(to be added) 251.0 102.6 6284156414 52.4 ================= ================ ================= =========== ============= Other deployer impact --------------------- None. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: Kazufumi Noto Other contributors: None Work Items ---------- * Add the package details to cinder/requirements.txt. * Implement the code to add support of lz4 and zstd compression. * Documents need to be updated to reflect the added support. * Add test cases to create backup using lz4 and zstd compression. Dependencies ============ None Testing ======= * Unit tests will be added to create backup using lz4 and zstd compression. Documentation Impact ==================== The following documents need to be updated to reflect the added support: * cinder sample configuration file in configuration reference. References ========== * https://lz4.github.io/lz4/ * https://facebook.github.io/zstd/ * https://github.com/inikep/lzbench/ ",,169,0
openstack%2Fironic~stable%2Ftrain~I4319ce2f42f35251595306b9a77ae1f8bc55595c,openstack/ironic,stable/train,I4319ce2f42f35251595306b9a77ae1f8bc55595c,Stop using md5 for __repr__ of objects,MERGED,2020-07-09 16:04:28.000000000,2020-07-15 22:51:00.000000000,2020-07-15 22:49:00.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-09 16:04:28.000000000', 'files': ['tools/bandit.yml', 'ironic/tests/unit/objects/test_fields.py', 'ironic/objects/fields.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4fb11f47c9e59fb2c8ffc995c222c4d67ea01726', 'message': 'Stop using md5 for __repr__ of objects\n\nThe md5 function is not available on systems in FIPS mode, just\nuse the callable name (which is closer to how repr usually looks).\n\nChange-Id: I4319ce2f42f35251595306b9a77ae1f8bc55595c\n(cherry picked from commit 8aecabcfe4d24da51e0ac59cf18e83773defe948)\n'}]",0,740330,4fb11f47c9e59fb2c8ffc995c222c4d67ea01726,17,6,1,10239,,,0,"Stop using md5 for __repr__ of objects

The md5 function is not available on systems in FIPS mode, just
use the callable name (which is closer to how repr usually looks).

Change-Id: I4319ce2f42f35251595306b9a77ae1f8bc55595c
(cherry picked from commit 8aecabcfe4d24da51e0ac59cf18e83773defe948)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/30/740330/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/bandit.yml', 'ironic/objects/fields.py', 'ironic/tests/unit/objects/test_fields.py']",3,4fb11f47c9e59fb2c8ffc995c222c4d67ea01726,md5-stable/train," expected = ('StringAcceptsCallable(default=<function ' 'test_default_function>,nullable=False)')","import hashlib import inspect self.test_default_function_hash = hashlib.md5( inspect.getsource(test_default_function).encode()).hexdigest() expected = ('StringAcceptsCallable(default=test_default_function-%s,' 'nullable=False)' % self.test_default_function_hash)",3,14
openstack%2Fironic~stable%2Fussuri~I4319ce2f42f35251595306b9a77ae1f8bc55595c,openstack/ironic,stable/ussuri,I4319ce2f42f35251595306b9a77ae1f8bc55595c,Stop using md5 for __repr__ of objects,MERGED,2020-07-09 16:04:20.000000000,2020-07-15 22:50:54.000000000,2020-07-15 22:48:58.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-09 16:04:20.000000000', 'files': ['tools/bandit.yml', 'ironic/tests/unit/objects/test_fields.py', 'ironic/objects/fields.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/798a585efbd05063d1843f03fe7a86938d60633f', 'message': 'Stop using md5 for __repr__ of objects\n\nThe md5 function is not available on systems in FIPS mode, just\nuse the callable name (which is closer to how repr usually looks).\n\nChange-Id: I4319ce2f42f35251595306b9a77ae1f8bc55595c\n(cherry picked from commit 8aecabcfe4d24da51e0ac59cf18e83773defe948)\n'}]",0,740329,798a585efbd05063d1843f03fe7a86938d60633f,21,6,1,10239,,,0,"Stop using md5 for __repr__ of objects

The md5 function is not available on systems in FIPS mode, just
use the callable name (which is closer to how repr usually looks).

Change-Id: I4319ce2f42f35251595306b9a77ae1f8bc55595c
(cherry picked from commit 8aecabcfe4d24da51e0ac59cf18e83773defe948)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/29/740329/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/bandit.yml', 'ironic/objects/fields.py', 'ironic/tests/unit/objects/test_fields.py']",3,798a585efbd05063d1843f03fe7a86938d60633f,md5-stable/ussuri," expected = ('StringAcceptsCallable(default=<function ' 'test_default_function>,nullable=False)')","import hashlib import inspect self.test_default_function_hash = hashlib.md5( inspect.getsource(test_default_function).encode()).hexdigest() expected = ('StringAcceptsCallable(default=test_default_function-%s,' 'nullable=False)' % self.test_default_function_hash)",3,14
openstack%2Fnova~master~I805eaa8b6fb55ce9cbc8f6b8b777af48302ba2ba,openstack/nova,master,I805eaa8b6fb55ce9cbc8f6b8b777af48302ba2ba,crypto: Add type hints,MERGED,2020-07-03 11:16:41.000000000,2020-07-15 22:41:38.000000000,2020-07-15 22:34:59.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-03 11:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ac160be8d19dbebd4253e61dcd3e15e1c52ee29', 'message': ""crypto: Add type hints\n\nThis highlights a bug in the 'generate_winrm_x509_cert' function, which\nwas treating the output of 'generate_x509_fingerprint' as a bytestring\nwhen it was actually a string\n\nChange-Id: I805eaa8b6fb55ce9cbc8f6b8b777af48302ba2ba\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-07 15:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/939f2c9032b5ef17d39cd61ff7b273c549396a7e', 'message': ""crypto: Add type hints\n\nNothing to complicated here, other than working around mypy's dislike of\nchanging variable types and inability to process 'if six.PY3'\nconditional blocks because it doesn't run the code.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I805eaa8b6fb55ce9cbc8f6b8b777af48302ba2ba\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-07-08 14:13:02.000000000', 'files': ['nova/crypto.py', 'mypy-files.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/9ce6c0d8e92fcc2296fc5dce585415090c4424f0', 'message': ""crypto: Add type hints\n\nNothing to complicated here, other than working around mypy's dislike of\nchanging variable types and inability to process 'if six.PY3'\nconditional blocks because it doesn't run the code.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I805eaa8b6fb55ce9cbc8f6b8b777af48302ba2ba\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,739207,9ce6c0d8e92fcc2296fc5dce585415090c4424f0,65,13,3,15334,,,0,"crypto: Add type hints

Nothing to complicated here, other than working around mypy's dislike of
changing variable types and inability to process 'if six.PY3'
conditional blocks because it doesn't run the code.

Part of blueprint add-emulated-virtual-tpm

Change-Id: I805eaa8b6fb55ce9cbc8f6b8b777af48302ba2ba
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/739207/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/crypto.py', 'mypy-files.txt']",2,4ac160be8d19dbebd4253e61dcd3e15e1c52ee29,bp/add-emulated-virtual-tpm,nova/crypto.py,,21,21
openstack%2Fneutron~stable%2Ftrain~I1b6154b9433a9442d3e0118dedfa01c4a9b4740b,openstack/neutron,stable/train,I1b6154b9433a9442d3e0118dedfa01c4a9b4740b,Don't add arp responder for non tunnel network port,ABANDONED,2020-07-10 10:25:50.000000000,2020-07-15 22:13:51.000000000,,"[{'_account_id': 9732}, {'_account_id': 19956}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-10 10:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3fdfbf70a4c93bea674dff8ba55865799c0b5541', 'message': ""Don't add arp responder for non tunnel network port\n\nWhen the vlan and vxlan both exist in env, and l2population\nand arp_responder are enabled, if we update a port's ip address\nfrom vlan network, there will be arp responder related flows\nadded into br-tun, this will cause too many arp reply for\none arp request, and vm connections will be unnormal.\n\nCloses-Bug: #1824504\nChange-Id: I1b6154b9433a9442d3e0118dedfa01c4a9b4740b\n(cherry picked from commit 5301ecf41b18e83abdc3c828cd64ce0111f9fcd1)\n""}, {'number': 2, 'created': '2020-07-13 23:52:34.000000000', 'files': ['neutron/plugins/ml2/drivers/l2pop/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd63dc6bfec69065cbbe121b965fbbe1b271e094', 'message': ""Don't add arp responder for non tunnel network port\n\nWhen the vlan and vxlan both exist in env, and l2population\nand arp_responder are enabled, if we update a port's ip address\nfrom vlan network, there will be arp responder related flows\nadded into br-tun, this will cause too many arp reply for\none arp request, and vm connections will be unnormal.\n\nCloses-Bug: #1824504\nChange-Id: I1b6154b9433a9442d3e0118dedfa01c4a9b4740b\n(cherry picked from commit 5301ecf41b18e83abdc3c828cd64ce0111f9fcd1)\n""}]",0,740436,cd63dc6bfec69065cbbe121b965fbbe1b271e094,9,5,2,29071,,,0,"Don't add arp responder for non tunnel network port

When the vlan and vxlan both exist in env, and l2population
and arp_responder are enabled, if we update a port's ip address
from vlan network, there will be arp responder related flows
added into br-tun, this will cause too many arp reply for
one arp request, and vm connections will be unnormal.

Closes-Bug: #1824504
Change-Id: I1b6154b9433a9442d3e0118dedfa01c4a9b4740b
(cherry picked from commit 5301ecf41b18e83abdc3c828cd64ce0111f9fcd1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/740436/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/l2pop/mech_driver.py'],1,3fdfbf70a4c93bea674dff8ba55865799c0b5541,bug/1824504-stable/train," # We should not add arp responder for non tunnel network type port_context = context._plugin_context agent = l2pop_db.get_agent_by_host(port_context, agent_host) segment = context.bottom_bound_segment if not self._validate_segment(segment, port['id'], agent): return ",,7,0
openstack%2Fnova~master~Id5e4b0f26d5a2a93db6a7d96555a2cff29d9a2cf,openstack/nova,master,Id5e4b0f26d5a2a93db6a7d96555a2cff29d9a2cf,"virt: Add 'context', drop 'network_info' parameters for 'unrescue'",MERGED,2020-05-22 17:40:49.000000000,2020-07-15 22:12:24.000000000,2020-07-15 22:09:14.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-05-22 17:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47d28a9d8b83b724642f51a1bdcbd10f3069bd72', 'message': ""virt: Add 'context', drop 'network_info' parameters for 'unrescue'\n\nIn a future change, we'll want access to this so that it's possible to\nretrieve vTPM data during the unrescue operation. While we're here, it\nseems nothing is using the 'network_info' argument anymore, presumably\nsince the demise of nova-network, and this can and should be dropped.\nResolve both issues in one go, adding the 'context' parameter, dropping\nthe 'network_info' one, and updating the various callers and tests for\nsame.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Id5e4b0f26d5a2a93db6a7d96555a2cff29d9a2cf\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-05-25 13:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16f3c48666a791f673b1dd5fc71fbd0f7aa2d0d2', 'message': ""virt: Add 'context', drop 'network_info' parameters for 'unrescue'\n\nIn a future change, we'll want access to this so that it's possible to\nretrieve vTPM data during the unrescue operation. While we're here, it\nseems nothing is using the 'network_info' argument anymore, presumably\nsince the demise of nova-network, and this can and should be dropped.\nResolve both issues in one go, adding the 'context' parameter, dropping\nthe 'network_info' one, and updating the various callers and tests for\nsame.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Id5e4b0f26d5a2a93db6a7d96555a2cff29d9a2cf\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-05-25 16:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bea82850c08dfc35dfb7d8f362948946bd41abff', 'message': ""virt: Add 'context', drop 'network_info' parameters for 'unrescue'\n\nIn a future change, we'll want access to this so that it's possible to\nretrieve vTPM data during the unrescue operation. While we're here, it\nseems nothing is using the 'network_info' argument anymore, presumably\nsince the demise of nova-network, and this can and should be dropped.\nResolve both issues in one go, adding the 'context' parameter, dropping\nthe 'network_info' one, and updating the various callers and tests for\nsame.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Id5e4b0f26d5a2a93db6a7d96555a2cff29d9a2cf\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-05-26 16:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23e6b6b5c30fffa8bf3a122bb9a0eb4a0a4fdcb8', 'message': ""virt: Add 'context', drop 'network_info' parameters for 'unrescue'\n\nIn a future change, we'll want access to this so that it's possible to\nretrieve vTPM data during the unrescue operation. While we're here, it\nseems nothing is using the 'network_info' argument anymore, presumably\nsince the demise of nova-network, and this can and should be dropped.\nResolve both issues in one go, adding the 'context' parameter, dropping\nthe 'network_info' one, and updating the various callers and tests for\nsame.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Id5e4b0f26d5a2a93db6a7d96555a2cff29d9a2cf\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-05-28 15:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/caf0e50f34aba4fc777baa5863c6bdf69f47840c', 'message': ""virt: Add 'context', drop 'network_info' parameters for 'unrescue'\n\nIn a future change, we'll want access to this so that it's possible to\nretrieve vTPM data during the unrescue operation. While we're here, it\nseems nothing is using the 'network_info' argument anymore, presumably\nsince the demise of nova-network, and this can and should be dropped.\nResolve both issues in one go, adding the 'context' parameter, dropping\nthe 'network_info' one, and updating the various callers and tests for\nsame.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Id5e4b0f26d5a2a93db6a7d96555a2cff29d9a2cf\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2020-06-25 14:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c6bd12991cbbb78aa44d601c1dbe8968115c178', 'message': ""virt: Add 'context', drop 'network_info' parameters for 'unrescue'\n\nIn a future change, we'll want access to this so that it's possible to\nretrieve vTPM data during the unrescue operation. While we're here, it\nseems nothing is using the 'network_info' argument anymore, presumably\nsince the demise of nova-network, and this can and should be dropped.\nResolve both issues in one go, adding the 'context' parameter, dropping\nthe 'network_info' one, and updating the various callers and tests for\nsame.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Id5e4b0f26d5a2a93db6a7d96555a2cff29d9a2cf\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2020-07-02 12:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1287f3f7e4f369ba87bd30fb3ac7f23a06e019a4', 'message': ""virt: Add 'context', drop 'network_info' parameters for 'unrescue'\n\nIn a future change, we'll want access to this so that it's possible to\nretrieve vTPM data during the unrescue operation. While we're here, it\nseems nothing is using the 'network_info' argument anymore, presumably\nsince the demise of nova-network, and this can and should be dropped.\nResolve both issues in one go, adding the 'context' parameter, dropping\nthe 'network_info' one, and updating the various callers and tests for\nsame.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Id5e4b0f26d5a2a93db6a7d96555a2cff29d9a2cf\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2020-07-07 15:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebb7038d18c67fd00a3da7e29a16ad697b664d70', 'message': ""virt: Add 'context', drop 'network_info' parameters for 'unrescue'\n\nIn a future change, we'll want access to this so that it's possible to\nretrieve vTPM data during the unrescue operation. While we're here, it\nseems nothing is using the 'network_info' argument anymore, presumably\nsince the demise of nova-network, and this can and should be dropped.\nResolve both issues in one go, adding the 'context' parameter, dropping\nthe 'network_info' one, and updating the various callers and tests for\nsame.\n\nMaintainers of out-of-tree drivers have been notified of these changes\n[1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/015824.html\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Id5e4b0f26d5a2a93db6a7d96555a2cff29d9a2cf\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 9, 'created': '2020-07-08 14:13:02.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/hyperv/driver.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/virt/vmwareapi/driver.py', 'nova/test.py', 'mypy-files.txt', 'nova/compute/manager.py', 'nova/tests/unit/virt/test_virt_drivers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7e4d8afb95127aee7afe8e7835b21330491b3ef0', 'message': ""virt: Add 'context', drop 'network_info' parameters for 'unrescue'\n\nIn a future change, we'll want access to this so that it's possible to\nretrieve vTPM data during the unrescue operation. While we're here, it\nseems nothing is using the 'network_info' argument anymore, presumably\nsince the demise of nova-network, and this can and should be dropped.\nResolve both issues in one go, adding the 'context' parameter, dropping\nthe 'network_info' one, and updating the various callers and tests for\nsame.\n\nMaintainers of out-of-tree drivers have been notified of these changes\n[1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/015824.html\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Id5e4b0f26d5a2a93db6a7d96555a2cff29d9a2cf\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",9,730382,7e4d8afb95127aee7afe8e7835b21330491b3ef0,109,15,9,15334,,,0,"virt: Add 'context', drop 'network_info' parameters for 'unrescue'

In a future change, we'll want access to this so that it's possible to
retrieve vTPM data during the unrescue operation. While we're here, it
seems nothing is using the 'network_info' argument anymore, presumably
since the demise of nova-network, and this can and should be dropped.
Resolve both issues in one go, adding the 'context' parameter, dropping
the 'network_info' one, and updating the various callers and tests for
same.

Maintainers of out-of-tree drivers have been notified of these changes
[1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/015824.html

Part of blueprint add-emulated-virtual-tpm

Change-Id: Id5e4b0f26d5a2a93db6a7d96555a2cff29d9a2cf
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/730382/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/fake.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/hyperv/driver.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/virt/vmwareapi/driver.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/test_virt_drivers.py']",14,47d28a9d8b83b724642f51a1bdcbd10f3069bd72,bp/add-emulated-virtual-tpm," instance_ref, _ = self._get_running_instance() self.connection.unrescue(self.ctxt, instance_ref) self.connection.unrescue(self.ctxt, instance_ref)"," instance_ref, network_info = self._get_running_instance() self.connection.unrescue(instance_ref, network_info) self.connection.unrescue(instance_ref, network_info)",93,37
openstack%2Ftripleo-ansible~stable%2Ftrain~I77dbbc5f695c3df2585c0911d3bc245528106f33,openstack/tripleo-ansible,stable/train,I77dbbc5f695c3df2585c0911d3bc245528106f33,Fix Octavia amphora log offloading template path,MERGED,2020-07-14 11:56:52.000000000,2020-07-15 21:42:07.000000000,2020-07-15 21:42:06.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-14 11:56:52.000000000', 'files': ['tripleo_ansible/roles/octavia-controller-post-config/templates/10-octavia.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0443cbe00507fc9271c7962943d08ee203e669b3', 'message': 'Fix Octavia amphora log offloading template path\n\nTripleo Ansible renamed role directories to hyphens from underscores in\nUssuri release. Train backport [1] did not account for change and as so\nthe templates file is in a different directory.\n\n[1] https://review.opendev.org/#/c/733713/\n\nCloses-Bug: #1887516\nChange-Id: I77dbbc5f695c3df2585c0911d3bc245528106f33\n'}]",0,740944,0443cbe00507fc9271c7962943d08ee203e669b3,10,6,1,6469,,,0,"Fix Octavia amphora log offloading template path

Tripleo Ansible renamed role directories to hyphens from underscores in
Ussuri release. Train backport [1] did not account for change and as so
the templates file is in a different directory.

[1] https://review.opendev.org/#/c/733713/

Closes-Bug: #1887516
Change-Id: I77dbbc5f695c3df2585c0911d3bc245528106f33
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/44/740944/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia-controller-post-config/templates/10-octavia.conf.j2'],1,0443cbe00507fc9271c7962943d08ee203e669b3,,,,0,0
openstack%2Ftripleo-common~master~Iad38f5152ef824a90d3c9fde8be45594acbed44a,openstack/tripleo-common,master,Iad38f5152ef824a90d3c9fde8be45594acbed44a,TCIB: add etcd user to the kolla group,MERGED,2020-07-14 14:27:10.000000000,2020-07-15 21:42:05.000000000,2020-07-15 16:55:29.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-14 14:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/834372ebfef9a94a0e58b6e8b32228a88751e85f', 'message': 'TCIB: add etcd user to the kolla group\n\nThis is required or the kolla_set_configs will fail to run with\npermission error.\n\nChange-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a\n'}, {'number': 2, 'created': '2020-07-14 17:58:34.000000000', 'files': ['container-images/tcib/base/etcd/etcd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4d26b5dc1c51cf0e63b1050cf3d90b13ed53dc32', 'message': 'TCIB: add etcd user to the kolla group\n\nThis is required or the kolla_set_configs will fail to run with\npermission error.\n\nChange-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a\n'}]",0,740976,4d26b5dc1c51cf0e63b1050cf3d90b13ed53dc32,14,4,2,3153,,,0,"TCIB: add etcd user to the kolla group

This is required or the kolla_set_configs will fail to run with
permission error.

Change-Id: Iad38f5152ef824a90d3c9fde8be45594acbed44a
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/76/740976/2 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/etcd/etcd.yaml'],1,834372ebfef9a94a0e58b6e8b32228a88751e85f,etcd/group,- run: usermod -a -G kolla etcd,,1,0
openstack%2Fopenstack-helm~master~I21ceba857c375c1de054e69cf84449e02881b0ce,openstack/openstack-helm,master,I21ceba857c375c1de054e69cf84449e02881b0ce,Fix security context for glance rally tests,MERGED,2020-07-14 23:45:11.000000000,2020-07-15 21:22:14.000000000,2020-07-15 21:19:57.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 26686}, {'_account_id': 29144}]","[{'number': 1, 'created': '2020-07-14 23:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6c5251f07c779ac08dcce2273552c7c409d87a77', 'message': 'Fix user for glance rally tests\n\nAlso run helm test glance in gates.\n\nChange-Id: I21ceba857c375c1de054e69cf84449e02881b0ce\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-15 00:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6ec0696142e45d47327dabb604e40af6458266ac', 'message': 'Fix security context for glance rally tests\n\nAlso run helm test glance in gates.\n\nChange-Id: I21ceba857c375c1de054e69cf84449e02881b0ce\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-15 00:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b85582d6f42c7008100e85460697a3bf27bc6915', 'message': 'Fix user for glance rally tests\n\nAlso run helm test glance in gates.\n\nChange-Id: I21ceba857c375c1de054e69cf84449e02881b0ce\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-07-15 01:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5da24c34c55ac402b51830dde5c206bcf9a122c1', 'message': 'Fix user for glance rally tests\n\nAlso run helm test glance in gates.\n\nChange-Id: I21ceba857c375c1de054e69cf84449e02881b0ce\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2020-07-15 02:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9ecd79fc4fa6c6367e2eb0d20862b638eb2080af', 'message': 'Fix user for glance rally tests\n\nChange-Id: I21ceba857c375c1de054e69cf84449e02881b0ce\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 6, 'created': '2020-07-15 18:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/beb99b4e9f1e643c785c899c4bef5ae1396c8861', 'message': 'Fix security context for glance rally tests\n\nAlso enable glance helm tests for gates.\nTemporary replaces cirros url to mirror due to [0]\n\n[0] https://bugs.launchpad.net/rally/+bug/1887705\n\nChange-Id: I21ceba857c375c1de054e69cf84449e02881b0ce\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 7, 'created': '2020-07-15 18:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f78e7c4651ace1cf7e4a677e6681a5e1d11c6fb6', 'message': 'Fix security context for glance rally tests\n\nAlso enable glance helm tests for gates.\nTemporary replaces cirros url to mirror due to [0]\n\n[0] https://bugs.launchpad.net/rally/+bug/1887705\n\nChange-Id: I21ceba857c375c1de054e69cf84449e02881b0ce\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 8, 'created': '2020-07-15 18:36:48.000000000', 'files': ['tools/deployment/component/glance/glance.sh', 'glance/templates/pod-rally-test.yaml', 'glance/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f30579324325978731ee2537aeed380ba8206300', 'message': 'Fix security context for glance rally tests\n\nAlso enable glance helm tests for gates.\nTemporary replaces cirros url to mirror due to [0]\n\n[0] https://bugs.launchpad.net/rally/+bug/1887705\n\nChange-Id: I21ceba857c375c1de054e69cf84449e02881b0ce\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",1,741066,f30579324325978731ee2537aeed380ba8206300,23,7,8,8863,,,0,"Fix security context for glance rally tests

Also enable glance helm tests for gates.
Temporary replaces cirros url to mirror due to [0]

[0] https://bugs.launchpad.net/rally/+bug/1887705

Change-Id: I21ceba857c375c1de054e69cf84449e02881b0ce
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/66/741066/5 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/component/glance/glance.sh', 'glance/values.yaml']",2,6c5251f07c779ac08dcce2273552c7c409d87a77,, runAsUser: 65500,,3,0
openstack%2Fkeystonemiddleware~master~I8799d9318776621417024ed4251e4e00944e951a,openstack/keystonemiddleware,master,I8799d9318776621417024ed4251e4e00944e951a,WIP - Remove ksc from ksm,ABANDONED,2020-01-13 18:38:09.000000000,2020-07-15 20:52:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-01-13 18:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/054de1c1817cc1ef7c2bde088337daae7e5114da', 'message': 'WIP - Remove ksc from ksm\n\nChange-Id: I8799d9318776621417024ed4251e4e00944e951a\n'}, {'number': 2, 'created': '2020-03-18 15:07:26.000000000', 'files': ['keystonemiddleware/auth_token/_identity.py', 'keystonemiddleware/tests/unit/auth_token/test_user_auth_plugin.py', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/5a9e33a61777827ec181c8a626c827540a8f2026', 'message': 'WIP - Remove ksc from ksm\n\nChange-Id: I8799d9318776621417024ed4251e4e00944e951a\n'}]",0,702278,5a9e33a61777827ec181c8a626c827540a8f2026,5,1,2,21420,,,0,"WIP - Remove ksc from ksm

Change-Id: I8799d9318776621417024ed4251e4e00944e951a
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/78/702278/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/auth_token/_identity.py', 'keystonemiddleware/tests/unit/auth_token/test_user_auth_plugin.py', 'keystonemiddleware/auth_token/__init__.py']",3,054de1c1817cc1ef7c2bde088337daae7e5114da,ksc-removal," self._session,",,19,9
openstack%2Fopenstack-helm-infra~master~I229cba7e61db2e89d78f38762c116673b3e5197f,openstack/openstack-helm-infra,master,I229cba7e61db2e89d78f38762c116673b3e5197f,test for changes,ABANDONED,2019-06-13 15:39:35.000000000,2020-07-15 20:47:24.000000000,,"[{'_account_id': 8556}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-13 15:39:35.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9705585b2a5a646b944b8f965ac2aca54624a84f', 'message': 'test for changes\n\nChange-Id: I229cba7e61db2e89d78f38762c116673b3e5197f\n'}]",0,665160,9705585b2a5a646b944b8f965ac2aca54624a84f,5,4,1,30166,,,0,"test for changes

Change-Id: I229cba7e61db2e89d78f38762c116673b3e5197f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/60/665160/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,9705585b2a5a646b944b8f965ac2aca54624a84f,, admin##,,4,0
openstack%2Fopenstack-helm-infra~master~Ib225a5a6b7f43b35ac6625f2a239f5d36a192373,openstack/openstack-helm-infra,master,Ib225a5a6b7f43b35ac6625f2a239f5d36a192373,[WIP] Ingress: Add cron job to monitor VIP,ABANDONED,2019-07-19 21:19:41.000000000,2020-07-15 20:47:15.000000000,,"[{'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2019-07-19 21:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bf8e89de0cb5c694539d75fcf3c3519bdcd5bcf8', 'message': '[WIP] Ingress: Add cron job to monitor VIP\n\nThere could be a scenarip where Ingress Controller, Docker,\nand Kubernetes are not fully functional on a Control node,\nbut the Calico pod still functions.\nIn this case, liveness probes will not help take down the Ingress\nController pod so the VIP is still associated with the node. This\nresults in Calico continuing to announce the sick Control node as\na BGP endpoint for the VIP. All requests will still be sent to the\nsick node which would result in failures.\nThis cron-job monitors the Ingress Controller node and if node is\nnot completely ready, it will remove the VIP which will triggering\nCalico to remove the node as a BGP endpoint for the VIP.\n\nChange-Id: Ib225a5a6b7f43b35ac6625f2a239f5d36a192373\n'}, {'number': 2, 'created': '2019-07-20 19:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b6686b9aeef500de8f63a374e35b72ca3dde4a39', 'message': '[WIP] Ingress: Add cron job to monitor VIP\n\nThere could be a scenarip where Ingress Controller, Docker,\nand Kubernetes are not fully functional on a Control node,\nbut the Calico pod still functions.\nIn this case, liveness probes will not help take down the Ingress\nController pod so the VIP is still associated with the node. This\nresults in Calico continuing to announce the sick Control node as\na BGP endpoint for the VIP. All requests will still be sent to the\nsick node which would result in failures.\nThis cron-job monitors the Ingress Controller node and if node is\nnot completely ready, it will remove the VIP which will triggering\nCalico to remove the node as a BGP endpoint for the VIP.\n\nChange-Id: Ib225a5a6b7f43b35ac6625f2a239f5d36a192373\n'}, {'number': 3, 'created': '2019-07-20 19:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7304f8ed8e3a991634e750f2a26384123747b895', 'message': '[WIP] Ingress: Add cron job to monitor VIP\n\nThere could be a scenarip where Ingress Controller, Docker,\nand Kubernetes are not fully functional on a Control node,\nbut the Calico pod still functions.\nIn this case, liveness probes will not help take down the Ingress\nController pod so the VIP is still associated with the node. This\nresults in Calico continuing to announce the sick Control node as\na BGP endpoint for the VIP. All requests will still be sent to the\nsick node which would result in failures.\nThis cron-job monitors the Ingress Controller node and if node is\nnot completely ready, it will remove the VIP which will triggering\nCalico to remove the node as a BGP endpoint for the VIP.\n\nChange-Id: Ib225a5a6b7f43b35ac6625f2a239f5d36a192373\n'}, {'number': 4, 'created': '2019-07-20 19:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/afa51fc0eb8cbca4e53834773ad9b50bc3ced9c0', 'message': '[WIP] Ingress: Add cron job to monitor VIP\n\nThere could be a scenarip where Ingress Controller, Docker,\nand Kubernetes are not fully functional on a Control node,\nbut the Calico pod still functions.\nIn this case, liveness probes will not help take down the Ingress\nController pod so the VIP is still associated with the node. This\nresults in Calico continuing to announce the sick Control node as\na BGP endpoint for the VIP. All requests will still be sent to the\nsick node which would result in failures.\nThis cron-job monitors the Ingress Controller node and if node is\nnot completely ready, it will remove the VIP which will triggering\nCalico to remove the node as a BGP endpoint for the VIP.\n\nChange-Id: Ib225a5a6b7f43b35ac6625f2a239f5d36a192373\n'}, {'number': 5, 'created': '2019-07-20 20:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/65aaceed3c05f03ec4f70c61aeeb2a35ba948352', 'message': '[WIP] Ingress: Add cron job to monitor VIP\n\nThere could be a scenarip where Ingress Controller, Docker,\nand Kubernetes are not fully functional on a Control node,\nbut the Calico pod still functions.\nIn this case, liveness probes will not help take down the Ingress\nController pod so the VIP is still associated with the node. This\nresults in Calico continuing to announce the sick Control node as\na BGP endpoint for the VIP. All requests will still be sent to the\nsick node which would result in failures.\nThis cron-job monitors the Ingress Controller node and if node is\nnot completely ready, it will remove the VIP which will triggering\nCalico to remove the node as a BGP endpoint for the VIP.\n\nChange-Id: Ib225a5a6b7f43b35ac6625f2a239f5d36a192373\n'}, {'number': 6, 'created': '2019-07-20 22:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ca74bb2d793ed4b1f10eab6e80b580e9c66bbe91', 'message': '[WIP] Ingress: Add cron job to monitor VIP\n\nThere could be a scenarip where Ingress Controller, Docker,\nand Kubernetes are not fully functional on a Control node,\nbut the Calico pod still functions.\nIn this case, liveness probes will not help take down the Ingress\nController pod so the VIP is still associated with the node. This\nresults in Calico continuing to announce the sick Control node as\na BGP endpoint for the VIP. All requests will still be sent to the\nsick node which would result in failures.\nThis cron-job monitors the Ingress Controller node and if node is\nnot completely ready, it will remove the VIP which will triggering\nCalico to remove the node as a BGP endpoint for the VIP.\n\nChange-Id: Ib225a5a6b7f43b35ac6625f2a239f5d36a192373\n'}, {'number': 7, 'created': '2019-07-23 04:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/29621e76bdf7fbe9e1a1f29ca885b82c4b22d0c5', 'message': '[WIP] Ingress: Add cron job to monitor VIP\n\nThere could be a scenarip where Ingress Controller, Docker,\nand Kubernetes are not fully functional on a Control node,\nbut the Calico pod still functions.\nIn this case, liveness probes will not help take down the Ingress\nController pod so the VIP is still associated with the node. This\nresults in Calico continuing to announce the sick Control node as\na BGP endpoint for the VIP. All requests will still be sent to the\nsick node which would result in failures.\nThis cron-job monitors the Ingress Controller node and if node is\nnot completely ready, it will remove the VIP which will triggering\nCalico to remove the node as a BGP endpoint for the VIP.\n\nChange-Id: Ib225a5a6b7f43b35ac6625f2a239f5d36a192373\n'}, {'number': 8, 'created': '2019-07-23 04:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4546e7cb0866995858fe5f423ee785a75023dc8f', 'message': '[WIP] Ingress: Add cron job to monitor VIP\n\nThere could be a scenarip where Ingress Controller, Docker,\nand Kubernetes are not fully functional on a Control node,\nbut the Calico pod still functions.\nIn this case, liveness probes will not help take down the Ingress\nController pod so the VIP is still associated with the node. This\nresults in Calico continuing to announce the sick Control node as\na BGP endpoint for the VIP. All requests will still be sent to the\nsick node which would result in failures.\nThis cron-job monitors the Ingress Controller node and if node is\nnot completely ready, it will remove the VIP which will triggering\nCalico to remove the node as a BGP endpoint for the VIP.\n\nChange-Id: Ib225a5a6b7f43b35ac6625f2a239f5d36a192373\n'}, {'number': 9, 'created': '2019-07-23 17:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2108be33cfc888d26934c0be64f39183d9c9f39e', 'message': '[WIP] Ingress: Add cron job to monitor VIP\n\nThere could be a scenarip where Ingress Controller, Docker,\nand Kubernetes are not fully functional on a Control node,\nbut the Calico pod still functions.\nIn this case, liveness probes will not help take down the Ingress\nController pod so the VIP is still associated with the node. This\nresults in Calico continuing to announce the sick Control node as\na BGP endpoint for the VIP. All requests will still be sent to the\nsick node which would result in failures.\nThis cron-job monitors the Ingress Controller node and if node is\nnot completely ready, it will remove the VIP which will triggering\nCalico to remove the node as a BGP endpoint for the VIP.\n\nChange-Id: Ib225a5a6b7f43b35ac6625f2a239f5d36a192373\n'}, {'number': 10, 'created': '2019-07-23 18:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cf2f75ef6bcd3834dba36fd1aee0e8aed4885671', 'message': '[WIP] Ingress: Add cron job to monitor VIP\n\nThere could be a scenarip where Ingress Controller, Docker,\nand Kubernetes are not fully functional on a Control node,\nbut the Calico pod still functions.\nIn this case, liveness probes will not help take down the Ingress\nController pod so the VIP is still associated with the node. This\nresults in Calico continuing to announce the sick Control node as\na BGP endpoint for the VIP. All requests will still be sent to the\nsick node which would result in failures.\nThis cron-job monitors the Ingress Controller node and if node is\nnot completely ready, it will remove the VIP which will triggering\nCalico to remove the node as a BGP endpoint for the VIP.\n\nChange-Id: Ib225a5a6b7f43b35ac6625f2a239f5d36a192373\n'}, {'number': 11, 'created': '2019-07-23 19:33:57.000000000', 'files': ['ingress/templates/configmap-bin.yaml', 'ingress/templates/cron-job-vip-availability.yaml', 'ingress/templates/bin/_node_status.sh.tpl', 'ingress/values.yaml', 'ingress/templates/bin/_update_vip.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6fff1949a2a605d90f8370b86a2cf2892b531266', 'message': '[WIP] Ingress: Add cron job to monitor VIP\n\nThere could be a scenarip where Ingress Controller, Docker,\nand Kubernetes are not fully functional on a Control node,\nbut the Calico pod still functions.\nIn this case, liveness probes will not help take down the Ingress\nController pod so the VIP is still associated with the node. This\nresults in Calico continuing to announce the sick Control node as\na BGP endpoint for the VIP. All requests will still be sent to the\nsick node which would result in failures.\nThis cron-job monitors the Ingress Controller node and if node is\nnot completely ready, it will remove the VIP which will triggering\nCalico to remove the node as a BGP endpoint for the VIP.\n\nChange-Id: Ib225a5a6b7f43b35ac6625f2a239f5d36a192373\n'}]",0,671864,6fff1949a2a605d90f8370b86a2cf2892b531266,23,2,11,24780,,,0,"[WIP] Ingress: Add cron job to monitor VIP

There could be a scenarip where Ingress Controller, Docker,
and Kubernetes are not fully functional on a Control node,
but the Calico pod still functions.
In this case, liveness probes will not help take down the Ingress
Controller pod so the VIP is still associated with the node. This
results in Calico continuing to announce the sick Control node as
a BGP endpoint for the VIP. All requests will still be sent to the
sick node which would result in failures.
This cron-job monitors the Ingress Controller node and if node is
not completely ready, it will remove the VIP which will triggering
Calico to remove the node as a BGP endpoint for the VIP.

Change-Id: Ib225a5a6b7f43b35ac6625f2a239f5d36a192373
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/64/671864/9 && git format-patch -1 --stdout FETCH_HEAD,"['ingress/templates/configmap-bin.yaml', 'ingress/templates/cron-job-vip-availability.yaml', 'ingress/templates/bin/_node_status.sh.tpl', 'ingress/values.yaml', 'ingress/templates/bin/_update_vip.sh.tpl']",5,bf8e89de0cb5c694539d75fcf3c3519bdcd5bcf8,,"#!/bin/bash {{/* # Copyright 2019 AT&T Intellectual Property. All other rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. */}} set -ex cat /node-status/status ",,143,1
openstack%2Fopenstack-helm~master~I64967e294b4ae5fda17c732f31025959aa469363,openstack/openstack-helm,master,I64967e294b4ae5fda17c732f31025959aa469363,Update OpenStack charts to use seperate Rabbitmq for notifications,ABANDONED,2019-07-22 17:22:41.000000000,2020-07-15 20:47:11.000000000,,"[{'_account_id': 12841}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-07-22 17:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7329163a14471fc10b927330bf53b61ce398a229', 'message': 'Update OpenStack charts to use seperate Rabbitmq for notifications\n\nIn order to use new addresses of Rabbitmq for notifications\ntransport_url option in oslo_messaging_notifications section\nhas to be updated with the new addresses.\n\nChange-Id: I64967e294b4ae5fda17c732f31025959aa469363\n'}, {'number': 2, 'created': '2019-07-22 18:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/db8913c4720eb7e227e5e55de2f02b752ee15389', 'message': 'Update OpenStack charts to use seperate Rabbitmq for notifications\n\nIn order to use new addresses of Rabbitmq for notifications\ntransport_url option in oslo_messaging_notifications section\nhas to be updated with the new addresses.\n\nChange-Id: I64967e294b4ae5fda17c732f31025959aa469363\n'}, {'number': 3, 'created': '2019-07-22 18:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d838daf1f2d46507773bc082dac9a68f7b0f0a95', 'message': 'Update OpenStack charts to use seperate Rabbitmq for notifications\n\nIn order to use new addresses of Rabbitmq for notifications\ntransport_url option in oslo_messaging_notifications section\nhas to be updated with the new addresses.\n\nChange-Id: I64967e294b4ae5fda17c732f31025959aa469363\n'}, {'number': 4, 'created': '2019-07-23 12:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dca27b67d3f69df17b07b8ed35adc7efda217070', 'message': 'Update OpenStack charts to use seperate Rabbitmq for notifications\n\nIn order to use new addresses of Rabbitmq for notifications\ntransport_url option in oslo_messaging_notifications section\nhas to be updated with the new addresses.\n\nChange-Id: I64967e294b4ae5fda17c732f31025959aa469363\n'}, {'number': 5, 'created': '2019-07-23 13:26:38.000000000', 'files': ['cinder/templates/configmap-etc.yaml', 'mistral/values.yaml', 'keystone/templates/configmap-etc.yaml', 'congress/values.yaml', 'nova/templates/configmap-etc.yaml', 'barbican/values.yaml', 'congress/templates/configmap-etc.yaml', 'mistral/templates/configmap-etc.yaml', 'aodh/templates/configmap-etc.yaml', 'aodh/values.yaml', 'glance/templates/configmap-etc.yaml', 'magnum/templates/configmap-etc.yaml', 'ironic/templates/configmap-etc.yaml', 'heat/templates/configmap-etc.yaml', 'ceilometer/templates/configmap-etc.yaml', 'ironic/values.yaml', 'barbican/templates/configmap-etc.yaml', 'neutron/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fa0fdd367cf9e5da6d4ae3a6dfd6ff325dc496aa', 'message': 'Update OpenStack charts to use seperate Rabbitmq for notifications\n\nIn order to use new addresses of Rabbitmq for notifications\ntransport_url option in oslo_messaging_notifications section\nhas to be updated with the new addresses.\n\nChange-Id: I64967e294b4ae5fda17c732f31025959aa469363\n'}]",2,672118,fa0fdd367cf9e5da6d4ae3a6dfd6ff325dc496aa,12,3,5,12841,,,0,"Update OpenStack charts to use seperate Rabbitmq for notifications

In order to use new addresses of Rabbitmq for notifications
transport_url option in oslo_messaging_notifications section
has to be updated with the new addresses.

Change-Id: I64967e294b4ae5fda17c732f31025959aa469363
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/18/672118/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/configmap-etc.yaml', 'keystone/templates/configmap-etc.yaml', 'nova/templates/configmap-etc.yaml', 'glance/values.yaml', 'ceilometer/values.yaml', 'ironic/templates/configmap-etc.yaml', 'heat/templates/configmap-etc.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'barbican/templates/configmap-etc.yaml', 'neutron/templates/configmap-etc.yaml', 'mistral/values.yaml', 'congress/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'congress/templates/configmap-etc.yaml', 'mistral/templates/configmap-etc.yaml', 'aodh/templates/configmap-etc.yaml', 'aodh/values.yaml', 'glance/templates/configmap-etc.yaml', 'magnum/templates/configmap-etc.yaml', 'nova/values.yaml', 'neutron/values.yaml']",25,7329163a14471fc10b927330bf53b61ce398a229,notifications, oslo_messaging_notifications: auth: admin: username: rabbitmq password: password neutron: username: neutron password: password statefulset: replicas: 2 name: rabbitmq-rabbitmq hosts: default: rabbitmq host_fqdn_override: default: null path: /openstack scheme: rabbit port: amqp: default: 5672 http: default: 15672,,342,0
openstack%2Fopenstack-helm-infra~master~I392a6f311917836019976d70c006fd37e3ccc072,openstack/openstack-helm-infra,master,I392a6f311917836019976d70c006fd37e3ccc072,"Enhanced the existing monitoring of openstack neutron services such as metadata_agent,  openvswitch_agent, dhcp_agent etc and to  provide server level information. So that these services can be better managed by the operational teams. Fixed the existing POD /container specific monitors.",ABANDONED,2019-07-19 17:06:58.000000000,2020-07-15 20:47:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-07-19 17:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7e693152a51f31799dac404cc9885ad3425bf855', 'message': 'To enhance the monitoring of existing openstack neutron services and adding additional services\n\nChange-Id: I392a6f311917836019976d70c006fd37e3ccc072\n'}, {'number': 2, 'created': '2019-07-19 17:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f9f339cbdaaa81142fca656685c1a40a9221254a', 'message': 'To enhance the monitoring of existing openstack neutron services and adding additional services\n\nChange-Id: I392a6f311917836019976d70c006fd37e3ccc072\n'}, {'number': 3, 'created': '2019-07-19 20:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bb3ad7b48270fdf30e6b09f72be5974a685fcf78', 'message': 'To enhance the monitoring of existing openstack neutron services and adding additional services\n\nChange-Id: I392a6f311917836019976d70c006fd37e3ccc072\n'}, {'number': 4, 'created': '2019-07-20 19:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e2008e34ad20faa6efcd754e860a685f6afe682f', 'message': 'To enhance the monitoring of existing openstack neutron services and adding additional services\n\nChange-Id: I392a6f311917836019976d70c006fd37e3ccc072\n'}, {'number': 5, 'created': '2019-07-21 03:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0ad7ae47649c649b643682386d680cf4fea8f2d6', 'message': 'To enhance the monitoring of existing openstack neutron services and adding additional services\nRemoving  duplicate service checks and fixed POD status monitors\n\nChange-Id: I392a6f311917836019976d70c006fd37e3ccc072\n'}, {'number': 6, 'created': '2019-07-21 03:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/988020dabd645028252fe5116c287eea54df3f2c', 'message': 'To enhance the monitoring of existing openstack neutron services\nand adding additional neutron services\nRemoving duplicate service checks\nFixing POD status monitors\n\nChange-Id: I392a6f311917836019976d70c006fd37e3ccc072\n'}, {'number': 7, 'created': '2019-07-22 17:58:39.000000000', 'files': ['nagios/values.yaml', 'prometheus/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/16393eecabeaddaabb0959561d121485e11384c7', 'message': 'Enhanced the existing monitoring of openstack neutron services\nsuch as metadata_agent,  openvswitch_agent, dhcp_agent etc\nand to  provide server level information.\nSo that these services can be better managed by the operational teams.\nFixed the existing POD /container specific monitors.\n\nChange-Id: I392a6f311917836019976d70c006fd37e3ccc072\n'}]",1,671779,16393eecabeaddaabb0959561d121485e11384c7,14,2,7,18295,,,0,"Enhanced the existing monitoring of openstack neutron services
such as metadata_agent,  openvswitch_agent, dhcp_agent etc
and to  provide server level information.
So that these services can be better managed by the operational teams.
Fixed the existing POD /container specific monitors.

Change-Id: I392a6f311917836019976d70c006fd37e3ccc072
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/79/671779/5 && git format-patch -1 --stdout FETCH_HEAD,['prometheus/values.yaml'],1,7e693152a51f31799dac404cc9885ad3425bf855,," expr: openstack_services_neutron_neutron_metadata_agent{state=""down""} >= 0 description: 'openstack services neutron metadata agent on host {{$labels.host}} is down for more than 5 minutes' summary: 'openstack services neutron metadata agent on host {{$labels.host}} is down' - alert: os_neutron_metadata_agent_disabled expr: openstack_services_neutron_neutron_metadata_agent{state=""disabled""} > 0 for: 5m labels: severity: page annotations: description: 'openstack services neutron metadata_agent on host {{$labels.host}} are disabled for more than 5 minutes' summary: 'openstack services neutron metadata_agent on host {{$labels.host}} are disabled for more than 5 minutes' expr: openstack_services_neutron_neutron_openvswitch_agent{state=""down""} >= 0 description: 'Openstack service neutron openvswitch agent on host {{$labels.host}} is down for more than 5 minutes' summary: 'Openstack service neutron openvswitch agents on host {{$labels.host}} is down' expr: openstack_services_neutron_neutron_dhcp_agent{state=""down""} >= 0 description: 'Openstack service neutron dhcp agent on host {{$labels.host}} is down for more than 5 minutes' summary: 'Openstack service neutron dhcp agents on host {{$labels.host}} is down' - alert: os_neutron_dhcp_agent_disabled expr: openstack_services_neutron_neutron_dhcp_agent{state=""disabled""} > 0 for: 5m labels: severity: page annotations: description: 'Openstack service neutron dhcp agent on host {{$labels.host}} is disabled for more than 5 minutes' summary: 'Openstack service neutron dhcp agent on host {{$labels.host}} is disabled for more than 5 minutes' - alert: os_neutron_openvswitch_agent_disabled expr: openstack_services_neutron_neutron_openvswitch_agent{state=""disabled""} > 0 for: 5m labels: severity: page annotations: description: 'Openstack service neutron openvswitch agent on host {{$labels.host}} is disabled for more than 5 minutes' summary: 'Openstack service neutron openvswitch agents on host {{$labels.host}} is disabled' expr: openstack_services_neutron_neutron_l3_agent{state=""down""} >= 0 description: 'Openstack services neutron L3 agent on host {{$labels.host}} is down for more than 5 minutes' summary: 'Openstack services neutron L3 agent on host {{$labels.host}} is down' - alert: os_neutron_l3_agent_disabled expr: openstack_services_neutron_neutron_l3_agent{state=""disabled""} > 0 for: 5m labels: severity: page annotations: description: 'Openstack services neutron L3 agents are disabled on host {{$labels.host}} for more than 5 minutes' summary: 'Openstack services neutron L3 agents are disabled on host {{$labels.host}} for more than 5 minutes'", expr: openstack_services_neutron_metadata_agent_down_total > 0 description: 'One or more neutron metadata_agents are not available for more than 5 minutes' summary: 'One or more neutron metadata_agents are not available' expr: openstack_services_neutron_openvswitch_agent_down_total > 0 description: 'One or more neutron openvswitch agents are not available for more than 5 minutes' summary: 'One or more neutron openvswitch agents are not available' expr: openstack_services_neutron_dhcp_agent_down_total > 0 description: 'One or more neutron dhcp agents are not available for more than 5 minutes' summary: 'One or more neutron dhcp agents are not available' expr: openstack_services_neutron_l3_agent_down_total > 0 description: 'One or more neutron L3 agents are not available for more than 5 minutes' summary: 'One or more neutron L3 agents are not available',44,12
