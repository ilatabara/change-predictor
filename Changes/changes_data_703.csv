id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fceilometer~stable%2Fnewton~I760ba49197221e7183909bbf7aaad24d7213bf65,openstack/ceilometer,stable/newton,I760ba49197221e7183909bbf7aaad24d7213bf65,clean up obs install instruction,MERGED,2017-05-26 16:37:03.000000000,2017-05-29 07:06:55.000000000,2017-05-29 07:06:55.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 22752}]","[{'number': 1, 'created': '2017-05-26 16:37:03.000000000', 'files': ['install-guide/source/install-base-obs.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/bcd066346d8f63ea1cbe0a3ae8cca79f4cb9b06f', 'message': 'clean up obs install instruction\n\ndatabase is already the default value in newton[1]\n\n[1] https://github.com/openstack/ceilometer/blob/stable/newton/ceilometer/dispatcher/__init__.py#L31\n\nChange-Id: I760ba49197221e7183909bbf7aaad24d7213bf65\n'}]",0,468468,bcd066346d8f63ea1cbe0a3ae8cca79f4cb9b06f,9,3,1,6537,,,0,"clean up obs install instruction

database is already the default value in newton[1]

[1] https://github.com/openstack/ceilometer/blob/stable/newton/ceilometer/dispatcher/__init__.py#L31

Change-Id: I760ba49197221e7183909bbf7aaad24d7213bf65
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/68/468468/1 && git format-patch -1 --stdout FETCH_HEAD,['install-guide/source/install-base-obs.rst'],1,bcd066346d8f63ea1cbe0a3ae8cca79f4cb9b06f,docs,,"* In the ``[collector]`` section, configure the dispatcher: .. code-block:: ini [collector] ... dispatcher = database ",0,8
openstack%2Fmonasca-agent~master~I7015e027debfeba7b17c23ecb31f22930a7105da,openstack/monasca-agent,master,I7015e027debfeba7b17c23ecb31f22930a7105da,WIP: Parallelize plugins detection,ABANDONED,2017-05-24 12:48:21.000000000,2017-05-29 07:06:32.000000000,,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 16168}, {'_account_id': 20033}, {'_account_id': 21922}]","[{'number': 1, 'created': '2017-05-24 12:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/d1fb9d1f423a3cc13034f8833ce5ec46345c0446', 'message': 'WIP: Parallelize plugins detection\n\nChange-Id: I7015e027debfeba7b17c23ecb31f22930a7105da\n'}, {'number': 2, 'created': '2017-05-25 11:56:39.000000000', 'files': ['monasca_setup/main.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/0985bb271527c7f6f8813f5419fe807e04f7c76f', 'message': 'WIP: Parallelize plugins detection\n\nChange-Id: I7015e027debfeba7b17c23ecb31f22930a7105da\n'}]",0,467612,0985bb271527c7f6f8813f5419fe807e04f7c76f,7,5,2,21922,,,0,"WIP: Parallelize plugins detection

Change-Id: I7015e027debfeba7b17c23ecb31f22930a7105da
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/12/467612/2 && git format-patch -1 --stdout FETCH_HEAD,['monasca_setup/main.py'],1,d1fb9d1f423a3cc13034f8833ce5ec46345c0446,parallel_check,"import sixfrom threading import Thread, Lock if six.PY2: from Queue import Queue else: from queue import Queue q = Queue(maxsize=0) lock = Lock() num_threads = 5 for i in range(num_threads): worker = Thread(target=detect, args=(q, lock)) worker.setDaemon(True) worker.start() for detect_class in plugins: q.put((plugin_config, detect_class, template_dir, detection_args, detection_args_json, skip_failed, remove)) q.join() return plugin_config def detect(q, lock): while True: plugin_config, detect_class, template_dir, detection_args, detection_args_json, skip_failed, remove = q.get() if detection_args_json: json_data = json.loads(detection_args_json) det = detect_class(template_dir, False, **json_data) else: det = detect_class(template_dir, False, detection_args) if det.available: new_config = det.build_config_with_name() if not remove: with lock: log.info('Configuring {0}'.format(det.name)) if new_config is not None: with lock: plugin_config.merge(new_config) elif not skip_failed: with lock: log.warn('Failed detection of plugin {0}.'.format(det.name) + ""\n\tPossible causes: Service not found or missing arguments."") plugin_config = None q.task_done()"," if detection_args_json: json_data = json.loads(detection_args_json) for detect_class in plugins: detect = detect_class(template_dir, False, **json_data) else: detect = detect_class(template_dir, False, detection_args) if detect.available: new_config = detect.build_config_with_name() if not remove: log.info('Configuring {0}'.format(detect.name)) if new_config is not None: plugin_config.merge(new_config) elif not skip_failed: log.warn('Failed detection of plugin {0}.'.format(detect.name) + ""\n\tPossible causes: Service not found or missing arguments."") return None return plugin_config",40,13
openstack%2Fproject-config~master~I6c7ff9182a6e5792470eb5dfc95225a4d587f31a,openstack/project-config,master,I6c7ff9182a6e5792470eb5dfc95225a4d587f31a,Clean up patrole.yaml jenkins jobs,MERGED,2017-05-26 18:20:24.000000000,2017-05-29 07:04:36.000000000,2017-05-29 07:04:36.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-05-26 18:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/46a7ee39d710f75fff917710adfa072420e4cd0e', 'message': 'Clean up patrole.yaml jenkins jobs\n\nNow that a patrole devstack plugin has been written, deploying and\ntesting patrole in the gates can be done exclusively using the\njenkins jobs and the devstack patrole plugin.\n\nChange-Id: I6c7ff9182a6e5792470eb5dfc95225a4d587f31a\nNeeded-By: I38c02cbcfea9334c9c0c10096e383efa9a9fc474\n'}, {'number': 2, 'created': '2017-05-26 18:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/057444b7c474667883f6e3bcdb515eb6f42f917f', 'message': 'Clean up patrole.yaml jenkins jobs\n\nNow that a patrole devstack plugin has been written, deploying and\ntesting patrole in the gates can be done exclusively using the\njenkins jobs and the devstack patrole plugin.\n\nChange-Id: I6c7ff9182a6e5792470eb5dfc95225a4d587f31a\nNeeded-By: I38c02cbcfea9334c9c0c10096e383efa9a9fc474\n'}, {'number': 3, 'created': '2017-05-26 18:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9f37583d5843d1426fa6387b8312ecdb4a95cb8e', 'message': 'Clean up patrole.yaml jenkins jobs\n\nNow that a patrole devstack plugin has been written [0], deploying and\ntesting patrole in the gates can be done exclusively using the\njenkins jobs and the devstack patrole plugin.\n\n[0] https://review.openstack.org/#/c/468511/\n\nChange-Id: I6c7ff9182a6e5792470eb5dfc95225a4d587f31a\n'}, {'number': 4, 'created': '2017-05-27 00:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d0f2b5a41492488cc9ae6d623007f635927531df', 'message': 'Clean up patrole.yaml jenkins jobs\n\nNow that a patrole devstack plugin has been written [0], deploying and\ntesting patrole in the gates can be done exclusively using the\njenkins jobs and the devstack patrole plugin.\n\n[0] https://review.openstack.org/#/c/468511/\n\nChange-Id: I6c7ff9182a6e5792470eb5dfc95225a4d587f31a\n'}, {'number': 5, 'created': '2017-05-27 04:50:23.000000000', 'files': ['jenkins/jobs/patrole.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b8839dd29fe7859d4b32058ef9fa8b54694b751b', 'message': 'Clean up patrole.yaml jenkins jobs\n\nNow that a patrole devstack plugin has been written [0], deploying and\ntesting patrole in the gates can be done exclusively using the\njenkins jobs and the devstack patrole plugin.\n\n[0] https://review.openstack.org/#/c/468511/\n\nChange-Id: I6c7ff9182a6e5792470eb5dfc95225a4d587f31a\n'}]",0,468510,b8839dd29fe7859d4b32058ef9fa8b54694b751b,16,4,5,23186,,,0,"Clean up patrole.yaml jenkins jobs

Now that a patrole devstack plugin has been written [0], deploying and
testing patrole in the gates can be done exclusively using the
jenkins jobs and the devstack patrole plugin.

[0] https://review.openstack.org/#/c/468511/

Change-Id: I6c7ff9182a6e5792470eb5dfc95225a4d587f31a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/10/468510/4 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/patrole.yaml'],1,46a7ee39d710f75fff917710adfa072420e4cd0e,clean_up_patrole_yaml, TEMPEST_PLUGINS='/opt/stack/new/patrole' export DEVSTACK_GATE_TEMPEST_REGEX='(?!.*\[.*\bslow\b.*\])(^patrole_tempest_plugin\.tests\.api)' # Needed by Patrole devstack plugin export RBAC_TEST_ROLE={rbac-role} TEMPEST_PLUGINS='/opt/stack/new/patrole' export DEVSTACK_GATE_TEMPEST_REGEX='(?!.*\[.*\bslow\b.*\])(^patrole_tempest_plugin\.tests\.api)' # Needed by Patrole devstack plugin export RBAC_TEST_ROLE={rbac-role} TEMPEST_PLUGINS='/opt/stack/new/patrole' export DEVSTACK_GATE_TEMPEST_REGEX='(?=.*\[.*\bslow\b.*\])(^patrole_tempest_plugin\.tests\.api)' # Needed by Patrole devstack plugin export RBAC_TEST_ROLE={rbac-role} ," # Ensure that tempest set up is executed, but do not automatically # execute tempest tests; they are executed in post_test_hook. export DEVSTACK_GATE_TEMPEST_NOTESTS=1 export DEVSTACK_GATE_TEMPEST_NOTESTS=1 enable_plugin heat git://git.openstack.org/openstack/heat export DEVSTACK_GATE_TEMPEST_NOTESTS=1",15,7
openstack%2Fproject-config~master~I2661f5749724d1f3ba6c42799e99d3ca5bf74f90,openstack/project-config,master,I2661f5749724d1f3ba6c42799e99d3ca5bf74f90,Add openstack/ranger and openstack/ranger-agent project,MERGED,2017-05-23 20:16:58.000000000,2017-05-29 07:03:51.000000000,2017-05-29 07:03:51.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 10068}, {'_account_id': 18317}, {'_account_id': 21111}, {'_account_id': 21242}, {'_account_id': 22786}, {'_account_id': 24999}]","[{'number': 1, 'created': '2017-05-23 20:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5ffec0e9a62ff130f4ecc259ebbc360eb0d8d109', 'message': 'Add ranger and openstack/ranger-agent project\n\nChange-Id: I2661f5749724d1f3ba6c42799e99d3ca5bf74f90\n'}, {'number': 2, 'created': '2017-05-23 20:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fb31c1e95ba5ae3afa8b2ed4f71666c4fe123d75', 'message': 'Add ranger and openstack/ranger-agent project\n\nThis is Open stack Resource Management API Framework. It provides two functionalities for cloud infrastructure. (a)Resource creation Gateway.(b)Region Catalog service to provide the list of available cloud regions. Ranger service gateway as single entry point to create tenant/images/flavors and also to know about the regions available in cloud infrastructure.\nRanger runs at centralized location and talks to a agent service called Ranger Agent in LCP regions to create resources. Ranger agent keep resources in Sync from Cloud centralized Repository defined in Ranger.\n\nChange-Id: I2661f5749724d1f3ba6c42799e99d3ca5bf74f90\n'}, {'number': 3, 'created': '2017-05-23 20:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c752f395a2949da107afe2c95e096bd302e94066', 'message': 'Add ranger and openstack/ranger-agent project\n\nThis is Openstack Resource Management API Framework.\nRanger api service gateway as single entry point to create tenant/images/flavors.\nRanger runs at centralized location and talks to a agent service called Ranger Agent\nin LCP regions to create resources.\n\nChange-Id: I2661f5749724d1f3ba6c42799e99d3ca5bf74f90\n'}, {'number': 4, 'created': '2017-05-23 20:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8443c3f48b4478259c33552cd284d5162f810362', 'message': 'Add ranger and openstack/ranger-agent project\n\nThis is Openstack Resource Management API Framework.\nRanger api service gateway as single entry point to create\ntenant/images/flavors.Ranger runs at centralized location and\ncommunicates to a agent service called Ranger Agent\nin LCP regions to create resources.\n\nChange-Id: I2661f5749724d1f3ba6c42799e99d3ca5bf74f90\n'}, {'number': 5, 'created': '2017-05-23 21:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/84e9c4adebe3c7e7299f1e87b6b22c5829fd1804', 'message': 'Add openstack/ranger and openstack/ranger-agent project\n\nThis is Openstack Resource Management API Framework.\nRanger api service gateway as single entry point to create\ntenant/images/flavors. Ranger runs at centralized location and\ncommunicates to an agent service called Ranger Agent\nin LCP regions to create resources.\n\nChange-Id: I2661f5749724d1f3ba6c42799e99d3ca5bf74f90\n'}, {'number': 6, 'created': '2017-05-23 21:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c5adaa3ca64da334e56d6cde904f3fd2f00ce547', 'message': 'Add openstack/ranger and openstack/ranger-agent project\n\nThis is OpenStack Resource Management API Framework.\nRanger api service gateway as single entry point to create\ntenant/images/flavors. Ranger runs at centralized location and\ncommunicates to an agent service called Ranger Agent\nin LCP regions to create resources.\n\nChange-Id: I2661f5749724d1f3ba6c42799e99d3ca5bf74f90\n'}, {'number': 7, 'created': '2017-05-24 00:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9ec397cadc6ea0808c3f59a7d3be8c410cce0c46', 'message': 'Add openstack/ranger and openstack/ranger-agent project\n\nThis is OpenStack Resource Management API Framework.\nRanger api service gateway as single entry point to create\ntenant/images/flavors. Ranger runs at centralized location and\ncommunicates to an agent service called Ranger Agent\nin LCP regions to create resources.\n\nChange-Id: I2661f5749724d1f3ba6c42799e99d3ca5bf74f90\n'}, {'number': 8, 'created': '2017-05-24 00:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/74f76b31193f2d681e708c91af4915cb59e6866f', 'message': 'Add openstack/ranger and openstack/ranger-agent project\n\nThis is OpenStack Resource Management API Framework.\nRanger api service gateway as single entry point to create\ntenant/images/flavors. Ranger runs at centralized location and\ncommunicates to an agent service called Ranger Agent\nin LCP regions to create resources.\n\nChange-Id: I2661f5749724d1f3ba6c42799e99d3ca5bf74f90\n'}, {'number': 9, 'created': '2017-05-24 13:58:36.000000000', 'files': ['gerrit/acls/openstack/ranger.config', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/49e5b4ab8c164e2d2cef00343e2a2b6243776107', 'message': 'Add openstack/ranger and openstack/ranger-agent project\n\nThis is OpenStack Resource Management API Framework.\nRanger api service gateway as single entry point to create\ntenant/images/flavors. Ranger runs at centralized location and\ncommunicates to an agent service called Ranger Agent\nin LCP regions to create resources.\n\nChange-Id: I2661f5749724d1f3ba6c42799e99d3ca5bf74f90\n'}]",11,467374,49e5b4ab8c164e2d2cef00343e2a2b6243776107,39,9,9,24999,,,0,"Add openstack/ranger and openstack/ranger-agent project

This is OpenStack Resource Management API Framework.
Ranger api service gateway as single entry point to create
tenant/images/flavors. Ranger runs at centralized location and
communicates to an agent service called Ranger Agent
in LCP regions to create resources.

Change-Id: I2661f5749724d1f3ba6c42799e99d3ca5bf74f90
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/467374/4 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/ranger.config', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",4,5ffec0e9a62ff130f4ecc259ebbc360eb0d8d109,new-project, - name: openstack/ranger template: - name: merge-check - name: python-jobs - name: openstack/ranger-agent template: - name: merge-check - name: python-jobs ,,45,0
openstack%2Fproject-config~master~I2b489374bf545c3379b32c804a25d6026bb553d6,openstack/project-config,master,I2b489374bf545c3379b32c804a25d6026bb553d6,Create python-qinlingclient project config,MERGED,2017-05-21 23:18:37.000000000,2017-05-29 07:03:41.000000000,2017-05-29 07:03:41.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 6732}]","[{'number': 1, 'created': '2017-05-21 23:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/43fb03a3ab646acc86f21ab798b449c965db44b6', 'message': 'Create python-qinlingclient project config\n\nChange-Id: I2b489374bf545c3379b32c804a25d6026bb553d6\n'}, {'number': 2, 'created': '2017-05-22 11:31:40.000000000', 'files': ['jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6cf674dc500fe4b75436a028e217ae5b23fc07f2', 'message': 'Create python-qinlingclient project config\n\nChange-Id: I2b489374bf545c3379b32c804a25d6026bb553d6\n'}]",4,466557,6cf674dc500fe4b75436a028e217ae5b23fc07f2,14,4,2,6732,,,0,"Create python-qinlingclient project config

Change-Id: I2b489374bf545c3379b32c804a25d6026bb553d6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/57/466557/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/python-qinlingclient.config', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",4,43fb03a3ab646acc86f21ab798b449c965db44b6,new-project, - name: openstack/python-qinlingclient template: - name: merge-check - name: python-jobs - name: python35-jobs - name: check-requirements - name: openstack-client-publish-jobs - name: publish-to-pypi - name: osc-plugin-jobs ,,35,0
openstack%2Fproject-config~master~I260058e48198013f35c638cc3d78ef335637f298,openstack/project-config,master,I260058e48198013f35c638cc3d78ef335637f298,Stop gating Gnocchi,MERGED,2017-05-19 15:18:38.000000000,2017-05-29 07:03:10.000000000,2017-05-29 07:03:10.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-05-19 15:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f6f8bde7a61a3e7f48f4fbc4c0a1af39fc2e4d64', 'message': 'Stop gating Gnocchi\n\nChange-Id: I260058e48198013f35c638cc3d78ef335637f298\n'}, {'number': 2, 'created': '2017-05-19 15:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/31eefb2493f61aa652b8e572ca8a6fa754124ab8', 'message': 'Stop gating Gnocchi\n\nChange-Id: I260058e48198013f35c638cc3d78ef335637f298\n'}, {'number': 3, 'created': '2017-05-19 16:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e0ca039242ec260817987c6e71b430cbc387ac50', 'message': 'Stop gating Gnocchi\n\nChange-Id: I260058e48198013f35c638cc3d78ef335637f298\n'}, {'number': 4, 'created': '2017-05-22 06:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/81a61e0ab07dfc5fb3150895cc41da20151d533f', 'message': 'Stop gating Gnocchi\n\nChange-Id: I260058e48198013f35c638cc3d78ef335637f298\n'}, {'number': 5, 'created': '2017-05-23 15:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a19c463d57477b6658b420e1d5d4f68086c80609', 'message': 'Stop gating Gnocchi\n\nChange-Id: I260058e48198013f35c638cc3d78ef335637f298\n'}, {'number': 6, 'created': '2017-05-23 15:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/070e8a5936f283299d6589bf09ec5aa1615ca19f', 'message': 'Stop gating Gnocchi\n\nChange-Id: I260058e48198013f35c638cc3d78ef335637f298\n'}, {'number': 7, 'created': '2017-05-24 09:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/66db4932a99c6f2f8aa1fb31bc65d14c66aed746', 'message': 'Stop gating Gnocchi\n\nChange-Id: I260058e48198013f35c638cc3d78ef335637f298\n'}, {'number': 8, 'created': '2017-05-29 06:18:14.000000000', 'files': ['jenkins/jobs/ceilometer.yaml', 'jenkins/jobs/projects.yaml', 'jenkins/jobs/gnocchi.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e93717cefae447ac7837c4536826f54f02d6dfbd', 'message': 'Stop gating Gnocchi\n\nChange-Id: I260058e48198013f35c638cc3d78ef335637f298\n'}]",1,466318,e93717cefae447ac7837c4536826f54f02d6dfbd,25,3,8,1669,,,0,"Stop gating Gnocchi

Change-Id: I260058e48198013f35c638cc3d78ef335637f298
",git fetch https://review.opendev.org/openstack/project-config refs/changes/18/466318/7 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,f6f8bde7a61a3e7f48f4fbc4c0a1af39fc2e4d64,jd/move-gnocchi-out, - name: noop-jobs," #NOTE (gordc): stable/2.1 mapped to stable/mitaka, can be removed accordingly - name: ^gate-telemetry-dsvm-integration-gnocchi-ubuntu-trusty branch: stable/2.1 - name: ^gate-telemetry-dsvm-integration-gnocchi-ubuntu-xenial branch: ^(?!stable/2\.1) - name: ^gate-gnocchi-tox-py35 branch: ^(?!stable/2\.[01]) - name: ^gate-gnocchi-tox-.+-upgrade-from-2.2-ubuntu-xenial branch: ^stable/3\.1$ - name: ^gate-gnocchi-tox-.+-upgrade-from-3.0-ubuntu-xenial branch: ^stable/3\.1$ - name: ^gate-gnocchi-tox-.+-upgrade-from-3.1-ubuntu-xenial branch: ^master$ # Use Ubuntu Trusty for stable/2.* # (i.e. everything that is before Newton) - name: ^gate-gnocchi-dsvm-functional-.+-ubuntu-trusty branch: ^(stable/2\.[01]) # Use Ubuntu Xenial for stable/3.0 and stable/3.1 (i.e. Newton and Ocata) # After 3.1, Gnocchi run functional tests within the default pyXX target - name: ^gate-gnocchi-dsvm-functional-.+-ubuntu-xenial branch: ^(stable/3\.[01]) - name: merge-check - name: publish-to-pypi check: - gate-gnocchi-pep8-ubuntu-trusty - gate-gnocchi-docs-ubuntu-trusty - gate-gnocchi-pep8-ubuntu-xenial - gate-gnocchi-docs-ubuntu-xenial - gate-gnocchi-tox-py27-mysql-ubuntu-xenial - gate-gnocchi-tox-py27-postgresql-ubuntu-trusty - gate-gnocchi-tox-py34-postgresql-ubuntu-trusty - gate-gnocchi-tox-py35-mysql-ubuntu-xenial - gate-gnocchi-tox-py35-postgresql-ubuntu-xenial - gate-gnocchi-tox-py27-mysql-ceph-upgrade-from-2.2-ubuntu-xenial - gate-gnocchi-tox-py35-postgresql-file-upgrade-from-2.2-ubuntu-xenial - gate-gnocchi-tox-py27-mysql-ceph-upgrade-from-3.0-ubuntu-xenial - gate-gnocchi-tox-py35-postgresql-file-upgrade-from-3.0-ubuntu-xenial - gate-gnocchi-tox-py27-mysql-ceph-upgrade-from-3.1-ubuntu-xenial - gate-gnocchi-tox-py35-postgresql-file-upgrade-from-3.1-ubuntu-xenial - gate-gnocchi-bashate - gate-gnocchi-dsvm-functional-file-mysql-ubuntu-xenial - gate-gnocchi-dsvm-functional-swift-postgresql-ubuntu-xenial - gate-gnocchi-dsvm-functional-ceph-mysql-ubuntu-xenial - gate-gnocchi-dsvm-functional-file-mysql-ubuntu-trusty - gate-gnocchi-dsvm-functional-swift-postgresql-ubuntu-trusty - gate-gnocchi-dsvm-functional-ceph-mysql-ubuntu-trusty - gate-telemetry-dsvm-integration-gnocchi-ubuntu-trusty - gate-telemetry-dsvm-integration-gnocchi-ubuntu-xenial - gate-tripleo-ci-centos-7-scenario001-multinode-oooq-puppet-nv gate: - gate-gnocchi-pep8-ubuntu-trusty - gate-gnocchi-docs-ubuntu-trusty - gate-gnocchi-pep8-ubuntu-xenial - gate-gnocchi-docs-ubuntu-xenial - gate-gnocchi-tox-py27-mysql-ubuntu-xenial - gate-gnocchi-tox-py27-postgresql-ubuntu-trusty - gate-gnocchi-tox-py34-postgresql-ubuntu-trusty - gate-gnocchi-tox-py35-mysql-ubuntu-xenial - gate-gnocchi-tox-py35-postgresql-ubuntu-xenial - gate-gnocchi-tox-py27-mysql-ceph-upgrade-from-2.2-ubuntu-xenial - gate-gnocchi-tox-py35-postgresql-file-upgrade-from-2.2-ubuntu-xenial - gate-gnocchi-tox-py27-mysql-ceph-upgrade-from-3.0-ubuntu-xenial - gate-gnocchi-tox-py35-postgresql-file-upgrade-from-3.0-ubuntu-xenial - gate-gnocchi-tox-py27-mysql-ceph-upgrade-from-3.1-ubuntu-xenial - gate-gnocchi-tox-py35-postgresql-file-upgrade-from-3.1-ubuntu-xenial - gate-gnocchi-bashate - gate-gnocchi-dsvm-functional-file-mysql-ubuntu-xenial - gate-gnocchi-dsvm-functional-swift-postgresql-ubuntu-xenial - gate-gnocchi-dsvm-functional-ceph-mysql-ubuntu-xenial - gate-gnocchi-dsvm-functional-file-mysql-ubuntu-trusty - gate-gnocchi-dsvm-functional-swift-postgresql-ubuntu-trusty - gate-gnocchi-dsvm-functional-ceph-mysql-ubuntu-trusty - gate-telemetry-dsvm-integration-gnocchi-ubuntu-trusty - gate-telemetry-dsvm-integration-gnocchi-ubuntu-xenial post: - gnocchi-branch-tarball experimental: - gate-gnocchi-dsvm-functional-influxdb-mysql-ubuntu-xenial",1,143
openstack%2Fmonasca-api~master~I0323eacb5cbba8418550e3322189104c35cf4c36,openstack/monasca-api,master,I0323eacb5cbba8418550e3322189104c35cf4c36,Restore zookeeper to devstack,MERGED,2017-05-26 11:09:20.000000000,2017-05-29 07:00:22.000000000,2017-05-29 07:00:22.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 10311}, {'_account_id': 16168}, {'_account_id': 16222}, {'_account_id': 17001}, {'_account_id': 18179}, {'_account_id': 20033}, {'_account_id': 22157}]","[{'number': 1, 'created': '2017-05-26 11:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/21e4adfa1d48c80379d374bf0a23d8318a1429fa', 'message': '[WIP] Restore zookeeper to devstack\n\nopenstack/devstack-dev has removed zookeeper support.\nFor details see [1].\nFollowing commits brings back zookeper as it was\npreviously installed from devstack.\n\nExtra:\n* added concepts of devstack dependencies. That speeds\nup installation a bit as common packages are installed\nprior to the plugin code\n\nRef:\n[1] https://github.com/openstack-dev/devstack/commit/c0d16c279ad2a24bd13e2dbd6ae6986c37c4f230\n\nChange-Id: I0323eacb5cbba8418550e3322189104c35cf4c36\n'}, {'number': 2, 'created': '2017-05-27 18:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0af71777a3139e7363001d3979c06c2d73ad3474', 'message': '[WIP] Restore zookeeper to devstack\n\nopenstack/devstack-dev has removed zookeeper support.\nFor details see [1].\nFollowing commits brings back zookeper as it was\npreviously installed from devstack.\n\nExtra:\n* added concepts of devstack dependencies. That speeds\nup installation a bit as common packages are installed\nprior to the plugin code\n\nRef:\n[1] https://github.com/openstack-dev/devstack/commit/c0d16c279ad2a24bd13e2dbd6ae6986c37c4f230\n\nChange-Id: I0323eacb5cbba8418550e3322189104c35cf4c36\n'}, {'number': 3, 'created': '2017-05-27 18:08:56.000000000', 'files': ['devstack/files/zookeeper/myid', 'devstack/files/zookeeper/log4j.properties', 'devstack/files/zookeeper/zoo.cfg', 'devstack/Vagrantfile', 'devstack/files/zookeeper/environment', 'devstack/plugin.sh', 'devstack/lib/zookeeper', 'devstack/files/debs/monasca-api', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/bfcd3eeece4dce13a62b8f46b0236ddbbae901fe', 'message': 'Restore zookeeper to devstack\n\nopenstack/devstack-dev has removed zookeeper support.\nFor details see [1].\nFollowing commits brings back zookeper as it was\npreviously installed from devstack.\n\nExtra:\n* added concepts of devstack dependencies. That speeds\nup installation a bit as common packages are installed\nprior to the plugin code\n\nRef:\n[1] https://github.com/openstack-dev/devstack/commit/c0d16c279ad2a24bd13e2dbd6ae6986c37c4f230\n\nChange-Id: I0323eacb5cbba8418550e3322189104c35cf4c36\n'}]",4,468380,bfcd3eeece4dce13a62b8f46b0236ddbbae901fe,14,9,3,16168,,,0,"Restore zookeeper to devstack

openstack/devstack-dev has removed zookeeper support.
For details see [1].
Following commits brings back zookeper as it was
previously installed from devstack.

Extra:
* added concepts of devstack dependencies. That speeds
up installation a bit as common packages are installed
prior to the plugin code

Ref:
[1] https://github.com/openstack-dev/devstack/commit/c0d16c279ad2a24bd13e2dbd6ae6986c37c4f230

Change-Id: I0323eacb5cbba8418550e3322189104c35cf4c36
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/80/468380/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/files/zookeeper/myid', 'devstack/files/zookeeper/log4j.properties', 'devstack/files/zookeeper/zoo.cfg', 'devstack/Vagrantfile', 'devstack/files/zookeeper/environment', 'devstack/plugin.sh', 'devstack/lib/zookeeper', 'devstack/files/debs/monasca-api', 'devstack/settings']",9,21e4adfa1d48c80379d374bf0a23d8318a1429fa,fix_zookeeper,enable_service monasca-zookeeper# monasca-kafka depends on monasca-zookeeperPLUGIN_FILES=$MONASCA_API_DIR/devstack/files,enable_service zookeeper# monasca-kafka depends on devstack-dlm-zookeeper,265,101
openstack%2Fnova~master~I33f827cf76c7d99a599f9c0c509453cf2af6c2a6,openstack/nova,master,I33f827cf76c7d99a599f9c0c509453cf2af6c2a6,Don't run ssh validation in cells v1 job,MERGED,2017-05-27 00:19:51.000000000,2017-05-29 06:59:31.000000000,2017-05-27 13:12:30.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4428}, {'_account_id': 5196}, {'_account_id': 5754}, {'_account_id': 8276}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-05-27 00:19:51.000000000', 'files': ['devstack/tempest-dsvm-cells-rc'], 'web_link': 'https://opendev.org/openstack/nova/commit/0cd67d23bd55a7b6cf273a94bcc4f62134a1dc93', 'message': ""Don't run ssh validation in cells v1 job\n\nI187e560911f5d5d482eb7959e5174068c4c9a801 enabled\nssh validation by default which uses floating IPs\nby default, which isn't support with cells v1.\n\nSince cells v1 is on life support we're going to\njust disable ssh validation in this job.\n\nChange-Id: I33f827cf76c7d99a599f9c0c509453cf2af6c2a6\nCloses-Bug: #1693949\n""}]",0,468585,0cd67d23bd55a7b6cf273a94bcc4f62134a1dc93,28,10,1,6873,,,0,"Don't run ssh validation in cells v1 job

I187e560911f5d5d482eb7959e5174068c4c9a801 enabled
ssh validation by default which uses floating IPs
by default, which isn't support with cells v1.

Since cells v1 is on life support we're going to
just disable ssh validation in this job.

Change-Id: I33f827cf76c7d99a599f9c0c509453cf2af6c2a6
Closes-Bug: #1693949
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/468585/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/tempest-dsvm-cells-rc'],1,0cd67d23bd55a7b6cf273a94bcc4f62134a1dc93,bug/1693949," # Don't run the cells v1 job with ssh validation since it uses floating IPs # by default which cells v1 doesn't support. export DEVSTACK_LOCAL_CONFIG=""TEMPEST_RUN_VALIDATION=False""",,4,0
openstack%2Fkarbor~master~Iac85af5bf31d56aea00adca594d8f00683466461,openstack/karbor,master,Iac85af5bf31d56aea00adca594d8f00683466461,Refactor volume restore function,MERGED,2017-03-28 10:06:52.000000000,2017-05-29 06:58:32.000000000,2017-05-29 06:58:32.000000000,"[{'_account_id': 3}, {'_account_id': 17151}, {'_account_id': 18266}, {'_account_id': 20883}]","[{'number': 1, 'created': '2017-03-28 10:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/a57e14aba1210811fae6bc08f54b5f95605e2300', 'message': 'Refactor volume restore function\n\nChange-Id: Iac85af5bf31d56aea00adca594d8f00683466461\nImplements: blueprint remove-heat\n'}, {'number': 2, 'created': '2017-03-29 06:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/321026b5d009b506d7620e79f5cd63fef6df4dc9', 'message': 'Refactor volume restore function\n\nChange-Id: Iac85af5bf31d56aea00adca594d8f00683466461\nImplements: blueprint remove-heat\n'}, {'number': 3, 'created': '2017-03-30 07:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/ffcf7f816fa9d2ee8de695e0df91e3d6a4f9439f', 'message': 'Refactor volume restore function\n\nChange-Id: Iac85af5bf31d56aea00adca594d8f00683466461\nImplements: blueprint remove-heat\n'}, {'number': 4, 'created': '2017-04-13 08:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/add95b6c907f19ed4e5fd72e29452f5da5b16644', 'message': 'Refactor volume restore function\n\nChange-Id: Iac85af5bf31d56aea00adca594d8f00683466461\nImplements: blueprint remove-heat\n'}, {'number': 5, 'created': '2017-05-16 09:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/b3d1ffbc8bb92b5bfc5cf2557866f2e523962921', 'message': 'Refactor volume restore function\n\nChange-Id: Iac85af5bf31d56aea00adca594d8f00683466461\nImplements: blueprint remove-heat\n'}, {'number': 6, 'created': '2017-05-16 12:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/6fe10bcfda572aa80b7b0a2748bafbe29255a594', 'message': 'Refactor volume restore function\n\nChange-Id: Iac85af5bf31d56aea00adca594d8f00683466461\nImplements: blueprint remove-heat\n'}, {'number': 7, 'created': '2017-05-20 04:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/064f367a8f9ab400f0e3757e8a6b40104d9c29f6', 'message': 'Refactor volume restore function\n\nChange-Id: Iac85af5bf31d56aea00adca594d8f00683466461\nImplements: blueprint remove-heat\n'}, {'number': 8, 'created': '2017-05-20 06:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/df14719df70e011d2b3a2af5b485b65f96c00635', 'message': 'Refactor volume restore function\n\nChange-Id: Iac85af5bf31d56aea00adca594d8f00683466461\nImplements: blueprint remove-heat\n'}, {'number': 9, 'created': '2017-05-25 09:50:47.000000000', 'files': ['karbor/services/protection/protection_plugins/volume/cinder_protection_plugin.py', 'karbor/tests/unit/protection/test_cinder_protection_plugin.py', 'karbor/services/protection/protection_plugins/utils.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/548bea8056f7e73c23c83bb652bd36609d1d265e', 'message': 'Refactor volume restore function\n\nChange-Id: Iac85af5bf31d56aea00adca594d8f00683466461\nImplements: blueprint remove-heat\n'}]",16,450694,548bea8056f7e73c23c83bb652bd36609d1d265e,43,4,9,18266,,,0,"Refactor volume restore function

Change-Id: Iac85af5bf31d56aea00adca594d8f00683466461
Implements: blueprint remove-heat
",git fetch https://review.opendev.org/openstack/karbor refs/changes/94/450694/9 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/services/protection/protection_plugins/volume/cinder_protection_plugin.py', 'karbor/services/protection/resource_flow.py', 'karbor/services/protection/protection_plugins/utils.py']",3,a57e14aba1210811fae6bc08f54b5f95605e2300,bp/remove-heat,"from oslo_log import log as logging LOG = logging.getLogger(__name__) def udpate_resource_restore_result(restore_record, resource_type, resource_id, status, reason=''): try: restore_record.update_resource_status(resource_type, resource_id, status, reason) restore_record.save() except Exception: LOG.error('Unable to update restoration result. ' 'resource type: %(resource_type)s, ' 'resource id: %(resource_id)s, ' 'status: %(status)s, reason: %(reason)s', {'resource_type': resource_type, 'resource_id': resource_id, 'status': status, 'reason': reason}) pass","from karbor.services.protection import client_factory def client(service, context, conf, **kwargs): return client_factory.create_client(service, context, conf, **kwargs)",73,22
openstack%2Ftap-as-a-service~master~Ie32e956a27c6a01bb5106c38ef9dddfda76edcca,openstack/tap-as-a-service,master,Ie32e956a27c6a01bb5106c38ef9dddfda76edcca,Use data_utils from tempest.lib,MERGED,2017-03-18 10:22:41.000000000,2017-05-29 06:57:07.000000000,2017-05-29 06:57:07.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 6854}, {'_account_id': 17776}, {'_account_id': 19388}]","[{'number': 1, 'created': '2017-03-18 10:22:41.000000000', 'files': ['neutron_taas/tests/tempest_plugin/tests/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/c25b569a39f664ab55700cfe912094671cd575b4', 'message': 'Use data_utils from tempest.lib\n\nUse the stable version of data_utils from tempest.lib rather than\nthe tempest internal version from tempest.common.\n\nChange-Id: Ie32e956a27c6a01bb5106c38ef9dddfda76edcca\n'}]",0,447203,c25b569a39f664ab55700cfe912094671cd575b4,9,5,1,1921,,,0,"Use data_utils from tempest.lib

Use the stable version of data_utils from tempest.lib rather than
the tempest internal version from tempest.common.

Change-Id: Ie32e956a27c6a01bb5106c38ef9dddfda76edcca
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/03/447203/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_taas/tests/tempest_plugin/tests/scenario/manager.py'],1,c25b569a39f664ab55700cfe912094671cd575b4,tempest-manager,from tempest.lib.common.utils import data_utils,from tempest.common.utils import data_utils,1,1
openstack%2Ftap-as-a-service~master~I0797e2948e992fd3399e6c3683745610d0eaadff,openstack/tap-as-a-service,master,I0797e2948e992fd3399e6c3683745610d0eaadff,tempest: Switch to local copy of tempset/scenario/manager.py,MERGED,2017-02-28 23:39:57.000000000,2017-05-29 06:54:41.000000000,2017-05-29 06:54:41.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 6854}]","[{'number': 1, 'created': '2017-02-28 23:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/55ad51597609ab8ccdf315ebf5727c4ffdb767a0', 'message': 'tempest: Have our own copy of tempset/scenario/manager.py\n\nLiterally copied from tempest as of today. [1]\n\n[1] d184d619d7adc6ab60055884515055a7f3cf7770\n\nChange-Id: I0797e2948e992fd3399e6c3683745610d0eaadff\n'}, {'number': 2, 'created': '2017-03-01 00:07:51.000000000', 'files': ['neutron_taas/tests/tempest_plugin/tests/scenario/base.py', 'neutron_taas/tests/tempest_plugin/tests/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/062c8665b241447ed4c2a319ed85beb0c5c26725', 'message': 'tempest: Switch to local copy of tempset/scenario/manager.py\n\nThe manager.py file was literally copied from\ntempest as of today. [1]\n\ntempest/scenario/manager.py is not a part of tempest stable\ninterface for plugins. [2]\n\nThis was suggested on openstack-dev as a preparation for\nthe coming refactoring in tempest. [3]\n\nAs tempest is branchless, this change needs to be backported\nto all relevant stable branches.\n\n[1] d184d619d7adc6ab60055884515055a7f3cf7770\n[2] https://docs.openstack.org/developer/tempest/plugin.html#stable-tempest-apis-plugins-may-use\n[3] http://lists.openstack.org/pipermail/openstack-dev/2017-February/112938.html\n\nChange-Id: I0797e2948e992fd3399e6c3683745610d0eaadff\n'}]",2,439238,062c8665b241447ed4c2a319ed85beb0c5c26725,21,5,2,6854,,,0,"tempest: Switch to local copy of tempset/scenario/manager.py

The manager.py file was literally copied from
tempest as of today. [1]

tempest/scenario/manager.py is not a part of tempest stable
interface for plugins. [2]

This was suggested on openstack-dev as a preparation for
the coming refactoring in tempest. [3]

As tempest is branchless, this change needs to be backported
to all relevant stable branches.

[1] d184d619d7adc6ab60055884515055a7f3cf7770
[2] https://docs.openstack.org/developer/tempest/plugin.html#stable-tempest-apis-plugins-may-use
[3] http://lists.openstack.org/pipermail/openstack-dev/2017-February/112938.html

Change-Id: I0797e2948e992fd3399e6c3683745610d0eaadff
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/38/439238/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_taas/tests/tempest_plugin/tests/scenario/manager.py'],1,55ad51597609ab8ccdf315ebf5727c4ffdb767a0,tempest-manager,"# Copyright 2012 OpenStack Foundation # Copyright 2013 IBM Corp. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import subprocess import netaddr from oslo_log import log from oslo_serialization import jsonutils as json from oslo_utils import netutils from tempest.common import compute from tempest.common import image as common_image from tempest.common.utils import data_utils from tempest.common.utils.linux import remote_client from tempest.common.utils import net_utils from tempest.common import waiters from tempest import config from tempest import exceptions from tempest.lib.common.utils import test_utils from tempest.lib import exceptions as lib_exc import tempest.test CONF = config.CONF LOG = log.getLogger(__name__) class ScenarioTest(tempest.test.BaseTestCase): """"""Base class for scenario tests. Uses tempest own clients. """""" credentials = ['primary'] @classmethod def setup_clients(cls): super(ScenarioTest, cls).setup_clients() # Clients (in alphabetical order) cls.flavors_client = cls.manager.flavors_client cls.compute_floating_ips_client = ( cls.manager.compute_floating_ips_client) if CONF.service_available.glance: # Check if glance v1 is available to determine which client to use. if CONF.image_feature_enabled.api_v1: cls.image_client = cls.manager.image_client elif CONF.image_feature_enabled.api_v2: cls.image_client = cls.manager.image_client_v2 else: raise lib_exc.InvalidConfiguration( 'Either api_v1 or api_v2 must be True in ' '[image-feature-enabled].') # Compute image client cls.compute_images_client = cls.manager.compute_images_client cls.keypairs_client = cls.manager.keypairs_client # Nova security groups client cls.compute_security_groups_client = ( cls.manager.compute_security_groups_client) cls.compute_security_group_rules_client = ( cls.manager.compute_security_group_rules_client) cls.servers_client = cls.manager.servers_client cls.interface_client = cls.manager.interfaces_client # Neutron network client cls.networks_client = cls.manager.networks_client cls.ports_client = cls.manager.ports_client cls.routers_client = cls.manager.routers_client cls.subnets_client = cls.manager.subnets_client cls.floating_ips_client = cls.manager.floating_ips_client cls.security_groups_client = cls.manager.security_groups_client cls.security_group_rules_client = ( cls.manager.security_group_rules_client) if CONF.volume_feature_enabled.api_v2: cls.volumes_client = cls.manager.volumes_v2_client cls.snapshots_client = cls.manager.snapshots_v2_client else: cls.volumes_client = cls.manager.volumes_client cls.snapshots_client = cls.manager.snapshots_client # ## Test functions library # # The create_[resource] functions only return body and discard the # resp part which is not used in scenario tests def _create_port(self, network_id, client=None, namestart='port-quotatest', **kwargs): if not client: client = self.ports_client name = data_utils.rand_name(namestart) result = client.create_port( name=name, network_id=network_id, **kwargs) self.assertIsNotNone(result, 'Unable to allocate port') port = result['port'] self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_port, port['id']) return port def create_keypair(self, client=None): if not client: client = self.keypairs_client name = data_utils.rand_name(self.__class__.__name__) # We don't need to create a keypair by pubkey in scenario body = client.create_keypair(name=name) self.addCleanup(client.delete_keypair, name) return body['keypair'] def create_server(self, name=None, image_id=None, flavor=None, validatable=False, wait_until='ACTIVE', clients=None, **kwargs): """"""Wrapper utility that returns a test server. This wrapper utility calls the common create test server and returns a test server. The purpose of this wrapper is to minimize the impact on the code of the tests already using this function. """""" # NOTE(jlanoux): As a first step, ssh checks in the scenario # tests need to be run regardless of the run_validation and # validatable parameters and thus until the ssh validation job # becomes voting in CI. The test resources management and IP # association are taken care of in the scenario tests. # Therefore, the validatable parameter is set to false in all # those tests. In this way create_server just return a standard # server and the scenario tests always perform ssh checks. # Needed for the cross_tenant_traffic test: if clients is None: clients = self.manager if name is None: name = data_utils.rand_name(self.__class__.__name__ + ""-server"") vnic_type = CONF.network.port_vnic_type # If vnic_type is configured create port for # every network if vnic_type: ports = [] create_port_body = {'binding:vnic_type': vnic_type, 'namestart': 'port-smoke'} if kwargs: # Convert security group names to security group ids # to pass to create_port if 'security_groups' in kwargs: security_groups = \ clients.security_groups_client.list_security_groups( ).get('security_groups') sec_dict = dict([(s['name'], s['id']) for s in security_groups]) sec_groups_names = [s['name'] for s in kwargs.pop( 'security_groups')] security_groups_ids = [sec_dict[s] for s in sec_groups_names] if security_groups_ids: create_port_body[ 'security_groups'] = security_groups_ids networks = kwargs.pop('networks', []) else: networks = [] # If there are no networks passed to us we look up # for the project's private networks and create a port. # The same behaviour as we would expect when passing # the call to the clients with no networks if not networks: networks = clients.networks_client.list_networks( **{'router:external': False, 'fields': 'id'})['networks'] # It's net['uuid'] if networks come from kwargs # and net['id'] if they come from # clients.networks_client.list_networks for net in networks: net_id = net.get('uuid', net.get('id')) if 'port' not in net: port = self._create_port(network_id=net_id, client=clients.ports_client, **create_port_body) ports.append({'port': port['id']}) else: ports.append({'port': net['port']}) if ports: kwargs['networks'] = ports self.ports = ports tenant_network = self.get_tenant_network() body, servers = compute.create_test_server( clients, tenant_network=tenant_network, wait_until=wait_until, name=name, flavor=flavor, image_id=image_id, **kwargs) self.addCleanup(waiters.wait_for_server_termination, clients.servers_client, body['id']) self.addCleanup(test_utils.call_and_ignore_notfound_exc, clients.servers_client.delete_server, body['id']) server = clients.servers_client.show_server(body['id'])['server'] return server def create_volume(self, size=None, name=None, snapshot_id=None, imageRef=None, volume_type=None): if size is None: size = CONF.volume.volume_size if imageRef: image = self.compute_images_client.show_image(imageRef)['image'] min_disk = image.get('minDisk') size = max(size, min_disk) if name is None: name = data_utils.rand_name(self.__class__.__name__ + ""-volume"") kwargs = {'display_name': name, 'snapshot_id': snapshot_id, 'imageRef': imageRef, 'volume_type': volume_type, 'size': size} volume = self.volumes_client.create_volume(**kwargs)['volume'] self.addCleanup(self.volumes_client.wait_for_resource_deletion, volume['id']) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.volumes_client.delete_volume, volume['id']) # NOTE(e0ne): Cinder API v2 uses name instead of display_name if 'display_name' in volume: self.assertEqual(name, volume['display_name']) else: self.assertEqual(name, volume['name']) waiters.wait_for_volume_resource_status(self.volumes_client, volume['id'], 'available') # The volume retrieved on creation has a non-up-to-date status. # Retrieval after it becomes active ensures correct details. volume = self.volumes_client.show_volume(volume['id'])['volume'] return volume def create_volume_type(self, client=None, name=None, backend_name=None): if not client: client = self.admin_volume_types_client if not name: class_name = self.__class__.__name__ name = data_utils.rand_name(class_name + '-volume-type') randomized_name = data_utils.rand_name('scenario-type-' + name) LOG.debug(""Creating a volume type: %s on backend %s"", randomized_name, backend_name) extra_specs = {} if backend_name: extra_specs = {""volume_backend_name"": backend_name} body = client.create_volume_type(name=randomized_name, extra_specs=extra_specs) volume_type = body['volume_type'] self.assertIn('id', volume_type) self.addCleanup(client.delete_volume_type, volume_type['id']) return volume_type def _create_loginable_secgroup_rule(self, secgroup_id=None): _client = self.compute_security_groups_client _client_rules = self.compute_security_group_rules_client if secgroup_id is None: sgs = _client.list_security_groups()['security_groups'] for sg in sgs: if sg['name'] == 'default': secgroup_id = sg['id'] # These rules are intended to permit inbound ssh and icmp # traffic from all sources, so no group_id is provided. # Setting a group_id would only permit traffic from ports # belonging to the same security group. rulesets = [ { # ssh 'ip_protocol': 'tcp', 'from_port': 22, 'to_port': 22, 'cidr': '0.0.0.0/0', }, { # ping 'ip_protocol': 'icmp', 'from_port': -1, 'to_port': -1, 'cidr': '0.0.0.0/0', } ] rules = list() for ruleset in rulesets: sg_rule = _client_rules.create_security_group_rule( parent_group_id=secgroup_id, **ruleset)['security_group_rule'] rules.append(sg_rule) return rules def _create_security_group(self): # Create security group sg_name = data_utils.rand_name(self.__class__.__name__) sg_desc = sg_name + "" description"" secgroup = self.compute_security_groups_client.create_security_group( name=sg_name, description=sg_desc)['security_group'] self.assertEqual(secgroup['name'], sg_name) self.assertEqual(secgroup['description'], sg_desc) self.addCleanup( test_utils.call_and_ignore_notfound_exc, self.compute_security_groups_client.delete_security_group, secgroup['id']) # Add rules to the security group self._create_loginable_secgroup_rule(secgroup['id']) return secgroup def get_remote_client(self, ip_address, username=None, private_key=None): """"""Get a SSH client to a remote server @param ip_address the server floating or fixed IP address to use for ssh validation @param username name of the Linux account on the remote server @param private_key the SSH private key to use @return a RemoteClient object """""" if username is None: username = CONF.validation.image_ssh_user # Set this with 'keypair' or others to log in with keypair or # username/password. if CONF.validation.auth_method == 'keypair': password = None if private_key is None: private_key = self.keypair['private_key'] else: password = CONF.validation.image_ssh_password private_key = None linux_client = remote_client.RemoteClient(ip_address, username, pkey=private_key, password=password) try: linux_client.validate_authentication() except Exception as e: message = ('Initializing SSH connection to %(ip)s failed. ' 'Error: %(error)s' % {'ip': ip_address, 'error': e}) caller = test_utils.find_test_caller() if caller: message = '(%s) %s' % (caller, message) LOG.exception(message) self._log_console_output() raise return linux_client def _image_create(self, name, fmt, path, disk_format=None, properties=None): if properties is None: properties = {} name = data_utils.rand_name('%s-' % name) params = { 'name': name, 'container_format': fmt, 'disk_format': disk_format or fmt, } if CONF.image_feature_enabled.api_v1: params['is_public'] = 'False' params['properties'] = properties params = {'headers': common_image.image_meta_to_headers(**params)} else: params['visibility'] = 'private' # Additional properties are flattened out in the v2 API. params.update(properties) body = self.image_client.create_image(**params) image = body['image'] if 'image' in body else body self.addCleanup(self.image_client.delete_image, image['id']) self.assertEqual(""queued"", image['status']) with open(path, 'rb') as image_file: if CONF.image_feature_enabled.api_v1: self.image_client.update_image(image['id'], data=image_file) else: self.image_client.store_image_file(image['id'], image_file) return image['id'] def glance_image_create(self): img_path = CONF.scenario.img_dir + ""/"" + CONF.scenario.img_file aki_img_path = CONF.scenario.img_dir + ""/"" + CONF.scenario.aki_img_file ari_img_path = CONF.scenario.img_dir + ""/"" + CONF.scenario.ari_img_file ami_img_path = CONF.scenario.img_dir + ""/"" + CONF.scenario.ami_img_file img_container_format = CONF.scenario.img_container_format img_disk_format = CONF.scenario.img_disk_format img_properties = CONF.scenario.img_properties LOG.debug(""paths: img: %s, container_format: %s, disk_format: %s, "" ""properties: %s, ami: %s, ari: %s, aki: %s"", img_path, img_container_format, img_disk_format, img_properties, ami_img_path, ari_img_path, aki_img_path) try: image = self._image_create('scenario-img', img_container_format, img_path, disk_format=img_disk_format, properties=img_properties) except IOError: LOG.debug(""A qcow2 image was not found. Try to get a uec image."") kernel = self._image_create('scenario-aki', 'aki', aki_img_path) ramdisk = self._image_create('scenario-ari', 'ari', ari_img_path) properties = {'kernel_id': kernel, 'ramdisk_id': ramdisk} image = self._image_create('scenario-ami', 'ami', path=ami_img_path, properties=properties) LOG.debug(""image:%s"", image) return image def _log_console_output(self, servers=None): if not CONF.compute_feature_enabled.console_output: LOG.debug('Console output not supported, cannot log') return if not servers: servers = self.servers_client.list_servers() servers = servers['servers'] for server in servers: try: console_output = self.servers_client.get_console_output( server['id'])['output'] LOG.debug('Console output for %s\nbody=\n%s', server['id'], console_output) except lib_exc.NotFound: LOG.debug(""Server %s disappeared(deleted) while looking "" ""for the console log"", server['id']) def _log_net_info(self, exc): # network debug is called as part of ssh init if not isinstance(exc, lib_exc.SSHTimeout): LOG.debug('Network information on a devstack host') def create_server_snapshot(self, server, name=None): # Glance client _image_client = self.image_client # Compute client _images_client = self.compute_images_client if name is None: name = data_utils.rand_name(self.__class__.__name__ + 'snapshot') LOG.debug(""Creating a snapshot image for server: %s"", server['name']) image = _images_client.create_image(server['id'], name=name) image_id = image.response['location'].split('images/')[1] waiters.wait_for_image_status(_image_client, image_id, 'active') self.addCleanup(_image_client.wait_for_resource_deletion, image_id) self.addCleanup(test_utils.call_and_ignore_notfound_exc, _image_client.delete_image, image_id) if CONF.image_feature_enabled.api_v1: # In glance v1 the additional properties are stored in the headers. resp = _image_client.check_image(image_id) snapshot_image = common_image.get_image_meta_from_headers(resp) image_props = snapshot_image.get('properties', {}) else: # In glance v2 the additional properties are flattened. snapshot_image = _image_client.show_image(image_id) image_props = snapshot_image bdm = image_props.get('block_device_mapping') if bdm: bdm = json.loads(bdm) if bdm and 'snapshot_id' in bdm[0]: snapshot_id = bdm[0]['snapshot_id'] self.addCleanup( self.snapshots_client.wait_for_resource_deletion, snapshot_id) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.snapshots_client.delete_snapshot, snapshot_id) waiters.wait_for_volume_resource_status(self.snapshots_client, snapshot_id, 'available') image_name = snapshot_image['name'] self.assertEqual(name, image_name) LOG.debug(""Created snapshot image %s for server %s"", image_name, server['name']) return snapshot_image def nova_volume_attach(self, server, volume_to_attach): volume = self.servers_client.attach_volume( server['id'], volumeId=volume_to_attach['id'], device='/dev/%s' % CONF.compute.volume_device_name)['volumeAttachment'] self.assertEqual(volume_to_attach['id'], volume['id']) waiters.wait_for_volume_resource_status(self.volumes_client, volume['id'], 'in-use') # Return the updated volume after the attachment return self.volumes_client.show_volume(volume['id'])['volume'] def nova_volume_detach(self, server, volume): self.servers_client.detach_volume(server['id'], volume['id']) waiters.wait_for_volume_resource_status(self.volumes_client, volume['id'], 'available') volume = self.volumes_client.show_volume(volume['id'])['volume'] self.assertEqual('available', volume['status']) def rebuild_server(self, server_id, image=None, preserve_ephemeral=False, wait=True, rebuild_kwargs=None): if image is None: image = CONF.compute.image_ref rebuild_kwargs = rebuild_kwargs or {} LOG.debug(""Rebuilding server (id: %s, image: %s, preserve eph: %s)"", server_id, image, preserve_ephemeral) self.servers_client.rebuild_server( server_id=server_id, image_ref=image, preserve_ephemeral=preserve_ephemeral, **rebuild_kwargs) if wait: waiters.wait_for_server_status(self.servers_client, server_id, 'ACTIVE') def ping_ip_address(self, ip_address, should_succeed=True, ping_timeout=None, mtu=None): timeout = ping_timeout or CONF.validation.ping_timeout cmd = ['ping', '-c1', '-w1'] if mtu: cmd += [ # don't fragment '-M', 'do', # ping receives just the size of ICMP payload '-s', str(net_utils.get_ping_payload_size(mtu, 4)) ] cmd.append(ip_address) def ping(): proc = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE) proc.communicate() return (proc.returncode == 0) == should_succeed caller = test_utils.find_test_caller() LOG.debug('%(caller)s begins to ping %(ip)s in %(timeout)s sec and the' ' expected result is %(should_succeed)s', { 'caller': caller, 'ip': ip_address, 'timeout': timeout, 'should_succeed': 'reachable' if should_succeed else 'unreachable' }) result = test_utils.call_until_true(ping, timeout, 1) LOG.debug('%(caller)s finishes ping %(ip)s in %(timeout)s sec and the ' 'ping result is %(result)s', { 'caller': caller, 'ip': ip_address, 'timeout': timeout, 'result': 'expected' if result else 'unexpected' }) return result def check_vm_connectivity(self, ip_address, username=None, private_key=None, should_connect=True, mtu=None): """"""Check server connectivity :param ip_address: server to test against :param username: server's ssh username :param private_key: server's ssh private key to be used :param should_connect: True/False indicates positive/negative test positive - attempt ping and ssh negative - attempt ping and fail if succeed :param mtu: network MTU to use for connectivity validation :raises: AssertError if the result of the connectivity check does not match the value of the should_connect param """""" if should_connect: msg = ""Timed out waiting for %s to become reachable"" % ip_address else: msg = ""ip address %s is reachable"" % ip_address self.assertTrue(self.ping_ip_address(ip_address, should_succeed=should_connect, mtu=mtu), msg=msg) if should_connect: # no need to check ssh for negative connectivity self.get_remote_client(ip_address, username, private_key) def check_public_network_connectivity(self, ip_address, username, private_key, should_connect=True, msg=None, servers=None, mtu=None): # The target login is assumed to have been configured for # key-based authentication by cloud-init. LOG.debug('checking network connections to IP %s with user: %s', ip_address, username) try: self.check_vm_connectivity(ip_address, username, private_key, should_connect=should_connect, mtu=mtu) except Exception: ex_msg = 'Public network connectivity check failed' if msg: ex_msg += "": "" + msg LOG.exception(ex_msg) self._log_console_output(servers) raise def create_floating_ip(self, thing, pool_name=None): """"""Create a floating IP and associates to a server on Nova"""""" if not pool_name: pool_name = CONF.network.floating_network_name floating_ip = (self.compute_floating_ips_client. create_floating_ip(pool=pool_name)['floating_ip']) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.compute_floating_ips_client.delete_floating_ip, floating_ip['id']) self.compute_floating_ips_client.associate_floating_ip_to_server( floating_ip['ip'], thing['id']) return floating_ip def create_timestamp(self, ip_address, dev_name=None, mount_path='/mnt', private_key=None): ssh_client = self.get_remote_client(ip_address, private_key=private_key) if dev_name is not None: ssh_client.make_fs(dev_name) ssh_client.mount(dev_name, mount_path) cmd_timestamp = 'sudo sh -c ""date > %s/timestamp; sync""' % mount_path ssh_client.exec_command(cmd_timestamp) timestamp = ssh_client.exec_command('sudo cat %s/timestamp' % mount_path) if dev_name is not None: ssh_client.umount(mount_path) return timestamp def get_timestamp(self, ip_address, dev_name=None, mount_path='/mnt', private_key=None): ssh_client = self.get_remote_client(ip_address, private_key=private_key) if dev_name is not None: ssh_client.mount(dev_name, mount_path) timestamp = ssh_client.exec_command('sudo cat %s/timestamp' % mount_path) if dev_name is not None: ssh_client.umount(mount_path) return timestamp def get_server_ip(self, server): """"""Get the server fixed or floating IP. Based on the configuration we're in, return a correct ip address for validating that a guest is up. """""" if CONF.validation.connect_method == 'floating': # The tests calling this method don't have a floating IP # and can't make use of the validation resources. So the # method is creating the floating IP there. return self.create_floating_ip(server)['ip'] elif CONF.validation.connect_method == 'fixed': # Determine the network name to look for based on config or creds # provider network resources. if CONF.validation.network_for_ssh: addresses = server['addresses'][ CONF.validation.network_for_ssh] else: creds_provider = self._get_credentials_provider() net_creds = creds_provider.get_primary_creds() network = getattr(net_creds, 'network', None) addresses = (server['addresses'][network['name']] if network else []) for address in addresses: if (address['version'] == CONF.validation.ip_version_for_ssh and address['OS-EXT-IPS:type'] == 'fixed'): return address['addr'] raise exceptions.ServerUnreachable(server_id=server['id']) else: raise lib_exc.InvalidConfiguration() class NetworkScenarioTest(ScenarioTest): """"""Base class for network scenario tests. This class provide helpers for network scenario tests, using the neutron API. Helpers from ancestor which use the nova network API are overridden with the neutron API. This Class also enforces using Neutron instead of novanetwork. Subclassed tests will be skipped if Neutron is not enabled """""" credentials = ['primary', 'admin'] @classmethod def skip_checks(cls): super(NetworkScenarioTest, cls).skip_checks() if not CONF.service_available.neutron: raise cls.skipException('Neutron not available') def _create_network(self, networks_client=None, tenant_id=None, namestart='network-smoke-', port_security_enabled=True): if not networks_client: networks_client = self.networks_client if not tenant_id: tenant_id = networks_client.tenant_id name = data_utils.rand_name(namestart) network_kwargs = dict(name=name, tenant_id=tenant_id) # Neutron disables port security by default so we have to check the # config before trying to create the network with port_security_enabled if CONF.network_feature_enabled.port_security: network_kwargs['port_security_enabled'] = port_security_enabled result = networks_client.create_network(**network_kwargs) network = result['network'] self.assertEqual(network['name'], name) self.addCleanup(test_utils.call_and_ignore_notfound_exc, networks_client.delete_network, network['id']) return network def _create_subnet(self, network, subnets_client=None, routers_client=None, namestart='subnet-smoke', **kwargs): """"""Create a subnet for the given network within the cidr block configured for tenant networks. """""" if not subnets_client: subnets_client = self.subnets_client if not routers_client: routers_client = self.routers_client def cidr_in_use(cidr, tenant_id): """"""Check cidr existence :returns: True if subnet with cidr already exist in tenant False else """""" cidr_in_use = self.admin_manager.subnets_client.list_subnets( tenant_id=tenant_id, cidr=cidr)['subnets'] return len(cidr_in_use) != 0 ip_version = kwargs.pop('ip_version', 4) if ip_version == 6: tenant_cidr = netaddr.IPNetwork( CONF.network.project_network_v6_cidr) num_bits = CONF.network.project_network_v6_mask_bits else: tenant_cidr = netaddr.IPNetwork(CONF.network.project_network_cidr) num_bits = CONF.network.project_network_mask_bits result = None str_cidr = None # Repeatedly attempt subnet creation with sequential cidr # blocks until an unallocated block is found. for subnet_cidr in tenant_cidr.subnet(num_bits): str_cidr = str(subnet_cidr) if cidr_in_use(str_cidr, tenant_id=network['tenant_id']): continue subnet = dict( name=data_utils.rand_name(namestart), network_id=network['id'], tenant_id=network['tenant_id'], cidr=str_cidr, ip_version=ip_version, **kwargs ) try: result = subnets_client.create_subnet(**subnet) break except lib_exc.Conflict as e: is_overlapping_cidr = 'overlaps with another subnet' in str(e) if not is_overlapping_cidr: raise self.assertIsNotNone(result, 'Unable to allocate tenant network') subnet = result['subnet'] self.assertEqual(subnet['cidr'], str_cidr) self.addCleanup(test_utils.call_and_ignore_notfound_exc, subnets_client.delete_subnet, subnet['id']) return subnet def _get_server_port_id_and_ip4(self, server, ip_addr=None): ports = self.admin_manager.ports_client.list_ports( device_id=server['id'], fixed_ip=ip_addr)['ports'] # A port can have more than one IP address in some cases. # If the network is dual-stack (IPv4 + IPv6), this port is associated # with 2 subnets p_status = ['ACTIVE'] # NOTE(vsaienko) With Ironic, instances live on separate hardware # servers. Neutron does not bind ports for Ironic instances, as a # result the port remains in the DOWN state. # TODO(vsaienko) remove once bug: #1599836 is resolved. if getattr(CONF.service_available, 'ironic', False): p_status.append('DOWN') port_map = [(p[""id""], fxip[""ip_address""]) for p in ports for fxip in p[""fixed_ips""] if netutils.is_valid_ipv4(fxip[""ip_address""]) and p['status'] in p_status] inactive = [p for p in ports if p['status'] != 'ACTIVE'] if inactive: LOG.warning(""Instance has ports that are not ACTIVE: %s"", inactive) self.assertNotEqual(0, len(port_map), ""No IPv4 addresses found in: %s"" % ports) self.assertEqual(len(port_map), 1, ""Found multiple IPv4 addresses: %s. "" ""Unable to determine which port to target."" % port_map) return port_map[0] def _get_network_by_name(self, network_name): net = self.admin_manager.networks_client.list_networks( name=network_name)['networks'] self.assertNotEqual(len(net), 0, ""Unable to get network by name: %s"" % network_name) return net[0] def create_floating_ip(self, thing, external_network_id=None, port_id=None, client=None): """"""Create a floating IP and associates to a resource/port on Neutron"""""" if not external_network_id: external_network_id = CONF.network.public_network_id if not client: client = self.floating_ips_client if not port_id: port_id, ip4 = self._get_server_port_id_and_ip4(thing) else: ip4 = None result = client.create_floatingip( floating_network_id=external_network_id, port_id=port_id, tenant_id=thing['tenant_id'], fixed_ip_address=ip4 ) floating_ip = result['floatingip'] self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_floatingip, floating_ip['id']) return floating_ip def _associate_floating_ip(self, floating_ip, server): port_id, _ = self._get_server_port_id_and_ip4(server) kwargs = dict(port_id=port_id) floating_ip = self.floating_ips_client.update_floatingip( floating_ip['id'], **kwargs)['floatingip'] self.assertEqual(port_id, floating_ip['port_id']) return floating_ip def _disassociate_floating_ip(self, floating_ip): """""":param floating_ip: floating_ips_client.create_floatingip"""""" kwargs = dict(port_id=None) floating_ip = self.floating_ips_client.update_floatingip( floating_ip['id'], **kwargs)['floatingip'] self.assertIsNone(floating_ip['port_id']) return floating_ip def check_floating_ip_status(self, floating_ip, status): """"""Verifies floatingip reaches the given status :param dict floating_ip: floating IP dict to check status :param status: target status :raises: AssertionError if status doesn't match """""" floatingip_id = floating_ip['id'] def refresh(): result = (self.floating_ips_client. show_floatingip(floatingip_id)['floatingip']) return status == result['status'] test_utils.call_until_true(refresh, CONF.network.build_timeout, CONF.network.build_interval) floating_ip = self.floating_ips_client.show_floatingip( floatingip_id)['floatingip'] self.assertEqual(status, floating_ip['status'], message=""FloatingIP: {fp} is at status: {cst}. "" ""failed to reach status: {st}"" .format(fp=floating_ip, cst=floating_ip['status'], st=status)) LOG.info(""FloatingIP: {fp} is at status: {st}"" .format(fp=floating_ip, st=status)) def _check_tenant_network_connectivity(self, server, username, private_key, should_connect=True, servers_for_debug=None): if not CONF.network.project_networks_reachable: msg = 'Tenant networks not configured to be reachable.' LOG.info(msg) return # The target login is assumed to have been configured for # key-based authentication by cloud-init. try: for net_name, ip_addresses in server['addresses'].items(): for ip_address in ip_addresses: self.check_vm_connectivity(ip_address['addr'], username, private_key, should_connect=should_connect) except Exception as e: LOG.exception('Tenant network connectivity check failed') self._log_console_output(servers_for_debug) self._log_net_info(e) raise def _check_remote_connectivity(self, source, dest, should_succeed=True, nic=None): """"""check ping server via source ssh connection :param source: RemoteClient: an ssh connection from which to ping :param dest: and IP to ping against :param should_succeed: boolean should ping succeed or not :param nic: specific network interface to ping from :returns: boolean -- should_succeed == ping :returns: ping is false if ping failed """""" def ping_remote(): try: source.ping_host(dest, nic=nic) except lib_exc.SSHExecCommandFailed: LOG.warning('Failed to ping IP: %s via a ssh connection ' 'from: %s.', dest, source.ssh_client.host) return not should_succeed return should_succeed return test_utils.call_until_true(ping_remote, CONF.validation.ping_timeout, 1) def _create_security_group(self, security_group_rules_client=None, tenant_id=None, namestart='secgroup-smoke', security_groups_client=None): if security_group_rules_client is None: security_group_rules_client = self.security_group_rules_client if security_groups_client is None: security_groups_client = self.security_groups_client if tenant_id is None: tenant_id = security_groups_client.tenant_id secgroup = self._create_empty_security_group( namestart=namestart, client=security_groups_client, tenant_id=tenant_id) # Add rules to the security group rules = self._create_loginable_secgroup_rule( security_group_rules_client=security_group_rules_client, secgroup=secgroup, security_groups_client=security_groups_client) for rule in rules: self.assertEqual(tenant_id, rule['tenant_id']) self.assertEqual(secgroup['id'], rule['security_group_id']) return secgroup def _create_empty_security_group(self, client=None, tenant_id=None, namestart='secgroup-smoke'): """"""Create a security group without rules. Default rules will be created: - IPv4 egress to any - IPv6 egress to any :param tenant_id: secgroup will be created in this tenant :returns: the created security group """""" if client is None: client = self.security_groups_client if not tenant_id: tenant_id = client.tenant_id sg_name = data_utils.rand_name(namestart) sg_desc = sg_name + "" description"" sg_dict = dict(name=sg_name, description=sg_desc) sg_dict['tenant_id'] = tenant_id result = client.create_security_group(**sg_dict) secgroup = result['security_group'] self.assertEqual(secgroup['name'], sg_name) self.assertEqual(tenant_id, secgroup['tenant_id']) self.assertEqual(secgroup['description'], sg_desc) self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_security_group, secgroup['id']) return secgroup def _default_security_group(self, client=None, tenant_id=None): """"""Get default secgroup for given tenant_id. :returns: default secgroup for given tenant """""" if client is None: client = self.security_groups_client if not tenant_id: tenant_id = client.tenant_id sgs = [ sg for sg in list(client.list_security_groups().values())[0] if sg['tenant_id'] == tenant_id and sg['name'] == 'default' ] msg = ""No default security group for tenant %s."" % (tenant_id) self.assertGreater(len(sgs), 0, msg) return sgs[0] def _create_security_group_rule(self, secgroup=None, sec_group_rules_client=None, tenant_id=None, security_groups_client=None, **kwargs): """"""Create a rule from a dictionary of rule parameters. Create a rule in a secgroup. if secgroup not defined will search for default secgroup in tenant_id. :param secgroup: the security group. :param tenant_id: if secgroup not passed -- the tenant in which to search for default secgroup :param kwargs: a dictionary containing rule parameters: for example, to allow incoming ssh: rule = { direction: 'ingress' protocol:'tcp', port_range_min: 22, port_range_max: 22 } """""" if sec_group_rules_client is None: sec_group_rules_client = self.security_group_rules_client if security_groups_client is None: security_groups_client = self.security_groups_client if not tenant_id: tenant_id = security_groups_client.tenant_id if secgroup is None: secgroup = self._default_security_group( client=security_groups_client, tenant_id=tenant_id) ruleset = dict(security_group_id=secgroup['id'], tenant_id=secgroup['tenant_id']) ruleset.update(kwargs) sg_rule = sec_group_rules_client.create_security_group_rule(**ruleset) sg_rule = sg_rule['security_group_rule'] self.assertEqual(secgroup['tenant_id'], sg_rule['tenant_id']) self.assertEqual(secgroup['id'], sg_rule['security_group_id']) return sg_rule def _create_loginable_secgroup_rule(self, security_group_rules_client=None, secgroup=None, security_groups_client=None): """"""Create loginable security group rule This function will create: 1. egress and ingress tcp port 22 allow rule in order to allow ssh access for ipv4. 2. egress and ingress ipv6 icmp allow rule, in order to allow icmpv6. 3. egress and ingress ipv4 icmp allow rule, in order to allow icmpv4. """""" if security_group_rules_client is None: security_group_rules_client = self.security_group_rules_client if security_groups_client is None: security_groups_client = self.security_groups_client rules = [] rulesets = [ dict( # ssh protocol='tcp', port_range_min=22, port_range_max=22, ), dict( # ping protocol='icmp', ), dict( # ipv6-icmp for ping6 protocol='icmp', ethertype='IPv6', ) ] sec_group_rules_client = security_group_rules_client for ruleset in rulesets: for r_direction in ['ingress', 'egress']: ruleset['direction'] = r_direction try: sg_rule = self._create_security_group_rule( sec_group_rules_client=sec_group_rules_client, secgroup=secgroup, security_groups_client=security_groups_client, **ruleset) except lib_exc.Conflict as ex: # if rule already exist - skip rule and continue msg = 'Security group rule already exists' if msg not in ex._error_string: raise ex else: self.assertEqual(r_direction, sg_rule['direction']) rules.append(sg_rule) return rules def _get_router(self, client=None, tenant_id=None): """"""Retrieve a router for the given tenant id. If a public router has been configured, it will be returned. If a public router has not been configured, but a public network has, a tenant router will be created and returned that routes traffic to the public network. """""" if not client: client = self.routers_client if not tenant_id: tenant_id = client.tenant_id router_id = CONF.network.public_router_id network_id = CONF.network.public_network_id if router_id: body = client.show_router(router_id) return body['router'] elif network_id: router = self._create_router(client, tenant_id) kwargs = {'external_gateway_info': dict(network_id=network_id)} router = client.update_router(router['id'], **kwargs)['router'] return router else: raise Exception(""Neither of 'public_router_id' or "" ""'public_network_id' has been defined."") def _create_router(self, client=None, tenant_id=None, namestart='router-smoke'): if not client: client = self.routers_client if not tenant_id: tenant_id = client.tenant_id name = data_utils.rand_name(namestart) result = client.create_router(name=name, admin_state_up=True, tenant_id=tenant_id) router = result['router'] self.assertEqual(router['name'], name) self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_router, router['id']) return router def _update_router_admin_state(self, router, admin_state_up): kwargs = dict(admin_state_up=admin_state_up) router = self.routers_client.update_router( router['id'], **kwargs)['router'] self.assertEqual(admin_state_up, router['admin_state_up']) def create_networks(self, networks_client=None, routers_client=None, subnets_client=None, tenant_id=None, dns_nameservers=None, port_security_enabled=True): """"""Create a network with a subnet connected to a router. The baremetal driver is a special case since all nodes are on the same shared network. :param tenant_id: id of tenant to create resources in. :param dns_nameservers: list of dns servers to send to subnet. :returns: network, subnet, router """""" if CONF.network.shared_physical_network: # NOTE(Shrews): This exception is for environments where tenant # credential isolation is available, but network separation is # not (the current baremetal case). Likely can be removed when # test account mgmt is reworked: # https://blueprints.launchpad.net/tempest/+spec/test-accounts if not CONF.compute.fixed_network_name: m = 'fixed_network_name must be specified in config' raise lib_exc.InvalidConfiguration(m) network = self._get_network_by_name( CONF.compute.fixed_network_name) router = None subnet = None else: network = self._create_network( networks_client=networks_client, tenant_id=tenant_id, port_security_enabled=port_security_enabled) router = self._get_router(client=routers_client, tenant_id=tenant_id) subnet_kwargs = dict(network=network, subnets_client=subnets_client, routers_client=routers_client) # use explicit check because empty list is a valid option if dns_nameservers is not None: subnet_kwargs['dns_nameservers'] = dns_nameservers subnet = self._create_subnet(**subnet_kwargs) if not routers_client: routers_client = self.routers_client router_id = router['id'] routers_client.add_router_interface(router_id, subnet_id=subnet['id']) # save a cleanup job to remove this association between # router and subnet self.addCleanup(test_utils.call_and_ignore_notfound_exc, routers_client.remove_router_interface, router_id, subnet_id=subnet['id']) return network, subnet, router class EncryptionScenarioTest(ScenarioTest): """"""Base class for encryption scenario tests"""""" credentials = ['primary', 'admin'] @classmethod def setup_clients(cls): super(EncryptionScenarioTest, cls).setup_clients() if CONF.volume_feature_enabled.api_v2: cls.admin_volume_types_client = cls.os_adm.volume_types_v2_client cls.admin_encryption_types_client =\ cls.os_adm.encryption_types_v2_client else: cls.admin_volume_types_client = cls.os_adm.volume_types_client cls.admin_encryption_types_client =\ cls.os_adm.encryption_types_client def create_encryption_type(self, client=None, type_id=None, provider=None, key_size=None, cipher=None, control_location=None): if not client: client = self.admin_encryption_types_client if not type_id: volume_type = self.create_volume_type() type_id = volume_type['id'] LOG.debug(""Creating an encryption type for volume type: %s"", type_id) client.create_encryption_type( type_id, provider=provider, key_size=key_size, cipher=cipher, control_location=control_location)['encryption'] class ObjectStorageScenarioTest(ScenarioTest): """"""Provide harness to do Object Storage scenario tests. Subclasses implement the tests that use the methods provided by this class. """""" @classmethod def skip_checks(cls): super(ObjectStorageScenarioTest, cls).skip_checks() if not CONF.service_available.swift: skip_msg = (""%s skipped as swift is not available"" % cls.__name__) raise cls.skipException(skip_msg) @classmethod def setup_credentials(cls): cls.set_network_resources() super(ObjectStorageScenarioTest, cls).setup_credentials() operator_role = CONF.object_storage.operator_role cls.os_operator = cls.get_client_manager(roles=[operator_role]) @classmethod def setup_clients(cls): super(ObjectStorageScenarioTest, cls).setup_clients() # Clients for Swift cls.account_client = cls.os_operator.account_client cls.container_client = cls.os_operator.container_client cls.object_client = cls.os_operator.object_client def get_swift_stat(self): """"""get swift status for our user account."""""" self.account_client.list_account_containers() LOG.debug('Swift status information obtained successfully') def create_container(self, container_name=None): name = container_name or data_utils.rand_name( 'swift-scenario-container') self.container_client.create_container(name) # look for the container to assure it is created self.list_and_check_container_objects(name) LOG.debug('Container %s created', name) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.container_client.delete_container, name) return name def delete_container(self, container_name): self.container_client.delete_container(container_name) LOG.debug('Container %s deleted', container_name) def upload_object_to_container(self, container_name, obj_name=None): obj_name = obj_name or data_utils.rand_name('swift-scenario-object') obj_data = data_utils.random_bytes() self.object_client.create_object(container_name, obj_name, obj_data) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.object_client.delete_object, container_name, obj_name) return obj_name, obj_data def delete_object(self, container_name, filename): self.object_client.delete_object(container_name, filename) self.list_and_check_container_objects(container_name, not_present_obj=[filename]) def list_and_check_container_objects(self, container_name, present_obj=None, not_present_obj=None): # List objects for a given container and assert which are present and # which are not. if present_obj is None: present_obj = [] if not_present_obj is None: not_present_obj = [] _, object_list = self.container_client.list_container_contents( container_name) if present_obj: for obj in present_obj: self.assertIn(obj, object_list) if not_present_obj: for obj in not_present_obj: self.assertNotIn(obj, object_list) def change_container_acl(self, container_name, acl): metadata_param = {'metadata_prefix': 'x-container-', 'metadata': {'read': acl}} self.container_client.update_container_metadata(container_name, **metadata_param) resp, _ = self.container_client.list_container_metadata(container_name) self.assertEqual(resp['x-container-read'], acl) def download_and_verify(self, container_name, obj_name, expected_data): _, obj = self.object_client.get_object(container_name, obj_name) self.assertEqual(obj, expected_data) ",,1350,0
openstack%2Ftempest~master~Ia4cc0c153fee6bf6e010f8f02c21f8aeba45d7d9,openstack/tempest,master,Ia4cc0c153fee6bf6e010f8f02c21f8aeba45d7d9,Check image after unshelve,MERGED,2017-05-08 05:59:15.000000000,2017-05-29 06:23:44.000000000,2017-05-29 06:23:44.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 11075}, {'_account_id': 11503}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 24248}]","[{'number': 1, 'created': '2017-05-08 05:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c49d015a647c6f545de83ad86dbeef892441cf38', 'message': 'Check image after unshelve\n\nDuring the shelve, a snapshot image is created\nWhen unshelve is done, that created image\nshould be deleted.\n\nA check is to ensure that there is no image\nleft after unshelve\n\nRelated-Bug: #1689223\nChange-Id: Ia4cc0c153fee6bf6e010f8f02c21f8aeba45d7d9\n'}, {'number': 2, 'created': '2017-05-09 03:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c6ef8ce404d72bf5200e3dd0176483d45df574ad', 'message': 'Check image after unshelve\n\nDuring the shelve, a snapshot image is created\nWhen unshelve is done, that created image\nshould be deleted.\n\nA check is to ensure that there is no image\nleft after unshelve\n\nRelated-Bug: #1689223\nChange-Id: Ia4cc0c153fee6bf6e010f8f02c21f8aeba45d7d9\n'}, {'number': 3, 'created': '2017-05-12 03:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/75ee75517714a730bf5ffe99364a858c3fa4c13d', 'message': 'Check image after unshelve\n\nDuring the shelve, a snapshot image is created\nWhen unshelve is done, that created image\nshould be deleted.\n\nA check is to ensure that there is no image\nleft after unshelve\n\nRelated-Bug: #1689223\nChange-Id: Ia4cc0c153fee6bf6e010f8f02c21f8aeba45d7d9\n'}, {'number': 4, 'created': '2017-05-12 08:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4794960f0ca7438c8acdcc063fd53d8206dfe3f3', 'message': 'Check image after unshelve\n\nDuring the shelve, a snapshot image is created\nWhen unshelve is done, that created image\nshould be deleted.\n\nA check is to ensure that there is no image\nleft after unshelve\n\nRelated-Bug: #1689223\nChange-Id: Ia4cc0c153fee6bf6e010f8f02c21f8aeba45d7d9\n'}, {'number': 5, 'created': '2017-05-24 07:27:07.000000000', 'files': ['tempest/api/compute/servers/test_server_actions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8fdfb1c1e2e8f9c057adbfb53a0167e7de25ffd6', 'message': 'Check image after unshelve\n\nDuring the shelve, a snapshot image is created\nWhen unshelve is done, that created image\nshould be deleted.\n\nA check is to ensure that there is no image\nleft after unshelve\n\nChange-Id: Ia4cc0c153fee6bf6e010f8f02c21f8aeba45d7d9\n'}]",10,463248,8fdfb1c1e2e8f9c057adbfb53a0167e7de25ffd6,42,10,5,11503,,,0,"Check image after unshelve

During the shelve, a snapshot image is created
When unshelve is done, that created image
should be deleted.

A check is to ensure that there is no image
left after unshelve

Change-Id: Ia4cc0c153fee6bf6e010f8f02c21f8aeba45d7d9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/48/463248/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_server_actions.py'],1,c49d015a647c6f545de83ad86dbeef892441cf38,bug/1653953," images = self.compute_images_client.list_images(**params)['images'] self.assertEqual(0, len(images)) ",,3,0
openstack%2Fproject-config~master~I1e9d09a837559086b361f51400b797bcffdc48bf,openstack/project-config,master,I1e9d09a837559086b361f51400b797bcffdc48bf,Update Gnocchi devstack URL,ABANDONED,2017-05-19 15:27:29.000000000,2017-05-29 06:18:59.000000000,,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 9545}, {'_account_id': 13252}]","[{'number': 1, 'created': '2017-05-19 15:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9e60679544744b8c613eabbe0ffa7cd38b5c0213', 'message': 'Update Gnocchi devstack URL\n\nChange-Id: I1e9d09a837559086b361f51400b797bcffdc48bf\n'}, {'number': 2, 'created': '2017-05-19 16:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/51c1bfa6917ed880bdd67ead20c042e0c6071454', 'message': 'Update Gnocchi devstack URL\n\nChange-Id: I1e9d09a837559086b361f51400b797bcffdc48bf\n'}, {'number': 3, 'created': '2017-05-19 17:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c508973c4922d4ce2a78e260feead94ecf3f69e7', 'message': 'Update Gnocchi devstack URL\n\nChange-Id: I1e9d09a837559086b361f51400b797bcffdc48bf\n'}, {'number': 4, 'created': '2017-05-22 06:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9f07c9c711db9d7d6d69dc2960584dcf94b1adf5', 'message': 'Update Gnocchi devstack URL\n\nChange-Id: I1e9d09a837559086b361f51400b797bcffdc48bf\n'}, {'number': 5, 'created': '2017-05-23 15:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/17c7bc8f2c0c0f6334a40a4902788059aa82b4ad', 'message': 'Update Gnocchi devstack URL\n\nChange-Id: I1e9d09a837559086b361f51400b797bcffdc48bf\n'}, {'number': 6, 'created': '2017-05-23 15:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f5b4d78723d1c1b6edd1eddbd9b5fb4231b9a72e', 'message': 'Update Gnocchi devstack URL\n\nChange-Id: I1e9d09a837559086b361f51400b797bcffdc48bf\n'}, {'number': 7, 'created': '2017-05-24 09:37:19.000000000', 'files': ['jenkins/jobs/ceilometer.yaml', 'jenkins/jobs/collectd-ceilometer-plugin.yaml', 'jenkins/jobs/rally.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d230ac06d29b1b42bb8d81c86edceec86be5a92d', 'message': 'Update Gnocchi devstack URL\n\nChange-Id: I1e9d09a837559086b361f51400b797bcffdc48bf\n'}]",10,466321,d230ac06d29b1b42bb8d81c86edceec86be5a92d,28,8,7,1669,,,0,"Update Gnocchi devstack URL

Change-Id: I1e9d09a837559086b361f51400b797bcffdc48bf
",git fetch https://review.opendev.org/openstack/project-config refs/changes/21/466321/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/ceilometer.yaml', 'jenkins/jobs/collectd-ceilometer-plugin.yaml']",2,9e60679544744b8c613eabbe0ffa7cd38b5c0213,jd/move-gnocchi-out," enable_plugin gnocchi https://github.com/gnocchixyz/gnocchi.git export PROJECTS=""gnocchixyz/gnocchi $PROJECTS"""," enable_plugin gnocchi git://git.openstack.org/openstack/gnocchi export PROJECTS=""openstack/gnocchi $PROJECTS""",5,5
openstack%2Fheat~master~I032144733bde916f8de8644121b9fb1ef29baef2,openstack/heat,master,I032144733bde916f8de8644121b9fb1ef29baef2,Add ParameterGroups for the nested stack during stack.validate,MERGED,2017-05-11 08:50:22.000000000,2017-05-29 06:13:58.000000000,2017-05-29 06:13:58.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 10487}, {'_account_id': 12404}, {'_account_id': 18575}]","[{'number': 1, 'created': '2017-05-11 08:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d384fc9e26a6ee4ce740584b2df11570db12a1e8', 'message': 'Add ParameterGroups for the nested stack during stack.validate\n\nChange-Id: I032144733bde916f8de8644121b9fb1ef29baef2\n'}, {'number': 2, 'created': '2017-05-16 06:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3539fa07cce8028b45647b514cd4b39d628971dd', 'message': 'Add ParameterGroups for the nested stack during stack.validate\n\nChange-Id: I032144733bde916f8de8644121b9fb1ef29baef2\n'}, {'number': 3, 'created': '2017-05-17 09:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/08f871aa5992718c01e16313478c8001817502b1', 'message': 'Add ParameterGroups for the nested stack during stack.validate\n\nParameterGroups is added only for the parent stack and all\nthe nested stack are missing this information. Added\nParameterGroups for all the nested stack also, if present.\n\nChange-Id: I032144733bde916f8de8644121b9fb1ef29baef2\n'}, {'number': 4, 'created': '2017-05-17 11:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/15485ac0c20d5816f1b0b08110f96d76cbc241e7', 'message': 'Add ParameterGroups for the nested stack during stack.validate\n\nParameterGroups is added only for the parent stack and all\nthe nested stack are missing this information. Added\nParameterGroups for all the nested stack also, if present.\n\nChange-Id: I032144733bde916f8de8644121b9fb1ef29baef2\n'}, {'number': 5, 'created': '2017-05-18 09:41:55.000000000', 'files': ['heat/tests/test_validate.py', 'releasenotes/notes/parameter-group-for-nested-04559c4de34e326a.yaml', 'heat/engine/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/b15b7e568cb362a4604ea4bc80c0f10834056afd', 'message': 'Add ParameterGroups for the nested stack during stack.validate\n\nParameterGroups is added only for the parent stack and all\nthe nested stack are missing this information. Added\nParameterGroups for all the nested stack also, if present.\n\nChange-Id: I032144733bde916f8de8644121b9fb1ef29baef2\n'}]",4,463941,b15b7e568cb362a4604ea4bc80c0f10834056afd,19,6,5,18575,,,0,"Add ParameterGroups for the nested stack during stack.validate

ParameterGroups is added only for the parent stack and all
the nested stack are missing this information. Added
ParameterGroups for all the nested stack also, if present.

Change-Id: I032144733bde916f8de8644121b9fb1ef29baef2
",git fetch https://review.opendev.org/openstack/heat refs/changes/41/463941/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/service.py'],1,d384fc9e26a6ee4ce740584b2df11570db12a1e8,nested_param_group, # Add parameter_groups if it is present in nested stack nested_pg = parameter_groups.ParameterGroups( stk[r].nested().t) if nested_pg.parameter_groups: n_result[r].update({'ParameterGroups': nested_pg.parameter_groups}) ,,8,0
openstack%2Fi18n~master~I0b7676caa3ef836d03d9620ae55bea1fdda72d6a,openstack/i18n,master,I0b7676caa3ef836d03d9620ae55bea1fdda72d6a,Remove Python 2 dependency from docs build,MERGED,2017-03-26 10:02:50.000000000,2017-05-29 06:07:34.000000000,2017-05-29 06:07:34.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 6882}, {'_account_id': 14482}]","[{'number': 1, 'created': '2017-03-26 10:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/2d53b0c7e74455c54ca1ec1417d06639e33bfaf2', 'message': 'Remove Python 2 environment\n\nTo use Python 3 as default.\n\nChange-Id: I0b7676caa3ef836d03d9620ae55bea1fdda72d6a\n'}, {'number': 2, 'created': '2017-05-18 12:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/45f33090f28b6b37c6ca6ffe100a64d2b3f7400b', 'message': 'Remove Python 2 dependency from docs build\n\nChange-Id: I0b7676caa3ef836d03d9620ae55bea1fdda72d6a\n'}, {'number': 3, 'created': '2017-05-19 13:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/6621d602b1c2e5fa2623768116ae99200acca9b1', 'message': 'Remove Python 2 dependency from docs build\n\nChange-Id: I0b7676caa3ef836d03d9620ae55bea1fdda72d6a\n'}, {'number': 4, 'created': '2017-05-19 14:52:06.000000000', 'files': ['doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/i18n/commit/9863413692dee78904f6e3af17d2a01dcf5b1ee3', 'message': 'Remove Python 2 dependency from docs build\n\nChange-Id: I0b7676caa3ef836d03d9620ae55bea1fdda72d6a\n'}]",7,449990,9863413692dee78904f6e3af17d2a01dcf5b1ee3,24,4,4,10497,,,0,"Remove Python 2 dependency from docs build

Change-Id: I0b7676caa3ef836d03d9620ae55bea1fdda72d6a
",git fetch https://review.opendev.org/openstack/i18n refs/changes/90/449990/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'tox.ini']",2,2d53b0c7e74455c54ca1ec1417d06639e33bfaf2,docs-build-py3-support,,basepython = python2,3,5
openstack%2Fcongress~master~I8c67843b563ec43491cb1adb90122420ee7fc072,openstack/congress,master,I8c67843b563ec43491cb1adb90122420ee7fc072,Enable HA test,MERGED,2017-05-17 11:06:04.000000000,2017-05-29 06:06:33.000000000,2017-05-29 06:06:33.000000000,"[{'_account_id': 3}, {'_account_id': 8878}, {'_account_id': 11278}, {'_account_id': 18591}]","[{'number': 1, 'created': '2017-05-17 11:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/7bdedc5796f81e338f11614ae21af9408bb89f8f', 'message': 'Enable HA test\n\nChange-Id: I8c67843b563ec43491cb1adb90122420ee7fc072\n'}, {'number': 2, 'created': '2017-05-18 04:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/94ec9342b64153c1adac622d3d50c30b229aeaa8', 'message': 'Enable HA test\n\nCloses-Bug:#1689220\nChange-Id: I8c67843b563ec43491cb1adb90122420ee7fc072\n'}, {'number': 3, 'created': '2017-05-24 03:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/8750eda5f8327185dd7752329f5c6aae8694cfd5', 'message': 'Enable HA test\n\nCloses-Bug:#1689220\nChange-Id: I8c67843b563ec43491cb1adb90122420ee7fc072\n'}, {'number': 4, 'created': '2017-05-24 03:46:36.000000000', 'files': ['congress_tempest_tests/tests/scenario/congress_ha/test_ha.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/19edf0488c190286f36551dd50d6ab3c0027a6e2', 'message': 'Enable HA test\n\nCloses-Bug:#1689220\nChange-Id: I8c67843b563ec43491cb1adb90122420ee7fc072\n'}]",0,465504,19edf0488c190286f36551dd50d6ab3c0027a6e2,24,4,4,11278,,,0,"Enable HA test

Closes-Bug:#1689220
Change-Id: I8c67843b563ec43491cb1adb90122420ee7fc072
",git fetch https://review.opendev.org/openstack/congress refs/changes/04/465504/1 && git format-patch -1 --stdout FETCH_HEAD,['congress_tempest_tests/tests/scenario/congress_ha/test_ha.py'],1,7bdedc5796f81e338f11614ae21af9408bb89f8f,bug/1689220," #self.services_client = self.admin_manager.identity_services_client self.services_client = self.os_admin.identity_services_v3_client self.endpoints_client = self.os_admin.endpoints_v3_client self.replica_service_id = resp['service']['id'] interface='public', url=replica_url) port_num = CONF.congressha.replica_port #LOG.debug(""creating client credential %s, %s"", auth_prov, client_type) LOG.debug(""anu:Check replica server status"") #LOG.debug(""creating client credential %s, %s"") LOG.debug(""anu:replica server ready"") LOG.debug(""anu:connection refused"") LOG.debug(""anu:Replica server not ready"") #@decorators.skip_because(bug=""1689220"") LOG.debug('anu:created fake driver:') LOG.debug('anu:started replica:') LOG.debug('anu:replica ready:')"," self.services_client = self.admin_manager.identity_services_client self.endpoints_client = self.admin_manager.endpoints_client self.replica_service_id = resp['OS-KSADM:service']['id'] publicurl=replica_url, adminurl=replica_url, internalurl=replica_url) LOG.debug(""Check replica server status"") LOG.debug(""replica server ready"") LOG.debug(""connection refused"") LOG.debug(""Replica server not ready"") @decorators.skip_because(bug=""1689220"")",19,13
openstack%2Fcinder~master~I713fdbb83eb008b9e93fc4a743d37cb05d6d77d4,openstack/cinder,master,I713fdbb83eb008b9e93fc4a743d37cb05d6d77d4,INFINIDAT: add support for generic volume groups,MERGED,2017-03-27 13:52:16.000000000,2017-05-29 05:56:35.000000000,2017-05-26 16:11:16.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12778}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 22683}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-03-27 13:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/245dcd296bd9a69ef4c521263b88714fa0b5a9eb', 'message': 'INFINIDAT driver: add support for generic volume groups\n\nChange-Id: I713fdbb83eb008b9e93fc4a743d37cb05d6d77d4\n'}, {'number': 2, 'created': '2017-05-16 07:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9056931dc94774e99ef56ba4edbb4a8551eabcab', 'message': 'INFINIDAT driver: add support for generic volume groups\n\nChange-Id: I713fdbb83eb008b9e93fc4a743d37cb05d6d77d4\n'}, {'number': 3, 'created': '2017-05-16 09:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/70cc8a33e4f0a64011d61e40f883bee140c4d01f', 'message': 'INFINIDAT driver: add support for generic volume groups\n\nChange-Id: I713fdbb83eb008b9e93fc4a743d37cb05d6d77d4\n'}, {'number': 4, 'created': '2017-05-17 13:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b99e94c415bfd907ca67879fd724982804e8496', 'message': 'INFINIDAT: add support for generic volume groups\n\nThis supports following functionality:\n* Create generic volume group\n* Delete generic volume group\n* Update (add/remove) volume from a generic volume group\n* Create group from a source, where source can be another group or a snapshot of a group\n* Create consistent group snapshot\n* Delete consistent group snapshot\n\nChange-Id: I713fdbb83eb008b9e93fc4a743d37cb05d6d77d4\nImplements: blueprint add-infinidat-generic-volume-groups\n'}, {'number': 5, 'created': '2017-05-18 12:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1073565ba0eaf886d754427f7117cbdeca239484', 'message': 'INFINIDAT: add support for generic volume groups\n\nThis supports following functionality:\n* Create generic volume group\n* Delete generic volume group\n* Update (add/remove) volume from a generic volume group\n* Create group from a source, where source can be another group or a snapshot of a group\n* Create consistent group snapshot\n* Delete consistent group snapshot\n\nChange-Id: I713fdbb83eb008b9e93fc4a743d37cb05d6d77d4\nImplements: blueprint add-infinidat-generic-volume-groups\n'}, {'number': 6, 'created': '2017-05-21 13:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ed4ee23e02e1ed2b9ea3758c5f057b174156fa9', 'message': 'INFINIDAT: add support for generic volume groups\n\nThis supports following functionality:\n* Create generic volume group\n* Delete generic volume group\n* Update (add/remove) volume from a generic volume group\n* Create group from a source, where source can be another group or a snapshot of a group\n* Create consistent group snapshot\n* Delete consistent group snapshot\n\nChange-Id: I713fdbb83eb008b9e93fc4a743d37cb05d6d77d4\nImplements: blueprint add-infinidat-generic-volume-groups\n'}, {'number': 7, 'created': '2017-05-25 14:48:41.000000000', 'files': ['releasenotes/notes/infinidat-group-support-44cd0715de1ea502.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f308007862bd7362a509fc549f683b1aa94aa159', 'message': 'INFINIDAT: add support for generic volume groups\n\nThis supports following functionality:\n* Create generic volume group\n* Delete generic volume group\n* Update (add/remove) volume from a generic volume group\n* Create group from a source, where source can be another\n  group or a snapshot of a group\n* Create consistent group snapshot\n* Delete consistent group snapshot\n\nChange-Id: I713fdbb83eb008b9e93fc4a743d37cb05d6d77d4\nImplements: blueprint add-infinidat-generic-volume-groups\n'}]",11,450236,f308007862bd7362a509fc549f683b1aa94aa159,164,45,7,22683,,,0,"INFINIDAT: add support for generic volume groups

This supports following functionality:
* Create generic volume group
* Delete generic volume group
* Update (add/remove) volume from a generic volume group
* Create group from a source, where source can be another
  group or a snapshot of a group
* Create consistent group snapshot
* Delete consistent group snapshot

Change-Id: I713fdbb83eb008b9e93fc4a743d37cb05d6d77d4
Implements: blueprint add-infinidat-generic-volume-groups
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/450236/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']",2,245dcd296bd9a69ef4c521263b88714fa0b5a9eb,bp/add-infinidat-generic-volume-groups,"from cinder.objects import fields def _make_cg_name(self, cinder_group): return 'openstack-cg-%s' % cinder_group.id def _make_group_snapshot_name(self, cinder_group_snap): return 'openstack-group-snap-%s' % cinder_group_snap.id def _get_infinidat_cg(self, cinder_group): group_name = self._make_cg_name(cinder_group) infinidat_cg = self._system.cons_groups.safe_get(name=group_name) if infinidat_cg is None: msg = _('Consistency group ""%s"" not found') % group_name LOG.error(msg) raise exception.InvalidGroup(message=msg) return infinidat_cg @infinisdk_to_cinder_exceptions def create_group(self, context, group): """"""Creates a group."""""" self._system.cons_groups.create(name=self._make_cg_name(group), pool=self._get_infinidat_pool()) return dict(status=fields.GroupStatus.AVAILABLE) @infinisdk_to_cinder_exceptions def delete_group(self, context, group, volumes): """"""Deletes a group."""""" try: infinidat_cg = self._get_infinidat_cg(group) except exception.InvalidGroup: pass # group not found else: infinidat_cg.safe_delete() for volume in volumes: self.delete_volume(volume) return None, None @infinisdk_to_cinder_exceptions def update_group(self, context, group, add_volumes=None, remove_volumes=None): """"""Updates a group."""""" add_volumes = add_volumes if add_volumes else [] remove_volumes = remove_volumes if remove_volumes else [] infinidat_cg = self._get_infinidat_cg(group) for vol in add_volumes: infinidat_volume = self._get_infinidat_volume(vol) infinidat_cg.add_member(infinidat_volume) for vol in remove_volumes: infinidat_volume = self._get_infinidat_volume(vol) infinidat_cg.remove_member(infinidat_volume) return None, None, None @infinisdk_to_cinder_exceptions def create_group_from_src(self, context, group, volumes, group_snapshot=None, snapshots=None, source_group=None, source_vols=None): """"""Creates a group from source."""""" # The source is either group_snapshot+snapshots or # source_group+source_vols. The target is group+voluems # we assume the source (source_vols / snapshots) are in the same # order as the target (volumes) self.create_group(context, group) new_group = self._get_infinidat_cg(group) if group_snapshot is not None and snapshots is not None: for volume, snapshot in zip(volumes, snapshots): self.create_volume_from_snapshot(volume, snapshot) new_infinidat_volume = self._get_infinidat_volume(volume) new_group.add_member(new_infinidat_volume) elif source_group is not None and source_vols is not None: for volume, src_vol in zip(volumes, source_vols): self.create_cloned_volume(volume, src_vol) new_infinidat_volume = self._get_infinidat_volume(volume) new_group.add_member(new_infinidat_volume) return None, None @infinisdk_to_cinder_exceptions def create_group_snapshot(self, context, group_snapshot, snapshots): """"""Creates a group_snapshot."""""" infinidat_cg = self._get_infinidat_cg(group_snapshot.group) group_snap_name = self._make_group_snapshot_name(group_snapshot) new_group = infinidat_cg.create_snapshot(name=group_snap_name) # update the names of the individual snapshots in the new snapgroup # to match the names we use for cinder snapshots for infinidat_snapshot in new_group.get_members(): parent_name = infinidat_snapshot.get_parent().get_name() for cinder_snapshot in snapshots: if cinder_snapshot.volume_id in parent_name: snapshot_name = self._make_snapshot_name(cinder_snapshot) infinidat_snapshot.update_name(snapshot_name) return None, None @infinisdk_to_cinder_exceptions def delete_group_snapshot(self, context, group_snapshot, snapshots): """"""Deletes a group_snapshot."""""" cgsnap_name = self._make_group_snapshot_name(group_snapshot) infinidat_cgsnap = self._system.cons_groups.safe_get(name=cgsnap_name) if infinidat_cgsnap is not None: if not infinidat_cgsnap.is_snapgroup(): msg = _('Group ""%s"" is not a snapshot group') % cgsnap_name LOG.error(msg) raise exception.InvalidGroupSnapshot(message=msg) infinidat_cgsnap.safe_delete() for snapshot in snapshots: self.delete_snapshot(snapshot) return None, None",,205,1
openstack%2Ftempest~master~I5f9d8fb852faa92708158fca7d7bc7f5ac2fd933,openstack/tempest,master,I5f9d8fb852faa92708158fca7d7bc7f5ac2fd933,Remove the exception description of auth_version in doc,MERGED,2017-05-27 08:44:33.000000000,2017-05-29 05:38:49.000000000,2017-05-29 05:38:49.000000000,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 5689}]","[{'number': 1, 'created': '2017-05-27 08:44:33.000000000', 'files': ['doc/source/configuration.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/cc0c0485437ffbfb93c6391a8553921f9ef3bfce', 'message': 'Remove the exception description of auth_version in doc\n\nAfter I2601433585740030ab61433f0e8ca1a919275d9f is merged,\nthe exception description of auth_version is no longer\ntrue, this is to remove it.\n\nChange-Id: I5f9d8fb852faa92708158fca7d7bc7f5ac2fd933\n'}]",0,468630,cc0c0485437ffbfb93c6391a8553921f9ef3bfce,8,3,1,20190,,,0,"Remove the exception description of auth_version in doc

After I2601433585740030ab61433f0e8ca1a919275d9f is merged,
the exception description of auth_version is no longer
true, this is to remove it.

Change-Id: I5f9d8fb852faa92708158fca7d7bc7f5ac2fd933
",git fetch https://review.opendev.org/openstack/tempest refs/changes/30/468630/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration.rst'],1,cc0c0485437ffbfb93c6391a8553921f9ef3bfce,auth_version,keystone's v2 or v3 api for communicating with keystone. The two uri options are,keystone's v2 or v3 api for communicating with keystone. (except for the identity api tests which will test a specific version) The two uri options are,1,2
openstack%2Fkeystone~master~I4c5d67ae7f23dedefb0601fdefa7c89373fa0dee,openstack/keystone,master,I4c5d67ae7f23dedefb0601fdefa7c89373fa0dee,Updated from global requirements,MERGED,2017-05-26 01:48:46.000000000,2017-05-29 05:38:06.000000000,2017-05-29 05:38:06.000000000,"[{'_account_id': 3}, {'_account_id': 17860}]","[{'number': 1, 'created': '2017-05-26 01:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/092c021132b5035eb28c7f0feb1f4e2d5cd54230', 'message': 'Updated from global requirements\n\nChange-Id: I4c5d67ae7f23dedefb0601fdefa7c89373fa0dee\n'}, {'number': 2, 'created': '2017-05-26 17:20:23.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/58d7eaca41f83a52e100cbae9afe7d3faf1b9693', 'message': 'Updated from global requirements\n\nChange-Id: I4c5d67ae7f23dedefb0601fdefa7c89373fa0dee\n'}]",0,468242,58d7eaca41f83a52e100cbae9afe7d3faf1b9693,12,2,2,11131,,,0,"Updated from global requirements

Change-Id: I4c5d67ae7f23dedefb0601fdefa7c89373fa0dee
",git fetch https://review.opendev.org/openstack/keystone refs/changes/42/468242/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,092c021132b5035eb28c7f0feb1f4e2d5cd54230,openstack/requirements,oslo.middleware>=3.27.0 # Apache-2.0,oslo.middleware>=3.10.0 # Apache-2.0,1,1
openstack%2Fmasakari-monitors~master~Ia57bb5281e19f211bddcfab8f3289d3cd9bfead0,openstack/masakari-monitors,master,Ia57bb5281e19f211bddcfab8f3289d3cd9bfead0,Fix typo of hostmonitor,MERGED,2017-04-19 09:31:02.000000000,2017-05-29 05:30:37.000000000,2017-05-29 05:30:37.000000000,"[{'_account_id': 3}, {'_account_id': 8716}, {'_account_id': 8988}]","[{'number': 1, 'created': '2017-04-19 09:31:02.000000000', 'files': ['masakarimonitors/hostmonitor/host_handler/handle_host.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/bc06c90e67c518fcb0af08e1a0608a1e112f82e0', 'message': ""Fix typo of hostmonitor\n\nThere is a typo in hostmonitor's comment.\nThis patch fixed it.\n\nChange-Id: Ia57bb5281e19f211bddcfab8f3289d3cd9bfead0\n""}]",0,457962,bc06c90e67c518fcb0af08e1a0608a1e112f82e0,7,3,1,23226,,,0,"Fix typo of hostmonitor

There is a typo in hostmonitor's comment.
This patch fixed it.

Change-Id: Ia57bb5281e19f211bddcfab8f3289d3cd9bfead0
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/62/457962/1 && git format-patch -1 --stdout FETCH_HEAD,['masakarimonitors/hostmonitor/host_handler/handle_host.py'],1,bc06c90e67c518fcb0af08e1a0608a1e112f82e0,fix_typo, # Execute tcpdump command., # Execute crmadmin command.,1,1
openstack%2Fglance_store~master~Ib7923543862275629d86a0fa76baa88722493bad,openstack/glance_store,master,Ib7923543862275629d86a0fa76baa88722493bad,Fixed tests due to updated oslo.config,MERGED,2017-05-16 15:19:08.000000000,2017-05-29 05:25:01.000000000,2017-05-29 05:25:01.000000000,"[{'_account_id': 3}, {'_account_id': 24}, {'_account_id': 308}, {'_account_id': 979}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 2537}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6484}, {'_account_id': 6873}, {'_account_id': 7575}, {'_account_id': 8158}, {'_account_id': 11583}, {'_account_id': 11975}, {'_account_id': 12807}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 18791}, {'_account_id': 20676}, {'_account_id': 21722}, {'_account_id': 22816}]","[{'number': 1, 'created': '2017-05-16 15:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/9c3ab6aa15d5a5ec5d84404e80cc3b7e5650ce12', 'message': 'Fixed tests due to updated oslo.config\n\nChange-Id: Ib7923543862275629d86a0fa76baa88722493bad\nCloses-Bug: #1691132\n'}, {'number': 2, 'created': '2017-05-27 01:27:06.000000000', 'files': ['glance_store/tests/unit/test_vmware_store.py', 'glance_store/tests/unit/test_rbd_store.py', 'glance_store/tests/unit/test_swift_store.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/2c65bf7f1a6e2dc0a17d321bb65ae7c2c2f80e19', 'message': 'Fixed tests due to updated oslo.config\n\nChange-Id: Ib7923543862275629d86a0fa76baa88722493bad\nCloses-Bug: #1691132\n'}]",3,465093,2c65bf7f1a6e2dc0a17d321bb65ae7c2c2f80e19,16,26,2,18551,,,0,"Fixed tests due to updated oslo.config

Change-Id: Ib7923543862275629d86a0fa76baa88722493bad
Closes-Bug: #1691132
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/93/465093/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/tests/unit/test_rbd_store.py', 'glance_store/tests/unit/test_swift_store.py', 'glance_store/backend.py']",3,9c3ab6aa15d5a5ec5d84404e80cc3b7e5650ce12,bug/1691132," 'sheepdog', 'cinder', 'vsphere', 'vmware'),"," 'sheepdog', 'cinder', 'vsphere'),",6,16
openstack%2Fpython-tackerclient~master~I987ad7bda04b0a161c56284f77964063490a18e0,openstack/python-tackerclient,master,I987ad7bda04b0a161c56284f77964063490a18e0,Auth_creds should show the user specified values,MERGED,2016-11-23 12:14:57.000000000,2017-05-29 05:05:35.000000000,2017-05-29 05:05:35.000000000,"[{'_account_id': 3}, {'_account_id': 2874}, {'_account_id': 10487}, {'_account_id': 16237}, {'_account_id': 19999}, {'_account_id': 22588}]","[{'number': 1, 'created': '2016-11-23 12:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/c4c7d3049262d0154c4806a4b2b17fa2e4ccdc02', 'message': 'Auth_creds should show the user specified credentials\n\nMake auth_creds display the user specified credentials. Normally\nvim configuration yaml file has no project_id and user_id.\n\nChange-Id: I987ad7bda04b0a161c56284f77964063490a18e0\nCloses-Bug: #1629169\n'}, {'number': 2, 'created': '2016-11-23 12:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/9d7e0676c19f4de247fdd67aabb8a382ddf5a4e2', 'message': 'Auth_creds should show the user specified credentials\n\nMake auth_creds display the user specified credentials. Normally\nvim configuration yaml file has no project_id and user_id.\n\nChange-Id: I987ad7bda04b0a161c56284f77964063490a18e0\nCloses-Bug: #1629169\n'}, {'number': 3, 'created': '2016-11-23 12:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/11d7e6fac4a23ab9e363baa6fb18f11b130f8658', 'message': 'Auth_creds should show the user specified credentials\n\nMake auth_creds display the user specified credentials. Normally\nvim configuration yaml file has no project_id and user_id.\n\nChange-Id: I987ad7bda04b0a161c56284f77964063490a18e0\nCloses-Bug: #1629169\n'}, {'number': 4, 'created': '2016-11-23 12:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/f4b8a57876f7b5350b5ce9e5ab37f48d87acdef1', 'message': 'Auth_creds should show the user specified credentials\n\nMake auth_creds display the user specified credentials. Normally\nvim configuration yaml file has no project_id and user_id.\n\nChange-Id: I987ad7bda04b0a161c56284f77964063490a18e0\nCloses-Bug: #1629169\n'}, {'number': 5, 'created': '2016-11-23 13:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/a8bd05fe159ff57063eb750058003465b524f473', 'message': 'Auth_creds should show the user specified credentials\n\nMake auth_creds display the user specified credentials. Normally\nvim configuration yaml file has no project_id and user_id.\n\nChange-Id: I987ad7bda04b0a161c56284f77964063490a18e0\nCloses-Bug: #1629169\n'}, {'number': 6, 'created': '2016-12-01 09:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/bf9788e18559628f35c6ebf3f40b8e3540c65d8b', 'message': 'Auth_creds should show the user specified credentials\n\nMake auth_creds display the user specified credentials\nwhich are project_name and username. Normally\nvim configuration yaml file has no project_id and user_id.\n\nChange-Id: I987ad7bda04b0a161c56284f77964063490a18e0\nCloses-Bug: #1629169\n'}, {'number': 7, 'created': '2017-05-27 06:44:25.000000000', 'files': ['tackerclient/tests/unit/vm/test_vim_utils.py', 'tackerclient/tacker/v1_0/nfvo/vim_utils.py', 'tackerclient/tests/unit/vm/test_cli10_vim.py'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/506f4cc4b9b9e98dd32e2798d8dfc73c2f1c823b', 'message': 'Auth_creds should show the user specified values\n\nMake auth_creds display the user specified credentials\nwhich are project_name and username. Normally\nvim configuration yaml file has no project_id and user_id\n\nChange-Id: I987ad7bda04b0a161c56284f77964063490a18e0\nCloses-Bug: #1629169\n'}]",0,401233,506f4cc4b9b9e98dd32e2798d8dfc73c2f1c823b,24,6,7,16237,,,0,"Auth_creds should show the user specified values

Make auth_creds display the user specified credentials
which are project_name and username. Normally
vim configuration yaml file has no project_id and user_id

Change-Id: I987ad7bda04b0a161c56284f77964063490a18e0
Closes-Bug: #1629169
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/33/401233/7 && git format-patch -1 --stdout FETCH_HEAD,"['tackerclient/tacker/v1_0/nfvo/vim_utils.py', 'tackerclient/tests/unit/vm/test_cli10_vim.py']",2,c4c7d3049262d0154c4806a4b2b17fa2e4ccdc02,bug/1629169," 'name': 'abc', self.auth_cred = {'username': 'xyz', 'password': '12345', 'user_domain_name': 'user_domain_name'}"," 'name': 'abc', 'id': '', self.auth_cred = {'username': 'xyz', 'password': '12345', 'user_id': '', 'user_domain_name': 'user_domain_name'}",6,8
openstack%2Fnova~master~Ia160ee0ac9ab06531b92a01700538f2b3112d392,openstack/nova,master,Ia160ee0ac9ab06531b92a01700538f2b3112d392,VM with cross_az_attach raised InvaldBDM error,ABANDONED,2016-12-12 09:12:25.000000000,2017-05-29 04:54:01.000000000,,"[{'_account_id': 3}, {'_account_id': 6849}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17292}, {'_account_id': 20040}]","[{'number': 1, 'created': '2016-12-12 09:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76e175b3be433ecfe55881e8081f9bad5430c37f', 'message': ""VM with cross_az_attach raised InvaldBDM error\n\nWhen cross_az_attach option is set fo False and you try to boot\nan instance with bootable volume created before, invald BDM error\nraised.\n\nThe reason is that get method is defined in\noslo.versionedobjects.base which else flow raised error.\nAlso, instance is an object which doesn't have dictionary value\nin msg.\n\nChange-Id: Ia160ee0ac9ab06531b92a01700538f2b3112d392\nCloses-Bug: #1648324\n""}, {'number': 2, 'created': '2016-12-14 01:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b04ef5c108431b9de69ce3509a7fe5467b848ca7', 'message': ""VM with cross_az_attach raised InvaldBDM error\n\nWhen cross_az_attach option is set fo False and you try to boot\nan instance with bootable volume created before, invald BDM error\nraised.\n\nThe reason is that get method is defined in\noslo.versionedobjects.base which else flow raised error.\nAlso, instance is an object which doesn't have dictionary value\nin msg.\n\nChange-Id: Ia160ee0ac9ab06531b92a01700538f2b3112d392\nCloses-Bug: #1648324\n""}, {'number': 3, 'created': '2016-12-22 15:22:27.000000000', 'files': ['nova/availability_zones.py', 'nova/tests/unit/test_availability_zones.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3fde9d85f808fc4fe2bcf97c53186687bc449eed', 'message': ""VM with cross_az_attach raised InvaldBDM error\n\nWhen cross_az_attach option is set fo False and you try to boot\nan instance with bootable volume created before, invald BDM error\nraised.\n\nThe reason is that get method is defined in\noslo.versionedobjects.base which else flow raised error.\nAlso, instance is an object which doesn't have dictionary value\nin msg.\n\nChange-Id: Ia160ee0ac9ab06531b92a01700538f2b3112d392\nCloses-Bug: #1648324\n""}]",4,409680,3fde9d85f808fc4fe2bcf97c53186687bc449eed,43,16,3,1523,,,0,"VM with cross_az_attach raised InvaldBDM error

When cross_az_attach option is set fo False and you try to boot
an instance with bootable volume created before, invald BDM error
raised.

The reason is that get method is defined in
oslo.versionedobjects.base which else flow raised error.
Also, instance is an object which doesn't have dictionary value
in msg.

Change-Id: Ia160ee0ac9ab06531b92a01700538f2b3112d392
Closes-Bug: #1648324
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/409680/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/volume/cinder.py', 'nova/availability_zones.py']",2,76e175b3be433ecfe55881e8081f9bad5430c37f,bug/1648324," host = instance.get('host', None)", host = instance.get('host'),2,2
openstack%2Fcinder~master~I5bb38441c61512497b8f5fec1aec530454b4a03e,openstack/cinder,master,I5bb38441c61512497b8f5fec1aec530454b4a03e,Rolling Upgrades: Fix Volume OVO,MERGED,2017-05-25 12:49:03.000000000,2017-05-29 04:28:21.000000000,2017-05-25 15:49:19.000000000,"[{'_account_id': 3}, {'_account_id': 7173}, {'_account_id': 9008}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-05-25 12:49:03.000000000', 'files': ['cinder/objects/volume.py', 'cinder/tests/unit/objects/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3449e74d8b959a103b4dbca7e6fb3a281728a07a', 'message': ""Rolling Upgrades: Fix Volume OVO\n\nOn commit 325f99a64aeb3e7a768904781d854c19bb540580 we bumped Volume\nversion to 1.5 when we added 2 new fields related to groups, but we\ndidn't add backward compatibility code to version 1.4, which means that\nwe'll break rolling upgrades if this information is passed between\nservices.\n\nTrivialFix\n\nChange-Id: I5bb38441c61512497b8f5fec1aec530454b4a03e\n""}]",0,468022,3449e74d8b959a103b4dbca7e6fb3a281728a07a,32,27,1,9535,,,0,"Rolling Upgrades: Fix Volume OVO

On commit 325f99a64aeb3e7a768904781d854c19bb540580 we bumped Volume
version to 1.5 when we added 2 new fields related to groups, but we
didn't add backward compatibility code to version 1.4, which means that
we'll break rolling upgrades if this information is passed between
services.

TrivialFix

Change-Id: I5bb38441c61512497b8f5fec1aec530454b4a03e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/468022/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/objects/volume.py', 'cinder/tests/unit/objects/test_volume.py']",2,3449e74d8b959a103b4dbca7e6fb3a281728a07a,fix/OVO-volume,"from cinder.objects import base as ovo_base @ddt.data('1.6', '1.7') def test_obj_make_compatible_cluster_added(self, version): extra_data = {'cluster_name': 'cluster_name', 'cluster': objects.Cluster()} volume = objects.Volume(self.context, host='host', **extra_data) serializer = ovo_base.CinderObjectSerializer(version) primitive = serializer.serialize_entity(self.context, volume) converted_volume = objects.Volume.obj_from_primitive(primitive) is_set = version == '1.7' for key in extra_data: self.assertEqual(is_set, converted_volume.obj_attr_is_set(key)) self.assertEqual('host', converted_volume.host) @ddt.data('1.9', '1.10') def test_obj_make_compatible_groups_added(self, version): extra_data = {'group_id': fake.GROUP_ID, 'group': objects.Group()} volume = objects.Volume(self.context, host='host', **extra_data) serializer = ovo_base.CinderObjectSerializer(version) primitive = serializer.serialize_entity(self.context, volume) converted_volume = objects.Volume.obj_from_primitive(primitive) is_set = version == '1.10' for key in extra_data: self.assertEqual(is_set, converted_volume.obj_attr_is_set(key)) self.assertEqual('host', converted_volume.host) ",,38,4
openstack%2Fcinder~master~I855f63073950bd9a6f1e847666cae1d444ee0067,openstack/cinder,master,I855f63073950bd9a6f1e847666cae1d444ee0067,Rolling Upgrades: Fix Group OVO,MERGED,2017-05-25 12:01:01.000000000,2017-05-29 02:52:42.000000000,2017-05-25 15:17:02.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 17565}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-05-25 12:01:01.000000000', 'files': ['cinder/tests/unit/objects/test_group.py', 'cinder/objects/group.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/db4855a5643930c9a9014d1f3157a014f6e489c5', 'message': ""Rolling Upgrades: Fix Group OVO\n\nOn commit 325f99a64aeb3e7a768904781d854c19bb540580 we bumped group\nversion to 1.1 when we added 3 new fields but we didn't add backward\ncompatibility code to version 1.0, which means that we'll break rolling\nupgrades if this information is passed between services.\n\nTrivialFix\n\nChange-Id: I855f63073950bd9a6f1e847666cae1d444ee0067\n""}]",0,468016,db4855a5643930c9a9014d1f3157a014f6e489c5,34,27,1,9535,,,0,"Rolling Upgrades: Fix Group OVO

On commit 325f99a64aeb3e7a768904781d854c19bb540580 we bumped group
version to 1.1 when we added 3 new fields but we didn't add backward
compatibility code to version 1.0, which means that we'll break rolling
upgrades if this information is passed between services.

TrivialFix

Change-Id: I855f63073950bd9a6f1e847666cae1d444ee0067
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/468016/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/objects/test_group.py', 'cinder/objects/group.py']",2,db4855a5643930c9a9014d1f3157a014f6e489c5,fix/OVO-group,"from oslo_utils import versionutils from oslo_versionedobjects import fields def obj_make_compatible(self, primitive, target_version): """"""Make an object representation compatible with target version."""""" super(Group, self).obj_make_compatible(primitive, target_version) target_version = versionutils.convert_version_to_tuple(target_version) if target_version < (1, 1): for key in ('group_snapshot_id', 'source_group_id', 'group_snapshots'): primitive.pop(key, None) ",from oslo_versionedobjects import fields,31,1
openstack%2Ftacker~master~I3c793ea1f353940b2605b880ba2f1bdb99630c04,openstack/tacker,master,I3c793ea1f353940b2605b880ba2f1bdb99630c04,Fix the alignment of description in vnffgd template,MERGED,2017-05-27 05:56:36.000000000,2017-05-29 02:05:51.000000000,2017-05-29 02:05:51.000000000,"[{'_account_id': 3}, {'_account_id': 2874}, {'_account_id': 19999}]","[{'number': 1, 'created': '2017-05-27 05:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1f3e8cceb89ec3e6e0d802a5f0741b6b41095162', 'message': 'Fix the alignment of description in vnffgd template\n\nChange-Id: I3c793ea1f353940b2605b880ba2f1bdb99630c04\nCloses-Bug: #1689431\n'}, {'number': 2, 'created': '2017-05-27 09:07:35.000000000', 'files': ['doc/source/devref/vnffgd_template_description.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/57821c6fac6120a36d7e59357a05ec3424bdee6a', 'message': 'Fix the alignment of description in vnffgd template\n\nChange-Id: I3c793ea1f353940b2605b880ba2f1bdb99630c04\nCloses-Bug: #1689431\n'}]",1,468615,57821c6fac6120a36d7e59357a05ec3424bdee6a,10,3,2,16237,,,0,"Fix the alignment of description in vnffgd template

Change-Id: I3c793ea1f353940b2605b880ba2f1bdb99630c04
Closes-Bug: #1689431
",git fetch https://review.opendev.org/openstack/tacker refs/changes/15/468615/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/vnffgd_template_description.rst'],1,1f3e8cceb89ec3e6e0d802a5f0741b6b41095162,bug/1689431, description: Sample VNFFG template, description: Sample VNFFG template,1,1
openstack%2Fos-testr~master~Ia814cd086d59bb6dc386690882798dde7d31ed83,openstack/os-testr,master,Ia814cd086d59bb6dc386690882798dde7d31ed83,Updated from global requirements,MERGED,2017-05-17 03:56:10.000000000,2017-05-29 01:59:46.000000000,2017-05-29 01:59:46.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2017-05-17 03:56:10.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-testr/commit/e605216736c1867d7f03d0530f6e26fc20e064ce', 'message': 'Updated from global requirements\n\nChange-Id: Ia814cd086d59bb6dc386690882798dde7d31ed83\n'}]",0,465336,e605216736c1867d7f03d0530f6e26fc20e064ce,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Ia814cd086d59bb6dc386690882798dde7d31ed83
",git fetch https://review.opendev.org/openstack/os-testr refs/changes/36/465336/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e605216736c1867d7f03d0530f6e26fc20e064ce,openstack/requirements,"sphinx!=1.6.1,>=1.5.1 # BSD",sphinx>=1.5.1 # BSD,1,1
openstack%2Fmox3~stable%2Focata~I11bc26ed624f608456813b0039170b1e5df39592,openstack/mox3,stable/ocata,I11bc26ed624f608456813b0039170b1e5df39592,Updated from global requirements,MERGED,2017-05-15 23:32:32.000000000,2017-05-29 01:59:02.000000000,2017-05-29 01:59:02.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-05-15 23:32:32.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/mox3/commit/9983cf738aa7062c982ee675a19180437d5a2c29', 'message': 'Updated from global requirements\n\nChange-Id: I11bc26ed624f608456813b0039170b1e5df39592\n'}]",0,464817,9983cf738aa7062c982ee675a19180437d5a2c29,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I11bc26ed624f608456813b0039170b1e5df39592
",git fetch https://review.opendev.org/openstack/mox3 refs/changes/17/464817/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9983cf738aa7062c982ee675a19180437d5a2c29,openstack/requirements,pbr>=1.8 # Apache-2.0,"pbr<2.0.0,>=1.8 # Apache-2.0",1,1
openstack%2Fmurano~master~If30ccbad3e01c4c978c4edc389aa2ac47fd7a3bd,openstack/murano,master,If30ccbad3e01c4c978c4edc389aa2ac47fd7a3bd,Updated from global requirements,MERGED,2017-05-26 01:50:06.000000000,2017-05-29 01:48:12.000000000,2017-05-29 01:48:12.000000000,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 14107}, {'_account_id': 15168}, {'_account_id': 23186}, {'_account_id': 23317}]","[{'number': 1, 'created': '2017-05-26 01:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/fedc3a4f4fb4d2f27cc8096e062417af34f030c4', 'message': 'Updated from global requirements\n\nChange-Id: If30ccbad3e01c4c978c4edc389aa2ac47fd7a3bd\n'}, {'number': 2, 'created': '2017-05-26 17:21:49.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/murano/commit/123f24a942898c59baa5806944c332723f5aaa1a', 'message': 'Updated from global requirements\n\nChange-Id: If30ccbad3e01c4c978c4edc389aa2ac47fd7a3bd\n'}]",0,468246,123f24a942898c59baa5806944c332723f5aaa1a,56,6,2,11131,,,0,"Updated from global requirements

Change-Id: If30ccbad3e01c4c978c4edc389aa2ac47fd7a3bd
",git fetch https://review.opendev.org/openstack/murano refs/changes/46/468246/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,fedc3a4f4fb4d2f27cc8096e062417af34f030c4,openstack/requirements,oslo.middleware>=3.27.0 # Apache-2.0,oslo.middleware>=3.10.0 # Apache-2.0,1,1
openstack%2Fzaqar-ui~master~I5a91b94b07f8820fb889091e824d8a635462c496,openstack/zaqar-ui,master,I5a91b94b07f8820fb889091e824d8a635462c496,Imported Translations from Zanata,MERGED,2017-05-26 08:03:59.000000000,2017-05-29 01:17:37.000000000,2017-05-29 01:17:37.000000000,"[{'_account_id': 3}, {'_account_id': 16352}]","[{'number': 1, 'created': '2017-05-26 08:03:59.000000000', 'files': ['zaqar_ui/locale/tr_TR/LC_MESSAGES/django.po', 'zaqar_ui/locale/tr_TR/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/039f600d4606574e8c6c06501a6ead288925a5b1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: I5a91b94b07f8820fb889091e824d8a635462c496\n'}]",0,468305,039f600d4606574e8c6c06501a6ead288925a5b1,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: I5a91b94b07f8820fb889091e824d8a635462c496
",git fetch https://review.opendev.org/openstack/zaqar-ui refs/changes/05/468305/1 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar_ui/locale/tr_TR/LC_MESSAGES/django.po', 'zaqar_ui/locale/tr_TR/LC_MESSAGES/djangojs.po']",2,039f600d4606574e8c6c06501a6ead288925a5b1,zanata/translations,"# Mücahit Büyükyılmaz <mucahit@deltanoc.com>, 2015. #zanata # OpenStack Infra <zanata@openstack.org>, 2015. #zanata # Andreas Jaeger <jaegerandi@gmail.com>, 2016. #zanata # işbaran akçayır <isbaran@gmail.com>, 2017. #zanata msgid """" msgstr """" ""Project-Id-Version: zaqar-ui 3.0.0.0b2.dev12\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2017-05-18 00:09+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2017-05-25 11:52+0000\n"" ""Last-Translator: Copied by Zanata <copied-by-zanata@zanata.org>\n"" ""Language-Team: Turkish (Turkey)\n"" ""Language: tr-TR\n"" ""Plural-Forms: nplurals=2; plural=(n > 1);\n"" ""X-Generator: Zanata 3.9.6\n"" ""X-POOTLE-MTIME: 1495713078.000000\n"" msgid ""A queue name between 1-256 characters is required."" msgstr ""1-256 karakter uzunluğunda kuyruk ismi gerekiyor."" msgid ""Actions"" msgstr ""İşlemler"" msgid ""Age"" msgstr ""Yaş"" msgid """" ""An optional request component related to storage-specific options in YAML "" ""format."" msgstr """" ""İsteğe bağlı, depolamaya-özel seçeneklerle ilgili YAML biçiminde istek "" ""bileşeni."" msgid ""Capabilities"" msgstr ""Yetenekler"" msgid ""Choose resource to purge"" msgstr ""Temizlenecek kaynağı seçin"" msgid ""Claimed Messages"" msgstr ""İstenen İletiler"" msgid ""Confirm Delete Pool"" msgid_plural ""Confirm Delete Pools"" msgstr[0] ""Havuz Silmeyi Onayla"" msgstr[1] ""Havuzları Silmeyi Onayla"" msgid ""Confirm Delete Pool Flavor"" msgid_plural ""Confirm Delete Pool Flavors"" msgstr[0] ""Havuz Niteliği Silmeyi Onayla"" msgstr[1] ""Havuz Niteliklerini Silmeyi Onayla"" msgid ""Confirm Delete Queue"" msgid_plural ""Confirm Delete queues"" msgstr[0] ""Kuyruk Silmeyi Onayla"" msgstr[1] ""Kuyrukları Silmeyi Onayla"" msgid ""Confirmed"" msgstr ""Onaylandı"" msgid ""Create"" msgstr ""Oluştur"" msgid ""Create Pool"" msgstr ""Havuz Oluştur"" msgid ""Create Pool Flavor"" msgstr ""Havuz Niteliği Oluştur"" msgid ""Create Queue"" msgstr ""Kuyruk Oluştur"" msgid ""Create Queues"" msgstr ""Kuyruklar Oluştur"" msgid ""Create Subscription"" msgstr ""Abonelik Oluştur"" msgid ""Delete"" msgstr ""Sil"" msgid ""Delete Pool"" msgid_plural ""Delete Pools"" msgstr[0] ""Havuzu Sil"" msgstr[1] ""Havuzları Sil"" msgid ""Delete Pool Flavor"" msgid_plural ""Delete Pool Flavors"" msgstr[0] ""Havuz Niteliğini Sil"" msgstr[1] ""Havuz Niteliklerini Sil"" msgid ""Delete Pool Flavors"" msgstr ""Havuz Niteliklerini Sil"" msgid ""Delete Pools"" msgstr ""Havuzları Sil"" msgid ""Delete Queue"" msgid_plural ""Delete Queues"" msgstr[0] ""Kuyruğu Sil"" msgstr[1] ""Kuyrukları Sil"" msgid ""Delete Queues"" msgstr ""Kuyrukları Sil"" #, python-format msgid ""Deleted Pool Flavor: %s."" msgid_plural ""Deleted Pool Flavors: %s."" msgstr[0] ""Havuz Niteliği Silindi: %s."" msgstr[1] ""Havuz Nitelikleri Silindi: %s."" #, python-format msgid ""Deleted Pool: %s."" msgid_plural ""Deleted Pools: %s."" msgstr[0] ""Havuz Silindi: %s."" msgstr[1] ""Havuzlar Silindi: %s."" #, python-format msgid ""Deleted Queue: %s."" msgid_plural ""Deleted Queues: %s."" msgstr[0] ""Kuyruk Silindi: %s."" msgstr[1] ""Kuyruklar Silindi: %s."" msgid ""Describes flavor-specific capabilities in YAML format."" msgstr ""Niteliğe-özel yetenekleri YAML biçiminde tanımlar."" msgid ""Enter a queue name"" msgstr ""Bir kuyruk ismi girin"" msgid ""Enter a subscriber"" msgstr ""Bir abone girin"" msgid ""Free Messages"" msgstr ""Bağımsız İletiler"" msgid ""Group"" msgstr ""Grup"" msgid ""Group of the pool."" msgstr ""Havuzun grubu."" msgid ""Messages"" msgstr ""İletiler"" msgid ""Name"" msgstr ""İsim"" msgid ""Name of the flavor."" msgstr ""Nitelik adı."" msgid ""Name of the pool."" msgstr ""Havuz ismi."" msgid """" ""Note that you can create a queue without defining metadata.\n"" "" The metadata step is optional but recommended."" msgstr """" ""Metaveri tanımlamadan kuyruk oluşturabileceğinizi unutmayın.\n"" ""Metaveri adımı tavsiye edilir ama isteğe bağlıdır."" msgid ""Note that you can create a subscription without defining options."" msgstr ""Seçenekleri belirtmeden abonelik oluşturabileceğinizi unutmayın."" msgid ""Options"" msgstr ""Seçenekler"" msgid ""Pool"" msgstr ""Havuz"" #, python-format msgid ""Pool %s was successfully created."" msgstr ""Havuz %s başarıyla oluşturuldu."" #, python-format msgid ""Pool %s was successfully updated."" msgstr ""Havuz %s başarıyla güncellendi."" msgid ""Pool Flavor"" msgstr ""Havuz Niteliği"" msgid ""Pool Flavors"" msgstr ""Havuz Nitelikleri"" msgid ""Pool Group"" msgstr ""Havuz Grubu"" #, python-format msgid ""Pool flavor %s was successfully created."" msgstr ""Havuz niteliği %s başarıyla oluşturuldu."" #, python-format msgid ""Pool flavor %s was successfully updated."" msgstr ""Havuz niteliği %s başarıyla güncellendi."" msgid ""Pool group for flavor."" msgstr ""Nitelik için havuz grubu."" msgid ""Pools"" msgstr ""Havuzlar"" msgid ""Purge"" msgstr ""Temizle"" msgid ""Purge Queue"" msgstr ""Kuyruğu Temizle"" #, python-format msgid ""Queue %s has been purged successfully."" msgstr ""Kuyruk %s başarıyla temizlendi."" #, python-format msgid ""Queue %s was successfully created."" msgstr ""Kuyruk %s başarıyla oluşturuldu."" #, python-format msgid ""Queue %s was successfully updated."" msgstr ""Kuyruk %s başarıyla güncellendi."" msgid ""Queue Details"" msgstr ""Kuyruk Ayrıntıları"" msgid ""Queue Metadata"" msgstr ""Kuyruk Metaverisi"" msgid ""Queue Name"" msgstr ""Kuyruk İsmi"" msgid ""Queues"" msgstr ""Kuyruklar"" #, python-format msgid ""Removed %(subscriber)s subscriber from the %(queue)s queue."" msgstr ""%(subscriber)s abonesi %(queue)s kuyruğundan çıkarıldı."" msgid ""Subscriber"" msgstr ""Abone"" msgid ""Subscribers must be in the form of mailto, HTTP, or HTTPS."" msgstr ""Aboneler mailto, HTTP, veya HTTPS biçiminde olmalı."" msgid ""Subscription"" msgstr ""Abonelik"" #, python-format msgid ""Subscription %s was successfully created."" msgstr ""%s aboneliği başarıyla oluşturuldu."" msgid ""Subscriptions"" msgstr ""Abonelikler"" msgid ""The TTL for a subscription must be at least 60 seconds long."" msgstr ""Bir abonelik için TTL en az 60 sn uzunluğunda olmalı."" msgid ""Time To Live"" msgstr ""Yaşam Süresi"" msgid ""Time to Live"" msgstr ""Yaşama Süresi"" msgid ""Total Messages"" msgstr ""Toplam İleti"" msgid ""URI"" msgstr ""URI"" msgid ""URI for storage engine of this pool."" msgstr ""Bu havuzun depolama motoru için URI."" msgid ""Unable to add subscription."" msgstr ""Abonelik eklenemedi."" msgid ""Unable to create the flavor."" msgstr ""Nitelik oluşturulamadı."" msgid ""Unable to create the pool."" msgstr ""Havuz oluşturulamadı."" msgid ""Unable to create the queue."" msgstr ""Kuyruk oluşturulamadı."" #, python-format msgid ""Unable to delete Pool Flavor: %s."" msgid_plural ""Unable to delete Pool Flavors: %s."" msgstr[0] ""Havuz Niteliği silinemiyor: %s."" msgstr[1] ""Havuz Nitelikleri silinemiyor: %s."" #, python-format msgid ""Unable to delete Pool: %s."" msgid_plural ""Unable to delete Pools: %s."" msgstr[0] ""Havuz silinemedi: %s."" msgstr[1] ""Havuzlar silinemedi: %s."" #, python-format msgid ""Unable to delete Queue: %s."" msgid_plural ""Unable to delete Queues: %s."" msgstr[0] ""Kuyruk silinemiyor: %s."" msgstr[1] ""Kuyruklar silinemiyor: %s."" msgid ""Unable to delete subscription."" msgstr ""Abonelik silinemedi."" msgid ""Unable to purge the queue."" msgstr ""Kuyruk temizlenemedi."" msgid ""Unable to retrieve the Queue."" msgstr ""Kuyruk alınamadı."" msgid ""Unable to retrieve the Queues."" msgstr ""Kuyruklar alınamadı."" msgid ""Unable to retrieve the flavor."" msgstr ""Nitelik alınamadı."" msgid ""Unable to retrieve the flavors."" msgstr ""Nitelikler alınamadı."" msgid ""Unable to retrieve the pool."" msgstr ""Havuz alınamadı."" msgid ""Unable to retrieve the pools."" msgstr ""Havuzlar alınamadı."" msgid ""Unable to update the flavor."" msgstr ""Nitelik güncellenemedi."" msgid ""Unable to update the pool."" msgstr ""Havuz güncellenemedi."" msgid ""Unable to update the queue."" msgstr ""Kuyruk güncellenemedi."" msgid ""Update"" msgstr ""Güncelle"" msgid ""Update Pool"" msgstr ""Havuzu Güncelle"" msgid ""Update Pool Flavor"" msgstr ""Havuz Niteliğini Güncelle"" msgid ""Update Queue"" msgstr ""Kuyruğu Güncelle"" msgid ""Weight"" msgstr ""Ağırlık"" msgid ""Weight of the pool."" msgstr ""Havuz ağırlığı."" #, python-format msgid ""You are not allowed to delete pool flavors: %s"" msgstr ""Havuz niteliklerini silme yetkiniz yok: %s"" #, python-format msgid ""You are not allowed to delete pools: %s"" msgstr ""Havuzları silme yetkiniz yok: %s"" #, python-format msgid ""You are not allowed to delete queues: %s"" msgstr ""Kuyruk silme yetkiniz yok: %s"" #, python-format msgid ""You have selected \""%s\"". Deleted Pool Flavor is not recoverable."" msgid_plural """" ""You have selected \""%s\"". Deleted Pool Flavors are not recoverable."" msgstr[0] ""\""%s\"" seçtiniz. Silinen Havuz Niteliği geri getirilemez."" msgstr[1] ""\""%s\"" seçtiniz. Silinen Havuz Nitelikleri geri getirilemez."" #, python-format msgid ""You have selected \""%s\"". Deleted Pool is not recoverable."" msgid_plural ""You have selected \""%s\"". Deleted Pools are not recoverable."" msgstr[0] ""\""%s\"" seçtiniz. Silinen Havuz geri alınamaz."" msgstr[1] ""\""%s\"" seçtiniz. Silinen Havuzlar geri alınamaz."" #, python-format msgid ""You have selected \""%s\"". Deleted queue is not recoverable."" msgid_plural ""You have selected \""%s\"". Deleted queues are not recoverable."" msgstr[0] ""\""%s\"" seçtiniz. Silinen kuyruk geri getirilemez."" msgstr[1] ""\""%s\"" seçtiniz. Silinen kuyruklar geri getirilemez."" msgid """" ""You must specify one of the pool groups that is configured in storage pools."" msgstr """" ""Depolama havuzlarında yapılandırılmış havuz gruplarından birini "" ""belirtmelisiniz."" msgid ""e.g. mongodb://127.0.0.1:27017"" msgstr ""örn. mongodb://127.0.0.1:27017"" ",,423,0
openstack%2Fcinder~master~I2085c040d7140f8ba685f6a36c4d3b5b30b14103,openstack/cinder,master,I2085c040d7140f8ba685f6a36c4d3b5b30b14103,SMBFS: drop JSON file storing allocation data,MERGED,2017-05-11 13:08:58.000000000,2017-05-28 23:34:51.000000000,2017-05-26 14:17:08.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-05-11 13:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/44359f889b858086ea339a429155dd281f2ed99c', 'message': ""SMBFS: drop JSON file storing allocation data\n\nDue to the fact that we cannot query in-use images, some time ago\nwe've started storing the total disk image allocated size within\na JSON file.\n\nAt the same time, we're caching those values within the service.\n\nAs we're aiming to support A-A deployments, also considering the\nrisk of having this file corrupted, we're now dropping it.\n\nInstead of using a separate DB, we're just going to rely on the\nCinder DB when retrieving the allocated space for a specific share.\n\nOne reason why we did not go with this approach from the beginning\nis the fact that we needed support for reporting each share as a pool,\nwhich is accomplished by the other patches from this chain.\n\nChange-Id: I2085c040d7140f8ba685f6a36c4d3b5b30b14103\n""}, {'number': 2, 'created': '2017-05-19 12:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/49b7b7be6f9bac60a900d63fac4e7a36fdf3b1c3', 'message': ""SMBFS: drop JSON file storing allocation data\n\nDue to the fact that we cannot query in-use images, some time ago\nwe've started storing the total disk image allocated size within\na JSON file.\n\nAt the same time, we're caching those values within the service.\n\nAs we're aiming to support A-A deployments, also considering the\nrisk of having this file corrupted, we're now dropping it.\n\nInstead of using a separate DB, we're just going to rely on the\nCinder DB when retrieving the allocated space for a specific share.\n\nOne reason why we did not go with this approach from the beginning\nis the fact that we needed support for reporting each share as a pool,\nwhich is accomplished by the other patches from this chain.\n\nChange-Id: I2085c040d7140f8ba685f6a36c4d3b5b30b14103\n""}, {'number': 3, 'created': '2017-05-22 09:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6a741ceb9ff577a9053fd84c98704f4e459a9aed', 'message': ""SMBFS: drop JSON file storing allocation data\n\nDue to the fact that we cannot query in-use images, some time ago\nwe've started storing the total disk image allocated size within\na JSON file.\n\nAt the same time, we're caching those values within the service.\n\nAs we're aiming to support A-A deployments, also considering the\nrisk of having this file corrupted, we're now dropping it.\n\nInstead of using a separate DB, we're just going to rely on the\nCinder DB when retrieving the allocated space for a specific share.\n\nOne reason why we did not go with this approach from the beginning\nis the fact that we needed support for reporting each share as a pool,\nwhich is accomplished by the other patches from this chain.\n\nChange-Id: I2085c040d7140f8ba685f6a36c4d3b5b30b14103\n""}, {'number': 4, 'created': '2017-05-25 08:46:31.000000000', 'files': ['cinder/volume/drivers/windows/smbfs.py', 'cinder/tests/unit/windows/test_smbfs.py', 'releasenotes/notes/smbfs-drop-alloc-data-file-8b94da952a3b1548.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/792da5dbbf854a3f23414cf4c53babd44db033cf', 'message': ""SMBFS: drop JSON file storing allocation data\n\nDue to the fact that we cannot query in-use images, some time ago\nwe've started storing the total disk image allocated size within\na JSON file.\n\nAt the same time, we're caching those values within the service.\n\nAs we're aiming to support A-A deployments, also considering the\nrisk of having this file corrupted, we're now dropping it.\n\nInstead of using a separate DB, we're just going to rely on the\nCinder DB when retrieving the allocated space for a specific share.\n\nOne reason why we did not go with this approach from the beginning\nis the fact that we needed support for reporting each share as a pool,\nwhich is accomplished by the other patches from this chain.\n\nChange-Id: I2085c040d7140f8ba685f6a36c4d3b5b30b14103\n""}]",0,463989,792da5dbbf854a3f23414cf4c53babd44db033cf,134,39,4,8543,,,0,"SMBFS: drop JSON file storing allocation data

Due to the fact that we cannot query in-use images, some time ago
we've started storing the total disk image allocated size within
a JSON file.

At the same time, we're caching those values within the service.

As we're aiming to support A-A deployments, also considering the
risk of having this file corrupted, we're now dropping it.

Instead of using a separate DB, we're just going to rely on the
Cinder DB when retrieving the allocated space for a specific share.

One reason why we did not go with this approach from the beginning
is the fact that we needed support for reporting each share as a pool,
which is accomplished by the other patches from this chain.

Change-Id: I2085c040d7140f8ba685f6a36c4d3b5b30b14103
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/463989/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/windows/smbfs.py', 'cinder/tests/unit/windows/test_smbfs.py']",2,44359f889b858086ea339a429155dd281f2ed99c,smb_pools," mock_check_os_platform, @mock.patch.object(smbfs, 'context') @mock.patch.object(smbfs.WindowsSmbfsDriver, '_get_pool_name_from_share') def test_get_total_allocated(self, mock_get_pool_name, mock_ctxt): fake_pool_name = 'pool0' fake_host_name = 'fake_host@fake_backend' fake_vol_sz_sum = 5 mock_db = mock.Mock() mock_db.volume_data_get_for_host.return_value = [ mock.sentinel.vol_count, fake_vol_sz_sum] self._smbfs_driver.host = fake_host_name self._smbfs_driver.db = mock_db mock_get_pool_name.return_value = fake_pool_name allocated = self._smbfs_driver._get_total_allocated( mock.sentinel.share) self.assertEqual(fake_vol_sz_sum << 30, allocated) mock_get_pool_name.assert_called_once_with(mock.sentinel.share) mock_db.volume_data_get_for_host.assert_called_once_with( context=mock_ctxt.get_admin_context.return_value, host='fake_host@fake_backend#pool0')","import functoolsdef requires_allocation_data_update(expected_size): def wrapper(func): @functools.wraps(func) def inner(inst, *args, **kwargs): with mock.patch.object( inst._smbfs_driver, 'update_disk_allocation_data') as fake_update: func(inst, *args, **kwargs) fake_update.assert_called_once_with(inst.volume, expected_size) return inner return wrapper _FAKE_ALLOCATION_DATA_PATH = os.path.join('fake_dir', 'fake_allocation_data') self._smbfs_driver._alloc_info_file_path = ( self._FAKE_ALLOCATION_DATA_PATH) @mock.patch.object(smbfs.WindowsSmbfsDriver, '_setup_allocation_data') mock_setup_alloc_data, mock_check_os_platform, mock_setup_alloc_data.assert_called_once_with() @mock.patch.object(smbfs, 'open', create=True) @mock.patch('os.path.exists') @mock.patch.object(smbfs.fileutils, 'ensure_tree') @mock.patch('json.load') def _test_setup_allocation_data(self, mock_json_load, mock_ensure_tree, mock_exists, mock_open, allocation_data_exists=False): mock_exists.return_value = allocation_data_exists self._smbfs_driver._update_allocation_data_file = mock.Mock() self._smbfs_driver._setup_allocation_data() if allocation_data_exists: fd = mock_open.return_value.__enter__.return_value mock_json_load.assert_called_once_with(fd) self.assertEqual(mock_json_load.return_value, self._smbfs_driver._allocation_data) else: mock_ensure_tree.assert_called_once_with( os.path.dirname(self._FAKE_ALLOCATION_DATA_PATH)) update_func = self._smbfs_driver._update_allocation_data_file update_func.assert_called_once_with() def test_setup_allocation_data_file_unexisting(self): self._test_setup_allocation_data() def test_setup_allocation_data_file_existing(self): self._test_setup_allocation_data(allocation_data_exists=True) def _test_update_allocation_data(self, virtual_size_gb=None, volume_exists=True): self._smbfs_driver._update_allocation_data_file = mock.Mock() update_func = self._smbfs_driver._update_allocation_data_file fake_alloc_data = { self._FAKE_SHARE_HASH: { 'total_allocated': self._FAKE_TOTAL_ALLOCATED}} if volume_exists: fake_alloc_data[self._FAKE_SHARE_HASH][ self.volume.name] = self.volume.size self._smbfs_driver._allocation_data = fake_alloc_data self._smbfs_driver.update_disk_allocation_data(self.volume, virtual_size_gb) vol_allocated_size = fake_alloc_data[self._FAKE_SHARE_HASH].get( self.volume.name, None) if not virtual_size_gb: expected_total_allocated = (self._FAKE_TOTAL_ALLOCATED - self.volume.size) self.assertIsNone(vol_allocated_size) else: exp_added = (self.volume.size if not volume_exists else virtual_size_gb - self.volume.size) expected_total_allocated = (self._FAKE_TOTAL_ALLOCATED + exp_added) self.assertEqual(virtual_size_gb, vol_allocated_size) update_func.assert_called_once_with() self.assertEqual( expected_total_allocated, fake_alloc_data[self._FAKE_SHARE_HASH]['total_allocated']) def test_update_allocation_data_volume_deleted(self): self._test_update_allocation_data() def test_update_allocation_data_volume_extended(self): self._test_update_allocation_data( virtual_size_gb=self.volume.size + 1) def test_update_allocation_data_volume_created(self): self._test_update_allocation_data( virtual_size_gb=self.volume.size, volume_exists=False) @requires_allocation_data_update(expected_size=_FAKE_VOLUME_SIZE) @requires_allocation_data_update(expected_size=None) @requires_allocation_data_update(expected_size=_FAKE_VOLUME_SIZE) @mock.patch.object(smbfs.WindowsSmbfsDriver, '_create_volume_from_snapshot') def test_create_volume_from_snapshot(self, mock_create_volume): self._smbfs_driver.create_volume_from_snapshot(self.volume, self.snapshot) mock_create_volume.assert_called_once_with(self.volume, self.snapshot) @requires_allocation_data_update(expected_size=_FAKE_VOLUME_SIZE) @mock.patch.object(smbfs.WindowsSmbfsDriver, '_create_cloned_volume') def test_create_cloned_volume(self, mock_create_volume): self._smbfs_driver.create_cloned_volume(self.volume, mock.sentinel.src_vol) mock_create_volume.assert_called_once_with(self.volume, mock.sentinel.src_vol) ",34,196
openstack%2Fos-brick~master~I9b12f6b1ad2612403de7c904a7752ef6960480e2,openstack/os-brick,master,I9b12f6b1ad2612403de7c904a7752ef6960480e2,Removed invalid comments in tox.ini [flake8],MERGED,2017-05-21 21:35:33.000000000,2017-05-28 23:29:43.000000000,2017-05-28 23:29:43.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 16595}, {'_account_id': 19852}, {'_account_id': 22248}, {'_account_id': 24502}]","[{'number': 1, 'created': '2017-05-21 21:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d60d832351ac61cf131566c487362536d71e47d1', 'message': 'Removed invalid comments in tox.ini [flake8]\n\nChange-Id: I9b12f6b1ad2612403de7c904a7752ef6960480e2\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n'}, {'number': 2, 'created': '2017-05-23 22:46:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/22f750002578e7a623b50f2f13455765f558875c', 'message': 'Removed invalid comments in tox.ini [flake8]\n\nChange-Id: I9b12f6b1ad2612403de7c904a7752ef6960480e2\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n'}]",0,466555,22f750002578e7a623b50f2f13455765f558875c,23,10,2,23942,,,0,"Removed invalid comments in tox.ini [flake8]

Change-Id: I9b12f6b1ad2612403de7c904a7752ef6960480e2
Signed-off-by: Maciej Kucia <maciej@kucia.net>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/55/466555/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d60d832351ac61cf131566c487362536d71e47d1,hacking,,# H803 skipped on purpose per list discussion.# # H402 one line docstring needs punctuation # reason: removed in hacking (https://review.openstack.org/#/c/101497/) # # H803 git commit title should not end with period # reason: removed in hacking (https://review.openstack.org/#/c/101498/) # # Due to the upgrade to hacking 0.9.2 the following checking are # ignored on purpose for the moment and should be re-enabled. ,0,11
openstack%2Fos-brick~master~Ia08ce1b9cdab968c0965bc04aa7d202190cb4bb3,openstack/os-brick,master,Ia08ce1b9cdab968c0965bc04aa7d202190cb4bb3,Stop ignoring H904 hacking rule in tox,MERGED,2017-05-21 21:35:33.000000000,2017-05-28 23:29:38.000000000,2017-05-28 23:29:38.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 16595}, {'_account_id': 19852}, {'_account_id': 22248}, {'_account_id': 24502}]","[{'number': 1, 'created': '2017-05-21 21:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/724c7d3a9b99bacd9bb5616c89ea0f57dfa31639', 'message': 'Enable H904 hacking rule\n\nThis change is one in the series of changes to\nalign os-brick with cinder rules.\n\nChange-Id: Ia08ce1b9cdab968c0965bc04aa7d202190cb4bb3\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n'}, {'number': 2, 'created': '2017-05-23 22:46:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a14653b2551633f55ad3ad7c6040e924a75e5508', 'message': ""Stop ignoring H904 hacking rule in tox\n\nThis change is one in the series of changes to\nalign os-brick with Cinder rules.\n\n- H904 'Wrap long lines in parentheses instead of a backslash'\n\nSee following for more information:\n https://github.com/openstack-dev/hacking\n\nChange-Id: Ia08ce1b9cdab968c0965bc04aa7d202190cb4bb3\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n""}]",0,466554,a14653b2551633f55ad3ad7c6040e924a75e5508,26,11,2,23942,,,0,"Stop ignoring H904 hacking rule in tox

This change is one in the series of changes to
align os-brick with Cinder rules.

- H904 'Wrap long lines in parentheses instead of a backslash'

See following for more information:
 https://github.com/openstack-dev/hacking

Change-Id: Ia08ce1b9cdab968c0965bc04aa7d202190cb4bb3
Signed-off-by: Maciej Kucia <maciej@kucia.net>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/54/466554/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,724c7d3a9b99bacd9bb5616c89ea0f57dfa31639,hacking,ignore = E251,"# H904 wrap long lines in parentheses instead of a backslash # reason: removed in hacking (https://review.openstack.org/#/c/101701/) #ignore = E251,H904",1,4
openstack%2Fos-brick~master~Ib8ca7ecb5494cd4fcae0657525d4c17bfc4ae37e,openstack/os-brick,master,Ib8ca7ecb5494cd4fcae0657525d4c17bfc4ae37e,encryptors: Delay removal of legacy provider names,MERGED,2017-05-08 18:38:04.000000000,2017-05-28 23:06:02.000000000,2017-05-28 23:06:02.000000000,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 9732}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 15941}, {'_account_id': 16898}, {'_account_id': 19852}, {'_account_id': 22796}, {'_account_id': 24502}]","[{'number': 1, 'created': '2017-05-08 18:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d7290c9cdb765c60dcd6576206fb58ed252062dc', 'message': ""WIP - encryptors: Delay removal of legacy provider names\n\nInitially Ic155bd29d46059832cce970bf60375e7e472eca6 had aimed to have these\nlegacy provider names removed during the Pike cycle. While removing references\nto these names in Tempest via Id221414d74af8413084c7935b762f93b7ce43c42 it was\nhighlighted that this wouldn't be possible until Queens and the eventual EOL of\nNewton that does not support the new provider constants introduced in Ocata.\n\nChange-Id: Ib8ca7ecb5494cd4fcae0657525d4c17bfc4ae37e\n""}, {'number': 2, 'created': '2017-05-08 19:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/32b965673148f5f740a876330fd43e5d8210baba', 'message': ""encryptors: Delay removal of legacy provider names\n\nInitially Ic155bd29d46059832cce970bf60375e7e472eca6 had aimed to remove these\nlegacy provider names during the Pike cycle. While removing references\nto these names in Tempest via Id221414d74af8413084c7935b762f93b7ce43c42 it was\nhighlighted that this wouldn't be possible until Queens and the eventual EOL of\nNewton.\n\nThis change simply updates the logged deprecation warnings and adds a\nnew releasenote highlighting that these legancy provider names will\nremain until Queens.\n\nChange-Id: Ib8ca7ecb5494cd4fcae0657525d4c17bfc4ae37e\n""}, {'number': 3, 'created': '2017-05-16 08:27:12.000000000', 'files': ['os_brick/tests/encryptors/test_base.py', 'os_brick/encryptors/__init__.py', 'releasenotes/notes/delay-legacy-encryption-provider-name-deprecation-c0d07be3f0d92afd.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0ff2c0086ca115560405285368e0bd8b34ce1c88', 'message': ""encryptors: Delay removal of legacy provider names\n\nInitially Ic155bd29d46059832cce970bf60375e7e472eca6 had aimed to remove these\nlegacy provider names during the Pike cycle. While removing references\nto these names in Tempest via Id221414d74af8413084c7935b762f93b7ce43c42 it was\nhighlighted that this wouldn't be possible until Queens and the eventual EOL of\nNewton.\n\nThis change simply updates the logged deprecation warnings and adds a\nnew releasenote highlighting that these legancy provider names will\nremain until Queens.\n\nChange-Id: Ib8ca7ecb5494cd4fcae0657525d4c17bfc4ae37e\n""}]",0,463389,0ff2c0086ca115560405285368e0bd8b34ce1c88,30,10,3,10135,,,0,"encryptors: Delay removal of legacy provider names

Initially Ic155bd29d46059832cce970bf60375e7e472eca6 had aimed to remove these
legacy provider names during the Pike cycle. While removing references
to these names in Tempest via Id221414d74af8413084c7935b762f93b7ce43c42 it was
highlighted that this wouldn't be possible until Queens and the eventual EOL of
Newton.

This change simply updates the logged deprecation warnings and adds a
new releasenote highlighting that these legancy provider names will
remain until Queens.

Change-Id: Ib8ca7ecb5494cd4fcae0657525d4c17bfc4ae37e
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/89/463389/3 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/encryptors/__init__.py'],1,d7290c9cdb765c60dcd6576206fb58ed252062dc,deprecate_legacy_encryptor_provider_names," # TODO(lyarwood): Remove the following in Queens and raise an "" will be blocked in the Queens release of"" ""%(provider)s will be blocked with the Queens """," # TODO(lyarwood): Remove the following in Pike and raise an "" will be blocked in the Pike release of"" ""%(provider)s will be blocked with the Pike """,3,3
openstack%2Fkolla-kubernetes~master~I9e97950e77424bd0da944ac15e730c98e5c22dea,openstack/kolla-kubernetes,master,I9e97950e77424bd0da944ac15e730c98e5c22dea,Make sure pathfinder can find passwords.yml in etc/kolla,MERGED,2017-05-23 14:54:21.000000000,2017-05-28 22:26:45.000000000,2017-05-28 22:26:45.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 19384}]","[{'number': 1, 'created': '2017-05-23 14:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/2214e3b76a9fb247c3bfb60046c7e2314c3eea9b', 'message': 'Make sure pathfinder can find passwords.yml in etc/kolla\n\nChange-Id: I9e97950e77424bd0da944ac15e730c98e5c22dea\n'}, {'number': 2, 'created': '2017-05-23 16:45:49.000000000', 'files': ['kolla_kubernetes/pathfinder.py', 'tools/test.sh', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/b8d4f1ef366388e1522cf8fb465ee8b23dd3d641', 'message': 'Make sure pathfinder can find passwords.yml in etc/kolla\n\nChange-Id: I9e97950e77424bd0da944ac15e730c98e5c22dea\n'}]",0,467276,b8d4f1ef366388e1522cf8fb465ee8b23dd3d641,15,3,2,6637,,,0,"Make sure pathfinder can find passwords.yml in etc/kolla

Change-Id: I9e97950e77424bd0da944ac15e730c98e5c22dea
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/76/467276/2 && git format-patch -1 --stdout FETCH_HEAD,['kolla_kubernetes/pathfinder.py'],1,2214e3b76a9fb247c3bfb60046c7e2314c3eea9b,etc_kolla_pathfinder," './etc/kolla')),"," '../kolla/etc/kolla')),",1,1
openstack%2Fcinder~master~I52da65b1987f4ebdcb5c513f2a316bba9de8e892,openstack/cinder,master,I52da65b1987f4ebdcb5c513f2a316bba9de8e892,Add RemoteFSPoolMixin,MERGED,2017-01-23 16:45:35.000000000,2017-05-28 21:52:38.000000000,2017-05-25 18:33:29.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16952}, {'_account_id': 17103}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23310}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}]","[{'number': 1, 'created': '2017-01-23 16:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/20e528b5bfe1131dfafcd976cc137e0b3a623794', 'message': 'Add RemoteFSPoolMixin\n\nThis change adds a mixin class to the remotefs module so that\nany related volume driver can easily start reporting each share\nas a storage pool.\n\nPartially Implements: blueprint remotefs-pools-support\n\nChange-Id: I52da65b1987f4ebdcb5c513f2a316bba9de8e892\n'}, {'number': 2, 'created': '2017-03-21 14:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/edce5fc41f9f38d155513de2652b776bc9271002', 'message': 'Add RemoteFSPoolMixin\n\nThis change adds a mixin class to the remotefs module so that\nany related volume driver can easily start reporting each share\nas a storage pool.\n\nPartially Implements: blueprint remotefs-pools-support\n\nChange-Id: I52da65b1987f4ebdcb5c513f2a316bba9de8e892\n'}, {'number': 3, 'created': '2017-03-21 15:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b1924c7efdd2585c3870f574d7654c34b65a44e', 'message': 'Add RemoteFSPoolMixin\n\nThis change adds a mixin class to the remotefs module so that\nany related volume driver can easily start reporting each share\nas a storage pool.\n\nPartially Implements: blueprint remotefs-pools-support\n\nChange-Id: I52da65b1987f4ebdcb5c513f2a316bba9de8e892\n'}, {'number': 4, 'created': '2017-04-13 11:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6db6617ed65fb93c357cf2f63fc70784685f4f3f', 'message': 'Add RemoteFSPoolMixin\n\nThis change adds a mixin class to the remotefs module so that\nany related volume driver can easily start reporting each share\nas a storage pool.\n\nPartially Implements: blueprint remotefs-pools-support\n\nChange-Id: I52da65b1987f4ebdcb5c513f2a316bba9de8e892\n'}, {'number': 5, 'created': '2017-05-19 12:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4c2a599c9abbd247396609758200996dafe17f63', 'message': 'Add RemoteFSPoolMixin\n\nThis change adds a mixin class to the remotefs module so that\nany related volume driver can easily start reporting each share\nas a storage pool.\n\nPartially Implements: blueprint remotefs-pools-support\n\nChange-Id: I52da65b1987f4ebdcb5c513f2a316bba9de8e892\n'}, {'number': 6, 'created': '2017-05-25 08:46:31.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/daeab949a7d18dbdcd44bc5391023f3fcf8b91ad', 'message': 'Add RemoteFSPoolMixin\n\nThis change adds a mixin class to the remotefs module so that\nany related volume driver can easily start reporting each share\nas a storage pool.\n\nPartially Implements: blueprint remotefs-pools-support\n\nChange-Id: I52da65b1987f4ebdcb5c513f2a316bba9de8e892\n'}]",0,424234,daeab949a7d18dbdcd44bc5391023f3fcf8b91ad,168,56,6,8543,,,0,"Add RemoteFSPoolMixin

This change adds a mixin class to the remotefs module so that
any related volume driver can easily start reporting each share
as a storage pool.

Partially Implements: blueprint remotefs-pools-support

Change-Id: I52da65b1987f4ebdcb5c513f2a316bba9de8e892
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/424234/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py']",2,20e528b5bfe1131dfafcd976cc137e0b3a623794,smb_pools,"from cinder.volume import utils as volume_utils vendor_name = 'Open Source' # We let the drivers inheriting this specify # whether thin provisioning is supported or not. self._thin_provisioning_support = False class RemoteFSPoolMixin(object): """"""Drivers inheriting this will report each share as a pool."""""" def _find_share(self, volume): # We let the scheduler choose a pool for us. pool_name = self._get_pool_name_from_volume(volume) share = self._get_share_from_pool_name(pool_name) return share def _get_pool_name_from_volume(self, volume): pool_name = volume_utils.extract_host(volume['host'], level='pool') return pool_name def _get_pool_name_from_share(self, share): raise NotImplementedError() def _get_share_from_pool_name(self, pool_name): # To be implemented by drivers using pools. raise NotImplementedError() def _update_volume_stats(self): data = {} pools = [] backend_name = self.configuration.safe_get('volume_backend_name') data['volume_backend_name'] = backend_name or self.volume_backend_name data['vendor_name'] = self.vendor_name data['driver_version'] = self.get_version() data['storage_protocol'] = self.driver_volume_type self._ensure_shares_mounted() for share in self._mounted_shares: (share_capacity, share_free, share_used) = self._get_capacity_info(share) pool = {'pool_name': self._get_pool_name_from_share(share), 'total_capacity_gb': share_capacity / float(units.Gi), 'free_capacity_gb': share_free / float(units.Gi), 'provisioned_capacity_gb': share_used / float(units.Gi), 'allocated_capacity_gb': ( share_capacity - share_free) / float(units.Gi), 'reserved_percentage': ( self.configuration.reserved_percentage), 'max_over_subscription_ratio': ( self.configuration.max_over_subscription_ratio), 'thin_provisioning_support': ( self._thin_provisioning_support), 'QoS_support': False, } pools.append(pool) data['total_capacity_gb'] = 0 data['free_capacity_gb'] = 0 data['pools'] = pools self._stats = data",,160,0
openstack%2Fkolla-kubernetes~master~Id9b9ab9113831ced6e566adc19bd6174b5dbb01a,openstack/kolla-kubernetes,master,Id9b9ab9113831ced6e566adc19bd6174b5dbb01a,Test removal of selenium from ceph gates,ABANDONED,2017-05-28 01:10:19.000000000,2017-05-28 21:40:41.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-05-28 01:10:19.000000000', 'files': ['tools/setup_gate_ceph.sh'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/4a6ad3ea7de13423827af11c759378d4d1868c51', 'message': 'Test removal of selenium from ceph gates\n\nChange-Id: Id9b9ab9113831ced6e566adc19bd6174b5dbb01a\n'}]",0,468700,4a6ad3ea7de13423827af11c759378d4d1868c51,3,1,1,2834,,,0,"Test removal of selenium from ceph gates

Change-Id: Id9b9ab9113831ced6e566adc19bd6174b5dbb01a
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/00/468700/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_gate_ceph.sh'],1,4a6ad3ea7de13423827af11c759378d4d1868c51,,#tests/bin/horizon_test.sh,tests/bin/horizon_test.sh,1,1
openstack%2Fcinder~master~Iccffb69b0ffb220f43258ee4c47d5d8964ae7836,openstack/cinder,master,Iccffb69b0ffb220f43258ee4c47d5d8964ae7836,api-ref: add list manageable resource API,MERGED,2017-05-18 08:41:25.000000000,2017-05-28 21:18:48.000000000,2017-05-28 21:18:48.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15054}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}]","[{'number': 1, 'created': '2017-05-18 08:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c409fa705d1c7a86a20734985dc9e18147eeddc', 'message': 'api-ref: add list manageable resource API\n\nThis patch did:\n1. Add list manageable volumes API doc.\n2. Add create and list manageable snapshots API doc.\n\nChange-Id: Iccffb69b0ffb220f43258ee4c47d5d8964ae7836\nCloses-bug: #1590977\n'}, {'number': 2, 'created': '2017-05-18 08:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e8802fbb42b29d882733b782cb82535c34bd741', 'message': 'api-ref: add list manageable resource API\n\nThis patch did:\n1. Add list manageable volumes API doc.\n2. Add create and list manageable snapshots API doc.\n\nChange-Id: Iccffb69b0ffb220f43258ee4c47d5d8964ae7836\nCloses-bug: #1590977\n'}, {'number': 3, 'created': '2017-05-18 09:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/661996771dccd2c03cc0a308ff7381f009979371', 'message': 'api-ref: add list manageable resource API\n\nThis patch did:\n1. Add list manageable volumes API doc.\n2. Add create and list manageable snapshots API doc.\n\nChange-Id: Iccffb69b0ffb220f43258ee4c47d5d8964ae7836\nCloses-bug: #1590977\n'}, {'number': 4, 'created': '2017-05-18 09:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c11934edc3caa7f10cb1dd6b60db4cb51ee77e0a', 'message': 'api-ref: add list manageable resource API\n\nThis patch did:\n1. Add list manageable volumes API doc.\n2. Add create and list manageable snapshots API doc.\n\nChange-Id: Iccffb69b0ffb220f43258ee4c47d5d8964ae7836\nCloses-bug: #1590977\n'}, {'number': 5, 'created': '2017-05-18 12:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d1359b1a4ae55d3fcfe57137055f6a717ce161f3', 'message': 'api-ref: add list manageable resource API\n\nThis patch did:\n1. Add list manageable volumes API doc.\n2. Add create and list manageable snapshots API doc.\n\nChange-Id: Iccffb69b0ffb220f43258ee4c47d5d8964ae7836\nCloses-bug: #1590977\n'}, {'number': 6, 'created': '2017-05-18 13:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aba8dccc69fab0b5b64a3b72de0b1efe8122b84f', 'message': 'api-ref: add list manageable resource API\n\nThis patch did:\n1. Add list manageable volumes API doc.\n2. Add create and list manageable snapshots API doc.\n\nChange-Id: Iccffb69b0ffb220f43258ee4c47d5d8964ae7836\nCloses-bug: #1590977\n'}, {'number': 7, 'created': '2017-05-19 02:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/59b4d32a7e3caf2d65b2a16db4bbebddcc854ab2', 'message': 'api-ref: add list manageable resource API\n\nThis patch did:\n1. Add list manageable volumes API doc.\n2. Add create and list manageable snapshots API doc.\n\nChange-Id: Iccffb69b0ffb220f43258ee4c47d5d8964ae7836\nCloses-bug: #1590977\n'}, {'number': 8, 'created': '2017-05-23 01:54:08.000000000', 'files': ['api-ref/source/v3/index.rst', 'api-ref/source/v3/samples/snapshot-manage-request.json', 'api-ref/source/v3/samples/volume-manage-list-response.json', 'api-ref/source/v3/samples/snapshot-manage-list-detail-response.json', 'api-ref/source/v3/snapshot-manage.inc', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/samples/snapshot-manage-list-response.json', 'api-ref/source/v3/samples/volume-manage-list-detail-response.json', 'api-ref/source/v3/volume-manage.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/95115ae7ab7903c889749be6f6584c1a78e3d1f0', 'message': 'api-ref: add list manageable resource API\n\nThis patch did:\n1. Add list manageable volumes API doc.\n2. Add create and list manageable snapshots API doc.\n\nChange-Id: Iccffb69b0ffb220f43258ee4c47d5d8964ae7836\nCloses-bug: #1590977\n'}]",11,465874,95115ae7ab7903c889749be6f6584c1a78e3d1f0,100,32,8,15054,,,0,"api-ref: add list manageable resource API

This patch did:
1. Add list manageable volumes API doc.
2. Add create and list manageable snapshots API doc.

Change-Id: Iccffb69b0ffb220f43258ee4c47d5d8964ae7836
Closes-bug: #1590977
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/465874/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/index.rst', 'api-ref/source/v3/samples/snapshot-manage-request.json', 'api-ref/source/v3/samples/snapshot-manage-list-detail-response.json', 'api-ref/source/v3/samples/volume-manage-list-response.json', 'api-ref/source/v3/snapshot-manage.inc', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/samples/snapshot-manage-list-response.json', 'api-ref/source/v3/samples/volume-manage-list-detail-response.json', 'api-ref/source/v3/volume-manage.inc']",9,8c409fa705d1c7a86a20734985dc9e18147eeddc,bug/1590977,Creates or lists volumes by using existing storage instead of allocating new List summary of volumes available to manage ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .. rest_method:: GET /v3/{project_id}/os-volume-manage?host={host_name} Search a host and list summary of volumes which are available to manage. Normal response codes: 200 Request ------- .. rest_parameters:: parameters.yaml - sort: sort - offset: offset - limit: limit - marker: marker - project_id: project_id_path - host_name: hostname Response -------- .. rest_parameters:: parameters.yaml - manageable-volumes: manageable-volume - safe_to_manage: safe_to_manage - reference: reference - source-name: source - size: size Response Example --------------- .. literalinclude:: ./samples/volume-manage-list-response.json :language: javascript List detail of volumes available to manage ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .. rest_method:: GET /v3/{project_id}/os-volume-manage/detail?host={host_name} Search a host and list detail of volumes which are available to manage. Normal response codes: 200 Request ------- .. rest_parameters:: parameters.yaml - sort: sort - offset: offset - limit: limit - marker: marker - project_id: project_id_path - host_name: hostname Response -------- .. rest_parameters:: parameters.yaml - manageable-volumes: manageable-volumes - safe_to_manage: safe_to_manage - reason_not_safe: reason_not_safe - reference: reference - source-name: source-name - size: size - extra_info: extra_info Response Example --------------- .. literalinclude:: ./samples/volume-manage-list-detail-response.json :language: javascript,Creates volumes by using existing storage instead of allocating new,386,1
openstack%2Ftripleo-heat-templates~master~I7692e4cf7af2f8f60dcad7a9c6f54b87537563b4,openstack/tripleo-heat-templates,master,I7692e4cf7af2f8f60dcad7a9c6f54b87537563b4,Ignore cp failures to config-data,ABANDONED,2017-05-25 02:28:55.000000000,2017-05-28 21:12:48.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 2011}, {'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 18575}]","[{'number': 1, 'created': '2017-05-25 02:28:55.000000000', 'files': ['docker/docker-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d67f7ef84b74ab5eda2c4f0e570168784ea97ddf', 'message': ""Ignore cp failures to config-data\n\nAn issue with the overlay2 driver is causing deleted files to be copied,\nwhich fails because they don't exist. Until this is fixed in the\noverlay2 driver, ignore any errors during the copy.\n\nChange-Id: I7692e4cf7af2f8f60dcad7a9c6f54b87537563b4\nCloses-Bug: #1693398\n""}]",0,467825,d67f7ef84b74ab5eda2c4f0e570168784ea97ddf,10,9,1,4571,,,0,"Ignore cp failures to config-data

An issue with the overlay2 driver is causing deleted files to be copied,
which fails because they don't exist. Until this is fixed in the
overlay2 driver, ignore any errors during the copy.

Change-Id: I7692e4cf7af2f8f60dcad7a9c6f54b87537563b4
Closes-Bug: #1693398
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/467825/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/docker-puppet.py'],1,d67f7ef84b74ab5eda2c4f0e570168784ea97ddf,bug/1693398, set +e true,,2,0
openstack%2Frpm-packaging~master~I321c363dc5db9398b7e1d133395a52857d2af731,openstack/rpm-packaging,master,I321c363dc5db9398b7e1d133395a52857d2af731,Update oslo.middleware to 3.27.0,MERGED,2017-05-25 05:29:09.000000000,2017-05-28 20:54:18.000000000,2017-05-28 20:53:08.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 20656}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-05-25 05:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e6202f0f0860ac63f007434258ec0574e5b3df65', 'message': 'Update oslo.middleware to 3.27.0\n\nChange-Id: I321c363dc5db9398b7e1d133395a52857d2af731\nDepends-on: I989ccebfab8cdd5db2a84f06cfb5bc56d17f2cdf\n'}, {'number': 2, 'created': '2017-05-25 08:48:32.000000000', 'files': ['openstack/oslo.middleware/oslo.middleware.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1ec983fefb0321cbe33793766713bb7877e8483d', 'message': 'Update oslo.middleware to 3.27.0\n\nChange-Id: I321c363dc5db9398b7e1d133395a52857d2af731\nDepends-on: I989ccebfab8cdd5db2a84f06cfb5bc56d17f2cdf\n'}]",0,467891,1ec983fefb0321cbe33793766713bb7877e8483d,22,8,2,17130,,,0,"Update oslo.middleware to 3.27.0

Change-Id: I321c363dc5db9398b7e1d133395a52857d2af731
Depends-on: I989ccebfab8cdd5db2a84f06cfb5bc56d17f2cdf
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/91/467891/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.middleware/oslo.middleware.spec.j2'],1,e6202f0f0860ac63f007434258ec0574e5b3df65,oslo-middleware,Version: 3.27.0,Version: 3.26.0,1,1
openstack%2Fkolla-kubernetes~master~I9f66ce9439eecd10f58586f2f0d1d30e6b736ae3,openstack/kolla-kubernetes,master,I9f66ce9439eecd10f58586f2f0d1d30e6b736ae3,Conditionalize pv creation,MERGED,2017-05-26 04:10:20.000000000,2017-05-28 20:51:07.000000000,2017-05-28 20:51:07.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 9237}, {'_account_id': 19384}, {'_account_id': 22784}]","[{'number': 1, 'created': '2017-05-26 04:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/c7815df73e1388b8ad1a3885544b9017abe3b31a', 'message': 'Conditionalize pv creation\n\nPV creation should really occur as a result of the administrator\ncreating the PVs.  For AIO deploys, optimizing PV creation may\nbe more optimal, so default to true, but permit operators to\nturn off PV creation in service charts in the event the operators\nhave created their own PVs.\n\nChange-Id: I9f66ce9439eecd10f58586f2f0d1d30e6b736ae3\n'}, {'number': 2, 'created': '2017-05-26 18:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/8bd6b9b525e4d6f6be24a40c8c86f960d2978e7e', 'message': 'Conditionalize pv creation\n\nPV creation should really occur as a result of the administrator\ncreating the PVs.  For AIO deploys, optimizing PV creation may\nbe more optimal, so default to true, but permit operators to\nturn off PV creation in service charts in the event the operators\nhave created their own PVs.\n\nChange-Id: I9f66ce9439eecd10f58586f2f0d1d30e6b736ae3\n'}, {'number': 3, 'created': '2017-05-27 20:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/fd9b5583b78b81040183bc5b85126382fcb7108d', 'message': 'Conditionalize pv creation\n\nPV creation should really occur as a result of the administrator\ncreating the PVs.  For AIO deploys, optimizing PV creation may\nbe more optimal, so default to true, but permit operators to\nturn off PV creation in service charts in the event the operators\nhave created their own PVs.\n\nChange-Id: I9f66ce9439eecd10f58586f2f0d1d30e6b736ae3\n'}, {'number': 4, 'created': '2017-05-27 20:16:54.000000000', 'files': ['helm/service/mariadb/requirements.yaml', 'helm/service/rabbitmq/requirements.yaml', 'helm/all_values.yaml', 'helm/service/glance/requirements.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/cbe812e39a6f20ff37d22d608b5ce63ea8375d61', 'message': 'Conditionalize pv creation\n\nPV creation should really occur as a result of the administrator\ncreating the PVs.  For AIO deploys, optimizing PV creation may\nbe more optimal, so default to true, but permit operators to\nturn off PV creation in service charts in the event the operators\nhave created their own PVs.\n\nChange-Id: I9f66ce9439eecd10f58586f2f0d1d30e6b736ae3\n'}]",3,468264,cbe812e39a6f20ff37d22d608b5ce63ea8375d61,28,5,4,2834,,,0,"Conditionalize pv creation

PV creation should really occur as a result of the administrator
creating the PVs.  For AIO deploys, optimizing PV creation may
be more optimal, so default to true, but permit operators to
turn off PV creation in service charts in the event the operators
have created their own PVs.

Change-Id: I9f66ce9439eecd10f58586f2f0d1d30e6b736ae3
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/64/468264/3 && git format-patch -1 --stdout FETCH_HEAD,"['helm/service/mariadb/values.yaml', 'helm/service/mariadb/requirements.yaml', 'helm/service/rabbitmq/requirements.yaml', 'helm/service/rabbitmq/values.yaml', 'helm/service/glance/requirements.yaml', 'helm/service/glance/values.yaml']",6,c7815df73e1388b8ad1a3885544b9017abe3b31a,, global.kolla.all.pv_enabled: true,,6,0
openstack%2Fcinder~master~I7ad82a051ba2732f2f7e497e795aff83efcfd428,openstack/cinder,master,I7ad82a051ba2732f2f7e497e795aff83efcfd428,SMBFS: report each share as a pool,MERGED,2017-01-23 16:45:35.000000000,2017-05-28 20:16:35.000000000,2017-05-25 21:43:23.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16952}, {'_account_id': 17103}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22381}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-01-23 16:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/df701da860ada357a66f7eecd64e034c31c1b30a', 'message': 'SMBFS: report each share as a pool\n\nCinder RemoteFS based drivers report total space capacity as a\nsum of all individual share capacities.\n\nFor this reason, a volume backend may be considered for placing\na volume, even if none of the shares used by the backend can actually\nstore the requested volume.\n\nThis patch changes this behavior for the SMBFS drivers, treating\neach share as a pool and repoting the stats accordingly.\n\nThis will also allow the scheduler to target a specific share.\n\nThe pool names will be configurable. If no pool name is explicitly\nmapped to a share, the share name will be used instead as a pool name.\n\nPartially Implements: blueprint remotefs-pools-support\n\nChange-Id: I7ad82a051ba2732f2f7e497e795aff83efcfd428\n'}, {'number': 2, 'created': '2017-01-25 10:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fd0dd84e083f37a8826ce52539ae61ff8194f61c', 'message': 'SMBFS: report each share as a pool\n\nCinder RemoteFS based drivers report total space capacity as a\nsum of all individual share capacities.\n\nFor this reason, a volume backend may be considered for placing\na volume, even if none of the shares used by the backend can actually\nstore the requested volume.\n\nThis patch changes this behavior for the SMBFS drivers, treating\neach share as a pool and repoting the stats accordingly.\n\nThis will also allow the scheduler to target a specific share.\n\nThe pool names will be configurable. If no pool name is explicitly\nmapped to a share, the share name will be used instead as a pool name.\n\nPartially Implements: blueprint remotefs-pools-support\n\nChange-Id: I7ad82a051ba2732f2f7e497e795aff83efcfd428\n'}, {'number': 3, 'created': '2017-03-21 14:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/099c1b68c6b80cb2d8bcb3a4fb0b2e9ed502d4e2', 'message': 'SMBFS: report each share as a pool\n\nCinder RemoteFS based drivers report total space capacity as a\nsum of all individual share capacities.\n\nFor this reason, a volume backend may be considered for placing\na volume, even if none of the shares used by the backend can actually\nstore the requested volume.\n\nThis patch changes this behavior for the SMBFS drivers, treating\neach share as a pool and repoting the stats accordingly.\n\nThis will also allow the scheduler to target a specific share.\n\nThe pool names will be configurable. If no pool name is explicitly\nmapped to a share, the share name will be used instead as a pool name.\n\nPartially Implements: blueprint remotefs-pools-support\n\nChange-Id: I7ad82a051ba2732f2f7e497e795aff83efcfd428\n'}, {'number': 4, 'created': '2017-03-21 15:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2fb502a7bcffd0592b9e14e6f504be834b036194', 'message': 'SMBFS: report each share as a pool\n\nCinder RemoteFS based drivers report total space capacity as a\nsum of all individual share capacities.\n\nFor this reason, a volume backend may be considered for placing\na volume, even if none of the shares used by the backend can actually\nstore the requested volume.\n\nThis patch changes this behavior for the SMBFS drivers, treating\neach share as a pool and repoting the stats accordingly.\n\nThis will also allow the scheduler to target a specific share.\n\nThe pool names will be configurable. If no pool name is explicitly\nmapped to a share, the share name will be used instead as a pool name.\n\nPartially Implements: blueprint remotefs-pools-support\n\nChange-Id: I7ad82a051ba2732f2f7e497e795aff83efcfd428\n'}, {'number': 5, 'created': '2017-04-13 11:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/04b4f48c278a206eff4f688ddf34fa21629ba6b3', 'message': 'SMBFS: report each share as a pool\n\nCinder RemoteFS based drivers report total space capacity as a\nsum of all individual share capacities.\n\nFor this reason, a volume backend may be considered for placing\na volume, even if none of the shares used by the backend can actually\nstore the requested volume.\n\nThis patch changes this behavior for the SMBFS drivers, treating\neach share as a pool and repoting the stats accordingly.\n\nThis will also allow the scheduler to target a specific share.\n\nThe pool names will be configurable. If no pool name is explicitly\nmapped to a share, the share name will be used instead as a pool name.\n\nPartially Implements: blueprint remotefs-pools-support\n\nChange-Id: I7ad82a051ba2732f2f7e497e795aff83efcfd428\n'}, {'number': 6, 'created': '2017-05-19 12:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b2538cca03ab6c56a038810a26652e55bbcc9fb0', 'message': 'SMBFS: report each share as a pool\n\nCinder RemoteFS based drivers report total space capacity as a\nsum of all individual share capacities.\n\nFor this reason, a volume backend may be considered for placing\na volume, even if none of the shares used by the backend can actually\nstore the requested volume.\n\nThis patch changes this behavior for the SMBFS drivers, treating\neach share as a pool and repoting the stats accordingly.\n\nThis will also allow the scheduler to target a specific share.\n\nThe pool names will be configurable. If no pool name is explicitly\nmapped to a share, the share name will be used instead as a pool name.\n\nPartially Implements: blueprint remotefs-pools-support\n\nChange-Id: I7ad82a051ba2732f2f7e497e795aff83efcfd428\n'}, {'number': 7, 'created': '2017-05-22 09:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bfeba2d1737c41da6765bc3e578b5807cf8e72a3', 'message': 'SMBFS: report each share as a pool\n\nCinder RemoteFS based drivers report total space capacity as a\nsum of all individual share capacities.\n\nFor this reason, a volume backend may be considered for placing\na volume, even if none of the shares used by the backend can actually\nstore the requested volume.\n\nThis patch changes this behavior for the SMBFS drivers, treating\neach share as a pool and repoting the stats accordingly.\n\nThis will also allow the scheduler to target a specific share.\n\nThe pool names will be configurable. If no pool name is explicitly\nmapped to a share, the share name will be used instead as a pool name.\n\nPartially Implements: blueprint remotefs-pools-support\n\nChange-Id: I7ad82a051ba2732f2f7e497e795aff83efcfd428\n'}, {'number': 8, 'created': '2017-05-25 08:46:31.000000000', 'files': ['cinder/volume/drivers/windows/smbfs.py', 'releasenotes/notes/smbfs-pools-support-bc43c653cfb1a34f.yaml', 'cinder/tests/unit/windows/test_smbfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d60f1a8a7c58e3413d966f449e5139f1da3e3a01', 'message': 'SMBFS: report each share as a pool\n\nCinder RemoteFS based drivers report total space capacity as a\nsum of all individual share capacities.\n\nFor this reason, a volume backend may be considered for placing\na volume, even if none of the shares used by the backend can actually\nstore the requested volume.\n\nThis patch changes this behavior for the SMBFS drivers, treating\neach share as a pool and repoting the stats accordingly.\n\nThis will also allow the scheduler to target a specific share.\n\nThe pool names will be configurable. If no pool name is explicitly\nmapped to a share, the share name will be used instead as a pool name.\n\nPartially Implements: blueprint remotefs-pools-support\n\nChange-Id: I7ad82a051ba2732f2f7e497e795aff83efcfd428\n'}]",0,424235,d60f1a8a7c58e3413d966f449e5139f1da3e3a01,228,57,8,8543,,,0,"SMBFS: report each share as a pool

Cinder RemoteFS based drivers report total space capacity as a
sum of all individual share capacities.

For this reason, a volume backend may be considered for placing
a volume, even if none of the shares used by the backend can actually
store the requested volume.

This patch changes this behavior for the SMBFS drivers, treating
each share as a pool and repoting the stats accordingly.

This will also allow the scheduler to target a specific share.

The pool names will be configurable. If no pool name is explicitly
mapped to a share, the share name will be used instead as a pool name.

Partially Implements: blueprint remotefs-pools-support

Change-Id: I7ad82a051ba2732f2f7e497e795aff83efcfd428
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/424235/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/smbfs.py', 'cinder/tests/unit/volume/drivers/test_smbfs.py']",2,df701da860ada357a66f7eecd64e034c31c1b30a,smb_pools," self._smbfs_driver._setup_pool_mappings = mock.Mock() self._smbfs_driver._setup_pool_mappings.assert_called_once_with() def test_setup_pools(self): pool_mappings = { '//ip/share0': 'pool0', '//ip/share1': 'pool1', } self._smbfs_driver.configuration.smbfs_pool_mappings = pool_mappings self._smbfs_driver.shares = { '//ip/share0': None, '//ip/share1': None, '//ip/share2': None } expected_pool_mappings = pool_mappings.copy() expected_pool_mappings['//ip/share2'] = 'share2' self._smbfs_driver._setup_pool_mappings() self.assertEqual(expected_pool_mappings, self._smbfs_driver._pool_mappings) def test_setup_pool_duplicates(self): self._smbfs_driver.configuration.smbfs_pool_mappings = { 'share0': 'pool0', 'share1': 'pool0' } self.assertRaises(exception.SmbfsException, self._smbfs_driver._setup_pool_mappings) def test_get_pool_name_from_share(self): self._smbfs_driver._pool_mappings = { mock.sentinel.share: mock.sentinel.pool} pool = self._smbfs_driver._get_pool_name_from_share( mock.sentinel.share) self.assertEqual(mock.sentinel.pool, pool) def test_get_share_from_pool_name(self): self._smbfs_driver._pool_mappings = { mock.sentinel.share: mock.sentinel.pool} share = self._smbfs_driver._get_share_from_pool_name( mock.sentinel.pool) self.assertEqual(mock.sentinel.share, share) def test_get_pool_name_from_share_exception(self): self._smbfs_driver._pool_mappings = {} self.assertRaises(exception.SmbfsException, self._smbfs_driver._get_share_from_pool_name, mock.sentinel.pool)"," def _test_find_share(self, existing_mounted_shares=True, eligible_shares=True): if existing_mounted_shares: mounted_shares = ('fake_share1', 'fake_share2', 'fake_share3') else: mounted_shares = None self._smbfs_driver._mounted_shares = mounted_shares self._smbfs_driver._is_share_eligible = mock.Mock( return_value=eligible_shares) self._smbfs_driver._get_total_allocated = mock.Mock( side_effect=[3, 2, 1]) if not mounted_shares: self.assertRaises(exception.SmbfsNoSharesMounted, self._smbfs_driver._find_share, self.volume) elif not eligible_shares: self.assertRaises(exception.SmbfsNoSuitableShareFound, self._smbfs_driver._find_share, self.volume) else: ret_value = self._smbfs_driver._find_share( self.volume) # The eligible share with the minimum allocated space # will be selected self.assertEqual('fake_share3', ret_value) def test_find_share(self): self._test_find_share() def test_find_share_missing_mounted_shares(self): self._test_find_share(existing_mounted_shares=False) def test_find_share_missing_eligible_shares(self): self._test_find_share(eligible_shares=False) ",103,70
openstack%2Frpm-packaging~master~I1e8c5f7f212fea50698441d035c9cdf45633fc0b,openstack/rpm-packaging,master,I1e8c5f7f212fea50698441d035c9cdf45633fc0b,switch use of python_sitelib macro to python2_sitelib,MERGED,2017-05-25 16:02:26.000000000,2017-05-28 17:17:36.000000000,2017-05-28 17:16:08.000000000,"[{'_account_id': 3}, {'_account_id': 2394}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 20656}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-05-25 16:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8c448dcfc03eaf0ab1b5d8a4cdc34b50f043f1d1', 'message': ""switch use of python_sitelib macro to python2_sitelib\n\nBased on a comment in a previous review:\n\nhttps://review.openstack.org/#/c/460239/7/openstack/masakari-monitors/masakari-monitors.spec.j2@246\n\nI'm guessing that these changes need to be made.  If someone can\nplease comment on the rationale behind using python2_sitelib, I will\nupdate this commit message accordingly.\n\nChange-Id: I1e8c5f7f212fea50698441d035c9cdf45633fc0b\n""}, {'number': 2, 'created': '2017-05-26 00:18:37.000000000', 'files': ['openstack/ironic-lib/ironic-lib.spec.j2', 'openstack/mistral/mistral.spec.j2', 'openstack/masakari/masakari.spec.j2', 'openstack/neutron-lib/neutron-lib.spec.j2', 'openstack/openstack-macros/macros.openstack-common'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ce3c70856d3234b2ad73430029c763a253200edb', 'message': 'switch use of python_sitelib macro to python2_sitelib\n\nThe current policy is to use python2_sitelib, which is the\nnon-deprecated macro according to Fedora guidelines, although this\nmight change at some point with the singlespec rework.\n\nThis inconsistency was noticed as the result of a comment in a\nprevious review:\n\nhttps://review.openstack.org/#/c/460239/7/openstack/masakari-monitors/masakari-monitors.spec.j2@246\n\nChange-Id: I1e8c5f7f212fea50698441d035c9cdf45633fc0b\n'}]",0,468081,ce3c70856d3234b2ad73430029c763a253200edb,21,8,2,2394,,,0,"switch use of python_sitelib macro to python2_sitelib

The current policy is to use python2_sitelib, which is the
non-deprecated macro according to Fedora guidelines, although this
might change at some point with the singlespec rework.

This inconsistency was noticed as the result of a comment in a
previous review:

https://review.openstack.org/#/c/460239/7/openstack/masakari-monitors/masakari-monitors.spec.j2@246

Change-Id: I1e8c5f7f212fea50698441d035c9cdf45633fc0b
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/81/468081/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/ironic-lib/ironic-lib.spec.j2', 'openstack/mistral/mistral.spec.j2', 'openstack/masakari/masakari.spec.j2', 'openstack/neutron-lib/neutron-lib.spec.j2', 'openstack/openstack-macros/macros.openstack-common']",5,8c448dcfc03eaf0ab1b5d8a4cdc34b50f043f1d1,python2,ln -s %{python2_sitelib}/%1 %{buildroot}/%{openstack_test_package_dir}/%1 \,ln -s %{python_sitelib}/%1 %{buildroot}/%{openstack_test_package_dir}/%1 \,7,7
openstack%2Fdiskimage-builder~master~Ia32c2a55215769cd1748ce05d6199dc6c4a0d165,openstack/diskimage-builder,master,Ia32c2a55215769cd1748ce05d6199dc6c4a0d165,DNM: testing fedora problem,ABANDONED,2017-04-09 19:48:29.000000000,2017-05-28 16:38:56.000000000,,"[{'_account_id': 3}, {'_account_id': 10118}]","[{'number': 1, 'created': '2017-04-09 19:48:29.000000000', 'files': ['diskimage_builder/elements/fedora-minimal/test-elements/build-devuser/element-deps', 'diskimage_builder/elements/fedora-minimal/test-elements/build-devuser/environment.d/01-set-devuser', 'diskimage_builder/elements/fedora-minimal/test-elements/build-devuser/pkg-map', 'diskimage_builder/elements/fedora-minimal/test-elements/build-devuser/environment.d/11-set-distro', 'diskimage_builder/elements/fedora-minimal/test-elements/build-devuser/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/41ecec8963bbe0589174c3be49c3d890aaa911a2', 'message': ""DNM: testing fedora problem\n\nTry to isolate a problem that only occurs in the CI:\n\n2017-04-09 16:46:26.669438 | [dibdevel-run/dibdevel-run-fedora] dib-run-parts Sun Apr  9 16:46:26 UTC 2017 Running /tmp/in_target.d/install.d/50-devuser\n2017-04-09 16:46:26.672948 | [dibdevel-run/dibdevel-run-fedora] + set -eu\n2017-04-09 16:46:26.673049 | [dibdevel-run/dibdevel-run-fedora] + set -o pipefail\n2017-04-09 16:46:26.673109 | [dibdevel-run/dibdevel-run-fedora] + user_shell_args=\n2017-04-09 16:46:26.673166 | [dibdevel-run/dibdevel-run-fedora] + '[' -n /bin/bash ']'\n2017-04-09 16:46:26.673255 | [dibdevel-run/dibdevel-run-fedora] + user_shell_args='-s /bin/bash'\n2017-04-09 16:46:26.673321 | [dibdevel-run/dibdevel-run-fedora] + useradd -m dib -s /bin/bash\n2017-04-09 16:46:26.696659 | [dibdevel-run/dibdevel-run-fedora] + set +x\n2017-04-09 16:46:26.696797 | [dibdevel-run/dibdevel-run-fedora] Setting password.\n2017-04-09 16:46:26.703477 | [dibdevel-run/dibdevel-run-fedora] chpasswd: cannot open /etc/passwd\n\nChange-Id: Ia32c2a55215769cd1748ce05d6199dc6c4a0d165\nSigned-off-by: Andreas Florath <andreas@florath.net>\n""}]",0,455084,41ecec8963bbe0589174c3be49c3d890aaa911a2,5,2,1,21741,,,0,"DNM: testing fedora problem

Try to isolate a problem that only occurs in the CI:

2017-04-09 16:46:26.669438 | [dibdevel-run/dibdevel-run-fedora] dib-run-parts Sun Apr  9 16:46:26 UTC 2017 Running /tmp/in_target.d/install.d/50-devuser
2017-04-09 16:46:26.672948 | [dibdevel-run/dibdevel-run-fedora] + set -eu
2017-04-09 16:46:26.673049 | [dibdevel-run/dibdevel-run-fedora] + set -o pipefail
2017-04-09 16:46:26.673109 | [dibdevel-run/dibdevel-run-fedora] + user_shell_args=
2017-04-09 16:46:26.673166 | [dibdevel-run/dibdevel-run-fedora] + '[' -n /bin/bash ']'
2017-04-09 16:46:26.673255 | [dibdevel-run/dibdevel-run-fedora] + user_shell_args='-s /bin/bash'
2017-04-09 16:46:26.673321 | [dibdevel-run/dibdevel-run-fedora] + useradd -m dib -s /bin/bash
2017-04-09 16:46:26.696659 | [dibdevel-run/dibdevel-run-fedora] + set +x
2017-04-09 16:46:26.696797 | [dibdevel-run/dibdevel-run-fedora] Setting password.
2017-04-09 16:46:26.703477 | [dibdevel-run/dibdevel-run-fedora] chpasswd: cannot open /etc/passwd

Change-Id: Ia32c2a55215769cd1748ce05d6199dc6c4a0d165
Signed-off-by: Andreas Florath <andreas@florath.net>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/84/455084/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/fedora-minimal/test-elements/build-devuser/element-deps', 'diskimage_builder/elements/fedora-minimal/test-elements/build-devuser/environment.d/01-set-devuser', 'diskimage_builder/elements/fedora-minimal/test-elements/build-devuser/pkg-map', 'diskimage_builder/elements/fedora-minimal/test-elements/build-devuser/environment.d/11-set-distro', 'diskimage_builder/elements/fedora-minimal/test-elements/build-devuser/package-installs.yaml']",5,41ecec8963bbe0589174c3be49c3d890aaa911a2,test/fedora/devuser,"# Needed to build gentoo bzip2: # Needed to build gentoo curl: debootstrap: dmsetup: e2fsprogs: file: # Needed on fedora-24 to verify debian, ubuntu and # gentoo package signatures. gnupg: kpartx: libpython-dev: libpython3-dev: libyaml-dev: parted: # As long as tox.ini defines py2.7 there is the need # for python in the development environment. python: python-yaml: python3-yaml: qemu-utils: redhat-rpm-config: # This is explicitly needed for deb based distributions # creating rpm based. rpm: uuid-runtime: virtualenv: # Same here as for rpm: yum-utils: ",,81,0
openstack%2Fdiskimage-builder~master~Ic2ae0acae054cc9d7a016d6aac16015733470bba,openstack/diskimage-builder,master,Ic2ae0acae054cc9d7a016d6aac16015733470bba,Refactor and commented 'config_tree_to_digraph' and 'create_graph',ABANDONED,2017-05-14 06:27:45.000000000,2017-05-28 16:36:38.000000000,,"[{'_account_id': 3}, {'_account_id': 7118}, {'_account_id': 10118}]","[{'number': 1, 'created': '2017-05-14 06:27:45.000000000', 'files': ['diskimage_builder/block_device/blockdevice.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b46540511426860f02347a5fdfad78e87b7ed402', 'message': ""Refactor and commented 'config_tree_to_digraph' and 'create_graph'\n\nThese methods are complex and were not commented in an\nappropriate way.\n\nChange-Id: Ic2ae0acae054cc9d7a016d6aac16015733470bba\nSigned-off-by: Andreas Florath <andreas@florath.net>\n""}]",4,464315,b46540511426860f02347a5fdfad78e87b7ed402,9,3,1,21741,,,0,"Refactor and commented 'config_tree_to_digraph' and 'create_graph'

These methods are complex and were not commented in an
appropriate way.

Change-Id: Ic2ae0acae054cc9d7a016d6aac16015733470bba
Signed-off-by: Andreas Florath <andreas@florath.net>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/15/464315/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/block_device/blockdevice.py'],1,b46540511426860f02347a5fdfad78e87b7ed402,blockdevice/refactor/commenting1," def _config_entry_split(config_entry): """"""Return the config key and value pair. If the configuration is not valid, raise an exception. """""" if len(config_entry) != 1: msg = ""Invalid config entry: more than one key "" \ ""on top level [%s]"" % config_entry logger.error(msg) raise BlockDeviceSetupException(msg) cfg_obj_name = list(config_entry.keys())[0] cfg_obj_val = config_entry[cfg_obj_name] logger.debug(""Config [%s]: [%s]"", cfg_obj_name, cfg_obj_val) return cfg_obj_name, cfg_obj_val @staticmethod def _config_tree_to_digraph(tconfig, plugin_manager): """"""Converts a possible tree-like config into a complete digraph This method steps through the configuration. Every time a name is found that is configured via the stevedore plugin manager a new (top-level) node is created. The 'base' of the new element is the element where it was found in. It returns the converted digraph. """""" config_key, config_value \ = BlockDevice._config_entry_split(config_entry) """"""Converts configuration into internal digraph data structure. The configuration 'config' as passed in is a textual description of a directed graph. The nodes are described by the 'name' which is the name as given in the configuration and the 'type' which is the type of the node (e.g. partition, mkfs, ...). The relation between the nodes (e.g. the edges) are described using the 'base' element. The types must be defined using the stevedore plugin manager with the name 'diskimage_builder.block_device.plugin'. This method converts the textual representation - passed in as a dictionary - into the interal 'Digrah' data structure. When creating the elements (which are represented as a node), there is the need to do this in a special order; e.g. the partitioning must be executed before the mkfs. To create this order a topological sort on the digraph is done. The method returns the digraph and the execution order. Implementation detail: the method consists of three steps: 1) Add all nodes to the digraph 2) Add all edges to the digraph 3) Create the topological sort """""" logger.debug(""Create graph from config [%s]"", config) digraph = Digraph() # Add all nodes for config_entry in config: cfg_obj_name, cfg_obj_val \ = BlockDevice._config_entry_split(config_entry) # Check if the type is available using the plugin_manager. ""does not exists"", cfg_obj_name) # Create the node content # and add it to the digraph cfg_obj.insert_nodes(digraph) # Add all edges for node in digraph.get_iter_nodes_values(): node.insert_edges(digraph) # Create the topological order - i.e. the call order. call_order = digraph.topological_sort() logger.debug(""Call order [%s]"", (list(call_order))) return digraph, call_order"," def _config_tree_to_digraph(tconfig, plugin_manager): """"""Converts a possible tree-like config into a complete digraph"""""" if len(config_entry) != 1: logger.error(""Invalid config entry: more than one key "" ""on top level [%s]"" % config_entry) raise BlockDeviceSetupException( ""Top level config must contain exactly one key per entry"") logger.debug(""Config entry [%s]"" % config_entry) config_key = list(config_entry)[0] config_value = config_entry[config_key] logger.debug(""Create graph [%s]"" % config) # This is the directed graph of nodes: each parse method must # add the appropriate nodes and edges. dg = Digraph() for config_entry in config: if len(config_entry) != 1: logger.error(""Invalid config entry: more than one key "" ""on top level [%s]"" % config_entry) raise BlockDeviceSetupException( ""Top level config must contain exactly one key per entry"") logger.debug(""Config entry [%s]"" % config_entry) cfg_obj_name = list(config_entry.keys())[0] cfg_obj_val = config_entry[cfg_obj_name] # As the first step the configured objects are created # (if it exists) ""does not exists."" % cfg_obj_name) # At this point it is only possible to add the nodes: # adding the edges needs all nodes first. cfg_obj.insert_nodes(dg) # Now that all the nodes exists: add also the edges for node in dg.get_iter_nodes_values(): node.insert_edges(dg) call_order = dg.topological_sort() logger.debug(""Call order [%s]"" % (list(call_order))) return dg, call_order",73,33
openstack%2Fkolla-kubernetes~master~I74865eff1e49a61d63bb08e8a4d12f7e75e4521f,openstack/kolla-kubernetes,master,I74865eff1e49a61d63bb08e8a4d12f7e75e4521f,cell0's should be deleted only when cell0 is enabled,MERGED,2017-05-28 11:32:18.000000000,2017-05-28 16:36:18.000000000,2017-05-28 16:36:18.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 10787}, {'_account_id': 20998}]","[{'number': 1, 'created': '2017-05-28 11:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/4d5ed8f1fa96c49e7f01bd4a1bf3e1a059c1dcb0', 'message': ""cell0's should be deleted only when cell0 is enabled\n\ncell0's should be deleted only when cell0 is enabled\n\nChange-Id: I74865eff1e49a61d63bb08e8a4d12f7e75e4521f\n""}, {'number': 2, 'created': '2017-05-28 12:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/bfefeb8af040690b6d57714e3704eecf91443fa8', 'message': ""cell0's should be deleted only when cell0 is enabled\n\ncell0's should be deleted only when cell0 is enabled\n\nChange-Id: I74865eff1e49a61d63bb08e8a4d12f7e75e4521f\n""}, {'number': 3, 'created': '2017-05-28 12:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/2accbca26412f1d2f594ac1a997e2a6a0a7831be', 'message': ""cell0's should be deleted only when cell0 is enabled\n\ncell0's should be deleted only when cell0 is enabled\n\nChange-Id: I74865eff1e49a61d63bb08e8a4d12f7e75e4521f\n""}, {'number': 4, 'created': '2017-05-28 12:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/a1e039609bc08cf14b1a7bbb3c127165c91605b4', 'message': ""cell0's should be deleted only when cell0 is enabled\n\ncell0's should be deleted only when cell0 is enabled\n\nChange-Id: I74865eff1e49a61d63bb08e8a4d12f7e75e4521f\n""}, {'number': 5, 'created': '2017-05-28 12:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/a9345c683990b092257f5790201b6f217f655bb1', 'message': ""cell0's should be deleted only when cell0 is enabled\n\ncell0's should be deleted only when cell0 is enabled\n\nChange-Id: I74865eff1e49a61d63bb08e8a4d12f7e75e4521f\n""}, {'number': 6, 'created': '2017-05-28 13:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/5c137d0138e7e3b1f8af1c51ff52e13c895b7feb', 'message': ""cell0's should be deleted only when cell0 is enabled\n\ncell0's should be deleted only when cell0 is enabled\n\nChange-Id: I74865eff1e49a61d63bb08e8a4d12f7e75e4521f\n""}, {'number': 7, 'created': '2017-05-28 13:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/8d5c999c8a4724c29719903df84ad005cb603eb4', 'message': ""cell0's should be deleted only when cell0 is enabled\n\ncell0's should be deleted only when cell0 is enabled\n\nChange-Id: I74865eff1e49a61d63bb08e8a4d12f7e75e4521f\n""}, {'number': 8, 'created': '2017-05-28 14:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/01892e648526534057a8d6526773729ce599318e', 'message': ""cell0's should be deleted only when cell0 is enabled\n\ncell0's should be deleted only when cell0 is enabled\n\nChange-Id: I74865eff1e49a61d63bb08e8a4d12f7e75e4521f\n""}, {'number': 9, 'created': '2017-05-28 15:21:20.000000000', 'files': ['tools/helm_versions.sh', 'tests/bin/cleanup_tests.sh', 'helm/service/nova-cleanup/requirements.yaml', 'tools/setup_kubernetes.sh', 'helm/service/nova-cleanup/values.yaml', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/13f26564735b281d8a8aead4d2c2008e9e764b83', 'message': ""cell0's should be deleted only when cell0 is enabled\n\ncell0's should be deleted only when cell0 is enabled\n\nChange-Id: I74865eff1e49a61d63bb08e8a4d12f7e75e4521f\n""}]",0,468720,13f26564735b281d8a8aead4d2c2008e9e764b83,19,4,9,19384,,,0,"cell0's should be deleted only when cell0 is enabled

cell0's should be deleted only when cell0 is enabled

Change-Id: I74865eff1e49a61d63bb08e8a4d12f7e75e4521f
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/20/468720/9 && git format-patch -1 --stdout FETCH_HEAD,['helm/service/nova-cleanup/requirements.yaml'],1,4d5ed8f1fa96c49e7f01bd4a1bf3e1a059c1dcb0,delete_cell_check, condition: global.kolla.nova.all.cell_enabled,,1,0
openstack%2Ftacker~master~I90aad6b604084c93e493fbb20acff2321104fdea,openstack/tacker,master,I90aad6b604084c93e493fbb20acff2321104fdea,Fix doc generation for Python3,MERGED,2017-04-19 08:25:28.000000000,2017-05-28 16:25:35.000000000,2017-05-28 16:25:35.000000000,"[{'_account_id': 3}, {'_account_id': 2874}, {'_account_id': 12455}, {'_account_id': 16237}, {'_account_id': 19999}]","[{'number': 1, 'created': '2017-04-19 08:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/836f9fd334c28b1644ad0f63132329c6ae732040', 'message': 'Fix doc generation for Python3\n\nFix the Sphinx html_last_updated_fmt for Python3.\nThe html_last_updated_fmt option is interpeted as a\nbyte string in python3, causing Sphinx build to break.\nThis patch makes it utf-8 string.\n\nChange-Id: I90aad6b604084c93e493fbb20acff2321104fdea\n'}, {'number': 2, 'created': '2017-05-02 02:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2974954c61176d76da23dc27e0c00398263db2c3', 'message': 'Fix doc generation for Python3\n\nFix the Sphinx html_last_updated_fmt for Python3.\nThe html_last_updated_fmt option is interpeted as a\nbyte string in python3, causing Sphinx build to break.\nThis patch makes it utf-8 string.\n\nChange-Id: I90aad6b604084c93e493fbb20acff2321104fdea\n'}, {'number': 3, 'created': '2017-05-26 03:58:24.000000000', 'files': ['api-ref/source/conf.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/4eb91c8fd7ca9db3f615de4dc9cca8f6d472c43d', 'message': 'Fix doc generation for Python3\n\nFix the Sphinx html_last_updated_fmt for Python3.\nThe html_last_updated_fmt option is interpeted as a\nbyte string in python3, causing Sphinx build to break.\nThis patch makes it utf-8 string.\n\nCloses-Bug:#1693670\nChange-Id: I90aad6b604084c93e493fbb20acff2321104fdea\n'}]",0,457921,4eb91c8fd7ca9db3f615de4dc9cca8f6d472c43d,14,5,3,25571,,,0,"Fix doc generation for Python3

Fix the Sphinx html_last_updated_fmt for Python3.
The html_last_updated_fmt option is interpeted as a
byte string in python3, causing Sphinx build to break.
This patch makes it utf-8 string.

Closes-Bug:#1693670
Change-Id: I90aad6b604084c93e493fbb20acff2321104fdea
",git fetch https://review.opendev.org/openstack/tacker refs/changes/21/457921/3 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/conf.py'],1,836f9fd334c28b1644ad0f63132329c6ae732040,, html_last_updated_fmt = subprocess.check_output(git_cmd).decode('utf-8')," html_last_updated_fmt = subprocess.Popen( git_cmd, stdout=subprocess.PIPE).communicate()[0]",1,2
openstack%2Fnova~master~Ic5ee9161cd1174a2dd32b7f155194a7110cc5219,openstack/nova,master,Ic5ee9161cd1174a2dd32b7f155194a7110cc5219,Send request_id on cinder calls,MERGED,2017-05-26 10:53:06.000000000,2017-05-28 14:59:13.000000000,2017-05-26 19:20:08.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 19930}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-05-26 10:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64977d98f262d3f57bf537c4161eec04387e0671', 'message': ""Send request_id on cinder calls\n\nThis changes the constructor so that cinder calls will carry forward\nthe request_id to the cinder service. ``global_id`` is a magic\nproperty on new oslo.context which is either set to the\nglobal_request_id sent into Nova, or the local request id if it's not\nset.\n\noslo spec I65de8261746b25d45e105394f4eeb95b9cb3bd42\n\nChange-Id: Ic5ee9161cd1174a2dd32b7f155194a7110cc5219\n""}, {'number': 2, 'created': '2017-05-26 13:38:33.000000000', 'files': ['requirements.txt', 'nova/volume/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5d3a533b47975348dc7a6414083aa1412c285250', 'message': ""Send request_id on cinder calls\n\nThis changes the constructor so that cinder calls will carry forward\nthe request_id to the cinder service. ``global_id`` is a magic\nproperty on new oslo.context which is either set to the\nglobal_request_id sent into Nova, or the local request id if it's not\nset.\n\nDepends-On: I527026c1c685e5156c410a2b84b2c19cebc71a49\n\noslo spec I65de8261746b25d45e105394f4eeb95b9cb3bd42\n\nChange-Id: Ic5ee9161cd1174a2dd32b7f155194a7110cc5219\n""}]",1,468355,5d3a533b47975348dc7a6414083aa1412c285250,37,14,2,2750,,,0,"Send request_id on cinder calls

This changes the constructor so that cinder calls will carry forward
the request_id to the cinder service. ``global_id`` is a magic
property on new oslo.context which is either set to the
global_request_id sent into Nova, or the local request id if it's not
set.

Depends-On: I527026c1c685e5156c410a2b84b2c19cebc71a49

oslo spec I65de8261746b25d45e105394f4eeb95b9cb3bd42

Change-Id: Ic5ee9161cd1174a2dd32b7f155194a7110cc5219
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/468355/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/volume/cinder.py'],1,64977d98f262d3f57bf537c4161eec04387e0671,request_id," global_request_id=context.global_id,",,1,0
openstack%2Fos-brick~master~I66999e999f7d307edb25f62ef31730b4f90be0d3,openstack/os-brick,master,I66999e999f7d307edb25f62ef31730b4f90be0d3,Force LUN_ID to an int,MERGED,2017-05-25 17:13:02.000000000,2017-05-28 14:18:03.000000000,2017-05-26 16:22:01.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 16595}, {'_account_id': 22796}, {'_account_id': 24502}]","[{'number': 1, 'created': '2017-05-25 17:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/3d5485cf9ce677da6630697655140f07191c16f7', 'message': 'Force LUN_ID to an int.\n\nThis patch just enforces that LUN_ID passed in is an int.\n\nChange-Id: I66999e999f7d307edb25f62ef31730b4f90be0d3\nPartial-Bug: #1692153\n'}, {'number': 2, 'created': '2017-05-25 19:29:41.000000000', 'files': ['os_brick/initiator/linuxscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1ceeabadf9080db625f35b8fbe1766276b6e21db', 'message': 'Force LUN_ID to an int\n\nThis patch just enforces that LUN_ID passed in is an int.\n\nChange-Id: I66999e999f7d307edb25f62ef31730b4f90be0d3\nPartial-Bug: #1692153\n'}]",1,468108,1ceeabadf9080db625f35b8fbe1766276b6e21db,19,7,2,5997,,,0,"Force LUN_ID to an int

This patch just enforces that LUN_ID passed in is an int.

Change-Id: I66999e999f7d307edb25f62ef31730b4f90be0d3
Partial-Bug: #1692153
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/08/468108/2 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/linuxscsi.py'],1,3d5485cf9ce677da6630697655140f07191c16f7,bug/1692153, # make sure lun_id is an int lun_id = int(lun_id),,2,0
openstack%2Fcinder~master~I0c528d1c49346477b608a12f8f35ee6d47404bd3,openstack/cinder,master,I0c528d1c49346477b608a12f8f35ee6d47404bd3,api-ref cleanup: required flag for tenants,MERGED,2016-12-02 11:05:21.000000000,2017-05-28 13:30:07.000000000,2017-05-23 23:57:53.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 7173}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 14969}, {'_account_id': 15054}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 17565}, {'_account_id': 17842}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25632}]","[{'number': 1, 'created': '2016-12-02 11:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c34373f07711c379970d8bfa823ce8bca7f2b8dc', 'message': ""api-ref cleanup: required flag for tenants\n\nCurrent url scheme doesn't allow to skip admin_tenant_id\nor tenant_id params. This change marks them as required\nin api-ref.\n\nPartial-Bug: #1415214\nDocImpact\n\nChange-Id: I0c528d1c49346477b608a12f8f35ee6d47404bd3\n""}, {'number': 2, 'created': '2017-03-01 08:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a84d24fcd26ec0b3d7e3a054bd6c6d90ae715f0e', 'message': ""api-ref cleanup: required flag for tenants\n\nCurrent url scheme doesn't allow to skip admin_tenant_id\nor tenant_id params. This change marks them as required\nin api-ref.\n\nPartial-Bug: #1415214\nDocImpact\n\nChange-Id: I0c528d1c49346477b608a12f8f35ee6d47404bd3\n""}, {'number': 3, 'created': '2017-03-01 15:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f2f9242422b7d25fef82cf9ab114de39c0054bba', 'message': ""api-ref cleanup: required flag for tenants\n\nCurrent url scheme doesn't allow to skip admin_tenant_id\nor tenant_id params. This change marks them as required\nin api-ref.\n\nPartial-Bug: #1415214\nDocImpact\n\nChange-Id: I0c528d1c49346477b608a12f8f35ee6d47404bd3\n""}, {'number': 4, 'created': '2017-03-02 09:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cadbeeb28e52da16645e9f0a64429a2c0b2058dc', 'message': ""api-ref cleanup: required flag for tenants\n\nCurrent url scheme doesn't allow to skip admin_tenant_id\nor tenant_id params. This change marks them as required\nin api-ref.\n\nPartial-Bug: #1415214\nDocImpact\n\nChange-Id: I0c528d1c49346477b608a12f8f35ee6d47404bd3\n""}, {'number': 5, 'created': '2017-03-02 09:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb254e933b5bf0580b01e6ac2f7bf26b0bd5864c', 'message': ""api-ref cleanup: required flag for tenants\n\nCurrent url scheme doesn't allow to skip admin_tenant_id\nor tenant_id params. This change marks them as required\nin api-ref.\n\nPartial-Bug: #1415214\nDocImpact\n\nChange-Id: I0c528d1c49346477b608a12f8f35ee6d47404bd3\n""}, {'number': 6, 'created': '2017-03-07 11:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/45e8b2d89e4bac1c13be5693244cc0253d08fd18', 'message': ""api-ref cleanup: required flag for tenants\n\nCurrent url scheme doesn't allow to skip admin_tenant_id\nor tenant_id params. This change marks them as required\nin api-ref.\n\nPartial-Bug: #1415214\nDocImpact\n\nChange-Id: I0c528d1c49346477b608a12f8f35ee6d47404bd3\n""}, {'number': 7, 'created': '2017-03-31 12:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5944fb56b8c24e68b1dadfc906131840b50aab2e', 'message': ""api-ref cleanup: required flag for tenants\n\nCurrent url scheme doesn't allow to skip admin_tenant_id\nor tenant_id params. This change marks them as required\nin api-ref. Get default quotas for a project signature\nwas changed on correct also.\n\nPartial-Bug: #1415214\nDocImpact\n\nChange-Id: I0c528d1c49346477b608a12f8f35ee6d47404bd3\n""}, {'number': 8, 'created': '2017-05-23 06:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b2b942bdab6e8c35705d9402e7ed344d1bf16281', 'message': ""api-ref cleanup: required flag for tenants\n\nCurrent url scheme doesn't allow to skip admin_tenant_id\nor tenant_id params. This change marks them as required\nin api-ref. Get default quotas for a project signature\nwas changed on correct also.\n\nPartial-Bug: #1415214\nDocImpact\n\nChange-Id: I0c528d1c49346477b608a12f8f35ee6d47404bd3\n""}, {'number': 9, 'created': '2017-05-23 07:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99b7ef8aaaf384c493e7ad07351101ff28c4361e', 'message': ""api-ref cleanup: required flag for tenants\n\nCurrent url scheme doesn't allow to skip admin_tenant_id\nor tenant_id params. This change marks them as required\nin api-ref. Get default quotas for a project signature\nwas changed on correct also.\n\nPartial-Bug: #1415214\nDocImpact\n\nChange-Id: I0c528d1c49346477b608a12f8f35ee6d47404bd3\n""}, {'number': 10, 'created': '2017-05-23 14:49:01.000000000', 'files': ['api-ref/source/v3/quota-sets.inc', 'api-ref/source/v2/quota-sets.inc', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8235e6e1e27bc6832095fb5c36957c162b7be8b1', 'message': ""api-ref cleanup: required flag for tenants\n\nCurrent url scheme doesn't allow to skip admin_tenant_id\nor tenant_id params. This change marks them as required\nin api-ref. Get default quotas for a project signature\nwas changed on correct also.\n\nPartial-Bug: #1415214\n\nChange-Id: I0c528d1c49346477b608a12f8f35ee6d47404bd3\n""}]",12,406056,8235e6e1e27bc6832095fb5c36957c162b7be8b1,283,63,10,21813,,,0,"api-ref cleanup: required flag for tenants

Current url scheme doesn't allow to skip admin_tenant_id
or tenant_id params. This change marks them as required
in api-ref. Get default quotas for a project signature
was changed on correct also.

Partial-Bug: #1415214

Change-Id: I0c528d1c49346477b608a12f8f35ee6d47404bd3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/406056/9 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/quota-sets.inc', 'api-ref/source/v1/parameters.yaml', 'api-ref/source/v1/os-quota-sets-v1.inc', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/quota-sets.inc', 'api-ref/source/v3/parameters.yaml']",6,c34373f07711c379970d8bfa823ce8bca7f2b8dc,bug/1415214, required: truequotas_tenant_id: description: | The UUID of the tenant in a multi-tenancy cloud. in: path required: true type: string, required: false,47,20
openstack%2Fcinder~master~Icd5a693ac75eca0f55cc3ecb014feb192e9e84d7,openstack/cinder,master,Icd5a693ac75eca0f55cc3ecb014feb192e9e84d7,GPFS: Handle unsupported operations with an exception,MERGED,2017-05-22 20:03:04.000000000,2017-05-28 13:29:58.000000000,2017-05-24 11:38:47.000000000,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9207}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-05-22 20:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/192f1950c28bd4fe8812394ac2bf9cae3d0180aa', 'message': 'GPFS: Raise VolumeBackendAPI exception for unsupported operations\n\nThis patch adds a support to fail the unsupported CG operations\nfor GPFS driver with VolumeBackendAPI exception.\n\nChange-Id: Icd5a693ac75eca0f55cc3ecb014feb192e9e84d7\nCloses-bug: #1691526\n'}, {'number': 2, 'created': '2017-05-23 05:32:36.000000000', 'files': ['cinder/volume/drivers/ibm/gpfs.py', 'cinder/tests/unit/volume/drivers/test_gpfs.py', 'cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/77d17a1f8b462749ee6116df264a35b95f55d6b8', 'message': 'GPFS: Handle unsupported operations with an exception\n\nThis patch adds a support to fail the unsupported CG operations\nfor GPFS driver with GPFSDriverUnsupportedOperation exception.\n\nChange-Id: Icd5a693ac75eca0f55cc3ecb014feb192e9e84d7\nCloses-bug: #1691526\n'}]",8,466889,77d17a1f8b462749ee6116df264a35b95f55d6b8,89,28,2,9207,,,0,"GPFS: Handle unsupported operations with an exception

This patch adds a support to fail the unsupported CG operations
for GPFS driver with GPFSDriverUnsupportedOperation exception.

Change-Id: Icd5a693ac75eca0f55cc3ecb014feb192e9e84d7
Closes-bug: #1691526
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/466889/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/gpfs.py', 'cinder/tests/unit/volume/drivers/test_gpfs.py']",2,192f1950c28bd4fe8812394ac2bf9cae3d0180aa,bug/1691526," def test_update_consistencygroup(self): ctxt = self.context group = self._fake_group() self.assertRaises(exception.VolumeBackendAPIException, self.driver.update_consistencygroup, ctxt, group) def test_create_consisgroup_from_src(self): ctxt = self.context group = self._fake_group() self.assertRaises(exception.VolumeBackendAPIException, self.driver.create_consistencygroup_from_src, ctxt, group, []) ",,27,0
openstack%2Fcinder~master~I6da57c4ca94fdaf28799af5ec462a8a60178fc4d,openstack/cinder,master,I6da57c4ca94fdaf28799af5ec462a8a60178fc4d,Updated from global requirements,MERGED,2017-05-23 17:59:56.000000000,2017-05-28 13:29:31.000000000,2017-05-23 23:59:31.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24863}]","[{'number': 1, 'created': '2017-05-23 17:59:56.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9e46d0b20d391d24c7fc18665ad77b8be25b5e32', 'message': 'Updated from global requirements\n\nChange-Id: I6da57c4ca94fdaf28799af5ec462a8a60178fc4d\n'}]",0,467342,9e46d0b20d391d24c7fc18665ad77b8be25b5e32,29,16,1,11131,,,0,"Updated from global requirements

Change-Id: I6da57c4ca94fdaf28799af5ec462a8a60178fc4d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/467342/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9e46d0b20d391d24c7fc18665ad77b8be25b5e32,openstack/requirements,os-brick>=1.13.0 # Apache-2.0,os-brick>=1.12.0 # Apache-2.0,1,1
openstack%2Fcinder~master~I706d0d373d1b05a3f6fe022d75b0058049748a3f,openstack/cinder,master,I706d0d373d1b05a3f6fe022d75b0058049748a3f,Updated from global requirements,MERGED,2017-05-23 11:48:30.000000000,2017-05-28 13:29:29.000000000,2017-05-23 15:59:58.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 19146}, {'_account_id': 19933}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 24863}]","[{'number': 1, 'created': '2017-05-23 11:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a2bab1d819ab9dbeec97ab806c86a58d555831e', 'message': 'Updated from global requirements\n\nChange-Id: I706d0d373d1b05a3f6fe022d75b0058049748a3f\n'}, {'number': 2, 'created': '2017-05-23 12:18:07.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/db5f3ea732c04eec3c0eeb7a84c620b66dba88e1', 'message': 'Updated from global requirements\n\nChange-Id: I706d0d373d1b05a3f6fe022d75b0058049748a3f\n'}]",0,467141,db5f3ea732c04eec3c0eeb7a84c620b66dba88e1,26,11,2,11131,,,0,"Updated from global requirements

Change-Id: I706d0d373d1b05a3f6fe022d75b0058049748a3f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/467141/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,0a2bab1d819ab9dbeec97ab806c86a58d555831e,openstack/requirements,"oslo.i18n!=3.15.2,>=2.1.0 # Apache-2.0",oslo.i18n>=2.1.0 # Apache-2.0,1,1
openstack%2Fcinder~master~I6febfe177fb49372bb6413d3b6478cb762170b2a,openstack/cinder,master,I6febfe177fb49372bb6413d3b6478cb762170b2a,Check the volume metadata value is a string or not,MERGED,2017-05-18 06:27:57.000000000,2017-05-28 13:29:26.000000000,2017-05-24 15:35:38.000000000,"[{'_account_id': 3}, {'_account_id': 7173}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24564}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-05-18 06:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aafb8b0eba601a15bd133ee99dc0f767eb577f67', 'message': 'Check the volume metadata value is a string or not\n\nWhen creating or updating the metadata for a volume, if user\ngive a nested value, cinder-api will raise a 500 error, the root\ncause is a syntax error in sql statement.\n\nAccording to cinder api ref [1], the metadata value should be a\nstring.\n\n[1] https://developer.openstack.org/api-ref/block-storage/v3/?expanded=update-a-volume-s-metadata-detail#update-a-volume-s-metadata\n\nChange-Id: I6febfe177fb49372bb6413d3b6478cb762170b2a\nCloses-Bug: #1690363\n'}, {'number': 2, 'created': '2017-05-19 02:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c65825f01c1d3ad8288537e16da94b81c70066af', 'message': 'Check the volume metadata value is a string or not\n\nWhen creating or updating the metadata for a volume, if user\ngive a nested value, cinder-api will raise a 500 error, the root\ncause is a syntax error in sql statement.\n\nAccording to cinder api ref [1], the metadata value should be a\nstring.\n\n[1] https://developer.openstack.org/api-ref/block-storage/v3/?expanded=update-a-volume-s-metadata-detail#update-a-volume-s-metadata\n\nChange-Id: I6febfe177fb49372bb6413d3b6478cb762170b2a\nCloses-Bug: #1690363\n'}, {'number': 3, 'created': '2017-05-23 01:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f6ba2cc9e48c7a6ddc3d481f70d3db70a259275e', 'message': 'Check the volume metadata value is a string or not\n\nWhen creating or updating the metadata for a volume, if user\ngive a nested value, cinder-api will raise a 500 error, the root\ncause is a syntax error in sql statement.\n\nAccording to cinder api ref [1], the metadata value should be a\nstring.\n\n[1] https://developer.openstack.org/api-ref/block-storage/v3/?expanded=update-a-volume-s-metadata-detail#update-a-volume-s-metadata\n\nChange-Id: I6febfe177fb49372bb6413d3b6478cb762170b2a\nCloses-Bug: #1690363\n'}, {'number': 4, 'created': '2017-05-23 01:41:41.000000000', 'files': ['cinder/tests/unit/test_utils.py', 'cinder/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4c230df10e8b637c9b0dc6bdc933c21da425d918', 'message': 'Check the volume metadata value is a string or not\n\nWhen creating or updating the metadata for a volume, if user\ngive a nested value, cinder-api will raise a 500 error, the root\ncause is a syntax error in sql statement.\n\nAccording to cinder api ref [1], the metadata value should be a\nstring.\n\n[1] https://developer.openstack.org/api-ref/block-storage/v3/?expanded=update-a-volume-s-metadata-detail#update-a-volume-s-metadata\n\nChange-Id: I6febfe177fb49372bb6413d3b6478cb762170b2a\nCloses-Bug: #1690363\n'}]",8,465829,4c230df10e8b637c9b0dc6bdc933c21da425d918,83,35,4,24564,,,0,"Check the volume metadata value is a string or not

When creating or updating the metadata for a volume, if user
give a nested value, cinder-api will raise a 500 error, the root
cause is a syntax error in sql statement.

According to cinder api ref [1], the metadata value should be a
string.

[1] https://developer.openstack.org/api-ref/block-storage/v3/?expanded=update-a-volume-s-metadata-detail#update-a-volume-s-metadata

Change-Id: I6febfe177fb49372bb6413d3b6478cb762170b2a
Closes-Bug: #1690363
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/465829/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/utils.py'],1,aafb8b0eba601a15bd133ee99dc0f767eb577f67,bug/1690363," try: strutils.check_string_length(v) strutils.check_string_length(k, min_length=1) except (ValueError, TypeError) as e: raise exception.InvalidVolumeMetadata(reason=six.text_type(e)) "," if len(k) == 0: msg = _(""Metadata property key blank."") LOG.debug(msg) raise exception.InvalidVolumeMetadata(reason=msg) LOG.debug(msg) if v is None: msg = _(""Metadata property key '%s' value is None."") % k raise exception.InvalidVolumeMetadata(reason=msg) LOG.debug(msg)",6,9
openstack%2Fcinder~stable%2Focata~I0730c709b9fdc20410de06ca3f9705c9ea77d098,openstack/cinder,stable/ocata,I0730c709b9fdc20410de06ca3f9705c9ea77d098,VMAX driver - Close ecom connections,MERGED,2017-05-24 11:39:54.000000000,2017-05-28 13:28:37.000000000,2017-05-24 15:49:49.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 16595}, {'_account_id': 17565}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-05-24 11:39:54.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/https.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9e90509b1c02f8ced85633804f92911e4264265', 'message': 'VMAX driver - Close ecom connections\n\nEvery secure connection to the ECOM was not being closed after\nuse. This fix closes each connection after use. Due to not being\nable to mock pywbem there is no unit test for this fix.\n\nChange-Id: I0730c709b9fdc20410de06ca3f9705c9ea77d098\nCloses-Bug: #1689760\n(cherry picked from commit 430e8c9fd81a75d7a7053b049a93313013fd8e9b)\n'}]",0,467598,c9e90509b1c02f8ced85633804f92911e4264265,20,14,1,12670,,,0,"VMAX driver - Close ecom connections

Every secure connection to the ECOM was not being closed after
use. This fix closes each connection after use. Due to not being
able to mock pywbem there is no unit test for this fix.

Change-Id: I0730c709b9fdc20410de06ca3f9705c9ea77d098
Closes-Bug: #1689760
(cherry picked from commit 430e8c9fd81a75d7a7053b049a93313013fd8e9b)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/467598/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/dell_emc/vmax/https.py'],1,c9e90509b1c02f8ced85633804f92911e4264265,," h = HTTPSConnection( host, port=port, key_file=key_file, cert_file=cert_file, ca_certs=ca_certs, no_verification=no_verification) h.close()"," if use_ssl: h = HTTPSConnection( host, port=port, key_file=key_file, cert_file=cert_file, ca_certs=ca_certs, no_verification=no_verification)",8,8
openstack%2Fcinder~master~Ic5362c8284f2d69989d820173c306e5856df111b,openstack/cinder,master,Ic5362c8284f2d69989d820173c306e5856df111b,Extend Falconstor driver to utilize multiple FSS storage pools,MERGED,2017-01-19 08:27:59.000000000,2017-05-28 13:28:36.000000000,2017-05-25 03:19:32.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 10842}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15439}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 17565}, {'_account_id': 17959}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18827}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-01-19 08:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8c018bd825807a3aefc8c0ab83cdb3447a04bda', 'message': 'Extend Cinder driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration file.\nUse A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements:falconstor-extend-cinder-driver\n\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 2, 'created': '2017-01-19 08:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/24a41309783560f738f069e77e568d561e096435', 'message': 'Extend Cinder driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration file.\nUse A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 3, 'created': '2017-01-19 08:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ab58209d42324d8714d17158e5a2d08bfe61b34', 'message': 'Extend Cinder driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration file.\nUse A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: blueprint falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 4, 'created': '2017-01-20 09:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f4bbf874c0cacb544e411182dbab7c63b2586e27', 'message': 'Extend Cinder driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration file.\nUse A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: blueprint falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 5, 'created': '2017-01-24 04:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3fc3a14f27e1d1f58535d9a5f31620b3341ff6d', 'message': 'Extend Cinder driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration file.\nUse A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: blueprint falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 6, 'created': '2017-03-06 10:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa23c41aa134e8668be994d5d5c8efc0bc9287eb', 'message': 'Extend Cinder driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration file.\nUse A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: blueprint falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 7, 'created': '2017-03-06 10:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d6b9a9b2658207315c4986edc2151e326940b713', 'message': 'Extend Cinder driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration file.\nUse A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: blueprint falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 8, 'created': '2017-03-07 04:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c7bfa6c2ef15baa3e0a9c353a0a43634bce04dbc', 'message': 'Extend Cinder driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration file.\nUse A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: blueprint falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 9, 'created': '2017-03-07 07:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d50c9989f723bddb0fd550880d24fb31e837479d', 'message': 'Extend Cinder driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration\n file. Use A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: blueprint falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 10, 'created': '2017-03-10 09:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bd407c40cfe87546e19facdfe5ecc4d37097cc2f', 'message': 'Extend Cinder driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration\nfile. Use A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: blueprint falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 11, 'created': '2017-03-10 10:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f866d6d2b844a6cbf6b1511891a9853b2e053c97', 'message': 'Extend Cinder driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration\nfile. Use A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: blueprint falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 12, 'created': '2017-03-10 10:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/63dc6df4b938713eb1cee2beb24a5cd5e5c3ab63', 'message': 'Extend Cinder driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration\nfile. Use A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: blueprint falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 13, 'created': '2017-04-14 03:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/03a8c9d8ad0920b7fa74cfea4218a7513dc5b655', 'message': 'Extend Cinder driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration\nfile. Use A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: blueprint falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 14, 'created': '2017-05-10 09:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/04f75bd9549d9add0fbb7739561d8e215788a2b9', 'message': 'Extend Cinder driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration\nfile. Use A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: blueprint falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 15, 'created': '2017-05-11 09:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/346756e3f7d951c6c7b3dc57c8b49a61e604c0a2', 'message': 'Extend Cinder driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration\nfile. Use A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: blueprint falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 16, 'created': '2017-05-18 04:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9657446cef207303ee7aa14d3d00de0606de6a4d', 'message': 'Extend Cinder driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration\nfile. Use A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: blueprint falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 17, 'created': '2017-05-19 02:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0256800d01add6535169032aaa02946edcba1c7a', 'message': 'Extend Cinder driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration\nfile. Use A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: blueprint falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 18, 'created': '2017-05-19 03:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/35143c2864d1e0d9800bcb4931739fb4eb0bc7f3', 'message': 'Extend Falconstor driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration\nfile. Use A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: blueprint falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 19, 'created': '2017-05-19 03:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e492d3ca464e5cbdaec903802af3cb5c49262b90', 'message': 'Extend Falconstor driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration\nfile. Use A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: blueprint falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 20, 'created': '2017-05-23 04:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a7c7c708f3af6d729134ccb2f0bcaaf5db656f8', 'message': 'Extend Falconstor driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration\nfile. Use A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: blueprint falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}, {'number': 21, 'created': '2017-05-24 02:36:37.000000000', 'files': ['cinder/volume/drivers/falconstor/iscsi.py', 'releasenotes/notes/falconstor-extend-driver-to-utilize-multiple-fss-pools-dc6f2bc84432a672.yaml', 'cinder/tests/unit/volume/drivers/test_falconstor_fss.py', 'cinder/volume/drivers/falconstor/rest_proxy.py', 'cinder/volume/drivers/falconstor/fss_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/213001f931c469bd16f2558b91eef8152caf8fab', 'message': 'Extend Falconstor driver to utilize multiple FSS storage pools\n\nChanged the pool format from integer to key-value pair in configuration\nfile. Use A for single storage pool and P/O for multiple pools.\n\nDocImpact\nImplements: blueprint falconstor-extend-cinder-driver\nChange-Id: Ic5362c8284f2d69989d820173c306e5856df111b\n'}]",49,422462,213001f931c469bd16f2558b91eef8152caf8fab,426,59,21,17959,,,0,"Extend Falconstor driver to utilize multiple FSS storage pools

Changed the pool format from integer to key-value pair in configuration
file. Use A for single storage pool and P/O for multiple pools.

DocImpact
Implements: blueprint falconstor-extend-cinder-driver
Change-Id: Ic5362c8284f2d69989d820173c306e5856df111b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/422462/21 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/falconstor/iscsi.py', 'cinder/volume/drivers/falconstor/rest_proxy.py', 'cinder/volume/drivers/falconstor/fc.py', 'cinder/volume/drivers/falconstor/fss_common.py']",4,f8c018bd825807a3aefc8c0ab83cdb3447a04bda,bp/falconstor-extend-cinder-driver," cfg.DictOpt('fss_pools', default={}, cfg.StrOpt('fss_san_secondary_ip', default='', help='Specifies FSS secondary management IP to be used ' 'if san_ip is invalid or becomes inaccessible.'), self._storage_protocol = '' self._active_backend_id = kwargs.get('active_backend_id', None) if not self.configuration.fss_pools: pool_info = self.configuration.fss_pools self._pool_checking(self.configuration.fss_pools) def _pool_checking(self, pool_info): if len(pool_info) == 1: _pool_state = self._is_single_pool(pool_info) if not _pool_state: msg = (_('The given pool info does not match.')) raise exception.VolumeBackendAPIException(data=msg) else: _pool_state = self._is_multi_pool(pool_info) if not _pool_state: msg = (_('The given pool info does not match.')) raise exception.VolumeBackendAPIException(data=msg) for index, pool_id in pool_info.items(): output = self.proxy.list_pool_info(pool_id) if ""name"" in output['data']: pool_count = len(re.findall(rest_proxy.GROUP_PREFIX, output['data']['name'])) if pool_count is 0: msg = (_('The given pool info must include the storage pool ' 'and naming start with OpenStack-')) raise exception.VolumeBackendAPIException(data=msg) if not self.configuration.fss_san_secondary_ip: def _is_single_pool(self, pool_info): if len(pool_info) == 1 and ""A"" in pool_info: return True else: return False def _is_multi_pool(self, pool_info): if len(pool_info) == 2 and ""P"" in pool_info and ""O"" in pool_info: return True else: return False Create a mirrored volume : [Usage] create --volume-type FSS --metadata mirrored=true elif 'mirrored' in volume_metadata: volume_name, fss_metadata = self.proxy.create_vdev_with_mirror( volume_metadata, volume) with excutils.save_and_reraise_exception() as ctxt: ctxt.reraise = False with excutils.save_and_reraise_exception() as ctxt: ctxt.reraise = False with excutils.save_and_reraise_exception() as ctxt: ctxt.reraise = False self.proxy.unmanage(volume)","from cinder.image import image_utils cfg.IntOpt('fss_pool', default='', self._storage_protocol = 'iSCSI' if not self.configuration.fss_pool: self._pool_checking(self.configuration.fss_pool) def _pool_checking(self, pool_id): output = self.proxy.list_pool_info(pool_id) if ""name"" in output['data']: pool_count = len(re.findall(rest_proxy.GROUP_PREFIX, output['data']['name'])) if pool_count is 0: msg = (_('The given pool info must include the storage pool ' 'and naming start with OpenStack-')) raise exception.VolumeBackendAPIException(data=msg) if not self.configuration.san_secondary_ip: with excutils.save_and_reraise_exception(reraise=False): with excutils.save_and_reraise_exception(reraise=False): with excutils.save_and_reraise_exception(reraise=False): self.proxy.unmanage(volume) def copy_image_to_volume(self, context, volume, image_service, image_id): with image_utils.temporary_file() as tmp: image_utils.fetch_verify_image(context, image_service, image_id, tmp) image_utils.fetch_to_raw(context, image_service, image_id, tmp, self.configuration.volume_dd_blocksize, size=volume['size']) ",167,79
openstack%2Fcinder~master~Id08ffefd322e80a433b58d48b8b89b1ca1695150,openstack/cinder,master,Id08ffefd322e80a433b58d48b8b89b1ca1695150,Add blockbox to Cinder project,MERGED,2017-05-23 16:07:43.000000000,2017-05-28 13:28:35.000000000,2017-05-24 18:45:06.000000000,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24578}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-05-23 16:07:43.000000000', 'files': ['contrib/block-box/etc-cinder/cinder.conf.sf', 'contrib/block-box/etc-cinder/cinder.conf.solidfire', 'contrib/block-box/init-scripts/cinder-api.sh', 'contrib/block-box/README.md', 'contrib/block-box/etc-cinder/cinder.conf', 'contrib/block-box/etc-cinder/cinder.conf.keystone', 'contrib/block-box/docker_files/Dockerfile.cinder-devenv', 'contrib/block-box/docker-compose-add-vol-service.yml', 'contrib/block-box/etc-cinder/rootwrap.conf', 'contrib/block-box/docker_files/README', 'contrib/block-box/LICENSE', 'contrib/block-box/docker_files/lvm.conf', 'contrib/block-box/etc-cinder/api-paste.ini', 'contrib/block-box/etc-cinder/logging.conf', 'contrib/block-box/contrib/cinderflex', 'contrib/block-box/test-requirements.txt', 'contrib/block-box/cinder.rc', 'contrib/block-box/Makefile', 'contrib/block-box/docker_files/Dockerfile.cinder-lvm', 'contrib/block-box/docker-entrypoint-initdb.d/script.sql', 'contrib/block-box/README.CVOL-LVM.md', 'contrib/block-box/etc-cinder/policy.json', 'contrib/block-box/docker-compose.yml', 'contrib/block-box/.gitignore'], 'web_link': 'https://opendev.org/openstack/cinder/commit/db82e4450a08f36fc1b715327653be6f075d9543', 'message': 'Add blockbox to Cinder project\n\nThis change creates a contrib directory in the Cinder tree and adds\na project called block-box.\n\nThis addition provides a method to easily create Docker images for\na standalone Cinder deployment and employs a docker-compose file to\nenable rapid build and deployment of Cinder as a standlone service.\n\nChange-Id: Id08ffefd322e80a433b58d48b8b89b1ca1695150\n'}]",1,467304,db82e4450a08f36fc1b715327653be6f075d9543,48,18,1,2243,,,0,"Add blockbox to Cinder project

This change creates a contrib directory in the Cinder tree and adds
a project called block-box.

This addition provides a method to easily create Docker images for
a standalone Cinder deployment and employs a docker-compose file to
enable rapid build and deployment of Cinder as a standlone service.

Change-Id: Id08ffefd322e80a433b58d48b8b89b1ca1695150
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/467304/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/block-box/etc-cinder/cinder.conf.sf', 'contrib/block-box/etc-cinder/cinder.conf.solidfire', 'contrib/block-box/init-scripts/cinder-api.sh', 'contrib/block-box/README.md', 'contrib/block-box/etc-cinder/cinder.conf', 'contrib/block-box/etc-cinder/cinder.conf.keystone', 'contrib/block-box/docker_files/Dockerfile.cinder-devenv', 'contrib/block-box/docker-compose-add-vol-service.yml', 'contrib/block-box/etc-cinder/rootwrap.conf', 'contrib/block-box/docker_files/README', 'contrib/block-box/LICENSE', 'contrib/block-box/docker_files/lvm.conf', 'contrib/block-box/etc-cinder/api-paste.ini', 'contrib/block-box/etc-cinder/logging.conf', 'contrib/block-box/contrib/cinderflex', 'contrib/block-box/test-requirements.txt', 'contrib/block-box/cinder.rc', 'contrib/block-box/Makefile', 'contrib/block-box/docker_files/Dockerfile.cinder-lvm', 'contrib/block-box/docker-entrypoint-initdb.d/script.sql', 'contrib/block-box/README.CVOL-LVM.md', 'contrib/block-box/etc-cinder/policy.json', 'contrib/block-box/docker-compose.yml', 'contrib/block-box/.gitignore']",24,db82e4450a08f36fc1b715327653be6f075d9543,add_blockbox,db-data/* ,,3388,0
openstack%2Fcinder~driverfixes%2Fnewton~I2903c27633facde6370d95ba0b9e06025ccaef26,openstack/cinder,driverfixes/newton,I2903c27633facde6370d95ba0b9e06025ccaef26,NFS Backup: Fix overwritting backups,MERGED,2017-05-23 14:44:23.000000000,2017-05-28 13:28:33.000000000,2017-05-23 17:09:07.000000000,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 16595}, {'_account_id': 17565}, {'_account_id': 19146}, {'_account_id': 19933}, {'_account_id': 22126}, {'_account_id': 23613}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-05-23 14:44:23.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_posix.py', 'cinder/backup/drivers/posix.py', 'releasenotes/notes/nfs_backup_no_overwrite-be7b545453baf7a3.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc1e8d6782106ec1f0fb4ebb1afa3f7269a4f063', 'message': 'NFS Backup: Fix overwritting backups\n\nWhen using the NFS backup driver if we do multiple backups using the\nsame container we end up overwriting older backups.\n\nThe issue comes from a misunderstanding in the Posix backup driver of\nthe purpose of the ""prefix"" metadata used in the ChunkedBackupDriver\nbase class.\n\nThis prefix is for the name of the backup objects to store, but unlike\nthe prefix for the volumes, here it must be unique as the base driver\nwill only add numbers to identify the chunk (for the volume we add the\nvolume id).  Unfortunately the Posix driver just assumed that the prefix\nhad the same meaning as the prefix for volumes thus making one backups\noverride one another.\n\nThis patch changes the prefix generated by the Posix driver so we have\nthe following format: ""volume_$VOL_ID_$TIMESTAMP_backup_$BACK_ID"", thus\nallowing multiple backups in the same container.\n\nThe new name is backward compatible with existing backups because the\nnew prefix will only be used on new backups as the prefix for already\nexisting backups is stored in the DB.\n\nChange-Id: I2903c27633facde6370d95ba0b9e06025ccaef26\nCloses-Bug: #1628768\n(cherry picked from commit 535e71797031c3d3e3a5e2023c5ede470b02e3a7)\n(cherry picked from commit 640b9dc2b739b04f1f7d70c2172f5b5fbc3b9b28)\n'}]",0,467267,bc1e8d6782106ec1f0fb4ebb1afa3f7269a4f063,19,9,1,9535,,,0,"NFS Backup: Fix overwritting backups

When using the NFS backup driver if we do multiple backups using the
same container we end up overwriting older backups.

The issue comes from a misunderstanding in the Posix backup driver of
the purpose of the ""prefix"" metadata used in the ChunkedBackupDriver
base class.

This prefix is for the name of the backup objects to store, but unlike
the prefix for the volumes, here it must be unique as the base driver
will only add numbers to identify the chunk (for the volume we add the
volume id).  Unfortunately the Posix driver just assumed that the prefix
had the same meaning as the prefix for volumes thus making one backups
override one another.

This patch changes the prefix generated by the Posix driver so we have
the following format: ""volume_$VOL_ID_$TIMESTAMP_backup_$BACK_ID"", thus
allowing multiple backups in the same container.

The new name is backward compatible with existing backups because the
new prefix will only be used on new backups as the prefix for already
existing backups is stored in the DB.

Change-Id: I2903c27633facde6370d95ba0b9e06025ccaef26
Closes-Bug: #1628768
(cherry picked from commit 535e71797031c3d3e3a5e2023c5ede470b02e3a7)
(cherry picked from commit 640b9dc2b739b04f1f7d70c2172f5b5fbc3b9b28)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/467267/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_posix.py', 'cinder/backup/drivers/posix.py', 'releasenotes/notes/nfs_backup_no_overwrite-be7b545453baf7a3.yaml']",3,bc1e8d6782106ec1f0fb4ebb1afa3f7269a4f063,bug/1628768,"--- fixes: - | Fix NFS backup driver, we now support multiple backups on the same container, they are no longer overwritten. ",,24,1
openstack%2Fcinder~master~I80483c8f20795879e8f314b534635b7d51ee5130,openstack/cinder,master,I80483c8f20795879e8f314b534635b7d51ee5130,Updated from global requirements,MERGED,2017-05-24 03:35:00.000000000,2017-05-28 13:27:21.000000000,2017-05-25 02:17:28.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-05-24 03:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a8449918377cbfbdfa1a849ae85fa63990ea680', 'message': 'Updated from global requirements\n\nChange-Id: I80483c8f20795879e8f314b534635b7d51ee5130\n'}, {'number': 2, 'created': '2017-05-24 05:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9bcd6622e8d792c036ff693ecae4ac6345b90087', 'message': 'Updated from global requirements\n\nChange-Id: I80483c8f20795879e8f314b534635b7d51ee5130\n'}, {'number': 3, 'created': '2017-05-24 11:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8d25432f7f3a2f5cfcdd47b0acf60096008353e4', 'message': 'Updated from global requirements\n\nChange-Id: I80483c8f20795879e8f314b534635b7d51ee5130\n'}, {'number': 4, 'created': '2017-05-24 23:12:17.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cba99c8b0cfe6f94776a75d2d51ac937ae0ac0d1', 'message': 'Updated from global requirements\n\nChange-Id: I80483c8f20795879e8f314b534635b7d51ee5130\n'}]",0,467456,cba99c8b0cfe6f94776a75d2d51ac937ae0ac0d1,78,29,4,11131,,,0,"Updated from global requirements

Change-Id: I80483c8f20795879e8f314b534635b7d51ee5130
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/467456/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,8a8449918377cbfbdfa1a849ae85fa63990ea680,openstack/requirements,oslo.db>=4.21.1 # Apache-2.0,oslo.db>=4.19.0 # Apache-2.0,1,1
openstack%2Fcinder~master~I150133c02f5c35a7ef226f99fe30f34c484c4341,openstack/cinder,master,I150133c02f5c35a7ef226f99fe30f34c484c4341,SolidFire Generic Groups Support,MERGED,2017-04-26 22:12:16.000000000,2017-05-28 13:27:17.000000000,2017-05-27 00:09:36.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16627}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-04-26 22:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e31de37d99aa62b367e99b83e005036849036032', 'message': 'SolidFire Generic Groups Support\n\nIn order to satisfy the changes around generic groups in Cinder, the\nconsistency group calls within the SolidFire driver were wrapped in the\nappropriate generic group calls. Asides from a few key changes, there is no\nfunctional change in the underlying methods.\n\nChange-Id: I150133c02f5c35a7ef226f99fe30f34c484c4341\nCloses-Bug: #1682241\nImplements: blueprint add generic groups to SolidFire Cinder driver\n'}, {'number': 2, 'created': '2017-05-02 19:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/54fac52a8d329ceaad348749e89c2f1a024a1185', 'message': 'SolidFire Generic Groups Support\n\nIn order to satisfy the changes around generic groups in Cinder, the\nconsistency group calls within the SolidFire driver were wrapped in the\nappropriate generic group calls. Asides from a few key changes, there\nis no functional change in the underlying methods.\n\nChange-Id: I150133c02f5c35a7ef226f99fe30f34c484c4341\nCloses-Bug: #1682241\nImplements: blueprint solidfire-add-cg-to-generic-volume-groups\n'}, {'number': 3, 'created': '2017-05-24 16:50:34.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/SolidFire-generic-volume-group-1b1e55661cd83a43.yaml', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1cbf1194203945308bfcae2656e800e5b084275f', 'message': 'SolidFire Generic Groups Support\n\nIn order to satisfy the changes around generic groups in Cinder, the\nconsistency group calls within the SolidFire driver were wrapped in the\nappropriate generic group calls. Asides from a few key changes, there\nis no functional change in the underlying methods.\n\nChange-Id: I150133c02f5c35a7ef226f99fe30f34c484c4341\nCloses-Bug: #1682241\nImplements: blueprint solidfire-add-cg-to-generic-volume-groups\n'}]",13,460335,1cbf1194203945308bfcae2656e800e5b084275f,89,36,3,16627,,,0,"SolidFire Generic Groups Support

In order to satisfy the changes around generic groups in Cinder, the
consistency group calls within the SolidFire driver were wrapped in the
appropriate generic group calls. Asides from a few key changes, there
is no functional change in the underlying methods.

Change-Id: I150133c02f5c35a7ef226f99fe30f34c484c4341
Closes-Bug: #1682241
Implements: blueprint solidfire-add-cg-to-generic-volume-groups
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/460335/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']",2,e31de37d99aa62b367e99b83e005036849036032,bug/1682241,"from cinder.tests.unit import fake_group {'status': fields.GroupStatus.AVAILABLE}, model) {'status': fields.GroupStatus.AVAILABLE}, model) source = {'group_snapshot_id': 'typical_cgsnap_id', + source.get('group_snapshot_id')) @mock.patch('cinder.volume.utils.is_group_a_cg_snapshot_type') def test_create_group_cg(self, group_cg_test): sfv = solidfire.SolidFireDriver(configuration=self.configuration) group_cg_test.return_value = True group = mock.MagicMock() result = sfv.create_group(self.ctxt, group) self.assertEqual(result, {'status': fields.GroupStatus.AVAILABLE}) group_cg_test.assert_called_once_with(group) @mock.patch('cinder.volume.utils.is_group_a_cg_snapshot_type') def test_create_group_rainy(self, group_cg_test): sfv = solidfire.SolidFireDriver(configuration=self.configuration) group_cg_test.return_value = False group = mock.MagicMock() self.assertRaises(NotImplementedError, sfv.create_group, self.ctxt, group) group_cg_test.assert_called_once_with(group) @mock.patch('cinder.volume.utils.is_group_a_cg_snapshot_type') def test_create_group_from_src_rainy(self, group_cg_test): sfv = solidfire.SolidFireDriver(configuration=self.configuration) group_cg_test.return_value = False group = mock.MagicMock() volumes = [mock.MagicMock()] self.assertRaises(NotImplementedError, sfv.create_group_from_src, self.ctxt, group, volumes) group_cg_test.assert_called_once_with(group) @mock.patch('cinder.volume.utils.is_group_a_cg_snapshot_type') def test_create_group_from_src_cg(self, group_cg_test): sfv = solidfire.SolidFireDriver(configuration=self.configuration) group_cg_test.return_value = True group = mock.MagicMock() volumes = [mock.MagicMock()] ret = 'things' with mock.patch.object(sfv, 'create_consistencygroup_from_src', return_value=ret): result = sfv.create_group_from_src(self.ctxt, group, volumes) self.assertEqual(ret, result) group_cg_test.assert_called_once_with(group) @mock.patch('cinder.volume.utils.is_group_a_cg_snapshot_type') def test_create_group_snapshot_rainy(self, group_cg_test): sfv = solidfire.SolidFireDriver(configuration=self.configuration) group_cg_test.return_value = False group_snapshot = mock.MagicMock() snapshots = [mock.MagicMock()] self.assertRaises(NotImplementedError, sfv.create_group_snapshot, self.ctxt, group_snapshot, snapshots) group_cg_test.assert_called_once_with(group_snapshot) @mock.patch('cinder.volume.utils.is_group_a_cg_snapshot_type') def test_create_group_snapshot(self, group_cg_test): sfv = solidfire.SolidFireDriver(configuration=self.configuration) group_cg_test.return_value = True group_snapshot = mock.MagicMock() snapshots = [mock.MagicMock()] ret = 'things' with mock.patch.object(sfv, 'create_cgsnapshot', return_value=ret): result = sfv.create_group_snapshot(self.ctxt, group_snapshot, snapshots) self.assertEqual(ret, result) group_cg_test.assert_called_once_with(group_snapshot) @mock.patch('cinder.volume.utils.is_group_a_cg_snapshot_type') def test_delete_group_rainy(self, group_cg_test): sfv = solidfire.SolidFireDriver(configuration=self.configuration) group_cg_test.return_value = False group = mock.MagicMock() volumes = [mock.MagicMock()] self.assertRaises(NotImplementedError, sfv.delete_group, self.ctxt, group, volumes) group_cg_test.assert_called_once_with(group) @mock.patch('cinder.volume.utils.is_group_a_cg_snapshot_type') def test_delete_group(self, group_cg_test): sfv = solidfire.SolidFireDriver(configuration=self.configuration) group_cg_test.return_value = True group = mock.MagicMock() volumes = [mock.MagicMock()] ret = 'things' with mock.patch.object(sfv, 'delete_consistencygroup', return_value=ret): result = sfv.delete_group(self.ctxt, group, volumes) self.assertEqual(ret, result) group_cg_test.assert_called_once_with(group) @mock.patch('cinder.volume.utils.is_group_a_cg_snapshot_type') def test_update_group_rainy(self, group_cg_test): sfv = solidfire.SolidFireDriver(configuration=self.configuration) group_cg_test.return_value = False group = mock.MagicMock() self.assertRaises(NotImplementedError, sfv.update_group, self.ctxt, group) group_cg_test.assert_called_once_with(group) @mock.patch('cinder.volume.utils.is_group_a_cg_snapshot_type') def test_update_group(self, group_cg_test): sfv = solidfire.SolidFireDriver(configuration=self.configuration) group_cg_test.return_value = True group = mock.MagicMock() ret = 'things' with mock.patch.object(sfv, 'update_consistencygroup', return_value=ret): result = sfv.update_group(self.ctxt, group) self.assertEqual(ret, result) group_cg_test.assert_called_once_with(group) "," {'status': fields.ConsistencyGroupStatus.AVAILABLE}, model) {'status': fields.ConsistencyGroupStatus.AVAILABLE}, model) source = {'cgsnapshot_id': 'typical_cgsnap_id', + source.get('cgsnapshot_id'))",202,17
openstack%2Fcinder~stable%2Focata~I74a85aaa912a7f4c22abbf48f0a5d1bd4538c098,openstack/cinder,stable/ocata,I74a85aaa912a7f4c22abbf48f0a5d1bd4538c098,VMAX driver - Rollback error on Live Migration,MERGED,2017-05-24 13:35:44.000000000,2017-05-28 13:27:12.000000000,2017-05-24 17:01:39.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 16595}, {'_account_id': 17565}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24578}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-05-24 13:35:44.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/masking.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_vmax.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/34850ce4113bfafc2b75680a784dde8836208ac0', 'message': 'VMAX driver - Rollback error on Live Migration\n\nThis patch fixes an issue where errorMessage is not getting reassigned\nfrom None in the method ._get_port_group_name_from_mv., having the knock\non effect where errors are not being picked up in subsequent calls or\nconditional checks.\n\nChange-Id: I74a85aaa912a7f4c22abbf48f0a5d1bd4538c098\nCloses-Bug: #1686174\n(cherry picked from commit b44f55c5163579e720b4f19a09be2e0a859e43d7)\n'}]",0,467626,34850ce4113bfafc2b75680a784dde8836208ac0,22,16,1,12670,,,0,"VMAX driver - Rollback error on Live Migration

This patch fixes an issue where errorMessage is not getting reassigned
from None in the method ._get_port_group_name_from_mv., having the knock
on effect where errors are not being picked up in subsequent calls or
conditional checks.

Change-Id: I74a85aaa912a7f4c22abbf48f0a5d1bd4538c098
Closes-Bug: #1686174
(cherry picked from commit b44f55c5163579e720b4f19a09be2e0a859e43d7)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/467626/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/vmax/masking.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_vmax.py']",2,34850ce4113bfafc2b75680a784dde8836208ac0,," port_group_instance = {'ElementName': 'OS-portgroup-PG'} @mock.patch.object( masking.VMAXMasking, '_get_port_group_from_masking_view', return_value=VMAXCommonData.port_group) def test_get_port_group_name_from_mv_success(self, mock_pg_name): masking = self.driver.common.masking conn = self.fake_ecom_connection() mv_name = self.data.lunmaskctrl_name system_name = self.data.storage_system conn.GetInstance = mock.Mock( return_value=self.data.port_group_instance) pg_name, err_msg = ( masking._get_port_group_name_from_mv(conn, mv_name, system_name)) self.assertIsNone(err_msg) self.assertIsNotNone(pg_name) @mock.patch.object( masking.VMAXMasking, '_get_port_group_from_masking_view', return_value=None) def test_get_port_group_name_from_mv_fail_1(self, mock_pg_name): masking = self.driver.common.masking conn = self.fake_ecom_connection() mv_name = self.data.lunmaskctrl_name system_name = self.data.storage_system pg_name, err_msg = ( masking._get_port_group_name_from_mv(conn, mv_name, system_name)) self.assertIsNone(pg_name) self.assertIsNotNone(err_msg) @mock.patch.object( masking.VMAXMasking, '_get_port_group_from_masking_view', return_value=VMAXCommonData.port_group) def test_get_port_group_name_from_mv_fail_2(self, mock_pg_name): masking = self.driver.common.masking conn = self.fake_ecom_connection() mv_name = self.data.lunmaskctrl_name system_name = self.data.storage_system conn.GetInstance = mock.Mock(return_value={}) pg_name, err_msg = ( masking._get_port_group_name_from_mv(conn, mv_name, system_name)) self.assertIsNone(pg_name) self.assertIsNotNone(err_msg) ",,58,6
openstack%2Fcinder~master~I361458adbc1851a99a9bcffe82a02ba96a9fd460,openstack/cinder,master,I361458adbc1851a99a9bcffe82a02ba96a9fd460,Fix backup temp snapshot path on remote node,MERGED,2016-05-20 20:05:23.000000000,2017-05-28 13:27:10.000000000,2017-05-25 15:17:34.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 13900}, {'_account_id': 14259}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 16862}, {'_account_id': 16880}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 17565}, {'_account_id': 17852}, {'_account_id': 18026}, {'_account_id': 18120}, {'_account_id': 18402}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 20629}, {'_account_id': 21193}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 22804}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 25243}]","[{'number': 1, 'created': '2016-05-20 20:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d4f31b14dadf24e9b06bc56dd0cddbe5e47fa91', 'message': 'Testing: Do Not Merge\n\nChange-Id: I361458adbc1851a99a9bcffe82a02ba96a9fd460\n'}, {'number': 2, 'created': '2016-05-21 20:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a1949864fd32a7f516d51ae2c734484eda37e718', 'message': 'Testing: Do Not Merge\n\nChange-Id: I361458adbc1851a99a9bcffe82a02ba96a9fd460\n'}, {'number': 3, 'created': '2016-05-21 20:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d772e1ab3bac63e989e2c287d8428e5a1377d946', 'message': 'Testing: Do Not Merge\n\nChange-Id: I361458adbc1851a99a9bcffe82a02ba96a9fd460\n'}, {'number': 4, 'created': '2016-06-23 03:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/95f123ce9b649f862d24d10da211928dd11b7131', 'message': 'WIP: Fix backup temp snapshot path on remote node\n\nThe backup using temp snapshot code path was broken\nMitaka. The following patches fixed it on the local\nnode so that the fix can be backported:\n  https://review.openstack.org/#/c/321943/\n  https://review.openstack.org/#/c/331835/\n\nContinuing with the effort, this patch tries to\naddress the problem on the remote node so that\nbackup using temp snapshot code path will work\nwhen backup and volume service are running on\ndifferent nodes.\n\nChange-Id: I361458adbc1851a99a9bcffe82a02ba96a9fd460\n'}, {'number': 5, 'created': '2016-06-23 03:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac340fb40ab0666b2c0e4d231380c75fb3477141', 'message': 'WIP: Fix backup temp snapshot path on remote node\n\nThe backup using temp snapshot code path was broken\nMitaka. The following patches fixed it on the local\nnode so that the fix can be backported:\n  https://review.openstack.org/#/c/321943/\n  https://review.openstack.org/#/c/331835/\n\nContinuing with the effort, this patch tries to\naddress the problem on the remote node so that\nbackup using temp snapshot code path will work\nwhen backup and volume service are running on\ndifferent nodes.\n\nCo-Authored-By: Accela Zhao <accelazh@gmail.com>\n\nChange-Id: I361458adbc1851a99a9bcffe82a02ba96a9fd460\n'}, {'number': 6, 'created': '2016-06-26 14:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b6c1c45f99eb35b2c419304d31dbd58591899d51', 'message': 'WIP: Fix backup temp snapshot path on remote node\n\nThe backup using temp snapshot code path was broken\nMitaka. The following patches fixed it on the local\nnode so that the fix can be backported:\n  https://review.openstack.org/#/c/321943/\n  https://review.openstack.org/#/c/331835/\n\nContinuing with the effort, this patch tries to\naddress the problem on the remote node so that\nbackup using temp snapshot code path will work\nwhen backup and volume service are running on\ndifferent nodes.\n\nCo-Authored-By: Accela Zhao <accelazh@gmail.com>\n\nCloses-Bug: #1596305\nChange-Id: I361458adbc1851a99a9bcffe82a02ba96a9fd460\n'}, {'number': 7, 'created': '2016-07-29 15:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0c319e0cb52a57055a9c08d3236e4dada2d796db', 'message': 'WIP: Fix backup temp snapshot path on remote node\n\nThe backup using temp snapshot code path was broken\nMitaka. The following patches fixed it on the local\nnode so that the fix can be backported:\n  https://review.openstack.org/#/c/321943/\n  https://review.openstack.org/#/c/331835/\n\nContinuing with the effort, this patch tries to\naddress the problem on the remote node so that\nbackup using temp snapshot code path will work\nwhen backup and volume service are running on\ndifferent nodes.\n\nCo-Authored-By: Accela Zhao <accelazh@gmail.com>\n\nCloses-Bug: #1596305\nChange-Id: I361458adbc1851a99a9bcffe82a02ba96a9fd460\n'}, {'number': 8, 'created': '2016-07-30 03:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6783d53f9f6ea95478933bdd51e1864598b1436f', 'message': 'WIP: Fix backup temp snapshot path on remote node\n\nThe backup using temp snapshot code path was broken\nMitaka. The following patches fixed it on the local\nnode so that the fix can be backported:\n  https://review.openstack.org/#/c/321943/\n  https://review.openstack.org/#/c/331835/\n\nContinuing with the effort, this patch tries to\naddress the problem on the remote node so that\nbackup using temp snapshot code path will work\nwhen backup and volume service are running on\ndifferent nodes.\n\nCo-Authored-By: Accela Zhao <accelazh@gmail.com>\n\nCloses-Bug: #1596305\nChange-Id: I361458adbc1851a99a9bcffe82a02ba96a9fd460\n'}, {'number': 9, 'created': '2016-08-05 04:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/923af734cb1bb960df9ec998541bb650ce4aa5de', 'message': 'WIP: Fix backup temp snapshot path on remote node\n\nThe backup using temp snapshot code path was broken\nMitaka. The following patches fixed it on the local\nnode so that the fix can be backported:\n\n  https://review.openstack.org/#/c/321943/\n  https://review.openstack.org/#/c/331835/\n\nContinuing with the effort, this patch tries to\naddress the problem on the remote node so that\nbackup using temp snapshot code path will work\nwhen backup and volume service are running on\ndifferent nodes.\n\nCo-Authored-By: Accela Zhao <accelazh@gmail.com>\nCloses-Bug: #1596305\nChange-Id: I361458adbc1851a99a9bcffe82a02ba96a9fd460\n'}, {'number': 10, 'created': '2017-03-21 21:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef017e5e0147698f5d001266a6521fbc77fa4004', 'message': 'WIP: Fix backup temp snapshot path on remote node\n\nThe backup using temp snapshot code path was broken\nMitaka. The following patches fixed it on the local\nnode so that the fix can be backported:\n\n  https://review.openstack.org/#/c/321943/\n  https://review.openstack.org/#/c/331835/\n\nContinuing with the effort, this patch tries to\naddress the problem on the remote node so that\nbackup using temp snapshot code path will work\nwhen backup and volume service are running on\ndifferent nodes.\n\nCo-Authored-By: Accela Zhao <accelazh@gmail.com>\nCloses-Bug: #1596305\nChange-Id: I361458adbc1851a99a9bcffe82a02ba96a9fd460\n'}, {'number': 11, 'created': '2017-03-30 17:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/87d99db9231dfb2e95fb8bd734729902814c3366', 'message': 'WIP: Fix backup temp snapshot path on remote node\n\nThe backup using temp snapshot code path was broken\nMitaka. The following patches fixed it on the local\nnode so that the fix can be backported:\n\n  https://review.openstack.org/#/c/321943/\n  https://review.openstack.org/#/c/331835/\n\nContinuing with the effort, this patch tries to\naddress the problem on the remote node so that\nbackup using temp snapshot code path will work\nwhen backup and volume service are running on\ndifferent nodes.\n\nCo-Authored-By: Accela Zhao <accelazh@gmail.com>\nCloses-Bug: #1596305\nChange-Id: I361458adbc1851a99a9bcffe82a02ba96a9fd460\n'}, {'number': 12, 'created': '2017-04-04 19:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e3caee07e82fd7f7923fe7ea5f246ba105473672', 'message': 'WIP: Fix backup temp snapshot path on remote node\n\nThe backup using temp snapshot code path was broken\nMitaka. The following patches fixed it on the local\nnode so that the fix can be backported:\n\n  https://review.openstack.org/#/c/321943/\n  https://review.openstack.org/#/c/331835/\n\nContinuing with the effort, this patch tries to\naddress the problem on the remote node so that\nbackup using temp snapshot code path will work\nwhen backup and volume service are running on\ndifferent nodes.\n\nCo-Authored-By: Accela Zhao <accelazh@gmail.com>\nCloses-Bug: #1596305\nChange-Id: I361458adbc1851a99a9bcffe82a02ba96a9fd460\n'}, {'number': 13, 'created': '2017-04-04 20:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bfc85ef4ae9757c9ef9150d055c46270a95cea83', 'message': 'Fix backup temp snapshot path on remote node\n\nThe backup using temp snapshot code path was broken\nin Mitaka. The following patches fixed it on the local\nnode so that the fix can be backported:\n\n  https://review.openstack.org/#/c/321943/\n  https://review.openstack.org/#/c/331835/\n\nContinuing with the effort, this patch tries to\naddress the problem on the remote node so that\nbackup using temp snapshot code path will work\nwhen backup and volume service are running on\ndifferent nodes.\n\nCo-Authored-By: Accela Zhao <accelazh@gmail.com>\nCloses-Bug: #1596305\nChange-Id: I361458adbc1851a99a9bcffe82a02ba96a9fd460\n'}, {'number': 14, 'created': '2017-04-04 20:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0252695c5613ea00b3c6ff67d93c9780c283ba98', 'message': 'Fix backup temp snapshot path on remote node\n\nThe backup using temp snapshot code path was broken\nin Mitaka. The following patches fixed it on the local\nnode so that the fix can be backported:\n\n  https://review.openstack.org/#/c/321943/\n  https://review.openstack.org/#/c/331835/\n\nContinuing with the effort, this patch tries to\naddress the problem on the remote node so that\nbackup using temp snapshot code path will work\nwhen backup and volume service are running on\ndifferent nodes.\n\nCo-Authored-By: Accela Zhao <accelazh@gmail.com>\nCloses-Bug: #1596305\nChange-Id: I361458adbc1851a99a9bcffe82a02ba96a9fd460\n'}, {'number': 15, 'created': '2017-04-04 21:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f5ca3b0bd2522715d8372c26e53068bb2b906d0', 'message': 'Fix backup temp snapshot path on remote node\n\nThe backup using temp snapshot code path was broken\nin Mitaka. The following patches fixed it on the local\nnode so that the fix can be backported:\n\n  https://review.openstack.org/#/c/321943/\n  https://review.openstack.org/#/c/331835/\n\nContinuing with the effort, this patch tries to\naddress the problem on the remote node so that\nbackup using temp snapshot code path will work\nwhen backup and volume service are running on\ndifferent nodes.\n\nCo-Authored-By: Accela Zhao <accelazh@gmail.com>\nCloses-Bug: #1596305\nChange-Id: I361458adbc1851a99a9bcffe82a02ba96a9fd460\n'}, {'number': 16, 'created': '2017-04-21 16:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b8181ae792fc57a5be2678aaeb607e18bdf0e96b', 'message': 'Fix backup temp snapshot path on remote node\n\nThe backup using temp snapshot code path was broken\nin Mitaka. The following patches fixed it on the local\nnode so that the fix can be backported:\n\n  https://review.openstack.org/#/c/321943/\n  https://review.openstack.org/#/c/331835/\n\nContinuing with the effort, this patch tries to\naddress the problem on the remote node so that\nbackup using temp snapshot code path will work\nwhen backup and volume service are running on\ndifferent nodes.\n\nCo-Authored-By: Accela Zhao <accelazh@gmail.com>\nCloses-Bug: #1596305\nChange-Id: I361458adbc1851a99a9bcffe82a02ba96a9fd460\n'}, {'number': 17, 'created': '2017-04-26 23:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/952985c976614abda98259b6b7ee3a2d64d18bbc', 'message': 'Fix backup temp snapshot path on remote node\n\nThe backup using temp snapshot code path was broken\nin Mitaka. The following patches fixed it on the local\nnode so that the fix can be backported:\n\n  https://review.openstack.org/#/c/321943/\n  https://review.openstack.org/#/c/331835/\n\nContinuing with the effort, this patch tries to\naddress the problem on the remote node so that\nbackup using temp snapshot code path will work\nwhen backup and volume service are running on\ndifferent nodes.\n\nCo-Authored-By: Accela Zhao <accelazh@gmail.com>\nCloses-Bug: #1596305\nChange-Id: I361458adbc1851a99a9bcffe82a02ba96a9fd460\n'}, {'number': 18, 'created': '2017-05-24 13:12:54.000000000', 'files': ['cinder/volume/manager.py', 'cinder/backup/manager.py', 'cinder/volume/driver.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/volume/rpcapi.py', 'cinder/tests/unit/volume/test_rpcapi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea7d0860c5deaa345f1d6f7b6a348751222da3d9', 'message': 'Fix backup temp snapshot path on remote node\n\nThe backup using temp snapshot code path was broken\nin Mitaka. The following patches fixed it on the local\nnode so that the fix can be backported:\n\n  https://review.openstack.org/#/c/321943/\n  https://review.openstack.org/#/c/331835/\n\nContinuing with the effort, this patch tries to\naddress the problem on the remote node so that\nbackup using temp snapshot code path will work\nwhen backup and volume service are running on\ndifferent nodes.\n\nCo-Authored-By: Accela Zhao <accelazh@gmail.com>\nCloses-Bug: #1596305\nChange-Id: I361458adbc1851a99a9bcffe82a02ba96a9fd460\n'}]",19,319434,ea7d0860c5deaa345f1d6f7b6a348751222da3d9,371,68,18,6491,,,0,"Fix backup temp snapshot path on remote node

The backup using temp snapshot code path was broken
in Mitaka. The following patches fixed it on the local
node so that the fix can be backported:

  https://review.openstack.org/#/c/321943/
  https://review.openstack.org/#/c/331835/

Continuing with the effort, this patch tries to
address the problem on the remote node so that
backup using temp snapshot code path will work
when backup and volume service are running on
different nodes.

Co-Authored-By: Accela Zhao <accelazh@gmail.com>
Closes-Bug: #1596305
Change-Id: I361458adbc1851a99a9bcffe82a02ba96a9fd460
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/319434/16 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/driver.py'],1,4d4f31b14dadf24e9b06bc56dd0cddbe5e47fa91,bug/1596305, if self.backup_use_temp_snapshot():, if (self.backup_use_temp_snapshot() and self.snapshot_remote_attachable()):,1,2
openstack%2Fcinder~stable%2Focata~Ib8a628016caf88f67ec54ce10bc735053b70c8c2,openstack/cinder,stable/ocata,Ib8a628016caf88f67ec54ce10bc735053b70c8c2,VMAX driver - Manage/Unmanage performance fix,MERGED,2017-05-24 11:15:30.000000000,2017-05-28 13:27:08.000000000,2017-05-24 17:08:34.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 16595}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19933}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-05-24 11:15:30.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py', 'cinder/volume/drivers/dell_emc/vmax/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a051532fdc6b328e8794a92bb1dfb571571d44ae', 'message': 'VMAX driver - Manage/Unmanage performance fix\n\nPreviously managing an existing volume made a call to the ECOM\nserver which retrieved every volume across all connected arrays.\nWhen this call was made if there were heavily populated arrays\nthe call would hang and eventually crash. To get around this,\ninstead of seeking the volume at the start of the manage operation,\nthe relevant details are filled in to a CIMInstanceName object and\nthis object is used for a more directed search to the ECOM server,\nreturning the volume successfully if it exists.\n\nChange-Id: Ib8a628016caf88f67ec54ce10bc735053b70c8c2\nCloses-Bug: #1681888\n(cherry picked from commit dd7ea30547321819f74f4899019f44ff15697b43)\n'}]",0,467590,a051532fdc6b328e8794a92bb1dfb571571d44ae,21,12,1,12670,,,0,"VMAX driver - Manage/Unmanage performance fix

Previously managing an existing volume made a call to the ECOM
server which retrieved every volume across all connected arrays.
When this call was made if there were heavily populated arrays
the call would hang and eventually crash. To get around this,
instead of seeking the volume at the start of the manage operation,
the relevant details are filled in to a CIMInstanceName object and
this object is used for a more directed search to the ECOM server,
returning the volume successfully if it exists.

Change-Id: Ib8a628016caf88f67ec54ce10bc735053b70c8c2
Closes-Bug: #1681888
(cherry picked from commit dd7ea30547321819f74f4899019f44ff15697b43)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/467590/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py', 'cinder/volume/drivers/dell_emc/vmax/utils.py']",3,a051532fdc6b328e8794a92bb1dfb571571d44ae,," def get_assoc_v2_pool_from_volume(self, conn, volumeInstanceName): """"""Give the volume instance get the associated pool instance. :param conn: connection to the ecom server :param volumeInstanceName: the volume instance name :returns: foundPoolInstanceName """""" foundPoolInstanceName = None foundPoolInstanceNames = ( conn.AssociatorNames(volumeInstanceName, ResultClass='EMC_VirtualProvisioningPool')) if not foundPoolInstanceNames: deviceID = volumeInstanceName['DeviceID'] LOG.debug(""Volume %(deviceId)s not in V2 pool"", {'deviceId': deviceID}) else: LOG.debug(""Retrieved pool: %(foundPoolInstanceNames)s"", {'foundPoolInstanceNames': foundPoolInstanceNames}) if foundPoolInstanceNames and len(foundPoolInstanceNames) > 0: foundPoolInstanceName = foundPoolInstanceNames[0] return foundPoolInstanceName def get_assoc_v3_pool_from_volume(self, conn, volumeInstanceName): """"""Give the volume instance get the associated pool instance. :param conn: connection to the ecom server :param volumeInstanceName: the volume instance name :returns: foundPoolInstanceName """""" foundPoolInstanceName = None foundPoolInstanceNames = ( conn.AssociatorNames(volumeInstanceName, ResultClass='Symm_SRPStoragePool')) if not foundPoolInstanceNames: deviceID = volumeInstanceName['DeviceID'] LOG.debug(""Volume %(deviceId)s not in V3 SRP"", {'deviceId': deviceID}) exceptionMessage = (""Unable to locate volume %(deviceId)s"", {'deviceId': deviceID}) LOG.error(exceptionMessage) raise exception.VolumeBackendAPIException( data=exceptionMessage) else: LOG.debug(""Retrieved pool: %(foundPoolInstanceNames)s"", {'foundPoolInstanceNames': foundPoolInstanceNames}) if foundPoolInstanceNames and len(foundPoolInstanceNames) > 0: foundPoolInstanceName = foundPoolInstanceNames[0] return foundPoolInstanceName def find_volume_by_device_id_on_array(self, storageSystem, deviceID): systemName = 'SYMMETRIX-+-%s' % storageSystem bindings = {'CreationClassName': 'Symm_StorageVolume', 'SystemName': systemName, 'DeviceID': deviceID, 'SystemCreationClassName': 'Symm_StorageSystem'} instanceName = pywbem.CIMInstanceName( classname='Symm_StorageVolume', namespace=EMC_ROOT, keybindings=bindings) LOG.debug(""Retrieved volume from VMAX: %(instanceName)s"", {'instanceName': instanceName}) return instanceName def check_volume_no_fast(self, extraSpecs): """"""Check if the volume's extraSpecs indicate FAST is enabled. :param extraSpecs: dict -- extra spec dict :return: True if not fast :raises: VolumeBackendAPIException """""" try: if extraSpecs['storagetype:fastpolicy'] is not None: LOG.warning(_LW( ""FAST is enabled. Policy: %(fastPolicyName)s.""), {'fastPolicyName': extraSpecs['storagetype:fastpolicy']}) exceptionMessage = (_( ""Manage volume is not supported if FAST is enabled. "" ""FAST policy: %(fastPolicyName)s."" ) % {'fastPolicyName': extraSpecs[ 'storagetype:fastpolicy']}) LOG.error(exceptionMessage) raise exception.VolumeBackendAPIException( data=exceptionMessage) else: return True except KeyError: return True def check_volume_not_in_masking_view(self, conn, volumeInstanceName, deviceId): """"""Check if volume is in Masking View. :param conn: connection to the ecom server :param volumeInstanceName: the volume instance name :param deviceId: string value of the volume device ID :raises: VolumeBackendAPIException :return: True if not in Masking View """""" sgInstanceNames = ( self.get_storage_groups_from_volume( conn, volumeInstanceName)) mvInstanceName = None for sgInstanceName in sgInstanceNames: maskingViews = conn.AssociatorNames( sgInstanceName, ResultClass='Symm_LunMaskingView') if len(maskingViews) > 0: mvInstanceName = maskingViews[0] if mvInstanceName: exceptionMessage = (_( ""Unable to import volume %(deviceId)s to cinder. "" ""Volume is in masking view %(mv)s."") % {'deviceId': deviceId, 'mv': mvInstanceName}) LOG.error(exceptionMessage) raise exception.VolumeBackendAPIException( data=exceptionMessage) if not mvInstanceName: return True def check_volume_not_replication_source(self, conn, storageSystemName, deviceId): """"""Check volume not replication source. Check if the volume is the source of a replicated volume. :param conn: connection to the ecom server :param storageSystemName: the storage system name :param deviceId: string value of the volume device ID :raises: VolumeBackendAPIException :returns: True if not replication source """""" repSessionInstanceName = ( self.get_associated_replication_from_source_volume( conn, storageSystemName, deviceId)) if repSessionInstanceName: exceptionMessage = (_( ""Unable to import volume %(deviceId)s to cinder. "" ""It is the source volume of replication session %(sync)s."") % {'deviceId': deviceId, 'sync': repSessionInstanceName}) LOG.error(exceptionMessage) raise exception.VolumeBackendAPIException( data=exceptionMessage) else: return True def check_is_volume_in_cinder_managed_pool( self, conn, volumeInstanceName, cinderPoolInstanceName, deviceId): """"""Check if volume is in a Cinder managed pool. :param conn: connection to the ecom server :param volumeInstanceName: the volume instance name :param cinderPoolInstanceName: the name of the storage pool :param deviceId: string value of the volume device ID :raises: VolumeBackendAPIException :returns: True if volume in cinder managed pool """""" volumePoolInstanceName = ( self.get_assoc_v2_pool_from_volume(conn, volumeInstanceName)) if not volumePoolInstanceName: volumePoolInstanceName = ( self.get_assoc_v3_pool_from_volume(conn, volumeInstanceName)) volumePoolName = volumePoolInstanceName['InstanceID'] cinderPoolName = cinderPoolInstanceName['InstanceID'] LOG.debug(""Storage pool of existing volume: %(volPool)s, "" ""Storage pool currently managed by cinder: %(cinderPool)s."", {'volPool': volumePoolName, 'cinderPool': cinderPoolName}) if volumePoolName != cinderPoolName: exceptionMessage = (_( ""Unable to import volume %(deviceId)s to cinder. The external "" ""volume is not in the pool managed by current cinder host."") % {'deviceId': deviceId}) LOG.error(exceptionMessage) raise exception.VolumeBackendAPIException( data=exceptionMessage) else: return True volumeInstance['ElementName'] = newName @staticmethod def get_array_and_device_id(volume, external_ref): device_id = external_ref.get(u'source-name', None) LOG.debug(""External_ref: %(er)s"", {'er': external_ref}) if not device_id: device_id = external_ref.get(u'source-id', None) host = volume['host'] host_list = host.split('+') array = host_list[(len(host_list) - 1)] if device_id: ""%(device_id)s, Array: %(array)s."", {'device_id': device_id, 'array': array}) return array, device_id"," def find_volume_by_device_id_on_array(self, conn, storageSystem, deviceID): :param conn: connection to the ecom server foundVolumeInstanceName = None volumeInstanceNames = conn.EnumerateInstanceNames( 'CIM_StorageVolume') for volumeInstanceName in volumeInstanceNames: if storageSystem not in volumeInstanceName['SystemName']: continue if deviceID == volumeInstanceName['DeviceID']: foundVolumeInstanceName = volumeInstanceName LOG.debug(""Found volume: %(vol)s"", {'vol': foundVolumeInstanceName}) break if foundVolumeInstanceName is None: exceptionMessage = (_(""Volume %(deviceID)s not found."") % {'deviceID': deviceID}) LOG.error(exceptionMessage) raise exception.VolumeBackendAPIException(data=exceptionMessage) return foundVolumeInstanceName def get_array_and_device_id(self, volume, external_ref): deviceId = external_ref.get(u'source-name', None) arrayName = '' for metadata in volume['volume_metadata']: if metadata['key'].lower() == 'array': arrayName = metadata['value'] break if deviceId: ""%(deviceId)s, Array: %(arrayName)s."", {'deviceId': deviceId, 'arrayName': arrayName}) return (arrayName, deviceId)",649,195
openstack%2Fcinder~master~I41bf6ee4291e958e3c208f839a9cb317157a1d60,openstack/cinder,master,I41bf6ee4291e958e3c208f839a9cb317157a1d60,Remove empty line in api_version_request,MERGED,2017-05-24 00:50:33.000000000,2017-05-28 13:27:02.000000000,2017-05-25 04:12:24.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24578}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-05-24 00:50:33.000000000', 'files': ['cinder/api/openstack/api_version_request.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ee1d4c48acbd16ac3f23d3abf77239c89fb24122', 'message': 'Remove empty line in api_version_request\n\nRemove empty line in api_version_request which\nis added in previous commit by mistake.\n\nChange-Id: I41bf6ee4291e958e3c208f839a9cb317157a1d60\n'}]",0,467425,ee1d4c48acbd16ac3f23d3abf77239c89fb24122,53,16,1,23083,,,0,"Remove empty line in api_version_request

Remove empty line in api_version_request which
is added in previous commit by mistake.

Change-Id: I41bf6ee4291e958e3c208f839a9cb317157a1d60
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/467425/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/openstack/api_version_request.py'],1,ee1d4c48acbd16ac3f23d3abf77239c89fb24122,fix/fix_empty_line_error,,,0,1
openstack%2Fcinder~master~I07353e42f6a4b2b13e0316f9a888c80156ef2f7d,openstack/cinder,master,I07353e42f6a4b2b13e0316f9a888c80156ef2f7d,Create volume from VHD format image always failed,MERGED,2017-05-23 07:06:47.000000000,2017-05-28 13:26:46.000000000,2017-05-24 14:45:17.000000000,"[{'_account_id': 3}, {'_account_id': 2759}, {'_account_id': 4523}, {'_account_id': 6491}, {'_account_id': 6735}, {'_account_id': 7173}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 15054}, {'_account_id': 16595}, {'_account_id': 17920}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-05-23 07:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f66adf22e96e9977513af20e552ba46fa528b9a6', 'message': ""Create volume from VHD format image always failed\n\nThe root cause is that it will convert the format from vhd to\nraw. But the excepted format by qemu-img is vpc instead of vhd.\nAt the moment it passes the format from image's metadata to\nqemu-img. But the problem is that in the word of image, it uses\nvhd as the image's format. So the fix is to use the format got\nfrom file parser - via the function of qemu_img_info().\n\nChange-Id: I07353e42f6a4b2b13e0316f9a888c80156ef2f7d\n""}, {'number': 2, 'created': '2017-05-23 07:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/da75c84b7ce0b9e0de56acb22f701e90adc1f0a8', 'message': ""Create volume from VHD format image always failed\n\nThe root cause is that it will convert the format from vhd to\nraw. But the excepted format by qemu-img is vpc instead of vhd.\nAt the moment it passes the format from image's metadata to\nqemu-img. But the problem is that in the word of image, it uses\nvhd as the image's format. So the fix is to use the format got\nfrom file parser - via the function of qemu_img_info().\n\nCloses-Bug: #1692816\n\nChange-Id: I07353e42f6a4b2b13e0316f9a888c80156ef2f7d\n""}, {'number': 3, 'created': '2017-05-23 15:49:14.000000000', 'files': ['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/63b06600717f0a15e301f6a760e8345e5152d26d', 'message': 'Create volume from VHD format image always failed\n\nThe root cause is that it will use qemu-img to convert the\nformat from vhd. And it pass ""-f vhd"" to qemu-img but actually\nqemu-img expects ""-f vpc"" as qemu-img still use the legacy\nname ""vpc"" for VHD. So need map it to ""vpc"" if the disk format\ngot from glance is VHD.\n\nCloses-Bug: #1692816\n\nChange-Id: I07353e42f6a4b2b13e0316f9a888c80156ef2f7d\n'}]",1,467039,63b06600717f0a15e301f6a760e8345e5152d26d,52,22,3,17920,,,0,"Create volume from VHD format image always failed

The root cause is that it will use qemu-img to convert the
format from vhd. And it pass ""-f vhd"" to qemu-img but actually
qemu-img expects ""-f vpc"" as qemu-img still use the legacy
name ""vpc"" for VHD. So need map it to ""vpc"" if the disk format
got from glance is VHD.

Closes-Bug: #1692816

Change-Id: I07353e42f6a4b2b13e0316f9a888c80156ef2f7d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/467039/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/image/image_utils.py'],1,f66adf22e96e9977513af20e552ba46fa528b9a6,bug/1692816," src_format=fmt,"," src_format=image_meta['disk_format'],",1,1
openstack%2Fcinder~driverfixes%2Fmitaka~I2903c27633facde6370d95ba0b9e06025ccaef26,openstack/cinder,driverfixes/mitaka,I2903c27633facde6370d95ba0b9e06025ccaef26,NFS Backup: Fix overwritting backups,MERGED,2017-05-23 14:44:42.000000000,2017-05-28 13:26:43.000000000,2017-05-23 17:15:06.000000000,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 16595}, {'_account_id': 17565}, {'_account_id': 19146}, {'_account_id': 19933}, {'_account_id': 22126}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-05-23 14:44:42.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_posix.py', 'cinder/backup/drivers/posix.py', 'releasenotes/notes/nfs_backup_no_overwrite-be7b545453baf7a3.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/186a0a8a050af379cfc4c96c9baa55605c714eeb', 'message': 'NFS Backup: Fix overwritting backups\n\nWhen using the NFS backup driver if we do multiple backups using the\nsame container we end up overwriting older backups.\n\nThe issue comes from a misunderstanding in the Posix backup driver of\nthe purpose of the ""prefix"" metadata used in the ChunkedBackupDriver\nbase class.\n\nThis prefix is for the name of the backup objects to store, but unlike\nthe prefix for the volumes, here it must be unique as the base driver\nwill only add numbers to identify the chunk (for the volume we add the\nvolume id).  Unfortunately the Posix driver just assumed that the prefix\nhad the same meaning as the prefix for volumes thus making one backups\noverride one another.\n\nThis patch changes the prefix generated by the Posix driver so we have\nthe following format: ""volume_$VOL_ID_$TIMESTAMP_backup_$BACK_ID"", thus\nallowing multiple backups in the same container.\n\nThe new name is backward compatible with existing backups because the\nnew prefix will only be used on new backups as the prefix for already\nexisting backups is stored in the DB.\n\nChange-Id: I2903c27633facde6370d95ba0b9e06025ccaef26\nCloses-Bug: #1628768\n(cherry picked from commit 535e71797031c3d3e3a5e2023c5ede470b02e3a7)\n(cherry picked from commit 640b9dc2b739b04f1f7d70c2172f5b5fbc3b9b28)\n(cherry picked from commit bc1e8d6782106ec1f0fb4ebb1afa3f7269a4f063)\n'}]",0,467268,186a0a8a050af379cfc4c96c9baa55605c714eeb,18,11,1,9535,,,0,"NFS Backup: Fix overwritting backups

When using the NFS backup driver if we do multiple backups using the
same container we end up overwriting older backups.

The issue comes from a misunderstanding in the Posix backup driver of
the purpose of the ""prefix"" metadata used in the ChunkedBackupDriver
base class.

This prefix is for the name of the backup objects to store, but unlike
the prefix for the volumes, here it must be unique as the base driver
will only add numbers to identify the chunk (for the volume we add the
volume id).  Unfortunately the Posix driver just assumed that the prefix
had the same meaning as the prefix for volumes thus making one backups
override one another.

This patch changes the prefix generated by the Posix driver so we have
the following format: ""volume_$VOL_ID_$TIMESTAMP_backup_$BACK_ID"", thus
allowing multiple backups in the same container.

The new name is backward compatible with existing backups because the
new prefix will only be used on new backups as the prefix for already
existing backups is stored in the DB.

Change-Id: I2903c27633facde6370d95ba0b9e06025ccaef26
Closes-Bug: #1628768
(cherry picked from commit 535e71797031c3d3e3a5e2023c5ede470b02e3a7)
(cherry picked from commit 640b9dc2b739b04f1f7d70c2172f5b5fbc3b9b28)
(cherry picked from commit bc1e8d6782106ec1f0fb4ebb1afa3f7269a4f063)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/467268/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_posix.py', 'cinder/backup/drivers/posix.py', 'releasenotes/notes/nfs_backup_no_overwrite-be7b545453baf7a3.yaml']",3,186a0a8a050af379cfc4c96c9baa55605c714eeb,bug/1628768,"--- fixes: - | Fix NFS backup driver, we now support multiple backups on the same container, they are no longer overwritten. ",,24,1
openstack%2Fcinder~stable%2Focata~I2903c27633facde6370d95ba0b9e06025ccaef26,openstack/cinder,stable/ocata,I2903c27633facde6370d95ba0b9e06025ccaef26,NFS Backup: Fix overwritting backups,MERGED,2017-05-23 14:40:58.000000000,2017-05-28 13:26:41.000000000,2017-05-24 16:40:38.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 16595}, {'_account_id': 19146}, {'_account_id': 23613}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-05-23 14:40:58.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_posix.py', 'cinder/backup/drivers/posix.py', 'releasenotes/notes/nfs_backup_no_overwrite-be7b545453baf7a3.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/640b9dc2b739b04f1f7d70c2172f5b5fbc3b9b28', 'message': 'NFS Backup: Fix overwritting backups\n\nWhen using the NFS backup driver if we do multiple backups using the\nsame container we end up overwriting older backups.\n\nThe issue comes from a misunderstanding in the Posix backup driver of\nthe purpose of the ""prefix"" metadata used in the ChunkedBackupDriver\nbase class.\n\nThis prefix is for the name of the backup objects to store, but unlike\nthe prefix for the volumes, here it must be unique as the base driver\nwill only add numbers to identify the chunk (for the volume we add the\nvolume id).  Unfortunately the Posix driver just assumed that the prefix\nhad the same meaning as the prefix for volumes thus making one backups\noverride one another.\n\nThis patch changes the prefix generated by the Posix driver so we have\nthe following format: ""volume_$VOL_ID_$TIMESTAMP_backup_$BACK_ID"", thus\nallowing multiple backups in the same container.\n\nThe new name is backward compatible with existing backups because the\nnew prefix will only be used on new backups as the prefix for already\nexisting backups is stored in the DB.\n\nChange-Id: I2903c27633facde6370d95ba0b9e06025ccaef26\nCloses-Bug: #1628768\n(cherry picked from commit 535e71797031c3d3e3a5e2023c5ede470b02e3a7)\n'}]",0,467262,640b9dc2b739b04f1f7d70c2172f5b5fbc3b9b28,20,7,1,9535,,,0,"NFS Backup: Fix overwritting backups

When using the NFS backup driver if we do multiple backups using the
same container we end up overwriting older backups.

The issue comes from a misunderstanding in the Posix backup driver of
the purpose of the ""prefix"" metadata used in the ChunkedBackupDriver
base class.

This prefix is for the name of the backup objects to store, but unlike
the prefix for the volumes, here it must be unique as the base driver
will only add numbers to identify the chunk (for the volume we add the
volume id).  Unfortunately the Posix driver just assumed that the prefix
had the same meaning as the prefix for volumes thus making one backups
override one another.

This patch changes the prefix generated by the Posix driver so we have
the following format: ""volume_$VOL_ID_$TIMESTAMP_backup_$BACK_ID"", thus
allowing multiple backups in the same container.

The new name is backward compatible with existing backups because the
new prefix will only be used on new backups as the prefix for already
existing backups is stored in the DB.

Change-Id: I2903c27633facde6370d95ba0b9e06025ccaef26
Closes-Bug: #1628768
(cherry picked from commit 535e71797031c3d3e3a5e2023c5ede470b02e3a7)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/467262/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_posix.py', 'cinder/backup/drivers/posix.py', 'releasenotes/notes/nfs_backup_no_overwrite-be7b545453baf7a3.yaml']",3,640b9dc2b739b04f1f7d70c2172f5b5fbc3b9b28,bug/1628768,"--- fixes: - | Fix NFS backup driver, we now support multiple backups on the same container, they are no longer overwritten. ",,24,1
openstack%2Fcinder~master~I78309ea39be5b8820c6e1e4a1d39dd167cba50e6,openstack/cinder,master,I78309ea39be5b8820c6e1e4a1d39dd167cba50e6,Python3: Don't use Exception.message,MERGED,2017-05-08 03:33:35.000000000,2017-05-28 13:26:38.000000000,2017-05-23 19:55:31.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 8846}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12176}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15054}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 20146}, {'_account_id': 20191}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23140}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-05-08 03:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9f8d950c46b4e5605a40a6ace32f494249c18c4e', 'message': 'Python3: Don\'t use Exception.message\n\nThe ""message"" property in Exception has been removed\nfrom python3.\n\nChange-Id: I78309ea39be5b8820c6e1e4a1d39dd167cba50e6\n'}, {'number': 2, 'created': '2017-05-20 03:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/10047caa18883fc0307cd643c671249ca1ad5cd7', 'message': 'Python3: Don\'t use Exception.message\n\nThe ""message"" property in Exception has been removed\nfrom python3.\n\nChange-Id: I78309ea39be5b8820c6e1e4a1d39dd167cba50e6\n'}, {'number': 3, 'created': '2017-05-22 14:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/89fdc484e3a61333d3096246fa3ad0669e7c822f', 'message': 'Python3: Don\'t use Exception.message\n\nThe ""message"" property in Exception has been removed\nfrom python3.\n\nChange-Id: I78309ea39be5b8820c6e1e4a1d39dd167cba50e6\n'}, {'number': 4, 'created': '2017-05-23 02:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8df9a351a3a9e1bbb1095e2307c189cc81696c82', 'message': 'Python3: Don\'t use Exception.message\n\nThe ""message"" property in Exception has been removed\nfrom python3.\n\nChange-Id: I78309ea39be5b8820c6e1e4a1d39dd167cba50e6\n'}, {'number': 5, 'created': '2017-05-23 06:14:31.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'cinder/volume/drivers/ibm/storwize_svc/replication.py', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_iscsi.py', 'cinder/volume/drivers/kaminario/kaminario_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/565deec6c30c559dae4e9dc810e9dae5f8385d01', 'message': 'Python3: Don\'t use Exception.message\n\nThe ""message"" property in Exception has been removed\nfrom python3.\n\nChange-Id: I78309ea39be5b8820c6e1e4a1d39dd167cba50e6\n'}]",10,463230,565deec6c30c559dae4e9dc810e9dae5f8385d01,117,47,5,15054,,,0,"Python3: Don't use Exception.message

The ""message"" property in Exception has been removed
from python3.

Change-Id: I78309ea39be5b8820c6e1e4a1d39dd167cba50e6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/463230/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'cinder/volume/drivers/ibm/storwize_svc/replication.py', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_iscsi.py', 'cinder/volume/drivers/kaminario/kaminario_fc.py']",5,9f8d950c46b4e5605a40a6ace32f494249c18c4e,python3_exception, reason=six.text_type(six.text_type(ex))) reason=six.text_type(six.text_type(ex))), reason=six.text_type(ex.message)) reason=six.text_type(ex.message)),17,17
openstack%2Fcinder~master~I5650ab23a5aafbbc8aed5953e85235d9c97ce760,openstack/cinder,master,I5650ab23a5aafbbc8aed5953e85235d9c97ce760,Implementation of Cinder driver for Veritas Access,MERGED,2016-12-12 20:42:02.000000000,2017-05-28 13:25:48.000000000,2017-05-26 14:31:24.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10068}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 12832}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16258}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 16952}, {'_account_id': 17103}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18827}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22381}, {'_account_id': 22450}, {'_account_id': 22495}, {'_account_id': 22510}, {'_account_id': 23276}, {'_account_id': 23602}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24615}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25838}]","[{'number': 1, 'created': '2016-12-12 20:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b428476556daf9e9a2f74e33863116e86353df9', 'message': 'Implementation of Cinder driver for Veritas Access.\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 2, 'created': '2016-12-13 01:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2d75fed3d962db5b8d742949eb0256bb31146e0a', 'message': 'Implementation of Cinder driver for Veritas Access.\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 3, 'created': '2016-12-13 07:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d71e9a8ad59b70ac77cb7718eee7e811d41f6ef', 'message': 'Implementation of Cinder driver for Veritas Access.\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 4, 'created': '2016-12-13 23:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99bdf7d66b03bb281f085cb69e874e78f4150240', 'message': 'Implementation of Cinder driver for Veritas Access.\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 5, 'created': '2016-12-14 00:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f9ea02682ed1315d9786d481debacf64b624d05f', 'message': 'Implementation of Cinder driver for Veritas Access.\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 6, 'created': '2016-12-14 00:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c709b73b391eefcb2920bbded38bc0be6957796', 'message': 'Implementation of Cinder driver for Veritas Access.\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 7, 'created': '2017-01-14 02:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2dc654b3a02fa385e5f49503cd108c7c42f3be0a', 'message': 'Implementation of Cinder driver for Veritas Access.\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 8, 'created': '2017-01-19 19:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/763dcc14e0c35861cd9e6ebc1e26f950a9856b73', 'message': 'Implementation of Cinder driver for Veritas Access.\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 9, 'created': '2017-01-20 01:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c0a06fc0be23b975d4a80e855e5bca1412eaf54', 'message': 'Implementation of Cinder driver for Veritas Access.\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 10, 'created': '2017-04-25 06:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8130f018cb93fb945d214cab5b9e0f7559f9c1d8', 'message': 'Implementation of Cinder driver for Veritas Access.\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 11, 'created': '2017-05-01 03:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c5f649d46d5ee79eb978f5df6b0fc1e33c8e924d', 'message': 'Implementation of Cinder driver for Veritas Access.\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 12, 'created': '2017-05-05 06:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/03f1c2c356a9d9d700b03d82f01fcd9e770c3920', 'message': 'Implementation of Cinder driver for Veritas Access.\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 13, 'created': '2017-05-05 12:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/385e1b03fca750aaa962b827c44abcedfda69ee8', 'message': 'Implementation of Cinder driver for Veritas Access.\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 14, 'created': '2017-05-06 07:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8756b8f9a2a785bc6bcacb5bcefc9413fc61bad4', 'message': 'Implementation of Cinder driver for Veritas Access\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 15, 'created': '2017-05-06 10:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/152f5ea10601d28ddd0403be676079b4d9624ed9', 'message': 'Implementation of Cinder driver for Veritas Access\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 16, 'created': '2017-05-08 09:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99e05abe08db71812979541d8671b8e41236805e', 'message': 'Implementation of Cinder driver for Veritas Access\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 17, 'created': '2017-05-12 07:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dedebf151c8c3740816b4ca5f5ebb3e642c033ee', 'message': 'Implementation of Cinder driver for Veritas Access\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 18, 'created': '2017-05-12 09:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8eb5847c3826800459a6f3d790d213e36eafda39', 'message': 'Implementation of Cinder driver for Veritas Access\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 19, 'created': '2017-05-17 05:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc71747639464c0c46eb226bfc368933419452c1', 'message': 'Implementation of Cinder driver for Veritas Access\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 20, 'created': '2017-05-17 11:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/43457d4476e4d20a17e9fca5a2ee1ba9f4d5487e', 'message': 'Implementation of Cinder driver for Veritas Access\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 21, 'created': '2017-05-19 06:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dd3130807b63daa912f3821b94a5b85c01984bfd', 'message': 'Implementation of Cinder driver for Veritas Access\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 22, 'created': '2017-05-20 05:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a034d3e76c7118af938b0e9d8259b3f8390fb5e', 'message': 'Implementation of Cinder driver for Veritas Access\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 23, 'created': '2017-05-20 06:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b3c5ac843a1f94f90b599cec2c1a6b5680ddef85', 'message': 'Implementation of Cinder driver for Veritas Access\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 24, 'created': '2017-05-20 09:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c1b059e1f63b3bc78325440c34505917e0a7341', 'message': 'Implementation of Cinder driver for Veritas Access\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 25, 'created': '2017-05-20 15:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc4ebdb52dda6b48d8628c867d9e82ae32cfa94b', 'message': 'Implementation of Cinder driver for Veritas Access\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 26, 'created': '2017-05-20 18:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5bad7ddadd374ea6287a9a4768918918e75bff61', 'message': 'Implementation of Cinder driver for Veritas Access\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}, {'number': 27, 'created': '2017-05-21 04:48:39.000000000', 'files': ['releasenotes/notes/veritas_access_driver-c73b2320ba9f46a8.yaml', 'cinder/tests/unit/volume/drivers/test_veritas_cnfs.py', 'cinder/volume/drivers/veritas_cnfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5993af92ef9fe86e23942b6c0e2188c4831de8f8', 'message': 'Implementation of Cinder driver for Veritas Access\n\nThis driver implements all the minimum required features for cinder.\n\nDocImpact\n\nChange-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760\nImplement: blueprint veritas-access-cinder-driver\n'}]",82,409914,5993af92ef9fe86e23942b6c0e2188c4831de8f8,456,73,27,12832,,,0,"Implementation of Cinder driver for Veritas Access

This driver implements all the minimum required features for cinder.

DocImpact

Change-Id: I5650ab23a5aafbbc8aed5953e85235d9c97ce760
Implement: blueprint veritas-access-cinder-driver
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/409914/20 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_veritas_cnfs.py', 'cinder/volume/drivers/veritas_cnfs.py']",2,0b428476556daf9e9a2f74e33863116e86353df9,bp/veritas-access-cinder-driver,"# Copyright (c) 2016 Veritas Technologies LLC # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os from oslo_log import log as logging from cinder import exception from cinder.i18n import _, _LE from cinder.volume.drivers import nfs LOG = logging.getLogger(__name__) class VeritasCNFSDriver(nfs.NfsDriver): """"""Veritas Clustered NFS based cinder driver. Executes commands relating to Volumes. """""" VERSION = ""1.0.0"" driver_volume_type = 'nfs' def __init__(self, *args, **kwargs): self._execute = None self._context = None super(VeritasCNFSDriver, self).__init__(*args, **kwargs) def set_execute(self, execute): super(VeritasCNFSDriver, self).set_execute(execute) def do_setup(self, context): self._context = context super(VeritasCNFSDriver, self).do_setup(context) opts = self.configuration.nfs_mount_options if not opts or opts.find('vers=3') == -1 or ( opts.find('nfsvers=3')) == -1: msg = _LE(""NFS is not configured to use NFSv3"") LOG.error(msg) raise exception.NfsException(msg) def create_volume_from_snapshot(self, volume, snapshot): """"""Creates a volume from snapshot."""""" vol_name = volume['name'] snap_name = snapshot['name'] LOG.debug(""VeritasNFSDriver create_volume_from_snapshot called "" ""vol_name %r snap_name %r"", vol_name, snap_name) self._do_clone_volume(snapshot, snap_name, volume) return {'provider_location': volume['provider_location']} def _volid_to_vol(self, volid): vol = self.db.volume_get(self._context, volid) return vol def create_snapshot(self, snapshot): """"""Create a snapshot of the volume."""""" src_vol_id = snapshot['volume_id'] src_vol_name = snapshot['volume_name'] src_vol = self._volid_to_vol(src_vol_id) self._do_clone_volume(src_vol, src_vol_name, snapshot) LOG.debug(""VeritasNFSDriver create_snapshot %r"", snapshot['provider_location']) return {'provider_location': snapshot['provider_location']} def delete_snapshot(self, snapshot): """"""Delete a snapshot."""""" if not snapshot['provider_location']: msg = (_('Snapshot %s does not have provider_location specified, ' 'skipping'), snapshot['name']) LOG.warn(msg) return self._ensure_share_mounted(snapshot['provider_location']) snap_path = self.local_path(snapshot) self._execute('rm', '-f', snap_path, run_as_root=True) def create_cloned_volume(self, volume, src_vref): """"""Create a clone of the volume."""""" self.create_volume_from_snapshot(volume, src_vref) def _get_local_volume_path(self, provider_loc, vol_name): mnt_path = self._get_mount_point_for_share(provider_loc) vol_path = os.path.join(mnt_path, vol_name) return vol_path def _do_clone_volume(self, src_vol, src_vol_name, tgt_vol): cnfs_share = src_vol['provider_location'] tgt_vol_name = tgt_vol['name'] tgt_vol_path = self._get_local_volume_path(cnfs_share, tgt_vol_name) src_vol_path = self._get_local_volume_path(cnfs_share, src_vol_name) tgt_vol_path_spl = tgt_vol_path + ""::snap:vxfs:"" self._execute('ln', src_vol_path, tgt_vol_path_spl, run_as_root=True) LOG.debug(""VeritasNFSDriver: do_clone_volume src_vol_path %r "" ""tgt_vol_path %r tgt_vol_path_spl %r"", src_vol_path, tgt_vol_path, tgt_vol_path_spl) if not os.path.exists(tgt_vol_path): self._execute('rm', '-f', tgt_vol_path_spl, run_as_root=True) msg = _LE(""Filesnap over NFS is not supported, "" ""removing the ::snap:vxfs: file"") LOG.error(msg) raise exception.NfsException(msg) tgt_vol['provider_location'] = src_vol['provider_location'] def extend_volume(self, volume, size): """"""Extend the volume to new size"""""" path = self.local_path(volume) volname = volume['name'] self._execute('truncate', '-s', '%sG' % size, path, run_as_root=True) LOG.debug(""VeritasNFSDriver: extend_volume vol_name %r"", volname) def _update_volume_stats(self): super(VeritasCNFSDriver, self)._update_volume_stats() backend_name = self.configuration.safe_get('volume_backend_name') self._stats[""volume_backend_name""] = backend_name or 'VeritasCNFS' self._stats[""vendor_name""] = 'Veritas' self._stats[""driver_version""] = self.VERSION self._stats[""storage_protocol""] = self.driver_volume_type ",,291,0
openstack%2Ftempest~master~Ibfa55abad167afcef75dab9e169f5b79389583fa,openstack/tempest,master,Ibfa55abad167afcef75dab9e169f5b79389583fa,"Attribute manager is deprecated, use os_primary",ABANDONED,2017-05-26 10:55:24.000000000,2017-05-28 09:30:30.000000000,,"[{'_account_id': 3}, {'_account_id': 5803}, {'_account_id': 10385}, {'_account_id': 20190}]","[{'number': 1, 'created': '2017-05-26 10:55:24.000000000', 'files': ['tempest/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e9f290713f666a14f859715401414c8f4b04458d', 'message': 'Attribute manager is deprecated, use os_primary\n\nWe deprecated manager some time ago, but scenario tests\nstill use cls/self.manager, so fixing that.\n\nChange-Id: Ibfa55abad167afcef75dab9e169f5b79389583fa\n'}]",0,468357,e9f290713f666a14f859715401414c8f4b04458d,6,4,1,1921,,,0,"Attribute manager is deprecated, use os_primary

We deprecated manager some time ago, but scenario tests
still use cls/self.manager, so fixing that.

Change-Id: Ibfa55abad167afcef75dab9e169f5b79389583fa
",git fetch https://review.opendev.org/openstack/tempest refs/changes/57/468357/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,e9f290713f666a14f859715401414c8f4b04458d,stop_deprecation_warnings, cls.flavors_client = cls.os_primary.flavors_client cls.os_primary.compute_floating_ips_client) cls.image_client = cls.os_primary.image_client elif CONF.image_feature_enabled.api_v2: cls.image_client = cls.os_primary.image_client_v2 cls.compute_images_client = cls.os_primary.compute_images_client cls.keypairs_client = cls.os_primary.keypairs_client cls.os_primary.compute_security_groups_client) cls.os_primary.compute_security_group_rules_client) cls.servers_client = cls.os_primary.servers_client cls.interface_client = cls.os_primary.interfaces_client cls.networks_client = cls.os_primary.networks_client cls.ports_client = cls.os_primary.ports_client cls.routers_client = cls.os_primary.routers_client cls.subnets_client = cls.os_primary.subnets_client cls.floating_ips_client = cls.os_primary.floating_ips_client cls.security_groups_client = cls.os_primary.security_groups_client cls.os_primary.security_group_rules_client) cls.volumes_client = cls.os_primary.volumes_v2_client cls.snapshots_client = cls.os_primary.snapshots_v2_client clients = self.os_primary, cls.flavors_client = cls.manager.flavors_client cls.manager.compute_floating_ips_client) cls.image_client = cls.manager.image_client elif CONF.image_feature_enabled.api_v2: cls.image_client = cls.manager.image_client_v2 cls.compute_images_client = cls.manager.compute_images_client cls.keypairs_client = cls.manager.keypairs_client cls.manager.compute_security_groups_client) cls.manager.compute_security_group_rules_client) cls.servers_client = cls.manager.servers_client cls.interface_client = cls.manager.interfaces_client cls.networks_client = cls.manager.networks_client cls.ports_client = cls.manager.ports_client cls.routers_client = cls.manager.routers_client cls.subnets_client = cls.manager.subnets_client cls.floating_ips_client = cls.manager.floating_ips_client cls.security_groups_client = cls.manager.security_groups_client cls.manager.security_group_rules_client) cls.volumes_client = cls.manager.volumes_v2_client cls.snapshots_client = cls.manager.snapshots_v2_client clients = self.manager,20,20
openstack%2Fdragonflow~master~Ife2bcc0605bec8860693cbed4e182289a41e57ed,openstack/dragonflow,master,Ife2bcc0605bec8860693cbed4e182289a41e57ed,ARP responder to dispatch packets and not output them,MERGED,2017-05-23 14:41:16.000000000,2017-05-28 09:12:36.000000000,2017-05-28 09:12:36.000000000,"[{'_account_id': 3}, {'_account_id': 7805}, {'_account_id': 11159}, {'_account_id': 20229}, {'_account_id': 23235}, {'_account_id': 23766}]","[{'number': 1, 'created': '2017-05-23 14:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/186c9481b4a2670be256e61c75dff6244b73b950', 'message': 'ARP responder to dispatch packets and not output them\n\nARP responder should dispatch packets, and not send them\ndirectly to the in_port from which they were received.\n\nChange-Id: Ife2bcc0605bec8860693cbed4e182289a41e57ed\nPartially-Implements: blueprint vlan-trunk\n'}, {'number': 2, 'created': '2017-05-23 15:04:03.000000000', 'files': ['dragonflow/controller/common/arp_responder.py', 'dragonflow/controller/dnat_app.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/58401e8a5f362ea90dd9e592f0a72bbbd9ee71a9', 'message': 'ARP responder to dispatch packets and not output them\n\nARP responder should dispatch packets, and not send them\ndirectly to the in_port from which they were received.\n\nChange-Id: Ife2bcc0605bec8860693cbed4e182289a41e57ed\nPartially-Implements: blueprint vlan-trunk\n'}]",3,467264,58401e8a5f362ea90dd9e592f0a72bbbd9ee71a9,14,6,2,20229,,,0,"ARP responder to dispatch packets and not output them

ARP responder should dispatch packets, and not send them
directly to the in_port from which they were received.

Change-Id: Ife2bcc0605bec8860693cbed4e182289a41e57ed
Partially-Implements: blueprint vlan-trunk
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/64/467264/1 && git format-patch -1 --stdout FETCH_HEAD,['dragonflow/controller/common/arp_responder.py'],1,186c9481b4a2670be256e61c75dff6244b73b950,bp/vlan-trunk,"from ryu.ofproto import nicira_ext parser.NXActionRegMove(src_field='reg6', dst_field='reg7', n_bits=32), parser.NXActionRegLoad( dst='in_port', ofs_nbits=nicira_ext.ofs_nbits(0, 31), value=0)] instructions = [ parser.OFPInstructionActions(ofproto.OFPIT_APPLY_ACTIONS, actions), parser.OFPInstructionGotoTable(const.INGRESS_DISPATCH_TABLE), ]"," parser.OFPActionOutput(ofproto.OFPP_IN_PORT, 0)] instructions = [parser.OFPInstructionActions( ofproto.OFPIT_APPLY_ACTIONS, actions)]",12,3
openstack%2Fkolla-kubernetes~master~If002017227e6a6bea6450636ee478ebc4d39d220,openstack/kolla-kubernetes,master,If002017227e6a6bea6450636ee478ebc4d39d220,Test of more gate output,ABANDONED,2017-05-28 01:46:53.000000000,2017-05-28 08:52:26.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-05-28 01:46:53.000000000', 'files': ['tests/bin/gate_capture_logs.sh'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/9ec1285cc10b5e0363425daa78b1028a649c2b41', 'message': 'Test of more gate output\n\nChange-Id: If002017227e6a6bea6450636ee478ebc4d39d220\n'}]",0,468701,9ec1285cc10b5e0363425daa78b1028a649c2b41,3,1,1,2834,,,0,"Test of more gate output

Change-Id: If002017227e6a6bea6450636ee478ebc4d39d220
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/01/468701/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bin/gate_capture_logs.sh'],1,9ec1285cc10b5e0363425daa78b1028a649c2b41,,free -g kubectl describe pod -n kolla nova-api-delete-db-w7r0t ,,3,0
openstack%2Fdragonflow~master~I6992a328968fc20e20215567313a00e94ecc7962,openstack/dragonflow,master,I6992a328968fc20e20215567313a00e94ecc7962,Updated from global requirements,MERGED,2017-05-25 02:07:12.000000000,2017-05-28 08:51:31.000000000,2017-05-28 08:51:31.000000000,"[{'_account_id': 3}, {'_account_id': 7805}, {'_account_id': 11159}, {'_account_id': 23235}, {'_account_id': 23766}]","[{'number': 1, 'created': '2017-05-25 02:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/81425a6973a79dd61e71616f32dc7d5e1338ecf1', 'message': 'Updated from global requirements\n\nChange-Id: I6992a328968fc20e20215567313a00e94ecc7962\n'}, {'number': 2, 'created': '2017-05-25 11:48:03.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/ac1e2e0f68982b623797bbe5c84379f6cada477a', 'message': 'Updated from global requirements\n\nChange-Id: I6992a328968fc20e20215567313a00e94ecc7962\n'}]",0,467815,ac1e2e0f68982b623797bbe5c84379f6cada477a,11,5,2,11131,,,0,"Updated from global requirements

Change-Id: I6992a328968fc20e20215567313a00e94ecc7962
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/15/467815/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,81425a6973a79dd61e71616f32dc7d5e1338ecf1,openstack/requirements,neutron-lib>=1.7.0 # Apache-2.0,neutron-lib>=1.6.0 # Apache-2.0,1,1
openstack%2Fkolla-kubernetes~master~I38f592bd3496e54b7362c57ba3b685a8e5a1e87f,openstack/kolla-kubernetes,master,I38f592bd3496e54b7362c57ba3b685a8e5a1e87f,"Revert ""Remove kolla-ansible dependencies""",ABANDONED,2017-05-28 08:14:47.000000000,2017-05-28 08:49:27.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-05-28 08:14:47.000000000', 'files': ['kolla_kubernetes/pathfinder.py', 'tools/setup_gate_common.sh', 'tests/bin/setup_config.sh', 'ansible/roles/common/defaults/main.yml', 'tests/bin/setup_config_iscsi.sh', 'etc/kolla/passwords.yml', 'kolla_kubernetes/service_resources.py', 'setup.cfg', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/dcd723b64cf41d22fb626e9c93644affdd163db4', 'message': 'Revert ""Remove kolla-ansible dependencies""\n\nThis reverts commit df177f8429817c18183ccd0baf364a6959446b7b.\n\nChange-Id: I38f592bd3496e54b7362c57ba3b685a8e5a1e87f\n'}]",0,468711,dcd723b64cf41d22fb626e9c93644affdd163db4,3,1,1,2834,,,0,"Revert ""Remove kolla-ansible dependencies""

This reverts commit df177f8429817c18183ccd0baf364a6959446b7b.

Change-Id: I38f592bd3496e54b7362c57ba3b685a8e5a1e87f
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/11/468711/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla_kubernetes/pathfinder.py', 'tests/bin/setup_config.sh', 'tools/setup_gate_common.sh', 'ansible/roles/common/defaults/main.yml', 'tests/bin/setup_config_iscsi.sh', 'etc/kolla/passwords.yml', 'kolla_kubernetes/service_resources.py', 'setup.cfg', 'etc/kolla/globals.yml']",9,dcd723b64cf41d22fb626e9c93644affdd163db4,,,"--- # You can use this file to override _any_ variable throughout Kolla. # Additional options can be found in the # 'kolla-ansible/ansible/group_vars/all.yml' file. Default value of all the # commented parameters are shown here, To override the default value uncomment # the parameter and change its value. ################### # Kolla options ################### # Valid options are [ COPY_ONCE, COPY_ALWAYS ] #config_strategy: ""COPY_ALWAYS"" # Valid options are [ centos, oraclelinux, ubuntu ] #kolla_base_distro: ""centos"" # Valid options are [ binary, source ] #kolla_install_type: ""binary"" # Valid option is Docker repository tag #openstack_release: """" # Location of configuration overrides #node_custom_config: ""/etc/kolla/config"" # This should be a VIP, an unused IP on your network that will float between # the hosts running keepalived for high-availability. When running an All-In-One # without haproxy and keepalived, this should be the first IP on your # 'network_interface' as set in the Networking section below. kolla_internal_vip_address: ""10.10.10.254"" # This is the DNS name that maps to the kolla_internal_vip_address VIP. By # default it is the same as kolla_internal_vip_address. #kolla_internal_fqdn: ""{{ kolla_internal_vip_address }}"" # This should be a VIP, an unused IP on your network that will float between # the hosts running keepalived for high-availability. It defaults to the # kolla_internal_vip_address, allowing internal and external communication to # share the same address. Specify a kolla_external_vip_address to separate # internal and external requests between two VIPs. #kolla_external_vip_address: ""{{ kolla_internal_vip_address }}"" # The Public address used to communicate with OpenStack as set in the public_url # for the endpoints that will be created. This DNS name should map to # kolla_external_vip_address. #kolla_external_fqdn: ""{{ kolla_external_vip_address }}"" #################### # Docker options #################### # Below is an example of a private repository with authentication. Note the # Docker registry password can also be set in the passwords.yml file. #docker_registry: ""172.16.0.10:4000"" #docker_namespace: ""companyname"" #docker_registry_username: ""sam"" #docker_registry_password: ""correcthorsebatterystaple"" ############################### # Neutron - Networking Options ############################### # This interface is what all your api services will be bound to by default. # Additionally, all vxlan/tunnel and storage network traffic will go over this # interface by default. This interface must contain an IPv4 address. # It is possible for hosts to have non-matching names of interfaces - these can # be set in an inventory file per host or per group or stored separately, see # http://docs.ansible.com/ansible/intro_inventory.html # Yet another way to workaround the naming problem is to create a bond for the # interface on all hosts and give the bond name here. Similar strategy can be # followed for other types of interfaces. #network_interface: ""eth0"" # These can be adjusted for even more customization. The default is the same as # the 'network_interface'. These interfaces must contain an IPv4 address. #kolla_external_vip_interface: ""{{ network_interface }}"" #api_interface: ""{{ network_interface }}"" #storage_interface: ""{{ network_interface }}"" #cluster_interface: ""{{ network_interface }}"" #tunnel_interface: ""{{ network_interface }}"" #dns_interface: ""{{ network_interface }}"" # This is the raw interface given to neutron as its external network port. Even # though an IP address can exist on this interface, it will be unusable in most # configurations. It is recommended this interface not be configured with any IP # addresses for that reason. #neutron_external_interface: ""eth1"" # Valid options are [ openvswitch, linuxbridge ] #neutron_plugin_agent: ""openvswitch"" #################### # keepalived options #################### # Arbitrary unique number from 0..255 #keepalived_virtual_router_id: ""51"" #################### # TLS options #################### # To provide encryption and authentication on the kolla_external_vip_interface, # TLS can be enabled. When TLS is enabled, certificates must be provided to # allow clients to perform authentication. #kolla_enable_tls_external: ""no"" #kolla_external_fqdn_cert: ""{{ node_config_directory }}/certificates/haproxy.pem"" #################### # OpenStack options #################### # Use these options to set the various log levels across all OpenStack projects # Valid options are [ True, False ] #openstack_logging_debug: ""False"" # Valid options are [ novnc, spice ] #nova_console: ""novnc"" # OpenStack services can be enabled or disabled with these options #enable_aodh: ""no"" #enable_barbican: ""no"" #enable_ceilometer: ""no"" #enable_central_logging: ""no"" #enable_ceph: ""no"" #enable_ceph_rgw: ""no"" #enable_chrony: ""no"" #enable_cinder: ""no"" #enable_cinder_backend_hnas_iscsi: ""no"" #enable_cinder_backend_hnas_nfs: ""no"" #enable_cinder_backend_iscsi: ""no"" #enable_cinder_backend_lvm: ""no"" #enable_cinder_backend_nfs: ""no"" #enable_cloudkitty: ""no"" #enable_collectd: ""no"" #enable_congress: ""no"" #enable_designate: ""no"" #enable_destroy_images: ""no"" #enable_etcd: ""no"" #enable_freezer: ""no"" #enable_gnocchi: ""no"" #enable_grafana: ""no"" #enable_heat: ""yes"" #enable_horizon: ""yes"" #enable_horizon_cloudkitty: ""{{ enable_cloudkitty | bool }}"" #enable_horizon_freezer: ""{{ enable_freezer | bool }}"" #enable_horizon_ironic: ""{{ enable_ironic | bool }}"" #enable_horizon_karbor: ""{{ enable_karbor | bool }}"" #enable_horizon_magnum: ""{{ enable_magnum | bool }}"" #enable_horizon_manila: ""{{ enable_manila | bool }}"" #enable_horizon_mistral: ""{{ enable_mistral | bool }}"" #enable_horizon_murano: ""{{ enable_murano | bool }}"" #enable_horizon_neutron_lbaas: ""{{ enable_neutron_lbaas | bool }}"" #enable_horizon_sahara: ""{{ enable_sahara | bool }}"" #enable_horizon_searchlight: ""{{ enable_searchlight | bool }}"" #enable_horizon_senlin: ""{{ enable_senlin | bool }}"" #enable_horizon_solum: ""{{ enable_solum | bool }}"" #enable_horizon_tacker: ""{{ enable_tacker | bool }}"" #enable_horizon_trove: ""{{ enable_trove | bool }}"" #enable_horizon_watcher: ""{{ enable_watcher | bool }}"" #enable_influxdb: ""no"" #enable_ironic: ""no"" #enable_karbor: ""no"" #enable_kuryr: ""no"" #enable_magnum: ""no"" #enable_manila: ""no"" #enable_manila_backend_generic: ""no"" #enable_manila_backend_hnas: ""no"" #enable_mistral: ""no"" #enable_mongodb: ""no"" #enable_murano: ""no"" #enable_multipathd: ""no"" #enable_neutron_bgp_dragent: ""no"" #enable_neutron_dvr: ""no"" #enable_neutron_lbaas: ""no"" #enable_neutron_fwaas: ""no"" #enable_neutron_qos: ""no"" #enable_neutron_agent_ha: ""no"" #enable_neutron_vpnaas: ""no"" #enable_nova_serialconsole_proxy: ""no"" #enable_octavia: ""no"" #enable_openvswitch: ""{{ neutron_plugin_agent != 'linuxbridge' | bool }}"" #enable_panko: ""no"" #enable_rally: ""no"" #enable_sahara: ""no"" #enable_searchlight: ""no"" #enable_senlin: ""no"" #enable_solum: ""no"" #enable_swift: ""no"" #enable_telegraf: ""no"" #enable_tacker: ""no"" #enable_tempest: ""no"" #enable_trove: ""no"" #enable_vmtp: ""no"" #enable_watcher: ""no"" #enable_zun: ""no"" ################### # Ceph options ################### # Ceph can be setup with a caching to improve performance. To use the cache you # must provide separate disks than those for the OSDs #ceph_enable_cache: ""no"" # Ceph is not able to determine the size of a cache pool automatically, # so the configuration on the absolute size is required here, otherwise the flush/evict will not work. #ceph_target_max_bytes: """" #ceph_target_max_objects: """" # Valid options are [ forward, none, writeback ] #ceph_cache_mode: ""writeback"" # A requirement for using the erasure-coded pools is you must setup a cache tier # Valid options are [ erasure, replicated ] #ceph_pool_type: ""replicated"" # Integrate ceph rados object gateway with openstack keystone #enable_ceph_rgw_keystone: ""no"" ############################## # Keystone - Identity Options ############################## # Valid options are [ uuid, fernet ] #keystone_token_provider: 'uuid' # Interval to rotate fernet keys by (in seconds). Must be an interval of # 60(1 min), 120(2 min), 180(3 min), 240(4 min), 300(5 min), 360(6 min), # 600(10 min), 720(12 min), 900(15 min), 1200(20 min), 1800(30 min), # 3600(1 hour), 7200(2 hour), 10800(3 hour), 14400(4 hour), 21600(6 hour), # 28800(8 hour), 43200(12 hour), 86400(1 day), 604800(1 week). #fernet_token_expiry: 86400 ######################### # Glance - Image Options ######################### # Configure image backend. #glance_backend_file: ""yes"" #glance_backend_ceph: ""no"" ####################### # Ceilometer options ####################### # Valid options are [ mongodb, mysql, gnocchi ] #ceilometer_database_type: ""mongodb"" # Valid options are [ mongodb, gnocchi, panko ] #ceilometer_event_type: ""mongodb"" ####################### # Barbican options ####################### # Valid options are [ simple_crypto, p11_crypto ] #barbican_crypto_plugin: ""simple_crypto"" #barbican_library_path: ""/usr/lib/libCryptoki2_64.so"" ####################### ## Panko options ####################### # Valid options are [ mongodb, mysql ] #panko_database_type: ""mysql"" ####################### # Gnocchi options ####################### # Valid options are [ file, ceph ] #gnocchi_backend_storage: ""{{ 'ceph' if enable_ceph|bool else 'file' }}"" ################################# # Cinder - Block Storage Options ################################# # Enable / disable Cinder backends #cinder_backend_ceph: ""{{ enable_ceph }}"" #cinder_volume_group: ""cinder-volumes"" #cinder_backup_driver: ""nfs"" #cinder_backup_share: """" #cinder_backup_mount_options_nfs: """" ####################### # Designate options ####################### # Valid options are [ bind9 ] designate_backend: ""bind9"" designate_ns_record: ""sample.openstack.org"" ######################### # Nova - Compute Options ######################### #nova_backend_ceph: ""{{ enable_ceph }}"" ############################## # Horizon - Dashboard Options ############################## #horizon_backend_database: ""{{ enable_murano | bool }}"" ####################################### # Manila - Shared File Systems Options ####################################### # HNAS backend configuration #hnas_ip: #hnas_user: #hnas_password: #hnas_evs_id: #hnas_evs_ip: #hnas_file_system_name: ################################## # Swift - Object Storage Options ################################## # Swift expects block devices to be available for storage. Two types of storage # are supported: 1 - storage device with a special partition name and filesystem # label, 2 - unpartitioned disk with a filesystem. The label of this filesystem # is used to detect the disk which Swift will be using. # Swift support two mathcing modes, valid options are [ prefix, strict ] #swift_devices_match_mode: ""strict"" # This parameter defines matching pattern: if ""strict"" mode was selected, # for swift_devices_match_mode then swift_device_name should specify the name of # the special swift partition for example: ""KOLLA_SWIFT_DATA"", if ""prefix"" mode was # selected then swift_devices_name should specify a pattern which would match to # filesystems' labels prepared for swift. #swift_devices_name: ""KOLLA_SWIFT_DATA"" ################################################ # Tempest - The OpenStack Integration Test Suite ################################################ # following value must be set when enable tempest tempest_image_id: tempest_flavor_ref_id: tempest_public_network_id: tempest_floating_network_name: # tempest_image_alt_id: ""{{ tempest_image_id }}"" # tempest_flavor_ref_alt_id: ""{{ tempest_flavor_ref_id }}"" ",67,589
openstack%2Fvitrage~master~I725b7f4dcbed537577b99f4b9f13a74e2e4c26e7,openstack/vitrage,master,I725b7f4dcbed537577b99f4b9f13a74e2e4c26e7,Add 'rm -f .testrepository/times.dbm' command in testenv,MERGED,2017-04-25 05:21:31.000000000,2017-05-28 08:44:58.000000000,2017-05-28 08:44:58.000000000,"[{'_account_id': 3}, {'_account_id': 19134}, {'_account_id': 19159}]","[{'number': 1, 'created': '2017-04-25 05:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/e60eaad10e7c19dc8719e5fe829b10237abfc524', 'message': ""Add 'rm -f .testrepository/times.dbm' command in testenv\n\nRunning py2* post py3* tests results in error. Add\n'rm -f .testrepository/times.dbm' command in testenv to\nresolve this.\n\nChange-Id: I725b7f4dcbed537577b99f4b9f13a74e2e4c26e7\n""}, {'number': 2, 'created': '2017-04-25 08:01:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/4e6228d5ffce33f0a4324177778e7bbdb37f682e', 'message': ""Add 'rm -f .testrepository/times.dbm' command in testenv\n\nRunning py2* post py3* tests results in error. Add\n'rm -f .testrepository/times.dbm' command in testenv to\nresolve this.\n\nChange-Id: I725b7f4dcbed537577b99f4b9f13a74e2e4c26e7\n""}]",1,459510,4e6228d5ffce33f0a4324177778e7bbdb37f682e,10,3,2,25571,,,0,"Add 'rm -f .testrepository/times.dbm' command in testenv

Running py2* post py3* tests results in error. Add
'rm -f .testrepository/times.dbm' command in testenv to
resolve this.

Change-Id: I725b7f4dcbed537577b99f4b9f13a74e2e4c26e7
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/10/459510/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e60eaad10e7c19dc8719e5fe829b10237abfc524,, rm -f .testrepository/times.dbm ,,1,0
openstack%2Fvitrage~master~I1e40162c9b98a0f70a4f880f424c1a905dd4b59f,openstack/vitrage,master,I1e40162c9b98a0f70a4f880f424c1a905dd4b59f,not_in_template,ABANDONED,2017-01-23 14:48:39.000000000,2017-05-28 07:52:24.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-01-23 14:48:39.000000000', 'files': ['vitrage/graph/algo_driver/sub_graph_matching.py', 'vitrage/common/constants.py', 'vitrage/evaluator/scenario_evaluator.py', 'vitrage/tests/unit/graph/test_graph_algo.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/771e880ede3c65e5ec3f691227f2321ce5fe6cd8', 'message': 'not_in_template\n\nChange-Id: I1e40162c9b98a0f70a4f880f424c1a905dd4b59f\n'}]",0,424169,771e880ede3c65e5ec3f691227f2321ce5fe6cd8,3,1,1,19122,,,0,"not_in_template

Change-Id: I1e40162c9b98a0f70a4f880f424c1a905dd4b59f
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/69/424169/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/graph/algo_driver/sub_graph_matching.py', 'vitrage/common/constants.py', 'vitrage/evaluator/scenario_evaluator.py', 'vitrage/tests/unit/graph/test_graph_algo.py']",4,771e880ede3c65e5ec3f691227f2321ce5fe6cd8,," template_graph = create_graph('template_graph') template_graph.add_vertex(t_v_alarm_fail) mappings = ga.sub_graph_matching(template_graph, [ template_graph.remove_vertex(t_v_alarm_fail) template_graph.add_vertex(t_v_host_alarm) mappings = ga.sub_graph_matching(template_graph, [ template_graph.add_vertex(t_v_host) mappings = ga.sub_graph_matching(template_graph, [ template_graph.add_edge(e_alarm_on_host) mappings = ga.sub_graph_matching(template_graph, [ mappings = ga.sub_graph_matching(template_graph, [ template_graph.add_vertex(t_v_vm) mappings = ga.sub_graph_matching(template_graph, [ template_graph.add_vertex(t_v_vm_alarm) mappings = ga.sub_graph_matching(template_graph, [ template_graph.add_edge(e_alarm_on_vm) mappings = ga.sub_graph_matching(template_graph, [ template_graph.add_edge(e_host_contains_vm) mappings = ga.sub_graph_matching(template_graph, [ mappings = ga.sub_graph_matching(template_graph, [ mappings = ga.sub_graph_matching(template_graph, [ template_graph.add_vertex(t_v_switch) mappings = ga.sub_graph_matching(template_graph, [ template_graph.add_edge(e_host_uses_switch) mappings = ga.sub_graph_matching(template_graph, [ mappings = ga.sub_graph_matching(template_graph, [ mappings = ga.sub_graph_matching(template_graph, [ template_graph.add_vertex(t_v_node_not_in_graph) template_graph.add_edge(e_host_to_node_not_in_graph) mappings = ga.sub_graph_matching(template_graph, [ template_graph.remove_vertex(t_v_node_not_in_graph) template_graph.remove_vertex(t_v_host_alarm) template_graph.add_vertex(t_v_node) template_graph.add_edge(e_node_contains_host) template_graph.add_edge(e_node_contains_switch) mappings = ga.sub_graph_matching(template_graph, [ mappings = ga.sub_graph_matching(template_graph, [ template_graph.add_edge(e_node_contains_switch_fail) mappings = ga.sub_graph_matching(template_graph, [ mappings = ga.sub_graph_matching(template_graph, [ template_graph.remove_edge(e_node_contains_switch) mappings = ga.sub_graph_matching(template_graph, [ mappings = ga.sub_graph_matching(template_graph, [ def test_template_matching_with_not_operator_in_template(self): """"""Test the template matching algorithm with 'not' operator Using the entity graph (created above) as a big graph we search for a sub graph matches that has simple 'not' operator in the template """""" ga = create_algorithm(self.entity_graph) # Get ids of some of the elements in the entity graph: host = self.entity_graph.get_vertex( NOVA_HOST_DATASOURCE + str(ENTITY_GRAPH_HOSTS_PER_CLUSTER - 1)) # Create a template for template matching template_graph = create_graph('template_graph') t_v_alarm_fail = graph_utils.create_vertex( vitrage_id='1', entity_category=ALARM, entity_type='fail') t_v_host = graph_utils.create_vertex( vitrage_id='2', entity_category=RESOURCE, entity_type=NOVA_HOST_DATASOURCE) t_v_vm = graph_utils.create_vertex( vitrage_id='3', entity_category=RESOURCE, entity_type=NOVA_INSTANCE_DATASOURCE) t_v_vm_alarm = graph_utils.create_vertex( vitrage_id='4', entity_category=ALARM, entity_type=ALARM_ON_VM) e_host_contains_vm = graph_utils.create_edge( t_v_host.vertex_id, t_v_vm.vertex_id, ELabel.CONTAINS) e_alarm_on_vm = graph_utils.create_edge( t_v_vm_alarm.vertex_id, t_v_vm.vertex_id, ELabel.ON) e_alarm_on_vm[EProps.IS_NOT_CONDITION] = True e_alarm_not_on_host = graph_utils.create_edge( t_v_alarm_fail.vertex_id, t_v_host.vertex_id, ELabel.ON) e_alarm_not_on_host[EProps.IS_NOT_CONDITION] = True for v in [t_v_alarm_fail, t_v_host, t_v_vm, t_v_vm_alarm]: del(v[VProps.VITRAGE_ID]) # add host vertex to subgraph template_graph.add_vertex(t_v_host) mappings = ga.sub_graph_matching(template_graph, [ Mapping(t_v_host, host, True)], validate=True) self.assertEqual( 1, len(mappings), 'Template - Single vertex alarm not in graph ' 'Template_root is a specific host ' + str(mappings)) # add vm vertex to subgraph template_graph.add_vertex(t_v_vm) mappings = ga.sub_graph_matching(template_graph, [ Mapping(t_v_host, host, is_vertex=True)]) self.assertEqual( 0, len(mappings), 'Template - Two disconnected vertices (host and vm) ' 'Template_root is a specific host ' + str(mappings)) template_graph.add_edge(e_host_contains_vm) mappings = ga.sub_graph_matching(template_graph, [ Mapping(t_v_host, host, is_vertex=True)]) self.assertEqual( ENTITY_GRAPH_VMS_PER_HOST, len(mappings), 'Template - Two connected vertices (host -> vm)' ' template_root is a specific host ' + str(mappings)) # add not alarm to subgraph template_graph.add_vertex(t_v_vm_alarm) mappings = ga.sub_graph_matching(template_graph, [ Mapping(t_v_host, host, is_vertex=True)]) self.assertEqual( 0, len(mappings), 'Template - Two connected vertices and one disconnected ' 'Template_root is a specific host ' + str(mappings)) template_graph.add_edge(e_alarm_on_vm) mappings = ga.sub_graph_matching(template_graph, [ Mapping(t_v_host, host, is_vertex=True)]) self.assertEqual( 0, len(mappings), 'Template - Three connected vertices (host -> vm <- alarm)' ' template_root is a specific host ' + str(mappings)) # remove alarms of specific vm temp_entity_graph = self.entity_graph.copy() temp_ga = create_algorithm(temp_entity_graph) vms = temp_entity_graph.neighbors( host.vertex_id, vertex_attr_filter={VProps.CATEGORY: EntityCategory.RESOURCE, VProps.TYPE: NOVA_INSTANCE_DATASOURCE}) alarms = temp_entity_graph.neighbors( vms[0].vertex_id, vertex_attr_filter={VProps.CATEGORY: EntityCategory.ALARM, VProps.TYPE: ALARM_ON_VM}) for alarm in alarms: temp_entity_graph.remove_vertex(alarm) mappings = temp_ga.sub_graph_matching(template_graph, [ Mapping(t_v_host, host, is_vertex=True)]) self.assertEqual( 1, len(mappings), 'Template - Three connected vertices (host -> vm <- alarm)' 'Template_root is a specific host ' + str(mappings)) # add another not alarm to subgraph template_graph.add_vertex(t_v_alarm_fail) mappings = temp_ga.sub_graph_matching(template_graph, [ Mapping(t_v_host, host, is_vertex=True)]) self.assertEqual( 0, len(mappings), 'Template - Three connected vertices and one disconnected ' 'Template_root is a specific host ' + str(mappings)) template_graph.add_edge(e_alarm_not_on_host) mappings = temp_ga.sub_graph_matching(template_graph, [ Mapping(t_v_host, host, is_vertex=True)]) self.assertEqual( 1, len(mappings), 'Template - Four connected vertices (alarm -> host -> vm <- alarm)' ' template_root is a specific host alarm ' + str(mappings)) # mark alarms as deleted vms = temp_entity_graph.neighbors( host.vertex_id, vertex_attr_filter={VProps.CATEGORY: EntityCategory.RESOURCE, VProps.TYPE: NOVA_INSTANCE_DATASOURCE}) alarms = temp_entity_graph.neighbors( vms[1].vertex_id, vertex_attr_filter={VProps.CATEGORY: EntityCategory.ALARM, VProps.TYPE: ALARM_ON_VM}) for alarm in alarms: alarm[VProps.IS_DELETED] = True temp_entity_graph.update_vertex(alarm) edges = temp_entity_graph.get_edges(alarm.vertex_id) for edge in edges: edge[EProps.IS_DELETED] = True temp_entity_graph.update_edge(edge) mappings = temp_ga.sub_graph_matching(template_graph, [ Mapping(t_v_host, host, is_vertex=True)]) self.assertEqual( 2, len(mappings), 'Template - Three connected vertices (host -> vm <- alarm)' 'Template_root is a specific host ' + str(mappings)) # delete 'is_not_condition' from non existing alarm del e_alarm_not_on_host[EProps.IS_NOT_CONDITION] template_graph.update_edge(e_alarm_not_on_host, hard_update=True) mappings = temp_ga.sub_graph_matching(template_graph, [ Mapping(t_v_host, host, is_vertex=True)]) self.assertEqual( 0, len(mappings), 'Template - Four connected vertices (alarm -> host -> vm <- alarm)' ' template_root is a specific host ' + str(mappings))"," t = create_graph('template_graph') t.add_vertex(t_v_alarm_fail) mappings = ga.sub_graph_matching(t, [ t.remove_vertex(t_v_alarm_fail) t.add_vertex(t_v_host_alarm) mappings = ga.sub_graph_matching(t, [ t.add_vertex(t_v_host) mappings = ga.sub_graph_matching(t, [ t.add_edge(e_alarm_on_host) mappings = ga.sub_graph_matching(t, [ mappings = ga.sub_graph_matching(t, [ t.add_vertex(t_v_vm) mappings = ga.sub_graph_matching(t, [ t.add_vertex(t_v_vm_alarm) mappings = ga.sub_graph_matching(t, [ t.add_edge(e_alarm_on_vm) mappings = ga.sub_graph_matching(t, [ t.add_edge(e_host_contains_vm) mappings = ga.sub_graph_matching(t, [ mappings = ga.sub_graph_matching(t, [ mappings = ga.sub_graph_matching(t, [ t.add_vertex(t_v_switch) mappings = ga.sub_graph_matching(t, [ t.add_edge(e_host_uses_switch) mappings = ga.sub_graph_matching(t, [ mappings = ga.sub_graph_matching(t, [ mappings = ga.sub_graph_matching(t, [ t.add_vertex(t_v_node_not_in_graph) t.add_edge(e_host_to_node_not_in_graph) mappings = ga.sub_graph_matching(t, [ t.remove_vertex(t_v_node_not_in_graph) t.remove_vertex(t_v_host_alarm) t.add_vertex(t_v_node) t.add_edge(e_node_contains_host) t.add_edge(e_node_contains_switch) mappings = ga.sub_graph_matching(t, [ mappings = ga.sub_graph_matching(t, [ t.add_edge(e_node_contains_switch_fail) mappings = ga.sub_graph_matching(t, [ mappings = ga.sub_graph_matching(t, [ t.remove_edge(e_node_contains_switch) mappings = ga.sub_graph_matching(t, [ mappings = ga.sub_graph_matching(t, [",246,59
openstack%2Fvitrage-dashboard~master~Ic10e2ed48a3d4aa3c2d30e5984bfcd6043e26fac,openstack/vitrage-dashboard,master,Ic10e2ed48a3d4aa3c2d30e5984bfcd6043e26fac,Add 'rm -f .testrepository/times.dbm' command in testenv,MERGED,2017-04-25 07:53:51.000000000,2017-05-28 07:51:14.000000000,2017-05-28 07:51:13.000000000,"[{'_account_id': 3}, {'_account_id': 19134}, {'_account_id': 19159}]","[{'number': 1, 'created': '2017-04-25 07:53:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/c105715b29cd40dffe85c8ed2d3fc8156ed8b691', 'message': ""Add 'rm -f .testrepository/times.dbm' command in testenv\n\nRunning py2* post py3* tests results in error. Add\n'rm -f .testrepository/times.dbm' command in testenv to\nresolve this.\n\nChange-Id: Ic10e2ed48a3d4aa3c2d30e5984bfcd6043e26fac\n""}]",0,459571,c105715b29cd40dffe85c8ed2d3fc8156ed8b691,7,3,1,20401,,,0,"Add 'rm -f .testrepository/times.dbm' command in testenv

Running py2* post py3* tests results in error. Add
'rm -f .testrepository/times.dbm' command in testenv to
resolve this.

Change-Id: Ic10e2ed48a3d4aa3c2d30e5984bfcd6043e26fac
",git fetch https://review.opendev.org/openstack/vitrage-dashboard refs/changes/71/459571/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c105715b29cd40dffe85c8ed2d3fc8156ed8b691,test_env,commands = rm -f .testrepository/times.dbm python setup.py test --slowest --testr-args='{posargs}',commands = python setup.py test --slowest --testr-args='{posargs}',2,1
openstack%2Fpython-vitrageclient~master~Ia6e132573b4d60f6720e1f134bda124c88fc8241,openstack/python-vitrageclient,master,Ia6e132573b4d60f6720e1f134bda124c88fc8241,Add 'rm -f .testrepository/times.dbm' command in testenv,MERGED,2017-04-25 07:48:30.000000000,2017-05-28 07:49:42.000000000,2017-05-28 07:49:42.000000000,"[{'_account_id': 3}, {'_account_id': 19134}, {'_account_id': 19159}]","[{'number': 1, 'created': '2017-04-25 07:48:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/d1c4367206a6973a30fe3d8cdf150dc7c7736309', 'message': ""Add 'rm -f .testrepository/times.dbm' command in testenv\n\nRunning py2* post py3* tests results in error. Add\n'rm -f .testrepository/times.dbm' command in testenv to\nresolve this.\n\nChange-Id: Ia6e132573b4d60f6720e1f134bda124c88fc8241\n""}]",0,459567,d1c4367206a6973a30fe3d8cdf150dc7c7736309,7,3,1,20401,,,0,"Add 'rm -f .testrepository/times.dbm' command in testenv

Running py2* post py3* tests results in error. Add
'rm -f .testrepository/times.dbm' command in testenv to
resolve this.

Change-Id: Ia6e132573b4d60f6720e1f134bda124c88fc8241
",git fetch https://review.opendev.org/openstack/python-vitrageclient refs/changes/67/459567/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d1c4367206a6973a30fe3d8cdf150dc7c7736309,test_env,commands = rm -f .testrepository/times.dbm python setup.py test --slowest --testr-args='{posargs}',commands = python setup.py test --slowest --testr-args='{posargs}',2,1
openstack%2Fvitrage-dashboard~master~I51c8b5166d5e874614eb410060e65bb8f8fba500,openstack/vitrage-dashboard,master,I51c8b5166d5e874614eb410060e65bb8f8fba500,py33 is no longer supported by Infra's CI,MERGED,2016-09-20 10:01:58.000000000,2017-05-28 07:44:55.000000000,2017-05-28 07:44:55.000000000,"[{'_account_id': 3}, {'_account_id': 19122}, {'_account_id': 19134}, {'_account_id': 19140}, {'_account_id': 19159}, {'_account_id': 21921}]","[{'number': 1, 'created': '2016-09-20 10:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/13dcb874cad33e7b2e61e8beeac71a6724d16728', 'message': ""py33 is no longer supported by Infra's CI\n\nPython 3.3 support would be dropped by\nInfra team from mitaka,CI would no longer be testing it,\nso projects should drop it also.\n\nChange-Id: I51c8b5166d5e874614eb410060e65bb8f8fba500\n""}, {'number': 2, 'created': '2016-09-22 04:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/a9163285481d91b0002b7176dc25f8a65602f62c', 'message': ""py33 is no longer supported by Infra's CI\n\nPython 3.3 support would be dropped by\nInfra team from mitaka,CI would no longer be testing it,\nso projects should drop it also.\n\nChange-Id: I51c8b5166d5e874614eb410060e65bb8f8fba500\nCloses-Bug: #1526170\n""}, {'number': 3, 'created': '2017-02-08 10:16:24.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/1b04101b4bc72a9191acfd9246f8e1b47ada4ca0', 'message': ""py33 is no longer supported by Infra's CI\n\nPython 3.3 support would be dropped by\nInfra team from mitaka,CI would no longer be testing it,\nso projects should drop it also.\n\nChange-Id: I51c8b5166d5e874614eb410060e65bb8f8fba500\nCloses-Bug: #1526170\n""}]",0,373122,1b04101b4bc72a9191acfd9246f8e1b47ada4ca0,12,6,3,22020,,,0,"py33 is no longer supported by Infra's CI

Python 3.3 support would be dropped by
Infra team from mitaka,CI would no longer be testing it,
so projects should drop it also.

Change-Id: I51c8b5166d5e874614eb410060e65bb8f8fba500
Closes-Bug: #1526170
",git fetch https://review.opendev.org/openstack/vitrage-dashboard refs/changes/22/373122/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,13dcb874cad33e7b2e61e8beeac71a6724d16728,bug/1526170,, Programming Language :: Python :: 3.3,0,1
openstack%2Fvitrage-specs~master~I9d08ad5fdc4282521eef57a46b163870b5de0c42,openstack/vitrage-specs,master,I9d08ad5fdc4282521eef57a46b163870b5de0c42,rst typo,MERGED,2015-11-10 16:06:29.000000000,2017-05-28 07:35:30.000000000,2017-05-28 07:35:30.000000000,"[{'_account_id': 3}, {'_account_id': 11343}, {'_account_id': 16237}, {'_account_id': 19122}, {'_account_id': 19159}, {'_account_id': 20991}, {'_account_id': 20997}, {'_account_id': 21027}]","[{'number': 1, 'created': '2015-11-10 16:06:29.000000000', 'files': ['specs/mitaka/networkx-graph-driver.rst'], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/2801b7e830e93495a3725f61842593801bb1821a', 'message': 'rst typo\n\nChange-Id: I9d08ad5fdc4282521eef57a46b163870b5de0c42\n'}]",0,243683,2801b7e830e93495a3725f61842593801bb1821a,16,8,1,19184,,,0,"rst typo

Change-Id: I9d08ad5fdc4282521eef57a46b163870b5de0c42
",git fetch https://review.opendev.org/openstack/vitrage-specs refs/changes/83/243683/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/mitaka/networkx-graph-driver.rst'],1,2801b7e830e93495a3725f61842593801bb1821a,,==========================================,====================================================,2,2
openstack%2Fvitrage-specs~master~If28f2f15297c36f69332e7d203a964a35292cbb8,openstack/vitrage-specs,master,If28f2f15297c36f69332e7d203a964a35292cbb8,Add NetworkX Graph Driver spec,MERGED,2015-11-10 14:52:47.000000000,2017-05-28 07:35:05.000000000,2017-05-28 07:35:05.000000000,"[{'_account_id': 3}, {'_account_id': 19122}, {'_account_id': 19134}, {'_account_id': 19159}]","[{'number': 1, 'created': '2015-11-10 14:52:47.000000000', 'files': ['specs/mitaka/networkx-graph-driver.rst'], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/81f8badc730f6b8177cd6470a0df2ea32b1d261f', 'message': 'Add NetworkX Graph Driver spec\n\nChange-Id: If28f2f15297c36f69332e7d203a964a35292cbb8\n'}]",3,243634,81f8badc730f6b8177cd6470a0df2ea32b1d261f,9,4,1,19184,,,0,"Add NetworkX Graph Driver spec

Change-Id: If28f2f15297c36f69332e7d203a964a35292cbb8
",git fetch https://review.opendev.org/openstack/vitrage-specs refs/changes/34/243634/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/mitaka/networkx-graph-driver.rst'],1,81f8badc730f6b8177cd6470a0df2ea32b1d261f,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================== NetworkX Graph driver ========================== https://blueprints.launchpad.net/vitrage/+spec/networkx-graph-driver Graph Driver is the defined API for access and manipulation of the underlying graph used for storing the Entity Graph. This API should be implemented for the NetworkX graph package and possibly for other graph tools, allowing Vitrage a seamless transition between different underlying graph implementations. Problem description =================== Vitrage will have a graph data structure that will hold a list of physical and virtual entities and their relationships to one another, in what we call the Entity Graph. The specific implementation of this graph should be interchangeable allowing a stateless or state-full implementations. Proposed change =============== **1. Graph Driver** Create a Graph Driver, which defines a set of graph methods, to be implemented over NetworkX. This blueprint describes the addition of the Graph Driver and NetworkX Driver. :: +-------------------+ | | +------------------+ +-------> NetworkX Driver | | | | | | | Graph | Impl | +-------------------+ | |-------+ | Driver | | +-------------------+ | | | | | +------------------+ +-------> Other Drivers | | (BulbFlow,etc..) | +-------------------+ **Specification of the Graph Driver API:** Note that the entity graph is a property graph, where edges and vertices can also have a set of key-value properties, which can be added, updated and removed as well. *Graph CRUD* - init - num_of_edges - num_of_vertices - copy //deep copy of the graph *Vertex CRUD* - add_vertex - add_vertices - get_vertex - update_vertex - remove_vertex *Edges CRUD* - add_edge - get_edge - update_edge - remove_edge *Graph algorithms* - subgraph_matching (sub-graph isomorphism) - BFS - DFS **2. NetworkX Driver** NetworkX is a pure python library for graphs. It is stateless and suitable for operation on large real world graphs. The NetworkX Driver will implement Graph Driver Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Pipeline impact --------------- None Other end user impact --------------------- None Performance/Scalability Impacts ------------------------------- None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: None. Work Items ---------- - Create the GraphDriver skeleton - Implement Graph Driver for NetworkX - Testing of GraphDriver over NetworkX Future lifecycle ================ None Dependencies ============ None Testing ======= This change needs to be tested by unit tests. Documentation Impact ==================== References ==========",,163,0
openstack%2Fvitrage~master~Id71f278b0c2d93dfd6fa1781e074a3bc115469aa,openstack/vitrage,master,Id71f278b0c2d93dfd6fa1781e074a3bc115469aa,Updated from global requirements,MERGED,2017-05-26 17:31:31.000000000,2017-05-28 06:08:54.000000000,2017-05-28 06:08:54.000000000,"[{'_account_id': 3}, {'_account_id': 19134}, {'_account_id': 19159}]","[{'number': 1, 'created': '2017-05-26 17:31:31.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a5506621deb106abfbe363506877d20b21f733d2', 'message': 'Updated from global requirements\n\nChange-Id: Id71f278b0c2d93dfd6fa1781e074a3bc115469aa\n'}]",0,468497,a5506621deb106abfbe363506877d20b21f733d2,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: Id71f278b0c2d93dfd6fa1781e074a3bc115469aa
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/97/468497/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,a5506621deb106abfbe363506877d20b21f733d2,openstack/requirements,python-cinderclient>=2.1.0 # Apache-2.0,python-cinderclient>=2.0.1 # Apache-2.0,2,2
openstack%2Fnova~master~Iee7145be584461b3b427ecd16027df3fe39c506f,openstack/nova,master,Iee7145be584461b3b427ecd16027df3fe39c506f,Deprecate unused policy from policy doc,MERGED,2017-05-17 11:07:00.000000000,2017-05-28 04:29:34.000000000,2017-05-26 10:18:56.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-05-17 11:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bec17d0d6c5ecbd8232283295c8554b0c1b3438c', 'message': 'WIP: remove flavor policy\n\nAs TODO indicated, the flavor policy is not used at all,\nso we can remove it to avoid confusion.\n\nChange-Id: Iee7145be584461b3b427ecd16027df3fe39c506f\n'}, {'number': 2, 'created': '2017-05-17 11:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af4529e4afb3145edda722a11105c16e4d3577d2', 'message': 'WIP: remove flavor policy\n\nAs TODO indicated, the flavor policy is not used at all,\nso we can remove it to avoid confusion.\n\nPartial implement blueprint policy-docs\n\nChange-Id: Iee7145be584461b3b427ecd16027df3fe39c506f\n'}, {'number': 3, 'created': '2017-05-17 12:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f119b4642bd9c9e2e29c8c840271e075f9a02f54', 'message': 'WIP: remove flavor policy\n\nAs TODO indicated, the flavor policy is not used at all,\nso we can remove it to avoid confusion.\n\nPartial implement blueprint policy-docs\n\nChange-Id: Iee7145be584461b3b427ecd16027df3fe39c506f\n'}, {'number': 4, 'created': '2017-05-18 08:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/accdd9c54b744472e7117b3694f940f011dd5d05', 'message': 'remove unused policy from policy doc\n\nAs TODO indicatd remove unused policy from policy doc as them are not used at all\nos_compute_api:os-server-groups\nos_compute_api:flavors\n\nPartial implement blueprint policy-docs\n\nChange-Id: Iee7145be584461b3b427ecd16027df3fe39c506f\n'}, {'number': 5, 'created': '2017-05-18 12:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7cde3eaff6a68f4779b15a6961c1e7d7da0dcdc', 'message': 'remove unused policy from policy doc\n\nAs TODO indicatd remove unused policy from policy doc as them are not used at all\nos_compute_api:os-server-groups\nos_compute_api:flavors\n\nPartial implement blueprint policy-docs\n\nChange-Id: Iee7145be584461b3b427ecd16027df3fe39c506f\n'}, {'number': 6, 'created': '2017-05-22 05:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a06243e1557dc2ecc8219744868a9ace8abf9e1', 'message': 'Deprecate unused policy from policy doc\n\nAs TODO indicatd deprecate unused policy from policy doc as\nthem are not used at all and will remove in next cycle\n\nos_compute_api:os-server-groups\nos_compute_api:flavors\n\nPartial implement blueprint policy-docs\n\nChange-Id: Iee7145be584461b3b427ecd16027df3fe39c506f\n'}, {'number': 7, 'created': '2017-05-22 10:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4125195ae55a2d05f893904b1fd0edcecc840674', 'message': 'Deprecate unused policy from policy doc\n\nAs TODO indicatd deprecate unused policy from policy doc as\nthem are not used at all and will remove in next cycle\n\nos_compute_api:os-server-groups\nos_compute_api:flavors\n\nPartial implement blueprint policy-docs\n\nChange-Id: Iee7145be584461b3b427ecd16027df3fe39c506f\n'}, {'number': 8, 'created': '2017-05-23 07:34:24.000000000', 'files': ['nova/policies/server_groups.py', 'releasenotes/notes/deprecate_unused_policy-d3bf8589aee63eb6.yaml', 'nova/policies/flavors.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a7022af2b5a3e67c46786ea0ffc74185f55dc566', 'message': 'Deprecate unused policy from policy doc\n\nAs TODO indicatd deprecate unused policy from policy doc as\nthem are not used at all and will remove in next cycle\n\nos_compute_api:os-server-groups\nos_compute_api:flavors\n\nPartial implement blueprint policy-docs\n\nChange-Id: Iee7145be584461b3b427ecd16027df3fe39c506f\n'}]",11,465505,a7022af2b5a3e67c46786ea0ffc74185f55dc566,113,17,8,6062,,,0,"Deprecate unused policy from policy doc

As TODO indicatd deprecate unused policy from policy doc as
them are not used at all and will remove in next cycle

os_compute_api:os-server-groups
os_compute_api:flavors

Partial implement blueprint policy-docs

Change-Id: Iee7145be584461b3b427ecd16027df3fe39c506f
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/465505/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/policies/__init__.py', 'nova/policies/flavors.py']",2,bec17d0d6c5ecbd8232283295c8554b0c1b3438c,bp/policy-docs,,"# Copyright 2016 Cloudbase Solutions Srl # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_policy import policy from nova.policies import base BASE_POLICY_NAME = 'os_compute_api:flavors' flavors_policies = [ # TODO(johngarbutt) this doesn't appear to be used in the code and # as such should be removed. policy.RuleDefault( name=BASE_POLICY_NAME, check_str=base.RULE_ADMIN_OR_OWNER), ] def list_rules(): return flavors_policies ",0,35
openstack%2Fopenstack-helm~master~I0f763d1a35a481cbea28c9ee4875c44933fc7781,openstack/openstack-helm,master,I0f763d1a35a481cbea28c9ee4875c44933fc7781,Neutron; set the default az to nova to be consistent with everything else.,MERGED,2017-05-27 06:01:13.000000000,2017-05-28 01:06:51.000000000,2017-05-28 01:06:51.000000000,"[{'_account_id': 3}, {'_account_id': 7769}, {'_account_id': 20443}, {'_account_id': 23928}]","[{'number': 1, 'created': '2017-05-27 06:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/69f43983e9d86c50ca9071fb0fe725a71052d289', 'message': 'Neutron; set the default az to nova to be consistent with everything else.\n\nChange-Id: I0f763d1a35a481cbea28c9ee4875c44933fc7781\n'}, {'number': 2, 'created': '2017-05-27 21:41:54.000000000', 'files': ['neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2dba908e7321666359ce06d7940cf0272e02d296', 'message': 'Neutron; set the default az to nova to be consistent with everything else.\n\nChange-Id: I0f763d1a35a481cbea28c9ee4875c44933fc7781\n'}]",0,468616,2dba908e7321666359ce06d7940cf0272e02d296,11,4,2,8898,,,0,"Neutron; set the default az to nova to be consistent with everything else.

Change-Id: I0f763d1a35a481cbea28c9ee4875c44933fc7781
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/16/468616/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/templates/etc/_neutron.conf.tpl'],1,69f43983e9d86c50ca9071fb0fe725a71052d289,cw-neutron-def-az,"{{ if not .default.neutron.default_availability_zones }}#{{ end }}default_availability_zones = {{ .default.neutron.default_availability_zones | default ""nova"" }}","{{ if not .default.neutron.default_availability_zones }}#{{ end }}default_availability_zones = {{ .default.neutron.default_availability_zones | default """" }}",1,1
openstack%2Fcinder~master~I56adc822845c04a81747969c6202290d9eb64a7b,openstack/cinder,master,I56adc822845c04a81747969c6202290d9eb64a7b,Remove BRCD primary_switch_wwn config option,MERGED,2017-05-07 20:42:09.000000000,2017-05-28 00:48:56.000000000,2017-05-24 12:16:19.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12176}, {'_account_id': 14384}, {'_account_id': 15054}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23140}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-05-07 20:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/80cd2fe1ebf42bca28c65db6bb280b2d59839a5d', 'message': 'Remove BRCD primary_switch_wwn config option\n\nThis config option was deprecated two years ago and should be removed.\n\nThe way this was ""deprecated"" basically just removed the option even\nthough StrOpt was still there. It was not references anywhere. For this\nreason, I don\'t feel a release not is warranted since it was effectively\nalready gone.\n\nChange-Id: I56adc822845c04a81747969c6202290d9eb64a7b\n'}, {'number': 2, 'created': '2017-05-22 17:02:14.000000000', 'files': ['cinder/zonemanager/drivers/brocade/brcd_fabric_opts.py', 'cinder/tests/unit/zonemanager/test_brcd_fc_zone_driver.py', 'cinder/tests/unit/zonemanager/test_brcd_fc_san_lookup_service.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1595aa213601baf292d667a6e54d2f703c0cd98d', 'message': 'Remove BRCD primary_switch_wwn config option\n\nThis config option was deprecated two years ago and should be removed.\n\nThe way this was ""deprecated"" basically just removed the option even\nthough StrOpt was still there. It was not referenced anywhere. For this\nreason, I don\'t feel a release note is warranted since it was effectively\nalready gone.\n\nChange-Id: I56adc822845c04a81747969c6202290d9eb64a7b\n'}]",1,463204,1595aa213601baf292d667a6e54d2f703c0cd98d,59,33,2,11904,,,0,"Remove BRCD primary_switch_wwn config option

This config option was deprecated two years ago and should be removed.

The way this was ""deprecated"" basically just removed the option even
though StrOpt was still there. It was not referenced anywhere. For this
reason, I don't feel a release note is warranted since it was effectively
already gone.

Change-Id: I56adc822845c04a81747969c6202290d9eb64a7b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/463204/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/zonemanager/drivers/brocade/brcd_fabric_opts.py', 'cinder/tests/unit/zonemanager/test_brcd_fc_zone_driver.py', 'cinder/tests/unit/zonemanager/test_brcd_fc_san_lookup_service.py']",3,80cd2fe1ebf42bca28c65db6bb280b2d59839a5d,rm_brcd_deprecation,," fc_fabric_opts.append(cfg.StrOpt('principal_switch_wwn', default='100000051e55a100', help=''))",1,9
openstack%2Fopenstack-helm~master~I023c7fa473aab21f81bc7271d389d89824869083,openstack/openstack-helm,master,I023c7fa473aab21f81bc7271d389d89824869083,Glance; use /var/lib/glance/images for consistency.,MERGED,2017-05-27 05:21:14.000000000,2017-05-27 23:00:12.000000000,2017-05-27 23:00:12.000000000,"[{'_account_id': 3}, {'_account_id': 7769}, {'_account_id': 20443}, {'_account_id': 23928}]","[{'number': 1, 'created': '2017-05-27 05:21:14.000000000', 'files': ['glance/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3e0a00f39a591d7a706d5e6293dcd19cd4585add', 'message': 'Glance; use /var/lib/glance/images for consistency.\n\nChange-Id: I023c7fa473aab21f81bc7271d389d89824869083\n'}]",0,468611,3e0a00f39a591d7a706d5e6293dcd19cd4585add,7,4,1,8898,,,0,"Glance; use /var/lib/glance/images for consistency.

Change-Id: I023c7fa473aab21f81bc7271d389d89824869083
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/11/468611/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/values.yaml'],1,3e0a00f39a591d7a706d5e6293dcd19cd4585add,cw-tweak-default-glance-image-path, filesystem_store_datadir: /var/lib/glance/images, filesystem_store_datadir: /var/lib/glance/store,1,1
openstack%2Fopenstack-helm~master~I60a2b607b85cd22abbd5b0d10c4571430f56d62f,openstack/openstack-helm,master,I60a2b607b85cd22abbd5b0d10c4571430f56d62f,Use storageClassName in preference to the annotation.,MERGED,2017-05-27 05:13:24.000000000,2017-05-27 22:59:46.000000000,2017-05-27 22:59:46.000000000,"[{'_account_id': 3}, {'_account_id': 7769}, {'_account_id': 20443}, {'_account_id': 23928}, {'_account_id': 25907}]","[{'number': 1, 'created': '2017-05-27 05:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/573e70996be823139b856d0abe38fe06ab0d54a0', 'message': ""Use storageClassName for MariaDB storage.\n\nWe prefer storageClassName over the annotation now that it's no longer\nrequired.\n\nChange-Id: I60a2b607b85cd22abbd5b0d10c4571430f56d62f\n""}, {'number': 2, 'created': '2017-05-27 05:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4aa2f3df0067618c1965bbb0a84756682e232f9f', 'message': 'Use storageClassName in preference to the annotation.\n\nChange-Id: I60a2b607b85cd22abbd5b0d10c4571430f56d62f\n'}, {'number': 3, 'created': '2017-05-27 05:19:01.000000000', 'files': ['mariadb/values.yaml', 'mariadb/templates/statefulset.yaml', 'tests/pvc-test.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f9252a823524f112947e2513ebb92ac5b872a3a5', 'message': 'Use storageClassName in preference to the annotation.\n\nChange-Id: I60a2b607b85cd22abbd5b0d10c4571430f56d62f\n'}]",0,468610,f9252a823524f112947e2513ebb92ac5b872a3a5,11,5,3,8898,,,0,"Use storageClassName in preference to the annotation.

Change-Id: I60a2b607b85cd22abbd5b0d10c4571430f56d62f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/10/468610/1 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/templates/statefulset.yaml'],1,573e70996be823139b856d0abe38fe06ab0d54a0,cw-mariadb-use-sc, storageClassName: {{ .Values.volume.class_name }}, annotations: {{ .Values.volume.class_path }}: {{ .Values.volume.class_name }},1,2
openstack%2Fopenstack-ansible~master~Icd38ab08ce2396f1cf5cb0fc50d71c8265892657,openstack/openstack-ansible,master,Icd38ab08ce2396f1cf5cb0fc50d71c8265892657,SHA Bump for Pike as of 26.05.2017,MERGED,2017-05-26 13:19:49.000000000,2017-05-27 22:37:55.000000000,2017-05-27 22:37:55.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 13:19:49.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f02b5487bd149077c318c7896939e525c4637849', 'message': 'SHA Bump for Pike as of 26.05.2017\n\nNova was not SHA bumped to head of master, due to a race condition\ncaused when scheduling instances.\n\nChange-Id: Icd38ab08ce2396f1cf5cb0fc50d71c8265892657\n'}]",0,468415,f02b5487bd149077c318c7896939e525c4637849,7,3,1,2799,,,0,"SHA Bump for Pike as of 26.05.2017

Nova was not SHA bumped to head of master, due to a race condition
caused when scheduling instances.

Change-Id: Icd38ab08ce2396f1cf5cb0fc50d71c8265892657
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/15/468415/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml']",4,f02b5487bd149077c318c7896939e525c4637849,sha-update,"tempest_git_install_branch: 7203f58c97f250d8443235334efedd4d94792877 # HEAD of ""master"" as of 26.05.2017rally_git_install_branch: c56a6eac9efcaf418f7c501c97d2be33d8f7153c # HEAD of ""master"" as of 26.05.2017","tempest_git_install_branch: 9552aeffc0eb1c6bed5eea632307a266868d695e # HEAD of ""master"" as of 15.05.2017rally_git_install_branch: 0b06cd1bfb85b92a28c44d4113f770c0869ff2ac # HEAD of ""master"" as of 15.05.2017",38,38
openstack%2Fopenstack-ansible~stable%2Focata~If53a9a71fd147cdd9efc7e21c73f9469cf44a65c,openstack/openstack-ansible,stable/ocata,If53a9a71fd147cdd9efc7e21c73f9469cf44a65c,SHA Bump Nova role to fix upgrade path,MERGED,2017-05-26 13:14:44.000000000,2017-05-27 22:37:41.000000000,2017-05-27 22:37:41.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 13:14:44.000000000', 'files': ['releasenotes/notes/cell_v2_map_instances-dfa21951a3dcd2f5.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/167adfc6845b418465bb3c9410409902d3609707', 'message': 'SHA Bump Nova role to fix upgrade path\n\nChange-Id: If53a9a71fd147cdd9efc7e21c73f9469cf44a65c\n'}]",0,468410,167adfc6845b418465bb3c9410409902d3609707,7,3,1,2799,,,0,"SHA Bump Nova role to fix upgrade path

Change-Id: If53a9a71fd147cdd9efc7e21c73f9469cf44a65c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/10/468410/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cell_v2_map_instances-dfa21951a3dcd2f5.yaml', 'ansible-role-requirements.yml']",2,167adfc6845b418465bb3c9410409902d3609707,, version: 17dd2dd8c53897ce839f283fecb48b8c80410b07, version: 8aacdd01ad98d82b3b817895d39af44b3a862847,6,1
openstack%2Fcinder~master~I3c578f06bbcd344615e436d19da85d46468446b2,openstack/cinder,master,I3c578f06bbcd344615e436d19da85d46468446b2,Mock qemu calls in sheepdog tests,MERGED,2017-05-17 14:38:52.000000000,2017-05-27 22:26:45.000000000,2017-05-23 13:39:15.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}]","[{'number': 1, 'created': '2017-05-17 14:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/875d2eb639a27993bac0f0da6d589bb2db3de833', 'message': 'Mock qemu calls in sheepdog tests\n\nUnit tests for the sheepdog driver were creating temp files\nand trying to run qemu-img commands on them. These needied\nto be mocked out to not actually make calls.\n\nChange-Id: I3c578f06bbcd344615e436d19da85d46468446b2\n'}, {'number': 2, 'created': '2017-05-22 16:42:07.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_sheepdog.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/174253df842dba42e032fb96db7352c26e4bcf3d', 'message': 'Mock qemu calls in sheepdog tests\n\nUnit tests for the sheepdog driver were creating temp files\nand trying to run qemu-img commands on them. These needied\nto be mocked out to not actually make calls.\n\nChange-Id: I3c578f06bbcd344615e436d19da85d46468446b2\n'}]",5,465626,174253df842dba42e032fb96db7352c26e4bcf3d,63,30,2,11904,,,0,"Mock qemu calls in sheepdog tests

Unit tests for the sheepdog driver were creating temp files
and trying to run qemu-img commands on them. These needied
to be mocked out to not actually make calls.

Change-Id: I3c578f06bbcd344615e436d19da85d46468446b2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/465626/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/test_sheepdog.py'],1,875d2eb639a27993bac0f0da6d589bb2db3de833,sheepdog_mock_qemu," @mock.patch('six.moves.builtins.open') @mock.patch('cinder.image.image_utils.temporary_file') def test_copy_volume_to_image_nonexistent_volume(self, mock_temp, mock_open): patch = mock.patch.object with patch(self.driver, '_try_execute') as fake_try_execute: with patch(fake_image_service, 'update') as fake_image_service_update: fake_try_execute.side_effect = ( processutils.ProcessExecutionError) args = (fake_context, fake_volume, fake_image_service, fake_image_meta) expected_cmd = ('qemu-img', 'convert', '-f', 'raw', '-t', 'none', '-O', 'raw', 'sheepdog:%s:%s:%s' % ( self._addr, self._port, fake_volume['name']), mock.ANY) self.assertRaises(processutils.ProcessExecutionError, self.driver.copy_volume_to_image, *args) fake_try_execute.assert_called_once_with(*expected_cmd) mock_open.assert_not_called() fake_image_service_update.assert_not_called()"," fake_image_service_update = mock.Mock() @mock.patch('os.makedirs') def test_copy_volume_to_image_nonexistent_volume(self, mock_make): # The command is expected to fail, so we don't want to retry it. self.driver._try_execute = self.driver._execute args = (fake_context, fake_volume, fake_image_service, fake_image_meta) expected_errors = (processutils.ProcessExecutionError, OSError) self.assertRaises(expected_errors, self.driver.copy_volume_to_image, *args)",29,10
openstack%2Fopenstack-ansible-os_cinder~master~Ide7712021d773e9001831a46bb7c353a3f9f381b,openstack/openstack-ansible-os_cinder,master,Ide7712021d773e9001831a46bb7c353a3f9f381b,"Update paste, policy and rootwrap configurations 2017-05-26",MERGED,2017-05-26 13:15:03.000000000,2017-05-27 22:24:31.000000000,2017-05-27 22:24:31.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 13:15:03.000000000', 'files': ['files/rootwrap.d/volume.filters', 'templates/rootwrap.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/de17bd6b7724e82c5905cf1e4f8ba5551ca641e0', 'message': 'Update paste, policy and rootwrap configurations 2017-05-26\n\nChange-Id: Ide7712021d773e9001831a46bb7c353a3f9f381b\n'}]",0,468411,de17bd6b7724e82c5905cf1e4f8ba5551ca641e0,8,3,1,2799,,,0,"Update paste, policy and rootwrap configurations 2017-05-26

Change-Id: Ide7712021d773e9001831a46bb7c353a3f9f381b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/11/468411/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/rootwrap.d/volume.filters', 'templates/rootwrap.conf.j2']",2,de17bd6b7724e82c5905cf1e4f8ba5551ca641e0,sha-update,"exec_dirs={{ cinder_bin }},/sbin,/usr/sbin,/bin,/usr/bin,/usr/local/bin,/usr/local/sbin,/usr/lpp/mmfs/bin","exec_dirs={{ cinder_bin }},/sbin,/usr/sbin,/bin,/usr/bin,/usr/local/bin,/usr/local/sbin",14,15
openstack%2Fproject-config~master~I919bd77f31b74160b45d3ce5f44305c217e63b20,openstack/project-config,master,I919bd77f31b74160b45d3ce5f44305c217e63b20,Add experimental job triggering on openSUSE 42.2 for devstack-gate,MERGED,2017-05-27 21:32:14.000000000,2017-05-27 22:17:39.000000000,2017-05-27 22:17:39.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 5263}]","[{'number': 1, 'created': '2017-05-27 21:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f5003ed41188918845c314131aaf757c604af6a8', 'message': 'Add experimental job triggering on openSUSE 42.2 for devstack-gate\n\nIn order to self-test porting of devstack-gate we need a opensuse\nbased experimental job\n\nChange-Id: I919bd77f31b74160b45d3ce5f44305c217e63b20\n'}, {'number': 2, 'created': '2017-05-27 21:45:32.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4077a82b4353e2242ec618eeabde7f8733f0b16d', 'message': 'Add experimental job triggering on openSUSE 42.2 for devstack-gate\n\nIn order to self-test porting of devstack-gate we need a opensuse\nbased experimental job\n\nChange-Id: I919bd77f31b74160b45d3ce5f44305c217e63b20\n'}]",0,468674,4077a82b4353e2242ec618eeabde7f8733f0b16d,9,3,2,6593,,,0,"Add experimental job triggering on openSUSE 42.2 for devstack-gate

In order to self-test porting of devstack-gate we need a opensuse
based experimental job

Change-Id: I919bd77f31b74160b45d3ce5f44305c217e63b20
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/468674/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,f5003ed41188918845c314131aaf757c604af6a8,, - gate-tempest-dsvm-neutron-full-opensuse-422-nv,,6,0
openstack%2Fopenstack-ansible-os_aodh~stable%2Focata~Ia7938f75c6c8bb03a61b5390f36a3f967556fbcf,openstack/openstack-ansible-os_aodh,stable/ocata,Ia7938f75c6c8bb03a61b5390f36a3f967556fbcf,Use command instead of debug for handlers,MERGED,2017-05-25 09:35:16.000000000,2017-05-27 22:17:34.000000000,2017-05-27 22:17:33.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-25 09:35:16.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/7a083f0e17d2bae569ee1d68f3f5498ef777b576', 'message': 'Use command instead of debug for handlers\n\nDue to the debug message plugin the handler restart\nmessages show at the end of the playbook execution\nwhich is a little confusing. Using debug also\nrequires setting changed_when to true which is a\nlittle extra bit of code which we do not have to\ncarry.\n\nInstead we use the command module which is simple,\nworks and less wordy.\n\nChange-Id: Ia7938f75c6c8bb03a61b5390f36a3f967556fbcf\n(cherry picked from commit 1112796b541fbca886288b68335b4c9ff09db43b)\n'}]",0,467957,7a083f0e17d2bae569ee1d68f3f5498ef777b576,7,3,1,6816,,,0,"Use command instead of debug for handlers

Due to the debug message plugin the handler restart
messages show at the end of the playbook execution
which is a little confusing. Using debug also
requires setting changed_when to true which is a
little extra bit of code which we do not have to
carry.

Instead we use the command module which is simple,
works and less wordy.

Change-Id: Ia7938f75c6c8bb03a61b5390f36a3f967556fbcf
(cherry picked from commit 1112796b541fbca886288b68335b4c9ff09db43b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/57/467957/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,7a083f0e17d2bae569ee1d68f3f5498ef777b576,atomic-policy-file-change," command: ""/bin/true"""," debug: msg: ""Restarting services"" changed_when: true",1,3
openstack%2Fopenstack-ansible-os_glance~stable%2Focata~I7096ca81dd6e1126926c95f3c2b7437d0c9d452f,openstack/openstack-ansible-os_glance,stable/ocata,I7096ca81dd6e1126926c95f3c2b7437d0c9d452f,Use command instead of debug for handlers,MERGED,2017-05-25 09:35:01.000000000,2017-05-27 22:16:39.000000000,2017-05-27 22:16:39.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-25 09:35:01.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/78eff9d68a11ce17bfb81a6b0d9730fd53d26cad', 'message': 'Use command instead of debug for handlers\n\nDue to the debug message plugin the handler restart\nmessages show at the end of the playbook execution\nwhich is a little confusing. Using debug also\nrequires setting changed_when to true which is a\nlittle extra bit of code which we do not have to\ncarry.\n\nInstead we use the command module which is simple,\nworks and less wordy.\n\nChange-Id: I7096ca81dd6e1126926c95f3c2b7437d0c9d452f\n(cherry picked from commit aa4910a1cc964ca2f7825f3924a70c6b43e4e216)\n'}]",0,467956,78eff9d68a11ce17bfb81a6b0d9730fd53d26cad,7,3,1,6816,,,0,"Use command instead of debug for handlers

Due to the debug message plugin the handler restart
messages show at the end of the playbook execution
which is a little confusing. Using debug also
requires setting changed_when to true which is a
little extra bit of code which we do not have to
carry.

Instead we use the command module which is simple,
works and less wordy.

Change-Id: I7096ca81dd6e1126926c95f3c2b7437d0c9d452f
(cherry picked from commit aa4910a1cc964ca2f7825f3924a70c6b43e4e216)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/56/467956/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,78eff9d68a11ce17bfb81a6b0d9730fd53d26cad,atomic-policy-file-change," command: ""/bin/true"""," debug: msg: ""Restarting services"" changed_when: true",1,3
openstack%2Fopenstack-ansible-os_heat~master~I08d2152d7014343b663535938b74247bf591245a,openstack/openstack-ansible-os_heat,master,I08d2152d7014343b663535938b74247bf591245a,"Update paste, policy and rootwrap configurations 2017-05-26",MERGED,2017-05-26 13:15:25.000000000,2017-05-27 22:13:39.000000000,2017-05-27 22:13:39.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 13:15:25.000000000', 'files': ['templates/policy.json.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/3a6a6fbf1462aa4417f6e22236e92016805547eb', 'message': 'Update paste, policy and rootwrap configurations 2017-05-26\n\nChange-Id: I08d2152d7014343b663535938b74247bf591245a\n'}]",0,468412,3a6a6fbf1462aa4417f6e22236e92016805547eb,7,3,1,2799,,,0,"Update paste, policy and rootwrap configurations 2017-05-26

Change-Id: I08d2152d7014343b663535938b74247bf591245a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/12/468412/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/policy.json.j2'],1,3a6a6fbf1462aa4417f6e22236e92016805547eb,sha-update," ""resource_types:OS::Neutron::ProviderNet"": ""rule:project_admin"", ""resource_types:OS::Neutron::Segment"": ""rule:project_admin"",",,2,0
openstack%2Fopenstack-ansible-os_neutron~stable%2Focata~I3861447fe685b38ecb9dfad8f3dff666b160af36,openstack/openstack-ansible-os_neutron,stable/ocata,I3861447fe685b38ecb9dfad8f3dff666b160af36,Use command instead of debug for handlers,MERGED,2017-05-25 09:34:06.000000000,2017-05-27 22:10:24.000000000,2017-05-27 22:10:24.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-25 09:34:06.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/05993f99bec56cc92e476b59fee98cdce6d56fcf', 'message': 'Use command instead of debug for handlers\n\nDue to the debug message plugin the handler restart\nmessages show at the end of the playbook execution\nwhich is a little confusing. Using debug also\nrequires setting changed_when to true which is a\nlittle extra bit of code which we do not have to\ncarry.\n\nInstead we use the command module which is simple,\nworks and less wordy.\n\nChange-Id: I3861447fe685b38ecb9dfad8f3dff666b160af36\n(cherry picked from commit 8b09798733cecca969908752bbec41acf9d16b1e)\n'}]",0,467951,05993f99bec56cc92e476b59fee98cdce6d56fcf,7,3,1,6816,,,0,"Use command instead of debug for handlers

Due to the debug message plugin the handler restart
messages show at the end of the playbook execution
which is a little confusing. Using debug also
requires setting changed_when to true which is a
little extra bit of code which we do not have to
carry.

Instead we use the command module which is simple,
works and less wordy.

Change-Id: I3861447fe685b38ecb9dfad8f3dff666b160af36
(cherry picked from commit 8b09798733cecca969908752bbec41acf9d16b1e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/51/467951/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,05993f99bec56cc92e476b59fee98cdce6d56fcf,atomic-policy-file-change," command: ""/bin/true"""," debug: msg: ""Restarting services"" changed_when: true",1,3
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Focata~I5d4573e5415365fcd493850192f90a46897d6534,openstack/openstack-ansible-os_gnocchi,stable/ocata,I5d4573e5415365fcd493850192f90a46897d6534,Use command instead of debug for handlers,MERGED,2017-05-25 09:35:29.000000000,2017-05-27 22:06:23.000000000,2017-05-27 22:06:23.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-25 09:35:29.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/8c263e50b1e75d6da73bd3e27d628207970c1f0f', 'message': 'Use command instead of debug for handlers\n\nDue to the debug message plugin the handler restart\nmessages show at the end of the playbook execution\nwhich is a little confusing. Using debug also\nrequires setting changed_when to true which is a\nlittle extra bit of code which we do not have to\ncarry.\n\nInstead we use the command module which is simple,\nworks and less wordy.\n\nChange-Id: I5d4573e5415365fcd493850192f90a46897d6534\n(cherry picked from commit 97f58f4c7b1ded5357a1711fdae61cac8f5c3ec7)\n'}]",0,467958,8c263e50b1e75d6da73bd3e27d628207970c1f0f,7,3,1,6816,,,0,"Use command instead of debug for handlers

Due to the debug message plugin the handler restart
messages show at the end of the playbook execution
which is a little confusing. Using debug also
requires setting changed_when to true which is a
little extra bit of code which we do not have to
carry.

Instead we use the command module which is simple,
works and less wordy.

Change-Id: I5d4573e5415365fcd493850192f90a46897d6534
(cherry picked from commit 97f58f4c7b1ded5357a1711fdae61cac8f5c3ec7)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/58/467958/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,8c263e50b1e75d6da73bd3e27d628207970c1f0f,atomic-policy-file-change," command: ""/bin/true"""," debug: msg: ""Restarting services"" changed_when: true",1,3
openstack%2Fopenstack-ansible-os_designate~stable%2Focata~Ic80a23df0d86258ae7931ebb0dea2bcea97187a2,openstack/openstack-ansible-os_designate,stable/ocata,Ic80a23df0d86258ae7931ebb0dea2bcea97187a2,Use command instead of debug for handlers,MERGED,2017-05-25 09:34:29.000000000,2017-05-27 22:05:43.000000000,2017-05-27 22:05:43.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-25 09:34:29.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/b7fd2de51c565850e4b4b17d2302af6b7476386e', 'message': 'Use command instead of debug for handlers\n\nDue to the debug message plugin the handler restart\nmessages show at the end of the playbook execution\nwhich is a little confusing. Using debug also\nrequires setting changed_when to true which is a\nlittle extra bit of code which we do not have to\ncarry.\n\nInstead we use the command module which is simple,\nworks and less wordy.\n\nChange-Id: Ic80a23df0d86258ae7931ebb0dea2bcea97187a2\n(cherry picked from commit 9315d428c3637f53ff8e40bc82493246baa23828)\n'}]",0,467954,b7fd2de51c565850e4b4b17d2302af6b7476386e,7,3,1,6816,,,0,"Use command instead of debug for handlers

Due to the debug message plugin the handler restart
messages show at the end of the playbook execution
which is a little confusing. Using debug also
requires setting changed_when to true which is a
little extra bit of code which we do not have to
carry.

Instead we use the command module which is simple,
works and less wordy.

Change-Id: Ic80a23df0d86258ae7931ebb0dea2bcea97187a2
(cherry picked from commit 9315d428c3637f53ff8e40bc82493246baa23828)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/54/467954/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,b7fd2de51c565850e4b4b17d2302af6b7476386e,atomic-policy-file-change," command: ""/bin/true"""," debug: msg: ""Restarting services"" changed_when: true",1,3
openstack%2Fhorizon~master~I7569badf7187dece49b88b69d991fa3b2ff0c84c,openstack/horizon,master,I7569badf7187dece49b88b69d991fa3b2ff0c84c,Added an asterisk on the network address field of subnet create,ABANDONED,2017-05-27 21:43:08.000000000,2017-05-27 21:49:39.000000000,,"[{'_account_id': 23921}, {'_account_id': 25961}]","[{'number': 1, 'created': '2017-05-27 21:43:08.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/workflows.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d3f3d529322bdebbb5195989509258bbab86c378', 'message': 'Added an asterisk on the network address field of subnet create\n\nIn subnet create modal, the asterisk denoted it was required in the\nnetwork address field. Change removed `required=False` from the field.\n\nCloses Bug: #1420370\n\nChange-Id: I78761b4ca72be60a4eeb2eaa7921552e83b08615\n\nRemove redundant keyword argument\n\nThe default value for an instance of forms.IPField is `required=True`.\n\nCloses Bug: #1420370\n\nChange-Id: I7569badf7187dece49b88b69d991fa3b2ff0c84c\n'}]",0,468675,d3f3d529322bdebbb5195989509258bbab86c378,3,2,1,25961,,,0,"Added an asterisk on the network address field of subnet create

In subnet create modal, the asterisk denoted it was required in the
network address field. Change removed `required=False` from the field.

Closes Bug: #1420370

Change-Id: I78761b4ca72be60a4eeb2eaa7921552e83b08615

Remove redundant keyword argument

The default value for an instance of forms.IPField is `required=True`.

Closes Bug: #1420370

Change-Id: I7569badf7187dece49b88b69d991fa3b2ff0c84c
",git fetch https://review.opendev.org/openstack/horizon refs/changes/75/468675/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/networks/workflows.py'],1,d3f3d529322bdebbb5195989509258bbab86c378,bug/1420370,," required=False,",0,1
openstack%2Fopenstack-ansible-os_cloudkitty~stable%2Focata~I3562ef542ab4c87cd6bac82d916e5696149c8a6b,openstack/openstack-ansible-os_cloudkitty,stable/ocata,I3562ef542ab4c87cd6bac82d916e5696149c8a6b,Use command instead of debug for handlers,MERGED,2017-05-25 09:35:39.000000000,2017-05-27 21:48:36.000000000,2017-05-27 21:48:36.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-25 09:35:39.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/d1e4fb9317e8fc6c5283a824be1fe20aa423bf14', 'message': 'Use command instead of debug for handlers\n\nDue to the debug message plugin the handler restart\nmessages show at the end of the playbook execution\nwhich is a little confusing. Using debug also\nrequires setting changed_when to true which is a\nlittle extra bit of code which we do not have to\ncarry.\n\nInstead we use the command module which is simple,\nworks and less wordy.\n\nChange-Id: I3562ef542ab4c87cd6bac82d916e5696149c8a6b\n(cherry picked from commit 32ec0260d2c11417c342ce47cfd2d735a19563c2)\n'}]",0,467959,d1e4fb9317e8fc6c5283a824be1fe20aa423bf14,7,3,1,6816,,,0,"Use command instead of debug for handlers

Due to the debug message plugin the handler restart
messages show at the end of the playbook execution
which is a little confusing. Using debug also
requires setting changed_when to true which is a
little extra bit of code which we do not have to
carry.

Instead we use the command module which is simple,
works and less wordy.

Change-Id: I3562ef542ab4c87cd6bac82d916e5696149c8a6b
(cherry picked from commit 32ec0260d2c11417c342ce47cfd2d735a19563c2)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/59/467959/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,d1e4fb9317e8fc6c5283a824be1fe20aa423bf14,atomic-policy-file-change," command: ""/bin/true"""," debug: msg: ""Restarting services"" changed_when: true",1,3
openstack%2Fhorizon~master~Ifff0e15b9eced052c49a47b0c4a7ec895ec923db,openstack/horizon,master,Ifff0e15b9eced052c49a47b0c4a7ec895ec923db,Remove redundant keyword argument,ABANDONED,2017-05-27 17:55:20.000000000,2017-05-27 21:46:12.000000000,,"[{'_account_id': 3}, {'_account_id': 25961}]","[{'number': 1, 'created': '2017-05-27 17:55:20.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/workflows.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/57a9f564bea9fd56e288ba3d16f52661ddfab65a', 'message': 'Remove redundant keyword argument\n\nThe default value for an instance of forms.IPField is `required=True`.\n\nChange-Id: Ifff0e15b9eced052c49a47b0c4a7ec895ec923db\n'}]",0,468665,57a9f564bea9fd56e288ba3d16f52661ddfab65a,5,2,1,25961,,,0,"Remove redundant keyword argument

The default value for an instance of forms.IPField is `required=True`.

Change-Id: Ifff0e15b9eced052c49a47b0c4a7ec895ec923db
",git fetch https://review.opendev.org/openstack/horizon refs/changes/65/468665/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/networks/workflows.py'],1,57a9f564bea9fd56e288ba3d16f52661ddfab65a,bug/1420370,," required=True,",0,1
openstack%2Fopenstack-ansible-os_almanach~master~Ife6d2ed182bc4d34b998b0e3078140e75e262d79,openstack/openstack-ansible-os_almanach,master,Ife6d2ed182bc4d34b998b0e3078140e75e262d79,Update to Almanach 4.0.9,MERGED,2017-05-24 17:24:59.000000000,2017-05-27 21:35:53.000000000,2017-05-27 21:35:53.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-24 17:24:59.000000000', 'files': ['tests/test-functional-almanach.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_almanach/commit/8cf7a102f75a5f6fe74fd0f4b2966588daa569ad', 'message': 'Update to Almanach 4.0.9\n\nChange-Id: Ife6d2ed182bc4d34b998b0e3078140e75e262d79\n'}]",0,467690,8cf7a102f75a5f6fe74fd0f4b2966588daa569ad,7,3,1,17784,,,0,"Update to Almanach 4.0.9

Change-Id: Ife6d2ed182bc4d34b998b0e3078140e75e262d79
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_almanach refs/changes/90/467690/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-functional-almanach.yml', 'defaults/main.yml']",2,8cf7a102f75a5f6fe74fd0f4b2966588daa569ad,409,almanach_version: 4.0.9,almanach_version: 4.0.3,2,2
openstack%2Fproject-config~master~I75a37dcb8221b4a9d5c0f2b10c25c0b5d91c547c,openstack/project-config,master,I75a37dcb8221b4a9d5c0f2b10c25c0b5d91c547c,Add experimental openSUSE 42.2 based job for devstack and dib,MERGED,2017-05-25 18:58:07.000000000,2017-05-27 21:21:01.000000000,2017-05-27 21:21:01.000000000,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-05-25 18:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6469e80d197320be6a013ac765bad8a34b8c2e20', 'message': 'Add experimental openSUSE 42.2 based job for devstack and dib\n\nNow that the openSUSE 42.2 nodepool images are building correctly,\nwe can add an experimental check job to iron out the last wrinkles.\n\nChange-Id: I75a37dcb8221b4a9d5c0f2b10c25c0b5d91c547c\n'}, {'number': 2, 'created': '2017-05-25 19:37:03.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e0c720d8380a4849c1494e14ad87328003cfdf4f', 'message': 'Add experimental openSUSE 42.2 based job for devstack and dib\n\nNow that the openSUSE 42.2 nodepool images are building correctly,\nwe can add an experimental check job to iron out the last wrinkles.\n\nChange-Id: I75a37dcb8221b4a9d5c0f2b10c25c0b5d91c547c\n'}]",1,468132,e0c720d8380a4849c1494e14ad87328003cfdf4f,11,3,2,6593,,,0,"Add experimental openSUSE 42.2 based job for devstack and dib

Now that the openSUSE 42.2 nodepool images are building correctly,
we can add an experimental check job to iron out the last wrinkles.

Change-Id: I75a37dcb8221b4a9d5c0f2b10c25c0b5d91c547c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/32/468132/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,6469e80d197320be6a013ac765bad8a34b8c2e20,opensuse_dib, - gate-tempest-dsvm-neutron-full-opensuse-422-nv - gate-dib-dsvm-functests-python2-opensuse-422-nv - gate-dib-dsvm-functests-python3-opensuse-422-nv,,3,0
openstack%2Fkolla-kubernetes~master~I0263e48a28fac3775d4d6b7e71a1d396141d7c97,openstack/kolla-kubernetes,master,I0263e48a28fac3775d4d6b7e71a1d396141d7c97,Remove useless modules in ansible/library,MERGED,2017-03-28 09:10:41.000000000,2017-05-27 20:42:27.000000000,2017-05-27 20:42:27.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 11869}, {'_account_id': 19384}, {'_account_id': 22165}, {'_account_id': 22959}, {'_account_id': 23717}, {'_account_id': 24164}]","[{'number': 1, 'created': '2017-03-28 09:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/e4014c97416c210a155044dda19e5a6ea7736fd8', 'message': ""Remove useless moudles\n\nGenerating configration in kolla-k8s doesn't need those moudles\n\nChange-Id: I0263e48a28fac3775d4d6b7e71a1d396141d7c97\n""}, {'number': 2, 'created': '2017-03-28 09:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/345c28ede8e3a7c630ff41edfe18dc66bfc714c7', 'message': ""Remove useless moudles\n\nGenerating configration in kolla-k8s doesn't need those moudles\n\nChange-Id: I0263e48a28fac3775d4d6b7e71a1d396141d7c97\n""}, {'number': 3, 'created': '2017-03-28 10:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/2efd4344db1039f2ac58c726466d5e094b299c15', 'message': ""Remove useless modules\n\nGenerating configration in kolla-k8s doesn't need those modules\n\nChange-Id: I0263e48a28fac3775d4d6b7e71a1d396141d7c97\n""}, {'number': 4, 'created': '2017-03-29 00:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/8986a41a50e7eb1e6dab4c30523acbaca9d1ca22', 'message': ""Remove useless modules\n\nGenerating configuration in kolla-k8s doesn't need those modules\n\nChange-Id: I0263e48a28fac3775d4d6b7e71a1d396141d7c97\n""}, {'number': 5, 'created': '2017-04-15 06:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/1390dc8f1bb375910e0ebe4db896c67a71475d47', 'message': ""Remove useless modules\n\nGenerating configuration in kolla-k8s doesn't need those modules\n\nChange-Id: I0263e48a28fac3775d4d6b7e71a1d396141d7c97\n""}, {'number': 6, 'created': '2017-04-15 06:11:55.000000000', 'files': ['ansible/library/kolla_toolbox.py', 'ansible/library/bslurp.py', 'ansible/library/kolla_docker.py', 'ansible/library/kolla_container_facts.py'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/26fe6d8ed6105ad5b2a94df8bf428fca108756f7', 'message': ""Remove useless modules in ansible/library\n\nGenerating configuration in kolla-k8s doesn't need those modules\n\nChange-Id: I0263e48a28fac3775d4d6b7e71a1d396141d7c97\nPartially-Implements: blueprint move-config-to-kolla-k8s\n""}]",4,450662,26fe6d8ed6105ad5b2a94df8bf428fca108756f7,35,8,6,22959,,,0,"Remove useless modules in ansible/library

Generating configuration in kolla-k8s doesn't need those modules

Change-Id: I0263e48a28fac3775d4d6b7e71a1d396141d7c97
Partially-Implements: blueprint move-config-to-kolla-k8s
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/62/450662/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/library/kolla_toolbox.py', 'ansible/library/bslurp.py', 'ansible/library/kolla_docker.py', 'ansible/library/kolla_container_facts.py']",4,e4014c97416c210a155044dda19e5a6ea7736fd8,bp/move-config-to-kolla-k8s,,"#!/usr/bin/env python # Copyright 2016 99cloud # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. DOCUMENTATION = ''' --- module: kolla_container_facts short_description: Module for collecting Docker container facts description: - A module targeting at collecting Docker container facts. It is used for detecting whether the container is running on host in Kolla. options: api_version: description: - The version of the api for docker-py to use when contacting docker required: False type: str default: auto name: description: - Name or names of the containers required: False type: str or list author: Jeffrey Zhang ''' EXAMPLES = ''' - hosts: all tasks: - name: Gather docker facts kolla_container_facts: - name: Gather glance container facts kolla_container_facts: name: - glance_api - glance_registry ''' import docker def get_docker_client(): try: return docker.Client except AttributeError: return docker.APIClient def main(): argument_spec = dict( name=dict(required=False, type='list', default=[]), api_version=dict(required=False, type='str', default='auto') ) module = AnsibleModule(argument_spec=argument_spec) results = dict(changed=False, _containers=[]) client = get_docker_client()(version=module.params.get('api_version')) containers = client.containers() names = module.params.get('name') if names and not isinstance(names, list): names = [names] for container in containers: for container_name in container['Names']: # remove '/' prefix character container_name = container_name[1:] if names and container_name not in names: continue results['_containers'].append(container) results[container_name] = container module.exit_json(**results) from ansible.module_utils.basic import * # noqa if __name__ == ""__main__"": main() ",0,1232
openstack%2Fkolla-kubernetes~master~Ie443ffec2743f07f919c3a89a418bde40a3967b9,openstack/kolla-kubernetes,master,Ie443ffec2743f07f919c3a89a418bde40a3967b9,Placement API service implement,ABANDONED,2017-03-06 06:50:25.000000000,2017-05-27 20:41:45.000000000,,"[{'_account_id': 3}, {'_account_id': 14447}, {'_account_id': 19384}]","[{'number': 1, 'created': '2017-03-06 06:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/e188aaed0da68077bf681e129d9b0685a541d396', 'message': 'Placement API service implement\n\nNova project introduce new service named placement service since Newton\nrelease. The service provides an HTTP API to manage inventories of\ndifferent classes of resources, such as disk or virtual cpus, made\navailable by entities called resource providers.\n\nNova compute will try to connect to placement and report warning if it\ncan connect to the service at Newtown, it can still be compatible if you\nstill not installed placement service. However placement service is\nrequire at Ocata release (which is released at 2017-02-22). Kolla and\nKolla-ansible had implement placement service at\n4.0.0.0rc1. Kolla-kubernetes also need to implement this, otherwise nova\ncompute service can not work.\n\nChange-Id: Ie443ffec2743f07f919c3a89a418bde40a3967b9\nClosed-Bug: 1669285\n'}, {'number': 2, 'created': '2017-03-06 08:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/cd3f94ff7ae4bc147decdc1058ed2df39162bee6', 'message': 'Placement API service implement\n\nNova project introduce new service named placement service since Newton\nrelease. The service provides an HTTP API to manage inventories of\ndifferent classes of resources, such as disk or virtual cpus, made\navailable by entities called resource providers.\n\nNova compute will try to connect to placement and report warning if it\ncan connect to the service at Newtown, it can still be compatible if you\nstill not installed placement service. However placement service is\nrequire at Ocata release (which is released at 2017-02-22). Kolla and\nKolla-ansible had implement placement service at\n4.0.0.0rc1. Kolla-kubernetes also need to implement this, otherwise nova\ncompute service can not work.\n\nChange-Id: Ie443ffec2743f07f919c3a89a418bde40a3967b9\nClosed-Bug: 1669285\n'}, {'number': 3, 'created': '2017-03-06 11:30:41.000000000', 'files': ['services/nova/nova-placement-api-pod.yml.j2', 'etc/kolla-kubernetes/service_resources.yml', 'etc/kolla-kubernetes/kolla-kubernetes.yml'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/676c74df8ca9492c2f4808bd95b1fb2c8e7b1dcd', 'message': 'Placement API service implement\n\nNova project introduce new service named placement service since Newton\nrelease. The service provides an HTTP API to manage inventories of\ndifferent classes of resources, such as disk or virtual cpus, made\navailable by entities called resource providers.\n\nNova compute will try to connect to placement and report warning if it\ncan connect to the service at Newtown, it can still be compatible if you\nstill not installed placement service. However placement service is\nrequire at Ocata release (which is released at 2017-02-22). Kolla and\nKolla-ansible had implement placement service at\n4.0.0.0rc1. Kolla-kubernetes also need to implement this, otherwise nova\ncompute service can not work.\n\nChange-Id: Ie443ffec2743f07f919c3a89a418bde40a3967b9\nClosed-Bug: 1669285\n'}]",0,441766,676c74df8ca9492c2f4808bd95b1fb2c8e7b1dcd,9,3,3,14447,,,0,"Placement API service implement

Nova project introduce new service named placement service since Newton
release. The service provides an HTTP API to manage inventories of
different classes of resources, such as disk or virtual cpus, made
available by entities called resource providers.

Nova compute will try to connect to placement and report warning if it
can connect to the service at Newtown, it can still be compatible if you
still not installed placement service. However placement service is
require at Ocata release (which is released at 2017-02-22). Kolla and
Kolla-ansible had implement placement service at
4.0.0.0rc1. Kolla-kubernetes also need to implement this, otherwise nova
compute service can not work.

Change-Id: Ie443ffec2743f07f919c3a89a418bde40a3967b9
Closed-Bug: 1669285
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/66/441766/1 && git format-patch -1 --stdout FETCH_HEAD,"['services/nova/placement-api-pod.yml.j2', 'services/nova/placement-api-bootstrap-job-create-user.yml.j2', 'etc/kolla-kubernetes/service_resources.yml', 'etc/kolla-kubernetes/kolla-kubernetes.yml']",4,e188aaed0da68077bf681e129d9b0685a541d396,bug/1669285,"placement_api_replicas: ""1""######################## # Placement-API variables ######################## placement_database_name: ""placement"" placement_admin_endpoint: ""http://placement-api:{{ placement_api_port }}"" placement_public_endpoint: ""http://{{ kolla_kubernetes_external_vip }}:{{ placement_api_port }}"" placement_internal_endpoint: ""http://placement-api:{{ placement_api_port }}"" ",,171,0
openstack%2Fkolla-kubernetes~master~Ibd6e906cdf9fbc311d12d5c6d5cc873a87866145,openstack/kolla-kubernetes,master,Ibd6e906cdf9fbc311d12d5c6d5cc873a87866145,Add --debug to ironic deploy,ABANDONED,2017-04-09 22:38:11.000000000,2017-05-27 20:34:56.000000000,,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 9237}, {'_account_id': 19384}]","[{'number': 1, 'created': '2017-04-09 22:38:11.000000000', 'files': ['tests/bin/deploy_ironic.sh'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/748221d67f2e39106e3546543abb064c723cdc80', 'message': 'Add --debug to ironic deploy\n\nChange-Id: Ibd6e906cdf9fbc311d12d5c6d5cc873a87866145\nPartially-Implements: blueprint gate-continuous-improvement\n'}]",0,455093,748221d67f2e39106e3546543abb064c723cdc80,10,4,1,2834,,,0,"Add --debug to ironic deploy

Change-Id: Ibd6e906cdf9fbc311d12d5c6d5cc873a87866145
Partially-Implements: blueprint gate-continuous-improvement
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/93/455093/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bin/deploy_ironic.sh'],1,748221d67f2e39106e3546543abb064c723cdc80,bp/gate-continuous-improvement,helm install kolla/ironic-api-svc --debug --version $VERSION \helm install kolla/ironic-create-keystone-service-job --debug --version $VERSION \helm install kolla/ironic-create-keystone-user-job --debug --version $VERSION \helm install kolla/ironic-api-create-db-job --debug --version $VERSION \helm install kolla/ironic-api-manage-db-job --debug --version $VERSION \helm install kolla/ironic-api-create-keystone-endpoint-internal-job --debug --version $VERSION \helm install kolla/ironic-api-create-keystone-endpoint-admin-job --debug --version $VERSION \helm install kolla/ironic-api-create-keystone-endpoint-public-job --debug --version $VERSION \helm install kolla/ironic-api-deployment --debug --version $VERSION \helm install kolla/ironic-conductor-daemonset --debug --version $VERSION \helm install kolla/nova-compute-ironic-statefulset --debug --version $VERSION \helm install kolla/ironic-inspector-svc --debug --version $VERSION \helm install kolla/ironic-inspector-create-keystone-service-job --debug --version $VERSION \helm install kolla/ironic-inspector-create-keystone-user-job --debug --version $VERSION \helm install kolla/ironic-inspector-create-db-job --debug --version $VERSION \helm install kolla/ironic-inspector-manage-db-job --debug --version $VERSION \helm install kolla/ironic-inspector-create-keystone-endpoint-internal-job --debug --version $VERSION \helm install kolla/ironic-inspector-create-keystone-endpoint-admin-job --debug --version $VERSION \helm install kolla/ironic-inspector-create-keystone-endpoint-public-job --debug --version $VERSION \helm install kolla/ironic-inspector-deployment --debug --version $VERSION \helm install kolla/ironic-dnsmasq-daemonset --debug --version $VERSION \,helm install kolla/ironic-api-svc --version $VERSION \helm install kolla/ironic-create-keystone-service-job --version $VERSION \helm install kolla/ironic-create-keystone-user-job --version $VERSION \helm install kolla/ironic-api-create-db-job --version $VERSION \helm install kolla/ironic-api-manage-db-job --version $VERSION \helm install kolla/ironic-api-create-keystone-endpoint-internal-job --version $VERSION \helm install kolla/ironic-api-create-keystone-endpoint-admin-job --version $VERSION \helm install kolla/ironic-api-create-keystone-endpoint-public-job --version $VERSION \helm install kolla/ironic-api-deployment --version $VERSION \helm install kolla/ironic-conductor-daemonset --version $VERSION \helm install kolla/nova-compute-ironic-statefulset --version $VERSION \helm install kolla/ironic-inspector-svc --version $VERSION \helm install kolla/ironic-inspector-create-keystone-service-job --version $VERSION \helm install kolla/ironic-inspector-create-keystone-user-job --version $VERSION \helm install kolla/ironic-inspector-create-db-job --version $VERSION \helm install kolla/ironic-inspector-manage-db-job --version $VERSION \helm install kolla/ironic-inspector-create-keystone-endpoint-internal-job --version $VERSION \helm install kolla/ironic-inspector-create-keystone-endpoint-admin-job --version $VERSION \helm install kolla/ironic-inspector-create-keystone-endpoint-public-job --version $VERSION \helm install kolla/ironic-inspector-deployment --version $VERSION \helm install kolla/ironic-dnsmasq-daemonset --version $VERSION \,21,21
openstack%2Fkolla-kubernetes~master~I71a10fd462c0757a0ef3faf1ccf6b2b3aaff34e0,openstack/kolla-kubernetes,master,I71a10fd462c0757a0ef3faf1ccf6b2b3aaff34e0,Add --debug to compute-kit deploy,ABANDONED,2017-04-09 22:38:11.000000000,2017-05-27 20:34:37.000000000,,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 19384}]","[{'number': 1, 'created': '2017-04-09 22:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/1dacc1a606b3f1c2a2e6924b3f52c6bf80bc1da9', 'message': 'Add --debug to compute-kit deploy\n\nChange-Id: I71a10fd462c0757a0ef3faf1ccf6b2b3aaff34e0\n'}, {'number': 2, 'created': '2017-04-10 01:32:02.000000000', 'files': ['tests/bin/deploy_compute_kit.sh'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/555860597ec3db88847c67b06d981d62b4f50ef0', 'message': 'Add --debug to compute-kit deploy\n\nChange-Id: I71a10fd462c0757a0ef3faf1ccf6b2b3aaff34e0\n'}]",0,455094,555860597ec3db88847c67b06d981d62b4f50ef0,12,3,2,2834,,,0,"Add --debug to compute-kit deploy

Change-Id: I71a10fd462c0757a0ef3faf1ccf6b2b3aaff34e0
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/94/455094/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/bin/deploy_compute_kit.sh'],1,1dacc1a606b3f1c2a2e6924b3f52c6bf80bc1da9,bp/gate-continuous-improvement,helm install kolla/compute-kit --version --debug$VERSION \,helm install kolla/compute-kit --version $VERSION \,1,1
openstack%2Fkolla-kubernetes~master~I5ccb32d2174bb2403fd69f28f07aae1b3d1ec454,openstack/kolla-kubernetes,master,I5ccb32d2174bb2403fd69f28f07aae1b3d1ec454,Script to Deploy Kolla Kubernetes AIO,MERGED,2017-05-14 02:38:35.000000000,2017-05-27 20:29:43.000000000,2017-05-27 20:29:43.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 9237}, {'_account_id': 18701}, {'_account_id': 19384}, {'_account_id': 20998}, {'_account_id': 22165}, {'_account_id': 22368}, {'_account_id': 24043}, {'_account_id': 25709}]","[{'number': 1, 'created': '2017-05-14 02:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/84de8b558dd69895db67f181cb0f3b4321cccde3', 'message': 'Script to Deploy Kolla Kubernetes AIO\n\nThis is an attempt to consolidate the codes in the Gates so\nthat a developer can get a running Kolla Kubernetes cluster\non a CentOS 7 VM by executing the script.\n\nThere is no special requirements for the CentOS 7 VM. The\ndeveloper will install the CentOS using the minimal CentOS 7\ndisk.\n\nThe flow of the installation is similar to the bare metal\ndeployment guide.  The developer will need to provide 3\nparameters to the script as that will be fed to the cloud.yaml\n\n1) kube proxy IP\n2) tunnel_interface\n3) ext_interface_name\n\nWe can execute the script by running below command (note that\nvalues vary from environment to environment):\n\n./setup_kube_master.sh 192.168.122.241 eth0 eth1\n\nChange-Id: I5ccb32d2174bb2403fd69f28f07aae1b3d1ec454\n'}, {'number': 2, 'created': '2017-05-14 02:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/746180bd03d7196d3ba4696f54d5b7fdbdc1a0f4', 'message': 'Script to Deploy Kolla Kubernetes AIO\n\nThis is an attempt to consolidate the codes in the Gates so\nthat a developer can get a running Kolla Kubernetes cluster\non a CentOS 7 VM by executing the script.\n\nThere is no special requirements for the CentOS 7 VM. The\ndeveloper will install the CentOS using the minimal CentOS 7\ndisk.\n\nThe flow of the installation is similar to the bare metal\ndeployment guide.  The developer will need to provide 3\nparameters to the script as that will be fed to the cloud.yaml\n\n1) kube proxy IP\n2) tunnel_interface\n3) ext_interface_name\n\nWe can execute the script by running the below command (note\nthat values vary from environment to environment):\n\ntools/setup_kube_AIO.sh 192.168.122.241 eth0 eth1\n\nChange-Id: I5ccb32d2174bb2403fd69f28f07aae1b3d1ec454\n'}, {'number': 3, 'created': '2017-05-15 14:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/c963f468b47bc2dbfac4eeafaafa42b6848398c5', 'message': 'Script to Deploy Kolla Kubernetes AIO\n\nThis is an attempt to consolidate the codes in the Gates so\nthat a developer can get a running Kolla Kubernetes cluster\non a CentOS 7 VM by executing the script.\n\nThere is no special requirements for the CentOS 7 VM. The\ndeveloper will install the CentOS using the minimal CentOS 7\ndisk.\n\nThe flow of the installation is similar to the bare metal\ndeployment guide.  The developer will need to provide 3\nparameters to the script as that will be fed to the cloud.yaml\n\n1) kube proxy IP\n2) tunnel_interface\n3) ext_interface_name\n\nWe can execute the script by running the below command (note\nthat values vary from environment to environment):\n\ntools/setup_kube_AIO.sh 192.168.122.241 eth0 eth1\n\nChange-Id: I5ccb32d2174bb2403fd69f28f07aae1b3d1ec454\n'}, {'number': 4, 'created': '2017-05-16 01:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/2de515d236852fad2dd8e0a5fa92f41df7b6390b', 'message': 'Script to Deploy Kolla Kubernetes AIO\n\nThis is an attempt to consolidate the codes in the Gates so\nthat a developer can get a running Kolla Kubernetes cluster\non a CentOS 7 VM by executing the script.\n\nThere is no special requirements for the CentOS 7 VM. The\ndeveloper will install the CentOS using the minimal CentOS 7\ndisk.\n\nThe flow of the installation is similar to the bare metal\ndeployment guide.  The developer will need to provide 3\nparameters to the script as that will be fed to the cloud.yaml\n\n1) kube proxy IP\n2) tunnel_interface\n3) ext_interface_name\n\nWe can execute the script by running the below command (note\nthat values vary from environment to environment):\n\ntools/setup_kube_AIO.sh 192.168.122.241 eth0 eth1\n\nChange-Id: I5ccb32d2174bb2403fd69f28f07aae1b3d1ec454\n'}, {'number': 5, 'created': '2017-05-17 04:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/02e66914b5c5b66f9f9d7c01c6bcff8c5e581a28', 'message': 'Script to Deploy Kolla Kubernetes AIO\n\nThis is an attempt to consolidate the codes in the Gates so\nthat a developer can get a running Kolla Kubernetes cluster\non a CentOS 7 VM by executing the script.\n\nThere is no special requirements for the CentOS 7 VM. The\ndeveloper will install the CentOS using the minimal CentOS 7\ndisk.\n\nThe flow of the installation is similar to the bare metal\ndeployment guide.  The developer will need to provide 3\nparameters to the script as that will be fed to the cloud.yaml\n\n1) kube proxy IP\n2) tunnel_interface\n3) ext_interface_name\n\nWe can execute the script by running the below command (note\nthat values vary from environment to environment):\n\ntools/setup_kube_AIO.sh 192.168.122.241 eth0 eth1\n\nChange-Id: I5ccb32d2174bb2403fd69f28f07aae1b3d1ec454\n'}, {'number': 6, 'created': '2017-05-17 14:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/76507349336cafe7e920a4ab062de4d15f059281', 'message': 'Script to Deploy Kolla Kubernetes AIO\n\nThis is an attempt to consolidate the codes in the Gates so\nthat a developer can get a running Kolla Kubernetes cluster\non a CentOS 7 VM by executing the script.\n\nThere is no special requirements for the CentOS 7 VM. The\ndeveloper will install the CentOS using the minimal CentOS 7\ndisk.\n\nThe flow of the installation is similar to the bare metal\ndeployment guide.  The developer will need to provide 5\nparameters to the script as that will be fed to the cloud.yaml\n\n1) kube proxy IP\n2) tunnel_interface\n3) ext_interface_name\n4) keepalived VIP\n5) subnet size of management subnet\n\nWe can execute the script by running the below command (note\nthat values vary from environment to environment):\n\ntools/setup_kube_AIO.sh 192.168.122.241 eth0 eth1 192.168.122.254 24\n\nChange-Id: I5ccb32d2174bb2403fd69f28f07aae1b3d1ec454\n'}, {'number': 7, 'created': '2017-05-18 05:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/03d812644890c5a173243482d9880e9e7d26f026', 'message': 'Script to Deploy Kolla Kubernetes AIO\n\nThis is an attempt to consolidate the codes in the Gates so\nthat a developer can get a running Kolla Kubernetes cluster\non a CentOS 7 VM by executing the script.\n\nThere is no special requirements for the CentOS 7 VM. The\ndeveloper will install the CentOS using the minimal CentOS 7\ndisk.\n\nThe flow of the installation is similar to the bare metal\ndeployment guide.  The developer will need to provide 6\nparameters to the script as that will be fed to the cloud.yaml\n\n1) kube proxy IP\n2) tunnel_interface\n3) ext_interface_name\n4) keepalived VIP\n5) subnet size of management subnet\n6) master/minion\n\nWe can execute the script by running the below command (note\nthat values vary from environment to environment):\n\ntools/setup_kube_AIO.sh 192.168.122.241 eth0 eth1 192.168.122.254 24 master\n\nChange-Id: I5ccb32d2174bb2403fd69f28f07aae1b3d1ec454\n'}, {'number': 8, 'created': '2017-05-18 14:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/daecbb58b2fb4a11a3400c772dfe3b52d7077d1c', 'message': 'Script to Deploy Kolla Kubernetes AIO\n\nThis is an attempt to consolidate the codes in the Gates so\nthat a developer can get a running Kolla Kubernetes cluster\non a CentOS 7 VM by executing the script.\n\nThere is no special requirements for the CentOS 7 VM. The\ndeveloper will install the CentOS using the minimal CentOS 7\ndisk.\n\nThe flow of the installation is similar to the bare metal\ndeployment guide.  The developer will need to provide 6\nparameters to the script as that will be fed to the cloud.yaml\n\n1) kube proxy IP\n2) tunnel_interface\n3) ext_interface_name\n4) keepalived VIP\n5) subnet size of management subnet\n6) master/minion\n\nWe can execute the script by running the below command (note\nthat values vary from environment to environment):\n\ntools/setup_kube_AIO.sh 192.168.122.241 eth0 eth1 192.168.122.254 24 master\n\nChange-Id: I5ccb32d2174bb2403fd69f28f07aae1b3d1ec454\n'}, {'number': 9, 'created': '2017-05-18 14:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/f9fff4e45bf54657ec302a130f5524309c674108', 'message': 'Script to Deploy Kolla Kubernetes AIO\n\nThis is an attempt to consolidate the codes in the Gates so\nthat a developer can get a running Kolla Kubernetes cluster\non a CentOS 7 VM by executing the script.\n\nThere is no special requirements for the CentOS 7 VM. The\ndeveloper will install the CentOS using the minimal CentOS 7\ndisk.\n\nThe flow of the installation is similar to the bare metal\ndeployment guide.  The developer will need to provide 6\nparameters to the script as that will be fed to the cloud.yaml\n\n1) kube proxy IP\n2) tunnel_interface\n3) ext_interface_name\n4) keepalived VIP\n5) subnet size of management subnet\n6) master/minion\n\nWe can execute the script by running the below command (note\nthat values vary from environment to environment):\n\ntools/setup_kube_AIO.sh 192.168.122.241 eth0 eth1 192.168.122.254 24 master\n\nChange-Id: I5ccb32d2174bb2403fd69f28f07aae1b3d1ec454\n'}, {'number': 10, 'created': '2017-05-19 04:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/a4a139bbe6014675a935de46584b71000f6678aa', 'message': 'Script to Deploy Kolla Kubernetes AIO\n\nThis is an attempt to consolidate the codes in the Gates so\nthat a developer can get a running Kolla Kubernetes cluster\non a CentOS 7 VM by executing the script.\n\nThere is no special requirements for the CentOS 7 VM. The\ndeveloper will install the CentOS using the minimal CentOS 7\ndisk.\n\nThe flow of the installation is similar to the bare metal\ndeployment guide.  The developer will need to provide 6\nparameters to the script as that will be fed to the cloud.yaml\n\n1) kube proxy IP\n2) tunnel_interface\n3) ext_interface_name\n4) keepalived VIP\n5) subnet size of management subnet\n6) master/minion\n\nWe can execute the script by running the below command (note\nthat values vary from environment to environment):\n\ntools/setup_kube_AIO.sh 192.168.122.241 eth0 eth1 192.168.122.254 24 master\n\nChange-Id: I5ccb32d2174bb2403fd69f28f07aae1b3d1ec454\n'}, {'number': 11, 'created': '2017-05-19 12:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/1e75973ca2795c2569862f4ac5ba8b062e6a2a73', 'message': 'Script to Deploy Kolla Kubernetes AIO\n\nThis is an attempt to consolidate the codes in the Gates so\nthat a developer can get a running Kolla Kubernetes cluster\non a CentOS 7 VM by executing the script.\n\nThere is no special requirements for the CentOS 7 VM. The\ndeveloper will install the CentOS using the minimal CentOS 7\ndisk.\n\nThe flow of the installation is similar to the bare metal\ndeployment guide.  The developer will need to provide 6\nparameters to the script as that will be fed to the cloud.yaml\n\n1) kube proxy IP\n2) tunnel_interface\n3) ext_interface_name\n4) keepalived VIP\n5) subnet size of management subnet\n6) master/minion\n\nWe can execute the script by running the below command (note\nthat values vary from environment to environment):\n\ntools/setup_kube_AIO.sh 192.168.122.241 eth0 eth1 192.168.122.254 24 master\n\nChange-Id: I5ccb32d2174bb2403fd69f28f07aae1b3d1ec454\n'}, {'number': 12, 'created': '2017-05-19 14:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/624d20f3d52bd9837b22b919d664bb26c0153445', 'message': 'Script to Deploy Kolla Kubernetes AIO\n\nThis is an attempt to consolidate the codes in the Gates so\nthat a developer can get a running Kolla Kubernetes cluster\non a CentOS 7 VM by executing the script.\n\nThere is no special requirements for the CentOS 7 VM. The\ndeveloper will install the CentOS using the minimal CentOS 7\ndisk.\n\nThe flow of the installation is similar to the bare metal\ndeployment guide.  The developer will need to provide 6\nparameters to the script as that will be fed to the cloud.yaml\n\n1) kube proxy IP\n2) tunnel_interface\n3) ext_interface_name\n4) keepalived VIP\n5) subnet size of management subnet\n6) master/minion\n\nWe can execute the script by running the below command (note\nthat values vary from environment to environment):\n\ntools/setup_kube_AIO.sh 192.168.122.241 eth0 eth1 192.168.122.254 24 master\n\nChange-Id: I5ccb32d2174bb2403fd69f28f07aae1b3d1ec454\n'}, {'number': 13, 'created': '2017-05-20 16:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/cc813df5fb4539c92dc8a5b4e90ff3a2deebed24', 'message': 'Script to Deploy Kolla Kubernetes AIO\n\nThis is an attempt to consolidate the codes in the Gates so\nthat a developer can get a running Kolla Kubernetes cluster\non a CentOS 7 VM by executing the script.\n\nThere is no special requirements for the CentOS 7 VM. The\ndeveloper will install the CentOS using the minimal CentOS 7\ndisk.\n\nThe flow of the installation is similar to the bare metal\ndeployment guide.  The developer will need to provide 6\nparameters to the script as that will be fed to the cloud.yaml\n\n1) kube proxy IP\n2) tunnel_interface\n3) ext_interface_name\n4) keepalived VIP\n5) subnet size of management subnet\n6) master/minion\n\nWe can execute the script by running the below command (note\nthat values vary from environment to environment):\n\ntools/setup_kube_AIO.sh 192.168.122.241 eth0 eth1 192.168.122.254 24 master\n\nChange-Id: I5ccb32d2174bb2403fd69f28f07aae1b3d1ec454\n'}, {'number': 14, 'created': '2017-05-21 20:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/f17c7bd2fcb5ae008f71c1f1c7cef39a353d9881', 'message': 'Script to Deploy Kolla Kubernetes AIO\n\nThis is an attempt to consolidate the codes in the Gates so\nthat a developer can get a running Kolla Kubernetes cluster\non a CentOS 7 VM by executing the script.\n\nThere is no special requirements for the CentOS 7 VM. The\ndeveloper will install the CentOS using the minimal CentOS 7\ndisk.\n\nThe flow of the installation is similar to the bare metal\ndeployment guide.  The developer will need to provide 6\nparameters to the script as that will be fed to the cloud.yaml\n\n1) kube proxy IP\n2) tunnel_interface\n3) ext_interface_name\n4) keepalived VIP\n5) subnet size of management subnet\n6) master/minion\n\nWe can execute the script by running the below command (note\nthat values vary from environment to environment):\n\ntools/setup_kube_AIO.sh 192.168.122.241 eth0 eth1 192.168.122.254 24 master\n\nChange-Id: I5ccb32d2174bb2403fd69f28f07aae1b3d1ec454\n'}, {'number': 15, 'created': '2017-05-23 22:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/5ba91e15b2a47eb991a0cf1c942bbe3c543b52de', 'message': 'Script to Deploy Kolla Kubernetes AIO\n\nThis is an attempt to consolidate the codes in the Gates so\nthat a developer can get a running Kolla Kubernetes cluster\non a CentOS 7 VM by executing the script.\n\nThere is no special requirements for the CentOS 7 VM. The\ndeveloper will install the CentOS using the minimal CentOS 7\ndisk.\n\nThe flow of the installation is similar to the bare metal\ndeployment guide.  The developer will need to provide 6\nparameters to the script as that will be fed to the cloud.yaml\n\n1) kube proxy IP\n2) tunnel_interface\n3) ext_interface_name\n4) keepalived VIP\n5) subnet size of management subnet\n6) master/minion\n\nWe can execute the script by running the below command (note\nthat values vary from environment to environment):\n\ntools/setup_kube_AIO.sh 192.168.122.241 eth0 eth1 192.168.122.254 24 master\n\nChange-Id: I5ccb32d2174bb2403fd69f28f07aae1b3d1ec454\n'}, {'number': 16, 'created': '2017-05-24 02:12:38.000000000', 'files': ['tools/setup_kube_AIO.sh', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/42101f143d3e3b2214bb755faf4c63f4eb720e3d', 'message': 'Script to Deploy Kolla Kubernetes AIO\n\nThis is an attempt to consolidate the codes in the Gates so\nthat a developer can get a running Kolla Kubernetes cluster\non a CentOS 7 VM by executing the script.\n\nThere is no special requirements for the CentOS 7 VM. The\ndeveloper will install the CentOS using the minimal CentOS 7\ndisk.\n\nThe flow of the installation is similar to the bare metal\ndeployment guide.  The developer will need to provide 6\nparameters to the script as that will be fed to the cloud.yaml\n\n1) kube proxy IP\n2) tunnel_interface\n3) ext_interface_name\n4) keepalived VIP\n5) subnet size of management subnet\n6) master/minion\n\nWe can execute the script by running the below command (note\nthat values vary from environment to environment):\n\ntools/setup_kube_AIO.sh 192.168.122.241 eth0 eth1 192.168.122.254 24 master\n\nChange-Id: I5ccb32d2174bb2403fd69f28f07aae1b3d1ec454\n'}]",77,464312,42101f143d3e3b2214bb755faf4c63f4eb720e3d,71,10,16,20998,,,0,"Script to Deploy Kolla Kubernetes AIO

This is an attempt to consolidate the codes in the Gates so
that a developer can get a running Kolla Kubernetes cluster
on a CentOS 7 VM by executing the script.

There is no special requirements for the CentOS 7 VM. The
developer will install the CentOS using the minimal CentOS 7
disk.

The flow of the installation is similar to the bare metal
deployment guide.  The developer will need to provide 6
parameters to the script as that will be fed to the cloud.yaml

1) kube proxy IP
2) tunnel_interface
3) ext_interface_name
4) keepalived VIP
5) subnet size of management subnet
6) master/minion

We can execute the script by running the below command (note
that values vary from environment to environment):

tools/setup_kube_AIO.sh 192.168.122.241 eth0 eth1 192.168.122.254 24 master

Change-Id: I5ccb32d2174bb2403fd69f28f07aae1b3d1ec454
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/12/464312/16 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_kube_AIO.sh'],1,84de8b558dd69895db67f181cb0f3b4321cccde3,bp/deploy-guide,"#!/bin/bash ## Compilation of Instructions from Kolla Kubernetes Gate ## This is meant to set up Kolla Kubernetes All-In-One for CentOS-7 ## Cinder iSCSI backend is used here ## Note that $1 will be the kube proxy IP, $2 will be the tunnel_interface and $3 will be the ext_interface_name ## Ensure that the required parameters are passed in if [ ""$#"" -ne 3 ] then echo ""Please provide the following Information to the script: \$1 for kube proxy IP, \$2 for tunnel_interface, \$3 for ext interface"" exit 1 fi ## Setup Host yum install -y net-tools wget telnet ## Setup Pip yum install -y epel-release yum install -y python-pip pip install -U pip ## Turn off SELinux setenforce 0 sed -i 's/enforcing/permissive/g' /etc/selinux/config ## Turn off firewalld systemctl stop firewalld systemctl disable firewalld ## Setup Kubernetes Repository cat <<""EOEF"" > /etc/yum.repos.d/kubernetes.repo [kubernetes] name=Kubernetes baseurl=http://yum.kubernetes.io/repos/kubernetes-el7-x86_64 enabled=1 gpgcheck=0 repo_gpgcheck=1 gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg EOEF ## Install Kubernetes 1.6.2 and other dependencies kubelet_version=1.6.2-0 yum install -y docker ebtables kubeadm-$kubelet_version kubectl-$kubelet_version kubelet-$kubelet_version kubernetes-cni-$kubelet_version git gcc python-devel libffi-devel openssl-devel crudini yum install -y python-docker-py sudo systemctl enable docker sudo systemctl enable kubelet ## Install Ansible yum install -y ansible ## Setup NTP yum install -y ntp systemctl enable ntpd.service systemctl start ntpd.service ## Kubeadm sed -i 's/10.96.0.10/172.16.128.10/g' /etc/systemd/system/kubelet.service.d/10-kubeadm.conf modprobe br_netfilter || true echo 1 > /proc/sys/net/bridge/bridge-nf-call-iptables systemctl daemon-reload systemctl start docker systemctl restart kubelet kubeadm init --skip-preflight-checks --service-cidr 172.16.128.0/24 --pod-network-cidr 172.16.132.0/22 mkdir -p ~/.kube cp /etc/kubernetes/admin.conf ~/.kube/config chown $(id -u):$(id -g) ~/.kube/config kubectl update -f <(cat <<EOF apiVersion: rbac.authorization.k8s.io/v1alpha1 kind: ClusterRoleBinding metadata: name: cluster-admin roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: cluster-admin subjects: - kind: Group name: system:masters - kind: Group name: system:authenticated - kind: Group name: system:unauthenticated EOF ) ## Setup Canal url=""https://raw.githubusercontent.com/projectcalico/canal/master"" url=""$url/k8s-install/1.6/canal.yaml"" curl ""$url"" -o /tmp/canal.yaml url=""https://raw.githubusercontent.com/projectcalico/canal/master"" url=""$url/k8s-install/1.6/rbac.yaml"" curl ""$url"" -o /tmp/rbac.yaml kubectl create -f /tmp/rbac.yaml cluster_cidr=$(sudo grep cluster-cidr /etc/kubernetes/manifests/kube-controller-manager.yaml || true) cluster_cidr=${cluster_cidr##*=} network_conf=$(grep net-conf.json /tmp/canal.yaml || true) if [ ""x$network_conf"" == ""x"" ]; then sed -i '/masquerade:/a\ net-conf.json: |\ {\ ""Network"": ""'$cluster_cidr'"",\ ""Backend"": {\ ""Type"": ""vxlan""\ }\ }' /tmp/canal.yaml else sed -i 's@""Network"":.*""@""Network"": ""'$cluster_cidr'""@' /tmp/canal.yaml fi kubectl create -f /tmp/canal.yaml ## Untaint Master kubectl taint nodes --all=true node-role.kubernetes.io/master:NoSchedule- ## Setup Helm HELM_VERSION=""2.3.0"" HELM_TEMPLATE_URL=""https://github.com/technosophos/helm-template/releases/download/2.2.2%2B1/helm-template-linux-2.2.2.1.tgz"" HELM_URL=""http://storage.googleapis.com/kubernetes-helm/helm-v$HELM_VERSION-linux-amd64.tar.gz"" curl ""$HELM_URL"" | sudo tar --strip-components 1 -C /usr/bin linux-amd64/helm -zxf - helm init ## Setup Loopback LVM for Cinder mkdir -p /data/kolla df -h dd if=/dev/zero of=/data/kolla/cinder-volumes.img bs=5M count=2048 LOOP=$(losetup -f) losetup $LOOP /data/kolla/cinder-volumes.img parted -s $LOOP mklabel gpt parted -s $LOOP mkpart 1 0% 100% parted -s $LOOP set 1 lvm on partprobe $LOOP pvcreate -y $LOOP vgcreate -y cinder-volumes $LOOP echo ""Finished prepping lvm storage on $LOOP"" ## Pip Install OpenStack Client pip install python-openstackclient pip install python-neutronclient pip install python-cinderclient ## Git Clone Kolla Ansible cd /opt && git clone http://github.com/openstack/kolla-ansible ## Git Clone Kolla Kubernetes cd /opt && git clone http://github.com/openstack/kolla-kubernetes ## Install kolla-ansible and kolla-kubernetes pip install -U /opt/kolla-ansible/ /opt/kolla-kubernetes/ ## Copy default Kolla configuration to /etc cp -aR /usr/share/kolla-ansible/etc_examples/kolla /etc ## Copy default kolla-kubernetes configuration to /etc cp -aR kolla-kubernetes/etc/kolla-kubernetes /etc ## Generate Default Passwords kolla-kubernetes-genpwd ## Create Kolla Namespace kubectl create namespace kolla ## Label the AIO node as the compute and controller node kubectl label node $(hostname) kolla_compute=true kubectl label node $(hostname) kolla_controller=true ## Add required Kolla Kubernetes configuration to the end of /etc/kolla/globals.yml cat <<EOF > add-to-globals.yml kolla_install_type: ""source"" tempest_image_alt_id: ""{{ tempest_image_id }}"" tempest_flavor_ref_alt_id: ""{{ tempest_flavor_ref_id }}"" neutron_plugin_agent: ""openvswitch"" api_interface_address: 0.0.0.0 tunnel_interface_address: 0.0.0.0 orchestration_engine: KUBERNETES memcached_servers: ""memcached"" keystone_admin_url: ""http://keystone-admin:35357/v3"" keystone_internal_url: ""http://keystone-internal:5000/v3"" keystone_public_url: ""http://keystone-public:5000/v3"" glance_registry_host: ""glance-registry"" neutron_host: ""neutron"" keystone_database_address: ""mariadb"" glance_database_address: ""mariadb"" nova_database_address: ""mariadb"" nova_api_database_address: ""mariadb"" neutron_database_address: ""mariadb"" cinder_database_address: ""mariadb"" ironic_database_address: ""mariadb"" placement_database_address: ""mariadb"" rabbitmq_servers: ""rabbitmq"" openstack_logging_debug: ""True"" enable_haproxy: ""no"" enable_heat: ""no"" enable_cinder: ""yes"" enable_cinder_backend_lvm: ""yes"" enable_cinder_backend_iscsi: ""yes"" enable_cinder_backend_rbd: ""no"" enable_ceph: ""no"" enable_elasticsearch: ""no"" enable_kibana: ""no"" glance_backend_ceph: ""no"" cinder_backend_ceph: ""no"" nova_backend_ceph: ""no"" EOF cat ./add-to-globals.yml | sudo tee -a /etc/kolla/globals.yml ## Generate the Kubernetes secrets and register them with Kubernetes /opt/kolla-kubernetes/tools/secret-generator.py create ## Generate Default Configurations cd /opt/kolla-kubernetes && ansible-playbook -e ansible_python_interpreter=/usr/bin/python -e @/etc/kolla/globals.yml -e @/etc/kolla/passwords.yml -e CONFIG_DIR=/etc/kolla ansible/site.yml ## Set libvirt type to QEMU crudini --set /etc/kolla/nova-compute/nova.conf libvirt virt_type qemu crudini --set /etc/kolla/nova-compute/nova.conf libvirt cpu_mode none crudini --set /etc/kolla/keystone/keystone.conf cache enabled False ## Create and register Kolla config maps kollakube res create configmap \ mariadb keystone horizon rabbitmq memcached nova-api nova-conductor \ nova-scheduler glance-api-haproxy glance-registry-haproxy glance-api \ glance-registry neutron-server neutron-dhcp-agent neutron-l3-agent \ neutron-metadata-agent neutron-openvswitch-agent openvswitch-db-server \ openvswitch-vswitchd nova-libvirt nova-compute nova-consoleauth \ nova-novncproxy nova-novncproxy-haproxy neutron-server-haproxy \ nova-api-haproxy cinder-api cinder-api-haproxy cinder-backup \ cinder-scheduler cinder-volume iscsid tgtd keepalived \ placement-api placement-api-haproxy ## Enable resolv.conf workaround /opt/kolla-kubernetes/tools/setup-resolv-conf.sh kolla ## Build all Helm microcharts, service charts, and metacharts /opt/kolla-kubernetes/tools/helm_build_all.sh /tmp/ ## Create cloud.yml file for the deployment of the charts cat <<EOF > /opt/cloud.yaml global: kolla: all: docker_registry: docker.io image_tag: ""4.0.0"" kube_logger: false external_vip: $1 base_distro: ""centos"" install_type: ""source"" tunnel_interface: $2 resolve_conf_net_host_workaround: true keystone: all: admin_port_external: ""true"" dns_name: $1 public: all: port_external: ""true"" rabbitmq: all: cookie: 67 glance: api: all: port_external: ""true"" cinder: api: all: port_external: ""true"" volume_lvm: all: element_name: cinder-volume daemonset: lvm_backends: - $1: 'cinder-volumes' ironic: conductor: daemonset: selector_key: ""kolla_conductor"" nova: placement_api: all: port_external: true novncproxy: all: port: 6080 port_external: true openvwswitch: all: add_port: true ext_bridge_name: br-ex ext_interface_name: $3 setup_bridge: true horizon: all: port_external: true EOF ## Execute Helm Charts helm install --debug /opt/kolla-kubernetes/helm/service/mariadb --namespace kolla --name mariadb --values /opt/cloud.yaml while [ `kubectl get pods -n kolla -o wide | grep mariadb-0 | awk '{print $3}'` != 'Running' ] do sleep 10 done helm install --debug /opt/kolla-kubernetes/helm/service/rabbitmq --namespace kolla --name rabbitmq --values /opt/cloud.yaml helm install --debug /opt/kolla-kubernetes/helm/service/memcached --namespace kolla --name memcached --values /opt/cloud.yaml helm install --debug /opt/kolla-kubernetes/helm/service/keystone --namespace kolla --name keystone --values /opt/cloud.yaml helm install --debug /opt/kolla-kubernetes/helm/service/glance --namespace kolla --name glance --values /opt/cloud.yaml helm install --debug /opt/kolla-kubernetes/helm/service/cinder-control --namespace kolla --name cinder-control --values /opt/cloud.yaml helm install --debug /opt/kolla-kubernetes/helm/service/cinder-volume-lvm --namespace kolla --name cinder-volume-lvm --values /opt/cloud.yaml helm install --debug /opt/kolla-kubernetes/helm/service/horizon --namespace kolla --name horizon --values /opt/cloud.yaml helm install --debug /opt/kolla-kubernetes/helm/service/openvswitch --namespace kolla --name openvswitch --values /opt/cloud.yaml helm install --debug /opt/kolla-kubernetes/helm/service/neutron --namespace kolla --name neutron --values /opt/cloud.yaml while [ `kubectl get pods -n kolla -o wide | grep neutron-server | awk '{print $3}'` != 'Running' ] do sleep 10 done helm install --debug /opt/kolla-kubernetes/helm/service/nova-control --namespace kolla --name nova-control --values /opt/cloud.yaml helm install --debug /opt/kolla-kubernetes/helm/service/nova-compute --namespace kolla --name nova-compute --values /opt/cloud.yaml while [ `kubectl get pods -n kolla -o wide | grep nova-compute | awk '{print $3}'` != 'Running' ] do sleep 10 done helm install --debug /opt/kolla-kubernetes/helm/microservice/nova-cell0-create-db-job --namespace kolla --name nova-cell0-create-db-job --values /opt/cloud.yaml helm install --debug /opt/kolla-kubernetes/helm/microservice/nova-api-create-simple-cell-job --namespace kolla --name nova-api-create-simple-cell --values /opt/cloud.yaml ",,377,0
openstack%2Fkolla-kubernetes~master~I64e04714f83947cdefaacf38b0a4839c1d35ab5c,openstack/kolla-kubernetes,master,I64e04714f83947cdefaacf38b0a4839c1d35ab5c,Add option to enable ironic inspector LLDP collection,MERGED,2017-05-26 09:37:31.000000000,2017-05-27 20:20:52.000000000,2017-05-27 20:20:52.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 19384}]","[{'number': 1, 'created': '2017-05-26 09:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/8f8d328f4a9e812afbfcf0f84033e04626c0aab0', 'message': 'Add option to enable ironic inspector LLDP collection\n\nIn order for LLDP information to be collected by ironic inspector we\nhave to pass a flag to enable it in the pxe kernel parameters. This\npatch adds a new option that defaults to false, but when set to true in\nclouds.yaml will append the flag to the end of the kernel parameters in\npxelinux.default.\n\nChange-Id: I64e04714f83947cdefaacf38b0a4839c1d35ab5c\n'}, {'number': 2, 'created': '2017-05-26 10:22:49.000000000', 'files': ['helm/all_values.yaml', 'helm/microservice/ironic-inspector-deployment/templates/ironic-inspector.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/4c9b45ec404874b773e9f9f0d188a8d2768ae406', 'message': 'Add option to enable ironic inspector LLDP collection\n\nIn order for LLDP information to be collected by ironic inspector we\nhave to pass a flag to enable it in the pxe kernel parameters. This\npatch adds a new option that defaults to false, but when set to true in\nclouds.yaml will append the flag to the end of the kernel parameters in\npxelinux.default.\n\nChange-Id: I64e04714f83947cdefaacf38b0a4839c1d35ab5c\n'}]",0,468335,4c9b45ec404874b773e9f9f0d188a8d2768ae406,8,3,2,6637,,,0,"Add option to enable ironic inspector LLDP collection

In order for LLDP information to be collected by ironic inspector we
have to pass a flag to enable it in the pxe kernel parameters. This
patch adds a new option that defaults to false, but when set to true in
clouds.yaml will append the flag to the end of the kernel parameters in
pxelinux.default.

Change-Id: I64e04714f83947cdefaacf38b0a4839c1d35ab5c
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/35/468335/2 && git format-patch -1 --stdout FETCH_HEAD,"['helm/all_values.yaml', 'helm/microservice/ironic-inspector-deployment/templates/ironic-inspector.yaml']",2,8f8d328f4a9e812afbfcf0f84033e04626c0aab0,ironic-dnsmasq-deployment,"{{- $ironicInspectLLDP := include ""kolla_val_get_str"" (dict ""key"" ""inspect_lldp"" ""searchPath"" $searchPath ""Values"" .Values )}}{{- if $ironicInspectLLDP }} sed -i ''/^append/ s/$/ ipa-collect-lldp=1/' /pxe/default {{- end }}",,5,0
openstack%2Fkeystonemiddleware~master~I2304e946843d671351a5ad98c03d297ec85830a3,openstack/keystonemiddleware,master,I2304e946843d671351a5ad98c03d297ec85830a3,Updated from global requirements,MERGED,2017-05-26 17:20:28.000000000,2017-05-27 20:00:30.000000000,2017-05-27 20:00:30.000000000,"[{'_account_id': 3}, {'_account_id': 17860}]","[{'number': 1, 'created': '2017-05-26 17:20:28.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/c2d61ee459306930ce474acb0b53b9e246ed000c', 'message': 'Updated from global requirements\n\nChange-Id: I2304e946843d671351a5ad98c03d297ec85830a3\n'}]",0,468485,c2d61ee459306930ce474acb0b53b9e246ed000c,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I2304e946843d671351a5ad98c03d297ec85830a3
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/85/468485/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c2d61ee459306930ce474acb0b53b9e246ed000c,openstack/requirements,oslo.context>=2.14.0 # Apache-2.0,oslo.context>=2.12.0 # Apache-2.0,1,1
openstack%2Fpython-heatclient~master~I1aa556630ff88b4708834549ce9dc31967e0bb32,openstack/python-heatclient,master,I1aa556630ff88b4708834549ce9dc31967e0bb32,Replace mox3 with mock,MERGED,2016-12-20 04:44:37.000000000,2017-05-27 18:15:21.000000000,2017-05-27 18:15:21.000000000,"[{'_account_id': 3}, {'_account_id': 6577}, {'_account_id': 12404}, {'_account_id': 17795}, {'_account_id': 19930}, {'_account_id': 19999}, {'_account_id': 22689}, {'_account_id': 22863}, {'_account_id': 24786}]","[{'number': 1, 'created': '2016-12-20 04:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/c8677d0edd1efa4099132fcf3edce8d09f64295c', 'message': 'Replace mox3 with mock\n\nIn heatclient, some unit tests still use mox3,\nwhich will make the test speed much slow,\nso I decide to remove it.\nThe  file: heatclient/tests/unit/test_template_utils.py\n\nImplements: bp remove-mox3-in-heatclient\nChange-Id: I1aa556630ff88b4708834549ce9dc31967e0bb32\n'}, {'number': 2, 'created': '2016-12-20 08:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/09e0c843a8ede67fba55748031190b6316ff6a5c', 'message': 'Replace mox3 with mock\n\nIn heatclient, some unit tests still use mox3,\nwhich will make the test speed much slow,\nso I decide to remove it.\nThe  file: heatclient/tests/unit/test_template_utils.py\n\nImplements: bp remove-mox3-in-heatclient\nChange-Id: I1aa556630ff88b4708834549ce9dc31967e0bb32\nCo-author-by: PanFengyun <fengyun.pan@easystack.cn>\n'}, {'number': 3, 'created': '2016-12-20 13:13:05.000000000', 'files': ['heatclient/tests/unit/test_template_utils.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/eaf87e99dcc48e62e99cbded227e83a0656a4a2d', 'message': 'Replace mox3 with mock\n\nIn heatclient, some unit tests still use mox3,\nwhich will make the test speed much slow,\nso I decide to remove it.\nThe  file: heatclient/tests/unit/test_template_utils.py\n\nImplements: bp remove-mox3-in-heatclient\nChange-Id: I1aa556630ff88b4708834549ce9dc31967e0bb32\nCo-author-by: PanFengyun <fengyun.pan@easystack.cn>\n'}]",0,412745,eaf87e99dcc48e62e99cbded227e83a0656a4a2d,17,9,3,22863,,,0,"Replace mox3 with mock

In heatclient, some unit tests still use mox3,
which will make the test speed much slow,
so I decide to remove it.
The  file: heatclient/tests/unit/test_template_utils.py

Implements: bp remove-mox3-in-heatclient
Change-Id: I1aa556630ff88b4708834549ce9dc31967e0bb32
Co-author-by: PanFengyun <fengyun.pan@easystack.cn>
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/45/412745/1 && git format-patch -1 --stdout FETCH_HEAD,['heatclient/tests/unit/test_template_utils.py'],1,c8677d0edd1efa4099132fcf3edce8d09f64295c,bp/remove-mox3-in-heatclient,"import mock @mock.patch('six.moves.urllib.request.urlopen') def test_ignore_env_keys(self, mock_url): mock_url.return_value = six.BytesIO(env) mock_url.assert_called_with('file://%s' % env_file) @mock.patch('six.moves.urllib.request.urlopen') def test_process_environment_file(self, mock_url): mock_url.side_effect = [six.BytesIO(env), six.BytesIO(self.template_a), six.BytesIO(self.template_a)] mock_url.assert_has_calls([ mock.call('file://%s' % env_file), mock.call('file:///home/b/a.yaml'), mock.call('file:///home/b/a.yaml') ]) @mock.patch('six.moves.urllib.request.urlopen') def test_process_environment_relative_file(self, mock_url): mock_url.side_effect = [six.BytesIO(env), six.BytesIO(self.template_a), six.BytesIO(self.template_a)] mock_url.assert_has_calls([ mock.call(env_url), mock.call('file:///home/my/dir/a.yaml'), mock.call('file:///home/my/dir/a.yaml') ]) @mock.patch('six.moves.urllib.request.urlopen') def test_process_environment_relative_file_up(self, mock_url): mock_url.side_effect = [six.BytesIO(env), six.BytesIO(self.template_a), six.BytesIO(self.template_a)] mock_url.assert_has_calls([ mock.call(env_url), mock.call('file:///home/my/bar/a.yaml'), mock.call('file:///home/my/bar/a.yaml') ]) @mock.patch('six.moves.urllib.request.urlopen') def test_process_environment_url(self, mock_url): mock_url.side_effect = [six.BytesIO(env), six.BytesIO(self.template_a), six.BytesIO(self.template_a)] mock_url.assert_has_calls([ mock.call(url), mock.call(tmpl_url), mock.call(tmpl_url) ]) @mock.patch('six.moves.urllib.request.urlopen') def test_process_environment_empty_file(self, mock_url): mock_url.return_value = six.BytesIO(env) mock_url.assert_called_with('file://%s' % env_file) @mock.patch('six.moves.urllib.request.urlopen') def test_process_multiple_environments_and_files(self, mock_url): mock_url.side_effect = [six.BytesIO(env1), six.BytesIO(self.template_a), six.BytesIO(self.template_a), six.BytesIO(env2), six.BytesIO(self.template_a), six.BytesIO(self.template_a)] mock_url.assert_has_calls([ mock.call('file://%s' % env_file1), mock.call('file:///home/b/a.yaml'), mock.call('file:///home/b/a.yaml'), mock.call('file://%s' % env_file2), mock.call('file:///home/b/b.yaml'), mock.call('file:///home/b/b.yaml') ]) @mock.patch('six.moves.urllib.request.urlopen') def test_process_multiple_environments_default_resources(self, mock_url): mock_url.side_effect = [six.BytesIO(env1), six.BytesIO(self.template_a), six.BytesIO(self.template_a), six.BytesIO(self.template_a), six.BytesIO(self.template_a), six.BytesIO(env2), six.BytesIO(self.template_a), six.BytesIO(self.template_a), six.BytesIO(self.template_a), six.BytesIO(self.template_a)] mock_url.assert_has_calls([ mock.call('file://%s' % env_file1), mock.call('file:///home/b/a.yaml'), mock.call('file:///home/b/b.yaml'), mock.call('file:///home/b/a.yaml'), mock.call('file:///home/b/b.yaml'), mock.call('file://%s' % env_file2), mock.call('file:///home/b/a.yaml'), mock.call('file:///home/b/b.yaml'), mock.call('file:///home/b/a.yaml'), mock.call('file:///home/b/b.yaml'), ], any_order=True) @mock.patch('six.moves.urllib.request.urlopen') def test_process_multiple_environments_and_files_tracker(self, mock_url): mock_url.side_effect = [six.BytesIO(env1), six.BytesIO(self.template_a), six.BytesIO(self.template_a)] mock_url.assert_has_calls([ mock.call('file://%s' % env_file1), mock.call('file:///home/b/a.yaml'), mock.call('file:///home/b/a.yaml'), ]) @mock.patch('six.moves.urllib.request.urlopen') def test_process_environment_relative_file_tracker(self, mock_url): mock_url.side_effect = [six.BytesIO(env), six.BytesIO(self.template_a), six.BytesIO(self.template_a)] mock_url.assert_has_calls([ mock.call(env_url), mock.call('file:///home/my/dir/a.yaml'), mock.call('file:///home/my/dir/a.yaml'), ]) @mock.patch('six.moves.urllib.request.urlopen') def test_get_template_contents_url(self, mock_url): mock_url.return_value = six.BytesIO(tmpl) mock_url.assert_called_with(url) with mock.patch('six.moves.urllib.request.urlopen') as mock_url: raw_content = base64.decodestring(content) response = six.BytesIO(raw_content) mock_url.return_value = response files = {} template_utils.resolve_template_get_files( template, files, base_url) self.assertEqual({url: content}, files) mock_url.assert_called_with(url)@mock.patch('six.moves.urllib.request.urlopen') def test_hot_template(self, mock_url): mock_url.side_effect = [six.BytesIO(self.hot_template), six.BytesIO(b'bar contents'), six.BytesIO(b'foo contents'), six.BytesIO(b'baz1 contents'), six.BytesIO(b'baz2 contents'), six.BytesIO(b'baz3 contents')] mock_url.assert_has_calls([ mock.call(url), mock.call('http://localhost/bar.yaml'), mock.call('file:///home/my/dir/foo.yaml'), mock.call('file:///home/my/dir/baz/baz1.yaml'), mock.call('file:///home/my/dir/baz/baz2.yaml'), mock.call('file:///home/my/dir/baz/baz3.yaml') ], any_order=True) def test_hot_template_outputs(self, mock_url): mock_url.side_effect = [six.BytesIO(contents), six.BytesIO(b'foo contents')] mock_url.assert_has_calls([ mock.call(url), mock.call(foo_url) ]) def test_hot_template_same_file(self, mock_url): mock_url.side_effect = [six.BytesIO(contents), six.BytesIO(b'foo contents')] mock_url.assert_has_calls([ mock.call(url), mock.call(foo_url) ]) @mock.patch('six.moves.urllib.request.urlopen') def test_hot_template(self, mock_url): mock_url.side_effect = [six.BytesIO(self.hot_template), six.BytesIO(self.foo_template), six.BytesIO(self.foo_template), six.BytesIO(self.egg_template), six.BytesIO(self.egg_template)] vals = { url: six.BytesIO(self.hot_template), 'file:///home/my/dir/foo.yaml': six.BytesIO(self.foo_template), 'file:///home/my/dir/spam/egg.yaml': six.BytesIO(self.egg_template)} mock_url.assert_has_calls([ mock.call('file:///home/my/dir/foo.yaml'), mock.call(url), mock.call('file:///home/my/dir/spam/egg.yaml'), ], any_order=True) @mock.patch('six.moves.urllib.request.urlopen') def test_hot_template(self, mock_url): mock_url.side_effect = [six.BytesIO(self.hot_template), six.BytesIO(self.foo_template), six.BytesIO(self.foo_template), six.BytesIO(self.bar_template), six.BytesIO(self.bar_template)] mock_url.assert_has_calls([ mock.call(foo_url), mock.call(url), mock.call(bar_url), ], any_order=True) @mock.patch('six.moves.urllib.request.urlopen') def test_env_nested_includes(self, mock_url): mock_url.side_effect = [six.BytesIO(env), six.BytesIO(self.hot_template), six.BytesIO(self.hot_template), six.BytesIO(self.foo_template), six.BytesIO(self.egg_template), six.BytesIO(b'ham contents'), six.BytesIO(self.foo_template), six.BytesIO(self.foo_template), six.BytesIO(b'three contents'), six.BytesIO(self.foo_template), six.BytesIO(self.egg_template), six.BytesIO(self.foo_template), six.BytesIO(self.foo_template)] mock_url.assert_has_calls([ mock.call(env_url), mock.call(template_url), mock.call(foo_url), mock.call(egg_url), mock.call(ham_url), mock.call(one_url), mock.call(two_url), mock.call(three_url), mock.call(foo_url), mock.call(egg_url), mock.call(one_url), mock.call(two_url), ], any_order=True)"," def test_ignore_env_keys(self): self.m.StubOutWithMock(request, 'urlopen') request.urlopen('file://%s' % env_file).AndReturn( six.BytesIO(env)) self.m.ReplayAll() self.m.VerifyAll() def test_process_environment_file(self): self.m.StubOutWithMock(request, 'urlopen') request.urlopen('file://%s' % env_file).AndReturn( six.BytesIO(env)) request.urlopen('file:///home/b/a.yaml').AndReturn( six.BytesIO(self.template_a)) request.urlopen('file:///home/b/a.yaml').AndReturn( six.BytesIO(self.template_a)) self.m.ReplayAll() def test_process_environment_relative_file(self): self.m.StubOutWithMock(request, 'urlopen') request.urlopen(env_url).AndReturn( six.BytesIO(env)) request.urlopen('file:///home/my/dir/a.yaml').AndReturn( six.BytesIO(self.template_a)) request.urlopen('file:///home/my/dir/a.yaml').AndReturn( six.BytesIO(self.template_a)) self.m.ReplayAll() def test_process_environment_relative_file_up(self): self.m.StubOutWithMock(request, 'urlopen') request.urlopen(env_url).AndReturn( six.BytesIO(env)) request.urlopen('file:///home/my/bar/a.yaml').AndReturn( six.BytesIO(self.template_a)) request.urlopen('file:///home/my/bar/a.yaml').AndReturn( six.BytesIO(self.template_a)) self.m.ReplayAll() def test_process_environment_url(self): self.m.StubOutWithMock(request, 'urlopen') request.urlopen(url).AndReturn(six.BytesIO(env)) request.urlopen(tmpl_url).AndReturn(six.BytesIO(self.template_a)) request.urlopen(tmpl_url).AndReturn(six.BytesIO(self.template_a)) self.m.ReplayAll() def test_process_environment_empty_file(self): self.m.StubOutWithMock(request, 'urlopen') request.urlopen('file://%s' % env_file).AndReturn(six.BytesIO(env)) self.m.ReplayAll() def test_process_multiple_environments_and_files(self): self.m.StubOutWithMock(request, 'urlopen') request.urlopen('file://%s' % env_file1).AndReturn( six.BytesIO(env1)) request.urlopen('file:///home/b/a.yaml').AndReturn( six.BytesIO(self.template_a)) request.urlopen('file:///home/b/a.yaml').AndReturn( six.BytesIO(self.template_a)) request.urlopen('file://%s' % env_file2).AndReturn( six.BytesIO(env2)) request.urlopen('file:///home/b/b.yaml').AndReturn( six.BytesIO(self.template_a)) request.urlopen('file:///home/b/b.yaml').AndReturn( six.BytesIO(self.template_a)) self.m.ReplayAll() def test_process_multiple_environments_default_resources(self): self.m.StubOutWithMock(request, 'urlopen') request.urlopen('file://%s' % env_file1).InAnyOrder().AndReturn( six.BytesIO(env1)) request.urlopen('file:///home/b/a.yaml').InAnyOrder().AndReturn( six.BytesIO(self.template_a)) request.urlopen('file:///home/b/b.yaml').InAnyOrder().AndReturn( six.BytesIO(self.template_a)) request.urlopen('file:///home/b/a.yaml').InAnyOrder().AndReturn( six.BytesIO(self.template_a)) request.urlopen('file:///home/b/b.yaml').InAnyOrder().AndReturn( six.BytesIO(self.template_a)) request.urlopen('file://%s' % env_file2).InAnyOrder().AndReturn( six.BytesIO(env2)) request.urlopen('file:///home/b/a.yaml').InAnyOrder().AndReturn( six.BytesIO(self.template_a)) request.urlopen('file:///home/b/b.yaml').InAnyOrder().AndReturn( six.BytesIO(self.template_a)) request.urlopen('file:///home/b/a.yaml').InAnyOrder().AndReturn( six.BytesIO(self.template_a)) request.urlopen('file:///home/b/b.yaml').InAnyOrder().AndReturn( six.BytesIO(self.template_a)) self.m.ReplayAll() self.m.ReplayAll() def test_process_multiple_environments_and_files_tracker(self): self.m.StubOutWithMock(request, 'urlopen') request.urlopen('file://%s' % env_file1).AndReturn( six.BytesIO(env1)) request.urlopen('file:///home/b/a.yaml').AndReturn( six.BytesIO(self.template_a)) request.urlopen('file:///home/b/a.yaml').AndReturn( six.BytesIO(self.template_a)) self.m.ReplayAll() def test_process_environment_relative_file_tracker(self): self.m.StubOutWithMock(request, 'urlopen') request.urlopen(env_url).AndReturn( six.BytesIO(env)) request.urlopen('file:///home/my/dir/a.yaml').AndReturn( six.BytesIO(self.template_a)) request.urlopen('file:///home/my/dir/a.yaml').AndReturn( six.BytesIO(self.template_a)) self.m.ReplayAll() def setUp(self): super(TestGetTemplateContents, self).setUp() self.m = mox.Mox() self.addCleanup(self.m.VerifyAll) self.addCleanup(self.m.UnsetStubs) def test_get_template_contents_url(self): self.m.StubOutWithMock(request, 'urlopen') request.urlopen(url).AndReturn(six.BytesIO(tmpl)) self.m.ReplayAll() self.m.ReplayAll() self.m.ReplayAll() self.m.StubOutWithMock(request, 'urlopen') raw_content = base64.decodestring(content) response = six.BytesIO(raw_content) request.urlopen(url).AndReturn(response) self.m.ReplayAll() files = {} template_utils.resolve_template_get_files( template, files, base_url) self.assertEqual({url: content}, files) def setUp(self): super(TestTemplateGetFileFunctions, self).setUp() self.m = mox.Mox() self.addCleanup(self.m.VerifyAll) self.addCleanup(self.m.UnsetStubs) def test_hot_template(self): self.m.StubOutWithMock(request, 'urlopen') request.urlopen(url).AndReturn( six.BytesIO(self.hot_template)) request.urlopen( 'http://localhost/bar.yaml').InAnyOrder().AndReturn( six.BytesIO(b'bar contents')) request.urlopen( 'file:///home/my/dir/foo.yaml').InAnyOrder().AndReturn( six.BytesIO(b'foo contents')) request.urlopen( 'file:///home/my/dir/baz/baz1.yaml').InAnyOrder().AndReturn( six.BytesIO(b'baz1 contents')) request.urlopen( 'file:///home/my/dir/baz/baz2.yaml').InAnyOrder().AndReturn( six.BytesIO(b'baz2 contents')) request.urlopen( 'file:///home/my/dir/baz/baz3.yaml').InAnyOrder().AndReturn( six.BytesIO(b'baz3 contents')) self.m.ReplayAll() 'http://localhost/bar.yaml': b'bar contents', 'file:///home/my/dir/foo.yaml': b'foo contents', 'file:///home/my/dir/baz/baz1.yaml': b'baz1 contents', 'file:///home/my/dir/baz/baz2.yaml': b'baz2 contents', 'file:///home/my/dir/baz/baz3.yaml': b'baz3 contents', }, files) self.assertEqual({ def test_hot_template_outputs(self): self.m.StubOutWithMock(request, 'urlopen') request.urlopen(url).AndReturn(six.BytesIO(contents)) request.urlopen(foo_url).AndReturn(six.BytesIO(b'foo contents')) self.m.ReplayAll() def test_hot_template_same_file(self): self.m.StubOutWithMock(request, 'urlopen') request.urlopen(url).AndReturn(six.BytesIO(contents)) request.urlopen(foo_url).AndReturn(six.BytesIO(b'foo contents')) self.m.ReplayAll() def setUp(self): super(TestTemplateTypeFunctions, self).setUp() self.m = mox.Mox() self.addCleanup(self.m.VerifyAll) self.addCleanup(self.m.UnsetStubs) def test_hot_template(self): self.m.StubOutWithMock(request, 'urlopen') request.urlopen( 'file:///home/my/dir/foo.yaml').InAnyOrder().AndReturn( six.BytesIO(self.foo_template)) request.urlopen( 'file:///home/my/dir/foo.yaml').InAnyOrder().AndReturn( six.BytesIO(self.foo_template)) request.urlopen(url).InAnyOrder().AndReturn( six.BytesIO(self.hot_template)) request.urlopen( 'file:///home/my/dir/spam/egg.yaml').InAnyOrder().AndReturn( six.BytesIO(self.egg_template)) request.urlopen( 'file:///home/my/dir/spam/egg.yaml').InAnyOrder().AndReturn( six.BytesIO(self.egg_template)) self.m.ReplayAll() def setUp(self): super(TestTemplateInFileFunctions, self).setUp() self.m = mox.Mox() self.addCleanup(self.m.VerifyAll) self.addCleanup(self.m.UnsetStubs) def test_hot_template(self): self.m.StubOutWithMock(request, 'urlopen') request.urlopen(url).InAnyOrder().AndReturn( six.BytesIO(self.hot_template)) request.urlopen(foo_url).InAnyOrder().AndReturn( six.BytesIO(self.foo_template)) request.urlopen(foo_url).InAnyOrder().AndReturn( six.BytesIO(self.foo_template)) request.urlopen(bar_url).InAnyOrder().AndReturn( six.BytesIO(self.bar_template)) request.urlopen(bar_url).InAnyOrder().AndReturn( six.BytesIO(self.bar_template)) self.m.ReplayAll() def setUp(self): super(TestNestedIncludes, self).setUp() self.m = mox.Mox() self.addCleanup(self.m.VerifyAll) self.addCleanup(self.m.UnsetStubs) def test_env_nested_includes(self): self.m.StubOutWithMock(request, 'urlopen') request.urlopen(env_url).AndReturn( six.BytesIO(env)) request.urlopen(template_url).AndReturn( six.BytesIO(self.hot_template)) request.urlopen(template_url).AndReturn( six.BytesIO(self.hot_template)) request.urlopen(foo_url).InAnyOrder().AndReturn( six.BytesIO(self.foo_template)) request.urlopen(egg_url).InAnyOrder().AndReturn( six.BytesIO(self.egg_template)) request.urlopen(ham_url).InAnyOrder().AndReturn( six.BytesIO(b'ham contents')) request.urlopen(one_url).InAnyOrder().AndReturn( six.BytesIO(self.foo_template)) request.urlopen(two_url).InAnyOrder().AndReturn( six.BytesIO(self.foo_template)) request.urlopen(three_url).InAnyOrder().AndReturn( six.BytesIO(b'three contents')) request.urlopen(foo_url).InAnyOrder().AndReturn( six.BytesIO(self.foo_template)) request.urlopen(egg_url).InAnyOrder().AndReturn( six.BytesIO(self.egg_template)) request.urlopen(one_url).InAnyOrder().AndReturn( six.BytesIO(self.foo_template)) request.urlopen(two_url).InAnyOrder().AndReturn( six.BytesIO(self.foo_template)) self.m.ReplayAll()",211,256
openstack%2Fcinder~stable%2Focata~I964917d13d9415223845ac17eb804ee7faceaf6f,openstack/cinder,stable/ocata,I964917d13d9415223845ac17eb804ee7faceaf6f,LIO: Fix terminate_connection AttributeError,MERGED,2017-05-22 16:03:19.000000000,2017-05-27 17:37:42.000000000,2017-05-24 16:40:29.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 19146}, {'_account_id': 23613}]","[{'number': 1, 'created': '2017-05-22 16:03:19.000000000', 'files': ['cinder/tests/unit/targets/test_lio_driver.py', 'cinder/tests/unit/targets/targets_fixture.py', 'cinder/volume/targets/lio.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0abb6662b811e8d677737db2fdbccb30b483ee5b', 'message': 'LIO: Fix terminate_connection AttributeError\n\n""provider_location"" is not guaranteed to contain\na value here.\n\nCloses-Bug: #1684243\n\nChange-Id: I964917d13d9415223845ac17eb804ee7faceaf6f\n(cherry picked from commit 3e37cb6f8cf489480e264b434290064a61c4a782)\n'}]",2,466800,0abb6662b811e8d677737db2fdbccb30b483ee5b,21,6,1,4523,,,0,"LIO: Fix terminate_connection AttributeError

""provider_location"" is not guaranteed to contain
a value here.

Closes-Bug: #1684243

Change-Id: I964917d13d9415223845ac17eb804ee7faceaf6f
(cherry picked from commit 3e37cb6f8cf489480e264b434290064a61c4a782)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/466800/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/targets/test_lio_driver.py', 'cinder/tests/unit/targets/targets_fixture.py', 'cinder/volume/targets/lio.py']",3,0abb6662b811e8d677737db2fdbccb30b483ee5b,bug/1684243," if volume['provider_location'] is None: LOG.debug('No provider_location for volume %s.', volume['id']) return ",,26,0
openstack%2Fnova~master~I53bdcf8edf640e97b4632ef7a093f14a6e3845e4,openstack/nova,master,I53bdcf8edf640e97b4632ef7a093f14a6e3845e4,make sure to rebuild claim on recreate,MERGED,2017-05-19 01:56:07.000000000,2017-05-27 17:23:57.000000000,2017-05-26 16:31:53.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 748}, {'_account_id': 1916}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 25537}]","[{'number': 1, 'created': '2017-05-19 01:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00c90d0c3cd6d779c0335ef3a2cdc528336baedf', 'message': 'make sure to rebuild claim on recreate\n\nOn recreate where the instance is being evacuated to a different node,\nwe should be rebuilding the claim so the migration context is available\nwhen rebuilding the instance.\n\nChange-Id: I53bdcf8edf640e97b4632ef7a093f14a6e3845e4\nCloses-Bug: 1658070\n'}, {'number': 2, 'created': '2017-05-25 23:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af03434ee00820970081fb880ba733288ac2217a', 'message': 'make sure to rebuild claim on recreate\n\nOn recreate where the instance is being evacuated to a different node,\nwe should be rebuilding the claim so the migration context is available\nwhen rebuilding the instance.\n\nChange-Id: I53bdcf8edf640e97b4632ef7a093f14a6e3845e4\nCloses-Bug: 1658070\n'}, {'number': 3, 'created': '2017-05-25 23:15:35.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a2b0824aca5cb4a2ae579f625327c51ed0414d35', 'message': 'make sure to rebuild claim on recreate\n\nOn recreate where the instance is being evacuated to a different node,\nwe should be rebuilding the claim so the migration context is available\nwhen rebuilding the instance.\n\nChange-Id: I53bdcf8edf640e97b4632ef7a093f14a6e3845e4\nCloses-Bug: 1658070\n'}]",7,466143,a2b0824aca5cb4a2ae579f625327c51ed0414d35,51,16,3,1916,,,0,"make sure to rebuild claim on recreate

On recreate where the instance is being evacuated to a different node,
we should be rebuilding the claim so the migration context is available
when rebuilding the instance.

Change-Id: I53bdcf8edf640e97b4632ef7a093f14a6e3845e4
Closes-Bug: 1658070
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/466143/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",3,00c90d0c3cd6d779c0335ef3a2cdc528336baedf,bug/1658070," # NOTE(gyee): there are three possible scenarios. # # 1. instance is being rebuilt on the same node. In this case, # recreate should be False and scheduled_node should be None. # 2. instance is being rebuilt on a node choosen by the # scheduler (i.e. evacuate). In this case, scheduled_node should # specified and recreate should be True. # 3. instance is being rebuilt on a node choosen by the user. (i.e. # force evacuate). In this case, scheduled_node is not specified # and recreate is set to True. # # For scenarions #2 and #3, we must do rebuild claim as server is # being evacuated to a different node. if recreate or scheduled_node is not None:", if scheduled_node is not None:,21,3
openstack%2Fmurano-specs~master~Ib85497f57e1d31e6f24f300450161644e67a67bb,openstack/murano-specs,master,Ib85497f57e1d31e6f24f300450161644e67a67bb,Schema driven UI specification,NEW,2016-07-20 01:14:09.000000000,2017-05-27 17:10:06.000000000,,"[{'_account_id': 3}, {'_account_id': 7535}, {'_account_id': 8040}, {'_account_id': 13962}, {'_account_id': 15168}, {'_account_id': 20773}, {'_account_id': 23186}]","[{'number': 1, 'created': '2016-07-20 01:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/489f8ee0c58a5b0631456770e614a816bffbf41b', 'message': '[WIP] Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 2, 'created': '2016-07-20 05:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/eda429f0f461a46f8a9b912e8edee637d0ab1471', 'message': '[WIP] Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 3, 'created': '2016-07-21 22:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/f779224a3807051ff17ba4e7ab6a6dc77dcdbcb2', 'message': '[WIP] Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 4, 'created': '2016-07-22 00:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/7ff975a0a9071eccdfa79c4205e8c72b9ff1b8cb', 'message': '[WIP] Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 5, 'created': '2016-07-22 15:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/e1f2477820ced55763f68b886d762a8f85e278a5', 'message': '[WIP] Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 6, 'created': '2016-07-22 18:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/d588024d47fe6c11a00d86209e3078acc09b99b5', 'message': '[WIP] Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 7, 'created': '2016-07-22 18:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/65ee606320b1f7310bbe8832b5378269153a622e', 'message': '[WIP] Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 8, 'created': '2016-07-26 15:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/a7e130e5cdbaa6c50b21b1a359608630340e580b', 'message': '[WIP] Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 9, 'created': '2016-07-26 15:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/ec596c85b777c408fbbd0bb84b2169e7c0edce0f', 'message': '[WIP] Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 10, 'created': '2016-08-01 13:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/be39d7819f1e1e026807e76629f71b33ee842216', 'message': '[WIP] Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 11, 'created': '2016-08-02 18:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/738bd0337f6ffc2139cf79ef5f7eec6c0ae6544e', 'message': '[WIP] Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 12, 'created': '2016-08-04 16:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/5ce4ef54c2d25cdfe1ee59131020961995e5a2c6', 'message': '[WIP] Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 13, 'created': '2016-08-05 13:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/405bbe2b0bf1da3183f64ecf912e160308188b87', 'message': 'Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 14, 'created': '2016-08-08 18:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/5b2c1659f9efbb6f811358c6052ed95c21764501', 'message': 'Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 15, 'created': '2016-09-22 10:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/87ba2238682c1076ca3b4dd98aa8547ea8d29d25', 'message': 'Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 16, 'created': '2016-09-22 10:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/cd41af3c1ad61c306f4ce96c63f11350a7b93214', 'message': 'Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 17, 'created': '2016-09-22 10:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/4c9df82c57a344bceb9be8c16bd2e7c1c10f9570', 'message': 'Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 18, 'created': '2016-09-22 11:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/f453c12b433a1472196196c4b9a19516fbac445d', 'message': 'Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 19, 'created': '2016-09-24 11:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/61669ba6516612c16c59df7a605f2d39072db2c3', 'message': 'Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 20, 'created': '2016-09-28 09:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/5da6c3248671d37d302ec74a39b41cbc09bc7a3c', 'message': 'Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 21, 'created': '2016-09-29 15:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/1cdc0b5cc181810c24edf72d30006aa056c70a9a', 'message': 'Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 22, 'created': '2016-09-30 09:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/70ebc895a13f2383483ee1cfa32e3cab8d90404b', 'message': 'Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 23, 'created': '2016-09-30 14:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/efb0ac56e407b19f47b238cc6ecda31aada9502b', 'message': 'Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 24, 'created': '2016-10-05 18:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/a062c511f5d66f6d7370864af353b3f596d88e83', 'message': 'Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 25, 'created': '2016-10-06 10:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/a0ff14c9039495d2c04d70da72a896973293af09', 'message': 'Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 26, 'created': '2016-10-10 13:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/26bc3aad5280516a1ff7727c0fda1be2beb8878f', 'message': 'Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}, {'number': 27, 'created': '2016-10-10 14:47:38.000000000', 'files': ['specs/ocata/approved/schema_driven_ui.rst'], 'web_link': 'https://opendev.org/openstack/murano-specs/commit/f4b6eac28888ecfa66abff50993029be16513631', 'message': 'Schema driven UI specification\n\nThis specification describes various aspects of processing the json\nschema which comes from MuranoPL and other aspects of interaction with\nMurano API.\n\nChange-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb\n'}]",67,344518,f4b6eac28888ecfa66abff50993029be16513631,69,7,27,8040,,,0,"Schema driven UI specification

This specification describes various aspects of processing the json
schema which comes from MuranoPL and other aspects of interaction with
Murano API.

Change-Id: Ib85497f57e1d31e6f24f300450161644e67a67bb
",git fetch https://review.opendev.org/openstack/murano-specs refs/changes/18/344518/25 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/approved/schema_driven_ui.rst'],1,489f8ee0c58a5b0631456770e614a816bffbf41b,344518,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================ Schema-driven UI ================ https://blueprints.launchpad.net/murano/+spec/schema-driven-ui Currently Murano uses so-called 'dynamic UI' to render and validate forms while configuring apps to be deployed. It has quite significant limitations and has to be rewritten, both server-side and client-side. Most of the scope proposed for server-side 'dynamic UI' is described at MuranoPL forms spec (see https://blueprints.launchpad.net/murano/+spec/muranopl-forms ). This specification describes the client-side changes to 'dynamic UI', the new way how the form fields should be rendered, validated and how client-side should interact with server-side. Problem description =================== Although it is called 'dynamic UI', in fact, it is not dynamic or flexible at all, because one has to provide a special YAML markup alongside to MuranoPL classes. Also it is implemented in Django and does not exhibit the kind of responsiveness one would expect from a modern Web App (i.e. to show/hide specific fields depending on other field values, one has to write JS scripts by hand). And most importantly, once object model has been generated (using YAQL templates within 'dynamic UI' markup), it can no longer be edited, making it impossible to edit parameters of any components that are already added to the environment (be it deployed or not). Proposed change =============== A new client-side form generator producing Angular.JS html-markup based on the json schema produced by MuranoPL is the proposed solution to the above problem. In order to convert json schema into an Angular form the library Angular-Schema-Form is being used. It accepts two pieces of input: the json schema itself and the form definition. The latter is used to enhance form layout capabilities beyond those that can be derived from a bare json schema. It is true that Angular-Schema-Form can guess some basic field properties (string vs number, is it a primitive field or a compound one) from json schema, but to render less trivial fields, like a datepicker or a grid, or conditionally show/hide specific fields, one has to provide form definition. Since MuranoPL outputs json schema only, the job of generating the form definition is upon the client-side code. Besides json schema and form definition, a third important element exists here: the form model. That is the thing that is going to be produced when user submits correctly filled form. It is the client-side equivalent of what MuranoPL calls 'an object model'. Aspects to be covered ===================== UI Hints processing ------------------- * 'formSection' hint of a field defines which form section the field goes into. Form sections can have multiple levels of nesting (although in reality one will rarely use more than 2). In terms of UI a top-level form section is actually a form tab. All existing sections must be described under #/formSections key of the schema, if a section key which is not present there is used for a field, this field is treated as no having 'formSection' hint at all and goes to the 'default' section. The default section is rendered as the last tab of the form. Section #/formSections/sectionX is considered to be a top-level if it has an empty string as a value for under 'parent' key, or doesn't have this key at all. Non existing parent is treated as no parent at all. A section which 'parent' is an existing section identifier is considered to be the child of this section. Sections other than top-level are rendered as fieldsets with the padding increasing as nesting goes deeper. * 'formIndex' is used to sort fields within a section, fields with formIndex being specified come first (and ordered according to it) within a section, then come the fields without it, order not specified. * Implementation is free to put more than one field into a single row, however due to classes/schemas inheritance complexities, UI hints for specifying which part of the horizontal space the field may occupy are not currently supported (may be added in a future version). * 'title' hint is supported both for a field and for a section. In case of field it is used to display a field's label, if it's not given then the label is produced for field's key. In case of section it either becomes a tab title, or a fieldset title. If it's not specified for a section, then section key is used. * 'description' hint is supported both for a field and for a section. In case of field it is meant to be a short message explaining the field purpose and will be shown in a popup when the mouse cursor hovers over the field for a long time. In case of a section it becomes a paragraph shown after the section title (or at the top of the form's tab in case it's a top-level section). * 'helpText' is generally a longer version of description and is shown on a separate popover, which contains descriptions for all the fields / sections present in the current top-level section. * Angular-Schema-Form uses `tv4`_ library for validating json schema, which uses error codes for indicating various type of errors. Hence if it is needed to `override standard messages`_, 'validationMessages' object needs to be provided, where each key is the error code and the overridden message is the value. * 'condition' technically it could be derived from the json schema standard keyword 'dependency', though if one wants to provide a conditional expresion more complex than 'if that checkbox is not set, do not show that field', it needs to be specified as a UI hint. (TBD: investigate to what extent json-schema facilites can be reused for reasoning about fields visibility). .. _tv4: https://github.com/geraintluff/tv4 .. _override standard messages: https://github.com/json-schema-form/angular-schema-form/blob/master/docs/index.md#validation-messages Validation constraints ---------------------- * minimum, exclusiveMinimum, maximum and exclusiveMaximum for numeric types * multiplier for numeric types * minLength and maxLength for string types * pattern for string types (a regular expression) * server-side validation callbacks (?) Polymorphic fields ------------------ It is possible for a json value to be constrained to more than one type by a json schema - consider for example an 'id' value that can be either string or numeric. The question is if MuranoPL uses such polymorphs? It could complicate things in an unpredictable way, imagine at least how the html widget selection should be done then. Nullable fields --------------- The value `null` means the absence of value, and upon receiving it as a part of object model MuranoPL sometimes takes a different route of execution, comparing to the case where it would be just an empty value of the allowed type. While we're in a model space, it's easy to distinguish between a `null` and, say, an empty string. Yet it's far less obvious, when we're in the html widgets' domain, especially for: * any text-based input - such as <input type=""text""> or <textarea>. Thus the text-based inputs need to be rendered differently based on the schema. * If the schema doesn't allow for `null` value, then an empty field produces an empty string value. * If the schema allows for `null` value, but disallows an empty string value (by using 'minLength' or 'pattern' keyword), then an empty field produces `null` value. * If the schema allows both `null` and empty string value, then an additional button (which is within the same input group with text widget) is rendered, when it is clicked, the field itself is disabled and produces the `null` value, regardless of what previous content the field had. If field is enabled and is empty, then it produces an empty string value. * boolean checkbox. If `null` value is allowed for the boolean type, its checkbox is rendered as a tri-state checkbox, where the third state corresponds to `null` (or ""unknown"") value. For any other field the state of emptiness means the resulting value in model is going to be `null`. Object referencing ------------------ Owned and not-owned objects processing -------------------------------------- Breadcrumbs navigation ---------------------- Browsing object model and in-place editing ------------------------------------------ Integrating existing Horizon grids and new Murano UI ---------------------------------------------------- Browsing applications & components ---------------------------------- ",,200,0
openstack%2Fopenstack-ansible-rabbitmq_server~master~I6c7b264acd2790914b5ee74accc29be9268f41dc,openstack/openstack-ansible-rabbitmq_server,master,I6c7b264acd2790914b5ee74accc29be9268f41dc,Reload systemd-daemon in all cases,ABANDONED,2017-03-02 11:57:32.000000000,2017-05-27 17:04:00.000000000,,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-03-02 11:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/f8f2be0fb07cb20144271c7ad277b399b14b3228', 'message': 'Reload systemd-daemon in all cases\n\nSo we need to do a systemd daemon reload in all the cases, whether\ninstalled from upstream package or file.\n\nThe condition to check for systemd is also removed because we have\nsystemd everywhere.\n\nChange-Id: I6c7b264acd2790914b5ee74accc29be9268f41dc\n'}, {'number': 2, 'created': '2017-03-02 13:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/2ad8d3acea33e4bbd224fc5b842024ecdc2062f3', 'message': '[Wip] Reload systemd-daemon in all cases\n\nSo we need to do a systemd daemon reload in all the cases, whether\ninstalled from upstream package or file.\n\nThe condition to check for systemd is also removed because we have\nsystemd everywhere.\n\nChange-Id: I6c7b264acd2790914b5ee74accc29be9268f41dc\n'}, {'number': 3, 'created': '2017-03-23 20:37:01.000000000', 'files': ['tasks/rabbitmq_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/5add01552e87a762f57bbb2a8a67e4eb3cf08523', 'message': 'Reload systemd-daemon in all cases\n\nSo we need to do a systemd daemon reload in all the cases, whether\ninstalled from upstream package or file.\n\nThe condition to check for systemd is also removed because we have\nsystemd everywhere.\n\nChange-Id: I6c7b264acd2790914b5ee74accc29be9268f41dc\n'}]",2,440463,5add01552e87a762f57bbb2a8a67e4eb3cf08523,13,3,3,17068,,,0,"Reload systemd-daemon in all cases

So we need to do a systemd daemon reload in all the cases, whether
installed from upstream package or file.

The condition to check for systemd is also removed because we have
systemd everywhere.

Change-Id: I6c7b264acd2790914b5ee74accc29be9268f41dc
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/63/440463/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/rabbitmq_install.yml'],1,f8f2be0fb07cb20144271c7ad277b399b14b3228,,, when: - install_rabbitmq | changed - ansible_service_mgr == 'systemd',0,3
openstack%2Fkolla~master~I8df95d06b1010778deb3e2a3065aaab26ed2eb6a,openstack/kolla,master,I8df95d06b1010778deb3e2a3065aaab26ed2eb6a,Remove sudo operations that are no longer necessary,MERGED,2017-05-27 04:40:33.000000000,2017-05-27 16:48:44.000000000,2017-05-27 16:48:44.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 7488}, {'_account_id': 11869}]","[{'number': 1, 'created': '2017-05-27 04:40:33.000000000', 'files': ['docker/glance/glance-base/Dockerfile.j2', 'docker/mariadb/extend_start.sh', 'docker/rabbitmq/extend_start.sh', 'docker/glance/glance-api/extend_start.sh', 'docker/rabbitmq/rabbitmq_sudoers', 'docker/elasticsearch/extend_start.sh', 'docker/elasticsearch/elasticsearch_sudoers', 'docker/rabbitmq/Dockerfile.j2', 'docker/elasticsearch/Dockerfile.j2', 'docker/mariadb/mariadb_sudoers', 'docker/glance/glance-base/glance_sudoers'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4607ab5e530310c9f3b5bf35490c40d087340d07', 'message': 'Remove sudo operations that are no longer necessary\n\nset_configs.py has logic to handle chown of directories.  Simplify\nthe codebase by removing these unnessary chowns.  Further the chowns\ncause some forms of NFS backed storage to not work properly.\n\nChange-Id: I8df95d06b1010778deb3e2a3065aaab26ed2eb6a\nCloses-Bug: #1693973\n'}]",0,468607,4607ab5e530310c9f3b5bf35490c40d087340d07,9,4,1,2834,,,0,"Remove sudo operations that are no longer necessary

set_configs.py has logic to handle chown of directories.  Simplify
the codebase by removing these unnessary chowns.  Further the chowns
cause some forms of NFS backed storage to not work properly.

Change-Id: I8df95d06b1010778deb3e2a3065aaab26ed2eb6a
Closes-Bug: #1693973
",git fetch https://review.opendev.org/openstack/kolla refs/changes/07/468607/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/glance/glance-base/Dockerfile.j2', 'docker/mariadb/extend_start.sh', 'docker/rabbitmq/extend_start.sh', 'docker/glance/glance-api/extend_start.sh', 'docker/rabbitmq/rabbitmq_sudoers', 'docker/elasticsearch/extend_start.sh', 'docker/elasticsearch/elasticsearch_sudoers', 'docker/elasticsearch/Dockerfile.j2', 'docker/rabbitmq/Dockerfile.j2', 'docker/mariadb/mariadb_sudoers', 'docker/glance/glance-base/glance_sudoers']",11,4607ab5e530310c9f3b5bf35490c40d087340d07,bug/1693973,,"%kolla ALL=(root) NOPASSWD: /usr/bin/chown -R glance\: /var/lib/glance/, /bin/chown -R glance\: /var/lib/glance/ ",4,28
openstack%2Fproject-config~master~Icac751e16cc9a9b6aa89bc3fd8aa431026170526,openstack/project-config,master,Icac751e16cc9a9b6aa89bc3fd8aa431026170526,announce merged patches in nova channel,MERGED,2017-05-26 19:50:58.000000000,2017-05-27 16:26:22.000000000,2017-05-27 16:26:22.000000000,"[{'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 6873}]","[{'number': 1, 'created': '2017-05-26 19:50:58.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/51f8c6c23d0d7fef9f6a8039239ada1c969c4bb3', 'message': 'announce merged patches in nova channel\n\nChange-Id: Icac751e16cc9a9b6aa89bc3fd8aa431026170526\n'}]",0,468527,51f8c6c23d0d7fef9f6a8039239ada1c969c4bb3,8,4,1,2750,,,0,"announce merged patches in nova channel

Change-Id: Icac751e16cc9a9b6aa89bc3fd8aa431026170526
",git fetch https://review.opendev.org/openstack/project-config refs/changes/27/468527/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,51f8c6c23d0d7fef9f6a8039239ada1c969c4bb3,nova, - change-merged,,1,0
openstack%2Fproject-config~master~I6b865debee7f42fa6e770baa52b81c69fa76932e,openstack/project-config,master,I6b865debee7f42fa6e770baa52b81c69fa76932e,Remove ansible-role-trusty jobs,MERGED,2017-05-27 02:11:00.000000000,2017-05-27 16:25:45.000000000,2017-05-27 16:25:45.000000000,"[{'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-05-27 02:11:00.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/567806ee3eac5f796e84639fad6d0136178e92e1', 'message': 'Remove ansible-role-trusty jobs\n\nThe following roles no longer plan on support ubuntu-trusty, so we can\nremove testing for them.\n\nChange-Id: I6b865debee7f42fa6e770baa52b81c69fa76932e\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,468601,567806ee3eac5f796e84639fad6d0136178e92e1,7,3,1,4162,,,0,"Remove ansible-role-trusty jobs

The following roles no longer plan on support ubuntu-trusty, so we can
remove testing for them.

Change-Id: I6b865debee7f42fa6e770baa52b81c69fa76932e
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/01/468601/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,567806ee3eac5f796e84639fad6d0136178e92e1,,, - name: ansible-role-functional-jobs-trusty - name: ansible-role-functional-jobs-trusty - name: ansible-role-functional-jobs-trusty - name: ansible-role-functional-jobs-trusty-nv - name: ansible-role-functional-jobs-trusty - name: ansible-role-functional-jobs-trusty-nv - name: ansible-role-functional-jobs-trusty-nv - name: ansible-role-functional-jobs-trusty - name: ansible-role-functional-jobs-trusty - name: ansible-role-functional-jobs-trusty - name: ansible-role-functional-jobs-trusty - name: ansible-role-functional-jobs-trusty - name: ansible-role-functional-jobs-trusty,0,13
openstack%2Fshade~master~Ia35811694faf143f2e84e81e301dfab4dea7d426,openstack/shade,master,Ia35811694faf143f2e84e81e301dfab4dea7d426,Get user list by domain,ABANDONED,2016-06-16 18:15:10.000000000,2017-05-27 16:18:06.000000000,,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 1726}, {'_account_id': 3099}]","[{'number': 1, 'created': '2016-06-16 18:15:10.000000000', 'files': ['shade/operatorcloud.py', 'shade/_tasks.py', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/aadb516445624b0e16233285ecffb093eb4d3136', 'message': 'Get user list by domain\n\nChange-Id: Ia35811694faf143f2e84e81e301dfab4dea7d426\n'}]",2,330739,aadb516445624b0e16233285ecffb093eb4d3136,9,5,1,1726,,,0,"Get user list by domain

Change-Id: Ia35811694faf143f2e84e81e301dfab4dea7d426
",git fetch https://review.opendev.org/openstack/shade refs/changes/39/330739/1 && git format-patch -1 --stdout FETCH_HEAD,"['shade/operatorcloud.py', 'shade/_tasks.py', 'shade/openstackcloud.py']",3,aadb516445624b0e16233285ecffb093eb4d3136,," def get_domain(self, domain_id=None, name_or_id=None, filters=None): """"""Get exactly one Keystone domain. :param domain_id: domain id. :param name_or_id: domain name or id. :param dict filters: A dict containing additional filters to use. Keys to search on are id, name, enabled and description. :returns: a dict containing the domain description, or None if not found. Each dict contains the following attributes:: - id: <domain id> - name: <domain name> - description: <domain description> :raises: ``OpenStackCloudException``: if something goes wrong during the openstack API call. """""" if domain_id is None: return _utils._get_entity(self.search_domains, filters, name_or_id) else: with _utils.shade_exceptions( ""Failed to get domain "" ""{domain_id}"".format(domain_id=domain_id) ): domain = self.manager.submitTask( _tasks.DomainGet(domain=domain_id)) return _utils.normalize_domains([domain])[0] def list_users(self, domain=None): if self.cloud_config.get_api_version('identity') == '3': if domain: domain = self.get_domain(name_or_id=domain) with _utils.shade_exceptions(""Failed to list users""): users = self.manager.submitTask(_tasks.UserList(domain=domain)) else: with _utils.shade_exceptions(""Failed to list users""): users = self.manager.submitTask(_tasks.UserList())"," def list_users(self): with _utils.shade_exceptions(""Failed to list users""): users = self.manager.submitTask(_tasks.UserList())",38,32
openstack%2Fpython-openstackclient~master~If74d3caa4cb0d0a220a0c4c484c7bfefab29a1a2,openstack/python-openstackclient,master,If74d3caa4cb0d0a220a0c4c484c7bfefab29a1a2,Allow default domain id and name,ABANDONED,2016-06-16 15:04:22.000000000,2017-05-27 16:17:55.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-06-16 15:04:22.000000000', 'files': ['openstackclient/shell.py', 'openstackclient/common/clientmanager.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/dedcc324f2da85d5b75bee223aad0bc42dc78bdf', 'message': 'Allow default domain id and name\n\nNew default domain id (OS_DEFAULT_DOMAIN_ID or\n--os-default-domain-id) and domain name (OS_DEFAULT_DOMAIN_NAME or\n--os-default-domain0name) are now provided by keystoneauth1. Fix the\nlogic to allow their use.\n\nChange-Id: If74d3caa4cb0d0a220a0c4c484c7bfefab29a1a2\n'}]",0,330632,dedcc324f2da85d5b75bee223aad0bc42dc78bdf,4,1,1,1726,,,0,"Allow default domain id and name

New default domain id (OS_DEFAULT_DOMAIN_ID or
--os-default-domain-id) and domain name (OS_DEFAULT_DOMAIN_NAME or
--os-default-domain0name) are now provided by keystoneauth1. Fix the
logic to allow their use.

Change-Id: If74d3caa4cb0d0a220a0c4c484c7bfefab29a1a2
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/32/330632/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/shell.py', 'openstackclient/common/clientmanager.py']",2,dedcc324f2da85d5b75bee223aad0bc42dc78bdf,, not self._auth_params.get('project_domain_name') and not self._auth_params.get('default_domain_name') and not self._auth_params.get('default_domain_id')): not self._auth_params.get('user_domain_name') and not self._auth_params.get('default_domain_name') and not self._auth_params.get('default_domain_id')):, not self._auth_params.get('project_domain_name')): not self._auth_params.get('user_domain_name')):,8,2
openstack%2Fshade~master~I1b425224ffd16124570de62e6e2a0a4d36f9805b,openstack/shade,master,I1b425224ffd16124570de62e6e2a0a4d36f9805b,Add quota ansible tests,ABANDONED,2016-03-15 17:40:48.000000000,2017-05-27 16:17:42.000000000,,"[{'_account_id': 2}, {'_account_id': 3}]","[{'number': 1, 'created': '2016-03-15 17:40:48.000000000', 'files': ['shade/tests/ansible/run.yml', 'shade/tests/ansible/roles/nova_quotas/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/shade/commit/ad1ab6e54a4e46156c3c60ea6f0f7f343b1bde39', 'message': 'Add quota ansible tests\n\nAnsible module pull request:\nhttps://github.com/ansible/ansible-modules-extras/pull/1823\n\nChange-Id: I1b425224ffd16124570de62e6e2a0a4d36f9805b\n'}]",0,293072,ad1ab6e54a4e46156c3c60ea6f0f7f343b1bde39,5,2,1,1726,,,0,"Add quota ansible tests

Ansible module pull request:
https://github.com/ansible/ansible-modules-extras/pull/1823

Change-Id: I1b425224ffd16124570de62e6e2a0a4d36f9805b
",git fetch https://review.opendev.org/openstack/shade refs/changes/72/293072/1 && git format-patch -1 --stdout FETCH_HEAD,"['shade/tests/ansible/run.yml', 'shade/tests/ansible/roles/nova_quotas/tasks/main.yml']",2,ad1ab6e54a4e46156c3c60ea6f0f7f343b1bde39,quotas,"--- - name: Update compute quota os_nova_quotas: cloud: ""{{ cloud }}"" state: present project: demo quota: cores: 42 - name: Delete nova quotas (defaults) os_nova_quotas: cloud: ""{{ cloud }}"" state: absent project: demo ",,15,0
openstack%2Fcinder~master~I7750137ca095b0d87d9627932adf2ce80e719f42,openstack/cinder,master,I7750137ca095b0d87d9627932adf2ce80e719f42,WIP: Rename functions names involving groups.,ABANDONED,2016-08-16 14:19:20.000000000,2017-05-27 15:32:38.000000000,,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13394}, {'_account_id': 14797}, {'_account_id': 15296}, {'_account_id': 15831}, {'_account_id': 16595}, {'_account_id': 16862}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17852}, {'_account_id': 18120}, {'_account_id': 18752}, {'_account_id': 19146}, {'_account_id': 19933}, {'_account_id': 21193}, {'_account_id': 22126}]","[{'number': 1, 'created': '2016-08-16 14:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b88a86f7ef8a659bdabd3820643d0b97b728a84c', 'message': 'WIP: Rename functions names involving groups.\n\nChange-Id: I7750137ca095b0d87d9627932adf2ce80e719f42\n'}, {'number': 2, 'created': '2016-08-17 01:19:41.000000000', 'files': ['cinder/scheduler/filter_scheduler.py', 'cinder/scheduler/driver.py', 'cinder/objects/consistencygroup.py', 'cinder/objects/group.py', 'cinder/objects/volume.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/objects/cgsnapshot.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e9e5bb1c9637099d7373dd1fdacd3693c8b4e287', 'message': 'WIP: Rename functions names involving groups.\n\nChange-Id: I7750137ca095b0d87d9627932adf2ce80e719f42\n'}]",0,355961,e9e5bb1c9637099d7373dd1fdacd3693c8b4e287,35,21,2,6491,,,0,"WIP: Rename functions names involving groups.

Change-Id: I7750137ca095b0d87d9627932adf2ce80e719f42
",git fetch https://review.opendev.org/openstack/cinder refs/changes/61/355961/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/objects/consistencygroup.py', 'cinder/objects/group.py', 'cinder/objects/volume.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/objects/cgsnapshot.py']",6,b88a86f7ef8a659bdabd3820643d0b97b728a84c,rename_functions," def get_all_by_consistencygroup(cls, context, group_id, filters=None): cgsnapshots = db.cgsnapshot_get_all_by_consistencygroup( context, group_id, filters)"," def get_all_by_group(cls, context, group_id, filters=None): cgsnapshots = db.cgsnapshot_get_all_by_group(context, group_id, filters)",22,17
openstack%2Fdevstack~master~I7315d6a43c2ef46a93d58b8619f0cc58628ed96e,openstack/devstack,master,I7315d6a43c2ef46a93d58b8619f0cc58628ed96e,WIP: colorizor for journalctl,ABANDONED,2017-04-07 14:32:06.000000000,2017-05-27 15:13:54.000000000,,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-04-07 14:32:06.000000000', 'files': ['tools/colorize.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/70b5bd9679d2fae936a43fb923ee3cb4d2d00165', 'message': 'WIP: colorizor for journalctl\n\nChange-Id: I7315d6a43c2ef46a93d58b8619f0cc58628ed96e\n'}]",0,454737,70b5bd9679d2fae936a43fb923ee3cb4d2d00165,12,6,1,2750,,,0,"WIP: colorizor for journalctl

Change-Id: I7315d6a43c2ef46a93d58b8619f0cc58628ed96e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/37/454737/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/colorize.py'],1,70b5bd9679d2fae936a43fb923ee3cb4d2d00165,systemd,"#!/usr/bin/env python import fileinput import re from colored import fg, bg, attr REQUEST_ID = '(req-\w{8}-\w{4}-\w{4}-\w{4}-\w{12})' DATEFMT = '\w+ \d+ \d+:\d+:\d+(\.\d{3.6})?' STATUSFMT = '(DEBUG|INFO|WARNING|ERROR|TRACE|AUDIT)' LINE = '^(?P<date>%s) (?P<host>\S+) (?P<process>\S+)\: (?P<level>%s)' % \ (DATEFMT, STATUSFMT) LINERE = re.compile(LINE) LEVEL_COLORS = { 'DEBUG': fg('grey_50'), } def request_id(line, line_color): m = re.search(REQUEST_ID, line) if not m: return line line_color = line_color or attr('reset') req = m.group(1) color = int(req[-2:], 16) line = re.sub(REQUEST_ID, fg(color) + req + line_color, line) return line def status_color(line, level): if level in LEVEL_COLORS: return LEVEL_COLORS[level] + line + attr('reset'), LEVEL_COLORS[level] return line, None for line in fileinput.input(): line = line.rstrip() m = LINERE.match(line) if m: line, color = status_color(line, m.group('level')) line = request_id(line, color) print(line) ",,47,0
openstack%2Fcinder~master~Id20f2c26fd352227df11e19b6558beb0f7c2fa8b,openstack/cinder,master,Id20f2c26fd352227df11e19b6558beb0f7c2fa8b,Add time.sleep mock for test_lv_deactivate_timeout,MERGED,2017-05-22 15:51:15.000000000,2017-05-27 15:10:26.000000000,2017-05-22 18:21:41.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 16595}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 23613}, {'_account_id': 24241}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}]","[{'number': 1, 'created': '2017-05-22 15:51:15.000000000', 'files': ['cinder/tests/unit/brick/test_brick_lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/49618ee9be27f679f36e0f9ed9470ba053e1c52e', 'message': ""Add time.sleep mock for test_lv_deactivate_timeout\n\nWe don't need to wait 30 seconds in unit tests for retries.\nThis patch adds mock for time.sleep to make tests faster.\n\nChange-Id: Id20f2c26fd352227df11e19b6558beb0f7c2fa8b\n""}]",0,466794,49618ee9be27f679f36e0f9ed9470ba053e1c52e,24,17,1,1736,,,0,"Add time.sleep mock for test_lv_deactivate_timeout

We don't need to wait 30 seconds in unit tests for retries.
This patch adds mock for time.sleep to make tests faster.

Change-Id: Id20f2c26fd352227df11e19b6558beb0f7c2fa8b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/466794/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/brick/test_brick_lvm.py'],1,49618ee9be27f679f36e0f9ed9470ba053e1c52e,test_lv_deactivate_timeout_fix," @mock.patch('time.sleep') def test_lv_deactivate_timeout(self, _mock_sleep):", def test_lv_deactivate_timeout(self):,2,1
openstack%2Fcookbook-openstack-common~master~Ifc3d5b9f7a6df4ecf54255e11dbedfa5b9b95d1c,openstack/cookbook-openstack-common,master,Ifc3d5b9f7a6df4ecf54255e11dbedfa5b9b95d1c,WIP: Multinode integration tests,ABANDONED,2017-03-16 03:58:14.000000000,2017-05-27 14:49:38.000000000,,"[{'_account_id': 3}, {'_account_id': 14790}]","[{'number': 1, 'created': '2017-03-16 03:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/74e3fb0efd25884e37e2285e2553851bf2526bdd', 'message': 'WIP: Multinode integration tests\n\n- makes bootstrap.sh configurable for allinone and multinode builds\n\nChange-Id: Ifc3d5b9f7a6df4ecf54255e11dbedfa5b9b95d1c\n'}, {'number': 2, 'created': '2017-03-16 04:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/f6c01d1cf7aa31eee7cc2976b885f6c379e015c1', 'message': 'WIP: Multinode integration tests\n\n- makes bootstrap.sh configurable for allinone and multinode builds\n\nChange-Id: Ifc3d5b9f7a6df4ecf54255e11dbedfa5b9b95d1c\nDepends-On: I0c316804a2eea2574681778678a8599203007c0d'}, {'number': 3, 'created': '2017-03-16 04:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/39fd249a8233d35c5a3a2bbac6862932ebd08653', 'message': 'WIP: Multinode integration tests\n\n- makes bootstrap.sh configurable for allinone and multinode builds\n\nChange-Id: Ifc3d5b9f7a6df4ecf54255e11dbedfa5b9b95d1c'}, {'number': 4, 'created': '2017-03-16 04:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/e33a57b3256466182ee27bb8ca7e0c156900e88f', 'message': 'WIP: Multinode integration tests\n\n- makes bootstrap.sh configurable for allinone and multinode builds\n\nChange-Id: Ifc3d5b9f7a6df4ecf54255e11dbedfa5b9b95d1c\n'}, {'number': 5, 'created': '2017-03-16 04:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/eb4174f03c314b18b7b4674ddcac48c116e493bc', 'message': 'WIP: Multinode integration tests\n\n- makes bootstrap.sh configurable for allinone and multinode builds\n\nChange-Id: Ifc3d5b9f7a6df4ecf54255e11dbedfa5b9b95d1c\n'}, {'number': 6, 'created': '2017-03-16 04:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/8e6b74643fafe96f83e3c5fbf5a43f7e317f8d30', 'message': 'WIP: Multinode integration tests\n\n- makes bootstrap.sh configurable for allinone and multinode builds\n\nChange-Id: Ifc3d5b9f7a6df4ecf54255e11dbedfa5b9b95d1c\n'}, {'number': 7, 'created': '2017-03-16 04:36:52.000000000', 'files': ['bootstrap.sh'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/4e3f1144d04ce72b2e7627c0de1405e341fc8589', 'message': 'WIP: Multinode integration tests\n\n- makes bootstrap.sh configurable for allinone and multinode builds\n\nChange-Id: Ifc3d5b9f7a6df4ecf54255e11dbedfa5b9b95d1c\n'}]",0,446292,4e3f1144d04ce72b2e7627c0de1405e341fc8589,17,2,7,14790,,,0,"WIP: Multinode integration tests

- makes bootstrap.sh configurable for allinone and multinode builds

Change-Id: Ifc3d5b9f7a6df4ecf54255e11dbedfa5b9b95d1c
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/92/446292/3 && git format-patch -1 --stdout FETCH_HEAD,['bootstrap.sh'],1,74e3fb0efd25884e37e2285e2553851bf2526bdd,int_multi,"#!/usr/bin/env bash # This script is for configuring and installing all of the needed packages for # CentOS 7 and Ubuntu 16.04 for the integration rake tests in # openstack-chef-repo. # # Usage: bootstrap.sh <job_type> set -eux JOB_TYPE=$1 if [ $(id -u) != 0 ]; then # preserve environment to keep ZUUL_* params export SUDO='sudo -E' fi # if we're in an integration gate, we're using less-than-public mirrors due to # instability with the proper upstreams # # TODO(sc) Due to an incompatibility with the rubygems.org structure on AFS, we # must use a rubygems mirror outside OpenStack. For now, that is borrowing from # OpenShift. if [ -f /etc/nodepool/provider ]; then source /etc/nodepool/provider NODEPOOL_MIRROR_HOST=${NODEPOOL_MIRROR_HOST:-mirror.$NODEPOOL_REGION.$NODEPOOL_CLOUD.openstack.org} NODEPOOL_MIRROR_HOST=$(echo $NODEPOOL_MIRROR_HOST|tr '[:upper:]' '[:lower:]') CENTOS_MIRROR_HOST=http://${NODEPOOL_MIRROR_HOST} UCA_MIRROR_HOST=""http://${NODEPOOL_MIRROR_HOST}/ubuntu-cloud-archive"" CEPH_MIRROR_HOST=""http://${NODEPOOL_MIRROR_HOST}/ceph-deb-jewel"" # due to rubygems.org timeouts, use OpenShift's mirror chef exec gem sources --remove https://rubygems.org/ chef exec gem sources --add http://mirror.ops.rhcloud.com/mirror/ruby/ chef exec gem sources --list else CENTOS_MIRROR_HOST='mirror.centos.org' UCA_MIRROR_HOST='ubuntu-cloud.archive.canonical.com/ubuntu' CEPH_MIRROR_HOST='download.ceph.com/debian-jewel' fi # build in multinode if told to do so. otherwise, attempt allinone if [ ""$JOB_TYPE"" = ""multinode"" ]; then export NODECOUNT=2 export CHEF_ENV=""multinode"" else export CHEF_ENV=""allinone"" fi if [ -f /etc/nodepool/role ]; then ROLE=$(cat /etc/nodepool/role) fi if [ -s /etc/nodepool/sub_nodes ]; then echo ""Sub nodes exist. Using multinode."" else echo ""No sub nodes found."" fi # install Chef Development Kit on target platforms if [ -f /usr/bin/yum ]; then wget -nv -t 3 https://packages.chef.io/stable/ubuntu/16.04/$chefdk","#!/bin/bash -x ## This script is for installing all the needed packages on CentOS 7 and Ubuntu 16.04 to run the chef tests with 'chef exec rake' if [ -f /usr/bin/yum ] ; then wget -nv -t 3 https://packages.chef.io/stable/ubuntu/12.04/$chefdkif [ $(id -u) != 0 ]; then # preserve environment to keep ZUUL_* params export SUDO='sudo -E' fi # if we're in an integration gate, we're using OpenStack mirrors if [ -f /etc/nodepool/provider ]; then source /etc/nodepool/provider NODEPOOL_MIRROR_HOST=${NODEPOOL_MIRROR_HOST:-mirror.$NODEPOOL_REGION.$NODEPOOL_CLOUD.openstack.org} NODEPOOL_MIRROR_HOST=$(echo $NODEPOOL_MIRROR_HOST|tr '[:upper:]' '[:lower:]') CENTOS_MIRROR_HOST=${NODEPOOL_MIRROR_HOST} UCA_MIRROR_HOST=""${NODEPOOL_MIRROR_HOST}/ubuntu-cloud-archive"" CEPH_MIRROR_HOST=""${NODEPOOL_MIRROR_HOST}/ceph-deb-jewel"" # due to rubygems.org timeouts, use OpenShift's mirror chef exec gem sources --remove https://rubygems.org/ chef exec gem sources --add http://mirror.ops.rhcloud.com/mirror/ruby/ chef exec gem sources --list else CENTOS_MIRROR_HOST='mirror.centos.org' UCA_MIRROR_HOST='ubuntu-cloud.archive.canonical.com/ubuntu' CEPH_MIRROR_HOST='download.ceph.com/debian-jewel' fi ",62,27
openstack%2Fopenstack-chef-repo~master~I9cd1ea853ec817f82182dd1fd6f24689c0b600d8,openstack/openstack-chef-repo,master,I9cd1ea853ec817f82182dd1fd6f24689c0b600d8,WIP: Multinode integration tests,ABANDONED,2017-03-16 03:59:58.000000000,2017-05-27 14:49:28.000000000,,"[{'_account_id': 3}, {'_account_id': 13252}, {'_account_id': 14790}, {'_account_id': 24734}]","[{'number': 1, 'created': '2017-03-16 03:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/8f52441ff1a27d38a5481df784c373f7e6459676', 'message': 'WIP: Multinode integration tests\n\n- renames multi-node to multinode for consistency\n- adds int_multi rake task for multinode integration\n\nChange-Id: I9cd1ea853ec817f82182dd1fd6f24689c0b600d8\n'}, {'number': 2, 'created': '2017-03-16 04:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/fb90291d4864555161c758faab8ec266a3b3aa65', 'message': 'WIP: Multinode integration tests\n\n- renames multi-node to multinode for consistency\n- adds int_multi rake task for multinode integration\n\nChange-Id: I9cd1ea853ec817f82182dd1fd6f24689c0b600d8\nDepends-On: Ifc3d5b9f7a6df4ecf54255e11dbedfa5b9b95d1c'}, {'number': 3, 'created': '2017-03-16 17:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/bc3aff08ccf71f2200bd545df7e2a7b047160110', 'message': 'WIP: Multinode integration tests\n\n- renames multi-node to multinode for consistency\n- adds int_multi rake task for multinode integration\n\nChange-Id: I9cd1ea853ec817f82182dd1fd6f24689c0b600d8\n'}, {'number': 4, 'created': '2017-03-16 21:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/a3dfab20edad9740f2c6f34489c7727cf9de9c8f', 'message': 'WIP: Multinode integration tests\n\n- renames multi-node to multinode for consistency\n- adds int_multi rake task for multinode integration\n\nChange-Id: I9cd1ea853ec817f82182dd1fd6f24689c0b600d8\n'}, {'number': 5, 'created': '2017-03-16 22:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/175ebe28517744e91718cd4db31d83d118fe3a0e', 'message': 'WIP: Multinode integration tests\n\n- renames multi-node to multinode for consistency\n- adds int_multi rake task for multinode integration\n\nChange-Id: I9cd1ea853ec817f82182dd1fd6f24689c0b600d8\n'}, {'number': 6, 'created': '2017-03-23 09:34:14.000000000', 'files': ['Rakefile', 'environments/multinode-centos7.json', 'environments/multinode-ubuntu16.json'], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/dbcde0f2bd10d0046e8b3af262394c066a73e32f', 'message': 'WIP: Multinode integration tests\n\n- renames multi-node to multinode for consistency\n- adds int_multi rake task for multinode integration\n\nChange-Id: I9cd1ea853ec817f82182dd1fd6f24689c0b600d8\n'}]",8,446293,dbcde0f2bd10d0046e8b3af262394c066a73e32f,21,4,6,14790,,,0,"WIP: Multinode integration tests

- renames multi-node to multinode for consistency
- adds int_multi rake task for multinode integration

Change-Id: I9cd1ea853ec817f82182dd1fd6f24689c0b600d8
",git fetch https://review.opendev.org/openstack/openstack-chef-repo refs/changes/93/446293/1 && git format-patch -1 --stdout FETCH_HEAD,"['Rakefile', 'environments/multinode-centos7.json', 'environments/multinode-ubuntu16.json']",3,8f52441ff1a27d38a5481df784c373f7e6459676,int_multi," ""name"": ""multinode-ubuntu16"","," ""name"": ""multi-node-ubuntu16"",",49,4
openstack%2Fos-brick~master~I252569f8b49d9838090d1a0f454103204557c916,openstack/os-brick,master,I252569f8b49d9838090d1a0f454103204557c916,Check host device alive before multipath id discovery,MERGED,2017-04-25 02:15:14.000000000,2017-05-27 14:19:13.000000000,2017-05-25 16:12:39.000000000,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16898}, {'_account_id': 19852}, {'_account_id': 20146}, {'_account_id': 21999}, {'_account_id': 22248}, {'_account_id': 22796}, {'_account_id': 23083}, {'_account_id': 24502}]","[{'number': 1, 'created': '2017-04-25 02:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/67fb64b60e5fdae736dd3db9b0e04b5a32dc5cfc', 'message': 'Check host device alive before multipath id discovery\n\nIn Fibre Channel environment, when nova hard reboot a vm,\nit will select the first dicoveried path to find out the multipath id.\nIf the first path was failed, but not deleted, then multipath will fail,\nand reboot will fail. Actually we have alive paths to boot the VM.\n\nCloses-Bug: 1685969\n\nChange-Id: I252569f8b49d9838090d1a0f454103204557c916\nSigned-off-by: Liu Qing <liuqing@chinac.com>\n'}, {'number': 2, 'created': '2017-04-25 05:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9a5745eb917c448dab7cebb9119eca8e5ed95d35', 'message': 'Check host device alive before multipath id discovery\n\nIn Fibre Channel environment, when nova hard reboot a vm,\nit will select the first dicoveried path to find out the multipath id.\nIf the first path was failed, but not deleted, then multipath will fail,\nand reboot will fail. Actually we have alive paths to boot the VM.\n\nCloses-Bug: 1685969\n\nChange-Id: I252569f8b49d9838090d1a0f454103204557c916\nSigned-off-by: Liu Qing <liuqing@chinac.com>\n'}, {'number': 3, 'created': '2017-04-26 02:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e24d4950930b7c0fb79ee97b8e6132ed5a0c2bae', 'message': 'Check host device alive before multipath id discovery\n\nIn Fibre Channel environment, when nova hard reboot a vm,\nit will select the first discovered path to find out the multipath id.\nIf the first path was failed, but not deleted, then multipath will fail,\nand reboot will fail. Actually we have alive paths to boot the VM.\n\nCloses-Bug: 1685969\n\nChange-Id: I252569f8b49d9838090d1a0f454103204557c916\nSigned-off-by: Liu Qing <liuqing@chinac.com>\n'}, {'number': 4, 'created': '2017-05-17 09:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/771eff4a5bd4e2627405e1da495904eb6f829e32', 'message': 'Check host device alive before multipath id discovery\n\nIn Fibre Channel environment, when nova hard reboot a vm,\nit will select the first discovered path to find out the multipath id.\nIf the first path was failed, but not deleted, then multipath will fail,\nand reboot will fail. Actually we have alive paths to boot the VM.\n\nCloses-Bug: 1685969\n\nChange-Id: I252569f8b49d9838090d1a0f454103204557c916\nSigned-off-by: Liu Qing <liuqing@chinac.com>\n'}, {'number': 5, 'created': '2017-05-17 21:03:48.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/initiator/connectors/fibre_channel.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/6f03dd1cea363be8333be5de69adf5bbd5079816', 'message': 'Check host device alive before multipath id discovery\n\nIn Fibre Channel environment, when nova hard reboot a vm,\nit will select the first discovered path to find out the multipath id.\nIf the first path was failed, but not deleted, then multipath will fail,\nand reboot will fail. Actually we have alive paths to boot the VM.\n\nCloses-Bug: 1685969\n\nChange-Id: I252569f8b49d9838090d1a0f454103204557c916\nSigned-off-by: Liu Qing <liuqing@chinac.com>\n'}]",3,459487,6f03dd1cea363be8333be5de69adf5bbd5079816,86,17,5,21999,,,0,"Check host device alive before multipath id discovery

In Fibre Channel environment, when nova hard reboot a vm,
it will select the first discovered path to find out the multipath id.
If the first path was failed, but not deleted, then multipath will fail,
and reboot will fail. Actually we have alive paths to boot the VM.

Closes-Bug: 1685969

Change-Id: I252569f8b49d9838090d1a0f454103204557c916
Signed-off-by: Liu Qing <liuqing@chinac.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/87/459487/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/fibre_channel.py'],1,67fb64b60e5fdae736dd3db9b0e04b5a32dc5cfc,bug/1685969, if os.path.exists(device) and \ self.check_valid_device(device):, if os.path.exists(device):,2,1
openstack%2Fnova~master~I1441304bd5a83b04877c1662e6e9d463ba629ed0,openstack/nova,master,I1441304bd5a83b04877c1662e6e9d463ba629ed0,[Trivial] Hyper-V: accept Glance vhdx images,MERGED,2017-05-23 19:46:15.000000000,2017-05-27 13:51:38.000000000,2017-05-26 19:08:17.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 10118}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-05-23 19:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2353a6842d00563c88b0a971b1bd6311772ff06', 'message': '[wip] Hyper-V: accept Glance vhdx images\n\nChange-Id: I1441304bd5a83b04877c1662e6e9d463ba629ed0\n'}, {'number': 2, 'created': '2017-05-25 10:27:00.000000000', 'files': ['nova/virt/hyperv/block_device_manager.py', 'nova/tests/unit/virt/hyperv/test_block_device_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f022d431e1f844a8faa7ab55597c83179c13022c', 'message': '[Trivial] Hyper-V: accept Glance vhdx images\n\nAlthough the Hyper-V driver is used with VHDX images most of the\ntime, it rejects Glance images marked as VHDX.\n\nNote that for legacy reasons, people usually just mark them as vhd\nat he moment, which is misleading and unsafe.\n\nThis change ensures that such images are handled properly.\n\nCloses-Bug: #1693470\n\nChange-Id: I1441304bd5a83b04877c1662e6e9d463ba629ed0\n'}]",0,467369,f022d431e1f844a8faa7ab55597c83179c13022c,21,7,2,8543,,,0,"[Trivial] Hyper-V: accept Glance vhdx images

Although the Hyper-V driver is used with VHDX images most of the
time, it rejects Glance images marked as VHDX.

Note that for legacy reasons, people usually just mark them as vhd
at he moment, which is misleading and unsafe.

This change ensures that such images are handled properly.

Closes-Bug: #1693470

Change-Id: I1441304bd5a83b04877c1662e6e9d463ba629ed0
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/467369/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/hyperv/block_device_manager.py'],1,a2353a6842d00563c88b0a971b1bd6311772ff06,bug/1693470," 'vhdx': constants.DISK,",,1,0
openstack%2Fopenstack-manuals~master~I1c44cda279430c74b6b958ef9b67fbbb1bd6e3d6,openstack/openstack-manuals,master,I1c44cda279430c74b6b958ef9b67fbbb1bd6e3d6,Updated telemetry compute_monitors option,MERGED,2017-05-26 19:59:57.000000000,2017-05-27 13:50:47.000000000,2017-05-27 13:50:47.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7923}, {'_account_id': 22165}]","[{'number': 1, 'created': '2017-05-26 19:59:57.000000000', 'files': ['doc/admin-guide/source/telemetry-measurements.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1815b4ade5f98e033f6886ef4fa60c2e051902c8', 'message': 'Updated telemetry compute_monitors option\n\nThe provided compute_monitors driver was out of date.\n\nThe monitor plugin interface was re-worked, and only\ncpu.virt_driver is included by default as of the Liberty\nrelease.\n\nChange-Id: I1c44cda279430c74b6b958ef9b67fbbb1bd6e3d6\nCloses-Bug: #1693913\n'}]",0,468529,1815b4ade5f98e033f6886ef4fa60c2e051902c8,8,4,1,21558,,,0,"Updated telemetry compute_monitors option

The provided compute_monitors driver was out of date.

The monitor plugin interface was re-worked, and only
cpu.virt_driver is included by default as of the Liberty
release.

Change-Id: I1c44cda279430c74b6b958ef9b67fbbb1bd6e3d6
Closes-Bug: #1693913
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/29/468529/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/admin-guide/source/telemetry-measurements.rst'],1,1815b4ade5f98e033f6886ef4fa60c2e051902c8,bug/1693913,``compute_monitors`` option to ``cpu.virt_driver`` in the,``compute_monitors`` option to ``ComputeDriverCPUMonitor`` in the,1,1
openstack%2Fopenstack-manuals~master~Ied855b7e3ef2da0c6a0ba61419c828def1482b80,openstack/openstack-manuals,master,Ied855b7e3ef2da0c6a0ba61419c828def1482b80,Fix a wrong command for neutron,MERGED,2017-05-26 16:24:25.000000000,2017-05-27 13:06:15.000000000,2017-05-27 13:06:15.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 7923}, {'_account_id': 17130}]","[{'number': 1, 'created': '2017-05-26 16:24:25.000000000', 'files': ['doc/networking-guide/source/config-dns-int.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c1bc0d9e0f87b5b2a23ac1e76e7d0b28c87cacca', 'message': 'Fix a wrong command for neutron\n\nChange-Id: Ied855b7e3ef2da0c6a0ba61419c828def1482b80\n'}]",0,468462,c1bc0d9e0f87b5b2a23ac1e76e7d0b28c87cacca,8,4,1,22165,,,0,"Fix a wrong command for neutron

Change-Id: Ied855b7e3ef2da0c6a0ba61419c828def1482b80
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/62/468462/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/networking-guide/source/config-dns-int.rst'],1,c1bc0d9e0f87b5b2a23ac1e76e7d0b28c87cacca,, $ neutron port-create my-net --dns-name my-port, $ neutron port-create my-net --dns_name my-port,1,1
openstack%2Ffuel-devops~master~I705ce3bd474bd12971713f06e3a892a2f04c3fef,openstack/fuel-devops,master,I705ce3bd474bd12971713f06e3a892a2f04c3fef,Enable time-sync for non-Fuel-based environments,MERGED,2017-05-25 15:24:40.000000000,2017-05-27 12:59:10.000000000,2017-05-27 12:59:10.000000000,"[{'_account_id': 3}, {'_account_id': 11969}, {'_account_id': 12867}]","[{'number': 1, 'created': '2017-05-25 15:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-devops/commit/f8fecdb54cd194e488e9d96cda1784ef5545facc', 'message': 'Enable time-sync for non-Fuel-based environments\n\nChange-Id: I705ce3bd474bd12971713f06e3a892a2f04c3fef\n'}, {'number': 2, 'created': '2017-05-27 12:44:02.000000000', 'files': ['devops/shell.py', 'devops/client/environment.py', 'devops/models/network.py'], 'web_link': 'https://opendev.org/openstack/fuel-devops/commit/5d68ed0fa32ba9d57592cab0b7042572d3e45b2d', 'message': 'Enable time-sync for non-Fuel-based environments\n\nChange-Id: I705ce3bd474bd12971713f06e3a892a2f04c3fef\n'}]",0,468063,5d68ed0fa32ba9d57592cab0b7042572d3e45b2d,14,3,2,11969,,,0,"Enable time-sync for non-Fuel-based environments

Change-Id: I705ce3bd474bd12971713f06e3a892a2f04c3fef
",git fetch https://review.opendev.org/openstack/fuel-devops refs/changes/63/468063/1 && git format-patch -1 --stdout FETCH_HEAD,"['devops/shell.py', 'devops/client/environment.py', 'devops/models/network.py']",3,f8fecdb54cd194e488e9d96cda1784ef5545facc,timesync-for-anynode," """"""Metadata that describes desired interfaces configuration When envrironment hardware have been created/adopted, user may want to execute some post-provisioning steps to configure interfaces respecting the current network topology. This metadata helps to describe the expected configuration that can be taken by any 3rd-party component to perform these steps. In fuel-devops, this data is not used, so you can skip this object if network interfaces are configured using some different inventory. Template example (network_config): --------------------------------- - name: some_node_name params: ... interfaces: - label: eth0 - label: eth1 - label: eth2 network_config: eth0: # matches the first interface name networks: - admin # expecting interface configuration # (vlan, ip, ) for network with name 'admin' # in your inventory. bond0: networks: - control # expecting interface configuration # (vlan, ip, ) for network with name 'admin' # in your inventory. aggregation: active-backup # use 'aggregation' to determine # that bond0 is a bond interface. parents: # Slave interfaces for creating this 'bond0'. - eth1 - eth2 """""" """"""Describes a network interface configuration Specify the abstract label of the interface (you can use labels that match the real interface names or use any suitable names). 'l2_network_device' describes the switch name (virtual or hardware) to which the interface is connected. 'features' is a json list with any strings you want use to mark interfaces with specific features and use these marks in 3rd-party libraries to perform highlevel configuration of the right interfaces for your product. Template example (interfaces): --------------------------------- - name: some_node_name params: ... interfaces: - label: iface0 l2_network_device: admin - label: iface1 l2_network_device: data mac_address: !os_env IFACE_MAC_ADDRESS, 00:11:22:33:44:55 features: ['dpdk', 'dpdk_pci: 0000:05:00.1'] """"""",,105,9
openstack%2Foslo.utils~master~Idf59f669087a39c30eee4e533899b95ede66e198,openstack/oslo.utils,master,Idf59f669087a39c30eee4e533899b95ede66e198,Adding a check of string type for hmacs,MERGED,2017-02-15 20:36:16.000000000,2017-05-27 12:58:46.000000000,2017-05-27 12:58:45.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 9796}, {'_account_id': 18462}]","[{'number': 1, 'created': '2017-02-15 20:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/a21f870ea4d94bda5dec4ad0c9baebb1d50a279b', 'message': ""Adding a check of string type for hmacs\n\n- To ensure comparison is done on binary data\n\nThe method would first check if the 2 hmacs are a python\n`six.stringtype`. If they are, they would be encoded using\n'utf-8' as the encoding scheme to binary data.\n\nChange-Id: Idf59f669087a39c30eee4e533899b95ede66e198\n""}, {'number': 2, 'created': '2017-03-06 22:08:05.000000000', 'files': ['oslo_utils/tests/test_secretutils.py', 'oslo_utils/secretutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/f1d332a01d00cc08b9a7728d7c8727b5f5a067bb', 'message': ""Adding a check of string type for hmacs\n\n- To ensure comparison is done on binary data\n\nThe method would first check if the 2 hmacs are a python\n`six.stringtype`. If they are, they would be encoded using\n'utf-8' as the encoding scheme to binary data.\n\nChange-Id: Idf59f669087a39c30eee4e533899b95ede66e198\n""}]",1,434503,f1d332a01d00cc08b9a7728d7c8727b5f5a067bb,18,6,2,18462,,,0,"Adding a check of string type for hmacs

- To ensure comparison is done on binary data

The method would first check if the 2 hmacs are a python
`six.stringtype`. If they are, they would be encoded using
'utf-8' as the encoding scheme to binary data.

Change-Id: Idf59f669087a39c30eee4e533899b95ede66e198
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/03/434503/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_utils/secretutils.py'],1,a21f870ea4d94bda5dec4ad0c9baebb1d50a279b,434503,"import six if isinstance(first, six.string_types): first = first.encode('utf-8') if isinstance(second, six.string_types): second = second.encode('utf-8')",,6,0
openstack%2Ffuel-devops~master~Id7a3ecc6d8638666ffe03623ba9c6f39a4707987,openstack/fuel-devops,master,Id7a3ecc6d8638666ffe03623ba9c6f39a4707987,[doc] Add libssl-dev package to python eggs build requirements,MERGED,2017-05-11 10:40:03.000000000,2017-05-27 12:40:05.000000000,2017-05-27 12:40:05.000000000,"[{'_account_id': 3}, {'_account_id': 11969}]","[{'number': 1, 'created': '2017-05-11 10:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-devops/commit/66efe606ede45d02da06255edc26ab6e9daccd26', 'message': '[doc] Add libssl-dev package to python eggs build requirements\n\nChange-Id: Id7a3ecc6d8638666ffe03623ba9c6f39a4707987\n'}, {'number': 2, 'created': '2017-05-27 12:23:33.000000000', 'files': ['doc/source/install.rst'], 'web_link': 'https://opendev.org/openstack/fuel-devops/commit/266437f8c9a0f3e5b86f0c870f6235d9a52c2fa3', 'message': '[doc] Add libssl-dev package to python eggs build requirements\n\nChange-Id: Id7a3ecc6d8638666ffe03623ba9c6f39a4707987\n'}]",0,463965,266437f8c9a0f3e5b86f0c870f6235d9a52c2fa3,8,2,2,11969,,,0,"[doc] Add libssl-dev package to python eggs build requirements

Change-Id: Id7a3ecc6d8638666ffe03623ba9c6f39a4707987
",git fetch https://review.opendev.org/openstack/fuel-devops refs/changes/65/463965/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install.rst'],1,66efe606ede45d02da06255edc26ab6e9daccd26,fix-install-guide, sudo apt-get install --yes python-virtualenv libgmp-dev libssl-dev pkg-configInstall fuel-devops with SQLite3 database: pip install git+https://github.com/openstack/fuel-devops.git --upgrade [Optional] Install fuel-devops with PostgreSQL database: .. code-block:: bash . fuel-devops-venv/bin/activate pip install git+https://github.com/openstack/fuel-devops.git#egg=project[postgre] --upgrade [Optional] Install fuel-devops with specified tag: .. code-block:: bash . fuel-devops-venv/bin/activate pip install git+https://github.com/openstack/fuel-devops.git@2.9.21 --upgrade # Do not install 2.9.x over 3.x !, sudo apt-get install --yes python-virtualenv libgmp-dev pkg-config pip install git+https://github.com/openstack/fuel-devops.git@2.9.21 --upgrade # For fuel-devops 2.9.x # pip install git+https://github.com/openstack/fuel-devops.git@3.0.1 --upgrade # For fuel-devops 3.0.x with SQLite3 database # pip install git+https://github.com/openstack/fuel-devops.git@3.0.1#egg=project[postgre] --upgrade # For fuel-devops 3.0.x with PostgreSQL database ,17,4
openstack%2Fcinder~master~I64ba7ce3844dac01a227e9898f2f14f8af3da51f,openstack/cinder,master,I64ba7ce3844dac01a227e9898f2f14f8af3da51f,Fix typo errors,MERGED,2017-04-06 13:04:48.000000000,2017-05-27 12:34:48.000000000,2017-05-22 18:21:28.000000000,"[{'_account_id': 3}, {'_account_id': 7173}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23081}, {'_account_id': 23083}, {'_account_id': 23140}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}]","[{'number': 1, 'created': '2017-04-06 13:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9bfa5f4a7c92fda0684f168a8261c2a4aa8240c', 'message': 'Fix typo errors\n\nFix typo errors in rest_api_version_history.rst.\n\nChange-Id: I64ba7ce3844dac01a227e9898f2f14f8af3da51f\n'}, {'number': 2, 'created': '2017-04-25 01:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ba4607b5d160a676d8d23afffa98dd13f7912669', 'message': 'Fix typo errors\n\nThis patch is to fix some typo errors in rest_api_version_history.rst.\n\nChange-Id: I64ba7ce3844dac01a227e9898f2f14f8af3da51f\n'}, {'number': 3, 'created': '2017-05-22 15:12:31.000000000', 'files': ['cinder/api/openstack/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2205d642fac16e9dc3b820d1ad8c2d88ac02963b', 'message': 'Fix typo errors\n\nThis patch is to fix some typo errors in rest_api_version_history.rst.\n\nChange-Id: I64ba7ce3844dac01a227e9898f2f14f8af3da51f\n'}]",2,454171,2205d642fac16e9dc3b820d1ad8c2d88ac02963b,83,38,3,23081,,,0,"Fix typo errors

This patch is to fix some typo errors in rest_api_version_history.rst.

Change-Id: I64ba7ce3844dac01a227e9898f2f14f8af3da51f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/454171/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/openstack/rest_api_version_history.rst'],1,d9bfa5f4a7c92fda0684f168a8261c2a4aa8240c,fix_typo_errors, This is the initial version of the Cinder API which supports bootable volume list. Added group types and group specs APIs. issued a cleanup request (``cleaning`` key) and the other with services Added new attachment API, This it the initial version of the Cinder API which supports bootable volumes list. Added group types and group specs API. issued a cleanup request (``cleaning`` key) and another list with services Added new attachment API's,5,5
openstack%2Fwatcher~master~I1baa46eba0e7dbae816dbbeb0914f4e1efc8fa0a,openstack/watcher,master,I1baa46eba0e7dbae816dbbeb0914f4e1efc8fa0a,Updated from global requirements,MERGED,2017-05-26 17:31:37.000000000,2017-05-27 12:23:06.000000000,2017-05-27 12:23:06.000000000,"[{'_account_id': 3}, {'_account_id': 18971}, {'_account_id': 21692}]","[{'number': 1, 'created': '2017-05-26 17:31:37.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/watcher/commit/1001525664824376a5849827a60b1f88a50626a0', 'message': 'Updated from global requirements\n\nChange-Id: I1baa46eba0e7dbae816dbbeb0914f4e1efc8fa0a\n'}]",0,468498,1001525664824376a5849827a60b1f88a50626a0,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I1baa46eba0e7dbae816dbbeb0914f4e1efc8fa0a
",git fetch https://review.opendev.org/openstack/watcher refs/changes/98/468498/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,1001525664824376a5849827a60b1f88a50626a0,openstack/requirements,oslo.context>=2.14.0 # Apache-2.0python-cinderclient>=2.1.0 # Apache-2.0,oslo.context>=2.12.0 # Apache-2.0python-cinderclient>=2.0.1 # Apache-2.0,2,2
openstack%2Fwatcher~master~I9d601edb265ee230104f6c63a5f044869aeb3a02,openstack/watcher,master,I9d601edb265ee230104f6c63a5f044869aeb3a02,Versioned Notifications for service object,MERGED,2017-02-23 11:10:46.000000000,2017-05-27 12:20:45.000000000,2017-05-27 12:20:45.000000000,"[{'_account_id': 3}, {'_account_id': 18971}, {'_account_id': 19055}, {'_account_id': 21361}, {'_account_id': 21692}, {'_account_id': 21865}]","[{'number': 1, 'created': '2017-02-23 11:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/44fabee19f2d230ebb8d475875f653e95e4d5f50', 'message': 'Versioned Notifications for service object\n\nChange-Id: I9d601edb265ee230104f6c63a5f044869aeb3a02\n'}, {'number': 2, 'created': '2017-03-01 12:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/d0f9e58584d6933920c015d89ccd6fce0c7f8f6f', 'message': '[WIP]Versioned Notifications for service object\n\nChange-Id: I9d601edb265ee230104f6c63a5f044869aeb3a02\n'}, {'number': 3, 'created': '2017-03-01 14:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/c47f2a1d3843a68b57f91f3aa56bea7278051ace', 'message': '[WIP]Versioned Notifications for service object\n\nImplements: blueprint service-versioned-notifications-api\n\nChange-Id: I9d601edb265ee230104f6c63a5f044869aeb3a02\n'}, {'number': 4, 'created': '2017-03-15 08:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/9471a030298b8dca174991f6dd51b526ec823ba1', 'message': 'Versioned Notifications for service object\n\nImplements: blueprint service-versioned-notifications-api\n\nChange-Id: I9d601edb265ee230104f6c63a5f044869aeb3a02\n'}, {'number': 5, 'created': '2017-03-15 09:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/4e1f7ac18e8b2c2d822d8a10f58f19fe844644ad', 'message': 'Versioned Notifications for service object\n\nImplements: blueprint service-versioned-notifications-api\n\nChange-Id: I9d601edb265ee230104f6c63a5f044869aeb3a02\n'}, {'number': 6, 'created': '2017-03-15 11:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/a43dfc33646921fc89c26ed18045feea4c319e5c', 'message': 'Versioned Notifications for service object\n\nImplements: blueprint service-versioned-notifications-api\n\nChange-Id: I9d601edb265ee230104f6c63a5f044869aeb3a02\n'}, {'number': 7, 'created': '2017-04-27 13:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/bf0419cde161505a408bdddfe2daa38c5ef82896', 'message': 'Versioned Notifications for service object\n\nImplements: blueprint service-versioned-notifications-api\n\nChange-Id: I9d601edb265ee230104f6c63a5f044869aeb3a02\n'}, {'number': 8, 'created': '2017-05-23 13:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/b163b15830aea819ca109aa5b0ec912d99e41c2f', 'message': 'Versioned Notifications for service object\n\nImplements: blueprint service-versioned-notifications-api\n\nChange-Id: I9d601edb265ee230104f6c63a5f044869aeb3a02\n'}, {'number': 9, 'created': '2017-05-23 13:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/e08f614e084cbee8825449b70709dc7de34a9cb9', 'message': 'Versioned Notifications for service object\n\nImplements: blueprint service-versioned-notifications-api\n\nChange-Id: I9d601edb265ee230104f6c63a5f044869aeb3a02\n'}, {'number': 10, 'created': '2017-05-25 09:53:00.000000000', 'files': ['watcher/tests/api/test_scheduling.py', 'watcher/notifications/__init__.py', 'watcher/api/controllers/v1/service.py', 'watcher/tests/notifications/test_service_notifications.py', 'watcher/cmd/api.py', 'watcher/api/scheduling.py', 'watcher/notifications/service.py', 'watcher/tests/api/base.py', 'watcher/tests/notifications/test_notification.py', 'doc/notification_samples/service-update.json'], 'web_link': 'https://opendev.org/openstack/watcher/commit/d2a845404351d14b0a05d76a741e9b19011f2b36', 'message': 'Versioned Notifications for service object\n\nImplements: blueprint service-versioned-notifications-api\n\nChange-Id: I9d601edb265ee230104f6c63a5f044869aeb3a02\n'}]",22,437333,d2a845404351d14b0a05d76a741e9b19011f2b36,41,6,10,21865,,,0,"Versioned Notifications for service object

Implements: blueprint service-versioned-notifications-api

Change-Id: I9d601edb265ee230104f6c63a5f044869aeb3a02
",git fetch https://review.opendev.org/openstack/watcher refs/changes/33/437333/7 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/api/controllers/v1/service.py', 'watcher/notifications/service.py']",2,44fabee19f2d230ebb8d475875f653e95e4d5f50,bp/services-versioned-notifications-api,"# -*- encoding: utf-8 -*- # Copyright (c) 2016 Servionica # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from watcher.notifications import base as notificationbase from watcher.objects import base from watcher.objects import fields as wfields @base.WatcherObjectRegistry.register_notification class ServicePayload(notificationbase.NotificationPayloadBase): SCHEMA = { 'host': ('service', 'host'), 'name': ('service', 'name'), 'status': ('service', 'status'), 'last_seen_up': ('service', 'last_seen_up'), } # Version 1.0: Initial version VERSION = '1.0' fields = { 'host': wfields.StringField(), 'name': wfields.StringField(), 'status': wfields.StringField(), 'last_seen_up': wfields.DateTimeField(), } def __init__(self, service): super(ServiceStatusPayload, self).__init__() self.populate_schema(service=service) def send_service_failed(context, service, service='infra-optim', host=None): """"""Emit an service failed notification."""""" notification.emit(context) ",,53,0
openstack%2Ffuel-devops~master~I64599de35cae3d2eab655d13dd6c49ed23536aa7,openstack/fuel-devops,master,I64599de35cae3d2eab655d13dd6c49ed23536aa7,"Remove py34 from unit tests, use sphinx 1.4.9 for docs",MERGED,2017-05-27 10:45:26.000000000,2017-05-27 12:16:37.000000000,2017-05-27 12:16:37.000000000,"[{'_account_id': 3}, {'_account_id': 11969}]","[{'number': 1, 'created': '2017-05-27 10:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-devops/commit/881c61f7bf7fcdcca47367ef391b0641d6072106', 'message': 'Remove py34 from unit tests, use py35 for docs\n\nChange-Id: I64599de35cae3d2eab655d13dd6c49ed23536aa7\n'}, {'number': 2, 'created': '2017-05-27 10:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-devops/commit/cef815aefe8a065427550709d07106313374c323', 'message': 'Remove py34 from unit tests, use py35 for docs\n\nChange-Id: I64599de35cae3d2eab655d13dd6c49ed23536aa7\n'}, {'number': 3, 'created': '2017-05-27 12:05:53.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/fuel-devops/commit/1e65c771a0de17daeb66cf8ef362acc03d11e6ff', 'message': 'Remove py34 from unit tests, use sphinx 1.4.9 for docs\n\nChange-Id: I64599de35cae3d2eab655d13dd6c49ed23536aa7\n'}]",0,468637,1e65c771a0de17daeb66cf8ef362acc03d11e6ff,10,2,3,11969,,,0,"Remove py34 from unit tests, use sphinx 1.4.9 for docs

Change-Id: I64599de35cae3d2eab655d13dd6c49ed23536aa7
",git fetch https://review.opendev.org/openstack/fuel-devops refs/changes/37/468637/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,881c61f7bf7fcdcca47367ef391b0641d6072106,,"envlist = pep8, py{27,35}, pylint, pylint-py{27,35}, cover, docs-py35[testenv:docs-py35]","envlist = pep8, py{27,34,35}, pylint, pylint-py{27,34,35}, cover, docs[testenv:pylint-py34] deps= -r{toxinidir}/test-requirements.txt pylint commands=pylint devops bin/dos.py [testenv:docs]",2,8
openstack%2Frally~master~I547c0ac2095c528300dff7ed25cdd03e0ee486b9,openstack/rally,master,I547c0ac2095c528300dff7ed25cdd03e0ee486b9,Allow CEPHFS as a valid share type in manila scenarios,MERGED,2017-05-26 13:08:32.000000000,2017-05-27 11:23:50.000000000,2017-05-27 11:23:50.000000000,"[{'_account_id': 3}, {'_account_id': 14817}, {'_account_id': 21528}, {'_account_id': 22960}]","[{'number': 1, 'created': '2017-05-26 13:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d3a0c32817bc4e97f890fcc1914333903dd60878', 'message': 'Allow CEPHFS as a valid share type in manila scenarios\n\nCEPHFS can be used in manila as a driver in Manila\nhttps://docs.openstack.org/developer/manila/devref/cephfs_driver.html\n\nChange-Id: I547c0ac2095c528300dff7ed25cdd03e0ee486b9\n'}, {'number': 2, 'created': '2017-05-26 13:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/40ae7380cf9994823d632163ca6347b195619cf3', 'message': 'Allow CEPHFS as a valid share type in manila scenarios\n\nCEPHFS can be used in manila as a driver\nhttps://docs.openstack.org/developer/manila/devref/cephfs_driver.html\n\nChange-Id: I547c0ac2095c528300dff7ed25cdd03e0ee486b9\n'}, {'number': 3, 'created': '2017-05-26 13:16:56.000000000', 'files': ['rally/plugins/openstack/scenarios/manila/utils.py', 'rally/task/validation.py', 'tests/unit/task/test_validation.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/30b4a796c2e22c59bbcaf303682f5c45e567caad', 'message': 'Allow CEPHFS as a valid share type in manila scenarios\n\nCEPHFS can be used in manila as a driver\nhttps://docs.openstack.org/developer/manila/devref/cephfs_driver.html\n\nChange-Id: I547c0ac2095c528300dff7ed25cdd03e0ee486b9\n'}]",0,468408,30b4a796c2e22c59bbcaf303682f5c45e567caad,12,4,3,25568,,,0,"Allow CEPHFS as a valid share type in manila scenarios

CEPHFS can be used in manila as a driver
https://docs.openstack.org/developer/manila/devref/cephfs_driver.html

Change-Id: I547c0ac2095c528300dff7ed25cdd03e0ee486b9
",git fetch https://review.opendev.org/openstack/rally refs/changes/08/468408/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/task/validation.py', 'tests/unit/task/test_validation.py']",2,d3a0c32817bc4e97f890fcc1914333903dd60878,cephfs_driver," @ddt.data(""nfS"", ""Cifs"", ""GLUSTERFS"", ""hdfs"", ""cephfs"")"," @ddt.data(""nfS"", ""Cifs"", ""GLUSTERFS"", ""hdfs"")",2,2
openstack%2Fdiskimage-builder~master~Ic5a61365ef0132476b11bdbf1dd96885e91c3cb6,openstack/diskimage-builder,master,Ic5a61365ef0132476b11bdbf1dd96885e91c3cb6,Use networkx for digraph,MERGED,2017-05-23 23:58:10.000000000,2017-05-27 11:16:04.000000000,2017-05-27 10:10:31.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 21741}]","[{'number': 1, 'created': '2017-05-23 23:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fdd934c53018b05ba91905130b134269c011d311', 'message': '[WIP] use networkx\n\nChange-Id: Ic5a61365ef0132476b11bdbf1dd96885e91c3cb6\n'}, {'number': 2, 'created': '2017-05-24 00:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f71da53ca76d216d11abbf29974a21fba9d70f00', 'message': '[WIP] use networkx\n\nChange-Id: Ic5a61365ef0132476b11bdbf1dd96885e91c3cb6\n'}, {'number': 3, 'created': '2017-05-24 00:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a69d4425962cf1dbb2bbf0d695967b7b26f1662c', 'message': '[WIP] use networkx\n\nChange-Id: Ic5a61365ef0132476b11bdbf1dd96885e91c3cb6\n'}, {'number': 4, 'created': '2017-05-24 04:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/df00f2cd8f366d5aac34f8399c0db108434b2e84', 'message': 'Use networkx for digraph\n\nThis switches the code to use networkx for the digraph implementation.\n\nNote that the old implementation specifically isn\'t removed in this\nchange -- for review clarity.  It will be replaced by a base class\nthat defines things properly to the API described below.\n\nPlugins return a node object with three functions\n\n get_name() : return the unique name of this node\n\n get_nodes() : return a list of nodes for insertion into the graph.\n  Usually this is just ""self"".  Some special things like partitioning\n  add extra nodes at this point, however.\n\n get_edges() : return a tuple of two lists; edges_from and edges_to\n  As you would expect the first is a list of node names that points to\n  us, and the second is a list of node names we point to.  Usually\n  this is only populated as ([self.base],[]) -- i.e. our ""base"" node\n  points to us.  Some plugins, such as mounting, create links both to\n  and from themselves, however.\n\nPlugins have been updated, some test cases added (error cases\nspecifically)\n\nChange-Id: Ic5a61365ef0132476b11bdbf1dd96885e91c3cb6\n'}, {'number': 5, 'created': '2017-05-25 05:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7bd4733f87dbb74efd9661c7ce6ff9f8afd22c34', 'message': 'Use networkx for digraph\n\nThis switches the code to use networkx for the digraph implementation.\n\nNote that the old implementation specifically isn\'t removed in this\nchange -- for review clarity.  It will be replaced by a base class\nthat defines things properly to the API described below.\n\nPlugins return a node object with three functions\n\n get_name() : return the unique name of this node\n\n get_nodes() : return a list of nodes for insertion into the graph.\n  Usually this is just ""self"".  Some special things like partitioning\n  add extra nodes at this point, however.\n\n get_edges() : return a tuple of two lists; edges_from and edges_to\n  As you would expect the first is a list of node names that points to\n  us, and the second is a list of node names we point to.  Usually\n  this is only populated as ([self.base],[]) -- i.e. our ""base"" node\n  points to us.  Some plugins, such as mounting, create links both to\n  and from themselves, however.\n\nPlugins have been updated, some test cases added (error cases\nspecifically)\n\nChange-Id: Ic5a61365ef0132476b11bdbf1dd96885e91c3cb6\n'}, {'number': 6, 'created': '2017-05-25 10:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/984f922bf882b10977e31b6c01ca92ee9e4b862a', 'message': 'Use networkx for digraph\n\nThis switches the code to use networkx for the digraph implementation.\n\nNote that the old implementation specifically isn\'t removed in this\nchange -- for review clarity.  It will be replaced by a base class\nthat defines things properly to the API described below.\n\nPlugins return a node object with three functions\n\n get_name() : return the unique name of this node\n\n get_nodes() : return a list of nodes for insertion into the graph.\n  Usually this is just ""self"".  Some special things like partitioning\n  add extra nodes at this point, however.\n\n get_edges() : return a tuple of two lists; edges_from and edges_to\n  As you would expect the first is a list of node names that points to\n  us, and the second is a list of node names we point to.  Usually\n  this is only populated as ([self.base],[]) -- i.e. our ""base"" node\n  points to us.  Some plugins, such as mounting, create links both to\n  and from themselves, however.\n\nPlugins have been updated, some test cases added (error cases\nspecifically)\n\nChange-Id: Ic5a61365ef0132476b11bdbf1dd96885e91c3cb6\n'}, {'number': 7, 'created': '2017-05-26 00:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6bc1ea27e2d89d80db95d02667c314bc8e91e9a7', 'message': 'Use networkx for digraph\n\nThis switches the code to use networkx for the digraph implementation.\n\nNote that the old implementation specifically isn\'t removed in this\nchange -- for review clarity.  It will be replaced by a base class\nthat defines things properly to the API described below.\n\nPlugins return a node object with three functions\n\n get_name() : return the unique name of this node\n\n get_nodes() : return a list of nodes for insertion into the graph.\n  Usually this is just ""self"".  Some special things like partitioning\n  add extra nodes at this point, however.\n\n get_edges() : return a tuple of two lists; edges_from and edges_to\n  As you would expect the first is a list of node names that points to\n  us, and the second is a list of node names we point to.  Usually\n  this is only populated as ([self.base],[]) -- i.e. our ""base"" node\n  points to us.  Some plugins, such as mounting, create links both to\n  and from themselves, however.\n\nPlugins have been updated, some test cases added (error cases\nspecifically)\n\nChange-Id: Ic5a61365ef0132476b11bdbf1dd96885e91c3cb6\n'}, {'number': 8, 'created': '2017-05-26 01:49:33.000000000', 'files': ['diskimage_builder/block_device/tests/test_config.py', 'diskimage_builder/block_device/tests/config/bad_edge_graph.yaml', 'diskimage_builder/block_device/tests/config/simple_tree.yaml', 'diskimage_builder/block_device/tests/config/multi_key_node.yaml', 'diskimage_builder/block_device/level3/mount.py', 'diskimage_builder/block_device/tests/config/simple_graph.yaml', 'requirements.txt', 'diskimage_builder/block_device/level0/localloop.py', 'diskimage_builder/block_device/level2/mkfs.py', 'diskimage_builder/block_device/level1/partition.py', 'diskimage_builder/block_device/tests/config/duplicate_name.yaml', 'diskimage_builder/block_device/level4/fstab.py', 'diskimage_builder/block_device/blockdevice.py', 'diskimage_builder/block_device/level1/partitioning.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/75817ef205a3dfc8bce461fa1e015106a38d10be', 'message': 'Use networkx for digraph\n\nThis switches the code to use networkx for the digraph implementation.\n\nNote that the old implementation specifically isn\'t removed in this\nchange -- for review clarity.  It will be replaced by a base class\nthat defines things properly to the API described below.\n\nPlugins return a node object with three functions\n\n get_name() : return the unique name of this node\n\n get_nodes() : return a list of nodes for insertion into the graph.\n  Usually this is just ""self"".  Some special things like partitioning\n  add extra nodes at this point, however.\n\n get_edges() : return a tuple of two lists; edges_from and edges_to\n  As you would expect the first is a list of node names that points to\n  us, and the second is a list of node names we point to.  Usually\n  this is only populated as ([self.base],[]) -- i.e. our ""base"" node\n  points to us.  Some plugins, such as mounting, create links both to\n  and from themselves, however.\n\nPlugins have been updated, some test cases added (error cases\nspecifically)\n\nChange-Id: Ic5a61365ef0132476b11bdbf1dd96885e91c3cb6\n'}]",21,467419,75817ef205a3dfc8bce461fa1e015106a38d10be,52,5,8,7118,,,0,"Use networkx for digraph

This switches the code to use networkx for the digraph implementation.

Note that the old implementation specifically isn't removed in this
change -- for review clarity.  It will be replaced by a base class
that defines things properly to the API described below.

Plugins return a node object with three functions

 get_name() : return the unique name of this node

 get_nodes() : return a list of nodes for insertion into the graph.
  Usually this is just ""self"".  Some special things like partitioning
  add extra nodes at this point, however.

 get_edges() : return a tuple of two lists; edges_from and edges_to
  As you would expect the first is a list of node names that points to
  us, and the second is a list of node names we point to.  Usually
  this is only populated as ([self.base],[]) -- i.e. our ""base"" node
  points to us.  Some plugins, such as mounting, create links both to
  and from themselves, however.

Plugins have been updated, some test cases added (error cases
specifically)

Change-Id: Ic5a61365ef0132476b11bdbf1dd96885e91c3cb6
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/19/467419/8 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/block_device/level3/mount.py', 'requirements.txt', 'diskimage_builder/block_device/tests/test_config.py', 'diskimage_builder/block_device/level0/localloop.py', 'diskimage_builder/block_device/level2/mkfs.py', 'diskimage_builder/block_device/level1/partition.py', 'diskimage_builder/block_device/level4/fstab.py', 'diskimage_builder/block_device/tests/test_mount_order.py', 'diskimage_builder/block_device/blockdevice.py', 'diskimage_builder/block_device/level1/partitioning.py']",10,fdd934c53018b05ba91905130b134269c011d311,unit_testing, def get_nodes(self): # We just add partitions return self.partitions," def insert_nodes(self, dg): for part in self.partitions: logger.debug(""Insert node [%s]"" % part) dg.add_node(part)",91,78
openstack%2Fcookiecutter~master~I8ae07c2b01a41938e12a7610e8d4b61bff0965f2,openstack/cookiecutter,master,I8ae07c2b01a41938e12a7610e8d4b61bff0965f2,Only testr allows parameter --slowest,ABANDONED,2017-05-23 07:13:11.000000000,2017-05-27 10:52:59.000000000,,"[{'_account_id': 3}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-05-23 07:13:11.000000000', 'files': ['{{cookiecutter.repo_name}}/tox.ini'], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/64e9dd86f3e5b25cdb3a29f1eba6364f33b44d8e', 'message': 'Only testr allows parameter --slowest\n\nparameter slowest is one prameter of testr.\n\nChange-Id: I8ae07c2b01a41938e12a7610e8d4b61bff0965f2\n'}]",0,467042,64e9dd86f3e5b25cdb3a29f1eba6364f33b44d8e,4,2,1,9796,,,0,"Only testr allows parameter --slowest

parameter slowest is one prameter of testr.

Change-Id: I8ae07c2b01a41938e12a7610e8d4b61bff0965f2
",git fetch https://review.opendev.org/openstack/cookiecutter refs/changes/42/467042/1 && git format-patch -1 --stdout FETCH_HEAD,['{{cookiecutter.repo_name}}/tox.ini'],1,64e9dd86f3e5b25cdb3a29f1eba6364f33b44d8e,add_test_config,commands = python setup.py testr --slowest --testr-args='{posargs}',commands = python setup.py test --slowest --testr-args='{posargs}',1,1
openstack%2Foslo.i18n~stable%2Focata~I1211870d4240c8c6fad89194fd64fda62005b959,openstack/oslo.i18n,stable/ocata,I1211870d4240c8c6fad89194fd64fda62005b959,Updated from global requirements,ABANDONED,2017-03-09 18:21:47.000000000,2017-05-27 10:23:33.000000000,,"[{'_account_id': 3}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-03-09 18:21:47.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/b125e296fbfcf114c0171930c9ae4e263bb081b8', 'message': 'Updated from global requirements\n\nChange-Id: I1211870d4240c8c6fad89194fd64fda62005b959\n'}]",0,443861,b125e296fbfcf114c0171930c9ae4e263bb081b8,11,2,1,11131,,,0,"Updated from global requirements

Change-Id: I1211870d4240c8c6fad89194fd64fda62005b959
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/61/443861/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b125e296fbfcf114c0171930c9ae4e263bb081b8,openstack/requirements,"pbr<2.0.0,>=1.8 # Apache-2.0",pbr>=1.8 # Apache-2.0,1,1
openstack%2Fdiskimage-builder~master~I98512f6cf42e256d2ea8225a0b496d303bf357b8,openstack/diskimage-builder,master,I98512f6cf42e256d2ea8225a0b496d303bf357b8,Move create_graph into config.py,MERGED,2017-05-26 00:41:32.000000000,2017-05-27 10:22:08.000000000,2017-05-27 10:22:08.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 10118}, {'_account_id': 21741}]","[{'number': 1, 'created': '2017-05-26 00:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2675cc620382191a91e235e8e6ec0c6ee625ac52', 'message': ""Move create_graph into config.py\n\nThis was suggested in a review comment in\nI8a5d62a076a5a50597f2f1df3a8615afba6dadb2.  It works out quite nicely\nbecause the BlockDevice() driver now doesn't need to know anything\nabout stevedore or plugins, and just works on the node list.  It also\nsimplifies the unit testing by not having to call create_graph through\na BlockDevice object.\n\nChange-Id: I98512f6cf42e256d2ea8225a0b496d303bf357b8\n""}, {'number': 2, 'created': '2017-05-26 01:49:33.000000000', 'files': ['diskimage_builder/block_device/config.py', 'diskimage_builder/block_device/tests/test_config.py', 'diskimage_builder/block_device/tests/test_mount_order.py', 'diskimage_builder/block_device/blockdevice.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3fdd9df983dbd23000007c457f50d125166708f9', 'message': ""Move create_graph into config.py\n\nThis was suggested in a review comment in\nI8a5d62a076a5a50597f2f1df3a8615afba6dadb2.  It works out quite nicely\nbecause the BlockDevice() driver now doesn't need to know anything\nabout stevedore or plugins, and just works on the node list.  It also\nsimplifies the unit testing by not having to call create_graph through\na BlockDevice object.\n\nChange-Id: I98512f6cf42e256d2ea8225a0b496d303bf357b8\n""}]",0,468224,3fdd9df983dbd23000007c457f50d125166708f9,21,4,2,7118,,,0,"Move create_graph into config.py

This was suggested in a review comment in
I8a5d62a076a5a50597f2f1df3a8615afba6dadb2.  It works out quite nicely
because the BlockDevice() driver now doesn't need to know anything
about stevedore or plugins, and just works on the node list.  It also
simplifies the unit testing by not having to call create_graph through
a BlockDevice object.

Change-Id: I98512f6cf42e256d2ea8225a0b496d303bf357b8
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/24/468224/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/block_device/config.py', 'diskimage_builder/block_device/tests/test_config.py', 'diskimage_builder/block_device/tests/test_mount_order.py', 'diskimage_builder/block_device/blockdevice.py']",4,2675cc620382191a91e235e8e6ec0c6ee625ac52,unit_testing,"from diskimage_builder.block_device.config import config_tree_to_graph from diskimage_builder.block_device.config import create_graph def create(self, result, rollback): dg, call_order = create_graph(self.config, self.params) dg, call_order = create_graph(self.config, self.params) dg, call_order = create_graph(self.config, self.params) dg, call_order = create_graph(self.config, self.params)","import networkx as nx from stevedore import extension from diskimage_builder.block_device.config import \ config_tree_to_graph from diskimage_builder.block_device.exception import \ BlockDeviceSetupException from diskimage_builder.block_device.plugin import NodeBase from diskimage_builder.block_device.plugin import PluginBase self.plugin_manager = extension.ExtensionManager( namespace='diskimage_builder.block_device.plugin', invoke_on_load=False) def create_graph(self, config, default_config): """"""Generate configuration digraph Generate the configuration digraph from the config :param config: graph configuration file :param default_config: default parameters (from --params) :return: tuple with the graph object, nodes in call order """""" # This is the directed graph of nodes: each parse method must # add the appropriate nodes and edges. dg = nx.DiGraph() for config_entry in config: # this should have been checked by generate_config assert len(config_entry) == 1 logger.debug(""Config entry [%s]"" % config_entry) cfg_obj_name = list(config_entry.keys())[0] cfg_obj_val = config_entry[cfg_obj_name] # Instantiate a ""plugin"" object, passing it the # configuration entry # XXX : would a ""factory"" pattern for plugins, where we # make a method call on an object stevedore has instantiated # be better here? if cfg_obj_name not in self.plugin_manager: raise BlockDeviceSetupException( (""Config element [%s] is not implemented"" % cfg_obj_name)) plugin = self.plugin_manager[cfg_obj_name].plugin assert issubclass(plugin, PluginBase) cfg_obj = plugin(cfg_obj_val, default_config) # Ask the plugin for the nodes it would like to insert # into the graph. Some plugins, such as partitioning, # return multiple nodes from one config entry. nodes = cfg_obj.get_nodes() assert isinstance(nodes, list) for node in nodes: # plugins should return nodes... assert isinstance(node, NodeBase) # ensure node names are unique. networkx by default # just appends the attribute to the node dict for # existing nodes, which is not what we want. if node.name in dg.node: raise BlockDeviceSetupException( ""Duplicate node name: %s"" % (node.name)) logger.debug(""Adding %s : %s"", node.name, node) dg.add_node(node.name, obj=node) # Now find edges for name, attr in dg.nodes(data=True): obj = attr['obj'] # Unfortunately, we can not determine node edges just from # the configuration file. It's not always simply the # ""base:"" pointer. So ask nodes for a list of nodes they # want to point to. *mostly* it's just base: ... but # mounting is different. # edges_from are the nodes that point to us # edges_to are the nodes we point to edges_from, edges_to = obj.get_edges() logger.debug(""Edges for %s: f:%s t:%s"", name, edges_from, edges_to) for edge_from in edges_from: if edge_from not in dg.node: raise BlockDeviceSetupException( ""Edge not defined: %s->%s"" % (edge_from, name)) dg.add_edge(edge_from, name) for edge_to in edges_to: if edge_to not in dg.node: raise BlockDeviceSetupException( ""Edge not defined: %s->%s"" % (name, edge_to)) dg.add_edge(name, edge_to) # this can be quite helpful debugging but needs pydotplus. # run ""dotty /tmp/out.dot"" # XXX: maybe an env var that dumps to a tmpdir or something? # nx.nx_pydot.write_dot(dg, '/tmp/graph_dump.dot') # Topological sort (i.e. create a linear array that satisfies # dependencies) and return the object list call_order_nodes = nx.topological_sort(dg) logger.debug(""Call order: %s"", list(call_order_nodes)) call_order = [dg.node[n]['obj'] for n in call_order_nodes] return dg, call_order def create(self, result, rollback): dg, call_order = self.create_graph(self.config, self.params) dg, call_order = self.create_graph(self.config, self.params) dg, call_order = self.create_graph(self.config, self.params) dg, call_order = self.create_graph(self.config, self.params)",106,118
openstack%2Fdiskimage-builder~master~Ie648e9224749491260dea65d7e8b8151a6824b9c,openstack/diskimage-builder,master,Ie648e9224749491260dea65d7e8b8151a6824b9c,Create and use plugin/node abstract classes,MERGED,2017-05-25 02:32:00.000000000,2017-05-27 10:22:01.000000000,2017-05-27 10:22:01.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 21741}]","[{'number': 1, 'created': '2017-05-25 02:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2ec52df2e00e0eddf03436610d3b6ab979c5e1ec', 'message': 'Create and use plugin/node abstract classes\n\n...\n\nChange-Id: Ie648e9224749491260dea65d7e8b8151a6824b9c\n'}, {'number': 2, 'created': '2017-05-25 05:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/46d40e59fa0a4944d5b497a7d8f801bd7d059f87', 'message': 'Create and use plugin/node abstract classes\n\nThis completes the transitions started in\nIc5a61365ef0132476b11bdbf1dd96885e91c3cb6\n\nThe new file plugin.py is the place to start with this change.  The\nabstract base classes PluginBase and NodeBase are heavily documented.\nNodeBase essentially replaces Digraph.Node\n\nThe changes in level?/*.py make no functional changes, but are just\nrefactoring to implement the plugin and node classes consistently.\nAdditionally we have added asserts during parsing & generation to\nensure plugins are implemented PluginBase, and get_nodes() is always\nreturning NodeBase objects for the graph.\n\nChange-Id: Ie648e9224749491260dea65d7e8b8151a6824b9c\n'}, {'number': 3, 'created': '2017-05-25 10:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f7f15e29a47478f6420cec85f0589ce8c8a2c38a', 'message': 'Create and use plugin/node abstract classes\n\nThis completes the transitions started in\nIc5a61365ef0132476b11bdbf1dd96885e91c3cb6\n\nThe new file plugin.py is the place to start with this change.  The\nabstract base classes PluginBase and NodeBase are heavily documented.\nNodeBase essentially replaces Digraph.Node\n\nThe changes in level?/*.py make no functional changes, but are just\nrefactoring to implement the plugin and node classes consistently.\nAdditionally we have added asserts during parsing & generation to\nensure plugins are implemented PluginBase, and get_nodes() is always\nreturning NodeBase objects for the graph.\n\nChange-Id: Ie648e9224749491260dea65d7e8b8151a6824b9c\n'}, {'number': 4, 'created': '2017-05-26 01:49:33.000000000', 'files': ['diskimage_builder/tests/functional/test_graph.py', 'diskimage_builder/block_device/level4/__init__.py', 'diskimage_builder/block_device/tests/test_mount_order.py', 'diskimage_builder/block_device/plugin.py', 'diskimage_builder/block_device/level0/__init__.py', 'diskimage_builder/block_device/level3/mount.py', 'diskimage_builder/graph/digraph.py', 'diskimage_builder/block_device/level2/__init__.py', 'diskimage_builder/block_device/level0/localloop.py', 'diskimage_builder/tests/functional/test_blockdevice_mbr.py', 'diskimage_builder/block_device/level3/__init__.py', 'diskimage_builder/graph/__init__.py', 'diskimage_builder/tests/functional/test_graph_toposort.py', 'diskimage_builder/block_device/level2/mkfs.py', 'diskimage_builder/block_device/level1/partition.py', 'diskimage_builder/block_device/level1/__init__.py', 'diskimage_builder/block_device/level4/fstab.py', 'diskimage_builder/block_device/blockdevice.py', 'diskimage_builder/block_device/level1/partitioning.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/deb832d685e1193e977b4385810abc6d48e011fd', 'message': 'Create and use plugin/node abstract classes\n\nThis completes the transitions started in\nIc5a61365ef0132476b11bdbf1dd96885e91c3cb6\n\nThe new file plugin.py is the place to start with this change.  The\nabstract base classes PluginBase and NodeBase are heavily documented.\nNodeBase essentially replaces Digraph.Node\n\nThe changes in level?/*.py make no functional changes, but are just\nrefactoring to implement the plugin and node classes consistently.\nAdditionally we have added asserts during parsing & generation to\nensure plugins are implemented PluginBase, and get_nodes() is always\nreturning NodeBase objects for the graph.\n\nChange-Id: Ie648e9224749491260dea65d7e8b8151a6824b9c\n'}]",8,467826,deb832d685e1193e977b4385810abc6d48e011fd,30,5,4,7118,,,0,"Create and use plugin/node abstract classes

This completes the transitions started in
Ic5a61365ef0132476b11bdbf1dd96885e91c3cb6

The new file plugin.py is the place to start with this change.  The
abstract base classes PluginBase and NodeBase are heavily documented.
NodeBase essentially replaces Digraph.Node

The changes in level?/*.py make no functional changes, but are just
refactoring to implement the plugin and node classes consistently.
Additionally we have added asserts during parsing & generation to
ensure plugins are implemented PluginBase, and get_nodes() is always
returning NodeBase objects for the graph.

Change-Id: Ie648e9224749491260dea65d7e8b8151a6824b9c
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/26/467826/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/tests/functional/test_graph.py', 'diskimage_builder/block_device/level4/__init__.py', 'doc/source/conf.py', 'diskimage_builder/block_device/level1/mbr.py', 'diskimage_builder/block_device/tests/test_mount_order.py', 'diskimage_builder/block_device/plugin.py', 'diskimage_builder/block_device/level0/__init__.py', 'diskimage_builder/block_device/level3/mount.py', 'diskimage_builder/graph/digraph.py', 'doc/source/index.rst', 'diskimage_builder/block_device/level2/__init__.py', 'diskimage_builder/block_device/level0/localloop.py', 'diskimage_builder/tests/functional/test_blockdevice_mbr.py', 'diskimage_builder/block_device/level3/__init__.py', 'diskimage_builder/graph/__init__.py', 'diskimage_builder/tests/functional/test_graph_toposort.py', 'diskimage_builder/block_device/level2/mkfs.py', 'setup.cfg', 'diskimage_builder/block_device/level1/partition.py', 'diskimage_builder/block_device/level1/__init__.py', 'diskimage_builder/block_device/level4/fstab.py', 'diskimage_builder/block_device/blockdevice.py', 'diskimage_builder/block_device/level1/partitioning.py']",23,2ec52df2e00e0eddf03436610d3b6ab979c5e1ec,unit_testing," PartitionNode from diskimage_builder.block_device.plugin import PluginBaseclass Partitioning(PluginBase): super(Partitioning, self).__init__() np = PartitionNode(part_cfg, self, prev_partition) def get_nodes(self): # return the list of partitions return self.partitions # not this is NOT a node and this is not called directly! The # create() calls in the partition nodes this plugin has # created are calling back into this. # This is a bit of a hack. Each of the partitions is actually # in the graph, so for every partition we get a create() call # as the walk happens. But we only need to create the # partition table once... part_bootflag = PartitionNode.flag_boot \ part_primary = PartitionNode.flag_primary \"," Partitionfrom diskimage_builder.graph.digraph import Digraphclass Partitioning(Digraph.Node): np = Partition(part_cfg, self, prev_partition) def get_nodes(self): # We just add partitions return self.partitions part_bootflag = Partition.flag_boot \ part_primary = Partition.flag_primary \",270,707
openstack%2Ftricircle~master~I6ba8e1022d83f40df36464abfdd7b4844673b24d,openstack/tricircle,master,I6ba8e1022d83f40df36464abfdd7b4844673b24d,Work with cell v2,MERGED,2017-05-24 09:09:10.000000000,2017-05-27 09:28:40.000000000,2017-05-27 09:28:40.000000000,"[{'_account_id': 3}, {'_account_id': 11819}, {'_account_id': 12076}]","[{'number': 1, 'created': '2017-05-24 09:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/3053c31379bba778a3e25c6a6f4033edb7737d73', 'message': '[WIP] Work with cell v2\n\n1. What is the problem\nWe try to figure out a way to integrate Tricircle with Nova cell v2.\n\n2. What is the solution for the problem\nThe basic idea is to start a local Neutron server for each cell. Nova-\ncompute in each cell is configured to talk to local Neutron server in\nthe same cell. All local Neutron servers are configured to talk to the\nvery one Nova-API.\n\nCurrently DevStack doesn\'t support multi-cell deployment, so we try to\ndeploy it with our own plugin. In node1, Nova services are started as\nbefore, but we change the region of Nova-API, Glance-API and placement-API\nfrom RegionOne to CentralRegion. Local Neutron server is also configured\nto talk to Nova-API in CentralRegion. In node2, Nova-API is enabled at\nfirst, since we need DevStack to help us create the related database.\nAfter the DevStack start in the node2, we manually stop Nova-API and\nNova-scheduler in node2.\n\nBefore we can register node2 as cell2, we need to update compute_nodes\ntable in node2 to set node2 as unmapped:\n\nupdate compute_nodes set mapped = 0 where host = ""$node2-name""\'\n\nThen we can use nova-manage to register cell2.\n\nnova-manage cell_v2 create_cell --name cell2 --transport-url xxx\n    --database_connection xxx\nnova-manage cell_v2 discover_hosts\n\nIf Nova services in cell2 cannot be retrieved via ""openstack compute\nservice list"" after the above steps, try restarting Nova-API.\n\nOne strange observation is that Nova-compute may not send PUT request\nto placement-API so Nova-scheduler will not recognize that host, need\nto restart Nova-compute.\n\n3. What features need to be implemented to the Tricircle to\nrealize the solution\nTricircle can work with Nova cell v2.\n\nChange-Id: I6ba8e1022d83f40df36464abfdd7b4844673b24d\n'}, {'number': 2, 'created': '2017-05-27 07:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/7a8c4bbda38360c680a1f90a4f7f32ba73b34f19', 'message': ""[WIP] Work with cell v2\n\n1. What is the problem\nWe try to figure out a way to integrate Tricircle with Nova cell v2.\n\n2. What is the solution for the problem\nThe basic idea is to start a local Neutron server for each cell. Nova-\ncompute in each cell is configured to talk to local Neutron server in\nthe same cell. All local Neutron servers are configured to talk to the\nvery one Nova-API.\n\nCurrently DevStack doesn't support multi-cell deployment, so we try to\ndeploy it with our own plugin. In node1, Nova services are started as\nbefore, but we change the region of Nova-API, Glance-API and placement-API\nfrom RegionOne to CentralRegion. Local Neutron server is also configured\nto talk to Nova-API in CentralRegion. In node2, Nova-API is enabled at\nfirst, since we need DevStack to help us create the related database.\nAfter the DevStack start in the node2, we manually stop Nova-API and\nNova-scheduler in node2.\n\nOne document discussing the detailed setup and trouble shooting steps\nis added.\n\n3. What features need to be implemented to the Tricircle to\nrealize the solution\nTricircle can work with Nova cell v2.\n\nChange-Id: I6ba8e1022d83f40df36464abfdd7b4844673b24d\n""}, {'number': 3, 'created': '2017-05-27 08:43:47.000000000', 'files': ['devstack/local.conf.node_1.sample', 'devstack/local.conf.node_2.sample', 'doc/source/installation-cell.rst', 'doc/source/installation-guide.rst', 'tricircle/network/local_plugin.py', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/6f9928bf8dae6f92ba3dfcc5f98ba913e4e8e164', 'message': ""Work with cell v2\n\n1. What is the problem\nWe try to figure out a way to integrate Tricircle with Nova cell v2.\n\n2. What is the solution for the problem\nThe basic idea is to start a local Neutron server for each cell. Nova-\ncompute in each cell is configured to talk to local Neutron server in\nthe same cell. All local Neutron servers are configured to talk to the\nvery one Nova-API.\n\nCurrently DevStack doesn't support multi-cell deployment, so we try to\ndeploy it with our own plugin. In node1, Nova services are started as\nbefore, but we change the region of Nova-API, Glance-API and placement-API\nfrom RegionOne to CentralRegion. Local Neutron server is also configured\nto talk to Nova-API in CentralRegion. In node2, Nova-API is enabled at\nfirst, since we need DevStack to help us create the related database.\nAfter the DevStack start in the node2, we manually stop Nova-API and\nNova-scheduler in node2.\n\nOne document discussing the detailed setup and trouble shooting steps\nis added.\n\n3. What features need to be implemented to the Tricircle to\nrealize the solution\nTricircle can work with Nova cell v2.\n\nChange-Id: I6ba8e1022d83f40df36464abfdd7b4844673b24d\n""}]",6,467540,6f9928bf8dae6f92ba3dfcc5f98ba913e4e8e164,14,3,3,12076,,,0,"Work with cell v2

1. What is the problem
We try to figure out a way to integrate Tricircle with Nova cell v2.

2. What is the solution for the problem
The basic idea is to start a local Neutron server for each cell. Nova-
compute in each cell is configured to talk to local Neutron server in
the same cell. All local Neutron servers are configured to talk to the
very one Nova-API.

Currently DevStack doesn't support multi-cell deployment, so we try to
deploy it with our own plugin. In node1, Nova services are started as
before, but we change the region of Nova-API, Glance-API and placement-API
from RegionOne to CentralRegion. Local Neutron server is also configured
to talk to Nova-API in CentralRegion. In node2, Nova-API is enabled at
first, since we need DevStack to help us create the related database.
After the DevStack start in the node2, we manually stop Nova-API and
Nova-scheduler in node2.

One document discussing the detailed setup and trouble shooting steps
is added.

3. What features need to be implemented to the Tricircle to
realize the solution
Tricircle can work with Nova cell v2.

Change-Id: I6ba8e1022d83f40df36464abfdd7b4844673b24d
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/40/467540/3 && git format-patch -1 --stdout FETCH_HEAD,"['tricircle/network/local_plugin.py', 'devstack/plugin.sh', 'devstack/settings']",3,3053c31379bba778a3e25c6a6f4033edb7737d73,cellv2-script,TRICIRCLE_DEPLOY_WITH_CELL=${TRICIRCLE_DEPLOY_WITH_CELL:-False},,62,3
openstack%2Fhorizon~master~Iac82140d5cc33bf2d50d2ae3980ce57e4ab536d4,openstack/horizon,master,Iac82140d5cc33bf2d50d2ae3980ce57e4ab536d4,Updated from global requirements,MERGED,2017-05-26 17:19:43.000000000,2017-05-27 08:47:58.000000000,2017-05-27 08:47:58.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 16237}]","[{'number': 1, 'created': '2017-05-26 17:19:43.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a97292543a8fcfd8b3914420fe6091e702898868', 'message': 'Updated from global requirements\n\nChange-Id: Iac82140d5cc33bf2d50d2ae3980ce57e4ab536d4\n'}]",0,468482,a97292543a8fcfd8b3914420fe6091e702898868,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: Iac82140d5cc33bf2d50d2ae3980ce57e4ab536d4
",git fetch https://review.opendev.org/openstack/horizon refs/changes/82/468482/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,a97292543a8fcfd8b3914420fe6091e702898868,openstack/requirements,python-cinderclient>=2.1.0 # Apache-2.0,python-cinderclient>=2.0.1 # Apache-2.0,1,1
openstack%2Ftripleo-heat-templates~stable%2Fnewton~Iff4b2afd1a91a7b1d7af0086a7ecf32510d49bd0,openstack/tripleo-heat-templates,stable/newton,Iff4b2afd1a91a7b1d7af0086a7ecf32510d49bd0,[newton-only)] Force EnablePackageInstall to true on multinode jobs,ABANDONED,2017-05-26 14:42:38.000000000,2017-05-27 08:34:47.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 7144}]","[{'number': 1, 'created': '2017-05-26 14:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e4deda77bd80cebe410b9f41321529b0c88eadd7', 'message': '[newton-only)] Force EnablePackageInstall to true on multinode jobs\n\nA recent change in tripleo CI broke the upgrade jobs from Newton to\nOcata:\nhttps://github.com/openstack-infra/tripleo-ci/commit/36f86a2c98704413a7f12488b3d8e8d1aa06a6fb\n\nThis patch is a simple way to enforce EnablePackageInstall: true for\nmultinode jobs deployed on stable/newton, so we can ensure all packages\nare deployed on multinode & scenarios jobs.\n\nChange-Id: Iff4b2afd1a91a7b1d7af0086a7ecf32510d49bd0\n'}, {'number': 2, 'created': '2017-05-26 18:08:07.000000000', 'files': ['ci/environments/scenario004-multinode.yaml', 'ci/environments/scenario001-multinode.yaml', 'ci/environments/scenario002-multinode.yaml', 'ci/environments/scenario003-multinode.yaml', 'ci/environments/multinode.yaml', 'ci/environments/multinode_major_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/548e53fbcd3329194e9a9b07a10f6a7194ab3a10', 'message': '[newton-only)] Force EnablePackageInstall to true on multinode jobs\n\nA recent change in tripleo CI broke the upgrade jobs from Newton to\nOcata:\nhttps://github.com/openstack-infra/tripleo-ci/commit/36f86a2c98704413a7f12488b3d8e8d1aa06a6fb\n\nThis patch is a simple way to enforce EnablePackageInstall: true for\nmultinode jobs deployed on stable/newton, so we can ensure all packages\nare deployed on multinode & scenarios jobs.\n\nChange-Id: Iff4b2afd1a91a7b1d7af0086a7ecf32510d49bd0\n'}]",0,468439,548e53fbcd3329194e9a9b07a10f6a7194ab3a10,18,4,2,3153,,,0,"[newton-only)] Force EnablePackageInstall to true on multinode jobs

A recent change in tripleo CI broke the upgrade jobs from Newton to
Ocata:
https://github.com/openstack-infra/tripleo-ci/commit/36f86a2c98704413a7f12488b3d8e8d1aa06a6fb

This patch is a simple way to enforce EnablePackageInstall: true for
multinode jobs deployed on stable/newton, so we can ensure all packages
are deployed on multinode & scenarios jobs.

Change-Id: Iff4b2afd1a91a7b1d7af0086a7ecf32510d49bd0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/468439/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/deployed-server-environment.yaml'],1,e4deda77bd80cebe410b9f41321529b0c88eadd7,newton/upgrade, parameter_defaults: EnablePackageInstall: true,,3,0
openstack%2Ftraining-labs~master~Id240e32205f6785bdb0e38be29241203469b5efb,openstack/training-labs,master,Id240e32205f6785bdb0e38be29241203469b5efb,Implement base_disk_delete for KVM (st.py only),MERGED,2017-05-02 18:38:19.000000000,2017-05-27 08:29:45.000000000,2017-05-27 08:29:45.000000000,"[{'_account_id': 3}, {'_account_id': 7007}, {'_account_id': 11109}]","[{'number': 1, 'created': '2017-05-02 18:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-labs/commit/383506526331da0b2a83277238f7f248747af417', 'message': 'Implement base_disk_delete for KVM (st.py only)\n\nWith KVM, nodes that use an existing basedisk as a backing volume\nprevent a basedisk rebuild (virsh complains that the disk ""is already\nin use by other guests"").\n\nThis changeset implements base_disk_delete for KVM (which already\nexists for VirtualBox). It destroys all VMs that have the basedisk\nas a backing volume before deleting the basedisk.\n\nNote: this changeset is only for st.py, osbash behavior is unchanged.\n\nChange-Id: Id240e32205f6785bdb0e38be29241203469b5efb\n'}, {'number': 2, 'created': '2017-05-04 15:12:45.000000000', 'files': ['labs/stacktrain/kvm/install_base.py'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/9b9520b37505a7fe3d67b4af530b6e529281acd5', 'message': 'Implement base_disk_delete for KVM (st.py only)\n\nWith KVM, nodes that use an existing basedisk as a backing volume\nprevent a basedisk rebuild (virsh complains that the disk ""is already\nin use by other guests"").\n\nThis changeset implements base_disk_delete for KVM (which already\nexists for VirtualBox). It destroys all VMs that have the basedisk\nas a backing volume before deleting the basedisk.\n\nNote: this changeset is only for st.py, osbash behavior is unchanged.\n\nChange-Id: Id240e32205f6785bdb0e38be29241203469b5efb\n'}]",0,461873,9b9520b37505a7fe3d67b4af530b6e529281acd5,15,3,2,11109,,,0,"Implement base_disk_delete for KVM (st.py only)

With KVM, nodes that use an existing basedisk as a backing volume
prevent a basedisk rebuild (virsh complains that the disk ""is already
in use by other guests"").

This changeset implements base_disk_delete for KVM (which already
exists for VirtualBox). It destroys all VMs that have the basedisk
as a backing volume before deleting the basedisk.

Note: this changeset is only for st.py, osbash behavior is unchanged.

Change-Id: Id240e32205f6785bdb0e38be29241203469b5efb
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/73/461873/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/stacktrain/kvm/install_base.py'],1,383506526331da0b2a83277238f7f248747af417,kvm_delete_basedisk,"import redef base_disk_delete(): base_disk_name = conf.get_base_disk_name() base_disk_path = vm.get_disk_path(base_disk_name) output = vm.virsh(""list"", ""--uuid"", ""--name"", ""--all"") for line in output.splitlines(): if line == """": continue uuid, name = line.rstrip().split(' ') logger.debug(""Candidate for deletion: %s %s"", uuid, name) domstats = vm.virsh(""domstats"", uuid, ""--block"", ""--backing"") if re.search(""block.*path.*{}"".format(base_disk_path), domstats): logger.info(""Deleting VM %s %s"", uuid, name) vm.vm_delete(uuid) vm.disk_delete(base_disk_name) if base_disk_exists(): logger.info(""Deleting existing basedisk."") base_disk_delete()", vm.disk_delete(base_disk_name),22,1
openstack%2Fpython-cinderclient~master~I98c6150cf548e9d1d8557770dbd3f88ec17a9b41,openstack/python-cinderclient,master,I98c6150cf548e9d1d8557770dbd3f88ec17a9b41,Add volume multi attach support,MERGED,2014-04-07 21:59:36.000000000,2017-05-27 07:51:40.000000000,2015-06-17 09:11:20.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1207}, {'_account_id': 1313}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 7173}, {'_account_id': 7198}, {'_account_id': 7764}, {'_account_id': 9708}, {'_account_id': 10115}, {'_account_id': 10263}, {'_account_id': 10851}, {'_account_id': 11600}, {'_account_id': 13909}, {'_account_id': 22752}]","[{'number': 1, 'created': '2014-04-07 21:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/654401226ec206a36d5f0b055ee92018dfd544e4', 'message': ""WIP Add volume multi attach support\n\nThis is a Work in Progress Patch.  All unit tests\nare currently missing.\n\nThis patch adds the new shareable flag during volume\ncreation time. This patch adds the instance_uuid\nduring detach time so cinder knows which instance\nit should detach the volume.\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}, {'number': 2, 'created': '2014-04-24 18:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/791ca3b4713543ca8350e745ee8924caa0810599', 'message': ""WIP Add volume multi attach support\n\nThis patch adds the new shareable flag during volume\ncreation time. This patch adds the attachment_uuid\nduring detach time so cinder knows which\nattachment it should detach.\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}, {'number': 3, 'created': '2014-12-10 03:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/c036bc1e251124d83de57ee2e6ee112cba6af4a3', 'message': ""WIP Add volume multi attach support\n\nThis patch adds the new shareable flag during volume\ncreation time. This patch adds the attachment_uuid\nduring detach time so cinder knows which\nattachment it should detach.\n\nTODO:\n  make the attachment_uuid optional at detach time\nto account for backwards compatibility\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}, {'number': 4, 'created': '2014-12-15 23:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/1089f74d6ed07ea2b5bbbb9ca0fe4f53ba7acd86', 'message': ""WIP Add volume multi attach support\n\nThis patch adds the new shareable flag during volume\ncreation time. This patch adds the attachment_uuid\nduring detach time so cinder knows which\nattachment it should detach.\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}, {'number': 5, 'created': '2015-01-06 17:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/26bb8da9b0d9f142d1bb512cd170e39d62cc6168', 'message': ""WIP Add volume multi attach support\n\nThis patch adds the new shareable flag during volume\ncreation time. This patch adds the attachment_uuid\nduring detach time so cinder knows which\nattachment it should detach.\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}, {'number': 6, 'created': '2015-01-12 18:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/8d73b03c65748b4d21a07d0856008415b8934191', 'message': ""WIP Add volume multi attach support\n\nThis patch adds the new shareable flag during volume\ncreation time. This patch adds the attachment_uuid\nduring detach time so cinder knows which\nattachment it should detach.\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}, {'number': 7, 'created': '2015-01-12 18:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/018773c192e7eddf0d3d8863ed847fb24682278f', 'message': ""Add volume multi attach support\n\nThis patch adds the new shareable flag during volume\ncreation time. This patch adds the attachment_uuid\nduring detach time so cinder knows which\nattachment it should detach.\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}, {'number': 8, 'created': '2015-01-12 21:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/e3e2e1d1d6bca7fcaa98722c1e1ba7d03ac2c043', 'message': ""Add volume multi attach support\n\nThis patch adds the new shareable flag during volume\ncreation time. This patch adds the attachment_uuid\nduring detach time so cinder knows which\nattachment it should detach.\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}, {'number': 9, 'created': '2015-01-22 20:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/f32e42cb6c68a68e4235b3bdd031d13138426dd7', 'message': ""Add volume multi attach support\n\nThis patch adds the new multiattach flag during volume\ncreation time. This patch adds the attachment_uuid\nduring detach time so cinder knows which\nattachment it should detach.\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}, {'number': 10, 'created': '2015-02-13 17:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/7d0fc05c2001ca7413b02f09b7c70875e17ff1a5', 'message': ""Add volume multi attach support\n\nThis patch adds the new multiattach flag during volume\ncreation time. This patch adds the attachment_uuid\nduring detach time so cinder knows which\nattachment it should detach.\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}, {'number': 11, 'created': '2015-02-19 18:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/1e16265727be90ea8f301f6d4916464edd925e97', 'message': ""Add volume multi attach support\n\nThis patch adds the new multiattach flag during volume\ncreation time. This patch adds the attachment_uuid\nduring detach time so cinder knows which\nattachment it should detach.\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}, {'number': 12, 'created': '2015-02-19 19:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/cda98380f0d404804bd085e3092f299afb3877e3', 'message': ""Add volume multi attach support\n\nThis patch adds the new multiattach flag during volume\ncreation time. This patch adds the attachment_uuid\nduring detach time so cinder knows which\nattachment it should detach.\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}, {'number': 13, 'created': '2015-03-12 15:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/d53b3545a86c1a18f91489820d5b5427e1d0782a', 'message': ""Add volume multi attach support\n\nThis patch adds the new multiattach flag during volume\ncreation time. This patch adds the attachment_uuid\nduring detach time so cinder knows which\nattachment it should detach.\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}, {'number': 14, 'created': '2015-04-20 21:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/c9e92b4e9e4e5d0c8843ec0654a96be6f4a86ebc', 'message': ""Add volume multi attach support\n\nThis patch adds the new multiattach flag during volume\ncreation time. This patch adds the attachment_uuid\nduring detach time so cinder knows which\nattachment it should detach.\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}, {'number': 15, 'created': '2015-04-30 22:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/7060317c75da958b13f8c8f96bc913b595f9d6dc', 'message': ""Add volume multi attach support\n\nThis patch adds the new multiattach flag during volume\ncreation time. This patch adds the attachment_uuid\nduring detach time so cinder knows which\nattachment it should detach.\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}, {'number': 16, 'created': '2015-05-21 16:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/c2e72e830e9d53b890c5c600b3614b3fa2b59b35', 'message': ""Add volume multi attach support\n\nThis patch adds the new multiattach flag during volume\ncreation time. This patch adds the attachment_uuid\nduring detach time so cinder knows which\nattachment it should detach.\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}, {'number': 17, 'created': '2015-06-01 23:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/f0e00c413b8664aa6e00066415e388d5bb16eee8', 'message': ""Add volume multi attach support\n\nThis patch adds the new multiattach flag during volume\ncreation time. This patch adds the attachment_uuid\nduring detach time so cinder knows which\nattachment it should detach.\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}, {'number': 18, 'created': '2015-06-02 16:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/18a02a3561d889654d6486b8d0f51cdb0c371cea', 'message': ""Add volume multi attach support\n\nThis patch adds the new multiattach flag during volume\ncreation time. This patch adds the attachment_uuid\nduring detach time so cinder knows which\nattachment it should detach.\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}, {'number': 19, 'created': '2015-06-02 18:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/48345a7a08722a5fcd2e35b9f23aad22723ed213', 'message': ""Add volume multi attach support\n\nThis patch adds the new multiattach flag during volume\ncreation time. This patch adds the attachment_uuid\nduring detach time so cinder knows which\nattachment it should detach.\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}, {'number': 20, 'created': '2015-06-11 15:57:50.000000000', 'files': ['cinderclient/tests/unit/v2/test_volumes.py', 'cinderclient/tests/unit/v2/fakes.py', 'cinderclient/v2/volumes.py', 'cinderclient/tests/unit/v2/test_shell.py', 'cinderclient/v2/shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/480afa893a6dbae0720d78653812338fd6c24735', 'message': ""Add volume multi attach support\n\nThis patch adds the new multiattach flag during volume\ncreation time. This patch adds the attachment_uuid\nduring detach time so cinder knows which\nattachment it should detach.\n\nThis patch is needed by Cinder's multi-attach-volume\nhttps://review.openstack.org/#/c/85847/\n\nChange-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41\nImplements: blueprint multi-attach-volume\n""}]",6,85856,480afa893a6dbae0720d78653812338fd6c24735,85,18,20,5997,,,0,"Add volume multi attach support

This patch adds the new multiattach flag during volume
creation time. This patch adds the attachment_uuid
during detach time so cinder knows which
attachment it should detach.

This patch is needed by Cinder's multi-attach-volume
https://review.openstack.org/#/c/85847/

Change-Id: I98c6150cf548e9d1d8557770dbd3f88ec17a9b41
Implements: blueprint multi-attach-volume
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/56/85856/14 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/v1/shell.py', 'cinderclient/v1/volumes.py', 'cinderclient/v2/volumes.py', 'cinderclient/v2/shell.py']",4,654401226ec206a36d5f0b055ee92018dfd544e4,bp/multi-attach-volume," 'Size', 'Volume Type', 'Bootable', 'Shareable', 'Attached to'])@utils.arg('--shareable', type=bool, metavar='<shareable>', help=('Allow volume to be attached more than once' '(Optional, Default=False)'), default=False) scheduler_hints=hints, shareable=args.shareable)"," 'Size', 'Volume Type', 'Bootable', 'Attached to']) scheduler_hints=hints)",32,10
openstack%2Fcinder~master~I190ff8506e0056d685ce429c2fa275b097f9e635,openstack/cinder,master,I190ff8506e0056d685ce429c2fa275b097f9e635,Convert marker format for listing manageable resources,MERGED,2017-05-19 02:04:21.000000000,2017-05-27 07:25:00.000000000,2017-05-22 17:21:12.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15054}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-05-19 02:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/817eba1b69e13c778116685fe6dd58665383b7fc', 'message': 'Convert marker format for listing manageable resources\n\nThe marker for listing manageable resources is the ""reference""\nproperty which should be dict.\n\nWe should convert and check its format before using.\n\nChange-Id: I190ff8506e0056d685ce429c2fa275b097f9e635\nCloses-bug: #1657992\n'}, {'number': 2, 'created': '2017-05-19 05:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a32c37134ec5f38809e2147bda6c46bc1b96610', 'message': 'Convert marker format for listing manageable resources\n\nThe marker for listing manageable resources is the ""reference""\nproperty which should be dict.\n\nWe should convert and check its format before using.\n\nChange-Id: I190ff8506e0056d685ce429c2fa275b097f9e635\nCloses-bug: #1657992\n'}, {'number': 3, 'created': '2017-05-22 12:21:07.000000000', 'files': ['cinder/volume/utils.py', 'cinder/tests/unit/test_volume_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a736209edaebd9402133f8e522eb8f453343b12', 'message': 'Convert marker format for listing manageable resources\n\nThe marker for listing manageable resources is the ""reference""\nproperty which should be dict.\n\nWe should convert and check its format before using.\n\nChange-Id: I190ff8506e0056d685ce429c2fa275b097f9e635\nCloses-bug: #1657992\n'}]",2,466147,8a736209edaebd9402133f8e522eb8f453343b12,72,37,3,15054,,,0,"Convert marker format for listing manageable resources

The marker for listing manageable resources is the ""reference""
property which should be dict.

We should convert and check its format before using.

Change-Id: I190ff8506e0056d685ce429c2fa275b097f9e635
Closes-bug: #1657992
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/466147/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/utils.py', 'cinder/tests/unit/test_volume_utils.py']",2,817eba1b69e13c778116685fe6dd58665383b7fc,bug/1657992," @ddt.data({""name"": ""vol02""}, '{""name"": ""vol02""}') def test_paginate_entries_list_marker_invalid_format(self): entries = [{'reference': {'name': 'vol03'}, 'size': 1}, {'reference': {'name': 'vol01'}, 'size': 3}] self.assertRaises(exception.InvalidInput, volume_utils.paginate_entries_list, entries, ""invalid_format"", 3, None, ['size', 'reference'], ['desc', 'asc']) ",,17,0
openstack%2Fpuppet-glance~master~I7a75ca9fcd6e9a9c2a88455567083e9c4067fa6d,openstack/puppet-glance,master,I7a75ca9fcd6e9a9c2a88455567083e9c4067fa6d,Fix unit test,MERGED,2017-05-25 03:18:21.000000000,2017-05-27 06:42:31.000000000,2017-05-27 06:42:31.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8971}, {'_account_id': 9414}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-05-25 03:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/d4640cfe2665cc8b1f02074473d8af3d7a5b9799', 'message': 'Fix unit test\n\nThe db_backend_package name has changed in puppet-oslo[0], so fix it.\n\n[0]: https://review.openstack.org/#/c/467582/\n\nChange-Id: I7a75ca9fcd6e9a9c2a88455567083e9c4067fa6d\nCloses-Bug: #1693403\n'}, {'number': 2, 'created': '2017-05-26 00:31:44.000000000', 'files': ['spec/classes/glance_registry_db_spec.rb', 'spec/classes/glance_api_db_spec.rb', 'spec/classes/glance_glare_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/11babea0d15c4a2ac83282bb0cc10bcec83c180b', 'message': 'Fix unit test\n\nThe db_backend_package name has changed in puppet-oslo[0], so fix it.\n\n[0]: https://review.openstack.org/#/c/467582/\n\nChange-Id: I7a75ca9fcd6e9a9c2a88455567083e9c4067fa6d\nCloses-Bug: #1693403\n'}]",0,467840,11babea0d15c4a2ac83282bb0cc10bcec83c180b,14,5,2,9414,,,0,"Fix unit test

The db_backend_package name has changed in puppet-oslo[0], so fix it.

[0]: https://review.openstack.org/#/c/467582/

Change-Id: I7a75ca9fcd6e9a9c2a88455567083e9c4067fa6d
Closes-Bug: #1693403
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/40/467840/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/glance_registry_db_spec.rb', 'spec/classes/glance_api_db_spec.rb']",2,d4640cfe2665cc8b1f02074473d8af3d7a5b9799,bug/1693403, is_expected.to contain_package('python-pymysql').with(, is_expected.to contain_package('db_backend_package').with( it { is_expected.not_to contain_package('db_backend_package') },2,4
openstack%2Fsenlin~master~I8bc122a0a0794e200746f3a5ae64da3a9e4fd6b9,openstack/senlin,master,I8bc122a0a0794e200746f3a5ae64da3a9e4fd6b9,delete profile base invalid variable,MERGED,2017-05-25 05:40:30.000000000,2017-05-27 06:10:33.000000000,2017-05-27 06:10:33.000000000,"[{'_account_id': 3}, {'_account_id': 8246}, {'_account_id': 22998}, {'_account_id': 24649}]","[{'number': 1, 'created': '2017-05-25 05:40:30.000000000', 'files': ['senlin/profiles/base.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/c07b299932e9ea8667e8fa2ce6d774de73fcd443', 'message': 'delete profile base invalid variable\n\nChange-Id: I8bc122a0a0794e200746f3a5ae64da3a9e4fd6b9\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}]",0,467895,c07b299932e9ea8667e8fa2ce6d774de73fcd443,8,4,1,23517,,,0,"delete profile base invalid variable

Change-Id: I8bc122a0a0794e200746f3a5ae64da3a9e4fd6b9
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
",git fetch https://review.opendev.org/openstack/senlin refs/changes/95/467895/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/profiles/base.py'],1,c07b299932e9ea8667e8fa2ce6d774de73fcd443,fix_profile_base_variable,, profile = None,0,1
openstack%2Fopenstack-ansible~master~Ic3dad26bd294f8cc9551e5d68a5df743144bd776,openstack/openstack-ansible,master,Ic3dad26bd294f8cc9551e5d68a5df743144bd776,Replaces uuid.uuid4 with uuidutils.generate_uuid(),ABANDONED,2017-05-18 08:46:33.000000000,2017-05-27 05:59:27.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-05-18 08:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9c060593f43c86d556f5bc9e3ba5a500a4d966fe', 'message': 'Replaces uuid.uuid4 with uuidutils.generate_uuid()\n\nOpenstack common has a wrapper for generating uuids.\nWe should only use that function when generating uuids for consistency.\n\nChange-Id: Ic3dad26bd294f8cc9551e5d68a5df743144bd776\nCloses-Bug: #1082248\n'}, {'number': 2, 'created': '2017-05-18 08:57:42.000000000', 'files': ['scripts/pw-token-gen.py', 'osa_toolkit/generate.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3e39f9ee35e49ffaf87e40de991487f45f741466', 'message': 'Replaces uuid.uuid4 with uuidutils.generate_uuid()\n\nOpenstack common has a wrapper for generating uuids.\nWe should only use that function when generating uuids for consistency.\n\nChange-Id: Ic3dad26bd294f8cc9551e5d68a5df743144bd776\nCloses-Bug: #1082248\n'}]",0,465876,3e39f9ee35e49ffaf87e40de991487f45f741466,5,1,2,17130,,,0,"Replaces uuid.uuid4 with uuidutils.generate_uuid()

Openstack common has a wrapper for generating uuids.
We should only use that function when generating uuids for consistency.

Change-Id: Ic3dad26bd294f8cc9551e5d68a5df743144bd776
Closes-Bug: #1082248
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/76/465876/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/pw-token-gen.py', 'osa_toolkit/generate.py']",2,9c060593f43c86d556f5bc9e3ba5a500a4d966fe,bug/1082248,from oslo_utils import uuidutils cuuid = uuidutils.generate_uuid(),import uuid cuuid = str(uuid.uuid4()),3,4
openstack%2Fnova~master~I862a12f0e2bde0c9e7ebd35611ab40ddbc975fd7,openstack/nova,master,I862a12f0e2bde0c9e7ebd35611ab40ddbc975fd7,Nix redundant dict in set_inventory_for_provider,MERGED,2017-05-25 18:24:47.000000000,2017-05-27 05:30:27.000000000,2017-05-26 18:59:12.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-05-25 18:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2562a284ea27e660191bf83b7f9f3c7fbca485a5', 'message': 'Nix redundant dict in set_inventory_for_provider\n\nSchedulerReportClient.set_inventory_for_provider was creating an\nunnecessary copy of its inv_data dict.  Add a weensy bit of efficiency\nby removing it and just using the input parameter as is.\n\nAlso use a generator instead of a list when identifying custom resource\nclasses to create.\n\nChange-Id: I862a12f0e2bde0c9e7ebd35611ab40ddbc975fd7\n'}, {'number': 2, 'created': '2017-05-25 21:56:48.000000000', 'files': ['nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4c8b61e279cb4fabd9bafcec4db509fd6d47fd10', 'message': 'Nix redundant dict in set_inventory_for_provider\n\nSchedulerReportClient.set_inventory_for_provider was creating an\nunnecessary copy of its inv_data dict.  Add a weensy bit of efficiency\nby removing it and just using the input parameter as is.\n\nAlso use a generator instead of a list when identifying custom resource\nclasses to create.\n\nChange-Id: I862a12f0e2bde0c9e7ebd35611ab40ddbc975fd7\n'}]",2,468123,4c8b61e279cb4fabd9bafcec4db509fd6d47fd10,33,12,2,14070,,,0,"Nix redundant dict in set_inventory_for_provider

SchedulerReportClient.set_inventory_for_provider was creating an
unnecessary copy of its inv_data dict.  Add a weensy bit of efficiency
by removing it and just using the input parameter as is.

Also use a generator instead of a list when identifying custom resource
classes to create.

Change-Id: I862a12f0e2bde0c9e7ebd35611ab40ddbc975fd7
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/468123/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/client/report.py'],1,2562a284ea27e660191bf83b7f9f3c7fbca485a5,set_inventory_for_provider_nit," # Auto-create custom resource classes coming from a virt driver map(self._ensure_resource_class, (rc_name for rc_name in inv_data if rc_name not in fields.ResourceClass.STANDARD)) if inv_data: self._update_inventory(rp_uuid, inv_data)"," new_inv = {} for rc_name, inv in inv_data.items(): if rc_name not in fields.ResourceClass.STANDARD: # Auto-create custom resource classes coming from a virt driver self._ensure_resource_class(rc_name) new_inv[rc_name] = inv if new_inv: self._update_inventory(rp_uuid, new_inv)",6,9
openstack%2Fneutron~stable%2Fnewton~Ib32509d974c8654131112234bcf19d6eae8f7cca,openstack/neutron,stable/newton,Ib32509d974c8654131112234bcf19d6eae8f7cca,Add IPAllocations to the port fixed_ips,MERGED,2017-04-27 17:44:59.000000000,2017-05-27 05:12:03.000000000,2017-05-27 05:12:03.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 7787}, {'_account_id': 9656}]","[{'number': 1, 'created': '2017-04-27 17:44:59.000000000', 'files': ['neutron/db/db_base_plugin_common.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/308795ea62e6f9007144024d408e66a02dcbe027', 'message': ""Add IPAllocations to the port fixed_ips\n\nSince the IPAM is currently inserting the IPAllocation objects directly\ninto the DB, the make_port_dict method triggers queries to the DB when\nthe fixed_ips relationship is accessed, which negatively affects the\nperformance of Neutron.\n\nThis patchset changes this behavior, by appending IPAllocations to the\nport's fixed_ips relationship. This change will facilitate the\nimplementation of enginefacade\n\nChange-Id: Ib32509d974c8654131112234bcf19d6eae8f7cca\nCloses-Bug: #1676235\n(cherry picked from commit 7f513e547cb0fd0d5c23924d264fd53cdc6141ce)\n""}]",0,460696,308795ea62e6f9007144024d408e66a02dcbe027,46,4,1,4694,,,0,"Add IPAllocations to the port fixed_ips

Since the IPAM is currently inserting the IPAllocation objects directly
into the DB, the make_port_dict method triggers queries to the DB when
the fixed_ips relationship is accessed, which negatively affects the
performance of Neutron.

This patchset changes this behavior, by appending IPAllocations to the
port's fixed_ips relationship. This change will facilitate the
implementation of enginefacade

Change-Id: Ib32509d974c8654131112234bcf19d6eae8f7cca
Closes-Bug: #1676235
(cherry picked from commit 7f513e547cb0fd0d5c23924d264fd53cdc6141ce)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/460696/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/db_base_plugin_common.py'],1,308795ea62e6f9007144024d408e66a02dcbe027,ipallocations-to-fixed-ips," port_db = context.session.query(models_v2.Port).get(port_id) port_db.fixed_ips.append(allocated) port_db.fixed_ips.sort(key=lambda fip: (fip['ip_address'], fip['subnet_id']))"," context.session.add(allocated) # NOTE(kevinbenton): We add this to the session info so the sqlalchemy # object isn't immediately garbage collected. Otherwise when the # fixed_ips relationship is referenced a new persistent object will be # added to the session that will interfere with retry operations. # See bug 1556178 for details. context.session.info.setdefault('allocated_ips', []).append(allocated)",4,8
openstack%2Fglance~master~If7ec1f38f15e85ff642dd8b0e3d5032656ee748d,openstack/glance,master,If7ec1f38f15e85ff642dd8b0e3d5032656ee748d,Updated from global requirements,MERGED,2017-05-26 01:47:15.000000000,2017-05-27 05:04:34.000000000,2017-05-27 05:04:34.000000000,"[{'_account_id': 3}, {'_account_id': 5314}, {'_account_id': 23317}]","[{'number': 1, 'created': '2017-05-26 01:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9ec5ac8ea4963a60d6fb45d74636faa343e47a4d', 'message': 'Updated from global requirements\n\nChange-Id: If7ec1f38f15e85ff642dd8b0e3d5032656ee748d\n'}, {'number': 2, 'created': '2017-05-26 17:18:50.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/glance/commit/223e04e19eb9da2a4b4fe65eb6299827211737d4', 'message': 'Updated from global requirements\n\nChange-Id: If7ec1f38f15e85ff642dd8b0e3d5032656ee748d\n'}]",0,468237,223e04e19eb9da2a4b4fe65eb6299827211737d4,9,3,2,11131,,,0,"Updated from global requirements

Change-Id: If7ec1f38f15e85ff642dd8b0e3d5032656ee748d
",git fetch https://review.opendev.org/openstack/glance refs/changes/37/468237/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9ec5ac8ea4963a60d6fb45d74636faa343e47a4d,openstack/requirements,oslo.middleware>=3.27.0 # Apache-2.0,oslo.middleware>=3.10.0 # Apache-2.0,1,1
openstack%2Fneutron~master~I0af665a97087ad72431d58f04089a804088ef005,openstack/neutron,master,I0af665a97087ad72431d58f04089a804088ef005,[OVO] Integration of RouterL3AgentBinding,MERGED,2016-09-26 20:16:11.000000000,2017-05-27 05:04:19.000000000,2017-05-27 05:04:19.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 7016}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 8726}, {'_account_id': 8871}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 10386}, {'_account_id': 12444}, {'_account_id': 14208}, {'_account_id': 14571}, {'_account_id': 15518}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17491}, {'_account_id': 20246}, {'_account_id': 20330}, {'_account_id': 21784}, {'_account_id': 22218}, {'_account_id': 22220}, {'_account_id': 22774}]","[{'number': 1, 'created': '2016-09-26 20:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/18c066a7dcae5222fdbcbe4a679315725cb48666', 'message': '[WIP] Integration of RouterL3AgentBinding\n\nThis patch integrated the OVO created for RouterL3AgentBinding into\nthe code base\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 2, 'created': '2016-09-27 16:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/63690c7685a909db2d86448c16c7cc15a88b7c64', 'message': '[WIP] Integration of RouterL3AgentBinding\n\nThis patch integrated the OVO created for RouterL3AgentBinding into\nthe code base\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 3, 'created': '2016-09-28 14:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a906931d83caffa956c302b0485d64c78c933bca', 'message': '[WIP] Integration of RouterL3AgentBinding\n\nThis patch integrated the OVO created for RouterL3AgentBinding into\nthe code base\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 4, 'created': '2016-09-29 14:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cbf7c2e16fe6eb98b8a0ac9b2b654d1fecacb792', 'message': '[WIP] Integration of RouterL3AgentBinding\n\nThis patch integrated the OVO created for RouterL3AgentBinding into\nthe code base\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 5, 'created': '2016-09-29 17:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d508d178cb4e1b97d4908f55fe519a9871d2710', 'message': '[WIP] Integration of RouterL3AgentBinding\n\nThis patch integrated the OVO created for RouterL3AgentBinding into\nthe code base\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 6, 'created': '2016-09-30 14:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/87d2d425b29c1a869084b7ed67cd0e80dbf8a521', 'message': '[WIP] Integration of RouterL3AgentBinding\n\nThis patch integrated the OVO created for RouterL3AgentBinding into\nthe code base\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 7, 'created': '2016-10-10 18:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/23d2ee1bc907463f615c77fcad2499f101679140', 'message': '[WIP] Integration of RouterL3AgentBinding\n\nThis patch integrated the OVO created for RouterL3AgentBinding into\nthe code base\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 8, 'created': '2016-10-10 20:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4438940d3eb55106de52d5ce885bb00311c6a920', 'message': '[WIP] Integration of RouterL3AgentBinding\n\nThis patch integrated the OVO created for RouterL3AgentBinding into\nthe code base\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 9, 'created': '2016-10-14 15:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9cb30b69260a04c2585446b699fc41778e188a34', 'message': '[WIP] Integration of RouterL3AgentBinding\n\nThis patch integrated the OVO created for RouterL3AgentBinding into\nthe code base\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 10, 'created': '2016-10-14 19:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/18b4bdb1f311ae858453417bb4799247f5bae75b', 'message': '[WIP] Integration of RouterL3AgentBinding\n\nThis patch integrated the OVO created for RouterL3AgentBinding into\nthe code base\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 11, 'created': '2016-10-31 15:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca4ccb3576cf907304ed0dc490bde1f6ccd28873', 'message': '[WIP] Integration of RouterL3AgentBinding\n\nThis patch integrated the OVO created for RouterL3AgentBinding into\nthe code base\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 12, 'created': '2016-11-01 19:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd44850d291466cb20be37cf38267043798eea10', 'message': '[WIP] Integration of RouterL3AgentBinding\n\nThis patch integrated the OVO created for RouterL3AgentBinding into\nthe code base\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 13, 'created': '2016-11-01 21:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0fdb8c15d4d505f2e864a82403c3395053c3187c', 'message': ""Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 14, 'created': '2016-11-11 17:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4295162832385728c772c1f55046cd48c72fae1d', 'message': ""Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 15, 'created': '2016-11-11 17:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/90986b2a9f73ce4e2bfe06a80a39b219f20ca889', 'message': ""Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 16, 'created': '2016-11-11 18:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52411a0eb27fbc1345792d7ecb09011f6ef0670c', 'message': ""Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 17, 'created': '2016-11-15 21:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c617c1a94ca8bf6d85d1b3360e0ad10bbe35f9e7', 'message': ""Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 18, 'created': '2016-11-28 06:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e001ab5ebf73c268af66b124eb1ccf73c1dfe356', 'message': ""Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 19, 'created': '2016-11-29 22:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/acc6339aea3d764202ad92d57875c6c68557d480', 'message': ""Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 20, 'created': '2016-12-01 16:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f02fb2edde5239cd1b146aa07f335926c463a6e6', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 21, 'created': '2016-12-01 16:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cdf7437d71f3c2095a820ee797c30c34a02cb505', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 22, 'created': '2016-12-01 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa8d7733dc43bf95bacd1b9780df01365d5408ef', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 23, 'created': '2016-12-13 21:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84b64aa70e6f2309141a89b955d61401c0920b55', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 24, 'created': '2016-12-16 04:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9871f33748394a90229f6a95cbba4c28b49d5a94', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 25, 'created': '2016-12-16 14:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b03f0e0d5de98b8499593f4f6d01c58b550d7d20', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 26, 'created': '2016-12-16 16:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9cd46c3b397fad7a04bb311510c5a3c2d0a2acac', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 27, 'created': '2016-12-23 00:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a19859fd790e586152b69e259421e9e27efdd769', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 28, 'created': '2016-12-23 00:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da0ad102fb63aeecea1182a6f9186850f1147cae', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 29, 'created': '2016-12-23 00:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f57ef845ea1075437f5ed35dacd1ff834203101', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 30, 'created': '2016-12-23 16:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1cb2840579ed83f5c328a79e84808ecfec63db8f', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 31, 'created': '2016-12-23 21:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b22a2c454fac5f7d47d9a8695c6d700a55734755', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 32, 'created': '2016-12-23 21:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a058633be538c262980f9f78e9d2fb14b598cc5f', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 33, 'created': '2016-12-30 00:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc3fb000e9fd8db869769aae3f0199bcb3298b7d', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 34, 'created': '2016-12-30 00:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9618b2241105be5d13932c229f481c2ea442f99', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent ad Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 35, 'created': '2016-12-31 00:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef2b2e86ac64725608cff51c8cf71157dc5548ec', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 36, 'created': '2017-01-11 19:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f3284a0dff755963d43e2eae0f98329543c3643', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 37, 'created': '2017-01-12 17:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef080d8b8eb2aeeb53a38f9ff6434e2b8c7353e4', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 38, 'created': '2017-01-12 17:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a18452b420a706a9f5218d8b1b9adc7723f1c373', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 39, 'created': '2017-01-13 05:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b96bf1b52d8605e027d4fcfb5512147dcda9d1a1', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 40, 'created': '2017-01-13 15:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca374434cc2124824a1874bf1033658391e3c4f9', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 41, 'created': '2017-01-18 15:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb3355b06a163066182aa305429910ff08804e7f', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 42, 'created': '2017-01-21 01:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e40a789b5b2461f9e43d33b3e480a16f824fbae4', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 43, 'created': '2017-02-07 16:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c6a9a839a77bbb0e91b0713a97da9fcff922d7a', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 44, 'created': '2017-02-07 16:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c1c99b9a2f66b7a5ee385608046b683c1f163365', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 45, 'created': '2017-02-07 19:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9efe3cb8a551aa7bd5d6bc1d491ceae8769a6d5b', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 46, 'created': '2017-02-07 19:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfc070e49768e18026275978d4a66bf491088199', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 47, 'created': '2017-02-13 16:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8d6beea90893c1b67eae5b11b8fd253a978be39', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 48, 'created': '2017-02-13 18:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d01b756c2145b8866b5ed96d01a35159b1dad40e', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 49, 'created': '2017-02-14 22:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b6469f1563caa308291574fbb3e2e17ff5a23d3', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 50, 'created': '2017-02-16 22:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad62be4855f10d527220d2abf44d51b511203b3e', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 51, 'created': '2017-03-01 23:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea00d784ef6983e8b6e06480ec703772f00e8a9c', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 52, 'created': '2017-03-08 16:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/09cfde0b5635146d664262d057654c38a15ad680', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 53, 'created': '2017-03-16 21:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43a1269c34f9eb426d8fd9f317b0522894eae8ef', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 54, 'created': '2017-03-17 16:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99236c9d008b11db4f1b3a2952aa557f4f44df61', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 55, 'created': '2017-03-17 18:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62d66ec3466c671b7bf2e9eb5a8d4c0ddb3338c9', 'message': ""[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\nQueries involving Agent and Router will be converted into objects once\nthe corresponding OVO's are available.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n""}, {'number': 56, 'created': '2017-03-18 01:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac1f2c1c5600d41eb6b298dda6fb719fa144eca8', 'message': '[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 57, 'created': '2017-03-20 04:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1229360683025035c69c9f8f73347778fb99c60', 'message': '[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 58, 'created': '2017-03-24 20:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04cfaf0d776128cab9f1964a8d32720685ed0c1b', 'message': '[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 59, 'created': '2017-04-21 23:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d7216662a59c852439f2949ebe5e9d7a697be15', 'message': '[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 60, 'created': '2017-04-21 23:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1bb12e09711801ec3383f043e748ab8cde5db6a6', 'message': '[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 61, 'created': '2017-05-26 20:18:11.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/objects/agent.py', 'neutron/objects/l3agent.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/db/l3_hascheduler_db.py', 'neutron/scheduler/l3_agent_scheduler.py', 'neutron/db/l3_agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e51f2aea517e1431b9a860c45761c057710f5b2', 'message': '[OVO] Integration of RouterL3AgentBinding\n\nThis patch integrates the OVO created for RouterL3AgentBinding into\nthe code base.\n\nChange-Id: I0af665a97087ad72431d58f04089a804088ef005\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}]",149,377074,7e51f2aea517e1431b9a860c45761c057710f5b2,509,27,61,22220,,,0,"[OVO] Integration of RouterL3AgentBinding

This patch integrates the OVO created for RouterL3AgentBinding into
the code base.

Change-Id: I0af665a97087ad72431d58f04089a804088ef005
Partially-Implements: blueprint adopt-oslo-versioned-objects-for-db
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/377074/59 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_agentschedulers_db.py'],1,18c066a7dcae5222fdbcbe4a679315725cb48666,bp/adopt-oslo-versioned-objects-for-db,"from neutron.objects import l3agent as rb_obj #TODO(dasanind):Implement join with Agent, RouterExtrattributes and # RouterL3AgentBinding object #query = context.session.query(rb_model.RouterL3AgentBinding) #bindings = query.filter_by(router_id=router_id).all() bindings = rb_obj.RouterL3AgentBinding.get_objects(context, router_id=router_id) record_obj = rb_obj.RouterL3AgentBinding.get_object( context, router_id=router_id, l3_agent_id=agent_id) if record_obj: record_obj.delete() print(""query"", query) #record_objs = rb_obj.RouterL3AgentBinding.get_objects( # context, # l3_agent_id=agent_id) #TODO(dasanind): create a list of router_ids print(""query"", query) #record_objs = rb_obj.RouterL3AgentBinding.get_objects( # context, # l3_agent_id=agent_id) #TODO(dasanind): create a list of router_ids #TODO(dasanind):change the query to use objects"," query = context.session.query(rb_model.RouterL3AgentBinding) bindings = query.filter_by(router_id=router_id).all() query = context.session.query(rb_model.RouterL3AgentBinding) query = query.filter( rb_model.RouterL3AgentBinding.router_id == router_id, rb_model.RouterL3AgentBinding.l3_agent_id == agent_id) query.delete()",24,7
openstack%2Fzun~master~I6d1f564d787e60b24c38314b7fdfe26a5bd0e50f,openstack/zun,master,I6d1f564d787e60b24c38314b7fdfe26a5bd0e50f,Add more tempest tests for container run,MERGED,2017-05-25 23:57:02.000000000,2017-05-27 05:01:01.000000000,2017-05-27 05:01:01.000000000,"[{'_account_id': 3}, {'_account_id': 13248}, {'_account_id': 16277}]","[{'number': 1, 'created': '2017-05-25 23:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/8e2ca801c2817a595d970ffaf81023862e766b17', 'message': '[WIP] Add more tempest tests for container run\n\nChange-Id: I6d1f564d787e60b24c38314b7fdfe26a5bd0e50f\n'}, {'number': 2, 'created': '2017-05-26 19:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/f680cde164aba602f38b643737d7d01915a75f96', 'message': '[WIP] Add more tempest tests for container run\n\nChange-Id: I6d1f564d787e60b24c38314b7fdfe26a5bd0e50f\n'}, {'number': 3, 'created': '2017-05-26 22:38:43.000000000', 'files': ['zun/tests/tempest/api/common/datagen.py', 'zun/tests/tempest/api/clients.py', 'zun/tests/tempest/api/test_containers.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/d2edc7f665923bb41f00ac5111e5b9640b71bfa5', 'message': 'Add more tempest tests for container run\n\nAdd the following test cases:\n* Run a container with image from Glance\n* Run a container with environment variables set\n* Run a container with labels set\n* Run a container with restart_policy\n* Run a container with interactive mode enabled\n\nPartial-Implements: blueprint zun-functional-test\nChange-Id: I6d1f564d787e60b24c38314b7fdfe26a5bd0e50f\n'}]",0,468214,d2edc7f665923bb41f00ac5111e5b9640b71bfa5,11,3,3,11536,,,0,"Add more tempest tests for container run

Add the following test cases:
* Run a container with image from Glance
* Run a container with environment variables set
* Run a container with labels set
* Run a container with restart_policy
* Run a container with interactive mode enabled

Partial-Implements: blueprint zun-functional-test
Change-Id: I6d1f564d787e60b24c38314b7fdfe26a5bd0e50f
",git fetch https://review.opendev.org/openstack/zun refs/changes/14/468214/2 && git format-patch -1 --stdout FETCH_HEAD,"['zun/tests/tempest/api/common/datagen.py', 'zun/tests/tempest/api/test_containers.py']",2,8e2ca801c2817a595d970ffaf81023862e766b17,bp/zun-functional-test," @decorators.idempotent_id('c32f93e3-da88-4c13-be38-25d2e662a28e') def test_run_container_with_image_driver_glance(self): #self._run_container(image_driver='glance') pass @decorators.idempotent_id('b70bedbc-5ba2-400c-8f5f-0cf05ca17151') def test_run_container_with_environment(self): _, model = self._run_container(environment={ 'key1': 'env1', 'key2': 'env2'}) container = self.docker_client.get_container(model.uuid) env = container.get('Config').get('Env') self.assertTrue('key1=env1', env) self.assertTrue('key2=env2', env) @decorators.idempotent_id('0e59d549-58ff-440f-8704-10e223c31cbc') def test_run_container_with_labels(self): _, model = self._run_container(labels={ 'key1': 'label1', 'key2': 'label2'}) container = self.docker_client.get_container(model.uuid) labels = container.get('Config').get('Labels') self.assertTrue('key1=label1', labels) self.assertTrue('key2=label2', labels) @decorators.idempotent_id('9fc7fec0-e1a9-4f65-a5a6-dba425c1607c') def test_run_container_with_restart_policy(self): _, model = self._run_container(restart_policy={ 'Name': 'on-failure', 'MaximumRetryCount': 2}) container = self.docker_client.get_container(model.uuid) policy = container.get('HostConfig').get('RestartPolicy') self.assertEqual('on-failure', policy['Name']) self.assertTrue(2, policy['MaximumRetryCount']) @decorators.idempotent_id('58585a4f-cdce-4dbd-9741-4416d1098f94') def test_run_container_with_interactive(self): _, model = self._run_container(interactive=True) container = self.docker_client.get_container(model.uuid) tty = container.get('Config').get('Tty') stdin_open = container.get('Config').get('OpenStdin') self.assertIs(True, tty) self.assertIs(True, stdin_open) ",,52,1
openstack%2Fneutron~stable%2Fnewton~I3e48e06e76325939fbc9533b0198924bc96d600e,openstack/neutron,stable/newton,I3e48e06e76325939fbc9533b0198924bc96d600e,DVR: Do not check HA state on DVR-only routers,MERGED,2017-05-23 10:05:00.000000000,2017-05-27 04:51:55.000000000,2017-05-27 04:51:55.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9732}]","[{'number': 1, 'created': '2017-05-23 10:05:00.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/09c2e15eb5e0caf843d205bdf7cdcd93792f77d7', 'message': ""DVR: Do not check HA state on DVR-only routers\n\nTrying to check HA state on a DVR-only compute node\ncan trigger:\n\nAttributeError: 'DvrLocalRouter' object has no attribute 'ha_state'\n\nAlso moved the mode assignment outside of the loops\nsince it only needs to be done once.\n\nCo-Authored-By: Sean Redmond <sean.redmond1@gmail.com>\nCloses-bug: #1691427\nChange-Id: I3e48e06e76325939fbc9533b0198924bc96d600e\n(cherry picked from commit b748f2e9b9892443cd4ae072f69a26f8af6da2d1)\n""}]",0,467106,09c2e15eb5e0caf843d205bdf7cdcd93792f77d7,27,5,1,25448,,,0,"DVR: Do not check HA state on DVR-only routers

Trying to check HA state on a DVR-only compute node
can trigger:

AttributeError: 'DvrLocalRouter' object has no attribute 'ha_state'

Also moved the mode assignment outside of the loops
since it only needs to be done once.

Co-Authored-By: Sean Redmond <sean.redmond1@gmail.com>
Closes-bug: #1691427
Change-Id: I3e48e06e76325939fbc9533b0198924bc96d600e
(cherry picked from commit b748f2e9b9892443cd4ae072f69a26f8af6da2d1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/467106/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py']",2,09c2e15eb5e0caf843d205bdf7cdcd93792f77d7,bug/1691427," def test_periodic_sync_routers_task_not_check_ha_state_for_router(self): # DVR-only agent should not trigger ha state check self.conf.set_override('agent_mode', lib_constants.L3_AGENT_MODE_DVR) agent = l3_agent.L3NATAgentWithStateReport(HOSTNAME, self.conf) ha_id = _uuid() active_routers = [ {'id': ha_id, n_const.HA_ROUTER_STATE_KEY: n_const.HA_ROUTER_STATE_STANDBY, 'ha': True}, {'id': _uuid()}] self.plugin_api.get_router_ids.return_value = [r['id'] for r in active_routers] self.plugin_api.get_routers.return_value = active_routers with mock.patch.object(agent, 'check_ha_state_for_router') as check: agent.periodic_sync_routers_task(agent.context) self.assertFalse(check.called) ",,22,3
openstack%2Fneutron~stable%2Fnewton~If6ada5027d0483fac7fc3ff935fee1edfc6e2759,openstack/neutron,stable/newton,If6ada5027d0483fac7fc3ff935fee1edfc6e2759,Add IPv6 Prefix Delegation support for DVR,MERGED,2017-05-09 11:35:36.000000000,2017-05-27 04:50:31.000000000,2017-05-27 04:50:31.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-05-09 11:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1464c1659d0adfabf2e01a77469e5e6d7f5bb0c2', 'message': 'Add IPv6 Prefix Delegation support for DVR\n\nUnlike Legacy routers, DVR Edge Routers have their gateway\ninterfaces in the SNAT namespace as opposed to the router\nnamespace.  Added a new method to the router_info class,\nget_gw_ns_name(), so callers can determine which namespace\nthe gateway device lives in.  This can then be over-ridden\nin the DVR Edge router class.\n\nThe Prefix Delegation code will also now listen on the\nupdate_router event from the l3-agent and reset the namespace\nname if it changes.\n\nCloses-Bug: #1541406\nChange-Id: If6ada5027d0483fac7fc3ff935fee1edfc6e2759\n(cherry picked from commit 7b5f01c2e58cd21ab3d46676ee6a3288012fbb45)\n'}, {'number': 2, 'created': '2017-05-18 17:55:33.000000000', 'files': ['neutron/agent/l3/router_info.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/tests/unit/agent/linux/test_pd.py', 'neutron/agent/l3/dvr_edge_router.py', 'neutron/agent/linux/pd.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a2f07de43f250b2114c9b4b074b61b4b4d8e450f', 'message': 'Add IPv6 Prefix Delegation support for DVR\n\nUnlike Legacy routers, DVR Edge Routers have their gateway\ninterfaces in the SNAT namespace as opposed to the router\nnamespace.  Added a new method to the router_info class,\nget_gw_ns_name(), so callers can determine which namespace\nthe gateway device lives in.  This can then be over-ridden\nin the DVR Edge router class.\n\nThe Prefix Delegation code will also now listen on the\nupdate_router event from the l3-agent and reset the namespace\nname if it changes.\n\nConflicts:\n    neutron/tests/unit/agent/linux/test_pd.py\n\nCloses-Bug: #1541406\nChange-Id: If6ada5027d0483fac7fc3ff935fee1edfc6e2759\n(cherry picked from commit 7b5f01c2e58cd21ab3d46676ee6a3288012fbb45)\n'}]",0,463531,a2f07de43f250b2114c9b4b074b61b4b4d8e450f,18,8,2,25448,,,0,"Add IPv6 Prefix Delegation support for DVR

Unlike Legacy routers, DVR Edge Routers have their gateway
interfaces in the SNAT namespace as opposed to the router
namespace.  Added a new method to the router_info class,
get_gw_ns_name(), so callers can determine which namespace
the gateway device lives in.  This can then be over-ridden
in the DVR Edge router class.

The Prefix Delegation code will also now listen on the
update_router event from the l3-agent and reset the namespace
name if it changes.

Conflicts:
    neutron/tests/unit/agent/linux/test_pd.py

Closes-Bug: #1541406
Change-Id: If6ada5027d0483fac7fc3ff935fee1edfc6e2759
(cherry picked from commit 7b5f01c2e58cd21ab3d46676ee6a3288012fbb45)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/463531/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/router_info.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/dvr_edge_router.py', 'neutron/tests/unit/agent/linux/test_pd.py', 'neutron/agent/linux/pd.py']",6,1464c1659d0adfabf2e01a77469e5e6d7f5bb0c2,bug/1541406,"from neutron._i18n import _, _LE registry.subscribe(update_router, resources.ROUTER, events.AFTER_UPDATE) gw_ns_name = added_router.get_gw_ns_name() get_router_entry(gw_ns_name)) router['ns_name'] = gw_ns_name @utils.synchronized(""l3-agent-pd"") def update_router(resource, event, l3_agent, **kwargs): updated_router = kwargs['router'] router = l3_agent.pd.routers.get(updated_router.router_id) if not router: LOG.exception(_LE(""Router to be updated is not in internal routers "" ""list: %s""), updated_router.router_id) else: router['ns_name'] = updated_router.get_gw_ns_name()",from neutron._i18n import _ get_router_entry(added_router.ns_name)) router['ns_name'] = added_router.ns_name,95,5
openstack%2Fneutron~stable%2Fnewton~If1d9a662e362639798ad93ff06d820852b0f0c99,openstack/neutron,stable/newton,If1d9a662e362639798ad93ff06d820852b0f0c99,Allow port security updates even without security-groups enabled,MERGED,2017-05-19 22:39:40.000000000,2017-05-27 04:50:17.000000000,2017-05-27 04:50:17.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-05-19 22:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e654d9b05c70638174487bf3ad700582a825fd9a', 'message': 'Allow port security updates even without security-groups enabled\n\nPort security is useful to enforce anti-spoofing rules, and\nthose can operate even in the absence of security groups.\n\nThis patch alters the existing code path to allow port_update\noperations even when the admin disables security_groups from\nthe deployment.\n\nCloses-bug: 1658682\n\n(cherry picked from commit e49edd7ec32e302df7db44194076a55fd2b5d309)\nChange-Id: If1d9a662e362639798ad93ff06d820852b0f0c99\n'}, {'number': 2, 'created': '2017-05-26 04:03:05.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7cfa85865822f7930e4617c80710f5eb59f5a7a3', 'message': 'Allow port security updates even without security-groups enabled\n\nPort security is useful to enforce anti-spoofing rules, and\nthose can operate even in the absence of security groups.\n\nThis patch alters the existing code path to allow port_update\noperations even when the admin disables security_groups from\nthe deployment.\n\nCloses-bug: 1658682\n\n(cherry picked from commit e49edd7ec32e302df7db44194076a55fd2b5d309)\nChange-Id: If1d9a662e362639798ad93ff06d820852b0f0c99\n'}]",0,466428,7cfa85865822f7930e4617c80710f5eb59f5a7a3,23,6,2,748,,,0,"Allow port security updates even without security-groups enabled

Port security is useful to enforce anti-spoofing rules, and
those can operate even in the absence of security groups.

This patch alters the existing code path to allow port_update
operations even when the admin disables security_groups from
the deployment.

Closes-bug: 1658682

(cherry picked from commit e49edd7ec32e302df7db44194076a55fd2b5d309)
Change-Id: If1d9a662e362639798ad93ff06d820852b0f0c99
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/466428/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py']",2,e654d9b05c70638174487bf3ad700582a825fd9a,bug/1658682," if not utils.is_extension_supported(self, 'security-group'): return",,24,0
openstack%2Fneutron~stable%2Fnewton~Iacd01875bf1299ff68fb5d1009d72088270320bb,openstack/neutron,stable/newton,Iacd01875bf1299ff68fb5d1009d72088270320bb,Send both gratuitous ARP REQUESTs and REPLYs,MERGED,2017-05-24 00:58:54.000000000,2017-05-27 04:48:12.000000000,2017-05-27 04:48:12.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 7787}, {'_account_id': 9656}]","[{'number': 1, 'created': '2017-05-24 00:58:54.000000000', 'files': ['neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f3552e4d1f242e89e4d9c27ea17a8c08dc99d9d', 'message': 'Send both gratuitous ARP REQUESTs and REPLYs\n\nDue to a linux kernel bug [1], network peers risk missing a gratuitous\narp update. This can be safely worked around by enabling arp_accept for\nnetwork interfaces that may receive those ARP packets [2]. Sadly, due to\nanother kernel bug [3], gratuitous ARP packets that we send are not\nhonoured by arp_accept. If we switch from REPLY to REQUEST packets, then\nall recent kernels should enforce ARP table entry override on gARP\nreceived.\n\nREPLYs are left for backwards compatibility in case some network peers\nhonor REPLYs and not REQUESTs.\n\n[1] https://patchwork.ozlabs.org/patch/760372/\n[2] https://bugs.launchpad.net/fuel/+bug/1456272\n[3] https://patchwork.ozlabs.org/patch/760373/\n\nRelated-Bug: #1690165\nChange-Id: Iacd01875bf1299ff68fb5d1009d72088270320bb\n(cherry picked from commit 82831b9d8d4bd61f90610df9eca8c7f6e447f8d8)\n'}]",0,467427,5f3552e4d1f242e89e4d9c27ea17a8c08dc99d9d,13,4,1,9656,,,0,"Send both gratuitous ARP REQUESTs and REPLYs

Due to a linux kernel bug [1], network peers risk missing a gratuitous
arp update. This can be safely worked around by enabling arp_accept for
network interfaces that may receive those ARP packets [2]. Sadly, due to
another kernel bug [3], gratuitous ARP packets that we send are not
honoured by arp_accept. If we switch from REPLY to REQUEST packets, then
all recent kernels should enforce ARP table entry override on gARP
received.

REPLYs are left for backwards compatibility in case some network peers
honor REPLYs and not REQUESTs.

[1] https://patchwork.ozlabs.org/patch/760372/
[2] https://bugs.launchpad.net/fuel/+bug/1456272
[3] https://patchwork.ozlabs.org/patch/760373/

Related-Bug: #1690165
Change-Id: Iacd01875bf1299ff68fb5d1009d72088270320bb
(cherry picked from commit 82831b9d8d4bd61f90610df9eca8c7f6e447f8d8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/467427/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py']",2,5f3552e4d1f242e89e4d9c27ea17a8c08dc99d9d,bug/1690165," for arg in ('-A', '-U'): arping_cmd = ['arping', arg, '-I', mock.sentinel.iface_name, '-c', 1, '-w', mock.ANY, address] ip_wrapper.netns.execute.assert_any_call(arping_cmd, extra_ok_codes=[1])"," arping_cmd = ['arping', '-A', '-I', mock.sentinel.iface_name, '-c', 1, '-w', mock.ANY, address] ip_wrapper.netns.execute.assert_any_call(arping_cmd, extra_ok_codes=[1])",35,27
openstack%2Fneutron~master~I0b1be0c761da75885981952a4f5ab5a43bc09525,openstack/neutron,master,I0b1be0c761da75885981952a4f5ab5a43bc09525,tests: removed 'retargetable' framework,MERGED,2017-04-27 05:21:52.000000000,2017-05-27 04:47:52.000000000,2017-05-27 04:47:51.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-04-27 05:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/77a7b7a4550e32ddd0e5bc39a729bd269517babd', 'message': ""tests: removed 'retargetable' framework\n\nI am not 100% sure what that is but it seems like an experiment that\nnever gave fruits. Since the introduction of the code, we had huge\nchanges in how we test api, we got tempest plugins, we steadily move\nfrom api testing in unit tests, we have fullstack, etc.\n\nI assume if I can't understand what's use of that, then it's probably\nirrelevant code, and so it's better to clean it from the tree.\n\nChange-Id: I0b1be0c761da75885981952a4f5ab5a43bc09525\n""}, {'number': 2, 'created': '2017-05-02 16:45:49.000000000', 'files': ['neutron/tests/retargetable/client_fixtures.py', 'neutron/tests/retargetable/rest_fixture.py', 'neutron/tests/tempest/README.rst', 'neutron/tests/retargetable/__init__.py', 'neutron/tests/retargetable/base.py', 'neutron/tests/retargetable/test_example.py', 'neutron/tests/functional/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/275a98e05a291e6610c6051b55a090499852a6e8', 'message': ""tests: removed 'retargetable' framework\n\nI am not 100% sure what that is but it seems like an experiment that\nnever gave fruits. Since the introduction of the code, we had huge\nchanges in how we test api, we got tempest plugins, we steadily move\nfrom api testing in unit tests, we have fullstack, etc.\n\nI assume if I can't understand what's use of that, then it's probably\nirrelevant code, and so it's better to clean it from the tree.\n\nChange-Id: I0b1be0c761da75885981952a4f5ab5a43bc09525\n""}]",2,460399,275a98e05a291e6610c6051b55a090499852a6e8,36,10,2,9656,,,0,"tests: removed 'retargetable' framework

I am not 100% sure what that is but it seems like an experiment that
never gave fruits. Since the introduction of the code, we had huge
changes in how we test api, we got tempest plugins, we steadily move
from api testing in unit tests, we have fullstack, etc.

I assume if I can't understand what's use of that, then it's probably
irrelevant code, and so it's better to clean it from the tree.

Change-Id: I0b1be0c761da75885981952a4f5ab5a43bc09525
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/460399/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/retargetable/client_fixtures.py', 'neutron/tests/retargetable/rest_fixture.py', 'neutron/tests/tempest/README.rst', 'neutron/tests/retargetable/__init__.py', 'neutron/tests/retargetable/base.py', 'neutron/tests/retargetable/test_example.py', 'neutron/tests/functional/__init__.py']",7,77a7b7a4550e32ddd0e5bc39a729bd269517babd,435615," new_tests = loader.discover(start_dir=this_dir, pattern=pattern) tests.addTests(new_tests)"," parent_dir = os.path.dirname(this_dir) target_dirs = [ this_dir, os.path.join(parent_dir, 'retargetable'), ] for start_dir in target_dirs: new_tests = loader.discover(start_dir=start_dir, pattern=pattern) tests.addTests(new_tests)",8,324
openstack%2Fnetworking-odl~master~I2c3ed1a50e628abc47c260be9608f16bbf81f329,openstack/networking-odl,master,I2c3ed1a50e628abc47c260be9608f16bbf81f329,The local.conf.example file in the master branch of networking-odl repo does not install the DLUX UI Karaf features needed for the ODL GUI.,MERGED,2017-05-21 03:16:58.000000000,2017-05-27 04:44:20.000000000,2017-05-27 04:44:20.000000000,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 13642}, {'_account_id': 17120}]","[{'number': 1, 'created': '2017-05-21 03:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/bbe9159844d0a12cd016d46837f5d09220e06992', 'message': 'The local.conf.example file in the master branch of\nnetworking-odl repo does not install the DLUX UI Karaf features\nneeded for the ODL GUI.\n\nDue to this issue, nothing is seen in the browser when we open the\nODL GUI links like:\n\nhttp://<ODL_IP>:8181/index.html\nor\nhttp://<ODL_IP>:8181/index.html#/topology\nor\nhttp://<ODL_IP>:8181/index.html#/node/index\n\nThis patch set sets ODL_NETVIRT_KARAF_FEATURE in\nlocal.conf.example to the required DLUX UI Karaf features needed\nto properly load the ODL GUI.\n\nChange-Id: I2c3ed1a50e628abc47c260be9608f16bbf81f329\nCloses-Bug: #1692285\n'}, {'number': 2, 'created': '2017-05-24 05:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/07aa753450c7784ceb83697322017b541f04ad12', 'message': 'The local.conf.example file in the master branch of\nnetworking-odl repo does not install the DLUX UI Karaf features\nneeded for the ODL GUI.\n\nDue to this issue, nothing is seen in the browser when we open the\nODL GUI links like:\n\nhttp://<ODL_IP>:8181/index.html\nor\nhttp://<ODL_IP>:8181/index.html#/topology\nor\nhttp://<ODL_IP>:8181/index.html#/node/index\n\nThis patch set sets ODL_NETVIRT_KARAF_FEATURE in\nlocal.conf.example to the required DLUX UI Karaf features needed\nto properly load the ODL GUI.\n\nChange-Id: I2c3ed1a50e628abc47c260be9608f16bbf81f329\nCloses-Bug: #1692285\n'}, {'number': 3, 'created': '2017-05-26 20:40:00.000000000', 'files': ['devstack/local.conf.example'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ee6b038fef09f25d425bf119b2652c1a5e4d0aa2', 'message': 'The local.conf.example file in the master branch of\nnetworking-odl repo does not install the DLUX UI Karaf features\nneeded for the ODL GUI.\n\nDue to this issue, nothing is seen in the browser when we open the\nODL GUI links like:\n\nhttp://<ODL_IP>:8181/index.html\nor\nhttp://<ODL_IP>:8181/index.html#/topology\nor\nhttp://<ODL_IP>:8181/index.html#/node/index\n\nThis patch set sets ODL_NETVIRT_KARAF_FEATURE in\nlocal.conf.example to the required DLUX UI Karaf features needed\nto properly load the ODL GUI.\n\nChange-Id: I2c3ed1a50e628abc47c260be9608f16bbf81f329\nCloses-Bug: #1692285\n'}]",10,466504,ee6b038fef09f25d425bf119b2652c1a5e4d0aa2,19,4,3,13642,,,0,"The local.conf.example file in the master branch of
networking-odl repo does not install the DLUX UI Karaf features
needed for the ODL GUI.

Due to this issue, nothing is seen in the browser when we open the
ODL GUI links like:

http://<ODL_IP>:8181/index.html
or
http://<ODL_IP>:8181/index.html#/topology
or
http://<ODL_IP>:8181/index.html#/node/index

This patch set sets ODL_NETVIRT_KARAF_FEATURE in
local.conf.example to the required DLUX UI Karaf features needed
to properly load the ODL GUI.

Change-Id: I2c3ed1a50e628abc47c260be9608f16bbf81f329
Closes-Bug: #1692285
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/04/466504/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/local.conf.example'],1,bbe9159844d0a12cd016d46837f5d09220e06992,bug/1692285,"# Set Karaf features needed for the ODL GUI at http://<ODL_IP>:8181/index.html ODL_NETVIRT_KARAF_FEATURE+=,odl-l2switch-switch,odl-l2switch-switch-ui,odl-restconf,odl-ovsdb-hwvtepsouthbound-ui,odl-openflowplugin-flow-services-ui,odl-openflowplugin-flow-services-ui-he,odl-ovsdb-southbound-impl-ui,odl-netvirt-ui,odl-l2switch-switch-ui,odl-dluxapps-nodes,odl-dluxapps-topology,odl-dluxapps-yangui,odl-dluxapps-yangvisualizer ",,3,0
openstack%2Fzun~master~I75fdd2cc7a96da5a0ba89bf3800a6c2209393b44,openstack/zun,master,I75fdd2cc7a96da5a0ba89bf3800a6c2209393b44,Updated from global requirements,MERGED,2017-05-26 17:31:46.000000000,2017-05-27 04:28:02.000000000,2017-05-27 04:28:02.000000000,"[{'_account_id': 3}, {'_account_id': 13248}]","[{'number': 1, 'created': '2017-05-26 17:31:46.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/zun/commit/7b3d2e765f4cd054cca8842904b3dfcdb441fedc', 'message': 'Updated from global requirements\n\nChange-Id: I75fdd2cc7a96da5a0ba89bf3800a6c2209393b44\n'}]",0,468500,7b3d2e765f4cd054cca8842904b3dfcdb441fedc,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I75fdd2cc7a96da5a0ba89bf3800a6c2209393b44
",git fetch https://review.opendev.org/openstack/zun refs/changes/00/468500/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,7b3d2e765f4cd054cca8842904b3dfcdb441fedc,openstack/requirements,oslo.context>=2.14.0 # Apache-2.0,oslo.context>=2.12.0 # Apache-2.0,1,1
openstack%2Foslo.db~master~Ica64fbd70c8e9acbed1f74c102f2a84b214fc5ce,openstack/oslo.db,master,Ica64fbd70c8e9acbed1f74c102f2a84b214fc5ce,Updated from global requirements,MERGED,2017-05-26 17:27:27.000000000,2017-05-27 03:40:51.000000000,2017-05-27 03:40:50.000000000,"[{'_account_id': 3}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-05-26 17:27:27.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/952325532edf8f1cfb3c460c986b2b4ecc779d53', 'message': 'Updated from global requirements\n\nChange-Id: Ica64fbd70c8e9acbed1f74c102f2a84b214fc5ce\n'}]",0,468490,952325532edf8f1cfb3c460c986b2b4ecc779d53,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Ica64fbd70c8e9acbed1f74c102f2a84b214fc5ce
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/90/468490/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,952325532edf8f1cfb3c460c986b2b4ecc779d53,openstack/requirements, oslo.context>=2.14.0 # Apache-2.0, oslo.context>=2.12.0 # Apache-2.0,1,1
openstack%2Fpuppet-barbican~master~Icc33dd327680b54230128b2c3c9d0a3b052d85f6,openstack/puppet-barbican,master,Icc33dd327680b54230128b2c3c9d0a3b052d85f6,oslo policy: check puppet resource instead of actual config in spec,MERGED,2017-05-23 05:49:02.000000000,2017-05-27 03:24:36.000000000,2017-05-27 03:24:36.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-05-23 05:49:02.000000000', 'files': ['spec/classes/barbican_policy_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/1bd2953cb9858b49c16016b345d9310ddfdad161', 'message': 'oslo policy: check puppet resource instead of actual config in spec\n\nChange-Id: Icc33dd327680b54230128b2c3c9d0a3b052d85f6\n'}]",0,467013,1bd2953cb9858b49c16016b345d9310ddfdad161,21,3,1,9414,,,0,"oslo policy: check puppet resource instead of actual config in spec

Change-Id: Icc33dd327680b54230128b2c3c9d0a3b052d85f6
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/13/467013/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/barbican_policy_spec.rb'],1,1bd2953cb9858b49c16016b345d9310ddfdad161,standard-oslo-policy-params," is_expected.to contain_oslo__policy('barbican_config').with( :policy_file => '/etc/barbican/policy.json', )", is_expected.to contain_barbican_config('oslo_policy/policy_file').with_value('/etc/barbican/policy.json'),3,1
openstack%2Foslo.log~master~Ie4369896e11557f34fafb08b8af4b8a5ea59a10b,openstack/oslo.log,master,Ie4369896e11557f34fafb08b8af4b8a5ea59a10b,Updated from global requirements,MERGED,2017-05-26 17:27:31.000000000,2017-05-27 03:23:16.000000000,2017-05-27 03:23:15.000000000,"[{'_account_id': 3}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-05-26 17:27:31.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/a1b924d948d672a1a6f4ed3421a756dc38c3b424', 'message': 'Updated from global requirements\n\nChange-Id: Ie4369896e11557f34fafb08b8af4b8a5ea59a10b\n'}]",0,468491,a1b924d948d672a1a6f4ed3421a756dc38c3b424,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Ie4369896e11557f34fafb08b8af4b8a5ea59a10b
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/91/468491/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,a1b924d948d672a1a6f4ed3421a756dc38c3b424,openstack/requirements,oslo.context>=2.14.0 # Apache-2.0,oslo.context>=2.12.0 # Apache-2.0,1,1
openstack%2Foslo.versionedobjects~master~Ic961841337fae18299f186ced5db03a034fd89cd,openstack/oslo.versionedobjects,master,Ic961841337fae18299f186ced5db03a034fd89cd,Updated from global requirements,MERGED,2017-05-26 17:27:54.000000000,2017-05-27 03:16:56.000000000,2017-05-27 03:16:56.000000000,"[{'_account_id': 3}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-05-26 17:27:54.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/1807666b1e6ea2fc4f797de3be4b823a2fb7a6b2', 'message': 'Updated from global requirements\n\nChange-Id: Ic961841337fae18299f186ced5db03a034fd89cd\n'}]",0,468493,1807666b1e6ea2fc4f797de3be4b823a2fb7a6b2,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Ic961841337fae18299f186ced5db03a034fd89cd
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/93/468493/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,1807666b1e6ea2fc4f797de3be4b823a2fb7a6b2,openstack/requirements,oslo.context>=2.14.0 # Apache-2.0,oslo.context>=2.12.0 # Apache-2.0,1,1
openstack%2Foslo.middleware~master~Ie2f72ad44298c3601a1465160f5c5f873f2c31cf,openstack/oslo.middleware,master,Ie2f72ad44298c3601a1465160f5c5f873f2c31cf,Updated from global requirements,MERGED,2017-05-26 17:27:38.000000000,2017-05-27 03:12:43.000000000,2017-05-27 03:12:42.000000000,"[{'_account_id': 3}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-05-26 17:27:38.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/ac68f40bd38020788efb519adce4c790e074c703', 'message': 'Updated from global requirements\n\nChange-Id: Ie2f72ad44298c3601a1465160f5c5f873f2c31cf\n'}]",0,468492,ac68f40bd38020788efb519adce4c790e074c703,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Ie2f72ad44298c3601a1465160f5c5f873f2c31cf
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/92/468492/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ac68f40bd38020788efb519adce4c790e074c703,openstack/requirements,oslo.context>=2.14.0 # Apache-2.0,oslo.context>=2.12.0 # Apache-2.0,1,1
openstack%2Fnova~stable%2Focata~I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3,openstack/nova,stable/ocata,I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3,Exclude deleted service records when calling hypervisor statistics,MERGED,2017-05-26 19:47:51.000000000,2017-05-27 02:59:47.000000000,2017-05-27 02:59:47.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2017-05-26 19:47:51.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/74e2a400b2ea3b011f88a7dbd8bb0fa3547b3bfa', 'message': ""Exclude deleted service records when calling hypervisor statistics\n\nHypervisor statistics could be incorrect if not\nexclude deleted service records from DB.\n\nUser may stop 'nova-compute' service on some\ncompute nodes and delete the service from nova.\nWhen delete 'nova-compute' service, it performs\n'soft-delete' to the corresponding db records in\nboth 'service' table and 'compute_nodes' table if\nthe compute_nodes record is old, i.e. it is linked\nto the service record. For modern compute_nodes\nrecords, they aren't linked to the services table\nso deleting the services record will not delete\nthe compute_nodes record, and the ResourceTracker\nwon't recreate the compute_nodes record if the host\nand hypervisor_hostname still match the existing\nrecord, but restarting the process after deleting\nthe service will create a new services table record\nwith the same host/binary/topic.\n\nIf the 'nova-compute' service on that server\nre-starts, it will automatically add a record\nin 'compute_nodes' table (assuming it was deleted\nbecause it was an old-style record) and also a correspoding\nrecord in 'service' table, and if the host name\nof the compute node did not change, the newly\ncreated records in 'service' and 'compute_nodes'\ntable will be identical to the priously soft-deleted\nrecords except the deleted row.\n\nWhen calling Hypervisor-statistics, the DB layer\njoined records across the whole deployment by\ncomparing records' host field selected from\nserivce table and records' host field selected\nfrom compute_nodes table, and the calculated\nresults could be multiplied if multiple records\nfrom service table have the same host field,\nand this scenario could happen if user perform\nthe above actions.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3\nCloses-Bug: #1692397\n(cherry picked from commit 3d3e9cdd774efe96f468f2bcba6c09a40f5e71d3)\n""}]",0,468526,74e2a400b2ea3b011f88a7dbd8bb0fa3547b3bfa,11,5,1,6873,,,0,"Exclude deleted service records when calling hypervisor statistics

Hypervisor statistics could be incorrect if not
exclude deleted service records from DB.

User may stop 'nova-compute' service on some
compute nodes and delete the service from nova.
When delete 'nova-compute' service, it performs
'soft-delete' to the corresponding db records in
both 'service' table and 'compute_nodes' table if
the compute_nodes record is old, i.e. it is linked
to the service record. For modern compute_nodes
records, they aren't linked to the services table
so deleting the services record will not delete
the compute_nodes record, and the ResourceTracker
won't recreate the compute_nodes record if the host
and hypervisor_hostname still match the existing
record, but restarting the process after deleting
the service will create a new services table record
with the same host/binary/topic.

If the 'nova-compute' service on that server
re-starts, it will automatically add a record
in 'compute_nodes' table (assuming it was deleted
because it was an old-style record) and also a correspoding
record in 'service' table, and if the host name
of the compute node did not change, the newly
created records in 'service' and 'compute_nodes'
table will be identical to the priously soft-deleted
records except the deleted row.

When calling Hypervisor-statistics, the DB layer
joined records across the whole deployment by
comparing records' host field selected from
serivce table and records' host field selected
from compute_nodes table, and the calculated
results could be multiplied if multiple records
from service table have the same host field,
and this scenario could happen if user perform
the above actions.

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Change-Id: I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3
Closes-Bug: #1692397
(cherry picked from commit 3d3e9cdd774efe96f468f2bcba6c09a40f5e71d3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/468526/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",2,74e2a400b2ea3b011f88a7dbd8bb0fa3547b3bfa,bug/1692397," services_tbl.c.binary == 'nova-compute', services_tbl.c.deleted == 0", services_tbl.c.binary == 'nova-compute',51,1
openstack%2Fnetworking-odl~master~If688a8203bb1f41155cd6b7ce876411241bc6689,openstack/networking-odl,master,If688a8203bb1f41155cd6b7ce876411241bc6689,"Added decorator for bgpvpn, ml2 and l2gateway for postcommit",MERGED,2017-05-10 05:31:27.000000000,2017-05-27 02:40:53.000000000,2017-05-27 02:40:53.000000000,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 6854}, {'_account_id': 7776}, {'_account_id': 13912}]","[{'number': 1, 'created': '2017-05-10 05:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/13927cf503f5a49e344a6b53f7aedd7461761529', 'message': 'Added decorator for bgpvpn, ml2 and l2gateway.\n\nChange-Id: If688a8203bb1f41155cd6b7ce876411241bc6689\ndepends-on: If86446966c03f04eb80087e7ec262ad9c4fcd626\n'}, {'number': 2, 'created': '2017-05-10 08:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f771beaa824df1e7e4619357400f1c461457e2a2', 'message': 'Added decorator for bgpvpn, ml2 and l2gateway.\n\nChange-Id: If688a8203bb1f41155cd6b7ce876411241bc6689\ndepends-on: If86446966c03f04eb80087e7ec262ad9c4fcd626\n'}, {'number': 3, 'created': '2017-05-11 04:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/83011e58d8a6b65610cd7df810fc34e68fe2eac5', 'message': 'Added decorator for bgpvpn, ml2 and l2gateway for postcommit\n\nChange-Id: If688a8203bb1f41155cd6b7ce876411241bc6689\ndepends-on: If86446966c03f04eb80087e7ec262ad9c4fcd626\n'}, {'number': 4, 'created': '2017-05-26 22:39:05.000000000', 'files': ['networking_odl/bgpvpn/odl_v2.py', 'networking_odl/l2gateway/driver_v2.py', 'networking_odl/ml2/mech_driver_v2.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f1f0f043400e48f7a0c51082ef080cdf174a0b7a', 'message': 'Added decorator for bgpvpn, ml2 and l2gateway for postcommit\n\nChange-Id: If688a8203bb1f41155cd6b7ce876411241bc6689\ndepends-on: If86446966c03f04eb80087e7ec262ad9c4fcd626\n'}]",2,463656,f1f0f043400e48f7a0c51082ef080cdf174a0b7a,24,5,4,13912,,,0,"Added decorator for bgpvpn, ml2 and l2gateway for postcommit

Change-Id: If688a8203bb1f41155cd6b7ce876411241bc6689
depends-on: If86446966c03f04eb80087e7ec262ad9c4fcd626
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/56/463656/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/bgpvpn/odl_v2.py', 'networking_odl/l2gateway/driver_v2.py', 'networking_odl/ml2/mech_driver_v2.py']",3,13927cf503f5a49e344a6b53f7aedd7461761529,post_commit_improvement,"from networking_odl.common import postcommit@postcommit.add_postcommit('network', 'subnet', 'port')<<<<<<< HEAD======= >>>>>>> aa4844a... Added decorator for bgpvpn, ml2 and l2gateway.",,9,56
openstack%2Fbarbican~master~Ifaf7c3d1a9a59c28eadef42d450d6a26cdcd70cb,openstack/barbican,master,Ifaf7c3d1a9a59c28eadef42d450d6a26cdcd70cb,Updated from global requirements,MERGED,2017-05-26 01:45:55.000000000,2017-05-27 02:37:45.000000000,2017-05-27 02:37:45.000000000,"[{'_account_id': 3}, {'_account_id': 8623}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-05-26 01:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/6b5e2ef92ccb5d798d5020fe389b6bfc7687fef2', 'message': 'Updated from global requirements\n\nChange-Id: Ifaf7c3d1a9a59c28eadef42d450d6a26cdcd70cb\n'}, {'number': 2, 'created': '2017-05-26 17:17:27.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/barbican/commit/f661f0e177d0c60de9988c759a18aa682ba7c6d4', 'message': 'Updated from global requirements\n\nChange-Id: Ifaf7c3d1a9a59c28eadef42d450d6a26cdcd70cb\n'}]",0,468233,f661f0e177d0c60de9988c759a18aa682ba7c6d4,9,3,2,11131,,,0,"Updated from global requirements

Change-Id: Ifaf7c3d1a9a59c28eadef42d450d6a26cdcd70cb
",git fetch https://review.opendev.org/openstack/barbican refs/changes/33/468233/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,6b5e2ef92ccb5d798d5020fe389b6bfc7687fef2,openstack/requirements,oslo.middleware>=3.27.0 # Apache-2.0,oslo.middleware>=3.10.0 # Apache-2.0,1,1
openstack%2Fbarbican~master~I3ec3f9b8582f6a335ac42621c2273f6fb3433653,openstack/barbican,master,I3ec3f9b8582f6a335ac42621c2273f6fb3433653,Creating redundancy files when running tox,MERGED,2017-05-11 06:42:43.000000000,2017-05-27 02:29:45.000000000,2017-05-27 02:29:45.000000000,"[{'_account_id': 3}, {'_account_id': 8623}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 19554}, {'_account_id': 21797}, {'_account_id': 23630}]","[{'number': 1, 'created': '2017-05-11 06:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3072ab556731f78199ef51c2d3e60a6b8a1a2303', 'message': 'Creating redundancy files when running tox\n\nAfter running tox -e py2, then there are many files named .coverage.*.\nThey should not have in the result of ""git status"" command.\n\nChange-Id: I3ec3f9b8582f6a335ac42621c2273f6fb3433653\nCloses-Bug: #1690002\n'}, {'number': 2, 'created': '2017-05-11 07:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3420165b3007005c0a6f319788ffbd492bf51dc3', 'message': 'Creating redundancy files when running tox\n\nAfter running tox -e py2, then there are many files named .coverage.*.\nThey should not have in the result of ""git status"" command.\n\nChange-Id: I3ec3f9b8582f6a335ac42621c2273f6fb3433653\nCloses-Bug: #1690002\n'}, {'number': 3, 'created': '2017-05-24 10:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/1bb4ddee7da9e2be3ebdcc02d44288b30ebe3e61', 'message': 'Creating redundancy files when running tox\n\nAfter running tox -e py2, then there are many files named .coverage.*.\nThey should not have in the result of ""git status"" command.\n\nChange-Id: I3ec3f9b8582f6a335ac42621c2273f6fb3433653\nCloses-Bug: #1690002\n'}, {'number': 4, 'created': '2017-05-26 17:05:54.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/barbican/commit/1896eb8c5f697f93bed993c0190f0f1b42d2c7f6', 'message': 'Creating redundancy files when running tox\n\nAfter running tox -e py2, then there are many files named .coverage.*.\nThey should not have in the result of ""git status"" command.\n\nChange-Id: I3ec3f9b8582f6a335ac42621c2273f6fb3433653\nCloses-Bug: #1690002\n'}]",4,463918,1896eb8c5f697f93bed993c0190f0f1b42d2c7f6,21,7,4,19554,,,0,"Creating redundancy files when running tox

After running tox -e py2, then there are many files named .coverage.*.
They should not have in the result of ""git status"" command.

Change-Id: I3ec3f9b8582f6a335ac42621c2273f6fb3433653
Closes-Bug: #1690002
",git fetch https://review.opendev.org/openstack/barbican refs/changes/18/463918/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,3072ab556731f78199ef51c2d3e60a6b8a1a2303,bug/1690002, # Ignore these file after running tox .coverage.*,,3,0
openstack%2Fcastellan~master~I56c9a9821569abb5330201715c8ca1df7bafd932,openstack/castellan,master,I56c9a9821569abb5330201715c8ca1df7bafd932,Updated from global requirements,MERGED,2017-05-26 17:17:36.000000000,2017-05-27 02:15:54.000000000,2017-05-27 02:15:54.000000000,"[{'_account_id': 3}, {'_account_id': 8623}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-05-26 17:17:36.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/castellan/commit/773e09fe7f8efc564996b7205e510ab0df518066', 'message': 'Updated from global requirements\n\nChange-Id: I56c9a9821569abb5330201715c8ca1df7bafd932\n'}]",0,468475,773e09fe7f8efc564996b7205e510ab0df518066,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I56c9a9821569abb5330201715c8ca1df7bafd932
",git fetch https://review.opendev.org/openstack/castellan refs/changes/75/468475/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,773e09fe7f8efc564996b7205e510ab0df518066,openstack/requirements,oslo.context>=2.14.0 # Apache-2.0,oslo.context>=2.12.0 # Apache-2.0,1,1
openstack%2Fcloudkitty~master~If996253f8a2f27b9fcf8aa3f1e171f216d238736,openstack/cloudkitty,master,If996253f8a2f27b9fcf8aa3f1e171f216d238736,Remove log translations,ABANDONED,2017-05-25 08:08:05.000000000,2017-05-27 02:15:39.000000000,,"[{'_account_id': 3}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-05-25 08:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/cede172de990dac363432e40814278feb47dac6d', 'message': 'Remove log translations\n\nLog messages are no longer being translated.\nThis removes all use of the _LE, _LI, and _LW\ntranslation markers to simplify logging and to\navoid confusion with new contributions.\n\nSee:\nhttp://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html\n\nChange-Id: If996253f8a2f27b9fcf8aa3f1e171f216d238736\n'}, {'number': 2, 'created': '2017-05-25 08:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/81df70651627bfd97540c95e3e5caba725d9c386', 'message': 'Remove log translations\n\nLog messages are no longer being translated.\nThis removes all use of the _LE, _LI, and _LW\ntranslation markers to simplify logging and to\navoid confusion with new contributions.\n\nSee:\nhttp://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html\n\nChange-Id: If996253f8a2f27b9fcf8aa3f1e171f216d238736\n'}, {'number': 3, 'created': '2017-05-26 08:39:44.000000000', 'files': ['cloudkitty/api/app.py', 'cloudkitty/storage/gnocchi/__init__.py', 'cloudkitty/api/v1/types.py', 'cloudkitty/i18n.py', 'cloudkitty/orchestrator.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/bdce9786c02c62d5e5f40fb7ebdb925f6beef075', 'message': 'Remove log translations\n\nLog messages are no longer being translated.\nThis removes all use of the _LE, _LI, and _LW\ntranslation markers to simplify logging and to\navoid confusion with new contributions.\n\nSee:\nhttp://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html\n\nChange-Id: If996253f8a2f27b9fcf8aa3f1e171f216d238736\n'}]",0,467923,bdce9786c02c62d5e5f40fb7ebdb925f6beef075,8,2,3,25055,,,0,"Remove log translations

Log messages are no longer being translated.
This removes all use of the _LE, _LI, and _LW
translation markers to simplify logging and to
avoid confusion with new contributions.

See:
http://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html
http://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html

Change-Id: If996253f8a2f27b9fcf8aa3f1e171f216d238736
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/23/467923/2 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/api/app.py', 'cloudkitty/api/v1/types.py', 'cloudkitty/i18n.py', 'cloudkitty/orchestrator.py']",4,cede172de990dac363432e40814278feb47dac6d,," LOG.info('Received reload modules command.') LOG.info('Received reload command for module %s.', name) LOG.info('Received enable command for module %s.', name) LOG.info('Received disable command for module %s.', name) 'Error while collecting service ' '%(service)s: %(error)s',","from cloudkitty.i18n import _LI, _LW LOG.info(_LI('Received reload modules command.')) LOG.info(_LI('Received reload command for module %s.'), name) LOG.info(_LI('Received enable command for module %s.'), name) LOG.info(_LI('Received disable command for module %s.'), name) _LW('Error while collecting service ' '%(service)s: %(error)s'),",14,21
openstack%2Fpuppet-openstack-cookiecutter~master~I30a5aed7fd757b2bf87f62c082c19e1c20e9fe1e,openstack/puppet-openstack-cookiecutter,master,I30a5aed7fd757b2bf87f62c082c19e1c20e9fe1e,Fix unit test,MERGED,2017-05-25 11:39:17.000000000,2017-05-27 02:13:52.000000000,2017-05-27 02:13:52.000000000,"[{'_account_id': 3}, {'_account_id': 1607}, {'_account_id': 3153}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-05-25 11:39:17.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/spec/classes/{{cookiecutter.project_name}}_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/a2bb9fbb194d08b8238e6d8f068655a1b8603fb4', 'message': 'Fix unit test\n\nThe db_backend_package name has changed in puppet-oslo[0], so fix it.\n\n[0]: https://review.openstack.org/#/c/467582/\n\nChange-Id: I30a5aed7fd757b2bf87f62c082c19e1c20e9fe1e\nCloses-Bug: #1693403\n'}]",0,468004,a2bb9fbb194d08b8238e6d8f068655a1b8603fb4,7,4,1,25431,,,0,"Fix unit test

The db_backend_package name has changed in puppet-oslo[0], so fix it.

[0]: https://review.openstack.org/#/c/467582/

Change-Id: I30a5aed7fd757b2bf87f62c082c19e1c20e9fe1e
Closes-Bug: #1693403
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/04/468004/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-{{cookiecutter.project_name}}/spec/classes/{{cookiecutter.project_name}}_db_spec.rb'],1,a2bb9fbb194d08b8238e6d8f068655a1b8603fb4,bug/1693403, is_expected.to contain_package('python-pymysql').with( is_expected.not_to contain_package('python-pymysql'), is_expected.to contain_package('db_backend_package').with( is_expected.not_to contain_package('db_backend_package'),2,2
openstack%2Fneutron~master~I7544322f31b4eda378eb8ee541786ea2574e1cf0,openstack/neutron,master,I7544322f31b4eda378eb8ee541786ea2574e1cf0,python3: return str from read_stdout,MERGED,2017-05-25 01:25:24.000000000,2017-05-27 01:52:27.000000000,2017-05-27 01:52:26.000000000,"[{'_account_id': 3}, {'_account_id': 4694}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-05-25 01:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9408c088dec99db1c75fc26271f816ac153174d3', 'message': ""python3: return str from read_stdout\n\nThe result later may be concatenated with another str, and it will then\nfail with: TypeError: can't concat bytes to str\n\nIt's safer to always return a str into test cases.\n\nChange-Id: I7544322f31b4eda378eb8ee541786ea2574e1cf0\n""}, {'number': 2, 'created': '2017-05-25 04:29:42.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fea1b91a886644b39cb7d500b256dab0717a5804', 'message': ""python3: return str from read_stdout\n\nThe result later may be concatenated with another str, and it will then\nfail with: TypeError: can't concat bytes to str\n\nIt's safer to always return a str into test cases.\n\nChange-Id: I7544322f31b4eda378eb8ee541786ea2574e1cf0\n""}]",0,467810,fea1b91a886644b39cb7d500b256dab0717a5804,26,8,2,9656,,,0,"python3: return str from read_stdout

The result later may be concatenated with another str, and it will then
fail with: TypeError: can't concat bytes to str

It's safer to always return a str into test cases.

Change-Id: I7544322f31b4eda378eb8ee541786ea2574e1cf0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/467810/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,9408c088dec99db1c75fc26271f816ac153174d3,func-py3," return self._read_stream(self.stdout, timeout).encode('utf-8')"," return self._read_stream(self.stdout, timeout)",1,1
openstack%2Fneutron~stable%2Focata~I330eefbf429bd62f2a7e8ebadf7037da15c86815,openstack/neutron,stable/ocata,I330eefbf429bd62f2a7e8ebadf7037da15c86815,Add some bulk lookup methods to ML2 for RPC handling,MERGED,2017-05-19 20:06:09.000000000,2017-05-27 01:52:11.000000000,2017-05-27 01:52:11.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-05-19 20:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6fde022a391dd6c0f8187512109ee38f6ba2216', 'message': 'Add some bulk lookup methods to ML2 for RPC handling\n\nThis adds three methods to make working with bulk port\nDB lookups easier in ML2:\n\n* partial_port_ids_to_full_ids: takes short port IDs map to\n  full port IDs. This will allow us to eliminate many LIKE\n  queries and do one just once for all ports on an RPC call.\n* get_port_db_objects: Takes a list of port IDs and returns\n  a map to port DB objects. This allows us to get access to\n  sqla obejcts for a bunch of ports without a custom\n  session.query call.\n* get_network_contexts: Takes a list of network_ids and does\n  a bulk construction of NetworkContext objects and returns\n  them as a map of network_id to NetworkContext to avoid\n  expensive net lookups when constructing lots of PortContext\n  objects.\n\nConflicts:\n\tneutron/plugins/ml2/db.py\n\tneutron/plugins/ml2/plugin.py\n\nPartial-Bug: #1665215\nChange-Id: I330eefbf429bd62f2a7e8ebadf7037da15c86815\n(cherry picked from commit 323eb7f2e146ecc2f7c25d59e57d1e1e006cb71f)\n'}, {'number': 2, 'created': '2017-05-19 20:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/360a64171496f1428cf263a47ed3e9903b6f6240', 'message': 'Add some bulk lookup methods to ML2 for RPC handling\n\nThis adds three methods to make working with bulk port\nDB lookups easier in ML2:\n\n* partial_port_ids_to_full_ids: takes short port IDs map to\n  full port IDs. This will allow us to eliminate many LIKE\n  queries and do one just once for all ports on an RPC call.\n* get_port_db_objects: Takes a list of port IDs and returns\n  a map to port DB objects. This allows us to get access to\n  sqla obejcts for a bunch of ports without a custom\n  session.query call.\n* get_network_contexts: Takes a list of network_ids and does\n  a bulk construction of NetworkContext objects and returns\n  them as a map of network_id to NetworkContext to avoid\n  expensive net lookups when constructing lots of PortContext\n  objects.\n\nConflicts:\n\tneutron/plugins/ml2/db.py\n\tneutron/plugins/ml2/plugin.py\n\nPartial-Bug: #1665215\nChange-Id: I330eefbf429bd62f2a7e8ebadf7037da15c86815\n(cherry picked from commit 323eb7f2e146ecc2f7c25d59e57d1e1e006cb71f)\n'}, {'number': 3, 'created': '2017-05-23 17:32:47.000000000', 'files': ['neutron/plugins/ml2/db.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce0e4b25d5cbabaff147cc7212fe033a95233a54', 'message': 'Add some bulk lookup methods to ML2 for RPC handling\n\nThis adds three methods to make working with bulk port\nDB lookups easier in ML2:\n\n* partial_port_ids_to_full_ids: takes short port IDs map to\n  full port IDs. This will allow us to eliminate many LIKE\n  queries and do one just once for all ports on an RPC call.\n* get_port_db_objects: Takes a list of port IDs and returns\n  a map to port DB objects. This allows us to get access to\n  sqla obejcts for a bunch of ports without a custom\n  session.query call.\n* get_network_contexts: Takes a list of network_ids and does\n  a bulk construction of NetworkContext objects and returns\n  them as a map of network_id to NetworkContext to avoid\n  expensive net lookups when constructing lots of PortContext\n  objects.\n\nConflicts:\n\tneutron/plugins/ml2/db.py\n\tneutron/plugins/ml2/plugin.py\n\nPartial-Bug: #1665215\nChange-Id: I330eefbf429bd62f2a7e8ebadf7037da15c86815\n(cherry picked from commit 323eb7f2e146ecc2f7c25d59e57d1e1e006cb71f)\n'}]",0,466394,ce0e4b25d5cbabaff147cc7212fe033a95233a54,28,8,3,9656,,,0,"Add some bulk lookup methods to ML2 for RPC handling

This adds three methods to make working with bulk port
DB lookups easier in ML2:

* partial_port_ids_to_full_ids: takes short port IDs map to
  full port IDs. This will allow us to eliminate many LIKE
  queries and do one just once for all ports on an RPC call.
* get_port_db_objects: Takes a list of port IDs and returns
  a map to port DB objects. This allows us to get access to
  sqla obejcts for a bunch of ports without a custom
  session.query call.
* get_network_contexts: Takes a list of network_ids and does
  a bulk construction of NetworkContext objects and returns
  them as a map of network_id to NetworkContext to avoid
  expensive net lookups when constructing lots of PortContext
  objects.

Conflicts:
	neutron/plugins/ml2/db.py
	neutron/plugins/ml2/plugin.py

Partial-Bug: #1665215
Change-Id: I330eefbf429bd62f2a7e8ebadf7037da15c86815
(cherry picked from commit 323eb7f2e146ecc2f7c25d59e57d1e1e006cb71f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/466394/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/db.py', 'neutron/plugins/ml2/plugin.py']",2,e6fde022a391dd6c0f8187512109ee38f6ba2216,bug/1665215," def get_network_contexts(self, context, network_ids): """"""Return a map of network_id to NetworkContext for network_ids."""""" net_filters = {'id': list(set(network_ids))} nets_by_netid = { n['id']: n for n in self.get_networks(context, filters=net_filters) } segments_by_netid = segments_db.get_networks_segments( context, nets_by_netid.keys()) netctxs_by_netid = { net_id: driver_context.NetworkContext( self, context, nets_by_netid[net_id], segments=segments_by_netid[net_id]) for net_id in nets_by_netid.keys() } return netctxs_by_netid ",,59,1
openstack%2Fceilometer~master~I32783f5e55dd9e56f0933c96ff7c05f24f991a48,openstack/ceilometer,master,I32783f5e55dd9e56f0933c96ff7c05f24f991a48,Fix event resources type,ABANDONED,2017-04-11 09:59:48.000000000,2017-05-27 01:49:32.000000000,,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 15843}, {'_account_id': 22752}]","[{'number': 1, 'created': '2017-04-11 09:59:48.000000000', 'files': ['ceilometer/dispatcher/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1837ada5bcb74ebe5b7f2dd340ba7e0eeca6281d', 'message': 'Fix event resources type\n\nNot clear the reason why the dict string in nested dictionary\nevent_associated_resources is recognized as dict. So make the type\nfixed to avoid this.\n\nChange-Id: I32783f5e55dd9e56f0933c96ff7c05f24f991a48\nCloses-Bug: #1679241\n'}]",6,455626,1837ada5bcb74ebe5b7f2dd340ba7e0eeca6281d,10,5,1,22752,,,0,"Fix event resources type

Not clear the reason why the dict string in nested dictionary
event_associated_resources is recognized as dict. So make the type
fixed to avoid this.

Change-Id: I32783f5e55dd9e56f0933c96ff7c05f24f991a48
Closes-Bug: #1679241
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/26/455626/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/dispatcher/gnocchi.py'],1,1837ada5bcb74ebe5b7f2dd340ba7e0eeca6281d,bug/1679241," self._search_resource(resource_type, str(query) % resource['id'])"," self._search_resource(resource_type, query % resource['id'])",2,1
openstack%2Fos-brick~stable%2Focata~Ib1230d3e40f56371567e1aead40db59667bad295,openstack/os-brick,stable/ocata,Ib1230d3e40f56371567e1aead40db59667bad295,RBD: consider a custom keyring in connection info,MERGED,2017-03-29 06:20:15.000000000,2017-05-27 01:46:02.000000000,2017-05-26 15:51:29.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 7173}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 9535}, {'_account_id': 11600}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12924}, {'_account_id': 16595}, {'_account_id': 19852}, {'_account_id': 20676}, {'_account_id': 22796}, {'_account_id': 24680}]","[{'number': 1, 'created': '2017-03-29 06:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2bab45a05cacc19201c6ebd0e32e4bbf5bef43af', 'message': ""RBD: consider a custom keyring in connection info\n\nIf a 'keyring' key is found in the connection info passed to\nconnect_volume() use its value as the path to the keyring instead of the\ndefault location (/etc/ceph/<cluster>.client.<user>.keyring).\n\nThis allows services such as cinder's RBD and Ceph backup drivers to\nmake use of a custom keyring path that an admin has defined.\n\nChange-Id: Ib1230d3e40f56371567e1aead40db59667bad295\nCloses-bug: #1668304\n(cherry picked from commit 7b9a6686bcb5ead98934b737d1523601dea33d16)\n""}, {'number': 2, 'created': '2017-05-24 20:03:04.000000000', 'files': ['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/connectors/rbd.py', 'releasenotes/notes/add_custom_keyring_for_rbd_connection-eccbaae9ee5f3491.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/51a6234d7863f20c76e809dfa3cf7439a36c645d', 'message': ""RBD: consider a custom keyring in connection info\n\nIf a 'keyring' key is found in the connection info passed to\nconnect_volume() use its value as the path to the keyring instead of the\ndefault location (/etc/ceph/<cluster>.client.<user>.keyring).\n\nThis allows services such as cinder's RBD and Ceph backup drivers to\nmake use of a custom keyring path that an admin has defined.\n\nChange-Id: Ib1230d3e40f56371567e1aead40db59667bad295\nCloses-bug: #1668304\n(cherry picked from commit 7b9a6686bcb5ead98934b737d1523601dea33d16)\n""}]",0,451201,51a6234d7863f20c76e809dfa3cf7439a36c645d,47,22,2,20676,,,0,"RBD: consider a custom keyring in connection info

If a 'keyring' key is found in the connection info passed to
connect_volume() use its value as the path to the keyring instead of the
default location (/etc/ceph/<cluster>.client.<user>.keyring).

This allows services such as cinder's RBD and Ceph backup drivers to
make use of a custom keyring path that an admin has defined.

Change-Id: Ib1230d3e40f56371567e1aead40db59667bad295
Closes-bug: #1668304
(cherry picked from commit 7b9a6686bcb5ead98934b737d1523601dea33d16)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/01/451201/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/connectors/rbd.py', 'releasenotes/notes/add_custom_keyring_for_rbd_connection-eccbaae9ee5f3491.yaml']",3,2bab45a05cacc19201c6ebd0e32e4bbf5bef43af,bug/1668304,--- fixes: - Add support to use custom Ceph keyring files (previously os-brick hardcoded using /etc/ceph/<cluster>.client.<user>.keyring file). ,,31,5
openstack%2Fnova~master~I8a0e620e4030c70b9ba9071066c578ee786fcf9d,openstack/nova,master,I8a0e620e4030c70b9ba9071066c578ee786fcf9d,Force to evacuate ACTIVE status instances failed if a host is provided,ABANDONED,2017-05-11 09:34:30.000000000,2017-05-27 01:44:52.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17814}, {'_account_id': 20040}, {'_account_id': 23983}, {'_account_id': 25110}]","[{'number': 1, 'created': '2017-05-11 09:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de2d56da1e0c2a140d0e8315abba1067236752c9', 'message': 'Force to evacuate ACTIVE status instances failed if a host is provided\n\nChange-Id: I8a0e620e4030c70b9ba9071066c578ee786fcf9d\nCloses-Bug: #1686041\n'}, {'number': 2, 'created': '2017-05-12 08:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/217fb7dd2e8f8e1547763f748d1443e5813cf8c1', 'message': ""Force to evacuate ACTIVE status instances failed if a host is provided\n\nForce to evacuate ACTIVE status instances to another host(a host is provided),we can find an error 'Timeout waiting for vif plugging callback' on nova-compute log.\n\nIn nova-api log,we can find network-vif-plugged event send to source compute,because nova-compute use NopClaim,not create MigrationContext,so not send this event to dest compute in function nova.compute.api._get_relevant_hosts(https://github.com/openstack/nova/blob/master/nova/compute/api.py#L4241).\n\nIn https://github.com/openstack/nova/blob/master/nova/compute/manager.py#L2723, using function NopClaim when the value of scheduled_node is None while forcing evacuate ACTIVE instances to another host.(https://github.com/openstack/nova/blob/master/nova/compute/api.py#L4113)\n\nChange-Id: I8a0e620e4030c70b9ba9071066c578ee786fcf9d\nCloses-Bug: #1686041\n""}, {'number': 3, 'created': '2017-05-12 08:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32a04be2bdc13e674ddad3358ad8660c19379306', 'message': ""Force to evacuate ACTIVE status instances failed if a host is provided\n\nForce to evacuate ACTIVE status instances to another host(a host is provided),\nwe can find an error 'Timeout waiting for vif plugging callback' on nova-compute log.\n\nChange-Id: I8a0e620e4030c70b9ba9071066c578ee786fcf9d\nCloses-Bug: #1686041\n""}, {'number': 4, 'created': '2017-05-12 08:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76037d95d01106197dd77a81cf7a51b81d75be3d', 'message': ""Force to evacuate ACTIVE status instances failed if a host is provided\n\nForce to evacuate ACTIVE status instances to another host(a host is provided),\nwe can find an error 'Timeout waiting for vif plugging callback' on nova-compute log.\n\nIn nova-api log,we can find network-vif-plugged event send to source compute,\nbecause nova-compute use NopClaim,not create MigrationContext,\nso not send this event to dest compute.\n\nChange-Id: I8a0e620e4030c70b9ba9071066c578ee786fcf9d\nCloses-Bug: #1686041\n""}, {'number': 5, 'created': '2017-05-12 09:11:33.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3fe802705c06731b485006e437be8fc3374e4070', 'message': ""Force to evacuate ACTIVE status instances failed if a host is provided\n\nForce to evacuate ACTIVE status instances to another host(a host is \nprovided),we can find an error 'Timeout waiting for vif plugging \ncallback' on nova-compute log.\n\nIn nova-api log,we can find network-vif-plugged event send to source \ncompute,because nova-compute use NopClaim,not create MigrationContext,\nso not send this event to dest compute.\n\nChange-Id: I8a0e620e4030c70b9ba9071066c578ee786fcf9d\nCloses-Bug: #1686041\n""}]",0,463952,3fe802705c06731b485006e437be8fc3374e4070,57,16,5,23983,,,0,"Force to evacuate ACTIVE status instances failed if a host is provided

Force to evacuate ACTIVE status instances to another host(a host is 
provided),we can find an error 'Timeout waiting for vif plugging 
callback' on nova-compute log.

In nova-api log,we can find network-vif-plugged event send to source 
compute,because nova-compute use NopClaim,not create MigrationContext,
so not send this event to dest compute.

Change-Id: I8a0e620e4030c70b9ba9071066c578ee786fcf9d
Closes-Bug: #1686041
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/463952/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",3,de2d56da1e0c2a140d0e8315abba1067236752c9,bug/1686041, rt = self._get_resource_tracker() rebuild_claim = rt.rebuild_claim,,26,3
openstack%2Fsenlin~stable%2Focata~I2813922fabc7e50a46b4821c74c06f0d7c245c3d,openstack/senlin,stable/ocata,I2813922fabc7e50a46b4821c74c06f0d7c245c3d,Updated from global requirements,MERGED,2017-05-15 23:39:56.000000000,2017-05-27 01:04:30.000000000,2017-05-27 01:04:30.000000000,"[{'_account_id': 3}, {'_account_id': 8246}, {'_account_id': 25632}]","[{'number': 1, 'created': '2017-05-15 23:39:56.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/senlin/commit/2d9ac0e549250215759ffe6e09fc7c7024e981f2', 'message': 'Updated from global requirements\n\nChange-Id: I2813922fabc7e50a46b4821c74c06f0d7c245c3d\n'}]",0,464884,2d9ac0e549250215759ffe6e09fc7c7024e981f2,8,3,1,11131,,,0,"Updated from global requirements

Change-Id: I2813922fabc7e50a46b4821c74c06f0d7c245c3d
",git fetch https://review.opendev.org/openstack/senlin refs/changes/84/464884/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,2d9ac0e549250215759ffe6e09fc7c7024e981f2,openstack/requirements,pbr>=1.8 # Apache-2.0,"pbr<2.0.0,>=1.8 # Apache-2.0",1,1
openstack%2Fsenlin~master~Ida106c55243e7f5ba9988679b7a260507e367878,openstack/senlin,master,Ida106c55243e7f5ba9988679b7a260507e367878,Updated from global requirements,MERGED,2017-05-23 00:54:33.000000000,2017-05-27 00:57:38.000000000,2017-05-27 00:57:38.000000000,"[{'_account_id': 3}, {'_account_id': 8246}]","[{'number': 1, 'created': '2017-05-23 00:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/e08cf58782081beee399498d9632a8ce427b0063', 'message': 'Updated from global requirements\n\nChange-Id: Ida106c55243e7f5ba9988679b7a260507e367878\n'}, {'number': 2, 'created': '2017-05-23 02:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/5982a21fa97ee756c0f5af4538586b74a3bd327e', 'message': 'Updated from global requirements\n\nChange-Id: Ida106c55243e7f5ba9988679b7a260507e367878\n'}, {'number': 3, 'created': '2017-05-23 12:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/730d9bdaa3a916f89cbb6007e483d48242ecc41b', 'message': 'Updated from global requirements\n\nChange-Id: Ida106c55243e7f5ba9988679b7a260507e367878\n'}, {'number': 4, 'created': '2017-05-23 12:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/ae036ceaa75517956c08bcbf052e2e7745aff38c', 'message': 'Updated from global requirements\n\nChange-Id: Ida106c55243e7f5ba9988679b7a260507e367878\n'}, {'number': 5, 'created': '2017-05-24 03:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/4148d6953d5aaa996170caf50c9a7e9cb01dc83b', 'message': 'Updated from global requirements\n\nChange-Id: Ida106c55243e7f5ba9988679b7a260507e367878\n'}, {'number': 6, 'created': '2017-05-24 12:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/33e4ffdef5f67d3319a5960515e5141ea9ebd3a6', 'message': 'Updated from global requirements\n\nChange-Id: Ida106c55243e7f5ba9988679b7a260507e367878\n'}, {'number': 7, 'created': '2017-05-26 01:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/b46c8cb89577525e2d926129587cc740d0b74b4a', 'message': 'Updated from global requirements\n\nChange-Id: Ida106c55243e7f5ba9988679b7a260507e367878\n'}, {'number': 8, 'created': '2017-05-26 17:30:13.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/senlin/commit/a2af98ccb3a941d98a27857b1653468f012743b9', 'message': 'Updated from global requirements\n\nChange-Id: Ida106c55243e7f5ba9988679b7a260507e367878\n'}]",0,466956,a2af98ccb3a941d98a27857b1653468f012743b9,19,2,8,11131,,,0,"Updated from global requirements

Change-Id: Ida106c55243e7f5ba9988679b7a260507e367878
",git fetch https://review.opendev.org/openstack/senlin refs/changes/56/466956/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e08cf58782081beee399498d9632a8ce427b0063,openstack/requirements,openstacksdk>=0.9.16 # Apache-2.0,openstacksdk>=0.9.14 # Apache-2.0,1,1
openstack%2Fneutron~master~I2347fedbecef823babe3d8038f5a74b21fc0a602,openstack/neutron,master,I2347fedbecef823babe3d8038f5a74b21fc0a602,objects: added update_objects to OVO framework,MERGED,2017-03-31 17:19:15.000000000,2017-05-27 00:30:55.000000000,2017-05-27 00:30:55.000000000,"[{'_account_id': 3}, {'_account_id': 4694}, {'_account_id': 7787}, {'_account_id': 8726}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 15471}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 17491}, {'_account_id': 20246}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-03-31 17:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca069b36aba278e30b2a3258588f4c557f841aeb', 'message': 'Added update_objects to OVO framework\n\nThis method allows to update matching resources with requested values\nwithout doing full fetch/set/update cycle. This is also handy to ""lock""\nrecords in database with UPDATE WHERE.\n\nChange-Id: I2347fedbecef823babe3d8038f5a74b21fc0a602\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 2, 'created': '2017-03-31 18:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51dd28dc083ebc4fd24706132e30f5502fdf85ed', 'message': 'WIP Added update_objects to OVO framework\n\nThis method allows to update matching resources with requested values\nwithout doing full fetch/set/update cycle. This is also handy to ""lock""\nrecords in database with UPDATE WHERE.\n\nTODO: fix tests\nTODO: update devref\n\nChange-Id: I2347fedbecef823babe3d8038f5a74b21fc0a602\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 3, 'created': '2017-04-06 02:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6128d2991c953a40656e262a5ce495e196d62248', 'message': 'WIP Added update_objects to OVO framework\n\nThis method allows to update matching resources with requested values\nwithout doing full fetch/set/update cycle. This is also handy to ""lock""\nrecords in database with UPDATE WHERE.\n\nTODO: fix tests\nTODO: update devref\n\nChange-Id: I2347fedbecef823babe3d8038f5a74b21fc0a602\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 4, 'created': '2017-04-17 14:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ae3ab71ffe15a48830fe83836bdaf79df986598', 'message': 'WIP Added update_objects to OVO framework\n\nThis method allows to update matching resources with requested values\nwithout doing full fetch/set/update cycle. This is also handy to ""lock""\nrecords in database with UPDATE WHERE.\n\nTODO: fix tests\nTODO: update devref\n\nChange-Id: I2347fedbecef823babe3d8038f5a74b21fc0a602\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 5, 'created': '2017-05-23 02:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40cd84b799b7ef525b84d8b420978e9ac9675f81', 'message': 'objects: added update_objects to OVO framework\n\nThis method allows to update matching resources with requested values\nwithout doing full fetch/set/update cycle. This is also handy to ""lock""\nrecords in database with UPDATE WHERE.\n\nChange-Id: I2347fedbecef823babe3d8038f5a74b21fc0a602\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 6, 'created': '2017-05-23 16:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d6276fc6f19ba389a10630b590bc18372413f4e', 'message': 'objects: added update_objects to OVO framework\n\nThis method allows to update matching resources with requested values\nwithout doing full fetch/set/update cycle. This is also handy to ""lock""\nrecords in database with UPDATE WHERE.\n\nChange-Id: I2347fedbecef823babe3d8038f5a74b21fc0a602\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 7, 'created': '2017-05-24 20:28:11.000000000', 'files': ['neutron/objects/db/api.py', 'doc/source/devref/objects_usage.rst', 'neutron/objects/base.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/tests/unit/objects/test_subnet.py', 'neutron/objects/subnetpool.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b309e12a5d6d7a53c86e98d719967c0a3bb07e14', 'message': 'objects: added update_objects to OVO framework\n\nThis method allows to update matching resources with requested values\nwithout doing full fetch/set/update cycle. This is also handy to ""lock""\nrecords in database with UPDATE WHERE.\n\nChange-Id: I2347fedbecef823babe3d8038f5a74b21fc0a602\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}]",5,452266,b309e12a5d6d7a53c86e98d719967c0a3bb07e14,70,16,7,9656,,,0,"objects: added update_objects to OVO framework

This method allows to update matching resources with requested values
without doing full fetch/set/update cycle. This is also handy to ""lock""
records in database with UPDATE WHERE.

Change-Id: I2347fedbecef823babe3d8038f5a74b21fc0a602
Partially-Implements: blueprint adopt-oslo-versioned-objects-for-db
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/452266/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/objects/db/api.py', 'neutron/objects/base.py']",2,ca069b36aba278e30b2a3258588f4c557f841aeb,bp/adopt-oslo-versioned-objects-for-db," def update_objects(cls, context, values, validate_filters=True, **kwargs): objs = cls.get_objects(context, validate_filters, **kwargs) for obj in objs: for k, v in values.items(): setattr(obj, k, v) obj.update() return len(objs) @classmethod def update_objects(cls, context, values, validate_filters=True, **kwargs): """""" Update objects that match filtering criteria from DB. :param context: :param values: multiple keys to update in matching objects :param validate_filters: Raises an error in case of passing an unknown filter :param kwargs: multiple keys defined by key=value pairs :return: Number of entries updated """""" if validate_filters: cls.validate_filters(**kwargs) with db_api.autonested_transaction(context.session): return obj_db_api.update_objects( context, cls.db_model, values, **cls.modify_fields_to_db(kwargs)) @classmethod",,42,0
openstack%2Fzun~master~Idbc0449e6f99fd006e5a996e07971455d8a8ee24,openstack/zun,master,Idbc0449e6f99fd006e5a996e07971455d8a8ee24,Make docker client compatible with 2.0 API,ABANDONED,2017-05-25 07:29:24.000000000,2017-05-27 00:23:56.000000000,,"[{'_account_id': 3}, {'_account_id': 8264}, {'_account_id': 11536}, {'_account_id': 23365}]","[{'number': 1, 'created': '2017-05-25 07:29:24.000000000', 'files': ['zun/container/docker/utils.py', 'nova/virt/zun/client.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/764f87e0e4104c46e6d3566075fe4c4a1a5d9d44', 'message': 'Make docker client compatible with 2.0 API\n\nDocker-py 2.0 changed the client name from client.Client to\nclient.DockerClient.\n\nThis patch make old version API compatilbe with 2.0 API. A BP[1]\nwas log to adopt the 2.0 API.\n\n[1]:\nhttps://blueprints.launchpad.net/zun/+spec/adopt-docker-py-2.0-api\n\nChange-Id: Idbc0449e6f99fd006e5a996e07971455d8a8ee24\nCloses-Bug: #1693425\n'}]",7,467915,764f87e0e4104c46e6d3566075fe4c4a1a5d9d44,10,4,1,8264,,,0,"Make docker client compatible with 2.0 API

Docker-py 2.0 changed the client name from client.Client to
client.DockerClient.

This patch make old version API compatilbe with 2.0 API. A BP[1]
was log to adopt the 2.0 API.

[1]:
https://blueprints.launchpad.net/zun/+spec/adopt-docker-py-2.0-api

Change-Id: Idbc0449e6f99fd006e5a996e07971455d8a8ee24
Closes-Bug: #1693425
",git fetch https://review.opendev.org/openstack/zun refs/changes/15/467915/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/container/docker/utils.py', 'nova/virt/zun/client.py']",2,764f87e0e4104c46e6d3566075fe4c4a1a5d9d44,bug/1693425,"if hasattr(client, 'Client'): cls = client.Client else: cls = client.APIClient class DockerHTTPClient(cls):",class DockerHTTPClient(client.Client):,12,2
openstack%2Fneutron~master~I96a7c6fd15cf089d80d0c512e94e7fb9da6aba4d,openstack/neutron,master,I96a7c6fd15cf089d80d0c512e94e7fb9da6aba4d,objects: update fields_no_update to reflect models,MERGED,2017-05-23 02:30:58.000000000,2017-05-27 00:20:37.000000000,2017-05-27 00:20:37.000000000,"[{'_account_id': 3}, {'_account_id': 4694}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15471}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17491}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-05-23 02:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/721f74bc59c8615384d076269b6110744e4a4fd1', 'message': ""objects: update fields_no_update and primary_keys to reflect models\n\nIt will make sure that object update code won't mistakenly touch those\nattributes, triggering foreign key violations for linked resources, or\nproducing incomplete composite keys.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\nChange-Id: I96a7c6fd15cf089d80d0c512e94e7fb9da6aba4d\n""}, {'number': 2, 'created': '2017-05-23 16:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d39d6c8b56270cecb4c4ddf4a8b31480e67f85b', 'message': ""objects: update fields_no_update and primary_keys to reflect models\n\nIt will make sure that object update code won't mistakenly touch those\nattributes, triggering foreign key violations for linked resources, or\nproducing incomplete composite keys.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\nChange-Id: I96a7c6fd15cf089d80d0c512e94e7fb9da6aba4d\n""}, {'number': 3, 'created': '2017-05-24 20:28:06.000000000', 'files': ['neutron/objects/metering.py', 'neutron/objects/securitygroup.py', 'neutron/objects/port/extensions/extra_dhcp_opt.py', 'neutron/objects/subnet.py', 'neutron/objects/auto_allocate.py', 'neutron/objects/network.py', 'neutron/objects/trunk.py', 'neutron/objects/ports.py', 'neutron/objects/ipam.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/caf32b69cd36ef19d9beceff2516eb846cf1d092', 'message': ""objects: update fields_no_update to reflect models\n\nIt will make sure that object update code won't mistakenly touch those\nattributes, triggering foreign key violations for linked resources.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\nChange-Id: I96a7c6fd15cf089d80d0c512e94e7fb9da6aba4d\n""}]",0,466984,caf32b69cd36ef19d9beceff2516eb846cf1d092,35,12,3,9656,,,0,"objects: update fields_no_update to reflect models

It will make sure that object update code won't mistakenly touch those
attributes, triggering foreign key violations for linked resources.

Partially-Implements: blueprint adopt-oslo-versioned-objects-for-db
Change-Id: I96a7c6fd15cf089d80d0c512e94e7fb9da6aba4d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/466984/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/objects/securitygroup.py', 'neutron/objects/port/extensions/extra_dhcp_opt.py', 'neutron/objects/subnet.py', 'neutron/objects/auto_allocate.py', 'neutron/objects/network.py', 'neutron/objects/trunk.py', 'neutron/objects/ports.py', 'neutron/objects/ipam.py']",8,721f74bc59c8615384d076269b6110744e4a4fd1,bp/adopt-oslo-versioned-objects-for-db, fields_no_update = ['ipam_subnet_id'] ,,17,3
openstack%2Fneutron~master~Ica8f50c45eb482e7a48d9b5b2b997cf9133b3100,openstack/neutron,master,Ica8f50c45eb482e7a48d9b5b2b997cf9133b3100,objects: don't allow to update create_at and update_at,MERGED,2017-05-23 02:30:58.000000000,2017-05-27 00:13:03.000000000,2017-05-27 00:13:03.000000000,"[{'_account_id': 3}, {'_account_id': 4694}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 12860}, {'_account_id': 15471}, {'_account_id': 17491}]","[{'number': 1, 'created': '2017-05-23 02:30:58.000000000', 'files': ['neutron/objects/extensions/standardattributes.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c907905b0fc245ce1413b1461fd6f5c2b699ce0', 'message': ""objects: don't allow to update create_at and update_at\n\nThose fields are managed by sqlalchemy layer, we should not allow to\nupdate them via OVO.\n\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\nChange-Id: Ica8f50c45eb482e7a48d9b5b2b997cf9133b3100\n""}]",0,466983,8c907905b0fc245ce1413b1461fd6f5c2b699ce0,20,7,1,9656,,,0,"objects: don't allow to update create_at and update_at

Those fields are managed by sqlalchemy layer, we should not allow to
update them via OVO.

Partially-Implements: blueprint adopt-oslo-versioned-objects-for-db
Change-Id: Ica8f50c45eb482e7a48d9b5b2b997cf9133b3100
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/466983/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/objects/extensions/standardattributes.py'],1,8c907905b0fc245ce1413b1461fd6f5c2b699ce0,bp/adopt-oslo-versioned-objects-for-db," # those fields are updated by sqlalchemy itself cls.fields_no_update += ('created_at', 'updated_at')",,2,0
openstack%2Fnetworking-odl~master~If86446966c03f04eb80087e7ec262ad9c4fcd626,openstack/networking-odl,master,If86446966c03f04eb80087e7ec262ad9c4fcd626,Added decorator to assign postcommit method,MERGED,2017-04-17 09:46:22.000000000,2017-05-27 00:12:46.000000000,2017-05-27 00:12:46.000000000,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 6854}, {'_account_id': 7776}, {'_account_id': 13912}]","[{'number': 1, 'created': '2017-04-17 09:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/36fce8844bce6c6f69ba47cf8d6ba39daae04145', 'message': 'Added decorator to assign postcommit method\n\nThere are a lot of *_postcommit methods, having the same body,\ntherefore a decorator has been made to assign post commit\nmethod at the time of class creation.\n\nCurrently decorator has been added for sfc driver, it will be\nadded to remaining drivers as well.\n\nChange-Id: If86446966c03f04eb80087e7ec262ad9c4fcd626\n'}, {'number': 2, 'created': '2017-04-18 06:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/0c77474262c1b0bb65f330a113202fb9ac2d5d30', 'message': 'Added decorator to assign postcommit method\n\nThere are a lot of *_postcommit methods, having the same body,\ntherefore a decorator has been made to assign post commit\nmethod at the time of class creation.\n\nCurrently decorator has been added for sfc driver, it will be\nadded to remaining drivers as well.\n\nChange-Id: If86446966c03f04eb80087e7ec262ad9c4fcd626\n'}, {'number': 3, 'created': '2017-04-20 14:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/28b24f37f1bb88d8fdeba66896c9d4bef0740aa5', 'message': 'Added decorator to assign postcommit method\n\nThere are a lot of *_postcommit methods, having the same body,\ntherefore a decorator has been made to assign post commit\nmethod at the time of class creation.\n\nCurrently decorator has been added for sfc driver, it will be\nadded to remaining drivers as well.\n\nChange-Id: If86446966c03f04eb80087e7ec262ad9c4fcd626\n'}, {'number': 4, 'created': '2017-05-02 02:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/6cccb409ff45dd39e21a3b6b796ed5173f7f4546', 'message': 'Added decorator to assign postcommit method\n\nThere are a lot of *_postcommit methods, having the same body,\ntherefore a decorator has been made to assign post commit\nmethod at the time of class creation.\n\nCurrently decorator has been added for sfc driver, it will be\nadded to remaining drivers as well.\n\nRef: https://github.com/openstack/networking-midonet/blob/790a0ef22c43323de62e6e2e71bd82e9ad4aba7f/midonet/neutron/common/utils.py#L58-L64\n\nChange-Id: If86446966c03f04eb80087e7ec262ad9c4fcd626\n'}, {'number': 5, 'created': '2017-05-02 17:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5512fc2d466e65bba921000ac54718723f27de66', 'message': 'Added decorator to assign postcommit method\n\nThere are a lot of *_postcommit methods, having the same body,\ntherefore a decorator has been made to assign post commit\nmethod at the time of class creation.\n\nCurrently decorator has been added for sfc driver, it will be\nadded to remaining drivers as well.\n\nRef: https://github.com/openstack/networking-midonet/blob/790a0ef22c43323de62e6e2e71bd82e9ad4aba7f/midonet/neutron/common/utils.py#L58-L64\n\nChange-Id: If86446966c03f04eb80087e7ec262ad9c4fcd626\n'}, {'number': 6, 'created': '2017-05-03 13:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7e93e8342e48e04b4044b07e18d6f1181b3bd9ae', 'message': 'Added decorator to assign postcommit method\n\nThere are a lot of *_postcommit methods, having the same body,\ntherefore a decorator has been made to assign post commit\nmethod at the time of class creation.\n\nCurrently decorator has been added for sfc driver, it will be\nadded to remaining drivers as well.\n\nRef: https://github.com/openstack/networking-midonet/blob/790a0ef22c43323de62e6e2e71bd82e9ad4aba7f/midonet/neutron/common/utils.py#L58-L64\n\nChange-Id: If86446966c03f04eb80087e7ec262ad9c4fcd626\n'}, {'number': 7, 'created': '2017-05-10 05:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/6cc940d41f538fdf06b99b2613daca10108047ce', 'message': 'Added decorator to assign postcommit method\n\nThere are a lot of *_postcommit methods, having the same body,\ntherefore a decorator has been made to assign post commit\nmethod at the time of class creation.\n\nCurrently decorator has been added for sfc driver, it will be\nadded to remaining drivers as well.\n\nRef: https://github.com/openstack/networking-midonet/blob/790a0ef22c43323de62e6e2e71bd82e9ad4aba7f/midonet/neutron/common/utils.py#L58-L64\n\nChange-Id: If86446966c03f04eb80087e7ec262ad9c4fcd626\n'}, {'number': 8, 'created': '2017-05-23 07:26:03.000000000', 'files': ['networking_odl/common/postcommit.py', 'networking_odl/sfc/flowclassifier/sfc_flowclassifier_v2.py', 'networking_odl/tests/unit/common/test_postcommit.py', 'networking_odl/sfc/sfc_driver_v2.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/af8efd83c17dbcaddea6ea169fb5435548450a8b', 'message': 'Added decorator to assign postcommit method\n\nThere are a lot of *_postcommit methods, having the same body,\ntherefore a decorator has been made to assign post commit\nmethod at the time of class creation.\n\nCurrently decorator has been added for sfc driver, it will be\nadded to remaining drivers as well.\n\nRef: https://github.com/openstack/networking-midonet/blob/790a0ef22c43323de62e6e2e71bd82e9ad4aba7f/midonet/neutron/common/utils.py#L58-L64\n\nChange-Id: If86446966c03f04eb80087e7ec262ad9c4fcd626\n'}]",5,457193,af8efd83c17dbcaddea6ea169fb5435548450a8b,42,5,8,13912,,,0,"Added decorator to assign postcommit method

There are a lot of *_postcommit methods, having the same body,
therefore a decorator has been made to assign post commit
method at the time of class creation.

Currently decorator has been added for sfc driver, it will be
added to remaining drivers as well.

Ref: https://github.com/openstack/networking-midonet/blob/790a0ef22c43323de62e6e2e71bd82e9ad4aba7f/midonet/neutron/common/utils.py#L58-L64

Change-Id: If86446966c03f04eb80087e7ec262ad9c4fcd626
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/93/457193/3 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/common/postcommit.py', 'networking_odl/sfc/flowclassifier/sfc_flowclassifier_v2.py', 'networking_odl/sfc/sfc_driver_v2.py']",3,36fce8844bce6c6f69ba47cf8d6ba39daae04145,post_commit_improvement,"from networking_odl.common import postcommit@postcommit.add_postcommit( 'create_port_pair', 'create_port_pair_group', 'create_port_chain', 'update_port_pair', 'update_port_pair_group', 'update_port_chain', 'delete_port_pair', 'delete_port_pair_group', 'delete_port_chain')"," def _postcommit(self, context): self.journal.set_sync_event() create_port_pair_postcommit = _postcommit create_port_pair_group_postcommit = _postcommit create_port_chain_postcommit = _postcommit update_port_pair_postcommit = _postcommit update_port_pair_group_postcommit = _postcommit update_port_chain_postcommit = _postcommit delete_port_pair_postcommit = _postcommit delete_port_pair_group_postcommit = _postcommit delete_port_chain_postcommit = _postcommit ",44,20
openstack%2Foslo.db~master~I7e48a45e392c57901d27389f5797c8ce34492861,openstack/oslo.db,master,I7e48a45e392c57901d27389f5797c8ce34492861,add release note for new warning about missing driver,MERGED,2017-05-26 12:39:26.000000000,2017-05-26 23:52:04.000000000,2017-05-26 23:52:04.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 9796}, {'_account_id': 11816}]","[{'number': 1, 'created': '2017-05-26 12:39:26.000000000', 'files': ['releasenotes/notes/warn-incomplete-url-c44cd03baf630c7c.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/1821897b0c0d4ba99fe06d537ccd4536097b4929', 'message': 'add release note for new warning about missing driver\n\nChange-Id: I7e48a45e392c57901d27389f5797c8ce34492861\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,468404,1821897b0c0d4ba99fe06d537ccd4536097b4929,10,4,1,2472,,,0,"add release note for new warning about missing driver

Change-Id: I7e48a45e392c57901d27389f5797c8ce34492861
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/04/468404/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/warn-incomplete-url-c44cd03baf630c7c.yaml'],1,1821897b0c0d4ba99fe06d537ccd4536097b4929,warning-release-note,"--- upgrade: - | oslo.db now logs a warning when the connection URL does not explicitly mention a driver. The default driver is still used, but in some cases, such as MySQL, the default is incompatible with the concurrency library eventlet. - | It is strongly recommended to use the `PyMySQL <https://pypi.python.org/pypi/PyMySQL>`__ driver when connecting to a MySQL-compatible database to ensure the best compatibility with the concurrency library eventlet. To use PyMySQL, ensure the connection URL is specified with ``mysql+pymysql://`` as the scheme. ",,14,0
openstack%2Fnetworking-odl~master~I48f717d222ff05a77087f4b09b90676685eb081f,openstack/networking-odl,master,I48f717d222ff05a77087f4b09b90676685eb081f,devstack: add release definition of 0.6.0 carbon,MERGED,2017-05-16 22:48:41.000000000,2017-05-26 23:43:32.000000000,2017-05-26 23:43:32.000000000,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 17120}]","[{'number': 1, 'created': '2017-05-16 22:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/69bebe3187ab418c2dff7ce9df282a7f91f4c64f', 'message': 'devstack: add release definition of 0.6.0 carbon\n\nChange-Id: I48f717d222ff05a77087f4b09b90676685eb081f\n'}, {'number': 2, 'created': '2017-05-26 19:37:26.000000000', 'files': ['devstack/settings.odl', 'devstack/odl-releases/carbon-0.6.0'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/20c27a947be4f7aadf35f1ac072c427c8fec489a', 'message': 'devstack: add release definition of 0.6.0 carbon\n\nChange-Id: I48f717d222ff05a77087f4b09b90676685eb081f\n'}]",1,465192,20c27a947be4f7aadf35f1ac072c427c8fec489a,11,3,2,333,,,0,"devstack: add release definition of 0.6.0 carbon

Change-Id: I48f717d222ff05a77087f4b09b90676685eb081f
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/92/465192/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/settings.odl', 'devstack/odl-releases/carbon-0.6.0']",2,69bebe3187ab418c2dff7ce9df282a7f91f4c64f,carbon-release,,,1,0
openstack%2Fmanila~master~Ic3f272ab8e6e557c914440fb3dfb938151fc461e,openstack/manila,master,Ic3f272ab8e6e557c914440fb3dfb938151fc461e,Fix share instance list API display error,MERGED,2016-08-10 10:09:42.000000000,2017-05-26 23:04:08.000000000,2017-05-26 23:04:08.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 8056}, {'_account_id': 8851}, {'_account_id': 10621}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 15942}, {'_account_id': 16643}, {'_account_id': 17565}, {'_account_id': 17623}, {'_account_id': 18128}, {'_account_id': 18752}, {'_account_id': 20695}, {'_account_id': 22248}, {'_account_id': 25243}]","[{'number': 1, 'created': '2016-08-10 10:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3de22ae912f198c8cd4dfc867dd5774437e37f95', 'message': 'Fix share-instance-list command display error\n\nChange _collection_name to _collection_links when we want to\nto show instances_links\n\nChange-Id: Ic3f272ab8e6e557c914440fb3dfb938151fc461e\nCloses-bug: #1611699\n'}, {'number': 2, 'created': '2017-05-23 11:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d8fd2fcf8011a1cf3ba9ed37e1f253ca529b3f84', 'message': 'Fix share-instance-list command display error\n\nChange _collection_name to _collection_links when we want to\nto show instances_links\n\nChange-Id: Ic3f272ab8e6e557c914440fb3dfb938151fc461e\nCloses-bug: #1611699\n'}, {'number': 3, 'created': '2017-05-23 12:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/aaf026cc2a12ba7743c0002a011954757707bbce', 'message': 'Fix share-instance-list command display error\n\nChange _collection_name to _collection_links when we want to\nto show instances_links\n\nAPIImpact\nChange-Id: Ic3f272ab8e6e557c914440fb3dfb938151fc461e\nCloses-bug: #1611699\n'}, {'number': 4, 'created': '2017-05-23 12:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1c4ea4596e1ea54207a443fce6d4649df4eb710d', 'message': 'Fix share-instance-list command display error\n\nChange _collection_name to _collection_links when we want to\nto show instances_links\n\nAPIImpact\nChange-Id: Ic3f272ab8e6e557c914440fb3dfb938151fc461e\nCloses-bug: #1611699\n'}, {'number': 5, 'created': '2017-05-24 07:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3cdfbd19b91a7eeb3db86508469e7a304e70a3b7', 'message': 'Fix share instance list API display error\n\nThe share instances echo will be covered by share instance links\nwhen we run share instance list with limit number API.\nNow change _collection_name to _collection_links when we want to\nto show instances_links. Then the share instances echo will not\nbe covered by share instance links.\n\nAPIImpact\nChange-Id: Ic3f272ab8e6e557c914440fb3dfb938151fc461e\nCloses-bug: #1611699\n'}, {'number': 6, 'created': '2017-05-24 08:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3d70a9e6a70f8776b4a8ced1aa0f3457323f66fd', 'message': 'Fix share instance list API display error\n\nThe share instances echo will be covered by share instance links\nwhen we run share instance list with limit number API.\nNow change _collection_name to _collection_links when we want to\nto show instances_links. Then the share instances echo will not\nbe covered by share instance links.\n\nAPIImpact\nChange-Id: Ic3f272ab8e6e557c914440fb3dfb938151fc461e\nCloses-bug: #1611699\n'}, {'number': 7, 'created': '2017-05-24 09:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/698cb6791368e4f79d804d441387e28485e5805b', 'message': 'Fix share instance list API display error\n\nThe share instances echo will be covered by share instance links\nwhen we run share instance list with limit number API.\nNow change _collection_name to _collection_links when we want to\nto show instances_links. Then the share instances echo will not\nbe covered by share instance links.\n\nAPIImpact\nChange-Id: Ic3f272ab8e6e557c914440fb3dfb938151fc461e\nCloses-bug: #1611699\n'}, {'number': 8, 'created': '2017-05-24 09:40:15.000000000', 'files': ['manila/api/views/share_instance.py', 'releasenotes/notes/fix-share-instance-list-with-limit-db7b5b99138e22ee.yaml', 'manila/tests/api/v2/test_share_instances.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/a08bb6a240d6259e417eac67c744cffd7b6c09db', 'message': 'Fix share instance list API display error\n\nThe share instances echo will be covered by share instance links\nwhen we run share instance list with limit number API.\nNow change _collection_name to _collection_links when we want to\nto show instances_links. Then the share instances echo will not\nbe covered by share instance links.\n\nAPIImpact\nChange-Id: Ic3f272ab8e6e557c914440fb3dfb938151fc461e\nCloses-bug: #1611699\n'}]",1,353363,a08bb6a240d6259e417eac67c744cffd7b6c09db,56,17,8,15100,,,0,"Fix share instance list API display error

The share instances echo will be covered by share instance links
when we run share instance list with limit number API.
Now change _collection_name to _collection_links when we want to
to show instances_links. Then the share instances echo will not
be covered by share instance links.

APIImpact
Change-Id: Ic3f272ab8e6e557c914440fb3dfb938151fc461e
Closes-bug: #1611699
",git fetch https://review.opendev.org/openstack/manila refs/changes/63/353363/8 && git format-patch -1 --stdout FETCH_HEAD,['manila/api/views/share_instance.py'],1,3de22ae912f198c8cd4dfc867dd5774437e37f95,bug/1611699, _collection_links = 'share_instances_links' instances_dict[self._collection_links] = instances_links, instances_dict[self._collection_name] = instances_links,2,1
openstack%2Fcinder~master~I326bb5ae1e635cd76dafec1ed671f1c47254fcbd,openstack/cinder,master,I326bb5ae1e635cd76dafec1ed671f1c47254fcbd,OVO: Add reminder to add backporting code,MERGED,2017-05-22 09:08:05.000000000,2017-05-26 22:57:22.000000000,2017-05-22 15:18:30.000000000,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 15831}, {'_account_id': 16595}, {'_account_id': 17565}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19933}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24863}]","[{'number': 1, 'created': '2017-05-22 09:08:05.000000000', 'files': ['cinder/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/36e108801ca33acf41e203d945cc3b74ae16f745', 'message': ""OVO: Add reminder to add backporting code\n\nWe have a test that checks that we are bumping the version of OVOs\nwhenever we change the fields by checking the hashes of the OVOs and\nfails with a helpful reminder to bump the version if we haven't done so.\n\nThis patch adds a reminder to that message so we don't forget to add the\nbackporting code, as well as mentioning that if we think that\nbackporting code is not necessary then it means that the version bump is\nmost likely not necessary as well.\n\nTrivialFix\n\nChange-Id: I326bb5ae1e635cd76dafec1ed671f1c47254fcbd\n""}]",0,466641,36e108801ca33acf41e203d945cc3b74ae16f745,27,12,1,9535,,,0,"OVO: Add reminder to add backporting code

We have a test that checks that we are bumping the version of OVOs
whenever we change the fields by checking the hashes of the OVOs and
fails with a helpful reminder to bump the version if we haven't done so.

This patch adds a reminder to that message so we don't forget to add the
backporting code, as well as mentioning that if we think that
backporting code is not necessary then it means that the version bump is
most likely not necessary as well.

TrivialFix

Change-Id: I326bb5ae1e635cd76dafec1ed671f1c47254fcbd
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/466641/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/objects/test_objects.py'],1,36e108801ca33acf41e203d945cc3b74ae16f745,fix/OVO-volume_attachment," ""Some objects have changed; please make sure the "" ""versions have been bumped and backporting "" ""compatibility code has been added to "" ""obj_make_compatible if necessary, and then update "" ""their hashes in the object_data map in this test "" ""module. If we don't need to add backporting code "" ""then it means we also don't need the version bump "" ""and we just have to change the hash in this module."")"," 'Some objects have changed; please make sure the ' 'versions have been bumped, and then update their ' 'hashes in the object_data map in this test module.')",8,3
openstack%2Fnetworking-odl~master~If448f48c559c5239b631923f0b841fefa94c7dde,openstack/networking-odl,master,If448f48c559c5239b631923f0b841fefa94c7dde,test carbon 0.6.0 RC3,ABANDONED,2017-05-16 22:28:48.000000000,2017-05-26 22:40:23.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-05-16 22:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/58e6b69b7680bb69e5907d9c72f67694d62a627b', 'message': 'test carbon 0.6.0 RC1\n\nChange-Id: If448f48c559c5239b631923f0b841fefa94c7dde\n'}, {'number': 2, 'created': '2017-05-19 17:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3afbff851ae661fcd9228128b868ca963ad12b9a', 'message': 'test carbon 0.6.0 RC2\n\nChange-Id: If448f48c559c5239b631923f0b841fefa94c7dde\n'}, {'number': 3, 'created': '2017-05-23 15:52:47.000000000', 'files': ['devstack/odl-releases/carbon-0.6.0-RC3', 'devstack/pre_test_hook.sh', 'devstack/odl-releases/carbon-0.6.0-RC2', 'devstack/odl-releases/carbon-0.6.0-RC1'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fb8ec97b587564b4cd981801a31eb28d3773e921', 'message': 'test carbon 0.6.0 RC3\n\nChange-Id: If448f48c559c5239b631923f0b841fefa94c7dde\n'}]",0,465189,fb8ec97b587564b4cd981801a31eb28d3773e921,7,1,3,333,,,0,"test carbon 0.6.0 RC3

Change-Id: If448f48c559c5239b631923f0b841fefa94c7dde
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/89/465189/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/pre_test_hook.sh', 'devstack/odl-releases/carbon-0.6.0-RC1']",2,58e6b69b7680bb69e5907d9c72f67694d62a627b,test-carbon-rc3,export ODL_BUNDLEVERSION='0.6.0-Carbon' export ODL_URL_RELEASE_REPOSITORY_PATH=content/repositories/autorelease-1810 ,,3,1
openstack%2Fnova~master~Idc97126d63684e7d638b974d7226ff210c744404,openstack/nova,master,Idc97126d63684e7d638b974d7226ff210c744404,re-Allow adding computes with no ComputeNodes to aggregates,MERGED,2017-04-27 14:42:16.000000000,2017-05-26 22:29:37.000000000,2017-05-26 09:53:56.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17920}, {'_account_id': 20040}, {'_account_id': 22600}]","[{'number': 1, 'created': '2017-04-27 14:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a5f22724ff5406c9cb990ce5b3383971751bad4', 'message': ""re-Allow adding computes with no ComputeNodes to aggregates\n\nAfter the cellification of the Aggregates API, we introduced a requirement\nthat the service must have a HostMapping record, so that we know which\ncell the service is in. This is normally fine, but for weird drivers such\nas ironic, there may be valid cases (i.e. during setup) where no ironic\nnodes are present, thus one or more services may not have any compute node\nrecords, and thus cannot be added to aggregates.\n\nThis adds a cell scan, only if necessary, to find the desired service so\nthat the operation may proceed as it did before. To do this, we refactor\nthe _find_service() helper to a more generic utility and use that if we\ndon't find a HostMapping during the add operation.\n\nChange-Id: Idc97126d63684e7d638b974d7226ff210c744404\nCloses-Bug: #1686744\n""}, {'number': 2, 'created': '2017-04-27 19:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d33513b10a87568cc5ea802cc00ceba6499e0ef', 'message': ""re-Allow adding computes with no ComputeNodes to aggregates\n\nAfter the cellification of the Aggregates API, we introduced a requirement\nthat the service must have a HostMapping record, so that we know which\ncell the service is in. This is normally fine, but for weird drivers such\nas ironic, there may be valid cases (i.e. during setup) where no ironic\nnodes are present, thus one or more services may not have any compute node\nrecords, and thus cannot be added to aggregates.\n\nThis adds a cell scan, only if necessary, to find the desired service so\nthat the operation may proceed as it did before. To do this, we refactor\nthe _find_service() helper to a more generic utility and use that if we\ndon't find a HostMapping during the add operation.\n\nChange-Id: Idc97126d63684e7d638b974d7226ff210c744404\nCloses-Bug: #1686744\n""}, {'number': 3, 'created': '2017-05-01 17:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce208970a8a673dce31b5a5697126b2e9c837106', 'message': ""re-Allow adding computes with no ComputeNodes to aggregates\n\nAfter the cellification of the Aggregates API, we introduced a requirement\nthat the service must have a HostMapping record, so that we know which\ncell the service is in. This is normally fine, but for weird drivers such\nas ironic, there may be valid cases (i.e. during setup) where no ironic\nnodes are present, thus one or more services may not have any compute node\nrecords, and thus cannot be added to aggregates.\n\nThis adds a cell scan, only if necessary, to find the desired service so\nthat the operation may proceed as it did before. To do this, we refactor\nthe _find_service() helper to a more generic utility and use that if we\ndon't find a HostMapping during the add operation.\n\nChange-Id: Idc97126d63684e7d638b974d7226ff210c744404\nCloses-Bug: #1686744\n""}, {'number': 4, 'created': '2017-05-02 14:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/249fb119cd9bacf78dd8b8e7c448ed6134cb2c33', 'message': ""re-Allow adding computes with no ComputeNodes to aggregates\n\nAfter the cellification of the Aggregates API, we introduced a requirement\nthat the service must have a HostMapping record, so that we know which\ncell the service is in. This is normally fine, but for weird drivers such\nas ironic, there may be valid cases (i.e. during setup) where no ironic\nnodes are present, thus one or more services may not have any compute node\nrecords, and thus cannot be added to aggregates.\n\nThis adds a cell scan, only if necessary, to find the desired service so\nthat the operation may proceed as it did before. To do this, we refactor\nthe _find_service() helper to a more generic utility and use that if we\ndon't find a HostMapping during the add operation.\n\nChange-Id: Idc97126d63684e7d638b974d7226ff210c744404\nCloses-Bug: #1686744\n""}, {'number': 5, 'created': '2017-05-23 18:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba429507c403820051fe304f8777ab105d3448bf', 'message': ""re-Allow adding computes with no ComputeNodes to aggregates\n\nAfter the cellification of the Aggregates API, we introduced a requirement\nthat the service must have a HostMapping record, so that we know which\ncell the service is in. This is normally fine, but for weird drivers such\nas ironic, there may be valid cases (i.e. during setup) where no ironic\nnodes are present, thus one or more services may not have any compute node\nrecords, and thus cannot be added to aggregates.\n\nThis adds a cell scan, only if necessary, to find the desired service so\nthat the operation may proceed as it did before. To do this, we refactor\nthe _find_service() helper to a more generic utility and use that if we\ndon't find a HostMapping during the add operation.\n\nChange-Id: Idc97126d63684e7d638b974d7226ff210c744404\nCloses-Bug: #1686744\n""}, {'number': 6, 'created': '2017-05-23 19:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/651236eca469e458fcf76121d67aa80f95c21a84', 'message': ""re-Allow adding computes with no ComputeNodes to aggregates\n\nAfter the cellification of the Aggregates API, we introduced a requirement\nthat the service must have a HostMapping record, so that we know which\ncell the service is in. This is normally fine, but for weird drivers such\nas ironic, there may be valid cases (i.e. during setup) where no ironic\nnodes are present, thus one or more services may not have any compute node\nrecords, and thus cannot be added to aggregates.\n\nThis adds a cell scan, only if necessary, to find the desired service so\nthat the operation may proceed as it did before. To do this, we refactor\nthe _find_service() helper to a more generic utility and use that if we\ndon't find a HostMapping during the add operation.\n\nChange-Id: Idc97126d63684e7d638b974d7226ff210c744404\nCloses-Bug: #1686744\n""}, {'number': 7, 'created': '2017-05-25 14:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d4d71020b5637097a2bb2bb36d053d24df93580', 'message': ""re-Allow adding computes with no ComputeNodes to aggregates\n\nAfter the cellification of the Aggregates API, we introduced a requirement\nthat the service must have a HostMapping record, so that we know which\ncell the service is in. This is normally fine, but for weird drivers such\nas ironic, there may be valid cases (i.e. during setup) where no ironic\nnodes are present, thus one or more services may not have any compute node\nrecords, and thus cannot be added to aggregates.\n\nThis adds a cell scan, only if necessary, to find the desired service so\nthat the operation may proceed as it did before. To do this, we refactor\nthe _find_service() helper to a more generic utility and use that if we\ndon't find a HostMapping during the add operation.\n\nChange-Id: Idc97126d63684e7d638b974d7226ff210c744404\nCloses-Bug: #1686744\n""}, {'number': 8, 'created': '2017-05-25 14:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea94dd20009e849621e2d8125c8c5a64ab8ae535', 'message': ""re-Allow adding computes with no ComputeNodes to aggregates\n\nAfter the cellification of the Aggregates API, we introduced a requirement\nthat the service must have a HostMapping record, so that we know which\ncell the service is in. This is normally fine, but for weird drivers such\nas ironic, there may be valid cases (i.e. during setup) where no ironic\nnodes are present, thus one or more services may not have any compute node\nrecords, and thus cannot be added to aggregates.\n\nThis adds a cell scan, only if necessary, to find the desired service so\nthat the operation may proceed as it did before. To do this, we refactor\nthe _find_service() helper to a more generic utility and use that if we\ndon't find a HostMapping during the add operation.\n\nChange-Id: Idc97126d63684e7d638b974d7226ff210c744404\nCloses-Bug: #1686744\n""}, {'number': 9, 'created': '2017-05-25 17:56:39.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/functional/api/client.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/test_aggregates.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/62878ef5a6c9f6a2c727c91397830387425c4d37', 'message': ""re-Allow adding computes with no ComputeNodes to aggregates\n\nAfter the cellification of the Aggregates API, we introduced a requirement\nthat the service must have a HostMapping record, so that we know which\ncell the service is in. This is normally fine, but for weird drivers such\nas ironic, there may be valid cases (i.e. during setup) where no ironic\nnodes are present, thus one or more services may not have any compute node\nrecords, and thus cannot be added to aggregates.\n\nThis adds a cell scan, only if necessary, to find the desired service so\nthat the operation may proceed as it did before. To do this, we refactor\nthe _find_service() helper to a more generic utility and use that if we\ndon't find a HostMapping during the add operation.\n\nChange-Id: Idc97126d63684e7d638b974d7226ff210c744404\nCloses-Bug: #1686744\n""}]",13,460616,62878ef5a6c9f6a2c727c91397830387425c4d37,132,22,9,4393,,,0,"re-Allow adding computes with no ComputeNodes to aggregates

After the cellification of the Aggregates API, we introduced a requirement
that the service must have a HostMapping record, so that we know which
cell the service is in. This is normally fine, but for weird drivers such
as ironic, there may be valid cases (i.e. during setup) where no ironic
nodes are present, thus one or more services may not have any compute node
records, and thus cannot be added to aggregates.

This adds a cell scan, only if necessary, to find the desired service so
that the operation may proceed as it did before. To do this, we refactor
the _find_service() helper to a more generic utility and use that if we
don't find a HostMapping during the add operation.

Change-Id: Idc97126d63684e7d638b974d7226ff210c744404
Closes-Bug: #1686744
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/460616/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py']",2,5a5f22724ff5406c9cb990ce5b3383971751bad4,bug/1686744-patch4,"def _find_service_in_cell(context, service_id=None, service_host=None): """"""Find a service by id or hostname by searching all cells. If one matching service is found, return it. If none or multiple are found, raise an exception. :param context: A context.RequestContext :param service_id: If not none, the DB ID of the service to find :param service_host: If not None, the hostname of the service to find :returns: An objects.Service :raises: ServiceNotUnique if multiple matching IDs are found :raises: NotFound if no matches are found """""" load_cells() service = None found_in_cell = None if service_id is not None: lookup_fn = lambda c: objects.Service.get_by_id(c, service_id) elif service_host is not None: lookup_fn = lambda c: ( objects.Service.get_by_compute_host(c, service_host)) else: LOG.warning('_find_service_in_cell called with no search parameters') raise exception.ServiceNotFound(service_id='none') for cell in CELLS: # NOTE(danms): Services can be in cell0, so don't skip it here try: with nova_context.target_cell(context, cell): cell_service = lookup_fn(context) except exception.ServiceNotFound: # NOTE(danms): Keep looking in other cells continue if service and cell_service: raise exception.ServiceNotUnique() service = cell_service found_in_cell = cell if service: # NOTE(danms): Set the cell on the context so it remains # when we return to our caller nova_context.set_target_cell(context, found_in_cell) return service else: raise exception.NotFound() try: return _find_service_in_cell(context, service_id=service_id) except exception.NotFound: raise exception.ServiceNotFound(service_id=service_id) try: service = _find_service_in_cell(context, service_id=service_id) except exception.NotFound: raise exception.ServiceNotFound(service_id=service_id) try: mapping = objects.HostMapping.get_by_host(context, host_name) nova_context.set_target_cell(context, mapping.cell_mapping) objects.Service.get_by_compute_host(context, host_name) except exception.HostMappingNotFound: try: # NOTE(danms): This targets our cell _find_service_in_cell(context, service_host=host_name) except exception.NotFound: raise exception.ComputeHostNotFound(host=host_name)"," def _find_service(self, context, service_id): """"""Find a service by id by searching all cells. If one matching service is found, return it. If none or multiple are found, raise an exception. :param context: A context.RequestContext :param service_id: The DB ID of the service to find :returns: An objects.Service :raises: ServiceNotUnique if multiple matches are found :raises: ServiceNotFound if no matches are found """""" load_cells() # NOTE(danms): Unfortunately this API exposes database identifiers # which means we really can't do something efficient here service = None found_in_cell = None for cell in CELLS: # NOTE(danms): Services can be in cell0, so don't skip it here try: with nova_context.target_cell(context, cell): cell_service = objects.Service.get_by_id(context, service_id) except exception.ServiceNotFound: # NOTE(danms): Keep looking in other cells continue if service and cell_service: raise exception.ServiceNotUnique() service = cell_service found_in_cell = cell if service: # NOTE(danms): Set the cell on the context so it remains # when we return to our caller nova_context.set_target_cell(context, found_in_cell) return service else: raise exception.ServiceNotFound(service_id=service_id) return self._find_service(context, service_id) service = self._find_service(context, service_id) mapping = objects.HostMapping.get_by_host(context, host_name) nova_context.set_target_cell(context, mapping.cell_mapping) objects.Service.get_by_compute_host(context, host_name)",69,47
openstack%2Fmagnum~master~Ib01534bbe91f4fd8d13c47e4e958e3c19375a2a9,openstack/magnum,master,Ib01534bbe91f4fd8d13c47e4e958e3c19375a2a9,Updated from global requirements,MERGED,2017-05-26 17:20:57.000000000,2017-05-26 22:14:14.000000000,2017-05-26 22:14:14.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 20498}]","[{'number': 1, 'created': '2017-05-26 17:20:57.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b051cc8e54e97ee783d74e8549fd04441d669641', 'message': 'Updated from global requirements\n\nChange-Id: Ib01534bbe91f4fd8d13c47e4e958e3c19375a2a9\n'}]",0,468486,b051cc8e54e97ee783d74e8549fd04441d669641,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: Ib01534bbe91f4fd8d13c47e4e958e3c19375a2a9
",git fetch https://review.opendev.org/openstack/magnum refs/changes/86/468486/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b051cc8e54e97ee783d74e8549fd04441d669641,openstack/requirements,oslo.context>=2.14.0 # Apache-2.0,oslo.context>=2.12.0 # Apache-2.0,1,1
openstack%2Fpuppet-openstack_spec_helper~master~I1bcb03da5dc5b0f2f62c8c1142acfba75ebc4383,openstack/puppet-openstack_spec_helper,master,I1bcb03da5dc5b0f2f62c8c1142acfba75ebc4383,Fix typo,MERGED,2017-05-26 08:58:20.000000000,2017-05-26 21:31:18.000000000,2017-05-26 21:31:18.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-05-26 08:58:20.000000000', 'files': ['lib/puppet-openstack_spec_helper/facts.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/4c8478a0ac7dc25377c623a8e4b160a0738fdfb2', 'message': 'Fix typo\n\nChange-Id: I1bcb03da5dc5b0f2f62c8c1142acfba75ebc4383\n'}]",0,468320,4c8478a0ac7dc25377c623a8e4b160a0738fdfb2,8,3,1,9414,,,0,"Fix typo

Change-Id: I1bcb03da5dc5b0f2f62c8c1142acfba75ebc4383
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/20/468320/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet-openstack_spec_helper/facts.rb'],1,4c8478a0ac7dc25377c623a8e4b160a0738fdfb2,fix_typo, # add custom facts globally for anyone using rspec-puppet-facts, # add custom facts globally for anyone using rspec-pupet-facts,1,1
openstack%2Ftempest~master~I5fe1df73255808b4dceff9e2c8f1839df9325559,openstack/tempest,master,I5fe1df73255808b4dceff9e2c8f1839df9325559,Cleanup networks and subnets created during RouterTest,ABANDONED,2017-05-26 21:17:14.000000000,2017-05-26 21:24:50.000000000,,[],"[{'number': 1, 'created': '2017-05-26 21:17:14.000000000', 'files': ['tempest/api/network/base.py', 'tempest/api/network/test_routers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/705d63bc135ea4035d101049f534fb1911807db0', 'message': 'Cleanup networks and subnets created during RouterTest\n\nRemove networks and subnets for each test using self.addCleanup\n\nChange-Id: I5fe1df73255808b4dceff9e2c8f1839df9325559\nCloses-Bug: #1670693\n'}]",0,468547,705d63bc135ea4035d101049f534fb1911807db0,2,0,1,23709,,,0,"Cleanup networks and subnets created during RouterTest

Remove networks and subnets for each test using self.addCleanup

Change-Id: I5fe1df73255808b4dceff9e2c8f1839df9325559
Closes-Bug: #1670693
",git fetch https://review.opendev.org/openstack/tempest refs/changes/47/468547/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/network/base.py', 'tempest/api/network/test_routers.py']",2,705d63bc135ea4035d101049f534fb1911807db0,cleanupNW," self.addCleanup(self.remove_network, network['id']) self.addCleanup(self.remove_subnet, subnet['id']) self.addCleanup(self.remove_network, network['id']) subnet = self.create_subnet(network) self.addCleanup(self.remove_subnet, subnet['id']) self.addCleanup(self.remove_network, network['id']) self.addCleanup(self.remove_subnet, subnet['id']) self.addCleanup(self._remove_router_interface_with_subnet_id, router['id'], subnet['id']) self.addCleanup(self.remove_network, network01['id']) self.addCleanup(self.remove_network, network02['id']) self.addCleanup(self.remove_subnet, subnet01['id']) self.addCleanup(self.remove_subnet, subnet02['id']) self.addCleanup(self.remove_network, network['id']) self.addCleanup(self.remove_subnet, subnet['id']) ", self.create_subnet(network),31,1
openstack%2Fdevstack-gate~master~If5abed62db6a237d52098f9c756d999a27c9d461,openstack/devstack-gate,master,If5abed62db6a237d52098f9c756d999a27c9d461,Preinstall pbr with pip,MERGED,2017-05-22 23:11:13.000000000,2017-05-26 21:21:37.000000000,2017-05-26 21:21:37.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4162}]","[{'number': 1, 'created': '2017-05-22 23:11:13.000000000', 'files': ['devstack-vm-gate-wrap.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/f006cc6509d4813dbf3341d64ab27b8f29278c37', 'message': ""Preinstall pbr with pip\n\nIf you don't already have your setup requires preinstalled they get\npulled down with easy_install. This seems to be less reliable as we have\njobs grabbing things from our mirrors using pip just fine then\nimmediately fail with easy_install to grab pbr (the setup_requires).\n\nChange-Id: If5abed62db6a237d52098f9c756d999a27c9d461\n""}]",0,466935,f006cc6509d4813dbf3341d64ab27b8f29278c37,8,4,1,4146,,,0,"Preinstall pbr with pip

If you don't already have your setup requires preinstalled they get
pulled down with easy_install. This seems to be less reliable as we have
jobs grabbing things from our mirrors using pip just fine then
immediately fail with easy_install to grab pbr (the setup_requires).

Change-Id: If5abed62db6a237d52098f9c756d999a27c9d461
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/35/466935/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate-wrap.sh'],1,f006cc6509d4813dbf3341d64ab27b8f29278c37,preinstall-pbr,# Explicitly install pbr first as this will use pip rathat than # easy_install. Hope is this is generally more reliable. /tmp/ansible/bin/pip install pbr,,3,0
openstack%2Fdevstack~master~Iaf4761aedf93bc6b914a6a0c5cf1cfedcc29583c,openstack/devstack,master,Iaf4761aedf93bc6b914a6a0c5cf1cfedcc29583c,Change version of noVNC to stable,MERGED,2017-05-23 08:31:59.000000000,2017-05-26 21:21:19.000000000,2017-05-26 21:21:19.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 866}, {'_account_id': 970}, {'_account_id': 1653}, {'_account_id': 1921}, {'_account_id': 2750}, {'_account_id': 4656}, {'_account_id': 5196}, {'_account_id': 6167}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 16376}, {'_account_id': 23757}, {'_account_id': 24791}]","[{'number': 1, 'created': '2017-05-23 08:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cef28770ddc4743a17ad1e54eb4dd358953bfefb', 'message': ""Change version of noVNC to stable\n\nIn master branch of noVNC project file vnc_auto.html was renamed to\nvnc_lite.html Because of that nova-novncproxy looks for file that\nactually doesn't exits.\nWe need to change branch of noVNC to latest stable, because other\nprojects are not ready yet to rename the path. Those projects\ndepends on noVNC package installed in system, but it is too old\nfor now for both CentOS (version 0.5) and Ubuntu (version 0.4).\nThe only way to make noVNC console working on Devstack is to change\nthe branch to stable one.\n\nChange-Id: Iaf4761aedf93bc6b914a6a0c5cf1cfedcc29583c\nCloses-bug: #1692513\n""}, {'number': 2, 'created': '2017-05-23 08:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3ff1120d6e2666ef2ea2fc934ca5ee2cbdb8363b', 'message': ""Change version of noVNC to stable\n\nIn master branch of noVNC project file vnc_auto.html was renamed to\nvnc_lite.html Because of that nova-novncproxy looks for file that\nactually doesn't exist.\nWe need to change branch of noVNC to latest stable, because other\nprojects are not ready yet to rename the path. Those projects\ndepends on noVNC package installed in system, but it is too old\nfor now for both CentOS (version 0.5) and Ubuntu (version 0.4).\nThe only way to make noVNC console working on Devstack is to change\nthe branch to stable one.\n\nChange-Id: Iaf4761aedf93bc6b914a6a0c5cf1cfedcc29583c\nCloses-bug: #1692513\n""}, {'number': 3, 'created': '2017-05-23 14:50:39.000000000', 'files': ['tests/test_refs.sh', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0d9fd60ad4a999ba3d57042b7bc861d86126651a', 'message': ""Change version of noVNC to stable\n\nIn master branch of noVNC project file vnc_auto.html was renamed to\nvnc_lite.html Because of that nova-novncproxy looks for file that\nactually doesn't exist.\n\nWe need to change branch of noVNC to latest stable, because other\nprojects are not ready yet to rename the path. Those projects\ndepends on noVNC package installed in system, but it is too old\nfor now for both CentOS (version 0.5) and Ubuntu (version 0.4).\nThe only way to make noVNC console working on Devstack is to change\nthe branch to stable one.\n\nUnit test also has to be modified in order to ignore novnc repo\nfrom checking against cloning non-master branch.\n\nChange-Id: Iaf4761aedf93bc6b914a6a0c5cf1cfedcc29583c\nCloses-bug: #1692513\n""}]",0,467078,0d9fd60ad4a999ba3d57042b7bc861d86126651a,23,16,3,24791,,,0,"Change version of noVNC to stable

In master branch of noVNC project file vnc_auto.html was renamed to
vnc_lite.html Because of that nova-novncproxy looks for file that
actually doesn't exist.

We need to change branch of noVNC to latest stable, because other
projects are not ready yet to rename the path. Those projects
depends on noVNC package installed in system, but it is too old
for now for both CentOS (version 0.5) and Ubuntu (version 0.4).
The only way to make noVNC console working on Devstack is to change
the branch to stable one.

Unit test also has to be modified in order to ignore novnc repo
from checking against cloning non-master branch.

Change-Id: Iaf4761aedf93bc6b914a6a0c5cf1cfedcc29583c
Closes-bug: #1692513
",git fetch https://review.opendev.org/openstack/devstack refs/changes/78/467078/1 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,cef28770ddc4743a17ad1e54eb4dd358953bfefb,bug/1692513,NOVNC_BRANCH=${NOVNC_BRANCH:-stable/v0.6},NOVNC_BRANCH=${NOVNC_BRANCH:-master},1,1
openstack%2Freleases~master~I1a903a4024b21f2985d23fabfebf079408a876ee,openstack/releases,master,I1a903a4024b21f2985d23fabfebf079408a876ee,Release python-neutronclient,ABANDONED,2017-05-26 21:16:37.000000000,2017-05-26 21:18:54.000000000,,[],"[{'number': 1, 'created': '2017-05-26 21:16:37.000000000', 'files': ['deliverables/pike/python-neutronclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cc6f4fa7e820a748c3710e3768e9d4cad404423b', 'message': 'Release python-neutronclient\n\nThis supports the new global_request_id setting.\n\nChange-Id: I1a903a4024b21f2985d23fabfebf079408a876ee\n'}]",0,468546,cc6f4fa7e820a748c3710e3768e9d4cad404423b,2,0,1,7787,,,0,"Release python-neutronclient

This supports the new global_request_id setting.

Change-Id: I1a903a4024b21f2985d23fabfebf079408a876ee
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/468546/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/python-neutronclient.yaml'],1,cc6f4fa7e820a748c3710e3768e9d4cad404423b,," - version: 6.3.0 projects: - repo: openstack/python-neutronclient hash: ba535c695007c0b4cc6dd6e6abc252a866104bb9 highlights: |- * Support for adding tags to ports, routers, subnets, and subnetpools * Client constructor allows a global_request_id that will be passed in the header of HTTP(s) requests to Neutron.",,8,0
openstack%2Fheat~master~I83a540336c01a696780621fb2b39486a6abf0917,openstack/heat,master,I83a540336c01a696780621fb2b39486a6abf0917,Allow function 'yaql' as condition function,MERGED,2017-05-24 07:26:15.000000000,2017-05-26 21:18:40.000000000,2017-05-26 21:18:40.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8289}, {'_account_id': 18575}]","[{'number': 1, 'created': '2017-05-24 07:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9340003240c27dd79cbf80a1d1b5baef46e6dc13', 'message': ""Allow function 'yaql' as condition function\n\nAllow 'yaql' in condition definition, like:\n\nparameters:\n  ServiceNames:\n    type: comma_delimited_list\n    default: ['neutron', 'heat']\nconditions:\n  contains_neutron:\n    equals:\n      - yaql:\n          expression: $.data.service_names.contains('neutron')\n\t  data: {'service_names': {get_param: ServiceNames}}\n      - True\n\nChangeId: I7b52f211fc12823dfaf88969e9b21e3cd75e2ad4\nCloses-Bug: #1693093\n\nChange-Id: I83a540336c01a696780621fb2b39486a6abf0917\n""}, {'number': 2, 'created': '2017-05-24 09:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6fb7e2c52a894f64655cab680eecf8db6eadd1da', 'message': ""Allow function 'yaql' as condition function\n\nAllow 'yaql' in condition definition, like:\n\nparameters:\n  ServiceNames:\n    type: comma_delimited_list\n    default: ['neutron', 'heat']\nconditions:\n  contains_neutron:\n    yaql:\n      expression: $.data.service_names.contains('neutron')\n      data:\n        service_names:\n          get_param: ServiceNames\n\nCloses-Bug: #1693093\n\nChange-Id: I83a540336c01a696780621fb2b39486a6abf0917\n""}, {'number': 3, 'created': '2017-05-25 01:19:26.000000000', 'files': ['doc/source/template_guide/hot_spec.rst', 'heat/engine/hot/template.py', 'heat/tests/test_hot.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/77e50726215f54d1540325175268203a76552236', 'message': ""Allow function 'yaql' as condition function\n\nAllow 'yaql' in condition definition, like:\n\nparameters:\n  ServiceNames:\n    type: comma_delimited_list\n    default: ['neutron', 'heat']\nconditions:\n  contains_neutron:\n    yaql:\n      expression: $.data.service_names.contains('neutron')\n      data:\n        service_names:\n          get_param: ServiceNames\n\nCloses-Bug: #1693093\n\nChange-Id: I83a540336c01a696780621fb2b39486a6abf0917\n""}]",6,467506,77e50726215f54d1540325175268203a76552236,13,5,3,8289,,,0,"Allow function 'yaql' as condition function

Allow 'yaql' in condition definition, like:

parameters:
  ServiceNames:
    type: comma_delimited_list
    default: ['neutron', 'heat']
conditions:
  contains_neutron:
    yaql:
      expression: $.data.service_names.contains('neutron')
      data:
        service_names:
          get_param: ServiceNames

Closes-Bug: #1693093

Change-Id: I83a540336c01a696780621fb2b39486a6abf0917
",git fetch https://review.opendev.org/openstack/heat refs/changes/06/467506/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/hot/template.py', 'heat/tests/test_hot.py']",2,9340003240c27dd79cbf80a1d1b5baef46e6dc13,bug/1693093," def test_equals_yaql(self): hot_tpl = template_format.parse(''' heat_template_version: 2016-10-14 parameters: ServiceNames: type: comma_delimited_list default: ['neutron', 'heat'] ''') snippet = {'equals': [ {'yaql': { 'expression': '$.data.service_names.contains(""neutron"")', 'data': {'service_names': {'get_param': 'ServiceNames'}}}}, True]} # when param 'ServiceNames' contains 'neutron', # equals function resolve to true tmpl = template.Template(hot_tpl) stack = parser.Stack(utils.dummy_context(), 'test_condition_equals_yaql_true', tmpl) resolved = self.resolve_condition(snippet, tmpl, stack) self.assertTrue(resolved) # when param 'ServiceNames' doesn't contain 'neutron', # equals function resolve to false tmpl = template.Template( hot_tpl, env=environment.Environment( {'ServiceNames': ['nova_network', 'heat']})) stack = parser.Stack(utils.dummy_context(), 'test_condition_equals_yaql_false', tmpl) resolved = self.resolve_condition(snippet, tmpl, stack) self.assertFalse(resolved) ",,33,1
openstack%2Fkolla~master~I5638c52bf00cea159ff7bae6f74cdecac16d45bc,openstack/kolla,master,I5638c52bf00cea159ff7bae6f74cdecac16d45bc,Deprecate Debian based Docker images,ABANDONED,2017-01-09 13:24:02.000000000,2017-05-26 21:10:45.000000000,,"[{'_account_id': 3}, {'_account_id': 167}]","[{'number': 1, 'created': '2017-01-09 13:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ebd76236984b8f271e98d834f7f1cde902309169', 'message': 'Deprecate Debian based Docker images\n\nChange-Id: I5638c52bf00cea159ff7bae6f74cdecac16d45bc\nPartial-bug: #1655012\n'}, {'number': 2, 'created': '2017-01-19 11:00:17.000000000', 'files': ['kolla/image/build.py', 'releasenotes/notes/deprecate-debian-2b22e47071fdd913.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f6cc572d3e0e72aa405ffe80142d15c4361854d4', 'message': 'Deprecate Debian based Docker images\n\nChange-Id: I5638c52bf00cea159ff7bae6f74cdecac16d45bc\nPartial-bug: #1655012\n'}]",0,417874,f6cc572d3e0e72aa405ffe80142d15c4361854d4,8,2,2,167,,,0,"Deprecate Debian based Docker images

Change-Id: I5638c52bf00cea159ff7bae6f74cdecac16d45bc
Partial-bug: #1655012
",git fetch https://review.opendev.org/openstack/kolla refs/changes/74/417874/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-debian-2b22e47071fdd913.yaml'],1,ebd76236984b8f271e98d834f7f1cde902309169,bug/1655012,--- deprecations: - Debian based Docker images are deprecated as of the Ocata release and will be removed during the Pike cycle. Further details below the following URL http://lists.openstack.org/pipermail/openstack-dev/2016-September/104011.html ,,6,0
openstack%2Fkolla-ansible~master~I7344ae62b38e9afca69b01f284a6aba1bf50ed91,openstack/kolla-ansible,master,I7344ae62b38e9afca69b01f284a6aba1bf50ed91,Remove Ubuntu 14.04 specific precheck,ABANDONED,2017-01-20 12:00:10.000000000,2017-05-26 21:07:25.000000000,,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 1390}, {'_account_id': 7488}]","[{'number': 1, 'created': '2017-01-20 12:00:10.000000000', 'files': ['ansible/roles/prechecks/tasks/service_checks.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/79ef56e2a954261add566d624f180c986e5ea1b5', 'message': 'Remove Ubuntu 14.04 specific precheck\n\nChange-Id: I7344ae62b38e9afca69b01f284a6aba1bf50ed91\n'}]",0,423231,79ef56e2a954261add566d624f180c986e5ea1b5,7,4,1,167,,,0,"Remove Ubuntu 14.04 specific precheck

Change-Id: I7344ae62b38e9afca69b01f284a6aba1bf50ed91
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/31/423231/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prechecks/tasks/service_checks.yml'],1,79ef56e2a954261add566d624f180c986e5ea1b5,prechecks-rm-ubuntu-1404, - ansible_os_family == 'RedHat' or ansible_distribution == 'Ubuntu'," - ansible_os_family == 'RedHat' or (ansible_distribution == 'Ubuntu' and ansible_distribution_version > '14.04') - name: Checking if '/run' mount flag is set to 'shared' command: awk '$5 == ""/run"" {print $7}' /proc/self/mountinfo register: result changed_when: false failed_when: result.stdout.find('shared') == -1 when: - (inventory_hostname in groups['neutron-dhcp-agent'] or inventory_hostname in groups['neutron-l3-agent'] or inventory_hostname in groups['neutron-metadata-agent']) - ansible_distribution == 'Ubuntu' and ansible_distribution_version == '14.04'",1,13
openstack%2Fpython-neutronclient~master~I7ed48ad247676c71a3a7b12585572c398dda06e0,openstack/python-neutronclient,master,I7ed48ad247676c71a3a7b12585572c398dda06e0,Allow global_request_id in Client constructor,MERGED,2017-05-23 13:52:20.000000000,2017-05-26 21:01:46.000000000,2017-05-26 21:01:46.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 2750}, {'_account_id': 4694}, {'_account_id': 7787}, {'_account_id': 11564}]","[{'number': 1, 'created': '2017-05-23 13:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/d5ae3ef1094cb71bdf2d36e375685596f20130a4', 'message': 'WIP: allow request_id to be passed in\n\nChange-Id: I7ed48ad247676c71a3a7b12585572c398dda06e0\n'}, {'number': 2, 'created': '2017-05-23 16:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/eaeffd838ac7b1ff580283b3f4c5fb9875b729ef', 'message': 'Allow global_request_id in the construction of clients\n\nThis provides the facility to take global_request_id as a construction\nparameter for a neutron client, and pass it through the system. This\nwill be used by Nova and others to set global_request_id so requests\ncan be tracked across services.\n\noslo spec\nDepends-On: I65de8261746b25d45e105394f4eeb95b9cb3bd42\n\noslo.middleware changes\nDepends-On: I5c5268e8680392395fbe04efe0124575ad8db468\n\noslo.context changes\nDepends-On: I1521188ae627fa2e7d35aa2ffffbcb620c527765\n\nChange-Id: I7ed48ad247676c71a3a7b12585572c398dda06e0\n'}, {'number': 3, 'created': '2017-05-23 16:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/f3b4384406ab990fcf1145ee9d2a8a7f90503289', 'message': 'Allow global_request_id in Client constructor\n\nThis provides the facility to take global_request_id as a construction\nparameter for a neutron client, and pass it through the system. This\nwill be used by Nova and others to set global_request_id so requests\ncan be tracked across services.\n\noslo spec\nDepends-On: I65de8261746b25d45e105394f4eeb95b9cb3bd42\n\noslo.middleware changes\nDepends-On: I5c5268e8680392395fbe04efe0124575ad8db468\n\noslo.context changes\nDepends-On: I1521188ae627fa2e7d35aa2ffffbcb620c527765\n\nChange-Id: I7ed48ad247676c71a3a7b12585572c398dda06e0\n'}, {'number': 4, 'created': '2017-05-24 10:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/6ae50d4c362fc2aaee2b4a7ddcb2c2a1f3255fdc', 'message': 'Allow global_request_id in Client constructor\n\nThis provides the facility to take global_request_id as a construction\nparameter for a neutron client, and pass it through the system. This\nwill be used by Nova and others to set global_request_id so requests\ncan be tracked across services.\n\noslo spec\nDepends-On: I65de8261746b25d45e105394f4eeb95b9cb3bd42\n\noslo.middleware changes\nDepends-On: I5c5268e8680392395fbe04efe0124575ad8db468\n\noslo.context changes\nDepends-On: I1521188ae627fa2e7d35aa2ffffbcb620c527765\n\nChange-Id: I7ed48ad247676c71a3a7b12585572c398dda06e0\n'}, {'number': 5, 'created': '2017-05-24 15:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/2e4fc6e4c221614b5951895576a5d5c457125098', 'message': 'Allow global_request_id in Client constructor\n\nThis provides the facility to take global_request_id as a construction\nparameter for a neutron client, and pass it through the system. This\nwill be used by Nova and others to set global_request_id so requests\ncan be tracked across services.\n\noslo spec I65de8261746b25d45e105394f4eeb95b9cb3bd42\n\nChange-Id: I7ed48ad247676c71a3a7b12585572c398dda06e0\n'}, {'number': 6, 'created': '2017-05-25 09:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/3a7cb52f0e1c3a9ab3f1aa3f8ac2f7498e33db69', 'message': 'Allow global_request_id in Client constructor\n\nThis provides the facility to take global_request_id as a construction\nparameter for a neutron client, and pass it through the system. This\nwill be used by Nova and others to set global_request_id so requests\ncan be tracked across services.\n\noslo spec I65de8261746b25d45e105394f4eeb95b9cb3bd42\n\nChange-Id: I7ed48ad247676c71a3a7b12585572c398dda06e0\n'}, {'number': 7, 'created': '2017-05-26 12:38:28.000000000', 'files': ['neutronclient/client.py', 'neutronclient/tests/unit/test_http.py', 'releasenotes/notes/global_request_id-56856a93b982a6b3.yaml'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/af869a4ca6751d750ae969ac0015d4354d7da2c6', 'message': 'Allow global_request_id in Client constructor\n\nThis provides the facility to take global_request_id as a construction\nparameter for a neutron client, and pass it through the system. This\nwill be used by Nova and others to set global_request_id so requests\ncan be tracked across services.\n\noslo spec I65de8261746b25d45e105394f4eeb95b9cb3bd42\n\nChange-Id: I7ed48ad247676c71a3a7b12585572c398dda06e0\n'}]",10,467243,af869a4ca6751d750ae969ac0015d4354d7da2c6,36,8,7,2750,,,0,"Allow global_request_id in Client constructor

This provides the facility to take global_request_id as a construction
parameter for a neutron client, and pass it through the system. This
will be used by Nova and others to set global_request_id so requests
can be tracked across services.

oslo spec I65de8261746b25d45e105394f4eeb95b9cb3bd42

Change-Id: I7ed48ad247676c71a3a7b12585572c398dda06e0
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/43/467243/6 && git format-patch -1 --stdout FETCH_HEAD,['neutronclient/client.py'],1,d5ae3ef1094cb71bdf2d36e375685596f20130a4,global_request_id," service_type='network', global_request_id=None, self.global_request_id = global_request_id if self.global_request_id: headers.setdefault('X-OpenStack-Request-ID', self.global_request_id) global_request_id = None def __init__(self, *args, **kwargs): if kwargs.get(""global_request_id""): _logger.error(""Global request id is %s"" % kwargs.get(""global_request_id"")) self.global_request_id = kwargs.pop(""global_request_id"") super(SessionClient, self).__init__(*args, **kwargs) headers.setdefault('X-OpenStack-Request-ID', self.global_request_id) _logger.error(""Kwargs for request: %s"" % kwargs) global_request_id=None, global_request_id=global_request_id, auth_strategy=auth_strategy, global_request_id=global_request_id )"," service_type='network', auth_strategy=auth_strategy)",21,2
openstack%2Fnova~master~I80ba844a6e0fcea89f80aa253d57ac73092773ae,openstack/nova,master,I80ba844a6e0fcea89f80aa253d57ac73092773ae,Don't delete allocation if instance being scheduled,MERGED,2017-04-26 15:41:11.000000000,2017-05-26 21:00:31.000000000,2017-05-25 21:27:32.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 20040}, {'_account_id': 25218}]","[{'number': 1, 'created': '2017-04-26 15:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9108f6dff94bed863eb8430caf50364de8ce49c3', 'message': ""WIP: Don't delete allocation if instance being scheduled\n\nThere could be a potential race if some other but the compute service\ncreate allocations (say, the scheduler) because then the self-healing\nprocess that runs periodically on compute would delete that allocation\ngiven it wouldn't find the related instance for that host.\n\nRemoving an unnecessary method in the report client code, and rather do\nthe loop in the RT code for directly calling to delete allocations.\n\nTODO:\n - make public the internal report client methods that we use in RT\n - UTs\n\nChange-Id: I80ba844a6e0fcea89f80aa253d57ac73092773ae\n""}, {'number': 2, 'created': '2017-04-28 13:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0bc807fb77a59e5739849b239d47081b9a445dec', 'message': ""WIP: Don't delete allocation if instance being scheduled\n\nThere could be a potential race if some other but the compute service\ncreate allocations (say, the scheduler) because then the self-healing\nprocess that runs periodically on compute would delete that allocation\ngiven it wouldn't find the related instance for that host.\n\nRemoving an unnecessary method in the report client code, and rather do\nthe loop in the RT code for directly calling to delete allocations.\n\nTODO:\n - make public the internal report client methods that we use in RT\n - UTs\n\nChange-Id: I80ba844a6e0fcea89f80aa253d57ac73092773ae\n""}, {'number': 3, 'created': '2017-05-04 17:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20fa3f1d2fbd9d58c99dd886f5f9ca3ab4e73d04', 'message': ""WIP: Don't delete allocation if instance being scheduled\n\nThere could be a potential race if something other than the compute\nservice create allocations (say, the scheduler) because then the\nself-healing process that runs periodically on compute would delete that\nallocation given it wouldn't find the related instance for that host.\n\nRemoving an unnecessary method in the report client code, and rather do\nthe loop in the RT code for directly calling to delete allocations.\n\nTODO:\n - make public the internal report client methods that we use in RT\n - UTs\n\nBlueprint: placement-claims\n\nChange-Id: I80ba844a6e0fcea89f80aa253d57ac73092773ae\n""}, {'number': 4, 'created': '2017-05-04 20:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bc98a712b56c361d53bc744eeed54783f410940', 'message': ""Don't delete allocation if instance being scheduled\n\nThere could be a potential race if something other than the compute\nservice create allocations (say, the scheduler) because then the\nself-healing process that runs periodically on compute would delete that\nallocation given it wouldn't find the related instance for that host.\n\nRemoving an unnecessary method in the report client code, and rather do\nthe loop in the RT code for directly calling to delete allocations.\n\nCo-Authored-By: Ed Leafe <ed@leafe.com>\n\nBlueprint: placement-claims\n\nChange-Id: I80ba844a6e0fcea89f80aa253d57ac73092773ae\n""}, {'number': 5, 'created': '2017-05-04 21:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c80b8101b2df40905825741945d1d5952aa44b64', 'message': ""Don't delete allocation if instance being scheduled\n\nThere could be a potential race if something other than the compute\nservice create allocations (say, the scheduler) because then the\nself-healing process that runs periodically on compute would delete that\nallocation given it wouldn't find the related instance for that host.\n\nRemoving an unnecessary method in the report client code, and rather do\nthe loop in the RT code for directly calling to delete allocations.\n\nCo-Authored-By: Ed Leafe <ed@leafe.com>\n\nBlueprint: placement-claims\n\nChange-Id: I80ba844a6e0fcea89f80aa253d57ac73092773ae\n""}, {'number': 6, 'created': '2017-05-05 09:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcf25d6d1a1a3bf256bdfa837186057f89730073', 'message': ""Don't delete allocation if instance being scheduled\n\nThere could be a potential race if something other than the compute\nservice create allocations (say, the scheduler) because then the\nself-healing process that runs periodically on compute would delete that\nallocation given it wouldn't find the related instance for that host.\n\nRemoving an unnecessary method in the report client code, and rather do\nthe loop in the RT code for directly calling to delete allocations.\n\nCo-Authored-By: Ed Leafe <ed@leafe.com>\n\nBlueprint: placement-claims\n\nChange-Id: I80ba844a6e0fcea89f80aa253d57ac73092773ae\n""}, {'number': 7, 'created': '2017-05-16 21:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d00b86908f909437df94d53cf06a04a420b82727', 'message': ""Don't delete allocation if instance being scheduled\n\nThere could be a potential race if something other than the compute\nservice create allocations (say, the scheduler) because then the\nself-healing process that runs periodically on compute would delete that\nallocation given it wouldn't find the related instance for that host.\n\nRemoving an unnecessary method in the report client code, and rather do\nthe loop in the RT code for directly calling to delete allocations.\n\nCo-Authored-By: Ed Leafe <ed@leafe.com>\n\nBlueprint: placement-claims\n\nChange-Id: I80ba844a6e0fcea89f80aa253d57ac73092773ae\n""}, {'number': 8, 'created': '2017-05-17 23:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7810078991cb93f9758f09a34eadecb9b133c8b4', 'message': ""Don't delete allocation if instance being scheduled\n\nThere could be a potential race if something other than the compute\nservice create allocations (say, the scheduler) because then the\nself-healing process that runs periodically on compute would delete that\nallocation given it wouldn't find the related instance for that host.\n\nRemoving an unnecessary method in the report client code, and rather do\nthe loop in the RT code for directly calling to delete allocations.\n\nCo-Authored-By: Ed Leafe <ed@leafe.com>\n\nBlueprint: placement-claims\n\nChange-Id: I80ba844a6e0fcea89f80aa253d57ac73092773ae\n""}, {'number': 9, 'created': '2017-05-18 09:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9215ed8960cdcd902f73a96bda30eb43c0443b8', 'message': ""Don't delete allocation if instance being scheduled\n\nThere could be a potential race if something other than the compute\nservice create allocations (say, the scheduler) because then the\nself-healing process that runs periodically on compute would delete that\nallocation given it wouldn't find the related instance for that host.\n\nRemoving an unnecessary method in the report client code, and rather do\nthe loop in the RT code for directly calling to delete allocations.\n\nCo-Authored-By: Ed Leafe <ed@leafe.com>\n\nBlueprint: placement-claims\n\nChange-Id: I80ba844a6e0fcea89f80aa253d57ac73092773ae\n""}, {'number': 10, 'created': '2017-05-22 16:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a5544aec68ea3e62a9bb6f0f2d398bb2430402e', 'message': ""Don't delete allocation if instance being scheduled\n\nThere could be a potential race if something other than the compute\nservice create allocations (say, the scheduler) because then the\nself-healing process that runs periodically on compute would delete that\nallocation given it wouldn't find the related instance for that host.\n\nRemoving an unnecessary method in the report client code, and rather do\nthe loop in the RT code for directly calling to delete allocations.\n\nCo-Authored-By: Ed Leafe <ed@leafe.com>\n\nBlueprint: placement-claims\n\nChange-Id: I80ba844a6e0fcea89f80aa253d57ac73092773ae\n""}, {'number': 11, 'created': '2017-05-24 21:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6cd472a53415ca657237fb4c4f62186a4c90792a', 'message': ""Don't delete allocation if instance being scheduled\n\nThere could be a potential race if something other than the compute\nservice create allocations (say, the scheduler) because then the\nself-healing process that runs periodically on compute would delete that\nallocation given it wouldn't find the related instance for that host.\n\nRemoving an unnecessary method in the report client code, and rather do\nthe loop in the RT code for directly calling to delete allocations.\n\nCo-Authored-By: Ed Leafe <ed@leafe.com>\n\nBlueprint: placement-claims\n\nChange-Id: I80ba844a6e0fcea89f80aa253d57ac73092773ae\n""}, {'number': 12, 'created': '2017-05-25 16:43:02.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/439f67e7bc795f171af8248400c3f3e17a0bbe7e', 'message': ""Don't delete allocation if instance being scheduled\n\nThere could be a potential race if something other than the compute\nservice create allocations (say, the scheduler) because then the\nself-healing process that runs periodically on compute would delete that\nallocation given it wouldn't find the related instance for that host.\n\nRemoving an unnecessary method in the report client code, and rather do\nthe loop in the RT code for directly calling to delete allocations.\n\nCo-Authored-By: Ed Leafe <ed@leafe.com>\n\nBlueprint: placement-claims\n\nChange-Id: I80ba844a6e0fcea89f80aa253d57ac73092773ae\n""}]",29,460177,439f67e7bc795f171af8248400c3f3e17a0bbe7e,195,24,12,7166,,,0,"Don't delete allocation if instance being scheduled

There could be a potential race if something other than the compute
service create allocations (say, the scheduler) because then the
self-healing process that runs periodically on compute would delete that
allocation given it wouldn't find the related instance for that host.

Removing an unnecessary method in the report client code, and rather do
the loop in the RT code for directly calling to delete allocations.

Co-Authored-By: Ed Leafe <ed@leafe.com>

Blueprint: placement-claims

Change-Id: I80ba844a6e0fcea89f80aa253d57ac73092773ae
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/460177/7 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,9108f6dff94bed863eb8430caf50364de8ce49c3,bp/placement-claims," # Removing allocations for instances that have been removed. instance_dict = {instance['uuid']: instance for instance in self.tracked_instances.values()} allocations = self.scheduler_client.reportclient._get_allocations( cn.uuid) or {} allocations_to_delete = set(allocations.keys() - instance_dict.keys()) for allocation_uuid in allocations_to_delete: # Allocations related to instances being scheduled or instances # already scheduled to that specific host should not be deleted if # we already wrote the allocation previously. instance = objects.Instance.get_by_uuid(context, allocation_uuid, expected_attrs=[]) if (not instance.host or instance.host == self.host or instance.host == self.node): continue LOG.warning(_LW('Deleting stale allocation for instance %s'), allocation_uuid) self.scheduler_client.reportclient._delete_allocation_for_instance( allocation_uuid) "," self.scheduler_client.reportclient.remove_deleted_instances( cn, self.tracked_instances.values())",20,2
openstack%2Ftripleo-common~master~Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f,openstack/tripleo-common,master,Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f,kolla template overrides for pacemaker HA containers,MERGED,2017-04-12 11:26:37.000000000,2017-05-26 20:37:12.000000000,2017-05-26 18:36:17.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4571}, {'_account_id': 13039}, {'_account_id': 20172}, {'_account_id': 20778}]","[{'number': 1, 'created': '2017-04-12 11:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f60a75eb4b383a3123c5f07f12e00054fd8dd4ec', 'message': 'WIP kolla template overrides for pacemaker HA containers\n\nChange-Id: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f\n'}, {'number': 2, 'created': '2017-04-12 20:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0a4beb6f070fd7a9a3d4a0f26ad1103722666a40', 'message': 'WIP kolla template overrides for pacemaker HA containers\n\nChange-Id: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f\n'}, {'number': 3, 'created': '2017-04-21 10:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/02ebf17bcefa09d156d78bf9b6ca1e04a496a72c', 'message': 'WIP kolla template overrides for pacemaker HA containers\n\nChange-Id: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f\n'}, {'number': 4, 'created': '2017-04-25 11:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/81c662eb324663f61d735b676e948ce6be8dcbf6', 'message': 'WIP kolla template overrides for pacemaker HA containers\n\nChange-Id: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f\n'}, {'number': 5, 'created': '2017-04-28 21:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a99d262345f4e95c3744710fb49d70e3702fb205', 'message': 'WIP kolla template overrides for pacemaker HA containers\n\nChange-Id: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f\n'}, {'number': 6, 'created': '2017-05-16 19:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/afc0c271aa57293a1537d69d60664436e697482a', 'message': 'WIP kolla template overrides for pacemaker HA containers\n\nChange-Id: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f\n'}, {'number': 7, 'created': '2017-05-18 14:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1d720e2a053b3aaa1156c8befe8b7c4c87d88823', 'message': 'WIP kolla template overrides for pacemaker HA containers\n\nChange-Id: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f\n'}, {'number': 8, 'created': '2017-05-18 15:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b7fd68a4c5f5460dbbaf6e145f889944920dc13d', 'message': 'WIP kolla template overrides for pacemaker HA containers\n\nChange-Id: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f\n'}, {'number': 9, 'created': '2017-05-18 19:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f49360eb77555b020039b559f0608f006dd9012c', 'message': 'WIP kolla template overrides for pacemaker HA containers\n\nChange-Id: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f\n'}, {'number': 10, 'created': '2017-05-24 20:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fc0bee11a74797138af1b0b4377d26a71b58a5c9', 'message': 'WIP kolla template overrides for pacemaker HA containers\n\nChange-Id: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f\n'}, {'number': 11, 'created': '2017-05-26 14:33:53.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a7918ddb45ad1898b5b050ec008559701e460acf', 'message': 'kolla template overrides for pacemaker HA containers\n\nChange-Id: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f\n'}]",2,456174,a7918ddb45ad1898b5b050ec008559701e460acf,54,6,11,20778,,,0,"kolla template overrides for pacemaker HA containers

Change-Id: Ie9b7e7d2a3cec4b121915a17c1e809e4ec950e7f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/74/456174/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/tripleo_kolla_template_overrides.j2'],1,f60a75eb4b383a3123c5f07f12e00054fd8dd4ec,ha-containers,"# Use mariadb-server package, and mariadb-server-galera for clustercheck{% set mariadb_packages_append = ['mariadb-server', 'mariadb-server-galera'] %}# pacemaker version with support for bundles RUN cd /tmp; for i in `curl -L ""http://file.cdg.redhat.com/~dciabrin/pcmk"" | sed -n 's/.*""\(.*el7.x86_64.rpm\)"".*/\1/p'`; do curl -LO ""http://file.cdg.redhat.com/~dciabrin/pcmk/$i""; done; yum install -y *.x86_64.rpm pcs {% endblock %} {% block rabbitmq_footer %} # pacemaker version with support for bundles RUN cd /tmp; for i in `curl -L ""http://file.cdg.redhat.com/~dciabrin/pcmk"" | sed -n 's/.*""\(.*el7.x86_64.rpm\)"".*/\1/p'`; do curl -LO ""http://file.cdg.redhat.com/~dciabrin/pcmk/$i""; done; yum install -y *.x86_64.rpm pcs resource-agents RUN curl -L https://raw.githubusercontent.com/ClusterLabs/resource-agents/master/heartbeat/rabbitmq-cluster > /usr/lib/ocf/resource.d/heartbeat/rabbitmq-cluster",# Use mariadb-server package{% set mariadb_packages_append = ['mariadb-server'] %},10,2
openstack%2Fpuppet-ironic~master~I52f96ec57d6de09a09667eb3d72971fdd9984cce,openstack/puppet-ironic,master,I52f96ec57d6de09a09667eb3d72971fdd9984cce,Fix unit test,MERGED,2017-05-25 03:33:47.000000000,2017-05-26 20:33:24.000000000,2017-05-26 20:33:24.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8971}, {'_account_id': 10239}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-05-25 03:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/702156ab15d2f6462f3cee64bbcf8cf8ee316728', 'message': 'Fix unit test\n\nThe db_backend_package name has changed in puppet-oslo[0], so fix it.\n\n[0]: https://review.openstack.org/#/c/467582/\n\nChange-Id: I52f96ec57d6de09a09667eb3d72971fdd9984cce\nCloses-Bug: #1693403\n'}, {'number': 2, 'created': '2017-05-26 00:33:20.000000000', 'files': ['spec/classes/ironic_inspector_db_spec.rb', 'spec/classes/ironic_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/93ac5b6825ddc6c8020f72bcaacbe4e812617d7a', 'message': 'Fix unit test\n\nThe db_backend_package name has changed in puppet-oslo[0], so fix it.\n\n[0]: https://review.openstack.org/#/c/467582/\n\nChange-Id: I52f96ec57d6de09a09667eb3d72971fdd9984cce\nCloses-Bug: #1693403\n'}]",0,467857,93ac5b6825ddc6c8020f72bcaacbe4e812617d7a,17,5,2,9414,,,0,"Fix unit test

The db_backend_package name has changed in puppet-oslo[0], so fix it.

[0]: https://review.openstack.org/#/c/467582/

Change-Id: I52f96ec57d6de09a09667eb3d72971fdd9984cce
Closes-Bug: #1693403
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/57/467857/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/ironic_db_spec.rb'],1,702156ab15d2f6462f3cee64bbcf8cf8ee316728,bug/1693403, is_expected.to contain_package('python-pymysql').with( is_expected.to contain_package('python-pysqlite2').with(, is_expected.to contain_package('db_backend_package').with( is_expected.to contain_package('db_backend_package').with( it { is_expected.not_to contain_package('db_backend_package') },2,3
openstack%2Fpuppet-barbican~master~I599e5c2ca3c81070f27840df1ed80eacfecad8e8,openstack/puppet-barbican,master,I599e5c2ca3c81070f27840df1ed80eacfecad8e8,Fix unit test,MERGED,2017-05-25 03:05:01.000000000,2017-05-26 20:33:19.000000000,2017-05-26 20:33:17.000000000,"[{'_account_id': 3}, {'_account_id': 1607}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-05-25 03:05:01.000000000', 'files': ['spec/classes/barbican_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/133b6fd93b7ae5e8e0b6eaad297eed249d09bfa1', 'message': 'Fix unit test\n\nThe db_backend_package name has changed in puppet-oslo[0], so fix it.\n\n[0]: https://review.openstack.org/#/c/467582/\n\nChange-Id: I599e5c2ca3c81070f27840df1ed80eacfecad8e8\nCloses-Bug: #1693403\n'}]",0,467831,133b6fd93b7ae5e8e0b6eaad297eed249d09bfa1,11,3,1,9414,,,0,"Fix unit test

The db_backend_package name has changed in puppet-oslo[0], so fix it.

[0]: https://review.openstack.org/#/c/467582/

Change-Id: I599e5c2ca3c81070f27840df1ed80eacfecad8e8
Closes-Bug: #1693403
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/31/467831/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/barbican_db_spec.rb'],1,133b6fd93b7ae5e8e0b6eaad297eed249d09bfa1,bug/1693403, is_expected.to contain_package('python-pysqlite2').with( is_expected.to contain_package('python-pymysql').with(, is_expected.to contain_package('db_backend_package').with( is_expected.to contain_package('db_backend_package').with( it { is_expected.not_to contain_package('db_backend_package') },2,4
openstack%2Ftripleo-quickstart-extras~master~Ibbfd117fd5227091ecb87d18bbb689cc3c7e6b23,openstack/tripleo-quickstart-extras,master,Ibbfd117fd5227091ecb87d18bbb689cc3c7e6b23,"Remove repo-setup role, being added to tripleo-quickstart",MERGED,2017-04-12 16:25:43.000000000,2017-05-26 20:09:52.000000000,2017-05-26 20:09:52.000000000,"[{'_account_id': 3}, {'_account_id': 6721}, {'_account_id': 6926}, {'_account_id': 8652}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-04-12 16:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/32f969611af20c88e62dd1a867e64fcea2d40ac3', 'message': 'Remove repo-setup role, being added to tripleo-quickstart\n\nThis commit removes the repo-setup role, as it is sought to be included\nin the tripleo-quickstart project instead.\n\nChange-Id: Ibbfd117fd5227091ecb87d18bbb689cc3c7e6b23\nDepends-On: Ia008a18f128f032c32ee154c0d0606e6ae476739\n'}, {'number': 2, 'created': '2017-05-03 16:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4d9db00ff96dbee20344b18d6144ac7887681dfe', 'message': 'Remove repo-setup role, being added to tripleo-quickstart\n\nThis commit removes the repo-setup role, as it is sought to be included\nin the tripleo-quickstart project instead.\n\nChange-Id: Ibbfd117fd5227091ecb87d18bbb689cc3c7e6b23\nDepends-On: Ia008a18f128f032c32ee154c0d0606e6ae476739\n'}, {'number': 3, 'created': '2017-05-05 15:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/197afe93f595621c279afa8169d21abd574748fa', 'message': 'Remove repo-setup role, being added to tripleo-quickstart\n\nThis commit removes the repo-setup role, as it is sought to be included\nin the tripleo-quickstart project instead.\n\nChange-Id: Ibbfd117fd5227091ecb87d18bbb689cc3c7e6b23\nDepends-On: Ia008a18f128f032c32ee154c0d0606e6ae476739\n'}, {'number': 4, 'created': '2017-05-18 18:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/668782678d790afbc93de22b47d19da3ff75a9a9', 'message': 'Remove repo-setup role, being added to tripleo-quickstart\n\nThis commit removes the repo-setup role, as it is sought to be included\nin the tripleo-quickstart project instead.\n\nChange-Id: Ibbfd117fd5227091ecb87d18bbb689cc3c7e6b23\nDepends-On: Ia008a18f128f032c32ee154c0d0606e6ae476739\n'}, {'number': 5, 'created': '2017-05-19 08:49:18.000000000', 'files': ['roles/repo-setup/tasks/main.yml', 'roles/repo-setup/meta/main.yml', 'roles/repo-setup/tasks/setup_repos.yml', 'roles/repo-setup/templates/repo_setup.sh.j2', 'roles/repo-setup/tasks/inject_repos_into_image.yml', 'roles/repo-setup/defaults/main.yml', 'roles/repo-setup/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/437ed43426b390be0f457fea82ada77c22037c5c', 'message': 'Remove repo-setup role, being added to tripleo-quickstart\n\nThis commit removes the repo-setup role, as it is sought to be included\nin the tripleo-quickstart project instead.\n\nChange-Id: Ibbfd117fd5227091ecb87d18bbb689cc3c7e6b23\nDepends-On: Ia008a18f128f032c32ee154c0d0606e6ae476739\n'}]",0,456288,437ed43426b390be0f457fea82ada77c22037c5c,42,9,5,6721,,,0,"Remove repo-setup role, being added to tripleo-quickstart

This commit removes the repo-setup role, as it is sought to be included
in the tripleo-quickstart project instead.

Change-Id: Ibbfd117fd5227091ecb87d18bbb689cc3c7e6b23
Depends-On: Ia008a18f128f032c32ee154c0d0606e6ae476739
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/88/456288/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/repo-setup/tasks/main.yml', 'roles/repo-setup/meta/main.yml', 'roles/repo-setup/tasks/setup_repos.yml', 'roles/repo-setup/templates/repo_setup.sh.j2', 'roles/repo-setup/tasks/inject_repos_into_image.yml', 'roles/repo-setup/README.md', 'roles/repo-setup/defaults/main.yml']",7,32f969611af20c88e62dd1a867e64fcea2d40ac3,repo-setup,,"--- repo_setup_dir: ""{{ working_dir }}"" repo_setup_script: repo_setup.sh.j2 repo_setup_log: ""{{ repo_setup_dir }}/repo_setup.log"" repo_run_live: true # Releases shortcuts stable: - newton - mitaka - liberty repo_cmd_before: | sudo yum install -y yum-plugin-priorities; sudo yum clean all; sudo rm -rf /etc/yum.repos.d/delorean*; sudo rm -rf /etc/yum.repos.d/*.rpmsave; repo_cmd_after: | sudo yum repolist; sudo yum update -y # Repositories definitions repos: - type: file filename: delorean.repo down_url: https://trunk.rdoproject.org/centos7-{{ release }}/current/delorean.repo - type: file filename: delorean-deps.repo down_url: https://trunk.rdoproject.org/centos7-{{ release }}/delorean-deps.repo ",0,306
openstack%2Ftripleo-quickstart~master~Ia008a18f128f032c32ee154c0d0606e6ae476739,openstack/tripleo-quickstart,master,Ia008a18f128f032c32ee154c0d0606e6ae476739,"Add repo-setup role from -extras, use it to inject repos into images",MERGED,2017-04-12 16:24:07.000000000,2017-05-26 20:09:25.000000000,2017-05-26 20:09:25.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8652}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}]","[{'number': 1, 'created': '2017-04-12 16:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f1c9a348bd06c44327034bd448c2e2ea93d62fe5', 'message': 'Add repo-setup role from -extras, use it to inject repos into images\n\nThis commit moves the repo-setup role from tripleo-quickstart-extras\ninto roles/ to remove the hardcoding of repositories in the undercloud\nimages.\n\nChange-Id: Ia008a18f128f032c32ee154c0d0606e6ae476739\n'}, {'number': 2, 'created': '2017-05-03 16:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/534c0c295752affa3cbe20d5267dc874737d0613', 'message': 'Add repo-setup role from -extras, use it to inject repos into images\n\nThis commit moves the repo-setup role from tripleo-quickstart-extras\ninto roles/ to remove the hardcoding of repositories in the undercloud\nimages.\n\nChange-Id: Ia008a18f128f032c32ee154c0d0606e6ae476739\n'}, {'number': 3, 'created': '2017-05-05 15:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/42dc37fe9854c9af0d12ddf37df4985101e4ddc3', 'message': 'Add repo-setup role from -extras, use it to inject repos into images\n\nThis commit moves the repo-setup role from tripleo-quickstart-extras\ninto roles/ to remove the hardcoding of repositories in the undercloud\nimages.\n\nChange-Id: Ia008a18f128f032c32ee154c0d0606e6ae476739\n'}, {'number': 4, 'created': '2017-05-18 18:26:18.000000000', 'files': ['roles/repo-setup/tasks/main.yml', 'roles/repo-setup/meta/main.yml', 'roles/repo-setup/tasks/setup_repos.yml', 'roles/repo-setup/templates/repo_setup.sh.j2', 'roles/repo-setup/tasks/inject_repos_into_image.yml', 'roles/repo-setup/defaults/main.yml', 'roles/repo-setup/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ec7b2d71f28efd301eafec8f53fc644c2fd8cc6e', 'message': 'Add repo-setup role from -extras, use it to inject repos into images\n\nThis commit moves the repo-setup role from tripleo-quickstart-extras\ninto roles/ to remove the hardcoding of repositories in the undercloud\nimages.\n\nChange-Id: Ia008a18f128f032c32ee154c0d0606e6ae476739\n'}]",7,456286,ec7b2d71f28efd301eafec8f53fc644c2fd8cc6e,32,7,4,6721,,,0,"Add repo-setup role from -extras, use it to inject repos into images

This commit moves the repo-setup role from tripleo-quickstart-extras
into roles/ to remove the hardcoding of repositories in the undercloud
images.

Change-Id: Ia008a18f128f032c32ee154c0d0606e6ae476739
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/86/456286/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/repo-setup/tasks/main.yml', 'roles/repo-setup/meta/main.yml', 'roles/repo-setup/tasks/setup_repos.yml', 'roles/repo-setup/templates/repo_setup.sh.j2', 'roles/repo-setup/tasks/inject_repos_into_image.yml', 'roles/repo-setup/README.md', 'roles/repo-setup/defaults/main.yml']",7,f1c9a348bd06c44327034bd448c2e2ea93d62fe5,repo-setup,"--- repo_setup_dir: ""{{ working_dir }}"" repo_setup_script: repo_setup.sh.j2 repo_setup_log: ""{{ repo_setup_dir }}/repo_setup.log"" repo_run_live: true # Releases shortcuts stable: - newton - mitaka - liberty repo_cmd_before: | sudo yum install -y yum-plugin-priorities; sudo yum clean all; sudo rm -rf /etc/yum.repos.d/delorean*; sudo rm -rf /etc/yum.repos.d/*.rpmsave; repo_cmd_after: | sudo yum repolist; sudo yum update -y # Repositories definitions repos: - type: file filename: delorean.repo down_url: https://trunk.rdoproject.org/centos7-{{ release }}/current/delorean.repo - type: file filename: delorean-deps.repo down_url: https://trunk.rdoproject.org/centos7-{{ release }}/delorean-deps.repo ",,306,0
openstack%2Fnova~master~I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3,openstack/nova,master,I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3,Exclude deleted service records when calling hypervisor statistics,MERGED,2017-05-23 12:50:47.000000000,2017-05-26 19:47:53.000000000,2017-05-26 19:04:40.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-05-23 12:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e21ed9ceb18394dde70c292c745748c583e1819', 'message': 'Exclude deleted service records when calling hyervisor statistics\n\nHypervisor statistics could be incorrect if not exclude\ndeleted service records from DB.\n\nChange-Id: I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3\nCloses-Bug: #1692397\n'}, {'number': 2, 'created': '2017-05-24 07:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06fe2f9ebd025c55d1023b15a27b2957412c8546', 'message': 'Exclude deleted service records when calling hyervisor statistics\n\nHypervisor statistics could be incorrect if not exclude\ndeleted service records from DB.\n\nChange-Id: I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3\nCloses-Bug: #1692397\n'}, {'number': 3, 'created': '2017-05-25 08:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e492f20dfe5e4fb21b498cc5634eb9d3f0966a45', 'message': ""Exclude deleted service records when calling hyperrvisor statistics\n\nHypervisor statistics could be incorrect if not\nexclude deleted service records from DB.\n\nUser may stop 'nova-compute' service on some\ncompute nodes and delete the service from nova.\nWhen delete 'nova-compute' service, it performs\n'soft-delete' to the corresponding db records in\nboth 'service' table and 'compute_nodes' table.\n\nIf the 'nova-compute' service on that server\nre-starts, it will automatically add a record\nin 'compute_nodes' table and also a correspoding\nrecord in 'service' table, and if the host name\nof the compute node did not change, the newly\ncreated records in 'service' and 'compute_nodes'\ntable will be identical to the priously soft-deleted\nrecords except the deleted row.\n\nWhen calling Hypervisor-statistics, the DB layer\njoined records across the whole deployment by\ncamparing records' host field selected from\nserivce table and records' host field selected\nfrom compute_nodes table, and the calculated\nresults could be multiplied if multiple records\nfrom service table have the same host field,\nand this scenario could happen if user perform\nthe upper actions.\n\nChange-Id: I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3\nCloses-Bug: #1692397\n""}, {'number': 4, 'created': '2017-05-25 11:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/263e7b9f60a72c91a661de705e1f403c067e52c2', 'message': ""Exclude deleted service records when calling hyperrvisor statistics\n\nHypervisor statistics could be incorrect if not\nexclude deleted service records from DB.\n\nUser may stop 'nova-compute' service on some\ncompute nodes and delete the service from nova.\nWhen delete 'nova-compute' service, it performs\n'soft-delete' to the corresponding db records in\nboth 'service' table and 'compute_nodes' table.\n\nIf the 'nova-compute' service on that server\nre-starts, it will automatically add a record\nin 'compute_nodes' table and also a correspoding\nrecord in 'service' table, and if the host name\nof the compute node did not change, the newly\ncreated records in 'service' and 'compute_nodes'\ntable will be identical to the priously soft-deleted\nrecords except the deleted row.\n\nWhen calling Hypervisor-statistics, the DB layer\njoined records across the whole deployment by\ncamparing records' host field selected from\nserivce table and records' host field selected\nfrom compute_nodes table, and the calculated\nresults could be multiplied if multiple records\nfrom service table have the same host field,\nand this scenario could happen if user perform\nthe upper actions.\n\nChange-Id: I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3\nCloses-Bug: #1692397\n""}, {'number': 5, 'created': '2017-05-25 16:05:05.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3d3e9cdd774efe96f468f2bcba6c09a40f5e71d3', 'message': ""Exclude deleted service records when calling hypervisor statistics\n\nHypervisor statistics could be incorrect if not\nexclude deleted service records from DB.\n\nUser may stop 'nova-compute' service on some\ncompute nodes and delete the service from nova.\nWhen delete 'nova-compute' service, it performs\n'soft-delete' to the corresponding db records in\nboth 'service' table and 'compute_nodes' table if\nthe compute_nodes record is old, i.e. it is linked\nto the service record. For modern compute_nodes\nrecords, they aren't linked to the services table\nso deleting the services record will not delete\nthe compute_nodes record, and the ResourceTracker\nwon't recreate the compute_nodes record if the host\nand hypervisor_hostname still match the existing\nrecord, but restarting the process after deleting\nthe service will create a new services table record\nwith the same host/binary/topic.\n\nIf the 'nova-compute' service on that server\nre-starts, it will automatically add a record\nin 'compute_nodes' table (assuming it was deleted\nbecause it was an old-style record) and also a correspoding\nrecord in 'service' table, and if the host name\nof the compute node did not change, the newly\ncreated records in 'service' and 'compute_nodes'\ntable will be identical to the priously soft-deleted\nrecords except the deleted row.\n\nWhen calling Hypervisor-statistics, the DB layer\njoined records across the whole deployment by\ncomparing records' host field selected from\nserivce table and records' host field selected\nfrom compute_nodes table, and the calculated\nresults could be multiplied if multiple records\nfrom service table have the same host field,\nand this scenario could happen if user perform\nthe above actions.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nChange-Id: I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3\nCloses-Bug: #1692397\n""}]",13,467220,3d3e9cdd774efe96f468f2bcba6c09a40f5e71d3,65,16,5,15888,,,0,"Exclude deleted service records when calling hypervisor statistics

Hypervisor statistics could be incorrect if not
exclude deleted service records from DB.

User may stop 'nova-compute' service on some
compute nodes and delete the service from nova.
When delete 'nova-compute' service, it performs
'soft-delete' to the corresponding db records in
both 'service' table and 'compute_nodes' table if
the compute_nodes record is old, i.e. it is linked
to the service record. For modern compute_nodes
records, they aren't linked to the services table
so deleting the services record will not delete
the compute_nodes record, and the ResourceTracker
won't recreate the compute_nodes record if the host
and hypervisor_hostname still match the existing
record, but restarting the process after deleting
the service will create a new services table record
with the same host/binary/topic.

If the 'nova-compute' service on that server
re-starts, it will automatically add a record
in 'compute_nodes' table (assuming it was deleted
because it was an old-style record) and also a correspoding
record in 'service' table, and if the host name
of the compute node did not change, the newly
created records in 'service' and 'compute_nodes'
table will be identical to the priously soft-deleted
records except the deleted row.

When calling Hypervisor-statistics, the DB layer
joined records across the whole deployment by
comparing records' host field selected from
serivce table and records' host field selected
from compute_nodes table, and the calculated
results could be multiplied if multiple records
from service table have the same host field,
and this scenario could happen if user perform
the above actions.

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Change-Id: I9dfa15f69f8ef9c6cb36b2734a8601bd73e9d6b3
Closes-Bug: #1692397
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/467220/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",2,3e21ed9ceb18394dde70c292c745748c583e1819,bug/1692397," services_tbl.c.binary == 'nova-compute', services_tbl.c.deleted == 0", services_tbl.c.binary == 'nova-compute',27,1
openstack%2Fdevstack~stable%2Fnewton~I9d33b98263c3d52a95b9983e90eb0b341fa1d363,openstack/devstack,stable/newton,I9d33b98263c3d52a95b9983e90eb0b341fa1d363,clean up virt drivers that we do image logic for,MERGED,2017-04-21 18:14:42.000000000,2017-05-26 19:33:49.000000000,2017-05-26 19:33:49.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 10118}]","[{'number': 1, 'created': '2017-04-21 18:14:42.000000000', 'files': ['stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/95f45038a248a10f5f13c0f8ce9ba6bd137205ee', 'message': ""clean up virt drivers that we do image logic for\n\nThis is a partial backport of:\n  https://review.openstack.org/#/c/435126\n\nWe have only opted to backport the removal of openvz image.\n\nopenvz is not in the nova tree, and is referencing a crazy old image,\nwe're going to assume that if anyone is using this they can build a\ndevstack plugin.\n\nChange-Id: I9d33b98263c3d52a95b9983e90eb0b341fa1d363\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n""}]",0,458927,95f45038a248a10f5f13c0f8ce9ba6bd137205ee,8,3,1,4162,,,0,"clean up virt drivers that we do image logic for

This is a partial backport of:
  https://review.openstack.org/#/c/435126

We have only opted to backport the removal of openvz image.

openvz is not in the nova tree, and is referencing a crazy old image,
we're going to assume that if anyone is using this they can build a
devstack plugin.

Change-Id: I9d33b98263c3d52a95b9983e90eb0b341fa1d363
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/27/458927/1 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,95f45038a248a10f5f13c0f8ce9ba6bd137205ee,,," openvz) DEFAULT_IMAGE_NAME=${DEFAULT_IMAGE_NAME:-ubuntu-12.04-x86_64} IMAGE_URLS+=""http://download.openvz.org/template/precreated/ubuntu-12.04-x86_64.tar.gz"";;",0,3
openstack%2Fdevstack~master~I115580352fa380b896bae290f9a4efbfe4ff0dfd,openstack/devstack,master,I115580352fa380b896bae290f9a4efbfe4ff0dfd,Remove nova cert from devstack,MERGED,2017-05-22 09:44:16.000000000,2017-05-26 19:33:42.000000000,2017-05-26 19:33:42.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 4656}, {'_account_id': 7118}, {'_account_id': 10118}]","[{'number': 1, 'created': '2017-05-22 09:44:16.000000000', 'files': ['lib/nova', 'doc/source/guides/devstack-with-lbaas-v2.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ac2ae8c04779e4ad78d3813b8bc4bc4200b6d686', 'message': 'Remove nova cert from devstack\n\nAs a followup to I2c78a0c6599b92040146cf9f0042cff8fd2509c3, the nova\ncert service should be removed from devstack.\n\nWithout this fix, stacking will fail is USE_SCREEN=True\n\nChange-Id: I115580352fa380b896bae290f9a4efbfe4ff0dfd\n'}]",0,466657,ac2ae8c04779e4ad78d3813b8bc4bc4200b6d686,9,6,1,6579,,,0,"Remove nova cert from devstack

As a followup to I2c78a0c6599b92040146cf9f0042cff8fd2509c3, the nova
cert service should be removed from devstack.

Without this fix, stacking will fail is USE_SCREEN=True

Change-Id: I115580352fa380b896bae290f9a4efbfe4ff0dfd
",git fetch https://review.opendev.org/openstack/devstack refs/changes/57/466657/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/nova', 'doc/source/guides/devstack-with-lbaas-v2.rst']",2,ac2ae8c04779e4ad78d3813b8bc4bc4200b6d686,nova_crt_remove," ENABLED_SERVICES+=,n-api,n-cpu,n-cond,n-sch"," ENABLED_SERVICES+=,n-api,n-crt,n-cpu,n-cond,n-sch",2,3
openstack%2Fdevstack~master~I9578be41ea9dc252404b7553679ac527e08a0ff6,openstack/devstack,master,I9578be41ea9dc252404b7553679ac527e08a0ff6,Do not upload vhdx images as vhd,MERGED,2017-05-24 08:35:42.000000000,2017-05-26 19:33:35.000000000,2017-05-26 19:33:35.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2017-05-24 08:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2dfc39e4e60ef067ea5ce17ccfb67ed87d96ffb2', 'message': 'Do not upload vhdx images as vhd\n\nThis change ensures that when uploading vhdx images, we use the\nproper format.\n\nAt the moment, vhdx images are uploaded as vhd, which can be\ntroublesome: first because this is misleading, second because the\nactual image format may be checked, having the image rejected.\n\nChange-Id: I9578be41ea9dc252404b7553679ac527e08a0ff6\n'}, {'number': 2, 'created': '2017-05-24 10:37:14.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2715fd0b4acf44842ceb67760bbc348093e7d70d', 'message': 'Do not upload vhdx images as vhd\n\nThis change ensures that when uploading vhdx images, we use the\nproper format.\n\nAt the moment, vhdx images are uploaded as vhd, which can be\ntroublesome: first because this is misleading, second because the\nactual image format may be checked, having the image rejected.\n\nChange-Id: I9578be41ea9dc252404b7553679ac527e08a0ff6\n'}]",0,467522,2715fd0b4acf44842ceb67760bbc348093e7d70d,27,4,2,8543,,,0,"Do not upload vhdx images as vhd

This change ensures that when uploading vhdx images, we use the
proper format.

At the moment, vhdx images are uploaded as vhd, which can be
troublesome: first because this is misleading, second because the
actual image format may be checked, having the image rejected.

Change-Id: I9578be41ea9dc252404b7553679ac527e08a0ff6
",git fetch https://review.opendev.org/openstack/devstack refs/changes/22/467522/2 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,2dfc39e4e60ef067ea5ce17ccfb67ed87d96ffb2,," disk_format=""${extension%.*}""", disk_format=vhd,1,1
openstack%2Fdevstack~stable%2Fnewton~If8196a04f852f633e0b7548793f68c92376aa6da,openstack/devstack,stable/newton,If8196a04f852f633e0b7548793f68c92376aa6da,Use the proper keystone endpoints in clouds.yaml,MERGED,2017-04-27 23:28:26.000000000,2017-05-26 19:25:14.000000000,2017-05-26 19:25:14.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 14571}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-04-27 23:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/31f9cfeeff1280977f7fb6b28d95351db5fe72ae', 'message': ""Use KEYSTONE_SERVICE_API not KEYSTONE_AUTH_API\n\nKEYSTONE_AUTH_API winds up being set to a werid admin port. It's not\nwhat the auth_url should be. KEYSTONE_SERVICE_API is what auth_url\nshould be.\n\nChange-Id: If8196a04f852f633e0b7548793f68c92376aa6da\n""}, {'number': 2, 'created': '2017-04-28 00:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/92ff3afe9f7548f526d01d2f79ed6a8075288590', 'message': 'Use the proper keystone endpoints in clouds.yaml\n\nKEYSTONE_SERVICE_API is the main end-user endpoint. It should be what we\nuse for the normal auth-url. However, for admin users, we should use the\nadmin interface. We should also set interface=admin for the admin user.\n\nChange-Id: If8196a04f852f633e0b7548793f68c92376aa6da\n(cherry picked from commit e7123fcf1eeb62f93f2bfd76d57e5956cd4f8a0e)\n'}, {'number': 3, 'created': '2017-04-28 00:36:27.000000000', 'files': ['functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0fff6f6fb1aa3bbd5f8e8d4ef18a3bed0b8892a2', 'message': 'Use the proper keystone endpoints in clouds.yaml\n\nKEYSTONE_SERVICE_API is the keystone endpoint and it is what we should\nuse. The admin url should DIAF - but until it does, it CERTAINLY should\nnot be the thing we put into clouds.yaml.\n\nChange-Id: If8196a04f852f633e0b7548793f68c92376aa6da\n(cherry picked from commit e43f60ba2a3a227918e5fdb652a0adc2643f618d)\n'}]",0,460775,0fff6f6fb1aa3bbd5f8e8d4ef18a3bed0b8892a2,16,7,3,2,,,0,"Use the proper keystone endpoints in clouds.yaml

KEYSTONE_SERVICE_API is the keystone endpoint and it is what we should
use. The admin url should DIAF - but until it does, it CERTAINLY should
not be the thing we put into clouds.yaml.

Change-Id: If8196a04f852f633e0b7548793f68c92376aa6da
(cherry picked from commit e43f60ba2a3a227918e5fdb652a0adc2643f618d)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/75/460775/1 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,31f9cfeeff1280977f7fb6b28d95351db5fe72ae,, --os-auth-url $KEYSTONE_SERVICE_URI \ --os-auth-url $KEYSTONE_SERVICE_URI \ --os-auth-url $KEYSTONE_SERVICE_URI \, --os-auth-url $KEYSTONE_AUTH_URI \ --os-auth-url $KEYSTONE_AUTH_URI \ --os-auth-url $KEYSTONE_AUTH_URI \,3,3
openstack%2Fdevstack~stable%2Focata~If8196a04f852f633e0b7548793f68c92376aa6da,openstack/devstack,stable/ocata,If8196a04f852f633e0b7548793f68c92376aa6da,Use the proper keystone endpoints in clouds.yaml,MERGED,2017-04-28 00:37:23.000000000,2017-05-26 19:25:07.000000000,2017-05-26 19:25:07.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 7118}, {'_account_id': 10118}]","[{'number': 1, 'created': '2017-04-28 00:37:23.000000000', 'files': ['functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a1daf9c00302c75663fe8dde2fdf357f5cbc794c', 'message': 'Use the proper keystone endpoints in clouds.yaml\n\nKEYSTONE_SERVICE_API is the keystone endpoint and it is what we should\nuse. The admin url should DIAF - but until it does, it CERTAINLY should\nnot be the thing we put into clouds.yaml.\n\nChange-Id: If8196a04f852f633e0b7548793f68c92376aa6da\n(cherry picked from commit e43f60ba2a3a227918e5fdb652a0adc2643f618d)\n'}]",0,460788,a1daf9c00302c75663fe8dde2fdf357f5cbc794c,10,4,1,2,,,0,"Use the proper keystone endpoints in clouds.yaml

KEYSTONE_SERVICE_API is the keystone endpoint and it is what we should
use. The admin url should DIAF - but until it does, it CERTAINLY should
not be the thing we put into clouds.yaml.

Change-Id: If8196a04f852f633e0b7548793f68c92376aa6da
(cherry picked from commit e43f60ba2a3a227918e5fdb652a0adc2643f618d)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/88/460788/1 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,a1daf9c00302c75663fe8dde2fdf357f5cbc794c,, --os-auth-url $KEYSTONE_SERVICE_URI \ --os-auth-url $KEYSTONE_SERVICE_URI \ --os-auth-url $KEYSTONE_SERVICE_URI \, --os-auth-url $KEYSTONE_AUTH_URI \ --os-auth-url $KEYSTONE_AUTH_URI \ --os-auth-url $KEYSTONE_AUTH_URI \,3,3
openstack%2Fdevstack~master~If8196a04f852f633e0b7548793f68c92376aa6da,openstack/devstack,master,If8196a04f852f633e0b7548793f68c92376aa6da,Use the proper keystone endpoints in clouds.yaml,MERGED,2017-04-28 00:07:33.000000000,2017-05-26 19:24:51.000000000,2017-05-26 19:24:51.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 6854}, {'_account_id': 7118}, {'_account_id': 10118}]","[{'number': 1, 'created': '2017-04-28 00:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e7123fcf1eeb62f93f2bfd76d57e5956cd4f8a0e', 'message': 'Use the proper keystone endpoints in clouds.yaml\n\nKEYSTONE_SERVICE_API is the main end-user endpoint. It should be what we\nuse for the normal auth-url. However, for admin users, we should use the\nadmin interface. We should also set interface=admin for the admin user.\n\nChange-Id: If8196a04f852f633e0b7548793f68c92376aa6da\n'}, {'number': 2, 'created': '2017-04-28 00:34:12.000000000', 'files': ['functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e43f60ba2a3a227918e5fdb652a0adc2643f618d', 'message': 'Use the proper keystone endpoints in clouds.yaml\n\nKEYSTONE_SERVICE_API is the keystone endpoint and it is what we should\nuse. The admin url should DIAF - but until it does, it CERTAINLY should\nnot be the thing we put into clouds.yaml.\n\nChange-Id: If8196a04f852f633e0b7548793f68c92376aa6da\n'}]",1,460786,e43f60ba2a3a227918e5fdb652a0adc2643f618d,17,7,2,2,,,0,"Use the proper keystone endpoints in clouds.yaml

KEYSTONE_SERVICE_API is the keystone endpoint and it is what we should
use. The admin url should DIAF - but until it does, it CERTAINLY should
not be the thing we put into clouds.yaml.

Change-Id: If8196a04f852f633e0b7548793f68c92376aa6da
",git fetch https://review.opendev.org/openstack/devstack refs/changes/86/460786/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/update_clouds_yaml.py', 'functions-common']",2,e7123fcf1eeb62f93f2bfd76d57e5956cd4f8a0e,, --os-auth-url $KEYSTONE_SERVICE_URI \ --os-auth-url $KEYSTONE_SERVICE_URI \ --os-project-name admin \ --os-interface admin, --os-auth-url $KEYSTONE_AUTH_URI \ --os-auth-url $KEYSTONE_AUTH_URI \ --os-project-name admin,6,3
openstack%2Fdevstack~master~Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55,openstack/devstack,master,Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55,lib/neutron: Don't assume plugin config is provided by neutron repo,MERGED,2017-05-01 08:03:49.000000000,2017-05-26 19:24:44.000000000,2017-05-26 19:24:44.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 6854}, {'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 16376}, {'_account_id': 19017}]","[{'number': 1, 'created': '2017-05-01 08:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d5ef6d2c765529982a2842dc7126459e0995a19d', 'message': ""lib/neutron: Don't assume plugin config is provided by neutron repo\n\nIt isn't the case for plugins provided by subprojects.\n\nChange-Id: Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55\n""}, {'number': 2, 'created': '2017-05-08 06:03:19.000000000', 'files': ['lib/neutron'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1df17c94f512f0d1a084ba70cc0d4feb05feb8fb', 'message': ""lib/neutron: Don't assume plugin config is provided by neutron repo\n\nIt isn't the case for plugins provided by subprojects.\n\nChange-Id: Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55\n""}]",4,461350,1df17c94f512f0d1a084ba70cc0d4feb05feb8fb,29,10,2,6854,,,0,"lib/neutron: Don't assume plugin config is provided by neutron repo

It isn't the case for plugins provided by subprojects.

Change-Id: Ic28a9da9f11355e5e1eae5db9b2d4ee6ed081b55
",git fetch https://review.opendev.org/openstack/devstack refs/changes/50/461350/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron'],1,d5ef6d2c765529982a2842dc7126459e0995a19d,plugin-conf, if [ -f $NEUTRON_DIR/etc/neutron/plugins/$NEUTRON_CORE_PLUGIN/$NEUTRON_CORE_PLUGIN_CONF_FILENAME.sample]; then cp $NEUTRON_DIR/etc/neutron/plugins/$NEUTRON_CORE_PLUGIN/$NEUTRON_CORE_PLUGIN_CONF_FILENAME.sample $NEUTRON_CORE_PLUGIN_CONF fi, cp $NEUTRON_DIR/etc/neutron/plugins/$NEUTRON_CORE_PLUGIN/$NEUTRON_CORE_PLUGIN_CONF_FILENAME.sample $NEUTRON_CORE_PLUGIN_CONF,3,1
openstack%2Fcookbook-openstack-common~stable%2Fnewton~If4a86dfd16c9abbdb0957520d30b7e5c1435d4c1,openstack/cookbook-openstack-common,stable/newton,If4a86dfd16c9abbdb0957520d30b7e5c1435d4c1,Update OSC client version to 3.11.0,MERGED,2017-05-24 09:29:10.000000000,2017-05-26 19:22:55.000000000,2017-05-26 19:22:55.000000000,"[{'_account_id': 3}, {'_account_id': 14790}, {'_account_id': 24734}]","[{'number': 1, 'created': '2017-05-24 09:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/4f9f2133dd45d9560fdabe763602c28737824825', 'message': 'Update OSC client version to 3.11.0\n\nThe previous version is no longer working after python-novaclient got\nupgraded to 8.0.0. There is also no proper stable version, so update to\ncurrent latest.\n\nChange-Id: If4a86dfd16c9abbdb0957520d30b7e5c1435d4c1\n'}, {'number': 2, 'created': '2017-05-24 11:19:55.000000000', 'files': ['attributes/default.rb', 'metadata.rb', 'spec/client_spec.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/28ef3e2fe5fb24415b345644b5771c7f03d7fe36', 'message': 'Update OSC client version to 3.11.0\n\nThe previous version is no longer working after python-novaclient got\nupgraded to 8.0.0. There is also no proper stable version, so update to\ncurrent latest.\n\nChange-Id: If4a86dfd16c9abbdb0957520d30b7e5c1435d4c1\n'}]",0,467545,28ef3e2fe5fb24415b345644b5771c7f03d7fe36,10,3,2,13252,,,0,"Update OSC client version to 3.11.0

The previous version is no longer working after python-novaclient got
upgraded to 8.0.0. There is also no proper stable version, so update to
current latest.

Change-Id: If4a86dfd16c9abbdb0957520d30b7e5c1435d4c1
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/45/467545/1 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'spec/client_spec.rb']",2,4f9f2133dd45d9560fdabe763602c28737824825,update-osc, .with(version: '3.11.0'), .with(version: '3.6.0'),2,2
openstack%2Fdevstack~master~I82c15a19f8fe0326d4a5c2a076baa6d3e53fcf32,openstack/devstack,master,I82c15a19f8fe0326d4a5c2a076baa6d3e53fcf32,cleanup: remove DEVSTACK_CINDER_SECURE_DELETE,MERGED,2017-05-17 11:21:32.000000000,2017-05-26 19:22:48.000000000,2017-05-26 19:22:48.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2017-05-17 11:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/403c2407c71b4279c3638ef2fcb748fe59b9914c', 'message': 'cleanup: remove DEVSTACK_CINDER_SECURE_DELETE\n\nDEVSTACK_CINDER_SECURE_DELETE is deprecated from liberty release.\nThis should have been removed after kilo-eol\n\nChange-Id: I82c15a19f8fe0326d4a5c2a076baa6d3e53fcf32\n'}, {'number': 2, 'created': '2017-05-17 11:29:09.000000000', 'files': ['lib/cinder_backends/lvm', 'lib/cinder'], 'web_link': 'https://opendev.org/openstack/devstack/commit/54a8dc291f271c6782a7381d6f981223fdabd459', 'message': 'cleanup: remove DEVSTACK_CINDER_SECURE_DELETE\n\nDEVSTACK_CINDER_SECURE_DELETE is deprecated from liberty release.\nThis should have been removed after kilo-eol\n\nChange-Id: I82c15a19f8fe0326d4a5c2a076baa6d3e53fcf32\n'}]",0,465513,54a8dc291f271c6782a7381d6f981223fdabd459,13,5,2,13047,,,0,"cleanup: remove DEVSTACK_CINDER_SECURE_DELETE

DEVSTACK_CINDER_SECURE_DELETE is deprecated from liberty release.
This should have been removed after kilo-eol

Change-Id: I82c15a19f8fe0326d4a5c2a076baa6d3e53fcf32
",git fetch https://review.opendev.org/openstack/devstack refs/changes/13/465513/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/cinder'],1,403c2407c71b4279c3638ef2fcb748fe59b9914c,,," # Should cinder perform secure deletion of volumes? # Defaults to zero. Can also be set to none or shred. # This was previously CINDER_SECURE_DELETE (True or False). # Equivalents using CINDER_VOLUME_CLEAR are zero and none, respectively. # Set to none to avoid this bug when testing: # https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1023755 if [[ -n $CINDER_SECURE_DELETE ]]; then CINDER_SECURE_DELETE=$(trueorfalse True CINDER_SECURE_DELETE) if [[ $CINDER_SECURE_DELETE == ""False"" ]]; then CINDER_VOLUME_CLEAR_DEFAULT=""none"" fi deprecated ""Configure secure Cinder volume deletion using CINDER_VOLUME_CLEAR instead of CINDER_SECURE_DELETE."" fi",0,14
openstack%2Fdevstack~master~I19b3332229e2094988cbf8968c42a0323194a209,openstack/devstack,master,I19b3332229e2094988cbf8968c42a0323194a209,update sphinx,MERGED,2017-05-09 11:36:49.000000000,2017-05-26 19:22:36.000000000,2017-05-26 19:22:36.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-05-09 11:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ac01ad9b3d08bfd3bc498ea1fb342f8b20f00aca', 'message': 'update sphinx\n\nUpdate sphinx to the version used to build the documentation elsewhere\nand turn on the option to treat warnings as errors to ensure that no\npoorly constructed rst is introduced.\n\nChange-Id: I19b3332229e2094988cbf8968c42a0323194a209\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-05-16 14:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/65641a26b29e71fdb6b4adfb06b95732d248ae12', 'message': 'update sphinx\n\nUpdate sphinx to the version used to build the documentation elsewhere\nand turn on the option to treat warnings as errors to ensure that no\npoorly constructed rst is introduced.\n\nChange-Id: I19b3332229e2094988cbf8968c42a0323194a209\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-05-21 15:00:31.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4db30f9f05ad8aba9001d444313ee2915f86ecd1', 'message': 'update sphinx\n\nUpdate sphinx to the version used to build the documentation elsewhere\nand turn on the option to treat warnings as errors to ensure that no\npoorly constructed rst is introduced. Cap sphinx<1.6.1, since that\nversion has a conflict with pbr right now.\n\nChange-Id: I19b3332229e2094988cbf8968c42a0323194a209\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,463533,4db30f9f05ad8aba9001d444313ee2915f86ecd1,32,8,3,2472,,,0,"update sphinx

Update sphinx to the version used to build the documentation elsewhere
and turn on the option to treat warnings as errors to ensure that no
poorly constructed rst is introduced. Cap sphinx<1.6.1, since that
version has a conflict with pbr right now.

Change-Id: I19b3332229e2094988cbf8968c42a0323194a209
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/33/463533/2 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,ac01ad9b3d08bfd3bc498ea1fb342f8b20f00aca,add-table-of-contents-patch2," sphinx>=1.5.1 pbr>=2.0.0,!=2.1.0 pbr>=2.0.0,!=2.1.0 sphinx>=1.5.1"," sphinx>=1.1.2,<1.2 pbr>=0.6,!=0.7,<1.0 pbr>=0.6,!=0.7,<1.0 sphinx>=1.1.2,<1.2",5,4
openstack%2Fdevstack~master~I565339762549b076119ffedb6b83abfa12977f5e,openstack/devstack,master,I565339762549b076119ffedb6b83abfa12977f5e,stack: Workaround libvirt issue with multiple of 16 byte fixed_key values,MERGED,2017-05-19 12:49:37.000000000,2017-05-26 19:22:30.000000000,2017-05-26 19:22:30.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 2750}, {'_account_id': 10118}]","[{'number': 1, 'created': '2017-05-19 12:49:37.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/00ff904b09e07880a274cc9b0cf35b6433dc5877', 'message': 'stack: Workaround libvirt issue with multiple of 16 byte fixed_key values\n\nUnable to use LUKS passphrase that is exactly 16 bytes long\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1447297\n\nChange-Id: I565339762549b076119ffedb6b83abfa12977f5e\n'}]",0,466274,00ff904b09e07880a274cc9b0cf35b6433dc5877,11,4,1,10135,,,0,"stack: Workaround libvirt issue with multiple of 16 byte fixed_key values

Unable to use LUKS passphrase that is exactly 16 bytes long
https://bugzilla.redhat.com/show_bug.cgi?id=1447297

Change-Id: I565339762549b076119ffedb6b83abfa12977f5e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/74/466274/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,00ff904b09e07880a274cc9b0cf35b6433dc5877,,# NOTE(lyarwood): This is currently set to 36 as a workaround to the following # libvirt bug that incorrectly pads passphrases that are a multiple of 16 bytes # in length. # Unable to use LUKS passphrase that is exactly 16 bytes long # https://bugzilla.redhat.com/show_bug.cgi?id=1447297 iniset $NOVA_CONF key_manager fixed_key $(generate_hex_string 36), iniset $NOVA_CONF key_manager fixed_key $(generate_hex_string 32),6,1
openstack%2Fdevstack~master~I187e560911f5d5d482eb7959e5174068c4c9a801,openstack/devstack,master,I187e560911f5d5d482eb7959e5174068c4c9a801,Enable ssh validation by default,MERGED,2017-04-20 22:39:15.000000000,2017-05-26 19:21:11.000000000,2017-05-26 19:21:11.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 8556}, {'_account_id': 10118}]","[{'number': 1, 'created': '2017-04-20 22:39:15.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ef1e88ec09bda30cad19589629744b59e12b4093', 'message': ""Enable ssh validation by default\n\nThe -ssh job with ssh validation enabled has been quite stable\nfor a while now [0] so I think it's time to add ssh validation\nto the integration gate to prevent regressions from lurking in.\n\nDoing this in devstack ensures that the change only affects\nmaster as we didn't test ssh validation on on stable branches.\n\n[0] http://status.openstack.org/openstack-health/#/g/build_name/gate-tempest-dsvm-neutron-full-ssh?duration=P3M\n\nChange-Id: I187e560911f5d5d482eb7959e5174068c4c9a801\n""}]",0,458678,ef1e88ec09bda30cad19589629744b59e12b4093,16,5,1,1921,,,0,"Enable ssh validation by default

The -ssh job with ssh validation enabled has been quite stable
for a while now [0] so I think it's time to add ssh validation
to the integration gate to prevent regressions from lurking in.

Doing this in devstack ensures that the change only affects
master as we didn't test ssh validation on on stable branches.

[0] http://status.openstack.org/openstack-health/#/g/build_name/gate-tempest-dsvm-neutron-full-ssh?duration=P3M

Change-Id: I187e560911f5d5d482eb7959e5174068c4c9a801
",git fetch https://review.opendev.org/openstack/devstack refs/changes/78/458678/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,ef1e88ec09bda30cad19589629744b59e12b4093,ssh_validation_true, iniset $TEMPEST_CONFIG validation run_validation ${TEMPEST_RUN_VALIDATION:-True}, iniset $TEMPEST_CONFIG validation run_validation ${TEMPEST_RUN_VALIDATION:-False},1,1
openstack%2Fnova~master~I2745f5578646ec994b53f6b5c0a5f62637b0948a,openstack/nova,master,I2745f5578646ec994b53f6b5c0a5f62637b0948a,libvirt: remove glusterfs volume driver,MERGED,2017-05-11 13:20:54.000000000,2017-05-26 19:19:04.000000000,2017-05-26 19:19:04.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-05-11 13:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/192539664bf0d5f03b00d3ebf340a8950f62e998', 'message': ""libvirt: remove glusterfs volume driver\n\nCinder deprecated the GlusterFS volume driver\nin Newton and deleted it in Ocata:\n\nI10c576602dd0e65947d1a1af5d04b8ada54f4625\n\nSince it's unused, unmaintained and unsupported in\nCinder we should remove it from the libvirt driver.\n\nThis also removes the related configuration options.\n\nA note is left in the code since I'm unsure if anything\nrelies on checking for the netfs disk source_protocol which\nwas added at the same time as the glusterfs support in\nIc6dd861b40b692b25df67c9d5b63fd436c690fde.\n\nChange-Id: I2745f5578646ec994b53f6b5c0a5f62637b0948a\n""}, {'number': 2, 'created': '2017-05-11 18:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7dbeea98c1d51533d9c1a5fc47cc4d3ea01f548d', 'message': ""libvirt: remove glusterfs volume driver\n\nCinder deprecated the GlusterFS volume driver\nin Newton and deleted it in Ocata:\n\nI10c576602dd0e65947d1a1af5d04b8ada54f4625\n\nSince it's unused, unmaintained and unsupported in\nCinder we should remove it from the libvirt driver.\n\nThis also removes the related configuration options.\n\nA note is left in the code since I'm unsure if anything\nrelies on checking for the netfs disk source_protocol which\nwas added at the same time as the glusterfs support in\nIc6dd861b40b692b25df67c9d5b63fd436c690fde.\n\nChange-Id: I2745f5578646ec994b53f6b5c0a5f62637b0948a\n""}, {'number': 3, 'created': '2017-05-11 22:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bda1616b2aeceb3a84ed33767bc2a2199b6d79ac', 'message': ""libvirt: remove glusterfs volume driver\n\nCinder deprecated the GlusterFS volume driver\nin Newton and deleted it in Ocata:\n\nI10c576602dd0e65947d1a1af5d04b8ada54f4625\n\nSince it's unused, unmaintained and unsupported in\nCinder we should remove it from the libvirt driver.\n\nThis also removes the related configuration options.\n\nA note is left in the code since I'm unsure if anything\nrelies on checking for the netfs disk source_protocol which\nwas added at the same time as the glusterfs support in\nIc6dd861b40b692b25df67c9d5b63fd436c690fde.\n\nChange-Id: I2745f5578646ec994b53f6b5c0a5f62637b0948a\n""}, {'number': 4, 'created': '2017-05-12 15:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bbef2e4d81eb738f6bb2a8c1647320212770d5d', 'message': ""libvirt: remove glusterfs volume driver\n\nCinder deprecated the GlusterFS volume driver\nin Newton and deleted it in Ocata:\n\nI10c576602dd0e65947d1a1af5d04b8ada54f4625\n\nSince it's unused, unmaintained and unsupported in\nCinder we should remove it from the libvirt driver.\n\nThis also removes the related configuration options.\n\nA note is left in the code since I'm unsure if anything\nrelies on checking for the netfs disk source_protocol which\nwas added at the same time as the glusterfs support in\nIc6dd861b40b692b25df67c9d5b63fd436c690fde.\n\nChange-Id: I2745f5578646ec994b53f6b5c0a5f62637b0948a\n""}, {'number': 5, 'created': '2017-05-19 18:51:58.000000000', 'files': ['nova/virt/libvirt/driver.py', 'doc/source/support-matrix.ini', 'nova/tests/unit/virt/libvirt/volume/test_glusterfs.py', 'api-ref/source/os-assisted-volume-snapshots.inc', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/conf/libvirt.py', 'nova/virt/libvirt/volume/glusterfs.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'releasenotes/notes/remove-glusterfs-volume-driver-dd211308bca4ad01.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/5c5bc57d2bea9b860d2641fd2a3410d1c835b1f8', 'message': ""libvirt: remove glusterfs volume driver\n\nCinder deprecated the GlusterFS volume driver\nin Newton and deleted it in Ocata:\n\nI10c576602dd0e65947d1a1af5d04b8ada54f4625\n\nSince it's unused, unmaintained and unsupported in\nCinder we should remove it from the libvirt driver.\n\nThis also removes the related configuration options.\n\nA note is left in the code since I'm unsure if anything\nrelies on checking for the netfs disk source_protocol which\nwas added at the same time as the glusterfs support in\nIc6dd861b40b692b25df67c9d5b63fd436c690fde.\n\nChange-Id: I2745f5578646ec994b53f6b5c0a5f62637b0948a\n""}]",11,463992,5c5bc57d2bea9b860d2641fd2a3410d1c835b1f8,92,18,5,6873,,,0,"libvirt: remove glusterfs volume driver

Cinder deprecated the GlusterFS volume driver
in Newton and deleted it in Ocata:

I10c576602dd0e65947d1a1af5d04b8ada54f4625

Since it's unused, unmaintained and unsupported in
Cinder we should remove it from the libvirt driver.

This also removes the related configuration options.

A note is left in the code since I'm unsure if anything
relies on checking for the netfs disk source_protocol which
was added at the same time as the glusterfs support in
Ic6dd861b40b692b25df67c9d5b63fd436c690fde.

Change-Id: I2745f5578646ec994b53f6b5c0a5f62637b0948a
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/463992/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/volume/test_glusterfs.py', 'api-ref/source/os-assisted-volume-snapshots.inc', 'nova/conf/libvirt.py', 'nova/virt/libvirt/volume/glusterfs.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'releasenotes/notes/remove-glusterfs-volume-driver-dd211308bca4ad01.yaml']",7,192539664bf0d5f03b00d3ebf340a8950f62e998,remove_scality,"--- upgrade: - | The ``nova.virt.libvirt.volume.glusterfs.LibvirtGlusterfsVolumeDriver`` volume driver has been removed. The GlusterFS volume driver in Cinder was deprecated during the Newton release and was removed from Cinder in the Ocata release so it is effectively not maintained and therefore no longer supported. The following configuration options, previously found in the ``libvirt`` group, have been removed: - ``glusterfs_mount_point_base`` - ``qemu_allowed_storage_drivers`` These were used by the now-removed ``LibvirtGlusterfsVolumeDriver`` volume driver and therefore no longer had any effect. ",,37,322
openstack%2Fnova~master~I0cfa0c4b3d7138f989225a44bdedfa716a035a14,openstack/nova,master,I0cfa0c4b3d7138f989225a44bdedfa716a035a14,libvirt: remove scality volume driver,MERGED,2017-03-23 23:55:33.000000000,2017-05-26 19:18:04.000000000,2017-05-26 19:18:03.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 11904}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 22077}]","[{'number': 1, 'created': '2017-03-23 23:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c49ae5e5a79e2cbebdd80d00445da14d9173dc56', 'message': ""libvirt: remove scality volume driver\n\nThe Scality volume driver was removed from Cinder in Ocata:\n\na931f9db79554630d8d71fcff1334bb4e37cb398\n\nIt's unmaintained and therefore no longer supported, and won't\neven work with recent Cinder, so let's remove it.\n\nChange-Id: I0cfa0c4b3d7138f989225a44bdedfa716a035a14\n""}, {'number': 2, 'created': '2017-05-05 11:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1514777005b5b7b488341e331e8dadf3817c2df', 'message': ""libvirt: remove scality volume driver\n\nThe Scality volume driver was removed from Cinder in Ocata:\n\na931f9db79554630d8d71fcff1334bb4e37cb398\n\nIt's unmaintained and therefore no longer supported, and won't\neven work with recent Cinder, so let's remove it.\n\nChange-Id: I0cfa0c4b3d7138f989225a44bdedfa716a035a14\n""}, {'number': 3, 'created': '2017-05-11 13:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab179c3e5da4c610660d82327b423483cf1acebe', 'message': ""libvirt: remove scality volume driver\n\nThe Scality volume driver was removed from Cinder in Ocata:\n\na931f9db79554630d8d71fcff1334bb4e37cb398\n\nIt's unmaintained and therefore no longer supported, and won't\neven work with recent Cinder, so let's remove it.\n\nChange-Id: I0cfa0c4b3d7138f989225a44bdedfa716a035a14\n""}, {'number': 4, 'created': '2017-05-11 18:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c55606a9928e246ba172351f82a570fc04b206a9', 'message': ""libvirt: remove scality volume driver\n\nThe Scality volume driver was removed from Cinder in Ocata:\n\na931f9db79554630d8d71fcff1334bb4e37cb398\n\nIt's unmaintained and therefore no longer supported, and won't\neven work with recent Cinder, so let's remove it.\n\nChange-Id: I0cfa0c4b3d7138f989225a44bdedfa716a035a14\n""}, {'number': 5, 'created': '2017-05-19 18:51:58.000000000', 'files': ['releasenotes/notes/remove-scality-volume-driver-21ff4832d0d3f28e.yaml', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/volume/test_scality.py', 'nova/conf/libvirt.py', 'etc/nova/rootwrap.d/compute.filters', 'nova/virt/libvirt/volume/scality.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9e5b91568743178f9fbc251f02ea93e77a7da01e', 'message': ""libvirt: remove scality volume driver\n\nThe Scality volume driver was removed from Cinder in Ocata:\n\na931f9db79554630d8d71fcff1334bb4e37cb398\n\nIt's unmaintained and therefore no longer supported, and won't\neven work with recent Cinder, so let's remove it.\n\nChange-Id: I0cfa0c4b3d7138f989225a44bdedfa716a035a14\n""}]",5,449364,9e5b91568743178f9fbc251f02ea93e77a7da01e,84,23,5,6873,,,0,"libvirt: remove scality volume driver

The Scality volume driver was removed from Cinder in Ocata:

a931f9db79554630d8d71fcff1334bb4e37cb398

It's unmaintained and therefore no longer supported, and won't
even work with recent Cinder, so let's remove it.

Change-Id: I0cfa0c4b3d7138f989225a44bdedfa716a035a14
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/449364/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/remove-scality-volume-driver-21ff4832d0d3f28e.yaml', 'nova/tests/unit/virt/libvirt/volume/test_scality.py', 'nova/conf/libvirt.py', 'etc/nova/rootwrap.d/compute.filters', 'nova/virt/libvirt/volume/scality.py']",6,c49ae5e5a79e2cbebdd80d00445da14d9173dc56,remove_scality,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import io import os from oslo_log import log as logging from six.moves import urllib import six.moves.urllib.parse as urlparse import nova.conf from nova import exception from nova.i18n import _ from nova import utils from nova.virt.libvirt.volume import fs LOG = logging.getLogger(__name__) CONF = nova.conf.CONF class LibvirtScalityVolumeDriver(fs.LibvirtBaseFileSystemVolumeDriver): """"""Scality SOFS Nova driver. Provide hypervisors with access to sparse files on SOFS. """""" def _get_mount_point_base(self): return CONF.libvirt.scality_sofs_mount_point def _get_device_path(self, connection_info): """"""Returns the hashed path to the device. :param connection_info: dict of the form :: connection_info = { 'data': { 'sofs_path': the file system share ... } ... } :returns: The full path to the device. """""" # TODO(mriedem): change the scality volume driver in cinder to set # the export and name keys rather than the sofs_path so this is # standardized. path = os.path.join(CONF.libvirt.scality_sofs_mount_point, connection_info['data']['sofs_path']) return path def get_config(self, connection_info, disk_info): """"""Returns xml for libvirt."""""" conf = super(LibvirtScalityVolumeDriver, self).get_config(connection_info, disk_info) conf.source_type = 'file' conf.source_path = connection_info['data']['device_path'] # The default driver cache policy is 'none', and this causes # qemu/kvm to open the volume file with O_DIRECT, which is # rejected by FUSE (on kernels older than 3.3). Scality SOFS # is FUSE based, so we must provide a more sensible default. conf.driver_cache = 'writethrough' return conf def connect_volume(self, connection_info, disk_info): """"""Connect the volume."""""" self._check_prerequisites() self._mount_sofs() connection_info['data']['device_path'] = \ self._get_device_path(connection_info) def _check_prerequisites(self): """"""Sanity checks before attempting to mount SOFS."""""" # config is mandatory config = CONF.libvirt.scality_sofs_config if not config: msg = _(""Value required for 'scality_sofs_config'"") LOG.warning(msg) raise exception.InternalError(msg) # config can be a file path or a URL, check it if urlparse.urlparse(config).scheme == '': # turn local path into URL config = 'file://%s' % config try: urllib.request.urlopen(config, timeout=5).close() except urllib.error.URLError as e: msg = _(""Cannot access 'scality_sofs_config': %s"") % e LOG.warning(msg) raise exception.InternalError(msg) # mount.sofs must be installed if not os.access('/sbin/mount.sofs', os.X_OK): msg = _(""Cannot execute /sbin/mount.sofs"") LOG.warning(msg) raise exception.InternalError(msg) def _sofs_is_mounted(self): """"""Detects whether Scality SOFS is already mounted."""""" mount_path = CONF.libvirt.scality_sofs_mount_point.rstrip('/') with io.open('/proc/mounts') as mounts: for mount in mounts.readlines(): parts = mount.split() if (parts[0].endswith('fuse') and parts[1].rstrip('/') == mount_path): return True return False def _mount_sofs(self): config = CONF.libvirt.scality_sofs_config mount_path = CONF.libvirt.scality_sofs_mount_point if not os.path.isdir(mount_path): utils.execute('mkdir', '-p', mount_path) if not self._sofs_is_mounted(): utils.execute('mount', '-t', 'sofs', config, mount_path, run_as_root=True) if not self._sofs_is_mounted(): msg = _(""Cannot mount Scality SOFS, check syslog for errors"") LOG.warning(msg) raise exception.InternalError(msg) ",7,278
openstack%2Fnova~master~I8dec6a20556143e550ae350e63c4ddd1b2c57e5f,openstack/nova,master,I8dec6a20556143e550ae350e63c4ddd1b2c57e5f,Remove the rebuild extension help methods,MERGED,2017-03-29 11:34:13.000000000,2017-05-26 19:10:24.000000000,2017-05-26 19:10:23.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-03-29 11:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4042f82105ebed11c9e504a283e91ed9f82d659a', 'message': ""Remove the rebuild extension help methods\n\nThe rebuild extension point already removed. The helper method\n'_rebuild_extension_point' and '_rebuild_extension_schema' are\nuseless anymore. This patch removes those two methods\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I8dec6a20556143e550ae350e63c4ddd1b2c57e5f\n""}, {'number': 2, 'created': '2017-05-05 07:55:34.000000000', 'files': ['nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d14b04e1ed0ee3c0f17c447a3fbdc1402b0abef3', 'message': ""Remove the rebuild extension help methods\n\nThe rebuild extension point already removed. The helper method\n'_rebuild_extension_point' and '_rebuild_extension_schema' are\nuseless anymore. This patch removes those two methods\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I8dec6a20556143e550ae350e63c4ddd1b2c57e5f\n""}]",0,451346,d14b04e1ed0ee3c0f17c447a3fbdc1402b0abef3,51,20,2,5754,,,0,"Remove the rebuild extension help methods

The rebuild extension point already removed. The helper method
'_rebuild_extension_point' and '_rebuild_extension_schema' are
useless anymore. This patch removes those two methods

Partial-implement-blueprint api-no-more-extensions-pike

Change-Id: I8dec6a20556143e550ae350e63c4ddd1b2c57e5f
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/451346/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/servers.py'],1,4042f82105ebed11c9e504a283e91ed9f82d659a,bp/api-no-more-extensions-pike,," def _rebuild_extension_point(self, ext, rebuild_dict, rebuild_kwargs): handler = ext.obj LOG.debug(""Running _rebuild_extension_point for %s"", ext.obj) handler.server_rebuild(rebuild_dict, rebuild_kwargs) def _rebuild_extension_schema(self, ext, rebuild_schema, version): handler = ext.obj LOG.debug(""Running _rebuild_extension_schema for %s"", ext.obj) schema = handler.get_server_rebuild_schema(version) rebuild_schema['properties']['rebuild']['properties'].update(schema) ",0,13
openstack%2Fnova-powervm~master~I0ea40b0ab15653f115b185823c2681a6758d5c83,openstack/nova-powervm,master,I0ea40b0ab15653f115b185823c2681a6758d5c83,Clean up orphan tap devices on migrate,MERGED,2017-05-19 20:27:29.000000000,2017-05-26 19:08:02.000000000,2017-05-26 19:08:02.000000000,"[{'_account_id': 3}, {'_account_id': 8190}, {'_account_id': 9572}, {'_account_id': 14070}, {'_account_id': 14581}, {'_account_id': 16128}, {'_account_id': 18640}]","[{'number': 1, 'created': '2017-05-19 20:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/9614b7dd18802ca4023525bad2b55897d712cdba', 'message': 'Clean up orphan tap devices on migrate\n\nA failed migration can leave an orphaned tap device on a host, which\nwill cause subsequent migrations to fail due to a tap device name\ncollision.  This change will detect any orphaned adapters on a host\nduring pre_live_migrate and clean them up.\n\nChange-Id: I0ea40b0ab15653f115b185823c2681a6758d5c83\nCloses-Bug: 1692022\n'}, {'number': 2, 'created': '2017-05-22 17:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/24723877706f70c1a27361f07a2473d66be4d549', 'message': 'Clean up orphan tap devices on migrate\n\nA failed migration can leave an orphaned tap device on a host, which\nwill cause subsequent migrations to fail due to a tap device name\ncollision.  This change will detect any orphaned adapters on a host\nduring pre_live_migrate and clean them up.\n\nChange-Id: I0ea40b0ab15653f115b185823c2681a6758d5c83\nCloses-Bug: 1692022\n'}, {'number': 3, 'created': '2017-05-25 16:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/1c86e24c1f85bff7fe19b6044b35ac92c0977a4b', 'message': 'Clean up orphan tap devices on migrate\n\nA failed migration can leave an orphaned tap device on a host, which\nwill cause subsequent migrations to fail due to a tap device name\ncollision.  This change will detect these collisions on a host\nduring pre_live_migrate and clean them up.\n\nThis change will also clean up all orphaned adapters on driver\nstartup.\n\nChange-Id: I0ea40b0ab15653f115b185823c2681a6758d5c83\nCloses-Bug: 1692022\n'}, {'number': 4, 'created': '2017-05-25 19:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/f7003b2dfa21bb00bdc0470dda4d10672f914d6d', 'message': 'Clean up orphan tap devices on migrate\n\nA failed migration can leave an orphaned tap device on a host, which\nwill cause subsequent migrations to fail due to a tap device name\ncollision.  This change will detect these collisions on a host\nduring pre_live_migrate and clean them up.\n\nThis change will also clean up all orphaned adapters on driver\nstartup.\n\nChange-Id: I0ea40b0ab15653f115b185823c2681a6758d5c83\nCloses-Bug: 1692022\n'}, {'number': 5, 'created': '2017-05-26 12:10:28.000000000', 'files': ['nova_powervm/virt/powervm/driver.py', 'nova_powervm/virt/powervm/vif.py', 'nova_powervm/tests/virt/powervm/fixtures.py', 'nova_powervm/tests/virt/powervm/test_driver.py', 'nova_powervm/tests/virt/powervm/test_vif.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/8d00d66a831bfa28cba54c3756310d3f3215be31', 'message': 'Clean up orphan tap devices on migrate\n\nA failed migration can leave an orphaned tap device on a host, which\nwill cause subsequent migrations to fail due to a tap device name\ncollision.  This change will detect these collisions on a host\nduring pre_live_migrate and clean them up.\n\nThis change will also clean up all orphaned adapters on driver\nstartup.\n\nChange-Id: I0ea40b0ab15653f115b185823c2681a6758d5c83\nCloses-Bug: 1692022\n'}]",27,466400,8d00d66a831bfa28cba54c3756310d3f3215be31,33,7,5,9572,,,0,"Clean up orphan tap devices on migrate

A failed migration can leave an orphaned tap device on a host, which
will cause subsequent migrations to fail due to a tap device name
collision.  This change will detect these collisions on a host
during pre_live_migrate and clean them up.

This change will also clean up all orphaned adapters on driver
startup.

Change-Id: I0ea40b0ab15653f115b185823c2681a6758d5c83
Closes-Bug: 1692022
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/00/466400/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/virt/powervm/vif.py', 'nova_powervm/tests/virt/powervm/test_vif.py']",2,9614b7dd18802ca4023525bad2b55897d712cdba,bug/1692022," @mock.patch('pypowervm.tasks.cna.find_orphaned_trunks') self, mock_part_get, mock_find_trunks, mock_trunk_crt, mock_execute, mock_crt_ovs_port): mock_orphan_wrap = mock.MagicMock() mock_find_trunks.return_value = [mock_orphan_wrap] mock_find_trunks.assert_called_once_with( self.adpt, CONF.powervm.pvm_vswitch_for_novalink_io) mock_orphan_wrap.delete.assert_called_once()"," self, mock_part_get, mock_trunk_crt, mock_execute, mock_crt_ovs_port):",18,2
openstack%2Fec2-api~master~I75b10d4c38eed9af7d21899167275f1919cf5b3f,openstack/ec2-api,master,I75b10d4c38eed9af7d21899167275f1919cf5b3f,Updated from global requirements,MERGED,2017-05-26 17:18:28.000000000,2017-05-26 19:07:54.000000000,2017-05-26 19:07:54.000000000,"[{'_account_id': 3}, {'_account_id': 10234}]","[{'number': 1, 'created': '2017-05-26 17:18:28.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/b25915f8425a75e7ef3c50e6795dfced6ffaab0c', 'message': 'Updated from global requirements\n\nChange-Id: I75b10d4c38eed9af7d21899167275f1919cf5b3f\n'}]",0,468476,b25915f8425a75e7ef3c50e6795dfced6ffaab0c,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I75b10d4c38eed9af7d21899167275f1919cf5b3f
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/76/468476/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b25915f8425a75e7ef3c50e6795dfced6ffaab0c,openstack/requirements,oslo.context>=2.14.0 # Apache-2.0python-cinderclient>=2.1.0 # Apache-2.0,oslo.context>=2.12.0 # Apache-2.0python-cinderclient>=2.0.1 # Apache-2.0,2,2
openstack%2Fshade~master~I38415e88fd3415022d003f710d95131a4dc314d8,openstack/shade,master,I38415e88fd3415022d003f710d95131a4dc314d8,Add time reporting to Connection Retry message,MERGED,2017-05-24 17:24:57.000000000,2017-05-26 19:07:48.000000000,2017-05-26 19:07:48.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4162}]","[{'number': 1, 'created': '2017-05-24 17:24:57.000000000', 'files': ['shade/task_manager.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/9f393dcbc89390a08d5f20a44cbdeb96ae9be5e4', 'message': 'Add time reporting to Connection Retry message\n\nChange-Id: I38415e88fd3415022d003f710d95131a4dc314d8\n'}]",0,467689,9f393dcbc89390a08d5f20a44cbdeb96ae9be5e4,9,4,1,2,,,0,"Add time reporting to Connection Retry message

Change-Id: I38415e88fd3415022d003f710d95131a4dc314d8
",git fetch https://review.opendev.org/openstack/shade refs/changes/89/467689/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/task_manager.py'],1,9f393dcbc89390a08d5f20a44cbdeb96ae9be5e4,logging," # Keep time for connection retrying logging start = time.time() end = time.time() dt = end - start "" for %(name)s after %(secs)s seconds, retrying"", {'cloud': client.name, 'region': client.region_name, 'secs': dt, 'name': self.name}) ""Connection failure on %(cloud)s for %(name)s after"" "" %(secs)s seconds, retrying"", {'cloud': client.name, 'name': self.name, 'secs': dt})"," "" for %(name)s, retrying"", { 'cloud': client.name, 'region': client.region_name, 'name': self.name}) ""Connection failure on %(cloud)s for %(name)s,"" "" retrying"", {'cloud': client.name, 'name': self.name})",12,6
openstack%2Fshade~master~I5885fc136c89a37ac405ce1d859a33d1c1f9cf1a,openstack/shade,master,I5885fc136c89a37ac405ce1d859a33d1c1f9cf1a,Log cloud name on Connection retry issues,MERGED,2017-05-24 16:59:46.000000000,2017-05-26 19:07:40.000000000,2017-05-26 19:07:40.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}]","[{'number': 1, 'created': '2017-05-24 16:59:46.000000000', 'files': ['shade/task_manager.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/b194a4d58a4eec557232a5d485b45da4a2382554', 'message': ""Log cloud name on Connection retry issues\n\nIt's hard in a complex environment like nodepool to know what to debug\notherwise.\n\nChange-Id: I5885fc136c89a37ac405ce1d859a33d1c1f9cf1a\n""}]",0,467686,b194a4d58a4eec557232a5d485b45da4a2382554,11,3,1,2,,,0,"Log cloud name on Connection retry issues

It's hard in a complex environment like nodepool to know what to debug
otherwise.

Change-Id: I5885fc136c89a37ac405ce1d859a33d1c1f9cf1a
",git fetch https://review.opendev.org/openstack/shade refs/changes/86/467686/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/task_manager.py'],1,b194a4d58a4eec557232a5d485b45da4a2382554,," if client.region_name: client.log.debug( ""Connection failure on %(cloud)s:%(region)s"" "" for %(name)s, retrying"", { 'cloud': client.name, 'region': client.region_name, 'name': self.name}) else: client.log.debug( ""Connection failure on %(cloud)s for %(name)s,"" "" retrying"", {'cloud': client.name, 'name': self.name})"," client.log.debug( ""Connection failure for %(name)s, retrying"", {'name': type(self).__name__})",11,3
openstack%2Fshade~master~I2be381c1a0af9ee576f22b6c03b7a2e577503aed,openstack/shade,master,I2be381c1a0af9ee576f22b6c03b7a2e577503aed,Use catalog endpoint on any errors in image version discovery,MERGED,2017-05-24 14:44:13.000000000,2017-05-26 19:07:25.000000000,2017-05-26 19:07:25.000000000,"[{'_account_id': 2}, {'_account_id': 3}]","[{'number': 1, 'created': '2017-05-24 14:44:13.000000000', 'files': ['shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/a4bcf38f5518579363bb5f33ef9b7c5651f44575', 'message': ""Use catalog endpoint on any errors in image version discovery\n\nIf we can't do version discovery for whatever reason, just use what's in\nthe catalog. While we do that, try to detect what version it is so that\nwe can at least take the correct actions.\n\nChange-Id: I2be381c1a0af9ee576f22b6c03b7a2e577503aed\n""}]",0,467644,a4bcf38f5518579363bb5f33ef9b7c5651f44575,10,2,1,2,,,0,"Use catalog endpoint on any errors in image version discovery

If we can't do version discovery for whatever reason, just use what's in
the catalog. While we do that, try to detect what version it is so that
we can at least take the correct actions.

Change-Id: I2be381c1a0af9ee576f22b6c03b7a2e577503aed
",git fetch https://review.opendev.org/openstack/shade refs/changes/44/467644/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,a4bcf38f5518579363bb5f33ef9b7c5651f44575,," def _detect_image_verison_from_url(self, image_url): if image_url.endswith('/'): image_url = image_url[:-1] version = image_url.split('/')[-1] if version.startswith('v'): return version[1] return None def _match_given_image_endpoint(self, image_url, version): url_version = self._detect_image_verison_from_url(image_url) if url_version and version == url_version: # First - quick check to see if the endpoint in the catalog # is a versioned endpoint that matches the version we requested. # If it is, don't do any additoinal work. catalog_endpoint = image_client.get_endpoint() if self._match_given_image_endpoint( catalog_endpoint, config_version): return catalog_endpoint api_version_id = None try: api_version = None # Set the id to the first digit after the v api_version_id = api_version['id'][1] except Exception as e: image_url = catalog_endpoint api_version_id = self._detect_image_verison_from_url(image_url) if not api_version_id: # We couldn't detect anything, assume config is correct and # catalog is correct return image_url # If we detect a different version that was configured, # set the version in occ because we have logic elsewhere # that is different depending on which version we're using warning_msg = None config_version_id = config_version[0] if config_version_id != api_version_id: self.cloud_config.config['image_api_version'] = api_version_id warning_msg = ( 'image_api_version is {config_version_id} but only' ' {api_version_id} is available.'.format( config_version_id=config_version_id, api_version_id=api_version_id)) if warning_msg: self.log.debug(warning_msg) warnings.warn(warning_msg) if catalog_endpoint == image_url: return catalog_endpoint catalog_endpoint = urllib.parse.urlparse(catalog_endpoint)"," def _match_given_image_endpoint(self, given, version): if given.endswith('/'): given = given[:-1] if given.split('/')[-1].startswith('v' + version[0]): try: # First - quick check to see if the endpoint in the catalog # is a versioned endpoint that matches the version we requested. # If it is, don't do any additoinal work. catalog_endpoint = image_client.get_endpoint() if self._match_given_image_endpoint( catalog_endpoint, config_version): return catalog_endpoint api_version = None # If we detect a different version that was configured, # set the version in occ because we have logic elsewhere # that is different depending on which version we're using warning_msg = None if (config_version.startswith('2') and api_version['id'].startswith('v1')): self.cloud_config.config['image_api_version'] = '1' warning_msg = ( 'image_api_version is 2 but only 1 is available.') elif (config_version.startswith('1') and api_version['id'].startswith('v2')): self.cloud_config.config['image_api_version'] = '2' warning_msg = ( 'image_api_version is 1 but only 2 is available.') if warning_msg: self.log.debug(warning_msg) warnings.warn(warning_msg) except (keystoneauth1.exceptions.connection.ConnectFailure, OpenStackCloudURINotFound) as e: image_url = image_client.get_endpoint() catalog_endpoint = urllib.parse.urlparse(image_client.get_endpoint())",50,33
openstack%2Fnova~master~I8758c4275ba16512c16dd86dbc13423f719d3605,openstack/nova,master,I8758c4275ba16512c16dd86dbc13423f719d3605,Fix a typo in code comment,MERGED,2017-05-12 08:35:35.000000000,2017-05-26 19:05:47.000000000,2017-05-26 19:05:46.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6735}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 17842}, {'_account_id': 17922}, {'_account_id': 20040}, {'_account_id': 20182}, {'_account_id': 25254}]","[{'number': 1, 'created': '2017-05-12 08:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/333201f02a3fc0e09256bc46dd4f415d6ad638e1', 'message': 'Trivial fix\n\nUnepectedDeletingTaskStateError should be UnexpectedDeletingTaskStateError\n\nChange-Id: I8758c4275ba16512c16dd86dbc13423f719d3605\n'}, {'number': 2, 'created': '2017-05-15 01:05:09.000000000', 'files': ['nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9bd25e9ca5c76409e7df988dfa221cfc0a712b07', 'message': 'Fix a typo in code comment\n\nUnepectedDeletingTaskStateError should be UnexpectedDeletingTaskStateError\n\nChange-Id: I8758c4275ba16512c16dd86dbc13423f719d3605\n'}]",0,464154,9bd25e9ca5c76409e7df988dfa221cfc0a712b07,33,16,2,24269,,,0,"Fix a typo in code comment

UnepectedDeletingTaskStateError should be UnexpectedDeletingTaskStateError

Change-Id: I8758c4275ba16512c16dd86dbc13423f719d3605
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/464154/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/db/test_db_api.py'],1,333201f02a3fc0e09256bc46dd4f415d6ad638e1,bugFix0011, # Ensure that we raise UnexpectedDeletingTaskStateError when task state, # Ensure that we raise UnepectedDeletingTaskStateError when task state,1,1
openstack%2Fproject-config~master~I74c443771600e2c92170dbbaf123bb9cc5746866,openstack/project-config,master,I74c443771600e2c92170dbbaf123bb9cc5746866,Move gate-dsvm-nodepool-py35-src-nv to check for nodepool,MERGED,2017-05-26 18:16:11.000000000,2017-05-26 18:46:22.000000000,2017-05-26 18:46:22.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-05-26 18:16:11.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/beeb812d3c4c605e0311e0c952df8628ea08afc3', 'message': 'Move gate-dsvm-nodepool-py35-src-nv to check for nodepool\n\nOur job is green now, lets run a non-voting job in check.\n\nChange-Id: I74c443771600e2c92170dbbaf123bb9cc5746866\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,468509,beeb812d3c4c605e0311e0c952df8628ea08afc3,8,4,1,4162,,,0,"Move gate-dsvm-nodepool-py35-src-nv to check for nodepool

Our job is green now, lets run a non-voting job in check.

Change-Id: I74c443771600e2c92170dbbaf123bb9cc5746866
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/09/468509/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,beeb812d3c4c605e0311e0c952df8628ea08afc3,, - gate-dsvm-nodepool-py35-src-nv, - gate-dsvm-nodepool-py35-src-nv,1,1
openstack%2Fkeystonemiddleware~stable%2Focata~Iebe41c02e146f62265f0fe4536b063b1958c2043,openstack/keystonemiddleware,stable/ocata,Iebe41c02e146f62265f0fe4536b063b1958c2043,Updated from global requirements,ABANDONED,2017-03-09 18:15:11.000000000,2017-05-26 18:36:08.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 5046}, {'_account_id': 6482}, {'_account_id': 17860}]","[{'number': 1, 'created': '2017-03-09 18:15:11.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/9459d83402596646113bf14baf94ba8da3d9c2de', 'message': 'Updated from global requirements\n\nChange-Id: Iebe41c02e146f62265f0fe4536b063b1958c2043\n'}]",0,443810,9459d83402596646113bf14baf94ba8da3d9c2de,10,5,1,11131,,,0,"Updated from global requirements

Change-Id: Iebe41c02e146f62265f0fe4536b063b1958c2043
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/10/443810/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9459d83402596646113bf14baf94ba8da3d9c2de,openstack/requirements,"pbr<2.0.0,>=1.8 # Apache-2.0",pbr>=1.8 # Apache-2.0,1,1
openstack%2Fpython-keystoneclient~stable%2Focata~If76ae87d6c9509344de7b6fa5ceed31698bd9c2f,openstack/python-keystoneclient,stable/ocata,If76ae87d6c9509344de7b6fa5ceed31698bd9c2f,Updated from global requirements,ABANDONED,2017-03-09 18:23:01.000000000,2017-05-26 18:35:58.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 5046}, {'_account_id': 6482}, {'_account_id': 17860}]","[{'number': 1, 'created': '2017-03-09 18:23:01.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/96027c7f45fff91687f81c4c3c663218e11ecbd4', 'message': 'Updated from global requirements\n\nChange-Id: If76ae87d6c9509344de7b6fa5ceed31698bd9c2f\n'}]",0,443881,96027c7f45fff91687f81c4c3c663218e11ecbd4,11,5,1,11131,,,0,"Updated from global requirements

Change-Id: If76ae87d6c9509344de7b6fa5ceed31698bd9c2f
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/81/443881/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,96027c7f45fff91687f81c4c3c663218e11ecbd4,openstack/requirements,"pbr<2.0.0,>=1.8 # Apache-2.0",pbr>=1.8 # Apache-2.0,1,1
openstack%2Fnova~master~Ie96265846b0acf74c5f61817a5b1ce10c7292ead,openstack/nova,master,Ie96265846b0acf74c5f61817a5b1ce10c7292ead,Make the method to put allocations public,MERGED,2017-05-11 21:38:45.000000000,2017-05-26 18:28:53.000000000,2017-05-25 21:28:27.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-05-11 21:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d1a906a1a2624edc9e974b9c6f953131b4ae143', 'message': 'Make the method to put allocations public\n\nThe report client for the scheduler has a private method for putting\nallocations that was previously only used internally. In order to have\nthe scheduler claim resources directly, it should be changed to a public\nmethod.\n\nPartially-Implements: blueprint placement-claims\n\nChange-Id: Ie96265846b0acf74c5f61817a5b1ce10c7292ead\n'}, {'number': 2, 'created': '2017-05-12 03:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43f224ff35c7c6c7e64c43882842a6ea922985eb', 'message': 'Make the method to put allocations public\n\nThe report client for the scheduler has a private method for putting\nallocations that was previously only used internally. In order to have\nthe scheduler claim resources directly, it should be changed to a public\nmethod.\n\nPartially-Implements: blueprint placement-claims\n\nChange-Id: Ie96265846b0acf74c5f61817a5b1ce10c7292ead\n'}, {'number': 3, 'created': '2017-05-16 20:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a843e4d1cd0ce9bd707d60d06d5006ef323feb4', 'message': 'Make the method to put allocations public\n\nThe report client for the scheduler has a private method for putting\nallocations that was previously only used internally. In order to have\nthe scheduler claim resources directly, it should be changed to a public\nmethod.\n\nPartially-Implements: blueprint placement-claims\n\nChange-Id: Ie96265846b0acf74c5f61817a5b1ce10c7292ead\n'}, {'number': 4, 'created': '2017-05-17 13:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4e8c3ff7e990f6037fa8389225af941f32954de', 'message': 'Make the method to put allocations public\n\nThe report client for the scheduler has a private method for putting\nallocations that was previously only used internally. In order to have\nthe scheduler claim resources directly, it should be changed to a public\nmethod.\n\nPartially-Implements: blueprint placement-claims\n\nChange-Id: Ie96265846b0acf74c5f61817a5b1ce10c7292ead\n'}, {'number': 5, 'created': '2017-05-17 23:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3639cbbb051c05120443554c704b23cf4bb40a0', 'message': 'Make the method to put allocations public\n\nThe report client for the scheduler has a private method for putting\nallocations that was previously only used internally. In order to have\nthe scheduler claim resources directly, it should be changed to a public\nmethod.\n\nPartially-Implements: blueprint placement-claims\n\nChange-Id: Ie96265846b0acf74c5f61817a5b1ce10c7292ead\n'}, {'number': 6, 'created': '2017-05-24 21:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/351268e62134b924978f4f83cd0bd36cbbb3f842', 'message': 'Make the method to put allocations public\n\nThe report client for the scheduler has a private method for putting\nallocations that was previously only used internally. In order to have\nthe scheduler claim resources directly, it should be changed to a public\nmethod.\n\nPartially-Implements: blueprint placement-claims\n\nChange-Id: Ie96265846b0acf74c5f61817a5b1ce10c7292ead\n'}, {'number': 7, 'created': '2017-05-25 16:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1f1c11f5322e23f7504ee08b2c7ed9d95c3d4f4', 'message': 'Make the method to put allocations public\n\nThe report client for the scheduler has a private method for putting\nallocations that was previously only used internally. In order to have\nthe scheduler claim resources directly, it should be changed to a public\nmethod.\n\nPartially-Implements: blueprint placement-claims\n\nChange-Id: Ie96265846b0acf74c5f61817a5b1ce10c7292ead\n'}, {'number': 8, 'created': '2017-05-25 16:43:02.000000000', 'files': ['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/203aacc3b994e6c6d95f63bb608bba41567714a0', 'message': 'Make the method to put allocations public\n\nThe report client for the scheduler has a private method for putting\nallocations that was previously only used internally. In order to have\nthe scheduler claim resources directly, it should be changed to a public\nmethod.\n\nPartially-Implements: blueprint placement-claims\n\nChange-Id: Ie96265846b0acf74c5f61817a5b1ce10c7292ead\n'}]",1,464086,203aacc3b994e6c6d95f63bb608bba41567714a0,90,18,8,1063,,,0,"Make the method to put allocations public

The report client for the scheduler has a private method for putting
allocations that was previously only used internally. In order to have
the scheduler claim resources directly, it should be changed to a public
method.

Partially-Implements: blueprint placement-claims

Change-Id: Ie96265846b0acf74c5f61817a5b1ce10c7292ead
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/464086/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py']",2,0d1a906a1a2624edc9e974b9c6f953131b4ae143,bp/placement-claims," res = self.put_allocations(rp_uuid, instance.uuid, my_allocations) def put_allocations(self, rp_uuid, consumer_uuid, alloc_data): 'Unable to submit allocation for instance ' '%(uuid)s (%(code)i %(text)s)',"," res = self._put_allocations(rp_uuid, instance.uuid, my_allocations) def _put_allocations(self, rp_uuid, consumer_uuid, alloc_data): _LW('Unable to submit allocation for instance ' '%(uuid)s (%(code)i %(text)s)'),",32,4
openstack%2Fproject-config~master~I0d6b3cd8c6342a3d3f2b064ec56b7fdf1f3453e9,openstack/project-config,master,I0d6b3cd8c6342a3d3f2b064ec56b7fdf1f3453e9,Clean up patrole.yaml jenkins jobs,ABANDONED,2017-05-26 18:26:14.000000000,2017-05-26 18:26:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2017-05-26 18:26:14.000000000', 'files': ['jenkins/jobs/patrole.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f3071f519321344f28c466094425b95af4ab7254', 'message': 'Clean up patrole.yaml jenkins jobs\n\nNow that a patrole devstack plugin has been written [0], deploying and\ntesting patrole in the gates can be done exclusively using the\njenkins jobs and the devstack patrole plugin.\n\n[0] https://review.openstack.org/#/c/468511/\n\nChange-Id: I0d6b3cd8c6342a3d3f2b064ec56b7fdf1f3453e9\n'}]",0,468512,f3071f519321344f28c466094425b95af4ab7254,3,1,1,23186,,,0,"Clean up patrole.yaml jenkins jobs

Now that a patrole devstack plugin has been written [0], deploying and
testing patrole in the gates can be done exclusively using the
jenkins jobs and the devstack patrole plugin.

[0] https://review.openstack.org/#/c/468511/

Change-Id: I0d6b3cd8c6342a3d3f2b064ec56b7fdf1f3453e9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/12/468512/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/patrole.yaml'],1,f3071f519321344f28c466094425b95af4ab7254,clean_up_patrole_yaml, TEMPEST_PLUGINS='/opt/stack/new/patrole' export DEVSTACK_GATE_TEMPEST_REGEX='(?!.*\[.*\bslow\b.*\])(^patrole_tempest_plugin\.tests\.api)' # Needed by Patrole devstack plugin export RBAC_TEST_ROLE={rbac-role} TEMPEST_PLUGINS='/opt/stack/new/patrole' export DEVSTACK_GATE_TEMPEST_REGEX='(?!.*\[.*\bslow\b.*\])(^patrole_tempest_plugin\.tests\.api)' # Needed by Patrole devstack plugin export RBAC_TEST_ROLE={rbac-role} TEMPEST_PLUGINS='/opt/stack/new/patrole' export DEVSTACK_GATE_TEMPEST_REGEX='(?=.*\[.*\bslow\b.*\])(^patrole_tempest_plugin\.tests\.api)' # Needed by Patrole devstack plugin export RBAC_TEST_ROLE={rbac-role} ," # Ensure that tempest set up is executed, but do not automatically # execute tempest tests; they are executed in post_test_hook. export DEVSTACK_GATE_TEMPEST_NOTESTS=1 export DEVSTACK_GATE_TEMPEST_NOTESTS=1 enable_plugin heat git://git.openstack.org/openstack/heat export DEVSTACK_GATE_TEMPEST_NOTESTS=1",15,7
openstack%2Fnova~master~I5a57a416cb0912ad42fe8cdd6cf264020bdf2652,openstack/nova,master,I5a57a416cb0912ad42fe8cdd6cf264020bdf2652,trivial: Remove dead code,MERGED,2017-04-27 16:11:14.000000000,2017-05-26 18:12:35.000000000,2017-05-26 18:12:35.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-04-27 16:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76e3e4c3b270b619404b5cbef2592abea6382817', 'message': 'trivial: Remove dead code\n\nThese functions are unused by anything but tests.\n\nChange-Id: I5a57a416cb0912ad42fe8cdd6cf264020bdf2652\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2017-04-28 14:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d590dc93b690ce3a4f0802528d1e9dc7f19738ea', 'message': 'trivial: Remove dead code\n\nThese functions are unused by anything but tests.\n\nChange-Id: I5a57a416cb0912ad42fe8cdd6cf264020bdf2652\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2017-05-03 10:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19f2c65b6d556c00e1f9e9b9e92697d1d4a59985', 'message': 'trivial: Remove dead code\n\nThese functions are unused by anything but tests.\n\nChange-Id: I5a57a416cb0912ad42fe8cdd6cf264020bdf2652\n'}, {'number': 4, 'created': '2017-05-22 15:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4538172ee665f718c42340bbaaf66cb01950fb4', 'message': 'trivial: Remove dead code\n\nThese functions are unused by anything but tests.\n\nChange-Id: I5a57a416cb0912ad42fe8cdd6cf264020bdf2652\n'}, {'number': 5, 'created': '2017-05-22 16:02:21.000000000', 'files': ['nova/tests/unit/test_utils.py', 'nova/virt/driver.py', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d3875eab55c014d33ebefed2052f4f77d318ddf0', 'message': ""trivial: Remove dead code\n\nThe following functions are unused by anything but tests, or are only\nused in one place and don't merit being in a utils module:\n\n- xhtml_escape\n- check_isinstance\n\nRemove or replace them.\n\nChange-Id: I5a57a416cb0912ad42fe8cdd6cf264020bdf2652\n""}]",2,460662,d3875eab55c014d33ebefed2052f4f77d318ddf0,71,22,5,15334,,,0,"trivial: Remove dead code

The following functions are unused by anything but tests, or are only
used in one place and don't merit being in a utils module:

- xhtml_escape
- check_isinstance

Remove or replace them.

Change-Id: I5a57a416cb0912ad42fe8cdd6cf264020bdf2652
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/460662/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_utils.py', 'nova/virt/driver.py', 'nova/utils.py']",3,76e3e4c3b270b619404b5cbef2592abea6382817,trivial,# TODO(sfinucan): Replace this the equivalent from oslo.utils,"from xml.sax import saxutilsdef _get_rootwrap_helper(): if CONF.use_rootwrap_daemon: return RootwrapDaemonHelper(CONF.rootwrap_config) else: return RootwrapProcessHelper() # ~5 bits per symbol EASIER_PASSWORD_SYMBOLS = ('23456789', # Removed: 0, 1 'ABCDEFGHJKLMNPQRSTUVWXYZ') # Removed: I, O def xhtml_escape(value): """"""Escapes a string so it is valid within XML or XHTML. """""" return saxutils.escape(value, {'""': '&quot;', ""'"": '&apos;'}) def check_isinstance(obj, cls): """"""Checks that obj is of type cls, and lets PyLint infer types."""""" if isinstance(obj, cls): return obj raise Exception(_('Expected object of type: %s') % (str(cls))) ",8,51
openstack%2Fnetworking-sfc~master~I551bcbe2d6804ba0b33597013bb18801fe01872e,openstack/networking-sfc,master,I551bcbe2d6804ba0b33597013bb18801fe01872e,Updated from global requirements,MERGED,2017-05-25 02:11:06.000000000,2017-05-26 18:11:29.000000000,2017-05-26 18:11:29.000000000,"[{'_account_id': 3}, {'_account_id': 9396}, {'_account_id': 11313}, {'_account_id': 16237}, {'_account_id': 20363}, {'_account_id': 21798}]","[{'number': 1, 'created': '2017-05-25 02:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/8b27940f94e69348ddc67834a7488ecd829fa631', 'message': 'Updated from global requirements\n\nChange-Id: I551bcbe2d6804ba0b33597013bb18801fe01872e\n'}, {'number': 2, 'created': '2017-05-25 18:48:11.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/4c80f9cb9558b9c1b8c3c8b0cf40778da8f70763', 'message': 'Updated from global requirements\n\nChange-Id: I551bcbe2d6804ba0b33597013bb18801fe01872e\n'}]",0,467824,4c80f9cb9558b9c1b8c3c8b0cf40778da8f70763,17,6,2,11131,,,0,"Updated from global requirements

Change-Id: I551bcbe2d6804ba0b33597013bb18801fe01872e
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/24/467824/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,8b27940f94e69348ddc67834a7488ecd829fa631,openstack/requirements,neutron-lib>=1.7.0 # Apache-2.0,neutron-lib>=1.6.0 # Apache-2.0,1,1
openstack%2Fproject-config~master~I223d97b2e97912b414f7f7084c0b88420a664f83,openstack/project-config,master,I223d97b2e97912b414f7f7084c0b88420a664f83,Remove windmill-trusty jobs,MERGED,2017-05-26 16:27:08.000000000,2017-05-26 18:01:01.000000000,2017-05-26 18:01:01.000000000,"[{'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-05-26 16:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/17f23c2829d1ba3ed1028025055c6902e9352ee9', 'message': 'Remove windmill-trusty jobs\n\nStop testing on ubuntu-trusty, efforts are now towards support\nubuntu-xenial.\n\nChange-Id: I223d97b2e97912b414f7f7084c0b88420a664f83\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2017-05-26 16:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/24dc2bebdf35fe66410cf7a6d2efa24b7701a3d8', 'message': 'Remove windmill-trusty jobs\n\nStop testing on ubuntu-trusty, efforts are now towards support\nubuntu-xenial.\n\nAlso remove our periodic job, this is not working currently and likely\nneeds a job rename to work properly.\n\nChange-Id: I223d97b2e97912b414f7f7084c0b88420a664f83\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 3, 'created': '2017-05-26 16:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/85d83e3b3e4fefa412db850d82bd22ffc2f82d73', 'message': 'Remove windmill-trusty jobs\n\nStop testing on ubuntu-trusty, efforts are now towards support\nubuntu-xenial.\n\nAlso remove our periodic job, this is not working currently and likely\nneeds a job rename to work properly.\n\nChange-Id: I223d97b2e97912b414f7f7084c0b88420a664f83\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 4, 'created': '2017-05-26 17:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3327beedd2e74d34a5d36734bd5944fdf073a25f', 'message': 'Remove windmill-trusty jobs\n\nStop testing on ubuntu-trusty, efforts are now towards support\nubuntu-xenial.\n\nAlso remove our periodic job, this is not working currently and likely\nneeds a job rename to work properly.\n\nChange-Id: I223d97b2e97912b414f7f7084c0b88420a664f83\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 5, 'created': '2017-05-26 17:23:04.000000000', 'files': ['jenkins/jobs/windmill.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/518f2720a35d8229ca93ce56d5162d5f66ba2ec8', 'message': 'Remove windmill-trusty jobs\n\nStop testing on ubuntu-trusty, efforts are now towards support\nubuntu-xenial.\n\nAlso remove our periodic job, this is not working currently and likely\nneeds a job rename to work properly.\n\nChange-Id: I223d97b2e97912b414f7f7084c0b88420a664f83\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",1,468464,518f2720a35d8229ca93ce56d5162d5f66ba2ec8,16,4,5,4162,,,0,"Remove windmill-trusty jobs

Stop testing on ubuntu-trusty, efforts are now towards support
ubuntu-xenial.

Also remove our periodic job, this is not working currently and likely
needs a job rename to work properly.

Change-Id: I223d97b2e97912b414f7f7084c0b88420a664f83
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/64/468464/4 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/windmill.yaml', 'zuul/layout.yaml']",2,17f23c2829d1ba3ed1028025055c6902e9352ee9,,, - name: windmill-jobs-trusty check: - 'gate-windmill-deploy-ubuntu-trusty' gate: - 'gate-windmill-deploy-ubuntu-trusty' - name: windmill-jobs-trusty-nv check: - 'gate-windmill-deploy-ubuntu-trusty-nv' - name: windmill-jobs-trusty-nv - name: windmill-jobs-trusty - name: windmill-jobs-trusty - name: windmill-jobs-trusty-nv - name: windmill-jobs-trusty-nv - name: windmill-jobs-trusty - name: windmill-jobs-trusty - name: windmill-jobs-trusty - name: windmill-jobs-trusty - name: windmill-jobs-trusty - name: windmill-jobs-trusty - name: windmill-jobs-trusty,0,24
openstack%2Fopenstack-ansible~stable%2Focata~I2f571be50d65297980c157994c1be7206e57cc6a,openstack/openstack-ansible,stable/ocata,I2f571be50d65297980c157994c1be7206e57cc6a,Add ldappool constraints to global pins,MERGED,2017-05-26 13:24:44.000000000,2017-05-26 17:54:32.000000000,2017-05-26 17:54:31.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 13:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c1c2a71370b1bdad9d9cacabc73a02bff4c9a9d6', 'message': 'Add ldappool constraints to global pins\n\nIn order to be able to bind to LDAP with TLS we need version 2.1.0 of ldappool.\n\nCloses-Bug: #1693793\nChange-Id: I2f571be50d65297980c157994c1be7206e57cc6a\n'}, {'number': 2, 'created': '2017-05-26 13:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/13ecca1d90647b7f9ea5a69d183986966dddb6f4', 'message': 'Add ldappool constraints to global pins\n\nIn order to be able to bind to LDAP with TLS we need version 2.1.0 of ldappool.\n\nCloses-Bug: #1693793\nChange-Id: I2f571be50d65297980c157994c1be7206e57cc6a\n'}, {'number': 3, 'created': '2017-05-26 13:39:13.000000000', 'files': ['global-requirement-pins.txt', 'releasenotes/notes/ldappool-65dcc48c12d28d07.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/08faa5584b3e5235a15d96954444929643183e03', 'message': 'Add ldappool constraints to global pins\n\nIn order to be able to bind to LDAP with TLS we need version 2.1.0 of ldappool.\n\nCloses-Bug: #1693793\nChange-Id: I2f571be50d65297980c157994c1be7206e57cc6a\n'}]",3,468416,08faa5584b3e5235a15d96954444929643183e03,13,4,3,13095,,,0,"Add ldappool constraints to global pins

In order to be able to bind to LDAP with TLS we need version 2.1.0 of ldappool.

Closes-Bug: #1693793
Change-Id: I2f571be50d65297980c157994c1be7206e57cc6a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/16/468416/2 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirement-pins.txt', 'releasenotes/notes/ldappool-65dcc48c12d28d07.yaml']",2,c1c2a71370b1bdad9d9cacabc73a02bff4c9a9d6,bug/1693793,--- fixes: - The version 2.1.0 of ldappool fix the issue with TLS bind on ldapserver. It is set in global pin to fix the issue in OSA until the fix is made upstream. ,,10,0
openstack%2Fcinder~master~Ia44cc1495320ebd1ee6f442f5d94c45f06383dd3,openstack/cinder,master,Ia44cc1495320ebd1ee6f442f5d94c45f06383dd3,Fix bugs of GPFSNFS & GPFSRemote Driver initialization failure,MERGED,2017-05-18 13:12:04.000000000,2017-05-26 17:44:12.000000000,2017-05-22 17:20:20.000000000,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 9207}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-05-18 13:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e3e38f4387dee04e4a059225fc00105f6f13be48', 'message': ""GPFS Path: Fix bugs related to initialization of GPFSNFS Driver\n\nDue to lack of GPFS path ('/usr/lpp/mmfs/bin/') export,\nGPFSNFS driver configuration & GPFSRemote driver configuration are\nnot able to find the GPFS commands causing the initialization failure.\nWith this patch, GPFS will be able to run all GPFS commands\nirrespective of GPFS path export.\n\nChange-Id: Ia44cc1495320ebd1ee6f442f5d94c45f06383dd3\nCloses-bug: #1691739\n""}, {'number': 2, 'created': '2017-05-22 07:30:13.000000000', 'files': ['cinder/volume/drivers/ibm/gpfs.py', 'etc/cinder/rootwrap.d/volume.filters', 'etc/cinder/rootwrap.conf'], 'web_link': 'https://opendev.org/openstack/cinder/commit/50630ffbb09b3aceafba5a9059ee55181ca0a9b8', 'message': ""Fix bugs of GPFSNFS & GPFSRemote Driver initialization failure\n\nDue to lack of GPFS path ('/usr/lpp/mmfs/bin/') export,\nGPFSNFS driver configuration & GPFSRemote driver configuration are\nnot able to find the GPFS commands causing the initialization failure.\nWith this patch, GPFS will be able to run all GPFS commands\nirrespective of GPFS path export.\n\nChange-Id: Ia44cc1495320ebd1ee6f442f5d94c45f06383dd3\nCloses-bug: #1691739\n""}]",4,465961,50630ffbb09b3aceafba5a9059ee55181ca0a9b8,67,33,2,19904,,,0,"Fix bugs of GPFSNFS & GPFSRemote Driver initialization failure

Due to lack of GPFS path ('/usr/lpp/mmfs/bin/') export,
GPFSNFS driver configuration & GPFSRemote driver configuration are
not able to find the GPFS commands causing the initialization failure.
With this patch, GPFS will be able to run all GPFS commands
irrespective of GPFS path export.

Change-Id: Ia44cc1495320ebd1ee6f442f5d94c45f06383dd3
Closes-bug: #1691739
",git fetch https://review.opendev.org/openstack/cinder refs/changes/61/465961/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/gpfs.py', 'etc/cinder/rootwrap.d/volume.filters', 'etc/cinder/rootwrap.conf']",3,e3e38f4387dee04e4a059225fc00105f6f13be48,bug/1691739,"exec_dirs=/sbin,/usr/sbin,/bin,/usr/bin,/usr/local/bin,/usr/local/sbin,/usr/lpp/mmfs/bin","exec_dirs=/sbin,/usr/sbin,/bin,/usr/bin,/usr/local/bin,/usr/local/sbin",50,36
openstack%2Ftripleo-quickstart-extras~master~Ic33ed494c46aeaabe2ec124505ae82a7bc54cc7b,openstack/tripleo-quickstart-extras,master,Ic33ed494c46aeaabe2ec124505ae82a7bc54cc7b,Generate the list of required containers from t-h-t,ABANDONED,2017-04-20 16:03:40.000000000,2017-05-26 17:42:34.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 18846}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-04-20 16:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9fabfe10bf6f9dc9c837557aee68a2f230ee0d53', 'message': 'Generate the list of required containers from t-h-t\n\nRather than relying on a static file coming from tripleo-common, build\na list of required container images to pull from the heat templates\nthat are going to be used for deployment.\n\nChange-Id: Ic33ed494c46aeaabe2ec124505ae82a7bc54cc7b\n'}, {'number': 2, 'created': '2017-04-20 19:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0981b78ca1c71001a2c5f4fe70dcf977e3a70bef', 'message': 'Generate the list of required containers from t-h-t\n\nRather than relying on a static file coming from tripleo-common, build\na list of required container images to pull from the heat templates\nthat are going to be used for deployment.\n\nChange-Id: Ic33ed494c46aeaabe2ec124505ae82a7bc54cc7b\n'}, {'number': 3, 'created': '2017-04-21 07:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/613000bdc1c5493f57ef6befab07ff5f1e0cf0d6', 'message': 'Generate the list of required containers from t-h-t\n\nRather than relying on a static file coming from tripleo-common, build\na list of required container images to pull from the heat templates\nthat are going to be used for deployment.\n\nDepends-On: I873b153129c8c9d08abfca2ddf045a4c58ff8c73\nChange-Id: Ic33ed494c46aeaabe2ec124505ae82a7bc54cc7b\n'}, {'number': 4, 'created': '2017-04-25 07:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8ef523e1e0f5cebf615e6694d5048fd7e8d63dc6', 'message': ""Generate the list of required containers from t-h-t\n\nRather than relying on a static file coming from tripleo-common, build\na list of required container images to pull from the heat templates\nthat are going to be used for deployment.\n\nThis allows to revert the dependency between t-h-t and tripleo-common\npatches and have the overcloud-containers.yaml patch merge only when\nthe t-h-t has landed, since we don't want to pull unused images\nunnecessarily.\n\nCloses-Bug: #1686033\nDepends-On: I873b153129c8c9d08abfca2ddf045a4c58ff8c73\nChange-Id: Ic33ed494c46aeaabe2ec124505ae82a7bc54cc7b\n""}, {'number': 5, 'created': '2017-04-25 07:38:13.000000000', 'files': ['roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e5fa5af97faa14f684c4808370a4ca8430736be2', 'message': ""Generate the list of required containers from t-h-t\n\nRather than relying on a static file coming from tripleo-common, build\na list of required container images to pull from the heat templates\nthat are going to be used for deployment.\n\nThis allows to reverse the dependency between t-h-t and tripleo-common\npatches and have the overcloud-containers.yaml patch merge only when\nthe t-h-t has landed, since we don't want to pull unused images\nunnecessarily.\n\nCloses-Bug: #1686033\nDepends-On: I873b153129c8c9d08abfca2ddf045a4c58ff8c73\nChange-Id: Ic33ed494c46aeaabe2ec124505ae82a7bc54cc7b\n""}]",2,458575,e5fa5af97faa14f684c4808370a4ca8430736be2,41,8,5,13039,,,0,"Generate the list of required containers from t-h-t

Rather than relying on a static file coming from tripleo-common, build
a list of required container images to pull from the heat templates
that are going to be used for deployment.

This allows to reverse the dependency between t-h-t and tripleo-common
patches and have the overcloud-containers.yaml patch merge only when
the t-h-t has landed, since we don't want to pull unused images
unnecessarily.

Closes-Bug: #1686033
Depends-On: I873b153129c8c9d08abfca2ddf045a4c58ff8c73
Change-Id: Ic33ed494c46aeaabe2ec124505ae82a7bc54cc7b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/75/458575/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2'],1,9fabfe10bf6f9dc9c837557aee68a2f230ee0d53,bug/1686033,"## * Create a list of containers required for the overcloud deployment ## :: CONTAINER_IMAGES=$(grep -R -o -h ""centos-binary-[^'\""]*"" {{ overcloud_templates_path }}/docker | sort -u) echo ""container_images:"" > {{ working_dir }}/overcloud_containers.yaml for image in $CONTAINER_IMAGES; do echo ""- imagename: {{ docker_registry_namespace }}/$image"" done >> {{ working_dir }}/overcloud_containers.yaml openstack overcloud container image upload --verbose --config-file {{ working_dir }}/overcloud_containers.yaml",openstack overcloud container image upload --verbose --config-file {{ tripleo_common_dir }}/contrib/overcloud_containers.yaml,11,1
openstack%2Fdevstack-gate~master~If1bc0366793a47f8115df143627d10997608c4a0,openstack/devstack-gate,master,If1bc0366793a47f8115df143627d10997608c4a0,Use xz to compress the journal files,MERGED,2017-05-25 22:35:54.000000000,2017-05-26 17:34:47.000000000,2017-05-26 17:34:47.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5263}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-05-25 22:35:54.000000000', 'files': ['functions.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/7421d0bb56a6fdf6404ae3898a468d3022d23ef0', 'message': 'Use xz to compress the journal files\n\nUncompressed the journal files are ~128MB, compressed with gzip -9 they\nget down to about 27MB. Using xz defaults gets us down to ~15MB and we\ncan run the compression using all the available cpus so that its not\nterribly slow.\n\nChange-Id: If1bc0366793a47f8115df143627d10997608c4a0\n'}]",0,468187,7421d0bb56a6fdf6404ae3898a468d3022d23ef0,12,4,1,4146,,,0,"Use xz to compress the journal files

Uncompressed the journal files are ~128MB, compressed with gzip -9 they
get down to about 27MB. Using xz defaults gets us down to ~15MB and we
can run the compression using all the available cpus so that its not
terribly slow.

Change-Id: If1bc0366793a47f8115df143627d10997608c4a0
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/87/468187/1 && git format-patch -1 --stdout FETCH_HEAD,['functions.sh'],1,7421d0bb56a6fdf6404ae3898a468d3022d23ef0,less-logs, sudo find $BASE/logs -iname '*.journal' -execdir xz --threads=0 {} \+, sudo find $BASE/logs -iname '*.journal' -execdir gzip -9 {} \+,1,1
openstack%2Fdiskimage-builder~master~I98fb31bc0e06869e9770fae3dbd62f0d86acb879,openstack/diskimage-builder,master,I98fb31bc0e06869e9770fae3dbd62f0d86acb879,Disable recommended package installations for zypper-minimal,MERGED,2017-05-26 07:48:31.000000000,2017-05-26 17:34:02.000000000,2017-05-26 17:34:02.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-05-26 07:48:31.000000000', 'files': ['diskimage_builder/elements/zypper-minimal/pre-install.d/00-disable-zypper-recommends'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b4edb7d0eb83e6094946fd5ad7f1701066feb93c', 'message': 'Disable recommended package installations for zypper-minimal\n\nThis is consistent with how dpkg based images are configured\nand minimizes the nodepool images drastically (avoid installing\ntexlive for example)\n\nChange-Id: I98fb31bc0e06869e9770fae3dbd62f0d86acb879\n'}]",1,468300,b4edb7d0eb83e6094946fd5ad7f1701066feb93c,10,4,1,6593,,,0,"Disable recommended package installations for zypper-minimal

This is consistent with how dpkg based images are configured
and minimizes the nodepool images drastically (avoid installing
texlive for example)

Change-Id: I98fb31bc0e06869e9770fae3dbd62f0d86acb879
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/00/468300/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/zypper-minimal/pre-install.d/00-disable-zypper-recommends'],1,b4edb7d0eb83e6094946fd5ad7f1701066feb93c,minimum_opensuse,"#!/bin/bash # Prevent libsolv/zypper from installing recommended packages if [ ${DIB_DEBUG_TRACE:-0} -gt 0 ]; then set -x fi set -eu set -o pipefail fgrep -qx ""solver.onlyRequires = true"" /etc/zypp/zypp.conf || { cat >> /etc/zypp/zypp.conf << _EOF_ ## Disable installation of recommended packages, language packages ## and packages which depend on hardware (modalias). solver.onlyRequires = true _EOF_ } ",,18,0
openstack%2Fdevstack-gate~master~I97012759fe01566a2f916bff8a120154d2dbc635,openstack/devstack-gate,master,I97012759fe01566a2f916bff8a120154d2dbc635,Save less journal data,MERGED,2017-05-25 20:11:28.000000000,2017-05-26 17:25:55.000000000,2017-05-26 17:25:55.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5263}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-05-25 20:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/a23d2b165e05f0d56986887a7c689782e5e20d1b', 'message': 'Save less journal data\n\nThe journal data is relatively massive and its hurting us on the logs\nserver. Update to only grabbing devstack related journal data to see if\nthis is smaller in a useable way.\n\nChange-Id: I97012759fe01566a2f916bff8a120154d2dbc635\n'}, {'number': 2, 'created': '2017-05-25 21:14:56.000000000', 'files': ['functions.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/55c308c90d39770e761a1a6f2ebe3538dc7bd22d', 'message': 'Save less journal data\n\nThe journal data is relatively massive and its hurting us on the logs\nserver. Update to only grabbing devstack related journal data to see if\nthis is smaller in a useable way.\n\nChange-Id: I97012759fe01566a2f916bff8a120154d2dbc635\n'}]",0,468150,55c308c90d39770e761a1a6f2ebe3538dc7bd22d,14,5,2,4146,,,0,"Save less journal data

The journal data is relatively massive and its hurting us on the logs
server. Update to only grabbing devstack related journal data to see if
this is smaller in a useable way.

Change-Id: I97012759fe01566a2f916bff8a120154d2dbc635
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/50/468150/1 && git format-patch -1 --stdout FETCH_HEAD,['functions.sh'],1,a23d2b165e05f0d56986887a7c689782e5e20d1b,less-logs," # easier. sudo journalctl -u 'devstack@*'-o export | \ # The journal contains everything running under systemd, we'll # build an old school version of the syslog with just the # kernel and sudo messages. sudo journalctl \ -t kernel \ -t sudo \ --no-pager \ --since=""$(cat $BASE/log-start-timestamp.txt)"" \ | sudo tee $BASE/logs/syslog.txt > /dev/null else # assume rsyslog save_file /var/log/syslog save_file /var/log/kern.log"," # No matter what, archive logs and config files if which journalctl ; then # The journal contains everything running under systemd, we'll # build an old school version of the syslog with just the # kernel and sudo messages. sudo journalctl \ -t kernel \ -t sudo \ --no-pager \ --since=""$(cat $BASE/log-start-timestamp.txt)"" \ | sudo tee $BASE/logs/syslog.txt > /dev/null else # assume rsyslog save_file /var/log/syslog save_file /var/log/kern.log fi # easier. This intentionally includes everything, not just # devstack services. sudo journalctl -o export | \",15,20
openstack%2Fcharm-nova-cloud-controller~master~I9a4245e764e268327466bc0fbe8b5383303ad07f,openstack/charm-nova-cloud-controller,master,I9a4245e764e268327466bc0fbe8b5383303ad07f,Remove charm-helpers from tests dir and use venv instead,MERGED,2017-05-26 16:24:33.000000000,2017-05-26 17:22:25.000000000,2017-05-26 17:22:25.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2017-05-26 16:24:33.000000000', 'files': ['tests/charmhelpers/core/kernel_factory/__init__.py', 'tests/charmhelpers/core/services/base.py', 'test-requirements.txt', 'tests/charmhelpers/contrib/openstack/amulet/__init__.py', 'tests/charmhelpers/contrib/storage/linux/ceph.py', 'tests/charmhelpers/core/fstab.py', 'tests/charmhelpers/contrib/network/ip.py', 'tests/charmhelpers/core/strutils.py', 'tests/charmhelpers/contrib/storage/linux/loopback.py', 'tests/charmhelpers/contrib/storage/__init__.py', 'tests/charmhelpers/contrib/python/__init__.py', 'tests/charmhelpers/osplatform.py', 'tests/charmhelpers/fetch/centos.py', 'charm-helpers-tests.yaml', 'tests/charmhelpers/contrib/amulet/__init__.py', 'tests/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/fetch/snap.py', 'tests/charmhelpers/core/kernel_factory/centos.py', 'tests/charmhelpers/fetch/archiveurl.py', 'tests/charmhelpers/core/host.py', 'tests/charmhelpers/core/services/helpers.py', 'tests/charmhelpers/contrib/storage/linux/utils.py', 'tests/charmhelpers/core/kernel.py', 'tests/charmhelpers/fetch/__init__.py', 'tests/charmhelpers/contrib/openstack/__init__.py', 'tests/charmhelpers/core/hugepage.py', 'tests/charmhelpers/core/files.py', 'tests/charmhelpers/core/services/__init__.py', 'tests/charmhelpers/contrib/network/__init__.py', 'tests/charmhelpers/contrib/storage/linux/__init__.py', '.gitignore', 'tests/charmhelpers/contrib/amulet/utils.py', 'Makefile', 'tests/charmhelpers/__init__.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/host_factory/centos.py', 'bindep.txt', 'tests/charmhelpers/contrib/__init__.py', 'tests/charmhelpers/core/__init__.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/charmhelpers/core/host_factory/__init__.py', 'tests/charmhelpers/core/decorators.py', 'tests/charmhelpers/fetch/ubuntu.py', 'tests/charmhelpers/contrib/python/version.py', 'tests/charmhelpers/contrib/amulet/deployment.py', 'tests/charmhelpers/fetch/bzrurl.py', 'tests/charmhelpers/contrib/python/packages.py', 'tests/charmhelpers/contrib/openstack/exceptions.py', 'tests/charmhelpers/contrib/python/debug.py', 'tests/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/kernel_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/templating.py', 'tests/charmhelpers/contrib/python/rpdb.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/core/unitdata.py', 'tests/charmhelpers/contrib/storage/linux/lvm.py', 'tests/charmhelpers/fetch/giturl.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/15071bdd5f68e3da6853ae83403912bf257ae265', 'message': 'Remove charm-helpers from tests dir and use venv instead\n\nChange-Id: I9a4245e764e268327466bc0fbe8b5383303ad07f\n'}]",0,468463,15071bdd5f68e3da6853ae83403912bf257ae265,7,3,1,20635,,,0,"Remove charm-helpers from tests dir and use venv instead

Change-Id: I9a4245e764e268327466bc0fbe8b5383303ad07f
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/63/468463/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/charmhelpers/core/kernel_factory/__init__.py', 'tests/charmhelpers/core/services/base.py', 'test-requirements.txt', 'tests/charmhelpers/contrib/openstack/amulet/__init__.py', 'tests/charmhelpers/contrib/storage/linux/ceph.py', 'tests/charmhelpers/core/fstab.py', 'tests/charmhelpers/contrib/network/ip.py', 'tests/charmhelpers/core/strutils.py', 'tests/charmhelpers/contrib/storage/linux/loopback.py', 'tests/charmhelpers/contrib/storage/__init__.py', 'tests/charmhelpers/contrib/python/__init__.py', 'tests/charmhelpers/osplatform.py', 'tests/charmhelpers/fetch/centos.py', 'charm-helpers-tests.yaml', 'tests/charmhelpers/contrib/amulet/__init__.py', 'tests/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/fetch/snap.py', 'tests/charmhelpers/core/kernel_factory/centos.py', 'tests/charmhelpers/fetch/archiveurl.py', 'tests/charmhelpers/core/host.py', 'tests/charmhelpers/core/services/helpers.py', 'tests/charmhelpers/contrib/storage/linux/utils.py', 'tests/charmhelpers/core/kernel.py', 'tests/charmhelpers/fetch/__init__.py', 'tests/charmhelpers/contrib/openstack/__init__.py', 'tests/charmhelpers/core/hugepage.py', 'tests/charmhelpers/core/files.py', 'tests/charmhelpers/core/services/__init__.py', 'tests/charmhelpers/contrib/network/__init__.py', 'tests/charmhelpers/contrib/storage/linux/__init__.py', '.gitignore', 'tests/charmhelpers/contrib/amulet/utils.py', 'Makefile', 'tests/charmhelpers/__init__.py', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/host_factory/centos.py', 'bindep.txt', 'tests/charmhelpers/contrib/__init__.py', 'tests/charmhelpers/core/__init__.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/charmhelpers/core/host_factory/__init__.py', 'tests/charmhelpers/core/decorators.py', 'tests/charmhelpers/fetch/ubuntu.py', 'tests/charmhelpers/contrib/python/version.py', 'tests/charmhelpers/contrib/amulet/deployment.py', 'tests/charmhelpers/fetch/bzrurl.py', 'tests/charmhelpers/contrib/python/packages.py', 'tests/charmhelpers/contrib/openstack/exceptions.py', 'tests/charmhelpers/contrib/python/debug.py', 'tests/charmhelpers/core/sysctl.py', 'tests/charmhelpers/core/kernel_factory/ubuntu.py', 'tests/charmhelpers/core/host_factory/ubuntu.py', 'tests/charmhelpers/core/templating.py', 'tests/charmhelpers/contrib/python/rpdb.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/charmhelpers/core/unitdata.py', 'tests/charmhelpers/contrib/storage/linux/lvm.py', 'tests/charmhelpers/fetch/giturl.py']",58,15071bdd5f68e3da6853ae83403912bf257ae265,tests-ch-venv,,"# Copyright 2014-2015 Canonical Limited. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import os from subprocess import check_call, CalledProcessError from charmhelpers.fetch import ( BaseFetchHandler, UnhandledSource, filter_installed_packages, install, ) if filter_installed_packages(['git']) != []: install(['git']) if filter_installed_packages(['git']) != []: raise NotImplementedError('Unable to install git') class GitUrlFetchHandler(BaseFetchHandler): """"""Handler for git branches via generic and github URLs."""""" def can_handle(self, source): url_parts = self.parse_url(source) # TODO (mattyw) no support for ssh git@ yet if url_parts.scheme not in ('http', 'https', 'git', ''): return False elif not url_parts.scheme: return os.path.exists(os.path.join(source, '.git')) else: return True def clone(self, source, dest, branch=""master"", depth=None): if not self.can_handle(source): raise UnhandledSource(""Cannot handle {}"".format(source)) if os.path.exists(dest): cmd = ['git', '-C', dest, 'pull', source, branch] else: cmd = ['git', 'clone', source, dest, '--branch', branch] if depth: cmd.extend(['--depth', depth]) check_call(cmd) def install(self, source, branch=""master"", dest=None, depth=None): url_parts = self.parse_url(source) branch_name = url_parts.path.strip(""/"").split(""/"")[-1] if dest: dest_dir = os.path.join(dest, branch_name) else: dest_dir = os.path.join(os.environ.get('CHARM_DIR'), ""fetched"", branch_name) try: self.clone(source, dest_dir, branch, depth) except CalledProcessError as e: raise UnhandledSource(e) except OSError as e: raise UnhandledSource(e.strerror) return dest_dir ",4,12466
openstack%2Fkolla~master~I4b6757a3e532a9507d47ab006afb91301e62f536,openstack/kolla,master,I4b6757a3e532a9507d47ab006afb91301e62f536,Fix sed replacement command in Ubuntu's install_docker,MERGED,2017-05-25 13:11:04.000000000,2017-05-26 17:17:11.000000000,2017-05-26 17:17:10.000000000,"[{'_account_id': 3}, {'_account_id': 894}, {'_account_id': 8157}, {'_account_id': 13039}, {'_account_id': 19316}]","[{'number': 1, 'created': '2017-05-25 13:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cf58f9a83477122c43f3f224027efff963bac99d', 'message': 'Fix in sed line (s command)\n\nChange-Id: I4b6757a3e532a9507d47ab006afb91301e62f536\n'}, {'number': 2, 'created': '2017-05-25 15:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/afa6ddff28d31692d8eedd5446ee7b0a2c4912b4', 'message': ""Fix sed replacement command in Ubuntu's install_docker\n\nThe 's' command wasn't closed properly.\n\nChange-Id: I4b6757a3e532a9507d47ab006afb91301e62f536\n""}, {'number': 3, 'created': '2017-05-26 13:29:08.000000000', 'files': ['contrib/dev/vagrant/bootstrap.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/64fa91063f32492896f125ef464b80a39a7461c4', 'message': ""Fix sed replacement command in Ubuntu's install_docker\n\nThe 's' command wasn't closed properly.\n\nChange-Id: I4b6757a3e532a9507d47ab006afb91301e62f536\n""}]",0,468026,64fa91063f32492896f125ef464b80a39a7461c4,21,5,3,894,,,0,"Fix sed replacement command in Ubuntu's install_docker

The 's' command wasn't closed properly.

Change-Id: I4b6757a3e532a9507d47ab006afb91301e62f536
",git fetch https://review.opendev.org/openstack/kolla refs/changes/26/468026/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/dev/vagrant/bootstrap.sh'],1,cf58f9a83477122c43f3f224027efff963bac99d,fix-sed-line-dev-vagrant-boostrap," sed -i -r ""s,(ExecStart)=(.+),\1=/usr/bin/docker daemon --insecure-registry ${REGISTRY} --registry-mirror=http://${REGISTRY},"" /lib/systemd/system/docker.service"," sed -i -r ""s,(ExecStart)=(.+),\1=/usr/bin/docker daemon --insecure-registry ${REGISTRY} --registry-mirror=http://${REGISTRY}|"" /lib/systemd/system/docker.service",1,1
openstack%2Ffreezer~master~I8e90e3283544dceefa9e2c9b0402488b8db48a02,openstack/freezer,master,I8e90e3283544dceefa9e2c9b0402488b8db48a02,Remove html_static_path from doc,MERGED,2017-04-05 11:09:19.000000000,2017-05-26 17:12:36.000000000,2017-05-26 17:12:35.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 21224}, {'_account_id': 22405}]","[{'number': 1, 'created': '2017-04-05 11:09:19.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/a5589822333e9272f1ef12196d089702d2cec413', 'message': ""Remove html_static_path from doc\n\nThe html_static_path setting in conf.py was forgotten in the patch,\nwhich caused a warning when building docs.\nWARNING:html_static_path entry u'/home/devstack/freezer/doc/source/\n_static' does not exist.\nThis patch comments out the setting from conf.py to prevent the\nwarning.\n\nChange-Id: I8e90e3283544dceefa9e2c9b0402488b8db48a02\n""}]",0,453578,a5589822333e9272f1ef12196d089702d2cec413,9,4,1,19790,,,0,"Remove html_static_path from doc

The html_static_path setting in conf.py was forgotten in the patch,
which caused a warning when building docs.
WARNING:html_static_path entry u'/home/devstack/freezer/doc/source/
_static' does not exist.
This patch comments out the setting from conf.py to prevent the
warning.

Change-Id: I8e90e3283544dceefa9e2c9b0402488b8db48a02
",git fetch https://review.opendev.org/openstack/freezer refs/changes/78/453578/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,a5589822333e9272f1ef12196d089702d2cec413,,#html_static_path = ['_static'],html_static_path = ['_static'],1,1
openstack%2Fpuppet-tripleo~master~I2910e8aa5da7fded4cf94b57fb0a14fefd88adbe,openstack/puppet-tripleo,master,I2910e8aa5da7fded4cf94b57fb0a14fefd88adbe,Move ceilometer upgrade step out of base,MERGED,2017-05-24 20:13:26.000000000,2017-05-26 17:04:46.000000000,2017-05-26 17:04:46.000000000,"[{'_account_id': 3}, {'_account_id': 10873}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-05-24 20:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ef9fbe497aee17739b97fa7bb39fcb6420ef3ae2', 'message': 'Move ceilometer upgrade step out of base\n\nceilometer-upgrade should only run on controller nodes.\nSince its currently in base profile, it gets triggered\non compute as well. So instead split out the upgrade\ninto its own and include when we deploy notification\nand central agents instead.\n\nChange-Id: I2910e8aa5da7fded4cf94b57fb0a14fefd88adbe\nCloses-bug: #1693339\n'}, {'number': 2, 'created': '2017-05-24 20:45:14.000000000', 'files': ['manifests/profile/base/ceilometer/agent/polling.pp', 'manifests/profile/base/ceilometer/agent/notification.pp', 'manifests/profile/base/ceilometer/upgrade.pp', 'spec/classes/tripleo_profile_base_ceilometer_spec.rb', 'manifests/profile/base/ceilometer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/daf64974d89db6bffe1fd99b344b18d682d9f237', 'message': 'Move ceilometer upgrade step out of base\n\nceilometer-upgrade should only run on controller nodes.\nSince its currently in base profile, it gets triggered\non compute as well. So instead split out the upgrade\ninto its own and include when we deploy notification\nand central agents instead.\n\nChange-Id: I2910e8aa5da7fded4cf94b57fb0a14fefd88adbe\nCloses-bug: #1693339\n'}]",0,467750,daf64974d89db6bffe1fd99b344b18d682d9f237,13,3,2,6924,,,0,"Move ceilometer upgrade step out of base

ceilometer-upgrade should only run on controller nodes.
Since its currently in base profile, it gets triggered
on compute as well. So instead split out the upgrade
into its own and include when we deploy notification
and central agents instead.

Change-Id: I2910e8aa5da7fded4cf94b57fb0a14fefd88adbe
Closes-bug: #1693339
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/50/467750/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/ceilometer/agent/polling.pp', 'manifests/profile/base/ceilometer/agent/notification.pp', 'manifests/profile/base/ceilometer/upgrade.pp', 'manifests/profile/base/ceilometer.pp']",4,ef9fbe497aee17739b97fa7bb39fcb6420ef3ae2,bug/1693339,,"# [*bootstrap_node*] # (Optional) The hostname of the node responsible for bootstrapping tasks # Defaults to hiera('bootstrap_nodeid') # $bootstrap_node = hiera('bootstrap_nodeid', undef), if $::hostname == downcase($bootstrap_node) { $sync_db = true } else { $sync_db = false } # Run ceilometer-upgrade in step 5 so gnocchi resource types # are created safely. if $step >= 5 and $sync_db { exec {'ceilometer-db-upgrade': command => 'ceilometer-upgrade --skip-metering-database', path => ['/usr/bin', '/usr/sbin'], } }",54,20
openstack%2Foslo.messaging~master~Ic0e340e24212c5690d65d593221fb4b89600627d,openstack/oslo.messaging,master,Ic0e340e24212c5690d65d593221fb4b89600627d,Add missing {posargs:} to AMQP 1.0 functional tests,MERGED,2017-05-22 18:56:13.000000000,2017-05-26 17:01:19.000000000,2017-05-26 17:01:19.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-05-22 18:56:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d20e89c05c1ec78fd54628dedabb81137ae661a9', 'message': 'Add missing {posargs:} to AMQP 1.0 functional tests\n\nChange-Id: Ic0e340e24212c5690d65d593221fb4b89600627d\n'}]",0,466875,d20e89c05c1ec78fd54628dedabb81137ae661a9,7,3,1,8770,,,0,"Add missing {posargs:} to AMQP 1.0 functional tests

Change-Id: Ic0e340e24212c5690d65d593221fb4b89600627d
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/75/466875/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d20e89c05c1ec78fd54628dedabb81137ae661a9,tox-amqp1-posargs,commands = {toxinidir}/setup-test-env-amqp1.sh python setup.py testr --slowest --testr-args='{posargs:oslo_messaging.tests.functional}'commands = {toxinidir}/setup-test-env-amqp1.sh python setup.py testr --slowest --testr-args='{posargs:oslo_messaging.tests.functional}',commands = {toxinidir}/setup-test-env-amqp1.sh python setup.py testr --slowest --testr-args='oslo_messaging.tests.functional'commands = {toxinidir}/setup-test-env-amqp1.sh python setup.py testr --slowest --testr-args='oslo_messaging.tests.functional',2,2
openstack%2Frequirements~master~I527026c1c685e5156c410a2b84b2c19cebc71a49,openstack/requirements,master,I527026c1c685e5156c410a2b84b2c19cebc71a49,Require oslo.context>=2.14.0 and python-cinderclient>=2.1.0,MERGED,2017-05-26 13:33:40.000000000,2017-05-26 16:58:09.000000000,2017-05-26 16:58:09.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5638}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-05-26 13:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8aea79c555f32fd90bb31582ae92ff6ed350fcca', 'message': 'Require python-cinderclient>=2.1.0\n\nThis is needed to use Ib271ac01c2a4a36e611ae9181ae93305f2318680\nin nova.\n\nChange-Id: I527026c1c685e5156c410a2b84b2c19cebc71a49\n'}, {'number': 2, 'created': '2017-05-26 13:43:29.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/288bbf00c675b0f860e815b639317ad044308e23', 'message': 'Require oslo.context>=2.14.0 and python-cinderclient>=2.1.0\n\nThis is needed for I6c56187f776602e0af88a368e41a4239901bde3e\nand Ib271ac01c2a4a36e611ae9181ae93305f2318680 in nova.\n\nChange-Id: I527026c1c685e5156c410a2b84b2c19cebc71a49\n'}]",0,468419,288bbf00c675b0f860e815b639317ad044308e23,10,4,2,6873,,,0,"Require oslo.context>=2.14.0 and python-cinderclient>=2.1.0

This is needed for I6c56187f776602e0af88a368e41a4239901bde3e
and Ib271ac01c2a4a36e611ae9181ae93305f2318680 in nova.

Change-Id: I527026c1c685e5156c410a2b84b2c19cebc71a49
",git fetch https://review.opendev.org/openstack/requirements refs/changes/19/468419/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,8aea79c555f32fd90bb31582ae92ff6ed350fcca,global_request_id,python-cinderclient>=2.1.0 # Apache-2.0,python-cinderclient>=2.0.1 # Apache-2.0,1,1
openstack%2Ftripleo-quickstart~master~Icf010b83d7ec94fc51d60bc14988e27b01199abc,openstack/tripleo-quickstart,master,Icf010b83d7ec94fc51d60bc14988e27b01199abc,Featureset 021 Install oooq and execute tempest,MERGED,2017-05-16 10:19:58.000000000,2017-05-26 16:56:39.000000000,2017-05-26 16:56:38.000000000,"[{'_account_id': 3}, {'_account_id': 8367}, {'_account_id': 8652}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}]","[{'number': 1, 'created': '2017-05-16 10:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d025f3626efc4896b150e4ca40da94c7ca59e241', 'message': 'Featureset 014 Install oooq and execute tempest\n\nThis patch add a new featureset 014 that will skip pingtest\nand execute tempest\n\nChange-Id: Icf010b83d7ec94fc51d60bc14988e27b01199abc\n'}, {'number': 2, 'created': '2017-05-16 15:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fff15cbc141553628a7bc9c3380be6ee3a9a8255', 'message': 'Featureset 014 Install oooq and execute tempest\n\nThis patch add a new featureset 014 that will skip pingtest\nand execute tempest\n\nChange-Id: Icf010b83d7ec94fc51d60bc14988e27b01199abc\n'}, {'number': 3, 'created': '2017-05-23 11:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b7aabc2f56ddb011ca70d5daaae1a18e46bdb310', 'message': 'Featureset 021 Install oooq and execute tempest\n\nThis patch add a new featureset 014 that will skip pingtest\nand execute tempest\n\nChange-Id: Icf010b83d7ec94fc51d60bc14988e27b01199abc\n'}, {'number': 4, 'created': '2017-05-23 13:23:18.000000000', 'files': ['config/general_config/featureset021.yml', 'doc/source/feature-configuration.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5252eb1651db0f9c4d4245a54741f9f682b9e881', 'message': 'Featureset 021 Install oooq and execute tempest\n\nThis patch add a new featureset 021 that will skip pingtest\nand execute tempest\n\nChange-Id: Icf010b83d7ec94fc51d60bc14988e27b01199abc\n'}]",2,465016,5252eb1651db0f9c4d4245a54741f9f682b9e881,27,8,4,8367,,,0,"Featureset 021 Install oooq and execute tempest

This patch add a new featureset 021 that will skip pingtest
and execute tempest

Change-Id: Icf010b83d7ec94fc51d60bc14988e27b01199abc
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/16/465016/2 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset014.yml'],1,d025f3626efc4896b150e4ca40da94c7ca59e241,featureset_tempest_new,"# Summary of the feature set. # Deploy an Openstack environment with ssl undercloud, introspect, and use network isolation # It also execute tempest # This enables TLS for the undercloud which will also make haproxy bind to the # configured public-vip and admin-vip. undercloud_generate_service_certificate: true ssl_overcloud: true overcloud_templates_path: /usr/share/openstack-tripleo-heat-templates step_introspect: true # Tell tripleo about our environment. enable_pacemaker: true network_isolation: true network_isolation_type: ""multiple-nics"" network_isolation_args: >- -e {{ tripleo_root }}/tripleo-ci/test-environments/network-templates/network-isolation-absolute.yaml -e {{ tripleo_root }}/tripleo-ci/test-environments/network-templates/network-environment.yaml -e {{ tripleo_root }}/tripleo-ci/test-environments/net-iso.yaml # Network settings external_interface: eth2 external_interface_ip: 10.0.0.1 external_interface_netmask: 255.255.255.0 external_interface_hwaddr: fa:16:3e:79:e8:04 floating_ip_cidr: 10.0.0.0/24 step_adjust_mtu: true mtu: 1350 mtu_interface: - eth0 - eth1 - eth2 overcloud_dns_servers: - 8.8.8.8 - 8.8.4.4 extra_args: >- --ntp-server pool.ntp.org test_ping: false run_tempest: true tempest_config: true # keep the doc gen settings at the bottom of the config file. # options below direct automatic doc generation by tripleo-collect-logs artcl_gen_docs: true artcl_create_docs_payload: included_deployment_scripts: - undercloud-install - overcloud-custom-tht-script - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - overcloud-deploy - overcloud-deploy-post - overcloud-validate included_static_docs: - env-setup-virt table_of_contents: - env-setup-virt - undercloud-install - overcloud-custom-tht-script - overcloud-prep-flavors - overcloud-prep-images - overcloud-prep-network - overcloud-deploy - overcloud-deploy-post - overcloud-validate ",,69,0
openstack%2Ftripleo-heat-templates~master~I61efac5634e9b6fbb820e693c71a0adae5fa8b6a,openstack/tripleo-heat-templates,master,I61efac5634e9b6fbb820e693c71a0adae5fa8b6a,Add RoleNetHostnameMap output,MERGED,2017-05-17 13:35:19.000000000,2017-05-26 16:56:32.000000000,2017-05-26 16:56:32.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 6924}, {'_account_id': 6928}, {'_account_id': 8042}, {'_account_id': 13039}, {'_account_id': 18575}]","[{'number': 1, 'created': '2017-05-17 13:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce395ba88ae4a861db9d4f14b0cd6dac6b5241d8', 'message': 'Add RoleNetHostnameMap output\n\nThis exposes a list of hostnames similar to the RoleNetIpMap, this\nwill be consumed by the dynamic inventory ref\nhttps://review.openstack.org/465558\n\nChange-Id: I61efac5634e9b6fbb820e693c71a0adae5fa8b6a\n'}, {'number': 2, 'created': '2017-05-17 15:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91fe27366eb5687ef1f00fe3f243695868ff4326', 'message': 'Add RoleNetHostnameMap output\n\nThis exposes a list of hostnames similar to the RoleNetIpMap, this\nwill be consumed by the dynamic inventory ref\nhttps://review.openstack.org/465558\n\nChange-Id: I61efac5634e9b6fbb820e693c71a0adae5fa8b6a\n'}, {'number': 3, 'created': '2017-05-19 10:29:32.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c9733f395e1ef10c5d6f48bd5f696d668bd6f05', 'message': 'Add RoleNetHostnameMap output\n\nThis exposes a list of hostnames similar to the RoleNetIpMap, this\nwill be consumed by the dynamic inventory ref\nhttps://review.openstack.org/465558\n\nChange-Id: I61efac5634e9b6fbb820e693c71a0adae5fa8b6a\n'}]",1,465560,3c9733f395e1ef10c5d6f48bd5f696d668bd6f05,24,9,3,4328,,,0,"Add RoleNetHostnameMap output

This exposes a list of hostnames similar to the RoleNetIpMap, this
will be consumed by the dynamic inventory ref
https://review.openstack.org/465558

Change-Id: I61efac5634e9b6fbb820e693c71a0adae5fa8b6a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/465560/3 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,ce395ba88ae4a861db9d4f14b0cd6dac6b5241d8,faster_outputs," NetworkHostnameMap: {get_attr: [{{role.name}}NetworkHostnameMap, value]} {{role.name}}NetworkHostnameMap: type: OS::Heat::Value properties: value: RoleNetHostnameMap: description: Mapping of each network to a list of hostnames for each role value: {% for role in roles %} {{role.name}}: {get_attr: [{{role.name}}NetworkHostnameMap, value]} {% endfor %}", NetworkHostnameMap:,12,1
openstack%2Ftripleo-quickstart-extras~master~I54d22cb7a665356ecded4a545d20e9127caf28e9,openstack/tripleo-quickstart-extras,master,I54d22cb7a665356ecded4a545d20e9127caf28e9,Re-enable introspection on rdocloud,MERGED,2017-05-24 21:51:44.000000000,2017-05-26 16:46:50.000000000,2017-05-26 16:43:00.000000000,"[{'_account_id': 3}, {'_account_id': 8652}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-05-24 21:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1bc8d73ea77fff3dcc302d8224251494e1b13ec1', 'message': 'Re-enable introspection on rdocloud\n\nIntrospection was disabled due to a hang when\nstarting the overcloud nodes. The ipxe-boot\nimage has been fixed so introspection can be\nenabled again.\n\nChange-Id: I54d22cb7a665356ecded4a545d20e9127caf28e9\n'}, {'number': 2, 'created': '2017-05-26 13:47:29.000000000', 'files': ['config/environments/rdocloud-ci.yml', 'config/environments/rdocloud.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4509b28492033520ac2e119f5c961c45385b4a04', 'message': 'Re-enable introspection on rdocloud\n\nIntrospection was disabled due to a hang when\nstarting the overcloud nodes. The ipxe-boot\nimage has been fixed so introspection can be\nenabled again.\n\nChange-Id: I54d22cb7a665356ecded4a545d20e9127caf28e9\n'}]",0,467785,4509b28492033520ac2e119f5c961c45385b4a04,21,9,2,9976,,,0,"Re-enable introspection on rdocloud

Introspection was disabled due to a hang when
starting the overcloud nodes. The ipxe-boot
image has been fixed so introspection can be
enabled again.

Change-Id: I54d22cb7a665356ecded4a545d20e9127caf28e9
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/85/467785/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/environments/rdocloud-ci.yml', 'config/environments/rdocloud.yml']",2,1bc8d73ea77fff3dcc302d8224251494e1b13ec1,enable-introspection-rdocloud,, # temp disabling introspection on rdocloud step_introspect: false,0,5
openstack%2Fcharm-trove~master~Ief176a837ccf125bb9ee7a3a61c45f0452849c0b,openstack/charm-trove,master,Ief176a837ccf125bb9ee7a3a61c45f0452849c0b,Add version support for >= pike,MERGED,2017-05-26 08:14:56.000000000,2017-05-26 16:45:33.000000000,2017-05-26 16:45:33.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-05-26 08:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-trove/commit/638c8eb3e7f27a15985da5cb316c29faf4f29e61', 'message': 'Add version support for >= pike\n\nAdd version information for pike, queens and rocky.\n\nCorrect package key to trove-common.\n\nChange-Id: Ief176a837ccf125bb9ee7a3a61c45f0452849c0b\n'}, {'number': 2, 'created': '2017-05-26 08:21:21.000000000', 'files': ['src/lib/charm/openstack/trove.py', 'src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trove/commit/a8e70b4d349971ad0a27f70c827375a19648ff37', 'message': 'Add version support for >= pike\n\nAdd version information for pike, queens and rocky.\n\nCorrect package key to trove-common.\n\nAdd zesty to list of supported Ubuntu releases.\n\nChange-Id: Ief176a837ccf125bb9ee7a3a61c45f0452849c0b\n'}]",0,468312,a8e70b4d349971ad0a27f70c827375a19648ff37,10,3,2,935,,,0,"Add version support for >= pike

Add version information for pike, queens and rocky.

Correct package key to trove-common.

Add zesty to list of supported Ubuntu releases.

Change-Id: Ief176a837ccf125bb9ee7a3a61c45f0452849c0b
",git fetch https://review.opendev.org/openstack/charm-trove refs/changes/12/468312/2 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/trove.py'],1,638c8eb3e7f27a15985da5cb316c29faf4f29e61,pike-updates," 'trove-common': collections.OrderedDict([ ('5', 'pike'), ('6', 'queens'), ('7', 'rocky'),", 'aodh-common': collections.OrderedDict([,4,1
openstack%2Fcharm-designate~master~I87de94beeeb641af6189b2c644c57a54260330df,openstack/charm-designate,master,I87de94beeeb641af6189b2c644c57a54260330df,Add version data for >= pike,MERGED,2017-05-26 08:03:48.000000000,2017-05-26 16:45:12.000000000,2017-05-26 16:45:12.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-05-26 08:03:48.000000000', 'files': ['src/lib/charm/openstack/designate.py'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/2d847dbbe34ed9b6e3a4dc6054ca8cb3c357e14e', 'message': 'Add version data for >= pike\n\nUpdate the package version map with version data for pike,\nqueens and rocky OpenStack releases.\n\nChange-Id: I87de94beeeb641af6189b2c644c57a54260330df\n'}]",0,468304,2d847dbbe34ed9b6e3a4dc6054ca8cb3c357e14e,7,3,1,935,,,0,"Add version data for >= pike

Update the package version map with version data for pike,
queens and rocky OpenStack releases.

Change-Id: I87de94beeeb641af6189b2c644c57a54260330df
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/04/468304/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/designate.py'],1,2d847dbbe34ed9b6e3a4dc6054ca8cb3c357e14e,pike-updates," ('5', 'pike'), ('6', 'queens'), ('7', 'rocky'),",,3,0
openstack%2Fcharm-designate~master~Ic07ee3d6cabcdf9f36a6e58206bd4832d330fa67,openstack/charm-designate,master,Ic07ee3d6cabcdf9f36a6e58206bd4832d330fa67,Execute charm against virtualenv,MERGED,2017-05-26 07:54:21.000000000,2017-05-26 16:45:07.000000000,2017-05-26 16:45:07.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-05-26 07:54:21.000000000', 'files': ['src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/9afbfc70eb62f640066e0fe66e7ee183e4a7152e', 'message': 'Execute charm against virtualenv\n\nEnable use of virtualenv for installation of charm wheelhouse,\navoiding polution of the application environment with charm\nspecific versions of dependencies.\n\nChange-Id: Ic07ee3d6cabcdf9f36a6e58206bd4832d330fa67\n'}]",0,468302,9afbfc70eb62f640066e0fe66e7ee183e4a7152e,7,3,1,935,,,0,"Execute charm against virtualenv

Enable use of virtualenv for installation of charm wheelhouse,
avoiding polution of the application environment with charm
specific versions of dependencies.

Change-Id: Ic07ee3d6cabcdf9f36a6e58206bd4832d330fa67
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/02/468302/1 && git format-patch -1 --stdout FETCH_HEAD,['src/layer.yaml'],1,9afbfc70eb62f640066e0fe66e7ee183e4a7152e,enable-virtualenv,options: basic: use_venv: True include_system_packages: True,,4,0
openstack%2Fcharm-manila~master~I4ac3656d73ace24cc3c05681cc42bf4f24278585,openstack/charm-manila,master,I4ac3656d73ace24cc3c05681cc42bf4f24278585,Add version -> codename map,MERGED,2017-05-26 08:11:47.000000000,2017-05-26 16:44:26.000000000,2017-05-26 16:44:26.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-05-26 08:11:47.000000000', 'files': ['src/lib/charm/openstack/manila.py'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/ac91f03e14c4e52ac98e0288a5618a8e1e178b42', 'message': ""Add version -> codename map\n\nAdd support for package version to codename mapping to main\nCharm class, using the 'manila-common' package as the keystone\npackage for version checking.\n\nChange-Id: I4ac3656d73ace24cc3c05681cc42bf4f24278585\n""}]",0,468311,ac91f03e14c4e52ac98e0288a5618a8e1e178b42,7,3,1,935,,,0,"Add version -> codename map

Add support for package version to codename mapping to main
Charm class, using the 'manila-common' package as the keystone
package for version checking.

Change-Id: I4ac3656d73ace24cc3c05681cc42bf4f24278585
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/11/468311/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/manila.py'],1,ac91f03e14c4e52ac98e0288a5618a8e1e178b42,pike-updates,"import collections # Package for release version detection release_pkg = 'manila-common' # Package codename map for manila-common package_codenames = { 'manila-common': collections.OrderedDict([ ('2', 'mitaka'), ('3', 'newton'), ('4', 'ocata'), ('5', 'pike'), ('6', 'queens'), ('7', 'rocky'), ]), } ",,16,0
openstack%2Fcharm-aodh~master~I8f0e84f6696c6b2135c3d269b8f82104c7b57c2f,openstack/charm-aodh,master,I8f0e84f6696c6b2135c3d269b8f82104c7b57c2f,Add package version data for >= pike,MERGED,2017-05-26 08:05:18.000000000,2017-05-26 16:44:16.000000000,2017-05-26 16:44:16.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-05-26 08:05:18.000000000', 'files': ['src/lib/charm/openstack/aodh.py'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/4b2ba6405d644a346d698fcc9ae8153fcdf35900', 'message': 'Add package version data for >= pike\n\nAdd package versions for pike, queens and rocky releases.\n\nChange-Id: I8f0e84f6696c6b2135c3d269b8f82104c7b57c2f\n'}]",0,468306,4b2ba6405d644a346d698fcc9ae8153fcdf35900,7,3,1,935,,,0,"Add package version data for >= pike

Add package versions for pike, queens and rocky releases.

Change-Id: I8f0e84f6696c6b2135c3d269b8f82104c7b57c2f
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/06/468306/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/aodh.py'],1,4b2ba6405d644a346d698fcc9ae8153fcdf35900,pike-updates," ('5', 'pike'), ('6', 'queens'), ('7', 'rocky'),",,3,0
openstack%2Fcharm-barbican~master~Ibdb01774f160abb77ac15e95755107e6ed4042c2,openstack/charm-barbican,master,Ibdb01774f160abb77ac15e95755107e6ed4042c2,Add version map support,MERGED,2017-05-26 08:18:33.000000000,2017-05-26 16:43:27.000000000,2017-05-26 16:43:27.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-05-26 08:18:33.000000000', 'files': ['src/lib/charm/openstack/barbican.py'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/a26561f6ea1d81b0ebc0ddf184e804b87c0cb69e', 'message': 'Add version map support\n\nAdd versions for >= mitaka; use barbican-common as release package.\n\nChange-Id: Ibdb01774f160abb77ac15e95755107e6ed4042c2\n'}]",0,468314,a26561f6ea1d81b0ebc0ddf184e804b87c0cb69e,7,3,1,935,,,0,"Add version map support

Add versions for >= mitaka; use barbican-common as release package.

Change-Id: Ibdb01774f160abb77ac15e95755107e6ed4042c2
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/14/468314/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/barbican.py'],1,a26561f6ea1d81b0ebc0ddf184e804b87c0cb69e,pike-updates,"import collections # Package for release version detection release_pkg = 'barbican-common' # Package codename map for barbican-common package_codenames = { 'barbican-common': collections.OrderedDict([ ('2', 'mitaka'), ('3', 'newton'), ('4', 'ocata'), ('5', 'pike'), ('6', 'queens'), ('7', 'rocky'), ]), } ",,16,0
openstack%2Fpuppet-keystone~stable%2Fnewton~If395724f530ae975eaee093216d1cf031395eac6,openstack/puppet-keystone,stable/newton,If395724f530ae975eaee093216d1cf031395eac6,Remove unnecessary dependency from mod::ssl to conf directory,MERGED,2017-05-22 10:34:43.000000000,2017-05-26 16:43:06.000000000,2017-05-26 16:43:06.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-05-22 10:34:43.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/85f1c54b3020b7d901017073fb472bf8a08fab55', 'message': ""Remove unnecessary dependency from mod::ssl to conf directory\n\nThis is causing a dependency cycle:\n\nFile[/etc/httpd/conf.d] => File[ssl.conf] => Class[Apache::Mod::Ssl] =>\nFile[/etc/httpd/conf.d]\n\nAnd shouldn't be needed.\n\nChange-Id: If395724f530ae975eaee093216d1cf031395eac6\n(cherry picked from commit 52135a9234554de5390f79978cde8a787efcbcf2)\n""}]",0,466673,85f1c54b3020b7d901017073fb472bf8a08fab55,19,5,1,16312,,,0,"Remove unnecessary dependency from mod::ssl to conf directory

This is causing a dependency cycle:

File[/etc/httpd/conf.d] => File[ssl.conf] => Class[Apache::Mod::Ssl] =>
File[/etc/httpd/conf.d]

And shouldn't be needed.

Change-Id: If395724f530ae975eaee093216d1cf031395eac6
(cherry picked from commit 52135a9234554de5390f79978cde8a787efcbcf2)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/73/466673/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,85f1c54b3020b7d901017073fb472bf8a08fab55,remove-dependency,, # This is probably a bug in Class[apache::mod::ssl] or in the mod_ssl EL # package but for now I want this to pass p-o-i CI. The issue is that the # mod_ssl package is placing a ssl.conf file after the confd_dir is purged # on Puppet 4. Class['::apache::mod::ssl'] -> File[$::apache::confd_dir],0,5
openstack%2Fnova~master~Iedbb8db78793c963ef3039ff602e70e8c0aa4c0c,openstack/nova,master,Iedbb8db78793c963ef3039ff602e70e8c0aa4c0c,Move null_safe funcs to module level,MERGED,2017-05-11 12:05:25.000000000,2017-05-26 16:31:18.000000000,2017-05-25 19:54:45.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-05-11 12:05:25.000000000', 'files': ['nova/notifications/base.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/unit/notifications/objects/test_base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3027cf882ed3361745d8523059e6590e21af1f08', 'message': 'Move null_safe funcs to module level\n\nThe null_safe_ functions needs to be used from more than one payload\ngenerator function therefore it needs to be moved to module level.\n\nAlso this patch adds missing test coverage to these functions.\n\nChange-Id: Iedbb8db78793c963ef3039ff602e70e8c0aa4c0c\n'}]",0,463977,3027cf882ed3361745d8523059e6590e21af1f08,58,9,1,9708,,,0,"Move null_safe funcs to module level

The null_safe_ functions needs to be used from more than one payload
generator function therefore it needs to be moved to module level.

Also this patch adds missing test coverage to these functions.

Change-Id: Iedbb8db78793c963ef3039ff602e70e8c0aa4c0c
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/463977/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/notifications/base.py', 'nova/tests/unit/test_notifications.py', 'nova/tests/unit/notifications/objects/test_base.py']",3,3027cf882ed3361745d8523059e6590e21af1f08,bug/1657428,"# Copyright (c) 2017 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import datetime from nova.notifications import base from nova import test from nova import utils class TestNullSafeUtils(test.NoDBTestCase): def test_null_safe_isotime(self): dt = None self.assertEqual('', base.null_safe_isotime(dt)) dt = datetime.datetime(second=1, minute=1, hour=1, day=1, month=1, year=2017) self.assertEqual(utils.strtime(dt), base.null_safe_isotime(dt)) def test_null_safe_str(self): line = None self.assertEqual('', base.null_safe_str(line)) line = 'test' self.assertEqual(line, base.null_safe_str(line)) def test_null_safe_int(self): number = None # TODO(gibi): Fix null_safe_int to return 0 as default instead of empty # string self.assertEqual('', base.null_safe_int(number)) number = 10 self.assertEqual(number, base.null_safe_int(number)) ",,76,13
openstack%2Fcharm-manila~master~Ice9a21a4c10d3db8b0bcf607ce5418e624e4a38b,openstack/charm-manila,master,Ice9a21a4c10d3db8b0bcf607ce5418e624e4a38b,Use charms.openstack charmhelpers test_mocks,MERGED,2017-05-25 09:42:55.000000000,2017-05-26 16:29:10.000000000,2017-05-25 11:26:09.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-05-25 09:42:55.000000000', 'files': ['unit_tests/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/9ecbf06203090d68f1e85bb1a014305a1aac7887', 'message': ""Use charms.openstack charmhelpers test_mocks\n\nEvery reactive charm that uses charms.openstack and implements unit\ntesting needs to mock charmhelpers, as otherwise the tests blow up.\nThis patch uses the mocking of charmhelpers in charms.openstack so that\na charm layer can just import test_mocks and charmhelpers will be mocked\nout along with setting up a default\ncharmhelpers.c.o.u.OPENSTACK_RELEASES so that when an OpenStackCharm()\nderived charm class won't fail on definition.\n\nChange-Id: Ice9a21a4c10d3db8b0bcf607ce5418e624e4a38b\nRelated-Bug: #1693017\nDepends-On: I5ac40617ee30e5f421ec16fc7592177a5e6aa166\n""}]",0,467961,9ecbf06203090d68f1e85bb1a014305a1aac7887,7,3,1,20870,,,0,"Use charms.openstack charmhelpers test_mocks

Every reactive charm that uses charms.openstack and implements unit
testing needs to mock charmhelpers, as otherwise the tests blow up.
This patch uses the mocking of charmhelpers in charms.openstack so that
a charm layer can just import test_mocks and charmhelpers will be mocked
out along with setting up a default
charmhelpers.c.o.u.OPENSTACK_RELEASES so that when an OpenStackCharm()
derived charm class won't fail on definition.

Change-Id: Ice9a21a4c10d3db8b0bcf607ce5418e624e4a38b
Related-Bug: #1693017
Depends-On: I5ac40617ee30e5f421ec16fc7592177a5e6aa166
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/61/467961/1 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/__init__.py'],1,9ecbf06203090d68f1e85bb1a014305a1aac7887,unit-test-mocks,import charms_openstack.test_mocks # noqa charms_openstack.test_mocks.mock_charmhelpers(),import mock# also stops sideeffects from occuring. charmhelpers = mock.MagicMock() apt_pkg = mock.MagicMock() sys.modules['apt_pkg'] = apt_pkg sys.modules['charmhelpers'] = charmhelpers sys.modules['charmhelpers.core'] = charmhelpers.core sys.modules['charmhelpers.core.hookenv'] = charmhelpers.core.hookenv sys.modules['charmhelpers.core.host'] = charmhelpers.core.host sys.modules['charmhelpers.core.unitdata'] = charmhelpers.core.unitdata sys.modules['charmhelpers.core.templating'] = charmhelpers.core.templating sys.modules['charmhelpers.contrib'] = charmhelpers.contrib sys.modules['charmhelpers.contrib.openstack'] = charmhelpers.contrib.openstack sys.modules['charmhelpers.contrib.openstack.utils'] = ( charmhelpers.contrib.openstack.utils) sys.modules['charmhelpers.contrib.openstack.templating'] = ( charmhelpers.contrib.openstack.templating) sys.modules['charmhelpers.contrib.network'] = charmhelpers.contrib.network sys.modules['charmhelpers.contrib.network.ip'] = ( charmhelpers.contrib.network.ip) sys.modules['charmhelpers.fetch'] = charmhelpers.fetch sys.modules['charmhelpers.cli'] = charmhelpers.cli sys.modules['charmhelpers.contrib.hahelpers'] = charmhelpers.contrib.hahelpers sys.modules['charmhelpers.contrib.hahelpers.cluster'] = ( charmhelpers.contrib.hahelpers.cluster),2,25
openstack%2Fglance~master~Ie70abd0737e4ddf52fded941d7abc9d9d1eb285a,openstack/glance,master,Ie70abd0737e4ddf52fded941d7abc9d9d1eb285a,Add OpenStack-image-import-methods header,MERGED,2017-03-09 13:29:46.000000000,2017-05-26 16:00:04.000000000,2017-05-26 15:46:06.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 6159}, {'_account_id': 12807}, {'_account_id': 21722}]","[{'number': 1, 'created': '2017-03-09 13:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0351c44cae6b8b7860df97574eb5b435b6ba4e74', 'message': 'Add OpenStack-image-import-methods header\n\nAdding OpenStack-image-import-methods header to the image create\nresponse to indicate that glance-direct Image Import method is\navailable.\n\nChange-Id: Ie70abd0737e4ddf52fded941d7abc9d9d1eb285a\n'}, {'number': 2, 'created': '2017-03-09 16:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9064fce04a01d747ee663fa7ef476c7a6622eec0', 'message': 'Add OpenStack-image-import-methods header\n\nAdding OpenStack-image-import-methods header to the image create\nresponse to indicate that glance-direct Image Import method is\navailable.\n\nChange-Id: Ie70abd0737e4ddf52fded941d7abc9d9d1eb285a\n'}, {'number': 3, 'created': '2017-03-09 16:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9b2deb9a13f3a74cb694d7ad55eaeac57d393b94', 'message': 'Add OpenStack-image-import-methods header\n\nAdding OpenStack-image-import-methods header to the image create\nresponse to indicate that glance-direct Image Import method is\navailable.\n\nChange-Id: Ie70abd0737e4ddf52fded941d7abc9d9d1eb285a\n'}, {'number': 4, 'created': '2017-03-10 12:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f0ccaa0755e71c493d49a3367a1031f9cdea0a72', 'message': 'Add OpenStack-image-import-methods header\n\nAdding OpenStack-image-import-methods header to the image create\nresponse to indicate that glance-direct Image Import method is\navailable.\n\nChange-Id: Ie70abd0737e4ddf52fded941d7abc9d9d1eb285a\n'}, {'number': 5, 'created': '2017-03-30 18:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/05709b35add6834556c8e0c661d13a582ab691b0', 'message': 'Add OpenStack-image-import-methods header\n\nAdding OpenStack-image-import-methods header to the image create\nresponse to indicate that glance-direct Image Import method is\navailable.\n\nDepends-On: Ie5ab21ec3f9c880fa042dcc68865c1fceb9463ec\nChange-Id: Ie70abd0737e4ddf52fded941d7abc9d9d1eb285a\n'}, {'number': 6, 'created': '2017-04-06 13:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f6f3b0677aa976692830cca6520319cc7966453c', 'message': 'Add OpenStack-image-import-methods header\n\nAdding OpenStack-image-import-methods header to the image create\nresponse to indicate that glance-direct Image Import method is\navailable.\n\nChange-Id: Ie70abd0737e4ddf52fded941d7abc9d9d1eb285a\n'}, {'number': 7, 'created': '2017-04-19 12:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8a3025173d689fa1fca9ce350ffc7d3c7113fa0b', 'message': 'Add OpenStack-image-import-methods header\n\nAdding OpenStack-image-import-methods header to the image create\nresponse to indicate that glance-direct Image Import method is\navailable.\n\nChange-Id: Ie70abd0737e4ddf52fded941d7abc9d9d1eb285a\n'}, {'number': 8, 'created': '2017-04-27 13:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3da44d83c547fa9433ebe5750dd7cbad1c807bc2', 'message': 'Add OpenStack-image-import-methods header\n\nAdding OpenStack-image-import-methods header to the image create\nresponse to indicate that glance-direct Image Import method is\navailable.\n\nChange-Id: Ie70abd0737e4ddf52fded941d7abc9d9d1eb285a\n'}, {'number': 9, 'created': '2017-05-05 14:38:33.000000000', 'files': ['glance/api/v2/images.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/1fcf319046e3b55b07c69d111867ce7a94025b95', 'message': 'Add OpenStack-image-import-methods header\n\nAdding OpenStack-image-import-methods header to the image create\nresponse to indicate that glance-direct Image Import method is\navailable.\n\nChange-Id: Ie70abd0737e4ddf52fded941d7abc9d9d1eb285a\n'}]",3,443632,1fcf319046e3b55b07c69d111867ce7a94025b95,35,6,9,5202,,,0,"Add OpenStack-image-import-methods header

Adding OpenStack-image-import-methods header to the image create
response to indicate that glance-direct Image Import method is
available.

Change-Id: Ie70abd0737e4ddf52fded941d7abc9d9d1eb285a
",git fetch https://review.opendev.org/openstack/glance refs/changes/32/443632/9 && git format-patch -1 --stdout FETCH_HEAD,['glance/api/v2/images.py'],1,0351c44cae6b8b7860df97574eb5b435b6ba4e74,feature/image-import," # TODO(jokke): make this configurable when swift-local is implemented # and remove the if statement with the config option. if CONF.enable_image_import == True: import_methods = ""OpenStack-image-import-methods: glance-direct"" response.headerlist.extend([import_methods])",,5,0
openstack%2Fpanko~master~I396674398d61599c0bf9e42077d877661a7d7405,openstack/panko,master,I396674398d61599c0bf9e42077d877661a7d7405,storage: Ensure pymysql is prefered,MERGED,2017-05-25 19:02:27.000000000,2017-05-26 15:55:38.000000000,2017-05-26 15:55:38.000000000,"[{'_account_id': 3}, {'_account_id': 6537}]","[{'number': 1, 'created': '2017-05-25 19:02:27.000000000', 'files': ['panko/storage/impl_sqlalchemy.py'], 'web_link': 'https://opendev.org/openstack/panko/commit/d63184a42ada156ecb20048ab68444bb7a7c27ea', 'message': 'storage: Ensure pymysql is prefered\n\ncopy of Ifc6932701da647e50b7b8180372af1157d168793\n\nChange-Id: I396674398d61599c0bf9e42077d877661a7d7405\n'}]",0,468135,d63184a42ada156ecb20048ab68444bb7a7c27ea,6,2,1,6537,,,0,"storage: Ensure pymysql is prefered

copy of Ifc6932701da647e50b7b8180372af1157d168793

Change-Id: I396674398d61599c0bf9e42077d877661a7d7405
",git fetch https://review.opendev.org/openstack/panko refs/changes/35/468135/1 && git format-patch -1 --stdout FETCH_HEAD,['panko/storage/impl_sqlalchemy.py'],1,d63184a42ada156ecb20048ab68444bb7a7c27ea,pymysql,"from sqlalchemy.engine import url as sqlalchemy_url self._engine_facade = db_session.EngineFacade(self.dress_url(url), **options) @staticmethod def dress_url(url): # If no explicit driver has been set, we default to pymysql if url.startswith(""mysql://""): url = sqlalchemy_url.make_url(url) url.drivername = ""mysql+pymysql"" return str(url) return url"," self._engine_facade = db_session.EngineFacade(url, **options)",12,1
openstack%2Fos-brick~master~Id67324c0ef22287d91b49ae11eda094bf73739a1,openstack/os-brick,master,Id67324c0ef22287d91b49ae11eda094bf73739a1,Stop ignoring H405 hacking rule in tox,MERGED,2017-05-21 21:35:33.000000000,2017-05-26 15:51:23.000000000,2017-05-26 15:51:23.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 12017}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 16595}, {'_account_id': 19852}, {'_account_id': 22248}, {'_account_id': 24502}]","[{'number': 1, 'created': '2017-05-21 21:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/317f4a929ccf006e95445c2f8992f8a55dd7e4d6', 'message': 'Enable H405 hacking rule\n\nThis change is one in the series of changes to\nalign os-brick with cinder rules.\n\nChange-Id: Id67324c0ef22287d91b49ae11eda094bf73739a1\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n'}, {'number': 2, 'created': '2017-05-23 22:46:41.000000000', 'files': ['os_brick/initiator/windows/iscsi.py', 'tools/lintstack.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/remotefs/remotefs.py', 'os_brick/encryptors/base.py', 'os_brick/encryptors/luks.py', 'os_brick/encryptors/cryptsetup.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d9ac24d0d2a831ecb1e87e994da088e56bb0f53f', 'message': ""Stop ignoring H405 hacking rule in tox\n\nThis change is one in the series of changes to\nalign os-brick with Cinder rules.\n\n- H405 'multi line docstring summary not\n        separated with an empty line'\n\nSee following for more information:\n https://github.com/openstack-dev/hacking\n\nChange-Id: Id67324c0ef22287d91b49ae11eda094bf73739a1\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n""}]",0,466553,d9ac24d0d2a831ecb1e87e994da088e56bb0f53f,26,11,2,23942,,,0,"Stop ignoring H405 hacking rule in tox

This change is one in the series of changes to
align os-brick with Cinder rules.

- H405 'multi line docstring summary not
        separated with an empty line'

See following for more information:
 https://github.com/openstack-dev/hacking

Change-Id: Id67324c0ef22287d91b49ae11eda094bf73739a1
Signed-off-by: Maciej Kucia <maciej@kucia.net>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/53/466553/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/windows/iscsi.py', 'tools/lintstack.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/remotefs/remotefs.py', 'os_brick/encryptors/base.py', 'os_brick/encryptors/luks.py', 'os_brick/encryptors/cryptsetup.py', 'tox.ini']",8,317f4a929ccf006e95445c2f8992f8a55dd7e4d6,hacking,"ignore = E251,H904","ignore = E251,H405,H904",18,16
openstack%2Fkolla~master~I92ed4aa3bded0803cb2e7076cefe776d437d8b8d,openstack/kolla,master,I92ed4aa3bded0803cb2e7076cefe776d437d8b8d,pin mariadb version for rpm distros,MERGED,2017-05-23 18:56:01.000000000,2017-05-26 15:48:33.000000000,2017-05-24 19:32:53.000000000,"[{'_account_id': 3}, {'_account_id': 11604}, {'_account_id': 13642}, {'_account_id': 19316}, {'_account_id': 24072}]","[{'number': 1, 'created': '2017-05-23 18:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cd4e0d796712880796d0be9b25139f55da960334', 'message': 'fixed mariadb package name for yum distors\n\n- This change changes form MariaDB-Galera-server\n  to MariaDB-server\n- This change enables https be default for the\n  mariadb repo to avoid 404 error. see:\n  https://access.redhat.com/articles/1320623\n\nChange-Id: I92ed4aa3bded0803cb2e7076cefe776d437d8b8d\n'}, {'number': 2, 'created': '2017-05-24 12:15:33.000000000', 'files': ['docker/base/MariaDB.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/331632f879ae9562df84ba499050e1e042196368', 'message': 'pin mariadb version for rpm distros\n\n- This change changes pins to 10.0.30 as\n  MariaDB-Galara-server is not available on\n  the latest z stream of 10.0\n- This change enables https be default for the\n  mariadb repo to avoid 404 error. see:\n  https://access.redhat.com/articles/1320623\n\nChange-Id: I92ed4aa3bded0803cb2e7076cefe776d437d8b8d\n'}]",0,467360,331632f879ae9562df84ba499050e1e042196368,23,5,2,11604,,,0,"pin mariadb version for rpm distros

- This change changes pins to 10.0.30 as
  MariaDB-Galara-server is not available on
  the latest z stream of 10.0
- This change enables https be default for the
  mariadb repo to avoid 404 error. see:
  https://access.redhat.com/articles/1320623

Change-Id: I92ed4aa3bded0803cb2e7076cefe776d437d8b8d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/60/467360/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/mariadb/Dockerfile.j2', 'docker/base/MariaDB.repo']",2,cd4e0d796712880796d0be9b25139f55da960334,fix-mariadb-server-name,baseurl = https://yum.mariadb.org/10.0/centos7-amd64 gpgkey = https://yum.mariadb.org/RPM-GPG-KEY-MariaDB,baseurl = http://yum.mariadb.org/10.0/centos7-amd64 gpgkey = http://yum.mariadb.org/RPM-GPG-KEY-MariaDB,4,4
openstack%2Fos-brick~master~I392d5ed179ddf1fd644cb3b53436f2aee2f47cbe,openstack/os-brick,master,I392d5ed179ddf1fd644cb3b53436f2aee2f47cbe,Stop ignoring E265 pycodestyle rule in tox,MERGED,2017-05-21 21:35:33.000000000,2017-05-26 15:46:24.000000000,2017-05-26 15:46:24.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 16595}, {'_account_id': 19852}, {'_account_id': 22248}, {'_account_id': 24502}]","[{'number': 1, 'created': '2017-05-21 21:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/31764696652af35dedbfee76c193a49fce31abb0', 'message': 'Enable E265 hacking rule\n\nThis change is one in the series of changes to\nalign os-brick with cinder rules.\n\nChange-Id: I392d5ed179ddf1fd644cb3b53436f2aee2f47cbe\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n'}, {'number': 2, 'created': '2017-05-23 22:46:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/211bda0a042c08dd84136d9f42410f8f75a84c00', 'message': 'Stop ignoring E265 pycodestyle rule in tox\n\nThis change is one in the series of changes to\nalign os-brick with Cinder rules.\n\n- E265 \'block comment should start with ""# "" \'\n\nSee following for more information:\n https://github.com/PyCQA/pycodestyle\n\nChange-Id: I392d5ed179ddf1fd644cb3b53436f2aee2f47cbe\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n'}]",0,466552,211bda0a042c08dd84136d9f42410f8f75a84c00,25,10,2,23942,,,0,"Stop ignoring E265 pycodestyle rule in tox

This change is one in the series of changes to
align os-brick with Cinder rules.

- E265 'block comment should start with ""# "" '

See following for more information:
 https://github.com/PyCQA/pycodestyle

Change-Id: I392d5ed179ddf1fd644cb3b53436f2aee2f47cbe
Signed-off-by: Maciej Kucia <maciej@kucia.net>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/52/466552/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,31764696652af35dedbfee76c193a49fce31abb0,hacking,"ignore = E251,H405,H904","# E265 block comment should start with '# ' # reason: no improvement in readability #ignore = E251,E265,H405,H904",1,4
openstack%2Fglance~master~I5e96fc315e9e7db85ccf0ebb27ea56b9ef0ed589,openstack/glance,master,I5e96fc315e9e7db85ccf0ebb27ea56b9ef0ed589,WIP:Add api_image_import flow,MERGED,2016-10-28 12:20:19.000000000,2017-05-26 15:45:27.000000000,2017-05-26 15:45:27.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 6159}, {'_account_id': 12807}, {'_account_id': 21722}]","[{'number': 1, 'created': '2016-10-28 12:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/da46c4c4063b4c4e0deb6807b0b329ef7e89115c', 'message': 'WIP:Add api_image_import flow\n\nApi image import is Glance task flow used by the refactored image\nimport work to enable uploading image data to backends and providing\nmechanism to provide separate items for validation etc.\n\nStill missing tests.\n\nChange-Id: I5e96fc315e9e7db85ccf0ebb27ea56b9ef0ed589\n'}, {'number': 2, 'created': '2017-03-09 13:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ec5149a97ebeed9bc31193c372075c7f44dc86f2', 'message': 'WIP:Add api_image_import flow\n\nApi image import is Glance task flow used by the refactored image\nimport work to enable uploading image data to backends and providing\nmechanism to provide separate items for validation etc.\n\nStill missing tests.\n\nChange-Id: I5e96fc315e9e7db85ccf0ebb27ea56b9ef0ed589\n'}, {'number': 3, 'created': '2017-03-09 16:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/57e0cc7cc9772759cc13732e28af2c211f6344d8', 'message': 'WIP:Add api_image_import flow\n\nApi image import is Glance task flow used by the refactored image\nimport work to enable uploading image data to backends and providing\nmechanism to provide separate items for validation etc.\n\nStill missing tests.\n\nChange-Id: I5e96fc315e9e7db85ccf0ebb27ea56b9ef0ed589\n'}, {'number': 4, 'created': '2017-03-09 16:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bb0acf1278b3e9cfe9ff4b0eba094a73f4534512', 'message': 'WIP:Add api_image_import flow\n\nApi image import is Glance task flow used by the refactored image\nimport work to enable uploading image data to backends and providing\nmechanism to provide separate items for validation etc.\n\nStill missing tests.\n\nChange-Id: I5e96fc315e9e7db85ccf0ebb27ea56b9ef0ed589\n'}, {'number': 5, 'created': '2017-03-10 12:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/530336b1983a2a828c77a03fdc1d730a87bd7ade', 'message': 'WIP:Add api_image_import flow\n\nApi image import is Glance task flow used by the refactored image\nimport work to enable uploading image data to backends and providing\nmechanism to provide separate items for validation etc.\n\nStill missing tests.\n\nChange-Id: I5e96fc315e9e7db85ccf0ebb27ea56b9ef0ed589\n'}, {'number': 6, 'created': '2017-04-06 13:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0787871228817bb8403292a39bfe8933d938a679', 'message': 'WIP:Add api_image_import flow\n\nApi image import is Glance task flow used by the refactored image\nimport work to enable uploading image data to backends and providing\nmechanism to provide separate items for validation etc.\n\nStill missing tests.\n\nChange-Id: I5e96fc315e9e7db85ccf0ebb27ea56b9ef0ed589\n'}, {'number': 7, 'created': '2017-04-19 12:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2b80e0d3a6a53e64c4a196b38bf4d7fc03ab43b8', 'message': 'WIP:Add api_image_import flow\n\nApi image import is Glance task flow used by the refactored image\nimport work to enable uploading image data to backends and providing\nmechanism to provide separate items for validation etc.\n\nStill missing tests.\n\nChange-Id: I5e96fc315e9e7db85ccf0ebb27ea56b9ef0ed589\n'}, {'number': 8, 'created': '2017-04-27 13:30:02.000000000', 'files': ['glance/async/flows/api_image_import.py', 'glance/domain/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/fe016e727360f51bd05b0000759f541c7e5ff13c', 'message': 'WIP:Add api_image_import flow\n\nApi image import is Glance task flow used by the refactored image\nimport work to enable uploading image data to backends and providing\nmechanism to provide separate items for validation etc.\n\nStill missing tests.\n\nChange-Id: I5e96fc315e9e7db85ccf0ebb27ea56b9ef0ed589\n'}]",13,391442,fe016e727360f51bd05b0000759f541c7e5ff13c,30,6,8,5202,,,0,"WIP:Add api_image_import flow

Api image import is Glance task flow used by the refactored image
import work to enable uploading image data to backends and providing
mechanism to provide separate items for validation etc.

Still missing tests.

Change-Id: I5e96fc315e9e7db85ccf0ebb27ea56b9ef0ed589
",git fetch https://review.opendev.org/openstack/glance refs/changes/42/391442/2 && git format-patch -1 --stdout FETCH_HEAD,['glance/async/flows/api_image_import.py'],1,da46c4c4063b4c4e0deb6807b0b329ef7e89115c,feature/image-import,"# Copyright 2015 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import glance_store as store_api from glance_store import backend from oslo_config import cfg from oslo_log import log as logging from oslo_utils import encodeutils import six from taskflow.patterns import linear_flow as lf from taskflow import retry from taskflow import task from glance.common import exception from glance.common.scripts.image_import import main as image_import from glance.common.scripts import utils as script_utils from glance.i18n import _, _LE, _LI LOG = logging.getLogger(__name__) CONF = cfg.CONF # TODO(jokke): We should refactor the task implementations so that we do not # need to duplicate what we have already for example in base_import.py. class _DeleteFromFS(task.Task): def __init__(self, task_id, task_type): self.task_id = task_id self.task_type = task_type super(_DeleteFromFS, self).__init__( name='%s-DeleteFromFS-%s' % (task_type, task_id)) def execute(self, file_path): """"""Remove file from the backend :param file_path: path to the file being deleted """""" store_api.delete_from_backend(file_path) class _VerifyStaging(task.Task): # NOTE(jokke): This could be also for example ""staging_path"" but to # keep this compatible with other flows we want to stay consistent # with base_import default_provides = 'file_path' def __init__(self, task_id, task_type, task_repo, uri): self.task_id = task_id self.task_type = task_type self.task_repo = task_repo self.uri = uri super(_VerifyStaging, self).__init__( name='%s-ConfigureStaging-%s' % (task_type, task_id)) # NOTE(jokke): If we want to use other than 'file' store in the # future, this is one thing that needs to change. try: uri.index('file:///', 0) except ValueError: msg = (_(""%(task_id)s of %(task_type)s not configured "" ""properly. Value of node_staging_uri must be "" "" in format 'file://<absolute-path>'"") % {'task_id': self.task_id, 'task_type': self.task_type}) raise exception.BadTaskConfiguration(msg) # NOTE(jokke): We really don't need the store for anything but # verifying that we actually can build the store will allow us to # fail the flow early with clear message why that happens. self._build_store() def _build_store(self): # NOTE(jokke): If we want to use some other store for staging, we can # implement the logic more general here. For now this should do. # NOTE(flaper87): Due to the nice glance_store api (#sarcasm), we're # forced to build our own config object, register the required options # (and by required I mean *ALL* of them, even the ones we don't want), # and create our own store instance by calling a private function. # This is certainly unfortunate but it's the best we can do until the # glance_store refactor is done. A good thing is that glance_store is # under our team's management and it gates on Glance so changes to # this API will (should?) break task's tests. conf = cfg.ConfigOpts() backend.register_opts(conf) conf.set_override('filesystem_store_datadir', CONF.node_staging_uri[7:], group='glance_store', enforce_type=True) # NOTE(flaper87): Do not even try to judge me for this... :( # With the glance_store refactor, this code will change, until # that happens, we don't have a better option and this is the # least worst one, IMHO. store = backend._load_store(conf, 'file') try: store.configure() except AttributeError: msg = (_(""%(task_id)s of %(task_type)s not configured "" ""properly. Could not load the filesystem store"") % {'task_id': self.task_id, 'task_type': self.task_type}) raise exception.BadTaskConfiguration(msg) def execute(self): """"""Test the backend store and return the 'file_path'"""""" return self.uri class _ImportToStore(task.Task): def __init__(self, task_id, task_type, image_repo, uri): self.task_id = task_id self.task_type = task_type self.image_repo = image_repo self.uri = uri super(_ImportToStore, self).__init__( name='%s-ImportToStore-%s' % (task_type, task_id)) def execute(self, image_id, file_path=None): """"""Bringing the imported image to back end store :param image_id: Glance Image ID :param file_path: path to the image file """""" # NOTE(flaper87): There are a couple of interesting bits in the # interaction between this task and the `_ImportToFS` one. I'll try # to cover them in this comment. # # NOTE(jokke): We do not have _ImportToFS currently in this flow but # I will leave Flavio's comments here as we will utilize it or fork # of it after MVP. # # NOTE(flaper87): # `_ImportToFS` downloads the image to a dedicated `work_dir` which # needs to be configured in advance (please refer to the config option # docs for more info). The motivation behind this is also explained in # the `_ImportToFS.execute` method. # # Due to the fact that we have an `_ImportToFS` task which downloads # the image data already, we need to be as smart as we can in this task # to avoid downloading the data several times and reducing the copy or # write times. There are several scenarios where the interaction # between this task and `_ImportToFS` could be improved. All these # scenarios assume the `_ImportToFS` task has been executed before # and/or in a more abstract scenario, that `file_path` is being # provided. # # Scenario 1: FS Store is Remote, introspection enabled, # conversion disabled # # In this scenario, the user would benefit from having the scratch path # being the same path as the fs store. Only one write would happen and # an extra read will happen in order to introspect the image. Note that # this read is just for the image headers and not the entire file. # # Scenario 2: FS Store is remote, introspection enabled, # conversion enabled # # In this scenario, the user would benefit from having a *local* store # into which the image can be converted. This will require downloading # the image locally, converting it and then copying the converted image # to the remote store. # # Scenario 3: FS Store is local, introspection enabled, # conversion disabled # Scenario 4: FS Store is local, introspection enabled, # conversion enabled # # In both these scenarios the user shouldn't care if the FS # store path and the work dir are the same, therefore probably # benefit, about the scratch path and the FS store being the # same from a performance perspective. Space wise, regardless # of the scenario, the user will have to account for it in # advance. # # Lets get to it and identify the different scenarios in the # implementation image = self.image_repo.get(image_id) image.status = 'saving' self.image_repo.save(image) # NOTE(flaper87): Let's dance... and fall # # Unfortunatelly, because of the way our domain layers work and # the checks done in the FS store, we can't simply rename the file # and set the location. To do that, we'd have to duplicate the logic # of every and each of the domain factories (quota, location, etc) # and we'd also need to hack the FS store to prevent it from raising # a ""duplication path"" error. I'd rather have this task copying the # image bits one more time than duplicating all that logic. # # Since I don't think this should be the definitive solution, I'm # leaving the code below as a reference for what should happen here # once the FS store and domain code will be able to handle this case. # # if file_path is None: # image_import.set_image_data(image, self.uri, None) # return # NOTE(flaper87): Don't assume the image was stored in the # work_dir. Think in the case this path was provided by another task. # Also, lets try to neither assume things nor create ""logic"" # dependencies between this task and `_ImportToFS` # # base_path = os.path.dirname(file_path.split(""file://"")[-1]) # NOTE(flaper87): Hopefully just scenarios #3 and #4. I say # hopefully because nothing prevents the user to use the same # FS store path as a work dir # # image_path = os.path.join(base_path, image_id) # # if (base_path == CONF.glance_store.filesystem_store_datadir or # base_path in CONF.glance_store.filesystem_store_datadirs): # os.rename(file_path, image_path) # # image_import.set_image_data(image, image_path, None) # NOTE(jokke): The different options here are kind of pointless as we # will need the file path anyways for our delete workflow for now. # For future proofing keeping this as is. image_import.set_image_data(image, file_path or self.uri, self.task_id) # NOTE(flaper87): We need to save the image again after the locations # have been set in the image. self.image_repo.save(image) class _SaveImage(task.Task): def __init__(self, task_id, task_type, image_repo): self.task_id = task_id self.task_type = task_type self.image_repo = image_repo super(_SaveImage, self).__init__( name='%s-SaveImage-%s' % (task_type, task_id)) def execute(self, image_id): """"""Transition image status to active :param image_id: Glance Image ID """""" new_image = self.image_repo.get(image_id) if new_image.status == 'saving': # NOTE(flaper87): THIS IS WRONG! # we should be doing atomic updates to avoid # race conditions. This happens in other places # too. new_image.status = 'active' self.image_repo.save(new_image) class _CompleteTask(task.Task): def __init__(self, task_id, task_type, task_repo): self.task_id = task_id self.task_type = task_type self.task_repo = task_repo super(_CompleteTask, self).__init__( name='%s-CompleteTask-%s' % (task_type, task_id)) def execute(self, image_id): """"""Finishing the task flow :param image_id: Glance Image ID """""" task = script_utils.get_task(self.task_repo, self.task_id) if task is None: return try: task.succeed({'image_id': image_id}) except Exception as e: # Note: The message string contains Error in it to indicate # in the task.message that it's a error message for the user. # TODO(nikhil): need to bring back save_and_reraise_exception when # necessary log_msg = _LE(""Task ID %(task_id)s failed. Error: %(exc_type)s: "" ""%(e)s"") LOG.exception(log_msg, {'exc_type': six.text_type(type(e)), 'e': encodeutils.exception_to_unicode(e), 'task_id': task.task_id}) err_msg = _(""Error: %(exc_type)s: %(e)s"") task.fail(err_msg % {'exc_type': six.text_type(type(e)), 'e': encodeutils.exception_to_unicode(e)}) finally: self.task_repo.save(task) LOG.info(_LI(""%(task_id)s of %(task_type)s completed""), {'task_id': self.task_id, 'task_type': self.task_type}) def get_flow(**kwargs): """"""Return task flow :param task_id: Task ID :param task_type: Type of the task :param task_repo: Task repo :param image_repo: Image repository used :param image_id: ID of the Image to be processed :param uri: uri for the image file """""" task_id = kwargs.get('task_id') task_type = kwargs.get('task_type') task_repo = kwargs.get('task_repo') image_repo = kwargs.get('image_repo') image_id = kwargs.get('image_id') uri = kwargs.get('uri') if not uri: separator = '' if not CONF.node_staging_uri.endsWith('/'): separator = '/' uri = separator.join((CONF.node_staging_uri, str(image_id))) flow = lf.flow(task_type, retry=retry.AlwaysRevert()) flow.add(_VerifyStaging(task_id, task_type, uri)) # TODO(jokke): For the pluggable tasks like image verification or # image conversion we need to implement the plugin logic here. import_to_store = _ImportToStore(task_id, task_type, image_repo, uri, rebind_args={'image_id': image_id}) flow.add(import_to_store) delete_task = lf.Flow(task_type).add(_DeleteFromFS(task_id, task_type)) flow.add(delete_task) save_task = _SaveImage(task_id, task_type, image_repo, rebind_args={'image_id': image_id}) flow.add(save_task) complete_task = _CompleteTask(task_id, task_type, task_repo, rebind_args={'image_id': image_id}) flow.add(complete_task) return flow ",,362,0
openstack%2Ftripleo-heat-templates~master~I5e6665703e859dc1ec6b60dece70f858c9afaf66,openstack/tripleo-heat-templates,master,I5e6665703e859dc1ec6b60dece70f858c9afaf66,Store role_data in an OS::Heat::Value resource,MERGED,2017-05-17 08:07:27.000000000,2017-05-26 15:41:51.000000000,2017-05-26 15:41:51.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 6928}, {'_account_id': 8042}, {'_account_id': 18575}]","[{'number': 1, 'created': '2017-05-17 08:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1aef1719b8ca5f1a48c71b6e773b85349468885f', 'message': 'Store role_data in an OS::Heat::Value resource\n\nLooking up role_data is very slow, particularly when referencing the\nRoleData output, as it re-resolves every output for all the (many) nested\nstacks in the *ResourceChain resources.\n\nThere is work ongoing to optimize this in heat, but this approach improves\nperformance considerably (my local output-show for RoleData is 10x faster)\nso we can consider including RoleData in the tripleo dynamic ansible inventory,\nwhich may be needed for validations and minor updates in future.\n\nChange-Id: I5e6665703e859dc1ec6b60dece70f858c9afaf66\n'}, {'number': 2, 'created': '2017-05-17 13:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9c80a2f95434c5b85309d5ff4a13c2ccaa781c9d', 'message': 'Store role_data in an OS::Heat::Value resource\n\nLooking up role_data is very slow, particularly when referencing the\nRoleData output, as it re-resolves every output for all the (many) nested\nstacks in the *ResourceChain resources.\n\nThere is work ongoing to optimize this in heat, but this approach improves\nperformance considerably (my local output-show for RoleData is 10x faster)\nso we can consider including RoleData in the tripleo dynamic ansible inventory,\nwhich may be needed for validations and minor updates in future.\n\nChange-Id: I5e6665703e859dc1ec6b60dece70f858c9afaf66\n'}, {'number': 3, 'created': '2017-05-17 15:52:06.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f60904436d27a9f769944b272867ee38da43038c', 'message': 'Store role_data in an OS::Heat::Value resource\n\nLooking up role_data is very slow, particularly when referencing the\nRoleData output, as it re-resolves every output for all the (many) nested\nstacks in the *ResourceChain resources.\n\nThere is work ongoing to optimize this in heat, but this approach improves\nperformance considerably (my local output-show for RoleData is 10x faster)\nso we can consider including RoleData in the tripleo dynamic ansible inventory,\nwhich may be needed for validations and minor updates in future.\n\nChange-Id: I5e6665703e859dc1ec6b60dece70f858c9afaf66\n'}]",3,465449,f60904436d27a9f769944b272867ee38da43038c,26,7,3,4328,,,0,"Store role_data in an OS::Heat::Value resource

Looking up role_data is very slow, particularly when referencing the
RoleData output, as it re-resolves every output for all the (many) nested
stacks in the *ResourceChain resources.

There is work ongoing to optimize this in heat, but this approach improves
performance considerably (my local output-show for RoleData is 10x faster)
so we can consider including RoleData in the tripleo dynamic ansible inventory,
which may be needed for validations and minor updates in future.

Change-Id: I5e6665703e859dc1ec6b60dece70f858c9afaf66
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/465449/2 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,1aef1719b8ca5f1a48c71b6e773b85349468885f,faster_outputs," # Lookup of role_data via heat outputs is slow, so workaround this by caching # the value in an OS::Heat::Value resource {{role.name}}ServiceChainRoleData: type: OS::Heat::Value properties: value: {get_attr: [{{role.name}}ServiceChain, role_data]} data: {get_attr: [{{role.name}}ServiceChainRoleData, value, service_names]} - get_attr: [{{role.name}}ServiceChainRoleData, value, config_settings] MonitoringSubscriptions: {get_attr: [{{role.name}}ServiceChainRoleData, value, monitoring_subscriptions]} ServiceMetadataSettings: {get_attr: [{{role.name}}ServiceChainRoleData, value, service_metadata_settings]} - {get_attr: [{{role.name}}ServiceChainRoleData, value, logging_groups]} - {get_attr: [{{role.name}}ServiceChainRoleData, value, logging_sources]} {{role.name}}: {get_attr: [{{role.name}}ServiceChainRoleData, value]} {{role.name}}: {get_attr: [{{role.name}}ServiceChainRoleData, value]}"," data: {get_attr: [{{role.name}}ServiceChain, role_data, service_names]} - get_attr: [{{role.name}}ServiceChain, role_data, config_settings] MonitoringSubscriptions: {get_attr: [{{role.name}}ServiceChain, role_data, monitoring_subscriptions]} ServiceMetadataSettings: {get_attr: [{{role.name}}ServiceChain, role_data, service_metadata_settings]} - {get_attr: [{{role.name}}ServiceChain, role_data, logging_groups]} - {get_attr: [{{role.name}}ServiceChain, role_data, logging_sources]} {{role.name}}: {get_attr: [{{role.name}}ServiceChain, role_data]} {{role.name}}: {get_attr: [{{role.name}}ServiceChain, role_data]}",15,8
openstack%2Ftripleo-docs~master~Iacc7e320014f12feec695ab118fa95f4c2d2e387,openstack/tripleo-docs,master,Iacc7e320014f12feec695ab118fa95f4c2d2e387,First draft of TripleO Release Management document,MERGED,2017-04-25 15:37:44.000000000,2017-05-26 15:38:48.000000000,2017-05-26 15:38:48.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4978}, {'_account_id': 7144}, {'_account_id': 10112}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 16907}]","[{'number': 1, 'created': '2017-04-25 15:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/2ed97772a10223b35448146ed69805c8f6c108f2', 'message': 'First draft of TripleO Release Management document\n\nThis is a first draft, please review.\n\nChange-Id: Iacc7e320014f12feec695ab118fa95f4c2d2e387\n'}, {'number': 2, 'created': '2017-04-25 15:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4c2ed597a2273a416e2e49a19ce986f15e046267', 'message': 'First draft of TripleO Release Management document\n\nThis is a first draft, please review.\n\nChange-Id: Iacc7e320014f12feec695ab118fa95f4c2d2e387\n'}, {'number': 3, 'created': '2017-05-02 12:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/66f08b6c65aff0267617771fca866506a061877f', 'message': 'First draft of TripleO Release Management document\n\nChange-Id: Iacc7e320014f12feec695ab118fa95f4c2d2e387\n'}, {'number': 4, 'created': '2017-05-03 19:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b8108df0529ef7d7fec965954262124f0fa8ac8b', 'message': 'First draft of TripleO Release Management document\n\nChange-Id: Iacc7e320014f12feec695ab118fa95f4c2d2e387\n'}, {'number': 5, 'created': '2017-05-05 20:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/24de81c7478568b38aa30ca677e953b5e5fd05a8', 'message': 'First draft of TripleO Release Management document\n\nChange-Id: Iacc7e320014f12feec695ab118fa95f4c2d2e387\n'}, {'number': 6, 'created': '2017-05-23 20:25:39.000000000', 'files': ['doc/source/developer/release.rst', 'doc/source/developer/developer.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/fbf640bfdda92ea3c11b4cd389ab2916935fb108', 'message': 'First draft of TripleO Release Management document\n\nChange-Id: Iacc7e320014f12feec695ab118fa95f4c2d2e387\n'}]",19,459764,fbf640bfdda92ea3c11b4cd389ab2916935fb108,34,8,6,3153,,,0,"First draft of TripleO Release Management document

Change-Id: Iacc7e320014f12feec695ab118fa95f4c2d2e387
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/64/459764/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/developer/release.rst', 'doc/source/developer/developer.rst']",2,2ed97772a10223b35448146ed69805c8f6c108f2,release, release,,98,0
openstack%2Ftripleo-quickstart~master~Id022e57dfdffbabbf78ba9deb4481d2815e9ea66,openstack/tripleo-quickstart,master,Id022e57dfdffbabbf78ba9deb4481d2815e9ea66,Disable telemetry services in featureset001,MERGED,2017-05-25 13:48:27.000000000,2017-05-26 15:35:55.000000000,2017-05-26 15:35:55.000000000,"[{'_account_id': 3}, {'_account_id': 8652}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}]","[{'number': 1, 'created': '2017-05-25 13:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/36ea8224234efe4094214011b70aa5f2cb8ee04b', 'message': 'Disable telemetry services in featureset001\n\nCurrently all of our jobs using this featureset fail due to OOM\nerrors. By disabling telemetry services, we can free up a large\nchunk of memory on the overcloud nodes, allowing these jobs to pass\nagain.\n\nChange-Id: Id022e57dfdffbabbf78ba9deb4481d2815e9ea66\nDepends-On: Idefe9f0de47c5b0f29b7326642d697ed179e2eb8\nDepends-On: I26b340ba13382df55b5ce178b208cef6bb3f2e75\n'}, {'number': 2, 'created': '2017-05-25 13:49:39.000000000', 'files': ['config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c8268da9b869a2374fb3b02a2b54a60b563eed65', 'message': 'Disable telemetry services in featureset001\n\nCurrently all of our jobs using this featureset fail due to OOM\nerrors. By disabling telemetry services, we can free up a large\nchunk of memory on the overcloud nodes, allowing these jobs to pass\nagain.\n\nChange-Id: Id022e57dfdffbabbf78ba9deb4481d2815e9ea66\nDepends-On: Idefe9f0de47c5b0f29b7326642d697ed179e2eb8\nDepends-On: I26b340ba13382df55b5ce178b208cef6bb3f2e75\n'}]",0,468039,c8268da9b869a2374fb3b02a2b54a60b563eed65,17,5,2,12715,,,0,"Disable telemetry services in featureset001

Currently all of our jobs using this featureset fail due to OOM
errors. By disabling telemetry services, we can free up a large
chunk of memory on the overcloud nodes, allowing these jobs to pass
again.

Change-Id: Id022e57dfdffbabbf78ba9deb4481d2815e9ea66
Depends-On: Idefe9f0de47c5b0f29b7326642d697ed179e2eb8
Depends-On: I26b340ba13382df55b5ce178b208cef6bb3f2e75
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/39/468039/1 && git format-patch -1 --stdout FETCH_HEAD,"['quickstart-extras-requirements.txt', 'config/general_config/featureset001.yml']",2,36ea8224234efe4094214011b70aa5f2cb8ee04b,bug/1680195,"# This featureset is extremely resource intensive, so we disable telemetry # in order to reduce the overall memory footprint telemetry_args: >- -e {{ overcloud_templates_path }}/environments/disable-telemetry.yaml ",,6,1
openstack%2Fcinder~master~I6c2ea07b0bfc5852b28e44989406cc10eb972e26,openstack/cinder,master,I6c2ea07b0bfc5852b28e44989406cc10eb972e26,Support 'LIKE' operator to filter resource,MERGED,2017-03-14 11:31:47.000000000,2017-05-26 15:34:39.000000000,2017-05-23 19:11:13.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15054}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16258}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19339}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-03-14 11:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/979550e027f2d3d3a66aebd1239ea4b74a13f714', 'message': '[Draft] Support regex based filter\n\nUse decorator to wrap original filter.\n\nChange-Id: I6c2ea07b0bfc5852b28e44989406cc10eb972e26\n'}, {'number': 2, 'created': '2017-03-15 08:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f77fe5788a31cae4c790f39b2c40b5058c16783', 'message': ""[WIP] Use 'LIKE' operator to filter resource at some columns\n\nUse decorator to wrap original filter.\n\nPartial-Implements: blueprint support-regexp-based-query\nChange-Id: I6c2ea07b0bfc5852b28e44989406cc10eb972e26\n""}, {'number': 3, 'created': '2017-03-17 02:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b9a9eeda008bdb395327a47c0265ce537696e891', 'message': ""[WIP] Use 'LIKE' operator to filter resource at some columns\n\nUse decorator to wrap original filter.\n\nPartial-Implements: blueprint support-regexp-based-query\nChange-Id: I6c2ea07b0bfc5852b28e44989406cc10eb972e26\n""}, {'number': 4, 'created': '2017-03-27 02:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/00ce5e737608dfa48f97ed0e2f957790904487d5', 'message': ""Use 'LIKE' operator to filter some resource\n\nAdd 'LIKE' operator support by using decorator to wrap\noriginal filter. Supported in these new APIs and\nfilter keys:\n\t1. list-volume (``name``, ``description``)\n\t2. list-snapshot (``name``, ``description``)\n\t3. list-volume-type (``name``, ``description``)\n\t4. list-group-type (``name``, ``description``)\n\t5. list-backup (``name``, ``description``)\n\t6. list-group (``name``, ``description``)\n\nAPIImpact\nDocImpact\nPartial-Implements: blueprint support-regexp-based-query\n\nChange-Id: I6c2ea07b0bfc5852b28e44989406cc10eb972e26\n""}, {'number': 5, 'created': '2017-03-27 03:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/59c73faf3b7d86d10215456704c68b614429867a', 'message': ""Use 'LIKE' operator to filter some resource\n\nAdd 'LIKE' operator support by using decorator to wrap\noriginal filter. Supported in these new APIs and\nfilter keys:\n\t1. list-volume (``name``, ``description``)\n\t2. list-snapshot (``name``, ``description``)\n\t3. list-volume-type (``name``, ``description``)\n\t4. list-group-type (``name``, ``description``)\n\t5. list-backup (``name``, ``description``)\n\t6. list-group (``name``, ``description``)\n\t7. list-group-snapshot (``name``, ``description``)\n\nAPIImpact\nDocImpact\nPartial-Implements: blueprint support-regexp-based-query\n\nChange-Id: I6c2ea07b0bfc5852b28e44989406cc10eb972e26\n""}, {'number': 6, 'created': '2017-04-19 06:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/69bba68bffe4f01ab427d17b72cc5ef885f5dde4', 'message': ""Use 'LIKE' operator to filter some resource\n\nAdded 'LIKE' operator support by using decorator to wrap\noriginal filters. This feature is based on generalized\nresource filtering. And these resource below are\nadded supported.\n\n1. volume\n2. snapshot\n3. backup\n4. group\n5. group-snapshot\n6. attachment\n7. message\n\nDepends-On: 1e661e6ee19e9e2e0374c672d339af6328c53137\n\nAPIImpact\nDocImpact\nPartial-Implements: blueprint support-regexp-based-query\n\nChange-Id: I6c2ea07b0bfc5852b28e44989406cc10eb972e26\n""}, {'number': 7, 'created': '2017-04-25 02:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b2d5459d9342b7ae340f9659c5d7ab165db13ac7', 'message': ""Support 'LIKE' operator to filter resource\n\nAdded 'LIKE' operator support by using decorator to wrap\noriginal filters. This feature is based on generalized\nresource filtering. And these resource below are\nadded supported.\n\n1. volume\n2. snapshot\n3. backup\n4. group\n5. group-snapshot\n6. attachment\n7. message\n\nDepends-On: 1e661e6ee19e9e2e0374c672d339af6328c53137\n\nAPIImpact\nDocImpact\nPartial-Implements: blueprint support-regexp-based-query\n\nChange-Id: I6c2ea07b0bfc5852b28e44989406cc10eb972e26\n""}, {'number': 8, 'created': '2017-04-26 07:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/80f4658828fa0770d8558c59042e5c1b2b382959', 'message': ""Support 'LIKE' operator to filter resource\n\nAdded 'LIKE' operator support by using decorator to wrap\noriginal filters. This feature is based on generalized\nresource filtering. And these resource below are\nadded supported.\n\n1. volume\n2. snapshot\n3. backup\n4. group\n5. group-snapshot\n6. attachment\n7. message\n\nDepends-On: 1e661e6ee19e9e2e0374c672d339af6328c53137\n\nAPIImpact\nDocImpact\nPartial-Implements: blueprint support-regexp-based-query\n\nChange-Id: I6c2ea07b0bfc5852b28e44989406cc10eb972e26\n""}, {'number': 9, 'created': '2017-05-02 05:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/345bd651e0594e795d4d6cc0204dfb597234eaab', 'message': ""Support 'LIKE' operator to filter resource\n\nAdded 'LIKE' operator support by using decorator to wrap\noriginal filters. This feature is based on generalized\nresource filtering. And these resource below are\nadded supported.\n\n1. volume\n2. snapshot\n3. backup\n4. group\n5. group-snapshot\n6. attachment\n7. message\n\nDepends-On: ff3d41b15abb2915de87830980147be51e5da971\n\nAPIImpact\nDocImpact\nPartial-Implements: blueprint support-regexp-based-query\n\nChange-Id: I6c2ea07b0bfc5852b28e44989406cc10eb972e26\n""}, {'number': 10, 'created': '2017-05-15 02:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d751a143b61f569dd2c7fe3d39df21b27611df6b', 'message': ""Support 'LIKE' operator to filter resource\n\nAdded 'LIKE' operator support by using decorator to wrap\noriginal filters. This feature is based on generalized\nresource filtering. And these resource below are\nadded supported.\n\n1. volume\n2. snapshot\n3. backup\n4. group\n5. group-snapshot\n6. attachment\n7. message\n\nDepends-On: ff3d41b15abb2915de87830980147be51e5da971\n\nAPIImpact\nDocImpact\nPartial-Implements: blueprint support-regexp-based-query\n\nChange-Id: I6c2ea07b0bfc5852b28e44989406cc10eb972e26\n""}, {'number': 11, 'created': '2017-05-16 01:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/292c3f8e3c10760f6199bcf45b713ba5d31b5a68', 'message': ""Support 'LIKE' operator to filter resource\n\nAdded 'LIKE' operator support by using decorator to wrap\noriginal filters. This feature is based on generalized\nresource filtering. And these resource below are\nadded supported.\n\n1. volume\n2. snapshot\n3. backup\n4. group\n5. group-snapshot\n6. attachment\n7. message\n\nDepends-On: ff3d41b15abb2915de87830980147be51e5da971\n\nAPIImpact\nDocImpact\nPartial-Implements: blueprint support-regexp-based-query\n\nChange-Id: I6c2ea07b0bfc5852b28e44989406cc10eb972e26\n""}, {'number': 12, 'created': '2017-05-16 22:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/39cd126cea44ba5a1d82a167c21f11a78e363c74', 'message': ""Support 'LIKE' operator to filter resource\n\nAdded like operator support to filters\nfor the following resources.\n\n1. volume\n2. snapshot\n3. backup\n4. group\n5. group-snapshot\n6. attachment\n7. message\n\nDepends-On: ff3d41b15abb2915de87830980147be51e5da971\n\nAPIImpact\nDocImpact\nPartial-Implements: blueprint support-regexp-based-query\n\nChange-Id: I6c2ea07b0bfc5852b28e44989406cc10eb972e26\n""}, {'number': 13, 'created': '2017-05-20 06:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a1a1e5f40790da7985e1bbe97d29a0b4f9a68925', 'message': ""Support 'LIKE' operator to filter resource\n\nAdded like operator support to filters\nfor the following resources.\n\n1. volume\n2. snapshot\n3. backup\n4. group\n5. group-snapshot\n6. attachment\n7. message\n\nDepends-On: ff3d41b15abb2915de87830980147be51e5da971\n\nAPIImpact\nDocImpact\nPartial-Implements: blueprint support-regexp-based-query\n\nChange-Id: I6c2ea07b0bfc5852b28e44989406cc10eb972e26\n""}, {'number': 14, 'created': '2017-05-22 07:02:02.000000000', 'files': ['cinder/tests/unit/api/v3/test_messages.py', 'cinder/tests/unit/api/v3/test_volumes.py', 'cinder/tests/unit/test_db_api.py', 'cinder/tests/unit/api/v3/test_group_snapshots.py', 'cinder/api/common.py', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/api/v3/group_snapshots.py', 'cinder/db/sqlalchemy/api.py', 'cinder/api/v3/messages.py', 'cinder/tests/unit/api/v3/test_snapshots.py', 'doc/source/man/generalized_filters.rst', 'cinder/tests/unit/api/v3/test_backups.py', 'releasenotes/notes/add-like-filter-support-7d4r78d6de3984dv.yaml', 'cinder/tests/unit/api/v3/test_groups.py', 'cinder/tests/unit/api/v3/test_attachments.py', 'cinder/api/v3/groups.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6df8415411f5166a8682114cb8a972d3b51a47e3', 'message': ""Support 'LIKE' operator to filter resource\n\nAdded like operator support to filters\nfor the following resources.\n\n1. volume\n2. snapshot\n3. backup\n4. group\n5. group-snapshot\n6. attachment\n7. message\n\nDepends-On: ff3d41b15abb2915de87830980147be51e5da971\n\nAPIImpact\nDocImpact\nPartial-Implements: blueprint support-regexp-based-query\n\nChange-Id: I6c2ea07b0bfc5852b28e44989406cc10eb972e26\n""}]",5,445440,6df8415411f5166a8682114cb8a972d3b51a47e3,374,59,14,23083,,,0,"Support 'LIKE' operator to filter resource

Added like operator support to filters
for the following resources.

1. volume
2. snapshot
3. backup
4. group
5. group-snapshot
6. attachment
7. message

Depends-On: ff3d41b15abb2915de87830980147be51e5da971

APIImpact
DocImpact
Partial-Implements: blueprint support-regexp-based-query

Change-Id: I6c2ea07b0bfc5852b28e44989406cc10eb972e26
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/445440/14 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_db_api.py', 'cinder/db/sqlalchemy/api.py']",2,979550e027f2d3d3a66aebd1239ea4b74a13f714,feature/support-regex-based-filter,"def _process_model_regex_filter(model, query, filters): """"""Applies regex expression filtering to a query. :param model: model to apply filters to :param query: query to apply filters to :param filters: dictionary of filters with regex values :returns: the updated query. """""" if query is None: return query def _get_regexp_op_for_connection(db_connection): db_string = db_connection.split(':')[0].split('+')[0] regexp_op_map = { 'postgresql': '~', 'mysql': 'REGEXP', 'sqlite': 'REGEXP' } return regexp_op_map.get(db_string, 'LIKE') db_regexp_op = _get_regexp_op_for_connection(CONF.database.connection) for key in filters: column_attr = getattr(model, key) if 'property' == type(column_attr).__name__: continue value = filters[key] if not isinstance(value, six.string_types): continue if db_regexp_op == 'LIKE': query = query.filter(column_attr.op(db_regexp_op)( u'%' + value + u'%')) else: query = query.filter(column_attr.op(db_regexp_op)( value)) return query def apply_regex_filters(model, columns): def decorator_filters(exact_filters): def _decorator(query, filters): filters = filters.copy() regex_filters = {} for key in filters.keys(): if key in columns: regex_filters[key] = filters.pop(key) query = exact_filters(query, filters) return _process_model_regex_filter(model, query, regex_filters) return _decorator return decorator_filters @apply_regex_filters(model=models.Volume, columns=['display_name', 'display_description'])",,102,0
openstack%2Ftripleo-common~master~I71da40368ce363584bafb831eb5fc20b95fe2714,openstack/tripleo-common,master,I71da40368ce363584bafb831eb5fc20b95fe2714,Move openstack-tripleo-common to mistral base image,MERGED,2017-05-19 13:43:56.000000000,2017-05-26 15:28:15.000000000,2017-05-26 15:28:15.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4571}]","[{'number': 1, 'created': '2017-05-19 13:43:56.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9f3f6539e9a28bcde03c80da26058332cb338f46', 'message': 'Move openstack-tripleo-common to mistral base image\n\nThis is cleaner and supposedly saves a few bits over the total size of\nthe images.\n\nChange-Id: I71da40368ce363584bafb831eb5fc20b95fe2714\n'}]",0,466288,9f3f6539e9a28bcde03c80da26058332cb338f46,8,3,1,13039,,,0,"Move openstack-tripleo-common to mistral base image

This is cleaner and supposedly saves a few bits over the total size of
the images.

Change-Id: I71da40368ce363584bafb831eb5fc20b95fe2714
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/88/466288/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,9f3f6539e9a28bcde03c80da26058332cb338f46,cleanup-overrides,{% set mistral_base_packages_append = ['openstack-tripleo-common'] %}{% set mistral_executor_packages_append = ['openstack-nova-common'] %},"{% set mistral_api_packages_append = ['openstack-tripleo-common'] %} {% set mistral_engine_packages_append = ['openstack-tripleo-common'] %} {% set mistral_executor_packages_append = ['openstack-tripleo-common', 'openstack-nova-common'] %}",2,4
openstack%2Fdiskimage-builder~master~I8a5d62a076a5a50597f2f1df3a8615afba6dadb2,openstack/diskimage-builder,master,I8a5d62a076a5a50597f2f1df3a8615afba6dadb2,Add a more generic tree->graph parser,MERGED,2017-05-17 06:04:18.000000000,2017-05-26 15:27:41.000000000,2017-05-26 15:27:41.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 21741}]","[{'number': 1, 'created': '2017-05-17 06:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/34f57439bf3a92f915c957585f151ad5c224dd63', 'message': 'Start at cleaning up tree/graph config split\n\nThere is too much code duplication with tree_config_to_digraph() with\n*6* undocumented arguments being passed around to recursively\ncalled-functions.\n\nI would like to work on this in a test-driven development method where\nwe are explicitly testing conversion of tree->graph based\nconfigurations.\n\nChange-Id: I8a5d62a076a5a50597f2f1df3a8615afba6dadb2\n'}, {'number': 2, 'created': '2017-05-17 07:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1b7e22a3395d1ccecbb09b89b557c228931e9039', 'message': 'Start at cleaning up tree/graph config split\n\nThere is too much code duplication with tree_config_to_digraph() with\n*6* undocumented arguments being passed around to recursively\ncalled-functions.\n\nI would like to work on this in a test-driven development method where\nwe are explicitly testing conversion of tree->graph based\nconfigurations.\n\nChange-Id: I8a5d62a076a5a50597f2f1df3a8615afba6dadb2\n'}, {'number': 3, 'created': '2017-05-17 09:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/be53845bf3cffafa6eb9b42616fcf3f8b84f7547', 'message': 'Start at cleaning up tree/graph config split\n\nThere is too much code duplication with tree_config_to_digraph() with\n*6* undocumented arguments being passed around to recursively\ncalled-functions.\n\nI would like to work on this in a test-driven development method where\nwe are explicitly testing conversion of tree->graph based\nconfigurations.\n\nChange-Id: I8a5d62a076a5a50597f2f1df3a8615afba6dadb2\n'}, {'number': 4, 'created': '2017-05-17 10:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d6f527e12cd8d19735193b890bb7e2321e26962c', 'message': 'Start at cleaning up tree/graph config split\n\nThere is too much code duplication with tree_config_to_digraph() with\n*6* undocumented arguments being passed around to recursively\ncalled-functions.\n\nI would like to work on this in a test-driven development method where\nwe are explicitly testing conversion of tree->graph based\nconfigurations.\n\nThis adds three increasingly complicated configurations and tests the\ngraph generation.\n\nChange-Id: I8a5d62a076a5a50597f2f1df3a8615afba6dadb2\n'}, {'number': 5, 'created': '2017-05-18 04:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3feeb1052bc57817609718f42386c609fb7ac03e', 'message': 'Start at cleaning up tree/graph config split\n\nThere is too much code duplication with tree_config_to_digraph() with\n*6* undocumented arguments being passed around to recursively\ncalled-functions.\n\nI would like to work on this in a test-driven development method where\nwe are explicitly testing conversion of tree->graph based\nconfigurations.\n\nThis adds three increasingly complicated configurations and tests the\ngraph generation.\n\nChange-Id: I8a5d62a076a5a50597f2f1df3a8615afba6dadb2\n'}, {'number': 6, 'created': '2017-05-18 06:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/60beb9e8be67ef907598dc501cd82eea131e98cc', 'message': 'Start at cleaning up tree/graph config split\n\nThere is too much code duplication with tree_config_to_digraph() with\n*6* undocumented arguments being passed around to recursively\ncalled-functions.\n\nI would like to work on this in a test-driven development method where\nwe are explicitly testing conversion of tree->graph based\nconfigurations.\n\nThis adds three increasingly complicated configurations and tests the\ngraph generation.\n\nChange-Id: I8a5d62a076a5a50597f2f1df3a8615afba6dadb2\n'}, {'number': 7, 'created': '2017-05-18 10:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/54436aa9b18e903f6709a79682f98df71a898e2a', 'message': 'Start at cleaning up tree/graph config split\n\nThere is too much code duplication with tree_config_to_digraph() with\n*6* undocumented arguments being passed around to recursively\ncalled-functions.\n\nI would like to work on this in a test-driven development method where\nwe are explicitly testing conversion of tree->graph based\nconfigurations.\n\nThis adds three increasingly complicated configurations and tests the\ngraph generation.\n\nChange-Id: I8a5d62a076a5a50597f2f1df3a8615afba6dadb2\n'}, {'number': 8, 'created': '2017-05-18 23:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/570242a70edddd0d8418ef1f752782b93ccb1ecb', 'message': 'Start at cleaning up tree/graph config split\n\nThere is too much code duplication with tree_config_to_digraph() with\n*6* undocumented arguments being passed around to recursively\ncalled-functions.\n\nI would like to work on this in a test-driven development method where\nwe are explicitly testing conversion of tree->graph based\nconfigurations.\n\nThis adds three increasingly complicated configurations and tests the\ngraph generation.\n\nChange-Id: I8a5d62a076a5a50597f2f1df3a8615afba6dadb2\n'}, {'number': 9, 'created': '2017-05-19 05:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/92eb0fb5513a2afeb122e305958fa51ff72133b8', 'message': 'Move to generic configuration parsing\n\nThis adds a generic configuration parser in config.py.  There is no\nsuch thing as a simple recursive function, but it tries to be very\nexplicit with comments.\n\nThree increasingly complicated configurations are provided with\ntest-cases to test the tree->graph generation.\n\nThe goal is to encapsulate configuration parsing into a single,\ncanonical, place and remove code duplication with\ntree_config_to_digraph() (which has up to *6* undocumented arguments\nbeing passed around to recursively called-functions in plugins).\n\nThere is a small difference in this parsing.  Currently,\n""partitioning"" entries in the config file get re-parsed by\npartitioning.py.  It has special handling for ""partitions:"" (the key)\nwhich builds a list of partitions inside the node.\n\n - partitioning:\n     name: foo\n     label: mbr\n     partitions:\n        - name: partition1\n          ...\n        - name: partition2\n          ...\n\nIt is done this way to help keep the ordering of partitions.  However,\nit is the suggestion of this change that we do *not* have plugins\ndoing their own parsing of the configuration file.  This leads to\ninconsistencies for both users, where parts of config files may not\nfollow the rules of other parts (e.g. partitions: *looks* like a\nplugin key, but is not, and does not have a base, and is not a node in\nthe graph), and maintainers, who have to follow the code-path of\nparsing it all.\n\nSo I would call to reviewer\'s attention the part where we do\n\n if is_a_plugin(nk):\n    if isinstance(nv, list):\n       for each in list, recurse\n\nThis means when we see\n\n - partitioning:\n     name: foo\n     partition:\n        - name: partition1\n          ...\n        - name: partition2\n\nWe process each item in that list as it\'s own node.  i.e.; this is\nequivalent to\n\n  - partitioning:\n    name: foo\n\n  - partition:\n      base: foo\n      name: partition1\n\n  - partition:\n      base: foo\n      name: partition2\n\nNow, we will have to think about how to keep ordering of these nodes,\nbut that is managed in a follow-on change.\n\nNote this change does not modify any existing code-paths.  It just\nadds the new config infrastructure and test-cases.  Using this is done\nin a follow-on change for clarity.\n\nChange-Id: I8a5d62a076a5a50597f2f1df3a8615afba6dadb2\n'}, {'number': 10, 'created': '2017-05-19 20:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e4130b638b8aff5e529d5bfe11f3c570363814e3', 'message': 'Move to generic configuration parsing\n\nThis adds a generic configuration parser in config.py.  There is no\nsuch thing as a simple recursive function, but it tries to be very\nexplicit with comments.\n\nThree increasingly complicated configurations are provided with\ntest-cases to test the tree->graph generation.\n\nThe goal is to encapsulate configuration parsing into a single,\ncanonical, place and remove code duplication with\ntree_config_to_digraph() (which has up to *6* undocumented arguments\nbeing passed around to recursively called-functions in plugins).\n\nThere is a small difference in this parsing.  Currently,\n""partitioning"" entries in the config file get re-parsed by\npartitioning.py.  It has special handling for ""partitions:"" (the key)\nwhich builds a list of partitions inside the node.\n\n - partitioning:\n     name: foo\n     label: mbr\n     partitions:\n        - name: partition1\n          ...\n        - name: partition2\n          ...\n\nIt is done this way to help keep the ordering of partitions.  However,\nit is the suggestion of this change that we do *not* have plugins\ndoing their own parsing of the configuration file.  This leads to\ninconsistencies for both users, where parts of config files may not\nfollow the rules of other parts (e.g. partitions: *looks* like a\nplugin key, but is not, and does not have a base, and is not a node in\nthe graph), and maintainers, who have to follow the code-path of\nparsing it all.\n\nSo I would call to reviewer\'s attention the part where we do\n\n if is_a_plugin(nk):\n    if isinstance(nv, list):\n       for each in list, recurse\n\nThis means when we see\n\n - partitioning:\n     name: foo\n     partition:\n        - name: partition1\n          ...\n        - name: partition2\n\nWe process each item in that list as it\'s own node.  i.e.; this is\nequivalent to\n\n  - partitioning:\n    name: foo\n\n  - partition:\n      base: foo\n      name: partition1\n\n  - partition:\n      base: foo\n      name: partition2\n\nNow, we will have to think about how to keep ordering of these nodes,\nbut that is managed in a follow-on change.\n\nNote this change does not modify any existing code-paths.  It just\nadds the new config infrastructure and test-cases.  Using this is done\nin a follow-on change for clarity.\n\nChange-Id: I8a5d62a076a5a50597f2f1df3a8615afba6dadb2\n'}, {'number': 11, 'created': '2017-05-20 06:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6bfe104bb75c0ee22f0aa573e5472f5196f17eac', 'message': 'Move to generic configuration parsing\n\nThis adds a generic configuration parser in config.py.  There is no\nsuch thing as a simple recursive function, but it tries to be very\nexplicit with comments.\n\nThree increasingly complicated configurations are provided with\ntest-cases to test the tree->graph generation.\n\nThe goal is to encapsulate configuration parsing into a single,\ncanonical, place and remove code duplication with\ntree_config_to_digraph() (which has up to *6* undocumented arguments\nbeing passed around to recursively called-functions in plugins).\n\nThere is a small difference in this parsing.  Currently,\n""partitioning"" entries in the config file get re-parsed by\npartitioning.py.  It has special handling for ""partitions:"" (the key)\nwhich builds a list of partitions inside the node.\n\n - partitioning:\n     name: foo\n     label: mbr\n     partitions:\n        - name: partition1\n          ...\n        - name: partition2\n          ...\n\nIt is done this way to help keep the ordering of partitions.  However,\nit is the suggestion of this change that we do *not* have plugins\ndoing their own parsing of the configuration file.  This leads to\ninconsistencies for both users, where parts of config files may not\nfollow the rules of other parts (e.g. partitions: *looks* like a\nplugin key, but is not, and does not have a base, and is not a node in\nthe graph), and maintainers, who have to follow the code-path of\nparsing it all.\n\nSo I would call to reviewer\'s attention the part where we do\n\n if is_a_plugin(nk):\n    if isinstance(nv, list):\n       for each in list, recurse\n\nThis means when we see\n\n - partitioning:\n     name: foo\n     partition:\n        - name: partition1\n          ...\n        - name: partition2\n\nWe process each item in that list as it\'s own node.  i.e.; this is\nequivalent to\n\n  - partitioning:\n    name: foo\n\n  - partition:\n      base: foo\n      name: partition1\n\n  - partition:\n      base: foo\n      name: partition2\n\nNow, we will have to think about how to keep ordering of these nodes,\nbut that is managed in a follow-on change.\n\nNote this change does not modify any existing code-paths.  It just\nadds the new config infrastructure and test-cases.  Using this is done\nin a follow-on change for clarity.\n\nChange-Id: I8a5d62a076a5a50597f2f1df3a8615afba6dadb2\n'}, {'number': 12, 'created': '2017-05-23 05:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1211df71c5eeb5a44e69cb55818751b9e2c37687', 'message': '[WIP] Add a more generic tree->graph parser\n\nThis moves to a more generic config parser that doesn\'t have plugins\nparsing part of the tree.\n\nI understand why it ended up that way; we have ""partitions"" key which\nhas special semantics compared to others keys and there was a desire\nto keep it isolated from core tree->graph code.  But this isn\'t really\nisolated; you have to reverse-engineer several module-crossing\nboundaries, extras classes and repetitive recursive functions.\n\nUltimately, plugins should have access to the node graph, but not\nparticipate in configuration parsing.  This way we ensure that plugins\ncan\'t invent new methods of configuration parsing.\n\nNote: unit tests produce the same tree -> graph conversion as the old\nmethod.  i.e. this is not intended to have a functional change.\n\nChange-Id: I8a5d62a076a5a50597f2f1df3a8615afba6dadb2\n'}, {'number': 13, 'created': '2017-05-23 05:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/362c5e3b39081af9d1cf13ba978e15ab81a8dbc1', 'message': '[WIP] Add a more generic tree->graph parser\n\nThis moves to a more generic config parser that doesn\'t have plugins\nparsing part of the tree.\n\nI understand why it ended up that way; we have ""partitions"" key which\nhas special semantics compared to others keys and there was a desire\nto keep it isolated from core tree->graph code.  But this isn\'t really\nisolated; you have to reverse-engineer several module-crossing\nboundaries, extras classes and repetitive recursive functions.\n\nUltimately, plugins should have access to the node graph, but not\nparticipate in configuration parsing.  This way we ensure that plugins\ncan\'t invent new methods of configuration parsing.\n\nNote: unit tests produce the same tree -> graph conversion as the old\nmethod.  i.e. this is not intended to have a functional change.\n\nChange-Id: I8a5d62a076a5a50597f2f1df3a8615afba6dadb2\n'}, {'number': 14, 'created': '2017-05-23 09:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f5c1b4c9f563537d61815e7dc19be5ccb0a27a54', 'message': 'Add a more generic tree->graph parser\n\nThis moves to a more generic config parser that doesn\'t have plugins\nparsing part of the tree.\n\nI understand why it ended up that way; we have ""partitions"" key which\nhas special semantics compared to others keys and there was a desire\nto keep it isolated from core tree->graph code.  But this isn\'t really\nisolated; you have to reverse-engineer several module-crossing\nboundaries, extras classes and repetitive recursive functions.\n\nUltimately, plugins should have access to the node graph, but not\nparticipate in configuration parsing.  This way we ensure that plugins\ncan\'t invent new methods of configuration parsing.\n\nNote: unit tests produce the same tree -> graph conversion as the old\nmethod.  i.e. this is not intended to have a functional change.\n\nChange-Id: I8a5d62a076a5a50597f2f1df3a8615afba6dadb2\n'}, {'number': 15, 'created': '2017-05-23 09:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/de0ee74977e58bd52c0660b13af9400be5d91a5b', 'message': 'Add a more generic tree->graph parser\n\nThis moves to a more generic config parser that doesn\'t have plugins\nparsing part of the tree.\n\nI understand why it ended up that way; we have ""partitions"" key which\nhas special semantics compared to others keys and there was a desire\nto keep it isolated from core tree->graph code.  But this isn\'t really\nisolated; you have to reverse-engineer several module-crossing\nboundaries, extras classes and repetitive recursive functions.\n\nUltimately, plugins should have access to the node graph, but not\nparticipate in configuration parsing.  This way we ensure that plugins\ncan\'t invent new methods of configuration parsing.\n\nNote: unit tests produce the same tree -> graph conversion as the old\nmethod.  i.e. this is not intended to have a functional change.\n\nChange-Id: I8a5d62a076a5a50597f2f1df3a8615afba6dadb2\n'}, {'number': 16, 'created': '2017-05-23 23:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a731a8216cf63986df81bc3c79363eb740354f7b', 'message': 'Add a more generic tree->graph parser\n\nThis moves to a more generic config parser that doesn\'t have plugins\nparsing part of the tree.\n\nI understand why it ended up that way; we have ""partitions"" key which\nhas special semantics compared to others keys and there was a desire\nto keep it isolated from core tree->graph code.  But this isn\'t really\nisolated; you have to reverse-engineer several module-crossing\nboundaries, extras classes and repetitive recursive functions.\n\nUltimately, plugins should have access to the node graph, but not\nparticipate in configuration parsing.  This way we ensure that plugins\ncan\'t invent new methods of configuration parsing.\n\nNote: unit tests produce the same tree -> graph conversion as the old\nmethod.  i.e. this is not intended to have a functional change.\n\nChange-Id: I8a5d62a076a5a50597f2f1df3a8615afba6dadb2\n'}, {'number': 17, 'created': '2017-05-25 05:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7612a3abf153e3365164c82db7154ce3f5308b4a', 'message': 'Add a more generic tree->graph parser\n\nThis moves to a more generic config parser that doesn\'t have plugins\nparsing part of the tree.\n\nI understand why it ended up that way; we have ""partitions"" key which\nhas special semantics compared to others keys and there was a desire\nto keep it isolated from core tree->graph code.  But this isn\'t really\nisolated; you have to reverse-engineer several module-crossing\nboundaries, extras classes and repetitive recursive functions.\n\nUltimately, plugins should have access to the node graph, but not\nparticipate in configuration parsing.  This way we ensure that plugins\ncan\'t invent new methods of configuration parsing.\n\nNote: unit tests produce the same tree -> graph conversion as the old\nmethod.  i.e. this is not intended to have a functional change.\n\nChange-Id: I8a5d62a076a5a50597f2f1df3a8615afba6dadb2\n'}, {'number': 18, 'created': '2017-05-26 00:41:32.000000000', 'files': ['diskimage_builder/block_device/config.py', 'diskimage_builder/block_device/tests/test_config.py', 'doc/source/user_guide/building_an_image.rst', 'diskimage_builder/block_device/level3/mount.py', 'diskimage_builder/block_device/tests/config/deep_graph.yaml', 'diskimage_builder/block_device/tree_config.py', 'diskimage_builder/block_device/tests/config/multiple_partitions_graph.yaml', 'diskimage_builder/block_device/level0/localloop.py', 'diskimage_builder/block_device/level2/mkfs.py', 'diskimage_builder/block_device/level1/partition.py', 'diskimage_builder/block_device/level1/__init__.py', 'diskimage_builder/block_device/level4/fstab.py', 'diskimage_builder/block_device/blockdevice.py', 'diskimage_builder/block_device/level1/partitioning.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/00da1982ce15af3068ac66346e8e6b97704f289d', 'message': 'Add a more generic tree->graph parser\n\nThis moves to a more generic config parser that doesn\'t have plugins\nparsing part of the tree.\n\nI understand why it ended up that way; we have ""partitions"" key which\nhas special semantics compared to others keys and there was a desire\nto keep it isolated from core tree->graph code.  But this isn\'t really\nisolated; you have to reverse-engineer several module-crossing\nboundaries, extras classes and repetitive recursive functions.\n\nUltimately, plugins should have access to the node graph, but not\nparticipate in configuration parsing.  This way we ensure that plugins\ncan\'t invent new methods of configuration parsing.\n\nNote: unit tests produce the same tree -> graph conversion as the old\nmethod.  i.e. this is not intended to have a functional change.\n\nChange-Id: I8a5d62a076a5a50597f2f1df3a8615afba6dadb2\n'}]",16,465417,00da1982ce15af3068ac66346e8e6b97704f289d,102,5,18,7118,,,0,"Add a more generic tree->graph parser

This moves to a more generic config parser that doesn't have plugins
parsing part of the tree.

I understand why it ended up that way; we have ""partitions"" key which
has special semantics compared to others keys and there was a desire
to keep it isolated from core tree->graph code.  But this isn't really
isolated; you have to reverse-engineer several module-crossing
boundaries, extras classes and repetitive recursive functions.

Ultimately, plugins should have access to the node graph, but not
participate in configuration parsing.  This way we ensure that plugins
can't invent new methods of configuration parsing.

Note: unit tests produce the same tree -> graph conversion as the old
method.  i.e. this is not intended to have a functional change.

Change-Id: I8a5d62a076a5a50597f2f1df3a8615afba6dadb2
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/17/465417/2 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/block_device/tests/config/deep_graph.yaml', 'diskimage_builder/block_device/cmd.py', 'diskimage_builder/block_device/tests/config/simple_graph.yaml', 'diskimage_builder/block_device/tests/config/simple_tree.yaml', 'doc/source/user_guide/building_an_image.rst', 'diskimage_builder/block_device/tests/config/deep_tree.yaml']",6,34f57439bf3a92f915c957585f151ad5c224dd63,unit_testing,"local_loop: name: image0 partitioning: name: mbr base: image0 label: mbr partitions: - name: root flags: [ boot, primary ] size: 100% mkfs: mount: mount_point: / fstab: options: ""defaults"" fsck-passno: 1 ",,119,1
openstack%2Ftripleo-ci~master~I83a421a23333a01d56781fb329116ae0036ae48a,openstack/tripleo-ci,master,I83a421a23333a01d56781fb329116ae0036ae48a,Don't maintain stable scenario env in upgrade CI,MERGED,2017-05-25 10:07:23.000000000,2017-05-26 15:20:55.000000000,2017-05-26 15:20:55.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7144}]","[{'number': 1, 'created': '2017-05-25 10:07:23.000000000', 'files': ['scripts/deploy.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/23bf89eb9dd7b78a1e711d5d0ab028789f6520a8', 'message': ""Don't maintain stable scenario env in upgrade CI\n\nIn https://review.openstack.org/#/c/464667 I assumed we wanted to\nkeep the stable scenario on upgrade, to avoid adding services during\nthe upgrade process.\n\nIt seems we're expecting to run the pingtest for master (or whatever\npost-upgrade branch) so were actually depending on the services getting\nadded during the upgrade.\n\nChange-Id: I83a421a23333a01d56781fb329116ae0036ae48a\n""}]",0,467973,23bf89eb9dd7b78a1e711d5d0ab028789f6520a8,13,3,1,4328,,,0,"Don't maintain stable scenario env in upgrade CI

In https://review.openstack.org/#/c/464667 I assumed we wanted to
keep the stable scenario on upgrade, to avoid adding services during
the upgrade process.

It seems we're expecting to run the pingtest for master (or whatever
post-upgrade branch) so were actually depending on the services getting
added during the upgrade.

Change-Id: I83a421a23333a01d56781fb329116ae0036ae48a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/73/467973/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/deploy.sh'],1,23bf89eb9dd7b78a1e711d5d0ab028789f6520a8,,," # On upgrade, we want to maintain the same scenario, as we're testing # the upgrade of those services initially deployed. However we also # need the path to be a subdirectory of the --templates location # because some environment files reference j2 rendered files. # So we copy MULTINODE_ENV_PATH under TEMPLATE_PATH sudo cp $MULTINODE_ENV_PATH /usr/share/openstack-tripleo-heat-templates/ci/environments/ echo ""Copied $MULTINODE_ENV_PATH to /usr/share/openstack-tripleo-heat-templates/ci/environments/""",0,7
openstack%2Fopenstack-ansible-os_octavia~master~Ibd9975c9715d5f3739ed43addb7139367b69fd26,openstack/openstack-ansible-os_octavia,master,Ibd9975c9715d5f3739ed43addb7139367b69fd26,Allow the developer constraints to be adjusted,MERGED,2017-05-26 11:09:01.000000000,2017-05-26 15:18:05.000000000,2017-05-26 15:18:05.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 11:09:01.000000000', 'files': ['tasks/octavia_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/09ab2ceeeebefcb7be226263cce00bb21e1b6ebc', 'message': 'Allow the developer constraints to be adjusted\n\nIn order to do a developer mode that allows installation of packages\nfrom local file, which take precedence over the developer_mode\nconstraints, we need to allow the order of the constraints to be\nchanged.\n\nThis patch adds a ""pip_install_developer_constraints"" var which is used\nto set the developer mode constraints. By default this will leave the\nsame behaviour but will allow additional constraints to be added, or the\ndevelopermode constraints file to be overriden altogether.\n\nChange-Id: Ibd9975c9715d5f3739ed43addb7139367b69fd26\n'}]",0,468378,09ab2ceeeebefcb7be226263cce00bb21e1b6ebc,7,3,1,2799,,,0,"Allow the developer constraints to be adjusted

In order to do a developer mode that allows installation of packages
from local file, which take precedence over the developer_mode
constraints, we need to allow the order of the constraints to be
changed.

This patch adds a ""pip_install_developer_constraints"" var which is used
to set the developer mode constraints. By default this will leave the
same behaviour but will allow additional constraints to be added, or the
developermode constraints file to be overriden altogether.

Change-Id: Ibd9975c9715d5f3739ed43addb7139367b69fd26
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/78/468378/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/octavia_install.yml'],1,09ab2ceeeebefcb7be226263cce00bb21e1b6ebc,dev_constraints," {{ octavia_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }} {{ octavia_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }}"," {{ octavia_developer_mode | ternary('--constraint /opt/developer-pip-constraints.txt', '') }}",2,1
openstack%2Fopenstack-ansible-os_magnum~master~If6ad63d584c832c65fc727b2b363e0765dfed110,openstack/openstack-ansible-os_magnum,master,If6ad63d584c832c65fc727b2b363e0765dfed110,Allow the developer constraints to be adjusted,MERGED,2017-05-26 11:08:07.000000000,2017-05-26 15:10:42.000000000,2017-05-26 15:10:42.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 11:08:07.000000000', 'files': ['tasks/magnum_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/15aecbbd9a59d9867d74a2f831f8816aad25d97e', 'message': 'Allow the developer constraints to be adjusted\n\nIn order to do a developer mode that allows installation of packages\nfrom local file, which take precedence over the developer_mode\nconstraints, we need to allow the order of the constraints to be\nchanged.\n\nThis patch adds a ""pip_install_developer_constraints"" var which is used\nto set the developer mode constraints. By default this will leave the\nsame behaviour but will allow additional constraints to be added, or the\ndevelopermode constraints file to be overriden altogether.\n\nChange-Id: If6ad63d584c832c65fc727b2b363e0765dfed110\n'}]",0,468373,15aecbbd9a59d9867d74a2f831f8816aad25d97e,7,3,1,2799,,,0,"Allow the developer constraints to be adjusted

In order to do a developer mode that allows installation of packages
from local file, which take precedence over the developer_mode
constraints, we need to allow the order of the constraints to be
changed.

This patch adds a ""pip_install_developer_constraints"" var which is used
to set the developer mode constraints. By default this will leave the
same behaviour but will allow additional constraints to be added, or the
developermode constraints file to be overriden altogether.

Change-Id: If6ad63d584c832c65fc727b2b363e0765dfed110
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/73/468373/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/magnum_install.yml'],1,15aecbbd9a59d9867d74a2f831f8816aad25d97e,dev_constraints," {{ magnum_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }} {{ magnum_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }}"," {{ magnum_developer_mode | ternary('--constraint /opt/developer-pip-constraints.txt', '') }}",2,1
openstack%2Fkolla-ansible~stable%2Focata~I5aef67b774ddaf83afdfe03d099b91e68a11ae1d,openstack/kolla-ansible,stable/ocata,I5aef67b774ddaf83afdfe03d099b91e68a11ae1d,Fix logrotate issue on Octavia and Watcher service,ABANDONED,2017-03-22 08:57:58.000000000,2017-05-26 15:07:09.000000000,,"[{'_account_id': 3}, {'_account_id': 7488}, {'_account_id': 8157}, {'_account_id': 16233}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22959}, {'_account_id': 23717}, {'_account_id': 24164}]","[{'number': 1, 'created': '2017-03-22 08:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e569f7e6ac49f16ef481471cfbd37151316b06ec', 'message': 'Fix logrotate issue on Octavia and Watcher service\n\nServices config files are missing in cron command.\nCron Jinja template has been adapted in order to take it into account.\n\nChange-Id: I5aef67b774ddaf83afdfe03d099b91e68a11ae1d\nCloses-Bug: #1673163\nCloses-Bug: #1673193\n(cherry picked from commit fbf712b68f90d69300dbb5b2df844ea1a6c6ed89)\n'}, {'number': 2, 'created': '2017-05-03 00:32:46.000000000', 'files': ['ansible/roles/common/templates/cron.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2896d19dcf290bd16c9ef3562dc457126e9a0199', 'message': 'Fix logrotate issue on Octavia and Watcher service\n\nServices config files are missing in cron command.\nCron Jinja template has been adapted in order to take it into account.\n\nChange-Id: I5aef67b774ddaf83afdfe03d099b91e68a11ae1d\nCloses-Bug: #1673163\nCloses-Bug: #1673193\n(cherry picked from commit fbf712b68f90d69300dbb5b2df844ea1a6c6ed89)\n'}]",0,448452,2896d19dcf290bd16c9ef3562dc457126e9a0199,17,9,2,19316,,,0,"Fix logrotate issue on Octavia and Watcher service

Services config files are missing in cron command.
Cron Jinja template has been adapted in order to take it into account.

Change-Id: I5aef67b774ddaf83afdfe03d099b91e68a11ae1d
Closes-Bug: #1673163
Closes-Bug: #1673193
(cherry picked from commit fbf712b68f90d69300dbb5b2df844ea1a6c6ed89)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/448452/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/cron.json.j2'],1,e569f7e6ac49f16ef481471cfbd37151316b06ec,bug/1673163," ( 'octavia', enable_octavia ), ( 'tacker', enable_tacker ), ( 'watcher', enable_watcher )"," ( 'tacker', enable_tacker )",3,1
openstack%2Fopenstack-ansible-os_ironic~master~I010fcbd9b4c66b29fc0961818038bb75ba815c9a,openstack/openstack-ansible-os_ironic,master,I010fcbd9b4c66b29fc0961818038bb75ba815c9a,Allow the developer constraints to be adjusted,MERGED,2017-05-26 11:07:42.000000000,2017-05-26 15:02:13.000000000,2017-05-26 15:02:13.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 11:07:42.000000000', 'files': ['tasks/ironic_oneview_setup.yml', 'tasks/ironic_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/935fde61e0da928e879f92a3f7b2fc317a040b29', 'message': 'Allow the developer constraints to be adjusted\n\nIn order to do a developer mode that allows installation of packages\nfrom local file, which take precedence over the developer_mode\nconstraints, we need to allow the order of the constraints to be\nchanged.\n\nThis patch adds a ""pip_install_developer_constraints"" var which is used\nto set the developer mode constraints. By default this will leave the\nsame behaviour but will allow additional constraints to be added, or the\ndevelopermode constraints file to be overriden altogether.\n\nChange-Id: I010fcbd9b4c66b29fc0961818038bb75ba815c9a\n'}]",0,468371,935fde61e0da928e879f92a3f7b2fc317a040b29,7,3,1,2799,,,0,"Allow the developer constraints to be adjusted

In order to do a developer mode that allows installation of packages
from local file, which take precedence over the developer_mode
constraints, we need to allow the order of the constraints to be
changed.

This patch adds a ""pip_install_developer_constraints"" var which is used
to set the developer mode constraints. By default this will leave the
same behaviour but will allow additional constraints to be added, or the
developermode constraints file to be overriden altogether.

Change-Id: I010fcbd9b4c66b29fc0961818038bb75ba815c9a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/71/468371/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/ironic_oneview_setup.yml', 'tasks/ironic_install.yml']",2,935fde61e0da928e879f92a3f7b2fc317a040b29,dev_constraints," {{ ironic_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }} {{ ironic_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }}"," {{ ironic_developer_mode | ternary('--constraint /opt/developer-pip-constraints.txt', '') }}",3,2
openstack%2Fopenstack-ansible-os_neutron~master~I64dccbdc387b7428f0cb95b5bd81c588a11bcc37,openstack/openstack-ansible-os_neutron,master,I64dccbdc387b7428f0cb95b5bd81c588a11bcc37,Allow the developer constraints to be adjusted,MERGED,2017-05-26 11:08:53.000000000,2017-05-26 15:01:38.000000000,2017-05-26 15:01:38.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 11:08:53.000000000', 'files': ['tasks/providers/calico_config.yml', 'tasks/neutron_install.yml', 'tasks/providers/dragonflow_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ffcdc13ea0b1d47f3421eea51f883c21392c3702', 'message': 'Allow the developer constraints to be adjusted\n\nIn order to do a developer mode that allows installation of packages\nfrom local file, which take precedence over the developer_mode\nconstraints, we need to allow the order of the constraints to be\nchanged.\n\nThis patch adds a ""pip_install_developer_constraints"" var which is used\nto set the developer mode constraints. By default this will leave the\nsame behaviour but will allow additional constraints to be added, or the\ndevelopermode constraints file to be overriden altogether.\n\nChange-Id: I64dccbdc387b7428f0cb95b5bd81c588a11bcc37\n'}]",0,468377,ffcdc13ea0b1d47f3421eea51f883c21392c3702,8,3,1,2799,,,0,"Allow the developer constraints to be adjusted

In order to do a developer mode that allows installation of packages
from local file, which take precedence over the developer_mode
constraints, we need to allow the order of the constraints to be
changed.

This patch adds a ""pip_install_developer_constraints"" var which is used
to set the developer mode constraints. By default this will leave the
same behaviour but will allow additional constraints to be added, or the
developermode constraints file to be overriden altogether.

Change-Id: I64dccbdc387b7428f0cb95b5bd81c588a11bcc37
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/77/468377/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/providers/calico_config.yml', 'tasks/neutron_install.yml', 'tasks/providers/dragonflow_config.yml']",3,ffcdc13ea0b1d47f3421eea51f883c21392c3702,dev_constraints," {{ neutron_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }}"," {{ neutron_developer_mode | ternary('--constraint /opt/developer-pip-constraints.txt', '') }}",5,4
openstack%2Fopenstack-ansible-os_designate~master~I3d3ac65534dd71b6e5a956cc572a415e28e722fb,openstack/openstack-ansible-os_designate,master,I3d3ac65534dd71b6e5a956cc572a415e28e722fb,Allow the developer constraints to be adjusted,MERGED,2017-05-26 11:06:24.000000000,2017-05-26 14:58:36.000000000,2017-05-26 14:58:36.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 11:06:24.000000000', 'files': ['tasks/designate_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/c505653af5c7b1d880dd9a31759f3a1bade69ed3', 'message': 'Allow the developer constraints to be adjusted\n\nIn order to do a developer mode that allows installation of packages\nfrom local file, which take precedence over the developer_mode\nconstraints, we need to allow the order of the constraints to be changed.\n\nThis patch adds a ""pip_install_developer_constraints"" var which is used\nto set the developer mode constraints. By default this will leave the\nsame behaviour but will allow additional constraints to be added, or the\ndevelopermode constraints file to be overriden altogether.\n\nAdditionally, fix bug where keystone_developer_mode variable was\nincorrectly used for designate role.\n\nChange-Id: I3d3ac65534dd71b6e5a956cc572a415e28e722fb\n'}]",0,468367,c505653af5c7b1d880dd9a31759f3a1bade69ed3,7,3,1,2799,,,0,"Allow the developer constraints to be adjusted

In order to do a developer mode that allows installation of packages
from local file, which take precedence over the developer_mode
constraints, we need to allow the order of the constraints to be changed.

This patch adds a ""pip_install_developer_constraints"" var which is used
to set the developer mode constraints. By default this will leave the
same behaviour but will allow additional constraints to be added, or the
developermode constraints file to be overriden altogether.

Additionally, fix bug where keystone_developer_mode variable was
incorrectly used for designate role.

Change-Id: I3d3ac65534dd71b6e5a956cc572a415e28e722fb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/67/468367/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/designate_install.yml'],1,c505653af5c7b1d880dd9a31759f3a1bade69ed3,dev_constraints," {{ designate_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }} {{ designate_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }}"," {{ keystone_developer_mode | ternary('--constraint /opt/developer-pip-constraints.txt', '') }}",2,1
openstack%2Fopenstack-ansible-os_sahara~master~I15ba730bb531289a5454ec932a1d27db64c4c5c8,openstack/openstack-ansible-os_sahara,master,I15ba730bb531289a5454ec932a1d27db64c4c5c8,Allow the developer constraints to be adjusted,MERGED,2017-05-26 11:09:20.000000000,2017-05-26 14:58:05.000000000,2017-05-26 14:58:05.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 11:09:20.000000000', 'files': ['tasks/sahara_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/ac72d9ab8e1a901ba1ffb3c2eb24f9d6c3bce11d', 'message': 'Allow the developer constraints to be adjusted\n\nIn order to do a developer mode that allows installation of packages\nfrom local file, which take precedence over the developer_mode\nconstraints, we need to allow the order of the constraints to be\nchanged.\n\nThis patch adds a ""pip_install_developer_constraints"" var which is used\nto set the developer mode constraints. By default this will leave the\nsame behaviour but will allow additional constraints to be added, or the\ndevelopermode constraints file to be overriden altogether.\n\nChange-Id: I15ba730bb531289a5454ec932a1d27db64c4c5c8\n'}]",0,468381,ac72d9ab8e1a901ba1ffb3c2eb24f9d6c3bce11d,7,3,1,2799,,,0,"Allow the developer constraints to be adjusted

In order to do a developer mode that allows installation of packages
from local file, which take precedence over the developer_mode
constraints, we need to allow the order of the constraints to be
changed.

This patch adds a ""pip_install_developer_constraints"" var which is used
to set the developer mode constraints. By default this will leave the
same behaviour but will allow additional constraints to be added, or the
developermode constraints file to be overriden altogether.

Change-Id: I15ba730bb531289a5454ec932a1d27db64c4c5c8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/81/468381/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/sahara_install.yml'],1,ac72d9ab8e1a901ba1ffb3c2eb24f9d6c3bce11d,dev_constraints," {{ sahara_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }} {{ sahara_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }}"," {{ sahara_developer_mode | ternary('--constraint /opt/developer-pip-constraints.txt', '') }}",2,1
openstack%2Fkolla-ansible~master~I71d2611ae034ff2a85babb8d01419729f406a136,openstack/kolla-ansible,master,I71d2611ae034ff2a85babb8d01419729f406a136,Kibana post_config checks only need to run locally,MERGED,2017-05-10 14:57:08.000000000,2017-05-26 14:57:15.000000000,2017-05-26 14:57:15.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 8157}, {'_account_id': 11869}, {'_account_id': 13642}, {'_account_id': 16704}, {'_account_id': 19316}, {'_account_id': 22165}]","[{'number': 1, 'created': '2017-05-10 14:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ba7571e2b02d891ff06adef6abe5169014638455', 'message': 'Kibana post_config checks only need to run locally\n\nRecently added post_config for Kibana does some uri queries, these can\nbe problematic if run across every node.\n\nChange-Id: I71d2611ae034ff2a85babb8d01419729f406a136\n'}, {'number': 2, 'created': '2017-05-10 16:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bde6636d3d14c5981cf0001521d1c2fdabe42e92', 'message': 'Kibana post_config checks only need to run locally\n\nRecently added post_config for Kibana does some uri queries, these can\nbe problematic if run across every node.\n\nChange-Id: I71d2611ae034ff2a85babb8d01419729f406a136\n'}, {'number': 3, 'created': '2017-05-11 16:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/471f3e462fa49af98ffeb8ae5c72291e139ba0ff', 'message': 'Kibana post_config checks only need to run locally\n\nRecently added post_config for Kibana does some uri queries, these can\nbe problematic if run across every node.\n\nChange-Id: I71d2611ae034ff2a85babb8d01419729f406a136\n'}, {'number': 4, 'created': '2017-05-12 11:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f560d7449852803d456fbe50fd50436d3bc07ffa', 'message': 'Kibana post_config checks only need to run locally\n\nRecently added post_config for Kibana does some uri queries, these can\nbe problematic if run across every node.\n\nChange-Id: I71d2611ae034ff2a85babb8d01419729f406a136\n'}, {'number': 5, 'created': '2017-05-19 09:39:24.000000000', 'files': ['ansible/roles/kibana/tasks/post_config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2d9a028cb0357b81a03cd742936d9a8cb3778f49', 'message': 'Kibana post_config checks only need to run locally\n\nRecently added post_config for Kibana does some uri queries, these can\nbe problematic if run across every node.\n\nChange-Id: I71d2611ae034ff2a85babb8d01419729f406a136\n'}]",17,463798,2d9a028cb0357b81a03cd742936d9a8cb3778f49,36,8,5,1390,,,0,"Kibana post_config checks only need to run locally

Recently added post_config for Kibana does some uri queries, these can
be problematic if run across every node.

Change-Id: I71d2611ae034ff2a85babb8d01419729f406a136
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/463798/3 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kibana/tasks/post_config.yml'],1,ba7571e2b02d891ff06adef6abe5169014638455,kibana-fix, run_once: true connection: local run_once: true connection: local run_once: true connection: local run_once: true connection: local,,8,0
openstack%2Fopenstack-ansible-os_cinder~master~I17a23dd1b3f3d81fa321f0da366dc6eb113dac76,openstack/openstack-ansible-os_cinder,master,I17a23dd1b3f3d81fa321f0da366dc6eb113dac76,Allow the developer constraints to be adjusted,MERGED,2017-05-26 11:06:04.000000000,2017-05-26 14:56:06.000000000,2017-05-26 14:56:06.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 11:06:04.000000000', 'files': ['tasks/cinder_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/0187cc5014ac4e16cd4d1f2f94f99a90e8a6f903', 'message': 'Allow the developer constraints to be adjusted\n\nIn order to do a developer mode that allows installation of packages\nfrom local file, which take precedence over the developer_mode\nconstraints, we need to allow the order of the constraints to be changed.\n\nThis patch adds a ""pip_install_developer_constraints"" var which is used\nto set the developer mode constraints. By default this will leave the\nsame behaviour but will allow additional constraints to be added, or the\ndevelopermode constraints file to be overriden altogether.\n\nChange-Id: I17a23dd1b3f3d81fa321f0da366dc6eb113dac76\n'}]",0,468365,0187cc5014ac4e16cd4d1f2f94f99a90e8a6f903,7,3,1,2799,,,0,"Allow the developer constraints to be adjusted

In order to do a developer mode that allows installation of packages
from local file, which take precedence over the developer_mode
constraints, we need to allow the order of the constraints to be changed.

This patch adds a ""pip_install_developer_constraints"" var which is used
to set the developer mode constraints. By default this will leave the
same behaviour but will allow additional constraints to be added, or the
developermode constraints file to be overriden altogether.

Change-Id: I17a23dd1b3f3d81fa321f0da366dc6eb113dac76
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/65/468365/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/cinder_install.yml'],1,0187cc5014ac4e16cd4d1f2f94f99a90e8a6f903,dev_constraints," {{ cinder_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }} {{ cinder_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }}"," {{ cinder_developer_mode | ternary('--constraint /opt/developer-pip-constraints.txt', '') }}",2,1
openstack%2Fopenstack-ansible-os_aodh~master~I643d1fd7f9bb3b7731dd56a9a9c4ac3c1f8049d6,openstack/openstack-ansible-os_aodh,master,I643d1fd7f9bb3b7731dd56a9a9c4ac3c1f8049d6,Allow the developer constraints to be adjusted,MERGED,2017-05-26 11:05:00.000000000,2017-05-26 14:54:09.000000000,2017-05-26 14:54:09.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 11:05:00.000000000', 'files': ['tasks/aodh_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/8c72de83a728a14111b76a8582fdc5723946d689', 'message': 'Allow the developer constraints to be adjusted\n\nIn order to do a developer mode that allows installation of packages\nfrom local file, which take precedence over the developer_mode\nconstraints, we need to allow the order of the constraints to be\nchanged.\n\nThis patch adds a ""pip_install_developer_constraints"" var which is used\nto set the developer mode constraints. By default this will leave the\nsame behaviour but will allow additional constraints to be added, or the\ndevelopermode constraints file to be overriden altogether.\n\nChange-Id: I643d1fd7f9bb3b7731dd56a9a9c4ac3c1f8049d6\n'}]",0,468362,8c72de83a728a14111b76a8582fdc5723946d689,7,3,1,2799,,,0,"Allow the developer constraints to be adjusted

In order to do a developer mode that allows installation of packages
from local file, which take precedence over the developer_mode
constraints, we need to allow the order of the constraints to be
changed.

This patch adds a ""pip_install_developer_constraints"" var which is used
to set the developer mode constraints. By default this will leave the
same behaviour but will allow additional constraints to be added, or the
developermode constraints file to be overriden altogether.

Change-Id: I643d1fd7f9bb3b7731dd56a9a9c4ac3c1f8049d6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/62/468362/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/aodh_install.yml'],1,8c72de83a728a14111b76a8582fdc5723946d689,dev_constraints," {{ aodh_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }} {{ aodh_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }}"," {{ aodh_developer_mode | ternary('--constraint /opt/developer-pip-constraints.txt', '') }}",2,1
openstack%2Fopenstack-ansible-os_ceilometer~master~I5cdea6aeb554aaafb1698a803960cfa8208e179c,openstack/openstack-ansible-os_ceilometer,master,I5cdea6aeb554aaafb1698a803960cfa8208e179c,Allow the developer constraints to be adjusted,MERGED,2017-05-26 11:05:53.000000000,2017-05-26 14:53:09.000000000,2017-05-26 14:53:09.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 11:05:53.000000000', 'files': ['tasks/ceilometer_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/3f1a5729abfc9b37ab3be2d468d748f63f9660cf', 'message': 'Allow the developer constraints to be adjusted\n\nIn order to do a developer mode that allows installation of packages\nfrom local file, which take precedence over the developer_mode\nconstraints, we need to allow the order of the constraints to be\nchanged.\n\nThis patch adds a ""pip_install_developer_constraints"" var which is used\nto set the developer mode constraints. By default this will leave the\nsame behaviour but will allow additional constraints to be added, or the\ndevelopermode constraints file to be overriden altogether.\n\nChange-Id: I5cdea6aeb554aaafb1698a803960cfa8208e179c\n'}]",0,468364,3f1a5729abfc9b37ab3be2d468d748f63f9660cf,7,3,1,2799,,,0,"Allow the developer constraints to be adjusted

In order to do a developer mode that allows installation of packages
from local file, which take precedence over the developer_mode
constraints, we need to allow the order of the constraints to be
changed.

This patch adds a ""pip_install_developer_constraints"" var which is used
to set the developer mode constraints. By default this will leave the
same behaviour but will allow additional constraints to be added, or the
developermode constraints file to be overriden altogether.

Change-Id: I5cdea6aeb554aaafb1698a803960cfa8208e179c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/64/468364/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/ceilometer_install.yml'],1,3f1a5729abfc9b37ab3be2d468d748f63f9660cf,dev_constraints," {{ ceilometer_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }} {{ ceilometer_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }}",,2,0
openstack%2Fproject-config~master~Ie45eab7fdd796c15453ff98fab7e548470abc4af,openstack/project-config,master,Ie45eab7fdd796c15453ff98fab7e548470abc4af,Add python3 functional test job for shade,ABANDONED,2017-05-11 15:30:19.000000000,2017-05-26 14:51:24.000000000,,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-05-11 15:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/aabeafafc7aa13cf3e0ab8bf1bbc2385b95721a8', 'message': 'Add python3 functional test job for shade\n\ndevstack can run in python3. Run shade tests against that. We should\nalso add a functionalpy3 tox env and then make this use that.\n\nChange-Id: Ie45eab7fdd796c15453ff98fab7e548470abc4af\n'}, {'number': 2, 'created': '2017-05-11 16:26:30.000000000', 'files': ['jenkins/jobs/shade.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6e9fe9a65a5f5bed5be9369c066d356fbbfe57d7', 'message': 'Add python3 functional test job for shade\n\ndevstack can run in python3. Run shade tests against that. We should\nalso add a functionalpy3 tox env and then make this use that.\n\nChange-Id: Ie45eab7fdd796c15453ff98fab7e548470abc4af\n'}]",3,464025,6e9fe9a65a5f5bed5be9369c066d356fbbfe57d7,9,2,2,2,,,0,"Add python3 functional test job for shade

devstack can run in python3. Run shade tests against that. We should
also add a functionalpy3 tox env and then make this use that.

Change-Id: Ie45eab7fdd796c15453ff98fab7e548470abc4af
",git fetch https://review.opendev.org/openstack/project-config refs/changes/25/464025/2 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/shade.yaml'],1,aabeafafc7aa13cf3e0ab8bf1bbc2385b95721a8,," name: '{pipeline}-shade-dsvm-functional-python3{suffix}' node: '{node}' wrappers: - build-timeout: timeout: 70 - timestamps builders: - link-logs - net-info - devstack-checkout - shell: | #!/bin/bash -xe export PYTHONUNBUFFERED=true export SHADE_HAS_DESIGNATE=0 export SHADE_HAS_HEAT=1 export SHADE_HAS_MAGNUM=0 export SHADE_HAS_NEUTRON=1 export SHADE_HAS_SWIFT=1 export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_HEAT=1 export DEVSTACK_GATE_USE_PYTHON3=1 export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin heat git://git.openstack.org/openstack/heat"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service horizon"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service ceilometer-acentral"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service ceilometer-acompute"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service ceilometer-alarm-evaluator"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service ceilometer-alarm-notifier"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service ceilometer-anotification"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service ceilometer-api"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service ceilometer-collector"" export PROJECTS=""openstack-infra/shade $PROJECTS"" export BRANCH_OVERRIDE={branch-override} if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi function post_test_hook {{ $BASE/new/shade/shade/tests/functional/hooks/post_test_hook.sh }} export -f post_test_hook cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh publishers: - devstack-logs - console-log - job-template:",,53,0
openstack%2Fbifrost~stable%2Focata~I57ef2944f4c2b643d240f30cac46ad91662ff538,openstack/bifrost,stable/ocata,I57ef2944f4c2b643d240f30cac46ad91662ff538,Allow looking constraints file from env var,MERGED,2017-05-26 09:54:36.000000000,2017-05-26 14:49:56.000000000,2017-05-26 14:49:52.000000000,"[{'_account_id': 3}, {'_account_id': 5805}, {'_account_id': 7294}, {'_account_id': 11655}]","[{'number': 1, 'created': '2017-05-26 09:54:36.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/staging_install.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-keystone-install/tasks/install.yml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_install.yml', 'releasenotes/notes/override_upper_constraints-79f837d8ac58e53d.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6fc2845615e060c5bb225cb2d9062ad4fc92ff14', 'message': 'Allow looking constraints file from env var\n\nIn order to make it more flexible, and to consume the upper\nconstraints file from the right branch, allow to consume an\nexported var, and default to the current path.\n\nChange-Id: I57ef2944f4c2b643d240f30cac46ad91662ff538\n(cherry picked from commit 34bccf2fa4ba42d1efe06f6cf9af4b1e05adf6cd)\n'}]",1,468343,6fc2845615e060c5bb225cb2d9062ad4fc92ff14,8,4,1,6133,,,0,"Allow looking constraints file from env var

In order to make it more flexible, and to consume the upper
constraints file from the right branch, allow to consume an
exported var, and default to the current path.

Change-Id: I57ef2944f4c2b643d240f30cac46ad91662ff538
(cherry picked from commit 34bccf2fa4ba42d1efe06f6cf9af4b1e05adf6cd)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/43/468343/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/staging_install.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-keystone-install/tasks/install.yml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_install.yml', 'releasenotes/notes/override_upper_constraints-79f837d8ac58e53d.yaml']",7,6fc2845615e060c5bb225cb2d9062ad4fc92ff14,,"--- features: - Allow consuming upper_constraints_file from an env var UPPER_CONSTRAINTS_FILE. This will be specially useful for OpenStack CI, where this var is defined on each job run, pointing to the right requirements file depending on branch. ",,15,2
openstack%2Fpuppet-tripleo~master~Ib94e51f863ba59a1a1db47d58aed3ba4e5fc9650,openstack/puppet-tripleo,master,Ib94e51f863ba59a1a1db47d58aed3ba4e5fc9650,Pass mistral::api service_name from t-h-t,MERGED,2017-04-26 17:47:46.000000000,2017-05-26 14:48:19.000000000,2017-05-26 14:48:19.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8532}, {'_account_id': 9414}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-04-26 17:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6a114626f2c6e2402269095ff7a9ea870e0b881c', 'message': 'Pass mistral::api service_name from t-h-t\n\nIn order to have the chicken-egg work, service_name had to be explicitly\npassed to ::mistral::api. This switches to using values from t-h-t.\n\nChange-Id: Ib94e51f863ba59a1a1db47d58aed3ba4e5fc9650\nDepends-On: Ie98dd5061d92dbc3c15bdd8926b0e3d62cc471f6\n'}, {'number': 2, 'created': '2017-04-28 13:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d0ede98ad0d256a07b9b1902f9a34e48f1ecdff3', 'message': 'Pass mistral::api service_name from t-h-t\n\nIn order to have the chicken-egg work, service_name had to be explicitly\npassed to ::mistral::api. This switches to using values from t-h-t.\n\nChange-Id: Ib94e51f863ba59a1a1db47d58aed3ba4e5fc9650\nDepends-On: Ie98dd5061d92dbc3c15bdd8926b0e3d62cc471f6\n'}, {'number': 3, 'created': '2017-05-06 15:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/749c6c6b29ba58bb4944c2340ead364970f08e6f', 'message': 'Pass mistral::api service_name from t-h-t\n\nIn order to have the chicken-egg work, service_name had to be explicitly\npassed to ::mistral::api. This switches to using values from t-h-t.\n\nChange-Id: Ib94e51f863ba59a1a1db47d58aed3ba4e5fc9650\nDepends-On: Ie98dd5061d92dbc3c15bdd8926b0e3d62cc471f6\n'}, {'number': 4, 'created': '2017-05-06 19:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a2c9b13ed6cefe97b5b4132cc48ffcaba950bb78', 'message': 'Pass mistral::api service_name from t-h-t\n\nIn order to have the chicken-egg work, service_name had to be explicitly\npassed to ::mistral::api. This switches to using values from t-h-t.\n\nChange-Id: Ib94e51f863ba59a1a1db47d58aed3ba4e5fc9650\nDepends-On: Ie98dd5061d92dbc3c15bdd8926b0e3d62cc471f6\n'}, {'number': 5, 'created': '2017-05-06 23:14:59.000000000', 'files': ['manifests/profile/base/mistral/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5f0f850d78f9bf7393fe77313aedaf1d32da8b40', 'message': 'Pass mistral::api service_name from t-h-t\n\nIn order to have the chicken-egg work, service_name had to be explicitly\npassed to ::mistral::api. This switches to using values from t-h-t.\n\nChange-Id: Ib94e51f863ba59a1a1db47d58aed3ba4e5fc9650\nDepends-On: Ie98dd5061d92dbc3c15bdd8926b0e3d62cc471f6\n'}]",0,460237,5f0f850d78f9bf7393fe77313aedaf1d32da8b40,24,6,5,7065,,,0,"Pass mistral::api service_name from t-h-t

In order to have the chicken-egg work, service_name had to be explicitly
passed to ::mistral::api. This switches to using values from t-h-t.

Change-Id: Ib94e51f863ba59a1a1db47d58aed3ba4e5fc9650
Depends-On: Ie98dd5061d92dbc3c15bdd8926b0e3d62cc471f6
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/37/460237/5 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/mistral/api.pp'],1,6a114626f2c6e2402269095ff7a9ea870e0b881c,mistral-wsgi, include ::mistral::api," # TODO: Cleanup when this passes t-h-t class { '::mistral::api': service_name => 'httpd', } ",1,5
openstack%2Fopenstack-ansible-os_heat~master~I71beabddccd169d26408c3ef827ee4ec567e3b47,openstack/openstack-ansible-os_heat,master,I71beabddccd169d26408c3ef827ee4ec567e3b47,Allow the developer constraints to be adjusted,MERGED,2017-05-26 11:07:05.000000000,2017-05-26 14:47:52.000000000,2017-05-26 14:47:52.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 11:07:05.000000000', 'files': ['tasks/heat_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/bca8870f52a4f5573ed7fa5513872c0d4135205a', 'message': 'Allow the developer constraints to be adjusted\n\nIn order to do a developer mode that allows installation of packages\nfrom local file, which take precedence over the developer_mode\nconstraints, we need to allow the order of the constraints to be changed.\n\nThis patch adds a ""pip_install_developer_constraints"" var which is used\nto set the developer mode constraints. By default this will leave the\nsame behaviour but will allow additional constraints to be added, or the\ndevelopermode constraints file to be overriden altogether.\n\nAdditionally, fix bug where keystone_developer_mode was used instead of\nheat_developer_mode.\n\nChange-Id: I71beabddccd169d26408c3ef827ee4ec567e3b47\n'}]",0,468370,bca8870f52a4f5573ed7fa5513872c0d4135205a,8,3,1,2799,,,0,"Allow the developer constraints to be adjusted

In order to do a developer mode that allows installation of packages
from local file, which take precedence over the developer_mode
constraints, we need to allow the order of the constraints to be changed.

This patch adds a ""pip_install_developer_constraints"" var which is used
to set the developer mode constraints. By default this will leave the
same behaviour but will allow additional constraints to be added, or the
developermode constraints file to be overriden altogether.

Additionally, fix bug where keystone_developer_mode was used instead of
heat_developer_mode.

Change-Id: I71beabddccd169d26408c3ef827ee4ec567e3b47
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/70/468370/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/heat_install.yml'],1,bca8870f52a4f5573ed7fa5513872c0d4135205a,dev_constraints," {{ heat_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }} {{ heat_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }}"," {{ keystone_developer_mode | ternary('--constraint /opt/developer-pip-constraints.txt', '') }}",2,1
openstack%2Fopenstack-ansible-os_zaqar~master~I4022629a957a11ac90026a4df13855324db4c2a9,openstack/openstack-ansible-os_zaqar,master,I4022629a957a11ac90026a4df13855324db4c2a9,Allow the developer constraints to be adjusted,MERGED,2017-05-26 11:10:24.000000000,2017-05-26 14:45:16.000000000,2017-05-26 14:45:16.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 11:10:24.000000000', 'files': ['tasks/zaqar_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zaqar/commit/5a265871337dc02268b99e03f1cd21ff2e35dc86', 'message': 'Allow the developer constraints to be adjusted\n\nIn order to do a developer mode that allows installation of packages\nfrom local file, which take precedence over the developer_mode\nconstraints, we need to allow the order of the constraints to be\nchanged.\n\nThis patch adds a ""pip_install_developer_constraints"" var which is used\nto set the developer mode constraints. By default this will leave the\nsame behaviour but will allow additional constraints to be added, or the\ndevelopermode constraints file to be overriden altogether.\n\nChange-Id: I4022629a957a11ac90026a4df13855324db4c2a9\n'}]",0,468386,5a265871337dc02268b99e03f1cd21ff2e35dc86,7,3,1,2799,,,0,"Allow the developer constraints to be adjusted

In order to do a developer mode that allows installation of packages
from local file, which take precedence over the developer_mode
constraints, we need to allow the order of the constraints to be
changed.

This patch adds a ""pip_install_developer_constraints"" var which is used
to set the developer mode constraints. By default this will leave the
same behaviour but will allow additional constraints to be added, or the
developermode constraints file to be overriden altogether.

Change-Id: I4022629a957a11ac90026a4df13855324db4c2a9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zaqar refs/changes/86/468386/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/zaqar_install.yml'],1,5a265871337dc02268b99e03f1cd21ff2e35dc86,dev_constraints," {{ zaqar_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }} {{ zaqar_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }}"," {{ zaqar_developer_mode | ternary('--constraint /opt/developer-pip-constraints.txt', '') }}",2,1
openstack%2Ftripleo-ci~master~I33081014402dcf40f681064de00669ca04c1e744,openstack/tripleo-ci,master,I33081014402dcf40f681064de00669ca04c1e744,toci_gate_test-orig.sh: add missing OVERCLOUD_DEPLOY_ARGS on ocata jobs,ABANDONED,2017-05-25 15:21:35.000000000,2017-05-26 14:45:15.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7144}]","[{'number': 1, 'created': '2017-05-25 15:21:35.000000000', 'files': ['toci_gate_test-orig.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/675b3687205f224dac1681bbcb6e499e1edac271', 'message': ""toci_gate_test-orig.sh: add missing OVERCLOUD_DEPLOY_ARGS on ocata jobs\n\nLoad /usr/share/openstack-tripleo-heat-templates/environments/deployed-server-bootstrap-environment-centos.yaml\nafter Newton when deploying multinode jobs otherwise Packages won't be\ndeployed by Puppet like we want.\n\nChange-Id: I33081014402dcf40f681064de00669ca04c1e744\n""}]",2,468062,675b3687205f224dac1681bbcb6e499e1edac271,6,3,1,3153,,,0,"toci_gate_test-orig.sh: add missing OVERCLOUD_DEPLOY_ARGS on ocata jobs

Load /usr/share/openstack-tripleo-heat-templates/environments/deployed-server-bootstrap-environment-centos.yaml
after Newton when deploying multinode jobs otherwise Packages won't be
deployed by Puppet like we want.

Change-Id: I33081014402dcf40f681064de00669ca04c1e744
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/62/468062/1 && git format-patch -1 --stdout FETCH_HEAD,['toci_gate_test-orig.sh'],1,675b3687205f224dac1681bbcb6e499e1edac271,deployed-server-environment," OVERCLOUD_DEPLOY_ARGS=""$OVERCLOUD_DEPLOY_ARGS -e /usr/share/openstack-tripleo-heat-templates/environments/deployed-server-bootstrap-environment-centos.yaml """,,1,0
openstack%2Fopenstack-ansible-os_barbican~master~I43a36ee0d887501c9e91bf27f975e4465dcd5d52,openstack/openstack-ansible-os_barbican,master,I43a36ee0d887501c9e91bf27f975e4465dcd5d52,Allow the developer constraints to be adjusted,MERGED,2017-05-26 11:05:41.000000000,2017-05-26 14:42:39.000000000,2017-05-26 14:42:39.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 11:05:41.000000000', 'files': ['tests/test-barbican-functional.yml', 'tasks/barbican_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/ed8e52b82055dffa0e3403400deb6f188c62b93c', 'message': 'Allow the developer constraints to be adjusted\n\nIn order to do a developer mode that allows installation of packages\nfrom local file, which take precedence over the developer_mode\nconstraints, we need to allow the order of the constraints to be\nchanged.\n\nThis patch adds a ""pip_install_developer_constraints"" var which is used\nto set the developer mode constraints. By default this will leave the\nsame behaviour but will allow additional constraints to be added, or the\ndevelopermode constraints file to be overriden altogether.\n\nChange-Id: I43a36ee0d887501c9e91bf27f975e4465dcd5d52\n'}]",0,468363,ed8e52b82055dffa0e3403400deb6f188c62b93c,7,3,1,2799,,,0,"Allow the developer constraints to be adjusted

In order to do a developer mode that allows installation of packages
from local file, which take precedence over the developer_mode
constraints, we need to allow the order of the constraints to be
changed.

This patch adds a ""pip_install_developer_constraints"" var which is used
to set the developer mode constraints. By default this will leave the
same behaviour but will allow additional constraints to be added, or the
developermode constraints file to be overriden altogether.

Change-Id: I43a36ee0d887501c9e91bf27f975e4465dcd5d52
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/63/468363/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-barbican-functional.yml', 'tasks/barbican_install.yml']",2,ed8e52b82055dffa0e3403400deb6f188c62b93c,dev_constraints," {{ barbican_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }} {{ barbican_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }}"," {{ barbican_developer_mode | ternary('--constraint /opt/developer-pip-constraints.txt', '') }}",5,1
openstack%2Fopenstack-ansible-os_trove~master~I64affcd1b3d5580e1cee5047df465e2ab8144211,openstack/openstack-ansible-os_trove,master,I64affcd1b3d5580e1cee5047df465e2ab8144211,Allow the developer constraints to be adjusted,MERGED,2017-05-26 11:10:07.000000000,2017-05-26 14:42:11.000000000,2017-05-26 14:42:11.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 11:10:07.000000000', 'files': ['tasks/trove_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/9855742abdf542d135d83ebd3072890b16d18af4', 'message': 'Allow the developer constraints to be adjusted\n\nIn order to do a developer mode that allows installation of packages\nfrom local file, which take precedence over the developer_mode\nconstraints, we need to allow the order of the constraints to be\nchanged.\n\nThis patch adds a ""pip_install_developer_constraints"" var which is used\nto set the developer mode constraints. By default this will leave the\nsame behaviour but will allow additional constraints to be added, or the\ndevelopermode constraints file to be overriden altogether.\n\nChange-Id: I64affcd1b3d5580e1cee5047df465e2ab8144211\n'}]",0,468384,9855742abdf542d135d83ebd3072890b16d18af4,7,3,1,2799,,,0,"Allow the developer constraints to be adjusted

In order to do a developer mode that allows installation of packages
from local file, which take precedence over the developer_mode
constraints, we need to allow the order of the constraints to be
changed.

This patch adds a ""pip_install_developer_constraints"" var which is used
to set the developer mode constraints. By default this will leave the
same behaviour but will allow additional constraints to be added, or the
developermode constraints file to be overriden altogether.

Change-Id: I64affcd1b3d5580e1cee5047df465e2ab8144211
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/84/468384/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/trove_install.yml'],1,9855742abdf542d135d83ebd3072890b16d18af4,dev_constraints," {{ trove_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }} {{ trove_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }}"," {{ trove_developer_mode | ternary('--constraint /opt/developer-pip-constraints.txt', '') }}",2,1
openstack%2Fopenstack-ansible-os_cloudkitty~master~Ic28a42d4475e9334567d155ba182e15c7a829d4d,openstack/openstack-ansible-os_cloudkitty,master,Ic28a42d4475e9334567d155ba182e15c7a829d4d,Allow the developer constraints to be adjusted,MERGED,2017-05-26 11:06:12.000000000,2017-05-26 14:38:13.000000000,2017-05-26 14:38:13.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 11:06:12.000000000', 'files': ['tasks/cloudkitty_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/e0e1c504f4756cf2c0d7ba793add33158f77bca7', 'message': 'Allow the developer constraints to be adjusted\n\nIn order to do a developer mode that allows installation of packages\nfrom local file, which take precedence over the developer_mode\nconstraints, we need to allow the order of the constraints to be changed.\n\nThis patch adds a ""pip_install_developer_constraints"" var which is used\nto set the developer mode constraints. By default this will leave the\nsame behaviour but will allow additional constraints to be added, or the\ndevelopermode constraints file to be overriden altogether.\n\nAdditionally, fix bug where incorrect ""keystone_developer_mode"" variable\nwas used in cloudkitty role.\n\nChange-Id: Ic28a42d4475e9334567d155ba182e15c7a829d4d\n'}]",0,468366,e0e1c504f4756cf2c0d7ba793add33158f77bca7,7,3,1,2799,,,0,"Allow the developer constraints to be adjusted

In order to do a developer mode that allows installation of packages
from local file, which take precedence over the developer_mode
constraints, we need to allow the order of the constraints to be changed.

This patch adds a ""pip_install_developer_constraints"" var which is used
to set the developer mode constraints. By default this will leave the
same behaviour but will allow additional constraints to be added, or the
developermode constraints file to be overriden altogether.

Additionally, fix bug where incorrect ""keystone_developer_mode"" variable
was used in cloudkitty role.

Change-Id: Ic28a42d4475e9334567d155ba182e15c7a829d4d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/66/468366/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/cloudkitty_install.yml'],1,e0e1c504f4756cf2c0d7ba793add33158f77bca7,dev_constraints," {{ cloudkitty_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }} {{ cloudkitty_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }}"," {{ keystone_developer_mode | ternary('--constraint /opt/developer-pip-constraints.txt', '') }}",2,1
openstack%2Fopenstack-ansible-os_rally~master~Ic1e11482673df6da3a13c63947ccd27711a1248a,openstack/openstack-ansible-os_rally,master,Ic1e11482673df6da3a13c63947ccd27711a1248a,Allow the developer constraints to be adjusted,MERGED,2017-05-26 11:09:14.000000000,2017-05-26 14:32:55.000000000,2017-05-26 14:32:55.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 11:09:14.000000000', 'files': ['tasks/rally_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/a1ca8da03c2c9289f670b01a10addca689bffaff', 'message': 'Allow the developer constraints to be adjusted\n\nIn order to do a developer mode that allows installation of packages\nfrom local file, which take precedence over the developer_mode\nconstraints, we need to allow the order of the constraints to be\nchanged.\n\nThis patch adds a ""pip_install_developer_constraints"" var which is used\nto set the developer mode constraints. By default this will leave the\nsame behaviour but will allow additional constraints to be added, or the\ndevelopermode constraints file to be overriden altogether.\n\nChange-Id: Ic1e11482673df6da3a13c63947ccd27711a1248a\n'}]",0,468379,a1ca8da03c2c9289f670b01a10addca689bffaff,7,3,1,2799,,,0,"Allow the developer constraints to be adjusted

In order to do a developer mode that allows installation of packages
from local file, which take precedence over the developer_mode
constraints, we need to allow the order of the constraints to be
changed.

This patch adds a ""pip_install_developer_constraints"" var which is used
to set the developer mode constraints. By default this will leave the
same behaviour but will allow additional constraints to be added, or the
developermode constraints file to be overriden altogether.

Change-Id: Ic1e11482673df6da3a13c63947ccd27711a1248a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/79/468379/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/rally_install.yml'],1,a1ca8da03c2c9289f670b01a10addca689bffaff,dev_constraints," {{ rally_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }} {{ rally_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }}"," {{ rally_developer_mode | ternary('--constraint /opt/developer-pip-constraints.txt', '') }}",2,1
openstack%2Fnova~master~I614db98727f4737deb6728ee874ab0f68024ebe5,openstack/nova,master,I614db98727f4737deb6728ee874ab0f68024ebe5,Remove the can_host column,MERGED,2017-05-01 19:53:09.000000000,2017-05-26 14:30:13.000000000,2017-05-26 14:30:12.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-05-01 19:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44b85e46a209ea6cd462b2d8b137e35d8f910b80', 'message': 'Remove the can_host column\n\nOriginally it was felt that we would need this column to distinguish\nbetween compute nodes and non-compute providers. With the advent of\ntraits, though, this column is no longer used or needed.\n\nCloses-Bug: #1648197\n\nChange-Id: I614db98727f4737deb6728ee874ab0f68024ebe5\n'}, {'number': 2, 'created': '2017-05-01 22:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4622c59fdcbf19b6ddef81bac77db3ce6714de28', 'message': 'Remove the can_host column\n\nOriginally it was felt that we would need this column to distinguish\nbetween compute nodes and non-compute providers. With the advent of\ntraits, though, this column is no longer used or needed.\n\nCloses-Bug: #1648197\n\nChange-Id: I614db98727f4737deb6728ee874ab0f68024ebe5\n'}, {'number': 3, 'created': '2017-05-02 18:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc18f9f3c8241b739724ced91e2783a5beeec60b', 'message': 'Remove the can_host column\n\nOriginally it was felt that we would need this column to distinguish\nbetween compute nodes and non-compute providers. With the advent of\ntraits, though, this column is no longer used or needed.\n\nCloses-Bug: #1648197\n\nChange-Id: I614db98727f4737deb6728ee874ab0f68024ebe5\n'}, {'number': 4, 'created': '2017-05-08 12:30:20.000000000', 'files': ['nova/objects/resource_provider.py', 'nova/tests/functional/db/test_resource_provider.py', 'nova/db/sqlalchemy/api_models.py', 'nova/tests/functional/db/api/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fcfe28192eaa63d2ca000d38bc435a5e662ad8f5', 'message': 'Remove the can_host column\n\nOriginally it was felt that we would need this column to distinguish\nbetween compute nodes and non-compute providers. With the advent of\ntraits, though, this column is no longer used or needed.\n\nCloses-Bug: #1648197\n\nChange-Id: I614db98727f4737deb6728ee874ab0f68024ebe5\n'}]",5,461494,fcfe28192eaa63d2ca000d38bc435a5e662ad8f5,90,19,4,1063,,,0,"Remove the can_host column

Originally it was felt that we would need this column to distinguish
between compute nodes and non-compute providers. With the advent of
traits, though, this column is no longer used or needed.

Closes-Bug: #1648197

Change-Id: I614db98727f4737deb6728ee874ab0f68024ebe5
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/461494/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/api_migrations/migrate_repo/versions/042_remove_can_host.py', 'nova/db/sqlalchemy/api_models.py', 'nova/tests/functional/db/api/test_migrations.py']",3,44b85e46a209ea6cd462b2d8b137e35d8f910b80,bug/1648197," def assertColumnNotExists(self, engine, table_name, column): self.assertFalse(db_utils.column_exists(engine, table_name, column), 'Column %s.%s does not exist' % (table_name, column)) def _check_042(self, engine, data): self.assertColumnNotExists(engine, 'resource_providers', 'can_host') ",,33,1
openstack%2Fproject-config~master~Ia6a1f42c40f6140a4cdb22f4e57979e177d1b116,openstack/project-config,master,Ia6a1f42c40f6140a4cdb22f4e57979e177d1b116,Do not install recommended packages with zypper,ABANDONED,2017-05-26 00:59:54.000000000,2017-05-26 14:29:43.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-05-26 00:59:54.000000000', 'files': ['jenkins/scripts/install-distro-packages.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/82d25a8b45af8b4c37e984a8665d0890296f3a32', 'message': 'Do not install recommended packages with zypper\n\nzypper would install 2000+ packages  - all of tex. Avoid this with\nnot installing recommended packages.\n\nChange-Id: Ia6a1f42c40f6140a4cdb22f4e57979e177d1b116\n'}]",0,468225,82d25a8b45af8b4c37e984a8665d0890296f3a32,3,1,1,6547,,,0,"Do not install recommended packages with zypper

zypper would install 2000+ packages  - all of tex. Avoid this with
not installing recommended packages.

Change-Id: Ia6a1f42c40f6140a4cdb22f4e57979e177d1b116
",git fetch https://review.opendev.org/openstack/project-config refs/changes/25/468225/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/scripts/install-distro-packages.sh'],1,82d25a8b45af8b4c37e984a8665d0890296f3a32,no-recommends, sudo PATH=/usr/sbin:/sbin:$PATH zypper --non-interactive \ --no-recommends install \, sudo PATH=/usr/sbin:/sbin:$PATH zypper --non-interactive install \,2,1
openstack%2Fdevstack-gate~master~Ie0f25f06bdd539945f5f9c26885f0388354bd129,openstack/devstack-gate,master,Ie0f25f06bdd539945f5f9c26885f0388354bd129,Compress stackviz data,MERGED,2017-05-25 23:42:16.000000000,2017-05-26 14:29:35.000000000,2017-05-26 14:29:35.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5263}]","[{'number': 1, 'created': '2017-05-25 23:42:16.000000000', 'files': ['functions.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/54fc1e980731b6cf206147f1bd7a817493ee1755', 'message': 'Compress stackviz data\n\nEach stackviz ""install"" needs about 15MB of disk, a significant portion\nof which is just json data that is rendered. We can compress that as\nlong as our server knows to serve .json.gz when asked for .json files\n(and it should, but this serves as a self testing check of that).\n\nChange-Id: Ie0f25f06bdd539945f5f9c26885f0388354bd129\n'}]",0,468207,54fc1e980731b6cf206147f1bd7a817493ee1755,8,3,1,4146,,,0,"Compress stackviz data

Each stackviz ""install"" needs about 15MB of disk, a significant portion
of which is just json data that is rendered. We can compress that as
long as our server knows to serve .json.gz when asked for .json files
(and it should, but this serves as a self testing check of that).

Change-Id: Ie0f25f06bdd539945f5f9c26885f0388354bd129
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/07/468207/1 && git format-patch -1 --stdout FETCH_HEAD,['functions.sh'],1,54fc1e980731b6cf206147f1bd7a817493ee1755,less-logs, # Compress the stackviz data as it is quite large. sudo find $log_path/stackviz -iname '*.json' -execdir gzip -9 {} \+,,2,0
openstack%2Fopenstack-ansible-os_watcher~master~I5f0b769503de5b4c45e6d3a57ac45f13473d1d27,openstack/openstack-ansible-os_watcher,master,I5f0b769503de5b4c45e6d3a57ac45f13473d1d27,Allow the developer constraints to be adjusted,MERGED,2017-05-26 11:10:16.000000000,2017-05-26 14:28:46.000000000,2017-05-26 14:28:46.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 11:10:16.000000000', 'files': ['tasks/watcher_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_watcher/commit/4b6822cbbfbd15bf5ff60dbc10cfa40995ec1d21', 'message': 'Allow the developer constraints to be adjusted\n\nIn order to do a developer mode that allows installation of packages\nfrom local file, which take precedence over the developer_mode\nconstraints, we need to allow the order of the constraints to be\nchanged.\n\nThis patch adds a ""pip_install_developer_constraints"" var which is used\nto set the developer mode constraints. By default this will leave the\nsame behaviour but will allow additional constraints to be added, or the\ndevelopermode constraints file to be overriden altogether.\n\nChange-Id: I5f0b769503de5b4c45e6d3a57ac45f13473d1d27\n'}]",0,468385,4b6822cbbfbd15bf5ff60dbc10cfa40995ec1d21,7,3,1,2799,,,0,"Allow the developer constraints to be adjusted

In order to do a developer mode that allows installation of packages
from local file, which take precedence over the developer_mode
constraints, we need to allow the order of the constraints to be
changed.

This patch adds a ""pip_install_developer_constraints"" var which is used
to set the developer mode constraints. By default this will leave the
same behaviour but will allow additional constraints to be added, or the
developermode constraints file to be overriden altogether.

Change-Id: I5f0b769503de5b4c45e6d3a57ac45f13473d1d27
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_watcher refs/changes/85/468385/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/watcher_install.yml'],1,4b6822cbbfbd15bf5ff60dbc10cfa40995ec1d21,dev_constraints," {{ watcher_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }} {{ watcher_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }}"," {{ watcher_developer_mode | ternary('--constraint /opt/developer-pip-constraints.txt', '') }}",2,1
openstack%2Fdevstack-gate~master~I5a35e5a786aec9d2d13a702638d5c3addee0544c,openstack/devstack-gate,master,I5a35e5a786aec9d2d13a702638d5c3addee0544c,"Don't record lvmdump, its not useful",MERGED,2017-05-25 21:15:58.000000000,2017-05-26 14:28:12.000000000,2017-05-26 14:28:12.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5263}]","[{'number': 1, 'created': '2017-05-25 21:15:58.000000000', 'files': ['functions.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/f014fcf775ca292e60fe8e53ae66182563aac9f3', 'message': ""Don't record lvmdump, its not useful\n\nThis was an experiment in attempting to get useful logging for debugging\nlvm issues, but it turns out the data collected wasn't helpful. Also\nproblems went away on their own.\n\nChange-Id: I5a35e5a786aec9d2d13a702638d5c3addee0544c\n""}]",0,468164,f014fcf775ca292e60fe8e53ae66182563aac9f3,8,3,1,4146,,,0,"Don't record lvmdump, its not useful

This was an experiment in attempting to get useful logging for debugging
lvm issues, but it turns out the data collected wasn't helpful. Also
problems went away on their own.

Change-Id: I5a35e5a786aec9d2d13a702638d5c3addee0544c
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/64/468164/1 && git format-patch -1 --stdout FETCH_HEAD,['functions.sh'],1,f014fcf775ca292e60fe8e53ae66182563aac9f3,less-logs,," # record lvm dumpage to debug cinder lvm issues. sudo -H lvmdump sudo find /root -name 'lvmdump*.tgz' -execdir cp '{}' ""$BASE/logs"" \; ",0,4
openstack%2Fdevstack~master~Idd6cf9eed4dde0136341396b4af869da5ddf77b8,openstack/devstack,master,Idd6cf9eed4dde0136341396b4af869da5ddf77b8,Ignore bad headers on tls proxy requests,ABANDONED,2017-01-04 15:56:15.000000000,2017-05-26 14:25:33.000000000,,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 7350}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-01-04 15:56:15.000000000', 'files': ['lib/tls'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a74517cbcca7175b7f4f2c4467203e85e09dd2d0', 'message': ""Ignore bad headers on tls proxy requests\n\nWe are encountering cases where apache is returning 502 after trying to\nproxy requests to keystone about tokens. This commit adjusts the proxy's\nstrategy on handling bad headers, instead of erroring out and returning\n502 this makes the proxy just ignore the bad headers. For more info on\nthis option see:\nhttps://httpd.apache.org/docs/2.4/mod/mod_proxy.html#proxybadheader\n\nChange-Id: Idd6cf9eed4dde0136341396b4af869da5ddf77b8\nRelated-Bug: #1653856\n""}]",2,416596,a74517cbcca7175b7f4f2c4467203e85e09dd2d0,9,7,1,5196,,,0,"Ignore bad headers on tls proxy requests

We are encountering cases where apache is returning 502 after trying to
proxy requests to keystone about tokens. This commit adjusts the proxy's
strategy on handling bad headers, instead of erroring out and returning
502 this makes the proxy just ignore the bad headers. For more info on
this option see:
https://httpd.apache.org/docs/2.4/mod/mod_proxy.html#proxybadheader

Change-Id: Idd6cf9eed4dde0136341396b4af869da5ddf77b8
Related-Bug: #1653856
",git fetch https://review.opendev.org/openstack/devstack refs/changes/96/416596/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tls'],1,a74517cbcca7175b7f4f2c4467203e85e09dd2d0,bug/1653856, ProxyBadHeader Ignore,,1,0
openstack%2Fcookiecutter~master~I8b651960a44a0ea962383cc8f0b31f12b4851bce,openstack/cookiecutter,master,I8b651960a44a0ea962383cc8f0b31f12b4851bce,Usage: install cookiecutter firstly,MERGED,2017-05-23 03:23:30.000000000,2017-05-26 14:21:10.000000000,2017-05-26 14:21:09.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}]","[{'number': 1, 'created': '2017-05-23 03:23:30.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/99947bc69704550549a3b2450d506b08b27b4380', 'message': 'Usage: install cookiecutter firstly\n\nChange-Id: I8b651960a44a0ea962383cc8f0b31f12b4851bce\n'}]",0,466996,99947bc69704550549a3b2450d506b08b27b4380,7,3,1,9796,,,0,"Usage: install cookiecutter firstly

Change-Id: I8b651960a44a0ea962383cc8f0b31f12b4851bce
",git fetch https://review.opendev.org/openstack/cookiecutter refs/changes/96/466996/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,99947bc69704550549a3b2450d506b08b27b4380,add_install_cookiecutter,Install cookiecutter:: pip install cookiecutter ,,4,0
openstack%2Fcookiecutter~master~Ief714bba21edfd72609056659be517227dbb52f5,openstack/cookiecutter,master,Ief714bba21edfd72609056659be517227dbb52f5,Update test-requirements.txt to latest,MERGED,2017-05-24 11:06:03.000000000,2017-05-26 14:20:40.000000000,2017-05-26 14:20:40.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}]","[{'number': 1, 'created': '2017-05-24 11:06:03.000000000', 'files': ['{{cookiecutter.repo_name}}/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/9fd9e035f0db2970ef83e88fdc991de63231f121', 'message': 'Update test-requirements.txt to latest\n\nThe 1.6.1 release of sphinx has introduced a couple of backwards\nincompatibilities that break our doc and release notes builds. Block it\nuntil we can work around the issue.\n\nChange-Id: Ief714bba21edfd72609056659be517227dbb52f5\n'}]",0,467585,9fd9e035f0db2970ef83e88fdc991de63231f121,7,3,1,9796,,,0,"Update test-requirements.txt to latest

The 1.6.1 release of sphinx has introduced a couple of backwards
incompatibilities that break our doc and release notes builds. Block it
until we can work around the issue.

Change-Id: Ief714bba21edfd72609056659be517227dbb52f5
",git fetch https://review.opendev.org/openstack/cookiecutter refs/changes/85/467585/1 && git format-patch -1 --stdout FETCH_HEAD,['{{cookiecutter.repo_name}}/test-requirements.txt'],1,9fd9e035f0db2970ef83e88fdc991de63231f121,,"coverage>=4.0,!=4.4 # Apache-2.0sphinx!=1.6.1,>=1.5.1 # BSD",coverage>=4.0 # Apache-2.0sphinx>=1.5.1 # BSD,2,2
openstack%2Fopenstack-ansible-os_molteniron~master~Ibd281ceb0696c233a2f17bab162ae3158cf76a95,openstack/openstack-ansible-os_molteniron,master,Ibd281ceb0696c233a2f17bab162ae3158cf76a95,Allow the developer constraints to be adjusted,MERGED,2017-05-26 11:08:28.000000000,2017-05-26 14:17:01.000000000,2017-05-26 14:17:01.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 11:08:28.000000000', 'files': ['tasks/molteniron_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_molteniron/commit/f487af10c2caef009e64b020501715b30094958b', 'message': 'Allow the developer constraints to be adjusted\n\nIn order to do a developer mode that allows installation of packages\nfrom local file, which take precedence over the developer_mode\nconstraints, we need to allow the order of the constraints to be\nchanged.\n\nThis patch adds a ""pip_install_developer_constraints"" var which is used\nto set the developer mode constraints. By default this will leave the\nsame behaviour but will allow additional constraints to be added, or the\ndevelopermode constraints file to be overriden altogether.\n\nChange-Id: Ibd281ceb0696c233a2f17bab162ae3158cf76a95\n'}]",0,468375,f487af10c2caef009e64b020501715b30094958b,7,3,1,2799,,,0,"Allow the developer constraints to be adjusted

In order to do a developer mode that allows installation of packages
from local file, which take precedence over the developer_mode
constraints, we need to allow the order of the constraints to be
changed.

This patch adds a ""pip_install_developer_constraints"" var which is used
to set the developer mode constraints. By default this will leave the
same behaviour but will allow additional constraints to be added, or the
developermode constraints file to be overriden altogether.

Change-Id: Ibd281ceb0696c233a2f17bab162ae3158cf76a95
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_molteniron refs/changes/75/468375/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/molteniron_install.yml'],1,f487af10c2caef009e64b020501715b30094958b,dev_constraints," {{ molteniron_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }} {{ molteniron_developer_mode | ternary(pip_install_developer_constraints | default('--constraint /opt/developer-pip-constraints.txt'), '') }}"," {{ molteniron_developer_mode | ternary('--constraint /opt/developer-pip-constraints.txt', '') }}",2,1
openstack%2Fhorizon~master~I89c41d20a3a7ca2f31f9cd76d8986661861fc11c,openstack/horizon,master,I89c41d20a3a7ca2f31f9cd76d8986661861fc11c,Make @memoize thread-aware,ABANDONED,2017-05-22 17:17:15.000000000,2017-05-26 14:15:42.000000000,,"[{'_account_id': 3}, {'_account_id': 8478}, {'_account_id': 12826}]","[{'number': 1, 'created': '2017-05-22 17:17:15.000000000', 'files': ['horizon/utils/memoized.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9b62cf8055cd6ac2d771e3ca8a444721bc10332d', 'message': ""Make @memoize thread-aware\n\nIf 2 parallel threads simultaneously make an expensive call to a\nmemoized function with arguments for which the returned value wasn's\ncached before, 2 calls are effectively made in parallel.\n\nIt's better to avoid such a situation and if one thread already\ninitiated an expensive call, block on it in another thread and once\nthe call in the first thread is completed, unblock and reuse the value\nwhich is cached now.\n\nChange-Id: I89c41d20a3a7ca2f31f9cd76d8986661861fc11c\n""}]",0,466823,9b62cf8055cd6ac2d771e3ca8a444721bc10332d,5,3,1,8478,,,0,"Make @memoize thread-aware

If 2 parallel threads simultaneously make an expensive call to a
memoized function with arguments for which the returned value wasn's
cached before, 2 calls are effectively made in parallel.

It's better to avoid such a situation and if one thread already
initiated an expensive call, block on it in another thread and once
the call in the first thread is completed, unblock and reuse the value
which is cached now.

Change-Id: I89c41d20a3a7ca2f31f9cd76d8986661861fc11c
",git fetch https://review.opendev.org/openstack/horizon refs/changes/23/466823/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/utils/memoized.py'],1,9b62cf8055cd6ac2d771e3ca8a444721bc10332d,,"import collectionsimport threading locks = collections.defaultdict(threading.Lock) del locks[key] with locks[key]: try: # We want cache hit to be as fast as possible, and don't # really care much about the speed of a cache miss, because # it will only happen once and likely calls some external # API, database, or some other slow thing. That's why the # hit is in straightforward code, and the miss is in an # exception. value = cache[key] except KeyError: value = cache[key] = func(*args, **kwargs) except TypeError: # The calculated key may be unhashable when an unhashable # object, such as a list, is passed as one of the arguments. In # that case, we can't cache anything and simply always call the # decorated function. ""The key %r is not hashable and cannot be memoized."" % (key,), UnhashableKeyWarning, 2)"," # We want cache hit to be as fast as possible, and don't really # care much about the speed of a cache miss, because it will only # happen once and likely calls some external API, database, or # some other slow thing. That's why the hit is in straightforward # code, and the miss is in an exception. value = cache[key] except KeyError: value = cache[key] = func(*args, **kwargs) except TypeError: # The calculated key may be unhashable when an unhashable object, # such as a list, is passed as one of the arguments. In that case, # we can't cache anything and simply always call the decorated # function. ""The key %r is not hashable and cannot be memoized."" % (key,), UnhashableKeyWarning, 2)",21,14
openstack%2Ftripleo-quickstart-extras~master~I26b340ba13382df55b5ce178b208cef6bb3f2e75,openstack/tripleo-quickstart-extras,master,I26b340ba13382df55b5ce178b208cef6bb3f2e75,Add a telemetry_args variable to deploy_args list,MERGED,2017-05-25 13:46:20.000000000,2017-05-26 14:10:18.000000000,2017-05-26 14:10:18.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8652}, {'_account_id': 10022}, {'_account_id': 10969}]","[{'number': 1, 'created': '2017-05-25 13:46:20.000000000', 'files': ['roles/overcloud-deploy/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8a58a1db33e6e7b3ad36f14b2b04af10736ed185', 'message': 'Add a telemetry_args variable to deploy_args list\n\nThis will be used to disable telemetry in our most resource\nintensive CI jobs.\n\nChange-Id: I26b340ba13382df55b5ce178b208cef6bb3f2e75\n'}]",0,468038,8a58a1db33e6e7b3ad36f14b2b04af10736ed185,11,5,1,12715,,,0,"Add a telemetry_args variable to deploy_args list

This will be used to disable telemetry in our most resource
intensive CI jobs.

Change-Id: I26b340ba13382df55b5ce178b208cef6bb3f2e75
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/38/468038/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/defaults/main.yml'],1,8a58a1db33e6e7b3ad36f14b2b04af10736ed185,bug/1680195,"telemetry_args: """" {{ telemetry_args }}",,2,0
openstack%2Fkolla~master~Ieb355e30fe7162c035f342fd5b0fb2573365f428,openstack/kolla,master,Ieb355e30fe7162c035f342fd5b0fb2573365f428,use proper package name for python-oslo.vmware,MERGED,2017-05-24 08:31:25.000000000,2017-05-26 14:04:50.000000000,2017-05-26 14:04:50.000000000,"[{'_account_id': 3}, {'_account_id': 13039}, {'_account_id': 19316}, {'_account_id': 24043}]","[{'number': 1, 'created': '2017-05-24 08:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b9bd6643d1d5ac28bfc15908816ea567697b9076', 'message': 'glance: use proper package name for python-oslo.vmware\n\npython-oslo-vmware was transitional package name\n\nChange-Id: Ieb355e30fe7162c035f342fd5b0fb2573365f428\n'}, {'number': 2, 'created': '2017-05-24 09:01:30.000000000', 'files': ['docker/glance/glance-base/Dockerfile.j2', 'docker/neutron/neutron-server/Dockerfile.j2', 'docker/nova/nova-compute/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ea9228c753d6a1e13c2b28933203d3755dfc9c83', 'message': 'use proper package name for python-oslo.vmware\n\npython-oslo-vmware was transitional package name\n\nChange-Id: Ieb355e30fe7162c035f342fd5b0fb2573365f428\n'}]",0,467521,ea9228c753d6a1e13c2b28933203d3755dfc9c83,11,4,2,24072,,,0,"use proper package name for python-oslo.vmware

python-oslo-vmware was transitional package name

Change-Id: Ieb355e30fe7162c035f342fd5b0fb2573365f428
",git fetch https://review.opendev.org/openstack/kolla refs/changes/21/467521/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/glance/glance-base/Dockerfile.j2'],1,b9bd6643d1d5ac28bfc15908816ea567697b9076,to-merge/glance," 'python-oslo.vmware',"," 'python-oslo-vmware',",1,1
openstack%2Fironic~master~Ie10876aa9453d4cda9249dc4008676814d264685,openstack/ironic,master,Ie10876aa9453d4cda9249dc4008676814d264685,Updated from global requirements,MERGED,2017-05-26 01:48:21.000000000,2017-05-26 13:59:37.000000000,2017-05-26 13:59:36.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 11655}]","[{'number': 1, 'created': '2017-05-26 01:48:21.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/17de9ee05b60255314bbc44741d4ec95d4bfa46b', 'message': 'Updated from global requirements\n\nChange-Id: Ie10876aa9453d4cda9249dc4008676814d264685\n'}]",0,468239,17de9ee05b60255314bbc44741d4ec95d4bfa46b,10,3,1,11131,,,0,"Updated from global requirements

Change-Id: Ie10876aa9453d4cda9249dc4008676814d264685
",git fetch https://review.opendev.org/openstack/ironic refs/changes/39/468239/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,17de9ee05b60255314bbc44741d4ec95d4bfa46b,openstack/requirements,oslo.middleware>=3.27.0 # Apache-2.0,oslo.middleware>=3.10.0 # Apache-2.0,1,1
openstack%2Fopenstack-manuals~master~I9da533266ab383ea6bdcf5be15625f73544e257d,openstack/openstack-manuals,master,I9da533266ab383ea6bdcf5be15625f73544e257d,OVS-DPDK integration documentation changed,MERGED,2017-05-15 14:44:17.000000000,2017-05-26 13:55:31.000000000,2017-05-26 13:55:30.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 964}, {'_account_id': 10068}, {'_account_id': 10607}, {'_account_id': 11604}, {'_account_id': 13739}, {'_account_id': 14947}, {'_account_id': 19779}]","[{'number': 1, 'created': '2017-05-15 14:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/104f18712352141165170028d33f83cc9f5cfe60', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}, {'number': 2, 'created': '2017-05-15 15:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6f7a02944f7b7d2c0c0878373d9181deba69e555', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}, {'number': 3, 'created': '2017-05-15 15:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7e55ad591fc83cf9deb9f8b960e6b2a4f2de29b7', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}, {'number': 4, 'created': '2017-05-15 15:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6ae3bbc83940f5d7153f2cc43d110a3a2a2bc7f5', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}, {'number': 5, 'created': '2017-05-15 15:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1eaf46267b21a8a1078cdb07d9dd523b6298ce72', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}, {'number': 6, 'created': '2017-05-16 07:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4f806d71b436bc5ee065fc880dabcf6492e65c8a', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}, {'number': 7, 'created': '2017-05-16 08:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/97f5bc1747e78911bf715baa14c8c52445114b8c', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}, {'number': 8, 'created': '2017-05-16 14:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7d5827a2ed7afba18952f7abeb343c4d58b26be1', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}, {'number': 9, 'created': '2017-05-16 15:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3000938f5e07b0d58494c41024cb356057a8235f', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}, {'number': 10, 'created': '2017-05-16 16:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3c137e0fea4a33c3192c025b11b661b4755a3e34', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}, {'number': 11, 'created': '2017-05-17 07:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7b6816c0fe70d2f490923dbe5a146c897df9fbbd', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}, {'number': 12, 'created': '2017-05-17 09:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6039172ac5b3df57d382de8f70b1b72bf4fdb57e', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}, {'number': 13, 'created': '2017-05-17 09:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/0b67f553964f8301b4404de8835a5663455cccc5', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}, {'number': 14, 'created': '2017-05-17 10:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/299178d91f8d67d619dd0f6883d0f1a36c22c2ad', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}, {'number': 15, 'created': '2017-05-17 12:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2689b085bc83bfda13db2ed67839a5dbec819ccc', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}, {'number': 16, 'created': '2017-05-18 15:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/85894afd4a6fd0cea7fbe361520e812c0e741abf', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}, {'number': 17, 'created': '2017-05-18 15:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d4528352a9753a7d703c66b5898647d22e967097', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}, {'number': 18, 'created': '2017-05-18 15:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/943af9c2523a0be2683b01505910bff45bc3ac43', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}, {'number': 19, 'created': '2017-05-19 11:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/7bb3670b08ff76ecb423820ff8e59fe8cdef554a', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}, {'number': 20, 'created': '2017-05-22 13:52:26.000000000', 'files': ['doc/networking-guide/source/config-ovs-dpdk.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8e700f55d356a701a17ccabbdd1b1b9e8468342c', 'message': 'OVS-DPDK integration documentation changed\n\nNetworking guide is changed to reference Neutron configuration\nfor OVS-DPDK and configuration for multiqueue virtio-net\n\nChange-Id: I9da533266ab383ea6bdcf5be15625f73544e257d\nCloses-Bug: 1689508\n'}]",92,464660,8e700f55d356a701a17ccabbdd1b1b9e8468342c,70,9,20,13739,,,0,"OVS-DPDK integration documentation changed

Networking guide is changed to reference Neutron configuration
for OVS-DPDK and configuration for multiqueue virtio-net

Change-Id: I9da533266ab383ea6bdcf5be15625f73544e257d
Closes-Bug: 1689508
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/60/464660/6 && git format-patch -1 --stdout FETCH_HEAD,['doc/networking-guide/source/config-ovs-dpdk.rst'],1,104f18712352141165170028d33f83cc9f5cfe60,bug/1689508,"Multiqueue support (vhost-user multiqueue/virtio-net multiqueue is available if the following newer versions are used:node. For more information, see: `OVS-DPDK https://github.com/openvswitch/ovs/blob/v2.5.0/INSTALL.DPDK.md>`__ installation guide (select appropriate OVS version in 'tag' drop-down menu) `Neutron configuration reference for OVS-DPDK <https://docs.openstack.org/developer/neutron/devref/ovs_vhostuser.html>`__ In case multiqueue configuration needs to be configured: `QEMU documentation on vhost-user <http://wiki.qemu.org/Documentation/vhost-user-ovs-dpdk>`__ The technical background of multiqueue is explained in corresponding `blueprint <https://specs.openstack.org/openstack/nova-specs/specs/liberty/implemented/libvirt-virtiomq.html>__Once OVS and Neutron are correctly configured with DPDK support, ``vhost-user`` interfaces are completely transparent to the guest (except in case of multiqueue configuration described below). However, guests must request huge pages. This can be done through flavors. For example:Using vhost-user multiqueue ~~~~~~~~~~~~~~~~~~~~~~~~~~~ To use this feature, the following should be set in the flavor extra specs (flavor keys): .. code-block:: console $ openstack flavor set $m1.large --property hw:vif_multiqueue_enabled=true This setting can be overriden by the image metadata property if the feature is enabled in the extra specs: .. code-block:: console $openstack image set --property hw_vif_mutliqueue_enabled=true imageName Support of virtio-net multiqueue needs to be present in kernel of guest and is available starting from Linux kernel 3.8. Following command might be needed in guest VM: .. code-block:: console $ ethtool -L <interface name> combined <queues_nr>' The number of queues should typically match the number of vCPUs defined for the instance. Starting from OpenStack Ocata it is possible to configure multiqueue for vrouter (OpenContrail) interfaces, see corresponding `blueprint <https://blueprints.launchpad.net/nova/+spec/vif-vrouter-multiqueue>`__ * Huge pages are required for each instance running on hosts with OVS-DPDK. If huge pages are not present in the guest, the interface will appear but","Multiqueue support is available if the following newer versions are used:node. For more information, see the `OVS-DPDK <https://github.com/openvswitch/ovs/blob/v2.5.0/INSTALL.DPDK.md>`__ installation guide.Once OVS is correctly configured with DPDK support, ``vhost-user`` interfaces are completely transparent to the guest. However, guests must request large pages. This can be done through flavors. For example:* Large pages are required for each instance running on hosts with OVS-DPDK. If large pages are not present in the guest, the interface will appear but",50,9
openstack%2Frequirements~master~I5db56341f48ff8fe4b2e8f6e18b5bf5c393653bb,openstack/requirements,master,I5db56341f48ff8fe4b2e8f6e18b5bf5c393653bb,Require oslo.context>=2.14.0,ABANDONED,2017-05-26 13:31:39.000000000,2017-05-26 13:45:20.000000000,,[],"[{'number': 1, 'created': '2017-05-26 13:31:39.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1005bf31a16a64d3b64f72fb8a7ffb08362d05e1', 'message': 'Require oslo.context>=2.14.0\n\nThis is needed for I6c56187f776602e0af88a368e41a4239901bde3e\ngetting used in projects.\n\nChange-Id: I5db56341f48ff8fe4b2e8f6e18b5bf5c393653bb\n'}]",0,468417,1005bf31a16a64d3b64f72fb8a7ffb08362d05e1,2,0,1,6873,,,0,"Require oslo.context>=2.14.0

This is needed for I6c56187f776602e0af88a368e41a4239901bde3e
getting used in projects.

Change-Id: I5db56341f48ff8fe4b2e8f6e18b5bf5c393653bb
",git fetch https://review.opendev.org/openstack/requirements refs/changes/17/468417/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,1005bf31a16a64d3b64f72fb8a7ffb08362d05e1,global_request_id,oslo.context>=2.14.0 # Apache-2.0,oslo.context>=2.12.0 # Apache-2.0,1,1
openstack%2Fironic-inspector~master~I8ecfaf0e967102e8d749a7392ccc59ec9162c40b,openstack/ironic-inspector,master,I8ecfaf0e967102e8d749a7392ccc59ec9162c40b,Updated from global requirements,MERGED,2017-05-26 01:48:23.000000000,2017-05-26 13:40:05.000000000,2017-05-26 13:40:05.000000000,"[{'_account_id': 3}, {'_account_id': 11655}, {'_account_id': 13636}]","[{'number': 1, 'created': '2017-05-26 01:48:23.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/30ac752df4d2fab2b7e753829d12083e96cc1ce1', 'message': 'Updated from global requirements\n\nChange-Id: I8ecfaf0e967102e8d749a7392ccc59ec9162c40b\n'}]",0,468240,30ac752df4d2fab2b7e753829d12083e96cc1ce1,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I8ecfaf0e967102e8d749a7392ccc59ec9162c40b
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/40/468240/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,30ac752df4d2fab2b7e753829d12083e96cc1ce1,openstack/requirements,oslo.middleware>=3.27.0 # Apache-2.0,oslo.middleware>=3.10.0 # Apache-2.0,1,1
openstack%2Fpuppet-ceilometer~master~Iaa352f73986be4f79ffac0838bedc0f2eaae01d3,openstack/puppet-ceilometer,master,Iaa352f73986be4f79ffac0838bedc0f2eaae01d3,Fix strict variable errors in ceilometer::agent::polling,MERGED,2017-03-30 16:42:07.000000000,2017-05-26 13:38:46.000000000,2017-04-03 23:01:05.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8971}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-03-30 16:42:07.000000000', 'files': ['manifests/agent/polling.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/5d63e7bc79440a2b2ee712c2931251fa80fc37fb', 'message': 'Fix strict variable errors in ceilometer::agent::polling\n\nMake sure all variables are defined.\n\nChange-Id: Iaa352f73986be4f79ffac0838bedc0f2eaae01d3\n'}]",0,451904,5d63e7bc79440a2b2ee712c2931251fa80fc37fb,14,4,1,7156,,,0,"Fix strict variable errors in ceilometer::agent::polling

Make sure all variables are defined.

Change-Id: Iaa352f73986be4f79ffac0838bedc0f2eaae01d3
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/04/451904/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/agent/polling.pp'],1,5d63e7bc79440a2b2ee712c2931251fa80fc37fb,undef-variables, } else { $central_namespace_name = '' } else { $compute_namespace_name = '' } else { $ipmi_namespace_name = '',,6,0
openstack%2Fnova~master~Ie683adb36d5e2a736ddbf714524c9c18f3c0d69c,openstack/nova,master,Ie683adb36d5e2a736ddbf714524c9c18f3c0d69c,Have nova.context use super from_context,MERGED,2017-05-25 10:58:32.000000000,2017-05-26 13:36:29.000000000,2017-05-25 18:36:56.000000000,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 6593}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-05-25 10:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/934e05f0810b8e6d62a3b11eaab8b27a5cba831a', 'message': ""remove oslo.context exact key tests\n\nWe have unit tests in Nova that are testing exact keys in\noslo.context, which prevents oslo.context from adding any new\nvalues. These are really legacy from when Nova owned all this code.\n\nThese should just be removed. oslo.context is sufficiently self\ntested, and used everywhere in the system. Coupling tests like this to\nlibraries shouldn't be part of our tree.\n\nChange-Id: Ie683adb36d5e2a736ddbf714524c9c18f3c0d69c\n""}, {'number': 2, 'created': '2017-05-25 14:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7f805c27cbc3bc6a94833dcc97e0a5f1be43d4e', 'message': ""Have nova.context use super from_context\n\nThe nova.context should be a super set of oslo.context in all cases,\nespecially after we've deserialized on the other side of the RPC\nbus. Our current code actually has a completely decoupled from_dict,\nwhich means that as fields are added to oslo.context we don't pick up\nany of those, and end up with a potentially broken and fragmented\ncontext on the workers.\n\nThis fixes that by using the parent constructor for all the fields we\ncan, and only explicitly load in a few fields that we also need.\n\nIt also simplifies the testing so that we're just testing that our\nextra fields end up in the context, and not exact matching everything\nin the context, as oslo.context may add important things over time.\n\nChange-Id: Ie683adb36d5e2a736ddbf714524c9c18f3c0d69c\n""}, {'number': 3, 'created': '2017-05-25 14:37:35.000000000', 'files': ['nova/context.py', 'nova/tests/unit/test_context.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/39c279e2edc8657a8925fa2126a98f6a85e402a3', 'message': ""Have nova.context use super from_context\n\nThe nova.context should be a super set of oslo.context in all cases,\nespecially after we've deserialized on the other side of the RPC\nbus. Our current code actually has a completely decoupled from_dict,\nwhich means that as fields are added to oslo.context we don't pick up\nany of those, and end up with a potentially broken and fragmented\ncontext on the workers.\n\nThis fixes that by using the parent constructor for all the fields we\ncan, and only explicitly load in a few fields that we also need.\n\nIt also simplifies the testing so that we're just testing that our\nextra fields end up in the context, and not exact matching everything\nin the context, as oslo.context may add important things over time.\n\nChange-Id: Ie683adb36d5e2a736ddbf714524c9c18f3c0d69c\n""}]",11,467995,39c279e2edc8657a8925fa2126a98f6a85e402a3,36,15,3,2750,,,0,"Have nova.context use super from_context

The nova.context should be a super set of oslo.context in all cases,
especially after we've deserialized on the other side of the RPC
bus. Our current code actually has a completely decoupled from_dict,
which means that as fields are added to oslo.context we don't pick up
any of those, and end up with a potentially broken and fragmented
context on the workers.

This fixes that by using the parent constructor for all the fields we
can, and only explicitly load in a few fields that we also need.

It also simplifies the testing so that we're just testing that our
extra fields end up in the context, and not exact matching everything
in the context, as oslo.context may add important things over time.

Change-Id: Ie683adb36d5e2a736ddbf714524c9c18f3c0d69c
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/467995/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/test_context.py'],1,934e05f0810b8e6d62a3b11eaab8b27a5cba831a,global_request_id,," def test_convert_from_rc_to_dict(self): ctx = context.RequestContext( 111, 222, request_id='req-679033b7-1755-4929-bf85-eb3bfaef7e0b', timestamp='2015-03-02T22:31:56.641629') values2 = ctx.to_dict() expected_values = {'auth_token': None, 'domain': None, 'instance_lock_checked': False, 'is_admin': False, 'is_admin_project': True, 'project_id': 222, 'project_domain': None, 'project_name': None, 'quota_class': None, 'read_deleted': 'no', 'read_only': False, 'remote_address': None, 'request_id': 'req-679033b7-1755-4929-bf85-eb3bfaef7e0b', 'resource_uuid': None, 'roles': [], 'service_catalog': [], 'show_deleted': False, 'tenant': 222, 'timestamp': '2015-03-02T22:31:56.641629', 'user': 111, 'user_domain': None, 'user_id': 111, 'user_identity': '111 222 - - -', 'user_name': None} self.assertEqual(expected_values, values2) def test_convert_from_dict_to_dict_version_2_4_x(self): # fake dict() created with oslo.context 2.4.x, Missing is_admin_project # key values = {'user': '111', 'user_id': '111', 'tenant': '222', 'project_id': '222', 'domain': None, 'project_domain': None, 'auth_token': None, 'resource_uuid': None, 'read_only': False, 'user_identity': '111 222 - - -', 'instance_lock_checked': False, 'user_name': None, 'project_name': None, 'timestamp': '2015-03-02T20:03:59.416299', 'remote_address': None, 'quota_class': None, 'is_admin': True, 'service_catalog': [], 'read_deleted': 'no', 'show_deleted': False, 'roles': [], 'request_id': 'req-956637ad-354a-4bc5-b969-66fd1cc00f50', 'user_domain': None} ctx = context.RequestContext.from_dict(values) self.assertEqual('111', ctx.user) self.assertEqual('222', ctx.tenant) self.assertEqual('111', ctx.user_id) self.assertEqual('222', ctx.project_id) # to_dict() will add is_admin_project values.update({'is_admin_project': True}) values2 = ctx.to_dict() self.assertEqual(values, values2) def test_convert_from_dict_then_to_dict(self): values = {'user': '111', 'user_id': '111', 'tenant': '222', 'project_id': '222', 'domain': None, 'project_domain': None, 'auth_token': None, 'resource_uuid': None, 'read_only': False, 'user_identity': '111 222 - - -', 'instance_lock_checked': False, 'user_name': None, 'project_name': None, 'timestamp': '2015-03-02T20:03:59.416299', 'remote_address': None, 'quota_class': None, 'is_admin': True, 'is_admin_project': True, 'service_catalog': [], 'read_deleted': 'no', 'show_deleted': False, 'roles': [], 'request_id': 'req-956637ad-354a-4bc5-b969-66fd1cc00f50', 'user_domain': None} ctx = context.RequestContext.from_dict(values) self.assertEqual('111', ctx.user) self.assertEqual('222', ctx.tenant) self.assertEqual('111', ctx.user_id) self.assertEqual('222', ctx.project_id) values2 = ctx.to_dict() self.assertEqual(values, values2) ",0,91
openstack%2Fbifrost~master~Iff3f33fe5e1f7d952c982fa377af0ff415ec2831,openstack/bifrost,master,Iff3f33fe5e1f7d952c982fa377af0ff415ec2831,Add `when` to skip os_client_config in noauth mode,MERGED,2017-05-24 17:28:15.000000000,2017-05-26 13:25:37.000000000,2017-05-26 13:25:37.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 11655}, {'_account_id': 22474}, {'_account_id': 24674}]","[{'number': 1, 'created': '2017-05-24 17:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d7d2c9020de8d1b7775a07fb644a4f3d808ee7ae', 'message': 'Add `when` to skip os_client_config in noauth mode\n\nWhen noauth_mode=true, the os_client_config Ansible module will still execute\nand then fails due to a missing clouds.yaml file (which is only generated\nwhen keystone is enabled and installed).\n\nThis change will skip over the os_client_config module when noauth_mode\nis set to true.\n\nChange-Id: Iff3f33fe5e1f7d952c982fa377af0ff415ec2831\nCloses-Bug: #1693309\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}, {'number': 2, 'created': '2017-05-26 12:34:34.000000000', 'files': ['playbooks/roles/ironic-inspect-node/tasks/main.yml', 'playbooks/roles/bifrost-unprovision-node-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/update_facts_from_ironic.yaml', 'playbooks/roles/ironic-delete-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml', 'playbooks/roles/ironic-enroll-dynamic/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/cadc1073849be0c3e0b61564f1545880cc37fff1', 'message': 'Add `when` to skip os_client_config in noauth mode\n\nWhen noauth_mode=true, the os_client_config Ansible module will still execute\nand then fails due to a missing clouds.yaml file (which is only generated\nwhen keystone is enabled and installed).\n\nThis change will skip over the os_client_config module when noauth_mode\nis set to true.\n\nChange-Id: Iff3f33fe5e1f7d952c982fa377af0ff415ec2831\nCloses-Bug: #1693309\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}]",0,467691,cadc1073849be0c3e0b61564f1545880cc37fff1,13,5,2,7294,,,0,"Add `when` to skip os_client_config in noauth mode

When noauth_mode=true, the os_client_config Ansible module will still execute
and then fails due to a missing clouds.yaml file (which is only generated
when keystone is enabled and installed).

This change will skip over the os_client_config module when noauth_mode
is set to true.

Change-Id: Iff3f33fe5e1f7d952c982fa377af0ff415ec2831
Closes-Bug: #1693309
Signed-off-by: Leif Madsen <lmadsen@redhat.com>
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/91/467691/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/ironic-enroll-dynamic/tasks/main.yml'],1,d7d2c9020de8d1b7775a07fb644a4f3d808ee7ae,bug/1693309, when: noauth_mode is defined and noauth_mode | bool == false,,1,0
openstack%2Fcinder~master~I2e3a6c737a74816e5e56b5a435a73e0bf501bec8,openstack/cinder,master,I2e3a6c737a74816e5e56b5a435a73e0bf501bec8,Add the missing parameters in the api-ref of ext-backups.inc,MERGED,2017-03-28 03:20:09.000000000,2017-05-26 13:25:16.000000000,2017-05-22 17:21:04.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19904}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22299}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23140}, {'_account_id': 23602}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25067}, {'_account_id': 25677}]","[{'number': 1, 'created': '2017-03-28 03:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/712926076215a5a360e0746f713d58124325a08b', 'message': 'Add the missing parameters in the api-ref of ext-backups.inc\n\nAdd ""snapshot_id"" and ""data_timestamp"" and """"volume_name"" "" to the\nresponse parameters and error responce code in the api-ref of\next-backups.inc.\n\nChange-Id: I2e3a6c737a74816e5e56b5a435a73e0bf501bec8\nBug-Id: #1676693\n'}, {'number': 2, 'created': '2017-03-28 05:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe96038c1f62021bfddabefaf973c620d0bc559f', 'message': 'Add the missing parameters in the api-ref of ext-backups.inc\n\nAdd ""snapshot_id"" and ""data_timestamp"" and """"volume_name"" "" to\nthe response parameters and error responce code in the api-ref of\next-backups.inc.\n\nChange-Id: I2e3a6c737a74816e5e56b5a435a73e0bf501bec8\nBug-Id: #1676693\n'}, {'number': 3, 'created': '2017-03-28 06:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/db664874b67e6580b97506ef9f24fb3d16c74f6a', 'message': 'Add the missing parameters in the api-ref of ext-backups.inc\n\nAdd ""snapshot_id"" and ""data_timestamp"" and ""volume_name"" to\nthe response parameters and error responce code in the api-ref of\next-backups.inc.\n\nChange-Id: I2e3a6c737a74816e5e56b5a435a73e0bf501bec8\nCloses-bug: #1676693\n'}, {'number': 4, 'created': '2017-03-28 06:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c102146ef61bc2f40b539ec7bc0a4ef7d5c9d78', 'message': 'Add the missing parameters in the api-ref of ext-backups.inc\n\nAdd ""snapshot_id"" and ""data_timestamp"" and ""volume_name"" to\nthe response parameters and error responce code in the api-ref of\next-backups.inc.\n\nChange-Id: I2e3a6c737a74816e5e56b5a435a73e0bf501bec8\nCloses-bug: #1676693\n'}, {'number': 5, 'created': '2017-04-14 09:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e80d7ec5509e3b1a18855d716120b910baef115b', 'message': 'Add the missing parameters in the api-ref of ext-backups.inc\n\nAdd ""snapshot_id"" and ""data_timestamp"" and ""volume_name"" to\nthe response parameters and error responce code in the api-ref of\next-backups.inc.\n\nChange-Id: I2e3a6c737a74816e5e56b5a435a73e0bf501bec8\nCloses-bug: #1676693\n'}, {'number': 6, 'created': '2017-04-17 07:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1febf76d690b46927f883c57358cd4e77544019', 'message': 'Add the missing parameters in the api-ref of ext-backups.inc\n\nAdd ""snapshot_id"" and ""data_timestamp"" and ""volume_name"" to\nthe response parameters and error response code in the api-ref of\next-backups.inc.\n\nChange-Id: I2e3a6c737a74816e5e56b5a435a73e0bf501bec8\nCloses-bug: #1676693\n'}, {'number': 7, 'created': '2017-04-17 07:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a77747f7b18acbf96cc8c578a140d792ce30ff9f', 'message': 'Add the missing parameters in the api-ref of ext-backups.inc\n\nAdd ""snapshot_id"" and ""data_timestamp"" and ""volume_name"" to\nthe response parameters and error response code in the api-ref of\next-backups.inc.\n\nChange-Id: I2e3a6c737a74816e5e56b5a435a73e0bf501bec8\nCloses-bug: #1676693\n'}, {'number': 8, 'created': '2017-04-18 01:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f38fa0fbf974ac0e52804f305a49efb07274449', 'message': 'Add the missing parameters in the api-ref of ext-backups.inc\n\nAdd ""snapshot_id"" and ""data_timestamp"" and ""volume_name"" to\nthe response parameters and error response code in the api-ref of\next-backups.inc.\n\nChange-Id: I2e3a6c737a74816e5e56b5a435a73e0bf501bec8\nCloses-bug: #1676693\n'}, {'number': 9, 'created': '2017-04-20 03:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c68d2ec2682901174287af9a928b992685a741da', 'message': 'Add the missing parameters in the api-ref of ext-backups.inc\n\nAdd ""snapshot_id"" and ""data_timestamp"" and ""volume_name"" to\nthe response parameters and error response code in the api-ref of\next-backups.inc.\n\nChange-Id: I2e3a6c737a74816e5e56b5a435a73e0bf501bec8\nCloses-bug: #1676693\n'}, {'number': 10, 'created': '2017-05-22 06:03:29.000000000', 'files': ['api-ref/source/v2/parameters.yaml', 'api-ref/source/v3/ext-backups.inc', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v2/ext-backups.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/551c2963a0bdfceb39e3bfc73714b3b0abc5bc67', 'message': 'Add the missing parameters in the api-ref of ext-backups.inc\n\nAdd ""snapshot_id"" and ""data_timestamp"" and ""volume_name"" to\nthe response parameters and error response code in the api-ref of\next-backups.inc.\n\nChange-Id: I2e3a6c737a74816e5e56b5a435a73e0bf501bec8\nCloses-bug: #1676693\n'}]",10,450537,551c2963a0bdfceb39e3bfc73714b3b0abc5bc67,213,53,10,25388,,,0,"Add the missing parameters in the api-ref of ext-backups.inc

Add ""snapshot_id"" and ""data_timestamp"" and ""volume_name"" to
the response parameters and error response code in the api-ref of
ext-backups.inc.

Change-Id: I2e3a6c737a74816e5e56b5a435a73e0bf501bec8
Closes-bug: #1676693
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/450537/6 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/parameters.yaml', 'api-ref/source/v3/ext-backups.inc', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v2/ext-backups.inc']",4,712926076215a5a360e0746f713d58124325a08b,bug/1676693," - data_timestamp: data_timestamp - snapshot_id: snapshot_id_2 - data_timestamp: data_timestamp - snapshot_id: snapshot_id_2Normal response codes: 202 Error response codes: Bad Request(400)Error response codes: Bad Request(400),Request Entity Too Large(413) - volume_name: volume_nameNormal response codes: 202 Error response codes: Bad Request(400),Internal Server Error(500) - snapshot_id: snapshot_id_2","Normal response codes: 202,Normal response codes: 202,",45,3
openstack%2Ftrove~master~I0288fafae5f151775abf4b3f9804004ad4d4d50a,openstack/trove,master,I0288fafae5f151775abf4b3f9804004ad4d4d50a,DNM: Test nova fix for cell0 bug,ABANDONED,2017-05-26 12:35:14.000000000,2017-05-26 13:24:07.000000000,,[],"[{'number': 1, 'created': '2017-05-26 12:35:14.000000000', 'files': ['trove/db/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/c2532b290cc5510d5212f9f2d7e953cfecc84c2c', 'message': 'DNM: Test nova fix for cell0 bug\n\nDepends-On: I142f97d691fa55e9824714c9c224f998ad72337e\n\nChange-Id: I0288fafae5f151775abf4b3f9804004ad4d4d50a\nRelated-Bug: #1693438\n'}]",0,468402,c2532b290cc5510d5212f9f2d7e953cfecc84c2c,2,0,1,6873,,,0,"DNM: Test nova fix for cell0 bug

Depends-On: I142f97d691fa55e9824714c9c224f998ad72337e

Change-Id: I0288fafae5f151775abf4b3f9804004ad4d4d50a
Related-Bug: #1693438
",git fetch https://review.opendev.org/openstack/trove refs/changes/02/468402/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/db/models.py'],1,c2532b290cc5510d5212f9f2d7e953cfecc84c2c,bug/1693438, # TEST,,1,0
openstack%2Fkeystonemiddleware~master~I62b51c1d98bccbd2929637743e5c52a306427128,openstack/keystonemiddleware,master,I62b51c1d98bccbd2929637743e5c52a306427128,Updated from global requirements,MERGED,2017-05-23 11:51:01.000000000,2017-05-26 12:37:29.000000000,2017-05-26 12:37:29.000000000,"[{'_account_id': 3}, {'_account_id': 8482}]","[{'number': 1, 'created': '2017-05-23 11:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/c5872fdc4fed63d1189c6aaeda960508331b29f3', 'message': 'Updated from global requirements\n\nChange-Id: I62b51c1d98bccbd2929637743e5c52a306427128\n'}, {'number': 2, 'created': '2017-05-23 16:20:58.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/a657e0704ec902ce50c2ba7c520f1b3948029b2c', 'message': 'Updated from global requirements\n\nChange-Id: I62b51c1d98bccbd2929637743e5c52a306427128\n'}]",0,467155,a657e0704ec902ce50c2ba7c520f1b3948029b2c,16,2,2,11131,,,0,"Updated from global requirements

Change-Id: I62b51c1d98bccbd2929637743e5c52a306427128
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/55/467155/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c5872fdc4fed63d1189c6aaeda960508331b29f3,openstack/requirements,"oslo.i18n!=3.15.2,>=2.1.0 # Apache-2.0",oslo.i18n>=2.1.0 # Apache-2.0,1,1
openstack%2Frally~master~Ief8edbfb7db2acde4953918fbe731520f9377b5e,openstack/rally,master,Ief8edbfb7db2acde4953918fbe731520f9377b5e,[validator]remove redundant validator and cleanup warning,MERGED,2017-05-26 01:24:21.000000000,2017-05-26 12:15:41.000000000,2017-05-26 09:36:18.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 13294}, {'_account_id': 14817}]","[{'number': 1, 'created': '2017-05-26 01:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9c6131717ac31a8162f8f4d25997791611c5e713', 'message': '[validator]remove redundant validator\n\nChange-Id: Ief8edbfb7db2acde4953918fbe731520f9377b5e\n'}, {'number': 2, 'created': '2017-05-26 02:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9b5e85f224da56bf2b82d7b3c5af53c67ba457fe', 'message': '[validator]remove redundant validator and cleanup warning\n\nChange-Id: Ief8edbfb7db2acde4953918fbe731520f9377b5e\n'}, {'number': 3, 'created': '2017-05-26 04:03:47.000000000', 'files': ['rally/plugins/openstack/scenarios/cinder/volume_types.py', 'rally/plugins/openstack/scenarios/cinder/qos_specs.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/79ea738d65636488aaaecbaedcdcb89263ed9569', 'message': '[validator]remove redundant validator and cleanup warning\n\nChange-Id: Ief8edbfb7db2acde4953918fbe731520f9377b5e\n'}]",0,468229,79ea738d65636488aaaecbaedcdcb89263ed9569,15,4,3,21528,,,0,"[validator]remove redundant validator and cleanup warning

Change-Id: Ief8edbfb7db2acde4953918fbe731520f9377b5e
",git fetch https://review.opendev.org/openstack/rally refs/changes/29/468229/3 && git format-patch -1 --stdout FETCH_HEAD,['rally/plugins/openstack/scenarios/cinder/qos_specs.py'],1,9c6131717ac31a8162f8f4d25997791611c5e713,remove.restrict.params,,"@validation.add(""restricted_parameters"", param_names=""name"")@validation.add(""restricted_parameters"", param_names=""name"")",0,2
openstack%2Foslo.messaging~master~I65c767b4562d31cde8f77243eef018f8a4dbd769,openstack/oslo.messaging,master,I65c767b4562d31cde8f77243eef018f8a4dbd769,Updated from global requirements,MERGED,2017-05-26 01:55:22.000000000,2017-05-26 12:05:51.000000000,2017-05-26 12:05:51.000000000,"[{'_account_id': 3}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-05-26 01:55:22.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/aa931f4fe7ffc85e0d4ccef4c9a0a9a02354266b', 'message': 'Updated from global requirements\n\nChange-Id: I65c767b4562d31cde8f77243eef018f8a4dbd769\n'}]",0,468247,aa931f4fe7ffc85e0d4ccef4c9a0a9a02354266b,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I65c767b4562d31cde8f77243eef018f8a4dbd769
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/47/468247/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,aa931f4fe7ffc85e0d4ccef4c9a0a9a02354266b,openstack/requirements,oslo.middleware>=3.27.0 # Apache-2.0,oslo.middleware>=3.10.0 # Apache-2.0,1,1
openstack%2Foslo.db~master~Ie973a43c8d056778d02703cf75bfc52a90027dea,openstack/oslo.db,master,Ie973a43c8d056778d02703cf75bfc52a90027dea,Warn on URL without a drivername,MERGED,2017-05-24 21:55:23.000000000,2017-05-26 11:56:40.000000000,2017-05-26 11:56:40.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-05-24 21:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/09ea6f511ab5fd62f3c106e7a0ca7d07a418fe4d', 'message': 'Warn on URL without a drivername\n\nOlder installations may still be running with\nURLs of the form ""mysql://user:pass@host/dbname"",\nwhich defaults to the native MySQL driver that is not supported\nby eventlet.  Warn that URLs should be qualified with an explicit\ndriver, and in the case of MySQL that PyMySQL should be used.\n\nChange-Id: Ie973a43c8d056778d02703cf75bfc52a90027dea\n'}, {'number': 2, 'created': '2017-05-24 22:21:19.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/sqlalchemy/engines.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/2166490a058c653a726372415cf0df03579e5542', 'message': 'Warn on URL without a drivername\n\nOlder installations may still be running with\nURLs of the form ""mysql://user:pass@host/dbname"",\nwhich defaults to the native MySQL driver that is not supported\nby eventlet.  Warn that URLs should be qualified with an explicit\ndriver, and in the case of MySQL that PyMySQL should be used.\n\nChange-Id: Ie973a43c8d056778d02703cf75bfc52a90027dea\n'}]",0,467787,2166490a058c653a726372415cf0df03579e5542,8,3,2,11816,,,0,"Warn on URL without a drivername

Older installations may still be running with
URLs of the form ""mysql://user:pass@host/dbname"",
which defaults to the native MySQL driver that is not supported
by eventlet.  Warn that URLs should be qualified with an explicit
driver, and in the case of MySQL that PyMySQL should be used.

Change-Id: Ie973a43c8d056778d02703cf75bfc52a90027dea
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/87/467787/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/sqlalchemy/engines.py']",2,09ea6f511ab5fd62f3c106e7a0ca7d07a418fe4d,warn_on_missing_driver," if ""+"" not in url.drivername and not url.drivername.startswith(""sqlite""): if url.drivername.startswith(""mysql""): LOG.warning( ""URL %r does not contain a '+drivername' portion, "" ""and will make use of a default driver. "" ""A full dbname+drivername:// protocol is recommended. "" ""For MySQL, it is strongly recommended that mysql+pymysql:// "" ""be specified for maximum service compatibility"", url ) else: LOG.warning( ""URL %r does not contain a '+drivername' portion, "" ""and will make use of a default driver. "" ""A full dbname+drivername:// protocol is recommended."", url )",,81,0
openstack%2Fmonasca-agent~master~Ib47724f71d5d195b9eaf97c538baa7b4ed74a6e3,openstack/monasca-agent,master,Ib47724f71d5d195b9eaf97c538baa7b4ed74a6e3,Add telegraf.py detection plugin,NEW,2017-03-17 21:27:00.000000000,2017-05-26 11:51:50.000000000,,"[{'_account_id': 3}, {'_account_id': 16168}, {'_account_id': 20033}]","[{'number': 1, 'created': '2017-03-17 21:27:00.000000000', 'files': ['monasca_setup/detection/plugins/telegraf.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/aa464e5c7348f212fa01db74eb4fc81e8b45884f', 'message': 'Add telegraf.py detection plugin\n\nThis plugin detects the telegraf proccess\n\nChange-Id: Ib47724f71d5d195b9eaf97c538baa7b4ed74a6e3\n'}]",0,447146,aa464e5c7348f212fa01db74eb4fc81e8b45884f,4,3,1,24679,,,0,"Add telegraf.py detection plugin

This plugin detects the telegraf proccess

Change-Id: Ib47724f71d5d195b9eaf97c538baa7b4ed74a6e3
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/46/447146/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_setup/detection/plugins/telegraf.py'],1,aa464e5c7348f212fa01db74eb4fc81e8b45884f,telegraf-plugin-detection,"import logging import os import yaml import monasca_setup.agent_config import monasca_setup.detection log = logging.getLogger(__name__) class Telegraf(monasca_setup.detection.Plugin): """"""Detect Telegraf daemon and setup configuration to monitor it. """""" def _detect(self): """"""Run detection, set self.available True if the service is detected. """""" if monasca_setup.detection.find_process_cmdline('telegraf') is not None: self.available = True def build_config(self): """"""Build the config and return. """""" log.info(""\tWatching the telegraf process."") return monasca_setup.detection.watch_process( ['telegraf'], 'telegraf', exact_match=False) def dependencies_installed(self): return True ",,34,0
openstack%2Fneutron~master~I2309a3b96b4bfee129d0a1106980baac61c209ab,openstack/neutron,master,I2309a3b96b4bfee129d0a1106980baac61c209ab,Separate resource constraints from RFE approval,ABANDONED,2017-05-26 00:03:54.000000000,2017-05-26 11:50:37.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 7776}, {'_account_id': 9656}, {'_account_id': 15752}]","[{'number': 1, 'created': '2017-05-26 00:03:54.000000000', 'files': ['doc/source/policies/blueprints.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4144bb9b5ec274a33139f58125ccbfa1fa2be5dc', 'message': 'Separate resource constraints from RFE approval\n\nI would like the RFE approval process to be strictly about evaluating\nan enhancement request\'s validity and fit into the scope of the Neutron\nproject.\n\nEven if we have nobody to implement them, I would like good requests\nto be moved into the rfe-approved state and have a blueprint created\nwhere we can mark it as ""Not Started"" and have no assignee. This will\ngive us a single link to provide people a list of things where we need\ndevelopment help.\n\nOtherwise it makes it difficult to tell for outsiders what features are\nbeing rejected based on bad project fit and which ones are just missing\ncontributor resources.\n\nHaving this distinction between accepted requests and resource\navailability will solve a couple of problems I have encountered:\n* New and existing contributors will have a list of features that\n  the community has already agreed are a good direction. Digging\n  through old RFEs that are a mix of requests that fit the project\n  that had no resources and requests that don\'t fit the project is\n  tedious (or there is something I\'m missing).\n* People/product managers can see that the community is okay with a feature\n  and will have a much easier time assigning people to work on them\n  upstream. Currently there is a chicken and egg problem where people\n  don\'t want to commit resources to work upstream on something that it\'s\n  not clear the community wants. As was made clear by the VPNaaS\n  debacle, there is a non-trivial portion of operators who are willing\n  to put in some upstream development resources to support something\n  they use when it\'s clear that resource constraints are the only reason\n  something is being rejected.\n* It doesn\'t reflect as poorly on the project. Despite the fact that it\n  is documented in this 2000 word text file ;) , its not always clear to\n  operators that we aren\'t rejecting things because we don\'t care\n  about the problem or don\'t understand it.\n\nNOTE: the actual devref probably needs more changes than what I have so\nfar, this is just a strawman for us to discuss the general meaning of\napproved RFEs.\n\nChange-Id: I2309a3b96b4bfee129d0a1106980baac61c209ab\n'}]",5,468215,4144bb9b5ec274a33139f58125ccbfa1fa2be5dc,5,7,1,7787,,,0,"Separate resource constraints from RFE approval

I would like the RFE approval process to be strictly about evaluating
an enhancement request's validity and fit into the scope of the Neutron
project.

Even if we have nobody to implement them, I would like good requests
to be moved into the rfe-approved state and have a blueprint created
where we can mark it as ""Not Started"" and have no assignee. This will
give us a single link to provide people a list of things where we need
development help.

Otherwise it makes it difficult to tell for outsiders what features are
being rejected based on bad project fit and which ones are just missing
contributor resources.

Having this distinction between accepted requests and resource
availability will solve a couple of problems I have encountered:
* New and existing contributors will have a list of features that
  the community has already agreed are a good direction. Digging
  through old RFEs that are a mix of requests that fit the project
  that had no resources and requests that don't fit the project is
  tedious (or there is something I'm missing).
* People/product managers can see that the community is okay with a feature
  and will have a much easier time assigning people to work on them
  upstream. Currently there is a chicken and egg problem where people
  don't want to commit resources to work upstream on something that it's
  not clear the community wants. As was made clear by the VPNaaS
  debacle, there is a non-trivial portion of operators who are willing
  to put in some upstream development resources to support something
  they use when it's clear that resource constraints are the only reason
  something is being rejected.
* It doesn't reflect as poorly on the project. Despite the fact that it
  is documented in this 2000 word text file ;) , its not always clear to
  operators that we aren't rejecting things because we don't care
  about the problem or don't understand it.

NOTE: the actual devref probably needs more changes than what I have so
far, this is just a strawman for us to discuss the general meaning of
approved RFEs.

Change-Id: I2309a3b96b4bfee129d0a1106980baac61c209ab
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/468215/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/policies/blueprints.rst'],1,4144bb9b5ec274a33139f58125ccbfa1fa2be5dc,bp/created,"* At this point, the RFE needs resources, and if none are identified for some time the corresponding blueprint will have its milestone/assignee removed and the implementation status set to ""Not Started"" to make it clear that it needs a contributor.","* The PTL will work with the Lieutenant for the area being identified by the RFE to evaluate resources against the current workload.* At this point, the RFE needs resources, and if none are identified for some time the report will be marked incomplete.* If the code fails to merge, the bug report may be marked as incomplete, unassigned and untargeted, and it will be garbage collected by the Launchpad Janitor if no-one takes over in time. Renewed interest in the feature will have to go through RFE submission process once again.",4,8
openstack%2Fpython-heatclient~master~Ib5e42136f62792a7bf11444b8447b2bca874631c,openstack/python-heatclient,master,Ib5e42136f62792a7bf11444b8447b2bca874631c,Updated from global requirements,MERGED,2017-05-23 11:59:00.000000000,2017-05-26 11:50:23.000000000,2017-05-26 11:50:23.000000000,"[{'_account_id': 3}, {'_account_id': 8289}, {'_account_id': 8833}]","[{'number': 1, 'created': '2017-05-23 11:59:00.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/d98021b209d9eb514bc65f0fc5aa7626e65891dc', 'message': 'Updated from global requirements\n\nChange-Id: Ib5e42136f62792a7bf11444b8447b2bca874631c\n'}]",0,467193,d98021b209d9eb514bc65f0fc5aa7626e65891dc,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: Ib5e42136f62792a7bf11444b8447b2bca874631c
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/93/467193/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d98021b209d9eb514bc65f0fc5aa7626e65891dc,openstack/requirements,"oslo.i18n!=3.15.2,>=2.1.0 # Apache-2.0",oslo.i18n>=2.1.0 # Apache-2.0,1,1
openstack%2Ffuel-library~master~If319845aa9f2d9b3ca07936350ef374f504679cb,openstack/fuel-library,master,If319845aa9f2d9b3ca07936350ef374f504679cb,Correct logical expressions for storage backends,MERGED,2017-05-17 14:11:16.000000000,2017-05-26 11:43:49.000000000,2017-05-26 11:40:27.000000000,"[{'_account_id': 3}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 11827}, {'_account_id': 14200}, {'_account_id': 16771}, {'_account_id': 20656}]","[{'number': 1, 'created': '2017-05-17 14:11:16.000000000', 'files': ['deployment/puppet/osnailyfacter/manifests/openstack_haproxy/openstack_haproxy_swift.pp', 'deployment/puppet/openstack_tasks/examples/swift/tasks.yaml', 'deployment/puppet/osnailyfacter/manifests/openstack_haproxy/openstack_haproxy_radosgw.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/57bb7299b75ab5f9457878cc0bfb88af74ed767a', 'message': ""Correct logical expressions for storage backends\n\nAfter introducing the change Iead5167210c4132badb866afc25d4ef14e27f6b2\nswift isn't installed if ceph used as a backend for images\nand not for object-storage service. In this sutiation we end up\nwith absence of object-storage at all which is wrong.\n\nThe commit introduces changes which makes possible\nto swift been installed if ceph used only for image service.\n\nChange-Id: If319845aa9f2d9b3ca07936350ef374f504679cb\nCloses-Bug: #1604879\n""}]",0,465595,57bb7299b75ab5f9457878cc0bfb88af74ed767a,41,7,1,18845,,,0,"Correct logical expressions for storage backends

After introducing the change Iead5167210c4132badb866afc25d4ef14e27f6b2
swift isn't installed if ceph used as a backend for images
and not for object-storage service. In this sutiation we end up
with absence of object-storage at all which is wrong.

The commit introduces changes which makes possible
to swift been installed if ceph used only for image service.

Change-Id: If319845aa9f2d9b3ca07936350ef374f504679cb
Closes-Bug: #1604879
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/95/465595/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/osnailyfacter/manifests/openstack_haproxy/openstack_haproxy_swift.pp', 'deployment/puppet/openstack_tasks/examples/swift/tasks.yaml', 'deployment/puppet/osnailyfacter/manifests/openstack_haproxy/openstack_haproxy_radosgw.pp']",3,57bb7299b75ab5f9457878cc0bfb88af74ed767a,bug/1604879, if !$storage_hash['objects_ceph'] {, if (!$storage_hash['images_ceph'] and !$storage_hash['objects_ceph']) {,5,5
openstack%2Fmurano~master~I5444542b878434fb656e19b12d0f6e71df1ab95f,openstack/murano,master,I5444542b878434fb656e19b12d0f6e71df1ab95f,Updated murano-apste.ini with http_proxy_to_wsgi,MERGED,2016-10-10 10:55:33.000000000,2017-05-26 11:41:08.000000000,2017-05-26 11:41:08.000000000,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 13962}, {'_account_id': 14107}, {'_account_id': 15168}, {'_account_id': 20630}, {'_account_id': 23186}]","[{'number': 1, 'created': '2016-10-10 10:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/731ee8c47e9d80551dda9436233f0f4b49d1ed15', 'message': 'Updated murano-apste.ini with http_proxy_to_wsgi\n\nThis sets up the HTTPProxyToWSGI middleware in front of Murano.\nThe purpose of this middleware is to set up the request URL correctly in\ncase there is a proxy in front of Murano.\n\nThe HTTPProxyToWSGI is off by default and needs to be enabled via a\nconfiguration value.\n\nChange-Id: I5444542b878434fb656e19b12d0f6e71df1ab95f\n'}, {'number': 2, 'created': '2016-10-20 11:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/5956258047258edde3133f7a6d7318b2fe9bed10', 'message': 'Updated murano-apste.ini with http_proxy_to_wsgi\n\nThis sets up the HTTPProxyToWSGI middleware in front of Murano.\nThe purpose of this middleware is to set up the request URL correctly in\ncase there is a proxy in front of Murano.\n\nThe HTTPProxyToWSGI is off by default and needs to be enabled via a\nconfiguration value.\n\nChange-Id: I5444542b878434fb656e19b12d0f6e71df1ab95f\n'}, {'number': 3, 'created': '2017-05-25 09:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/69f3558839fc8e16725c3df5fb347be5fe9be4a9', 'message': 'Updated murano-apste.ini with http_proxy_to_wsgi\n\nMurano used to have a custom, always-enabled ssl middleware, to parse\nX-Forwarded-Proto header, to let murano work correctly behind an SSL\nproxy. There is now an oslo middleware, that does the\nsame thing, but more thoroughly.\nThis commit replaces custom implementation with oslo one.\n\nCo-Authored-By: Kirill Zaitsev <k.zaitsev@me.com>\nChange-Id: I5444542b878434fb656e19b12d0f6e71df1ab95f\n'}, {'number': 4, 'created': '2017-05-25 12:02:17.000000000', 'files': ['murano/opts.py', 'releasenotes/notes/use_http_proxy_to_wsgi-9b22d3e60c045689.yaml', 'murano/tests/unit/api/middleware/test_ssl.py', 'etc/murano/murano-paste.ini', 'murano/api/middleware/ssl.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/02ec8d03ed53660470ae7623b7c0528a6207e97d', 'message': 'Updated murano-apste.ini with http_proxy_to_wsgi\n\nMurano used to have a custom, always-enabled ssl middleware, to parse\nX-Forwarded-Proto header, to let murano work correctly behind an SSL\nproxy. There is now an oslo middleware, that does the\nsame thing, but more thoroughly.\nThis commit replaces custom implementation with oslo one.\n\nCo-Authored-By: Kirill Zaitsev <k.zaitsev@me.com>\nChange-Id: I5444542b878434fb656e19b12d0f6e71df1ab95f\n'}]",2,384411,02ec8d03ed53660470ae7623b7c0528a6207e97d,40,7,4,20630,,,0,"Updated murano-apste.ini with http_proxy_to_wsgi

Murano used to have a custom, always-enabled ssl middleware, to parse
X-Forwarded-Proto header, to let murano work correctly behind an SSL
proxy. There is now an oslo middleware, that does the
same thing, but more thoroughly.
This commit replaces custom implementation with oslo one.

Co-Authored-By: Kirill Zaitsev <k.zaitsev@me.com>
Change-Id: I5444542b878434fb656e19b12d0f6e71df1ab95f
",git fetch https://review.opendev.org/openstack/murano refs/changes/11/384411/4 && git format-patch -1 --stdout FETCH_HEAD,['etc/murano/murano-paste.ini'],1,731ee8c47e9d80551dda9436233f0f4b49d1ed15,HTTP,pipeline = cors http_proxy_to_wsgi request_id ssl versionnegotiation faultwrap authtoken context rootapp [filter:http_proxy_to_wsgi] paste.filter_factory = oslo_middleware.http_proxy_to_wsgi:HTTPProxyToWSGI.factory oslo_config_project = murano,pipeline = cors request_id ssl versionnegotiation faultwrap authtoken context rootapp,5,1
openstack%2Fopenstack-ansible-tests~master~Idcb6c6e9b37781bdfe47e551c8e8c1a837375f52,openstack/openstack-ansible-tests,master,Idcb6c6e9b37781bdfe47e551c8e8c1a837375f52,Pin Nova SHA for testing.,MERGED,2017-05-26 10:08:46.000000000,2017-05-26 11:34:48.000000000,2017-05-26 11:34:48.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-05-26 10:08:46.000000000', 'files': ['test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/60003b67a45658fbcb91759410062e0ec9fdf3b1', 'message': ""Pin Nova SHA for testing.\n\nChanges in Nova have introduced a race condition whereby the compute\nhost isn't seen by the cell when the instance is scheduled, so the nova\nboot command fails.\n\nChange-Id: Idcb6c6e9b37781bdfe47e551c8e8c1a837375f52\n""}]",0,468347,60003b67a45658fbcb91759410062e0ec9fdf3b1,7,3,1,2799,,,0,"Pin Nova SHA for testing.

Changes in Nova have introduced a race condition whereby the compute
host isn't seen by the cell when the instance is scheduled, so the nova
boot command fails.

Change-Id: Idcb6c6e9b37781bdfe47e551c8e8c1a837375f52
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/47/468347/1 && git format-patch -1 --stdout FETCH_HEAD,['test-vars.yml'],1,60003b67a45658fbcb91759410062e0ec9fdf3b1,nova_sched,# Pin nova SHA until scheduling race condition can be resolved. nova_git_install_branch: fc162910bac0d0127f157b3c17457a1c98d665f6,nova_git_install_branch: master,2,1
openstack%2Fheat-specs~master~I9f6b86dff16018fe4b2ad43aa28282e88236dbae,openstack/heat-specs,master,I9f6b86dff16018fe4b2ad43aa28282e88236dbae,Custom Resource type managed by Mistral Workflows,MERGED,2016-01-14 18:53:50.000000000,2017-05-26 11:27:44.000000000,2017-05-26 11:27:44.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 7065}, {'_account_id': 7385}, {'_account_id': 7404}, {'_account_id': 8731}, {'_account_id': 8833}, {'_account_id': 9029}, {'_account_id': 9712}, {'_account_id': 12404}, {'_account_id': 13009}, {'_account_id': 15880}, {'_account_id': 18002}]","[{'number': 1, 'created': '2016-01-14 18:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/cd7ed337354af53a5c062ef0980a22c3752dc9fc', 'message': 'Add new spec for new Heat Resource Type OS::Mistral::WorflowExecution\n\nCurrently when deploying a service in heat and using Mistral Workflows\nas part of the process there isn’t a direct way to control the execution\nof the workflows by Mistral.\nThere is a workaround that provides a partial solution by using the\nOS::Mistral::CronTrigger with count=1. Using this workaround a workflow can be\nexecuted but there isn’t full control over it.\nThis spec suggests to add a new resource type OS::Mistral::WorkflowExecution\n\nChange-Id: I9f6b86dff16018fe4b2ad43aa28282e88236dbae\n'}, {'number': 2, 'created': '2016-01-14 19:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/75ae9153d0c4d5349f3b43eaa64ea5a986c43677', 'message': 'Add new spec for new Heat Resource Type OS::Mistral::WorflowExecution\n\nCurrently when deploying a service in heat and using Mistral Workflows\nas part of the process there isn’t a direct way to control the execution\nof the workflows by Mistral.\nThere is a workaround that provides a partial solution by using the\nOS::Mistral::CronTrigger with count=1. Using this workaround a workflow can be\nexecuted but there isn’t full control over it.\nThis spec suggests to add a new resource type OS::Mistral::WorkflowExecution\n\nChange-Id: I9f6b86dff16018fe4b2ad43aa28282e88236dbae\n'}, {'number': 3, 'created': '2016-01-14 20:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/8ea794c4364d2f7b22d4cbf18d60f1603bee3f14', 'message': 'Add new spec for new Heat Resource Type OS::Mistral::WorflowExecution\n\nCurrently when deploying a service in heat and using Mistral Workflows\nas part of the process there isn’t a direct way to control the execution\nof the workflows by Mistral.\nThere is a workaround that provides a partial solution by using the\nOS::Mistral::CronTrigger with count=1. Using this workaround a workflow can be\nexecuted but there isn’t full control over it.\nThis spec suggests to add a new resource type OS::Mistral::WorkflowExecution\n\nChange-Id: I9f6b86dff16018fe4b2ad43aa28282e88236dbae\n'}, {'number': 4, 'created': '2016-01-17 08:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/e9831a9cf6b1ef1942bdcbbd6b8459e230fe543b', 'message': 'Add new spec for new Heat Resource Type OS::Mistral::WorflowExecution\n\nCurrently when deploying a service in heat and using Mistral Workflows\nas part of the process there isn’t a direct way to control the execution\nof the workflows by Mistral.\nThere is a workaround that provides a partial solution by using the\nOS::Mistral::CronTrigger with count=1. Using this workaround a workflow can be\nexecuted but there isn’t full control over it.\nThis spec suggests to add a new resource type OS::Mistral::WorkflowExecution\n\nChange-Id: I9f6b86dff16018fe4b2ad43aa28282e88236dbae\n'}, {'number': 5, 'created': '2016-02-04 09:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/14d3d08d32c3d7e42398578de11e4c7b19a1ab1f', 'message': 'Add new spec for new Heat Resource Type OS::Mistral::WorflowExecution\n\nCurrently when deploying a service in heat and using Mistral Workflows\nas part of the process there isn’t a direct way to control the execution\nof the workflows by Mistral.\nThere is a workaround that provides a partial solution by using the\nOS::Mistral::CronTrigger with count=1. Using this workaround a workflow can be\nexecuted but there isn’t full control over it.\nThis spec suggests to add a new resource type OS::Mistral::WorkflowExecution\n\nChange-Id: I9f6b86dff16018fe4b2ad43aa28282e88236dbae\n'}, {'number': 6, 'created': '2016-02-04 14:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/c9b2dd1fd6c917facd297564f2f7fcff08d73f95', 'message': 'Add new spec for new Heat Resource Type OS::Mistral::WorflowExecution\n\nCurrently when deploying a service in heat and using Mistral Workflows\nas part of the process there isn’t a direct way to control the execution\nof the workflows by Mistral.\nThere is a workaround that provides a partial solution by using the\nOS::Mistral::CronTrigger with count=1. Using this workaround a workflow can be\nexecuted but there isn’t full control over it.\nThis spec suggests to add a new resource type OS::Mistral::WorkflowExecution\n\nChange-Id: I9f6b86dff16018fe4b2ad43aa28282e88236dbae\n'}, {'number': 7, 'created': '2017-01-18 13:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/cda689bb5c2ca95ae1f2e54559eee29167610172', 'message': 'Add new resource type OS::Mistral::WorflowExecution\n\nCurrently when deploying a service in Heat and using Mistral workflows\nas part of the process there isn’t a direct way to control the execution\nof the workflows.\n\nThis spec suggests adding a new resource type OS::Mistral::WorkflowExecution\n\nChange-Id: I9f6b86dff16018fe4b2ad43aa28282e88236dbae\n'}, {'number': 8, 'created': '2017-01-18 13:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/73f9b7011813b9ba439e343f17ce9b55237c916b', 'message': 'Add new resource type OS::Mistral::WorflowExecution\n\nCurrently when deploying a service in Heat and using Mistral workflows\nas part of the process there isn’t a direct way to control the execution\nof the workflows.\n\nThis spec suggests adding a new resource type OS::Mistral::WorkflowExecution\n\nChange-Id: I9f6b86dff16018fe4b2ad43aa28282e88236dbae\n'}, {'number': 9, 'created': '2017-03-17 22:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/7704f59b230337fece21f956c96207cde557a09d', 'message': 'Custom Resource type managed by Mistral Workflows\n\nAllow users to define custom resource types by implementing their\nactions as Mistral workflows.\n\nChange-Id: I9f6b86dff16018fe4b2ad43aa28282e88236dbae\n'}, {'number': 10, 'created': '2017-05-22 21:39:36.000000000', 'files': ['specs/pike/custom-resource-mistral-workflows.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/01865425c5c7eca962a45e62dc1e3f1bf09e360e', 'message': 'Custom Resource type managed by Mistral Workflows\n\nAllow users to define custom resource types by implementing their\nactions as Mistral workflows.\n\nChange-Id: I9f6b86dff16018fe4b2ad43aa28282e88236dbae\n'}]",31,267770,01865425c5c7eca962a45e62dc1e3f1bf09e360e,52,15,10,15880,,,0,"Custom Resource type managed by Mistral Workflows

Allow users to define custom resource types by implementing their
actions as Mistral workflows.

Change-Id: I9f6b86dff16018fe4b2ad43aa28282e88236dbae
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/70/267770/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/mitaka/mistral-new-resource-type-workflow-execution.rst'],1,cd7ed337354af53a5c062ef0980a22c3752dc9fc,bp/mistral-new-resource-type-workflow-execution,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. ==================================================== Add new resource type OS::Mistral::WorkflowExecution ==================================================== https://blueprints.launchpad.net/heat/+spec/mistral-new-resource-type-workflow-execution Currently when deploying a service in heat and using Mistral Workflows as part of the process there isn’t a direct way to control the execution of the workflows by Mistral. There is a workaround that provides a partial solution by using the OS::Mistral::CronTrigger with count=1. Using this workaround a workflow can be executed but there isn’t full control over it Problem description =================== When we want to execute a workflow during stack creation we use OS::Mistral::CronTrigger which has the following disadvantages: - There is no feedback whether the execution succeeded or failed - in some cases the workflow execution is an important part of the stack (preparation, post configuration, etc.) and if that fails we would like to fail the stack operation. - When there is a need as part of the deployment to create resources and run the workflows in a certain order. Example use cases: 1. A stack that creates networks and a workflow that configures an external router. 2. A workflow that searches for existing resources, like a flavor by CPU and RAM or a network by the CIDR and exposes these resources as outputs. These outputs can be used by the other stack resources like servers, etc. 3. A stack that creates a server (with an image that does not have cloud-init), configures it and then attach a volume. 4. Check prerequisites - for example, a workflow that check an external system for approval / license before creating the other stack resources. Proposed change =============== To support the above missing functionality we suggest to implement a new resource type OS::Mistral::WorkflowExecution which will have the properties and attributes detailed below. Properties: - workflow - Workflow name or id - description (optional) - input (optional) - params (optional) - actions - (will be impemented in phase 2) Lifecycle actions to which the configuration applies. The string values provided for this property can include the standard resource actions CREATE, DELETE, UPDATE, SUSPEND and RESUME supported by Heat. Attributes: - id - workflow_name - created_at - updated_at - state - state_info - output (Map - workflow execution outputs) Heat will wait for the workflow execution to complete by Mistral (like in other resource types). Basic stack example .. code-block:: yaml my_wf_exec: type: OS::Mistral::WorkflowExecution properties: workflow: my_workflow_name input: required_input_1: { get_param: param_1 } params: task_name: task_one More complex example of a stack that creates a server (with an image that does not have cloud-init), configures it and then attach a volume the following stack could be used: .. code-block:: yaml resources: my_server: type: OS::Nova::Server ... configure_server_wf: type: OS::Mistral::Workflow ... configure_server_wf_exec: type: OS::Mistral::WorkflowExecution depends_on: [ my_server, configure_server_wf ] properties: workflow: { get_resource: configure_server_wf } input: server_ip: { get_attr: [ my_server, networks, get_param: [ private_net ], 0 ] } ... my_volume: type: OS::Cinder::Volume ... my_volume_attachment: type: OS::Cinder::VolumeAttachment depends_on: [ my_volume, configure_server_wf_exec ] ... Alternatives ------------ None. Implementation ============== - Create a new resource type OS::Mistral::WorkflowExecution with the following functionality: - get_reference_id - will return the workflow execution ID - validate - will validate that the workflow exists and that the provided inputs qualify the workflow inputs as specified in Mistral - handle_delete - will delete the workflow exection in Mistral - handle_update - functionality will depend on the property that was updated: - description - will update the existing workflow execution - workflow / input / params - will execute the workflow again - The initial implementation will support a single stack action - CREATE - Future enhancements that are out of scope of the initial implementation: - handle_signal functionality - could be used for example `execution_update` functionality. - support more actions (e.g. UPDATE, DELETE), similar to the OS::Heat::SoftwareComponent Assignee(s) ----------- Primary assignee: sharon-mendel Milestones ---------- Target Milestone for completion: mitaka-3 Work Items ---------- 1. Create a new resource type OS::Mistral::WorkflowExecution Dependencies ============ None. ",,155,0
openstack%2Fheat-agents~master~I884c38ade06ab0e01432837c43f29b123e65fa3c,openstack/heat-agents,master,I884c38ade06ab0e01432837c43f29b123e65fa3c,docker-cmd hook switch to the paunch library,MERGED,2017-04-11 22:50:14.000000000,2017-05-26 11:17:21.000000000,2017-05-26 11:17:21.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 2011}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 13039}]","[{'number': 1, 'created': '2017-04-11 22:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/1781d366df3eb24a768c42e697d0b1c7ed4c3451', 'message': ""WIP docker-cmd hook switch to the paunch library\n\npaunch[1] is a library and utility which will be proposed to OpenStack\nunder the TripleO umbrella. It contains the logic currently in the\ndocker-cmd hook exposed as a python library and command utility.\n\nThis change demonstrates switching to paunch. It won't pass in the\ngate until paunch is published via OpenStack infra, but it can be\ninstalled in a local venv for anyone who wants to try it.\n\n[1] https://github.com/steveb/paunch\nChange-Id: I884c38ade06ab0e01432837c43f29b123e65fa3c\n""}, {'number': 2, 'created': '2017-04-11 22:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/39b4af2a9a80b6e338e4532cbb35b4ab05040dcb', 'message': ""WIP docker-cmd hook switch to the paunch library\n\npaunch[1] is a library and utility which will be proposed to OpenStack\nunder the TripleO umbrella. It contains the logic currently in the\ndocker-cmd hook exposed as a python library and command utility.\n\nThis change demonstrates switching to paunch. It won't pass in the\ngate until paunch is published via OpenStack infra, but it can be\ninstalled in a local venv for anyone who wants to try it.\n\n[1] https://github.com/steveb/paunch\nChange-Id: I884c38ade06ab0e01432837c43f29b123e65fa3c\n""}, {'number': 3, 'created': '2017-05-02 22:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/d79ebcbd11a955153962677941e8d56070bbdf42', 'message': 'docker-cmd hook switch to the paunch library\n\npaunch is a library and utility which is now in OpenStack\nunder the TripleO umbrella. It contains the logic currently in the\ndocker-cmd hook exposed as a python library and command utility.\n\nThis change switches the docker-cmd hook to paunch.\n\nDepends-On: I8ae3b212283c63762f68c51d2c2d08a81afd89a6\nChange-Id: I884c38ade06ab0e01432837c43f29b123e65fa3c\n'}, {'number': 4, 'created': '2017-05-14 22:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/002fcaf3c07dc9540e4a8ebf664bb45cb8cb26a2', 'message': 'docker-cmd hook switch to the paunch library\n\npaunch is a library and utility which is now in OpenStack\nunder the TripleO umbrella. It contains the logic currently in the\ndocker-cmd hook exposed as a python library and command utility.\n\nThis change switches the docker-cmd hook to paunch.\n\nChange-Id: I884c38ade06ab0e01432837c43f29b123e65fa3c\n'}, {'number': 5, 'created': '2017-05-22 21:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/339fb15809df5cfc77c5b389050eaa3affa7e874', 'message': 'docker-cmd hook switch to the paunch library\n\npaunch is a library and utility which is now in OpenStack\nunder the TripleO umbrella. It contains the logic currently in the\ndocker-cmd hook exposed as a python library and command utility.\n\nThis change switches the docker-cmd hook to paunch.\n\nAsserting --label arguments has been split out from the other docker\nrun arguments so that paunch can add new --label arguments in future\nreleases without breaking these tests.\n\nChange-Id: I884c38ade06ab0e01432837c43f29b123e65fa3c\n'}, {'number': 6, 'created': '2017-05-22 22:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/ecf75417907863c13e6a3a24d6ffaed125c65e19', 'message': 'docker-cmd hook switch to the paunch library\n\npaunch is a library and utility which is now in OpenStack\nunder the TripleO umbrella. It contains the logic currently in the\ndocker-cmd hook exposed as a python library and command utility.\n\nThis change switches the docker-cmd hook to paunch.\n\nAsserting --label arguments has been split out from the other docker\nrun arguments so that paunch can add new --label arguments in future\nreleases without breaking these tests.\n\nChange-Id: I884c38ade06ab0e01432837c43f29b123e65fa3c\n'}, {'number': 7, 'created': '2017-05-23 04:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/d19f7b8ed25ff101b7d3d707c7ea69bb0a7263e8', 'message': 'docker-cmd hook switch to the paunch library\n\npaunch is a library and utility which is now in OpenStack\nunder the TripleO umbrella. It contains the logic currently in the\ndocker-cmd hook exposed as a python library and command utility.\n\nThis change switches the docker-cmd hook to paunch.\n\nAsserting --label arguments has been split out from the other docker\nrun arguments so that paunch can add new --label arguments in future\nreleases without breaking these tests.\n\nThe requirements pinning is to avoid breakage when paunch-1.1.0 is\nreleased. See the next change in this series for unpinning.\n\nChange-Id: I884c38ade06ab0e01432837c43f29b123e65fa3c\n'}, {'number': 8, 'created': '2017-05-23 04:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/d97f41b2ea7a0c7db9121a3d6e38a7085ca8b65c', 'message': 'docker-cmd hook switch to the paunch library\n\npaunch is a library and utility which is now in OpenStack\nunder the TripleO umbrella. It contains the logic currently in the\ndocker-cmd hook exposed as a python library and command utility.\n\nThis change switches the docker-cmd hook to paunch.\n\nAsserting --label arguments has been split out from the other docker\nrun arguments so that paunch can add new --label arguments in future\nreleases without breaking these tests.\n\nThe requirements pinning is to avoid breakage when paunch-1.1.0 is\nreleased. See the next change in this series for unpinning.\n\nChange-Id: I884c38ade06ab0e01432837c43f29b123e65fa3c\n'}, {'number': 9, 'created': '2017-05-23 04:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/53437216d7b1a23d3066c358958ff6750f8f596b', 'message': 'docker-cmd hook switch to the paunch library\n\npaunch is a library and utility which is now in OpenStack\nunder the TripleO umbrella. It contains the logic currently in the\ndocker-cmd hook exposed as a python library and command utility.\n\nThis change switches the docker-cmd hook to paunch.\n\nAsserting --label arguments has been split out from the other docker\nrun arguments so that paunch can add new --label arguments in future\nreleases without breaking these tests.\n\nThe requirements pinning is to avoid breakage when paunch-1.1.0 is\nreleased. See the next change in this series for unpinning.\n\nDepends-On: I8f21212e7beed89b24c0e8653c998c507469d17b\nChange-Id: I884c38ade06ab0e01432837c43f29b123e65fa3c\n'}, {'number': 10, 'created': '2017-05-23 20:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/1fc02b5a85dd8d0e0c10e751cc175f9d634512dc', 'message': 'docker-cmd hook switch to the paunch library\n\npaunch is a library and utility which is now in OpenStack\nunder the TripleO umbrella. It contains the logic currently in the\ndocker-cmd hook exposed as a python library and command utility.\n\nThis change switches the docker-cmd hook to paunch.\n\nAsserting --label arguments has been split out from the other docker\nrun arguments so that paunch can add new --label arguments in future\nreleases without breaking these tests.\n\npaunch-1.1.0 has just been release which contains new idempotency\nbehaviour, so the tests have been modified to work with the new docker\ncommand behaviour that idempotency requires.\n\nChange-Id: I884c38ade06ab0e01432837c43f29b123e65fa3c\n'}, {'number': 11, 'created': '2017-05-23 21:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/ecffa4099750319a0e5b1eecb39d53560dcc39f5', 'message': 'docker-cmd hook switch to the paunch library\n\npaunch is a library and utility which is now in OpenStack\nunder the TripleO umbrella. It contains the logic currently in the\ndocker-cmd hook exposed as a python library and command utility.\n\nThis change switches the docker-cmd hook to paunch.\n\nAsserting --label arguments has been split out from the other docker\nrun arguments so that paunch can add new --label arguments in future\nreleases without breaking these tests.\n\npaunch-1.1.0 has just been release which contains new idempotency\nbehaviour, so the tests have been modified to work with the new docker\ncommand behaviour that idempotency requires.\n\nChange-Id: I884c38ade06ab0e01432837c43f29b123e65fa3c\n'}, {'number': 12, 'created': '2017-05-24 00:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/95601841f52249b1577ea9aa3400c23d937ae73a', 'message': 'docker-cmd hook switch to the paunch library\n\npaunch is a library and utility which is now in OpenStack\nunder the TripleO umbrella. It contains the logic currently in the\ndocker-cmd hook exposed as a python library and command utility.\n\nThis change switches the docker-cmd hook to paunch.\n\nAsserting --label arguments has been split out from the other docker\nrun arguments so that paunch can add new --label arguments in future\nreleases without breaking these tests.\n\npaunch-1.1.0 has just been release which contains new idempotency\nbehaviour, so the tests have been modified to work with the new docker\ncommand behaviour that idempotency requires.\n\nChange-Id: I884c38ade06ab0e01432837c43f29b123e65fa3c\n'}, {'number': 13, 'created': '2017-05-24 00:29:48.000000000', 'files': ['test-requirements.txt', 'tests/test_hook_docker_cmd.py', 'releasenotes/notes/docker-cmd-paunch-0a674fc1b84b2dfc.yaml', 'heat-config-docker-cmd/os-refresh-config/configure.d/50-heat-config-docker-cmd', 'heat-config-docker-cmd/README.rst', 'heat-config-docker-cmd/install.d/hook-docker-cmd.py'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/33241a84c1dbc73d284197ed89d4aba7de70e864', 'message': 'docker-cmd hook switch to the paunch library\n\npaunch is a library and utility which is now in OpenStack\nunder the TripleO umbrella. It contains the logic currently in the\ndocker-cmd hook exposed as a python library and command utility.\n\nThis change switches the docker-cmd hook to paunch.\n\nAsserting --label arguments has been split out from the other docker\nrun arguments so that paunch can add new --label arguments in future\nreleases without breaking these tests.\n\npaunch-1.1.0 has just been release which contains new idempotency\nbehaviour, so the tests have been modified to work with the new docker\ncommand behaviour that idempotency requires.\n\nChange-Id: I884c38ade06ab0e01432837c43f29b123e65fa3c\n'}]",1,455845,33241a84c1dbc73d284197ed89d4aba7de70e864,36,9,13,4571,,,0,"docker-cmd hook switch to the paunch library

paunch is a library and utility which is now in OpenStack
under the TripleO umbrella. It contains the logic currently in the
docker-cmd hook exposed as a python library and command utility.

This change switches the docker-cmd hook to paunch.

Asserting --label arguments has been split out from the other docker
run arguments so that paunch can add new --label arguments in future
releases without breaking these tests.

paunch-1.1.0 has just been release which contains new idempotency
behaviour, so the tests have been modified to work with the new docker
command behaviour that idempotency requires.

Change-Id: I884c38ade06ab0e01432837c43f29b123e65fa3c
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/45/455845/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tests/test_hook_docker_cmd.py', 'heat-config-docker-cmd/os-refresh-config/configure.d/50-heat-config-docker-cmd', 'heat-config-docker-cmd/install.d/hook-docker-cmd.py']",4,1781d366df3eb24a768c42e697d0b1c7ed4c3451,paunch,"import collections import paunch import yaml labels = collections.OrderedDict() labels['deploy_stack_id'] = input_values.get('deploy_stack_id') labels['deploy_resource_name'] = input_values.get('deploy_resource_name') (stdout, stderr, deploy_status_code) = paunch.apply( cid, config, managed_by='docker-cmd', labels=labels, docker_cmd=DOCKER_CMD ) json.dump({ 'deploy_stdout': '\n'.join(stdout), 'deploy_stderr': '\n'.join(stderr), 'deploy_status_code': deploy_status_code, }, sys.stdout)","import random import string import subprocessimport yaml def docker_run_args(cmd, container, config): cconfig = config[container] if cconfig.get('detach', True): cmd.append('--detach=true') if 'env_file' in cconfig: if isinstance(cconfig['env_file'], list): for f in cconfig.get('env_file', []): if f: cmd.append('--env-file=%s' % f) else: cmd.append('--env-file=%s' % cconfig['env_file']) for v in cconfig.get('environment', []): if v: cmd.append('--env=%s' % v) if 'net' in cconfig: cmd.append('--net=%s' % cconfig['net']) if 'pid' in cconfig: cmd.append('--pid=%s' % cconfig['pid']) if 'privileged' in cconfig: cmd.append('--privileged=%s' % str(cconfig['privileged']).lower()) if 'restart' in cconfig: cmd.append('--restart=%s' % cconfig['restart']) if 'user' in cconfig: cmd.append('--user=%s' % cconfig['user']) for v in cconfig.get('volumes', []): if v: cmd.append('--volume=%s' % v) for v in cconfig.get('volumes_from', []): if v: cmd.append('--volumes_from=%s' % v) cmd.append(cconfig.get('image', '')) cmd.extend(command_argument(cmd, cconfig.get('command'))) def docker_exec_args(cmd, container, config, cid): cconfig = config[container] if 'privileged' in cconfig: cmd.append('--privileged=%s' % str(cconfig['privileged']).lower()) if 'user' in cconfig: cmd.append('--user=%s' % cconfig['user']) command = command_argument(cmd, cconfig.get('command')) # for exec, the first argument is the container name, # make sure the correct one is used command[0] = discover_container_name(command[0], cid) cmd.extend(command) def command_argument(cmd, command): if not command: return [] if not isinstance(command, list): return command.split() return command def execute(cmd): log.debug(' '.join(cmd)) subproc = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE) cmd_stdout, cmd_stderr = subproc.communicate() log.debug(cmd_stdout) log.debug(cmd_stderr) return cmd_stdout, cmd_stderr, subproc.returncode def label_arguments(cmd, container, cid, iv): cmd.extend([ '--label', 'deploy_stack_id=%s' % iv.get('deploy_stack_id'), '--label', 'deploy_resource_name=%s' % iv.get('deploy_resource_name'), '--label', 'config_id=%s' % cid, '--label', 'container_name=%s' % container, '--label', 'managed_by=docker-cmd' ]) def inspect(container, format=None): cmd = [DOCKER_CMD, 'inspect'] if format: cmd.append('--format') cmd.append(format) cmd.append(container) (cmd_stdout, cmd_stderr, returncode) = execute(cmd) if returncode != 0: return try: if format: return cmd_stdout else: return json.loads(cmd_stdout)[0] except Exception as e: log.error('Problem parsing docker inspect: %s' % e) def unique_container_name(container): container_name = container while inspect(container_name, format='exists'): suffix = ''.join(random.choice( string.ascii_lowercase + string.digits) for i in range(8)) container_name = '%s-%s' % (container, suffix) return container_name def discover_container_name(container, cid): cmd = [ DOCKER_CMD, 'ps', '-a', '--filter', 'label=container_name=%s' % container, '--filter', 'label=config_id=%s' % cid, '--format', '{{.Names}}' ] (cmd_stdout, cmd_stderr, returncode) = execute(cmd) if returncode != 0: return container names = cmd_stdout.split() if names: return names[0] return container key_fltr = lambda k: config[k].get('start_order', 0) for container in sorted(config, key=key_fltr): log.debug(""Running container: %s"" % container) action = config[container].get('action', 'run') exit_codes = config[container].get('exit_codes', [0]) if action == 'run': cmd = [ DOCKER_CMD, 'run', '--name', unique_container_name(container) ] label_arguments(cmd, container, cid, input_values) docker_run_args(cmd, container, config) elif action == 'exec': cmd = [DOCKER_CMD, 'exec'] docker_exec_args(cmd, container, config, cid) (cmd_stdout, cmd_stderr, returncode) = execute(cmd) if cmd_stdout: stdout.append(cmd_stdout) if cmd_stderr: stderr.append(cmd_stderr) if returncode not in exit_codes: log.error(""Error running %s. [%s]\n"" % (cmd, returncode)) deploy_status_code = returncode else: log.debug('Completed %s' % cmd) json.dump(build_response( '\n'.join(stdout), '\n'.join(stderr), deploy_status_code), sys.stdout)",36,259
openstack%2Fcinder~master~I2dc41861650bec3ec26e5fc2ef5ef6634351b6c1,openstack/cinder,master,I2dc41861650bec3ec26e5fc2ef5ef6634351b6c1,Updated from global requirements,MERGED,2017-05-20 04:34:30.000000000,2017-05-26 11:07:12.000000000,2017-05-22 04:06:10.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15831}, {'_account_id': 16595}, {'_account_id': 17565}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23317}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-05-20 04:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6bceb47e7905e9fd59b945e154f6d635826c295', 'message': 'Updated from global requirements\n\nChange-Id: I2dc41861650bec3ec26e5fc2ef5ef6634351b6c1\n'}, {'number': 2, 'created': '2017-05-21 22:14:33.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b94e645a99f4c2e8dc71480c3b1a39a119e8ae11', 'message': 'Updated from global requirements\n\nChange-Id: I2dc41861650bec3ec26e5fc2ef5ef6634351b6c1\n'}]",0,466460,b94e645a99f4c2e8dc71480c3b1a39a119e8ae11,50,28,2,11131,,,0,"Updated from global requirements

Change-Id: I2dc41861650bec3ec26e5fc2ef5ef6634351b6c1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/466460/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c6bceb47e7905e9fd59b945e154f6d635826c295,openstack/requirements,Routes>=2.3.1 # MIT,"Routes!=2.0,!=2.1,!=2.3.0,>=1.12.3;python_version=='2.7' # MIT Routes!=2.0,!=2.3.0,>=1.12.3;python_version!='2.7' # MIT",1,2
openstack%2Fmanila-specs~master~Idb373fb229b783f76755207767b0a1b42516d0be,openstack/manila-specs,master,Idb373fb229b783f76755207767b0a1b42516d0be,Remove pbr warnerrors in favor of sphinx check,MERGED,2017-05-18 07:04:19.000000000,2017-05-26 11:01:27.000000000,2017-05-26 11:01:27.000000000,"[{'_account_id': 3}, {'_account_id': 8851}, {'_account_id': 14567}, {'_account_id': 15100}]","[{'number': 1, 'created': '2017-05-18 07:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/8badbf40c78c61d3bf37624a52c31b7c619f8c52', 'message': 'Remove pbr warnerrors in favor of sphinx check\n\nThis change removes the now unused ""warnerrors"" setting,\nwhich is replaced by ""warning-is-error"" in sphinx\nreleases >= 1.5[0].\n\n[0] http://lists.openstack.org/pipermail/openstack-dev/2017-March/113085.html\n\nChange-Id: Idb373fb229b783f76755207767b0a1b42516d0be\n'}, {'number': 2, 'created': '2017-05-23 07:20:30.000000000', 'files': ['specs/pike/like-filter.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/233c937cbeb1267a092c7ecdf510f115a451fe3f', 'message': 'Remove pbr warnerrors in favor of sphinx check\n\nThis change removes the now unused ""warnerrors"" setting,\nwhich is replaced by ""warning-is-error"" in sphinx\nreleases >= 1.5[0].\n\n[0] http://lists.openstack.org/pipermail/openstack-dev/2017-March/113085.html\n\nChange-Id: Idb373fb229b783f76755207767b0a1b42516d0be\n'}]",0,465843,233c937cbeb1267a092c7ecdf510f115a451fe3f,13,4,2,15100,,,0,"Remove pbr warnerrors in favor of sphinx check

This change removes the now unused ""warnerrors"" setting,
which is replaced by ""warning-is-error"" in sphinx
releases >= 1.5[0].

[0] http://lists.openstack.org/pipermail/openstack-dev/2017-March/113085.html

Change-Id: Idb373fb229b783f76755207767b0a1b42516d0be
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/43/465843/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8badbf40c78c61d3bf37624a52c31b7c619f8c52,sphinx15,builders = html warning-is-error = 1, [pbr] warnerrors = True,2,3
openstack%2Fkolla~master~I539ee64285d1ad1096fd89be31fdb0c5f966df36,openstack/kolla,master,I539ee64285d1ad1096fd89be31fdb0c5f966df36,Reduce size of images built from git repos,ABANDONED,2017-01-17 12:53:14.000000000,2017-05-26 10:43:36.000000000,,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 13039}, {'_account_id': 13671}, {'_account_id': 16233}]","[{'number': 1, 'created': '2017-01-17 12:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5a518592228c051a70d6012b3b99d005f9b671ef', 'message': ""Reduce size of images built from git repos\n\nWhen building source type images from git locations, the '.git' directory from\nthe repo is included in the tarball which bloats the size of the images.\n\nE.g. for nova-base, the image built from tarballs is ~846.1 MB, whereas the\nsame from git is 1.134 GB.\n\nThis could be as simple as excluding the .git directory when creating the\ntarball, however pbr requires this to install the package.\n\nAnother solution is to use COPY rather than ADD to skip extracting the tarball\ninto the image, so that it can be extracted, installed, and then removed as\npart of a single layer during build. This is also not great though as the .git\ndir does not compress well in a lot of cases.\n\nA solution I've tested that works well is to use 'python setup.py sdist' to\ncreate the tarball that gets ADDed to the image. With this, the size of an\nimage created from a git repo is almost identical to that of the tarball build\ntype.\n\nExample kolla-build.conf entry:\n\n[nova-base]\ntype = git+sdist\nlocation = https://github.com/openstack/nova\nreference = master\n\nChange-Id: I539ee64285d1ad1096fd89be31fdb0c5f966df36\nCloses-Bug: #1657109\n""}, {'number': 2, 'created': '2017-01-17 12:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7d21a481b7cb621b3a6f4c5d4ca99186e543b9c0', 'message': ""Reduce size of images built from git repos\n\nWhen building source type images from git locations, the '.git'\ndirectory from the repo is included in the tarball which bloats the size\nof the images.\n\nE.g. for nova-base, the image built from tarballs is ~846.1 MB, whereas\nthe same from git is 1.134 GB.\n\nThis could be as simple as excluding the .git directory when creating\nthe tarball, however pbr requires this to install the package.\n\nAnother solution is to use COPY rather than ADD to skip extracting the\ntarball into the image, so that it can be extracted, installed, and then\nremoved as part of a single layer during build. This is also not great\nthough as the .git dir does not compress well in a lot of cases.\n\nA solution I've tested that works well is to use 'python setup.py sdist'\nto create the tarball that gets ADDed to the image. With this, the size\nof an image created from a git repo is almost identical to that of the\ntarball build type.\n\nExample kolla-build.conf entry:\n\n[nova-base]\ntype = git+sdist\nlocation = https://github.com/openstack/nova\nreference = master\n\nChange-Id: I539ee64285d1ad1096fd89be31fdb0c5f966df36\nCloses-Bug: #1657109\n""}, {'number': 3, 'created': '2017-01-25 11:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e11514b79782bab1341cd870ea805eed8e858d64', 'message': ""Reduce size of images built from git repos\n\nWhen building source type images from git locations, the '.git'\ndirectory from the repo is included in the tarball which bloats the size\nof the images.\n\nE.g. for nova-base, the image built from tarballs is ~846.1 MB, whereas\nthe same from git is 1.134 GB.\n\nThis could be as simple as excluding the .git directory when creating\nthe tarball, however pbr requires this to install the package.\n\nAnother solution is to use COPY rather than ADD to skip extracting the\ntarball into the image, so that it can be extracted, installed, and then\nremoved as part of a single layer during build. This is also not great\nthough as the .git dir does not compress well in a lot of cases.\n\nA solution I've tested that works well is to use 'python setup.py sdist'\nto create the tarball that gets ADDed to the image. With this, the size\nof an image created from a git repo is almost identical to that of the\ntarball build type.\n\nExample kolla-build.conf entry:\n\n[nova-base]\ntype = git+sdist\nlocation = https://github.com/openstack/nova\nreference = master\n\nChange-Id: I539ee64285d1ad1096fd89be31fdb0c5f966df36\nCloses-Bug: #1657109\n""}, {'number': 4, 'created': '2017-03-30 16:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/abe3df49f6c6278e841b16c8deb4d2b38a4c715b', 'message': ""Reduce size of images built from git repos\n\nWhen building source type images from git locations, the '.git'\ndirectory from the repo is included in the tarball which bloats the size\nof the images.\n\nE.g. for nova-base, the image built from tarballs is ~846.1 MB, whereas\nthe same from git is 1.134 GB.\n\nThis could be as simple as excluding the .git directory when creating\nthe tarball, however pbr requires this to install the package.\n\nAnother solution is to use COPY rather than ADD to skip extracting the\ntarball into the image, so that it can be extracted, installed, and then\nremoved as part of a single layer during build. This is also not great\nthough as the .git dir does not compress well in a lot of cases.\n\nA solution I've tested that works well is to use 'python setup.py sdist'\nto create the tarball that gets ADDed to the image. With this, the size\nof an image created from a git repo is almost identical to that of the\ntarball build type.\n\nExample kolla-build.conf entry:\n\n[nova-base]\ntype = git+sdist\nlocation = https://github.com/openstack/nova\nreference = master\n\nChange-Id: I539ee64285d1ad1096fd89be31fdb0c5f966df36\nCloses-Bug: #1657109\n""}, {'number': 5, 'created': '2017-03-30 16:51:43.000000000', 'files': ['kolla/image/build.py', 'releasenotes/notes/add-sdist-build-f15fc710202cb671.yaml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1ff581af6c47d345564da7c2aff8cd8e4216dd81', 'message': ""Reduce size of images built from git repos\n\nWhen building source type images from git locations, the '.git'\ndirectory from the repo is included in the tarball which bloats the size\nof the images.\n\nE.g. for nova-base, the image built from tarballs is ~846.1 MB, whereas\nthe same from git is 1.134 GB.\n\nThis could be as simple as excluding the .git directory when creating\nthe tarball, however pbr requires this to install the package.\n\nAnother solution is to use COPY rather than ADD to skip extracting the\ntarball into the image, so that it can be extracted, installed, and then\nremoved as part of a single layer during build. This is also not great\nthough as the .git dir does not compress well in a lot of cases.\n\nA solution I've tested that works well is to use 'python setup.py sdist'\nto create the tarball that gets ADDed to the image. With this, the size\nof an image created from a git repo is almost identical to that of the\ntarball build type.\n\nExample kolla-build.conf entry:\n\n[nova-base]\ntype = git+sdist\nlocation = https://github.com/openstack/nova\nreference = master\n\nChange-Id: I539ee64285d1ad1096fd89be31fdb0c5f966df36\nCloses-Bug: #1657109\n""}]",3,421252,1ff581af6c47d345564da7c2aff8cd8e4216dd81,17,5,5,1390,,,0,"Reduce size of images built from git repos

When building source type images from git locations, the '.git'
directory from the repo is included in the tarball which bloats the size
of the images.

E.g. for nova-base, the image built from tarballs is ~846.1 MB, whereas
the same from git is 1.134 GB.

This could be as simple as excluding the .git directory when creating
the tarball, however pbr requires this to install the package.

Another solution is to use COPY rather than ADD to skip extracting the
tarball into the image, so that it can be extracted, installed, and then
removed as part of a single layer during build. This is also not great
though as the .git dir does not compress well in a lot of cases.

A solution I've tested that works well is to use 'python setup.py sdist'
to create the tarball that gets ADDed to the image. With this, the size
of an image created from a git repo is almost identical to that of the
tarball build type.

Example kolla-build.conf entry:

[nova-base]
type = git+sdist
location = https://github.com/openstack/nova
reference = master

Change-Id: I539ee64285d1ad1096fd89be31fdb0c5f966df36
Closes-Bug: #1657109
",git fetch https://review.opendev.org/openstack/kolla refs/changes/52/421252/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'releasenotes/notes/add-sdist-build-f15fc710202cb671.yaml', 'kolla/common/config.py']",3,5a518592228c051a70d6012b3b99d005f9b671ef,bug/1657109," return [cfg.StrOpt('type', choices=['local', 'git', 'git+sdist', 'url'],"," return [cfg.StrOpt('type', choices=['local', 'git', 'url'],",24,5
openstack%2Ffreezer~master~I661debd0b223059824acd8e2b472a6afe1682b09,openstack/freezer,master,I661debd0b223059824acd8e2b472a6afe1682b09,Fix dereference-symlink value check error,MERGED,2017-05-16 09:04:32.000000000,2017-05-26 10:33:57.000000000,2017-05-26 10:33:56.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 14101}, {'_account_id': 14509}, {'_account_id': 22405}]","[{'number': 1, 'created': '2017-05-16 09:04:32.000000000', 'files': ['freezer/engine/tar/tar_builders.py', 'freezer/job.py', 'specs/job-backup.conf.example', 'freezer/tests/commons.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/63199592fea8c24ac4070e6a6ea325448b5eeae1', 'message': ""Fix dereference-symlink value check error\n\nCurrently, freezer use a string 'none' to judge if\nthe parameter 'dereference-symlink' is None or not.\nThis patch will fix it.\n\nChange-Id: I661debd0b223059824acd8e2b472a6afe1682b09\nCloses-Bug: #1691052\n""}]",0,464993,63199592fea8c24ac4070e6a6ea325448b5eeae1,7,5,1,21224,,,0,"Fix dereference-symlink value check error

Currently, freezer use a string 'none' to judge if
the parameter 'dereference-symlink' is None or not.
This patch will fix it.

Change-Id: I661debd0b223059824acd8e2b472a6afe1682b09
Closes-Bug: #1691052
",git fetch https://review.opendev.org/openstack/freezer refs/changes/93/464993/1 && git format-patch -1 --stdout FETCH_HEAD,"['freezer/engine/tar/tar_builders.py', 'freezer/job.py', 'specs/job-backup.conf.example', 'freezer/tests/commons.py']",4,63199592fea8c24ac4070e6a6ea325448b5eeae1,bug/1691052, self.dereference_symlink = None, self.dereference_symlink = 'none',5,5
openstack%2Foslo.serialization~stable%2Focata~I892d0aa2302576b257ebc267a6c87679262410d8,openstack/oslo.serialization,stable/ocata,I892d0aa2302576b257ebc267a6c87679262410d8,Updated from global requirements,ABANDONED,2017-05-08 20:50:56.000000000,2017-05-26 10:30:10.000000000,,"[{'_account_id': 3}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-05-08 20:50:56.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/d1e51d6895b49175fb689c4e2f80e8796f080086', 'message': 'Updated from global requirements\n\nChange-Id: I892d0aa2302576b257ebc267a6c87679262410d8\n'}]",0,463402,d1e51d6895b49175fb689c4e2f80e8796f080086,4,2,1,11131,,,0,"Updated from global requirements

Change-Id: I892d0aa2302576b257ebc267a6c87679262410d8
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/02/463402/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d1e51d6895b49175fb689c4e2f80e8796f080086,openstack/requirements,"pbr<2.0.0,>=1.8 # Apache-2.0",pbr>=1.8 # Apache-2.0,1,1
openstack%2Fpuppet-tripleo~master~Ifd6966e33a61b010b09ab7a45a19f4bf3c32a341,openstack/puppet-tripleo,master,Ifd6966e33a61b010b09ab7a45a19f4bf3c32a341,Use pre-versioning in setup.cfg matching metadata.json,ABANDONED,2017-03-07 22:30:08.000000000,2017-05-26 10:28:16.000000000,,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 13294}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-03-07 22:30:08.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f265dd7513afa4a8bd29356e547b768dfe0bf310', 'message': ""Use pre-versioning in setup.cfg matching metadata.json\n\nWithout that PBR computed version does not match version in Puppet\nmodule's metadata.json\n\nChange-Id: Ifd6966e33a61b010b09ab7a45a19f4bf3c32a341\nReleated-Bug: #1669462\n""}]",0,442807,f265dd7513afa4a8bd29356e547b768dfe0bf310,9,6,1,1955,,,0,"Use pre-versioning in setup.cfg matching metadata.json

Without that PBR computed version does not match version in Puppet
module's metadata.json

Change-Id: Ifd6966e33a61b010b09ab7a45a19f4bf3c32a341
Releated-Bug: #1669462
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/07/442807/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f265dd7513afa4a8bd29356e547b768dfe0bf310,bug/1669462,version = 7.0.0 Operating System :: POSIX :: Linux , Operating System :: POSIX :: Linux,2,1
openstack%2Ffreezer~master~I1030101e2a7401bdfd0ab777374d2960f2a7d56e,openstack/freezer,master,I1030101e2a7401bdfd0ab777374d2960f2a7d56e,Use fixtures.EnvironmentVariable,MERGED,2017-05-24 17:30:57.000000000,2017-05-26 10:22:41.000000000,2017-05-26 10:22:41.000000000,"[{'_account_id': 3}, {'_account_id': 14509}, {'_account_id': 22405}]","[{'number': 1, 'created': '2017-05-24 17:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/1cc21d5bcf1686787ff1e01f790d706fea3ea5b3', 'message': 'Use fixtures.EnvironmentVariable\n\nThis change uses fixtures.EnvironmentVariable to ensure environment cleanup even if test fails.\n\nChange-Id: I1030101e2a7401bdfd0ab777374d2960f2a7d56e\n'}, {'number': 2, 'created': '2017-05-25 11:10:12.000000000', 'files': ['freezer/tests/unit/utils/test_utils.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/95f08885443337bc368fc296a220a698f57691b6', 'message': 'Use fixtures.EnvironmentVariable\n\nThis change uses fixtures.EnvironmentVariable to ensure environment\ncleanup even if test fails.\n\nChange-Id: I1030101e2a7401bdfd0ab777374d2960f2a7d56e\n'}]",0,467692,95f08885443337bc368fc296a220a698f57691b6,10,3,2,13940,,,0,"Use fixtures.EnvironmentVariable

This change uses fixtures.EnvironmentVariable to ensure environment
cleanup even if test fails.

Change-Id: I1030101e2a7401bdfd0ab777374d2960f2a7d56e
",git fetch https://review.opendev.org/openstack/freezer refs/changes/92/467692/2 && git format-patch -1 --stdout FETCH_HEAD,['freezer/tests/unit/utils/test_utils.py'],1,1cc21d5bcf1686787ff1e01f790d706fea3ea5b3,use-fixtures,"import fixtures self.useFixture(fixtures.EnvironmentVariable( ""HTTP_PROXY"", 'http://proxy.original.domain:8080')) self.useFixture(fixtures.EnvironmentVariable(""HTTPS_PROXY""))"," os.environ[""HTTP_PROXY""] = 'http://proxy.original.domain:8080' os.environ.pop(""HTTPS_PROXY"", None)",5,2
openstack%2Fproject-config~master~Ic05f880054919eaa307f78f93f9432e2fa620dda,openstack/project-config,master,Ic05f880054919eaa307f78f93f9432e2fa620dda,Normalize projects.yaml,MERGED,2017-05-26 09:48:03.000000000,2017-05-26 10:18:21.000000000,2017-05-26 10:18:21.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-05-26 09:48:03.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f69ddf800ed04b46370bb5ccd379c8377992f64d', 'message': 'Normalize projects.yaml\n\nChange-Id: Ic05f880054919eaa307f78f93f9432e2fa620dda\n'}]",0,468336,f69ddf800ed04b46370bb5ccd379c8377992f64d,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: Ic05f880054919eaa307f78f93f9432e2fa620dda
",git fetch https://review.opendev.org/openstack/project-config refs/changes/36/468336/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,f69ddf800ed04b46370bb5ccd379c8377992f64d,project-yaml-normalization,, upstream: https://github.com/openstack/openstack-ansible-security,0,1
openstack%2Ffreezer-api~master~I83629eaa5ab398e7c542c059d3dc0396ecc7b4b9,openstack/freezer-api,master,I83629eaa5ab398e7c542c059d3dc0396ecc7b4b9,Updated from global requirements,MERGED,2017-05-26 01:47:00.000000000,2017-05-26 10:17:30.000000000,2017-05-26 10:17:30.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 22405}]","[{'number': 1, 'created': '2017-05-26 01:47:00.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/f8d36a9b49c5b625b15a2d8056843ff637bd1eff', 'message': 'Updated from global requirements\n\nChange-Id: I83629eaa5ab398e7c542c059d3dc0396ecc7b4b9\n'}]",0,468236,f8d36a9b49c5b625b15a2d8056843ff637bd1eff,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I83629eaa5ab398e7c542c059d3dc0396ecc7b4b9
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/36/468236/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,f8d36a9b49c5b625b15a2d8056843ff637bd1eff,openstack/requirements,oslo.middleware>=3.27.0 # Apache-2.0,oslo.middleware>=3.10.0 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-security~master~Ic0d2bd05108f998ce209fab5b013699ea06bdef7,openstack/openstack-ansible-security,master,Ic0d2bd05108f998ce209fab5b013699ea06bdef7,[Docs] Fix incorrect tag for V-71895,MERGED,2017-05-25 03:50:21.000000000,2017-05-26 10:13:10.000000000,2017-05-26 10:13:10.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 10607}]","[{'number': 1, 'created': '2017-05-25 03:50:21.000000000', 'files': ['doc/metadata/rhel7/V-71895.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-security/commit/8a9d1c2c1efda792956fdc309c8c3ac419587c46', 'message': ""[Docs] Fix incorrect tag for V-71895\n\nThe tag should be 'graphical', not 'file_perms'.\n\nChange-Id: Ic0d2bd05108f998ce209fab5b013699ea06bdef7\n""}]",0,467869,8a9d1c2c1efda792956fdc309c8c3ac419587c46,7,3,1,538,,,0,"[Docs] Fix incorrect tag for V-71895

The tag should be 'graphical', not 'file_perms'.

Change-Id: Ic0d2bd05108f998ce209fab5b013699ea06bdef7
",git fetch https://review.opendev.org/openstack/openstack-ansible-security refs/changes/69/467869/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/metadata/rhel7/V-71895.rst'],1,8a9d1c2c1efda792956fdc309c8c3ac419587c46,small-doc-fix,tag: graphical,tag: file_perms,1,1
openstack%2Fopenstack-ansible-security~master~I0e0e30ad55555978deae135b8774c8ff21ae39a5,openstack/openstack-ansible-security,master,I0e0e30ad55555978deae135b8774c8ff21ae39a5,[Docs] Fix incorrect tag for V-71899,MERGED,2017-05-25 03:49:06.000000000,2017-05-26 10:13:05.000000000,2017-05-26 10:13:05.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 10607}]","[{'number': 1, 'created': '2017-05-25 03:49:06.000000000', 'files': ['doc/metadata/rhel7/V-71899.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-security/commit/2ac19fb97ec83d09597825e9212ae50449b602fc', 'message': ""[Docs] Fix incorrect tag for V-71899\n\nThe tag should be 'graphical', not 'file_perms'.\n\nChange-Id: I0e0e30ad55555978deae135b8774c8ff21ae39a5\n""}]",0,467868,2ac19fb97ec83d09597825e9212ae50449b602fc,7,3,1,538,,,0,"[Docs] Fix incorrect tag for V-71899

The tag should be 'graphical', not 'file_perms'.

Change-Id: I0e0e30ad55555978deae135b8774c8ff21ae39a5
",git fetch https://review.opendev.org/openstack/openstack-ansible-security refs/changes/68/467868/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/metadata/rhel7/V-71899.rst'],1,2ac19fb97ec83d09597825e9212ae50449b602fc,small-doc-fix,tag: graphical,tag: file_perms,1,1
openstack%2Frally~master~Ia5ae5188b91e6589c42e1b085cc9345c28fb20ae,openstack/rally,master,Ia5ae5188b91e6589c42e1b085cc9345c28fb20ae,Move 'required_contexts' validator to '../validators.py',MERGED,2017-05-03 15:13:10.000000000,2017-05-26 10:12:21.000000000,2017-05-26 10:12:21.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 23094}]","[{'number': 1, 'created': '2017-05-03 15:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/98836946c3c0933c11d79af544091d2b89c7b2b6', 'message': ""[WIP] Move 'required_contexts' validator to '../validators.py'\n\nChange-Id: Ia5ae5188b91e6589c42e1b085cc9345c28fb20ae\n""}, {'number': 2, 'created': '2017-05-04 08:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2863890438bbfdfb1293bc850064b6f5803adfb2', 'message': ""[WIP] Move 'required_contexts' validator to '../validators.py'\n\nChange-Id: Ia5ae5188b91e6589c42e1b085cc9345c28fb20ae\n""}, {'number': 3, 'created': '2017-05-04 11:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c8359bc692286513391919a92a599cb7a2b0ee68', 'message': ""[WIP] Move 'required_contexts' validator to '../validators.py'\n\nChange-Id: Ia5ae5188b91e6589c42e1b085cc9345c28fb20ae\n""}, {'number': 4, 'created': '2017-05-05 07:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e7171ab9c0e6d2a2c4a4f6f7ee2d251f26ba024c', 'message': ""[WIP] Move 'required_contexts' validator to '../validators.py'\n\nChange-Id: Ia5ae5188b91e6589c42e1b085cc9345c28fb20ae\n""}, {'number': 5, 'created': '2017-05-10 08:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b3d74e004ce94a26026c013031d9385f9d1f9c26', 'message': ""[WIP] Move 'required_contexts' validator to '../validators.py'\n\nChange-Id: Ia5ae5188b91e6589c42e1b085cc9345c28fb20ae\n""}, {'number': 6, 'created': '2017-05-11 08:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f1a7315a65e53101eb61431e1d0be11ca535304c', 'message': ""Move 'required_contexts' validator to '../validators.py'\n\nChange-Id: Ia5ae5188b91e6589c42e1b085cc9345c28fb20ae\n""}, {'number': 7, 'created': '2017-05-15 08:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/030928a8bb2e1015811f254844bd2ef171f36685', 'message': ""Move 'required_contexts' validator to '../validators.py'\n\nChange-Id: Ia5ae5188b91e6589c42e1b085cc9345c28fb20ae\n""}, {'number': 8, 'created': '2017-05-16 10:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d04ac178ea274280c12d164ca625d5d6c9ffc999', 'message': ""Move 'required_contexts' validator to '../validators.py'\n\nChange-Id: Ia5ae5188b91e6589c42e1b085cc9345c28fb20ae\n""}, {'number': 9, 'created': '2017-05-17 08:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ee621bc35a4b0fb1e9eb9d34301e368dddfb2682', 'message': ""Move 'required_contexts' validator to '../validators.py'\n\nChange-Id: Ia5ae5188b91e6589c42e1b085cc9345c28fb20ae\n""}, {'number': 10, 'created': '2017-05-18 10:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/fba2db0d94afbb15b05234e516fd0ed0ba1774e9', 'message': ""Move 'required_contexts' validator to '../validators.py'\n\nChange-Id: Ia5ae5188b91e6589c42e1b085cc9345c28fb20ae\n""}, {'number': 11, 'created': '2017-05-19 07:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/0cd83954bf8d19c70f312482967a47418fe6aac7', 'message': ""Move 'required_contexts' validator to '../validators.py'\n\nChange-Id: Ia5ae5188b91e6589c42e1b085cc9345c28fb20ae\n""}, {'number': 12, 'created': '2017-05-22 07:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f26fbb06b7562b75baf199247a5ba92601f7062e', 'message': ""Move 'required_contexts' validator to '../validators.py'\n\nChange-Id: Ia5ae5188b91e6589c42e1b085cc9345c28fb20ae\n""}, {'number': 13, 'created': '2017-05-25 07:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ecb69bad16fd389d8670737ce6c3b14bca82f7e4', 'message': ""Move 'required_contexts' validator to '../validators.py'\n\nChange-Id: Ia5ae5188b91e6589c42e1b085cc9345c28fb20ae\n""}, {'number': 14, 'created': '2017-05-25 09:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d78ed9809a25b769f6c7745a29e2a75d58b8d0fb', 'message': ""Move 'required_contexts' validator to '../validators.py'\n\nChange-Id: Ia5ae5188b91e6589c42e1b085cc9345c28fb20ae\n""}, {'number': 15, 'created': '2017-05-25 10:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4369c1e16c4fc7fdfdabd5cc0d2e2e34af351f14', 'message': ""Move 'required_contexts' validator to '../validators.py'\n\nChange-Id: Ia5ae5188b91e6589c42e1b085cc9345c28fb20ae\n""}, {'number': 16, 'created': '2017-05-26 08:01:03.000000000', 'files': ['rally/plugins/openstack/scenarios/sahara/clusters.py', 'rally/plugins/openstack/scenarios/watcher/basic.py', 'rally/plugins/openstack/scenarios/nova/servers.py', 'rally/plugins/openstack/scenarios/senlin/clusters.py', 'rally/plugins/openstack/scenarios/ceilometer/samples.py', 'rally/plugins/openstack/scenarios/cinder/volume_types.py', 'rally/plugins/openstack/scenarios/sahara/jobs.py', 'rally/plugins/openstack/scenarios/ceilometer/meters.py', 'rally/plugins/openstack/scenarios/ceilometer/stats.py', 'rally/task/validation.py', 'tests/unit/plugins/common/test_validators.py', 'rally/plugins/openstack/scenarios/neutron/loadbalancer_v1.py', 'rally/plugins/openstack/scenarios/cinder/volumes.py', 'rally/plugins/openstack/scenarios/designate/basic.py', 'rally/plugins/openstack/scenarios/neutron/loadbalancer_v2.py', 'tests/unit/task/test_validation.py', 'rally/plugins/openstack/scenarios/murano/environments.py', 'rally/plugins/common/validators.py', 'rally/plugins/openstack/scenarios/ceilometer/resources.py', 'rally/plugins/openstack/scenarios/nova/agents.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/8602c7b7cb1a946f2bc48bca9c12f3a2513bab54', 'message': ""Move 'required_contexts' validator to '../validators.py'\n\nChange-Id: Ia5ae5188b91e6589c42e1b085cc9345c28fb20ae\n""}]",3,462186,8602c7b7cb1a946f2bc48bca9c12f3a2513bab54,81,4,16,23094,,,0,"Move 'required_contexts' validator to '../validators.py'

Change-Id: Ia5ae5188b91e6589c42e1b085cc9345c28fb20ae
",git fetch https://review.opendev.org/openstack/rally refs/changes/86/462186/16 && git format-patch -1 --stdout FETCH_HEAD,"['rally/plugins/openstack/scenarios/sahara/clusters.py', 'rally/plugins/openstack/scenarios/watcher/basic.py', 'rally/plugins/openstack/scenarios/nova/servers.py', 'rally/plugins/openstack/scenarios/senlin/clusters.py', 'rally/plugins/openstack/scenarios/ceilometer/samples.py', 'rally/plugins/openstack/validators.py', 'rally/plugins/openstack/scenarios/cinder/volume_types.py', 'rally/plugins/openstack/scenarios/nova/security_group.py', 'rally/plugins/openstack/scenarios/fuel/nodes.py', 'rally/plugins/openstack/scenarios/magnum/clusters.py', 'rally/plugins/openstack/scenarios/sahara/jobs.py', 'rally/plugins/openstack/scenarios/ceilometer/meters.py', 'rally/plugins/openstack/scenarios/ceilometer/stats.py', 'rally/task/validation.py', 'rally/plugins/openstack/scenarios/neutron/loadbalancer_v1.py', 'rally/plugins/openstack/scenarios/cinder/volumes.py', 'rally/plugins/openstack/scenarios/designate/basic.py', 'rally/plugins/openstack/scenarios/neutron/loadbalancer_v2.py', 'tests/unit/task/test_validation.py', 'rally/plugins/openstack/scenarios/murano/environments.py', 'tests/unit/plugins/openstack/test_validators.py', 'rally/plugins/openstack/scenarios/ceilometer/resources.py']",22,98836946c3c0933c11d79af544091d2b89c7b2b6,astarove-required-contexts,"@validation.add(""required_contexts"", contexts=(""ceilometer""))@validation.add(""required_contexts"", contexts=(""ceilometer""))","@validation.required_contexts(""ceilometer"")@validation.required_contexts(""ceilometer"")",144,100
openstack%2Fopenstack-ansible-security~master~I0467e8b2d2cfa4a73ff93690ea30e944b39b419d,openstack/openstack-ansible-security,master,I0467e8b2d2cfa4a73ff93690ea30e944b39b419d,[Docs] Fix incorrect tag for V-72267,MERGED,2017-05-25 03:35:35.000000000,2017-05-26 10:11:48.000000000,2017-05-26 10:11:48.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 10607}]","[{'number': 1, 'created': '2017-05-25 03:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-security/commit/5244cbd102b6f2a3c95679f8e36cceda66114862', 'message': ""Fix incorrect tag in docs\n\nThe tag for V-72267 was set to 'implemented' in an interesting\ncopy/paste failure. It should be 'sshd'.\n\nChange-Id: I0467e8b2d2cfa4a73ff93690ea30e944b39b419d\n""}, {'number': 2, 'created': '2017-05-25 03:49:06.000000000', 'files': ['doc/metadata/rhel7/V-72267.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-security/commit/3f3afe79c1f4c0f66e60946bcb487b76bd758478', 'message': ""[Docs] Fix incorrect tag for V-72267\n\nThe tag for V-72267 was set to 'implemented' in an interesting\ncopy/paste failure. It should be 'sshd'.\n\nChange-Id: I0467e8b2d2cfa4a73ff93690ea30e944b39b419d\n""}]",0,467860,3f3afe79c1f4c0f66e60946bcb487b76bd758478,9,3,2,538,,,0,"[Docs] Fix incorrect tag for V-72267

The tag for V-72267 was set to 'implemented' in an interesting
copy/paste failure. It should be 'sshd'.

Change-Id: I0467e8b2d2cfa4a73ff93690ea30e944b39b419d
",git fetch https://review.opendev.org/openstack/openstack-ansible-security refs/changes/60/467860/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/metadata/rhel7/V-72267.rst'],1,5244cbd102b6f2a3c95679f8e36cceda66114862,small-doc-fix,tag: sshd,tag: implemented,1,1
openstack%2Ftripleo-ui~master~Ie16f0d779de2b0590d1fb508e6e388e42fa6a483,openstack/tripleo-ui,master,Ie16f0d779de2b0590d1fb508e6e388e42fa6a483,Imported Translations from Zanata,MERGED,2017-05-25 09:57:00.000000000,2017-05-26 10:08:42.000000000,2017-05-26 10:08:42.000000000,"[{'_account_id': 3}, {'_account_id': 4978}]","[{'number': 1, 'created': '2017-05-25 09:57:00.000000000', 'files': ['i18n/locales/tr-TR.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/5c78243207b428080eccb58c080c6fdb86bf2bc5', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Ie16f0d779de2b0590d1fb508e6e388e42fa6a483\n'}]",0,467967,5c78243207b428080eccb58c080c6fdb86bf2bc5,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: Ie16f0d779de2b0590d1fb508e6e388e42fa6a483
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/67/467967/1 && git format-patch -1 --stdout FETCH_HEAD,['i18n/locales/tr-TR.json'],1,5c78243207b428080eccb58c080c6fdb86bf2bc5,zanata/translations,"{ ""tr-TR"": { ""AuthenticatedContent.loadingDeployments"": ""Uygulamalar Y\u00fckleniyor..."", ""ConfigurePlanStep.editConfigurationLink"": ""Yap\u0131land\u0131rmay\u0131 D\u00fczenle"", ""ContentView.list"": ""Liste g\u00f6r\u00fcn\u00fcm\u00fc"", ""ContentView.table"": ""Tablo g\u00f6r\u00fcn\u00fcm\u00fc"", ""CurrentPlanActions.planActivatedNotificationMessage"": ""{planName} plan\u0131 etkinle\u015ftirildi."", ""CurrentPlanActions.planActivatedNotificationTitle"": ""Plan Etkinle\u015ftirildi"", ""DataTable.filter"": ""S\u00fczge\u00e7"", ""DataTable.itemsVisibleInTable"": ""{total} \u00f6ge i\u00e7inden {showing} g\u00f6steriliyor"", ""DeletePlan.cancel"": ""\u0130ptal"", ""DeletePlan.deletePlan"": ""Plan\u0131 Sil"", ""DeletePlan.deletePlanConfirmation"": ""{planName} plan\u0131n\u0131 silmek istedi\u011finize emin misiniz?"", ""DeletePlan.deletePlanName"": ""{planName}'i Sil"", ""DeleteStackButton.deleteConfirmationQuestion"": ""Y\u0131\u011f\u0131n\u0131 silmek istedi\u011finize emin misiniz?"", ""DeleteStackButton.deleteDeployment"": ""Uygulamay\u0131 Sil"", ""Deploy.deleteInProgress"": ""Silme s\u00fcr\u00fcyor"", ""DeployStep.requestingDeploy"": ""Uygulama yerle\u015ftirme isteniyor..."", ""DeployStep.validateAndDeploy"": ""Do\u011frula ve Uygula"", ""DeploymentConfiguration.deploymentConfiguration"": ""Uygulama Yap\u0131land\u0131rmas\u0131"", ""DeploymentConfiguration.overallSettings"": ""Genel Ayarlar"", ""DeploymentConfiguration.parameters"": ""Parametreler"", ""DeploymentConfigurationSummary.loadingCurrentConfiguration"": ""Mevcut Uygulama Yap\u0131land\u0131rmas\u0131 y\u00fckleniyor..."", ""DeploymentConfirmation.deployButton"": ""Yerle\u015ftir"", ""DeploymentConfirmation.deploymentConfirmation"": ""Bu plan\u0131 uygulamak istedi\u011finize emin misiniz?"", ""DeploymentConfirmation.deploymentConfirmationHeader"": ""{planName} Plan\u0131n\u0131 Uygula"", ""DeploymentConfirmation.requestingDeploymentLoader"": ""Uygulama yerle\u015ftirme isteniyor..."", ""DeploymentConfirmation.summary"": ""\u00d6zet:"", ""DeploymentConfirmation.validationsWarningMessage"": ""Devam etmeden \u00f6nce t\u00fcm do\u011frulama sorunlar\u0131n\u0131 \u00e7\u00f6zmeniz \u00f6nerilir."", ""DeploymentConfirmation.validationsWarningTitle"": ""T\u00fcm uygulama-\u00f6ncesi do\u011frulamalardan ge\u00e7ilemedi."", ""DeploymentDetail.close"": ""Kapat"", ""DeploymentDetail.loadingStacksLoader"": ""Y\u0131\u011f\u0131nlar Y\u00fckleniyor..."", ""DeploymentDetail.modalTitle"": ""Plan {planName} uygulamas\u0131"", ""DeploymentFailure.deleteDeployment"": ""Uygulamay\u0131 Sil"", ""DeploymentFailure.moreDetails"": ""Daha fazla ayr\u0131nt\u0131"", ""DeploymentFailure.requestingDeletion"": ""Uygulaman\u0131n Silinmesi \u0130steniyor"", ""DeploymentFailure.resources"": ""Kaynaklar"", ""DeploymentPlan.configurePlanStepTooltip"": ""Bu ad\u0131m overcloud'un a\u011f, depolama, ve di\u011fer sertifikal\u0131 eklentileri i\u00e7in belirli ayarlar\u0131 d\u00fczenlemenizi sa\u011flar. Bu ad\u0131m\u0131 kullanarak a\u011f yal\u0131t\u0131m yap\u0131land\u0131rman\u0131z\u0131 ve arka u\u00e7 depolama ayarlar\u0131n\u0131z\u0131 tan\u0131mlay\u0131n."", ""DeploymentPlan.configureRolesStepHeader"": ""Rolleri Yap\u0131land\u0131r ve D\u00fc\u011f\u00fcmleri Ata"", ""DeploymentPlan.configureRolesStepTooltip"": ""Bu ad\u0131m overcloud'unuzdaki rollerinizden d\u00fc\u011f\u00fcmleri \u00e7\u0131kar\u0131r ya da atar. Her rol\u00fcn se\u00e7im penceresinde, kullan\u0131labilir d\u00fc\u011f\u00fcmleri role etiketleyebilir ya da role atanan rollerin etiketini kald\u0131rabilirsiniz. Se\u00e7im penceresini a\u00e7mak ve d\u00fc\u011f\u00fcmleri atamaya ba\u015flamak i\u00e7in herhangi bir rol i\u00e7in \""D\u00fc\u011f\u00fcm Ata\""ya t\u0131klay\u0131n. Bu ad\u0131mda role \u00f6zel ayarlar\u0131 da yap\u0131land\u0131rabilirsiniz. \u00d6rne\u011fin, her rolde servisler yazabilir ve her rolle ili\u015fkili parametreleri \u00f6zelle\u015ftirebilirsiniz. Her rol\u00fcn sa\u011f \u00fcst k\u00f6\u015fesindeki kalem simgesine t\u0131klayarak bu role \u00f6zel ayarlar\u0131 g\u00f6rebilirsiniz."", ""DeploymentPlan.deployStepHeader"": ""Yerle\u015ftir"", ""DeploymentPlan.deploymentConfigurationStepHeader"": ""Uygulama Yap\u0131land\u0131rmas\u0131 Belirtin"", ""DeploymentPlan.deploymentStepTooltip"": ""Bu ad\u0131m overcloud'un yerle\u015ftirilmesini yapar. Uygulama ba\u015flad\u0131ktan sonra, idareci s\u00fcreci takip eder ve her tamamlanan, \u00e7al\u0131\u015fan, veya ba\u015far\u0131s\u0131z ad\u0131mla ilgili rapor verir. Uygulama bitti\u011finde, idareci mevcut overcloud durumunu ve giri\u015f ayr\u0131nt\u0131lar\u0131n\u0131 g\u00f6sterir, bunlar\u0131 kullanarak overcloud ile ileti\u015fime ge\u00e7ersiniz. Uygulamaya ba\u015flamak i\u00e7in \""Uygula/Yerle\u015ftir\"" t\u0131klay\u0131n."", ""DeploymentPlan.hardwareStepHeader"": ""Donan\u0131m Haz\u0131rla"", ""DeploymentPlan.hardwareStepTooltip"": ""Bu ad\u0131m d\u00fc\u011f\u00fcmlerinizi kaydeder ve g\u00f6zlemler. Kay\u0131t her bir d\u00fc\u011f\u00fcm i\u00e7in g\u00fc\u00e7 y\u00f6netim ayr\u0131nt\u0131lar\u0131n\u0131 tan\u0131mlamay\u0131 i\u00e7erir, b\u00f6ylece idareci g\u00f6zleme ve haz\u0131rl\u0131k ad\u0131mlar\u0131nda onlar\u0131 kontrol edebilir. Kay\u0131ttan sonra, d\u00fc\u011f\u00fcmleri g\u00f6zlemlersiniz, burda her d\u00fc\u011f\u00fcm\u00fcn kulland\u0131\u011f\u0131 donan\u0131m tan\u0131mlan\u0131r ve her d\u00fc\u011f\u00fcm\u00fcn profili in\u015fa edilir. Kay\u0131t ve g\u00f6zlemden sonra, bu d\u00fc\u011f\u00fcmleri overcloud'unuzda belirli rollere atayabilirsiniz."", ""DeploymentProgress.cancelDeployment"": ""Uygulamay\u0131 \u0130ptal Et"", ""DeploymentProgress.deploymentInProgress"": ""Uygulama \u015fu an s\u00fcr\u00fcyor."", ""DeploymentProgress.requestingDeletion"": ""Uygulaman\u0131n Silinmesi \u0130steniyor"", ""DeploymentProgress.viewInformation"": ""Ayr\u0131nt\u0131l\u0131 bilgiyi g\u00f6r\u00fcnt\u00fcle"", ""DeploymentStatus.createComplete"": ""Yerle\u015ftirme ba\u015far\u0131l\u0131"", ""DeploymentStatus.createFailed"": ""Uygulama ba\u015far\u0131s\u0131z"", ""DeploymentStatus.createInProgress"": ""Uygulama s\u00fcr\u00fcyor"", ""DeploymentStatus.deleteFailed"": ""Uygulama silme ba\u015far\u0131s\u0131z"", ""DeploymentStatus.updateComplete"": ""G\u00fcncelleme ba\u015far\u0131l\u0131"", ""DeploymentStatus.updateFailed"": ""G\u00fcncelleme ba\u015far\u0131s\u0131z"", ""DeploymentStatus.updateInProgress"": ""G\u00fcncelleme s\u00fcr\u00fcyor"", ""DeploymentSuccess.deleteDeployment"": ""Uygulamay\u0131 Sil"", ""DeploymentSuccess.requestingDeletion"": ""Uygulaman\u0131n Silinmesi \u0130steniyor"", ""DeploymentSuccess.resources"": ""Kaynaklar"", ""DriverFields.ipOrFqdnValidatorMessage"": ""L\u00fctfen ge\u00e7erli bir IPv4 adresi veya ge\u00e7erli FQDN girin."", ""DriverFields.portValidationMessage"": ""L\u00fctfen ge\u00e7erli Ba\u011flant\u0131 noktas\u0131 numaras\u0131 girin (0 - 65535)"", ""EditPlan.cancel"": ""\u0130ptal"", ""EditPlan.updatePlanNameFiles"": ""{planName} Dosyalar\u0131n\u0131 G\u00fcncelle"", ""EditPlan.updatingPlanLoader"": ""Plan g\u00fcncelleniyor..."", ""EditPlan.uploadAndUpdate"": ""Dosyalar\u0131 ve G\u00fcncelleme Plan\u0131n\u0131 Y\u00fckle"", ""EnvironmentConfiguration.cancel"": ""\u0130ptal"", ""EnvironmentConfiguration.saveAndClose"": ""Kaydet ve Kapat"", ""EnvironmentConfiguration.saveChanges"": ""De\u011fi\u015fiklikleri Kaydet"", ""EnvironmentConfigurationActions.envConfigUpdatedNotificationMessage"": ""Ortam Yap\u0131land\u0131rmas\u0131 ba\u015far\u0131yla g\u00fcncellendi."", ""EnvironmentConfigurationActions.envConfigUpdatedNotificationTitle"": ""Ortam Yap\u0131land\u0131rmas\u0131 g\u00fcncellendi"", ""EnvironmentGroup.requiredEnvironments"": ""Bu ortam {requiredEnvironments} gerektirir."", ""ExportPlan.cancel"": ""\u0130ptal"", ""ExportPlan.download"": ""D\u0131\u015fa Aktar\u0131m\u0131 \u0130ndir"", ""ExportPlan.downloadMessage"": ""\u0130stedi\u011finiz plan d\u0131\u015fa aktar\u0131m\u0131 haz\u0131r. L\u00fctfen d\u0131\u015fa aktar\u0131m\u0131 indirmek i\u00e7in a\u015fa\u011f\u0131daki d\u00fc\u011fmeye t\u0131klay\u0131n. D\u00fc\u011fmeye sa\u011f t\u0131klayarak \""Ba\u011flant\u0131y\u0131 farkl\u0131 kaydet...\"" demeniz gerekebilir."", ""ExportPlan.error"": ""Plan d\u0131\u015fa aktar\u0131l\u0131rken bir hata olu\u015ftu"", ""ExportPlan.exportPlanName"": ""D\u0131\u015fa Aktar {planName}"", ""ExportPlan.exportingPlanLoader"": ""Plan d\u0131\u015fa aktar\u0131l\u0131yor..."", ""FileList.planFiles"": ""Plan Dosyalar\u0131"", ""HardwareStep.registerNodes"": ""D\u00fc\u011f\u00fcmleri Kaydet"", ""I18nDropdown.language"": ""Dil"", ""ListPlans.actions"": ""Eylemler"", ""ListPlans.createNewPlan"": ""Yeni Plan Olu\u015ftur"", ""ListPlans.delete"": ""Sil"", ""ListPlans.deletingPlanName"": ""{planName} siliniyor..."", ""ListPlans.edit"": ""D\u00fczenle"", ""ListPlans.export"": ""D\u0131\u015fa Aktar"", ""ListPlans.name"": ""\u0130sim"", ""ListPlans.noPlans"": ""Hen\u00fcz bir plan yok."", ""ListPlans.plans"": ""Planlar"", ""Login.description"": ""Bu ara\u00e7 sizi bir OpenStack ortam\u0131 yap\u0131land\u0131rma ve uygulama s\u00fcrecinden ge\u00e7irecek."", ""Login.login"": ""Giri\u015f Yap"", ""Login.password"": ""Parola"", ""Login.passwordRequired"": ""Parola gerekli."", ""Login.username"": ""Kullan\u0131c\u0131 ad\u0131"", ""Login.usernameRequired"": ""Kullan\u0131c\u0131 ad\u0131 gerekli."", ""Login.welcome"": ""Ho\u015fgeldiniz!"", ""NavBar.deploymentPlanTab"": ""Uygulama Plan\u0131"", ""NavBar.logoutLink"": ""\u00c7\u0131k\u0131\u015f Yap"", ""NavBar.toggleNavigation"": ""Gezintiyi A\u00e7/Kapa"", ""Navbar.nodesTab"": ""D\u00fc\u011f\u00fcmler"", ""NewPlan.cancel"": ""\u0130ptal"", ""NewPlan.createNewPlan"": ""Yeni Plan Olu\u015ftur"", ""NewPlan.creatingPlanLoader"": ""Plan olu\u015fturuluyor..."", ""NewPlan.uploadAndCreate"": ""Dosyalar\u0131 G\u00fcncelle ve Plan Olu\u015ftur"", ""NoPlans.createNewPlan"": ""Yeni Plan Olu\u015ftur"", ""NoPlans.noPlansAvailable"": ""Kullan\u0131labilir Uygulama Plan\u0131 Yok"", ""NoPlans.noPlansAvailableMessage"": ""Kullan\u0131labilir Uygulama Planlar\u0131 yok. L\u00fctfen \u00f6nce bir tane olu\u015fturun."", ""NodeColumns.cpuArch"": ""CPU Mimarisi"", ""NodeColumns.cpus"": ""CPU (\u00e7ekirdek)"", ""NodeColumns.localGB"": ""Disk (GB)"", ""NodeColumns.macs"": ""Mac Adresleri"", ""NodeColumns.memoryMb"": ""Haf\u0131za (MB)"", ""NodeColumns.name"": ""\u0130sim"", ""NodeColumns.powerState"": ""G\u00fc\u00e7 Durumu"", ""NodeColumns.profile"": ""Profil"", ""NodeColumns.provisionState"": ""Haz\u0131rl\u0131k Durumu"", ""NodeListItem.Profile"": ""Profil:"", ""NodeListItem.cpuCores"": ""CPU {cpuCores, plural, one {Core} other {Cores}}"", ""NodeListItem.gbDisk"": ""GB Disk"", ""NodeListItem.mbRam"": ""MB RAM"", ""NodeMaintenanceState.maintenanceWarning"": ""Bak\u0131m"", ""NodePowerState.powerOff"": ""Kapal\u0131"", ""NodePowerState.powerOn"": ""A\u00e7\u0131k"", ""NodePowerState.poweringOff"": ""G\u00fc\u00e7 Kapat\u0131l\u0131yor"", ""NodePowerState.poweringOn"": ""G\u00fc\u00e7 A\u00e7\u0131l\u0131yor"", ""NodePowerState.rebooting"": ""Yeniden ba\u015flat\u0131l\u0131yor"", ""NodePowerState.unknownPowerState"": ""Bilinmiyor"", ""NodeProvisionState.provisionStateLabel"": ""Haz\u0131rl\u0131k Durumu:"", ""Nodes.nodes"": ""D\u00fc\u011f\u00fcmler"", ""Nodes.refreshResults"": ""Tazeleme Sonu\u00e7lar\u0131"", ""Nodes.registerNodes"": ""D\u00fc\u011f\u00fcmleri Kaydet"", ""NodesActions.introspectionFailedNotificationTitle"": ""D\u00fc\u011f\u00fcm G\u00f6zlemi Ba\u015far\u0131s\u0131z"", ""NodesActions.introspectionNotificationMessage"": ""Se\u00e7ili d\u00fc\u011f\u00fcmler ba\u015far\u0131yla g\u00f6zlemlendi."", ""NodesActions.introspectionNotificationTitle"": ""D\u00fc\u011f\u00fcm G\u00f6zlemi Tamamland\u0131"", ""NodesListForm.operationInProgressValidationMessage"": ""Se\u00e7ili D\u00fc\u011f\u00fcmlerden birinde s\u00fcren bir i\u015flem var"", ""NodesListForm.selectNodesValidationMessage"": ""L\u00fctfen \u00f6nce D\u00fc\u011f\u00fcmleri se\u00e7in"", ""NodesTable.loadingNodes"": ""D\u00fc\u011f\u00fcmler Y\u00fckleniyor..."", ""NodesTable.noNodes"": ""Kullan\u0131labilir D\u00fc\u011f\u00fcm yok."", ""NodesTableView.deleteNodesModalMessage"": ""Se\u00e7ili d\u00fc\u011f\u00fcmleri silmek istedi\u011finize emin misiniz?"", ""NodesTableView.deleteNodesModalTitle"": ""D\u00fc\u011f\u00fcmleri Sil"", ""NodesTableView.introspectNodes"": ""D\u00fc\u011f\u00fcmleri G\u00f6zle"", ""NodesTableView.provideNodes"": ""D\u00fc\u011f\u00fcmleri Sa\u011flay\u0131n"", ""NodesTableView.tagNodes"": ""D\u00fc\u011f\u00fcmleri Etiketle"", ""NodesTables.cpuArch"": ""CPU Mimarisi"", ""NodesTables.cpuCores"": ""CPU (\u00e7ekirdek)"", ""NodesTables.diskGb"": ""Disk (GB)"", ""NodesTables.macAddresses"": ""MAC Adres(ler)i"", ""NodesTables.maintenance"": ""Bak\u0131m"", ""NodesTables.memoryMb"": ""Haf\u0131za (MB)"", ""NodesTables.name"": ""\u0130sim"", ""NodesTables.powerState"": ""G\u00fc\u00e7 Durumu"", ""NodesTables.profile"": ""Profil"", ""NodesTables.provisionState"": ""Haz\u0131rl\u0131k Durumu"", ""NodesToolbar.filterStringPlaceholder"": ""S\u00fczge\u00e7 ekle"", ""NodesToolbar.filteredToolbarResults"": ""{filteredCount, number} / {totalCount, number} {totalCount, plural, one {Node} other {Nodes}}"", ""NodesToolbar.nonFilteredToolbarResults"": ""{totalCount, number} {totalCount, plural, one {Node} other {Nodes}}"", ""NodesToolbarActions.deleteNodes"": ""D\u00fc\u011f\u00fcmleri Sil"", ""NodesToolbarActions.deleteNodesModalMessage"": ""Se\u00e7ili d\u00fc\u011f\u00fcmleri silmek istedi\u011finize emin misiniz?"", ""NodesToolbarActions.disabledButtonsWarning"": ""\u00d6nce D\u00fc\u011f\u00fcmleri se\u00e7meniz gerekiyor, ya da se\u00e7ili D\u00fc\u011f\u00fcmlerin baz\u0131lar\u0131nda s\u00fcren bir i\u015flem var."", ""NodesToolbarActions.introspectNodes"": ""D\u00fc\u011f\u00fcmleri G\u00f6zle"", ""NodesToolbarActions.provideNodes"": ""D\u00fc\u011f\u00fcmleri Sa\u011flay\u0131n"", ""NodesToolbarActions.tagNodes"": ""D\u00fc\u011f\u00fcmleri Etiketle"", ""NodesToolbarForm.sortDir"": ""S\u0131ralama y\u00f6n\u00fc"", ""OvercloudInfo.loadingOvercloudInformation"": ""Overcloud bilgisi y\u00fckleniyor..."", ""OvercloudInfo.overcloudInformationHeader"": ""Overcloud bilgisi:"", ""OvercloudInfo.overcloudIpAddress"": ""Overcloud IP adresi:"", ""OvercloudInfo.password"": ""Parola:"", ""OvercloudInfo.username"": ""Kullan\u0131c\u0131 ad\u0131:"", ""PXEAndDRACDriverFields.addr_title"": ""DRAC Sunucusu"", ""PXEAndDRACDriverFields.port_title"": ""DRAC Ba\u011flant\u0131 Noktas\u0131"", ""PXEAndDRACDriverFields.pwd_title"": ""DRAC Parolas\u0131"", ""PXEAndDRACDriverFields.user_title"": ""DRAC Kullan\u0131c\u0131 ad\u0131"", ""PXEAndIPMIToolDriverFields.addr_title"": ""IPMI IP Adresi veya FQDN"", ""PXEAndIPMIToolDriverFields.port_title"": ""IPMI Ba\u011flant\u0131 Noktas\u0131"", ""PXEAndIPMIToolDriverFields.pwd_title"": ""IPMI Parolas\u0131"", ""PXEAndIPMIToolDriverFields.user_title"": ""IPMI Kullan\u0131c\u0131 ad\u0131"", ""PXEAndSSHDriverFields.addr_title"": ""SSH IP Adresi veya FQDN"", ""PXEAndSSHDriverFields.port_title"": ""SSH Ba\u011flant\u0131 Noktas\u0131"", ""PXEAndSSHDriverFields.pwd_title"": ""SSH Anahtar\u0131"", ""PXEAndSSHDriverFields.user_title"": ""SSH Kullan\u0131c\u0131"", ""ParameterInput.enterValidJson"": ""L\u00fctfen ge\u00e7erli JSON karakter dizisi girin."", ""ParameterInputList.noParameters"": ""\u015eu an bu k\u0131s\u0131mda yap\u0131land\u0131r\u0131lacak parametre yok."", ""Parameters.cancel"": ""\u0130ptal"", ""Parameters.saveAndClose"": ""Kaydet ve Kapat"", ""Parameters.saveChanges"": ""De\u011fi\u015fiklikleri Kaydet"", ""ParametersActions.parametersUpdatedNotficationMessage"": ""Uygulama parametreleri ba\u015far\u0131yla g\u00fcncellendi."", ""ParametersActions.parametersUpdatedNotficationTitle"": ""Parametreler g\u00fcncellendi"", ""PlanEditFormTabs.files"": ""Dosyalar"", ""PlanEditFormTabs.planName"": ""Plan \u0130smi"", ""PlanEditFormTabs.updatePlan"": ""Plan\u0131 G\u00fcncelle"", ""PlanEditFormTabs.uploadFiles"": ""Dosyalar\u0131 G\u00fcncelle"", ""PlanEditFormTabs.uploadType"": ""Y\u00fckleme T\u00fcr\u00fc"", ""PlanFormTabs.addPlanName"": ""Plan \u0130smi Ekle"", ""PlanFormTabs.files"": ""Dosyalar"", ""PlanFormTabs.newPlan"": ""Yeni Plan"", ""PlanFormTabs.planFiles"": ""Plan Dosyalar\u0131"", ""PlanFormTabs.planName"": ""Plan \u0130smi"", ""PlanFormTabs.planNameValidationError"": ""L\u00fctfen yaln\u0131zca alfan\u00fcmerik karakterler ve tireler kullan\u0131n (-)."", ""PlanFormTabs.uploadType"": ""Y\u00fckleme T\u00fcr\u00fc"", ""PlanUploadTypeRadios.localFolder"": ""Yerel Dizin"", ""PlanUploadTypeRadios.tarArchive"": ""Tar Ar\u015fivi (tar.gz)"", ""PlansActions.deploymentFailedNotificationTitle"": ""Uygulama Ba\u015far\u0131s\u0131z"", ""PlansActions.exportFailedNotificationTitle"": ""D\u0131\u015fa Aktar\u0131m Ba\u015far\u0131s\u0131z"", ""PlansActions.planCreatedNotificationMessage"": ""Plan {planName} ba\u015far\u0131yla olu\u015fturuldu."", ""PlansActions.planCreatedNotificationTitle"": ""Plan olu\u015fturuldu"", ""PlansActions.planDeletedNotificationMessage"": ""Plan {planName} ba\u015far\u0131yla silindi."", ""PlansActions.planDeletedNotificationTitle"": ""Plan Silindi"", ""PlansActions.planUpdatedNotificationMessage"": ""Plan {planName} ba\u015far\u0131yla g\u00fcncellendi."", ""PlansActions.planUpdatedNotificationTitle"": ""Plan G\u00fcncellendi"", ""PlansDropdown.manageDeployments"": ""Uygulamalar\u0131 Y\u00f6net"", ""PlansDropdown.selectDeployment"": ""Uygulama Se\u00e7in"", ""RegisterNodeForm.General"": ""Genel"", ""RegisterNodeForm.architecture"": ""Mimari"", ""RegisterNodeForm.cpuCount"": ""CPU say\u0131s\u0131"", ""RegisterNodeForm.diskGb"": ""Disk (GB)"", ""RegisterNodeForm.driver"": ""S\u00fcr\u00fcc\u00fc"", ""RegisterNodeForm.enterValidMacAddress"": ""L\u00fctfen ge\u00e7erli bir MAC Adresi girin."", ""RegisterNodeForm.hardware"": ""Donan\u0131m"", ""RegisterNodeForm.macAddressesDescription"": ""MAC Adreslerinin virg\u00fclle ayr\u0131lm\u0131\u015f listesi"", ""RegisterNodeForm.management"": ""Y\u00f6netim"", ""RegisterNodeForm.memoryMb"": ""Haf\u0131za (MB)"", ""RegisterNodeForm.name"": ""\u0130sim"", ""RegisterNodeForm.networking"": ""A\u011f"", ""RegisterNodeForm.nicMacAddresses"": ""NIC MAC Adresi"", ""RegisterNodeForm.nodeDetail"": ""D\u00fc\u011f\u00fcm Ayr\u0131nt\u0131lar\u0131"", ""RegisterNodeForm.nodeNameMaxLength"": ""D\u00fc\u011f\u00fcm ismi 255 karaktere kadar olabilir."", ""RegisterNodeForm.nodeNameRegexp"": ""\u0130sim yaln\u0131zca RFC3986 ayr\u0131lmam\u0131\u015f karakterlerinden olabilir, ALPHA / DIGIT / \""-\"" / \"".\"" / \""_\"" / \""~\""."", ""RegisterNodesActions.registrationNotificationMessage"": ""D\u00fc\u011f\u00fcmler ba\u015far\u0131yla kaydedildi."", ""RegisterNodesActions.registrationNotificationTitle"": ""D\u00fc\u011f\u00fcm Kayd\u0131 Tamamland\u0131"", ""RegisterNodesDialog.addANodeManually"": ""Elle bir d\u00fc\u011f\u00fcm ekle ya da d\u00fc\u011f\u00fcmleri dosyadan y\u00fckle."", ""RegisterNodesDialog.addNew"": ""Yeni Ekle"", ""RegisterNodesDialog.cancel"": ""\u0130ptal"", ""RegisterNodesDialog.csvUnsupported"": ""CSV Y\u00fckleme Desteklenmiyor"", ""RegisterNodesDialog.invalidJson"": ""Ge\u00e7ersiz JSON"", ""RegisterNodesDialog.noNodesToRegister"": ""\""Kaydedilecek D\u00fc\u011f\u00fcm Yok\"""", ""RegisterNodesDialog.or"": ""veya"", ""RegisterNodesDialog.provideCsvOrInstackenvJson"": ""L\u00fctfen bir CSV dosyas\u0131 veya instackenv.json sa\u011flay\u0131n."", ""RegisterNodesDialog.registerNodes"": ""D\u00fc\u011f\u00fcmleri Kaydet"", ""RegisterNodesDialog.registeringNodes"": ""D\u00fc\u011f\u00fcmler Kaydediliyor..."", ""RegisterNodesDialog.selectedFileUnsupported"": ""Se\u00e7ili dosya bi\u00e7imi hen\u00fcz desteklenmiyor."", ""RegisterNodesDialog.undefinedNode"": ""Tan\u0131mlanmam\u0131\u015f D\u00fc\u011f\u00fcm"", ""RegisterNodesDialog.unsupportedFileFormat"": ""Desteklenmeyen Dosya Bi\u00e7imi"", ""RegisterNodesDialog.uploadFromFile"": ""Dosyadan Y\u00fckle"", ""RoleCard.assignNodes"": ""D\u00fc\u011f\u00fcmleri Ata"", ""RoleCard.availableNodesCount"": ""{count, number} tanede"", ""RoleCard.nodesAssigned"": ""D\u00fc\u011f\u00fcmler atand\u0131"", ""RoleDetail.loadingParameters"": ""Parametreler y\u00fckleniyor..."", ""RoleDetail.networkConfiguration"": ""A\u011f Yap\u0131land\u0131rmas\u0131"", ""RoleDetail.parameters"": ""Parametreler"", ""RoleDetail.role"": ""{roleName} Rol\u00fc"", ""RoleDetail.saveChanges"": ""De\u011fi\u015fiklikleri Kaydet"", ""RoleDetail.services"": ""Servisler"", ""RoleServices.noParameters"": ""\u015eu an bu k\u0131s\u0131mda yap\u0131land\u0131r\u0131lacak parametre yok."", ""RoleServices.selectService"": ""L\u00fctfen yap\u0131land\u0131r\u0131lacak servisi se\u00e7in."", ""Roles.loadingDeploymentRoles"": ""Uygulama Rolleri Y\u00fckleniyor..."", ""RolesStep.loadingNodes"": ""D\u00fc\u011f\u00fcmler Y\u00fckleniyor..."", ""RolesStep.loadingParameters"": ""Parametreler Y\u00fckleniyor..."", ""RolesStep.nodesAvailableToAssign"": ""Atanabilecek {nodesCount} D\u00fc\u011f\u00fcm var"", ""StackResourcesTable.loadingResources"": ""Kaynaklar Y\u00fckleniyor..."", ""StackResourcesTable.name"": ""\u0130sim"", ""StackResourcesTable.noResourcesAvailable"": ""Kullan\u0131labilir Kaynak yok."", ""StackResourcesTable.status"": ""Durum"", ""StackResourcesTable.updatedTime"": ""G\u00fcncelleme Zaman\u0131"", ""TagNodesForm.cancel"": ""\u0130ptal"", ""TagNodesForm.confirm"": ""Onayla"", ""TagNodesForm.customProfileDescription"": ""Tire ile ayr\u0131lm\u0131\u015f k\u00fc\u00e7\u00fck harfli. \u00d6rn. \""blok-depolama\"""", ""TagNodesForm.customProfileErrorMessage"": ""Tire ile ayr\u0131lan k\u00fc\u00e7\u00fck harfli olmal\u0131"", ""TagNodesForm.customProfileLabel"": ""\u00d6zel Profil"", ""TagNodesForm.customProfileOption"": ""\u00d6zel Profil Belirtin"", ""TagNodesForm.noProfileOption"": ""Profil Yok (Etiketi Kald\u0131r)"", ""TagNodesForm.selectProfileLabel"": ""Profil Se\u00e7in"", ""TagNodesModal.title"": ""D\u00fc\u011f\u00fcmleri Profillere Etiketle"", ""Toolbar.activeFilters"": ""Etkin S\u00fczge\u00e7ler:"", ""Toolbar.clearAllActiveFilters"": ""T\u00fcm S\u00fczge\u00e7leri Temizle"", ""UserAuthenticator.authenticating"": ""Kimlik do\u011frulamas\u0131 yap\u0131l\u0131yor..."", ""ValidationDetail.close"": ""Kapat"", ""ValidationDetail.description"": ""Tan\u0131m:"", ""ValidationDetail.groups"": ""Gruplar:"", ""ValidationDetail.output"": ""\u00c7\u0131kt\u0131:"", ""ValidationDetail.status"": ""Durum:"", ""ValidationDetail.validationDetail"": ""Do\u011frulama Ayr\u0131nt\u0131s\u0131"", ""ValidationsList.loadingValidations"": ""Do\u011frulamalar Y\u00fckleniyor..."", ""ValidationsList.noValidations"": ""Do\u011frulama Yok"", ""ValidationsList.noValidationsMessage"": ""\u015eu an do\u011frulama yok."", ""ValidationsList.refresh"": ""Tazele"", ""ValidationsList.validations"": ""Do\u011frulamalar"", ""ValidationsToolbar.filterStringPlaceholder"": ""S\u00fczge\u00e7 ekle"", ""ValidationsToolbar.filteredToolbarResults"": ""{filteredCount, number} / {totalCount, number} {totalCount, plural, one {Validation} other {Validations}}"", ""ValidationsToolbar.group"": ""Grup"", ""ValidationsToolbar.name"": ""\u0130sim"", ""ValidationsToolbar.nonFilteredToolbarResults"": ""{totalCount, number} {totalCount, plural, one {Validation} other {Validations}}"", ""reduxForm.validations.maxValue"": ""Azami de\u011fer {max, number}."", ""reduxForm.validations.minValue"": ""Asgari de\u011fer {min, number}."", ""reduxForm.validations.number"": ""De\u011ferin bir say\u0131 olmas\u0131 gerekiyor."" } } ",,296,0
openstack%2Fnova~master~I2fbadfb36c974c6526819ba4d3f445e35d24acad,openstack/nova,master,I2fbadfb36c974c6526819ba4d3f445e35d24acad,Insert the description of the change.,ABANDONED,2017-05-25 09:34:09.000000000,2017-05-26 10:07:26.000000000,,"[{'_account_id': 3}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 25254}]","[{'number': 1, 'created': '2017-05-25 09:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8cf32b880fda430bebaf27a960038700cc906138', 'message': 'Insert the description of the change.\n\nChange-Id: I2fbadfb36c974c6526819ba4d3f445e35d24acad\n'}]",0,467952,8cf32b880fda430bebaf27a960038700cc906138,13,11,1,12732,,,0,"Insert the description of the change.

Change-Id: I2fbadfb36c974c6526819ba4d3f445e35d24acad
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/467952/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,8cf32b880fda430bebaf27a960038700cc906138,,,,0,0
openstack%2Fkeystonemiddleware~master~I263bd1076b47749bd14393855803419d0be9d758,openstack/keystonemiddleware,master,I263bd1076b47749bd14393855803419d0be9d758,Fix oslo.messaging deprecation of get_transport,MERGED,2017-05-25 03:14:42.000000000,2017-05-26 10:07:25.000000000,2017-05-26 10:07:25.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 13478}, {'_account_id': 21420}, {'_account_id': 25640}]","[{'number': 1, 'created': '2017-05-25 03:14:42.000000000', 'files': ['keystonemiddleware/tests/unit/audit/test_audit_oslo_messaging.py', 'keystonemiddleware/audit/_notifier.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/0f4d4f801081347a12c9f8a8f84db6cdbb955517', 'message': 'Fix oslo.messaging deprecation of get_transport\n\nOslo.messaging has deprecated get_transport and splits it into\nget_notification_transport and get_rpc_transport.  This patch set updates the\ncode and addresses a zuul check/gate error [1].\n\n[1] http://logs.openstack.org/55/467155/2/check/gate-keystonemiddleware-python27-ubuntu-xenial/3b6d9ef/console.html#_2017-05-24_23_49_58_453129\n\nChange-Id: I263bd1076b47749bd14393855803419d0be9d758\n'}]",0,467836,0f4d4f801081347a12c9f8a8f84db6cdbb955517,10,7,1,20466,,,0,"Fix oslo.messaging deprecation of get_transport

Oslo.messaging has deprecated get_transport and splits it into
get_notification_transport and get_rpc_transport.  This patch set updates the
code and addresses a zuul check/gate error [1].

[1] http://logs.openstack.org/55/467155/2/check/gate-keystonemiddleware-python27-ubuntu-xenial/3b6d9ef/console.html#_2017-05-24_23_49_58_453129

Change-Id: I263bd1076b47749bd14393855803419d0be9d758
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/36/467836/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/tests/unit/audit/test_audit_oslo_messaging.py', 'keystonemiddleware/audit/_notifier.py']",2,0f4d4f801081347a12c9f8a8f84db6cdbb955517,fix-gate," transport = oslo_messaging.get_notification_transport( conf.oslo_conf_obj, url=conf.get('transport_url'))"," transport = oslo_messaging.get_transport(conf.oslo_conf_obj, url=conf.get('transport_url'))",4,3
openstack%2Fcliff~master~Icc07ba2bba89282b1901f929f4d4a04cc086d4fd,openstack/cliff,master,Icc07ba2bba89282b1901f929f4d4a04cc086d4fd,Use getattr for Sphinx extension,ABANDONED,2017-04-25 12:54:55.000000000,2017-05-26 10:06:07.000000000,,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 15334}]","[{'number': 1, 'created': '2017-04-25 12:54:55.000000000', 'files': ['cliff/sphinxext.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/7e81e9b61a8e055a8e982c3dc70606aaea437dbe', 'message': ""Use getattr for Sphinx extension\n\nSomething funky happens in various environments, such as macOS and the\nOpenStack gate, where 'argparse._HelpAction' fails with an\nAttributeError like so:\n\n    AttributeError: 'module' object has no attribute '_HelpAction'\n\nThis appears to be something to do with byte code (pyc) being used\ninstead of the raw source. In any case, switching to 'getattr' resolves\nthe issue and lets things work in all environments.\n\nChange-Id: Icc07ba2bba89282b1901f929f4d4a04cc086d4fd\n""}]",0,459671,7e81e9b61a8e055a8e982c3dc70606aaea437dbe,8,4,1,15334,,,0,"Use getattr for Sphinx extension

Something funky happens in various environments, such as macOS and the
OpenStack gate, where 'argparse._HelpAction' fails with an
AttributeError like so:

    AttributeError: 'module' object has no attribute '_HelpAction'

This appears to be something to do with byte code (pyc) being used
instead of the raw source. In any case, switching to 'getattr' resolves
the issue and lets things work in all environments.

Change-Id: Icc07ba2bba89282b1901f929f4d4a04cc086d4fd
",git fetch https://review.opendev.org/openstack/cliff refs/changes/71/459671/1 && git format-patch -1 --stdout FETCH_HEAD,['cliff/sphinxext.py'],1,7e81e9b61a8e055a8e982c3dc70606aaea437dbe,bug/1692018," _help_action = getattr(argparse, '_HelpAction', None) if not _help_action: self.warn(""The argparse module does not define '_HelpAction'. "" ""Help option (-h, --help) will be included in usage "" ""samples."") if _help_action and isinstance(action, _help_action):"," if isinstance(action, argparse._HelpAction):",7,1
openstack%2Ffreezer-specs~master~Ie8766d044dc1a3e31d80a9016b25c821e0a60434,openstack/freezer-specs,master,Ie8766d044dc1a3e31d80a9016b25c821e0a60434,Added .testrepository in testenv,MERGED,2017-05-04 09:31:30.000000000,2017-05-26 10:04:25.000000000,2017-05-26 10:04:25.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 14509}, {'_account_id': 22405}]","[{'number': 1, 'created': '2017-05-04 09:31:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-specs/commit/a88e413b48c1285f616975642164981be9d2ed71', 'message': ""Added .testrepository in testenv\n\nRunning py2* post py3* tests results in error. Add\n'rm -f .testrepository' command in testenv to\nresolve this.\n\nChange-Id: Ie8766d044dc1a3e31d80a9016b25c821e0a60434\n""}]",0,462454,a88e413b48c1285f616975642164981be9d2ed71,9,4,1,19790,,,0,"Added .testrepository in testenv

Running py2* post py3* tests results in error. Add
'rm -f .testrepository' command in testenv to
resolve this.

Change-Id: Ie8766d044dc1a3e31d80a9016b25c821e0a60434
",git fetch https://review.opendev.org/openstack/freezer-specs refs/changes/54/462454/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a88e413b48c1285f616975642164981be9d2ed71,add_testrepository, rm -f .testrepository,,1,0
openstack%2Fneutron~master~I44dd7e049eab054363063021f07ade81ef2d1a90,openstack/neutron,master,I44dd7e049eab054363063021f07ade81ef2d1a90,Add precommit calls to the QoSDriver class,MERGED,2017-01-18 10:50:09.000000000,2017-05-26 10:01:34.000000000,2017-05-26 10:01:34.000000000,"[{'_account_id': 3}, {'_account_id': 333}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 8788}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 14208}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17120}, {'_account_id': 17776}, {'_account_id': 18051}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-01-18 10:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/38c85c4d2495006ae9bfcf1002671b449eff9815', 'message': 'Add precommit calls to the QoSDriver class\n\nChange-Id: I44dd7e049eab054363063021f07ade81ef2d1a90\nCloses-Bug: #1657381\n'}, {'number': 2, 'created': '2017-03-03 14:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d960390edee38b47e3be4a2eaafbd434060d3a9', 'message': 'Add precommit calls to the QoSDriver class\n\nChange-Id: I44dd7e049eab054363063021f07ade81ef2d1a90\nCloses-Bug: #1657381\n'}, {'number': 3, 'created': '2017-03-07 13:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5fa7d775e1ec7331b46ffe17ec8ab30f202fbf48', 'message': 'Add precommit calls to the QoSDriver class\n\nChange-Id: I44dd7e049eab054363063021f07ade81ef2d1a90\nCloses-Bug: #1657381\n'}, {'number': 4, 'created': '2017-04-04 15:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/28e8a087749f3919ef7a08e1c957453fc69b5cdf', 'message': 'Add precommit calls to the QoSDriver class\n\nAdded create, update and delete precommit calls for QoS\ndriver, to be used by some out-of-tree backends.\n\nCo-Authored-By: Miguel Angel Ajo <mangelajo@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <rodolfo.alonso.hernandez@intel.com>\n\nCloses-Bug: #1657381\nChange-Id: I44dd7e049eab054363063021f07ade81ef2d1a90\n'}, {'number': 5, 'created': '2017-04-24 10:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ea6a9f51f70dd5744ccf91ca631ec2ee7f6e1ec', 'message': 'Add precommit calls to the QoSDriver class\n\nAdded create, update and delete precommit calls for QoS\ndriver, to be used by some out-of-tree backends.\n\nCo-Authored-By: Miguel Angel Ajo <mangelajo@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <rodolfo.alonso.hernandez@intel.com>\n\nCloses-Bug: #1657381\nChange-Id: I44dd7e049eab054363063021f07ade81ef2d1a90\n'}, {'number': 6, 'created': '2017-04-25 14:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ea7397417e31d54fd018a252d756a8395cb7a41', 'message': 'Add precommit calls to the QoSDriver class\n\nAdded create, update and delete precommit calls for QoS\ndriver, to be used by some out-of-tree backends.\n\nCo-Authored-By: Miguel Angel Ajo <mangelajo@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <rodolfo.alonso.hernandez@intel.com>\n\nCloses-Bug: #1657381\nChange-Id: I44dd7e049eab054363063021f07ade81ef2d1a90\n'}, {'number': 7, 'created': '2017-04-27 13:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/70f40fe45349b72e7bba8012b7c41ccd31e24cd1', 'message': 'Add precommit calls to the QoSDriver class\n\nAdded create, update and delete precommit calls for QoS\ndriver, to be used by some out-of-tree backends.\n\nCo-Authored-By: Miguel Angel Ajo <mangelajo@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <rodolfo.alonso.hernandez@intel.com>\n\nCloses-Bug: #1657381\nChange-Id: I44dd7e049eab054363063021f07ade81ef2d1a90\n'}, {'number': 8, 'created': '2017-05-03 10:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb7754df60d05034bd16a88aeb428ecbf2d6f3f4', 'message': 'Add precommit calls to the QoSDriver class\n\nAdded create, update and delete precommit calls for QoS\ndriver, to be used by some out-of-tree backends.\n\nCo-Authored-By: Miguel Angel Ajo <mangelajo@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <rodolfo.alonso.hernandez@intel.com>\n\nCloses-Bug: #1657381\nChange-Id: I44dd7e049eab054363063021f07ade81ef2d1a90\n'}, {'number': 9, 'created': '2017-05-04 11:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/48f61b14ca92fb9618946fe1a4d0ccdb0d3315f2', 'message': 'Add precommit calls to the QoSDriver class\n\nAdded create, update and delete precommit calls for QoS\ndriver, to be used by some out-of-tree backends.\n\nCo-Authored-By: Miguel Angel Ajo <mangelajo@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <rodolfo.alonso.hernandez@intel.com>\n\nCloses-Bug: #1657381\nChange-Id: I44dd7e049eab054363063021f07ade81ef2d1a90\n'}, {'number': 10, 'created': '2017-05-10 10:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/69a5b401f133e0018853c779ec13fcb8e0c96b0b', 'message': 'Add precommit calls to the QoSDriver class\n\nAdded create, update and delete precommit calls for QoS\ndriver, to be used by some out-of-tree backends.\n\nCo-Authored-By: Miguel Angel Ajo <mangelajo@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <rodolfo.alonso.hernandez@intel.com>\n\nCloses-Bug: #1657381\nChange-Id: I44dd7e049eab054363063021f07ade81ef2d1a90\n'}, {'number': 11, 'created': '2017-05-11 09:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6cc817e59f6681123e407e66f8282ff9ab968b7a', 'message': 'Add precommit calls to the QoSDriver class\n\nAdded create, update and delete precommit calls for QoS\ndriver, to be used by some out-of-tree backends.\n\nCo-Authored-By: Miguel Angel Ajo <mangelajo@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <rodolfo.alonso.hernandez@intel.com>\n\nCloses-Bug: #1657381\nChange-Id: I44dd7e049eab054363063021f07ade81ef2d1a90\n'}, {'number': 12, 'created': '2017-05-23 10:02:01.000000000', 'files': ['neutron/services/qos/qos_plugin.py', 'neutron/services/qos/drivers/manager.py', 'neutron/services/qos/drivers/base.py', 'neutron/tests/unit/services/qos/drivers/test_manager.py', 'doc/source/devref/quality_of_service.rst', 'neutron/common/exceptions.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py', 'neutron/services/qos/qos_consts.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/45fd7eef6eb0fe5c760338953c91c046730f153c', 'message': 'Add precommit calls to the QoSDriver class\n\nAdded create, update and delete precommit calls for QoS\ndriver, to be used by some out-of-tree backends.\n\nCo-Authored-By: Miguel Angel Ajo <mangelajo@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <rodolfo.alonso.hernandez@intel.com>\n\nCloses-Bug: #1657381\nChange-Id: I44dd7e049eab054363063021f07ade81ef2d1a90\n'}]",71,421818,45fd7eef6eb0fe5c760338953c91c046730f153c,179,21,12,8788,,,0,"Add precommit calls to the QoSDriver class

Added create, update and delete precommit calls for QoS
driver, to be used by some out-of-tree backends.

Co-Authored-By: Miguel Angel Ajo <mangelajo@redhat.com>
Co-Authored-By: Rodolfo Alonso Hernandez <rodolfo.alonso.hernandez@intel.com>

Closes-Bug: #1657381
Change-Id: I44dd7e049eab054363063021f07ade81ef2d1a90
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/421818/12 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/qos/qos_plugin.py', 'neutron/services/qos/drivers/base.py']",2,38c85c4d2495006ae9bfcf1002671b449eff9815,bug/1657381," def create_policy_precommit(self, context, policy): """"""Create policy precommit. This method can be implemented by the specific driver subclass to handle the precommit event of a policy that is being created. :param context: current running context information :param policy: a QoSPolicy object being created, which will have no rules. """""" def update_policy_precommit(self, context, policy): """"""Update policy precommit. This method can be implemented by the specific driver subclass to update the backend where necessary. :param context: current running context information :param policy: a QoSPolicy object being updated. """""" def delete_policy_precommit(self, context, policy): """"""Delete policy precommit. This method can be implemented by the specific driver subclass to delete to handle the policy delete precommit event. :param context: current running context information :param policy: a QoSPolicy object being deleted """"""",,56,8
openstack%2Fpython-freezerclient~master~I94279a4857cfa23375df184536efbccf48715c01,openstack/python-freezerclient,master,I94279a4857cfa23375df184536efbccf48715c01,Updated from global requirements,MERGED,2017-05-17 03:57:33.000000000,2017-05-26 10:00:48.000000000,2017-05-26 10:00:48.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 22405}]","[{'number': 1, 'created': '2017-05-17 03:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/1a1aa69cf8f2b80925da4923b9e94fde34455220', 'message': 'Updated from global requirements\n\nChange-Id: I94279a4857cfa23375df184536efbccf48715c01\n'}, {'number': 2, 'created': '2017-05-23 16:28:57.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/c80cecf96a646b419b21af1fea50f00f488458b0', 'message': 'Updated from global requirements\n\nChange-Id: I94279a4857cfa23375df184536efbccf48715c01\n'}]",0,465361,c80cecf96a646b419b21af1fea50f00f488458b0,10,3,2,11131,,,0,"Updated from global requirements

Change-Id: I94279a4857cfa23375df184536efbccf48715c01
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/61/465361/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1a1aa69cf8f2b80925da4923b9e94fde34455220,openstack/requirements,"sphinx!=1.6.1,>=1.5.1 # BSD",sphinx>=1.5.1 # BSD,1,1
openstack%2Fmurano-dashboard~master~Ieb7cea347aeb1295d5d068b33b5c5736c6fef472,openstack/murano-dashboard,master,Ieb7cea347aeb1295d5d068b33b5c5736c6fef472,Imported Translations from Zanata,MERGED,2017-05-26 07:16:58.000000000,2017-05-26 09:59:58.000000000,2017-05-26 09:59:58.000000000,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 14107}, {'_account_id': 15168}]","[{'number': 1, 'created': '2017-05-26 07:16:58.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'muranodashboard/locale/tr_TR/LC_MESSAGES/django.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/8905eafd6391dc5aa65578bd978941a4de0d24f4', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Ieb7cea347aeb1295d5d068b33b5c5736c6fef472\n'}]",0,468286,8905eafd6391dc5aa65578bd978941a4de0d24f4,8,4,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: Ieb7cea347aeb1295d5d068b33b5c5736c6fef472
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/86/468286/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'muranodashboard/locale/tr_TR/LC_MESSAGES/django.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po']",5,8905eafd6391dc5aa65578bd978941a4de0d24f4,zanata/translations,"""Project-Id-Version: Murano Dashboard Release Notes 4.0.0\n""""POT-Creation-Date: 2017-05-23 19:40+0000\n""","""Project-Id-Version: Murano Dashboard Release Notes 3.2.1\n""""POT-Creation-Date: 2017-03-14 12:27+0000\n""msgid ""3.0.0-10"" msgstr ""3.0.0-10"" ",13,23
openstack%2Fcookbook-openstack-integration-test~master~If64fd079a8955d417daa76d431959f0335280467,openstack/cookbook-openstack-integration-test,master,If64fd079a8955d417daa76d431959f0335280467,Fix setup of tempest virtualenv,MERGED,2017-03-01 15:25:55.000000000,2017-05-26 09:53:04.000000000,2017-03-03 14:45:03.000000000,"[{'_account_id': 3}, {'_account_id': 11915}, {'_account_id': 13252}, {'_account_id': 19193}]","[{'number': 1, 'created': '2017-03-01 15:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/a6af9f4efef9134b632dc84bfbf78eb63e4fd210', 'message': 'Fix setup of tempest virtualenv\n\n- Untangle venv dir and git repo\n- Install tempest into venv properly\n- Install wrapper script to run tempest from venv\n- Use latest stable cirros image\n\nChange-Id: If64fd079a8955d417daa76d431959f0335280467\n'}, {'number': 2, 'created': '2017-03-03 08:25:08.000000000', 'files': ['templates/default/tempest.sh.erb', 'recipes/setup.rb', 'attributes/default.rb', 'spec/setup_spec.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-integration-test/commit/76d7e264eeb8c8f9bbb071ec90217a618d7b3918', 'message': 'Fix setup of tempest virtualenv\n\n- Untangle venv dir and git repo\n- Install tempest into venv properly\n- Install wrapper script to run tempest from venv\n- Use latest stable cirros image\n\nChange-Id: If64fd079a8955d417daa76d431959f0335280467\n'}]",0,439652,76d7e264eeb8c8f9bbb071ec90217a618d7b3918,16,4,2,13252,,,0,"Fix setup of tempest virtualenv

- Untangle venv dir and git repo
- Install tempest into venv properly
- Install wrapper script to run tempest from venv
- Use latest stable cirros image

Change-Id: If64fd079a8955d417daa76d431959f0335280467
",git fetch https://review.opendev.org/openstack/cookbook-openstack-integration-test refs/changes/52/439652/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/default/tempest.sh.erb', 'recipes/setup.rb', 'attributes/default.rb', 'spec/setup_spec.rb']",4,a6af9f4efef9134b632dc84bfbf78eb63e4fd210,fix-venv, image_url: 'http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img' image_url: 'http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img', image_url: 'http://download.cirros-cloud.net/0.3.4/cirros-0.3.4-x86_64-disk.img' image_url: 'http://download.cirros-cloud.net/0.3.4/cirros-0.3.4-x86_64-disk.img',27,21
openstack%2Fopenstack-chef-repo~master~I4a9d437b8227bda7fbdd0f3d41b4f7ca4c695400,openstack/openstack-chef-repo,master,I4a9d437b8227bda7fbdd0f3d41b4f7ca4c695400,Fix tempest invocation,MERGED,2017-03-01 15:29:19.000000000,2017-05-26 09:52:50.000000000,2017-03-03 16:35:48.000000000,"[{'_account_id': 3}, {'_account_id': 11915}, {'_account_id': 19193}]","[{'number': 1, 'created': '2017-03-01 15:29:19.000000000', 'files': ['Rakefile'], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/a3b1f57fa5daaccb516727517cdf5fe004ecf62a', 'message': 'Fix tempest invocation\n\nThe old run_tempest.sh script has been removed from tempest, so we call\nour own wrapper that is created in the openstack-integration-test\ncookbook instead.\n\nChange-Id: I4a9d437b8227bda7fbdd0f3d41b4f7ca4c695400\nDepends-On: If64fd079a8955d417daa76d431959f0335280467\n'}]",0,439655,a3b1f57fa5daaccb516727517cdf5fe004ecf62a,14,3,1,13252,,,0,"Fix tempest invocation

The old run_tempest.sh script has been removed from tempest, so we call
our own wrapper that is created in the openstack-integration-test
cookbook instead.

Change-Id: I4a9d437b8227bda7fbdd0f3d41b4f7ca4c695400
Depends-On: If64fd079a8955d417daa76d431959f0335280467
",git fetch https://review.opendev.org/openstack/openstack-chef-repo refs/changes/55/439655/1 && git format-patch -1 --stdout FETCH_HEAD,['Rakefile'],1,a3b1f57fa5daaccb516727517cdf5fe004ecf62a,, sh %(sudo -H /opt/tempest-venv/tempest.sh), sh %(sudo -H ./run_tempest.sh --smoke --serial),1,1
openstack%2Fhorizon~master~I2debbf505916c91791416680140f5e6ed0f017d7,openstack/horizon,master,I2debbf505916c91791416680140f5e6ed0f017d7,Imported Translations from Zanata,MERGED,2017-05-26 09:34:15.000000000,2017-05-26 09:52:20.000000000,2017-05-26 09:52:20.000000000,"[{'_account_id': 3}, {'_account_id': 12826}]","[{'number': 1, 'created': '2017-05-26 09:34:15.000000000', 'files': ['horizon/locale/tr_TR/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/tr_TR/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/tr_TR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ca2c5c531558da900fa86e0835a86e3aa86bb00c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: I2debbf505916c91791416680140f5e6ed0f017d7\n'}]",0,468333,ca2c5c531558da900fa86e0835a86e3aa86bb00c,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: I2debbf505916c91791416680140f5e6ed0f017d7
",git fetch https://review.opendev.org/openstack/horizon refs/changes/33/468333/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/locale/tr_TR/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/tr_TR/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/tr_TR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/djangojs.po']",5,ca2c5c531558da900fa86e0835a86e3aa86bb00c,zanata/translations,"""Project-Id-Version: horizon 12.0.0.0b2.dev146\n""""POT-Creation-Date: 2017-05-25 19:45+0000\n""""PO-Revision-Date: 2017-05-24 03:27+0000\n""msgid ""Build"" msgstr ""Versão"" msgid ""Created at"" msgstr ""Criado em"" msgid ""Degraded"" msgstr ""Degradado"" msgid ""Parent Port"" msgstr ""Código Pai"" msgid ""Subport Count"" msgstr ""Contagem de Versão"" msgid ""Trunk"" msgstr ""Código base"" msgid ""Trunks"" msgstr ""Códigos base"" msgid ""Unable to retrieve the trunks."" msgstr ""Não é possível recuperar os códigos base."" msgid ""Updated at"" msgstr ""Atualizado em"" ","""Project-Id-Version: horizon 12.0.0.0b2.dev130\n""""POT-Creation-Date: 2017-05-18 14:44+0000\n""""PO-Revision-Date: 2017-05-18 03:54+0000\n""",3297,43
openstack%2Frpm-packaging~stable%2Fnewton~I26c2f6c460c8db2fd4121ea1054945b3809adc5b,openstack/rpm-packaging,stable/newton,I26c2f6c460c8db2fd4121ea1054945b3809adc5b,os-brick: Update to 1.6.2,MERGED,2017-05-25 04:53:35.000000000,2017-05-26 09:34:31.000000000,2017-05-26 09:32:32.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 20656}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-05-25 04:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/54fa7600c3128e1e06f5f5c459ed4f2f1b8c6923', 'message': 'os-brick: Update to 1.6.2\n\nChange-Id: I26c2f6c460c8db2fd4121ea1054945b3809adc5b\n'}, {'number': 2, 'created': '2017-05-25 09:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/13ae55b7d65ab8d51e631f0f118d7404125e87ff', 'message': 'os-brick: Update to 1.6.2\n\nChange-Id: I26c2f6c460c8db2fd4121ea1054945b3809adc5b\n'}, {'number': 3, 'created': '2017-05-25 13:21:07.000000000', 'files': ['openstack/os-brick/0001-s390x-iscsi-support-enablement.patch', 'openstack/os-brick/os-brick.spec.j2', 'openstack/os-brick/0001-Fix-unittest-run-on-s390x-host.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/979d16c06eb5b5436725ff194250b6ae82cc50c4', 'message': 'os-brick: Update to 1.6.2\n\nChange-Id: I26c2f6c460c8db2fd4121ea1054945b3809adc5b\n'}]",0,467883,979d16c06eb5b5436725ff194250b6ae82cc50c4,28,7,3,7102,,,0,"os-brick: Update to 1.6.2

Change-Id: I26c2f6c460c8db2fd4121ea1054945b3809adc5b
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/83/467883/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-brick/os-brick.spec.j2'],1,54fa7600c3128e1e06f5f5c459ed4f2f1b8c6923,stable-newton,Version: 1.6.2,Version: 1.6.1,1,1
openstack%2Fnova~master~I2d9c0affc56e12e5e44daca1d75d330c68530111,openstack/nova,master,I2d9c0affc56e12e5e44daca1d75d330c68530111,Use plain routes list for os-virtual-interfaces endpoint,ABANDONED,2017-05-26 08:41:14.000000000,2017-05-26 09:29:20.000000000,,"[{'_account_id': 8556}, {'_account_id': 15751}]","[{'number': 1, 'created': '2017-05-26 08:41:14.000000000', 'files': ['nova/api/openstack/compute/routes.py', 'nova/api/openstack/compute/virtual_interfaces.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/nova/commit/08a678ca93e77e3bd2dd41b18a6e5f8e7799bbac', 'message': 'Use plain routes list for os-virtual-interfaces endpoint\n\nThis patch adds os-virtual-interfaces related routes\nby a plain list, instead of using stevedore. After all the Nova\nAPI endpoints moves to the plain routes list, the usage of stevedore\nfor API loading will be removed from Nova.\n\nPartial-implement-blueprint api-no-more-extensions-pike\n\nChange-Id: I2d9c0affc56e12e5e44daca1d75d330c68530111\n'}]",0,468317,08a678ca93e77e3bd2dd41b18a6e5f8e7799bbac,4,2,1,8556,,,0,"Use plain routes list for os-virtual-interfaces endpoint

This patch adds os-virtual-interfaces related routes
by a plain list, instead of using stevedore. After all the Nova
API endpoints moves to the plain routes list, the usage of stevedore
for API loading will be removed from Nova.

Partial-implement-blueprint api-no-more-extensions-pike

Change-Id: I2d9c0affc56e12e5e44daca1d75d330c68530111
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/468317/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/routes.py', 'nova/api/openstack/compute/virtual_interfaces.py', 'setup.cfg']",3,08a678ca93e77e3bd2dd41b18a6e5f8e7799bbac,bp/api-no-more-extensions-pike,, virtual_interfaces = nova.api.openstack.compute.virtual_interfaces:VirtualInterfaces,8,26
openstack%2Fnetworking-onos~master~Ifc95205ae76b507c89778e194b3ef0774aebea4b,openstack/networking-onos,master,Ifc95205ae76b507c89778e194b3ef0774aebea4b,Fix the bug of floating IP status is not changed in the floating IP update event from neutron when floating IPs are disassociated from VMs.,MERGED,2017-05-19 05:06:21.000000000,2017-05-26 09:17:38.000000000,2017-05-26 09:17:38.000000000,"[{'_account_id': 3}, {'_account_id': 14605}, {'_account_id': 25575}]","[{'number': 1, 'created': '2017-05-19 05:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/0cbe0e734dd362a03256d901fa35ecd465e92d81', 'message': 'Fix the bug of floating IP status is not changed in the floating IP update event from neutron when floating IPs are disassociated from VMs.\n\nChange-Id: Ifc95205ae76b507c89778e194b3ef0774aebea4b\nCloses-Bug: #1691930\n'}, {'number': 2, 'created': '2017-05-19 05:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/491d32e14d0d0a537c8c86a203928a0304252e03', 'message': 'Fix the bug of floating IP status is not changed in the floating IP update event from neutron when floating IPs are disassociated from VMs.\n\nChange-Id: Ifc95205ae76b507c89778e194b3ef0774aebea4b\nCloses-Bug: #1691930\n'}, {'number': 3, 'created': '2017-05-24 07:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/59b772b3f86ee0e0cca693636503a880913fddbc', 'message': 'Fix the bug of floating IP status is not changed in the floating IP update event from neutron when floating IPs are disassociated from VMs.\n\nChange-Id: Ifc95205ae76b507c89778e194b3ef0774aebea4b\nCloses-Bug: #1691930\n'}, {'number': 4, 'created': '2017-05-24 08:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/5142f7916dcce370b2297b8aa8f08c3534d23444', 'message': 'Fix the bug of floating IP status is not changed in the floating IP update event from neutron when floating IPs are disassociated from VMs.\n\nChange-Id: Ifc95205ae76b507c89778e194b3ef0774aebea4b\nCloses-Bug: #1691930\n'}, {'number': 5, 'created': '2017-05-24 08:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/d636a076767321708db6795526ee49cc7e4bce7a', 'message': 'Fix the bug of floating IP status is not changed in the floating IP update event from neutron when floating IPs are disassociated from VMs.\n\nChange-Id: Ifc95205ae76b507c89778e194b3ef0774aebea4b\nCloses-Bug: #1691930\n'}, {'number': 6, 'created': '2017-05-24 09:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/525f5be6df3a5b232f97fbc1c6c34e6fc4b8c557', 'message': 'Fix the bug of floating IP status is not changed in the floating IP update event from neutron when floating IPs are disassociated from VMs.\n\nChange-Id: Ifc95205ae76b507c89778e194b3ef0774aebea4b\nCloses-Bug: #1691930\n'}, {'number': 7, 'created': '2017-05-24 14:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/edb91a9114476a7c1c35d051d3f819600373fe2f', 'message': 'Fix the bug of floating IP status is not changed in the floating IP update event from neutron when floating IPs are disassociated from VMs.\n\nChange-Id: Ifc95205ae76b507c89778e194b3ef0774aebea4b\nCloses-Bug: #1691930\n'}, {'number': 8, 'created': '2017-05-25 01:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/70130c87f231059773ab6834ca52efa1bb3244b0', 'message': 'Fix the bug of floating IP status is not changed in the floating IP update event from neutron when floating IPs are disassociated from VMs.\n\nChange-Id: Ifc95205ae76b507c89778e194b3ef0774aebea4b\nCloses-Bug: #1691930\n'}, {'number': 9, 'created': '2017-05-26 07:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/abc013e7e6120f13534a8276c35f51ff7a5ba3d6', 'message': 'Fix the bug of floating IP status is not changed in the floating IP update event from neutron when floating IPs are disassociated from VMs.\n\nChange-Id: Ifc95205ae76b507c89778e194b3ef0774aebea4b\nCloses-Bug: #1691930\n'}, {'number': 10, 'created': '2017-05-26 07:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/4eefd9cb63c984290a32a0c7ea44ddf4d8105c45', 'message': 'Fix the bug of floating IP status is not changed in the floating IP update event from neutron when floating IPs are disassociated from VMs.\n\nChange-Id: Ifc95205ae76b507c89778e194b3ef0774aebea4b\nCloses-Bug: #1691930\n'}, {'number': 11, 'created': '2017-05-26 07:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/af9d4b6c3c2986e9e41823bf4c99759f2d9acc8a', 'message': 'Fix the bug of floating IP status is not changed in the floating IP update event from neutron when floating IPs are disassociated from VMs.\n\nChange-Id: Ifc95205ae76b507c89778e194b3ef0774aebea4b\nCloses-Bug: #1691930\n'}, {'number': 12, 'created': '2017-05-26 07:59:08.000000000', 'files': ['networking_onos/plugins/l3/floating_ip.py', 'networking_onos/tests/unit/services/sfc/test_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/1847186c3f53b02c8b96c8b22c51bf5acb56d590', 'message': 'Fix the bug of floating IP status is not changed in the floating IP update event from neutron when floating IPs are disassociated from VMs.\n\nChange-Id: Ifc95205ae76b507c89778e194b3ef0774aebea4b\nCloses-Bug: #1691930\n'}]",0,466180,1847186c3f53b02c8b96c8b22c51bf5acb56d590,33,3,12,25575,,,0,"Fix the bug of floating IP status is not changed in the floating IP update event from neutron when floating IPs are disassociated from VMs.

Change-Id: Ifc95205ae76b507c89778e194b3ef0774aebea4b
Closes-Bug: #1691930
",git fetch https://review.opendev.org/openstack/networking-onos refs/changes/80/466180/12 && git format-patch -1 --stdout FETCH_HEAD,['networking_onos/plugins/l3/floating_ip.py'],1,0cbe0e734dd362a03256d901fa35ecd465e92d81,bug/1691930,from neutron.common import constants from networking_onos.common import utils as onos_utils if fip_dict.get('port_id') is None: fip_dict['status'] = constants.FLOATINGIP_STATUS_DOWN else: fip_dict['status'] = constants.FLOATINGIP_STATUS_ACTIVE ,from networking_onos.common import utils as onos_utils ,7,1
openstack%2Fkuryr-kubernetes~master~I44a872c274778fc4c01771e1a60bd500f9c7bfde,openstack/kuryr-kubernetes,master,I44a872c274778fc4c01771e1a60bd500f9c7bfde,Fix typo,MERGED,2017-05-25 22:42:20.000000000,2017-05-26 09:12:46.000000000,2017-05-26 09:12:46.000000000,"[{'_account_id': 3}, {'_account_id': 14352}, {'_account_id': 14867}, {'_account_id': 23567}]","[{'number': 1, 'created': '2017-05-25 22:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/587123f4141e30eef07aff18567e50a9c5263e61', 'message': 'Fix typo\n\nintroduced in Ie4b8d672e0ee1de06a057869236a234c64e0fdd5\n\nChange-Id: I44a872c274778fc4c01771e1a60bd500f9c7bfde\n'}, {'number': 2, 'created': '2017-05-25 22:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/702c50c9432bc6d28436035ecb83cf5de502b029', 'message': 'Fix typo\n\nintroduced in Ie4b8d672e0ee1de06a057869236a234c64e0fdd5\n\nChange-Id: I44a872c274778fc4c01771e1a60bd500f9c7bfde\n'}, {'number': 3, 'created': '2017-05-26 08:03:25.000000000', 'files': ['kuryr_kubernetes/opts.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e5af3598480229851179faa9258b372f615eebf2', 'message': 'Fix typo\n\nintroduced in Ie4b8d672e0ee1de06a057869236a234c64e0fdd5\n\nChange-Id: I44a872c274778fc4c01771e1a60bd500f9c7bfde\n'}]",0,468190,e5af3598480229851179faa9258b372f615eebf2,11,4,3,1955,,,0,"Fix typo

introduced in Ie4b8d672e0ee1de06a057869236a234c64e0fdd5

Change-Id: I44a872c274778fc4c01771e1a60bd500f9c7bfde
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/90/468190/3 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/opts.py'],1,587123f4141e30eef07aff18567e50a9c5263e61,oops,from kuryr_kuberntes.controller.drivers import nested_vlan_vif,from kuryr_kuberentes.controller.drivers import nested_vlan_vif,1,1
openstack%2Ftricircle~master~Ie857d7ce6cab7ab4545da6363cc70eb8c621d755,openstack/tricircle,master,Ie857d7ce6cab7ab4545da6363cc70eb8c621d755,Add networking terms used in Tricircle,MERGED,2017-05-05 01:50:20.000000000,2017-05-26 09:07:20.000000000,2017-05-26 09:07:20.000000000,"[{'_account_id': 3}, {'_account_id': 8726}, {'_account_id': 10842}, {'_account_id': 11819}, {'_account_id': 12076}, {'_account_id': 17446}, {'_account_id': 19960}, {'_account_id': 21023}, {'_account_id': 21033}, {'_account_id': 22559}, {'_account_id': 22787}]","[{'number': 1, 'created': '2017-05-05 01:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/d6f44a2ec698655f7b7e53bc21d399e8c6af552a', 'message': 'Add networking terms used in Tricricle\n\n1. What is the problem?\nThere is no unified terms used in Tricricle networking, this\nwill lead to confusion for the end user.\n\n2. What is the solution to the problem?\nAdd networking terms to ease Tricircle networking automation,\nreduce the misunderstanding on the networking guide.\n\n3. What features need to be implemented to the Tricircle to realize\nthe solution?\nNone\n\nChange-Id: Ie857d7ce6cab7ab4545da6363cc70eb8c621d755\nSigned-off-by: joehuang <joehuang@huawei.com>\n'}, {'number': 2, 'created': '2017-05-16 09:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/0339ed4a43f2ef625655b9adffb0dcfaa9dbc6d6', 'message': 'Add networking terms used in Tricircle\n\n1. What is the problem?\nThere is no unified terms used in Tricircle networking, this\nwill lead to confusion for the end user.\n\n2. What is the solution to the problem?\nAdd networking terms to ease Tricircle networking automation,\nreduce the misunderstanding on the networking guide.\n\n3. What features need to be implemented to the Tricircle to realize\nthe solution?\nNone\n\nChange-Id: Ie857d7ce6cab7ab4545da6363cc70eb8c621d755\nSigned-off-by: joehuang <joehuang@huawei.com>\n'}, {'number': 3, 'created': '2017-05-19 00:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/b27be134c0c9d3f5d7ee91e253095d0d2a3407e2', 'message': 'Add networking terms used in Tricircle\n\n1. What is the problem?\nThere is no unified terms used in Tricircle networking, this\nwill lead to confusion for the end user.\n\n2. What is the solution to the problem?\nAdd networking terms to ease Tricircle networking automation,\nreduce the misunderstanding on the networking guide.\n\n3. What features need to be implemented to the Tricircle to realize\nthe solution?\nNone\n\nChange-Id: Ie857d7ce6cab7ab4545da6363cc70eb8c621d755\nSigned-off-by: joehuang <joehuang@huawei.com>\n'}, {'number': 4, 'created': '2017-05-19 03:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/5e418c61d316583d2ed9c555f2222020437150ab', 'message': 'Add networking terms used in Tricircle\n\n1. What is the problem?\nThere is no unified terms used in Tricircle networking, this\nwill lead to confusion for the end user.\n\n2. What is the solution to the problem?\nAdd networking terms to ease Tricircle networking automation,\nreduce the misunderstanding on the networking guide.\n\n3. What features need to be implemented to the Tricircle to realize\nthe solution?\nNone\n\nChange-Id: Ie857d7ce6cab7ab4545da6363cc70eb8c621d755\nSigned-off-by: joehuang <joehuang@huawei.com>\n'}, {'number': 5, 'created': '2017-05-19 03:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/b7538ef31e83b1f7207fb93c3af626140384e2ba', 'message': 'Add networking terms used in Tricircle\n\n1. What is the problem?\nThere is no unified terms used in Tricircle networking, this\nwill lead to confusion for the end user.\n\n2. What is the solution to the problem?\nAdd networking terms to ease Tricircle networking automation,\nreduce the misunderstanding on the networking guide.\n\n3. What features need to be implemented to the Tricircle to realize\nthe solution?\nNone\n\nChange-Id: Ie857d7ce6cab7ab4545da6363cc70eb8c621d755\nSigned-off-by: joehuang <joehuang@huawei.com>\n'}, {'number': 6, 'created': '2017-05-25 06:35:03.000000000', 'files': ['doc/source/multi-pod-installation-devstack.rst', 'doc/source/networking-terms.rst', 'doc/source/networking-guide.rst', 'doc/source/networking-guide-multiple-external-networks.rst'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/7eecb06e3881e1df24f238dc5bc9c4143c7a60a0', 'message': 'Add networking terms used in Tricircle\n\n1. What is the problem?\nThere are no unified terms used in Tricircle networking, this\nwill lead to confusion for the end user.\n\n2. What is the solution to the problem?\nAdd networking terms to ease Tricircle networking automation,\nreduce the misunderstanding on the networking guide.\n\n3. What features need to be implemented to the Tricircle to realize\nthe solution?\nNone\n\nChange-Id: Ie857d7ce6cab7ab4545da6363cc70eb8c621d755\nSigned-off-by: joehuang <joehuang@huawei.com>\n'}]",13,462782,7eecb06e3881e1df24f238dc5bc9c4143c7a60a0,27,11,6,11819,,,0,"Add networking terms used in Tricircle

1. What is the problem?
There are no unified terms used in Tricircle networking, this
will lead to confusion for the end user.

2. What is the solution to the problem?
Add networking terms to ease Tricircle networking automation,
reduce the misunderstanding on the networking guide.

3. What features need to be implemented to the Tricircle to realize
the solution?
None

Change-Id: Ie857d7ce6cab7ab4545da6363cc70eb8c621d755
Signed-off-by: joehuang <joehuang@huawei.com>
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/82/462782/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/multi-pod-installation-devstack.rst', 'doc/source/networking-terms.rst', 'doc/source/networking-guide.rst']",3,d6f44a2ec698655f7b7e53bc21d399e8c6af552a,terms,.. include:: ./networking-terms.rst,,75,0
openstack%2Fzun~master~Id7bb5b37c912bf32d95a6e0ba94121097611cc61,openstack/zun,master,Id7bb5b37c912bf32d95a6e0ba94121097611cc61,Raise ImageNotFound when image not found in docker,MERGED,2017-05-23 10:08:01.000000000,2017-05-26 09:04:22.000000000,2017-05-26 09:04:21.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 13248}, {'_account_id': 16277}, {'_account_id': 25974}]","[{'number': 1, 'created': '2017-05-23 10:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/6a71b088dceceba51fe59ef8c8e3aa4dbc4523d6', 'message': 'We should treat a docker 404 error as an ImageNotFound exception when pull image.\n\nThe docker library will raise an NotFound exception when image\'s repo is not found,\ninstead of returning an error message containg ""not found"". so the docker driver\nwill raise a ZunException when image is not found in docker repo, which differs from\nthe glance driver.\n\nChange-Id: Id7bb5b37c912bf32d95a6e0ba94121097611cc61\n'}, {'number': 2, 'created': '2017-05-24 01:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/fb6c6468bc6cc1b177960d2e8eb456c7e313da6e', 'message': 'Raise ImageNotFound when image not found in docker\n\nThe docker library will raise an NotFound exception when image\'s repo is\nnot found,instead of returning an error message containg ""not found"". so\nthe docker driver will raise a ZunException when image is not found in\ndocker repo, which differs from the glance driver.\n\nCloses-Bug: #1693060\nChange-Id: Id7bb5b37c912bf32d95a6e0ba94121097611cc61\n'}, {'number': 3, 'created': '2017-05-24 03:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/1853fd351c366a361fca2e075ca0e49a761c3ed2', 'message': 'Raise ImageNotFound when image not found in docker\n\nThe docker library will raise an NotFound exception when image\'s repo is\nnot found,instead of returning an error message containg ""not found"". so\nthe docker driver will raise a ZunException when image is not found in\ndocker repo, which differs from the glance driver.\n\nCloses-Bug: #1693060\nChange-Id: Id7bb5b37c912bf32d95a6e0ba94121097611cc61\n'}, {'number': 4, 'created': '2017-05-24 18:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/b376d2e948952102b0319d927f4b9f0b79f0a125', 'message': 'Raise ImageNotFound when image not found in docker\n\nThe docker library will raise an NotFound exception when image\'s repo is\nnot found,instead of returning an error message containg ""not found"". so\nthe docker driver will raise a ZunException when image is not found in\ndocker repo, which differs from the glance driver.\n\nCloses-Bug: #1693060\nChange-Id: Id7bb5b37c912bf32d95a6e0ba94121097611cc61\n'}, {'number': 5, 'created': '2017-05-25 22:26:18.000000000', 'files': ['zun/image/docker/driver.py', 'zun/tests/unit/image/docker/test_driver.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/2b3331ad7990d48061ea8606605b1fcbe015f7ca', 'message': 'Raise ImageNotFound when image not found in docker\n\nThe docker library will raise an NotFound exception when image\'s repo is\nnot found,instead of returning an error message containg ""not found"". so\nthe docker driver will raise a ZunException when image is not found in\ndocker repo, which differs from the glance driver.\n\nCloses-Bug: #1693060\nChange-Id: Id7bb5b37c912bf32d95a6e0ba94121097611cc61\n'}]",5,467107,2b3331ad7990d48061ea8606605b1fcbe015f7ca,28,6,5,25974,,,0,"Raise ImageNotFound when image not found in docker

The docker library will raise an NotFound exception when image's repo is
not found,instead of returning an error message containg ""not found"". so
the docker driver will raise a ZunException when image is not found in
docker repo, which differs from the glance driver.

Closes-Bug: #1693060
Change-Id: Id7bb5b37c912bf32d95a6e0ba94121097611cc61
",git fetch https://review.opendev.org/openstack/zun refs/changes/07/467107/5 && git format-patch -1 --stdout FETCH_HEAD,"['zun/container/docker/utils.py', 'zun/image/docker/driver.py', 'zun/tests/unit/image/docker/test_driver.py']",3,6a71b088dceceba51fe59ef8c8e3aa4dbc4523d6,bug/1693060," def test_pull_image_raise_http_not_found(self, mock_should_pull_image, mock_search, mock_parse_image): mock_should_pull_image.return_value = True mock_search.return_value = {'image': 'nginx', 'path': 'xyz'} mock_parse_image.return_value = ('repo', 'tag') self.mock_docker.pull = mock.Mock( side_effect=exception.HTTPNotFound('Error')) self.assertRaises(exception.ImageNotFound, self.driver.pull_image, None, 'repo', 'tag', 'always') self.mock_docker.pull.assert_called_once_with( 'repo', tag='tag', stream=True) @mock.patch('zun.common.utils.parse_image_name') @mock.patch.object(driver.DockerDriver, '_search_image_on_host') @mock.patch('zun.common.utils.should_pull_image')",,24,0
openstack%2Fopenstack-manuals~master~Ia125c0b54f9683cd8bf2d633e68a774597e69bc9,openstack/openstack-manuals,master,Ia125c0b54f9683cd8bf2d633e68a774597e69bc9,[arch-guide] Fix typo in Storage concepts,MERGED,2017-05-26 08:29:23.000000000,2017-05-26 09:01:42.000000000,2017-05-26 09:01:42.000000000,"[{'_account_id': 3}, {'_account_id': 14962}, {'_account_id': 19554}]","[{'number': 1, 'created': '2017-05-26 08:29:23.000000000', 'files': ['doc/arch-design/source/design-storage/design-storage-concepts.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/876b43a186e5a6a5afbc9a31b60d2742f87f17c5', 'message': ""[arch-guide] Fix typo in Storage concepts\n\nFix typo and reword the statement for Block Storage to be\nconsistent with Object Storage's description.\n\nChange-Id: Ia125c0b54f9683cd8bf2d633e68a774597e69bc9\nCloses-Bug: #1693659\n""}]",0,468315,876b43a186e5a6a5afbc9a31b60d2742f87f17c5,7,3,1,25323,,,0,"[arch-guide] Fix typo in Storage concepts

Fix typo and reword the statement for Block Storage to be
consistent with Object Storage's description.

Change-Id: Ia125c0b54f9683cd8bf2d633e68a774597e69bc9
Closes-Bug: #1693659
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/15/468315/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/arch-design/source/design-storage/design-storage-concepts.rst'],1,876b43a186e5a6a5afbc9a31b60d2742f87f17c5,bug/1693659,Block storage is implemented in OpenStack by the Block Storage service (cinder). Because these volumes are,The Block Storage service (cinder) in OpenStacs. Because these volumes are,2,1
openstack%2Ftripleo-heat-templates~master~I56675e015fa4bbd6d9809dbf7c21453939321410,openstack/tripleo-heat-templates,master,I56675e015fa4bbd6d9809dbf7c21453939321410,Align optional services with optional services-docker,MERGED,2017-05-25 16:32:51.000000000,2017-05-26 08:49:02.000000000,2017-05-26 08:49:02.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 10873}, {'_account_id': 18575}]","[{'number': 1, 'created': '2017-05-25 16:32:51.000000000', 'files': ['environments/services/ironic.yaml', 'environments/services-docker/zaqar.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/359fcdf8492134bfc133a5dc92422b62e954212d', 'message': 'Align optional services with optional services-docker\n\nAdd missing optional services for docker, if present in\nnon-docker optional services, and vice versa.\n\nFix issues with non containerized Mongo resources are\nmissing when deploying optional containerized zaqar service.\n\nAdd non containerized Ironix-Pxe resources to the optional\nIronic services, as it is done for the containerized Ironic.\n\nChange-Id: I56675e015fa4bbd6d9809dbf7c21453939321410\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,468097,359fcdf8492134bfc133a5dc92422b62e954212d,9,4,1,6926,,,0,"Align optional services with optional services-docker

Add missing optional services for docker, if present in
non-docker optional services, and vice versa.

Fix issues with non containerized Mongo resources are
missing when deploying optional containerized zaqar service.

Add non containerized Ironix-Pxe resources to the optional
Ironic services, as it is done for the containerized Ironic.

Change-Id: I56675e015fa4bbd6d9809dbf7c21453939321410
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/468097/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/ironic.yaml', 'environments/services-docker/zaqar.yaml']",2,359fcdf8492134bfc133a5dc92422b62e954212d,, OS::TripleO::Services::MongoDb: ../../docker/services/database/mongodb.yaml,,2,0
openstack%2Fnova~master~Ief255af699cee217ebf963a2c36f9e819ef4ef90,openstack/nova,master,Ief255af699cee217ebf963a2c36f9e819ef4ef90,Add policy description for os-fixed-ips,MERGED,2017-05-02 10:38:35.000000000,2017-05-26 08:46:39.000000000,2017-05-25 11:48:52.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-05-02 10:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3de8263d773f574e244f775c70c8ed9ea872c1f6', 'message': 'Add policy description for os-fixed-ips\n\nThis commit adds policy doc for os-fixed-ips policies.\n\nPartial implement blueprint policy-docs\n\nChange-Id: Ief255af699cee217ebf963a2c36f9e819ef4ef90\n'}, {'number': 2, 'created': '2017-05-02 11:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d66d1dfab1f30b789282d309504397b6a9c2f10', 'message': 'Add policy description for os-fixed-ips\n\nThis commit adds policy doc for os-fixed-ips policies.\n\nPartial implement blueprint policy-docs\n\nChange-Id: Ief255af699cee217ebf963a2c36f9e819ef4ef90\n'}, {'number': 3, 'created': '2017-05-02 12:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ced064059801cd67a3cdfb5d167f13a16d86fdb', 'message': 'Add policy description for os-fixed-ips\n\nThis commit adds policy doc for os-fixed-ips policies.\n\nPartial implement blueprint policy-docs\n\nChange-Id: Ief255af699cee217ebf963a2c36f9e819ef4ef90\n'}, {'number': 4, 'created': '2017-05-17 08:32:25.000000000', 'files': ['nova/policies/fixed_ips.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a55765af4af8646a3ec95de2e8274b1c5584ee10', 'message': 'Add policy description for os-fixed-ips\n\nThis commit adds policy doc for os-fixed-ips policies.\n\nPartial implement blueprint policy-docs\n\nChange-Id: Ief255af699cee217ebf963a2c36f9e819ef4ef90\n'}]",2,461724,a55765af4af8646a3ec95de2e8274b1c5584ee10,81,18,4,8556,,,0,"Add policy description for os-fixed-ips

This commit adds policy doc for os-fixed-ips policies.

Partial implement blueprint policy-docs

Change-Id: Ief255af699cee217ebf963a2c36f9e819ef4ef90
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/461724/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/policies/fixed_ips.py'],1,3de8263d773f574e244f775c70c8ed9ea872c1f6,bp/policy-docs," base.create_rule_default( BASE_POLICY_NAME, base.RULE_ADMIN_API, """"""Shows details for, reserve and unreserve a fixed IP address."""""", [ { 'method': 'GET', 'path': '/os-fixed-ips/{fixed_ip}' }, { 'method': 'POST', 'path': '/os-fixed-ips/{fixed_ip}/action (reserve)' }, { 'method': 'POST', 'path': '/os-fixed-ips/{fixed_ip}/action (unreserve)' } ]),"," policy.RuleDefault( name=BASE_POLICY_NAME, check_str=base.RULE_ADMIN_API),",18,3
openstack%2Fnova~master~I98edbd8579f052c74283bde2ec4f85d301a0807a,openstack/nova,master,I98edbd8579f052c74283bde2ec4f85d301a0807a,Add policy description for 'os-hide-server-addresses',MERGED,2017-05-02 10:57:37.000000000,2017-05-26 08:43:57.000000000,2017-05-26 08:43:57.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 23871}]","[{'number': 1, 'created': '2017-05-02 10:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db1f1f2fb963fbc461b874ec238834c11312b25e', 'message': ""Add policy description for 'os-hide-server-addresses'\n\nThis commit adds policy doc for 'os-hide-server-addresses' policies.\n\nPartial implement blueprint policy-docs\n\nChange-Id: I98edbd8579f052c74283bde2ec4f85d301a0807a\n""}, {'number': 2, 'created': '2017-05-02 11:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfd8a36581766bae8a86e4f1cd26d10c93db345e', 'message': ""Add policy description for 'os-hide-server-addresses'\n\nThis commit adds policy doc for 'os-hide-server-addresses' policies.\n\nPartial implement blueprint policy-docs\n\nChange-Id: I98edbd8579f052c74283bde2ec4f85d301a0807a\n""}, {'number': 3, 'created': '2017-05-17 05:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/847da1d40ead3fda25c11385745074e23f36c36d', 'message': ""Add policy description for 'os-hide-server-addresses'\n\nThis commit adds policy doc for 'os-hide-server-addresses' policies.\n\nPartial implement blueprint policy-docs\n\nChange-Id: I98edbd8579f052c74283bde2ec4f85d301a0807a\n""}, {'number': 4, 'created': '2017-05-17 08:34:01.000000000', 'files': ['nova/policies/hide_server_addresses.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/62c24f6edaa91834d4a7b2a3f9b99b8b96322230', 'message': ""Add policy description for 'os-hide-server-addresses'\n\nThis commit adds policy doc for 'os-hide-server-addresses' policies.\n\nPartial implement blueprint policy-docs\n\nChange-Id: I98edbd8579f052c74283bde2ec4f85d301a0807a\n""}]",4,461728,62c24f6edaa91834d4a7b2a3f9b99b8b96322230,53,18,4,8556,,,0,"Add policy description for 'os-hide-server-addresses'

This commit adds policy doc for 'os-hide-server-addresses' policies.

Partial implement blueprint policy-docs

Change-Id: I98edbd8579f052c74283bde2ec4f85d301a0807a
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/461728/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/policies/hide_server_addresses.py'],1,db1f1f2fb963fbc461b874ec238834c11312b25e,bp/policy-docs,"from nova.policies import base base.create_rule_default( BASE_POLICY_NAME, 'is_admin:False', """"""Hide server's 'addresses' in the server response."""""", [ { 'method': 'GET', 'path': '/servers/{id}' }, { 'method': 'GET', 'path': '/servers/detail' } ]),"," policy.RuleDefault( name=BASE_POLICY_NAME, check_str='is_admin:False'),",15,3
openstack%2Fcharm-aodh~master~If081b782aa7f502b54be2fac2be6cebf957824ec,openstack/charm-aodh,master,If081b782aa7f502b54be2fac2be6cebf957824ec,No change rebuild for new charmhelpers,ABANDONED,2017-05-26 07:50:29.000000000,2017-05-26 08:31:54.000000000,,"[{'_account_id': 3}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-05-26 07:50:29.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/9ca6bceca47094ae467fac233d3bf0134e4d4860', 'message': 'No change rebuild for new charmhelpers\n\nEnables support for Pike.\n\nChange-Id: If081b782aa7f502b54be2fac2be6cebf957824ec\n'}]",0,468301,9ca6bceca47094ae467fac233d3bf0134e4d4860,4,2,1,935,,,0,"No change rebuild for new charmhelpers

Enables support for Pike.

Change-Id: If081b782aa7f502b54be2fac2be6cebf957824ec
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/01/468301/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,9ca6bceca47094ae467fac233d3bf0134e4d4860,no-change-rebuild,68a7c87f-4cb3-4fe4-a3b5-aa4659c6c33f,9c6303e6-8adf-11e6-b9bc-a7f256e1a5e3,1,1
openstack%2Fcinder~master~I5c2eedfd57c8a10431e64df4909f1f306552e427,openstack/cinder,master,I5c2eedfd57c8a10431e64df4909f1f306552e427,INFINIDAT: add locking around initialize/terminate connection,MERGED,2017-01-18 22:12:21.000000000,2017-05-26 08:30:09.000000000,2017-05-22 04:19:14.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16660}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 16952}, {'_account_id': 17103}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18261}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22495}, {'_account_id': 22510}, {'_account_id': 22683}, {'_account_id': 22770}, {'_account_id': 23308}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-01-18 22:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f71f4383f5cdbc46712b86e780d27d37a2eee71', 'message': 'INFINIDAT driver: add locking around initialize/terminate connection\n\nThe operations in initialize_connection and terminate_connection\nare not atomic and may cause race conditions if not properly\nprotected by a locking mechanism\n\nChange-Id: I5c2eedfd57c8a10431e64df4909f1f306552e427\n'}, {'number': 2, 'created': '2017-01-19 09:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7943a4b38005e85d8de54077c505f63fc7457b8e', 'message': 'INFINIDAT driver: add locking around initialize/terminate connection\n\nThe operations in initialize_connection and terminate_connection\nare not atomic and may cause race conditions if not properly\nprotected by a locking mechanism\n\nChange-Id: I5c2eedfd57c8a10431e64df4909f1f306552e427\n'}, {'number': 3, 'created': '2017-02-22 15:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f5987b6d886564de29f81a63e8c657ca91b366f5', 'message': 'INFINIDAT driver: add locking around initialize/terminate connection\n\nThe operations in initialize_connection and terminate_connection\nare not atomic and may cause race conditions if not properly\nprotected by a locking mechanism\n\nChange-Id: I5c2eedfd57c8a10431e64df4909f1f306552e427\n'}, {'number': 4, 'created': '2017-03-12 10:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f4db2e37a487ca3f5c1265690d56b681678f500', 'message': 'INFINIDAT driver: add locking around initialize/terminate connection\n\nThe operations in initialize_connection and terminate_connection\nare not atomic and may cause race conditions if not properly\nprotected by a locking mechanism\n\nChange-Id: I5c2eedfd57c8a10431e64df4909f1f306552e427\n'}, {'number': 5, 'created': '2017-03-13 16:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7571dab64f8c9c9be2b3a4a6dbaa8e7c387c4387', 'message': 'INFINIDAT driver: add locking around initialize/terminate connection\n\nThe operations in initialize_connection and terminate_connection\nare not atomic and may cause race conditions if not properly\nprotected by a locking mechanism\n\nChange-Id: I5c2eedfd57c8a10431e64df4909f1f306552e427\n'}, {'number': 6, 'created': '2017-03-19 09:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/686e34b41c9a1519b0fe625adf7de5897d3b7e7e', 'message': 'INFINIDAT driver: add locking around initialize/terminate connection\n\nThe operations in initialize_connection and terminate_connection\nare not atomic and may cause race conditions if not properly\nprotected by a locking mechanism\n\nChange-Id: I5c2eedfd57c8a10431e64df4909f1f306552e427\n'}, {'number': 7, 'created': '2017-03-27 13:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ac308f1c4408451eebff325337b69b2a2063b23', 'message': 'INFINIDAT driver: add locking around initialize/terminate connection\n\nThe operations in initialize_connection and terminate_connection\nare not atomic and may cause race conditions if not properly\nprotected by a locking mechanism\n\nChange-Id: I5c2eedfd57c8a10431e64df4909f1f306552e427\n'}, {'number': 8, 'created': '2017-05-16 07:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b516e32014f925dc92ce5073f5a24f7426ef992c', 'message': 'INFINIDAT driver: add locking around initialize/terminate connection\n\nThe operations in initialize_connection and terminate_connection\nare not atomic and may cause race conditions if not properly\nprotected by a locking mechanism\n\nChange-Id: I5c2eedfd57c8a10431e64df4909f1f306552e427\n'}, {'number': 9, 'created': '2017-05-17 13:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6f6c229612e8527ac49918bcd0adbce390499196', 'message': 'INFINIDAT: add locking around initialize/terminate connection\n\nThe operations in initialize_connection and terminate_connection\nare not atomic and may cause race conditions if not properly\nprotected by a locking mechanism\n\nChange-Id: I5c2eedfd57c8a10431e64df4909f1f306552e427\n'}, {'number': 10, 'created': '2017-05-18 12:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/72cd4f2beb56b704bfd4e32e323165a148c14b42', 'message': 'INFINIDAT: add locking around initialize/terminate connection\n\nThe operations in initialize_connection and terminate_connection\nare not atomic and may cause race conditions if not properly\nprotected by a locking mechanism\n\nChange-Id: I5c2eedfd57c8a10431e64df4909f1f306552e427\n'}, {'number': 11, 'created': '2017-05-21 13:23:21.000000000', 'files': ['cinder/volume/drivers/infinidat.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f789683676624404c2b154e0c2a62a326cb3e5bb', 'message': 'INFINIDAT: add locking around initialize/terminate connection\n\nThe operations in initialize_connection and terminate_connection\nare not atomic and may cause race conditions if not properly\nprotected by a locking mechanism\n\nChange-Id: I5c2eedfd57c8a10431e64df4909f1f306552e427\n'}]",0,422277,f789683676624404c2b154e0c2a62a326cb3e5bb,395,66,11,22683,,,0,"INFINIDAT: add locking around initialize/terminate connection

The operations in initialize_connection and terminate_connection
are not atomic and may cause race conditions if not properly
protected by a locking mechanism

Change-Id: I5c2eedfd57c8a10431e64df4909f1f306552e427
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/422277/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/infinidat.py'],1,1f71f4383f5cdbc46712b86e780d27d37a2eee71,bp/add-infinidat-generic-volume-groups,"from cinder import coordination self.management_address = self.configuration.san_ip self._system = infinisdk.InfiniBox(self.management_address, auth=auth) @coordination.synchronized('infinidat-{self.management_address}-lock') @coordination.synchronized('infinidat-{self.management_address}-lock')"," management_address = self.configuration.san_ip self._system = infinisdk.InfiniBox(management_address, auth=auth)",5,2
openstack%2Fgovernance~master~I63fa1561a3bd37acf66cb48d13c419060369b1f6,openstack/governance,master,I63fa1561a3bd37acf66cb48d13c419060369b1f6,Fix comment about design summits,MERGED,2017-04-06 09:39:49.000000000,2017-05-26 08:21:15.000000000,2017-05-26 08:21:15.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 308}, {'_account_id': 970}, {'_account_id': 1921}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 5263}, {'_account_id': 5638}, {'_account_id': 6482}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-04-06 09:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/aea705c552fecbc6937292f0371be0e0bda70309', 'message': 'Fix comment about design summits\n\nWhich have been superseded by PTGs+forums.\n\nChange-Id: I63fa1561a3bd37acf66cb48d13c419060369b1f6\n'}, {'number': 2, 'created': '2017-04-07 01:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/ac1d798fa1b867697ff8d4b374dc728606abeb3c', 'message': 'Fix comment about design summits\n\nWhich have been superseded by PTGs+forums.\n\nChange-Id: I63fa1561a3bd37acf66cb48d13c419060369b1f6\n'}, {'number': 3, 'created': '2017-05-19 04:48:17.000000000', 'files': ['reference/opens.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/391ee8880cfbd42a58d1a42166af8a51e9a60251', 'message': 'Fix comment about design summits\n\nWhich have been superseded by PTGs+forums.\n\nCo-Authored-By: Thierry Carrez <thierry@openstack.org>\nChange-Id: I63fa1561a3bd37acf66cb48d13c419060369b1f6\n'}]",4,454070,391ee8880cfbd42a58d1a42166af8a51e9a60251,29,13,3,7069,,,0,"Fix comment about design summits

Which have been superseded by PTGs+forums.

Co-Authored-By: Thierry Carrez <thierry@openstack.org>
Change-Id: I63fa1561a3bd37acf66cb48d13c419060369b1f6
",git fetch https://review.opendev.org/openstack/governance refs/changes/70/454070/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/opens.rst'],1,aea705c552fecbc6937292f0371be0e0bda70309,fixes,"development community holds a Project Teams Gathering (PTG) to gather requirements and write specifications for the upcoming release. The PTGs, which are **open to the public**, include deployers, users, developers, and upstream projects. We gather requirements and produce an approved roadmap used to guide development for the next six months. The community also meets at the OpenStack summit and co-hosted forum where further feedback, design and engagement is facilitated.","development community holds a design summit to gather requirements and write specifications for the upcoming release. The design summits, which are **open to the public**, include users, developers, and upstream projects. We gather requirements and produce an approved roadmap used to guide development for the next six months.",8,5
openstack%2Fgovernance~master~I0f10c5380ef25059ceeac56af4eda734084bf48e,openstack/governance,master,I0f10c5380ef25059ceeac56af4eda734084bf48e,Add Queens goal split out tempest plugins,MERGED,2016-09-13 23:09:15.000000000,2017-05-26 08:21:09.000000000,2017-05-26 08:21:09.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 308}, {'_account_id': 782}, {'_account_id': 964}, {'_account_id': 970}, {'_account_id': 1921}, {'_account_id': 1955}, {'_account_id': 2417}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 2889}, {'_account_id': 3153}, {'_account_id': 5196}, {'_account_id': 5263}, {'_account_id': 5638}, {'_account_id': 5689}, {'_account_id': 6159}, {'_account_id': 6167}, {'_account_id': 6482}, {'_account_id': 7102}, {'_account_id': 7822}, {'_account_id': 8556}, {'_account_id': 8655}, {'_account_id': 8851}, {'_account_id': 9003}, {'_account_id': 9664}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 10459}, {'_account_id': 10980}, {'_account_id': 11022}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 12393}, {'_account_id': 12404}, {'_account_id': 14885}, {'_account_id': 15524}, {'_account_id': 16643}, {'_account_id': 17716}, {'_account_id': 21797}]","[{'number': 1, 'created': '2016-09-13 23:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/e762da8e2bee94711d21d44d1df416a3bf6f032e', 'message': 'Add Ocata goal split out tempest plugins\n\nThis commit adds a new goal for splitting out bundled tempest plugins\ninto separate python projects.\n\nChange-Id: I0f10c5380ef25059ceeac56af4eda734084bf48e\n'}, {'number': 2, 'created': '2016-09-13 23:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/d6c8dbfe757c9e63830238e8fd5364fdf4d8ce0f', 'message': 'Add Ocata goal split out tempest plugins\n\nThis commit adds a new goal for splitting out bundled tempest plugins\ninto separate python projects.\n\nChange-Id: I0f10c5380ef25059ceeac56af4eda734084bf48e\n'}, {'number': 3, 'created': '2016-12-20 19:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/7cb8f93e9294e2f5b56ad4bf43e3142f1cd85829', 'message': 'Add Pike goal split out tempest plugins\n\nThis commit adds a new goal for splitting out bundled tempest plugins\ninto separate python projects.\n\nChange-Id: I0f10c5380ef25059ceeac56af4eda734084bf48e\n'}, {'number': 4, 'created': '2017-01-03 15:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/5a49a4c02c16d680f0c53446ce1276bbe1e6ee5e', 'message': 'Add Pike goal split out tempest plugins\n\nThis commit adds a new goal for splitting out bundled tempest plugins\ninto separate python projects.\n\nChange-Id: I0f10c5380ef25059ceeac56af4eda734084bf48e\n'}, {'number': 5, 'created': '2017-01-04 01:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/fa140f6e54c11a91fe24812508291a2e6929a424', 'message': 'Add Pike goal split out tempest plugins\n\nThis commit adds a new goal for splitting out bundled tempest plugins\ninto separate python projects.\n\nChange-Id: I0f10c5380ef25059ceeac56af4eda734084bf48e\n'}, {'number': 6, 'created': '2017-03-22 11:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/6f14e2298bb44070914801bfcc22b3c6dc8ac7a2', 'message': 'Add Queens goal split out tempest plugins\n\nThis commit adds a new goal for splitting out bundled tempest plugins\ninto separate python projects.\n\nChange-Id: I0f10c5380ef25059ceeac56af4eda734084bf48e\n'}, {'number': 7, 'created': '2017-05-17 13:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/eaaac0a4e4a15d891135c1fbae9acf33bf0f4467', 'message': 'Add Queens goal split out tempest plugins\n\nThis commit adds a new goal for splitting out bundled tempest plugins\ninto separate python projects.\n\nChange-Id: I0f10c5380ef25059ceeac56af4eda734084bf48e\n'}, {'number': 8, 'created': '2017-05-17 13:37:59.000000000', 'files': ['goals/queens/split-tempest-plugins.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/f80aa4202efed418d70b579ea2ddc1a70d9f2f57', 'message': 'Add Queens goal split out tempest plugins\n\nThis commit adds a new goal for splitting out bundled tempest plugins\ninto separate python projects.\n\nChange-Id: I0f10c5380ef25059ceeac56af4eda734084bf48e\n'}]",72,369749,f80aa4202efed418d70b579ea2ddc1a70d9f2f57,153,41,8,5196,,,0,"Add Queens goal split out tempest plugins

This commit adds a new goal for splitting out bundled tempest plugins
into separate python projects.

Change-Id: I0f10c5380ef25059ceeac56af4eda734084bf48e
",git fetch https://review.opendev.org/openstack/governance refs/changes/49/369749/8 && git format-patch -1 --stdout FETCH_HEAD,['goals/ocata/split-tempest-plugins.rst'],1,e762da8e2bee94711d21d44d1df416a3bf6f032e,formal-vote,".. -*- mode: rst -*- ================================================== Split Tempest Plugins into Seperate Repos/Projects ================================================== Tempest plugins rely on setuptools entrypoints and therefore can be included in any python project as long as it properly sets up the entrypoint. A common pattern has emerged of bundling these plugins inside a project repo. This is likely because it makes contributing tests at the same time as an API feature must simpler. However, this is really an antipattern and makes consuming the test plugins much more difficult, especially in all-in-one deployments. In order to make using plugins more consistent and easier for end users, packagers, and deployers this goal is to make sure we always use a separate python project for each plugin. Gerrit Topic ============ To facilitate tracking, commits related to this goal should use the gerrit topic:: split-tempest-plugins Completion Criteria =================== For all projects with a bundled tempest plugin: #. Create a new seperate repo for the tempest plugin #. Migrate all the functionality from the bundled plugin to the new repo #. Switch gating jobs to use the new plugin #. Delete the bundled tempest plugin from the project repo References ========== The tempest documentation elaborates on why seperate plugins are a better pattern: http://docs.openstack.org/developer/tempest/plugin.html#standalone-plugin-vs-in-repo-plugin Current State / Anticipated Impact ================================== The following script was used to find all the openstack projects with tempest plugins. .. code-block:: python import json import re import sys import requests import yaml url = 'https://review.openstack.org/projects/' with open(sys.argv[1], 'r') as fd: projects_list = yaml.load(fd.read()) repo_list = [] for i in projects_list: deliverables = projects_list[i]['deliverables'] repo_paths = [x['repos'] for x in deliverables.values()] for repos in repo_paths: for name in repos: repo_list.append(name) # This is what a project looks like ''' ""openstack-attic/akanda"": { ""id"": ""openstack-attic%2Fakanda"", ""state"": ""READ_ONLY"" }, ''' def is_openstack_proj(proj): res = False if proj in repo_list: res = True return res # Rather than returning a 404 for a nonexistent file, cgit delivers a # 0-byte response to a GET request. It also does not provide a # Content-Length in a HEAD response, so the way we tell if a file exists # is to check the length of the entire GET response body. def has_tempest_plugin(proj): r = requests.get( ""https://git.openstack.org/cgit/%s/plain/setup.cfg"" % proj) p = re.compile('^tempest\.test_plugins', re.M) if p.findall(r.text): return True else: False r = requests.get(url) # Gerrit prepends 4 garbage octets to the JSON, in order to counter # cross-site scripting attacks. Therefore we must discard it so the # json library won't choke. projects = sorted(filter(is_openstack_proj, json.loads(r.text[4:]))) found_plugins = filter(has_tempest_plugin, projects) # Every element of the found_plugins list begins with ""openstack/"". # We drop those initial 10 octets when printing the list. for project in found_plugins: print(project) On 13 Sept 2016 this was run and found all the projects with bundled tempest plugins. 3 matches were found that are standalone plugins: tempest-horizon, designate-tempest-plugin, and sahara-tests (this is a multitest repo but it's not bundled with the project so it's not applicable here either) Also all the deb packaging repos were removed as they are duplicates. This list is: :: openstack/aodh openstack/ceilometer openstack/cinder openstack/congress openstack/ec2-api openstack/freezer openstack/freezer-api openstack/gnocchi openstack/heat openstack/ironic openstack/ironic-inspector openstack/keystone openstack/magnum openstack/manila openstack/mistral openstack/monasca-api openstack/monasca-log-api openstack/murano openstack/networking-bgpvpn openstack/networking-sfc openstack/neutron openstack/neutron-dynamic-routing openstack/neutron-fwaas openstack/neutron-vpnaas openstack/octavia openstack/senlin openstack/trove openstack/vitrage openstack/watcher openstack/zaqar Project Teams ============= Chef OpenStack -------------- Planning Artifacts: Completion Artifacts: Community App Catalog --------------------- Planning Artifacts: Completion Artifacts: Documentation ------------- Planning Artifacts: Completion Artifacts: I18n ---- Planning Artifacts: Completion Artifacts: Infrastructure -------------- Planning Artifacts: Completion Artifacts: OpenStack Charms ---------------- Planning Artifacts: Completion Artifacts: OpenStack UX ------------ Planning Artifacts: Completion Artifacts: OpenStackAnsible ---------------- Planning Artifacts: Completion Artifacts: OpenStackClient --------------- Planning Artifacts: Completion Artifacts: OpenStackSalt ------------- Planning Artifacts: Completion Artifacts: Packaging-deb ------------- Planning Artifacts: Completion Artifacts: Packaging-rpm ------------- Planning Artifacts: Completion Artifacts: Puppet OpenStack ---------------- Planning Artifacts: Completion Artifacts: Quality Assurance ----------------- Planning Artifacts: Completion Artifacts: RefStack -------- Planning Artifacts: Completion Artifacts: Release Management ------------------ Planning Artifacts: Completion Artifacts: Security -------- Planning Artifacts: Completion Artifacts: Stable branch maintenance ------------------------- Planning Artifacts: Completion Artifacts: Telemetry --------- Planning Artifacts: Completion Artifacts: astara ------ Planning Artifacts: Completion Artifacts: barbican -------- Planning Artifacts: Completion Artifacts: cinder ------ Planning Artifacts: Completion Artifacts: cloudkitty ---------- Planning Artifacts: Completion Artifacts: congress -------- Planning Artifacts: Completion Artifacts: designate --------- Planning Artifacts: Completion Artifacts: dragonflow ---------- Planning Artifacts: Completion Artifacts: ec2-api ------- Planning Artifacts: Completion Artifacts: freezer ------- Planning Artifacts: Completion Artifacts: fuel ---- Planning Artifacts: Completion Artifacts: glance ------ Planning Artifacts: Completion Artifacts: heat ---- Planning Artifacts: Completion Artifacts: horizon ------- Planning Artifacts: Completion Artifacts: ironic ------ Planning Artifacts: Completion Artifacts: karbor ------ Planning Artifacts: Completion Artifacts: keystone -------- Planning Artifacts: Completion Artifacts: kolla ----- Planning Artifacts: Completion Artifacts: kuryr ----- Planning Artifacts: Completion Artifacts: magnum ------ Planning Artifacts: Completion Artifacts: manila ------ Planning Artifacts: Completion Artifacts: mistral ------- Planning Artifacts: Completion Artifacts: monasca ------- Planning Artifacts: Completion Artifacts: murano ------ Planning Artifacts: Completion Artifacts: neutron ------- Planning Artifacts: Completion Artifacts: nova ---- Planning Artifacts: Completion Artifacts: oslo ---- Planning Artifacts: Completion Artifacts: rally ----- Planning Artifacts: Completion Artifacts: requirements ------------ Planning Artifacts: Completion Artifacts: sahara ------ Planning Artifacts: Completion Artifacts: searchlight ----------- Planning Artifacts: Completion Artifacts: senlin ------ Planning Artifacts: Completion Artifacts: solum ----- Planning Artifacts: Completion Artifacts: swift ----- Planning Artifacts: Completion Artifacts: tacker ------ Planning Artifacts: Completion Artifacts: tripleo ------- Planning Artifacts: Completion Artifacts: trove ----- Planning Artifacts: Completion Artifacts: vitrage ------- Planning Artifacts: Completion Artifacts: watcher ------- Planning Artifacts: Completion Artifacts: winstackers ----------- Planning Artifacts: Completion Artifacts: zaqar ----- Planning Artifacts: Completion Artifacts: ",,564,0
openstack%2Fneutron~master~I07bf85a7729e1005c4545416bcb02488a329ae26,openstack/neutron,master,I07bf85a7729e1005c4545416bcb02488a329ae26,[WIP] Secgroup logging: Collector for logging api part,ABANDONED,2016-11-10 11:51:16.000000000,2017-05-26 08:17:17.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 5170}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15471}]","[{'number': 1, 'created': '2016-11-10 11:51:16.000000000', 'files': ['neutron/opts.py', 'etc/oslo-config-generator/logging_api.ini', 'neutron/cmd/eventlet/trigger_logging.py', 'neutron/services/logapi/collector/__init__.py', 'setup.cfg', 'neutron/services/logapi/collector/collector.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d6dd8287846d79013b672b1ecd312855e698cca', 'message': '[WIP] Secgroup logging: Collector for logging api part\n\nThis patch implements a small executable to collect log data from\nlogging api services periodically. This implementation is following\nlogging api for security group spec [1]\n\n[1] https://review.openstack.org/#/c/203509/\n\nChange-Id: I07bf85a7729e1005c4545416bcb02488a329ae26\nPartially-implements: blueprint security-group-logging\nRelated-Bug: #1468366\n'}]",0,396138,7d6dd8287846d79013b672b1ecd312855e698cca,12,7,1,15471,,,0,"[WIP] Secgroup logging: Collector for logging api part

This patch implements a small executable to collect log data from
logging api services periodically. This implementation is following
logging api for security group spec [1]

[1] https://review.openstack.org/#/c/203509/

Change-Id: I07bf85a7729e1005c4545416bcb02488a329ae26
Partially-implements: blueprint security-group-logging
Related-Bug: #1468366
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/396138/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/opts.py', 'etc/oslo-config-generator/logging_api.ini', 'neutron/cmd/eventlet/trigger_logging.py', 'neutron/services/logapi/collector/__init__.py', 'setup.cfg', 'neutron/services/logapi/collector/collector.py']",6,7d6dd8287846d79013b672b1ecd312855e698cca,bug/1468366,"# Copyright (C) 2016 Fujitsu Limited # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import re from neutron._i18n import _ from oslo_config import cfg from oslo_log import log as logging from oslo_service import periodic_task LOG = logging.getLogger(__name__) COLLECTOR_CFG_OPTS = [ cfg.StrOpt('input_log_path', default='/var/log/syslog', help=_(""syslog path on system"")), cfg.StrOpt('size', default=1048576, help=_(""Log files are rotated when they grow bigger then size bytes"")), cfg.StrOpt('rotate', default=5, help=_(""Log files are rotated <count> times before being removed"")), cfg.StrOpt('local_output_log', default='/var/log/neutron/', help=_(""Where log-data is stored in local"")) ] cfg.CONF.register_opts(COLLECTOR_CFG_OPTS) DETECT_PATTERN = (r'.{22}-ACCEPT|DROP') class Collector(periodic_task.PeriodicTasks): """"""Take events which are generated by Resource logging extension, Then split and save them to local_out_log."""""" def __init__(self, context, conf=None): super(Collector, self).__init__(conf) self.conf = conf self.context = context self.add_periodic_task(self._collect) #self.run_periodic_tasks(context) @periodic_task.periodic_task(spacing=60, run_immediately=False) def _collect(self, context): self._pipeline_process() def _read_files(self): for filename in self.conf.input_log_path: f = open(filename) yield f f.close() def _concatenate(self, iterators): """"""Chain a sequence of iterators together into a single sequence"""""" for iter in iterators: yield iter def _pipeline_process(self): raw_data_files = self._read_files() lines = self._concatenate(raw_data_files) local_output = self.conf.local_output_log for line in lines: pattern = re.compile(DETECT_PATTERN) match_filed = re.findall(pattern, line) if match_filed: output_file = local_output + match_filed[:22] + '.log' with open(output_file, 'a') as f: f.write(line) ",,132,1
openstack%2Fos-brick~master~I439e677e66d59a48d4b2ac87eb0256146ff507e0,openstack/os-brick,master,I439e677e66d59a48d4b2ac87eb0256146ff507e0,Stop ignoring E123 and E125 pycodestyle rules,MERGED,2017-05-21 21:35:33.000000000,2017-05-26 08:14:53.000000000,2017-05-24 17:53:37.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 19852}, {'_account_id': 22248}, {'_account_id': 24502}]","[{'number': 1, 'created': '2017-05-21 21:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/bc4d23992cb35813ba0d0786e03ae084ed831d1d', 'message': 'Enable E123 and E125 hacking rules\n\nThis change is one in the series of changes to\nalign os-brick with cinder rules.\n\nChange-Id: I439e677e66d59a48d4b2ac87eb0256146ff507e0\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n'}, {'number': 2, 'created': '2017-05-23 22:46:41.000000000', 'files': ['os_brick/tests/initiator/connectors/test_disco.py', 'os_brick/initiator/connectors/scaleio.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/32b4b24bfc27f47ba6e51af83eaae29379f3b04e', 'message': ""Stop ignoring E123 and E125 pycodestyle rules\n\nRemove options from flake8 section in tox.ini\n\nThis change is one in the series of changes to\nalign os-brick with Cinder rules.\n\n- E123 'closing bracket does not match indentation of\n        opening bracket’s line'\n  This option is ignored by default as it is not PEP8 enforced\n\n- E125 'continuation line with same indent as next logical line'\n\nSee following for more information:\n https://github.com/PyCQA/pycodestyle\n\nChange-Id: I439e677e66d59a48d4b2ac87eb0256146ff507e0\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n""}]",0,466551,32b4b24bfc27f47ba6e51af83eaae29379f3b04e,37,12,2,23942,,,0,"Stop ignoring E123 and E125 pycodestyle rules

Remove options from flake8 section in tox.ini

This change is one in the series of changes to
align os-brick with Cinder rules.

- E123 'closing bracket does not match indentation of
        opening bracket’s line'
  This option is ignored by default as it is not PEP8 enforced

- E125 'continuation line with same indent as next logical line'

See following for more information:
 https://github.com/PyCQA/pycodestyle

Change-Id: I439e677e66d59a48d4b2ac87eb0256146ff507e0
Signed-off-by: Maciej Kucia <maciej@kucia.net>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/51/466551/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_disco.py', 'os_brick/initiator/connectors/scaleio.py', 'tox.ini']",3,bc4d23992cb35813ba0d0786e03ae084ed831d1d,hacking,"ignore = E251,E265,H405,H904","# E123, E125 skipped as they are invalid PEP-8.ignore = E123,E125,E251,E265,H405,H904",5,6
openstack%2Fgovernance~master~I49b11af65e7d2095f7315ef2906ad24fcde6ba1f,openstack/governance,master,I49b11af65e7d2095f7315ef2906ad24fcde6ba1f,Add OpenStackClient Pike goal information,MERGED,2017-05-19 19:46:10.000000000,2017-05-26 08:13:25.000000000,2017-05-26 08:13:25.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 6159}, {'_account_id': 6482}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-05-19 19:46:10.000000000', 'files': ['goals/pike/python35.rst', 'goals/pike/deploy-api-in-wsgi.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/3d59f72c47b2fcf5433eaff38fd62926b38b1642', 'message': 'Add OpenStackClient Pike goal information\n\nChange-Id: I49b11af65e7d2095f7315ef2906ad24fcde6ba1f\n'}]",0,466392,3d59f72c47b2fcf5433eaff38fd62926b38b1642,12,7,1,970,,,0,"Add OpenStackClient Pike goal information

Change-Id: I49b11af65e7d2095f7315ef2906ad24fcde6ba1f
",git fetch https://review.opendev.org/openstack/governance refs/changes/92/466392/1 && git format-patch -1 --stdout FETCH_HEAD,"['goals/pike/python35.rst', 'goals/pike/deploy-api-in-wsgi.rst']",2,3d59f72c47b2fcf5433eaff38fd62926b38b1642,osc-goal-ack-pike,None of the OpenStackClient deliverables have services so no work is required for this goal. ,,10,0
openstack%2Fmagnum~master~I623d384eb589919d5ec66e55799475d1386d6bde,openstack/magnum,master,I623d384eb589919d5ec66e55799475d1386d6bde,doc: Add Xenial to devstack quickstart guide,MERGED,2017-05-17 08:06:51.000000000,2017-05-26 08:08:31.000000000,2017-05-26 08:08:31.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 6721}, {'_account_id': 10206}, {'_account_id': 13861}, {'_account_id': 20498}]","[{'number': 1, 'created': '2017-05-17 08:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/babd63f682bfc618ea89321564195b9603cb5e30', 'message': 'doc: Add Xenial to devstack quickstart guide\n\nSuggest users to use Ubuntu Xenial and update python3\npackages.\n\nChange-Id: I623d384eb589919d5ec66e55799475d1386d6bde\n'}, {'number': 2, 'created': '2017-05-25 15:17:20.000000000', 'files': ['doc/source/dev/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/5386d48cec586e2651cc7a9366da5a4b7d0c7963', 'message': 'doc: Add Xenial to devstack quickstart guide\n\nSuggest users to use Ubuntu Xenial and update python3\npackages.\n\nCloses-Bug: #1670278\nCloses-Bug: #1677399\nChange-Id: I623d384eb589919d5ec66e55799475d1386d6bde\n'}]",0,465447,5386d48cec586e2651cc7a9366da5a4b7d0c7963,13,6,2,20498,,,0,"doc: Add Xenial to devstack quickstart guide

Suggest users to use Ubuntu Xenial and update python3
packages.

Closes-Bug: #1670278
Closes-Bug: #1677399
Change-Id: I623d384eb589919d5ec66e55799475d1386d6bde
",git fetch https://review.opendev.org/openstack/magnum refs/changes/47/465447/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/dev/quickstart.rst'],1,babd63f682bfc618ea89321564195b9603cb5e30,update-devstack-quickstart, # Ubuntu Xenial: sudo apt update sudo apt install -y python-dev libssl-dev libxml2-dev curl \ libmysqlclient-dev libxslt-dev libpq-dev git \ libffi-dev gettext build-essential python3-devThis session has only been tested on Ubuntu 16.04 (Xenial) and Fedora 20/21., # Ubuntu/Debian: sudo apt-get update sudo apt-get install -y python-dev libssl-dev libxml2-dev curl \ libmysqlclient-dev libxslt-dev libpq-dev git \ libffi-dev gettext build-essential python3.4-devThis session has only been tested on Ubuntu 14.04 (Trusty) and Fedora 20/21.,6,6
openstack%2Fmagnum~master~Ia00f71d7f3e8d6b52101b3b1df1c676f1d7caf6b,openstack/magnum,master,Ia00f71d7f3e8d6b52101b3b1df1c676f1d7caf6b,Updated from global requirements,MERGED,2017-05-26 01:49:17.000000000,2017-05-26 08:07:53.000000000,2017-05-26 08:07:53.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 20498}]","[{'number': 1, 'created': '2017-05-26 01:49:17.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/magnum/commit/9f61e236006cf9ab953a9bf5b46cd38c2a87f5af', 'message': 'Updated from global requirements\n\nChange-Id: Ia00f71d7f3e8d6b52101b3b1df1c676f1d7caf6b\n'}]",0,468243,9f61e236006cf9ab953a9bf5b46cd38c2a87f5af,9,3,1,11131,,,0,"Updated from global requirements

Change-Id: Ia00f71d7f3e8d6b52101b3b1df1c676f1d7caf6b
",git fetch https://review.opendev.org/openstack/magnum refs/changes/43/468243/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9f61e236006cf9ab953a9bf5b46cd38c2a87f5af,openstack/requirements,oslo.middleware>=3.27.0 # Apache-2.0,oslo.middleware>=3.10.0 # Apache-2.0,1,1
openstack%2Fkolla-ansible~master~I7a3f21af365d13ba783d200a75d18b50429a1488,openstack/kolla-ansible,master,I7a3f21af365d13ba783d200a75d18b50429a1488,gzip the ARA report after generating it,MERGED,2017-05-25 20:26:00.000000000,2017-05-26 07:55:52.000000000,2017-05-26 07:55:52.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 19316}]","[{'number': 1, 'created': '2017-05-25 20:26:00.000000000', 'files': ['tools/deploy_aio.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dc71ebe267461c5ccdd88378fff0bd1024077f3e', 'message': 'gzip the ARA report after generating it\n\nARA behaves well gzipped and shaves a lot of the size due to it being\ncomposed mostly of text.\n\nChange-Id: I7a3f21af365d13ba783d200a75d18b50429a1488\n'}]",0,468155,dc71ebe267461c5ccdd88378fff0bd1024077f3e,8,3,1,9061,,,0,"gzip the ARA report after generating it

ARA behaves well gzipped and shaves a lot of the size due to it being
composed mostly of text.

Change-Id: I7a3f21af365d13ba783d200a75d18b50429a1488
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/468155/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deploy_aio.sh'],1,dc71ebe267461c5ccdd88378fff0bd1024077f3e,ara-gzip, gzip --recursive --best /tmp/logs/playbook_reports/,,1,0
openstack%2Fdiskimage-builder~master~I9e4f950c2c2ea656fc0c1a14594059fb4c62fa35,openstack/diskimage-builder,master,I9e4f950c2c2ea656fc0c1a14594059fb4c62fa35,Adding unit testing for configuration,MERGED,2017-05-23 01:25:12.000000000,2017-05-26 07:55:22.000000000,2017-05-26 06:45:54.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 21741}]","[{'number': 1, 'created': '2017-05-23 01:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/de4bce3fa5a6a1404a7f0b72300b2a69cc1e0a27', 'message': 'Adding unit testing for configuration\n\nAdd a range of unit-testing for configuration parsing and graph\ngeneration.\n\nChange-Id: I9e4f950c2c2ea656fc0c1a14594059fb4c62fa35\n'}, {'number': 2, 'created': '2017-05-23 02:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4d98dd4349c790010b9b7bf350df1146ee276828', 'message': ""Adding unit testing for configuration\n\nAdd a range of unit-testing for configuration parsing, graph\ngeneration and mount-point generation.  Unfortunately there's some\nglobal variable hacks, and some stubs, but it's a start.\n\nChange-Id: I9e4f950c2c2ea656fc0c1a14594059fb4c62fa35\n""}, {'number': 3, 'created': '2017-05-23 23:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/bce94ee6ba0f4a2a3b4155d2b30e6bc85702e0f9', 'message': ""Adding unit testing for configuration\n\nAdd a range of unit-testing for configuration parsing, graph\ngeneration and mount-point generation.  Unfortunately there's some\nglobal variable hacks, and some stubs, but it's a start.\n\nChange-Id: I9e4f950c2c2ea656fc0c1a14594059fb4c62fa35\n""}, {'number': 4, 'created': '2017-05-25 05:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6c5669f225417cf4a9b276f098ca36ef7b6db7ed', 'message': ""Adding unit testing for configuration\n\nAdd a range of unit-testing for configuration parsing, graph\ngeneration and mount-point generation.  Unfortunately there's some\nglobal variable hacks, and some stubs, but it's a start.\n\nChange-Id: I9e4f950c2c2ea656fc0c1a14594059fb4c62fa35\n""}, {'number': 5, 'created': '2017-05-26 00:41:32.000000000', 'files': ['diskimage_builder/block_device/tests/config/deep_graph.yaml', 'diskimage_builder/block_device/tests/config/simple_graph.yaml', 'diskimage_builder/block_device/tests/config/multiple_partitions_tree.yaml', 'diskimage_builder/block_device/tests/config/multiple_partitions_graph.yaml', 'diskimage_builder/block_device/tests/test_config.py', 'diskimage_builder/block_device/tests/config/simple_tree.yaml', 'diskimage_builder/block_device/tests/config/deep_tree.yaml', 'diskimage_builder/block_device/tests/test_mount_order.py', 'diskimage_builder/block_device/tests/config/bad_plugin.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7341542f2c4010753e9ae9c618ec2c38d8cada20', 'message': ""Adding unit testing for configuration\n\nAdd a range of unit-testing for configuration parsing, graph\ngeneration and mount-point generation.  Unfortunately there's some\nglobal variable hacks, and some stubs, but it's a start.\n\nChange-Id: I9e4f950c2c2ea656fc0c1a14594059fb4c62fa35\n""}]",6,466959,7341542f2c4010753e9ae9c618ec2c38d8cada20,31,5,5,7118,,,0,"Adding unit testing for configuration

Add a range of unit-testing for configuration parsing, graph
generation and mount-point generation.  Unfortunately there's some
global variable hacks, and some stubs, but it's a start.

Change-Id: I9e4f950c2c2ea656fc0c1a14594059fb4c62fa35
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/59/466959/5 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/block_device/tests/config/deep_graph.yaml', 'diskimage_builder/block_device/tests/config/simple_graph.yaml', 'diskimage_builder/block_device/tests/config/multiple_partitions_graph.yaml', 'diskimage_builder/block_device/tests/config/multiple_partitions_tree.yaml', 'diskimage_builder/block_device/tests/test_config.py', 'diskimage_builder/block_device/tests/config/simple_tree.yaml', 'diskimage_builder/block_device/tests/config/deep_tree.yaml', 'diskimage_builder/block_device/tests/test_mount_order.py', 'diskimage_builder/block_device/tests/config/bad_plugin.yaml']",9,de4bce3fa5a6a1404a7f0b72300b2a69cc1e0a27,unit_testing,- this_is_not_a_plugin_name: foo: bar baz: moo,,362,0
openstack%2Fmonasca-api~master~Iae689f1dc8875e6d675dc4453b77d1a9100088ba,openstack/monasca-api,master,Iae689f1dc8875e6d675dc4453b77d1a9100088ba,Bump InluxDB to 1.1.5,ABANDONED,2017-05-24 05:03:39.000000000,2017-05-26 07:53:02.000000000,,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 6593}, {'_account_id': 14123}, {'_account_id': 16168}]","[{'number': 1, 'created': '2017-05-24 05:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/93a39f4f907cd77b2db9fa3a73b7e19ac446213e', 'message': 'Checking Inlflux 1.1.5\n\nChange-Id: Iae689f1dc8875e6d675dc4453b77d1a9100088ba\n'}, {'number': 2, 'created': '2017-05-24 05:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0adc249de68a8d44a0c96507f5fdadcc8d04ccda', 'message': 'Checking Inlflux 1.1.5\n\nChange-Id: Iae689f1dc8875e6d675dc4453b77d1a9100088ba\n'}, {'number': 3, 'created': '2017-05-24 07:19:49.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/1634c7982b6c7b2a0eb91f01514b99e932b3c630', 'message': 'Bump InluxDB to 1.1.5\n\nUpdating influx to newest possible 1.1.x version\nto pull in as many improvements and bug fixes as possible.\n\nNOTE: 1.1.5 is the highest possible\nversion from 1.1.x branch.\n\nChange-Id: Iae689f1dc8875e6d675dc4453b77d1a9100088ba\n'}]",0,467482,1634c7982b6c7b2a0eb91f01514b99e932b3c630,10,5,3,16168,,,0,"Bump InluxDB to 1.1.5

Updating influx to newest possible 1.1.x version
to pull in as many improvements and bug fixes as possible.

NOTE: 1.1.5 is the highest possible
version from 1.1.x branch.

Change-Id: Iae689f1dc8875e6d675dc4453b77d1a9100088ba
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/82/467482/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,93a39f4f907cd77b2db9fa3a73b7e19ac446213e,,,,0,0
openstack%2Fproject-config~master~Ic8e6aacd6cb9db6001d31f7995d064035e5bf7a3,openstack/project-config,master,Ic8e6aacd6cb9db6001d31f7995d064035e5bf7a3,jenkins: scripts: Sync the .gitignore file in the OpenStack Ansible projects,MERGED,2017-05-25 13:01:39.000000000,2017-05-26 07:49:32.000000000,2017-05-26 07:49:32.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-05-25 13:01:39.000000000', 'files': ['jenkins/scripts/sync_openstack_ansible_common_files.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/736a721e298e50fe2eaf28ee4b538a2602815b80', 'message': 'jenkins: scripts: Sync the .gitignore file in the OpenStack Ansible projects\n\nThe .gitignore file is common across all OpenStack Ansible projects so\nadd it to the sync list\n\nChange-Id: Ic8e6aacd6cb9db6001d31f7995d064035e5bf7a3\n'}]",0,468023,736a721e298e50fe2eaf28ee4b538a2602815b80,8,4,1,23163,,,0,"jenkins: scripts: Sync the .gitignore file in the OpenStack Ansible projects

The .gitignore file is common across all OpenStack Ansible projects so
add it to the sync list

Change-Id: Ic8e6aacd6cb9db6001d31f7995d064035e5bf7a3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/23/468023/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/scripts/sync_openstack_ansible_common_files.sh'],1,736a721e298e50fe2eaf28ee4b538a2602815b80,osa-propose-sync-gitignore-file,declare -ra files_to_sync=(run_tests.sh bindep.txt Vagrantfile tests/tests-repo-clone.sh .gitignore),declare -ra files_to_sync=(run_tests.sh bindep.txt Vagrantfile tests/tests-repo-clone.sh),1,1
openstack%2Fproject-config~master~I16b56a13028c0f228d21dde423db3f70f07f4e1a,openstack/project-config,master,I16b56a13028c0f228d21dde423db3f70f07f4e1a,Remove 99-cache-testrepository-db from cache-devstack element,MERGED,2017-05-25 15:47:22.000000000,2017-05-26 07:48:21.000000000,2017-05-26 07:48:21.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-05-25 15:47:22.000000000', 'files': ['nodepool/scripts/prepare_tempest_testrepository.py', 'nodepool/elements/cache-devstack/install.d/99-cache-testrepository-db'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3ef635e004bb61fd9e290743f33705e96a1a14d9', 'message': 'Remove 99-cache-testrepository-db from cache-devstack element\n\nIt seems this optimization is no longer needed. Once we address:\n\n  https://bugs.launchpad.net/testrepository/+bug/1416512\n\nWe could consider adding it back. However, this also means we stop\nhitting logstash.openstack.org each time we build an image. So, we\nshould maybe consider caching that data some place over having our\nimage builds do it.\n\nChange-Id: I16b56a13028c0f228d21dde423db3f70f07f4e1a\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,468074,3ef635e004bb61fd9e290743f33705e96a1a14d9,7,3,1,4162,,,0,"Remove 99-cache-testrepository-db from cache-devstack element

It seems this optimization is no longer needed. Once we address:

  https://bugs.launchpad.net/testrepository/+bug/1416512

We could consider adding it back. However, this also means we stop
hitting logstash.openstack.org each time we build an image. So, we
should maybe consider caching that data some place over having our
image builds do it.

Change-Id: I16b56a13028c0f228d21dde423db3f70f07f4e1a
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/468074/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/scripts/prepare_tempest_testrepository.py', 'nodepool/elements/cache-devstack/install.d/99-cache-testrepository-db']",2,3ef635e004bb61fd9e290743f33705e96a1a14d9,,,"#!/bin/bash # Copyright (C) 2014 Hewlett-Packard Development Company, L.P. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # # See the License for the specific language governing permissions and # limitations under the License. # dib-lint: disable=setpipefail if [ ${DIB_DEBUG_TRACE:-0} -gt 0 ]; then set -x fi set -eu TEMPEST_DIR=/opt/git/openstack/tempest # Setup venv and Install python deps from pip sudo virtualenv /opt/git/subunit2sql-env sudo -H /opt/git/subunit2sql-env/bin/pip install -U subunit2sql testrepository PyMySQL sudo env PATH=/opt/git/subunit2sql-env/bin:$PATH /opt/git/subunit2sql-env/bin/python /opt/nodepool-scripts/prepare_tempest_testrepository.py $TEMPEST_DIR sudo chown -R jenkins:jenkins $TEMPEST_DIR/preseed-streams # Delete the venv after the script sudo rm -rf /opt/git/subunit2sql-env ",0,87
openstack%2Fproject-config~master~I61d428d6c24eee76bfeda2a3c7c6311d401615b7,openstack/project-config,master,I61d428d6c24eee76bfeda2a3c7c6311d401615b7,Remove .npm cache from stackviz element,MERGED,2017-05-25 15:08:24.000000000,2017-05-26 07:47:31.000000000,2017-05-26 07:47:31.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-05-25 15:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/09932b0f1801f22d764c27af7abdb3ed4b19e481', 'message': ""Remove .npm cache from root user\n\nDon't leak cache files to final image.\n\nChange-Id: I61d428d6c24eee76bfeda2a3c7c6311d401615b7\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n""}, {'number': 2, 'created': '2017-05-25 15:16:59.000000000', 'files': ['nodepool/elements/stackviz/cleanup.d/50-npm'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a6b17548327b7409bcf9dc0771d9ca7790ade4ba', 'message': ""Remove .npm cache from stackviz element\n\nDon't leak cache files to final image.\n\nChange-Id: I61d428d6c24eee76bfeda2a3c7c6311d401615b7\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n""}]",0,468059,a6b17548327b7409bcf9dc0771d9ca7790ade4ba,9,4,2,4162,,,0,"Remove .npm cache from stackviz element

Don't leak cache files to final image.

Change-Id: I61d428d6c24eee76bfeda2a3c7c6311d401615b7
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/59/468059/2 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/nodepool-base/cleanup.d/50-root'],1,09932b0f1801f22d764c27af7abdb3ed4b19e481,,sudo rm -rf $TARGET_ROOT/root/.npm,,1,0
openstack%2Frpm-packaging~stable%2Fnewton~I7f62886d312473d32114a5fb776155ad1c1a9477,openstack/rpm-packaging,stable/newton,I7f62886d312473d32114a5fb776155ad1c1a9477,oslo.privsep: Update to 1.13.2,MERGED,2017-05-25 04:52:54.000000000,2017-05-26 07:46:22.000000000,2017-05-26 07:44:35.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 20656}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-05-25 04:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f66fcb04a3ffcf50d5fc845e4b89ddcd30bf2d2b', 'message': 'oslo.privsep: Update to 1.13.2\n\nChange-Id: I7f62886d312473d32114a5fb776155ad1c1a9477\n'}, {'number': 2, 'created': '2017-05-25 09:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/866c7e11fd4ec106b7e699916dd3beb65dd9a2cf', 'message': 'oslo.privsep: Update to 1.13.2\n\nChange-Id: I7f62886d312473d32114a5fb776155ad1c1a9477\n'}, {'number': 3, 'created': '2017-05-25 13:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ec6121256165b00f85a20b0fc93797a0e8ded362', 'message': 'oslo.privsep: Update to 1.13.2\n\nChange-Id: I7f62886d312473d32114a5fb776155ad1c1a9477\n'}, {'number': 4, 'created': '2017-05-25 19:22:03.000000000', 'files': ['openstack/oslo.privsep/0001-Deal-with-CONF.config_dir-correctly.patch', 'openstack/oslo.privsep/oslo.privsep.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/59192c5b21638d1d8a61c680575c4d35e0cdb2be', 'message': 'oslo.privsep: Update to 1.13.2\n\nChange-Id: I7f62886d312473d32114a5fb776155ad1c1a9477\n'}]",0,467882,59192c5b21638d1d8a61c680575c4d35e0cdb2be,32,7,4,7102,,,0,"oslo.privsep: Update to 1.13.2

Change-Id: I7f62886d312473d32114a5fb776155ad1c1a9477
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/82/467882/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.privsep/oslo.privsep.spec.j2'],1,f66fcb04a3ffcf50d5fc845e4b89ddcd30bf2d2b,stable-newton,Version: 1.13.2,Version: 1.13.1,1,1
openstack%2Fproject-config~master~Ie5ca8df456783e5aaadee4dd72fc094c885d2b47,openstack/project-config,master,Ie5ca8df456783e5aaadee4dd72fc094c885d2b47,tooz: gate on etcd3gw,MERGED,2017-05-25 02:06:02.000000000,2017-05-26 07:46:04.000000000,2017-05-26 07:46:04.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-05-25 02:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b4ec75e6083764e8c7385d4221229feeacb41adb', 'message': 'tooz: gate on etcd3gw\n\nWe added another driver that uses etcd3 grpc gateway, we need\nto run the additional tox targets on check and gate\n\nChange-Id: Ie5ca8df456783e5aaadee4dd72fc094c885d2b47\n'}, {'number': 2, 'created': '2017-05-25 10:13:20.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a11b858c67b33340bf44c10bd9d3afb01c374307', 'message': 'tooz: gate on etcd3gw\n\nWe added another driver that uses etcd3 grpc gateway, we need\nto run the additional tox targets on check and gate\n\nMake sure we run these tests only on master/pike and onwards\n\nChange-Id: Ie5ca8df456783e5aaadee4dd72fc094c885d2b47\n'}]",0,467814,a11b858c67b33340bf44c10bd9d3afb01c374307,11,3,2,5638,,,0,"tooz: gate on etcd3gw

We added another driver that uses etcd3 grpc gateway, we need
to run the additional tox targets on check and gate

Make sure we run these tests only on master/pike and onwards

Change-Id: Ie5ca8df456783e5aaadee4dd72fc094c885d2b47
",git fetch https://review.opendev.org/openstack/project-config refs/changes/14/467814/2 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,b4ec75e6083764e8c7385d4221229feeacb41adb,, - gate-tooz-tox-py27-etcd3gw-ubuntu-xenial - gate-tooz-tox-py35-etcd3gw-ubuntu-xenial - gate-tooz-tox-py27-etcd3gw-ubuntu-xenial - gate-tooz-tox-py35-etcd3gw-ubuntu-xenial,,6,0
openstack%2Fsenlin~master~Ibbfc24af8d688427790f9a859264f8b6b452cbe5,openstack/senlin,master,Ibbfc24af8d688427790f9a859264f8b6b452cbe5,Trivial fix typos,MERGED,2017-05-25 08:50:58.000000000,2017-05-26 07:23:30.000000000,2017-05-26 07:23:30.000000000,"[{'_account_id': 3}, {'_account_id': 8246}, {'_account_id': 23401}]","[{'number': 1, 'created': '2017-05-25 08:50:58.000000000', 'files': ['senlin/profiles/os/heat/stack.py', 'senlin/profiles/os/nova/server.py', 'senlin/tests/unit/engine/test_cluster.py', 'senlin/tests/tempest/api/nodes/test_node_delete.py', 'senlin/tests/unit/api/middleware/test_fault.py', 'senlin/tests/unit/engine/service/test_profiles.py', 'senlin/db/sqlalchemy/api.py', 'senlin/tests/unit/api/openstack/v1/test_profiles.py', 'senlin/tests/unit/drivers/test_keystone_v3.py', 'senlin/tests/unit/test_common_schema.py', 'doc/source/developer/policies/health_v1.rst', 'examples/policies/lb_policy.yaml', 'doc/source/developer/reviews.rst', 'doc/source/user/policy_types/scaling.rst', 'senlin/tests/tempest/api/clusters/test_cluster_action_negative.py', 'doc/source/developer/cluster.rst', 'senlin/tests/unit/api/openstack/v1/test_policies.py', 'senlin/api/common/util.py', 'senlin/tests/tempest/api/receivers/test_receiver_show_negative.py', 'senlin/tests/unit/api/common/test_wsgi.py', 'doc/source/developer/event_dispatcher.rst', 'examples/policies/WIP/health_policy_lb.yaml', 'senlin/tests/drivers/openstack/lbaas.py', 'senlin/tests/unit/engine/service/test_receivers.py', 'senlin/tests/tempest/api/profiles/test_profile_create_negative.py', 'doc/source/user/policy_types/load_balancing.rst', 'senlin/tests/unit/policies/test_scaling_policy.py', 'doc/source/scenarios/ex_lbas.yaml', 'senlin/profiles/base.py', 'senlin/objects/base.py', 'senlin/tests/unit/api/openstack/v1/test_clusters.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/2a1cf0623e7c90fa9206f3c8266779a91d038bb9', 'message': 'Trivial fix typos\n\nChange-Id: Ibbfc24af8d688427790f9a859264f8b6b452cbe5\n'}]",0,467931,2a1cf0623e7c90fa9206f3c8266779a91d038bb9,7,3,1,25903,,,0,"Trivial fix typos

Change-Id: Ibbfc24af8d688427790f9a859264f8b6b452cbe5
",git fetch https://review.opendev.org/openstack/senlin refs/changes/31/467931/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/profiles/os/heat/stack.py', 'senlin/profiles/os/nova/server.py', 'senlin/tests/unit/engine/test_cluster.py', 'senlin/tests/tempest/api/nodes/test_node_delete.py', 'senlin/tests/unit/api/middleware/test_fault.py', 'senlin/tests/unit/engine/service/test_profiles.py', 'senlin/db/sqlalchemy/api.py', 'senlin/tests/unit/api/openstack/v1/test_profiles.py', 'senlin/tests/unit/drivers/test_keystone_v3.py', 'senlin/tests/unit/test_common_schema.py', 'doc/source/developer/policies/health_v1.rst', 'examples/policies/lb_policy.yaml', 'doc/source/developer/reviews.rst', 'doc/source/user/policy_types/scaling.rst', 'senlin/tests/tempest/api/clusters/test_cluster_action_negative.py', 'doc/source/developer/cluster.rst', 'senlin/tests/unit/api/openstack/v1/test_policies.py', 'senlin/api/common/util.py', 'senlin/tests/tempest/api/receivers/test_receiver_show_negative.py', 'senlin/tests/unit/api/common/test_wsgi.py', 'doc/source/developer/event_dispatcher.rst', 'examples/policies/WIP/health_policy_lb.yaml', 'senlin/tests/drivers/openstack/lbaas.py', 'senlin/tests/unit/engine/service/test_receivers.py', 'senlin/tests/tempest/api/profiles/test_profile_create_negative.py', 'doc/source/user/policy_types/load_balancing.rst', 'senlin/tests/unit/policies/test_scaling_policy.py', 'doc/source/scenarios/ex_lbas.yaml', 'senlin/profiles/base.py', 'senlin/objects/base.py', 'senlin/tests/unit/api/openstack/v1/test_clusters.py']",31,2a1cf0623e7c90fa9206f3c8266779a91d038bb9,bug/typos," """"""Test case for the cluster controller.""""""", '''Test case for the cluster controoler.''',43,43
openstack%2Fproject-config~master~I208d2d7ed125264efa4266b8927810268345b8ce,openstack/project-config,master,I208d2d7ed125264efa4266b8927810268345b8ce,Add ansible-hardening repository,MERGED,2017-05-23 17:51:03.000000000,2017-05-26 07:22:20.000000000,2017-05-26 07:22:20.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 2799}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-05-23 17:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9b8c7241f3032683661af2fd791dfac3cce6b57c', 'message': ""Add ansible-hardening repository\n\nThis patch creates a new repository 'ansible-hardening' that will\nreplace the 'openstack-ansible-security' repository. There was a\ndiscussion on the ML[0] about how the new name will suit the project\nbetter and reduce confusion around the goals of the project.\n\nThe new repo should still be under the ownership of the\nopenstack-ansible group since it is tightly integrated with the\nproject.\n\n[0] http://lists.openstack.org/pipermail/openstack-dev/2017-May/116922.html\n\nChange-Id: I208d2d7ed125264efa4266b8927810268345b8ce\n""}, {'number': 2, 'created': '2017-05-23 17:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1e0569029edd7a55db2424ab7229929d11d64b17', 'message': ""Add ansible-hardening repository\n\nThis patch creates a new repository 'ansible-hardening' that will\nreplace the 'openstack-ansible-security' repository. There was a\ndiscussion on the ML[0] about how the new name will suit the project\nbetter and reduce confusion around the goals of the project.\n\nThe new repo should still be under the ownership of the\nopenstack-ansible group since it is tightly integrated with the\nproject.\n\n[0] http://lists.openstack.org/pipermail/openstack-dev/2017-May/116922.html\n\nChange-Id: I208d2d7ed125264efa4266b8927810268345b8ce\n""}, {'number': 3, 'created': '2017-05-23 18:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d91d3d752c741e0e84b585dbdfa7737f2e27367c', 'message': ""Add ansible-hardening repository\n\nThis patch creates a new repository 'ansible-hardening' that will\nreplace the 'openstack-ansible-security' repository. There was a\ndiscussion on the ML[0] about how the new name will suit the project\nbetter and reduce confusion around the goals of the project.\n\nThe new repo should still be under the ownership of the\nopenstack-ansible group since it is tightly integrated with the\nproject.\n\n[0] http://lists.openstack.org/pipermail/openstack-dev/2017-May/116922.html\n\nChange-Id: I208d2d7ed125264efa4266b8927810268345b8ce\n""}, {'number': 4, 'created': '2017-05-23 19:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f2c65c795b3820d9ef7d782560ec8dee9aad4213', 'message': ""Add ansible-hardening repository\n\nThis patch creates a new repository 'ansible-hardening' that will\nreplace the 'openstack-ansible-security' repository. There was a\ndiscussion on the ML[0] about how the new name will suit the project\nbetter and reduce confusion around the goals of the project.\n\nThe new repo should still be under the ownership of the\nopenstack-ansible group since it is tightly integrated with the\nproject.\n\n[0] http://lists.openstack.org/pipermail/openstack-dev/2017-May/116922.html\n\nChange-Id: I208d2d7ed125264efa4266b8927810268345b8ce\n""}, {'number': 5, 'created': '2017-05-24 12:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3312058234972d606e56259c8a9306fc69a9e304', 'message': ""Add ansible-hardening repository\n\nThis patch creates a new repository 'ansible-hardening' that will\neventually replace the 'openstack-ansible-security' repository.\nThere was a discussion on the ML[0] about how the new name will\nsuit the project better and reduce confusion around the goals of the\nproject.\n\nA project/repo rename won't work well since OpenStack-Ansible\nreleases use the git.openstack.org URLs to retrieve code. Keeping\nthe old repo intact will allow older releases to keep working and\nwill avoid disruptions for user workflows outside of OpenStack. All\nnew commits will go into the 'ansible-hardening' respotory and no\nnew commits would be allowed in 'openstack-ansible-security'.\n\nThe new repo should still be under the ownership of the\nopenstack-ansible group since it is tightly integrated with the\nproject.\n\n[0] http://lists.openstack.org/pipermail/openstack-dev/2017-May/116922.html\n\nChange-Id: I208d2d7ed125264efa4266b8927810268345b8ce\n""}, {'number': 6, 'created': '2017-05-24 20:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/365e4dc8516a68f8acedef682f9599124862ff48', 'message': ""Add ansible-hardening repository\n\nThis patch creates a new repository 'ansible-hardening' that will\neventually replace the 'openstack-ansible-security' repository.\nThere was a discussion on the ML[0] about how the new name will\nsuit the project better and reduce confusion around the goals of the\nproject.\n\nA project/repo rename won't work well since OpenStack-Ansible\nreleases use the git.openstack.org URLs to retrieve code. Keeping\nthe old repo intact will allow older releases to keep working and\nwill avoid disruptions for user workflows outside of OpenStack. All\nnew commits will go into the 'ansible-hardening' respotory and no\nnew commits would be allowed in 'openstack-ansible-security'.\n\nThe new repo should still be under the ownership of the\nopenstack-ansible group since it is tightly integrated with the\nproject.\n\n[0] http://lists.openstack.org/pipermail/openstack-dev/2017-May/116922.html\n\nDepends-On: Id533715a62c2fc5561cae0a8d7e7f5d3b0caa3cc\nChange-Id: I208d2d7ed125264efa4266b8927810268345b8ce\n""}, {'number': 7, 'created': '2017-05-25 15:39:23.000000000', 'files': ['gerritbot/channels.yaml', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/628cf0bd3ce9fb8373e26a400e14891454e8efdb', 'message': ""Add ansible-hardening repository\n\nThis patch creates a new repository 'ansible-hardening' that will\neventually replace the 'openstack-ansible-security' repository.\nThere was a discussion on the ML[0] about how the new name will\nsuit the project better and reduce confusion around the goals of the\nproject.\n\nA project/repo rename won't work well since OpenStack-Ansible\nreleases use the git.openstack.org URLs to retrieve code. Keeping\nthe old repo intact will allow older releases to keep working and\nwill avoid disruptions for user workflows outside of OpenStack. All\nnew commits will go into the 'ansible-hardening' respotory and no\nnew commits would be allowed in 'openstack-ansible-security'.\n\nThe new repo should still be under the ownership of the\nopenstack-ansible group since it is tightly integrated with the\nproject.\n\n[0] http://lists.openstack.org/pipermail/openstack-dev/2017-May/116922.html\n\nNeeded-By: Id533715a62c2fc5561cae0a8d7e7f5d3b0caa3cc\nChange-Id: I208d2d7ed125264efa4266b8927810268345b8ce\n""}]",2,467339,628cf0bd3ce9fb8373e26a400e14891454e8efdb,38,7,7,538,,,0,"Add ansible-hardening repository

This patch creates a new repository 'ansible-hardening' that will
eventually replace the 'openstack-ansible-security' repository.
There was a discussion on the ML[0] about how the new name will
suit the project better and reduce confusion around the goals of the
project.

A project/repo rename won't work well since OpenStack-Ansible
releases use the git.openstack.org URLs to retrieve code. Keeping
the old repo intact will allow older releases to keep working and
will avoid disruptions for user workflows outside of OpenStack. All
new commits will go into the 'ansible-hardening' respotory and no
new commits would be allowed in 'openstack-ansible-security'.

The new repo should still be under the ownership of the
openstack-ansible group since it is tightly integrated with the
project.

[0] http://lists.openstack.org/pipermail/openstack-dev/2017-May/116922.html

Needed-By: Id533715a62c2fc5561cae0a8d7e7f5d3b0caa3cc
Change-Id: I208d2d7ed125264efa4266b8927810268345b8ce
",git fetch https://review.opendev.org/openstack/project-config refs/changes/39/467339/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'jenkins/jobs/projects.yaml', 'gerrit/projects.yaml', 'zuul/layout.yaml']",4,9b8c7241f3032683661af2fd791dfac3cce6b57c,new-project, # NOTE(mhayden): This repository will replace openstack-ansible-security in # the future. - name: openstack/ansible-hardening template: - name: merge-check - name: ansible-role-jobs - name: check-requirements - name: openstack-server-publish-jobs - name: release-notes-jobs - name: ansible-role-functional-jobs-centos7 - name: ansible-role-functional-jobs-xenial check: - gate-ansible-hardening-ansible-func_rhel6-ubuntu-trusty - gate-ansible-hardening-ansible-func-debian-jessie-nv gate: - gate-ansible-hardening-ansible-func_rhel6-ubuntu-trusty release: - ansible-hardening-announce-release ,,42,0
openstack%2Fproject-config~master~I49874ca395d2fae173c6054aa9e1d90863460ecb,openstack/project-config,master,I49874ca395d2fae173c6054aa9e1d90863460ecb,Handle traceroute in /usr/sbin,MERGED,2017-05-25 08:10:39.000000000,2017-05-26 07:21:43.000000000,2017-05-26 07:21:43.000000000,"[{'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 6133}, {'_account_id': 6593}, {'_account_id': 8482}]","[{'number': 1, 'created': '2017-05-25 08:10:39.000000000', 'files': ['jenkins/jobs/macros.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9b8c1eb261f4babccb16e1ac5f9be5905e95de13', 'message': 'Handle traceroute in /usr/sbin\n\nopenSUSE installs traceroute in /usr/sbin - but it can run as normal\nuser. Add /usr/sbin to PATH so that the traceroute and traceroute6 calls\nwork for net-info.\n\nChange-Id: I49874ca395d2fae173c6054aa9e1d90863460ecb\n'}]",0,467924,9b8c1eb261f4babccb16e1ac5f9be5905e95de13,9,5,1,6547,,,0,"Handle traceroute in /usr/sbin

openSUSE installs traceroute in /usr/sbin - but it can run as normal
user. Add /usr/sbin to PATH so that the traceroute and traceroute6 calls
work for net-info.

Change-Id: I49874ca395d2fae173c6054aa9e1d90863460ecb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/24/467924/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/macros.yaml'],1,9b8c1eb261f4babccb16e1ac5f9be5905e95de13,traceroute, export PATH=$PATH:/sbin:/usr/sbin, export PATH=$PATH:/sbin,1,1
openstack%2Frally~master~I52a6f494cd9b2c5393e0f069553861d940d7c819,openstack/rally,master,I52a6f494cd9b2c5393e0f069553861d940d7c819,Fix unit test of rally ci,MERGED,2017-05-26 03:10:41.000000000,2017-05-26 07:05:16.000000000,2017-05-26 07:05:16.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}]","[{'number': 1, 'created': '2017-05-26 03:10:41.000000000', 'files': ['tests/unit/plugins/openstack/test_validators.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/24551de4bc160a98be6034a63c63e9d3469a2231', 'message': 'Fix unit test of rally ci\n\nChange-Id: I52a6f494cd9b2c5393e0f069553861d940d7c819\n'}]",0,468260,24551de4bc160a98be6034a63c63e9d3469a2231,7,3,1,21528,,,0,"Fix unit test of rally ci

Change-Id: I52a6f494cd9b2c5393e0f069553861d940d7c819
",git fetch https://review.opendev.org/openstack/rally refs/changes/60/468260/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/unit/plugins/openstack/test_validators.py'],1,24551de4bc160a98be6034a63c63e9d3469a2231,fix.rally.ci," config = {""context"": {""api_versions"": {}}} result = validator.validate(config, self.credentials, None, None)"," result = validator.validate(self.config, self.credentials, None, None)",2,1
openstack%2Fproject-config~master~I846cd43b1f9c5949b656738959b74d60c21c98ef,openstack/project-config,master,I846cd43b1f9c5949b656738959b74d60c21c98ef,explicitly configure the openSUSE mirror paths,MERGED,2017-05-25 18:07:53.000000000,2017-05-26 06:53:41.000000000,2017-05-26 06:53:41.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-05-25 18:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d7593145fdd3264fb11ffc8273b49b182c4ec58e', 'message': 'explicitly configure the openSUSE mirror paths\n\nRather than a sophisticated sed explicitely set the repository\nmirros similarly like for all other distributions.\n\nChange-Id: I846cd43b1f9c5949b656738959b74d60c21c98ef\n'}, {'number': 2, 'created': '2017-05-25 19:03:03.000000000', 'files': ['nodepool/scripts/configure_mirror.sh'], 'web_link': 'https://opendev.org/openstack/project-config/commit/07e15b14a472f29b9feffcacafea96a51503847b', 'message': 'explicitly configure the openSUSE mirror paths\n\nRather than a sophisticated sed explicitely set the repository\nmirros similarly like for all other distributions.\n\nChange-Id: I846cd43b1f9c5949b656738959b74d60c21c98ef\n'}]",2,468118,07e15b14a472f29b9feffcacafea96a51503847b,10,3,2,6593,,,0,"explicitly configure the openSUSE mirror paths

Rather than a sophisticated sed explicitely set the repository
mirros similarly like for all other distributions.

Change-Id: I846cd43b1f9c5949b656738959b74d60c21c98ef
",git fetch https://review.opendev.org/openstack/project-config refs/changes/18/468118/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/scripts/configure_mirror.sh'],1,d7593145fdd3264fb11ffc8273b49b182c4ec58e,,"ZYPPER_REPOS_OPENSUSE_BASE=""\ [repo-oss] name=repo-oss enabled=1 autorefresh=0 baseurl=$NODEPOOL_OPENSUSE_MIRROR/distribution/leap/\$releasever/repo/oss/ type=yast2 keeppackages=0 "" ZYPPER_REPOS_OPENSUSE_UPDATE=""\ [repo-update] name=repo-update enabled=1 autorefresh=0 baseurl=$NODEPOOL_OPENSUSE_MIRROR/update/leap/\$releasever/oss/ type=rpm-md keeppackages=0 "" echo ""$ZYPPER_REPOS_OPENSUSE_BASE"" > /tmp/repo-oss.repo sudo mv /tmp/repo-oss.repo /etc/zypp/repos.d/ echo ""$ZYPPER_REPOS_OPENSUSE_UPDATE"" > /tmp/repo-update.repo sudo mv /tmp/repo-update.repo /etc/zypp/repos.d/ sudo chown root:root /etc/yum.repos.d/* sudo chmod 0644 /etc/yum.repos.d/*"," sudo sed -i -e ""s,http://download.opensuse.org/,$NODEPOOL_OPENSUSE_MIRROR/,"" /etc/zypp/repos.d/*.repo",27,1
openstack%2Fproject-config~master~I64d1744c776c20d906a29e072602c1909853da25,openstack/project-config,master,I64d1744c776c20d906a29e072602c1909853da25,Explicitly clone requirements for bifrost,MERGED,2017-05-25 15:16:07.000000000,2017-05-26 06:53:34.000000000,2017-05-26 06:53:34.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}]","[{'number': 1, 'created': '2017-05-25 15:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1f1a6200d481055cfc0543259262ea4a486df893', 'message': ""Explicitly clone requirements for bifrost\n\nBifrost expects to be able to have a complete folder on\ndisk for accessing the upper-constraint data, as opposed\nto the single file on disk. Retooling to capture/use the\nthe single file will create more alternate paths that must\nbe taken to perform the install and it seems less ideal\nin a deployed environment where the git repository in whole\nprovides some confidence of and history of the file.\n\nSince we don't explicitly clone our own copy in OpenStack CI\nwe will have zuul cloner grab a copy for us.\n\nChange-Id: I64d1744c776c20d906a29e072602c1909853da25\n""}, {'number': 2, 'created': '2017-05-25 15:35:09.000000000', 'files': ['jenkins/jobs/bifrost.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/56b50a2241aba910a34b1b1e9317d331fb9dd7d8', 'message': ""Explicitly clone requirements for bifrost\n\nBifrost expects to be able to have a complete folder on\ndisk for accessing the upper-constraint data, as opposed\nto the single file on disk. Retooling to capture/use the\nthe single file will create more alternate paths that must\nbe taken to perform the install and it seems less ideal\nin a deployed environment where the git repository in whole\nprovides some confidence of and history of the file.\n\nSince we don't explicitly clone our own copy in OpenStack CI\nwe will have zuul cloner grab a copy for us.\n\nChange-Id: I64d1744c776c20d906a29e072602c1909853da25\n""}]",2,468061,56b50a2241aba910a34b1b1e9317d331fb9dd7d8,14,6,2,11655,,,0,"Explicitly clone requirements for bifrost

Bifrost expects to be able to have a complete folder on
disk for accessing the upper-constraint data, as opposed
to the single file on disk. Retooling to capture/use the
the single file will create more alternate paths that must
be taken to perform the install and it seems less ideal
in a deployed environment where the git repository in whole
provides some confidence of and history of the file.

Since we don't explicitly clone our own copy in OpenStack CI
we will have zuul cloner grab a copy for us.

Change-Id: I64d1744c776c20d906a29e072602c1909853da25
",git fetch https://review.opendev.org/openstack/project-config refs/changes/61/468061/2 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/bifrost.yaml'],1,1f1a6200d481055cfc0543259262ea4a486df893,, openstack/python-ironic-inspector-client \ openstack/requirements, openstack/python-ironic-inspector-client,2,1
openstack%2Fproject-config~master~I78aebbe4c624fd6cb3293cb63d8b7830f0c3c372,openstack/project-config,master,I78aebbe4c624fd6cb3293cb63d8b7830f0c3c372,Stop running tests on trusty for ansible-role-zuul,MERGED,2017-05-26 00:33:08.000000000,2017-05-26 06:50:10.000000000,2017-05-26 06:50:10.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-05-26 00:33:08.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cc23fac31e51ecc24ff800e187cefb2a7313d4e5', 'message': 'Stop running tests on trusty for ansible-role-zuul\n\nXenial is stable enough to allow us to only focus on a single LTS for\nubuntu now. This means we also can start to standardize our systemd\nscript.\n\nChange-Id: I78aebbe4c624fd6cb3293cb63d8b7830f0c3c372\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,468222,cc23fac31e51ecc24ff800e187cefb2a7313d4e5,7,3,1,4162,,,0,"Stop running tests on trusty for ansible-role-zuul

Xenial is stable enough to allow us to only focus on a single LTS for
ubuntu now. This means we also can start to standardize our systemd
script.

Change-Id: I78aebbe4c624fd6cb3293cb63d8b7830f0c3c372
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/22/468222/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,cc23fac31e51ecc24ff800e187cefb2a7313d4e5,,, - name: ansible-role-functional-jobs-trusty - name: windmill-jobs-trusty,0,2
openstack%2Fproject-config~master~I7c227b3fe580b2a60aa50a043200f4e4f270a5a3,openstack/project-config,master,I7c227b3fe580b2a60aa50a043200f4e4f270a5a3,Allow nova servers to reach heat services on port 80,MERGED,2017-05-24 18:19:40.000000000,2017-05-26 06:30:52.000000000,2017-05-26 06:30:52.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6593}, {'_account_id': 7118}, {'_account_id': 12404}]","[{'number': 1, 'created': '2017-05-24 18:19:40.000000000', 'files': ['nodepool/elements/nodepool-base/install.d/20-iptables'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d0b3c9076cb3d9c05b86d7a63e90beee1ef5654d', 'message': 'Allow nova servers to reach heat services on port 80\n\nWhen we run heat api services with apache+uwsgi(mod_proxy_uwsgi),\nwe would need the services to be reachable from the neutron public\nnet on port 80.\n\nChange-Id: I7c227b3fe580b2a60aa50a043200f4e4f270a5a3\n'}]",0,467703,d0b3c9076cb3d9c05b86d7a63e90beee1ef5654d,9,5,1,8833,,,0,"Allow nova servers to reach heat services on port 80

When we run heat api services with apache+uwsgi(mod_proxy_uwsgi),
we would need the services to be reachable from the neutron public
net on port 80.

Change-Id: I7c227b3fe580b2a60aa50a043200f4e4f270a5a3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/03/467703/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/nodepool-base/install.d/20-iptables'],1,d0b3c9076cb3d9c05b86d7a63e90beee1ef5654d,,"# Ports 80, 8000, 8003, 8004 from the devstack neutron public net to allow-A openstack-INPUT -s 172.24.4.0/23 -p tcp -m tcp --dport 80 -j ACCEPT","# Ports 8000, 8003, 8004 from the devstack neutron public net to allow",2,1
openstack%2Fpuppet-zaqar~master~Ic72b612fbee61d05215f2fa2d40e55a17ee72f9a,openstack/puppet-zaqar,master,Ic72b612fbee61d05215f2fa2d40e55a17ee72f9a,oslo policy: check puppet resource instead of actual config in spec,MERGED,2017-05-23 07:33:19.000000000,2017-05-26 06:22:37.000000000,2017-05-26 06:22:37.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-05-23 07:33:19.000000000', 'files': ['spec/classes/zaqar_policy_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/10a0d020d1cae34ed1dec0abc63f1eeee825276b', 'message': 'oslo policy: check puppet resource instead of actual config in spec\n\nChange-Id: Ic72b612fbee61d05215f2fa2d40e55a17ee72f9a\n'}]",0,467059,10a0d020d1cae34ed1dec0abc63f1eeee825276b,21,3,1,9414,,,0,"oslo policy: check puppet resource instead of actual config in spec

Change-Id: Ic72b612fbee61d05215f2fa2d40e55a17ee72f9a
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/59/467059/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/zaqar_policy_spec.rb'],1,10a0d020d1cae34ed1dec0abc63f1eeee825276b,standard-oslo-policy-params," is_expected.to contain_oslo__policy('zaqar_config').with( :policy_file => '/etc/zaqar/policy.json', )", is_expected.to contain_zaqar_config('oslo_policy/policy_file').with_value('/etc/zaqar/policy.json'),3,1
openstack%2Fkarbor~master~I2da96890f1d3a3c6d22c7a3812084192e9155c30,openstack/karbor,master,I2da96890f1d3a3c6d22c7a3812084192e9155c30,Updated from global requirements,MERGED,2017-05-26 01:48:34.000000000,2017-05-26 06:17:38.000000000,2017-05-26 06:17:38.000000000,"[{'_account_id': 3}, {'_account_id': 17151}]","[{'number': 1, 'created': '2017-05-26 01:48:34.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/karbor/commit/78eec8b130a029ea172fcddfa4b21b64a325660f', 'message': 'Updated from global requirements\n\nChange-Id: I2da96890f1d3a3c6d22c7a3812084192e9155c30\n'}]",0,468241,78eec8b130a029ea172fcddfa4b21b64a325660f,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I2da96890f1d3a3c6d22c7a3812084192e9155c30
",git fetch https://review.opendev.org/openstack/karbor refs/changes/41/468241/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,78eec8b130a029ea172fcddfa4b21b64a325660f,openstack/requirements,oslo.middleware>=3.27.0 # Apache-2.0,oslo.middleware>=3.10.0 # Apache-2.0,1,1
openstack%2Fcinder~stable%2Focata~I7ff6ae1bc0cd0102c6c22537f4fadacf3697a8be,openstack/cinder,stable/ocata,I7ff6ae1bc0cd0102c6c22537f4fadacf3697a8be,Fix permission error in VNX driver,MERGED,2017-05-21 08:10:36.000000000,2017-05-26 05:54:12.000000000,2017-05-23 19:55:10.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 15831}, {'_account_id': 19146}, {'_account_id': 22510}]","[{'number': 1, 'created': '2017-05-21 08:10:36.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py', 'cinder/volume/drivers/dell_emc/vnx/adapter.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c524798056d52eed5d6d46857eca40d56ebd6ca1', 'message': 'Fix permission error in VNX driver\n\nVNX driver should use the `state_path` instead of home of current\nuser, or we may meet permission error when creating folder for storing\ndata.\n\nChange-Id: I7ff6ae1bc0cd0102c6c22537f4fadacf3697a8be\nCloses-bug: #1688477\n(cherry picked from commit 79bf9310ffdc8b43fa015a620af8d35bad12a546)\n'}]",0,466514,c524798056d52eed5d6d46857eca40d56ebd6ca1,31,8,1,10628,,,0,"Fix permission error in VNX driver

VNX driver should use the `state_path` instead of home of current
user, or we may meet permission error when creating folder for storing
data.

Change-Id: I7ff6ae1bc0cd0102c6c22537f4fadacf3697a8be
Closes-bug: #1688477
(cherry picked from commit 79bf9310ffdc8b43fa015a620af8d35bad12a546)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/466514/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py', 'cinder/volume/drivers/dell_emc/vnx/adapter.py']",3,c524798056d52eed5d6d46857eca40d56ebd6ca1,bug/1688477,"import osfrom oslo_config import cfgCONF = cfg.CONF group_name = ( self.queue_path = os.path.join(CONF.state_path, 'vnx', group_name)", self.queue_path = (,20,1
openstack%2Fcinder~stable%2Focata~If672933e581f06ffcd4c8d64921d061f42de23dc,openstack/cinder,stable/ocata,If672933e581f06ffcd4c8d64921d061f42de23dc,Huawei: disable certificate verification,ABANDONED,2017-04-05 01:12:39.000000000,2017-05-26 05:53:24.000000000,,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15831}, {'_account_id': 17742}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24578}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-04-05 01:12:39.000000000', 'files': ['releasenotes/notes/globally-disble-verification-6354b916c0c47918.yaml', 'cinder/volume/drivers/huawei/rest_client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/74e242dd681dc935d47faed3535900d96cd65d34', 'message': 'Huawei: disable certificate verification\n\nGlobally disable verification by monkeypatching the ssl\nmodule in version of Python that enable certificate verification\nby default for stdlib http clients.\n\nChange-Id: If672933e581f06ffcd4c8d64921d061f42de23dc\nCloses-Bug: #1672288\n(cherry picked from commit 9ed6fac24cb97761d3ec673e6c7f124dfd93cf4d)\n'}]",1,453390,74e242dd681dc935d47faed3535900d96cd65d34,23,19,1,17742,,,0,"Huawei: disable certificate verification

Globally disable verification by monkeypatching the ssl
module in version of Python that enable certificate verification
by default for stdlib http clients.

Change-Id: If672933e581f06ffcd4c8d64921d061f42de23dc
Closes-Bug: #1672288
(cherry picked from commit 9ed6fac24cb97761d3ec673e6c7f124dfd93cf4d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/453390/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/globally-disble-verification-6354b916c0c47918.yaml', 'cinder/volume/drivers/huawei/rest_client.py']",2,74e242dd681dc935d47faed3535900d96cd65d34,bug/1672288,import ssl try: create_unverified_https_context = ssl._create_unverified_context except AttributeError: # Legacy Python that doesn't verify HTTPS certificates by default pass else: # Handle target environment that doesn't support HTTPS verification ssl._create_default_https_context = create_unverified_https_context,,12,0
openstack%2Fheat~master~Id641c3c852aec9ef92f2c6dd16b756937c8ddc1d,openstack/heat,master,Id641c3c852aec9ef92f2c6dd16b756937c8ddc1d,Updated from global requirements,MERGED,2017-05-26 01:47:33.000000000,2017-05-26 05:46:25.000000000,2017-05-26 05:46:25.000000000,"[{'_account_id': 3}, {'_account_id': 12404}]","[{'number': 1, 'created': '2017-05-26 01:47:33.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/heat/commit/367200af5dc71a387d296bb089a01e1a4374b027', 'message': 'Updated from global requirements\n\nChange-Id: Id641c3c852aec9ef92f2c6dd16b756937c8ddc1d\n'}]",0,468238,367200af5dc71a387d296bb089a01e1a4374b027,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Id641c3c852aec9ef92f2c6dd16b756937c8ddc1d
",git fetch https://review.opendev.org/openstack/heat refs/changes/38/468238/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,367200af5dc71a387d296bb089a01e1a4374b027,openstack/requirements,oslo.middleware>=3.27.0 # Apache-2.0,oslo.middleware>=3.10.0 # Apache-2.0,1,1
openstack%2Fsenlin~master~I7e9d0beb9dbc6c36080a1d53636b091486fb7bd1,openstack/senlin,master,I7e9d0beb9dbc6c36080a1d53636b091486fb7bd1,model ClusterRecoverRequest object,ABANDONED,2017-05-25 03:37:03.000000000,2017-05-26 05:31:19.000000000,,"[{'_account_id': 3}, {'_account_id': 8246}]","[{'number': 1, 'created': '2017-05-25 03:37:03.000000000', 'files': ['senlin/objects/fields.py', 'senlin/objects/requests/clusters.py', 'senlin/tests/unit/objects/requests/test_clusters.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/1dc83192089902a7d6eca93502a30dbe02e8f12e', 'message': 'model ClusterRecoverRequest object\n\nthis patch revises the request object to model it, after that\nClusterRecoverRequest object could be controlled by request version.\n\nAfter all support finished, will remove original one and change xxx2\nto xxx.\n\nChange-Id: I7e9d0beb9dbc6c36080a1d53636b091486fb7bd1\n'}]",1,467863,1dc83192089902a7d6eca93502a30dbe02e8f12e,4,2,1,23401,,,0,"model ClusterRecoverRequest object

this patch revises the request object to model it, after that
ClusterRecoverRequest object could be controlled by request version.

After all support finished, will remove original one and change xxx2
to xxx.

Change-Id: I7e9d0beb9dbc6c36080a1d53636b091486fb7bd1
",git fetch https://review.opendev.org/openstack/senlin refs/changes/63/467863/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/objects/fields.py', 'senlin/objects/requests/clusters.py', 'senlin/tests/unit/objects/requests/test_clusters.py']",3,1dc83192089902a7d6eca93502a30dbe02e8f12e,check-desired-api-obj,"class TestClusterRecover2(test_base.SenlinTestCase): params = { 'identity': 'cluster', 'operation': 'RECREATE', 'check': False, 'check_capacity': False, } def test_init(self): sot = clusters.ClusterRecoverRequest2(**self.params) self.assertEqual('cluster', sot.identity) self.assertEqual('RECREATE', sot.operation) self.assertFalse(sot.check) self.assertFalse(sot.check_capacity) def test_init_to_primitive(self): params = copy.deepcopy(self.params) params.pop('operation') params.pop('check_capacity') sot = clusters.ClusterRecoverRequest2(**params) res = sot.obj_to_primitive() obj_changes = res['senlin_object.changes'] self.assertIn('identity', obj_changes) self.assertIn('check', obj_changes) data = res['senlin_object.data'] self.assertFalse(data['check']) self.assertEqual(u'cluster', data['identity']) self.assertEqual('1.2', res['senlin_object.version']) def test_init_full_to_primitive(self): sot = clusters.ClusterRecoverRequest2(**self.params) res = sot.obj_to_primitive() obj_changes = res['senlin_object.changes'] self.assertIn('identity', obj_changes) self.assertIn('operation', obj_changes) self.assertIn('check', obj_changes) self.assertIn('check_capacity', obj_changes) data = res['senlin_object.data'] self.assertFalse(data['check']) self.assertFalse(data['check_capacity']) self.assertEqual(u'cluster', data['identity']) self.assertEqual(u'RECREATE', data['operation']) self.assertEqual('1.2', res['senlin_object.version']) ",,98,1
openstack%2Fsenlin~master~I4772918191281e1de08ba50f46858b646226e2e6,openstack/senlin,master,I4772918191281e1de08ba50f46858b646226e2e6,service support modeled ClusterRecoverRequest obj,ABANDONED,2017-05-25 05:55:12.000000000,2017-05-26 05:28:09.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-05-25 05:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/841b098a23f24fa3b54a24d9d7cc8b06dfea902b', 'message': 'service support modeled ClusterRecoverRequest obj\n\nthis patch adds cluster_recover_2() to support modeled ClusterRecoverRequest\nobject.\n\nChange-Id: I4772918191281e1de08ba50f46858b646226e2e6\n'}, {'number': 2, 'created': '2017-05-25 06:43:34.000000000', 'files': ['senlin/engine/service.py', 'senlin/tests/unit/engine/service/test_clusters.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/8b0e1d6b48a60e88af0a7903e382499d724069c1', 'message': 'service support modeled ClusterRecoverRequest obj\n\nthis patch adds cluster_recover_2() to support modeled ClusterRecoverRequest\nobject.\n\nChange-Id: I4772918191281e1de08ba50f46858b646226e2e6\n'}]",0,467896,8b0e1d6b48a60e88af0a7903e382499d724069c1,5,1,2,23401,,,0,"service support modeled ClusterRecoverRequest obj

this patch adds cluster_recover_2() to support modeled ClusterRecoverRequest
object.

Change-Id: I4772918191281e1de08ba50f46858b646226e2e6
",git fetch https://review.opendev.org/openstack/senlin refs/changes/96/467896/2 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/engine/service.py', 'senlin/tests/unit/engine/service/test_clusters.py']",2,841b098a23f24fa3b54a24d9d7cc8b06dfea902b,check-desired-service-1," @mock.patch.object(am.Action, 'create') @mock.patch.object(co.Cluster, 'find') @mock.patch.object(dispatcher, 'start_action') def test_cluster_recover_2(self, notify, mock_find, mock_action): x_cluster = mock.Mock(id='CID') mock_find.return_value = x_cluster mock_action.return_value = 'ACTION_ID' req = orco.ClusterRecoverRequest2(identity='CID', operation=consts.RECREATE) result = self.eng.cluster_recover_2(self.ctx, req.obj_to_primitive()) self.assertEqual({'action': 'ACTION_ID'}, result) mock_find.assert_called_once_with(self.ctx, 'CID') mock_action.assert_called_once_with( self.ctx, 'CID', consts.CLUSTER_RECOVER, name='cluster_recover_CID', cause=consts.CAUSE_RPC, status=am.Action.READY, inputs={'operation': 'RECREATE'} ) notify.assert_called_once_with() @mock.patch.object(co.Cluster, 'find') def test_cluster_recover_cluster_not_found_2(self, mock_find): mock_find.side_effect = exc.ResourceNotFound(type='cluster', id='Bogus') req = orco.ClusterRecoverRequest2(identity='Bogus') ex = self.assertRaises(rpc.ExpectedException, self.eng.cluster_recover_2, self.ctx, req.obj_to_primitive()) self.assertEqual(exc.ResourceNotFound, ex.exc_info[0]) self.assertEqual(""The cluster 'Bogus' could not be found."", six.text_type(ex.exc_info[1])) mock_find.assert_called_once_with(self.ctx, 'Bogus') @mock.patch.object(am.Action, 'create') @mock.patch.object(co.Cluster, 'find') @mock.patch.object(dispatcher, 'start_action') def test_cluster_recover_user_is_none_2(self, notify, mock_find, mock_action): x_cluster = mock.Mock(id='CID', project='PROJECT') mock_find.return_value = x_cluster mock_action.return_value = 'ACTION_ID' req = orco.ClusterRecoverRequest(identity='CID') result = self.eng.cluster_recover_2(self.ctx, req.obj_to_primitive()) self.assertIsNotNone(x_cluster.user) self.assertEqual({'action': 'ACTION_ID'}, result) mock_find.assert_called_once_with(self.ctx, 'CID') mock_action.assert_called_once_with( self.ctx, 'CID', consts.CLUSTER_RECOVER, name='cluster_recover_CID', cause=consts.CAUSE_RPC, status=am.Action.READY, inputs={}, ) notify.assert_called_once_with() ",,102,0
openstack%2Fsenlin~master~Ief967b961e147ba3aa629b41f7575ec5daaccae0,openstack/senlin,master,Ief967b961e147ba3aa629b41f7575ec5daaccae0,api support modeled ClusterRecoverRequest object,ABANDONED,2017-05-25 06:09:18.000000000,2017-05-26 05:28:03.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-05-25 06:09:18.000000000', 'files': ['senlin/api/openstack/v1/clusters.py', 'senlin/tests/unit/api/openstack/v1/test_clusters.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/06023461d27f6bffefc1b95aed33ea7c46919d3a', 'message': 'api support modeled ClusterRecoverRequest object\n\nthis patch revises api layer to support modeled ClusterRecoverRequest\nobject.\n\nChange-Id: Ief967b961e147ba3aa629b41f7575ec5daaccae0\n'}]",0,467900,06023461d27f6bffefc1b95aed33ea7c46919d3a,3,1,1,23401,,,0,"api support modeled ClusterRecoverRequest object

this patch revises api layer to support modeled ClusterRecoverRequest
object.

Change-Id: Ief967b961e147ba3aa629b41f7575ec5daaccae0
",git fetch https://review.opendev.org/openstack/senlin refs/changes/00/467900/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/api/openstack/v1/clusters.py', 'senlin/tests/unit/api/openstack/v1/test_clusters.py']",2,06023461d27f6bffefc1b95aed33ea7c46919d3a,check-desired-service," 'ClusterRecoverRequest2', req, {'identity': cid, 'op': 'value'}) mock_call.assert_called_once_with( req.context, 'cluster_recover_2', obj) 'ClusterRecoverRequest2', req, {'identity': cid}) 'ClusterRecoverRequest2', req, {'identity': cid}) req.context, 'cluster_recover_2', obj)"," 'ClusterRecoverRequest', req, {'identity': cid, 'params': {'op': 'value'}}) mock_call.assert_called_once_with(req.context, 'cluster_recover', obj) 'ClusterRecoverRequest', req, {'identity': cid, 'params': {}}) 'ClusterRecoverRequest', req, {'identity': cid, 'params': {}}) req.context, 'cluster_recover', obj)",12,9
openstack%2Fsenlin~master~I6272aa8553ecde5e4d91b618b7b482896353c1bc,openstack/senlin,master,I6272aa8553ecde5e4d91b618b7b482896353c1bc,remove useless request obj,ABANDONED,2017-05-25 06:17:19.000000000,2017-05-26 05:27:58.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-05-25 06:17:19.000000000', 'files': ['senlin/objects/requests/clusters.py', 'senlin/tests/unit/objects/requests/test_clusters.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/1f022587bc29a1a62c8f857ace393b4c4ab60734', 'message': 'remove useless request obj\n\nthis patch remove useless request obj.\n\nChange-Id: I6272aa8553ecde5e4d91b618b7b482896353c1bc\n'}]",0,467902,1f022587bc29a1a62c8f857ace393b4c4ab60734,3,1,1,23401,,,0,"remove useless request obj

this patch remove useless request obj.

Change-Id: I6272aa8553ecde5e4d91b618b7b482896353c1bc
",git fetch https://review.opendev.org/openstack/senlin refs/changes/02/467902/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/objects/requests/clusters.py', 'senlin/tests/unit/objects/requests/test_clusters.py']",2,1f022587bc29a1a62c8f857ace393b4c4ab60734,remove-recover-obj,,"class TestClusterRecover(test_base.SenlinTestCase): def test_init(self): sot = clusters.ClusterRecoverRequest(identity='cluster', params={'foo': 'bar'}) self.assertEqual('cluster', sot.identity) self.assertEqual({'foo': 'bar'}, sot.params) def test_init_partial(self): sot = clusters.ClusterRecoverRequest(identity='cluster') self.assertEqual('cluster', sot.identity) self.assertFalse(sot.obj_attr_is_set('params')) ",0,23
openstack%2Fsenlin~master~I850e33bdfc12ac0af5313f6ea942c949c6984eb9,openstack/senlin,master,I850e33bdfc12ac0af5313f6ea942c949c6984eb9,remove useless cluster_recover() in service,ABANDONED,2017-05-25 06:32:26.000000000,2017-05-26 05:27:53.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-05-25 06:32:26.000000000', 'files': ['senlin/engine/service.py', 'senlin/tests/unit/engine/service/test_clusters.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/5c06516defef6ebbf70aa087c19cd5044eaedff2', 'message': 'remove useless cluster_recover() in service\n\nthis patch removes useless cluster_recover() function in engine\nsercive layer.\n\nChange-Id: I850e33bdfc12ac0af5313f6ea942c949c6984eb9\n'}]",0,467907,5c06516defef6ebbf70aa087c19cd5044eaedff2,3,1,1,23401,,,0,"remove useless cluster_recover() in service

this patch removes useless cluster_recover() function in engine
sercive layer.

Change-Id: I850e33bdfc12ac0af5313f6ea942c949c6984eb9
",git fetch https://review.opendev.org/openstack/senlin refs/changes/07/467907/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/engine/service.py', 'senlin/tests/unit/engine/service/test_clusters.py']",2,5c06516defef6ebbf70aa087c19cd5044eaedff2,remove-recover-service,," def test_cluster_recover(self, notify, mock_find, mock_action): x_cluster = mock.Mock(id='CID') mock_find.return_value = x_cluster mock_action.return_value = 'ACTION_ID' req = orco.ClusterRecoverRequest(identity='C1', params={'foo': 'bar'}) result = self.eng.cluster_recover(self.ctx, req.obj_to_primitive()) self.assertEqual({'action': 'ACTION_ID'}, result) mock_find.assert_called_once_with(self.ctx, 'C1') mock_action.assert_called_once_with( self.ctx, 'CID', consts.CLUSTER_RECOVER, name='cluster_recover_CID', cause=consts.CAUSE_RPC, status=am.Action.READY, inputs={'foo': 'bar'}, ) notify.assert_called_once_with() @mock.patch.object(co.Cluster, 'find') def test_cluster_recover_cluster_not_found(self, mock_find): mock_find.side_effect = exc.ResourceNotFound(type='cluster', id='Bogus') req = orco.ClusterRecoverRequest(identity='Bogus') ex = self.assertRaises(rpc.ExpectedException, self.eng.cluster_recover, self.ctx, req.obj_to_primitive()) self.assertEqual(exc.ResourceNotFound, ex.exc_info[0]) self.assertEqual(""The cluster 'Bogus' could not be found."", six.text_type(ex.exc_info[1])) mock_find.assert_called_once_with(self.ctx, 'Bogus') @mock.patch.object(am.Action, 'create') @mock.patch.object(co.Cluster, 'find') @mock.patch.object(dispatcher, 'start_action') def test_cluster_recover_user_is_none(self, notify, mock_find, mock_action): x_cluster = mock.Mock(id='CID', project='PROJECT') mock_find.return_value = x_cluster mock_action.return_value = 'ACTION_ID' req = orco.ClusterRecoverRequest(identity='C1') result = self.eng.cluster_recover(self.ctx, req.obj_to_primitive()) self.assertIsNotNone(x_cluster.user) self.assertEqual({'action': 'ACTION_ID'}, result) mock_find.assert_called_once_with(self.ctx, 'C1') mock_action.assert_called_once_with( self.ctx, 'CID', consts.CLUSTER_RECOVER, name='cluster_recover_CID', cause=consts.CAUSE_RPC, status=am.Action.READY, inputs={}, ) notify.assert_called_once_with() @mock.patch.object(am.Action, 'create') @mock.patch.object(co.Cluster, 'find') @mock.patch.object(dispatcher, 'start_action')",0,93
openstack%2Fpymod2pkg~master~I63c83273d59c230ddad9e02d8ed1446a8620dec2,openstack/pymod2pkg,master,I63c83273d59c230ddad9e02d8ed1446a8620dec2,Add rule for GitPython in RDO,MERGED,2017-05-25 09:49:49.000000000,2017-05-26 05:20:29.000000000,2017-05-26 05:20:29.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}]","[{'number': 1, 'created': '2017-05-25 09:49:49.000000000', 'files': ['pymod2pkg/__init__.py'], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/66978662b68ec9415b4219420ecfc4785e6b3e07', 'message': 'Add rule for GitPython in RDO\n\nIts package name is GitPython.\n\nChange-Id: I63c83273d59c230ddad9e02d8ed1446a8620dec2\n'}]",0,467964,66978662b68ec9415b4219420ecfc4785e6b3e07,9,3,1,13294,,,0,"Add rule for GitPython in RDO

Its package name is GitPython.

Change-Id: I63c83273d59c230ddad9e02d8ed1446a8620dec2
",git fetch https://review.opendev.org/openstack/pymod2pkg refs/changes/64/467964/1 && git format-patch -1 --stdout FETCH_HEAD,['pymod2pkg/__init__.py'],1,66978662b68ec9415b4219420ecfc4785e6b3e07,," SingleRule('GitPython', 'GitPython'),",,1,0
openstack%2Fblazar~master~Icb0ec1a919a06c048e76689a6b92d4d4bedb90e8,openstack/blazar,master,Icb0ec1a919a06c048e76689a6b92d4d4bedb90e8,Updated from global requirements,MERGED,2017-05-24 03:34:34.000000000,2017-05-26 05:00:02.000000000,2017-05-26 05:00:02.000000000,"[{'_account_id': 3}, {'_account_id': 8878}, {'_account_id': 23840}]","[{'number': 1, 'created': '2017-05-24 03:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/05cdd3f5192a53d5e32e9ed8320e6d5c6449c420', 'message': 'Updated from global requirements\n\nChange-Id: Icb0ec1a919a06c048e76689a6b92d4d4bedb90e8\n'}, {'number': 2, 'created': '2017-05-25 16:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/b847a46b766b7cd860e518f7f10738115009f059', 'message': 'Updated from global requirements\n\nChange-Id: Icb0ec1a919a06c048e76689a6b92d4d4bedb90e8\n'}, {'number': 3, 'created': '2017-05-26 01:46:00.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/blazar/commit/ab87b0e0212ce83bfd32e762dd11ee0b374fa164', 'message': 'Updated from global requirements\n\nChange-Id: Icb0ec1a919a06c048e76689a6b92d4d4bedb90e8\n'}]",0,467455,ab87b0e0212ce83bfd32e762dd11ee0b374fa164,11,3,3,11131,,,0,"Updated from global requirements

Change-Id: Icb0ec1a919a06c048e76689a6b92d4d4bedb90e8
",git fetch https://review.opendev.org/openstack/blazar refs/changes/55/467455/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,05cdd3f5192a53d5e32e9ed8320e6d5c6449c420,openstack/requirements,oslo.db>=4.21.1 # Apache-2.0,oslo.db>=4.19.0 # Apache-2.0,1,1
openstack%2Fnova~stable%2Fnewton~I8ccc5b30ccdbd16a90165a4a8a33e081ae23736c,openstack/nova,stable/newton,I8ccc5b30ccdbd16a90165a4a8a33e081ae23736c,Fixed suspend for PCI passthrough,MERGED,2017-05-04 11:23:30.000000000,2017-05-26 04:54:16.000000000,2017-05-26 04:54:16.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 15334}]","[{'number': 1, 'created': '2017-05-04 11:23:30.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b4bbe68e279aa94aa71aef1a3879d42bf90d3170', 'message': 'Fixed suspend for PCI passthrough\n\nThe VNIC_TYPE_DIRECT_PHYSICAL was being ignored by the _has_sriov_port()\nmethod.\n\nThe fix is to also check for VNIC_TYPE_DIRECT_PHYSICAL so that PF\ndevices are unplugged.\n\nChange-Id: I8ccc5b30ccdbd16a90165a4a8a33e081ae23736c\nCloses-Bug: #1623089\n(cherry picked from commit 8568cb4ce162661f2e9bab4524e4f5adb299549c)\n'}]",0,462503,b4bbe68e279aa94aa71aef1a3879d42bf90d3170,28,5,1,7730,,,0,"Fixed suspend for PCI passthrough

The VNIC_TYPE_DIRECT_PHYSICAL was being ignored by the _has_sriov_port()
method.

The fix is to also check for VNIC_TYPE_DIRECT_PHYSICAL so that PF
devices are unplugged.

Change-Id: I8ccc5b30ccdbd16a90165a4a8a33e081ae23736c
Closes-Bug: #1623089
(cherry picked from commit 8568cb4ce162661f2e9bab4524e4f5adb299549c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/462503/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,b4bbe68e279aa94aa71aef1a3879d42bf90d3170,bug/1623089," def test_attach_sriov_direct_physical_ports(self, mock_get_image_metadata, mock_ID, mock_attachDevice): instance = objects.Instance(**self.test_instance) network_info = _fake_network_info(self, 1) network_info[0]['vnic_type'] = network_model.VNIC_TYPE_DIRECT_PHYSICAL guest = libvirt_guest.Guest(FakeVirtDomain()) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr._attach_sriov_ports(self.context, instance, guest, network_info) mock_get_image_metadata.assert_called_once_with( instance.system_metadata) self.assertTrue(mock_attachDevice.called) @mock.patch.object(FakeVirtDomain, 'attachDeviceFlags') @mock.patch.object(FakeVirtDomain, 'ID', return_value=1) @mock.patch.object(utils, 'get_image_from_system_metadata', return_value=None)",,22,1
openstack%2Fblazar~master~I2598c6ad24fe4df172db56b79f4aaa4a96a2d23e,openstack/blazar,master,I2598c6ad24fe4df172db56b79f4aaa4a96a2d23e,Replace deprecated tempest decorators,MERGED,2017-04-21 05:35:14.000000000,2017-05-26 04:50:35.000000000,2017-05-26 04:50:35.000000000,"[{'_account_id': 3}, {'_account_id': 8878}, {'_account_id': 13192}, {'_account_id': 15197}, {'_account_id': 19316}, {'_account_id': 22255}]","[{'number': 1, 'created': '2017-04-21 05:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/4b324bbd118f32face9477d2a22e9fad3944aa73', 'message': ""Replace deprecated tempest decorators\n\nFunction 'tempest.test.attr()' has moved to 'tempest.lib.decorators\n.attr()' in Pike and will be removed in a future version[1].\nThis patch replaces the 'tempest.test.attr()' with the 'tempest.lib\n.decorators.attr().'\n\n[1] Iaafbb112b6eee458089cc49918359a8a8d0485e2\n\nChange-Id: I2598c6ad24fe4df172db56b79f4aaa4a96a2d23e\n""}, {'number': 2, 'created': '2017-05-17 03:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/8eea5e6682b06845e473736ea59b1830911758fa', 'message': ""Replace deprecated tempest decorators\n\nFunction 'tempest.test.attr()' has moved to 'tempest.lib.decorators\n.attr()' in Pike and will be removed in a future version[1].\nThis patch replaces the 'tempest.test.attr()' with the 'tempest.lib\n.decorators.attr().'\n\n[1] Iaafbb112b6eee458089cc49918359a8a8d0485e2\n\nChange-Id: I2598c6ad24fe4df172db56b79f4aaa4a96a2d23e\n""}, {'number': 3, 'created': '2017-05-23 18:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/4f785288c1be378dcb96853f3e6bb0365bbc5a8e', 'message': ""Replace deprecated tempest decorators\n\nThe function 'tempest.test.attr()' has been moved in Pike to\n'tempest.lib.decorators.attr()' and will be removed in a future\nversion[1]. This patch replaces 'tempest.test.attr()' with\n'tempest.lib.decorators.attr().'\n\n[1] Iaafbb112b6eee458089cc49918359a8a8d0485e2\n\nChange-Id: I2598c6ad24fe4df172db56b79f4aaa4a96a2d23e\n""}, {'number': 4, 'created': '2017-05-23 18:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/60995a2c1ed04adfe30090673d6ad23ac3f908e2', 'message': ""Replace deprecated tempest decorators\n\nThe function 'tempest.test.attr()' has been moved in Pike to\n'tempest.lib.decorators.attr()' and will be removed in a future\nversion[1]. This patch replaces 'tempest.test.attr()' with\n'tempest.lib.decorators.attr().'\n\n[1] Iaafbb112b6eee458089cc49918359a8a8d0485e2\n\nChange-Id: I2598c6ad24fe4df172db56b79f4aaa4a96a2d23e\n""}, {'number': 5, 'created': '2017-05-26 00:20:30.000000000', 'files': ['contrib/tempest/tempest/scenario/test_host_reservation.py', 'contrib/tempest/tempest/scenario/test_instance_reservation.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/7b8d6765c57e12a559f8a79dbd80130685f75c08', 'message': ""Replace deprecated tempest decorators\n\nThe function 'tempest.test.attr()' has been moved in Pike to\n'tempest.lib.decorators.attr()' and will be removed in a future\nversion[1]. This patch replaces 'tempest.test.attr()' with\n'tempest.lib.decorators.attr().'\n\n[1] Iaafbb112b6eee458089cc49918359a8a8d0485e2\n\nChange-Id: I2598c6ad24fe4df172db56b79f4aaa4a96a2d23e\n""}]",0,458726,7b8d6765c57e12a559f8a79dbd80130685f75c08,20,6,5,23840,,,0,"Replace deprecated tempest decorators

The function 'tempest.test.attr()' has been moved in Pike to
'tempest.lib.decorators.attr()' and will be removed in a future
version[1]. This patch replaces 'tempest.test.attr()' with
'tempest.lib.decorators.attr().'

[1] Iaafbb112b6eee458089cc49918359a8a8d0485e2

Change-Id: I2598c6ad24fe4df172db56b79f4aaa4a96a2d23e
",git fetch https://review.opendev.org/openstack/blazar refs/changes/26/458726/2 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/tempest/tempest/scenario/test_host_reservation.py', 'contrib/tempest/tempest/scenario/test_instance_reservation.py']",2,4b324bbd118f32face9477d2a22e9fad3944aa73,tempest-update, @decorators.attr(type='slow'), @test.attr(type='slow'),3,3
openstack%2Fzun~master~I00a4b6f739810de9d2feb71d0a95adf9af97c77b,openstack/zun,master,I00a4b6f739810de9d2feb71d0a95adf9af97c77b,Updated from global requirements,MERGED,2017-05-26 01:59:05.000000000,2017-05-26 04:41:18.000000000,2017-05-26 04:41:18.000000000,"[{'_account_id': 3}, {'_account_id': 11536}, {'_account_id': 16277}]","[{'number': 1, 'created': '2017-05-26 01:59:05.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/zun/commit/98dfe6c9e05e3c20c65dd8525d4bc48f2c5a8fa8', 'message': 'Updated from global requirements\n\nChange-Id: I00a4b6f739810de9d2feb71d0a95adf9af97c77b\n'}]",0,468251,98dfe6c9e05e3c20c65dd8525d4bc48f2c5a8fa8,8,3,1,11131,,,0,"Updated from global requirements

Change-Id: I00a4b6f739810de9d2feb71d0a95adf9af97c77b
",git fetch https://review.opendev.org/openstack/zun refs/changes/51/468251/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,98dfe6c9e05e3c20c65dd8525d4bc48f2c5a8fa8,openstack/requirements,oslo.middleware>=3.27.0 # Apache-2.0,oslo.middleware>=3.10.0 # Apache-2.0,1,1
openstack%2Fironic~master~I74396db92c9b2b978940f567919cc70fe1a26b2a,openstack/ironic,master,I74396db92c9b2b978940f567919cc70fe1a26b2a,Updated from global requirements,MERGED,2017-05-23 11:50:27.000000000,2017-05-26 04:40:43.000000000,2017-05-24 22:49:17.000000000,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 12356}, {'_account_id': 17998}, {'_account_id': 19339}, {'_account_id': 20035}]","[{'number': 1, 'created': '2017-05-23 11:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/74e492f11a4fff0fee0ba8fa0b11573e855a384c', 'message': 'Updated from global requirements\n\nChange-Id: I74396db92c9b2b978940f567919cc70fe1a26b2a\n'}, {'number': 2, 'created': '2017-05-23 16:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/87a3b1fbfae35388639aa2eeb33746330edcb9c7', 'message': 'Updated from global requirements\n\nChange-Id: I74396db92c9b2b978940f567919cc70fe1a26b2a\n'}, {'number': 3, 'created': '2017-05-24 03:36:53.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7af1da47ca803dfede1291d5e3d663ef5480cc5b', 'message': 'Updated from global requirements\n\nChange-Id: I74396db92c9b2b978940f567919cc70fe1a26b2a\n'}]",0,467148,7af1da47ca803dfede1291d5e3d663ef5480cc5b,37,7,3,11131,,,0,"Updated from global requirements

Change-Id: I74396db92c9b2b978940f567919cc70fe1a26b2a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/48/467148/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,74e492f11a4fff0fee0ba8fa0b11573e855a384c,openstack/requirements,"oslo.i18n!=3.15.2,>=2.1.0 # Apache-2.0",oslo.i18n>=2.1.0 # Apache-2.0,1,1
openstack%2Fnova~master~I7c38b068ca2264470a211f8121fdb55dede1fdfd,openstack/nova,master,I7c38b068ca2264470a211f8121fdb55dede1fdfd,Add policy description for networks_associate,MERGED,2017-05-17 08:00:15.000000000,2017-05-26 04:15:24.000000000,2017-05-25 09:20:10.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 16128}]","[{'number': 1, 'created': '2017-05-17 08:00:15.000000000', 'files': ['nova/policies/networks_associate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/62b2b670a239872666dd3d18ebbb80606b78ad9f', 'message': 'Add policy description for networks_associate\n\nThis commit adds policy doc for networks_associate policies.\n\nPartial implement blueprint policy-docs\n\nChange-Id: I7c38b068ca2264470a211f8121fdb55dede1fdfd\n'}]",0,465443,62b2b670a239872666dd3d18ebbb80606b78ad9f,43,10,1,8556,,,0,"Add policy description for networks_associate

This commit adds policy doc for networks_associate policies.

Partial implement blueprint policy-docs

Change-Id: I7c38b068ca2264470a211f8121fdb55dede1fdfd
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/465443/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/policies/networks_associate.py'],1,62b2b670a239872666dd3d18ebbb80606b78ad9f,bp/policy-docs," base.create_rule_default( BASE_POLICY_NAME, base.RULE_ADMIN_API, """"""Associates and Disassociates a network from a host or project. These APIs are only available with nova-network which is deprecated."""""", [ { 'method': 'POST', 'path': '/os-networks/{network_id}/action (disassociate_host)' }, { 'method': 'POST', 'path': '/os-networks/{network_id}/action' ' (disassociate_project)' }, { 'method': 'POST', 'path': '/os-networks/{network_id}/action (associate_host)' } ]),","from oslo_policy import policy policy.RuleDefault( name=BASE_POLICY_NAME, check_str=base.RULE_ADMIN_API),",21,5
openstack%2Fironic~master~Ie2f8b844c001687ac6aca0cc47cb55315cafd949,openstack/ironic,master,Ie2f8b844c001687ac6aca0cc47cb55315cafd949,[WIP] Move power state wait loop to utils and use it in Redfish and IPMI,ABANDONED,2017-05-23 14:01:51.000000000,2017-05-26 04:10:35.000000000,,"[{'_account_id': 3}, {'_account_id': 6773}, {'_account_id': 10118}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19339}]","[{'number': 1, 'created': '2017-05-23 14:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a598a43cb481116863b3f8ab88c429cbbc869d1e', 'message': '[WIP] Move power state wait loop to utils and use it in Redfish and IPMI\n\nCloses-Bug: #1692895\nChange-Id: Ie2f8b844c001687ac6aca0cc47cb55315cafd949\n'}, {'number': 2, 'created': '2017-05-23 14:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/821915b1e11a22eec36541d8d88bf0a13d58bf43', 'message': '[WIP] Move power state wait loop to utils and use it in Redfish and IPMI\n\nCloses-Bug: #1692895\nChange-Id: Ie2f8b844c001687ac6aca0cc47cb55315cafd949\n'}, {'number': 3, 'created': '2017-05-24 08:11:36.000000000', 'files': ['ironic/drivers/modules/redfish/power.py', 'ironic/conductor/utils.py', 'releasenotes/notes/power-wait-e3d21c27801cb6aa.yaml', 'ironic/drivers/modules/ipmitool.py', 'ironic/conf/redfish.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/295f8780a76a6702f3d0bb85c01c9ddf92d380bc', 'message': '[WIP] Move power state wait loop to utils and use it in Redfish and IPMI\n\nCurrently, the Redfish driver misses waiting for the power state to be applied,\nso it always reports success instantly, as long as the request succeeds.\nThis is not consistent with how other drivers work.\n\nThis patch extracts the power wait loop from the ipmitool driver, and moves\nit to conductor utils to stop copy-pasting it further.\n\nAs a side effect, the Redfish driver starts respecting the ""timeout"" option.\n\nCloses-Bug: #1692895\nChange-Id: Ie2f8b844c001687ac6aca0cc47cb55315cafd949\n'}]",0,467247,295f8780a76a6702f3d0bb85c01c9ddf92d380bc,16,6,3,10239,,,0,"[WIP] Move power state wait loop to utils and use it in Redfish and IPMI

Currently, the Redfish driver misses waiting for the power state to be applied,
so it always reports success instantly, as long as the request succeeds.
This is not consistent with how other drivers work.

This patch extracts the power wait loop from the ipmitool driver, and moves
it to conductor utils to stop copy-pasting it further.

As a side effect, the Redfish driver starts respecting the ""timeout"" option.

Closes-Bug: #1692895
Change-Id: Ie2f8b844c001687ac6aca0cc47cb55315cafd949
",git fetch https://review.opendev.org/openstack/ironic refs/changes/47/467247/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/power.py', 'ironic/conductor/utils.py', 'ironic/drivers/modules/ipmitool.py', 'ironic/conf/redfish.py']",4,a598a43cb481116863b3f8ab88c429cbbc869d1e,bug/1692895," 'connect to Redfish')), cfg.IntOpt('power_retry_timeout', min=2, default=30, help=_('Number of seconds to wait for power operations to ' 'finish before timing out')),", 'connect to Redfish')),80,72
openstack%2Fpuppet-ec2api~master~I0767568c4a2f6cd61207d500549a2a3770f72c37,openstack/puppet-ec2api,master,I0767568c4a2f6cd61207d500549a2a3770f72c37,oslo policy: check puppet resource instead of actual config in spec,MERGED,2017-05-23 06:10:19.000000000,2017-05-26 04:05:50.000000000,2017-05-26 04:05:50.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-05-23 06:10:19.000000000', 'files': ['spec/classes/ec2api_policy_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/ef62061b65a984fc685530886bc5d75f13c67070', 'message': 'oslo policy: check puppet resource instead of actual config in spec\n\nChange-Id: I0767568c4a2f6cd61207d500549a2a3770f72c37\n'}]",0,467022,ef62061b65a984fc685530886bc5d75f13c67070,19,3,1,9414,,,0,"oslo policy: check puppet resource instead of actual config in spec

Change-Id: I0767568c4a2f6cd61207d500549a2a3770f72c37
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/22/467022/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/ec2api_policy_spec.rb'],1,ef62061b65a984fc685530886bc5d75f13c67070,standard-oslo-policy-params," is_expected.to contain_oslo__policy('ec2api_config').with( :policy_file => '/etc/ec2api/policy.json', )", is_expected.to contain_ec2api_config('oslo_policy/policy_file').with_value('/etc/ec2api/policy.json'),3,1
openstack%2Fzun-ui~master~I452449e6cf8dd5c150f5ff0843ce5babfface6ea,openstack/zun-ui,master,I452449e6cf8dd5c150f5ff0843ce5babfface6ea,Add images panel into admin dashboard,MERGED,2017-05-25 07:33:55.000000000,2017-05-26 03:53:15.000000000,2017-05-26 03:53:15.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 12385}, {'_account_id': 22076}]","[{'number': 1, 'created': '2017-05-25 07:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/ac3a20d770dc87cd9b55b88631511abdfb93189c', 'message': 'Add images panel into admin dashboard\n\nThis patch adds images panel with pull action.\n\nChange-Id: I452449e6cf8dd5c150f5ff0843ce5babfface6ea\nImplements: blueprint add-images-panel\n'}, {'number': 2, 'created': '2017-05-25 07:51:45.000000000', 'files': ['zun_ui/static/dashboard/container/images/images.module.js', 'zun_ui/static/dashboard/container/container.module.js', 'zun_ui/static/dashboard/container/images/actions.module.js', 'README.rst', 'zun_ui/api/client.py', 'zun_ui/static/dashboard/container/zun.service.js', 'zun_ui/static/dashboard/container/images/images.service.js', 'zun_ui/enabled/_2331_admin_container_images_panel.py', 'zun_ui/content/container/images/panel.py', 'doc/source/index.rst', 'zun_ui/api/rest_api.py', 'zun_ui/content/container/images/__init__.py', 'zun_ui/static/dashboard/container/images/drawer.html', 'zun_ui/static/dashboard/container/images/actions/workflow.service.js', 'zun_ui/content/container/images/urls.py', 'zun_ui/static/dashboard/container/images/panel.html', 'zun_ui/enabled/_2330_admin_container_panelgroup.py', 'zun_ui/static/dashboard/container/images/actions/create.service.js'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/6d7a8dc3bfca7d4428d72be69bfc10fceb23b6f7', 'message': 'Add images panel into admin dashboard\n\nThis patch adds images panel with pull action.\n\nTo enable images panel, copy enabled files:\n* zun_ui/enabled/_2330_project_container_panelgroup.py\n* zun_ui/enabled/_2331_project_container_images_panel.py\n\ninto horizon:\n* openstack_dashboard/local/enabled/\n\nChange-Id: I452449e6cf8dd5c150f5ff0843ce5babfface6ea\nImplements: blueprint add-images-panel\n'}]",0,467916,6d7a8dc3bfca7d4428d72be69bfc10fceb23b6f7,9,5,2,16352,,,0,"Add images panel into admin dashboard

This patch adds images panel with pull action.

To enable images panel, copy enabled files:
* zun_ui/enabled/_2330_project_container_panelgroup.py
* zun_ui/enabled/_2331_project_container_images_panel.py

into horizon:
* openstack_dashboard/local/enabled/

Change-Id: I452449e6cf8dd5c150f5ff0843ce5babfface6ea
Implements: blueprint add-images-panel
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/16/467916/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun_ui/static/dashboard/container/images/images.module.js', 'zun_ui/static/dashboard/container/container.module.js', 'zun_ui/static/dashboard/container/images/actions.module.js', 'zun_ui/api/client.py', 'zun_ui/static/dashboard/container/zun.service.js', 'zun_ui/static/dashboard/container/images/images.service.js', 'zun_ui/enabled/_2331_admin_container_images_panel.py', 'zun_ui/content/container/images/panel.py', 'zun_ui/api/rest_api.py', 'zun_ui/content/container/images/__init__.py', 'zun_ui/static/dashboard/container/images/drawer.html', 'zun_ui/static/dashboard/container/images/actions/workflow.service.js', 'zun_ui/content/container/images/urls.py', 'zun_ui/static/dashboard/container/images/panel.html', 'zun_ui/enabled/_2330_admin_container_panelgroup.py', 'zun_ui/static/dashboard/container/images/actions/create.service.js']",16,ac3a20d770dc87cd9b55b88631511abdfb93189c,bp/add-images-panel,"/** * Licensed under the Apache License, Version 2.0 (the ""License""); you may * not use this file except in compliance with the License. You may obtain * a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * License for the specific language governing permissions and limitations * under the License. */ (function() { 'use strict'; /** * @ngdoc factory * @name horizon.dashboard.container.images.create.service * @description * Service for the pull image modal */ angular .module('horizon.dashboard.container.images.actions') .factory('horizon.dashboard.container.images.actions.create.service', createImageService); createImageService.$inject = [ 'horizon.app.core.openstack-service-api.policy', 'horizon.app.core.openstack-service-api.zun', 'horizon.dashboard.container.images.actions.workflow', 'horizon.dashboard.container.images.resourceType', 'horizon.framework.util.actions.action-result.service', 'horizon.framework.util.i18n.gettext', 'horizon.framework.util.q.extensions', 'horizon.framework.widgets.form.ModalFormService', 'horizon.framework.widgets.toast.service' ]; function createImageService( policy, zun, workflow, resourceType, actionResult, gettext, $qExtensions, modal, toast ) { var message = { success: gettext('Image %s was successfully pulled.') }; var service = { initAction: initAction, perform: perform, allowed: allowed }; return service; ////////////// function initAction() { } function perform() { var title, submitText; title = gettext('Pull Image'); submitText = gettext('Pull'); var config = workflow.init('create', title, submitText); return modal.open(config).then(submit); } function allowed() { return policy.ifAllowed({ rules: [['image', 'pull_image']] }); } function submit(context) { return zun.pullImage(context.model, true).then(success, true); } function success(response) { toast.add('success', interpolate(message.success, [response.data.id])); var result = actionResult.getActionResult().created(resourceType, response.data.name); return result.result; } } })(); ",,587,1
openstack%2Fcharm-designate~master~Ie8d7012036765488eee701423814b314416d2bf8,openstack/charm-designate,master,Ie8d7012036765488eee701423814b314416d2bf8,Add support for enable_host_header parameter.,MERGED,2017-05-23 15:33:23.000000000,2017-05-26 03:45:19.000000000,2017-05-26 03:45:19.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}]","[{'number': 1, 'created': '2017-05-23 15:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/fc6be23dc2929c2c01d63653f107eb8ca080bead', 'message': ""I've added support for 'enable_host_header' parameter.\n\nChange-Id: Ie8d7012036765488eee701423814b314416d2bf8\nCloses-Bug: 1692922\nRelated-Bug: 1691452\n""}, {'number': 2, 'created': '2017-05-25 21:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/16bed62b47a4123d1682d3af320cca59c336d5e9', 'message': ""I've added support for 'enable_host_header' parameter.\n\nChange-Id: Ie8d7012036765488eee701423814b314416d2bf8\nCloses-Bug: 1692922\nRelated-Bug: 1691452\n""}, {'number': 3, 'created': '2017-05-25 23:04:04.000000000', 'files': ['src/config.yaml', 'src/templates/mitaka/designate.conf'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/2e8eab733c1337ab7a15d892777036fbc86cf5e7', 'message': 'Add support for enable_host_header parameter.\n\nAdd config option and template setting.\n\nChange-Id: Ie8d7012036765488eee701423814b314416d2bf8\nCloses-Bug: 1692922\nRelated-Bug: 1691452\n'}]",1,467287,2e8eab733c1337ab7a15d892777036fbc86cf5e7,19,4,3,24504,,,0,"Add support for enable_host_header parameter.

Add config option and template setting.

Change-Id: Ie8d7012036765488eee701423814b314416d2bf8
Closes-Bug: 1692922
Related-Bug: 1691452
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/87/467287/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/templates/mitaka/designate.conf']",2,fc6be23dc2929c2c01d63653f107eb8ca080bead,bug/1692922,enable_host_header = '{{ options.enable_host_header }}',#enable_host_header = False,5,1
openstack%2Fironic~master~I47089e215f730b3990004a66e0f35262a5f9d9bd,openstack/ironic,master,I47089e215f730b3990004a66e0f35262a5f9d9bd,Use cfg.URIOpt for URLs with required schemes,MERGED,2017-05-24 11:08:02.000000000,2017-05-26 03:44:37.000000000,2017-05-26 02:42:21.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 13636}, {'_account_id': 19339}, {'_account_id': 20035}]","[{'number': 1, 'created': '2017-05-24 11:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5e370dd7f0375e8120481c18f77443b4709f3c89', 'message': ""Use cfg.URIOpt for URLs\n\nreplace specifying URL config options as StrOpt with regex enforcing\nthe string starting with 'http://' or 'https://' with URIOpt specifying\nallowed URI schemes.\n\nURIOpt is already presect in minimal version of oslo.config that is\nrequired by ironic.\n\nChange-Id: I47089e215f730b3990004a66e0f35262a5f9d9bd\n""}, {'number': 2, 'created': '2017-05-24 11:10:42.000000000', 'files': ['ironic/conf/conductor.py', 'etc/ironic/ironic.conf.sample', 'ironic/conf/cinder.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/13d91bd7b43e0e1a931fe6b5f7338a64b627ff50', 'message': ""Use cfg.URIOpt for URLs with required schemes\n\ninstead of specifying URL config options as StrOpt + regex enforcing\nthe string starting with 'http://' or 'https://'.\n\nURIOpt is already available in minimal version of oslo.config that is\nrequired by ironic.\n\nChange-Id: I47089e215f730b3990004a66e0f35262a5f9d9bd\n""}]",0,467586,13d91bd7b43e0e1a931fe6b5f7338a64b627ff50,18,6,2,9542,,,0,"Use cfg.URIOpt for URLs with required schemes

instead of specifying URL config options as StrOpt + regex enforcing
the string starting with 'http://' or 'https://'.

URIOpt is already available in minimal version of oslo.config that is
required by ironic.

Change-Id: I47089e215f730b3990004a66e0f35262a5f9d9bd
",git fetch https://review.opendev.org/openstack/ironic refs/changes/86/467586/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/conductor.py', 'etc/ironic/ironic.conf.sample', 'ironic/conf/cinder.py']",3,5e370dd7f0375e8120481c18f77443b4709f3c89,uri-opt," cfg.URIOpt('url', schemes=('http', 'https'), return auth.add_auth_opts(opts)"," cfg.StrOpt('url', regex='^http(s?):\/\/.+', # NOTE(jtaryma): Function add_auth_opts uses deepcopy on passed array. # Since deepcopy does not support regex, to enable regex # protocol restriction for 'url' option, empty array is # passed. The result is appended to opts array and resorted. cinder_opts = opts + auth.add_auth_opts([]) cinder_opts.sort(key=lambda x: x.name) return cinder_opts",7,13
openstack%2Ftacker~master~I506705fba54294babd3d6837a7fb078f7db77d1b,openstack/tacker,master,I506705fba54294babd3d6837a7fb078f7db77d1b,Updated from global requirements,MERGED,2017-05-26 01:58:11.000000000,2017-05-26 03:25:16.000000000,2017-05-26 03:25:15.000000000,"[{'_account_id': 3}, {'_account_id': 2874}]","[{'number': 1, 'created': '2017-05-26 01:58:11.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tacker/commit/f83728f1692892702be3b67240c5770ff4a74b76', 'message': 'Updated from global requirements\n\nChange-Id: I506705fba54294babd3d6837a7fb078f7db77d1b\n'}]",0,468250,f83728f1692892702be3b67240c5770ff4a74b76,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I506705fba54294babd3d6837a7fb078f7db77d1b
",git fetch https://review.opendev.org/openstack/tacker refs/changes/50/468250/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,f83728f1692892702be3b67240c5770ff4a74b76,openstack/requirements,oslo.middleware>=3.27.0 # Apache-2.0,oslo.middleware>=3.10.0 # Apache-2.0,1,1
openstack%2Fkarbor~master~I41695f5148a8b7c9d412e43dec66dc895e77fde0,openstack/karbor,master,I41695f5148a8b7c9d412e43dec66dc895e77fde0,Replace assertRaisesRegexp with assertRaisesRegex,MERGED,2017-05-19 12:33:49.000000000,2017-05-26 03:17:00.000000000,2017-05-26 03:17:00.000000000,"[{'_account_id': 3}, {'_account_id': 17151}, {'_account_id': 18266}, {'_account_id': 20883}]","[{'number': 1, 'created': '2017-05-19 12:33:49.000000000', 'files': ['karbor/tests/unit/operationengine/engine/triggers/timetrigger/test_time_trigger.py', 'karbor/tests/unit/operationengine/engine/triggers/timetrigger/timeformats/test_crontab_time.py', 'karbor/tests/unit/operationengine/engine/triggers/test_trigger_manager.py', 'karbor/tests/unit/operationengine/engine/triggers/timetrigger/timeformats/test_calendar_time.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/994eb4e881c70b22e33b6ee70d0a850f839e532a', 'message': 'Replace assertRaisesRegexp with assertRaisesRegex\n\nThis replaces the deprecated (in python 3.2) unittest.TestCase\nmethod assertRaisesRegexp() with assertRaisesRegex()\n\nChange-Id: I41695f5148a8b7c9d412e43dec66dc895e77fde0\n'}]",0,466270,994eb4e881c70b22e33b6ee70d0a850f839e532a,10,4,1,20401,,,0,"Replace assertRaisesRegexp with assertRaisesRegex

This replaces the deprecated (in python 3.2) unittest.TestCase
method assertRaisesRegexp() with assertRaisesRegex()

Change-Id: I41695f5148a8b7c9d412e43dec66dc895e77fde0
",git fetch https://review.opendev.org/openstack/karbor refs/changes/70/466270/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/tests/unit/operationengine/engine/triggers/timetrigger/test_time_trigger.py', 'karbor/tests/unit/operationengine/engine/triggers/timetrigger/timeformats/test_crontab_time.py', 'karbor/tests/unit/operationengine/engine/triggers/test_trigger_manager.py', 'karbor/tests/unit/operationengine/engine/triggers/timetrigger/timeformats/test_calendar_time.py']",4,994eb4e881c70b22e33b6ee70d0a850f839e532a,RaisesRegex," self.assertRaisesRegex(exception.InvalidInput, regexp, calendar_time.ICal.check_time_format, pattern) self.assertRaisesRegex(exception.InvalidInput, regexp, calendar_time.ICal.check_time_format, pattern) self.assertRaisesRegex(exception.InvalidInput, regexp, calendar_time.ICal.check_time_format, pattern)"," self.assertRaisesRegexp(exception.InvalidInput, regexp, calendar_time.ICal.check_time_format, pattern) self.assertRaisesRegexp(exception.InvalidInput, regexp, calendar_time.ICal.check_time_format, pattern) self.assertRaisesRegexp(exception.InvalidInput, regexp, calendar_time.ICal.check_time_format, pattern)",71,71
openstack%2Fmanila~stable%2Focata~Iedad15e077c0537e133f81e6d537798482789160,openstack/manila,stable/ocata,Iedad15e077c0537e133f81e6d537798482789160,Handle SSL from VNX driver,MERGED,2017-03-29 01:05:40.000000000,2017-05-26 03:15:27.000000000,2017-05-25 16:20:06.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 10628}, {'_account_id': 11047}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 23317}]","[{'number': 1, 'created': '2017-03-29 01:05:40.000000000', 'files': ['manila/share/drivers/dell_emc/driver.py', 'manila/share/drivers/dell_emc/plugins/vnx/utils.py', 'releasenotes/notes/vnx-ssl-verification-2d26a24e7e73bf81.yaml', 'manila/tests/share/drivers/dell_emc/plugins/vnx/test_utils.py', 'manila/share/drivers/dell_emc/plugins/vnx/connector.py', 'manila/tests/share/drivers/dell_emc/plugins/vnx/test_connector.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/b3f7f12fcf11aa07cb1b4e97bc11fdb248ba2233', 'message': 'Handle SSL from VNX driver\n\nFrom python 2.7.9 on, the ssl verification is enabled by default,\nThis commit adds 2 options for VNX Manila driver, so user is able\nto control the ssl verification.\n\nCloses-bug: 1669202\nImplements: blueprint vnx-ssl-verification-options\nChange-Id: Iedad15e077c0537e133f81e6d537798482789160\n(cherry picked from commit bf0f42858b0f57aaf08630cda3514c822b21db09)\n'}]",0,451130,b3f7f12fcf11aa07cb1b4e97bc11fdb248ba2233,25,10,1,10628,,,0,"Handle SSL from VNX driver

From python 2.7.9 on, the ssl verification is enabled by default,
This commit adds 2 options for VNX Manila driver, so user is able
to control the ssl verification.

Closes-bug: 1669202
Implements: blueprint vnx-ssl-verification-options
Change-Id: Iedad15e077c0537e133f81e6d537798482789160
(cherry picked from commit bf0f42858b0f57aaf08630cda3514c822b21db09)
",git fetch https://review.opendev.org/openstack/manila refs/changes/30/451130/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/dell_emc/driver.py', 'manila/share/drivers/dell_emc/plugins/vnx/utils.py', 'releasenotes/notes/vnx-ssl-verification-2d26a24e7e73bf81.yaml', 'manila/tests/share/drivers/dell_emc/plugins/vnx/test_utils.py', 'manila/share/drivers/dell_emc/plugins/vnx/connector.py', 'manila/tests/share/drivers/dell_emc/plugins/vnx/test_connector.py']",6,b3f7f12fcf11aa07cb1b4e97bc11fdb248ba2233,bug/1669202, self.configuration.emc_ssl_cert_verify = False self.configuration.emc_ssl_cert_path = None,,74,4
openstack%2Fnova~master~I50b32e58cef3ddba68ef471f2d9ad479e5593e01,openstack/nova,master,I50b32e58cef3ddba68ef471f2d9ad479e5593e01,Add policy description for server_usage,MERGED,2017-05-17 07:42:07.000000000,2017-05-26 03:11:11.000000000,2017-05-25 09:19:28.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}]","[{'number': 1, 'created': '2017-05-17 07:42:07.000000000', 'files': ['nova/policies/server_usage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4d272c09f52da39664495dc80ac47a9fac80bc40', 'message': 'Add policy description for server_usage\n\nThis commit adds policy doc for server_usage policies.\n\nPartial implement blueprint policy-docs\n\nChange-Id: I50b32e58cef3ddba68ef471f2d9ad479e5593e01\n'}]",2,465437,4d272c09f52da39664495dc80ac47a9fac80bc40,41,11,1,8556,,,0,"Add policy description for server_usage

This commit adds policy doc for server_usage policies.

Partial implement blueprint policy-docs

Change-Id: I50b32e58cef3ddba68ef471f2d9ad479e5593e01
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/465437/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/policies/server_usage.py'],1,4d272c09f52da39664495dc80ac47a9fac80bc40,bp/policy-docs," base.create_rule_default( BASE_POLICY_NAME, base.RULE_ADMIN_OR_OWNER, """"""Add 'OS-SRV-USG:launched_at' & 'OS-SRV-USG:terminated_at' attribute in the server response. This check is performed only after the check 'os_compute_api:servers:show' for GET /servers/{id} and 'os_compute_api:servers:detail' for GET /servers/detail passes"""""", [ { 'method': 'GET', 'path': '/servers/{id}' }, { 'method': 'GET', 'path': '/servers/detail' } ]),","from oslo_policy import policy policy.RuleDefault( name=BASE_POLICY_NAME, check_str=base.RULE_ADMIN_OR_OWNER),",21,5
openstack%2Fneutron-lib~master~I5f7b8602107f899678e0715828ea1fe2244f9ca3,openstack/neutron-lib,master,I5f7b8602107f899678e0715828ea1fe2244f9ca3,Updated from global requirements,MERGED,2017-05-23 11:54:14.000000000,2017-05-26 03:10:21.000000000,2017-05-26 03:10:21.000000000,"[{'_account_id': 3}, {'_account_id': 5367}, {'_account_id': 7715}, {'_account_id': 7787}, {'_account_id': 9396}]","[{'number': 1, 'created': '2017-05-23 11:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/daebd4b4e3901be22c004368a2f5b7918882f3ab', 'message': 'Updated from global requirements\n\nChange-Id: I5f7b8602107f899678e0715828ea1fe2244f9ca3\n'}, {'number': 2, 'created': '2017-05-23 16:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/141dbf5be1fce57ab0b05060f5e3094369b39bad', 'message': 'Updated from global requirements\n\nChange-Id: I5f7b8602107f899678e0715828ea1fe2244f9ca3\n'}, {'number': 3, 'created': '2017-05-24 03:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c0cb69a38d64b3dd0bf8e35765466abd0dfed0b3', 'message': 'Updated from global requirements\n\nChange-Id: I5f7b8602107f899678e0715828ea1fe2244f9ca3\n'}, {'number': 4, 'created': '2017-05-24 05:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b242c19d11ccdd96e5d2941f2fbf58e6d02eafba', 'message': 'Updated from global requirements\n\nChange-Id: I5f7b8602107f899678e0715828ea1fe2244f9ca3\n'}, {'number': 5, 'created': '2017-05-24 23:17:28.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1c717716c9c6384eb899c220e77d3b4dac15ea1d', 'message': 'Updated from global requirements\n\nChange-Id: I5f7b8602107f899678e0715828ea1fe2244f9ca3\n'}]",0,467169,1c717716c9c6384eb899c220e77d3b4dac15ea1d,17,5,5,11131,,,0,"Updated from global requirements

Change-Id: I5f7b8602107f899678e0715828ea1fe2244f9ca3
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/69/467169/5 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,daebd4b4e3901be22c004368a2f5b7918882f3ab,openstack/requirements,"oslo.i18n!=3.15.2,>=2.1.0 # Apache-2.0",oslo.i18n>=2.1.0 # Apache-2.0,1,1
openstack%2Fneutron~stable%2Fnewton~I278ac83de57713c93d6e50846d79034d774c5d47,openstack/neutron,stable/newton,I278ac83de57713c93d6e50846d79034d774c5d47,Avoid router ri.process if initialize() fails,MERGED,2017-03-31 08:32:01.000000000,2017-05-26 02:58:22.000000000,2017-05-26 02:58:22.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10267}, {'_account_id': 14571}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-03-31 08:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f98e03ed067c592ed6e0062d68658ada2af03af9', 'message': 'Avoid router ri.process if initialize() fails\n\nWhen router_info initialize() fails(with trace) some resources(\nlike keepalived process) may not be created. While handling this\nexception, l3 agent calls _process_updated_router instead of\nagain calling _process_added_router, which also fails trying to\naccess resources which are not created.\n\nIn this change, agent will have new router_info(i.e\nself.router_info[router_id] = ri) only when initialize() succeeds.\nWhen initialize() fails, as router_info is not part of agent,\n""_process_router_if_compatible"" will again call initialize().\nWe also cleanup router_info when initialize() fails.\n\nCloses-bug: #1662804\nChange-Id: I278ac83de57713c93d6e50846d79034d774c5d47\n(cherry picked from commit 3e1ed94e389c427f1da56cde43a458832078f073)\n'}, {'number': 2, 'created': '2017-05-23 14:23:16.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b98267f73af5a6c6388a76a73d88e46c90f8a71e', 'message': 'Avoid router ri.process if initialize() fails\n\nWhen router_info initialize() fails(with trace) some resources(\nlike keepalived process) may not be created. While handling this\nexception, l3 agent calls _process_updated_router instead of\nagain calling _process_added_router, which also fails trying to\naccess resources which are not created.\n\nIn this change, agent will have new router_info(i.e\nself.router_info[router_id] = ri) only when initialize() succeeds.\nWhen initialize() fails, as router_info is not part of agent,\n""_process_router_if_compatible"" will again call initialize().\nWe also cleanup router_info when initialize() fails.\n\nCloses-bug: #1662804\nChange-Id: I278ac83de57713c93d6e50846d79034d774c5d47\n(cherry picked from commit 3e1ed94e389c427f1da56cde43a458832078f073)\n(cherry picked from commit 71c0e8940661fefbe2830258509e6c4afb887783)\n'}]",0,452100,b98267f73af5a6c6388a76a73d88e46c90f8a71e,27,9,2,10267,,,0,"Avoid router ri.process if initialize() fails

When router_info initialize() fails(with trace) some resources(
like keepalived process) may not be created. While handling this
exception, l3 agent calls _process_updated_router instead of
again calling _process_added_router, which also fails trying to
access resources which are not created.

In this change, agent will have new router_info(i.e
self.router_info[router_id] = ri) only when initialize() succeeds.
When initialize() fails, as router_info is not part of agent,
""_process_router_if_compatible"" will again call initialize().
We also cleanup router_info when initialize() fails.

Closes-bug: #1662804
Change-Id: I278ac83de57713c93d6e50846d79034d774c5d47
(cherry picked from commit 3e1ed94e389c427f1da56cde43a458832078f073)
(cherry picked from commit 71c0e8940661fefbe2830258509e6c4afb887783)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/452100/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/unit/agent/l3/test_agent.py']",3,f98e03ed067c592ed6e0062d68658ada2af03af9,bug/1662804," @mock.patch.object(l3_agent.LOG, 'exception') def _retrigger_initialize(self, log_exception, delete_fail=False): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) router = {'id': _uuid(), 'external_gateway_info': {'network_id': 'aaa'}} self.plugin_api.get_routers.return_value = [router] update = router_processing_queue.RouterUpdate( router['id'], router_processing_queue.PRIORITY_SYNC_ROUTERS_TASK, router=router, timestamp=timeutils.utcnow()) agent._queue.add(update) ri = legacy_router.LegacyRouter(agent, router['id'], router, **self.ri_kwargs) calls = [mock.call('Error while initializing router %s', router['id'])] if delete_fail: # if delete fails, then also retrigger initialize ri.delete = mock.Mock(side_effect=RuntimeError()) calls.append( mock.call('Error while deleting router %s', router['id'])) else: ri.delete = mock.Mock() calls.append( mock.call('Failed to process compatible router: %s' % router['id'])) ri.process = mock.Mock() ri.initialize = mock.Mock(side_effect=RuntimeError()) agent._create_router = mock.Mock(return_value=ri) agent._process_router_update() log_exception.assert_has_calls(calls) ri.initialize.side_effect = None agent._process_router_update() self.assertTrue(ri.delete.called) self.assertEqual(2, ri.initialize.call_count) self.assertEqual(2, agent._create_router.call_count) self.assertEqual(1, ri.process.call_count) self.assertIn(ri.router_id, agent.router_info) def test_initialize_fail_retrigger_initialize(self): self._retrigger_initialize() def test_initialize_and_delete_fail_retrigger_initialize(self): self._retrigger_initialize(delete_fail=True) ",,68,6
openstack%2Fneutron~master~I821f7c07f21a10c8a8d2b3c7e79da205b805d525,openstack/neutron,master,I821f7c07f21a10c8a8d2b3c7e79da205b805d525,Enable segments plugin in gate,MERGED,2017-04-24 19:57:38.000000000,2017-05-26 02:58:07.000000000,2017-05-26 02:58:06.000000000,"[{'_account_id': 3}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 7715}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 20277}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-04-24 19:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a7cafdbc11f1cc1642a058c9ce6918076b13dc8', 'message': '[EXPERIMENTAL] Enable segments plugin in gate\n\nChange-Id: I821f7c07f21a10c8a8d2b3c7e79da205b805d525\n'}, {'number': 2, 'created': '2017-04-26 17:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e5870973a4b322ddf5c336048b9d816ae5d70f0', 'message': '[EXPERIMENTAL] Enable segments plugin in gate\n\nChange-Id: I821f7c07f21a10c8a8d2b3c7e79da205b805d525\n'}, {'number': 3, 'created': '2017-04-27 14:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f43c31c9ece0a405d862e855670962f3624ccdb', 'message': '[EXPERIMENTAL] Enable segments plugin in gate\n\nChange-Id: I821f7c07f21a10c8a8d2b3c7e79da205b805d525\n'}, {'number': 4, 'created': '2017-05-01 17:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2a1c8912da345aca0c4363ad78c1e8a25feb61f', 'message': '[EXPERIMENTAL] Enable segments plugin in gate\n\nChange-Id: I821f7c07f21a10c8a8d2b3c7e79da205b805d525\n'}, {'number': 5, 'created': '2017-05-01 22:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5871a03538576768b74c9a484e0d560de1287379', 'message': '[EXPERIMENTAL] Enable segments plugin in gate\n\nChange-Id: I821f7c07f21a10c8a8d2b3c7e79da205b805d525\n'}, {'number': 6, 'created': '2017-05-02 16:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/65a907e1bd107cb07542ee2de68af43774c3debf', 'message': '[EXPERIMENTAL] Enable segments plugin in gate\n\nChange-Id: I821f7c07f21a10c8a8d2b3c7e79da205b805d525\n'}, {'number': 7, 'created': '2017-05-03 14:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1d37177ae5286e853fa8aa8d9343a046710821c', 'message': '[EXPERIMENTAL] Enable segments plugin in gate\n\nChange-Id: I821f7c07f21a10c8a8d2b3c7e79da205b805d525\n'}, {'number': 8, 'created': '2017-05-03 17:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc3bef24baccd7bed37fab2f4cafd0c296c51c81', 'message': 'Enable segments plugin in gate\n\nChange-Id: I821f7c07f21a10c8a8d2b3c7e79da205b805d525\n'}, {'number': 9, 'created': '2017-05-03 21:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f75b3a73a6ff3378718f14d89e865441c5952429', 'message': 'Enable segments plugin in gate\n\nChange-Id: I821f7c07f21a10c8a8d2b3c7e79da205b805d525\n'}, {'number': 10, 'created': '2017-05-03 23:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c656348e14cf17352e6e0093f22323f5624d775', 'message': 'Enable segments plugin in gate\n\nChange-Id: I821f7c07f21a10c8a8d2b3c7e79da205b805d525\n'}, {'number': 11, 'created': '2017-05-04 20:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/74c409c8a4b5df7bd23d9e008049bb6c44c77e18', 'message': 'Enable segments plugin in gate\n\nChange-Id: I821f7c07f21a10c8a8d2b3c7e79da205b805d525\n'}, {'number': 12, 'created': '2017-05-09 18:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f45e2917762ef3bf17e810d1219b24b3af0222d2', 'message': 'Enable segments plugin in gate\n\nChange-Id: I821f7c07f21a10c8a8d2b3c7e79da205b805d525\n'}, {'number': 13, 'created': '2017-05-15 15:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/040975e7744e66d6630fd379da38766297b26dad', 'message': 'Enable segments plugin in gate\n\nChange-Id: I821f7c07f21a10c8a8d2b3c7e79da205b805d525\n'}, {'number': 14, 'created': '2017-05-15 15:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd4d0a2227fe1aa050ca3e54e339670a9ba0247b', 'message': 'Enable segments plugin in gate\n\nChange-Id: I821f7c07f21a10c8a8d2b3c7e79da205b805d525\n'}, {'number': 15, 'created': '2017-05-16 16:24:46.000000000', 'files': ['neutron/tests/contrib/hooks/api_all_extensions', 'devstack/lib/segments', 'neutron/tests/contrib/gate_hook.sh', 'neutron/tests/contrib/hooks/segments', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d77118771c2c7e74a19348ec6d76e93461b4632', 'message': 'Enable segments plugin in gate\n\nChange-Id: I821f7c07f21a10c8a8d2b3c7e79da205b805d525\n'}]",14,459439,2d77118771c2c7e74a19348ec6d76e93461b4632,121,12,15,20277,,,0,"Enable segments plugin in gate

Change-Id: I821f7c07f21a10c8a8d2b3c7e79da205b805d525
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/459439/10 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/contrib/hooks/api_all_extensions'],1,8a7cafdbc11f1cc1642a058c9ce6918076b13dc8,enable_segments,"NETWORK_API_EXTENSIONS=""address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,default-subnetpools,dhcp_agent_scheduler,dns-integration,dvr,ext-gw-mode,external-net,extra_dhcp_opt,extraroute,flavors,l3-flavors,l3-ha,l3_agent_scheduler,metering,multi-provider,net-mtu,network-ip-availability,network_availability_zone,pagination,port-security,project-id,provider,qos,quotas,rbac-policies,router,router_availability_zone,security-group,segments,service-type,sorting,standard-attr-description,standard-attr-revisions,standard-attr-timestamp,subnet_allocation,tag,tag-ext,trunk,trunk-details""","NETWORK_API_EXTENSIONS=""address-scope,agent,allowed-address-pairs,auto-allocated-topology,availability_zone,binding,default-subnetpools,dhcp_agent_scheduler,dns-integration,dvr,ext-gw-mode,external-net,extra_dhcp_opt,extraroute,flavors,l3-flavors,l3-ha,l3_agent_scheduler,metering,multi-provider,net-mtu,network-ip-availability,network_availability_zone,pagination,port-security,project-id,provider,qos,quotas,rbac-policies,router,router_availability_zone,security-group,service-type,sorting,standard-attr-description,standard-attr-revisions,standard-attr-timestamp,subnet_allocation,tag,tag-ext,trunk,trunk-details""",1,1
openstack%2Fpatrole~master~Ifb8901bce0965e4a763814b29ab1d3a16d9021d9,openstack/patrole,master,Ifb8901bce0965e4a763814b29ab1d3a16d9021d9,Compute server metadata rbac tests,MERGED,2017-05-19 18:02:53.000000000,2017-05-26 02:13:04.000000000,2017-05-26 02:13:04.000000000,"[{'_account_id': 3}, {'_account_id': 8556}, {'_account_id': 23185}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-05-19 18:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/8d30dab24bce40ab6d49edc263772f5ad6ce93d4', 'message': 'Compute server metadata rbac tests\n\nAdd rbac tests for the compute server metadata API [0] whose\npolicy definitions can be found here [1].\n\n[0] https://developer.openstack.org/api-ref/compute/#server-metadata-servers-metadata\n[1] https://github.com/openstack/nova/blob/master/nova/policies/server_metadata.py\n\nChange-Id: Ifb8901bce0965e4a763814b29ab1d3a16d9021d9\n'}, {'number': 2, 'created': '2017-05-24 21:27:30.000000000', 'files': ['releasenotes/notes/server-metadata-rbac-tests-2404b5d13c492b62.yaml', 'patrole_tempest_plugin/tests/api/compute/test_server_metadata_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/96f826dcd40e5ced125aeb23c1c96a50f8ac2e28', 'message': 'Compute server metadata rbac tests\n\nAdd rbac tests for the compute server metadata API [0] whose\npolicy definitions can be found here [1].\n\n[0] https://developer.openstack.org/api-ref/compute/#server-metadata-servers-metadata\n[1] https://github.com/openstack/nova/blob/master/nova/policies/server_metadata.py\n\nChange-Id: Ifb8901bce0965e4a763814b29ab1d3a16d9021d9\n'}]",2,466369,96f826dcd40e5ced125aeb23c1c96a50f8ac2e28,13,4,2,23186,,,0,"Compute server metadata rbac tests

Add rbac tests for the compute server metadata API [0] whose
policy definitions can be found here [1].

[0] https://developer.openstack.org/api-ref/compute/#server-metadata-servers-metadata
[1] https://github.com/openstack/nova/blob/master/nova/policies/server_metadata.py

Change-Id: Ifb8901bce0965e4a763814b29ab1d3a16d9021d9
",git fetch https://review.opendev.org/openstack/patrole refs/changes/69/466369/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/server-metadata-rbac-tests-2404b5d13c492b62.yaml', 'patrole_tempest_plugin/tests/api/compute/test_server_metadata_rbac.py']",2,8d30dab24bce40ab6d49edc263772f5ad6ce93d4,server_metadata_tests,"# Copyright 2017 AT&T Corporation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.lib import decorators from patrole_tempest_plugin import rbac_rule_validation from patrole_tempest_plugin.tests.api.compute import rbac_base class ServerMetadataRbacTest(rbac_base.BaseV2ComputeRbacTest): @classmethod def resource_setup(cls): super(ServerMetadataRbacTest, cls).resource_setup() cls.server = cls.create_test_server(metadata={}, wait_until='ACTIVE') cls.meta = {'key1': 'value1'} def setUp(self): super(ServerMetadataRbacTest, self).setUp() self.servers_client.set_server_metadata(self.server['id'], self.meta)[ 'metadata'] @decorators.idempotent_id('b07bbc27-58e2-4581-869d-ad228cec5d9a') @rbac_rule_validation.action( service=""nova"", rule=""os_compute_api:server-metadata:index"") def test_list_server_metadata(self): self.rbac_utils.switch_role(self, toggle_rbac_role=True) self.servers_client.list_server_metadata(self.server['id'])['metadata'] @decorators.idempotent_id('6e76748b-2417-4fa2-b41a-c0cc4bff356b') @rbac_rule_validation.action( service=""nova"", rule=""os_compute_api:server-metadata:update_all"") def test_set_server_metadata(self): self.rbac_utils.switch_role(self, toggle_rbac_role=True) self.servers_client.set_server_metadata(self.server['id'], {})[ 'metadata'] @decorators.idempotent_id('1060bac4-fe16-4a77-be64-d8e482a06eab') @rbac_rule_validation.action( service=""nova"", rule=""os_compute_api:server-metadata:create"") def test_update_server_metadata(self): self.rbac_utils.switch_role(self, toggle_rbac_role=True) self.servers_client.update_server_metadata(self.server['id'], {})[ 'metadata'] @decorators.idempotent_id('93dd8323-d3fa-48d1-8bd6-91c1b62fc341') @rbac_rule_validation.action( service=""nova"", rule=""os_compute_api:server-metadata:show"") def test_show_server_metadata_item(self): self.rbac_utils.switch_role(self, toggle_rbac_role=True) self.servers_client.show_server_metadata_item( self.server['id'], 'key1')['meta'] @decorators.idempotent_id('79511293-4bd7-447d-ba7e-634d0f4da70c') @rbac_rule_validation.action( service=""nova"", rule=""os_compute_api:server-metadata:update"") def test_set_server_metadata_item(self): self.rbac_utils.switch_role(self, toggle_rbac_role=True) self.servers_client.set_server_metadata_item( self.server['id'], 'key1', {'key1': 'value2'})['meta'] @decorators.idempotent_id('feec5064-678d-40bc-a88f-c856e18d1e31') @rbac_rule_validation.action( service=""nova"", rule=""os_compute_api:server-metadata:delete"") def test_delete_server_metadata_item(self): self.rbac_utils.switch_role(self, toggle_rbac_role=True) self.servers_client.delete_server_metadata_item( self.server['id'], 'key1') ",,97,0
openstack%2Fbarbican-tempest-plugin~master~Id22657b0169d302bbf62747ef7708d456107c529,openstack/barbican-tempest-plugin,master,Id22657b0169d302bbf62747ef7708d456107c529,add deps for barbican-tempest-plugin,MERGED,2017-03-27 16:56:23.000000000,2017-05-26 02:08:53.000000000,2017-05-26 02:08:53.000000000,"[{'_account_id': 3}, {'_account_id': 7764}, {'_account_id': 8623}, {'_account_id': 21797}, {'_account_id': 24711}]","[{'number': 1, 'created': '2017-03-27 16:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/4e58af7a010b9590d9032a818a8d5815f0481e42', 'message': 'add deps for barbican-tempest-plugin\n\noslo_config and oslo_log are imported in\ncodes, such as:\nhttps://github.com/openstack/barbican-tempest-plugin\n/blob/master/barbican_tempest_plugin/config.py#L16\nhttps://github.com/openstack/barbican-tempest-plugin\n/blob/master/barbican_tempest_plugin/tests/scenario/barbican_manager.py#L29\nSo, we should add them as deps.\n\nChange-Id: Id22657b0169d302bbf62747ef7708d456107c529\n'}, {'number': 2, 'created': '2017-05-25 14:44:56.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/817651d25a6cf1ef536be49f5735714e74d9b9c5', 'message': 'add deps for barbican-tempest-plugin\n\noslo_config and oslo_log are imported in\ncodes, such as:\nhttps://github.com/openstack/barbican-tempest-plugin\n/blob/master/barbican_tempest_plugin/config.py#L16\nhttps://github.com/openstack/barbican-tempest-plugin\n/blob/master/barbican_tempest_plugin/tests/scenario/barbican_manager.py#L29\nSo, we should add them as deps.\n\nChange-Id: Id22657b0169d302bbf62747ef7708d456107c529\n'}]",1,450340,817651d25a6cf1ef536be49f5735714e74d9b9c5,18,5,2,22056,,,0,"add deps for barbican-tempest-plugin

oslo_config and oslo_log are imported in
codes, such as:
https://github.com/openstack/barbican-tempest-plugin
/blob/master/barbican_tempest_plugin/config.py#L16
https://github.com/openstack/barbican-tempest-plugin
/blob/master/barbican_tempest_plugin/tests/scenario/barbican_manager.py#L29
So, we should add them as deps.

Change-Id: Id22657b0169d302bbf62747ef7708d456107c529
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/40/450340/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,4e58af7a010b9590d9032a818a8d5815f0481e42,add_deps, oslo.log>=3.11.0 # Apache-2.0,,4,0
openstack%2Frequirements~master~I9b11bb7b7dd5dc2748ce2809489f7ceaed75d9c7,openstack/requirements,master,I9b11bb7b7dd5dc2748ce2809489f7ceaed75d9c7,XenAPI: Update os-xenapi to 0.2.0,MERGED,2017-05-17 10:19:36.000000000,2017-05-26 01:44:35.000000000,2017-05-26 01:44:35.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6735}, {'_account_id': 13404}, {'_account_id': 14288}, {'_account_id': 17920}, {'_account_id': 17922}]","[{'number': 1, 'created': '2017-05-17 10:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/aae009811db79ca6508e0a9374499b00629ec9da', 'message': 'Update os-xenapi to 0.2.0\n\nWe have released os-xenapi 0.2.0 which provide python interface\nfor XenServer dom0 plugin, so bump os-xenapi version\n\nChange-Id: I9b11bb7b7dd5dc2748ce2809489f7ceaed75d9c7\n'}, {'number': 2, 'created': '2017-05-19 07:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c31819adbd35a115e4b3e5b8137cd48339559898', 'message': 'Update os-xenapi to 0.2.0\n\nWe have released os-xenapi 0.2.0 which provide python interface\nfor XenServer dom0 plugin, so bump os-xenapi version\n\nDepends-On: I52939fbd42b1b1f7f6c216f3715158b779c597ab\n\nChange-Id: I9b11bb7b7dd5dc2748ce2809489f7ceaed75d9c7\n'}, {'number': 3, 'created': '2017-05-19 07:11:08.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/32bb1d1223d30ca8a48e0cf86e05ee0ed4a2e6a8', 'message': 'XenAPI: Update os-xenapi to 0.2.0\n\nWe have released os-xenapi 0.2.0 which provides python interface\nfor XenServer dom0 plugin, so bump os-xenapi version\n\nDepends-On: I52939fbd42b1b1f7f6c216f3715158b779c597ab\n\nChange-Id: I9b11bb7b7dd5dc2748ce2809489f7ceaed75d9c7\n'}]",1,465494,32bb1d1223d30ca8a48e0cf86e05ee0ed4a2e6a8,28,7,3,17922,,,0,"XenAPI: Update os-xenapi to 0.2.0

We have released os-xenapi 0.2.0 which provides python interface
for XenServer dom0 plugin, so bump os-xenapi version

Depends-On: I52939fbd42b1b1f7f6c216f3715158b779c597ab

Change-Id: I9b11bb7b7dd5dc2748ce2809489f7ceaed75d9c7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/94/465494/2 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,aae009811db79ca6508e0a9374499b00629ec9da,os-xenapi-v2,os-xenapi===0.2.0,os-xenapi===0.1.1,2,2
openstack%2Fnova~stable%2Fnewton~I4f59a392b9c8b6f075c18f9bc86b560fda007a78,openstack/nova,stable/newton,I4f59a392b9c8b6f075c18f9bc86b560fda007a78,Updated from global requirements,MERGED,2017-05-22 21:09:26.000000000,2017-05-26 01:44:09.000000000,2017-05-26 01:44:09.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 10118}]","[{'number': 1, 'created': '2017-05-22 21:09:26.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/c35054824bba2a2a381ce6c1dd6cb568443ab1ee', 'message': 'Updated from global requirements\n\nChange-Id: I4f59a392b9c8b6f075c18f9bc86b560fda007a78\n'}]",0,466908,c35054824bba2a2a381ce6c1dd6cb568443ab1ee,10,3,1,11131,,,0,"Updated from global requirements

Change-Id: I4f59a392b9c8b6f075c18f9bc86b560fda007a78
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/466908/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c35054824bba2a2a381ce6c1dd6cb568443ab1ee,openstack/requirements,"setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=34.3.3,>=16.0 # PSF/ZPL","setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,>=16.0 # PSF/ZPL",1,1
openstack%2Fneutron~stable%2Fnewton~I975c7d0ec84698d277acbbec6d9cfec5c03439aa,openstack/neutron,stable/newton,I975c7d0ec84698d277acbbec6d9cfec5c03439aa,Get rid of custom wrap_db_retry call in sync_allocations,MERGED,2017-04-28 09:59:51.000000000,2017-05-26 01:43:54.000000000,2017-05-26 01:43:54.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 7715}, {'_account_id': 7787}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 14571}, {'_account_id': 16376}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-04-28 09:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/df24c84be11ff4dcd950e3b30ab8bde5ee0e7f31', 'message': ""Get rid of custom wrap_db_retry call in sync_allocations\n\nJust for consistency, get rid of the last direct call to\nwrap_db_retry and instead use neutron.db.api.retry_db_errors\nin the sync_allocations code so we don't potentially get\nbitten by slight inconsistencies between the two.\n\nTrivialFix\nRelated-Bug: #1673243\n\nChange-Id: I975c7d0ec84698d277acbbec6d9cfec5c03439aa\n(cherry picked from commit 99e5f4fb4680082407f6c38bad6b7345696e5e9f)\n(cherry picked from commit 9096ea2805a8db07223b05d0f8c805bb568cdef9)\n""}, {'number': 2, 'created': '2017-04-28 12:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c2598c3b440abb16ee028b3d112b5267030e074', 'message': ""Get rid of custom wrap_db_retry call in sync_allocations\n\nJust for consistency, get rid of the last direct call to\nwrap_db_retry and instead use neutron.db.api.retry_db_errors\nin the sync_allocations code so we don't potentially get\nbitten by slight inconsistencies between the two.\n\nTrivialFix\nRelated-Bug: #1673243\n\nChange-Id: I975c7d0ec84698d277acbbec6d9cfec5c03439aa\n(cherry picked from commit 99e5f4fb4680082407f6c38bad6b7345696e5e9f)\n(cherry picked from commit 9096ea2805a8db07223b05d0f8c805bb568cdef9)\n""}, {'number': 3, 'created': '2017-05-25 21:26:05.000000000', 'files': ['neutron/plugins/ml2/drivers/type_tunnel.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3567667f512b87eb5390eb420d496c1d864d2006', 'message': ""Get rid of custom wrap_db_retry call in sync_allocations\n\nJust for consistency, get rid of the last direct call to\nwrap_db_retry and instead use neutron.db.api.retry_db_errors\nin the sync_allocations code so we don't potentially get\nbitten by slight inconsistencies between the two.\n\nTrivialFix\nRelated-Bug: #1673243\n\nChange-Id: I975c7d0ec84698d277acbbec6d9cfec5c03439aa\n(cherry picked from commit 99e5f4fb4680082407f6c38bad6b7345696e5e9f)\n(cherry picked from commit 9096ea2805a8db07223b05d0f8c805bb568cdef9)\n""}]",5,460912,3567667f512b87eb5390eb420d496c1d864d2006,27,10,3,8655,,,0,"Get rid of custom wrap_db_retry call in sync_allocations

Just for consistency, get rid of the last direct call to
wrap_db_retry and instead use neutron.db.api.retry_db_errors
in the sync_allocations code so we don't potentially get
bitten by slight inconsistencies between the two.

TrivialFix
Related-Bug: #1673243

Change-Id: I975c7d0ec84698d277acbbec6d9cfec5c03439aa
(cherry picked from commit 99e5f4fb4680082407f6c38bad6b7345696e5e9f)
(cherry picked from commit 9096ea2805a8db07223b05d0f8c805bb568cdef9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/460912/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/type_tunnel.py'],1,df24c84be11ff4dcd950e3b30ab8bde5ee0e7f31,bug/1673243, @db_api.retry_db_errors,"from oslo_db import api as oslo_db_api @oslo_db_api.wrap_db_retry( max_retries=db_api.MAX_RETRIES, exception_checker=db_api.is_retriable)",1,4
openstack%2Fkarbor~master~If30ccc65fb31728597892f1b66e1367eecb95fed,openstack/karbor,master,If30ccc65fb31728597892f1b66e1367eecb95fed,Add manila share protection plugin for karbor,MERGED,2017-04-20 16:26:29.000000000,2017-05-26 01:41:02.000000000,2017-05-26 01:41:01.000000000,"[{'_account_id': 3}, {'_account_id': 17151}, {'_account_id': 18266}, {'_account_id': 20883}]","[{'number': 1, 'created': '2017-04-20 16:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/435bbefce3b94c1080d62f9ab77a63271a289c2c', 'message': 'Add manila share protection plugin for karbor\n\nChange-Id: If30ccc65fb31728597892f1b66e1367eecb95fed\nblueprint: manila-share-proection-plugin\n'}, {'number': 2, 'created': '2017-04-25 12:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/d42b53926745fd52d112d7ae9c93b596549ee30f', 'message': 'Add manila share protection plugin for karbor\n\nChange-Id: If30ccc65fb31728597892f1b66e1367eecb95fed\nblueprint: manila-share-proection-plugin\n'}, {'number': 3, 'created': '2017-04-26 01:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/e1765704f858bb64ee597f0b910e50540e6931f2', 'message': 'Add manila share protection plugin for karbor\n\nChange-Id: If30ccc65fb31728597892f1b66e1367eecb95fed\nblueprint: manila-share-proection-plugin\n'}, {'number': 4, 'created': '2017-04-26 03:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/af6cf9ca0aa6a94639907405b0472ad1a1bc41de', 'message': 'Add manila share protection plugin for karbor\n\nChange-Id: If30ccc65fb31728597892f1b66e1367eecb95fed\nblueprint: manila-share-proection-plugin\n'}, {'number': 5, 'created': '2017-04-26 03:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/7e18039c0a7fbf522e2dd4775b196eda9ab5a83a', 'message': 'Add manila share protection plugin for karbor\n\nChange-Id: If30ccc65fb31728597892f1b66e1367eecb95fed\nblueprint: manila-share-proection-plugin\n'}, {'number': 6, 'created': '2017-04-26 13:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/b8bb97f27a9382a381d29644bf9706078f60e3a4', 'message': 'Add manila share protection plugin for karbor\n\nChange-Id: If30ccc65fb31728597892f1b66e1367eecb95fed\nblueprint: manila-share-proection-plugin\n'}, {'number': 7, 'created': '2017-05-02 15:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/39fa6a13bd611b06d64cfd11d0551b86071e5b8c', 'message': 'Add manila share protection plugin for karbor\n\nChange-Id: If30ccc65fb31728597892f1b66e1367eecb95fed\nblueprint: manila-share-proection-plugin\n'}, {'number': 8, 'created': '2017-05-10 03:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/112a38328dd0da17d57a75160e505d68ef6b468f', 'message': 'Add manila share protection plugin for karbor\n\nChange-Id: If30ccc65fb31728597892f1b66e1367eecb95fed\nblueprint: manila-share-proection-plugin\n'}, {'number': 9, 'created': '2017-05-16 11:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/304d80d6cf042748ba8e25fe96bccb38844eadb5', 'message': 'Add manila share protection plugin for karbor\n\nChange-Id: If30ccc65fb31728597892f1b66e1367eecb95fed\nblueprint: manila-share-proection-plugin\n'}, {'number': 10, 'created': '2017-05-16 15:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/32877de00c687fe1bb7fd520346da32a26a494f2', 'message': 'Add manila share protection plugin for karbor\n\nChange-Id: If30ccc65fb31728597892f1b66e1367eecb95fed\nblueprint: manila-share-proection-plugin\n'}, {'number': 11, 'created': '2017-05-19 13:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/6ce625e8da93ee6960252eff1029515e889e8d28', 'message': 'Add manila share protection plugin for karbor\n\nChange-Id: If30ccc65fb31728597892f1b66e1367eecb95fed\nblueprint: manila-share-proection-plugin\n'}, {'number': 12, 'created': '2017-05-23 10:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/8cee84e076e070262d740d36b561efc84ebadb6f', 'message': 'Add manila share protection plugin for karbor\n\nChange-Id: If30ccc65fb31728597892f1b66e1367eecb95fed\nblueprint: manila-share-proection-plugin\n'}, {'number': 13, 'created': '2017-05-24 07:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/e1894d2536000d2673d0967b22d23a82beac776e', 'message': 'Add manila share protection plugin for karbor\n\nChange-Id: If30ccc65fb31728597892f1b66e1367eecb95fed\nblueprint: manila-share-proection-plugin\n'}, {'number': 14, 'created': '2017-05-24 08:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/b9160c3035d1d6497880a787776489fa4a477915', 'message': 'Add manila share protection plugin for karbor\n\nChange-Id: If30ccc65fb31728597892f1b66e1367eecb95fed\nblueprint: manila-share-proection-plugin\n'}, {'number': 15, 'created': '2017-05-24 13:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/8be974ede27ec96f37f553cb10a60b768c1770f4', 'message': 'Add manila share protection plugin for karbor\n\nChange-Id: If30ccc65fb31728597892f1b66e1367eecb95fed\nblueprint: manila-share-proection-plugin\n'}, {'number': 16, 'created': '2017-05-25 08:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/a96461aacd6c28b50397702b109b77069b7cc803', 'message': 'Add manila share protection plugin for karbor\n\nChange-Id: If30ccc65fb31728597892f1b66e1367eecb95fed\nblueprint: manila-share-proection-plugin\n'}, {'number': 17, 'created': '2017-05-25 12:17:11.000000000', 'files': ['karbor/services/protection/protection_plugins/share/share_snapshot_plugin_schemas.py', 'karbor/services/protection/protection_plugins/share/share_snapshot_plugin.py', 'karbor/services/protection/protection_plugins/share/__init__.py', 'karbor/tests/unit/protection/test_manila_protection_plugin.py', 'etc/providers.d/openstack-infra.conf', 'setup.cfg', 'karbor/tests/fullstack/test_checkpoints.py', 'karbor/exception.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/df8c9e8af036b879489811f3c27867f41fd3cbec', 'message': 'Add manila share protection plugin for karbor\n\nChange-Id: If30ccc65fb31728597892f1b66e1367eecb95fed\nblueprint: manila-share-proection-plugin\n'}]",22,458582,df8c9e8af036b879489811f3c27867f41fd3cbec,49,4,17,17151,,,0,"Add manila share protection plugin for karbor

Change-Id: If30ccc65fb31728597892f1b66e1367eecb95fed
blueprint: manila-share-proection-plugin
",git fetch https://review.opendev.org/openstack/karbor refs/changes/82/458582/16 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/services/protection/protection_plugins/share/share_snapshot_plugin_schemas.py', 'karbor/tests/unit/plugins/test_manila_protection_plugin.py', 'karbor/services/protection/protection_plugins/share/share_snapshot_plugin.py', 'karbor/services/protection/protection_plugins/share/__init__.py']",4,435bbefce3b94c1080d62f9ab77a63271a289c2c,bp/manila-share-proection-plugin,,,565,0
openstack%2Fkarbor~master~Id02deddc52d81b9cd240364a22422a31fc02c9c3,openstack/karbor,master,Id02deddc52d81b9cd240364a22422a31fc02c9c3,Use uwsgi for devstack,MERGED,2017-05-24 09:03:43.000000000,2017-05-26 01:40:43.000000000,2017-05-26 01:40:42.000000000,"[{'_account_id': 3}, {'_account_id': 17151}, {'_account_id': 20883}]","[{'number': 1, 'created': '2017-05-24 09:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/d2f3ac79556542fbf7ed62ba0ee58cda4e34fb1f', 'message': 'Use uwsgi for devstack\n\nChange-Id: Id02deddc52d81b9cd240364a22422a31fc02c9c3\n'}, {'number': 2, 'created': '2017-05-24 11:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/a4e2f8f8206571904640d6d74f49ac6f45a61c44', 'message': 'Use uwsgi for devstack\n\nChange-Id: Id02deddc52d81b9cd240364a22422a31fc02c9c3\n'}, {'number': 3, 'created': '2017-05-24 11:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/4795e80e38072c43d6ac3906b47a102560317b15', 'message': 'Use uwsgi for devstack\n\nChange-Id: Id02deddc52d81b9cd240364a22422a31fc02c9c3\n'}, {'number': 4, 'created': '2017-05-24 13:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/f061c669352f1ab73372d5a622c48382b944d452', 'message': 'Use uwsgi for devstack\n\nChange-Id: Id02deddc52d81b9cd240364a22422a31fc02c9c3\n'}, {'number': 5, 'created': '2017-05-24 14:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/2f3bd801a0e641c69420486337f1b0bac517a87b', 'message': 'Use uwsgi for devstack\n\nChange-Id: Id02deddc52d81b9cd240364a22422a31fc02c9c3\n'}, {'number': 6, 'created': '2017-05-25 09:03:50.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/karbor/commit/d5718bd47fdcb5b966730c12cb9650ecba791e02', 'message': 'Use uwsgi for devstack\n\nTwo patches added wsgi support:\nhttps://review.openstack.org/455734/\nhttps://review.openstack.org/453705/\nAccording to:\nhttps://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html\nHowever, this patch:\nhttps://review.openstack.org/460951/\nchanged the goal to use uwsgi by default.\n\nChange-Id: Id02deddc52d81b9cd240364a22422a31fc02c9c3\n'}]",0,467536,d5718bd47fdcb5b966730c12cb9650ecba791e02,20,3,6,20883,,,0,"Use uwsgi for devstack

Two patches added wsgi support:
https://review.openstack.org/455734/
https://review.openstack.org/453705/
According to:
https://governance.openstack.org/tc/goals/pike/deploy-api-in-wsgi.html
However, this patch:
https://review.openstack.org/460951/
changed the goal to use uwsgi by default.

Change-Id: Id02deddc52d81b9cd240364a22422a31fc02c9c3
",git fetch https://review.opendev.org/openstack/karbor refs/changes/36/467536/6 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,d2f3ac79556542fbf7ed62ba0ee58cda4e34fb1f,default_uwsgi,"if [[ ""$WSGI_MODE"" == ""uwsgi"" ]]; then KARBOR_DEPLOY=uwsgi else KARBOR_DEPLOY=mod_wsgi fi KARBOR_API_UWSGI_CONF=$KARBOR_CONF_DIR/karbor-api-uwsgi.ini KARBOR_PUBLIC_UWSGI=$KARBOR_BIN_DIR/karbor-api-wsgi",# Toggle for deploying Karbor under apache2 in mod_wsgi KARBOR_USE_MOD_WSGI=${KARBOR_USE_MOD_WSGI:-True},45,19
openstack%2Fcinder~master~Ib3e393b62b962b0f6ef71825c0a64cc4a0549203,openstack/cinder,master,Ib3e393b62b962b0f6ef71825c0a64cc4a0549203,DNM: test,ABANDONED,2017-05-15 16:28:00.000000000,2017-05-26 01:35:55.000000000,,"[{'_account_id': 3}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24863}]","[{'number': 1, 'created': '2017-05-15 16:28:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b984f8a92f76d31445eecea3cb6a09cabef1986', 'message': 'DNM: test\n\nChange-Id: Ib3e393b62b962b0f6ef71825c0a64cc4a0549203\n'}]",0,464686,2b984f8a92f76d31445eecea3cb6a09cabef1986,34,32,1,22752,,,0,"DNM: test

Change-Id: Ib3e393b62b962b0f6ef71825c0a64cc4a0549203
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/464686/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2b984f8a92f76d31445eecea3cb6a09cabef1986,,,,1,0
openstack%2Fpython-zunclient~master~Ia556282de55399452d0cf4110ed9096ed008d87f,openstack/python-zunclient,master,Ia556282de55399452d0cf4110ed9096ed008d87f,Client support for service-enable/disable,MERGED,2017-04-26 09:42:05.000000000,2017-05-26 01:35:06.000000000,2017-05-26 01:35:06.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 23055}, {'_account_id': 23365}]","[{'number': 1, 'created': '2017-04-26 09:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/ad89681be498bdeb62697c032cc96213bfcce6bb', 'message': '[WIP]Client support for service-xyz\n\nThis patch adds support for service enable/disable/force-down\nin client.\n\nChange-Id: Ia556282de55399452d0cf4110ed9096ed008d87f\nPartially-Implements: blueprint enhance-service-api\n'}, {'number': 2, 'created': '2017-05-05 09:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/68707244bb5ed44712ef35b66caa51ac20e555e9', 'message': 'Client support for service-enable/disable\n\nThis patch adds support for service enable and disable\nin client.\n\nChange-Id: Ia556282de55399452d0cf4110ed9096ed008d87f\nPartially-Implements: blueprint enhance-service-api\n'}, {'number': 3, 'created': '2017-05-10 06:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/fc29554d5d4db7d91f2371c0c9c72665d249db04', 'message': 'Client support for service-enable/disable\n\nThis patch adds support for service enable and disable\nin client.\n\nChange-Id: Ia556282de55399452d0cf4110ed9096ed008d87f\nPartially-Implements: blueprint enhance-service-api\n'}, {'number': 4, 'created': '2017-05-11 09:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/8cea673a924a685638707f0067c473dd86f3d4fd', 'message': 'Client support for service-enable/disable\n\nThis patch adds support for service enable and disable\nin client.\n\nChange-Id: Ia556282de55399452d0cf4110ed9096ed008d87f\nPartially-Implements: blueprint enhance-service-api\n'}, {'number': 5, 'created': '2017-05-15 11:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/f42c5efc682af3f41e40a50ecf47af35925228b3', 'message': 'Client support for service-enable/disable\n\nThis patch adds support for service enable and disable\nin client.\n\nChange-Id: Ia556282de55399452d0cf4110ed9096ed008d87f\nPartially-Implements: blueprint enhance-service-api\n'}, {'number': 6, 'created': '2017-05-23 00:36:47.000000000', 'files': ['zunclient/v1/services_shell.py', 'zunclient/v1/services.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/247413559b5ddbc703050a941cbca4f34a87b268', 'message': 'Client support for service-enable/disable\n\nThis patch adds support for service enable and disable\nin client.\n\nChange-Id: Ia556282de55399452d0cf4110ed9096ed008d87f\nPartially-Implements: blueprint enhance-service-api\n'}]",5,460026,247413559b5ddbc703050a941cbca4f34a87b268,25,5,6,23055,,,0,"Client support for service-enable/disable

This patch adds support for service enable and disable
in client.

Change-Id: Ia556282de55399452d0cf4110ed9096ed008d87f
Partially-Implements: blueprint enhance-service-api
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/26/460026/2 && git format-patch -1 --stdout FETCH_HEAD,"['zunclient/v1/services_shell.py', 'zunclient/v1/services.py']",2,ad89681be498bdeb62697c032cc96213bfcce6bb,bp/enhance-service-api," def _update_body(self, host, binary, disabled_reason=None, force_down=None): body = {""host"": host, ""binary"": binary} if disabled_reason is not None: body[""disabled_reason""] = disabled_reason if force_down is not None: body[""forced_down""] = force_down return body def enable(self, host, binary): """"""Enable the service specified by hostname and binary."""""" body = self._update_body(host, binary) return self._update(""/services/enable"", body, ""service"") def disable(self, host, binary): """"""Disable the service specified by hostname and binary."""""" body = self._update_body(host, binary) return self._update(""/services/disable"", body, ""service"") def disable_log_reason(self, host, binary, reason): """"""Disable the service with reason."""""" body = self._update_body(host, binary, reason) return self._update(""/services/disable-log-reason"", body, ""service"") def force_down(self, host, binary, force_down=None): """"""Force service state to down specified by hostname and binary."""""" body = self._update_body(host, binary, force_down=force_down) return self._update(""/services/force-down"", body, ""service"")",,70,0
openstack%2Frequirements~master~I02af17fd84f0ed56b0f39ab394d65bc116a5ca61,openstack/requirements,master,I02af17fd84f0ed56b0f39ab394d65bc116a5ca61,update constraint for python-cinderclient to new release 2.1.0,MERGED,2017-05-25 19:41:47.000000000,2017-05-26 01:05:26.000000000,2017-05-26 01:05:26.000000000,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 14288}]","[{'number': 1, 'created': '2017-05-25 19:41:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ae7277e03520b41bf701489f1c1cc5adda03fca1', 'message': 'update constraint for python-cinderclient to new release 2.1.0\n\nChange-Id: I02af17fd84f0ed56b0f39ab394d65bc116a5ca61\nmeta:version: 2.1.0\nmeta:diff-start: -\nmeta:series: pike\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Sean Dague <sean@dague.net>\nmeta:release:Commit: Sean Dague <sean@dague.net>\nmeta:release:Change-Id: Ie54cca5e449825a4893f5b4b3eda301b62f00059\nmeta:release:Code-Review+1: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Davanum Srinivas (dims) <davanum@gmail.com>\nmeta:release:Workflow+1: Davanum Srinivas (dims) <davanum@gmail.com>\n'}]",0,468145,ae7277e03520b41bf701489f1c1cc5adda03fca1,9,3,1,11131,,,0,"update constraint for python-cinderclient to new release 2.1.0

Change-Id: I02af17fd84f0ed56b0f39ab394d65bc116a5ca61
meta:version: 2.1.0
meta:diff-start: -
meta:series: pike
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Sean Dague <sean@dague.net>
meta:release:Commit: Sean Dague <sean@dague.net>
meta:release:Change-Id: Ie54cca5e449825a4893f5b4b3eda301b62f00059
meta:release:Code-Review+1: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Davanum Srinivas (dims) <davanum@gmail.com>
meta:release:Workflow+1: Davanum Srinivas (dims) <davanum@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/45/468145/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ae7277e03520b41bf701489f1c1cc5adda03fca1,new-release,python-cinderclient===2.1.0,python-cinderclient===2.0.1,1,1
openstack%2Fneutron~master~If1d9a662e362639798ad93ff06d820852b0f0c99,openstack/neutron,master,If1d9a662e362639798ad93ff06d820852b0f0c99,Allow port security updates even without security-groups enabled,MERGED,2017-05-19 02:53:48.000000000,2017-05-26 01:05:05.000000000,2017-05-26 01:05:05.000000000,"[{'_account_id': 3}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 15309}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17776}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-05-19 02:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0a15c0160646ab8f3b81faf7b92976354c8f2ad', 'message': 'DNM: let port security updates through without security-groups API\n\nChange-Id: If1d9a662e362639798ad93ff06d820852b0f0c99\nCloses-bug: 1658682\n'}, {'number': 2, 'created': '2017-05-19 19:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b6b232463783df3e1f1abecaeea11b3009143ee', 'message': 'Allow port security updates even without security-groups enabled\n\nPort security is useful to enforce anti-spoofing rules, and\nthose can operate even in the absence of security groups.\n\nThis patch alters the existing code path to allow port_update\noperations even when the admin disables security_groups from\nthe deployment.\n\nCloses-bug: 1658682\n\nChange-Id: If1d9a662e362639798ad93ff06d820852b0f0c99\n'}, {'number': 3, 'created': '2017-05-19 19:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e49edd7ec32e302df7db44194076a55fd2b5d309', 'message': 'Allow port security updates even without security-groups enabled\n\nPort security is useful to enforce anti-spoofing rules, and\nthose can operate even in the absence of security groups.\n\nThis patch alters the existing code path to allow port_update\noperations even when the admin disables security_groups from\nthe deployment.\n\nCloses-bug: 1658682\n\nChange-Id: If1d9a662e362639798ad93ff06d820852b0f0c99\n'}, {'number': 4, 'created': '2017-05-19 23:28:33.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4687b235fd95d041f419fecda6bc93202699148', 'message': 'Allow port security updates even without security-groups enabled\n\nPort security is useful to enforce anti-spoofing rules, and\nthose can operate even in the absence of security groups.\n\nThis patch alters the existing code path to allow port_update\noperations even when the admin disables security_groups from\nthe deployment.\n\nCloses-bug: 1658682\n\nChange-Id: If1d9a662e362639798ad93ff06d820852b0f0c99\n'}]",5,466158,b4687b235fd95d041f419fecda6bc93202699148,34,10,4,748,,,0,"Allow port security updates even without security-groups enabled

Port security is useful to enforce anti-spoofing rules, and
those can operate even in the absence of security groups.

This patch alters the existing code path to allow port_update
operations even when the admin disables security_groups from
the deployment.

Closes-bug: 1658682

Change-Id: If1d9a662e362639798ad93ff06d820852b0f0c99
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/466158/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,d0a15c0160646ab8f3b81faf7b92976354c8f2ad,bug/1658682," if not utils.is_extension_supported(self, 'security-group'): return",,2,0
openstack%2Fneutron~master~Ia86547fb4601915d7dd852b6f7a11c120089d6f6,openstack/neutron,master,Ia86547fb4601915d7dd852b6f7a11c120089d6f6,Drop 'notifies_port_ready' check for DHCP agents,MERGED,2017-03-30 23:45:05.000000000,2017-05-26 01:04:50.000000000,2017-05-26 01:04:49.000000000,"[{'_account_id': 3}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 6773}, {'_account_id': 7787}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 13734}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 18051}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-03-30 23:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/870c54838b96fe097cf270dfcfe41080bf146192', 'message': ""Skip DHCP agent query in provisioning block setup\n\nProvisioning blocks merged in Newton so for Pike we can\nsafely assume we are not running with Liberty agents that\ndon't notify the server when the port is ready.\n\nThis allows us to skip a query to the agents and configuration\nparsing on every port provisioning block setup.\n\nNOTE: This will make it mandatory for a DHCP agent or mechanism\ndriver to acknowledge that DHCP has been provisioned on subnets\nwith DHCP enabled.\n\nChange-Id: Ia86547fb4601915d7dd852b6f7a11c120089d6f6\nRelated-Bug: #1453350\n""}, {'number': 2, 'created': '2017-04-12 12:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2120c6ea4e0b82492013cb7f5a91e6902019157b', 'message': ""Skip DHCP agent query in provisioning block setup\n\nProvisioning blocks merged in Newton so for Pike we can\nsafely assume we are not running with Liberty agents that\ndon't notify the server when the port is ready.\n\nThis allows us to skip a query to the agents and configuration\nparsing on every port provisioning block setup.\n\nNOTE: This will make it mandatory for a DHCP agent or mechanism\ndriver to acknowledge that DHCP has been provisioned on subnets\nwith DHCP enabled.\n\nChange-Id: Ia86547fb4601915d7dd852b6f7a11c120089d6f6\nRelated-Bug: #1453350\n""}, {'number': 3, 'created': '2017-04-13 20:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/945d33b79570209b047db9a105059d7556e0f7a5', 'message': ""Skip DHCP agent query in provisioning block setup\n\nProvisioning blocks merged in Newton so for Pike we can\nsafely assume we are not running with Liberty agents that\ndon't notify the server when the port is ready.\n\nThis allows us to skip a query to the agents and configuration\nparsing on every port provisioning block setup.\n\nNOTE: This will make it mandatory for a DHCP agent or mechanism\ndriver to acknowledge that DHCP has been provisioned on subnets\nwith DHCP enabled.\n\nChange-Id: Ia86547fb4601915d7dd852b6f7a11c120089d6f6\nRelated-Bug: #1453350\n""}, {'number': 4, 'created': '2017-04-21 09:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0748333edc9b6186fe3d95cb5b41317d65f2385', 'message': ""Skip DHCP agent query in provisioning block setup\n\nProvisioning blocks merged in Newton so for Pike we can\nsafely assume we are not running with Liberty agents that\ndon't notify the server when the port is ready.\n\nThis allows us to skip a query to the agents and configuration\nparsing on every port provisioning block setup.\n\nNOTE: This will make it mandatory for a DHCP agent or mechanism\ndriver to acknowledge that DHCP has been provisioned on subnets\nwith DHCP enabled.\n\nChange-Id: Ia86547fb4601915d7dd852b6f7a11c120089d6f6\nRelated-Bug: #1453350\n""}, {'number': 5, 'created': '2017-05-24 22:24:22.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4094979777102dd36a79d7fe8c809f9e360a946a', 'message': ""Drop 'notifies_port_ready' check for DHCP agents\n\nProvisioning blocks merged in Newton so for Pike we can\nsafely assume we are not running with Liberty agents that\ndon't notify the server when the port is ready.\n\nThis also drops a block of logic in the agent that was providing\nforward compatibility with servers that didn't support the\n'dhcp_ready_on_ports' endpoint since servers have been supporting\nit for so long and we don't normally allow agents to be upgraded\nfirst anyway.\n\nRelated-Bug: #1453350\nChange-Id: Ia86547fb4601915d7dd852b6f7a11c120089d6f6\n""}]",3,452009,4094979777102dd36a79d7fe8c809f9e360a946a,56,15,5,7787,,,0,"Drop 'notifies_port_ready' check for DHCP agents

Provisioning blocks merged in Newton so for Pike we can
safely assume we are not running with Liberty agents that
don't notify the server when the port is ready.

This also drops a block of logic in the agent that was providing
forward compatibility with servers that didn't support the
'dhcp_ready_on_ports' endpoint since servers have been supporting
it for so long and we don't normally allow agents to be upgraded
first anyway.

Related-Bug: #1453350
Change-Id: Ia86547fb4601915d7dd852b6f7a11c120089d6f6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/452009/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py', 'neutron/plugins/ml2/plugin.py']",3,870c54838b96fe097cf270dfcfe41080bf146192,bug/1453350," if db.is_dhcp_active_on_any_subnet(context, subnet_ids):"," if (db.is_dhcp_active_on_any_subnet(context, subnet_ids) and any(self.get_configuration_dict(a).get('notifies_port_ready') for a in self.get_dhcp_agents_hosting_networks( context, [port['network_id']]))):",4,10
openstack%2Fdevstack-gate~master~I762dd163f527e104aadb8b991af7196afb389ba3,openstack/devstack-gate,master,I762dd163f527e104aadb8b991af7196afb389ba3,gzip the ARA report after generating it,MERGED,2017-05-25 20:20:40.000000000,2017-05-26 01:02:16.000000000,2017-05-26 01:02:15.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4146}]","[{'number': 1, 'created': '2017-05-25 20:20:40.000000000', 'files': ['devstack-vm-gate-wrap.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/7653e0c1e802adba762cb128bcd5574f85f4eab7', 'message': 'gzip the ARA report after generating it\n\nARA behaves well gzipped and shaves a lot of the size due to it being\ncomposed mostly of text.\n\nChange-Id: I762dd163f527e104aadb8b991af7196afb389ba3\n'}]",0,468152,7653e0c1e802adba762cb128bcd5574f85f4eab7,8,3,1,9061,,,0,"gzip the ARA report after generating it

ARA behaves well gzipped and shaves a lot of the size due to it being
composed mostly of text.

Change-Id: I762dd163f527e104aadb8b991af7196afb389ba3
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/52/468152/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack-vm-gate-wrap.sh'],1,7653e0c1e802adba762cb128bcd5574f85f4eab7,ara-gzip, gzip --recursive --best $WORKSPACE/logs/ara,,1,0
openstack%2Fswift~stable%2Focata~Ida659fa71585f9b0cf36da75b58b28e6a25533df,openstack/swift,stable/ocata,Ida659fa71585f9b0cf36da75b58b28e6a25533df,Fixed get ring name from recon cli,MERGED,2017-04-20 12:02:26.000000000,2017-05-26 01:02:07.000000000,2017-05-26 01:02:07.000000000,"[{'_account_id': 3}, {'_account_id': 330}, {'_account_id': 15343}]","[{'number': 1, 'created': '2017-04-20 12:02:26.000000000', 'files': ['test/unit/cli/test_recon.py', 'swift/cli/recon.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/55b2fa409a176070f3b89fa0e51f32312bfdc7c4', 'message': ""Fixed get ring name from recon cli\n\nThis patch uses a more specific string to match\nthe ring name in recon cli.\n\nAlmost all the places in the project where need to get the\nsuffix (like ring.gz, ts, data and .etc) will include the '.'\nin front, if a file named 'object.sring.gz' in the swift_dir\nwill be added in the ring_names, which is not what we want.\n\nCo-Authored-By: Kota Tsuyuzaki <tsuyuzaki.kota@lab.ntt.co.jp>\nCloses-Bug: #1680704\nChange-Id: Ida659fa71585f9b0cf36da75b58b28e6a25533df\n""}]",0,458476,55b2fa409a176070f3b89fa0e51f32312bfdc7c4,10,3,1,16896,,,0,"Fixed get ring name from recon cli

This patch uses a more specific string to match
the ring name in recon cli.

Almost all the places in the project where need to get the
suffix (like ring.gz, ts, data and .etc) will include the '.'
in front, if a file named 'object.sring.gz' in the swift_dir
will be added in the ring_names, which is not what we want.

Co-Authored-By: Kota Tsuyuzaki <tsuyuzaki.kota@lab.ntt.co.jp>
Closes-Bug: #1680704
Change-Id: Ida659fa71585f9b0cf36da75b58b28e6a25533df
",git fetch https://review.opendev.org/openstack/swift refs/changes/76/458476/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_recon.py', 'swift/cli/recon.py']",2,55b2fa409a176070f3b89fa0e51f32312bfdc7c4,bug/1680704, ring_name.endswith('.ring.gz'):, ring_name.endswith('ring.gz'):,21,1
openstack%2Fcinder~master~I387268b277c46c72624a3d3b5eabf03724a7a847,openstack/cinder,master,I387268b277c46c72624a3d3b5eabf03724a7a847,Add 'resource_filters' API to support generalized filtering,MERGED,2017-05-02 07:58:39.000000000,2017-05-26 01:01:48.000000000,2017-05-22 01:54:52.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2759}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15054}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-05-02 07:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2998a899757c5e40b8cbfed603b212b496a47793', 'message': 'Add support for generalized filtering on list APIs\n\nThis patch adds ``filters`` API to retrieve allowed filters.\n\nDocImpact\nAPIImpact\nCo-Authored-By: TommyLike <tommylikehu@gmail.com>\nPartial: blueprint generalized-filtering-for-cinder-list-resource\nDepends-On: ff3d41b15abb2915de87830980147be51e5da971\n\nChange-Id: I387268b277c46c72624a3d3b5eabf03724a7a847\n'}, {'number': 2, 'created': '2017-05-02 08:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e8bc93425670584eb690a06688c56ba4eacc4cdf', 'message': 'Add support for generalized filtering on list APIs\n\nThis patch adds ``filters`` API to retrieve allowed filters.\n\nDocImpact\nAPIImpact\nCo-Authored-By: TommyLike <tommylikehu@gmail.com>\nPartial: blueprint generalized-filtering-for-cinder-list-resource\nDepends-On: ff3d41b15abb2915de87830980147be51e5da971\n\nChange-Id: I387268b277c46c72624a3d3b5eabf03724a7a847\n'}, {'number': 3, 'created': '2017-05-03 01:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a27148041663e4a6d920d05c98fd92574f715769', 'message': '[API] Add support for generalized filtering on list APIs\n\nThis patch adds ``filters`` API to retrieve allowed filters.\n\nDocImpact\nAPIImpact\nCo-Authored-By: TommyLike <tommylikehu@gmail.com>\nPartial: blueprint generalized-filtering-for-cinder-list-resource\nDepends-On: ff3d41b15abb2915de87830980147be51e5da971\n\nChange-Id: I387268b277c46c72624a3d3b5eabf03724a7a847\n'}, {'number': 4, 'created': '2017-05-15 07:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/73b04e9a9546b87a15e792ac918761dabd2efad6', 'message': 'Add support for generalized filtering on list APIs\n\nThis patch adds ``filters`` API to retrieve allowed filters.\n\nDocImpact\nAPIImpact\n\nCo-Authored-By: TommyLike <tommylikehu@gmail.com>\nPartial: blueprint generalized-filtering-for-cinder-list-resource\nDepends-On: ff3d41b15abb2915de87830980147be51e5da971\n\nChange-Id: I387268b277c46c72624a3d3b5eabf03724a7a847\n'}, {'number': 5, 'created': '2017-05-15 07:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b76ecae59fd4328551740afb224b33a40dd00c7f', 'message': 'Add support for generalized filtering on list APIs\n\nThis patch adds ``filters`` API to retrieve allowed filters.\n\nDocImpact\nAPIImpact\n\nPartial: blueprint generalized-filtering-for-cinder-list-resource\nDepends-On: ff3d41b15abb2915de87830980147be51e5da971\n\nChange-Id: I387268b277c46c72624a3d3b5eabf03724a7a847\n'}, {'number': 6, 'created': '2017-05-15 11:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d111fa29ce0632bd98db1498f8c6c95b2cee86dd', 'message': ""Add 'allowed_filters' API to support generalized filtering\n\nThis patch adds ``allowed_filters`` API to retrieve allowed\nfilters.\n\nDocImpact\nAPIImpact\n\nPartial: blueprint generalized-filtering-for-cinder-list-resource\nDepends-On: ff3d41b15abb2915de87830980147be51e5da971\n\nChange-Id: I387268b277c46c72624a3d3b5eabf03724a7a847\n""}, {'number': 7, 'created': '2017-05-16 01:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7fdc4688fea373afb85d929e649d311568d1855a', 'message': ""Add 'resource_filters' API to support generalized filtering\n\nThis patch adds ``resource_filters`` API to retrieve\nconfigured resource filters.\n\nDocImpact\nAPIImpact\n\nPartial: blueprint generalized-filtering-for-cinder-list-resource\nDepends-On: ff3d41b15abb2915de87830980147be51e5da971\n\nChange-Id: I387268b277c46c72624a3d3b5eabf03724a7a847\n""}, {'number': 8, 'created': '2017-05-17 16:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3464ba089a190c0e44268d318aab42a0e581ba1c', 'message': ""Add 'resource_filters' API to support generalized filtering\n\nThis patch adds ``resource_filters`` API to retrieve\nconfigured resource filters.\n\nAPIImpact\n\nPartial: blueprint generalized-filtering-for-cinder-list-resource\nDepends-On: ff3d41b15abb2915de87830980147be51e5da971\n\nChange-Id: I387268b277c46c72624a3d3b5eabf03724a7a847\n""}, {'number': 9, 'created': '2017-05-19 15:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5d94cdae9567fac505c6b04a1f0b889b08a9cf8c', 'message': ""Add 'resource_filters' API to support generalized filtering\n\nThis patch adds ``resource_filters`` API to retrieve\nconfigured resource filters.\n\nAPIImpact\n\nPartial: blueprint generalized-filtering-for-cinder-list-resource\nDepends-On: ff3d41b15abb2915de87830980147be51e5da971\n\nChange-Id: I387268b277c46c72624a3d3b5eabf03724a7a847\n""}, {'number': 10, 'created': '2017-05-19 15:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/20f12229b597100a5a7f3073f78db5b09cec9521', 'message': ""Add 'resource_filters' API to support generalized filtering\n\nThis patch adds ``resource_filters`` API to retrieve\nconfigured resource filters.\n\nAPIImpact\n\nPartial: blueprint generalized-filtering-for-cinder-list-resource\nDepends-On: ff3d41b15abb2915de87830980147be51e5da971\n\nChange-Id: I387268b277c46c72624a3d3b5eabf03724a7a847\n""}, {'number': 11, 'created': '2017-05-20 02:44:30.000000000', 'files': ['cinder/tests/unit/api/v3/test_resource_filters.py', 'api-ref/source/v3/index.rst', 'releasenotes/notes/add-resource-filters-api-8g3dub1700qaye98.yaml', 'api-ref/source/v3/samples/resource-filters-list-response.json', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/api/v3/resource_filters.py', 'api-ref/source/v3/resource-filters.inc', 'api-ref/source/v3/parameters.yaml', 'cinder/api/v3/views/resource_filters.py', 'cinder/api/v3/router.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8fcb809509fbdd4d5b0ecee2c33fa44f405b4aeb', 'message': ""Add 'resource_filters' API to support generalized filtering\n\nThis patch adds ``resource_filters`` API to retrieve\nconfigured resource filters.\n\nAPIImpact\n\nPartial: blueprint generalized-filtering-for-cinder-list-resource\nDepends-On: ff3d41b15abb2915de87830980147be51e5da971\n\nChange-Id: I387268b277c46c72624a3d3b5eabf03724a7a847\n""}]",8,461668,8fcb809509fbdd4d5b0ecee2c33fa44f405b4aeb,241,45,11,23083,,,0,"Add 'resource_filters' API to support generalized filtering

This patch adds ``resource_filters`` API to retrieve
configured resource filters.

APIImpact

Partial: blueprint generalized-filtering-for-cinder-list-resource
Depends-On: ff3d41b15abb2915de87830980147be51e5da971

Change-Id: I387268b277c46c72624a3d3b5eabf03724a7a847
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/461668/11 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/samples/filters-list-response.json', 'api-ref/source/v3/index.rst', 'api-ref/source/v3/filters.inc', 'cinder/api/v3/views/filters.py', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'api-ref/source/v3/parameters.yaml', 'cinder/api/v3/filters.py', 'cinder/api/v3/router.py', 'cinder/tests/unit/api/v3/test_filters.py']",10,2998a899757c5e40b8cbfed603b212b496a47793,bp/generalized-filtering-for-cinder-list-resource,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Tests for filters API. """""" import ddt from cinder.api import common from cinder.api.v3 import filters as v3_filters from cinder import test from cinder.tests.unit.api import fakes from cinder.tests.unit import fake_constants as fake FILTERS_MICRO_VERSION = '3.31' @ddt.ddt class FiltersAPITestCase(test.TestCase): """"""Test Case for filter API."""""" def setUp(self): super(FiltersAPITestCase, self).setUp() self.controller = v3_filters.FiltersController() @ddt.data({'filters': {'volume': ['key1']}, 'resource': 'volume', 'expected_filters': [{'resource': 'volume', 'allowed_filters': ['key1']}]}, {'filters': {'volume': ['key1'], 'snapshot': ['key2']}, 'resource': None, 'expected_filters': [{'resource': 'volume', 'allowed_filters': ['key1']}, {'resource': 'snapshot', 'allowed_filters': ['key2']}]}, {'filters': {'volume': ['key1', 'key2']}, 'resource': 'snapshot', 'expected_filters': []}) @ddt.unpack def test_get_filters(self, filters, resource, expected_filters): common._FILTERS_COLLECTION = filters request_url = '/v3/%s/filters' % fake.PROJECT_ID if resource is not None: request_url += '?resource=%s' % resource req = fakes.HTTPRequest.blank(request_url, version=FILTERS_MICRO_VERSION) result = self.controller.index(req) expected = {'filters': expected_filters} self.assertEqual(expected, result) ",,242,1
openstack%2Fkeystone~master~I228842f9c15207c35e40ccb1fcacc72cf2225419,openstack/keystone,master,I228842f9c15207c35e40ccb1fcacc72cf2225419,Basic overview of tempest and devstack plugins,MERGED,2017-04-18 18:47:53.000000000,2017-05-26 01:01:21.000000000,2017-05-26 01:01:21.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 10608}, {'_account_id': 11022}, {'_account_id': 16465}, {'_account_id': 21420}]","[{'number': 1, 'created': '2017-04-18 18:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/37d3f4d8076e7155b98f19b0408dae70a2cfc307', 'message': 'Basic overview of tempest and devstack plugins\n\nThis is a basic overview of the tepest and devstack plugins, this is\nmostly intended to teach how to run these tests. Follow up patches\nwill describe how can we implement such tests.\n\nChange-Id: I228842f9c15207c35e40ccb1fcacc72cf2225419\n'}, {'number': 2, 'created': '2017-04-18 18:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f04b8d59b57e47fad6631012203734de786b9831', 'message': 'Basic overview of tempest and devstack plugins\n\nThis is a basic overview of the tempest and devstack plugins, this is\nmostly intended to teach how to run these tests. Follow up patches\nwill describe implementation details.\n\nChange-Id: I228842f9c15207c35e40ccb1fcacc72cf2225419\n'}, {'number': 3, 'created': '2017-05-24 23:17:26.000000000', 'files': ['doc/source/devref/development_best_practices.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/eb5d05306838adf1a4ed2d189e19dae8843be03f', 'message': 'Basic overview of tempest and devstack plugins\n\nThis is a basic overview of the tempest and devstack plugins, this is\nmostly intended to teach how to run these tests. Follow up patches\nwill describe implementation details.\n\nChange-Id: I228842f9c15207c35e40ccb1fcacc72cf2225419\n'}]",10,457768,eb5d05306838adf1a4ed2d189e19dae8843be03f,16,7,3,11022,,,0,"Basic overview of tempest and devstack plugins

This is a basic overview of the tempest and devstack plugins, this is
mostly intended to teach how to run these tests. Follow up patches
will describe implementation details.

Change-Id: I228842f9c15207c35e40ccb1fcacc72cf2225419
",git fetch https://review.opendev.org/openstack/keystone refs/changes/68/457768/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/development_best_practices.rst'],1,37d3f4d8076e7155b98f19b0408dae70a2cfc307,tests_development_docs,"API & Scenario Tests -------------------- Keystone provides API and scenario tests via a `tempest plugin`_ located at :func:`~keystone.keystone_tempest_plugin`. This tempest plugin is mainly intended for specific scenarios that might need a special deployment, such as the tests for the ``Federated Identity`` feature. For the deployment of these specific scenarios, keystone also provides a `devstack plugin`_. For example, to setup a working federated environment, add the following lines in your ``local.conf`` file: .. code-block:: bash [[local|localrc]] enable_plugin keystone git://git.openstack.org/openstack/keystone enable_service keystone-saml2-federation Finally, to run keystone's API and scenario tests, deploy `tempest`_ with `devstack`_ (using the configuration above) and then run the following command from the tempest directory: .. code-block:: bash tox -e all-plugin -- keystone_tempest_plugin .. NOTE:: Most of keystone's API tests are implemented in `tempest`_ and it is usually the correct place to add new tests. .. _devstack: https://git.openstack.org/cgit/openstack-dev/devstack .. _devstack plugin: https://docs.openstack.org/developer/devstack/plugins.html .. _tempest: https://git.openstack.org/cgit/openstack/tempest .. _tempest plugin: https://docs.openstack.org/developer/tempest/plugin.html",Further Testing --------------- devstack_ is the *best* way to quickly deploy Keystone with the rest of the OpenStack universe and should be critical step in your development workflow! You may also be interested in either the `OpenStack Continuous Integration Infrastructure`_ or the `OpenStack Integration Testing Project`_. .. _devstack: https://docs.openstack.org/developer/devstack/ .. _OpenStack Continuous Integration Infrastructure: https://docs.openstack.org/infra/system-config .. _OpenStack Integration Testing Project: https://git.openstack.org/cgit/openstack/tempest ,30,10
openstack%2Fswift~stable%2Focata~I4f84b725e220e28919570fd7f296b63b34d0375d,openstack/swift,stable/ocata,I4f84b725e220e28919570fd7f296b63b34d0375d,Fix unit tests on i386 and other archs,MERGED,2017-05-16 08:33:05.000000000,2017-05-26 01:01:13.000000000,2017-05-26 01:01:13.000000000,"[{'_account_id': 3}, {'_account_id': 330}]","[{'number': 1, 'created': '2017-05-16 08:33:05.000000000', 'files': ['test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0b3267b71d73e6ac98d39b0966d908114c62b722', 'message': 'Fix unit tests on i386 and other archs\n\nChange-Id: I4f84b725e220e28919570fd7f296b63b34d0375d\n'}]",0,464973,0b3267b71d73e6ac98d39b0966d908114c62b722,10,2,1,16896,,,0,"Fix unit tests on i386 and other archs

Change-Id: I4f84b725e220e28919570fd7f296b63b34d0375d
",git fetch https://review.opendev.org/openstack/swift refs/changes/73/464973/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/test_utils.py'],1,0b3267b71d73e6ac98d39b0966d908114c62b722,,from nose import SkipTest # Test if current architecture supports changing of priority try: utils.NR_ioprio_set() except OSError as e: raise SkipTest(e) ,,7,0
openstack%2Fswift~stable%2Fnewton~I4f84b725e220e28919570fd7f296b63b34d0375d,openstack/swift,stable/newton,I4f84b725e220e28919570fd7f296b63b34d0375d,Fix unit tests on i386 and other archs,MERGED,2017-05-16 08:32:38.000000000,2017-05-26 01:01:04.000000000,2017-05-26 01:01:04.000000000,"[{'_account_id': 3}, {'_account_id': 330}]","[{'number': 1, 'created': '2017-05-16 08:32:38.000000000', 'files': ['test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d794179241d5095f90c42d519987cd79f936bda5', 'message': 'Fix unit tests on i386 and other archs\n\nChange-Id: I4f84b725e220e28919570fd7f296b63b34d0375d\n'}]",0,464972,d794179241d5095f90c42d519987cd79f936bda5,10,2,1,16896,,,0,"Fix unit tests on i386 and other archs

Change-Id: I4f84b725e220e28919570fd7f296b63b34d0375d
",git fetch https://review.opendev.org/openstack/swift refs/changes/72/464972/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/test_utils.py'],1,d794179241d5095f90c42d519987cd79f936bda5,,from nose import SkipTest # Test if current architecture supports changing of priority try: utils.NR_ioprio_set() except OSError as e: raise SkipTest(e) ,,7,0
openstack%2Fswift~master~I00070bb09294362c069f7ee9426ac570bc1b3ddb,openstack/swift,master,I00070bb09294362c069f7ee9426ac570bc1b3ddb,Remove tempauth docs from deployment guide,MERGED,2017-05-23 00:45:25.000000000,2017-05-26 00:59:32.000000000,2017-05-26 00:59:32.000000000,"[{'_account_id': 3}, {'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 13052}, {'_account_id': 15343}]","[{'number': 1, 'created': '2017-05-23 00:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b157174f481934b946a6ffb94fa8f0f651b5da00', 'message': 'Remove tempauth docs from deployment guide\n\nPresumably this is intended for *production* deployments, right?\n\nChange-Id: I00070bb09294362c069f7ee9426ac570bc1b3ddb\n'}, {'number': 2, 'created': '2017-05-23 23:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4c109f43cfd4e8a12f71b3f9eff76e0f4d0b8d9e', 'message': 'Remove tempauth docs from deployment guide\n\nPresumably this is intended for *production* deployments, right?\n\nChange-Id: I00070bb09294362c069f7ee9426ac570bc1b3ddb\n'}, {'number': 3, 'created': '2017-05-25 19:35:54.000000000', 'files': ['doc/source/deployment_guide.rst', 'swift/common/middleware/tempauth.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d487bf7fb1fb24d71661048540332dd2f64ee76d', 'message': ""Remove tempauth docs from deployment guide\n\nInstead, link to the middleware list and auth overview, as well as\nreferring readers to proxy-server.conf-sample\n\nTempAuth-related content that was previously in the deployment guide has\nbeen moved to TempAuth's own docs, which have been cleaned up a bit.\n\nChange-Id: I00070bb09294362c069f7ee9426ac570bc1b3ddb\n""}]",2,466953,d487bf7fb1fb24d71661048540332dd2f64ee76d,17,5,3,15343,,,0,"Remove tempauth docs from deployment guide

Instead, link to the middleware list and auth overview, as well as
referring readers to proxy-server.conf-sample

TempAuth-related content that was previously in the deployment guide has
been moved to TempAuth's own docs, which have been cleaned up a bit.

Change-Id: I00070bb09294362c069f7ee9426ac570bc1b3ddb
",git fetch https://review.opendev.org/openstack/swift refs/changes/53/466953/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/deployment_guide.rst'],1,b157174f481934b946a6ffb94fa8f0f651b5da00,p-per-policy-conf,,"Tempauth ^^^^^^^^ ``[tempauth]`` ===================== =============================== ======================= Option Default Description --------------------- ------------------------------- ----------------------- use Entry point for paste.deploy to use for auth. To use tempauth set to: `egg:swift#tempauth` set log_name tempauth Label used when logging set log_facility LOG_LOCAL0 Syslog log facility set log_level INFO Log level set log_headers True If True, log headers in each request reseller_prefix AUTH The naming scope for the auth service. Swift storage accounts and auth tokens will begin with this prefix. auth_prefix /auth/ The HTTP request path prefix for the auth service. Swift itself reserves anything beginning with the letter `v`. token_life 86400 The number of seconds a token is valid. storage_url_scheme default Scheme to return with storage URLs: http, https, or default (chooses based on what the server is running as) This can be useful with an SSL load balancer in front of a non-SSL server. ===================== =============================== ======================= Additionally, you need to list all the accounts/users you want here. The format is:: user_<account>_<user> = <key> [group] [group] [...] [storage_url] or if you want to be able to include underscores in the ``<account>`` or ``<user>`` portions, you can base64 encode them (with *no* equal signs) in a line like this:: user64_<account_b64>_<user_b64> = <key> [group] [group] [...] [storage_url] There are special groups of:: .reseller_admin = can do anything to any account for this auth .admin = can do anything within the account If neither of these groups are specified, the user can only access containers that have been explicitly allowed for them by a .admin or .reseller_admin. The trailing optional storage_url allows you to specify an alternate URL to hand back to the user upon authentication. If not specified, this defaults to:: $HOST/v1/<reseller_prefix>_<account> Where $HOST will do its best to resolve to what the requester would need to use to reach this host, <reseller_prefix> is from this section, and <account> is from the user_<account>_<user> name. Note that $HOST cannot possibly handle when you have a load balancer in front of it that does https while TempAuth itself runs with http; in such a case, you'll have to specify the storage_url_scheme configuration value as an override. Here are example entries, required for running the tests:: user_admin_admin = admin .admin .reseller_admin user_test_tester = testing .admin user_test2_tester2 = testing2 .admin user_test_tester3 = testing3 # account ""test_y"" and user ""tester_y"" (note the lack of padding = chars) user64_dGVzdF95_dGVzdGVyX3k = testing4 .admin ",0,83
openstack%2Frally~master~I26fe73d1b4833ca23023698e22ee8387d358d786,openstack/rally,master,I26fe73d1b4833ca23023698e22ee8387d358d786,Add cinder.CreateAndSetQos scenario,MERGED,2017-04-21 09:11:33.000000000,2017-05-26 00:52:52.000000000,2017-05-26 00:52:52.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 21528}, {'_account_id': 22960}, {'_account_id': 23435}]","[{'number': 1, 'created': '2017-04-21 09:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7c333e7390762e8367f6da58ef38cd7428b59c6d', 'message': 'Add cinder.CreateAndSetQos scenario\n\nCreate a qos, then Add/Update keys in qos specs.\n\nChange-Id: I26fe73d1b4833ca23023698e22ee8387d358d786\n'}, {'number': 2, 'created': '2017-04-25 13:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/52dbba2eb09d7074905cedb55e1b68629e32e6d6', 'message': 'Add cinder.CreateAndSetQos scenario\n\nCreate a qos, then Add/Update keys in qos specs.\n\nChange-Id: I26fe73d1b4833ca23023698e22ee8387d358d786\n'}, {'number': 3, 'created': '2017-05-05 02:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e2c18c6a1fc68186b6ebc77a278f2a5c7d162dd0', 'message': 'Add cinder.CreateAndSetQos scenario\n\nCreate a qos, then Add/Update keys in qos specs.\n\nChange-Id: I26fe73d1b4833ca23023698e22ee8387d358d786\n'}, {'number': 4, 'created': '2017-05-05 05:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5feb4974183b7808563ca301ba9d21d5e4671520', 'message': 'Add cinder.CreateAndSetQos scenario\n\nCreate a qos, then Add/Update keys in qos specs.\n\nChange-Id: I26fe73d1b4833ca23023698e22ee8387d358d786\n'}, {'number': 5, 'created': '2017-05-08 05:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ba1b80c33dabf12519729d5d9490dfaebd629674', 'message': 'Add cinder.CreateAndSetQos scenario\n\nCreate a qos, then Add/Update keys in qos specs.\n\nChange-Id: I26fe73d1b4833ca23023698e22ee8387d358d786\n'}, {'number': 6, 'created': '2017-05-09 08:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/37e54539b21ab3ca3dcdb86642a8e17d52edadce', 'message': 'Add cinder.CreateAndSetQos scenario\n\nCreate a qos, then Add/Update keys in qos specs.\n\nChange-Id: I26fe73d1b4833ca23023698e22ee8387d358d786\n'}, {'number': 7, 'created': '2017-05-10 09:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/455fb0fd188890d8c6324862e01d35562574c6cc', 'message': 'Add cinder.CreateAndSetQos scenario\n\nCreate a qos, then Add/Update keys in qos specs.\n\nChange-Id: I26fe73d1b4833ca23023698e22ee8387d358d786\n'}, {'number': 8, 'created': '2017-05-18 04:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/60d5f8047a737d39b74fb6d3c0330f4a6261f7fd', 'message': 'Add cinder.CreateAndSetQos scenario\n\nCreate a qos, then Add/Update keys in qos specs.\n\nChange-Id: I26fe73d1b4833ca23023698e22ee8387d358d786\n'}, {'number': 9, 'created': '2017-05-19 03:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/cdeaa5470ee18b13b4dffd132fcc1b635f11448e', 'message': 'Add cinder.CreateAndSetQos scenario\n\nCreate a qos, then Add/Update keys in qos specs.\n\nChange-Id: I26fe73d1b4833ca23023698e22ee8387d358d786\n'}, {'number': 10, 'created': '2017-05-23 06:11:12.000000000', 'files': ['rally/plugins/openstack/services/storage/cinder_common.py', 'samples/tasks/scenarios/cinder/create-and-list-qos.json', 'samples/tasks/scenarios/cinder/create-and-get-qos.yaml', 'samples/tasks/scenarios/cinder/create-and-set-qos.yaml', 'rally/plugins/openstack/scenarios/cinder/qos_specs.py', 'samples/tasks/scenarios/cinder/create-and-set-qos.json', 'tests/unit/plugins/openstack/scenarios/cinder/test_qos_specs.py', 'tests/unit/plugins/openstack/services/storage/test_block.py', 'tests/unit/plugins/openstack/services/storage/test_cinder_common.py', 'samples/tasks/scenarios/cinder/create-and-get-qos.json', 'rally-jobs/cinder.yaml', 'rally/plugins/openstack/services/storage/block.py', 'samples/tasks/scenarios/cinder/create-and-list-qos.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/53afbebe694b793bb317f24ddb8e51cf10a49c98', 'message': 'Add cinder.CreateAndSetQos scenario\n\nCreate a qos, then Add/Update keys in qos specs.\n\nChange-Id: I26fe73d1b4833ca23023698e22ee8387d358d786\n'}]",16,458779,53afbebe694b793bb317f24ddb8e51cf10a49c98,55,6,10,23435,,,0,"Add cinder.CreateAndSetQos scenario

Create a qos, then Add/Update keys in qos specs.

Change-Id: I26fe73d1b4833ca23023698e22ee8387d358d786
",git fetch https://review.opendev.org/openstack/rally refs/changes/79/458779/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/plugins/openstack/services/storage/cinder_common.py', 'rally-jobs/cinder.yaml', 'rally/plugins/openstack/services/storage/block.py', 'samples/tasks/scenarios/cinder/create-and-set-qos.yaml', 'rally/plugins/openstack/scenarios/cinder/qos_specs.py', 'samples/tasks/scenarios/cinder/create-and-set-qos.json', 'tests/unit/plugins/openstack/scenarios/cinder/test_qos_specs.py', 'tests/unit/plugins/openstack/services/storage/test_block.py', 'tests/unit/plugins/openstack/services/storage/test_cinder_common.py']",9,7c333e7390762e8367f6da58ef38cd7428b59c6d,cinder.CreateAndSetQos," def test_set_qos(self): set_specs_args = {""test"": ""foo""} result = self.service.set_qos(""qos"", set_specs_args) self.assertEqual( self.cinder.qos_specs.set_keys.return_value, result) self.cinder.qos_specs.set_keys.assert_called_once_with(""qos"", set_specs_args) def test_set_qos(self): set_specs_args = {""test"": ""foo""} self.assertEqual( self.service._impl.set_qos.return_value, self.service.set_qos(""qos"", set_specs_args)) self.service._impl.set_qos.assert_called_once_with(""qos"", set_specs_args) ",,162,0
openstack%2Foslo-specs~master~I65de8261746b25d45e105394f4eeb95b9cb3bd42,openstack/oslo-specs,master,I65de8261746b25d45e105394f4eeb95b9cb3bd42,global request id spec,MERGED,2017-05-15 20:40:28.000000000,2017-05-26 00:50:24.000000000,2017-05-24 05:06:25.000000000,"[{'_account_id': 3}, {'_account_id': 136}, {'_account_id': 330}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 5638}, {'_account_id': 6062}, {'_account_id': 6198}, {'_account_id': 7634}, {'_account_id': 9796}, {'_account_id': 10608}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 16984}, {'_account_id': 19741}, {'_account_id': 23630}]","[{'number': 1, 'created': '2017-05-15 20:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/ee58db6589b08670eeb1a1d8e8578226366f396b', 'message': 'WIP: global request id spec\n\nChange-Id: I65de8261746b25d45e105394f4eeb95b9cb3bd42\n'}, {'number': 2, 'created': '2017-05-15 21:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/033440a6c9435d71c36071fb46cf0e982d123e5c', 'message': 'WIP: global request id spec\n\nChange-Id: I65de8261746b25d45e105394f4eeb95b9cb3bd42\n'}, {'number': 3, 'created': '2017-05-16 11:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/97832eab101384c6f8cacd4d9a29e290482d1b11', 'message': 'global request id spec\n\nThis proposes a path forward on the global request_id which would be\nof use to many operators running OpenStack.\n\nChange-Id: I65de8261746b25d45e105394f4eeb95b9cb3bd42\n'}, {'number': 4, 'created': '2017-05-17 19:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/f49d5ba2155aed592db0b07232ac32d2da317532', 'message': 'global request id spec\n\nThis proposes a path forward on the global request_id which would be\nof use to many operators running OpenStack.\n\nChange-Id: I65de8261746b25d45e105394f4eeb95b9cb3bd42\n'}, {'number': 5, 'created': '2017-05-23 13:26:11.000000000', 'files': ['specs/pike/global-req-id.rst'], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/70a11a49212cf1679420c058db01970fc04ef7cb', 'message': 'global request id spec\n\nThis proposes a path forward on the global request_id which would be\nof use to many operators running OpenStack.\n\nChange-Id: I65de8261746b25d45e105394f4eeb95b9cb3bd42\n'}]",66,464746,70a11a49212cf1679420c058db01970fc04ef7cb,39,17,5,2750,,,0,"global request id spec

This proposes a path forward on the global request_id which would be
of use to many operators running OpenStack.

Change-Id: I65de8261746b25d45e105394f4eeb95b9cb3bd42
",git fetch https://review.opendev.org/openstack/oslo-specs refs/changes/46/464746/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/global-req-id.rst'],1,ee58db6589b08670eeb1a1d8e8578226366f396b,global_request_id,".. This template should be in ReSTructured text. For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, build the docs using tox, or see: http://rst.ninjs.org The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/oslo?searchtext=awesome-thing should be named awesome-thing.rst. For specs targeted at a single project, please prefix the first line of your commit message with the name of the project. For example, if you're submitting a new feature for oslo.config, your git commit message should start something like: ""config: My new feature"". Wrap text at 79 columns. Do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None If you would like to provide a diagram with your spec, ascii diagrams are required. http://asciiflow.com/ is a very nice tool to assist with making ascii diagrams. The reason for this is that the tool used to review specs is based purely on plain text. Plain text will allow review to proceed without having to look at additional files which can not be viewed in gerrit. It will also allow inline feedback on the diagram itself. ==================== Global Request IDs ==================== https://blueprints.launchpad.net/oslo?searchtext=global-req-id Building a complex resource, like a boot instance, requires not only touching a number of Nova processes, but also other services such as Neutron, Glance, and possibly Cinder. When we make those service jumps we currently generate a new request-id, which makes debugging those failures quite manual. Problem description =================== When a user creates a resource, such as a server, they are given a request-id back. This is generated very early in the paste pipeline of most services. It is eventually embedded into the ``context``, which is then used implicitly for logging all activities related to the request. This works well for tracing requests inside of a single service as it passes through it's workers, but works poorly when a resource (like a server) needs networking, and must make multiple requests to neutron (all of which much pass) to build a working server. It would be much better if a request-id passed between REST services, so that tooling such as Elastic Search could easily see the entire build flow by searching with a single request-id value. Proposed change =============== The proposed solution is as follows: - accept an inbound X-OpenStack-Request-ID header on requests - in olso request_id middleware, set the request_id assuming this was valid (apply some strict validation to it) - also generate a local_request_id for the purposes of tracking the request within the service - when oslo.context is created, if the user does not have a sufficient role (such as ``service``) reset request_id to local_request_id. This ensures only requests made by trusted services track across service boundaries. - update oslo.log to log both global and local request ids from context Paste pipelines --------------- In order to understand the flow its important to see how requests flow through the paste pipelines of services. Neutron [#f1]_ ~~~~~~~~~~~~~~ .. code-block:: ini [composite:neutronapi_v2_0] use = call:neutron.auth:pipeline_factory noauth = cors http_proxy_to_wsgi request_id catch_errors extensions neutronapiapp_v2_0 keystone = cors http_proxy_to_wsgi request_id catch_errors authtoken keystonecontext extensions neutronapiapp_v2_0 ^ ^ request_id generated here ---------+ | context built here --------------------------------------------------+ Glance [#f2]_ ~~~~~~~~~~~~~ .. code-block:: ini # Use this pipeline for keystone auth [pipeline:glance-api-keystone] pipeline = cors healthcheck http_proxy_to_wsgi versionnegotiation osprofiler authtoken context rootapp ^ request_id & context built here ---------------------------------------------+ Cinder [#f3]_ ~~~~~~~~~~~~~ .. code-block:: ini [composite:openstack_volume_api_v3] use = call:cinder.api.middleware.auth:pipeline_factory noauth = cors http_proxy_to_wsgi request_id faultwrap sizelimit osprofiler noauth apiv3 keystone = cors http_proxy_to_wsgi request_id faultwrap sizelimit osprofiler authtoken keystonecontext apiv3 ^ ^ request_id generated here ---------+ | context built here --------------------------------------------------------------------+ Nova [#f4]_ ~~~~~~~~~~~ .. code-block:: ini [composite:openstack_compute_api_v21] use = call:nova.api.auth:pipeline_factory_v21 noauth2 = cors http_proxy_to_wsgi compute_req_id faultwrap sizelimit osprofiler noauth2 osapi_compute_app_v21 keystone = cors http_proxy_to_wsgi compute_req_id faultwrap sizelimit osprofiler authtoken keystonecontext osapi_compute_app_v21 ^ ^ request_id generated here ---------+ | context built here ------------------------------------------------------------------------+ oslo.middleware.request_id -------------------------- In nearly all services the request_id generation happens very early, well before any local logic. The middleware sets an X-OpenStack-Request-ID response header, as well as variables in the environment that are later consumed by oslo.context. We would accept an inbound X-OpenStack-Request-ID, and validate that it looked like ``req-$UUID`` before accepting it as the global id. The returned X-OpenStack-Request-ID would be the ``local_request_id``. This is like the parent process getting the child process id on a fork() call. oslo.context from_environ ------------------------- Fortunately for us, during the last couple of cycles, oslo.context was cleaned up mostly function by consuming environmental variables set by keystonemiddleware even if some content is passed directly. For instance in Glance the context constructor looks like [#f5]_: .. code-block:: python kwargs = { 'owner_is_tenant': CONF.owner_is_tenant, 'service_catalog': service_catalog, 'policy_enforcer': self.policy_enforcer, 'request_id': request_id, } ctxt = glance.context.RequestContext.from_environ(req.environ, **kwargs) This means that any validation and ""switcheroo"" magic could be done when processing the environment, which will also give us access to roles accessible to the user. As all logging happens *after* the context is built, the operator should never see an inconsistency here even if we revert the global id back to the local id. oslo.log -------- oslo.log would need to be changed to understand the local request_id. This is actually very straight forward once it exists in the context object. .. note:: Nothing below this line is yet filled out, however pushing up to ensure no work is lost. Alternatives ------------ What other ways could we do this thing? Why aren't we using those? This doesn't have to be a full literature review, but it should demonstrate that thought has been put into why the proposed solution is an appropriate one. If this is a new module or library, what other similar libraries were considered why were they rejected as unsuitable? If this is a new feature, why does it belong in an Oslo module or library instead of an existing third-party library? Impact on Existing APIs ----------------------- If the change requires modifying the API of an existing oslo module or library, summarize those changes (""add foo argument to Blah constructor""). Describe how the changes can be made in a backwards-compatible way (required for libraries) or why that is not needed (desired but not required for incubated code). Security impact --------------- Describe any potential security impact on the system. Some of the items to consider include: * Does this change touch sensitive data such as tokens, keys, or user data? * Does this change alter the API in a way that may impact security, such as a new way to access sensitive information or a new way to login? * Does this change involve cryptography or hashing? * Does this change require the use of sudo or any elevated privileges? * Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer. * Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? Some examples of this include launching subprocesses for each connection, or entity expansion attacks in XML. For more detailed guidance, please see the OpenStack Security Guidelines as a reference (https://wiki.openstack.org/wiki/Security/Guidelines). These guidelines are a work in progress and are designed to help you identify security best practices. For further information, feel free to reach out to the OpenStack Security Group at openstack-security@lists.openstack.org. Performance Impact ------------------ Describe any potential performance impact on the system, for example how often will new code be called, and is there a major change to the calling pattern of existing code. Examples of things to consider here include: * A periodic task might look like a small addition but if it calls conductor or another service the load is multiplied by the number of nodes in the system. * Scheduler filters get called once per host for every instance being created, so any latency they introduce is linear with the size of the system. * A small change in a utility function or a commonly used decorator can have a large impacts on performance. * Calls which result in database queries (whether direct or via conductor) can have a profound impact on performance when called in critical sections of the code. * Will the change include any locking, and if so what considerations are there on holding the lock? Configuration Impact -------------------- Does this change introduce any new configuration options? Describe the possible valid settings. Will the default values work well in real deployments? Should the new options be more generic than proposed (for example a flag that other drivers might want to implement as well)? Why is a new configuration option needed, instead of choosing a single behavior? If a configuration option is being renamed, or moved into an option group, describe those changes. Describe plans to deprecate configuration options, including the upgrade/migration path for anyone doing continuous deployment. Developer Impact ---------------- Discuss things that will affect other developers working on OpenStack, such as: * If the blueprint proposes a change to a driver API within a library like oslo.messaging, discuss how other drivers would implement the feature. * If the blueprint proposes modifying an existing module being used by one or more apps, what will need to change in those apps to accommodate the change here? For example, when graduating a module from the incubator, does the app need a new ""interface module"" to hold global values previously held in the incubated module? Have the semantics of the module changed enough to require significant modifications to the consuming applications? API changes described above can be referenced here without repeating the details. Testing Impact -------------- Please discuss how the change will be tested. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but if you think unit tests are sufficient and we don't need to add more integration tests, please explain here. If we do need integration tests, especially if the change introduces a dependency on a service or new library for which we might need to support multiple versions, describe the testing strategy. Is this untestable in gate given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc). Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Other contributors: <launchpad-id or None> Milestones ---------- Target Milestone for completion: Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. For graduation blueprints, start with https://wiki.openstack.org/wiki/Oslo/CreatingANewLibrary#Checklist and add any additional steps necessary at the appropriate place in the sequence. If no extra work is needed, referencing the checklist without reproducing it is sufficient. Incubation ========== If this work reflects the addition of a new module through the incubator process, we want to ensure that the full life-cycle for the module has been thought out. Adoption -------- Which applications would like to share the modules? We usually prefer at least 2 applications, but if too many applications share the incubated version graduation becomes more difficult. Library ------- Which library will the new module eventually graduate into? If this is a new library, explain why no existing library is suitable (circular dependencies, no existing related library, etc.) and give a brief description of the new library. Remember to consider the dependencies of the library. Will it depend on other oslo libraries that it does not already use? Will those dependencies introduce a cycle? Anticipated API Stabilization ----------------------------- What API changes are anticipated before the code will be stable enough to graduate? How many release cycles are needed for that API to prove itself? Documentation Impact ==================== What is the impact on the docs team of this change? Some changes might require donating resources to the docs team to have the documentation updated. Don't repeat details discussed above, but please reference them here. Dependencies ============ - Include specific references to specs and/or blueprints in oslo, or in other projects, that this one either depends on or is related to. - Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. if it's an EC2 thing, link the EC2 docs) * Anything else you feel it is worthwhile to refer to .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. [#f1] https://github.com/openstack/neutron/blob/5691f29e8fd1212bb22b1a48d32dbbddf7e0587d/etc/api-paste.ini#L6-L9 .. [#f2] https://github.com/openstack/glance/blob/5caf1c739e190338e87be8bcd880cb88b0920299/etc/glance-api-paste.ini#L13-L15 .. [#f3] https://github.com/openstack/cinder/blob/81ece6a9f2ac9b4ff3efe304bab847006f8b0aef/etc/cinder/api-paste.ini#L24-L28 .. [#f4] https://github.com/openstack/nova/blob/c2c6960e374351b3ce1b43a564b57e14b54c4877/etc/nova/api-paste.ini#L29-L32 .. [#f5] https://github.com/openstack/glance/blob/70d51c7c5c09b070588041a65905eba789ae871b/glance/api/middleware/context.py#L179-L187 ",,437,0
openstack%2Frequirements~master~I6309f98856bf30554fbcc9aaed9fcae387005caf,openstack/requirements,master,I6309f98856bf30554fbcc9aaed9fcae387005caf,Require minimum oslo.middleware 3.27.0,MERGED,2017-05-25 14:56:30.000000000,2017-05-26 00:49:07.000000000,2017-05-26 00:49:06.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 11904}, {'_account_id': 14288}]","[{'number': 1, 'created': '2017-05-25 14:56:30.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f2579bb3fd150299db8e78f18ac1c5f353483395', 'message': ""Require minimum oslo.middleware 3.27.0\n\nThe Nova project needs to put in a microversion for when this is\nrequired to be adopted because it's going to change our header\nstructure on request_id returns. If we bump the g-r minimum that will\nallow use to tie that requirements change to when the API change lands\nin nova.\n\nChange-Id: I6309f98856bf30554fbcc9aaed9fcae387005caf\nDepends-On: I989ccebfab8cdd5db2a84f06cfb5bc56d17f2cdf\n""}]",0,468057,f2579bb3fd150299db8e78f18ac1c5f353483395,8,4,1,2750,,,0,"Require minimum oslo.middleware 3.27.0

The Nova project needs to put in a microversion for when this is
required to be adopted because it's going to change our header
structure on request_id returns. If we bump the g-r minimum that will
allow use to tie that requirements change to when the API change lands
in nova.

Change-Id: I6309f98856bf30554fbcc9aaed9fcae387005caf
Depends-On: I989ccebfab8cdd5db2a84f06cfb5bc56d17f2cdf
",git fetch https://review.opendev.org/openstack/requirements refs/changes/57/468057/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,f2579bb3fd150299db8e78f18ac1c5f353483395,,oslo.middleware>=3.27.0 # Apache-2.0,oslo.middleware>=3.10.0 # Apache-2.0,1,1
openstack%2Ffreezer-api~master~Ic38a14b428d69978aded6a9c28a5279682bc53e6,openstack/freezer-api,master,Ic38a14b428d69978aded6a9c28a5279682bc53e6,Correct reraising of exception,ABANDONED,2016-07-07 09:20:33.000000000,2017-05-26 00:45:03.000000000,,"[{'_account_id': 3}, {'_account_id': 7764}, {'_account_id': 11391}, {'_account_id': 12512}, {'_account_id': 14340}, {'_account_id': 20146}, {'_account_id': 21644}, {'_account_id': 22405}]","[{'number': 1, 'created': '2016-07-07 09:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/1005276a280be6d4f804b80c8dc88720ef952019', 'message': ""Correct reraising of exception\n\nWhen an exception was caught and rethrown, it should call 'raise'\nwithout any arguments because it shows the place where an exception\noccured initially instead of place where the exception re-raised.\n\nChange-Id: Ic38a14b428d69978aded6a9c28a5279682bc53e6\n""}, {'number': 2, 'created': '2016-07-16 02:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/7f3618f2c57cf3636da14ff92c456456d232ee14', 'message': ""Correct reraising of exception\n\nWhen an exception was caught and rethrown, it should call 'raise'\nwithout any arguments because it shows the place where an exception\noccured initially instead of place where the exception re-raised.\n\nChange-Id: Ic38a14b428d69978aded6a9c28a5279682bc53e6\n""}, {'number': 3, 'created': '2016-07-16 02:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/93b0b17c9ee7b888918ebb04166fcb28d6bd9fdc', 'message': ""Correct reraising of exception\n\nWhen an exception was caught and rethrown, it should call 'raise'\nwithout any arguments because it shows the place where an exception\noccured initially instead of place where the exception re-raised.\n\nChange-Id: Ic38a14b428d69978aded6a9c28a5279682bc53e6\n""}, {'number': 4, 'created': '2016-07-19 00:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/7f0c3575acef1d094f275430af6e33109ad75676', 'message': ""Correct reraising of exception\n\nWhen an exception was caught and rethrown, it should call 'raise'\nwithout any arguments because it shows the place where an exception\noccured initially instead of place where the exception re-raised.\n\nChange-Id: Ic38a14b428d69978aded6a9c28a5279682bc53e6\n""}, {'number': 5, 'created': '2016-07-19 08:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/62178e49599624161640a62056b9a57773227d30', 'message': ""Correct reraising of exception\n\nWhen an exception was caught and rethrown, it should call 'raise'\nwithout any arguments because it shows the place where an exception\noccured initially instead of place where the exception re-raised.\n\nChange-Id: Ic38a14b428d69978aded6a9c28a5279682bc53e6\n""}, {'number': 6, 'created': '2016-07-19 08:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/b6bacee9944bb61b3d3f17aef36f5c4cac3cda70', 'message': ""Correct reraising of exception\n\nWhen an exception was caught and rethrown, it should call 'raise'\nwithout any arguments because it shows the place where an exception\noccured initially instead of place where the exception re-raised.\n\nChange-Id: Ic38a14b428d69978aded6a9c28a5279682bc53e6\n""}, {'number': 7, 'created': '2016-07-19 08:35:38.000000000', 'files': ['freezer_api/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/46adcc7a7980046326f7aae144d40ea4c425d05b', 'message': ""Correct reraising of exception\n\nWhen an exception was caught and rethrown, it should call 'raise'\nwithout any arguments because it shows the place where an exception\noccured initially instead of place where the exception re-raised.\n\nChange-Id: Ic38a14b428d69978aded6a9c28a5279682bc53e6\n""}]",6,338789,46adcc7a7980046326f7aae144d40ea4c425d05b,27,8,7,20146,,,0,"Correct reraising of exception

When an exception was caught and rethrown, it should call 'raise'
without any arguments because it shows the place where an exception
occured initially instead of place where the exception re-raised.

Change-Id: Ic38a14b428d69978aded6a9c28a5279682bc53e6
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/89/338789/2 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/cmd/manage.py'],1,1005276a280be6d4f804b80c8dc88720ef952019,raise_handler, except elasticsearch.TransportError: raise except Exception: raise, except elasticsearch.TransportError as e: raise e except Exception as e: raise e,4,4
openstack%2Frequirements~master~I52b9b0e5e13785dea0d1101a743d8379e7805c00,openstack/requirements,master,I52b9b0e5e13785dea0d1101a743d8379e7805c00,Updated from generate-constraints,MERGED,2017-05-20 09:01:00.000000000,2017-05-26 00:37:44.000000000,2017-05-26 00:37:44.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6593}, {'_account_id': 11904}, {'_account_id': 13404}, {'_account_id': 14288}]","[{'number': 1, 'created': '2017-05-20 09:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2e0d1baf16bad1f02e0e3852dbb2dd63aaaac1b7', 'message': 'Updated from generate-constraints\n\nChange-Id: I52b9b0e5e13785dea0d1101a743d8379e7805c00\n'}, {'number': 2, 'created': '2017-05-21 04:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/62f610fc31691900b5f02447ac76eb9c7fcb792c', 'message': 'Updated from generate-constraints\n\nChange-Id: I52b9b0e5e13785dea0d1101a743d8379e7805c00\n'}, {'number': 3, 'created': '2017-05-21 06:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4f4686921e2702a48ab27329a0beedc8a9893413', 'message': 'Updated from generate-constraints\n\nChange-Id: I52b9b0e5e13785dea0d1101a743d8379e7805c00\n'}, {'number': 4, 'created': '2017-05-21 08:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/61e6f2b69512714a403eb5700125b286fa5825ee', 'message': 'Updated from generate-constraints\n\nChange-Id: I52b9b0e5e13785dea0d1101a743d8379e7805c00\n'}, {'number': 5, 'created': '2017-05-22 09:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/09edb1c44d87e100b57328631374b9a93dc7ea95', 'message': 'Updated from generate-constraints\n\nChange-Id: I52b9b0e5e13785dea0d1101a743d8379e7805c00\n'}, {'number': 6, 'created': '2017-05-23 08:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/96bef2a531ee6f282f4316cbdabbd00f9dd235f0', 'message': 'Updated from generate-constraints\n\nChange-Id: I52b9b0e5e13785dea0d1101a743d8379e7805c00\n'}, {'number': 7, 'created': '2017-05-24 09:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/359bb69ef71f13d32d543f2627e8921e8fcce14a', 'message': 'Updated from generate-constraints\n\nChange-Id: I52b9b0e5e13785dea0d1101a743d8379e7805c00\n'}, {'number': 8, 'created': '2017-05-25 09:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b82dae4cba40d766659a01b31e77df3561ba4e3c', 'message': 'Updated from generate-constraints\n\nChange-Id: I52b9b0e5e13785dea0d1101a743d8379e7805c00\n'}, {'number': 9, 'created': '2017-05-25 15:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ad7af0a2b79af3b2fc8d3b4742b5cfff1c7f2ce7', 'message': 'Updated from generate-constraints\n\nChange-Id: I52b9b0e5e13785dea0d1101a743d8379e7805c00\n'}, {'number': 10, 'created': '2017-05-25 19:45:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/48f1a4c19ef27e9f3d065fed5619d44ba859be0c', 'message': 'Updated from generate-constraints\n\nChange-Id: I52b9b0e5e13785dea0d1101a743d8379e7805c00\n'}]",1,466476,48f1a4c19ef27e9f3d065fed5619d44ba859be0c,39,6,10,11131,,,0,"Updated from generate-constraints

Change-Id: I52b9b0e5e13785dea0d1101a743d8379e7805c00
",git fetch https://review.opendev.org/openstack/requirements refs/changes/76/466476/8 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2e0d1baf16bad1f02e0e3852dbb2dd63aaaac1b7,openstack/requirements/constraints/dmllr,mistral===4.0.1 os-refresh-config===6.1.0os-xenapi===0.2.0SQLAlchemy===1.1.10os-apply-config===6.1.0os-collect-config===6.1.0dogpile.cache===0.6.3Django===1.9.13os-vif===1.4.1,mistral===4.0.0 os-refresh-config===6.0.0os-xenapi===0.1.1SQLAlchemy===1.1.9os-apply-config===6.0.0os-collect-config===6.0.0dogpile.cache===0.6.2Django===1.8.18os-vif===1.4.0,9,9
openstack%2Fnova~master~Ifb8b302e6f85b499a57b141d796b5b216de6c50d,openstack/nova,master,Ifb8b302e6f85b499a57b141d796b5b216de6c50d,Add Cinder v3 detach call to _terminate_volume_connections,MERGED,2017-04-14 12:36:04.000000000,2017-05-26 00:36:50.000000000,2017-05-26 00:36:50.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2243}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9562}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17814}, {'_account_id': 20040}, {'_account_id': 21784}]","[{'number': 1, 'created': '2017-04-14 12:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/351775a5b5e57730d830e6930ac40015b110864c', 'message': 'Add Cinder v3 detach call to _terminate_volume_connections\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: Ifb8b302e6f85b499a57b141d796b5b216de6c50d\n'}, {'number': 2, 'created': '2017-04-14 14:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e9bb0fb3af1956c667e73d8fb4f26edba157671', 'message': 'Add Cinder v3 detach call to _terminate_volume_connections\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: Ifb8b302e6f85b499a57b141d796b5b216de6c50d\n'}, {'number': 3, 'created': '2017-04-14 15:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b949d64dbdb29405004152a2a66d7f0f677d74a4', 'message': 'Add Cinder v3 detach call to _terminate_volume_connections\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: Ifb8b302e6f85b499a57b141d796b5b216de6c50d\n'}, {'number': 4, 'created': '2017-04-20 18:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a1c638db39567b28203a9240111f97e349d3117', 'message': 'Add Cinder v3 detach call to _terminate_volume_connections\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: Ifb8b302e6f85b499a57b141d796b5b216de6c50d\n'}, {'number': 5, 'created': '2017-04-23 13:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10166871ca35cd70ad3368e9e9ac39e2d3b61406', 'message': 'Add Cinder v3 detach call to _terminate_volume_connections\n\nThere are a few methods in the compute manager that call\nthis method so here we update it separately to be aware\nof how to handle terminating connections for new-style\nBDMs.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: Ifb8b302e6f85b499a57b141d796b5b216de6c50d\n'}, {'number': 6, 'created': '2017-04-28 20:43:52.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cf1b84904e13d20eae2497c4c6051b071aa93424', 'message': 'Add Cinder v3 detach call to _terminate_volume_connections\n\nThere are a few methods in the compute manager that call\nthis method so here we update it separately to be aware\nof how to handle terminating connections for new-style\nBDMs.\n\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: Ifb8b302e6f85b499a57b141d796b5b216de6c50d\n'}]",30,456896,cf1b84904e13d20eae2497c4c6051b071aa93424,93,23,6,9562,,,0,"Add Cinder v3 detach call to _terminate_volume_connections

There are a few methods in the compute manager that call
this method so here we update it separately to be aware
of how to handle terminating connections for new-style
BDMs.

Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>

Partially Implements: blueprint cinder-new-attach-apis

Change-Id: Ifb8b302e6f85b499a57b141d796b5b216de6c50d
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/456896/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/volume/cinder.py', 'nova/compute/manager.py']",2,351775a5b5e57730d830e6930ac40015b110864c,bp/cinder-new-attach-apis," connector = self.driver.get_volume_connector(instance) self._terminate_volume_connections(context, instance, bdms, connector) connector = self.driver.get_volume_connector(instance) self._terminate_volume_connections(context, instance, bdms, connector) if bdm.attachment_id: self.volume_api.attachment_delete(context, bdm.attachment_id) self.volume_api.attachment_create(context, bdm.volume_id, instance.uuid) else: self.volume_api.terminate_connection(context, bdm.volume_id, connector)"," self._terminate_volume_connections(context, instance, bdms) self._terminate_volume_connections(context, instance, bdms) connector = self.driver.get_volume_connector(instance) self.volume_api.terminate_connection(context, bdm.volume_id, connector)",33,5
openstack%2Frally~master~I4aa8cb412141e2c37988edf64a28771038af9d97,openstack/rally,master,I4aa8cb412141e2c37988edf64a28771038af9d97,[flavor]replace kwargs with details args,MERGED,2017-05-19 10:21:18.000000000,2017-05-26 00:32:44.000000000,2017-05-26 00:32:44.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 13340}, {'_account_id': 14817}]","[{'number': 1, 'created': '2017-05-19 10:21:18.000000000', 'files': ['tests/unit/plugins/openstack/scenarios/nova/test_flavors.py', 'rally/plugins/openstack/scenarios/nova/flavors.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/2406bf90062dd861af2b69af47cfeb3db3a2a4a5', 'message': '[flavor]replace kwargs with details args\n\nNow we should specify all available variables explicitly,\nwhich replace kwargs when create flavor.\n\nChange-Id: I4aa8cb412141e2c37988edf64a28771038af9d97\n'}]",0,466258,2406bf90062dd861af2b69af47cfeb3db3a2a4a5,14,4,1,23435,,,0,"[flavor]replace kwargs with details args

Now we should specify all available variables explicitly,
which replace kwargs when create flavor.

Change-Id: I4aa8cb412141e2c37988edf64a28771038af9d97
",git fetch https://review.opendev.org/openstack/rally refs/changes/58/466258/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/plugins/openstack/scenarios/nova/test_flavors.py', 'rally/plugins/openstack/scenarios/nova/flavors.py']",2,2406bf90062dd861af2b69af47cfeb3db3a2a4a5,flavor_replace_kwargs," def run(self, detailed=True, is_public=True, marker=None, min_disk=None, min_ram=None, limit=None, sort_key=None, sort_dir=None): :param detailed: Whether flavor needs to be return with details (optional). :param is_public: Filter flavors with provided access type (optional). None means give all flavors and only admin has query access to all flavor types. :param marker: Begin returning flavors that appear later in the flavor list than that represented by this flavor id (optional). :param min_disk: Filters the flavors by a minimum disk space, in GiB. :param min_ram: Filters the flavors by a minimum RAM, in MB. :param limit: maximum number of flavors to return (optional). :param sort_key: Flavors list sort key (optional). :param sort_dir: Flavors list sort direction (optional). self._list_flavors(detailed=detailed, is_public=is_public, marker=marker, min_disk=min_disk, min_ram=min_ram, limit=limit, sort_key=sort_key, sort_dir=sort_dir) @validation.add(""required_services"", services=[consts.Service.NOVA]) def run(self, ram, vcpus, disk, flavorid=""auto"", ephemeral=0, swap=0, rxtx_factor=1.0, is_public=True): :param flavorid: ID for the flavor (optional). You can use the reserved value ``""auto""`` to have Nova generate a UUID for the flavor in cases where you cannot simply pass ``None``. :param ephemeral: Ephemeral space size in GB (default 0). :param swap: Swap space in MB :param rxtx_factor: RX/TX factor :param is_public: Make flavor accessible to the public (default true). if is_public: is_public = False flavor = self._create_flavor(ram, vcpus, disk, flavorid=flavorid, ephemeral=ephemeral, swap=swap, rxtx_factor=rxtx_factor, is_public=is_public) def run(self, ram, vcpus, disk, flavorid=""auto"", ephemeral=0, swap=0, rxtx_factor=1.0, is_public=True): :param flavorid: ID for the flavor (optional). You can use the reserved value ``""auto""`` to have Nova generate a UUID for the flavor in cases where you cannot simply pass ``None``. :param ephemeral: Ephemeral space size in GB (default 0). :param swap: Swap space in MB :param rxtx_factor: RX/TX factor :param is_public: Make flavor accessible to the public (default true). flavor = self._create_flavor(ram, vcpus, disk, flavorid=flavorid, ephemeral=ephemeral, swap=swap, rxtx_factor=rxtx_factor, is_public=is_public) def run(self, ram, vcpus, disk, flavorid=""auto"", ephemeral=0, swap=0, rxtx_factor=1.0, is_public=True): :param flavorid: ID for the flavor (optional). You can use the reserved value ``""auto""`` to have Nova generate a UUID for the flavor in cases where you cannot simply pass ``None``. :param ephemeral: Ephemeral space size in GB (default 0). :param swap: Swap space in MB :param rxtx_factor: RX/TX factor :param is_public: Make flavor accessible to the public (default true). self._create_flavor(ram, vcpus, disk, flavorid=flavorid, ephemeral=ephemeral, swap=swap, rxtx_factor=rxtx_factor, is_public=is_public) @validation.add(""required_services"", services=[consts.Service.NOVA]) def run(self, ram, vcpus, disk, flavorid=""auto"", ephemeral=0, swap=0, rxtx_factor=1.0, is_public=True): :param flavorid: ID for the flavor (optional). You can use the reserved value ``""auto""`` to have Nova generate a UUID for the flavor in cases where you cannot simply pass ``None``. :param ephemeral: Ephemeral space size in GB (default 0). :param swap: Swap space in MB :param rxtx_factor: RX/TX factor :param is_public: Make flavor accessible to the public (default true). flavor = self._create_flavor(ram, vcpus, disk, flavorid=flavorid, ephemeral=ephemeral, swap=swap, rxtx_factor=rxtx_factor, is_public=is_public) def run(self, ram, vcpus, disk, flavorid=""auto"", ephemeral=0, swap=0, rxtx_factor=1.0, is_public=True): :param flavorid: ID for the flavor (optional). You can use the reserved value ``""auto""`` to have Nova generate a UUID for the flavor in cases where you cannot simply pass ``None``. :param ephemeral: Ephemeral space size in GB (default 0). :param swap: Swap space in MB :param rxtx_factor: RX/TX factor :param is_public: Make flavor accessible to the public (default true). flavor = self._create_flavor(ram, vcpus, disk, flavorid=flavorid, ephemeral=ephemeral, swap=swap, rxtx_factor=rxtx_factor, is_public=is_public) def run(self, ram, vcpus, disk, extra_specs, flavorid=""auto"", ephemeral=0, swap=0, rxtx_factor=1.0, is_public=True): :param flavorid: ID for the flavor (optional). You can use the reserved value ``""auto""`` to have Nova generate a UUID for the flavor in cases where you cannot simply pass ``None``. :param ephemeral: Ephemeral space size in GB (default 0). :param swap: Swap space in MB :param rxtx_factor: RX/TX factor :param is_public: Make flavor accessible to the public (default true). flavor = self._create_flavor(ram, vcpus, disk, flavorid=flavorid, ephemeral=ephemeral, swap=swap, rxtx_factor=rxtx_factor, is_public=is_public)"," def run(self, detailed=True, **kwargs): :param detailed: True if the flavor listing should contain detailed information :param kwargs: Optional additional arguments for flavor listing self._list_flavors(detailed, **kwargs) @validation.add(""required_services"", services=(consts.Service.NOVA)) def run(self, ram, vcpus, disk, **kwargs): :param kwargs: Optional additional arguments for flavor creation if kwargs.get(""is_public"", False): kwargs[""is_public""] = False flavor = self._create_flavor(ram, vcpus, disk, **kwargs) def run(self, ram, vcpus, disk, **kwargs): :param kwargs: Optional additional arguments for flavor creation flavor = self._create_flavor(ram, vcpus, disk, **kwargs) def run(self, ram, vcpus, disk, **kwargs): :param kwargs: Optional additional arguments for flavor creation self._create_flavor(ram, vcpus, disk, **kwargs) @validation.add(""required_services"", services=(consts.Service.NOVA)) def run(self, ram, vcpus, disk, **kwargs): :param kwargs: Optional additional arguments for flavor creation flavor = self._create_flavor(ram, vcpus, disk, **kwargs) def run(self, ram, vcpus, disk, **kwargs): :param kwargs: Optional additional arguments for flavor creation flavor = self._create_flavor(ram, vcpus, disk, **kwargs) def run(self, ram, vcpus, disk, extra_specs, **kwargs): :param kwargs: Optional additional arguments for flavor creation flavor = self._create_flavor(ram, vcpus, disk, **kwargs)",150,67
openstack%2Fnova~stable%2Fnewton~I7a7678e4af8160e6f48b96095154fca6ca48ff09,openstack/nova,stable/newton,I7a7678e4af8160e6f48b96095154fca6ca48ff09,Handle special characters in database connection URL netloc,MERGED,2017-05-22 16:45:02.000000000,2017-05-26 00:26:42.000000000,2017-05-26 00:26:42.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 10118}]","[{'number': 1, 'created': '2017-05-22 16:45:02.000000000', 'files': ['nova/tests/unit/test_nova_manage.py', 'releasenotes/notes/bug-1673613-7357d40ba9ab1fa6.yaml', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e3076f5ff6fea598dc4ad2de9b5cb88eb083688b', 'message': 'Handle special characters in database connection URL netloc\n\nWhen calling ""nova-manage cell_v2 simple_cell_setup"" or\n""nova-manage cell_v2 map_cell0"" without passing in the\n--database_connection option, we read the [database]/connection\nURL from nova.conf, try to split the URL and then create a\ndefault connection based on the name of the original connection,\nso if you\'re cell database\'s name is \'nova\' you\'d end up with\n\'nova_cell0\' for the cell0 database name in the URL.\n\nThe problem is the database connection URL has credentials in the\nnetloc and if the password has special characters in it, those can\nmess up the URL split, like splitting on ? which is normally denoting\nthe beginning of the path in a URL.\n\nThis change handles special characters in the password by using\na nice DB connection URL parsing utility method available in\nsqlalchemy to get the database name out of the connection URL string\nso we can replace it properly with the _cell0 suffix.\n\nAdds a release note as this bug causes issues when upgrading.\n\nConflicts:\n      nova/tests/unit/test_nova_manage.py\n\nNOTE(mriedem): The conflict is due to ddt not being used in Newton.\n\nChange-Id: I7a7678e4af8160e6f48b96095154fca6ca48ff09\nCloses-Bug: #1673613\n(cherry picked from commit 9a9a620ea2d06e51c01b0864d7275b57d7203e5a)\n(cherry picked from commit b501fa7a926943238ff5b88ef94aaaf642765e73)\n'}]",0,466808,e3076f5ff6fea598dc4ad2de9b5cb88eb083688b,11,4,1,6873,,,0,"Handle special characters in database connection URL netloc

When calling ""nova-manage cell_v2 simple_cell_setup"" or
""nova-manage cell_v2 map_cell0"" without passing in the
--database_connection option, we read the [database]/connection
URL from nova.conf, try to split the URL and then create a
default connection based on the name of the original connection,
so if you're cell database's name is 'nova' you'd end up with
'nova_cell0' for the cell0 database name in the URL.

The problem is the database connection URL has credentials in the
netloc and if the password has special characters in it, those can
mess up the URL split, like splitting on ? which is normally denoting
the beginning of the path in a URL.

This change handles special characters in the password by using
a nice DB connection URL parsing utility method available in
sqlalchemy to get the database name out of the connection URL string
so we can replace it properly with the _cell0 suffix.

Adds a release note as this bug causes issues when upgrading.

Conflicts:
      nova/tests/unit/test_nova_manage.py

NOTE(mriedem): The conflict is due to ddt not being used in Newton.

Change-Id: I7a7678e4af8160e6f48b96095154fca6ca48ff09
Closes-Bug: #1673613
(cherry picked from commit 9a9a620ea2d06e51c01b0864d7275b57d7203e5a)
(cherry picked from commit b501fa7a926943238ff5b88ef94aaaf642765e73)
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/466808/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_nova_manage.py', 'releasenotes/notes/bug-1673613-7357d40ba9ab1fa6.yaml', 'nova/cmd/manage.py']",3,e3076f5ff6fea598dc4ad2de9b5cb88eb083688b,bug/1673613,"from sqlalchemy.engine import url as sqla_url connection = CONF.database.connection # sqlalchemy has a nice utility for parsing database connection # URLs so we use that here to get the db name so we don't have to # worry about parsing and splitting a URL which could have special # characters in the password, which makes parsing a nightmare. url = sqla_url.make_url(connection) cell0_db_name = url.database + '_cell0' # We need to handle multiple occurrences of the substring, e.g. if # the username and db name are both 'nova' we need to only replace # the last one, which is the database name in the URL, not the # username. connection = connection.rstrip(url.database) return connection + cell0_db_name"," scheme, netloc, path, query, fragment = \ urlparse.urlsplit(CONF.database.connection) root, ext = os.path.splitext(path) path = root + ""_cell0"" + ext return urlparse.urlunsplit((scheme, netloc, path, query, fragment))",46,6
openstack%2Fos-brick~master~I9749e222d70fd150fb6bd8df8cd747b1e3b7fcfa,openstack/os-brick,master,I9749e222d70fd150fb6bd8df8cd747b1e3b7fcfa,Update hacking version to align with Cinder,MERGED,2017-05-21 21:35:33.000000000,2017-05-26 00:25:45.000000000,2017-05-24 15:44:10.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 16595}, {'_account_id': 19852}, {'_account_id': 22248}, {'_account_id': 24502}]","[{'number': 1, 'created': '2017-05-21 21:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/44d4fc4c668dcf2e7ea0498f4ddecbc2ae5ef7c5', 'message': 'Update hacking version to align with Cinder\n\nChange-Id: I9749e222d70fd150fb6bd8df8cd747b1e3b7fcfa\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n'}, {'number': 2, 'created': '2017-05-23 22:46:41.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4e175333e925afeda380348270f8c8a8c4725284', 'message': 'Update hacking version to align with Cinder\n\nChange-Id: I9749e222d70fd150fb6bd8df8cd747b1e3b7fcfa\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n'}]",0,466550,4e175333e925afeda380348270f8c8a8c4725284,26,10,2,23942,,,0,"Update hacking version to align with Cinder

Change-Id: I9749e222d70fd150fb6bd8df8cd747b1e3b7fcfa
Signed-off-by: Maciej Kucia <maciej@kucia.net>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/50/466550/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,44d4fc4c668dcf2e7ea0498f4ddecbc2ae5ef7c5,hacking,"hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0","hacking<0.11,>=0.10.0",1,1
openstack%2Fnova~stable%2Fnewton~I86797785f76c2c927a4db8fef72b8f8d986af6b9,openstack/nova,stable/newton,I86797785f76c2c927a4db8fef72b8f8d986af6b9,Fix the generated cell0 default database name,MERGED,2017-01-16 01:20:31.000000000,2017-05-26 00:21:53.000000000,2017-05-26 00:21:53.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}]","[{'number': 1, 'created': '2017-01-16 01:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46dc0c6e2427eabcd82250b8ff14c400348de23e', 'message': 'Fix the generated cell0 default database name\n\nThis makes the default database name for cell0 be based on the\nmain database name, not the api one. Before this, we would get\na database name of nova_api_cell0 by default, intead of nova_cell0.\nThis was confusing because cell0 has ""main"" schema inside, not ""api""\nschema.\n\nConflicts:\n        releasenotes/notes/cells-single-migration-command-0e98d66e31e02a50.yaml\n        releasenotes/notes/ocata-requires-cellv2-96bd243be874d77f.yaml\n\nNOTE(mriedem): The conflict is due to commit\n7c7686366b8c6b887c0d13f202bb66bee32b51a9 not being in Newton.\nThe change from that commit is left here as it does provide\nmore useful information about the cell0 mapping and is\nrelevant to this bug fix. The ocata-requires-cellsv2 release\nnote from master is deleted in this cherry pick as it\'s\nnot relevant to Newton since cells v2 is optional in Newton.\n\nCloses-Bug: #1656673\nDepends-On: I4e7f6c5eaa068c98e5c4ef3feaee50d8e4f5d484\nDepends-On: Ifdcd6a572dc0b42ba852241e22f6713cd2b084b0\nChange-Id: I86797785f76c2c927a4db8fef72b8f8d986af6b9\n(cherry picked from commit b28202fb52284dfbc9a9180ac017ddd1977efbf6)\n'}, {'number': 2, 'created': '2017-05-22 16:45:02.000000000', 'files': ['releasenotes/notes/cells-single-migration-command-0e98d66e31e02a50.yaml', 'nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py', 'releasenotes/notes/fix-default-cell0-db-connection-f9717053cc34778e.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/f9a3c3fcff89828b7df45149c2d0ee188f439e46', 'message': 'Fix the generated cell0 default database name\n\nThis makes the default database name for cell0 be based on the\nmain database name, not the api one. Before this, we would get\na database name of nova_api_cell0 by default, intead of nova_cell0.\nThis was confusing because cell0 has ""main"" schema inside, not ""api""\nschema.\n\nConflicts:\n        releasenotes/notes/cells-single-migration-command-0e98d66e31e02a50.yaml\n        releasenotes/notes/ocata-requires-cellv2-96bd243be874d77f.yaml\n\nNOTE(mriedem): The conflict is due to commit\n7c7686366b8c6b887c0d13f202bb66bee32b51a9 not being in Newton.\nThe change from that commit is left here as it does provide\nmore useful information about the cell0 mapping and is\nrelevant to this bug fix. The ocata-requires-cellsv2 release\nnote from master is deleted in this cherry pick as it\'s\nnot relevant to Newton since cells v2 is optional in Newton.\n\nCloses-Bug: #1656673\nDepends-On: I4e7f6c5eaa068c98e5c4ef3feaee50d8e4f5d484\nDepends-On: Ifdcd6a572dc0b42ba852241e22f6713cd2b084b0\nChange-Id: I86797785f76c2c927a4db8fef72b8f8d986af6b9\n(cherry picked from commit b28202fb52284dfbc9a9180ac017ddd1977efbf6)\n'}]",0,420461,f9a3c3fcff89828b7df45149c2d0ee188f439e46,40,11,2,6873,,,0,"Fix the generated cell0 default database name

This makes the default database name for cell0 be based on the
main database name, not the api one. Before this, we would get
a database name of nova_api_cell0 by default, intead of nova_cell0.
This was confusing because cell0 has ""main"" schema inside, not ""api""
schema.

Conflicts:
        releasenotes/notes/cells-single-migration-command-0e98d66e31e02a50.yaml
        releasenotes/notes/ocata-requires-cellv2-96bd243be874d77f.yaml

NOTE(mriedem): The conflict is due to commit
7c7686366b8c6b887c0d13f202bb66bee32b51a9 not being in Newton.
The change from that commit is left here as it does provide
more useful information about the cell0 mapping and is
relevant to this bug fix. The ocata-requires-cellsv2 release
note from master is deleted in this cherry pick as it's
not relevant to Newton since cells v2 is optional in Newton.

Closes-Bug: #1656673
Depends-On: I4e7f6c5eaa068c98e5c4ef3feaee50d8e4f5d484
Depends-On: Ifdcd6a572dc0b42ba852241e22f6713cd2b084b0
Change-Id: I86797785f76c2c927a4db8fef72b8f8d986af6b9
(cherry picked from commit b28202fb52284dfbc9a9180ac017ddd1977efbf6)
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/420461/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cells-single-migration-command-0e98d66e31e02a50.yaml', 'nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py', 'releasenotes/notes/fix-default-cell0-db-connection-f9717053cc34778e.yaml']",4,46dc0c6e2427eabcd82250b8ff14c400348de23e,bug/1673613,"--- fixes: - | The ``nova-manage cell_v2 simple_cell_setup`` command now creates the default cell0 database connection using the ``[database]`` connection configuration option rather than the ``[api_database]`` connection. The cell0 database schema is the `main` database, i.e. the `instances` table, rather than the `api` database schema. In other words, the cell0 database would be called something like ``nova_cell0`` rather than ``nova_api_cell0``.",,26,11
openstack%2Fpaunch~master~I8d8f0bcc50c0a7364fc6e3b84dd573f7e7439c3b,openstack/paunch,master,I8d8f0bcc50c0a7364fc6e3b84dd573f7e7439c3b,Add --ipc support,MERGED,2017-05-25 18:32:06.000000000,2017-05-26 00:00:16.000000000,2017-05-26 00:00:16.000000000,"[{'_account_id': 3}, {'_account_id': 2011}, {'_account_id': 4571}]","[{'number': 1, 'created': '2017-05-25 18:32:06.000000000', 'files': ['paunch/tests/test_builder_compose1.py', 'paunch/builder/compose1.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/d33bbb877db887087adf4335f75d09fca4d9af26', 'message': 'Add --ipc support\n\nThis patch allows paunch to optionally configure docker containers\nwith --ipc=host. This is required for some configurations of\nOpenStack Cinder using local machine LVM storage.\n\nChange-Id: I8d8f0bcc50c0a7364fc6e3b84dd573f7e7439c3b\nPartial-bug: #1668920\n'}]",0,468124,d33bbb877db887087adf4335f75d09fca4d9af26,7,3,1,360,,,0,"Add --ipc support

This patch allows paunch to optionally configure docker containers
with --ipc=host. This is required for some configurations of
OpenStack Cinder using local machine LVM storage.

Change-Id: I8d8f0bcc50c0a7364fc6e3b84dd573f7e7439c3b
Partial-bug: #1668920
",git fetch https://review.opendev.org/openstack/paunch refs/changes/24/468124/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_builder_compose1.py', 'paunch/builder/compose1.py']",2,d33bbb877db887087adf4335f75d09fca4d9af26,bug/1668920, if 'ipc' in cconfig: cmd.append('--ipc=%s' % cconfig['ipc']),,4,1
openstack%2Fqinling~master~I73c63244632686917439f0270a9b53b0c447867e,openstack/qinling,master,I73c63244632686917439f0270a9b53b0c447867e,Add irc channel info,MERGED,2017-05-25 23:03:47.000000000,2017-05-25 23:24:32.000000000,2017-05-25 23:24:31.000000000,"[{'_account_id': 3}, {'_account_id': 6732}]","[{'number': 1, 'created': '2017-05-25 23:03:47.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/qinling/commit/dc915d4b44a88c8ae9fc16ad7142780e57915ff1', 'message': 'Add irc channel info\n\nChange-Id: I73c63244632686917439f0270a9b53b0c447867e\n'}]",0,468194,dc915d4b44a88c8ae9fc16ad7142780e57915ff1,6,2,1,6732,,,0,"Add irc channel info

Change-Id: I73c63244632686917439f0270a9b53b0c447867e
",git fetch https://review.opendev.org/openstack/qinling refs/changes/94/468194/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,dc915d4b44a88c8ae9fc16ad7142780e57915ff1,add-irc-channel-info,* IRC channel: #openstack-qinling,,1,0
openstack%2Ftacker~master~Ifd769e1704774111c3d03c917ae2e102a58d354b,openstack/tacker,master,Ifd769e1704774111c3d03c917ae2e102a58d354b,Updated from global requirements,MERGED,2017-05-24 03:47:10.000000000,2017-05-25 23:15:11.000000000,2017-05-25 23:15:11.000000000,"[{'_account_id': 3}, {'_account_id': 13380}, {'_account_id': 16237}]","[{'number': 1, 'created': '2017-05-24 03:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c00c6909558ff7ff12896049af83e7a3f5401727', 'message': 'Updated from global requirements\n\nChange-Id: Ifd769e1704774111c3d03c917ae2e102a58d354b\n'}, {'number': 2, 'created': '2017-05-24 06:05:18.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tacker/commit/867b13f49a2ec4677759ae133c8665a2b76703db', 'message': 'Updated from global requirements\n\nChange-Id: Ifd769e1704774111c3d03c917ae2e102a58d354b\n'}]",0,467476,867b13f49a2ec4677759ae133c8665a2b76703db,9,3,2,11131,,,0,"Updated from global requirements

Change-Id: Ifd769e1704774111c3d03c917ae2e102a58d354b
",git fetch https://review.opendev.org/openstack/tacker refs/changes/76/467476/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c00c6909558ff7ff12896049af83e7a3f5401727,openstack/requirements,oslo.db>=4.21.1 # Apache-2.0,oslo.db>=4.19.0 # Apache-2.0,1,1
openstack%2Fos-client-config~master~Ib347ec686d4d01788ee943c4c4f809aad06d9ccf,openstack/os-client-config,master,Ib347ec686d4d01788ee943c4c4f809aad06d9ccf,"Revert ""Revert ""Use interface not endpoint_type for keystoneclient""""",MERGED,2017-05-13 13:57:35.000000000,2017-05-25 23:10:41.000000000,2017-05-25 23:10:41.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 3099}]","[{'number': 1, 'created': '2017-05-13 13:57:35.000000000', 'files': ['os_client_config/cloud_config.py', 'os_client_config/tests/test_cloud_config.py'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/a483534123640eca2bcbf7c06920be3a2a01b090', 'message': 'Revert ""Revert ""Use interface not endpoint_type for keystoneclient""""\n\nUnrevert the endpoint_type/interface patch. But this time around, put in\na check for API version 2.0 and only apply the interface arg if it\'s for\nv3.\n\nThis reverts commit 4493871824839782846c3825c754895876f8d08e.\n\nChange-Id: Ib347ec686d4d01788ee943c4c4f809aad06d9ccf\n'}]",0,464299,a483534123640eca2bcbf7c06920be3a2a01b090,7,3,1,2,,,0,"Revert ""Revert ""Use interface not endpoint_type for keystoneclient""""

Unrevert the endpoint_type/interface patch. But this time around, put in
a check for API version 2.0 and only apply the interface arg if it's for
v3.

This reverts commit 4493871824839782846c3825c754895876f8d08e.

Change-Id: Ib347ec686d4d01788ee943c4c4f809aad06d9ccf
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/99/464299/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_client_config/cloud_config.py', 'os_client_config/tests/test_cloud_config.py']",2,a483534123640eca2bcbf7c06920be3a2a01b090,443693," interface='admin',"," endpoint_type='admin',",14,11
openstack%2Fproject-config~master~I0c82d44fdad71fc1aa67d01fe703ac349dd8c1f6,openstack/project-config,master,I0c82d44fdad71fc1aa67d01fe703ac349dd8c1f6,Further bindep-fallback fixes for openSUSE,MERGED,2017-05-25 20:31:15.000000000,2017-05-25 23:10:34.000000000,2017-05-25 23:10:34.000000000,"[{'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 5263}]","[{'number': 1, 'created': '2017-05-25 20:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4bcaecc84392d53f617c40c96d775a739971ac5f', 'message': 'Further bindep-fallback fixes for openSUSE\n\nChange-Id: I0c82d44fdad71fc1aa67d01fe703ac349dd8c1f6\n'}, {'number': 2, 'created': '2017-05-25 20:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b30e06fafb4175e5b2a8128fdb45f81ee08ced95', 'message': 'Further bindep-fallback fixes for openSUSE\n\nDepends-on: I24eb057124c03bd856e256af4e5f9f5fda935b47\nChange-Id: I0c82d44fdad71fc1aa67d01fe703ac349dd8c1f6\n'}, {'number': 3, 'created': '2017-05-25 20:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/690f6af9efacb18b46d07a34678f7b74859651b8', 'message': 'Further bindep-fallback fixes for openSUSE\n\nDepends-on: I24eb057124c03bd856e256af4e5f9f5fda935b47\nChange-Id: I0c82d44fdad71fc1aa67d01fe703ac349dd8c1f6\n'}, {'number': 4, 'created': '2017-05-25 20:49:15.000000000', 'files': ['jenkins/data/bindep-fallback.txt'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8f1b99dbd1bc63e91ba71609ea575c38c9ed2b3f', 'message': 'Further bindep-fallback fixes for openSUSE\n\nDepends-on: I24eb057124c03bd856e256af4e5f9f5fda935b47\nChange-Id: I0c82d44fdad71fc1aa67d01fe703ac349dd8c1f6\n'}]",7,468157,8f1b99dbd1bc63e91ba71609ea575c38c9ed2b3f,24,3,4,6593,,,0,"Further bindep-fallback fixes for openSUSE

Depends-on: I24eb057124c03bd856e256af4e5f9f5fda935b47
Change-Id: I0c82d44fdad71fc1aa67d01fe703ac349dd8c1f6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/57/468157/4 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/data/bindep-fallback.txt'],1,4bcaecc84392d53f617c40c96d775a739971ac5f,bindep_opensuse,gettext [!platform:suse] gettext-runtime [platform:suse]libffi-devel [platform:redhat] libffi48-devel [platform:suse]libjpeg8-devel [platform:suse]mariadb-server [platform:redhat]pkg-config [platform:dpkg platform:suse]rubygems [platform:redhat],gettextlibffi-devel [platform:rpm]libjpeg-devel [platform:suse]mariadb-server [platform:rpm]pkg-config [platform:dpkg]rubygems [platform:rpm],8,6
openstack%2Fproject-config~master~I24eb057124c03bd856e256af4e5f9f5fda935b47,openstack/project-config,master,I24eb057124c03bd856e256af4e5f9f5fda935b47,Remove asciidoc / ant from bindep-fallback.txt,MERGED,2017-05-25 20:24:01.000000000,2017-05-25 23:10:26.000000000,2017-05-25 23:10:26.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6593}]","[{'number': 1, 'created': '2017-05-25 20:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c95e82574ea0d8c83ecf62bc28b366ea6056b8bf', 'message': 'Remove asciidoc from bindep-fallback.txt\n\nThis was only needed by openstack-infra/gerrit, it also makes opensuse\npull in a large amount of tex packages.\n\nChange-Id: I24eb057124c03bd856e256af4e5f9f5fda935b47\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2017-05-25 20:26:49.000000000', 'files': ['jenkins/data/bindep-fallback.txt'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4a4d05ba3b412554d99cf76c549742d2a3078537', 'message': 'Remove asciidoc / ant from bindep-fallback.txt\n\nThis was only needed by openstack-infra/gerrit, it also makes opensuse\npull in a large amount of tex packages.\n\nChange-Id: I24eb057124c03bd856e256af4e5f9f5fda935b47\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,468154,4a4d05ba3b412554d99cf76c549742d2a3078537,9,4,2,4162,,,0,"Remove asciidoc / ant from bindep-fallback.txt

This was only needed by openstack-infra/gerrit, it also makes opensuse
pull in a large amount of tex packages.

Change-Id: I24eb057124c03bd856e256af4e5f9f5fda935b47
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/468154/2 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/data/bindep-fallback.txt'],1,c95e82574ea0d8c83ecf62bc28b366ea6056b8bf,,,asciidoc,0,1
openstack%2Frally~master~I458c3b345afd2fbdb79630ddbc2d0114afc44e02,openstack/rally,master,I458c3b345afd2fbdb79630ddbc2d0114afc44e02,[validators] Cleanup warnings,MERGED,2017-05-25 10:18:56.000000000,2017-05-25 23:01:22.000000000,2017-05-25 23:01:22.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}]","[{'number': 1, 'created': '2017-05-25 10:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/582f3fa1d1c2a9e957a335c4531719135295d455', 'message': '[validators] Cleanup warnings\n\nSince we do not want to block any patches, the work of refactoring of\nvalidators is done in parallel with other features. That is why some\nnew plugins are merged with usage of deprecated validators.\n\nThis patch ports several scenarios and context to use latest validators.\n\nChange-Id: I458c3b345afd2fbdb79630ddbc2d0114afc44e02\n'}, {'number': 2, 'created': '2017-05-25 12:58:30.000000000', 'files': ['rally/plugins/openstack/context/magnum/ca_certs.py', 'rally/plugins/openstack/scenarios/cinder/volume_types.py', 'rally/plugins/openstack/scenarios/magnum/k8s_pods.py', 'rally/plugins/openstack/scenarios/neutron/network.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/b6e55fbf170495418cb9b02d456861f880ca846d', 'message': '[validators] Cleanup warnings\n\nSince we do not want to block any patches, the work of refactoring of\nvalidators is done in parallel with other features. That is why some\nnew plugins are merged with usage of deprecated validators.\n\nThis patch ports several scenarios and context to use latest validators.\n\nChange-Id: I458c3b345afd2fbdb79630ddbc2d0114afc44e02\n'}]",0,467978,b6e55fbf170495418cb9b02d456861f880ca846d,11,3,2,9545,,,0,"[validators] Cleanup warnings

Since we do not want to block any patches, the work of refactoring of
validators is done in parallel with other features. That is why some
new plugins are merged with usage of deprecated validators.

This patch ports several scenarios and context to use latest validators.

Change-Id: I458c3b345afd2fbdb79630ddbc2d0114afc44e02
",git fetch https://review.opendev.org/openstack/rally refs/changes/78/467978/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/plugins/openstack/context/magnum/ca_certs.py', 'rally/plugins/openstack/scenarios/cinder/volume_types.py', 'rally/plugins/openstack/scenarios/magnum/k8s_pods.py', 'rally/plugins/openstack/scenarios/neutron/network.py']",4,582f3fa1d1c2a9e957a335c4531719135295d455,clean_warnings,"@validation.add(""number"", param_name=""subnets_per_network"", minval=1, integer_only=True)@validation.add(""number"", param_name=""subnets_per_network"", minval=1, integer_only=True)@validation.add(""number"", param_name=""subnets_per_network"", minval=1, integer_only=True)@validation.add(""number"", param_name=""subnets_per_network"", minval=1, integer_only=True)","@validation.number(""subnets_per_network"", minval=1, integer_only=True)@validation.number(""subnets_per_network"", minval=1, integer_only=True)@validation.number(""subnets_per_network"", minval=1, integer_only=True)@validation.number(""ports_per_network"", minval=1, integer_only=True)",17,11
openstack%2Fos-client-config~master~I7789f381c99311bfd1c1e0a9869cbacbc96b17d6,openstack/os-client-config,master,I7789f381c99311bfd1c1e0a9869cbacbc96b17d6,Don't pop from os.environ,MERGED,2017-05-25 12:27:39.000000000,2017-05-25 22:55:30.000000000,2017-05-25 22:55:30.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 970}, {'_account_id': 3099}, {'_account_id': 11564}]","[{'number': 1, 'created': '2017-05-25 12:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/06200307e84d1fcb845c7baba805eb25583d445e', 'message': ""Don't pop from os.environ\n\nIt's rude to other users and subsequent callers.\n\nChange-Id: I7789f381c99311bfd1c1e0a9869cbacbc96b17d6\n""}, {'number': 2, 'created': '2017-05-25 13:31:54.000000000', 'files': ['os_client_config/config.py'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/990cfa3ce24d0a92c7578b52ae1fea02d69f7e87', 'message': ""Don't pop from os.environ\n\nIt's rude to other users and subsequent callers.\n\nChange-Id: I7789f381c99311bfd1c1e0a9869cbacbc96b17d6\n""}]",0,468020,990cfa3ce24d0a92c7578b52ae1fea02d69f7e87,10,5,2,9555,,,0,"Don't pop from os.environ

It's rude to other users and subsequent callers.

Change-Id: I7789f381c99311bfd1c1e0a9869cbacbc96b17d6
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/20/468020/2 && git format-patch -1 --stdout FETCH_HEAD,['os_client_config/config.py'],1,06200307e84d1fcb845c7baba805eb25583d445e,popstop," config_file_override = os.environ.get('OS_CLIENT_CONFIG_FILE', None) secure_file_override = os.environ.get('OS_CLIENT_SECURE_FILE', None) os.environ.get( os.environ.get( self.envvar_key = os.environ.get('OS_CLOUD_NAME', 'envvars') self.default_cloud = os.environ.get('OS_CLOUD', None)"," config_file_override = os.environ.pop('OS_CLIENT_CONFIG_FILE', None) secure_file_override = os.environ.pop('OS_CLIENT_SECURE_FILE', None) os.environ.pop( os.environ.pop( self.envvar_key = os.environ.pop('OS_CLOUD_NAME', 'envvars') self.default_cloud = os.environ.pop('OS_CLOUD', None)",6,6
openstack%2Fos-client-config~master~I279bdf68408a807ec18fba634df3769c9b8fc4dc,openstack/os-client-config,master,I279bdf68408a807ec18fba634df3769c9b8fc4dc,Keep a singleton to support multiple get_config calls,MERGED,2017-05-16 23:14:30.000000000,2017-05-25 22:55:25.000000000,2017-05-25 22:55:25.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 3099}]","[{'number': 1, 'created': '2017-05-16 23:14:30.000000000', 'files': ['os_client_config/__init__.py'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/8235e0ce6cff00bfa84501865a3cf48511cdf2ec', 'message': 'Keep a singleton to support multiple get_config calls\n\nWe are destructive to os.environ in the OpenStackConfig constructor- so\nit really should only ever be called once. Make sure get_config does\nthis.\n\nChange-Id: I279bdf68408a807ec18fba634df3769c9b8fc4dc\nCloses-Bug: #1691294\n'}]",0,465195,8235e0ce6cff00bfa84501865a3cf48511cdf2ec,7,3,1,2,,,0,"Keep a singleton to support multiple get_config calls

We are destructive to os.environ in the OpenStackConfig constructor- so
it really should only ever be called once. Make sure get_config does
this.

Change-Id: I279bdf68408a807ec18fba634df3769c9b8fc4dc
Closes-Bug: #1691294
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/95/465195/1 && git format-patch -1 --stdout FETCH_HEAD,['os_client_config/__init__.py'],1,8235e0ce6cff00bfa84501865a3cf48511cdf2ec,bug/1691294,"_config = None global _config if not _config: _config = OpenStackConfig( load_yaml_config=load_yaml_config, app_name=app_name, app_version=app_version) if options: _config.register_argparse_arguments(options, sys.argv, service_key) return _config.get_one_cloud(options=parsed_options, **kwargs)"," config = OpenStackConfig( load_yaml_config=load_yaml_config, app_name=app_name, app_version=app_version) if options: config.register_argparse_arguments(options, sys.argv, service_key) return config.get_one_cloud(options=parsed_options, **kwargs)",8,5
openstack%2Fos-client-config~master~I29db3c830759a80d8ea9f0d93a213b4bae4c8b59,openstack/os-client-config,master,I29db3c830759a80d8ea9f0d93a213b4bae4c8b59,Add ironicclient to constructors list,MERGED,2017-05-12 17:06:12.000000000,2017-05-25 22:55:19.000000000,2017-05-25 22:55:19.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 3099}]","[{'number': 1, 'created': '2017-05-12 17:06:12.000000000', 'files': ['os_client_config/constructors.json'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/7a3acde3ed8a68acc15596be2d297426ee357084', 'message': 'Add ironicclient to constructors list\n\nChange-Id: I29db3c830759a80d8ea9f0d93a213b4bae4c8b59\n'}]",0,464239,7a3acde3ed8a68acc15596be2d297426ee357084,7,3,1,2,,,0,"Add ironicclient to constructors list

Change-Id: I29db3c830759a80d8ea9f0d93a213b4bae4c8b59
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/39/464239/1 && git format-patch -1 --stdout FETCH_HEAD,['os_client_config/constructors.json'],1,7a3acde3ed8a68acc15596be2d297426ee357084,," ""baremetal"": ""ironicclient.client.Client"",",,1,0
openstack%2Fos-client-config~master~I6e7176568311c1f0e644a8e8876f56c3e153d6e8,openstack/os-client-config,master,I6e7176568311c1f0e644a8e8876f56c3e153d6e8,Add helper method to fetch service catalog,MERGED,2017-05-12 17:06:12.000000000,2017-05-25 22:55:10.000000000,2017-05-25 22:55:10.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 3099}]","[{'number': 1, 'created': '2017-05-12 17:06:12.000000000', 'files': ['os_client_config/cloud_config.py'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/347fe82c929bb9b8aba5aee504bbe3eaf1e8bf04', 'message': 'Add helper method to fetch service catalog\n\nGrabbing the catalog is weird. OCC should help.\n\nChange-Id: I6e7176568311c1f0e644a8e8876f56c3e153d6e8\n'}]",0,464238,347fe82c929bb9b8aba5aee504bbe3eaf1e8bf04,7,3,1,2,,,0,"Add helper method to fetch service catalog

Grabbing the catalog is weird. OCC should help.

Change-Id: I6e7176568311c1f0e644a8e8876f56c3e153d6e8
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/38/464238/1 && git format-patch -1 --stdout FETCH_HEAD,['os_client_config/cloud_config.py'],1,347fe82c929bb9b8aba5aee504bbe3eaf1e8bf04,," def get_service_catalog(self): """"""Helper method to grab the service catalog."""""" return self._auth.get_access(self.get_session()).service_catalog ",,4,0
openstack%2Fneutron~stable%2Focata~I3e48e06e76325939fbc9533b0198924bc96d600e,openstack/neutron,stable/ocata,I3e48e06e76325939fbc9533b0198924bc96d600e,DVR: Do not check HA state on DVR-only routers,MERGED,2017-05-23 10:36:16.000000000,2017-05-25 22:50:35.000000000,2017-05-25 22:50:35.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 9656}]","[{'number': 1, 'created': '2017-05-23 10:36:16.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/df0e7dfe0a94e50134faa40d768a78bd9872fda9', 'message': ""DVR: Do not check HA state on DVR-only routers\n\nTrying to check HA state on a DVR-only compute node\ncan trigger:\n\nAttributeError: 'DvrLocalRouter' object has no attribute 'ha_state'\n\nAlso moved the mode assignment outside of the loops\nsince it only needs to be done once.\n\nCo-Authored-By: Sean Redmond <sean.redmond1@gmail.com>\nCloses-bug: #1691427\nChange-Id: I3e48e06e76325939fbc9533b0198924bc96d600e\n(cherry picked from commit b748f2e9b9892443cd4ae072f69a26f8af6da2d1)\n""}]",0,467118,df0e7dfe0a94e50134faa40d768a78bd9872fda9,10,3,1,8873,,,0,"DVR: Do not check HA state on DVR-only routers

Trying to check HA state on a DVR-only compute node
can trigger:

AttributeError: 'DvrLocalRouter' object has no attribute 'ha_state'

Also moved the mode assignment outside of the loops
since it only needs to be done once.

Co-Authored-By: Sean Redmond <sean.redmond1@gmail.com>
Closes-bug: #1691427
Change-Id: I3e48e06e76325939fbc9533b0198924bc96d600e
(cherry picked from commit b748f2e9b9892443cd4ae072f69a26f8af6da2d1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/467118/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py']",2,df0e7dfe0a94e50134faa40d768a78bd9872fda9,bug/1691427," def test_periodic_sync_routers_task_not_check_ha_state_for_router(self): # DVR-only agent should not trigger ha state check self.conf.set_override('agent_mode', lib_constants.L3_AGENT_MODE_DVR) agent = l3_agent.L3NATAgentWithStateReport(HOSTNAME, self.conf) ha_id = _uuid() active_routers = [ {'id': ha_id, n_const.HA_ROUTER_STATE_KEY: n_const.HA_ROUTER_STATE_STANDBY, 'ha': True}, {'id': _uuid()}] self.plugin_api.get_router_ids.return_value = [r['id'] for r in active_routers] self.plugin_api.get_routers.return_value = active_routers with mock.patch.object(agent, 'check_ha_state_for_router') as check: agent.periodic_sync_routers_task(agent.context) self.assertFalse(check.called) ",,22,3
openstack%2Fcinder~master~I2a74af7906d14cbc49b8cf0a88c344ca30fcbd26,openstack/cinder,master,I2a74af7906d14cbc49b8cf0a88c344ca30fcbd26,Deprecate osapi_volume_base_url duplicate option,MERGED,2017-05-05 15:58:53.000000000,2017-05-25 22:46:05.000000000,2017-05-22 23:54:31.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12112}, {'_account_id': 12176}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 22752}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24863}]","[{'number': 1, 'created': '2017-05-05 15:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bbed941b2f9d42f5195927160d304219072caecb', 'message': 'Deprecate osapi_volume_base_url duplicate option\n\nThis option duplicates what public_endpoint does.\n\nChange-Id: I2a74af7906d14cbc49b8cf0a88c344ca30fcbd26\n'}, {'number': 2, 'created': '2017-05-19 17:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2dc2688faffb0f1853090cdac87daad909885b5e', 'message': 'Deprecate osapi_volume_base_url duplicate option\n\nThis option duplicates what public_endpoint does.\n\nChange-Id: I2a74af7906d14cbc49b8cf0a88c344ca30fcbd26\n'}, {'number': 3, 'created': '2017-05-19 22:39:15.000000000', 'files': ['releasenotes/notes/deprecate_osapi_volume_base_url-b6984886a902a562.yaml', 'cinder/api/common.py', 'cinder/api/views/versions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/811395c6453c59abffadc9fd0c08e887b1a8b996', 'message': 'Deprecate osapi_volume_base_url duplicate option\n\nThis option duplicates what public_endpoint does.\n\nChange-Id: I2a74af7906d14cbc49b8cf0a88c344ca30fcbd26\n'}]",2,462979,811395c6453c59abffadc9fd0c08e887b1a8b996,71,35,3,170,,,0,"Deprecate osapi_volume_base_url duplicate option

This option duplicates what public_endpoint does.

Change-Id: I2a74af7906d14cbc49b8cf0a88c344ca30fcbd26
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/462979/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate_osapi_volume_base_url-b6984886a902a562.yaml', 'cinder/api/common.py', 'cinder/api/views/versions.py']",3,bbed941b2f9d42f5195927160d304219072caecb,," ""this to represent the proxy's URL."", deprecated_name='osapi_volume_base_URL'),"," ""this to represent the proxy's URL.""),",15,7
openstack%2Fkuryr-kubernetes~master~Ie4b8d672e0ee1de06a057869236a234c64e0fdd5,openstack/kuryr-kubernetes,master,Ie4b8d672e0ee1de06a057869236a234c64e0fdd5,get nested drivers opts out of neutron defaults,MERGED,2017-03-27 08:16:24.000000000,2017-05-25 22:42:56.000000000,2017-05-25 17:05:09.000000000,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 6598}, {'_account_id': 14352}, {'_account_id': 14867}, {'_account_id': 15168}, {'_account_id': 15967}, {'_account_id': 19339}, {'_account_id': 21273}, {'_account_id': 22998}, {'_account_id': 23567}]","[{'number': 1, 'created': '2017-03-27 08:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7c5866e467377da3af28fbe3c84fd2b0bd1475aa', 'message': 'Split nested drivers config options out of generic config.\n\nPartially Implements blueprint driver-handler-opt-loading\n\nChange-Id: Ie4b8d672e0ee1de06a057869236a234c64e0fdd5\n'}, {'number': 2, 'created': '2017-05-16 08:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6c10d357c963ba2dbab972ad37ed9d3081158eb7', 'message': 'Split nested drivers config options out of generic config.\n\nPartially Implements blueprint driver-handler-opt-loading\n\nChange-Id: Ie4b8d672e0ee1de06a057869236a234c64e0fdd5\n'}, {'number': 3, 'created': '2017-05-16 08:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/63e91ea67ee35025e8950aa0f6e0d08a835a4941', 'message': 'Split nested drivers config options out of generic config.\n\nPartially Implements blueprint driver-handler-opt-loading\n\nChange-Id: Ie4b8d672e0ee1de06a057869236a234c64e0fdd5\n'}, {'number': 4, 'created': '2017-05-16 09:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e4fb509ec68f748b947a4a0adc5c8b226085eb2e', 'message': 'Split nested drivers config options out of generic config.\n\nPartially Implements blueprint driver-handler-opt-loading\n\nChange-Id: Ie4b8d672e0ee1de06a057869236a234c64e0fdd5\n'}, {'number': 5, 'created': '2017-05-21 05:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8f35094ec3c8b8e2106994fbce255eea384fa056', 'message': 'Split nested drivers config options out of generic config.\n\nPartially Implements blueprint driver-handler-opt-loading\n\nChange-Id: Ie4b8d672e0ee1de06a057869236a234c64e0fdd5\n'}, {'number': 6, 'created': '2017-05-23 12:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7038556acb88eebcc1cbf43dd1bfe59b212d43fc', 'message': 'Split nested drivers config options out of generic config.\n\nPartially Implements blueprint driver-handler-opt-loading\n\nChange-Id: Ie4b8d672e0ee1de06a057869236a234c64e0fdd5\n'}, {'number': 7, 'created': '2017-05-23 12:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8479b72822651ec05893bf9713cc3a7328b558ad', 'message': 'Split nested drivers config options out of generic config.\n\nPartially Implements blueprint driver-handler-opt-loading\n\nChange-Id: Ie4b8d672e0ee1de06a057869236a234c64e0fdd5\n'}, {'number': 8, 'created': '2017-05-24 04:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/357448965bda4930f9a8f3509428e73d57c7ac38', 'message': 'Split nested drivers config options out of generic config.\n\nPartially Implements blueprint driver-handler-opt-loading\n\nChange-Id: Ie4b8d672e0ee1de06a057869236a234c64e0fdd5\n'}, {'number': 9, 'created': '2017-05-24 14:50:44.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/drivers/test_nested_vlan_vif.py', 'README.rst', 'kuryr_kubernetes/controller/drivers/nested_vlan_vif.py', 'kuryr_kubernetes/opts.py', 'kuryr_kubernetes/config.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/602acfe58e3d3dc98e153b835c75c55ce1a6b739', 'message': 'get nested drivers opts out of neutron defaults\n\nPartially Implements: blueprint driver-handler-opt-loading\nChange-Id: Ie4b8d672e0ee1de06a057869236a234c64e0fdd5\n'}]",9,450113,602acfe58e3d3dc98e153b835c75c55ce1a6b739,44,11,9,6598,,,0,"get nested drivers opts out of neutron defaults

Partially Implements: blueprint driver-handler-opt-loading
Change-Id: Ie4b8d672e0ee1de06a057869236a234c64e0fdd5
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/13/450113/4 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/drivers/test_nested_vlan_vif.py', 'kuryr_kubernetes/controller/drivers/nested_vlan_vif.py', 'kuryr_kubernetes/config.py']",3,7c5866e467377da3af28fbe3c84fd2b0bd1475aa,bp/driver-handler-opt-loading,," cfg.StrOpt('worker_nodes_subnet', help=_(""Neutron subnet ID for k8s worker node vms."")),",22,11
openstack%2Fneutron~stable%2Fnewton~Ic8935008515bed687ad3abd00c8ccaf656a30452,openstack/neutron,stable/newton,Ic8935008515bed687ad3abd00c8ccaf656a30452,Retrieve fresh network DB data before getting it in ml2,MERGED,2017-05-18 13:09:11.000000000,2017-05-25 22:40:33.000000000,2017-05-25 22:40:33.000000000,"[{'_account_id': 3}, {'_account_id': 7249}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 11159}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-05-18 13:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1c2d3cf823e5a75431492fa97c72e3cee5763ff', 'message': 'Retrieve fresh network DB data before getting it in ml2\n\nThe DB objects that have join relationship with network, will be\nacquired once during a DB transaction.\nHowever, if they are updated after the first acquisition, the network\nDB model object maintains the older value, and doesnt update it.\n\nAfter cd7d63bde92e47a4b7bd4212b2e6c45f08c03143, the updated network\nis retrieved from the db causing this bug.\nThis patch retrieves the latest data for these DB objects so that\nupdated information can be used.\n\nChange-Id: Ic8935008515bed687ad3abd00c8ccaf656a30452\nCloses-Bug: #1649503\n(cherry-pick from commit e5ad765484e546b9f857a91c0fea41ebfd87adab)\n'}, {'number': 2, 'created': '2017-05-19 07:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fe1e37f9de737a0f51340338c264f8bb8122842', 'message': 'Retrieve fresh network DB data before getting it in ml2\n\nThe DB objects that have join relationship with network, will be\nacquired once during a DB transaction.\nHowever, if they are updated after the first acquisition, the network\nDB model object maintains the older value, and doesnt update it.\n\nAfter cd7d63bde92e47a4b7bd4212b2e6c45f08c03143, the updated network\nis retrieved from the db causing this bug.\nThis patch retrieves the latest data for these DB objects so that\nupdated information can be used.\n\nChange-Id: Ic8935008515bed687ad3abd00c8ccaf656a30452\nCloses-Bug: #1649503\n(cherry-pick from commit e5ad765484e546b9f857a91c0fea41ebfd87adab)\n'}, {'number': 3, 'created': '2017-05-22 09:17:56.000000000', 'files': ['neutron/tests/tempest/api/test_qos.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7534c0066354a2e2df03dacfcf89820539d2306f', 'message': 'Retrieve fresh network DB data before getting it in ml2\n\nThe DB objects that have join relationship with network, will be\nacquired once during a DB transaction.\nHowever, if they are updated after the first acquisition, the network\nDB model object maintains the older value, and doesnt update it.\n\nAfter cd7d63bde92e47a4b7bd4212b2e6c45f08c03143, the updated network\nis retrieved from the db causing this bug.\nThis patch retrieves the latest data for these DB objects so that\nupdated information can be used.\n\nIn order to pass functional tests, get_network is still called instead\nof _make_network_dict as in original change.\n\nChange-Id: Ic8935008515bed687ad3abd00c8ccaf656a30452\nCloses-Bug: #1649503\n(cherry-pick from commit e5ad765484e546b9f857a91c0fea41ebfd87adab)\n'}]",2,465958,7534c0066354a2e2df03dacfcf89820539d2306f,24,9,3,7249,,,0,"Retrieve fresh network DB data before getting it in ml2

The DB objects that have join relationship with network, will be
acquired once during a DB transaction.
However, if they are updated after the first acquisition, the network
DB model object maintains the older value, and doesnt update it.

After cd7d63bde92e47a4b7bd4212b2e6c45f08c03143, the updated network
is retrieved from the db causing this bug.
This patch retrieves the latest data for these DB objects so that
updated information can be used.

In order to pass functional tests, get_network is still called instead
of _make_network_dict as in original change.

Change-Id: Ic8935008515bed687ad3abd00c8ccaf656a30452
Closes-Bug: #1649503
(cherry-pick from commit e5ad765484e546b9f857a91c0fea41ebfd87adab)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/465958/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/tempest/api/test_qos.py', 'neutron/plugins/ml2/plugin.py']",2,b1c2d3cf823e5a75431492fa97c72e3cee5763ff,bug/1649503," # ToDO(QoS): This would change once EngineFacade moves out db_network = self._get_network(context, id) # Expire the db_network in current transaction, so that the join # relationship can be updated. context.session.expire(db_network) updated_network = self._make_network_dict( db_network, context=context)"," updated_network = self.get_network(context, id)",9,3
openstack%2Fneutron~stable%2Focata~Ic8935008515bed687ad3abd00c8ccaf656a30452,openstack/neutron,stable/ocata,Ic8935008515bed687ad3abd00c8ccaf656a30452,Retrieve fresh network DB data before getting it in ml2,MERGED,2017-05-18 13:06:51.000000000,2017-05-25 22:40:19.000000000,2017-05-25 22:40:18.000000000,"[{'_account_id': 3}, {'_account_id': 4694}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 11159}, {'_account_id': 16688}]","[{'number': 1, 'created': '2017-05-18 13:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c84001b989dbdce9bb298a56bd4e772ff9824a4', 'message': 'Retrieve fresh network DB data before getting it in ml2\n\nThe DB objects that have join relationship with network, will be\nacquired once during a DB transaction.\nHowever, if they are updated after the first acquisition, the network\nDB model object maintains the older value, and doesnt update it.\n\nAfter cd7d63bde92e47a4b7bd4212b2e6c45f08c03143, the updated network\nis retrieved from the db causing this bug.\nThis patch retrieves the latest data for these DB objects so that\nupdated information can be used.\n\nChange-Id: Ic8935008515bed687ad3abd00c8ccaf656a30452\nCloses-Bug: #1649503\n'}, {'number': 2, 'created': '2017-05-18 13:08:24.000000000', 'files': ['neutron/tests/tempest/api/test_qos.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/33f49eb195802bd08f85bcba05f626545cc8d7ce', 'message': 'Retrieve fresh network DB data before getting it in ml2\n\nThe DB objects that have join relationship with network, will be\nacquired once during a DB transaction.\nHowever, if they are updated after the first acquisition, the network\nDB model object maintains the older value, and doesnt update it.\n\nAfter cd7d63bde92e47a4b7bd4212b2e6c45f08c03143, the updated network\nis retrieved from the db causing this bug.\nThis patch retrieves the latest data for these DB objects so that\nupdated information can be used.\n\nChange-Id: Ic8935008515bed687ad3abd00c8ccaf656a30452\nCloses-Bug: #1649503\n(cherry-pick from commit e5ad765484e546b9f857a91c0fea41ebfd87adab)\n'}]",0,465956,33f49eb195802bd08f85bcba05f626545cc8d7ce,14,7,2,7249,,,0,"Retrieve fresh network DB data before getting it in ml2

The DB objects that have join relationship with network, will be
acquired once during a DB transaction.
However, if they are updated after the first acquisition, the network
DB model object maintains the older value, and doesnt update it.

After cd7d63bde92e47a4b7bd4212b2e6c45f08c03143, the updated network
is retrieved from the db causing this bug.
This patch retrieves the latest data for these DB objects so that
updated information can be used.

Change-Id: Ic8935008515bed687ad3abd00c8ccaf656a30452
Closes-Bug: #1649503
(cherry-pick from commit e5ad765484e546b9f857a91c0fea41ebfd87adab)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/465956/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/tempest/api/test_qos.py', 'neutron/plugins/ml2/plugin.py']",2,2c84001b989dbdce9bb298a56bd4e772ff9824a4,bug/1649503," # ToDO(QoS): This would change once EngineFacade moves out db_network = self._get_network(context, id) # Expire the db_network in current transaction, so that the join # relationship can be updated. context.session.expire(db_network) updated_network = self._make_network_dict( db_network, context=context)"," updated_network = self.get_network(context, id)",9,3
openstack%2Fcharm-rabbitmq-server~master~I234046de279e1c28f7ad640c2cd7c641e864525b,openstack/charm-rabbitmq-server,master,I234046de279e1c28f7ad640c2cd7c641e864525b,Set clustered atrribute in the cluster's leader,MERGED,2017-05-24 16:57:43.000000000,2017-05-25 22:34:14.000000000,2017-05-25 22:34:14.000000000,"[{'_account_id': 3}, {'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2017-05-24 16:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/01f9977243e9c2317e8ea7cd26ede13f4c7f45d5', 'message': ""Set clustered atrribute in the cluster's leader\n\nWhen forming the cluster the leader node (defined by\nleader_node_hostname) is the one that won't join a cluster, all the\nother peers will join this leader, this prevented the leader from\nsetting the clustered attribute in the cluster relation.\n\nThis patch makes all the units to run the cluster_with() function\nand cluster_with() skips 'rabbitmqctl join_cluster' for the nodes\nalready present in the running section of 'rabbitmqctl cluster_status'\nand sets the clustered attribute if it hasn't been set already.\n\nAlso cluster_with() is called within the upgrade-charm hook to allow\nexisting deployments set the attribute if needed.\n\nChange-Id: I234046de279e1c28f7ad640c2cd7c641e864525b\nCloses-Bug: 1691510\n""}, {'number': 2, 'created': '2017-05-25 14:41:41.000000000', 'files': ['unit_tests/test_rabbit_utils.py', 'tests/basic_deployment.py', 'hooks/rabbitmq_server_relations.py', 'hooks/rabbit_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/6a66fd16124c60d056fc710c1f47df6855c8ba1e', 'message': ""Set clustered atrribute in the cluster's leader\n\nWhen forming the cluster the leader node (defined by\nleader_node_hostname) is the one that won't join a cluster, all the\nother peers will join this leader, this prevented the leader from\nsetting the clustered attribute in the cluster relation.\n\nThis patch makes all the units to run the cluster_with() function\nand cluster_with() skips 'rabbitmqctl join_cluster' for the nodes\nalready present in the running section of 'rabbitmqctl cluster_status'\nand sets the clustered attribute if it hasn't been set already.\n\nAlso cluster_with() is called within the upgrade-charm hook to allow\nexisting deployments set the attribute if needed.\n\nChange-Id: I234046de279e1c28f7ad640c2cd7c641e864525b\nCloses-Bug: 1691510\n""}]",5,467684,6a66fd16124c60d056fc710c1f47df6855c8ba1e,18,6,2,2424,,,0,"Set clustered atrribute in the cluster's leader

When forming the cluster the leader node (defined by
leader_node_hostname) is the one that won't join a cluster, all the
other peers will join this leader, this prevented the leader from
setting the clustered attribute in the cluster relation.

This patch makes all the units to run the cluster_with() function
and cluster_with() skips 'rabbitmqctl join_cluster' for the nodes
already present in the running section of 'rabbitmqctl cluster_status'
and sets the clustered attribute if it hasn't been set already.

Also cluster_with() is called within the upgrade-charm hook to allow
existing deployments set the attribute if needed.

Change-Id: I234046de279e1c28f7ad640c2cd7c641e864525b
Closes-Bug: 1691510
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/84/467684/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_rabbit_utils.py', 'tests/basic_deployment.py', 'hooks/rabbitmq_server_relations.py', 'hooks/rabbit_utils.py']",4,01f9977243e9c2317e8ea7cd26ede13f4c7f45d5,bug/1691510," relation_id, local_unit, cluster_rid = relation_id('cluster', local_unit()) is_clustered = relation_get(attribute='clustered', rid=cluster_rid) log('am I clustered?: %s' % bool(is_clustered), level=DEBUG) if not is_clustered: # NOTE(freyes): this node needs to be marked as clustered, it's # part of the cluster acoording to 'rabbitmqctl cluster_status' # (LP: #1691510) relation_set(relation_id=cluster_rid, clustered=get_unit_hostname(), timestamp=time.time()) for rid in relation_ids('cluster'): units += len(related_units(rid)) for rid in relation_ids('cluster'): for remote_unit in related_units(rid): rid=rid,"," if clustered(): log('Node is already clustered, skipping') return False for relation_id in relation_ids('cluster'): units += len(related_units(relation_id)) for relation_id in relation_ids('cluster'): for remote_unit in related_units(relation_id): rid=relation_id,",82,12
openstack%2Fironic-python-agent~master~I35bf7db3a870bc3981992e4e86d851d3f2512fd6,openstack/ironic-python-agent,master,I35bf7db3a870bc3981992e4e86d851d3f2512fd6,Add option for building IPMItool into TinyIPA,MERGED,2017-05-18 11:55:08.000000000,2017-05-25 22:30:12.000000000,2017-05-25 22:30:12.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 19686}]","[{'number': 1, 'created': '2017-05-18 11:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/687d61139f450c8d4f08fa9c2b4b8b58c8c7589e', 'message': 'Add option for building IPMItool into TinyIPA\n\nIPMItool is required for discovering the IPMI/BMC address during\ninspection, currently its not built into TinyIPA so this patch adds the\ntool to make that feature work.\n\nChange-Id: I35bf7db3a870bc3981992e4e86d851d3f2512fd6\n'}, {'number': 2, 'created': '2017-05-18 12:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6274d1c3e7caa4fa1543b3e0ada2c3fd016c636c', 'message': 'Add option for building IPMItool into TinyIPA\n\nIPMItool is required for discovering the IPMI/BMC address during\ninspection, currently its not built into TinyIPA so this patch adds the\ntool to make that feature work.\n\nChange-Id: I35bf7db3a870bc3981992e4e86d851d3f2512fd6\n(cherry picked from commit 687d61139f450c8d4f08fa9c2b4b8b58c8c7589e)\n'}, {'number': 3, 'created': '2017-05-22 12:26:43.000000000', 'files': ['imagebuild/tinyipa/.gitignore', 'imagebuild/tinyipa/build-tinyipa.sh', 'imagebuild/tinyipa/finalise-tinyipa.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6950e6030d9f439c981b574da93e965c0c90cdc8', 'message': 'Add option for building IPMItool into TinyIPA\n\nIPMItool is required for discovering the IPMI/BMC address during\ninspection, currently its not built into TinyIPA so this patch adds the\ntool to make that feature work.\n\nChange-Id: I35bf7db3a870bc3981992e4e86d851d3f2512fd6\n'}]",2,465932,6950e6030d9f439c981b574da93e965c0c90cdc8,16,7,3,6637,,,0,"Add option for building IPMItool into TinyIPA

IPMItool is required for discovering the IPMI/BMC address during
inspection, currently its not built into TinyIPA so this patch adds the
tool to make that feature work.

Change-Id: I35bf7db3a870bc3981992e4e86d851d3f2512fd6
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/32/465932/3 && git format-patch -1 --stdout FETCH_HEAD,"['imagebuild/tinyipa/.gitignore', 'imagebuild/tinyipa/build-tinyipa.sh', 'imagebuild/tinyipa/finalise-tinyipa.sh']",3,687d61139f450c8d4f08fa9c2b4b8b58c8c7589e,tinyipa_ipmitool,TINYIPA_REQUIRE_IPMITOOL=${TINYIPA_REQUIRE_IPMITOOL:-true}if $TINYIPA_REQUIRE_IPMITOOL; then cp $WORKDIR/build_files/ipmitool.* $FINALDIR/tmp/builtin/optional fi if $TINYIPA_REQUIRE_IPMITOOL; then $TC_CHROOT_CMD tce-load -ic /tmp/builtin/optional/ipmitool.tcz fi ,,22,1
openstack%2Fpatrole~master~Ib276b834df703f854708d0bb482fcf5cd5d9ea58,openstack/patrole,master,Ib276b834df703f854708d0bb482fcf5cd5d9ea58,Remove assisted volume snapshot RBAC tests,MERGED,2017-05-22 23:41:35.000000000,2017-05-25 22:29:22.000000000,2017-05-25 22:18:09.000000000,"[{'_account_id': 3}, {'_account_id': 23184}, {'_account_id': 23185}]","[{'number': 1, 'created': '2017-05-22 23:41:35.000000000', 'files': ['patrole_tempest_plugin/tests/api/compute/test_assisted_volume_snapshot_rbac.py', 'releasenotes/notes/remove-assisted-volume-snapshot-tests-c204bc72779cb53a.yaml'], 'web_link': 'https://opendev.org/openstack/patrole/commit/e6fbe0fe30639275066ce181ea1b7be8d1541885', 'message': 'Remove assisted volume snapshot RBAC tests\n\nThis patch removes assisted volume snapshots RBAC tests from\nthe compute module, because the assisted volume snapshot\nclient does not yet exist in Tempest.\n\nAccording to Tempest\'s hacking rules, ""Skipping tests should be\nbased on configuration only."" Skipping the tests unconditionally\nis bad practice.\n\nOnce the relevant Tempest client is implemented, this patch can\nbe reverted and the skip test decorator from the tests can be\nremoved.\n\nChange-Id: Ib276b834df703f854708d0bb482fcf5cd5d9ea58\n'}]",3,466937,e6fbe0fe30639275066ce181ea1b7be8d1541885,20,3,1,23186,,,0,"Remove assisted volume snapshot RBAC tests

This patch removes assisted volume snapshots RBAC tests from
the compute module, because the assisted volume snapshot
client does not yet exist in Tempest.

According to Tempest's hacking rules, ""Skipping tests should be
based on configuration only."" Skipping the tests unconditionally
is bad practice.

Once the relevant Tempest client is implemented, this patch can
be reverted and the skip test decorator from the tests can be
removed.

Change-Id: Ib276b834df703f854708d0bb482fcf5cd5d9ea58
",git fetch https://review.opendev.org/openstack/patrole refs/changes/37/466937/1 && git format-patch -1 --stdout FETCH_HEAD,"['patrole_tempest_plugin/tests/api/compute/test_assisted_volume_snapshot_rbac.py', 'releasenotes/notes/remove-assisted-volume-snapshot-tests-c204bc72779cb53a.yaml']",2,e6fbe0fe30639275066ce181ea1b7be8d1541885,remove_assisted_volume_snapshot_tests,"--- deprecations: - | Remove assisted volume snapshot RBAC tests, because the Tempest client does not yet exist. ",,5,73
openstack%2Fpatrole~master~Ifbcc095fdd498e151b2a261c13f11d3fec379464,openstack/patrole,master,Ifbcc095fdd498e151b2a261c13f11d3fec379464,Remove role switching from identity v2 rbac tests,ABANDONED,2017-04-14 23:18:24.000000000,2017-05-25 22:24:29.000000000,,"[{'_account_id': 3}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-04-14 23:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/ff268b1c08b40eb21377c4a23f762374dfb1d528', 'message': 'Remove role switching from identity v2 rbac tests\n\nThis patch removes role switching functionality from identity v2\nrbac tests in order to avoid random test failures involving\nthese tests. For example: [0].\n\nBecause identity v2 API does not do policy enforcement--rather\nchecking that the context is admin instead--it is possible to\nforgo role switching easily with these tests to greatly increase\ntest stability.\n\nThis is accomplished by using the admin client to do resource\nsetup and clean up and the non-admin client to perform the API\naction under test.\n\nThis patch adds a new class-scoped param called ""switch_roles""\nto every rbac_base test class. If set to False, role-switching\nin the ""finally"" block of rbac_rule_validation is skipped;\notherwise, role-switching is performed.\n\nThis patch also fixes numerous inconsistencies with these tests,\nsuch as:\n  * inconsistent location of create helper functions => moved them\n    all to rbac_base\n  * unnecessary use of imports\n  * incorrectly creating too many resources (i.e. creating service\n    inside create endpoint helper)\n  * inconsistently indexing into dictionaries\n\n[0] http://logs.openstack.org/67/456767/8/check/gate-tempest-dsvm-patrole-member-ubuntu-xenial-nv/0580eb8/console.html\n\nChange-Id: Ifbcc095fdd498e151b2a261c13f11d3fec379464\n'}, {'number': 2, 'created': '2017-04-14 23:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/23c02cf222149f80352ed6f913ba18c7dd51ccdf', 'message': '[WIP] Remove role switching from identity v2 rbac tests\n\nThis patch removes role switching functionality from identity v2\nrbac tests in order to avoid random test failures involving\nthese tests. For example: [0].\n\nBecause identity v2 API does not do policy enforcement--rather\nchecking that the context is admin instead--it is possible to\nforgo role switching easily with these tests to greatly increase\ntest stability.\n\nThis is accomplished by using the admin client to do resource\nsetup and clean up and the non-admin client to perform the API\naction under test.\n\nThis patch adds a new class-scoped param called ""switch_roles""\nto every rbac_base test class. If set to False, role-switching\nin the ""finally"" block of rbac_rule_validation is skipped;\notherwise, role-switching is performed.\n\nThis patch also fixes numerous inconsistencies with these tests,\nsuch as:\n  * inconsistent location of create helper functions => moved them\n    all to rbac_base\n  * unnecessary use of imports\n  * incorrectly creating too many resources (i.e. creating service\n    inside create endpoint helper)\n  * inconsistently indexing into dictionaries\n\n[0] http://logs.openstack.org/67/456767/8/check/gate-tempest-dsvm-patrole-member-ubuntu-xenial-nv/0580eb8/console.html\n\nChange-Id: Ifbcc095fdd498e151b2a261c13f11d3fec379464\n'}, {'number': 3, 'created': '2017-04-15 00:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/b8219611c1e2ed2f70b070251ae10de57546f5dd', 'message': 'Remove role switching from identity v2 rbac tests\n\nThis patch removes role switching functionality from identity v2\nrbac tests in order to avoid random test failures involving\nthese tests. For example: [0].\n\nBecause identity v2 API does not do policy enforcement--rather\nchecking that the context is admin instead--it is possible to\nforgo role switching easily with these tests to greatly increase\ntest stability.\n\nThis is accomplished by using the admin client to do resource\nsetup and clean up and the non-admin client to perform the API\naction under test.\n\nThis patch adds a new class-scoped param called ""switch_roles""\nto every rbac_base test class. If set to False, role-switching\nin the ""finally"" block of rbac_rule_validation is skipped;\notherwise, role-switching is performed.\n\nThis patch also fixes numerous inconsistencies with these tests,\nsuch as:\n  * inconsistent location of create helper functions => moved them\n    all to rbac_base\n  * unnecessary use of imports\n  * incorrectly creating too many resources (i.e. creating service\n    inside create endpoint helper)\n  * inconsistently indexing into dictionaries\n\n[0] http://logs.openstack.org/67/456767/8/check/gate-tempest-dsvm-patrole-member-ubuntu-xenial-nv/0580eb8/console.html\n\nChange-Id: Ifbcc095fdd498e151b2a261c13f11d3fec379464\n'}, {'number': 4, 'created': '2017-04-17 00:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/35ea1a27e7442557525a194f122a827f3a7aed02', 'message': 'Remove role switching from identity v2 rbac tests\n\nThis patch removes role switching functionality from identity v2\nrbac tests in order to avoid random test failures involving\nthese tests. For example: [0].\n\nBecause identity v2 API does not do policy enforcement--rather\nchecking that the context is admin instead--it is possible to\nforgo role switching easily with these tests to greatly increase\ntest stability.\n\nThis is accomplished by using the admin client to do resource\nsetup and clean up and the non-admin client to perform the API\naction under test.\n\nThis patch adds a new class-scoped param called ""switch_roles""\nto every rbac_base test class. If set to False, role-switching\nin the ""finally"" block of rbac_rule_validation is skipped;\notherwise, role-switching is performed.\n\nThis patch also fixes numerous inconsistencies with these tests,\nsuch as:\n  * inconsistent location of create helper functions => moved them\n    all to rbac_base\n  * unnecessary use of imports\n  * incorrectly creating too many resources (i.e. creating service\n    inside create endpoint helper)\n  * inconsistently indexing into dictionaries\n\n[0] http://logs.openstack.org/67/456767/8/check/gate-tempest-dsvm-patrole-member-ubuntu-xenial-nv/0580eb8/console.html\n\nChange-Id: Ifbcc095fdd498e151b2a261c13f11d3fec379464\n'}, {'number': 5, 'created': '2017-05-02 15:50:16.000000000', 'files': ['patrole_tempest_plugin/tests/api/identity/v2/test_endpoints_rbac.py', 'patrole_tempest_plugin/rbac_rule_validation.py', 'patrole_tempest_plugin/tests/api/orchestration/rbac_base.py', 'patrole_tempest_plugin/tests/api/identity/v2/test_users_rbac.py', 'patrole_tempest_plugin/tests/api/volume/rbac_base.py', 'patrole_tempest_plugin/tests/api/image/rbac_base.py', 'patrole_tempest_plugin/tests/api/identity/v2/test_projects_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v2/test_services_rbac.py', 'patrole_tempest_plugin/tests/unit/test_rbac_rule_validation.py', 'patrole_tempest_plugin/tests/api/identity/v2/rbac_base.py', 'patrole_tempest_plugin/tests/api/network/rbac_base.py', 'patrole_tempest_plugin/tests/api/identity/v2/test_roles_rbac.py', 'patrole_tempest_plugin/tests/api/compute/test_quota_sets_rbac.py', 'patrole_tempest_plugin/tests/api/compute/rbac_base.py', 'patrole_tempest_plugin/tests/api/identity/v3/rbac_base.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/e51807677535575b71d8de2981e204df19117c03', 'message': 'Remove role switching from identity v2 rbac tests\n\nThis patch removes role switching functionality from identity v2\nrbac tests in order to avoid random test failures involving\nthese tests. For example: [0].\n\nBecause identity v2 API does not do policy enforcement--rather\nchecking that the context is admin instead--it is possible to\nforgo role switching easily with these tests to greatly increase\ntest stability.\n\nThis is accomplished by using the admin client to do resource\nsetup and clean up and the non-admin client to perform the API\naction under test.\n\nThis patch adds a new class-scoped param called ""switch_roles""\nto every rbac_base test class. If set to False, role-switching\nin the ""finally"" block of rbac_rule_validation is skipped;\notherwise, role-switching is performed.\n\nThis patch also fixes numerous inconsistencies with these tests,\nsuch as:\n  * inconsistent location of create helper functions => moved them\n    all to rbac_base\n  * unnecessary use of imports\n  * incorrectly creating too many resources (i.e. creating service\n    inside create endpoint helper)\n  * inconsistently indexing into dictionaries\n\n[0] http://logs.openstack.org/67/456767/8/check/gate-tempest-dsvm-patrole-member-ubuntu-xenial-nv/0580eb8/console.html\n\nChange-Id: Ifbcc095fdd498e151b2a261c13f11d3fec379464\n'}]",0,456973,e51807677535575b71d8de2981e204df19117c03,20,2,5,23186,,,0,"Remove role switching from identity v2 rbac tests

This patch removes role switching functionality from identity v2
rbac tests in order to avoid random test failures involving
these tests. For example: [0].

Because identity v2 API does not do policy enforcement--rather
checking that the context is admin instead--it is possible to
forgo role switching easily with these tests to greatly increase
test stability.

This is accomplished by using the admin client to do resource
setup and clean up and the non-admin client to perform the API
action under test.

This patch adds a new class-scoped param called ""switch_roles""
to every rbac_base test class. If set to False, role-switching
in the ""finally"" block of rbac_rule_validation is skipped;
otherwise, role-switching is performed.

This patch also fixes numerous inconsistencies with these tests,
such as:
  * inconsistent location of create helper functions => moved them
    all to rbac_base
  * unnecessary use of imports
  * incorrectly creating too many resources (i.e. creating service
    inside create endpoint helper)
  * inconsistently indexing into dictionaries

[0] http://logs.openstack.org/67/456767/8/check/gate-tempest-dsvm-patrole-member-ubuntu-xenial-nv/0580eb8/console.html

Change-Id: Ifbcc095fdd498e151b2a261c13f11d3fec379464
",git fetch https://review.opendev.org/openstack/patrole refs/changes/73/456973/4 && git format-patch -1 --stdout FETCH_HEAD,"['patrole_tempest_plugin/tests/api/identity/v2/test_endpoints_rbac.py', 'patrole_tempest_plugin/rbac_rule_validation.py', 'patrole_tempest_plugin/tests/api/orchestration/rbac_base.py', 'patrole_tempest_plugin/tests/api/identity/v2/test_users_rbac.py', 'patrole_tempest_plugin/tests/api/volume/rbac_base.py', 'patrole_tempest_plugin/tests/api/image/rbac_base.py', 'patrole_tempest_plugin/tests/api/identity/v2/test_projects_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v2/test_services_rbac.py', 'patrole_tempest_plugin/tests/api/identity/v2/rbac_base.py', 'patrole_tempest_plugin/tests/api/network/rbac_base.py', 'patrole_tempest_plugin/tests/api/identity/v2/test_roles_rbac.py', 'patrole_tempest_plugin/tests/api/compute/rbac_base.py', 'patrole_tempest_plugin/tests/api/identity/v3/rbac_base.py']",13,ff268b1c08b40eb21377c4a23f762374dfb1d528,no_role_switching_identity_v2, switch_roles = True,,136,181
openstack%2Fnetworking-bagpipe~master~I2c1773e19bcce4d28b08e3633f05d5b81891d248,openstack/networking-bagpipe,master,I2c1773e19bcce4d28b08e3633f05d5b81891d248,Updated from global requirements,MERGED,2017-05-25 02:10:31.000000000,2017-05-25 22:23:08.000000000,2017-05-25 22:23:08.000000000,"[{'_account_id': 3}, {'_account_id': 12021}]","[{'number': 1, 'created': '2017-05-25 02:10:31.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/45f2baa1ede1dd0df1d91667a1ff8d515cc8c607', 'message': 'Updated from global requirements\n\nChange-Id: I2c1773e19bcce4d28b08e3633f05d5b81891d248\n'}]",0,467818,45f2baa1ede1dd0df1d91667a1ff8d515cc8c607,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I2c1773e19bcce4d28b08e3633f05d5b81891d248
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/18/467818/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,45f2baa1ede1dd0df1d91667a1ff8d515cc8c607,openstack/requirements,neutron-lib>=1.7.0 # Apache-2.0,neutron-lib>=1.6.0 # Apache-2.0,1,1
openstack%2Frequirements~master~If35ac3196366ab609ac2d657d5365a7236d3b075,openstack/requirements,master,If35ac3196366ab609ac2d657d5365a7236d3b075,update constraint for ldappool to new release 2.1.0,MERGED,2017-05-25 19:31:12.000000000,2017-05-25 22:12:58.000000000,2017-05-25 22:12:58.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5046}, {'_account_id': 6593}]","[{'number': 1, 'created': '2017-05-25 19:31:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5f9472e0c11baca945890ebc59ddff97ad1db72b', 'message': 'update constraint for ldappool to new release 2.1.0\n\nChange-Id: If35ac3196366ab609ac2d657d5365a7236d3b075\nmeta:version: 2.1.0\nmeta:diff-start:\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\n'}]",0,468140,5f9472e0c11baca945890ebc59ddff97ad1db72b,8,4,1,11131,,,0,"update constraint for ldappool to new release 2.1.0

Change-Id: If35ac3196366ab609ac2d657d5365a7236d3b075
meta:version: 2.1.0
meta:diff-start:
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
",git fetch https://review.opendev.org/openstack/requirements refs/changes/40/468140/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5f9472e0c11baca945890ebc59ddff97ad1db72b,new-release,ldappool===2.1.0,ldappool===2.0.0,1,1
openstack%2Fproject-config~master~I75d7b7de1e908693cf5ee732336174f4536dbf61,openstack/project-config,master,I75d7b7de1e908693cf5ee732336174f4536dbf61,And disable c-bak for nodepool dsvm,MERGED,2017-05-25 21:52:26.000000000,2017-05-25 22:08:13.000000000,2017-05-25 22:08:13.000000000,"[{'_account_id': 3}, {'_account_id': 4146}]","[{'number': 1, 'created': '2017-05-25 21:52:26.000000000', 'files': ['jenkins/jobs/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/97513f1fe5a24b4375e6cc4319d4bac5990e4a31', 'message': ""And disable c-bak for nodepool dsvm\n\nSlowly, but surely we'll get this working.\n\nChange-Id: I75d7b7de1e908693cf5ee732336174f4536dbf61\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n""}]",0,468176,97513f1fe5a24b4375e6cc4319d4bac5990e4a31,6,2,1,4162,,,0,"And disable c-bak for nodepool dsvm

Slowly, but surely we'll get this working.

Change-Id: I75d7b7de1e908693cf5ee732336174f4536dbf61
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/76/468176/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/nodepool.yaml'],1,97513f1fe5a24b4375e6cc4319d4bac5990e4a31,," export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service c-bak"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service c-bak""",,2,0
openstack%2Fcharm-nova-compute~master~I856733567c8d4d023c630563f0a0808361e86fa5,openstack/charm-nova-compute,master,I856733567c8d4d023c630563f0a0808361e86fa5,Resync charm-helpers for sources repo ports fix,MERGED,2017-05-25 16:09:10.000000000,2017-05-25 22:00:37.000000000,2017-05-25 22:00:37.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2017-05-25 16:09:10.000000000', 'files': ['hooks/charmhelpers/fetch/centos.py', 'tests/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/fetch/centos.py', 'tests/charmhelpers/__init__.py', 'hooks/charmhelpers/fetch/__init__.py', 'tests/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/ee91c2f75b1bb9d1681d764217da267fa5f6d8e8', 'message': 'Resync charm-helpers for sources repo ports fix\n\nChange-Id: I856733567c8d4d023c630563f0a0808361e86fa5\nCloses-bug: #1611134\n'}]",0,468083,ee91c2f75b1bb9d1681d764217da267fa5f6d8e8,9,3,1,20635,,,0,"Resync charm-helpers for sources repo ports fix

Change-Id: I856733567c8d4d023c630563f0a0808361e86fa5
Closes-bug: #1611134
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/83/468083/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/fetch/centos.py', 'tests/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/fetch/centos.py', 'tests/charmhelpers/__init__.py', 'hooks/charmhelpers/fetch/__init__.py', 'tests/charmhelpers/contrib/openstack/utils.py', 'tests/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/fetch/ubuntu.py']",10,ee91c2f75b1bb9d1681d764217da267fa5f6d8e8,bug/1611134,"from collections import OrderedDictimport platform import refrom charmhelpers.core.hookenv import ( log, DEBUG, ) from charmhelpers.fetch import SourceConfigError, GPGKeyError PROPOSED_POCKET = ( ""# Proposed\n"" ""deb http://archive.ubuntu.com/ubuntu {}-proposed main universe "" ""multiverse restricted\n"") PROPOSED_PORTS_POCKET = ( ""# Proposed\n"" ""deb http://ports.ubuntu.com/ubuntu-ports {}-proposed main universe "" ""multiverse restricted\n"") # Only supports 64bit and ppc64 at the moment. ARCH_TO_PROPOSED_POCKET = { 'x86_64': PROPOSED_POCKET, 'ppc64le': PROPOSED_PORTS_POCKET, 'aarch64': PROPOSED_PORTS_POCKET, } CLOUD_ARCHIVE_URL = ""http://ubuntu-cloud.archive.canonical.com/ubuntu"" CLOUD_ARCHIVE_KEY_ID = '5EDB1B62EC4926EA' 'folsom/updates': 'precise-updates/folsom', 'grizzly/updates': 'precise-updates/grizzly', 'havana/updates': 'precise-updates/havana', 'icehouse/updates': 'precise-updates/icehouse', 'juno/updates': 'trusty-updates/juno', 'kilo/updates': 'trusty-updates/kilo', 'liberty/updates': 'trusty-updates/liberty', 'mitaka/updates': 'trusty-updates/mitaka', 'newton/updates': 'xenial-updates/newton', 'ocata/updates': 'xenial-updates/ocata',def apt_install(packages, options=None, fatal=False):def apt_upgrade(options=None, fatal=False, dist=False):def apt_update(fatal=False):def apt_purge(packages, fatal=False):def import_key(keyid): """"""Import a key in either ASCII Armor or Radix64 format. `keyid` is either the keyid to fetch from a PGP server, or the key in ASCII armor foramt. :param keyid: String of key (or key id). :raises: GPGKeyError if the key could not be imported """""" key = keyid.strip() if (key.startswith('-----BEGIN PGP PUBLIC KEY BLOCK-----') and key.endswith('-----END PGP PUBLIC KEY BLOCK-----')): log(""PGP key found (looks like ASCII Armor format)"", level=DEBUG) log(""Importing ASCII Armor PGP key"", level=DEBUG) with NamedTemporaryFile() as keyfile: with open(keyfile.name, 'w') as fd: fd.write(key) fd.write(""\n"") cmd = ['apt-key', 'add', keyfile.name] try: subprocess.check_call(cmd) except subprocess.CalledProcessError: error = ""Error importing PGP key '{}'"".format(key) log(error) raise GPGKeyError(error) else: log(""PGP key found (looks like Radix64 format)"", level=DEBUG) log(""Importing PGP key from keyserver"", level=DEBUG) cmd = ['apt-key', 'adv', '--keyserver', 'hkp://keyserver.ubuntu.com:80', '--recv-keys', key] try: subprocess.check_call(cmd) except subprocess.CalledProcessError: error = ""Error importing PGP key '{}'"".format(key) log(error) raise GPGKeyError(error) def add_source(source, key=None, fail_invalid=False): Full list of source specifications supported by the function are: 'distro': A NOP; i.e. it has no effect. 'proposed': the proposed deb spec [2] is wrtten to /etc/apt/sources.list/proposed 'distro-proposed': adds <version>-proposed to the debs [2] 'ppa:<ppa-name>': add-apt-repository --yes <ppa_name> 'deb <deb-spec>': add-apt-repository --yes deb <deb-spec> 'http://....': add-apt-repository --yes http://... 'cloud-archive:<spec>': add-apt-repository -yes cloud-archive:<spec> 'cloud:<release>[-staging]': specify a Cloud Archive pocket <release> with optional staging version. If staging is used then the staging PPA [2] with be used. If staging is NOT used then the cloud archive [3] will be added, and the 'ubuntu-cloud-keyring' package will be added for the current distro. Otherwise the source is not recognised and this is logged to the juju log. However, no error is raised, unless sys_error_on_exit is True. [1] deb http://ubuntu-cloud.archive.canonical.com/ubuntu {} main where {} is replaced with the derived pocket name. [2] deb http://archive.ubuntu.com/ubuntu {}-proposed \ main universe multiverse restricted where {} is replaced with the lsb_release codename (e.g. xenial) [3] deb http://ubuntu-cloud.archive.canonical.com/ubuntu <pocket> to /etc/apt/sources.list.d/cloud-archive-list @param fail_invalid: (boolean) if True, then the function raises a SourceConfigError is there is no matching installation source. @raises SourceConfigError() if for cloud:<pocket>, the <pocket> is not a valid pocket in CLOUD_ARCHIVE_POCKETS _mapping = OrderedDict([ (r""^distro$"", lambda: None), # This is a NOP (r""^(?:proposed|distro-proposed)$"", _add_proposed), (r""^cloud-archive:(.*)$"", _add_apt_repository), (r""^((?:deb |http:|https:|ppa:).*)$"", _add_apt_repository), (r""^cloud:(.*)-(.*)\/staging$"", _add_cloud_staging), (r""^cloud:(.*)-(.*)$"", _add_cloud_distro_check), (r""^cloud:(.*)$"", _add_cloud_pocket), ]) if source is None: source = '' for r, fn in six.iteritems(_mapping): m = re.match(r, source) if m: # call the assoicated function with the captured groups # raises SourceConfigError on error. fn(*m.groups()) if key: try: import_key(key) except GPGKeyError as e: raise SourceConfigError(str(e)) break else: # nothing matched. log an error and maybe sys.exit err = ""Unknown source: {!r}"".format(source) log(err) if fail_invalid: raise SourceConfigError(err) def _add_proposed(): """"""Add the PROPOSED_POCKET as /etc/apt/source.list.d/proposed.list Uses lsb_release()['DISTRIB_CODENAME'] to determine the correct staza for the deb line. For intel architecutres PROPOSED_POCKET is used for the release, but for other architectures PROPOSED_PORTS_POCKET is used for the release. """""" release = lsb_release()['DISTRIB_CODENAME'] arch = platform.machine() if arch not in six.iterkeys(ARCH_TO_PROPOSED_POCKET): raise SourceConfigError(""Arch {} not supported for (distro-)proposed"" .format(arch)) with open('/etc/apt/sources.list.d/proposed.list', 'w') as apt: apt.write(ARCH_TO_PROPOSED_POCKET[arch].format(release)) def _add_apt_repository(spec): """"""Add the spec using add_apt_repository :param spec: the parameter to pass to add_apt_repository """""" _run_with_retries(['add-apt-repository', '--yes', spec]) def _add_cloud_pocket(pocket): """"""Add a cloud pocket as /etc/apt/sources.d/cloud-archive.list Note that this overwrites the existing file if there is one. This function also converts the simple pocket in to the actual pocket using the CLOUD_ARCHIVE_POCKETS mapping. :param pocket: string representing the pocket to add a deb spec for. :raises: SourceConfigError if the cloud pocket doesn't exist or the requested release doesn't match the current distro version. """""" apt_install(filter_installed_packages(['ubuntu-cloud-keyring']), fatal=True) if pocket not in CLOUD_ARCHIVE_POCKETS: raise SourceConfigError( 'Unsupported cloud: source option %s' % pocket) actual_pocket = CLOUD_ARCHIVE_POCKETS[pocket] with open('/etc/apt/sources.list.d/cloud-archive.list', 'w') as apt: apt.write(CLOUD_ARCHIVE.format(actual_pocket)) def _add_cloud_staging(cloud_archive_release, openstack_release): """"""Add the cloud staging repository which is in ppa:ubuntu-cloud-archive/<openstack_release>-staging This function checks that the cloud_archive_release matches the current codename for the distro that charm is being installed on. :param cloud_archive_release: string, codename for the release. :param openstack_release: String, codename for the openstack release. :raises: SourceConfigError if the cloud_archive_release doesn't match the current version of the os. """""" _verify_is_ubuntu_rel(cloud_archive_release, openstack_release) ppa = 'ppa:ubuntu-cloud-archive/{}-staging'.format(openstack_release) cmd = 'add-apt-repository -y {}'.format(ppa) _run_with_retries(cmd.split(' ')) def _add_cloud_distro_check(cloud_archive_release, openstack_release): """"""Add the cloud pocket, but also check the cloud_archive_release against the current distro, and use the openstack_release as the full lookup. This just calls _add_cloud_pocket() with the openstack_release as pocket to get the correct cloud-archive.list for dpkg to work with. :param cloud_archive_release:String, codename for the distro release. :param openstack_release: String, spec for the release to look up in the CLOUD_ARCHIVE_POCKETS :raises: SourceConfigError if this is the wrong distro, or the pocket spec doesn't exist. """""" _verify_is_ubuntu_rel(cloud_archive_release, openstack_release) _add_cloud_pocket(""{}-{}"".format(cloud_archive_release, openstack_release)) def _verify_is_ubuntu_rel(release, os_release): """"""Verify that the release is in the same as the current ubuntu release. :param release: String, lowercase for the release. :param os_release: String, the os_release being asked for :raises: SourceConfigError if the release is not the same as the ubuntu release. """""" ubuntu_rel = lsb_release()['DISTRIB_CODENAME'] if release != ubuntu_rel: raise SourceConfigError( 'Invalid Cloud Archive release specified: {}-{} on this Ubuntu' 'version ({})'.format(release, os_release, ubuntu_rel)) env = None kwargs = {} if cmd_env: env = os.environ.copy() kwargs['env'] = env # result = subprocess.check_call(cmd, env=env) result = subprocess.check_call(cmd, **kwargs) :param: cmd: str: The apt command to run.","from charmhelpers.core.hookenv import log from charmhelpers.fetch import SourceConfigError PROPOSED_POCKET = """"""# Proposed deb http://archive.ubuntu.com/ubuntu {}-proposed main universe multiverse restricted """""" def install(packages, options=None, fatal=False):def upgrade(options=None, fatal=False, dist=False):def update(fatal=False):def purge(packages, fatal=False):def add_source(source, key=None): if source is None: log('Source is not present. Skipping') return if (source.startswith('ppa:') or source.startswith('http') or source.startswith('deb ') or source.startswith('cloud-archive:')): cmd = ['add-apt-repository', '--yes', source] _run_with_retries(cmd) elif source.startswith('cloud:'): install(filter_installed_packages(['ubuntu-cloud-keyring']), fatal=True) pocket = source.split(':')[-1] if pocket not in CLOUD_ARCHIVE_POCKETS: raise SourceConfigError( 'Unsupported cloud: source option %s' % pocket) actual_pocket = CLOUD_ARCHIVE_POCKETS[pocket] with open('/etc/apt/sources.list.d/cloud-archive.list', 'w') as apt: apt.write(CLOUD_ARCHIVE.format(actual_pocket)) elif source == 'proposed': release = lsb_release()['DISTRIB_CODENAME'] with open('/etc/apt/sources.list.d/proposed.list', 'w') as apt: apt.write(PROPOSED_POCKET.format(release)) elif source == 'distro': pass else: log(""Unknown source: {!r}"".format(source)) if key: if '-----BEGIN PGP PUBLIC KEY BLOCK-----' in key: with NamedTemporaryFile('w+') as key_file: key_file.write(key) key_file.flush() key_file.seek(0) subprocess.check_call(['apt-key', 'add', '-'], stdin=key_file) else: # Note that hkp: is in no way a secure protocol. Using a # GPG key id is pointless from a security POV unless you # absolutely trust your network and DNS. subprocess.check_call(['apt-key', 'adv', '--keyserver', 'hkp://keyserver.ubuntu.com:80', '--recv', key]) env = os.environ.copy() if cmd_env: result = subprocess.check_call(cmd, env=env)",776,402
openstack%2Fcharm-percona-cluster~master~I9c562c0e23fcde2745794fca221c210223874241,openstack/charm-percona-cluster,master,I9c562c0e23fcde2745794fca221c210223874241,Resync charm-helpers for sources repo ports fix,MERGED,2017-05-25 16:06:07.000000000,2017-05-25 21:55:34.000000000,2017-05-25 21:55:34.000000000,"[{'_account_id': 3}, {'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2017-05-25 16:06:07.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'charmhelpers/fetch/__init__.py', 'tests/charmhelpers/__init__.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/fetch/centos.py', 'charmhelpers/__init__.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/df0bb6080333521418c9fa740f7a46688142304b', 'message': 'Resync charm-helpers for sources repo ports fix\n\nChange-Id: I9c562c0e23fcde2745794fca221c210223874241\nCloses-bug: #1611134\n'}]",0,468082,df0bb6080333521418c9fa740f7a46688142304b,9,3,1,20635,,,0,"Resync charm-helpers for sources repo ports fix

Change-Id: I9c562c0e23fcde2745794fca221c210223874241
Closes-bug: #1611134
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/82/468082/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'charmhelpers/fetch/__init__.py', 'tests/charmhelpers/__init__.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/fetch/centos.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/__init__.py']",8,df0bb6080333521418c9fa740f7a46688142304b,bug/1611134,"from __future__ import print_function from __future__ import absolute_import import functools import inspect # Holds a list of mapping of mangled function names that have been deprecated # using the @deprecate decorator below. This is so that the warning is only # printed once for each usage of the function. __deprecated_functions = {} def deprecate(warning, date=None, log=None): """"""Add a deprecation warning the first time the function is used. The date, which is a string in semi-ISO8660 format indicate the year-month that the function is officially going to be removed. usage: @deprecate('use core/fetch/add_source() instead', '2017-04') def contributed_add_source_thing(...): ... And it then prints to the log ONCE that the function is deprecated. The reason for passing the logging function (log) is so that hookenv.log can be used for a charm if needed. :param warning: String to indicat where it has moved ot. :param date: optional sting, in YYYY-MM format to indicate when the function will definitely (probably) be removed. :param log: The log function to call to log. If not, logs to stdout """""" def wrap(f): @functools.wraps(f) def wrapped_f(*args, **kwargs): try: module = inspect.getmodule(f) file = inspect.getsourcefile(f) lines = inspect.getsourcelines(f) f_name = ""{}-{}-{}..{}-{}"".format( module.__name__, file, lines[0], lines[-1], f.__name__) except (IOError, TypeError): # assume it was local, so just use the name of the function f_name = f.__name__ if f_name not in __deprecated_functions: __deprecated_functions[f_name] = True s = ""DEPRECATION WARNING: Function {} is being removed"".format( f.__name__) if date: s = ""{} on/around {}"".format(s, date) if warning: s = ""{} : {}"".format(s, warning) if log: log(s) else: print(s) return f(*args, **kwargs) return wrapped_f return wrap",,458,201
openstack%2Fdevstack~stable%2Fnewton~I4e7f6c5eaa068c98e5c4ef3feaee50d8e4f5d484,openstack/devstack,stable/newton,I4e7f6c5eaa068c98e5c4ef3feaee50d8e4f5d484,Fix cellsv2 cell0 database name,MERGED,2017-01-16 14:55:23.000000000,2017-05-25 21:54:55.000000000,2017-05-25 21:54:55.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-01-16 14:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/94e4e32c715c8420b92354a064d66db9f8d9128e', 'message': ""Fix cellsv2 cell0 database name\n\nFor some reason we were defaulting the name of the cell0 database\nto nova_api_cell0 instead of nova_cell0. Devstack inherited that to\nmake things work, but we don't really want that. This patch makes us\nuse the proper name and create the cell0 mapping accordingly. As a\nside effect, it also starts the process of unifying the cellsv1 and\ncellsv2 paths by creating the cell0 mapping the same for both.\n\nConflicts:\n        lib/nova\n\nNOTE(mriedem): The conflicts are due to not supporting cells v2\nin a cells v1 deployment in Newton and the fact that cells v2\nwas still optional in Newton (but required in Ocata).\n\nChange-Id: I4e7f6c5eaa068c98e5c4ef3feaee50d8e4f5d484\n(cherry picked from commit 29bb53fd3e7762c1fea023842ba09fcbfab60252)\n""}, {'number': 2, 'created': '2017-05-22 15:40:49.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/33a218a1e73c20ee0e23bd37f870bc30d387c5ea', 'message': ""Fix cellsv2 cell0 database name\n\nFor some reason we were defaulting the name of the cell0 database\nto nova_api_cell0 instead of nova_cell0. Devstack inherited that to\nmake things work, but we don't really want that. This patch makes us\nuse the proper name and create the cell0 mapping accordingly. As a\nside effect, it also starts the process of unifying the cellsv1 and\ncellsv2 paths by creating the cell0 mapping the same for both.\n\nConflicts:\n        lib/nova\n\nNOTE(mriedem): The conflicts are due to not supporting cells v2\nin a cells v1 deployment in Newton and the fact that cells v2\nwas still optional in Newton (but required in Ocata).\n\nChange-Id: I4e7f6c5eaa068c98e5c4ef3feaee50d8e4f5d484\n(cherry picked from commit 29bb53fd3e7762c1fea023842ba09fcbfab60252)\n""}]",0,420750,33a218a1e73c20ee0e23bd37f870bc30d387c5ea,29,7,2,6873,,,0,"Fix cellsv2 cell0 database name

For some reason we were defaulting the name of the cell0 database
to nova_api_cell0 instead of nova_cell0. Devstack inherited that to
make things work, but we don't really want that. This patch makes us
use the proper name and create the cell0 mapping accordingly. As a
side effect, it also starts the process of unifying the cellsv1 and
cellsv2 paths by creating the cell0 mapping the same for both.

Conflicts:
        lib/nova

NOTE(mriedem): The conflicts are due to not supporting cells v2
in a cells v1 deployment in Newton and the fact that cells v2
was still optional in Newton (but required in Ocata).

Change-Id: I4e7f6c5eaa068c98e5c4ef3feaee50d8e4f5d484
(cherry picked from commit 29bb53fd3e7762c1fea023842ba09fcbfab60252)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/50/420750/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,94e4e32c715c8420b92354a064d66db9f8d9128e,cells-cleanup," recreate_database nova_cell0 # been run this migrates the ""nova"" and ""nova_cell0"" database. # NOTE(danms): map_cell0 always returns 1 right now; remove this when that is fixed (nova-manage cell_v2 map_cell0 --database_connection `database_connection_url nova_cell0`|| true) "," recreate_database nova_api_cell0 # been run this migrates the ""nova"" and ""nova_api_cell0"" database.",5,2
openstack%2Fnova-specs~master~I3f7bc3ef957dd472af92bacb9c8bef6ac02701ad,openstack/nova-specs,master,I3f7bc3ef957dd472af92bacb9c8bef6ac02701ad,oslo.middleware request_id spec,MERGED,2017-05-25 15:27:46.000000000,2017-05-25 21:50:22.000000000,2017-05-25 21:50:22.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 14070}]","[{'number': 1, 'created': '2017-05-25 15:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f454b104b32aef8fefacb8e48251ddc7fb18205d', 'message': 'oslo.middleware request_id spec\n\nDocument why we need a microversion bump for this common library\nchange.\n\nChange-Id: I3f7bc3ef957dd472af92bacb9c8bef6ac02701ad\n'}, {'number': 2, 'created': '2017-05-25 15:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7c629941cc8d9643b635f086ec3e851275c175e3', 'message': 'oslo.middleware request_id spec\n\nDocument why we need a microversion bump for this common library\nchange.\n\nDocImpact\n\nChange-Id: I3f7bc3ef957dd472af92bacb9c8bef6ac02701ad\n'}, {'number': 3, 'created': '2017-05-25 16:35:21.000000000', 'files': ['specs/pike/approved/oslo-middleware-request-id.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/eb673624d8b44f9d1210bc948a96bdb62a1e05c2', 'message': 'oslo.middleware request_id spec\n\nDocument why we need a microversion bump for this common library\nchange.\n\nPart of bp:oslo-middleware-request-id\n\nDocImpact\n\nChange-Id: I3f7bc3ef957dd472af92bacb9c8bef6ac02701ad\n'}]",8,468066,eb673624d8b44f9d1210bc948a96bdb62a1e05c2,16,4,3,2750,,,0,"oslo.middleware request_id spec

Document why we need a microversion bump for this common library
change.

Part of bp:oslo-middleware-request-id

DocImpact

Change-Id: I3f7bc3ef957dd472af92bacb9c8bef6ac02701ad
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/66/468066/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/oslo-middleware-request-id.rst'],1,f454b104b32aef8fefacb8e48251ddc7fb18205d,bp/oslo-middleware-request-id,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Use oslo.middleware request_id ========================================== https://blueprints.launchpad.net/nova/+spec/oslo-middleware-request-id Make Nova be in line with the rest of OpenStack on request_id processing which means that global_request_id also works with Nova. Problem description =================== Nova has a copy/pasted version of oslo.middleware RequestId middleware, because this is code that grew up in Nova using the return header ``X-Compute-Request-ID``, then moved to oslo with ``X-OpenStack-Request-ID``. Nova never migrated to that middleware. That middleware now has the logic to accept and validate inbound request_ids. We want this to be consistent through all of OpenStack, so for Nova to participate in global_request_id support as a callee, it needs to be on this middleware. Adding this middleware will mean that Nova now returns the additional ``X-OpenStack-Request-ID`` header. This requires a microversion per our rules. Use Cases --------- As an application calling Nova I would like to be able to trace my requests with an application provided global_request_id, which is easy to search for in all service logs. Proposed change =============== Change ``ComputeReqIdMiddleware`` to inherent from ``oslo_middleware.request_id.RequestId``. Bump requirements to require oslo.middleware >= 3.27.0. Bump microversion. Alternatives ------------ Don't support global_request_id. Data model impact ----------------- None. REST API impact --------------- An additional HTTP Header ``X-OpenStack-Request-ID`` will be returned after this change. The value will be identical to the existing ``X-Compute-Request-ID``. There are no plans to ever remove the ``X-Compute-Request-ID``. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: sdague Work Items ---------- * Change Nova's ComputeRequestIdMiddleware Dependencies ============ * Changes in oslo.middleware for compat headers which were landed in 3.27.0. Testing ======= * oslo.middleware tests that the value of any compat headers is identical to the ``X-OpenStack-Request-ID`` header. * Tempest already tests for ``X-Compute-Request-ID`` from Nova commands. We are thus transitively tested. * If folks insist a Tempest test for the new header could be added based on microversion, but it's probably overkill. Documentation Impact ==================== api-ref doesn't yet talk about any of these headers. That should be changed in the future, however given that it's not currently documented (and will require some os-api-ref changes to be efficient to document that) this work should not be held up for it. References ========== * oslo request_id spec - https://specs.openstack.org/openstack/oslo-specs/specs/pike/global-req-id.html * Previous implementation for v3 - which seems to have been accidentally reverted in the v2.1 tear down - https://specs.openstack.org/openstack/nova-specs/specs/juno/implemented/cross-service-request-id.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Pike - Introduced ",,154,0
openstack%2Fironic-lib~master~Ie5bda8f4c65cf4dfb40b91c11b61485c954addde,openstack/ironic-lib,master,Ie5bda8f4c65cf4dfb40b91c11b61485c954addde,Prevent tests from using utils.execute(),MERGED,2017-05-11 20:26:09.000000000,2017-05-25 21:48:54.000000000,2017-05-25 21:48:54.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14760}, {'_account_id': 15750}]","[{'number': 1, 'created': '2017-05-11 20:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/23d53042b2c9a3e0b92bef5363ce2ef52f11d04c', 'message': 'Prevent tests from using utils.execute()\n\nThis change introduces a new base test class that mocks out\nutils.execute() and forces an exception if it gets called. If\nutils.execute() is mocked by the test case then it will work. What\nthis does is prevent un-mocked access to utils.execute()\n\nInspired by Julian Edwards patch to ironic-python-agent\n\nChange-Id: Ie5bda8f4c65cf4dfb40b91c11b61485c954addde\n'}, {'number': 2, 'created': '2017-05-16 22:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/7b0a50a6cde44e7a0a1c49659ea510b68e379370', 'message': ""Prevent tests from using utils.execute()\n\nThis change introduces a new base test class that mocks out\nutils.execute() and forces an exception if it gets called. If\nutils.execute() is mocked by the test case then it will work. What\nthis does is prevent un-mocked access to utils.execute()\n\nInspired by Julian Edwards' patch to ironic-python-agent\n\nChange-Id: Ie5bda8f4c65cf4dfb40b91c11b61485c954addde\n""}, {'number': 3, 'created': '2017-05-16 23:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/c4935345d7eb08bf2a6dc3cf22084b39c0abc0c8', 'message': ""Prevent tests from using utils.execute()\n\nPrevent tests from using utils.execute()\n\nThis change introduces a new base test class that mocks out\nutils.execute() and similar functions and forces an exception if it\ngets called. If utils.execute() is mocked by the test case then it\nwill work. What this does is prevent un-mocked access to\nutils.execute() / processutils.execute() and similar subprocess\nlibrary functions.\n\nInspired by Julian Edwards' patch to ironic-python-agent\n\nChange-Id: Ie5bda8f4c65cf4dfb40b91c11b61485c954addde\n""}, {'number': 4, 'created': '2017-05-17 15:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/3da65d146c6a00026317d121339f1517362a3de7', 'message': ""Prevent tests from using utils.execute()\n\nPrevent tests from using utils.execute()\n\nThis change introduces a new base test class that mocks out\nutils.execute() and similar functions and forces an exception if it\ngets called. If utils.execute() is mocked by the test case then it\nwill work. What this does is prevent un-mocked access to\nutils.execute() / processutils.execute() and similar subprocess\nlibrary functions.\n\nInspired by Julian Edwards' patch to ironic-python-agent\n\nChange-Id: Ie5bda8f4c65cf4dfb40b91c11b61485c954addde\n""}, {'number': 5, 'created': '2017-05-17 16:20:55.000000000', 'files': ['ironic_lib/tests/test_utils.py', 'ironic_lib/tests/base.py', 'ironic_lib/tests/test_metrics_statsd.py', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/tests/test_disk_partitioner.py', 'ironic_lib/tests/test_metrics.py', 'ironic_lib/tests/test_metrics_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/61a0c2582b8c2bb08bc9d0432c8a942ecd8bb910', 'message': ""Prevent tests from using utils.execute()\n\nThis change introduces a new base test class that mocks out\nutils.execute() and similar functions and forces an exception if it\ngets called. If utils.execute() is mocked by the test case then it\nwill work. What this does is prevent un-mocked access to\nutils.execute() / processutils.execute() and similar subprocess\nlibrary functions.\n\nInspired by Julian Edwards' patch to ironic-python-agent\n\nChange-Id: Ie5bda8f4c65cf4dfb40b91c11b61485c954addde\n""}]",15,464074,61a0c2582b8c2bb08bc9d0432c8a942ecd8bb910,22,6,5,14760,,,0,"Prevent tests from using utils.execute()

This change introduces a new base test class that mocks out
utils.execute() and similar functions and forces an exception if it
gets called. If utils.execute() is mocked by the test case then it
will work. What this does is prevent un-mocked access to
utils.execute() / processutils.execute() and similar subprocess
library functions.

Inspired by Julian Edwards' patch to ironic-python-agent

Change-Id: Ie5bda8f4c65cf4dfb40b91c11b61485c954addde
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/74/464074/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/tests/test_utils.py', 'ironic_lib/tests/base.py', 'ironic_lib/tests/test_metrics_statsd.py', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/tests/test_disk_partitioner.py', 'ironic_lib/tests/test_metrics.py', 'ironic_lib/tests/test_metrics_utils.py']",7,23d53042b2c9a3e0b92bef5363ce2ef52f11d04c,,from ironic_lib.tests import baseclass TestGetLogger(base.IronicLibTest):,from oslotest import base as test_base class TestGetLogger(test_base.BaseTestCase):,72,24
openstack%2Fnetworking-bgpvpn~master~I6df2ef1693d32cb34f799c284e01bcf7234b8be9,openstack/networking-bgpvpn,master,I6df2ef1693d32cb34f799c284e01bcf7234b8be9,Updated from global requirements,MERGED,2017-05-25 02:10:34.000000000,2017-05-25 21:48:25.000000000,2017-05-25 21:48:25.000000000,"[{'_account_id': 3}, {'_account_id': 12021}]","[{'number': 1, 'created': '2017-05-25 02:10:34.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/936d8ff78089bbf79a8dc69804fe827de73a21fd', 'message': 'Updated from global requirements\n\nChange-Id: I6df2ef1693d32cb34f799c284e01bcf7234b8be9\n'}]",0,467819,936d8ff78089bbf79a8dc69804fe827de73a21fd,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I6df2ef1693d32cb34f799c284e01bcf7234b8be9
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/19/467819/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,936d8ff78089bbf79a8dc69804fe827de73a21fd,openstack/requirements,neutron-lib>=1.7.0 # Apache-2.0,neutron-lib>=1.6.0 # Apache-2.0,1,1
openstack%2Fnetworking-odl~master~I018605d13c9ed228e28f4300bf8c3947b1f4de1f,openstack/networking-odl,master,I018605d13c9ed228e28f4300bf8c3947b1f4de1f,Updated from global requirements,MERGED,2017-05-25 02:10:57.000000000,2017-05-25 21:29:30.000000000,2017-05-25 21:29:29.000000000,"[{'_account_id': 3}, {'_account_id': 333}]","[{'number': 1, 'created': '2017-05-25 02:10:57.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ffdb8079349b99f85dbbbbbbcfa507ea923022f9', 'message': 'Updated from global requirements\n\nChange-Id: I018605d13c9ed228e28f4300bf8c3947b1f4de1f\n'}]",0,467822,ffdb8079349b99f85dbbbbbbcfa507ea923022f9,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I018605d13c9ed228e28f4300bf8c3947b1f4de1f
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/22/467822/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ffdb8079349b99f85dbbbbbbcfa507ea923022f9,openstack/requirements,neutron-lib>=1.7.0 # Apache-2.0,neutron-lib>=1.6.0 # Apache-2.0,1,1
openstack%2Fneutron~master~I81627f1bac1b981f930b66c126abd8285653bf49,openstack/neutron,master,I81627f1bac1b981f930b66c126abd8285653bf49,"Revert ""DVR: Add forwarding routes based on address_scopes""",MERGED,2017-05-25 15:47:51.000000000,2017-05-25 21:26:03.000000000,2017-05-25 21:26:03.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 9732}, {'_account_id': 15752}]","[{'number': 1, 'created': '2017-05-25 15:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4dc376ba26eaeeb369cc7cb4c5be6030615e612', 'message': 'Revert ""DVR: Add forwarding routes based on address_scopes""\n\nThis reverts commit fb2093c3655ecd15f48e841c0fc6f9ccb7697a34.\n\nThis patch started spamming logstash like crazy with ERRORs.\n\nChange-Id: I81627f1bac1b981f930b66c126abd8285653bf49\n'}, {'number': 2, 'created': '2017-05-25 15:52:04.000000000', 'files': ['neutron/agent/l3/dvr_fip_ns.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0fecc04d7a9223bfcb03183270fee5ebf5875e27', 'message': 'Revert ""DVR: Add forwarding routes based on address_scopes""\n\nThis reverts commit fb2093c3655ecd15f48e841c0fc6f9ccb7697a34.\n\nThis patch started spamming logstash like crazy with ERRORs.\n\nCloses-Bug: #1693539\nChange-Id: I81627f1bac1b981f930b66c126abd8285653bf49\n'}]",0,468075,0fecc04d7a9223bfcb03183270fee5ebf5875e27,17,6,2,9656,,,0,"Revert ""DVR: Add forwarding routes based on address_scopes""

This reverts commit fb2093c3655ecd15f48e841c0fc6f9ccb7697a34.

This patch started spamming logstash like crazy with ERRORs.

Closes-Bug: #1693539
Change-Id: I81627f1bac1b981f930b66c126abd8285653bf49
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/468075/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/dvr_fip_ns.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py']",5,b4dc376ba26eaeeb369cc7cb4c5be6030615e612,bp/dvr-fast-exit, # rtr_fip_subnet is None," ri.rtr_fip_connect = True def test_create_dvr_fip_interfaces_with_matching_address_scope(self): self._setup_create_dvr_fip_interfaces_for_setting_routing_rules( address_scopes_match=True) def test_create_dvr_fip_interfaces_with_address_scope_mismatch(self): self._setup_create_dvr_fip_interfaces_for_setting_routing_rules() def _setup_create_dvr_fip_interfaces_for_setting_routing_rules( self, address_scopes_match=False): ri = self._create_router() ri.get_floating_agent_gw_interface = mock.Mock() ri.fip_ns = mock.Mock() ri._add_interface_routing_rule_to_router_ns = mock.Mock() ri._add_interface_route_to_fip_ns = mock.Mock() ri.fip_ns._create_rtr_2_fip_link = mock.Mock() ri.internal_ports = ['moke_port_1', 'moke_port_2'] if address_scopes_match: ri._check_if_address_scopes_match = mock.Mock( return_value=True) else: ri._check_if_address_scopes_match = mock.Mock( return_value=False) ri.rtr_fip_connect = False ex_gw_port = {'network_id': 'fake_net_id'} ri.create_dvr_external_gateway_on_agent(ex_gw_port) ri.connect_rtr_2_fip() self.assertTrue(ri._check_if_address_scopes_match.called) if address_scopes_match: self.assertTrue( ri.fip_ns.create_rtr_2_fip_link.called) self.assertTrue( ri._add_interface_routing_rule_to_router_ns.called) self.assertTrue( ri._add_interface_route_to_fip_ns.called) else: self.assertFalse( ri._add_interface_routing_rule_to_router_ns.called) self.assertFalse( ri._add_interface_route_to_fip_ns.called) self.assertTrue( ri.fip_ns.create_rtr_2_fip_link.called) # ri.rtr_fip_subnet is None",28,351
openstack%2Fneutron-lib~master~I40cb0814f34833f33aad74ee4cc54ca753983e05,openstack/neutron-lib,master,I40cb0814f34833f33aad74ee4cc54ca753983e05,Fix API ref with regards to OR queries,MERGED,2017-05-24 19:32:32.000000000,2017-05-25 21:23:23.000000000,2017-05-24 19:46:01.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7787}, {'_account_id': 9396}, {'_account_id': 9656}]","[{'number': 1, 'created': '2017-05-24 19:32:32.000000000', 'files': ['api-ref/source/v2/intro.inc'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f1e03f3dbf6dae0d28c9e1d00bb20f3db42ca68f', 'message': 'Fix API ref with regards to OR queries\n\nNeutron supports OR queries and has for a significant amount of time.\n\nChange-Id: I40cb0814f34833f33aad74ee4cc54ca753983e05\n'}]",2,467727,f1e03f3dbf6dae0d28c9e1d00bb20f3db42ca68f,9,5,1,7787,,,0,"Fix API ref with regards to OR queries

Neutron supports OR queries and has for a significant amount of time.

Change-Id: I40cb0814f34833f33aad74ee4cc54ca753983e05
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/27/467727/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/intro.inc'],1,f1e03f3dbf6dae0d28c9e1d00bb20f3db42ca68f,,"When you specify multiple filters using different fields, the Networking API v2.0 returns only objects that meet all filtering criteria. The operation applies an AND condition among different filter fields. OpenStack Networking offers an OR mechanism for filters by repeating the field with the different OR criteria. For example, to find all networks named ``foobar`` OR ``bizbaz``: .. code:: GET /v2.0/networks?name=foobar&name=bizbaz ORs and ANDs can be combined. For example, if you want all networks with admin_state_up=True and shared=True and named 'foobar' or 'bizbaz': .. code:: GET /v2.0/networks?name=foobar&name=bizbaz&admin_state_up=True&shared=True ","When you specify multiple filters, the Networking API v2.0 returns only objects that meet all filtering criteria. The operation applies an AND condition among the filters.OpenStack Networking does not offer an OR mechanism for filters. Alternatively, you can issue a distinct request for each filter and build a response set from the received responses on the client-side. ",20,8
openstack%2Fcharm-manila-generic~master~I6936d4ce8f8ef6b689fcb7cda5c80f2676475e7f,openstack/charm-manila-generic,master,I6936d4ce8f8ef6b689fcb7cda5c80f2676475e7f,Updates for pike b1,MERGED,2017-05-25 15:52:41.000000000,2017-05-25 21:21:32.000000000,2017-05-25 21:21:32.000000000,"[{'_account_id': 3}, {'_account_id': 20635}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-05-25 15:52:41.000000000', 'files': ['src/tests/gate-basic-xenial-pike', 'src/tests/gate-basic-artful-pike'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/a415261035f691081608c46911fb8e7fc964db10', 'message': 'Updates for pike b1\n\nAdd amulet tests for pike, leave disabled for now.\n\nChange-Id: I6936d4ce8f8ef6b689fcb7cda5c80f2676475e7f\n'}]",0,468076,a415261035f691081608c46911fb8e7fc964db10,10,3,1,935,,,0,"Updates for pike b1

Add amulet tests for pike, leave disabled for now.

Change-Id: I6936d4ce8f8ef6b689fcb7cda5c80f2676475e7f
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/76/468076/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/gate-basic-xenial-pike', 'src/tests/gate-basic-artful-pike']",2,a415261035f691081608c46911fb8e7fc964db10,pike-updates,"#!/usr/bin/env python """"""Amulet tests on a basic barbican deployment on artful-pike for keystone v2. """""" from basic_deployment import ManilaGenericBasicDeployment if __name__ == '__main__': deployment = ManilaGenericBasicDeployment(series='artful', keystone_version='2') deployment.run_tests() ",,20,0
openstack%2Fopenstack-helm~master~I84c86e1862f03a6d381bf219b821ea3636049f0b,openstack/openstack-helm,master,I84c86e1862f03a6d381bf219b821ea3636049f0b,Use the standard Dockerhub MariaDB image,MERGED,2017-05-12 20:12:26.000000000,2017-05-25 21:02:50.000000000,2017-05-25 21:02:50.000000000,"[{'_account_id': 3}, {'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 16513}, {'_account_id': 23928}, {'_account_id': 25907}]","[{'number': 1, 'created': '2017-05-12 20:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0cea8776003efe116fd951743cbe97fa4c8c7ada', 'message': ""WIP: Sketch using Dockerhub MariaDB image\n\nReason for change:\nTo start the process of making this chart more robust against\npod/cluster failure, I wrote the test found at\n/tools/mariadb-testing/mysqlslap-autoincrement.sh\n\nEven without disrupting the cluster, that test failed consistently using\nthe existing chart (with kubeadm-aio).  I tested with an alternative\nchart that can be found here:\nhttps://github.com/kubernetes/charts/pull/599\n\nThe PR chart did not produce the consistency problem (also on\nkubeadm-aio).  So next I started trying to isolate whether it was due to\na config or an image difference.\n\nI found that I could make the PR chart fail consistently by setting\n`wsrep_slave_threads=12` as we had done in our chart.  Unfortunately,\nsetting `wsrep_slave_threads=1` in our chart did not completely address\nthe issue (though using `emptyDir` + setting `wsrep_slave_threads=1` did\nseem to avoid the issue).\n\nWith this chart, I do not see the consistency issue even with\n`wsrep_slave_threads=12` and the NFS provisioner in kubeadm-aio.\n\nPoints of note:\n* The configuration system was changed during testing to help isolate\n  configuration differences between charts.  I also believe this will\n  reduce churn in the StatefulSet definition (which cannot yet be\n  updated).\n* The upstream image is using a newer version of MariaDB 10.1.x instead\n  of 10.0.x.  It's possible that this is a problem for OpenStack\n  components.\n* It seemed easier to get this image to function without a seed job, but\n  that naturally adds logic to the entrypoint script to check whether\n  we're bootstrapping the cluster.\n* This does not address the broader issue of cluster recovery after\n  whole cluster failure, but does automatically recover from simple\n  single and double node disconnects (which the existing chart did too).\n\nChange-Id: I84c86e1862f03a6d381bf219b821ea3636049f0b\n""}, {'number': 2, 'created': '2017-05-12 20:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0f4e52a1a74b166da2d535280f4ed774f878e0f7', 'message': ""WIP: Sketch using Dockerhub MariaDB image\n\nReason for change:\nTo start the process of making this chart more robust against\npod/cluster failure, I wrote the test found at\n/tools/mariadb-testing/mysqlslap-autoincrement.sh\n\nEven without disrupting the cluster, that test failed consistently using\nthe existing chart (with kubeadm-aio).  I tested with an alternative\nchart that can be found here:\nhttps://github.com/kubernetes/charts/pull/599\n\nThe PR chart did not produce the consistency problem (also on\nkubeadm-aio).  So next I started trying to isolate whether it was due to\na config or an image difference.\n\nI found that I could make the PR chart fail consistently by setting\n`wsrep_slave_threads=12` as we had done in our chart.  Unfortunately,\nsetting `wsrep_slave_threads=1` in our chart did not completely address\nthe issue (though using `emptyDir` + setting `wsrep_slave_threads=1` did\nseem to avoid the issue).\n\nWith this chart, I do not see the consistency issue even with\n`wsrep_slave_threads=12` and the NFS provisioner in kubeadm-aio.\n\nPoints of note:\n* The configuration system was changed during testing to help isolate\n  configuration differences between charts.  I also believe this will\n  reduce churn in the StatefulSet definition (which cannot yet be\n  updated).\n* The upstream image is using a newer version of MariaDB 10.1.x instead\n  of 10.0.x.  It's possible that this is a problem for OpenStack\n  components.\n* It seemed easier to get this image to function without a seed job, but\n  that naturally adds logic to the entrypoint script to check whether\n  we're bootstrapping the cluster.\n* This does not address the broader issue of cluster recovery after\n  whole cluster failure, but does automatically recover from simple\n  single and double node disconnects (which the existing chart did too).\n\nChange-Id: I84c86e1862f03a6d381bf219b821ea3636049f0b\n""}, {'number': 3, 'created': '2017-05-15 13:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d4dc93627e6145f3084c9e9ea3d3b3da45f29fbc', 'message': ""WIP: Sketch using Dockerhub MariaDB image\n\nReason for change:\nTo start the process of making this chart more robust against\npod/cluster failure, I wrote the test found at\n/tools/mariadb-testing/mysqlslap-autoincrement.sh\n\nEven without disrupting the cluster, that test failed consistently using\nthe existing chart (with kubeadm-aio).  I tested with an alternative\nchart that can be found here:\nhttps://github.com/kubernetes/charts/pull/599\n\nThe PR chart did not produce the consistency problem (also on\nkubeadm-aio).  So next I started trying to isolate whether it was due to\na config or an image difference.\n\nI found that I could make the PR chart fail consistently by setting\n`wsrep_slave_threads=12` as we had done in our chart.  Unfortunately,\nsetting `wsrep_slave_threads=1` in our chart did not completely address\nthe issue (though using `emptyDir` + setting `wsrep_slave_threads=1` did\nseem to avoid the issue).\n\nWith this chart, I do not see the consistency issue even with\n`wsrep_slave_threads=12` and the NFS provisioner in kubeadm-aio.\n\nPoints of note:\n* The configuration system was changed during testing to help isolate\n  configuration differences between charts.  I also believe this will\n  reduce churn in the StatefulSet definition (which cannot yet be\n  updated).\n* The upstream image is using a newer version of MariaDB 10.1.x instead\n  of 10.0.x.  It's possible that this is a problem for OpenStack\n  components.\n* It seemed easier to get this image to function without a seed job, but\n  that naturally adds logic to the entrypoint script to check whether\n  we're bootstrapping the cluster.\n* This does not address the broader issue of cluster recovery after\n  whole cluster failure, but does automatically recover from simple\n  single and double node disconnects (which the existing chart did too).\n\nChange-Id: I84c86e1862f03a6d381bf219b821ea3636049f0b\n""}, {'number': 4, 'created': '2017-05-17 14:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/28dd445113c6d198d01455e94ce199e1018dd7cf', 'message': ""WIP: Sketch using Dockerhub MariaDB image\n\nReason for change:\nTo start the process of making this chart more robust against\npod/cluster failure, I wrote the test found at\n/tools/mariadb-testing/mysqlslap-autoincrement.sh\n\nEven without disrupting the cluster, that test failed consistently using\nthe existing chart (with kubeadm-aio).  I tested with an alternative\nchart that can be found here:\nhttps://github.com/kubernetes/charts/pull/599\n\nThe PR chart did not produce the consistency problem (also on\nkubeadm-aio).  So next I started trying to isolate whether it was due to\na config or an image difference.\n\nI found that I could make the PR chart fail consistently by setting\n`wsrep_slave_threads=12` as we had done in our chart.  Unfortunately,\nsetting `wsrep_slave_threads=1` in our chart did not completely address\nthe issue (though using `emptyDir` + setting `wsrep_slave_threads=1` did\nseem to avoid the issue).\n\nWith this chart, I do not see the consistency issue even with\n`wsrep_slave_threads=12` and the NFS provisioner in kubeadm-aio.\n\nPoints of note:\n* The configuration system was changed during testing to help isolate\n  configuration differences between charts.  I also believe this will\n  reduce churn in the StatefulSet definition (which cannot yet be\n  updated).\n* The upstream image is using a newer version of MariaDB 10.1.x instead\n  of 10.0.x.  It's possible that this is a problem for OpenStack\n  components.\n* It seemed easier to get this image to function without a seed job, but\n  that naturally adds logic to the entrypoint script to check whether\n  we're bootstrapping the cluster.\n* This does not address the broader issue of cluster recovery after\n  whole cluster failure, but does automatically recover from simple\n  single and double node disconnects (which the existing chart did too).\n\nChange-Id: I84c86e1862f03a6d381bf219b821ea3636049f0b\n""}, {'number': 5, 'created': '2017-05-18 13:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9c5861d080b277a168de3fd0f2f6d9d988443fcd', 'message': ""WIP: Sketch using Dockerhub MariaDB image\n\nThis change addresses consistency issues that appear with autoincrement\nfields in the mariadb galera chart, even without disrupting the cluster.\n\nPoints of note:\n* The configuration system was changed during testing to help isolate\n  configuration differences between charts.  I also believe this will\n  reduce churn in the StatefulSet definition (which cannot yet be\n  updated).\n* The upstream image is using a newer version of MariaDB 10.1.x instead\n  of 10.0.x.  It's possible that this is a problem for OpenStack\n  components.\n* It seemed easier to get this image to function without a seed job, but\n  that naturally adds logic to the entrypoint script to check whether\n  we're bootstrapping the cluster.\n* This does not address the broader issue of cluster recovery after\n  whole cluster failure, but does automatically recover from simple\n  single and double node disconnects (which the existing chart did too).\n\nChange-Id: I84c86e1862f03a6d381bf219b821ea3636049f0b\n""}, {'number': 6, 'created': '2017-05-18 16:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/af4a9864c4c9ab4789509c68907813c2cc64b539', 'message': ""WIP: Sketch using Dockerhub MariaDB image\n\nThis change addresses consistency issues that appear with autoincrement\nfields in the mariadb galera chart, even without disrupting the cluster.\n\nPoints of note:\n* The configuration system was changed during testing to help isolate\n  configuration differences between charts.  I also believe this will\n  reduce churn in the StatefulSet definition (which cannot yet be\n  updated).\n* The upstream image is using a newer version of MariaDB 10.1.x instead\n  of 10.0.x.  It's possible that this is a problem for OpenStack\n  components.\n* It seemed easier to get this image to function without a seed job, but\n  that naturally adds logic to the entrypoint script to check whether\n  we're bootstrapping the cluster.\n* This does not address the broader issue of cluster recovery after\n  whole cluster failure, but does automatically recover from simple\n  single and double node disconnects (which the existing chart did too).\n\nChange-Id: I84c86e1862f03a6d381bf219b821ea3636049f0b\n""}, {'number': 7, 'created': '2017-05-19 13:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e16cdf35a9941c2727919e190a81e8e217d7f3d6', 'message': ""WIP: Sketch using Dockerhub MariaDB image\n\nThis change addresses consistency issues that appear with autoincrement\nfields in the mariadb galera chart, even without disrupting the cluster.\n\nPoints of note:\n* The configuration system was changed during testing to help isolate\n  configuration differences between charts.  I also believe this will\n  reduce churn in the StatefulSet definition (which cannot yet be\n  updated).\n* The upstream image is using a newer version of MariaDB 10.1.x instead\n  of 10.0.x.  It's possible that this is a problem for OpenStack\n  components.\n* It seemed easier to get this image to function without a seed job, but\n  that naturally adds logic to the entrypoint script to check whether\n  we're bootstrapping the cluster.\n* This does not address the broader issue of cluster recovery after\n  whole cluster failure, but does automatically recover from simple\n  single and double node disconnects (which the existing chart did too).\n\nChange-Id: I84c86e1862f03a6d381bf219b821ea3636049f0b\n""}, {'number': 8, 'created': '2017-05-25 13:56:41.000000000', 'files': ['mariadb/templates/service-discovery.yaml', 'mariadb/templates/etc/_my.cnf.tpl', 'mariadb/templates/etc/_99-force.cnf.tpl', 'mariadb/templates/etc/_networking.cnf.tpl', 'mariadb/templates/bin/_start.sh.tpl', 'mariadb/templates/bin/_seed.sh.tpl', 'glance/values.yaml', 'mariadb/templates/etc/_00-base.cnf.tpl', 'mariadb/templates/etc/_wsrep.cnf.tpl', 'mariadb/templates/configmap-bin.yaml', 'keystone/values.yaml', 'mariadb/templates/etc/_charsets.cnf.tpl', 'senlin/values.yaml', 'mariadb/templates/etc/_engine.cnf.tpl', 'mistral/values.yaml', 'mariadb/templates/bin/_bootstrap-db.sh.tpl', 'barbican/values.yaml', 'heat/values.yaml', 'mariadb/Chart.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'mariadb/values.yaml', 'mariadb/templates/etc/_20-override.cnf.tpl', 'mariadb/templates/configmap-etc.yaml', 'mariadb/templates/etc/_log.cnf.tpl', 'mariadb/templates/job-seed.yaml', 'mariadb/templates/bin/_peer-finder.py.tpl', 'mariadb/templates/bin/_readiness.sh.tpl', 'mariadb/templates/statefulset.yaml', 'mariadb/templates/bin/_readiness.py.tpl', 'doc/source/install/developer/minikube.rst', 'nova/values.yaml', 'neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/de20cbb15dc0cbc57f8dab6ac8d7079f54d2ad03', 'message': 'Use the standard Dockerhub MariaDB image\n\nAddresses consistency issues that appear with autoincrement fields in\nthe existing chart, as demonstrated in [1].  It should allow automatic\nrecovery of 2 out of the 3 (default) cluster members.\n\nIt does not address automatic recovery of a complete shutdown of all\ncluster nodes.\n\n[1] https://review.openstack.org/#/c/465977/\n\nChange-Id: I84c86e1862f03a6d381bf219b821ea3636049f0b\n'}]",0,464262,de20cbb15dc0cbc57f8dab6ac8d7079f54d2ad03,38,6,8,25907,,,0,"Use the standard Dockerhub MariaDB image

Addresses consistency issues that appear with autoincrement fields in
the existing chart, as demonstrated in [1].  It should allow automatic
recovery of 2 out of the 3 (default) cluster members.

It does not address automatic recovery of a complete shutdown of all
cluster nodes.

[1] https://review.openstack.org/#/c/465977/

Change-Id: I84c86e1862f03a6d381bf219b821ea3636049f0b
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/62/464262/3 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/etc/_engine.cnf.tpl', 'mariadb/templates/service-discovery.yaml', 'mariadb/templates/bin/_bootstrap-db.sh.tpl', 'tools/mariadb-testing/mysqlslap-autoincrement.sh', 'mariadb/templates/etc/_my.cnf.tpl', 'mariadb/templates/etc/_networking.cnf.tpl', 'mariadb/values.yaml', 'mariadb/templates/etc/_20-override.cnf.tpl', 'mariadb/templates/bin/_start.sh.tpl', 'mariadb/templates/configmap-etc.yaml', 'mariadb/templates/etc/_log.cnf.tpl', 'mariadb/templates/etc/_tuning.cnf.tpl', 'mariadb/templates/job-seed.yaml', 'mariadb/templates/bin/_peer-finder.py.tpl', 'mariadb/templates/bin/_seed.sh.tpl', 'mariadb/templates/bin/_readiness.sh.tpl', 'mariadb/templates/etc/_00-base.cnf.tpl', 'mariadb/templates/statefulset.yaml', 'mariadb/templates/bin/_readiness.py.tpl', 'mariadb/templates/etc/_wsrep.cnf.tpl', 'mariadb/templates/configmap-bin.yaml', 'mariadb/templates/etc/_charsets.cnf.tpl', 'mariadb/templates/deployment.yaml']",23,0cea8776003efe116fd951743cbe97fa4c8c7ada,mariadb-cleanup,,"# Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. --- apiVersion: apps/v1beta1 kind: StatefulSet metadata: name: {{ .Values.service_name }} spec: serviceName: ""{{ .Values.service_name }}"" {{- if .Values.development.enabled }} replicas: 1 {{- else }} replicas: {{ .Values.replicas }} {{- end }} template: metadata: labels: app: {{ .Values.service_name }} galera: enabled annotations: # alanmeadows: this soft requirement allows single # host deployments to spawn several mariadb containers # but in a larger environment, would attempt to spread # them out scheduler.alpha.kubernetes.io/affinity: > { ""podAntiAffinity"": { ""preferredDuringSchedulingIgnoredDuringExecution"": [{ ""labelSelector"": { ""matchExpressions"": [{ ""key"": ""app"", ""operator"": ""In"", ""values"":[""mariadb""] }] }, ""topologyKey"": ""kubernetes.io/hostname"", ""weight"": 10 }] } } spec: nodeSelector: {{ .Values.labels.node_selector_key }}: {{ .Values.labels.node_selector_value }} containers: - name: {{ .Values.service_name }} image: {{ .Values.images.mariadb }} imagePullPolicy: {{ .Values.images.pull_policy }} {{- if .Values.resources.enabled }} resources: limits: cpu: {{ .Values.resources.api.limits.cpu | quote }} memory: {{ .Values.resources.api.limits.memory | quote }} requests: cpu: {{ .Values.resources.api.requests.cpu | quote }} memory: {{ .Values.resources.api.requests.memory | quote }} {{- end }} command: - bash - /tmp/start.sh env: - name: INTERFACE_NAME value: ""eth0"" - name: POD_NAME valueFrom: fieldRef: fieldPath: metadata.name - name: POD_IP valueFrom: fieldRef: fieldPath: status.podIP - name: NAMESPACE valueFrom: fieldRef: fieldPath: metadata.namespace ports: - containerPort: {{ .Values.network.port.mariadb }} - containerPort: {{ .Values.network.port.wsrep }} - containerPort: {{ .Values.network.port.ist }} # a readinessprobe is a much more complex affair with # statefulsets, as the container must be ""live"" # before the next stateful member is created # and with galera this is problematic readinessProbe: exec: command: - python - /mariadb-readiness.py initialDelaySeconds: 60 volumeMounts: - name: mycnfd mountPath: /etc/my.cnf.d - name: startsh mountPath: /tmp/start.sh subPath: start.sh - name: bootstrapdb mountPath: /tmp/bootstrap-db.sh subPath: bootstrap-db.sh - name: peerfinder mountPath: /tmp/peer-finder.py subPath: peer-finder.py - name: readiness mountPath: /mariadb-readiness.py subPath: readiness.py - name: charsets mountPath: /etc/my.cnf.d/charsets.cnf subPath: charsets.cnf - name: engine mountPath: /etc/my.cnf.d/engine.cnf subPath: engine.cnf - name: log mountPath: /etc/my.cnf.d/log.cnf subPath: log.cnf - name: mycnf mountPath: /etc/my.cnf subPath: my.cnf - name: networking mountPath: /etc/my.cnf.d/networking.cnf subPath: networking.cnf - name: pid mountPath: /etc/my.cnf.d/pid.cnf subPath: pid.cnf - name: tuning mountPath: /etc/my.cnf.d/tuning.cnf subPath: tuning.cnf - name: wsrep mountPath: /etc/my.cnf.d/wsrep.cnf subPath: wsrep.cnf - name: mysql-data mountPath: /var/lib/mysql volumes: - name: mycnfd emptyDir: {} - name: startsh configMap: name: mariadb-bin - name: bootstrapdb configMap: name: mariadb-bin - name: peerfinder configMap: name: mariadb-bin - name: readiness configMap: name: mariadb-bin - name: charsets configMap: name: mariadb-etc - name: engine configMap: name: mariadb-etc - name: log configMap: name: mariadb-etc - name: mycnf configMap: name: mariadb-etc - name: networking configMap: name: mariadb-etc - name: pid configMap: name: mariadb-etc - name: tuning configMap: name: mariadb-etc - name: wsrep configMap: name: mariadb-etc {{- if .Values.development.enabled }} - name: mysql-data hostPath: path: {{ .Values.development.storage_path }} {{- else }} volumeClaimTemplates: - metadata: name: mysql-data annotations: {{ .Values.volume.class_path }}: {{ .Values.volume.class_name }} spec: accessModes: [ ""ReadWriteOnce"" ] resources: requests: storage: {{ .Values.volume.size }} {{- end }} ",450,912
openstack%2Fdevstack~master~Icfa24654699a4e4e4be8a53f7bbe4634badbff7b,openstack/devstack,master,Icfa24654699a4e4e4be8a53f7bbe4634badbff7b,Fix typo,MERGED,2017-05-25 17:03:29.000000000,2017-05-25 20:52:28.000000000,2017-05-25 20:52:28.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 10118}]","[{'number': 1, 'created': '2017-05-25 17:03:29.000000000', 'files': ['lib/etcd3'], 'web_link': 'https://opendev.org/openstack/devstack/commit/853b475bfd79621ce7189b133625cb404d618efb', 'message': 'Fix typo\n\nshould be etcd3\n\nChange-Id: Icfa24654699a4e4e4be8a53f7bbe4634badbff7b\n'}]",0,468106,853b475bfd79621ce7189b133625cb404d618efb,10,4,1,5638,,,0,"Fix typo

should be etcd3

Change-Id: Icfa24654699a4e4e4be8a53f7bbe4634badbff7b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/06/468106/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/etcd3'],1,853b475bfd79621ce7189b133625cb404d618efb,,function cleanup_etcd3 {,function cleanup_etcd {,1,1
openstack%2Fcinder~master~Id7ed6218674d9babd11aab0f5293a31ae08c2334,openstack/cinder,master,Id7ed6218674d9babd11aab0f5293a31ae08c2334,Updated from global requirements,MERGED,2017-05-15 00:42:32.000000000,2017-05-25 20:30:34.000000000,2017-05-19 18:40:57.000000000,"[{'_account_id': 3}, {'_account_id': 2759}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21511}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-05-15 00:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/756ca7c0ecd4aba5f8112a5e0754e18fdf213945', 'message': 'Updated from global requirements\n\nChange-Id: Id7ed6218674d9babd11aab0f5293a31ae08c2334\n'}, {'number': 2, 'created': '2017-05-15 12:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d418d2e9fc66370e6045452e9b033c2e5c25ac2', 'message': 'Updated from global requirements\n\nChange-Id: Id7ed6218674d9babd11aab0f5293a31ae08c2334\n'}, {'number': 3, 'created': '2017-05-15 16:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d268aa9a80b4c7300eca80d72f3ad730d3b2dd8b', 'message': 'Updated from global requirements\n\nChange-Id: Id7ed6218674d9babd11aab0f5293a31ae08c2334\n'}, {'number': 4, 'created': '2017-05-16 12:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fbac274e98b5a036564047f254d4203017f7a290', 'message': 'Updated from global requirements\n\nChange-Id: Id7ed6218674d9babd11aab0f5293a31ae08c2334\n'}, {'number': 5, 'created': '2017-05-17 03:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/699ecfe247a67849b30f8f9e3e1490f4291265bb', 'message': 'Updated from global requirements\n\nChange-Id: Id7ed6218674d9babd11aab0f5293a31ae08c2334\n'}, {'number': 6, 'created': '2017-05-17 03:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4e14f45c9038122ce0bb23587ac9b29bb93bc55', 'message': 'Updated from global requirements\n\nChange-Id: Id7ed6218674d9babd11aab0f5293a31ae08c2334\n'}, {'number': 7, 'created': '2017-05-17 13:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e4e790fc97300b0d92bef937aba6aee9bfddc06', 'message': 'Updated from global requirements\n\nChange-Id: Id7ed6218674d9babd11aab0f5293a31ae08c2334\n'}, {'number': 8, 'created': '2017-05-18 12:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f0db399b2425f17e96cee38db24bb81d9a9c5ab', 'message': 'Updated from global requirements\n\nChange-Id: Id7ed6218674d9babd11aab0f5293a31ae08c2334\n'}, {'number': 9, 'created': '2017-05-18 21:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c181e41ec49dde61c3add2c0457b9c69e80f4292', 'message': 'Updated from global requirements\n\nChange-Id: Id7ed6218674d9babd11aab0f5293a31ae08c2334\n'}, {'number': 10, 'created': '2017-05-18 23:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb5b6a40aedc9c75d88998d41feff5ccef7ec93a', 'message': 'Updated from global requirements\n\nChange-Id: Id7ed6218674d9babd11aab0f5293a31ae08c2334\n'}, {'number': 11, 'created': '2017-05-18 23:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fd855d9de68b624965e741da849e444720d9c6ab', 'message': 'Updated from global requirements\n\nChange-Id: Id7ed6218674d9babd11aab0f5293a31ae08c2334\n'}, {'number': 12, 'created': '2017-05-19 02:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1195680671bd0e43e64f96dd96e942ce50be4531', 'message': 'Updated from global requirements\n\nChange-Id: Id7ed6218674d9babd11aab0f5293a31ae08c2334\n'}, {'number': 13, 'created': '2017-05-19 15:48:42.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d4bc69e46f567df4c2bc68ea545e7500474c463', 'message': 'Updated from global requirements\n\nChange-Id: Id7ed6218674d9babd11aab0f5293a31ae08c2334\n'}]",0,464362,6d4bc69e46f567df4c2bc68ea545e7500474c463,239,44,13,11131,,,0,"Updated from global requirements

Change-Id: Id7ed6218674d9babd11aab0f5293a31ae08c2334
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/464362/9 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,756ca7c0ecd4aba5f8112a5e0754e18fdf213945,openstack/requirements,"coverage!=4.4,>=4.0 # Apache-2.0",coverage>=4.0 # Apache-2.0,1,1
openstack%2Ftripleo-common~master~I94ff116ab5c91c71a4ad5c7977ba82bb970be7f7,openstack/tripleo-common,master,I94ff116ab5c91c71a4ad5c7977ba82bb970be7f7,kolla_template_overrides: pacemaker rabbit,ABANDONED,2017-04-03 18:34:42.000000000,2017-05-25 20:24:54.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 6926}]","[{'number': 1, 'created': '2017-04-03 18:34:42.000000000', 'files': ['contrib/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f2a7d2d39f0a678f1a392483ff7e229754c22e13', 'message': 'kolla_template_overrides: pacemaker rabbit\n\nAdds pre-release testing packages of pacemaker to the\nrabbitmq container. Needed for pacemaker remote.\n\nChange-Id: I94ff116ab5c91c71a4ad5c7977ba82bb970be7f7\n'}]",0,452890,f2a7d2d39f0a678f1a392483ff7e229754c22e13,6,3,1,360,,,0,"kolla_template_overrides: pacemaker rabbit

Adds pre-release testing packages of pacemaker to the
rabbitmq container. Needed for pacemaker remote.

Change-Id: I94ff116ab5c91c71a4ad5c7977ba82bb970be7f7
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/90/452890/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/tripleo_kolla_template_overrides.j2'],1,f2a7d2d39f0a678f1a392483ff7e229754c22e13,pacemaker, # custom pacemaker with support for launching docker container resources {% block rabbitmq_footer %} RUN curl http://people.redhat.com/abeekhof/mock/pacemaker-1.1.16-2628.12e12ae.g RUN curl http://people.redhat.com/abeekhof/mock/pacemaker-1.1.16-2628.12e12ae.g RUN curl http://people.redhat.com/abeekhof/mock/pacemaker-cli-1.1.16-2628.12e12 RUN curl http://people.redhat.com/abeekhof/mock/pacemaker-cluster-libs-1.1.16-2 RUN curl http://people.redhat.com/abeekhof/mock/pacemaker-cts-1.1.16-2628.12e12 RUN curl http://people.redhat.com/abeekhof/mock/pacemaker-debuginfo-1.1.16-2628 RUN curl http://people.redhat.com/abeekhof/mock/pacemaker-doc-1.1.16-2628.12e12 RUN curl http://people.redhat.com/abeekhof/mock/pacemaker-libs-1.1.16-2628.12e1 RUN curl http://people.redhat.com/abeekhof/mock/pacemaker-libs-devel-1.1.16-262 RUN curl http://people.redhat.com/abeekhof/mock/pacemaker-remote-1.1.16-2628.12 RUN yum localinstall -y /tmp/*.x86_64.rpm # resource agents RUN yum install -y resource-agents RUN yum install -y pcs {% endblock %},,20,0
openstack%2Ffreezer~master~I8cba2421d2940d290f78b88909c5776e3092c2d9,openstack/freezer,master,I8cba2421d2940d290f78b88909c5776e3092c2d9,Updated from global requirements,MERGED,2017-05-25 16:18:57.000000000,2017-05-25 20:14:32.000000000,2017-05-25 20:14:32.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 22405}]","[{'number': 1, 'created': '2017-05-25 16:18:57.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/freezer/commit/75e3c6f519029026ec8d74b5aaf0136892a72f86', 'message': 'Updated from global requirements\n\nChange-Id: I8cba2421d2940d290f78b88909c5776e3092c2d9\n'}]",0,468086,75e3c6f519029026ec8d74b5aaf0136892a72f86,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I8cba2421d2940d290f78b88909c5776e3092c2d9
",git fetch https://review.opendev.org/openstack/freezer refs/changes/86/468086/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,75e3c6f519029026ec8d74b5aaf0136892a72f86,openstack/requirements,os-brick>=1.13.1 # Apache-2.0,os-brick>=1.13.0 # Apache-2.0,1,1
openstack%2Fsahara-specs~master~Ib9a64e5bd98803a994cfd58250b9c930b141c9ed,openstack/sahara-specs,master,Ib9a64e5bd98803a994cfd58250b9c930b141c9ed,Add spec for supporting S3-compatible object stores,MERGED,2017-05-10 18:06:18.000000000,2017-05-25 20:07:46.000000000,2017-05-25 20:07:46.000000000,"[{'_account_id': 3}, {'_account_id': 8932}, {'_account_id': 12038}, {'_account_id': 13953}, {'_account_id': 15209}, {'_account_id': 16625}, {'_account_id': 23078}]","[{'number': 1, 'created': '2017-05-10 18:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/d09cbd825c48580c102df67e5f101ce882e2b1f7', 'message': 'Add spec for supporting S3-compatible object stores\n\nbp sahara-support-s3\n\nChange-Id: Ib9a64e5bd98803a994cfd58250b9c930b141c9ed\n'}, {'number': 2, 'created': '2017-05-10 18:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/c18a768f7be3bf546df2cf49f6be6c269a419e5b', 'message': 'Add spec for supporting S3-compatible object stores\n\nbp sahara-support-s3\n\nChange-Id: Ib9a64e5bd98803a994cfd58250b9c930b141c9ed\n'}, {'number': 3, 'created': '2017-05-10 18:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/9d5d3a8377188e4877f1751944fcf18f5dd1d47f', 'message': 'Add spec for supporting S3-compatible object stores\n\nbp sahara-support-s3\n\nChange-Id: Ib9a64e5bd98803a994cfd58250b9c930b141c9ed\n'}, {'number': 4, 'created': '2017-05-10 18:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/e3aa2c0464b7bbbdac8b9334ecb7b49906ccda88', 'message': 'Add spec for supporting S3-compatible object stores\n\nbp sahara-support-s3\n\nChange-Id: Ib9a64e5bd98803a994cfd58250b9c930b141c9ed\n'}, {'number': 5, 'created': '2017-05-10 20:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/093e26f18af9f782ed48d7f0c281b282355c494e', 'message': 'Add spec for supporting S3-compatible object stores\n\nbp sahara-support-s3\n\nChange-Id: Ib9a64e5bd98803a994cfd58250b9c930b141c9ed\n'}, {'number': 6, 'created': '2017-05-10 20:34:17.000000000', 'files': ['specs/pike/support-for-s3-compatible-object-stores.rst'], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/5e2c4a86b87ab64097817c4dcf8d096dde83bf77', 'message': 'Add spec for supporting S3-compatible object stores\n\nbp sahara-support-s3\n\nChange-Id: Ib9a64e5bd98803a994cfd58250b9c930b141c9ed\n'}]",5,463841,5e2c4a86b87ab64097817c4dcf8d096dde83bf77,22,7,6,23078,,,0,"Add spec for supporting S3-compatible object stores

bp sahara-support-s3

Change-Id: Ib9a64e5bd98803a994cfd58250b9c930b141c9ed
",git fetch https://review.opendev.org/openstack/sahara-specs refs/changes/41/463841/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/support-for-s3-compatible-object-stores.rst'],1,d09cbd825c48580c102df67e5f101ce882e2b1f7,bp/sahara-support-s3,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Support for S3-compatible object stores ========================================== https://blueprints.launchpad.net/sahara/+spec/sahara-support-s3 Following the efforts done to make data sources and job binaries ""pluggable"", it should be feasible to introduce support for S3-compatible object stores. This will be an additional alternative to the existing HDFS, Swift, MapR-FS, and Manila storage options. A previous spec regarding this topic existed around the time of Icehouse release, but the work has been stagnant since then: https://blueprints.launchpad.net/sahara/+spec/edp-data-source-from-s3 Problem description =================== Hadoop already offers filesystem libraries with support for s3a:///path URIs, so supporting S3-compatible object stores on Sahara is a reasonable feature to add. Within the world of OpenStack, many cloud operators choose Ceph RadosGW instead of Swift. RadosGW object store supports access through either the Swift or S3 APIs. Also, with some extra configuration, a ""native"" install of Swift can also support the S3 API. For some users we may expect the Hadoop S3 library to be preferable over the Hadoop Swift library as it has recently received several enhancements including support for larger objects and other performance improvements. Additionally, some cloud users may wish to use other S3-compatible object stores, including: * Amazon S3 (including AWS Public Datasets) * LeoFS * Riak Cloud Storage * Cloudian HyperStore * Minio * SwiftStack * Eucalyptus It is clear that adding support for S3 datasources will open up a new world of Sahara use cases. Proposed change =============== An ""s3"" data source type will be added, via new code in *sahara.service.edp.data_sources*. We will need utilities to validate S3 URIs, as well as to handle job configs (access key, secret key, endpoint, bucket URI). Regarding EDP, there should not be much work to do outside of defining the new data source type, since the Hadoop S3 library allows jobs to be run against S3 seamlessly. Similar work will be done to enable an ""s3"" job binary type, including the writing of ""job binary retriever"" code. While the implementation of the abstraction is simple, a lot of work comes from dashboard, saharaclient, documentation, and testing. Alternatives ------------ Do not add support for S3 as a data source for EDP. Since the Hadoop S3 libraries are already included on the image regardless of this change, users can run data processing jobs against S3 manually. We still may wish to add the relevant JARs to the classpath as a courtesy to users. Data model impact ----------------- None REST API impact --------------- None (only ""s3"" as a valid data source type and job binary type in the schema) Other end user impact --------------------- None Deployer impact --------------- None Developer impact ---------------- None Sahara-image-elements impact ---------------------------- On most images, hadoop-aws.jar needs to be added to the classpath. Generally images with Hadoop (or related component) installed already have the JAR. The work will probably take place during the transition from SIE to image packing, so the work will probably need to be done in both places. Sahara-dashboard / Horizon impact --------------------------------- Data Source and Job Binary forms should support s3 type, with fields for access key, secret key, S3 URI, and S3 endpoint. Note that this is a lot of fields, in fact more than we have for Swift. There will probably be some saharaclient impact too, because of this. Implementation ============== Assignee(s) ----------- Primary assignee: Jeremy Freudberg Other contributors: None Work Items ---------- * S3 as a data source * S3 as a job binary * Ensure presence of AWS JAR on images * Dashboard and saharaclient work * Scenario tests * Documentation Dependencies ============ None Testing ======= We will probably want scenario tests (although we don't have them for Manila). References ========== None ",,152,0
openstack%2Fproject-config~master~I664ceef163c52e3dd8ba6a11eafd785ef4c010e2,openstack/project-config,master,I664ceef163c52e3dd8ba6a11eafd785ef4c010e2,Also include disable_service cinder for nodepool dsvm,MERGED,2017-05-25 19:40:58.000000000,2017-05-25 19:59:53.000000000,2017-05-25 19:59:53.000000000,"[{'_account_id': 3}, {'_account_id': 4146}]","[{'number': 1, 'created': '2017-05-25 19:40:58.000000000', 'files': ['jenkins/jobs/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/70daaf612abdbb69e3859cdd2ab37364029c5e93', 'message': ""Also include disable_service cinder for nodepool dsvm\n\nThis should ensure we don't start any cinder services.\n\nChange-Id: I664ceef163c52e3dd8ba6a11eafd785ef4c010e2\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n""}]",0,468144,70daaf612abdbb69e3859cdd2ab37364029c5e93,6,2,1,4162,,,0,"Also include disable_service cinder for nodepool dsvm

This should ensure we don't start any cinder services.

Change-Id: I664ceef163c52e3dd8ba6a11eafd785ef4c010e2
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/44/468144/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/nodepool.yaml'],1,70daaf612abdbb69e3859cdd2ab37364029c5e93,," export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service cinder"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""disable_service cinder""",,2,0
openstack%2Fpython-openstackclient~master~If226c82ef8df339e4ae63d8241e0bd15b69264d2,openstack/python-openstackclient,master,If226c82ef8df339e4ae63d8241e0bd15b69264d2,Add functional test for volume service,MERGED,2017-02-10 12:23:01.000000000,2017-05-25 19:53:51.000000000,2017-05-25 19:53:51.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 23913}, {'_account_id': 24081}]","[{'number': 1, 'created': '2017-02-10 12:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1807766ac36e6c68cea41fcc071b20e80838040f', 'message': 'Add functional test for volume service\n\nAdd functional test for volume service, v1 and v2\n\nChange-Id: If226c82ef8df339e4ae63d8241e0bd15b69264d2\n'}, {'number': 2, 'created': '2017-02-14 06:19:05.000000000', 'files': ['openstackclient/tests/functional/volume/v1/test_service.py', 'openstackclient/tests/functional/volume/v2/test_service.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9f297853ce768c243d9c411b42786954e991cd91', 'message': 'Add functional test for volume service\n\nAdd functional test for volume service, v1 and v2\n\nChange-Id: If226c82ef8df339e4ae63d8241e0bd15b69264d2\n'}]",0,432282,9f297853ce768c243d9c411b42786954e991cd91,18,5,2,24081,,,0,"Add functional test for volume service

Add functional test for volume service, v1 and v2

Change-Id: If226c82ef8df339e4ae63d8241e0bd15b69264d2
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/82/432282/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/functional/volume/v1/test_service.py', 'openstackclient/tests/functional/volume/v2/test_service.py']",2,1807766ac36e6c68cea41fcc071b20e80838040f,fun-volume-service,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import json from openstackclient.tests.functional.volume.v2 import common class VolumeServiceTests(common.BaseVolumeTests): """"""Functional tests for volume service."""""" def test_volume_service_list(self): cmd_output = json.loads(self.openstack( 'volume service list -f json')) # Get the nonredundant services and hosts services = list(set([x['Binary'] for x in cmd_output])) hosts = list(set([x['Host'] for x in cmd_output])) # Test volume service list --service cmd_output = json.loads(self.openstack( 'volume service list -f json ' + '--service ' + services[0] )) for x in cmd_output: self.assertEqual( services[0], x['Binary'] ) # Test volume service list --host cmd_output = json.loads(self.openstack( 'volume service list -f json ' + '--host ' + hosts[0] )) for x in cmd_output: self.assertEqual( hosts[0], x['Host'] ) def test_volume_service_set(self): # Get a service and host cmd_output = json.loads(self.openstack( 'volume service list -f json' )) service_1 = cmd_output[0]['Binary'] host_1 = cmd_output[0]['Host'] # Test volume service set --enable raw_output = self.openstack( 'volume service set --enable ' + host_1 + ' ' + service_1 ) self.assertOutput('', raw_output) cmd_output = json.loads(self.openstack( 'volume service list -f json --long' )) self.assertEqual( 'enabled', cmd_output[0]['Status'] ) self.assertEqual( None, cmd_output[0]['Disabled Reason'] ) # Test volume service set --disable and --disable-reason disable_reason = 'disable_reason' raw_output = self.openstack( 'volume service set --disable ' + '--disable-reason ' + disable_reason + ' ' + host_1 + ' ' + service_1 ) self.assertOutput('', raw_output) cmd_output = json.loads(self.openstack( 'volume service list -f json --long' )) self.assertEqual( 'disabled', cmd_output[0]['Status'] ) self.assertEqual( disable_reason, cmd_output[0]['Disabled Reason'] ) ",,206,0
openstack%2Ftripleo-quickstart-extras~master~Ice5bf4d264b406227518ea52d44d2769312761e0,openstack/tripleo-quickstart-extras,master,Ice5bf4d264b406227518ea52d44d2769312761e0,overcloud-delete: role test,MERGED,2017-05-10 12:21:19.000000000,2017-05-25 19:47:00.000000000,2017-05-25 19:47:00.000000000,"[{'_account_id': 3}, {'_account_id': 8652}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-05-10 12:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/844755a433d35fba207ba49185bf981af7af3c80', 'message': 'overcloud-delete: role test\n\nround of tests for the role activation\n- fix until condition\n\nChange-Id: Ice5bf4d264b406227518ea52d44d2769312761e0\n'}, {'number': 2, 'created': '2017-05-11 08:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b993e3a9d5ebd93ee0849836b1d716a940dac6d8', 'message': 'overcloud-delete: role test\n\nround of tests for the role activation\n- fix until condition\n\nChange-Id: Ice5bf4d264b406227518ea52d44d2769312761e0\n'}, {'number': 3, 'created': '2017-05-11 11:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/33a032ad0bee31b82f4719c74b626104feda12b5', 'message': 'overcloud-delete: role test\n\nround of tests for the role activation\n- fix until condition\n\nChange-Id: Ice5bf4d264b406227518ea52d44d2769312761e0\n'}, {'number': 4, 'created': '2017-05-19 17:39:02.000000000', 'files': ['roles/overcloud-delete/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3c6a8b68983e28a6467484d62f44c57d0acb70ce', 'message': 'overcloud-delete: role test\n\nround of tests for the role activation\n- fix until condition\n\nChange-Id: Ice5bf4d264b406227518ea52d44d2769312761e0\n'}]",0,463736,3c6a8b68983e28a6467484d62f44c57d0acb70ce,26,6,4,10022,,,0,"overcloud-delete: role test

round of tests for the role activation
- fix until condition

Change-Id: Ice5bf4d264b406227518ea52d44d2769312761e0
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/36/463736/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-delete/tasks/main.yml'],1,844755a433d35fba207ba49185bf981af7af3c80,oooq-t-phase2," until: ""{{ heat_stack_show.stdout.find('DELETE_COMPLETE') }}"""," until: ""{{ heat_show.stdout.find('DELETE_COMPLETE') }}""",1,1
openstack%2Fironic~master~Ibbb099431a9f830279a77dacfc882d866305dff1,openstack/ironic,master,Ibbb099431a9f830279a77dacfc882d866305dff1,Add validation for OneView connections,ABANDONED,2016-09-26 21:32:43.000000000,2017-05-25 19:44:47.000000000,,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 10765}, {'_account_id': 10917}, {'_account_id': 11878}, {'_account_id': 12356}, {'_account_id': 14525}, {'_account_id': 14629}, {'_account_id': 14675}, {'_account_id': 14943}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 20311}, {'_account_id': 21775}, {'_account_id': 22970}, {'_account_id': 23312}, {'_account_id': 23375}]","[{'number': 1, 'created': '2016-09-26 21:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/53028e0f02aa1555958bf3b3c3682a203df06224', 'message': 'Added validation for local_link_connection\n\nDepends on patch 377103\nValidation to check the OneView properties set in the\nIronic Port local_link_connection field and in\npxe_enabled.\n\nChange-Id: Ibbb099431a9f830279a77dacfc882d866305dff1\n'}, {'number': 2, 'created': '2016-09-27 17:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb6c5f089fc58279945f58398bd7465984c6a045', 'message': 'Added validation for local_link_connection\n\nValidation to check the OneView properties set in the\nIronic Port local_link_connection field and in\npxe_enabled.\n\nChange-Id: Ibbb099431a9f830279a77dacfc882d866305dff1\nDepends-On: I6c47f6b09d22b530da8eeac189ff54f603850723'}, {'number': 3, 'created': '2016-09-27 17:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cf44f3c3a7914dafcc5e4fa44cdcf1eb012fb446', 'message': 'Added validation for local_link_connection\n\nValidation to check the OneView properties set in the\nIronic Port local_link_connection field and in\npxe_enabled.\n\nChange-Id: Ibbb099431a9f830279a77dacfc882d866305dff1\nDepends-On: I6c47f6b09d22b530da8eeac189ff54f603850723'}, {'number': 4, 'created': '2016-09-29 19:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fd6b86e73b11885be22541d66e76cb479369d029', 'message': 'Added validation for local_link_connection\n\nValidation to check the OneView properties set in the\nIronic Port local_link_connection field and in\npxe_enabled.\n\nChange-Id: Ibbb099431a9f830279a77dacfc882d866305dff1\nDepends-On: I6c47f6b09d22b530da8eeac189ff54f603850723'}, {'number': 5, 'created': '2016-12-20 20:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/39c34ff104bb9771cd92a4fc7067ad581a409140', 'message': 'Added validation for local_link_connection\n\nValidation to check the OneView properties set in the\nIronic Port local_link_connection field and in\npxe_enabled.\n\nChange-Id: Ibbb099431a9f830279a77dacfc882d866305dff1\nDepends-On: I6c47f6b09d22b530da8eeac189ff54f603850723\n'}, {'number': 6, 'created': '2017-02-15 16:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1c75fc54aeb48eabb66092b3c987b41f1a8c97df', 'message': 'Add validation for OneView connections\n\nValidation to check the OneView connections properties\nset in the Ironic Port local_link_connection field and in\npxe_enabled if the user its using OneView ML2 Driver.\n\nChange-Id: Ibbb099431a9f830279a77dacfc882d866305dff1\nDepends-On: I6c47f6b09d22b530da8eeac189ff54f603850723\n'}, {'number': 7, 'created': '2017-02-20 13:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2db3d4798b185684e45705f54bd6ae6a9ab9eb2c', 'message': 'Add validation for OneView connections\n\nValidation to check the OneView connections properties\nset in the Ironic Port local_link_connection field and in\npxe_enabled if the user its using OneView ML2 Driver.\n\nChange-Id: Ibbb099431a9f830279a77dacfc882d866305dff1\nDepends-On: I6c47f6b09d22b530da8eeac189ff54f603850723\nCloses-Bug: 1666211\n'}, {'number': 8, 'created': '2017-02-20 13:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4d0a2054d3ec16abfaf0e6e5eba00fb55ae5d0f1', 'message': 'Add validation for OneView connections\n\nValidation to check the OneView connections properties\nset in the Ironic Port local_link_connection field and in\npxe_enabled if the user its using OneView ML2 Driver.\n\nChange-Id: Ibbb099431a9f830279a77dacfc882d866305dff1\nDepends-On: I6c47f6b09d22b530da8eeac189ff54f603850723\nCloses-Bug: 1666211\n'}, {'number': 9, 'created': '2017-03-31 12:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2f9f5355e5025caa8d5fc9e6663d2a052f42fb8a', 'message': 'Add validation for OneView connections\n\nValidation to check the OneView connections properties\nset in the Ironic Port local_link_connection field and in\npxe_enabled if the user its using OneView ML2 Driver.\n\nChange-Id: Ibbb099431a9f830279a77dacfc882d866305dff1\nDepends-On: I6c47f6b09d22b530da8eeac189ff54f603850723\nCloses-Bug: 1666211\nCo-Authored-By: Hugo Nicodemos <nicodemos@lsd.ufcg.edu.br>\n'}, {'number': 10, 'created': '2017-04-11 17:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/546e556933a8ec984e82a740176371391f4949d9', 'message': 'Add validation for OneView connections\n\nValidation to check the OneView connections properties\nset in the Ironic Port local_link_connection field and in\npxe_enabled if the user its using OneView ML2 Driver.\n\nChange-Id: Ibbb099431a9f830279a77dacfc882d866305dff1\nDepends-On: I6c47f6b09d22b530da8eeac189ff54f603850723\nCloses-Bug: 1666211\nCo-Authored-By: Hugo Nicodemos <nicodemos@lsd.ufcg.edu.br>\n'}, {'number': 11, 'created': '2017-04-11 19:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3bb4abc59ee5f3fe42df84dea679ce02e09f3b8a', 'message': 'Add validation for OneView connections\n\nValidation to check the OneView connections properties\nset in the Ironic Port local_link_connection field and in\npxe_enabled if the user its using OneView ML2 Driver.\n\nChange-Id: Ibbb099431a9f830279a77dacfc882d866305dff1\nDepends-On: I6c47f6b09d22b530da8eeac189ff54f603850723\nCloses-Bug: 1666211\nCo-Authored-By: Hugo Nicodemos <nicodemos@lsd.ufcg.edu.br>\n'}, {'number': 12, 'created': '2017-05-05 14:51:45.000000000', 'files': ['ironic/drivers/modules/oneview/deploy.py', 'doc/source/drivers/oneview.rst', 'ironic/tests/unit/drivers/modules/oneview/test_common.py', 'driver-requirements.txt', 'ironic/drivers/modules/oneview/common.py', 'releasenotes/notes/oneview-ml2-driver-connection-validation-6a21e2004766b5f3.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9edac15e91fa7de1a9935ed96c6709681a617e32', 'message': 'Add validation for OneView connections\n\nValidation to check the OneView connections properties\nset in the Ironic Port local_link_connection field and in\npxe_enabled if the user its using OneView ML2 Driver.\n\nChange-Id: Ibbb099431a9f830279a77dacfc882d866305dff1\nDepends-On: I6c47f6b09d22b530da8eeac189ff54f603850723\nCloses-Bug: 1666211\nCo-Authored-By: Hugo Nicodemos <nicodemos@lsd.ufcg.edu.br>\n'}]",15,377106,9edac15e91fa7de1a9935ed96c6709681a617e32,86,18,12,10765,,,0,"Add validation for OneView connections

Validation to check the OneView connections properties
set in the Ironic Port local_link_connection field and in
pxe_enabled if the user its using OneView ML2 Driver.

Change-Id: Ibbb099431a9f830279a77dacfc882d866305dff1
Depends-On: I6c47f6b09d22b530da8eeac189ff54f603850723
Closes-Bug: 1666211
Co-Authored-By: Hugo Nicodemos <nicodemos@lsd.ufcg.edu.br>
",git fetch https://review.opendev.org/openstack/ironic refs/changes/06/377106/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/oneview/common.py'],1,53028e0f02aa1555958bf3b3c3682a203df06224,377106," if node.network_interface.lower() == 'neutron': oneview_client.validate_connections(oneview_info, node_ports) else: oneview_client.is_node_port_mac_compatible_with_server_hardware( oneview_info, node_ports )"," oneview_client.is_node_port_mac_compatible_with_server_hardware( oneview_info, node_ports )",6,4
openstack%2Freleases~master~Ie54cca5e449825a4893f5b4b3eda301b62f00059,openstack/releases,master,Ie54cca5e449825a4893f5b4b3eda301b62f00059,Release new python-cinderclient,MERGED,2017-05-25 17:20:00.000000000,2017-05-25 19:37:08.000000000,2017-05-25 19:37:08.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-05-25 17:20:00.000000000', 'files': ['deliverables/pike/python-cinderclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/123734eae392fe0449af7ddbd87b0ac66515261e', 'message': 'Release new python-cinderclient\n\nThis supports global_request_id setting\n\nChange-Id: Ie54cca5e449825a4893f5b4b3eda301b62f00059\n'}]",0,468109,123734eae392fe0449af7ddbd87b0ac66515261e,7,3,1,2750,,,0,"Release new python-cinderclient

This supports global_request_id setting

Change-Id: Ie54cca5e449825a4893f5b4b3eda301b62f00059
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/468109/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/python-cinderclient.yaml'],1,123734eae392fe0449af7ddbd87b0ac66515261e,global_request_id, - version: 2.1.0 projects: - repo: openstack/python-cinderclient hash: db51b78a3d042418e7a4159b2d92c368f069fb58,,4,0
openstack%2Fdjango_openstack_auth~master~Ica9d6ec65228b7815975c583ed0f62c9eebc0869,openstack/django_openstack_auth,master,Ica9d6ec65228b7815975c583ed0f62c9eebc0869,Imported Translations from Zanata,MERGED,2017-05-22 10:32:46.000000000,2017-05-25 19:31:07.000000000,2017-05-25 19:31:07.000000000,"[{'_account_id': 3}, {'_account_id': 5623}]","[{'number': 1, 'created': '2017-05-22 10:32:46.000000000', 'files': ['openstack_auth/locale/tr_TR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/525b76dc323db4c4e081eb5d42def6db14a84de9', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Ica9d6ec65228b7815975c583ed0f62c9eebc0869\n'}]",0,466671,525b76dc323db4c4e081eb5d42def6db14a84de9,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: Ica9d6ec65228b7815975c583ed0f62c9eebc0869
",git fetch https://review.opendev.org/openstack/django_openstack_auth refs/changes/71/466671/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_auth/locale/tr_TR/LC_MESSAGES/django.po'],1,525b76dc323db4c4e081eb5d42def6db14a84de9,zanata/translations,"# işbaran akçayır <isbaran@gmail.com>, 2017. #zanata""Project-Id-Version: django_openstack_auth 3.1.2.dev20\n""""POT-Creation-Date: 2017-05-18 13:23+0000\n""""PO-Revision-Date: 2017-05-22 09:01+0000\n"" ""Last-Translator: Copied by Zanata <copied-by-zanata@zanata.org>\n""""X-Generator: Zanata 3.9.6\n""msgid ""Could not find service provider ID on Keystone."" msgstr ""Keystone için servis sağlayıcı ID'si bulunamadı."" msgid ""K2K Federation not setup for this session"" msgstr ""K2K Birleşimi bu oturum için kurulmamış"" msgid ""Please consider changing your password, it will expire in %s minutes"" msgstr """" ""Lütfen parolanızı değiştirmeyin düşünün, %s dakikada süresini dolduracak"" #, python-formatmsgid ""Service provider authentication failed. %s"" msgstr ""Servis sağlayıcı kimlik doğrulama başarısız. %s"" #, python-format msgid ""Switch to Keystone Provider \""%(keystone_provider)s\""successful."" msgstr ""\""%(keystone_provider)s\"" Keystone Sağlayıcısına geçiş başarılı."" #, python-formatmsgid ""Unable to retrieve authorized domains."" msgstr ""Yetkili alanlar alınamadı."" ","""Project-Id-Version: django_openstack_auth 3.1.1.dev1\n""""POT-Creation-Date: 2017-01-25 19:41+0000\n""""PO-Revision-Date: 2016-03-04 01:43+0000\n"" ""Last-Translator: Mücahit Büyükyılmaz <mucahit@deltanoc.com>\n""""X-Generator: Zanata 3.7.3\n""",28,5
openstack%2Fpython-openstackclient~master~I56820c4e15bda95e911e57657c1ff5437daf83ae,openstack/python-openstackclient,master,I56820c4e15bda95e911e57657c1ff5437daf83ae,Convert volume functional tests into JSON format,MERGED,2017-05-17 01:30:45.000000000,2017-05-25 19:30:17.000000000,2017-05-25 19:30:17.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 970}, {'_account_id': 6482}]","[{'number': 1, 'created': '2017-05-17 01:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/889827433136d35534f3047bf9a2bf2276e38721', 'message': 'Convert volume type functional tests into JSON format\n\nChange-Id: I56820c4e15bda95e911e57657c1ff5437daf83ae\n'}, {'number': 2, 'created': '2017-05-17 01:51:10.000000000', 'files': ['openstackclient/tests/functional/volume/v1/test_transfer_request.py', 'openstackclient/tests/functional/volume/v2/test_volume_type.py', 'openstackclient/tests/functional/volume/v2/test_transfer_request.py', 'openstackclient/tests/functional/volume/v1/test_volume_type.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/62c793c7e4fd1da69f9daa79ed89b2488704528c', 'message': 'Convert volume functional tests into JSON format\n\nvolume_type and transfer_request func tests have not been\nconverted into JSON func tests. This commit converts them\ninto JSON format.\n\nChange-Id: I56820c4e15bda95e911e57657c1ff5437daf83ae\n'}]",9,465208,62c793c7e4fd1da69f9daa79ed89b2488704528c,10,4,2,841,,,0,"Convert volume functional tests into JSON format

volume_type and transfer_request func tests have not been
converted into JSON func tests. This commit converts them
into JSON format.

Change-Id: I56820c4e15bda95e911e57657c1ff5437daf83ae
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/08/465208/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/functional/volume/v2/test_volume_type.py', 'openstackclient/tests/functional/volume/v1/test_volume_type.py']",2,889827433136d35534f3047bf9a2bf2276e38721,volume-functest-jsonify,"import json cmd_output = json.loads(cls.openstack( 'volume type create -f json ' + cls.NAME)) cls.assertOutput(cls.NAME, cmd_output['name']) cmd_output = json.loads(self.openstack('volume type list -f json')) self.assertIn(self.NAME, [t['Name'] for t in cmd_output]) cmd_output = json.loads(self.openstack( 'volume type show -f json ' + self.NAME)) self.assertEqual(self.NAME, cmd_output['name']) cmd_output = json.loads(self.openstack( 'volume type show -f json ' + self.NAME)) self.assertEqual(""a='b', c='d'"", cmd_output['properties']) cmd_output = json.loads(self.openstack( 'volume type show -f json ' + self.NAME)) self.assertEqual(""c='d'"", cmd_output['properties']) cmd_output = json.loads(self.openstack( 'volume type show -f json ' + self.NAME)) self.assertEqual(""a='b', c='d'"", cmd_output['properties']) cmd_output = json.loads(self.openstack( 'volume type show -f json ' + self.NAME)) self.assertEqual("""", cmd_output['properties']) cmd_output = json.loads(self.openstack( 'volume type create -f json ' encryption_type)) # TODO(amotoki): encryption output should be machine-readable self.assertIn(attr, cmd_output['encryption']) cmd_output = json.loads(self.openstack( 'volume type show -f json --encryption-type ' + encryption_type)) self.assertIn(attr, cmd_output['encryption']) cmd_output = json.loads(self.openstack( 'volume type list -f json --encryption-type')) encryption_output = [t['Encryption'] for t in cmd_output if t['Name'] == encryption_type][0] # TODO(amotoki): encryption output should be machine-readable self.assertIn(attr, encryption_output) cmd_output = json.loads(self.openstack( 'volume type show -f json --encryption-type ' + self.NAME)) self.assertIn(attr, cmd_output['encryption']) cmd_output = json.loads(self.openstack( 'volume type show -f json --encryption-type ' + self.NAME)) self.assertEqual('', cmd_output['encryption'])"," opts = cls.get_opts(cls.FIELDS) raw_output = cls.openstack('volume type create ' + cls.NAME + opts) expected = cls.NAME + '\n' cls.assertOutput(expected, raw_output) opts = self.get_opts(self.HEADERS) raw_output = self.openstack('volume type list' + opts) self.assertIn(self.NAME, raw_output) opts = self.get_opts(self.FIELDS) raw_output = self.openstack('volume type show ' + self.NAME + opts) self.assertEqual(self.NAME + ""\n"", raw_output) opts = self.get_opts([""properties""]) raw_output = self.openstack('volume type show ' + self.NAME + opts) self.assertEqual(""a='b', c='d'\n"", raw_output) raw_output = self.openstack('volume type show ' + self.NAME + opts) self.assertEqual(""c='d'\n"", raw_output) opts = self.get_opts([""properties""]) raw_output = self.openstack('volume type show ' + self.NAME + opts) self.assertEqual(""a='b', c='d'\n"", raw_output) raw_output = self.openstack('volume type show ' + self.NAME + opts) self.assertEqual(""\n"", raw_output) time.sleep(5) opts = self.get_opts(['encryption']) raw_output = self.openstack( 'volume type create ' encryption_type + opts) self.assertIn(attr, raw_output) opts = self.get_opts(['encryption']) raw_output = self.openstack( 'volume type show --encryption-type ' + encryption_type + opts) self.assertIn(attr, raw_output) opts = self.get_opts(['Encryption']) raw_output = self.openstack( 'volume type list --encryption-type ' + opts) self.assertIn(attr, raw_output) opts = self.get_opts(['encryption']) raw_output = self.openstack( 'volume type show --encryption-type ' + self.NAME + opts) self.assertIn(attr, raw_output) opts = self.get_opts(['encryption']) raw_output = self.openstack( 'volume type show --encryption-type ' + self.NAME + opts) self.assertEqual('\n', raw_output)",91,94
openstack%2Fhorizon~master~I78641f4a5ddf51f905eed1679bb5552529c85e3e,openstack/horizon,master,I78641f4a5ddf51f905eed1679bb5552529c85e3e,Remove the duplicate method call when retrieving the instance log,MERGED,2017-05-25 16:00:38.000000000,2017-05-25 19:23:01.000000000,2017-05-25 19:23:01.000000000,"[{'_account_id': 3}, {'_account_id': 841}]","[{'number': 1, 'created': '2017-05-25 16:00:38.000000000', 'files': ['openstack_dashboard/static/js/horizon.firewalls.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/34caf71d4a3548560debbba4599cd470317ec5a1', 'message': 'Remove the duplicate method call when retrieving the instance log\n\nThere are two identical ways to get an instance log\nand it should delete the incorrect one.\n\n[0] openstack_dashboard/static/js/horizon.firewalls.js#L24\n[1] openstack_dashboard/static/js/horizon.instances.js#L28\n\nChange-Id: I78641f4a5ddf51f905eed1679bb5552529c85e3e\nCloses-Bug: #1693536\n'}]",0,468079,34caf71d4a3548560debbba4599cd470317ec5a1,6,2,1,24056,,,0,"Remove the duplicate method call when retrieving the instance log

There are two identical ways to get an instance log
and it should delete the incorrect one.

[0] openstack_dashboard/static/js/horizon.firewalls.js#L24
[1] openstack_dashboard/static/js/horizon.instances.js#L28

Change-Id: I78641f4a5ddf51f905eed1679bb5552529c85e3e
Closes-Bug: #1693536
",git fetch https://review.opendev.org/openstack/horizon refs/changes/79/468079/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/js/horizon.firewalls.js'],1,34caf71d4a3548560debbba4599cd470317ec5a1,bug/1693536,," horizon.addInitFunction(horizon.firewalls.init = function () { $(document).on('submit', '#tail_length', function (evt) { horizon.lists.get_console_log(true, true); evt.preventDefault(); }); });",0,7
openstack%2Fkolla-kubernetes~master~Ib3af723a2c8b2cffb6eacec6293c5ea7860ba72f,openstack/kolla-kubernetes,master,Ib3af723a2c8b2cffb6eacec6293c5ea7860ba72f,Combine ironic-inspector deployments into one pod,MERGED,2017-05-23 14:49:11.000000000,2017-05-25 19:21:21.000000000,2017-05-25 19:21:21.000000000,"[{'_account_id': 3}, {'_account_id': 6637}, {'_account_id': 6638}, {'_account_id': 9237}, {'_account_id': 19384}, {'_account_id': 22165}]","[{'number': 1, 'created': '2017-05-23 14:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/c7cb55e497804799f1840a3a982408b9620ebc93', 'message': 'Switch ironic-dnsmasq to Deployment to ensure only one replica\n\nChange-Id: Ib3af723a2c8b2cffb6eacec6293c5ea7860ba72f\n'}, {'number': 2, 'created': '2017-05-23 14:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/3df20234d43cae6ca777e06b89fc5c357c4576ee', 'message': 'Switch ironic-dnsmasq to Deployment to ensure only one replica\n\nChange-Id: Ib3af723a2c8b2cffb6eacec6293c5ea7860ba72f\n'}, {'number': 3, 'created': '2017-05-24 09:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/2f6d98e37d5c133798f2ed7c5fd5c9b650ad68c2', 'message': 'Combine ironic-inspector deployments into one pod\n\nFor the ironic-inspector service to operate correctly it must run on the\nsame host as its TFTP and DNSmasq service. This is because the\nironic-inspector service needs to manage iptables for DNSmasq to prevent\nnode that are not in inspection from receiving DHCP responses from\nDNSmasq. To achieve this, we should combine the containers providing\nthose services into the same deployment as the ironic-inspector service\nto ensure they are always deployed together.\n\nChange-Id: Ib3af723a2c8b2cffb6eacec6293c5ea7860ba72f\n'}, {'number': 4, 'created': '2017-05-24 10:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/a9d6a7482a207a7eb066f4bd61e8dc2418b04164', 'message': 'Combine ironic-inspector deployments into one pod\n\nFor the ironic-inspector service to operate correctly it must run on the\nsame host as its TFTP and DNSmasq service. This is because the\nironic-inspector service needs to manage iptables for DNSmasq to prevent\nnode that are not in inspection from receiving DHCP responses from\nDNSmasq. To achieve this, we should combine the containers providing\nthose services into the same deployment as the ironic-inspector service\nto ensure they are always deployed together.\n\nChange-Id: Ib3af723a2c8b2cffb6eacec6293c5ea7860ba72f\n'}, {'number': 5, 'created': '2017-05-24 10:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/0c821534444ba0227a857ff5b528aa316a3becdf', 'message': 'Combine ironic-inspector deployments into one pod\n\nFor the ironic-inspector service to operate correctly it must run on the\nsame host as its TFTP and DNSmasq service. This is because the\nironic-inspector service needs to manage iptables for DNSmasq to prevent\nnode that are not in inspection from receiving DHCP responses from\nDNSmasq. To achieve this, we should combine the containers providing\nthose services into the same deployment as the ironic-inspector service\nto ensure they are always deployed together.\n\nChange-Id: Ib3af723a2c8b2cffb6eacec6293c5ea7860ba72f\n'}, {'number': 6, 'created': '2017-05-24 10:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/9cb68405e392e9bec0fc8437728247e9fa125013', 'message': 'Combine ironic-inspector deployments into one pod\n\nFor the ironic-inspector service to operate correctly it must run on the\nsame host as its TFTP and DNSmasq service. This is because the\nironic-inspector service needs to manage iptables for DNSmasq to prevent\nnode that are not in inspection from receiving DHCP responses from\nDNSmasq. To achieve this, we should combine the containers providing\nthose services into the same deployment as the ironic-inspector service\nto ensure they are always deployed together.\n\nChange-Id: Ib3af723a2c8b2cffb6eacec6293c5ea7860ba72f\n'}, {'number': 7, 'created': '2017-05-24 13:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/88a992d9fcbdfef866cc24502fb70da7fabe4817', 'message': 'Combine ironic-inspector deployments into one pod\n\nFor the ironic-inspector service to operate correctly it must run on the\nsame host as its TFTP and DNSmasq service. This is because the\nironic-inspector service needs to manage iptables for DNSmasq to prevent\nnode that are not in inspection from receiving DHCP responses from\nDNSmasq. To achieve this, we should combine the containers providing\nthose services into the same deployment as the ironic-inspector service\nto ensure they are always deployed together.\n\nChange-Id: Ib3af723a2c8b2cffb6eacec6293c5ea7860ba72f\n'}, {'number': 8, 'created': '2017-05-24 15:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/cd6738945c6b53a09b6a98f3e2c785647025077c', 'message': 'Combine ironic-inspector deployments into one pod\n\nFor the ironic-inspector service to operate correctly it must run on the\nsame host as its TFTP and DNSmasq service. This is because the\nironic-inspector service needs to manage iptables for DNSmasq to prevent\nnode that are not in inspection from receiving DHCP responses from\nDNSmasq. To achieve this, we should combine the containers providing\nthose services into the same deployment as the ironic-inspector service\nto ensure they are always deployed together.\n\nChange-Id: Ib3af723a2c8b2cffb6eacec6293c5ea7860ba72f\n'}, {'number': 9, 'created': '2017-05-24 15:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/b3f1ea2d2670b1a628f92f5690cb7d089c851512', 'message': 'Combine ironic-inspector deployments into one pod\n\nFor the ironic-inspector service to operate correctly it must run on the\nsame host as its TFTP and DNSmasq service. This is because the\nironic-inspector service needs to manage iptables for DNSmasq to prevent\nnode that are not in inspection from receiving DHCP responses from\nDNSmasq. To achieve this, we should combine the containers providing\nthose services into the same deployment as the ironic-inspector service\nto ensure they are always deployed together.\n\nChange-Id: Ib3af723a2c8b2cffb6eacec6293c5ea7860ba72f\n'}, {'number': 10, 'created': '2017-05-25 09:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/4160b7335ea1d8187e9caf37bdb60340fc633ce0', 'message': 'Combine ironic-inspector deployments into one pod\n\nFor the ironic-inspector service to operate correctly it must run on the\nsame host as its TFTP and DNSmasq service. This is because the\nironic-inspector service needs to manage iptables for DNSmasq to prevent\nnode that are not in inspection from receiving DHCP responses from\nDNSmasq. To achieve this, we should combine the containers providing\nthose services into the same deployment as the ironic-inspector service\nto ensure they are always deployed together.\n\nChange-Id: Ib3af723a2c8b2cffb6eacec6293c5ea7860ba72f\n'}, {'number': 11, 'created': '2017-05-25 13:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/278581137d61f06e90e693101ae1bc170de5f33d', 'message': 'Combine ironic-inspector deployments into one pod\n\nFor the ironic-inspector service to operate correctly it must run on the\nsame host as its TFTP and DNSmasq service. This is because the\nironic-inspector service needs to manage iptables for DNSmasq to prevent\nnode that are not in inspection from receiving DHCP responses from\nDNSmasq. To achieve this, we should combine the containers providing\nthose services into the same deployment as the ironic-inspector service\nto ensure they are always deployed together.\n\nChange-Id: Ib3af723a2c8b2cffb6eacec6293c5ea7860ba72f\n'}, {'number': 12, 'created': '2017-05-25 13:46:26.000000000', 'files': ['helm/microservice/ironic-dnsmasq-daemonset/templates/ironic-dnsmasq.yaml', 'helm/microservice/ironic-inspector-svc/templates/ironic-inspector-svc.yaml', 'helm/microservice/ironic-inspector-deployment/Chart.yaml', 'helm/microservice/ironic-dnsmasq-daemonset/Chart.yaml', 'helm/all_values.yaml', 'helm/microservice/ironic-inspector-deployment/templates/ironic-inspector.yaml', 'tests/bin/common_iscsi_config_v4.sh', 'tests/bin/common_workflow_config.sh', 'tests/bin/deploy_ironic.sh', 'ansible/roles/ironic/templates/ironic-inspector.json.j2', 'helm/microservice/ironic-dnsmasq-daemonset/requirements.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/9dc4087c8193874e449203d8af7842697a4294f2', 'message': 'Combine ironic-inspector deployments into one pod\n\nFor the ironic-inspector service to operate correctly it must run on the\nsame host as its TFTP and DNSmasq service. This is because the\nironic-inspector service needs to manage iptables for DNSmasq to prevent\nnode that are not in inspection from receiving DHCP responses from\nDNSmasq. To achieve this, we should combine the containers providing\nthose services into the same deployment as the ironic-inspector service\nto ensure they are always deployed together.\n\nChange-Id: Ib3af723a2c8b2cffb6eacec6293c5ea7860ba72f\n'}]",2,467272,9dc4087c8193874e449203d8af7842697a4294f2,39,6,12,6637,,,0,"Combine ironic-inspector deployments into one pod

For the ironic-inspector service to operate correctly it must run on the
same host as its TFTP and DNSmasq service. This is because the
ironic-inspector service needs to manage iptables for DNSmasq to prevent
node that are not in inspection from receiving DHCP responses from
DNSmasq. To achieve this, we should combine the containers providing
those services into the same deployment as the ironic-inspector service
to ensure they are always deployed together.

Change-Id: Ib3af723a2c8b2cffb6eacec6293c5ea7860ba72f
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/72/467272/2 && git format-patch -1 --stdout FETCH_HEAD,"['helm/microservice/ironic-dnsmasq-deployment/Chart.yaml', 'helm/microservice/ironic-dnsmasq-deployment/requirements.yaml', 'helm/all_values.yaml', 'tests/bin/deploy_ironic.sh', 'helm/microservice/ironic-dnsmasq-deployment/templates/ironic-dnsmasq.yaml']",5,c7cb55e497804799f1840a3a982408b9620ebc93,ironic-dnsmasq-deployment,"{{- $replicas := include ""kolla_val_get_str"" (dict ""key"" ""replicas"" ""searchPath"" .searchPath ""Values"" .Values ) }}kind: Deployment replicas: {{ $replicas }}",kind: DaemonSet,9,7
openstack%2Fmagnum~master~I700c0f0ab2a153c2345efa1afe7f4f40fafb705d,openstack/magnum,master,I700c0f0ab2a153c2345efa1afe7f4f40fafb705d,Updated from global requirements,MERGED,2017-05-23 11:51:32.000000000,2017-05-25 19:14:16.000000000,2017-05-25 19:14:16.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 13861}, {'_account_id': 20498}]","[{'number': 1, 'created': '2017-05-23 11:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e5b35776661c4e9ab26dd9faa7c9a73e2327bbc0', 'message': 'Updated from global requirements\n\nChange-Id: I700c0f0ab2a153c2345efa1afe7f4f40fafb705d\n'}, {'number': 2, 'created': '2017-05-24 03:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8587964a2dda958e82778d2f193cec7f0e87b4f2', 'message': 'Updated from global requirements\n\nChange-Id: I700c0f0ab2a153c2345efa1afe7f4f40fafb705d\n'}, {'number': 3, 'created': '2017-05-24 11:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a4e163f2fc5dee24202691e8660c5cd34a345d89', 'message': 'Updated from global requirements\n\nChange-Id: I700c0f0ab2a153c2345efa1afe7f4f40fafb705d\n'}, {'number': 4, 'created': '2017-05-24 23:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/825b7fbe8cdd704675b9ae6255d9456eaebc8fef', 'message': 'Updated from global requirements\n\nChange-Id: I700c0f0ab2a153c2345efa1afe7f4f40fafb705d\n'}, {'number': 5, 'created': '2017-05-25 12:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/93fd5541dc7f4ff95c22238557f78250b43ab268', 'message': 'Updated from global requirements\n\nChange-Id: I700c0f0ab2a153c2345efa1afe7f4f40fafb705d\n'}, {'number': 6, 'created': '2017-05-25 16:21:12.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/magnum/commit/372275090fa42d9826d151fafdd79ccf03b50912', 'message': 'Updated from global requirements\n\nChange-Id: I700c0f0ab2a153c2345efa1afe7f4f40fafb705d\n'}]",0,467157,372275090fa42d9826d151fafdd79ccf03b50912,39,4,6,11131,,,0,"Updated from global requirements

Change-Id: I700c0f0ab2a153c2345efa1afe7f4f40fafb705d
",git fetch https://review.opendev.org/openstack/magnum refs/changes/57/467157/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e5b35776661c4e9ab26dd9faa7c9a73e2327bbc0,openstack/requirements,"oslo.i18n!=3.15.2,>=2.1.0 # Apache-2.0",oslo.i18n>=2.1.0 # Apache-2.0,1,1
openstack%2Fproject-config~master~I5f2948fdbf693712b8de5cf2c36df257550182ce,openstack/project-config,master,I5f2948fdbf693712b8de5cf2c36df257550182ce,"Revert ""Temporary make stable compat ocata jobs non-voting""",MERGED,2017-05-25 10:38:18.000000000,2017-05-25 19:14:10.000000000,2017-05-25 19:14:10.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6547}]","[{'number': 1, 'created': '2017-05-25 10:38:18.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6d7c99676a845bb688ebe2fa5ca93bf50ab1a9e7', 'message': 'Revert ""Temporary make stable compat ocata jobs non-voting""\n\nThis reverts commit e10d442b6626d46a697ab13c09728e06d199c335.\nWe don\'t need oslo stable compat jobs anymore.\n\nChange-Id: I5f2948fdbf693712b8de5cf2c36df257550182ce\n'}]",0,467990,6d7c99676a845bb688ebe2fa5ca93bf50ab1a9e7,7,3,1,9796,,,0,"Revert ""Temporary make stable compat ocata jobs non-voting""

This reverts commit e10d442b6626d46a697ab13c09728e06d199c335.
We don't need oslo stable compat jobs anymore.

Change-Id: I5f2948fdbf693712b8de5cf2c36df257550182ce
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/467990/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,6d7c99676a845bb688ebe2fa5ca93bf50ab1a9e7,remove-stale-oslo-jobs,," # NOTE(gcb):Temporary make stable compat ocata jobs non-voting, need # remove following when https://bugs.launchpad.net/devstack/+bug/1667545 # is fixed. - name: ^gate-tempest-dsvm-neutron-src-.*-ocata$ branch: ^(?!stable/(mitaka|newton|ocata)).*$ voting: false ",0,7
openstack%2Fproject-config~master~I4f164e44af24e8f62aae585feb04418861099e0e,openstack/project-config,master,I4f164e44af24e8f62aae585feb04418861099e0e,remove stable compat jobs from oslo libs,MERGED,2017-05-24 20:42:47.000000000,2017-05-25 19:13:13.000000000,2017-05-25 19:13:13.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6159}, {'_account_id': 6547}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-05-24 20:42:47.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6ace8708144d97fc1ace51c90ed9aa8a3165ed97', 'message': ""remove stable compat jobs from oslo libs\n\nThese jobs are all non-voting and never pass. They test scenarios we\ndon't actually need to test, because we don't need the latest libraries\nto be able to be installed with older versions of services now that we\nhave stable branch releases.\n\nChange-Id: I4f164e44af24e8f62aae585feb04418861099e0e\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",1,467760,6ace8708144d97fc1ace51c90ed9aa8a3165ed97,11,5,1,2472,,,0,"remove stable compat jobs from oslo libs

These jobs are all non-voting and never pass. They test scenarios we
don't actually need to test, because we don't need the latest libraries
to be able to be installed with older versions of services now that we
have stable branch releases.

Change-Id: I4f164e44af24e8f62aae585feb04418861099e0e
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/60/467760/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,6ace8708144d97fc1ace51c90ed9aa8a3165ed97,remove-stale-oslo-jobs,, - name: stable-compat-jobs - name: stable-compat-jobs - name: stable-compat-jobs - name: stable-compat-jobs - name: stable-compat-jobs - name: stable-compat-jobs - name: stable-compat-jobs - name: stable-compat-jobs - name: stable-compat-jobs - name: stable-compat-jobs - name: stable-compat-jobs - name: stable-compat-jobs - name: stable-compat-jobs - name: stable-compat-jobs - name: stable-compat-jobs - name: stable-compat-jobs - name: stable-compat-jobs,0,33
openstack%2Fpython-tripleoclient~stable%2Fnewton~I68732c10e3f0dc4770b8639989cb24e264110d37,openstack/python-tripleoclient,stable/newton,I68732c10e3f0dc4770b8639989cb24e264110d37,Add Constraints support,MERGED,2017-01-17 21:42:09.000000000,2017-05-25 19:05:49.000000000,2017-05-25 19:05:49.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4978}, {'_account_id': 6928}, {'_account_id': 9317}, {'_account_id': 9712}, {'_account_id': 12898}, {'_account_id': 16515}]","[{'number': 1, 'created': '2017-01-17 21:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/32878376aa912c906167b669575262231777a8ce', 'message': ""Add Constraints support\n\nAdding constraints support to libraries is slightly more complex than\nservices as the libraries themselves are listed in upper-constraints.txt\nwhich leads to errors that you can't install a specific version and a\nconstrained version.\n\nThis change adds constraints support by also adding a helper script to\nedit the constraints to remove python-tripleoclient.\n\nChange-Id: I68732c10e3f0dc4770b8639989cb24e264110d37\n(cherry picked from commit 8056175842f22aa741e89da806ba8887653377a3)\n""}, {'number': 2, 'created': '2017-01-31 09:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/25c94e63eeaa8bf98208698db1a32147d8b50d1b', 'message': ""Add Constraints support\n\nAdding constraints support to libraries is slightly more complex than\nservices as the libraries themselves are listed in upper-constraints.txt\nwhich leads to errors that you can't install a specific version and a\nconstrained version.\n\nThis change adds constraints support by also adding a helper script to\nedit the constraints to remove python-tripleoclient.\n\nChange-Id: I68732c10e3f0dc4770b8639989cb24e264110d37\n(cherry picked from commit 8056175842f22aa741e89da806ba8887653377a3)\n""}, {'number': 3, 'created': '2017-02-07 04:17:11.000000000', 'files': ['tools/tox_install.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/77b2299daeb670293dea997be7788ef133c49c6c', 'message': ""Add Constraints support\n\nAdding constraints support to libraries is slightly more complex than\nservices as the libraries themselves are listed in upper-constraints.txt\nwhich leads to errors that you can't install a specific version and a\nconstrained version.\n\nThis change adds constraints support by also adding a helper script to\nedit the constraints to remove python-tripleoclient.\n\nChange-Id: I68732c10e3f0dc4770b8639989cb24e264110d37\n(cherry picked from commit 8056175842f22aa741e89da806ba8887653377a3)\n""}]",2,421541,77b2299daeb670293dea997be7788ef133c49c6c,48,8,3,6928,,,0,"Add Constraints support

Adding constraints support to libraries is slightly more complex than
services as the libraries themselves are listed in upper-constraints.txt
which leads to errors that you can't install a specific version and a
constrained version.

This change adds constraints support by also adding a helper script to
edit the constraints to remove python-tripleoclient.

Change-Id: I68732c10e3f0dc4770b8639989cb24e264110d37
(cherry picked from commit 8056175842f22aa741e89da806ba8887653377a3)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/41/421541/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/tox_install.sh', 'tox.ini']",2,32878376aa912c906167b669575262231777a8ce,newton-upper,minversion = 2.0install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} BRANCH_NAME=master CLIENT_NAME=python-tripleoclient,minversion = 1.6install_command = pip install -U {opts} {packages},34,2
