id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fneutron-lib~master~I13f19629a1514ef55a05e1760c74542d3a8ea0d3,openstack/neutron-lib,master,I13f19629a1514ef55a05e1760c74542d3a8ea0d3,Api-ref was not properly built,ABANDONED,2019-10-15 07:21:01.000000000,2019-10-15 07:57:04.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-15 07:21:01.000000000', 'files': ['api-ref/source/v2/index.rst'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/be69bddb950aa4dea47f4d92b6fae440495b8b35', 'message': 'Api-ref was not properly built\n\nThe sections after Load Balancer as a Service 2.0 was not build\nproperly. With an extra line break the doc shines again.\n\nChange-Id: I13f19629a1514ef55a05e1760c74542d3a8ea0d3\n'}]",0,688639,be69bddb950aa4dea47f4d92b6fae440495b8b35,4,2,1,8313,,,0,"Api-ref was not properly built

The sections after Load Balancer as a Service 2.0 was not build
properly. With an extra line break the doc shines again.

Change-Id: I13f19629a1514ef55a05e1760c74542d3a8ea0d3
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/39/688639/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/index.rst'],1,be69bddb950aa4dea47f4d92b6fae440495b8b35,fix_api_ref,,,1,0
openstack%2Fsushy~master~I2be039c6d5003a4d8da678efb123792a368cb154,openstack/sushy,master,I2be039c6d5003a4d8da678efb123792a368cb154,Fix typo in the section Enabling SSL,MERGED,2019-10-15 05:54:22.000000000,2019-10-15 07:41:02.000000000,2019-10-15 07:39:14.000000000,"[{'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-10-15 05:54:22.000000000', 'files': ['doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/sushy/commit/33879254e3fb04c531e811b2f4dd37b06e6c828a', 'message': ""Fix typo in the section Enabling SSL\n\nThe description of Enabling SSL section have 'to it' written twice. \nRemove one of them to increase the readability.\n\nChange-Id: I2be039c6d5003a4d8da678efb123792a368cb154\n""}]",0,688622,33879254e3fb04c531e811b2f4dd37b06e6c828a,9,3,1,31071,,,0,"Fix typo in the section Enabling SSL

The description of Enabling SSL section have 'to it' written twice. 
Remove one of them to increase the readability.

Change-Id: I2be039c6d5003a4d8da678efb123792a368cb154
",git fetch https://review.opendev.org/openstack/sushy refs/changes/22/688622/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/index.rst'],1,33879254e3fb04c531e811b2f4dd37b06e6c828a,fixtypo,"``--ssl-key`` parameters to it, for example::","``--ssl-key`` parameters to it to it, for example::",1,1
openstack%2Fopenstack-ansible-nspawn_hosts~stable%2Fstein~I25ba5446aa85d548b8a40c56a1cc7cf2826c61ea,openstack/openstack-ansible-nspawn_hosts,stable/stein,I25ba5446aa85d548b8a40c56a1cc7cf2826c61ea,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-15 04:14:59.000000000,2019-10-15 07:24:47.000000000,2019-10-15 07:22:18.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-15 04:14:59.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/ddb1b6e69b1660f24f345806cf27dbc86dd4afb3', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I25ba5446aa85d548b8a40c56a1cc7cf2826c61ea\n""}]",0,688612,ddb1b6e69b1660f24f345806cf27dbc86dd4afb3,7,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I25ba5446aa85d548b8a40c56a1cc7cf2826c61ea
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/12/688612/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,ddb1b6e69b1660f24f345806cf27dbc86dd4afb3,goodbye_42.3,, name: openstack-ansible-nspawn-container-create-opensuse-423 parent: openstack-ansible-nspawn-container-create nodeset: opensuse-423 - job:,0,6
openstack%2Fsolum-dashboard~master~I276a77a08de77b1ed073524960f65ae47aae53e9,openstack/solum-dashboard,master,I276a77a08de77b1ed073524960f65ae47aae53e9,Switch to official Ussuri jobs,MERGED,2019-10-14 07:02:03.000000000,2019-10-15 07:18:02.000000000,2019-10-15 07:18:01.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-14 07:02:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/solum-dashboard/commit/64c0958bae8e8fe79908065adcab1fcfb3416e6b', 'message': 'Switch to official Ussuri jobs\n\nChange-Id: I276a77a08de77b1ed073524960f65ae47aae53e9\n'}]",0,688334,64c0958bae8e8fe79908065adcab1fcfb3416e6b,7,3,1,29313,,,0,"Switch to official Ussuri jobs

Change-Id: I276a77a08de77b1ed073524960f65ae47aae53e9
",git fetch https://review.opendev.org/openstack/solum-dashboard refs/changes/34/688334/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,64c0958bae8e8fe79908065adcab1fcfb3416e6b,, - openstack-python3-ussuri-jobs-horizon - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs-horizon - openstack-python3-train-jobs,2,2
openstack%2Fopenstack-manuals~master~I4378087fa0bc70dbeb1e948815c2eb0dbdd2fe4c,openstack/openstack-manuals,master,I4378087fa0bc70dbeb1e948815c2eb0dbdd2fe4c,Migrate from install to deploy-guide,MERGED,2019-10-14 15:51:25.000000000,2019-10-15 07:02:27.000000000,2019-10-15 06:30:18.000000000,"[{'_account_id': 3153}, {'_account_id': 6547}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 15:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ecaea408c54668d0316d38916c2fcdbfad8f7dd7', 'message': 'Migrate references from install to deploy-guide\n\nThe deployment guide is currently pointed at triplo-docs but it has been\nrequested that we actually publish a deployment guide. Efforts to\nextracts many of the installation doc pages and moves them into the\ndeploy-guide source tree(/project-deploy-guide/tripleo-docs/latest/) is\nalready done. The deploy-guide was earlier published via\nhttps://review.opendev.org/#/c/677029/.\n\nThis commit will migrate references from install to deploy-guide.\n\nChange-Id: I4378087fa0bc70dbeb1e948815c2eb0dbdd2fe4c\n'}, {'number': 2, 'created': '2019-10-14 16:01:52.000000000', 'files': ['www/newton/deploy/index.html', 'www/stein/deploy/index.html', 'www/ocata/deploy/index.html', 'www/pike/deploy/index.html', 'www/train/deploy/index.html', 'www/rocky/deploy/index.html', 'www/queens/deploy/index.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f8f4d33d86a1ea1e616bebce4700b76963ef25bd', 'message': 'Migrate from install to deploy-guide\n\nThe deployment guide is currently pointed at triplo-docs but it has been\nrequested that we actually publish a deployment guide. Efforts to\nextracts many of the installation doc pages and moves them into the\ndeploy-guide source tree(/project-deploy-guide/tripleo-docs/latest/) is\nalready done. The deploy-guide was earlier published via\nhttps://review.opendev.org/#/c/677029/.\n\nThis commit will migrate references to correctly point to the new deploy-guide.\n\nChange-Id: I4378087fa0bc70dbeb1e948815c2eb0dbdd2fe4c\n'}]",0,688434,f8f4d33d86a1ea1e616bebce4700b76963ef25bd,10,6,2,29775,,,0,"Migrate from install to deploy-guide

The deployment guide is currently pointed at triplo-docs but it has been
requested that we actually publish a deployment guide. Efforts to
extracts many of the installation doc pages and moves them into the
deploy-guide source tree(/project-deploy-guide/tripleo-docs/latest/) is
already done. The deploy-guide was earlier published via
https://review.opendev.org/#/c/677029/.

This commit will migrate references to correctly point to the new deploy-guide.

Change-Id: I4378087fa0bc70dbeb1e948815c2eb0dbdd2fe4c
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/34/688434/2 && git format-patch -1 --stdout FETCH_HEAD,"['www/newton/deploy/index.html', 'www/stein/deploy/index.html', 'www/ocata/deploy/index.html', 'www/pike/deploy/index.html', 'www/rocky/deploy/index.html', 'www/train/deploy/index.html', 'www/queens/deploy/index.html']",7,ecaea408c54668d0316d38916c2fcdbfad8f7dd7,Migrate_install_to_deploy-guide," <p><a href=""/project-deploy-guide/tripleo-docs/latest/"">"," <p><a href=""/tripleo-docs/latest/install/"">",7,7
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fqueens~I9a7d5fc04c92793e89d481d5eed99ed028089ac0,openstack/openstack-ansible-lxc_container_create,stable/queens,I9a7d5fc04c92793e89d481d5eed99ed028089ac0,Remove openSUSE Leap 42.3 jobs,MERGED,2019-10-15 05:46:44.000000000,2019-10-15 06:57:17.000000000,2019-10-15 06:57:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-15 05:46:44.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/a96f923d8c57237128003ed1ecf3c6c2551f0f9e', 'message': ""Remove openSUSE Leap 42.3 jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs\nso that we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I9a7d5fc04c92793e89d481d5eed99ed028089ac0\n""}]",0,688621,a96f923d8c57237128003ed1ecf3c6c2551f0f9e,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3 jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs
so that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I9a7d5fc04c92793e89d481d5eed99ed028089ac0
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/21/688621/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,a96f923d8c57237128003ed1ecf3c6c2551f0f9e,goodbye_42.3,, name: openstack-ansible-dir-opensuse-423 parent: openstack-ansible-functional nodeset: opensuse-423 vars: tox_env: dir - job:,0,9
openstack%2Fpuppet-tripleo~master~I30f03bc8eb81db0243c137d4af08924adeebc951,openstack/puppet-tripleo,master,I30f03bc8eb81db0243c137d4af08924adeebc951,Deep merge hiera keys for mysqld_options,MERGED,2019-10-14 17:23:37.000000000,2019-10-15 06:55:35.000000000,2019-10-15 05:36:47.000000000,"[{'_account_id': 3153}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-10-14 17:23:37.000000000', 'files': ['manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7e78ebdc0f3678afddea3bdab2007c7b6ac92776', 'message': ""Deep merge hiera keys for mysqld_options\n\nCurrently when adding some tuning options via hiera, galera won't start because\noverriding even a single mysql option will reset the whole key in the hash. So\nfor example, when adding:\n    tripleo::profile::base::database::mysql::mysql_server_options:\n      mysqld:\n        # MySQL InnoDB equally divided in 1GB instances\n        innodb_buffer_pool_instances: 2\n        # Query network write timeout raised to 120 seconds\n        net_write_timeout: 120\n        # Query network read timeout raised to 120 seconds\n        net_read_timeout: 120\n        # MySQL connection timeout set to 8 hours\n        connect_timeout: 28800\n\nThings will break because all the wsrep options that are set normally will be\noverridden and galera will refuse to start\n\nTested by passing the above hiera keys and observing the deploy complete\nsuccessfully and the settings correctly applied to galera/mysql on the overcloud.\n\nChange-Id: I30f03bc8eb81db0243c137d4af08924adeebc951\nCloses-Bug: #1848060\n""}]",0,688514,7e78ebdc0f3678afddea3bdab2007c7b6ac92776,12,5,1,20172,,,0,"Deep merge hiera keys for mysqld_options

Currently when adding some tuning options via hiera, galera won't start because
overriding even a single mysql option will reset the whole key in the hash. So
for example, when adding:
    tripleo::profile::base::database::mysql::mysql_server_options:
      mysqld:
        # MySQL InnoDB equally divided in 1GB instances
        innodb_buffer_pool_instances: 2
        # Query network write timeout raised to 120 seconds
        net_write_timeout: 120
        # Query network read timeout raised to 120 seconds
        net_read_timeout: 120
        # MySQL connection timeout set to 8 hours
        connect_timeout: 28800

Things will break because all the wsrep options that are set normally will be
overridden and galera will refuse to start

Tested by passing the above hiera keys and observing the deploy complete
successfully and the settings correctly applied to galera/mysql on the overcloud.

Change-Id: I30f03bc8eb81db0243c137d4af08924adeebc951
Closes-Bug: #1848060
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/14/688514/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/database/mysql_bundle.pp'],1,7e78ebdc0f3678afddea3bdab2007c7b6ac92776,fix," $mysqld_options = deep_merge($mysqld_options_mysqld, $mysqld_options_sst, $mysql_server_options)"," $mysqld_options = merge($mysqld_options_mysqld, $mysqld_options_sst, $mysql_server_options)",1,1
openstack%2Fgovernance~master~I58aa4795008373905e3191ab72b9d713e45339cd,openstack/governance,master,I58aa4795008373905e3191ab72b9d713e45339cd,Remove references to Python 2.7 in the PTI,MERGED,2019-10-04 12:17:18.000000000,2019-10-15 06:38:05.000000000,2019-10-15 06:36:53.000000000,"[{'_account_id': 308}, {'_account_id': 1736}, {'_account_id': 4257}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 8655}, {'_account_id': 10607}, {'_account_id': 12404}, {'_account_id': 13995}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 12:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/330d4236991a468c8de6e0bbac2715b59f4f7557', 'message': 'Remove references to Python 2.7 in the PTI\n\nIn Ussuri we no longer require projects to test for python 2.7, so\nremove it from the list of requirements in the PTI.\n\nChange-Id: I58aa4795008373905e3191ab72b9d713e45339cd\n'}, {'number': 2, 'created': '2019-10-04 14:55:54.000000000', 'files': ['reference/pti/python.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/af6c8065da8abac045f110c1a016f404f3d7c579', 'message': 'Remove references to Python 2.7 in the PTI\n\nIn Ussuri we no longer require projects to test for python 2.7, so\nremove it from the list of requirements in the PTI.\n\nChange-Id: I58aa4795008373905e3191ab72b9d713e45339cd\n'}]",2,686582,af6c8065da8abac045f110c1a016f404f3d7c579,25,12,2,13995,,,0,"Remove references to Python 2.7 in the PTI

In Ussuri we no longer require projects to test for python 2.7, so
remove it from the list of requirements in the PTI.

Change-Id: I58aa4795008373905e3191ab72b9d713e45339cd
",git fetch https://review.opendev.org/openstack/governance refs/changes/82/686582/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/pti/python.rst'],1,330d4236991a468c8de6e0bbac2715b59f4f7557,formal-vote,,- Unit tests for python2.7- ``tox -e py27``,0,2
openstack%2Fvitrage~master~Icd99bf6abf51b99290578f236e27f5aaceeeae60,openstack/vitrage,master,Icd99bf6abf51b99290578f236e27f5aaceeeae60,Add database migrations release note,MERGED,2019-09-23 12:12:34.000000000,2019-10-15 06:22:47.000000000,2019-09-23 16:28:38.000000000,"[{'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-23 12:12:34.000000000', 'files': ['releasenotes/notes/database-migrations-ffca2f9f3283f2a2.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/cc46fdb49773e26e96d4833926c7ddc2e58dd410', 'message': 'Add database migrations release note\n\nChange-Id: Icd99bf6abf51b99290578f236e27f5aaceeeae60\n'}]",0,683940,cc46fdb49773e26e96d4833926c7ddc2e58dd410,9,3,1,1736,,,0,"Add database migrations release note

Change-Id: Icd99bf6abf51b99290578f236e27f5aaceeeae60
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/40/683940/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/database-migrations-ffca2f9f3283f2a2.yaml'],1,cc46fdb49773e26e96d4833926c7ddc2e58dd410,db-migrations-release-notes,--- features: - | Starting with Train release Vitrage supports database migrations. It means that starting U release you will be able to upgrade Vitrage from the previous release. ,,6,0
openstack%2Fvitrage~master~I50eae6ae50a924ce5b325fc6637404902c035f7f,openstack/vitrage,master,I50eae6ae50a924ce5b325fc6637404902c035f7f,Add ability to upgrade db,MERGED,2018-06-13 15:39:00.000000000,2019-10-15 06:22:03.000000000,2019-09-11 07:40:21.000000000,"[{'_account_id': 1736}, {'_account_id': 9542}, {'_account_id': 12356}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}, {'_account_id': 28032}]","[{'number': 1, 'created': '2018-06-13 15:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/b2c559583b985adb1726b62f9fd5cdf01bfec3c5', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for alembic upgrades. Now Vitrage db can\nbe upgraded from queens(stable) to rocky. Add cli options to manage\ndb. Also changed impl_sqlalchemy driver behaviour from upgrade to\ncreate\n\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\n'}, {'number': 2, 'created': '2018-06-13 15:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/35e6624ae4fdf3c952411fce8d5e2895379cb257', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for alembic upgrades. Now Vitrage db can\nbe upgraded from queens(stable) to rocky. Add cli options to manage\ndb. Also changed impl_sqlalchemy driver behaviour from upgrade to\ncreate\n\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nBlueprint: db-upgrade\n'}, {'number': 3, 'created': '2018-06-14 11:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/87d56f9b39063caefc08acb03a5f6c43279adc9d', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for alembic upgrades. Now Vitrage db can\nbe synced.\n\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nBlueprint: db-upgrade\n'}, {'number': 4, 'created': '2018-06-14 12:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a9a0c33ddf9786882a1d266e8d65503b53ca0a4a', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for alembic upgrades. Now Vitrage db can\nbe synced.\n\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nBlueprint: db-upgrade\n'}, {'number': 5, 'created': '2018-06-15 10:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/2431ae32caf7d335cdff2df2d40f6a70e857bda8', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for alembic upgrades. Now Vitrage db can\nbe synced.\n\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nBlueprint: db-upgrade\n'}, {'number': 6, 'created': '2018-06-15 10:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/9379626f335ab8897301b70f9aff0bd7f58dfb35', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for alembic upgrades. Now Vitrage db can\nbe synced.\n\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nBlueprint: db-upgrade\n'}, {'number': 7, 'created': '2018-06-15 12:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/3770ff1578aeeb5c4f38e2c72c3fbbedec8f09a7', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for alembic upgrades. Now Vitrage db can\nbe synced.\n\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nBlueprint: db-upgrade\n'}, {'number': 8, 'created': '2018-06-15 13:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/92648caf0af9b8df18602a222773b18422f0a211', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for database migrations via alembic.\n\nFirst revision corresponds to stable/queens.\n\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nBlueprint: db-upgrade\n'}, {'number': 9, 'created': '2018-06-15 13:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a4cd48c30878ac5cd71b30891d6dc9b0d35f9e22', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for database migrations via alembic.\n\nFirst revision corresponds to stable/queens.\n\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nBlueprint: db-upgrade\n'}, {'number': 10, 'created': '2018-06-15 14:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a3cbbb5a15107a02b6c5bf49d9fb3965cd52b727', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for database migrations via alembic.\n\nFirst revision corresponds to stable/queens.\n\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nBlueprint: db-upgrade\n'}, {'number': 11, 'created': '2018-06-18 08:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/3cd01645098e247b071f7d27727289b959255d1e', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for database migrations via alembic.\n\nFirst revision corresponds to stable/queens.\n\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nBlueprint: db-upgrade\n'}, {'number': 12, 'created': '2018-06-18 09:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/5084e17691886b34c41931b134772870ff1fc9cd', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for database migrations via alembic.\n\nFirst revision corresponds to stable/queens.\n\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nBlueprint: db-upgrade\n'}, {'number': 13, 'created': '2018-06-18 09:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/ed92d25bd1bc1c0c67ba630e3f9cf68875929fe5', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for database migrations via alembic.\n\nFirst revision corresponds to stable/queens.\n\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nBlueprint: db-upgrade\n'}, {'number': 14, 'created': '2018-06-19 09:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/4bd965d5aaa0a209b30a6538fe0145836998b963', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for database migrations via alembic.\n\nFirst revision corresponds to stable/queens.\n\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nBlueprint: db-upgrade\n'}, {'number': 15, 'created': '2018-06-19 10:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/70b06399f19d557da644fd6d37bfebf22c7041f5', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for database migrations via alembic.\n\nFirst revision corresponds to stable/queens.\n\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nBlueprint: db-upgrade\n'}, {'number': 16, 'created': '2018-06-19 14:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/666b601903c41ea6e95c437ae5401e02ff9ed58e', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for database migrations via alembic.\n\nFirst revision corresponds to stable/queens.\n\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nBlueprint: db-upgrade\n'}, {'number': 17, 'created': '2018-06-20 06:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/0139329c2ff9d442baa52a69e936c92f7e294a7d', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for database migrations via alembic.\n\nFirst revision corresponds to stable/queens.\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nImplements: blueprint db-upgrade\n'}, {'number': 18, 'created': '2019-06-07 08:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/e409654733fe1cf8dec9099f35244bb574d791a5', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for database migrations via alembic.\n\nFirst revision corresponds to stable/queens.\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nImplements: blueprint db-upgrade\n'}, {'number': 19, 'created': '2019-06-10 14:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/acc26a2cb762e6d49e3206fbf9626bc3d3ca2e7e', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for database migrations via alembic.\n\nFirst revision corresponds to stable/queens.\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nImplements: blueprint db-upgrade\n'}, {'number': 20, 'created': '2019-07-23 12:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a035aa66e15247cdad41e8df24d821ace062bf7a', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for database migrations via alembic.\n\nFirst revision corresponds to stable/queens.\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nImplements: blueprint db-upgrade\n'}, {'number': 21, 'created': '2019-09-04 13:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/826b7f57502e9420dcc1f244ef1259c83cdb3cef', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for database migrations via alembic.\n\nFirst revision corresponds to Train release.\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nImplements: blueprint db-upgrade\n'}, {'number': 22, 'created': '2019-09-05 10:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a28d071b046d168c44ece8c4808b5390c04c3b71', 'message': '[WIP] Add ability to upgrade db\n\nThis commit adds support for database migrations via alembic.\n\nFirst revision corresponds to Train release.\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nImplements: blueprint db-upgrade\n'}, {'number': 23, 'created': '2019-09-05 12:41:27.000000000', 'files': ['vitrage/storage/sqlalchemy/migration/__init__.py', 'vitrage/storage/base.py', 'vitrage/storage/sqlalchemy/migration/alembic_migrations/versions/4e44c9414dff_initial_migration.py', 'vitrage/storage/sqlalchemy/migration/alembic.ini', 'vitrage/storage/sqlalchemy/migration/alembic_migrations/env.py', 'vitrage/storage/sqlalchemy/models.py', 'vitrage/storage/sqlalchemy/migration/alembic_migrations/README', 'vitrage/tests/unit/storage/test_migrations.py', 'vitrage/storage/sqlalchemy/migration/alembic_migrations/versions/__init__.py', 'vitrage/storage/impl_sqlalchemy.py', 'requirements.txt', 'vitrage/tests/unit/storage/__init__.py', 'vitrage/storage/sqlalchemy/migration/alembic_migrations/script.py.mako', 'vitrage/cli/storage.py', 'setup.cfg', 'vitrage/storage/sqlalchemy/migration/alembic_migrations/__init__.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/abb6164722902f6bbe0dc6b534aaf66dbd7ae8d9', 'message': 'Add ability to upgrade db\n\nThis commit adds support for database migrations via alembic.\n\nFirst revision corresponds to Train release.\n\nCo-Authored-By: Oleksiy Petrenko <opetrenko@mirantis.com>\nChange-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f\nImplements: blueprint db-upgrade\n'}]",6,575150,abb6164722902f6bbe0dc6b534aaf66dbd7ae8d9,57,7,23,28032,,,0,"Add ability to upgrade db

This commit adds support for database migrations via alembic.

First revision corresponds to Train release.

Co-Authored-By: Oleksiy Petrenko <opetrenko@mirantis.com>
Change-Id: I50eae6ae50a924ce5b325fc6637404902c035f7f
Implements: blueprint db-upgrade
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/50/575150/20 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/storage/sqlalchemy/migration/__init__.py', 'vitrage/storage/base.py', 'vitrage/storage/sqlalchemy/migration/alembic_migrations/versions/40eebef5380c_rocky.py', 'vitrage/storage/sqlalchemy/migration/alembic.ini', 'vitrage/storage/sqlalchemy/migration/alembic_migrations/env.py', 'vitrage/storage/sqlalchemy/migration/alembic_migrations/README', 'vitrage/storage/impl_sqlalchemy.py', 'vitrage/storage/sqlalchemy/migration/alembic_migrations/script.py.mako', 'vitrage/cli/storage.py', 'vitrage/storage/sqlalchemy/migration/alembic_migrations/versions/53e8db25b0b9_queens.py', 'vitrage/storage/sqlalchemy/migration/alembic_migrations/__init__.py', 'vitrage/storage/sqlalchemy/migration/cli.py']",12,b2c559583b985adb1726b62f9fd5cdf01bfec3c5,bp/db-upgrade,"# Copyright 2018 - Mirantis, Inc. # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Starter script for vitrage-db-manage."""""" import os from alembic import command as alembic_cmd from alembic import config as alembic_cfg from alembic import util as alembic_u from oslo_config import cfg from oslo_log import log as logging from oslo_utils import importutils import six import sys from vitrage import service from vitrage.cli import storage as st CONF = cfg.CONF LOG = logging.getLogger(__name__) conf = service.prepare_service() def do_alembic_command(config, cmd, *args, **kwargs): try: getattr(alembic_cmd, cmd)(config, *args, **kwargs) except alembic_u.CommandError as e: alembic_u.err(six.text_type(e)) def do_check_migration(config, _cmd): do_alembic_command(config, 'branches') def do_upgrade(config, cmd): if not CONF.command.revision and not CONF.command.delta: raise SystemExit('You must provide a revision or relative delta') revision = CONF.command.revision if CONF.command.delta: sign = '+' if CONF.command.name == 'upgrade' else '-' revision = sign + str(CONF.command.delta) do_alembic_command(config, cmd, revision, sql=CONF.command.sql) def do_stamp(config, cmd): do_alembic_command( config, cmd, CONF.command.revision, sql=CONF.command.sql ) def do_populate(config, cmd): LOG.info(""Populating db"") st.dbsync() do_upgrade(config, 'upgrade') def do_revision(config, cmd): do_alembic_command( config, cmd, message=CONF.command.message, autogenerate=CONF.command.autogenerate, sql=CONF.command.sql ) def add_command_parsers(subparsers): for name in ['current', 'history', 'branches']: parser = subparsers.add_parser(name) parser.set_defaults(func=do_alembic_command) parser = subparsers.add_parser('upgrade') parser.add_argument('--delta', type=int) parser.add_argument('--sql', action='store_true') parser.add_argument('revision', nargs='?') parser.set_defaults(func=do_upgrade) parser = subparsers.add_parser('populate') parser.set_defaults(func=do_populate) parser = subparsers.add_parser('stamp') parser.add_argument('--sql', action='store_true') parser.add_argument('revision', nargs='?') parser.set_defaults(func=do_stamp) parser = subparsers.add_parser('revision') parser.add_argument('-m', '--message') parser.add_argument('--autogenerate', action='store_true') parser.add_argument('--sql', action='store_true') parser.set_defaults(func=do_revision) command_opt = cfg.SubCommandOpt('command', title='Command', help='Available commands', handler=add_command_parsers) CONF.register_cli_opt(command_opt) def main(): config = alembic_cfg.Config( os.path.join(os.path.dirname(__file__), 'alembic.ini') ) config.set_main_option( 'script_location', 'vitrage.storage.sqlalchemy.migration:alembic_migrations' ) # attach the Mistral conf to the Alembic conf config.mistral_config = CONF logging.register_options(CONF) CONF(project='vitrage') logging.setup(CONF, 'Vitrage') CONF.command.func(config, CONF.command.name) if __name__ == '__main__': sys.exit(main())",,427,5
openstack%2Fvitrage~master~Idc2c6ecd713cdea3986009bdc50e85a9c88d57b9,openstack/vitrage,master,Idc2c6ecd713cdea3986009bdc50e85a9c88d57b9,Run vertices cleanup at the end of get_all,MERGED,2019-08-05 11:07:36.000000000,2019-10-15 06:17:51.000000000,2019-08-20 09:08:36.000000000,"[{'_account_id': 1736}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 19184}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-08-05 11:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/d5bf0bd4fbb06b5f7ed2906c67c27f2783ddc236', 'message': 'WIP: run vertices cleanup at the end of get_all\n\nChange-Id: Idc2c6ecd713cdea3986009bdc50e85a9c88d57b9\n'}, {'number': 2, 'created': '2019-08-05 11:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/c9fca8755f80586f8b0864bec35371def5f10d47', 'message': 'WIP: run vertices cleanup at the end of get_all\n\nChange-Id: Idc2c6ecd713cdea3986009bdc50e85a9c88d57b9\n'}, {'number': 3, 'created': '2019-08-05 11:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/48b09385afad2418a5b48cb4e579eb69c156bff9', 'message': 'WIP: run vertices cleanup at the end of get_all\n\nChange-Id: Idc2c6ecd713cdea3986009bdc50e85a9c88d57b9\n'}, {'number': 4, 'created': '2019-08-05 12:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/d138bbc9e4c5346357485a4a906303867ccf7603', 'message': 'WIP: run vertices cleanup at the end of get_all\n\nChange-Id: Idc2c6ecd713cdea3986009bdc50e85a9c88d57b9\n'}, {'number': 5, 'created': '2019-08-05 13:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/257baf0e91ddbe695f021c5dfcd1093bcc626f01', 'message': 'WIP: run vertices cleanup at the end of get_all\n\nChange-Id: Idc2c6ecd713cdea3986009bdc50e85a9c88d57b9\n'}, {'number': 6, 'created': '2019-08-05 13:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/31ace9c50671577e7c7c6e553de2053ba3a9b6a8', 'message': 'WIP: run vertices cleanup at the end of get_all\n\nChange-Id: Idc2c6ecd713cdea3986009bdc50e85a9c88d57b9\n'}, {'number': 7, 'created': '2019-08-06 08:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/eda1c7db1b664bda0f8ab67459d1a4c47c1168e7', 'message': 'WIP: run vertices cleanup at the end of get_all\n\nChange-Id: Idc2c6ecd713cdea3986009bdc50e85a9c88d57b9\n'}, {'number': 8, 'created': '2019-08-07 04:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/109bb1ffb69399114167ab6f665a43a008597b81', 'message': 'WIP: run vertices cleanup at the end of get_all\n\nChange-Id: Idc2c6ecd713cdea3986009bdc50e85a9c88d57b9\n'}, {'number': 9, 'created': '2019-08-07 09:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/c9fb7cb459349f8350cffef53480dd52613f3109', 'message': 'WIP: run vertices cleanup at the end of get_all\n\nChange-Id: Idc2c6ecd713cdea3986009bdc50e85a9c88d57b9\n'}, {'number': 10, 'created': '2019-08-11 07:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/3088404e1551543251799bc7f1820858eedc9e19', 'message': 'Run vertices cleanup at the end of get_all\n\nChange-Id: Idc2c6ecd713cdea3986009bdc50e85a9c88d57b9\n'}, {'number': 11, 'created': '2019-08-11 07:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/d20c82f5515d9479f0015ac7ebd5330f02bc9302', 'message': 'Run vertices cleanup at the end of get_all\n\nChange-Id: Idc2c6ecd713cdea3986009bdc50e85a9c88d57b9\n'}, {'number': 12, 'created': '2019-08-11 09:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/3178c6b2232bc4c3e24e7c12361b64a1b21cc7a7', 'message': 'Run vertices cleanup at the end of get_all\n\nChange-Id: Idc2c6ecd713cdea3986009bdc50e85a9c88d57b9\n'}, {'number': 13, 'created': '2019-08-11 14:23:09.000000000', 'files': ['vitrage/entity_graph/graph_init.py', 'vitrage/entity_graph/driver_exec.py', 'vitrage/datasources/driver_base.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/6f271598f8eeac631bbf151ee9e7a34484ad88ad', 'message': 'Run vertices cleanup at the end of get_all\n\nChange-Id: Idc2c6ecd713cdea3986009bdc50e85a9c88d57b9\n'}]",18,674575,6f271598f8eeac631bbf151ee9e7a34484ad88ad,56,7,13,19134,,,0,"Run vertices cleanup at the end of get_all

Change-Id: Idc2c6ecd713cdea3986009bdc50e85a9c88d57b9
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/75/674575/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/entity_graph/graph_init.py', 'vitrage/entity_graph/driver_exec.py']",2,d5bf0bd4fbb06b5f7ed2906c67c27f2783ddc236,eyalb/consistency,"from functools import partialfrom oslo_utils.timeutils import utcnowfrom vitrage.common.constants import DatasourceProperties as DSProps from vitrage.common.constants import GraphAction from vitrage.common.constants import VertexProperties as VProps from vitrage.evaluator.actions.evaluator_event_transformer \ import VITRAGE_DATASOURCE from vitrage.datasources.consistency import CONSISTENCY_DATASOURCE from vitrage.datasources import OPENSTACK_CLUSTER def __init__(self, process_output_func, persist, graph): self.graph = graph now = utcnow() vertices_to_delete = \ self._find_vertices_to_delete(driver_name, now) delete_events = self._to_events(vertices_to_delete) all_events = delete_events + events count = self.process_output_func(all_events) @staticmethod def _to_events(vertices): return [ { DSProps.ENTITY_TYPE: CONSISTENCY_DATASOURCE, DSProps.DATASOURCE_ACTION: DatasourceAction.UPDATE, DSProps.SAMPLE_DATE: str(utcnow()), DSProps.EVENT_TYPE: GraphAction.REMOVE_DELETED_ENTITY, VProps.VITRAGE_ID: vertex[VProps.VITRAGE_ID], VProps.ID: vertex.get(VProps.ID, None), VProps.VITRAGE_TYPE: vertex[VProps.VITRAGE_TYPE], VProps.VITRAGE_CATEGORY: vertex[VProps.VITRAGE_CATEGORY], VProps.IS_REAL_VITRAGE_ID: True } for vertex in vertices ] def _find_vertices_to_delete(self, driver_name, now): query = { 'and': [ {'!=': {VProps.VITRAGE_TYPE: VITRAGE_DATASOURCE}}, {'<': {VProps.VITRAGE_SAMPLE_TIMESTAMP: now}}, {'==': {VProps.VITRAGE_IS_DELETED: False}}, ] } vertices = self.graph.get_vertices(query_dict=query) return filter(partial(self._should_delete_vertex, driver_name), vertices) @staticmethod def _should_delete_vertex(driver_name, vertex): """"""Decide which vertices should be deleted by the consistency - delete all placeholder vertices, except from the openstack.cluster - delete vertices that their datasource is in the list """""" return (vertex.get(VProps.VITRAGE_IS_PLACEHOLDER) and not vertex[VProps.VITRAGE_TYPE] == OPENSTACK_CLUSTER) or \ (vertex.get(VProps.VITRAGE_DATASOURCE_NAME) == driver_name) "," def __init__(self, process_output_func, persist): count = self.process_output_func(events)",60,3
openstack%2Fopenstack-ansible-galera_client~stable%2Fstein~I7c9ef23467a0b4f9243e3c9834150d6ac6dec517,openstack/openstack-ansible-galera_client,stable/stein,I7c9ef23467a0b4f9243e3c9834150d6ac6dec517,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-15 04:13:34.000000000,2019-10-15 06:02:46.000000000,2019-10-15 06:00:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-15 04:13:34.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/f1698616bbfd90a3a7f16fd93cfa85c0d999c68d', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I7c9ef23467a0b4f9243e3c9834150d6ac6dec517\n""}]",0,688611,f1698616bbfd90a3a7f16fd93cfa85c0d999c68d,7,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I7c9ef23467a0b4f9243e3c9834150d6ac6dec517
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/11/688611/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,f1698616bbfd90a3a7f16fd93cfa85c0d999c68d,goodbye_42.3,, name: openstack-ansible-ssl-galera_server-opensuse-423 parent: openstack-ansible-galera_server nodeset: opensuse-423 voting: false vars: tox_env: ssl - job: - job: name: openstack-ansible-functional-galera_server-opensuse-423 parent: openstack-ansible-galera_server nodeset: opensuse-423 voting: false vars: tox_env: functional,0,18
openstack%2Fglance_store~master~I4d240ba1ac162299e92f44caac7dff761798c26a,openstack/glance_store,master,I4d240ba1ac162299e92f44caac7dff761798c26a,Generate PDF documentation,ABANDONED,2019-10-03 09:08:39.000000000,2019-10-15 05:47:42.000000000,,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 26490}]","[{'number': 1, 'created': '2019-10-03 09:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/99e676706b7981631fa5d6421b96bde9af38db16', 'message': 'Generate PDF documentation\n\nChange-Id: I4d240ba1ac162299e92f44caac7dff761798c26a\n'}, {'number': 2, 'created': '2019-10-14 00:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/eaf0e4c398917be6b50d7faf0292409fb419a1ac', 'message': 'Generate PDF documentation\n\nChange-Id: I4d240ba1ac162299e92f44caac7dff761798c26a\n'}, {'number': 3, 'created': '2019-10-14 01:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/286df11a8385a815a37b89ebea744bc7de1ae1b9', 'message': 'Generate PDF documentation\n\nChange-Id: I4d240ba1ac162299e92f44caac7dff761798c26a\n'}, {'number': 4, 'created': '2019-10-14 01:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/43263e37780da32ad36d0a3ae57a9949de62d7af', 'message': 'Generate PDF documentation\n\nChange-Id: I4d240ba1ac162299e92f44caac7dff761798c26a\n'}, {'number': 5, 'created': '2019-10-14 06:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/26879f6f748a670f2228328d5361476ee2ebf105', 'message': 'Generate PDF documentation\n\nChange-Id: I4d240ba1ac162299e92f44caac7dff761798c26a\n'}, {'number': 6, 'created': '2019-10-14 06:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/318afe4614e32ade87ca6f658ea8d2f6cb179318', 'message': 'Generate PDF documentation\n\nChange-Id: I4d240ba1ac162299e92f44caac7dff761798c26a\n'}, {'number': 7, 'created': '2019-10-14 12:07:43.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/5be6b57027d32f966c2b5b540baa94d3bd12973f', 'message': 'Generate PDF documentation\n\nChange-Id: I4d240ba1ac162299e92f44caac7dff761798c26a\n'}]",1,686358,5be6b57027d32f966c2b5b540baa94d3bd12973f,14,5,7,30395,,,0,"Generate PDF documentation

Change-Id: I4d240ba1ac162299e92f44caac7dff761798c26a
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/58/686358/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'tox.ini']",2,99e676706b7981631fa5d6421b96bde9af38db16,build-pdf-docs,[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make rm commands = rm -rf doc/build/pdf sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,34,2
openstack%2Fopenstack-helm-infra~master~If8cf5b9e1347997bb5b2fe13155d377736f288da,openstack/openstack-helm-infra,master,If8cf5b9e1347997bb5b2fe13155d377736f288da,[ceph-client] Remove explicit call to Python2,MERGED,2019-10-07 17:29:58.000000000,2019-10-15 05:33:49.000000000,2019-10-15 05:32:44.000000000,"[{'_account_id': 8863}, {'_account_id': 17499}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 26297}, {'_account_id': 28372}, {'_account_id': 28543}, {'_account_id': 28618}, {'_account_id': 28849}, {'_account_id': 28935}, {'_account_id': 29974}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-07 17:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/54c5f661896010cc86c4fef1748e0bf8be9b93f4', 'message': '[ceph-client] Remove explicit call to Python2\n\nThe PS removes the explicit call to Python2 from _checkPGs.py file.\n\nChange-Id: If8cf5b9e1347997bb5b2fe13155d377736f288da\n'}, {'number': 2, 'created': '2019-10-09 20:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/14a7520fde21762948e4aecbac35809483cb6c6a', 'message': '[ceph-client] Remove explicit call to Python2\n\nThe PS removes the explicit call to Python2 from _checkPGs.py file.\n\nChange-Id: If8cf5b9e1347997bb5b2fe13155d377736f288da\n'}, {'number': 3, 'created': '2019-10-14 15:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6ca0631e19fdfb394932a835b793e50c544528fc', 'message': '[ceph-client] Remove explicit call to Python2\n\nThe PS removes the explicit call to Python2 from _checkPGs.py file.\n\nChange-Id: If8cf5b9e1347997bb5b2fe13155d377736f288da\n'}, {'number': 4, 'created': '2019-10-14 23:42:27.000000000', 'files': ['ceph-client/templates/bin/utils/_checkPGs.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8acb9e0f39fbad8dfef1eaefea1224f0e58ae252', 'message': '[ceph-client] Remove explicit call to Python2\n\nThe PS removes the explicit call to Python2 from _checkPGs.py file.\n\nChange-Id: If8cf5b9e1347997bb5b2fe13155d377736f288da\n'}]",0,687114,8acb9e0f39fbad8dfef1eaefea1224f0e58ae252,37,16,4,17119,,,0,"[ceph-client] Remove explicit call to Python2

The PS removes the explicit call to Python2 from _checkPGs.py file.

Change-Id: If8cf5b9e1347997bb5b2fe13155d377736f288da
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/14/687114/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/templates/bin/utils/_checkPGs.py.tpl'],1,54c5f661896010cc86c4fef1748e0bf8be9b93f4,py2-to-py3,#!/usr/bin/python,#!/usr/bin/python2,1,1
openstack%2Ftacker~stable%2Ftrain~I6c2a442e6de318e573fe5c2a71b8ea5987aba554,openstack/tacker,stable/train,I6c2a442e6de318e573fe5c2a71b8ea5987aba554,Imported Translations from Zanata,MERGED,2019-09-28 09:16:10.000000000,2019-10-15 05:22:20.000000000,2019-10-15 05:20:58.000000000,"[{'_account_id': 2874}, {'_account_id': 11904}, {'_account_id': 13380}, {'_account_id': 16511}, {'_account_id': 18955}, {'_account_id': 19644}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2019-09-28 09:16:10.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'tacker/locale/de/LC_MESSAGES/tacker.po'], 'web_link': 'https://opendev.org/openstack/tacker/commit/36c965004873459973419dab15d6744047340291', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6c2a442e6de318e573fe5c2a71b8ea5987aba554\n'}]",0,685535,36c965004873459973419dab15d6744047340291,9,9,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6c2a442e6de318e573fe5c2a71b8ea5987aba554
",git fetch https://review.opendev.org/openstack/tacker refs/changes/35/685535/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'tacker/locale/de/LC_MESSAGES/tacker.po']",2,36c965004873459973419dab15d6744047340291,zanata/translations,"# Andreas Jaeger <jaegerandi@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-09-27 09:04+0000\n""""PO-Revision-Date: 2019-09-27 08:44+0000\n"" ""Last-Translator: \n""msgid ""Bad Request - Invalid Parameters"" msgstr ""Fehlerhafte Anfrage - Ungültige Parameter"" #, python-format msgid ""Cannot call %(method)s on orphaned %(objtype)s object"" msgstr """" ""%(method)s kann nicht für verwaistes %(objtype)s-Objekt aufgerufen werden"" #, python-format msgid ""Empty list is not allowed for service list. '%s'"" msgstr ""Eine leere Liste ist für die Serviceliste nicht erlaubt. '%s'"" msgid ""Error: cooperative_iter exception %s"" msgstr ""Fehler: cooperative_iter-Ausnahme %s"" #, python-formatmsgid ""Forbidden"" msgstr ""Verboten"" msgid ""Invalid data format for service list: '%s'"" msgstr ""Ungültiges Datenformat für die Serviceliste: ' %s'"" #, python-formatmsgid """" ""Invalid input for field/attribute %(path)s. Value: %(value)s. %(message)s"" msgstr """" ""Ungültige Eingabe für Feld/Attribut %(path)s. Wert: %(value)s. %(message)s"" #, python-formatmsgid ""NS %(ns_id)s in use"" msgstr ""NS %(ns_id)s wird benutzt"" #, python-formatmsgid ""Number of ICMP packets to send"" msgstr ""Anzahl der zu sendenden ICMP-Pakete"" msgid ""Number of seconds to wait between packets"" msgstr ""Anzahl der Sekunden,die zwischen Paketen gewartet werden soll"" msgid ""Number of seconds to wait for a response"" msgstr ""Anzahl der Sekunden, die auf eine Antwort gewartet werden sollen"" msgid ""Object action %(action)s failed because: %(reason)s"" msgstr ""Objektaktion %(action)s ist fehlgeschlagen, weil: %(reason)s"" #, python-formatmsgid ""Password for alarm monitoring"" msgstr ""Passwort für die Alarmüberwachung"" msgid ""Project name for alarm monitoring"" msgstr ""Projektname für die Alarmüberwachung"" msgid ""Running without keystone AuthN requires that tenant_id is specified"" msgstr """" ""Zum Ausführen ohne Keystone-Authentifizierung muss 'tenant_id' angegeben sein"" msgid """" ""The request returned a 413 Request Entity Too Large. This generally means "" ""that rate limiting or a quota threshold was breached.\n"" ""\n"" ""The response body:\n"" ""%(body)s"" msgstr """" ""Die Anforderung hat eine Nachricht vom Typ '413 - Anforderungsentität zu "" ""groß' zurückgegeben. Dies weist im Allgemeinen darauf hin, dass die "" ""Geschwindigkeitsbegrenzung oder ein Kontingentschwellenwert überschritten "" ""wurde.\n"" ""\n"" ""Der Antworttext:\n"" ""%(body)s"" #, python-formatmsgid """" ""Unable to identify a target field from: %s. Match should be in the form "" ""%%(<field_name>)s"" msgstr """" ""Das Zielfeld konnte nicht identifiziert werden: %s. Match sollte in der Form "" ""%%(<field_name>)s sein"" #, python-format#, python-format msgid """" ""Unexpected API Error. Please report this at http://bugs.launchpad.net/"" ""tacker/ and attach the Tacker API log if possible.\n"" ""%s"" msgstr """" ""Unerwarteter API-Fehler. Melden Sie ihn unter http://bugs.launchpad.net/"" ""tacker/ und hängen Sie das Tacker-API-Protokoll an, falls möglich.\n"" ""%s"" msgid ""VIM type %(vim_name)s is not supported as an infra driver"" msgstr ""Der VIM-Typ %(vim_name)s wird nicht als Infra-Treiber unterstützt"" #, python-formatmsgid ""VNF %(vnf_id)s is not in Active state: %(message)s"" msgstr ""VNF %(vnf_id)s befindet sich nicht im aktiven Status: %(message)s"" #, python-formatmsgid ""attribute %s not lazy-loadable"" msgstr ""Attribut %s kann nicht über Lazy-Loading geladen werden."" #, python-format","""POT-Creation-Date: 2019-09-21 00:11+0000\n""""PO-Revision-Date: 2018-10-02 08:47+0000\n"" ""Last-Translator: Frank Kloeker <eumel@arcor.de>\n""",106,550
openstack%2Ftempest~master~I1f0f404db3c3841a8bbf76d8560149d00bc692c2,openstack/tempest,master,I1f0f404db3c3841a8bbf76d8560149d00bc692c2,Fix reno typo,MERGED,2019-10-15 03:54:41.000000000,2019-10-15 04:27:24.000000000,2019-10-15 04:25:52.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-15 03:54:41.000000000', 'files': ['releasenotes/notes/fix-1847749-2670b1d4f6097a1a.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c93345233e06c173a65a3edcb769c4220386b3bd', 'message': 'Fix reno typo\n\nThis fixing the typo in reno\n- https://review.opendev.org/#/c/687999/8/releasenotes/notes/fix-1847749-2670b1d4f6097a1a.yaml@4\n\nChange-Id: I1f0f404db3c3841a8bbf76d8560149d00bc692c2\n'}]",0,688610,c93345233e06c173a65a3edcb769c4220386b3bd,7,2,1,8556,,,0,"Fix reno typo

This fixing the typo in reno
- https://review.opendev.org/#/c/687999/8/releasenotes/notes/fix-1847749-2670b1d4f6097a1a.yaml@4

Change-Id: I1f0f404db3c3841a8bbf76d8560149d00bc692c2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/10/688610/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/fix-1847749-2670b1d4f6097a1a.yaml'],1,c93345233e06c173a65a3edcb769c4220386b3bd,, Bug#1847749. This provides the workaround of Skip Exception raised instead of skipping, Bug#1847749. This privides the workaround of Skip Exception raised instead of skipping,1,1
openstack%2Ftempest~master~Ib70bdffaf4d38743e7cbbeb88af51bb57ceeedf6,openstack/tempest,master,Ib70bdffaf4d38743e7cbbeb88af51bb57ceeedf6,Add workaround to handle the testtool skip exception in CLI test,MERGED,2019-10-10 22:30:40.000000000,2019-10-15 03:36:32.000000000,2019-10-15 03:35:06.000000000,"[{'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-10-10 22:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8052cbab6ffbe327bddc9889936cb76140298402', 'message': ""Add workaround to handle the testtool skip exception in CLI test\n\nThis commit apply the workaround for testtool skip exception\nin CLI test base class also\n- https://review.opendev.org/#/c/681340/6\n\nI have modified the workaround done in above commit to more generic\none.\n\nWe are good on skipException from test code. That is handled by\nteststools.TestCase's self.exception_handlers\n- https://github.com/testing-cabal/testtools/blob/f51ce5f934153e80d3e8a95b52e1464daeb30c14/testtools/testcase.py#L275\nMapped handler _report_skip() will add the respective tests to skip list\n\nCLI test failure\n-https://zuul.opendev.org/t/openstack/build/c1bb61121e1d4d108c52adad200e8991/log/job-output.txt#6354\n\nChange-Id: Ib70bdffaf4d38743e7cbbeb88af51bb57ceeedf6\n""}, {'number': 2, 'created': '2019-10-11 00:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9ac2e8084cdabd37322c61794a68431f925fbd5e', 'message': ""Add workaround to handle the testtool skip exception in CLI test\n\nThis commit apply the workaround for testtool skip exception\nin CLI test base class.\n- https://review.opendev.org/#/c/681340/6\n\nI have modified the workaround done in above commit to more generic\none.\n\nWe are good on skipException from test code. That is handled by\nteststools.TestCase's self.exception_handlers\n- https://github.com/testing-cabal/testtools/blob/f51ce5f934153e80d3e8a95b52e1464daeb30c14/testtools/testcase.py#L275\nMapped handler _report_skip() will add the respective tests to skip list\n\nCurrent CLI test failure\n-https://zuul.opendev.org/t/openstack/build/c1bb61121e1d4d108c52adad200e8991/log/job-output.txt#6354\n\nChange-Id: Ib70bdffaf4d38743e7cbbeb88af51bb57ceeedf6\n""}, {'number': 3, 'created': '2019-10-11 00:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d0d9d407d991187c42823c5717eb88db65d01692', 'message': ""Add workaround to handle the testtool skip exception in CLI test\n\nThis commit apply the workaround for testtool skip exception\nin CLI test base class.\n- https://review.opendev.org/#/c/681340/6\n\nI have modified the workaround done in above commit to more generic\none.\n\nWe are good on skipException from test code. That is handled by\nteststools.TestCase's self.exception_handlers\n- https://github.com/testing-cabal/testtools/blob/f51ce5f934153e80d3e8a95b52e1464daeb30c14/testtools/testcase.py#L275\nMapped handler _report_skip() will add the respective tests to skip list\n\nCurrent CLI test failure\n-https://zuul.opendev.org/t/openstack/build/c1bb61121e1d4d108c52adad200e8991/log/job-output.txt#6354\n\nI have tested both test.BaseTestCase and lib.base.BaseTestCase with all 8 combinations\nof below:\n - py >= 3.5 and py < 3.5 (on py2.7)\n - stestr >= 2.50 and stestr < 2.5.0\n - skip exception from setUpClass and skip exception from test code\n\nChange-Id: Ib70bdffaf4d38743e7cbbeb88af51bb57ceeedf6\n""}, {'number': 4, 'created': '2019-10-11 00:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/aee1c5ebee73f04fc1d0bd165fa4e1459c9cec0c', 'message': ""Add workaround to handle the testtool skip exception in CLI test\n\nThis commit apply the workaround for testtool skip exception\nin CLI test base class.\n- https://review.opendev.org/#/c/681340/6\n\nI have modified the workaround done in above commit to more generic\none.\n\nWe are good on skipException from test code. That is handled by\nteststools.TestCase's self.exception_handlers\n- https://github.com/testing-cabal/testtools/blob/f51ce5f934153e80d3e8a95b52e1464daeb30c14/testtools/testcase.py#L275\nMapped handler _report_skip() will add the respective tests to skip list\n\nCurrent CLI test failure\n-https://zuul.opendev.org/t/openstack/build/c1bb61121e1d4d108c52adad200e8991/log/job-output.txt#6354\n\nI have tested both test.BaseTestCase and lib.base.BaseTestCase with all 8 combinations\nof below:\n - py >= 3.5 and py < 3.5 (on py2.7)\n - stestr >= 2.50 and stestr < 2.5.0\n - skip exception from setUpClass and skip exception from test code\n\nChange-Id: Ib70bdffaf4d38743e7cbbeb88af51bb57ceeedf6\n""}, {'number': 5, 'created': '2019-10-11 02:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/30d2938064f5c29b318c0768abe053d7cf16674b', 'message': ""Add workaround to handle the testtool skip exception in CLI test\n\nThis commit apply the workaround for testtool skip exception\nin CLI test base class.\n- https://review.opendev.org/#/c/681340/6\n\nI have modified the workaround done in above commit to more generic\none.\n\nWe are good on skipException from test code. That is handled by\nteststools.TestCase's self.exception_handlers\n- https://github.com/testing-cabal/testtools/blob/f51ce5f934153e80d3e8a95b52e1464daeb30c14/testtools/testcase.py#L275\nMapped handler _report_skip() will add the respective tests to skip list\n\nCurrent CLI test failure\n-https://zuul.opendev.org/t/openstack/build/c1bb61121e1d4d108c52adad200e8991/log/job-output.txt#6354\n\nI have tested both test.BaseTestCase and lib.base.BaseTestCase with all 8 combinations\nof below:\n - py >= 3.5 and py < 3.5 (on py2.7)\n - stestr >= 2.50 and stestr < 2.5.0\n - skip exception from setUpClass and skip exception from test code\n\nChange-Id: Ib70bdffaf4d38743e7cbbeb88af51bb57ceeedf6\n""}, {'number': 6, 'created': '2019-10-11 11:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1d93b441437e16b9ac69b0c28aaa887eb5902df9', 'message': ""Add workaround to handle the testtool skip exception in CLI test\n\nThis commit apply the workaround for testtool skip exception\nin CLI test base class.\n- https://review.opendev.org/#/c/681340/6\n\nI have modified the workaround done in above commit to more generic\none.\n\nWe are good on skipException from test code. That is handled by\nteststools.TestCase's self.exception_handlers\n- https://github.com/testing-cabal/testtools/blob/f51ce5f934153e80d3e8a95b52e1464daeb30c14/testtools/testcase.py#L275\nMapped handler _report_skip() will add the respective tests to skip list\n\nCurrent CLI test failure\n-https://zuul.opendev.org/t/openstack/build/c1bb61121e1d4d108c52adad200e8991/log/job-output.txt#6354\n\nI have tested both test.BaseTestCase and lib.base.BaseTestCase with all 8 combinations\nof below:\n - py >= 3.5 and py < 3.5 (on py2.7)\n - stestr >= 2.50 and stestr < 2.5.0\n - skip exception from setUpClass and skip exception from test code\n\nCloses-Bug: 1847749\n\nChange-Id: Ib70bdffaf4d38743e7cbbeb88af51bb57ceeedf6\n""}, {'number': 7, 'created': '2019-10-11 21:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9130c455b645e8418eff544c5d1b5818eda65f0d', 'message': ""Add workaround to handle the testtool skip exception in CLI test\n\nThis commit apply the workaround for testtool skip exception\nin CLI test base class.\n- https://review.opendev.org/#/c/681340/6\n\nI have modified the workaround done in above commit to more generic\none.\n\nWe are good on skipException from test code. That is handled by\nteststools.TestCase's self.exception_handlers\n- https://github.com/testing-cabal/testtools/blob/f51ce5f934153e80d3e8a95b52e1464daeb30c14/testtools/testcase.py#L275\nMapped handler _report_skip() will add the respective tests to skip list\n\nCurrent CLI test failure\n-https://zuul.opendev.org/t/openstack/build/c1bb61121e1d4d108c52adad200e8991/log/job-output.txt#6354\n\nI have tested both test.BaseTestCase and lib.base.BaseTestCase with all 8 combinations\nof below:\n - py >= 3.5 and py < 3.5 (on py2.7)\n - stestr >= 2.50 and stestr < 2.5.0\n - skip exception from setUpClass and skip exception from test code\n\nCloses-Bug: 1847749\n\nChange-Id: Ib70bdffaf4d38743e7cbbeb88af51bb57ceeedf6\n""}, {'number': 8, 'created': '2019-10-12 01:41:42.000000000', 'files': ['tempest/tests/lib/test_base.py', 'releasenotes/notes/fix-1847749-2670b1d4f6097a1a.yaml', 'tempest/lib/base.py', 'tempest/test.py', 'tempest/tests/test_test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e64c78dcf720202a0542bb1e1184f5229a11524f', 'message': ""Add workaround to handle the testtool skip exception in CLI test\n\nThis commit apply the workaround for testtool skip exception\nin CLI test base class.\n- https://review.opendev.org/#/c/681340/6\n\nI have modified the workaround done in above commit to more generic\none.\n\nWe are good on skipException from test code. That is handled by\nteststools.TestCase's self.exception_handlers\n- https://github.com/testing-cabal/testtools/blob/f51ce5f934153e80d3e8a95b52e1464daeb30c14/testtools/testcase.py#L275\nMapped handler _report_skip() will add the respective tests to skip list\n\nCurrent CLI test failure\n-https://zuul.opendev.org/t/openstack/build/c1bb61121e1d4d108c52adad200e8991/log/job-output.txt#6354\n\nI have tested both test.BaseTestCase and lib.base.BaseTestCase with all 8 combinations\nof below:\n - py >= 3.5 and py < 3.5 (on py2.7)\n - stestr >= 2.50 and stestr < 2.5.0\n - skip exception from setUpClass and skip exception from test code\n\nCloses-Bug: 1847749\n\nChange-Id: Ib70bdffaf4d38743e7cbbeb88af51bb57ceeedf6\n""}]",11,687999,e64c78dcf720202a0542bb1e1184f5229a11524f,38,9,8,8556,,,0,"Add workaround to handle the testtool skip exception in CLI test

This commit apply the workaround for testtool skip exception
in CLI test base class.
- https://review.opendev.org/#/c/681340/6

I have modified the workaround done in above commit to more generic
one.

We are good on skipException from test code. That is handled by
teststools.TestCase's self.exception_handlers
- https://github.com/testing-cabal/testtools/blob/f51ce5f934153e80d3e8a95b52e1464daeb30c14/testtools/testcase.py#L275
Mapped handler _report_skip() will add the respective tests to skip list

Current CLI test failure
-https://zuul.opendev.org/t/openstack/build/c1bb61121e1d4d108c52adad200e8991/log/job-output.txt#6354

I have tested both test.BaseTestCase and lib.base.BaseTestCase with all 8 combinations
of below:
 - py >= 3.5 and py < 3.5 (on py2.7)
 - stestr >= 2.50 and stestr < 2.5.0
 - skip exception from setUpClass and skip exception from test code

Closes-Bug: 1847749

Change-Id: Ib70bdffaf4d38743e7cbbeb88af51bb57ceeedf6
",git fetch https://review.opendev.org/openstack/tempest refs/changes/99/687999/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/base.py', 'tempest/test.py']",2,8052cbab6ffbe327bddc9889936cb76140298402,bug/1847749," cls.skipException = unittest.case.SkipTest else: cls.skipException = unittest2.case.SkipTest except Exception: pass cls.handle_skip_exception() cls.skip_checks() if not cls.__skip_checks_called: raise RuntimeError( ""skip_checks for %s did not call the super's "" ""skip_checks"" % cls.__name__) try:","class DummyException(Exception): pass exc = unittest2.case.SkipTest exc_to_raise = unittest.case.SkipTest else: exc = unittest.case.SkipTest exc_to_raise = unittest2.case.SkipTest except Exception: exc = DummyException exc_to_raise = DummyException return exc, exc_to_raise try: exc, exc_to_raise = cls.handle_skip_exception() cls.skip_checks() if not cls.__skip_checks_called: raise RuntimeError( ""skip_checks for %s did not call the super's "" ""skip_checks"" % cls.__name__) except exc as e: # NOTE(dviroel): the exception may be raised after setting up the # user credentials, so we must call tearDownClass to release all # allocated resources. cls.tearDownClass() raise exc_to_raise(e.args)",38,24
openstack%2Fneutron-vpnaas~master~Iccaf1aed26f54eeb49ce1cf2cac12a820310968c,openstack/neutron-vpnaas,master,Iccaf1aed26f54eeb49ce1cf2cac12a820310968c,Skip check config changed while restart_check_config not enable,MERGED,2019-05-07 07:04:53.000000000,2019-10-15 03:19:05.000000000,2019-10-15 03:17:44.000000000,"[{'_account_id': 841}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 15905}, {'_account_id': 22348}, {'_account_id': 23509}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-05-07 07:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/00b83f53902cec8d1bed58b4b372c9d525c12b17', 'message': 'Skip check config changed while restart_check_config not enable\n\nThe ipsec.conf.old and ipsec.secrets.old files can only generate\nin pluto start, so in restart we should check restart_check_config\nconfiguration firstly, then check ipsec.conf and ipsec.secrets\nchanged.\n\nChange-Id: Iccaf1aed26f54eeb49ce1cf2cac12a820310968c\n'}, {'number': 2, 'created': '2019-05-12 10:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/177c56a3d6fa407e0a0869cf8e74f7ebc5dfeda4', 'message': 'Skip check config changed while restart_check_config not enable\n\nThe ipsec.conf.old and ipsec.secrets.old files can only be generated\nin pluto start, so in restart we should check restart_check_config\nconfiguration firstly, then check ipsec.conf and ipsec.secrets\nchanged.\n\nCloses-Bug: #1828721\nChange-Id: Iccaf1aed26f54eeb49ce1cf2cac12a820310968c\n'}, {'number': 3, 'created': '2019-09-30 06:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/22b897227861e447c184d76942759c277b708901', 'message': 'Skip check config changed while restart_check_config not enable\n\nThe ipsec.conf.old and ipsec.secrets.old files can only be generated\nif config ""restart_check_config"" enabled, so in restart we should check\nrestart_check_config configuration firstly, then check ipsec.conf and\nipsec.secrets changed.\n\nCloses-Bug: #1828721\nChange-Id: Iccaf1aed26f54eeb49ce1cf2cac12a820310968c\n'}, {'number': 4, 'created': '2019-09-30 10:23:06.000000000', 'files': ['neutron_vpnaas/tests/functional/openswan/test_openswan_driver.py', 'neutron_vpnaas/services/vpn/device_drivers/ipsec.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/8e9572f0712a520bda7c4ef671e14b862e0b0c2d', 'message': 'Skip check config changed while restart_check_config not enable\n\nThe ipsec.conf.old and ipsec.secrets.old files can only be generated\nif config ""restart_check_config"" enabled, so in restart we should check\nrestart_check_config configuration firstly, then check ipsec.conf and\nipsec.secrets changed.\n\nCloses-Bug: #1828721\nChange-Id: Iccaf1aed26f54eeb49ce1cf2cac12a820310968c\n'}]",6,657536,8e9572f0712a520bda7c4ef671e14b862e0b0c2d,33,8,4,12860,,,0,"Skip check config changed while restart_check_config not enable

The ipsec.conf.old and ipsec.secrets.old files can only be generated
if config ""restart_check_config"" enabled, so in restart we should check
restart_check_config configuration firstly, then check ipsec.conf and
ipsec.secrets changed.

Closes-Bug: #1828721
Change-Id: Iccaf1aed26f54eeb49ce1cf2cac12a820310968c
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/36/657536/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/tests/functional/openswan/test_openswan_driver.py', 'neutron_vpnaas/services/vpn/device_drivers/ipsec.py']",2,00b83f53902cec8d1bed58b4b372c9d525c12b17,bug/1828721, if cfg.CONF.pluto.restart_check_config: if not self._config_changed(): return, should_be_restart = False if self._config_changed() or not cfg.CONF.pluto.restart_check_config: should_be_restart = True if not should_be_restart: return ,5,8
openstack%2Fpuppet-openstack_spec_helper~stable%2Fstein~I935a7e242b3586e2ffc5815ed1d3fd316b62f53b,openstack/puppet-openstack_spec_helper,stable/stein,I935a7e242b3586e2ffc5815ed1d3fd316b62f53b,Pin dry-inflector to 0.1.2 for ruby <= 2.4.0,MERGED,2019-10-15 00:24:42.000000000,2019-10-15 02:52:06.000000000,2019-10-15 02:52:05.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-15 00:24:42.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/46b5f68123e305230b5b77bf19bb59f9ff70c931', 'message': 'Pin dry-inflector to 0.1.2 for ruby <= 2.4.0\n\nFails since 0.2.0 that was released today requires ruby >= 2.4.0.\nSee failure in [1].\n\n[1]https://review.opendev.org/#/c/687845/\n\nChange-Id: I935a7e242b3586e2ffc5815ed1d3fd316b62f53b\nCloses-Bug: #1847945\n(cherry picked from commit d38ed711f1cc1de9f66e8f71a6bdff96e1273051)\n'}]",0,688587,46b5f68123e305230b5b77bf19bb59f9ff70c931,6,2,1,9414,,,0,"Pin dry-inflector to 0.1.2 for ruby <= 2.4.0

Fails since 0.2.0 that was released today requires ruby >= 2.4.0.
See failure in [1].

[1]https://review.opendev.org/#/c/687845/

Change-Id: I935a7e242b3586e2ffc5815ed1d3fd316b62f53b
Closes-Bug: #1847945
(cherry picked from commit d38ed711f1cc1de9f66e8f71a6bdff96e1273051)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/87/688587/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,46b5f68123e305230b5b77bf19bb59f9ff70c931,bug/1847945-stable/stein," # NOTE(zhongshengping): Pin dry-inflector to 0.1.2 as 0.2.0 requires ruby >= 2.4.0 dry_inflector_version = RUBY_VERSION < '2.4.0' ? '~> 0.1.2' : '>= 0.1.2' spec.add_dependency 'dry-inflector', dry_inflector_version ",,4,0
openstack%2Fpuppet-openstack_spec_helper~stable%2Ftrain~I935a7e242b3586e2ffc5815ed1d3fd316b62f53b,openstack/puppet-openstack_spec_helper,stable/train,I935a7e242b3586e2ffc5815ed1d3fd316b62f53b,Pin dry-inflector to 0.1.2 for ruby <= 2.4.0,MERGED,2019-10-15 00:24:31.000000000,2019-10-15 02:52:06.000000000,2019-10-15 02:52:06.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-15 00:24:31.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/d11a761237a9967e17902920067b60ee25cce253', 'message': 'Pin dry-inflector to 0.1.2 for ruby <= 2.4.0\n\nFails since 0.2.0 that was released today requires ruby >= 2.4.0.\nSee failure in [1].\n\n[1]https://review.opendev.org/#/c/687845/\n\nChange-Id: I935a7e242b3586e2ffc5815ed1d3fd316b62f53b\nCloses-Bug: #1847945\n(cherry picked from commit d38ed711f1cc1de9f66e8f71a6bdff96e1273051)\n'}]",0,688586,d11a761237a9967e17902920067b60ee25cce253,6,2,1,9414,,,0,"Pin dry-inflector to 0.1.2 for ruby <= 2.4.0

Fails since 0.2.0 that was released today requires ruby >= 2.4.0.
See failure in [1].

[1]https://review.opendev.org/#/c/687845/

Change-Id: I935a7e242b3586e2ffc5815ed1d3fd316b62f53b
Closes-Bug: #1847945
(cherry picked from commit d38ed711f1cc1de9f66e8f71a6bdff96e1273051)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/86/688586/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,d11a761237a9967e17902920067b60ee25cce253,bug/1847945-stable/train," # NOTE(zhongshengping): Pin dry-inflector to 0.1.2 as 0.2.0 requires ruby >= 2.4.0 dry_inflector_version = RUBY_VERSION < '2.4.0' ? '~> 0.1.2' : '>= 0.1.2' spec.add_dependency 'dry-inflector', dry_inflector_version ",,4,0
openstack%2Fpuppet-openstack_spec_helper~stable%2Frocky~I935a7e242b3586e2ffc5815ed1d3fd316b62f53b,openstack/puppet-openstack_spec_helper,stable/rocky,I935a7e242b3586e2ffc5815ed1d3fd316b62f53b,Pin dry-inflector to 0.1.2 for ruby <= 2.4.0,MERGED,2019-10-15 00:25:02.000000000,2019-10-15 02:52:05.000000000,2019-10-15 02:52:05.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-15 00:25:02.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/f350fb71d8bb4d9986b2a12d69b65a2b859c82c7', 'message': 'Pin dry-inflector to 0.1.2 for ruby <= 2.4.0\n\nFails since 0.2.0 that was released today requires ruby >= 2.4.0.\nSee failure in [1].\n\n[1]https://review.opendev.org/#/c/687845/\n\nChange-Id: I935a7e242b3586e2ffc5815ed1d3fd316b62f53b\nCloses-Bug: #1847945\n(cherry picked from commit d38ed711f1cc1de9f66e8f71a6bdff96e1273051)\n'}]",0,688588,f350fb71d8bb4d9986b2a12d69b65a2b859c82c7,6,2,1,9414,,,0,"Pin dry-inflector to 0.1.2 for ruby <= 2.4.0

Fails since 0.2.0 that was released today requires ruby >= 2.4.0.
See failure in [1].

[1]https://review.opendev.org/#/c/687845/

Change-Id: I935a7e242b3586e2ffc5815ed1d3fd316b62f53b
Closes-Bug: #1847945
(cherry picked from commit d38ed711f1cc1de9f66e8f71a6bdff96e1273051)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/88/688588/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,f350fb71d8bb4d9986b2a12d69b65a2b859c82c7,bug/1847945-stable/rocky," # NOTE(zhongshengping): Pin dry-inflector to 0.1.2 as 0.2.0 requires ruby >= 2.4.0 dry_inflector_version = RUBY_VERSION < '2.4.0' ? '~> 0.1.2' : '>= 0.1.2' spec.add_dependency 'dry-inflector', dry_inflector_version ",,4,0
openstack%2Fsenlin-dashboard~master~I09354ad59b62902aa6667b83e17f4bcd1925de21,openstack/senlin-dashboard,master,I09354ad59b62902aa6667b83e17f4bcd1925de21,Switch to official Ussuri jobs,MERGED,2019-10-14 07:02:05.000000000,2019-10-15 02:48:52.000000000,2019-10-15 02:46:49.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-14 07:02:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/0fe843d86722cfe96046d4097168998386350a8d', 'message': 'Switch to official Ussuri jobs\n\nChange-Id: I09354ad59b62902aa6667b83e17f4bcd1925de21\n'}]",0,688341,0fe843d86722cfe96046d4097168998386350a8d,9,4,1,29313,,,0,"Switch to official Ussuri jobs

Change-Id: I09354ad59b62902aa6667b83e17f4bcd1925de21
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/41/688341/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0fe843d86722cfe96046d4097168998386350a8d,, - openstack-python3-ussuri-jobs-horizon, - openstack-python3-train-jobs-horizon,1,1
openstack%2Fsenlin-dashboard~master~I1b5e2f3beb5d3e7b36bcd7d8e9f7091a80ba3d36,openstack/senlin-dashboard,master,I1b5e2f3beb5d3e7b36bcd7d8e9f7091a80ba3d36,Refactor error messages,MERGED,2019-09-06 07:54:06.000000000,2019-10-15 02:47:56.000000000,2019-10-15 02:46:24.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 27781}, {'_account_id': 29313}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-09-06 07:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/d60898b5644ef3d08fb5118831436973b41d109a', 'message': 'Refactor error messages\n\nThis patchrefactoring the error message and\nshows the detailed error message\n\nChange-Id: I1b5e2f3beb5d3e7b36bcd7d8e9f7091a80ba3d36\n'}, {'number': 2, 'created': '2019-09-09 02:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/c9dca2c1dd084a0d71cb8e1da43b12fbfb72c4c8', 'message': 'Refactor error messages\n\nThis patchrefactoring the error message and\nshows the detailed error message\n\nChange-Id: I1b5e2f3beb5d3e7b36bcd7d8e9f7091a80ba3d36\n'}, {'number': 3, 'created': '2019-09-20 09:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/7a8875cacef0ed7615a428471bfbcfa6acf087e6', 'message': 'Refactor error messages\n\nThis patch refactoring the error message and\nshows the detailed error message\n\nChange-Id: I1b5e2f3beb5d3e7b36bcd7d8e9f7091a80ba3d36\n'}, {'number': 4, 'created': '2019-10-08 07:25:10.000000000', 'files': ['senlin_dashboard/cluster/nodes/views.py', 'senlin_dashboard/cluster/policies/forms.py', 'senlin_dashboard/cluster/receivers/forms.py', 'senlin_dashboard/cluster/receivers/views.py', 'senlin_dashboard/cluster/clusters/forms.py', 'senlin_dashboard/cluster/nodes/forms.py', 'senlin_dashboard/cluster/policies/views.py', 'senlin_dashboard/cluster/clusters/views.py'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/3a72853303dceac3eeb4dc4c149ef4d27970ebb6', 'message': 'Refactor error messages\n\nThis patch refactoring the error message and\nshows the detailed error message\n\nChange-Id: I1b5e2f3beb5d3e7b36bcd7d8e9f7091a80ba3d36\n'}]",4,680597,3a72853303dceac3eeb4dc4c149ef4d27970ebb6,23,7,4,27822,,,0,"Refactor error messages

This patch refactoring the error message and
shows the detailed error message

Change-Id: I1b5e2f3beb5d3e7b36bcd7d8e9f7091a80ba3d36
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/97/680597/2 && git format-patch -1 --stdout FETCH_HEAD,"['senlin_dashboard/cluster/nodes/views.py', 'senlin_dashboard/cluster/policies/forms.py', 'senlin_dashboard/cluster/receivers/forms.py', 'senlin_dashboard/cluster/receivers/views.py', 'senlin_dashboard/cluster/clusters/forms.py', 'senlin_dashboard/cluster/nodes/forms.py', 'senlin_dashboard/cluster/policies/views.py', 'senlin_dashboard/cluster/clusters/views.py']",8,d60898b5644ef3d08fb5118831436973b41d109a,refactor-error-messages," except Exception as e: msg = _('Unable to retrieve clusters: %s') % str(e) except Exception as e: msg = _(""Unable to retrieve cluster: %s"") % str(e)"," except Exception: msg = _('Unable to retrieve clusters.') except Exception: msg = _(""Unable to retrieve cluster."")",34,34
openstack%2Ftripleo-heat-templates~master~Ib3c70c136fa4a03b58edc370343a01d657b5b101,openstack/tripleo-heat-templates,master,Ib3c70c136fa4a03b58edc370343a01d657b5b101,Permit access to Ceph RGW for 'member' role,MERGED,2019-10-09 21:23:26.000000000,2019-10-15 02:39:28.000000000,2019-10-15 02:39:28.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-10-09 21:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4351971491a225b5ddeef48f80cfff16abb094fc', 'message': ""Permit access to Ceph RGW for 'member' role\n\nFrom the Rocky release, Keystone is bootstrapped by default [1]\nwith a 'member' role, while previously we used to create at\ndeployment time a role called 'Member'.\n\nRole names are case insensitive in Keystone but Ceph RGW expects\na whitelist of role names to which access is permitted. This change\nadds 'member' to the Ceph RGW whitelist, in addition to 'Member'.\n\nChange-Id: Ib3c70c136fa4a03b58edc370343a01d657b5b101\nCloses-Bug: 1847539\n""}, {'number': 2, 'created': '2019-10-09 21:24:08.000000000', 'files': ['deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1357a131c83e0d4c699df5b9230c382a803eb5d7', 'message': ""Permit access to Ceph RGW for 'member' role\n\nFrom the Rocky release, Keystone is bootstrapped by default [1]\nwith a 'member' role, while previously we used to create at\ndeployment time a role called 'Member'.\n\nRole names are case insensitive in Keystone but Ceph RGW expects\na whitelist of role names to which access is permitted. This change\nadds 'member' to the Ceph RGW whitelist, in addition to 'Member'.\n\n1. https://blueprints.launchpad.net/keystone/+spec/basic-default-roles\n\nChange-Id: Ib3c70c136fa4a03b58edc370343a01d657b5b101\nCloses-Bug: 1847539\n""}]",3,687680,1357a131c83e0d4c699df5b9230c382a803eb5d7,12,6,2,6796,,,0,"Permit access to Ceph RGW for 'member' role

From the Rocky release, Keystone is bootstrapped by default [1]
with a 'member' role, while previously we used to create at
deployment time a role called 'Member'.

Role names are case insensitive in Keystone but Ceph RGW expects
a whitelist of role names to which access is permitted. This change
adds 'member' to the Ceph RGW whitelist, in addition to 'Member'.

1. https://blueprints.launchpad.net/keystone/+spec/basic-default-roles

Change-Id: Ib3c70c136fa4a03b58edc370343a01d657b5b101
Closes-Bug: 1847539
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/687680/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ceph-ansible/ceph-base.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml']",2,4351971491a225b5ddeef48f80cfff16abb094fc,bug/1847539," ceph::rgw::keystone::auth::roles: [ 'admin', 'member' ]"," ceph::rgw::keystone::auth::roles: [ 'admin', 'Member' ]",2,2
openstack%2Fmanila-ui~master~I8df240f0f297c0387bef304e285ce8dd9f34c85d,openstack/manila-ui,master,I8df240f0f297c0387bef304e285ce8dd9f34c85d,Use Horizon project template for django jobs,MERGED,2019-10-05 10:54:14.000000000,2019-10-15 02:27:48.000000000,2019-10-15 02:25:28.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}, {'_account_id': 29632}]","[{'number': 1, 'created': '2019-10-05 10:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/28efa1f65e8255c8053013973a67a16f29204d60', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I8df240f0f297c0387bef304e285ce8dd9f34c85d\n""}, {'number': 2, 'created': '2019-10-05 12:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/b7a4ccc13fcae8cb7f5bc054d510ccbb35c87d6a', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I8df240f0f297c0387bef304e285ce8dd9f34c85d\n""}, {'number': 3, 'created': '2019-10-05 13:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/fe3e86476def7ccecafe3472471053fac60f606c', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I8df240f0f297c0387bef304e285ce8dd9f34c85d\n""}, {'number': 4, 'created': '2019-10-05 13:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/469cfd092796e6730a8edbb649f92b8963374747', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I8df240f0f297c0387bef304e285ce8dd9f34c85d\n""}, {'number': 5, 'created': '2019-10-14 15:29:46.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/73b7b9cd0780777172ddf40745fe4190007b3a68', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I8df240f0f297c0387bef304e285ce8dd9f34c85d\n""}]",2,686887,73b7b9cd0780777172ddf40745fe4190007b3a68,25,7,5,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs. This patch use that template to run django jobs
here. For information please refer [1]

[1] https://review.opendev.org/#/c/681969/

Change-Id: I8df240f0f297c0387bef304e285ce8dd9f34c85d
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/87/686887/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,28efa1f65e8255c8053013973a67a16f29204d60,django22,"envlist = py27,py37,pep8,py3-{dj111,dj22}commands = dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3 /bin/bash run_tests.sh -N --no-pep8 {posargs}","envlist = py27,py37,pep8,py27dj19,py27dj110,py3-dj111commands = /bin/bash run_tests.sh -N --no-pep8 {posargs}# Django-1.8 is LTS [testenv:py27dj18] basepython = python2.7 commands = pip install django>=1.8,<1.9 /bin/bash run_tests.sh -N --no-pep8 {posargs} [testenv:py27dj19] basepython = python2.7 commands = pip install django>=1.9,<1.10 /bin/bash run_tests.sh -N --no-pep8 {posargs} [testenv:py27dj110] basepython = python2.7 commands = pip install django>=1.10,<1.11 /bin/bash run_tests.sh -N --no-pep8 {posargs} [testenv:py3-dj111] basepython = python3 commands = pip install django>=1.11,<2 {[testenv]commands} ",6,33
openstack%2Fnetworking-bgpvpn~master~I99604ffa2a93f4df52ae143e54aeec95201230b2,openstack/networking-bgpvpn,master,I99604ffa2a93f4df52ae143e54aeec95201230b2,Use Horizon project template for django jobs,MERGED,2019-10-05 10:54:23.000000000,2019-10-15 01:17:56.000000000,2019-10-15 01:16:07.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27822}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-05 10:54:23.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/8add7ecf3ade74658fe08decaf2d844f7ac9e4d3', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I99604ffa2a93f4df52ae143e54aeec95201230b2\n""}]",0,686890,8add7ecf3ade74658fe08decaf2d844f7ac9e4d3,14,9,1,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs. This patch use that template to run django jobs
here. For information please refer [1]

[1] https://review.opendev.org/#/c/681969/

Change-Id: I99604ffa2a93f4df52ae143e54aeec95201230b2
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/90/686890/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,8add7ecf3ade74658fe08decaf2d844f7ac9e4d3,django22,"envlist = py27,py37,py3-{dj111,dj22},pypy,pep8commands = dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3 stestr run {posargs}","envlist = py27,py37,pypy,pep8commands = stestr run {posargs}[testenv:py3-dj111] basepython = python3 commands = pip install django>=1.11,<2 python {toxinidir}/tools/django-manage.py test bgpvpn_dashboard ",5,10
openstack%2Fopenstack-ansible-galera_client~stable%2Fstein~I64c8e07adbfe39404b1cac2805390edb8ab528ff,openstack/openstack-ansible-galera_client,stable/stein,I64c8e07adbfe39404b1cac2805390edb8ab528ff,Remove OpenSuse 42.3 jobs,MERGED,2019-10-14 23:30:05.000000000,2019-10-15 01:06:31.000000000,2019-10-15 01:04:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-14 23:30:05.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/0df768c14f28c3c5d212aada29ca9d9ee5967299', 'message': 'Remove OpenSuse 42.3 jobs\n\nOpenSuse 42.3 has been EOL for a while now. Remove the jobs for it that\nrun here. This will enable us to remove the nodepool configuration for\nOpenSuse 42.3.\n\nChange-Id: I64c8e07adbfe39404b1cac2805390edb8ab528ff\n'}]",0,688582,0df768c14f28c3c5d212aada29ca9d9ee5967299,7,2,1,4146,,,0,"Remove OpenSuse 42.3 jobs

OpenSuse 42.3 has been EOL for a while now. Remove the jobs for it that
run here. This will enable us to remove the nodepool configuration for
OpenSuse 42.3.

Change-Id: I64c8e07adbfe39404b1cac2805390edb8ab528ff
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/82/688582/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,0df768c14f28c3c5d212aada29ca9d9ee5967299,,, name: openstack-ansible-ssl-galera_server-opensuse-423 parent: openstack-ansible-galera_server nodeset: opensuse-423 voting: false vars: tox_env: ssl - job: - job: name: openstack-ansible-functional-galera_server-opensuse-423 parent: openstack-ansible-galera_server nodeset: opensuse-423 voting: false vars: tox_env: functional,0,18
openstack%2Fdevstack-gate~master~Ibf278cd21d1a0921f7122deb944e1ae18b7c07c1,openstack/devstack-gate,master,Ibf278cd21d1a0921f7122deb944e1ae18b7c07c1,Add gate job for stable/train,MERGED,2019-10-04 17:16:07.000000000,2019-10-15 00:49:43.000000000,2019-10-15 00:49:43.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 17:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/a794b7cd0625f5b278edd08f11c77b4875ea682a', 'message': 'Add gate job for stable/train\n\nNow we have stable/train branch ready for devstack\nand so does for all service projects.\n\nThis commit adds the stable/train job running for\nd-g gate.\n\nChange-Id: Ibf278cd21d1a0921f7122deb944e1ae18b7c07c1\n'}, {'number': 2, 'created': '2019-10-08 16:37:12.000000000', 'files': ['playbooks/legacy/tempest-neutron-full/run.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/8c309c5e2c169443a7f6573fc50906fceba902c4', 'message': 'Add gate job for stable/train\n\nNow we have stable/train branch ready for devstack\nand so does for all service projects.\n\nThis commit adds the stable/train job running for\nd-g gate.\n\nChange-Id: Ibf278cd21d1a0921f7122deb944e1ae18b7c07c1\n'}]",0,686776,8c309c5e2c169443a7f6573fc50906fceba902c4,14,6,2,8556,,,0,"Add gate job for stable/train

Now we have stable/train branch ready for devstack
and so does for all service projects.

This commit adds the stable/train job running for
d-g gate.

Change-Id: Ibf278cd21d1a0921f7122deb944e1ae18b7c07c1
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/76/686776/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/tempest-neutron-full/run.yaml'],1,a794b7cd0625f5b278edd08f11c77b4875ea682a,qa-train-release, export BRANCH_OVERRIDE=stable/train, export BRANCH_OVERRIDE=stable/stein,1,1
openstack%2Fpuppet-openstack_spec_helper~master~I935a7e242b3586e2ffc5815ed1d3fd316b62f53b,openstack/puppet-openstack_spec_helper,master,I935a7e242b3586e2ffc5815ed1d3fd316b62f53b,Pin dry-inflector to 0.1.2 for ruby <= 2.4.0,MERGED,2019-10-14 02:36:19.000000000,2019-10-15 00:25:02.000000000,2019-10-14 22:51:43.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 02:36:19.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/d38ed711f1cc1de9f66e8f71a6bdff96e1273051', 'message': 'Pin dry-inflector to 0.1.2 for ruby <= 2.4.0\n\nFails since 0.2.0 that was released today requires ruby >= 2.4.0.\nSee failure in [1].\n\n[1]https://review.opendev.org/#/c/687845/\n\nChange-Id: I935a7e242b3586e2ffc5815ed1d3fd316b62f53b\nCloses-Bug: #1847945\n'}]",0,688319,d38ed711f1cc1de9f66e8f71a6bdff96e1273051,12,5,1,9414,,,0,"Pin dry-inflector to 0.1.2 for ruby <= 2.4.0

Fails since 0.2.0 that was released today requires ruby >= 2.4.0.
See failure in [1].

[1]https://review.opendev.org/#/c/687845/

Change-Id: I935a7e242b3586e2ffc5815ed1d3fd316b62f53b
Closes-Bug: #1847945
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/19/688319/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,d38ed711f1cc1de9f66e8f71a6bdff96e1273051,bug/1847945," # NOTE(zhongshengping): Pin dry-inflector to 0.1.2 as 0.2.0 requires ruby >= 2.4.0 dry_inflector_version = RUBY_VERSION < '2.4.0' ? '~> 0.1.2' : '>= 0.1.2' spec.add_dependency 'dry-inflector', dry_inflector_version ",,4,0
openstack%2Fnetworking-bagpipe~master~Ic34aff147faac500c792146fa945f639c9c8992c,openstack/networking-bagpipe,master,Ic34aff147faac500c792146fa945f639c9c8992c,bagpipe-bgp: fix a broken looking-glass path,MERGED,2019-10-10 13:54:27.000000000,2019-10-15 00:16:44.000000000,2019-10-11 20:44:49.000000000,"[{'_account_id': 12021}, {'_account_id': 19990}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 13:54:27.000000000', 'files': ['networking_bagpipe/bagpipe_bgp/engine/bgp_manager.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/80fceb3458720b3d7fdccfa9f4a59e1e370d0be7', 'message': ""bagpipe-bgp: fix a broken looking-glass path\n\nlg.VALUE was used with something that isn't a directly\nusable value (that would be serializable), but a function\nthat we need to call first ; lg.SUBITEM is what needs to\nbe used in that case.\n\nChange-Id: Ic34aff147faac500c792146fa945f639c9c8992c\n""}]",0,687902,80fceb3458720b3d7fdccfa9f4a59e1e370d0be7,9,3,1,12021,,,0,"bagpipe-bgp: fix a broken looking-glass path

lg.VALUE was used with something that isn't a directly
usable value (that would be serializable), but a function
that we need to call first ; lg.SUBITEM is what needs to
be used in that case.

Change-Id: Ic34aff147faac500c792146fa945f639c9c8992c
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/02/687902/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bagpipe/bagpipe_bgp/engine/bgp_manager.py'],1,80fceb3458720b3d7fdccfa9f4a59e1e370d0be7,bug/1847605," ""route_counts"": (lg.SUBITEM, self.get_lg_route_counts)}"," ""route_counts"": (lg.VALUE, self.get_lg_route_counts)}",1,1
openstack%2Fsenlin~master~I777ccb04653b0ee890dac93ea3bd3c39752c23e1,openstack/senlin,master,I777ccb04653b0ee890dac93ea3bd3c39752c23e1,Use named argument for nova timeout,MERGED,2019-10-14 21:42:08.000000000,2019-10-15 00:09:24.000000000,2019-10-15 00:08:16.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-10-14 21:42:08.000000000', 'files': ['senlin/profiles/os/nova/server.py', 'senlin/tests/unit/profiles/test_nova_server.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/52b8a1739ed4fba6f7de09d10151db6d4d1f3548', 'message': 'Use named argument for nova timeout\n\nMust use named argument for timeout when calling wait_for_server\n\nChange-Id: I777ccb04653b0ee890dac93ea3bd3c39752c23e1\n'}]",0,688577,52b8a1739ed4fba6f7de09d10151db6d4d1f3548,8,2,1,27224,,,0,"Use named argument for nova timeout

Must use named argument for timeout when calling wait_for_server

Change-Id: I777ccb04653b0ee890dac93ea3bd3c39752c23e1
",git fetch https://review.opendev.org/openstack/senlin refs/changes/77/688577/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/profiles/os/nova/server.py', 'senlin/tests/unit/profiles/test_nova_server.py']",2,52b8a1739ed4fba6f7de09d10151db6d4d1f3548,fix_nova_timeout," 'FAKE_ID', timeout=cfg.CONF.default_nova_timeout) 'FAKE_ID', timeout=cfg.CONF.default_nova_timeout) 'FAKE_ID', timeout=cfg.CONF.default_nova_timeout) 'FAKE_ID', timeout=cfg.CONF.default_nova_timeout) cc.wait_for_server_delete.assert_called_once_with('FAKE_ID', timeout=20) cc.wait_for_server_delete.assert_called_once_with('FAKE_ID', timeout=20) cc.wait_for_server_delete.assert_called_once_with('FAKE_ID', timeout=20)"," 'FAKE_ID', cfg.CONF.default_nova_timeout) 'FAKE_ID', cfg.CONF.default_nova_timeout) 'FAKE_ID', cfg.CONF.default_nova_timeout) 'FAKE_ID', cfg.CONF.default_nova_timeout) cc.wait_for_server_delete.assert_called_once_with('FAKE_ID', 20) cc.wait_for_server_delete.assert_called_once_with('FAKE_ID', 20) cc.wait_for_server_delete.assert_called_once_with('FAKE_ID', 20)",13,10
openstack%2Frequirements~master~I39079ec3e81cde2b1d8d8ef53219826298c61286,openstack/requirements,master,I39079ec3e81cde2b1d8d8ef53219826298c61286,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-10-10 14:17:38.000000000,2019-10-14 23:59:19.000000000,2019-10-14 23:58:10.000000000,"[{'_account_id': 14288}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-10 14:17:38.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/962dfa912dbcd2dabc8665ffa48b07a4cb53732a', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I39079ec3e81cde2b1d8d8ef53219826298c61286\n'}]",0,687906,962dfa912dbcd2dabc8665ffa48b07a4cb53732a,12,5,1,28522,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I39079ec3e81cde2b1d8d8ef53219826298c61286
",git fetch https://review.opendev.org/openstack/requirements refs/changes/06/687906/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,962dfa912dbcd2dabc8665ffa48b07a4cb53732a,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fkeystone~master~I0315d9fb97a960dc2c49ace9a2e101685cb7c4fc,openstack/keystone,master,I0315d9fb97a960dc2c49ace9a2e101685cb7c4fc,Switch to official Ussuri jobs,MERGED,2019-10-14 06:34:22.000000000,2019-10-14 23:42:53.000000000,2019-10-14 23:40:17.000000000,"[{'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 06:34:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5d54d2d93db315f6a117eb152133773f5cfac3a1', 'message': 'Switch to official Ussuri jobs\n\nChange-Id: I0315d9fb97a960dc2c49ace9a2e101685cb7c4fc\n'}]",0,688331,5d54d2d93db315f6a117eb152133773f5cfac3a1,8,3,1,27621,,,0,"Switch to official Ussuri jobs

Change-Id: I0315d9fb97a960dc2c49ace9a2e101685cb7c4fc
",git fetch https://review.opendev.org/openstack/keystone refs/changes/31/688331/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5d54d2d93db315f6a117eb152133773f5cfac3a1,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fnova~master~I518ae675b7a67da64a5796e57e87860f0c3ef0db,openstack/nova,master,I518ae675b7a67da64a5796e57e87860f0c3ef0db,Add prep_snapshot_based_resize_at_dest compute method,MERGED,2019-01-25 22:53:34.000000000,2019-10-14 23:42:45.000000000,2019-10-14 23:40:13.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28614}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-01-25 22:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c9e1856b7b13fd1a93e6407465d9ddd93d54778', 'message': 'WIP: Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that ports and volumes will work on the selected host\n  in the target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 2, 'created': '2019-01-26 00:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bae399a82f8e6f37ae8e32d7aef85c9b66bed388', 'message': 'WIP: Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that ports and volumes will work on the selected host\n  in the target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 3, 'created': '2019-01-30 00:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5938974c96fb6ed143540b5cb33327d68ca7b80c', 'message': 'WIP: Add prep_snapshot_based_resize_at_dest compute method\n\nTODO: needs unit tests\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that ports and volumes will work on the selected host\n  in the target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 4, 'created': '2019-01-31 18:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1949ef6a100dc80365f0e9326be216912bb0860', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that ports and volumes will work on the selected host\n  in the target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 5, 'created': '2019-02-05 17:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cf10dc967b2f8ab4868335e0bc032a87fe1ba53', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that ports and volumes will work on the selected host\n  in the target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 6, 'created': '2019-02-05 21:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29d8b9b47dca311365dbdd4444dc306ee4781d9c', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that ports and volumes will work on the selected host\n  in the target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 7, 'created': '2019-02-06 00:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f86d2400d213ee95f27380e8a07cde74b6bb4e1', 'message': 'WIP: Add prep_snapshot_based_resize_at_dest compute method\n\nTODO: sort out the volume attachment stuff\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that ports and volumes will work on the selected host\n  in the target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 8, 'created': '2019-02-11 19:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/305a8d9c9b475713300f9f061b328a48bf16731f', 'message': 'WIP: Add prep_snapshot_based_resize_at_dest compute method\n\nTODO: sort out the volume attachment stuff\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that ports and volumes will work on the selected host\n  in the target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 9, 'created': '2019-02-12 18:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98f1148359da36d802a35b2480aa433228905f20', 'message': 'WIP: Add prep_snapshot_based_resize_at_dest compute method\n\nTODO: sort out the volume attachment stuff\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that ports and volumes will work on the selected host\n  in the target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 10, 'created': '2019-02-14 18:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8920b59f02c7766d9d9fbee61fad45a51c4ff15', 'message': 'WIP: Add prep_snapshot_based_resize_at_dest compute method\n\nTODO: sort out the volume attachment stuff\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that ports and volumes will work on the selected host\n  in the target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 11, 'created': '2019-02-18 19:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6481fcdd0fe5c35b13e3c0bc5f941c3879097c6', 'message': 'WIP: Add prep_snapshot_based_resize_at_dest compute method\n\nTODO: sort out the volume attachment stuff\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that ports and volumes will work on the selected host\n  in the target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 12, 'created': '2019-02-19 23:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d51642fd85d20f208f884efad6dc319b023bebe4', 'message': 'WIP: Add prep_snapshot_based_resize_at_dest compute method\n\nTODO: sort out the volume attachment stuff\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that ports and volumes will work on the selected host\n  in the target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 13, 'created': '2019-02-26 22:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4da2c7109e9337676e522f5dcb47ebd776df21e9', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that volumes will work on the selected host in the\n  target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 14, 'created': '2019-03-07 22:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f725daa3eb64891d0c6c61603ea2c96f48b31169', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that volumes will work on the selected host in the\n  target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 15, 'created': '2019-03-14 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4e7d03b857cd61e7faaac6c855816be1830769c', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that volumes will work on the selected host in the\n  target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 16, 'created': '2019-03-15 11:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e04dfd348be320d6e9c1c56285df02b55deabe68', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that volumes will work on the selected host in the\n  target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 17, 'created': '2019-04-01 22:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f4cd116777d2bbaf3209a88682e413cef7d75b2', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that volumes will work on the selected host in the\n  target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 18, 'created': '2019-04-03 21:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40890c0354abe1c5c9c937f4aeb4769cef166281', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that volumes will work on the selected host in the\n  target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 19, 'created': '2019-04-06 01:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55dfe1d8f8bfcd417a341504be1f065ec0bae798', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that volumes will work on the selected host in the\n  target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 20, 'created': '2019-04-08 20:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4d0da88deeb7c73d77d89139121ac0a5a99a8f5', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that volumes will work on the selected host in the\n  target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 21, 'created': '2019-04-11 19:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8a6682544949cce04ce45cb3dfa2facf9164eec', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that volumes will work on the selected host in the\n  target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 22, 'created': '2019-04-17 22:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a432c1d7b10189dbf07d748c4204db4f4445038', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that volumes will work on the selected host in the\n  target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 23, 'created': '2019-04-19 01:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c587b27db2de103d5839d442eedb5e1a5b60098d', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that volumes will work on the selected host in the\n  target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 24, 'created': '2019-04-20 22:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2ae1787732967fe7f7f9b1f74ba608442e77f24', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that volumes will work on the selected host in the\n  target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 25, 'created': '2019-04-26 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45b6d7f5c1746022dad7770076d0de5ccfbcc685', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that volumes will work on the selected host in the\n  target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 26, 'created': '2019-04-30 20:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/531b9251a1d07023dc36a1411e7eb7c0c49e32af', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that volumes will work on the selected host in the\n  target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 27, 'created': '2019-05-01 15:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a67f56ea4949f81ab213b27e275c6fbf4a25e98f', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that volumes will work on the selected host in the\n  target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 28, 'created': '2019-05-02 03:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16b92e57237310b59d1de8496146a935381f2b19', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that volumes will work on the selected host in the\n  target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 29, 'created': '2019-05-09 22:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5e2e7d4d8463098474c6b19b595c5387aba9712', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that volumes will work on the selected host in the\n  target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 30, 'created': '2019-05-13 19:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cff1e39abc6e07529fc6776b85fafa6fda82b3be', 'message': 'WIP: Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will:\n\n* Perform an RT.resize_claim() which will claim things like\n  PCI devices and/or NUMA topology resources which are not\n  otherwise ""claimed"" in the placement service during scheduling.\n  The MigrationContext is created as part of this claim.\n\n* Validate that volumes will work on the selected host in the\n  target cell.\n\nThe conductor task which calls this method is responsible for\ncreating the (inactive) target host port bindings in neutron\nand the volume attachment records, and also for cleaning them\nup in case the new method raises MigrationPreCheckError.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 31, 'created': '2019-05-16 02:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/122e1e705dba04951bd07e2438c34d8156fa54dd', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 32, 'created': '2019-05-28 23:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3cc03111d70dd739585ab572cc13082c4dba009', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 33, 'created': '2019-05-29 21:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45c7d60ae54fd702b702efdc1c1d6499ee757603', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 34, 'created': '2019-06-10 21:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a57790ece35520d4d36a841101958df3a4caafec', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 35, 'created': '2019-06-12 21:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/549e3a9e85c9449171d733a8c9fa99230078d78d', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 36, 'created': '2019-06-18 21:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2dfd19839415db4c728b9fd77f13388c7e936c3', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 37, 'created': '2019-06-24 19:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e407c2a059b591f3c4748b5d68ffcff85065dcee', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 38, 'created': '2019-06-27 16:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc69c2afc0b8b1a9192d690c3fc7a46c58cde517', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 39, 'created': '2019-06-28 00:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86137ba87ac4ffbb3825f73f57b164d7b8ccd545', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 40, 'created': '2019-07-04 01:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc5116d818a5ec2f67a37abe4cadbd468317347d', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 41, 'created': '2019-07-10 01:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23b989d8acbaa12792e9bbc6ea760e3d39555e76', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 42, 'created': '2019-07-10 19:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74a1e0bdc5a1a662e423ab23db1e2f3d9f3f0b66', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 43, 'created': '2019-07-26 23:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5508d4cbe2db0f59ce85f5733c7ca08d03ba1326', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 44, 'created': '2019-08-07 22:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61a147217c9453b2b1680c4ba91636b64ef2a6b7', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 45, 'created': '2019-08-14 21:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b46bafc4169180f1603dd99e747dbf1f875a5ee9', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize which will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the traditional ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 46, 'created': '2019-08-27 19:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a2d9288554ad5777b4d8df6d3e315d5507a55d0', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize. It will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the same-cell ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host. The existing prep_resize method is not used in\ngeneral since for cross-cell-resize conductor handles orchestrating\nthe call to the source compute and reschedules, which are things\nprep_resize does for same-cell resize. We could munge the\nexisting method but I felt this was cleaner to keep them separate.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 47, 'created': '2019-09-04 18:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d36298d66c31ca5bfb5573d0b7fa1fe5d626f2d', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize. It will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the same-cell ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host. The existing prep_resize method is not used in\ngeneral since for cross-cell-resize conductor handles orchestrating\nthe call to the source compute and reschedules, which are things\nprep_resize does for same-cell resize. We could munge the\nexisting method but I felt this was cleaner to keep them separate.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 48, 'created': '2019-09-21 23:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fe479d06c97dd87110455875c9d2e42060b56ee', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize. It will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the same-cell ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host. The existing prep_resize method is not used in\ngeneral since for cross-cell-resize conductor handles orchestrating\nthe call to the source compute and reschedules, which are things\nprep_resize does for same-cell resize. We could munge the\nexisting method but I felt this was cleaner to keep them separate.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 49, 'created': '2019-10-03 21:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bd0f5f6274cdb4b683d4e05d5c7288e46fbc269', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize. It will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the same-cell ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host. The existing prep_resize method is not used in\ngeneral since for cross-cell-resize conductor handles orchestrating\nthe call to the source compute and reschedules, which are things\nprep_resize does for same-cell resize. We could munge the\nexisting method but I felt this was cleaner to keep them separate.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 50, 'created': '2019-10-08 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b9e4cdaacf41542bde5ce94954456ac545ab6ad', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize. It will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the same-cell ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host. The existing prep_resize method is not used in\ngeneral since for cross-cell-resize conductor handles orchestrating\nthe call to the source compute and reschedules, which are things\nprep_resize does for same-cell resize. We could munge the\nexisting method but I felt this was cleaner to keep them separate.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}, {'number': 51, 'created': '2019-10-14 17:25:31.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/service.py', 'nova/conf/rpc.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4cc1798bd430a3f7b411c8c029f8748e3b2a725f', 'message': 'Add prep_snapshot_based_resize_at_dest compute method\n\nThis adds a new method to the compute service which will\nbe synchronously RPC called from (super)conductor when\npreparing for a cross-cell resize. It will perform an\nRT.resize_claim() which will claim things like PCI devices\nand/or NUMA topology resources which are not otherwise ""claimed""\nin the placement service during scheduling. The MigrationContext\nis created in the target cell DB as part of this claim.\n\nNotifications, fault and instance action event creation should\nbe consistent with the same-cell ""prep_resize"" method. One\ndifference is the reverts_task_state decorator is not used here\nsince conductor is responsible for trying alternative hosts and\nit does not make sense for this method to reset the instance\ntask_state to None on failure if conductor is going to try\nanother host. The existing prep_resize method is not used in\ngeneral since for cross-cell-resize conductor handles orchestrating\nthe call to the source compute and reschedules, which are things\nprep_resize does for same-cell resize. We could munge the\nexisting method but I felt this was cleaner to keep them separate.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db\n'}]",51,633293,4cc1798bd430a3f7b411c8c029f8748e3b2a725f,597,21,51,6873,,,0,"Add prep_snapshot_based_resize_at_dest compute method

This adds a new method to the compute service which will
be synchronously RPC called from (super)conductor when
preparing for a cross-cell resize. It will perform an
RT.resize_claim() which will claim things like PCI devices
and/or NUMA topology resources which are not otherwise ""claimed""
in the placement service during scheduling. The MigrationContext
is created in the target cell DB as part of this claim.

Notifications, fault and instance action event creation should
be consistent with the same-cell ""prep_resize"" method. One
difference is the reverts_task_state decorator is not used here
since conductor is responsible for trying alternative hosts and
it does not make sense for this method to reset the instance
task_state to None on failure if conductor is going to try
another host. The existing prep_resize method is not used in
general since for cross-cell-resize conductor handles orchestrating
the call to the source compute and reschedules, which are things
prep_resize does for same-cell resize. We could munge the
existing method but I felt this was cleaner to keep them separate.

Part of blueprint cross-cell-resize

Change-Id: I518ae675b7a67da64a5796e57e87860f0c3ef0db
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/633293/50 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/service.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py']",3,6c9e1856b7b13fd1a93e6407465d9ddd93d54778,bp/cross-cell-resize," * 5.2 - Add prep_snapshot_based_resize_at_dest() def prep_snapshot_based_resize_at_dest( self, ctxt, instance, flavor, nodename, migration, limits, bindings_by_port_id, bdms, destination): """"""Performs pre-cross-cell resize checks on the targeted destination This runs on the destination host in a cross-cell resize operation before the resize is actually started. Performs a resize_claim for resources that are not claimed in placement like PCI devices and NUMA topology. Validates port bindings and volume attachments will work on the target host. This method should take care to rollback any resources it creates in case of failure. :param ctxt: user auth request context :param instance: the instance being resized :param flavor: the flavor being resized to (unchanged for cold migrate) :param nodename: Name of the target compute node :param migration: nova.objects.Migration object for the operation :param limits: nova.objects.SchedulerLimits object of resource limits :param bindings_by_port_id: dict, keyed by port ID, of (inactive) port binding dicts for the destination host :param bdms: BlockDeviceMappingList for the instance where each volume BDM in the list will have an attachment_id representing a ""reserved"" attachment to be connected to the target host :param destination: possible target host for the cross-cell resize :raises: nova.exception.MigrationPreCheckError if the pre-check validation fails for the given host selection :raises: oslo_messaging.exceptions.MessagingTimeout if the pre-check RPC call times out """""" version = '5.2' client = self.router.client(ctxt) if not client.can_send_version(version): raise exception.MigrationPreCheckError(reason=_('Compute too old')) cctxt = client.prepare(server=destination, version=version, call_monitor_timeout=CONF.rpc_response_timeout, timeout=CONF.long_rpc_timeout) return cctxt.call(ctxt, 'prep_snapshot_based_resize_at_dest', instance=instance, flavor=flavor, nodename=nodename, migration=migration, limits=limits, bindings_by_port_id=bindings_by_port_id, bdms=bdms) ",,202,19
openstack%2Fopenstack-ansible-tests~stable%2Fpike~I8f0f1244c8f88f1a91fe8a859137e7d43e2bb5b1,openstack/openstack-ansible-tests,stable/pike,I8f0f1244c8f88f1a91fe8a859137e7d43e2bb5b1,"Revert ""Revert ""Dropping support of 42.3""""",MERGED,2019-10-14 20:04:04.000000000,2019-10-14 23:35:10.000000000,2019-10-14 23:04:20.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-14 20:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/fbf6b92a8b8da61fad2f5a2a0ff3ff68e5850a45', 'message': 'Revert ""Revert ""Dropping support of 42.3""""\n\nThis reverts commit e44620a4b99e1de4f2f07b2c9e1f4bdeca9e4d5a.\n\nAll jobs should be removed now.\n\nChange-Id: I8f0f1244c8f88f1a91fe8a859137e7d43e2bb5b1\n'}, {'number': 2, 'created': '2019-10-14 20:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/05c9893aaca9f7f3f6157f66d56c5df2738a9ea1', 'message': 'WIP: Revert ""Revert ""Dropping support of 42.3""""\n\nWIP: Remove all depends-on before merge!\n\nThis reverts commit e44620a4b99e1de4f2f07b2c9e1f4bdeca9e4d5a.\n\nAll jobs should be removed now.\n\nDepends-On: https://review.opendev.org/688544\nDepends-On: https://review.opendev.org/688499\nDepends-On: https://review.opendev.org/688481\nDepends-On: https://review.opendev.org/688501\nDepends-On: https://review.opendev.org/688504\nDepends-On: https://review.opendev.org/688498\nDepends-On: https://review.opendev.org/688453\nDepends-On: https://review.opendev.org/688509\nDepends-On: https://review.opendev.org/688500\nDepends-On: https://review.opendev.org/688497\nDepends-On: https://review.opendev.org/688463\nDepends-On: https://review.opendev.org/688467\nDepends-On: https://review.opendev.org/688495\nDepends-On: https://review.opendev.org/688512\nDepends-On: https://review.opendev.org/688502\nDepends-On: https://review.opendev.org/688456\nDepends-On: https://review.opendev.org/688493\nDepends-On: https://review.opendev.org/688464\nDepends-On: https://review.opendev.org/688478\nDepends-On: https://review.opendev.org/688491\nDepends-On: https://review.opendev.org/688461\nDepends-On: https://review.opendev.org/688449\nDepends-On: https://review.opendev.org/688452\nDepends-On: https://review.opendev.org/677181\n\nChange-Id: I8f0f1244c8f88f1a91fe8a859137e7d43e2bb5b1\n'}, {'number': 3, 'created': '2019-10-14 20:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/93543fb77f434c8ac8c5a2e91aee19c089f864a6', 'message': 'WIP: Revert ""Revert ""Dropping support of 42.3""""\n\nWIP: Remove all depends-on before merge!\n\nThis reverts commit e44620a4b99e1de4f2f07b2c9e1f4bdeca9e4d5a.\n\nAll jobs should be removed now.\n\nDepends-On: https://review.opendev.org/688499\nDepends-On: https://review.opendev.org/688481\nDepends-On: https://review.opendev.org/688501\nDepends-On: https://review.opendev.org/688504\nDepends-On: https://review.opendev.org/688498\nDepends-On: https://review.opendev.org/688453\nDepends-On: https://review.opendev.org/688509\nDepends-On: https://review.opendev.org/688500\nDepends-On: https://review.opendev.org/688497\nDepends-On: https://review.opendev.org/688463\nDepends-On: https://review.opendev.org/688467\nDepends-On: https://review.opendev.org/688495\nDepends-On: https://review.opendev.org/688512\nDepends-On: https://review.opendev.org/688502\nDepends-On: https://review.opendev.org/688456\nDepends-On: https://review.opendev.org/688493\nDepends-On: https://review.opendev.org/688464\nDepends-On: https://review.opendev.org/688478\nDepends-On: https://review.opendev.org/688491\nDepends-On: https://review.opendev.org/688461\nDepends-On: https://review.opendev.org/688449\nDepends-On: https://review.opendev.org/688452\nDepends-On: https://review.opendev.org/677181\n\nChange-Id: I8f0f1244c8f88f1a91fe8a859137e7d43e2bb5b1\n'}, {'number': 4, 'created': '2019-10-14 20:17:00.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/75c2acbb812f1d6a971a586e8ded5f01c461deb2', 'message': 'Revert ""Revert ""Dropping support of 42.3""""\n\nThis reverts commit e44620a4b99e1de4f2f07b2c9e1f4bdeca9e4d5a.\n\nAll jobs should be removed now.\n\nChange-Id: I8f0f1244c8f88f1a91fe8a859137e7d43e2bb5b1\n'}]",0,688553,75c2acbb812f1d6a971a586e8ded5f01c461deb2,18,6,4,6547,,,0,"Revert ""Revert ""Dropping support of 42.3""""

This reverts commit e44620a4b99e1de4f2f07b2c9e1f4bdeca9e4d5a.

All jobs should be removed now.

Change-Id: I8f0f1244c8f88f1a91fe8a859137e7d43e2bb5b1
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/53/688553/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,fbf6b92a8b8da61fad2f5a2a0ff3ff68e5850a45,opensuse-423,, name: openstack-ansible-functional-opensuse-423 parent: openstack-ansible-functional nodeset: opensuse-423 - job: name: openstack-ansible-functional-opensuse-423-nv parent: openstack-ansible-functional-opensuse-423 voting: false - job:,0,10
openstack%2Fnetworking-ovn~stable%2Ftrain~I3e9d62ffc5eab396e983c0769e53d2d1f35644f6,openstack/networking-ovn,stable/train,I3e9d62ffc5eab396e983c0769e53d2d1f35644f6,Do not lose router logical port upon subnet add on the external net,MERGED,2019-10-10 22:55:34.000000000,2019-10-14 23:28:47.000000000,2019-10-14 23:27:46.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 22:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/482e3f36c9449334aba3151e018bf77da702ad58', 'message': 'Do not lose router logical port upon subnet add on the external net\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnet was added to that network. That was\ncaused by missing explicit delete call in DelLRouterPortCommand.\n\nAlso added functional test to exercise this particular code path:\n  test_router::test_gateway_chassis_with_subnet_changes()\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCo-authored-by: Terry Wilson <twilson@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n(cherry picked from commit 92142f3165806527e33a4544162ad4eb301e8436)\n'}, {'number': 2, 'created': '2019-10-11 10:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6c766a41e9fc291749979c76c32be9873a8413f4', 'message': 'Do not lose router logical port upon subnet add on the external net\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnet was added to that network. That was\ncaused by missing explicit delete call in DelLRouterPortCommand.\n\nAlso added functional test to exercise this particular code path:\n  test_router::test_gateway_chassis_with_subnet_changes()\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCo-authored-by: Terry Wilson <twilson@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n(cherry picked from commit 92142f3165806527e33a4544162ad4eb301e8436)\n'}, {'number': 3, 'created': '2019-10-11 13:53:05.000000000', 'files': ['networking_ovn/tests/functional/test_router.py', 'networking_ovn/ovsdb/commands.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/92fc4dd62f813caea94d2f7635794e600981fc7e', 'message': 'Do not lose router logical port upon subnet add on the external net\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnet was added to that network. That was\ncaused by missing explicit delete call in DelLRouterPortCommand.\n\nAlso added functional test to exercise this particular code path:\n  test_router::test_gateway_chassis_with_subnet_changes()\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCo-authored-by: Terry Wilson <twilson@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n(cherry picked from commit 92142f3165806527e33a4544162ad4eb301e8436)\n'}]",0,688000,92fc4dd62f813caea94d2f7635794e600981fc7e,19,5,3,11952,,,0,"Do not lose router logical port upon subnet add on the external net

Prior to this patch, logical port used by the router to the external
network was lost if subnet was added to that network. That was
caused by missing explicit delete call in DelLRouterPortCommand.

Also added functional test to exercise this particular code path:
  test_router::test_gateway_chassis_with_subnet_changes()

Closes-Bug: #1843485
Co-authored-by: Daniel Alvarez <dalvarez@redhat.com>
Co-authored-by: Terry Wilson <twilson@redhat.com>
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>

Change-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6
(cherry picked from commit 92142f3165806527e33a4544162ad4eb301e8436)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/00/688000/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/functional/test_router.py', 'networking_ovn/ovsdb/commands.py']",2,482e3f36c9449334aba3151e018bf77da702ad58,bug/1843485, lrouter_port.delete(),,87,1
openstack%2Fbifrost~stable%2Fstein~I0184fcde5b686048243845f23c5c28dc62b8c3de,openstack/bifrost,stable/stein,I0184fcde5b686048243845f23c5c28dc62b8c3de,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 20:34:42.000000000,2019-10-14 23:26:53.000000000,2019-10-14 23:25:13.000000000,"[{'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 20:34:42.000000000', 'files': ['zuul.d/legacy-bifrost-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f106fc8f3b1d2178d5792b6453f6cfc485ff147b', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I0184fcde5b686048243845f23c5c28dc62b8c3de\n""}]",0,688557,f106fc8f3b1d2178d5792b6453f6cfc485ff147b,8,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I0184fcde5b686048243845f23c5c28dc62b8c3de
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/57/688557/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/legacy-bifrost-jobs.yaml', 'zuul.d/project.yaml']",2,f106fc8f3b1d2178d5792b6453f6cfc485ff147b,goodbye_42.3,, - bifrost-integration-tinyipa-opensuse-423 - bifrost-integration-dhcp-opensuse-423: voting: false - bifrost-integration-dibipa-debian-opensuse-423: voting: false - bifrost-integration-tinyipa-opensuse-423,0,27
openstack%2Fopenstack-helm-infra~master~I4a8fa4c07fd36583716b5ccfdcb0bcdc008db3e7,openstack/openstack-helm-infra,master,I4a8fa4c07fd36583716b5ccfdcb0bcdc008db3e7,Ensure python scripts are py3 compatible,MERGED,2019-10-09 18:43:12.000000000,2019-10-14 23:19:48.000000000,2019-10-14 23:18:38.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23625}, {'_account_id': 28618}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-10-09 18:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dbae717857c055afa79ec819f6dfa760c1d30c95', 'message': 'Ensure python scripts are py3 compatible\n\nThis patch set is one of many to migrate existing code/script to be\npython-3 compatible as python-2 is sunsetting in January of 2020.\n\nChange-Id: I4a8fa4c07fd36583716b5ccfdcb0bcdc008db3e7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2019-10-09 21:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/acae1d3ddc9a3f1231e151f4a008de85e2409149', 'message': 'Ensure python scripts are py3 compatible\n\nThis patch set is one of many to migrate existing code/script to be\npython-3 compatible as python-2 is sunsetting in January of 2020.\n\nChange-Id: I4a8fa4c07fd36583716b5ccfdcb0bcdc008db3e7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2019-10-10 13:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/adfc2cb215cf591fef2b522666a7b6b7000c7dc0', 'message': 'Ensure python scripts are py3 compatible\n\nThis patch set is one of many to migrate existing code/script to be\npython-3 compatible as python-2 is sunsetting in January of 2020.\n\nChange-Id: I4a8fa4c07fd36583716b5ccfdcb0bcdc008db3e7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2019-10-11 13:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/82868e15ec48dfa04975017c57a24faed494b701', 'message': 'Ensure python scripts are py3 compatible\n\nThis patch set is one of many to migrate existing code/script to be\npython-3 compatible as python-2 is sunsetting in January 2020.\n\nChange-Id: I4a8fa4c07fd36583716b5ccfdcb0bcdc008db3e7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2019-10-11 15:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a47b48da29163108591f506485ca52fd1bc05648', 'message': 'Ensure python scripts are py3 compatible\n\nThis patch set is one of many to migrate existing code/script to be\npython-3 compatible as python-2 is sunsetting in January 2020.\n\nChange-Id: I4a8fa4c07fd36583716b5ccfdcb0bcdc008db3e7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 6, 'created': '2019-10-14 15:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/91d83fe567d1ac756462491dd71e0bcb5eedbfa4', 'message': 'Ensure python scripts are py3 compatible\n\nThis patch set is one of many to migrate existing code/script to be\npython-3 compatible as python-2 is sunsetting in January 2020.\n\nChange-Id: I4a8fa4c07fd36583716b5ccfdcb0bcdc008db3e7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 7, 'created': '2019-10-14 19:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0c1223bcf483795883a65eae1fb99d00511c965e', 'message': 'Ensure python scripts are py3 compatible\n\nThis patch set is one of many to migrate existing code/script to be\npython-3 compatible as python-2 is sunsetting in January 2020.\n\nChange-Id: I4a8fa4c07fd36583716b5ccfdcb0bcdc008db3e7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 8, 'created': '2019-10-14 21:26:02.000000000', 'files': ['tools/gate/selenium/kibanaSelenium.py', 'mariadb/templates/bin/_start.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1b0190765d6a4940fd21f400f00edfd619082abf', 'message': 'Ensure python scripts are py3 compatible\n\nThis patch set is one of many to migrate existing code/script to be\npython-3 compatible as python-2 is sunsetting in January 2020.\n\nChange-Id: I4a8fa4c07fd36583716b5ccfdcb0bcdc008db3e7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",4,687650,1b0190765d6a4940fd21f400f00edfd619082abf,40,8,8,20466,,,0,"Ensure python scripts are py3 compatible

This patch set is one of many to migrate existing code/script to be
python-3 compatible as python-2 is sunsetting in January 2020.

Change-Id: I4a8fa4c07fd36583716b5ccfdcb0bcdc008db3e7
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/50/687650/7 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/templates/bin/_start.py.tpl'],1,dbae717857c055afa79ec819f6dfa760c1d30c95,py2-to-py3," for grastate_key, grastate_value in grastate.items(): for key, value in state_configmap_dict['data'].items(): for key, value in sample_times.items(): for key, value in state_configmap_dict['data'].items():"," for grastate_key, grastate_value in grastate.iteritems(): for key, value in state_configmap_dict['data'].iteritems(): for key, value in sample_times.iteritems(): for key, value in state_configmap_dict['data'].iteritems():",4,4
openstack%2Foctavia~master~Id0bf1c6b1633ffb4143c7628b722434faf433d7d,openstack/octavia,master,Id0bf1c6b1633ffb4143c7628b722434faf433d7d,Use bandit block in tox.ini,MERGED,2019-10-10 18:03:49.000000000,2019-10-14 22:51:51.000000000,2019-10-14 22:50:27.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 18:03:49.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/65905cdb998aa9a74d364b2b46da4304c19beb07', 'message': ""Use bandit block in tox.ini\n\nUse the bandit testenv block in tox.ini instead of inlining\nit. Also changed the call back to '-x tests' since that is\ncorrect syntax, it was just broken in version 1.6.0, which\nis now in the blacklist.\n\nChange-Id: Id0bf1c6b1633ffb4143c7628b722434faf433d7d\n""}]",0,687963,65905cdb998aa9a74d364b2b46da4304c19beb07,14,4,1,1131,,,0,"Use bandit block in tox.ini

Use the bandit testenv block in tox.ini instead of inlining
it. Also changed the call back to '-x tests' since that is
correct syntax, it was just broken in version 1.6.0, which
is now in the blacklist.

Change-Id: Id0bf1c6b1633ffb4143c7628b722434faf433d7d
",git fetch https://review.opendev.org/openstack/octavia refs/changes/63/687963/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,65905cdb998aa9a74d364b2b46da4304c19beb07,bandit, {[testenv:bandit]commands}commands = bandit -r octavia -ll -ii -x tests, bandit -r octavia -ll -ii -x 'octavia/tests/*'commands = bandit -r octavia -ll -ii -x octavia/tests {posargs},3,3
openstack%2Fshade~stable%2Frocky~If9a16d3d76396c5bf1ae19d61780a435c22f057d,openstack/shade,stable/rocky,If9a16d3d76396c5bf1ae19d61780a435c22f057d,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 20:38:11.000000000,2019-10-14 22:30:55.000000000,2019-10-14 22:30:55.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 20:38:11.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/shade/commit/ee02e57c4616309ee20926e0b6a225c683fe2741', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: If9a16d3d76396c5bf1ae19d61780a435c22f057d\n""}]",0,688559,ee02e57c4616309ee20926e0b6a225c683fe2741,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: If9a16d3d76396c5bf1ae19d61780a435c22f057d
",git fetch https://review.opendev.org/openstack/shade refs/changes/59/688559/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ee02e57c4616309ee20926e0b6a225c683fe2741,goodbye_42.3,, - bifrost-integration-tinyipa-opensuse-423: voting: false,0,2
openstack%2Frequirements~master~I5abee6e993b6b6513a8f858781bfa94363fcc162,openstack/requirements,master,I5abee6e993b6b6513a8f858781bfa94363fcc162,Updated from generate-constraints,MERGED,2019-10-13 06:12:41.000000000,2019-10-14 22:07:43.000000000,2019-10-14 22:06:07.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-13 06:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3905c8a521603c6623bcd3966ad8321294f3c85c', 'message': 'Updated from generate-constraints\n\nChange-Id: I5abee6e993b6b6513a8f858781bfa94363fcc162\n'}, {'number': 2, 'created': '2019-10-14 06:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/00eb3d16a15ca9a87f44ef8a8f5b7821101ef9bb', 'message': 'Updated from generate-constraints\n\nChange-Id: I5abee6e993b6b6513a8f858781bfa94363fcc162\n'}, {'number': 3, 'created': '2019-10-14 07:07:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/441c8325512cebae7be04037fbb8ab9b9262bc22', 'message': 'Updated from generate-constraints\n\nChange-Id: I5abee6e993b6b6513a8f858781bfa94363fcc162\n'}]",0,688296,441c8325512cebae7be04037fbb8ab9b9262bc22,11,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: I5abee6e993b6b6513a8f858781bfa94363fcc162
",git fetch https://review.opendev.org/openstack/requirements refs/changes/96/688296/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3905c8a521603c6623bcd3966ad8321294f3c85c,openstack/requirements/constraints/noclob,asn1crypto===1.1.0amqp===2.5.2salt===2019.2.1,asn1crypto===1.0.1amqp===2.5.1salt===2019.2.0,3,3
openstack%2Fdiskimage-builder~master~I2e6b7848070d6452c0563e2a122447627c6e6bf7,openstack/diskimage-builder,master,I2e6b7848070d6452c0563e2a122447627c6e6bf7,centos7; use numeric DIB_RELEASE,MERGED,2019-10-14 03:35:14.000000000,2019-10-14 21:33:33.000000000,2019-10-14 21:31:49.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-14 03:35:14.000000000', 'files': ['diskimage_builder/elements/centos7/root.d/10-centos7-cloud-image', 'diskimage_builder/elements/centos7/environment.d/10-centos7-distro-name.bash'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9f688f53da9d2d82af7bd96cfb965aebd0b840a9', 'message': 'centos7; use numeric DIB_RELEASE\n\nWith the introduction of centos 8 we have constructs like\n\n if [[ $DISTRO =~ (centos|fedora) && $DIB_RELEASE -ge 8 ]]\n\nThis is intended to match the ""centos7"" element (from the =~) but it\nwas missed that this is setting the DIB_RELEASE to ""GenericCloud"".\n\nI think it makes more sense for this to be a numeric release, and\nmakes constructs like above work.  There really isn\'t any other type\nof image to choose here; thus we move it into a new, centos7\nspecific variable.\n\nNote that when the centos 8 images are available, we want to move to a\ngeneric ""centos"" element that will handle both 7 and 8 together (same\nas rhel) based on DIB_RELEASE and deprecate centos7; this works with\nthat environment too.\n\nChange-Id: I2e6b7848070d6452c0563e2a122447627c6e6bf7\n'}]",0,688321,9f688f53da9d2d82af7bd96cfb965aebd0b840a9,15,7,1,7118,,,0,"centos7; use numeric DIB_RELEASE

With the introduction of centos 8 we have constructs like

 if [[ $DISTRO =~ (centos|fedora) && $DIB_RELEASE -ge 8 ]]

This is intended to match the ""centos7"" element (from the =~) but it
was missed that this is setting the DIB_RELEASE to ""GenericCloud"".

I think it makes more sense for this to be a numeric release, and
makes constructs like above work.  There really isn't any other type
of image to choose here; thus we move it into a new, centos7
specific variable.

Note that when the centos 8 images are available, we want to move to a
generic ""centos"" element that will handle both 7 and 8 together (same
as rhel) based on DIB_RELEASE and deprecate centos7; this works with
that environment too.

Change-Id: I2e6b7848070d6452c0563e2a122447627c6e6bf7
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/21/688321/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/centos7/root.d/10-centos7-cloud-image', 'diskimage_builder/elements/centos7/environment.d/10-centos7-distro-name.bash']",2,9f688f53da9d2d82af7bd96cfb965aebd0b840a9,centos8,export DIB_RELEASE=7,export DIB_RELEASE=GenericCloud,3,3
openstack%2Fos-client-config~master~If1fe0e7d8897e56ca485157dcb75bea7b1d77e47,openstack/os-client-config,master,If1fe0e7d8897e56ca485157dcb75bea7b1d77e47,Stop testing python2.7,MERGED,2019-10-04 12:39:21.000000000,2019-10-14 21:13:18.000000000,2019-10-14 21:10:09.000000000,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 12:39:21.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/cee637ad9c8bc1f19d785e658d80d1a9f106981f', 'message': ""Stop testing python2.7\n\nTrain was the last release supporting python2. Let's rip the bandaid off.\n\nChange-Id: If1fe0e7d8897e56ca485157dcb75bea7b1d77e47\n""}]",0,686589,cee637ad9c8bc1f19d785e658d80d1a9f106981f,9,3,1,2,,,0,"Stop testing python2.7

Train was the last release supporting python2. Let's rip the bandaid off.

Change-Id: If1fe0e7d8897e56ca485157dcb75bea7b1d77e47
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/89/686589/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,cee637ad9c8bc1f19d785e658d80d1a9f106981f,,"envlist = py37,pep8basepython = python3","envlist = py37,py27,pep8basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",5,30
openstack%2Fkolla~stable%2Fqueens~Id49f320513674dfd0b7f7072edf4b9d3f18a53d1,openstack/kolla,stable/queens,Id49f320513674dfd0b7f7072edf4b9d3f18a53d1,Bump queens octavia to 2.1.2 (CVE-2019-17134),MERGED,2019-10-14 15:42:10.000000000,2019-10-14 21:12:05.000000000,2019-10-14 21:12:05.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-14 15:42:10.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a36add61a48e664fbcb79c490cdff254f0dfdf96', 'message': 'Bump queens octavia to 2.1.2 (CVE-2019-17134)\n\nChange-Id: Id49f320513674dfd0b7f7072edf4b9d3f18a53d1\n'}]",0,688430,a36add61a48e664fbcb79c490cdff254f0dfdf96,9,3,1,30740,,,0,"Bump queens octavia to 2.1.2 (CVE-2019-17134)

Change-Id: Id49f320513674dfd0b7f7072edf4b9d3f18a53d1
",git fetch https://review.opendev.org/openstack/kolla refs/changes/30/688430/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,a36add61a48e664fbcb79c490cdff254f0dfdf96,," 'octavia-2.1.2.tar.gz')},"," 'octavia-2.1.1.tar.gz')},",1,1
openstack%2Fcinder~master~I9398bb163089c9b6695299203a42423f39272581,openstack/cinder,master,I9398bb163089c9b6695299203a42423f39272581,Pure: Ensure generated volume name does not exceed 63 characters,MERGED,2019-10-02 16:03:45.000000000,2019-10-14 21:08:46.000000000,2019-10-14 20:56:51.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13002}, {'_account_id': 13425}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27781}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-10-02 16:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/53868c4a67c45886adc65734109d578a6ef0b362', 'message': 'Ensure generated volume name does not exceed 63 characters\n\nChange-Id: I9398bb163089c9b6695299203a42423f39272581\n'}, {'number': 2, 'created': '2019-10-02 16:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/618da6b3ce88eeeecf4b36fc16f96b42d86d80a9', 'message': ""Ensure generated volume name does not exceed 63 characters\n\nSome OpenStack deployments create a volume.name, that when linked with\nPure's naming standard, the resulting volume name length exceeds the\n63 character limit for Pure volumes.\n\nThis truncates the left (least unique) section of the volume name,\nexcluding the volume_name_template piece, to ensure the volume\nname length never causes an error on creation.\n\nChange-Id: I9398bb163089c9b6695299203a42423f39272581\n""}, {'number': 3, 'created': '2019-10-02 16:18:54.000000000', 'files': ['cinder/volume/drivers/pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cd6643d79ae6aaa7c6d928650f97101213118f9c', 'message': ""Pure: Ensure generated volume name does not exceed 63 characters\n\nSome OpenStack deployments create a volume.name, that when linked with\nPure's naming standard, the resulting volume name length exceeds the\n63 character limit for Pure volumes.\n\nThis truncates the left (least unique) section of the volume name,\nexcluding the volume_name_template piece, to ensure the volume\nname length never causes an error on creation.\n\nChange-Id: I9398bb163089c9b6695299203a42423f39272581\n""}]",7,686197,cd6643d79ae6aaa7c6d928650f97101213118f9c,61,36,3,13425,,,0,"Pure: Ensure generated volume name does not exceed 63 characters

Some OpenStack deployments create a volume.name, that when linked with
Pure's naming standard, the resulting volume name length exceeds the
63 character limit for Pure volumes.

This truncates the left (least unique) section of the volume name,
excluding the volume_name_template piece, to ensure the volume
name length never causes an error on creation.

Change-Id: I9398bb163089c9b6695299203a42423f39272581
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/686197/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/pure.py'],1,53868c4a67c45886adc65734109d578a6ef0b362,pure_fix_vol_name_length," # Some OpenStack deployments, eg PowerVC, create a volume.name that # when appended with out '-cinder' string will exceed the maximum # volume name length for Pure, so here we ctruncate the true volume # name before the opennstack volume_name_template affected it and # then put back the template format if len(base_name) > 56: actual_name = base_name[7:] base_name = ""volume-"" + actual_name[-52:] ",,9,0
openstack%2Fopenstack-helm-infra~master~Ie42de6713dfb3e03161ac7197f11401af413efa8,openstack/openstack-helm-infra,master,Ie42de6713dfb3e03161ac7197f11401af413efa8,[ceph-osd] get configmap and daemonset names from release,ABANDONED,2019-10-14 20:46:29.000000000,2019-10-14 21:07:30.000000000,,[],"[{'number': 1, 'created': '2019-10-14 20:46:29.000000000', 'files': ['ceph-osd/templates/daemonset-osd.yaml', 'ceph-osd/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/36c33711f510f3d1d9d972b124c099b33f3c9739', 'message': '[ceph-osd] get configmap and daemonset names from release\n\nThis is to append release name to configmap and daemonset names instead\nof static names.\n\nChange-Id: Ie42de6713dfb3e03161ac7197f11401af413efa8\n'}]",0,688562,36c33711f510f3d1d9d972b124c099b33f3c9739,2,0,1,28372,,,0,"[ceph-osd] get configmap and daemonset names from release

This is to append release name to configmap and daemonset names instead
of static names.

Change-Id: Ie42de6713dfb3e03161ac7197f11401af413efa8
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/62/688562/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/daemonset-osd.yaml', 'ceph-osd/values.yaml']",2,36c33711f510f3d1d9d972b124c099b33f3c9739,,,"daemonset: prefix_name: ""osd""",1,3
openstack%2Fkeystone~stable%2Ftrain~I1887d6ec6c9307b64f0fa4c3b02b3fa2ce5e291f,openstack/keystone,stable/train,I1887d6ec6c9307b64f0fa4c3b02b3fa2ce5e291f,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-27 09:11:33.000000000,2019-10-14 21:06:40.000000000,2019-10-14 20:57:13.000000000,"[{'_account_id': 6873}, {'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 09:11:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone/commit/8f58ade5a5e35ebcf4563e5cff2dde64b9a921f8', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I1887d6ec6c9307b64f0fa4c3b02b3fa2ce5e291f\n'}]",0,685262,8f58ade5a5e35ebcf4563e5cff2dde64b9a921f8,10,5,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I1887d6ec6c9307b64f0fa4c3b02b3fa2ce5e291f
",git fetch https://review.opendev.org/openstack/keystone refs/changes/62/685262/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8f58ade5a5e35ebcf4563e5cff2dde64b9a921f8,create-train,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fkeystone~master~I636f420e8a0c274131281af1d5aae931c164d91d,openstack/keystone,master,I636f420e8a0c274131281af1d5aae931c164d91d,Fix sql migrate repo prefix check,MERGED,2019-10-10 03:35:47.000000000,2019-10-14 21:06:36.000000000,2019-10-14 20:56:24.000000000,"[{'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27621}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-10 03:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a1dc2834b0d06f2483e95174d545f3205274217a', 'message': 'Fix sql migrate repo prefix check\n\nWithout this patch, the test_migrate_repos_file_names_have_prefix test\nmay not necessarily check the latest migration in the repo but could be\nchecking a __pycache__ file or a .pyc bytecode file, which would cause\nthe test to pass even if the latest migration did not contain the\nrequired expand/migrate/contract prefix[1]. This patch corrects the\nissue by using the glob module to filter only valid python files to\ncheck.\n\nThis issue was noticed when the test correctly caught an error in the\npy27 unit test job[1] but erroneously let slide the issue in the py3\ntests[2].\n\n[1] https://aca43ed1a01d95dea0ee-dcdb6cbb330bdac08ffee1284f86c919.ssl.cf2.rackcdn.com/687753/2/check/openstack-tox-py27/f602c1f/testr_results.html.gz\n[2] https://openstack.fortnebula.com:13808/v1/AUTH_e8fd161dc34c421a979a9e6421f823e9/zuul_opendev_logs_832/687753/2/check/openstack-tox-py37/8322cff/testr_results.html.gz\n\nChange-Id: I636f420e8a0c274131281af1d5aae931c164d91d\n'}, {'number': 2, 'created': '2019-10-10 04:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4dff56fa1dd2366f79b9d7287ef274609ab324ef', 'message': 'Fix sql migrate repo prefix check\n\nWithout this patch, the test_migrate_repos_file_names_have_prefix test\nmay not necessarily check the latest migration in the repo but could be\nchecking a __pycache__ file or a .pyc bytecode file, which would cause\nthe test to pass even if the latest migration did not contain the\nrequired expand/migrate/contract prefix[1]. This patch corrects the\nissue by using the glob module to filter only valid python files to\ncheck.\n\nThis issue was noticed when the test correctly caught an error in the\npy27 unit test job[1] but erroneously let slide the issue in the py3\ntests[2].\n\n[1] https://aca43ed1a01d95dea0ee-dcdb6cbb330bdac08ffee1284f86c919.ssl.cf2.rackcdn.com/687753/2/check/openstack-tox-py27/f602c1f/testr_results.html.gz\n[2] https://openstack.fortnebula.com:13808/v1/AUTH_e8fd161dc34c421a979a9e6421f823e9/zuul_opendev_logs_832/687753/2/check/openstack-tox-py37/8322cff/testr_results.html.gz\n\nChange-Id: I636f420e8a0c274131281af1d5aae931c164d91d\n'}, {'number': 3, 'created': '2019-10-10 15:09:24.000000000', 'files': ['keystone/tests/unit/test_sql_upgrade.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/1f860f939dcbd90a7a3b6cd88d21066e306dfd98', 'message': 'Fix sql migrate repo prefix check\n\nWithout this patch, the test_migrate_repos_file_names_have_prefix test\nmay not necessarily check the latest migration in the repo but could be\nchecking a __pycache__ file or a .pyc bytecode file, which would cause\nthe test to pass even if the latest migration did not contain the\nrequired expand/migrate/contract prefix[1]. This patch corrects the\nissue by using the glob module to filter only valid python files to\ncheck.\n\nThis issue was noticed when the test correctly caught an error in the\npy27 unit test job[1] but erroneously let slide the issue in the py3\ntests[2].\n\n[1] https://aca43ed1a01d95dea0ee-dcdb6cbb330bdac08ffee1284f86c919.ssl.cf2.rackcdn.com/687753/2/check/openstack-tox-py27/f602c1f/testr_results.html.gz\n[2] https://openstack.fortnebula.com:13808/v1/AUTH_e8fd161dc34c421a979a9e6421f823e9/zuul_opendev_logs_832/687753/2/check/openstack-tox-py37/8322cff/testr_results.html.gz\n\nChange-Id: I636f420e8a0c274131281af1d5aae931c164d91d\n'}]",1,687770,1f860f939dcbd90a7a3b6cd88d21066e306dfd98,18,9,3,8482,,,0,"Fix sql migrate repo prefix check

Without this patch, the test_migrate_repos_file_names_have_prefix test
may not necessarily check the latest migration in the repo but could be
checking a __pycache__ file or a .pyc bytecode file, which would cause
the test to pass even if the latest migration did not contain the
required expand/migrate/contract prefix[1]. This patch corrects the
issue by using the glob module to filter only valid python files to
check.

This issue was noticed when the test correctly caught an error in the
py27 unit test job[1] but erroneously let slide the issue in the py3
tests[2].

[1] https://aca43ed1a01d95dea0ee-dcdb6cbb330bdac08ffee1284f86c919.ssl.cf2.rackcdn.com/687753/2/check/openstack-tox-py27/f602c1f/testr_results.html.gz
[2] https://openstack.fortnebula.com:13808/v1/AUTH_e8fd161dc34c421a979a9e6421f823e9/zuul_opendev_logs_832/687753/2/check/openstack-tox-py37/8322cff/testr_results.html.gz

Change-Id: I636f420e8a0c274131281af1d5aae931c164d91d
",git fetch https://review.opendev.org/openstack/keystone refs/changes/70/687770/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_sql_upgrade.py'],1,a1dc2834b0d06f2483e95174d545f3205274217a,fix-repo-prefix-check,import glob expand_list = glob.glob( self.repos[EXPAND_REPO].repo_path + versions_path + '/*.py') migrate_list = glob.glob( self.repos[DATA_MIGRATION_REPO].repo_path + versions_path + '/*.py') contract_list = glob.glob( self.repos[CONTRACT_REPO].repo_path + versions_path + '/*.py'), expand_list = os.listdir( self.repos[EXPAND_REPO].repo_path + versions_path) migrate_list = os.listdir( self.repos[DATA_MIGRATION_REPO].repo_path + versions_path) contract_list = os.listdir( self.repos[CONTRACT_REPO].repo_path + versions_path),7,6
openstack%2Fcinder~stable%2Fstein~Ib86729488ebfb0aea5d5d4f815a64e00258040e7,openstack/cinder,stable/stein,Ib86729488ebfb0aea5d5d4f815a64e00258040e7,VNX: delete the LUN from VNX backend,MERGED,2019-10-07 19:42:42.000000000,2019-10-14 21:06:25.000000000,2019-10-14 20:56:40.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 18742}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30590}]","[{'number': 1, 'created': '2019-10-07 19:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/42a6e4dfd8c9f4f01de47074d24ce80f6a491193', 'message': ""VNX: delete the LUN from VNX backend\n\nAsync migration is used in the process of creating a volume from a\nsnapshot and an internal temp snapshot is created.\n\nBecause the temp snapshot isn't deleted, the LUN hosting the temp\nsnapshot cannot be deleted from the VNX storage.\n\nFor example, a new volume, V2, is created from snapshot S1 of volume V1.\nAn internal temp snapshot S2 is created from copying S1. V1 now has two\nsnapshots, S1 and S2. Although we delete V1, V2 and S1 from Cinder,\nS2 which is Cinder user-invisible isn't deleted and which causes V1 left\non VNX too.\n\nThe fix makes sure the snapshot S2 is deleted. Then the delay deletion\non V1 can be executed successfully.\n\nChange-Id: Ib86729488ebfb0aea5d5d4f815a64e00258040e7\nCloses-bug: #1794646\n(cherry picked from commit b3a89dc187ae4d71fb1fc27645cb4383209b0ef8)\n""}, {'number': 2, 'created': '2019-10-08 13:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8cf73a786d874a3f50c1781d21d5c064be323833', 'message': ""VNX: delete the LUN from VNX backend\n\nAsync migration is used in the process of creating a volume from a\nsnapshot and an internal temp snapshot is created.\n\nBecause the temp snapshot isn't deleted, the LUN hosting the temp\nsnapshot cannot be deleted from the VNX storage.\n\nFor example, a new volume, V2, is created from snapshot S1 of volume V1.\nAn internal temp snapshot S2 is created from copying S1. V1 now has two\nsnapshots, S1 and S2. Although we delete V1, V2 and S1 from Cinder,\nS2 which is Cinder user-invisible isn't deleted and which causes V1 left\non VNX too.\n\nThe fix makes sure the snapshot S2 is deleted. Then the delay deletion\non V1 can be executed successfully.\n\nChange-Id: Ib86729488ebfb0aea5d5d4f815a64e00258040e7\nCloses-bug: #1794646\n(cherry picked from commit b3a89dc187ae4d71fb1fc27645cb4383209b0ef8)\n""}, {'number': 3, 'created': '2019-10-09 01:14:11.000000000', 'files': ['releasenotes/notes/vnx-fail-delete-lun-due-to-tmp-snapshot-edd3cdd85e28be60.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_cinder.yaml', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a74945b0687c4aa69960777fb301984cd4d2fedd', 'message': ""VNX: delete the LUN from VNX backend\n\nAsync migration is used in the process of creating a volume from a\nsnapshot and an internal temp snapshot is created.\n\nBecause the temp snapshot isn't deleted, the LUN hosting the temp\nsnapshot cannot be deleted from the VNX storage.\n\nFor example, a new volume, V2, is created from snapshot S1 of volume V1.\nAn internal temp snapshot S2 is created from copying S1. V1 now has two\nsnapshots, S1 and S2. Although we delete V1, V2 and S1 from Cinder,\nS2 which is Cinder user-invisible isn't deleted and which causes V1 left\non VNX too.\n\nThe fix makes sure the snapshot S2 is deleted. Then the delay deletion\non V1 can be executed successfully.\n\nChange-Id: Ib86729488ebfb0aea5d5d4f815a64e00258040e7\nCloses-bug: #1794646\n(cherry picked from commit b3a89dc187ae4d71fb1fc27645cb4383209b0ef8)\n""}]",1,687147,a74945b0687c4aa69960777fb301984cd4d2fedd,52,19,3,11904,,,0,"VNX: delete the LUN from VNX backend

Async migration is used in the process of creating a volume from a
snapshot and an internal temp snapshot is created.

Because the temp snapshot isn't deleted, the LUN hosting the temp
snapshot cannot be deleted from the VNX storage.

For example, a new volume, V2, is created from snapshot S1 of volume V1.
An internal temp snapshot S2 is created from copying S1. V1 now has two
snapshots, S1 and S2. Although we delete V1, V2 and S1 from Cinder,
S2 which is Cinder user-invisible isn't deleted and which causes V1 left
on VNX too.

The fix makes sure the snapshot S2 is deleted. Then the delay deletion
on V1 can be executed successfully.

Change-Id: Ib86729488ebfb0aea5d5d4f815a64e00258040e7
Closes-bug: #1794646
(cherry picked from commit b3a89dc187ae4d71fb1fc27645cb4383209b0ef8)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/687147/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/vnx-fail-delete-lun-due-to-tmp-snapshot-edd3cdd85e28be60.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_cinder.yaml', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py']",6,42a6e4dfd8c9f4f01de47074d24ce80f6a491193,bug/1794646-stable/stein, 14.0.0 - Fix bug 1794646: failed to delete LUNs from backend due to the temporary snapshots on them wasn't deleted. VERSION = '14.00.00', VERSION = '13.00.00',59,3
openstack%2Fnova~master~I378998a73046b9b9a33e30d0e06c4721d712da65,openstack/nova,master,I378998a73046b9b9a33e30d0e06c4721d712da65,Leave brackets on Ceph IP addresses for libguestfs,MERGED,2019-04-02 17:26:05.000000000,2019-10-14 21:06:19.000000000,2019-10-14 20:56:13.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29598}]","[{'number': 1, 'created': '2019-04-02 17:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae3d124ab7fa8d9fe7dd0336fcaa42ab391340a5', 'message': ""Leave the brackets on Ceph Monitor IPv6 addresses for libguestfs\n\nAdds the 'strip_brackets' argument for get_mon_addrs method. This is default 'True' to not interfere anywhere this is used with no arguments.\nUse strip_brackets=False when getting the hosts and ports for RBDImage, which is used for libguestfs\n\nChange-Id: I378998a73046b9b9a33e30d0e06c4721d712da65\nCloses-Bug: 1822689\n""}, {'number': 2, 'created': '2019-04-02 21:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee45aa2e3121253e1244167ef427eea2cdc1ccf8', 'message': ""Leave the brackets on Ceph Monitor IPv6 addresses for libguestfs\n\nAdds the 'strip_brackets' argument for get_mon_addrs method.\nThis is default 'True' to not interfere anywhere this is used with no arguments\n\nUse strip_brackets=False when getting the hosts and ports for RBDImage,\nwhich is used for libguestfs\n\nChange-Id: I378998a73046b9b9a33e30d0e06c4721d712da65\nCloses-Bug: 1822689\n""}, {'number': 3, 'created': '2019-04-03 13:08:25.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/virt/libvirt/storage/rbd_utils.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5d29dccaf91c697ffc12a7289ce16cd83e60b07f', 'message': ""Leave brackets on Ceph IP addresses for libguestfs\n\nBrackets are removed from all IPv6 addresses when getting Ceph monitor\naddresses. This is correct for libvirt's XML files but not for\nlibguestfs.\n\nThis adds a 'strip_brackets' argument for get_mon_addrs method. It is\ndefault 'True' to not interfere anywhere this is used with no arguments.\n\nUses strip_brackets=False when getting the hosts and ports for RBDImage,\nwhich is used for libguestfs.\n\nChange-Id: I378998a73046b9b9a33e30d0e06c4721d712da65\nCloses-Bug: 1822689\n""}]",18,649405,5d29dccaf91c697ffc12a7289ce16cd83e60b07f,39,17,3,29598,,,0,"Leave brackets on Ceph IP addresses for libguestfs

Brackets are removed from all IPv6 addresses when getting Ceph monitor
addresses. This is correct for libvirt's XML files but not for
libguestfs.

This adds a 'strip_brackets' argument for get_mon_addrs method. It is
default 'True' to not interfere anywhere this is used with no arguments.

Uses strip_brackets=False when getting the hosts and ports for RBDImage,
which is used for libguestfs.

Change-Id: I378998a73046b9b9a33e30d0e06c4721d712da65
Closes-Bug: 1822689
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/649405/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/storage/rbd_utils.py', 'nova/virt/libvirt/imagebackend.py']",2,ae3d124ab7fa8d9fe7dd0336fcaa42ab391340a5,bug/1822689," hosts, ports = self.driver.get_mon_addrs(strip_brackets=False)"," hosts, ports = self.driver.get_mon_addrs()",5,3
openstack%2Fnetworking-ovn~stable%2Fstein~I3e9d62ffc5eab396e983c0769e53d2d1f35644f6,openstack/networking-ovn,stable/stein,I3e9d62ffc5eab396e983c0769e53d2d1f35644f6,Do not lose router logical port upon subnet add on the external net,MERGED,2019-10-10 22:56:15.000000000,2019-10-14 21:06:15.000000000,2019-10-14 21:03:58.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 22:56:15.000000000', 'files': ['networking_ovn/tests/functional/test_router.py', 'networking_ovn/ovsdb/commands.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f7ee5a5e05f4da2bef07c574f1a72fb9c8ab0b1a', 'message': 'Do not lose router logical port upon subnet add on the external net\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnet was added to that network. That was\ncaused by missing explicit delete call in DelLRouterPortCommand.\n\nAlso added functional test to exercise this particular code path:\n  test_router::test_gateway_chassis_with_subnet_changes()\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCo-authored-by: Terry Wilson <twilson@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n(cherry picked from commit 92142f3165806527e33a4544162ad4eb301e8436)\n'}]",0,688001,f7ee5a5e05f4da2bef07c574f1a72fb9c8ab0b1a,10,4,1,11952,,,0,"Do not lose router logical port upon subnet add on the external net

Prior to this patch, logical port used by the router to the external
network was lost if subnet was added to that network. That was
caused by missing explicit delete call in DelLRouterPortCommand.

Also added functional test to exercise this particular code path:
  test_router::test_gateway_chassis_with_subnet_changes()

Closes-Bug: #1843485
Co-authored-by: Daniel Alvarez <dalvarez@redhat.com>
Co-authored-by: Terry Wilson <twilson@redhat.com>
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>

Change-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6
(cherry picked from commit 92142f3165806527e33a4544162ad4eb301e8436)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/01/688001/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/functional/test_router.py', 'networking_ovn/ovsdb/commands.py']",2,f7ee5a5e05f4da2bef07c574f1a72fb9c8ab0b1a,bug/1843485, lrouter_port.delete(),,87,1
openstack%2Fcinder~master~I63bf975f85dda88ab5e76d8df46ba9a176bb2a3b,openstack/cinder,master,I63bf975f85dda88ab5e76d8df46ba9a176bb2a3b,Fix pylint env for ancient versions of git,MERGED,2019-09-10 15:14:58.000000000,2019-10-14 21:06:08.000000000,2019-10-14 20:56:59.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 28543}, {'_account_id': 28743}, {'_account_id': 28801}, {'_account_id': 28935}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-09-10 15:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dffa2acab70b0594a44d1713f7ba2fdfae0a70f2', 'message': 'Fix pylint env\n\n""tox -e pylint"" seems to just return:\n\nfatal: ambiguous argument \'*.py\': unknown revision\nor path not in the working tree.\n\nBefore this change.\n\nChange-Id: I63bf975f85dda88ab5e76d8df46ba9a176bb2a3b\n'}, {'number': 2, 'created': '2019-09-10 16:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b5a58fc78d07e26829e6350565547533c1404fbf', 'message': 'Fix pylint env for ancient versions of git\n\nOn el7 w/git 1.8.3, ""tox -e pylint"" just returns:\n\nfatal: ambiguous argument \'*.py\': unknown revision\nor path not in the working tree.\n\nBefore this change.\n\nChange-Id: I63bf975f85dda88ab5e76d8df46ba9a176bb2a3b\n'}, {'number': 3, 'created': '2019-09-13 14:01:04.000000000', 'files': ['tools/coding-checks.sh'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ddb42e3a0fb4ce39e30f945756a2bad2b91c4a99', 'message': 'Fix pylint env for ancient versions of git\n\nOn el7 w/git 1.8.3, ""tox -e pylint"" just returns:\n\nfatal: ambiguous argument \'*.py\': unknown revision\nor path not in the working tree.\n\nBefore this change.\n\nChange-Id: I63bf975f85dda88ab5e76d8df46ba9a176bb2a3b\n'}]",1,681286,ddb42e3a0fb4ce39e30f945756a2bad2b91c4a99,77,37,3,4523,,,0,"Fix pylint env for ancient versions of git

On el7 w/git 1.8.3, ""tox -e pylint"" just returns:

fatal: ambiguous argument '*.py': unknown revision
or path not in the working tree.

Before this change.

Change-Id: I63bf975f85dda88ab5e76d8df46ba9a176bb2a3b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/681286/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/coding-checks.sh'],1,dffa2acab70b0594a44d1713f7ba2fdfae0a70f2,pylint," files=$(git diff --name-only --diff-filter=ACMRU $target -- ""*.py"")"," files=$(git diff --name-only --diff-filter=ACMRU $target ""*.py"")",1,1
openstack%2Fopenstack-zuul-jobs~master~Ia2124c268a19fab728d70e88f554a803f7e8f8ff,openstack/openstack-zuul-jobs,master,Ia2124c268a19fab728d70e88f554a803f7e8f8ff,Remove legacy-opensuse-423 nodeset,MERGED,2019-10-14 16:09:10.000000000,2019-10-14 21:05:06.000000000,2019-10-14 21:01:29.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 16:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/539120ce2b981d6aeac15bbf4a8674bd2a5288d3', 'message': 'Remove legacy-opensuse-423 nodeset\n\nThis nodeset is no longer supported.\n\nChange-Id: Ia2124c268a19fab728d70e88f554a803f7e8f8ff\n'}, {'number': 2, 'created': '2019-10-14 16:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/6dca829e1e76c08e2f469ea2cd7c00e13999baf3', 'message': 'Remove legacy-opensuse-423 nodeset\n\nThis nodeset is no longer supported.\n\nDepends-On: https://review.opendev.org/688447\nDepends-On: https://review.opendev.org/677181\nChange-Id: Ia2124c268a19fab728d70e88f554a803f7e8f8ff\n'}, {'number': 3, 'created': '2019-10-14 16:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/2812e699cf8f28cef5d7b7767bd68b7043f7d10f', 'message': 'Remove legacy-opensuse-423 nodeset\n\nThis nodeset is no longer supported.\n\nDepends-On: https://review.opendev.org/688447\nDepends-On: https://review.opendev.org/677181\nDepends-On: https://review.opendev.org/688448\nDepends-On: https://review.opendev.org/688449\nDepends-On: https://review.opendev.org/688452\nChange-Id: Ia2124c268a19fab728d70e88f554a803f7e8f8ff\n'}, {'number': 4, 'created': '2019-10-14 20:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/5614300ae462dbff8c1f0a32d39601cffe554b02', 'message': 'Remove legacy-opensuse-423 nodeset\n\nThis nodeset is no longer supported.\n\nDepends-On: https://review.opendev.org/688553\nChange-Id: Ia2124c268a19fab728d70e88f554a803f7e8f8ff\n'}, {'number': 5, 'created': '2019-10-14 20:17:19.000000000', 'files': ['zuul.d/nodesets.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/71314d8d6ca508b55ee4f9d849ef519d5ca566a0', 'message': 'Remove legacy-opensuse-423 nodeset\n\nThis nodeset is no longer supported.\n\nChange-Id: Ia2124c268a19fab728d70e88f554a803f7e8f8ff\n'}]",0,688441,71314d8d6ca508b55ee4f9d849ef519d5ca566a0,18,3,5,1,,,0,"Remove legacy-opensuse-423 nodeset

This nodeset is no longer supported.

Change-Id: Ia2124c268a19fab728d70e88f554a803f7e8f8ff
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/41/688441/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/nodesets.yaml'],1,539120ce2b981d6aeac15bbf4a8674bd2a5288d3,opensuse-423,," name: legacy-opensuse-423 # Deprecated, use legacy-opensuse-15 instead nodes: - name: primary label: opensuse-423 - nodeset:",0,7
openstack%2Fopenstack-helm-infra~master~I267fa6700558b69d3e646838b933e3289067a621,openstack/openstack-helm-infra,master,I267fa6700558b69d3e646838b933e3289067a621,Fix python script to be py3 compatible,MERGED,2019-09-20 04:05:34.000000000,2019-10-14 21:04:10.000000000,2019-10-14 21:01:03.000000000,"[{'_account_id': 8863}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28618}, {'_account_id': 28849}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-09-20 04:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eccf61ae5381d299684f43ee3443c4deb0d14775', 'message': 'Fix python script to be py3 compatible\n\nIn Python 3, sys.maxint is removed per [0]. This patch set replaces\nsys.maxint with sys.maxsize.\n\n[0] https://docs.python.org/3.1/whatsnew/3.0.html#integers\n\nChange-Id: I267fa6700558b69d3e646838b933e3289067a621\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2019-10-09 15:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6c32ac08d5eb71467aed6dc44b576a48d1071686', 'message': 'Fix python script to be py3 compatible\n\nIn Python 3, sys.maxint is removed per [0]. This patch set replaces\nsys.maxint with sys.maxsize.\n\n[0] https://docs.python.org/3.1/whatsnew/3.0.html#integers\n\nChange-Id: I267fa6700558b69d3e646838b933e3289067a621\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2019-10-14 13:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/df61be5588845cfa6c4fb3f6882c27ad26a7bad8', 'message': 'Fix python script to be py3 compatible\n\nIn Python 3, sys.maxint is removed per [0]. This patch set replaces\nsys.maxint with sys.maxsize.\n\n[0] https://docs.python.org/3.1/whatsnew/3.0.html#integers\n\nChange-Id: I267fa6700558b69d3e646838b933e3289067a621\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2019-10-14 19:04:18.000000000', 'files': ['mariadb/templates/bin/_start.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4a9f9a1c77336fca01e8a38982eb3b0e7dc31b62', 'message': 'Fix python script to be py3 compatible\n\nIn Python 3, sys.maxint is removed per [0]. This patch set replaces\nsys.maxint with sys.maxsize.\n\n[0] https://docs.python.org/3.1/whatsnew/3.0.html#integers\n\nChange-Id: I267fa6700558b69d3e646838b933e3289067a621\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,683280,4a9f9a1c77336fca01e8a38982eb3b0e7dc31b62,35,10,4,20466,,,0,"Fix python script to be py3 compatible

In Python 3, sys.maxint is removed per [0]. This patch set replaces
sys.maxint with sys.maxsize.

[0] https://docs.python.org/3.1/whatsnew/3.0.html#integers

Change-Id: I267fa6700558b69d3e646838b933e3289067a621
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/80/683280/1 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/templates/bin/_start.py.tpl'],1,eccf61ae5381d299684f43ee3443c4deb0d14775,py2-to-py3, lowest = sys.maxsize, lowest = sys.maxint,1,1
openstack%2Fkeystone~stable%2Ftrain~I3238a1f034df97abe9e99c4270883849f6a707d1,openstack/keystone,stable/train,I3238a1f034df97abe9e99c4270883849f6a707d1,Update .gitreview for stable/train,MERGED,2019-09-27 09:11:30.000000000,2019-10-14 21:04:05.000000000,2019-10-14 20:57:10.000000000,"[{'_account_id': 6873}, {'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 09:11:30.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e60f6ac2f6b869e85de59216cd0957d6c161f5e2', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I3238a1f034df97abe9e99c4270883849f6a707d1\n'}]",0,685261,e60f6ac2f6b869e85de59216cd0957d6c161f5e2,10,5,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I3238a1f034df97abe9e99c4270883849f6a707d1
",git fetch https://review.opendev.org/openstack/keystone refs/changes/61/685261/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e60f6ac2f6b869e85de59216cd0957d6c161f5e2,create-train,defaultbranch=stable/train,,1,0
openstack%2Fcinder~master~Ic6196394f17b955b94eb6215d8651b86b59d6edf,openstack/cinder,master,Ic6196394f17b955b94eb6215d8651b86b59d6edf,api-ref: add metadata parameter in the response of create-backup,MERGED,2019-08-14 07:50:55.000000000,2019-10-14 21:04:04.000000000,2019-10-14 20:56:46.000000000,"[{'_account_id': 1736}, {'_account_id': 9732}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 27781}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-08-14 07:50:55.000000000', 'files': ['api-ref/source/v3/ext-backups.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ecb30366a843492a9c75620ceceec1b478e98b1c', 'message': 'api-ref: add metadata parameter in the response of create-backup\n\nThe ""Response Example"" of ""Create a backup"" contains metadata, but\n""Response Parameters"" not, this is to add it.\n\nhttps://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=create-a-backup-detail#id430\n\nChange-Id: Ic6196394f17b955b94eb6215d8651b86b59d6edf\n'}]",0,676366,ecb30366a843492a9c75620ceceec1b478e98b1c,30,24,1,20190,,,0,"api-ref: add metadata parameter in the response of create-backup

The ""Response Example"" of ""Create a backup"" contains metadata, but
""Response Parameters"" not, this is to add it.

https://docs.openstack.org/api-ref/block-storage/v3/index.html?expanded=create-a-backup-detail#id430

Change-Id: Ic6196394f17b955b94eb6215d8651b86b59d6edf
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/676366/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/ext-backups.inc'],1,ecb30366a843492a9c75620ceceec1b478e98b1c,bp/volume-response-schema-validation, - metadata: metadata_backup,,1,0
openstack%2Fcinder~stable%2Fstein~I5ae6e715117d0e89a9d2641602f6b70a0ce94c69,openstack/cinder,stable/stein,I5ae6e715117d0e89a9d2641602f6b70a0ce94c69,Make backup_compression_algorithm case insensitive,MERGED,2019-10-07 19:43:37.000000000,2019-10-14 21:04:04.000000000,2019-10-14 20:56:35.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 23950}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-10-07 19:43:37.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bcf25eb02404a8bf5c7f154f1a36116e2ce08a54', 'message': 'Make backup_compression_algorithm case insensitive\n\nDisaling compression is done by setting the\nbackup_compression_algorithm config option to None. The valid values is\nhas the option of ""none"" but our documentation stated ""None"". This\ncaused an error, but should be allowed.\n\nCloses-bug: #1823852\n\nChange-Id: I5ae6e715117d0e89a9d2641602f6b70a0ce94c69\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 0c1e261c8b73b07e1fd8d5e6d8f03998fec0fc8c)\n'}]",0,687148,bcf25eb02404a8bf5c7f154f1a36116e2ce08a54,22,17,1,11904,,,0,"Make backup_compression_algorithm case insensitive

Disaling compression is done by setting the
backup_compression_algorithm config option to None. The valid values is
has the option of ""none"" but our documentation stated ""None"". This
caused an error, but should be allowed.

Closes-bug: #1823852

Change-Id: I5ae6e715117d0e89a9d2641602f6b70a0ce94c69
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 0c1e261c8b73b07e1fd8d5e6d8f03998fec0fc8c)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/687148/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/backup/chunkeddriver.py']",2,bcf25eb02404a8bf5c7f154f1a36116e2ce08a54,bug/1823852-stable/stein," ignore_case=True,",,10,0
openstack%2Fkeystone~master~Iacb5cf5e2491c75a3e983c0864a40dc205ab820d,openstack/keystone,master,Iacb5cf5e2491c75a3e983c0864a40dc205ab820d,Update master for stable/train,MERGED,2019-09-27 09:11:35.000000000,2019-10-14 21:04:03.000000000,2019-10-14 20:56:19.000000000,"[{'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-09-27 09:11:35.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d435995c4b2dfcc04daff1fbf21b3be9ed4be589', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Iacb5cf5e2491c75a3e983c0864a40dc205ab820d\nSem-Ver: feature\n'}]",0,685264,d435995c4b2dfcc04daff1fbf21b3be9ed4be589,9,4,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Iacb5cf5e2491c75a3e983c0864a40dc205ab820d
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/keystone refs/changes/64/685264/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,d435995c4b2dfcc04daff1fbf21b3be9ed4be589,reno-train, train,,7,0
openstack%2Fnova~master~I9e2be5423cc0821a628db7a68ad52bbd91264acd,openstack/nova,master,I9e2be5423cc0821a628db7a68ad52bbd91264acd,Deprecate [api]auth_strategy and noauth2,MERGED,2019-10-08 18:09:16.000000000,2019-10-14 21:04:02.000000000,2019-10-14 20:56:08.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 17499}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26297}, {'_account_id': 26515}, {'_account_id': 28543}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-08 18:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2920fa5d230c13657db221b7e7047daca1ba4bbf', 'message': ""Deprecate [api]auth_strategy\n\n[api]auth_strategy defaults to `keystone`. The only other choice is\n`noauth2`, which activates noauth paste pipelines, which go through\nNoAuthMiddleware, which is crusty and bogus. It is used in our\nfunctional tests to avoid having to fixture out keystone, but should not\nbe used in real deployments, ever. Deprecate the option for removal,\nwhereupon we'll just hardcode to `keystone`. At that time, we also need\nto move the middleware under the nova.tests package -- or find a way to\nget rid of it entirely by stubbing out keystone if that's relatively\neasy.\n\nChange-Id: I9e2be5423cc0821a628db7a68ad52bbd91264acd\n""}, {'number': 2, 'created': '2019-10-08 20:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ef8e728594cb08c087d64b5b12d09bcd7a9431f', 'message': ""Deprecate [api]auth_strategy and noauth2\n\n[api]auth_strategy defaults to `keystone`. The only other choice is\n`noauth2`, which activates noauth paste pipelines, which go through\nNoAuthMiddleware, which is crusty and bogus. It is used in our\nfunctional tests to avoid having to fixture out keystone, but should not\nbe used in real deployments, ever. Deprecate the option for removal, and\nadd a deprecation warning in the paste pipeline if it is used.\n\nWhen we remove the option, we could just hardcode to `keystone`. At that\ntime, we also need to move the middleware under the nova.tests package\n-- or find a way to get rid of it entirely by instead stubbing out\nkeystone in tests if that's relatively easy.\n\nChange-Id: I9e2be5423cc0821a628db7a68ad52bbd91264acd\n""}, {'number': 3, 'created': '2019-10-08 22:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b472efff62788b0629ef1e828e294b2de3f84743', 'message': ""Deprecate [api]auth_strategy and noauth2\n\n[api]auth_strategy defaults to `keystone`. The only other choice is\n`noauth2`, which activates noauth paste pipelines, which go through\nNoAuthMiddleware, which is crusty and bogus. It is used in our\nfunctional tests to avoid having to fixture out keystone, but should not\nbe used in real deployments, ever. Deprecate the option for removal, and\nadd a deprecation warning in the paste pipeline if it is used.\n\nWhen we remove the option, we could just hardcode to `keystone`. At that\ntime, we also need to move the middleware under the nova.tests package\n-- or find a way to get rid of it entirely by instead stubbing out\nkeystone in tests if that's relatively easy.\n\nChange-Id: I9e2be5423cc0821a628db7a68ad52bbd91264acd\n""}, {'number': 4, 'created': '2019-10-09 20:16:17.000000000', 'files': ['releasenotes/notes/deprecate-api-auth_strategy-noauth2-ed29c499a68b08ce.yaml', 'nova/api/auth.py', 'nova/tests/unit/api/test_auth.py', 'etc/nova/api-paste.ini', 'nova/conf/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/18de63deaab792a490e987663d96b6025309b862', 'message': ""Deprecate [api]auth_strategy and noauth2\n\n[api]auth_strategy defaults to `keystone`. The only other choice is\n`noauth2`, which activates noauth paste pipelines, which go through\nNoAuthMiddleware, which is crusty and bogus. It is used in our\nfunctional tests to avoid having to fixture out keystone, but should not\nbe used in real deployments, ever. Deprecate the option for removal, and\nadd a deprecation warning in the paste pipeline if it is used.\n\nWhen we remove the option, we could just hardcode to `keystone`. At that\ntime, we also need to move the middleware under the nova.tests package\n-- or find a way to get rid of it entirely by instead stubbing out\nkeystone in tests if that's relatively easy.\n\nChange-Id: I9e2be5423cc0821a628db7a68ad52bbd91264acd\n""}]",11,687373,18de63deaab792a490e987663d96b6025309b862,41,16,4,14070,,,0,"Deprecate [api]auth_strategy and noauth2

[api]auth_strategy defaults to `keystone`. The only other choice is
`noauth2`, which activates noauth paste pipelines, which go through
NoAuthMiddleware, which is crusty and bogus. It is used in our
functional tests to avoid having to fixture out keystone, but should not
be used in real deployments, ever. Deprecate the option for removal, and
add a deprecation warning in the paste pipeline if it is used.

When we remove the option, we could just hardcode to `keystone`. At that
time, we also need to move the middleware under the nova.tests package
-- or find a way to get rid of it entirely by instead stubbing out
keystone in tests if that's relatively easy.

Change-Id: I9e2be5423cc0821a628db7a68ad52bbd91264acd
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/687373/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/api.py'],1,2920fa5d230c13657db221b7e7047daca1ba4bbf,kill-noauth2," deprecated_for_removal=True, deprecated_since='21.0.0', deprecated_reason="""""" The only non-default choice, ``noauth2``, is for internal development and testing purposes only and should not be used in deployments. This option and its middleware, NoAuthMiddleware[V2_18], will be removed in a future release. """""","," deprecated_group=""DEFAULT"",",7,1
openstack%2Fcinder~stable%2Fqueens~I328a02d0f26e8c3d41ec18a0487da6fd20b39b04,openstack/cinder,stable/queens,I328a02d0f26e8c3d41ec18a0487da6fd20b39b04,Add context to cloning snapshots in remotefs driver,MERGED,2019-10-11 14:05:19.000000000,2019-10-14 21:01:30.000000000,2019-10-14 20:56:30.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 12369}, {'_account_id': 13915}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30590}]","[{'number': 1, 'created': '2019-10-11 14:05:19.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_vzstorage.py', 'cinder/volume/drivers/vzstorage.py', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/quobyte.py', 'releasenotes/notes/bugfix-1744692-5aebd0c97ae66407.yaml', 'cinder/tests/unit/fake_snapshot.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/772897cad777716e55216f59d0e11ec191b31c80', 'message': 'Add context to cloning snapshots in remotefs driver\n\nAdds context to _create_cloned_volume method in order\nto allow taking a snapshot during cloning. Also saves\nthe temp_snapshot in order to enable Nova to update the\nsnapshot state. Destroys the temp_snapshot after usage.\nThis affects the NFS, WindowsSMBFS, VZStorage and\nQuobyte drivers.\n\nCloses-Bug: #1744692\n\nChange-Id: I328a02d0f26e8c3d41ec18a0487da6fd20b39b04\n(cherry picked from commit 78f2101fc5a84e81132e6c2adc89cfe681018d77)\n(cherry picked from commit 247c6607156da6f4403c4826c7d2e09720c43e8d)\n(cherry picked from commit b886d093d782301829afb42e6476b0f5a4678fba)\n'}]",0,688131,772897cad777716e55216f59d0e11ec191b31c80,23,19,1,21129,,,0,"Add context to cloning snapshots in remotefs driver

Adds context to _create_cloned_volume method in order
to allow taking a snapshot during cloning. Also saves
the temp_snapshot in order to enable Nova to update the
snapshot state. Destroys the temp_snapshot after usage.
This affects the NFS, WindowsSMBFS, VZStorage and
Quobyte drivers.

Closes-Bug: #1744692

Change-Id: I328a02d0f26e8c3d41ec18a0487da6fd20b39b04
(cherry picked from commit 78f2101fc5a84e81132e6c2adc89cfe681018d77)
(cherry picked from commit 247c6607156da6f4403c4826c7d2e09720c43e8d)
(cherry picked from commit b886d093d782301829afb42e6476b0f5a4678fba)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/688131/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_vzstorage.py', 'cinder/volume/drivers/vzstorage.py', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/quobyte.py', 'releasenotes/notes/bugfix-1744692-5aebd0c97ae66407.yaml', 'cinder/tests/unit/fake_snapshot.py', 'cinder/volume/drivers/remotefs.py']",7,772897cad777716e55216f59d0e11ec191b31c80,bug/1744692,"from cinder import objects def _create_cloned_volume(self, volume, src_vref, context): kwargs = { 'volume_id': src_vref.id, 'user_id': context.user_id, 'project_id': context.project_id, 'status': fields.SnapshotStatus.CREATING, 'progress': '0%', 'volume_size': src_vref.size, 'display_name': 'tmp-snap-%s' % src_vref.id, 'display_description': None, 'volume_type_id': src_vref.volume_type_id, 'encryption_key_id': src_vref.encryption_key_id, } temp_snapshot = objects.Snapshot(context=context, **kwargs) temp_snapshot.create() # remove temp snapshot after the cloning is done temp_snapshot.status = fields.SnapshotStatus.DELETING temp_snapshot.context = context.elevated() temp_snapshot.save() temp_snapshot.destroy() snapshot.obj_context, s = db.snapshot_get(snapshot.obj_context, snapshot.id) return self._create_cloned_volume(volume, src_vref, src_vref.obj_context) return self._create_cloned_volume(volume, src_vref, src_vref.obj_context)"," def _create_cloned_volume(self, volume, src_vref): snap_attrs = ['volume_name', 'volume_size', 'name', 'volume_id', 'id', 'volume'] Snapshot = collections.namedtuple('Snapshot', snap_attrs) temp_snapshot = Snapshot(volume_name=volume_name, volume_size=src_vref.size, name='clone-snap-%s' % src_vref.id, volume_id=src_vref.id, id='tmp-snap-%s' % src_vref.id, volume=src_vref) context = snapshot._context context, s = db.snapshot_get(context, snapshot.id) return self._create_cloned_volume(volume, src_vref) return self._create_cloned_volume(volume, src_vref)",83,41
openstack%2Fkeystone~master~Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda,openstack/keystone,master,Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda,Import LDAP job into project,MERGED,2019-10-08 23:11:05.000000000,2019-10-14 20:58:56.000000000,2019-10-14 20:56:21.000000000,"[{'_account_id': 15054}, {'_account_id': 17130}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-10-08 23:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4315f33ec2b5759d594812ceb77f905fac8cabe0', 'message': 'Import LDAP job into project\n\nImport the legacy-tempest-dsvm-ldap-domain-specific-driver job[1] into the\nkeystone repo and convert it to be Zuulv3 native.\n\n[1] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/playbooks/legacy/tempest-dsvm-ldap-domain-specific-driver\n\nChange-Id: Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda\nNeeded-by: [patch not written yet]\n'}, {'number': 2, 'created': '2019-10-09 01:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/82c107bfa675d8f29ed273a9cff5a48669abf244', 'message': 'Import LDAP job into project\n\nImport the legacy-tempest-dsvm-ldap-domain-specific-driver job[1] into the\nkeystone repo and convert it to be Zuulv3 native.\n\n[1] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/playbooks/legacy/tempest-dsvm-ldap-domain-specific-driver\n\nChange-Id: Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda\nNeeded-by: [patch not written yet]\n'}, {'number': 3, 'created': '2019-10-09 03:06:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/52ab0cf579445190483f3a6f0e3aa5db0a9ebdef', 'message': 'Import LDAP job into project\n\nImport the legacy-tempest-dsvm-ldap-domain-specific-driver job[1] into the\nkeystone repo and convert it to be Zuulv3 native.\n\n[1] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/playbooks/legacy/tempest-dsvm-ldap-domain-specific-driver\n\nChange-Id: Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda\nNeeded-by: https://review.opendev.org/687444\n'}]",0,687436,52ab0cf579445190483f3a6f0e3aa5db0a9ebdef,14,5,3,8482,,,0,"Import LDAP job into project

Import the legacy-tempest-dsvm-ldap-domain-specific-driver job[1] into the
keystone repo and convert it to be Zuulv3 native.

[1] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/playbooks/legacy/tempest-dsvm-ldap-domain-specific-driver

Change-Id: Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda
Needed-by: https://review.opendev.org/687444
",git fetch https://review.opendev.org/openstack/keystone refs/changes/36/687436/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4315f33ec2b5759d594812ceb77f905fac8cabe0,ldap-zuulv3,- job: name: keystone-dsvm-ldap-domain-specific-driver parent: devstack-tempest vars: devstack_localrc: TEMPEST_PLUGINS: '/opt/stack/keystone-tempest-plugin' KEYSTONE_CLEAR_LDAP: 'yes' LDAP_PASSWORD: 'nomoresecret' USE_PYTHON3: True devstack_services: ldap: true - keystone-dsvm-ldap-domain-specific-driver:, - legacy-tempest-dsvm-ldap-domain-specific-driver:,13,1
openstack%2Fnova~stable%2Fqueens~I54dff4d5ed513690d0fae65de47a1a9c23aebbd4,openstack/nova,stable/queens,I54dff4d5ed513690d0fae65de47a1a9c23aebbd4,Fix wrong assertions in unit tests,MERGED,2019-08-20 05:14:10.000000000,2019-10-14 20:57:05.000000000,2019-10-14 20:57:05.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-20 05:14:10.000000000', 'files': ['nova/tests/unit/cmd/test_baseproxy.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fb5d237d3b647bced8a866255df8779966971e1a', 'message': 'Fix wrong assertions in unit tests\n\nChange-Id: I54dff4d5ed513690d0fae65de47a1a9c23aebbd4\nCloses-Bug: #1840601\n(cherry picked from commit 8ea5e373381fc4152d2914742ef42a75acbbcc53)\n(cherry picked from commit 88b2206f2d2a306280004c5e66c7911bb7b77f58)\n(cherry picked from commit 331b64a224445ee67426de2f0d508c3ac8561680)\n'}]",0,677390,fb5d237d3b647bced8a866255df8779966971e1a,10,5,1,7634,,,0,"Fix wrong assertions in unit tests

Change-Id: I54dff4d5ed513690d0fae65de47a1a9c23aebbd4
Closes-Bug: #1840601
(cherry picked from commit 8ea5e373381fc4152d2914742ef42a75acbbcc53)
(cherry picked from commit 88b2206f2d2a306280004c5e66c7911bb7b77f58)
(cherry picked from commit 331b64a224445ee67426de2f0d508c3ac8561680)
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/677390/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/cmd/test_baseproxy.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py']",3,fb5d237d3b647bced8a866255df8779966971e1a,bug/1840601," mock_get_attach_port_index.assert_called_once_with(self._session, 'fake-ref') _network_api.update_instance_vnic_index.assert_called_once_with( mock.ANY, self._instance, self._network_values, 1) mock_get_detach_port_index.assert_called_once_with(self._session, 'fake-ref', None) _network_api.update_instance_vnic_index.assert_called_once_with( mock.ANY, self._instance, self._network_values, None) mock_get_attach_port_index.assert_called_once_with(self._session, 'fake-ref') _network_api.update_instance_vnic_index.assert_called_once_with( mock.ANY, self._instance, self._network_values, 1)"," mock_get_attach_port_index(self._session, 'fake-ref') _network_api.update_instance_vnic_index(mock.ANY, self._instance, self._network_values, 1) mock_get_detach_port_index(self._session, 'fake-ref') _network_api.update_instance_vnic_index(mock.ANY, self._instance, self._network_values, None) mock_get_attach_port_index(self._session, 'fake-ref') _network_api.update_instance_vnic_index(mock.ANY, self._instance, self._network_values, 1)",21,16
openstack%2Fcinder~master~Ic22b8acd9b3f9aaea61836b52df39ab10e040fba,openstack/cinder,master,Ic22b8acd9b3f9aaea61836b52df39ab10e040fba,Add reference to LP bug in configuration doc readme,MERGED,2019-10-10 12:58:44.000000000,2019-10-14 20:56:55.000000000,2019-10-14 20:56:55.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 28543}, {'_account_id': 28801}, {'_account_id': 28935}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-10-10 12:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4609d283b1aae8e9912e05765058b782eab2a42b', 'message': 'Add reference to LP bug in configuration doc readme\n\nReference umbrella LP bug in readme for easier tracking of work\nif someone wants to start working on dynamically generated\nconfiguration docs.\n\nChange-Id: Ic22b8acd9b3f9aaea61836b52df39ab10e040fba\n'}, {'number': 2, 'created': '2019-10-10 13:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c0f0879e7a39dee58b9df1f1bc3a8b6874dc11a', 'message': 'Add reference to LP bug in configuration doc readme\n\nReference umbrella LP bug in readme for easier tracking of work\nif someone wants to start working on dynamically generated\nconfiguration docs.\n\nChange-Id: Ic22b8acd9b3f9aaea61836b52df39ab10e040fba\n'}, {'number': 3, 'created': '2019-10-10 13:18:56.000000000', 'files': ['doc/source/configuration/README.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc3dd4a69df41dd8db385c666726522c90840b30', 'message': 'Add reference to LP bug in configuration doc readme\n\nReference umbrella LP bug in readme for easier tracking of work\nif someone wants to start working on dynamically generated\nconfiguration docs.\n\nChange-Id: Ic22b8acd9b3f9aaea61836b52df39ab10e040fba\n'}]",1,687888,cc3dd4a69df41dd8db385c666726522c90840b30,54,32,3,26693,,,0,"Add reference to LP bug in configuration doc readme

Reference umbrella LP bug in readme for easier tracking of work
if someone wants to start working on dynamically generated
configuration docs.

Change-Id: Ic22b8acd9b3f9aaea61836b52df39ab10e040fba
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/687888/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/README.rst'],1,4609d283b1aae8e9912e05765058b782eab2a42b,doc-config-readme,"is not. If you would like to work on this, please use Launchpad Bug `#1847600<https://bugs.launchpad.net/cinder/+bug/1847600>` for tracking purposes. Changes to configuration options for Cinder or its drivers needs to be put under this directory.",is not. Changes to configuration options for Cinder or its drivers needs to be put under this directory.,4,2
openstack%2Fneutron-tempest-plugin~master~I9aee7f2a3108e605c203760a981ac226ecb33ea9,openstack/neutron-tempest-plugin,master,I9aee7f2a3108e605c203760a981ac226ecb33ea9,"Check parameters returned in ""list_network_segment_ranges""",MERGED,2019-10-10 11:51:39.000000000,2019-10-14 20:56:43.000000000,2019-10-14 20:56:43.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-10 11:51:39.000000000', 'files': ['neutron_tempest_plugin/api/admin/test_network_segment_range.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/70f7b3222a9805ac1c58c25572b2e4e62de4d90a', 'message': 'Check parameters returned in ""list_network_segment_ranges""\n\nCheck that the DB registers returned by listing the network segment\nranges are the same as in single register retrieval (show vs list).\n\nChange-Id: I9aee7f2a3108e605c203760a981ac226ecb33ea9\nRelated-Bug: #1828205\n'}]",0,687868,70f7b3222a9805ac1c58c25572b2e4e62de4d90a,31,5,1,16688,,,0,"Check parameters returned in ""list_network_segment_ranges""

Check that the DB registers returned by listing the network segment
ranges are the same as in single register retrieval (show vs list).

Change-Id: I9aee7f2a3108e605c203760a981ac226ecb33ea9
Related-Bug: #1828205
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/68/687868/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/admin/test_network_segment_range.py'],1,70f7b3222a9805ac1c58c25572b2e4e62de4d90a,bug/1828205," def _compare_segment_ranges(self, reference, observed): self.assertEqual(reference['id'], observed['id']) self.assertEqual(reference['name'], observed['name']) self.assertFalse(observed['default']) self.assertFalse(observed['shared']) self.assertEqual(reference['project_id'], observed['project_id']) self.assertEqual(reference['network_type'], observed['network_type']) self.assertEqual(reference['minimum'], observed['minimum']) self.assertEqual(reference['maximum'], observed['maximum']) self._compare_segment_ranges(network_segment_range, observed_range) self.assertEqual(1, len(body['network_segment_ranges'])) observed_range = body['network_segment_ranges'][0] self._compare_segment_ranges(network_segment_range, observed_range)"," self.assertEqual(network_segment_range['id'], observed_range['id']) self.assertEqual(network_segment_range['name'], observed_range['name']) self.assertFalse(observed_range['default']) self.assertFalse(observed_range['shared']) self.assertEqual(network_segment_range['project_id'], observed_range['project_id']) self.assertEqual(network_segment_range['network_type'], observed_range['network_type']) self.assertEqual(network_segment_range['minimum'], observed_range['minimum']) self.assertEqual(network_segment_range['maximum'], observed_range['maximum']) list_range_ids = [r['id'] for r in body['network_segment_ranges']] self.assertIn(network_segment_range['id'], list_range_ids)",14,14
openstack%2Fcinder~stable%2Fpike~I1f9546c39ea05abe524e6f38395754d331b201cd,openstack/cinder,stable/pike,I1f9546c39ea05abe524e6f38395754d331b201cd,Add retry to LVM deactivation,MERGED,2019-10-04 11:46:58.000000000,2019-10-14 20:56:28.000000000,2019-10-14 20:56:28.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-10-04 11:46:58.000000000', 'files': ['cinder/brick/local_dev/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/865667aed42e67787c36ed542868273aace3ba4b', 'message': ""Add retry to LVM deactivation\n\nWe are seeing occassional failures to deactivate logical volumes in\ntempest runs. We retry on the wait for the state change, but we if that\ndoesn't succeed we just give up.\n\nThis adds a retry to the whole deactivation process to see if requesting\nagain has better luck deactivating the volume.\n\nChange-Id: I1f9546c39ea05abe524e6f38395754d331b201cd\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 49f3c57d977e009f715ba21dc7175c931bbb3f70)\n(cherry picked from commit 1e3a08addffd9d38a83f8a498cc7f9f88c7adc21)\n(cherry picked from commit c0f1018f204a242ab025caa1e0e2dd9f3a0ec499)\n""}]",0,686572,865667aed42e67787c36ed542868273aace3ba4b,29,20,1,11904,,,0,"Add retry to LVM deactivation

We are seeing occassional failures to deactivate logical volumes in
tempest runs. We retry on the wait for the state change, but we if that
doesn't succeed we just give up.

This adds a retry to the whole deactivation process to see if requesting
again has better luck deactivating the volume.

Change-Id: I1f9546c39ea05abe524e6f38395754d331b201cd
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 49f3c57d977e009f715ba21dc7175c931bbb3f70)
(cherry picked from commit 1e3a08addffd9d38a83f8a498cc7f9f88c7adc21)
(cherry picked from commit c0f1018f204a242ab025caa1e0e2dd9f3a0ec499)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/686572/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/brick/local_dev/lvm.py'],1,865667aed42e67787c36ed542868273aace3ba4b,lvm_deactivate-stable/rocky-stable/queens-stable/pike," @utils.retry(exception.VolumeNotDeactivated, retries=1, interval=2) LOG.exception('Error deactivating LV, retry may be possible')", LOG.exception('Error deactivating LV'),2,1
openstack%2Fopenstack-ansible-pip_install~stable%2Fpike~I5aa9df5549ed7b17d072641b678cb7a795c1cb80,openstack/openstack-ansible-pip_install,stable/pike,I5aa9df5549ed7b17d072641b678cb7a795c1cb80,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 20:35:15.000000000,2019-10-14 20:50:18.000000000,2019-10-14 20:50:18.000000000,"[{'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 20:35:15.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/d72772b4aefab352eeb7f6f25764059b15ecedfb', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I5aa9df5549ed7b17d072641b678cb7a795c1cb80\n""}]",0,688558,d72772b4aefab352eeb7f6f25764059b15ecedfb,4,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I5aa9df5549ed7b17d072641b678cb7a795c1cb80
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/58/688558/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,d72772b4aefab352eeb7f6f25764059b15ecedfb,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I647497a593acd8628a2b0f439d8b5380ba8705aa,openstack/tripleo-heat-templates,stable/queens,I647497a593acd8628a2b0f439d8b5380ba8705aa,Remove hiera interpolation from ceph-ansible parameters,MERGED,2019-10-14 13:40:59.000000000,2019-10-14 20:38:59.000000000,2019-10-14 20:38:59.000000000,"[{'_account_id': 11491}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-10-14 13:40:59.000000000', 'files': ['docker/services/ceph-ansible/ceph-rgw.yaml', 'docker/services/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83e8936d5e22fb3b22c84c68a385b8bb800d9ca4', 'message': ""Remove hiera interpolation from ceph-ansible parameters\n\nWe can't interpolate hiera parameters when setting values\nfor the ceph-ansible parameters.\n\nCloses-Bug: 1848024\nChange-Id: I647497a593acd8628a2b0f439d8b5380ba8705aa\n(cherry picked from commit 3acf7e4cfd9f2642f1980681559bbecc2b250eab)\n""}]",0,688406,83e8936d5e22fb3b22c84c68a385b8bb800d9ca4,9,4,1,6796,,,0,"Remove hiera interpolation from ceph-ansible parameters

We can't interpolate hiera parameters when setting values
for the ceph-ansible parameters.

Closes-Bug: 1848024
Change-Id: I647497a593acd8628a2b0f439d8b5380ba8705aa
(cherry picked from commit 3acf7e4cfd9f2642f1980681559bbecc2b250eab)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/688406/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/ceph-ansible/ceph-rgw.yaml', 'docker/services/ceph-ansible/ceph-base.yaml']",2,83e8936d5e22fb3b22c84c68a385b8bb800d9ca4,," monitor_address_block: {get_param: [ServiceData, net_cidr_map, {get_param: [ServiceNetMap, CephMonNetwork]}]}"," monitor_address_block: get_param: - ServiceData - net_cidr_map - str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, CephMonNetwork]}",2,18
openstack%2Fopenstack-helm-infra~master~I0a4d5735a1a0ff13c317ffd95688973cc1cc3dfd,openstack/openstack-helm-infra,master,I0a4d5735a1a0ff13c317ffd95688973cc1cc3dfd,Fix indentation,MERGED,2019-09-03 16:47:36.000000000,2019-10-14 20:33:27.000000000,2019-10-14 20:26:08.000000000,"[{'_account_id': 8898}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28543}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-09-03 16:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/87504cc4f3755e0c6b68937d34fcb48163f1a53c', 'message': 'Fix indentation\n\nThe network policy helm toolkit function currently produces an\nincorrectly indented policyTypes in the network policy manifest.\nThis patch set redresses that and also removes some additional\nblank lines in the manifest.\n\nChange-Id: I0a4d5735a1a0ff13c317ffd95688973cc1cc3dfd\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2019-09-04 02:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e827abc5eb0202d22951f2a611b11454b29b2a6d', 'message': 'Fix indentation\n\nThe network policy helm toolkit function currently produces an\nincorrectly indented policyTypes in the network policy manifest.\nThis patch set redresses that and also removes some additional\nblank lines in the manifest.\n\nChange-Id: I0a4d5735a1a0ff13c317ffd95688973cc1cc3dfd\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2019-09-06 21:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9834a2706016f058e3c76a2f4addaf99d1ef0e57', 'message': 'Fix indentation\n\nThe network policy helm toolkit function currently produces an\nincorrectly indented policyTypes in the network policy manifest.\nThis patch set redresses that and also removes some additional\nblank lines in the manifest.\n\nChange-Id: I0a4d5735a1a0ff13c317ffd95688973cc1cc3dfd\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2019-09-24 03:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2d6f88a11fa76537c530700149c4c4952f216c2b', 'message': 'Fix indentation\n\nThe network policy helm toolkit function currently produces an\nincorrectly indented policyTypes in the network policy manifest.\nThis patch set redresses that and also removes some additional\nblank lines in the manifest.\n\nChange-Id: I0a4d5735a1a0ff13c317ffd95688973cc1cc3dfd\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2019-10-14 16:26:10.000000000', 'files': ['helm-toolkit/templates/manifests/_network_policy.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6e4785d1892311599f48adc9aabf7a12e0da3118', 'message': 'Fix indentation\n\nThe network policy helm toolkit function currently produces an\nincorrectly indented policyTypes in the network policy manifest.\nThis patch set redresses that and also removes some additional\nblank lines in the manifest.\n\nChange-Id: I0a4d5735a1a0ff13c317ffd95688973cc1cc3dfd\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,679824,6e4785d1892311599f48adc9aabf7a12e0da3118,33,10,5,20466,,,0,"Fix indentation

The network policy helm toolkit function currently produces an
incorrectly indented policyTypes in the network policy manifest.
This patch set redresses that and also removes some additional
blank lines in the manifest.

Change-Id: I0a4d5735a1a0ff13c317ffd95688973cc1cc3dfd
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/24/679824/2 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/manifests/_network_policy.tpl'],1,87504cc4f3755e0c6b68937d34fcb48163f1a53c,fix/netpol-indent,{{- $is_egress := false -}} - Egress{{- $is_ingress := false -}}{{- $is_ingress = true -}} - Ingress,{{ $is_egress := false }} - Egress{{ $is_ingress := false }}{{ $is_ingress = true }} - Ingress,5,5
openstack%2Fbifrost~stable%2Focata~I01feece468b2df904b7e1d0c04e36fb7240e7f0d,openstack/bifrost,stable/ocata,I01feece468b2df904b7e1d0c04e36fb7240e7f0d,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 16:42:41.000000000,2019-10-14 20:32:02.000000000,2019-10-14 20:32:02.000000000,"[{'_account_id': 4146}, {'_account_id': 6593}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 16:42:41.000000000', 'files': ['zuul.d/legacy-bifrost-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9dabc8c00dac83778bb07537ec96ae7db9bb7986', 'message': 'Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is going to be EOL on June 2019, so it is time\nto remove jobs.\n\nDo not add new jobs (as in master) since this is a stable branch.\n\nChange-Id: I01feece468b2df904b7e1d0c04e36fb7240e7f0d\n(cherry picked from commit 09c7bd99b6ea948393979d5767639042eda88d46)\n(cherry picked from commit 7527b33c35bf4ef6683f3582c2200967d2339050)\n(cherry picked from commit 590e7305568b06dd0ecf95c85e2e123ab41159d9)\n'}]",0,688452,9dabc8c00dac83778bb07537ec96ae7db9bb7986,5,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is going to be EOL on June 2019, so it is time
to remove jobs.

Do not add new jobs (as in master) since this is a stable branch.

Change-Id: I01feece468b2df904b7e1d0c04e36fb7240e7f0d
(cherry picked from commit 09c7bd99b6ea948393979d5767639042eda88d46)
(cherry picked from commit 7527b33c35bf4ef6683f3582c2200967d2339050)
(cherry picked from commit 590e7305568b06dd0ecf95c85e2e123ab41159d9)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/52/688452/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/legacy-bifrost-jobs.yaml', 'zuul.d/project.yaml']",2,9dabc8c00dac83778bb07537ec96ae7db9bb7986,goodbye_42.3,, - bifrost-integration-dhcp-opensuse-423: voting: false - bifrost-integration-dibipa-debian-opensuse-423: voting: false,0,20
openstack%2Fbifrost~stable%2Fpike~I01feece468b2df904b7e1d0c04e36fb7240e7f0d,openstack/bifrost,stable/pike,I01feece468b2df904b7e1d0c04e36fb7240e7f0d,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 16:40:40.000000000,2019-10-14 20:31:39.000000000,2019-10-14 20:31:39.000000000,"[{'_account_id': 4146}, {'_account_id': 6593}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 16:40:40.000000000', 'files': ['zuul.d/legacy-bifrost-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/74080721b22a7fa767b6f9600ed773086530a7da', 'message': 'Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is going to be EOL on June 2019, so it is time\nto remove jobs.\n\nDo not add new jobs (as in master) since this is a stable branch.\n\nChange-Id: I01feece468b2df904b7e1d0c04e36fb7240e7f0d\n(cherry picked from commit 09c7bd99b6ea948393979d5767639042eda88d46)\n(cherry picked from commit 7527b33c35bf4ef6683f3582c2200967d2339050)\n(cherry picked from commit 590e7305568b06dd0ecf95c85e2e123ab41159d9)\n'}]",0,688449,74080721b22a7fa767b6f9600ed773086530a7da,6,4,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is going to be EOL on June 2019, so it is time
to remove jobs.

Do not add new jobs (as in master) since this is a stable branch.

Change-Id: I01feece468b2df904b7e1d0c04e36fb7240e7f0d
(cherry picked from commit 09c7bd99b6ea948393979d5767639042eda88d46)
(cherry picked from commit 7527b33c35bf4ef6683f3582c2200967d2339050)
(cherry picked from commit 590e7305568b06dd0ecf95c85e2e123ab41159d9)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/49/688449/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/legacy-bifrost-jobs.yaml', 'zuul.d/project.yaml']",2,74080721b22a7fa767b6f9600ed773086530a7da,goodbye_42.3,, - bifrost-integration-tinyipa-opensuse-423 - bifrost-integration-dhcp-opensuse-423: voting: false - bifrost-integration-dibipa-debian-opensuse-423: voting: false - bifrost-integration-tinyipa-opensuse-423,0,21
openstack%2Fopenstack-ansible-os_glance~stable%2Fpike~Ida90363b531d1ae61a6322c11495db7bb9335650,openstack/openstack-ansible-os_glance,stable/pike,Ida90363b531d1ae61a6322c11495db7bb9335650,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 16:57:22.000000000,2019-10-14 20:27:48.000000000,2019-10-14 20:27:48.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 16:57:22.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/cf5c79a760e711e7fd47ed960b2577e2104cf768', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: Ida90363b531d1ae61a6322c11495db7bb9335650\n""}]",0,688461,cf5c79a760e711e7fd47ed960b2577e2104cf768,5,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: Ida90363b531d1ae61a6322c11495db7bb9335650
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/61/688461/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,cf5c79a760e711e7fd47ed960b2577e2104cf768,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-galera_client~stable%2Fpike~I50aa34af784b8e3732da3b621545793e0efd0eec,openstack/openstack-ansible-galera_client,stable/pike,I50aa34af784b8e3732da3b621545793e0efd0eec,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:13:26.000000000,2019-10-14 20:27:26.000000000,2019-10-14 20:27:26.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:13:26.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/3674d03d97b5cf65fa07b0325bc06397953b3585', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I50aa34af784b8e3732da3b621545793e0efd0eec\n""}]",0,688491,3674d03d97b5cf65fa07b0325bc06397953b3585,5,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I50aa34af784b8e3732da3b621545793e0efd0eec
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/91/688491/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,3674d03d97b5cf65fa07b0325bc06397953b3585,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Fpike~Ic00541f833f86d23ce87660a59127311b90a9483,openstack/openstack-ansible-os_gnocchi,stable/pike,Ic00541f833f86d23ce87660a59127311b90a9483,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:06:49.000000000,2019-10-14 20:27:11.000000000,2019-10-14 20:27:11.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:06:49.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/3ce8acdd1637992c8c9abdd82f05c2069eea04c4', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: Ic00541f833f86d23ce87660a59127311b90a9483\n""}]",0,688478,3ce8acdd1637992c8c9abdd82f05c2069eea04c4,5,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: Ic00541f833f86d23ce87660a59127311b90a9483
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/78/688478/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,3ce8acdd1637992c8c9abdd82f05c2069eea04c4,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-repo_build~stable%2Fqueens~I9d25a1764b64c0f86ce3de819a004b795d9d28b4,openstack/openstack-ansible-repo_build,stable/queens,I9d25a1764b64c0f86ce3de819a004b795d9d28b4,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 16:59:12.000000000,2019-10-14 20:26:56.000000000,2019-10-14 20:26:56.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 16:59:12.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/89a16a2c5dc6c053b6b376d5f1cc1d596f32b43d', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I9d25a1764b64c0f86ce3de819a004b795d9d28b4\n""}]",0,688464,89a16a2c5dc6c053b6b376d5f1cc1d596f32b43d,5,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I9d25a1764b64c0f86ce3de819a004b795d9d28b4
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/64/688464/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,89a16a2c5dc6c053b6b376d5f1cc1d596f32b43d,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fpike~I47b32bf7e2588523e42fc484c607cc100a073612,openstack/openstack-ansible-rabbitmq_server,stable/pike,I47b32bf7e2588523e42fc484c607cc100a073612,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:14:02.000000000,2019-10-14 20:26:40.000000000,2019-10-14 20:26:40.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:14:02.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/71f737efc55c7589ec47ba3520539fe0fd0be1b9', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I47b32bf7e2588523e42fc484c607cc100a073612\n""}]",0,688493,71f737efc55c7589ec47ba3520539fe0fd0be1b9,5,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I47b32bf7e2588523e42fc484c607cc100a073612
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/93/688493/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,71f737efc55c7589ec47ba3520539fe0fd0be1b9,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fpike~I91b403c1b60d891ab832316925f232b4a9f7d77b,openstack/openstack-ansible-openstack_hosts,stable/pike,I91b403c1b60d891ab832316925f232b4a9f7d77b,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 16:52:51.000000000,2019-10-14 20:26:24.000000000,2019-10-14 20:26:24.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 16:52:51.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/0168d5b607cb5ae34684b0835432a6f51d43b88e', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I91b403c1b60d891ab832316925f232b4a9f7d77b\n""}]",0,688456,0168d5b607cb5ae34684b0835432a6f51d43b88e,6,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I91b403c1b60d891ab832316925f232b4a9f7d77b
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/56/688456/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,0168d5b607cb5ae34684b0835432a6f51d43b88e,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-os_horizon~stable%2Fpike~I529f9773cc2707065080d91fc928946402619cb7,openstack/openstack-ansible-os_horizon,stable/pike,I529f9773cc2707065080d91fc928946402619cb7,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:18:13.000000000,2019-10-14 20:26:10.000000000,2019-10-14 20:26:10.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:18:13.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/7248c8acdf453e0393b730817660479c0cc180f1', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I529f9773cc2707065080d91fc928946402619cb7\n""}]",0,688502,7248c8acdf453e0393b730817660479c0cc180f1,5,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I529f9773cc2707065080d91fc928946402619cb7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/02/688502/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,7248c8acdf453e0393b730817660479c0cc180f1,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-repo_server~stable%2Fpike~Ib32d5869147ec2142f4b7d62bc6fea3f4c756f54,openstack/openstack-ansible-repo_server,stable/pike,Ib32d5869147ec2142f4b7d62bc6fea3f4c756f54,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:22:33.000000000,2019-10-14 20:25:55.000000000,2019-10-14 20:25:55.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:22:33.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/e0996d29ddef9537c46616ab3053e3502207c030', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: Ib32d5869147ec2142f4b7d62bc6fea3f4c756f54\n""}]",0,688512,e0996d29ddef9537c46616ab3053e3502207c030,5,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: Ib32d5869147ec2142f4b7d62bc6fea3f4c756f54
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/12/688512/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,e0996d29ddef9537c46616ab3053e3502207c030,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-os_heat~stable%2Fpike~Ifc8816aec7cad8d5ef180c1e3c6d85224d21309b,openstack/openstack-ansible-os_heat,stable/pike,Ifc8816aec7cad8d5ef180c1e3c6d85224d21309b,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:15:46.000000000,2019-10-14 20:25:38.000000000,2019-10-14 20:25:38.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:15:46.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/e0b2623245d2d935fc8d2d7a8c901a5eff3d32c3', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: Ifc8816aec7cad8d5ef180c1e3c6d85224d21309b\n""}]",0,688495,e0b2623245d2d935fc8d2d7a8c901a5eff3d32c3,5,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: Ifc8816aec7cad8d5ef180c1e3c6d85224d21309b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/95/688495/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,e0b2623245d2d935fc8d2d7a8c901a5eff3d32c3,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-os_sahara~stable%2Fpike~Iabf828e450ca4cd01f878cb1dd9fdffe44ea0545,openstack/openstack-ansible-os_sahara,stable/pike,Iabf828e450ca4cd01f878cb1dd9fdffe44ea0545,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:01:40.000000000,2019-10-14 20:25:21.000000000,2019-10-14 20:25:21.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:01:40.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/cc7849bd0ecfee4a8907f71a91313c66427a3ce3', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: Iabf828e450ca4cd01f878cb1dd9fdffe44ea0545\n""}]",0,688467,cc7849bd0ecfee4a8907f71a91313c66427a3ce3,5,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: Iabf828e450ca4cd01f878cb1dd9fdffe44ea0545
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/67/688467/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,cc7849bd0ecfee4a8907f71a91313c66427a3ce3,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-repo_build~stable%2Fpike~Iee678185295a9224063b367e2e399421d1d47b84,openstack/openstack-ansible-repo_build,stable/pike,Iee678185295a9224063b367e2e399421d1d47b84,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 16:58:41.000000000,2019-10-14 20:25:08.000000000,2019-10-14 20:25:08.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 16:58:41.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/857f2eb12a0bc35c9e5c1a513965018d806e5c96', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: Iee678185295a9224063b367e2e399421d1d47b84\n""}]",0,688463,857f2eb12a0bc35c9e5c1a513965018d806e5c96,6,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: Iee678185295a9224063b367e2e399421d1d47b84
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/63/688463/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,857f2eb12a0bc35c9e5c1a513965018d806e5c96,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-os_tacker~stable%2Fqueens~I5d3a4eab258c90ee7f7ebeb5261e4e25e68b91ee,openstack/openstack-ansible-os_tacker,stable/queens,I5d3a4eab258c90ee7f7ebeb5261e4e25e68b91ee,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:16:22.000000000,2019-10-14 20:24:08.000000000,2019-10-14 20:24:08.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:16:22.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/f964ebc09af89b44a74802fa9b96ce286dccac38', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I5d3a4eab258c90ee7f7ebeb5261e4e25e68b91ee\n""}]",0,688497,f964ebc09af89b44a74802fa9b96ce286dccac38,5,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I5d3a4eab258c90ee7f7ebeb5261e4e25e68b91ee
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/97/688497/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f964ebc09af89b44a74802fa9b96ce286dccac38,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-os_designate~stable%2Fpike~I8b04bf2fff847df0335f44d08a12589f7c26c4d5,openstack/openstack-ansible-os_designate,stable/pike,I8b04bf2fff847df0335f44d08a12589f7c26c4d5,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:17:38.000000000,2019-10-14 20:23:52.000000000,2019-10-14 20:23:52.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:17:38.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/5276faa18427171fc1e6530acb1e0a8ab0f8bed1', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I8b04bf2fff847df0335f44d08a12589f7c26c4d5\n""}]",0,688500,5276faa18427171fc1e6530acb1e0a8ab0f8bed1,5,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I8b04bf2fff847df0335f44d08a12589f7c26c4d5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/00/688500/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,5276faa18427171fc1e6530acb1e0a8ab0f8bed1,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-os_cinder~stable%2Fpike~I4c08e1336441dc2af6feb86c6c25149635402222,openstack/openstack-ansible-os_cinder,stable/pike,I4c08e1336441dc2af6feb86c6c25149635402222,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:22:01.000000000,2019-10-14 20:23:38.000000000,2019-10-14 20:23:38.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:22:01.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/b8c07ccbe929adb4da6125a32a0523c52f70c90b', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I4c08e1336441dc2af6feb86c6c25149635402222\n""}]",0,688509,b8c07ccbe929adb4da6125a32a0523c52f70c90b,5,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I4c08e1336441dc2af6feb86c6c25149635402222
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/09/688509/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,b8c07ccbe929adb4da6125a32a0523c52f70c90b,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-os_keystone~stable%2Fpike~Id25957dac4efaa38f44012558c82e9c3dd467047,openstack/openstack-ansible-os_keystone,stable/pike,Id25957dac4efaa38f44012558c82e9c3dd467047,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 16:48:23.000000000,2019-10-14 20:23:16.000000000,2019-10-14 20:23:16.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 16:48:23.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/fb078647cb81433f8136281d5d83ce953e8fa175', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: Id25957dac4efaa38f44012558c82e9c3dd467047\n""}]",0,688453,fb078647cb81433f8136281d5d83ce953e8fa175,6,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: Id25957dac4efaa38f44012558c82e9c3dd467047
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/53/688453/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,fb078647cb81433f8136281d5d83ce953e8fa175,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-os_nova~stable%2Fpike~I0010186a5221ae1ad12efb3987325bf4f03361cb,openstack/openstack-ansible-os_nova,stable/pike,I0010186a5221ae1ad12efb3987325bf4f03361cb,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:17:01.000000000,2019-10-14 20:23:03.000000000,2019-10-14 20:23:03.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:17:01.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/8904b23a051d24cd4ef6ed7b5a33efe42ba3186b', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I0010186a5221ae1ad12efb3987325bf4f03361cb\n""}]",0,688498,8904b23a051d24cd4ef6ed7b5a33efe42ba3186b,5,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I0010186a5221ae1ad12efb3987325bf4f03361cb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/98/688498/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8904b23a051d24cd4ef6ed7b5a33efe42ba3186b,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-os_tempest~stable%2Fpike~Ia407bca2cad722fc8ce235ac40f50efc0aa2535d,openstack/openstack-ansible-os_tempest,stable/pike,Ia407bca2cad722fc8ce235ac40f50efc0aa2535d,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:19:44.000000000,2019-10-14 20:22:45.000000000,2019-10-14 20:22:45.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:19:44.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/7e7626f152bc8c6bd5fcc71d0fa4e5fd64dfe516', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: Ia407bca2cad722fc8ce235ac40f50efc0aa2535d\n""}]",0,688504,7e7626f152bc8c6bd5fcc71d0fa4e5fd64dfe516,5,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: Ia407bca2cad722fc8ce235ac40f50efc0aa2535d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/04/688504/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,7e7626f152bc8c6bd5fcc71d0fa4e5fd64dfe516,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-os_designate~stable%2Fqueens~Ic2f4fd6abd2b75c44d3e6a02c065ba047e46c3fb,openstack/openstack-ansible-os_designate,stable/queens,Ic2f4fd6abd2b75c44d3e6a02c065ba047e46c3fb,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:17:50.000000000,2019-10-14 20:22:25.000000000,2019-10-14 20:22:25.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:17:50.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/ba892fe7ce83feab1f4e433f25c40ec31807f236', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: Ic2f4fd6abd2b75c44d3e6a02c065ba047e46c3fb\n""}]",0,688501,ba892fe7ce83feab1f4e433f25c40ec31807f236,5,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: Ic2f4fd6abd2b75c44d3e6a02c065ba047e46c3fb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/01/688501/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ba892fe7ce83feab1f4e433f25c40ec31807f236,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-os_neutron~stable%2Fpike~I640e707944fa3e543f3275942340ca590aeb57f7,openstack/openstack-ansible-os_neutron,stable/pike,I640e707944fa3e543f3275942340ca590aeb57f7,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:09:53.000000000,2019-10-14 20:22:03.000000000,2019-10-14 20:22:03.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:09:53.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ee662941d5db670f358b4e09e7df731d799e6884', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I640e707944fa3e543f3275942340ca590aeb57f7\n""}]",0,688481,ee662941d5db670f358b4e09e7df731d799e6884,5,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I640e707944fa3e543f3275942340ca590aeb57f7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/81/688481/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ee662941d5db670f358b4e09e7df731d799e6884,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fkolla~master~I5fdbed24a588f72247f1cc1a384726b556ee6de0,openstack/kolla,master,I5fdbed24a588f72247f1cc1a384726b556ee6de0,setup.cfg: Cleanup,MERGED,2019-10-12 16:48:27.000000000,2019-10-14 20:19:21.000000000,2019-10-14 20:17:07.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-12 16:48:27.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/kolla/commit/749df3ced3fe9831dda5061492992b67f302379d', 'message': ""setup.cfg: Cleanup\n\n- pbr hasn't need the hook configuration since forever [1]\n\n[1] https://github.com/openstack/pbr/commit/c84876dc0f559a66fec19b2f81f5717204b253e2\n\nChange-Id: I5fdbed24a588f72247f1cc1a384726b556ee6de0\n""}]",0,688274,749df3ced3fe9831dda5061492992b67f302379d,19,6,1,22165,,,0,"setup.cfg: Cleanup

- pbr hasn't need the hook configuration since forever [1]

[1] https://github.com/openstack/pbr/commit/c84876dc0f559a66fec19b2f81f5717204b253e2

Change-Id: I5fdbed24a588f72247f1cc1a384726b556ee6de0
",git fetch https://review.opendev.org/openstack/kolla refs/changes/74/688274/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,749df3ced3fe9831dda5061492992b67f302379d,,,[global] setup-hooks = pbr.hooks.setup_hook [pbr] ,0,7
openstack%2Fopenstack-ansible-os_nova~stable%2Fqueens~I45eaa635ee94167d049b9af76f6706e8b7bb9e7d,openstack/openstack-ansible-os_nova,stable/queens,I45eaa635ee94167d049b9af76f6706e8b7bb9e7d,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:17:12.000000000,2019-10-14 20:14:59.000000000,2019-10-14 20:14:59.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:17:12.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/8e066a203fd99979c9ab262a8485d92b13d98670', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I45eaa635ee94167d049b9af76f6706e8b7bb9e7d\n""}]",0,688499,8e066a203fd99979c9ab262a8485d92b13d98670,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I45eaa635ee94167d049b9af76f6706e8b7bb9e7d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/99/688499/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8e066a203fd99979c9ab262a8485d92b13d98670,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-tests~stable%2Fpike~I351eb2ae5d5cd454598619dd07c040c357f8d6ee,openstack/openstack-ansible-tests,stable/pike,I351eb2ae5d5cd454598619dd07c040c357f8d6ee,Remove openSUSE Leap 42.3  jobs,ABANDONED,2019-10-14 19:28:07.000000000,2019-10-14 20:05:24.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 19:28:07.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/e31aaeac77b8f79d84673cbaa5a0c412d3d757b1', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I351eb2ae5d5cd454598619dd07c040c357f8d6ee\n""}]",0,688544,e31aaeac77b8f79d84673cbaa5a0c412d3d757b1,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I351eb2ae5d5cd454598619dd07c040c357f8d6ee
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/44/688544/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,e31aaeac77b8f79d84673cbaa5a0c412d3d757b1,goodbye_42.3,, name: openstack-ansible-functional-opensuse-423 parent: openstack-ansible-functional nodeset: opensuse-423 - job: name: openstack-ansible-functional-opensuse-423-nv parent: openstack-ansible-functional-opensuse-423 voting: false - job:,0,10
openstack%2Fopenstack-ansible-tests~stable%2Fpike~I23ce4b56241364bf2bf5b2bdbcfcac9fc210bc4f,openstack/openstack-ansible-tests,stable/pike,I23ce4b56241364bf2bf5b2bdbcfcac9fc210bc4f,"Revert ""Dropping support of 42.3""",MERGED,2019-10-14 19:55:02.000000000,2019-10-14 20:04:04.000000000,2019-10-14 19:58:47.000000000,"[{'_account_id': 1}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-14 19:55:02.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/e44620a4b99e1de4f2f07b2c9e1f4bdeca9e4d5a', 'message': 'Revert ""Dropping support of 42.3""\n\nThis reverts commit cee072a7a5947dfaafeff0098f1e18b7f6344dcd.\n\nThere are a lot of jobs out there still set to run that depend on these.\n\nChange-Id: I23ce4b56241364bf2bf5b2bdbcfcac9fc210bc4f\n'}]",0,688550,e44620a4b99e1de4f2f07b2c9e1f4bdeca9e4d5a,4,4,1,1,,,0,"Revert ""Dropping support of 42.3""

This reverts commit cee072a7a5947dfaafeff0098f1e18b7f6344dcd.

There are a lot of jobs out there still set to run that depend on these.

Change-Id: I23ce4b56241364bf2bf5b2bdbcfcac9fc210bc4f
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/50/688550/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,e44620a4b99e1de4f2f07b2c9e1f4bdeca9e4d5a,goodbye_42.3, name: openstack-ansible-functional-opensuse-423 parent: openstack-ansible-functional nodeset: opensuse-423 - job: name: openstack-ansible-functional-opensuse-423-nv parent: openstack-ansible-functional-opensuse-423 voting: false - job:,,10,0
openstack%2Fopenstack-ansible-os_cinder~stable%2Fqueens~I7e4a6820aca84904752901a63203e1e88e9d3952,openstack/openstack-ansible-os_cinder,stable/queens,I7e4a6820aca84904752901a63203e1e88e9d3952,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:22:12.000000000,2019-10-14 19:58:48.000000000,2019-10-14 19:58:48.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:22:12.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/881473d0f6f54ff8030b8400db183731d9fcf483', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I7e4a6820aca84904752901a63203e1e88e9d3952\n""}]",0,688511,881473d0f6f54ff8030b8400db183731d9fcf483,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I7e4a6820aca84904752901a63203e1e88e9d3952
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/11/688511/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,881473d0f6f54ff8030b8400db183731d9fcf483,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fcharm-cinder~master~Ic979dcb96ddb931fadb1fa4a4b36108244ddf306,openstack/charm-cinder,master,Ic979dcb96ddb931fadb1fa4a4b36108244ddf306,Policyd override implementation,MERGED,2019-10-01 14:38:04.000000000,2019-10-14 19:56:01.000000000,2019-10-14 19:56:01.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-10-01 14:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/84018cdc1720cbf88e808e4754ba49806080605b', 'message': 'Policyd override implementation\n\nThis patchset implements policy overrides for cinder.  It uses the\ncode in charmhelpers.\n\nChange-Id: Ic979dcb96ddb931fadb1fa4a4b36108244ddf306\nClosed-Bug: #1741723\n'}, {'number': 2, 'created': '2019-10-03 16:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/cccca54d8a3953b027891e23330754efc9bdee43', 'message': 'Policyd override implementation\n\nThis patchset implements policy overrides for cinder.  It uses the\ncode in charmhelpers.\n\nChange-Id: Ic979dcb96ddb931fadb1fa4a4b36108244ddf306\nClosed-Bug: #1741723\n'}, {'number': 3, 'created': '2019-10-06 20:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/ab85f1c9908b601fbe997df8abd417992b961a4b', 'message': 'Policyd override implementation\n\nThis patchset implements policy overrides for cinder.  It uses the\ncode in charmhelpers.\n\nChange-Id: Ic979dcb96ddb931fadb1fa4a4b36108244ddf306\nClosed-Bug: #1741723\n'}, {'number': 4, 'created': '2019-10-07 19:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/7b4cef1e0cc98847c4b2586cc918c5e7a3d40084', 'message': 'Policyd override implementation\n\nThis patchset implements policy overrides for cinder.  It uses the\ncode in charmhelpers.\n\nChange-Id: Ic979dcb96ddb931fadb1fa4a4b36108244ddf306\nClosed-Bug: #1741723\n'}, {'number': 5, 'created': '2019-10-08 12:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/b8520a1061978ec8bf400a5f9b76033a6b01ab0c', 'message': 'Policyd override implementation\n\nThis patchset implements policy overrides for cinder.  It uses the\ncode in charmhelpers.\n\nIt also fixes several bugs in the bundles where the actual version of\ncinder that was being installed was the distro default rather than the\none that the bundle described.\n\nChange-Id: Ic979dcb96ddb931fadb1fa4a4b36108244ddf306\nClosed-Bug: #1741723\n'}, {'number': 6, 'created': '2019-10-10 14:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/b8db2878412616cb947f9f79129a0d94e2938aee', 'message': 'WIP - Policyd override implementation\n\nThis patchset implements policy overrides for cinder.  It uses the\ncode in charmhelpers.\n\nIt also fixes several bugs in the bundles where the actual version of\ncinder that was being installed was the distro default rather than the\none that the bundle described.\n\nChange-Id: Ic979dcb96ddb931fadb1fa4a4b36108244ddf306\nClosed-Bug: #1741723\n'}, {'number': 7, 'created': '2019-10-14 14:11:38.000000000', 'files': ['tests/bundles/xenial-ocata.yaml', 'unit_tests/test_cinder_hooks.py', 'config.yaml', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/bionic-stein.yaml', 'README.md', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/tests.yaml', 'charmhelpers/contrib/openstack/policyd.py', 'hooks/cinder_hooks.py', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/6ee32006e54f67e7415a042f00b3489ddbcd113a', 'message': 'Policyd override implementation\n\nThis patchset implements policy overrides for cinder.  It uses the\ncode in charmhelpers.\n\nIt also fixes several bugs in the bundles where the actual version of\ncinder that was being installed was the distro default rather than the\none that the bundle described.\n\nChange-Id: Ic979dcb96ddb931fadb1fa4a4b36108244ddf306\nClosed-Bug: #1741723\n'}]",1,685982,6ee32006e54f67e7415a042f00b3489ddbcd113a,50,5,7,20870,,,0,"Policyd override implementation

This patchset implements policy overrides for cinder.  It uses the
code in charmhelpers.

It also fixes several bugs in the bundles where the actual version of
cinder that was being installed was the distro default rather than the
one that the bundle described.

Change-Id: Ic979dcb96ddb931fadb1fa4a4b36108244ddf306
Closed-Bug: #1741723
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/82/685982/4 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'unit_tests/test_cinder_hooks.py', 'charmhelpers/fetch/__init__.py', 'config.yaml', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'README.md', 'tests/tests.yaml', 'charmhelpers/core/host.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'hooks/cinder_hooks.py', 'metadata.yaml', 'tox.ini']",19,84018cdc1720cbf88e808e4754ba49806080605b,policy-overrides,[testenv:py3] basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt ,,1267,62
openstack%2Fopenstack-ansible-tests~stable%2Fpike~I8adcdc9d4b636dd47b8e33b6b4cf7b99db0a875e,openstack/openstack-ansible-tests,stable/pike,I8adcdc9d4b636dd47b8e33b6b4cf7b99db0a875e,Dropping support of 42.3,MERGED,2019-06-11 18:42:17.000000000,2019-10-14 19:55:02.000000000,2019-10-14 16:35:00.000000000,"[{'_account_id': 1}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-11 18:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/ac36313f6a28af11f6f7e96060647214e58a786c', 'message': 'Dropping support of 42.3\n\n42.3 will not be maintained anymore and therefore\nthere is no reason to test it. Users are advised\nto upgrade to Leap 15, and we should do the same.\n\nChange-Id: I8adcdc9d4b636dd47b8e33b6b4cf7b99db0a875e\n'}, {'number': 2, 'created': '2019-08-20 07:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/413e57b3e17ad89dc23c4ab6deb0cd6c5f521767', 'message': 'Dropping support of 42.3\n\n42.3 will not be maintained anymore and therefore\nthere is no reason to test it. Users are advised\nto upgrade to Leap 15, and we should do the same.\n\nDepends-On: https://review.opendev.org/677129\n\nChange-Id: I8adcdc9d4b636dd47b8e33b6b4cf7b99db0a875e\n'}, {'number': 3, 'created': '2019-08-22 10:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/39c4b7f8a326405f82f7d528e00f794cc6717961', 'message': 'Dropping support of 42.3\n\n42.3 will not be maintained anymore and therefore\nthere is no reason to test it. Users are advised\nto upgrade to Leap 15, and we should do the same.\n\nDepends-On: https://review.opendev.org/677129\nDepends-On: https://review.opendev.org/677417\nDepends-On: https://review.opendev.org/677130\nChange-Id: I8adcdc9d4b636dd47b8e33b6b4cf7b99db0a875e\n'}, {'number': 4, 'created': '2019-08-22 10:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/bbf3202619f3890e4f8ae970d0640f0311f75929', 'message': ""Dropping support of 42.3\n\n42.3 will not be maintained anymore and therefore\nthere is no reason to test it. Users are advised\nto upgrade to Leap 15, and we should do the same.\n\nNote: The last depends-on only helps for the Zuul's job map, and is\nnot in the same branch as this one.\n\nDepends-On: https://review.opendev.org/677129\nDepends-On: https://review.opendev.org/677417\nDepends-On: https://review.opendev.org/677130\nDepends-On: https://review.opendev.org/677415\nChange-Id: I8adcdc9d4b636dd47b8e33b6b4cf7b99db0a875e\n""}, {'number': 5, 'created': '2019-08-22 10:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/ae26c1f0738877af1f3f025b78754673b76f2dbf', 'message': 'Dropping support of 42.3\n\n42.3 will not be maintained anymore and therefore\nthere is no reason to test it. Users are advised\nto upgrade to Leap 15, and we should do the same.\n\nDepends-On: https://review.opendev.org/677129\nDepends-On: https://review.opendev.org/677417\nDepends-On: https://review.opendev.org/677130\nChange-Id: I8adcdc9d4b636dd47b8e33b6b4cf7b99db0a875e\n'}, {'number': 6, 'created': '2019-09-21 13:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/8b53b654496ec452fa843322ec3e5e978c3e9a51', 'message': 'Dropping support of 42.3\n\n42.3 will not be maintained anymore and therefore\nthere is no reason to test it. Users are advised\nto upgrade to Leap 15, and we should do the same.\n\nDepends-On: https://review.opendev.org/677417\nDepends-On: https://review.opendev.org/683770\nChange-Id: I8adcdc9d4b636dd47b8e33b6b4cf7b99db0a875e\n'}, {'number': 7, 'created': '2019-09-21 14:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/f146a1520f5d30124aac14ffcbda6609bc349be1', 'message': 'Dropping support of 42.3\n\n42.3 will not be maintained anymore and therefore\nthere is no reason to test it. Users are advised\nto upgrade to Leap 15, and we should do the same.\n\nDepends-On: https://review.opendev.org/677417\nDepends-On: https://review.opendev.org/683770\nDepends-On: https://review.opendev.org/683788\nChange-Id: I8adcdc9d4b636dd47b8e33b6b4cf7b99db0a875e\n'}, {'number': 8, 'created': '2019-09-21 14:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/432afe0dd7dcec88ec17739b052f19ee2f4357c5', 'message': 'Dropping support of 42.3\n\n42.3 will not be maintained anymore and therefore\nthere is no reason to test it. Users are advised\nto upgrade to Leap 15, and we should do the same.\n\nDepends-On: https://review.opendev.org/677417\nDepends-On: https://review.opendev.org/683770\nDepends-On: https://review.opendev.org/683787\nDepends-On: https://review.opendev.org/683788\nChange-Id: I8adcdc9d4b636dd47b8e33b6b4cf7b99db0a875e\n'}, {'number': 9, 'created': '2019-09-21 14:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/e0e1d6011b48e7f03c70c56565f9e5b55edec8d9', 'message': 'Dropping support of 42.3\n\n42.3 will not be maintained anymore and therefore\nthere is no reason to test it. Users are advised\nto upgrade to Leap 15, and we should do the same.\n\nDepends-On: https://review.opendev.org/677417\nDepends-On: https://review.opendev.org/683770\nDepends-On: https://review.opendev.org/683787\nDepends-On: https://review.opendev.org/683788\nDepends-On: https://review.opendev.org/683791\nChange-Id: I8adcdc9d4b636dd47b8e33b6b4cf7b99db0a875e\n'}, {'number': 10, 'created': '2019-09-21 14:56:30.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/cee072a7a5947dfaafeff0098f1e18b7f6344dcd', 'message': 'Dropping support of 42.3\n\n42.3 will not be maintained anymore and therefore\nthere is no reason to test it. Users are advised\nto upgrade to Leap 15, and we should do the same.\n\nDepends-On: https://review.opendev.org/677417\nDepends-On: https://review.opendev.org/683770\nDepends-On: https://review.opendev.org/683787\nDepends-On: https://review.opendev.org/683788\nDepends-On: https://review.opendev.org/683790\nDepends-On: https://review.opendev.org/683791\nChange-Id: I8adcdc9d4b636dd47b8e33b6b4cf7b99db0a875e\n'}]",0,664658,cee072a7a5947dfaafeff0098f1e18b7f6344dcd,26,4,10,17068,,,0,"Dropping support of 42.3

42.3 will not be maintained anymore and therefore
there is no reason to test it. Users are advised
to upgrade to Leap 15, and we should do the same.

Depends-On: https://review.opendev.org/677417
Depends-On: https://review.opendev.org/683770
Depends-On: https://review.opendev.org/683787
Depends-On: https://review.opendev.org/683788
Depends-On: https://review.opendev.org/683790
Depends-On: https://review.opendev.org/683791
Change-Id: I8adcdc9d4b636dd47b8e33b6b4cf7b99db0a875e
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/58/664658/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,ac36313f6a28af11f6f7e96060647214e58a786c,goodbye_42.3,, name: openstack-ansible-functional-opensuse-423 parent: openstack-ansible-functional nodeset: opensuse-423 - job: name: openstack-ansible-functional-opensuse-423-nv parent: openstack-ansible-functional-opensuse-423 voting: false - job:,0,10
openstack%2Fhorizon~stable%2Frocky~If093f4ecf1e344792b347c5c338b441b1ab42a04,openstack/horizon,stable/rocky,If093f4ecf1e344792b347c5c338b441b1ab42a04,Remove the check which causes plugin's quotas update failure,MERGED,2019-10-10 17:01:18.000000000,2019-10-14 19:43:04.000000000,2019-10-14 19:43:03.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 1916}, {'_account_id': 11880}, {'_account_id': 12156}, {'_account_id': 20312}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-10-10 17:01:18.000000000', 'files': ['openstack_dashboard/usage/quotas.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/93c4ded713c23832237f2c30974e0566574b8134', 'message': ""Remove the check which causes plugin's quotas update failure\n\nThe check causes external plugin's quotas fields unknown\nexception because the quotas fields are not part of\nQUOTA_FIELDS which only includes the fields for\ncinder, neutron and nova.\n\nMeanwhile the exception message throws TypeError.\n\nThis commit removes the uncessary check. It also helps\nfix the manila-ui's bug #1842119\n\nChange-Id: If093f4ecf1e344792b347c5c338b441b1ab42a04\nCloses-bug: #1798048\nCloses-bug: #1842119\n(cherry picked from commit 44987f02be671fd81b3dcd8d22f9fa1b219488c2)\n(cherry picked from commit be4d2301bb9654a772990d5d6f7bb2b126c7c127)\n""}]",0,687956,93c4ded713c23832237f2c30974e0566574b8134,16,8,1,14892,,,0,"Remove the check which causes plugin's quotas update failure

The check causes external plugin's quotas fields unknown
exception because the quotas fields are not part of
QUOTA_FIELDS which only includes the fields for
cinder, neutron and nova.

Meanwhile the exception message throws TypeError.

This commit removes the uncessary check. It also helps
fix the manila-ui's bug #1842119

Change-Id: If093f4ecf1e344792b347c5c338b441b1ab42a04
Closes-bug: #1798048
Closes-bug: #1842119
(cherry picked from commit 44987f02be671fd81b3dcd8d22f9fa1b219488c2)
(cherry picked from commit be4d2301bb9654a772990d5d6f7bb2b126c7c127)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/56/687956/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/usage/quotas.py'],1,93c4ded713c23832237f2c30974e0566574b8134,bug/1798048-stable/stein-stable/rocky,, if set(targets) - QUOTA_FIELDS: raise ValueError('Unknown quota field names are included: %s' % set(targets) - QUOTA_FIELDS),0,3
openstack%2Fopenstack-ansible-repo_server~stable%2Fqueens~I9d18db0948cb8e710b81666bd92e555e13145e03,openstack/openstack-ansible-repo_server,stable/queens,I9d18db0948cb8e710b81666bd92e555e13145e03,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:22:53.000000000,2019-10-14 19:41:04.000000000,2019-10-14 19:41:04.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:22:53.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/2df86e6c8b58f86c0ca67cdb2c521062b4c56fa8', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I9d18db0948cb8e710b81666bd92e555e13145e03\n""}]",0,688513,2df86e6c8b58f86c0ca67cdb2c521062b4c56fa8,10,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I9d18db0948cb8e710b81666bd92e555e13145e03
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/13/688513/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,2df86e6c8b58f86c0ca67cdb2c521062b4c56fa8,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Ftripleo-common~stable%2Fstein~I47c9a2693d831958958fa6ea7cccbdd8fdb12277,openstack/tripleo-common,stable/stein,I47c9a2693d831958958fa6ea7cccbdd8fdb12277,Use tenancity to backoff when layer is locked,MERGED,2019-10-11 20:42:46.000000000,2019-10-14 19:37:02.000000000,2019-10-14 19:33:56.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-11 20:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8355ca8a537723f52a3006a0b58f1f73e4e4971f', 'message': ""Use tenancity to backoff when layer is locked\n\nRather than doing a while loop and sleep, let's use tenancity to do an\nexponential backoff off when the layer is already being fetched by\nanother process.\n\nChange-Id: I47c9a2693d831958958fa6ea7cccbdd8fdb12277\n(cherry picked from commit 98f2d962f955fd57085f6c2a9fcc3882f9eaae38)\n""}, {'number': 2, 'created': '2019-10-14 00:34:17.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f91ffa55e590a07d2caebc7a0c83d78a8a092805', 'message': ""Use tenancity to backoff when layer is locked\n\nRather than doing a while loop and sleep, let's use tenancity to do an\nexponential backoff off when the layer is already being fetched by\nanother process.\n\nChange-Id: I47c9a2693d831958958fa6ea7cccbdd8fdb12277\n(cherry picked from commit 98f2d962f955fd57085f6c2a9fcc3882f9eaae38)\n""}]",0,688200,f91ffa55e590a07d2caebc7a0c83d78a8a092805,17,3,2,14985,,,0,"Use tenancity to backoff when layer is locked

Rather than doing a while loop and sleep, let's use tenancity to do an
exponential backoff off when the layer is already being fetched by
another process.

Change-Id: I47c9a2693d831958958fa6ea7cccbdd8fdb12277
(cherry picked from commit 98f2d962f955fd57085f6c2a9fcc3882f9eaae38)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/00/688200/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,8355ca8a537723f52a3006a0b58f1f73e4e4971f,bug/1844446-stable/stein, if layer in cls.uploader_lock_info: raise ImageUploaderThreadException('layer being fetched') LOG.debug('[%s] Locking layer' % layer),import time LOG.debug('[%s] Locking layer' % layer) while layer in cls.uploader_lock_info: time.sleep(0.5),3,4
openstack%2Ftripleo-common~stable%2Fstein~Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd,openstack/tripleo-common,stable/stein,Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd,Improving debug logging,MERGED,2019-10-04 17:41:27.000000000,2019-10-14 19:35:51.000000000,2019-10-14 19:33:53.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-10-04 17:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2073007a5b8285efc97d29cac7da14d27b8eaddd', 'message': ""Improving debug logging\n\nIt's really hard to follow the multi-processing. This change adds\nadditional debug statements around the jobs and uploading processes.\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd\n(cherry picked from commit 58abba685e65441e52a1e577baa653dac6852fcc)\n""}, {'number': 2, 'created': '2019-10-04 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6df852d677a6bf6c3eb05dde91da69b18b6b0ff6', 'message': ""Improving debug logging\n\nIt's really hard to follow the multi-processing. This change adds\nadditional debug statements around the jobs and uploading processes.\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd\n(cherry picked from commit 58abba685e65441e52a1e577baa653dac6852fcc)\n""}, {'number': 3, 'created': '2019-10-07 14:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4c8c33bc693803e3f68f04ffc85085ccd885df85', 'message': ""Improving debug logging\n\nIt's really hard to follow the multi-processing. This change adds\nadditional debug statements around the jobs and uploading processes.\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd\n(cherry picked from commit 58abba685e65441e52a1e577baa653dac6852fcc)\n""}, {'number': 4, 'created': '2019-10-09 21:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b0a2d61cc73aee8b8f8074bb51e00c0ad9c21f6f', 'message': ""Improving debug logging\n\nIt's really hard to follow the multi-processing. This change adds\nadditional debug statements around the jobs and uploading processes.\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd\n(cherry picked from commit 58abba685e65441e52a1e577baa653dac6852fcc)\n""}, {'number': 5, 'created': '2019-10-11 20:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cf1867a3ae898ada7ee693b770a50a7330c08157', 'message': ""Improving debug logging\n\nIt's really hard to follow the multi-processing. This change adds\nadditional debug statements around the jobs and uploading processes.\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd\n(cherry picked from commit 58abba685e65441e52a1e577baa653dac6852fcc)\n""}, {'number': 6, 'created': '2019-10-14 00:34:10.000000000', 'files': ['tripleo_common/image/image_export.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/baf0c09ce63a01e378612a739a428120998127c9', 'message': ""Improving debug logging\n\nIt's really hard to follow the multi-processing. This change adds\nadditional debug statements around the jobs and uploading processes.\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd\n(cherry picked from commit 58abba685e65441e52a1e577baa653dac6852fcc)\n""}]",0,686792,baf0c09ce63a01e378612a739a428120998127c9,33,6,6,14985,,,0,"Improving debug logging

It's really hard to follow the multi-processing. This change adds
additional debug statements around the jobs and uploading processes.

Co-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: Ic043d6431cff80d7b9ee83e5f53f8bbf093ddefd
(cherry picked from commit 58abba685e65441e52a1e577baa653dac6852fcc)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/92/686792/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/image_export.py', 'tripleo_common/image/image_uploader.py']",2,2073007a5b8285efc97d29cac7da14d27b8eaddd,bug/1844446-stable/stein," LOG.debug( LOG.info('[%s] Cross repository blob mount from %s' % LOG.info('[%s] Got imagename' % t.image_name) LOG.warning('[%s] Failed to check if the target ' 'image exists' % t.target_image) LOG.warning('[%s] Skipping upload for modified ' 'image' % t.target_image) LOG.error('[%s] Failed uploading the target ' 'image' % t.target_image) LOG.warning('[%s] Completed modify and upload for ' 'image' % t.image_name) LOG.warning('[%s] Completed upload for image' % t.image_name) LOG.info('[%s] Deleting image' % image) LOG.warning('[%s] Removing local copy of image' % image) LOG.debug('[%s] Locking layer' % layer) while layer in cls.uploader_lock_info: LOG.debug('[%s] Layer is being fetched by another thread' % layer) LOG.debug('[%s] Starting acquire for lock' % layer) LOG.debug('[%s] Collision for lock' % layer) LOG.debug('[%s] Acquired for lock' % layer) LOG.debug('[%s] Updated lock info' % layer) LOG.debug('[%s] Got lock on layer' % layer) LOG.debug('[%s] Unlocking layer' % layer) LOG.debug('[%s] Starting acquire for lock' % layer) with cls.uploader_lock: LOG.debug('[%s] Acquired for unlock' % layer) LOG.debug('[%s] Updated lock info' % layer) LOG.debug('[%s] Released lock on layer' % layer) LOG.info('[%s] Starting upload image process' % t.image_name) LOG.error('[%s] Failed uploading the target ' 'image' % t.target_image) LOG.warning('[%s] Cleanup has no effect with a local source ' 'container.' % t.image_name) LOG.warning('[%s] Failed copying the target image ' LOG.warning('[%s] Failed to check if the target ' 'image exists' % t.target_image) LOG.warning('[%s] Skipping upload for modified image %s' % (t.image_name, t.target_image)) LOG.error('[%s] Failed uploading the target ' 'image' % t.target_image) LOG.info('[%s] Completed upload for image' % t.image_name) else: LOG.info('[%s] Copy ummodified image from target to local' % t.image_name) LOG.info('[%s] Completed modify and upload for image' % t.image_name) except Exception: LOG.error('[%s] Failed processing the target ' 'image' % t.target_image) LOG.warning('[%s] Failed setting default layer %s for the ' 'target image' % (t.target_image, layer)) LOG.info(""[%s] Fetching layer %s from %s"" % (image, digest, source_blob_url)) LOG.debug(""[%s] Read %i bytes for %s"" % (image, len(data), digest)) LOG.info(""[%s] Done fetching layer %s from registry"" % (image, digest)) LOG.debug('[%s] Uploading layer' % digest) jobs_count = 0 jobs_finished = 0 jobs_count = len(copy_jobs) LOG.debug('[%s] Waiting for %i jobs to finish' % (image, jobs_count)) layer = job.result() if layer: LOG.debug('[%s] Upload complete for layer %s' % (image, layer)) jobs_finished += 1 LOG.debug('[%s] Waiting for next job: %i of %i complete' % (image, jobs_finished, jobs_count)) LOG.debug('[%s] Completed %i jobs' % (image, jobs_count)) LOG.debug('[%s] Current image manifest: [%s]' % (image, json.dumps(manifest, indent=4))) LOG.debug('[%s] Uploading config with digest: %s' % (image, config_digest)) LOG.debug('[%s] Finished copying image' % image) LOG.debug('[%s] Uploading manifest of type %s to: %s' % (image, manifest_type, manifest_url)) LOG.debug('[%s] Layer already exists: %s' % (image, l['digest'])) LOG.debug('[%s] Exporting layer' % layer_id) LOG.debug('[%s] Uploading layer' % layer_id) LOG.debug('[%s] Calculated layer digest' % layer_digest) jobs_count = 0 jobs_finished = 0 jobs_count = len(copy_jobs) LOG.debug('[%s] Waiting for %i jobs to finish' % (name, jobs_count)) layer = job.result() if layer: LOG.debug('[%s] Upload complete for layer: %s' % (name, layer)) jobs_finished += 1 LOG.debug('[%s] Waiting for next job: %i of %i complete' % (name, jobs_finished, jobs_count)) LOG.debug('[%s] Completed %i jobs' % (name, jobs_count)) LOG.debug('[%s] Finished copying' % name) LOG.info('[%s] Deleting image' % image) LOG.info('[%s] Removing local copy of image' % image)"," LOG.info( LOG.info('Cross repository blob mount %s from %s' % LOG.info('imagename: %s' % t.image_name) LOG.warning('Failed to check if the target ' 'image %s exists' % t.target_image) LOG.warning('Skipping upload for modified image %s' % t.target_image) LOG.error('Failed uploading the target ' 'image %s' % t.target_image) LOG.warning('Completed modify and upload for image %s' % t.image_name) LOG.warning('Completed upload for image %s' % t.image_name) LOG.info('Deleting %s' % image) LOG.warning('Removing local copy of %s' % image) LOG.debug('Locking layer %s' % layer) while layer in cls.uploader_lock_info: LOG.debug('%s is being fetched by another thread' % layer) LOG.debug('Starting acquire for lock %s' % layer) LOG.debug('Collision for lock %s' % layer) LOG.debug('Acquired for lock %s' % layer) LOG.debug('Updated lock info %s' % layer) LOG.debug('Got lock on layer %s' % layer) LOG.debug('Unlocking layer %s' % layer) LOG.debug('Starting acquire for lock %s' % layer) with cls.uploader_lock: LOG.debug('Acquired for unlock %s' % layer) LOG.debug('Updated lock info %s' % layer) LOG.debug('Released lock on layer %s' % layer) LOG.info('imagename: %s' % t.image_name) LOG.error('Failed uploading the target image %s' % t.target_image) LOG.warning('Cleanup has no effect with a local source ' 'container.') LOG.warning('Failed copying the target image %s ' LOG.warning('Failed to check if the target ' 'image %s exists' % t.target_image) LOG.warning('Skipping upload for modified image %s' % t.target_image) LOG.error('Failed uploading the target ' 'image %s' % t.target_image) LOG.warning('Completed upload for image %s' % t.image_name) else: LOG.info( 'Copy ummodified imagename: ""{}"" from target to local'.format( t.image_name ) ) except Exception: LOG.error('Failed processing the target ' 'image %s' % t.target_image) LOG.warning('Completed modify and upload for image %s' % t.image_name) LOG.warning('Failed setting default layer for the target ' 'image %s' % t.target_image) LOG.debug('Fetching layer: %s' % digest) LOG.debug('Uploading layer: %s' % digest) image = job.result() if image: LOG.debug('Upload complete for layer: %s' % image) LOG.debug('Uploading config with digest: %s' % config_digest) LOG.debug('Uploading manifest of type %s to: %s' % ( manifest_type, manifest_url)) LOG.debug('Layer already exists: %s' % l['digest']) LOG.debug('Exporting layer: %s' % layer_id) LOG.debug('Uploading layer: %s' % layer_id) LOG.debug('Calculated layer digest: %s' % layer_digest) image = job.result() if image: LOG.debug('Upload complete for layer: %s' % image) LOG.info('Deleting %s' % image) LOG.warning('Removing local copy of %s' % image)",123,82
openstack%2Fopenstack-ansible-os_sahara~stable%2Fqueens~If97e6dece829e9e965be6f9793f5b7688e453e19,openstack/openstack-ansible-os_sahara,stable/queens,If97e6dece829e9e965be6f9793f5b7688e453e19,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:02:04.000000000,2019-10-14 19:33:59.000000000,2019-10-14 19:33:59.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:02:04.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/078aa4c27b3a2dedbfa82443d3dcdfa820a14b83', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: If97e6dece829e9e965be6f9793f5b7688e453e19\n""}]",0,688469,078aa4c27b3a2dedbfa82443d3dcdfa820a14b83,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: If97e6dece829e9e965be6f9793f5b7688e453e19
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/69/688469/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,078aa4c27b3a2dedbfa82443d3dcdfa820a14b83,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fmanila~master~Iba2761db53da68a1c497e2e5dd370c36a22ebbed,openstack/manila,master,Iba2761db53da68a1c497e2e5dd370c36a22ebbed,Fix share network update erroneously returns success,MERGED,2019-10-10 17:38:36.000000000,2019-10-14 19:23:22.000000000,2019-10-14 19:21:34.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 17499}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26297}, {'_account_id': 27781}, {'_account_id': 28543}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-10-10 17:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4b4a6775d273188e20c8f6e2886f520ae54d6c3b', 'message': 'Fix share network update erroneously returns success\n\nThis patch fixes an issue while performing share network update.\nManila was allowing the user to update a share network even if it\ndid not contain a default subnet. Now, we throw an error if there\nis no default subnet to be updated. Also, adds an extra validation.\nNow, Manila do not allow the default share network subnet update if\nit is going to have only `neutron_net_id` or `neutron_subnet_id`\nafter the update.\n\nChange-Id: Iba2761db53da68a1c497e2e5dd370c36a22ebbed\nCloses-Bug: #1846836\n'}, {'number': 2, 'created': '2019-10-11 14:16:27.000000000', 'files': ['manila/api/v2/share_networks.py', 'releasenotes/notes/bug-1846836-fix-share-network-update-unexpected-success-eba8f40db392c467.yaml', 'manila/tests/api/v2/test_share_networks.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/de2d94172bebc8d8771e2e67860d94559a86cece', 'message': 'Fix share network update erroneously returns success\n\nThis patch fixes an issue while performing share network update.\nManila was allowing the user to update a share network even if it\ndid not contain a default subnet. Now, we throw an error if there\nis no default subnet to be updated. Also, adds an extra validation.\nNow, Manila do not allow the default share network subnet update if\nit is going to have only `neutron_net_id` or `neutron_subnet_id`\nafter the update.\n\nChange-Id: Iba2761db53da68a1c497e2e5dd370c36a22ebbed\nCloses-Bug: #1846836\n'}]",17,687959,de2d94172bebc8d8771e2e67860d94559a86cece,38,16,2,29632,,,0,"Fix share network update erroneously returns success

This patch fixes an issue while performing share network update.
Manila was allowing the user to update a share network even if it
did not contain a default subnet. Now, we throw an error if there
is no default subnet to be updated. Also, adds an extra validation.
Now, Manila do not allow the default share network subnet update if
it is going to have only `neutron_net_id` or `neutron_subnet_id`
after the update.

Change-Id: Iba2761db53da68a1c497e2e5dd370c36a22ebbed
Closes-Bug: #1846836
",git fetch https://review.opendev.org/openstack/manila refs/changes/59/687959/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/api/v2/share_networks.py', 'releasenotes/notes/bug-1846836-fix-share-network-update-unexpected-success-eba8f40db392c467.yaml', 'manila/tests/api/v2/test_share_networks.py']",3,4b4a6775d273188e20c8f6e2886f520ae54d6c3b,bug/1846836," self.mock_object(db_api, 'share_network_subnet_get_default_subnet', mock.Mock(return_value=fake_share_network_subnet)) self.mock_object(db_api, 'share_network_subnet_update') db_api.share_network_subnet_get_default_subnet.assert_called_once_with( self.context, share_nw) db_api.share_network_subnet_update.assert_called_once_with( self.context, fake_share_network_subnet['id'], body['share_network']) @ddt.data((webob_exc.HTTPBadRequest, fake_share_network_subnet), (webob_exc.HTTPNotFound, None)) @ddt.unpack def test_update_default_subnet_errors(self, exception_to_raise, get_default_subnet_return): share_nw = 'fake network id' self.mock_object(db_api, 'share_network_get', mock.Mock(return_value=fake_share_network)) self.mock_object( self.controller, '_share_network_subnets_contain_share_servers', mock.Mock(return_value=False)) self.mock_object(db_api, 'share_network_subnet_get_default_subnet', mock.Mock(return_value=get_default_subnet_return)) if get_default_subnet_return: fake_subnet = copy.deepcopy(fake_share_network_subnet) fake_subnet['neutron_net_id'] = None fake_subnet['neutron_subnet_id'] = None db_api.share_network_subnet_get_default_subnet.return_value = ( fake_subnet) body = { share_networks.RESOURCE_NAME: {'neutron_subnet_id': 'new subnet'} } self.assertRaises(exception_to_raise, self.controller.update, self.req, share_nw, body) db_api.share_network_subnet_get_default_subnet.assert_called_once_with( self.context, share_nw)",,75,4
openstack%2Fmanila~stable%2Fstein~I89659452b0e033631f1318a2eabb7e120c9e5743,openstack/manila,stable/stein,I89659452b0e033631f1318a2eabb7e120c9e5743,Fix pagination does not speed up queries bug,MERGED,2019-09-26 17:23:09.000000000,2019-10-14 19:23:13.000000000,2019-10-14 19:21:36.000000000,"[{'_account_id': 16643}, {'_account_id': 17130}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 27781}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-09-26 17:23:09.000000000', 'files': ['manila/tests/api/v1/test_shares.py', 'releasenotes/notes/bug-1795463-fix-pagination-slowness-8fcda3746aa13940.yaml', 'manila/api/common.py', 'manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/tests/api/v2/test_shares.py', 'manila/api/v1/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/462b0e7461cdd00d51f15aacaa43854aeb0689f4', 'message': 'Fix pagination does not speed up queries bug\n\nThis patch modifies the database api layer to fix the pagination\nslowness bug, which causes a delay while the administrator tries\nto list shares using the `--limit` option.\nThis change was tested in a very busy environment with 800 shares.\nBefore the change, the operation took about 25 seconds to be\nfinished. Now, the operation takes about 3 seconds in the same\nenvironment.\n\nChange-Id: I89659452b0e033631f1318a2eabb7e120c9e5743\nCloses-bug: #1795463\n(cherry picked from commit 57edcbd1da4b61ce1a61db3be0d69755d968c36c)\n'}]",0,685135,462b0e7461cdd00d51f15aacaa43854aeb0689f4,27,8,1,29632,,,0,"Fix pagination does not speed up queries bug

This patch modifies the database api layer to fix the pagination
slowness bug, which causes a delay while the administrator tries
to list shares using the `--limit` option.
This change was tested in a very busy environment with 800 shares.
Before the change, the operation took about 25 seconds to be
finished. Now, the operation takes about 3 seconds in the same
environment.

Change-Id: I89659452b0e033631f1318a2eabb7e120c9e5743
Closes-bug: #1795463
(cherry picked from commit 57edcbd1da4b61ce1a61db3be0d69755d968c36c)
",git fetch https://review.opendev.org/openstack/manila refs/changes/35/685135/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/api/v1/test_shares.py', 'releasenotes/notes/bug-1795463-fix-pagination-slowness-8fcda3746aa13940.yaml', 'manila/api/common.py', 'manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/tests/api/v2/test_shares.py', 'manila/api/v1/shares.py']",8,462b0e7461cdd00d51f15aacaa43854aeb0689f4,bug/1795463-stable/stein," common._validate_pagination_query(req) if is_detail: shares = self._view_builder.detail_list(req, shares, total_count) else: shares = self._view_builder.summary_list(req, shares, total_count) 'display_description', 'limit', 'offset'"," search_opts.pop('limit', None) search_opts.pop('offset', None) limited_list = common.limited(shares, req) if is_detail: shares = self._view_builder.detail_list(req, limited_list, total_count) else: shares = self._view_builder.summary_list(req, limited_list, total_count) 'display_description'",83,26
openstack%2Fopenstack-ansible-os_horizon~stable%2Fqueens~Icfba92ca762298f9091d1b3380bad068ac9cfcba,openstack/openstack-ansible-os_horizon,stable/queens,Icfba92ca762298f9091d1b3380bad068ac9cfcba,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:18:55.000000000,2019-10-14 19:16:33.000000000,2019-10-14 19:16:33.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:18:55.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/454fb46591aefcd2a84298d3f2ca039518d7bb98', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: Icfba92ca762298f9091d1b3380bad068ac9cfcba\n""}]",0,688503,454fb46591aefcd2a84298d3f2ca039518d7bb98,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: Icfba92ca762298f9091d1b3380bad068ac9cfcba
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/03/688503/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,454fb46591aefcd2a84298d3f2ca039518d7bb98,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-os_heat~stable%2Fqueens~I438c29d395a96f8897f15c82d68608592916a2cc,openstack/openstack-ansible-os_heat,stable/queens,I438c29d395a96f8897f15c82d68608592916a2cc,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:15:57.000000000,2019-10-14 19:12:53.000000000,2019-10-14 19:12:53.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:15:57.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/92f239ebfd8b9ab97a295fdd33b13de5bba64c9d', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I438c29d395a96f8897f15c82d68608592916a2cc\n""}]",0,688496,92f239ebfd8b9ab97a295fdd33b13de5bba64c9d,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I438c29d395a96f8897f15c82d68608592916a2cc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/96/688496/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,92f239ebfd8b9ab97a295fdd33b13de5bba64c9d,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Fqueens~I5ebd65c4a0bcda691d5c099b19fa6f66f7025e0f,openstack/openstack-ansible-os_gnocchi,stable/queens,I5ebd65c4a0bcda691d5c099b19fa6f66f7025e0f,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:06:29.000000000,2019-10-14 19:08:06.000000000,2019-10-14 19:08:06.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:06:29.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/ef60f71bf769fcf47793360b0ffd4dada657988f', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I5ebd65c4a0bcda691d5c099b19fa6f66f7025e0f\n""}]",0,688477,ef60f71bf769fcf47793360b0ffd4dada657988f,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I5ebd65c4a0bcda691d5c099b19fa6f66f7025e0f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/77/688477/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ef60f71bf769fcf47793360b0ffd4dada657988f,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fproject-config~master~Ib1fdbfe88bace3bfbe2b5f94164534ecc1ae3ebf,openstack/project-config,master,Ib1fdbfe88bace3bfbe2b5f94164534ecc1ae3ebf,Add gear to openstack for required-projects,MERGED,2019-10-14 18:32:55.000000000,2019-10-14 19:07:24.000000000,2019-10-14 19:07:24.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 18:32:55.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3b8f5f3c17143c92a810e75367e69e1e960c986c', 'message': 'Add gear to openstack for required-projects\n\nwindmill needs opendev/gear in required-projects, add gear to openstack\ntenant but do not include any config.\n\nChange-Id: Ib1fdbfe88bace3bfbe2b5f94164534ecc1ae3ebf\n'}]",0,688530,3b8f5f3c17143c92a810e75367e69e1e960c986c,7,3,1,6547,,,0,"Add gear to openstack for required-projects

windmill needs opendev/gear in required-projects, add gear to openstack
tenant but do not include any config.

Change-Id: Ib1fdbfe88bace3bfbe2b5f94164534ecc1ae3ebf
",git fetch https://review.opendev.org/openstack/project-config refs/changes/30/688530/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,3b8f5f3c17143c92a810e75367e69e1e960c986c,readd-gear, # Include some projects without config for use in # required-projects - include: [] projects: - opendev/gear,,5,0
openstack%2Fopenstack-ansible-os_keystone~stable%2Fqueens~I0de9a71ae07992341d737bbbea4cdf82ab1345b1,openstack/openstack-ansible-os_keystone,stable/queens,I0de9a71ae07992341d737bbbea4cdf82ab1345b1,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 16:49:04.000000000,2019-10-14 19:04:07.000000000,2019-10-14 19:04:07.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 16:49:04.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/97e463440c4c697e2383be58c5edcf3a1e164dd9', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I0de9a71ae07992341d737bbbea4cdf82ab1345b1\n""}]",0,688454,97e463440c4c697e2383be58c5edcf3a1e164dd9,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I0de9a71ae07992341d737bbbea4cdf82ab1345b1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/54/688454/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,97e463440c4c697e2383be58c5edcf3a1e164dd9,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-os_glance~stable%2Fqueens~I8b4b1d48b1d8745f65db572ccb17543e99a81ad4,openstack/openstack-ansible-os_glance,stable/queens,I8b4b1d48b1d8745f65db572ccb17543e99a81ad4,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 16:57:43.000000000,2019-10-14 18:59:28.000000000,2019-10-14 18:59:28.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 16:57:43.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/6770101a2bdc5ad52deb4bd5727878af3d918565', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I8b4b1d48b1d8745f65db572ccb17543e99a81ad4\n""}]",0,688462,6770101a2bdc5ad52deb4bd5727878af3d918565,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I8b4b1d48b1d8745f65db572ccb17543e99a81ad4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/62/688462/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6770101a2bdc5ad52deb4bd5727878af3d918565,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Fqueens~I4bdbaeb0a886403737adacad970d4043b4803182,openstack/openstack-ansible-os_ceilometer,stable/queens,I4bdbaeb0a886403737adacad970d4043b4803182,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:00:00.000000000,2019-10-14 18:54:21.000000000,2019-10-14 18:54:21.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:00:00.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/e545e9b37829e45d735ba3119506c9052ad6f42e', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I4bdbaeb0a886403737adacad970d4043b4803182\n""}]",0,688465,e545e9b37829e45d735ba3119506c9052ad6f42e,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I4bdbaeb0a886403737adacad970d4043b4803182
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/65/688465/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,e545e9b37829e45d735ba3119506c9052ad6f42e,goodbye_42.3,, - openstack-ansible-functional-opensuse-423-nv,0,1
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fqueens~Ie36b2f2b87e51863c9d9da41d11a4bede3eae9a2,openstack/openstack-ansible-rabbitmq_server,stable/queens,Ie36b2f2b87e51863c9d9da41d11a4bede3eae9a2,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:15:04.000000000,2019-10-14 18:51:32.000000000,2019-10-14 18:51:32.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:15:04.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/19b9f38d576ec7c5d0f8edfb1b703d5d0ba24022', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: Ie36b2f2b87e51863c9d9da41d11a4bede3eae9a2\n""}]",0,688494,19b9f38d576ec7c5d0f8edfb1b703d5d0ba24022,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: Ie36b2f2b87e51863c9d9da41d11a4bede3eae9a2
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/94/688494/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,19b9f38d576ec7c5d0f8edfb1b703d5d0ba24022,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Fpike~I53a6e604b78c931bc7e1e8e370f908ae0118fb97,openstack/openstack-ansible-os_ceilometer,stable/pike,I53a6e604b78c931bc7e1e8e370f908ae0118fb97,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:00:22.000000000,2019-10-14 18:51:31.000000000,2019-10-14 18:51:31.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:00:22.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/0f97d64e5b4c2fd7d1dbd87a0f30a11d045f7e4e', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I53a6e604b78c931bc7e1e8e370f908ae0118fb97\n""}]",0,688466,0f97d64e5b4c2fd7d1dbd87a0f30a11d045f7e4e,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I53a6e604b78c931bc7e1e8e370f908ae0118fb97
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/66/688466/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,0f97d64e5b4c2fd7d1dbd87a0f30a11d045f7e4e,goodbye_42.3,, - openstack-ansible-functional-opensuse-423-nv,0,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I3a5960db499925c4689244ff8b9f9b284819c713,openstack/tripleo-heat-templates,stable/stein,I3a5960db499925c4689244ff8b9f9b284819c713,Set scenario009 job voting to false,MERGED,2019-10-11 08:59:19.000000000,2019-10-14 18:48:48.000000000,2019-10-14 18:48:47.000000000,"[{'_account_id': 3153}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-11 08:59:19.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38c695396429bc759022c09f584ac530d0274bc3', 'message': 'Set scenario009 job voting to false\n\nThis seems to be failing consistently on stable/stein.\n\n\nChange-Id: I3a5960db499925c4689244ff8b9f9b284819c713\n(cherry picked from commit 930298c1cdb1a7cdda640673a01abb5d759bb99a)\n'}]",0,688081,38c695396429bc759022c09f584ac530d0274bc3,9,7,1,8833,,,0,"Set scenario009 job voting to false

This seems to be failing consistently on stable/stein.


Change-Id: I3a5960db499925c4689244ff8b9f9b284819c713
(cherry picked from commit 930298c1cdb1a7cdda640673a01abb5d759bb99a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/688081/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,38c695396429bc759022c09f584ac530d0274bc3,scenario009-voting-stable/stein,, voting: true - tripleo-ci-centos-7-scenario009-multinode-oooq-container: files: - ^coe/openshift.*$ - ^environments/openshift.*$ - ^extraconfig/services/openshift.*$ - ^(deployment|docker|puppet)/.*haproxy.*$ - ^(deployment|docker|puppet)/.*keepalived.*$ - ^(deployment|docker|puppet)/.*mistral.*$ - ci/environments/scenario009-multinode.yaml - ci/pingtests/scenario009-multinode.yaml - ^network/endpoints/.*$ - ^deployed-server/.*$ - ^common/.*$ - zuul.d/*,0,15
openstack%2Fsenlin~master~I2526621d67a927591fab8397249e26c676e8c8af,openstack/senlin,master,I2526621d67a927591fab8397249e26c676e8c8af,Update master for stable/train,MERGED,2019-09-27 17:04:36.000000000,2019-10-14 18:43:46.000000000,2019-10-14 18:41:31.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}, {'_account_id': 27781}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-27 17:04:36.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/52536bc3fd48ac3bcfd63bdd698ee76d4f4cff3d', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I2526621d67a927591fab8397249e26c676e8c8af\nSem-Ver: feature\n'}]",0,685428,52536bc3fd48ac3bcfd63bdd698ee76d4f4cff3d,11,5,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I2526621d67a927591fab8397249e26c676e8c8af
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/senlin refs/changes/28/685428/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,52536bc3fd48ac3bcfd63bdd698ee76d4f4cff3d,reno-train, train,,7,0
openstack%2Fkolla~stable%2Fstein~Icc5910db96aba05196d8cd576a3a2e7f1402be45,openstack/kolla,stable/stein,Icc5910db96aba05196d8cd576a3a2e7f1402be45,Bump stein octavia to 4.1.0 (CVE-2019-17134),MERGED,2019-10-14 15:31:10.000000000,2019-10-14 18:43:37.000000000,2019-10-14 18:41:27.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-14 15:31:10.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7e31dac6a3e31ea5c54be274a9f99502c66f15b2', 'message': 'Bump stein octavia to 4.1.0 (CVE-2019-17134)\n\nChange-Id: Icc5910db96aba05196d8cd576a3a2e7f1402be45\n'}]",0,688426,7e31dac6a3e31ea5c54be274a9f99502c66f15b2,8,3,1,30740,,,0,"Bump stein octavia to 4.1.0 (CVE-2019-17134)

Change-Id: Icc5910db96aba05196d8cd576a3a2e7f1402be45
",git fetch https://review.opendev.org/openstack/kolla refs/changes/26/688426/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,7e31dac6a3e31ea5c54be274a9f99502c66f15b2,," 'octavia-4.1.0.tar.gz')},"," 'octavia-4.0.1.tar.gz')},",1,1
openstack%2Fansible-role-qdrouterd~stable%2Fstein~I7b4def53825cad3ba1c2def81b21c6e1b0af46df,openstack/ansible-role-qdrouterd,stable/stein,I7b4def53825cad3ba1c2def81b21c6e1b0af46df,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:21:33.000000000,2019-10-14 18:43:01.000000000,2019-10-14 18:38:27.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:21:33.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/eac5f430863fb71b90fd89a0077558192517da17', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I7b4def53825cad3ba1c2def81b21c6e1b0af46df\n""}]",0,688508,eac5f430863fb71b90fd89a0077558192517da17,7,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I7b4def53825cad3ba1c2def81b21c6e1b0af46df
",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/08/688508/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,eac5f430863fb71b90fd89a0077558192517da17,goodbye_42.3,, - openstack-ansible-functional-opensuse-423: voting: false,0,2
openstack%2Fkolla~stable%2Frocky~I47683726086c500544ebe97dccbfc1f292881c1d,openstack/kolla,stable/rocky,I47683726086c500544ebe97dccbfc1f292881c1d,Bump rocky octavia to 3.2.0 (CVE-2019-17134),MERGED,2019-10-14 15:38:24.000000000,2019-10-14 18:41:25.000000000,2019-10-14 18:41:25.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-14 15:38:24.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f788df3dfe8fa351641e007ed6b5d95d47eb858f', 'message': 'Bump rocky octavia to 3.2.0 (CVE-2019-17134)\n\nChange-Id: I47683726086c500544ebe97dccbfc1f292881c1d\n'}]",0,688429,f788df3dfe8fa351641e007ed6b5d95d47eb858f,7,3,1,30740,,,0,"Bump rocky octavia to 3.2.0 (CVE-2019-17134)

Change-Id: I47683726086c500544ebe97dccbfc1f292881c1d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/29/688429/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,f788df3dfe8fa351641e007ed6b5d95d47eb858f,," 'octavia-3.2.0.tar.gz')},"," 'octavia-3.1.1.tar.gz')},",1,1
openstack%2Fkolla~master~I0fd596d93a0e575a391250d4bed261ad370a3664,openstack/kolla,master,I0fd596d93a0e575a391250d4bed261ad370a3664,Custom CA certificates installation mechanism,MERGED,2019-10-02 10:06:17.000000000,2019-10-14 18:31:57.000000000,2019-10-14 18:24:39.000000000,"[{'_account_id': 14826}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 28935}, {'_account_id': 30356}, {'_account_id': 30491}, {'_account_id': 30810}]","[{'number': 1, 'created': '2019-10-02 10:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bdb0e4a0ccbc9d11f0cb4529b61895ae693851c0', 'message': 'Custom CA crtificates installation mechanism\n\nChange-Id: I0fd596d93a0e575a391250d4bed261ad370a3664\n'}, {'number': 2, 'created': '2019-10-07 21:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cb910998ac1dad248f5b263cda9df3a6fdef1512', 'message': 'Custom CA certificates installation mechanism\n\nChange-Id: I0fd596d93a0e575a391250d4bed261ad370a3664\n'}, {'number': 3, 'created': '2019-10-07 21:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b83f61f3fbec0c99f4f32898d412749d2447bcee', 'message': 'Custom CA certificates installation mechanism\n\nChange-Id: I0fd596d93a0e575a391250d4bed261ad370a3664\n'}, {'number': 4, 'created': '2019-10-07 21:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8c5358f45bf770c8cdadd5c56d7d72c737d73429', 'message': 'Custom CA certificates installation mechanism\n\nChange-Id: I0fd596d93a0e575a391250d4bed261ad370a3664\n'}, {'number': 5, 'created': '2019-10-10 23:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c18aae0d478a39d8e5b9a378c5572e037941717f', 'message': 'Custom CA certificates installation mechanism\n\nChange-Id: I0fd596d93a0e575a391250d4bed261ad370a3664\n'}, {'number': 6, 'created': '2019-10-11 17:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4069bfcd2996e100c52e899e0ba932627f05a851', 'message': 'Custom CA certificates installation mechanism\n\nChange-Id: I0fd596d93a0e575a391250d4bed261ad370a3664\n'}, {'number': 7, 'created': '2019-10-11 17:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/53d9a1a783afdb4dd15a28aa0be40047a4dd85f9', 'message': 'Custom CA certificates installation mechanism\n\nChange-Id: I0fd596d93a0e575a391250d4bed261ad370a3664\n'}, {'number': 8, 'created': '2019-10-12 15:36:33.000000000', 'files': ['docker/base/start.sh', 'docker/base/Dockerfile.j2', 'docker/base/sudoers', 'docker/base/copy_cacerts.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/79d857f9e70b4aa2fe71055cbed93557c3d21362', 'message': 'Custom CA certificates installation mechanism\n\nChange-Id: I0fd596d93a0e575a391250d4bed261ad370a3664\n'}]",5,686121,79d857f9e70b4aa2fe71055cbed93557c3d21362,43,13,8,28374,,,0,"Custom CA certificates installation mechanism

Change-Id: I0fd596d93a0e575a391250d4bed261ad370a3664
",git fetch https://review.opendev.org/openstack/kolla refs/changes/21/686121/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/start.sh', 'docker/base/Dockerfile.j2', 'docker/base/sudoers', 'docker/base/copy_cacerts.sh']",4,bdb0e4a0ccbc9d11f0cb4529b61895ae693851c0,bp/custom-cacerts,"#!/bin/bash if [[ -d /var/lib/kolla/config_files/ca-certificates ]] && [[ ! -z ""$(ls -A /var/lib/kolla/config_files/ca-certificates/)"" ]]; then cp -r /var/lib/kolla/config_files/ca-certificates /usr/local/share/ca-certificates/kolla-injected-cacerts /usr/sbin/update-ca-certificates || /bin/true fi ",,12,1
openstack%2Ftripleo-common~stable%2Fstein~I477219b7dca1e6cfa02a278c55a0cc1a9833d007,openstack/tripleo-common,stable/stein,I477219b7dca1e6cfa02a278c55a0cc1a9833d007,Implement threading locks around layers,MERGED,2019-10-04 17:34:48.000000000,2019-10-14 18:31:54.000000000,2019-10-14 18:24:38.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-04 17:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/521fd20825bc7755deda90102d6b505b1c6ec6da', 'message': ""Implement threading locks around layers\n\nWhen we fetch layers, we shouldn't fetch the same layers multiple times.\nThis change adds some locking basked on layer hashes to prevent multiple\nthreads from trying to fetch the same layer at the same time.\n\nChange-Id: I477219b7dca1e6cfa02a278c55a0cc1a9833d007\nRelated-Bug: #1844446\n(cherry picked from commit e57116d9c45c53ab5395025a32076c7c5bedbe45)\n""}, {'number': 2, 'created': '2019-10-04 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cb03d8c5e7cea82ee2c96ce209e7fbba36498740', 'message': ""Implement threading locks around layers\n\nWhen we fetch layers, we shouldn't fetch the same layers multiple times.\nThis change adds some locking basked on layer hashes to prevent multiple\nthreads from trying to fetch the same layer at the same time.\n\nChange-Id: I477219b7dca1e6cfa02a278c55a0cc1a9833d007\nRelated-Bug: #1844446\n(cherry picked from commit e57116d9c45c53ab5395025a32076c7c5bedbe45)\n""}, {'number': 3, 'created': '2019-10-07 14:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bde0d72c6d06456460c0e22a3abe2b185c6e8d3c', 'message': ""Implement threading locks around layers\n\nWhen we fetch layers, we shouldn't fetch the same layers multiple times.\nThis change adds some locking basked on layer hashes to prevent multiple\nthreads from trying to fetch the same layer at the same time.\n\nChange-Id: I477219b7dca1e6cfa02a278c55a0cc1a9833d007\nRelated-Bug: #1844446\n(cherry picked from commit e57116d9c45c53ab5395025a32076c7c5bedbe45)\n""}, {'number': 4, 'created': '2019-10-09 21:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ab05960a8d66bc8fc676632213737a095ed083d4', 'message': ""Implement threading locks around layers\n\nWhen we fetch layers, we shouldn't fetch the same layers multiple times.\nThis change adds some locking basked on layer hashes to prevent multiple\nthreads from trying to fetch the same layer at the same time.\n\nChange-Id: I477219b7dca1e6cfa02a278c55a0cc1a9833d007\nRelated-Bug: #1844446\n(cherry picked from commit e57116d9c45c53ab5395025a32076c7c5bedbe45)\n""}, {'number': 5, 'created': '2019-10-11 20:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e358a76cc39d005e0c3d83acd7cbcf6d0f08ad78', 'message': ""Implement threading locks around layers\n\nWhen we fetch layers, we shouldn't fetch the same layers multiple times.\nThis change adds some locking basked on layer hashes to prevent multiple\nthreads from trying to fetch the same layer at the same time.\n\nChange-Id: I477219b7dca1e6cfa02a278c55a0cc1a9833d007\nRelated-Bug: #1844446\n(cherry picked from commit e57116d9c45c53ab5395025a32076c7c5bedbe45)\n""}, {'number': 6, 'created': '2019-10-14 00:33:55.000000000', 'files': ['tripleo_common/image/exception.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/74abbd1f0e6eb0e62ccade1cb08865ec84896393', 'message': ""Implement threading locks around layers\n\nWhen we fetch layers, we shouldn't fetch the same layers multiple times.\nThis change adds some locking basked on layer hashes to prevent multiple\nthreads from trying to fetch the same layer at the same time.\n\nChange-Id: I477219b7dca1e6cfa02a278c55a0cc1a9833d007\nRelated-Bug: #1844446\n(cherry picked from commit e57116d9c45c53ab5395025a32076c7c5bedbe45)\n""}]",0,686789,74abbd1f0e6eb0e62ccade1cb08865ec84896393,36,4,6,14985,,,0,"Implement threading locks around layers

When we fetch layers, we shouldn't fetch the same layers multiple times.
This change adds some locking basked on layer hashes to prevent multiple
threads from trying to fetch the same layer at the same time.

Change-Id: I477219b7dca1e6cfa02a278c55a0cc1a9833d007
Related-Bug: #1844446
(cherry picked from commit e57116d9c45c53ab5395025a32076c7c5bedbe45)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/89/686789/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/exception.py', 'tripleo_common/image/image_uploader.py']",2,521fd20825bc7755deda90102d6b505b1c6ec6da,bug/1844446-stable/stein,"import threading import timefrom tripleo_common.image.exception import ImageUploaderThreadException uploader_lock = threading.Lock() uploader_lock_info = set() @classmethod @tenacity.retry( # Retry until we no longer have collisions retry=tenacity.retry_if_exception_type(ImageUploaderThreadException), wait=tenacity.wait_random_exponential(multiplier=1, max=10) ) def _layer_fetch_lock(cls, layer): LOG.debug('Locking layer %s' % layer) while layer in cls.uploader_lock_info: LOG.debug('%s is being fetched by another thread' % layer) time.sleep(0.5) LOG.debug('Starting acquire for lock %s' % layer) with cls.uploader_lock: if layer in cls.uploader_lock_info: LOG.debug('Collision for lock %s' % layer) raise ImageUploaderThreadException('layer conflict') LOG.debug('Acquired for lock %s' % layer) cls.uploader_lock_info.add(layer) LOG.debug('Updated lock info %s' % layer) LOG.debug('Got lock on layer %s' % layer) @classmethod def _layer_fetch_unlock(cls, layer): LOG.debug('Unlocking layer %s' % layer) LOG.debug('Starting acquire for lock %s' % layer) with cls.uploader_lock: LOG.debug('Acquired for unlock %s' % layer) if layer in cls.uploader_lock_info: cls.uploader_lock_info.remove(layer) LOG.debug('Updated lock info %s' % layer) LOG.debug('Released lock on layer %s' % layer) cls._layer_fetch_lock(layer) try: if cls._target_layer_exists_registry( target_url, layer_entry, [layer_entry], target_session): cls._layer_fetch_unlock(layer) return except ImageUploaderThreadException: # skip trying to unlock, because that's what threw the exception raise except Exception: cls._layer_fetch_unlock(layer) raise try: layer_stream = cls._layer_stream_registry( digest, source_url, calc_digest, source_session) layer_val = cls._copy_stream_to_registry( target_url, layer_entry, calc_digest, layer_stream, target_session) except Exception: raise else: return layer_val finally: cls._layer_fetch_unlock(layer)"," if cls._target_layer_exists_registry(target_url, layer_entry, [layer_entry], target_session): return layer_stream = cls._layer_stream_registry( digest, source_url, calc_digest, source_session) return cls._copy_stream_to_registry( target_url, layer_entry, calc_digest, layer_stream, target_session)",66,7
openstack%2Fopenstack-ansible-rsyslog_client~stable%2Fqueens~I60cf50d246ce3e2b47f6224c8696657fa2bb1052,openstack/openstack-ansible-rsyslog_client,stable/queens,I60cf50d246ce3e2b47f6224c8696657fa2bb1052,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:20:23.000000000,2019-10-14 18:31:53.000000000,2019-10-14 18:31:53.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:20:23.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/dc4d0683bfcf5f1888a411f12e7dac6eca2ec315', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I60cf50d246ce3e2b47f6224c8696657fa2bb1052\n""}]",0,688506,dc4d0683bfcf5f1888a411f12e7dac6eca2ec315,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I60cf50d246ce3e2b47f6224c8696657fa2bb1052
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/06/688506/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,dc4d0683bfcf5f1888a411f12e7dac6eca2ec315,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-rsyslog_client~stable%2Fpike~I37e1b75736e903f4703b1071dcd95c03596d5f38,openstack/openstack-ansible-rsyslog_client,stable/pike,I37e1b75736e903f4703b1071dcd95c03596d5f38,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:20:10.000000000,2019-10-14 18:28:16.000000000,2019-10-14 18:28:16.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:20:10.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/895560c9603626c243185dbf6540b7bc14412908', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I37e1b75736e903f4703b1071dcd95c03596d5f38\n""}]",0,688505,895560c9603626c243185dbf6540b7bc14412908,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I37e1b75736e903f4703b1071dcd95c03596d5f38
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/05/688505/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,895560c9603626c243185dbf6540b7bc14412908,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-ops~stable%2Fstein~I971a96572361c4acfaf61ade31d6630c03f78466,openstack/openstack-ansible-ops,stable/stein,I971a96572361c4acfaf61ade31d6630c03f78466,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:32:07.000000000,2019-10-14 18:24:45.000000000,2019-10-14 18:17:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-14 17:32:07.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/f2aad97db1b49f4f8237c3f27c8ee8321b1e762e', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I971a96572361c4acfaf61ade31d6630c03f78466\n""}]",0,688519,f2aad97db1b49f4f8237c3f27c8ee8321b1e762e,7,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I971a96572361c4acfaf61ade31d6630c03f78466
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/19/688519/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,f2aad97db1b49f4f8237c3f27c8ee8321b1e762e,goodbye_42.3,," name: ""openstack-ansible-ops:elk_metrics_6x-opensuse-423"" parent: ""openstack-ansible-ops:elk_metrics_6x-ubuntu-xenial"" nodeset: opensuse-423 voting: true - job: name: ""openstack-ansible-ops:elk_metrics_6x-opensuse-423-clustered"" parent: ""openstack-ansible-ops:elk_metrics_6x-ubuntu-xenial"" nodeset: opensuse-423 voting: false vars: osa_test_repo: ""openstack/openstack-ansible-ops"" test_clustered_elk: true - job:- job: name: ""openstack-ansible-ops:skydive-opensuse-423"" parent: ""openstack-ansible-ops:skydive-ubuntu-xenial"" nodeset: opensuse-423 ",0,24
openstack%2Fansible-role-qdrouterd~stable%2Frocky~I9925bcccda34bca5bec951587fbc14a522e83ecb,openstack/ansible-role-qdrouterd,stable/rocky,I9925bcccda34bca5bec951587fbc14a522e83ecb,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:21:08.000000000,2019-10-14 18:24:44.000000000,2019-10-14 18:24:44.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:21:08.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/c4109f6f4164f472684bc358257f04ac2a12fd1a', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I9925bcccda34bca5bec951587fbc14a522e83ecb\n""}]",0,688507,c4109f6f4164f472684bc358257f04ac2a12fd1a,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I9925bcccda34bca5bec951587fbc14a522e83ecb
",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/07/688507/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,c4109f6f4164f472684bc358257f04ac2a12fd1a,goodbye_42.3,, - openstack-ansible-functional-opensuse-423: voting: false,0,2
openstack%2Fnova~master~I006987bb8676a31b5877906dabcc7cf9877b1aeb,openstack/nova,master,I006987bb8676a31b5877906dabcc7cf9877b1aeb,FUP for I66d8f06f19c5c631e33208580428aa843abb38d2,ABANDONED,2019-08-27 19:49:38.000000000,2019-10-14 18:21:48.000000000,,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 13570}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-27 19:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2714d36031e57ce039ac53dcf26cabdead530c8b', 'message': ""FUP for I66d8f06f19c5c631e33208580428aa843abb38d2\n\nThis addresses comments from [1], specifically:\n\n1. We don't need to set self.instance.migration_context._context\n   since self.instance.save() will use self.instance._context\n   implicitly to save the migration_context in the source cell DB.\n\n2. Rename the self.migration instance variables to add a source_\n   or target_ prefix to make it easier to grok what they represent\n   in each task.\n\n[1] https://review.opendev.org/#/c/627890/53/nova/conductor/tasks/cross_cell_migrate.py\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I006987bb8676a31b5877906dabcc7cf9877b1aeb\n""}, {'number': 2, 'created': '2019-09-04 20:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db18134c81305095bf1026f43398b60c7f9e8bec', 'message': ""FUP for I66d8f06f19c5c631e33208580428aa843abb38d2\n\nThis addresses comments from [1], specifically:\n\n1. We don't need to set self.instance.migration_context._context\n   since self.instance.save() will use self.instance._context\n   implicitly to save the migration_context in the source cell DB.\n\n2. Rename the self.migration instance variables to add a source_\n   or target_ prefix to make it easier to grok what they represent\n   in each task.\n\n[1] https://review.opendev.org/#/c/627890/53/nova/conductor/tasks/cross_cell_migrate.py\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I006987bb8676a31b5877906dabcc7cf9877b1aeb\n""}, {'number': 3, 'created': '2019-09-21 23:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2639b0b1b6e57664ed1a9a11f82117f5125f464', 'message': ""FUP for I66d8f06f19c5c631e33208580428aa843abb38d2\n\nThis addresses comments from [1], specifically:\n\n1. We don't need to set self.instance.migration_context._context\n   since self.instance.save() will use self.instance._context\n   implicitly to save the migration_context in the source cell DB.\n\n2. Rename the self.migration instance variables to add a source_\n   or target_ prefix to make it easier to grok what they represent\n   in each task.\n\n[1] https://review.opendev.org/#/c/627890/53/nova/conductor/tasks/cross_cell_migrate.py\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I006987bb8676a31b5877906dabcc7cf9877b1aeb\n""}, {'number': 4, 'created': '2019-10-03 21:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5bb38bf5fdaec0fe3e5806fb1f1b196fb1090a69', 'message': ""FUP for I66d8f06f19c5c631e33208580428aa843abb38d2\n\nThis addresses comments from [1], specifically:\n\n1. We don't need to set self.instance.migration_context._context\n   since self.instance.save() will use self.instance._context\n   implicitly to save the migration_context in the source cell DB.\n\n2. Rename the self.migration instance variables to add a source_\n   or target_ prefix to make it easier to grok what they represent\n   in each task.\n\n[1] https://review.opendev.org/#/c/627890/53/nova/conductor/tasks/cross_cell_migrate.py\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I006987bb8676a31b5877906dabcc7cf9877b1aeb\n""}, {'number': 5, 'created': '2019-10-08 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecc13dbe1d1fd05027c0df06113f1957c9d32c90', 'message': ""FUP for I66d8f06f19c5c631e33208580428aa843abb38d2\n\nThis addresses comments from [1], specifically:\n\n1. We don't need to set self.instance.migration_context._context\n   since self.instance.save() will use self.instance._context\n   implicitly to save the migration_context in the source cell DB.\n\n2. Rename the self.migration instance variables to add a source_\n   or target_ prefix to make it easier to grok what they represent\n   in each task.\n\n[1] https://review.opendev.org/#/c/627890/53/nova/conductor/tasks/cross_cell_migrate.py\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I006987bb8676a31b5877906dabcc7cf9877b1aeb\n""}, {'number': 6, 'created': '2019-10-14 17:25:31.000000000', 'files': ['nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py', 'nova/conductor/tasks/cross_cell_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9fb351d93267a478eb100d9cccaf2512bc13e9bb', 'message': ""FUP for I66d8f06f19c5c631e33208580428aa843abb38d2\n\nThis addresses comments from [1], specifically:\n\n1. We don't need to set self.instance.migration_context._context\n   since self.instance.save() will use self.instance._context\n   implicitly to save the migration_context in the source cell DB.\n\n2. Rename the self.migration instance variables to add a source_\n   or target_ prefix to make it easier to grok what they represent\n   in each task.\n\n[1] https://review.opendev.org/#/c/627890/53/nova/conductor/tasks/cross_cell_migrate.py\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I006987bb8676a31b5877906dabcc7cf9877b1aeb\n""}]",0,678951,9fb351d93267a478eb100d9cccaf2512bc13e9bb,59,17,6,6873,,,0,"FUP for I66d8f06f19c5c631e33208580428aa843abb38d2

This addresses comments from [1], specifically:

1. We don't need to set self.instance.migration_context._context
   since self.instance.save() will use self.instance._context
   implicitly to save the migration_context in the source cell DB.

2. Rename the self.migration instance variables to add a source_
   or target_ prefix to make it easier to grok what they represent
   in each task.

[1] https://review.opendev.org/#/c/627890/53/nova/conductor/tasks/cross_cell_migrate.py

Part of blueprint cross-cell-resize

Change-Id: I006987bb8676a31b5877906dabcc7cf9877b1aeb
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/678951/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py', 'nova/conductor/tasks/cross_cell_migrate.py']",2,2714d36031e57ce039ac53dcf26cabdead530c8b,bp/cross-cell-resize," def __init__(self, context, instance, source_migration, target_cell_context): :param source_migration: source-cell Migration object for this operation self.source_migration = source_migration if self.source_migration.uuid == migration.uuid: def __init__(self, context, instance, flavor, target_migration, compute_rpcapi, host_selection, network_api, volume_api): :param target_migration: The Migration object from the target cell DB. self.target_migration = target_migration self.host_selection.nodename, self.target_migration, request_spec, source_migration, compute_rpcapi, :param source_migration: nova.objects.Migration record for this operation (from the source cell) self.source_migration = source_migration self.context, self.instance, self.source_migration, self.instance.migration_context.migration_id = self.source_migration.id self.source_migration.dest_compute = target_cell_migration.dest_compute self.source_migration.dest_node = target_cell_migration.dest_node self.source_migration.dest_host = target_cell_migration.dest_host self.source_migration.save() self.source_migration.cross_cell_move = True self.source_migration.save()"," def __init__(self, context, instance, migration, target_cell_context): :param migration: source-cell Migration object for this operation self.migration = migration if self.migration.uuid == migration.uuid: def __init__(self, context, instance, flavor, migration, compute_rpcapi, host_selection, network_api, volume_api): :param migration: The Migration object from the target cell DB. self.migration = migration self.host_selection.nodename, self.migration, request_spec, migration, compute_rpcapi, :param migration: nova.objects.Migration record for this operation (from the source cell) self.migration = migration self.context, self.instance, self.migration, self.instance.migration_context.migration_id = self.migration.id self.instance.migration_context._context = self.context self.migration.dest_compute = target_cell_migration.dest_compute self.migration.dest_node = target_cell_migration.dest_node self.migration.dest_host = target_cell_migration.dest_host self.migration.save() self.migration.cross_cell_move = True self.migration.save()",32,32
openstack%2Fopenstack-ansible-galera_client~stable%2Fqueens~I5c81b5d0512cebd85f24f0c4f574ff304d491949,openstack/openstack-ansible-galera_client,stable/queens,I5c81b5d0512cebd85f24f0c4f574ff304d491949,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:13:38.000000000,2019-10-14 18:20:47.000000000,2019-10-14 18:20:47.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:13:38.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/8407a5aeb7c3d0be1231173555badd878b1dfc3c', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I5c81b5d0512cebd85f24f0c4f574ff304d491949\n""}]",0,688492,8407a5aeb7c3d0be1231173555badd878b1dfc3c,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I5c81b5d0512cebd85f24f0c4f574ff304d491949
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/92/688492/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8407a5aeb7c3d0be1231173555badd878b1dfc3c,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fkayobe~stable%2Fstein~Idc96523a5108712a072b14889b1fba0f05c381e8,openstack/kayobe,stable/stein,Idc96523a5108712a072b14889b1fba0f05c381e8,format pxe_append_params as string and not a list,MERGED,2019-10-14 13:24:57.000000000,2019-10-14 18:12:10.000000000,2019-10-14 17:51:02.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-14 13:24:57.000000000', 'files': ['ansible/roles/kolla-openstack/templates/ironic.conf.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4f2845f855e9bc1155df52d20b928d84b6370b94', 'message': 'format pxe_append_params as string and not a list\n\nPlease see: https://docs.openstack.org/ironic/latest/configuration/sample-config.html\n\nChange-Id: Idc96523a5108712a072b14889b1fba0f05c381e8\nStory: 2006707\nTask: 37067\n(cherry picked from commit 6430ec5261da83d4e4ad05cd55decede427e3856)\n'}]",0,688403,4f2845f855e9bc1155df52d20b928d84b6370b94,10,4,1,28048,,,0,"format pxe_append_params as string and not a list

Please see: https://docs.openstack.org/ironic/latest/configuration/sample-config.html

Change-Id: Idc96523a5108712a072b14889b1fba0f05c381e8
Story: 2006707
Task: 37067
(cherry picked from commit 6430ec5261da83d4e4ad05cd55decede427e3856)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/03/688403/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kolla-openstack/templates/ironic.conf.j2'],1,4f2845f855e9bc1155df52d20b928d84b6370b94,dual1-stable/stein,pxe_append_params = {{ kolla_ironic_pxe_append_params | join(' ') }},"pxe_append_params = {{ kolla_ironic_pxe_append_params | join(',') }}",1,1
openstack%2Fsahara-plugin-cdh~stable%2Fstein~I5de5a2109f0b50adc209008738920fb11fd0fd76,openstack/sahara-plugin-cdh,stable/stein,I5de5a2109f0b50adc209008738920fb11fd0fd76,Fixes on CDH for python 3 compatibility,MERGED,2019-10-09 18:35:37.000000000,2019-10-14 18:08:46.000000000,2019-10-14 17:47:00.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 18:35:37.000000000', 'files': ['sahara_plugin_cdh/plugins/cdh/client/types.py', 'sahara_plugin_cdh/plugins/cdh/client/http_client.py', 'sahara_plugin_cdh/plugins/cdh/client/resource.py', 'sahara_plugin_cdh/plugins/cdh/db_helper.py', 'sahara_plugin_cdh/tests/unit/plugins/cdh/base_plugin_utils_test.py'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/3c4b42448bb3b341e150bad64e4e2d3840902d7b', 'message': 'Fixes on CDH for python 3 compatibility\n\nStory: #2005914\nTask: #34174\nChange-Id: I5de5a2109f0b50adc209008738920fb11fd0fd76\n(cherry picked from commit 9d443815fcfdd3fe11b6cbe3c47660920a2a8fc5)\n'}]",0,687649,3c4b42448bb3b341e150bad64e4e2d3840902d7b,7,2,1,10459,,,0,"Fixes on CDH for python 3 compatibility

Story: #2005914
Task: #34174
Change-Id: I5de5a2109f0b50adc209008738920fb11fd0fd76
(cherry picked from commit 9d443815fcfdd3fe11b6cbe3c47660920a2a8fc5)
",git fetch https://review.opendev.org/openstack/sahara-plugin-cdh refs/changes/49/687649/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_plugin_cdh/plugins/cdh/client/types.py', 'sahara_plugin_cdh/plugins/cdh/client/http_client.py', 'sahara_plugin_cdh/plugins/cdh/client/resource.py', 'sahara_plugin_cdh/plugins/cdh/db_helper.py', 'sahara_plugin_cdh/tests/unit/plugins/cdh/base_plugin_utils_test.py']",5,3c4b42448bb3b341e150bad64e4e2d3840902d7b,, create_db_script = (create_db_script % db_password).encode('utf-8') create_db_script = (create_db_script % db_password).encode('utf-8'), create_db_script = create_db_script % db_password create_db_script = create_db_script % db_password,31,12
openstack%2Fsahara~stable%2Fstein~Id0ad0f3c644af52f41217105b249df78d0b722cc,openstack/sahara,stable/stein,Id0ad0f3c644af52f41217105b249df78d0b722cc,Python 3 fixes,MERGED,2019-10-10 20:12:30.000000000,2019-10-14 18:08:38.000000000,2019-10-14 17:46:56.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 20:12:30.000000000', 'files': ['sahara/service/edp/spark/engine.py', 'sahara/utils/ssh_remote.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/1fa76ce666539a2d8381cad5286993e27322b56a', 'message': 'Python 3 fixes\n\nString to Bytes compatibility.\n\nStory: #2006258\nTask: #35875\nChange-Id: Id0ad0f3c644af52f41217105b249df78d0b722cc\n(cherry picked from commit abc8f570559d142bab22a7557ad1658a6407b7f6)\n'}]",0,687977,1fa76ce666539a2d8381cad5286993e27322b56a,7,2,1,10459,,,0,"Python 3 fixes

String to Bytes compatibility.

Story: #2006258
Task: #35875
Change-Id: Id0ad0f3c644af52f41217105b249df78d0b722cc
(cherry picked from commit abc8f570559d142bab22a7557ad1658a6407b7f6)
",git fetch https://review.opendev.org/openstack/sahara refs/changes/77/687977/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/service/edp/spark/engine.py', 'sahara/utils/ssh_remote.py']",2,1fa76ce666539a2d8381cad5286993e27322b56a,python3_update, try: write_data = paramiko.py3compat.StringIO(data) except TypeError: write_data = paramiko.py3compat.BytesIO(data) , write_data = paramiko.py3compat.StringIO(data),6,2
openstack%2Fopenstack-ansible-pip_install~stable%2Fqueens~I6197f2ec958014f27fd057c22baa11bc48ef445a,openstack/openstack-ansible-pip_install,stable/queens,I6197f2ec958014f27fd057c22baa11bc48ef445a,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:12:03.000000000,2019-10-14 17:58:44.000000000,2019-10-14 17:58:44.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:12:03.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/6af4bb7efc76cf458c334c55c3e7dcb996e91fd8', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I6197f2ec958014f27fd057c22baa11bc48ef445a\n""}]",0,688487,6af4bb7efc76cf458c334c55c3e7dcb996e91fd8,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I6197f2ec958014f27fd057c22baa11bc48ef445a
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/87/688487/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6af4bb7efc76cf458c334c55c3e7dcb996e91fd8,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fansible-hardening~stable%2Fpike~Id059056c40a2b41b274b8ede9c03d97a018c744b,openstack/ansible-hardening,stable/pike,Id059056c40a2b41b274b8ede9c03d97a018c744b,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 16:56:02.000000000,2019-10-14 17:54:50.000000000,2019-10-14 17:54:50.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 16:56:02.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/72ac0ad58642528bf7bccde799f7456a1079ab68', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: Id059056c40a2b41b274b8ede9c03d97a018c744b\n""}]",0,688459,72ac0ad58642528bf7bccde799f7456a1079ab68,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: Id059056c40a2b41b274b8ede9c03d97a018c744b
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/59/688459/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,72ac0ad58642528bf7bccde799f7456a1079ab68,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fansible-hardening~stable%2Fqueens~I4713389e1c7f0e3872b3abe0b4cb0841cec383cc,openstack/ansible-hardening,stable/queens,I4713389e1c7f0e3872b3abe0b4cb0841cec383cc,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 16:56:35.000000000,2019-10-14 17:54:49.000000000,2019-10-14 17:54:49.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 16:56:35.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/8c8607ba975e8c9e308255c22071cdbbc0e0eb81', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I4713389e1c7f0e3872b3abe0b4cb0841cec383cc\n""}]",0,688460,8c8607ba975e8c9e308255c22071cdbbc0e0eb81,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I4713389e1c7f0e3872b3abe0b4cb0841cec383cc
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/60/688460/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8c8607ba975e8c9e308255c22071cdbbc0e0eb81,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fqueens~Iad75f5d5e6f22e482e33b2a642a00e995078c8af,openstack/openstack-ansible-openstack_hosts,stable/queens,Iad75f5d5e6f22e482e33b2a642a00e995078c8af,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 16:54:57.000000000,2019-10-14 17:54:49.000000000,2019-10-14 17:54:48.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 16:54:57.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/6f663a49d7d901aa4cb7279366c734b0d6b6bfdb', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: Iad75f5d5e6f22e482e33b2a642a00e995078c8af\n""}]",0,688457,6f663a49d7d901aa4cb7279366c734b0d6b6bfdb,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: Iad75f5d5e6f22e482e33b2a642a00e995078c8af
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/57/688457/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6f663a49d7d901aa4cb7279366c734b0d6b6bfdb,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fnova-specs~master~I359fa674c69c0a6012b90b5bbb6f90b2cb593284,openstack/nova-specs,master,I359fa674c69c0a6012b90b5bbb6f90b2cb593284,[WIP]Add blueprint snapshot-vms-with-state of-processes,ABANDONED,2019-10-14 17:50:59.000000000,2019-10-14 17:53:19.000000000,,[],"[{'number': 1, 'created': '2019-10-14 17:50:59.000000000', 'files': ['specs/pike/approved/snapshot-vms-with-state-of-processes.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/bff4fe78afac3e9f39101ade6ecd72f4267067bf', 'message': '[WIP]Add blueprint snapshot-vms-with-state of-processes\n\nChange-Id: I359fa674c69c0a6012b90b5bbb6f90b2cb593284\nSigned-off-by: SonPham <phamngocsonls@gmail.com>\n'}]",0,688522,bff4fe78afac3e9f39101ade6ecd72f4267067bf,2,0,1,30977,,,0,"[WIP]Add blueprint snapshot-vms-with-state of-processes

Change-Id: I359fa674c69c0a6012b90b5bbb6f90b2cb593284
Signed-off-by: SonPham <phamngocsonls@gmail.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/22/688522/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/snapshot-vms-with-state-of-processes.rst'],1,bff4fe78afac3e9f39101ade6ecd72f4267067bf,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ Live snapshot for VM with state of processes ============================================ https://blueprints.launchpad.net/nova/+spec/snapshot-vms-with-state-of-processes The aim of this feature is to let create a new type of live-snapshot with state of processes via libvirt. Problem description =================== * Openstack snapshot is supported live-snapshot but a snapshot is a disk snapshot. When you want to use a snapshot, you must create new instance with image and volume created created earlier. There is no solution yet to keep running process of instance in snapshot. * Default xml file is generated by libvirt: :: <disk type=""network"" device=""disk""> <driver name=""qemu"" type=""raw""> With type=""raw"", create internal snapshot is impossible. I tried to change type to type=""qcow2"" to create internalsnapshot (qcow2 supported) but can't boot to instance with error [Error: CantStartEngineError] Use Cases --------- As a user in an OpenStack, it's important that I can save my data with snapshot, reduce boot time of instance. Preserve all state of the instance at the time of snapshot creation. Proposed change =============== Workflow to create new snapshot: * Create new external-snapshot to change disk type from RAW to QCOW2. After external snapshot is created, new external snapshot is overlay[1] of old volume (root base). New data write to disk will write to new overlay[1], root base now is read-only disk. User can put external snapshot in other directory. Instance now can create internal snapshot. Example virsh command (Can create via libvirt-api): :: sudo virsh snapshot-create-as --domain instance-00000001 \ --name ""cirros"" \ --description ""cirros"" \ --diskspec vda,file=/home/cloud/iso/instance01.qcow2 \ --disk-only \ --atomic file=/home/cloud/iso/instance01.qcow2 (is external snapshot directory) * Use blockpull to merge rootbase to overlay. Now, vms work on overlay. Example virsh command: :: sudo virsh blockpull \ --domain instance-00000001 \ --path /home/cloud/iso/instance01.qcow2 \ --wait \ --verbose * Create new internal snapshot using virsh. When create internal snapshot, instance change to pause state and collect all data from start snapshot and save to snapshot. Instance resume after snapshot finish. Virsh command example: :: sudo virsh snapshot-create instance-00000001 * New xml disk format (type's value change to qcow2): :: <disk type='file' device='disk'> <driver name='qemu' type='qcow2' cache='writeback' discard='unmap'/> <source file='/home/cloud/iso/instance15.qcow2'/> <backingStore/> <target dev='vda' bus='virtio'/> <serial>fae22617-3455-4938-9e08-9f55bef81861</serial> <alias name='virtio-disk0'/> <address type='pci' domain='0x0000' bus='0x00' slot='0x04' function='0x0'/> </disk> Add a configuration option to create new snapshot type(snapshot keep process): * A new snapshot type use libvirt for snapshot, revert snapshot and delete. * A new type of boot is required. After instance has been snapshotted, it is difficult to start instance. Because after snapshot, cinder will not manage instance storage. Instance disk type has been converted form RAW to QCOW2 and move instance disk to other directory. Start instance has new snapshot type will make it error, because instance is no longer booting from cinder volume. Action ""start"" like ""Hard reboot instance"", Nova will reload information from old xml file. ""Soft reboot"" does not make instance error but can't use soft reboot when instance status is ""Shutoff"" but we can fix it. A new type of boot is ""soft snapshot"" when shutoff (Please disable hard reboot when instance has been snapshotted. * Before delete instance, instance must be deleted all snapshot. ""Delete an instance"" action include delete snapshots. * Revert snapshot with input: domain name, snapshot name ( use libvirt for revert) example command: virsh snapshot-revert <domain-name> <snapshot-name> Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- Updating ... Security impact --------------- Nova no longer needs to store the volume connection information Notifications impact -------------------- None Other end user impact --------------------- Update python-novaclient, add new command to create external snapshot + blockpull, create internal snapshot, restore snapshot, delete snapshot. Performance Impact ------------------ Create and restore snapshot will make instance ""pause"" some minute depending on the size of the product. Create more snapshot on instance make the waiting time gets bigger. User can delete older snapshot, restart, change disk-cache type to unsafe to make faster. Other deployer impact --------------------- Work with libvirt driver with KVM :: compute_driver = libvirt.LibvirtDriver virt_type = kvm With Openstack multi-node system, Qcow2 volume disk( instance vloume and storage snapshot) is located at compute node. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Son Pham Ngoc (sonpn) Other contributors: Cloudrity Work Items ---------- #. Create/restore live-snapshot with state of processes via Libvirt #. Soft start for instance has new snapshot type #. Fix ``Delete instance`` to delete instance has new snapshot type #. Dashboard on Horizon to show more information about instance's snapshot #. Provide Nova API for Create snapshot, Revert to snapshot, Delete snapshot,etc Dependencies ============ * libvirt-python Testing ======= None Documentation Impact ==================== * API documentation will need to be updated * The documentation for ``new snapshot type`` References ========== None History ======= None .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Pike - Introduced",,250,0
openstack%2Fsushy~master~I09f2ab3a12480c8a42e62100932cd7b35d67a0e1,openstack/sushy,master,I09f2ab3a12480c8a42e62100932cd7b35d67a0e1,Fix `Uefi` in `BootSourceOverrideMode` enumeration,ABANDONED,2019-10-04 10:42:22.000000000,2019-10-14 17:51:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-10-04 10:42:22.000000000', 'files': ['releasenotes/notes/fix-uefi-enumeration-9d7731046850f21a.yaml', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/tests/unit/json_samples/system.json', 'sushy/resources/system/mappings.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/38f150958457d46bab97f78828064876adfd4738', 'message': 'Fix `Uefi` in `BootSourceOverrideMode` enumeration\n\nFixes ``Uefu`` constant spelling of the ``BootSourceOverrideMode`` JSON\nattribute to comply with the Redfish schema. Before this fix, sushy has\nbeen producing invalid PATCH payload likely resulting in a failure when\ntrying to set node boot mode to UEFI.\n\nChange-Id: I09f2ab3a12480c8a42e62100932cd7b35d67a0e1\n'}]",0,686568,38f150958457d46bab97f78828064876adfd4738,4,2,1,26340,,,0,"Fix `Uefi` in `BootSourceOverrideMode` enumeration

Fixes ``Uefu`` constant spelling of the ``BootSourceOverrideMode`` JSON
attribute to comply with the Redfish schema. Before this fix, sushy has
been producing invalid PATCH payload likely resulting in a failure when
trying to set node boot mode to UEFI.

Change-Id: I09f2ab3a12480c8a42e62100932cd7b35d67a0e1
",git fetch https://review.opendev.org/openstack/sushy refs/changes/68/686568/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-uefi-enumeration-9d7731046850f21a.yaml', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/tests/unit/json_samples/system.json', 'sushy/resources/system/mappings.py']",4,38f150958457d46bab97f78828064876adfd4738,fix-uefi-enumeration," 'Uefi': sys_cons.BOOT_SOURCE_MODE_UEFI,"," 'UEFI': sys_cons.BOOT_SOURCE_MODE_UEFI,",10,3
openstack%2Fopenstack-ansible-openstack_openrc~stable%2Fqueens~Ic5f9833e50b3e321e14810432c9df7aaed0dcf7e,openstack/openstack-ansible-openstack_openrc,stable/queens,Ic5f9833e50b3e321e14810432c9df7aaed0dcf7e,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:13:01.000000000,2019-10-14 17:51:09.000000000,2019-10-14 17:51:09.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:13:01.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/4c387b4789e17f19a804ac886f9c748c4324b51f', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: Ic5f9833e50b3e321e14810432c9df7aaed0dcf7e\n""}]",0,688490,4c387b4789e17f19a804ac886f9c748c4324b51f,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: Ic5f9833e50b3e321e14810432c9df7aaed0dcf7e
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/90/688490/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,4c387b4789e17f19a804ac886f9c748c4324b51f,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-openstack_openrc~stable%2Fpike~I0025acfe97cd78baa2ffaab8f22b8bd96918ceef,openstack/openstack-ansible-openstack_openrc,stable/pike,I0025acfe97cd78baa2ffaab8f22b8bd96918ceef,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:12:49.000000000,2019-10-14 17:51:09.000000000,2019-10-14 17:51:09.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:12:49.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/7640644df40b32fa7007251def780558a134808d', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I0025acfe97cd78baa2ffaab8f22b8bd96918ceef\n""}]",0,688489,7640644df40b32fa7007251def780558a134808d,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I0025acfe97cd78baa2ffaab8f22b8bd96918ceef
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/89/688489/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,7640644df40b32fa7007251def780558a134808d,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-pip_install~stable%2Fqueens~I1357f8e4644813ef4174c0463d2c546c6c662d1b,openstack/openstack-ansible-pip_install,stable/queens,I1357f8e4644813ef4174c0463d2c546c6c662d1b,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:12:15.000000000,2019-10-14 17:51:08.000000000,2019-10-14 17:51:08.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:12:15.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/6fa0b3843f461876e9bd8d549f3e016022cd91ef', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I1357f8e4644813ef4174c0463d2c546c6c662d1b\n""}]",0,688488,6fa0b3843f461876e9bd8d549f3e016022cd91ef,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I1357f8e4644813ef4174c0463d2c546c6c662d1b
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/88/688488/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6fa0b3843f461876e9bd8d549f3e016022cd91ef,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-rsyslog_server~stable%2Fpike~I298251d3cad91e2c8079cbb9055bf44e2deac76d,openstack/openstack-ansible-rsyslog_server,stable/pike,I298251d3cad91e2c8079cbb9055bf44e2deac76d,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:11:28.000000000,2019-10-14 17:51:07.000000000,2019-10-14 17:51:07.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:11:28.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/2c2dfceec20042c97bbad6a4a52034bca2136d56', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I298251d3cad91e2c8079cbb9055bf44e2deac76d\n""}]",0,688486,2c2dfceec20042c97bbad6a4a52034bca2136d56,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I298251d3cad91e2c8079cbb9055bf44e2deac76d
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_server refs/changes/86/688486/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,2c2dfceec20042c97bbad6a4a52034bca2136d56,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-rsyslog_server~stable%2Fqueens~I1b439d287f3e9bfe7935c8c6d89d052da79b43a5,openstack/openstack-ansible-rsyslog_server,stable/queens,I1b439d287f3e9bfe7935c8c6d89d052da79b43a5,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:11:04.000000000,2019-10-14 17:51:07.000000000,2019-10-14 17:51:07.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:11:04.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/f90f3e20ae43e12e6421015c689c87e9d924f592', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I1b439d287f3e9bfe7935c8c6d89d052da79b43a5\n""}]",0,688485,f90f3e20ae43e12e6421015c689c87e9d924f592,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I1b439d287f3e9bfe7935c8c6d89d052da79b43a5
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_server refs/changes/85/688485/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f90f3e20ae43e12e6421015c689c87e9d924f592,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-memcached_server~stable%2Fqueens~Ic9b12413e21477f633c7b52a1fdb3b8b524da257,openstack/openstack-ansible-memcached_server,stable/queens,Ic9b12413e21477f633c7b52a1fdb3b8b524da257,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:03:23.000000000,2019-10-14 17:51:06.000000000,2019-10-14 17:51:06.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:03:23.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/21dc10a7b2ef70221c7eb380a4ca85aecef5b5bf', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: Ic9b12413e21477f633c7b52a1fdb3b8b524da257\n""}]",0,688471,21dc10a7b2ef70221c7eb380a4ca85aecef5b5bf,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: Ic9b12413e21477f633c7b52a1fdb3b8b524da257
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/71/688471/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,21dc10a7b2ef70221c7eb380a4ca85aecef5b5bf,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-memcached_server~stable%2Fpike~Ifec7d7cba36c50f84690db87d60798022b6f04a9,openstack/openstack-ansible-memcached_server,stable/pike,Ifec7d7cba36c50f84690db87d60798022b6f04a9,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:02:38.000000000,2019-10-14 17:51:05.000000000,2019-10-14 17:51:05.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:02:38.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/28b28d54316a2c56fe5b5035236438a7aa3e8fdd', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: Ifec7d7cba36c50f84690db87d60798022b6f04a9\n""}]",0,688470,28b28d54316a2c56fe5b5035236438a7aa3e8fdd,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: Ifec7d7cba36c50f84690db87d60798022b6f04a9
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/70/688470/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,28b28d54316a2c56fe5b5035236438a7aa3e8fdd,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-ceph_client~stable%2Fpike~I2bc033ec8d6584ded1d56c42096905d7465ed506,openstack/openstack-ansible-ceph_client,stable/pike,I2bc033ec8d6584ded1d56c42096905d7465ed506,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:05:18.000000000,2019-10-14 17:47:06.000000000,2019-10-14 17:47:05.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:05:18.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/54c67bc17e78c68922604088a0634b0eec2f8f9b', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I2bc033ec8d6584ded1d56c42096905d7465ed506\n""}]",0,688475,54c67bc17e78c68922604088a0634b0eec2f8f9b,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I2bc033ec8d6584ded1d56c42096905d7465ed506
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/75/688475/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,54c67bc17e78c68922604088a0634b0eec2f8f9b,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-ceph_client~stable%2Fqueens~I41b4bb0d1e4b6ba3bab7a7b94655e4378adfed29,openstack/openstack-ansible-ceph_client,stable/queens,I41b4bb0d1e4b6ba3bab7a7b94655e4378adfed29,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:05:42.000000000,2019-10-14 17:47:05.000000000,2019-10-14 17:47:05.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:05:42.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/8ca0a331993518aecfa7f05aab249ed4c472be61', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I41b4bb0d1e4b6ba3bab7a7b94655e4378adfed29\n""}]",0,688476,8ca0a331993518aecfa7f05aab249ed4c472be61,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I41b4bb0d1e4b6ba3bab7a7b94655e4378adfed29
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/76/688476/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8ca0a331993518aecfa7f05aab249ed4c472be61,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fqueens~I46e4efbfdb7ec44a981d8410b4eaf82ba6704117,openstack/openstack-ansible-haproxy_server,stable/queens,I46e4efbfdb7ec44a981d8410b4eaf82ba6704117,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:04:32.000000000,2019-10-14 17:47:04.000000000,2019-10-14 17:47:04.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:04:32.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/088514969cd221685be93e090a311322d9f5f939', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I46e4efbfdb7ec44a981d8410b4eaf82ba6704117\n""}]",0,688473,088514969cd221685be93e090a311322d9f5f939,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I46e4efbfdb7ec44a981d8410b4eaf82ba6704117
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/73/688473/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,088514969cd221685be93e090a311322d9f5f939,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fpike~I0f642f598a28e16fc52cc7a22c13a304dfdfaf1d,openstack/openstack-ansible-haproxy_server,stable/pike,I0f642f598a28e16fc52cc7a22c13a304dfdfaf1d,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 17:03:58.000000000,2019-10-14 17:47:04.000000000,2019-10-14 17:47:04.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:03:58.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/6cb02e317cf723686e99e4985770d23bcac0c898', 'message': ""Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so\nthat we can remove Leap 42.3 from Opendev infrastructure.\n\nChange-Id: I0f642f598a28e16fc52cc7a22c13a304dfdfaf1d\n""}]",0,688472,6cb02e317cf723686e99e4985770d23bcac0c898,6,2,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is EOL since June 2019, let's remove remaining jobs so
that we can remove Leap 42.3 from Opendev infrastructure.

Change-Id: I0f642f598a28e16fc52cc7a22c13a304dfdfaf1d
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/72/688472/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6cb02e317cf723686e99e4985770d23bcac0c898,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fbifrost~stable%2Fqueens~I01feece468b2df904b7e1d0c04e36fb7240e7f0d,openstack/bifrost,stable/queens,I01feece468b2df904b7e1d0c04e36fb7240e7f0d,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 16:39:14.000000000,2019-10-14 17:42:22.000000000,2019-10-14 17:42:22.000000000,"[{'_account_id': 6593}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 16:39:14.000000000', 'files': ['zuul.d/legacy-bifrost-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/73786d79fc825a1df9a8727d9690083fa46296b7', 'message': 'Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is going to be EOL on June 2019, so it is time\nto remove jobs.\n\nDo not add new jobs (as in master) since this is a stable branch.\n\nChange-Id: I01feece468b2df904b7e1d0c04e36fb7240e7f0d\n(cherry picked from commit 09c7bd99b6ea948393979d5767639042eda88d46)\n(cherry picked from commit 7527b33c35bf4ef6683f3582c2200967d2339050)\n(cherry picked from commit 590e7305568b06dd0ecf95c85e2e123ab41159d9)\n'}]",0,688448,73786d79fc825a1df9a8727d9690083fa46296b7,7,3,1,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is going to be EOL on June 2019, so it is time
to remove jobs.

Do not add new jobs (as in master) since this is a stable branch.

Change-Id: I01feece468b2df904b7e1d0c04e36fb7240e7f0d
(cherry picked from commit 09c7bd99b6ea948393979d5767639042eda88d46)
(cherry picked from commit 7527b33c35bf4ef6683f3582c2200967d2339050)
(cherry picked from commit 590e7305568b06dd0ecf95c85e2e123ab41159d9)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/48/688448/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/legacy-bifrost-jobs.yaml', 'zuul.d/project.yaml']",2,73786d79fc825a1df9a8727d9690083fa46296b7,goodbye_42.3,, - bifrost-integration-tinyipa-opensuse-423 - bifrost-integration-dhcp-opensuse-423: voting: false - bifrost-integration-dibipa-debian-opensuse-423: voting: false - bifrost-integration-tinyipa-opensuse-423,0,21
openstack%2Fbifrost~stable%2Frocky~I01feece468b2df904b7e1d0c04e36fb7240e7f0d,openstack/bifrost,stable/rocky,I01feece468b2df904b7e1d0c04e36fb7240e7f0d,Remove openSUSE Leap 42.3  jobs,MERGED,2019-10-14 16:32:04.000000000,2019-10-14 17:42:21.000000000,2019-10-14 17:42:21.000000000,"[{'_account_id': 6593}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 16:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6c743eb9075a8ef2783112f6cb84f5077c0d73a4', 'message': 'Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is going to be EOL on June 2019, so it is time\nto remove jobs. Also rename the Leap 15.0 (opensuse-150) job to\nLeap 15 (opensuse-15) so that we can be more easily updating this\nto the opensuse-15 nodepool image (which is opensuse 15.1)\n\nChange-Id: I01feece468b2df904b7e1d0c04e36fb7240e7f0d\n(cherry picked from commit 09c7bd99b6ea948393979d5767639042eda88d46)\n(cherry picked from commit 7527b33c35bf4ef6683f3582c2200967d2339050)\n'}, {'number': 2, 'created': '2019-10-14 16:34:00.000000000', 'files': ['zuul.d/legacy-bifrost-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/590e7305568b06dd0ecf95c85e2e123ab41159d9', 'message': 'Remove openSUSE Leap 42.3  jobs\n\nopenSUSE Leap 42.3 is going to be EOL on June 2019, so it is time\nto remove jobs.\n\nDo not add new jobs (as in master) since this is a stable branch.\n\nChange-Id: I01feece468b2df904b7e1d0c04e36fb7240e7f0d\n(cherry picked from commit 09c7bd99b6ea948393979d5767639042eda88d46)\n(cherry picked from commit 7527b33c35bf4ef6683f3582c2200967d2339050)\n'}]",0,688447,590e7305568b06dd0ecf95c85e2e123ab41159d9,9,3,2,6547,,,0,"Remove openSUSE Leap 42.3  jobs

openSUSE Leap 42.3 is going to be EOL on June 2019, so it is time
to remove jobs.

Do not add new jobs (as in master) since this is a stable branch.

Change-Id: I01feece468b2df904b7e1d0c04e36fb7240e7f0d
(cherry picked from commit 09c7bd99b6ea948393979d5767639042eda88d46)
(cherry picked from commit 7527b33c35bf4ef6683f3582c2200967d2339050)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/47/688447/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/legacy-bifrost-jobs.yaml', 'zuul.d/project.yaml']",2,6c743eb9075a8ef2783112f6cb84f5077c0d73a4,goodbye_42.3,, - bifrost-integration-tinyipa-opensuse-423 - bifrost-integration-dhcp-opensuse-423: voting: false - bifrost-integration-dibipa-debian-opensuse-423: voting: false - bifrost-integration-tinyipa-opensuse-423,0,21
openstack%2Ftripleo-upgrade~stable%2Fstein~Ia13f479d58979561fca1c274ac7dde5dc8c2343a,openstack/tripleo-upgrade,stable/stein,Ia13f479d58979561fca1c274ac7dde5dc8c2343a,Enable system upgrade and upgrade run per host.,MERGED,2019-09-27 08:04:58.000000000,2019-10-14 17:38:55.000000000,2019-10-14 17:38:55.000000000,"[{'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 27141}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-09-27 08:04:58.000000000', 'files': ['templates/workarounds.sh.j2', 'tasks/upgrade/create-overcloud-upgrade-hosts-scripts.yaml', 'tasks/upgrade/overcloud_upgrade_hosts.yaml', 'templates/overcloud_upgrade_run.sh.j2', 'tasks/upgrade/overcloud_upgrade_roles.yaml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/overcloud_upgrade_run.yml', 'tasks/upgrade/main.yml', 'defaults/main.yml', 'templates/overcloud_system_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/83da9030e196feee755d6a21c8e987aba4690cee', 'message': ""Enable system upgrade and upgrade run per host.\n\nAllow the execution of the overcloud upgrade steps by hosts\nwithing the Overcloud roles. After this patch is merged, the hosts\ncontained in the ovecloud roles (Controllers, Computes, Storage, etc...)\nwill be taken serially to apply the upgrade host by host.\n\nFor each of the hosts within these roles we'll execute the following\nsteps:\n\n1- Pre overcloud system upgrade workarounds (Workaround executed in the\n   host via Ansible with --limit)\n2a- Overcloud system upgrade prepare + overcloud system upgrade run (if\n   system_upgrade_compact == false)\n2b- Overcloud system upgrade (if system_upgrade_compact == true)[Default]\n3- Overcloud system upgrade transfer (if role == Controller and\n   host == first)\n4- Post overcloud system upgrade workaronuds (Workaround executed in the\n   host via Ansible with --limit)\n5- Pre overcloud upgrade run workarounds (Workaround executed in the\n   host via Ansible with --limit)\n6- Overcloud upgrade run\n7- Post overcloud upgrade run workarounds (Workaround executed in the\n   host via Ansible with --limit)\n\nThese sets of steps will be executed for all the hosts belonging to the\nOvercloud Ansible group.\n\nChange-Id: Ia13f479d58979561fca1c274ac7dde5dc8c2343a\n(cherry picked from commit 9e23fa6cdbba672e5b1b6094760df8131bd6d254)\n""}]",0,685218,83da9030e196feee755d6a21c8e987aba4690cee,11,10,1,26343,,,0,"Enable system upgrade and upgrade run per host.

Allow the execution of the overcloud upgrade steps by hosts
withing the Overcloud roles. After this patch is merged, the hosts
contained in the ovecloud roles (Controllers, Computes, Storage, etc...)
will be taken serially to apply the upgrade host by host.

For each of the hosts within these roles we'll execute the following
steps:

1- Pre overcloud system upgrade workarounds (Workaround executed in the
   host via Ansible with --limit)
2a- Overcloud system upgrade prepare + overcloud system upgrade run (if
   system_upgrade_compact == false)
2b- Overcloud system upgrade (if system_upgrade_compact == true)[Default]
3- Overcloud system upgrade transfer (if role == Controller and
   host == first)
4- Post overcloud system upgrade workaronuds (Workaround executed in the
   host via Ansible with --limit)
5- Pre overcloud upgrade run workarounds (Workaround executed in the
   host via Ansible with --limit)
6- Overcloud upgrade run
7- Post overcloud upgrade run workarounds (Workaround executed in the
   host via Ansible with --limit)

These sets of steps will be executed for all the hosts belonging to the
Overcloud Ansible group.

Change-Id: Ia13f479d58979561fca1c274ac7dde5dc8c2343a
(cherry picked from commit 9e23fa6cdbba672e5b1b6094760df8131bd6d254)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/18/685218/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/workarounds.sh.j2', 'tasks/upgrade/create-overcloud-upgrade-hosts-scripts.yaml', 'tasks/upgrade/overcloud_upgrade_hosts.yaml', 'templates/overcloud_upgrade_run.sh.j2', 'tasks/upgrade/overcloud_upgrade_roles.yaml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'tasks/upgrade/overcloud_upgrade_run.yml', 'tasks/upgrade/main.yml', 'defaults/main.yml', 'templates/overcloud_system_upgrade.sh.j2']",10,83da9030e196feee755d6a21c8e987aba4690cee,,"#!/bin/env bash # # Run overcloud Operating System upgrade on overcloud node {{ item }} # set -euo pipefail source {{ undercloud_rc }} {% if system_upgrade_compact|bool -%} echo ""[$(date)] Started system upgrade step for {{ item }} role"" openstack overcloud upgrade run \ --playbook upgrade_steps_playbook.yaml \ --tags system_upgrade \ --limit {{ item }} 2>&1 echo ""[$(date)] Finished system upgrade step for {{ item }} role"" {% else -%} echo ""[$(date)] Started system upgrade prepare for {{ item }} role"" openstack overcloud upgrade run \ --playbook upgrade_steps_playbook.yaml \ --tags system_upgrade_prepare \ --limit {{ item }} 2>&1 echo ""[$(date)] Finished system upgrade prepare for {{ item }} role"" echo ""[$(date)] Started system upgrade run for {{ item }} role"" openstack overcloud upgrade run \ --playbook upgrade_steps_playbook.yaml \ --tags system_upgrade_run \ --limit {{ item }} 2>&1 echo ""[$(date)] Finished system upgrade run for {{ item }} role"" {% endif -%} {% if role == 'Controller' and role_hosts|length > 1 and role_hosts.index(item) == 0 -%} echo ""[$(date)] Started system upgrade transfer data for {{ item }} role"" openstack overcloud external-upgrade run \ --tags system_upgrade_transfer_data 2>&1 echo ""[$(date)] Finished system upgrade transfer data for {{ item }} role"" {% endif -%} ",,202,50
openstack%2Fsahara~stable%2Fstein~I5571ac5e578f98465737373598b358aa7dab93e0,openstack/sahara,stable/stein,I5571ac5e578f98465737373598b358aa7dab93e0,"grenade: target stein, disable heat integration tests",MERGED,2019-10-10 20:12:00.000000000,2019-10-14 17:38:26.000000000,2019-10-14 17:35:07.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 20:12:00.000000000', 'files': ['playbooks/sahara-grenade/run.yaml', 'devstack/upgrade/settings'], 'web_link': 'https://opendev.org/openstack/sahara/commit/7adbbd67d6be2fd759a1237aad770ecc09539716', 'message': 'grenade: target stein, disable heat integration tests\n\n- set the target of the upgrade to stein;\n- heat tests should have been disabled already here;\n  they are really flaky, they takes more time and they should be\n  tested by heat.\n\nChange-Id: I5571ac5e578f98465737373598b358aa7dab93e0\n(cherry picked from commit 810d94bfbb1ffa0c68949c3180dadfab333fb4cd)\n'}]",0,687976,7adbbd67d6be2fd759a1237aad770ecc09539716,7,2,1,10459,,,0,"grenade: target stein, disable heat integration tests

- set the target of the upgrade to stein;
- heat tests should have been disabled already here;
  they are really flaky, they takes more time and they should be
  tested by heat.

Change-Id: I5571ac5e578f98465737373598b358aa7dab93e0
(cherry picked from commit 810d94bfbb1ffa0c68949c3180dadfab333fb4cd)
",git fetch https://review.opendev.org/openstack/sahara refs/changes/76/687976/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/sahara-grenade/run.yaml', 'devstack/upgrade/settings']",2,7adbbd67d6be2fd759a1237aad770ecc09539716,, https://opendev.org/openstack/sahara \ https://opendev.org/openstack/heat \ https://opendev.org/openstack/sahara \ stable/stein https://opendev.org/openstack/heat \ stable/stein," https://git.openstack.org/openstack/sahara \ https://git.openstack.org/openstack/heat \devstack_localrc base DEFAULT_IMAGE_NAME=""cirros-0.3.5-x86_64-uec"" https://git.openstack.org/openstack/sahara https://git.openstack.org/openstack/heat",7,6
openstack%2Fmonasca-specs~master~I915376827604bc692cd26b7ed00812c64ee2e3c0,openstack/monasca-specs,master,I915376827604bc692cd26b7ed00812c64ee2e3c0,Metrics retention policy enhancement,MERGED,2018-02-23 01:51:31.000000000,2019-10-14 17:35:14.000000000,2019-10-14 17:27:32.000000000,"[{'_account_id': 9320}, {'_account_id': 10311}, {'_account_id': 11580}, {'_account_id': 11934}, {'_account_id': 14123}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 24580}]","[{'number': 1, 'created': '2018-02-23 01:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/0b9f927f8c52aa0e6cc653c61b9350fdb431db1f', 'message': 'Metrics retention policy enhancement\n\nSupprot differentiable metrics retention policy based on metrics\ntype.\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}, {'number': 2, 'created': '2018-02-23 02:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/8375c83c2083286adfaf1607b91d226b94d8c5fa', 'message': 'Metrics retention policy enhancement\n\nSupprot differentiable metrics retention policy based on metrics\ntype.\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}, {'number': 3, 'created': '2018-02-23 03:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/da175d6b044382b956ab629933322515c7d0a573', 'message': 'Metrics retention policy enhancement\n\nSupprot differentiable metrics retention policy based on metrics\ntype.\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}, {'number': 4, 'created': '2018-02-23 17:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/b0027c7846d2c7f88414c3c14f584a39fe4f77f7', 'message': 'Metrics retention policy enhancement\n\nSupprot differentiable metrics retention policy based on metrics\ntype.\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}, {'number': 5, 'created': '2018-02-23 19:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/3778ca6d42003555c90c372f3274cade5b76a4c1', 'message': 'Metrics retention policy enhancement\n\nSupprot differentiable metrics retention policy based on metrics\ntype.\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}, {'number': 6, 'created': '2018-02-28 08:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/e2115e21efaf98ed06df1ffe4ffa487e11c29b13', 'message': 'Metrics retention policy enhancement\n\nSupprot differentiable metrics retention policy based on metrics\ntype.\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}, {'number': 7, 'created': '2018-03-20 14:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/423b8aa17122286fbb735d1ea4c0cca3c11df4b2', 'message': 'Metrics retention policy enhancement\n\nSupprot differentiable metrics retention policy based on metrics\ntype.\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}, {'number': 8, 'created': '2018-03-20 15:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/33c489665a09db058cc5c86b45962feabdc19d3c', 'message': 'Metrics retention policy enhancement\n\nSupport differentiable metrics retention policy based on metrics\ntype.\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}, {'number': 9, 'created': '2018-09-07 21:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/ca82e7f34a9c32ad7a68590c8e966b43f80d2eef', 'message': 'Metrics retention policy enhancement\n\nSupport differentiable metrics retention policy based on metrics\ntype.\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}, {'number': 10, 'created': '2018-09-07 21:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/d04fadf25d898bd97789b3efb1c3d6aa5051372b', 'message': 'Metrics retention policy enhancement\n\nSupport differentiable metrics retention policy based on metrics\ntype.\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}, {'number': 11, 'created': '2018-09-07 22:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/3fcec81b5a86e861dd9a123bafe1efa00d437ce3', 'message': 'Metrics retention policy enhancement\n\nSupport differentiable metrics retention policy based on metrics\ntype.\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}, {'number': 12, 'created': '2018-09-07 23:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/1cac22d9e39515f8915e3c04ff14fd0d92cd7bef', 'message': 'Metrics retention policy enhancement\n\nSupport differentiable metrics retention policy based on metrics\ntype.\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}, {'number': 13, 'created': '2018-09-07 23:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/d3d4f84a0b45d24f710a43c8d55451b8265107f2', 'message': 'Metrics retention policy enhancement\n\nSupport differentiable metrics retention policy based on metrics\ntype.\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}, {'number': 14, 'created': '2018-09-08 04:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/f3501176e223ca179e2e388dcd3d809aee785764', 'message': 'Metrics retention policy enhancement\n\nSupport differentiable metrics retention policy based on metrics\ntype.  Also outline an alternative (that may be preferable).\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}, {'number': 15, 'created': '2018-09-13 22:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/744f5dc63914f37bb0c4f0dc4b2256292862b249', 'message': 'WIP Metrics retention policy enhancement\n\nSupport differentiable metrics retention policy based on metrics\ntype.  Also outline alternatives.\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}, {'number': 16, 'created': '2018-09-26 21:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/b2ae09065c4323dc58e26433fd1adf5b74823e68', 'message': 'Metrics retention policy enhancement, python persister perf\n\nSupport differentiable metrics retention policy based on metrics\ntype.  Also outline alternatives.\n\nThis commit also includes a spec for Python Persiseter Performance\nmetric collection, still Work in Progress.\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}, {'number': 17, 'created': '2018-09-27 15:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/c1ca4a1015082fe1dd3d58ffc579b7c931c6aaeb', 'message': 'Metrics retention policy enhancement\n\nSupport differentiable metrics retention policy based on metrics\ntype.  Also outline alternatives.\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}, {'number': 18, 'created': '2018-09-27 22:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/867f2dfe17d2c23a2e0eba796a5907f80572680a', 'message': 'Metrics retention policy enhancement\n\nSupport differentiable metrics retention policy based on metrics\ntype.  Also outline alternatives.\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}, {'number': 19, 'created': '2018-09-28 20:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/13ae5571fcff6126e656fca3344ae87e00d15125', 'message': 'Metrics retention policy enhancement\n\nSupport differentiable metrics retention policy based on metrics\ntype.  Also outline alternatives.\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}, {'number': 20, 'created': '2018-10-26 22:29:31.000000000', 'files': ['specs/rocky/approved/metrics-retention.rst'], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/a3f82ddd4aa073897b8e83ad162ccba2012472d5', 'message': 'Metrics retention policy enhancement\n\nSupport differentiable metrics retention policy based on metrics\ntype.  Also outline alternatives.\n\nChange-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0\nstory: 2001576\n'}]",15,547233,a3f82ddd4aa073897b8e83ad162ccba2012472d5,52,8,20,24580,,,0,"Metrics retention policy enhancement

Support differentiable metrics retention policy based on metrics
type.  Also outline alternatives.

Change-Id: I915376827604bc692cd26b7ed00812c64ee2e3c0
story: 2001576
",git fetch https://review.opendev.org/openstack/monasca-specs refs/changes/33/547233/18 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/approved/metrics-retention.rst'],1,0b9f927f8c52aa0e6cc653c61b9350fdb431db1f,547233,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================ Metric Retention Policy ================================================ Story board: https://storyboard.openstack.org/#!/story/2001576 Metric retention policy must be in place to avoid disk being filled up. Retention period should be adjustable for different types of metrics, e.g., monitoring vs. metering. Problem description =================== In a cloud of 200 compute hosts, there can be up to one billion metrics generated daily. The time series database disks will be filled up in weeks if not months if old metric data is not purged regualrly. The retention requirement can be different based on the type of the metrics and the usage model. For example, the customer may want to preserve the metering metrics for months or years, while s/he has no interest in more than a week old monitoring metrics. Some customers' billing system may pull the metering data on adaily base which could eliminate the need of longer retention of metering metrcs. Monasca needs to support metric retention policy that can be tailored per metric or metric type. Use Cases --------- Use case 1 Operator configures default metric retention in the persister configuration. The default retention policy is applied if a metric doesn't specify its retention policy. This default retention is generally shorter period of time and is targeted to the monitoring metrics. Use case 2 Operator configures the retention policy for the roll up metrics in the Monasca transform. Roll up metrics generally requires longer retntion period. Use case 3 Operator configures the retention policy for Ceilometer metrics in the pipeline and mapping configuration file. Metering metrics generally requires longer retention period. Use case 4 The metric agent plugin sets retention policy when generates a new metric. This is mostly a means to overwrite the default retention policy for monitoring metrics. Proposed change =============== Here is where you cover the change you propose to make in detail. How do you propose to solve this problem? If this is one part of a larger effort make it clear where this piece ends. In other words, what's the scope of this effort? At this point, if you would like to just get feedback on if the problem and proposed change fit in monasca, you can stop here and post this for review to get preliminary feedback. If so please say: Posting to get preliminary feedback on the scope of this spec. Monasca api """""""""""""""""""""""""""""""""""""""""""""""""" Add an optional metric property ""TTL"" in the create mwetrics api. TTL is the number of seconds before the metric sets to expire. If set, the TTL property will be included When posting a new metric message to Kafka. Monasca persister """""""""""""""""""""""""""""""""" Persister reads the default retention policy setting from the service configuration file in the influxDbConfiguration and cassandraDbConfiguration section.:: # Retention policy may be left blank to indicate default policy. retentionPolicy: 7 It may makes more sense to move this property to metricConfiguration section and convert to use the unit of seconds instead of days. It will retrieves the TTL property in the incoming metric message. If not set, the TTL value from the default retention policy will used instead. The TTL is set in the parameterized database query when persisting the metrics into the time series database, including both Cassandra and InfluxDB. Monasca Ceilometer (aka Ceilosca) """""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""" Add TTL property in the pipeline-api.yaml:: - name: image_source interval: 30 # expires after 90 days TTL: 7776000 meters: - ""image"" - ""image.size"" - ""image.update"" - ""image.upload"" - ""image.delete"" sinks: - meter_sink Monasca-ceilometer implementation will parse the new property and set the TTL when posting new metric message. Monasca trasnform """""""""""""""""""""""""""""""""" Add TTL property in transform_specs.json:: {""aggregation_params_map"":{""aggregation_pipeline"":{""source"":""streaming"",""usage"":""fetch_quantity"",""setters"":[""rollup_quantity"",""set_aggregated_metric_name"",""set_aggregated_period""],""insert"":[""prepare_data"",""insert_data_pre_hourly""]},""aggregated_metric_name"":""vm.mem.total_mb_agg"",""aggregation_period"":""hourly"", TTL:""7776000"", ""aggregation_group_by_list"": [""host"", ""metric_id"", ""tenant_id"", ""resource_uuid""],""usage_fetch_operation"": ""avg"",""filter_by_list"": [],""setter_rollup_group_by_list"":[""tenant_id""],""setter_rollup_operation"": ""sum"",""dimension_list"":[""aggregation_period"",""host"",""project_id""],""pre_hourly_operation"":""avg"",""pre_hourly_group_by_list"":[""default""]},""metric_group"":""vm_mem_total_mb_project"",""metric_id"":""vm_mem_total_mb_project""} Monasca-transform implementation will parse the new property and set the TTL when posting new rolled up metric messages. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- Each API method which is either added or changed should have the following * Specification change for the create metric api * Create metrics * Method type: POST * Normal http response code(s): No change * Expected error http response code(s): no change * URL: /v2.0/metrics * Parameters: no change * Request body: Consists of a single metric object or an array of metric objects. A metric has the following properties: * name (string(255), required) - The name of the metric. * dimensions ({string(255): string(255)}, optional) - A dictionary consisting of (key, value) pairs used to uniquely identify a metric. * timestamp (string, required) - The timestamp in milliseconds from the Epoch. * value (float, required) - Value of the metric. Values with base-10 exponents greater than 126 or less than -130 are truncated. * value_meta ({string(255): string}(2048), optional) - A dictionary consisting of (key, value) pairs used to add information about the value. Value_meta key value combinations must be 2048 characters or less including '{"""":""""}' 7 characters total from every json string. * TTL: time to live in seconds. * Example use case including typical API samples for both data supplied by the caller and the response Security impact --------------- None Other end user impact --------------------- None Performance Impact ------------------ This feature has no direct impact on the write throughput. However, it allows the user to enable shorter retention period for monitoring metrics which can potentilly improve the read performance for the queries that involves search, grouping and filtering when there are less metrics in the table. Other deployer impact --------------------- No change in deployment of the services. For planning, the user now has the option to specify a shorter retention period for monitoring metrics or even per metric or metric category. The disk size should be calculated based upon the rention policy accordingly. Developer impact ---------------- Monasca agent plugin developers should be aware of the new TTL property now available to them. It is an optional property that is only needed if a different TTL value than the default rentention policy in the persister service is needed. Implementation ============== Assignee(s) ----------- Contributors are welcome! Primary assignee: jgu Other contributors: Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ None Testing ======= Please discuss the important scenarios needed to test here, as well as specific edge cases we should be ensuring work correctly. For each scenario please specify if this requires specialized hardware, a full openstack environment, or can be simulated inside the Monasca tree. Please discuss how the change will be tested. We especially want to know what tempest tests will be added. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but discussion of why you think unit tests are sufficient and we don't need to add more tempest tests would need to be included. Is this untestable in gate given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc). Documentation Impact ==================== Which audiences are affected most by this change, and which documentation titles on docs.openstack.org should be updated because of this change? Don't repeat details discussed above, but reference them here in the context of documentation for multiple audiences. For example, the Operations Guide targets cloud operators, and the End User Guide would need to be updated if the change offers a new feature available through the CLI or dashboard. If a config option changes or is deprecated, note here that the documentation needs to be updated to reflect this specification's change. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. if it's an EC2 thing, link the EC2 docs) * Anything else you feel it is worthwhile to refer to History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Queens - Introduced ",,300,0
openstack%2Fproject-config~master~I8f90a068bcfa38f1ef942991dac30ad4519375c4,openstack/project-config,master,I8f90a068bcfa38f1ef942991dac30ad4519375c4,Move gear to opendev tenant,MERGED,2019-10-14 16:42:16.000000000,2019-10-14 17:29:10.000000000,2019-10-14 17:29:10.000000000,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 16:42:16.000000000', 'files': ['zuul.d/projects.yaml', 'zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bc4f33e1e5da2a51054fde2bebf5fc4cc848acab', 'message': 'Move gear to opendev tenant\n\nChange-Id: I8f90a068bcfa38f1ef942991dac30ad4519375c4\n'}]",0,688451,bc4f33e1e5da2a51054fde2bebf5fc4cc848acab,9,3,1,1,,,0,"Move gear to opendev tenant

Change-Id: I8f90a068bcfa38f1ef942991dac30ad4519375c4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/51/688451/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul/main.yaml']",2,bc4f33e1e5da2a51054fde2bebf5fc4cc848acab,opendev-gear, - opendev/gear, - opendev/gear,1,9
openstack%2Fopenstack-helm-infra~master~I86389085e922848a833d8787573e0b6be843ace4,openstack/openstack-helm-infra,master,I86389085e922848a833d8787573e0b6be843ace4,Add default netpol to LMA charts,MERGED,2019-09-30 23:38:40.000000000,2019-10-14 17:24:41.000000000,2019-10-14 17:21:53.000000000,"[{'_account_id': 12281}, {'_account_id': 17499}, {'_account_id': 17591}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28618}, {'_account_id': 28849}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-09-30 23:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cfa18ed78a7c14dc70d0d5fb31d85e95f1be5bbb', 'message': 'Add default netpol to LMA charts\n\nChange-Id: I86389085e922848a833d8787573e0b6be843ace4\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2019-09-30 23:40:21.000000000', 'files': ['prometheus-process-exporter/templates/network_policy.yaml', 'prometheus-kube-state-metrics/templates/network_policy.yaml', 'prometheus-kube-state-metrics/values.yaml', 'prometheus-process-exporter/values.yaml', 'prometheus-alertmanager/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aa2ce5fef4dc781e035090aa5627400395d45551', 'message': 'Add default netpol to LMA charts\n\nChange-Id: I86389085e922848a833d8787573e0b6be843ace4\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,685862,aa2ce5fef4dc781e035090aa5627400395d45551,15,9,2,20466,,,0,"Add default netpol to LMA charts

Change-Id: I86389085e922848a833d8787573e0b6be843ace4
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/62/685862/1 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-process-exporter/templates/network_policy.yaml', 'prometheus-kube-state-metrics/templates/network_policy.yaml', 'prometheus-kube-state-metrics/values.yaml', 'prometheus-alertmanager/values.yaml', 'prometheus-process-exporter/values.yaml']",5,cfa18ed78a7c14dc70d0d5fb31d85e95f1be5bbb,netpol,network_policy: alertmanager: ingress: - {} egress: - {} ,,23,2
openstack%2Fkayobe~stable%2Frocky~Idc96523a5108712a072b14889b1fba0f05c381e8,openstack/kayobe,stable/rocky,Idc96523a5108712a072b14889b1fba0f05c381e8,format pxe_append_params as string and not a list,MERGED,2019-10-14 13:25:25.000000000,2019-10-14 16:56:51.000000000,2019-10-14 16:56:51.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 13:25:25.000000000', 'files': ['ansible/roles/kolla-openstack/templates/ironic.conf.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/95acef72bc40e03cca7b6aac6b2428daa960b48b', 'message': 'format pxe_append_params as string and not a list\n\nPlease see: https://docs.openstack.org/ironic/latest/configuration/sample-config.html\n\nChange-Id: Idc96523a5108712a072b14889b1fba0f05c381e8\nStory: 2006707\nTask: 37067\n(cherry picked from commit 6430ec5261da83d4e4ad05cd55decede427e3856)\n'}]",0,688404,95acef72bc40e03cca7b6aac6b2428daa960b48b,7,3,1,28048,,,0,"format pxe_append_params as string and not a list

Please see: https://docs.openstack.org/ironic/latest/configuration/sample-config.html

Change-Id: Idc96523a5108712a072b14889b1fba0f05c381e8
Story: 2006707
Task: 37067
(cherry picked from commit 6430ec5261da83d4e4ad05cd55decede427e3856)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/04/688404/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kolla-openstack/templates/ironic.conf.j2'],1,95acef72bc40e03cca7b6aac6b2428daa960b48b,dual1-stable/stein-stable/rocky,pxe_append_params = {{ kolla_ironic_pxe_append_params | join(' ') }},"pxe_append_params = {{ kolla_ironic_pxe_append_params | join(',') }}",1,1
openstack%2Fproject-config~master~I289d74b42c1d6ede9342b0de98dd8e9befce968d,openstack/project-config,master,I289d74b42c1d6ede9342b0de98dd8e9befce968d,Add gerrit-related projects to zuul tenant,MERGED,2019-10-14 15:08:04.000000000,2019-10-14 16:56:28.000000000,2019-10-14 16:56:28.000000000,"[{'_account_id': 2}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 15:08:04.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1edd3dcd3f8b76dc0dbaccc14c7afc4b4e59a704', 'message': ""Add gerrit-related projects to zuul tenant\n\nAdd the googlesource gerrit projects as well as system-config to\nthe zuul tenant so that we can re-use system-config's gerrit-building\njobs as a basis for building gerrit for third-party-check of\nthe gerrit checks plugin.\n\nChange-Id: I289d74b42c1d6ede9342b0de98dd8e9befce968d\n""}]",0,688423,1edd3dcd3f8b76dc0dbaccc14c7afc4b4e59a704,7,3,1,1,,,0,"Add gerrit-related projects to zuul tenant

Add the googlesource gerrit projects as well as system-config to
the zuul tenant so that we can re-use system-config's gerrit-building
jobs as a basis for building gerrit for third-party-check of
the gerrit checks plugin.

Change-Id: I289d74b42c1d6ede9342b0de98dd8e9befce968d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/23/688423/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,1edd3dcd3f8b76dc0dbaccc14c7afc4b4e59a704,zuul-gerrit," - include: [] projects: - opendev/glean - openstack/diskimage-builder - openstack/openstacksdk # Include some projects with job config for cross-tenant # jobs - include: [job, secret, nodeset] projects: - opendev/system-config googlesource: untrusted-projects: - include: [] projects: *googlesource_projects", - opendev/glean: include: [] - openstack/diskimage-builder: include: [] - openstack/openstacksdk: include: [],14,6
openstack%2Fopenstack-helm~master~I337069203a3273e9aba6a37294ee3c25e5b4870a,openstack/openstack-helm,master,I337069203a3273e9aba6a37294ee3c25e5b4870a,Ensure python scripts are py3 compatible,MERGED,2019-10-10 13:56:46.000000000,2019-10-14 16:47:48.000000000,2019-10-14 16:45:04.000000000,"[{'_account_id': 17499}, {'_account_id': 17591}, {'_account_id': 21420}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 28614}, {'_account_id': 28849}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-10 13:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4fde88e1dde085e34391589fea46e8cd03fcdfc7', 'message': 'Ensure python scripts are py3 compatible\n\nThis patch set is one of many to migrate existing code/script to be\npython-3 compatible as python-2 is sunsetting in January of 2020.\n\nChange-Id: I337069203a3273e9aba6a37294ee3c25e5b4870a\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2019-10-10 15:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5f641f5ebfe9adceb8765ee39ff919a6ffc3a75c', 'message': 'Ensure python scripts are py3 compatible\n\nThis patch set is one of many to migrate existing code/script to be\npython-3 compatible as python-2 is sunsetting in January of 2020.\n\nChange-Id: I337069203a3273e9aba6a37294ee3c25e5b4870a\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2019-10-10 20:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/10cabb42e42e67eb94fb85658ad0e9d4d146000e', 'message': 'Ensure python scripts are py3 compatible\n\nThis patch set is one of many to migrate existing code/script to be\npython-3 compatible as python-2 is sunsetting in January of 2020.\n\nChange-Id: I337069203a3273e9aba6a37294ee3c25e5b4870a\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2019-10-10 23:10:03.000000000', 'files': ['keystone/templates/bin/_fernet-manage.py.tpl', 'neutron/templates/bin/_health-probe.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/938a1deb03f2e026d967ba9968f3d336a4547866', 'message': 'Ensure python scripts are py3 compatible\n\nThis patch set is one of many to migrate existing code/script to be\npython-3 compatible as python-2 is sunsetting in January of 2020.\n\nChange-Id: I337069203a3273e9aba6a37294ee3c25e5b4870a\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,687903,938a1deb03f2e026d967ba9968f3d336a4547866,22,11,4,20466,,,0,"Ensure python scripts are py3 compatible

This patch set is one of many to migrate existing code/script to be
python-3 compatible as python-2 is sunsetting in January of 2020.

Change-Id: I337069203a3273e9aba6a37294ee3c25e5b4870a
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/03/687903/3 && git format-patch -1 --stdout FETCH_HEAD,['keystone/templates/bin/_fernet-manage.py.tpl'],1,4fde88e1dde085e34391589fea46e8cd03fcdfc7,py2-to-py3," keys = [name for name in os.listdir(FERNET_DIR) if os.path.isfile(FERNET_DIR + name) and re.match(""^\d+$"", name)]"," keys = filter( lambda name: os.path.isfile(FERNET_DIR + name) and re.match(""^\d+$"", name), os.listdir(FERNET_DIR) )",2,5
openstack%2Fopenstack-ansible-os_magnum~stable%2Fqueens~Ifebd43b02a89d417bf3e3adddfb80e4c7108891b,openstack/openstack-ansible-os_magnum,stable/queens,Ifebd43b02a89d417bf3e3adddfb80e4c7108891b,Drop openSUSE 42.3,MERGED,2019-08-20 07:25:16.000000000,2019-10-14 16:34:36.000000000,2019-10-14 16:34:36.000000000,"[{'_account_id': 1}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-08-20 07:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/7ec6b4bdd84bca9369393a0cbc095a0b338350cb', 'message': ""Drop openSUSE 42.3\n\n42.3 will not be maintained anymore and therefore\nthere is no reason to test it. Users are advised\nto upgrade to Leap 15, and we should do the same.\n\nMaster and stein test already Leap 15, but we're not backporting new OS\nsupport to old stable branches.\n\nRemove openSUSE 42.3 so that we can remove it from CI.\n\nChange-Id: Ifebd43b02a89d417bf3e3adddfb80e4c7108891b\n""}, {'number': 2, 'created': '2019-09-02 09:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/cde8902ac5661ea5f538e3c9360b51c95320d94e', 'message': ""Drop openSUSE 42.3\n\n42.3 will not be maintained anymore and therefore\nthere is no reason to test it. Users are advised\nto upgrade to Leap 15, and we should do the same.\n\nMaster and stein test already Leap 15, but we're not backporting new OS\nsupport to old stable branches.\n\nRemove openSUSE 42.3 so that we can remove it from CI.\n\nChange-Id: Ifebd43b02a89d417bf3e3adddfb80e4c7108891b\n""}, {'number': 3, 'created': '2019-10-14 16:34:08.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/d4ab2d90938babb73a16deb6c70aef5d0742db3b', 'message': ""Drop openSUSE 42.3\n\n42.3 will not be maintained anymore and therefore\nthere is no reason to test it. Users are advised\nto upgrade to Leap 15, and we should do the same.\n\nMaster and stein test already Leap 15, but we're not backporting new OS\nsupport to old stable branches.\n\nRemove openSUSE 42.3 so that we can remove it from CI.\n\nChange-Id: Ifebd43b02a89d417bf3e3adddfb80e4c7108891b\n""}]",0,677415,d4ab2d90938babb73a16deb6c70aef5d0742db3b,13,4,3,6547,,,0,"Drop openSUSE 42.3

42.3 will not be maintained anymore and therefore
there is no reason to test it. Users are advised
to upgrade to Leap 15, and we should do the same.

Master and stein test already Leap 15, but we're not backporting new OS
support to old stable branches.

Remove openSUSE 42.3 so that we can remove it from CI.

Change-Id: Ifebd43b02a89d417bf3e3adddfb80e4c7108891b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/15/677415/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,7ec6b4bdd84bca9369393a0cbc095a0b338350cb,goodbye_42.3,, - openstack-ansible-functional-opensuse-423-nv,0,1
openstack%2Fopenstack-ansible-os_magnum~stable%2Fpike~Ifebd43b02a89d417bf3e3adddfb80e4c7108891b,openstack/openstack-ansible-os_magnum,stable/pike,Ifebd43b02a89d417bf3e3adddfb80e4c7108891b,Drop openSUSE 42.3,MERGED,2019-08-20 07:25:59.000000000,2019-10-14 16:33:28.000000000,2019-10-14 16:33:28.000000000,"[{'_account_id': 1}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-08-20 07:25:59.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/6cfced89d58f47c5057cd7122746a4c063252278', 'message': ""Drop openSUSE 42.3\n\n42.3 will not be maintained anymore and therefore\nthere is no reason to test it. Users are advised\nto upgrade to Leap 15, and we should do the same.\n\nMaster and stein test already Leap 15, but we're not backporting new OS\nsupport to old stable branches.\n\nRemove openSUSE 42.3 so that we can remove it from CI.\n\nChange-Id: Ifebd43b02a89d417bf3e3adddfb80e4c7108891b\n""}]",0,677417,6cfced89d58f47c5057cd7122746a4c063252278,9,4,1,6547,,,0,"Drop openSUSE 42.3

42.3 will not be maintained anymore and therefore
there is no reason to test it. Users are advised
to upgrade to Leap 15, and we should do the same.

Master and stein test already Leap 15, but we're not backporting new OS
support to old stable branches.

Remove openSUSE 42.3 so that we can remove it from CI.

Change-Id: Ifebd43b02a89d417bf3e3adddfb80e4c7108891b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/17/677417/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6cfced89d58f47c5057cd7122746a4c063252278,goodbye_42.3,, - openstack-ansible-functional-opensuse-423-nv,0,1
openstack%2Fopenstack-ansible-os_swift~stable%2Fpike~I9d48d13086dfce0b8b98e99f42de0531d06f381f,openstack/openstack-ansible-os_swift,stable/pike,I9d48d13086dfce0b8b98e99f42de0531d06f381f,Remove openSUSE 42.3 job,MERGED,2019-09-21 14:07:03.000000000,2019-10-14 16:31:12.000000000,2019-10-14 16:31:12.000000000,"[{'_account_id': 1}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-21 14:07:03.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/30155d70aa659e6177b79244f69e5839d1f6e550', 'message': 'Remove openSUSE 42.3 job\n\nopenSUSE 42.3 is dead, remove the job, we test with openSUSE 15 now (as\non master). This allows to remove the nodes from CI.\n\nChange-Id: I9d48d13086dfce0b8b98e99f42de0531d06f381f\n'}]",0,683788,30155d70aa659e6177b79244f69e5839d1f6e550,4,3,1,6547,,,0,"Remove openSUSE 42.3 job

openSUSE 42.3 is dead, remove the job, we test with openSUSE 15 now (as
on master). This allows to remove the nodes from CI.

Change-Id: I9d48d13086dfce0b8b98e99f42de0531d06f381f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/88/683788/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,30155d70aa659e6177b79244f69e5839d1f6e550,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fpike~Ic5083ab9b2c14e528f8a41415279ff74a3511313,openstack/openstack-ansible-lxc_hosts,stable/pike,Ic5083ab9b2c14e528f8a41415279ff74a3511313,Remove openSUSE 42.3 job,MERGED,2019-09-21 14:54:50.000000000,2019-10-14 16:30:34.000000000,2019-10-14 16:30:34.000000000,"[{'_account_id': 1}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-21 14:54:50.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/eda0e0d8c035932568cb70619712aa2f6237647c', 'message': 'Remove openSUSE 42.3 job\n\nopenSUSE 42.3 is dead, remove the job, we test with openSUSE 15 now (as\non master). This allows to remove the nodes from CI.\n\nChange-Id: Ic5083ab9b2c14e528f8a41415279ff74a3511313\n'}]",0,683791,eda0e0d8c035932568cb70619712aa2f6237647c,4,3,1,6547,,,0,"Remove openSUSE 42.3 job

openSUSE 42.3 is dead, remove the job, we test with openSUSE 15 now (as
on master). This allows to remove the nodes from CI.

Change-Id: Ic5083ab9b2c14e528f8a41415279ff74a3511313
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/91/683791/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,eda0e0d8c035932568cb70619712aa2f6237647c,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fopenstack-ansible-os_swift~stable%2Fqueens~I9d48d13086dfce0b8b98e99f42de0531d06f381f,openstack/openstack-ansible-os_swift,stable/queens,I9d48d13086dfce0b8b98e99f42de0531d06f381f,Remove openSUSE 42.3 job,MERGED,2019-09-21 14:05:28.000000000,2019-10-14 16:29:47.000000000,2019-10-14 16:29:47.000000000,"[{'_account_id': 1}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-21 14:05:28.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/e4ca16482b67435595028934ba3b67208f9dd4c1', 'message': 'Remove openSUSE 42.3 job\n\nopenSUSE 42.3 is dead, remove the job, we test with openSUSE 15 now (as\non master). This allows to remove the nodes from CI.\n\nChange-Id: I9d48d13086dfce0b8b98e99f42de0531d06f381f\n'}]",0,683787,e4ca16482b67435595028934ba3b67208f9dd4c1,4,3,1,6547,,,0,"Remove openSUSE 42.3 job

openSUSE 42.3 is dead, remove the job, we test with openSUSE 15 now (as
on master). This allows to remove the nodes from CI.

Change-Id: I9d48d13086dfce0b8b98e99f42de0531d06f381f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/87/683787/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,e4ca16482b67435595028934ba3b67208f9dd4c1,goodbye_42.3,, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,0,2
openstack%2Fpython-senlinclient~master~I0a573fb45ac6fcc08b75dfeda8422b6caa398a3e,openstack/python-senlinclient,master,I0a573fb45ac6fcc08b75dfeda8422b6caa398a3e,Update master for stable/train,MERGED,2019-09-20 17:43:13.000000000,2019-10-14 16:24:10.000000000,2019-10-14 16:22:37.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}]","[{'number': 1, 'created': '2019-09-20 17:43:13.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/b1c59056bd4fe9f28afae3a7099f309dfb8a80f7', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I0a573fb45ac6fcc08b75dfeda8422b6caa398a3e\nSem-Ver: feature\n'}]",0,683641,b1c59056bd4fe9f28afae3a7099f309dfb8a80f7,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I0a573fb45ac6fcc08b75dfeda8422b6caa398a3e
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/41/683641/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,b1c59056bd4fe9f28afae3a7099f309dfb8a80f7,reno-train, train,,7,0
openstack%2Fkayobe~stable%2Fqueens~Idc96523a5108712a072b14889b1fba0f05c381e8,openstack/kayobe,stable/queens,Idc96523a5108712a072b14889b1fba0f05c381e8,format pxe_append_params as string and not a list,MERGED,2019-10-14 13:25:50.000000000,2019-10-14 16:22:08.000000000,2019-10-14 16:22:08.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 13:25:50.000000000', 'files': ['ansible/roles/kolla-openstack/templates/ironic.conf.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/94c4ba02c71639d1b11f64ba1df656b27a989b7c', 'message': 'format pxe_append_params as string and not a list\n\nPlease see: https://docs.openstack.org/ironic/latest/configuration/sample-config.html\n\nChange-Id: Idc96523a5108712a072b14889b1fba0f05c381e8\nStory: 2006707\nTask: 37067\n(cherry picked from commit 6430ec5261da83d4e4ad05cd55decede427e3856)\n'}]",0,688405,94c4ba02c71639d1b11f64ba1df656b27a989b7c,7,3,1,28048,,,0,"format pxe_append_params as string and not a list

Please see: https://docs.openstack.org/ironic/latest/configuration/sample-config.html

Change-Id: Idc96523a5108712a072b14889b1fba0f05c381e8
Story: 2006707
Task: 37067
(cherry picked from commit 6430ec5261da83d4e4ad05cd55decede427e3856)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/05/688405/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kolla-openstack/templates/ironic.conf.j2'],1,94c4ba02c71639d1b11f64ba1df656b27a989b7c,dual1-stable/queens,pxe_append_params = {{ kolla_ironic_pxe_append_params | join(' ') }},"pxe_append_params = {{ kolla_ironic_pxe_append_params | join(',') }}",1,1
openstack%2Fos-resource-classes~master~I37a1af868c189c30cc9aa9ee4ca78786ad82d547,openstack/os-resource-classes,master,I37a1af868c189c30cc9aa9ee4ca78786ad82d547,Bump the openstackdocstheme extension to 1.20,MERGED,2019-10-12 07:13:56.000000000,2019-10-14 16:20:56.000000000,2019-10-14 16:18:48.000000000,"[{'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-12 07:13:56.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/os-resource-classes/commit/aaccfd9ce8a3bded2f21bf307430fd00c03a2fb1', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I37a1af868c189c30cc9aa9ee4ca78786ad82d547\n'}]",0,688249,aaccfd9ce8a3bded2f21bf307430fd00c03a2fb1,8,3,1,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I37a1af868c189c30cc9aa9ee4ca78786ad82d547
",git fetch https://review.opendev.org/openstack/os-resource-classes refs/changes/49/688249/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py']",3,aaccfd9ce8a3bded2f21bf307430fd00c03a2fb1,openstackdocstheme,,"project = u'os_resource_classes Release Notes'html_last_updated_fmt = '%Y-%m-%d %H:%M'latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",1,15
openstack%2Fmistral~master~Ieb10c10401380410665c418f4688681e929b1e23,openstack/mistral,master,Ieb10c10401380410665c418f4688681e929b1e23,Change the action error message format,MERGED,2019-10-11 12:10:26.000000000,2019-10-14 16:20:17.000000000,2019-10-14 16:18:10.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9029}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-10-11 12:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9f1b459f7fbb8749d86a4b2cd13961331ffaeb80', 'message': 'WIP: Change the action error message format\n\n* Some users rely on the presence of the root error related to\n  running an action and it\'s not convenient that it is now in\n  the end of the string, e.g. if we look at the corresponding\n  task execution ""state_info"" field. This patch includes the cause\n  error message in the beginning of the resulting error string\n  returned by the action executor so that it\'s clearly visible.\n  This message can be also truncated in some cases (depending on\n  the config option) so we need to make sure we keep the cause\n  error message.\n\nChange-Id: Ieb10c10401380410665c418f4688681e929b1e23\n'}, {'number': 2, 'created': '2019-10-14 10:09:37.000000000', 'files': ['releasenotes/notes/include_root_cause_of_action_error_first-4a730a7cbc36f375.yaml', 'mistral/executors/default_executor.py', 'mistral/tests/unit/engine/test_error_handling.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/8f02e8a7d7f3025aae7a99543568fe4eb451c955', 'message': 'Change the action error message format\n\n* Some users rely on the presence of the root error related to\n  running an action and it\'s not convenient that it is now in\n  the end of the string, e.g. if we look at the corresponding\n  task execution ""state_info"" field. This patch includes the cause\n  error message in the beginning of the resulting error string\n  returned by the action executor so that it\'s clearly visible.\n  This message can be also truncated in some cases (depending on\n  the config option) so we need to make sure we keep the cause\n  error message.\n\nCloses-Bug: #1847984\nChange-Id: Ieb10c10401380410665c418f4688681e929b1e23\n'}]",2,688112,8f02e8a7d7f3025aae7a99543568fe4eb451c955,21,8,2,8731,,,0,"Change the action error message format

* Some users rely on the presence of the root error related to
  running an action and it's not convenient that it is now in
  the end of the string, e.g. if we look at the corresponding
  task execution ""state_info"" field. This patch includes the cause
  error message in the beginning of the resulting error string
  returned by the action executor so that it's clearly visible.
  This message can be also truncated in some cases (depending on
  the config option) so we need to make sure we keep the cause
  error message.

Closes-Bug: #1847984
Change-Id: Ieb10c10401380410665c418f4688681e929b1e23
",git fetch https://review.opendev.org/openstack/mistral refs/changes/12/688112/2 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/executors/default_executor.py', 'mistral/tests/unit/engine/test_error_handling.py']",2,9f1b459f7fbb8749d86a4b2cd13961331ffaeb80,bug/1847984," def test_action_error_message_format(self): wf_text = """"""--- version: '2.0' wf: tasks: task1: action: std.fail """""" wf_service.create_workflows(wf_text) wf_ex = self.engine.start_workflow('wf') self.await_workflow_error(wf_ex.id) with db_api.transaction(): wf_ex = db_api.get_workflow_execution(wf_ex.id) self.assertEqual(1, len(wf_ex.task_executions)) task_ex = wf_ex.task_executions[0] expected = ( ""The action raised an exception "" ""[msg='Fail action expected exception.'"" ) # Making sure that the actual error message goes before # other debugging information. self.assertTrue(task_ex.state_info.startswith(expected))",,36,4
openstack%2Fnova~master~Ic0a9c3ffb4e52430deb26bc6ad7758105f02968b,openstack/nova,master,Ic0a9c3ffb4e52430deb26bc6ad7758105f02968b,Avoid using image with kernel in BDM large request func test,MERGED,2019-10-11 14:11:17.000000000,2019-10-14 16:09:30.000000000,2019-10-14 16:07:13.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26297}, {'_account_id': 26515}, {'_account_id': 28543}, {'_account_id': 28614}, {'_account_id': 28935}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-11 14:11:17.000000000', 'files': ['nova/tests/functional/test_boot_from_volume.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cacca209ab4458378a9e2522ff50078826933c3e', 'message': 'Avoid using image with kernel in BDM large request func test\n\nThe test_boot_from_volume_10_servers_255_volumes_2_images uses two\nrandom images to build servers with a lot of BDMs and asserts that an\nimage cache is used to avoid hitting glance for the same image many\ntimes. The functional tests uses _FakeImageService that predefines a\nlist of images. The test selects the first two returned by the\napi.get_images() call. As the fixture stores the images in a dict the\nreturned image list is random in python2.7. Therefore the test runs with\ntwo random images. One of the images\nc905cedb-7281-47e4-8a62-f26bc5fc4c77 is defined to use a separate kernel\nimage. If this image is selected for the test then an extra glance call\nis made from _handle_kernel_and_ramdisk(). This makes the test unstable\nas sometimes there is 4 calls instead of the asserted (and more common)\n3 calls nova.image.api.API.get().\n\nThis patch hardcodes the image_ids used in the test to avoid the\ninstability.\n\nChange-Id: Ic0a9c3ffb4e52430deb26bc6ad7758105f02968b\nCloses-Bug: #1847766\n'}]",3,688132,cacca209ab4458378a9e2522ff50078826933c3e,25,19,1,9708,,,0,"Avoid using image with kernel in BDM large request func test

The test_boot_from_volume_10_servers_255_volumes_2_images uses two
random images to build servers with a lot of BDMs and asserts that an
image cache is used to avoid hitting glance for the same image many
times. The functional tests uses _FakeImageService that predefines a
list of images. The test selects the first two returned by the
api.get_images() call. As the fixture stores the images in a dict the
returned image list is random in python2.7. Therefore the test runs with
two random images. One of the images
c905cedb-7281-47e4-8a62-f26bc5fc4c77 is defined to use a separate kernel
image. If this image is selected for the test then an extra glance call
is made from _handle_kernel_and_ramdisk(). This makes the test unstable
as sometimes there is 4 calls instead of the asserted (and more common)
3 calls nova.image.api.API.get().

This patch hardcodes the image_ids used in the test to avoid the
instability.

Change-Id: Ic0a9c3ffb4e52430deb26bc6ad7758105f02968b
Closes-Bug: #1847766
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/688132/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_boot_from_volume.py'],1,cacca209ab4458378a9e2522ff50078826933c3e,bug/1847766," # NOTE(gibi): Do not use 'c905cedb-7281-47e4-8a62-f26bc5fc4c77' image # as that is defined with a separate kernel image, leading to one extra # call to nova.image.api.API.get from compute.api # _handle_kernel_and_ramdisk() image1 = 'a2459075-d96c-40d5-893e-577ff92e721c' image2 = '76fa36fc-c930-4bf3-8c8a-ea2a2420deb6'", images = self.api.get_images() image1 = images[0]['id'] image2 = images[1]['id'],6,3
openstack%2Fproject-config~master~I5f14202750878cd17c0367238beb99d0933ae9b9,openstack/project-config,master,I5f14202750878cd17c0367238beb99d0933ae9b9,Remove arm64ci-nrt1 (2/2),MERGED,2019-10-04 16:13:06.000000000,2019-10-14 16:05:13.000000000,2019-10-14 16:05:13.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 16:13:06.000000000', 'files': ['nodepool/nb03.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e68753ffe029b72b59236632b76163bbcfc6ff14', 'message': 'Remove arm64ci-nrt1 (2/2)\n\nThis provider no longer exists.\n\nChange-Id: I5f14202750878cd17c0367238beb99d0933ae9b9\n'}]",0,686761,e68753ffe029b72b59236632b76163bbcfc6ff14,9,4,1,1,,,0,"Remove arm64ci-nrt1 (2/2)

This provider no longer exists.

Change-Id: I5f14202750878cd17c0367238beb99d0933ae9b9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/61/686761/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nb03.openstack.org.yaml'],1,e68753ffe029b72b59236632b76163bbcfc6ff14,,, - name: arm64ci-nrt1 region-name: 'nrt1' cloud: arm64ci rate: 0.25 diskimages: [] ,0,6
openstack%2Fmistral~stable%2Ftrain~Ieb10c10401380410665c418f4688681e929b1e23,openstack/mistral,stable/train,Ieb10c10401380410665c418f4688681e929b1e23,Change the action error message format,MERGED,2019-10-14 10:30:23.000000000,2019-10-14 16:04:31.000000000,2019-10-14 16:03:12.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 10:30:23.000000000', 'files': ['releasenotes/notes/include_root_cause_of_action_error_first-4a730a7cbc36f375.yaml', 'mistral/executors/default_executor.py', 'mistral/tests/unit/engine/test_error_handling.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/5d387db6c2a53e3c28d46ffd7da45cf1f52a3d8b', 'message': 'Change the action error message format\n\n* Some users rely on the presence of the root error related to\n  running an action and it\'s not convenient that it is now in\n  the end of the string, e.g. if we look at the corresponding\n  task execution ""state_info"" field. This patch includes the cause\n  error message in the beginning of the resulting error string\n  returned by the action executor so that it\'s clearly visible.\n  This message can be also truncated in some cases (depending on\n  the config option) so we need to make sure we keep the cause\n  error message.\n\nCloses-Bug: #1847984\nChange-Id: Ieb10c10401380410665c418f4688681e929b1e23\n'}]",0,688378,5d387db6c2a53e3c28d46ffd7da45cf1f52a3d8b,7,2,1,8731,,,0,"Change the action error message format

* Some users rely on the presence of the root error related to
  running an action and it's not convenient that it is now in
  the end of the string, e.g. if we look at the corresponding
  task execution ""state_info"" field. This patch includes the cause
  error message in the beginning of the resulting error string
  returned by the action executor so that it's clearly visible.
  This message can be also truncated in some cases (depending on
  the config option) so we need to make sure we keep the cause
  error message.

Closes-Bug: #1847984
Change-Id: Ieb10c10401380410665c418f4688681e929b1e23
",git fetch https://review.opendev.org/openstack/mistral refs/changes/78/688378/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/include_root_cause_of_action_error_first-4a730a7cbc36f375.yaml', 'mistral/executors/default_executor.py', 'mistral/tests/unit/engine/test_error_handling.py']",3,5d387db6c2a53e3c28d46ffd7da45cf1f52a3d8b,bug/1847984-stable/train," def test_action_error_message_format(self): wf_text = """"""--- version: '2.0' wf: tasks: task1: action: std.fail """""" wf_service.create_workflows(wf_text) wf_ex = self.engine.start_workflow('wf') self.await_workflow_error(wf_ex.id) with db_api.transaction(): wf_ex = db_api.get_workflow_execution(wf_ex.id) self.assertEqual(1, len(wf_ex.task_executions)) task_ex = wf_ex.task_executions[0] expected = ( ""The action raised an exception [action_ex_id=%s, "" ""msg='Fail action expected exception.'"" ) % task_ex.action_executions[0].id # Making sure that the actual error message goes before # other debugging information. self.assertTrue(task_ex.state_info.startswith(expected))",,49,4
openstack%2Ftripleo-common~stable%2Fstein~I02723e0900a7490cb980fe84fbeebe83137e8554,openstack/tripleo-common,stable/stein,I02723e0900a7490cb980fe84fbeebe83137e8554,Prefix ansible output with timestamps,MERGED,2019-10-04 17:34:48.000000000,2019-10-14 15:46:06.000000000,2019-10-14 15:44:29.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-04 17:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3282e6a5ba69b2300ece9080f3e87d63b2c9f6e7', 'message': 'Prefix ansible output with timestamps\n\nWe output the ansible output in a single log line which can lead to what\nappears to be out of sync timestamps.  We can split the output by line\nand output that individually so the outter timestamps are in sync.\n\nChange-Id: I02723e0900a7490cb980fe84fbeebe83137e8554\nCloses-Bug: #1845930\n(cherry picked from commit 6f92cb6685c75217606e74a3aaaf9702872513bf)\n'}, {'number': 2, 'created': '2019-10-04 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ace10bcc1650a47ac2c8499264a4ac81337165f2', 'message': 'Prefix ansible output with timestamps\n\nWe output the ansible output in a single log line which can lead to what\nappears to be out of sync timestamps.  We can split the output by line\nand output that individually so the outter timestamps are in sync.\n\nChange-Id: I02723e0900a7490cb980fe84fbeebe83137e8554\nCloses-Bug: #1845930\n(cherry picked from commit 6f92cb6685c75217606e74a3aaaf9702872513bf)\n'}, {'number': 3, 'created': '2019-10-07 14:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7bcb428015fc4c6fe7c13b0cf3aece14c7de759b', 'message': 'Prefix ansible output with timestamps\n\nWe output the ansible output in a single log line which can lead to what\nappears to be out of sync timestamps.  We can split the output by line\nand output that individually so the outter timestamps are in sync.\n\nChange-Id: I02723e0900a7490cb980fe84fbeebe83137e8554\nCloses-Bug: #1845930\n(cherry picked from commit 6f92cb6685c75217606e74a3aaaf9702872513bf)\n'}, {'number': 4, 'created': '2019-10-09 21:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6b8edbfb1c7eef81cc4393ec189dbc9a3448e326', 'message': 'Prefix ansible output with timestamps\n\nWe output the ansible output in a single log line which can lead to what\nappears to be out of sync timestamps.  We can split the output by line\nand output that individually so the outter timestamps are in sync.\n\nChange-Id: I02723e0900a7490cb980fe84fbeebe83137e8554\nCloses-Bug: #1845930\n(cherry picked from commit 6f92cb6685c75217606e74a3aaaf9702872513bf)\n'}, {'number': 5, 'created': '2019-10-11 20:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e1e9a15f28555712ff771324e1cad47c7d686a72', 'message': 'Prefix ansible output with timestamps\n\nWe output the ansible output in a single log line which can lead to what\nappears to be out of sync timestamps.  We can split the output by line\nand output that individually so the outter timestamps are in sync.\n\nChange-Id: I02723e0900a7490cb980fe84fbeebe83137e8554\nCloses-Bug: #1845930\n(cherry picked from commit 6f92cb6685c75217606e74a3aaaf9702872513bf)\n'}, {'number': 6, 'created': '2019-10-14 00:33:38.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/66f011325de9ed015e42eb0366e61d3846a9f649', 'message': 'Prefix ansible output with timestamps\n\nWe output the ansible output in a single log line which can lead to what\nappears to be out of sync timestamps.  We can split the output by line\nand output that individually so the outter timestamps are in sync.\n\nChange-Id: I02723e0900a7490cb980fe84fbeebe83137e8554\nCloses-Bug: #1845930\n(cherry picked from commit 6f92cb6685c75217606e74a3aaaf9702872513bf)\n'}]",0,686788,66f011325de9ed015e42eb0366e61d3846a9f649,34,8,6,14985,,,0,"Prefix ansible output with timestamps

We output the ansible output in a single log line which can lead to what
appears to be out of sync timestamps.  We can split the output by line
and output that individually so the outter timestamps are in sync.

Change-Id: I02723e0900a7490cb980fe84fbeebe83137e8554
Closes-Bug: #1845930
(cherry picked from commit 6f92cb6685c75217606e74a3aaaf9702872513bf)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/88/686788/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,3282e6a5ba69b2300ece9080f3e87d63b2c9f6e7,bug/1844446-stable/stein, for line in f: LOG.info(line.rstrip()), LOG.info(f.read()),2,1
openstack%2Fopenstack-ansible~master~If58e377cc830c2a9b0992fe86cee7646a768e542,openstack/openstack-ansible,master,If58e377cc830c2a9b0992fe86cee7646a768e542,Add release note for bind-to-mgmt,MERGED,2019-10-10 13:00:47.000000000,2019-10-14 15:32:41.000000000,2019-10-14 15:28:20.000000000,"[{'_account_id': 13095}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 28543}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-10 13:00:47.000000000', 'files': ['releasenotes/notes/bind-to-mgmt-2557a22aa89d368a.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cac79e088289df76b4efe1a91a356e631723b7a4', 'message': 'Add release note for bind-to-mgmt\n\nChange-Id: If58e377cc830c2a9b0992fe86cee7646a768e542\n'}]",0,687893,cac79e088289df76b4efe1a91a356e631723b7a4,12,7,1,25023,,,0,"Add release note for bind-to-mgmt

Change-Id: If58e377cc830c2a9b0992fe86cee7646a768e542
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/93/687893/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bind-to-mgmt-2557a22aa89d368a.yaml'],1,cac79e088289df76b4efe1a91a356e631723b7a4,,"--- features: - | Each openstack service role has a new variable <role>_bind_address which defaults to 0.0.0.0. A global override openstack_service_bind_address may be used by a deployer either in group_vars or user_variables to define an alternative IP address for services to bind to. This feature allows a deployer to bind all of the services to a specific network, for example the openstack management network. In this release the default binding remains 0.0.0.0, and future releases may default the binding to the management network. ",,11,0
openstack%2Fopenstack-ansible~master~I17077331ba39227278ecfc2369ae946f5affb98e,openstack/openstack-ansible,master,I17077331ba39227278ecfc2369ae946f5affb98e,Unfreeze roles,MERGED,2019-10-11 10:08:03.000000000,2019-10-14 15:30:48.000000000,2019-10-14 15:28:18.000000000,"[{'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-11 10:08:03.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/21c9f6b78ee2629e60393b21bef3fa2968a2487b', 'message': 'Unfreeze roles\n\nThis partially reverts commit 440bc86cd12338e467a9cd41fb18542913ee89f4\n\nChange-Id: I17077331ba39227278ecfc2369ae946f5affb98e\n'}]",0,688097,21c9f6b78ee2629e60393b21bef3fa2968a2487b,11,6,1,28619,,,0,"Unfreeze roles

This partially reverts commit 440bc86cd12338e467a9cd41fb18542913ee89f4

Change-Id: I17077331ba39227278ecfc2369ae946f5affb98e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/97/688097/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,21c9f6b78ee2629e60393b21bef3fa2968a2487b,, version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: stable-4.0 version: master version: master version: master version: master version: master version: master version: master version: master version: master, version: 979805c9043793ab644dddd02091d4dce5ab267c version: d8f60e02cbef87136dde6260bb025fefcae176fa version: 25ad47732fd45b0f8ea7580e5f053880f2efcf96 version: 315d342692d0af565d68d294845049ed56195d10 version: edd360694ef8a6650f65d7949c8f64457970ba90 version: 2f64c94ae356838ce8a63719364eb2ee4a5dbaca version: 9de89e9dbaa07216095c9c9c69dadea9e430db62 version: 8bbfc283d9bc07fb7ae63168844a01146d4f8697 version: 9c3c35cde1d9bebe2338399911e8afc5f8a96fd1 version: 03089fa08e40fc3c8f93f95df7bfd3742d9cbc56 version: 2e3639895c5b59c3b3ebec342d22146eb0263dbc version: d4cd6e09fe3c6b66a88aa0c2a4ede5687c5c0f11 version: 83d22bbfcf5c2bf1cb493794951f6f302d27b758 version: c4011bc0ada38624484343f30ede7f9a0de86722 version: 6fca9b86cb3f697f482a5b334d2faed5742a406b version: c00363e3d70ddee406ba4a96121b9f515bf536d6 version: 3d53ca08fec7290f90b90bd9f1cf3d149a57d1ff version: fa5727c09067c0e9bd57c816a5b7b9811000ca7b version: da93dc99e828636055cbcee63ae6ba41ab29c93f version: 2edaf9f06e7af3fa9c075a6adbad62d5bc6a1c8c version: 4463252de91bf890a09cf922bddc13cae716f148 version: ae681ded4e6bc033c75f72b7a429a5b04dd0a676 version: 7ab0e460d114c7f36d59485f6b21adf64974e3fc version: 7858df55c30e619338e59796c5faef073d5c79bb version: d55808d12f9a5c64affd2923c5940be721b1c396 version: b21a6cf3a08ac11474bfb7fe3f3c1e92f2b14661 version: eb251d3fadf84c0fb4c75b6e893120e9c46ddc97 version: 43038143e6766969ee0afe0f34e2ef44efa3af7f version: 786692dda1494945c6c4d893387b96d9337e2b7e version: 498ce9f3d6a4867f83775f42ea64ce16407c54c7 version: 5743962b890d1b891d9bab3edb26530e0d210c5e version: 417ec1a2961d0da9dea92b8d36d0df7f60c59dbe version: eff5be4b997ed7a4ed21f5db134d0823555f8ffe version: 57d718385c72bb0bf068e6e25cf6c7f2bf4317e7 version: a2223ab1eadfeb8a9b3e5da9f9f71ababf5dc576 version: cae0d4f431a15ce7e95c62518b610bd3ca2da6b2 version: e0328cc68eef413fbe57ed901a2496d5e0cc675f version: f52352a49317a8b280b2672f7b5d0e9b9dc86a1d version: ad11bd76ba007491b30b15b2d38a28aa92b41dee version: 9cda38a6b9724027cf430200a704eabc628d7017 version: 0e6301003f5c2c6070707b013b048aaf83e9bd8e version: ded5a2da89a03f0cdb5ebb58186bb167801ab66d version: 99d0f00060b67498b20e8e7588156592dfa427ec version: 7f2914b63fc2daec780786c98ed5f44ebe065f1b version: 3c02d26e25345c52e6d0ffc7894f7f96c5d8357f version: bd77b290e5112fbffc5983424603764d294b91c5 version: df00bf7f03858915833bcf1b31b78f9e3f1d76d9 version: 454bcb828fd645ad5f43e48ee498ca974faca729 version: c755eb300b12ecb659e92375fa0572efec74846f version: fa1c447b6a979a614fc024725b5ecad215261c4a version: f8e2d8a89ddb9352d5748332a5f3a33ed33f66ab version: a2ff5ba59b47f96ddddcb7a3a67de93687c317a6 version: 4f806786da9a09037f6d5a1a19a70c1f13df243b version: 4a9217ed0fe9078152435daaa2d3f45b81021b3a version: 8e3a24a35beb16d717072dc83895c5a1f92689fb version: b7861939fe58dd87d386c43a26b584e1a4488bf8 version: 11594a85aeb82159b5f5e267b861c8f6374e50c1 version: c22d8de7239b5f1847a3d404c25d18fe4fb8dc4b version: 8d662a04a22bf679baf7f8d3e3e82b52d3211638 version: 9c2ac2b20dfcef46a7bed256781161880503c878 version: 7bde578d9b3e1180b7a9c20c99a2f654d0f457f9 version: b88d50704b9912011ef039a3c62808c228e4d4b8,62,62
openstack%2Fpython-zunclient~stable%2Ftrain~Ie1525c673104588760ec78a3c996103da08b42d1,openstack/python-zunclient,stable/train,Ie1525c673104588760ec78a3c996103da08b42d1,Send binary to websocket proxy,MERGED,2019-10-13 13:48:40.000000000,2019-10-14 15:11:24.000000000,2019-10-14 15:10:07.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-13 13:48:40.000000000', 'files': ['zunclient/common/websocketclient/websocketclient.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/2ab88791f9890517b10a939eb0a5a9393c9f366e', 'message': 'Send binary to websocket proxy\n\nWebsockify 0.9.0 rejected receiving text frame:\nhttps://github.com/novnc/websockify/commit/8eb5cb0cdcd1314d6d763df8f226b587a2396aa2\nWe have to switch to binary frame instead.\n\nChange-Id: Ie1525c673104588760ec78a3c996103da08b42d1\nCloses-Bug: #1847889\n(cherry picked from commit bc1cfd9737380a4827fec97152139e6c2e918f38)\n'}]",0,688302,2ab88791f9890517b10a939eb0a5a9393c9f366e,7,2,1,11536,,,0,"Send binary to websocket proxy

Websockify 0.9.0 rejected receiving text frame:
https://github.com/novnc/websockify/commit/8eb5cb0cdcd1314d6d763df8f226b587a2396aa2
We have to switch to binary frame instead.

Change-Id: Ie1525c673104588760ec78a3c996103da08b42d1
Closes-Bug: #1847889
(cherry picked from commit bc1cfd9737380a4827fec97152139e6c2e918f38)
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/02/688302/1 && git format-patch -1 --stdout FETCH_HEAD,['zunclient/common/websocketclient/websocketclient.py'],1,2ab88791f9890517b10a939eb0a5a9393c9f366e,bug/1847889-stable/train, self.ws.send_binary(data), self.ws.send(data),1,1
openstack%2Ftripleo-common~master~I47c9a2693d831958958fa6ea7cccbdd8fdb12277,openstack/tripleo-common,master,I47c9a2693d831958958fa6ea7cccbdd8fdb12277,Use tenancity to backoff when layer is locked,MERGED,2019-10-02 15:51:46.000000000,2019-10-14 15:02:21.000000000,2019-10-09 02:30:19.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-10-02 15:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4fd2218396b6c75ac7574c4ce6845551696c53b0', 'message': ""Use tenancity to backoff when layer is locked\n\nRather than doing a while loop and sleep, let's use tenancity to do an\nexponential backoff off when the layer is already being fetched by\nanother process.\n\nChange-Id: I47c9a2693d831958958fa6ea7cccbdd8fdb12277\n""}, {'number': 2, 'created': '2019-10-03 23:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cd0f72838e0987bdd581d75a0cafc9c85a227e64', 'message': ""Use tenancity to backoff when layer is locked\n\nRather than doing a while loop and sleep, let's use tenancity to do an\nexponential backoff off when the layer is already being fetched by\nanother process.\n\nChange-Id: I47c9a2693d831958958fa6ea7cccbdd8fdb12277\n""}, {'number': 3, 'created': '2019-10-03 23:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7e49a336dbc9a729d2efde073329420d6e541e33', 'message': ""Use tenancity to backoff when layer is locked\n\nRather than doing a while loop and sleep, let's use tenancity to do an\nexponential backoff off when the layer is already being fetched by\nanother process.\n\nChange-Id: I47c9a2693d831958958fa6ea7cccbdd8fdb12277\n""}, {'number': 4, 'created': '2019-10-04 08:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a9139d362085f70de32cd554a71d52cbec33b99b', 'message': ""Use tenancity to backoff when layer is locked\n\nRather than doing a while loop and sleep, let's use tenancity to do an\nexponential backoff off when the layer is already being fetched by\nanother process.\n\nChange-Id: I47c9a2693d831958958fa6ea7cccbdd8fdb12277\n""}, {'number': 5, 'created': '2019-10-04 15:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/748344a3420358fa025badeac9fbfb10450f2f85', 'message': ""Use tenancity to backoff when layer is locked\n\nRather than doing a while loop and sleep, let's use tenancity to do an\nexponential backoff off when the layer is already being fetched by\nanother process.\n\nChange-Id: I47c9a2693d831958958fa6ea7cccbdd8fdb12277\n""}, {'number': 6, 'created': '2019-10-04 16:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ec865b060db96a436a017cbe7546a994561c98af', 'message': ""Use tenancity to backoff when layer is locked\n\nRather than doing a while loop and sleep, let's use tenancity to do an\nexponential backoff off when the layer is already being fetched by\nanother process.\n\nChange-Id: I47c9a2693d831958958fa6ea7cccbdd8fdb12277\n""}, {'number': 7, 'created': '2019-10-04 16:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/baf9a234196df6281dbb0f49ae5fcda58d950bac', 'message': ""Use tenancity to backoff when layer is locked\n\nRather than doing a while loop and sleep, let's use tenancity to do an\nexponential backoff off when the layer is already being fetched by\nanother process.\n\nChange-Id: I47c9a2693d831958958fa6ea7cccbdd8fdb12277\n""}, {'number': 8, 'created': '2019-10-04 16:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/49e971709e906d08da475ddf7d3b6975de849dbf', 'message': ""Use tenancity to backoff when layer is locked\n\nRather than doing a while loop and sleep, let's use tenancity to do an\nexponential backoff off when the layer is already being fetched by\nanother process.\n\nChange-Id: I47c9a2693d831958958fa6ea7cccbdd8fdb12277\n""}, {'number': 9, 'created': '2019-10-08 13:33:33.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/98f2d962f955fd57085f6c2a9fcc3882f9eaae38', 'message': ""Use tenancity to backoff when layer is locked\n\nRather than doing a while loop and sleep, let's use tenancity to do an\nexponential backoff off when the layer is already being fetched by\nanother process.\n\nChange-Id: I47c9a2693d831958958fa6ea7cccbdd8fdb12277\n""}]",4,686193,98f2d962f955fd57085f6c2a9fcc3882f9eaae38,51,7,9,14985,,,0,"Use tenancity to backoff when layer is locked

Rather than doing a while loop and sleep, let's use tenancity to do an
exponential backoff off when the layer is already being fetched by
another process.

Change-Id: I47c9a2693d831958958fa6ea7cccbdd8fdb12277
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/93/686193/8 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,4fd2218396b6c75ac7574c4ce6845551696c53b0,bug/1844446-patch2, if layer in cls.uploader_lock_info: raise ImageUploaderThreadException('layer being fetched') LOG.debug('Locking layer %s' % layer), LOG.debug('Locking layer %s' % layer) while layer in cls.uploader_lock_info: time.sleep(0.5),3,3
openstack%2Fcyborg~master~I4e7d14e271aa26f19da3605b20cb4fd72eef4312,openstack/cyborg,master,I4e7d14e271aa26f19da3605b20cb4fd72eef4312,async job for bind,MERGED,2019-09-09 13:28:09.000000000,2019-10-14 14:58:48.000000000,2019-10-08 06:19:56.000000000,"[{'_account_id': 14131}, {'_account_id': 17813}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}]","[{'number': 1, 'created': '2019-09-09 13:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d1fb5713e55b904e376ba1c29abf9690a3b7cd60', 'message': '[WIP] async job\n\nThis patch is still WIP.\nTwo many opens for async job.\n\nSo just commit a draft for RFC.\nIgnore pep8 errors or other errors, will improve it later.\n\nDo not support rollback for update_provider\nDo not support multi thread in agent.\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 2, 'created': '2019-09-10 10:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/03a264c61851fd2a8648d0ccb1dffca5eb52e024', 'message': '[WIP] async job\n\nThis patch is still WIP.\nTwo many opens for async job.\n\nSo just commit a draft for RFC.\nIgnore pep8 errors or other errors, will improve it later.\n\nDo not support rollback for update_provider\nDo not support multi thread in agent.\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 3, 'created': '2019-09-10 10:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f14db7e48dca2b5271c03d3c6cce6059e4be0fec', 'message': '[WIP] async job\n\nThis patch is still WIP.\nTwo many opens for async job.\n\nSo just commit a draft for RFC.\nIgnore pep8 errors or other errors, will improve it later.\n\nDo not support rollback for update_provider\nDo not support multi thread in agent.\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 4, 'created': '2019-09-10 11:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/7c9fbeea9daa46183d74d978ccde3a7271e3c889', 'message': '[WIP] async job\n\nThis patch is still WIP.\nTwo many opens for async job.\n\nSo just commit a draft for RFC.\nIgnore pep8 errors or other errors, will improve it later.\n\nDo not support rollback for update_provider\nDo not support multi thread in agent.\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 5, 'created': '2019-09-10 13:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/7ecebbfcfc794d7ba41dc7987d1ed0656bd98f60', 'message': '[WIP] async job\n\nThis patch is still WIP.\nTwo many opens for async job.\n\nSo just commit a draft for RFC.\nIgnore pep8 errors or other errors, will improve it later.\n\nDo not support rollback for update_provider\nDo not support multi thread in agent.\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 6, 'created': '2019-09-10 14:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d1cb9f031920cad8d0877944ff24b5acec3987b0', 'message': '[WIP] async job\n\nThis patch is still WIP.\nTwo many opens for async job.\n\nSo just commit a draft for RFC.\nIgnore pep8 errors or other errors, will improve it later.\n\nDo not support rollback for update_provider\nDo not support multi thread in agent.\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 7, 'created': '2019-09-11 10:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4639a1b0eed31d64e39b8dff6cd5a91f25c3db26', 'message': '[WIP] async job\n\nThis patch is still WIP.\nTwo many opens for async job.\n\nSo just commit a draft for RFC.\nIgnore pep8 errors or other errors, will improve it later.\n\nDo not support rollback for update_provider\nDo not support multi thread in agent.\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 8, 'created': '2019-09-13 11:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/960197421619aed8a918ec6cd81e59aac6e03089', 'message': 'async job\n\nThis patch is still WIP.\nTwo many opens for async job.\n\nSo just commit a draft for RFC.\nIgnore pep8 errors or other errors, will improve it later.\n\nDo not support rollback for update_provider\nDo not support multi thread in agent.\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 9, 'created': '2019-09-13 20:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/249f37be5e3034455f782b10a8f91c33e328f706', 'message': 'async job for bind\n\nDo not support rollback for update_provider\nDo not support multi thread in agent.\nTwo many opens for async job.\n\nTest this patch:\n1. Get auth token\nAUTH=""X-Auth-Token: $(openstack token issue -c id -f value)""\n\n2. Get resource provider info\nRP_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nARRAY=`OS_PLACEMENT_API_VERSION=1.18 openstack resource provider trait \\\n    list $RP_UUID -c name -f value`\nDEVICE_TRAIT=`head -n 1 <<< $ARRAY`\nFN_TRAIT=`grep FUNCTION_ID <<< $ARRAY`\nFUN_ID=${FN_TRAIT##*_}\nREGION_TRAIT=`grep FPGA_REGION <<< $ARRAY`\nREGION_TYPE_ID=${REGION_TRAIT##*_}\n\n3. upload a image\nBIT_NAME=fpga_bts_1\ntouch samples.tar.gz\nBIT_FILE=samples.tar.gz\nopenstack image create --tag FPGA \\\n    --property REGION_TYPE_ID=""accel:region_type_id=${REGION_TYPE_ID}"" \\\n    --property accel:function_id=$FUN_ID --file $BIT_FILE $BIT_NAME\nBITSTREAM_ID=`openstack image list -c ID -c Name -f value | \\\n    grep $BIT_NAME |awk \'{print $1}\'`\nopenstack image list -c ID -f value --property accel:function_id=$FUN_ID\n\n4. create device profile\nCYURL=`openstack endpoint list --service cyborg \\\n    --interface ""public"" -c ""URL"" -f value`\nCTYPE=""Content-Type: application/json""\nDEVPROF_NAME=afaas_example_1\n$RESOURCES=FPGA\nBODY=""[{ \\""name\\"": \\""$DEVPROF_NAME\\"",\n  \\""groups\\"": [\n      {\\""resources:$RESOURCES\\"": \\""1\\"",\n       \\""trait:$DEVICE_TRAIT\\"": \\""required\\"",\n       \\""trait:$FN_TRAIT\\"": \\""required\\"",\n       \\""accel:bitstream_id\\"": \\""$BITSTREAM_ID\\""\n      }\n  ]\n}]""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" $CYURL/device_profiles\n\n5. create an ARQ\nBODY=""{\\""device_profile_name\\"": \\""$DEVPROF_NAME\\""}""\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" $CYURL/accelerator_requests | \\\n    grep \'uuid"": "".*?""\' -oP |cut -d \'""\' -f 3 | tail -n 1`\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" \\\n    $CYURL/accelerator_requests | grep \'uuid"": "".*?""\' -oP |cut -d \'""\' -f 3`\n\n6. bind ARQ\nNODENAME=`openstack hypervisor list -c ""Hypervisor Hostname"" -f value`\nPR_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nINS_UUID=`uuidgen`\nBODY=""{\\""$ARQ_UUID\\"": [\n     {\\""path\\"": \\""/hostname\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$NODENAME\\""},\n     {\\""path\\"": \\""/device_rp_uuid\\"", \\""op\\"": \\""add\\"",\n            \\""value\\"": \\""$PR_UUID\\""},\n     {\\""path\\"": \\""/instance_uuid\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$INS_UUID\\""}\n  ]\n}""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" -X PATCH -d ""$BODY"" \\\n    -w ""%{http_code}\\n"" $CYURL/accelerator_requests\n\nMonitor notify:\napt-get install httpry  # yum install httpry\nNOVAURL=`openstack endpoint list --service nova \\\n    --interface ""public"" -c ""URL"" -f value`\nHOST=${NOVAURL##*//}\nHOST=${HOST%%/*}\nsudo httpry ""tcp dst port 80 and src host $HOST""\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 10, 'created': '2019-09-13 20:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/2eeec8cbe21bd4d33877e03b4d672eff3b2981c7', 'message': 'async job for bind\n\nDo not support rollback for update_provider\nDo not support multi thread in agent.\nTwo many opens for async job.\n\nTest this patch:\n1. Get auth token\nAUTH=""X-Auth-Token: $(openstack token issue -c id -f value)""\n\n2. Get resource provider info\nRP_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nARRAY=`OS_PLACEMENT_API_VERSION=1.18 openstack resource provider trait \\\n    list $RP_UUID -c name -f value`\nDEVICE_TRAIT=`head -n 1 <<< $ARRAY`\nFN_TRAIT=`grep FUNCTION_ID <<< $ARRAY`\nFUN_ID=${FN_TRAIT##*_}\nREGION_TRAIT=`grep FPGA_REGION <<< $ARRAY`\nREGION_TYPE_ID=${REGION_TRAIT##*_}\n\n3. upload a image\nBIT_NAME=fpga_bts_1\ntouch samples.tar.gz\nBIT_FILE=samples.tar.gz\nopenstack image create --tag FPGA \\\n    --property REGION_TYPE_ID=""accel:region_type_id=${REGION_TYPE_ID}"" \\\n    --property accel:function_id=$FUN_ID --file $BIT_FILE $BIT_NAME\nBITSTREAM_ID=`openstack image list -c ID -c Name -f value | \\\n    grep $BIT_NAME |awk \'{print $1}\'`\nopenstack image list -c ID -f value --property accel:function_id=$FUN_ID\n\n4. create device profile\nCYURL=`openstack endpoint list --service cyborg \\\n    --interface ""public"" -c ""URL"" -f value`\nCTYPE=""Content-Type: application/json""\nDEVPROF_NAME=afaas_example_1\n$RESOURCES=FPGA\nBODY=""[{ \\""name\\"": \\""$DEVPROF_NAME\\"",\n  \\""groups\\"": [\n      {\\""resources:$RESOURCES\\"": \\""1\\"",\n       \\""trait:$DEVICE_TRAIT\\"": \\""required\\"",\n       \\""trait:$FN_TRAIT\\"": \\""required\\"",\n       \\""accel:bitstream_id\\"": \\""$BITSTREAM_ID\\""\n      }\n  ]\n}]""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" $CYURL/device_profiles\n\n5. create an ARQ\nBODY=""{\\""device_profile_name\\"": \\""$DEVPROF_NAME\\""}""\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" $CYURL/accelerator_requests | \\\n    grep \'uuid"": "".*?""\' -oP |cut -d \'""\' -f 3 | tail -n 1`\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" \\\n    $CYURL/accelerator_requests | grep \'uuid"": "".*?""\' -oP |cut -d \'""\' -f 3`\n\n6. bind ARQ\nNODENAME=`openstack hypervisor list -c ""Hypervisor Hostname"" -f value`\nPR_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nINS_UUID=`uuidgen`\nBODY=""{\\""$ARQ_UUID\\"": [\n     {\\""path\\"": \\""/hostname\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$NODENAME\\""},\n     {\\""path\\"": \\""/device_rp_uuid\\"", \\""op\\"": \\""add\\"",\n            \\""value\\"": \\""$PR_UUID\\""},\n     {\\""path\\"": \\""/instance_uuid\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$INS_UUID\\""}\n  ]\n}""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" -X PATCH -d ""$BODY"" \\\n    -w ""%{http_code}\\n"" $CYURL/accelerator_requests\n\nMonitor notify:\napt-get install httpry  # yum install httpry\nNOVAURL=`openstack endpoint list --service nova \\\n    --interface ""public"" -c ""URL"" -f value`\nHOST=${NOVAURL##*//}\nHOST=${HOST%%/*}\nsudo httpry ""tcp dst port 80 and src host $HOST""\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 11, 'created': '2019-09-14 02:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/9d6c4cb7ec09f5b0d618292a7bd411dbcdfd57bb', 'message': 'async job for bind\n\nDo not support rollback for update_provider\nDo not support multi thread in agent.\nTwo many opens for async job.\n\nTest this patch:\n1. Get auth token\nAUTH=""X-Auth-Token: $(openstack token issue -c id -f value)""\n\n2. Get resource provider info\nRP_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nARRAY=`OS_PLACEMENT_API_VERSION=1.18 openstack resource provider trait \\\n    list $RP_UUID -c name -f value`\nDEVICE_TRAIT=`head -n 1 <<< $ARRAY`\nFN_TRAIT=`grep FUNCTION_ID <<< $ARRAY`\nFUN_ID=${FN_TRAIT##*_}\nREGION_TRAIT=`grep FPGA_REGION <<< $ARRAY`\nREGION_TYPE_ID=${REGION_TRAIT##*_}\n\n3. upload a image\nBIT_NAME=fpga_bts_1\ntouch samples.tar.gz\nBIT_FILE=samples.tar.gz\nopenstack image create --tag FPGA \\\n    --property REGION_TYPE_ID=""accel:region_type_id=${REGION_TYPE_ID}"" \\\n    --property accel:function_id=$FUN_ID --file $BIT_FILE $BIT_NAME\nBITSTREAM_ID=`openstack image list -c ID -c Name -f value | \\\n    grep $BIT_NAME |awk \'{print $1}\'`\nopenstack image list -c ID -f value --property accel:function_id=$FUN_ID\n\n4. create device profile\nCYURL=`openstack endpoint list --service cyborg \\\n    --interface ""public"" -c ""URL"" -f value`\nCTYPE=""Content-Type: application/json""\nDEVPROF_NAME=afaas_example_1\n$RESOURCES=FPGA\nBODY=""[{ \\""name\\"": \\""$DEVPROF_NAME\\"",\n  \\""groups\\"": [\n      {\\""resources:$RESOURCES\\"": \\""1\\"",\n       \\""trait:$DEVICE_TRAIT\\"": \\""required\\"",\n       \\""trait:$FN_TRAIT\\"": \\""required\\"",\n       \\""accel:bitstream_id\\"": \\""$BITSTREAM_ID\\""\n      }\n  ]\n}]""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" $CYURL/device_profiles\n\n5. create an ARQ\nBODY=""{\\""device_profile_name\\"": \\""$DEVPROF_NAME\\""}""\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" $CYURL/accelerator_requests | \\\n    grep \'uuid"": "".*?""\' -oP |cut -d \'""\' -f 3 | tail -n 1`\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" \\\n    $CYURL/accelerator_requests | grep \'uuid"": "".*?""\' -oP |cut -d \'""\' -f 3`\n\n6. bind ARQ\nNODENAME=`openstack hypervisor list -c ""Hypervisor Hostname"" -f value`\nPR_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nINS_UUID=`uuidgen`\nBODY=""{\\""$ARQ_UUID\\"": [\n     {\\""path\\"": \\""/hostname\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$NODENAME\\""},\n     {\\""path\\"": \\""/device_rp_uuid\\"", \\""op\\"": \\""add\\"",\n            \\""value\\"": \\""$PR_UUID\\""},\n     {\\""path\\"": \\""/instance_uuid\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$INS_UUID\\""}\n  ]\n}""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" -X PATCH -d ""$BODY"" \\\n    -w ""%{http_code}\\n"" $CYURL/accelerator_requests\n\nMonitor notify:\napt-get install httpry  # yum install httpry\nNOVAURL=`openstack endpoint list --service nova \\\n    --interface ""public"" -c ""URL"" -f value`\nHOST=${NOVAURL##*//}\nHOST=${HOST%%/*}\nsudo httpry ""tcp dst port 80 and src host $HOST""\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 12, 'created': '2019-09-14 21:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c088f63d0a42691972fb8c43dfd16c8dbbac2380', 'message': 'async job for bind\n\nThe currently design:\n  Only support bind async.\n  Only state in [\'Initial\',\'BindStarted\'], bind process can start.\n  If a bind in process, it will be not stoped by deleting or unbind api.\n  But the last state will be deleting or unbind.\n  For multi jobs (such as user request 2 FPGAs), only all jobs are success,\n  the ARQ state is ""Bound"". Any jobs failed, the ARQ state will be ""BindFailed""\n  Do not support rollback for update_provider\n  Do not support multi thread in agent.\n  If bind successfully, the info level log will show details as follow:\n    1. All ARQ 1d9f17a6-0b94-4838-ae55-cb49f5727a81 async bind jobs finish\n    successfully.\n    2. Attach handle(d6442f0a-21f6-4161-bb74-45c66ba1f345) for\n    ARQ(1d9f17a6-0b94-4838-ae55-cb49f5727a81) successfully.\n    3. Update ARQ 1d9f17a6-0b94-4838-ae55-cb49f5727a81 state to ""Bound""\n    successfully.\n  If bind jobs timeout, it will output log as follow:\n    ERROR cyborg.accelerator.common.handler [-] Traceback (most recent call last):\n      File ""./cyborg/common/utils.py"", line 283, in future_iterator\n        yield (f.result(end_time - time.time()),\n      File ""/usr/local/lib/python2.7/dist-packages/concurrent/futures/_base.py"", line 464, in result\n        raise TimeoutError()\n    TimeoutError\n\nStill Two many opens for async job.\n\nTest this patch:\n1. Get auth token\nAUTH=""X-Auth-Token: $(openstack token issue -c id -f value)""\n\n2. Get resource provider info\nRP_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nARRAY=`OS_PLACEMENT_API_VERSION=1.18 openstack resource provider trait \\\n    list $RP_UUID -c name -f value`\nDEVICE_TRAIT=`head -n 1 <<< $ARRAY`\nFN_TRAIT=`grep FUNCTION_ID <<< $ARRAY`\nFUN_ID=${FN_TRAIT##*_}\nREGION_TRAIT=`grep FPGA_REGION <<< $ARRAY`\nREGION_TYPE_ID=${REGION_TRAIT##*_}\n\n3. upload a image\nBIT_NAME=fpga_bts_1\ntouch samples.tar.gz\nBIT_FILE=samples.tar.gz\nopenstack image create --tag FPGA \\\n    --property REGION_TYPE_ID=""accel:region_type_id=${REGION_TYPE_ID}"" \\\n    --property accel:function_id=$FUN_ID --file $BIT_FILE $BIT_NAME\nBITSTREAM_ID=`openstack image list -c ID -c Name -f value | \\\n    grep $BIT_NAME |awk \'{print $1}\'`\nopenstack image list -c ID -f value --property accel:function_id=$FUN_ID\n\n4. create device profile\nCYURL=`openstack endpoint list --service cyborg \\\n    --interface ""public"" -c ""URL"" -f value`\nCTYPE=""Content-Type: application/json""\nDEVPROF_NAME=afaas_example_1\n$RESOURCES=FPGA\nBODY=""[{ \\""name\\"": \\""$DEVPROF_NAME\\"",\n  \\""groups\\"": [\n      {\\""resources:$RESOURCES\\"": \\""1\\"",\n       \\""trait:$DEVICE_TRAIT\\"": \\""required\\"",\n       \\""trait:$FN_TRAIT\\"": \\""required\\"",\n       \\""accel:bitstream_id\\"": \\""$BITSTREAM_ID\\""\n      }\n  ]\n}]""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" $CYURL/device_profiles\n\n5. create an ARQ\nBODY=""{\\""device_profile_name\\"": \\""$DEVPROF_NAME\\""}""\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" $CYURL/accelerator_requests | \\\n    grep \'uuid"": "".*?""\' -oP |cut -d \'""\' -f 3 | tail -n 1`\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" \\\n    $CYURL/accelerator_requests | grep \'uuid"": "".*?""\' -oP |cut -d \'""\' -f 3`\n\n6. bind ARQ\nNODENAME=`openstack hypervisor list -c ""Hypervisor Hostname"" -f value`\nPR_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nINS_UUID=`uuidgen`\nBODY=""{\\""$ARQ_UUID\\"": [\n     {\\""path\\"": \\""/hostname\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$NODENAME\\""},\n     {\\""path\\"": \\""/device_rp_uuid\\"", \\""op\\"": \\""add\\"",\n            \\""value\\"": \\""$PR_UUID\\""},\n     {\\""path\\"": \\""/instance_uuid\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$INS_UUID\\""}\n  ]\n}""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" -X PATCH -d ""$BODY"" \\\n    -w ""%{http_code}\\n"" $CYURL/accelerator_requests\n\n7. Monitor notify\nubuntu:\n  $ apt-get install httpry\ncentos:\n  $ yum install httpry\n$ NOVAURL=`openstack endpoint list --service nova \\\n    --interface ""public"" -c ""URL"" -f value`\n$ HOST=${NOVAURL##*//}\n$ HOST=${HOST%%/*}\nAll in One evn:\n  $ sudo httpry -i lo -m POST  ""tcp dst port 80 and src host $HOST""\nMulti host evn:\n  $ sudo httpry -m POST  ""tcp dst port 80 and src host $HOST""\n\nyou can also check the log.\nif anything wrong, it will output log as follow:\n2019-09-14 14:21:12.353 41349 ERROR cyborg.common.utils [-] Traceback (most recent call last):\n  File ""./cyborg/common/utils.py"", line 387, in _impl\n    output = method(self, *args, **kwargs)\n  File ""./cyborg/accelerator/common/handler.py"", line 234, in all_arq_bind_status_sync\n  File ""./cyborg/accelerator/common/handler.py"", line 202, in bind_notify\n  File ""./cyborg/common/nova_client.py"", line 56, in notify_binding\n    result = self._send_events(events)\n  File ""./cyborg/common/nova_client.py"", line 50, in _send_events\n    (events, response.status_code, response.text))\nException: Failed to send events [{\'status\': \'completed\', \'tag\': u\'afaas_example_1\', \'name\': \'accelerator-requests-bound\', \'server_uuid\': u\'0be7e70f-710d-4ecf-b480-911c53b565cf\'}]: HTTP 404: {""itemNotFound"": {""message"": ""No instances found for any event"", ""code"": 404}}\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 13, 'created': '2019-09-15 01:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4d3c6b59b0267ec020c893bfaa1be3b70f6cbf83', 'message': 'async job for bind\n\nThe currently design:\n  Only support bind async.\n  Only state in [\'Initial\',\'Unbound\'], bind process can start.\n  If a bind job in process, it will be not stoped by deleting or unbind api.\n  But the last state will be deleting or unbound.\n  For multi jobs (such as a user request 2 FPGAs), only all jobs are success,\n  the ARQ state is ""Bound"". Any jobs failed, the ARQ state will be ""BindFailed""\n  Do not support rollback at present, such as cancel update_provider or program.\n  Do not support multi thread in cyborg-agent.\n  If bind successfully, the info level log will show details as follow:\n    1. All ARQ 1d9f17a6-0b94-4838-ae55-cb49f5727a81 async bind jobs finish\n    successfully.\n    2. Attach handle(d6442f0a-21f6-4161-bb74-45c66ba1f345) for\n    ARQ(1d9f17a6-0b94-4838-ae55-cb49f5727a81) successfully.\n    3. Update ARQ 1d9f17a6-0b94-4838-ae55-cb49f5727a81 state to ""Bound""\n    successfully.\n  If bind jobs timeout, it will output log as follow:\n    ERROR cyborg.accelerator.common.handler [-] Traceback (most recent call last):\n      File ""./cyborg/common/utils.py"", line 283, in future_iterator\n        yield (f.result(end_time - time.time()),\n      File ""/usr/local/lib/python2.7/dist-packages/concurrent/futures/_base.py"", line 464, in result\n        raise TimeoutError()\n    TimeoutError\n\nStill too many opens for async job.\n\nTest this patch:\n1. Get auth token\nAUTH=""X-Auth-Token: $(openstack token issue -c id -f value)""\n\n2. Get resource provider info\nRP_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nARRAY=`OS_PLACEMENT_API_VERSION=1.18 openstack resource provider trait \\\n    list $RP_UUID -c name -f value`\nDEVICE_TRAIT=`head -n 1 <<< $ARRAY`\nFN_TRAIT=`grep FUNCTION_ID <<< $ARRAY`\nFUN_ID=${FN_TRAIT##*_}\nREGION_TRAIT=`grep FPGA_REGION <<< $ARRAY`\nREGION_TYPE_ID=${REGION_TRAIT##*_}\n\n3. upload a image\nBIT_NAME=fpga_bts_1\ntouch samples.tar.gz\nBIT_FILE=samples.tar.gz\nopenstack image create --tag FPGA \\\n    --property REGION_TYPE_ID=""accel:region_type_id=${REGION_TYPE_ID}"" \\\n    --property accel:function_id=$FUN_ID --file $BIT_FILE $BIT_NAME\nBITSTREAM_ID=`openstack image list -c ID -c Name -f value | \\\n    grep $BIT_NAME |awk \'{print $1}\'`\nopenstack image list -c ID -f value --property accel:function_id=$FUN_ID\n\n4. create device profile\nCYURL=`openstack endpoint list --service cyborg \\\n    --interface ""public"" -c ""URL"" -f value`\nCTYPE=""Content-Type: application/json""\nDEVPROF_NAME=afaas_example_1\n$RESOURCES=FPGA\nBODY=""[{ \\""name\\"": \\""$DEVPROF_NAME\\"",\n  \\""groups\\"": [\n      {\\""resources:$RESOURCES\\"": \\""1\\"",\n       \\""trait:$DEVICE_TRAIT\\"": \\""required\\"",\n       \\""trait:$FN_TRAIT\\"": \\""required\\"",\n       \\""accel:bitstream_id\\"": \\""$BITSTREAM_ID\\""\n      }\n  ]\n}]""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" $CYURL/device_profiles\n\n5. create an ARQ\nBODY=""{\\""device_profile_name\\"": \\""$DEVPROF_NAME\\""}""\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" $CYURL/accelerator_requests | \\\n    grep \'uuid"": "".*?""\' -oP |cut -d \'""\' -f 3 | tail -n 1`\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" \\\n    $CYURL/accelerator_requests | grep \'uuid"": "".*?""\' -oP |cut -d \'""\' -f 3`\n\n6. bind ARQ\nNODENAME=`openstack hypervisor list -c ""Hypervisor Hostname"" -f value`\nPR_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nINS_UUID=`uuidgen`\nBODY=""{\\""$ARQ_UUID\\"": [\n     {\\""path\\"": \\""/hostname\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$NODENAME\\""},\n     {\\""path\\"": \\""/device_rp_uuid\\"", \\""op\\"": \\""add\\"",\n            \\""value\\"": \\""$PR_UUID\\""},\n     {\\""path\\"": \\""/instance_uuid\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$INS_UUID\\""}\n  ]\n}""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" -X PATCH -d ""$BODY"" \\\n    -w ""%{http_code}\\n"" $CYURL/accelerator_requests\n\n7. Monitor notify\nubuntu:\n  $ apt-get install httpry\ncentos:\n  $ yum install httpry\n$ NOVAURL=`openstack endpoint list --service nova \\\n    --interface ""public"" -c ""URL"" -f value`\n$ HOST=${NOVAURL##*//}\n$ HOST=${HOST%%/*}\nAll in One evn:\n  $ sudo httpry -i lo -m POST  ""tcp dst port 80 and src host $HOST""\nMulti host evn:\n  $ sudo httpry -m POST  ""tcp dst port 80 and src host $HOST""\n\nyou can also check the log.\nif anything wrong, it will output log as follow:\n2019-09-14 14:21:12.353 41349 ERROR cyborg.common.utils [-] Traceback (most recent call last):\n  File ""./cyborg/common/utils.py"", line 387, in _impl\n    output = method(self, *args, **kwargs)\n  File ""./cyborg/accelerator/common/handler.py"", line 234, in all_arq_bind_status_sync\n  File ""./cyborg/accelerator/common/handler.py"", line 202, in bind_notify\n  File ""./cyborg/common/nova_client.py"", line 56, in notify_binding\n    result = self._send_events(events)\n  File ""./cyborg/common/nova_client.py"", line 50, in _send_events\n    (events, response.status_code, response.text))\nException: Failed to send events [{\'status\': \'completed\', \'tag\': u\'afaas_example_1\', \'name\': \'accelerator-requests-bound\', \'server_uuid\': u\'0be7e70f-710d-4ecf-b480-911c53b565cf\'}]: HTTP 404: {""itemNotFound"": {""message"": ""No instances found for any event"", ""code"": 404}}\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 14, 'created': '2019-09-15 01:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/13f937063f8e7eed605d14a04c4e1fef24ed23e3', 'message': 'async job for bind\n\nThe currently design:\n  Only support bind async.\n  Only state in [\'Initial\',\'Unbound\'], bind process can start.\n  If a bind job in process, it will be not stoped by deleting or unbind api.\n  But the last state will be deleting or unbound.\n  For multi jobs (such as a user request 2 FPGAs), only all jobs are success,\n  the ARQ state is ""Bound"". Any jobs failed, the ARQ state will be ""BindFailed""\n  Do not support rollback at present, such as cancel update_provider or program.\n  Do not support multi thread in cyborg-agent.\n  If bind successfully, the info level log will show details as follow:\n    1. All async bind jobs of ARQ 1d9f17a6-0b94-4838-ae55-cb49f5727a81 has\n    finished successfully.\n    2. Attach handle(d6442f0a-21f6-4161-bb74-45c66ba1f345) for\n    ARQ(1d9f17a6-0b94-4838-ae55-cb49f5727a81) successfully.\n    3. Update ARQ 1d9f17a6-0b94-4838-ae55-cb49f5727a81 state to ""Bound""\n    successfully.\n  If bind jobs timeout, it will output log as follow:\n    ERROR cyborg.accelerator.common.handler [-] Traceback (most recent call last):\n      File ""./cyborg/common/utils.py"", line 283, in future_iterator\n        yield (f.result(end_time - time.time()),\n      File ""/usr/local/lib/python2.7/dist-packages/concurrent/futures/_base.py"", line 464, in result\n        raise TimeoutError()\n    TimeoutError\n\nStill too many opens for async job.\n\nTest this patch:\n1. Get auth token\nAUTH=""X-Auth-Token: $(openstack token issue -c id -f value)""\n\n2. Get resource provider info\nRP_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nARRAY=`OS_PLACEMENT_API_VERSION=1.18 openstack resource provider trait \\\n    list $RP_UUID -c name -f value`\nDEVICE_TRAIT=`head -n 1 <<< $ARRAY`\nFN_TRAIT=`grep FUNCTION_ID <<< $ARRAY`\nFUN_ID=${FN_TRAIT##*_}\nREGION_TRAIT=`grep FPGA_REGION <<< $ARRAY`\nREGION_TYPE_ID=${REGION_TRAIT##*_}\n\n3. upload a image\nBIT_NAME=fpga_bts_1\ntouch samples.tar.gz\nBIT_FILE=samples.tar.gz\nopenstack image create --tag FPGA \\\n    --property REGION_TYPE_ID=""accel:region_type_id=${REGION_TYPE_ID}"" \\\n    --property accel:function_id=$FUN_ID --file $BIT_FILE $BIT_NAME\nBITSTREAM_ID=`openstack image list -c ID -c Name -f value | \\\n    grep $BIT_NAME |awk \'{print $1}\'`\nopenstack image list -c ID -f value --property accel:function_id=$FUN_ID\n\n4. create device profile\nCYURL=`openstack endpoint list --service cyborg \\\n    --interface ""public"" -c ""URL"" -f value`\nCTYPE=""Content-Type: application/json""\nDEVPROF_NAME=afaas_example_1\n$RESOURCES=FPGA\nBODY=""[{ \\""name\\"": \\""$DEVPROF_NAME\\"",\n  \\""groups\\"": [\n      {\\""resources:$RESOURCES\\"": \\""1\\"",\n       \\""trait:$DEVICE_TRAIT\\"": \\""required\\"",\n       \\""trait:$FN_TRAIT\\"": \\""required\\"",\n       \\""accel:bitstream_id\\"": \\""$BITSTREAM_ID\\""\n      }\n  ]\n}]""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" $CYURL/device_profiles\n\n5. create an ARQ\nBODY=""{\\""device_profile_name\\"": \\""$DEVPROF_NAME\\""}""\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" $CYURL/accelerator_requests | \\\n    grep \'uuid"": "".*?""\' -oP |cut -d \'""\' -f 3 | tail -n 1`\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" \\\n    $CYURL/accelerator_requests | grep \'uuid"": "".*?""\' -oP |cut -d \'""\' -f 3`\n\n6. bind ARQ\nNODENAME=`openstack hypervisor list -c ""Hypervisor Hostname"" -f value`\nPR_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nINS_UUID=`uuidgen`\nBODY=""{\\""$ARQ_UUID\\"": [\n     {\\""path\\"": \\""/hostname\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$NODENAME\\""},\n     {\\""path\\"": \\""/device_rp_uuid\\"", \\""op\\"": \\""add\\"",\n            \\""value\\"": \\""$PR_UUID\\""},\n     {\\""path\\"": \\""/instance_uuid\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$INS_UUID\\""}\n  ]\n}""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" -X PATCH -d ""$BODY"" \\\n    -w ""%{http_code}\\n"" $CYURL/accelerator_requests\n\n7. Monitor notify\nubuntu:\n  $ apt-get install httpry\ncentos:\n  $ yum install httpry\n$ NOVAURL=`openstack endpoint list --service nova \\\n    --interface ""public"" -c ""URL"" -f value`\n$ HOST=${NOVAURL##*//}\n$ HOST=${HOST%%/*}\nAll in One evn:\n  $ sudo httpry -i lo -m POST  ""tcp dst port 80 and src host $HOST""\nMulti host evn:\n  $ sudo httpry -m POST  ""tcp dst port 80 and src host $HOST""\n\nyou can also check the log.\nif anything wrong, it will output log as follow:\n2019-09-14 14:21:12.353 41349 ERROR cyborg.common.utils [-] Traceback (most recent call last):\n  File ""./cyborg/common/utils.py"", line 387, in _impl\n    output = method(self, *args, **kwargs)\n  File ""./cyborg/accelerator/common/handler.py"", line 234, in all_arq_bind_status_sync\n  File ""./cyborg/accelerator/common/handler.py"", line 202, in bind_notify\n  File ""./cyborg/common/nova_client.py"", line 56, in notify_binding\n    result = self._send_events(events)\n  File ""./cyborg/common/nova_client.py"", line 50, in _send_events\n    (events, response.status_code, response.text))\nException: Failed to send events [{\'status\': \'completed\', \'tag\': u\'afaas_example_1\', \'name\': \'accelerator-requests-bound\', \'server_uuid\': u\'0be7e70f-710d-4ecf-b480-911c53b565cf\'}]: HTTP 404: {""itemNotFound"": {""message"": ""No instances found for any event"", ""code"": 404}}\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 15, 'created': '2019-09-18 04:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/64bceb2511c7d53ba3c328b37147431d874839ae', 'message': 'async job for bind\n\nThe currently design:\n  Only support bind async.\n  Only state in [\'Initial\',\'Unbound\'], bind process can start.\n  If a bind in process, it will be not stoped by deleting or unbind api.\n  But the last state will be deleting or unbind.\n  For multi jobs (such as user request 2 FPGAs), only all jobs are success,\n  the ARQ state is ""Bound"". Any jobs failed, the ARQ state will be ""BindFailed""\n  Do not support rollback for update_provider\n  Do not support multi thread in agent.\n  If bind successfully, the info level log will show details as follow:\n    1. All ARQs [\'1d9f17a6-0b94-4838-ae55-cb49f5727a81\'] async bind jobs\n    has finished.\n    2. Attach handle(d6442f0a-21f6-4161-bb74-45c66ba1f345) for\n    ARQ(1d9f17a6-0b94-4838-ae55-cb49f5727a81) successfully.\n    3. Update ARQ 1d9f17a6-0b94-4838-ae55-cb49f5727a81 state to ""Bound""\n    successfully.\n  If bind jobs timeout, it will output log as follow:\n    ERROR cyborg.accelerator.common.handler [-] Traceback (most recent call last):\n      File ""./cyborg/common/utils.py"", line 283, in future_iterator\n        yield (f.result(end_time - time.time()),\n      File ""/usr/local/lib/python2.7/dist-packages/concurrent/futures/_base.py"", line 464, in result\n        raise TimeoutError()\n    TimeoutError\n\nStill too many opens for async job.\n\nTest this patch:\n1. Get auth token\nAUTH=""X-Auth-Token: $(openstack token issue -c id -f value)""\n\n2. Get resource provider info\nRP_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nARRAY=`OS_PLACEMENT_API_VERSION=1.18 openstack resource provider trait \\\n    list $RP_UUID -c name -f value`\nDEVICE_TRAIT=`head -n 1 <<< $ARRAY`\nFN_TRAIT=`grep FUNCTION_ID <<< $ARRAY`\nFUN_ID=${FN_TRAIT##*_}\nREGION_TRAIT=`grep FPGA_REGION <<< $ARRAY`\nREGION_TYPE_ID=${REGION_TRAIT##*_}\n\n3. upload a image\nBIT_NAME=fpga_bts_1\ntouch samples.tar.gz\nBIT_FILE=samples.tar.gz\nopenstack image create --tag FPGA \\\n    --property REGION_TYPE_ID=""accel:region_type_id=${REGION_TYPE_ID}"" \\\n    --property accel:function_id=$FUN_ID --file $BIT_FILE $BIT_NAME\nBITSTREAM_ID=`openstack image list -c ID -c Name -f value | \\\n    grep $BIT_NAME |awk \'{print $1}\'`\nopenstack image list -c ID -f value --property accel:function_id=$FUN_ID\n\n4. create device profile\nCYURL=`openstack endpoint list --service cyborg \\\n    --interface ""public"" -c ""URL"" -f value`\nCTYPE=""Content-Type: application/json""\nDEVPROF_NAME=afaas_example_1\n$RESOURCES=FPGA\nBODY=""[{ \\""name\\"": \\""$DEVPROF_NAME\\"",\n  \\""groups\\"": [\n      {\\""resources:$RESOURCES\\"": \\""1\\"",\n       \\""trait:$DEVICE_TRAIT\\"": \\""required\\"",\n       \\""trait:$FN_TRAIT\\"": \\""required\\"",\n       \\""accel:bitstream_id\\"": \\""$BITSTREAM_ID\\""\n      }\n  ]\n}]""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" $CYURL/device_profiles\n\n5. create an ARQ\nBODY=""{\\""device_profile_name\\"": \\""$DEVPROF_NAME\\""}""\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" $CYURL/accelerator_requests | \\\n    grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4 | tail -n 1`\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" \\\n    $CYURL/accelerator_requests | grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4`\n\n6. bind ARQ\nNODENAME=`openstack hypervisor list -c ""Hypervisor Hostname"" -f value`\nPR_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nINS_UUID=`uuidgen`\nBODY=""{\\""$ARQ_UUID\\"": [\n     {\\""path\\"": \\""/hostname\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$NODENAME\\""},\n     {\\""path\\"": \\""/device_rp_uuid\\"", \\""op\\"": \\""add\\"",\n            \\""value\\"": \\""$PR_UUID\\""},\n     {\\""path\\"": \\""/instance_uuid\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$INS_UUID\\""}\n  ]\n}""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" -X PATCH -d ""$BODY"" \\\n    -w ""%{http_code}\\n"" $CYURL/accelerator_requests\n\n7. Monitor notify\nubuntu:\n  $ apt-get install httpry\ncentos:\n  $ yum install httpry\n$ NOVAURL=`openstack endpoint list --service nova \\\n    --interface ""public"" -c ""URL"" -f value`\n$ HOST=${NOVAURL##*//}\n$ HOST=${HOST%%/*}\nAll in One evn:\n  $ sudo httpry -i lo -m POST  ""tcp dst port 80 and src host $HOST""\nMulti host evn:\n  $ sudo httpry -m POST  ""tcp dst port 80 and src host $HOST""\n\nyou can also check the log.\nif anything wrong, it will output log as follow:\n2019-09-14 14:21:12.353 41349 ERROR cyborg.common.utils [-] Traceback (most recent call last):\n  File ""./cyborg/common/utils.py"", line 387, in _impl\n    output = method(self, *args, **kwargs)\n  File ""./cyborg/accelerator/common/handler.py"", line 234, in all_arq_bind_status_sync\n  File ""./cyborg/accelerator/common/handler.py"", line 202, in bind_notify\n  File ""./cyborg/common/nova_client.py"", line 56, in notify_binding\n    result = self._send_events(events)\n  File ""./cyborg/common/nova_client.py"", line 50, in _send_events\n    (events, response.status_code, response.text))\nException: Failed to send events [{\'status\': \'completed\', \'tag\': u\'afaas_example_1\', \'name\': \'accelerator-requests-bound\', \'server_uuid\': u\'0be7e70f-710d-4ecf-b480-911c53b565cf\'}]: HTTP 404: {""itemNotFound"": {""message"": ""No instances found for any event"", ""code"": 404}}\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 16, 'created': '2019-09-18 06:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/1c09a895907aae7fb990f5217999cf0f11a336ea', 'message': 'async job for bind\n\nThe currently design:\n  Only support bind async.\n  Only state in [\'Initial\',\'Unbound\'], bind process can start.\n  If a bind in process, it will be not stoped by deleting or unbind api.\n  But the last state will be deleting or unbind.\n  For multi jobs (such as user request 2 FPGAs), only all jobs are success,\n  the ARQ state is ""Bound"". Any jobs failed, the ARQ state will be ""BindFailed""\n  Do not support rollback for update_provider\n  Do not support multi thread in agent.\n  If bind successfully, the info level log will show details as follow:\n    1. All ARQs [\'1d9f17a6-0b94-4838-ae55-cb49f5727a81\'] async bind jobs\n    has finished.\n    2. Attach handle(d6442f0a-21f6-4161-bb74-45c66ba1f345) for\n    ARQ(1d9f17a6-0b94-4838-ae55-cb49f5727a81) successfully.\n    3. Update ARQ 1d9f17a6-0b94-4838-ae55-cb49f5727a81 state to ""Bound""\n    successfully.\n  If bind jobs timeout, it will output log as follow:\n    ERROR cyborg.accelerator.common.handler [-] Traceback (most recent call last):\n      File ""./cyborg/common/utils.py"", line 283, in future_iterator\n        yield (f.result(end_time - time.time()),\n      File ""/usr/local/lib/python2.7/dist-packages/concurrent/futures/_base.py"", line 464, in result\n        raise TimeoutError()\n    TimeoutError\n\nStill too many opens for async job.\n\nTest this patch:\n1. Get auth token\nAUTH=""X-Auth-Token: $(openstack token issue -c id -f value)""\n\n2. Get resource provider info\nRP_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nARRAY=`OS_PLACEMENT_API_VERSION=1.18 openstack resource provider trait \\\n    list $RP_UUID -c name -f value`\nDEVICE_TRAIT=`head -n 1 <<< $ARRAY`\nFN_TRAIT=`grep FUNCTION_ID <<< $ARRAY`\nFUN_ID=${FN_TRAIT##*_}\nREGION_TRAIT=`grep FPGA_REGION <<< $ARRAY`\nREGION_TYPE_ID=${REGION_TRAIT##*_}\n\n3. upload a image\nBIT_NAME=fpga_bts_1\ntouch samples.tar.gz\nBIT_FILE=samples.tar.gz\nopenstack image create --tag FPGA \\\n    --property REGION_TYPE_ID=""accel:region_type_id=${REGION_TYPE_ID}"" \\\n    --property accel:function_id=$FUN_ID --file $BIT_FILE $BIT_NAME\nBITSTREAM_ID=`openstack image list -c ID -c Name -f value | \\\n    grep $BIT_NAME |awk \'{print $1}\'`\nopenstack image list -c ID -f value --property accel:function_id=$FUN_ID\n\n4. create device profile\nCYURL=`openstack endpoint list --service cyborg \\\n    --interface ""public"" -c ""URL"" -f value`\nCTYPE=""Content-Type: application/json""\nDEVPROF_NAME=afaas_example_1\n$RESOURCES=FPGA\nBODY=""[{ \\""name\\"": \\""$DEVPROF_NAME\\"",\n  \\""groups\\"": [\n      {\\""resources:$RESOURCES\\"": \\""1\\"",\n       \\""trait:$DEVICE_TRAIT\\"": \\""required\\"",\n       \\""trait:$FN_TRAIT\\"": \\""required\\"",\n       \\""accel:bitstream_id\\"": \\""$BITSTREAM_ID\\""\n      }\n  ]\n}]""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" $CYURL/device_profiles\n\n5. create an ARQ\nBODY=""{\\""device_profile_name\\"": \\""$DEVPROF_NAME\\""}""\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" $CYURL/accelerator_requests | \\\n    grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4 | tail -n 1`\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" \\\n    $CYURL/accelerator_requests | grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4`\n\n6. bind ARQ\nNODENAME=`openstack hypervisor list -c ""Hypervisor Hostname"" -f value`\nPR_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nINS_UUID=`uuidgen`\nBODY=""{\\""$ARQ_UUID\\"": [\n     {\\""path\\"": \\""/hostname\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$NODENAME\\""},\n     {\\""path\\"": \\""/device_rp_uuid\\"", \\""op\\"": \\""add\\"",\n            \\""value\\"": \\""$PR_UUID\\""},\n     {\\""path\\"": \\""/instance_uuid\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$INS_UUID\\""}\n  ]\n}""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" -X PATCH -d ""$BODY"" \\\n    -w ""%{http_code}\\n"" $CYURL/accelerator_requests\n\n7. Monitor notify\nubuntu:\n  $ apt-get install httpry\ncentos:\n  $ yum install httpry\n$ NOVAURL=`openstack endpoint list --service nova \\\n    --interface ""public"" -c ""URL"" -f value`\n$ HOST=${NOVAURL##*//}\n$ HOST=${HOST%%/*}\nAll in One evn:\n  $ sudo httpry -i lo -m POST  ""tcp dst port 80 and src host $HOST""\nMulti host evn:\n  $ sudo httpry -m POST  ""tcp dst port 80 and src host $HOST""\n\nyou can also check the log.\nif anything wrong, it will output log as follow:\n2019-09-14 14:21:12.353 41349 ERROR cyborg.common.utils [-] Traceback (most recent call last):\n  File ""./cyborg/common/utils.py"", line 387, in _impl\n    output = method(self, *args, **kwargs)\n  File ""./cyborg/accelerator/common/handler.py"", line 234, in all_arq_bind_status_sync\n  File ""./cyborg/accelerator/common/handler.py"", line 202, in bind_notify\n  File ""./cyborg/common/nova_client.py"", line 56, in notify_binding\n    result = self._send_events(events)\n  File ""./cyborg/common/nova_client.py"", line 50, in _send_events\n    (events, response.status_code, response.text))\nException: Failed to send events [{\'status\': \'completed\', \'tag\': u\'afaas_example_1\', \'name\': \'accelerator-requests-bound\', \'server_uuid\': u\'0be7e70f-710d-4ecf-b480-911c53b565cf\'}]: HTTP 404: {""itemNotFound"": {""message"": ""No instances found for any event"", ""code"": 404}}\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 17, 'created': '2019-09-25 07:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c0ded3ed810afeb1c58c7ccb7c48ba1b7cbfd562', 'message': 'async job for bind\n\nThe currently design:\n  Only support bind async.\n  Only state in [\'Initial\',\'Unbound\'], bind process can start.\n  If a bind in process, it will be not stoped by deleting or unbind api.\n  But the last state will be deleting or unbind.\n  For multi jobs (such as user request 2 FPGAs), only all jobs are success,\n  the ARQ state is ""Bound"". Any jobs failed, the ARQ state will be ""BindFailed""\n  Do not support rollback for update_provider\n  Do not support multi thread in agent.\n  If bind successfully, the info level log will show details as follow:\n    1. All ARQs [\'1d9f17a6-0b94-4838-ae55-cb49f5727a81\'] async bind jobs\n    has finished.\n    2. Attach handle(d6442f0a-21f6-4161-bb74-45c66ba1f345) for\n    ARQ(1d9f17a6-0b94-4838-ae55-cb49f5727a81) successfully.\n    3. Update ARQ 1d9f17a6-0b94-4838-ae55-cb49f5727a81 state to ""Bound""\n    successfully.\n  If bind jobs timeout, it will output log as follow:\n    ERROR cyborg.accelerator.common.handler [-] Traceback (most recent call last):\n      File ""./cyborg/common/utils.py"", line 283, in future_iterator\n        yield (f.result(end_time - time.time()),\n      File ""/usr/local/lib/python2.7/dist-packages/concurrent/futures/_base.py"", line 464, in result\n        raise TimeoutError()\n    TimeoutError\n\nStill too many opens for async job.\n\nTest this patch:\n1. Get auth token\nAUTH=""X-Auth-Token: $(openstack token issue -c id -f value)""\n\n2. Get resource provider info\nRP_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nARRAY=`OS_PLACEMENT_API_VERSION=1.18 openstack resource provider trait \\\n    list $RP_UUID -c name -f value`\nDEVICE_TRAIT=`head -n 1 <<< $ARRAY`\nFN_TRAIT=`grep FUNCTION_ID <<< $ARRAY`\nFUN_ID=${FN_TRAIT##*_}\nREGION_TRAIT=`grep FPGA_REGION <<< $ARRAY`\nREGION_TYPE_ID=${REGION_TRAIT##*_}\n\n3. upload a image\nBIT_NAME=fpga_bts_1\ntouch samples.tar.gz\nBIT_FILE=samples.tar.gz\nopenstack image create --tag FPGA \\\n    --property REGION_TYPE_ID=""accel:region_type_id=${REGION_TYPE_ID}"" \\\n    --property accel:function_id=$FUN_ID --file $BIT_FILE $BIT_NAME\nBITSTREAM_ID=`openstack image list -c ID -c Name -f value | \\\n    grep $BIT_NAME |awk \'{print $1}\'`\nopenstack image list -c ID -f value --property accel:function_id=$FUN_ID\n\n4. create device profile\nCYURL=`openstack endpoint list --service cyborg \\\n    --interface ""public"" -c ""URL"" -f value`\nCTYPE=""Content-Type: application/json""\nDEVPROF_NAME=afaas_example_1\n$RESOURCES=FPGA\nBODY=""[{ \\""name\\"": \\""$DEVPROF_NAME\\"",\n  \\""groups\\"": [\n      {\\""resources:$RESOURCES\\"": \\""1\\"",\n       \\""trait:$DEVICE_TRAIT\\"": \\""required\\"",\n       \\""trait:$FN_TRAIT\\"": \\""required\\"",\n       \\""accel:bitstream_id\\"": \\""$BITSTREAM_ID\\""\n      }\n  ]\n}]""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" $CYURL/device_profiles\n\n5. create an ARQ\nBODY=""{\\""device_profile_name\\"": \\""$DEVPROF_NAME\\""}""\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" $CYURL/accelerator_requests | \\\n    grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4 | tail -n 1`\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" \\\n    $CYURL/accelerator_requests | grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4`\n\n6. bind ARQ\nNODENAME=`openstack hypervisor list -c ""Hypervisor Hostname"" -f value`\nPR_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nINS_UUID=`uuidgen`\nBODY=""{\\""$ARQ_UUID\\"": [\n     {\\""path\\"": \\""/hostname\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$NODENAME\\""},\n     {\\""path\\"": \\""/device_rp_uuid\\"", \\""op\\"": \\""add\\"",\n            \\""value\\"": \\""$PR_UUID\\""},\n     {\\""path\\"": \\""/instance_uuid\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$INS_UUID\\""}\n  ]\n}""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" -X PATCH -d ""$BODY"" \\\n    -w ""%{http_code}\\n"" $CYURL/accelerator_requests\n\n7. Monitor notify\nubuntu:\n  $ apt-get install httpry\ncentos:\n  $ yum install httpry\n$ NOVAURL=`openstack endpoint list --service nova \\\n    --interface ""public"" -c ""URL"" -f value`\n$ HOST=${NOVAURL##*//}\n$ HOST=${HOST%%/*}\nAll in One evn:\n  $ sudo httpry -i lo -m POST  ""tcp dst port 80 and src host $HOST""\nMulti host evn:\n  $ sudo httpry -m POST  ""tcp dst port 80 and src host $HOST""\n\nyou can also check the log.\nif anything wrong, it will output log as follow:\n2019-09-14 14:21:12.353 41349 ERROR cyborg.common.utils [-] Traceback (most recent call last):\n  File ""./cyborg/common/utils.py"", line 387, in _impl\n    output = method(self, *args, **kwargs)\n  File ""./cyborg/accelerator/common/handler.py"", line 234, in all_arq_bind_status_sync\n  File ""./cyborg/accelerator/common/handler.py"", line 202, in bind_notify\n  File ""./cyborg/common/nova_client.py"", line 56, in notify_binding\n    result = self._send_events(events)\n  File ""./cyborg/common/nova_client.py"", line 50, in _send_events\n    (events, response.status_code, response.text))\nException: Failed to send events [{\'status\': \'completed\', \'tag\': u\'afaas_example_1\', \'name\': \'accelerator-requests-bound\', \'server_uuid\': u\'0be7e70f-710d-4ecf-b480-911c53b565cf\'}]: HTTP 404: {""itemNotFound"": {""message"": ""No instances found for any event"", ""code"": 404}}\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 18, 'created': '2019-09-25 09:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/30be882dfc633622fdca5a74fb49ce1820a9e3a0', 'message': 'async job for bind\n\nThe currently design:\n  Only support bind async.\n  Only state in [\'Initial\',\'Unbound\'], bind process can start.\n  If a bind in process, it will be not stoped by deleting or unbind api.\n  But the last state will be deleting or unbind.\n  For multi jobs (such as user request 2 FPGAs), only all jobs are success,\n  the ARQ state is ""Bound"". Any jobs failed, the ARQ state will be ""BindFailed""\n  Do not support rollback for update_provider\n  Do not support multi thread in agent.\n  If bind successfully, the info level log will show details as follow:\n    1. All ARQs [\'1d9f17a6-0b94-4838-ae55-cb49f5727a81\'] async bind jobs\n    has finished.\n    2. Attach handle(d6442f0a-21f6-4161-bb74-45c66ba1f345) for\n    ARQ(1d9f17a6-0b94-4838-ae55-cb49f5727a81) successfully.\n    3. Update ARQ 1d9f17a6-0b94-4838-ae55-cb49f5727a81 state to ""Bound""\n    successfully.\n  If bind jobs timeout, it will output log as follow:\n    ERROR cyborg.accelerator.common.handler [-] Traceback (most recent call last):\n      File ""./cyborg/common/utils.py"", line 283, in future_iterator\n        yield (f.result(end_time - time.time()),\n      File ""/usr/local/lib/python2.7/dist-packages/concurrent/futures/_base.py"", line 464, in result\n        raise TimeoutError()\n    TimeoutError\n\nStill too many opens for async job.\n\nTest this patch:\n1. Get auth token\nAUTH=""X-Auth-Token: $(openstack token issue -c id -f value)""\n\n2. Get resource provider info\nRP_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nARRAY=`OS_PLACEMENT_API_VERSION=1.18 openstack resource provider trait \\\n    list $RP_UUID -c name -f value`\nDEVICE_TRAIT=`head -n 1 <<< $ARRAY`\nFN_TRAIT=`grep FUNCTION_ID <<< $ARRAY`\nFUN_ID=${FN_TRAIT##*_}\nREGION_TRAIT=`grep FPGA_REGION <<< $ARRAY`\nREGION_TYPE_ID=${REGION_TRAIT##*_}\n\n3. upload a image\nBIT_NAME=fpga_bts_1\ntouch samples.tar.gz\nBIT_FILE=samples.tar.gz\nopenstack image create --tag FPGA \\\n    --property REGION_TYPE_ID=""accel:region_type_id=${REGION_TYPE_ID}"" \\\n    --property accel:function_id=$FUN_ID --file $BIT_FILE $BIT_NAME\nBITSTREAM_ID=`openstack image list -c ID -c Name -f value | \\\n    grep $BIT_NAME |awk \'{print $1}\'`\nopenstack image list -c ID -f value --property accel:function_id=$FUN_ID\n\n4. create device profile\nCYURL=`openstack endpoint list --service cyborg \\\n    --interface ""public"" -c ""URL"" -f value`\nCTYPE=""Content-Type: application/json""\nDEVPROF_NAME=afaas_example_1\n$RESOURCES=FPGA\nBODY=""[{ \\""name\\"": \\""$DEVPROF_NAME\\"",\n  \\""groups\\"": [\n      {\\""resources:$RESOURCES\\"": \\""1\\"",\n       \\""trait:$DEVICE_TRAIT\\"": \\""required\\"",\n       \\""trait:$FN_TRAIT\\"": \\""required\\"",\n       \\""accel:bitstream_id\\"": \\""$BITSTREAM_ID\\""\n      }\n  ]\n}]""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" $CYURL/device_profiles\n\n5. create an ARQ\nBODY=""{\\""device_profile_name\\"": \\""$DEVPROF_NAME\\""}""\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" $CYURL/accelerator_requests | \\\n    grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4 | tail -n 1`\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" \\\n    $CYURL/accelerator_requests | grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4`\n\n6. bind ARQ\nNODENAME=`openstack hypervisor list -c ""Hypervisor Hostname"" -f value`\nPR_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nINS_UUID=`uuidgen`\nBODY=""{\\""$ARQ_UUID\\"": [\n     {\\""path\\"": \\""/hostname\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$NODENAME\\""},\n     {\\""path\\"": \\""/device_rp_uuid\\"", \\""op\\"": \\""add\\"",\n            \\""value\\"": \\""$PR_UUID\\""},\n     {\\""path\\"": \\""/instance_uuid\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$INS_UUID\\""}\n  ]\n}""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" -X PATCH -d ""$BODY"" \\\n    -w ""%{http_code}\\n"" $CYURL/accelerator_requests\n\n7. Monitor notify\nubuntu:\n  $ apt-get install httpry\ncentos:\n  $ yum install httpry\n$ NOVAURL=`openstack endpoint list --service nova \\\n    --interface ""public"" -c ""URL"" -f value`\n$ HOST=${NOVAURL##*//}\n$ HOST=${HOST%%/*}\nAll in One evn:\n  $ sudo httpry -i lo -m POST  ""tcp dst port 80 and src host $HOST""\nMulti host evn:\n  $ sudo httpry -m POST  ""tcp dst port 80 and src host $HOST""\n\nyou can also check the log.\nif anything wrong, it will output log as follow:\n2019-09-14 14:21:12.353 41349 ERROR cyborg.common.utils [-] Traceback (most recent call last):\n  File ""./cyborg/common/utils.py"", line 387, in _impl\n    output = method(self, *args, **kwargs)\n  File ""./cyborg/accelerator/common/handler.py"", line 234, in all_arq_bind_status_sync\n  File ""./cyborg/accelerator/common/handler.py"", line 202, in bind_notify\n  File ""./cyborg/common/nova_client.py"", line 56, in notify_binding\n    result = self._send_events(events)\n  File ""./cyborg/common/nova_client.py"", line 50, in _send_events\n    (events, response.status_code, response.text))\nException: Failed to send events [{\'status\': \'completed\', \'tag\': u\'afaas_example_1\', \'name\': \'accelerator-requests-bound\', \'server_uuid\': u\'0be7e70f-710d-4ecf-b480-911c53b565cf\'}]: HTTP 404: {""itemNotFound"": {""message"": ""No instances found for any event"", ""code"": 404}}\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 19, 'created': '2019-09-25 09:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/55c8c74257420cfaab5192999e62fb412dcf7039', 'message': 'async job for bind\n\nThe currently design:\n  Only support bind async.\n  Only state in [\'Initial\',\'Unbound\'], bind process can start.\n  If a bind in process, it will be not stoped by deleting or unbind api.\n  But the last state will be deleting or unbind.\n  For multi jobs (such as user request 2 FPGAs), only all jobs are success,\n  the ARQ state is ""Bound"". Any jobs failed, the ARQ state will be ""BindFailed""\n  Do not support rollback for update_provider\n  Do not support multi thread in agent.\n  If bind successfully, the info level log will show details as follow:\n    1. All ARQs [\'1d9f17a6-0b94-4838-ae55-cb49f5727a81\'] async bind jobs\n    has finished.\n    2. Attach handle(d6442f0a-21f6-4161-bb74-45c66ba1f345) for\n    ARQ(1d9f17a6-0b94-4838-ae55-cb49f5727a81) successfully.\n    3. Update ARQ 1d9f17a6-0b94-4838-ae55-cb49f5727a81 state to ""Bound""\n    successfully.\n  If bind jobs timeout, it will output log as follow:\n    ERROR cyborg.accelerator.common.handler [-] Traceback (most recent call last):\n      File ""./cyborg/common/utils.py"", line 283, in future_iterator\n        yield (f.result(end_time - time.time()),\n      File ""/usr/local/lib/python2.7/dist-packages/concurrent/futures/_base.py"", line 464, in result\n        raise TimeoutError()\n    TimeoutError\n\nStill too many opens for async job.\n\nTest this patch:\n1. Get auth token\nAUTH=""X-Auth-Token: $(openstack token issue -c id -f value)""\n\n2. Get resource provider info\nRP_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nARRAY=`OS_PLACEMENT_API_VERSION=1.18 openstack resource provider trait \\\n    list $RP_UUID -c name -f value`\nDEVICE_TRAIT=`head -n 1 <<< $ARRAY`\nFN_TRAIT=`grep FUNCTION_ID <<< $ARRAY`\nFUN_ID=${FN_TRAIT##*_}\nREGION_TRAIT=`grep FPGA_REGION <<< $ARRAY`\nREGION_TYPE_ID=${REGION_TRAIT##*_}\n\n3. upload a image\nBIT_NAME=fpga_bts_1\ntouch samples.tar.gz\nBIT_FILE=samples.tar.gz\nopenstack image create --tag FPGA \\\n    --property REGION_TYPE_ID=""accel:region_type_id=${REGION_TYPE_ID}"" \\\n    --property accel:function_id=$FUN_ID --file $BIT_FILE $BIT_NAME\nBITSTREAM_ID=`openstack image list -c ID -c Name -f value | \\\n    grep $BIT_NAME |awk \'{print $1}\'`\nopenstack image list -c ID -f value --property accel:function_id=$FUN_ID\n\n4. create device profile\nCYURL=`openstack endpoint list --service cyborg \\\n    --interface ""public"" -c ""URL"" -f value`\nCTYPE=""Content-Type: application/json""\nDEVPROF_NAME=afaas_example_1\n$RESOURCES=FPGA\nBODY=""[{ \\""name\\"": \\""$DEVPROF_NAME\\"",\n  \\""groups\\"": [\n      {\\""resources:$RESOURCES\\"": \\""1\\"",\n       \\""trait:$DEVICE_TRAIT\\"": \\""required\\"",\n       \\""trait:$FN_TRAIT\\"": \\""required\\"",\n       \\""accel:bitstream_id\\"": \\""$BITSTREAM_ID\\""\n      }\n  ]\n}]""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" $CYURL/device_profiles\n\n5. create an ARQ\nBODY=""{\\""device_profile_name\\"": \\""$DEVPROF_NAME\\""}""\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" $CYURL/accelerator_requests | \\\n    grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4 | tail -n 1`\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" \\\n    $CYURL/accelerator_requests | grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4`\n\n6. bind ARQ\nNODENAME=`openstack hypervisor list -c ""Hypervisor Hostname"" -f value`\nPR_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nINS_UUID=`uuidgen`\nBODY=""{\\""$ARQ_UUID\\"": [\n     {\\""path\\"": \\""/hostname\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$NODENAME\\""},\n     {\\""path\\"": \\""/device_rp_uuid\\"", \\""op\\"": \\""add\\"",\n            \\""value\\"": \\""$PR_UUID\\""},\n     {\\""path\\"": \\""/instance_uuid\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$INS_UUID\\""}\n  ]\n}""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" -X PATCH -d ""$BODY"" \\\n    -w ""%{http_code}\\n"" $CYURL/accelerator_requests\n\n7. Monitor notify\nubuntu:\n  $ apt-get install httpry\ncentos:\n  $ yum install httpry\n$ NOVAURL=`openstack endpoint list --service nova \\\n    --interface ""public"" -c ""URL"" -f value`\n$ HOST=${NOVAURL##*//}\n$ HOST=${HOST%%/*}\nAll in One evn:\n  $ sudo httpry -i lo -m POST  ""tcp dst port 80 and src host $HOST""\nMulti host evn:\n  $ sudo httpry -m POST  ""tcp dst port 80 and src host $HOST""\n\nyou can also check the log.\nif anything wrong, it will output log as follow:\n2019-09-14 14:21:12.353 41349 ERROR cyborg.common.utils [-] Traceback (most recent call last):\n  File ""./cyborg/common/utils.py"", line 387, in _impl\n    output = method(self, *args, **kwargs)\n  File ""./cyborg/accelerator/common/handler.py"", line 234, in all_arq_bind_status_sync\n  File ""./cyborg/accelerator/common/handler.py"", line 202, in bind_notify\n  File ""./cyborg/common/nova_client.py"", line 56, in notify_binding\n    result = self._send_events(events)\n  File ""./cyborg/common/nova_client.py"", line 50, in _send_events\n    (events, response.status_code, response.text))\nException: Failed to send events [{\'status\': \'completed\', \'tag\': u\'afaas_example_1\', \'name\': \'accelerator-requests-bound\', \'server_uuid\': u\'0be7e70f-710d-4ecf-b480-911c53b565cf\'}]: HTTP 404: {""itemNotFound"": {""message"": ""No instances found for any event"", ""code"": 404}}\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 20, 'created': '2019-09-26 14:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/9207d34f85ff863f6c68fcfcc73cc240f9278c30', 'message': 'async job for bind\n\nThe currently design:\n  Only support bind async.\n  Only state in [\'Initial\',\'Unbound\'], bind process can start.\n  If a bind in process, it will be not stoped by deleting or unbind api.\n  But the last state will be deleting or unbind.\n  For multi jobs (such as user request 2 FPGAs), only all jobs are success,\n  the ARQ state is ""Bound"". Any jobs failed, the ARQ state will be ""BindFailed""\n  Do not support rollback for update_provider\n  Do not support multi thread in agent.\n  If bind successfully, the info level log will show details as follow:\n    1. All ARQs [\'1d9f17a6-0b94-4838-ae55-cb49f5727a81\'] async bind jobs\n    has finished.\n    2. Attach handle(d6442f0a-21f6-4161-bb74-45c66ba1f345) for\n    ARQ(1d9f17a6-0b94-4838-ae55-cb49f5727a81) successfully.\n    3. Update ARQ 1d9f17a6-0b94-4838-ae55-cb49f5727a81 state to ""Bound""\n    successfully.\n  If bind jobs timeout, it will output log as follow:\n    ERROR cyborg.accelerator.common.handler [-] Traceback (most recent call last):\n      File ""./cyborg/common/utils.py"", line 283, in future_iterator\n        yield (f.result(end_time - time.time()),\n      File ""/usr/local/lib/python2.7/dist-packages/concurrent/futures/_base.py"", line 464, in result\n        raise TimeoutError()\n    TimeoutError\n\nStill too many opens for async job.\n\nTest this patch:\n1. Get auth token\nAUTH=""X-Auth-Token: $(openstack token issue -c id -f value)""\n\n2. Get resource provider info\nRP_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nARRAY=`OS_PLACEMENT_API_VERSION=1.18 openstack resource provider trait \\\n    list $RP_UUID -c name -f value`\nDEVICE_TRAIT=`head -n 1 <<< $ARRAY`\nFN_TRAIT=`grep FUNCTION_ID <<< $ARRAY`\nFUN_ID=${FN_TRAIT##*_}\nREGION_TRAIT=`grep FPGA_REGION <<< $ARRAY`\nREGION_TYPE_ID=${REGION_TRAIT##*_}\n\n3. upload a image\nBIT_NAME=fpga_bts_1\ntouch samples.tar.gz\nBIT_FILE=samples.tar.gz\nopenstack image create --tag FPGA \\\n    --property REGION_TYPE_ID=""accel:region_type_id=${REGION_TYPE_ID}"" \\\n    --property accel:function_id=$FUN_ID --file $BIT_FILE $BIT_NAME\nBITSTREAM_ID=`openstack image list -c ID -c Name -f value | \\\n    grep $BIT_NAME |awk \'{print $1}\'`\nopenstack image list -c ID -f value --property accel:function_id=$FUN_ID\n\n4. create device profile\nCYURL=`openstack endpoint list --service cyborg \\\n    --interface ""public"" -c ""URL"" -f value`\nCTYPE=""Content-Type: application/json""\nDEVPROF_NAME=afaas_example_1\n$RESOURCES=FPGA\nBODY=""[{ \\""name\\"": \\""$DEVPROF_NAME\\"",\n  \\""groups\\"": [\n      {\\""resources:$RESOURCES\\"": \\""1\\"",\n       \\""trait:$DEVICE_TRAIT\\"": \\""required\\"",\n       \\""trait:$FN_TRAIT\\"": \\""required\\"",\n       \\""accel:bitstream_id\\"": \\""$BITSTREAM_ID\\""\n      }\n  ]\n}]""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" $CYURL/device_profiles\n\n5. create an ARQ\nBODY=""{\\""device_profile_name\\"": \\""$DEVPROF_NAME\\""}""\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" $CYURL/accelerator_requests | \\\n    grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4 | tail -n 1`\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" \\\n    $CYURL/accelerator_requests | grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4`\n\n6. bind ARQ\nNODENAME=`openstack hypervisor list -c ""Hypervisor Hostname"" -f value`\nPR_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nINS_UUID=`uuidgen`\nBODY=""{\\""$ARQ_UUID\\"": [\n     {\\""path\\"": \\""/hostname\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$NODENAME\\""},\n     {\\""path\\"": \\""/device_rp_uuid\\"", \\""op\\"": \\""add\\"",\n            \\""value\\"": \\""$PR_UUID\\""},\n     {\\""path\\"": \\""/instance_uuid\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$INS_UUID\\""}\n  ]\n}""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" -X PATCH -d ""$BODY"" \\\n    -w ""%{http_code}\\n"" $CYURL/accelerator_requests\n\n7. Monitor notify\nubuntu:\n  $ apt-get install httpry\ncentos:\n  $ yum install httpry\n$ NOVAURL=`openstack endpoint list --service nova \\\n    --interface ""public"" -c ""URL"" -f value`\n$ HOST=${NOVAURL##*//}\n$ HOST=${HOST%%/*}\nAll in One evn:\n  $ sudo httpry -i lo -m POST  ""tcp dst port 80 and src host $HOST""\nMulti host evn:\n  $ sudo httpry -m POST  ""tcp dst port 80 and src host $HOST""\n\nyou can also check the log.\nif anything wrong, it will output log as follow:\n2019-09-14 14:21:12.353 41349 ERROR cyborg.common.utils [-] Traceback (most recent call last):\n  File ""./cyborg/common/utils.py"", line 387, in _impl\n    output = method(self, *args, **kwargs)\n  File ""./cyborg/accelerator/common/handler.py"", line 234, in all_arq_bind_status_sync\n  File ""./cyborg/accelerator/common/handler.py"", line 202, in bind_notify\n  File ""./cyborg/common/nova_client.py"", line 56, in notify_binding\n    result = self._send_events(events)\n  File ""./cyborg/common/nova_client.py"", line 50, in _send_events\n    (events, response.status_code, response.text))\nException: Failed to send events [{\'status\': \'completed\', \'tag\': u\'afaas_example_1\', \'name\': \'accelerator-requests-bound\', \'server_uuid\': u\'0be7e70f-710d-4ecf-b480-911c53b565cf\'}]: HTTP 404: {""itemNotFound"": {""message"": ""No instances found for any event"", ""code"": 404}}\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 21, 'created': '2019-09-27 04:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/45c3b0bbf13a3e99ff84bddd0c47f8ddc41b0881', 'message': 'async job for bind\n\nThe currently design:\n  Only support bind async.\n  Only state in [\'Initial\',\'Unbound\'], bind process can start.\n  If a bind in process, it will be not stoped by deleting or unbind api.\n  But the last state will be deleting or unbind.\n  For multi jobs (such as user request 2 FPGAs), only all jobs are success,\n  the ARQ state is ""Bound"". Any jobs failed, the ARQ state will be ""BindFailed""\n  Do not support rollback for update_provider\n  Do not support multi thread in agent.\n  If bind successfully, the info level log will show details as follow:\n    1. All ARQs [\'1d9f17a6-0b94-4838-ae55-cb49f5727a81\'] async bind jobs\n    has finished.\n    2. Attach handle(d6442f0a-21f6-4161-bb74-45c66ba1f345) for\n    ARQ(1d9f17a6-0b94-4838-ae55-cb49f5727a81) successfully.\n    3. Update ARQ 1d9f17a6-0b94-4838-ae55-cb49f5727a81 state to ""Bound""\n    successfully.\n  If bind jobs timeout, it will output log as follow:\n    ERROR cyborg.accelerator.common.handler [-] Traceback (most recent call last):\n      File ""./cyborg/common/utils.py"", line 283, in future_iterator\n        yield (f.result(end_time - time.time()),\n      File ""/usr/local/lib/python2.7/dist-packages/concurrent/futures/_base.py"", line 464, in result\n        raise TimeoutError()\n    TimeoutError\n\nStill too many opens for async job.\n\nTest this patch:\n1. Get auth token\nAUTH=""X-Auth-Token: $(openstack token issue -c id -f value)""\n\n2. Get resource provider info\nRP_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nARRAY=`OS_PLACEMENT_API_VERSION=1.18 openstack resource provider trait \\\n    list $RP_UUID -c name -f value`\nDEVICE_TRAIT=`head -n 1 <<< $ARRAY`\nFN_TRAIT=`grep FUNCTION_ID <<< $ARRAY`\nFUN_ID=${FN_TRAIT##*_}\nREGION_TRAIT=`grep FPGA_REGION <<< $ARRAY`\nREGION_TYPE_ID=${REGION_TRAIT##*_}\n\n3. upload a image\nBIT_NAME=fpga_bts_1\ntouch samples.tar.gz\nBIT_FILE=samples.tar.gz\nopenstack image create --tag FPGA \\\n    --property REGION_TYPE_ID=""accel:region_type_id=${REGION_TYPE_ID}"" \\\n    --property accel:function_id=$FUN_ID --file $BIT_FILE $BIT_NAME\nBITSTREAM_ID=`openstack image list -c ID -c Name -f value | \\\n    grep $BIT_NAME |awk \'{print $1}\'`\nopenstack image list -c ID -f value --property accel:function_id=$FUN_ID\n\n4. create device profile\nCYURL=`openstack endpoint list --service cyborg \\\n    --interface ""public"" -c ""URL"" -f value`\nCTYPE=""Content-Type: application/json""\nDEVPROF_NAME=afaas_example_1\n$RESOURCES=FPGA\nBODY=""[{ \\""name\\"": \\""$DEVPROF_NAME\\"",\n  \\""groups\\"": [\n      {\\""resources:$RESOURCES\\"": \\""1\\"",\n       \\""trait:$DEVICE_TRAIT\\"": \\""required\\"",\n       \\""trait:$FN_TRAIT\\"": \\""required\\"",\n       \\""accel:bitstream_id\\"": \\""$BITSTREAM_ID\\""\n      }\n  ]\n}]""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" $CYURL/device_profiles\n\n5. create an ARQ\nBODY=""{\\""device_profile_name\\"": \\""$DEVPROF_NAME\\""}""\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" $CYURL/accelerator_requests | \\\n    grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4 | tail -n 1`\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" \\\n    $CYURL/accelerator_requests | grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4`\n\n6. bind ARQ\nNODENAME=`openstack hypervisor list -c ""Hypervisor Hostname"" -f value`\nPR_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nINS_UUID=`uuidgen`\nBODY=""{\\""$ARQ_UUID\\"": [\n     {\\""path\\"": \\""/hostname\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$NODENAME\\""},\n     {\\""path\\"": \\""/device_rp_uuid\\"", \\""op\\"": \\""add\\"",\n            \\""value\\"": \\""$PR_UUID\\""},\n     {\\""path\\"": \\""/instance_uuid\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$INS_UUID\\""}\n  ]\n}""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" -X PATCH -d ""$BODY"" \\\n    -w ""%{http_code}\\n"" $CYURL/accelerator_requests\n\n7. Monitor notify\nubuntu:\n  $ apt-get install httpry\ncentos:\n  $ yum install httpry\n$ NOVAURL=`openstack endpoint list --service nova \\\n    --interface ""public"" -c ""URL"" -f value`\n$ HOST=${NOVAURL##*//}\n$ HOST=${HOST%%/*}\nAll in One evn:\n  $ sudo httpry -i lo -m POST  ""tcp dst port 80 and src host $HOST""\nMulti host evn:\n  $ sudo httpry -m POST  ""tcp dst port 80 and src host $HOST""\n\nyou can also check the log.\nif anything wrong, it will output log as follow:\n2019-09-14 14:21:12.353 41349 ERROR cyborg.common.utils [-] Traceback (most recent call last):\n  File ""./cyborg/common/utils.py"", line 387, in _impl\n    output = method(self, *args, **kwargs)\n  File ""./cyborg/accelerator/common/handler.py"", line 234, in all_arq_bind_status_sync\n  File ""./cyborg/accelerator/common/handler.py"", line 202, in bind_notify\n  File ""./cyborg/common/nova_client.py"", line 56, in notify_binding\n    result = self._send_events(events)\n  File ""./cyborg/common/nova_client.py"", line 50, in _send_events\n    (events, response.status_code, response.text))\nException: Failed to send events [{\'status\': \'completed\', \'tag\': u\'afaas_example_1\', \'name\': \'accelerator-requests-bound\', \'server_uuid\': u\'0be7e70f-710d-4ecf-b480-911c53b565cf\'}]: HTTP 404: {""itemNotFound"": {""message"": ""No instances found for any event"", ""code"": 404}}\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 22, 'created': '2019-09-27 04:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d02bb7a9da767cc4249dffe5ee4a2120ea3934d5', 'message': 'async job for bind\n\nThe currently design:\n  Only support bind async.\n  Only state in [\'Initial\',\'Unbound\'], bind process can start.\n  If a bind in process, it will be not stoped by deleting or unbind api.\n  But the last state will be deleting or unbind.\n  For multi jobs (such as user request 2 FPGAs), only all jobs are success,\n  the ARQ state is ""Bound"". Any jobs failed, the ARQ state will be ""BindFailed""\n  Do not support rollback for update_provider\n  Do not support multi thread in agent.\n  If bind successfully, the info level log will show details as follow:\n    1. All ARQs [\'1d9f17a6-0b94-4838-ae55-cb49f5727a81\'] async bind jobs\n    has finished.\n    2. Attach handle(d6442f0a-21f6-4161-bb74-45c66ba1f345) for\n    ARQ(1d9f17a6-0b94-4838-ae55-cb49f5727a81) successfully.\n    3. Update ARQ 1d9f17a6-0b94-4838-ae55-cb49f5727a81 state to ""Bound""\n    successfully.\n  If bind jobs timeout, it will output log as follow:\n    ERROR cyborg.accelerator.common.handler [-] Traceback (most recent call last):\n      File ""./cyborg/common/utils.py"", line 283, in future_iterator\n        yield (f.result(end_time - time.time()),\n      File ""/usr/local/lib/python2.7/dist-packages/concurrent/futures/_base.py"", line 464, in result\n        raise TimeoutError()\n    TimeoutError\n\nStill too many opens for async job.\n\nTest this patch:\n1. Get auth token\nAUTH=""X-Auth-Token: $(openstack token issue -c id -f value)""\n\n2. Get resource provider info\nRP_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nARRAY=`OS_PLACEMENT_API_VERSION=1.18 openstack resource provider trait \\\n    list $RP_UUID -c name -f value`\nDEVICE_TRAIT=`head -n 1 <<< $ARRAY`\nFN_TRAIT=`grep FUNCTION_ID <<< $ARRAY`\nFUN_ID=${FN_TRAIT##*_}\nREGION_TRAIT=`grep FPGA_REGION <<< $ARRAY`\nREGION_TYPE_ID=${REGION_TRAIT##*_}\n\n3. upload a image\nBIT_NAME=fpga_bts_1\ntouch samples.tar.gz\nBIT_FILE=samples.tar.gz\nopenstack image create --tag FPGA \\\n    --property REGION_TYPE_ID=""accel:region_type_id=${REGION_TYPE_ID}"" \\\n    --property accel:function_id=$FUN_ID --file $BIT_FILE $BIT_NAME\nBITSTREAM_ID=`openstack image list -c ID -c Name -f value | \\\n    grep $BIT_NAME |awk \'{print $1}\'`\nopenstack image list -c ID -f value --property accel:function_id=$FUN_ID\n\n4. create device profile\nCYURL=`openstack endpoint list --service cyborg \\\n    --interface ""public"" -c ""URL"" -f value`\nCTYPE=""Content-Type: application/json""\nDEVPROF_NAME=afaas_example_1\n$RESOURCES=FPGA\nBODY=""[{ \\""name\\"": \\""$DEVPROF_NAME\\"",\n  \\""groups\\"": [\n      {\\""resources:$RESOURCES\\"": \\""1\\"",\n       \\""trait:$DEVICE_TRAIT\\"": \\""required\\"",\n       \\""trait:$FN_TRAIT\\"": \\""required\\"",\n       \\""accel:bitstream_id\\"": \\""$BITSTREAM_ID\\""\n      }\n  ]\n}]""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" $CYURL/device_profiles\n\n5. create an ARQ\nBODY=""{\\""device_profile_name\\"": \\""$DEVPROF_NAME\\""}""\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" $CYURL/accelerator_requests | \\\n    grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4 | tail -n 1`\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" \\\n    $CYURL/accelerator_requests | grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4`\n\n6. bind ARQ\nNODENAME=`openstack hypervisor list -c ""Hypervisor Hostname"" -f value`\nPR_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nINS_UUID=`uuidgen`\nBODY=""{\\""$ARQ_UUID\\"": [\n     {\\""path\\"": \\""/hostname\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$NODENAME\\""},\n     {\\""path\\"": \\""/device_rp_uuid\\"", \\""op\\"": \\""add\\"",\n            \\""value\\"": \\""$PR_UUID\\""},\n     {\\""path\\"": \\""/instance_uuid\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$INS_UUID\\""}\n  ]\n}""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" -X PATCH -d ""$BODY"" \\\n    -w ""%{http_code}\\n"" $CYURL/accelerator_requests\n\n7. Monitor notify\nubuntu:\n  $ apt-get install httpry\ncentos:\n  $ yum install httpry\n$ NOVAURL=`openstack endpoint list --service nova \\\n    --interface ""public"" -c ""URL"" -f value`\n$ HOST=${NOVAURL##*//}\n$ HOST=${HOST%%/*}\nAll in One evn:\n  $ sudo httpry -i lo -m POST  ""tcp dst port 80 and src host $HOST""\nMulti host evn:\n  $ sudo httpry -m POST  ""tcp dst port 80 and src host $HOST""\n\nyou can also check the log.\nif anything wrong, it will output log as follow:\n2019-09-14 14:21:12.353 41349 ERROR cyborg.common.utils [-] Traceback (most recent call last):\n  File ""./cyborg/common/utils.py"", line 387, in _impl\n    output = method(self, *args, **kwargs)\n  File ""./cyborg/accelerator/common/handler.py"", line 234, in all_arq_bind_status_sync\n  File ""./cyborg/accelerator/common/handler.py"", line 202, in bind_notify\n  File ""./cyborg/common/nova_client.py"", line 56, in notify_binding\n    result = self._send_events(events)\n  File ""./cyborg/common/nova_client.py"", line 50, in _send_events\n    (events, response.status_code, response.text))\nException: Failed to send events [{\'status\': \'completed\', \'tag\': u\'afaas_example_1\', \'name\': \'accelerator-requests-bound\', \'server_uuid\': u\'0be7e70f-710d-4ecf-b480-911c53b565cf\'}]: HTTP 404: {""itemNotFound"": {""message"": ""No instances found for any event"", ""code"": 404}}\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 23, 'created': '2019-09-27 10:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4b0898859458fcc724e514c7b65f9288d5997cf6', 'message': 'async job for bind\n\nThe currently design:\n  Only support bind async.\n  Only state in [\'Initial\',\'Unbound\'], bind process can start.\n  If a bind in process, it will be not stoped by deleting or unbind api.\n  But the last state will be deleting or unbind.\n  For multi jobs (such as user request 2 FPGAs), only all jobs are success,\n  the ARQ state is ""Bound"". Any jobs failed, the ARQ state will be ""BindFailed""\n  Do not support rollback for update_provider\n  Do not support multi thread in agent.\n  If bind successfully, the info level log will show details as follow:\n    1. All ARQs [\'1d9f17a6-0b94-4838-ae55-cb49f5727a81\'] async bind jobs\n    has finished.\n    2. Attach handle(d6442f0a-21f6-4161-bb74-45c66ba1f345) for\n    ARQ(1d9f17a6-0b94-4838-ae55-cb49f5727a81) successfully.\n    3. Update ARQ 1d9f17a6-0b94-4838-ae55-cb49f5727a81 state to ""Bound""\n    successfully.\n  If bind jobs timeout, it will output log as follow:\n    ERROR cyborg.accelerator.common.handler [-] Traceback (most recent call last):\n      File ""./cyborg/common/utils.py"", line 283, in future_iterator\n        yield (f.result(end_time - time.time()),\n      File ""/usr/local/lib/python2.7/dist-packages/concurrent/futures/_base.py"", line 464, in result\n        raise TimeoutError()\n    TimeoutError\n\nStill too many opens for async job.\n\nTest this patch:\n1. Get auth token\nAUTH=""X-Auth-Token: $(openstack token issue -c id -f value)""\n\n2. Get resource provider info\nRP_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nARRAY=`OS_PLACEMENT_API_VERSION=1.18 openstack resource provider trait \\\n    list $RP_UUID -c name -f value`\nDEVICE_TRAIT=`head -n 1 <<< $ARRAY`\nFN_TRAIT=`grep FUNCTION_ID <<< $ARRAY`\nFUN_ID=${FN_TRAIT##*_}\nREGION_TRAIT=`grep FPGA_REGION <<< $ARRAY`\nREGION_TYPE_ID=${REGION_TRAIT##*_}\n\n3. upload a image\nBIT_NAME=fpga_bts_1\ntouch samples.tar.gz\nBIT_FILE=samples.tar.gz\nopenstack image create --tag FPGA \\\n    --property REGION_TYPE_ID=""accel:region_type_id=${REGION_TYPE_ID}"" \\\n    --property accel:function_id=$FUN_ID --file $BIT_FILE $BIT_NAME\nBITSTREAM_ID=`openstack image list -c ID -c Name -f value | \\\n    grep $BIT_NAME |awk \'{print $1}\'`\nopenstack image list -c ID -f value --property accel:function_id=$FUN_ID\n\n4. create device profile\nCYURL=`openstack endpoint list --service cyborg \\\n    --interface ""public"" -c ""URL"" -f value`\nCTYPE=""Content-Type: application/json""\nDEVPROF_NAME=afaas_example_1\n$RESOURCES=FPGA\nBODY=""[{ \\""name\\"": \\""$DEVPROF_NAME\\"",\n  \\""groups\\"": [\n      {\\""resources:$RESOURCES\\"": \\""1\\"",\n       \\""trait:$DEVICE_TRAIT\\"": \\""required\\"",\n       \\""trait:$FN_TRAIT\\"": \\""required\\"",\n       \\""accel:bitstream_id\\"": \\""$BITSTREAM_ID\\""\n      }\n  ]\n}]""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" $CYURL/device_profiles\n\n5. create an ARQ\nBODY=""{\\""device_profile_name\\"": \\""$DEVPROF_NAME\\""}""\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" $CYURL/accelerator_requests | \\\n    grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4 | tail -n 1`\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" \\\n    $CYURL/accelerator_requests | grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4`\n\n6. bind ARQ\nNODENAME=`openstack hypervisor list -c ""Hypervisor Hostname"" -f value`\nPR_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nINS_UUID=`uuidgen`\nBODY=""{\\""$ARQ_UUID\\"": [\n     {\\""path\\"": \\""/hostname\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$NODENAME\\""},\n     {\\""path\\"": \\""/device_rp_uuid\\"", \\""op\\"": \\""add\\"",\n            \\""value\\"": \\""$PR_UUID\\""},\n     {\\""path\\"": \\""/instance_uuid\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$INS_UUID\\""}\n  ]\n}""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" -X PATCH -d ""$BODY"" \\\n    -w ""%{http_code}\\n"" $CYURL/accelerator_requests\n\n7. Monitor notify\nubuntu:\n  $ apt-get install httpry\ncentos:\n  $ yum install httpry\n$ NOVAURL=`openstack endpoint list --service nova \\\n    --interface ""public"" -c ""URL"" -f value`\n$ HOST=${NOVAURL##*//}\n$ HOST=${HOST%%/*}\nAll in One evn:\n  $ sudo httpry -i lo -m POST  ""tcp dst port 80 and src host $HOST""\nMulti host evn:\n  $ sudo httpry -m POST  ""tcp dst port 80 and src host $HOST""\n\nyou can also check the log.\nif anything wrong, it will output log as follow:\n2019-09-14 14:21:12.353 41349 ERROR cyborg.common.utils [-] Traceback (most recent call last):\n  File ""./cyborg/common/utils.py"", line 387, in _impl\n    output = method(self, *args, **kwargs)\n  File ""./cyborg/accelerator/common/handler.py"", line 234, in all_arq_bind_status_sync\n  File ""./cyborg/accelerator/common/handler.py"", line 202, in bind_notify\n  File ""./cyborg/common/nova_client.py"", line 56, in notify_binding\n    result = self._send_events(events)\n  File ""./cyborg/common/nova_client.py"", line 50, in _send_events\n    (events, response.status_code, response.text))\nException: Failed to send events [{\'status\': \'completed\', \'tag\': u\'afaas_example_1\', \'name\': \'accelerator-requests-bound\', \'server_uuid\': u\'0be7e70f-710d-4ecf-b480-911c53b565cf\'}]: HTTP 404: {""itemNotFound"": {""message"": ""No instances found for any event"", ""code"": 404}}\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 24, 'created': '2019-09-27 11:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/8d3ab26d71c8d93a771ff271b5ef83f0476d5ba7', 'message': 'async job for bind\n\nThe currently design:\n  Only support bind async.\n  Only state in [\'Initial\',\'Unbound\'], bind process can start.\n  If a bind in process, it will be not stoped by deleting or unbind api.\n  But the last state will be deleting or unbind.\n  For multi jobs (such as user request 2 FPGAs), only all jobs are success,\n  the ARQ state is ""Bound"". Any jobs failed, the ARQ state will be ""BindFailed""\n  Do not support rollback for update_provider\n  Do not support multi thread in agent.\n  If bind successfully, the info level log will show details as follow:\n    1. All ARQs [\'1d9f17a6-0b94-4838-ae55-cb49f5727a81\'] async bind jobs\n    has finished.\n    2. Attach handle(d6442f0a-21f6-4161-bb74-45c66ba1f345) for\n    ARQ(1d9f17a6-0b94-4838-ae55-cb49f5727a81) successfully.\n    3. Update ARQ 1d9f17a6-0b94-4838-ae55-cb49f5727a81 state to ""Bound""\n    successfully.\n  If bind jobs timeout, it will output log as follow:\n    ERROR cyborg.accelerator.common.handler [-] Traceback (most recent call last):\n      File ""./cyborg/common/utils.py"", line 283, in future_iterator\n        yield (f.result(end_time - time.time()),\n      File ""/usr/local/lib/python2.7/dist-packages/concurrent/futures/_base.py"", line 464, in result\n        raise TimeoutError()\n    TimeoutError\n\nStill too many opens for async job.\n\nTest this patch:\n1. Get auth token\nAUTH=""X-Auth-Token: $(openstack token issue -c id -f value)""\n\n2. Get resource provider info\nRP_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nARRAY=`OS_PLACEMENT_API_VERSION=1.18 openstack resource provider trait \\\n    list $RP_UUID -c name -f value`\nDEVICE_TRAIT=`head -n 1 <<< $ARRAY`\nFN_TRAIT=`grep FUNCTION_ID <<< $ARRAY`\nFUN_ID=${FN_TRAIT##*_}\nREGION_TRAIT=`grep FPGA_REGION <<< $ARRAY`\nREGION_TYPE_ID=${REGION_TRAIT##*_}\n\n3. upload a image\nBIT_NAME=fpga_bts_1\ntouch samples.tar.gz\nBIT_FILE=samples.tar.gz\nopenstack image create --tag FPGA \\\n    --property REGION_TYPE_ID=""accel:region_type_id=${REGION_TYPE_ID}"" \\\n    --property accel:function_id=$FUN_ID --file $BIT_FILE $BIT_NAME\nBITSTREAM_ID=`openstack image list -c ID -c Name -f value | \\\n    grep $BIT_NAME |awk \'{print $1}\'`\nopenstack image list -c ID -f value --property accel:function_id=$FUN_ID\n\n4. create device profile\nCYURL=`openstack endpoint list --service cyborg \\\n    --interface ""public"" -c ""URL"" -f value`\nCTYPE=""Content-Type: application/json""\nDEVPROF_NAME=afaas_example_1\n$RESOURCES=FPGA\nBODY=""[{ \\""name\\"": \\""$DEVPROF_NAME\\"",\n  \\""groups\\"": [\n      {\\""resources:$RESOURCES\\"": \\""1\\"",\n       \\""trait:$DEVICE_TRAIT\\"": \\""required\\"",\n       \\""trait:$FN_TRAIT\\"": \\""required\\"",\n       \\""accel:bitstream_id\\"": \\""$BITSTREAM_ID\\""\n      }\n  ]\n}]""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" $CYURL/device_profiles\n\n5. create an ARQ\nBODY=""{\\""device_profile_name\\"": \\""$DEVPROF_NAME\\""}""\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" $CYURL/accelerator_requests | \\\n    grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4 | tail -n 1`\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" \\\n    $CYURL/accelerator_requests | grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4`\n\n6. bind ARQ\nNODENAME=`openstack hypervisor list -c ""Hypervisor Hostname"" -f value`\nPR_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nINS_UUID=`uuidgen`\nBODY=""{\\""$ARQ_UUID\\"": [\n     {\\""path\\"": \\""/hostname\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$NODENAME\\""},\n     {\\""path\\"": \\""/device_rp_uuid\\"", \\""op\\"": \\""add\\"",\n            \\""value\\"": \\""$PR_UUID\\""},\n     {\\""path\\"": \\""/instance_uuid\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$INS_UUID\\""}\n  ]\n}""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" -X PATCH -d ""$BODY"" \\\n    -w ""%{http_code}\\n"" $CYURL/accelerator_requests\n\n7. Monitor notify\nubuntu:\n  $ apt-get install httpry\ncentos:\n  $ yum install httpry\n$ NOVAURL=`openstack endpoint list --service nova \\\n    --interface ""public"" -c ""URL"" -f value`\n$ HOST=${NOVAURL##*//}\n$ HOST=${HOST%%/*}\nAll in One evn:\n  $ sudo httpry -i lo -m POST  ""tcp dst port 80 and src host $HOST""\nMulti host evn:\n  $ sudo httpry -m POST  ""tcp dst port 80 and src host $HOST""\n\nyou can also check the log.\nif anything wrong, it will output log as follow:\n2019-09-14 14:21:12.353 41349 ERROR cyborg.common.utils [-] Traceback (most recent call last):\n  File ""./cyborg/common/utils.py"", line 387, in _impl\n    output = method(self, *args, **kwargs)\n  File ""./cyborg/accelerator/common/handler.py"", line 234, in all_arq_bind_status_sync\n  File ""./cyborg/accelerator/common/handler.py"", line 202, in bind_notify\n  File ""./cyborg/common/nova_client.py"", line 56, in notify_binding\n    result = self._send_events(events)\n  File ""./cyborg/common/nova_client.py"", line 50, in _send_events\n    (events, response.status_code, response.text))\nException: Failed to send events [{\'status\': \'completed\', \'tag\': u\'afaas_example_1\', \'name\': \'accelerator-requests-bound\', \'server_uuid\': u\'0be7e70f-710d-4ecf-b480-911c53b565cf\'}]: HTTP 404: {""itemNotFound"": {""message"": ""No instances found for any event"", ""code"": 404}}\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 25, 'created': '2019-09-27 15:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a90f5de962a2bfbafe9248b29b7775a8333a71b4', 'message': 'async job for bind\n\nThe currently design:\n  Only support bind async.\n  Only state in [\'Initial\',\'Unbound\'], bind process can start.\n  If a bind in process, it will be not stoped by deleting or unbind api.\n  But the last state will be deleting or unbind.\n  For multi jobs (such as user request 2 FPGAs), only all jobs are success,\n  the ARQ state is ""Bound"". Any jobs failed, the ARQ state will be ""BindFailed""\n  Do not support rollback for update_provider\n  Do not support multi thread in agent.\n  If bind successfully, the info level log will show details as follow:\n    1. All ARQs [\'1d9f17a6-0b94-4838-ae55-cb49f5727a81\'] async bind jobs\n    has finished.\n    2. Attach handle(d6442f0a-21f6-4161-bb74-45c66ba1f345) for\n    ARQ(1d9f17a6-0b94-4838-ae55-cb49f5727a81) successfully.\n    3. Update ARQ 1d9f17a6-0b94-4838-ae55-cb49f5727a81 state to ""Bound""\n    successfully.\n  If bind jobs timeout, it will output log as follow:\n    ERROR cyborg.accelerator.common.handler [-] Traceback (most recent call last):\n      File ""./cyborg/common/utils.py"", line 283, in future_iterator\n        yield (f.result(end_time - time.time()),\n      File ""/usr/local/lib/python2.7/dist-packages/concurrent/futures/_base.py"", line 464, in result\n        raise TimeoutError()\n    TimeoutError\n\nStill too many opens for async job.\n\nTest this patch:\n1. Get auth token\nAUTH=""X-Auth-Token: $(openstack token issue -c id -f value)""\n\n2. Get resource provider info\nRP_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nARRAY=`OS_PLACEMENT_API_VERSION=1.18 openstack resource provider trait \\\n    list $RP_UUID -c name -f value`\nDEVICE_TRAIT=`head -n 1 <<< $ARRAY`\nFN_TRAIT=`grep FUNCTION_ID <<< $ARRAY`\nFUN_ID=${FN_TRAIT##*_}\nREGION_TRAIT=`grep FPGA_REGION <<< $ARRAY`\nREGION_TYPE_ID=${REGION_TRAIT##*_}\n\n3. upload a image\nBIT_NAME=fpga_bts_1\ntouch samples.tar.gz\nBIT_FILE=samples.tar.gz\nopenstack image create --tag FPGA \\\n    --property REGION_TYPE_ID=""accel:region_type_id=${REGION_TYPE_ID}"" \\\n    --property accel:function_id=$FUN_ID --file $BIT_FILE $BIT_NAME\nBITSTREAM_ID=`openstack image list -c ID -c Name -f value | \\\n    grep $BIT_NAME |awk \'{print $1}\'`\nopenstack image list -c ID -f value --property accel:function_id=$FUN_ID\n\n4. create device profile\nCYURL=`openstack endpoint list --service cyborg \\\n    --interface ""public"" -c ""URL"" -f value`\nCTYPE=""Content-Type: application/json""\nDEVPROF_NAME=afaas_example_1\n$RESOURCES=FPGA\nBODY=""[{ \\""name\\"": \\""$DEVPROF_NAME\\"",\n  \\""groups\\"": [\n      {\\""resources:$RESOURCES\\"": \\""1\\"",\n       \\""trait:$DEVICE_TRAIT\\"": \\""required\\"",\n       \\""trait:$FN_TRAIT\\"": \\""required\\"",\n       \\""accel:bitstream_id\\"": \\""$BITSTREAM_ID\\""\n      }\n  ]\n}]""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" $CYURL/device_profiles\n\n5. create an ARQ\nBODY=""{\\""device_profile_name\\"": \\""$DEVPROF_NAME\\""}""\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" $CYURL/accelerator_requests | \\\n    grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4 | tail -n 1`\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" \\\n    $CYURL/accelerator_requests | grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4`\n\n6. bind ARQ\nNODENAME=`openstack hypervisor list -c ""Hypervisor Hostname"" -f value`\nPR_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nINS_UUID=`uuidgen`\nBODY=""{\\""$ARQ_UUID\\"": [\n     {\\""path\\"": \\""/hostname\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$NODENAME\\""},\n     {\\""path\\"": \\""/device_rp_uuid\\"", \\""op\\"": \\""add\\"",\n            \\""value\\"": \\""$PR_UUID\\""},\n     {\\""path\\"": \\""/instance_uuid\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$INS_UUID\\""}\n  ]\n}""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" -X PATCH -d ""$BODY"" \\\n    -w ""%{http_code}\\n"" $CYURL/accelerator_requests\n\n7. Monitor notify\nubuntu:\n  $ apt-get install httpry\ncentos:\n  $ yum install httpry\n$ NOVAURL=`openstack endpoint list --service nova \\\n    --interface ""public"" -c ""URL"" -f value`\n$ HOST=${NOVAURL##*//}\n$ HOST=${HOST%%/*}\nAll in One evn:\n  $ sudo httpry -i lo -m POST  ""tcp dst port 80 and src host $HOST""\nMulti host evn:\n  $ sudo httpry -m POST  ""tcp dst port 80 and src host $HOST""\n\nyou can also check the log.\nif anything wrong, it will output log as follow:\n2019-09-14 14:21:12.353 41349 ERROR cyborg.common.utils [-] Traceback (most recent call last):\n  File ""./cyborg/common/utils.py"", line 387, in _impl\n    output = method(self, *args, **kwargs)\n  File ""./cyborg/accelerator/common/handler.py"", line 234, in all_arq_bind_status_sync\n  File ""./cyborg/accelerator/common/handler.py"", line 202, in bind_notify\n  File ""./cyborg/common/nova_client.py"", line 56, in notify_binding\n    result = self._send_events(events)\n  File ""./cyborg/common/nova_client.py"", line 50, in _send_events\n    (events, response.status_code, response.text))\nException: Failed to send events [{\'status\': \'completed\', \'tag\': u\'afaas_example_1\', \'name\': \'accelerator-requests-bound\', \'server_uuid\': u\'0be7e70f-710d-4ecf-b480-911c53b565cf\'}]: HTTP 404: {""itemNotFound"": {""message"": ""No instances found for any event"", ""code"": 404}}\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}, {'number': 26, 'created': '2019-09-27 15:10:41.000000000', 'files': ['cyborg/common/constants.py', 'cyborg/objects/extarq/ext_arq_job.py', 'cyborg/common/exception.py', 'cyborg/common/utils.py', 'cyborg/tests/unit/objects/test_extarq.py', 'cyborg/db/sqlalchemy/api.py', 'cyborg/db/api.py', 'cyborg/objects/deployable.py', 'cyborg/objects/extarq/__init__.py', 'cyborg/objects/__init__.py', 'cyborg/tests/unit/fake_extarq.py', 'cyborg/conf/default.py', 'cyborg/objects/ext_arq.py', 'cyborg/objects/extarq/fpga_ext_arq.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d0578cff6ea402f1628c49ca9098eb06fd68b3ce', 'message': 'async job for bind\n\nThe currently design:\n  Only support bind async.\n  Only state in [\'Initial\',\'Unbound\'], bind process can start.\n  If a bind in process, it will be not stoped by deleting or unbind api.\n  But the last state will be deleting or unbind.\n  For multi jobs (such as user request 2 FPGAs), only all jobs are success,\n  the ARQ state is ""Bound"". Any jobs failed, the ARQ state will be ""BindFailed""\n  Do not support rollback for update_provider\n  Do not support multi thread in agent.\n  If bind successfully, the info level log will show details as follow:\n    1. All ARQs [\'1d9f17a6-0b94-4838-ae55-cb49f5727a81\'] async bind jobs\n    has finished.\n    2. Attach handle(d6442f0a-21f6-4161-bb74-45c66ba1f345) for\n    ARQ(1d9f17a6-0b94-4838-ae55-cb49f5727a81) successfully.\n    3. Update ARQ 1d9f17a6-0b94-4838-ae55-cb49f5727a81 state to ""Bound""\n    successfully.\n  If bind jobs timeout, it will output log as follow:\n    ERROR cyborg.accelerator.common.handler [-] Traceback (most recent call last):\n      File ""./cyborg/common/utils.py"", line 283, in future_iterator\n        yield (f.result(end_time - time.time()),\n      File ""/usr/local/lib/python2.7/dist-packages/concurrent/futures/_base.py"", line 464, in result\n        raise TimeoutError()\n    TimeoutError\n\nStill too many opens for async job.\n\nTest this patch:\n1. Get auth token\nAUTH=""X-Auth-Token: $(openstack token issue -c id -f value)""\n\n2. Get resource provider info\nRP_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nARRAY=`OS_PLACEMENT_API_VERSION=1.18 openstack resource provider trait \\\n    list $RP_UUID -c name -f value`\nDEVICE_TRAIT=`head -n 1 <<< $ARRAY`\nFN_TRAIT=`grep FUNCTION_ID <<< $ARRAY`\nFUN_ID=${FN_TRAIT##*_}\nREGION_TRAIT=`grep FPGA_REGION <<< $ARRAY`\nREGION_TYPE_ID=${REGION_TRAIT##*_}\n\n3. upload a image\nBIT_NAME=fpga_bts_1\ntouch samples.tar.gz\nBIT_FILE=samples.tar.gz\nopenstack image create --tag FPGA \\\n    --property REGION_TYPE_ID=""accel:region_type_id=${REGION_TYPE_ID}"" \\\n    --property accel:function_id=$FUN_ID --file $BIT_FILE $BIT_NAME\nBITSTREAM_ID=`openstack image list -c ID -c Name -f value | \\\n    grep $BIT_NAME |awk \'{print $1}\'`\nopenstack image list -c ID -f value --property accel:function_id=$FUN_ID\n\n4. create device profile\nCYURL=`openstack endpoint list --service cyborg \\\n    --interface ""public"" -c ""URL"" -f value`\nCTYPE=""Content-Type: application/json""\nDEVPROF_NAME=afaas_example_1\n$RESOURCES=FPGA\nBODY=""[{ \\""name\\"": \\""$DEVPROF_NAME\\"",\n  \\""groups\\"": [\n      {\\""resources:$RESOURCES\\"": \\""1\\"",\n       \\""trait:$DEVICE_TRAIT\\"": \\""required\\"",\n       \\""trait:$FN_TRAIT\\"": \\""required\\"",\n       \\""accel:bitstream_id\\"": \\""$BITSTREAM_ID\\""\n      }\n  ]\n}]""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" $CYURL/device_profiles\n\n5. create an ARQ\nBODY=""{\\""device_profile_name\\"": \\""$DEVPROF_NAME\\""}""\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" $CYURL/accelerator_requests | \\\n    grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4 | tail -n 1`\nARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" \\\n    $CYURL/accelerator_requests | grep \'""uuid"": "".*?""\' -oP |cut -d \'""\' -f 4`\n\n6. bind ARQ\nNODENAME=`openstack hypervisor list -c ""Hypervisor Hostname"" -f value`\nPR_UUID=`openstack resource provider list -f value | \\\n    grep intel-fpga-dev |head -n 1 |awk \'{print $1}\'`\nINS_UUID=`uuidgen`\nBODY=""{\\""$ARQ_UUID\\"": [\n     {\\""path\\"": \\""/hostname\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$NODENAME\\""},\n     {\\""path\\"": \\""/device_rp_uuid\\"", \\""op\\"": \\""add\\"",\n            \\""value\\"": \\""$PR_UUID\\""},\n     {\\""path\\"": \\""/instance_uuid\\"", \\""op\\"": \\""add\\"", \\""value\\"": \\""$INS_UUID\\""}\n  ]\n}""\ncurl -s -H ""$CTYPE"" -H ""$AUTH"" -X PATCH -d ""$BODY"" \\\n    -w ""%{http_code}\\n"" $CYURL/accelerator_requests\n\n7. Monitor notify\nubuntu:\n  $ apt-get install httpry\ncentos:\n  $ yum install httpry\n$ NOVAURL=`openstack endpoint list --service nova \\\n    --interface ""public"" -c ""URL"" -f value`\n$ HOST=${NOVAURL##*//}\n$ HOST=${HOST%%/*}\nAll in One evn:\n  $ sudo httpry -i lo -m POST  ""tcp dst port 80 and src host $HOST""\nMulti host evn:\n  $ sudo httpry -m POST  ""tcp dst port 80 and src host $HOST""\n\nyou can also check the log.\nif anything wrong, it will output log as follow:\n2019-09-14 14:21:12.353 41349 ERROR cyborg.common.utils [-] Traceback (most recent call last):\n  File ""./cyborg/common/utils.py"", line 387, in _impl\n    output = method(self, *args, **kwargs)\n  File ""./cyborg/accelerator/common/handler.py"", line 234, in all_arq_bind_status_sync\n  File ""./cyborg/accelerator/common/handler.py"", line 202, in bind_notify\n  File ""./cyborg/common/nova_client.py"", line 56, in notify_binding\n    result = self._send_events(events)\n  File ""./cyborg/common/nova_client.py"", line 50, in _send_events\n    (events, response.status_code, response.text))\nException: Failed to send events [{\'status\': \'completed\', \'tag\': u\'afaas_example_1\', \'name\': \'accelerator-requests-bound\', \'server_uuid\': u\'0be7e70f-710d-4ecf-b480-911c53b565cf\'}]: HTTP 404: {""itemNotFound"": {""message"": ""No instances found for any event"", ""code"": 404}}\n\nChange-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312\n'}]",62,681005,d0578cff6ea402f1628c49ca9098eb06fd68b3ce,80,6,26,14131,,,0,"async job for bind

The currently design:
  Only support bind async.
  Only state in ['Initial','Unbound'], bind process can start.
  If a bind in process, it will be not stoped by deleting or unbind api.
  But the last state will be deleting or unbind.
  For multi jobs (such as user request 2 FPGAs), only all jobs are success,
  the ARQ state is ""Bound"". Any jobs failed, the ARQ state will be ""BindFailed""
  Do not support rollback for update_provider
  Do not support multi thread in agent.
  If bind successfully, the info level log will show details as follow:
    1. All ARQs ['1d9f17a6-0b94-4838-ae55-cb49f5727a81'] async bind jobs
    has finished.
    2. Attach handle(d6442f0a-21f6-4161-bb74-45c66ba1f345) for
    ARQ(1d9f17a6-0b94-4838-ae55-cb49f5727a81) successfully.
    3. Update ARQ 1d9f17a6-0b94-4838-ae55-cb49f5727a81 state to ""Bound""
    successfully.
  If bind jobs timeout, it will output log as follow:
    ERROR cyborg.accelerator.common.handler [-] Traceback (most recent call last):
      File ""./cyborg/common/utils.py"", line 283, in future_iterator
        yield (f.result(end_time - time.time()),
      File ""/usr/local/lib/python2.7/dist-packages/concurrent/futures/_base.py"", line 464, in result
        raise TimeoutError()
    TimeoutError

Still too many opens for async job.

Test this patch:
1. Get auth token
AUTH=""X-Auth-Token: $(openstack token issue -c id -f value)""

2. Get resource provider info
RP_UUID=`openstack resource provider list -f value | \
    grep intel-fpga-dev |head -n 1 |awk '{print $1}'`
ARRAY=`OS_PLACEMENT_API_VERSION=1.18 openstack resource provider trait \
    list $RP_UUID -c name -f value`
DEVICE_TRAIT=`head -n 1 <<< $ARRAY`
FN_TRAIT=`grep FUNCTION_ID <<< $ARRAY`
FUN_ID=${FN_TRAIT##*_}
REGION_TRAIT=`grep FPGA_REGION <<< $ARRAY`
REGION_TYPE_ID=${REGION_TRAIT##*_}

3. upload a image
BIT_NAME=fpga_bts_1
touch samples.tar.gz
BIT_FILE=samples.tar.gz
openstack image create --tag FPGA \
    --property REGION_TYPE_ID=""accel:region_type_id=${REGION_TYPE_ID}"" \
    --property accel:function_id=$FUN_ID --file $BIT_FILE $BIT_NAME
BITSTREAM_ID=`openstack image list -c ID -c Name -f value | \
    grep $BIT_NAME |awk '{print $1}'`
openstack image list -c ID -f value --property accel:function_id=$FUN_ID

4. create device profile
CYURL=`openstack endpoint list --service cyborg \
    --interface ""public"" -c ""URL"" -f value`
CTYPE=""Content-Type: application/json""
DEVPROF_NAME=afaas_example_1
$RESOURCES=FPGA
BODY=""[{ \""name\"": \""$DEVPROF_NAME\"",
  \""groups\"": [
      {\""resources:$RESOURCES\"": \""1\"",
       \""trait:$DEVICE_TRAIT\"": \""required\"",
       \""trait:$FN_TRAIT\"": \""required\"",
       \""accel:bitstream_id\"": \""$BITSTREAM_ID\""
      }
  ]
}]""
curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" $CYURL/device_profiles

5. create an ARQ
BODY=""{\""device_profile_name\"": \""$DEVPROF_NAME\""}""
ARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" $CYURL/accelerator_requests | \
    grep '""uuid"": "".*?""' -oP |cut -d '""' -f 4 | tail -n 1`
ARQ_UUID=`curl -s -H ""$CTYPE"" -H ""$AUTH"" POST -d ""$BODY"" \
    $CYURL/accelerator_requests | grep '""uuid"": "".*?""' -oP |cut -d '""' -f 4`

6. bind ARQ
NODENAME=`openstack hypervisor list -c ""Hypervisor Hostname"" -f value`
PR_UUID=`openstack resource provider list -f value | \
    grep intel-fpga-dev |head -n 1 |awk '{print $1}'`
INS_UUID=`uuidgen`
BODY=""{\""$ARQ_UUID\"": [
     {\""path\"": \""/hostname\"", \""op\"": \""add\"", \""value\"": \""$NODENAME\""},
     {\""path\"": \""/device_rp_uuid\"", \""op\"": \""add\"",
            \""value\"": \""$PR_UUID\""},
     {\""path\"": \""/instance_uuid\"", \""op\"": \""add\"", \""value\"": \""$INS_UUID\""}
  ]
}""
curl -s -H ""$CTYPE"" -H ""$AUTH"" -X PATCH -d ""$BODY"" \
    -w ""%{http_code}\n"" $CYURL/accelerator_requests

7. Monitor notify
ubuntu:
  $ apt-get install httpry
centos:
  $ yum install httpry
$ NOVAURL=`openstack endpoint list --service nova \
    --interface ""public"" -c ""URL"" -f value`
$ HOST=${NOVAURL##*//}
$ HOST=${HOST%%/*}
All in One evn:
  $ sudo httpry -i lo -m POST  ""tcp dst port 80 and src host $HOST""
Multi host evn:
  $ sudo httpry -m POST  ""tcp dst port 80 and src host $HOST""

you can also check the log.
if anything wrong, it will output log as follow:
2019-09-14 14:21:12.353 41349 ERROR cyborg.common.utils [-] Traceback (most recent call last):
  File ""./cyborg/common/utils.py"", line 387, in _impl
    output = method(self, *args, **kwargs)
  File ""./cyborg/accelerator/common/handler.py"", line 234, in all_arq_bind_status_sync
  File ""./cyborg/accelerator/common/handler.py"", line 202, in bind_notify
  File ""./cyborg/common/nova_client.py"", line 56, in notify_binding
    result = self._send_events(events)
  File ""./cyborg/common/nova_client.py"", line 50, in _send_events
    (events, response.status_code, response.text))
Exception: Failed to send events [{'status': 'completed', 'tag': u'afaas_example_1', 'name': 'accelerator-requests-bound', 'server_uuid': u'0be7e70f-710d-4ecf-b480-911c53b565cf'}]: HTTP 404: {""itemNotFound"": {""message"": ""No instances found for any event"", ""code"": 404}}

Change-Id: I4e7d14e271aa26f19da3605b20cb4fd72eef4312
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/05/681005/9 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/accelerator/common/handler.py', 'cyborg/common/constants.py', 'cyborg/db/sqlalchemy/api.py', 'requirements.txt', 'cyborg/db/api.py', 'cyborg/objects/deployable.py', 'cyborg/common/utils.py', 'cyborg/conf/default.py', 'cyborg/objects/ext_arq.py']",9,d1fb5713e55b904e376ba1c29abf9690a3b7cd60,async-1,"from cyborg.common import utils from cyborg.conf import CONF def get(cls, context, uuid, lock=False): def update_state(self, context, state, scope=None): """"""Update an ExtARQ state record in the DB."""""" updates = self.obj_get_changes() updates(""state"") = state db_extarq = self.dbapi.extarq_update( context, self.arq.uuid, updates, scope) self._from_db_object(self, db_extarq, context) # TODO should move to spec handler. LOG.info('[arqs:objs] For function id (%s), got ' 'bitstream id (%s)', function_id, image_list[0]['id']) def _bind(self, context, hostname, devrp_uuid, instance_uuid): works = utils.ThreadWorks(pool_size=CONF.thread_pool_size) "," def get(cls, context, uuid):",677,6
openstack%2Ftripleo-upgrade~master~Iec0cd44ee79708d48f9c40b58e0a9cbed76d3e9c,openstack/tripleo-upgrade,master,Iec0cd44ee79708d48f9c40b58e0a9cbed76d3e9c,Handle upgrade_prepare_extra_params as comma-separated string.,MERGED,2019-10-03 19:57:09.000000000,2019-10-14 14:52:20.000000000,2019-10-14 13:28:00.000000000,"[{'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 27141}]","[{'number': 1, 'created': '2019-10-03 19:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/63026b1ed62dc4d84e70131bcdf36defbdc5870c', 'message': 'Handle upgrade_prepare_extra_params being a list converted in string.\n\nInfrared handles the extra-vars parameters passed as a list as strings.\nCurrently, tripleo-upgrade differentiates if the parameter is a string\nor a list, but it does not cover the case when the parameter was a list\ncasted into a string.\n\nChange-Id: Iec0cd44ee79708d48f9c40b58e0a9cbed76d3e9c\n'}, {'number': 2, 'created': '2019-10-03 20:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a282e9e493410c0cbadd7e946eca479c995304ab', 'message': 'Handle upgrade_prepare_extra_params being a list converted in string.\n\nInfrared handles the extra-vars parameters passed as a list as strings.\nCurrently, tripleo-upgrade differentiates if the parameter is a string\nor a list, but it does not cover the case when the parameter was a list\ncasted into a string.\n\nChange-Id: Iec0cd44ee79708d48f9c40b58e0a9cbed76d3e9c\n'}, {'number': 3, 'created': '2019-10-03 20:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e44e0fa0b719cae17288dae521b70d7dfa2f5dc1', 'message': 'Handle upgrade_prepare_extra_params as comma-separated string.\n\nInfrared handles the extra-vars parameters passed as a list as strings.\nCurrently, tripleo-upgrade differentiates if the parameter is a string\nor a list, but it does not cover the case when the parameter was a list\ncasted into a string. The solution implemented is to accept a comma\nseparated string like -e upgrade_prepare_extra_params=""/home/stack/\novercloud-params.yaml,/home/stack/overcloud-repos.yaml"" which then\nwill be passed into the overcloud upgrade prepare.\n\nChange-Id: Iec0cd44ee79708d48f9c40b58e0a9cbed76d3e9c\n'}, {'number': 4, 'created': '2019-10-03 20:50:44.000000000', 'files': ['templates/overcloud_upgrade_prepare.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ab66d7e081476c098baea5518838a996f26a5e16', 'message': 'Handle upgrade_prepare_extra_params as comma-separated string.\n\nInfrared handles the extra-vars parameters passed as a list as strings.\nCurrently, tripleo-upgrade differentiates if the parameter is a string\nor a list, but it does not cover the case when the parameter was a list\ncasted into a string. The solution implemented is to accept a comma\nseparated string like -e upgrade_prepare_extra_params=""/home/stack/\novercloud-params.yaml,/home/stack/overcloud-repos.yaml"" which then\nwill be passed into the overcloud upgrade prepare.\n\nChange-Id: Iec0cd44ee79708d48f9c40b58e0a9cbed76d3e9c\n'}]",3,686478,ab66d7e081476c098baea5518838a996f26a5e16,14,8,4,26343,,,0,"Handle upgrade_prepare_extra_params as comma-separated string.

Infrared handles the extra-vars parameters passed as a list as strings.
Currently, tripleo-upgrade differentiates if the parameter is a string
or a list, but it does not cover the case when the parameter was a list
casted into a string. The solution implemented is to accept a comma
separated string like -e upgrade_prepare_extra_params=""/home/stack/
overcloud-params.yaml,/home/stack/overcloud-repos.yaml"" which then
will be passed into the overcloud upgrade prepare.

Change-Id: Iec0cd44ee79708d48f9c40b58e0a9cbed76d3e9c
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/78/686478/4 && git format-patch -1 --stdout FETCH_HEAD,['templates/overcloud_upgrade_prepare.sh.j2'],1,63026b1ed62dc4d84e70131bcdf36defbdc5870c,," {% if upgrade_prepare_extra_params.startswith(""["") and upgrade_prepare_extra_params.startswith.endswith(""]"") -%} -e {{ upgrade_prepare_extra_params | list | join(' -e ') }} \ {% else -%} {% endif -%}",,4,0
openstack%2Fopenstack-ansible~master~I17b63e05ed8dcbe06369e4f71bf256ba70118643,openstack/openstack-ansible,master,I17b63e05ed8dcbe06369e4f71bf256ba70118643,Add release note for python3 support,MERGED,2019-10-10 13:00:47.000000000,2019-10-14 14:46:50.000000000,2019-10-14 14:44:31.000000000,"[{'_account_id': 13095}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28008}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-10 13:00:47.000000000', 'files': ['releasenotes/notes/python3-support-fc8bc6e018006477.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e8749ec86e828da26340ba46ec9fde98a9c13e00', 'message': 'Add release note for python3 support\n\nChange-Id: I17b63e05ed8dcbe06369e4f71bf256ba70118643\n'}]",0,687892,e8749ec86e828da26340ba46ec9fde98a9c13e00,13,7,1,25023,,,0,"Add release note for python3 support

Change-Id: I17b63e05ed8dcbe06369e4f71bf256ba70118643
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/92/687892/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/python3-support-fc8bc6e018006477.yaml'],1,e8749ec86e828da26340ba46ec9fde98a9c13e00,osa-py3,"--- features: - | Deployments will now default to using python3 when a python3 interpreter is present in the operating system. Each openstack-ansible role has a new variable for the form <role>_venv_python_executable which defaults to python2 but a global variable openstack_venv_python_executable in the openstack-ansible group variables sets this to python3 on supporting operating systems. This enables a deployer is to selectively use python2 or python3 on a per service basis if required. The ansible-runtime venv is also created using python3 on the deploy host if possible. upgrade: - | New virtual environments will be created using python3, giving a straightforward transition from python2 to python3 during the major upgrade. The ansible-runtime virtual environment on the deployment host will also be upgraded from python2 to python3 where the operating system allows. ",,17,0
openstack%2Fopenstack-ansible~stable%2Fstein~I43228d4c4938457a330e47fd6c9404b8749a0d56,openstack/openstack-ansible,stable/stein,I43228d4c4938457a330e47fd6c9404b8749a0d56,Update etcd playbook to target etcd from etcd_all,MERGED,2019-10-12 16:52:21.000000000,2019-10-14 14:46:19.000000000,2019-10-14 14:44:30.000000000,"[{'_account_id': 16011}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-12 16:52:21.000000000', 'files': ['playbooks/etcd-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/54003f89c82448ca85368679a9793383a8e95e78', 'message': ""Update etcd playbook to target etcd from etcd_all\n\nWhen deploying etcd, the existing playbook targets etcd_all and tries\nto deploy components on infra nodes hosting etcd containers. This patch\nchanges the target group to 'etcd' and installs only in etcd containers.\n\nChange-Id: I43228d4c4938457a330e47fd6c9404b8749a0d56\nCloses-Bug: 1827645\n(cherry picked from commit 222a03ae12e13f02ecfad569eeda57219cdce281)\n""}]",0,688275,54003f89c82448ca85368679a9793383a8e95e78,10,6,1,25023,,,0,"Update etcd playbook to target etcd from etcd_all

When deploying etcd, the existing playbook targets etcd_all and tries
to deploy components on infra nodes hosting etcd containers. This patch
changes the target group to 'etcd' and installs only in etcd containers.

Change-Id: I43228d4c4938457a330e47fd6c9404b8749a0d56
Closes-Bug: 1827645
(cherry picked from commit 222a03ae12e13f02ecfad569eeda57219cdce281)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/75/688275/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/etcd-install.yml'],1,54003f89c82448ca85368679a9793383a8e95e78,bug/1827645-stable/stein, hosts: etcd, hosts: etcd_all,1,1
openstack%2Fovsdbapp~stable%2Frocky~Ic820ab3978a3b58a41762e6fca034f62d51a0243,openstack/ovsdbapp,stable/rocky,Ic820ab3978a3b58a41762e6fca034f62d51a0243,Expand retry behavior to cover other python-ovs methods,MERGED,2019-10-08 17:29:39.000000000,2019-10-14 14:37:13.000000000,2019-10-14 14:37:12.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 17:29:39.000000000', 'files': ['ovsdbapp/backend/ovs_idl/connection.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/2b1552d8b044750afab5a0e43b5354b3b1d3e28d', 'message': 'Expand retry behavior to cover other python-ovs methods\n\nIf there is a disconnect, it is possible that we could throw an\nexception if we call wait() while the stream is currently set to\nNone. Move the try: earlier so that if something weird happens, we\nat least retry before raising.\n\nChange-Id: Ic820ab3978a3b58a41762e6fca034f62d51a0243\n(cherry picked from commit 46e4323bed91b6b5eb2779ec62754d9486237590)\n'}]",0,687363,2b1552d8b044750afab5a0e43b5354b3b1d3e28d,13,3,1,5756,,,0,"Expand retry behavior to cover other python-ovs methods

If there is a disconnect, it is possible that we could throw an
exception if we call wait() while the stream is currently set to
None. Move the try: earlier so that if something weird happens, we
at least retry before raising.

Change-Id: Ic820ab3978a3b58a41762e6fca034f62d51a0243
(cherry picked from commit 46e4323bed91b6b5eb2779ec62754d9486237590)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/63/687363/1 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/backend/ovs_idl/connection.py'],1,2b1552d8b044750afab5a0e43b5354b3b1d3e28d,," # If we fail in an Idl call, we could have missed an update self.idl.wait(self.poller) self.poller.fd_wait(self.txns.alert_fileno, poller.POLLIN) # TODO(jlibosva): Remove next line once losing connection to # ovsdb is solved. self.poller.timer_wait(self.timeout * 1000) self.poller.block()"," self.idl.wait(self.poller) self.poller.fd_wait(self.txns.alert_fileno, poller.POLLIN) # TODO(jlibosva): Remove next line once losing connection to ovsdb # is solved. self.poller.timer_wait(self.timeout * 1000) self.poller.block() # If we fail on a run() call, we could have missed an update",7,7
openstack%2Fheat-dashboard~master~I64fdad36971aff596bb5156ab31002f0fc8e24c8,openstack/heat-dashboard,master,I64fdad36971aff596bb5156ab31002f0fc8e24c8,Switch to official Ussuri jobs,MERGED,2019-10-14 07:02:05.000000000,2019-10-14 14:36:16.000000000,2019-10-14 14:33:40.000000000,"[{'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-14 07:02:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/e1832bdfe4fdf772e5b9c86e93ff4ebe56d1b457', 'message': 'Switch to official Ussuri jobs\n\nChange-Id: I64fdad36971aff596bb5156ab31002f0fc8e24c8\n'}]",0,688342,e1832bdfe4fdf772e5b9c86e93ff4ebe56d1b457,10,4,1,29313,,,0,"Switch to official Ussuri jobs

Change-Id: I64fdad36971aff596bb5156ab31002f0fc8e24c8
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/42/688342/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e1832bdfe4fdf772e5b9c86e93ff4ebe56d1b457,ussuri, - openstack-python3-ussuri-jobs-horizon, - openstack-python3-train-jobs-horizon,1,1
openstack%2Fcharm-designate~master~I1b7c4120a5942a9799de1e72ea55464fd27c76c0,openstack/charm-designate,master,I1b7c4120a5942a9799de1e72ea55464fd27c76c0,Enable functional tests for train,MERGED,2019-09-09 20:30:47.000000000,2019-10-14 14:36:14.000000000,2019-10-14 14:36:14.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-09 20:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/64d3358f4d003ab1e7d90b514545549ced44b447', 'message': 'Enable functional tests for train\n\nThis patch also updates the smoke test to run train.\n\nDepends-On: https://review.opendev.org/#/c/678249/\nChange-Id: I1b7c4120a5942a9799de1e72ea55464fd27c76c0\n'}, {'number': 2, 'created': '2019-10-11 13:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/c789a807a5b9f523341521697b4bd88d9ff3cb84', 'message': 'Enable functional tests for train\n\nThis patch also updates the smoke test to run train.\n\nDepends-On: https://review.opendev.org/#/c/678249/\nChange-Id: I1b7c4120a5942a9799de1e72ea55464fd27c76c0\n'}, {'number': 3, 'created': '2019-10-14 08:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/734c74c214a1c9f4e716a76fe5942097c1009a9e', 'message': 'Enable functional tests for train\n\nThis patch also updates the smoke test to run train.\n\nAdd new template for train to accomodate switch\nfrom api_host/api_port -> listen configuration\nstanza.\n\nDepends-On: https://review.opendev.org/#/c/678249/\nChange-Id: I1b7c4120a5942a9799de1e72ea55464fd27c76c0\n'}, {'number': 4, 'created': '2019-10-14 08:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/2640f7ad7273551ed883f8e88da99d9cb7bd8549', 'message': 'Enable functional tests for train\n\nThis patch also updates the smoke test to run train.\n\nUpdate designate.conf template to switch to use listen\nconfiguration stanza for Rocky and later; api_host/api_port\nhave been dropped in Train.\n\nDepends-On: https://review.opendev.org/#/c/678249/\nChange-Id: I1b7c4120a5942a9799de1e72ea55464fd27c76c0\n'}, {'number': 5, 'created': '2019-10-14 09:55:06.000000000', 'files': ['src/tests/gate-basic-bionic-train', 'src/tox.ini', 'src/templates/rocky/designate.conf'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/a971729627e4528ab78238436533ab8ce1de4b6b', 'message': 'Enable functional tests for train\n\nThis patch also updates the smoke test to run train.\n\nUpdate designate.conf template to switch to use listen\nconfiguration stanza for Rocky and later; api_host/api_port\nhave been dropped in Train.\n\nDepends-On: https://review.opendev.org/#/c/678249/\nChange-Id: I1b7c4120a5942a9799de1e72ea55464fd27c76c0\n'}]",0,681117,a971729627e4528ab78238436533ab8ce1de4b6b,26,4,5,11805,,,0,"Enable functional tests for train

This patch also updates the smoke test to run train.

Update designate.conf template to switch to use listen
configuration stanza for Rocky and later; api_host/api_port
have been dropped in Train.

Depends-On: https://review.opendev.org/#/c/678249/
Change-Id: I1b7c4120a5942a9799de1e72ea55464fd27c76c0
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/17/681117/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/gate-basic-bionic-train', 'src/tox.ini']",2,64d3358f4d003ab1e7d90b514545549ced44b447,charms-train, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-train --no-destroy, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-stein --no-destroy,28,1
openstack%2Fnetworking-ovn~master~I4aed37dd2bff21bffbe1a10a5e5ef70ff28a4642,openstack/networking-ovn,master,I4aed37dd2bff21bffbe1a10a5e5ef70ff28a4642,Fix misspell word,MERGED,2019-10-14 08:22:06.000000000,2019-10-14 14:29:30.000000000,2019-10-14 14:27:32.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 29874}]","[{'number': 1, 'created': '2019-10-14 08:22:06.000000000', 'files': ['networking_ovn/ovsdb/ovn_api.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fc522aa896e13a8472a1f75e771d22a394edcaa1', 'message': 'Fix misspell word\n\nChange-Id: I4aed37dd2bff21bffbe1a10a5e5ef70ff28a4642\n'}]",0,688350,fc522aa896e13a8472a1f75e771d22a394edcaa1,8,3,1,30717,,,0,"Fix misspell word

Change-Id: I4aed37dd2bff21bffbe1a10a5e5ef70ff28a4642
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/50/688350/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ovsdb/ovn_api.py'],1,fc522aa896e13a8472a1f75e771d22a394edcaa1,, If the DHCP options already exist in the DHCP_Options table for, If the DHCP options already exist in the DHC_Options table for,1,1
openstack%2Fopenstack-ansible-os_octavia~stable%2Fstein~I65c023db3cb8080e57442f35e599a372519d97d7,openstack/openstack-ansible-os_octavia,stable/stein,I65c023db3cb8080e57442f35e599a372519d97d7,Fix python path when deploy host is not localhost,MERGED,2019-10-04 09:03:51.000000000,2019-10-14 14:27:10.000000000,2019-10-14 14:25:48.000000000,"[{'_account_id': 22348}, {'_account_id': 23182}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-04 09:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/beacba63775b97e9fb365893278caffdb177fd08', 'message': ""Fix python path when deploy host is not localhost\n\nWhen we don't use localhost as deploy host, we need to use\noctavia_service_setup_host_python_interpreter variable.\n\nThis variable give the correct python path (in a venv for example when\nwe use a utility container as a setup host)\n\nDepends-On: I270c0b623aef55bd6bf80b9bf5fdd618e4ced517\nChange-Id: I65c023db3cb8080e57442f35e599a372519d97d7\nCloses-Bug: 1835744\n(cherry picked from commit 2e78130c544f5659abeeab2bbd193d0bbc800053)\n""}, {'number': 2, 'created': '2019-10-07 19:06:30.000000000', 'files': ['tasks/octavia_amp_image.yml', 'tasks/octavia_mgmt_network.yml', 'tasks/octavia_security_group.yml', 'tasks/octavia_flavor_create.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/9504628368b8f94f7f14261a5f862d77f20b1e44', 'message': ""Fix python path when deploy host is not localhost\n\nWhen we don't use localhost as deploy host, we need to use\noctavia_service_setup_host_python_interpreter variable.\n\nThis variable give the correct python path (in a venv for example when\nwe use a utility container as a setup host)\n\nDepends-On: https://review.opendev.org/687000\nChange-Id: I65c023db3cb8080e57442f35e599a372519d97d7\nCloses-Bug: 1835744\n(cherry picked from commit 2e78130c544f5659abeeab2bbd193d0bbc800053)\n""}]",0,686553,9504628368b8f94f7f14261a5f862d77f20b1e44,12,4,2,23182,,,0,"Fix python path when deploy host is not localhost

When we don't use localhost as deploy host, we need to use
octavia_service_setup_host_python_interpreter variable.

This variable give the correct python path (in a venv for example when
we use a utility container as a setup host)

Depends-On: https://review.opendev.org/687000
Change-Id: I65c023db3cb8080e57442f35e599a372519d97d7
Closes-Bug: 1835744
(cherry picked from commit 2e78130c544f5659abeeab2bbd193d0bbc800053)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/53/686553/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/octavia_amp_image.yml', 'tasks/octavia_mgmt_network.yml', 'tasks/octavia_security_group.yml', 'tasks/octavia_flavor_create.yml']",4,beacba63775b97e9fb365893278caffdb177fd08,bug/1835744-stable/stein," ansible_python_interpreter: ""{{ octavia_service_setup_host_python_interpreter }}"""," ansible_python_interpreter: >- {{ (octavia_service_setup_host == 'localhost') | ternary(ansible_playbook_python, ansible_python['executable']) }}",4,8
openstack%2Fironic-inspector~master~I4c938dff880ab938091ab4cf54193e6ad97206df,openstack/ironic-inspector,master,I4c938dff880ab938091ab4cf54193e6ad97206df,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-04-23 09:00:08.000000000,2019-10-14 14:26:32.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24828}, {'_account_id': 26297}, {'_account_id': 28614}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-23 09:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0664e808cb702042753474b5ec6f606995efccdf', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I4c938dff880ab938091ab4cf54193e6ad97206df\n'}, {'number': 2, 'created': '2019-06-04 07:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f05f9b68b54315ab08615b71091184f2224ce530', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I4c938dff880ab938091ab4cf54193e6ad97206df\n'}, {'number': 3, 'created': '2019-06-04 07:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f85015cb75e1b1bf1bc51d26cf1d23a4c9050edc', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I4c938dff880ab938091ab4cf54193e6ad97206df\n'}, {'number': 4, 'created': '2019-06-04 08:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7d51839954272c4dee91c2ef1ab2419cb52af05a', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\n1. Replace git.openstack.org URLs with opendev.org URLs\n2. Update some URLs to latest\n\nChange-Id: I4c938dff880ab938091ab4cf54193e6ad97206df\n'}, {'number': 5, 'created': '2019-06-25 03:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/2a1b443f960d7a3dcc94e6638711c39c6775fe34', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\n1. Replace git.openstack.org URLs with opendev.org URLs\n2. Update some URLs to latest\n\nChange-Id: I4c938dff880ab938091ab4cf54193e6ad97206df\n'}, {'number': 6, 'created': '2019-06-25 03:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f0149a7b9bc8cffea86f782bab442a233fca23dd', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\n1. Replace git.openstack.org URLs with opendev.org URLs\n2. Update some URLs to latest\n\nChange-Id: I4c938dff880ab938091ab4cf54193e6ad97206df\n'}, {'number': 7, 'created': '2019-06-25 03:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/03ca17fa6ac4822e814ad1a1b166205d690a8bbf', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\n1. Replace git.openstack.org URLs with opendev.org URLs\n2. Update some URLs to latest\n\nChange-Id: I4c938dff880ab938091ab4cf54193e6ad97206df\n'}, {'number': 8, 'created': '2019-10-14 08:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4009b5f66982f8d92e242f9dace6e33b5c94cb67', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\n1. Replace git.openstack.org URLs with opendev.org URLs\n2. Update some URLs to latest\n\nChange-Id: I4c938dff880ab938091ab4cf54193e6ad97206df\n'}, {'number': 9, 'created': '2019-10-14 08:02:17.000000000', 'files': ['CONTRIBUTING.rst', 'doc/source/install/index.rst', 'README.rst', 'ironic_inspector/db.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/841c7af80e130df02e16aa5cfb531f8725b300c9', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\n1. Replace git.openstack.org URLs with opendev.org URLs\n2. Update some URLs to latest\n\nChange-Id: I4c938dff880ab938091ab4cf54193e6ad97206df\n'}]",5,654881,841c7af80e130df02e16aa5cfb531f8725b300c9,37,7,9,27781,,,0,"Replace git.openstack.org URLs with opendev.org URLs

1. Replace git.openstack.org URLs with opendev.org URLs
2. Update some URLs to latest

Change-Id: I4c938dff880ab938091ab4cf54193e6ad97206df
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/81/654881/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/index.rst', 'README.rst', 'tox.ini', 'releasenotes/notes/policy-engine-c44828e3131e6c62.yaml', 'releasenotes/notes/tempest_plugin_removal-91a01f5950f543e1.yaml']",5,0664e808cb702042753474b5ec6f606995efccdf,, <https://opendev.org/openstack/ironic-tempest-plugin>`_. This was, <https://git.openstack.org/cgit/openstack/ironic-tempest-plugin>`_. This was,5,5
openstack%2Fnova~master~I013449f62f64125cb463dc699fd41fea352b268e,openstack/nova,master,I013449f62f64125cb463dc699fd41fea352b268e,Remove unused mock in libvirt functional base,ABANDONED,2019-06-10 22:01:28.000000000,2019-10-14 14:20:38.000000000,,"[{'_account_id': 6167}, {'_account_id': 6962}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 30402}]","[{'number': 1, 'created': '2019-06-10 22:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4cf955d27a0383c2bfa706708b10adcb1cd33d9', 'message': 'fup: Remove unused mock in libvirt functional base\n\nFollowon for [1]: remove an unused mock from\nlibvirt.base.ServersTestBase, and convert an existing one from\npatch+start+addCleanup(stop) to useFixture(MockPatch).\n\n[1] https://review.opendev.org/#/c/663011/15/nova/tests/functional/libvirt/base.py@65\n\nChange-Id: I013449f62f64125cb463dc699fd41fea352b268e\n'}, {'number': 2, 'created': '2019-06-11 13:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91a4d843f2799f29ff8514200d3a72681b8c346f', 'message': 'fup: Remove unused mock in libvirt functional base\n\nFollowon for [1]: remove an unused mock from\nlibvirt.base.ServersTestBase, and convert an existing one from\npatch+start+addCleanup(stop) to useFixture(MockPatch).\n\n[1] https://review.opendev.org/#/c/663011/15/nova/tests/functional/libvirt/base.py@65\n\nChange-Id: I013449f62f64125cb463dc699fd41fea352b268e\n'}, {'number': 3, 'created': '2019-06-11 13:45:24.000000000', 'files': ['nova/tests/functional/libvirt/base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5452d95cbbfeba062e8b7d29828a268de86e6a49', 'message': 'Remove unused mock in libvirt functional base\n\nFollowon for [1]: remove an unused mock from\nlibvirt.base.ServersTestBase, and convert an existing one from\npatch+start+addCleanup(stop) to useFixture(MockPatch).\n\n[1] https://review.opendev.org/#/c/663011/15/nova/tests/functional/libvirt/base.py@65\n\nChange-Id: I013449f62f64125cb463dc699fd41fea352b268e\n'}]",5,664449,5452d95cbbfeba062e8b7d29828a268de86e6a49,36,14,3,14070,,,0,"Remove unused mock in libvirt functional base

Followon for [1]: remove an unused mock from
libvirt.base.ServersTestBase, and convert an existing one from
patch+start+addCleanup(stop) to useFixture(MockPatch).

[1] https://review.opendev.org/#/c/663011/15/nova/tests/functional/libvirt/base.py@65

Change-Id: I013449f62f64125cb463dc699fd41fea352b268e
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/664449/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/base.py'],1,e4cf955d27a0383c2bfa706708b10adcb1cd33d9,bug/1831538, self.mock_conn = self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.host.Host.get_connection')).mock," _p = mock.patch('nova.virt.libvirt.host.Host.get_connection') self.mock_conn = _p.start() self.addCleanup(_p.stop) # As above, mock the 'get_arch' function as we may need to provide # different host architectures during some tests. _a = mock.patch('nova.virt.libvirt.utils.get_arch') self.mock_arch = _a.start() # Default to X86_64 self.mock_arch.return_value = obj_fields.Architecture.X86_64 self.addCleanup(_a.stop)",2,10
openstack%2Fopenstack-helm-images~master~Ic5e594f37bb292b4e0ce5856ec54af53e3a5fab0,openstack/openstack-helm-images,master,Ic5e594f37bb292b4e0ce5856ec54af53e3a5fab0,Monitoring PVC-PV-RBD and mapping them,MERGED,2019-09-20 18:06:43.000000000,2019-10-14 14:20:13.000000000,2019-10-14 14:18:31.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 18:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/b9c3412c37f572eb13283dc5def20f6fcbe8e89b', 'message': ""Monitoring PVC-PV-RBD and mapping them\n\nThe script allows to monitor if PVC has associated PV and RBD associated with PV.\n\nusage: 001-pvc_rbd_monitoring.py [-h] [--rbd] [--pvc] [--all] [--pv] [--bin]\n                                 [--config] [--debug | --silent]\n\noptional arguments:\n  -h, --help    show this help message and exit\n  --debug, -d   enable debugging (default: False)\n  --silent, -s  don't log into console (default: False)\n\nmonitoring settigns:\n  --rbd, -r     check rbd (default: False)\n  --pvc, -p     check permanent volume claim (default: False)\n  --all, -a     all checks (default: False)\n  --pv          check permanent volumes (default: False)\n  --bin, -e     path to kubecl binary (default: None)\n  --config, -c  path to kubecl config (default: None)\n\nChange-Id: Ic5e594f37bb292b4e0ce5856ec54af53e3a5fab0\n""}, {'number': 2, 'created': '2019-09-23 20:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8461d3f2cd65558dd1161386db6f3710d73c42f9', 'message': ""Monitoring PVC-PV-RBD and mapping them\n\nThe script allows to monitor if PVC has associated PV and RBD associated with PV.\n\nusage: pvc_rbd_monitoring.py [-h] [--rbd] [--pvc] [--all] [--pv] [--bin]\n                                  [--config] [--debug | --silent]\n\noptional arguments:\n  -h, --help    show this help message and exit\n  --debug, -d   enable debugging (default: False)\n  --silent, -s  don't log into console (default: False)\n\nmonitoring settigns:\n  --rbd, -r     check rbd (default: False)\n  --pvc, -p     check permanent volume claim (default: False)\n  --all, -a     all checks (default: False)\n  --pv          check permanent volumes (default: False)\n  --bin, -e     path to kubecl binary (default: None)\n  --config, -c  path to kubecl config (default: None)\n\nChange-Id: Ic5e594f37bb292b4e0ce5856ec54af53e3a5fab0\n""}, {'number': 3, 'created': '2019-09-24 16:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7ccbddca64935342ef1966206617f030d0e513ac', 'message': ""Monitoring PVC-PV-RBD and mapping them\n\nThe script allows to monitor if PVC has associated PV and RBD associated with PV.\n\nusage: pvc_rbd_monitoring.py [-h] [--rbd] [--pvc] [--all] [--pv] [--bin]\n                                  [--config] [--debug | --silent]\n\noptional arguments:\n  -h, --help    show this help message and exit\n  --debug, -d   enable debugging (default: False)\n  --silent, -s  don't log into console (default: False)\n\nmonitoring settigns:\n  --rbd, -r     check rbd (default: False)\n  --pvc, -p     check permanent volume claim (default: False)\n  --all, -a     all checks (default: False)\n  --pv          check permanent volumes (default: False)\n  --bin, -e     path to kubecl binary (default: None)\n  --config, -c  path to kubecl config (default: None)\n\nChange-Id: Ic5e594f37bb292b4e0ce5856ec54af53e3a5fab0\n""}, {'number': 4, 'created': '2019-09-27 19:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d0c754055ccb264a62b445fe0f2d634dc007f448', 'message': ""Monitoring PVC-PV-RBD and mapping them\n\nThe script allows to monitor if PVC has associated PV and RBD associated with PV.\n\nusage: pvc_rbd_monitoring.py [-h] [--rbd] [--pvc] [--all] [--pv] [--bin]\n                                  [--config] [--debug | --silent]\n\noptional arguments:\n  -h, --help    show this help message and exit\n  --debug, -d   enable debugging (default: False)\n  --silent, -s  don't log into console (default: False)\n\nmonitoring settigns:\n  --rbd, -r     check rbd (default: False)\n  --pvc, -p     check permanent volume claim (default: False)\n  --all, -a     all checks (default: False)\n  --pv          check permanent volumes (default: False)\n  --bin, -e     path to kubecl binary (default: None)\n  --config, -c  path to kubecl config (default: None)\n\nChange-Id: Ic5e594f37bb292b4e0ce5856ec54af53e3a5fab0\n""}, {'number': 5, 'created': '2019-10-14 13:55:08.000000000', 'files': ['nagios/plugins/pvc_pv_rbd_monitoring.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/3ae2b8b445d9fddfe926ecbece6d97f89e999c15', 'message': ""Monitoring PVC-PV-RBD and mapping them\n\nThe script allows to monitor if PVC has associated PV and RBD associated with PV.\n\nusage: pvc_rbd_monitoring.py [-h] [--rbd] [--pvc] [--all] [--pv] [--bin]\n                                  [--config] [--debug | --silent]\n\noptional arguments:\n  -h, --help    show this help message and exit\n  --debug, -d   enable debugging (default: False)\n  --silent, -s  don't log into console (default: False)\n\nmonitoring settigns:\n  --rbd, -r     check rbd (default: False)\n  --pvc, -p     check permanent volume claim (default: False)\n  --all, -a     all checks (default: False)\n  --pv          check permanent volumes (default: False)\n  --bin, -e     path to kubecl binary (default: None)\n  --config, -c  path to kubecl config (default: None)\n\nChange-Id: Ic5e594f37bb292b4e0ce5856ec54af53e3a5fab0\n""}]",1,683672,3ae2b8b445d9fddfe926ecbece6d97f89e999c15,18,3,5,10108,,,0,"Monitoring PVC-PV-RBD and mapping them

The script allows to monitor if PVC has associated PV and RBD associated with PV.

usage: pvc_rbd_monitoring.py [-h] [--rbd] [--pvc] [--all] [--pv] [--bin]
                                  [--config] [--debug | --silent]

optional arguments:
  -h, --help    show this help message and exit
  --debug, -d   enable debugging (default: False)
  --silent, -s  don't log into console (default: False)

monitoring settigns:
  --rbd, -r     check rbd (default: False)
  --pvc, -p     check permanent volume claim (default: False)
  --all, -a     all checks (default: False)
  --pv          check permanent volumes (default: False)
  --bin, -e     path to kubecl binary (default: None)
  --config, -c  path to kubecl config (default: None)

Change-Id: Ic5e594f37bb292b4e0ce5856ec54af53e3a5fab0
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/72/683672/4 && git format-patch -1 --stdout FETCH_HEAD,['nagios/scripts/100-pvc_pv_rbd_monitoring.py'],1,b9c3412c37f572eb13283dc5def20f6fcbe8e89b,,"#!/usr/bin/env python3 import sys import subprocess import argparse import json import logging import logging.handlers import os # need to export path to configuration file. should work faster if os.environ[""KUBECONFIG""] !="""": CONFIG = ""KUBECONFIG={}"".format(os.environ[""KUBECONFIG""]) else: CONFIG = ""KUBECONFIG=/etc/kubernetes/admin/kubeconfig.yaml"" if os.environ[""KUBECTL""] != """": KUBECTL = os.environ[""KUBECTL""] else: KUBECTL = ""/usr/local/bin/kubectl"" OPTIONS = { 'read': ""-o json"", 'ns': ""-n"", 'exec': """" } logger = logging.getLogger(os.path.splitext(os.path.basename(sys.argv[0]))[0]) kubectl = ""{config} {kubectl} {options} {namespace}"".format(config=CONFIG, kubectl=KUBECTL, namespace=OPTIONS[""ns""], options=OPTIONS[""read""]) kubectl_exec = ""{config} {kubectl} {options} {namespace}"".format(config=CONFIG, kubectl=KUBECTL, namespace=OPTIONS[""ns""], options=OPTIONS[""exec""]) class CustomFormatter(argparse.RawDescriptionHelpFormatter, argparse.ArgumentDefaultsHelpFormatter): pass def parse_args(args=sys.argv[1:]): """""" parse arguments of script """""" logger.debug(""Parsing arguments"") parser = argparse.ArgumentParser(description=sys.modules[__name__].__doc__, formatter_class=CustomFormatter) g = parser.add_argument_group(""monitoring settigns"") g.add_argument(""--rbd"", ""-r"", action=""store_true"", default=False, help=""check rbd"") g.add_argument(""--pvc"", ""-p"", action=""store_true"", default=False, help=""check permanent volume claim"") g.add_argument(""--all"", ""-a"", action=""store_true"", default=False, help=""all checks"") g.add_argument(""--pv"", action=""store_true"", default=False, help=""check permanent volumes"") # configuration options g.add_argument(""--bin"", ""-e"", action=""store_const"", const=KUBECTL, help=""path to kubecl binary"") g.add_argument(""--config"", ""-c"", action=""store_const"", const=CONFIG, help=""path to kubecl config"") # debug options g = parser.add_mutually_exclusive_group() g.add_argument(""--debug"", ""-d"", action=""store_true"", default=False, help=""enable debugging"") g.add_argument(""--silent"", ""-s"", action=""store_true"", default=False, help=""don't log into console"") return parser.parse_args(args) def setup_logging(options): """""" configure logging """""" logger.debug(""Configuring logging"") root = logging.getLogger("""") root.setLevel(logging.WARNING) logger.setLevel(options.debug and logging.DEBUG or logging.INFO) if not options.silent: ch = logging.StreamHandler() ch.setFormatter(logging.Formatter(""%(levelname)s [%(name)s] %(message)s"")) root.addHandler(ch) def get_podname(label, namespace): """""" return list of pods in provided namespaces with label """""" logger.debug(""Getting pod names with labels {label} in namespcae {namespace}"".format(label=label, namespace=namespace)) command = ""{command} {namespace} get pods -l {label}"".format(command=kubectl, namespace=namespace, label=label) logger.debug(command) try: output = run_command(command) except Exception as e: logger.error(""Getting pod names for labels {label} in namespace {namespace}"".format(label=label, namespace=namespace)) sys.exit(1) podnames = [] try: out = json.loads(output) for item in out[""items""]: if item['kind'] == ""Pod"": podnames.append(item['metadata']['name']) except Exception as e: sys.exit(1) return podnames def run_command(command): """""" run command in linux shell and return a result """""" try: result = subprocess.check_output(command, shell=True).strip().decode('utf-8') except Exception as e: logger.error(e) sys.exit(1) return result def check_rbd_status(namespace, rbd): """""" return status or rbd in json format """""" ceph_mon = get_podname(""application=ceph,component=mon"", namespace)[0] command = ""{command} {namespace} exec -it {pod} -- rbd status --format json {rbd}"".format(command=kubectl_exec, namespace=namespace, rbd=rbd, pod=ceph_mon) out = run_command(command) try: output = json.loads(out) except Exception as e: output = ""{{'rbd': {}, 'status': {} }}"".format(rbd, e) return output def get_pvc(namespace): """""" return list of permanent volume claim in specific namespace """""" command = ""{command} {namespace} get pvc"".format(command=kubectl, namespace=namespace) out = run_command(command) try: output = json.loads(out) except Exception as e: # output = {'namespace': namespace, 'status': e} output = [] return output def get_pv(persistentvolume, namespace): """""" return list of persistent volumes in specific namespace """""" command = ""{command} {namespace} get pv {pv}"".format(command=kubectl, namespace=namespace, pv=persistentvolume) out = run_command(command) try: output = json.loads(out) except Exception as e: output = {'persistentvolume': namespace, 'status': e} return output def get_namespaces(): """""" return list of namespaces """""" command = ""{command} {namespace} get ns -o json"".format(command=kubectl_exec, namespace=""ceph"") out = run_command(command) try: output = json.loads(out) except Exception as e: output = {""Error"": e} return output def get_rbd_list(namespace): """""" return list of rbd in json format """""" ceph_mon = get_podname(""application=ceph,component=mon"", namespace)[0] command = ""{command} {namespace} exec -it {pod} -- rbd ls --format json"".format(command=kubectl_exec, namespace=namespace, pod=ceph_mon) out = run_command(command) logger.debug(out) try: output = json.loads(out) except Exception as e: output = ""{{'namaspace': {}, 'status': {} }}"".format(namespace, e) logger.error(""parse json rbd list output: {}"".format(e)) return output def monitoring_pvc(): logger.info(""PVCs aren't associated with RBD"") rbds = get_rbd_list(""ceph"") logger.info(""Gettign list of namespaces"") namespaces = get_namespaces() for namespace in namespaces['items']: ns = namespace['metadata']['name'] logger.info(""Checking namespace: {}"".format(ns)) pvc = get_pvc(ns) for pv in pvc['items']: rbd = get_pv(pv['spec']['volumeName'], ns) rbd = rbd['spec']['rbd']['image'] if rbd not in rbds: print (""pvc_doesnot_have_rbd:{{namespace={},name={}}} 0"".format(ns, pv['metadata']['name'])) def monitoring_rbd(): logger.info(""RBD volumes aren't associated with PVC"") r = get_rbd_list(""ceph"") rbds = [] namespaces = get_namespaces() for namespace in namespaces['items']: ns = namespace['metadata']['name'] pvc = get_pvc(ns) for pv in pvc['items']: rbd = get_pv(pv['spec']['volumeName'], ns) rbd = rbd['spec']['rbd']['image'] rbds.append(rbd) logger.info(rbd) for i in r: if i not in rbds: logger.debug(i) print (""rbd_doesnot_have_pvc:{{name={}}} {}"".format(i, len(check_rbd_status(""ceph"", i)['watchers']))) def monitoring_pv(): logger.info(""PVs aren't associated with PVC "") command = ""{config} {kubectl} get pv -o json"".format(config=CONFIG, kubectl=KUBECTL) logger.debug(command) out = run_command(command) logger.debug(out) try: output = json.loads(out) for pv in output['items']: if pv['status']['phase'] == ""Released"": print (""pv_released:{{name={},status={}}} 0"".format(pv['metadata']['name'], pv['status']['phase'])) except Exception as e: logger.error(""gettign rbd list: {}"".format(e)) sys.exit(1) def monitoring(): monitoring_rbd() monitoring_pvc() monitoring_pv() def main(): # nagios monitoring # 0 - Service is OK. # 1 - Service has a WARNING. # 2 - Service is in a CRITICAL status. # 3 - Service status is UNKNOWN # promotheus text file options = parse_args() setup_logging(options) if options.all: logger.info(""all"") monitoring() if options.rbd: logger.info(""rbd"") monitoring_rbd() if options.pvc: logger.info(""pvc"") monitoring_pvc() if options.pv: logger.info(""pv"") monitoring_pv() sys.exit(1) if __name__ == ""__main__"": main() ",,290,0
openstack%2Fopenstacksdk~master~I73435f41b1aaf4575654889a24e27d80153e09e4,openstack/openstacksdk,master,I73435f41b1aaf4575654889a24e27d80153e09e4,"fix ""How To Contribute"" url",MERGED,2019-09-18 06:34:37.000000000,2019-10-14 14:18:46.000000000,2019-10-14 14:17:30.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27565}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-09-18 06:34:37.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a810707eb8904f7c9d91c8e125cec407be457ea0', 'message': 'fix ""How To Contribute"" url\n\nChange-Id: I73435f41b1aaf4575654889a24e27d80153e09e4\n'}]",0,682803,a810707eb8904f7c9d91c8e125cec407be457ea0,9,4,1,27565,,,0,"fix ""How To Contribute"" url

Change-Id: I73435f41b1aaf4575654889a24e27d80153e09e4
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/03/682803/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,a810707eb8904f7c9d91c8e125cec407be457ea0,, * https://wiki.openstack.org/wiki/How_To_Contribute, * https://wiki.openstack.org/wiki/HowToContribute,1,1
openstack%2Fnova~master~I787df6b90bd56e68297fc99fa4bd816c10c7b1f5,openstack/nova,master,I787df6b90bd56e68297fc99fa4bd816c10c7b1f5,db sync prints stack-trace on invalid version,ABANDONED,2019-02-27 08:25:50.000000000,2019-10-14 14:15:04.000000000,,"[{'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2019-02-27 08:25:50.000000000', 'files': ['nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ad8ea58e476e802666dc49e6bd47a7b3eaab4f6a', 'message': 'db sync prints stack-trace on invalid version\n\nnova-manage db sync command prints stack-trace along with valid\nerror message if non-existing version information is passed.\nIdeally it should just print the user friendly error message.\n\nChange-Id: I787df6b90bd56e68297fc99fa4bd816c10c7b1f5\nCloses-Bug: #1815726\n'}]",1,639591,ad8ea58e476e802666dc49e6bd47a7b3eaab4f6a,13,12,1,29597,,,0,"db sync prints stack-trace on invalid version

nova-manage db sync command prints stack-trace along with valid
error message if non-existing version information is passed.
Ideally it should just print the user friendly error message.

Change-Id: I787df6b90bd56e68297fc99fa4bd816c10c7b1f5
Closes-Bug: #1815726
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/639591/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/cmd/manage.py'],1,ad8ea58e476e802666dc49e6bd47a7b3eaab4f6a,bug/1815726, return,,1,0
openstack%2Fnova~stable%2Fqueens~If2035cac931c42c440d61ba97ebc7e9e92141a28,openstack/nova,stable/queens,If2035cac931c42c440d61ba97ebc7e9e92141a28,libvirt: Rework 'EBUSY' (SIGKILL) error handling code path,MERGED,2019-06-28 08:07:49.000000000,2019-10-14 14:06:37.000000000,2019-10-14 14:06:37.000000000,"[{'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-06-28 08:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/174bc7fff3934b98872a31ad9fb9138d942ad848', 'message': 'libvirt: Rework \'EBUSY\' (SIGKILL) error handling code path\n\nChange ID I128bf6b939 (libvirt: handle code=38 + sigkill (ebusy) in\n_destroy()) handled the case where a QEMU process ""refuses to die"" within\na given timeout period set by libvirt.\n\nOriginally, libvirt sent SIGTERM (allowing the process to clean-up\nresources), then waited 10 seconds, if the guest didn\'t go away.  Then\nit sent, the more lethal, SIGKILL and waited another 5 seconds for it to\ntake effect.\n\nFrom libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits\nfor a guest hard shutdown to complete.  It now waits for 30 seconds for\nSIGKILL to work (instead of 5).  Also, additional wait time is added if\nthere are assigned PCI devices, as some of those tend to slow things\ndown.\n\nIn this change:\n\n  - Increment the counter to retry the _destroy() call from 3 to 6, thus\n    increasing the total time from 15 to 30 seconds, before SIGKILL\n    takes effect.  And it matches the (more graceful) behaviour of\n    libvirt v4.7.0.  This also gives breathing room for Nova instances\n    running in environments with large compute nodes with high instance\n    creation or delete churn, where the current timout may not be\n    sufficient.\n\n  - Retry the _destroy() API call _only_ if MIN_LIBVIRT_VERSION is lower\n    than 4.7.0.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9\n    (process: wait longer 5->30s on hard shutdown)\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:\n    wait longer on kill per assigned Hostdev"")\n\nConflicts:\n    nova/virt/libvirt/driver.py\n\n    (Trivial conflict: Rocky didn\'t have the QEMU-native TLS feature\n    yet.)\n\nConflicts (stable/queens):\n    nova/tests/unit/virt/libvirt/test_driver.py\n\nRelated-bug: #1353939\n\nChange-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n(cherry picked from commit 10d50ca4e210039aeae84cb9bd5d18895948af54)\n(cherry picked from commit 75985e25bc147369efb90d4fa9f046631766c14c)\n'}, {'number': 2, 'created': '2019-10-09 14:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4252ad90a9595c29af5804042bf20e502b94a7d', 'message': 'libvirt: Rework \'EBUSY\' (SIGKILL) error handling code path\n\nChange ID I128bf6b939 (libvirt: handle code=38 + sigkill (ebusy) in\n_destroy()) handled the case where a QEMU process ""refuses to die"" within\na given timeout period set by libvirt.\n\nOriginally, libvirt sent SIGTERM (allowing the process to clean-up\nresources), then waited 10 seconds, if the guest didn\'t go away.  Then\nit sent, the more lethal, SIGKILL and waited another 5 seconds for it to\ntake effect.\n\nFrom libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits\nfor a guest hard shutdown to complete.  It now waits for 30 seconds for\nSIGKILL to work (instead of 5).  Also, additional wait time is added if\nthere are assigned PCI devices, as some of those tend to slow things\ndown.\n\nIn this change:\n\n  - Increment the counter to retry the _destroy() call from 3 to 6, thus\n    increasing the total time from 15 to 30 seconds, before SIGKILL\n    takes effect.  And it matches the (more graceful) behaviour of\n    libvirt v4.7.0.  This also gives breathing room for Nova instances\n    running in environments with large compute nodes with high instance\n    creation or delete churn, where the current timout may not be\n    sufficient.\n\n  - Retry the _destroy() API call _only_ if MIN_LIBVIRT_VERSION is lower\n    than 4.7.0.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9\n    (process: wait longer 5->30s on hard shutdown)\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:\n    wait longer on kill per assigned Hostdev"")\n\nConflicts:\n    nova/virt/libvirt/driver.py\n\n    (Trivial conflict: Rocky didn\'t have the QEMU-native TLS feature\n    yet.)\n\nConflicts (stable/queens):\n    nova/tests/unit/virt/libvirt/test_driver.py\n\nRelated-bug: #1353939\n\nChange-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n(cherry picked from commit 10d50ca4e210039aeae84cb9bd5d18895948af54)\n(cherry picked from commit 75985e25bc147369efb90d4fa9f046631766c14c)\n'}, {'number': 3, 'created': '2019-10-10 07:54:26.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/16b0fb01afac7b81094aa891588f4bd9017ee235', 'message': 'libvirt: Rework \'EBUSY\' (SIGKILL) error handling code path\n\nChange ID I128bf6b939 (libvirt: handle code=38 + sigkill (ebusy) in\n_destroy()) handled the case where a QEMU process ""refuses to die"" within\na given timeout period set by libvirt.\n\nOriginally, libvirt sent SIGTERM (allowing the process to clean-up\nresources), then waited 10 seconds, if the guest didn\'t go away.  Then\nit sent, the more lethal, SIGKILL and waited another 5 seconds for it to\ntake effect.\n\nFrom libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits\nfor a guest hard shutdown to complete.  It now waits for 30 seconds for\nSIGKILL to work (instead of 5).  Also, additional wait time is added if\nthere are assigned PCI devices, as some of those tend to slow things\ndown.\n\nIn this change:\n\n  - Increment the counter to retry the _destroy() call from 3 to 6, thus\n    increasing the total time from 15 to 30 seconds, before SIGKILL\n    takes effect.  And it matches the (more graceful) behaviour of\n    libvirt v4.7.0.  This also gives breathing room for Nova instances\n    running in environments with large compute nodes with high instance\n    creation or delete churn, where the current timout may not be\n    sufficient.\n\n  - Retry the _destroy() API call _only_ if MIN_LIBVIRT_VERSION is lower\n    than 4.7.0.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9\n    (process: wait longer 5->30s on hard shutdown)\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:\n    wait longer on kill per assigned Hostdev"")\n\nConflicts:\n    nova/virt/libvirt/driver.py\n\n    (Trivial conflict: Rocky didn\'t have the QEMU-native TLS feature\n    yet.)\n\nConflicts (stable/queens):\n    nova/tests/unit/virt/libvirt/test_driver.py\n\nRelated-bug: #1353939\n\nChange-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n(cherry picked from commit 10d50ca4e210039aeae84cb9bd5d18895948af54)\n(cherry picked from commit 75985e25bc147369efb90d4fa9f046631766c14c)\n'}]",2,668111,16b0fb01afac7b81094aa891588f4bd9017ee235,39,12,3,6962,,,0,"libvirt: Rework 'EBUSY' (SIGKILL) error handling code path

Change ID I128bf6b939 (libvirt: handle code=38 + sigkill (ebusy) in
_destroy()) handled the case where a QEMU process ""refuses to die"" within
a given timeout period set by libvirt.

Originally, libvirt sent SIGTERM (allowing the process to clean-up
resources), then waited 10 seconds, if the guest didn't go away.  Then
it sent, the more lethal, SIGKILL and waited another 5 seconds for it to
take effect.

From libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits
for a guest hard shutdown to complete.  It now waits for 30 seconds for
SIGKILL to work (instead of 5).  Also, additional wait time is added if
there are assigned PCI devices, as some of those tend to slow things
down.

In this change:

  - Increment the counter to retry the _destroy() call from 3 to 6, thus
    increasing the total time from 15 to 30 seconds, before SIGKILL
    takes effect.  And it matches the (more graceful) behaviour of
    libvirt v4.7.0.  This also gives breathing room for Nova instances
    running in environments with large compute nodes with high instance
    creation or delete churn, where the current timout may not be
    sufficient.

  - Retry the _destroy() API call _only_ if MIN_LIBVIRT_VERSION is lower
    than 4.7.0.

[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9
    (process: wait longer 5->30s on hard shutdown)
[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:
    wait longer on kill per assigned Hostdev"")

Conflicts:
    nova/virt/libvirt/driver.py

    (Trivial conflict: Rocky didn't have the QEMU-native TLS feature
    yet.)

Conflicts (stable/queens):
    nova/tests/unit/virt/libvirt/test_driver.py

Related-bug: #1353939

Change-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
(cherry picked from commit 10d50ca4e210039aeae84cb9bd5d18895948af54)
(cherry picked from commit 75985e25bc147369efb90d4fa9f046631766c14c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/668111/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,174bc7fff3934b98872a31ad9fb9138d942ad848,bug/1353939," # Tests that _destroy will retry 6 times to destroy the guest when an self.assertEqual(6, mock_guest.poweroff.call_count) def test_min_libvirt_better_sigkill_handling_warning(self, mock_warning, mock_get_libversion): ex = fakelibvirt.make_libvirtError( fakelibvirt.libvirtError, (""Failed to terminate process 26425 with SIGKILL: "" ""Device or resource busy""), error_code=fakelibvirt.VIR_ERR_SYSTEM_ERROR, int1=errno.EBUSY) mock_guest = mock.Mock(libvirt_guest.Guest, id=1) mock_guest.poweroff = mock.Mock(side_effect=ex) instance = objects.Instance(**self.test_instance) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) with mock.patch.object(drvr._host, 'get_guest', return_value=mock_guest): raised = self.assertRaises(fakelibvirt.libvirtError, drvr._destroy, instance) self.assertEqual(fakelibvirt.VIR_ERR_SYSTEM_ERROR, raised.get_error_code()) mock_warning.assert_called_once() mock_guest.poweroff.assert_called_once() "," # Tests that _destroy will retry 3 times to destroy the guest when an self.assertEqual(3, mock_guest.poweroff.call_count)",63,13
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fstein~I47defcb18ac6b6059e22cd294e9461b69f015471,openstack/openstack-ansible-openstack_hosts,stable/stein,I47defcb18ac6b6059e22cd294e9461b69f015471,Fix host kernel modules when using linux-hwe on ubuntu,MERGED,2019-10-08 11:59:05.000000000,2019-10-14 14:06:33.000000000,2019-10-14 14:05:20.000000000,"[{'_account_id': 13095}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-08 11:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/a6ec381ab71e55a52fd714f9edd6b16c0d777820', 'message': 'Fix host kernel modules when using linux-hwe on ubuntu\n\nCurrently on ubuntu 18.04 there is new linux-hwe kernel that uses linux 5.0\nIn newer versions nf_conntrack_ipv4 and nf_conntrack_ipv6 was merged into\nnf_conntrack.\n\nThis fixes setup hosts playbook on systems that use linux-hwe\n\nChange-Id: I47defcb18ac6b6059e22cd294e9461b69f015471\n'}, {'number': 2, 'created': '2019-10-08 12:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/92bc131802814b67d0468c59cf98a9898dda3df5', 'message': 'Fix host kernel modules when using linux-hwe on ubuntu\n\nCurrently on ubuntu 18.04 there is new linux-hwe kernel that uses linux 5.0\nIn newer versions nf_conntrack_ipv4 and nf_conntrack_ipv6 was merged into\nnf_conntrack.\n\nThis fixes setup hosts playbook on systems that use linux-hwe\n\nDepends-On: https://review.opendev.org/687142/\nChange-Id: I47defcb18ac6b6059e22cd294e9461b69f015471\n'}, {'number': 3, 'created': '2019-10-10 15:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/380159dc4bd9b1443df718f18f598d18a2adac10', 'message': 'Fix host kernel modules when using linux-hwe on ubuntu\n\nCurrently on ubuntu 18.04 there is new linux-hwe kernel that uses linux 5.0\nIn newer versions nf_conntrack_ipv4 and nf_conntrack_ipv6 was merged into\nnf_conntrack.\n\nThis fixes setup hosts playbook on systems that use linux-hwe\n\nChange-Id: I47defcb18ac6b6059e22cd294e9461b69f015471\n'}, {'number': 4, 'created': '2019-10-10 16:18:59.000000000', 'files': ['vars/ubuntu-18.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/362ce495195732348ca7fc4217e10817f835506a', 'message': 'Fix host kernel modules when using linux-hwe on ubuntu\n\nCurrently on ubuntu 18.04 there is new linux-hwe kernel that uses linux 5.0\nIn newer versions nf_conntrack_ipv4 and nf_conntrack_ipv6 was merged into\nnf_conntrack.\n\nThis fixes setup hosts playbook on systems that use linux-hwe\n\nDepends-On: https://review.opendev.org/687950\nChange-Id: I47defcb18ac6b6059e22cd294e9461b69f015471\n'}]",0,687277,362ce495195732348ca7fc4217e10817f835506a,20,5,4,22018,,,0,"Fix host kernel modules when using linux-hwe on ubuntu

Currently on ubuntu 18.04 there is new linux-hwe kernel that uses linux 5.0
In newer versions nf_conntrack_ipv4 and nf_conntrack_ipv6 was merged into
nf_conntrack.

This fixes setup hosts playbook on systems that use linux-hwe

Depends-On: https://review.opendev.org/687950
Change-Id: I47defcb18ac6b6059e22cd294e9461b69f015471
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/77/687277/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-18.04.yml'],1,a6ec381ab71e55a52fd714f9edd6b16c0d777820,," #NOTE: 4.19 kernel merged nf_conntrack_ipv{4,6} into nf_conntrack - name: ""{{ (hostvars[inventory_hostname]['ansible_kernel'] is version('4.19.0', '<=')) | ternary('nf_conntrack_ipv4', '') }}"" - name: ""{{ (hostvars[inventory_hostname]['ansible_kernel'] is version('4.19.0', '<=')) | ternary('nf_conntrack_ipv6', '') }}""", - name: nf_conntrack_ipv4 - name: nf_conntrack_ipv6,3,2
openstack%2Fopenstack-helm-infra~master~I52aaa75c51403c5346720e580b5d59110917621b,openstack/openstack-helm-infra,master,I52aaa75c51403c5346720e580b5d59110917621b,[PowerDNS] Gate fix,MERGED,2019-10-12 18:48:41.000000000,2019-10-14 14:00:51.000000000,2019-10-14 13:59:29.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17499}, {'_account_id': 17591}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-12 18:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cd9eb797e8496f7ca6e58c992ae79c11fccba99d', 'message': 'DNM: Gate fix\n\nChange-Id: I52aaa75c51403c5346720e580b5d59110917621b\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2019-10-12 19:41:47.000000000', 'files': ['powerdns/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4e7c9ac4793e7cc9baf99c1384ef40bc02c1765f', 'message': '[PowerDNS] Gate fix\n\nV4.2 of powerDNS removes the setting out-of-zone-additional-processing\ncausing the gate to fail. This patch set pins it back down to 4.1.X so\nthe gate works again.\n\nChange-Id: I52aaa75c51403c5346720e580b5d59110917621b\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,688284,4e7c9ac4793e7cc9baf99c1384ef40bc02c1765f,14,12,2,20466,,,0,"[PowerDNS] Gate fix

V4.2 of powerDNS removes the setting out-of-zone-additional-processing
causing the gate to fail. This patch set pins it back down to 4.1.X so
the gate works again.

Change-Id: I52aaa75c51403c5346720e580b5d59110917621b
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/84/688284/2 && git format-patch -1 --stdout FETCH_HEAD,['powerdns/values.yaml'],1,cd9eb797e8496f7ca6e58c992ae79c11fccba99d,fix/jobs, powerdns: docker.io/psitrax/powerdns:4.1.10 db_sync: docker.io/psitrax/powerdns:4.1.10, powerdns: docker.io/psitrax/powerdns:latest db_sync: docker.io/psitrax/powerdns:latest,2,2
openstack%2Fopenstack-helm~master~I0bb7dfc7c15d77287c05a8542347e19fc269aba4,openstack/openstack-helm,master,I0bb7dfc7c15d77287c05a8542347e19fc269aba4,Octavia: add octavia chart and deployment scripts,MERGED,2019-01-15 02:09:46.000000000,2019-10-14 13:56:52.000000000,2019-10-14 13:53:34.000000000,"[{'_account_id': 1523}, {'_account_id': 7249}, {'_account_id': 8181}, {'_account_id': 8898}, {'_account_id': 10068}, {'_account_id': 14525}, {'_account_id': 17068}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28614}, {'_account_id': 28743}, {'_account_id': 29796}]","[{'number': 1, 'created': '2019-01-15 02:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e890cc9e63171038ccbfc550c30cdbde16f99eac', 'message': ""Octavia: add octavia chart and deployment scripts\n\nThis PS adds octavia chart and its deployment scripts.\n\nBlueprint name: openstack-helm-octavia\n\nNote: This chart doesn't include amphora image and its build.\n\nChange-Id: I0bb7dfc7c15d77287c05a8542347e19fc269aba4\nSigned-off-by: hagun.kim <hagun.kim@samsung.com>\n""}, {'number': 2, 'created': '2019-01-17 05:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e4d1a133efcbcd35c21f5c47fc45fe33e0d48df0', 'message': ""Octavia: add octavia chart and deployment scripts\n\nThis PS adds octavia chart and its deployment scripts.\n\nBlueprint name: openstack-helm-octavia\n\nNote: This chart doesn't include amphora image and its build.\n\nChange-Id: I0bb7dfc7c15d77287c05a8542347e19fc269aba4\nSigned-off-by: hagun.kim <hagun.kim@samsung.com>\n""}, {'number': 3, 'created': '2019-01-20 10:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/556784b8c0244d8c2eced092c4005ae53e8fe2c5', 'message': ""Octavia: add octavia chart and deployment scripts\n\nThis PS adds octavia chart and its deployment scripts.\n\nBlueprint name: openstack-helm-octavia\n\nNote: This chart doesn't include amphora image and its build.\n\nChange-Id: I0bb7dfc7c15d77287c05a8542347e19fc269aba4\nSigned-off-by: hagun.kim <hagun.kim@samsung.com>\n""}, {'number': 4, 'created': '2019-01-20 10:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4cb8c5c8b6e1bca9160030034af742823ebf4622', 'message': ""Octavia: add octavia chart and deployment scripts\n\nThis PS adds octavia chart and its deployment scripts.\n\nBlueprint name: openstack-helm-octavia\n\nNote: This chart doesn't include amphora image and its build.\n\nChange-Id: I0bb7dfc7c15d77287c05a8542347e19fc269aba4\nSigned-off-by: hagun.kim <hagun.kim@samsung.com>\n""}, {'number': 5, 'created': '2019-01-20 10:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/48d7e503289023c33ba0447c97d4aca0baaaccbe', 'message': ""Octavia: add octavia chart and deployment scripts\n\nThis PS adds octavia chart and its deployment scripts.\n\nBlueprint name: openstack-helm-octavia\n\nNote: This chart doesn't include amphora image and its build.\n\nChange-Id: I0bb7dfc7c15d77287c05a8542347e19fc269aba4\nSigned-off-by: hagun.kim <hagun.kim@samsung.com>\n""}, {'number': 6, 'created': '2019-01-30 20:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b6991bfa21c92a467d84ed3555b48ecf66b310fe', 'message': ""Octavia: add octavia chart and deployment scripts\n\nThis PS adds octavia chart and its deployment scripts.\n\nBlueprint name: openstack-helm-octavia\n\nNote: This chart doesn't include amphora image and its build.\n\nChange-Id: I0bb7dfc7c15d77287c05a8542347e19fc269aba4\nSigned-off-by: hagun.kim <hagun.kim@samsung.com>\n""}, {'number': 7, 'created': '2019-03-14 01:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c7fa152976e9890cb5994f044894291bc201ec9e', 'message': ""Octavia: add octavia chart and deployment scripts\n\nThis PS adds octavia chart and its deployment scripts.\n\nBlueprint name: openstack-helm-octavia\n\nNote: This chart doesn't include amphora image and its build.\n\nChange-Id: I0bb7dfc7c15d77287c05a8542347e19fc269aba4\nSigned-off-by: hagun.kim <hagun.kim@samsung.com>\n""}, {'number': 8, 'created': '2019-03-20 09:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b32fbd8fbf2166d519723baae1ca79033ae561ff', 'message': ""Octavia: add octavia chart and deployment scripts\n\nThis PS adds octavia chart and its deployment scripts.\n\nBlueprint name: openstack-helm-octavia\n\nNote: This chart doesn't include amphora image and its build.\n\nChange-Id: I0bb7dfc7c15d77287c05a8542347e19fc269aba4\nSigned-off-by: hagun.kim <hagun.kim@samsung.com>\n""}, {'number': 9, 'created': '2019-04-15 03:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7e4fdc03cd0b546a62e0e30efa9d16eefdaa0578', 'message': ""Octavia: add octavia chart and deployment scripts\n\nThis PS adds octavia chart and its deployment scripts.\n\nBlueprint name: openstack-helm-octavia\n\nNote: This chart doesn't include amphora image and its build.\n\nChange-Id: I0bb7dfc7c15d77287c05a8542347e19fc269aba4\nSigned-off-by: hagun.kim <hagun.kim@samsung.com>\n""}, {'number': 10, 'created': '2019-05-16 02:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/40ae5f5459f86106769c7403282e5232a6e6672c', 'message': ""Octavia: add octavia chart and deployment scripts\n\nThis PS adds octavia chart and its deployment scripts.\n\nBlueprint name: openstack-helm-octavia\n\nNote: This chart doesn't include amphora image and its build.\n\nChange-Id: I0bb7dfc7c15d77287c05a8542347e19fc269aba4\nSigned-off-by: hagun.kim <hagun.kim@samsung.com>\n""}, {'number': 11, 'created': '2019-05-20 09:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fe28486e918e92d431c1c2c8517a0fb0adbfea6a', 'message': ""Octavia: add octavia chart and deployment scripts\n\nThis PS adds octavia chart and its deployment scripts.\n\nBlueprint name: openstack-helm-octavia\n\nNote: This chart doesn't include amphora image and its build.\nNote: For multi node, this chart requires modification later.\n\nChange-Id: I0bb7dfc7c15d77287c05a8542347e19fc269aba4\nSigned-off-by: hagun.kim <hagun.kim@samsung.com>\n""}, {'number': 12, 'created': '2019-06-19 06:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/911e4a24e7620cf5ee77e811157224527dc2d669', 'message': ""Octavia: add octavia chart and deployment scripts\n\nThis PS adds octavia chart and its deployment scripts.\n\nBlueprint name: openstack-helm-octavia\n\nNote: This chart doesn't include amphora image and its build.\n\nChange-Id: I0bb7dfc7c15d77287c05a8542347e19fc269aba4\nSigned-off-by: hagun.kim <hagun.kim@samsung.com>\n""}, {'number': 13, 'created': '2019-06-27 23:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3b38f1b9660f43fe01ec22ce699e7a3b31c5a6d4', 'message': ""Octavia: add octavia chart and deployment scripts\n\nThis PS adds octavia chart and its deployment scripts.\n\nBlueprint name: openstack-helm-octavia\n\nNote: This chart doesn't include amphora image and its build.\n\nChange-Id: I0bb7dfc7c15d77287c05a8542347e19fc269aba4\nSigned-off-by: hagun.kim <hagun.kim@samsung.com>\n""}, {'number': 14, 'created': '2019-07-10 07:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a4b77d0fa3720fb974497b31231e363ed375db0a', 'message': ""Octavia: add octavia chart and deployment scripts\n\nThis PS adds octavia chart and its deployment scripts.\n\nBlueprint name: openstack-helm-octavia\n\nNote: This chart doesn't include amphora image and its build.\nNote: For multi node, this chart requires modification later.\n\nChange-Id: I0bb7dfc7c15d77287c05a8542347e19fc269aba4\nSigned-off-by: hagun.kim <hagun.kim@samsung.com>\n""}, {'number': 15, 'created': '2019-08-07 10:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ae2f759fa5b38e6357f2ff7ba67eb0f1fa5804b1', 'message': ""Octavia: add octavia chart and deployment scripts\n\nThis PS adds octavia chart and its deployment scripts.\n\nYou can deploy on multinode.\n\nEach controller node has octavia-health-mananger daemonset.\n\nBlueprint openstack-helm-octavia\n\nNote: This chart doesn't include amphora image and its build.\n\nChange-Id: I0bb7dfc7c15d77287c05a8542347e19fc269aba4\nSigned-off-by: hagun.kim <hagun.kim@samsung.com>\n""}, {'number': 16, 'created': '2019-08-08 02:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/777086546061135a7584095c3b1207eef72c765e', 'message': ""Octavia: add octavia chart and deployment scripts\n\nThis PS adds octavia chart and its deployment scripts.\n\nBlueprint name : openstack-helm-octavia\n\n- Deployments : api, worker, housekeeping\n- Daemonset : health-manager\n- health-manager daemonset creates o-hm device on each controller node.\n- This is for multi node deployment.\n- 180-create-resource-for-octavia.sh : Create openstack resources\n    (network, sec groups, flavor, keypair, image for development)\n- 190-create-octavia-certs.sh : Create certificates to use Octavia\n    (the certs is passed into pod using secret and volume for development)\n- 200-octavia.sh : Deploy Octavia chart\n\nNote: This chart doesn't include amphora image itself and its build.\n\nChange-Id: I0bb7dfc7c15d77287c05a8542347e19fc269aba4\nSigned-off-by: hagun.kim <hagun.kim@samsung.com>\n""}, {'number': 17, 'created': '2019-08-30 05:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7e115c95f33eaee04dbb72f6234ca6aeb1b3ce8e', 'message': ""Octavia: add octavia chart and deployment scripts\n\nThis PS adds octavia chart and its deployment scripts.\n\nBlueprint name : openstack-helm-octavia\n\n- Deployments : api, worker, housekeeping\n- Daemonset : health-manager\n- health-manager daemonset creates o-hm device on each controller node.\n- This is for multi node deployment.\n- 180-create-resource-for-octavia.sh : Create openstack resources\n    (network, sec groups, flavor, keypair, image for development)\n- 190-create-octavia-certs.sh : Create certificates to use Octavia\n    (the certs is passed into pod using secret and volume for development)\n- 200-octavia.sh : Deploy Octavia chart\n\nNote: This chart doesn't include amphora image itself and its build.\n\nChange-Id: I0bb7dfc7c15d77287c05a8542347e19fc269aba4\nSigned-off-by: hagun.kim <hagun.kim@samsung.com>\n""}, {'number': 18, 'created': '2019-10-07 08:47:32.000000000', 'files': ['octavia/templates/service-ingress-api.yaml', 'octavia/templates/bin/_octavia-housekeeping.sh.tpl', 'octavia/templates/pdb-api.yaml', 'tools/deployment/developer/common/180-create-resource-for-octavia.sh', 'octavia/templates/service-api.yaml', 'octavia/templates/bin/_db-sync.sh.tpl', 'tools/deployment/developer/nfs/190-create-octavia-certs.sh', 'octavia/templates/bin/_octavia-health-manager-get-port.sh.tpl', 'octavia/templates/bin/_octavia-health-manager.sh.tpl', 'octavia/templates/ingress-api.yaml', 'octavia/templates/job-ks-endpoint.yaml', 'tools/deployment/developer/nfs/180-create-resource-for-octavia.sh', 'octavia/templates/daemonset-health-manager.yaml', 'octavia/templates/job-bootstrap.yaml', 'octavia/templates/job-db-sync.yaml', 'octavia/templates/deployment-api.yaml', 'octavia/templates/configmap-etc.yaml', 'octavia/templates/secret-keystone.yaml', 'octavia/requirements.yaml', 'octavia/templates/network_policy.yaml', 'neutron/templates/configmap-etc.yaml', 'octavia/templates/secret-ingress-tls.yaml', 'octavia/templates/bin/_bootstrap.sh.tpl', 'octavia/templates/bin/_octavia-api.sh.tpl', 'tools/deployment/developer/ceph/190-create-octavia-certs.sh', 'octavia/templates/bin/_octavia-worker.sh.tpl', 'tools/deployment/developer/common/190-create-octavia-certs.sh', 'octavia/templates/job-ks-service.yaml', 'octavia/templates/job-ks-user.yaml', 'octavia/templates/configmap-bin.yaml', 'tools/deployment/developer/ceph/180-create-resource-for-octavia.sh', 'tools/deployment/developer/ceph/200-octavia.sh', 'octavia/values.yaml', 'octavia/templates/secret-db.yaml', 'tools/deployment/developer/nfs/200-octavia.sh', 'octavia/templates/bin/_octavia-health-manager-nic-init.sh.tpl', 'octavia/templates/secret-rabbitmq.yaml', 'octavia/templates/job-image-repo-sync.yaml', 'octavia/templates/job-db-drop.yaml', 'octavia/templates/job-db-init.yaml', 'octavia/templates/job-rabbit-init.yaml', 'octavia/Chart.yaml', 'octavia/templates/deployment-housekeeping.yaml', 'neutron/values.yaml', 'octavia/templates/deployment-worker.yaml', 'tools/deployment/developer/common/200-octavia.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aac8345c4cc98873812a021483c7a22fdaf32d17', 'message': ""Octavia: add octavia chart and deployment scripts\n\nThis PS adds octavia chart and its deployment scripts.\n\nBlueprint name : openstack-helm-octavia\n\n- Deployments : api, worker, housekeeping\n- Daemonset : health-manager\n- health-manager daemonset creates o-hm device on each controller node.\n- This is for multi node deployment.\n- 180-create-resource-for-octavia.sh : Create openstack resources\n    (network, sec groups, flavor, keypair, image for development)\n- 190-create-octavia-certs.sh : Create certificates to use Octavia\n    (the certs is passed into pod using secret and volume for development)\n- 200-octavia.sh : Deploy Octavia chart\n\nNote: This chart doesn't include amphora image itself and its build.\n\nChange-Id: I0bb7dfc7c15d77287c05a8542347e19fc269aba4\nSigned-off-by: hagun.kim <hagun.kim@samsung.com>\n""}]",78,630821,aac8345c4cc98873812a021483c7a22fdaf32d17,112,15,18,29796,,,0,"Octavia: add octavia chart and deployment scripts

This PS adds octavia chart and its deployment scripts.

Blueprint name : openstack-helm-octavia

- Deployments : api, worker, housekeeping
- Daemonset : health-manager
- health-manager daemonset creates o-hm device on each controller node.
- This is for multi node deployment.
- 180-create-resource-for-octavia.sh : Create openstack resources
    (network, sec groups, flavor, keypair, image for development)
- 190-create-octavia-certs.sh : Create certificates to use Octavia
    (the certs is passed into pod using secret and volume for development)
- 200-octavia.sh : Deploy Octavia chart

Note: This chart doesn't include amphora image itself and its build.

Change-Id: I0bb7dfc7c15d77287c05a8542347e19fc269aba4
Signed-off-by: hagun.kim <hagun.kim@samsung.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/21/630821/18 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/templates/service-ingress-api.yaml', 'octavia/templates/bin/_octavia-housekeeping.sh.tpl', 'octavia/templates/pdb-api.yaml', 'tools/deployment/developer/common/180-create-resource-for-octavia.sh', 'octavia/templates/service-api.yaml', 'octavia/templates/bin/_db-sync.sh.tpl', 'tools/deployment/developer/nfs/190-create-octavia-certs.sh', 'octavia/templates/bin/_octavia-health-manager.sh.tpl', 'octavia/templates/ingress-api.yaml', 'octavia/templates/job-ks-endpoint.yaml', 'tools/deployment/developer/nfs/180-create-resource-for-octavia.sh', 'octavia/templates/job-bootstrap.yaml', 'octavia/templates/job-db-sync.yaml', 'octavia/templates/deployment-api.yaml', 'octavia/templates/deployment-health-manager.yaml', 'octavia/templates/configmap-etc.yaml', 'keystone/values.yaml', 'octavia/templates/secret-keystone.yaml', 'octavia/requirements.yaml', 'octavia/templates/network_policy.yaml', 'octavia/templates/secret-ingress-tls.yaml', 'octavia/templates/bin/_bootstrap.sh.tpl', 'octavia/templates/bin/_octavia-api.sh.tpl', 'tools/deployment/developer/ceph/190-create-octavia-certs.sh', 'octavia/templates/bin/_octavia-worker.sh.tpl', 'tools/deployment/developer/common/190-create-octavia-certs.sh', 'octavia/templates/job-ks-service.yaml', 'octavia/templates/job-ks-user.yaml', 'octavia/templates/configmap-bin.yaml', 'tools/deployment/developer/ceph/180-create-resource-for-octavia.sh', 'tools/deployment/developer/ceph/200-octavia.sh', 'octavia/values.yaml', 'octavia/templates/secret-db.yaml', 'tools/deployment/developer/nfs/200-octavia.sh', 'octavia/templates/secret-rabbitmq.yaml', 'octavia/templates/job-image-repo-sync.yaml', 'octavia/templates/job-db-drop.yaml', 'octavia/templates/job-db-init.yaml', 'octavia/templates/job-rabbit-init.yaml', 'octavia/Chart.yaml', 'octavia/templates/deployment-housekeeping.yaml', 'neutron/values.yaml', 'octavia/templates/deployment-worker.yaml', 'tools/deployment/developer/common/200-octavia.sh']",44,e890cc9e63171038ccbfc550c30cdbde16f99eac,bp/openstack-helm-octavia,"#!/bin/bash # Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -xe #NOTE: Lint and package chart make octavia export OS_CLOUD=openstack_helm : ${OSH_LB_AMPHORA_IMAGE_NAME:=""amphora-x64-haproxy""} : ${OSH_LB_HM_HOST_PORT:=""5555""} : ${OSH_LB_HM_IF_NAME:=""o-hm0""} openstack image show amphora-x64-haproxy -f value -c owner #NOTE: Deploy command : ${OSH_EXTRA_HELM_ARGS:=""""} tee /tmp/octavia.yaml <<EOF pod: mounts: octavia_api: octavia_api: volumeMounts: - name: octavia-ca-key-pem mountPath: /etc/octavia/certs/private/cakey.pem subPath: cakey.pem - name: octavia-ca01 mountPath: /etc/octavia/certs/ca_01.pem subPath: ca_01.pem - name: octavia-client-pem mountPath: /etc/octavia/certs/client.pem subPath: client.pem volumes: - name: octavia-ca-key-pem secret: secretName: octavia-ca-key-pem defaultMode: 0644 - name: octavia-ca01 secret: secretName: octavia-ca01 defaultMode: 0644 - name: octavia-client-pem secret: secretName: octavia-client-pem defaultMode: 0644 octavia_worker: octavia_worker: volumeMounts: - name: octavia-ca-key-pem mountPath: /etc/octavia/certs/private/cakey.pem subPath: cakey.pem - name: octavia-ca01 mountPath: /etc/octavia/certs/ca_01.pem subPath: ca_01.pem - name: octavia-client-pem mountPath: /etc/octavia/certs/client.pem subPath: client.pem volumes: - name: octavia-ca-key-pem secret: secretName: octavia-ca-key-pem defaultMode: 0644 - name: octavia-ca01 secret: secretName: octavia-ca01 defaultMode: 0644 - name: octavia-client-pem secret: secretName: octavia-client-pem defaultMode: 0644 octavia_housekeeping: octavia_housekeeping: volumeMounts: - name: octavia-ca-key-pem mountPath: /etc/octavia/certs/private/cakey.pem subPath: cakey.pem - name: octavia-ca01 mountPath: /etc/octavia/certs/ca_01.pem subPath: ca_01.pem - name: octavia-client-pem mountPath: /etc/octavia/certs/client.pem subPath: client.pem volumes: - name: octavia-ca-key-pem secret: secretName: octavia-ca-key-pem defaultMode: 0644 - name: octavia-ca01 secret: secretName: octavia-ca01 defaultMode: 0644 - name: octavia-client-pem secret: secretName: octavia-client-pem defaultMode: 0644 octavia_health_manager: octavia_health_manager: volumeMounts: - name: octavia-ca-key-pem mountPath: /etc/octavia/certs/private/cakey.pem subPath: cakey.pem - name: octavia-ca01 mountPath: /etc/octavia/certs/ca_01.pem subPath: ca_01.pem - name: octavia-client-pem mountPath: /etc/octavia/certs/client.pem subPath: client.pem volumes: - name: octavia-ca-key-pem secret: secretName: octavia-ca-key-pem defaultMode: 0644 - name: octavia-ca01 secret: secretName: octavia-ca01 defaultMode: 0644 - name: octavia-client-pem secret: secretName: octavia-client-pem defaultMode: 0644 conf: octavia: controller_worker: amp_image_owner_id: $(openstack image show $OSH_LB_AMPHORA_IMAGE_NAME -f value -c owner) amp_secgroup_list: $(openstack security group list -f value | grep lb-mgmt-sec-grp | awk '{print $1}') amp_flavor_id: $(openstack flavor show m1.amphora -f value -c id) amp_boot_network_list: $(openstack network list --name lb-mgmt-net -f value -c ID) health_manager: bind_port: $OSH_LB_HM_HOST_PORT bind_ip: 0.0.0.0 controller_ip_port_list: $(ifconfig o-hm0 | grep 'inet addr' | cut -d: -f2 | awk '{print $1}'):$OSH_LB_HM_HOST_PORT EOF helm upgrade --install octavia ./octavia \ --namespace=openstack \ --values=/tmp/octavia.yaml \ ${OSH_EXTRA_HELM_ARGS} \ ${OSH_EXTRA_HELM_ARGS_OCTAVIA} #NOTE: Wait for deploy ./tools/deployment/common/wait-for-pods.sh openstack #NOTE: Validate Deployment info export OS_CLOUD=openstack_helm openstack service list sleep 30 #NOTE(portdirect): Wait for ingress controller to update rules and restart Nginx ",,2135,0
openstack%2Fopenstack-helm~master~I614dc9d52d6dd7b346aa0b3f5e0012686de93ced,openstack/openstack-helm,master,I614dc9d52d6dd7b346aa0b3f5e0012686de93ced,[Nova] Fix a bug introduced in implementing security context for nova,MERGED,2019-09-27 09:58:16.000000000,2019-10-14 13:55:21.000000000,2019-10-14 13:53:24.000000000,"[{'_account_id': 9963}, {'_account_id': 12281}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28570}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-09-27 09:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b88dd49095dce66639c453a698d7086ae29c9130', 'message': '[Nova] Fix a bug introduced in implementing security context for nova\n\nIn daemonset-compute.yaml, it uses a wrong application name\n\nChange-Id: I614dc9d52d6dd7b346aa0b3f5e0012686de93ced\nSigned-off-by: zhipengl <zhipengs.liu@intel.com>\n'}, {'number': 2, 'created': '2019-09-27 10:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a6451ef4e89aa90cfa17631aa29e838166c16536', 'message': '[Nova] Fix a bug introduced in implementing security context for nova\n\nIn daemonset-compute.yaml, it uses a wrong application name\nBug introduced in commit-id:9b42e8a1c0e68404bf13487dbfb699b1bd0e4c01\n\nChange-Id: I614dc9d52d6dd7b346aa0b3f5e0012686de93ced\nSigned-off-by: zhipengl <zhipengs.liu@intel.com>\n'}, {'number': 3, 'created': '2019-09-28 13:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4ba9f9ed6d0c0cb6863bb071498c319fc50ee0ed', 'message': '[Nova] Fix a bug introduced in implementing security context for nova\n\nIn daemonset-compute.yaml, it uses a wrong application name\nBug introduced in commit-id:9b42e8a1c0e68404bf13487dbfb699b1bd0e4c01\n\nChange-Id: I614dc9d52d6dd7b346aa0b3f5e0012686de93ced\nSigned-off-by: zhipengl <zhipengs.liu@intel.com>\n'}, {'number': 4, 'created': '2019-10-09 04:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ca48b193c4fb8e02a87fc9f378931b38a3af1c5d', 'message': '[Nova] Fix a bug introduced in implementing security context for nova\n\nIn daemonset-compute.yaml, it uses a wrong application name\nBug introduced in commit-id:9b42e8a1c0e68404bf13487dbfb699b1bd0e4c01\n\nChange-Id: I614dc9d52d6dd7b346aa0b3f5e0012686de93ced\nSigned-off-by: zhipengl <zhipengs.liu@intel.com>\n'}, {'number': 5, 'created': '2019-10-12 01:11:36.000000000', 'files': ['nova/templates/daemonset-compute.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/20deb70c75776aa037a535387f785bcce2c03417', 'message': '[Nova] Fix a bug introduced in implementing security context for nova\n\nIn daemonset-compute.yaml, it uses a wrong application name\nBug introduced in commit-id:9b42e8a1c0e68404bf13487dbfb699b1bd0e4c01\n\nChange-Id: I614dc9d52d6dd7b346aa0b3f5e0012686de93ced\nSigned-off-by: zhipengl <zhipengs.liu@intel.com>\n'}]",0,685307,20deb70c75776aa037a535387f785bcce2c03417,30,9,5,28570,,,0,"[Nova] Fix a bug introduced in implementing security context for nova

In daemonset-compute.yaml, it uses a wrong application name
Bug introduced in commit-id:9b42e8a1c0e68404bf13487dbfb699b1bd0e4c01

Change-Id: I614dc9d52d6dd7b346aa0b3f5e0012686de93ced
Signed-off-by: zhipengl <zhipengs.liu@intel.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/07/685307/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/daemonset-compute.yaml'],1,b88dd49095dce66639c453a698d7086ae29c9130,,"{{ dict ""envAll"" $envAll ""application"" ""nova"" ""container"" ""nova_compute"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}{{ dict ""envAll"" $envAll ""application"" ""nova"" ""container"" ""nova_compute_ssh"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}","{{ dict ""envAll"" $envAll ""application"" ""nova_compute"" ""container"" ""nova_compute"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}{{ dict ""envAll"" $envAll ""application"" ""nova_compute"" ""container"" ""nova_compute_ssh"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}",2,2
openstack%2Fopenstack-helm~master~I786c68057f6742a79a33f78db6e3bba8b99cf1b8,openstack/openstack-helm,master,I786c68057f6742a79a33f78db6e3bba8b99cf1b8,Apply network policy to all services,MERGED,2019-09-23 20:10:45.000000000,2019-10-14 13:53:25.000000000,2019-10-14 13:53:25.000000000,"[{'_account_id': 12281}, {'_account_id': 17499}, {'_account_id': 17591}, {'_account_id': 21420}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 26297}, {'_account_id': 28208}, {'_account_id': 28543}, {'_account_id': 28614}, {'_account_id': 28618}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-09-23 20:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2f2ec32f5cccbd2b3a7824367c78c86214d42e80', 'message': 'WIP: Apply network policy to all services\n\nCurrently, the base network policy framework seems to only go on charts\nfor some OpenStack services and not other. This patch set puts the\nminimal base netpol framework for all applicable services.\n\nChange-Id: I786c68057f6742a79a33f78db6e3bba8b99cf1b8\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2019-09-23 20:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6e82bab97bc2751d608568fbe5eb4153453f5fe8', 'message': 'WIP: Apply network policy to all services\n\nCurrently, the base network policy framework seems to only go on charts\nfor some OpenStack services and not other. This patch set puts the\nminimal base netpol framework for all applicable services.\n\nChange-Id: I786c68057f6742a79a33f78db6e3bba8b99cf1b8\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2019-09-23 20:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cd21d6e316bc93f5113c9e25c3e865ed82b703d3', 'message': 'WIP: Apply network policy to all services\n\nCurrently, the base network policy framework seems to only go on charts\nfor some OpenStack services and not other. This patch set puts the\nminimal base netpol framework for all applicable services.\n\nChange-Id: I786c68057f6742a79a33f78db6e3bba8b99cf1b8\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2019-09-24 05:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3dec8392a80789a08ae8b81645da0af6e4b3f316', 'message': ""Apply network policy to all services\n\nThe base network policy framework currently applies only to some\nOpenStack services' charts but not others. This patch set applies the\nsame base network policies framework to all services.\n\nChange-Id: I786c68057f6742a79a33f78db6e3bba8b99cf1b8\nSigned-off-by: Tin Lam <tin@irrational.io>\n""}, {'number': 5, 'created': '2019-09-27 14:18:26.000000000', 'files': ['mistral/values.yaml', 'aodh/templates/network_policy.yaml', 'ceilometer/values.yaml', 'congress/values.yaml', 'magnum/values.yaml', 'panko/templates/network_policy.yaml', 'aodh/values.yaml', 'ironic/values.yaml', 'panko/values.yaml', 'senlin/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e8e5072a186fe472be4a17742a4e1c04a7caed14', 'message': ""Apply network policy to all services\n\nThe base network policy framework currently applies only to some\nOpenStack services' charts but not others. This patch set applies the\nsame base network policies framework to all services.\n\nChange-Id: I786c68057f6742a79a33f78db6e3bba8b99cf1b8\nSigned-off-by: Tin Lam <tin@irrational.io>\n""}]",0,684126,e8e5072a186fe472be4a17742a4e1c04a7caed14,23,13,5,20466,,,0,"Apply network policy to all services

The base network policy framework currently applies only to some
OpenStack services' charts but not others. This patch set applies the
same base network policies framework to all services.

Change-Id: I786c68057f6742a79a33f78db6e3bba8b99cf1b8
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/26/684126/5 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/values.yaml', 'congress/values.yaml', 'aodh/values.yaml', 'panko/values.yaml']",4,2f2ec32f5cccbd2b3a7824367c78c86214d42e80,netpol,network_policy: panko: ingress: - {} egress: - {} network_policy: false,,21,18
openstack%2Fopenstack-helm~master~I75874b475039c1f7469f11e02e2231254cc9d8ca,openstack/openstack-helm,master,I75874b475039c1f7469f11e02e2231254cc9d8ca,Add keystone ingress netpol,MERGED,2019-09-12 22:08:05.000000000,2019-10-14 13:53:01.000000000,2019-10-14 13:49:28.000000000,"[{'_account_id': 17499}, {'_account_id': 17591}, {'_account_id': 18236}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 28614}, {'_account_id': 28935}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-09-12 22:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bc1481b3eee1bd4967e3f5192228f8f7ac96f384', 'message': 'Add keystone ingress netpol\n\nChange-Id: I75874b475039c1f7469f11e02e2231254cc9d8ca\nSigned-off-by: Huang, Sophie (sh879n) <sh879n@att.com>\n'}, {'number': 2, 'created': '2019-09-12 22:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d7aaa4aa8cc678930823111b973a40468580b227', 'message': 'Add keystone ingress netpol\n\nChange-Id: I75874b475039c1f7469f11e02e2231254cc9d8ca\nSigned-off-by: Huang, Sophie (sh879n) <sh879n@att.com>\n'}, {'number': 3, 'created': '2019-09-27 20:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b204a7a81f2908b3ee7efd74c500450d238866bc', 'message': 'Add keystone ingress netpol\n\nChange-Id: I75874b475039c1f7469f11e02e2231254cc9d8ca\nSigned-off-by: Huang, Sophie (sh879n) <sh879n@att.com>\n'}, {'number': 4, 'created': '2019-09-27 20:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/83eba8b1c3718fb9320314b7e61cbc57c8b9c7ed', 'message': 'Add keystone ingress netpol\n\nChange-Id: I75874b475039c1f7469f11e02e2231254cc9d8ca\nSigned-off-by: Huang, Sophie (sh879n) <sh879n@att.com>\n'}, {'number': 5, 'created': '2019-09-27 21:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1929e63944fcccdf97eb1dd664f000ff63a2f148', 'message': 'Add keystone ingress netpol\n\nChange-Id: I75874b475039c1f7469f11e02e2231254cc9d8ca\nSigned-off-by: Huang, Sophie (sh879n) <sh879n@att.com>\n'}, {'number': 6, 'created': '2019-09-28 05:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/435a4fa6bc21642348958a9c84984d39ecfbc112', 'message': 'Add keystone ingress netpol\n\nChange-Id: I75874b475039c1f7469f11e02e2231254cc9d8ca\nSigned-off-by: Huang, Sophie (sh879n) <sh879n@att.com>\n'}, {'number': 7, 'created': '2019-09-30 16:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e5311b02a201f1fb2a4a7207d351b4c3b6d7e9e6', 'message': 'Add keystone ingress netpol\n\nChange-Id: I75874b475039c1f7469f11e02e2231254cc9d8ca\nSigned-off-by: Huang, Sophie (sh879n) <sh879n@att.com>\n'}, {'number': 8, 'created': '2019-09-30 16:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/905575da709f0508cf88d99dcc2d2430a32d1ce1', 'message': 'Add keystone ingress netpol\n\nChange-Id: I75874b475039c1f7469f11e02e2231254cc9d8ca\nSigned-off-by: Huang, Sophie (sh879n) <sh879n@att.com>\n'}, {'number': 9, 'created': '2019-09-30 16:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/028fb9e5582dbec746f4c68687caac6521230e5c', 'message': 'Add keystone ingress netpol\n\nChange-Id: I75874b475039c1f7469f11e02e2231254cc9d8ca\nSigned-off-by: Huang, Sophie (sh879n) <sh879n@att.com>\n'}, {'number': 10, 'created': '2019-09-30 19:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eb68ecaf11febbac8ea07f2124e46d52cf3fbf2e', 'message': 'Add keystone ingress netpol\n\nChange-Id: I75874b475039c1f7469f11e02e2231254cc9d8ca\nSigned-off-by: Huang, Sophie (sh879n) <sh879n@att.com>\n'}, {'number': 11, 'created': '2019-09-30 19:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9af114adc39dd14bf4865bb646206be87fd16208', 'message': 'Add keystone ingress netpol\n\nChange-Id: I75874b475039c1f7469f11e02e2231254cc9d8ca\nSigned-off-by: Huang, Sophie (sh879n) <sh879n@att.com>\n'}, {'number': 12, 'created': '2019-10-01 16:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/94f1844968bee143db04a46373f965ea458187ab', 'message': 'Add keystone ingress netpol\n\nChange-Id: I75874b475039c1f7469f11e02e2231254cc9d8ca\nSigned-off-by: Huang, Sophie (sh879n) <sh879n@att.com>\n'}, {'number': 13, 'created': '2019-10-04 14:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/448f5b0027fcf3948aeeb35deb846a027c827142', 'message': 'Add keystone ingress netpol\n\nChange-Id: I75874b475039c1f7469f11e02e2231254cc9d8ca\nSigned-off-by: Huang, Sophie (sh879n) <sh879n@att.com>\n'}, {'number': 14, 'created': '2019-10-04 16:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/74db944b2e9df886b1598d087f31d7b9a99dfd0b', 'message': 'Add keystone ingress netpol\n\nChange-Id: I75874b475039c1f7469f11e02e2231254cc9d8ca\nSigned-off-by: Huang, Sophie (sh879n) <sh879n@att.com>\n'}, {'number': 15, 'created': '2019-10-04 19:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9bc2561a516cded09d1a43e2d60c745fbeae1c61', 'message': 'Add keystone ingress netpol\n\nChange-Id: I75874b475039c1f7469f11e02e2231254cc9d8ca\nSigned-off-by: Huang, Sophie (sh879n) <sh879n@att.com>\n'}, {'number': 16, 'created': '2019-10-08 15:41:38.000000000', 'files': ['keystone/values_overrides/netpol.yaml', 'tools/deployment/common/test-networkpolicy.sh', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/313fe0ca3e4b259698d31321b86fe9d6237f1019', 'message': 'Add keystone ingress netpol\n\nChange-Id: I75874b475039c1f7469f11e02e2231254cc9d8ca\nSigned-off-by: Huang, Sophie (sh879n) <sh879n@att.com>\n'}]",8,681939,313fe0ca3e4b259698d31321b86fe9d6237f1019,53,13,16,18236,,,0,"Add keystone ingress netpol

Change-Id: I75874b475039c1f7469f11e02e2231254cc9d8ca
Signed-off-by: Huang, Sophie (sh879n) <sh879n@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/39/681939/3 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/netpol/901-test-netpol-cinder.sh'],1,bc1481b3eee1bd4967e3f5192228f8f7ac96f384,netpol,"#!/bin/bash # Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -xe # test_netpol(namespace, component, target_host, expected_result{fail,success}) function test_netpol { NS=$1 COMPONENT=$2 HOST=$3 STATUS=$4 echo Testing connection from $COMPONENT to host $HOST with namespace $NS POD=$(kubectl -n $NS get pod | grep $COMPONENT | grep Running | awk '{print $1}') PID=$(sudo docker inspect --format '{{ .State.Pid }}' $(kubectl get pods --namespace $NS $POD -o jsonpath='{.status.containerStatuses[0].containerID}' | cut -c 10-21)) if [ ""x${STATUS}"" == ""xfail"" ]; then if ! sudo nsenter -t $PID -n wget --spider --timeout=5 --tries=1 $HOST ; then echo ""Connection timed out; as expected by policy."" else exit 1 fi else sudo nsenter -t $PID -n wget --spider --timeout=5 --tries=1 $HOST fi } # Doing negative tests #test_netpol openstack keystone-api heat-api.openstack.svc.cluster.local fail #test_netpol openstack mariadb-server rabbitmq.openstack.svc.cluster.local:5672 fail #test_netpol openstack rabbitmq-rabbitmq memcached.openstack.svc.cluster.local:11211 fail #test_netpol openstack memcached mariadb.openstack.svc.cluster.local:3306 fail # Doing positive tests test_netpol openstack keystone-api mariadb.openstack.svc.cluster.local:3306 success test_netpol openstack keystone-api rabbitmq.openstack.svc.cluster.local:5672 success echo Test successfully ",,48,0
openstack%2Fopenstack-helm~master~I6d9ea0ea581016d5cb3ef447c9d8da6fb291e8da,openstack/openstack-helm,master,I6d9ea0ea581016d5cb3ef447c9d8da6fb291e8da,[Keystone] Fix indentation in values.yaml,MERGED,2019-09-30 09:05:30.000000000,2019-10-14 13:51:48.000000000,2019-10-14 13:49:27.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 9963}, {'_account_id': 12281}, {'_account_id': 14525}, {'_account_id': 17499}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 28614}, {'_account_id': 28618}, {'_account_id': 28849}, {'_account_id': 28935}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-09-30 09:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f1a25084970faa9db2cbee6700f55053fc710f0d', 'message': '[Keystone] Fix indentation in values.yaml\n\nChange-Id: I6d9ea0ea581016d5cb3ef447c9d8da6fb291e8da\n'}, {'number': 2, 'created': '2019-10-02 20:39:53.000000000', 'files': ['keystone/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/86ff8ccceca709010562b441963fb320b3ea37c3', 'message': '[Keystone] Fix indentation in values.yaml\n\nChange-Id: I6d9ea0ea581016d5cb3ef447c9d8da6fb291e8da\n'}]",0,685663,86ff8ccceca709010562b441963fb320b3ea37c3,22,19,2,14525,,,0,"[Keystone] Fix indentation in values.yaml

Change-Id: I6d9ea0ea581016d5cb3ef447c9d8da6fb291e8da
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/63/685663/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/values.yaml'],1,f1a25084970faa9db2cbee6700f55053fc710f0d,fix_identation, keystone: ingress: - {} egress: - {}, keystone: ingress: - {} egress: - {},5,5
openstack%2Ftripleo-common~stable%2Fstein~Id0602b0f51d4376b94e0bf5ae4e7fb34f085ed6c,openstack/tripleo-common,stable/stein,Id0602b0f51d4376b94e0bf5ae4e7fb34f085ed6c,Always close src/dst sessions and raise to retry,MERGED,2019-10-04 17:34:48.000000000,2019-10-14 13:47:35.000000000,2019-10-14 13:46:22.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-10-04 17:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d7868e5f52cd346e6d454c7c7c1edc1b8dc79c79', 'message': 'Always close src/dst sessions and raise to retry\n\nWhen something goes awry for the image upload process,\nalways ensure the sessions are getting closed, something gets\nlogged and whenever necessary, an exception is re-raised for the future\nretries with tenacity wrappers.\n\nChange-Id: Id0602b0f51d4376b94e0bf5ae4e7fb34f085ed6c\nRelated-Bug: #1844446\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 577334235a49abb895c8236b142a874a7f076ee5)\n'}, {'number': 2, 'created': '2019-10-04 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6e3bc482e5a2fb2fc49ea3337765cdeaaa5c916c', 'message': 'Always close src/dst sessions and raise to retry\n\nWhen something goes awry for the image upload process,\nalways ensure the sessions are getting closed, something gets\nlogged and whenever necessary, an exception is re-raised for the future\nretries with tenacity wrappers.\n\nChange-Id: Id0602b0f51d4376b94e0bf5ae4e7fb34f085ed6c\nRelated-Bug: #1844446\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 577334235a49abb895c8236b142a874a7f076ee5)\n'}, {'number': 3, 'created': '2019-10-07 09:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/48bddb76018df99728f6d37f9a81bff1e3192341', 'message': 'Always close src/dst sessions and raise to retry\n\nWhen something goes awry for the image upload process,\nalways ensure the sessions are getting closed, something gets\nlogged and whenever necessary, an exception is re-raised for the future\nretries with tenacity wrappers.\n\nChange-Id: Id0602b0f51d4376b94e0bf5ae4e7fb34f085ed6c\nRelated-Bug: #1844446\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2019-10-07 14:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/afe251e30f5b0575f40c28e2477b5a5c8c3db83e', 'message': 'Always close src/dst sessions and raise to retry\n\nWhen something goes awry for the image upload process,\nalways ensure the sessions are getting closed, something gets\nlogged and whenever necessary, an exception is re-raised for the future\nretries with tenacity wrappers.\n\nChange-Id: Id0602b0f51d4376b94e0bf5ae4e7fb34f085ed6c\nRelated-Bug: #1844446\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 577334235a49abb895c8236b142a874a7f076ee5)\n'}, {'number': 5, 'created': '2019-10-09 21:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/54726252d142792eadccb68a457bf281fc27dd3c', 'message': 'Always close src/dst sessions and raise to retry\n\nWhen something goes awry for the image upload process,\nalways ensure the sessions are getting closed, something gets\nlogged and whenever necessary, an exception is re-raised for the future\nretries with tenacity wrappers.\n\nChange-Id: Id0602b0f51d4376b94e0bf5ae4e7fb34f085ed6c\nRelated-Bug: #1844446\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 577334235a49abb895c8236b142a874a7f076ee5)\n'}, {'number': 6, 'created': '2019-10-11 20:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6e1742230976cd6deb328cbc8b25fd9d5a6d015e', 'message': 'Always close src/dst sessions and raise to retry\n\nWhen something goes awry for the image upload process,\nalways ensure the sessions are getting closed, something gets\nlogged and whenever necessary, an exception is re-raised for the future\nretries with tenacity wrappers.\n\nChange-Id: Id0602b0f51d4376b94e0bf5ae4e7fb34f085ed6c\nRelated-Bug: #1844446\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 577334235a49abb895c8236b142a874a7f076ee5)\n'}, {'number': 7, 'created': '2019-10-14 00:33:26.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/55df4dec4efdc938e3fb685cd038aa6f9c099e65', 'message': 'Always close src/dst sessions and raise to retry\n\nWhen something goes awry for the image upload process,\nalways ensure the sessions are getting closed, something gets\nlogged and whenever necessary, an exception is re-raised for the future\nretries with tenacity wrappers.\n\nChange-Id: Id0602b0f51d4376b94e0bf5ae4e7fb34f085ed6c\nRelated-Bug: #1844446\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 577334235a49abb895c8236b142a874a7f076ee5)\n'}]",0,686787,55df4dec4efdc938e3fb685cd038aa6f9c099e65,34,7,7,14985,,,0,"Always close src/dst sessions and raise to retry

When something goes awry for the image upload process,
always ensure the sessions are getting closed, something gets
logged and whenever necessary, an exception is re-raised for the future
retries with tenacity wrappers.

Change-Id: Id0602b0f51d4376b94e0bf5ae4e7fb34f085ed6c
Related-Bug: #1844446
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 577334235a49abb895c8236b142a874a7f076ee5)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/87/686787/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,d7868e5f52cd346e6d454c7c7c1edc1b8dc79c79,bug/1844446-stable/stein," image_exists = False try: image_exists = self._image_exists(t.target_image, target_session) except Exception: LOG.warning('Failed to check if the target ' 'image %s exists' % t.target_image) pass if t.modify_role and image_exists: target_session.close() # Keep the target session open yet try: source_inspect = self._inspect( t.source_image_url, session=source_session) source_layers = source_inspect.get('Layers', []) self._cross_repo_mount( t.target_image_url, self.image_layers, source_layers, session=target_session) except Exception: LOG.error('Failed uploading the target ' 'image %s' % t.target_image) raise finally: source_session.close() target_session.close() try: self._detect_target_export(t.target_image_url, target_session) except Exception: LOG.error('Failed uploading the target image %s' % t.target_image) # Close the session before raising it for more of retrying perhaps target_session.close() raise target_session.close() try: source_local_url = parse.urlparse(t.source_image) # Copy from local storage to target registry self._copy_local_to_registry( source_local_url, t.target_image_url, session=target_session ) except Exception: LOG.warning('Failed copying the target image %s ' 'to the target registry' % t.target_image) pass image_exists = False try: image_exists = self._image_exists(t.target_image, target_session) except Exception: LOG.warning('Failed to check if the target ' 'image %s exists' % t.target_image) pass if image_exists: # Keep the target session open yet try: self._collect_manifests_layers( t.source_image_url, source_session, manifests_str, source_layers, t.multi_arch ) self._cross_repo_mount( copy_target_url, self.image_layers, source_layers, session=target_session) to_cleanup = [] # Copy unmodified images from source to target self._copy_registry_to_registry( t.source_image_url, copy_target_url, source_manifests=manifests_str, source_session=source_session, target_session=target_session, source_layers=source_layers, multi_arch=t.multi_arch ) except Exception: LOG.error('Failed uploading the target ' 'image %s' % t.target_image) # Close the sessions before raising it for more of # retrying perhaps source_session.close() target_session.close() raise try: self._copy_registry_to_local(t.target_image_source_tag_url) if t.cleanup in (CLEANUP_FULL, CLEANUP_PARTIAL): to_cleanup.append(t.target_image_source_tag) self.run_modify_playbook( t.modify_role, t.modify_vars, t.target_image_source_tag, t.target_image_source_tag, t.append_tag, container_build_tool='buildah') if t.cleanup == CLEANUP_FULL: to_cleanup.append(t.target_image) # cross-repo mount the unmodified image to the modified image self._cross_repo_mount( t.target_image_url, self.image_layers, source_layers, session=target_session) # Copy from local storage to target registry self._copy_local_to_registry( target_image_local_url, t.target_image_url, session=target_session ) except Exception: LOG.error('Failed processing the target ' 'image %s' % t.target_image) # Close the sessions before raising it for more of # retrying perhaps source_session.close() target_session.close() raise try: for layer in source_layers: self.image_layers.setdefault(layer, t.target_image_url) except Exception: LOG.warning('Failed setting default layer for the target ' 'image %s' % t.target_image) pass"," if t.modify_role and self._image_exists( t.target_image, target_session): source_inspect = self._inspect( t.source_image_url, session=source_session) source_layers = source_inspect.get('Layers', []) self._cross_repo_mount( t.target_image_url, self.image_layers, source_layers, session=target_session) self._detect_target_export(t.target_image_url, target_session) source_local_url = parse.urlparse(t.source_image) # Copy from local storage to target registry self._copy_local_to_registry( source_local_url, t.target_image_url, session=target_session ) if self._image_exists( t.target_image, target_session): self._collect_manifests_layers( t.source_image_url, source_session, manifests_str, source_layers, t.multi_arch ) self._cross_repo_mount( copy_target_url, self.image_layers, source_layers, session=target_session) to_cleanup = [] # Copy unmodified images from source to target self._copy_registry_to_registry( t.source_image_url, copy_target_url, source_manifests=manifests_str, source_session=source_session, target_session=target_session, source_layers=source_layers, multi_arch=t.multi_arch ) self._copy_registry_to_local(t.target_image_source_tag_url) if t.cleanup in (CLEANUP_FULL, CLEANUP_PARTIAL): to_cleanup.append(t.target_image_source_tag) self.run_modify_playbook( t.modify_role, t.modify_vars, t.target_image_source_tag, t.target_image_source_tag, t.append_tag, container_build_tool='buildah') if t.cleanup == CLEANUP_FULL: to_cleanup.append(t.target_image) # cross-repo mount the unmodified image to the modified image self._cross_repo_mount( t.target_image_url, self.image_layers, source_layers, session=target_session) # Copy from local storage to target registry self._copy_local_to_registry( target_image_local_url, t.target_image_url, session=target_session ) for layer in source_layers: self.image_layers.setdefault(layer, t.target_image_url) ",123,63
openstack%2Fceilometer-powervm~master~I1e989f2d2ab21cdeb45566a72b371cf607b0d9c6,openstack/ceilometer-powervm,master,I1e989f2d2ab21cdeb45566a72b371cf607b0d9c6,Update the constraints url,NEW,2019-09-29 02:54:50.000000000,2019-10-14 13:43:22.000000000,,"[{'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-09-29 02:54:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ceilometer-powervm/commit/ebbf2b5221266f7b390954de5d11cf9aff35f49f', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I1e989f2d2ab21cdeb45566a72b371cf607b0d9c6\n'}]",0,685570,ebbf2b5221266f7b390954de5d11cf9aff35f49f,11,5,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I1e989f2d2ab21cdeb45566a72b371cf607b0d9c6
",git fetch https://review.opendev.org/openstack/ceilometer-powervm refs/changes/70/685570/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ebbf2b5221266f7b390954de5d11cf9aff35f49f,constraints, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},2,2
openstack%2Fopenstack-ansible-tests~stable%2Fstein~I7c41f560251e16256a5d109fddedee189eb12664,openstack/openstack-ansible-tests,stable/stein,I7c41f560251e16256a5d109fddedee189eb12664,Temporary overwrite of the infra mirror for debian security repo,MERGED,2019-10-10 16:18:29.000000000,2019-10-14 13:42:01.000000000,2019-10-14 13:40:52.000000000,"[{'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-10 16:18:29.000000000', 'files': ['run_tests_common.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/9b3ba4e88585b960da01afe495d3f15589343a9d', 'message': 'Temporary overwrite of the infra mirror for debian security repo\n\nChange-Id: I7c41f560251e16256a5d109fddedee189eb12664\n(cherry picked from commit 26a329d79f111090e17fb868e550a580bbd304af)\n'}]",0,687950,9b3ba4e88585b960da01afe495d3f15589343a9d,8,3,1,25023,,,0,"Temporary overwrite of the infra mirror for debian security repo

Change-Id: I7c41f560251e16256a5d109fddedee189eb12664
(cherry picked from commit 26a329d79f111090e17fb868e550a580bbd304af)
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/50/687950/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests_common.sh'],1,9b3ba4e88585b960da01afe495d3f15589343a9d,," # NOTE(jrosser) remove this once infra debian images point to the upstream security repo if `/bin/grep -q ""stretch"" /etc/os-release` && [ -f ""/etc/apt/sources.list.d/security.list"" ]; then echo 'deb http://security.debian.org stretch/updates main contrib' | sudo tee /etc/apt/sources.list.d/security.list > /dev/null fi",,4,0
openstack%2Fcookbook-openstackclient~master~I5d2c4d5c61256dcd7d00dc3007df966b350b66b3,openstack/cookbook-openstackclient,master,I5d2c4d5c61256dcd7d00dc3007df966b350b66b3,Bump version of fog-openstack gem,MERGED,2019-10-11 09:24:54.000000000,2019-10-14 13:37:35.000000000,2019-10-14 13:37:34.000000000,"[{'_account_id': 17499}, {'_account_id': 21961}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-11 09:24:54.000000000', 'files': ['metadata.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstackclient/commit/573bdf721df206e7dc2af51c1191ddbd945caa5f', 'message': 'Bump version of fog-openstack gem\n\nThe new version contains the fix for the issue we were having with\nspecifying the endpoint_type for connections [0].\n\n[0} https://github.com/fog/fog-openstack/pull/494\n\nChange-Id: I5d2c4d5c61256dcd7d00dc3007df966b350b66b3\n'}]",0,688088,573bdf721df206e7dc2af51c1191ddbd945caa5f,10,5,1,13252,,,0,"Bump version of fog-openstack gem

The new version contains the fix for the issue we were having with
specifying the endpoint_type for connections [0].

[0} https://github.com/fog/fog-openstack/pull/494

Change-Id: I5d2c4d5c61256dcd7d00dc3007df966b350b66b3
",git fetch https://review.opendev.org/openstack/cookbook-openstackclient refs/changes/88/688088/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.rb'],1,573bdf721df206e7dc2af51c1191ddbd945caa5f,bump-fog-os,"gem 'fog-openstack', '= 1.0.10'","gem 'fog-openstack', '= 1.0.8'",1,1
openstack%2Fnetworking-ovn~stable%2Fstein~Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f,openstack/networking-ovn,stable/stein,Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f,Add specified vip address when create vip,MERGED,2019-10-01 13:03:13.000000000,2019-10-14 13:33:45.000000000,2019-10-14 13:32:25.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 29874}]","[{'number': 1, 'created': '2019-10-01 13:03:13.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3cee8b8201e5c7e9ca7a020c845490cf921bff4c', 'message': 'Add specified vip address when create vip\n\nIt is invalid when create lb with parameter "" --vip-address"".\nThis patch add vip address to vip_port in create_vip_port method.\n\nChange-Id: Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f\nCloses-Bug: #1835184\n(cherry picked from commit ba5304bbf902fe1742825804495e64006fad504c)\n'}]",0,685958,3cee8b8201e5c7e9ca7a020c845490cf921bff4c,22,6,1,24791,,,0,"Add specified vip address when create vip

It is invalid when create lb with parameter "" --vip-address"".
This patch add vip address to vip_port in create_vip_port method.

Change-Id: Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f
Closes-Bug: #1835184
(cherry picked from commit ba5304bbf902fe1742825804495e64006fad504c)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/58/685958/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py']",2,3cee8b8201e5c7e9ca7a020c845490cf921bff4c,ovn-provider-driver-stein-cherry-picks," self.vip_dict = {'vip_network_id': uuidutils.generate_uuid(), 'vip_subnet_id': uuidutils.generate_uuid()} self.vip_output = {'vip_network_id': self.vip_dict['vip_network_id'], 'vip_subnet_id': self.vip_dict['vip_subnet_id']} self.assertIsNotNone(port_dict.pop('vip_port_id', None)) # The network_driver function is mocked, therefore the # created port vip_address and vip_port_id are also mocked. # Check if it exists and move on. # The finally output is include vip_address, vip_port_id, # vip_network_id and vip_subnet_id. for key, value in port_dict.items(): self.assertEqual(value, self.vip_output[key]) def test_create_vip_port_vip_selected(self): expected_dict = { 'port': {'name': '%s%s' % (ovn_const.LB_VIP_PORT_PREFIX, self.loadbalancer_id), 'fixed_ips': [{'subnet_id': self.vip_dict['vip_subnet_id'], 'ip_address':'10.1.10.1'}], 'network_id': self.vip_dict['vip_network_id'], 'admin_state_up': True, 'project_id': self.project_id}} with mock.patch.object(ovn_driver, 'get_network_driver') as gn: self.vip_dict['vip_address'] = '10.1.10.1' self.helper.create_vip_port(self.project_id, self.loadbalancer_id, self.vip_dict) expected_call = [ mock.call().neutron_client.create_port(expected_dict)] gn.assert_has_calls(expected_call) def test_create_vip_port_vip_not_selected(self): expected_dict = { 'port': {'name': '%s%s' % (ovn_const.LB_VIP_PORT_PREFIX, self.loadbalancer_id), 'fixed_ips': [{'subnet_id': self.vip_dict['vip_subnet_id']}], 'network_id': self.vip_dict['vip_network_id'], 'admin_state_up': True, 'project_id': self.project_id}} with mock.patch.object(ovn_driver, 'get_network_driver') as gn: self.helper.create_vip_port(self.project_id, self.loadbalancer_id, self.vip_dict) expected_call = [ mock.call().neutron_client.create_port(expected_dict)] gn.assert_has_calls(expected_call)"," self.vip_dict = {'vip_network_id': uuidutils.generate_uuid(), 'vip_subnet_id': uuidutils.generate_uuid()} self.vip_output = {'vip_network_id': self.vip_dict['vip_network_id'], 'vip_subnet_id': self.vip_dict['vip_subnet_id']} for key, value in self.vip_output.items(): self.assertEqual(value, port_dict[key]) self.vip_dict['vip_address'] = '10.1.10.1' port_dict = self.driver.create_vip_port(self.loadbalancer_id, self.project_id, self.vip_dict) # The network_driver function is mocked, therefore the # created port vip_address is also mocked. Check if it exists # and move on. for key, value in self.vip_output.items(): self.assertEqual(value, port_dict[key])",52,15
openstack%2Freleases~master~Id6ffe6db37ecb6e1dba06861a8b614f53784a405,openstack/releases,master,Id6ffe6db37ecb6e1dba06861a8b614f53784a405,pymod2pkg: Release 0.22.2,MERGED,2019-10-11 14:34:18.000000000,2019-10-14 13:33:19.000000000,2019-10-14 13:33:19.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 13294}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-11 14:34:18.000000000', 'files': ['deliverables/_independent/pymod2pkg.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2902a702547446f65fb59359bc4e9ac2d2c1bf2e', 'message': 'pymod2pkg: Release 0.22.2\n\nThis release contains some bug fixes for RDO mappings.\n\nChange-Id: Id6ffe6db37ecb6e1dba06861a8b614f53784a405\n'}]",0,688135,2902a702547446f65fb59359bc4e9ac2d2c1bf2e,10,6,1,7102,,,0,"pymod2pkg: Release 0.22.2

This release contains some bug fixes for RDO mappings.

Change-Id: Id6ffe6db37ecb6e1dba06861a8b614f53784a405
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/688135/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/pymod2pkg.yaml'],1,2902a702547446f65fb59359bc4e9ac2d2c1bf2e,, - version: 0.22.2 projects: - repo: openstack/pymod2pkg hash: 7f6c72d97b9b787ba84433823ca1ca867d129b5b,,4,0
openstack%2Fkuryr-kubernetes~master~Id5fc215f78fb5ba1dc75f6764d87afa8d5bd23f5,openstack/kuryr-kubernetes,master,Id5fc215f78fb5ba1dc75f6764d87afa8d5bd23f5,Get rid of v1beta1 API version in ds/deployment,MERGED,2019-10-03 14:42:09.000000000,2019-10-14 13:25:58.000000000,2019-10-14 13:24:25.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14570}, {'_account_id': 17130}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 25900}, {'_account_id': 26297}, {'_account_id': 27032}, {'_account_id': 27781}, {'_account_id': 28082}, {'_account_id': 28396}]","[{'number': 1, 'created': '2019-10-03 14:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c1cb93684e34a456155a5e76c487da18d4dfbbb3', 'message': 'Get rid of v1beta1 API version in ds/deployment\n\nChange-Id: Id5fc215f78fb5ba1dc75f6764d87afa8d5bd23f5\nImplements: blueprint move-to-v1-api-from-v1beta1-api\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n'}, {'number': 2, 'created': '2019-10-04 13:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e096c5d49bc5fbd9d87dab8931f4900e75dbe896', 'message': 'Get rid of v1beta1 API version in ds/deployment\n\nChange-Id: Id5fc215f78fb5ba1dc75f6764d87afa8d5bd23f5\nImplements: blueprint move-to-v1-api-from-v1beta1-api\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n'}, {'number': 3, 'created': '2019-10-10 06:31:19.000000000', 'files': ['devstack/plugin.sh', 'devstack/lib/kuryr_kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a5dafba3e61bf1d9ab3fa41a6cddf848e92284c4', 'message': 'Get rid of v1beta1 API version in ds/deployment\n\nHere are the changes necessary for k8s v1.16.0, but\napiVersion appeared in v1.9, so with current k8s v1.13.0\nit should work.\n\nChange-Id: Id5fc215f78fb5ba1dc75f6764d87afa8d5bd23f5\nImplements: blueprint move-to-v1-api-from-v1beta1-api\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n'}]",2,686417,a5dafba3e61bf1d9ab3fa41a6cddf848e92284c4,42,14,3,28396,,,0,"Get rid of v1beta1 API version in ds/deployment

Here are the changes necessary for k8s v1.16.0, but
apiVersion appeared in v1.9, so with current k8s v1.13.0
it should work.

Change-Id: Id5fc215f78fb5ba1dc75f6764d87afa8d5bd23f5
Implements: blueprint move-to-v1-api-from-v1beta1-api
Signed-off-by: Alexey Perevalov <a.perevalov@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/17/686417/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/kuryr_kubernetes'],1,c1cb93684e34a456155a5e76c487da18d4dfbbb3,,apiVersion: rbac.authorization.k8s.io/v1apiVersion: rbac.authorization.k8s.io/v1apiVersion: apps/v1 selector: matchLabels: name: kuryr-controllerapiVersion: apps/v1 selector: matchLabels: app: kuryr,apiVersion: rbac.authorization.k8s.io/v1beta1apiVersion: rbac.authorization.k8s.io/v1beta1apiVersion: apps/v1beta1apiVersion: extensions/v1beta1,10,4
openstack%2Fkayobe~master~Idc96523a5108712a072b14889b1fba0f05c381e8,openstack/kayobe,master,Idc96523a5108712a072b14889b1fba0f05c381e8,format pxe_append_params as string and not a list,MERGED,2019-10-11 10:27:50.000000000,2019-10-14 13:25:50.000000000,2019-10-14 13:08:00.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 10:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/330d3e0f4d1b004487e96279d8735092d70cec7a', 'message': 'format pxe_append_params as string and not a list\n\nPlease see: https://docs.openstack.org/ironic/latest/configuration/sample-config.html\n\nChange-Id: Idc96523a5108712a072b14889b1fba0f05c381e8\nStory: 2006707\n'}, {'number': 2, 'created': '2019-10-11 11:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/909f7a80fbb79390e24d4435e7caa94d6aeb4826', 'message': 'format pxe_append_params as string and not a list\n\nPlease see: https://docs.openstack.org/ironic/latest/configuration/sample-config.html\n\nChange-Id: Idc96523a5108712a072b14889b1fba0f05c381e8\nStory: 2006707\nTask: 37067\n'}, {'number': 3, 'created': '2019-10-14 09:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/071d9609a3a402e7846ef9b8aff8d78c5ba80f04', 'message': 'format pxe_append_params as string and not a list\n\nPlease see: https://docs.openstack.org/ironic/latest/configuration/sample-config.html\n\nChange-Id: Idc96523a5108712a072b14889b1fba0f05c381e8\nStory: 2006707\nTask: 37067\n'}, {'number': 4, 'created': '2019-10-14 09:22:50.000000000', 'files': ['ansible/roles/kolla-openstack/templates/ironic.conf.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6430ec5261da83d4e4ad05cd55decede427e3856', 'message': 'format pxe_append_params as string and not a list\n\nPlease see: https://docs.openstack.org/ironic/latest/configuration/sample-config.html\n\nChange-Id: Idc96523a5108712a072b14889b1fba0f05c381e8\nStory: 2006707\nTask: 37067\n'}]",1,688102,6430ec5261da83d4e4ad05cd55decede427e3856,16,3,4,28048,,,0,"format pxe_append_params as string and not a list

Please see: https://docs.openstack.org/ironic/latest/configuration/sample-config.html

Change-Id: Idc96523a5108712a072b14889b1fba0f05c381e8
Story: 2006707
Task: 37067
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/02/688102/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kolla-openstack/templates/ironic.conf.j2'],1,330d3e0f4d1b004487e96279d8735092d70cec7a,dual1,pxe_append_params = {{ kolla_ironic_pxe_append_params | join(' ') }},"pxe_append_params = {{ kolla_ironic_pxe_append_params | join(',') }}",1,1
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Frocky~Iba966b14c97cc3bfc0d6effe7a3df7b588639cfb,openstack/openstack-ansible-lxc_container_create,stable/rocky,Iba966b14c97cc3bfc0d6effe7a3df7b588639cfb,Fix path of pre-up-down oneshot service file,MERGED,2019-07-30 21:34:58.000000000,2019-10-14 13:24:28.000000000,2019-10-14 13:24:27.000000000,"[{'_account_id': 14805}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-07-30 21:34:58.000000000', 'files': ['tasks/lxc_container_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/2d63692050dc74f584cbb15dba97e567985dd2db', 'message': 'Fix path of pre-up-down oneshot service file\n\nThe pre-up-down oneshot service template was mistakenly being written to\nthe same path as the post-up-down oneshot service file.\n\nChange-Id: Iba966b14c97cc3bfc0d6effe7a3df7b588639cfb\n(cherry picked from commit 605bfb83fec3edd338c4be15626630deca00612a)\n'}]",0,673695,2d63692050dc74f584cbb15dba97e567985dd2db,15,4,1,14805,,,0,"Fix path of pre-up-down oneshot service file

The pre-up-down oneshot service template was mistakenly being written to
the same path as the post-up-down oneshot service file.

Change-Id: Iba966b14c97cc3bfc0d6effe7a3df7b588639cfb
(cherry picked from commit 605bfb83fec3edd338c4be15626630deca00612a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/95/673695/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_container_config.yml'],1,2d63692050dc74f584cbb15dba97e567985dd2db,pre-up-service-file-stable/rocky,"- name: Create post-up-down oneshot service- name: Create pre-up-down oneshot service dest: ""/etc/systemd/system/pre-up-down-{{ item.value.interface }}.service""","- name: Create post-up-down onshot service- name: Create pre-up-down onshot service dest: ""/etc/systemd/system/post-up-down-{{ item.value.interface }}.service""",3,3
openstack%2Fopenstack-ansible-plugins~master~Id4bc4ab87ac4b60121290ad6cbbd143962357d39,openstack/openstack-ansible-plugins,master,Id4bc4ab87ac4b60121290ad6cbbd143962357d39,Removing unused filters from osa plugins,MERGED,2019-09-20 09:07:15.000000000,2019-10-14 13:21:33.000000000,2019-10-14 13:20:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-09-20 09:07:15.000000000', 'files': ['filter/osa-filters.py', 'doc/source/filters.rst', 'tests/test-filters.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/24fe4789c89ca822bea3b3f01fa889f6b32002e4', 'message': 'Removing unused filters from osa plugins\n\npip_constraint_update, filtered_list,\ngit_link_parse, git_link_parse_name filters\nhave no reference inside OSA\nhence removing these filters.\n\nChange-Id: Id4bc4ab87ac4b60121290ad6cbbd143962357d39\nCloses-Bug: #1826245\n'}]",0,683326,24fe4789c89ca822bea3b3f01fa889f6b32002e4,8,3,1,31004,,,0,"Removing unused filters from osa plugins

pip_constraint_update, filtered_list,
git_link_parse, git_link_parse_name filters
have no reference inside OSA
hence removing these filters.

Change-Id: Id4bc4ab87ac4b60121290ad6cbbd143962357d39
Closes-Bug: #1826245
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/26/683326/1 && git format-patch -1 --stdout FETCH_HEAD,"['filter/osa-filters.py', 'doc/source/filters.rst', 'tests/test-filters.yml']",3,24fe4789c89ca822bea3b3f01fa889f6b32002e4,bug/1826245,," - name: Set pip package filter facts set_fact: pip_package_list_constraint_filtered: ""{{ pip_package_list_1 | pip_constraint_update(pip_package_list_2) }}"" - name: Validate pip requirement filters assert: that: - ""pip_package_list_constraint_filtered == pip_package_list_merged"" - name: Set git link parse filter facts set_fact: git_repo_link_parse_filtered: ""{{ git_repo | git_link_parse }}"" git_repo_link_parse_name_filtered: ""{{ git_repo | git_link_parse_name }}"" - name: Validate git link parse filters assert: that: - ""git_repo_link_parse_filtered == git_repo_link_parts"" - ""git_repo_link_parse_name_filtered == git_repo_name""",0,143
openstack%2Fkolla-ansible~master~If14fab7d7997f1a324cd3335d627868de3fafd8a,openstack/kolla-ansible,master,If14fab7d7997f1a324cd3335d627868de3fafd8a,setup.cfg: Cleanup,MERGED,2019-10-13 03:59:18.000000000,2019-10-14 13:16:18.000000000,2019-10-14 13:14:23.000000000,"[{'_account_id': 17130}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-13 03:59:18.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/232a7fa873f42a4307499abe587114cee2a7ea62', 'message': ""setup.cfg: Cleanup\n\n- pbr hasn't need the hook configuration since forever [1]\n\n[1] https://github.com/openstack/pbr/commit/c84876dc0f559a66fec19b2f81f5717204b253e2\n\nChange-Id: If14fab7d7997f1a324cd3335d627868de3fafd8a\n""}]",0,688293,232a7fa873f42a4307499abe587114cee2a7ea62,15,6,1,28743,,,0,"setup.cfg: Cleanup

- pbr hasn't need the hook configuration since forever [1]

[1] https://github.com/openstack/pbr/commit/c84876dc0f559a66fec19b2f81f5717204b253e2

Change-Id: If14fab7d7997f1a324cd3335d627868de3fafd8a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/688293/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,232a7fa873f42a4307499abe587114cee2a7ea62,,,[global] setup-hooks = pbr.hooks.setup_hook ,0,4
openstack%2Fcharm-interface-placement~master~I632ad01063996593a0d3794f79dacea15794e5e9,openstack/charm-interface-placement,master,I632ad01063996593a0d3794f79dacea15794e5e9,Initial Commit,MERGED,2019-10-10 14:26:41.000000000,2019-10-14 13:01:37.000000000,2019-10-14 13:01:36.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 14:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-placement/commit/2426d1723e869a32b1f1e6fe523f091edf7c023c', 'message': 'Initial Commit\n\nChange-Id: I632ad01063996593a0d3794f79dacea15794e5e9\n'}, {'number': 2, 'created': '2019-10-10 14:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-placement/commit/1609b8d5bf0686d4e7b90303297e976874f8007a', 'message': 'Initial Commit\n\nChange-Id: I632ad01063996593a0d3794f79dacea15794e5e9\n'}, {'number': 3, 'created': '2019-10-10 18:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-placement/commit/15fdc27f1052468cb4e351973c74e0f336402a1f', 'message': 'Initial Commit\n\nChange-Id: I632ad01063996593a0d3794f79dacea15794e5e9\n'}, {'number': 4, 'created': '2019-10-10 19:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-placement/commit/ad32e655a5206f6b48b47b2a09555ddb8208123e', 'message': 'Initial Commit\n\nChange-Id: I632ad01063996593a0d3794f79dacea15794e5e9\n'}, {'number': 5, 'created': '2019-10-10 20:07:40.000000000', 'files': ['copyright', '.gitignore', 'unit_tests/test_provides.py', 'test-requirements.txt', 'provides.py', 'interface.yaml', '.zuul.yaml', 'unit_tests/__init__.py', 'LICENSE', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/charm-interface-placement/commit/9704f6cd6080d69294c9e0e0a6f073a16f387775', 'message': 'Initial Commit\n\nChange-Id: I632ad01063996593a0d3794f79dacea15794e5e9\nNeeded-By: https://review.opendev.org/#/c/687915/\n'}]",0,687911,9704f6cd6080d69294c9e0e0a6f073a16f387775,19,3,5,11805,,,0,"Initial Commit

Change-Id: I632ad01063996593a0d3794f79dacea15794e5e9
Needed-By: https://review.opendev.org/#/c/687915/
",git fetch https://review.opendev.org/openstack/charm-interface-placement refs/changes/11/687911/5 && git format-patch -1 --stdout FETCH_HEAD,"['copyright', '.gitignore', 'unit_tests/test_provides.py', 'test-requirements.txt', 'provides.py', 'interface.yaml', '.zuul.yaml', 'unit_tests/__init__.py', 'tox.ini', '.stestr.conf']",10,2426d1723e869a32b1f1e6fe523f091edf7c023c,charms-train-placement,[DEFAULT] test_path=./unit_tests top_dir=./ ,,278,0
openstack%2Fpython-ironic-inspector-client~stable%2Ftrain~Iaa5161c693f1b1a9d6765d3d7d8ed82ea154abb9,openstack/python-ironic-inspector-client,stable/train,Iaa5161c693f1b1a9d6765d3d7d8ed82ea154abb9,Recover the functional test,MERGED,2019-09-27 09:06:13.000000000,2019-10-14 13:00:12.000000000,2019-10-14 12:58:01.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-09-27 09:06:13.000000000', 'files': ['test-requirements.txt', 'ironic_inspector_client/test/functional.py', 'functest-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/3a411274c261d66b1d5cfb803c0d4322ccd279f6', 'message': ""Recover the functional test\n\nThere are two issues currently:\n* The ironic-inspector version we're pinning to is not compatible\n  with ironicclient 3.0.0+\n* The way we invoke OSC is not compatible with OSC 4.0.0+\n\nThe latter is trivial to fix by switching to --os-auth-type=none.\n\nUpdating ironic-inspector pulls in problems with importing\nironic_inspector.common.swift. Fortunately, ironic-inspector's\nown functional tests have switching to the database backend for\nintrospection data, so just follow the pack.\n\nFinally, the hacking requirement is synchronized with inspector.\n\nChange-Id: Iaa5161c693f1b1a9d6765d3d7d8ed82ea154abb9\n(cherry picked from commit 36fc130a2c3d523e0563d345807b640b9b1c7583)\n""}]",0,685255,3a411274c261d66b1d5cfb803c0d4322ccd279f6,9,4,1,10239,,,0,"Recover the functional test

There are two issues currently:
* The ironic-inspector version we're pinning to is not compatible
  with ironicclient 3.0.0+
* The way we invoke OSC is not compatible with OSC 4.0.0+

The latter is trivial to fix by switching to --os-auth-type=none.

Updating ironic-inspector pulls in problems with importing
ironic_inspector.common.swift. Fortunately, ironic-inspector's
own functional tests have switching to the database backend for
introspection data, so just follow the pack.

Finally, the hacking requirement is synchronized with inspector.

Change-Id: Iaa5161c693f1b1a9d6765d3d7d8ed82ea154abb9
(cherry picked from commit 36fc130a2c3d523e0563d345807b640b9b1c7583)
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/55/685255/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'ironic_inspector_client/test/functional.py', 'functest-requirements.txt']",3,3a411274c261d66b1d5cfb803c0d4322ccd279f6,func-data-stable/train,"# Last updated: Sep 26, 2019 (Train cycle). git+https://opendev.org/openstack/ironic-inspector@0c154991cebeab0abfd2499f95dc704ef046e09f#egg=ironic-inspector -r https://opendev.org/openstack/ironic-inspector/raw/commit/0c154991cebeab0abfd2499f95dc704ef046e09f/test-requirements.txt ",git+https://opendev.org/openstack/ironic-inspector@be3f7eec18ad13dd6d5a94fe2963b45456fad19e#egg=ironic-inspector -r https://opendev.org/openstack/ironic-inspector/raw/commit/be3f7eec18ad13dd6d5a94fe2963b45456fad19e/test-requirements.txt,11,25
openstack%2Fkuryr-kubernetes~master~I12f1e9fbeeb57a38153e69bb44df1c27a3456884,openstack/kuryr-kubernetes,master,I12f1e9fbeeb57a38153e69bb44df1c27a3456884,Add a loadbalancer CRD,ABANDONED,2019-10-14 12:33:03.000000000,2019-10-14 12:48:21.000000000,,[],"[{'number': 1, 'created': '2019-10-14 12:33:03.000000000', 'files': ['devstack/plugin.sh', 'devstack/lib/kuryr_kubernetes', 'kubernetes_crds/kuryrloadbalancer.yaml', 'kuryr_kubernetes/constants.py', 'kuryr_kubernetes/tests/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/83b098312325707e0317f25b6657c171058b7b4b', 'message': ""Add a loadbalancer CRD\n\nThis commit adds CRD to Kuryr that contains informations about\nservice's annotations and endpoints' annotations, also it is\nensured that CRD is created on the cluster when using devstack.\n\nChange-Id: I12f1e9fbeeb57a38153e69bb44df1c27a3456884\n""}]",0,688397,83b098312325707e0317f25b6657c171058b7b4b,2,0,1,30963,,,0,"Add a loadbalancer CRD

This commit adds CRD to Kuryr that contains informations about
service's annotations and endpoints' annotations, also it is
ensured that CRD is created on the cluster when using devstack.

Change-Id: I12f1e9fbeeb57a38153e69bb44df1c27a3456884
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/97/688397/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/lib/kuryr_kubernetes', 'kubernetes_crds/kuryrloadbalancer.yaml', 'kuryr_kubernetes/constants.py', 'kuryr_kubernetes/tests/unit/test_utils.py']",5,83b098312325707e0317f25b6657c171058b7b4b,bp/move-svc-annotations-to-crds," k_const.K8S_API_CRD_KURYRNETPOLICIES, k_const.K8S_API_CRD_KURYRLOADBALANCERS] ", k_const.K8S_API_CRD_KURYRNETPOLICIES],200,1
openstack%2Fkuryr-kubernetes~master~Ie8c5e22741015a3417c7ab143d3c6dd0b4b8062d,openstack/kuryr-kubernetes,master,Ie8c5e22741015a3417c7ab143d3c6dd0b4b8062d,Improve LOG messaging,MERGED,2019-10-11 14:00:19.000000000,2019-10-14 12:30:22.000000000,2019-10-14 11:14:28.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-10-11 14:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4c712d8b2a746070ca3d2ab1ffe26ee37b487534', 'message': 'Improve LOG messaging\n\nChanging exception logging by debug info. That is the expected\nbehavior when a pod is created right after creating the namespace\nsince the namespaces resources may take some time (seconds) to be\ncreated. This ensures the user is not misled due to the\nkuryr-controller logs.\n\nChange-Id: Ie8c5e22741015a3417c7ab143d3c6dd0b4b8062d\n'}, {'number': 2, 'created': '2019-10-11 16:01:00.000000000', 'files': ['kuryr_kubernetes/controller/drivers/namespace_security_groups.py', 'kuryr_kubernetes/controller/drivers/namespace_subnet.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/19580e32bb6aa3dcf278c90e8730a18e2044d330', 'message': 'Improve LOG messaging\n\nChanging exception logging by debug info. That is the expected\nbehavior when a pod is created right after creating the namespace\nsince the namespaces resources may take some time (seconds) to be\ncreated. This ensures the user is not misled due to the\nkuryr-controller logs.\n\nChange-Id: Ie8c5e22741015a3417c7ab143d3c6dd0b4b8062d\n'}]",0,688130,19580e32bb6aa3dcf278c90e8730a18e2044d330,15,5,2,23567,,,0,"Improve LOG messaging

Changing exception logging by debug info. That is the expected
behavior when a pod is created right after creating the namespace
since the namespaces resources may take some time (seconds) to be
created. This ensures the user is not misled due to the
kuryr-controller logs.

Change-Id: Ie8c5e22741015a3417c7ab143d3c6dd0b4b8062d
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/30/688130/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/namespace_security_groups.py'],1,4c712d8b2a746070ca3d2ab1ffe26ee37b487534,crd-debug-msg," LOG.debug(""Namespace missing CRD annotations for selecting the "" ""corresponding security group. Action will be retried."")"," LOG.exception(""Namespace missing CRD annotations for selecting "" ""the corresponding security group."")",2,2
openstack%2Fironic~master~I18aa79774c0b562bf1e8b973db3d7860a01367e7,openstack/ironic,master,I18aa79774c0b562bf1e8b973db3d7860a01367e7,DRAC: Fix a bug for delete_config with multiple controllers,MERGED,2019-09-06 11:07:15.000000000,2019-10-14 12:19:02.000000000,2019-10-11 20:21:15.000000000,"[{'_account_id': 7160}, {'_account_id': 8580}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 10379}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 26340}, {'_account_id': 29405}]","[{'number': 1, 'created': '2019-09-06 11:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4da3c6a891f033580f80673c7f32ac08c09d49a8', 'message': 'DRAC: Fix a bug for delete_configuration with multiple controllers\n\nNeed to fix a bug where host has two controllers and executes\ndelete_configuration cleaning step in a such a way it should\nfirst create configuration job for the controller which supports realtime\nand then for the other controllers\n\nStory: 2006502\nTask : 36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 2, 'created': '2019-09-06 11:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/92e3f1c12669ff55810e0b3af37352ddaec3b58d', 'message': 'DRAC: Fix a bug for delete_configuration with multiple controllers\n\nNeed to fix a bug where host has two controllers and executes\ndelete_configuration cleaning step in a such a way it should\nfirst create configuration job for the controller which supports realtime\nand then for the other controllers\n\nStory: 2006502\nTask : 36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 3, 'created': '2019-09-06 14:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/306da9be088d7882720bab558a758ab6a0168605', 'message': 'DRAC: Fix a bug for delete_configuration with multiple controllers\n\nNeed to fix a bug where host has multiple controllers and executes\ndelete_configuration cleaning step in a such a way it should\nfirst create configuration job for the controller which supports realtime\nand then for the other controllers\n\nStory: 2006502\nTask : 36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 4, 'created': '2019-09-06 14:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ee6f7f5c8c0e9ce79238136b2285faa43356324d', 'message': 'DRAC: Fix a bug for delete_configuration with multiple controllers\n\nNeed to fix a bug where host has two controllers and executes\ndelete_configuration cleaning step in a such a way it should\nfirst create configuration job for the controller which supports realtime\nand then for the other controllers\n\nStory: 2006502\nTask : 36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 5, 'created': '2019-09-10 07:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3d191aef26a6677be427bc77d9f96dd795707568', 'message': 'DRAC: Fix a bug for delete_configuration with multiple controllers\n\nNeed to fix a bug where host has two controllers and executes\ndelete_configuration cleaning step in a such a way it should\nfirst create configuration job for the controller which supports realtime\nand then for the other controllers\n\nStory: #2006502\nTask:  #36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 6, 'created': '2019-09-10 07:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f389a8701aa80f6261fbd0265699570a5ede60ec', 'message': 'DRAC: Fix a bug for delete_configuration with multiple controllers\n\nNeed to fix a bug where baremetal server has multiple controllers and\nexecutes delete_configuration clean step in a such a way it should\nfirst create configuration job for the RAID controller which supports\nrealtime and then for the other controllers\n\nStory:#2006502\nTask: #36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 7, 'created': '2019-09-10 08:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6e559ec16be16cf526de2358f826b7d3fd39eb83', 'message': 'DRAC: Fix a bug for delete_configuration with multiple controllers\n\nNeed to fix a bug where baremetal server has multiple controllers and\nexecutes delete_configuration clean step in a such a way it should\nfirst create configuration job for the RAID controller which supports\nrealtime and then for the other controllers\n\nStory: #2006502\nTask: #36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 8, 'created': '2019-09-12 18:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/14d3a07c99228a8867b5702dd6ba8b437b0c1134', 'message': 'DRAC: Fix a bug for delete_configuration with multiple controllers\n\nNeed to fix a bug where host has two controllers and executes\ndelete_configuration cleaning step in a such a way it should\nfirst create configuration job for the controller which supports realtime\nand then for the other controllers\n\nStory: #2006502\nTask:  #36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 9, 'created': '2019-09-12 18:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1f57b71c02d805ffd2fa4a3e86e8c9879167eb57', 'message': 'DRAC: Fix a bug for delete_configuration with multiple controllers\n\nNeed to fix a bug where host has two controllers and executes\ndelete_configuration cleaning step in a such a way it should\nfirst create configuration job for the controller which supports\nrealtime and then for the other controllers.\n\nStory: #2006502\nTask: #36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 10, 'created': '2019-09-13 00:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/743fce848e049e322d24ddcbdad792ab81a6e52f', 'message': 'DRAC: Fix a bug for delete_configuration with multiple controllers\n\nNeed to fix a bug where host has two controllers and executes\ndelete_configuration cleaning step in a such a way it should\nfirst create configuration job for the controller which supports\nrealtime and then for the other controllers.\n\nStory: #2006502\nTask: #36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 11, 'created': '2019-09-18 10:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ee3d902302225a112c89e285e33467fbef695f86', 'message': 'DRAC: Fix a bug for delete_configuration with multiple controllers\n\nNeed to fix a bug where host has two controllers and executes\ndelete_configuration cleaning step in a such a way it should\nfirst create configuration job for the controller which supports\nrealtime and then for the other controllers.\n\nStory: #2006502\nTask: #36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 12, 'created': '2019-09-18 12:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d859fb16a33ae75d3cd028e43c250e0d532e0c32', 'message': 'DRAC: Fix a bug for delete_config with multiple controllers\n\nNeed to fix a bug where host has two controllers and executes\ndelete_configuration cleaning step in a such a way it should\nfirst create configuration job for the controller which supports\nrealtime and then for the other controllers.\n\nStory: #2006502\nTask: #36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 13, 'created': '2019-09-19 19:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d8ae19b5f3ea240b3964eb6ecca3e5ea672db2ab', 'message': 'DRAC: Fix a bug for delete_config with multiple controllers\n\nThis fix a bug where a race condition can occur on a host that\nhas a mix of controllers where some supports realtime mode and\nsome do not. The approach is to use only realtime mode if all\ncontrollers supports realtime.This removes the race condition.\n\nStory: #2006502\nTask: #36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 14, 'created': '2019-09-23 12:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1e224d655eb3108f7d558a393ca42d3cdd4dad1f', 'message': 'DRAC: Fix a bug for delete_config with multiple controllers\n\nThis fix a bug where a race condition can occur on a host that\nhas a mix of controllers where some supports realtime mode and\nsome do not. The approach is to use only realtime mode if all\ncontrollers supports realtime.This removes the race condition.\n\nStory: #2006502\nTask: #36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 15, 'created': '2019-09-24 10:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/72916a08cf455f6ea9bf80914c8e3f1b4696cbf2', 'message': 'DRAC: Fix a bug for delete_config with multiple controllers\n\nThis fix a bug where a race condition can occur on a host that\nhas a mix of controllers where some supports realtime mode and\nsome do not. The approach is to use only realtime mode if all\ncontrollers supports realtime. This removes the race condition.\n\nStory: #2006502\nTask: #36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 16, 'created': '2019-09-25 12:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/88e3c987e5270a58b661af61ecf61379bbde6b8c', 'message': 'DRAC: Fix a bug for delete_config with multiple controllers\n\nThis fix a bug where a race condition can occur on a host that\nhas a mix of controllers where some supports realtime mode and\nsome do not. The approach is to use only realtime mode if all\ncontrollers supports realtime. This removes the race condition.\n\nStory: #2006502\nTask: #36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 17, 'created': '2019-10-01 13:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9e7a8e71241bb56bd0b5d8ee154fe3f895df716f', 'message': 'DRAC: Fix a bug for delete_config with multiple controllers\n\nThis fix a bug where a race condition can occur on a host that\nhas a mix of controllers where some supports realtime mode and\nsome do not. The approach is to use only realtime mode if all\ncontrollers supports realtime. This removes the race condition.\n\nStory: #2006502\nTask: #36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 18, 'created': '2019-10-02 12:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/aab62b49f3ec48334afd926370f6be7168c6455d', 'message': 'DRAC: Fix a bug for delete_config with multiple controllers\n\nThis fix a bug where a race condition can occur on a host that\nhas a mix of controllers where some supports realtime mode and\nsome do not. The approach is to use only realtime mode if all\ncontrollers supports realtime. This removes the race condition.\n\nStory: #2006502\nTask: #36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 19, 'created': '2019-10-02 13:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fdae89a6cbb6b423af5bd6ff52eb3b59a3aae769', 'message': 'DRAC: Fix a bug for delete_config with multiple controllers\n\nThis fix a bug where a race condition can occur on a host that\nhas a mix of controllers where some supports realtime mode and\nsome do not. The approach is to use only realtime mode if all\ncontrollers supports realtime. This removes the race condition.\n\nStory: #2006502\nTask: #36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 20, 'created': '2019-10-02 13:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/76c1cab3728763059ab546393d3360fbb3714dcf', 'message': 'DRAC: Fix a bug for delete_config with multiple controllers\n\nThis fix a bug where a race condition can occur on a host that\nhas a mix of controllers where some supports realtime mode and\nsome do not. The approach is to use only realtime mode if all\ncontrollers supports realtime. This removes the race condition.\n\nStory: #2006502\nTask: #36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}, {'number': 21, 'created': '2019-10-03 13:38:19.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/raid.py', 'releasenotes/notes/fix-delete_configuration-with-multiple-controllers-06fc3fca94ba870f.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e4f3b7b813007b90a579b7d3f6c4990a6affeb39', 'message': 'DRAC: Fix a bug for delete_config with multiple controllers\n\nThis fix a bug where a race condition can occur on a host that\nhas a mix of controllers where some supports realtime mode and\nsome do not. The approach is to use only realtime mode if all\ncontrollers supports realtime. This removes the race condition.\n\nStory: #2006502\nTask: #36480\n\nChange-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7\n'}]",62,680660,e4f3b7b813007b90a579b7d3f6c4990a6affeb39,113,15,21,29405,,,0,"DRAC: Fix a bug for delete_config with multiple controllers

This fix a bug where a race condition can occur on a host that
has a mix of controllers where some supports realtime mode and
some do not. The approach is to use only realtime mode if all
controllers supports realtime. This removes the race condition.

Story: #2006502
Task: #36480

Change-Id: I18aa79774c0b562bf1e8b973db3d7860a01367e7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/60/680660/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/raid.py']",2,4da3c6a891f033580f80673c7f32ac08c09d49a8,sort_controllers,"from collections import dequedef _filter_controllers(controllers): final_controllers = deque() for controller in controllers: if controller['is_reboot_required'] == 'true': final_controllers.appendleft(controller) else: final_controllers.append(controller) return final_controllers job_id = commit_config(node, raid_controller=raid_controller, reboot=False if realtime else True, realtime=realtime) _all_controllers = _filter_controllers(controllers) return _commit_to_controllers(node, _all_controllers,"," all_realtime = True all_realtime = all_realtime and realtime if controller == controllers[-1]: job_id = commit_config(node, raid_controller=raid_controller, reboot=not all_realtime, realtime=realtime) else: job_id = commit_config(node, raid_controller=raid_controller, reboot=False, realtime=realtime) return _commit_to_controllers(node, controllers,",30,11
openstack%2Freleases~master~I98b6862de741bbaeee20035d19b12783982d376c,openstack/releases,master,I98b6862de741bbaeee20035d19b12783982d376c,Add stable-branch-type as 'none' for Tempest an Patrole,MERGED,2019-10-04 15:07:00.000000000,2019-10-14 12:05:22.000000000,2019-10-14 12:05:22.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 15:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/afce51ff8d6f490f627306eda524f738d19750e2', 'message': ""Add stable-branch-type as 'none' for Tempest an Patrole\n\nTempest and Patrole are with cycle_with_intermediary model\nbut does not need stable branch due to their branchless nature.\n\nThere are many confusion over creating the stable branch for Tempest\nand Patrole due to their current release model. To avoid that\nand make it explicitly, new stable-branch-type 'none' has been\nintroduced.\n- https://review.opendev.org/#/c/670808\n\nThis commit adding the stable-branch-type as none for Tempest\nand Patrole.\n\nChange-Id: I98b6862de741bbaeee20035d19b12783982d376c\n""}, {'number': 2, 'created': '2019-10-10 18:02:23.000000000', 'files': ['deliverables/train/patrole.yaml', 'deliverables/train/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/33163deffe184d6bcf71acf3cf62fd54b1b6d531', 'message': ""Add stable-branch-type as 'none' for Tempest an Patrole\n\nTempest and Patrole are with cycle_with_intermediary model\nbut does not need stable branch due to their branchless nature.\n\nThere are many confusion over creating the stable branch for Tempest\nand Patrole due to their current release model. To avoid that\nand make it explicitly, new stable-branch-type 'none' has been\nintroduced.\n- https://review.opendev.org/#/c/670808\n\nThis commit adding the stable-branch-type as none for Tempest\nand Patrole.\n\nChange-Id: I98b6862de741bbaeee20035d19b12783982d376c\n""}]",2,686743,33163deffe184d6bcf71acf3cf62fd54b1b6d531,14,5,2,8556,,,0,"Add stable-branch-type as 'none' for Tempest an Patrole

Tempest and Patrole are with cycle_with_intermediary model
but does not need stable branch due to their branchless nature.

There are many confusion over creating the stable branch for Tempest
and Patrole due to their current release model. To avoid that
and make it explicitly, new stable-branch-type 'none' has been
introduced.
- https://review.opendev.org/#/c/670808

This commit adding the stable-branch-type as none for Tempest
and Patrole.

Change-Id: I98b6862de741bbaeee20035d19b12783982d376c
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/686743/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/patrole.yaml', 'deliverables/train/tempest.yaml']",2,afce51ff8d6f490f627306eda524f738d19750e2,,stable-branch-type: none,,2,0
openstack%2Foctavia-tempest-plugin~master~I62c9901baf881260654e384b4f71d2da671bcf37,openstack/octavia-tempest-plugin,master,I62c9901baf881260654e384b4f71d2da671bcf37,DNM: test centos-minimal++,ABANDONED,2019-06-12 09:37:31.000000000,2019-10-14 11:35:37.000000000,,"[{'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-12 09:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/abf31a36e8051a0b18cf0b78168525b35a815210', 'message': 'DNM: testing CentOS\n\nChange-Id: I62c9901baf881260654e384b4f71d2da671bcf37\n'}, {'number': 2, 'created': '2019-06-12 09:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/fe49e4fae8e051b0690cdebeffd7b600a6d63171', 'message': 'DNM: testing CentOS\n\nChange-Id: I62c9901baf881260654e384b4f71d2da671bcf37\n'}, {'number': 3, 'created': '2019-06-12 17:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0a17dd9542f8394d466b1e92a485ba92328c816c', 'message': 'DNM: testing CentOS\n\nChange-Id: I62c9901baf881260654e384b4f71d2da671bcf37\n'}, {'number': 4, 'created': '2019-06-28 13:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/8844433281e6f6b56dc0c5f65a31516c78b6e6ff', 'message': 'DNM: testing CentOS\n\nChange-Id: I62c9901baf881260654e384b4f71d2da671bcf37\n'}, {'number': 5, 'created': '2019-07-01 21:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ddc71afca3028ec4783c589b66f2e8435ca45127', 'message': 'DNM: testing CentOS\n\nChange-Id: I62c9901baf881260654e384b4f71d2da671bcf37\n'}, {'number': 6, 'created': '2019-07-02 11:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7a3a2f9194d6eba0f1a34290712aa486bde81c44', 'message': 'DNM: testing CentOS\n\nChange-Id: I62c9901baf881260654e384b4f71d2da671bcf37\n'}, {'number': 7, 'created': '2019-07-02 13:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0d6dfc836d26778b031dc7598e1fdcbf0dd9b1a2', 'message': 'DNM: testing CentOS\n\nChange-Id: I62c9901baf881260654e384b4f71d2da671bcf37\n'}, {'number': 8, 'created': '2019-07-02 20:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d1ad9fdf626622950a93aa8d6568893a51a0540e', 'message': 'DNM: testing CentOS\n\nChange-Id: I62c9901baf881260654e384b4f71d2da671bcf37\n'}, {'number': 9, 'created': '2019-08-01 09:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e61c1041096fe3e83d719d86ced112e36f4015ed', 'message': 'DNM: test centos-minimal++\n\nDepends-On: https://review.opendev.org/#/c/672329/\nChange-Id: I62c9901baf881260654e384b4f71d2da671bcf37\n'}, {'number': 10, 'created': '2019-08-08 10:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3d4850ff708a74748574a3c80cc428b2150389dc', 'message': 'DNM: test centos-minimal++\n\nDepends-On: https://review.opendev.org/#/c/672329/\nChange-Id: I62c9901baf881260654e384b4f71d2da671bcf37\n'}, {'number': 11, 'created': '2019-08-08 15:38:41.000000000', 'files': ['octavia_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e12f5a08d78841f25fdbcee7984931004a0ec30b', 'message': 'DNM: test centos-minimal++\n\nDepends-On: https://review.opendev.org/#/c/672329/\nDepends-On: https://review.opendev.org/#/c/639155/\nChange-Id: I62c9901baf881260654e384b4f71d2da671bcf37\n'}]",1,664840,e12f5a08d78841f25fdbcee7984931004a0ec30b,33,2,11,6469,,,0,"DNM: test centos-minimal++

Depends-On: https://review.opendev.org/#/c/672329/
Depends-On: https://review.opendev.org/#/c/639155/
Change-Id: I62c9901baf881260654e384b4f71d2da671bcf37
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/40/664840/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,abf31a36e8051a0b18cf0b78168525b35a815210,, name: octavia-v2-dsvm-py2-scenario-ctrl-centos-7 parent: octavia-v2-dsvm-py2-scenario nodeset: devstack-single-node-centos-7 - job:, nodeset: devstack-single-node-centos-7,30,24
openstack%2Fnova~master~I1bc60eab58055bd6217ddb7c7c5c2e3bd6fb539e,openstack/nova,master,I1bc60eab58055bd6217ddb7c7c5c2e3bd6fb539e,setup.cfg: Cleanup,MERGED,2019-08-22 11:13:56.000000000,2019-10-14 11:13:49.000000000,2019-10-14 11:11:15.000000000,"[{'_account_id': 5263}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26297}, {'_account_id': 26515}, {'_account_id': 27781}, {'_account_id': 28543}, {'_account_id': 28614}, {'_account_id': 28935}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-22 11:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2a985eccb2e578bb2533a8be5827f85eec1dec6', 'message': ""setup.cfg: Cleanup\n\n- pbr hasn't need the hook configuration since forever [1]\n- We don't distribute eggs, so there's no need to include configuration\n  for same\n- nova-based entrypoints are grouped\n\nChange-Id: I1bc60eab58055bd6217ddb7c7c5c2e3bd6fb539e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-08-23 16:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7052a621ac634fc5371726133436d444c45081a9', 'message': ""setup.cfg: Cleanup\n\n- pbr hasn't need the hook configuration since forever [1]\n- We don't distribute eggs, so there's no need to include configuration\n  for same\n- nova-based entrypoints are grouped\n\n[1] https://github.com/openstack/pbr/commit/c84876dc0f559a66fec19b2f81f5717204b253e2\n\nChange-Id: I1bc60eab58055bd6217ddb7c7c5c2e3bd6fb539e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-08-26 10:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/226a76066d31d41beb969a7bcfeaf781d389d1f6', 'message': ""setup.cfg: Cleanup\n\n- pbr hasn't need the hook configuration since forever [1]\n- We don't distribute eggs, so there's no need to include configuration\n  for same\n- nova-based entrypoints are grouped\n- The 'wheel' group is renamed to 'bdist_wheel' [2]\n\n[1] https://github.com/openstack/pbr/commit/c84876dc0f559a66fec19b2f81f5717204b253e2\n[2] https://github.com/pypa/wheel/commit/f7c9878712390414c03c64e9afa55ea4f30e965b\n\nChange-Id: I1bc60eab58055bd6217ddb7c7c5c2e3bd6fb539e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-10-11 18:06:28.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/nova/commit/f223ae5828a7daf39043d621a741e0458ad5a35b', 'message': ""setup.cfg: Cleanup\n\n- pbr hasn't need the hook configuration since forever [1]\n- We don't distribute eggs, so there's no need to include configuration\n  for same\n- nova-based entrypoints are grouped\n- The 'wheel' group is renamed to 'bdist_wheel' [2]\n\n[1] https://github.com/openstack/pbr/commit/c84876dc0f559a66fec19b2f81f5717204b253e2\n[2] https://github.com/pypa/wheel/commit/f7c9878712390414c03c64e9afa55ea4f30e965b\n\nChange-Id: I1bc60eab58055bd6217ddb7c7c5c2e3bd6fb539e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",8,677969,f223ae5828a7daf39043d621a741e0458ad5a35b,57,22,4,15334,,,0,"setup.cfg: Cleanup

- pbr hasn't need the hook configuration since forever [1]
- We don't distribute eggs, so there's no need to include configuration
  for same
- nova-based entrypoints are grouped
- The 'wheel' group is renamed to 'bdist_wheel' [2]

[1] https://github.com/openstack/pbr/commit/c84876dc0f559a66fec19b2f81f5717204b253e2
[2] https://github.com/pypa/wheel/commit/f7c9878712390414c03c64e9afa55ea4f30e965b

Change-Id: I1bc60eab58055bd6217ddb7c7c5c2e3bd6fb539e
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/677969/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b2a985eccb2e578bb2533a8be5827f85eec1dec6,drop-python3-support,nova.ipv6_backend = rfc2462 = nova.ipv6.rfc2462 account_identifier = nova.ipv6.account_identifier nova.scheduler.driver = filter_scheduler = nova.scheduler.filter_scheduler:FilterScheduler fake_scheduler = nova.tests.unit.scheduler.fakes:FakeScheduler ,[global] setup-hooks = pbr.hooks.setup_hook nova.ipv6_backend = rfc2462 = nova.ipv6.rfc2462 account_identifier = nova.ipv6.account_identifier nova.scheduler.driver = filter_scheduler = nova.scheduler.filter_scheduler:FilterScheduler fake_scheduler = nova.tests.unit.scheduler.fakes:FakeScheduler [egg_info] tag_build = tag_date = 0 tag_svn_revision = 0 [wheel] universal = 1,9,20
openstack%2Ftempest~master~I5ba2552bacfdfba6dbdc26857c39fb9b850d794a,openstack/tempest,master,I5ba2552bacfdfba6dbdc26857c39fb9b850d794a,Remove timer and _log_request() calling,MERGED,2019-09-30 06:18:50.000000000,2019-10-14 11:12:28.000000000,2019-10-14 11:11:12.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-09-30 06:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6810b19a95cd1d397f638beace890a4b060e9913', 'message': 'Remove timer and _log_request() calling\n\nThis commit removes timers and _log_request() function calling since\nthey are already moved to the raw_request() method.\n\nChange-Id: I5ba2552bacfdfba6dbdc26857c39fb9b850d794a\n'}, {'number': 2, 'created': '2019-10-01 08:45:59.000000000', 'files': ['tempest/lib/services/identity/v3/versions_client.py', 'tempest/lib/services/image/v2/versions_client.py', 'tempest/lib/services/compute/versions_client.py', 'tempest/lib/services/volume/v3/versions_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/aadc88580132a62ae753523d0edf44685c35ef7f', 'message': 'Remove timer and _log_request() calling\n\nThis commit removes timers and _log_request() function calling since\nthey are already moved to the raw_request() method.\n\nChange-Id: I5ba2552bacfdfba6dbdc26857c39fb9b850d794a\n'}]",0,685654,aadc88580132a62ae753523d0edf44685c35ef7f,16,5,2,5689,,,0,"Remove timer and _log_request() calling

This commit removes timers and _log_request() function calling since
they are already moved to the raw_request() method.

Change-Id: I5ba2552bacfdfba6dbdc26857c39fb9b850d794a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/54/685654/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/identity/v3/versions_client.py', 'tempest/lib/services/compute/versions_client.py', 'tempest/lib/services/image/v2/versions_client.py', 'tempest/lib/services/volume/v3/versions_client.py']",4,6810b19a95cd1d397f638beace890a4b060e9913,remove-timer,," start = time.time() end = time.time() self._log_request('GET', version_url, resp, secs=(end - start), resp_body=body)",0,16
openstack%2Fkolla-ansible~stable%2Fstein~I53261d0403b983ab419bd44e705b89f7b7a1c316,openstack/kolla-ansible,stable/stein,I53261d0403b983ab419bd44e705b89f7b7a1c316,Remove /etc/hosts entries pointing hostname to localhost and prevent cloud-init to manage /etc/hosts,MERGED,2019-10-14 05:35:23.000000000,2019-10-14 11:05:49.000000000,2019-10-14 11:04:21.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-10-14 05:35:23.000000000', 'files': ['ansible/roles/baremetal/tasks/pre-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2349364a210d5b97a442c0c0a3925fb7f820e42e', 'message': 'Remove /etc/hosts entries pointing hostname to localhost and prevent\ncloud-init to manage /etc/hosts\n\n1) Ubuntu includes a line in /etc/hosts that makes the local hostname and\nnodename (if different) point to 127.0.1.1. This can break RabbitMQ,\nwhich expects the hostname to resolve to the API network address.\n\n2) The distribution might come with cloud-init installed, and manage_etc_hosts\nconfiguration enabled. If so, it will override the file /etc/hosts from cloud-init\ntemplates at every boot, which will break RabbitMQ.\n\nThis change fixes these issues.\n\nChange-Id: I53261d0403b983ab419bd44e705b89f7b7a1c316\nCloses-Bug: #1837699\n(cherry picked from commit 0b24a0f2f0880c35368581e3acc529672da665f8)\n'}]",0,688329,2349364a210d5b97a442c0c0a3925fb7f820e42e,10,4,1,30523,,,0,"Remove /etc/hosts entries pointing hostname to localhost and prevent
cloud-init to manage /etc/hosts

1) Ubuntu includes a line in /etc/hosts that makes the local hostname and
nodename (if different) point to 127.0.1.1. This can break RabbitMQ,
which expects the hostname to resolve to the API network address.

2) The distribution might come with cloud-init installed, and manage_etc_hosts
configuration enabled. If so, it will override the file /etc/hosts from cloud-init
templates at every boot, which will break RabbitMQ.

This change fixes these issues.

Change-Id: I53261d0403b983ab419bd44e705b89f7b7a1c316
Closes-Bug: #1837699
(cherry picked from commit 0b24a0f2f0880c35368581e3acc529672da665f8)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/29/688329/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/baremetal/tasks/pre-install.yml'],1,2349364a210d5b97a442c0c0a3925fb7f820e42e,bug/1837699-stable/stein,"# NOTE(mgoddard): Ubuntu includes a line in /etc/hosts that makes the local # hostname and nodename (if different) point to 127.0.1.1. This can break # RabbitMQ, which expects the hostname to resolve to the API network address. # Remove these troublesome entries. - name: Ensure hostname does not point to loopback in /etc/hosts lineinfile: dest: /etc/hosts regexp: ""^127.\\d+.\\d+.\\d+(\\s+{{ ansible_nodename }})?\\s+{{ ansible_hostname }}$"" state: absent become: True when: customize_etc_hosts | bool # NOTE(osmanlicilegi): The distribution might come with cloud-init installed, and manage_etc_hosts # configuration enabled. If so, it will override the file /etc/hosts from cloud-init templates at # every boot, which will break RabbitMQ. To prevent this happens, first we check whether cloud-init # has been installed, and then set manage_etc_hosts to false. - name: Check whether cloud-init has been installed, and ensure manage_etc_hosts is disabled block: - name: Ensure /etc/cloud/cloud.cfg exists stat: path: /etc/cloud/cloud.cfg register: cloud_init - name: Disable cloud-init manage_etc_hosts copy: content: ""manage_etc_hosts: false"" dest: /etc/cloud/cloud.cfg.d/99-kolla.cfg mode: ""0660"" when: cloud_init.stat.exists become: True when: customize_etc_hosts | bool ",,32,0
openstack%2Frpm-packaging~master~Iff7e536f9c35eac9e5bc68e3f4c30fdd2fd3d880,openstack/rpm-packaging,master,Iff7e536f9c35eac9e5bc68e3f4c30fdd2fd3d880,"Convert dib-utils to python3, fix os-apply-config name",MERGED,2019-10-11 15:11:38.000000000,2019-10-14 10:32:59.000000000,2019-10-14 06:58:29.000000000,"[{'_account_id': 2062}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-11 15:11:38.000000000', 'files': ['openstack/os-apply-config/os-apply-config.spec.j2', 'openstack/dib-utils/dib-utils.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4c43d3c0e44acafd8902019c3eb0aff2c15adde0', 'message': 'Convert dib-utils to python3, fix os-apply-config name\n\nWe did not have a python2 name for os-apply-config, even though it\nhad already been converted.\n\nChange-Id: Iff7e536f9c35eac9e5bc68e3f4c30fdd2fd3d880\n'}]",0,688141,4c43d3c0e44acafd8902019c3eb0aff2c15adde0,10,5,1,13294,,,0,"Convert dib-utils to python3, fix os-apply-config name

We did not have a python2 name for os-apply-config, even though it
had already been converted.

Change-Id: Iff7e536f9c35eac9e5bc68e3f4c30fdd2fd3d880
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/41/688141/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/os-apply-config/os-apply-config.spec.j2', 'openstack/dib-utils/dib-utils.spec.j2']",2,4c43d3c0e44acafd8902019c3eb0aff2c15adde0,,"{% set pypi_name = 'dib-utils' %} {% set upstream_version = upstream_version('0.0.11') %} {% set rpm_release = '1' %} {% set source = url_pypi() %} Name: {{ py2name('dib-utils', py_versions='py3') }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }}URL: https://launchpad.net/{{ pypi_name }} Source0: {{ source }}BuildRequires: {{ py3('pbr') }}%autosetup -n {{ pypi_name }}-{{ upstream_version }}%{py3_build}%{py3_install}%{python3_sitelib}/*.egg-info",%global sname dib-utils Name: {{ py2name('dib-utils') }} Version: 0.0.11 Release: 0URL: https://launchpad.net/%{sname} Source0: https://tarballs.openstack.org//%{sname}/%{sname}-%{version}.tar.gzBuildRequires: {{ py2pkg('d2to1') }} BuildRequires: {{ py2pkg('pbr') }}%autosetup -n %{sname}-%{version}sed -i 's/^warning-is-error.*/warning-is-error = 0/g' setup.cfg%py2_build%py2_install%{python2_sitelib}/*.egg-info,17,15
openstack%2Frpm-packaging~master~I612bd05c7393b1ae487e89bd74b61ef7225fd086,openstack/rpm-packaging,master,I612bd05c7393b1ae487e89bd74b61ef7225fd086,openstack-placement: make the template more generic,MERGED,2019-10-11 16:21:35.000000000,2019-10-14 10:32:51.000000000,2019-10-14 07:04:31.000000000,"[{'_account_id': 2062}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-11 16:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a516f1cd32418f1b292bcdeebec86f7cbe35b047', 'message': 'openstack-placement: fix scripts\n\nThe service macros included with the spec do not work fine on RDO, since\nthey are not included for Fedora/CentOS. Moving to the scripts used\nfor both SUSE and RDO.\n\nChange-Id: I612bd05c7393b1ae487e89bd74b61ef7225fd086\n'}, {'number': 2, 'created': '2019-10-11 16:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6163af59062153cfe7e2735e34337674682e3063', 'message': 'openstack-placement: make the template more generic\n\nThe service macros included with the spec do not work fine on RDO, since\nthey are not included for Fedora/CentOS. Moving to the scripts used\nfor both SUSE and RDO.\n\nAlso:\n- Use apache macros instead of hardcoded directories\n- Do not create files under /srv/www on RDO\n\nChange-Id: I612bd05c7393b1ae487e89bd74b61ef7225fd086\n'}, {'number': 3, 'created': '2019-10-11 17:02:18.000000000', 'files': ['openstack/openstack-placement/openstack-placement.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4c593802397168ba9e3001f7dc2f06be45a65bf8', 'message': 'openstack-placement: make the template more generic\n\nThe service macros included with the spec do not work fine on RDO, since\nthey are not included for Fedora/CentOS. Moving to the scripts used\nfor both SUSE and RDO.\n\nAlso:\n- Use apache macros instead of hardcoded directories\n- Do not create files under /srv/www on RDO\n\nChange-Id: I612bd05c7393b1ae487e89bd74b61ef7225fd086\n'}]",0,688165,4c593802397168ba9e3001f7dc2f06be45a65bf8,16,5,3,13294,,,0,"openstack-placement: make the template more generic

The service macros included with the spec do not work fine on RDO, since
they are not included for Fedora/CentOS. Moving to the scripts used
for both SUSE and RDO.

Also:
- Use apache macros instead of hardcoded directories
- Do not create files under /srv/www on RDO

Change-Id: I612bd05c7393b1ae487e89bd74b61ef7225fd086
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/65/688165/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstack-placement/openstack-placement.spec.j2'],1,a516f1cd32418f1b292bcdeebec86f7cbe35b047,,BuildRequires: systemd-rpm-macrosBuildRequires: systemd Requires(post): systemd Requires(postun): systemd Requires(preun): systemd%systemd_post openstack-placement-api.service%systemd_preun openstack-placement-api.service%systemd_postun_with_restart openstack-placement-api.service,%pre api %service_add_pre openstack-placement-api.service %service_add_post openstack-placement-api.service%service_del_preun openstack-placement-api.service%restart_on_update openstack-placement-api.service %service_del_postun openstack-placement-api.service,8,7
openstack%2Fnetworking-baremetal~master~I3aac61c55b4d9f69d65b8d7e95777a225692b7fd,openstack/networking-baremetal,master,I3aac61c55b4d9f69d65b8d7e95777a225692b7fd,Update neutron requirement,MERGED,2019-08-09 20:47:09.000000000,2019-10-14 10:26:13.000000000,2019-10-14 10:25:05.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-08-09 20:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/68a3e5c31656be67083481bcaf0cdb47f652e13b', 'message': 'Update neutron requirement\n\nChange-Id: I3aac61c55b4d9f69d65b8d7e95777a225692b7fd\n'}, {'number': 2, 'created': '2019-08-09 20:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/b60161708406037396192dec9f022985af3ca7b3', 'message': 'Update neutron requirement\n\nChange-Id: I3aac61c55b4d9f69d65b8d7e95777a225692b7fd\n'}, {'number': 3, 'created': '2019-10-03 09:16:14.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/4e85ebbed9c216a13d56d25d01f4ad406d9f6a65', 'message': 'Update neutron requirement\n\nChange-Id: I3aac61c55b4d9f69d65b8d7e95777a225692b7fd\n'}]",0,675700,4e85ebbed9c216a13d56d25d01f4ad406d9f6a65,13,4,3,11655,,,0,"Update neutron requirement

Change-Id: I3aac61c55b4d9f69d65b8d7e95777a225692b7fd
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/00/675700/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,68a3e5c31656be67083481bcaf0cdb47f652e13b,,neutron>=14.0.0.0b1 # Apache-2.0,neutron>=13.0.0.0b1 # Apache-2.0,1,1
openstack%2Fnetworking-ovn~stable%2Ftrain~I6b659cbede25f271fa3b6a1c9e72019694ab6608,openstack/networking-ovn,stable/train,I6b659cbede25f271fa3b6a1c9e72019694ab6608,Set binding profile directly from OVNTrunkDriver (redo),MERGED,2019-10-10 14:40:40.000000000,2019-10-14 10:14:14.000000000,2019-10-14 10:12:31.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 14:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e14b6cd76bade8291764a88b6a2fa851a3a86b87', 'message': 'Set binding profile directly from OVNTrunkDriver (redo)\n\nSetting binding profile for Trunk subports takes\ntime - for 125 subports rally CreateAndListTrunks\nscenario [0] takes about 150 seconds. We need to\nbump up the perfomance because large number of\nsubports is widly used in Kuryr deployments.\n\nTo achieve that I changed setting the binding\nprofile to be saved directly to the neutron DB.\nInstead calling port_update I update only related\nfields in OVN NorthBound DB rows. That gave performance\nimprovement in trunk port creation:\n\nfrom 101 sec to 35.6 for 95%ile\nfrom 99 sec to 34.2 for 50%ile\n\nThe same thing has been done for Trunk deletion.\n\nThis reverts commit 2e0832f7b8bfc31780b657aa0abda4e8b244fbbd\n\n[0] https://github.com/openstack/rally-openstack/blob/master/rally_openstack/scenarios/neutron/trunk.py#L37\n\nChange-Id: I6b659cbede25f271fa3b6a1c9e72019694ab6608\nCloses-Bug: #1834637\nRelated-Bug: #1845479\nCo-authored-by: Maciej Józefczyk <mjozefcz@redhat.com>\n(cherry picked from commit 7bdf2eb824083b6785d78dd67b3effe071e3f7a4)\n'}, {'number': 2, 'created': '2019-10-11 10:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/202e804c64c9c6d7160496987a4b13bd9f9ee6b6', 'message': 'Set binding profile directly from OVNTrunkDriver (redo)\n\nSetting binding profile for Trunk subports takes\ntime - for 125 subports rally CreateAndListTrunks\nscenario [0] takes about 150 seconds. We need to\nbump up the perfomance because large number of\nsubports is widly used in Kuryr deployments.\n\nTo achieve that I changed setting the binding\nprofile to be saved directly to the neutron DB.\nInstead calling port_update I update only related\nfields in OVN NorthBound DB rows. That gave performance\nimprovement in trunk port creation:\n\nfrom 101 sec to 35.6 for 95%ile\nfrom 99 sec to 34.2 for 50%ile\n\nThe same thing has been done for Trunk deletion.\n\nThis reverts commit 2e0832f7b8bfc31780b657aa0abda4e8b244fbbd\n\n[0] https://github.com/openstack/rally-openstack/blob/master/rally_openstack/scenarios/neutron/trunk.py#L37\n\nChange-Id: I6b659cbede25f271fa3b6a1c9e72019694ab6608\nCloses-Bug: #1834637\nRelated-Bug: #1845479\nCo-authored-by: Maciej Józefczyk <mjozefcz@redhat.com>\n(cherry picked from commit 7bdf2eb824083b6785d78dd67b3effe071e3f7a4)\n'}, {'number': 3, 'created': '2019-10-11 13:44:31.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py', 'zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1e20b9bf866e3001ad1cd71186caada647c54929', 'message': 'Set binding profile directly from OVNTrunkDriver (redo)\n\nSetting binding profile for Trunk subports takes\ntime - for 125 subports rally CreateAndListTrunks\nscenario [0] takes about 150 seconds. We need to\nbump up the perfomance because large number of\nsubports is widly used in Kuryr deployments.\n\nTo achieve that I changed setting the binding\nprofile to be saved directly to the neutron DB.\nInstead calling port_update I update only related\nfields in OVN NorthBound DB rows. That gave performance\nimprovement in trunk port creation:\n\nfrom 101 sec to 35.6 for 95%ile\nfrom 99 sec to 34.2 for 50%ile\n\nThe same thing has been done for Trunk deletion.\n\nThis reverts commit 2e0832f7b8bfc31780b657aa0abda4e8b244fbbd\n\n[0] https://github.com/openstack/rally-openstack/blob/master/rally_openstack/scenarios/neutron/trunk.py#L37\n\n---\nAlso, merge squashed:\n\nEnable ovs-vswitchd and ovsdb-server for rally\n\nThe ovs-vswitchd and ovsdb-server services were missing in the rally\ndefinition. Usually the jobs inherts from our base class which enables\nthem but rally has a different job parent.\n\nChange-Id: I6b659cbede25f271fa3b6a1c9e72019694ab6608\nCloses-Bug: #1834637\nRelated-Bug: #1845479\nCo-authored-by: Maciej Józefczyk <mjozefcz@redhat.com>\nCo-authored-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 7bdf2eb824083b6785d78dd67b3effe071e3f7a4)\n(cherry picked from commit 202e804c64c9c6d7160496987a4b13bd9f9ee6b6)\n(cherry picked from commit 7e725331dbaf5845d6a45fa1cf8035d6a61ac744)\n'}]",2,687919,1e20b9bf866e3001ad1cd71186caada647c54929,18,4,3,11952,,,0,"Set binding profile directly from OVNTrunkDriver (redo)

Setting binding profile for Trunk subports takes
time - for 125 subports rally CreateAndListTrunks
scenario [0] takes about 150 seconds. We need to
bump up the perfomance because large number of
subports is widly used in Kuryr deployments.

To achieve that I changed setting the binding
profile to be saved directly to the neutron DB.
Instead calling port_update I update only related
fields in OVN NorthBound DB rows. That gave performance
improvement in trunk port creation:

from 101 sec to 35.6 for 95%ile
from 99 sec to 34.2 for 50%ile

The same thing has been done for Trunk deletion.

This reverts commit 2e0832f7b8bfc31780b657aa0abda4e8b244fbbd

[0] https://github.com/openstack/rally-openstack/blob/master/rally_openstack/scenarios/neutron/trunk.py#L37

---
Also, merge squashed:

Enable ovs-vswitchd and ovsdb-server for rally

The ovs-vswitchd and ovsdb-server services were missing in the rally
definition. Usually the jobs inherts from our base class which enables
them but rally has a different job parent.

Change-Id: I6b659cbede25f271fa3b6a1c9e72019694ab6608
Closes-Bug: #1834637
Related-Bug: #1845479
Co-authored-by: Maciej Józefczyk <mjozefcz@redhat.com>
Co-authored-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 7bdf2eb824083b6785d78dd67b3effe071e3f7a4)
(cherry picked from commit 202e804c64c9c6d7160496987a4b13bd9f9ee6b6)
(cherry picked from commit 7e725331dbaf5845d6a45fa1cf8035d6a61ac744)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/19/687919/3 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py']",2,e14b6cd76bade8291764a88b6a2fa851a3a86b87,,"from neutron.objects import ports as port_obj def _set_sub_ports(self, parent_port, subports): txn = self.plugin_driver._nb_ovn.transaction context = n_context.get_admin_context() with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: self._set_binding_profile(context, port, parent_port, ovn_txn) txn = self.plugin_driver._nb_ovn.transaction context = n_context.get_admin_context() with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: self._unset_binding_profile(context, port, ovn_txn) def _set_binding_profile(self, context, subport, parent_port, ovn_txn): db_port = port_obj.Port.get_object(context, id=subport.port_id) if not db_port: LOG.debug(""Port not found while trying to set "" ""binding_profile: %s"", subport.port_id) return try: for binding in db_port.bindings: binding.profile.update({ 'parent_name': parent_port, 'tag': subport.segmentation_id}) # host + port_id is primary key port_obj.PortBinding.update_object( context, {'profile': binding.profile}, port_id=subport.port_id, host=binding.host) except n_exc.ObjectNotFound: LOG.debug(""Port not found while trying to set "" ""binding_profile: %s"", subport.port_id) return ovn_txn.add(self.plugin_driver._nb_ovn.set_lswitch_port( lport_name=subport.port_id, parent_name=parent_port, tag=subport.segmentation_id)) def _unset_binding_profile(self, context, subport, ovn_txn): db_port = port_obj.Port.get_object(context, id=subport.port_id) if not db_port: LOG.debug(""Port not found while trying to unset "" ""binding_profile: %s"", subport.port_id) return try: for binding in db_port.bindings: binding.profile.pop('tag', None) binding.profile.pop('parent_name', None) # host + port_id is primary key port_obj.PortBinding.update_object( context, {'profile': binding.profile, 'vif_type': portbindings.VIF_TYPE_UNBOUND, 'vif_details': '', 'host': ''}, port_id=subport.port_id, host=binding.host) port_obj.PortBindingLevel.delete_objects( context, port_id=subport.port_id, host=binding.host) except n_exc.ObjectNotFound: LOG.debug(""Port not found while trying to unset "" ""binding_profile: %s"", subport.port_id) return ovn_txn.add(self.plugin_driver._nb_ovn.set_lswitch_port( lport_name=subport.port_id, parent_name=[], up=False, tag=[])) if trunk.sub_ports: self._set_sub_ports(trunk.port_id, trunk.sub_ports) if trunk.sub_ports: self._unset_sub_ports(trunk.sub_ports) if subports: self._set_sub_ports(trunk.port_id, subports) if subports: self._unset_sub_ports(subports)","from oslo_db import exception as os_db_exc def _set_binding_profile(self, port_id, parent_port, tag=None): context = n_context.get_admin_context() binding_profile = {} if parent_port and tag: binding_profile = {'parent_name': parent_port, 'tag': tag} port = {'port': {'binding:profile': binding_profile}} if not tag: port['port']['binding:host_id'] = None try: self.plugin_driver._plugin.update_port(context, port_id, port) except (os_db_exc.DBReferenceError, n_exc.PortNotFound): LOG.debug(""Port not found trying to set binding_profile: %s"", port_id) def _set_sub_ports(self, parent_port, subports): for port in subports: self._set_binding_profile(port.port_id, parent_port, tag=port.segmentation_id) for port in subports: self._set_binding_profile(port.port_id, None) self._set_sub_ports(trunk.port_id, trunk.sub_ports) self._unset_sub_ports(trunk.sub_ports) self._set_sub_ports(trunk.port_id, subports) self._unset_sub_ports(subports)",275,106
openstack%2Fcyborg~stable%2Ftrain~Ibe01a56f9e7b01fc5362321a6a0e05e0cd213fc7,openstack/cyborg,stable/train,Ibe01a56f9e7b01fc5362321a6a0e05e0cd213fc7,git config,ABANDONED,2019-10-14 10:01:52.000000000,2019-10-14 10:11:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-14 10:01:52.000000000', 'files': ['.gitignore', '.gitreview'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/8d9783f3907fe816a06a6b2b8f72e46286fa5212', 'message': 'git config\n\nChange-Id: Ibe01a56f9e7b01fc5362321a6a0e05e0cd213fc7\n'}]",0,688368,8d9783f3907fe816a06a6b2b8f72e46286fa5212,3,1,1,25738,,,0,"git config

Change-Id: Ibe01a56f9e7b01fc5362321a6a0e05e0cd213fc7
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/68/688368/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', '.gitreview']",2,8d9783f3907fe816a06a6b2b8f72e46286fa5212,,defaultbranch=stable/train,,2,0
openstack%2Fopenstacksdk~master~I862f001e92526b332fc5610d426fb382f2ae6bae,openstack/openstacksdk,master,I862f001e92526b332fc5610d426fb382f2ae6bae,Update the constraints url,MERGED,2019-09-23 08:10:27.000000000,2019-10-14 10:10:38.000000000,2019-10-14 10:09:24.000000000,"[{'_account_id': 10239}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-09-23 08:10:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/eb589af1d06d9867cebc478efb13bab97e3274d9', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I862f001e92526b332fc5610d426fb382f2ae6bae\n'}]",0,683862,eb589af1d06d9867cebc478efb13bab97e3274d9,11,5,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I862f001e92526b332fc5610d426fb382f2ae6bae
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/62/683862/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eb589af1d06d9867cebc478efb13bab97e3274d9,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},3,3
openstack%2Fcyborg~stable%2Ftrain~I1607d1de7195eb9422ed21398d6d16968dc43ba8,openstack/cyborg,stable/train,I1607d1de7195eb9422ed21398d6d16968dc43ba8,git config,ABANDONED,2019-10-14 09:49:25.000000000,2019-10-14 09:52:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-14 09:49:25.000000000', 'files': ['.gitignore', '.gitreview'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b905018960b5db02ba6139ee0c17cfcb3468acea', 'message': 'git config\n\nChange-Id: I1607d1de7195eb9422ed21398d6d16968dc43ba8\n'}]",0,688365,b905018960b5db02ba6139ee0c17cfcb3468acea,3,1,1,25738,,,0,"git config

Change-Id: I1607d1de7195eb9422ed21398d6d16968dc43ba8
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/65/688365/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', '.gitreview']",2,b905018960b5db02ba6139ee0c17cfcb3468acea,,defaultbranch=stable/train,,2,0
openstack%2Fcyborg~master~I15894f18c2f73dea2611855d59ac77c014799ba8,openstack/cyborg,master,I15894f18c2f73dea2611855d59ac77c014799ba8,Update driver section.,ABANDONED,2019-10-14 09:33:34.000000000,2019-10-14 09:50:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-14 09:33:34.000000000', 'files': ['doc/source/reference/driver-table.rst', 'doc/source/reference/support-matrix.rst', 'doc/source/reference/support-matrix-fpga.ini', 'doc/source/conf.py', 'doc/source/reference/support-matrix-gpu.ini', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d651cad7e005b65ce22c49476705b2c610f2e187', 'message': 'Update driver section.\n\nApart from FPGA and GPU, we support other device types\ntoday and will add more in the future.\n\nMost of the operations are common to the drivers we support.\nFor example, all drivers support device discovery, VM\ncreation/deletion, etc. None of them support firmware/shell\nupdate today.\n\nAlso, we need to include the supported product families and\nany special notes for the driver.\n\nSo this update removes the per-device-type files for FPGA\nand GPU, and instead adds per-driver notes.\n\nChange-Id: I15894f18c2f73dea2611855d59ac77c014799ba8\n'}]",0,688362,d651cad7e005b65ce22c49476705b2c610f2e187,3,1,1,25738,,,0,"Update driver section.

Apart from FPGA and GPU, we support other device types
today and will add more in the future.

Most of the operations are common to the drivers we support.
For example, all drivers support device discovery, VM
creation/deletion, etc. None of them support firmware/shell
update today.

Also, we need to include the supported product families and
any special notes for the driver.

So this update removes the per-device-type files for FPGA
and GPU, and instead adds per-driver notes.

Change-Id: I15894f18c2f73dea2611855d59ac77c014799ba8
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/62/688362/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/driver-table.rst', 'doc/source/reference/support-matrix.rst', 'doc/source/reference/support-matrix-fpga.ini', 'doc/source/conf.py', 'doc/source/reference/support-matrix-gpu.ini', 'doc/requirements.txt']",6,d651cad7e005b65ce22c49476705b2c610f2e187,stable/train,,sphinx-feature-classification>=0.1.0 # Apache 2.0,42,190
openstack%2Fcyborg~master~I0c0fdbfa28303941f41a42b868f3af5fcac3b829,openstack/cyborg,master,I0c0fdbfa28303941f41a42b868f3af5fcac3b829,Cleanup index / add in driver support matrix,ABANDONED,2019-10-14 09:33:34.000000000,2019-10-14 09:50:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-14 09:33:34.000000000', 'files': ['doc/source/admin/api.rst', 'doc/source/reference/support-matrix.rst', 'doc/source/install/common.rst', 'doc/source/install/common_prerequisites.rst', 'doc/source/install/install-from-pip.rst', 'doc/source/install/install-from-source.rst', 'doc/source/conf.py', 'doc/source/install/from-source.rst', 'doc/source/configuration/index.rst', 'doc/source/index.rst', 'doc/source/reference/support-matrix-fpga.ini', 'doc/source/reference/support-matrix-gpu.ini', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/982e9c6ab4bb16b5c99de163c01e19c3669c096c', 'message': 'Cleanup index / add in driver support matrix\n\nChange-Id: I0c0fdbfa28303941f41a42b868f3af5fcac3b829\n'}]",0,688361,982e9c6ab4bb16b5c99de163c01e19c3669c096c,3,1,1,25738,,,0,"Cleanup index / add in driver support matrix

Change-Id: I0c0fdbfa28303941f41a42b868f3af5fcac3b829
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/61/688361/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/api.rst', 'doc/source/reference/support-matrix.rst', 'doc/source/install/common.rst', 'doc/source/install/common_prerequisites.rst', 'doc/source/install/install-from-pip.rst', 'doc/source/install/install-from-source.rst', 'doc/source/conf.py', 'doc/source/install/from-source.rst', 'doc/source/configuration/index.rst', 'doc/source/index.rst', 'doc/source/reference/support-matrix-fpga.ini', 'doc/source/reference/support-matrix-gpu.ini', 'doc/requirements.txt']",13,982e9c6ab4bb16b5c99de163c01e19c3669c096c,stable/train,sphinx-feature-classification>=0.1.0 # Apache 2.0,,495,302
openstack%2Fcharm-swift-proxy~master~Ia3fdbf2020137bcf39039478ee3606717d3d6e20,openstack/charm-swift-proxy,master,Ia3fdbf2020137bcf39039478ee3606717d3d6e20,py3: Switch packages to Python 3 for train and later,MERGED,2019-09-04 21:48:41.000000000,2019-10-14 09:32:01.000000000,2019-10-14 09:32:01.000000000,"[{'_account_id': 935}, {'_account_id': 7730}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-04 21:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/f6e9a9344d1826c85f0a7e7b387e185c4333e71f', 'message': ""py3: Switch to Py3 for train and add bionic-train tests\n\nSwitch package install to Python 3 for OpenStack Train and later.\n\nWhen upgrading, remove any python-* packages that were explicitly\ninstallated and then autoremove --purge any dependencies that are\nno longer required.\n\nThis patch also includes the following related changes:\n  * Use the common files package, swift, rather than python-swift\n    as the package name when determining releases.\n  * Drop the python2 shebang from manager.py in favor of specifying\n    the interpreter on the subprocess call. The python interpreter\n    version must match the python version of the OpenStack payload\n    due to the swift library imports.\n  * Enable the cPickle import in manager.py for Python 3\n    (C-optimized module name is _pickle), and fix 'result'\n    variable that is a set type but should be a dict type.\n  * Add bionic-train functional tests.\n\nChange-Id: Ia3fdbf2020137bcf39039478ee3606717d3d6e20\nCloses-Bug: #1841184\n""}, {'number': 2, 'created': '2019-09-05 00:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/3984c0181adda634f2dd7c11289618c3e98482fd', 'message': ""py3: Switch packages to Python 3 for train and later\n\nSwitch package install to Python 3 for OpenStack Train and later.\n\nWhen upgrading, remove any python-* packages that were explicitly\ninstallated and then autoremove --purge any dependencies that are\nno longer required.\n\nThis patch also includes the following related changes:\n  * Use the common files package, swift, rather than python-swift\n    as the package name when determining releases.\n  * Drop the python2 shebang from manager.py in favor of specifying\n    the interpreter on the subprocess call. The python interpreter\n    version must match the python version of the OpenStack payload\n    due to the swift library imports.\n  * Enable the cPickle import in manager.py for Python 3\n    (C-optimized module name is _pickle), and fix 'result'\n    variable that is a set type but should be a dict type.\n\nChange-Id: Ia3fdbf2020137bcf39039478ee3606717d3d6e20\nCloses-Bug: #1841184\n""}, {'number': 3, 'created': '2019-09-09 20:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/736b7c7c0d42ac7ed3e0cba12d07abedafaa4bcd', 'message': ""py3: Switch packages to Python 3 for train and later\n\nSwitch package install to Python 3 for OpenStack Train and later.\n\nWhen upgrading, remove any python-* packages that were explicitly\ninstallated and then autoremove --purge any dependencies that are\nno longer required.\n\nThis patch also includes the following related changes:\n  * Use the common files package, swift, rather than python-swift\n    as the package name when determining releases.\n  * Drop the python2 shebang from manager.py in favor of specifying\n    the interpreter on the subprocess call. The python interpreter\n    version must match the python version of the OpenStack payload\n    due to the swift library imports.\n  * Enable the cPickle import in manager.py for Python 3\n    (C-optimized module name is _pickle), and fix 'result'\n    variable that is a set type but should be a dict type.\n\nChange-Id: Ia3fdbf2020137bcf39039478ee3606717d3d6e20\nCloses-Bug: #1841184\n""}, {'number': 4, 'created': '2019-10-09 12:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/b647ba318a87cd4c51a5e0439f3d57eacdee3777', 'message': ""py3: Switch packages to Python 3 for train and later\n\nSwitch package install to Python 3 for OpenStack Train and later.\n\nWhen upgrading, remove any python-* packages that were explicitly\ninstallated and then autoremove --purge any dependencies that are\nno longer required.\n\nThis patch also includes the following related changes:\n  * Use the common files package, swift, rather than python-swift\n    as the package name when determining releases.\n  * Drop the python2 shebang from manager.py in favor of specifying\n    the interpreter on the subprocess call. The python interpreter\n    version must match the python version of the OpenStack payload\n    due to the swift library imports.\n  * Enable the cPickle import in manager.py for Python 3\n    (C-optimized module name is _pickle), and fix 'result'\n    variable that is a set type but should be a dict type.\n\nChange-Id: Ia3fdbf2020137bcf39039478ee3606717d3d6e20\nCloses-Bug: #1841184\n""}, {'number': 5, 'created': '2019-10-10 06:51:33.000000000', 'files': ['hooks/swift_hooks.py', 'actions/openstack_upgrade.py', 'lib/swift_utils.py', 'unit_tests/test_swift_utils.py', 'swift_manager/manager.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/5f3735f884c33551bbe6fabf4dc71861c126e23d', 'message': ""py3: Switch packages to Python 3 for train and later\n\nSwitch package install to Python 3 for OpenStack Train and later.\n\nWhen upgrading, remove any python-* packages that were explicitly\ninstallated and then autoremove --purge any dependencies that are\nno longer required.\n\nThis patch also includes the following related changes:\n  * Use the common files package, swift, rather than python-swift\n    as the package name when determining releases.\n  * Drop the python2 shebang from manager.py in favor of specifying\n    the interpreter on the subprocess call. The python interpreter\n    version must match the python version of the OpenStack payload\n    due to the swift library imports.\n  * Enable the cPickle import in manager.py for Python 3\n    (C-optimized module name is _pickle), and fix 'result'\n    variable that is a set type but should be a dict type.\n\nChange-Id: Ia3fdbf2020137bcf39039478ee3606717d3d6e20\nCloses-Bug: #1841184\n""}]",5,680228,5f3735f884c33551bbe6fabf4dc71861c126e23d,31,5,5,11805,,,0,"py3: Switch packages to Python 3 for train and later

Switch package install to Python 3 for OpenStack Train and later.

When upgrading, remove any python-* packages that were explicitly
installated and then autoremove --purge any dependencies that are
no longer required.

This patch also includes the following related changes:
  * Use the common files package, swift, rather than python-swift
    as the package name when determining releases.
  * Drop the python2 shebang from manager.py in favor of specifying
    the interpreter on the subprocess call. The python interpreter
    version must match the python version of the OpenStack payload
    due to the swift library imports.
  * Enable the cPickle import in manager.py for Python 3
    (C-optimized module name is _pickle), and fix 'result'
    variable that is a set type but should be a dict type.

Change-Id: Ia3fdbf2020137bcf39039478ee3606717d3d6e20
Closes-Bug: #1841184
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/28/680228/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/swift_hooks.py', 'actions/openstack_upgrade.py', 'lib/swift_utils.py', 'unit_tests/test_swift_utils.py', 'tests/gate-basic-bionic-train', 'swift_manager/manager.py', 'tox.ini']",7,f6e9a9344d1826c85f0a7e7b387e185c4333e71f,bug/1841184, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-train --no-destroy, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-stein --no-destroy,119,13
openstack%2Fkuryr-tempest-plugin~master~I0d3b554d841c24fa6d34e2e243cf900e146e2415,openstack/kuryr-tempest-plugin,master,I0d3b554d841c24fa6d34e2e243cf900e146e2415,Adjust initial ports list in port_pool test,MERGED,2019-10-07 07:43:38.000000000,2019-10-14 09:30:11.000000000,2019-10-14 09:29:02.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-10-07 07:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/021f73ade09990f42874e622cb661dd052f38c92', 'message': 'Adjust initial ports list in port_port test\n\nDue to prepopulation of ports when creating namespace\n\nChange-Id: I0d3b554d841c24fa6d34e2e243cf900e146e2415\n'}, {'number': 2, 'created': '2019-10-07 08:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/fc4ec21306453a008ecdef075ac48eb5907df11f', 'message': 'Adjust initial ports list in port_port test\n\nDue to prepopulation of ports when creating namespace\n\nChange-Id: I0d3b554d841c24fa6d34e2e243cf900e146e2415\n'}, {'number': 3, 'created': '2019-10-07 11:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/0fd3a5b1f9d208beb3725872e0e784b41ece5efb', 'message': 'Adjust initial ports list in port_pool test\n\nDue to prepopulation of ports when creating namespace\n\nChange-Id: I0d3b554d841c24fa6d34e2e243cf900e146e2415\nDepends-On: I8122e815f87420092dcea1c3cc027367f1b4895e\n'}, {'number': 4, 'created': '2019-10-08 13:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/7ff8fc2909a3622fef85be51758494170bd20e85', 'message': 'Adjust initial ports list in port_pool test\n\nDue to prepopulation of ports when creating namespace\n\nChange-Id: I0d3b554d841c24fa6d34e2e243cf900e146e2415\nDepends-On: I8122e815f87420092dcea1c3cc027367f1b4895e\n'}, {'number': 5, 'created': '2019-10-10 05:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/009d88041aba9de57d9a63392813122bc8462d22', 'message': 'Adjust initial ports list in port_pool test\n\nDue to prepopulation of ports when creating namespace\n\nChange-Id: I0d3b554d841c24fa6d34e2e243cf900e146e2415\nDepends-On: I8122e815f87420092dcea1c3cc027367f1b4895e\n'}, {'number': 6, 'created': '2019-10-10 05:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/a3ba8ef53e630ce948f202650ee33c5a0d9537d3', 'message': 'Adjust initial ports list in port_pool test\n\nDue to prepopulation of ports when creating namespace\n\nChange-Id: I0d3b554d841c24fa6d34e2e243cf900e146e2415\n'}, {'number': 7, 'created': '2019-10-12 16:57:13.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_port_pool.py', 'kuryr_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/42c4d5344169659e358f35c64647937a8e741748', 'message': 'Adjust initial ports list in port_pool test\n\nDue to prepopulation of ports when creating namespace\n\nChange-Id: I0d3b554d841c24fa6d34e2e243cf900e146e2415\n'}]",4,686972,42c4d5344169659e358f35c64647937a8e741748,34,5,7,4727,,,0,"Adjust initial ports list in port_pool test

Due to prepopulation of ports when creating namespace

Change-Id: I0d3b554d841c24fa6d34e2e243cf900e146e2415
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/72/686972/4 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/test_port_pool.py'],1,021f73ade09990f42874e622cb661dd052f38c92,port_pool,from tempest.lib import exceptions as lib_excPREPOPULAION_RETRIES = 60 num_nodes = len(self.k8s_client.CoreV1Api().list_node().items) num_ports_initial = num_nodes * (int(self.PORTS_POOL_DEFAULT_DICT[ 'ports_pool_batch'])/2) + 1 retries = PREPOPULAION_RETRIES # Make sure we have the number of ports after pre population while port_list_num != num_ports_initial: retries -= 1 if retries == 0: raise lib_exc.TimeoutException() time.sleep(3) port_list_num = len(self.os_admin.ports_client.list_ports( fixed_ips='subnet_id=%s' % subnet_id)['ports']) , # check the original length of list of ports for new ns,17,1
openstack%2Fbifrost~master~Id400e5c7364eb8825234c49034d084c835c29776,openstack/bifrost,master,Id400e5c7364eb8825234c49034d084c835c29776,Install dependencies for iscsi deploy interface,MERGED,2019-10-01 14:46:49.000000000,2019-10-14 09:29:07.000000000,2019-10-14 09:27:59.000000000,"[{'_account_id': 11655}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-01 14:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8f253fd55869e35f4362dd0650f62d8ab586c286', 'message': 'Install dependencies for iscsi deploy interface\n\nThe iscsi deploy interface depends on sgdisk for partioning.\nAdditionally mkfs.fat is needed for uefi partitions.\n\nThis commit install said dependencies if the iscsi interface\nis enabled.\n\nChange-Id: Id400e5c7364eb8825234c49034d084c835c29776\n'}, {'number': 2, 'created': '2019-10-01 14:48:30.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Suse_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora_26.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora_25.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora_27.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b33bbd3853125bb62097c5b653be6d31b0b071a2', 'message': 'Install dependencies for iscsi deploy interface\n\nThe iscsi deploy interface depends on sgdisk for partioning.\nAdditionally mkfs.fat is needed for uefi partitions.\n\nThis commit installs said dependencies if the iscsi interface\nis enabled.\n\nChange-Id: Id400e5c7364eb8825234c49034d084c835c29776\n'}]",0,685987,b33bbd3853125bb62097c5b653be6d31b0b071a2,13,7,2,30911,,,0,"Install dependencies for iscsi deploy interface

The iscsi deploy interface depends on sgdisk for partioning.
Additionally mkfs.fat is needed for uefi partitions.

This commit installs said dependencies if the iscsi interface
is enabled.

Change-Id: Id400e5c7364eb8825234c49034d084c835c29776
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/87/685987/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Suse_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora_26.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora_25.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora_27.yml']",7,8f253fd55869e35f4362dd0650f62d8ab586c286,iscsi_required_packages,iscsi_required_packages: - iscsi-initiator-utils - gdisk - dosfstools,"iscsi_client_package: ""iscsi-initiator-utils""",28,10
openstack%2Fsushy-tools~master~I19fdae4417391a2fb753ccdd0a87fe88b4184161,openstack/sushy-tools,master,I19fdae4417391a2fb753ccdd0a87fe88b4184161,Fix libvirt set-boot-image implementation,MERGED,2019-10-01 15:37:39.000000000,2019-10-14 09:27:24.000000000,2019-10-14 09:26:18.000000000,"[{'_account_id': 10239}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-01 15:37:39.000000000', 'files': ['sushy_tools/emulator/resources/systems/libvirtdriver.py', 'releasenotes/notes/fix-libvirt-boot-image-965d94fd30bca7b0.yaml'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/dbc20db6229f1fcadff99f2952a4ab54ed32269f', 'message': ""Fix libvirt set-boot-image implementation\n\nWhen libvirt driver performs set-boot-image operation, it actually\nadds new block device to libvirt domain. This new 'disk' device\nshould be mapped on a virtual bus and possess unique bus identifiers.\n\nPrior to this fix, these identifiers were hardcoded in the emulator,\nhowever it turned out that static values may sometimes collide with\nalready existing devices on the same bus.\n\nIt seems that libvirt is capable of automatically choosing free bus\nidentifiers if they are not given explicitly. So the essence of this\nfix is just to let libvirt pick hopefully proper mapping.\n\nChange-Id: I19fdae4417391a2fb753ccdd0a87fe88b4184161\n""}]",0,685994,dbc20db6229f1fcadff99f2952a4ab54ed32269f,10,5,1,26340,,,0,"Fix libvirt set-boot-image implementation

When libvirt driver performs set-boot-image operation, it actually
adds new block device to libvirt domain. This new 'disk' device
should be mapped on a virtual bus and possess unique bus identifiers.

Prior to this fix, these identifiers were hardcoded in the emulator,
however it turned out that static values may sometimes collide with
already existing devices on the same bus.

It seems that libvirt is capable of automatically choosing free bus
identifiers if they are not given explicitly. So the essence of this
fix is just to let libvirt pick hopefully proper mapping.

Change-Id: I19fdae4417391a2fb753ccdd0a87fe88b4184161
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/94/685994/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/resources/systems/libvirtdriver.py', 'releasenotes/notes/fix-libvirt-boot-image-965d94fd30bca7b0.yaml']",2,dbc20db6229f1fcadff99f2952a4ab54ed32269f,01-fix-libvirt-boot-image,"--- fixes: - | Fixes occasional failure when setting boot image to libvirt domain in response to virtual media ""Insert"" operation. ",,9,11
openstack%2Fcinder~master~Iff2712a8157895d5a67bccee596a80a8b255fc40,openstack/cinder,master,Iff2712a8157895d5a67bccee596a80a8b255fc40,Fix missing print format in log messages,MERGED,2019-09-23 03:24:00.000000000,2019-10-14 08:57:33.000000000,2019-10-14 05:59:10.000000000,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28543}, {'_account_id': 28614}, {'_account_id': 28801}, {'_account_id': 28935}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-09-23 03:24:00.000000000', 'files': ['cinder/volume/drivers/macrosan/driver.py', 'cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c843b9b20939dd5db7629078d8386665434ead03', 'message': 'Fix missing print format in log messages\n\nThis is to fix:\n1. print format is missing in ""%(volume)""\n2. ws is missing between words in log messages.\n\nChange-Id: Iff2712a8157895d5a67bccee596a80a8b255fc40\n'}]",0,683839,c843b9b20939dd5db7629078d8386665434ead03,78,38,1,20190,,,0,"Fix missing print format in log messages

This is to fix:
1. print format is missing in ""%(volume)""
2. ws is missing between words in log messages.

Change-Id: Iff2712a8157895d5a67bccee596a80a8b255fc40
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/683839/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/drivers/ceph.py', 'cinder/volume/drivers/macrosan/driver.py']",2,c843b9b20939dd5db7629078d8386665434ead03,missing_print," LOG.info('Migrating volume: %(volume)s, '"," LOG.info('Migrating volume: %(volume), '",2,2
openstack%2Fnetworking-odl~stable%2Fstein~I61f2d47608bb0ca8b32f35170db652e24dd66b84,openstack/networking-odl,stable/stein,I61f2d47608bb0ca8b32f35170db652e24dd66b84,Bump neutron-lib to 1.25,ABANDONED,2019-10-11 15:14:03.000000000,2019-10-14 08:54:04.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 15:14:03.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/571d24ee8f40652433af01604c06481e82e14dbe', 'message': 'Bump neutron-lib to 1.25\n\nstable jobs started to fail with 1.18, see:\nhttps://0e819bb4990a3549d786-3941a10d3b1df15adbab9d7901e4d7c8.ssl.cf1.rackcdn.com/periodic-stable/opendev.org/openstack/networking-odl/stable/stein/openstack-tox-py27/be683b1/job-output.txt\n\nChange-Id: I61f2d47608bb0ca8b32f35170db652e24dd66b84\n'}]",0,688144,571d24ee8f40652433af01604c06481e82e14dbe,4,2,1,8313,,,0,"Bump neutron-lib to 1.25

stable jobs started to fail with 1.18, see:
https://0e819bb4990a3549d786-3941a10d3b1df15adbab9d7901e4d7c8.ssl.cf1.rackcdn.com/periodic-stable/opendev.org/openstack/networking-odl/stable/stein/openstack-tox-py27/be683b1/job-output.txt

Change-Id: I61f2d47608bb0ca8b32f35170db652e24dd66b84
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/44/688144/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,571d24ee8f40652433af01604c06481e82e14dbe,bump_neutron-lib,neutron-lib==1.25.0,neutron-lib==1.18.0,2,2
openstack%2Foctavia-dashboard~master~I1b0a7da8a076bf495d6289a75718637a7c41d94d,openstack/octavia-dashboard,master,I1b0a7da8a076bf495d6289a75718637a7c41d94d,Switch to official Ussuri jobs,MERGED,2019-10-14 07:02:04.000000000,2019-10-14 08:53:35.000000000,2019-10-14 08:51:38.000000000,"[{'_account_id': 841}, {'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-14 07:02:04.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/3eb1e2b8c4589cbde60fb311df9a954f049b1eb3', 'message': 'Switch to official Ussuri jobs\n\nChange-Id: I1b0a7da8a076bf495d6289a75718637a7c41d94d\n'}]",0,688336,3eb1e2b8c4589cbde60fb311df9a954f049b1eb3,10,4,1,29313,,,0,"Switch to official Ussuri jobs

Change-Id: I1b0a7da8a076bf495d6289a75718637a7c41d94d
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/36/688336/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,3eb1e2b8c4589cbde60fb311df9a954f049b1eb3,, - openstack-python3-ussuri-jobs-horizon, - openstack-python3-train-jobs-horizon,1,1
openstack%2Ftripleo-common~master~I735870599cecb3092a9c12bc926bc45c40c08568,openstack/tripleo-common,master,I735870599cecb3092a9c12bc926bc45c40c08568,Consider default service disable state for image builder,ABANDONED,2019-10-09 08:29:36.000000000,2019-10-14 08:33:16.000000000,,"[{'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 08:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b5f45047b24c3e109932e66d8ecee26ca1cefa1a', 'message': 'Consider default service disable state for image builder\n\nWhen user environment file does not contain a service, eventhough\nit is disabled in the default resource registry, the image parameter\nis included. Though this does not affect when the required image\nis present in registry. Problem araises, when a image is not present\nin the registry (vendor integrated registry image).\n\nAlso it is not required to download the images which are not disabled,\nby default. This patch considers the default resource registry mapping\nto remove services which are disabled by default and user environment\nfile does not enabled it.\n\nChange-Id: I735870599cecb3092a9c12bc926bc45c40c08568\n'}, {'number': 2, 'created': '2019-10-09 09:59:08.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/32a83061ec4537a8ec8da55f88408229d54e814a', 'message': 'Consider default service disable state for image builder\n\nWhen user environment file does not contain a service, eventhough\nit is disabled in the default resource registry, the image parameter\nis included. Though this does not affect when the required image\nis present in registry. Problem araises, when a image is not present\nin the registry (vendor integrated registry image).\n\nAlso it is not required to download the images which are not disabled,\nby default. This patch considers the default resource registry mapping\nto remove services which are disabled by default and user environment\nfile does not enabled it.\n\nChange-Id: I735870599cecb3092a9c12bc926bc45c40c08568\n'}]",0,687484,32a83061ec4537a8ec8da55f88408229d54e814a,10,4,2,18575,,,0,"Consider default service disable state for image builder

When user environment file does not contain a service, eventhough
it is disabled in the default resource registry, the image parameter
is included. Though this does not affect when the required image
is present in registry. Problem araises, when a image is not present
in the registry (vendor integrated registry image).

Also it is not required to download the images which are not disabled,
by default. This patch considers the default resource registry mapping
to remove services which are disabled by default and user environment
file does not enabled it.

Change-Id: I735870599cecb3092a9c12bc926bc45c40c08568
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/84/687484/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/constants.py', 'tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py']",3,b5f45047b24c3e109932e66d8ecee26ca1cefa1a,service_filter_missing_default_registry,"ROLES_DATA = [ { 'name': 'Controller', 'CountDefault': 1, 'ServicesDefault': [ 'OS::TripleO::Services::HeatApi', 'OS::TripleO::Services::NeutronApi', 'OS::TripleO::Services::NovaApi', 'OS::TripleO::Services::SkydiveAgent', 'OS::TripleO::Services::Noop' ] }, { 'name': 'Compute', 'CountDefault': 1, 'ServicesDefault': [ 'OS::TripleO::Services::NovaCompute', 'OS::TripleO::Services::Kubernetes::Worker' ] }, { 'name': 'BlockStorage', 'ServicesDefault': [ 'OS::TripleO::Services::Timesync' ] }] DEFAULT_RESOURCE_REGISTRY = """""" {'resource_registry':{ 'OS::TripleO::Services::HeatApi': '/path/file', 'OS::TripleO::Services::NeutronApi': 'OS::Heat::None' }} """""" @mock.patch('jinja2.Environment.get_template') def test__get_default_registry_services(self, mock_get_template): expected = [ 'OS::TripleO::Services::HeatApi', ] render = mock.Mock() mock_get_template.return_value = render render.render = mock.Mock() render.render.return_value = DEFAULT_RESOURCE_REGISTRY enabled = kb._get_default_registry_services(ROLES_DATA) self.assertItemsEqual(enabled, expected) @mock.patch('tripleo_common.image.kolla_builder._get_default_registry_services') def test_build_service_filter_default_enable_only(self, mock_def_svc): mock_def_svc.return_value = [ 'OS::TripleO::Services::HeatApi', 'OS::TripleO::Services::NovaApi', 'OS::TripleO::Services::NovaCompute', 'OS::TripleO::Services::Kubernetes::Worker', 'OS::TripleO::Services::SkydiveAgent', ] environment = {} expected = [ 'OS::TripleO::Services::HeatApi', 'OS::TripleO::Services::NovaApi', 'OS::TripleO::Services::NovaCompute', 'OS::TripleO::Services::Kubernetes::Worker', 'OS::TripleO::Services::SkydiveAgent', ] enabled = kb.build_service_filter(environment, ROLES_DATA) self.assertItemsEqual(enabled, expected) @mock.patch('tripleo_common.image.kolla_builder._get_default_registry_services') def test_build_service_filter_default_disable_only(self, mock_def_svc): mock_def_svc.return_value = [ 'OS::TripleO::Services::NovaApi', 'OS::TripleO::Services::NovaCompute', 'OS::TripleO::Services::Kubernetes::Worker', 'OS::TripleO::Services::SkydiveAgent', ] environment = {} expected = [ 'OS::TripleO::Services::NovaApi', 'OS::TripleO::Services::NovaCompute', 'OS::TripleO::Services::Kubernetes::Worker', 'OS::TripleO::Services::SkydiveAgent', ] enabled = kb.build_service_filter(environment, ROLES_DATA) self.assertItemsEqual(enabled, expected) @mock.patch('tripleo_common.image.kolla_builder._get_default_registry_services') def test_build_service_filter_default_enable_user_enable(self, mock_def_svc): mock_def_svc.return_value = [ 'OS::TripleO::Services::HeatApi', 'OS::TripleO::Services::NovaApi', 'OS::TripleO::Services::NovaCompute', 'OS::TripleO::Services::Kubernetes::Worker', 'OS::TripleO::Services::SkydiveAgent', ] environment = {'resource_registry': { 'OS::TripleO::Services::HeatApiNotFound': '/path/file', 'OS::TripleO::Services::HeatApi': '/path/file' }} expected = [ 'OS::TripleO::Services::HeatApi', 'OS::TripleO::Services::NovaApi', 'OS::TripleO::Services::NovaCompute', 'OS::TripleO::Services::Kubernetes::Worker', 'OS::TripleO::Services::SkydiveAgent', ] enabled = kb.build_service_filter(environment, ROLES_DATA) self.assertItemsEqual(enabled, expected) @mock.patch('tripleo_common.image.kolla_builder._get_default_registry_services') def test_build_service_filter_default_enable_user_disable(self, mock_def_svc): mock_def_svc.return_value = [ 'OS::TripleO::Services::HeatApi', 'OS::TripleO::Services::NovaApi', 'OS::TripleO::Services::NovaCompute', 'OS::TripleO::Services::Kubernetes::Worker', 'OS::TripleO::Services::SkydiveAgent', ] environment = {'resource_registry': { 'OS::TripleO::Services::HeatApi': 'OS::Heat::None' }} expected = [ 'OS::TripleO::Services::NovaApi', 'OS::TripleO::Services::NovaCompute', 'OS::TripleO::Services::Kubernetes::Worker', 'OS::TripleO::Services::SkydiveAgent', ] enabled = kb.build_service_filter(environment, ROLES_DATA) self.assertItemsEqual(enabled, expected) @mock.patch('tripleo_common.image.kolla_builder._get_default_registry_services') def test_build_service_filter_default_disable_user_enable(self, mock_def_svc): mock_def_svc.return_value = [ 'OS::TripleO::Services::NovaApi', 'OS::TripleO::Services::NovaCompute', 'OS::TripleO::Services::Kubernetes::Worker', 'OS::TripleO::Services::SkydiveAgent', ] environment = {'resource_registry': { 'OS::TripleO::Services::HeatApi': '/path/file' }} expected = [ 'OS::TripleO::Services::HeatApi', 'OS::TripleO::Services::NovaApi', 'OS::TripleO::Services::NovaCompute', 'OS::TripleO::Services::Kubernetes::Worker', 'OS::TripleO::Services::SkydiveAgent', ] enabled = kb.build_service_filter(environment, ROLES_DATA) self.assertItemsEqual(enabled, expected) @mock.patch('tripleo_common.image.kolla_builder._get_default_registry_services') def test_build_service_filter_default_disable_user_disable(self, mock_def_svc): mock_def_svc.return_value = [ 'OS::TripleO::Services::NovaApi', 'OS::TripleO::Services::NovaCompute', 'OS::TripleO::Services::Kubernetes::Worker', 'OS::TripleO::Services::SkydiveAgent', ] environment = {'resource_registry': { 'OS::TripleO::Services::HeatApi': 'OS::Heat::None' }} expected = [ 'OS::TripleO::Services::NovaApi', 'OS::TripleO::Services::NovaCompute', 'OS::TripleO::Services::Kubernetes::Worker', 'OS::TripleO::Services::SkydiveAgent', ] enabled = kb.build_service_filter(environment, ROLES_DATA) self.assertItemsEqual(enabled, expected) ",,206,11
openstack%2Fdesignate-dashboard~master~I0eab1862940a7bbfcc8a41df1f3258e864402b54,openstack/designate-dashboard,master,I0eab1862940a7bbfcc8a41df1f3258e864402b54,Switch to official Ussuri jobs,MERGED,2019-10-14 07:02:04.000000000,2019-10-14 08:14:08.000000000,2019-10-14 08:12:17.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 07:02:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/26d1d3d4cf90afea68175d10b83b6115d78ef134', 'message': 'Switch to official Ussuri jobs\n\nChange-Id: I0eab1862940a7bbfcc8a41df1f3258e864402b54\n'}]",0,688335,26d1d3d4cf90afea68175d10b83b6115d78ef134,7,2,1,29313,,,0,"Switch to official Ussuri jobs

Change-Id: I0eab1862940a7bbfcc8a41df1f3258e864402b54
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/35/688335/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,26d1d3d4cf90afea68175d10b83b6115d78ef134,, - openstack-python3-ussuri-jobs-horizon, - openstack-python3-train-jobs-horizon,1,1
openstack%2Fheat~master~I0f7a42c6d1754e340fb519bd228feaa625000ffc,openstack/heat,master,I0f7a42c6d1754e340fb519bd228feaa625000ffc,Add regression tests for conditional outputs in nested stacks,MERGED,2018-12-04 07:41:36.000000000,2019-10-14 07:54:19.000000000,2019-10-14 07:53:02.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-12-04 07:41:36.000000000', 'files': ['heat_integrationtests/functional/test_conditions.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/d539fdcb2edd6930f2392cd60f019e2d87b4c81a', 'message': ""Add regression tests for conditional outputs in nested stacks\n\nThe patch 85eff5fc3d03dce7d0d17d965f27246bd3306c53 had to be reverted\nbecause it broke nested stacks in TripleO. To ensure that doesn't happen\nagain, add some functional tests for conditional outputs in a nested\nstack.\n\nChange-Id: I0f7a42c6d1754e340fb519bd228feaa625000ffc\nRelated-Bug: #1805589\n""}]",0,622063,d539fdcb2edd6930f2392cd60f019e2d87b4c81a,30,5,1,4257,,,0,"Add regression tests for conditional outputs in nested stacks

The patch 85eff5fc3d03dce7d0d17d965f27246bd3306c53 had to be reverted
because it broke nested stacks in TripleO. To ensure that doesn't happen
again, add some functional tests for conditional outputs in a nested
stack.

Change-Id: I0f7a42c6d1754e340fb519bd228feaa625000ffc
Related-Bug: #1805589
",git fetch https://review.opendev.org/openstack/heat refs/changes/63/622063/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_integrationtests/functional/test_conditions.py'],1,d539fdcb2edd6930f2392cd60f019e2d87b4c81a,," root_output_tmpl = ''' heat_template_version: 2016-10-14 parameters: env_type: type: string default: test conditions: cd1: {equals : [{get_param: env_type}, ""prod""]} resources: nested: type: nested_output.yaml properties: env_type: {get_param: env_type} outputs: standard: value: {get_attr: [nested, standard]} cond: value: {get_attr: [nested, cond]} condition: cd1 cond_value: value: {get_attr: [nested, cond_value]} ''' nested_output_tmpl = ''' heat_template_version: 2016-10-14 parameters: env_type: type: string conditions: cd1: {equals : [{get_param: env_type}, ""prod""]} outputs: standard: value: hello cond: value: world condition: cd1 cond_value: value: {if: [cd1, 'prod', 'test']} ''' class CreateNestedOutputConditionTest(functional_base.FunctionalTestsBase): def test_condition_nested_outputs(self): stack_identifier = self.stack_create(template=root_output_tmpl, files={'nested_output.yaml': nested_output_tmpl}) standard = self.client.stacks.output_show(stack_identifier, 'standard')['output'] self.assertEqual('hello', standard['output_value']) cond = self.client.stacks.output_show(stack_identifier, 'cond')['output'] self.assertIsNone(cond['output_value']) cond_val = self.client.stacks.output_show(stack_identifier, 'cond_value')['output'] self.assertEqual('test', cond_val['output_value'])",,61,0
openstack%2Fhorizon~master~I0d823c6f55179bd79e1e15ff50b044dc269b71e7,openstack/horizon,master,I0d823c6f55179bd79e1e15ff50b044dc269b71e7,Switch to official Ussuri jobs,MERGED,2019-10-10 16:11:19.000000000,2019-10-14 07:53:06.000000000,2019-10-14 07:51:08.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-10 16:11:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3012b875af5eda9ee773aa2774d086f1597a3d58', 'message': 'Switch to official Ussuri jobs\n\nChange-Id: I0d823c6f55179bd79e1e15ff50b044dc269b71e7\n'}]",0,687947,3012b875af5eda9ee773aa2774d086f1597a3d58,11,5,1,29313,,,0,"Switch to official Ussuri jobs

Change-Id: I0d823c6f55179bd79e1e15ff50b044dc269b71e7
",git fetch https://review.opendev.org/openstack/horizon refs/changes/47/687947/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3012b875af5eda9ee773aa2774d086f1597a3d58,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Frpm-packaging~stable%2Ftrain~I9f20e6ddf9bc6b8238e00dad9592ac1282d7d118,openstack/rpm-packaging,stable/train,I9f20e6ddf9bc6b8238e00dad9592ac1282d7d118,keystone: update filelist,MERGED,2019-10-11 17:01:30.000000000,2019-10-14 07:26:36.000000000,2019-10-14 07:26:36.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-10-11 17:01:30.000000000', 'files': ['openstack/keystone/keystone.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9e348e73f9fa1f8be930714e123f84fdbbeee9f5', 'message': 'keystone: update filelist\n\nthis was removed in Ie45955f5cc54563cc9704d7cb2b656b5544ae030\n\nChange-Id: I9f20e6ddf9bc6b8238e00dad9592ac1282d7d118\n'}]",0,688175,9e348e73f9fa1f8be930714e123f84fdbbeee9f5,8,5,1,7102,,,0,"keystone: update filelist

this was removed in Ie45955f5cc54563cc9704d7cb2b656b5544ae030

Change-Id: I9f20e6ddf9bc6b8238e00dad9592ac1282d7d118
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/75/688175/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/keystone/keystone.spec.j2'],1,9e348e73f9fa1f8be930714e123f84fdbbeee9f5,,,"install -p -D -m 644 etc/policy.v3cloudsample.json %{buildroot}%{_datadir}/keystone/policy.v3cloudsample.json%attr(0644, root, keystone) %{_datadir}/keystone/policy.v3cloudsample.json",0,2
openstack%2Fcharm-ceph-radosgw~master~I18c3763dce53d1d652185f9fba73523a5c5a65a6,openstack/charm-ceph-radosgw,master,I18c3763dce53d1d652185f9fba73523a5c5a65a6,Parse the leader_get output,MERGED,2019-10-11 13:45:36.000000000,2019-10-14 07:25:13.000000000,2019-10-14 07:25:13.000000000,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-11 13:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/dc7e0d0abf19d49e7e4961e139863ff768749aa4', 'message': 'Parse the leader_get output\n\nBecause laeder_get only deals with stringy types, it is\nunsound to evaluate them as booleans to toggle something\non or off.\n\nChange-Id: I18c3763dce53d1d652185f9fba73523a5c5a65a6\nCloses-Bug: #1847769\n'}, {'number': 2, 'created': '2019-10-11 14:03:41.000000000', 'files': ['hooks/hooks.py', 'unit_tests/test_ceph_radosgw_context.py', 'unit_tests/test_hooks.py', 'hooks/ceph_radosgw_context.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/7e3d74c6b0cba6f66cb96f5ea25cf96c49d304a7', 'message': 'Parse the leader_get output\n\nBecause laeder_get only deals with stringy types, it is\nunsound to evaluate them as booleans to toggle something\non or off.\n\nChange-Id: I18c3763dce53d1d652185f9fba73523a5c5a65a6\nCloses-Bug: #1847769\n'}]",0,688128,7e3d74c6b0cba6f66cb96f5ea25cf96c49d304a7,14,7,2,20634,,,0,"Parse the leader_get output

Because laeder_get only deals with stringy types, it is
unsound to evaluate them as booleans to toggle something
on or off.

Change-Id: I18c3763dce53d1d652185f9fba73523a5c5a65a6
Closes-Bug: #1847769
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/28/688128/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'unit_tests/test_ceph_radosgw_context.py', 'unit_tests/test_hooks.py']",3,dc7e0d0abf19d49e7e4961e139863ff768749aa4,bug/1847769, _leader_get.return_value = 'False' _leader_get.return_value = 'False' _leader_get.return_value = 'True' _leader_get.return_value = 'False', _leader_get.return_value = False _leader_get.return_value = False _leader_get.return_value = True _leader_get.return_value = False,8,8
openstack%2Fkeystone~master~Ie0c0b48d240b118f7b491d164e5c1a203ebb31e8,openstack/keystone,master,Ie0c0b48d240b118f7b491d164e5c1a203ebb31e8,Remove legacy protection tests,MERGED,2019-10-02 21:09:11.000000000,2019-10-14 07:20:42.000000000,2019-10-10 15:42:09.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 9954}, {'_account_id': 13063}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-10-02 21:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a80d2d0f5a73a7abac656807814151777128a941', 'message': ""Remove policy.v3cloudsample.json tests\n\nThis commit removes a bunch of tests that were originally written to\ntest the policy.v3cloudsample.json policy file. Now that we've\nimplemented system-scope, default roles, and removed the\npolicy.v3cloudsample.json policy file, we can remove these tests.\n\nChange-Id: Ie0c0b48d240b118f7b491d164e5c1a203ebb31e8\n""}, {'number': 2, 'created': '2019-10-04 19:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cbb84e440ea3e833858213e2331e8fcba3e0de4d', 'message': ""Remove policy.v3cloudsample.json tests\n\nThis commit removes a bunch of tests that were originally written to\ntest the policy.v3cloudsample.json policy file. Now that we've\nimplemented system-scope, default roles, and removed the\npolicy.v3cloudsample.json policy file, we can remove these tests.\n\nThis commit also removes some tests that tested various administrator\nfunctionality across domain and project scopes. Since this\nfunctionality is possible without needing policy overrides and is\ntested in keystone.tests.protection.v3 we can safely remove these\ntests. The TestTokenRevokeSelfAndAdmin test class is redundant with\nkeystone.tests.protection.v3.test_tokens\n\nChange-Id: Ie0c0b48d240b118f7b491d164e5c1a203ebb31e8\n""}, {'number': 3, 'created': '2019-10-04 19:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ec0989cbc754177404c2828fdab5658702c13198', 'message': ""Remove policy.v3cloudsample.json tests\n\nThis commit removes a bunch of tests that were originally written to\ntest the policy.v3cloudsample.json policy file. Now that we've\nimplemented system-scope, default roles, and removed the\npolicy.v3cloudsample.json policy file, we can remove these tests.\n\nThis commit also ports some token revocation tests over to the\nprotection test suite so we have full coverage from\nTestTokenRevokeSelfAndAdmin.\n\nChange-Id: Ie0c0b48d240b118f7b491d164e5c1a203ebb31e8\n""}, {'number': 4, 'created': '2019-10-04 19:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f41b3b93f92491fd0f759b67b81bc12e6241a46c', 'message': ""Remove legacy protection tests\n\nThis commit removes a bunch of tests that were originally written to\ntest the policy.v3cloudsample.json policy file. Now that we've\nimplemented system-scope, default roles, and removed the\npolicy.v3cloudsample.json policy file, we can remove these tests.\n\nThis commit also ports some token revocation tests over to the\nprotection test suite so we have full coverage from\nTestTokenRevokeSelfAndAdmin.\n\nChange-Id: Ie0c0b48d240b118f7b491d164e5c1a203ebb31e8\n""}, {'number': 5, 'created': '2019-10-07 12:21:13.000000000', 'files': ['keystone/tests/unit/test_v3_protection.py', 'keystone/tests/unit/test_v3_auth.py', 'keystone/tests/protection/v3/test_tokens.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5f5f10630c7d2a5600f9efc0950a1f20b17a0d8c', 'message': ""Remove legacy protection tests\n\nThis commit removes a bunch of tests that were originally written to\ntest the policy.v3cloudsample.json policy file. Now that we've\nimplemented system-scope, default roles, and removed the\npolicy.v3cloudsample.json policy file, we can remove these tests.\n\nThis commit also ports some token revocation tests over to the\nprotection test suite so we have full coverage from\nTestTokenRevokeSelfAndAdmin.\n\nChange-Id: Ie0c0b48d240b118f7b491d164e5c1a203ebb31e8\n""}]",8,686297,5f5f10630c7d2a5600f9efc0950a1f20b17a0d8c,24,7,5,5046,,,0,"Remove legacy protection tests

This commit removes a bunch of tests that were originally written to
test the policy.v3cloudsample.json policy file. Now that we've
implemented system-scope, default roles, and removed the
policy.v3cloudsample.json policy file, we can remove these tests.

This commit also ports some token revocation tests over to the
protection test suite so we have full coverage from
TestTokenRevokeSelfAndAdmin.

Change-Id: Ie0c0b48d240b118f7b491d164e5c1a203ebb31e8
",git fetch https://review.opendev.org/openstack/keystone refs/changes/97/686297/5 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_v3_protection.py', 'keystone/tests/unit/test_v3_auth.py']",2,a80d2d0f5a73a7abac656807814151777128a941,train-rc1-policy-fixes,,"class TestTokenRevokeSelfAndAdmin(test_v3.RestfulTestCase): """"""Test token revoke using v3 Identity API by token owner and admin."""""" def load_sample_data(self): """"""Load Sample Data for Test Cases. Two domains, domainA and domainB Two users in domainA, userNormalA and userAdminA One user in domainB, userAdminB """""" super(TestTokenRevokeSelfAndAdmin, self).load_sample_data() # DomainA setup self.domainA = unit.new_domain_ref() PROVIDERS.resource_api.create_domain(self.domainA['id'], self.domainA) self.userAdminA = unit.create_user(PROVIDERS.identity_api, domain_id=self.domainA['id']) self.userNormalA = unit.create_user(PROVIDERS.identity_api, domain_id=self.domainA['id']) PROVIDERS.assignment_api.create_grant( self.role['id'], user_id=self.userAdminA['id'], domain_id=self.domainA['id'] ) def test_user_revokes_own_token(self): user_token = self.get_requested_token( self.build_authentication_request( user_id=self.userNormalA['id'], password=self.userNormalA['password'], user_domain_id=self.domainA['id'])) self.assertNotEmpty(user_token) headers = {'X-Subject-Token': user_token} adminA_token = self.get_requested_token( self.build_authentication_request( user_id=self.userAdminA['id'], password=self.userAdminA['password'], domain_name=self.domainA['name'])) self.head('/auth/tokens', headers=headers, expected_status=http_client.OK, token=adminA_token) self.head('/auth/tokens', headers=headers, expected_status=http_client.OK, token=user_token) self.delete('/auth/tokens', headers=headers, token=user_token) # invalid X-Auth-Token and invalid X-Subject-Token self.head('/auth/tokens', headers=headers, expected_status=http_client.UNAUTHORIZED, token=user_token) # invalid X-Auth-Token and invalid X-Subject-Token self.delete('/auth/tokens', headers=headers, expected_status=http_client.UNAUTHORIZED, token=user_token) # valid X-Auth-Token and invalid X-Subject-Token self.delete('/auth/tokens', headers=headers, expected_status=http_client.NOT_FOUND, token=adminA_token) # valid X-Auth-Token and invalid X-Subject-Token self.head('/auth/tokens', headers=headers, expected_status=http_client.NOT_FOUND, token=adminA_token) def test_adminA_revokes_userA_token(self): user_token = self.get_requested_token( self.build_authentication_request( user_id=self.userNormalA['id'], password=self.userNormalA['password'], user_domain_id=self.domainA['id'])) self.assertNotEmpty(user_token) headers = {'X-Subject-Token': user_token} adminA_token = self.get_requested_token( self.build_authentication_request( user_id=self.userAdminA['id'], password=self.userAdminA['password'], domain_name=self.domainA['name'])) self.head('/auth/tokens', headers=headers, expected_status=http_client.OK, token=adminA_token) self.head('/auth/tokens', headers=headers, expected_status=http_client.OK, token=user_token) self.delete('/auth/tokens', headers=headers, token=adminA_token) # invalid X-Auth-Token and invalid X-Subject-Token self.head('/auth/tokens', headers=headers, expected_status=http_client.UNAUTHORIZED, token=user_token) # valid X-Auth-Token and invalid X-Subject-Token self.delete('/auth/tokens', headers=headers, expected_status=http_client.NOT_FOUND, token=adminA_token) # valid X-Auth-Token and invalid X-Subject-Token self.head('/auth/tokens', headers=headers, expected_status=http_client.NOT_FOUND, token=adminA_token) ",0,1669
openstack%2Fcookbook-openstack-orchestration~master~I8048270047767bda7414b2baee176f7bc9ab7a8b,openstack/cookbook-openstack-orchestration,master,I8048270047767bda7414b2baee176f7bc9ab7a8b,Start heat services in addition to enabling them,MERGED,2019-10-12 18:27:00.000000000,2019-10-14 06:56:27.000000000,2019-10-14 06:56:27.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-12 18:27:00.000000000', 'files': ['spec/api-cfn-redhat_spec.rb', 'recipes/engine.rb', 'spec/engine-redhat_spec.rb', 'spec/api-redhat_spec.rb', 'recipes/api.rb', 'recipes/api-cfn.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-orchestration/commit/d98d4a97574cf739c82484b2521c501eec119227', 'message': ""Start heat services in addition to enabling them\n\nI noticed this was missing during some upgrade testing when I noticed the heat\nservices didn't start back up after shutting them down for the upgrade and\nrunning chef. I'm not sure why this was set to enable only.\n\nChange-Id: I8048270047767bda7414b2baee176f7bc9ab7a8b\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}]",0,688283,d98d4a97574cf739c82484b2521c501eec119227,6,2,1,21961,,,0,"Start heat services in addition to enabling them

I noticed this was missing during some upgrade testing when I noticed the heat
services didn't start back up after shutting them down for the upgrade and
running chef. I'm not sure why this was set to enable only.

Change-Id: I8048270047767bda7414b2baee176f7bc9ab7a8b
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-orchestration refs/changes/83/688283/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/api-cfn-redhat_spec.rb', 'recipes/engine.rb', 'spec/engine-redhat_spec.rb', 'spec/api-redhat_spec.rb', 'recipes/api.rb', 'recipes/api-cfn.rb']",6,d98d4a97574cf739c82484b2521c501eec119227,start-services," action [:enable, :start]", action :enable,18,6
openstack%2Fironic-inspector~master~I4e147201a859ef8c5a51a9bc896e7d9b7b9d8fa0,openstack/ironic-inspector,master,I4e147201a859ef8c5a51a9bc896e7d9b7b9d8fa0,Remove unused import statement.,MERGED,2019-09-16 10:08:55.000000000,2019-10-14 06:50:46.000000000,2019-10-14 06:49:10.000000000,"[{'_account_id': 10068}, {'_account_id': 10206}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23360}, {'_account_id': 23851}, {'_account_id': 26458}, {'_account_id': 30458}]","[{'number': 1, 'created': '2019-09-16 10:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d247b4eb296b2c863dd86056f676e2153dfbae4d', 'message': 'This is a unused line.\n\nChange-Id: I4e147201a859ef8c5a51a9bc896e7d9b7b9d8fa0\n'}, {'number': 2, 'created': '2019-09-23 06:05:54.000000000', 'files': ['ironic_inspector/db.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/40bd2e14ad403aa552e61a20f2ced61eb03c3e2b', 'message': 'Remove unused import statement.\n\nChange-Id: I4e147201a859ef8c5a51a9bc896e7d9b7b9d8fa0\n'}]",0,682330,40bd2e14ad403aa552e61a20f2ced61eb03c3e2b,35,9,2,30458,,,0,"Remove unused import statement.

Change-Id: I4e147201a859ef8c5a51a9bc896e7d9b7b9d8fa0
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/30/682330/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/db.py'],1,d247b4eb296b2c863dd86056f676e2153dfbae4d,,,from ironic_inspector import conf # noqa,1,1
openstack%2Ftripleo-common~stable%2Fstein~Ie4f34f668bdb32395187662566d917e799249444,openstack/tripleo-common,stable/stein,Ie4f34f668bdb32395187662566d917e799249444,Add support for uploading local image,MERGED,2019-08-29 08:56:57.000000000,2019-10-14 06:44:21.000000000,2019-10-14 06:40:18.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-08-29 08:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/55aa8db22a448110fc11b44f009afee35808dd05', 'message': 'Add support for uploading local image\n\nThe current python image uploader only supports uploading an image from\na remote source to a repository. Since customers my have a custom image\nlocally and want to push it to an undercloud repository (non-docker\nbased), we need to expose a way to upload a local image to an undercloud\nrepository. This change adjusts the upload function to check if the\nsource image is local because it is prefixed with containers-storage:\nrather than docker:// or no prefix.\n\nChange-Id: Ie4f34f668bdb32395187662566d917e799249444\nRelated-Blueprint: podman-support\n(cherry picked from commit ae5198b6c6c1fb9a56607f4f92029d20bda4bef2)\n'}, {'number': 2, 'created': '2019-10-04 17:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4e651b20decb460608b345e9578728249b47cb3f', 'message': 'Add support for uploading local image\n\nThe current python image uploader only supports uploading an image from\na remote source to a repository. Since customers my have a custom image\nlocally and want to push it to an undercloud repository (non-docker\nbased), we need to expose a way to upload a local image to an undercloud\nrepository. This change adjusts the upload function to check if the\nsource image is local because it is prefixed with containers-storage:\nrather than docker:// or no prefix.\n\nChange-Id: Ie4f34f668bdb32395187662566d917e799249444\nRelated-Blueprint: podman-support\n(cherry picked from commit ae5198b6c6c1fb9a56607f4f92029d20bda4bef2)\n'}, {'number': 3, 'created': '2019-10-04 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d5b3df3aadbde7b99d415261b9407eb08eb548f1', 'message': 'Add support for uploading local image\n\nThe current python image uploader only supports uploading an image from\na remote source to a repository. Since customers my have a custom image\nlocally and want to push it to an undercloud repository (non-docker\nbased), we need to expose a way to upload a local image to an undercloud\nrepository. This change adjusts the upload function to check if the\nsource image is local because it is prefixed with containers-storage:\nrather than docker:// or no prefix.\n\nChange-Id: Ie4f34f668bdb32395187662566d917e799249444\nRelated-Blueprint: podman-support\n(cherry picked from commit ae5198b6c6c1fb9a56607f4f92029d20bda4bef2)\n'}, {'number': 4, 'created': '2019-10-09 08:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/45fe78f12a82958b55c170e1b5bab0f75bbacee3', 'message': 'Add support for uploading local image\n\nThe current python image uploader only supports uploading an image from\na remote source to a repository. Since customers my have a custom image\nlocally and want to push it to an undercloud repository (non-docker\nbased), we need to expose a way to upload a local image to an undercloud\nrepository. This change adjusts the upload function to check if the\nsource image is local because it is prefixed with containers-storage:\nrather than docker:// or no prefix.\n\nChange-Id: Ie4f34f668bdb32395187662566d917e799249444\nRelated-Blueprint: podman-support\n(cherry picked from commit ae5198b6c6c1fb9a56607f4f92029d20bda4bef2)\n'}, {'number': 5, 'created': '2019-10-09 21:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b3f34b90b6fd708414ea73542495097b9ec3175d', 'message': 'Add support for uploading local image\n\nThe current python image uploader only supports uploading an image from\na remote source to a repository. Since customers my have a custom image\nlocally and want to push it to an undercloud repository (non-docker\nbased), we need to expose a way to upload a local image to an undercloud\nrepository. This change adjusts the upload function to check if the\nsource image is local because it is prefixed with containers-storage:\nrather than docker:// or no prefix.\n\nChange-Id: Ie4f34f668bdb32395187662566d917e799249444\nRelated-Blueprint: podman-support\n(cherry picked from commit ae5198b6c6c1fb9a56607f4f92029d20bda4bef2)\n'}, {'number': 6, 'created': '2019-10-11 20:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5aafcd2f756b40515d73df687c5260148f707a01', 'message': 'Add support for uploading local image\n\nThe current python image uploader only supports uploading an image from\na remote source to a repository. Since customers my have a custom image\nlocally and want to push it to an undercloud repository (non-docker\nbased), we need to expose a way to upload a local image to an undercloud\nrepository. This change adjusts the upload function to check if the\nsource image is local because it is prefixed with containers-storage:\nrather than docker:// or no prefix.\n\nChange-Id: Ie4f34f668bdb32395187662566d917e799249444\nRelated-Blueprint: podman-support\n(cherry picked from commit ae5198b6c6c1fb9a56607f4f92029d20bda4bef2)\n'}, {'number': 7, 'created': '2019-10-14 00:33:09.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/197a05edbcf0de92fbc5b0a72db92ece9db67d87', 'message': 'Add support for uploading local image\n\nThe current python image uploader only supports uploading an image from\na remote source to a repository. Since customers my have a custom image\nlocally and want to push it to an undercloud repository (non-docker\nbased), we need to expose a way to upload a local image to an undercloud\nrepository. This change adjusts the upload function to check if the\nsource image is local because it is prefixed with containers-storage:\nrather than docker:// or no prefix.\n\nChange-Id: Ie4f34f668bdb32395187662566d917e799249444\nRelated-Blueprint: podman-support\n(cherry picked from commit ae5198b6c6c1fb9a56607f4f92029d20bda4bef2)\n'}]",0,679207,197a05edbcf0de92fbc5b0a72db92ece9db67d87,39,8,7,11090,,,0,"Add support for uploading local image

The current python image uploader only supports uploading an image from
a remote source to a repository. Since customers my have a custom image
locally and want to push it to an undercloud repository (non-docker
based), we need to expose a way to upload a local image to an undercloud
repository. This change adjusts the upload function to check if the
source image is local because it is prefixed with containers-storage:
rather than docker:// or no prefix.

Change-Id: Ie4f34f668bdb32395187662566d917e799249444
Related-Blueprint: podman-support
(cherry picked from commit ae5198b6c6c1fb9a56607f4f92029d20bda4bef2)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/679207/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,55aa8db22a448110fc11b44f009afee35808dd05,bug/1844446-stable/stein," """"""Upload image from a task This function takes an UploadTask and pushes it to the appropriate target destinations. It should be noted that if the source container is prefix with 'containers-storage:' instead of 'docker://' or no prefix, this process will assume that the source container is already local to the system. The local container upload does not currently support any of the modification actions. In order to run the modification actions on a container prior to upload, the source must be a remote image. Additionally, cleanup has no affect when uploading a local image as well. :param: task: UploadTask with container information """""" source_local = t.source_image.startswith('containers-storage:') if source_local: if t.modify_role: raise NotImplementedError('Modify role not implemented for ' 'local containers') if t.cleanup: LOG.warning('Cleanup has no effect with a local source ' 'container.') source_local_url = parse.urlparse(t.source_image) # Copy from local storage to target registry self._copy_local_to_registry( source_local_url, t.target_image_url, session=target_session ) target_session.close() return [] ",,84,0
openstack%2Fdiskimage-builder~master~Ia267a60eecfa8f4071dd477d86daebe07e9a7e38,openstack/diskimage-builder,master,Ia267a60eecfa8f4071dd477d86daebe07e9a7e38,"pip-and-virtualenv : deprecate source for CentOS 8, new variables",MERGED,2019-09-25 05:33:13.000000000,2019-10-14 06:43:20.000000000,2019-10-05 05:53:35.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-25 05:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e4a68cbf7611b37dac07b368f2e806b8fc01ce60', 'message': '[wip] pip-and-virtualenv : fix for centos 8\n\nChange-Id: Ia267a60eecfa8f4071dd477d86daebe07e9a7e38\n'}, {'number': 2, 'created': '2019-09-25 06:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f0374eb171f6127af483aa763950153474a115a8', 'message': '[wip] pip-and-virtualenv : fix for centos 8\n\nChange-Id: Ia267a60eecfa8f4071dd477d86daebe07e9a7e38\n'}, {'number': 3, 'created': '2019-09-26 00:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c32a4c44175cf24162dbaf213f7beae3bcb7ef56', 'message': '[wip] pip-and-virtualenv : fix for centos 8\n\nAdd a branch to match centos 8 which is setup like a modern Fedora.\n\nNote this is also installs python2.  That\'s because the source-install\nhere is going to some effort to provide an infra-wide homogenous\nenvironment of the latest tools from upstream, and where ""pip"" and\n""virtualenv"" are python2 and ""pip3"" ""virtualenv3"" are python3.\n\nAnother option is to basically drop source support and just install\nfrom packages, and jobs migrating to centos8 should be python3 only\nand in a standard upstream environment.  This is certainly appealing\nif others feel this way...\n\nChange-Id: Ia267a60eecfa8f4071dd477d86daebe07e9a7e38\n'}, {'number': 4, 'created': '2019-09-26 01:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/04679efea0c6d432509151482123348ff0b3b667', 'message': '[wip] pip-and-virtualenv : fix for centos 8\n\nAdd a branch to match centos 8 which is setup like a modern Fedora.\n\nNote this is also installs python2.  That\'s because the source-install\nhere is going to some effort to provide an infra-wide homogenous\nenvironment of the latest tools from upstream, and where ""pip"" and\n""virtualenv"" are python2 and ""pip3"" ""virtualenv3"" are python3.\n\nAnother option is to basically drop source support and just install\nfrom packages, and jobs migrating to centos8 should be python3 only\nand in a standard upstream environment.  This is certainly appealing\nif others feel this way...\n\nChange-Id: Ia267a60eecfa8f4071dd477d86daebe07e9a7e38\n'}, {'number': 5, 'created': '2019-09-26 02:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/850b397da07c3f1af126cf6a3741987988fd3391', 'message': '[wip] pip-and-virtualenv : fix for centos 8\n\nAdd a branch to match centos 8 which is setup like a modern Fedora.\n\nNote this is also installs python2.  That\'s because the source-install\nhere is going to some effort to provide an infra-wide homogenous\nenvironment of the latest tools from upstream, and where ""pip"" and\n""virtualenv"" are python2 and ""pip3"" ""virtualenv3"" are python3.\n\nAnother option is to basically drop source support and just install\nfrom packages, and jobs migrating to centos8 should be python3 only\nand in a standard upstream environment.  This is certainly appealing\nif others feel this way...\n\nChange-Id: Ia267a60eecfa8f4071dd477d86daebe07e9a7e38\n'}, {'number': 6, 'created': '2019-09-26 07:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a969fc067ed41635668766e22fce674074bb2e00', 'message': '[wip] pip-and-virtualenv : fix for centos 8\n\nAdd a branch to match centos 8 which is setup like a modern Fedora.\n\nNote this is also installs python2.  That\'s because the source-install\nhere is going to some effort to provide an infra-wide homogenous\nenvironment of the latest tools from upstream, and where ""pip"" and\n""virtualenv"" are python2 and ""pip3"" ""virtualenv3"" are python3.\n\nAnother option is to basically drop source support and just install\nfrom packages, and jobs migrating to centos8 should be python3 only\nand in a standard upstream environment.  This is certainly appealing\nif others feel this way...\n\nChange-Id: Ia267a60eecfa8f4071dd477d86daebe07e9a7e38\n'}, {'number': 7, 'created': '2019-09-26 09:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e67e41d79f1c628ee46adebe6914e0d44f21dfac', 'message': '[wip] pip-and-virtualenv : fix for centos 8\n\nAdd a branch to match centos 8 which is setup like a modern Fedora.\n\nNote this is also installs python2.  That\'s because the source-install\nhere is going to some effort to provide an infra-wide homogenous\nenvironment of the latest tools from upstream, and where ""pip"" and\n""virtualenv"" are python2 and ""pip3"" ""virtualenv3"" are python3.\n\nAnother option is to basically drop source support and just install\nfrom packages, and jobs migrating to centos8 should be python3 only\nand in a standard upstream environment.  This is certainly appealing\nif others feel this way...\n\nChange-Id: Ia267a60eecfa8f4071dd477d86daebe07e9a7e38\n'}, {'number': 8, 'created': '2019-09-27 00:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/398d25bea874a54099320593a8e6694080c759c2', 'message': '[wip] pip-and-virtualenv : fix for centos 8\n\nAdd a branch to match centos 8 which is setup like a modern Fedora.\n\nNote this is also installs python2.  That\'s because the source-install\nhere is going to some effort to provide an infra-wide homogenous\nenvironment of the latest tools from upstream, and where ""pip"" and\n""virtualenv"" are python2 and ""pip3"" ""virtualenv3"" are python3.\n\nAnother option is to basically drop source support and just install\nfrom packages, and jobs migrating to centos8 should be python3 only\nand in a standard upstream environment.  This is certainly appealing\nif others feel this way...\n\nChange-Id: Ia267a60eecfa8f4071dd477d86daebe07e9a7e38\n'}, {'number': 9, 'created': '2019-09-27 00:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/40d717150c4c48ae1928b6224278310874f6d818', 'message': '[wip] pip-and-virtualenv : fix for centos 8\n\nAdd a branch to match centos 8 which is setup like a modern Fedora.\n\nNote this is also installs python2.  That\'s because the source-install\nhere is going to some effort to provide an infra-wide homogenous\nenvironment of the latest tools from upstream, and where ""pip"" and\n""virtualenv"" are python2 and ""pip3"" ""virtualenv3"" are python3.\n\nAnother option is to basically drop source support and just install\nfrom packages, and jobs migrating to centos8 should be python3 only\nand in a standard upstream environment.  This is certainly appealing\nif others feel this way...\n\nChange-Id: Ia267a60eecfa8f4071dd477d86daebe07e9a7e38\n'}, {'number': 10, 'created': '2019-09-30 05:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/546afff618a7b211e5a7e6b571c6754cfd33b386', 'message': '[wip] pip-and-virtualenv : deprecate source for CentOS 8, new variables\n\nAs described inline, deprecate the ""source"" install for CentOS 8.\nOverwriting the packaged tools has long been a pain-point in our\nimages, and the best outcome is just not to play the game [1].\n\nHowever, the landscape remains complicated.  For example, RHEL/CentOS\n8 introduces the separate ""platform-python"" binary, which seems like\nthe right tool to install platform tools like ""glean"" (simple-init)\nwith.  However, platform-python doesn\'t have virtualenv (only the\ninbuilt venv).\n\nSo that every element doesn\'t have to hard-code in workarounds for\nthese various layouts, create two new variables DIB_PYTHON_PIP and\nDIB_PYTHON_VIRTUALENV to just ""do the right thing"".  If you need is\n""install a pip package"" or ""create a virtualenv"" this should work on\nall the platforms we support.  If you know more specifically what you\nwant (e.g. must be a python3 virtualenv) then nothing stops elements\ncalling that directly (e.g. python3 -m virtualenv create); these are\njust helper wrappers for base elements that need to be broadly\ncompatible.\n\n[1] http://lists.openstack.org/pipermail/openstack-infra/2019-September/006483.html\n\nChange-Id: Ia267a60eecfa8f4071dd477d86daebe07e9a7e38\n'}, {'number': 11, 'created': '2019-10-01 03:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/75da1a38f3f2c25c05e5982a7b1c989e3432709c', 'message': 'pip-and-virtualenv : deprecate source for CentOS 8, new variables\n\nAs described inline, deprecate the ""source"" install for CentOS 8.\nOverwriting the packaged tools has long been a pain-point in our\nimages, and the best outcome is just not to play the game [1].\n\nHowever, the landscape remains complicated.  For example, RHEL/CentOS\n8 introduces the separate ""platform-python"" binary, which seems like\nthe right tool to install platform tools like ""glean"" (simple-init)\nwith.  However, platform-python doesn\'t have virtualenv (only the\ninbuilt venv).\n\nSo that every element doesn\'t have to hard-code in workarounds for\nthese various layouts, create two new variables DIB_PYTHON_PIP and\nDIB_PYTHON_VIRTUALENV to just ""do the right thing"".  If you need is\n""install a pip package"" or ""create a virtualenv"" this should work on\nall the platforms we support.  If you know more specifically what you\nwant (e.g. must be a python3 virtualenv) then nothing stops elements\ncalling that directly (e.g. python3 -m virtualenv create); these are\njust helper wrappers for base elements that need to be broadly\ncompatible.\n\n[1] http://lists.openstack.org/pipermail/openstack-infra/2019-September/006483.html\n\nChange-Id: Ia267a60eecfa8f4071dd477d86daebe07e9a7e38\n'}, {'number': 12, 'created': '2019-10-01 06:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/848f09636156e7715420af930b8d3a6906d6f78b', 'message': 'pip-and-virtualenv : deprecate source for CentOS 8, new variables\n\nAs described inline, deprecate the ""source"" install for CentOS 8.\nOverwriting the packaged tools has long been a pain-point in our\nimages, and the best outcome is just not to play the game [1].\n\nHowever, the landscape remains complicated.  For example, RHEL/CentOS\n8 introduces the separate ""platform-python"" binary, which seems like\nthe right tool to install platform tools like ""glean"" (simple-init)\nwith.  However, platform-python doesn\'t have virtualenv (only the\ninbuilt venv).\n\nSo that every element doesn\'t have to hard-code in workarounds for\nthese various layouts, create two new variables DIB_PYTHON_PIP and\nDIB_PYTHON_VIRTUALENV to just ""do the right thing"".  If you need is\n""install a pip package"" or ""create a virtualenv"" this should work on\nall the platforms we support.  If you know more specifically what you\nwant (e.g. must be a python3 virtualenv) then nothing stops elements\ncalling that directly (e.g. python3 -m virtualenv create); these are\njust helper wrappers for base elements that need to be broadly\ncompatible.\n\n[1] http://lists.openstack.org/pipermail/openstack-infra/2019-September/006483.html\n\nChange-Id: Ia267a60eecfa8f4071dd477d86daebe07e9a7e38\n'}, {'number': 13, 'created': '2019-10-03 01:07:59.000000000', 'files': ['releasenotes/notes/pip-and-virtualenv-args-5d3f2512edd7f3a3.yaml', 'diskimage_builder/elements/pip-and-virtualenv/environment.d/51-pip-and-virutalenv-default.bash', 'diskimage_builder/elements/pip-and-virtualenv/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/18215274d895b4b6104c5d977c00b623568646b2', 'message': 'pip-and-virtualenv : deprecate source for CentOS 8, new variables\n\nAs described inline, deprecate the ""source"" install for CentOS 8.\nOverwriting the packaged tools has long been a pain-point in our\nimages, and the best outcome is just not to play the game [1].\n\nHowever, the landscape remains complicated.  For example, RHEL/CentOS\n8 introduces the separate ""platform-python"" binary, which seems like\nthe right tool to install platform tools like ""glean"" (simple-init)\nwith.  However, platform-python doesn\'t have virtualenv (only the\ninbuilt venv).\n\nSo that every element doesn\'t have to hard-code in workarounds for\nthese various layouts, create two new variables DIB_PYTHON_PIP and\nDIB_PYTHON_VIRTUALENV to just ""do the right thing"".  If you need is\n""install a pip package"" or ""create a virtualenv"" this should work on\nall the platforms we support.  If you know more specifically what you\nwant (e.g. must be a python3 virtualenv) then nothing stops elements\ncalling that directly (e.g. python3 -m virtualenv create); these are\njust helper wrappers for base elements that need to be broadly\ncompatible.\n\n[1] http://lists.openstack.org/pipermail/openstack-infra/2019-September/006483.html\n\nChange-Id: Ia267a60eecfa8f4071dd477d86daebe07e9a7e38\n'}]",7,684462,18215274d895b4b6104c5d977c00b623568646b2,49,5,13,7118,,,0,"pip-and-virtualenv : deprecate source for CentOS 8, new variables

As described inline, deprecate the ""source"" install for CentOS 8.
Overwriting the packaged tools has long been a pain-point in our
images, and the best outcome is just not to play the game [1].

However, the landscape remains complicated.  For example, RHEL/CentOS
8 introduces the separate ""platform-python"" binary, which seems like
the right tool to install platform tools like ""glean"" (simple-init)
with.  However, platform-python doesn't have virtualenv (only the
inbuilt venv).

So that every element doesn't have to hard-code in workarounds for
these various layouts, create two new variables DIB_PYTHON_PIP and
DIB_PYTHON_VIRTUALENV to just ""do the right thing"".  If you need is
""install a pip package"" or ""create a virtualenv"" this should work on
all the platforms we support.  If you know more specifically what you
want (e.g. must be a python3 virtualenv) then nothing stops elements
calling that directly (e.g. python3 -m virtualenv create); these are
just helper wrappers for base elements that need to be broadly
compatible.

[1] http://lists.openstack.org/pipermail/openstack-infra/2019-September/006483.html

Change-Id: Ia267a60eecfa8f4071dd477d86daebe07e9a7e38
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/62/684462/6 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip'],1,e4a68cbf7611b37dac07b368f2e806b8fc01ce60,centos8," case ""$DIB_RELEASE"" in 8) _do_py3=1 _clear_old_files=0 packages="" python3-virtualenv python3-pip python3-setuptools"" ;; *) # note python2-pip in epel _extra_repo=""--enablerepo=epel"" packages=""python-virtualenv python2-pip"" if [[ ""$(rpm -q --qf '[%{obsoletes}\n]' python2-setuptools)"" == ""python-setuptools"" ]]; then # If OpenStack release is installed, then python-setuptools is # obsoleted by python2-setuptools packages+="" python2-setuptools"" else packages+="" python-setuptools"" fi # see notes below _clear_old_files=1 ;; esac ;;"," # note python2-pip in epel _extra_repo=""--enablerepo=epel"" packages=""python-virtualenv python2-pip"" if [[ ""$(rpm -q --qf '[%{obsoletes}\n]' python2-setuptools)"" == ""python-setuptools"" ]]; then # If OpenStack release is installed, then python-setuptools is # obsoleted by python2-setuptools packages+="" python2-setuptools"" else packages+="" python-setuptools"" fi # see notes below _clear_old_files=1 ;;",22,13
openstack%2Ftripleo-common~stable%2Fstein~Ia7abec997f4e503e1a2db82e05d4fe6e8696defc,openstack/tripleo-common,stable/stein,Ia7abec997f4e503e1a2db82e05d4fe6e8696defc,Improve ThreadPoolExecutor usage,MERGED,2019-10-04 17:34:48.000000000,2019-10-14 06:42:28.000000000,2019-10-14 06:40:17.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-04 17:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/64a88b054e42f30380937d140199c74b1f04b2a4', 'message': ""Improve ThreadPoolExecutor usage\n\nThis change addresses a few different issues with out ThreadPoolExecutor\nusage.\n\nPreviously we were inefficiently looping on the job results which was a\nblocking call and not asynchronous. This change switched the threadpool\nusage to use as_completed so we'll handle jobs as they complete rather\nthan blocking until the the specific job we're looking at completes.\n\nAdditionally this switches to use a with statement for the executor so\nthe threads get cleaned up correctly when we're done with the block.\n\nSee example comments:\nhttps://docs.python.org/3/library/concurrent.futures.html#threadpoolexecutor-example\n\nThe _inspect call was using a thread pool executor to run session calls\nbut was essentially a serial executing function so it has been updated\nto remove the executor and just call the requests as needed.\n\nChange-Id: Ia7abec997f4e503e1a2db82e05d4fe6e8696defc\nRelated-Bug: #1844446\n(cherry picked from commit a1d89c7d6359a388f46dc3e71b16ebb11851f571)\n""}, {'number': 2, 'created': '2019-10-04 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8d21e5be670ddc4d85fa102f75407f9549aaf08b', 'message': ""Improve ThreadPoolExecutor usage\n\nThis change addresses a few different issues with out ThreadPoolExecutor\nusage.\n\nPreviously we were inefficiently looping on the job results which was a\nblocking call and not asynchronous. This change switched the threadpool\nusage to use as_completed so we'll handle jobs as they complete rather\nthan blocking until the the specific job we're looking at completes.\n\nAdditionally this switches to use a with statement for the executor so\nthe threads get cleaned up correctly when we're done with the block.\n\nSee example comments:\nhttps://docs.python.org/3/library/concurrent.futures.html#threadpoolexecutor-example\n\nThe _inspect call was using a thread pool executor to run session calls\nbut was essentially a serial executing function so it has been updated\nto remove the executor and just call the requests as needed.\n\nChange-Id: Ia7abec997f4e503e1a2db82e05d4fe6e8696defc\nRelated-Bug: #1844446\n(cherry picked from commit a1d89c7d6359a388f46dc3e71b16ebb11851f571)\n""}, {'number': 3, 'created': '2019-10-11 20:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b2c8768624f465180249a0e2aefebd71c2f9fa71', 'message': ""Improve ThreadPoolExecutor usage\n\nThis change addresses a few different issues with out ThreadPoolExecutor\nusage.\n\nPreviously we were inefficiently looping on the job results which was a\nblocking call and not asynchronous. This change switched the threadpool\nusage to use as_completed so we'll handle jobs as they complete rather\nthan blocking until the the specific job we're looking at completes.\n\nAdditionally this switches to use a with statement for the executor so\nthe threads get cleaned up correctly when we're done with the block.\n\nSee example comments:\nhttps://docs.python.org/3/library/concurrent.futures.html#threadpoolexecutor-example\n\nThe _inspect call was using a thread pool executor to run session calls\nbut was essentially a serial executing function so it has been updated\nto remove the executor and just call the requests as needed.\n\nChange-Id: Ia7abec997f4e503e1a2db82e05d4fe6e8696defc\nRelated-Bug: #1844446\n(cherry picked from commit a1d89c7d6359a388f46dc3e71b16ebb11851f571)\n""}, {'number': 4, 'created': '2019-10-14 00:32:55.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c882901f992f3253936281ae510e07fdbbe3fb71', 'message': ""Improve ThreadPoolExecutor usage\n\nThis change addresses a few different issues with out ThreadPoolExecutor\nusage.\n\nPreviously we were inefficiently looping on the job results which was a\nblocking call and not asynchronous. This change switched the threadpool\nusage to use as_completed so we'll handle jobs as they complete rather\nthan blocking until the the specific job we're looking at completes.\n\nAdditionally this switches to use a with statement for the executor so\nthe threads get cleaned up correctly when we're done with the block.\n\nSee example comments:\nhttps://docs.python.org/3/library/concurrent.futures.html#threadpoolexecutor-example\n\nThe _inspect call was using a thread pool executor to run session calls\nbut was essentially a serial executing function so it has been updated\nto remove the executor and just call the requests as needed.\n\nChange-Id: Ia7abec997f4e503e1a2db82e05d4fe6e8696defc\nRelated-Bug: #1844446\n(cherry picked from commit a1d89c7d6359a388f46dc3e71b16ebb11851f571)\n""}]",0,686786,c882901f992f3253936281ae510e07fdbbe3fb71,32,5,4,14985,,,0,"Improve ThreadPoolExecutor usage

This change addresses a few different issues with out ThreadPoolExecutor
usage.

Previously we were inefficiently looping on the job results which was a
blocking call and not asynchronous. This change switched the threadpool
usage to use as_completed so we'll handle jobs as they complete rather
than blocking until the the specific job we're looking at completes.

Additionally this switches to use a with statement for the executor so
the threads get cleaned up correctly when we're done with the block.

See example comments:
https://docs.python.org/3/library/concurrent.futures.html#threadpoolexecutor-example

The _inspect call was using a thread pool executor to run session calls
but was essentially a serial executing function so it has been updated
to remove the executor and just call the requests as needed.

Change-Id: Ia7abec997f4e503e1a2db82e05d4fe6e8696defc
Related-Bug: #1844446
(cherry picked from commit a1d89c7d6359a388f46dc3e71b16ebb11851f571)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/86/686786/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,64a88b054e42f30380937d140199c74b1f04b2a4,bug/1844446-stable/stein," manifest_r = session.get(manifest_url, headers=manifest_headers, timeout=30) tags_r = session.get(tags_url, timeout=30) config_r = session.get(config_url, headers=config_headers, timeout=30) # just return since the catalog returned a 404 LOG.debug('catalog_url return 404') return [] with futures.ThreadPoolExecutor(max_workers=16) as p: for image, tags in p.map(tags_for_image, tags_get_args): if not tags: continue for tag in tags: images.append('%s:%s' % (image, tag)) with futures.ThreadPoolExecutor(max_workers=16) as p: for image, versioned_image in p.map(discover_tag_from_inspect, discover_args): versioned_images[image] = versioned_image with futures.ThreadPoolExecutor(max_workers=workers) as p: for result in p.map(upload_task, self.upload_tasks): local_images.extend(result) with futures.ThreadPoolExecutor(max_workers=4) as p: if source_layers: for layer in source_layers: copy_jobs.append(p.submit( cls._copy_layer_registry_to_registry, source_url, target_url, layer=layer, source_session=source_session, target_session=target_session )) for job in futures.as_completed(copy_jobs): e = job.exception() if e: raise e image = job.result() if image: LOG.debug('Upload complete for layer: %s' % image) with futures.ThreadPoolExecutor(max_workers=4) as p: for layer in manifest['layers']: layer_entry = layers_by_digest[layer['digest']] copy_jobs.append(p.submit( cls._copy_layer_local_to_registry, target_url, session, layer, layer_entry )) for job in futures.as_completed(copy_jobs): e = job.exception() if e: raise e image = job.result() if image: LOG.debug('Upload complete for layer: %s' % image) # workers will be half the CPU, with a minimum of 2 workers = max(2, processutils.get_worker_count() // 2) with futures.ThreadPoolExecutor(max_workers=workers) as p: for result in p.map(upload_task, self.upload_tasks): local_images.extend(result) LOG.info('result %s' % local_images)"," p = futures.ThreadPoolExecutor(max_workers=2) manifest_f = p.submit( session.get, manifest_url, headers=manifest_headers, timeout=30) tags_f = p.submit(session.get, tags_url, timeout=30) manifest_r = manifest_f.result() tags_r = tags_f.result() config_f = p.submit( session.get, config_url, headers=config_headers, timeout=30) config_r = config_f.result() catalog = {} p = futures.ThreadPoolExecutor(max_workers=16) for image, tags in p.map(tags_for_image, tags_get_args): if not tags: continue for tag in tags: images.append('%s:%s' % (image, tag)) p = futures.ThreadPoolExecutor(max_workers=16) for image, versioned_image in p.map(discover_tag_from_inspect, discover_args): versioned_images[image] = versioned_image p = futures.ThreadPoolExecutor(max_workers=workers) for result in p.map(upload_task, self.upload_tasks): local_images.extend(result) p = futures.ThreadPoolExecutor(max_workers=4) if source_layers: for layer in source_layers: copy_jobs.append(p.submit( cls._copy_layer_registry_to_registry, source_url, target_url, layer=layer, source_session=source_session, target_session=target_session )) for job in copy_jobs: e = job.exception() if e: raise e image = job.result() if image: LOG.debug('Upload complete for layer: %s' % image) p = futures.ThreadPoolExecutor(max_workers=4) for layer in manifest['layers']: layer_entry = layers_by_digest[layer['digest']] copy_jobs.append(p.submit( cls._copy_layer_local_to_registry, target_url, session, layer, layer_entry )) for job in copy_jobs: e = job.exception() if e: raise e image = job.result() if image: LOG.debug('Upload complete for layer: %s' % image) # workers will the CPU count minus 1, with a minimum of 2 workers = max(2, (processutils.get_worker_count() - 1)) p = futures.ThreadPoolExecutor(max_workers=workers) for result in p.map(upload_task, self.upload_tasks): local_images.extend(result) LOG.info('result %s' % local_images)",67,69
openstack%2Ftripleo-common~stable%2Fstein~Ifbcd55de52c9e2283203b1c6e2adeb266d43eca6,openstack/tripleo-common,stable/stein,Ifbcd55de52c9e2283203b1c6e2adeb266d43eca6,Randomize the container list for uploads,MERGED,2019-10-04 17:34:48.000000000,2019-10-14 06:18:13.000000000,2019-10-14 06:16:53.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-04 17:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/894f45487d1f8566da823c7c61c674507262ed28', 'message': ""Randomize the container list for uploads\n\nWhen we work through the list of containers in an alphabetical fashion,\nwe end up duplicating much of the layer fetching because it can occur at\nthe same time. Things like cinder-api, cinder-backup, cinder-volume\nshare many of the same layers.  Since we don't ensure that we only do\na single fetching of a layer hash durring the multiprocessing, we end\nup duplicating the fetches of layers. By randomizing the fetches, we\nreduce the likelihood that we'll be fetching the same family of service\ncontainers concurrently.\n\nChange-Id: Ifbcd55de52c9e2283203b1c6e2adeb266d43eca6\nRelated-Bug: #1844446\n(cherry picked from commit 3adfefa13aebd7bd9e48c952df9107d51a557011)\n""}, {'number': 2, 'created': '2019-10-04 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a724547e09b6e5dfb2bae4971a6415d327daf2fb', 'message': ""Randomize the container list for uploads\n\nWhen we work through the list of containers in an alphabetical fashion,\nwe end up duplicating much of the layer fetching because it can occur at\nthe same time. Things like cinder-api, cinder-backup, cinder-volume\nshare many of the same layers.  Since we don't ensure that we only do\na single fetching of a layer hash durring the multiprocessing, we end\nup duplicating the fetches of layers. By randomizing the fetches, we\nreduce the likelihood that we'll be fetching the same family of service\ncontainers concurrently.\n\nChange-Id: Ifbcd55de52c9e2283203b1c6e2adeb266d43eca6\nRelated-Bug: #1844446\n(cherry picked from commit 3adfefa13aebd7bd9e48c952df9107d51a557011)\n""}, {'number': 3, 'created': '2019-10-11 20:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e438f4df1d344f1f8e9b49535ec90e250c574341', 'message': ""Randomize the container list for uploads\n\nWhen we work through the list of containers in an alphabetical fashion,\nwe end up duplicating much of the layer fetching because it can occur at\nthe same time. Things like cinder-api, cinder-backup, cinder-volume\nshare many of the same layers.  Since we don't ensure that we only do\na single fetching of a layer hash durring the multiprocessing, we end\nup duplicating the fetches of layers. By randomizing the fetches, we\nreduce the likelihood that we'll be fetching the same family of service\ncontainers concurrently.\n\nChange-Id: Ifbcd55de52c9e2283203b1c6e2adeb266d43eca6\nRelated-Bug: #1844446\n(cherry picked from commit 3adfefa13aebd7bd9e48c952df9107d51a557011)\n""}, {'number': 4, 'created': '2019-10-14 00:32:37.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0c3c2623de8418ad7470d2369c26f27ef651aefc', 'message': ""Randomize the container list for uploads\n\nWhen we work through the list of containers in an alphabetical fashion,\nwe end up duplicating much of the layer fetching because it can occur at\nthe same time. Things like cinder-api, cinder-backup, cinder-volume\nshare many of the same layers.  Since we don't ensure that we only do\na single fetching of a layer hash durring the multiprocessing, we end\nup duplicating the fetches of layers. By randomizing the fetches, we\nreduce the likelihood that we'll be fetching the same family of service\ncontainers concurrently.\n\nChange-Id: Ifbcd55de52c9e2283203b1c6e2adeb266d43eca6\nRelated-Bug: #1844446\n(cherry picked from commit 3adfefa13aebd7bd9e48c952df9107d51a557011)\n""}]",0,686785,0c3c2623de8418ad7470d2369c26f27ef651aefc,39,5,4,14985,,,0,"Randomize the container list for uploads

When we work through the list of containers in an alphabetical fashion,
we end up duplicating much of the layer fetching because it can occur at
the same time. Things like cinder-api, cinder-backup, cinder-volume
share many of the same layers.  Since we don't ensure that we only do
a single fetching of a layer hash durring the multiprocessing, we end
up duplicating the fetches of layers. By randomizing the fetches, we
reduce the likelihood that we'll be fetching the same family of service
containers concurrently.

Change-Id: Ifbcd55de52c9e2283203b1c6e2adeb266d43eca6
Related-Bug: #1844446
(cherry picked from commit 3adfefa13aebd7bd9e48c952df9107d51a557011)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/85/686785/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,894f45487d1f8566da823c7c61c674507262ed28,bug/1844446-stable/stein,"import random tasks = [] tasks.append(UploadTask( self.cleanup, multi_arch)) # NOTE(mwhahaha): We want to randomize the upload process because of # the shared nature of container layers. Because we multiprocess the # handling of containers, if performed in an alphabetical order (the # default) we end up duplicating fetching of container layers. Things # Like cinder-volume and cinder-backup share almost all of the same # layers so when they are fetched at the same time, we will duplicate # the processing. By randomizing the list we will reduce the amount # of duplicating that occurs. In my testing I went from ~30mins to # ~20mins to run. In the future this could be improved if we added # some locking to the container fetching based on layer hashes but # will require a significant rewrite. random.shuffle(tasks) for task in tasks:"," task = UploadTask( self.cleanup, multi_arch)",18,2
openstack%2Fironic~master~Ibeae18798a25e33fa070f1120ce0cc0981f66850,openstack/ironic,master,Ibeae18798a25e33fa070f1120ce0cc0981f66850,DRAC: Fix a bug for clear_job_queue clean step with non-BIOS pending job,MERGED,2019-09-19 13:41:07.000000000,2019-10-14 05:49:17.000000000,2019-10-11 11:37:40.000000000,"[{'_account_id': 6618}, {'_account_id': 7160}, {'_account_id': 8580}, {'_account_id': 10118}, {'_account_id': 10250}, {'_account_id': 10379}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 17130}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 28935}, {'_account_id': 29834}]","[{'number': 1, 'created': '2019-09-19 13:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1faf974e7d9abea7f5749478dffc056050990de0', 'message': 'DRAC: Fix a bug for clear_job_queue clean step with non-BIOS pending job\n\nIf we create pending non-bios config job( E.g create/delete virtual disk)\nwith ""At next reboot"" option and execute ""clear_job_queue"" clean step,\nthen that job gets deleted after job execution instead of getting\ndeleted before job execution.\n\nChange-Id: Ibeae18798a25e33fa070f1120ce0cc0981f66850\nStory: #2006580\nTask: #36695\n'}, {'number': 2, 'created': '2019-09-26 06:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/38d5c1eb3db632714c6d13a6375a18da3a7dc9e1', 'message': 'DRAC: Fix a bug for clear_job_queue clean step with non-BIOS pending job\n\nIf we create pending non-bios config job(E.g create/delete virtual disk)\nwith ""At next reboot"" option and execute ""clear_job_queue"" clean step,\nthen that job gets deleted after job execution instead of getting\ndeleted before job execution.\n\nChange-Id: Ibeae18798a25e33fa070f1120ce0cc0981f66850\nStory: #2006580\nTask: #36695\n'}, {'number': 3, 'created': '2019-09-27 11:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/29c8b7c99a3a9cceb0386d242ad6c8c92734322e', 'message': 'DRAC: Fix a bug for clear_job_queue clean step with non-BIOS pending job\n\nIf we create pending non-bios config job(E.g create/delete virtual disk)\nwith ""At next reboot"" option and execute ""clear_job_queue"" clean step,\nthen that job gets deleted after job execution instead of getting\ndeleted before job execution.\n\nChange-Id: Ibeae18798a25e33fa070f1120ce0cc0981f66850\nStory: #2006580\nTask: #36695\n'}, {'number': 4, 'created': '2019-09-27 20:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c7b57c069d0bfe6ae3b8c0b9ab8bd694787903d4', 'message': 'DRAC: Fix a bug for clear_job_queue clean step with non-BIOS pending job\n\nIf we create pending non-bios config job(E.g create/delete virtual disk)\nwith ""At next reboot"" option and execute ""clear_job_queue"" clean step,\nthen that job gets deleted after job execution instead of getting\ndeleted before job execution.\n\nChange-Id: Ibeae18798a25e33fa070f1120ce0cc0981f66850\nStory: #2006580\nTask: #36695\n'}, {'number': 5, 'created': '2019-09-27 21:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4e8369f1e97b1e445dcb68b54f2df8173b4f96a4', 'message': 'DRAC: Fix a bug for clear_job_queue clean step with non-BIOS pending job\n\nIf we create pending non-bios config job(E.g create/delete virtual disk)\nwith ""At next reboot"" option and execute ""clear_job_queue"" clean step,\nthen that job gets deleted after job execution instead of getting\ndeleted before job execution.\n\nChange-Id: Ibeae18798a25e33fa070f1120ce0cc0981f66850\nStory: #2006580\nTask: #36695\n'}, {'number': 6, 'created': '2019-10-10 14:16:10.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/fix_pending_non_bios_job_execution-4b22e168ac915f4f.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4be3fcef26e63aafcefa49c8e8611bb405d0e372', 'message': 'DRAC: Fix a bug for clear_job_queue clean step with non-BIOS pending job\n\nIf we create pending non-bios config job(E.g create/delete virtual disk)\nwith ""At next reboot"" option and execute ""clear_job_queue"" clean step,\nthen that job gets deleted after job execution instead of getting\ndeleted before job execution.\n\nChange-Id: Ibeae18798a25e33fa070f1120ce0cc0981f66850\nStory: #2006580\nTask: #36695\n'}]",18,683161,4be3fcef26e63aafcefa49c8e8611bb405d0e372,56,16,6,29834,,,0,"DRAC: Fix a bug for clear_job_queue clean step with non-BIOS pending job

If we create pending non-bios config job(E.g create/delete virtual disk)
with ""At next reboot"" option and execute ""clear_job_queue"" clean step,
then that job gets deleted after job execution instead of getting
deleted before job execution.

Change-Id: Ibeae18798a25e33fa070f1120ce0cc0981f66850
Story: #2006580
Task: #36695
",git fetch https://review.opendev.org/openstack/ironic refs/changes/61/683161/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'releasenotes/notes/fix_pending_non_bios_job_execution-4b22e168ac915f4f.yaml']",3,1faf974e7d9abea7f5749478dffc056050990de0,bug_fix_non_bios_config_job,"--- fixes: - | Fixes a bug while executing ``clear_job_queue`` clean step, pending non-BIOS config job (E.g. create/delete virtual disk) should get deleted before job execution, but currently this job get deleted after job execution. See bug `2006580 https://storyboard.openstack.org/#!/story/2006580` for details ",,17,12
openstack%2Fkolla-cli~master~Ic1148c59ce5305468acf48580addee1a9ff3be7a,openstack/kolla-cli,master,Ic1148c59ce5305468acf48580addee1a9ff3be7a,Add --hosts support for check action,MERGED,2019-10-14 04:43:55.000000000,2019-10-14 05:36:23.000000000,2019-10-14 05:35:21.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-14 04:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/543bb6c67dd75f2b47b806970c77bce6a914d3ef', 'message': 'Add --hosts support for check action\n\nChange-Id: Ic1148c59ce5305468acf48580addee1a9ff3be7a\n'}, {'number': 2, 'created': '2019-10-14 05:03:17.000000000', 'files': ['kolla_cli/common/ansible/actions.py', 'kolla_cli/api/control_plane.py', 'kolla_cli/commands/kolla_action.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/50aeac2b3f89c33ec552684a2d30c02ebae66a5f', 'message': 'Add --hosts support for check action\n\nChange-Id: Ic1148c59ce5305468acf48580addee1a9ff3be7a\nCo-Authored-By: caoyuan <cao.yuan@99cloud.net>\n'}]",1,688325,50aeac2b3f89c33ec552684a2d30c02ebae66a5f,11,3,2,28614,,,0,"Add --hosts support for check action

Change-Id: Ic1148c59ce5305468acf48580addee1a9ff3be7a
Co-Authored-By: caoyuan <cao.yuan@99cloud.net>
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/25/688325/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla_cli/common/ansible/actions.py', 'kolla_cli/api/control_plane.py', 'kolla_cli/commands/kolla_action.py']",3,543bb6c67dd75f2b47b806970c77bce6a914d3ef,," parser.add_argument('--hosts', nargs='?', metavar='<host_list>', help=u._('Check host list')) hosts = [] if parsed_args.hosts: host_list = parsed_args.hosts.strip() hosts = host_list.split(',') job = CLIENT.check(verbose_level, hosts, services)"," job = CLIENT.check(verbose_level, services)",15,4
openstack%2Fpuppet-openstack_spec_helper~master~Id7b1b2e618915c2010530ff9dda439b24d7f26c4,openstack/puppet-openstack_spec_helper,master,Id7b1b2e618915c2010530ff9dda439b24d7f26c4,test,ABANDONED,2019-10-14 04:37:05.000000000,2019-10-14 05:34:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-14 04:37:05.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/dbc968245be148296a89f1db749407e323b1e91d', 'message': 'test\n\nChange-Id: Id7b1b2e618915c2010530ff9dda439b24d7f26c4\n'}]",0,688324,dbc968245be148296a89f1db749407e323b1e91d,3,1,1,9414,,,0,"test

Change-Id: Id7b1b2e618915c2010530ff9dda439b24d7f26c4
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/24/688324/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,dbc968245be148296a89f1db749407e323b1e91d,test, # NOTEtest(tobias-urdin): Pin r10k and cri gems since r10k 3.0.0, # NOTE(tobias-urdin): Pin r10k and cri gems since r10k 3.0.0,1,1
openstack%2Fdiskimage-builder~master~Ibbc1fc85e3ee359af709c786fe1897795cd5962e,openstack/diskimage-builder,master,Ibbc1fc85e3ee359af709c786fe1897795cd5962e,Remove NM RA workaround,ABANDONED,2019-10-11 05:40:38.000000000,2019-10-14 05:18:42.000000000,,"[{'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-11 05:40:38.000000000', 'files': ['diskimage_builder/elements/simple-init/post-install.d/80-simple-init'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fde77e057067b48f1890e69ae1d6f5348f0ab3cb', 'message': 'Remove NM RA workaround\n\nIt turns out the problem is more that the interface is put into the UP\nstate, which means sometimes it can have acquired an ipv6 address via\na RA, and consequently NM will assume something else configured it and\nwill refuse to touch it (as designed).\n\nWith glean not doing this in the dependent change, we can avoid\nsetting this.\n\nDepends-On: https://review.opendev.org/688031\n\n[1] https://bugs.debian.org/cgi-bin/bugreport.cgi?att=1;bug=755202;filename=irc-log.txt;msg=156\n\nChange-Id: Ibbc1fc85e3ee359af709c786fe1897795cd5962e\n'}]",0,688036,fde77e057067b48f1890e69ae1d6f5348f0ab3cb,10,3,1,7118,,,0,"Remove NM RA workaround

It turns out the problem is more that the interface is put into the UP
state, which means sometimes it can have acquired an ipv6 address via
a RA, and consequently NM will assume something else configured it and
will refuse to touch it (as designed).

With glean not doing this in the dependent change, we can avoid
setting this.

Depends-On: https://review.opendev.org/688031

[1] https://bugs.debian.org/cgi-bin/bugreport.cgi?att=1;bug=755202;filename=irc-log.txt;msg=156

Change-Id: Ibbc1fc85e3ee359af709c786fe1897795cd5962e
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/36/688036/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/simple-init/post-install.d/80-simple-init'],1,fde77e057067b48f1890e69ae1d6f5348f0ab3cb,glean-no-up,," if [[ ${DIB_SIMPLE_INIT_NETWORKMANAGER} != 0 ]]; then # If we are using NetworkManager then we have to avoid having the kernel # configure ipv6 addresses on an interface (via router advertisements) # until NetworkManager starts. If the interface is configured by the # kernel before NetworkManager then NetworkManager will ignore the # interface and not configure ipv4 on it. It does this because it assumes # some other entity is in control of the interface. # Debian has a many year old long bug report detailing this behavior with # the most interesting comment being at the end: # https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=755202#331 DIB_SIMPLE_INIT_NETWORKMANAGER_IPV6_DELAY=${DIB_SIMPLE_INIT_NETWORKMANAGER_IPV6_DELAY:-30} echo ""net.ipv6.conf.default.router_solicitation_delay=${DIB_SIMPLE_INIT_NETWORKMANAGER_IPV6_DELAY}"" >> /etc/sysctl.conf fi",0,14
openstack%2Ftripleo-heat-templates~stable%2Frocky~I8b0aa504681162d585a4431e713926eda566c660,openstack/tripleo-heat-templates,stable/rocky,I8b0aa504681162d585a4431e713926eda566c660,Fix the octavia deployment template,ABANDONED,2019-10-03 13:46:59.000000000,2019-10-14 05:00:33.000000000,,"[{'_account_id': 3153}, {'_account_id': 11082}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-03 13:46:59.000000000', 'files': ['docker/services/octavia/octavia-deployment-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a63c0db0dad54463efd5404b62b29bddcd91ffeb', 'message': ""Fix the octavia deployment template\n\nCommit 82bfea42 introduced a syntax error in the heat template (missing\n'conditions' section).\n\nChange-Id: I8b0aa504681162d585a4431e713926eda566c660\n""}]",0,686407,a63c0db0dad54463efd5404b62b29bddcd91ffeb,8,6,1,7923,,,0,"Fix the octavia deployment template

Commit 82bfea42 introduced a syntax error in the heat template (missing
'conditions' section).

Change-Id: I8b0aa504681162d585a4431e713926eda566c660
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/686407/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/octavia/octavia-deployment-config.yaml'],1,a63c0db0dad54463efd5404b62b29bddcd91ffeb,fix-octavia-template,conditions:,,1,0
openstack%2Fdiskimage-builder~master~I6c5bc76c433e29f02d3266ab8f669015125ec954,openstack/diskimage-builder,master,I6c5bc76c433e29f02d3266ab8f669015125ec954,Remove RA solicit delay,MERGED,2019-10-11 22:30:24.000000000,2019-10-14 04:53:46.000000000,2019-10-14 04:52:33.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-11 22:30:24.000000000', 'files': ['releasenotes/notes/remove-solicit-delay-57a035b91922522a.yaml', 'diskimage_builder/elements/simple-init/post-install.d/80-simple-init'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d1e49214ce297a67a201b56067e5a643cb047daa', 'message': 'Remove RA solicit delay\n\nIt turns out that this breaks ipv6 config with NM. Instead what we want\nis for glean to not up interfaces on boot (see the depends-on).\n\nChange-Id: I6c5bc76c433e29f02d3266ab8f669015125ec954\nDepends-On: https://review.opendev.org/#/c/688031\n'}]",0,688218,d1e49214ce297a67a201b56067e5a643cb047daa,15,5,1,4146,,,0,"Remove RA solicit delay

It turns out that this breaks ipv6 config with NM. Instead what we want
is for glean to not up interfaces on boot (see the depends-on).

Change-Id: I6c5bc76c433e29f02d3266ab8f669015125ec954
Depends-On: https://review.opendev.org/#/c/688031
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/18/688218/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-solicit-delay-57a035b91922522a.yaml', 'diskimage_builder/elements/simple-init/post-install.d/80-simple-init']",2,d1e49214ce297a67a201b56067e5a643cb047daa,remove-solicit-delay,," if [[ ${DIB_SIMPLE_INIT_NETWORKMANAGER} != 0 ]]; then # If we are using NetworkManager then we have to avoid having the kernel # configure ipv6 addresses on an interface (via router advertisements) # until NetworkManager starts. If the interface is configured by the # kernel before NetworkManager then NetworkManager will ignore the # interface and not configure ipv4 on it. It does this because it assumes # some other entity is in control of the interface. # Debian has a many year old long bug report detailing this behavior with # the most interesting comment being at the end: # https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=755202#331 DIB_SIMPLE_INIT_NETWORKMANAGER_IPV6_DELAY=${DIB_SIMPLE_INIT_NETWORKMANAGER_IPV6_DELAY:-30} echo ""net.ipv6.conf.default.router_solicitation_delay=${DIB_SIMPLE_INIT_NETWORKMANAGER_IPV6_DELAY}"" >> /etc/sysctl.conf fi",8,14
openstack%2Fdiskimage-builder~master~I538e9d1b380e78549229b71e47a776ab97dd1b9c,openstack/diskimage-builder,master,I538e9d1b380e78549229b71e47a776ab97dd1b9c,Temporarily disable Fedora 30 build jobs,MERGED,2019-10-14 00:43:48.000000000,2019-10-14 03:53:50.000000000,2019-10-14 03:17:08.000000000,"[{'_account_id': 4146}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-14 00:43:48.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c26cb9c2cfe20ba60ba7e6dbcd428bc14c990034', 'message': 'Temporarily disable Fedora 30 build jobs\n\nWe are debugging a upstream dnf segfault that is consistently making\nthis job fail.  Make it non-voting for now while this is sorted out.\n\nChange-Id: I538e9d1b380e78549229b71e47a776ab97dd1b9c\n'}]",0,688315,c26cb9c2cfe20ba60ba7e6dbcd428bc14c990034,9,4,1,7118,,,0,"Temporarily disable Fedora 30 build jobs

We are debugging a upstream dnf segfault that is consistently making
this job fail.  Make it non-voting for now while this is sorted out.

Change-Id: I538e9d1b380e78549229b71e47a776ab97dd1b9c
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/15/688315/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,c26cb9c2cfe20ba60ba7e6dbcd428bc14c990034,fedora-30-dnf-segfault, - dib-nodepool-functional-openstack-fedora-30-src: voting: false, - dib-nodepool-functional-openstack-fedora-30-src - dib-nodepool-functional-openstack-fedora-30-src,2,2
openstack%2Fkolla-cli~master~I12bd4f8a9b633cfb252fccebcee8214d309c1a56,openstack/kolla-cli,master,I12bd4f8a9b633cfb252fccebcee8214d309c1a56,tox: Move the whitelist_externals to testenv section,MERGED,2019-10-13 15:47:58.000000000,2019-10-14 03:44:28.000000000,2019-10-14 03:43:25.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-13 15:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/ec05dea24283d7a51475537f10b3c6e69d667a5f', 'message': ""tox: Stop overriding the 'install_command'\n\nThis is not encouraged by infra since it's less obvious and\neasy to miss.\n\nChange-Id: I12bd4f8a9b633cfb252fccebcee8214d309c1a56\n""}, {'number': 2, 'created': '2019-10-13 15:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/26da1ce6eec16c58d87fc3df759db3154a452dfa', 'message': ""tox: Stop overriding the 'install_command'\n\n1. This is not encouraged by infra since it's less obvious and\neasy to miss.\n2. move the whitelist_externals to testenv\n\nChange-Id: I12bd4f8a9b633cfb252fccebcee8214d309c1a56\n""}, {'number': 3, 'created': '2019-10-13 15:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/31f7c1fba8a451208c61f682a956327cac6cc67e', 'message': ""tox: Stop overriding the 'install_command'\n\n1. This is not encouraged by infra since it's less obvious and\neasy to miss.\n2. move the whitelist_externals to testenv\n\nChange-Id: I12bd4f8a9b633cfb252fccebcee8214d309c1a56\n""}, {'number': 4, 'created': '2019-10-13 16:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/cb916943906a266e82ea240b45d6ba866fcbfb28', 'message': ""tox: Stop overriding the 'install_command'\n\n1. This is not encouraged by infra since it's less obvious and\neasy to miss.\n2. move the whitelist_externals to testenv\n3. fix the lower-constraints failed\n\nChange-Id: I12bd4f8a9b633cfb252fccebcee8214d309c1a56\n""}, {'number': 5, 'created': '2019-10-14 03:06:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/d5d6766cd78f1b44d98fde76ccb58da98dce9217', 'message': 'tox: Move the whitelist_externals to testenv section\n\n1. move the whitelist_externals to testenv\n\nChange-Id: I12bd4f8a9b633cfb252fccebcee8214d309c1a56\n'}]",1,688306,d5d6766cd78f1b44d98fde76ccb58da98dce9217,18,3,5,22165,,,0,"tox: Move the whitelist_externals to testenv section

1. move the whitelist_externals to testenv

Change-Id: I12bd4f8a9b633cfb252fccebcee8214d309c1a56
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/06/688306/5 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ec05dea24283d7a51475537f10b3c6e69d667a5f,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages} deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,4,3
openstack%2Ffreezer~master~I1b6b097e22b3077ccc35ba29457bbcff4f5fbc4c,openstack/freezer,master,I1b6b097e22b3077ccc35ba29457bbcff4f5fbc4c,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-08-02 06:48:59.000000000,2019-10-14 01:26:24.000000000,2019-10-14 01:25:20.000000000,"[{'_account_id': 17130}, {'_account_id': 18955}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 26285}, {'_account_id': 26297}, {'_account_id': 28743}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-08-02 06:48:59.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/freezer/commit/fc2a5c945039681032a365c95e6b4728e23f3c0a', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I1b6b097e22b3077ccc35ba29457bbcff4f5fbc4c\n'}]",0,674202,fc2a5c945039681032a365c95e6b4728e23f3c0a,15,9,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I1b6b097e22b3077ccc35ba29457bbcff4f5fbc4c
",git fetch https://review.opendev.org/openstack/freezer refs/changes/02/674202/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,fc2a5c945039681032a365c95e6b4728e23f3c0a,sphinx,"sphinx>=1.6.5,!=1.6.6,!=1.6.7,!=2.1.0;python_version>='3.4' # BSD","sphinx>=1.6.5,!=1.6.6,!=1.6.7;python_version>='3.4' # BSD",1,1
openstack%2Fironic-ui~master~I174e607f7b1193eec0fa0a28bb39b2c945013495,openstack/ironic-ui,master,I174e607f7b1193eec0fa0a28bb39b2c945013495,Use Horizon project template for django jobs,MERGED,2019-10-09 15:46:02.000000000,2019-10-14 01:07:24.000000000,2019-10-14 01:05:40.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-09 15:46:02.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/c5585c00d487a4f119456dd7d63abe6eed0cb1bb', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I174e607f7b1193eec0fa0a28bb39b2c945013495\n""}]",0,687601,c5585c00d487a4f119456dd7d63abe6eed0cb1bb,11,5,1,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs. This patch use that template to run django jobs
here. For information please refer [1]

[1] https://review.opendev.org/#/c/681969/

Change-Id: I174e607f7b1193eec0fa0a28bb39b2c945013495
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/01/687601/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,c5585c00d487a4f119456dd7d63abe6eed0cb1bb,django22,"envlist = py3,py27,py3-{dj111,dj22},pep8commands = dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3 {toxinidir}/manage.py test ironic_ui --settings=ironic_ui.test.settings --exclude-tag integration","envlist = py3,py27,pep8commands = {toxinidir}/manage.py test ironic_ui --settings=ironic_ui.test.settings --exclude-tag integration",6,2
openstack%2Fmanila~stable%2Fstein~Ic8f7e6230298c222cc6cb5e4e4e8189524aaa81f,openstack/manila,stable/stein,Ic8f7e6230298c222cc6cb5e4e4e8189524aaa81f,Remove backend spec from share type while creating replica,MERGED,2019-10-11 16:53:35.000000000,2019-10-13 23:36:39.000000000,2019-10-13 21:29:21.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-10-11 16:53:35.000000000', 'files': ['manila/tests/scheduler/drivers/test_filter.py', 'manila/scheduler/drivers/filter.py', 'releasenotes/notes/bug-1634734-fix-backend-extraspec-for-replication-d611d2227997ae3e.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/e2fe03e25363a35bd07895505c18d349e4a330e7', 'message': 'Remove backend spec from share type while creating replica\n\nIf a share type includes the share_backend_name spec,\nthe scheduler may fail to schedule share replicas unless\nall backends in a replication domain share the same\nvalue for the capability ""share_backend_name"". Having\nthe same ""share_backend_name"" isn\'t desirable all the\ntime.\n\nIgnore the share_backend_name spec from share type\nwhile creating replica, so the scheduler will filter\na available backend according to the selection policy.\n\nChange-Id: Ic8f7e6230298c222cc6cb5e4e4e8189524aaa81f\nCloses-Bug: #1634734\n(cherry picked from commit 700c1a02f0a357312df8f47932f83e86a3d2dc86)\n(cherry picked from commit 19c4869a3f004e4ec699412c1831765b714aa93b)\n'}]",0,688171,e2fe03e25363a35bd07895505c18d349e4a330e7,12,6,1,16643,,,0,"Remove backend spec from share type while creating replica

If a share type includes the share_backend_name spec,
the scheduler may fail to schedule share replicas unless
all backends in a replication domain share the same
value for the capability ""share_backend_name"". Having
the same ""share_backend_name"" isn't desirable all the
time.

Ignore the share_backend_name spec from share type
while creating replica, so the scheduler will filter
a available backend according to the selection policy.

Change-Id: Ic8f7e6230298c222cc6cb5e4e4e8189524aaa81f
Closes-Bug: #1634734
(cherry picked from commit 700c1a02f0a357312df8f47932f83e86a3d2dc86)
(cherry picked from commit 19c4869a3f004e4ec699412c1831765b714aa93b)
",git fetch https://review.opendev.org/openstack/manila refs/changes/71/688171/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/scheduler/drivers/test_filter.py', 'manila/scheduler/drivers/filter.py', 'releasenotes/notes/bug-1634734-fix-backend-extraspec-for-replication-d611d2227997ae3e.yaml']",3,e2fe03e25363a35bd07895505c18d349e4a330e7,bug/1634734-stable/train-stable/stein,--- fixes: - | Share type extra-specification ``share_backend_name`` is now ignored when creating share replicas. This ensures that backends in the same replication domain need not have the same value of ``share_backend_name``. See `launchpad bug #1634734 <https://bugs.launchpad.net/manila/+bug/1634734>`_ for details. ,,42,0
openstack%2Ftrove-dashboard~master~I0d1349fc71ab3779a009b7a612e8f673c8217db9,openstack/trove-dashboard,master,I0d1349fc71ab3779a009b7a612e8f673c8217db9,Use Horizon project template for django jobs,MERGED,2019-10-09 16:34:57.000000000,2019-10-13 20:51:53.000000000,2019-10-13 20:50:09.000000000,"[{'_account_id': 1736}, {'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28614}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-09 16:34:57.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/a49b21ae5919a9b328c3a51aef3be0bbe0928ff8', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I0d1349fc71ab3779a009b7a612e8f673c8217db9\n""}]",0,687618,a49b21ae5919a9b328c3a51aef3be0bbe0928ff8,12,6,1,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs. This patch use that template to run django jobs
here. For information please refer [1]

[1] https://review.opendev.org/#/c/681969/

Change-Id: I0d1349fc71ab3779a009b7a612e8f673c8217db9
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/18/687618/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,a49b21ae5919a9b328c3a51aef3be0bbe0928ff8,django22,"envlist = py27,py37,py3-{dj111,dj22},pep8commands = dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3 /bin/bash run_tests.sh -N --no-pep8 {posargs}","envlist = py27,py37,pep8commands = /bin/bash run_tests.sh -N --no-pep8 {posargs}",6,2
openstack%2Fopenstack-ansible~master~I7c7e66a56ae00275d4f57538c374038bfd1e8e65,openstack/openstack-ansible,master,I7c7e66a56ae00275d4f57538c374038bfd1e8e65,Fix cinder playbook undefined variable,MERGED,2019-09-23 10:00:49.000000000,2019-10-13 20:41:28.000000000,2019-10-13 20:39:45.000000000,"[{'_account_id': 22348}, {'_account_id': 23182}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-09-23 10:00:49.000000000', 'files': ['playbooks/os-cinder-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dab5f0071dad67ade6c1bdddfed40d7f6ab3a085', 'message': 'Fix cinder playbook undefined variable\n\nIf you run the cinder playbook with the tag rsyslog_client-install, then\ncinder_all_software_updated can be unset. This patch fix the error by\nchecking if the variable is defined before call.\n\nChange-Id: I7c7e66a56ae00275d4f57538c374038bfd1e8e65\nCloses-Bug: 1835631\n'}]",0,683908,dab5f0071dad67ade6c1bdddfed40d7f6ab3a085,20,5,1,23182,,,0,"Fix cinder playbook undefined variable

If you run the cinder playbook with the tag rsyslog_client-install, then
cinder_all_software_updated can be unset. This patch fix the error by
checking if the variable is defined before call.

Change-Id: I7c7e66a56ae00275d4f57538c374038bfd1e8e65
Closes-Bug: 1835631
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/08/683908/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-cinder-install.yml'],1,dab5f0071dad67ade6c1bdddfed40d7f6ab3a085,bug/1835631," - ""cinder_all_software_updated is defined""",,1,0
openstack%2Fnetworking-ovn~master~I85f3d51dd7066b8be6adfc183f120d3d3b4f1e77,openstack/networking-ovn,master,I85f3d51dd7066b8be6adfc183f120d3d3b4f1e77,"Revert ""Temporary allow to fail Trunk rally tests""",MERGED,2019-10-09 09:17:30.000000000,2019-10-13 19:23:16.000000000,2019-10-13 19:21:59.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-10-09 09:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/47ac6dcea22b5634466a653ee573fd0eb3e571e4', 'message': 'Revert ""Temporary allow to fail Trunk rally tests""\n\nThis reverts commit 733e1d672648943f5d0307e1fdb3eb4abb381b53.\n\nThat is no longer needed with the merge of\nhttps://review.opendev.org/#/c/686571/\n\nChange-Id: I85f3d51dd7066b8be6adfc183f120d3d3b4f1e77\nCloses-Bug: #1845479\n'}, {'number': 2, 'created': '2019-10-09 09:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8b84e031f478fe5191b478d205469913d8d3ae86', 'message': 'Revert ""Temporary allow to fail Trunk rally tests""\n\nThis reverts commit 733e1d672648943f5d0307e1fdb3eb4abb381b53.\n\nThat is no longer needed with the merge of\nhttps://review.opendev.org/#/c/686571/\n\nChange-Id: I85f3d51dd7066b8be6adfc183f120d3d3b4f1e77\nCloses-Bug: #1845479\n'}, {'number': 3, 'created': '2019-10-09 10:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/bf64e41560080b31922f2590ad07f60c03c13d9b', 'message': 'Revert ""Temporary allow to fail Trunk rally tests""\n\nThis reverts commit 733e1d672648943f5d0307e1fdb3eb4abb381b53.\n\nThat is no longer needed with the merge of\nhttps://review.opendev.org/#/c/686571/\n\nChange-Id: I85f3d51dd7066b8be6adfc183f120d3d3b4f1e77\nCloses-Bug: #1845479\n'}, {'number': 4, 'created': '2019-10-10 10:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1f30b9aee5586978972fdd4b651af6523756b5d5', 'message': 'Revert ""Temporary allow to fail Trunk rally tests""\n\nThis reverts commit 733e1d672648943f5d0307e1fdb3eb4abb381b53.\n\nThat is no longer needed with the merge of\nhttps://review.opendev.org/#/c/686571/\n\nChange-Id: I85f3d51dd7066b8be6adfc183f120d3d3b4f1e77\nCloses-Bug: #1845479\n'}, {'number': 5, 'created': '2019-10-11 10:52:58.000000000', 'files': ['rally-jobs/ovn.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5d59ec7a18f89e05d067c2538b1854756af271b5', 'message': 'Revert ""Temporary allow to fail Trunk rally tests""\n\nThis reverts commit 733e1d672648943f5d0307e1fdb3eb4abb381b53.\n\nThat is no longer needed with the merge of\nhttps://review.opendev.org/#/c/686571/\n\nChange-Id: I85f3d51dd7066b8be6adfc183f120d3d3b4f1e77\nCloses-Bug: #1845479\n'}]",0,687505,5d59ec7a18f89e05d067c2538b1854756af271b5,24,9,5,11952,,,0,"Revert ""Temporary allow to fail Trunk rally tests""

This reverts commit 733e1d672648943f5d0307e1fdb3eb4abb381b53.

That is no longer needed with the merge of
https://review.opendev.org/#/c/686571/

Change-Id: I85f3d51dd7066b8be6adfc183f120d3d3b4f1e77
Closes-Bug: #1845479
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/05/687505/4 && git format-patch -1 --stdout FETCH_HEAD,['rally-jobs/ovn.yaml'],1,47ac6dcea22b5634466a653ee573fd0eb3e571e4,,, sla: # TODO(mjozefcz): Remove this when bug #1845479 will be fixed. failure_rate: max: 100,0,4
openstack%2Fkolla-cli~master~I6c3fcf7519c71058ed1814ac852473b12b17a2e9,openstack/kolla-cli,master,I6c3fcf7519c71058ed1814ac852473b12b17a2e9,tox: Keeping going with docs,MERGED,2019-10-13 16:45:36.000000000,2019-10-13 17:34:34.000000000,2019-10-13 17:33:30.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-13 16:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/d8f2876b7abaf94dcdda57a89307147709f8f030', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] sphinx-doc/sphinx@e3483e9\n\nChange-Id: I6c3fcf7519c71058ed1814ac852473b12b17a2e9\n""}, {'number': 2, 'created': '2019-10-13 16:52:54.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/1ec39808790eca85dc61acd0d530524ebfdfd2a2', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] sphinx-doc/sphinx@e3483e9\n\nChange-Id: I6c3fcf7519c71058ed1814ac852473b12b17a2e9\n""}]",0,688308,1ec39808790eca85dc61acd0d530524ebfdfd2a2,9,3,2,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] sphinx-doc/sphinx@e3483e9

Change-Id: I6c3fcf7519c71058ed1814ac852473b12b17a2e9
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/08/688308/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,d8f2876b7abaf94dcdda57a89307147709f8f030,, sphinx-build -W --keep-going -b html doc/source doc/build/html sphinx-build -W --keep-going -b latex doc/source doc/build/pdf sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -W -b html doc/source doc/build/html sphinx-build -W -b latex doc/source doc/build/pdf sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,5,5
openstack%2Ftripleo-common~stable%2Fstein~Ie94905120a797d95becc21cc33d63816910b0638,openstack/tripleo-common,stable/stein,Ie94905120a797d95becc21cc33d63816910b0638,Transfer all images in a manifest list,MERGED,2019-10-04 17:34:48.000000000,2019-10-13 17:23:39.000000000,2019-10-13 17:22:27.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-04 17:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c00c86e411a1f8d77c0da8001502878ad354e4e5', 'message': 'Transfer all images in a manifest list\n\nWhen multi_arch=True, request a manifest list then transfer all images\nreferenced in that list.\n\nChange-Id: Ie94905120a797d95becc21cc33d63816910b0638\nBlueprint: multiarch-support\n(cherry picked from commit c58d7cda34dcfb86ea7a5ff193ca27a4a9798901)\n'}, {'number': 2, 'created': '2019-10-04 20:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e685202fb750cbfe43bdd945c75ab8eddc847658', 'message': 'Transfer all images in a manifest list\n\nWhen multi_arch=True, request a manifest list then transfer all images\nreferenced in that list.\n\nChange-Id: Ie94905120a797d95becc21cc33d63816910b0638\nBlueprint: multiarch-support\n(cherry picked from commit c58d7cda34dcfb86ea7a5ff193ca27a4a9798901)\n'}, {'number': 3, 'created': '2019-10-11 20:35:45.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_export.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/image/test_image_export.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/61ec5914bb1646771338c195ea4d4783c9a32b96', 'message': 'Transfer all images in a manifest list\n\nWhen multi_arch=True, request a manifest list then transfer all images\nreferenced in that list.\n\nChange-Id: Ie94905120a797d95becc21cc33d63816910b0638\nBlueprint: multiarch-support\n(cherry picked from commit c58d7cda34dcfb86ea7a5ff193ca27a4a9798901)\n'}]",3,686783,61ec5914bb1646771338c195ea4d4783c9a32b96,47,6,3,14985,,,0,"Transfer all images in a manifest list

When multi_arch=True, request a manifest list then transfer all images
referenced in that list.

Change-Id: Ie94905120a797d95becc21cc33d63816910b0638
Blueprint: multiarch-support
(cherry picked from commit c58d7cda34dcfb86ea7a5ff193ca27a4a9798901)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/83/686783/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_export.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/image/test_image_export.py']",4,c00c86e411a1f8d77c0da8001502878ad354e4e5,bug/1844446-stable/stein," 'foo/bar', 'latest', {image_export.MEDIA_MANIFEST_V2: 'sha256:1234abcd'} )"," 'foo/bar', 'latest', 'sha256:1234abcd')",330,92
openstack%2Ftripleo-upgrade~stable%2Fqueens~Ib7aded0ff3668079dbe43cc3fbfa6a7e067cec83,openstack/tripleo-upgrade,stable/queens,Ib7aded0ff3668079dbe43cc3fbfa6a7e067cec83,Handle when ceph_osds is a dictionary or a list.,MERGED,2019-09-25 09:18:38.000000000,2019-10-13 17:22:27.000000000,2019-10-13 17:22:27.000000000,"[{'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 27141}]","[{'number': 1, 'created': '2019-09-25 09:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/86eabfbf745473c744f94c499f193d271370f354', 'message': ""DNM: Handle when ceph_osds is a dictionary or a list.\n\nThe ceph_osds variable is obtained from the ceph configuration\nand it seems it can be a dictionary formed by the osds directories\nas keys, example {'/dev/vdc': {}, '/dev/vdb': {}, '/dev/vdf': {},\n'/dev/vde': {}, '/dev/vdd': {}} .\nFor that reason, we need to differentiate when the variable is\na list or a dictionary, as otherwise the loop variable won't be\nable to iterate over the values.\n\nChange-Id: Ib7aded0ff3668079dbe43cc3fbfa6a7e067cec83\nCloses-Bug: #1844974\n(cherry-picked from commit 75290252d7bd22540a10a47ba6f5477d85c5a542)\n""}, {'number': 2, 'created': '2019-10-09 09:49:25.000000000', 'files': ['tasks/common/convert_ceph_params.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bfaa256e5da2f3833662a34651207ae8ccb263a8', 'message': ""Handle when ceph_osds is a dictionary or a list.\n\nThe ceph_osds variable is obtained from the ceph configuration\nand it seems it can be a dictionary formed by the osds directories\nas keys, example {'/dev/vdc': {}, '/dev/vdb': {}, '/dev/vdf': {},\n'/dev/vde': {}, '/dev/vdd': {}} .\nFor that reason, we need to differentiate when the variable is\na list or a dictionary, as otherwise the loop variable won't be\nable to iterate over the values.\n\nChange-Id: Ib7aded0ff3668079dbe43cc3fbfa6a7e067cec83\nCloses-Bug: #1844974\n(cherry picked from commit 75290252d7bd22540a10a47ba6f5477d85c5a542)\n(cherry picked from commit b70b3e0a2b5596dc51fc4d5a342ae424af93d27f)\n(cherry picked from commit 997ab864cd841d76d5c28948309f618da5cfa4ac)\n""}]",0,684656,bfaa256e5da2f3833662a34651207ae8ccb263a8,10,7,2,26343,,,0,"Handle when ceph_osds is a dictionary or a list.

The ceph_osds variable is obtained from the ceph configuration
and it seems it can be a dictionary formed by the osds directories
as keys, example {'/dev/vdc': {}, '/dev/vdb': {}, '/dev/vdf': {},
'/dev/vde': {}, '/dev/vdd': {}} .
For that reason, we need to differentiate when the variable is
a list or a dictionary, as otherwise the loop variable won't be
able to iterate over the values.

Change-Id: Ib7aded0ff3668079dbe43cc3fbfa6a7e067cec83
Closes-Bug: #1844974
(cherry picked from commit 75290252d7bd22540a10a47ba6f5477d85c5a542)
(cherry picked from commit b70b3e0a2b5596dc51fc4d5a342ae424af93d27f)
(cherry picked from commit 997ab864cd841d76d5c28948309f618da5cfa4ac)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/56/684656/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/convert_ceph_params.yaml'],1,86eabfbf745473c744f94c499f193d271370f354,," vars: ceph_yaml: ""{{ (ceph_puppet.stdout | from_yaml).parameter_defaults }}"" ceph_osds_var: ""{{ ceph_yaml.ExtraConfig['ceph::profile::params::osds']}}"" set_fact: ceph_osds: ""{{ (ceph_osds_var.keys()|list if ceph_osds_var | type_debug == 'dict' else ceph_osds_var) | default([]) }}"""," set_fact: ceph_osds: ""{{ (ceph_puppet.stdout | from_yaml).parameter_defaults.ExtraConfig['ceph::profile::params::osds'] | default([]) }}""",4,1
openstack%2Ftosca-parser~stable%2Ftrain~Ic26301d5e95cf8953bc1151b0a132cd5ddd515ea,openstack/tosca-parser,stable/train,Ic26301d5e95cf8953bc1151b0a132cd5ddd515ea,Initialize CSAR main_template_file_name,MERGED,2019-10-13 14:37:48.000000000,2019-10-13 15:01:34.000000000,2019-10-13 15:00:31.000000000,"[{'_account_id': 6456}, {'_account_id': 16511}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-13 14:37:48.000000000', 'files': ['toscaparser/tests/test_prereq.py', 'toscaparser/prereq/csar.py'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/6ddfdc6eaa82659ad26a7b363b31b6bbb3a0939e', 'message': 'Initialize CSAR main_template_file_name\n\nInitialize the CSAR main_template_file_name and clean up exception handling\nso that exceptions result in failed template validation.\n\nChange-Id: Ic26301d5e95cf8953bc1151b0a132cd5ddd515ea\n(cherry picked from commit bce42e979ffa2a96a0ffb617d7adf447e0cd544d)\n'}]",0,688303,6ddfdc6eaa82659ad26a7b363b31b6bbb3a0939e,7,3,1,16511,,,0,"Initialize CSAR main_template_file_name

Initialize the CSAR main_template_file_name and clean up exception handling
so that exceptions result in failed template validation.

Change-Id: Ic26301d5e95cf8953bc1151b0a132cd5ddd515ea
(cherry picked from commit bce42e979ffa2a96a0ffb617d7adf447e0cd544d)
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/03/688303/1 && git format-patch -1 --stdout FETCH_HEAD,"['toscaparser/tests/test_prereq.py', 'toscaparser/prereq/csar.py']",2,6ddfdc6eaa82659ad26a7b363b31b6bbb3a0939e,fix_csar-stable/train, self.main_template_file_name = None self.zfile = None return not ExceptionCollector.exceptionsCaught(), self.error_caught = False return not self.error_caught self.error_caught = True self.error_caught = True self.error_caught = True self.error_caught = True self.error_caught = True self.error_caught = True self.error_caught = True self.error_caught = True,9,10
openstack%2Ftosca-parser~master~Ic26301d5e95cf8953bc1151b0a132cd5ddd515ea,openstack/tosca-parser,master,Ic26301d5e95cf8953bc1151b0a132cd5ddd515ea,Initialize CSAR main_template_file_name,MERGED,2019-10-10 20:19:49.000000000,2019-10-13 14:37:48.000000000,2019-10-13 03:22:42.000000000,"[{'_account_id': 6456}, {'_account_id': 16511}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-10 20:19:49.000000000', 'files': ['toscaparser/tests/test_prereq.py', 'toscaparser/prereq/csar.py'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/bce42e979ffa2a96a0ffb617d7adf447e0cd544d', 'message': 'Initialize CSAR main_template_file_name\n\nInitialize the CSAR main_template_file_name and clean up exception handling\nso that exceptions result in failed template validation.\n\nChange-Id: Ic26301d5e95cf8953bc1151b0a132cd5ddd515ea\n'}]",1,687979,bce42e979ffa2a96a0ffb617d7adf447e0cd544d,12,5,1,16511,,,0,"Initialize CSAR main_template_file_name

Initialize the CSAR main_template_file_name and clean up exception handling
so that exceptions result in failed template validation.

Change-Id: Ic26301d5e95cf8953bc1151b0a132cd5ddd515ea
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/79/687979/1 && git format-patch -1 --stdout FETCH_HEAD,"['toscaparser/tests/test_prereq.py', 'toscaparser/prereq/csar.py']",2,bce42e979ffa2a96a0ffb617d7adf447e0cd544d,fix_csar, self.main_template_file_name = None self.zfile = None return not ExceptionCollector.exceptionsCaught(), self.error_caught = False return not self.error_caught self.error_caught = True self.error_caught = True self.error_caught = True self.error_caught = True self.error_caught = True self.error_caught = True self.error_caught = True self.error_caught = True,9,10
openstack%2Fpython-zunclient~stable%2Ftrain~I4a07c4b9660cab67930d0acd643d128e91519089,openstack/python-zunclient,stable/train,I4a07c4b9660cab67930d0acd643d128e91519089,Fix a python3 issue in websocketclient,MERGED,2019-10-13 03:55:15.000000000,2019-10-13 13:57:26.000000000,2019-10-13 13:56:21.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-13 03:55:15.000000000', 'files': ['zunclient/common/websocketclient/websocketclient.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/89a9b09a8095748761515e262bcfa9699ba63c32', 'message': 'Fix a python3 issue in websocketclient\n\nChange-Id: I4a07c4b9660cab67930d0acd643d128e91519089\nCloses-Bug: #1845394\n(cherry picked from commit 54b24b3a731209f7144f6963c7fa30ed9c0a926a)\n'}]",0,688292,89a9b09a8095748761515e262bcfa9699ba63c32,7,2,1,11536,,,0,"Fix a python3 issue in websocketclient

Change-Id: I4a07c4b9660cab67930d0acd643d128e91519089
Closes-Bug: #1845394
(cherry picked from commit 54b24b3a731209f7144f6963c7fa30ed9c0a926a)
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/92/688292/1 && git format-patch -1 --stdout FETCH_HEAD,['zunclient/common/websocketclient/websocketclient.py'],1,89a9b09a8095748761515e262bcfa9699ba63c32,bug/1845394-stable/train," if isinstance(data, bytes): data = data.decode(""utf-8"")",,2,0
openstack%2Fpython-zunclient~master~Ie1525c673104588760ec78a3c996103da08b42d1,openstack/python-zunclient,master,Ie1525c673104588760ec78a3c996103da08b42d1,Send binary to websocket proxy,MERGED,2019-10-13 02:57:07.000000000,2019-10-13 13:48:40.000000000,2019-10-13 04:00:28.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-13 02:57:07.000000000', 'files': ['zunclient/common/websocketclient/websocketclient.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/bc1cfd9737380a4827fec97152139e6c2e918f38', 'message': 'Send binary to websocket proxy\n\nWebsockify 0.9.0 rejected receiving text frame:\nhttps://github.com/novnc/websockify/commit/8eb5cb0cdcd1314d6d763df8f226b587a2396aa2\nWe have to switch to binary frame instead.\n\nChange-Id: Ie1525c673104588760ec78a3c996103da08b42d1\nCloses-Bug: #1847889\n'}]",0,688291,bc1cfd9737380a4827fec97152139e6c2e918f38,8,2,1,11536,,,0,"Send binary to websocket proxy

Websockify 0.9.0 rejected receiving text frame:
https://github.com/novnc/websockify/commit/8eb5cb0cdcd1314d6d763df8f226b587a2396aa2
We have to switch to binary frame instead.

Change-Id: Ie1525c673104588760ec78a3c996103da08b42d1
Closes-Bug: #1847889
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/91/688291/1 && git format-patch -1 --stdout FETCH_HEAD,['zunclient/common/websocketclient/websocketclient.py'],1,bc1cfd9737380a4827fec97152139e6c2e918f38,bug/1847889, self.ws.send_binary(data), self.ws.send(data),1,1
openstack%2Ftripleo-ansible~master~Ide0f97c4c38adea183c1ec313cc0cc29833e2a2c,openstack/tripleo-ansible,master,Ide0f97c4c38adea183c1ec313cc0cc29833e2a2c,Fix cellv2 role handler,MERGED,2019-10-10 13:36:56.000000000,2019-10-13 13:17:56.000000000,2019-10-13 13:17:56.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-10 13:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a8473b8c5bf96dc3cb6063934fffc3d6f4b23e6b', 'message': 'Fix cellv2 containercli var in handler\n\nThe correct containercli var is tripleo_cellv2_containercli.\n\nChange-Id: Ide0f97c4c38adea183c1ec313cc0cc29833e2a2c\n'}, {'number': 2, 'created': '2019-10-10 16:13:30.000000000', 'files': ['tripleo_ansible/roles/tripleo-cellv2/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/81529572d6e537b95b46b9c21d5050bf5b86328b', 'message': 'Fix cellv2 role handler\n\nThe correct containercli var is tripleo_cellv2_containercli.\nAlso run handler tasks as root.\n\nChange-Id: Ide0f97c4c38adea183c1ec313cc0cc29833e2a2c\n'}]",2,687898,81529572d6e537b95b46b9c21d5050bf5b86328b,18,7,2,17216,,,0,"Fix cellv2 role handler

The correct containercli var is tripleo_cellv2_containercli.
Also run handler tasks as root.

Change-Id: Ide0f97c4c38adea183c1ec313cc0cc29833e2a2c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/98/687898/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-cellv2/handlers/main.yml'],1,a8473b8c5bf96dc3cb6063934fffc3d6f4b23e6b,fix_cellv2_handler," when: tripleo_cellv2_containercli == ""podman"" when: tripleo_cellv2_containercli == ""docker"""," when: containercli == ""podman"" when: containercli == ""docker""",2,2
openstack%2Fneutron~master~I3c070aee271eba6c76ce017cce0290689afa80ef,openstack/neutron,master,I3c070aee271eba6c76ce017cce0290689afa80ef,[DNM] testing RPC log,ABANDONED,2019-10-11 16:38:47.000000000,2019-10-13 10:58:02.000000000,,"[{'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-11 16:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e91676f83b2c3411ca6eb51dd472f61a956d8a7d', 'message': '[DNM] testing RPC log\n\nChange-Id: I3c070aee271eba6c76ce017cce0290689afa80ef\nDepends-On: I51c8f2743dd39cccd3d1d021d3c50dc09f70cd97\n'}, {'number': 2, 'created': '2019-10-12 05:18:14.000000000', 'files': ['neutron/db/l3_db.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a17510b9dff9d8fe6be905072d1bc5c4959e9d04', 'message': '[DNM] testing RPC log\n\nChange-Id: I3c070aee271eba6c76ce017cce0290689afa80ef\nDepends-On: I51c8f2743dd39cccd3d1d021d3c50dc09f70cd97\n'}]",0,688167,a17510b9dff9d8fe6be905072d1bc5c4959e9d04,9,3,2,9531,,,0,"[DNM] testing RPC log

Change-Id: I3c070aee271eba6c76ce017cce0290689afa80ef
Depends-On: I51c8f2743dd39cccd3d1d021d3c50dc09f70cd97
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/688167/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e91676f83b2c3411ca6eb51dd472f61a956d8a7d,test_rpc_log,# test,,1,0
openstack%2Fopenstack-ansible~master~Iefcdd0519d620f6798e720f8f904f44881172dab,openstack/openstack-ansible,master,Iefcdd0519d620f6798e720f8f904f44881172dab,AIO loopbacked services require /openstack mount,NEW,2019-10-07 04:25:00.000000000,2019-10-13 10:56:19.000000000,,"[{'_account_id': 22042}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 04:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5f35d3508802f5de2e6efe942fa87f6a7149ff61', 'message': 'AIO loopbacked services require /openstack mount\n\nWhen installing an AIO, services such as Cinder and Manila with a\nloopback backend make use of local files (e.g. cinder.img) under the\n/openstack mountpoint. The loopback device for each service is created\nfrom those files by the respective loop service (e.g.\nloop-cinder.service).\n\nHowever on a reboot these services may fail to start because /openstack\nhas not yet been mounted. In such a case, cinder-volume.service also\ncannot start and the Cinder service is down in OpenStack, preventing VMs\nfrom working.\n\nThis patch makes the loop services require the /openstack mount. This\nensures that systemd starts the the services after /openstack is\nmounted, thereby ensuring that the images exist and loopback can be set\nup correctly.\n\nChange-Id: Iefcdd0519d620f6798e720f8f904f44881172dab\nSigned-off-by: Chris Smart <distroguy@gmail.com>\n'}, {'number': 2, 'created': '2019-10-07 07:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/66a67dc90e006b2bbf46f0bd4c94a807df152ff3', 'message': 'AIO loopbacked services require /openstack mount\n\nWhen installing an AIO, services such as Cinder and Manila with a\nloopback backend make use of local files (e.g. cinder.img) under the\n/openstack mountpoint. The loopback device for each service is created\nfrom those files by the respective loop service (e.g.\nloop-cinder.service).\n\nHowever on a reboot these services may fail to start because /openstack\nhas not yet been mounted. In such a case, cinder-volume.service also\ncannot start and the Cinder service is down in OpenStack, preventing VMs\nfrom working.\n\nThis patch makes the loop services require the /openstack mount. This\nensures that systemd starts the the services after /openstack is\nmounted, thereby ensuring that the images exist and loopback can be set\nup correctly.\n\nChange-Id: Iefcdd0519d620f6798e720f8f904f44881172dab\nSigned-off-by: Chris Smart <distroguy@gmail.com>\n'}, {'number': 3, 'created': '2019-10-13 07:20:35.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_loopback_manila.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_cinder.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c1e70713da60988deae409b675f1e5ae0ab3f732', 'message': 'AIO loopbacked services require /openstack mount\n\nWhen installing an AIO, services such as Cinder and Manila with a\nloopback backend make use of local files (e.g. cinder.img) under the\n/openstack mountpoint. The loopback device for each service is created\nfrom those files by the respective loop service (e.g.\nloop-cinder.service).\n\nHowever on a reboot these services may fail to start because /openstack\nhas not yet been mounted. In such a case, cinder-volume.service also\ncannot start and the Cinder service is down in OpenStack, preventing VMs\nfrom working.\n\nThis patch makes the loop services require the /openstack mount. This\nensures that systemd starts the the services after /openstack is\nmounted, thereby ensuring that the images exist and loopback can be set\nup correctly.\n\nAs the loop services need to be executed very early, this patch also\ndisables default dependencies in order to fix a circular dependency with\nopenstack.mount.\n\nChange-Id: Iefcdd0519d620f6798e720f8f904f44881172dab\nSigned-off-by: Chris Smart <distroguy@gmail.com>\n'}]",0,686961,c1e70713da60988deae409b675f1e5ae0ab3f732,11,2,3,22042,,,0,"AIO loopbacked services require /openstack mount

When installing an AIO, services such as Cinder and Manila with a
loopback backend make use of local files (e.g. cinder.img) under the
/openstack mountpoint. The loopback device for each service is created
from those files by the respective loop service (e.g.
loop-cinder.service).

However on a reboot these services may fail to start because /openstack
has not yet been mounted. In such a case, cinder-volume.service also
cannot start and the Cinder service is down in OpenStack, preventing VMs
from working.

This patch makes the loop services require the /openstack mount. This
ensures that systemd starts the the services after /openstack is
mounted, thereby ensuring that the images exist and loopback can be set
up correctly.

As the loop services need to be executed very early, this patch also
disables default dependencies in order to fix a circular dependency with
openstack.mount.

Change-Id: Iefcdd0519d620f6798e720f8f904f44881172dab
Signed-off-by: Chris Smart <distroguy@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/61/686961/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/tasks/prepare_loopback_manila.yml', 'tests/roles/bootstrap-host/tasks/prepare_loopback_cinder.yml']",2,5f35d3508802f5de2e6efe942fa87f6a7149ff61,fix-loop-services-mount-dep, After: systemd-udev-settle.service openstack.mount Requires: openstack.mount, After: systemd-udev-settle.service,4,2
openstack%2Fkolla-ansible~master~I36beaaee313bdbc4bcf8cc15c41dda245a5a81ba,openstack/kolla-ansible,master,I36beaaee313bdbc4bcf8cc15c41dda245a5a81ba,Docs: improve Nova documentation,MERGED,2019-10-07 10:24:04.000000000,2019-10-13 08:50:44.000000000,2019-10-13 08:49:32.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 30322}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-07 10:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e6e10e8b68b2d13055b4c574a267baf989d987cf', 'message': 'Docs: improve Nova documentation\n\nAdds a top-level guide for Nova, with links off to the various virt\ndriver guides.\n\nGeneralises the libvirt TLS guide into a libvirt guide, and adds info on\nhardware virtualisation and qemu vs. kvm.\n\nAdds information on configuring consoles.\n\nChange-Id: I36beaaee313bdbc4bcf8cc15c41dda245a5a81ba\n'}, {'number': 2, 'created': '2019-10-07 11:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aafff5d9fd4479387a0a6fa440e1a521b386984c', 'message': 'Docs: improve Nova documentation\n\nAdds a top-level guide for Nova, with links off to the various virt\ndriver guides.\n\nGeneralises the libvirt TLS guide into a libvirt guide, and adds info on\nhardware virtualisation and qemu vs. kvm.\n\nAdds information on configuring consoles.\n\nChange-Id: I36beaaee313bdbc4bcf8cc15c41dda245a5a81ba\n'}, {'number': 3, 'created': '2019-10-08 08:30:39.000000000', 'files': ['doc/source/reference/compute/vmware-guide.rst', 'doc/source/reference/compute/index.rst', 'doc/source/reference/compute/libvirt-guide.rst', 'doc/source/reference/compute/nova-guide.rst', 'doc/source/reference/compute/xenserver-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e91186c66c00fb3aba9c0650754e1fb681ed02e5', 'message': 'Docs: improve Nova documentation\n\nAdds a top-level guide for Nova, with links off to the various virt\ndriver guides.\n\nGeneralises the libvirt TLS guide into a libvirt guide, and adds info on\nhardware virtualisation and qemu vs. kvm.\n\nAdds information on configuring consoles.\n\nChange-Id: I36beaaee313bdbc4bcf8cc15c41dda245a5a81ba\n'}]",8,686995,e91186c66c00fb3aba9c0650754e1fb681ed02e5,20,8,3,14826,,,0,"Docs: improve Nova documentation

Adds a top-level guide for Nova, with links off to the various virt
driver guides.

Generalises the libvirt TLS guide into a libvirt guide, and adds info on
hardware virtualisation and qemu vs. kvm.

Adds information on configuring consoles.

Change-Id: I36beaaee313bdbc4bcf8cc15c41dda245a5a81ba
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/95/686995/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/compute/vmware-guide.rst', 'doc/source/reference/compute/index.rst', 'doc/source/reference/compute/libvirt-guide.rst', 'doc/source/reference/compute/nova-guide.rst', 'doc/source/reference/compute/xenserver-guide.rst']",5,e6e10e8b68b2d13055b4c574a267baf989d987cf,nova-docs,====================================== XenServer - Nova Virtualisation Driver ======================================,========= XenServer =========,92,8
openstack%2Fzun~master~I3c5971635ba3a2fdf16f004524c824d21c19716f,openstack/zun,master,I3c5971635ba3a2fdf16f004524c824d21c19716f,Log more information on websocketproxy,NEW,2019-10-12 23:08:56.000000000,2019-10-13 04:21:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-12 23:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a8720a10e8975ec3e0479e19f23e4c57939f40de', 'message': '[WIP] Log more information on websocketproxy\n\nChange-Id: I3c5971635ba3a2fdf16f004524c824d21c19716f\n'}, {'number': 2, 'created': '2019-10-13 03:19:54.000000000', 'files': ['zun/websocket/websocketproxy.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/6c4e1c1c6a7509b9b8f07c29c9cead46e9b81435', 'message': 'Log more information on websocketproxy\n\nChange-Id: I3c5971635ba3a2fdf16f004524c824d21c19716f\n'}]",0,688285,6c4e1c1c6a7509b9b8f07c29c9cead46e9b81435,4,1,2,11536,,,0,"Log more information on websocketproxy

Change-Id: I3c5971635ba3a2fdf16f004524c824d21c19716f
",git fetch https://review.opendev.org/openstack/zun refs/changes/85/688285/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/websocket/websocketproxy.py'],1,a8720a10e8975ec3e0479e19f23e4c57939f40de,," self.vmsg(_(""Start proxying, websocket_url=%s""), container.websocket_url) except Exception as e: self.vmsg(_(""Exception: %s"") % str(e)) self.vmsg(_(""Start proxying, exec_instance_url=%s""), exec_instance.url) except Exception as e: self.vmsg(_(""Exception: %s"") % str(e))", except Exception:,6,1
openstack%2Fpython-zunclient~master~I4a07c4b9660cab67930d0acd643d128e91519089,openstack/python-zunclient,master,I4a07c4b9660cab67930d0acd643d128e91519089,Fix a python3 issue in websocketclient,MERGED,2019-09-26 02:24:29.000000000,2019-10-13 03:55:15.000000000,2019-10-01 02:10:39.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2019-09-26 02:24:29.000000000', 'files': ['zunclient/common/websocketclient/websocketclient.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/54b24b3a731209f7144f6963c7fa30ed9c0a926a', 'message': 'Fix a python3 issue in websocketclient\n\nChange-Id: I4a07c4b9660cab67930d0acd643d128e91519089\nCloses-Bug: #1845394\n'}]",0,684878,54b24b3a731209f7144f6963c7fa30ed9c0a926a,8,3,1,11536,,,0,"Fix a python3 issue in websocketclient

Change-Id: I4a07c4b9660cab67930d0acd643d128e91519089
Closes-Bug: #1845394
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/78/684878/1 && git format-patch -1 --stdout FETCH_HEAD,['zunclient/common/websocketclient/websocketclient.py'],1,54b24b3a731209f7144f6963c7fa30ed9c0a926a,bug/1845394," if isinstance(data, bytes): data = data.decode(""utf-8"")",,2,0
openstack%2Ftraining-labs~master~I1937d9f5dd1532feed4908a889faecc8aca58656,openstack/training-labs,master,I1937d9f5dd1532feed4908a889faecc8aca58656,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-10-13 02:52:27.000000000,2019-10-13 03:27:29.000000000,2019-10-13 03:27:29.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-13 02:52:27.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/28383cd862008fb4087cb218b32eaffe2eba91b4', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I1937d9f5dd1532feed4908a889faecc8aca58656\n'}]",0,688289,28383cd862008fb4087cb218b32eaffe2eba91b4,6,2,1,27781,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I1937d9f5dd1532feed4908a889faecc8aca58656
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/89/688289/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,28383cd862008fb4087cb218b32eaffe2eba91b4,,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Frequirements~master~Ic73e5a2b195f1189ae0db54e0bc97fdde82abc98,openstack/requirements,master,Ic73e5a2b195f1189ae0db54e0bc97fdde82abc98,Updated from generate-constraints,MERGED,2019-10-12 06:18:29.000000000,2019-10-13 02:34:47.000000000,2019-10-13 02:33:38.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-12 06:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/65549cb9f67268bc672db7291008a899e06b0736', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic73e5a2b195f1189ae0db54e0bc97fdde82abc98\n'}, {'number': 2, 'created': '2019-10-12 16:53:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b707a10f86e7a3dc77af5828c92451c2e54202ac', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic73e5a2b195f1189ae0db54e0bc97fdde82abc98\n'}]",0,688232,b707a10f86e7a3dc77af5828c92451c2e54202ac,11,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Ic73e5a2b195f1189ae0db54e0bc97fdde82abc98
",git fetch https://review.opendev.org/openstack/requirements refs/changes/32/688232/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,65549cb9f67268bc672db7291008a899e06b0736,openstack/requirements/constraints/noclob,openstack-release-test===2.0.0amqp===2.5.2django-debreach===2.0.1boto3===1.9.248salt===2019.2.1botocore===1.12.248redis===3.3.10contextlib2===0.6.0.post1;python_version=='2.7',openstack-release-test===1.4.2amqp===2.5.1django-debreach===1.5.2boto3===1.9.246salt===2019.2.0botocore===1.12.246redis===3.3.8contextlib2===0.6.0;python_version=='2.7',8,8
openstack%2Fmistral~stable%2Ftrain~I6b188e315007391c738b8f821fad91c4fd8572ae,openstack/mistral,stable/train,I6b188e315007391c738b8f821fad91c4fd8572ae,Fix the global publish for task,MERGED,2019-10-10 12:42:50.000000000,2019-10-13 02:00:12.000000000,2019-10-13 01:59:07.000000000,"[{'_account_id': 8731}, {'_account_id': 9029}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 12:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b3ea7a5b81fb8d1ce7d2a38af67d2ec960a92966', 'message': 'Fix the global publish for task\n\nIf there is a root execution then lazy load the\nparams field of the root execution\n\nChange-Id: I6b188e315007391c738b8f821fad91c4fd8572ae\n'}, {'number': 3, 'created': '2019-10-12 12:21:02.000000000', 'files': ['mistral/tests/unit/api/v2/test_tasks.py', 'mistral/api/controllers/v2/task.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/ce4dad8a18ef25af7fe76509b9ac27ecbfda82cb', 'message': 'Fix the global publish for task\n\nIf there is a root execution then lazy load the\nparams field of the root execution\n\nChange-Id: I6b188e315007391c738b8f821fad91c4fd8572ae\n(cherry picked from commit ab4d4a5807a9449b6a701e90c198d2cf4328bda6)\n'}]",0,687881,ce4dad8a18ef25af7fe76509b9ac27ecbfda82cb,16,3,2,19134,,,0,"Fix the global publish for task

If there is a root execution then lazy load the
params field of the root execution

Change-Id: I6b188e315007391c738b8f821fad91c4fd8572ae
(cherry picked from commit ab4d4a5807a9449b6a701e90c198d2cf4328bda6)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/81/687881/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/api/controllers/v2/task.py'],1,b3ea7a5b81fb8d1ce7d2a38af67d2ec960a92966,global_publish-stable/train," if task_ex.workflow_execution: # need this for unit tests to pass rest_utils.load_deferred_fields( task_ex.workflow_execution.root_execution, ['params'] ) ",,6,0
openstack%2Fopenstack-helm-infra~master~Idfe6f3bb0535df774d701f6982d2bf2519c19ae3,openstack/openstack-helm-infra,master,Idfe6f3bb0535df774d701f6982d2bf2519c19ae3,Comment out powerdns chart on osh-infra-support job,ABANDONED,2019-10-11 18:46:44.000000000,2019-10-12 20:53:38.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 28618}]","[{'number': 1, 'created': '2019-10-11 18:46:44.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6c116cde9a9586f6e1181fba577b0b5f56d5067a', 'message': 'Comment out powerdns chart on osh-infra-support job\n\nThe powerdns chart is currently failing to deploy when ran in the\nopenstack-support job. This change comments it out for the time\nbeing to unblock the gate.\n\nChange-Id: Idfe6f3bb0535df774d701f6982d2bf2519c19ae3\n'}]",0,688186,6c116cde9a9586f6e1181fba577b0b5f56d5067a,5,3,1,21420,,,0,"Comment out powerdns chart on osh-infra-support job

The powerdns chart is currently failing to deploy when ran in the
openstack-support job. This change comments it out for the time
being to unblock the gate.

Change-Id: Idfe6f3bb0535df774d701f6982d2bf2519c19ae3
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/86/688186/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,6c116cde9a9586f6e1181fba577b0b5f56d5067a,fix_osh_support_gate, # - ./tools/deployment/openstack-support/120-powerdns.sh, - ./tools/deployment/openstack-support/120-powerdns.sh,1,1
openstack%2Fnetworking-ovn~master~Icd26d2fbdb71480184f3814f07e82025f7ddd963,openstack/networking-ovn,master,Icd26d2fbdb71480184f3814f07e82025f7ddd963,Enable ovs-vswitchd and ovsdb-server for rally,MERGED,2019-10-11 10:08:55.000000000,2019-10-12 20:28:26.000000000,2019-10-12 20:26:51.000000000,"[{'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-10-11 10:08:55.000000000', 'files': ['zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7e725331dbaf5845d6a45fa1cf8035d6a61ac744', 'message': 'Enable ovs-vswitchd and ovsdb-server for rally\n\nThe ovs-vswitchd and ovsdb-server services were missing in the rally\ndefinition. Usually the jobs inherts from our base class which enables\nthem but rally has a different job parent.\n\nChange-Id: Icd26d2fbdb71480184f3814f07e82025f7ddd963\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",1,688098,7e725331dbaf5845d6a45fa1cf8035d6a61ac744,13,4,1,6773,,,0,"Enable ovs-vswitchd and ovsdb-server for rally

The ovs-vswitchd and ovsdb-server services were missing in the rally
definition. Usually the jobs inherts from our base class which enables
them but rally has a different job parent.

Change-Id: Icd26d2fbdb71480184f3814f07e82025f7ddd963
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/98/688098/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/networking-ovn-jobs.yaml'],1,7e725331dbaf5845d6a45fa1cf8035d6a61ac744,rally-services, ovs-vswitchd: true ovsdb-server: true,,2,0
openstack%2Ftripleo-heat-templates~master~I6db952002b6d5f3d2efa65498db520526614d96b,openstack/tripleo-heat-templates,master,I6db952002b6d5f3d2efa65498db520526614d96b,Use OS::TripleO::Services::Logging::NovaLibvirt to configure libvirt logging,MERGED,2019-09-21 03:08:21.000000000,2019-10-12 20:22:12.000000000,2019-10-12 20:21:02.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 17216}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-09-21 03:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af7c9a28ec184e4bb85b649c2e0910b1bca0180e', 'message': 'Use OS::TripleO::Services::Logging::NovaLibvirt to configure libvirt logging\n\nUse OS::TripleO::Services::Logging::NovaLibvirt resource to configure\nlogging in libvirt, so that we can gather logging configuration\ninto deployments/logging .\n\nChange-Id: I6db952002b6d5f3d2efa65498db520526614d96b\n'}, {'number': 2, 'created': '2019-09-21 03:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc03561a01a168559efc7738fc6499c361263d09', 'message': 'Use OS::TripleO::Services::Logging::NovaLibvirt to configure libvirt logging\n\nUse OS::TripleO::Services::Logging::NovaLibvirt resource to configure\nlogging in libvirt, so that we can gather logging configuration\ninto deployments/logging .\n\nChange-Id: I6db952002b6d5f3d2efa65498db520526614d96b\n'}, {'number': 3, 'created': '2019-09-21 03:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de3ea9aa0567535815ddbd6c63bfaed850cbbc9c', 'message': 'Use OS::TripleO::Services::Logging::NovaLibvirt to configure libvirt logging\n\nUse OS::TripleO::Services::Logging::NovaLibvirt resource to configure\nlogging in libvirt, so that we can gather logging configuration\ninto deployments/logging .\n\nChange-Id: I6db952002b6d5f3d2efa65498db520526614d96b\n'}, {'number': 4, 'created': '2019-09-21 12:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0caff1c19170d60b188c1ce19cab4be96894a739', 'message': 'Use OS::TripleO::Services::Logging::NovaLibvirt to configure libvirt logging\n\nUse OS::TripleO::Services::Logging::NovaLibvirt resource to configure\nlogging in libvirt, so that we can gather logging configuration\ninto deployments/logging .\n\nChange-Id: I6db952002b6d5f3d2efa65498db520526614d96b\n'}, {'number': 5, 'created': '2019-09-21 14:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a8d64dddb97ba0b24c6148763a32412439a1c33', 'message': 'Use OS::TripleO::Services::Logging::NovaLibvirt to configure libvirt logging\n\nUse OS::TripleO::Services::Logging::NovaLibvirt resource to configure\nlogging in libvirt, so that we can gather logging configuration\ninto deployments/logging .\n\nChange-Id: I6db952002b6d5f3d2efa65498db520526614d96b\n'}, {'number': 6, 'created': '2019-09-22 00:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/08b5ef5bf23372e51e10f328b7fabae760ac4adf', 'message': 'Use OS::TripleO::Services::Logging::NovaLibvirt to configure libvirt logging\n\nUse OS::TripleO::Services::Logging::NovaLibvirt resource to configure\nlogging in libvirt, so that we can gather logging configuration\ninto deployments/logging .\n\nChange-Id: I6db952002b6d5f3d2efa65498db520526614d96b\n'}, {'number': 7, 'created': '2019-09-22 08:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16243b7b1253f5ace85312a670d3e73b6e41a40f', 'message': 'Use OS::TripleO::Services::Logging::NovaLibvirt to configure libvirt logging\n\nUse OS::TripleO::Services::Logging::NovaLibvirt resource to configure\nlogging in libvirt, so that we can gather logging configuration\ninto deployments/logging .\n\nChange-Id: I6db952002b6d5f3d2efa65498db520526614d96b\n'}, {'number': 8, 'created': '2019-09-22 18:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1c7370d7b566b8f97c97e34f41a1ec986b6a1e5', 'message': 'Use OS::TripleO::Services::Logging::NovaLibvirt to configure libvirt logging\n\nUse OS::TripleO::Services::Logging::NovaLibvirt resource to configure\nlogging in libvirt, so that we can gather logging configuration\ninto deployments/logging .\n\nChange-Id: I6db952002b6d5f3d2efa65498db520526614d96b\n'}, {'number': 9, 'created': '2019-09-24 15:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab9733456abd1f5ad7f175f15eeb4ce7359a7c0e', 'message': 'Use OS::TripleO::Services::Logging::NovaLibvirt to configure libvirt logging\n\nUse OS::TripleO::Services::Logging::NovaLibvirt resource to configure\nlogging in libvirt, so that we can gather logging configuration\ninto deployments/logging .\n\nChange-Id: I6db952002b6d5f3d2efa65498db520526614d96b\n'}, {'number': 10, 'created': '2019-09-24 15:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/81ace99e875d6c1e419f492f1872653d6287f234', 'message': 'Use OS::TripleO::Services::Logging::NovaLibvirt to configure libvirt logging\n\nUse OS::TripleO::Services::Logging::NovaLibvirt resource to configure\nlogging in libvirt, so that we can gather logging configuration\ninto deployments/logging .\n\nChange-Id: I6db952002b6d5f3d2efa65498db520526614d96b\n'}, {'number': 11, 'created': '2019-09-24 16:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38e0f8ef0e33e5d1b8c9287bb1812b9c38011d32', 'message': 'Use OS::TripleO::Services::Logging::NovaLibvirt to configure libvirt logging\n\nUse OS::TripleO::Services::Logging::NovaLibvirt resource to configure\nlogging in libvirt, so that we can gather logging configuration\ninto deployments/logging.\n\nChange-Id: I6db952002b6d5f3d2efa65498db520526614d96b\n'}, {'number': 12, 'created': '2019-09-27 12:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42eeefd8c4547471340f8be872a8705141cb7c66', 'message': 'Use OS::TripleO::Services::Logging::NovaLibvirt to configure libvirt logging\n\nUse OS::TripleO::Services::Logging::NovaLibvirt resource to configure\nlogging in libvirt, so that we can gather logging configuration\ninto deployments/logging.\n\nChange-Id: I6db952002b6d5f3d2efa65498db520526614d96b\n'}, {'number': 13, 'created': '2019-09-27 12:50:59.000000000', 'files': ['deployment/logging/files/nova-libvirt.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/logging/stdout/nova-libvirt.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/nova_libvirtd_log_level-b1393b582360ad4f.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7552166404c32534393c2f1148c5cf2cc8df1c62', 'message': 'Use OS::TripleO::Services::Logging::NovaLibvirt to configure libvirt logging\n\nUse OS::TripleO::Services::Logging::NovaLibvirt resource to configure\nlogging in libvirt, so that we can gather logging configuration\ninto deployments/logging.\n\nChange-Id: I6db952002b6d5f3d2efa65498db520526614d96b\n'}]",8,683752,7552166404c32534393c2f1148c5cf2cc8df1c62,66,8,13,9816,,,0,"Use OS::TripleO::Services::Logging::NovaLibvirt to configure libvirt logging

Use OS::TripleO::Services::Logging::NovaLibvirt resource to configure
logging in libvirt, so that we can gather logging configuration
into deployments/logging.

Change-Id: I6db952002b6d5f3d2efa65498db520526614d96b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/683752/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/logging/files/nova-libvirt.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/logging/stdout/nova-libvirt.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/nova_libvirtd_log_level-b1393b582360ad4f.yaml']",5,af7c9a28ec184e4bb85b649c2e0910b1bca0180e,libvirt-log,--- features: - | LibvirtLogLevel is added to configure libvirt log level. This option also works if environments/stdout-logging.yaml used to enable stdout logging deprecations: - | LibvirtLogOutpjuts option was removed and now has no effect. Use LivirtLogLevel to change log level in libvirt. ,,138,75
openstack%2Fkolla-ansible~master~Ib86f2e09e56d110afb7bc69ecfeedeb6a6178a2a,openstack/kolla-ansible,master,Ib86f2e09e56d110afb7bc69ecfeedeb6a6178a2a,Custom CA certificates deployment (lightweight),ABANDONED,2019-10-12 16:17:18.000000000,2019-10-12 18:23:14.000000000,,"[{'_account_id': 28374}, {'_account_id': 30491}, {'_account_id': 30810}]","[{'number': 1, 'created': '2019-10-12 16:17:18.000000000', 'files': ['ansible/roles/skydive/tasks/config.yml', 'ansible/roles/ceilometer/tasks/config.yml', 'ansible/roles/senlin/tasks/config.yml', 'ansible/roles/solum/tasks/config.yml', 'ansible/roles/storm/tasks/config.yml', 'ansible/roles/cloudkitty/tasks/config.yml', 'ansible/roles/barbican/tasks/config.yml', 'ansible/roles/zookeeper/tasks/config.yml', 'ansible/roles/rally/tasks/config.yml', 'ansible/roles/horizon/tasks/config.yml', 'ansible/roles/multipathd/tasks/config.yml', 'ansible/roles/magnum/tasks/config.yml', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/kafka/tasks/config.yml', 'ansible/roles/ironic/tasks/config.yml', 'etc/kolla/globals.yml', 'ansible/roles/mongodb/tasks/config.yml', 'tests/deploy.sh', 'ansible/roles/rabbitmq/tasks/config.yml', 'ansible/roles/etcd/tasks/config.yml', 'ansible/roles/octavia/tasks/config.yml', 'ansible/roles/common/tasks/config.yml', 'tests/templates/globals-default.j2', 'ansible/roles/haproxy/tasks/config.yml', 'ansible/roles/watcher/tasks/config.yml', 'ansible/roles/placement/tasks/config.yml', 'ansible/roles/tacker/tasks/config.yml', 'ansible/roles/elasticsearch/tasks/config.yml', 'ansible/roles/designate/tasks/config.yml', 'ansible/roles/gnocchi/tasks/config.yml', 'ansible/roles/telegraf/tasks/config.yml', 'ansible/roles/opendaylight/tasks/config.yml', 'ansible/roles/murano/tasks/config.yml', 'ansible/roles/certificates/templates/openssl-kolla.cnf.j2', 'ansible/roles/influxdb/tasks/config.yml', 'ansible/roles/mariadb/tasks/config.yml', 'zuul.d/jobs.yaml', 'ansible/roles/haproxy-config/templates/haproxy_single_service_split.cfg.j2', 'ansible/roles/vitrage/tasks/config.yml', 'ansible/roles/monasca/tasks/config.yml', 'ansible/roles/mistral/tasks/config.yml', 'ansible/roles/openvswitch/tasks/config.yml', 'ansible/roles/tempest/tasks/config.yml', 'tests/check-config.sh', 'ansible/roles/vmtp/tasks/config.yml', 'doc/source/admin/advanced-configuration.rst', 'ansible/roles/kuryr/tasks/config.yml', 'ansible/roles/trove/tasks/config.yml', 'ansible/roles/panko/tasks/config.yml', 'ansible/roles/ovs-dpdk/tasks/config.yml', 'ansible/roles/chrony/tasks/config.yml', 'ansible/roles/kibana/tasks/config.yml', 'ansible/roles/prometheus/tasks/config.yml', 'ansible/roles/redis/tasks/config.yml', 'ansible/roles/haproxy/templates/haproxy.json.j2', 'ansible/roles/cyborg/tasks/config.yml', 'ansible/roles/grafana/tasks/config.yml', 'ansible/roles/ceph/tasks/config.yml', 'ansible/roles/heat/tasks/config.yml', 'ansible/roles/iscsi/tasks/config.yml', 'ansible/roles/collectd/tasks/config.yml', 'ansible/roles/haproxy-config/templates/haproxy_single_service_listen.cfg.j2', 'ansible/roles/karbor/tasks/config.yml', 'ansible/roles/manila/tasks/config.yml', 'ansible/roles/aodh/tasks/config.yml', 'ansible/roles/certificates/templates/openssl-kolla-internal.cnf.j2', 'ansible/roles/swift/tasks/config.yml', 'ansible/roles/neutron/tasks/config.yml', 'ansible/roles/nova/tasks/config.yml', 'ansible/roles/cinder/tasks/config.yml', 'ansible/roles/searchlight/tasks/config.yml', 'ansible/roles/glance/tasks/config.yml', 'ansible/roles/congress/tasks/config.yml', 'ansible/roles/memcached/tasks/config.yml', 'ansible/roles/sahara/tasks/config.yml', 'ansible/roles/qdrouterd/tasks/config.yml', 'ansible/group_vars/all.yml', 'ansible/roles/certificates/tasks/generate.yml', 'zuul.d/project.yaml', 'ansible/roles/blazar/tasks/config.yml', 'ansible/roles/zun/tasks/config.yml', 'ansible/roles/freezer/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bfe734a0bfbde4e9ff2435a3006969e0f2f8e4fb', 'message': 'Custom CA certificates deployment (lightweight)\n\nChange-Id: Ib86f2e09e56d110afb7bc69ecfeedeb6a6178a2a\nCo-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\nCo-authored-by: James Kirsch <generalfuzz@gmail.com>\nDepends-on: https://review.opendev.org/686121\n'}]",0,688273,bfe734a0bfbde4e9ff2435a3006969e0f2f8e4fb,3,3,1,30491,,,0,"Custom CA certificates deployment (lightweight)

Change-Id: Ib86f2e09e56d110afb7bc69ecfeedeb6a6178a2a
Co-authored-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
Co-authored-by: James Kirsch <generalfuzz@gmail.com>
Depends-on: https://review.opendev.org/686121
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/688273/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/skydive/tasks/config.yml', 'ansible/roles/ceilometer/tasks/config.yml', 'ansible/roles/senlin/tasks/config.yml', 'ansible/roles/solum/tasks/config.yml', 'ansible/roles/storm/tasks/config.yml', 'ansible/roles/cloudkitty/tasks/config.yml', 'ansible/roles/barbican/tasks/config.yml', 'ansible/roles/zookeeper/tasks/config.yml', 'ansible/roles/rally/tasks/config.yml', 'ansible/roles/horizon/tasks/config.yml', 'ansible/roles/multipathd/tasks/config.yml', 'ansible/roles/magnum/tasks/config.yml', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/kafka/tasks/config.yml', 'ansible/roles/ironic/tasks/config.yml', 'etc/kolla/globals.yml', 'ansible/roles/mongodb/tasks/config.yml', 'tests/deploy.sh', 'ansible/roles/rabbitmq/tasks/config.yml', 'ansible/roles/etcd/tasks/config.yml', 'ansible/roles/octavia/tasks/config.yml', 'ansible/roles/common/tasks/config.yml', 'tests/templates/globals-default.j2', 'ansible/roles/haproxy/tasks/config.yml', 'ansible/roles/watcher/tasks/config.yml', 'ansible/roles/placement/tasks/config.yml', 'ansible/roles/tacker/tasks/config.yml', 'ansible/roles/elasticsearch/tasks/config.yml', 'ansible/roles/designate/tasks/config.yml', 'ansible/roles/gnocchi/tasks/config.yml', 'ansible/roles/telegraf/tasks/config.yml', 'ansible/roles/opendaylight/tasks/config.yml', 'ansible/roles/murano/tasks/config.yml', 'ansible/roles/certificates/templates/openssl-kolla.cnf.j2', 'ansible/roles/influxdb/tasks/config.yml', 'ansible/roles/mariadb/tasks/config.yml', 'zuul.d/jobs.yaml', 'ansible/roles/haproxy-config/templates/haproxy_single_service_split.cfg.j2', 'ansible/roles/vitrage/tasks/config.yml', 'ansible/roles/monasca/tasks/config.yml', 'ansible/roles/mistral/tasks/config.yml', 'ansible/roles/openvswitch/tasks/config.yml', 'ansible/roles/tempest/tasks/config.yml', 'tests/check-config.sh', 'ansible/roles/vmtp/tasks/config.yml', 'doc/source/admin/advanced-configuration.rst', 'ansible/roles/kuryr/tasks/config.yml', 'ansible/roles/trove/tasks/config.yml', 'ansible/roles/panko/tasks/config.yml', 'ansible/roles/ovs-dpdk/tasks/config.yml', 'ansible/roles/chrony/tasks/config.yml', 'ansible/roles/kibana/tasks/config.yml', 'ansible/roles/prometheus/tasks/config.yml', 'ansible/roles/redis/tasks/config.yml', 'ansible/roles/haproxy/templates/haproxy.json.j2', 'ansible/roles/cyborg/tasks/config.yml', 'ansible/roles/grafana/tasks/config.yml', 'ansible/roles/ceph/tasks/config.yml', 'ansible/roles/heat/tasks/config.yml', 'ansible/roles/iscsi/tasks/config.yml', 'ansible/roles/collectd/tasks/config.yml', 'ansible/roles/haproxy-config/templates/haproxy_single_service_listen.cfg.j2', 'ansible/roles/karbor/tasks/config.yml', 'ansible/roles/manila/tasks/config.yml', 'ansible/roles/aodh/tasks/config.yml', 'ansible/roles/certificates/templates/openssl-kolla-internal.cnf.j2', 'ansible/roles/swift/tasks/config.yml', 'ansible/roles/neutron/tasks/config.yml', 'ansible/roles/nova/tasks/config.yml', 'ansible/roles/cinder/tasks/config.yml', 'ansible/roles/searchlight/tasks/config.yml', 'ansible/roles/glance/tasks/config.yml', 'ansible/roles/congress/tasks/config.yml', 'ansible/roles/memcached/tasks/config.yml', 'ansible/roles/sahara/tasks/config.yml', 'ansible/roles/qdrouterd/tasks/config.yml', 'ansible/group_vars/all.yml', 'ansible/roles/certificates/tasks/generate.yml', 'zuul.d/project.yaml', 'ansible/roles/blazar/tasks/config.yml', 'ansible/roles/zun/tasks/config.yml', 'ansible/roles/freezer/tasks/config.yml']",82,bfe734a0bfbde4e9ff2435a3006969e0f2f8e4fb,bp/custom-cacerts,"- name: Copying over extra CA certificates become: true copy: src: ""{{ node_config }}/certificates/ca/"" dest: ""{{ node_config_directory }}/{{ item.key }}/ca-certificates"" mode: ""0755"" when: - item.value.enabled | bool - inventory_hostname in groups[item.value.group] - kolla_enable_tls_internal | bool with_dict: ""{{ freezer_services }}"" ",,1005,62
openstack%2Fopenstack-ansible~master~I43228d4c4938457a330e47fd6c9404b8749a0d56,openstack/openstack-ansible,master,I43228d4c4938457a330e47fd6c9404b8749a0d56,Update etcd playbook to target etcd from etcd_all,MERGED,2019-05-03 20:26:40.000000000,2019-10-12 16:52:21.000000000,2019-05-09 15:57:21.000000000,"[{'_account_id': 16011}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-03 20:26:40.000000000', 'files': ['playbooks/etcd-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/222a03ae12e13f02ecfad569eeda57219cdce281', 'message': ""Update etcd playbook to target etcd from etcd_all\n\nWhen deploying etcd, the existing playbook targets etcd_all and tries\nto deploy components on infra nodes hosting etcd containers. This patch\nchanges the target group to 'etcd' and installs only in etcd containers.\n\nChange-Id: I43228d4c4938457a330e47fd6c9404b8749a0d56\nCloses-Bug: 1827645\n""}]",0,657028,222a03ae12e13f02ecfad569eeda57219cdce281,12,4,1,16011,,,0,"Update etcd playbook to target etcd from etcd_all

When deploying etcd, the existing playbook targets etcd_all and tries
to deploy components on infra nodes hosting etcd containers. This patch
changes the target group to 'etcd' and installs only in etcd containers.

Change-Id: I43228d4c4938457a330e47fd6c9404b8749a0d56
Closes-Bug: 1827645
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/28/657028/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/etcd-install.yml'],1,222a03ae12e13f02ecfad569eeda57219cdce281,bug/1827645, hosts: etcd, hosts: etcd_all,1,1
openstack%2Fkolla-ansible~master~I03da66d89a7cc33e4313a9ae14aee9501cfba479,openstack/kolla-ansible,master,I03da66d89a7cc33e4313a9ae14aee9501cfba479,Neutron: Use openvswitch firewall_driver instead of OVSHybridIptablesFirewallDriver,ABANDONED,2019-10-01 13:15:05.000000000,2019-10-12 15:39:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-01 13:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/83c15bfb05f97fdf7df2187d8708b59e50c981ea', 'message': 'Neutron: Use openvswitch firewall_driver instead of OVSHybridIptablesFirewallDriver\n\nNative Open vSwitch firewall driver - delivers better performance\nand scalability but it requires newer Linux Kernel\n(>=4.3 or >=3.3 with ovs modules) and Open vSwitch .\nhttps://docs.openstack.org/neutron/pike/admin/config-ovsfwdriver.html\n\nChange-Id: I03da66d89a7cc33e4313a9ae14aee9501cfba479\n'}, {'number': 2, 'created': '2019-10-01 15:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac34e8483fc0f75d38b639e3f3c6f91a115968ab', 'message': 'Neutron: Use openvswitch firewall_driver instead of OVSHybridIptablesFirewallDriver\n\nNative Open vSwitch firewall driver - delivers better performance\nand scalability but it requires newer Linux Kernel\n(>=4.3 or >=3.3 with ovs modules) and Open vSwitch .\nhttps://docs.openstack.org/neutron/pike/admin/config-ovsfwdriver.html\n\nChange-Id: I03da66d89a7cc33e4313a9ae14aee9501cfba479\n'}, {'number': 3, 'created': '2019-10-11 21:37:52.000000000', 'files': ['ansible/roles/neutron/templates/ml2_conf.ini.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/56bfeb99303e7df0bcd7d91b5866c5715af85845', 'message': 'Neutron: Use openvswitch firewall_driver instead of OVSHybridIptablesFirewallDriver\n\nNative Open vSwitch firewall driver - delivers better performance\nand scalability but it requires newer Linux Kernel\n(>=4.3 or >=3.3 with ovs modules) and Open vSwitch .\nhttps://docs.openstack.org/neutron/pike/admin/config-ovsfwdriver.html\n\nChange-Id: I03da66d89a7cc33e4313a9ae14aee9501cfba479\n'}]",1,685962,56bfeb99303e7df0bcd7d91b5866c5715af85845,10,3,3,28374,,,0,"Neutron: Use openvswitch firewall_driver instead of OVSHybridIptablesFirewallDriver

Native Open vSwitch firewall driver - delivers better performance
and scalability but it requires newer Linux Kernel
(>=4.3 or >=3.3 with ovs modules) and Open vSwitch .
https://docs.openstack.org/neutron/pike/admin/config-ovsfwdriver.html

Change-Id: I03da66d89a7cc33e4313a9ae14aee9501cfba479
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/62/685962/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/templates/ml2_conf.ini.j2'],1,83c15bfb05f97fdf7df2187d8708b59e50c981ea,685962,"{% if neutron_plugin_agent == ""openvswitch"" %} firewall_driver = openvswitch {% else %}{% endif %}",,4,0
openstack%2Faodh~stable%2Ftrain~I30cfe9d1cc8c7209e6f865bdd721494dcb4e33ed,openstack/aodh,stable/train,I30cfe9d1cc8c7209e6f865bdd721494dcb4e33ed,heat notifier: Fix getting unhealthy resource names,MERGED,2019-10-10 03:37:31.000000000,2019-10-12 15:23:31.000000000,2019-10-12 15:22:18.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-10-10 03:37:31.000000000', 'files': ['aodh/notifier/heat.py', 'aodh/tests/unit/notifier/test_heat.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/9e17daad69c65792c8e03d6e39a9601f6972a8c6', 'message': 'heat notifier: Fix getting unhealthy resource names\n\nIn the autoscaling scenario, the resource which should be marked as\nunhealthy is always the parent resource of the failed load balancer pool\nmember.\n\nChange-Id: I30cfe9d1cc8c7209e6f865bdd721494dcb4e33ed\n(cherry picked from commit b47550ae447c81135a1145c7ea8b90004798b4b5)\n'}]",0,687771,9e17daad69c65792c8e03d6e39a9601f6972a8c6,8,3,1,6732,,,0,"heat notifier: Fix getting unhealthy resource names

In the autoscaling scenario, the resource which should be marked as
unhealthy is always the parent resource of the failed load balancer pool
member.

Change-Id: I30cfe9d1cc8c7209e6f865bdd721494dcb4e33ed
(cherry picked from commit b47550ae447c81135a1145c7ea8b90004798b4b5)
",git fetch https://review.opendev.org/openstack/aodh refs/changes/71/687771/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/notifier/heat.py', 'aodh/tests/unit/notifier/test_heat.py']",2,9e17daad69c65792c8e03d6e39a9601f6972a8c6,fix-get-unhealthy-resource-stable/train," def test_notify(self, mock_heatclient): self.parent_resource = resource_name"," def test_notify_with_tags(self, mock_heatclient): action = netutils.urlsplit(""trust+autohealer://fake_trust_id:delete@"") alarm_id = ""fake_alarm_id"" alarm_name = ""fake_alarm_name"" severity = ""low"" previous = ""ok"" current = ""alarm"" reason = ""no good reason"" reason_data = { ""stack_id"": ""fake_stack_id"", ""asg_id"": ""fake_asg_id"", ""unhealthy_members"": [ {""tags"": [""3bd8bc5a-7632-11e9-84cd-00224d6b7bc1""]} ] } notifier = heat_notifier.TrustHeatAlarmNotifier(self.conf) notifier.notify(action, alarm_id, alarm_name, severity, previous, current, reason, reason_data) mock_heatclient.assert_called_once_with(self.conf, ""fake_trust_id"") mock_client = mock_heatclient.return_value mock_client.resources.mark_unhealthy.assert_called_once_with( ""fake_asg_id"", ""3bd8bc5a-7632-11e9-84cd-00224d6b7bc1"", True, ""unhealthy load balancer member"" ) mock_client.stacks.update.assert_called_once_with( ""fake_stack_id"", existing=True ) @mock.patch(""aodh.keystone_client.get_heat_client_from_trust"") def test_notify_without_tags(self, mock_heatclient): self.resource_name = resource_name",14,67
openstack%2Ftelemetry-tempest-plugin~master~I599da0883546c2af9fd054f64bee695a70d823d8,openstack/telemetry-tempest-plugin,master,I599da0883546c2af9fd054f64bee695a70d823d8,Sync Sphinx requirement,MERGED,2019-10-10 07:09:17.000000000,2019-10-12 15:15:33.000000000,2019-10-12 15:15:33.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-10-10 07:09:17.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/ea3c83bb67af70205a36b7c47321fa954fdedf8e', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I599da0883546c2af9fd054f64bee695a70d823d8\n'}]",0,687803,ea3c83bb67af70205a36b7c47321fa954fdedf8e,6,2,1,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I599da0883546c2af9fd054f64bee695a70d823d8
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/03/687803/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,ea3c83bb67af70205a36b7c47321fa954fdedf8e,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx>=1.6.2 # BSD,2,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I2e79daa7b763f6d74285867d0d86e1b689237802,openstack/tripleo-heat-templates,stable/queens,I2e79daa7b763f6d74285867d0d86e1b689237802,DNM - Test Run Manila in scenario004 without pacemaker,ABANDONED,2019-10-10 16:23:00.000000000,2019-10-12 13:37:53.000000000,,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 16:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f4ca1556d40707a69507546b0734b6e8749be8e', 'message': 'DNM - Test Run Manila in scenario004 without pacemaker\n\nDepends-On: https://review.rdoproject.org/r/#/c/687949\nChange-Id: I2e79daa7b763f6d74285867d0d86e1b689237802\n'}, {'number': 2, 'created': '2019-10-10 20:56:19.000000000', 'files': ['docker/services/manila-share.yaml', 'ci/environments/scenario004-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/779b83a8c7d16b927962fa855244a1b88ff04224', 'message': 'DNM - Test Run Manila in scenario004 without pacemaker\n\nDepends-On: https://review.opendev.org/#/c/687949/\nChange-Id: I2e79daa7b763f6d74285867d0d86e1b689237802\n'}]",0,687951,779b83a8c7d16b927962fa855244a1b88ff04224,7,2,2,9003,,,0,"DNM - Test Run Manila in scenario004 without pacemaker

Depends-On: https://review.opendev.org/#/c/687949/
Change-Id: I2e79daa7b763f6d74285867d0d86e1b689237802
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/687951/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/manila-share.yaml', 'ci/environments/scenario004-multinode-containers.yaml']",2,9f4ca1556d40707a69507546b0734b6e8749be8e,bug/1841941-stable/queens, OS::TripleO::Services::ManilaShare: ../../docker/services/manila-share.yaml, OS::TripleO::Services::ManilaShare: ../../docker/services/pacemaker/manila-share.yaml,6,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~I45789c27a24fe1c1e630093c978ba7dbf4ef328a,openstack/tripleo-heat-templates,stable/rocky,I45789c27a24fe1c1e630093c978ba7dbf4ef328a,DNM - Test Run Manila in scenario004 without pacemaker,ABANDONED,2019-10-10 09:08:54.000000000,2019-10-12 13:37:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-10 09:08:54.000000000', 'files': ['docker/services/manila-share.yaml', 'ci/environments/scenario004-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6a13e8c811f344c808b527f018a048a6befb335c', 'message': 'DNM - Test Run Manila in scenario004 without pacemaker\n\nDepends-On: https://review.rdoproject.org/r/#/c/687674\nChange-Id: I45789c27a24fe1c1e630093c978ba7dbf4ef328a\n'}]",0,687832,6a13e8c811f344c808b527f018a048a6befb335c,5,2,1,9003,,,0,"DNM - Test Run Manila in scenario004 without pacemaker

Depends-On: https://review.rdoproject.org/r/#/c/687674
Change-Id: I45789c27a24fe1c1e630093c978ba7dbf4ef328a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/687832/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/manila-share.yaml', 'ci/environments/scenario004-multinode-containers.yaml']",2,6a13e8c811f344c808b527f018a048a6befb335c,bug/1841941, OS::TripleO::Services::ManilaShare: ../../docker/services/manila-share.yaml, OS::TripleO::Services::ManilaShare: ../../docker/services/pacemaker/manila-share.yaml,6,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ie9cc9c129fd29ce1d1995e2d622beec164927964,openstack/tripleo-heat-templates,stable/stein,Ie9cc9c129fd29ce1d1995e2d622beec164927964,DNM - Test Run Manila in scenario004 without pacemaker,ABANDONED,2019-10-09 15:05:32.000000000,2019-10-12 13:37:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 15:05:32.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'deployment/manila/manila-share-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc52a042c419f093d221248928a3585f69a40d60', 'message': 'DNM - Test Run Manila in scenario004 without pacemaker\n\nDepends-On: https://review.rdoproject.org/r/#/c/685097\nChange-Id: Ie9cc9c129fd29ce1d1995e2d622beec164927964\n'}]",0,687580,dc52a042c419f093d221248928a3585f69a40d60,4,2,1,9003,,,0,"DNM - Test Run Manila in scenario004 without pacemaker

Depends-On: https://review.rdoproject.org/r/#/c/685097
Change-Id: Ie9cc9c129fd29ce1d1995e2d622beec164927964
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/687580/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'deployment/manila/manila-share-container-puppet.yaml']",2,dc52a042c419f093d221248928a3585f69a40d60,, - path: /var/lib/manila owner: manila:manila recurse: true ipc: host user: root,,7,8
openstack%2Foctavia~stable%2Fstein~If3c3cf9be085bb95b4ebbaf71e24f92d42b8d6e0,openstack/octavia,stable/stein,If3c3cf9be085bb95b4ebbaf71e24f92d42b8d6e0,loadbalancer vip-network-id IP availability check,MERGED,2019-09-27 20:19:12.000000000,2019-10-12 13:05:47.000000000,2019-10-12 13:04:13.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 20:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e530b060650c2cc5ed9c5219ee2ae92a95596a19', 'message': 'loadbalancer vip-network-id IP availability check\n\nThe existing code selects the first IPv4 subnet in the network without\nany consideration of ip availability.  If not enough IPs are available,\nthe loadbalancer creations fails.  This patch uses neutron ip\navailability API to check the quantity of free IPs when creating\nloadbalancer with vip-network-id and skips subnets that do not have\nenough IPs for a loadbalancer on multi subnet networks.\n\nChange-Id: If3c3cf9be085bb95b4ebbaf71e24f92d42b8d6e0\nTask: 36004\nStory: 2006293\n(cherry picked from commit cf901539677d24cac0d9541752b4b3c74c2a1635)\n'}, {'number': 2, 'created': '2019-10-01 06:24:51.000000000', 'files': ['octavia/common/utils.py', 'octavia/network/drivers/neutron/utils.py', 'octavia/tests/unit/network/drivers/neutron/test_base.py', 'octavia/api/v2/controllers/load_balancer.py', 'releasenotes/notes/fix-vip-network-ip-availability-2e924f32abf01052.yaml', 'octavia/network/drivers/neutron/base.py', 'octavia/network/base.py', 'octavia/network/data_models.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/unit/network/drivers/neutron/test_utils.py', 'octavia/tests/common/constants.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9f05c2f9411cc399f882dc77a1f372cc887e333d', 'message': 'loadbalancer vip-network-id IP availability check\n\nThe existing code selects the first IPv4 subnet in the network without\nany consideration of ip availability.  If not enough IPs are available,\nthe loadbalancer creations fails.  This patch uses neutron ip\navailability API to check the quantity of free IPs when creating\nloadbalancer with vip-network-id and skips subnets that do not have\nenough IPs for a loadbalancer on multi subnet networks.\n\nChange-Id: If3c3cf9be085bb95b4ebbaf71e24f92d42b8d6e0\nTask: 36004\nStory: 2006293\n'}]",0,685475,9f05c2f9411cc399f882dc77a1f372cc887e333d,15,3,2,28258,,,0,"loadbalancer vip-network-id IP availability check

The existing code selects the first IPv4 subnet in the network without
any consideration of ip availability.  If not enough IPs are available,
the loadbalancer creations fails.  This patch uses neutron ip
availability API to check the quantity of free IPs when creating
loadbalancer with vip-network-id and skips subnets that do not have
enough IPs for a loadbalancer on multi subnet networks.

Change-Id: If3c3cf9be085bb95b4ebbaf71e24f92d42b8d6e0
Task: 36004
Story: 2006293
",git fetch https://review.opendev.org/openstack/octavia refs/changes/75/685475/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/utils.py', 'octavia/network/drivers/neutron/utils.py', 'octavia/tests/unit/network/drivers/neutron/test_base.py', 'octavia/api/v2/controllers/load_balancer.py', 'releasenotes/notes/fix-vip-network-ip-availability-2e924f32abf01052.yaml', 'octavia/network/drivers/neutron/base.py', 'octavia/network/base.py', 'octavia/network/data_models.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/unit/network/drivers/neutron/test_utils.py', 'octavia/tests/common/constants.py']",12,e530b060650c2cc5ed9c5219ee2ae92a95596a19,2006293-fix-stable/stein," MOCK_NETWORK_TOTAL_IPS = 254 MOCK_NETWORK_USED_IPS = 0 MOCK_SUBNET_TOTAL_IPS = 254 MOCK_SUBNET_USED_IPS = 0 MOCK_SUBNET_IP_AVAILABILITY = [{'used_ips': MOCK_SUBNET_USED_IPS, 'subnet_id': MOCK_SUBNET_ID, 'total_ips': MOCK_SUBNET_TOTAL_IPS}] MOCK_NETWORK_IP_AVAILABILITY = {'network_ip_availability': ( {'network_id': MOCK_NETWORK_ID, 'tenant_id': MOCK_PROJECT_ID, 'network_name': MOCK_NETWORK_NAME, 'total_ips': MOCK_NETWORK_TOTAL_IPS, 'used_ips': MOCK_NETWORK_USED_IPS, 'subnet_ip_availability': MOCK_SUBNET_IP_AVAILABILITY})}",,218,7
openstack%2Foctavia~master~I824c3ed541cfd42e3c8f02be5da694f42f40d7c2,openstack/octavia,master,I824c3ed541cfd42e3c8f02be5da694f42f40d7c2,Switch to openstack-python3-ussuri-jobs,MERGED,2019-10-11 17:28:51.000000000,2019-10-12 12:43:43.000000000,2019-10-12 12:40:43.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-11 17:28:51.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5934280e03710bb5ddb3b19527ec44a9d2cf831b', 'message': ""Switch to openstack-python3-ussuri-jobs\n\nOctavia was using train jobs template: openstack-python3-train-jobs\nbut now we are in Ussuri cycle so let's switch to new template.\nModeled after neutron change https://review.opendev.org/#/c/688104/\n\nChange-Id: I824c3ed541cfd42e3c8f02be5da694f42f40d7c2\n""}]",1,688180,5934280e03710bb5ddb3b19527ec44a9d2cf831b,9,4,1,1131,,,0,"Switch to openstack-python3-ussuri-jobs

Octavia was using train jobs template: openstack-python3-train-jobs
but now we are in Ussuri cycle so let's switch to new template.
Modeled after neutron change https://review.opendev.org/#/c/688104/

Change-Id: I824c3ed541cfd42e3c8f02be5da694f42f40d7c2
",git fetch https://review.opendev.org/openstack/octavia refs/changes/80/688180/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,5934280e03710bb5ddb3b19527ec44a9d2cf831b,switch-to-ussuri-jobs, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Foctavia~master~Iacee63120a0d60e312cc85c7fcb8e7351688af3d,openstack/octavia,master,Iacee63120a0d60e312cc85c7fcb8e7351688af3d,Set neutron client logging to INFO,MERGED,2019-09-13 21:35:44.000000000,2019-10-12 12:42:25.000000000,2019-10-12 12:40:38.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-13 21:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a7341a84e8b669d1dc9b11f1535838b7be32b71b', 'message': 'Set neutron client logging to INFO\n\nThe neutron client will post debug messages with the word ""Error""\nwhich is misleading. In reality it is a simple 404 that an extension\nis not enabled.\nThis patch raises the default logging level for the neutron client to\nINFO to suppress these messages.\n\nChange-Id: Iacee63120a0d60e312cc85c7fcb8e7351688af3d\n'}, {'number': 2, 'created': '2019-09-13 23:09:34.000000000', 'files': ['octavia/common/config.py', 'octavia/common/service.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e795406343dcd3d33f5c18de9b0d6313370afa7a', 'message': 'Set neutron client logging to INFO\n\nThe neutron client will post debug messages with the word ""Error""\nwhich is misleading. In reality it is a simple 404 that an extension\nis not enabled.\nThis patch raises the default logging level for the neutron client to\nINFO to suppress these messages.\n\nChange-Id: Iacee63120a0d60e312cc85c7fcb8e7351688af3d\n'}]",0,682167,e795406343dcd3d33f5c18de9b0d6313370afa7a,11,5,2,11628,,,0,"Set neutron client logging to INFO

The neutron client will post debug messages with the word ""Error""
which is misleading. In reality it is a simple 404 that an extension
is not enabled.
This patch raises the default logging level for the neutron client to
INFO to suppress these messages.

Change-Id: Iacee63120a0d60e312cc85c7fcb8e7351688af3d
",git fetch https://review.opendev.org/openstack/octavia refs/changes/67/682167/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/common/service.py']",2,a7341a84e8b669d1dc9b11f1535838b7be32b71b,,, log.set_defaults(),6,2
openstack%2Foctavia~master~I9299084402a0b09104e81f48e998b77a195745a0,openstack/octavia,master,I9299084402a0b09104e81f48e998b77a195745a0,Update the load balancing cookbook,MERGED,2019-08-28 19:32:58.000000000,2019-10-12 12:40:40.000000000,2019-10-12 12:40:40.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-08-28 19:32:58.000000000', 'files': ['doc/source/user/guides/basic-cookbook.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9de37f3955f8abf132e2aabfbadbeddf46cb6339', 'message': 'Update the load balancing cookbook\n\nThe ""basic load balancing cookbook"" still had a reference to\nneutron-lbaas and an old DVR bug.\nThis patch corrects those issues.\n\nChange-Id: I9299084402a0b09104e81f48e998b77a195745a0\nStory: 2006470\nTask: 36401\n'}]",0,679128,9de37f3955f8abf132e2aabfbadbeddf46cb6339,10,6,1,11628,,,0,"Update the load balancing cookbook

The ""basic load balancing cookbook"" still had a reference to
neutron-lbaas and an old DVR bug.
This patch corrects those issues.

Change-Id: I9299084402a0b09104e81f48e998b77a195745a0
Story: 2006470
Task: 36401
",git fetch https://review.opendev.org/openstack/octavia refs/changes/28/679128/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/guides/basic-cookbook.rst'],1,9de37f3955f8abf132e2aabfbadbeddf46cb6339,,"command-line interfaces, via the OpenStack client, are going to be used to configure all features of Octavia. In order to keep these examples short,do not work with IPv6.","command-line interfaces are going to be used to configure all features of Neutron LBaaS with an Octavia back-end. In order to keep these examples short,do not work with IPv6. Further, there is currently a bug in Neutron Distributed Virtual Routing (DVR) which prevents floating IPs from working correctly when DVR is in use. See: https://bugs.launchpad.net/neutron/+bug/1583694",3,5
openstack%2Fnova~master~I70310a6769f02ab13c7495ae2075ae6890df728a,openstack/nova,master,I70310a6769f02ab13c7495ae2075ae6890df728a,libvirt: Change _compare_cpu to raise InvalidCPUInfo,MERGED,2019-10-10 07:20:50.000000000,2019-10-12 11:55:49.000000000,2019-10-12 11:53:08.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27614}, {'_account_id': 28614}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-10 07:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f39f753c980e272d8120dd9f92a38630f72676d7', 'message': 'libvirt: Change _compare_cpu to raise InternalError\n\nPreviously only `check_can_live_migrate_destination` would use\n`_compare_cpu`, so it\'s reasonable to throw ""MigrationPreCheckError"".\nNow `_check_cpu_compatibility` will also use `_compare_cpu`, therefore,\nwe need to throw a generic exception here, and handle the generic exception\nrespectively.\n\nChange-Id: I70310a6769f02ab13c7495ae2075ae6890df728a\nImplements: blueprint cpu-model-selection\n'}, {'number': 2, 'created': '2019-10-11 06:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8972de0f0d4ce42ec6d57d3aa1817a39fb0f9a3', 'message': 'libvirt: Change _compare_cpu to raise InternalError\n\nPreviously only `check_can_live_migrate_destination` would use\n`_compare_cpu`, so it\'s reasonable to throw ""MigrationPreCheckError"".\nNow `_check_cpu_compatibility` will also use `_compare_cpu`, therefore,\nwe need to throw a generic exception here, and handle the generic exception\nrespectively.\n\nChange-Id: I70310a6769f02ab13c7495ae2075ae6890df728a\nImplements: blueprint cpu-model-selection\n'}, {'number': 3, 'created': '2019-10-11 09:08:41.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d02c326f23452b721ce8f516e57c1963b264ad0f', 'message': 'libvirt: Change _compare_cpu to raise InvalidCPUInfo\n\nPreviously only `check_can_live_migrate_destination` would use\n`_compare_cpu`, so it\'s reasonable to throw ""MigrationPreCheckError"".\nNow `_check_cpu_compatibility` will also use `_compare_cpu`, therefore,\nwe need to throw a generic exception here, and handle the generic exception\nrespectively.\n\nChange-Id: I70310a6769f02ab13c7495ae2075ae6890df728a\nImplements: blueprint cpu-model-selection\n'}]",3,687808,d02c326f23452b721ce8f516e57c1963b264ad0f,42,16,3,27614,,,0,"libvirt: Change _compare_cpu to raise InvalidCPUInfo

Previously only `check_can_live_migrate_destination` would use
`_compare_cpu`, so it's reasonable to throw ""MigrationPreCheckError"".
Now `_check_cpu_compatibility` will also use `_compare_cpu`, therefore,
we need to throw a generic exception here, and handle the generic exception
respectively.

Change-Id: I70310a6769f02ab13c7495ae2075ae6890df728a
Implements: blueprint cpu-model-selection
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/687808/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,f39f753c980e272d8120dd9f92a38630f72676d7,bp/cpu-model-selection," self.assertRaises(exception.InternalError,"," self.assertRaises(exception.MigrationPreCheckError,",12,9
openstack%2Foctavia~master~I43b60e7dcf53acf259c8a52b248fbb8c63d3c8d4,openstack/octavia,master,I43b60e7dcf53acf259c8a52b248fbb8c63d3c8d4,Add bash script style checker to pep8 check,MERGED,2019-10-10 17:59:11.000000000,2019-10-12 11:21:50.000000000,2019-10-12 11:20:09.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 17:59:11.000000000', 'files': ['devstack/samples/singlenode/local.sh', 'test-requirements.txt', 'devstack/plugin.sh', 'lower-constraints.txt', 'devstack/upgrade/vm_user_data.sh', 'tools/misc-sanity-checks.sh', 'tox.ini', 'devstack/upgrade/resources.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/98448dce44a45e03ebea471c2d1b4398b0aca301', 'message': 'Add bash script style checker to pep8 check\n\nAdded the bashate script style checker to the pep8\ncheck target in tox.ini. It actually found two valid\nissues - a bad function declaration and a local variable\nissue, but mostly just indentation noise. Fixed all the\ncomplaints.\n\nChange-Id: I43b60e7dcf53acf259c8a52b248fbb8c63d3c8d4\n'}]",0,687961,98448dce44a45e03ebea471c2d1b4398b0aca301,10,4,1,1131,,,0,"Add bash script style checker to pep8 check

Added the bashate script style checker to the pep8
check target in tox.ini. It actually found two valid
issues - a bad function declaration and a local variable
issue, but mostly just indentation noise. Fixed all the
complaints.

Change-Id: I43b60e7dcf53acf259c8a52b248fbb8c63d3c8d4
",git fetch https://review.opendev.org/openstack/octavia refs/changes/61/687961/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/samples/singlenode/local.sh', 'test-requirements.txt', 'devstack/plugin.sh', 'devstack/upgrade/vm_user_data.sh', 'lower-constraints.txt', 'tools/misc-sanity-checks.sh', 'tox.ini', 'devstack/upgrade/resources.sh']",8,98448dce44a45e03ebea471c2d1b4398b0aca301,bashate, while true; do, while : do,86,67
openstack%2Fopenstack-manuals~master~I4f1c19f9cc6435b622932801585e22f26a386bac,openstack/openstack-manuals,master,I4f1c19f9cc6435b622932801585e22f26a386bac,Imported Translations from Zanata,MERGED,2019-10-12 07:06:55.000000000,2019-10-12 10:07:09.000000000,2019-10-12 09:39:48.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-12 07:06:55.000000000', 'files': ['doc/install-guide/source/locale/id/LC_MESSAGES/install-guide.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8d34d17caf0f1c722aed89bc6a57a655393d99c5', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4f1c19f9cc6435b622932801585e22f26a386bac\n'}]",0,688248,8d34d17caf0f1c722aed89bc6a57a655393d99c5,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4f1c19f9cc6435b622932801585e22f26a386bac
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/48/688248/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/source/locale/id/LC_MESSAGES/install-guide.po'],1,8d34d17caf0f1c722aed89bc6a57a655393d99c5,zanata/translations,"""Project-Id-Version: Installation Guide\n""""POT-Creation-Date: 2019-10-07 10:24+0000\n""""PO-Revision-Date: 2019-10-12 06:28+0000\n""msgid ""Enable and restart the etcd service:"" msgstr ""Aktifkan dan restart layanan etcd:"" ","""Project-Id-Version: openstackinstallguide\n""""POT-Creation-Date: 2019-06-21 09:38+0000\n""""PO-Revision-Date: 2019-07-16 06:28+0000\n""",6,3
openstack%2Foctavia~master~Ice4071e1f872c8c0d0595427cff6f02ffbcf7968,openstack/octavia,master,Ice4071e1f872c8c0d0595427cff6f02ffbcf7968,Add the Amphora image building guide to the docs,MERGED,2019-06-17 21:39:30.000000000,2019-10-12 09:50:51.000000000,2019-10-12 09:49:27.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 21:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e1dd5aa54b8a724aa0c65750e523d00bfd1adcd6', 'message': 'Add the Amphora image building guide to the docs\n\nThis patch adds the Amphora image building guide from the\ndiskimage-create README.rst to the Administration documentation.\nIt also re-organizes the Adminstration guides to be broken down\nby category as the old page was becoming a long list of guides.\n(I like that kind of problem)\n\nChange-Id: Ice4071e1f872c8c0d0595427cff6f02ffbcf7968\n'}, {'number': 2, 'created': '2019-06-17 21:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0ba946e42c60a949ed6a8256124f2781bb1a85c9', 'message': 'Add the Amphora image building guide to the docs\n\nThis patch adds the Amphora image building guide from the\ndiskimage-create README.rst to the Administration documentation.\nIt also re-organizes the Adminstration guides to be broken down\nby category as the old page was becoming a long list of guides.\n(I like that kind of problem)\nThe diskimage-create README has a few formating corrections to make\nit render better for the documentation.\n\nChange-Id: Ice4071e1f872c8c0d0595427cff6f02ffbcf7968\n'}, {'number': 3, 'created': '2019-10-09 22:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/243bf5dfb62d237031ad761f7f77de5fc3b76852', 'message': 'Add the Amphora image building guide to the docs\n\nThis patch adds the Amphora image building guide from the\ndiskimage-create README.rst to the Administration documentation.\nIt also re-organizes the Adminstration guides to be broken down\nby category as the old page was becoming a long list of guides.\n(I like that kind of problem)\nThe diskimage-create README has a few formating corrections to make\nit render better for the documentation.\n\nChange-Id: Ice4071e1f872c8c0d0595427cff6f02ffbcf7968\n'}, {'number': 4, 'created': '2019-10-09 22:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/977777b5f6cd09df45fa629d80fe200c8eef36ad', 'message': 'Add the Amphora image building guide to the docs\n\nThis patch adds the Amphora image building guide from the\ndiskimage-create README.rst to the Administration documentation.\nIt also re-organizes the Adminstration guides to be broken down\nby category as the old page was becoming a long list of guides.\n(I like that kind of problem)\nThe diskimage-create README has a few formating corrections to make\nit render better for the documentation.\n\nChange-Id: Ice4071e1f872c8c0d0595427cff6f02ffbcf7968\n'}, {'number': 5, 'created': '2019-10-09 22:33:48.000000000', 'files': ['doc/source/admin/index.rst', 'diskimage-create/README.rst', 'doc/source/admin/amphora-image-build.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9be2e4d4d23b41964da30b1970335ed0c16387a4', 'message': 'Add the Amphora image building guide to the docs\n\nThis patch adds the Amphora image building guide from the\ndiskimage-create README.rst to the Administration documentation.\nIt also re-organizes the Adminstration guides to be broken down\nby category as the old page was becoming a long list of guides.\n(I like that kind of problem)\nThe diskimage-create README has a few formating corrections to make\nit render better for the documentation.\n\nChange-Id: Ice4071e1f872c8c0d0595427cff6f02ffbcf7968\n'}]",0,665769,9be2e4d4d23b41964da30b1970335ed0c16387a4,17,4,5,11628,,,0,"Add the Amphora image building guide to the docs

This patch adds the Amphora image building guide from the
diskimage-create README.rst to the Administration documentation.
It also re-organizes the Adminstration guides to be broken down
by category as the old page was becoming a long list of guides.
(I like that kind of problem)
The diskimage-create README has a few formating corrections to make
it render better for the documentation.

Change-Id: Ice4071e1f872c8c0d0595427cff6f02ffbcf7968
",git fetch https://review.opendev.org/openstack/octavia refs/changes/69/665769/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage-create/README.rst', 'doc/source/admin/index.rst', 'doc/source/admin/amphora-image-build.rst']",3,e1dd5aa54b8a724aa0c65750e523d00bfd1adcd6,image-build-docs,../../../diskimage-create/README.rst,,47,24
openstack%2Fhorizon~master~I9a4da50f970e787d6e9772f0132b9f5fba072f20,openstack/horizon,master,I9a4da50f970e787d6e9772f0132b9f5fba072f20,Imported Translations from Zanata,MERGED,2019-10-11 08:29:11.000000000,2019-10-12 09:46:12.000000000,2019-10-12 09:44:34.000000000,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-11 08:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/573164a7468aa7ee3a55ddbb8ed474e1b08cbc5f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9a4da50f970e787d6e9772f0132b9f5fba072f20\n'}, {'number': 2, 'created': '2019-10-12 07:00:35.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_auth/locale/ko_KR/LC_MESSAGES/django.po', 'horizon/locale/ko_KR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/fa5f7b8996b5a62da4942a88e469fe7e6434f9c7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9a4da50f970e787d6e9772f0132b9f5fba072f20\n'}]",0,688066,fa5f7b8996b5a62da4942a88e469fe7e6434f9c7,10,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9a4da50f970e787d6e9772f0132b9f5fba072f20
",git fetch https://review.opendev.org/openstack/horizon refs/changes/66/688066/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'openstack_auth/locale/ko_KR/LC_MESSAGES/django.po', 'horizon/locale/ko_KR/LC_MESSAGES/django.po']",4,573164a7468aa7ee3a55ddbb8ed474e1b08cbc5f,zanata/translations,"# Ian Y. Choi <ianyrchoi@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-10-10 07:50+0000\n""""PO-Revision-Date: 2019-10-07 01:48+0000\n"" ""Last-Translator: Ian Y. Choi <ianyrchoi@gmail.com>\n""msgid ""Change"" msgstr ""변경"" msgid ""Change Password"" msgstr ""비밀번호 변경"" msgid ""Change password"" msgstr ""비밀번호 변경"" ","""POT-Creation-Date: 2018-05-03 07:54+0000\n""""PO-Revision-Date: 2018-05-04 03:52+0000\n"" ""Last-Translator: Sungjin Kang <gang.sungjin@gmail.com>\n""",111,32
openstack%2Ftraining-guides~master~I35f281059f2bb8e9b3d62ed857fd1033f059c2ae,openstack/training-guides,master,I35f281059f2bb8e9b3d62ed857fd1033f059c2ae,Imported Translations from Zanata,MERGED,2019-10-12 09:04:27.000000000,2019-10-12 09:35:03.000000000,2019-10-12 09:33:19.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-12 09:04:27.000000000', 'files': ['doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/id/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/de/LC_MESSAGES/upstream-training.po'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/27e5c2c1e9dc79bf1f20fef422dcc9159d274050', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I35f281059f2bb8e9b3d62ed857fd1033f059c2ae\n'}]",0,688261,27e5c2c1e9dc79bf1f20fef422dcc9159d274050,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I35f281059f2bb8e9b3d62ed857fd1033f059c2ae
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/61/688261/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/id/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/de/LC_MESSAGES/upstream-training.po']",3,27e5c2c1e9dc79bf1f20fef422dcc9159d274050,zanata/translations,"""POT-Creation-Date: 2019-10-10 21:43+0000\n""","""POT-Creation-Date: 2019-10-02 14:06+0000\n""msgid "":ref:`openinfra-days-nordics`"" msgstr "":ref:`openinfra-days-nordics`"" msgid ""October 2, 2019"" msgstr ""2. Oktober 2019"" msgid ""Open Infra Days Nordics"" msgstr ""Open Infra Days Nordics"" msgid ""Stockholm,"" msgstr ""Stockholm,"" msgid ""Sweden"" msgstr ""Sweden"" ",40,47
openstack%2Fneutron-dynamic-routing~stable%2Frocky~I7c9e70a83a3e7098ac84a29f71969f13a43aec80,openstack/neutron-dynamic-routing,stable/rocky,I7c9e70a83a3e7098ac84a29f71969f13a43aec80,Fix lower-constraints failures on stable/rocky,MERGED,2019-10-03 14:28:10.000000000,2019-10-12 09:17:07.000000000,2019-10-12 09:16:01.000000000,"[{'_account_id': 4187}, {'_account_id': 7016}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 14:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/788431022853edf881820338c2ffc37c4fdb6ae0', 'message': '[WIP] Fix lower-constraints failures on stable/rocky\n\nThis change addresses failures in the lower-constraints jobs\non stable/rocky.\n\nChange-Id: I7c9e70a83a3e7098ac84a29f71969f13a43aec80\n'}, {'number': 2, 'created': '2019-10-03 14:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/cc718402c55929624a07a25f9b32e0b7cb2672cf', 'message': '[WIP] Fix lower-constraints failures on stable/rocky\n\nThis change addresses failures in the lower-constraints jobs\non stable/rocky.\n\nChange-Id: I7c9e70a83a3e7098ac84a29f71969f13a43aec80\n'}, {'number': 3, 'created': '2019-10-03 15:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/73fc4c030b3d07ddba5cbea2fd10d99480f418a2', 'message': '[WIP] Fix lower-constraints failures on stable/rocky\n\nThis change addresses failures in the lower-constraints jobs\non stable/rocky.\n\nChange-Id: I7c9e70a83a3e7098ac84a29f71969f13a43aec80\n'}, {'number': 4, 'created': '2019-10-03 16:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/5248ad912a4171b26117f491b6ec42945a38d5a9', 'message': '[WIP] Fix lower-constraints failures on stable/rocky\n\nThis change addresses failures in the lower-constraints jobs\non stable/rocky.\n\nChange-Id: I7c9e70a83a3e7098ac84a29f71969f13a43aec80\n'}, {'number': 5, 'created': '2019-10-03 22:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/45ffff78ec96dc5f6bc94b08d7f5aabf6bd3fae8', 'message': '[WIP] Fix lower-constraints failures on stable/rocky\n\nThis change addresses failures in the lower-constraints jobs\non stable/rocky.\n\nChange-Id: I7c9e70a83a3e7098ac84a29f71969f13a43aec80\n'}, {'number': 6, 'created': '2019-10-03 22:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/3b42b201f912feb8172935544661b1da3e1122ad', 'message': '[WIP] Fix lower-constraints failures on stable/rocky\n\nThis change addresses failures in the lower-constraints jobs\non stable/rocky.\n\nChange-Id: I7c9e70a83a3e7098ac84a29f71969f13a43aec80\n'}, {'number': 7, 'created': '2019-10-03 23:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/101dcc77718da53ffa00dc8b15b983597f686d2c', 'message': '[WIP] Fix lower-constraints failures on stable/rocky\n\nThis change addresses failures in the lower-constraints jobs\non stable/rocky.\n\nChange-Id: I7c9e70a83a3e7098ac84a29f71969f13a43aec80\n'}, {'number': 8, 'created': '2019-10-04 15:06:34.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/5a8348d2a17d57a249c847af18cb557ee9da5cc3', 'message': ""Fix lower-constraints failures on stable/rocky\n\nThis change addresses failures in the lower-constraints jobs\non stable/rocky. In particular, an upper constraint on the\nversion of neutron is added ensure CI jobs don't pull\nnewer versions that are incompatible with stable/rocky.\n\nChange-Id: I7c9e70a83a3e7098ac84a29f71969f13a43aec80\n""}]",0,686415,5a8348d2a17d57a249c847af18cb557ee9da5cc3,20,5,8,4187,,,0,"Fix lower-constraints failures on stable/rocky

This change addresses failures in the lower-constraints jobs
on stable/rocky. In particular, an upper constraint on the
version of neutron is added ensure CI jobs don't pull
newer versions that are incompatible with stable/rocky.

Change-Id: I7c9e70a83a3e7098ac84a29f71969f13a43aec80
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/15/686415/8 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,788431022853edf881820338c2ffc37c4fdb6ae0,,"neutron>=13.0.0,<14.0.0 # Apache-2.0",neutron>=13.0.0 # Apache-2.0,1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I6493fd090c808da01d19cc12d1b8371c67708904,openstack/tripleo-heat-templates,stable/stein,I6493fd090c808da01d19cc12d1b8371c67708904,Fix double cert mount in haproxy bundle when using tls everywhere,MERGED,2019-10-11 07:49:17.000000000,2019-10-12 08:44:45.000000000,2019-10-12 08:44:44.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-11 07:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a0a249b510393c0da58a9d9b32bc6160487ef03', 'message': 'Fix double cert mount in haproxy bundle when using tls everywhere\n\nWhen deploying with tls-everywhere the haproxy_init_bundle container\nwill bind mount /etc/ipa/ca.crt twice and starting with podman 1.{3,4}.x\nthis will break:\n\n  ""stderr: Error: /etc/ipa/ca.crt: duplicate mount destination""\n\nThe TLS bind mounts are needed in haproxy_init_bundle (which is only\nin charge of creating the pcmk resource) because puppet-haproxy uses\na validate command to check the config which will fail if we simply\nremove those bind mounts. Instead of skipping this verification with\nsome parameter/tag, we try and avoid the duplicate cert by removing the\nca.crt bind mount from deployed_cert_mounts.\n\nThe duplication comes from:\n1) https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/containers-common.yaml#L122-L127\n2) https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/haproxy/haproxy-pacemaker-puppet.yaml#L263\n\nSince changing it into 1) has large implication, we just avoid\nredefining it in 2).\n\nTested with a full tls-everywhere deploy with the applied patch and the\nerror is not seen any longer.\n\nChange-Id: I6493fd090c808da01d19cc12d1b8371c67708904\nRelated-Bug: #1833347\nCloses-Bug: #1846495\n'}, {'number': 2, 'created': '2019-10-11 12:00:00.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e303fdbbb580db2769375c31088f4ba583bc00e', 'message': 'Fix double cert mount in haproxy bundle when using tls everywhere\n\nWhen deploying with tls-everywhere the haproxy_init_bundle container\nwill bind mount /etc/ipa/ca.crt twice and starting with podman 1.{3,4}.x\nthis will break:\n\n  ""stderr: Error: /etc/ipa/ca.crt: duplicate mount destination""\n\nThe TLS bind mounts are needed in haproxy_init_bundle (which is only\nin charge of creating the pcmk resource) because puppet-haproxy uses\na validate command to check the config which will fail if we simply\nremove those bind mounts. Instead of skipping this verification with\nsome parameter/tag, we try and avoid the duplicate cert by removing the\nca.crt bind mount from deployed_cert_mounts.\n\nThe duplication comes from:\n1) https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/containers-common.yaml#L122-L127\n2) https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/haproxy/haproxy-pacemaker-puppet.yaml#L263\n\nSince changing it into 1) has large implication, we just avoid\nredefining it in 2).\n\nTested with a full tls-everywhere deploy with the applied patch and the\nerror is not seen any longer.\n\n(cherry picked from commit 668cc684fc93503128c946dae9f331b49437ec2c)\n\nChange-Id: I6493fd090c808da01d19cc12d1b8371c67708904\nRelated-Bug: #1833347\nCloses-Bug: #1846495\n'}]",0,688055,7e303fdbbb580db2769375c31088f4ba583bc00e,15,4,2,20172,,,0,"Fix double cert mount in haproxy bundle when using tls everywhere

When deploying with tls-everywhere the haproxy_init_bundle container
will bind mount /etc/ipa/ca.crt twice and starting with podman 1.{3,4}.x
this will break:

  ""stderr: Error: /etc/ipa/ca.crt: duplicate mount destination""

The TLS bind mounts are needed in haproxy_init_bundle (which is only
in charge of creating the pcmk resource) because puppet-haproxy uses
a validate command to check the config which will fail if we simply
remove those bind mounts. Instead of skipping this verification with
some parameter/tag, we try and avoid the duplicate cert by removing the
ca.crt bind mount from deployed_cert_mounts.

The duplication comes from:
1) https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/containers-common.yaml#L122-L127
2) https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/haproxy/haproxy-pacemaker-puppet.yaml#L263

Since changing it into 1) has large implication, we just avoid
redefining it in 2).

Tested with a full tls-everywhere deploy with the applied patch and the
error is not seen any longer.

(cherry picked from commit 668cc684fc93503128c946dae9f331b49437ec2c)

Change-Id: I6493fd090c808da01d19cc12d1b8371c67708904
Related-Bug: #1833347
Closes-Bug: #1846495
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/688055/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-pacemaker-puppet.yaml'],1,5a0a249b510393c0da58a9d9b32bc6160487ef03,haproxy_doublecert-stable/stein," # The init bundle users the container_puppet_apply_volumes list. That already contains InternalTLSCAFile # and newer podmans refuse to start with duplicated mountpoints. That is why we cannot use tls_mapping # but need a new mapping tripleo::profile::pacemaker::haproxy_bundle::tls_mapping_init_bundle: &tls_mapping_init_bundle list_concat: - if: - public_tls_enabled - - get_param: DeployedSSLCertificatePath - null - if: - internal_tls_enabled - - get_param: HAProxyInternalTLSKeysDirectory - get_param: HAProxyInternalTLSCertsDirectory - null - yaql: expression: $.data.select($+"":""+$+"":ro"") data: *tls_mapping_init_bundle", - *deployed_cert_mount,17,1
openstack%2Fneutron~master~I4a0e97845a40888f7f2c7267d9adb7be663ee380,openstack/neutron,master,I4a0e97845a40888f7f2c7267d9adb7be663ee380,Add policy config for get_flavor_service_profile operation,MERGED,2019-09-16 15:35:11.000000000,2019-10-12 08:20:50.000000000,2019-10-11 18:17:18.000000000,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17896}, {'_account_id': 18256}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-16 15:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/02adea047be5fc48af96211306464234520f4133', 'message': 'Add policy config for get_flavor_service_profile operation\n\nPolicy for this API call was commented out but it seems that\nit is needed to fix Parole test failure, see related bug description\nfor details.\n\nChange-Id: I4a0e97845a40888f7f2c7267d9adb7be663ee380\nCloses-Bug: #1843290\n'}, {'number': 2, 'created': '2019-09-17 07:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b149eb7e03f7b5e56969e79728c18e6a23431fec', 'message': 'Add policy config for get_flavor_service_profile operation\n\nPolicy for this API call was commented out but it seems that\nit is needed to fix Patrole test failure, see related bug description\nfor details.\n\nChange-Id: I4a0e97845a40888f7f2c7267d9adb7be663ee380\nCloses-Bug: #1843290\n'}, {'number': 3, 'created': '2019-10-10 10:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca4d7103642e65bc1c414a479f5013ab6b7a59c9', 'message': ""Add policy config for get_flavor_service_profile operation\n\nPolicy for this API call was commented out but it is needed\nfor DELETE flavor_service_profile operation as Neutron's policy\nmodule looks for ability for SHOW command when DELETE is rejected\nto ensure what error message should be returned to the user.\n\nThis patch will fix Patrole test failure, see related bug description\nfor details.\n\nChange-Id: I4a0e97845a40888f7f2c7267d9adb7be663ee380\nCloses-Bug: #1843290\n""}, {'number': 4, 'created': '2019-10-10 17:00:28.000000000', 'files': ['neutron/conf/policies/flavor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac0a426017e92d5d73e97c26ef18a888e02da104', 'message': ""Add policy config for get_flavor_service_profile operation\n\nPolicy for this API call was commented out but it is needed\nfor DELETE flavor_service_profile operation as Neutron's policy\nmodule looks for ability for SHOW command when DELETE is rejected\nto ensure what error message should be returned to the user.\n\nThis patch will fix Patrole test failure, see related bug description\nfor details.\n\nChange-Id: I4a0e97845a40888f7f2c7267d9adb7be663ee380\nCloses-Bug: #1843290\n""}]",7,682391,ac0a426017e92d5d73e97c26ef18a888e02da104,42,12,4,11975,,,0,"Add policy config for get_flavor_service_profile operation

Policy for this API call was commented out but it is needed
for DELETE flavor_service_profile operation as Neutron's policy
module looks for ability for SHOW command when DELETE is rejected
to ensure what error message should be returned to the user.

This patch will fix Patrole test failure, see related bug description
for details.

Change-Id: I4a0e97845a40888f7f2c7267d9adb7be663ee380
Closes-Bug: #1843290
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/682391/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/flavor.py'],1,02adea047be5fc48af96211306464234520f4133,bug/1843290," policy.RuleDefault( 'get_flavor_service_profile', base.RULE_ANY, 'Get a flavor associate with a given service profiles', ),"," # TODO(amotoki): GET /flavors/{flavor_id}/service_profiles/{profile_id} # does not work and leads to an internal server error. # It is not defined in the API reference either. # It needs investigation and temporarily commented out. # policy.RuleDefault( # 'get_flavor_service_profile', # base.RULE_ANY, # 'Get a flavor associate with a given service profiles', # ),",5,9
openstack%2Ftripleo-image-elements~master~I7bbcd74da1ea5800db93e36eb78e028c6af7a061,openstack/tripleo-image-elements,master,I7bbcd74da1ea5800db93e36eb78e028c6af7a061,Sync Sphinx requirement,MERGED,2019-10-10 07:12:50.000000000,2019-10-12 08:02:25.000000000,2019-10-12 08:01:10.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-10 07:12:50.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/bcb1e649a05838e9bbf87558577cf2437d783ffc', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I7bbcd74da1ea5800db93e36eb78e028c6af7a061\n'}]",0,687804,bcb1e649a05838e9bbf87558577cf2437d783ffc,9,4,1,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I7bbcd74da1ea5800db93e36eb78e028c6af7a061
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/04/687804/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,bcb1e649a05838e9bbf87558577cf2437d783ffc,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx>=1.6.2 # BSD,2,1
openstack%2Fansible-role-collect-logs~master~I0d2e9060edf79362f5ad5c1823ee6a5d8cd975f2,openstack/ansible-role-collect-logs,master,I0d2e9060edf79362f5ad5c1823ee6a5d8cd975f2,add note about ignore_errors,MERGED,2019-10-08 15:35:16.000000000,2019-10-12 08:01:12.000000000,2019-10-12 08:01:12.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 15:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/dda09968a685b4ffa8069401ab465657bb293c2c', 'message': 'add note about ignore_errors\n\nNote that collect tasks are executed with\nignore_errors.\n\nChange-Id: I0d2e9060edf79362f5ad5c1823ee6a5d8cd975f2\n'}, {'number': 2, 'created': '2019-10-08 19:42:22.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/3a344a0ab043cc193793146e546f3752d6e30dd7', 'message': 'add note about ignore_errors\n\nNote that collect tasks are executed with\nignore_errors.\n\nChange-Id: I0d2e9060edf79362f5ad5c1823ee6a5d8cd975f2\n'}]",0,687335,3a344a0ab043cc193793146e546f3752d6e30dd7,9,3,2,9592,,,0,"add note about ignore_errors

Note that collect tasks are executed with
ignore_errors.

Change-Id: I0d2e9060edf79362f5ad5c1823ee6a5d8cd975f2
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/35/687335/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,dda09968a685b4ffa8069401ab465657bb293c2c,,** Note: The tasks that collect data from the nodes is executed with ignore_errors See `details <https://opendev.org/openstack/ansible-role-collect-logs/src/branch/master/tasks/collect.yml#L3>`__ ,,4,0
openstack%2Ftripleo-repos~master~I4fca686fd86964e550ab9d1204dc6e6970d9d2ac,openstack/tripleo-repos,master,I4fca686fd86964e550ab9d1204dc6e6970d9d2ac,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-10-10 07:15:03.000000000,2019-10-12 08:01:11.000000000,2019-10-12 08:01:11.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-10 07:15:03.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/fbcaf55089386b73ddb6cc18a9db9b4267e86e83', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I4fca686fd86964e550ab9d1204dc6e6970d9d2ac\n'}]",0,687805,fbcaf55089386b73ddb6cc18a9db9b4267e86e83,8,4,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I4fca686fd86964e550ab9d1204dc6e6970d9d2ac
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/05/687805/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,fbcaf55089386b73ddb6cc18a9db9b4267e86e83,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Ftripleo-heat-templates~master~I5bc0a88bbb7912bb10693ce393ac89365f29a940,openstack/tripleo-heat-templates,master,I5bc0a88bbb7912bb10693ce393ac89365f29a940,Undercloud ctplane router for IPv6 RA's idempotent,MERGED,2019-09-26 10:33:07.000000000,2019-10-12 08:01:07.000000000,2019-10-12 08:01:07.000000000,"[{'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-09-26 10:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d54bb4cac479e40b98f9839613f4d600459e57d4', 'message': ""[WIP] Undercloud ctplane router for IPv6 RA's idempotent\n\nCheck if the router exists before creating it. The undercloud\nre-install fail's when using IPv6 provisioning network since\nthe router already exists.\n\nAlso, don't create the router if routed networks is enabled.\nIn this case the router in the infrastructure should handle\nrouter advertisements.\n\nChange-Id: I5bc0a88bbb7912bb10693ce393ac89365f29a940\nCloses-Bug: #1844767\n""}, {'number': 2, 'created': '2019-10-08 17:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bdae50ba7a4bd169ee369a522c88905d1a2370cc', 'message': ""Undercloud ctplane router for IPv6 RA's idempotent\n\nCheck if the router exists before creating it. The undercloud\nre-install fail's when using IPv6 provisioning network since\nthe router already exists.\n\nAlso, don't create the router if routed networks is enabled.\nIn this case the router in the infrastructure should handle\nrouter advertisements.\n\nChange-Id: I5bc0a88bbb7912bb10693ce393ac89365f29a940\nCloses-Bug: #1844767\n""}, {'number': 3, 'created': '2019-10-10 12:24:27.000000000', 'files': ['extraconfig/post_deploy/undercloud_ctlplane_network.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3bbd48216a181e1955a582e0b05c4ee265ab3c28', 'message': ""Undercloud ctplane router for IPv6 RA's idempotent\n\nCheck if the router exists before creating it. The undercloud\nre-install fail's when using IPv6 provisioning network since\nthe router already exists.\n\nAlso, don't create the router if routed networks is enabled.\nIn this case the router in the infrastructure should handle\nrouter advertisements.\n\nChange-Id: I5bc0a88bbb7912bb10693ce393ac89365f29a940\nCloses-Bug: #1844767\n""}]",0,685030,3bbd48216a181e1955a582e0b05c4ee265ab3c28,16,5,3,24245,,,0,"Undercloud ctplane router for IPv6 RA's idempotent

Check if the router exists before creating it. The undercloud
re-install fail's when using IPv6 provisioning network since
the router already exists.

Also, don't create the router if routed networks is enabled.
In this case the router in the infrastructure should handle
router advertisements.

Change-Id: I5bc0a88bbb7912bb10693ce393ac89365f29a940
Closes-Bug: #1844767
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/685030/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/post_deploy/undercloud_ctlplane_network.py'],1,d54bb4cac479e40b98f9839613f4d600459e57d4,bug/1844767," # If the router already exist, don't try to create it again. if list(sdk.network.routers(name=name)): return # NOTE(hjensas): Don't do this for routed networks. The router will # use the address defined as gateway for the subnet, and in a # deployment with routed networks this will conflict with the router # in the infrastructure. The router in the infrastucture must be # configured to send router advertisements. if not CONF['enable_routed_networks']: if netaddr.IPNetwork(s['NetworkCidr']).version == 6: _ensure_neutron_router(sdk, name, subnet.id)"," if netaddr.IPNetwork(s['NetworkCidr']).version == 6: _ensure_neutron_router(sdk, name, subnet.id) # If the subnet is IPv6 we need to start a router so that router # advertisments are sent out for stateless IP addressing to work. if netaddr.IPNetwork(s['NetworkCidr']).version == 6: _ensure_neutron_router(sdk, name, subnet.id)",12,6
openstack%2Fcharm-ceph-rbd-mirror~master~I287caaa68bc4321767217b83b0696a4f5a10e766,openstack/charm-ceph-rbd-mirror,master,I287caaa68bc4321767217b83b0696a4f5a10e766,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:07:36.000000000,2019-10-12 07:57:58.000000000,2019-10-12 07:57:58.000000000,"[{'_account_id': 12549}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/4e3b7621a061d14a0322d5dd4cef3d7e395ff24b', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I287caaa68bc4321767217b83b0696a4f5a10e766\n'}, {'number': 2, 'created': '2019-10-01 01:59:16.000000000', 'files': ['src/files/.gitkeep', 'requirements.txt', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/e69801f93b9118cdd4e5e4a9f05ec2d9c049f376', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I287caaa68bc4321767217b83b0696a4f5a10e766\n'}]",0,685820,e69801f93b9118cdd4e5e4a9f05ec2d9c049f376,20,4,2,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I287caaa68bc4321767217b83b0696a4f5a10e766
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/20/685820/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'src/files/.gitkeep', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini']",6,4e3b7621a061d14a0322d5dd4cef3d7e395ff24b,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORYcommands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}[testenv:cover] # Technique based heavily upon # https://github.com/openstack/nova/blob/master/tox.inideps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt setenv = {[testenv]setenv} PYTHON=coverage run commands = coverage erase stestr run --slowest {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage report */charmhelpers/*[testenv:venv] basepython = python3 commands = {posargs} ignore = E402,W504","# within individual charm repos.envlist = pep8,py37 # NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxysetenv = {[testenv]setenv} PYTHON=coverage run commands = coverage erase stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage report setenv = {[testenv]setenv} PYTHON=coverage run commands = coverage erase stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage reportsetenv = {[testenv]setenv} PYTHON=coverage run commands = coverage erase stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage reportsetenv = {[testenv]setenv} PYTHON=coverage run commands = coverage erase stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage report[testenv:venv]commands = {posargs}ignore = E402",69,70
openstack%2Ftripleo-common~master~Id01b8dd0efdc72dca69cd2b9e4eec71df1a56775,openstack/tripleo-common,master,Id01b8dd0efdc72dca69cd2b9e4eec71df1a56775,Assure we do not return before building all containers,ABANDONED,2019-08-27 13:33:44.000000000,2019-10-12 07:41:18.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-27 13:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5acd77a7108ebd347105e97a99151fa3a95f341d', 'message': 'Assure we do not return before building all containers\n\nAvoid but where exception is thrown because results are still updated.\n\nChange-Id: Id01b8dd0efdc72dca69cd2b9e4eec71df1a56775\nExample: https://3d89b2f66ce8e968c7f7-8b938dd2076b97d235f21ad4df33ebf0.ssl.cf2.rackcdn.com/678058/27/check/tripleo-build-containers-centos-7-buildah/7508cee/logs/build.log.txt.gz\n'}, {'number': 2, 'created': '2019-08-27 13:50:48.000000000', 'files': ['tripleo_common/image/builder/buildah.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/00d3daead85c9e4feb756d2ab466506ed5e915a1', 'message': 'Assure we do not return before building all containers\n\nAvoid but where exception is thrown because results are still updated.\n\nException occurred while running the command\nTraceback (most recent call last):\n   File ""/home/zuul/workspace/venv_build/lib/python2.7/site-packages/tripleoclient/command.py"", line 32, in run\n     super(Command, self).run(parsed_args)\n   File ""/home/zuul/workspace/venv_build/lib/python2.7/site-packages/osc_lib/command/command.py"", line 41, in run\n     return super(Command, self).run(parsed_args)\n   File ""/home/zuul/workspace/venv_build/lib/python2.7/site-packages/cliff/command.py"", line 185, in run\n     return_code = self.take_action(parsed_args) or 0\n   File ""/home/zuul/workspace/venv_build/lib/python2.7/site-packages/tripleoclient/v1/container_image.py"", line 218, in take_action\n     bb.build_all()\n   File ""/home/zuul/workspace/venv_build/lib/python2.7/site-packages/tripleo_common/image/builder/buildah.py"", line 197, in build_all\n     self.build_all(deps.get(container))\n   File ""/home/zuul/workspace/venv_build/lib/python2.7/site-packages/tripleo_common/image/builder/buildah.py"", line 191, in build_all\n     not_done\n SystemError: The following jobs were incomplete: set([])\n\nChange-Id: Id01b8dd0efdc72dca69cd2b9e4eec71df1a56775\nExample: https://3d89b2f66ce8e968c7f7-8b938dd2076b97d235f21ad4df33ebf0.ssl.cf2.rackcdn.com/678058/27/check/tripleo-build-containers-centos-7-buildah/7508cee/logs/build.log.txt.gz\n'}]",1,678838,00d3daead85c9e4feb756d2ab466506ed5e915a1,9,9,2,24162,,,0,"Assure we do not return before building all containers

Avoid but where exception is thrown because results are still updated.

Exception occurred while running the command
Traceback (most recent call last):
   File ""/home/zuul/workspace/venv_build/lib/python2.7/site-packages/tripleoclient/command.py"", line 32, in run
     super(Command, self).run(parsed_args)
   File ""/home/zuul/workspace/venv_build/lib/python2.7/site-packages/osc_lib/command/command.py"", line 41, in run
     return super(Command, self).run(parsed_args)
   File ""/home/zuul/workspace/venv_build/lib/python2.7/site-packages/cliff/command.py"", line 185, in run
     return_code = self.take_action(parsed_args) or 0
   File ""/home/zuul/workspace/venv_build/lib/python2.7/site-packages/tripleoclient/v1/container_image.py"", line 218, in take_action
     bb.build_all()
   File ""/home/zuul/workspace/venv_build/lib/python2.7/site-packages/tripleo_common/image/builder/buildah.py"", line 197, in build_all
     self.build_all(deps.get(container))
   File ""/home/zuul/workspace/venv_build/lib/python2.7/site-packages/tripleo_common/image/builder/buildah.py"", line 191, in build_all
     not_done
 SystemError: The following jobs were incomplete: set([])

Change-Id: Id01b8dd0efdc72dca69cd2b9e4eec71df1a56775
Example: https://3d89b2f66ce8e968c7f7-8b938dd2076b97d235f21ad4df33ebf0.ssl.cf2.rackcdn.com/678058/27/check/tripleo-build-containers-centos-7-buildah/7508cee/logs/build.log.txt.gz
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/38/678838/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/builder/buildah.py'],1,5acd77a7108ebd347105e97a99151fa3a95f341d,, # keep ALL_COMPLETED here to avoid checking incomplete runs return_when=futures.ALL_COMPLETED, return_when=futures.FIRST_EXCEPTION,2,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~Id5f7bb2160215170561f39015ddfdb93cba904b5,openstack/tripleo-heat-templates,stable/stein,Id5f7bb2160215170561f39015ddfdb93cba904b5,Add new parameter options to Octavia service,MERGED,2019-09-27 14:16:58.000000000,2019-10-12 07:30:14.000000000,2019-10-12 07:29:00.000000000,"[{'_account_id': 7144}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-27 14:16:58.000000000', 'files': ['deployment/octavia/octavia-base.yaml', 'releasenotes/notes/add-three-more-octavia-params-1e4a32f910e5f1fc.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e90b0d898e72c60f34755f212a2cf669d82f26ae', 'message': 'Add new parameter options to Octavia service\n\nThis patch adds three new parameters:\n\n1. OctaviaConnectionMaxRetries\n2. OctaviaBuildActiveRetries\n3. OctaviaPortDetachTimeout\n\nThe default values are same as in octavia and puppet-octavia master\nbranches as of now.\n\nDepends-On: https://review.opendev.org/#/c/682636/\nChange-Id: Id5f7bb2160215170561f39015ddfdb93cba904b5\n(cherry picked from commit f924a35d70270a96104a7381a32a6982d3678903)\n'}]",0,685361,e90b0d898e72c60f34755f212a2cf669d82f26ae,10,5,1,6469,,,0,"Add new parameter options to Octavia service

This patch adds three new parameters:

1. OctaviaConnectionMaxRetries
2. OctaviaBuildActiveRetries
3. OctaviaPortDetachTimeout

The default values are same as in octavia and puppet-octavia master
branches as of now.

Depends-On: https://review.opendev.org/#/c/682636/
Change-Id: Id5f7bb2160215170561f39015ddfdb93cba904b5
(cherry picked from commit f924a35d70270a96104a7381a32a6982d3678903)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/685361/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-base.yaml', 'releasenotes/notes/add-three-more-octavia-params-1e4a32f910e5f1fc.yaml']",2,e90b0d898e72c60f34755f212a2cf669d82f26ae,,"--- features: - | Three new parameter options are now added to Octavia service (OctaviaConnectionMaxRetries, OctaviaBuildActiveRetries, OctaviaPortDetachTimeout) ",,21,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I9f1c8c5df61f3070a3df404e9f726ed40f138431,openstack/tripleo-heat-templates,stable/queens,I9f1c8c5df61f3070a3df404e9f726ed40f138431,"update datatype for ""OctaviaFlavorId""",MERGED,2019-10-04 07:42:04.000000000,2019-10-12 07:15:19.000000000,2019-10-12 07:15:19.000000000,"[{'_account_id': 6469}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22420}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-10-04 07:42:04.000000000', 'files': ['puppet/services/octavia-controller.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5cfad051b12f191b86a0eb80b725ce46e70739aa', 'message': 'update datatype for ""OctaviaFlavorId""\n\nCurrently, heat templates will expect “OctaviaFlavorId” value to\n""number"". But, if a user specifies alphanum value, the deployment\nfails. Hence, updating datatype of ""OctaviaFlavorId"" to ""string""\nCloses-Bug: #1810415\n\nChange-Id: I9f1c8c5df61f3070a3df404e9f726ed40f138431\n(cherry picked from commit 38f752255c873982d4f8b5a21d8fcaeb059915fe)\n(cherry picked from commit b30d391bb7e06fa64bf6ced63c8d0ef5913d11a8)\n'}]",0,686534,5cfad051b12f191b86a0eb80b725ce46e70739aa,12,7,1,29244,,,0,"update datatype for ""OctaviaFlavorId""

Currently, heat templates will expect “OctaviaFlavorId” value to
""number"". But, if a user specifies alphanum value, the deployment
fails. Hence, updating datatype of ""OctaviaFlavorId"" to ""string""
Closes-Bug: #1810415

Change-Id: I9f1c8c5df61f3070a3df404e9f726ed40f138431
(cherry picked from commit 38f752255c873982d4f8b5a21d8fcaeb059915fe)
(cherry picked from commit b30d391bb7e06fa64bf6ced63c8d0ef5913d11a8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/686534/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/octavia-controller.yaml'],1,5cfad051b12f191b86a0eb80b725ce46e70739aa,, default: '65' type: string, default: 65 type: number,2,2
openstack%2Fnova~master~Ib033fee8b8464f51f10101a5da2dfc983bf76733,openstack/nova,master,Ib033fee8b8464f51f10101a5da2dfc983bf76733,Follow up for I220fa02ee916728e241503084b14984bab4b0c3b,MERGED,2019-09-07 15:54:44.000000000,2019-10-12 06:53:01.000000000,2019-09-14 05:27:33.000000000,"[{'_account_id': 6547}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-07 15:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c5e2d35db523e73a440d9adaa001bbf35c82f20', 'message': 'Follow up for 220fa02ee916728e241503084b14984bab4b0c3b\n\n* Enhanced exception message when provider mapping is missing during\n_update_port_binding_for_instance\n\n* replaced dict with real Migration object in the unit test\n\nblueprint: support-move-ops-with-qos-ports\nChange-Id: Ib033fee8b8464f51f10101a5da2dfc983bf76733\n'}, {'number': 2, 'created': '2019-09-07 18:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17032935b5b92538f36f633995202034dea4d8a7', 'message': 'Follow up for I220fa02ee916728e241503084b14984bab4b0c3b\n\n* Enhanced exception message when provider mapping is missing during\n_update_port_binding_for_instance\n\n* replaced dict with real Migration object in the unit test\n\nblueprint: support-move-ops-with-qos-ports\nChange-Id: Ib033fee8b8464f51f10101a5da2dfc983bf76733\n'}, {'number': 3, 'created': '2019-09-12 10:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc58214956a7244eba592e04b7f4f924ca23753e', 'message': 'Follow up for I220fa02ee916728e241503084b14984bab4b0c3b\n\n* Enhanced exception message when provider mapping is missing during\n_update_port_binding_for_instance\n\n* replaced dict with real Migration object in the unit test\n\nblueprint: support-move-ops-with-qos-ports\nChange-Id: Ib033fee8b8464f51f10101a5da2dfc983bf76733\n'}, {'number': 4, 'created': '2019-09-13 12:42:52.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/46a2bc689bf31df9b70741cb5b01b098c1672b1e', 'message': 'Follow up for I220fa02ee916728e241503084b14984bab4b0c3b\n\n* Enhanced exception message when provider mapping is missing during\n_update_port_binding_for_instance\n\n* replaced dict with real Migration object in the unit test\n\nblueprint: support-move-ops-with-qos-ports\nChange-Id: Ib033fee8b8464f51f10101a5da2dfc983bf76733\n'}]",2,680810,46a2bc689bf31df9b70741cb5b01b098c1672b1e,103,15,4,9708,,,0,"Follow up for I220fa02ee916728e241503084b14984bab4b0c3b

* Enhanced exception message when provider mapping is missing during
_update_port_binding_for_instance

* replaced dict with real Migration object in the unit test

blueprint: support-move-ops-with-qos-ports
Change-Id: Ib033fee8b8464f51f10101a5da2dfc983bf76733
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/680810/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,0c5e2d35db523e73a440d9adaa001bbf35c82f20,bp/support-move-ops-with-qos-ports," migration = objects.Migration( status='confirmed', migration_type='migration') migration = objects.Migration( status='confirmed', migration_type='migration') ""Provider mappings are not available to the compute service but "" ""are required for ports with a resource request. If compute RPC "" ""API versions are pinned for a rolling upgrade, you will need to "" ""retry this operation once the RPC version is unpinned and the "" ""nova-compute services are all upgraded."", six.text_type(ex))"," migration = {'status': 'confirmed', 'migration_type': ""migration""} migration = {'status': 'confirmed', 'migration_type': ""migration""} ""Provider mappings wasn't provided for the port with resource "" ""request"", six.text_type(ex))",17,8
openstack%2Fnetworking-l2gw~stable%2Ftrain~Ib3164b65ec1f141781eda34c66e1a8ad93c2f355,openstack/networking-l2gw,stable/train,Ib3164b65ec1f141781eda34c66e1a8ad93c2f355,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-10 05:56:07.000000000,2019-10-12 06:51:06.000000000,2019-10-12 06:51:05.000000000,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 6558}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 21626}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 05:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/93e421db805bb8ce91087441021f28590eb56ff7', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ib3164b65ec1f141781eda34c66e1a8ad93c2f355\n'}, {'number': 2, 'created': '2019-10-10 06:47:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/0de2604ca08617fb3577e64dad2338f93bb5aa22', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ib3164b65ec1f141781eda34c66e1a8ad93c2f355\n'}]",0,687778,0de2604ca08617fb3577e64dad2338f93bb5aa22,11,8,2,8313,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ib3164b65ec1f141781eda34c66e1a8ad93c2f355
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/78/687778/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,93e421db805bb8ce91087441021f28590eb56ff7,create-train,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fnetworking-l2gw~stable%2Ftrain~I315f7107282312d7f830e6392d2272384ea9dac8,openstack/networking-l2gw,stable/train,I315f7107282312d7f830e6392d2272384ea9dac8,Update .gitreview for stable/train,MERGED,2019-10-10 05:56:07.000000000,2019-10-12 06:51:05.000000000,2019-10-12 06:51:05.000000000,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 6558}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 21626}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 05:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/5e52969bf393e75f793a10631c98b8ca182bab0b', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I315f7107282312d7f830e6392d2272384ea9dac8\n'}, {'number': 2, 'created': '2019-10-10 06:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/c93e9c63b595082bb87aef82407e5e0b842a6677', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I315f7107282312d7f830e6392d2272384ea9dac8\n'}, {'number': 3, 'created': '2019-10-10 06:42:46.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/fdcf98aa8dbbfb052b433a49165402e4244813b9', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I315f7107282312d7f830e6392d2272384ea9dac8\n'}]",1,687777,fdcf98aa8dbbfb052b433a49165402e4244813b9,12,8,3,8313,,,0,"Update .gitreview for stable/train

Change-Id: I315f7107282312d7f830e6392d2272384ea9dac8
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/77/687777/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5e52969bf393e75f793a10631c98b8ca182bab0b,create-train,defaultbranch=stable/train ,,2,0
openstack%2Fos-client-config~master~I7a570376ec3408cbf913878450a6bfd3da7a2090,openstack/os-client-config,master,I7a570376ec3408cbf913878450a6bfd3da7a2090,Bump the openstackdocstheme extension to 1.20,NEW,2019-10-12 06:43:42.000000000,2019-10-12 06:50:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-12 06:43:42.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/190ba2d9c23ba6811cfcc5a2304f5caef7f3487e', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I7a570376ec3408cbf913878450a6bfd3da7a2090\n'}]",0,688237,190ba2d9c23ba6811cfcc5a2304f5caef7f3487e,2,1,1,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I7a570376ec3408cbf913878450a6bfd3da7a2090
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/37/688237/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py']",3,190ba2d9c23ba6811cfcc5a2304f5caef7f3487e,openstackdocstheme,,"project = u'os-client-config Release Notes'latex_elements = { # The paper size ('letterpaper' or 'a4paper'). #'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). #'pointsize': '10pt', # Additional stuff for the LaTeX preamble. #'preamble': '', } ",1,14
openstack%2Fmonasca-statsd~master~I5319c7c9ee1cc4550e33d775b6ee2adb4e2ee491,openstack/monasca-statsd,master,I5319c7c9ee1cc4550e33d775b6ee2adb4e2ee491,Bump the openstackdocstheme extension to 1.20,NEW,2019-10-11 09:01:23.000000000,2019-10-12 06:49:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-11 09:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/3f991304477c6dc0b339bb120da746a12a3bec2f', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I5319c7c9ee1cc4550e33d775b6ee2adb4e2ee491\n'}, {'number': 2, 'created': '2019-10-12 05:50:00.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/e7e41e44e1c02ce189ca3161880e20e904fca0a5', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I5319c7c9ee1cc4550e33d775b6ee2adb4e2ee491\n'}]",0,688082,e7e41e44e1c02ce189ca3161880e20e904fca0a5,4,1,2,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I5319c7c9ee1cc4550e33d775b6ee2adb4e2ee491
",git fetch https://review.opendev.org/openstack/monasca-statsd refs/changes/82/688082/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py']",2,3f991304477c6dc0b339bb120da746a12a3bec2f,openstackdocstheme,,"import subprocess import warnings project = u'monasca-statsd'# The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. version = '1.0.0' # The full version, including alpha/beta/rc tags. release = '1.0.0' # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. #html_last_updated_fmt = '%b %d, %Y' git_cmd = [""git"", ""log"", ""--pretty=format:'%ad, commit %h'"", ""--date=local"", ""-n1""] try: html_last_updated_fmt = subprocess.check_output(git_cmd).decode('utf-8') except Exception: warnings.warn('Cannot get last updated time from git repository. ' 'Not setting ""html_last_updated_fmt"".') latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",1,36
openstack%2Ftrove-dashboard~master~I554fe56a263bad10b27acb6cb6238c16bcff2b5a,openstack/trove-dashboard,master,I554fe56a263bad10b27acb6cb6238c16bcff2b5a,Update master for stable/train,MERGED,2019-09-25 08:36:41.000000000,2019-10-12 06:20:49.000000000,2019-10-12 06:19:30.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-09-25 08:36:41.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/aaac8156abca24d6c6a953f1a3280cc375e2d124', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I554fe56a263bad10b27acb6cb6238c16bcff2b5a\nSem-Ver: feature\n'}]",0,684565,aaac8156abca24d6c6a953f1a3280cc375e2d124,9,4,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I554fe56a263bad10b27acb6cb6238c16bcff2b5a
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/65/684565/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,aaac8156abca24d6c6a953f1a3280cc375e2d124,reno-train, train,,7,0
openstack%2Fpython-tripleoclient~master~Ibd087976eea6f16f3b659dbda5d37fbed1767dc2,openstack/python-tripleoclient,master,Ibd087976eea6f16f3b659dbda5d37fbed1767dc2,Ensure that --output-env-file handles path expansion,MERGED,2019-10-09 17:06:47.000000000,2019-10-12 04:43:25.000000000,2019-10-12 04:41:13.000000000,"[{'_account_id': 6816}, {'_account_id': 8449}, {'_account_id': 14345}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 17:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1cd4ae4fd02e1aff944cf39ecc1e78ed4849dc1b', 'message': ""Ensure that --output-env-file handles path expansion\n\nCurrently using the option '--output-env-file=~/path/to/env-file.yaml'\nwill result in a '[Errno 2] No such file or directory' failure because\nthe path is not expanded.\n\nThis patch ensures that the path is expanded before working with it.\n\nChange-Id: Ibd087976eea6f16f3b659dbda5d37fbed1767dc2\n""}, {'number': 2, 'created': '2019-10-10 09:46:28.000000000', 'files': ['tripleoclient/v1/container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0ebccf267fe734c6da3977f4fc43e8e6abfba31d', 'message': ""Ensure that --output-env-file handles path expansion\n\nCurrently using the option '--output-env-file=~/path/to/env-file.yaml'\nwill result in a '[Errno 2] No such file or directory' failure because\nthe path is not expanded.\n\nThis patch ensures that the path is expanded before working with it.\n\nChange-Id: Ibd087976eea6f16f3b659dbda5d37fbed1767dc2\n""}]",1,687626,0ebccf267fe734c6da3977f4fc43e8e6abfba31d,14,6,2,6816,,,0,"Ensure that --output-env-file handles path expansion

Currently using the option '--output-env-file=~/path/to/env-file.yaml'
will result in a '[Errno 2] No such file or directory' failure because
the path is not expanded.

This patch ensures that the path is expanded before working with it.

Change-Id: Ibd087976eea6f16f3b659dbda5d37fbed1767dc2
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/26/687626/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/container_image.py'],1,1cd4ae4fd02e1aff944cf39ecc1e78ed4849dc1b,," output_env_file_expanded=os.path.expanduser(parsed_args.output_env_file) if os.path.exists(output_env_file_expanded): shutil.move(output_env_file_expanded, output_env_file_expanded + "".backup"") utils.safe_write(output_env_file_expanded,"," if os.path.exists(parsed_args.output_env_file): shutil.move(parsed_args.output_env_file, parsed_args.output_env_file + "".backup"") utils.safe_write(parsed_args.output_env_file,",5,4
openstack%2Ftripleo-common~stable%2Fstein~I2615bf4d5fcedbcf85d11e4aedbe22061348ded2,openstack/tripleo-common,stable/stein,I2615bf4d5fcedbcf85d11e4aedbe22061348ded2,Raise exception when no IPs found,MERGED,2019-10-03 21:25:05.000000000,2019-10-12 04:42:36.000000000,2019-10-12 04:41:15.000000000,"[{'_account_id': 7144}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-03 21:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f24cd289db1d7cb3431f5842bccacfd1a5130ec5', 'message': 'Raise exception when no IPs found\n\nWhen generating the inventory, an exception is now raised if no IP\naddresses are found for a given role from the specified network.\nPreviously, an unhandled IndexError was thrown with no indication as to\nthe actual problem.\n\nThis situtation can occur when using pre-provisioned nodes and a\nmalformed DeployedServerPortMap value such that no IP addresses are\nassigned.\n\nChange-Id: I2615bf4d5fcedbcf85d11e4aedbe22061348ded2\n(cherry picked from commit 70c0c674a176254b0ff4e3afb36947d0c7cee4eb)\n'}, {'number': 2, 'created': '2019-10-10 14:23:37.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/472d67597af7c1e3a0e05e5f8f32233111ef4c77', 'message': 'Raise exception when no IPs found\n\nWhen generating the inventory, an exception is now raised if no IP\naddresses are found for a given role from the specified network.\nPreviously, an unhandled IndexError was thrown with no indication as to\nthe actual problem.\n\nThis situtation can occur when using pre-provisioned nodes and a\nmalformed DeployedServerPortMap value such that no IP addresses are\nassigned.\n\nChange-Id: I2615bf4d5fcedbcf85d11e4aedbe22061348ded2\n(cherry picked from commit 70c0c674a176254b0ff4e3afb36947d0c7cee4eb)\n'}]",0,686497,472d67597af7c1e3a0e05e5f8f32233111ef4c77,17,6,2,7144,,,0,"Raise exception when no IPs found

When generating the inventory, an exception is now raised if no IP
addresses are found for a given role from the specified network.
Previously, an unhandled IndexError was thrown with no indication as to
the actual problem.

This situtation can occur when using pre-provisioned nodes and a
malformed DeployedServerPortMap value such that no IP addresses are
assigned.

Change-Id: I2615bf4d5fcedbcf85d11e4aedbe22061348ded2
(cherry picked from commit 70c0c674a176254b0ff4e3afb36947d0c7cee4eb)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/97/686497/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",2,f24cd289db1d7cb3431f5842bccacfd1a5130ec5,686497," def test_no_ips(self): for output in self.outputs_data['outputs']: if output['output_key'] == 'RoleNetIpMap': output['output_value'] = dict(Controller=dict(ctlplane=[])) self.assertRaises(Exception, self.inventory.list) ",,9,0
openstack%2Fpython-tripleoclient~master~I7de5f5487065d20068229e0d34102be6119fbeef,openstack/python-tripleoclient,master,I7de5f5487065d20068229e0d34102be6119fbeef,Add option to control IPv6 address mode,MERGED,2019-10-10 14:43:53.000000000,2019-10-12 04:42:35.000000000,2019-10-12 04:41:09.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-10-10 14:43:53.000000000', 'files': ['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py', 'releasenotes/notes/ipv6-address-mode-option-c85242d337d9e0d9.yaml', 'tripleoclient/tests/config/test_config_undercloud.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d5e3726999347c4cab1b992fb35720701566ff6d', 'message': 'Add option to control IPv6 address mode\n\nAdd option ipv6_address_mode in undercloud.conf to control\nthe address mode, dhcpv6-steteful or dhcpv6-steteless, for\nIPv6 provisioning network.\n\nRelated-Bug: #1847606\nChange-Id: I7de5f5487065d20068229e0d34102be6119fbeef\n'}]",0,687920,d5e3726999347c4cab1b992fb35720701566ff6d,12,5,1,24245,,,0,"Add option to control IPv6 address mode

Add option ipv6_address_mode in undercloud.conf to control
the address mode, dhcpv6-steteful or dhcpv6-steteless, for
IPv6 provisioning network.

Related-Bug: #1847606
Change-Id: I7de5f5487065d20068229e0d34102be6119fbeef
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/20/687920/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/undercloud.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py', 'releasenotes/notes/ipv6-address-mode-option-c85242d337d9e0d9.yaml', 'tripleoclient/tests/config/test_config_undercloud.py']",5,d5e3726999347c4cab1b992fb35720701566ff6d,bug/1847606," 'ipv6_address_mode', 'ipv6_address_mode',",,62,13
openstack%2Fpython-tripleoclient~stable%2Fstein~Ie7f1a4269936f98ad86db4993992e0b9a27edf73,openstack/python-tripleoclient,stable/stein,Ie7f1a4269936f98ad86db4993992e0b9a27edf73,Handle a deployment that was manually cancelled.,MERGED,2019-10-09 19:54:06.000000000,2019-10-12 04:42:29.000000000,2019-10-12 04:41:10.000000000,"[{'_account_id': 7144}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 19:54:06.000000000', 'files': ['tripleoclient/workflows/plan_management.py', 'tripleoclient/tests/workflows/test_plan_management.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/134f0716218e395e462e69e5ac1ca15782431e91', 'message': 'Handle a deployment that was manually cancelled.\n\nWhen doing a deployment or update, if the end-user uses CTRL+c\n(SIGINT) to end it early, it will fail complaining that there is\nno passwords key in the plan. We will now handle this and cleanup\nthe existing plan.\n\nChange-Id: Ie7f1a4269936f98ad86db4993992e0b9a27edf73\nCloses-Bug: #1819672\nResolves: rhbz#1753251\nSigned-off-by: ekultails <ekultails@gmail.com>\n(cherry picked from commit 72850060e058274bb55aadbf2963f4f46ba3be3a)\n'}]",0,687659,134f0716218e395e462e69e5ac1ca15782431e91,10,5,1,25877,,,0,"Handle a deployment that was manually cancelled.

When doing a deployment or update, if the end-user uses CTRL+c
(SIGINT) to end it early, it will fail complaining that there is
no passwords key in the plan. We will now handle this and cleanup
the existing plan.

Change-Id: Ie7f1a4269936f98ad86db4993992e0b9a27edf73
Closes-Bug: #1819672
Resolves: rhbz#1753251
Signed-off-by: ekultails <ekultails@gmail.com>
(cherry picked from commit 72850060e058274bb55aadbf2963f4f46ba3be3a)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/59/687659/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/plan_management.py', 'tripleoclient/tests/workflows/test_plan_management.py']",2,134f0716218e395e462e69e5ac1ca15782431e91,," @mock.patch('tripleoclient.workflows.plan_management._update_passwords', autospec=True) @mock.patch('yaml.safe_load', autospec=True) @mock.patch('tripleoclient.workflows.plan_management.tarball', autospec=True) @mock.patch('tripleo_common.utils.swift.empty_container', autospec=True) def test_update_plan_from_templates_recreate_env_missing_passwords( self, mock_empty_container, mock_tarball, mock_yaml_safe_load, mock_update_passwords): plan_management.update_plan_from_templates( self.app.client_manager, 'test-overcloud', '/tht-root/', validate_stack=False) # A dictionary without the ""passwords"" key is provided in # the _load_passwords method. mock_yaml_safe_load.return_value = {} # Ensure that the passwords variable is passed with a value of None. mock_update_passwords.assert_called_with( mock.ANY, 'test-overcloud', None) ",,29,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~I9f1c8c5df61f3070a3df404e9f726ed40f138431,openstack/tripleo-heat-templates,stable/rocky,I9f1c8c5df61f3070a3df404e9f726ed40f138431,"update datatype for ""OctaviaFlavorId""",MERGED,2019-10-04 07:37:38.000000000,2019-10-12 04:41:32.000000000,2019-10-12 04:41:32.000000000,"[{'_account_id': 6469}, {'_account_id': 7144}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22420}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-04 07:37:38.000000000', 'files': ['puppet/services/octavia-controller.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b30d391bb7e06fa64bf6ced63c8d0ef5913d11a8', 'message': 'update datatype for ""OctaviaFlavorId""\n\nCurrently, heat templates will expect “OctaviaFlavorId” value to\n""number"". But, if a user specifies alphanum value, the deployment\nfails. Hence, updating datatype of ""OctaviaFlavorId"" to ""string""\nCloses-Bug: #1810415\n\nChange-Id: I9f1c8c5df61f3070a3df404e9f726ed40f138431\n(cherry picked from commit 38f752255c873982d4f8b5a21d8fcaeb059915fe)\n'}]",0,686533,b30d391bb7e06fa64bf6ced63c8d0ef5913d11a8,10,7,1,29244,,,0,"update datatype for ""OctaviaFlavorId""

Currently, heat templates will expect “OctaviaFlavorId” value to
""number"". But, if a user specifies alphanum value, the deployment
fails. Hence, updating datatype of ""OctaviaFlavorId"" to ""string""
Closes-Bug: #1810415

Change-Id: I9f1c8c5df61f3070a3df404e9f726ed40f138431
(cherry picked from commit 38f752255c873982d4f8b5a21d8fcaeb059915fe)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/686533/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/octavia-controller.yaml'],1,b30d391bb7e06fa64bf6ced63c8d0ef5913d11a8,, default: '65' type: string, default: 65 type: number,2,2
openstack%2Ftripleo-heat-templates~master~I96df9a71024d6ffa8c7338b8b03616c13c175af9,openstack/tripleo-heat-templates,master,I96df9a71024d6ffa8c7338b8b03616c13c175af9,Update deprecated name of DockerRsyslogConfigImage,MERGED,2019-10-05 17:37:39.000000000,2019-10-12 04:41:29.000000000,2019-10-12 04:41:29.000000000,"[{'_account_id': 5241}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-05 17:37:39.000000000', 'files': ['deployment/logging/rsyslog-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc7f77a74179a24563a94bf50b9ad8a2d2433a24', 'message': 'Update deprecated name of DockerRsyslogConfigImage\n\nOld name was deprecated some time ago and replaced with new\none in [1].\nIn patch [2] I changed variable DockerRsyslogImage to the new name\nin place where I missed it in [1] but for unknown for me reason I\nalso missed to change DockerRsyslogConfigImage it in one last place\nso this patch fixes that.\nNow both of those variables should be updated everywhere finally :)\n\n[1] https://review.opendev.org/#/c/685109/\n[2] https://review.opendev.org/#/c/685784/\n\nChange-Id: I96df9a71024d6ffa8c7338b8b03616c13c175af9\n'}]",0,686900,cc7f77a74179a24563a94bf50b9ad8a2d2433a24,9,5,1,11975,,,0,"Update deprecated name of DockerRsyslogConfigImage

Old name was deprecated some time ago and replaced with new
one in [1].
In patch [2] I changed variable DockerRsyslogImage to the new name
in place where I missed it in [1] but for unknown for me reason I
also missed to change DockerRsyslogConfigImage it in one last place
so this patch fixes that.
Now both of those variables should be updated everywhere finally :)

[1] https://review.opendev.org/#/c/685109/
[2] https://review.opendev.org/#/c/685784/

Change-Id: I96df9a71024d6ffa8c7338b8b03616c13c175af9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/686900/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logging/rsyslog-container-puppet.yaml'],1,cc7f77a74179a24563a94bf50b9ad8a2d2433a24,fix-rsyslog-containers, config_image: {get_param: ContainerRsyslogConfigImage}, config_image: {get_param: DockerRsyslogConfigImage},1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I2567546a0fcf2f82d72dcf6d39e66653e63970bd,openstack/tripleo-heat-templates,stable/stein,I2567546a0fcf2f82d72dcf6d39e66653e63970bd,Allow using registry authentication to pull ceph related containers,MERGED,2019-10-10 15:39:08.000000000,2019-10-12 04:41:26.000000000,2019-10-12 04:41:26.000000000,"[{'_account_id': 6796}, {'_account_id': 14270}, {'_account_id': 14985}, {'_account_id': 15205}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-10-10 15:39:08.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aaa045ba33f456694c6dc71e08d6411b571d694b', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd\n(cherry picked from commit f453997668383efc53e59db67ed2077fb5287b73)\n'}]",0,687940,aaa045ba33f456694c6dc71e08d6411b571d694b,10,8,1,25402,,,0,"Allow using registry authentication to pull ceph related containers

Ceph ansible now supports authenticated registry and allows users to
pass and process the required parameters (username/password) when the
CephAuthRegistry boolean is true.
This review reflects this change in tripleo adding these new parameters
and pass them to ceph-ansible.

Change-Id: I2567546a0fcf2f82d72dcf6d39e66653e63970bd
(cherry picked from commit f453997668383efc53e59db67ed2077fb5287b73)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/687940/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,aaa045ba33f456694c6dc71e08d6411b571d694b,," ContainerImageRegistryCredentials: type: json hidden: true default: {} description: | Mapping of image registry hosts to login credentials. Must be in the following example format docker.io: username: pa55word '192.0.2.1:8787': registry_username: password ceph_authenticated_registry: and: - not: yaql: data: cred: {get_param: ContainerImageRegistryCredentials} ns: yaql: expression: let(location => $.data.rightSplit(':', 1)[0]) -> regex('(?:https?://)?(.*?)/(.*)').split($location)[1] data: {get_param: DockerCephDaemonImage} expression: let(c => $.data.cred) -> $c.get($.data.ns, {}).keys().last(default => """").isEmpty() - not: yaql: data: cred: {get_param: ContainerImageRegistryCredentials} ns: yaql: expression: let(location => $.data.rightSplit(':', 1)[0]) -> regex('(?:https?://)?(.*?)/(.*)').split($location)[1] data: {get_param: DockerCephDaemonImage} expression: let(c => $.data.cred) -> $c.get($.data.ns, {}).values().last(default => """").isEmpty() ceph_docker_registry_auth: if: - ceph_authenticated_registry - true - false ceph_docker_registry_username: yaql: data: cred: {get_param: ContainerImageRegistryCredentials} ns: {get_attr: [DockerImageUrlParts, value, host]} expression: let(c => $.data.cred) -> $c.get($.data.ns, {}).keys().last(default => """") ceph_docker_registry_password: yaql: data: cred: {get_param: ContainerImageRegistryCredentials} ns: {get_attr: [DockerImageUrlParts, value, host]} expression: let(c => $.data.cred) -> $c.get($.data.ns, {}).values().last(default => """")",,48,0
openstack%2Ftripleo-heat-templates~master~I549f930853539a7cd665a00d7ec3fd1705f819fb,openstack/tripleo-heat-templates,master,I549f930853539a7cd665a00d7ec3fd1705f819fb,Use parameter for ipv6 address mode,MERGED,2019-10-10 14:44:12.000000000,2019-10-12 04:41:24.000000000,2019-10-12 04:41:23.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-10-10 14:44:12.000000000', 'files': ['extraconfig/post_deploy/undercloud_post.yaml', 'extraconfig/post_deploy/undercloud_ctlplane_network.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4befee5f2239bfb3fc6bed5517e64ba5baa65970', 'message': 'Use parameter for ipv6 address mode\n\nUse the parameter UndercloudCtlplaneIPv6AddressMode\nto control ipv6 address mode for the provisioning\nnetwork instead of hard-codeing to dhcpv6-stateless.\n\nChange-Id: I549f930853539a7cd665a00d7ec3fd1705f819fb\nCloses-Bug: #1847606\nDepends-On: I7de5f5487065d20068229e0d34102be6119fbeef\n'}]",0,687921,4befee5f2239bfb3fc6bed5517e64ba5baa65970,10,5,1,24245,,,0,"Use parameter for ipv6 address mode

Use the parameter UndercloudCtlplaneIPv6AddressMode
to control ipv6 address mode for the provisioning
network instead of hard-codeing to dhcpv6-stateless.

Change-Id: I549f930853539a7cd665a00d7ec3fd1705f819fb
Closes-Bug: #1847606
Depends-On: I7de5f5487065d20068229e0d34102be6119fbeef
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/687921/1 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/post_deploy/undercloud_post.yaml', 'extraconfig/post_deploy/undercloud_ctlplane_network.py']",2,4befee5f2239bfb3fc6bed5517e64ba5baa65970,bug/1847606," ipv6_address_mode=CONF['ipv6_address_mode'], ipv6_ra_mode=CONF['ipv6_address_mode'],"," ipv6_address_mode='dhcpv6-stateless', ipv6_ra_mode='dhcpv6-stateless',",10,2
openstack%2Ftripleo-common~stable%2Fqueens~I6afe5078bd285374b3a9311a066ba10883c2ff66,openstack/tripleo-common,stable/queens,I6afe5078bd285374b3a9311a066ba10883c2ff66,Handle empty cert related hostvar info,MERGED,2019-10-10 19:40:49.000000000,2019-10-12 04:41:22.000000000,2019-10-12 04:41:22.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-10 19:40:49.000000000', 'files': ['playbooks/octavia-files.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2dd5a9b790388232d2b7e01b2d5f1be793d706a4', 'message': 'Handle empty cert related hostvar info\n\nWhen certificates are neither generated nor provided (e.g. on update)\nrelated variables would be empty or undefined and need to be handled\naccordingly.\n\nNote: this file has been relocated to triple-ansible in train+ so this\nis a non-trivial backport of I361c90e438e79e180e2a745da82e619347fed13e.\n\nChange-Id: I6afe5078bd285374b3a9311a066ba10883c2ff66\nCloses-Bug: #1845366\n(cherry picked from commit de57975786f80b6aff8d3145071277c05359e79c)\n'}]",0,687969,2dd5a9b790388232d2b7e01b2d5f1be793d706a4,8,4,1,6681,,,0,"Handle empty cert related hostvar info

When certificates are neither generated nor provided (e.g. on update)
related variables would be empty or undefined and need to be handled
accordingly.

Note: this file has been relocated to triple-ansible in train+ so this
is a non-trivial backport of I361c90e438e79e180e2a745da82e619347fed13e.

Change-Id: I6afe5078bd285374b3a9311a066ba10883c2ff66
Closes-Bug: #1845366
(cherry picked from commit de57975786f80b6aff8d3145071277c05359e79c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/69/687969/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/octavia-files.yaml'],1,2dd5a9b790388232d2b7e01b2d5f1be793d706a4,queens," private_key_content: ""{{ hostvars[groups['octavia_nodes'][0]]['private_key_content'] | default('') }}"" ca_cert_content: ""{{ hostvars[groups['octavia_nodes'][0]]['ca_cert_content'] | default('') }}"" service_pem_content: ""{{ hostvars[groups['octavia_nodes'][0]]['service_pem_content'] | default('') }}"""," private_key_content: ""{{ hostvars[groups['octavia_nodes'][0]]['private_key_content'] }}"" ca_cert_content: ""{{ hostvars[groups['octavia_nodes'][0]]['ca_cert_content'] }}"" service_pem_content: ""{{ hostvars[groups['octavia_nodes'][0]]['service_pem_content'] }}""",3,3
openstack%2Ftripleo-common~stable%2Fqueens~I8088a0a42094b2d038ba29779535a05195138747,openstack/tripleo-common,stable/queens,I8088a0a42094b2d038ba29779535a05195138747,Allow distribution of non-autogenerated certs,MERGED,2019-09-17 14:16:14.000000000,2019-10-12 04:41:21.000000000,2019-10-12 04:41:21.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-17 14:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e2ce4f22bd4248f6ea7a0ab6af80abf5b741722e', 'message': 'Allow distribution of non-autogenerated certs\n\nThis patch changes the conditional run of the certs generation from\nbeing dependent on the value of generate_certs to whether there are\nactual certs present.\n\nConflicts:\n\tplaybooks/roles/octavia-controller-config/tasks/certificate.yml\n\nNote: this is a semantic backport of https://review.opendev.org/#/c/672529/\n\nChange-Id: I8088a0a42094b2d038ba29779535a05195138747\nRelated-Bug: #1838039\n(cherry picked from commit 0755e93d5baae6caeb11b7c024bdc9da8429ac7f)\n'}, {'number': 2, 'created': '2019-10-10 19:40:49.000000000', 'files': ['playbooks/roles/octavia-controller-config/tasks/main.yml', 'playbooks/roles/octavia-controller-config/tasks/certificate.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/16232417e1a1719eab5a013f0abe90e327e10387', 'message': 'Allow distribution of non-autogenerated certs\n\nThis patch changes the conditional run of the certs generation from\nbeing dependent on the value of generate_certs to whether there are\nactual certs present.\n\nConflicts:\n\tplaybooks/roles/octavia-controller-config/tasks/certificate.yml\n\nNote: this is a semantic backport of https://review.opendev.org/#/c/672529/\n\nChange-Id: I8088a0a42094b2d038ba29779535a05195138747\nRelated-Bug: #1838039\n(cherry picked from commit 0755e93d5baae6caeb11b7c024bdc9da8429ac7f)\n'}]",0,682659,16232417e1a1719eab5a013f0abe90e327e10387,12,5,2,6681,,,0,"Allow distribution of non-autogenerated certs

This patch changes the conditional run of the certs generation from
being dependent on the value of generate_certs to whether there are
actual certs present.

Conflicts:
	playbooks/roles/octavia-controller-config/tasks/certificate.yml

Note: this is a semantic backport of https://review.opendev.org/#/c/672529/

Change-Id: I8088a0a42094b2d038ba29779535a05195138747
Related-Bug: #1838039
(cherry picked from commit 0755e93d5baae6caeb11b7c024bdc9da8429ac7f)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/59/682659/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/octavia-controller-config/tasks/main.yml', 'playbooks/roles/octavia-controller-config/tasks/certificate.yml']",2,e2ce4f22bd4248f6ea7a0ab6af80abf5b741722e,queens, - name: Copying key info to octavia if not already there, - name: Copying ca private key to octavia,5,2
openstack%2Ftripleo-common~stable%2Fqueens~If04483e03bc92aea690db27ad4aeff31c3f5cff6,openstack/tripleo-common,stable/queens,If04483e03bc92aea690db27ad4aeff31c3f5cff6,Fixup octavia-api healthcheck,MERGED,2019-10-02 15:32:37.000000000,2019-10-12 04:41:20.000000000,2019-10-12 04:41:20.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-02 15:32:37.000000000', 'files': ['healthcheck/octavia-api'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bd955f532249e542e89b6e395ec76321517c9a94', 'message': ""Fixup octavia-api healthcheck\n\nOctavia now runs under apache so it's healthcheck needs updating.\n\nChange-Id: If04483e03bc92aea690db27ad4aeff31c3f5cff6\n(cherry picked from commit 4c3d5182f4f924e931be8641f3b7df2d31c68927)\n(cherry picked from commit f7fcad9511987884b9cab6919909e6e0f5599ec7)\n""}]",0,686190,bd955f532249e542e89b6e395ec76321517c9a94,11,5,1,6469,,,0,"Fixup octavia-api healthcheck

Octavia now runs under apache so it's healthcheck needs updating.

Change-Id: If04483e03bc92aea690db27ad4aeff31c3f5cff6
(cherry picked from commit 4c3d5182f4f924e931be8641f3b7df2d31c68927)
(cherry picked from commit f7fcad9511987884b9cab6919909e6e0f5599ec7)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/90/686190/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/octavia-api'],1,bd955f532249e542e89b6e395ec76321517c9a94,,check_url=$(get_url_from_vhost /etc/httpd/conf.d/10-octavia_wsgi.conf) healthcheck_curl ${check_url},"bind_host=$(get_config_val /etc/octavia/octavia.conf api_settings bind_host 127.0.0.1) bind_port=$(get_config_val /etc/octavia/octavia.conf api_settings bind_port 9876) # Add brackets if IPv6 if [[ $bind_host =~ "":"" ]]; then bind_host=""[${bind_host}]"" fi healthcheck_curl http://${bind_host}:${bind_port}/",2,10
openstack%2Ftripleo-common~stable%2Frocky~If04483e03bc92aea690db27ad4aeff31c3f5cff6,openstack/tripleo-common,stable/rocky,If04483e03bc92aea690db27ad4aeff31c3f5cff6,Fixup octavia-api healthcheck,MERGED,2019-10-02 15:32:24.000000000,2019-10-12 04:41:19.000000000,2019-10-12 04:41:19.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-02 15:32:24.000000000', 'files': ['healthcheck/octavia-api'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6f085727bdea6a5aa0e1a41b5fdb0ccc00137638', 'message': ""Fixup octavia-api healthcheck\n\nOctavia now runs under apache so it's healthcheck needs updating.\n\nChange-Id: If04483e03bc92aea690db27ad4aeff31c3f5cff6\n(cherry picked from commit 4c3d5182f4f924e931be8641f3b7df2d31c68927)\n(cherry picked from commit f7fcad9511987884b9cab6919909e6e0f5599ec7)\n""}]",0,686189,6f085727bdea6a5aa0e1a41b5fdb0ccc00137638,10,5,1,6469,,,0,"Fixup octavia-api healthcheck

Octavia now runs under apache so it's healthcheck needs updating.

Change-Id: If04483e03bc92aea690db27ad4aeff31c3f5cff6
(cherry picked from commit 4c3d5182f4f924e931be8641f3b7df2d31c68927)
(cherry picked from commit f7fcad9511987884b9cab6919909e6e0f5599ec7)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/89/686189/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/octavia-api'],1,6f085727bdea6a5aa0e1a41b5fdb0ccc00137638,,check_url=$(get_url_from_vhost /etc/httpd/conf.d/10-octavia_wsgi.conf) healthcheck_curl ${check_url},"bind_host=$(get_config_val /etc/octavia/octavia.conf api_settings bind_host 127.0.0.1) bind_port=$(get_config_val /etc/octavia/octavia.conf api_settings bind_port 9876) # Add brackets if IPv6 if [[ $bind_host =~ "":"" ]]; then bind_host=""[${bind_host}]"" fi healthcheck_curl http://${bind_host}:${bind_port}/",2,10
openstack%2Ftripleo-common~stable%2Fqueens~I2615bf4d5fcedbcf85d11e4aedbe22061348ded2,openstack/tripleo-common,stable/queens,I2615bf4d5fcedbcf85d11e4aedbe22061348ded2,Raise exception when no IPs found,MERGED,2019-10-03 21:25:21.000000000,2019-10-12 04:41:17.000000000,2019-10-12 04:41:17.000000000,"[{'_account_id': 7144}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-03 21:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/05461699846ed8294cd0c7e1f868dccebaaaec9f', 'message': 'Raise exception when no IPs found\n\nWhen generating the inventory, an exception is now raised if no IP\naddresses are found for a given role from the specified network.\nPreviously, an unhandled IndexError was thrown with no indication as to\nthe actual problem.\n\nThis situtation can occur when using pre-provisioned nodes and a\nmalformed DeployedServerPortMap value such that no IP addresses are\nassigned.\n\nChange-Id: I2615bf4d5fcedbcf85d11e4aedbe22061348ded2\n(cherry picked from commit 70c0c674a176254b0ff4e3afb36947d0c7cee4eb)\n'}, {'number': 2, 'created': '2019-10-10 14:26:42.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/25229d8b57034f5e4d2b07c9c59d9bd29010936c', 'message': 'Raise exception when no IPs found\n\nWhen generating the inventory, an exception is now raised if no IP\naddresses are found for a given role from the specified network.\nPreviously, an unhandled IndexError was thrown with no indication as to\nthe actual problem.\n\nThis situtation can occur when using pre-provisioned nodes and a\nmalformed DeployedServerPortMap value such that no IP addresses are\nassigned.\n\nChange-Id: I2615bf4d5fcedbcf85d11e4aedbe22061348ded2\n(cherry picked from commit 70c0c674a176254b0ff4e3afb36947d0c7cee4eb)\n'}]",0,686499,25229d8b57034f5e4d2b07c9c59d9bd29010936c,15,6,2,7144,,,0,"Raise exception when no IPs found

When generating the inventory, an exception is now raised if no IP
addresses are found for a given role from the specified network.
Previously, an unhandled IndexError was thrown with no indication as to
the actual problem.

This situtation can occur when using pre-provisioned nodes and a
malformed DeployedServerPortMap value such that no IP addresses are
assigned.

Change-Id: I2615bf4d5fcedbcf85d11e4aedbe22061348ded2
(cherry picked from commit 70c0c674a176254b0ff4e3afb36947d0c7cee4eb)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/99/686499/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",2,05461699846ed8294cd0c7e1f868dccebaaaec9f,686499," def test_no_ips(self): for output in self.outputs_data['outputs']: if output['output_key'] == 'RoleNetIpMap': output['output_value'] = dict(Controller=dict(ctlplane=[])) self.assertRaises(Exception, self.inventory.list) ",,9,0
openstack%2Ftripleo-common~stable%2Frocky~I2615bf4d5fcedbcf85d11e4aedbe22061348ded2,openstack/tripleo-common,stable/rocky,I2615bf4d5fcedbcf85d11e4aedbe22061348ded2,Raise exception when no IPs found,MERGED,2019-10-03 21:25:14.000000000,2019-10-12 04:41:16.000000000,2019-10-12 04:41:16.000000000,"[{'_account_id': 7144}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-03 21:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8abb74e028c2991432f29319c1174cf2cc333f74', 'message': 'Raise exception when no IPs found\n\nWhen generating the inventory, an exception is now raised if no IP\naddresses are found for a given role from the specified network.\nPreviously, an unhandled IndexError was thrown with no indication as to\nthe actual problem.\n\nThis situtation can occur when using pre-provisioned nodes and a\nmalformed DeployedServerPortMap value such that no IP addresses are\nassigned.\n\nChange-Id: I2615bf4d5fcedbcf85d11e4aedbe22061348ded2\n(cherry picked from commit 70c0c674a176254b0ff4e3afb36947d0c7cee4eb)\n'}, {'number': 2, 'created': '2019-10-10 14:25:11.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2241a64946435555d8ef0364045a4679f81a193e', 'message': 'Raise exception when no IPs found\n\nWhen generating the inventory, an exception is now raised if no IP\naddresses are found for a given role from the specified network.\nPreviously, an unhandled IndexError was thrown with no indication as to\nthe actual problem.\n\nThis situtation can occur when using pre-provisioned nodes and a\nmalformed DeployedServerPortMap value such that no IP addresses are\nassigned.\n\nChange-Id: I2615bf4d5fcedbcf85d11e4aedbe22061348ded2\n(cherry picked from commit 70c0c674a176254b0ff4e3afb36947d0c7cee4eb)\n'}]",0,686498,2241a64946435555d8ef0364045a4679f81a193e,16,6,2,7144,,,0,"Raise exception when no IPs found

When generating the inventory, an exception is now raised if no IP
addresses are found for a given role from the specified network.
Previously, an unhandled IndexError was thrown with no indication as to
the actual problem.

This situtation can occur when using pre-provisioned nodes and a
malformed DeployedServerPortMap value such that no IP addresses are
assigned.

Change-Id: I2615bf4d5fcedbcf85d11e4aedbe22061348ded2
(cherry picked from commit 70c0c674a176254b0ff4e3afb36947d0c7cee4eb)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/98/686498/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",2,8abb74e028c2991432f29319c1174cf2cc333f74,686498," def test_no_ips(self): for output in self.outputs_data['outputs']: if output['output_key'] == 'RoleNetIpMap': output['output_value'] = dict(Controller=dict(ctlplane=[])) self.assertRaises(Exception, self.inventory.list) ",,9,0
openstack%2Fpython-tripleoclient~stable%2Fqueens~Ie7f1a4269936f98ad86db4993992e0b9a27edf73,openstack/python-tripleoclient,stable/queens,Ie7f1a4269936f98ad86db4993992e0b9a27edf73,Handle a deployment that was manually cancelled.,MERGED,2019-10-09 19:58:29.000000000,2019-10-12 04:41:12.000000000,2019-10-12 04:41:12.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-09 19:58:29.000000000', 'files': ['tripleoclient/workflows/plan_management.py', 'tripleoclient/tests/workflows/test_plan_management.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fa98192ac48cf463a16fddf8498c7e1f328060d9', 'message': 'Handle a deployment that was manually cancelled.\n\nWhen doing a deployment or update, if the end-user uses CTRL+c\n(SIGINT) to end it early, it will fail complaining that there is\nno passwords key in the plan. We will now handle this and cleanup\nthe existing plan.\n\nChange-Id: Ie7f1a4269936f98ad86db4993992e0b9a27edf73\nCloses-Bug: #1819672\nResolves: rhbz#1753251\nSigned-off-by: ekultails <ekultails@gmail.com>\n(cherry picked from commit 72850060e058274bb55aadbf2963f4f46ba3be3a)\n'}]",0,687662,fa98192ac48cf463a16fddf8498c7e1f328060d9,10,5,1,25877,,,0,"Handle a deployment that was manually cancelled.

When doing a deployment or update, if the end-user uses CTRL+c
(SIGINT) to end it early, it will fail complaining that there is
no passwords key in the plan. We will now handle this and cleanup
the existing plan.

Change-Id: Ie7f1a4269936f98ad86db4993992e0b9a27edf73
Closes-Bug: #1819672
Resolves: rhbz#1753251
Signed-off-by: ekultails <ekultails@gmail.com>
(cherry picked from commit 72850060e058274bb55aadbf2963f4f46ba3be3a)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/62/687662/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/plan_management.py', 'tripleoclient/tests/workflows/test_plan_management.py']",2,fa98192ac48cf463a16fddf8498c7e1f328060d9,," @mock.patch('tripleoclient.workflows.plan_management._update_passwords', autospec=True) @mock.patch('yaml.safe_load', autospec=True) @mock.patch('tripleoclient.workflows.plan_management.tarball', autospec=True) @mock.patch('tripleo_common.utils.swift.empty_container', autospec=True) def test_update_plan_from_templates_recreate_env_missing_passwords( self, mock_empty_container, mock_tarball, mock_yaml_safe_load, mock_update_passwords): plan_management.update_plan_from_templates( self.app.client_manager, 'test-overcloud', '/tht-root/', validate_stack=False) # A dictionary without the ""passwords"" key is provided in # the _load_passwords method. mock_yaml_safe_load.return_value = {} # Ensure that the passwords variable is passed with a value of None. mock_update_passwords.assert_called_with( mock.ANY, 'test-overcloud', None) ",,29,1
openstack%2Fpython-tripleoclient~stable%2Frocky~Ie7f1a4269936f98ad86db4993992e0b9a27edf73,openstack/python-tripleoclient,stable/rocky,Ie7f1a4269936f98ad86db4993992e0b9a27edf73,Handle a deployment that was manually cancelled.,MERGED,2019-10-09 19:56:00.000000000,2019-10-12 04:41:11.000000000,2019-10-12 04:41:11.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-09 19:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/23020098d3e7b742a52ec473c034cff4df2d35ca', 'message': 'Handle a deployment that was manually cancelled.\n\nWhen doing a deployment or update, if the end-user uses CTRL+c\n(SIGINT) to end it early, it will fail complaining that there is\nno passwords key in the plan. We will now handle this and cleanup\nthe existing plan.\n\nChange-Id: Ie7f1a4269936f98ad86db4993992e0b9a27edf73\nCloses-Bug: #1819672\nResolves: rhbz#1753251\nSigned-off-by: ekultails <ekultails@gmail.com>\n(cherry picked from commit 72850060e058274bb55aadbf2963f4f46ba3be3a)\n'}, {'number': 2, 'created': '2019-10-09 19:57:36.000000000', 'files': ['tripleoclient/workflows/plan_management.py', 'tripleoclient/tests/workflows/test_plan_management.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/58a8a0bd4e6f7fbdf4b3789e7c9958c1781bb4b0', 'message': 'Handle a deployment that was manually cancelled.\n\nWhen doing a deployment or update, if the end-user uses CTRL+c\n(SIGINT) to end it early, it will fail complaining that there is\nno passwords key in the plan. We will now handle this and cleanup\nthe existing plan.\n\nChange-Id: Ie7f1a4269936f98ad86db4993992e0b9a27edf73\nCloses-Bug: #1819672\nResolves: rhbz#1753251\nSigned-off-by: ekultails <ekultails@gmail.com>\n(cherry picked from commit 72850060e058274bb55aadbf2963f4f46ba3be3a)\n'}]",0,687661,58a8a0bd4e6f7fbdf4b3789e7c9958c1781bb4b0,11,5,2,25877,,,0,"Handle a deployment that was manually cancelled.

When doing a deployment or update, if the end-user uses CTRL+c
(SIGINT) to end it early, it will fail complaining that there is
no passwords key in the plan. We will now handle this and cleanup
the existing plan.

Change-Id: Ie7f1a4269936f98ad86db4993992e0b9a27edf73
Closes-Bug: #1819672
Resolves: rhbz#1753251
Signed-off-by: ekultails <ekultails@gmail.com>
(cherry picked from commit 72850060e058274bb55aadbf2963f4f46ba3be3a)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/61/687661/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/plan_management.py', 'tripleoclient/tests/workflows/test_plan_management.py']",2,23020098d3e7b742a52ec473c034cff4df2d35ca,," @mock.patch('tripleoclient.workflows.plan_management._update_passwords', autospec=True) @mock.patch('yaml.safe_load', autospec=True) @mock.patch('tripleoclient.workflows.plan_management.tarball', autospec=True) @mock.patch('tripleo_common.utils.swift.empty_container', autospec=True) def test_update_plan_from_templates_recreate_env_missing_passwords( self, mock_empty_container, mock_tarball, mock_yaml_safe_load, mock_update_passwords): plan_management.update_plan_from_templates( self.app.client_manager, 'test-overcloud', '/tht-root/', validate_stack=False) # A dictionary without the ""passwords"" key is provided in # the _load_passwords method. mock_yaml_safe_load.return_value = {} # Ensure that the passwords variable is passed with a value of None. mock_update_passwords.assert_called_with( mock.ANY, 'test-overcloud', None) ",,29,1
openstack%2Fos-refresh-config~master~I2acb582646d5e878062e245bc17ec6dc79adf655,openstack/os-refresh-config,master,I2acb582646d5e878062e245bc17ec6dc79adf655,Sync Sphinx requirement,MERGED,2019-10-10 06:37:55.000000000,2019-10-12 04:41:08.000000000,2019-10-12 04:41:08.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-10 06:37:55.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/2ea1ccaa7986666f1a147bf1d8db253d1a69d01f', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I2acb582646d5e878062e245bc17ec6dc79adf655\n'}]",0,687794,2ea1ccaa7986666f1a147bf1d8db253d1a69d01f,8,4,1,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I2acb582646d5e878062e245bc17ec6dc79adf655
",git fetch https://review.opendev.org/openstack/os-refresh-config refs/changes/94/687794/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2ea1ccaa7986666f1a147bf1d8db253d1a69d01f,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fos-collect-config~master~I995ea245912d5eaa1470c7c5bdeb69bdce7cfcca,openstack/os-collect-config,master,I995ea245912d5eaa1470c7c5bdeb69bdce7cfcca,Sync Sphinx requirement,MERGED,2019-10-10 06:19:10.000000000,2019-10-12 04:41:07.000000000,2019-10-12 04:41:07.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-10 06:19:10.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/720165e73731ca704a35c6c82ad4a03501f1c712', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I995ea245912d5eaa1470c7c5bdeb69bdce7cfcca\n'}]",0,687782,720165e73731ca704a35c6c82ad4a03501f1c712,8,4,1,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I995ea245912d5eaa1470c7c5bdeb69bdce7cfcca
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/82/687782/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,720165e73731ca704a35c6c82ad4a03501f1c712,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fos-apply-config~master~If8ed272e08a24fb72b62159f22c1fa35900c7621,openstack/os-apply-config,master,If8ed272e08a24fb72b62159f22c1fa35900c7621,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-10-10 06:14:55.000000000,2019-10-12 04:41:06.000000000,2019-10-12 04:41:06.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-10 06:14:55.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/45d999508849137c13eeab63bbec269df232758b', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: If8ed272e08a24fb72b62159f22c1fa35900c7621\n'}]",0,687781,45d999508849137c13eeab63bbec269df232758b,8,4,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: If8ed272e08a24fb72b62159f22c1fa35900c7621
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/81/687781/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,45d999508849137c13eeab63bbec269df232758b,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.5;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.5;python_version>='3.4' # BSD",1,1
openstack%2Fneutron~master~I28920d2ecbaac5da5fbe6d6e9b296080806c8c6a,openstack/neutron,master,I28920d2ecbaac5da5fbe6d6e9b296080806c8c6a,doc: Update QoS minimum bandwidth limitations for Train,MERGED,2019-10-07 14:53:39.000000000,2019-10-12 04:08:37.000000000,2019-10-12 04:06:53.000000000,"[{'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-10-07 14:53:39.000000000', 'files': ['doc/source/admin/config-qos-min-bw.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/02b6c9827dd798f3319831cabe5128cb0b2b461a', 'message': 'doc: Update QoS minimum bandwidth limitations for Train\n\nSince the overview-type documentations of the QoS minimum bandwidth\nfeature is in Neutron we need to update the limitations now that we\nhave some improvements in Nova.\n\nChange-Id: I28920d2ecbaac5da5fbe6d6e9b296080806c8c6a\nRelated-Change: https://review.opendev.org/671497\nRelated-Change: https://review.opendev.org/679019\n'}]",1,687070,02b6c9827dd798f3319831cabe5128cb0b2b461a,12,7,1,15554,,,0,"doc: Update QoS minimum bandwidth limitations for Train

Since the overview-type documentations of the QoS minimum bandwidth
feature is in Neutron we need to update the limitations now that we
have some improvements in Nova.

Change-Id: I28920d2ecbaac5da5fbe6d6e9b296080806c8c6a
Related-Change: https://review.opendev.org/671497
Related-Change: https://review.opendev.org/679019
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/687070/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-qos-min-bw.rst'],1,02b6c9827dd798f3319831cabe5128cb0b2b461a,minimum-bandwidth-allocation-placement-api," server with bandwidth guarantees. Since Stein (Nova API microversion 2.72+) you can boot and delete a server with a guarantee and detach a port with a guarantee. Since Train you can also migrate and resize a server with a guarantee. Support for further server move operations (for example evacuate, live-migrate and unshelve after shelve-offload) is to be implemented later. For the definitive documentation please refer to the `Port with Resource Request chapter"," server with bandwidth guarantees. In Stein (Nova API microversion 2.72+) you can boot and delete a server with a guarantee and detach a port with a guarantee. Support for server move operations (for example migrate, resize, evacuate, live-migrate and unshelve after shelve-offload) is to be implemented later. For the definitive documentation please refer to the `Port with Resource Request chapter",7,6
openstack%2Fsenlin~master~I43afa5f393cd8475d2686f1e61d96ec79dac00cd,openstack/senlin,master,I43afa5f393cd8475d2686f1e61d96ec79dac00cd,Delete VMs in error state after creation,MERGED,2019-10-11 00:02:26.000000000,2019-10-12 03:10:20.000000000,2019-10-12 03:09:08.000000000,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 27224}, {'_account_id': 28691}]","[{'number': 1, 'created': '2019-10-11 00:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/16e81584b986b597c3f4c3f80ebb43b58e8cf794', 'message': 'Delete VMs in error state after creation\n\nIf a server create ends up with the server in error state, delete the\nserver.\n\nChange-Id: I43afa5f393cd8475d2686f1e61d96ec79dac00cd\nCloses-Bug: #1847676\n'}, {'number': 2, 'created': '2019-10-11 17:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/8999cc7cb6a2fba52cbc355c0f7282c471baa108', 'message': 'Delete VMs in error state after creation\n\nIf a server create ends up with the server in error state, delete the\nserver.\n\nChange-Id: I43afa5f393cd8475d2686f1e61d96ec79dac00cd\nCloses-Bug: #1847676\n'}, {'number': 3, 'created': '2019-10-11 18:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/da53e83b83152a7d10f37d2907123db6684a34f9', 'message': 'Delete VMs in error state after creation\n\nIf a server create ends up with the server in error state, delete the\nserver.\n\nChange-Id: I43afa5f393cd8475d2686f1e61d96ec79dac00cd\nCloses-Bug: #1847676\n'}, {'number': 4, 'created': '2019-10-11 22:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/3afd583b20b585ce32cae8190e968685dd0afa4c', 'message': 'Delete VMs in error state after creation\n\nIf a server create ends up with the server in error state, delete the\nserver.\n\nChange-Id: I43afa5f393cd8475d2686f1e61d96ec79dac00cd\nCloses-Bug: #1847676\n'}, {'number': 5, 'created': '2019-10-11 23:40:34.000000000', 'files': ['senlin/profiles/os/nova/server.py', 'senlin/drivers/os/nova_v2.py', 'senlin/tests/unit/profiles/test_nova_server.py', 'senlin/common/config.py', 'releasenotes/notes/config-default-nova-timeout-f0bd73811ac3a8bb.yaml', 'senlin/tests/unit/drivers/test_nova_v2.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/60fd3ff874600c4f3b23b657dcb617f4fecf891b', 'message': 'Delete VMs in error state after creation\n\nIf a server create ends up with the server in error state, delete the\nserver.\n\nChange-Id: I43afa5f393cd8475d2686f1e61d96ec79dac00cd\nCloses-Bug: #1847676\n'}]",10,688006,60fd3ff874600c4f3b23b657dcb617f4fecf891b,23,6,5,27224,,,0,"Delete VMs in error state after creation

If a server create ends up with the server in error state, delete the
server.

Change-Id: I43afa5f393cd8475d2686f1e61d96ec79dac00cd
Closes-Bug: #1847676
",git fetch https://review.opendev.org/openstack/senlin refs/changes/06/688006/3 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/profiles/os/nova/server.py', 'senlin/tests/unit/profiles/test_nova_server.py']",2,16e81584b986b597c3f4c3f80ebb43b58e8cf794,bug/1847676," @mock.patch.object(node_ob.Node, 'update') @mock.patch.object(server.ServerProfile, 'do_delete') def test_do_create_failed_with_server_id(self, mock_profile_delete, mock_node_obj): cc = mock.Mock() profile = server.ServerProfile('t', self.spec) profile._computeclient = cc self._stubout_profile(profile, mock_image=True, mock_flavor=True, mock_keypair=True, mock_net=True) mock_zone_info = self.patchobject(profile, '_update_zone_info') node_obj = mock.Mock(id='FAKE_NODE_ID', index=123, cluster_id='FAKE_CLUSTER_ID', data={ 'placement': { 'zone': 'AZ1', 'servergroup': 'SERVER_GROUP_1' } }) node_obj.name = 'TEST_SERVER' fake_server = mock.Mock(id='FAKE_ID') cc.server_create.return_value = fake_server cc.wait_for_server.side_effect = exc.InternalError( code=500, message=""creation failed."") # do it ex = self.assertRaises(exc.EResourceCreation, profile.do_create, node_obj) # assertions mock_node_obj.assert_called_once_with(mock.ANY, node_obj.id, {'data': node_obj.data}) mock_profile_delete.assert_called_once_with(node_obj) self.assertEqual('Failed in creating server: creation failed.', six.text_type(ex)) self.assertEqual(1, cc.wait_for_server.call_count) self.assertEqual(0, mock_zone_info.call_count) ",,43,0
openstack%2Fmanila~master~If2ca14772e9083866f619e3f2c364fb530775eac,openstack/manila,master,If2ca14772e9083866f619e3f2c364fb530775eac,[Unity] Sync Unity related Docs,MERGED,2019-09-11 06:10:53.000000000,2019-10-12 02:43:27.000000000,2019-10-12 02:42:07.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 18742}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 29291}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-09-11 06:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/770648a7fa5a496c5ebea5ae22e6ba7cc8fa56e9', 'message': 'Sync Unity related Docs\n1. Add DHSS=False mode support\n2. Update emc_unity_driver.rst and dell-emc-unity-driver.rst to almost same, easy for update doc change in the future\n\nChange-Id: If2ca14772e9083866f619e3f2c364fb530775eac\n'}, {'number': 2, 'created': '2019-09-11 06:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/88fd5f82c5e4cef6a3f2aae81245d2ee5bc39d6d', 'message': '[Unity]Sync Unity related Docs\n\n1. Add DHSS=False mode support\n2. Update emc_unity_driver.rst and dell-emc-unity-driver.rst to almost same, easy for update doc change in the future\n\nChange-Id: If2ca14772e9083866f619e3f2c364fb530775eac\n'}, {'number': 3, 'created': '2019-09-11 06:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fa9d5c0c9521afe211329877a6340cc5358b7432', 'message': '[Unity] Sync Unity related Docs\n\n1. Add DHSS=False mode support\n2. Update emc_unity_driver.rst and dell-emc-unity-driver.rst to almost same, easy for update doc change in the future\n\nChange-Id: If2ca14772e9083866f619e3f2c364fb530775eac\n'}, {'number': 4, 'created': '2019-09-11 07:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c70beaa5fd9094665c3a99277e49b4acefa49209', 'message': '[Unity] Sync Unity related Docs\n\n1. Add DHSS=False mode support\n2. Update emc_unity_driver.rst and dell-emc-unity-driver.rst to almost same, easy for update doc change in the future\n\nChange-Id: If2ca14772e9083866f619e3f2c364fb530775eac\n'}, {'number': 5, 'created': '2019-09-30 09:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a15a417dd99a3d5d72e15807fbaa0e0a5687000f', 'message': '[Unity] Sync Unity related Docs\n\n1. Add DHSS=False mode support\n2. Update emc_unity_driver.rst and dell-emc-unity-driver.rst\nto almost same, easy for update doc change in the future\n\nChange-Id: If2ca14772e9083866f619e3f2c364fb530775eac\nCloses-bug: #1657605\n'}, {'number': 6, 'created': '2019-09-30 10:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f9ec0e5612e04d31e40816c410b111008e255edc', 'message': '[Unity] Sync Unity related Docs\n\n1. Add DHSS=False mode support\n2. Update emc_unity_driver.rst and dell-emc-unity-driver.rst\nto almost same, easy for update doc change in the future\n\nChange-Id: If2ca14772e9083866f619e3f2c364fb530775eac\nCloses-bug: #1657605\n'}, {'number': 7, 'created': '2019-10-11 02:03:10.000000000', 'files': ['doc/source/admin/share_back_ends_feature_support_mapping.rst', 'doc/source/admin/index.rst', 'doc/source/admin/emc_unity_driver.rst', 'doc/source/configuration/shared-file-systems/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/c9d8506f80faa3e9854dadd71305f450f78b0bb2', 'message': '[Unity] Sync Unity related Docs\n\n1. Add DHSS=False mode support\n2. Update emc_unity_driver.rst and dell-emc-unity-driver.rst\nto almost same, easy for update doc change in the future\n\nChange-Id: If2ca14772e9083866f619e3f2c364fb530775eac\nCloses-bug: #1657605\n'}]",7,681381,c9d8506f80faa3e9854dadd71305f450f78b0bb2,54,12,7,29291,,,0,"[Unity] Sync Unity related Docs

1. Add DHSS=False mode support
2. Update emc_unity_driver.rst and dell-emc-unity-driver.rst
to almost same, easy for update doc change in the future

Change-Id: If2ca14772e9083866f619e3f2c364fb530775eac
Closes-bug: #1657605
",git fetch https://review.opendev.org/openstack/manila refs/changes/81/681381/7 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/share_back_ends_feature_support_mapping.rst', 'doc/source/admin/emc_unity_driver.rst', 'doc/source/configuration/shared-file-systems/drivers/dell-emc-unity-driver.rst']",3,770648a7fa5a496c5ebea5ae22e6ba7cc8fa56e9,bug/1657605,"This driver performs the operations on Unity through RESTful APIs. Each backend manages one Storage Processor of Unity. Configure multiple Shared File Systems service backends to manage multiple Unity systems.------------ * CIFS/SMB Support * Network File System (NFS) * Thin Provisioning * Fiber Channel (FC) * Internet Small Computer System Interface (iSCSI)------------------------------------------- In detail, users are allowed to do following operation with EMC Unity Storage Systems. * Create/delete a NFS share. * Create/delete a CIFS share. * Extend the size of a share. * Shrink the size of a share. * Modify the host access privilege of a NFS share. * Modify the user access privilege of a CIFS share. * Take/Delete snapshot of a share. * Create a new share from snapshot. * Revert a share to a snapshot. Supported Network Topologies ---------------------------- * Flat* VLAN* VXLANPre-Configurations ------------------ On Manila Node ~~~~~~~~~~~~~~ Python library ``storops`` is required to run Unity driver. Install it with the ``pip`` command. You may need root privilege to install python libraries. .. code-block:: console pip install storops On Unity System ~~~~~~~~~~~~~~~ #. Configure system level NTP server. Open ``Unisphere`` of your Unity system and navigate to: .. code-block:: console Unisphere -> Settings -> Management -> System Time and NTP Select ``Enable NTP synchronization`` and add your NTP server(s). The time on the Unity system and the Active Directory domains used in security services should be in sync. We recommend using the same NTP server on both the Unity system and Active Directory domains. #. Configure system level DNS server. Open ``Unisphere`` of your Unity system and navigate to: .. code-block:: console Unisphere -> Settings -> Management -> DNS Server Select ``Configure DNS server address manually`` and add your DNS server(s). Backend configurations ---------------------- Following configurations need to be configured in `/etc/manila/manila.conf` for the Unity driver. .. code-block:: ini share_driver = manila.share.drivers.dell_emc.driver.EMCShareDriver emc_share_backend = unity emc_nas_server = <management IP address of the Unity system> emc_nas_login = <user with administrator privilege> emc_nas_password = <password> unity_server_meta_pool = <pool name> unity_share_data_pools = <comma separated pool names> unity_ethernet_ports = <comma separated ports list> driver_handles_share_servers = True/False unity_share_server = <name of NAS server in Unity system> - `emc_share_backend` The plugin name. Set it to `unity` for the Unity driver. - `emc_nas_server` The management IP for Unity. - `unity_server_meta_pool` The name of the pool to persist the meta-data of NAS server. This option is required. - `unity_share_data_pools` Comma separated list specifying the name of the pools to be used by this backend. Do not set this option if all storage pools on the system can be used. Wild card character is supported. Examples: .. code-block:: ini # Only use pool_1 unity_share_data_pools = pool_1 # Only use pools whose name stars from pool_ unity_share_data_pools = pool_* # Use all pools on Unity unity_share_data_pools = * - `unity_ethernet_ports` Comma separated list specifying the ethernet ports of Unity system that can be used for share. Do not set this option if all ethernet ports can be used. Wild card character is supported. Both the normal ethernet port and link aggregation port can be used by Unity share driver. Examples: .. code-block:: ini # Only use spa_eth1 unity_ethernet_ports = spa_eth1 # Use port whose name stars from spa_ unity_ethernet_ports = spa_* # Use all Link Aggregation ports unity_ethernet_ports = sp*_la_* # Use all available ports unity_ethernet_ports = * - `driver_handles_share_servers` Unity driver requires this option to be as `True` or `False`. Need to set `unity_share_server` when the value is `False`. - `unity_share_server` One of NAS server names in Unity, it is used for share creation when the driver is in `DHSS=False` mode. Restart of :term:`manila-share` service is needed for the configuration changes to take effect. ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ Only IP access type is supported for NFS. - Only user access type is supported for CIFS. API Implementations ------------------- Following driver features are implemented in the plugin. * create_share: Create a share and export it based on the protocol used (NFS or CIFS). * create_share_from_snapshot: Create a share from a snapshot - clone a snapshot. * delete_share: Delete a share. * extend_share: Extend the maximum size of a share. * shrink_share: Shrink the minimum size of a share. * create_snapshot: Create a snapshot for the specified share. * delete_snapshot: Delete the snapshot of the share. * update_access: recover, add or delete user/host access to a share. * allow_access: Allow access (read write/read only) of a user to a CIFS share. Allow access (read write/read only) of a host to a NFS share. * deny_access: Remove access (read write/read only) of a user from a CIFS share. Remove access (read write/read only) of a host from a NFS share. * ensure_share: Check whether share exists or not. * update_share_stats: Retrieve share related statistics from Unity. * get_network_allocations_number: Returns number of network allocations for creating VIFs. * setup_server: Set up and configures share server with given network parameters. * teardown_server: Tear down the share server. * revert_to_snapshot: Revert a share to a snapshot.--------------","This driver performs the operations on Unity through RESTful APIs. Each back end manages one Storage Processor of Unity. Configure multiple Shared File Systems service back ends to manage multiple Unity systems.~~~~~~~~~~~~ - CIFS/SMB Support - Network File System (NFS) - Thin Provisioning - Fiber Channel (FC) - Internet Small Computer System Interface (iSCSI)~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The driver supports CIFS and NFS shares. The following operations are supported: - Create a share. - Delete a share. - Allow share access. - Deny share access. - Create a snapshot. - Delete a snapshot. - Create a share from a snapshot. - Extend a share. - Shrink a share. - Revert a share to a snapshot. Supported network types ~~~~~~~~~~~~~~~~~~~~~~~ - ``Flat``- ``VLAN``- ``VXLAN``~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Pre-configurations ~~~~~~~~~~~~~~~~~~ On manila node -------------- Python library ``storops`` is required to run Unity driver. Install it with the ``pip`` command. You may need root privilege to install python libraries. .. code-block:: console pip install storops On Unity system --------------- #. Configure system level NTP server. Open ``Unisphere`` of your Unity system and navigate to: .. code-block:: console Unisphere -> Settings -> Management -> System Time and NTP Select ``Enable NTP synchronization`` and add your NTP server(s). The time on the Unity system and the Active Directory domains used in security services should be in sync. We recommend using the same NTP server on both the Unity system and Active Directory domains. #. Configure system level DNS server. Open ``Unisphere`` of your Unity system and navigate to: .. code-block:: console Unisphere -> Settings -> Management -> DNS Server Select ``Configure DNS server address manually`` and add your DNS server(s). Back end configurations ~~~~~~~~~~~~~~~~~~~~~~~ Following configurations need to be configured in ``/etc/manila/manila.conf`` for the Unity driver. .. code-block:: ini share_driver = manila.share.drivers.dell_emc.driver.EMCShareDriver emc_share_backend = unity emc_nas_server = <management IP address of the Unity system> emc_nas_login = <user with administrator privilege> emc_nas_password = <password> unity_server_meta_pool = <pool name> unity_share_data_pools = <comma separated pool names> unity_ethernet_ports = <comma separated ports list> driver_handles_share_servers = True/False unity_share_server = <name of NAS server in Unity system> - ``emc_share_backend`` The plugin name. Set it to `unity` for the Unity driver. - ``emc_nas_server`` The management IP for Unity. - ``emc_nas_login`` The user with administrator privilege. - ``emc_nas_password`` Password for the user. - ``unity_server_meta_pool`` The name of the pool to persist the meta-data of NAS server. This option is required. - ``unity_share_data_pools`` Comma separated list specifying the name of the pools to be used by this back end. Do not set this option if all storage pools on the system can be used. Wild card character is supported. Examples: .. code-block:: ini # Only use pool_1 unity_share_data_pools = pool_1 # Only use pools whose name stars from pool_ unity_share_data_pools = pool_* # Use all pools on Unity unity_share_data_pools = * - ``unity_ethernet_ports`` Comma separated list specifying the ethernet ports of Unity system that can be used for share. Do not set this option if all ethernet ports can be used. Wild card character is supported. Both the normal ethernet port and link aggregation port can be used by Unity share driver. Examples: .. code-block:: ini # Only use spa_eth1 unity_ethernet_ports = spa_eth1 # Use port whose name stars from spa_ unity_ethernet_ports = spa_* # Use all Link Aggregation ports unity_ethernet_ports = sp*_la_* # Use all available ports unity_ethernet_ports = * .. note:: Refer to :ref:`unity_file_io_load_balance` for performance impact. - ``driver_handles_share_servers`` Unity driver requires this option to be as ``True`` or ``False``. Need to set ``unity_share_server`` when the value is ``False``. - ``unity_share_server`` One of NAS server names in Unity, it is used for share creation when the driver is in ``DHSS=False`` mode. Restart of ``manila-share`` service is needed for the configuration changes to take effect. ~~~~~~~~~~~~~~~~~~~~~~~~~~~ - Only Active Directory security service is supported and it is required to create CIFS shares.~~~~~~~~~~~~~~",354,211
openstack%2Ftricircle~stable%2Ftrain~I831ad5f5373f6e78a35ed1aa7a7833465c2b4304,openstack/tricircle,stable/train,I831ad5f5373f6e78a35ed1aa7a7833465c2b4304,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-30 15:48:35.000000000,2019-10-12 02:41:57.000000000,2019-10-12 02:39:57.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27215}]","[{'number': 1, 'created': '2019-09-30 15:48:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/cac23fb92a9eeea9898b8b24abd7e3b55579ab98', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I831ad5f5373f6e78a35ed1aa7a7833465c2b4304\n'}]",0,685740,cac23fb92a9eeea9898b8b24abd7e3b55579ab98,8,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I831ad5f5373f6e78a35ed1aa7a7833465c2b4304
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/40/685740/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cac23fb92a9eeea9898b8b24abd7e3b55579ab98,create-train,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/stable/stein/upper-constraints.txt},1,1
openstack%2Ftricircle~master~I70306ba5c3b6c976317f41b360a4b6a4f629b082,openstack/tricircle,master,I70306ba5c3b6c976317f41b360a4b6a4f629b082,Update master for stable/train,MERGED,2019-09-30 15:48:38.000000000,2019-10-12 02:41:55.000000000,2019-10-12 02:39:58.000000000,"[{'_account_id': 22348}, {'_account_id': 27215}]","[{'number': 1, 'created': '2019-09-30 15:48:38.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/599d7b3f901ffadf7e91138481e35fb90a039734', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I70306ba5c3b6c976317f41b360a4b6a4f629b082\nSem-Ver: feature\n'}]",0,685741,599d7b3f901ffadf7e91138481e35fb90a039734,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I70306ba5c3b6c976317f41b360a4b6a4f629b082
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/41/685741/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,599d7b3f901ffadf7e91138481e35fb90a039734,reno-train, train,,7,0
openstack%2Ftricircle~master~Ib5288b0112c1b6a90ddbd96f867a0c0a00dab8fe,openstack/tricircle,master,Ib5288b0112c1b6a90ddbd96f867a0c0a00dab8fe,Update the constraints url,MERGED,2019-09-24 02:03:17.000000000,2019-10-12 02:41:05.000000000,2019-10-12 02:39:56.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 27215}]","[{'number': 1, 'created': '2019-09-24 02:03:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/7761c9636bf45b2bc1fb4ba60e396f4ce8efa17e', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Ib5288b0112c1b6a90ddbd96f867a0c0a00dab8fe\n'}]",0,684159,7761c9636bf45b2bc1fb4ba60e396f4ce8efa17e,9,3,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Ib5288b0112c1b6a90ddbd96f867a0c0a00dab8fe
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/59/684159/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7761c9636bf45b2bc1fb4ba60e396f4ce8efa17e,constraints,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/stable/stein/upper-constraints.txt},1,1
openstack%2Ftricircle~stable%2Ftrain~Idfbeb1d67f813880c0ba341fd5c791f221369db2,openstack/tricircle,stable/train,Idfbeb1d67f813880c0ba341fd5c791f221369db2,Update .gitreview for stable/train,MERGED,2019-09-30 15:48:32.000000000,2019-10-12 02:41:02.000000000,2019-10-12 02:39:57.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27215}]","[{'number': 1, 'created': '2019-09-30 15:48:32.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/8dec1cd3455021e41c3f3f53abe8b9671a270543', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Idfbeb1d67f813880c0ba341fd5c791f221369db2\n'}]",0,685739,8dec1cd3455021e41c3f3f53abe8b9671a270543,8,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Idfbeb1d67f813880c0ba341fd5c791f221369db2
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/39/685739/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8dec1cd3455021e41c3f3f53abe8b9671a270543,create-train,defaultbranch=stable/train,,1,0
openstack%2Fpuppet-openstack-guide~master~Ic60439c10503afcb0f7cb1d82929f705b51eb780,openstack/puppet-openstack-guide,master,Ic60439c10503afcb0f7cb1d82929f705b51eb780,Fix syntax job,MERGED,2019-10-12 01:51:15.000000000,2019-10-12 02:35:12.000000000,2019-10-12 02:34:03.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-12 01:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/24ac52a3d1921565d28be33940f17902dc437860', 'message': 'Fix syntax job\n\nChange-Id: Ic60439c10503afcb0f7cb1d82929f705b51eb780\n'}, {'number': 2, 'created': '2019-10-12 02:21:32.000000000', 'files': ['doc/source/contributor/ci.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/2710b3b5c08be64dcdf7aafbfbfe7cd6ccdf4b37', 'message': 'Fix syntax job\n\nChange-Id: Ic60439c10503afcb0f7cb1d82929f705b51eb780\n'}]",0,688222,2710b3b5c08be64dcdf7aafbfbfe7cd6ccdf4b37,12,2,2,9414,,,0,"Fix syntax job

Change-Id: Ic60439c10503afcb0f7cb1d82929f705b51eb780
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/22/688222/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/ci.rst'],1,24ac52a3d1921565d28be33940f17902dc437860,fix-ci-syntax," * - puppet-openstack-syntax-6 - Syntax checks for Puppet manifests, templates, and Hiera YAML. The jobs run on the latest Puppet 6.x release. - Yes - Read the job logs to see where the code does not follow the Puppet syntax style."," * - puppet-openstack-syntax-4 - Syntax checks for Puppet manifests, templates, and Hiera YAML. The jobs run on the latest Puppet 4.x release. - Yes - Read the job logs to see where the code does not follow the Puppet syntax style.",6,6
openstack%2Fpuppet-openstack-guide~master~Ic8f6f5f6f7e6ed557e450f8395985b3074f1b627,openstack/puppet-openstack-guide,master,Ic8f6f5f6f7e6ed557e450f8395985b3074f1b627,Fix lint job,MERGED,2019-10-12 01:55:09.000000000,2019-10-12 02:22:24.000000000,2019-10-12 02:20:17.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-12 01:55:09.000000000', 'files': ['doc/source/contributor/ci.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/ba0932664d2003a236b8899b04ea7c2986e6a88f', 'message': 'Fix lint job\n\nChange-Id: Ic8f6f5f6f7e6ed557e450f8395985b3074f1b627\n'}]",0,688223,ba0932664d2003a236b8899b04ea7c2986e6a88f,7,2,1,9414,,,0,"Fix lint job

Change-Id: Ic8f6f5f6f7e6ed557e450f8395985b3074f1b627
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/23/688223/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/ci.rst'],1,ba0932664d2003a236b8899b04ea7c2986e6a88f,fix-ci-lint, * - puppet-openstack-lint-ubuntu-bionic, * - puppet-openstack-lint,1,1
openstack%2Fpuppet-openstack-guide~master~I4e5415a979e78175f253316211d49214dbb40dbc,openstack/puppet-openstack-guide,master,I4e5415a979e78175f253316211d49214dbb40dbc,Fix beaker job,MERGED,2019-10-12 02:00:39.000000000,2019-10-12 02:20:48.000000000,2019-10-12 02:19:49.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-12 02:00:39.000000000', 'files': ['doc/source/contributor/ci.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/42cd26c1adf0b675b92dc1ad660b914abb3b355e', 'message': 'Fix beaker job\n\nChange-Id: I4e5415a979e78175f253316211d49214dbb40dbc\n'}]",0,688225,42cd26c1adf0b675b92dc1ad660b914abb3b355e,7,2,1,9414,,,0,"Fix beaker job

Change-Id: I4e5415a979e78175f253316211d49214dbb40dbc
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/25/688225/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/ci.rst'],1,42cd26c1adf0b675b92dc1ad660b914abb3b355e,fix-ci-beaker," * - puppet-openstack-beaker-{centos-7,ubuntu-bionic} environment on 2 different systems (CentOS 7 and Ubuntu bionic), run"," * - puppet-openstack-beaker-{centos7,xenial} environment on 2 different systems (CentOS 7 and Ubuntu Trusty), run",2,2
openstack%2Fpuppet-openstack-guide~master~I84442ef158e6439de0befde2e2e640d27f0fbcc2,openstack/puppet-openstack-guide,master,I84442ef158e6439de0befde2e2e640d27f0fbcc2,Fix unit job,MERGED,2019-10-12 01:58:25.000000000,2019-10-12 02:19:49.000000000,2019-10-12 02:19:49.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-12 01:58:25.000000000', 'files': ['doc/source/contributor/ci.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/e50556b4a22e9232a6ef50f352461a14c2e7aaf7', 'message': 'Fix unit job\n\nChange-Id: I84442ef158e6439de0befde2e2e640d27f0fbcc2\n'}]",0,688224,e50556b4a22e9232a6ef50f352461a14c2e7aaf7,6,2,1,9414,,,0,"Fix unit job

Change-Id: I84442ef158e6439de0befde2e2e640d27f0fbcc2
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/24/688224/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/ci.rst'],1,e50556b4a22e9232a6ef50f352461a14c2e7aaf7,fix-ci-unit," * - puppet-openstack-unit-{5.5,6.4} - RSpec tests for Puppet manifests on Puppet 5 (for Rocky and earlier) and Puppet 6 (for Train and beyond)."," * - puppet-openstack-unit-{4.8,5.5} - RSpec tests for Puppet manifests on Puppet 4 (for Queens and earlier) and Puppet 5 (for Rocky and beyond).",3,3
openstack%2Fpuppet-openstack-guide~master~I8fe9e596b4c7c9cdf3521cc79d0479985182ad8c,openstack/puppet-openstack-guide,master,I8fe9e596b4c7c9cdf3521cc79d0479985182ad8c,Fix test url,MERGED,2019-10-12 02:05:59.000000000,2019-10-12 02:18:05.000000000,2019-10-12 02:17:06.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-12 02:05:59.000000000', 'files': ['doc/source/contributor/coding-style.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/b68d246328e9dfef31dfe9fad8e3d7d361e0319e', 'message': 'Fix test url\n\nChange-Id: I8fe9e596b4c7c9cdf3521cc79d0479985182ad8c\n'}]",0,688226,b68d246328e9dfef31dfe9fad8e3d7d361e0319e,7,2,1,9414,,,0,"Fix test url

Change-Id: I8fe9e596b4c7c9cdf3521cc79d0479985182ad8c
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/26/688226/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/coding-style.rst'],1,b68d246328e9dfef31dfe9fad8e3d7d361e0319e,fix-url-test,.. _here: https://docs.openstack.org/puppet-openstack-guide/latest/contributor/testing.html,.. _here: http://docs.openstack.org/developer/puppet-openstack-guide/testing.html,1,1
openstack%2Fneutron~stable%2Ftrain~Ic90fa31aa15723eab7f518a42762a7f1c80ee736,openstack/neutron,stable/train,Ic90fa31aa15723eab7f518a42762a7f1c80ee736,Randomize VNI in FdbInterfaceTestCase,MERGED,2019-10-11 15:46:07.000000000,2019-10-12 02:06:02.000000000,2019-10-12 00:41:38.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-11 15:46:07.000000000', 'files': ['neutron/tests/functional/agent/linux/test_bridge_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/54c8943ab5a6b980212d9c4c94173dc6b41dc78d', 'message': 'Randomize VNI in FdbInterfaceTestCase\n\nRandomize VNI in FdbInterfaceTestCase to avoid clashes if several test\ncases are creating VXLAN interfaces in the kernel namespace at the\nsame time.\n\nChange-Id: Ic90fa31aa15723eab7f518a42762a7f1c80ee736\nCloses-Bug: #1845354\n(cherry picked from commit 761b91fd221914ce06ded381264740abc29fe066)\n'}]",0,688153,54c8943ab5a6b980212d9c4c94173dc6b41dc78d,10,5,1,16688,,,0,"Randomize VNI in FdbInterfaceTestCase

Randomize VNI in FdbInterfaceTestCase to avoid clashes if several test
cases are creating VXLAN interfaces in the kernel namespace at the
same time.

Change-Id: Ic90fa31aa15723eab7f518a42762a7f1c80ee736
Closes-Bug: #1845354
(cherry picked from commit 761b91fd221914ce06ded381264740abc29fe066)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/688153/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/linux/test_bridge_lib.py'],1,54c8943ab5a6b980212d9c4c94173dc6b41dc78d,bug/1845354,"import random vni = random.randint(1, 2**24 - 1) ip_wrapper.add_vxlan(self.device_vxlan, vni, dev=self.device)"," ip_wrapper.add_vxlan(self.device_vxlan, 100, dev=self.device)",3,1
openstack%2Foctavia-lib~master~I71a0820f2322be7f84ab6555b534368d76bb0359,openstack/octavia-lib,master,I71a0820f2322be7f84ab6555b534368d76bb0359,Generate PDF documentation,MERGED,2019-09-13 17:28:25.000000000,2019-10-12 01:29:59.000000000,2019-10-12 01:28:55.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-09-13 17:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/0b31ef946bf3f47bf8c5fc692e36d52efd89e296', 'message': 'Generate PDF documentation\n\nChange-Id: I71a0820f2322be7f84ab6555b534368d76bb0359\nStory: 2006101\nTask: 35148\n'}, {'number': 2, 'created': '2019-09-13 17:51:10.000000000', 'files': ['doc/source/index.rst', 'doc/source/reference/index.rst', 'doc/source/library/index.rst', 'doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'octavia_lib/version.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/5ea72f9f2cb2dc4c2a2126f5fde73399078ec543', 'message': 'Generate PDF documentation\n\nChange-Id: I71a0820f2322be7f84ab6555b534368d76bb0359\nStory: 2006101\nTask: 35148\n'}]",0,682120,5ea72f9f2cb2dc4c2a2126f5fde73399078ec543,15,5,2,11628,,,0,"Generate PDF documentation

Change-Id: I71a0820f2322be7f84ab6555b534368d76bb0359
Story: 2006101
Task: 35148
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/20/682120/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/reference/index.rst', 'doc/source/library/index.rst', 'doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'octavia_lib/version.py', 'tox.ini']",8,0b31ef946bf3f47bf8c5fc692e36d52efd89e296,build-pdf-docs,[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make rm commands = rm -rf doc/build/pdf sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,178,32
openstack%2Ftripleo-ansible~master~I856ca2cac31b100995c6a3e6b53199b921b2b627,openstack/tripleo-ansible,master,I856ca2cac31b100995c6a3e6b53199b921b2b627,Add the Apache license to the overcloud-delete playbook,MERGED,2019-10-10 13:48:06.000000000,2019-10-12 01:28:41.000000000,2019-10-12 01:28:41.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-10 13:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a43eb148e128774724f36a4ad2540ffe4922f7e', 'message': ""Add the Apache license to the overcloud-delete playbook\n\nThis is present in the other playbooks but wasn't added to overcloud\ndelete.\n\nChange-Id: I856ca2cac31b100995c6a3e6b53199b921b2b627\n""}, {'number': 2, 'created': '2019-10-10 13:50:39.000000000', 'files': ['tripleo_ansible/playbooks/overcloud-delete.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ede9d159fde66f3b43748199580cd8c2517d5675', 'message': ""Add the Apache license to the overcloud-delete playbook\n\nThis is present in the other playbooks but wasn't added to overcloud\ndelete.\n\nChange-Id: I856ca2cac31b100995c6a3e6b53199b921b2b627\n""}]",0,687899,ede9d159fde66f3b43748199580cd8c2517d5675,11,6,2,9712,,,0,"Add the Apache license to the overcloud-delete playbook

This is present in the other playbooks but wasn't added to overcloud
delete.

Change-Id: I856ca2cac31b100995c6a3e6b53199b921b2b627
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/99/687899/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/overcloud-delete.yaml'],1,6a43eb148e128774724f36a4ad2540ffe4922f7e,,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License.",,13,0
openstack%2Foctavia~master~Idb9e0a9846ff419cd2915865954b19396699e35d,openstack/octavia,master,Idb9e0a9846ff419cd2915865954b19396699e35d,Fix confused comment in create certificate script,ABANDONED,2019-09-25 10:49:23.000000000,2019-10-12 01:11:15.000000000,,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29870}]","[{'number': 1, 'created': '2019-09-25 10:49:23.000000000', 'files': ['bin/create_single_CA_intermediate_CA.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fc6b881c58a7088867349e69bfc237e2d20e1bd5', 'message': 'Fix confused comment in create certificate script\n\nChange-Id: Idb9e0a9846ff419cd2915865954b19396699e35d\n'}]",0,684705,fc6b881c58a7088867349e69bfc237e2d20e1bd5,8,4,1,29870,,,0,"Fix confused comment in create certificate script

Change-Id: Idb9e0a9846ff419cd2915865954b19396699e35d
",git fetch https://review.opendev.org/openstack/octavia refs/changes/05/684705/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/create_single_CA_intermediate_CA.sh'],1,fc6b881c58a7088867349e69bfc237e2d20e1bd5,,# Create the client controller certificate,# Create the controller client certificate,1,1
openstack%2Ftripleo-ansible~master~I3a7424950c165e63767edcc0e921ce486f4f0c73,openstack/tripleo-ansible,master,I3a7424950c165e63767edcc0e921ce486f4f0c73,Use executable for podman container from params,MERGED,2019-10-11 11:36:13.000000000,2019-10-12 01:10:37.000000000,2019-10-12 01:10:37.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-11 11:36:13.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aa4161ee03e429390222c350a35c4307cf92c342', 'message': 'Use executable for podman container from params\n\ntill now execultable parameter was ignored, use it for creating\npodman commands.\nChange-Id: I3a7424950c165e63767edcc0e921ce486f4f0c73\n'}]",1,688107,aa4161ee03e429390222c350a35c4307cf92c342,9,6,1,10969,,,0,"Use executable for podman container from params

till now execultable parameter was ignored, use it for creating
podman commands.
Change-Id: I3a7424950c165e63767edcc0e921ce486f4f0c73
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/07/688107/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/podman_container.py'],1,aa4161ee03e429390222c350a35c4307cf92c342,exec," module_exec = module.params['executable'] rc, out, err = run_podman_command(module, executable=module_exec, args=['image', 'exists', image], rc, out, err = run_podman_command(module, executable=module_exec, args=['image', 'pull', image], executable=self.module.params['executable'],"," rc, out, err = run_podman_command(module, args=['image', 'exists', image], rc, out, err = run_podman_command(module, args=['image', 'pull', image],",6,2
openstack%2Fpuppet-octavia~master~I26ad5d41239b6e770e975dc6f78fc46a87803220,openstack/puppet-octavia,master,I26ad5d41239b6e770e975dc6f78fc46a87803220,Add keepalivd vrrp parameters,MERGED,2019-10-11 12:04:18.000000000,2019-10-12 01:05:12.000000000,2019-10-12 01:04:09.000000000,"[{'_account_id': 6681}, {'_account_id': 9414}, {'_account_id': 11628}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-10-11 12:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/2f60052d82a853fa3404636fcde454ebec705bd0', 'message': 'Add keepalivd vrrp parameters\n\nChange-Id: I26ad5d41239b6e770e975dc6f78fc46a87803220\n'}, {'number': 2, 'created': '2019-10-11 12:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/427626897ec4fa0a6876f7f4868bbf14a8971e25', 'message': 'Add keepalivd vrrp parameters\n\nChange-Id: I26ad5d41239b6e770e975dc6f78fc46a87803220\n'}, {'number': 3, 'created': '2019-10-11 12:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/3ffeaef12e171cab903f078e316801085683072d', 'message': 'Add keepalivd vrrp parameters\n\nChange-Id: I26ad5d41239b6e770e975dc6f78fc46a87803220\n'}, {'number': 4, 'created': '2019-10-11 13:17:51.000000000', 'files': ['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/add-vrrp-keepalived-params-81f235f8cc411c42.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/8fd7b2e0ff231a602167af98f8fe7729c872b319', 'message': 'Add keepalivd vrrp parameters\n\nChange-Id: I26ad5d41239b6e770e975dc6f78fc46a87803220\n'}]",0,688110,8fd7b2e0ff231a602167af98f8fe7729c872b319,12,6,4,6469,,,0,"Add keepalivd vrrp parameters

Change-Id: I26ad5d41239b6e770e975dc6f78fc46a87803220
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/10/688110/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/add-vrrp-keepalived-params-81f235f8cc411c42.yaml']",3,2f60052d82a853fa3404636fcde454ebec705bd0,actstby,--- features: - Added Keepalived VRRP parameters. ,,82,25
openstack%2Ftripleo-ci~master~I19db35a317994b6b7dd4548f6fb78d8cc518f4c7,openstack/tripleo-ci,master,I19db35a317994b6b7dd4548f6fb78d8cc518f4c7,Use Ansible 2.8 on tripleo-ci-base,MERGED,2019-08-30 09:38:23.000000000,2019-10-12 00:19:40.000000000,2019-10-12 00:19:40.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 25402}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-08-30 09:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a93c11eebff069efd955aafb21fd6b5a96e4d059', 'message': 'Use Ansible 2.8 on tripleo-ci-base\n\nThis increased the adoption of Ansible 2.8 to all jobs inheriting from\ntripleo-ci-base.\n\nChange-Id: I19db35a317994b6b7dd4548f6fb78d8cc518f4c7\nTask: https://tree.taiga.io/project/tripleo-ci-board/task/1256\n'}, {'number': 2, 'created': '2019-08-30 15:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/df7d04da5aefb5fa5ac02dddff1248902dbd9a63', 'message': 'Use Ansible 2.8 on tripleo-ci-base\n\nThis increased the adoption of Ansible 2.8 to all jobs inheriting from\ntripleo-ci-base.\n\nChange-Id: I19db35a317994b6b7dd4548f6fb78d8cc518f4c7\nTask: https://tree.taiga.io/project/tripleo-ci-board/task/1256\nDepends-On: https://review.opendev.org/#/c/679459/\n'}, {'number': 3, 'created': '2019-09-04 20:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/66330c68deca2b498cabad509c5d89bbb1eab876', 'message': 'Use Ansible 2.8 on tripleo-ci-base\n\nThis increased the adoption of Ansible 2.8 to all jobs inheriting from\ntripleo-ci-base.\n\nChange-Id: I19db35a317994b6b7dd4548f6fb78d8cc518f4c7\nTask: https://tree.taiga.io/project/tripleo-ci-board/task/1256\nDepends-On: https://review.opendev.org/#/c/679459/\n'}, {'number': 4, 'created': '2019-09-09 16:36:37.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3779cca7c7ab395804be13d537af36e58e48472f', 'message': 'Use Ansible 2.8 on tripleo-ci-base\n\nThis increased the adoption of Ansible 2.8 to all jobs inheriting from\ntripleo-ci-base.\n\nChange-Id: I19db35a317994b6b7dd4548f6fb78d8cc518f4c7\nTask: https://tree.taiga.io/project/tripleo-ci-board/task/1256\nDepends-On: https://review.opendev.org/#/c/679459/ (merged)\nDepends-On: https://review.opendev.org/#/c/680954/\n'}]",1,679409,3779cca7c7ab395804be13d537af36e58e48472f,52,13,4,24162,,,0,"Use Ansible 2.8 on tripleo-ci-base

This increased the adoption of Ansible 2.8 to all jobs inheriting from
tripleo-ci-base.

Change-Id: I19db35a317994b6b7dd4548f6fb78d8cc518f4c7
Task: https://tree.taiga.io/project/tripleo-ci-board/task/1256
Depends-On: https://review.opendev.org/#/c/679459/ (merged)
Depends-On: https://review.opendev.org/#/c/680954/
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/09/679409/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,a93c11eebff069efd955aafb21fd6b5a96e4d059,centos8, # min version to use (needed for proper python interpreter detection) ansible-version: 2.8,,2,0
openstack%2Fpuppet-vitrage~stable%2Ftrain~I826f9448704978655bb2f685bdaf913232fe0de1,openstack/puppet-vitrage,stable/train,I826f9448704978655bb2f685bdaf913232fe0de1,Switch to Train,MERGED,2019-10-09 23:20:35.000000000,2019-10-11 23:27:33.000000000,2019-10-11 23:27:33.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:20:35.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/b2326d070a8cc602e5db1faa5c87ce376183671f', 'message': 'Switch to Train\n\nChange-Id: I826f9448704978655bb2f685bdaf913232fe0de1\n'}]",0,687734,b2326d070a8cc602e5db1faa5c87ce376183671f,11,4,1,16137,,,0,"Switch to Train

Change-Id: I826f9448704978655bb2f685bdaf913232fe0de1
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/34/687734/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,b2326d070a8cc602e5db1faa5c87ce376183671f,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fdesignate~master~I087d050a06759679ea5aa6e8c3b94e54e22a9ad9,openstack/designate,master,I087d050a06759679ea5aa6e8c3b94e54e22a9ad9,fix ListObjectMixin._obj_from_primitive bug,MERGED,2019-09-27 09:07:30.000000000,2019-10-11 22:53:28.000000000,2019-10-11 22:51:49.000000000,"[{'_account_id': 15736}, {'_account_id': 17130}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 30380}]","[{'number': 1, 'created': '2019-09-27 09:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/203a58c237bd4d66572a54693b1db489fdabef57', 'message': ""fix ListObjectMixin._obj_from_primitive bug\n\nThe current method, if primitive don't contain changes, resolves to include\nchanges. I don't think instance._obj_changes are useful. so change to\ninstance._changed_fields\n\nChange-Id: I087d050a06759679ea5aa6e8c3b94e54e22a9ad9\n""}, {'number': 2, 'created': '2019-10-03 07:37:29.000000000', 'files': ['designate/tests/unit/objects/test_base.py', 'designate/objects/base.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/4025db32876ab3d42b220859555d6368e52e2711', 'message': ""fix ListObjectMixin._obj_from_primitive bug\n\nThe current method, if primitive don't contain changes, resolves to include\nchanges. I don't think instance._obj_changes are useful. so change to\ninstance._changed_fields\n\nChange-Id: I087d050a06759679ea5aa6e8c3b94e54e22a9ad9\n""}]",0,685259,4025db32876ab3d42b220859555d6368e52e2711,16,6,2,30380,,,0,"fix ListObjectMixin._obj_from_primitive bug

The current method, if primitive don't contain changes, resolves to include
changes. I don't think instance._obj_changes are useful. so change to
instance._changed_fields

Change-Id: I087d050a06759679ea5aa6e8c3b94e54e22a9ad9
",git fetch https://review.opendev.org/openstack/designate refs/changes/59/685259/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/objects/test_base.py', 'designate/objects/base.py']",2,203a58c237bd4d66572a54693b1db489fdabef57,, instance._changed_fields = set(, instance._obj_changes = set(,71,1
openstack%2Fpuppet-cloudkitty~master~I8e953e412f0cefe13e5e95edc86b31dbe5cd3b7a,openstack/puppet-cloudkitty,master,I8e953e412f0cefe13e5e95edc86b31dbe5cd3b7a,Update master for stable/train,MERGED,2019-10-11 16:12:58.000000000,2019-10-11 22:30:05.000000000,2019-10-11 22:28:43.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 16:12:58.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/08890b904acb5649ee72e10d9ab07257126d7ddc', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I8e953e412f0cefe13e5e95edc86b31dbe5cd3b7a\nSem-Ver: feature\n'}]",0,688163,08890b904acb5649ee72e10d9ab07257126d7ddc,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I8e953e412f0cefe13e5e95edc86b31dbe5cd3b7a
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/63/688163/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,08890b904acb5649ee72e10d9ab07257126d7ddc,reno-train, train,,7,0
openstack%2Ftripleo-common~master~If6cbbed0b85ee532e909a79cb828d818eaf71387,openstack/tripleo-common,master,If6cbbed0b85ee532e909a79cb828d818eaf71387,Revert the re-authentication logic,ABANDONED,2019-09-18 16:38:58.000000000,2019-10-11 22:25:08.000000000,,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-09-18 16:38:58.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_export.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/image/test_image_export.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/482114a32c120c085db2772749c1e5f65d1b2c46', 'message': 'Revert the re-authentication logic\n\nRevert ""Log exceptions when checking status""\nRevert ""Add reauthentication to sessions""\n\nThis change combines the two reverts to ensure all of the\nre-auth logic is removed at the same time.\n\nThis reverts commit 0775e8d13024b7578f90ecd893ba1fe869fee045.\nThis reverts commit e06cf4482da855d63ab21f8183cea66499e6f5f9.\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: If6cbbed0b85ee532e909a79cb828d818eaf71387\n'}]",0,682945,482114a32c120c085db2772749c1e5f65d1b2c46,13,5,1,7353,,,0,"Revert the re-authentication logic

Revert ""Log exceptions when checking status""
Revert ""Add reauthentication to sessions""

This change combines the two reverts to ensure all of the
re-auth logic is removed at the same time.

This reverts commit 0775e8d13024b7578f90ecd893ba1fe869fee045.
This reverts commit e06cf4482da855d63ab21f8183cea66499e6f5f9.
Signed-off-by: Kevin Carter <kecarter@redhat.com>

Change-Id: If6cbbed0b85ee532e909a79cb828d818eaf71387
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/45/682945/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_export.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/image/test_image_export.py']",4,482114a32c120c085db2772749c1e5f65d1b2c46,," self.assertRaises(IOError, image_export.export_stream,","import requests self.assertRaises(requests.exceptions.HTTPError, image_export.export_stream,",124,337
openstack%2Ftripleo-common~master~Ibeba7db3b376a208715f9f2710d0f28be7e9f030,openstack/tripleo-common,master,Ibeba7db3b376a208715f9f2710d0f28be7e9f030,"Revert ""Add reauthentication to sessions""",ABANDONED,2019-09-18 01:00:15.000000000,2019-10-11 22:24:48.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-09-18 01:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/14a29f528005e5ce92bcd728df996981bbb62c42', 'message': 'Revert ""Add reauthentication to sessions""\n\nThis reverts commit 0775e8d13024b7578f90ecd893ba1fe869fee045.\n\nChange-Id: Ibeba7db3b376a208715f9f2710d0f28be7e9f030\n'}, {'number': 2, 'created': '2019-09-18 01:30:57.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b119dedc1aaa1c117dda92b0b28c0a31b806e333', 'message': 'Revert ""Add reauthentication to sessions""\n\nThis reverts commit 0775e8d13024b7578f90ecd893ba1fe869fee045.\n\nChange-Id: Ibeba7db3b376a208715f9f2710d0f28be7e9f030\n'}]",1,682769,b119dedc1aaa1c117dda92b0b28c0a31b806e333,10,8,2,9592,,,0,"Revert ""Add reauthentication to sessions""

This reverts commit 0775e8d13024b7578f90ecd893ba1fe869fee045.

Change-Id: Ibeba7db3b376a208715f9f2710d0f28be7e9f030
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/69/682769/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,14a29f528005e5ce92bcd728df996981bbb62c42,log-exceptions," def authenticate(self, image_url, username=None, password=None): tags_r = tags_f.result() manifest_r.raise_for_status() tags_r.raise_for_status() config_r.raise_for_status() r.raise_for_status() r.raise_for_status() r.raise_for_status() r.raise_for_status() blob_req.raise_for_status() r.raise_for_status() r.raise_for_status(), r.raise_for_status() upload_resp.raise_for_status() upload_resp.raise_for_status()"," def authenticate(self, image_url, username=None, password=None, session=None): setattr(session, 'reauthenticate', self.authenticate) setattr( session, 'auth_args', dict( image_url=image_url, username=username, password=password, session=session ) ) @staticmethod def check_status(session, request): if hasattr(session, 'reauthenticate'): if request.status_code == 401: session.reauthenticate(**session.auth_args) if hasattr(request, 'text'): raise requests.exceptions.HTTPError(request.text) else: raise SystemError() request.raise_for_status() cls.check_status(session=session, request=manifest_r) tags_r = tags_f.result() cls.check_status(session=session, request=tags_r) cls.check_status(session=session, request=config_r) cls.check_status(session=session, request=r) cls.check_status(session=session, request=r) cls.check_status(session=session, request=r) cls.check_status(session=session, request=r) cls.check_status(session=session, request=blob_req) cls.check_status(session=source_session, request=r) cls.check_status(session=target_session, request=r) cls.check_status(session=target_session, request=r) cls.check_status(session=session, request=upload_resp) cls.check_status(session=session, request=upload_resp)",16,39
openstack%2Fironic~master~I04bceec76818091aaf866813e4f97be2db29a58d,openstack/ironic,master,I04bceec76818091aaf866813e4f97be2db29a58d,Rework ironic landing page new docs standard,ABANDONED,2018-07-27 17:41:40.000000000,2019-10-11 22:18:13.000000000,,"[{'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 19339}, {'_account_id': 20156}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2018-07-27 17:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9c2abe5db98d02b8fb71c9e4e1a6c7763efdaea9', 'message': 'Rework ironic landing page new docs standard\n\nUpdate the ironic landing page to align with the\nproposed documentation landing page spec template.\n\nChange-Id: I04bceec76818091aaf866813e4f97be2db29a58d\n'}, {'number': 2, 'created': '2018-07-30 19:58:59.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/index.rst', 'doc/source/images/OpenStack_Project_Ironic_horizontal.png'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ff345d24874ec3a40088ff7d8d3cb3659b9f406a', 'message': 'Rework ironic landing page new docs standard\n\nUpdate the ironic landing page to align with the\nproposed documentation landing page spec template.\n\nChange-Id: I04bceec76818091aaf866813e4f97be2db29a58d\n'}]",2,586627,ff345d24874ec3a40088ff7d8d3cb3659b9f406a,15,6,2,11655,,,0,"Rework ironic landing page new docs standard

Update the ironic landing page to align with the
proposed documentation landing page spec template.

Change-Id: I04bceec76818091aaf866813e4f97be2db29a58d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/27/586627/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/index.rst']",2,9c2abe5db98d02b8fb71c9e4e1a6c7763efdaea9,586627,"================================================================= OpenStack Ironic (Baremetal) documentation ================================================================= .. figure:: https://www.openstack.org/themes/openstack/images/project-mascots/Ironic/OpenStack_Project_Ironic_horizontal.jpg :alt: ironic logo :scale: 40% :align: center What is ironic? ---------------------Network (neutron), Image (glance), Object (swift), and Block (cinder) services.For end users ------------- As an end user of ironic, you want to... so that... .. TODO(TheJulia): We need to elaborate here. Or do we? Using ironic ~~~~~~~~~~~~~~~~~ Contents: :maxdepth: 1 user/index Using the ironic API ~~~~~~~~~~~~~~~~~~~~~~~~~ For operators ------------- As an operator of ironic, you want to... so that... .. TODO(TheJulia): We need to elaborate here. Or do we? Installing ironic ~~~~~~~~~~~~~~~~~~~~~~ Contents: :maxdepth: 1 install/index Administrating ironic ~~~~~~~~~~~~~~~~~~~~~~~~~~ Contents: :maxdepth: 1 admin/index admin/upgrade-guide admin/upgrade-to-hardware-types Reference ~~~~~~~~~ Contents: .. toctree:: :maxdepth: 1 configuration/index cli/index Additional resources ~~~~~~~~~~~~~~~~~~~~ * `ironic release notes <https://docs.openstack.org/releasenotes/ironic/>`_ For contributors ---------------- As a contributor to ironic, learn more about how to get started as a contributor... and how to... Getting started ~~~~~~~~~~~~~~~ * `OpenStack Contributor Guide <https://docs.openstack.org/contributors/>`_ Contributing to ironic ~~~~~~~~~~~~~~~~~~~~~~~~~~~ Contents: .. toctree:: :maxdepth: 1~~~~~~~~~~~~~~~~~~ Contents:* :ref:`modindex` Search ------ ","================================== Welcome to Ironic's documentation! ================================== Introduction ============Network (neutron), Image (glance), and Object (swift) services.This documentation is continually updated and may not represent the state of the project at any specific prior release. To access documentation for a previous release of ironic, append the OpenStack release name to the URL; for example, the ``ocata`` release is available at https://docs.openstack.org/ironic/ocata/. Installation Guide ================== :maxdepth: 2 install/index Upgrade Guide ============= .. toctree:: :maxdepth: 2 admin/upgrade-guide admin/upgrade-to-hardware-types User Guide ========== .. toctree:: :maxdepth: 2 user/index Administrator Guide =================== .. toctree:: :maxdepth: 2 admin/index Configuration Guide =================== .. toctree:: :maxdepth: 2 configuration/index Bare Metal API References ========================= Ironic's REST API has changed since its first release, and continues to evolve to meet the changing needs of the community. Here we provide a conceptual guide as well as more detailed reference documentation.Command References ================== Here are references for commands not elsewhere documented. :maxdepth: 2 cli/index Contributor Guide ================= :maxdepth: 2Release Notes ============= `Release Notes <https://docs.openstack.org/releasenotes/ironic/>`_ ==================",93,68
openstack%2Fironic~master~Id8c3a0f61992f7ed16a9be6db03ff392b3cf120c,openstack/ironic,master,Id8c3a0f61992f7ed16a9be6db03ff392b3cf120c,update some ci jobs,ABANDONED,2019-08-15 16:39:10.000000000,2019-10-11 22:16:02.000000000,,"[{'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-15 16:39:10.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9458fddd5d8a479b0bad4a2e5b53495783775bcf', 'message': 'update some ci jobs\n\nChanged one of the jobs to no longer use\ncleaning since it seemed pointless to generate the\nextra load upon CI.\n\nAlso removed one of the explicit -python3 jobs and\nchanged the original job to use python3.\n\nChanged a few other jobs to use python3.\n\nChange-Id: Id8c3a0f61992f7ed16a9be6db03ff392b3cf120c\n'}]",0,676734,9458fddd5d8a479b0bad4a2e5b53495783775bcf,5,3,1,11655,,,0,"update some ci jobs

Changed one of the jobs to no longer use
cleaning since it seemed pointless to generate the
extra load upon CI.

Also removed one of the explicit -python3 jobs and
changed the original job to use python3.

Changed a few other jobs to use python3.

Change-Id: Id8c3a0f61992f7ed16a9be6db03ff392b3cf120c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/34/676734/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml']",2,9458fddd5d8a479b0bad4a2e5b53495783775bcf,bug/1619339,, - ironic-tempest-ipa-partition-pxe_ipmitool-tinyipa-python3 - ironic-tempest-ipa-partition-pxe_ipmitool-tinyipa-python3,3,11
openstack%2Fcharm-nova-cloud-controller~master~If7c37ef8936e418b5afd21d83c9322563348cbcf,openstack/charm-nova-cloud-controller,master,If7c37ef8936e418b5afd21d83c9322563348cbcf,Disable nova placement API,MERGED,2019-09-10 20:35:18.000000000,2019-10-11 22:11:06.000000000,2019-10-11 22:11:06.000000000,"[{'_account_id': 11805}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-10 20:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/83b7903b3191970e3367d9591d97cc6e83f91ef7', 'message': 'Drop nova placement API in Train\n\nThe placement project has split from nova into its own project\nin Train. This patch removes the placement API from the\nnova-cloud-controller charm in preparation for creating a new\nplacement charm.\n\nChange-Id: If7c37ef8936e418b5afd21d83c9322563348cbcf\nPartial-Bug: 1811681\n'}, {'number': 2, 'created': '2019-09-10 20:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/859a8b1a212a268ab4cb9b40348dad5bb336f2aa', 'message': 'Drop nova placement API in Train\n\nThe placement project has split from nova into its own project\nin Train. This patch removes the placement API from the\nnova-cloud-controller charm in preparation for creating a new\nplacement charm.\n\nChange-Id: If7c37ef8936e418b5afd21d83c9322563348cbcf\nPartial-Bug: 1811681\n'}, {'number': 3, 'created': '2019-09-12 16:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/bb96624f2950cd76b28e3f6f5d0e11613684624a', 'message': 'Disable nova placement API in Train\n\nThe placement project has split from nova into its own project\nin Train. This patch disables the nova placement API for train\nand above in preparation for creating a new placement charm.\n\nChange-Id: If7c37ef8936e418b5afd21d83c9322563348cbcf\nPartial-Bug: 1811681\n'}, {'number': 4, 'created': '2019-10-02 14:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/413e66c8ad7e76b7d877c7b377bfb3d66dd9a707', 'message': 'Disable nova placement API\n\nThe placement project has split from nova into its own project\nin Train. This patch disables the nova placement API as of Stein\nwhen the placement charm relatation joins, and discontinues\nnova placement installation as of Train for new installs.\n\nChange-Id: If7c37ef8936e418b5afd21d83c9322563348cbcf\nPartial-Bug: 1811681\n'}, {'number': 5, 'created': '2019-10-03 20:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/7a717b47e2aae584dc42be481669f80fa0f323bd', 'message': 'Disable nova placement API\n\nThe placement project has split from nova into its own project\nin Train. This patch disables the nova placement API as of Stein\nwhen the placement charm relatation joins, and discontinues\nnova placement installation as of Train for new installs.\n\nChange-Id: If7c37ef8936e418b5afd21d83c9322563348cbcf\nPartial-Bug: 1811681\n'}, {'number': 6, 'created': '2019-10-04 13:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/c46876b534e9c9b0ae50552164362ed4323bb6fc', 'message': 'Disable nova placement API\n\nThe placement project has split from nova into its own project\nin Train. This patch disables the nova placement API as of Stein\nwhen the placement charm relatation joins, and discontinues\nnova placement installation as of Train for new installs.\n\nChange-Id: If7c37ef8936e418b5afd21d83c9322563348cbcf\nPartial-Bug: 1811681\n'}, {'number': 7, 'created': '2019-10-07 20:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/05be75688b2000c46e5d1c439056ae2901c2d813', 'message': 'Disable nova placement API\n\nThe placement project has split from nova into its own project\nin Train. This patch disables the nova placement API as of Stein\nwhen the placement charm relatation joins, and discontinues\nnova placement installation as of Train for new installs.\n\nChange-Id: If7c37ef8936e418b5afd21d83c9322563348cbcf\nPartial-Bug: 1811681\n'}, {'number': 8, 'created': '2019-10-07 23:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/539d7a28ddfde99bb3573ba1afa1c189497be934', 'message': 'Disable nova placement API\n\nThe placement project has split from nova into its own project\nin Train. This patch disables the nova placement API as of Stein\nwhen the placement charm relatation joins, and discontinues\nnova placement installation as of Train for new installs.\n\nChange-Id: If7c37ef8936e418b5afd21d83c9322563348cbcf\nPartial-Bug: 1811681\n'}, {'number': 9, 'created': '2019-10-08 17:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/75a4d9e9c29fe53526f3199ab3dcb8ca5f36d9e6', 'message': 'Disable nova placement API\n\nThe placement project has split from nova into its own project\nin Train. This patch disables the nova placement API as of Stein\nwhen the placement charm relatation joins, and discontinues\nnova placement installation as of Train for new installs.\n\nChange-Id: If7c37ef8936e418b5afd21d83c9322563348cbcf\nPartial-Bug: 1811681\n'}, {'number': 10, 'created': '2019-10-08 18:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/b8bb21684d37e50e082f4d02bda108c6506b0324', 'message': 'Disable nova placement API\n\nThe placement project has split from nova into its own project\nin Train. This patch disables the nova placement API as of Stein\nwhen the placement charm relatation joins, and discontinues\nnova placement installation as of Train for new installs.\n\nChange-Id: If7c37ef8936e418b5afd21d83c9322563348cbcf\nPartial-Bug: 1811681\n'}, {'number': 11, 'created': '2019-10-08 18:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/ad79c3db79c96b08a7dc1e87311e32ed9725a57b', 'message': 'Disable nova placement API\n\nThe placement project has split from nova into its own project\nin Train. This patch disables the nova placement API as of Stein\nwhen the placement charm relatation joins, and discontinues\nnova placement installation as of Train for new installs.\n\nChange-Id: If7c37ef8936e418b5afd21d83c9322563348cbcf\nPartial-Bug: 1811681\n'}, {'number': 12, 'created': '2019-10-10 20:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/f4e0a814115024e50ac8fda126bc370d86f6f81b', 'message': 'Disable nova placement API\n\nThe placement project has split from nova into its own project\nin Train. This patch disables the nova placement API as of Stein\nwhen the placement charm relatation joins, and discontinues\nnova placement installation as of Train for new installs.\n\nChange-Id: If7c37ef8936e418b5afd21d83c9322563348cbcf\nNeeded-By: https://review.opendev.org/#/c/687915/\nPartial-Bug: 1811681\n'}, {'number': 13, 'created': '2019-10-11 20:00:48.000000000', 'files': ['hooks/placement-relation-joined', 'unit_tests/test_nova_cc_hooks.py', 'tests/basic_deployment.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_context.py', 'hooks/placement-relation-changed', 'hooks/nova_cc_utils.py', 'unit_tests/test_nova_cc_contexts.py', 'metadata.yaml', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/81860afeca1b189dfcd8c06c67efcb94d67eeec5', 'message': 'Disable nova placement API\n\nThe placement project has split from nova into its own project\nin Train. This patch disables the nova placement API as of Stein\nwhen the placement charm relatation joins, and discontinues\nnova placement installation as of Train for new installs.\n\nChange-Id: If7c37ef8936e418b5afd21d83c9322563348cbcf\nNeeded-By: https://review.opendev.org/#/c/687915/\nPartial-Bug: 1811681\n'}]",10,681343,81860afeca1b189dfcd8c06c67efcb94d67eeec5,66,5,13,11805,,,0,"Disable nova placement API

The placement project has split from nova into its own project
in Train. This patch disables the nova placement API as of Stein
when the placement charm relatation joins, and discontinues
nova placement installation as of Train for new installs.

Change-Id: If7c37ef8936e418b5afd21d83c9322563348cbcf
Needed-By: https://review.opendev.org/#/c/687915/
Partial-Bug: 1811681
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/43/681343/9 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/nova.conf', 'tests/basic_deployment.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_context.py', 'hooks/nova_cc_utils.py']",5,83b7903b3191970e3367d9591d97cc6e83f91ef7,bug/1811681," 'train': ['nova-placement-api'], if (cmp_os_rel >= 'ocata' and cmp_os_rel <= 'stein'): if (cmp_os_rel >= 'ocata' and cmp_os_rel <= 'stein'): (ch_utils.os_release('nova-common')) >= 'ocata' and ch_utils.os_release('nova-common')) <= 'stein')", if cmp_os_rel >= 'ocata': if cmp_os_rel >= 'ocata': ch_utils.os_release('nova-common')) >= 'ocata',287,7
openstack%2Fopenstack-zuul-jobs~master~I9372a6ab2fd56fa0a4e003f91155242f931a8a86,openstack/openstack-zuul-jobs,master,I9372a6ab2fd56fa0a4e003f91155242f931a8a86,DNM: exercise base-test job,ABANDONED,2019-10-11 20:52:47.000000000,2019-10-11 21:47:06.000000000,,"[{'_account_id': 1}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 20:52:47.000000000', 'files': ['doc/source/index.rst', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a8f417356ffdb28c5e5c124c4860c58000764c5b', 'message': 'DNM: exercise base-test job\n\nChange-Id: I9372a6ab2fd56fa0a4e003f91155242f931a8a86\n'}]",0,688202,a8f417356ffdb28c5e5c124c4860c58000764c5b,4,2,1,5263,,,0,"DNM: exercise base-test job

Change-Id: I9372a6ab2fd56fa0a4e003f91155242f931a8a86
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/02/688202/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'zuul.d/project.yaml']",2,a8f417356ffdb28c5e5c124c4860c58000764c5b,, - opendev-tox-docs-temporary-test, templates: - publish-tox-docs-infra - openstack-zuul-jobs-test-mirror-info - openstack-infra-extra-integration-xenial - openstack-infra-extra-integration-bionic - openstack-zuul-jobs-linters gate: jobs: - openstack-zuul-jobs-test-mirror-info - openstack-zuul-jobs-linters,5,10
openstack%2Fheat~master~I7822cef1a64dbe285b78565ef39ee0673e32a545,openstack/heat,master,I7822cef1a64dbe285b78565ef39ee0673e32a545,DNM try to reproduce DB session test failures,ABANDONED,2019-10-09 20:31:36.000000000,2019-10-11 20:56:48.000000000,,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 20:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/74ab17885accb7955e74b497afd7d4920f8a7655', 'message': 'DNM try to reproduce DB session test failures\n\nChange-Id: I7822cef1a64dbe285b78565ef39ee0673e32a545\nStory: 2006680\n'}, {'number': 2, 'created': '2019-10-10 01:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d90769846334f74b7531dfeb70e05233b2a9916f', 'message': 'DNM try to reproduce DB session test failures\n\nChange-Id: I7822cef1a64dbe285b78565ef39ee0673e32a545\nStory: 2006680\n'}, {'number': 3, 'created': '2019-10-11 01:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1c3683523628caca0eb43907caf533062a6099a2', 'message': 'DNM try to reproduce DB session test failures\n\nChange-Id: I7822cef1a64dbe285b78565ef39ee0673e32a545\nStory: 2006680\n'}, {'number': 4, 'created': '2019-10-11 18:33:29.000000000', 'files': ['.zuul.yaml', 'heat/db/sqlalchemy/api.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/c91dfdf121b0321d5068c69393189f9ffebd46d7', 'message': 'DNM try to reproduce DB session test failures\n\nChange-Id: I7822cef1a64dbe285b78565ef39ee0673e32a545\nStory: 2006680\n'}]",0,687670,c91dfdf121b0321d5068c69393189f9ffebd46d7,12,2,4,4257,,,0,"DNM try to reproduce DB session test failures

Change-Id: I7822cef1a64dbe285b78565ef39ee0673e32a545
Story: 2006680
",git fetch https://review.opendev.org/openstack/heat refs/changes/70/687670/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'heat/db/sqlalchemy/api.py', 'heat/engine/resource.py']",3,74ab17885accb7955e74b497afd7d4920f8a7655,," attempts = max(cfg.CONF.client_retry_limit, 0) + 5"," attempts = max(cfg.CONF.client_retry_limit, 0) + 1",6,16
openstack%2Fpuppet-nova~stable%2Frocky~Iae595796559cc6551d8ae27e2573122a8a2da15d,openstack/puppet-nova,stable/rocky,Iae595796559cc6551d8ae27e2573122a8a2da15d,"Fix ""More than one line in file '/etc/sysconfig/libvirtd' matches pattern"" errors",MERGED,2019-10-10 22:11:53.000000000,2019-10-11 20:27:34.000000000,2019-10-11 20:27:34.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 17130}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 22:11:53.000000000', 'files': ['manifests/migration/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f27f46bbb3ef8edc4b65ce4c3298b94b4c67b365', 'message': 'Fix ""More than one line in file \'/etc/sysconfig/libvirtd\' matches pattern"" errors\n\nThe current code that matches the LIBVIRTD_ARGS= lines can have multiple\nmatches if said line shows up multiple times in a comment and we can end\nup with the following error:\n\n  Error: /Stage[main]/Nova::Migration::Libvirt/File_line[/etc/sysconfig/libvirtd libvirtd args]/\n    ensure: change from \'absent\' to \'present\' failed: More than one line in file \'/etc/sysconfig/libvirtd\' matches pattern\n      \'LIBVIRTD_ARGS=\'\n\nFor the record the sysconfig file that triggered this error had the\nfollowing lines:\n\n  # connects.\n  LIBVIRTD_ARGS=""--timeout 120""\n\n  # If systemd socket activation is disabled, then the following\n  # can be used to listen on TCP/TLS sockets\n  #LIBVIRTD_ARGS=""--listen""\n\nTested this change and I correctly did not fail the deployment anymore.\n\nChange-Id: Iae595796559cc6551d8ae27e2573122a8a2da15d\nCloses-Bug: #1847288\n(cherry picked from commit 8377b33bd1e96eda6342d009f85301c5f9acfc03)\n'}]",0,687995,f27f46bbb3ef8edc4b65ce4c3298b94b4c67b365,13,7,1,14985,,,0,"Fix ""More than one line in file '/etc/sysconfig/libvirtd' matches pattern"" errors

The current code that matches the LIBVIRTD_ARGS= lines can have multiple
matches if said line shows up multiple times in a comment and we can end
up with the following error:

  Error: /Stage[main]/Nova::Migration::Libvirt/File_line[/etc/sysconfig/libvirtd libvirtd args]/
    ensure: change from 'absent' to 'present' failed: More than one line in file '/etc/sysconfig/libvirtd' matches pattern
      'LIBVIRTD_ARGS='

For the record the sysconfig file that triggered this error had the
following lines:

  # connects.
  LIBVIRTD_ARGS=""--timeout 120""

  # If systemd socket activation is disabled, then the following
  # can be used to listen on TCP/TLS sockets
  #LIBVIRTD_ARGS=""--listen""

Tested this change and I correctly did not fail the deployment anymore.

Change-Id: Iae595796559cc6551d8ae27e2573122a8a2da15d
Closes-Bug: #1847288
(cherry picked from commit 8377b33bd1e96eda6342d009f85301c5f9acfc03)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/95/687995/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/migration/libvirt.pp'],1,f27f46bbb3ef8edc4b65ce4c3298b94b4c67b365,fix_libvirt_lines-stable/rocky," match => '^LIBVIRTD_ARGS=',"," match => 'LIBVIRTD_ARGS=',",1,1
openstack%2Fironic~master~Icee6254a563bed14221da2723e15855bda9f4082,openstack/ironic,master,Icee6254a563bed14221da2723e15855bda9f4082,Documentation for iLO hardware type deploy steps,MERGED,2019-10-09 06:17:49.000000000,2019-10-11 20:24:26.000000000,2019-10-11 20:21:20.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 17130}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-09 06:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5a24084331c59bad0fbfab77b12cdf56de6180a1', 'message': 'Documentation for iLO hardware type deploy steps\n\nAdds documentation for iLO hardware type deploy steps\n\nStory: 2003817\nTask: 26571\nTask: 30004\nTask: 36061\nStory: 1722275\nTask: 36074\nStory: 1722275\nTask: 29904\n\nChange-Id: Icee6254a563bed14221da2723e15855bda9f4082\n'}, {'number': 2, 'created': '2019-10-09 07:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c84c118929fb14d9093d450e6676fa9f74d7078c', 'message': 'Documentation for iLO hardware type deploy steps\n\nAdds documentation for iLO hardware type deploy steps\n\nStory: 2003817\nTask: 26571\nTask: 30004\nTask: 36061\nStory: 1722275\nTask: 36074\nStory: 1722275\nTask: 29904\n\nChange-Id: Icee6254a563bed14221da2723e15855bda9f4082\n'}, {'number': 3, 'created': '2019-10-09 08:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0484f66b8167df35c67e9f734a5cab684426a3b7', 'message': 'Documentation for iLO hardware type deploy steps\n\nAdds documentation for iLO hardware type deploy steps\n\nStory: 2003817\nTask: 36061\nStory: 1722275\nTask: 29904\nTask: 36074\n\nChange-Id: Icee6254a563bed14221da2723e15855bda9f4082\n'}, {'number': 4, 'created': '2019-10-09 10:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b918e01050126105a3eaf78b6c7320dfe66372ef', 'message': 'Documentation for iLO hardware type deploy steps\n\nAdds documentation for iLO hardware type deploy steps\n\nStory: 2003817\nTask: 26571\nTask: 30004\nTask: 36061\nStory: 1722275\nTask: 36074\nStory: 1722275\nTask: 29904\n\nChange-Id: Icee6254a563bed14221da2723e15855bda9f4082\n'}, {'number': 5, 'created': '2019-10-09 10:20:55.000000000', 'files': ['doc/source/admin/drivers/ilo.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d0489b55e080e764beabae57dd64fcb1de389fac', 'message': 'Documentation for iLO hardware type deploy steps\n\nAdds documentation for iLO hardware type deploy steps\n\nStory: 2003817\nTask: 36061\nStory: 1722275\nTask: 29904\nTask: 36074\nChange-Id: Icee6254a563bed14221da2723e15855bda9f4082\n'}]",7,687456,d0489b55e080e764beabae57dd64fcb1de389fac,22,8,5,11076,,,0,"Documentation for iLO hardware type deploy steps

Adds documentation for iLO hardware type deploy steps

Story: 2003817
Task: 36061
Story: 1722275
Task: 29904
Task: 36074
Change-Id: Icee6254a563bed14221da2723e15855bda9f4082
",git fetch https://review.opendev.org/openstack/ironic refs/changes/56/687456/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/drivers/ilo.rst'],1,5a24084331c59bad0fbfab77b12cdf56de6180a1,ilo_deployment_steps,"* `Node Deployment Support`_Node Deployment Support ^^^^^^^^^^^^^^^^^^^^^^^ The hardware type ``ilo`` supports node deployment. For more information on node deployment, see :ref:`node-deployment-deploy-steps` Supported **Deploy Steps** ~~~~~~~~~~~~~~~~~~~~~~~~~~ * The supported deploy steps are: * ``apply_configuration``: Applies given BIOS settings on the node. See `BIOS configuration support`_. This step is part of ``bios`` interface. * ``factory_reset``: Resets the BIOS settings on the node to factory defaults. See `BIOS configuration support`_. This step is part of ``bios`` interface. * ``reset_bios_to_default``: Resets system ROM settings to default. This step is supported only on Gen9 and above servers. This step is part of ``management`` interface. * ``reset_secure_boot_keys_to_default``: Resets secure boot keys to manufacturer's defaults. This step is supported only on Gen9 and above servers. This step is part of ``management`` interface. * ``reset_ilo_credential``: Resets the iLO password. The password need to be specified in ``ilo_password`` argument of the step. This step is part of ``management`` interface. * ``clear_secure_boot_keys``: Clears all secure boot keys. This step is supported only on Gen9 and above servers. This step is part of ``management`` interface. * ``reset_ilo``: Resets the iLO. This step is part of ``management`` interface. * ``update_firmware``: Updates the firmware of the devices. See `Initiating firmware update as manual clean step`_ for user guidance on usage. The supported devices for firmware update are: ``ilo``, ``cpld``, ``power_pic``, ``bios`` and ``chassis``. This step is part of ``management`` interface. Please refer to below table for their commonly used descriptions. .. csv-table:: :header: ""Device"", ""Description"" :widths: 30, 80 ""``ilo``"", ""BMC for HPE ProLiant servers"" ""``cpld``"", ""System programmable logic device"" ""``power_pic``"", ""Power management controller"" ""``bios``"", ""HPE ProLiant System ROM"" ""``chassis``"", ""System chassis device"" Some devices firmware cannot be updated via this method, such as: storage controllers, host bus adapters, disk drive firmware, network interfaces and Onboard Administrator (OA). * ``apply_configuration``: Applies RAID configuration on the node. See :ref:`raid` for more information. This step is part of ``raid`` interface. * ``delete_configuration``: Deletes RAID configuration on the node. See :ref:`raid` for more information. This step is part of ``raid`` interface. ",,64,0
openstack%2Ftripleo-common~master~If4e84a0273e295267248559c63ae994a5a826004,openstack/tripleo-common,master,If4e84a0273e295267248559c63ae994a5a826004,Log exceptions when checking status,MERGED,2019-08-06 19:26:44.000000000,2019-10-11 20:23:30.000000000,2019-08-22 22:50:20.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9061}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 26297}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-08-06 19:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/546eeb413b0d43150a32b018eed06c05ca0b1dcd', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-08-07 13:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8bb7ed1d4029157fc4f18c705f98ae8d37066529', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-08-08 14:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/66cb3aacb3c4ad49893cc62e9b7938af2bc67830', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-08-13 14:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/81fe1af3cc9e15ee006e6616561283a934a4774a', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2019-08-13 21:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1c9571527a4497f3db8a3bf185362d0ae84628fd', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2019-08-13 23:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8267730cdae22e2f515f61b18240d756e1969bbb', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2019-08-14 03:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/228090d4fcd7f2b282729d827d8e8b5c37dd2f79', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2019-08-14 04:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3837e34a2def78462b6cd1c8ec246045a2d65a42', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2019-08-14 12:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/659770797ac328174e7b90720bd1c111f40229f9', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 10, 'created': '2019-08-14 13:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/48dc8347a9dbdd6f193a8f572f64ae8e587e523c', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 11, 'created': '2019-08-14 17:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/055344bc1df38abfeaec55f19a3afee12b41efcf', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nAn addition retry was added around the `_copy_stream_to_registry` method.\nAfter looking through the logs on failed run, particularly in the OVH\nregion, this method was shown to fail frequently, even after\nre-authentication success.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 12, 'created': '2019-08-14 21:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5c6f572b37057de17f362a9965b851f8895d5e01', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nAn addition retry was added around the `_copy_stream_to_registry` method.\nAfter looking through the logs on failed run, particularly in the OVH\nregion, this method was shown to fail frequently, even after\nre-authentication success.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 13, 'created': '2019-08-15 01:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c5c4b654a1fc888d7a216c1b785e1f458dae1f6e', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nAn addition retry was added around the `_copy_stream_to_registry` and\n`_copy_registry_to_local` methods. After looking through the logs on\nfailed run, particularly in the OVH region, these methods were shown\nto fail frequently with long running transations, even after\nre-authentication success. These new retry strategies should provide\nfor better success in slow regions.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 14, 'created': '2019-08-15 02:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cabe6dd73dce1e92965cea52fa5eddf2c23c12da', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nAn addition retry was added around the `_copy_stream_to_registry` and\n`_copy_registry_to_local` methods. After looking through the logs on\nfailed run, particularly in the OVH region, these methods were shown\nto fail frequently with long running transations, even after\nre-authentication success. These new retry strategies should provide\nfor better success in slow regions.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 15, 'created': '2019-08-15 04:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5ac46f136de2df3f398fee28fe5bb495cd03090b', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nAn addition retry was added around the `_copy_stream_to_registry` and\n`_copy_registry_to_local` methods. After looking through the logs on\nfailed run, particularly in the OVH region, these methods were shown\nto fail frequently with long running transations, even after\nre-authentication success. These new retry strategies should provide\nfor better success in slow regions.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 16, 'created': '2019-08-15 15:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/337ac6e1bda76418b33eedbd1f96035fdf2c77a9', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nAn addition retry was added around the `_copy_stream_to_registry` and\n`_copy_registry_to_local` methods. After looking through the logs on\nfailed run, particularly in the OVH region, these methods were shown\nto fail frequently with long running transations, even after\nre-authentication success. These new retry strategies should provide\nfor better success in slow regions.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 17, 'created': '2019-08-15 16:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b8ce1f7c6f7e3f0b31a3626f5919f607c8e6ef95', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nAn addition retry was added around the `_copy_stream_to_registry` and\n`_copy_registry_to_local` methods. After looking through now available\nlogs on failed runs, particularly in the OVH region, these methods\nwere shown to fail frequently with long running transations, even\nafter re-authentication success. These new retry strategies should\nprovide for better success in slow regions.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 18, 'created': '2019-08-15 19:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/33eb77420527d4fad75d60c0a5ddc716650daf7e', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nAn addition retry was added around the `_copy_stream_to_registry` and\n`_copy_registry_to_local` methods. After looking through now available\nlogs on failed runs, particularly in the OVH region, these methods\nwere shown to fail frequently with long running transations, even\nafter re-authentication success. These new retry strategies should\nprovide for better success in slow regions.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 19, 'created': '2019-08-19 21:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/928898dc07c398e0499fccc240759a530d121a7b', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nAn addition retry was added around the `_copy_stream_to_registry` and\n`_copy_registry_to_local` methods. After looking through now available\nlogs on failed runs, particularly in the OVH region, these methods\nwere shown to fail frequently with long running transations, even\nafter re-authentication success. These new retry strategies should\nprovide for better success in slow regions.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 20, 'created': '2019-08-19 21:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8f7c06d861d56d1e72b04495def3cb7e29781860', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nAn addition retry was added around the `_copy_stream_to_registry` and\n`_copy_registry_to_local` methods. After looking through now available\nlogs on failed runs, particularly in the OVH region, these methods\nwere shown to fail frequently with long running transations, even\nafter re-authentication success. These new retry strategies should\nprovide for better success in slow regions.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 21, 'created': '2019-08-20 00:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bfc818b14e18f47b7047f664b5337c58db2b0f28', 'message': 'Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nAn addition retry was added around the `_copy_stream_to_registry` and\n`_copy_registry_to_local` methods. After looking through now available\nlogs on failed runs, particularly in the OVH region, these methods\nwere shown to fail frequently with long running transations, even\nafter re-authentication success. These new retry strategies should\nprovide for better success in slow regions.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 22, 'created': '2019-08-20 15:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/50e719f3f133f5b7b987f6b6bcc02746f1fc925b', 'message': ""Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nAn addition retry was added around the `_copy_stream_to_registry` and\n`_copy_registry_to_local` methods. After looking through now available\nlogs on failed runs, particularly in the OVH region, these methods\nwere shown to fail frequently with long running transations, even\nafter re-authentication success. These new retry strategies should\nprovide for better success in slow regions.\n\nSession creation was moved into a single object class to ensure we're\nmanaging sessions in a uniform way.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 23, 'created': '2019-08-20 15:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a782d80188f0f6a2041d2f32dc00f6cad43d9223', 'message': ""Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nAn addition retry was added around the `_copy_stream_to_registry` and\n`_copy_registry_to_local` methods. After looking through now available\nlogs on failed runs, particularly in the OVH region, these methods\nwere shown to fail frequently with long running transations, even\nafter re-authentication success. These new retry strategies should\nprovide for better success in slow regions.\n\nSession creation was moved into a single object class to ensure we're\nmanaging sessions in a uniform way.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 24, 'created': '2019-08-20 16:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b2e6db04e58af68b20e4630ac496995d89c84281', 'message': ""Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nAn addition retry was added around the `_copy_stream_to_registry` and\n`_copy_registry_to_local` methods. After looking through now available\nlogs on failed runs, particularly in the OVH region, these methods\nwere shown to fail frequently with long running transations, even\nafter re-authentication success. These new retry strategies should\nprovide for better success in slow regions.\n\nSession creation was moved into a single object class to ensure we're\nmanaging sessions in a uniform way.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 25, 'created': '2019-08-20 21:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1d90b763fb0bbe3a0759dd8db7b89312ff3dcdac', 'message': ""Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nAn addition retry was added around the `_copy_stream_to_registry` and\n`_copy_registry_to_local` methods. After looking through now available\nlogs on failed runs, particularly in the OVH region, these methods\nwere shown to fail frequently with long running transations, even\nafter re-authentication success. These new retry strategies should\nprovide for better success in slow regions.\n\nSession creation was moved into a single object class to ensure we're\nmanaging sessions in a uniform way.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 26, 'created': '2019-08-21 00:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5148c86c48ab8bd9aeeeeb8ac30405f28c06bdb0', 'message': ""Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nAn addition retry was added around the `_copy_stream_to_registry` and\n`_copy_registry_to_local` methods. After looking through now available\nlogs on failed runs, particularly in the OVH region, these methods\nwere shown to fail frequently with long running transations, even\nafter re-authentication success. These new retry strategies should\nprovide for better success in slow regions.\n\nSession creation was moved into a single object class to ensure we're\nmanaging sessions in a uniform way.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 27, 'created': '2019-08-21 00:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1bb2bca6be0c9918fcae848e04b46efa81621c1d', 'message': ""Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nAn addition retry was added around the `_copy_stream_to_registry` and\n`_copy_registry_to_local` methods. After looking through now available\nlogs on failed runs, particularly in the OVH region, these methods\nwere shown to fail frequently with long running transations, even\nafter re-authentication success. These new retry strategies should\nprovide for better success in slow regions.\n\nSession creation was moved into a single object class to ensure we're\nmanaging sessions in a uniform way.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 28, 'created': '2019-08-21 12:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b65c7ced6de3314e7f267e5c31ecac2c605f1ecf', 'message': ""Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nSession creation was moved into a single object class to ensure we're\nmanaging sessions in a uniform way.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 29, 'created': '2019-08-21 12:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b2040bce781fe7e53b2697afbf89642e7c6d3cb4', 'message': ""Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nSession creation was moved into a single object class to ensure we're\nmanaging sessions in a uniform way.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 30, 'created': '2019-08-21 15:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cb3bdbfbde93b8a20ff75fc61f3b4c6d8cdf5a19', 'message': ""Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nSession creation was moved into a single object class to ensure we're\nmanaging sessions in a uniform way.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 31, 'created': '2019-08-21 16:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/29fa026406c65b7cebd69fe6ed1387bcf3533001', 'message': ""Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nSession creation was moved into a single object class to ensure we're\nmanaging sessions in a uniform way.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 32, 'created': '2019-08-21 20:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2e309c086c4fb1bacc5b3592daa82ef404dc7e17', 'message': ""Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nSession creation was moved into a single object class to ensure we're\nmanaging sessions in a uniform way.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 33, 'created': '2019-08-21 21:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e8d0922c5c513d0aef4e7599ca4727cff6e5ed1e', 'message': ""Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nSession creation was moved into a single object class to ensure we're\nmanaging sessions in a uniform way.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 34, 'created': '2019-08-21 23:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/31c2be4f7bb20b738c834008c51475e8cabcfd43', 'message': ""Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nSession creation was moved into a single object class to ensure we're\nmanaging sessions in a uniform way.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 35, 'created': '2019-08-22 02:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a01795f64d2fb13ec861a97941b60f30ee5beb89', 'message': ""Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nSession creation was moved into a single object class to ensure we're\nmanaging sessions in a uniform way.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 36, 'created': '2019-08-22 14:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/67a0583471f38f8a1aca43d6719f1336614a5160', 'message': ""Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nSession creation was moved into a single object class to ensure we're\nmanaging sessions in a uniform way.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 37, 'created': '2019-08-22 15:50:41.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_export.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/image/test_image_export.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e06cf4482da855d63ab21f8183cea66499e6f5f9', 'message': ""Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nSession creation was moved into a single object class to ensure we're\nmanaging sessions in a uniform way.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",5,674919,e06cf4482da855d63ab21f8183cea66499e6f5f9,126,12,37,7353,,,0,"Log exceptions when checking status

This change adds logging whenever a request has a status code of >= 300.
The check_status method will now create an SHA1 ID from the request URL
and log the status, reason, text, and headers (in debug) whenever a
request has a return code of >= 300. This will allow us to better debug
image processing issues, even when multiprocessing requests. Deployers
will now have the ability to track down issues to specific images and
endpoints.

Session creation was moved into a single object class to ensure we're
managing sessions in a uniform way.

Change-Id: If4e84a0273e295267248559c63ae994a5a826004
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/19/674919/24 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,546eeb413b0d43150a32b018eed06c05ca0b1dcd,log-exceptions," request_id = hashlib.sha1(request.url.encode()).hexdigest() text = getattr(request, 'text', 'unknown') reason = getattr(request, 'reason', 'unknown') status_code = getattr(request, 'status_code', None) headers = getattr(request, 'headers', {}) if status_code is None: raise SystemError() elif status_code == 401: LOG.warning( 'Failure: id {}, status {}, reason {} text {}'.format( request_id, status_code, reason, text ) ) LOG.debug( 'Request headers after 401: id {}, headers {}'.format( request_id, headers ) ) if hasattr(session, 'reauthenticate'): LOG.info('Re-authenticating: id {}'.format(request_id)) raise requests.exceptions.RequestException( 'Exception: id {}'.format(request_id) ) elif status_code >= 300: LOG.info( 'Non-2xx: id {}, status {}, reason {}, text {}'.format( request_id, status_code, reason, text ) ) @classmethod"," if hasattr(session, 'reauthenticate'): if request.status_code == 401: if hasattr(request, 'text'): raise requests.exceptions.HTTPError(request.text) else: raise SystemError()",41,6
openstack%2Fironic-python-agent~master~I8dbfae091267f8af5340ff5ebeebcba375d05542,openstack/ironic-python-agent,master,I8dbfae091267f8af5340ff5ebeebcba375d05542,Attempt tgtd session detach,MERGED,2019-08-29 20:25:40.000000000,2019-10-11 20:20:47.000000000,2019-09-24 12:00:00.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-29 20:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/dfa74be3c4546ab85e4c978524a7920986ffe294', 'message': 'Attempt tgtd session detach\n\nWith raid, we were able to observe a condition where\nthe file is still open for non-exlcusive access which\nblocks the software raid from being shutdown... which\nis realistically needed to force a rescan in that case.\n\nChange-Id: I8dbfae091267f8af5340ff5ebeebcba375d05542\n'}, {'number': 2, 'created': '2019-08-30 12:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5f213ace72411db3504db255da09e22fbffdf524', 'message': 'Attempt tgtd session detach\n\nWith raid, we were able to observe a condition where\nthe file is still open for non-exlcusive access which\nblocks the software raid from being shutdown... which\nis realistically needed to force a rescan in that case.\n\nChange-Id: I8dbfae091267f8af5340ff5ebeebcba375d05542\n'}, {'number': 3, 'created': '2019-09-04 15:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/87a39e3fdef2b470fce111fc0df9ef4cdf80c0a7', 'message': 'Attempt tgtd session detach\n\nWith raid, we were able to observe a condition where\nthe file is still open for non-exlcusive access which\nblocks the software raid from being shutdown... which\nis realistically needed to force a rescan in that case.\n\nChange-Id: I8dbfae091267f8af5340ff5ebeebcba375d05542\n'}, {'number': 4, 'created': '2019-09-19 22:44:51.000000000', 'files': ['ironic_python_agent/extensions/iscsi.py', 'ironic_python_agent/tests/unit/extensions/test_iscsi.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8be4cb689cac5755f09eaa27cdde86a30b2633f8', 'message': 'Attempt tgtd session detach\n\nWith raid, we were able to observe a condition where\nthe file is still open for non-exlcusive access which\nblocks the software raid from being shutdown... which\nis realistically needed to force a rescan in that case.\n\nChange-Id: I8dbfae091267f8af5340ff5ebeebcba375d05542\n'}]",12,679332,8be4cb689cac5755f09eaa27cdde86a30b2633f8,33,5,4,11655,,,0,"Attempt tgtd session detach

With raid, we were able to observe a condition where
the file is still open for non-exlcusive access which
blocks the software raid from being shutdown... which
is realistically needed to force a rescan in that case.

Change-Id: I8dbfae091267f8af5340ff5ebeebcba375d05542
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/32/679332/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/extensions/iscsi.py', 'ironic_python_agent/tests/unit/extensions/test_iscsi.py']",2,dfa74be3c4546ab85e4c978524a7920986ffe294,story/2006419,"@mock.patch.object(utils, 'execute', autospec=True) class TestISCSIExtensionCleanUpFallback(base.IronicAgentTest): def setUp(self): super(TestISCSIExtensionCleanUpFallback, self).setUp() self.agent_extension = iscsi.ISCSIExtension() self.fake_dev = '/dev/fake' self.fake_iqn = 'iqn-fake' self.rtsmock = mock.patch.object( iscsi.rtslib_fb, 'RTSRoot', side_effect=EnvironmentError(), autospec=True) def test_lio_not_available(self, mock_execute): mock_execute.return_value = ('', '') expected = [mock.call('tgtadm', '--lld', 'iscsi', '--mode', 'target', '--op', 'unbind', '--tid', '1', '--initiator-address', 'ALL'), mock.call('sync'), mock.call('tgtadm', '--lld', 'iscsi', '--mode', 'target', '--op', 'delete', '--tid', '1')] iscsi.clean_up(self.fake_dev) mock_execute.assert_has_calls(expected) "," def test_lio_not_available(self, mock_rtslib): mock_rtslib.side_effect = IOError() iscsi.clean_up(self.fake_dev) ",38,6
openstack%2Fmagnum~stable%2Ftrain~I2ed8e02f5295e48d371ac9e1aff2ad5d30d0c2bd,openstack/magnum,stable/train,I2ed8e02f5295e48d371ac9e1aff2ad5d30d0c2bd,k8s_atomic: Run all syscontainer with podman,MERGED,2019-10-11 08:13:09.000000000,2019-10-11 20:19:45.000000000,2019-10-11 20:18:17.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-11 08:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/aad8ed50b6b99899c43a9d75b29905ebb2d77f07', 'message': 'k8s_atomic: Run all syscontainer with podman\n\nUsing the atomic cli to install kubelet breaks mount\npropagation of secrets, configmaps and so on. Using podman\nin a systemd unit works.\n\nAdditionally, with this change all atomic commands are dropped,\ncontainers are pulled from gcr.io (ofiicial kubernetes containers).\n\nFinally, after this patch only by starting the heat-agent with\nignition, we can use fedora coreos as a drop-in replacement.\n\n* Drop del of docker0\n  This command to remove docker0 is carried from\n  earlier versions of docker. This is not an issue\n  anymore.\n\nstory: 2006459\ntask: 36871\n\nChange-Id: I2ed8e02f5295e48d371ac9e1aff2ad5d30d0c2bd\nSigned-off-by: Spyros Trigazis <spyridon.trigazi@cern.ch>\n'}, {'number': 2, 'created': '2019-10-11 08:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3d55e5b7df950c0f6577cab34a35a2eee88b4008', 'message': 'k8s_atomic: Run all syscontainer with podman\n\nUsing the atomic cli to install kubelet breaks mount\npropagation of secrets, configmaps and so on. Using podman\nin a systemd unit works.\n\nAdditionally, with this change all atomic commands are dropped,\ncontainers are pulled from gcr.io (ofiicial kubernetes containers).\n\nFinally, after this patch only by starting the heat-agent with\nignition, we can use fedora coreos as a drop-in replacement.\n\n* Drop del of docker0\n  This command to remove docker0 is carried from\n  earlier versions of docker. This is not an issue\n  anymore.\n\nstory: 2006459\ntask: 36871\n\nChange-Id: I2ed8e02f5295e48d371ac9e1aff2ad5d30d0c2bd\nSigned-off-by: Spyros Trigazis <spyridon.trigazi@cern.ch>\n'}, {'number': 3, 'created': '2019-10-11 08:40:17.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-services-minion.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/start-container-agent.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/f8981ee3f8a6e86fcd98de035197f4387a02de10', 'message': 'k8s_atomic: Run all syscontainer with podman\n\nUsing the atomic cli to install kubelet breaks mount\npropagation of secrets, configmaps and so on. Using podman\nin a systemd unit works.\n\nAdditionally, with this change all atomic commands are dropped,\ncontainers are pulled from gcr.io (ofiicial kubernetes containers).\n\nFinally, after this patch only by starting the heat-agent with\nignition, we can use fedora coreos as a drop-in replacement.\n\n* Drop del of docker0\n  This command to remove docker0 is carried from\n  earlier versions of docker. This is not an issue\n  anymore.\n\nstory: 2006459\ntask: 36871\n\nSigned-off-by: Spyros Trigazis <spyridon.trigazi@cern.ch>\n\n(cherry picked from commit 3d771551cd28cca6b6910106130260f1ee93b8e5)\nChange-Id: I2ed8e02f5295e48d371ac9e1aff2ad5d30d0c2bd\n'}]",0,688065,f8981ee3f8a6e86fcd98de035197f4387a02de10,11,3,3,20498,,,0,"k8s_atomic: Run all syscontainer with podman

Using the atomic cli to install kubelet breaks mount
propagation of secrets, configmaps and so on. Using podman
in a systemd unit works.

Additionally, with this change all atomic commands are dropped,
containers are pulled from gcr.io (ofiicial kubernetes containers).

Finally, after this patch only by starting the heat-agent with
ignition, we can use fedora coreos as a drop-in replacement.

* Drop del of docker0
  This command to remove docker0 is carried from
  earlier versions of docker. This is not an issue
  anymore.

story: 2006459
task: 36871

Signed-off-by: Spyros Trigazis <spyridon.trigazi@cern.ch>

(cherry picked from commit 3d771551cd28cca6b6910106130260f1ee93b8e5)
Change-Id: I2ed8e02f5295e48d371ac9e1aff2ad5d30d0c2bd
",git fetch https://review.opendev.org/openstack/magnum refs/changes/65/688065/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/enable-services-minion.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/start-container-agent.sh']",8,aad8ed50b6b99899c43a9d75b29905ebb2d77f07,train-9.1.0, cat > /etc/systemd/system/heat-container-agent.service <<EOF [Unit] Description=Run heat-container-agent After=network-online.target Wants=network-online.target [Service] ExecStartPre=mkdir -p /var/lib/heat-container-agent ExecStartPre=mkdir -p /var/run/heat-config ExecStartPre=mkdir -p /var/run/os-collect-config ExecStartPre=mkdir -p /opt/stack/os-config-refresh ExecStartPre=mkdir -p /srv/magnum ExecStartPre=-/bin/podman kill heat-container-agent ExecStartPre=-/bin/podman rm heat-container-agent ExecStartPre=-/bin/podman pull docker.io/openstackmagnum/heat-container-agent:train-dev ExecStart=/bin/podman run \\ --name heat-container-agent \\ --net=host \\ --privileged \\ --volume /srv/magnum:/srv/magnum \\ --volume /opt/stack/os-config-refresh:/opt/stack/os-config-refresh \\ --volume /run/systemd:/run/systemd \\ --volume /etc/:/etc/ \\ --volume /var/lib:/var/lib \\ --volume /var/run:/var/run \\ --volume /var/log:/var/log \\ --volume /tmp:/tmp \\ --volume /dev:/dev \\ --env REQUESTS_CA_BUNDLE=/etc/pki/tls/certs/ca-bundle.crt \\ ${_prefix}heat-container-agent:${HEAT_CONTAINER_AGENT_TAG} \\ /usr/bin/start-heat-container-agent ExecStop=/bin/podman stop heat-container-agent [Install] WantedBy=multi-user.target EOF systemctl enable heat-container-agent,"atomic install \ --storage ostree \ --system \ --system-package no \ --set REQUESTS_CA_BUNDLE=/etc/pki/tls/certs/ca-bundle.crt \ --name heat-container-agent \ ""${_prefix}heat-container-agent:${HEAT_CONTAINER_AGENT_TAG}"" ",422,108
openstack%2Fmagnum~stable%2Ftrain~Ib1d8b7672318538be7f0066832add29f7d066b92,openstack/magnum,stable/train,Ib1d8b7672318538be7f0066832add29f7d066b92,Drop deprecated APIs for kube v1.16 support,MERGED,2019-10-11 08:13:09.000000000,2019-10-11 20:18:40.000000000,2019-10-11 20:16:51.000000000,"[{'_account_id': 6484}, {'_account_id': 9995}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-11 08:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b454a118349a182274ab159e6553fcfdc8e656c0', 'message': 'Drop deprecated APIs for kube v1.16 support\n\nKubernetes v1.16 is dropping support for beta extensions/apps APIs for\nDeployment, DaemonSet and ReplicaSet - as described in:\nhttps://github.com/kubernetes/kubernetes/blob/master/CHANGELOG-1.15.md#deprecations-and-removals\n\nReplace all occurrences with apps/v1.\n\nChange-Id: Ib1d8b7672318538be7f0066832add29f7d066b92\nStory: 2006459\nTask: 36385\n'}, {'number': 2, 'created': '2019-10-11 08:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/97a6e6ad036f80eb4d687bf7edc74201ddff1244', 'message': 'Drop deprecated APIs for kube v1.16 support\n\nKubernetes v1.16 is dropping support for beta extensions/apps APIs for\nDeployment, DaemonSet and ReplicaSet - as described in:\nhttps://github.com/kubernetes/kubernetes/blob/master/CHANGELOG-1.15.md#deprecations-and-removals\n\nReplace all occurrences with apps/v1.\n\nChange-Id: Ib1d8b7672318538be7f0066832add29f7d066b92\nStory: 2006459\nTask: 36385\n'}, {'number': 3, 'created': '2019-10-11 08:40:17.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-helm-tiller.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik.sh', 'magnum/drivers/k8s_coreos_v1/templates/fragments/enable-coredns.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b4ee00b7328e90275fedf4a0d423c11005866245', 'message': 'Drop deprecated APIs for kube v1.16 support\n\nKubernetes v1.16 is dropping support for beta extensions/apps APIs for\nDeployment, DaemonSet and ReplicaSet - as described in:\nhttps://github.com/kubernetes/kubernetes/blob/master/CHANGELOG-1.15.md#deprecations-and-removals\n\nReplace all occurrences with apps/v1.\n\nStory: 2006459\nTask: 36385\n\n(cherry picked from commit 646b60fe246c4491b24156295f7e4fb55e79a2eb)\nChange-Id: Ib1d8b7672318538be7f0066832add29f7d066b92\n'}]",0,688056,b4ee00b7328e90275fedf4a0d423c11005866245,11,4,3,20498,,,0,"Drop deprecated APIs for kube v1.16 support

Kubernetes v1.16 is dropping support for beta extensions/apps APIs for
Deployment, DaemonSet and ReplicaSet - as described in:
https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG-1.15.md#deprecations-and-removals

Replace all occurrences with apps/v1.

Story: 2006459
Task: 36385

(cherry picked from commit 646b60fe246c4491b24156295f7e4fb55e79a2eb)
Change-Id: Ib1d8b7672318538be7f0066832add29f7d066b92
",git fetch https://review.opendev.org/openstack/magnum refs/changes/56/688056/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/enable-helm-tiller.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/calico-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik.sh', 'magnum/drivers/k8s_coreos_v1/templates/fragments/enable-coredns.yaml']",8,b454a118349a182274ab159e6553fcfdc8e656c0,train-9.1.0, apiVersion: apps/v1, apiVersion: extensions/v1beta1,32,12
openstack%2Fmagnum~stable%2Ftrain~I9a18ce4dcbd74f0dcd23274baed7c8c3d2029d50,openstack/magnum,stable/train,I9a18ce4dcbd74f0dcd23274baed7c8c3d2029d50,Pass ssh public key as string,MERGED,2019-10-11 08:13:09.000000000,2019-10-11 20:18:13.000000000,2019-10-11 20:18:13.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-11 08:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/28f64f9ed449d9069bd071c00a5f87821227dd2a', 'message': 'Pass ssh public key as string\n\n* Fedora CoreOS need the key to be passed as\n  a string.\n* We can adopt in all drivers so that users in\n  the same project can do cluster resize.\n\nstory: 2005201\ntask: 36934\n\nChange-Id: I9a18ce4dcbd74f0dcd23274baed7c8c3d2029d50\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 2, 'created': '2019-10-11 08:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7ec244d2246ef1c5660350f1bc1dddb62823bbc6', 'message': 'Pass ssh public key as string\n\n* Fedora CoreOS need the key to be passed as\n  a string.\n* We can adopt in all drivers so that users in\n  the same project can do cluster resize.\n\nstory: 2005201\ntask: 36934\n\nChange-Id: I9a18ce4dcbd74f0dcd23274baed7c8c3d2029d50\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 3, 'created': '2019-10-11 08:40:17.000000000', 'files': ['magnum/drivers/heat/template_def.py', 'magnum/drivers/swarm_fedora_atomic_v1/templates/cluster.yaml', 'magnum/tests/unit/conductor/handlers/test_swarm_cluster_conductor.py', 'magnum/drivers/k8s_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/swarm_fedora_atomic_v2/templates/swarmcluster.yaml', 'magnum/common/nova.py', 'magnum/drivers/mesos_ubuntu_v1/templates/mesoscluster.yaml', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'contrib/drivers/dcos_centos_v1/templates/dcoscluster.yaml', 'magnum/drivers/k8s_fedora_ironic_v1/templates/kubecluster.yaml', 'magnum/tests/unit/conductor/handlers/test_mesos_cluster_conductor.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/1ef99de8c05bdd267b58985ac57cdc8bcc71980c', 'message': 'Pass ssh public key as string\n\n* Fedora CoreOS need the key to be passed as\n  a string.\n* We can adopt in all drivers so that users in\n  the same project can do cluster resize.\n\nstory: 2005201\ntask: 36934\n\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n\n(cherry picked from commit 67573d9b0bd7fa41bb8c5ed6415a678c302ad0cc)\nChange-Id: I9a18ce4dcbd74f0dcd23274baed7c8c3d2029d50\n'}]",0,688064,1ef99de8c05bdd267b58985ac57cdc8bcc71980c,10,3,3,20498,,,0,"Pass ssh public key as string

* Fedora CoreOS need the key to be passed as
  a string.
* We can adopt in all drivers so that users in
  the same project can do cluster resize.

story: 2005201
task: 36934

Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>

(cherry picked from commit 67573d9b0bd7fa41bb8c5ed6415a678c302ad0cc)
Change-Id: I9a18ce4dcbd74f0dcd23274baed7c8c3d2029d50
",git fetch https://review.opendev.org/openstack/magnum refs/changes/64/688064/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/heat/template_def.py', 'magnum/drivers/swarm_fedora_atomic_v1/templates/cluster.yaml', 'magnum/tests/unit/conductor/handlers/test_swarm_cluster_conductor.py', 'magnum/drivers/k8s_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/swarm_fedora_atomic_v2/templates/swarmcluster.yaml', 'magnum/common/nova.py', 'magnum/drivers/mesos_ubuntu_v1/templates/mesoscluster.yaml', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'contrib/drivers/dcos_centos_v1/templates/dcoscluster.yaml', 'magnum/drivers/k8s_fedora_ironic_v1/templates/kubecluster.yaml', 'magnum/tests/unit/conductor/handlers/test_mesos_cluster_conductor.py']",12,28f64f9ed449d9069bd071c00a5f87821227dd2a,train-9.1.0," mock_keypair = mock.MagicMock() mock_keypair.public_key = 'ssh-rsa AAAAB3Nz' self.mock_nova = mock.MagicMock() self.mock_nova.keypairs.get.return_value = mock_keypair self.mock_osc.nova.return_value = self.mock_nova 'ssh_public_key': 'ssh-rsa AAAAB3Nz', 'ssh_public_key': 'ssh-rsa AAAAB3Nz', 'ssh_public_key': 'ssh-rsa AAAAB3Nz', 'ssh_public_key': 'ssh-rsa AAAAB3Nz', 'ssh_public_key': 'ssh-rsa AAAAB3Nz',",,111,0
openstack%2Fmagnum~stable%2Ftrain~I698b9df3876dd9fa4e1685973762d92ec3a5f7ca,openstack/magnum,stable/train,I698b9df3876dd9fa4e1685973762d92ec3a5f7ca,Delete the ca-rotate api-ref,MERGED,2019-10-11 08:13:09.000000000,2019-10-11 20:18:12.000000000,2019-10-11 20:18:12.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 23012}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-11 08:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/46bb851a4daa4e2a6899547b088460ebcae03f43', 'message': ""Delete the ca-rotate api-ref\n'ca-rotate' hasn't been supported, 'ERROR: 'rotate_ca_certificate'\nis not supported by this driver (HTTP 400)' will be returned.\nSo, I think we should supply the api after it's realization.\n\nChange-Id: I698b9df3876dd9fa4e1685973762d92ec3a5f7ca\n""}, {'number': 2, 'created': '2019-10-11 08:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/afc06d0a895640ffbcf87773e36697917c332fae', 'message': ""Delete the ca-rotate api-ref\n'ca-rotate' hasn't been supported, 'ERROR: 'rotate_ca_certificate'\nis not supported by this driver (HTTP 400)' will be returned.\nSo, I think we should supply the api after it's realization.\n\nChange-Id: I698b9df3876dd9fa4e1685973762d92ec3a5f7ca\n""}, {'number': 3, 'created': '2019-10-11 08:40:17.000000000', 'files': ['api-ref/source/certificates.inc'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e780e34d07e6e597405e642b292fd8f33b5a4a10', 'message': ""Delete the ca-rotate api-ref\n\n'ca-rotate' hasn't been supported, 'ERROR: 'rotate_ca_certificate'\nis not supported by this driver (HTTP 400)' will be returned.\nSo, I think we should supply the api after it's realization.\n\n(cherry picked from commit 1888d0f3ed99421bea03e9dc26ed644f8430624a)\nChange-Id: I698b9df3876dd9fa4e1685973762d92ec3a5f7ca\n""}]",0,688063,e780e34d07e6e597405e642b292fd8f33b5a4a10,11,4,3,20498,,,0,"Delete the ca-rotate api-ref

'ca-rotate' hasn't been supported, 'ERROR: 'rotate_ca_certificate'
is not supported by this driver (HTTP 400)' will be returned.
So, I think we should supply the api after it's realization.

(cherry picked from commit 1888d0f3ed99421bea03e9dc26ed644f8430624a)
Change-Id: I698b9df3876dd9fa4e1685973762d92ec3a5f7ca
",git fetch https://review.opendev.org/openstack/magnum refs/changes/63/688063/2 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/certificates.inc'],1,46bb851a4daa4e2a6899547b088460ebcae03f43,train-9.1.0,, Rotate the CA certificate for a bay/cluster =========================================== .. rest_method:: PATCH /v1/certificates/{bay_uuid/cluster_uuid} Rotate the CA certificate for a bay/cluster and invalidate all user certificates. Response Codes -------------- .. rest_status_code:: success status.yaml - 202 .. rest_status_code:: error status.yaml - 400 Request ------- .. rest_parameters:: parameters.yaml - cluster: cluster_id,0,26
openstack%2Fmagnum~stable%2Ftrain~I8a6e970a8ea3d1d3424eab05f1617509cf27d52b,openstack/magnum,stable/train,I8a6e970a8ea3d1d3424eab05f1617509cf27d52b,k8s_fedora: Move rp_filter=1 for calico up,MERGED,2019-10-11 08:13:09.000000000,2019-10-11 20:18:08.000000000,2019-10-11 20:18:08.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-11 08:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1f6dfb4a766208164416b264b4668c79d0609330', 'message': 'k8s_fedora: Move rp_filter=1 for calico up\n\nfollow up of: I828cec27968ffe0961011e34a66e0eef3e567c91\n\nMove set of sysctl.conf up as it does need to\ndepend on NetworkManager configuration.\n\nupstream docs:\nCluster nodes must have rp_filter set to strict (1).\nhttps://github.com/projectcalico/calico/blob/master/v3.9/getting-started/kubernetes/installation/migration-from-flannel.md\n\nstory: 2006441\ntask: 36564\n\nChange-Id: I8a6e970a8ea3d1d3424eab05f1617509cf27d52b\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 2, 'created': '2019-10-11 08:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a6d1fb4dbfd90c868bc9d27dc86b4f86bdd30ed5', 'message': 'k8s_fedora: Move rp_filter=1 for calico up\n\nfollow up of: I828cec27968ffe0961011e34a66e0eef3e567c91\n\nMove set of sysctl.conf up as it does need to\ndepend on NetworkManager configuration.\n\nupstream docs:\nCluster nodes must have rp_filter set to strict (1).\nhttps://github.com/projectcalico/calico/blob/master/v3.9/getting-started/kubernetes/installation/migration-from-flannel.md\n\nstory: 2006441\ntask: 36564\n\nChange-Id: I8a6e970a8ea3d1d3424eab05f1617509cf27d52b\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 3, 'created': '2019-10-11 08:40:17.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/eb02e82b08f2d9ebb2eab0d9d87783f437101f68', 'message': 'k8s_fedora: Move rp_filter=1 for calico up\n\nfollow up of: I828cec27968ffe0961011e34a66e0eef3e567c91\n\nMove set of sysctl.conf up as it does need to\ndepend on NetworkManager configuration.\n\nupstream docs:\nCluster nodes must have rp_filter set to strict (1).\nhttps://github.com/projectcalico/calico/blob/master/v3.9/getting-started/kubernetes/installation/migration-from-flannel.md\n\nstory: 2006441\ntask: 36564\n\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n\n(cherry picked from commit 3125fef2ffb672d6ecedc7a8a7be514f32c5dfe8)\nChange-Id: I8a6e970a8ea3d1d3424eab05f1617509cf27d52b\n'}]",0,688062,eb02e82b08f2d9ebb2eab0d9d87783f437101f68,10,3,3,20498,,,0,"k8s_fedora: Move rp_filter=1 for calico up

follow up of: I828cec27968ffe0961011e34a66e0eef3e567c91

Move set of sysctl.conf up as it does need to
depend on NetworkManager configuration.

upstream docs:
Cluster nodes must have rp_filter set to strict (1).
https://github.com/projectcalico/calico/blob/master/v3.9/getting-started/kubernetes/installation/migration-from-flannel.md

story: 2006441
task: 36564

Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>

(cherry picked from commit 3125fef2ffb672d6ecedc7a8a7be514f32c5dfe8)
Change-Id: I8a6e970a8ea3d1d3424eab05f1617509cf27d52b
",git fetch https://review.opendev.org/openstack/magnum refs/changes/62/688062/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",2,1f6dfb4a766208164416b264b4668c79d0609330,train-9.1.0," echo ""net.ipv4.conf.all.rp_filter = 1"" >> /etc/sysctl.conf $ssh_cmd sysctl -p"," echo ""net.ipv4.conf.all.rp_filter = 1"" >> /etc/sysctl.conf $ssh_cmd sysctl -p",4,4
openstack%2Fmagnum~stable%2Ftrain~I2dc2a125c49f9fc33aa02d3d0c99a5bb0eec1156,openstack/magnum,stable/train,I2dc2a125c49f9fc33aa02d3d0c99a5bb0eec1156,k8s_fedora: Label master nodes with kubectl,MERGED,2019-10-11 08:13:09.000000000,2019-10-11 20:18:05.000000000,2019-10-11 20:18:05.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-11 08:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d7c78290121fbc86ca5b2ee9153bcd754a595ab8', 'message': 'k8s_fedora: Label master nodes with kubectl\n\nDue to [0], we can not label nodes with\nnode-role.kubernetes.io/master="""". We need to do it with the kubernetes\nAPI.\n\n[0] https://github.com/kubernetes/kubernetes/issues/75457\n\nstory: 2006459\ntask: 36872\n\nChange-Id: I2dc2a125c49f9fc33aa02d3d0c99a5bb0eec1156\nSigned-off-by: Spyros Trigazis <spyridon.trigazi@cern.ch>\n'}, {'number': 2, 'created': '2019-10-11 08:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e57938621ec677f6192d74caaa1dea53a0511c9e', 'message': 'k8s_fedora: Label master nodes with kubectl\n\nDue to [0], we can not label nodes with\nnode-role.kubernetes.io/master="""". We need to do it with the kubernetes\nAPI.\n\n[0] https://github.com/kubernetes/kubernetes/issues/75457\n\nstory: 2006459\ntask: 36872\n\nChange-Id: I2dc2a125c49f9fc33aa02d3d0c99a5bb0eec1156\nSigned-off-by: Spyros Trigazis <spyridon.trigazi@cern.ch>\n'}, {'number': 3, 'created': '2019-10-11 08:40:17.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/3afd376c5e1550021bf2a0e854e0a370c849a1fc', 'message': 'k8s_fedora: Label master nodes with kubectl\n\nDue to [0], we can not label nodes with\nnode-role.kubernetes.io/master="""". We need to do it with the kubernetes\nAPI.\n\n[0] https://github.com/kubernetes/kubernetes/issues/75457\n\nstory: 2006459\ntask: 36872\n\nSigned-off-by: Spyros Trigazis <spyridon.trigazi@cern.ch>\n\n(cherry picked from commit 6b0fa1805f954c13d64c2905e7e9f3e4ba33c5ae)\nChange-Id: I2dc2a125c49f9fc33aa02d3d0c99a5bb0eec1156\n'}]",0,688061,3afd376c5e1550021bf2a0e854e0a370c849a1fc,10,3,3,20498,,,0,"k8s_fedora: Label master nodes with kubectl

Due to [0], we can not label nodes with
node-role.kubernetes.io/master="""". We need to do it with the kubernetes
API.

[0] https://github.com/kubernetes/kubernetes/issues/75457

story: 2006459
task: 36872

Signed-off-by: Spyros Trigazis <spyridon.trigazi@cern.ch>

(cherry picked from commit 6b0fa1805f954c13d64c2905e7e9f3e4ba33c5ae)
Change-Id: I2dc2a125c49f9fc33aa02d3d0c99a5bb0eec1156
",git fetch https://review.opendev.org/openstack/magnum refs/changes/61/688061/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh']",2,d7c78290121fbc86ca5b2ee9153bcd754a595ab8,train-9.1.0," # Label self as master until [ ""ok"" = ""$(curl --silent http://127.0.0.1:8080/healthz)"" ] && \ kubectl patch node ${INSTANCE_NAME} \ --patch '{""metadata"": {""labels"": {""node-role.kubernetes.io/master"": """"}}}' do echo ""Trying to label master node with node-role.kubernetes.io/master=\""\"""" sleep 5s done",,9,1
openstack%2Fmagnum~stable%2Ftrain~Ie04d8d99e68ee43c9d407dbd6f746f6249337ba2,openstack/magnum,stable/train,Ie04d8d99e68ee43c9d407dbd6f746f6249337ba2,Add hostname-override to kube-proxy,MERGED,2019-10-11 08:13:09.000000000,2019-10-11 20:17:07.000000000,2019-10-11 20:17:07.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-11 08:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8a59e19a4c45aa44651c3400731546da3155823b', 'message': 'Add hostname-override to kube-proxy\n\nPass the node name to kube-proxy and not repy\non the cloud provider to set it. Kube-proxy needs\nto start before the cloud-provider.\nWithout it kube-proxy fail to find the node\nin the kubernete api.\n\nstory: 2006459\ntask: 36873\n\nChange-Id: Ie04d8d99e68ee43c9d407dbd6f746f6249337ba2\n'}, {'number': 2, 'created': '2019-10-11 08:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/80fa80b2351fa06aa42e9300a40fe3767d60ea36', 'message': 'Add hostname-override to kube-proxy\n\nPass the node name to kube-proxy and not repy\non the cloud provider to set it. Kube-proxy needs\nto start before the cloud-provider.\nWithout it kube-proxy fail to find the node\nin the kubernete api.\n\nstory: 2006459\ntask: 36873\n\nChange-Id: Ie04d8d99e68ee43c9d407dbd6f746f6249337ba2\n'}, {'number': 3, 'created': '2019-10-11 08:40:17.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/01ae402f1bf9069f7363391602920997dab478fc', 'message': 'Add hostname-override to kube-proxy\n\nPass the node name to kube-proxy and not repy\non the cloud provider to set it. Kube-proxy needs\nto start before the cloud-provider.\nWithout it kube-proxy fail to find the node\nin the kubernete api.\n\nstory: 2006459\ntask: 36873\n\n(cherry picked from commit 5bea40d231fcd87f04d0c9ab99e4601f089f34f5)\nChange-Id: Ie04d8d99e68ee43c9d407dbd6f746f6249337ba2\n'}]",0,688060,01ae402f1bf9069f7363391602920997dab478fc,10,3,3,20498,,,0,"Add hostname-override to kube-proxy

Pass the node name to kube-proxy and not repy
on the cloud provider to set it. Kube-proxy needs
to start before the cloud-provider.
Without it kube-proxy fail to find the node
in the kubernete api.

story: 2006459
task: 36873

(cherry picked from commit 5bea40d231fcd87f04d0c9ab99e4601f089f34f5)
Change-Id: Ie04d8d99e68ee43c9d407dbd6f746f6249337ba2
",git fetch https://review.opendev.org/openstack/magnum refs/changes/60/688060/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",2,8a59e19a4c45aa44651c3400731546da3155823b,train-9.1.0,"KUBE_PROXY_ARGS=""--kubeconfig=${PROXY_KUBECONFIG} --cluster-cidr=${PODS_NETWORK_CIDR} --hostname-override=${INSTANCE_NAME}""","KUBE_PROXY_ARGS=""--kubeconfig=${PROXY_KUBECONFIG} --cluster-cidr=${PODS_NETWORK_CIDR}""",2,2
openstack%2Fmagnum~stable%2Ftrain~I1f3067808ba1864f001a9c542b0288ef578ca9b8,openstack/magnum,stable/train,I1f3067808ba1864f001a9c542b0288ef578ca9b8,Set cniVersion for flannel,MERGED,2019-10-11 08:13:09.000000000,2019-10-11 20:17:03.000000000,2019-10-11 20:17:03.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-11 08:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/172d1cecc229da1c24b21a04860eb7b45ce457c3', 'message': 'Set cniVersion for flannel\n\nflannel cni config requires cniVersion to be set.\nupstream fix: https://github.com/coreos/flannel/pull/1174/files\n\nstory: 2006459\ntask: 36870\n\nChange-Id: I1f3067808ba1864f001a9c542b0288ef578ca9b8\n'}, {'number': 2, 'created': '2019-10-11 08:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7336c2063b6e20881ea9cd19934defe287a53d21', 'message': 'Set cniVersion for flannel\n\nflannel cni config requires cniVersion to be set.\nupstream fix: https://github.com/coreos/flannel/pull/1174/files\n\nstory: 2006459\ntask: 36870\n\nChange-Id: I1f3067808ba1864f001a9c542b0288ef578ca9b8\n'}, {'number': 3, 'created': '2019-10-11 08:40:17.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b2ee79e26db897d5e4a28dce6bb18f84a82153f0', 'message': 'Set cniVersion for flannel\n\nflannel cni config requires cniVersion to be set.\nupstream fix: https://github.com/coreos/flannel/pull/1174/files\n\nstory: 2006459\ntask: 36870\n\n(cherry picked from commit 67ee8eaa72c2a24cdf193327a7860db897c89ab9)\nChange-Id: I1f3067808ba1864f001a9c542b0288ef578ca9b8\n'}]",0,688059,b2ee79e26db897d5e4a28dce6bb18f84a82153f0,10,3,3,20498,,,0,"Set cniVersion for flannel

flannel cni config requires cniVersion to be set.
upstream fix: https://github.com/coreos/flannel/pull/1174/files

story: 2006459
task: 36870

(cherry picked from commit 67ee8eaa72c2a24cdf193327a7860db897c89ab9)
Change-Id: I1f3067808ba1864f001a9c542b0288ef578ca9b8
",git fetch https://review.opendev.org/openstack/magnum refs/changes/59/688059/3 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh'],1,172d1cecc229da1c24b21a04860eb7b45ce457c3,train-9.1.0," ""cniVersion"": ""0.2.0"",",,1,0
openstack%2Fmagnum~stable%2Ftrain~Ibb589ec51f91f05a334c907560ef5fe57cbfbffb,openstack/magnum,stable/train,Ibb589ec51f91f05a334c907560ef5fe57cbfbffb,Improve log of k8s health status check,MERGED,2019-10-11 08:13:09.000000000,2019-10-11 20:16:59.000000000,2019-10-11 20:16:59.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-11 08:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/292ab236fab75c0a05936b83bc0538564c93817a', 'message': 'Improve log of k8s health status check\n\nWhen the k8s cluster is created in a private network without\nFIP and without a LB FIP, the cluster is not reachable by Magnum\ncontrol plane. For this case, the cluster health status is unknown\nfor Magnum and Magnum should not connect the cluster to avoid\nunnecessary logs.\n\nTask: 36187\nStory: 2006383\n\nChange-Id: Ibb589ec51f91f05a334c907560ef5fe57cbfbffb\n'}, {'number': 2, 'created': '2019-10-11 08:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a59a47d2231794bd4e56468a71ba58113ecc936e', 'message': 'Improve log of k8s health status check\n\nWhen the k8s cluster is created in a private network without\nFIP and without a LB FIP, the cluster is not reachable by Magnum\ncontrol plane. For this case, the cluster health status is unknown\nfor Magnum and Magnum should not connect the cluster to avoid\nunnecessary logs.\n\nTask: 36187\nStory: 2006383\n\nChange-Id: Ibb589ec51f91f05a334c907560ef5fe57cbfbffb\n'}, {'number': 3, 'created': '2019-10-11 08:40:17.000000000', 'files': ['magnum/tests/unit/conductor/test_monitors.py', 'magnum/objects/fields.py', 'magnum/tests/unit/objects/test_objects.py', 'magnum/drivers/common/k8s_monitor.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/27f0cf632131540cbad249946e81b8c64b02768b', 'message': 'Improve log of k8s health status check\n\nWhen the k8s cluster is created in a private network without\nFIP and without a LB FIP, the cluster is not reachable by Magnum\ncontrol plane. For this case, the cluster health status is unknown\nfor Magnum and Magnum should not connect the cluster to avoid\nunnecessary logs.\n\nTask: 36187\nStory: 2006383\n\n(cherry picked from commit 177d674e5d9bd5ef745da9b935fc74d8c0b994b8)\nChange-Id: Ibb589ec51f91f05a334c907560ef5fe57cbfbffb\n'}]",0,688058,27f0cf632131540cbad249946e81b8c64b02768b,10,3,3,20498,,,0,"Improve log of k8s health status check

When the k8s cluster is created in a private network without
FIP and without a LB FIP, the cluster is not reachable by Magnum
control plane. For this case, the cluster health status is unknown
for Magnum and Magnum should not connect the cluster to avoid
unnecessary logs.

Task: 36187
Story: 2006383

(cherry picked from commit 177d674e5d9bd5ef745da9b935fc74d8c0b994b8)
Change-Id: Ibb589ec51f91f05a334c907560ef5fe57cbfbffb
",git fetch https://review.opendev.org/openstack/magnum refs/changes/58/688058/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/unit/conductor/test_monitors.py', 'magnum/objects/fields.py', 'magnum/tests/unit/objects/test_objects.py', 'magnum/drivers/common/k8s_monitor.py']",4,292ab236fab75c0a05936b83bc0538564c93817a,train-9.1.0," if self._is_cluster_accessible(): status, reason = self._poll_health_status(k8s_api) else: status = m_fields.ClusterHealthStatus.UNKNOWN reason = {""api"": ""The cluster %s is not accessible."" % self.cluster.name} def _is_cluster_accessible(self): lb_fip = self.cluster.labels.get(""master_lb_floating_ip_enabled"") lb_fip_enabled = strutils.bool_from_string(lb_fip) return (self.cluster.floating_ip_enabled or (lb_fip_enabled and self.cluster.cluster_template.master_lb_enabled)) "," status, reason = self._poll_health_status(k8s_api)",31,5
openstack%2Fmagnum~stable%2Ftrain~Ib7e0503d475d7cd3164a116c3a0325c4ae417a0a,openstack/magnum,stable/train,Ib7e0503d475d7cd3164a116c3a0325c4ae417a0a,Change the order of resource creation,MERGED,2019-10-11 08:13:09.000000000,2019-10-11 20:16:55.000000000,2019-10-11 20:16:55.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 30609}]","[{'number': 1, 'created': '2019-10-11 08:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/331c70035b2f05dc59d28250865d45f1b683e144', 'message': 'Change the order of resource creation\n\nResource creation order in kubernetes templates for Fedora Atomic\nwas changed to avoid neutron bug https://bugs.launchpad.net/neutron/+bug/1845360\nFloating IP should be assigned to network port after instance creation\n\nChange-Id: Ib7e0503d475d7cd3164a116c3a0325c4ae417a0a\nStory: 2006631\nTask: 36844\n'}, {'number': 2, 'created': '2019-10-11 08:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/475c67b28ecaed7d60bec1635cab9ea8ca8e9cb9', 'message': 'Change the order of resource creation\n\nResource creation order in kubernetes templates for Fedora Atomic\nwas changed to avoid neutron bug https://bugs.launchpad.net/neutron/+bug/1845360\nFloating IP should be assigned to network port after instance creation\n\nChange-Id: Ib7e0503d475d7cd3164a116c3a0325c4ae417a0a\nStory: 2006631\nTask: 36844\n'}, {'number': 3, 'created': '2019-10-11 08:40:17.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/209846cabeb72fbaaf22d3d421fee051903ba86c', 'message': 'Change the order of resource creation\n\nResource creation order in kubernetes templates for Fedora Atomic\nwas changed to avoid neutron bug https://bugs.launchpad.net/neutron/+bug/1845360\nFloating IP should be assigned to network port after instance creation\n\nStory: 2006631\nTask: 36844\n\n(cherry picked from commit 1cc67079500bdd1ed2223a82874142c78880e9a3)\nChange-Id: Ib7e0503d475d7cd3164a116c3a0325c4ae417a0a\n'}]",0,688057,209846cabeb72fbaaf22d3d421fee051903ba86c,10,4,3,20498,,,0,"Change the order of resource creation

Resource creation order in kubernetes templates for Fedora Atomic
was changed to avoid neutron bug https://bugs.launchpad.net/neutron/+bug/1845360
Floating IP should be assigned to network port after instance creation

Story: 2006631
Task: 36844

(cherry picked from commit 1cc67079500bdd1ed2223a82874142c78880e9a3)
Change-Id: Ib7e0503d475d7cd3164a116c3a0325c4ae417a0a
",git fetch https://review.opendev.org/openstack/magnum refs/changes/57/688057/3 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml']",2,331c70035b2f05dc59d28250865d45f1b683e144,train-9.1.0, depends_on: kube-master,,2,0
openstack%2Ftripleo-heat-templates~master~I1bab3e0e669f4f8ffb55beb59fd4bef97bb597e4,openstack/tripleo-heat-templates,master,I1bab3e0e669f4f8ffb55beb59fd4bef97bb597e4,Remove python executable print,MERGED,2019-09-20 21:35:52.000000000,2019-10-11 20:09:53.000000000,2019-10-11 20:09:53.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-20 21:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91e622349b78347af1c210f2802316ebb5466d01', 'message': ""Remove python executable print\n\nWe don't need to print this out, let's drop this code.\n\nChange-Id: I1bab3e0e669f4f8ffb55beb59fd4bef97bb597e4\n""}, {'number': 2, 'created': '2019-09-25 17:01:23.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b347e0a2e2b984569ef8fbe2a50c258e8459de4', 'message': ""Remove python executable print\n\nWe don't need to print this out, let's drop this code.\n\nChange-Id: I1bab3e0e669f4f8ffb55beb59fd4bef97bb597e4\n""}]",0,683735,8b347e0a2e2b984569ef8fbe2a50c258e8459de4,33,7,2,14985,,,0,"Remove python executable print

We don't need to print this out, let's drop this code.

Change-Id: I1bab3e0e669f4f8ffb55beb59fd4bef97bb597e4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/683735/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,91e622349b78347af1c210f2802316ebb5466d01,cleanup,," - name: print python facts debug: msg: ""python_cmd: {{ python_cmd }}"" tags: - container_config_tasks ",0,7
openstack%2Fneutron~stable%2Focata~I6382f5dc3507c47cebcfbe9ae4bff15e7edf9424,openstack/neutron,stable/ocata,I6382f5dc3507c47cebcfbe9ae4bff15e7edf9424,DVR: Multiple csnat ports created when RouterPort table update fails,ABANDONED,2019-10-07 10:08:57.000000000,2019-10-11 20:09:11.000000000,,"[{'_account_id': 7016}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 25290}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-07 10:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cafa2bd04a77046331035b7e3b7a2b6e2df5ab23', 'message': 'DVR: Multiple csnat ports created when RouterPort create fails\n\nWhen router interfaces are added to DVR router, if the router has\ngateway configured, then the internal csnat ports are created for\nthe corresponding router interfaces.\nWe have seen recently after the csnat port is created if the\nRouterPort table update fails, there is a DB retry that is happening\nand that retry operation is creating an additional csnat port.\nThis additional port is not getting removed automatically when the\nrouter interfaces are deleted.\nThis issue is seen when testing with a simple heat template as\nper the bug report.\n\nThis patch fixes the issue by calling the RouterPort create with\ndelete_port_on_error context.\n\nCloses-Bug: #1709774\n(cherry picked from commit 8c3cb2e15b48f5e2b0c3d22550f00f3c7adc7f33)\n(cherry picked from commit 33fb5917248255b759dfe7ff20e53273c9f6170c)\n\nChange-Id: I6382f5dc3507c47cebcfbe9ae4bff15e7edf9424\n'}, {'number': 2, 'created': '2019-10-07 21:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6463c6386582ed3ec08ba4a306110c045c23c83', 'message': 'DVR: Multiple csnat ports created when RouterPort create fails\n\nWhen router interfaces are added to DVR router, if the router has\ngateway configured, then the internal csnat ports are created for\nthe corresponding router interfaces.\nWe have seen recently after the csnat port is created if the\nRouterPort table update fails, there is a DB retry that is happening\nand that retry operation is creating an additional csnat port.\nThis additional port is not getting removed automatically when the\nrouter interfaces are deleted.\nThis issue is seen when testing with a simple heat template as\nper the bug report.\n\nThis patch fixes the issue by calling the RouterPort create with\ndelete_port_on_error context.\n\nCloses-Bug: #1709774\n(cherry picked from commit 8c3cb2e15b48f5e2b0c3d22550f00f3c7adc7f33)\n(cherry picked from commit 33fb5917248255b759dfe7ff20e53273c9f6170c)\n\nChange-Id: I6382f5dc3507c47cebcfbe9ae4bff15e7edf9424\n'}, {'number': 3, 'created': '2019-10-10 09:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b48f85e78e86d5aae43f67da8177222b79911381', 'message': 'DVR: Multiple csnat ports created when RouterPort table update fails\n\nWhen router interfaces are added to DVR router, if the router has\ngateway configured, then the internal csnat ports are created for\nthe corresponding router interfaces.\nWe have seen recently after the csnat port is created if the\nRouterPort table update fails, there is a DB retry that is happening\nand that retry operation is creating an additional csnat port.\nThis additional port is not getting removed automatically when the\nrouter interfaces are deleted.\nThis issue is seen when testing with a simple heat template as\nper the bug report.\n\nThis patch fixes the issue by calling the RouterPort create with\ndelete_port_on_error context.\n\nConflicts:\n        neutron/db/l3_dvr_db.py\n        neutron/tests/unit/db/test_l3_dvr_db.py\n\nChange-Id: I6382f5dc3507c47cebcfbe9ae4bff15e7edf9424\nCloses-Bug: #1709774\n(cherry picked from commit 8c3cb2e15b48f5e2b0c3d22550f00f3c7adc7f33)\n(cherry picked from commit 33fb5917248255b759dfe7ff20e53273c9f6170c)\n'}, {'number': 4, 'created': '2019-10-10 10:00:34.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a37d67b4c4f3c8b43bb2687ecfdf596cc3efca6', 'message': 'DVR: Multiple csnat ports created when RouterPort table update fails\n\nWhen router interfaces are added to DVR router, if the router has\ngateway configured, then the internal csnat ports are created for\nthe corresponding router interfaces.\nWe have seen recently after the csnat port is created if the\nRouterPort table update fails, there is a DB retry that is happening\nand that retry operation is creating an additional csnat port.\nThis additional port is not getting removed automatically when the\nrouter interfaces are deleted.\nThis issue is seen when testing with a simple heat template as\nper the bug report.\n\nThis patch fixes the issue by calling the RouterPort create with\ndelete_port_on_error context.\n\nConflicts:\n        neutron/db/l3_dvr_db.py\n        neutron/tests/unit/db/test_l3_dvr_db.py\n\nChange-Id: I6382f5dc3507c47cebcfbe9ae4bff15e7edf9424\nCloses-Bug: #1709774\n(cherry picked from commit 8c3cb2e15b48f5e2b0c3d22550f00f3c7adc7f33)\n(cherry picked from commit 33fb5917248255b759dfe7ff20e53273c9f6170c)\n'}]",3,686994,7a37d67b4c4f3c8b43bb2687ecfdf596cc3efca6,21,6,4,25290,,,0,"DVR: Multiple csnat ports created when RouterPort table update fails

When router interfaces are added to DVR router, if the router has
gateway configured, then the internal csnat ports are created for
the corresponding router interfaces.
We have seen recently after the csnat port is created if the
RouterPort table update fails, there is a DB retry that is happening
and that retry operation is creating an additional csnat port.
This additional port is not getting removed automatically when the
router interfaces are deleted.
This issue is seen when testing with a simple heat template as
per the bug report.

This patch fixes the issue by calling the RouterPort create with
delete_port_on_error context.

Conflicts:
        neutron/db/l3_dvr_db.py
        neutron/tests/unit/db/test_l3_dvr_db.py

Change-Id: I6382f5dc3507c47cebcfbe9ae4bff15e7edf9424
Closes-Bug: #1709774
(cherry picked from commit 8c3cb2e15b48f5e2b0c3d22550f00f3c7adc7f33)
(cherry picked from commit 33fb5917248255b759dfe7ff20e53273c9f6170c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/686994/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py']",3,cafa2bd04a77046331035b7e3b7a2b6e2df5ab23,fix-multiple-csnat-ports," def test_csnat_ports_are_created_and_deleted_based_on_router_subnet(self): kwargs = {'arg_list': (external_net.EXTERNAL,), external_net.EXTERNAL: True} net1 = self._make_network(self.fmt, 'net1', True) subnet1 = self._make_subnet( self.fmt, net1, '10.1.0.1', '10.1.0.0/24', enable_dhcp=True) subnet2 = self._make_subnet( self.fmt, net1, '10.2.0.1', '10.2.0.0/24', enable_dhcp=True) ext_net = self._make_network(self.fmt, 'ext_net', True, **kwargs) self._make_subnet( self.fmt, ext_net, '20.0.0.1', '20.0.0.0/24', enable_dhcp=True) # Create first router and add an interface router1 = self._create_router() ext_net_id = ext_net['network']['id'] net1_id = net1['network']['id'] # Set gateway to router self.l3_plugin._update_router_gw_info( self.context, router1['id'], {'network_id': ext_net_id}) # Now add router interface (subnet1) from net1 to router self.l3_plugin.add_router_interface( self.context, router1['id'], {'subnet_id': subnet1['subnet']['id']}) # Now add router interface (subnet2) from net1 to router self.l3_plugin.add_router_interface( self.context, router1['id'], {'subnet_id': subnet2['subnet']['id']}) # Now check the valid snat interfaces passed to the agent snat_router_intfs = self.l3_plugin._get_snat_sync_interfaces( self.context, [router1['id']]) self.assertEqual(2, len(snat_router_intfs[router1['id']])) # Also make sure that there are no csnat ports created and # left over. csnat_ports = self.core_plugin.get_ports( self.context, filters={ 'network_id': [net1_id], 'device_owner': [constants.DEVICE_OWNER_ROUTER_SNAT]}) self.assertEqual(2, len(csnat_ports)) # Now remove router interface (subnet1) from net1 to router self.l3_plugin.remove_router_interface( self.context, router1['id'], {'subnet_id': subnet1['subnet']['id']}) # Now remove router interface (subnet2) from net1 to router self.l3_plugin.remove_router_interface( self.context, router1['id'], {'subnet_id': subnet2['subnet']['id']}) snat_router_intfs = self.l3_plugin._get_snat_sync_interfaces( self.context, [router1['id']]) self.assertEqual(0, len(snat_router_intfs[router1['id']])) # Also make sure that there are no csnat ports created and # left over. csnat_ports = self.core_plugin.get_ports( self.context, filters={ 'network_id': [net1_id], 'device_owner': [constants.DEVICE_OWNER_ROUTER_SNAT]}) self.assertEqual(0, len(csnat_ports)) ",,101,11
openstack%2Fneutron~stable%2Focata~I916011f2200f02556ebb30bce30e349a8023602c,openstack/neutron,stable/ocata,I916011f2200f02556ebb30bce30e349a8023602c,DVR: Multiple csnat ports created when RouterPort table update fails,MERGED,2017-12-14 12:57:45.000000000,2019-10-11 20:03:51.000000000,2019-10-11 20:03:51.000000000,"[{'_account_id': 1131}, {'_account_id': 7016}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 25290}, {'_account_id': 26622}]","[{'number': 1, 'created': '2017-12-14 12:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e4afc5b3a77172997cbbd529c29eb83e1dc1b15', 'message': 'DVR: Multiple csnat ports created when RouterPort table update fails\n\nWhen router interfaces are added to DVR router, if the router has\ngateway configured, then the internal csnat ports are created for\nthe corresponding router interfaces.\nWe have seen recently after the csnat port is created if the\nRouterPort table update fails, there is a DB retry that is happening\nand that retry operation is creating an additional csnat port.\nThis additional port is not getting removed automatically when the\nrouter interfaces are deleted.\nThis issue is seen when testing with a simple heat template as\nper the bug report.\n\nThis patch fixes the issue by calling the RouterPort create with\ndelete_port_on_error context.\n\nChange-Id: I916011f2200f02556ebb30bce30e349a8023602c\nCloses-Bug: #1709774\n(cherry picked from commit 8c3cb2e15b48f5e2b0c3d22550f00f3c7adc7f33)\n'}, {'number': 2, 'created': '2019-10-10 10:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/07485c04a93d75396030ee88424d79e0f50146c7', 'message': 'DVR: Multiple csnat ports created when RouterPort table update fails\n\nWhen router interfaces are added to DVR router, if the router has\ngateway configured, then the internal csnat ports are created for\nthe corresponding router interfaces.\nWe have seen recently after the csnat port is created if the\nRouterPort table update fails, there is a DB retry that is happening\nand that retry operation is creating an additional csnat port.\nThis additional port is not getting removed automatically when the\nrouter interfaces are deleted.\nThis issue is seen when testing with a simple heat template as\nper the bug report.\n\nThis patch fixes the issue by calling the RouterPort create with\ndelete_port_on_error context.\n\nConflicts:\n        neutron/db/l3_dvr_db.py\n        neutron/tests/unit/db/test_l3_dvr_db.py\n\nChange-Id: I916011f2200f02556ebb30bce30e349a8023602c\nCloses-Bug: #1709774\n(cherry picked from commit 8c3cb2e15b48f5e2b0c3d22550f00f3c7adc7f33)\n'}, {'number': 3, 'created': '2019-10-10 10:24:05.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2028a66f21af596cd59e2a6f7d9bb05f6d5f7292', 'message': 'DVR: Multiple csnat ports created when RouterPort table update fails\n\nWhen router interfaces are added to DVR router, if the router has\ngateway configured, then the internal csnat ports are created for\nthe corresponding router interfaces.\nWe have seen recently after the csnat port is created if the\nRouterPort table update fails, there is a DB retry that is happening\nand that retry operation is creating an additional csnat port.\nThis additional port is not getting removed automatically when the\nrouter interfaces are deleted.\nThis issue is seen when testing with a simple heat template as\nper the bug report.\n\nThis patch fixes the issue by calling the RouterPort create with\ndelete_port_on_error context.\n\nConflicts:\n        neutron/db/l3_dvr_db.py\n        neutron/tests/unit/db/test_l3_dvr_db.py\n\nChange-Id: I916011f2200f02556ebb30bce30e349a8023602c\nCloses-Bug: #1709774\n(cherry picked from commit 8c3cb2e15b48f5e2b0c3d22550f00f3c7adc7f33)\nSigned-off-by: Mikhail Ushanov <gm.mephisto@gmail.com>\n'}]",0,527952,2028a66f21af596cd59e2a6f7d9bb05f6d5f7292,29,9,3,7872,,,0,"DVR: Multiple csnat ports created when RouterPort table update fails

When router interfaces are added to DVR router, if the router has
gateway configured, then the internal csnat ports are created for
the corresponding router interfaces.
We have seen recently after the csnat port is created if the
RouterPort table update fails, there is a DB retry that is happening
and that retry operation is creating an additional csnat port.
This additional port is not getting removed automatically when the
router interfaces are deleted.
This issue is seen when testing with a simple heat template as
per the bug report.

This patch fixes the issue by calling the RouterPort create with
delete_port_on_error context.

Conflicts:
        neutron/db/l3_dvr_db.py
        neutron/tests/unit/db/test_l3_dvr_db.py

Change-Id: I916011f2200f02556ebb30bce30e349a8023602c
Closes-Bug: #1709774
(cherry picked from commit 8c3cb2e15b48f5e2b0c3d22550f00f3c7adc7f33)
Signed-off-by: Mikhail Ushanov <gm.mephisto@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/527952/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py']",3,9e4afc5b3a77172997cbbd529c29eb83e1dc1b15,fix-multiple-csnat-ports," def test_csnat_ports_are_created_and_deleted_based_on_router_subnet(self): kwargs = {'arg_list': (external_net.EXTERNAL,), external_net.EXTERNAL: True} net1 = self._make_network(self.fmt, 'net1', True) subnet1 = self._make_subnet( self.fmt, net1, '10.1.0.1', '10.1.0.0/24', enable_dhcp=True) subnet2 = self._make_subnet( self.fmt, net1, '10.2.0.1', '10.2.0.0/24', enable_dhcp=True) ext_net = self._make_network(self.fmt, 'ext_net', True, **kwargs) self._make_subnet( self.fmt, ext_net, '20.0.0.1', '20.0.0.0/24', enable_dhcp=True) # Create first router and add an interface router1 = self._create_router() ext_net_id = ext_net['network']['id'] net1_id = net1['network']['id'] # Set gateway to router self.l3_plugin._update_router_gw_info( self.context, router1['id'], {'network_id': ext_net_id}) # Now add router interface (subnet1) from net1 to router self.l3_plugin.add_router_interface( self.context, router1['id'], {'subnet_id': subnet1['subnet']['id']}) # Now add router interface (subnet2) from net1 to router self.l3_plugin.add_router_interface( self.context, router1['id'], {'subnet_id': subnet2['subnet']['id']}) # Now check the valid snat interfaces passed to the agent snat_router_intfs = self.l3_plugin._get_snat_sync_interfaces( self.context, [router1['id']]) self.assertEqual(2, len(snat_router_intfs[router1['id']])) # Also make sure that there are no csnat ports created and # left over. csnat_ports = self.core_plugin.get_ports( self.context, filters={ 'network_id': [net1_id], 'device_owner': [constants.DEVICE_OWNER_ROUTER_SNAT]}) self.assertEqual(2, len(csnat_ports)) # Now remove router interface (subnet1) from net1 to router self.l3_plugin.remove_router_interface( self.context, router1['id'], {'subnet_id': subnet1['subnet']['id']}) # Now remove router interface (subnet2) from net1 to router self.l3_plugin.remove_router_interface( self.context, router1['id'], {'subnet_id': subnet2['subnet']['id']}) snat_router_intfs = self.l3_plugin._get_snat_sync_interfaces( self.context, [router1['id']]) self.assertEqual(0, len(snat_router_intfs[router1['id']])) # Also make sure that there are no csnat ports created and # left over. csnat_ports = self.core_plugin.get_ports( self.context, filters={ 'network_id': [net1_id], 'device_owner': [constants.DEVICE_OWNER_ROUTER_SNAT]}) self.assertEqual(0, len(csnat_ports)) ",,100,11
openstack%2Fopenstack-ansible~stable%2Fstein~If4a4648e3b8081fd47470f4a07402a55c3a3b268,openstack/openstack-ansible,stable/stein,If4a4648e3b8081fd47470f4a07402a55c3a3b268,Bump SHAs for stable/stein,MERGED,2019-10-06 15:09:01.000000000,2019-10-11 19:48:32.000000000,2019-10-11 19:46:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-06 15:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4d6b8d2a4171e8d6418a44a108e0d41c52b179d4', 'message': 'Bump SHAs for stable/stein\n\nChange-Id: If4a4648e3b8081fd47470f4a07402a55c3a3b268\n'}, {'number': 2, 'created': '2019-10-08 07:53:08.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8a163e79489e1c60d22cc3a2c0b8590cc92fa412', 'message': 'Bump SHAs for stable/stein\n\nChange-Id: If4a4648e3b8081fd47470f4a07402a55c3a3b268\n'}]",0,686942,8a163e79489e1c60d22cc3a2c0b8590cc92fa412,20,3,2,17068,,,0,"Bump SHAs for stable/stein

Change-Id: If4a4648e3b8081fd47470f4a07402a55c3a3b268
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/42/686942/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,4d6b8d2a4171e8d6418a44a108e0d41c52b179d4,bump_osa, version: 0276baa552a9d59f3343ad0fea1ef3078d5e847e version: 556052b23587aee0ff2e1350dde0027e5a4cf7c3 version: 4a9217ed0fe9078152435daaa2d3f45b81021b3a, version: 72f0f76f3059aecfa7cf790d5c9dd3abad0104cd version: 28009496f60fed9fc9123b691c62ba4d2b3e31d1 version: 1d08d52ae37f25d263759f96651d5bc36d688bda,52,52
openstack%2Ftripleo-heat-templates~stable%2Frocky~Iaea231cd06a900baa6cfdc9ad69df455623ee120,openstack/tripleo-heat-templates,stable/rocky,Iaea231cd06a900baa6cfdc9ad69df455623ee120,Fix missing conditions header in octavia,MERGED,2019-10-10 20:09:31.000000000,2019-10-11 19:44:31.000000000,2019-10-11 19:44:31.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-10 20:09:31.000000000', 'files': ['docker/services/octavia/octavia-deployment-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/75af368ecee1d5f903bf6c5e36452a8d08013044', 'message': 'Fix missing conditions header in octavia\n\nThe ""conditions"" section header got dropped during a backport in change\nI05f69df627e5637fdb254285cb3ad6d3d8328f90\n\nChange-Id: Iaea231cd06a900baa6cfdc9ad69df455623ee120\n'}]",0,687975,75af368ecee1d5f903bf6c5e36452a8d08013044,10,3,1,6681,,,0,"Fix missing conditions header in octavia

The ""conditions"" section header got dropped during a backport in change
I05f69df627e5637fdb254285cb3ad6d3d8328f90

Change-Id: Iaea231cd06a900baa6cfdc9ad69df455623ee120
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/687975/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/octavia/octavia-deployment-config.yaml'],1,75af368ecee1d5f903bf6c5e36452a8d08013044,rocky,conditions: ,,2,0
openstack%2Ftripleo-heat-templates~master~Iceff88c6f4710c8023541314ac08c1ea4100cee7,openstack/tripleo-heat-templates,master,Iceff88c6f4710c8023541314ac08c1ea4100cee7,Add toggle to enable/disable Paunch for a deployment,MERGED,2019-10-10 16:02:16.000000000,2019-10-11 19:09:27.000000000,2019-10-11 19:09:26.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-10 16:02:16.000000000', 'files': ['common/deploy-steps.j2', 'common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/474d3d3a55ccf9ad8c090658ad65752cc528b355', 'message': 'Add toggle to enable/disable Paunch for a deployment\n\nDefault is True for backward compatibility. For now, only Paunch is\nsupported but there are some alternatives under development:\nI2f88caa8e1c230dfe846a8a0dd9f939b98992cd5\n\nChange-Id: Iceff88c6f4710c8023541314ac08c1ea4100cee7\n'}]",0,687945,474d3d3a55ccf9ad8c090658ad65752cc528b355,10,6,1,3153,,,0,"Add toggle to enable/disable Paunch for a deployment

Default is True for backward compatibility. For now, only Paunch is
supported but there are some alternatives under development:
I2f88caa8e1c230dfe846a8a0dd9f939b98992cd5

Change-Id: Iceff88c6f4710c8023541314ac08c1ea4100cee7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/687945/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps.j2', 'common/deploy-steps-tasks.yaml']",2,474d3d3a55ccf9ad8c090658ad65752cc528b355,p-toggle, - name: Start containers for step {{ step }} using paunch when: enable_paunch|default(true) when: enable_paunch|default(true), - name: Start containers for step {{ step }},15,1
openstack%2Fpuppet-nova~stable%2Ftrain~Ib5ea5ac3ee8fa14ef8d5d3dcdf850a6ad99e73bf,openstack/puppet-nova,stable/train,Ib5ea5ac3ee8fa14ef8d5d3dcdf850a6ad99e73bf,Switch to Train,MERGED,2019-10-09 23:10:42.000000000,2019-10-11 19:08:54.000000000,2019-10-11 19:08:54.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:10:42.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d58e656a9e8ad25a98813545f9998779a3dbef59', 'message': 'Switch to Train\n\nChange-Id: Ib5ea5ac3ee8fa14ef8d5d3dcdf850a6ad99e73bf\n'}]",0,687718,d58e656a9e8ad25a98813545f9998779a3dbef59,17,4,1,16137,,,0,"Switch to Train

Change-Id: Ib5ea5ac3ee8fa14ef8d5d3dcdf850a6ad99e73bf
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/18/687718/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,d58e656a9e8ad25a98813545f9998779a3dbef59,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-nova~stable%2Fstein~Iae595796559cc6551d8ae27e2573122a8a2da15d,openstack/puppet-nova,stable/stein,Iae595796559cc6551d8ae27e2573122a8a2da15d,"Fix ""More than one line in file '/etc/sysconfig/libvirtd' matches pattern"" errors",MERGED,2019-10-10 22:11:33.000000000,2019-10-11 19:08:53.000000000,2019-10-11 19:08:53.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 17130}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 22:11:33.000000000', 'files': ['manifests/migration/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/fd55aae79f2a1c472d852a796d386b7c0c1952e7', 'message': 'Fix ""More than one line in file \'/etc/sysconfig/libvirtd\' matches pattern"" errors\n\nThe current code that matches the LIBVIRTD_ARGS= lines can have multiple\nmatches if said line shows up multiple times in a comment and we can end\nup with the following error:\n\n  Error: /Stage[main]/Nova::Migration::Libvirt/File_line[/etc/sysconfig/libvirtd libvirtd args]/\n    ensure: change from \'absent\' to \'present\' failed: More than one line in file \'/etc/sysconfig/libvirtd\' matches pattern\n      \'LIBVIRTD_ARGS=\'\n\nFor the record the sysconfig file that triggered this error had the\nfollowing lines:\n\n  # connects.\n  LIBVIRTD_ARGS=""--timeout 120""\n\n  # If systemd socket activation is disabled, then the following\n  # can be used to listen on TCP/TLS sockets\n  #LIBVIRTD_ARGS=""--listen""\n\nTested this change and I correctly did not fail the deployment anymore.\n\nChange-Id: Iae595796559cc6551d8ae27e2573122a8a2da15d\nCloses-Bug: #1847288\n(cherry picked from commit 8377b33bd1e96eda6342d009f85301c5f9acfc03)\n'}]",0,687994,fd55aae79f2a1c472d852a796d386b7c0c1952e7,9,6,1,14985,,,0,"Fix ""More than one line in file '/etc/sysconfig/libvirtd' matches pattern"" errors

The current code that matches the LIBVIRTD_ARGS= lines can have multiple
matches if said line shows up multiple times in a comment and we can end
up with the following error:

  Error: /Stage[main]/Nova::Migration::Libvirt/File_line[/etc/sysconfig/libvirtd libvirtd args]/
    ensure: change from 'absent' to 'present' failed: More than one line in file '/etc/sysconfig/libvirtd' matches pattern
      'LIBVIRTD_ARGS='

For the record the sysconfig file that triggered this error had the
following lines:

  # connects.
  LIBVIRTD_ARGS=""--timeout 120""

  # If systemd socket activation is disabled, then the following
  # can be used to listen on TCP/TLS sockets
  #LIBVIRTD_ARGS=""--listen""

Tested this change and I correctly did not fail the deployment anymore.

Change-Id: Iae595796559cc6551d8ae27e2573122a8a2da15d
Closes-Bug: #1847288
(cherry picked from commit 8377b33bd1e96eda6342d009f85301c5f9acfc03)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/94/687994/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/migration/libvirt.pp'],1,fd55aae79f2a1c472d852a796d386b7c0c1952e7,fix_libvirt_lines-stable/stein," match => '^LIBVIRTD_ARGS=',"," match => 'LIBVIRTD_ARGS=',",1,1
openstack%2Fpuppet-cloudkitty~stable%2Ftrain~I7d30926601775ce061cdaace73289c690ccf87b8,openstack/puppet-cloudkitty,stable/train,I7d30926601775ce061cdaace73289c690ccf87b8,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-11 16:12:56.000000000,2019-10-11 19:08:02.000000000,2019-10-11 19:06:49.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 16:12:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/bb43b9cf12ed5ca33165a4821d82f6ca1aaa7641', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7d30926601775ce061cdaace73289c690ccf87b8\n'}]",0,688162,bb43b9cf12ed5ca33165a4821d82f6ca1aaa7641,7,2,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I7d30926601775ce061cdaace73289c690ccf87b8
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/62/688162/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bb43b9cf12ed5ca33165a4821d82f6ca1aaa7641,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fpuppet-cloudkitty~stable%2Ftrain~Ia9ead66b1550698e3e699cebc973e8ee6453bc0b,openstack/puppet-cloudkitty,stable/train,Ia9ead66b1550698e3e699cebc973e8ee6453bc0b,Update .gitreview for stable/train,MERGED,2019-10-11 16:12:52.000000000,2019-10-11 19:06:48.000000000,2019-10-11 19:06:48.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 16:12:52.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/ddc1a3ab917bc851836e98f3298102251f763b9c', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ia9ead66b1550698e3e699cebc973e8ee6453bc0b\n'}]",0,688161,ddc1a3ab917bc851836e98f3298102251f763b9c,6,2,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ia9ead66b1550698e3e699cebc973e8ee6453bc0b
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/61/688161/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ddc1a3ab917bc851836e98f3298102251f763b9c,create-train,defaultbranch=stable/train,,1,0
openstack%2Fkolla~stable%2Fstein~I5acb13e2afe86e956c0d98de4afe0c5097f3d8bf,openstack/kolla,stable/stein,I5acb13e2afe86e956c0d98de4afe0c5097f3d8bf,Bump stein cinder version to 14.0.2,MERGED,2019-10-10 15:42:52.000000000,2019-10-11 19:05:29.000000000,2019-10-11 19:04:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30740}]","[{'number': 1, 'created': '2019-10-10 15:42:52.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/bcd39624989f3099c4f3d827458e780b0de6ec98', 'message': 'Bump stein cinder version to 14.0.2\n\nChange-Id: I5acb13e2afe86e956c0d98de4afe0c5097f3d8bf\n'}]",0,687941,bcd39624989f3099c4f3d827458e780b0de6ec98,11,4,1,30740,,,0,"Bump stein cinder version to 14.0.2

Change-Id: I5acb13e2afe86e956c0d98de4afe0c5097f3d8bf
",git fetch https://review.opendev.org/openstack/kolla refs/changes/41/687941/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,bcd39624989f3099c4f3d827458e780b0de6ec98,," 'cinder-14.0.2.tar.gz')},"," 'cinder-14.0.1.tar.gz')},",1,1
openstack%2Fcharm-designate~master~If819c9abbff61134c2c689a5ab9f0872be937d34,openstack/charm-designate,master,If819c9abbff61134c2c689a5ab9f0872be937d34,Skip pool-manager-cache-sync for >= Rocky,MERGED,2019-10-11 13:30:04.000000000,2019-10-11 18:49:16.000000000,2019-10-11 18:49:16.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 13:30:04.000000000', 'files': ['src/lib/charm/openstack/designate.py'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/6a6d83327580252332a0b43d40e0d07f82bb8b0a', 'message': 'Skip pool-manager-cache-sync for >= Rocky\n\nAt Rocky, the use of the pool-manager service was dropped; ensure\nthat the sync step is a no-op as at Train this command has also\nbeen removed and is no longer required if the pool-manager is not\nin use.\n\nChange-Id: If819c9abbff61134c2c689a5ab9f0872be937d34\nCloses-Bug: 1847767\n'}]",0,688124,6a6d83327580252332a0b43d40e0d07f82bb8b0a,10,4,1,935,,,0,"Skip pool-manager-cache-sync for >= Rocky

At Rocky, the use of the pool-manager service was dropped; ensure
that the sync step is a no-op as at Train this command has also
been removed and is no longer required if the pool-manager is not
in use.

Change-Id: If819c9abbff61134c2c689a5ab9f0872be937d34
Closes-Bug: 1847767
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/24/688124/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/designate.py'],1,6a6d83327580252332a0b43d40e0d07f82bb8b0a,bug/1847767, def pool_manager_cache_sync(self): # NOTE(jamespage): # As the pool manager is no longer in use don't actually # sync it - just set the done flag and move on. if not self.pool_manager_cache_sync_done() and hookenv.is_leader(): hookenv.leader_set({'pool-manager-cache-sync-done': True}),,7,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I692dee9343906f2103fc6cf9f9f5944b81dbe8ec,openstack/tripleo-heat-templates,stable/queens,I692dee9343906f2103fc6cf9f9f5944b81dbe8ec,Add NeutronPermittedEthertypes on OVS agent,MERGED,2019-10-02 18:52:48.000000000,2019-10-11 18:45:16.000000000,2019-10-11 18:43:16.000000000,"[{'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-02 18:52:48.000000000', 'files': ['puppet/services/neutron-ovs-agent.yaml', 'releasenotes/notes/neutron-permitted-ethertypes-80dc7f2154786881.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f37401e415dc5e5c4b45cb88ac83aaf3cbb8110a', 'message': 'Add NeutronPermittedEthertypes on OVS agent\n\nAdds support for configuring additional ethernet types in neutron\nsecurity groups. See https://review.opendev.org/#/c/668224 for related\nneutron change.\n\nNote: this backports a change that involves a file merge and restructuring\n(puppet/services/neutron-ovs-agent.yaml=>deployment/neutron-ovs-agent-container-puppet.yaml)\n\nRelated-Bug: #1832758\nConflicts:\n  deployment/neutron/neutron-ovs-agent-container-puppet.yaml\n\nDepends-On: I9ed539745a705936d9a5110a9cfb05c2f28b0bbb\nChange-Id: I692dee9343906f2103fc6cf9f9f5944b81dbe8ec\n(cherry picked from commit 5d2951d72d5fcd4dc3ce4f6d8a30ca34c579fa0c)\n(cherry picked from commit 16442fcce2568ced7097d59d3bfbd2c4662cc22c)\n'}]",0,686247,f37401e415dc5e5c4b45cb88ac83aaf3cbb8110a,11,4,1,6681,,,0,"Add NeutronPermittedEthertypes on OVS agent

Adds support for configuring additional ethernet types in neutron
security groups. See https://review.opendev.org/#/c/668224 for related
neutron change.

Note: this backports a change that involves a file merge and restructuring
(puppet/services/neutron-ovs-agent.yaml=>deployment/neutron-ovs-agent-container-puppet.yaml)

Related-Bug: #1832758
Conflicts:
  deployment/neutron/neutron-ovs-agent-container-puppet.yaml

Depends-On: I9ed539745a705936d9a5110a9cfb05c2f28b0bbb
Change-Id: I692dee9343906f2103fc6cf9f9f5944b81dbe8ec
(cherry picked from commit 5d2951d72d5fcd4dc3ce4f6d8a30ca34c579fa0c)
(cherry picked from commit 16442fcce2568ced7097d59d3bfbd2c4662cc22c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/686247/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/neutron-ovs-agent.yaml', 'releasenotes/notes/neutron-permitted-ethertypes-80dc7f2154786881.yaml']",2,f37401e415dc5e5c4b45cb88ac83aaf3cbb8110a,queens,--- features: - | Added NeutronPermittedEthertypes to allow configuring additional ethertypes on neutron security groups for L2 agents that support it. ,,16,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I692dee9343906f2103fc6cf9f9f5944b81dbe8ec,openstack/tripleo-heat-templates,stable/rocky,I692dee9343906f2103fc6cf9f9f5944b81dbe8ec,Add NeutronPermittedEthertypes on OVS agent,MERGED,2019-10-02 18:49:54.000000000,2019-10-11 18:45:09.000000000,2019-10-11 18:43:14.000000000,"[{'_account_id': 11082}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-02 18:49:54.000000000', 'files': ['puppet/services/neutron-ovs-agent.yaml', 'releasenotes/notes/neutron-permitted-ethertypes-80dc7f2154786881.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16442fcce2568ced7097d59d3bfbd2c4662cc22c', 'message': 'Add NeutronPermittedEthertypes on OVS agent\n\nAdds support for configuring additional ethernet types in neutron\nsecurity groups. See https://review.opendev.org/#/c/668224 for related\nneutron change.\n\nNote: this backports a change that involves a file merge and restructuring\n(puppet/services/neutron-ovs-agent.yaml=>deployment/neutron-ovs-agent-container-puppet.yaml)\n\nRelated-Bug: #1832758\nConflicts:\n  deployment/neutron/neutron-ovs-agent-container-puppet.yaml\n\nDepends-On: I9ed539745a705936d9a5110a9cfb05c2f28b0bbb\nChange-Id: I692dee9343906f2103fc6cf9f9f5944b81dbe8ec\n(cherry picked from commit 5d2951d72d5fcd4dc3ce4f6d8a30ca34c579fa0c)\n'}]",0,686246,16442fcce2568ced7097d59d3bfbd2c4662cc22c,12,5,1,6681,,,0,"Add NeutronPermittedEthertypes on OVS agent

Adds support for configuring additional ethernet types in neutron
security groups. See https://review.opendev.org/#/c/668224 for related
neutron change.

Note: this backports a change that involves a file merge and restructuring
(puppet/services/neutron-ovs-agent.yaml=>deployment/neutron-ovs-agent-container-puppet.yaml)

Related-Bug: #1832758
Conflicts:
  deployment/neutron/neutron-ovs-agent-container-puppet.yaml

Depends-On: I9ed539745a705936d9a5110a9cfb05c2f28b0bbb
Change-Id: I692dee9343906f2103fc6cf9f9f5944b81dbe8ec
(cherry picked from commit 5d2951d72d5fcd4dc3ce4f6d8a30ca34c579fa0c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/686246/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/neutron-ovs-agent.yaml', 'releasenotes/notes/neutron-permitted-ethertypes-80dc7f2154786881.yaml']",2,16442fcce2568ced7097d59d3bfbd2c4662cc22c,rocky,--- features: - | Added NeutronPermittedEthertypes to allow configuring additional ethertypes on neutron security groups for L2 agents that support it. ,,16,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I692dee9343906f2103fc6cf9f9f5944b81dbe8ec,openstack/tripleo-heat-templates,stable/stein,I692dee9343906f2103fc6cf9f9f5944b81dbe8ec,Add NeutronPermittedEthertypes on OVS agent,MERGED,2019-10-02 18:42:04.000000000,2019-10-11 18:44:47.000000000,2019-10-11 18:43:12.000000000,"[{'_account_id': 6926}, {'_account_id': 11082}, {'_account_id': 13995}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-02 18:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc01bda95cb6b2f6d9429e67d9dd422ea0df59e7', 'message': 'Add NeutronPermittedEthertypes on OVS agent\n\nAdds support for configuring additional ethernet types in neutron\nsecurity groups. See https://review.opendev.org/#/c/668224 for related\nneutron change.\n\nRelated-Bug: #1832758\nConflicts:\n  deployment/neutron/neutron-ovs-agent-container-puppet.yaml\n\nDepends-On: I9ed539745a705936d9a5110a9cfb05c2f28b0bbb\nChange-Id: I692dee9343906f2103fc6cf9f9f5944b81dbe8ec\n(cherry picked from commit 5d2951d72d5fcd4dc3ce4f6d8a30ca34c579fa0c)\n'}, {'number': 2, 'created': '2019-10-08 13:47:04.000000000', 'files': ['releasenotes/notes/neutron-permitted-ethertypes-80dc7f2154786881.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7f250dae1b6c92999615e66e140ada7700b9ab46', 'message': 'Add NeutronPermittedEthertypes on OVS agent\n\nAdds support for configuring additional ethernet types in neutron\nsecurity groups. See https://review.opendev.org/#/c/668224 for related\nneutron change.\n\nRelated-Bug: #1832758\n\nDepends-On: I9ed539745a705936d9a5110a9cfb05c2f28b0bbb\nChange-Id: I692dee9343906f2103fc6cf9f9f5944b81dbe8ec\n(cherry-picked from commit 5d2951d72d5fcd4dc3ce4f6d8a30ca34c579fa0c)\n'}]",0,686245,7f250dae1b6c92999615e66e140ada7700b9ab46,13,6,2,6681,,,0,"Add NeutronPermittedEthertypes on OVS agent

Adds support for configuring additional ethernet types in neutron
security groups. See https://review.opendev.org/#/c/668224 for related
neutron change.

Related-Bug: #1832758

Depends-On: I9ed539745a705936d9a5110a9cfb05c2f28b0bbb
Change-Id: I692dee9343906f2103fc6cf9f9f5944b81dbe8ec
(cherry-picked from commit 5d2951d72d5fcd4dc3ce4f6d8a30ca34c579fa0c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/686245/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/neutron-permitted-ethertypes-80dc7f2154786881.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml']",2,dc01bda95cb6b2f6d9429e67d9dd422ea0df59e7,bug/1832758-stable/stein," NeutronPermittedEthertypes: default: [] description: | Set additional ethertypes to to be configured on neutron firewalls. type: comma_delimited_list ethertypes_unset: {equals : [{get_param: NeutronPermittedEthertypes}, []]} - if: - ethertypes_unset - {} - neutron::agents::ml2::ovs::permitted_ethertypes: {get_param: NeutronPermittedEthertypes} ",,17,0
openstack%2Ftripleo-heat-templates~master~I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6,openstack/tripleo-heat-templates,master,I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6,Ensure nova-api is running before starting nova-compute containers,MERGED,2019-09-09 14:50:57.000000000,2019-10-11 18:44:42.000000000,2019-10-11 18:43:10.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 10135}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-09-09 14:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/24c5829422d88d32a4e661ef192e41490d554b71', 'message': 'WIP: ensure nova-api is running before starting nova-compute\n\nChange-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6\nCloses-bug: #1842948\n'}, {'number': 2, 'created': '2019-09-09 14:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e03d1baaa67e1f3db3784673af59b6a63f7ba1cc', 'message': 'WIP: ensure nova-api is running before starting nova-compute\n\nChange-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6\nCloses-bug: #1842948\n'}, {'number': 3, 'created': '2019-09-09 19:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0febc1b3737870a3ca26092ba22bac4d44d01901', 'message': 'WIP: ensure nova-api is running before starting nova-compute\n\nChange-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6\nCloses-bug: #1842948\n'}, {'number': 4, 'created': '2019-09-10 11:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe56f64caf4e2c3a90edbac7958439d6009c73ec', 'message': 'WIP: ensure nova-api is running before starting nova-compute\n\nChange-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6\nCloses-bug: #1842948\n'}, {'number': 5, 'created': '2019-09-10 22:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e2ce48c4ffa0c6aee9911db5b95c6bcb5c24a3e5', 'message': 'WIP: ensure nova-api is running before starting nova-compute\n\nChange-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6\nCloses-bug: #1842948\n'}, {'number': 6, 'created': '2019-09-11 08:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f945147fbf1910ab8be54e160643df0b7e2e6ee', 'message': 'WIP: ensure nova-api is running before starting nova-compute\n\nChange-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6\nCloses-bug: #1842948\n'}, {'number': 7, 'created': '2019-09-11 10:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8269ffc8c24255fb9f021beb7692080a46278eee', 'message': 'WIP: ensure nova-api is running before starting nova-compute\n\nChange-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6\nCloses-bug: #1842948\n'}, {'number': 8, 'created': '2019-09-13 21:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab2c4c6a86472a68baaaefbf75293ea2a6e15535', 'message': 'WIP: ensure nova-api is running before starting nova-compute\n\nChange-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6\nCloses-bug: #1842948\n'}, {'number': 9, 'created': '2019-09-13 23:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/664bc336602dfe3d6ca4eb3efdebb7dc71765acb', 'message': 'WIP: ensure nova-api is running before starting nova-compute\n\nChange-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6\nCloses-bug: #1842948\n'}, {'number': 10, 'created': '2019-09-14 11:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/faf5c989ffbca6da250ccabeb891666d7ed2bd69', 'message': 'WIP: ensure nova-api is running before starting nova-compute\n\nChange-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6\nCloses-bug: #1842948\n'}, {'number': 11, 'created': '2019-09-14 16:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8cc6a1be2664f632b6850720ef25870f6c0de32', 'message': 'WIP: ensure nova-api is running before starting nova-compute\n\nChange-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6\nCloses-bug: #1842948\n'}, {'number': 12, 'created': '2019-09-14 16:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e8e5f429ce47e0f506a9741ff47422c2893046d', 'message': 'WIP: ensure nova-api is running before starting nova-compute\n\nChange-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6\nCloses-bug: #1842948\n'}, {'number': 13, 'created': '2019-09-25 20:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c20c9e339687d42aee32c17bd3079dff25839f93', 'message': 'WIP: ensure nova-api is running before starting nova-compute\n\nChange-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6\nCloses-bug: #1842948\n'}, {'number': 14, 'created': '2019-09-26 09:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/78c4eaa98755474b1de7384acd45f51cc2f01a58', 'message': 'WIP: ensure nova-api is running before starting nova-compute\n\nChange-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6\nCloses-bug: #1842948\n'}, {'number': 15, 'created': '2019-09-26 12:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/49cf2fdc3ba15ea97c79491186e7a08c1191300e', 'message': 'WIP: ensure nova-api is running before starting nova-compute\n\nChange-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6\nCloses-bug: #1842948\n'}, {'number': 16, 'created': '2019-09-26 14:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fdf68aecf0bdc83b4928d72daa823aac305b9b20', 'message': 'WIP: ensure nova-api is running before starting nova-compute\n\nChange-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6\nCloses-bug: #1842948\n'}, {'number': 17, 'created': '2019-09-27 14:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2454317087e0846aa79c23eebe162143611857fe', 'message': 'WIP: ensure nova-api is running before starting nova-compute\n\nChange-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6\nCloses-bug: #1842948\n'}, {'number': 18, 'created': '2019-09-27 22:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8811f71cacfbb7eacd300dbbd127e21b5bad30e1', 'message': 'Ensure nova-api is running before starting nova-compute containers\n\nIf nova-api is delayed starting then the nova_wait_for_compute_service\ncan timeout. A deployment using a slow/busy remote container repository is\nparticularly susceptible to this issue. To resolve this nova_compute and\nnova_wait_for_compute_service have been postponed to step_5 and a task\nhas been added to step_4 to ensure nova_api is active before proceeding.\n\nChange-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6\nCloses-bug: #1842948\n'}, {'number': 19, 'created': '2019-10-01 10:11:46.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml', 'container_config_scripts/nova_wait_for_api_service.py', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'releasenotes/notes/wait_for_nova_api-7af0c6db1b607216.yaml', 'container_config_scripts/placement_wait_for_service.py', 'deployment/nova/nova-compute-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a87cbcc349feb9cbd710e91d9805b0db2b8aba9', 'message': 'Ensure nova-api is running before starting nova-compute containers\n\nIf nova-api is delayed starting then the nova_wait_for_compute_service\ncan timeout. A deployment using a slow/busy remote container repository is\nparticularly susceptible to this issue. To resolve this nova_compute and\nnova_wait_for_compute_service have been postponed to step_5 and a task\nhas been added to step_4 to ensure nova_api is active before proceeding.\n\nChange-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6\nCloses-bug: #1842948\n'}]",15,681042,8a87cbcc349feb9cbd710e91d9805b0db2b8aba9,76,12,19,23811,,,0,"Ensure nova-api is running before starting nova-compute containers

If nova-api is delayed starting then the nova_wait_for_compute_service
can timeout. A deployment using a slow/busy remote container repository is
particularly susceptible to this issue. To resolve this nova_compute and
nova_wait_for_compute_service have been postponed to step_5 and a task
has been added to step_4 to ensure nova_api is active before proceeding.

Change-Id: I6fcbc5cb5d4f3cbb618d9661d2a36c868e18b3d6
Closes-bug: #1842948
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/681042/17 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/nova/nova-compute-common-container-puppet.yaml']",4,24c5829422d88d32a4e661ef192e41490d554b71,bug/1842687, # Runs as external_post_deploy_tasks - name: check if discover hosts is required - nova_cellv2_discovery_done is not defined block: # Could be included multiple times so ensure it only runs once - set_fact: nova_cellv2_discovery_done: true changed_when: false delegate_to: '{{ delegate_host }}', - name: discover nodes if it is not an additional cell block: changed_when: False - inventory_hostname == delegate_host,15,19
openstack%2Fnova~master~If373fedb8d2e0dfc46b8ac5b018f8216aa5c643c,openstack/nova,master,If373fedb8d2e0dfc46b8ac5b018f8216aa5c643c,"Add cache_image() support to the compute/{rpcapi,api,manager}",MERGED,2019-10-07 19:07:17.000000000,2019-10-11 18:44:29.000000000,2019-10-11 18:41:40.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28614}, {'_account_id': 28935}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-07 19:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f209c6eb609aafbe21bbdce59c32cde614ad6a4', 'message': 'Add cache_image() support to the compute rpc, api, and manager\n\nThis provides the API and RPC plumbing to call cache_image() on a\ngiven compute node. It also defines the status information that we\nreturn to the caller to indicate what has been done.\n\nRelated to blueprint image-precache-support\n\nChange-Id: If373fedb8d2e0dfc46b8ac5b018f8216aa5c643c\n'}, {'number': 2, 'created': '2019-10-07 20:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1fbda2bc5b09caaddde118dc30fbaa9f08f2667', 'message': 'Add cache_image() support to the compute rpc, api, and manager\n\nThis provides the API and RPC plumbing to call cache_image() on a\ngiven compute node. It also defines the status information that we\nreturn to the caller to indicate what has been done.\n\nRelated to blueprint image-precache-support\n\nChange-Id: If373fedb8d2e0dfc46b8ac5b018f8216aa5c643c\n'}, {'number': 3, 'created': '2019-10-08 16:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/860903df88f348b7a5aa4b9a177e24a3c1fdf464', 'message': 'Add cache_image() support to the compute rpc, api, and manager\n\nThis provides the API and RPC plumbing to call cache_image() on a\ngiven compute node. It also defines the status information that we\nreturn to the caller to indicate what has been done.\n\nRelated to blueprint image-precache-support\n\nChange-Id: If373fedb8d2e0dfc46b8ac5b018f8216aa5c643c\n'}, {'number': 4, 'created': '2019-10-10 14:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76d3cdbc5811743ce5b4ba2552d430bef02d2fc1', 'message': 'Add cache_image() support to the compute/{rpcapi,api,manager}\n\nThis provides the compute/api and compute/rpcapi plumbing to call\ncache_image() on a given compute node. It also defines the status\ninformation that we return to the caller to indicate what has been done.\n\nRelated to blueprint image-precache-support\n\nChange-Id: If373fedb8d2e0dfc46b8ac5b018f8216aa5c643c\n'}, {'number': 5, 'created': '2019-10-10 15:59:45.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/service.py', 'nova/conf/rpc.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/be278006a5862d237ead41025ad33e678b7fa62e', 'message': 'Add cache_image() support to the compute/{rpcapi,api,manager}\n\nThis provides the compute/api and compute/rpcapi plumbing to call\ncache_image() on a given compute node. It also defines the status\ninformation that we return to the caller to indicate what has been done.\n\nRelated to blueprint image-precache-support\n\nChange-Id: If373fedb8d2e0dfc46b8ac5b018f8216aa5c643c\n'}]",24,687138,be278006a5862d237ead41025ad33e678b7fa62e,52,16,5,4393,,,0,"Add cache_image() support to the compute/{rpcapi,api,manager}

This provides the compute/api and compute/rpcapi plumbing to call
cache_image() on a given compute node. It also defines the status
information that we return to the caller to indicate what has been done.

Related to blueprint image-precache-support

Change-Id: If373fedb8d2e0dfc46b8ac5b018f8216aa5c643c
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/687138/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/service.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py']",5,8f209c6eb609aafbe21bbdce59c32cde614ad6a4,bp/image-precache-support," * 5.4 - Add cache_images() support def cache_images(self, ctxt, host, image_ids): version = '5.4' client = self.router.client(ctxt) if not client.can_send_version(version): raise exception.NovaException('Compute RPC version pin does not ' 'allow cache_images() to be called') # This is a potentially very long-running call, so we provide the # two timeout values which enables the call monitor in oslo.messaging # so that this can run for extended periods. cctxt = client.prepare(server=host, version=version, call_monitor_timeout=CONF.rpc_response_timeout, timeout=CONF.long_rpc_timeout) return cctxt.call(ctxt, 'cache_images', image_ids=image_ids)",,107,2
openstack%2Frequirements~stable%2Ftrain~Ic49f393c8a6b612489d3729e703bf2b9801b2c86,openstack/requirements,stable/train,Ic49f393c8a6b612489d3729e703bf2b9801b2c86,update constraint for ceilometer to new release 13.0.0.0rc2,MERGED,2019-10-10 14:54:57.000000000,2019-10-11 18:41:44.000000000,2019-10-11 18:41:43.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 14:54:57.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/03f2a88a302a146257d6239f3421ae911b3fb4c2', 'message': 'update constraint for ceilometer to new release 13.0.0.0rc2\n\nChange-Id: Ic49f393c8a6b612489d3729e703bf2b9801b2c86\nmeta:version: 13.0.0.0rc2\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release candidate\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: Ia91bfb28391a2495144f37482d466d4426de1111\nmeta:release:Code-Review+1: zhurong <aaronzhu1121@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,687924,03f2a88a302a146257d6239f3421ae911b3fb4c2,6,2,1,11131,,,0,"update constraint for ceilometer to new release 13.0.0.0rc2

Change-Id: Ic49f393c8a6b612489d3729e703bf2b9801b2c86
meta:version: 13.0.0.0rc2
meta:diff-start: -
meta:series: train
meta:release-type: release candidate
meta:pypi: no
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: Ia91bfb28391a2495144f37482d466d4426de1111
meta:release:Code-Review+1: zhurong <aaronzhu1121@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/24/687924/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,03f2a88a302a146257d6239f3421ae911b3fb4c2,new-release,ceilometer===13.0.0.0rc2,ceilometer===12.0.0,1,1
openstack%2Fneutron~master~I99d9a048cab9d101740d96aa422f6fe596357c26,openstack/neutron,master,I99d9a048cab9d101740d96aa422f6fe596357c26,Switch to openstack-python3-ussuri-jobs,MERGED,2019-10-11 10:46:10.000000000,2019-10-11 18:33:17.000000000,2019-10-11 18:27:47.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-11 10:46:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee3054b93672f3a470764d41af7eaf2d116cce53', 'message': ""Switch to openstack-python3-ussuri-jobs\n\nNeutron was using train jobs template: openstack-python3-train-jobs\nbut now we are in Ussuri cycle so let's switch to new template.\n\nChange-Id: I99d9a048cab9d101740d96aa422f6fe596357c26\n""}]",0,688104,ee3054b93672f3a470764d41af7eaf2d116cce53,12,7,1,11975,,,0,"Switch to openstack-python3-ussuri-jobs

Neutron was using train jobs template: openstack-python3-train-jobs
but now we are in Ussuri cycle so let's switch to new template.

Change-Id: I99d9a048cab9d101740d96aa422f6fe596357c26
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/688104/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ee3054b93672f3a470764d41af7eaf2d116cce53,switch-to-ussuri-jobs, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fnova~master~I52fbbcac9dc386f24ee81b3321dd0d8355e01976,openstack/nova,master,I52fbbcac9dc386f24ee81b3321dd0d8355e01976,Add cache_image() driver method and libvirt implementation,MERGED,2019-10-07 19:07:17.000000000,2019-10-11 18:33:01.000000000,2019-10-11 18:28:00.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28614}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-07 19:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c9693de63004eb378b539b3215e8c643d5b2a8d', 'message': 'Add cache_image() driver method and libvirt implementation\n\nThis adds a new virt driver method for pre-caching an image, as well\nas an implementation for libvirt. This will remain unimplemented in\nany driver that does not provide image caching functionality or does\nnot support pre-caching of images.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I52fbbcac9dc386f24ee81b3321dd0d8355e01976\n'}, {'number': 2, 'created': '2019-10-08 16:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7337baa4e4791829e329ed6403189a81ae23b777', 'message': 'Add cache_image() driver method and libvirt implementation\n\nThis adds a new virt driver method for pre-caching an image, as well\nas an implementation for libvirt. This will remain unimplemented in\nany driver that does not provide image caching functionality or does\nnot support pre-caching of images.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I52fbbcac9dc386f24ee81b3321dd0d8355e01976\n'}, {'number': 3, 'created': '2019-10-10 14:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e5eedcd4f8f3b9969059a45a08a787284f658c8', 'message': 'Add cache_image() driver method and libvirt implementation\n\nThis adds a new virt driver method for pre-caching an image, as well\nas an implementation for libvirt. This will remain unimplemented in\nany driver that does not provide image caching functionality or does\nnot support pre-caching of images.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I52fbbcac9dc386f24ee81b3321dd0d8355e01976\n'}, {'number': 4, 'created': '2019-10-10 15:59:45.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e46d59a7f7e9c75c777e7ef6a8bf32037acb0bb1', 'message': 'Add cache_image() driver method and libvirt implementation\n\nThis adds a new virt driver method for pre-caching an image, as well\nas an implementation for libvirt. This will remain unimplemented in\nany driver that does not provide image caching functionality or does\nnot support pre-caching of images.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I52fbbcac9dc386f24ee81b3321dd0d8355e01976\n'}]",31,687137,e46d59a7f7e9c75c777e7ef6a8bf32037acb0bb1,51,16,4,4393,,,0,"Add cache_image() driver method and libvirt implementation

This adds a new virt driver method for pre-caching an image, as well
as an implementation for libvirt. This will remain unimplemented in
any driver that does not provide image caching functionality or does
not support pre-caching of images.

Related to blueprint image-precache-support

Change-Id: I52fbbcac9dc386f24ee81b3321dd0d8355e01976
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/687137/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,4c9693de63004eb378b539b3215e8c643d5b2a8d,bp/image-precache-support," @mock.patch('os.mkdir') @mock.patch('os.path.isdir') @mock.patch('os.path.exists') @mock.patch('os.utime') @mock.patch('nova.virt.images.fetch_to_raw') def test_cache_image_uncached(self, mock_fetch, mock_utime, mock_exists, mock_isdir, mock_mkdir, first_time=False): self.flags(instances_path='/nova/instances') self.flags(image_cache_subdirectory_name='cache') expected_fn = os.path.join('/nova/instances/cache', imagecache.get_cache_fname('an-image')) mock_isdir.return_value = not first_time mock_exists.return_value = False self.assertTrue(self.drvr.cache_image(self.context, 'an-image')) mock_fetch.assert_called_once_with(self.context, 'an-image', expected_fn) mock_utime.assert_not_called() mock_exists.assert_called_once_with(expected_fn) mock_isdir.assert_called_once_with('/nova/instances/cache') if first_time: mock_mkdir.assert_called_once_with('/nova/instances/cache') else: mock_mkdir.assert_not_called() def test_cache_image_existing_first_time(self): self.test_cache_image_uncached(first_time=True) @mock.patch('os.mkdir') @mock.patch('os.path.isdir') @mock.patch('os.path.exists') @mock.patch('nova.privsep.path.utime') @mock.patch('nova.virt.images.fetch_to_raw') def test_cache_image_existing(self, mock_fetch, mock_utime, mock_exists, mock_isdir, mock_mkdir): self.flags(instances_path='/nova/instances') self.flags(image_cache_subdirectory_name='cache') expected_fn = os.path.join('/nova/instances/cache', imagecache.get_cache_fname('an-image')) mock_isdir.return_value = True mock_exists.return_value = True self.assertFalse(self.drvr.cache_image(self.context, 'an-image')) mock_utime.assert_called_once_with(expected_fn) mock_fetch.assert_not_called() mock_exists.assert_called_once_with(expected_fn) mock_mkdir.assert_not_called() mock_isdir.assert_not_called() ",,85,0
openstack%2Fpuppet-nova~stable%2Ftrain~Iae595796559cc6551d8ae27e2573122a8a2da15d,openstack/puppet-nova,stable/train,Iae595796559cc6551d8ae27e2573122a8a2da15d,"Fix ""More than one line in file '/etc/sysconfig/libvirtd' matches pattern"" errors",MERGED,2019-10-10 22:10:55.000000000,2019-10-11 18:31:43.000000000,2019-10-11 18:31:43.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 17130}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 22:10:55.000000000', 'files': ['manifests/migration/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/14651dbf98194ff5d91a5bad672312cc2e3fce15', 'message': 'Fix ""More than one line in file \'/etc/sysconfig/libvirtd\' matches pattern"" errors\n\nThe current code that matches the LIBVIRTD_ARGS= lines can have multiple\nmatches if said line shows up multiple times in a comment and we can end\nup with the following error:\n\n  Error: /Stage[main]/Nova::Migration::Libvirt/File_line[/etc/sysconfig/libvirtd libvirtd args]/\n    ensure: change from \'absent\' to \'present\' failed: More than one line in file \'/etc/sysconfig/libvirtd\' matches pattern\n      \'LIBVIRTD_ARGS=\'\n\nFor the record the sysconfig file that triggered this error had the\nfollowing lines:\n\n  # connects.\n  LIBVIRTD_ARGS=""--timeout 120""\n\n  # If systemd socket activation is disabled, then the following\n  # can be used to listen on TCP/TLS sockets\n  #LIBVIRTD_ARGS=""--listen""\n\nTested this change and I correctly did not fail the deployment anymore.\n\nChange-Id: Iae595796559cc6551d8ae27e2573122a8a2da15d\nCloses-Bug: #1847288\n(cherry picked from commit 8377b33bd1e96eda6342d009f85301c5f9acfc03)\n'}]",0,687993,14651dbf98194ff5d91a5bad672312cc2e3fce15,9,6,1,14985,,,0,"Fix ""More than one line in file '/etc/sysconfig/libvirtd' matches pattern"" errors

The current code that matches the LIBVIRTD_ARGS= lines can have multiple
matches if said line shows up multiple times in a comment and we can end
up with the following error:

  Error: /Stage[main]/Nova::Migration::Libvirt/File_line[/etc/sysconfig/libvirtd libvirtd args]/
    ensure: change from 'absent' to 'present' failed: More than one line in file '/etc/sysconfig/libvirtd' matches pattern
      'LIBVIRTD_ARGS='

For the record the sysconfig file that triggered this error had the
following lines:

  # connects.
  LIBVIRTD_ARGS=""--timeout 120""

  # If systemd socket activation is disabled, then the following
  # can be used to listen on TCP/TLS sockets
  #LIBVIRTD_ARGS=""--listen""

Tested this change and I correctly did not fail the deployment anymore.

Change-Id: Iae595796559cc6551d8ae27e2573122a8a2da15d
Closes-Bug: #1847288
(cherry picked from commit 8377b33bd1e96eda6342d009f85301c5f9acfc03)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/93/687993/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/migration/libvirt.pp'],1,14651dbf98194ff5d91a5bad672312cc2e3fce15,fix_libvirt_lines-stable/train," match => '^LIBVIRTD_ARGS=',"," match => 'LIBVIRTD_ARGS=',",1,1
openstack%2Fcinder~stable%2Ftrain~I7b18453269cfc57bfbc9bd143d72948e88e60836,openstack/cinder,stable/train,I7b18453269cfc57bfbc9bd143d72948e88e60836,Move hacking checks to tests dir,MERGED,2019-10-09 18:21:59.000000000,2019-10-11 18:31:32.000000000,2019-10-11 18:27:51.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30590}]","[{'number': 1, 'created': '2019-10-09 18:21:59.000000000', 'files': ['tools/config/generate_cinder_opts.py', '.zuul.yaml', 'cinder/tests/hacking/__init__.py', 'cinder/tests/hacking/checks.py', 'cinder/tests/unit/test_hacking.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3028c3e1b3d8505883e7faadfd87f5aef51460d2', 'message': 'Move hacking checks to tests dir\n\nThis is not cinder service code, would be better\nto move it into ""tests"".\n\nChange-Id: I7b18453269cfc57bfbc9bd143d72948e88e60836\n(cherry picked from commit 3855eaca276f61749ac9cca84ba88d5ff520e029)\n'}]",0,687645,3028c3e1b3d8505883e7faadfd87f5aef51460d2,24,17,1,4523,,,0,"Move hacking checks to tests dir

This is not cinder service code, would be better
to move it into ""tests"".

Change-Id: I7b18453269cfc57bfbc9bd143d72948e88e60836
(cherry picked from commit 3855eaca276f61749ac9cca84ba88d5ff520e029)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/687645/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/config/generate_cinder_opts.py', '.zuul.yaml', 'cinder/tests/hacking/__init__.py', 'cinder/tests/hacking/checks.py', 'cinder/tests/unit/test_hacking.py', 'tox.ini']",6,3028c3e1b3d8505883e7faadfd87f5aef51460d2,,local-check-factory = cinder.tests.hacking.checks.factory,local-check-factory = cinder.hacking.checks.factory,7,7
openstack%2Fcinder~stable%2Fstein~Ife4586de6fab2150334a06bf90031df4c81a045b,openstack/cinder,stable/stein,Ife4586de6fab2150334a06bf90031df4c81a045b,NEC Driver: Python3 compatibility,MERGED,2019-10-11 08:57:14.000000000,2019-10-11 18:31:24.000000000,2019-10-11 18:27:53.000000000,"[{'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28403}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30590}]","[{'number': 1, 'created': '2019-10-11 08:57:14.000000000', 'files': ['cinder/volume/drivers/nec/cli.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c7bfeed1947b2301a5b3a9cc4b6fe726a301cece', 'message': 'NEC Driver: Python3 compatibility\n\nThis patch fixes Python3 incompatible codes in NEC driver.\n\nChange-Id: Ife4586de6fab2150334a06bf90031df4c81a045b\n(cherry picked from commit c6c26a56a214337e82dac78aae6291b42ad22fee)\n'}]",0,688078,c7bfeed1947b2301a5b3a9cc4b6fe726a301cece,24,18,1,28403,,,0,"NEC Driver: Python3 compatibility

This patch fixes Python3 incompatible codes in NEC driver.

Change-Id: Ife4586de6fab2150334a06bf90031df4c81a045b
(cherry picked from commit c6c26a56a214337e82dac78aae6291b42ad22fee)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/688078/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/nec/cli.py'],1,c7bfeed1947b2301a5b3a9cc4b6fe726a301cece,nec-py37-compatibility-stable/stein,"from cinder import utils out = self._join_and_convert_str(_out) err = self._join_and_convert_str(_err) def _join_and_convert_str(self, src_list): if len(src_list) == 0: return '' if isinstance(src_list[0], bytes): return utils.convert_str(b''.join(src_list)) else: return ''.join(src_list) "," out, err = ''.join(_out), ''.join(_err)",11,1
openstack%2Fcinder~stable%2Focata~If6043d82cc57d9247a290816d90b95cdf719eaac,openstack/cinder,stable/ocata,If6043d82cc57d9247a290816d90b95cdf719eaac,Fix ceph: only close rbd image after snapshot iteration is finished,MERGED,2019-08-13 20:21:57.000000000,2019-10-11 18:27:56.000000000,2019-10-11 18:27:55.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 17130}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27056}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-08-13 20:21:57.000000000', 'files': ['cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a2e79da5e18b2e65e56d1dead5c0aba03415b45f', 'message': ""Fix ceph: only close rbd image after snapshot iteration is finished\n\nlist_snaps() returns an iterator object that requires resources from the\nImage object. Closing the Image object deallocates these resources.\n\nOn Ceph mimic, which contains changes to the functions being invoked,\niterating over the snapshots of a closed image results in the following\nassertion being triggered:\n\ncinder-backup[29383]: /build/ceph-13.2.2/src/common/Mutex.cc: In function 'void Mutex::Lock(bool)' thread 7f35a4812700 time 2018-12-14 10:10:49.843120\ncinder-backup[29383]: /build/ceph-13.2.2/src/common/Mutex.cc: 110: FAILED assert(r == 0)\ncinder-backup[29383]:  ceph version 13.2.2 (02899bfda814146b021136e9d8e80eba494e1126) mimic (stable)\ncinder-backup[29383]:  1: (ceph::__ceph_assert_fail(char const*, char const*, int, char const*)+0x102) [0x7f35903440f2]\ncinder-backup[29383]:  2: (()+0x3162b7) [0x7f35903442b7]\ncinder-backup[29383]:  3: (Mutex::Lock(bool)+0x1de) [0x7f359031901e]\ncinder-backup[29383]:  4: (()+0x8f452) [0x7f358dafc452]\ncinder-backup[29383]:  5: (()+0x11280d) [0x7f358db7f80d]\ncinder-backup[29383]:  6: (rbd_snap_get_namespace_type()+0x29) [0x7f358dacf549]\n\nThe lock being tried to acquire and the object that contained it have\nalready been destroyed by closing the image. The assertion terminates\nthe cinder-backup service via SIGABRT.\n\nOn Ceph luminous we've seen occasional segfaults of the cinder-backup\nservice, which might have the same underlying cause.\n\nCloses-Bug: #1838691\n\nChange-Id: If6043d82cc57d9247a290816d90b95cdf719eaac\nSigned-off-by: Sven Wegener <sven.wegener@inovex.de>\n(cherry picked from commit 76569672599eda764f946ad6ee2ce0bdaddad36b)\n(cherry picked from commit e78b220f448c7eb0de35aafd1d49b00547384d41)\n(cherry picked from commit 57b127459189e39e993426f8e401e288f6394d4b)\n(cherry picked from commit 9e5d33ac244e8dce31ff6d2c7119ee4bd53a9908)\n(cherry picked from commit 0fdff12b260550190be01c59080a8be0c109db28)\n""}]",0,676274,a2e79da5e18b2e65e56d1dead5c0aba03415b45f,21,17,1,20813,,,0,"Fix ceph: only close rbd image after snapshot iteration is finished

list_snaps() returns an iterator object that requires resources from the
Image object. Closing the Image object deallocates these resources.

On Ceph mimic, which contains changes to the functions being invoked,
iterating over the snapshots of a closed image results in the following
assertion being triggered:

cinder-backup[29383]: /build/ceph-13.2.2/src/common/Mutex.cc: In function 'void Mutex::Lock(bool)' thread 7f35a4812700 time 2018-12-14 10:10:49.843120
cinder-backup[29383]: /build/ceph-13.2.2/src/common/Mutex.cc: 110: FAILED assert(r == 0)
cinder-backup[29383]:  ceph version 13.2.2 (02899bfda814146b021136e9d8e80eba494e1126) mimic (stable)
cinder-backup[29383]:  1: (ceph::__ceph_assert_fail(char const*, char const*, int, char const*)+0x102) [0x7f35903440f2]
cinder-backup[29383]:  2: (()+0x3162b7) [0x7f35903442b7]
cinder-backup[29383]:  3: (Mutex::Lock(bool)+0x1de) [0x7f359031901e]
cinder-backup[29383]:  4: (()+0x8f452) [0x7f358dafc452]
cinder-backup[29383]:  5: (()+0x11280d) [0x7f358db7f80d]
cinder-backup[29383]:  6: (rbd_snap_get_namespace_type()+0x29) [0x7f358dacf549]

The lock being tried to acquire and the object that contained it have
already been destroyed by closing the image. The assertion terminates
the cinder-backup service via SIGABRT.

On Ceph luminous we've seen occasional segfaults of the cinder-backup
service, which might have the same underlying cause.

Closes-Bug: #1838691

Change-Id: If6043d82cc57d9247a290816d90b95cdf719eaac
Signed-off-by: Sven Wegener <sven.wegener@inovex.de>
(cherry picked from commit 76569672599eda764f946ad6ee2ce0bdaddad36b)
(cherry picked from commit e78b220f448c7eb0de35aafd1d49b00547384d41)
(cherry picked from commit 57b127459189e39e993426f8e401e288f6394d4b)
(cherry picked from commit 9e5d33ac244e8dce31ff6d2c7119ee4bd53a9908)
(cherry picked from commit 0fdff12b260550190be01c59080a8be0c109db28)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/676274/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/ceph.py'],1,a2e79da5e18b2e65e56d1dead5c0aba03415b45f,bug/1838691, if snaps is None: return False for snap in snaps: if snap['name'] == snap_name: return True, if snaps is None: return False for snap in snaps: if snap['name'] == snap_name: return True ,7,7
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Icda4c1eb3e8c39a01547586dbc6f0407ce846c64,openstack/tripleo-heat-templates,stable/queens,Icda4c1eb3e8c39a01547586dbc6f0407ce846c64,[Queens] Run cellv2 host discovery via workflow or deploy_steps_tasks,MERGED,2019-09-19 09:07:19.000000000,2019-10-11 18:25:11.000000000,2019-10-11 18:25:11.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-09-19 09:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9502fa71c61f031a5a5b0416b098103d0e53565c', 'message': ""[WIP] Queens-only: Run cellv2 host discovery via workflow\n\nWhen the compute bootstrap node gets blacklisted or deployment is\nrun with skip-deploy-identifier the discovery job we have in step_5\nwon't run. This runs the the discovery via an ansible playbook to\nmake sure it runs in this conditions.\n\nChange-Id: Icda4c1eb3e8c39a01547586dbc6f0407ce846c64\nCloses-Bug: #1831711\nDepends-On: I54d42df162a6744806301d97bca5d94e5f380a2b\n""}, {'number': 2, 'created': '2019-09-20 07:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9dfe8ccac47692c511c2ab5c995a4932b49d54bd', 'message': ""[WIP] Queens-only: Run cellv2 host discovery via workflow or deploy_steps_tasks\n\nWhen the compute bootstrap node gets blacklisted or deployment is\nrun with skip-deploy-identifier the discovery job we have in step_5\nwon't run. This runs the the discovery via an ansible playbook to\nmake sure it runs in this conditions.\n\nIn case of default deploy method the discovery is run by the\ndiscovery workflow.\n\nIn case of config-download the discovery is run via the\ndeploy_steps_tasks.\n\nChange-Id: Icda4c1eb3e8c39a01547586dbc6f0407ce846c64\nCloses-Bug: #1831711\nDepends-On: I54d42df162a6744806301d97bca5d94e5f380a2b\n""}, {'number': 3, 'created': '2019-09-20 13:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ad773b190303dda5c1b52b6a6bf59afd5e39582', 'message': ""[Queens] Run cellv2 host discovery via workflow or deploy_steps_tasks\n\nThis is a queens only modified version of\nhttps://review.opendev.org/682644 due to the different deployment\nmethods we have there.\n\nWhen the compute bootstrap node gets blacklisted or deployment is\nrun with skip-deploy-identifier the discovery job we have in step_5\nwon't run. This runs the the discovery via an ansible playbook to\nmake sure it runs in this conditions.\n\nIn case of default deploy method the discovery is run by the\ndiscovery workflow.\n\nIn case of config-download the discovery is run via the\ndeploy_steps_tasks.\n\nChange-Id: Icda4c1eb3e8c39a01547586dbc6f0407ce846c64\nCloses-Bug: #1831711\nDepends-On: I54d42df162a6744806301d97bca5d94e5f380a2b\n""}, {'number': 4, 'created': '2019-09-24 09:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f24c2330c64e0e27f6ad967ba20d5c01afed0393', 'message': ""[Queens] Run cellv2 host discovery via workflow or deploy_steps_tasks\n\nThis is a queens only modified version of\nhttps://review.opendev.org/682644 due to the different deployment\nmethods we have there.\n\nWhen the compute bootstrap node gets blacklisted or deployment is\nrun with skip-deploy-identifier the discovery job we have in step_5\nwon't run. This runs the the discovery via an ansible playbook to\nmake sure it runs in this conditions.\n\nIn case of default deploy method the discovery is run by the\ndiscovery workflow.\n\nIn case of config-download the discovery is run via the\ndeploy_steps_tasks.\n\nChange-Id: Icda4c1eb3e8c39a01547586dbc6f0407ce846c64\nCloses-Bug: #1831711\nDepends-On: I54d42df162a6744806301d97bca5d94e5f380a2b\n""}, {'number': 5, 'created': '2019-09-25 07:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d78571309da6bc7c593269a51c13ef0093bbdbb', 'message': ""[Queens] Run cellv2 host discovery via workflow or deploy_steps_tasks\n\nThis is a queens only modified version of\nhttps://review.opendev.org/682644 due to the different deployment\nmethods we have there.\n\nWhen the compute bootstrap node gets blacklisted or deployment is\nrun with skip-deploy-identifier the discovery job we have in step_5\nwon't run. This runs the the discovery via an ansible playbook to\nmake sure it runs in this conditions.\n\nIn case of default deploy method the discovery is run by the\ndiscovery workflow.\n\nIn case of config-download the discovery is run via the\ndeploy_steps_tasks.\n\nChange-Id: Icda4c1eb3e8c39a01547586dbc6f0407ce846c64\nCloses-Bug: #1831711\nDepends-On: I54d42df162a6744806301d97bca5d94e5f380a2b\n""}, {'number': 6, 'created': '2019-09-25 10:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/43a358dfb450f3dd9b83fbfb08283630d92060eb', 'message': ""[Queens] Run cellv2 host discovery via workflow or deploy_steps_tasks\n\nThis is a queens only modified version of\nhttps://review.opendev.org/682644 due to the different deployment\nmethods we have there.\n\nWhen the compute bootstrap node gets blacklisted or deployment is\nrun with skip-deploy-identifier the discovery job we have in step_5\nwon't run. This runs the the discovery via an ansible playbook to\nmake sure it runs in this conditions.\n\nIn case of default deploy method the discovery is run by the\ndiscovery workflow.\n\nIn case of config-download the discovery is run via the\ndeploy_steps_tasks.\n\nChange-Id: Icda4c1eb3e8c39a01547586dbc6f0407ce846c64\nCloses-Bug: #1831711\nDepends-On: I54d42df162a6744806301d97bca5d94e5f380a2b\n""}, {'number': 7, 'created': '2019-09-25 15:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6893a2dd0a0f70fd36b1aecac5334e0ca40bdf0c', 'message': ""[Queens] Run cellv2 host discovery via workflow or deploy_steps_tasks\n\nThis is a queens only modified version of\nhttps://review.opendev.org/682644 due to the different deployment\nmethods we have there.\n\nWhen the compute bootstrap node gets blacklisted or deployment is\nrun with skip-deploy-identifier the discovery job we have in step_5\nwon't run. This runs the the discovery via an ansible playbook to\nmake sure it runs in this conditions.\n\nIn case of default deploy method the discovery is run by the\ndiscovery workflow.\n\nIn case of config-download the discovery is run via the\ndeploy_steps_tasks.\n\nChange-Id: Icda4c1eb3e8c39a01547586dbc6f0407ce846c64\nCloses-Bug: #1831711\nDepends-On: I54d42df162a6744806301d97bca5d94e5f380a2b\n""}, {'number': 8, 'created': '2019-10-02 10:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f5806cc01fd5a65470f092f35901fbb18ef7baa4', 'message': ""[Queens] Run cellv2 host discovery via workflow or deploy_steps_tasks\n\nThis is a queens only modified version of\nhttps://review.opendev.org/682644 due to the different deployment\nmethods we have there.\n\nWhen the compute bootstrap node gets blacklisted or deployment is\nrun with skip-deploy-identifier the discovery job we have in step_5\nwon't run. This runs the the discovery via an ansible playbook to\nmake sure it runs in this conditions.\n\nIn case of default deploy method the discovery is run by the\ndiscovery workflow.\n\nIn case of config-download the discovery is run via the\ndeploy_steps_tasks.\n\nChange-Id: Icda4c1eb3e8c39a01547586dbc6f0407ce846c64\nCloses-Bug: #1831711\nDepends-On: I54d42df162a6744806301d97bca5d94e5f380a2b\n""}, {'number': 9, 'created': '2019-10-02 12:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f4c446abcd4ffaac65c2cf38e6ed26f658ed4f93', 'message': ""[Queens] Run cellv2 host discovery via workflow or deploy_steps_tasks\n\nThis is a queens only modified version of\nhttps://review.opendev.org/682644 due to the different deployment\nmethods we have there.\n\nWhen the compute bootstrap node gets blacklisted or deployment is\nrun with skip-deploy-identifier the discovery job we have in step_5\nwon't run. This runs the the discovery via an ansible playbook to\nmake sure it runs in this conditions.\n\nIn case of default deploy method the discovery is run by the\ndiscovery workflow.\n\nIn case of config-download the discovery is run via the\ndeploy_steps_tasks.\n\nChange-Id: Icda4c1eb3e8c39a01547586dbc6f0407ce846c64\nCloses-Bug: #1831711\nDepends-On: I54d42df162a6744806301d97bca5d94e5f380a2b\n""}, {'number': 10, 'created': '2019-10-08 10:01:13.000000000', 'files': ['docker/services/nova-ironic.yaml', 'docker_config_scripts/nova_cell_v2_discover_hosts.py', 'docker/services/nova-compute-common.yaml', 'environments/config-download-environment.yaml', 'tools/yaml-validate.py', 'docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8eefd0a756f52ace4b82a5124229a174914125d', 'message': ""[Queens] Run cellv2 host discovery via workflow or deploy_steps_tasks\n\nThis is a queens only modified version of\nhttps://review.opendev.org/682644 due to the different deployment\nmethods we have there.\n\nWhen the compute bootstrap node gets blacklisted or deployment is\nrun with skip-deploy-identifier the discovery job we have in step_5\nwon't run. This runs the the discovery via an ansible playbook to\nmake sure it runs in this conditions.\n\nIn case of default deploy method the discovery is run by the\ndiscovery workflow.\n\nIn case of config-download the discovery is run via the\ndeploy_steps_tasks.\n\nChange-Id: Icda4c1eb3e8c39a01547586dbc6f0407ce846c64\nCloses-Bug: #1831711\nDepends-On: I54d42df162a6744806301d97bca5d94e5f380a2b\n""}]",19,683069,d8eefd0a756f52ace4b82a5124229a174914125d,58,13,10,17216,,,0,"[Queens] Run cellv2 host discovery via workflow or deploy_steps_tasks

This is a queens only modified version of
https://review.opendev.org/682644 due to the different deployment
methods we have there.

When the compute bootstrap node gets blacklisted or deployment is
run with skip-deploy-identifier the discovery job we have in step_5
won't run. This runs the the discovery via an ansible playbook to
make sure it runs in this conditions.

In case of default deploy method the discovery is run by the
discovery workflow.

In case of config-download the discovery is run via the
deploy_steps_tasks.

Change-Id: Icda4c1eb3e8c39a01547586dbc6f0407ce846c64
Closes-Bug: #1831711
Depends-On: I54d42df162a6744806301d97bca5d94e5f380a2b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/683069/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/nova-api.yaml', 'docker/services/nova-compute.yaml']",2,9502fa71c61f031a5a5b0416b098103d0e53565c,host_discovery_workflow,," step_5: nova_cell_v2_discover_hosts: start_order: 0 image: *nova_compute_image net: host detach: false volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/config-data/nova_libvirt/etc/my.cnf.d/:/etc/my.cnf.d/:ro - /var/lib/config-data/nova_libvirt/etc/nova/:/etc/nova/:ro - /var/log/containers/nova:/var/log/nova - /var/lib/docker-config-scripts/:/docker-config-scripts/ user: root command: ""/usr/bin/bootstrap_host_exec nova_compute su nova -s /bin/bash -c '/docker-config-scripts/nova_cell_v2_discover_hosts.py'"" environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) - list_join: - '' - - 'TRIPLEO_DEPLOY_IDENTIFIER=' - {get_param: DeployIdentifier}",17,23
openstack%2Fpuppet-tripleo~stable%2Fqueens~Ib7e28f85d539bcb1eab444ddd763d6f9a4ed1570,openstack/puppet-tripleo,stable/queens,Ib7e28f85d539bcb1eab444ddd763d6f9a4ed1570,Include cors to gnocchi profile,MERGED,2019-10-07 15:18:20.000000000,2019-10-11 18:25:10.000000000,2019-10-11 18:25:10.000000000,"[{'_account_id': 6924}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 15:18:20.000000000', 'files': ['manifests/profile/base/gnocchi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a94e3832180895d3f8106e445ebce9baba2f608d', 'message': 'Include cors to gnocchi profile\n\nDepends-On: I4f750863ba1bde478efff026f9bc64bac13030ec\nChange-Id: Ib7e28f85d539bcb1eab444ddd763d6f9a4ed1570\n(cherry picked from commit 85d05d75b10f99ed7dbd1e686c5b73cb401057ae)\n'}]",0,687078,a94e3832180895d3f8106e445ebce9baba2f608d,7,2,1,5241,,,0,"Include cors to gnocchi profile

Depends-On: I4f750863ba1bde478efff026f9bc64bac13030ec
Change-Id: Ib7e28f85d539bcb1eab444ddd763d6f9a4ed1570
(cherry picked from commit 85d05d75b10f99ed7dbd1e686c5b73cb401057ae)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/78/687078/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/gnocchi.pp'],1,a94e3832180895d3f8106e445ebce9baba2f608d,gnocchi-cors-queens, include ::gnocchi::cors,,1,0
openstack%2Fpuppet-tripleo~stable%2Frocky~I570b996fd8eca8b653c57b43155a6549ba6e5fae,openstack/puppet-tripleo,stable/rocky,I570b996fd8eca8b653c57b43155a6549ba6e5fae,Load kernel modules before configuring sysctl settings.,ABANDONED,2019-10-08 18:40:43.000000000,2019-10-11 18:13:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-08 18:40:43.000000000', 'files': ['manifests/profile/base/kernel.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c7269b151404a2f6e8d2cec027978c7661105936', 'message': 'Load kernel modules before configuring sysctl settings.\n\nChange-Id: I570b996fd8eca8b653c57b43155a6549ba6e5fae\nRelated-Bug: #1843259\nSigned-off-by: ekultails <ekultails@gmail.com>\n(cherry picked from commit bcbedabeb323fbd41c16008c1e831008bd7bd896)\n'}]",0,687384,c7269b151404a2f6e8d2cec027978c7661105936,4,2,1,25877,,,0,"Load kernel modules before configuring sysctl settings.

Change-Id: I570b996fd8eca8b653c57b43155a6549ba6e5fae
Related-Bug: #1843259
Signed-off-by: ekultails <ekultails@gmail.com>
(cherry picked from commit bcbedabeb323fbd41c16008c1e831008bd7bd896)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/84/687384/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/kernel.pp'],1,c7269b151404a2f6e8d2cec027978c7661105936,, Exec <| tag == 'kmod::load' |> -> Sysctl <| |>, Exec <| tag == 'kmod::load' |> -> Sysctl <| |>,1,1
openstack%2Fpuppet-tripleo~stable%2Fstein~I570b996fd8eca8b653c57b43155a6549ba6e5fae,openstack/puppet-tripleo,stable/stein,I570b996fd8eca8b653c57b43155a6549ba6e5fae,Load kernel modules before configuring sysctl settings.,ABANDONED,2019-10-08 18:40:24.000000000,2019-10-11 18:13:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-08 18:40:24.000000000', 'files': ['manifests/profile/base/kernel.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/040258f822d61769b9c094f0ed3c72fa75ab5d36', 'message': 'Load kernel modules before configuring sysctl settings.\n\nChange-Id: I570b996fd8eca8b653c57b43155a6549ba6e5fae\nRelated-Bug: #1843259\nSigned-off-by: ekultails <ekultails@gmail.com>\n(cherry picked from commit bcbedabeb323fbd41c16008c1e831008bd7bd896)\n'}]",0,687383,040258f822d61769b9c094f0ed3c72fa75ab5d36,4,2,1,25877,,,0,"Load kernel modules before configuring sysctl settings.

Change-Id: I570b996fd8eca8b653c57b43155a6549ba6e5fae
Related-Bug: #1843259
Signed-off-by: ekultails <ekultails@gmail.com>
(cherry picked from commit bcbedabeb323fbd41c16008c1e831008bd7bd896)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/83/687383/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/kernel.pp'],1,040258f822d61769b9c094f0ed3c72fa75ab5d36,, Exec <| tag == 'kmod::load' |> -> Sysctl <| |>, Exec <| tag == 'kmod::load' |> -> Sysctl <| |>,1,1
openstack%2Fpuppet-tripleo~master~I570b996fd8eca8b653c57b43155a6549ba6e5fae,openstack/puppet-tripleo,master,I570b996fd8eca8b653c57b43155a6549ba6e5fae,Load kernel modules before configuring sysctl settings.,ABANDONED,2019-10-08 18:15:43.000000000,2019-10-11 18:13:24.000000000,,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-08 18:15:43.000000000', 'files': ['manifests/profile/base/kernel.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bcbedabeb323fbd41c16008c1e831008bd7bd896', 'message': 'Load kernel modules before configuring sysctl settings.\n\nChange-Id: I570b996fd8eca8b653c57b43155a6549ba6e5fae\nRelated-Bug: #1843259\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}]",1,687375,bcbedabeb323fbd41c16008c1e831008bd7bd896,13,5,1,25877,,,0,"Load kernel modules before configuring sysctl settings.

Change-Id: I570b996fd8eca8b653c57b43155a6549ba6e5fae
Related-Bug: #1843259
Signed-off-by: ekultails <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/75/687375/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/kernel.pp'],1,bcbedabeb323fbd41c16008c1e831008bd7bd896,, Exec <| tag == 'kmod::load' |> -> Sysctl <| |>, Exec <| tag == 'kmod::load' |> -> Sysctl <| |>,1,1
openstack%2Fcinder~master~Ic2d5e52a7c8b8cf2f230f6a2b440d29ebb6de3f5,openstack/cinder,master,Ic2d5e52a7c8b8cf2f230f6a2b440d29ebb6de3f5,Remove unreferenced document table and image files,MERGED,2019-10-10 07:58:58.000000000,2019-10-11 17:59:58.000000000,2019-10-10 20:16:16.000000000,"[{'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 29855}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-10-10 07:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ffc5c2475e1a7f13eca83dc562dfac47b545de27', 'message': 'Remove unreferenced document table and image files\n\nAs those files are not referenced anywhere within this repository\nwe can get rid of them. This is a follow up of the findings\nduring the review of https://review.opendev.org/#/c/687491/\n\nDocImpact\n\nChange-Id: Ic2d5e52a7c8b8cf2f230f6a2b440d29ebb6de3f5\n'}, {'number': 2, 'created': '2019-10-10 13:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9464511f16e0f786e1250f073277a48b7f89b35b', 'message': 'Remove unreferenced document table and image files\n\nAs those files are not referenced anywhere within this repository\nwe can get rid of them. This is a follow up of the findings\nduring the review of https://review.opendev.org/#/c/687491/\n\n\nChange-Id: Ic2d5e52a7c8b8cf2f230f6a2b440d29ebb6de3f5\n'}, {'number': 3, 'created': '2019-10-10 14:51:34.000000000', 'files': ['doc/source/configuration/tables/cinder-scheduler.inc', 'doc/source/configuration/tables/cinder-swift.inc', 'doc/source/configuration/tables/cinder-storage.inc', 'doc/source/configuration/figures/bb-cinder-fig1.png', 'doc/source/configuration/tables/cinder-osbrick.inc', 'doc/source/configuration/tables/cinder-storage_gpfs.inc', 'doc/source/configuration/tables/cinder-fusionio.inc', 'doc/source/configuration/tables/cinder-windows.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f082b0cb7de1d3a1c3e21dfef075fe0aeca5412', 'message': 'Remove unreferenced document table and image files\n\nAs those files are not referenced anywhere within this repository\nwe can get rid of them. This is a follow up of the findings\nduring the review of https://review.opendev.org/#/c/687491/\n\n\nChange-Id: Ic2d5e52a7c8b8cf2f230f6a2b440d29ebb6de3f5\n'}]",0,687815,0f082b0cb7de1d3a1c3e21dfef075fe0aeca5412,71,28,3,26693,,,0,"Remove unreferenced document table and image files

As those files are not referenced anywhere within this repository
we can get rid of them. This is a follow up of the findings
during the review of https://review.opendev.org/#/c/687491/


Change-Id: Ic2d5e52a7c8b8cf2f230f6a2b440d29ebb6de3f5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/687815/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/tables/cinder-scheduler.inc', 'doc/source/configuration/tables/cinder-swift.inc', 'doc/source/configuration/tables/cinder-storage.inc', 'doc/source/configuration/figures/bb-cinder-fig1.png', 'doc/source/configuration/tables/cinder-osbrick.inc', 'doc/source/configuration/tables/cinder-storage_gpfs.inc', 'doc/source/configuration/tables/cinder-fusionio.inc', 'doc/source/configuration/tables/cinder-windows.inc']",8,ffc5c2475e1a7f13eca83dc562dfac47b545de27,remove-unused-doc-table-files,,".. Warning: Do not edit this file. It is automatically generated from the software project's code and your changes will be overwritten. The tool to generate this file lives in openstack-doc-tools repository. Please make any changes needed in the code, then run the autogenerate-config-doc tool from the openstack-doc-tools repository, or ask for help on the documentation mailing list, IRC channel or meeting. .. _cinder-windows: .. list-table:: Description of Windows configuration options :header-rows: 1 :class: config-ref-table * - Configuration option = Default value - Description * - **[DEFAULT]** - * - ``windows_iscsi_lun_path`` = ``C:\iSCSIVirtualDisks`` - (String) Path to store VHD backed volumes ",0,284
openstack%2Fnova~master~I57ccb3eee2f25fe110b8afeb38fa84b6327faea1,openstack/nova,master,I57ccb3eee2f25fe110b8afeb38fa84b6327faea1,requirements: Move DB dependencies to 'extras',ABANDONED,2019-08-20 14:29:54.000000000,2019-10-11 17:59:51.000000000,,"[{'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-20 14:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e668599dd8f5e04135240a0a97c8f0bfdd285bc0', 'message': ""WIP: Move DB, virt driver deps to 'extras'\n\nThis avoids the need to install them for unit tests, docs, and the\nvarious 'genXXX' targets.\n\nWIP because I suspect the Tempest/dsvm tests will need some work.\n\nChange-Id: I57ccb3eee2f25fe110b8afeb38fa84b6327faea1\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-08-22 11:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97e2339c3c1ad943ac616f08aaf7f6bb90cb7ab9', 'message': ""WIP: Move DB dependencies to 'extras'\n\nThis avoids the need to install them for unit tests, docs, and the\nvarious 'genXXX' targets.\n\nWIP because I suspect the Tempest/dsvm tests will need some work.\n\nChange-Id: I57ccb3eee2f25fe110b8afeb38fa84b6327faea1\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-08-26 10:00:26.000000000', 'files': ['test-requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/e924fd16bbaeb9e2f8708df1c80e6473e3aead1f', 'message': ""requirements: Move DB dependencies to 'extras'\n\nThis doesn't actually change anything much due to the need to continue\nusing these things for the opportunistic DB tests. However, it does\nbetter isolate our dependencies from each other which seems like a good\nthing.\n\nChange-Id: I57ccb3eee2f25fe110b8afeb38fa84b6327faea1\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",2,677475,e924fd16bbaeb9e2f8708df1c80e6473e3aead1f,32,12,3,15334,,,0,"requirements: Move DB dependencies to 'extras'

This doesn't actually change anything much due to the need to continue
using these things for the opportunistic DB tests. However, it does
better isolate our dependencies from each other which seems like a good
thing.

Change-Id: I57ccb3eee2f25fe110b8afeb38fa84b6327faea1
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/677475/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'setup.cfg', 'tox.ini']",4,e668599dd8f5e04135240a0a97c8f0bfdd285bc0,move-db-deps-to-extras,extras = mysql psycopg2 zvm powervmextras = {[testenv:functional]extras}extras = {[testenv:functional]extras},,17,4
openstack%2Fnova~master~I04bed3055de90b2372c2cb67f73090ad5568a52a,openstack/nova,master,I04bed3055de90b2372c2cb67f73090ad5568a52a,[WIP] Default mem_page_size to small for pinned instances,ABANDONED,2019-10-02 01:36:53.000000000,2019-10-11 17:17:17.000000000,,"[{'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 12860}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26124}, {'_account_id': 26515}, {'_account_id': 29084}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-02 01:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b840d9a5e20f7eda187be59abf35363fe77a397b', 'message': 'Force small pages accounting for CPU pinned VMs so that memory can be reserved\non NUMA 0 for host processes.\n\nWhen VM CPU is pinned, there is no way to reserve memory on NUMA 0:\n\n> ram_allocation_ratio is ignored by the nova scheduler when VM CPU is pinned\n> reserved_host_memory_mb is a global reservation\n\nThis leads to many VMs are scheduled on NUMA 0 while their memory needs are met\n""globally"".\n\nWhen the system starts to take load, VMs\' memory pages start to get allocated\non NUMA 0 to the extend that memory shortage occurs on NUMA 0 and OOM kicks in\nto kill host processes.\n\nIt is agreed that the workaround is to use hw:mem_page_size=small, plus\nreserved_huge_pages set to proper number of small pages on NUMA 0 in nova.conf.\n\nChange-Id: I04bed3055de90b2372c2cb67f73090ad5568a52a\nCloses-Bug: 1439247\nCloses-Bug: 1844721\n'}, {'number': 2, 'created': '2019-10-04 00:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9cb773e48682bc640efb8c118606463e75da452a', 'message': '[WIP] Default mem_page_size to small for pinned instances\n\nIf VM CPU is pinned but mem_page_size is not set, many VMs can be scheduled on\nNUMA 0 while their memory needs are met ""globally"" on the host as modified by\nram_allocation_ratio and reserved_host_memory_mb.\n\nWhen the system starts to take load, VMs\' memory pages start to get allocated\non NUMA0 to the extend that memory shortage occurs on NUMA 0 and OOM kicks in\nto kill host processes.\n\nIt is agreed that the workaround is to use hw:mem_page_size=small, and setting\nreserved_huge_pages for proper number of small pages on NUMA 0 in nova.conf.\n\nThis path is to default mem_page_size to small for pinned instances when it is\nnot set in order to avoid taking down VMs that have already been deployed in the\ncustomer sites.\n\nChange-Id: I04bed3055de90b2372c2cb67f73090ad5568a52a\nCloses-Bug: 1844721\n'}, {'number': 3, 'created': '2019-10-08 02:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b41c970ce446a609d1b593106d730ea803b1cbe', 'message': '[WIP] Default mem_page_size to small for pinned instances\n\nIf VM CPU is pinned but mem_page_size is not set, many VMs can be scheduled\non a NUMA node while their memory needs are met ""globally"" on the host as\nmodified by ram_allocation_ratio and reserved_host_memory_mb.\n\nWhen the system starts to take load, the allocated memroy for the affined\nVMs can exceed the aviable memroy on a NUMA node. The OOM reaper runs per\nNUMA node so when the NUMA local memory is exausted it can lead to the\nkernel killing host processes.\n\nThe above issue can be mitigated by using hw:mem_page_size=small, and setting\nreserved_huge_pages for small pages per NUMA node in nova.conf.\n\nThis patch is to default mem_page_size to small for pinned instances if it is\nnot set so as to avoid VNF impact and avoid taking down VMs that have already\nbeen deployed in the customer sites.\n\nChange-Id: I04bed3055de90b2372c2cb67f73090ad5568a52a\nPartial-Bug: 1844721\n'}, {'number': 4, 'created': '2019-10-09 02:32:57.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'releasenotes/notes/bug-1844721-default-to-small-pages-for-pinned-instances-5861e1e00b0e5ca1.yaml', 'nova/virt/hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5ad4394726e0838852899209cfeb7a651e71a2a5', 'message': '[WIP] Default mem_page_size to small for pinned instances\n\nIf VM CPU is pinned but mem_page_size is not set, many VMs can be scheduled\non a NUMA node while their memory needs are met ""globally"" on the host as\nmodified by ram_allocation_ratio and reserved_host_memory_mb.\n\nWhen the system starts to take load, the allocated memroy for the affined\nVMs can exceed the aviable memroy on a NUMA node. The OOM reaper runs per\nNUMA node so when the NUMA local memory is exausted it can lead to the\nkernel killing host processes.\n\nThe above issue can be mitigated by using hw:mem_page_size=small, and setting\nreserved_huge_pages for small pages per NUMA node in nova.conf.\n\nThis patch is to default mem_page_size to small for pinned instances if it is\nnot set so as to avoid VNF impact and avoid taking down VMs that have already\nbeen deployed in the customer sites.\n\nChange-Id: I04bed3055de90b2372c2cb67f73090ad5568a52a\nPartial-Bug: 1844721\n'}]",46,686079,5ad4394726e0838852899209cfeb7a651e71a2a5,51,17,4,26124,,,0,"[WIP] Default mem_page_size to small for pinned instances

If VM CPU is pinned but mem_page_size is not set, many VMs can be scheduled
on a NUMA node while their memory needs are met ""globally"" on the host as
modified by ram_allocation_ratio and reserved_host_memory_mb.

When the system starts to take load, the allocated memroy for the affined
VMs can exceed the aviable memroy on a NUMA node. The OOM reaper runs per
NUMA node so when the NUMA local memory is exausted it can lead to the
kernel killing host processes.

The above issue can be mitigated by using hw:mem_page_size=small, and setting
reserved_huge_pages for small pages per NUMA node in nova.conf.

This patch is to default mem_page_size to small for pinned instances if it is
not set so as to avoid VNF impact and avoid taking down VMs that have already
been deployed in the customer sites.

Change-Id: I04bed3055de90b2372c2cb67f73090ad5568a52a
Partial-Bug: 1844721
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/686079/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/hardware.py'],1,b840d9a5e20f7eda187be59abf35363fe77a397b,bugfix/1439247-small-pages-accounting," cpu_policy = get_cpu_policy_constraint(flavor, image_meta) if pagesize == None and cpu_policy == fields.CPUAllocationPolicy.DEDICATED: pagesize = MEMPAGES_SMALL "," cpu_policy = get_cpu_policy_constraint(flavor, image_meta)",5,1
openstack%2Frpm-packaging~master~I9f20e6ddf9bc6b8238e00dad9592ac1282d7d118,openstack/rpm-packaging,master,I9f20e6ddf9bc6b8238e00dad9592ac1282d7d118,keystone: update filelist,MERGED,2019-10-08 13:46:29.000000000,2019-10-11 17:08:27.000000000,2019-10-11 17:08:27.000000000,"[{'_account_id': 2062}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-08 13:46:29.000000000', 'files': ['openstack/keystone/keystone.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4a62902012367dab85db4ac03c209645fe01e3f2', 'message': 'keystone: update filelist\n\nthis was removed in Ie45955f5cc54563cc9704d7cb2b656b5544ae030\n\nChange-Id: I9f20e6ddf9bc6b8238e00dad9592ac1282d7d118\n'}]",0,687302,4a62902012367dab85db4ac03c209645fe01e3f2,16,6,1,6593,,,0,"keystone: update filelist

this was removed in Ie45955f5cc54563cc9704d7cb2b656b5544ae030

Change-Id: I9f20e6ddf9bc6b8238e00dad9592ac1282d7d118
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/02/687302/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/keystone/keystone.spec.j2'],1,4a62902012367dab85db4ac03c209645fe01e3f2,,,"install -p -D -m 644 etc/policy.v3cloudsample.json %{buildroot}%{_datadir}/keystone/policy.v3cloudsample.json%attr(0644, root, keystone) %{_datadir}/keystone/policy.v3cloudsample.json",0,2
openstack%2Fmanila~master~Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4,openstack/manila,master,Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4,[NetApp] Allow extension/shrinking of NetApp replicated share,MERGED,2019-10-04 17:47:39.000000000,2019-10-11 17:02:02.000000000,2019-10-09 12:50:08.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 18058}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 29831}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-10-04 17:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/775cc098b5a97755af183afecf1e9584a9e71c1d', 'message': '[NetApp] Allow extension of NetApp replicated share\n\nThe NetApp ONTAP driver is now fixed to allow extention\nof share replicas after they get promoted.\n\nChange-Id: Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4\nCloses-Bug: #1700871\n'}, {'number': 2, 'created': '2019-10-05 01:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/16ea140692faddc5b1d4118a56763bb53a55f38a', 'message': '[NetApp] Allow extension/shrinking of NetApp replicated share\n\nThe NetApp ONTAP driver is now fixed to allow extension\nand shrinking of share replicas after they get promoted.\n\nChange-Id: Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4\nCloses-Bug: #1700871\n'}, {'number': 3, 'created': '2019-10-07 19:29:30.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'releasenotes/notes/bug-1700871-ontap-allow-extend-of-replicated-share-2c9709180d954308.yaml', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/75f108b0aee630b54a44d0c27467a85fd8a6af3a', 'message': '[NetApp] Allow extension/shrinking of NetApp replicated share\n\nThe NetApp ONTAP driver is now fixed to allow extension\nand shrinking of share replicas after they get promoted.\n\nChange-Id: Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4\nCloses-Bug: #1700871\n'}]",6,686794,75f108b0aee630b54a44d0c27467a85fd8a6af3a,54,16,3,30002,,,0,"[NetApp] Allow extension/shrinking of NetApp replicated share

The NetApp ONTAP driver is now fixed to allow extension
and shrinking of share replicas after they get promoted.

Change-Id: Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4
Closes-Bug: #1700871
",git fetch https://review.opendev.org/openstack/manila refs/changes/94/686794/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'releasenotes/notes/bug-1700871-ontap-allow-extend-of-replicated-share-2c9709180d954308.yaml', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py']",4,775cc098b5a97755af183afecf1e9584a9e71c1d,bug/1700871," def set_volume_filesys_size_fixed(self, volume_name, filesys_size_fixed=False): """"""Set volume file system size fixed to true/false."""""" api_args = { 'query': { 'volume-attributes': { 'volume-id-attributes': { 'name': volume_name, }, }, }, 'attributes': { 'volume-attributes': { 'volume-space-attributes': { 'is-filesys-size-fixed': six.text_type( filesys_size_fixed).lower(), }, }, }, } result = self.send_request('volume-modify-iter', api_args) failures = result.get_child_content('num-failed') if failures and int(failures) > 0: failure_list = result.get_child_by_name( 'failure-list') or netapp_api.NaElement('none') errors = failure_list.get_children() if errors: raise netapp_api.NaApiError( errors[0].get_child_content('error-code'), errors[0].get_child_content('error-message')) @na_utils.trace",,74,0
openstack%2Fmanila~stable%2Ftrain~Ic8f7e6230298c222cc6cb5e4e4e8189524aaa81f,openstack/manila,stable/train,Ic8f7e6230298c222cc6cb5e4e4e8189524aaa81f,Remove backend spec from share type while creating replica,MERGED,2019-10-09 22:09:09.000000000,2019-10-11 16:53:35.000000000,2019-10-11 15:35:50.000000000,"[{'_account_id': 9003}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-10-09 22:09:09.000000000', 'files': ['manila/tests/scheduler/drivers/test_filter.py', 'manila/scheduler/drivers/filter.py', 'releasenotes/notes/bug-1634734-fix-backend-extraspec-for-replication-d611d2227997ae3e.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/19c4869a3f004e4ec699412c1831765b714aa93b', 'message': 'Remove backend spec from share type while creating replica\n\nIf a share type includes the share_backend_name spec,\nthe scheduler may fail to schedule share replicas unless\nall backends in a replication domain share the same\nvalue for the capability ""share_backend_name"". Having\nthe same ""share_backend_name"" isn\'t desirable all the\ntime.\n\nIgnore the share_backend_name spec from share type\nwhile creating replica, so the scheduler will filter\na available backend according to the selection policy.\n\nChange-Id: Ic8f7e6230298c222cc6cb5e4e4e8189524aaa81f\nCloses-Bug: #1634734\n(cherry picked from commit 700c1a02f0a357312df8f47932f83e86a3d2dc86)\n'}]",0,687688,19c4869a3f004e4ec699412c1831765b714aa93b,15,5,1,16643,,,0,"Remove backend spec from share type while creating replica

If a share type includes the share_backend_name spec,
the scheduler may fail to schedule share replicas unless
all backends in a replication domain share the same
value for the capability ""share_backend_name"". Having
the same ""share_backend_name"" isn't desirable all the
time.

Ignore the share_backend_name spec from share type
while creating replica, so the scheduler will filter
a available backend according to the selection policy.

Change-Id: Ic8f7e6230298c222cc6cb5e4e4e8189524aaa81f
Closes-Bug: #1634734
(cherry picked from commit 700c1a02f0a357312df8f47932f83e86a3d2dc86)
",git fetch https://review.opendev.org/openstack/manila refs/changes/88/687688/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/scheduler/drivers/test_filter.py', 'manila/scheduler/drivers/filter.py', 'releasenotes/notes/bug-1634734-fix-backend-extraspec-for-replication-d611d2227997ae3e.yaml']",3,19c4869a3f004e4ec699412c1831765b714aa93b,bug/1634734-stable/train,--- fixes: - | Share type extra-specification ``share_backend_name`` is now ignored when creating share replicas. This ensures that backends in the same replication domain need not have the same value of ``share_backend_name``. See `launchpad bug #1634734 <https://bugs.launchpad.net/manila/+bug/1634734>`_ for details. ,,42,0
openstack%2Ftripleo-ansible~master~Ia28f2fdef34e739801c51828c99e9e6598dd2efb,openstack/tripleo-ansible,master,Ia28f2fdef34e739801c51828c99e9e6598dd2efb,Install packages and load kernel modules before configuring sysctl.,MERGED,2019-10-07 15:46:35.000000000,2019-10-11 16:48:44.000000000,2019-10-11 16:48:43.000000000,"[{'_account_id': 5756}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-10-07 15:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/78eedf9af7a95ed7fe4010cf931be1d3d479df52', 'message': 'Load the br_netfilter kernel module.\n\nThis is required for bridge-nf-call-* sysctl\nvalues to work.\n\nChange-Id: Ia28f2fdef34e739801c51828c99e9e6598dd2efb\nPartial-Bug: #1843259\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2019-10-08 14:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/93e3ed08948e21563edc18aee80a6414a676faf4', 'message': 'Install packages and load kernel modules before configuring sysctl.\n\nOtherwise we run into dependency problems where a kernel module\nmay not be loaded yet. This results in the sysctl options not\nexisting yet in the virtual file system /proc/sys/.\n\nAlso add br_netfilter to the required modules for TripleO.\nIt is required for bridge-nf-call-* sysctl options to work.\n\nChange-Id: Ia28f2fdef34e739801c51828c99e9e6598dd2efb\nCloses-Bug:: #1843259\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 3, 'created': '2019-10-08 14:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c7a121a1a4417084d859c4c776f14fb4ce7e7c16', 'message': 'Install packages and load kernel modules before configuring sysctl.\n\nOtherwise we run into dependency problems where a kernel module\nmay not be loaded yet. This results in the sysctl options not\nexisting yet in the virtual file system /proc/sys/.\n\nAlso add br_netfilter to the required modules for TripleO.\nIt is required for bridge-nf-call-* sysctl options to work.\n\nChange-Id: Ia28f2fdef34e739801c51828c99e9e6598dd2efb\nCloses-Bug: #1843259\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 4, 'created': '2019-10-08 15:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a0fcd3893768cd5642e1bfffcaa3fd056c77b2a4', 'message': 'Install packages and load kernel modules before configuring sysctl.\n\nOtherwise we run into dependency problems where a kernel module\nmay not be loaded yet. This results in the sysctl options not\nexisting yet in the virtual file system /proc/sys/.\n\nAlso add br_netfilter to the required modules for TripleO.\nIt is required for bridge-nf-call-* sysctl options to work.\n\nChange-Id: Ia28f2fdef34e739801c51828c99e9e6598dd2efb\nCloses-Bug: #1843259\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 5, 'created': '2019-10-08 15:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/381a87236ad290eb2aebb82361be1de2550978dc', 'message': 'Install packages and load kernel modules before configuring sysctl.\n\nOtherwise we run into dependency problems where a kernel module\nmay not be loaded yet. This results in the sysctl options not\nexisting yet in the virtual file system /proc/sys/.\n\nAlso add br_netfilter to the required modules for TripleO.\nIt is required for bridge-nf-call-* sysctl options to work.\n\nChange-Id: Ia28f2fdef34e739801c51828c99e9e6598dd2efb\nCloses-Bug: #1843259\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 6, 'created': '2019-10-08 15:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/94bbeee2db89a936a483e4a25e07ae005d5f2d54', 'message': 'Install packages and load kernel modules before configuring sysctl.\n\nOtherwise we run into dependency problems where a kernel module\nmay not be loaded yet. This results in the sysctl options not\nexisting yet in the virtual file system /proc/sys/.\n\nAlso add br_netfilter to the required modules for TripleO.\nIt is required for bridge-nf-call-* sysctl options to work.\n\nChange-Id: Ia28f2fdef34e739801c51828c99e9e6598dd2efb\nCloses-Bug: #1843259\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 7, 'created': '2019-10-08 18:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/388c80bafca82c3d99909d85c25d1046387ac4a8', 'message': 'Install packages and load kernel modules before configuring sysctl.\n\nOtherwise we run into dependency problems where a kernel module\nmay not be loaded yet. This results in the sysctl options not\nexisting yet in the virtual file system /proc/sys/.\n\nAlso add br_netfilter to the required modules for TripleO.\nIt is required for bridge-nf-call-* sysctl options to work.\n\nChange-Id: Ia28f2fdef34e739801c51828c99e9e6598dd2efb\nRelated-Bug: #1843259\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 8, 'created': '2019-10-09 13:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4ce6ce71c9a6ac4071090091724b8a01840f04e9', 'message': 'Install packages and load kernel modules before configuring sysctl.\n\nOtherwise we run into dependency problems where a kernel module\nmay not be loaded yet. This results in the sysctl options not\nexisting yet in the virtual file system /proc/sys/.\n\nAlso add br_netfilter to the required modules for TripleO.\nIt is required for bridge-nf-call-* sysctl options to work.\n\nChange-Id: Ia28f2fdef34e739801c51828c99e9e6598dd2efb\nRelated-Bug: #1843259\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 9, 'created': '2019-10-09 17:21:32.000000000', 'files': ['tripleo_ansible/roles/tripleo-kernel/vars/main.yml', 'tripleo_ansible/roles/tripleo-kernel/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9bf90c0af856162968ff3678832edde7ad1f8fee', 'message': 'Install packages and load kernel modules before configuring sysctl.\n\nOtherwise we run into dependency problems where a kernel module\nmay not be loaded yet. This results in the sysctl options not\nexisting yet in the virtual file system /proc/sys/.\n\nAlso add br_netfilter to the required modules for TripleO.\nIt is required for bridge-nf-call-* sysctl options to work.\n\nChange-Id: Ia28f2fdef34e739801c51828c99e9e6598dd2efb\nRelated-Bug: #1843259\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}]",14,687084,9bf90c0af856162968ff3678832edde7ad1f8fee,41,9,9,25877,,,0,"Install packages and load kernel modules before configuring sysctl.

Otherwise we run into dependency problems where a kernel module
may not be loaded yet. This results in the sysctl options not
existing yet in the virtual file system /proc/sys/.

Also add br_netfilter to the required modules for TripleO.
It is required for bridge-nf-call-* sysctl options to work.

Change-Id: Ia28f2fdef34e739801c51828c99e9e6598dd2efb
Related-Bug: #1843259
Signed-off-by: ekultails <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/84/687084/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-kernel/vars/main.yml'],1,78eedf9af7a95ed7fe4010cf931be1d3d479df52,Ia28f2fdef34e739801c51828c99e9e6598dd2efb, br_netfilter: {},,1,0
openstack%2Frequirements~master~I6932370286a03669c603f9dd79a972e4a2ecf98a,openstack/requirements,master,I6932370286a03669c603f9dd79a972e4a2ecf98a,Updated from generate-constraints,ABANDONED,2019-10-11 06:37:43.000000000,2019-10-11 16:38:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-11 06:37:43.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fa9a8a240436a2033476419f4fdba321e21560e2', 'message': 'Updated from generate-constraints\n\nChange-Id: I6932370286a03669c603f9dd79a972e4a2ecf98a\n'}]",0,688041,fa9a8a240436a2033476419f4fdba321e21560e2,3,1,1,11131,,,0,"Updated from generate-constraints

Change-Id: I6932370286a03669c603f9dd79a972e4a2ecf98a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/41/688041/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,fa9a8a240436a2033476419f4fdba321e21560e2,openstack/requirements/constraints,openstack-release-test===2.0.0amqp===2.5.2django-debreach===2.0.1boto3===1.9.247salt===2019.2.1botocore===1.12.247redis===3.3.10contextlib2===0.6.0.post1;python_version=='2.7',openstack-release-test===1.4.2amqp===2.5.1django-debreach===1.5.2boto3===1.9.246salt===2019.2.0botocore===1.12.246redis===3.3.8contextlib2===0.6.0;python_version=='2.7',8,8
openstack%2Fkolla~master~Ie0612618296e09f975eff570c7743c1e5c1e08a4,openstack/kolla,master,Ie0612618296e09f975eff570c7743c1e5c1e08a4,Mark images as deprecated in support matrix,MERGED,2019-10-10 13:53:54.000000000,2019-10-11 16:35:41.000000000,2019-10-11 16:34:07.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-10 13:53:54.000000000', 'files': ['doc/source/matrix_x86.csv', 'doc/source/matrix_aarch64.csv'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cf525a990059b684dae971a1905ea280d4866ed5', 'message': 'Mark images as deprecated in support matrix\n\nChange-Id: Ie0612618296e09f975eff570c7743c1e5c1e08a4\nDepends-On: https://review.opendev.org/686641\n'}]",0,687901,cf525a990059b684dae971a1905ea280d4866ed5,9,4,1,14826,,,0,"Mark images as deprecated in support matrix

Change-Id: Ie0612618296e09f975eff570c7743c1e5c1e08a4
Depends-On: https://review.opendev.org/686641
",git fetch https://review.opendev.org/openstack/kolla refs/changes/01/687901/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/matrix_x86.csv', 'doc/source/matrix_aarch64.csv']",2,cf525a990059b684dae971a1905ea280d4866ed5,,"almanach (deprecated),N,C,N,C,N,Cdind (deprecated),C,C,C,C,N,Cdragonflow (deprecated),N,C,N,C,N,Chelm-repository (deprecated),C,C,C,C,N,Ckube (deprecated),C,C,C,C,N,C kubernetes-entrypoint (deprecated),C,C,C,C,N,C kubetoolbox (deprecated),C,C,C,C,N,C","almanach,N,C,N,C,N,Cdind,C,C,C,C,N,Cdragonflow,N,C,N,C,N,Chelm-repository,C,C,C,C,N,Ckube,C,C,C,C,N,C kubernetes-entrypoint,C,C,C,C,N,C kubetoolbox,C,C,C,C,N,C",14,14
openstack%2Fkolla-ansible~stable%2Fstein~Ib850a1bb2a504ac3e1396846ca3f1d9a30e8fca0,openstack/kolla-ansible,stable/stein,Ib850a1bb2a504ac3e1396846ca3f1d9a30e8fca0,Fix swift-proxy-server memcached configuration,MERGED,2019-10-08 08:31:00.000000000,2019-10-11 16:12:19.000000000,2019-10-11 16:10:57.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-08 08:31:00.000000000', 'files': ['ansible/roles/swift/templates/proxy-server.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8db18241cb2830d1f158a301f1a0de8b23d42c37', 'message': 'Fix swift-proxy-server memcached configuration\n\nCurrently, swift-proxy config uses hosts in the swift-proxy-server group\nto generate the list of memcached servers. However, memcached is\ndeployed to hosts in the memcached group.\n\nThis change fixes the memcached_servers option for swift-proxy to be the\nsame as other services.\n\nChange-Id: Ib850a1bb2a504ac3e1396846ca3f1d9a30e8fca0\nCloses-Bug: #1774313\n(cherry picked from commit 3488479d06bc9fc39058532d29229b67f25d4ec0)\n'}]",0,687236,8db18241cb2830d1f158a301f1a0de8b23d42c37,8,3,1,14826,,,0,"Fix swift-proxy-server memcached configuration

Currently, swift-proxy config uses hosts in the swift-proxy-server group
to generate the list of memcached servers. However, memcached is
deployed to hosts in the memcached group.

This change fixes the memcached_servers option for swift-proxy to be the
same as other services.

Change-Id: Ib850a1bb2a504ac3e1396846ca3f1d9a30e8fca0
Closes-Bug: #1774313
(cherry picked from commit 3488479d06bc9fc39058532d29229b67f25d4ec0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/687236/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/swift/templates/proxy-server.conf.j2'],1,8db18241cb2830d1f158a301f1a0de8b23d42c37,bug/1774313-stable/stein,"memcache_servers = {% for host in groups['memcached'] %}{{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ memcached_port }}{% if not loop.last %},{% endif %}{% endfor %}","memcache_servers = {% for host in groups['swift-proxy-server'] %}{{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ memcached_port }}{% if not loop.last %},{% endif %}{% endfor %}",1,1
openstack%2Fkolla-cli~master~I3402ae9dd2889d17c40d7d86f261a4bfde05e9c0,openstack/kolla-cli,master,I3402ae9dd2889d17c40d7d86f261a4bfde05e9c0,Switch to official Ussuri jobs,MERGED,2019-10-11 14:55:50.000000000,2019-10-11 16:12:09.000000000,2019-10-11 16:07:48.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-11 14:55:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/387bb8ddc58d5723d76be21156391084e7ab2808', 'message': 'Switch to official Ussuri jobs\n\nChange-Id: I3402ae9dd2889d17c40d7d86f261a4bfde05e9c0\n'}]",0,688138,387bb8ddc58d5723d76be21156391084e7ab2808,11,3,1,22165,,,0,"Switch to official Ussuri jobs

Change-Id: I3402ae9dd2889d17c40d7d86f261a4bfde05e9c0
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/38/688138/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,387bb8ddc58d5723d76be21156391084e7ab2808,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcinder~master~Ib00514ae82a0e942d14fb604aec3983fa74bff38,openstack/cinder,master,Ib00514ae82a0e942d14fb604aec3983fa74bff38,Remove warning that docs are auto generated,MERGED,2019-10-09 08:41:35.000000000,2019-10-11 16:11:43.000000000,2019-10-10 14:16:01.000000000,"[{'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26693}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 29855}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-10-09 08:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c850d2d4f9ba4c0cf184cb42137ae1ebe9d2725', 'message': 'Remove warning that docs are auto generated\n\nThe warning in question has been generated by the oboslete tool\nautogenerate-config-doc which has been remvoed 2 years ago by\nhttps://review.opendev.org/#/c/509401/\n\nDocImpact\n\nChange-Id: Ib00514ae82a0e942d14fb604aec3983fa74bff38\n'}, {'number': 2, 'created': '2019-10-10 07:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3b1e1bc7f020871b91f7cd3a42a697eac6e31837', 'message': 'Remove warning that docs are auto generated\n\nThe warning in question has been generated by the obsolete tool\nautogenerate-config-doc which has been removed 2 years ago by\nhttps://review.opendev.org/#/c/509401/\n\nDocImpact\n\nChange-Id: Ib00514ae82a0e942d14fb604aec3983fa74bff38\n'}, {'number': 3, 'created': '2019-10-10 13:21:12.000000000', 'files': ['doc/source/configuration/tables/cinder-ibm_gpfs_nfs.inc', 'doc/source/configuration/tables/cinder-scheduler.inc', 'doc/source/configuration/tables/cinder-swift.inc', 'doc/source/configuration/tables/cinder-netapp_cdot_iscsi.inc', 'doc/source/configuration/tables/cinder-storage.inc', 'doc/source/configuration/tables/cinder-nexenta.inc', 'doc/source/configuration/tables/cinder-prophetstor_dpl.inc', 'doc/source/configuration/tables/cinder-netapp_cdot_nfs.inc', 'doc/source/configuration/tables/cinder-storwize.inc', 'doc/source/configuration/tables/cinder-ibm_storage.inc', 'doc/source/configuration/tables/cinder-infortrend.inc', 'doc/source/configuration/tables/cinder-osbrick.inc', 'doc/source/configuration/tables/cinder-storage_gpfs.inc', 'doc/source/configuration/tables/cinder-nexenta5.inc', 'doc/source/configuration/tables/cinder-vmware.inc', 'doc/source/configuration/tables/cinder-ibm_gpfs.inc', 'doc/source/configuration/tables/cinder-windows.inc', 'doc/source/configuration/tables/cinder-ibm_gpfs_remote.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7caea1c0c21f4e73535ac8d33b8db92d6ab3fe1d', 'message': 'Remove warning that docs are auto generated\n\nThe warning in question has been generated by the obsolete tool\nautogenerate-config-doc which has been removed 2 years ago by\nhttps://review.opendev.org/#/c/509401/\n\n\nChange-Id: Ib00514ae82a0e942d14fb604aec3983fa74bff38\n'}]",4,687491,7caea1c0c21f4e73535ac8d33b8db92d6ab3fe1d,87,30,3,26693,,,0,"Remove warning that docs are auto generated

The warning in question has been generated by the obsolete tool
autogenerate-config-doc which has been removed 2 years ago by
https://review.opendev.org/#/c/509401/


Change-Id: Ib00514ae82a0e942d14fb604aec3983fa74bff38
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/687491/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/tables/cinder-ibm_gpfs_nfs.inc', 'doc/source/configuration/tables/cinder-scheduler.inc', 'doc/source/configuration/tables/cinder-swift.inc', 'doc/source/configuration/tables/cinder-netapp_cdot_iscsi.inc', 'doc/source/configuration/tables/cinder-storage.inc', 'doc/source/configuration/tables/cinder-nexenta.inc', 'doc/source/configuration/tables/cinder-prophetstor_dpl.inc', 'doc/source/configuration/tables/cinder-netapp_cdot_nfs.inc', 'doc/source/configuration/tables/cinder-storwize.inc', 'doc/source/configuration/tables/cinder-ibm_storage.inc', 'doc/source/configuration/tables/cinder-infortrend.inc', 'doc/source/configuration/tables/cinder-osbrick.inc', 'doc/source/configuration/tables/cinder-storage_gpfs.inc', 'doc/source/configuration/tables/cinder-nexenta5.inc', 'doc/source/configuration/tables/cinder-vmware.inc', 'doc/source/configuration/tables/cinder-ibm_gpfs.inc', 'doc/source/configuration/tables/cinder-windows.inc', 'doc/source/configuration/tables/cinder-ibm_gpfs_remote.inc']",18,7c850d2d4f9ba4c0cf184cb42137ae1ebe9d2725,remove-auto-generated-warning,,".. Warning: Do not edit this file. It is automatically generated from the software project's code and your changes will be overwritten. The tool to generate this file lives in openstack-doc-tools repository. Please make any changes needed in the code, then run the autogenerate-config-doc tool from the openstack-doc-tools repository, or ask for help on the documentation mailing list, IRC channel or meeting. ",0,180
openstack%2Fkolla-ansible~master~I77a6534dd2ddd188f795e17d17a44be249d01f31,openstack/kolla-ansible,master,I77a6534dd2ddd188f795e17d17a44be249d01f31,CI: Use any_errors_fatal in pre.yml and run.yml,MERGED,2019-10-06 07:05:06.000000000,2019-10-11 16:09:39.000000000,2019-10-11 16:07:38.000000000,"[{'_account_id': 17130}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-06 07:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/140bd78bd25c82891c9cf0784b33420c003a6414', 'message': 'CI: Use any_errors_fatal in pre.yml and post.yml\n\nThis ensures that failure of a single host fails the whole play at that\ntask. This can avoid confusing errors such as when the task\n""Assert that the nodepool private IPv4 address is assigned"" fails on one\nhost, causing subsequent errors on other hosts.\n\nNote that this only affects the Zuul playbooks, not Kolla Ansible\'s\nplaybooks.\n\nChange-Id: I77a6534dd2ddd188f795e17d17a44be249d01f31\n'}, {'number': 2, 'created': '2019-10-07 09:33:45.000000000', 'files': ['tests/run.yml', 'tests/pre.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fac1670433dcca250cc49086d4353c36fe17bb8e', 'message': 'CI: Use any_errors_fatal in pre.yml and run.yml\n\nThis ensures that failure of a single host fails the whole play at that\ntask. This can avoid confusing errors such as when the task\n""Assert that the nodepool private IPv4 address is assigned"" fails on one\nhost, causing subsequent errors on other hosts.\n\nNote that this only affects the Zuul playbooks, not Kolla Ansible\'s\nplaybooks.\n\nChange-Id: I77a6534dd2ddd188f795e17d17a44be249d01f31\n'}]",1,686921,fac1670433dcca250cc49086d4353c36fe17bb8e,13,5,2,14826,,,0,"CI: Use any_errors_fatal in pre.yml and run.yml

This ensures that failure of a single host fails the whole play at that
task. This can avoid confusing errors such as when the task
""Assert that the nodepool private IPv4 address is assigned"" fails on one
host, causing subsequent errors on other hosts.

Note that this only affects the Zuul playbooks, not Kolla Ansible's
playbooks.

Change-Id: I77a6534dd2ddd188f795e17d17a44be249d01f31
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/21/686921/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'tests/pre.yml']",2,140bd78bd25c82891c9cf0784b33420c003a6414,, any_errors_fatal: true,,6,0
openstack%2Fkolla-ansible~stable%2Frocky~Ib850a1bb2a504ac3e1396846ca3f1d9a30e8fca0,openstack/kolla-ansible,stable/rocky,Ib850a1bb2a504ac3e1396846ca3f1d9a30e8fca0,Fix swift-proxy-server memcached configuration,MERGED,2019-10-08 08:31:08.000000000,2019-10-11 16:09:37.000000000,2019-10-11 16:07:40.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-08 08:31:08.000000000', 'files': ['ansible/roles/swift/templates/proxy-server.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/78b7086605c7f25cc3ca8e14d04836e46d2f0f76', 'message': 'Fix swift-proxy-server memcached configuration\n\nCurrently, swift-proxy config uses hosts in the swift-proxy-server group\nto generate the list of memcached servers. However, memcached is\ndeployed to hosts in the memcached group.\n\nThis change fixes the memcached_servers option for swift-proxy to be the\nsame as other services.\n\nChange-Id: Ib850a1bb2a504ac3e1396846ca3f1d9a30e8fca0\nCloses-Bug: #1774313\n(cherry picked from commit 3488479d06bc9fc39058532d29229b67f25d4ec0)\n'}]",0,687237,78b7086605c7f25cc3ca8e14d04836e46d2f0f76,8,3,1,14826,,,0,"Fix swift-proxy-server memcached configuration

Currently, swift-proxy config uses hosts in the swift-proxy-server group
to generate the list of memcached servers. However, memcached is
deployed to hosts in the memcached group.

This change fixes the memcached_servers option for swift-proxy to be the
same as other services.

Change-Id: Ib850a1bb2a504ac3e1396846ca3f1d9a30e8fca0
Closes-Bug: #1774313
(cherry picked from commit 3488479d06bc9fc39058532d29229b67f25d4ec0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/687237/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/swift/templates/proxy-server.conf.j2'],1,78b7086605c7f25cc3ca8e14d04836e46d2f0f76,bug/1774313-stable/rocky,"memcache_servers = {% for host in groups['memcached'] %}{{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ memcached_port }}{% if not loop.last %},{% endif %}{% endfor %}","memcache_servers = {% for host in groups['swift-proxy-server'] %}{{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ memcached_port }}{% if not loop.last %},{% endif %}{% endfor %}",1,1
openstack%2Fkolla-ansible~stable%2Fqueens~Ib850a1bb2a504ac3e1396846ca3f1d9a30e8fca0,openstack/kolla-ansible,stable/queens,Ib850a1bb2a504ac3e1396846ca3f1d9a30e8fca0,Fix swift-proxy-server memcached configuration,MERGED,2019-10-08 08:31:16.000000000,2019-10-11 16:07:39.000000000,2019-10-11 16:07:39.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-08 08:31:16.000000000', 'files': ['ansible/roles/swift/templates/proxy-server.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/422682006cb98adf1028ed8f29429f0b647960c7', 'message': 'Fix swift-proxy-server memcached configuration\n\nCurrently, swift-proxy config uses hosts in the swift-proxy-server group\nto generate the list of memcached servers. However, memcached is\ndeployed to hosts in the memcached group.\n\nThis change fixes the memcached_servers option for swift-proxy to be the\nsame as other services.\n\nChange-Id: Ib850a1bb2a504ac3e1396846ca3f1d9a30e8fca0\nCloses-Bug: #1774313\n(cherry picked from commit 3488479d06bc9fc39058532d29229b67f25d4ec0)\n'}]",0,687238,422682006cb98adf1028ed8f29429f0b647960c7,7,3,1,14826,,,0,"Fix swift-proxy-server memcached configuration

Currently, swift-proxy config uses hosts in the swift-proxy-server group
to generate the list of memcached servers. However, memcached is
deployed to hosts in the memcached group.

This change fixes the memcached_servers option for swift-proxy to be the
same as other services.

Change-Id: Ib850a1bb2a504ac3e1396846ca3f1d9a30e8fca0
Closes-Bug: #1774313
(cherry picked from commit 3488479d06bc9fc39058532d29229b67f25d4ec0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/687238/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/swift/templates/proxy-server.conf.j2'],1,422682006cb98adf1028ed8f29429f0b647960c7,bug/1774313-stable/queens,"memcache_servers = {% for host in groups['memcached'] %}{{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ memcached_port }}{% if not loop.last %},{% endif %}{% endfor %}","memcache_servers = {% for host in groups['swift-proxy-server'] %}{{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ memcached_port }}{% if not loop.last %},{% endif %}{% endfor %}",1,1
openstack%2Freleases~master~I5a736278ac77f3584cdc0a6afba5a44e2da36c96,openstack/releases,master,I5a736278ac77f3584cdc0a6afba5a44e2da36c96,Release puppet-cloudkitty 4.4.0 and branch Train,MERGED,2019-10-09 23:34:24.000000000,2019-10-11 16:07:06.000000000,2019-10-11 16:07:06.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 11904}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/05e8e986b45e4e3d307403414539cf27a672c42e', 'message': 'Release puppet-cloudkitty 4.3.0 rc1 and branch train\n\nThis module was missed in the release and branching\nfor Puppet OpenStack.\n\nChange-Id: I5a736278ac77f3584cdc0a6afba5a44e2da36c96\n'}, {'number': 2, 'created': '2019-10-10 08:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c4b5c99e4bf2c1b7452b4167e0861420cd12ebd3', 'message': 'Release puppet-cloudkitty 4.4.0 and branch Train\n\nThis module was missed in the release proccess\nand branching for Puppet OpenStack.\n\nChange-Id: I5a736278ac77f3584cdc0a6afba5a44e2da36c96\n'}, {'number': 3, 'created': '2019-10-11 07:56:35.000000000', 'files': ['deliverables/train/puppet-cloudkitty.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/74eb9a9441a33e0554742be36ba624efac42ccc5', 'message': 'Release puppet-cloudkitty 4.4.0 and branch Train\n\nThis module was missed in the release proccess\nand branching for Puppet OpenStack.\n\nChange-Id: I5a736278ac77f3584cdc0a6afba5a44e2da36c96\n'}]",0,687751,74eb9a9441a33e0554742be36ba624efac42ccc5,18,11,3,16137,,,0,"Release puppet-cloudkitty 4.4.0 and branch Train

This module was missed in the release proccess
and branching for Puppet OpenStack.

Change-Id: I5a736278ac77f3584cdc0a6afba5a44e2da36c96
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/687751/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/puppet-cloudkitty.yaml'],1,05e8e986b45e4e3d307403414539cf27a672c42e,puppet-openstack-train, - projects: - hash: e8a6462057413e3e7bb1f63f014fed1da66711d0 repo: openstack/puppet-cloudkitty version: 4.3.0 branches: - name: stable/train location: 4.3.0,,7,0
openstack%2Fkuryr-kubernetes~master~I1109a303ee216ed8061959a81f0ed315bf138c80,openstack/kuryr-kubernetes,master,I1109a303ee216ed8061959a81f0ed315bf138c80,Set subnet_per_namespace,MERGED,2019-09-15 12:16:18.000000000,2019-10-11 15:54:26.000000000,2019-10-11 15:52:57.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-09-15 12:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/50c7a71f05acc3ebf0327402317a0ce6b9b04a94', 'message': '[WIP] Set namespace_enabled for np gate\n\nChange-Id: I1109a303ee216ed8061959a81f0ed315bf138c80\n'}, {'number': 2, 'created': '2019-09-24 14:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4d2bdd46190d60229034378ea2301d3d901d076e', 'message': '[WIP] Set namespace_enabled for np gate\n\nChange-Id: I1109a303ee216ed8061959a81f0ed315bf138c80\n'}, {'number': 3, 'created': '2019-09-25 05:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b1e84fb3154762e1b5d8e98e2f7f6a9dc538e5f4', 'message': 'Set namespace_enabled for network policy gate\n\nChange-Id: I1109a303ee216ed8061959a81f0ed315bf138c80\n'}, {'number': 4, 'created': '2019-09-25 07:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3e1bea9dd273c598775bf4c261ef06279061b899', 'message': 'Set namespace_enabled for network policy gate\n\nChange-Id: I1109a303ee216ed8061959a81f0ed315bf138c80\n'}, {'number': 5, 'created': '2019-10-07 09:32:39.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9b5fae1dcdeca30ae8919292666fe209858c3ee6', 'message': 'Set subnet_per_namespace\n\nSet subnet_per_namespace=True when sg driver is namespace\n\nChange-Id: I1109a303ee216ed8061959a81f0ed315bf138c80\n'}]",1,682245,9b5fae1dcdeca30ae8919292666fe209858c3ee6,22,5,5,4727,,,0,"Set subnet_per_namespace

Set subnet_per_namespace=True when sg driver is namespace

Change-Id: I1109a303ee216ed8061959a81f0ed315bf138c80
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/45/682245/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,50c7a71f05acc3ebf0327402317a0ce6b9b04a94,policy," elif [[ ""$KURYR_SG_DRIVER"" == ""policy"" ]]; then iniset $TEMPEST_CONFIG kuryr_kubernetes namespace_enabled True",,2,0
openstack%2Ftripleo-quickstart-extras~master~I1cd769666567320ddad98ef2b12995e5749f6428,openstack/tripleo-quickstart-extras,master,I1cd769666567320ddad98ef2b12995e5749f6428,Replace StandaloneLocalMtu with InterfaceLocalMtu,MERGED,2019-09-20 09:46:59.000000000,2019-10-11 15:54:00.000000000,2019-10-11 15:54:00.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2019-09-20 09:46:59.000000000', 'files': ['roles/standalone-upgrade/templates/standalone_config.yaml.j2', 'roles/standalone/templates/standalone_config.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e4659b063ac5799fe209e3d81d02fdb6b1b3a146', 'message': 'Replace StandaloneLocalMtu with InterfaceLocalMtu\n\nThis patch replaces `StandaloneLocalMtu` with `InterfaceLocalMtu` in the\nconfig jinja files. `StandaloneLocalMtu` has been shipped\nas the parameter to specify MTU, although the correct one is\n`InterfaceLocalMtu`.\n\nChange-Id: I1cd769666567320ddad98ef2b12995e5749f6428\nCloses-Bug: #1844167\n'}]",1,683343,e4659b063ac5799fe209e3d81d02fdb6b1b3a146,21,9,1,29775,,,0,"Replace StandaloneLocalMtu with InterfaceLocalMtu

This patch replaces `StandaloneLocalMtu` with `InterfaceLocalMtu` in the
config jinja files. `StandaloneLocalMtu` has been shipped
as the parameter to specify MTU, although the correct one is
`InterfaceLocalMtu`.

Change-Id: I1cd769666567320ddad98ef2b12995e5749f6428
Closes-Bug: #1844167
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/43/683343/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone-upgrade/templates/standalone_config.yaml.j2', 'roles/standalone/templates/standalone_config.yaml.j2']",2,e4659b063ac5799fe209e3d81d02fdb6b1b3a146,bug/1844167, InterfaceLocalMtu: 1500, StandaloneLocalMtu: 1500,2,2
openstack%2Ftripleo-heat-templates~master~I93d5bfb540d298765ebc35d7596b214271f07dca,openstack/tripleo-heat-templates,master,I93d5bfb540d298765ebc35d7596b214271f07dca,Fix multiple-nics network config ExternalMtu,MERGED,2019-10-08 23:13:55.000000000,2019-10-11 15:34:29.000000000,2019-10-11 15:32:58.000000000,"[{'_account_id': 11082}, {'_account_id': 12398}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-10-08 23:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9cc9738b40dc2adf69ce6de3464f37f8159c85f6', 'message': 'Fix multiple-nics network config ExternalMtu\n\nThe external network is used for the external bridge\nin OVN and DVR usecase. Controlled by external_bridge\ntag in the role.\n\nFor this to work we also need to include the ExternalMtu\nparameter when external_bridge tag is present.\n\nCloses-Bug: #1847360\nChange-Id: I93d5bfb540d298765ebc35d7596b214271f07dca\n'}, {'number': 2, 'created': '2019-10-08 23:26:42.000000000', 'files': ['releasenotes/notes/fix-external-bridge-mtu-multiple-nics-config-43b8dc459b5694b2.yaml', 'network/config/multiple-nics/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf06b61d670b301c57fce70e19aa17ac7561b037', 'message': 'Fix multiple-nics network config ExternalMtu\n\nThe external network is used for the external bridge\nin OVN and DVR usecase. Controlled by external_bridge\ntag in the role.\n\nFor this to work we also need to include the ExternalMtu\nparameter when external_bridge tag is present.\n\nCloses-Bug: #1847360\nChange-Id: I93d5bfb540d298765ebc35d7596b214271f07dca\n'}]",0,687437,cf06b61d670b301c57fce70e19aa17ac7561b037,13,6,2,24245,,,0,"Fix multiple-nics network config ExternalMtu

The external network is used for the external bridge
in OVN and DVR usecase. Controlled by external_bridge
tag in the role.

For this to work we also need to include the ExternalMtu
parameter when external_bridge tag is present.

Closes-Bug: #1847360
Change-Id: I93d5bfb540d298765ebc35d7596b214271f07dca
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/687437/1 && git format-patch -1 --stdout FETCH_HEAD,['network/config/multiple-nics/role.role.j2.yaml'],1,9cc9738b40dc2adf69ce6de3464f37f8159c85f6,bug/1847360,"{% for network in networks if network.name == ""External"" and 'external_bridge' in role.tags and not network.name in role.networks %} {{network.name}}Mtu: default: {{network.mtu|default('1500')}} description: The maximum transmission unit (MTU) size(in bytes) that is guaranteed to pass through the data path of the segments in the {{network.name}} network. type: number {% endfor %}",,8,0
openstack%2Fcharm-glance-simplestreams-sync~master~I94fece65ef9f5954d46ff06a7829ab71c1390551,openstack/charm-glance-simplestreams-sync,master,I94fece65ef9f5954d46ff06a7829ab71c1390551,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:08:05.000000000,2019-10-11 15:31:38.000000000,2019-10-11 15:31:38.000000000,"[{'_account_id': 12549}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/a1c2dcd5df023ce9ac5337fba3458f9c2ee28eec', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I94fece65ef9f5954d46ff06a7829ab71c1390551\n'}, {'number': 2, 'created': '2019-10-01 02:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/60727abd8005b4eb1a7141565f664b5e3ac41bba', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I94fece65ef9f5954d46ff06a7829ab71c1390551\n'}, {'number': 3, 'created': '2019-10-01 03:10:08.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'test-requirements.txt', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'charmhelpers/core/host.py', 'requirements.txt', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/38fe36568fc9a9820fd6fd8e39139f4899b1b425', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I94fece65ef9f5954d46ff06a7829ab71c1390551\n'}]",0,685827,38fe36568fc9a9820fd6fd8e39139f4899b1b425,30,4,3,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I94fece65ef9f5954d46ff06a7829ab71c1390551
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/27/685827/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'test-requirements.txt', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charmhelpers/core/host.py', 'requirements.txt', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini']",15,a1c2dcd5df023ce9ac5337fba3458f9c2ee28eec,batch-update,"# Classic charm (with zaza): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools # # TODO: Distill the func test requirements from the lint/unit test # requirements. They are intertwined. Also, Zaza itself should specify # all of its own requirements and if it doesn't, fix it there.envlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.commands = stestr run --slowest {posargs}passenv = HOME TERM CS_* OS_* TEST_* stestr run --slowest {posargs}commands = {posargs} [testenv:func-noop] basepython = python3 commands = functest-run-suite --help","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py37# NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.commands = stestr run {posargs}passenv = HOME TERM CS_API_* OS_* stestr run {posargs}commands = /bin/true",1222,81
openstack%2Fcharm-percona-cluster~master~I340623964d1d016fb8425803bf963394a27935e5,openstack/charm-percona-cluster,master,I340623964d1d016fb8425803bf963394a27935e5,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:09:38.000000000,2019-10-11 15:31:01.000000000,2019-10-11 15:31:01.000000000,"[{'_account_id': 12549}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/b28bf2660ac90c2f0d6697bbe05368cac1a03017', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I340623964d1d016fb8425803bf963394a27935e5\n'}, {'number': 2, 'created': '2019-10-01 02:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/223bb55fa7f675684dcba7a56a9ce9ee822f909b', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I340623964d1d016fb8425803bf963394a27935e5\n'}, {'number': 3, 'created': '2019-10-01 03:10:17.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'test-requirements.txt', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'files/.gitkeep', 'charmhelpers/core/host.py', 'requirements.txt', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/database/mysql.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/9b68baa799d4c3caa6268b660ab3e6911c004560', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I340623964d1d016fb8425803bf963394a27935e5\n'}]",0,685850,9b68baa799d4c3caa6268b660ab3e6911c004560,25,4,3,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I340623964d1d016fb8425803bf963394a27935e5
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/50/685850/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'test-requirements.txt', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'files/.gitkeep', 'charmhelpers/core/host.py', 'requirements.txt', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/database/mysql.py', 'tox.ini']",14,b28bf2660ac90c2f0d6697bbe05368cac1a03017,batch-update,"# Classic charm (with zaza): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools # # TODO: Distill the func test requirements from the lint/unit test # requirements. They are intertwined. Also, Zaza itself should specify # all of its own requirements and if it doesn't, fix it there.envlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.commands = stestr run --slowest {posargs}passenv = HOME TERM CS_* OS_* TEST_*commands = flake8 {posargs} hooks unit_tests tests actions lib files stestr run --slowest {posargs}[testenv:func-noop] basepython = python3 commands = functest-run-suite --help [testenv:func-target] basepython = python3 commands = functest-run-suite --keep-model --bundle {posargs} ","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py37# NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters. AMULET_SETUP_TIMEOUT=5400commands = stestr run {posargs}passenv = HOME TERM AMULET_* CS_API_* OS_*commands = flake8 {posargs} hooks unit_tests tests actions lib stestr run {posargs}",515,107
openstack%2Fcharm-gnocchi~master~Idafdd55a2dde52d0073ea869f11afc35cd91bd01,openstack/charm-gnocchi,master,Idafdd55a2dde52d0073ea869f11afc35cd91bd01,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:08:09.000000000,2019-10-11 15:25:48.000000000,2019-10-11 15:25:48.000000000,"[{'_account_id': 12549}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/419783ba9ef9bff446c1575df74fedee21e77dcc', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Idafdd55a2dde52d0073ea869f11afc35cd91bd01\n'}, {'number': 2, 'created': '2019-10-01 03:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/99ffea7f5a5085fa5256337a6acb4904aafaf4ce', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Idafdd55a2dde52d0073ea869f11afc35cd91bd01\n'}, {'number': 3, 'created': '2019-10-10 02:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/bc799b347521f0580dc59d40792ed817b79c5da6', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Idafdd55a2dde52d0073ea869f11afc35cd91bd01\n'}, {'number': 4, 'created': '2019-10-11 11:29:24.000000000', 'files': ['src/files/.gitkeep', 'src/tox.ini', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/45476ae6f6ff10b5ffd07f33bdb9f0597598c8ef', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Idafdd55a2dde52d0073ea869f11afc35cd91bd01\n'}]",0,685828,45476ae6f6ff10b5ffd07f33bdb9f0597598c8ef,25,4,4,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: Idafdd55a2dde52d0073ea869f11afc35cd91bd01
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/28/685828/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/files/.gitkeep', 'src/tox.ini', 'tox.ini']",3,419783ba9ef9bff446c1575df74fedee21e77dcc,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE: Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = Falsepassenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORYbasepython = python3commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} stestr run --slowest {posargs}ignore = E402,W504","# within individual charm repos.envlist = pep8,py37 skip_missing_interpreters = True [bundleenv] setenv = VIRTUAL_ENV={envdir} PYTHONHASHSEED=0 TERM=linux LAYER_PATH={toxinidir}/layers INTERFACE_PATH={toxinidir}/interfaces JUJU_REPOSITORY={toxinidir}/build install_command = pip install {opts} {packages} deps = -r{toxinidir}/requirements.txtpassenv = http_proxy https_proxy CHARM_TEMPLATE_LOCAL_BRANCHbasepython = python2.7[testenv:py27] basepython = python2.7 # Reactive source charms are Python3-only, but a py27 unit test target # is required by OpenStack Governance. Remove this shim as soon as # permitted. https://governance.openstack.org/tc/reference/cti/python_cti.html whitelist_externals = true commands = true commands = stestr run {posargs} [testenv:py34] basepython = python3.4 deps = -r{toxinidir}/test-requirements.txt commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs} stestr run {posargs}ignore = E402",33,50
openstack%2Fmagnum~master~I69a31d2b91fed48f07f649fa876e208e268fb339,openstack/magnum,master,I69a31d2b91fed48f07f649fa876e208e268fb339,Fixing typos and spelling errors in driver template files,MERGED,2019-10-11 01:18:28.000000000,2019-10-11 15:21:13.000000000,2019-10-11 15:18:59.000000000,"[{'_account_id': 745}, {'_account_id': 4612}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-11 01:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/bfd43f36b64ae87fccf3053db10b387dd004dc24', 'message': ""Fixing typos and spelling errors in driver template files\n\n* Changing the reference to 'Atomic' in the k8s_coreos_v1 driver to 'Container Linux'\n* Changing a misspelled 'mater' to 'master' in swarm_fedora_atomic_v1/templates/swarmmaster.yaml description\n* Changing a misspelled 'mater' to 'master' in swarm_fedora_atomic_v1/templates/swarmmaster.yaml description\n\nChange-Id: I69a31d2b91fed48f07f649fa876e208e268fb339\n""}, {'number': 2, 'created': '2019-10-11 02:21:05.000000000', 'files': ['magnum/drivers/k8s_coreos_v1/template_def.py', 'magnum/drivers/swarm_fedora_atomic_v1/templates/swarmmaster.yaml', 'magnum/drivers/swarm_fedora_atomic_v2/templates/swarmmaster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/7dc4c7d904bbf1ea147b4c21ff1d4b29618ddadf', 'message': ""Fixing typos and spelling errors in driver template files\n\n* Changing the reference to 'Atomic' in the k8s_coreos_v1 driver\n  to 'Container Linux'\n* Changing a misspelled 'mater' to 'master'\n  in swarm_fedora_atomic_v1/templates/swarmmaster.yaml description\n* Changing a misspelled 'mater' to 'master' in\n  swarm_fedora_atomic_v1/templates/swarmmaster.yaml description\n\nChange-Id: I69a31d2b91fed48f07f649fa876e208e268fb339\n""}]",0,688017,7dc4c7d904bbf1ea147b4c21ff1d4b29618ddadf,13,5,2,745,,,0,"Fixing typos and spelling errors in driver template files

* Changing the reference to 'Atomic' in the k8s_coreos_v1 driver
  to 'Container Linux'
* Changing a misspelled 'mater' to 'master'
  in swarm_fedora_atomic_v1/templates/swarmmaster.yaml description
* Changing a misspelled 'mater' to 'master' in
  swarm_fedora_atomic_v1/templates/swarmmaster.yaml description

Change-Id: I69a31d2b91fed48f07f649fa876e208e268fb339
",git fetch https://review.opendev.org/openstack/magnum refs/changes/17/688017/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_coreos_v1/template_def.py', 'magnum/drivers/swarm_fedora_atomic_v1/templates/swarmmaster.yaml', 'magnum/drivers/swarm_fedora_atomic_v2/templates/swarmmaster.yaml']",3,bfd43f36b64ae87fccf3053db10b387dd004dc24,TEMPLATE-TYPOS, This is a nested stack that defines swarm master node. A swarm master node is, This is a nested stack that defines swarm master node. A swarm mater node is,3,3
openstack%2Fopenstack-ansible-galera_client~master~If285b1b1b68ad155779c6ba750e5c0566c078e5d,openstack/openstack-ansible-galera_client,master,If285b1b1b68ad155779c6ba750e5c0566c078e5d,Bump galera version to 10.3.18,MERGED,2019-10-09 06:11:44.000000000,2019-10-11 15:09:23.000000000,2019-10-11 15:07:51.000000000,"[{'_account_id': 15993}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-09 06:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/277b60dcdf43490938c2ea7916fda282451e2657', 'message': 'Bump galera version to 10.3.18\n\nChange-Id: If285b1b1b68ad155779c6ba750e5c0566c078e5d\n'}, {'number': 2, 'created': '2019-10-09 15:24:01.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/f0b69f594e0dcf16a843bd2cd5e1d658ea2ff0ac', 'message': 'Bump galera version to 10.3.18\n\nDepends-On: https://review.opendev.org/687454\nChange-Id: If285b1b1b68ad155779c6ba750e5c0566c078e5d\n'}]",0,687455,f0b69f594e0dcf16a843bd2cd5e1d658ea2ff0ac,11,4,2,25023,,,0,"Bump galera version to 10.3.18

Depends-On: https://review.opendev.org/687454
Change-Id: If285b1b1b68ad155779c6ba750e5c0566c078e5d
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/55/687455/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,277b60dcdf43490938c2ea7916fda282451e2657,,galera_client_minor_version: 18,galera_client_minor_version: 13,1,1
openstack%2Fpuppet-nova~stable%2Fqueens~Iae595796559cc6551d8ae27e2573122a8a2da15d,openstack/puppet-nova,stable/queens,Iae595796559cc6551d8ae27e2573122a8a2da15d,"Fix ""More than one line in file '/etc/sysconfig/libvirtd' matches pattern"" errors",MERGED,2019-10-10 22:12:04.000000000,2019-10-11 15:08:33.000000000,2019-10-11 15:08:33.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 17130}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 22:12:04.000000000', 'files': ['manifests/migration/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b876ace5fa102a1a5e9d205282a6e35f1d0fc82f', 'message': 'Fix ""More than one line in file \'/etc/sysconfig/libvirtd\' matches pattern"" errors\n\nThe current code that matches the LIBVIRTD_ARGS= lines can have multiple\nmatches if said line shows up multiple times in a comment and we can end\nup with the following error:\n\n  Error: /Stage[main]/Nova::Migration::Libvirt/File_line[/etc/sysconfig/libvirtd libvirtd args]/\n    ensure: change from \'absent\' to \'present\' failed: More than one line in file \'/etc/sysconfig/libvirtd\' matches pattern\n      \'LIBVIRTD_ARGS=\'\n\nFor the record the sysconfig file that triggered this error had the\nfollowing lines:\n\n  # connects.\n  LIBVIRTD_ARGS=""--timeout 120""\n\n  # If systemd socket activation is disabled, then the following\n  # can be used to listen on TCP/TLS sockets\n  #LIBVIRTD_ARGS=""--listen""\n\nTested this change and I correctly did not fail the deployment anymore.\n\nChange-Id: Iae595796559cc6551d8ae27e2573122a8a2da15d\nCloses-Bug: #1847288\n(cherry picked from commit 8377b33bd1e96eda6342d009f85301c5f9acfc03)\n'}]",0,687996,b876ace5fa102a1a5e9d205282a6e35f1d0fc82f,9,6,1,14985,,,0,"Fix ""More than one line in file '/etc/sysconfig/libvirtd' matches pattern"" errors

The current code that matches the LIBVIRTD_ARGS= lines can have multiple
matches if said line shows up multiple times in a comment and we can end
up with the following error:

  Error: /Stage[main]/Nova::Migration::Libvirt/File_line[/etc/sysconfig/libvirtd libvirtd args]/
    ensure: change from 'absent' to 'present' failed: More than one line in file '/etc/sysconfig/libvirtd' matches pattern
      'LIBVIRTD_ARGS='

For the record the sysconfig file that triggered this error had the
following lines:

  # connects.
  LIBVIRTD_ARGS=""--timeout 120""

  # If systemd socket activation is disabled, then the following
  # can be used to listen on TCP/TLS sockets
  #LIBVIRTD_ARGS=""--listen""

Tested this change and I correctly did not fail the deployment anymore.

Change-Id: Iae595796559cc6551d8ae27e2573122a8a2da15d
Closes-Bug: #1847288
(cherry picked from commit 8377b33bd1e96eda6342d009f85301c5f9acfc03)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/96/687996/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/migration/libvirt.pp'],1,b876ace5fa102a1a5e9d205282a6e35f1d0fc82f,fix_libvirt_lines-stable/queens," match => '^LIBVIRTD_ARGS=',"," match => 'LIBVIRTD_ARGS=',",1,1
openstack%2Fpuppet-neutron~stable%2Fqueens~I9ed539745a705936d9a5110a9cfb05c2f28b0bbb,openstack/puppet-neutron,stable/queens,I9ed539745a705936d9a5110a9cfb05c2f28b0bbb,Add support for configuring permitted_ethertypes on OVS agent,MERGED,2019-10-02 18:36:11.000000000,2019-10-11 15:03:47.000000000,2019-10-11 15:02:07.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 18:36:11.000000000', 'files': ['spec/classes/neutron_agents_ml2_ovs_spec.rb', 'releasenotes/notes/add-permitted-ethertypes-a5e8f47e85ed8992.yaml', 'manifests/agents/ml2/ovs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/bedb9ca987d0678c8ae271c9d54c3e2829394f6c', 'message': 'Add support for configuring permitted_ethertypes on OVS agent\n\nNeutron recently added support for configuring non-IP ethernet types to\nbe allowed through firewalls through SECURITYGROUP/permitted_ethertypes.\nThis adds support for configuring this feature on the ML2/OVS agent.\nSee https://review.opendev.org/#/c/668224 for related neutron change.\n\nConflicts:\n  spec/classes/neutron_agents_ml2_ovs_spec.rb\n\nRelated-Bug: #1832758\nChange-Id: I9ed539745a705936d9a5110a9cfb05c2f28b0bbb\n(cherry picked from commit def07975c604ecc3215fa17dc10fc0ac8fa40545)\n(cherry picked from commit 853c5a1568face1b12b115ece4bfbc4253cd67e6)\n'}]",0,686240,bedb9ca987d0678c8ae271c9d54c3e2829394f6c,10,4,1,13995,,,0,"Add support for configuring permitted_ethertypes on OVS agent

Neutron recently added support for configuring non-IP ethernet types to
be allowed through firewalls through SECURITYGROUP/permitted_ethertypes.
This adds support for configuring this feature on the ML2/OVS agent.
See https://review.opendev.org/#/c/668224 for related neutron change.

Conflicts:
  spec/classes/neutron_agents_ml2_ovs_spec.rb

Related-Bug: #1832758
Change-Id: I9ed539745a705936d9a5110a9cfb05c2f28b0bbb
(cherry picked from commit def07975c604ecc3215fa17dc10fc0ac8fa40545)
(cherry picked from commit 853c5a1568face1b12b115ece4bfbc4253cd67e6)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/40/686240/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_agents_ml2_ovs_spec.rb', 'releasenotes/notes/add-permitted-ethertypes-a5e8f47e85ed8992.yaml', 'manifests/agents/ml2/ovs.pp']",3,bedb9ca987d0678c8ae271c9d54c3e2829394f6c,bug/1832758-stable/queens,"# [*permitted_ethertypes*] # (optional) List of additional ethernet types to be configured # on the firewall. # Defaults to $::os_service_default # $permitted_ethertypes = $::os_service_default, if ! is_service_default($permitted_ethertypes) { validate_legacy(Array, 'validate_array', $permitted_ethertypes) neutron_agent_ovs { 'securitygroup/permitted_ethertypes': value => join($permitted_ethertypes, ','); } } ",,28,0
openstack%2Fmasakari-dashboard~master~I77f7c8314c2d0f87d642f881163ed340ac231cc5,openstack/masakari-dashboard,master,I77f7c8314c2d0f87d642f881163ed340ac231cc5,Update hacking version,ABANDONED,2019-01-04 15:26:15.000000000,2019-10-11 15:00:26.000000000,,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 26285}, {'_account_id': 27781}, {'_account_id': 28935}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-01-04 15:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/b69fb1a99bc816c3d9272b33bbb4fa809463958c', 'message': 'Update hacking version to latest\n\nChange-Id: I77f7c8314c2d0f87d642f881163ed340ac231cc5\n'}, {'number': 2, 'created': '2019-03-28 02:27:21.000000000', 'files': ['test-requirements.txt', 'masakaridashboard/test/settings.py', 'masakaridashboard/hosts/tables.py', 'masakaridashboard/test/test_data/masakari_data.py', 'tox.ini', 'masakaridashboard/hosts/tests.py'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/1f77fd984a64635e6976fcf2938623eb9944be9e', 'message': 'Update hacking version\n\nUse latest release 1.1.0 and compatible changes w.r.t pep8\n\nChange-Id: I77f7c8314c2d0f87d642f881163ed340ac231cc5\n'}]",0,628473,1f77fd984a64635e6976fcf2938623eb9944be9e,12,7,2,28614,,,0,"Update hacking version

Use latest release 1.1.0 and compatible changes w.r.t pep8

Change-Id: I77f7c8314c2d0f87d642f881163ed340ac231cc5
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/73/628473/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,b69fb1a99bc816c3d9272b33bbb4fa809463958c,,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0",1,1
openstack%2Fdesignate~master~I6ede1eafff109e585dd6424837ab4c028a08fa88,openstack/designate,master,I6ede1eafff109e585dd6424837ab4c028a08fa88,Updated Readme,MERGED,2019-10-01 04:07:17.000000000,2019-10-11 14:51:03.000000000,2019-10-11 14:49:09.000000000,"[{'_account_id': 13252}, {'_account_id': 15736}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-10-01 04:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/db68e68cbfb3ae76387279ece0a1eefb8a92880c', 'message': 'Updated Readme\n\nChange-Id: I6ede1eafff109e585dd6424837ab4c028a08fa88\n'}, {'number': 2, 'created': '2019-10-01 04:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/70a5579c947c5f9447596057f0c687590a26a4f1', 'message': 'Updated Readme\n\nChange-Id: I6ede1eafff109e585dd6424837ab4c028a08fa88\n'}, {'number': 3, 'created': '2019-10-03 07:36:51.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/designate/commit/ba6f5e4a0cc6225d8a700e7e73d984c101d73026', 'message': 'Updated Readme\n\nChange-Id: I6ede1eafff109e585dd6424837ab4c028a08fa88\n'}]",8,685873,ba6f5e4a0cc6225d8a700e7e73d984c101d73026,14,4,3,22623,,,0,"Updated Readme

Change-Id: I6ede1eafff109e585dd6424837ab4c028a08fa88
",git fetch https://review.opendev.org/openstack/designate refs/changes/73/685873/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,db68e68cbfb3ae76387279ece0a1eefb8a92880c,updated_readme,"API --- To learn how to use Designate's API, consult the documentation available online at: - `DNS API Reference <https://docs.openstack.org/api-ref/dns/>`__ For more information on OpenStack APIs, SDKs and CLIs in general, refer to: - `OpenStack for App Developers <https://www.openstack.org/appdev/>`__ - `Development resources for OpenStack clouds <https://developer.openstack.org/>`__ pip install -e . tox -e docs Now point your browser at doc/build/html/index.htmlTesting ------- Execute all tests .. code-block:: shell tox -e py37 Execute only backend tests .. code-block:: shell tox -e py37 -- tests.unit.backend Execute only a single test .. code-block:: shell tox -e py37 -- designate.tests.unit.backend.test_pdns4.PDNS4BackendTestCase.test_create_zone_success Other Information -----------------", python setup.py develop cd doc pip install -r requirements.txt sphinx-build source/ build/html/ now point your browser at html/index.htmlTesting ------- Execute a single test using py27 (test is CentralServiceTest.test_count_domains) .. code-block:: shell tox -e py27 -- designate.tests.test_central.test_service.CentralServiceTest.test_count_zones_policy_check ,38,16
openstack%2Ftripleo-ci~master~I74e0913ebfa152ac515e388eb48982790f4f4d90,openstack/tripleo-ci,master,I74e0913ebfa152ac515e388eb48982790f4f4d90,Retag w/ _arch suffix rhel8 container images,MERGED,2019-10-09 20:12:07.000000000,2019-10-11 14:47:44.000000000,2019-10-11 14:47:44.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 20:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/817e9bec66713a7b8c07885dc1fef2efc40100bc', 'message': 'Retag w/ _arch suffix rhel8 container images\n\nOn RHEL we use push containers using podman [1].\nRetag task [2] has been skipped due to missing check\nfor push_containers_podman flag.\n\n[1] https://github.com/rdo-infra/review.rdoproject.org-config/blob/master/zuul.d/tripleoci.yaml#L204\n[2] https://github.com/openstack/tripleo-ci/blob/master/roles/build-containers/tasks/main.yaml#L187\n\nChange-Id: I74e0913ebfa152ac515e388eb48982790f4f4d90\n'}, {'number': 2, 'created': '2019-10-10 11:57:32.000000000', 'files': ['roles/build-containers/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7cd9172c05af1ea71c1a7f475a2b6c4a695abdec', 'message': 'Retag w/ _arch suffix rhel8 container images\n\nOn RHEL we use push containers using podman [1].\nRetag task [2] has been skipped due to missing check\nfor push_containers_podman flag.\n\n[1] https://github.com/rdo-infra/review.rdoproject.org-config/blob/master/zuul.d/tripleoci.yaml#L204\n[2] https://github.com/openstack/tripleo-ci/blob/master/roles/build-containers/tasks/main.yaml#L187\n\nChange-Id: I74e0913ebfa152ac515e388eb48982790f4f4d90\n'}]",1,687665,7cd9172c05af1ea71c1a7f475a2b6c4a695abdec,21,8,2,8175,,,0,"Retag w/ _arch suffix rhel8 container images

On RHEL we use push containers using podman [1].
Retag task [2] has been skipped due to missing check
for push_containers_podman flag.

[1] https://github.com/rdo-infra/review.rdoproject.org-config/blob/master/zuul.d/tripleoci.yaml#L204
[2] https://github.com/openstack/tripleo-ci/blob/master/roles/build-containers/tasks/main.yaml#L187

Change-Id: I74e0913ebfa152ac515e388eb48982790f4f4d90
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/65/687665/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/tasks/main.yaml'],1,817e9bec66713a7b8c07885dc1fef2efc40100bc,fix-rhel8-retag, - push_containers | bool or push_containers_podman | bool, - push_containers | bool,2,1
openstack%2Ftripleo-ci~master~I4c790bda1a254516e6b39703e250bc8404485c24,openstack/tripleo-ci,master,I4c790bda1a254516e6b39703e250bc8404485c24,add certmonger to logs to debug ssl issues,MERGED,2019-10-11 00:19:00.000000000,2019-10-11 14:47:43.000000000,2019-10-11 14:47:43.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-11 00:19:00.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/526e972a4942a2344c0ed067f0f77adfcaf7bb8b', 'message': 'add certmonger to logs to debug ssl issues\n\nneed this for proper debug\n\nRelated-Bug: #1847385\nChange-Id: I4c790bda1a254516e6b39703e250bc8404485c24\n'}]",0,688007,526e972a4942a2344c0ed067f0f77adfcaf7bb8b,8,4,1,9592,,,0,"add certmonger to logs to debug ssl issues

need this for proper debug

Related-Bug: #1847385
Change-Id: I4c790bda1a254516e6b39703e250bc8404485c24
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/07/688007/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,526e972a4942a2344c0ed067f0f77adfcaf7bb8b,, - /var/lib/certmonger/,,1,0
openstack%2Fironic-specs~master~I1e898f7b9791aa579a733996711945e273ef6a4a,openstack/ironic-specs,master,I1e898f7b9791aa579a733996711945e273ef6a4a,Expose node owner information to oslo.policy checks,MERGED,2019-09-09 16:57:36.000000000,2019-10-11 14:45:26.000000000,2019-10-11 14:25:26.000000000,"[{'_account_id': 6618}, {'_account_id': 7386}, {'_account_id': 8745}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-09-09 16:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/c041898160f67adbfa5c304bd077ba5cc16319ca', 'message': 'Expose node owner information to oslo.policy checks\n\nThis spec describes a change to the REST API node controller that\nallows oslo.policy to make decisions based on whether a user owns\na node.\n\nChange-Id: I1e898f7b9791aa579a733996711945e273ef6a4a\nStory: 2006506\nTask: 36486\nCo-Authored-By: Lars Kellogg-Stedman <lars@redhat.com>\n'}, {'number': 2, 'created': '2019-09-10 16:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/67438f0bd946ed62a03c443b6502fa44ce6b9842', 'message': 'Expose node owner information to oslo.policy checks\n\nThis spec describes a change to the REST API node controller that\nallows oslo.policy to make decisions based on whether a user owns\na node.\n\nChange-Id: I1e898f7b9791aa579a733996711945e273ef6a4a\nStory: 2006506\nTask: 36486\nCo-Authored-By: Lars Kellogg-Stedman <lars@redhat.com>\n'}, {'number': 3, 'created': '2019-09-11 15:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/39ba8fcd5fbed661e9acd1030013f0b5b8a4db95', 'message': 'Expose node owner information to oslo.policy checks\n\nThis spec describes a change to the REST API node controller that\nallows oslo.policy to make decisions based on whether a user owns\na node.\n\nChange-Id: I1e898f7b9791aa579a733996711945e273ef6a4a\nStory: 2006506\nTask: 36486\nCo-Authored-By: Lars Kellogg-Stedman <lars@redhat.com>\n'}, {'number': 4, 'created': '2019-09-11 18:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/87609b4ede93d99f61935f4fadbe1770295d67b6', 'message': 'Expose node owner information to oslo.policy checks\n\nThis spec describes a change to the REST API node controller that\nallows oslo.policy to make decisions based on whether a user owns\na node.\n\nChange-Id: I1e898f7b9791aa579a733996711945e273ef6a4a\nStory: 2006506\nTask: 36486\nCo-Authored-By: Lars Kellogg-Stedman <lars@redhat.com>\n'}, {'number': 5, 'created': '2019-09-13 15:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/b80c9edae7350cae4838c06ebd73fa6d4daaafb5', 'message': 'Expose node owner information to oslo.policy checks\n\nThis spec describes a change to the REST API node controller that\nallows oslo.policy to make decisions based on whether a user owns\na node.\n\nChange-Id: I1e898f7b9791aa579a733996711945e273ef6a4a\nStory: 2006506\nTask: 36486\nCo-Authored-By: Lars Kellogg-Stedman <lars@redhat.com>\n'}, {'number': 6, 'created': '2019-09-17 19:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/28817fe6bf5a1a17dfb9e2a1542444159397b45f', 'message': 'Expose node owner information to oslo.policy checks\n\nThis spec describes a change to the REST API node controller that\nallows oslo.policy to make decisions based on whether a user owns\na node.\n\nChange-Id: I1e898f7b9791aa579a733996711945e273ef6a4a\nStory: 2006506\nTask: 36486\nCo-Authored-By: Lars Kellogg-Stedman <lars@redhat.com>\n'}, {'number': 7, 'created': '2019-09-25 15:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/8e9198902bcae9ec12382591865c735c2235b8a4', 'message': 'Expose node owner information to oslo.policy checks\n\nThis spec describes a change to the REST API node controller that\nallows oslo.policy to make decisions based on whether a user owns\na node.\n\nChange-Id: I1e898f7b9791aa579a733996711945e273ef6a4a\nStory: 2006506\nTask: 36486\nCo-Authored-By: Lars Kellogg-Stedman <lars@redhat.com>\n'}, {'number': 8, 'created': '2019-10-09 13:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/963ff4f7cb98eebf3a748c074ac5742b72c5512e', 'message': 'Expose node owner information to oslo.policy checks\n\nThis spec describes a change to the REST API node controller that\nallows oslo.policy to make decisions based on whether a user owns\na node.\n\nChange-Id: I1e898f7b9791aa579a733996711945e273ef6a4a\nStory: 2006506\nTask: 36486\nCo-Authored-By: Lars Kellogg-Stedman <lars@redhat.com>\n'}, {'number': 9, 'created': '2019-10-09 18:31:24.000000000', 'files': ['specs/not-implemented/node-owner-policy.rst', 'specs/approved/node-owner-policy.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/62dd67cc9ef0e3d16e78d5f55e2e32a5560a6914', 'message': 'Expose node owner information to oslo.policy checks\n\nThis spec describes a change to the REST API node controller that\nallows oslo.policy to make decisions based on whether a user owns\na node.\n\nChange-Id: I1e898f7b9791aa579a733996711945e273ef6a4a\nStory: 2006506\nTask: 36486\nCo-Authored-By: Lars Kellogg-Stedman <lars@redhat.com>\n'}]",60,681066,62dd67cc9ef0e3d16e78d5f55e2e32a5560a6914,61,8,9,7386,,,0,"Expose node owner information to oslo.policy checks

This spec describes a change to the REST API node controller that
allows oslo.policy to make decisions based on whether a user owns
a node.

Change-Id: I1e898f7b9791aa579a733996711945e273ef6a4a
Story: 2006506
Task: 36486
Co-Authored-By: Lars Kellogg-Stedman <lars@redhat.com>
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/66/681066/9 && git format-patch -1 --stdout FETCH_HEAD,"['specs/not-implemented/node-owner-policy.rst', 'specs/approved/node-owner-policy.rst']",2,c041898160f67adbfa5c304bd077ba5cc16319ca,bp/node-owner-policy,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================================== Adding Policy Targets for Ironic Nodes ====================================== https://storyboard.openstack.org/#!/story/2006506 This spec describes an update to the Ironic node controller to expose Owner node data for policy checks. Problem description =================== Ironic is not multi-tenant; anyone with API access to one node has access to all nodes. Nodes have an ``owner`` field; however it is purely informational and not tied into any form of access control. This makes it impossible for an Ironic deployment consisting of nodes from multiple hardware Owners to have each Owner only be able to administrate their own nodes. This is especially problematic in large Ironic deployments, where the task of monitoring all nodes is overwhelming. Proposed change =============== The Ironic API already has a way of controlling access to the REST API: a policy engine [0]_ that is used throughout the REST API. However, when the node controller uses the policy engine [1]_, it does so without passing in any information about the node being checked. Other services such as Nova [2]_ and Barbican [3]_ pass in additional information, and we propose doing the same. In summary, we would like to: * Assume that a node's ``owner`` field is set to the project_id of the owner's project. * Update the node controller so that policy checks also pass in information about the node, including ``owner`` * Update Ironic's default generated policy file to include ``is_node_owner`` rules, along with updated rules for ``node:*`` actions (Nova does the same [4]_). For example: * ""is_node_owner"": ""project_id:%(node.owner)s"" * ""baremetal:node:set_power_state"": ""rule:is_admin or rule:is_node_owner"" This update is enough to control access for most API functions - except for list functions. For those, we propose updating the node list query so that non-admin results are filtered against the ``owner`` field, in a manner analogous to other OpenStack services. Alternatives ------------ One alternative is to perform these checks at the database API level. However that requires a new code pattern to be used on a large number of individual functions. Data model impact ----------------- None State Machine Impact -------------------- None REST API impact --------------- None Client (CLI) impact ------------------- None ""ironic"" CLI ~~~~~~~~~~~~ None ""openstack baremetal"" CLI ~~~~~~~~~~~~~~~~~~~~~~~~~ None RPC API impact -------------- None Driver API impact ----------------- None Nova driver impact ------------------ None Ramdisk impact -------------- None Security impact --------------- This change exposes functionality to additional users. However this access is constrained through Oslo policy, and can be adjusted as an adminstrator desires. Other end user impact --------------------- None Scalability impact ------------------ None Performance Impact ------------------ None: although node data needs to be retrieved in order to pass that information into a policy check, the controller functions already fetch that information. [5]_ Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignees: * tzumainn - tzumainn@redhat.com * larsks - lars@redhat.com Work Items ---------- * Update node controller. * Add documentation. * Write tests Dependencies ============ None Testing ======= Both unit tests and Tempest tests will be added. Upgrades and Backwards Compatibility ==================================== N/A Documentation Impact ==================== Additional documentation describing the possible applications of using the ``node_owner`` policy roles will be added. References ========== .. [0] https://github.com/openstack/ironic/blob/master/ironic/common/policy.py .. [1] https://github.com/openstack/ironic/blob/master/ironic/api/controllers/v1/node.py#L225 Example of a current policy check. Note the use of ``cdict``; it is being passed in as both the ``target`` and the ``creds``. .. [2] https://github.com/openstack/nova/blob/master/nova/api/openstack/compute/servers.py#L648-L652 Example of Nova creating a ``target`` dictionary. .. [3] https://github.com/openstack/barbican/blob/stable/rocky/barbican/api/controllers/__init__.py#L59-L72 Example of Barbican creating a ``target`` dictionary. .. [4] https://github.com/openstack/nova/blob/master/nova/policies/base.py#L27-L30 Example of Nova defaulting a rule that uses information from a ``target`` dictionary. .. [5] https://github.com/openstack/ironic/blob/master/ironic/api/controllers/v1/node.py#L227 ",,199,0
openstack%2Fcharm-ceph-osd~stable%2F19.07~Ib3d4b79690eb5931b4f0680b937590b317a91427,openstack/charm-ceph-osd,stable/19.07,Ib3d4b79690eb5931b4f0680b937590b317a91427,Sync charms.ceph to get fix,MERGED,2019-09-30 08:51:14.000000000,2019-10-11 14:35:22.000000000,2019-10-11 14:35:22.000000000,"[{'_account_id': 935}, {'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 28759}]","[{'number': 1, 'created': '2019-09-30 08:51:14.000000000', 'files': ['lib/ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/0ea4b78d696b1fdf18b30e7fb4e9e5d7ac899f1d', 'message': 'Sync charms.ceph to get fix\n\nChange-Id: Ib3d4b79690eb5931b4f0680b937590b317a91427\nCloses-Bug: #1841021\n(cherry picked from commit 777256051058c5201e8d9035aabcd8d85ce12a79)\nSigned-off-by: taodd <dongdong.tao@canonical.com>\n'}]",0,685661,0ea4b78d696b1fdf18b30e7fb4e9e5d7ac899f1d,16,6,1,28759,,,0,"Sync charms.ceph to get fix

Change-Id: Ib3d4b79690eb5931b4f0680b937590b317a91427
Closes-Bug: #1841021
(cherry picked from commit 777256051058c5201e8d9035aabcd8d85ce12a79)
Signed-off-by: taodd <dongdong.tao@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/61/685661/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/ceph/utils.py'],1,0ea4b78d696b1fdf18b30e7fb4e9e5d7ac899f1d,bug/1841021," for t in ['upstart', 'systemd']: if os.path.exists(os.path.join(path, t)): log('Path {} is already used as an OSD dir - bailing'.format(path)) return"," if os.path.exists(os.path.join(path, 'upstart')): log('Path {} is already configured as an OSD - bailing'.format(path)) return",4,3
openstack%2Fnetworking-ovn~stable%2Ftrain~Icd26d2fbdb71480184f3814f07e82025f7ddd963,openstack/networking-ovn,stable/train,Icd26d2fbdb71480184f3814f07e82025f7ddd963,Enable ovs-vswitchd and ovsdb-server for rally,ABANDONED,2019-10-11 10:09:59.000000000,2019-10-11 14:34:17.000000000,,"[{'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 10:09:59.000000000', 'files': ['zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/82e5c7bca028c6bf5120ee35082856b119bc402b', 'message': 'Enable ovs-vswitchd and ovsdb-server for rally\n\nThe ovs-vswitchd and ovsdb-server services were missing in the rally\ndefinition. Usually the jobs inherts from our base class which enables\nthem but rally has a different job parent.\n\nChange-Id: Icd26d2fbdb71480184f3814f07e82025f7ddd963\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 7e725331dbaf5845d6a45fa1cf8035d6a61ac744)\n'}]",0,688099,82e5c7bca028c6bf5120ee35082856b119bc402b,4,2,1,6773,,,0,"Enable ovs-vswitchd and ovsdb-server for rally

The ovs-vswitchd and ovsdb-server services were missing in the rally
definition. Usually the jobs inherts from our base class which enables
them but rally has a different job parent.

Change-Id: Icd26d2fbdb71480184f3814f07e82025f7ddd963
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 7e725331dbaf5845d6a45fa1cf8035d6a61ac744)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/99/688099/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/networking-ovn-jobs.yaml'],1,82e5c7bca028c6bf5120ee35082856b119bc402b,, ovs-vswitchd: true ovsdb-server: true,,2,0
openstack%2Ftripleo-heat-templates~master~I6a3c63979d5c1da548ab65187a0ba7732320f3fa,openstack/tripleo-heat-templates,master,I6a3c63979d5c1da548ab65187a0ba7732320f3fa,metrics_qdr: Changes to target SAF2.0,ABANDONED,2019-05-14 20:24:42.000000000,2019-10-11 14:24:05.000000000,,"[{'_account_id': 5241}, {'_account_id': 6924}, {'_account_id': 7144}, {'_account_id': 7294}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-14 20:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab8a185e9d63db865accfc070d12cf397a85bb1f', 'message': ""metrics_qdr: Changes to target SAF2.0\n\nMetrics Qdr service updates its parameter\nset depending on where it is getting installed,\nAlso the interior nodes are configured to connect to\nqdr's running on the server side of SAF.\n\nDepends-On: I195dbf70f490984cedb32d48fe09f4562cbf94fa\nChange-Id: I6a3c63979d5c1da548ab65187a0ba7732320f3fa\n""}, {'number': 2, 'created': '2019-05-14 20:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad824eb3cd3ce5ffa7fbafcba9248b88d97e76c2', 'message': ""metrics_qdr: Changes to target SAF2.0\n\nMetrics Qdr service updates its parameter\nset depending on where it is getting installed,\nAlso the interior nodes are configured to connect to\nqdr's running on the server side of SAF.\n\nDepends-On: I195dbf70f490984cedb32d48fe09f4562cbf94fa\nChange-Id: I6a3c63979d5c1da548ab65187a0ba7732320f3fa\n""}, {'number': 3, 'created': '2019-05-15 13:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f5d5d7109804bb3426ab600afe1d00f84dfabb9d', 'message': ""metrics_qdr: Changes to target SAF2.0\n\nMetrics Qdr service updates its parameter\nset depending on where it is getting installed,\nAlso the interior nodes are configured to connect to\nqdr's running on the server side of SAF.\n\nDepends-On: I195dbf70f490984cedb32d48fe09f4562cbf94fa\nChange-Id: I6a3c63979d5c1da548ab65187a0ba7732320f3fa\n""}, {'number': 4, 'created': '2019-05-15 19:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bdb486d29a191f0f2f799047dac09c91b1de7121', 'message': ""metrics_qdr: Changes to target SAF2.0\n\nMetrics Qdr service updates its parameter\nset depending on where it is getting installed,\nAlso the interior nodes are configured to connect to\nqdr's running on the server side of SAF.\n\nDepends-On: I195dbf70f490984cedb32d48fe09f4562cbf94fa\nChange-Id: I6a3c63979d5c1da548ab65187a0ba7732320f3fa\n""}, {'number': 5, 'created': '2019-09-25 15:48:21.000000000', 'files': ['environments/metrics/collectd-write-qdr.yaml', 'deployment/metrics/qdr-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/385ae08215638bb6c3379fcd1c3636d074513cb5', 'message': ""metrics_qdr: Changes to target SAF2.0\n\nMetrics Qdr service updates its parameter\nset depending on where it is getting installed,\nAlso the interior nodes are configured to connect to\nqdr's running on the server side of SAF.\n\nDepends-On: I195dbf70f490984cedb32d48fe09f4562cbf94fa\nChange-Id: I6a3c63979d5c1da548ab65187a0ba7732320f3fa\n""}]",0,659155,385ae08215638bb6c3379fcd1c3636d074513cb5,15,8,5,28504,,,0,"metrics_qdr: Changes to target SAF2.0

Metrics Qdr service updates its parameter
set depending on where it is getting installed,
Also the interior nodes are configured to connect to
qdr's running on the server side of SAF.

Depends-On: I195dbf70f490984cedb32d48fe09f4562cbf94fa
Change-Id: I6a3c63979d5c1da548ab65187a0ba7732320f3fa
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/659155/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/metrics/collectd-write-qdr.yaml', 'deployment/metrics/qdr-container-puppet.yaml']",2,ab8a185e9d63db865accfc070d12cf397a85bb1f,metrics_qdr_simplify," tags: - role_specific tags: - role_specific MetricsQdrExtraListeners: default: [] description: Extra listeners configuration (array of hashes). type: json MetricsQdrRouterMode: default: 'edge' description: Set Router mode of working. type: string tags: - role_specific # Merging role-specific parameters (RoleParameters) with the default parameters. # RoleParameters will have the precedence over the default parameters. RoleParametersValue: type: OS::Heat::Value properties: type: json value: map_replace: - map_replace: - metrics_qdr_connectors: MetricsQdrConnectors metrics_qdr_ssl_profiles: MetricsQdrSSLProfiles metrics_qdr_router_mode: MetricsQdrRouterMode - values: {get_param: [RoleParameters]} - values: MetricsQdrConnectors: {get_param: MetricsQdrConnectors} MetricsQdrSSLProfiles: {get_param: MetricsQdrSSLProfiles} MetricsQdrRouterMode: {get_param: MetricsQdrRouterMode} conditions: internal_tls_enabled: {equals: [{get_param: EnableInternalTLS}, true]} metrics_qdr_mode: {equals: [{get_param: MetricsQdrRouterMode}, 'edge']} map_replace: - map_replace: - - 5667 - 5668 - 13666 tripleo::profile::base::metrics::qdr::connectors: {get_attr: [RoleParametersValue, value, metrics_qdr_connectors]} tripleo::profile::base::metrics::qdr::router_mode: {get_attr: [RoleParametersValue, value, metrics_qdr_router_mode]} tripleo::profile::base::metrics::qdr::extra_listeners: {get_param: MetricsQdrExtraListeners} - get_attr: [RoleParametersValue, value, metrics_qdr_ssl_profiles] tripleo::profile::base::metrics::qdr::ssl_internal_profile_name: 'tlsProfile' - tripleo::profile::base::metrics::qdr::ssl_profiles: {get_attr: [RoleParametersValue, value, metrics_qdr_ssl_profiles]} tripleo::profile::base::metrics::qdr::ssl_internal_profile_name: '' - if: - metrics_qdr_mode: - tripleo::profile::base::metrics::qdr::edge_connector: 'yes' - null","conditions: internal_tls_enabled: {equals: [{get_param: EnableInternalTLS}, true]} tripleo::profile::base::metrics::qdr::connectors: {get_param: MetricsQdrConnectors} - get_param: MetricsQdrSSLProfiles - tripleo::profile::base::metrics::qdr::ssl_profiles: {get_param: MetricsQdrSSLProfiles}",139,13
openstack%2Fcharm-ceph-radosgw~master~I03b41810830927a058c87fc8450aafaa2e7da1ad,openstack/charm-ceph-radosgw,master,I03b41810830927a058c87fc8450aafaa2e7da1ad,Fix namespace_tenants misinterpreted as string,ABANDONED,2019-10-11 13:47:13.000000000,2019-10-11 14:15:19.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 13:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/fd2abf644bed3c4f11a5bfa9c743ad83d8c135c9', 'message': 'Fix namespace_tenants misinterpreted as string\n\nChange-Id: I03b41810830927a058c87fc8450aafaa2e7da1ad\n'}, {'number': 2, 'created': '2019-10-11 13:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/e77d41c5788be511ad021c336a4a3c05470db9c9', 'message': 'Fix namespace_tenants misinterpreted as string\n\nLeader-get appears to be converting bool to str\nsuch that ""False"" is True.\n\nCloses-Bug: 1847769\n\nChange-Id: I03b41810830927a058c87fc8450aafaa2e7da1ad\n'}, {'number': 3, 'created': '2019-10-11 13:50:16.000000000', 'files': ['hooks/hooks.py', 'hooks/ceph_radosgw_context.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/1c827276388ad702dfaacfac3412f762874aed4e', 'message': 'Fix namespace_tenants misinterpreted as string\n\nLeader-get appears to be converting bool to str\nsuch that ""False"" is True.\n\nCloses-Bug: #1847769\n\nChange-Id: I03b41810830927a058c87fc8450aafaa2e7da1ad\n'}]",0,688129,1c827276388ad702dfaacfac3412f762874aed4e,6,3,3,6737,,,0,"Fix namespace_tenants misinterpreted as string

Leader-get appears to be converting bool to str
such that ""False"" is True.

Closes-Bug: #1847769

Change-Id: I03b41810830927a058c87fc8450aafaa2e7da1ad
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/29/688129/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'hooks/ceph_radosgw_context.py']",2,fd2abf644bed3c4f11a5bfa9c743ad83d8c135c9,bug/1847769," ctxt['namespace_tenants'] = \ str(leader_get('namespace_tenants')) == ""True""", ctxt['namespace_tenants'] = leader_get('namespace_tenants'),4,3
openstack%2Fironic~master~Ic44e5d6a377d7f438eb129a2d8957c9a0ea6f21a,openstack/ironic,master,Ic44e5d6a377d7f438eb129a2d8957c9a0ea6f21a,Try next manager on sushy iDRAC extension failure,ABANDONED,2019-09-26 09:58:06.000000000,2019-10-11 14:14:40.000000000,,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-09-26 09:58:06.000000000', 'files': ['ironic/drivers/modules/drac/boot.py', 'ironic/tests/unit/drivers/modules/drac/test_boot.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/200bf5a2b98875b827d43ec11494f1a4e5ee04fd', 'message': 'Try next manager on sushy iDRAC extension failure\n\nWith Redfish, a single system can be managed by more than one\nmanagers. When `idrac-redfish` is trying to set boot device by\ncalling the OEM extension, it makes sense to fail over the next\nmanager on failure and retry the same call with it.\n\nThe assumption is that underlying OEM extension would fail softly\nif it deems the failure as potentially recoverable (with other\nmanager).\n\nChange-Id: Ic44e5d6a377d7f438eb129a2d8957c9a0ea6f21a\nCo-Authored-By: Richard G. Pioso <richard.pioso@dell.com>\nStory: 2006570\nTask: 36675\n'}]",0,685022,200bf5a2b98875b827d43ec11494f1a4e5ee04fd,10,5,1,26340,,,0,"Try next manager on sushy iDRAC extension failure

With Redfish, a single system can be managed by more than one
managers. When `idrac-redfish` is trying to set boot device by
calling the OEM extension, it makes sense to fail over the next
manager on failure and retry the same call with it.

The assumption is that underlying OEM extension would fail softly
if it deems the failure as potentially recoverable (with other
manager).

Change-Id: Ic44e5d6a377d7f438eb129a2d8957c9a0ea6f21a
Co-Authored-By: Richard G. Pioso <richard.pioso@dell.com>
Story: 2006570
Task: 36675
",git fetch https://review.opendev.org/openstack/ironic refs/changes/22/685022/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/boot.py', 'ironic/tests/unit/drivers/modules/drac/test_boot.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py']",3,200bf5a2b98875b827d43ec11494f1a4e5ee04fd,03-try-more-managers," sushy.exceptions.ExtensionError = ( type('ExtensionError', (sushy.exceptions.SushyError,), {}))",,46,4
openstack%2Fpymod2pkg~master~I9f5dd0300c6fb9eb21784bc98971a06294826273,openstack/pymod2pkg,master,I9f5dd0300c6fb9eb21784bc98971a06294826273,Fix some upstream mappings,MERGED,2019-10-11 08:46:42.000000000,2019-10-11 14:05:14.000000000,2019-10-11 14:04:05.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 08:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/4a17cd8e17afef1441ce1883d78646c1c1b2ffdf', 'message': 'Fix some upstream mappings\n\n- openstack-placement maps to placement in the openstack repos\n- openstacksdk now maps to the same name\n\nChange-Id: I9f5dd0300c6fb9eb21784bc98971a06294826273\n'}, {'number': 2, 'created': '2019-10-11 09:04:55.000000000', 'files': ['tests.py', 'pymod2pkg/__init__.py'], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/7f6c72d97b9b787ba84433823ca1ca867d129b5b', 'message': 'Fix some upstream mappings\n\n- openstack-placement maps to placement in the openstack repos\n- openstacksdk now maps to the same name\n\nChange-Id: I9f5dd0300c6fb9eb21784bc98971a06294826273\n'}]",0,688075,7f6c72d97b9b787ba84433823ca1ca867d129b5b,11,6,2,13294,,,0,"Fix some upstream mappings

- openstack-placement maps to placement in the openstack repos
- openstacksdk now maps to the same name

Change-Id: I9f5dd0300c6fb9eb21784bc98971a06294826273
",git fetch https://review.opendev.org/openstack/pymod2pkg refs/changes/75/688075/2 && git format-patch -1 --stdout FETCH_HEAD,['pymod2pkg/__init__.py'],1,4a17cd8e17afef1441ce1883d78646c1c1b2ffdf,," SingleRule('openstack-placement', 'placement'),"," SingleRule('openstacksdk', 'python-openstacksdk'),",1,1
openstack%2Fnova-specs~master~I5be89706601bbf1cd9ebe5707d4d027ff6913191,openstack/nova-specs,master,I5be89706601bbf1cd9ebe5707d4d027ff6913191,Fix followup comments of policy-defaults-refresh spec,MERGED,2019-07-04 14:37:12.000000000,2019-10-11 13:45:31.000000000,2019-10-11 13:41:55.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-07-04 14:37:12.000000000', 'files': ['specs/train/approved/policy-default-refresh.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2ab08da72d62fa5dce1d00bb6d9d273d70515ef8', 'message': 'Fix followup comments of policy-defaults-refresh spec\n\nFixing the few comments left in below patch\n- https://review.opendev.org/#/c/547850/\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I5be89706601bbf1cd9ebe5707d4d027ff6913191\n'}]",0,669196,2ab08da72d62fa5dce1d00bb6d9d273d70515ef8,15,5,1,8556,,,0,"Fix followup comments of policy-defaults-refresh spec

Fixing the few comments left in below patch
- https://review.opendev.org/#/c/547850/

Partial implement blueprint policy-defaults-refresh

Change-Id: I5be89706601bbf1cd9ebe5707d4d027ff6913191
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/96/669196/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/policy-default-refresh.rst'],1,2ab08da72d62fa5dce1d00bb6d9d273d70515ef8,bp/policy-defaults-refresh,"which project is used, any user with the ``admin`` role gets this global access.for the project id (with project_only kwargs) that ensures only users in the correct project can access instances in that project. For example, this database check means it is impossible to have a custom role that allows a user to perform live-migration of a server in a different project to their token, without the user being given the global admin role. In addition, should a user have any role in a project, using the default policy, that user is able to access Nova and start instances in that project (subject to any quota limits on that project). replaced with actual target project_id. For example, for a server action, we need to use the project_id of the server, not the project_id of the context which made the request.from check_str (this only applies to APIs that include the ``system`` as one of the scope_type).Old rules are maintained as deprecated rule with same defaults as today","which project is used, any user with the admin role gets this global access.for the admin role that ensures only users in the correct project can access instances in that project. For example, this database check means it is impossible to have a custom role that allows a user to perform live-migration of a server in a different project to their token, without the user being given the global admin role. In addition, should a user have any role in a project, using the default policy, that user is able to access Nova and start instances in that project (subject to any quota limits on that project). replaced with actual target project_id.from check_str.* 'os_compute_api:os-cells': * File: nova/policies/cells.py * APIs Operation it control: * GET '/os-cells', * GET '/os-cells/detail', * GET '/os-cells/info', * GET '/os-cells/capacities', * GET '/os-cells/{cell_id}' Old rules are maintained as deprecated rule with same defaults",16,22
openstack%2Fnova-specs~master~I673aaee8672cb76fc0daff73850ce74d754721f5,openstack/nova-specs,master,I673aaee8672cb76fc0daff73850ce74d754721f5,Change the primary assignee to the mainly contributor,MERGED,2019-10-11 06:45:38.000000000,2019-10-11 13:44:15.000000000,2019-10-11 13:41:54.000000000,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 06:45:38.000000000', 'files': ['specs/ussuri/approved/add-user-id-field-to-the-migrations-table.rst', 'specs/train/approved/add-user-id-field-to-the-migrations-table.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3e4fa9fd23f8cbad4c7f81d21704206b20dd619b', 'message': 'Change the primary assignee to the mainly contributor\n\nChange-Id: I673aaee8672cb76fc0daff73850ce74d754721f5\n'}]",0,688042,3e4fa9fd23f8cbad4c7f81d21704206b20dd619b,8,5,1,26458,,,0,"Change the primary assignee to the mainly contributor

Change-Id: I673aaee8672cb76fc0daff73850ce74d754721f5
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/42/688042/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/ussuri/approved/add-user-id-field-to-the-migrations-table.rst', 'specs/train/approved/add-user-id-field-to-the-migrations-table.rst']",2,3e4fa9fd23f8cbad4c7f81d21704206b20dd619b,, Brin Zhang, Qiu Fossen,2,2
openstack%2Fnova~master~I9653a46478c80b343a5a5f8d6b1607688538b1d5,openstack/nova,master,I9653a46478c80b343a5a5f8d6b1607688538b1d5,api-guide: Fix available info in handling down cells,MERGED,2019-10-04 03:56:26.000000000,2019-10-11 13:37:42.000000000,2019-10-11 13:35:38.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2019-10-04 03:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94f3294d06564cc95fcb9465d7599f4c7854187c', 'message': 'api-guide: Fix available info in handling down cells\n\nAdd the \'security_groups\' parameter as available infomation\nin the ""List Servers Detailed"" API (GET /servers/detail)\nwhen there is a down cell.\n\nChange-Id: I9653a46478c80b343a5a5f8d6b1607688538b1d5\nCLoses-Bug: #1846559\n'}, {'number': 2, 'created': '2019-10-10 21:28:02.000000000', 'files': ['api-guide/source/down_cells.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/9a5da9252434b65df5757730e5bc24e3a8f0297a', 'message': 'api-guide: Fix available info in handling down cells\n\nAdd the \'security_groups\' parameter as available infomation\nin the ""List Servers Detailed"" API (GET /servers/detail)\nwhen there is a down cell.\n\nChange-Id: I9653a46478c80b343a5a5f8d6b1607688538b1d5\nCLoses-Bug: #1846559\n'}]",8,686520,9a5da9252434b65df5757730e5bc24e3a8f0297a,30,13,2,7634,,,0,"api-guide: Fix available info in handling down cells

Add the 'security_groups' parameter as available infomation
in the ""List Servers Detailed"" API (GET /servers/detail)
when there is a down cell.

Change-Id: I9653a46478c80b343a5a5f8d6b1607688538b1d5
CLoses-Bug: #1846559
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/686520/2 && git format-patch -1 --stdout FETCH_HEAD,['api-guide/source/down_cells.rst'],1,94f3294d06564cc95fcb9465d7599f4c7854187c,bug/1846559," - security_groups: One or more security groups. (Optional) ""id"": ""bcc6c6dd-3d0a-4633-9586-60878fd68edb"", ""security_groups"": [ { ""name"": ""default"" } ],"," ""id"": ""bcc6c6dd-3d0a-4633-9586-60878fd68edb"",",7,1
openstack%2Fopenstack-ansible-apt_package_pinning~master~Icb09d117937d20b453e9a642471440b89fe9cde3,openstack/openstack-ansible-apt_package_pinning,master,Icb09d117937d20b453e9a642471440b89fe9cde3,update git.openstack.org to opendev,MERGED,2019-04-24 07:05:50.000000000,2019-10-11 13:29:46.000000000,2019-10-11 13:28:26.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-04-24 07:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/d4724667987c7ab4d72dc785c69c0e21fcbf1312', 'message': 'update git.openstack.org to opendev\n\nChange-Id: Icb09d117937d20b453e9a642471440b89fe9cde3\n'}, {'number': 2, 'created': '2019-04-24 08:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/bf087b1e9aeb538b89a4c62f4169ca5676c6a320', 'message': 'update git.openstack.org to opendev\n\nChange-Id: Icb09d117937d20b453e9a642471440b89fe9cde3\n'}, {'number': 3, 'created': '2019-04-24 14:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/82bf4e0229e40fa7004dbe6337bfca196ea50203', 'message': 'update git.openstack.org to opendev\n\nChange-Id: Icb09d117937d20b453e9a642471440b89fe9cde3\n'}, {'number': 4, 'created': '2019-09-26 20:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/396d804320dd03ebeb34cb13cfc1ca3000343e1a', 'message': 'update git.openstack.org to opendev\n\nChange-Id: Icb09d117937d20b453e9a642471440b89fe9cde3\n'}, {'number': 5, 'created': '2019-09-27 01:06:02.000000000', 'files': ['doc/source/conf.py', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/c469744a99fc8c6f13af2692df46c920d46d9693', 'message': 'update git.openstack.org to opendev\n\nChange-Id: Icb09d117937d20b453e9a642471440b89fe9cde3\n'}]",0,655328,c469744a99fc8c6f13af2692df46c920d46d9693,21,4,5,30298,,,0,"update git.openstack.org to opendev

Change-Id: Icb09d117937d20b453e9a642471440b89fe9cde3
",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/28/655328/5 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'bindep.txt', 'README.rst', 'Vagrantfile', 'doc/source/conf.py', 'tox.ini', 'releasenotes/source/conf.py']",7,d4724667987c7ab4d72dc785c69c0e21fcbf1312,, 'https://opendev.org/openstack/{}'.format(target_name), 'https://git.openstack.org/cgit/openstack/{}'.format(target_name),8,8
openstack%2Fopenstack-ansible-memcached_server~master~I26f9ce0de55a719df7c1330c01f48aa36056eb1a,openstack/openstack-ansible-memcached_server,master,I26f9ce0de55a719df7c1330c01f48aa36056eb1a,update git.openstack.org to opendev,MERGED,2019-04-24 07:31:57.000000000,2019-10-11 13:27:52.000000000,2019-10-11 13:26:42.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-04-24 07:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/7e753933ac7e06094485d5158347c2fa2bc594f2', 'message': 'update git.openstack.org to opendev\n\nChange-Id: I26f9ce0de55a719df7c1330c01f48aa36056eb1a\n'}, {'number': 2, 'created': '2019-04-24 08:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/0da2321d086e5fca4dc4ec0aecc0e667085c940e', 'message': 'update git.openstack.org to opendev\n\nChange-Id: I26f9ce0de55a719df7c1330c01f48aa36056eb1a\n'}, {'number': 3, 'created': '2019-04-24 14:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/b39861a0147a5053c2ffafd2c6e3b7d67c7e5ae6', 'message': 'update git.openstack.org to opendev\n\nChange-Id: I26f9ce0de55a719df7c1330c01f48aa36056eb1a\n'}, {'number': 4, 'created': '2019-09-26 21:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/066f251ec8437c9551e1865b3a351bf6544f7287', 'message': 'update git.openstack.org to opendev\n\nChange-Id: I26f9ce0de55a719df7c1330c01f48aa36056eb1a\n'}, {'number': 5, 'created': '2019-09-27 01:08:36.000000000', 'files': ['README.rst', 'doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/4c9152cf73e22676eda06c82687aba86bf4fdd6e', 'message': 'update git.openstack.org to opendev\n\nChange-Id: I26f9ce0de55a719df7c1330c01f48aa36056eb1a\n'}]",0,655340,4c9152cf73e22676eda06c82687aba86bf4fdd6e,19,3,5,30298,,,0,"update git.openstack.org to opendev

Change-Id: I26f9ce0de55a719df7c1330c01f48aa36056eb1a
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/40/655340/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'bindep.txt', 'README.rst', 'Vagrantfile', 'doc/source/conf.py', 'tox.ini']",6,7e753933ac7e06094485d5158347c2fa2bc594f2,, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},7,7
openstack%2Fhorizon~master~I83daa78f9e6523e0b928e414cdd19dd343ed7f26,openstack/horizon,master,I83daa78f9e6523e0b928e414cdd19dd343ed7f26,TEST: Do not merge,ABANDONED,2019-10-11 12:36:21.000000000,2019-10-11 12:39:35.000000000,,[],"[{'number': 1, 'created': '2019-10-11 12:36:21.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/horizon/commit/aba7f858b3b2355f30e6e2de1f6f028bb5716ece', 'message': 'TEST: Do not merge\n\nSigned-off-by: robert.tomczyk <robert.tomczyk@est.tech>\nChange-Id: I83daa78f9e6523e0b928e414cdd19dd343ed7f26\n'}]",0,688115,aba7f858b3b2355f30e6e2de1f6f028bb5716ece,2,0,1,30506,,,0,"TEST: Do not merge

Signed-off-by: robert.tomczyk <robert.tomczyk@est.tech>
Change-Id: I83daa78f9e6523e0b928e414cdd19dd343ed7f26
",git fetch https://review.opendev.org/openstack/horizon refs/changes/15/688115/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,aba7f858b3b2355f30e6e2de1f6f028bb5716ece,,# Test file section,,1,0
openstack%2Ftripleo-docs~master~Ibe568f2b89428c3dc2fd093e91f572f2091c3afb,openstack/tripleo-docs,master,Ibe568f2b89428c3dc2fd093e91f572f2091c3afb,Update DCN docs.,MERGED,2019-10-09 13:26:50.000000000,2019-10-11 12:26:30.000000000,2019-10-11 12:25:07.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 10873}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 13:26:50.000000000', 'files': ['deploy-guide/source/features/distributed_compute_node.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/cd2b6f054d5118027abaf18710f12aaf1b651dbf', 'message': 'Update DCN docs.\n\nVarious documentation updates for DCN.\n\nChange-Id: Ibe568f2b89428c3dc2fd093e91f572f2091c3afb\nDepends-On: Iad5c932a1f469130bcf9d82277eac4fcf7ecda75\n'}]",0,687555,cd2b6f054d5118027abaf18710f12aaf1b651dbf,10,5,1,7144,,,0,"Update DCN docs.

Various documentation updates for DCN.

Change-Id: Ibe568f2b89428c3dc2fd093e91f572f2091c3afb
Depends-On: Iad5c932a1f469130bcf9d82277eac4fcf7ecda75
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/55/687555/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/distributed_compute_node.rst'],1,cd2b6f054d5118027abaf18710f12aaf1b651dbf,,"Additionally, the ``OS::TripleO::NovaAZConfig`` service must be enabled by including the following ``resource_registry`` mapping:: resource_registry: OS::TripleO::Services::NovaAZConfig: tripleo-heat-templates/deployment/nova/nova-az-config.yaml Or, the following environment can be included which sets the above mapping:: environments/nova-az-config.yaml Deploying Ceph with HCI ######################## When deploying Ceph while using the ``DistributedComputeHCI`` roles, the environment file to enable ceph should be used:: environments/ceph-ansible/ceph-ansible.yaml Sample environments ################### There are sample environments that are included in ``tripleo-heat-templates`` for setting many of the parameter values and ``resource_registry`` mappings. These environments are located within the ``tripleo-heat-templates`` directory at:: environments/dcn.yaml environments/dcn-hci.yaml The environments are not all-inclusive and do not set all needed values and mappings, but can be used as a guide when deploying DCN. ","Create an environment file for setting necessary oslo messaging configuration overrides: .. code-block:: yaml parameter_defaults: <<Role>>ExtraConfig: oslo_messaging_notify_use_ssl: false oslo_messaging_rpc_use_ssl: false In the above example, replace `<<Role>>` with the actual role name that is being deployed at the distributed site. For example, if the role was called `Compute`, the environment file would be: .. code-block:: yaml parameter_defaults: ComputeExtraConfig: oslo_messaging_notify_use_ssl: false oslo_messaging_rpc_use_ssl: false ",30,21
openstack%2Fdesignate~master~Ia6ab93395deb95173e443f9d3ea77dd52edfcf2c,openstack/designate,master,Ia6ab93395deb95173e443f9d3ea77dd52edfcf2c,designate-manage pool update --dry-run not should pass argument,MERGED,2019-10-01 07:44:42.000000000,2019-10-11 12:10:52.000000000,2019-10-11 12:09:20.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 30380}]","[{'number': 1, 'created': '2019-10-01 07:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bfb0a61b6f3a60fa3d1ea01dc15debfb03d097d2', 'message': 'designate-manage pool update --dry-run no should pass argument\n\n--dry-run and --delete should be switchs.\n\nChange-Id: Ia6ab93395deb95173e443f9d3ea77dd52edfcf2c\n'}, {'number': 2, 'created': '2019-10-01 07:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8cadd7437bc1f696d7a124816296aeddb0186a0f', 'message': 'designate-manage pool update --dry-run not should pass argument\n\n--dry-run and --delete should be switchs.\n\nChange-Id: Ia6ab93395deb95173e443f9d3ea77dd52edfcf2c\n'}, {'number': 3, 'created': '2019-10-09 02:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0c65337e5bf4c6f1399c1374de5fce851c38f358', 'message': 'designate-manage pool update --dry-run not should pass argument\n\n--dry-run and --delete should be switchs.\nnow --dry_run acts as key value pair. users do not know what is behind\n--dry-run. and now whatever the value is acceptable. this is unreasonable.\n\nCloses-bug: #1847393\n\nChange-Id: Ia6ab93395deb95173e443f9d3ea77dd52edfcf2c\n'}, {'number': 4, 'created': '2019-10-09 03:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1bbfd63bf82e7bdfde899159341b185cf4518b5e', 'message': 'designate-manage pool update --dry-run not should pass argument\n\n--dry-run and --delete should be switchs.\nnow --dry_run acts as key value pair. users do not know what is behind\n--dry-run. and now whatever the value is acceptable. this is unreasonable.\n\nCloses-bug: #1847393\n\nChange-Id: Ia6ab93395deb95173e443f9d3ea77dd52edfcf2c\n'}, {'number': 5, 'created': '2019-10-10 09:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b8773a8eada556387eb778841e86f0685a731e92', 'message': 'designate-manage pool update --dry-run not should pass argument\n\n--dry-run and --delete should be switchs.\nnow --dry_run acts as key value pair. users do not know what is behind\n--dry-run. and now whatever the value is acceptable. this is unreasonable.\n\nCloses-bug: #1847393\n\nChange-Id: Ia6ab93395deb95173e443f9d3ea77dd52edfcf2c\n'}, {'number': 6, 'created': '2019-10-11 07:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e85a8c1404bb53a2975bd0c7e1d168f46f1db112', 'message': 'designate-manage pool update --dry-run not should pass argument\n\n--dry-run and --delete should be switchs.\nnow --dry_run acts as key value pair. users do not know what is behind\n--dry-run. and now whatever the value is acceptable. this is unreasonable.\n\nCloses-bug: #1847393\n\nChange-Id: Ia6ab93395deb95173e443f9d3ea77dd52edfcf2c\n'}, {'number': 7, 'created': '2019-10-11 09:53:15.000000000', 'files': ['designate/manage/pool.py', 'doc/source/admin/pools.rst', 'doc/source/cli/designate-manage.rst', 'designate/cmd/manage.py', 'releasenotes/notes/update-designate-manage-command-af0aec02ab582d50.yaml', 'doc/source/admin/multiple-pools.rst'], 'web_link': 'https://opendev.org/openstack/designate/commit/d708ff588b0ec1c341ec81e32f7f425d95e4833d', 'message': 'designate-manage pool update --dry-run not should pass argument\n\n--dry-run and --delete should be switchs.\nnow --dry_run acts as key value pair. users do not know what is behind\n--dry-run. and now whatever the value is acceptable. this is unreasonable.\n\nCloses-bug: #1847393\n\nChange-Id: Ia6ab93395deb95173e443f9d3ea77dd52edfcf2c\n'}]",8,685887,d708ff588b0ec1c341ec81e32f7f425d95e4833d,35,4,7,30380,,,0,"designate-manage pool update --dry-run not should pass argument

--dry-run and --delete should be switchs.
now --dry_run acts as key value pair. users do not know what is behind
--dry-run. and now whatever the value is acceptable. this is unreasonable.

Closes-bug: #1847393

Change-Id: Ia6ab93395deb95173e443f9d3ea77dd52edfcf2c
",git fetch https://review.opendev.org/openstack/designate refs/changes/87/685887/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/manage/pool.py'],1,bfb0a61b6f3a60fa3d1ea01dc15debfb03d097d2,bug/1847393," action=""store_true"", action=""store_true"",",,2,0
openstack%2Fcharm-octavia~stable%2F19.07~I386e98235c0f7d8f4a0c23977aa42debeb2e9b85,openstack/charm-octavia,stable/19.07,I386e98235c0f7d8f4a0c23977aa42debeb2e9b85,[DEBUG] test ci,ABANDONED,2019-10-10 20:19:54.000000000,2019-10-11 12:04:49.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 20:19:54.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/d70987ef96314187dd7b08e41d26f587850dc7fa', 'message': '[DEBUG] test ci\n\nChange-Id: I386e98235c0f7d8f4a0c23977aa42debeb2e9b85\n'}]",0,687980,d70987ef96314187dd7b08e41d26f587850dc7fa,4,2,1,14567,,,0,"[DEBUG] test ci

Change-Id: I386e98235c0f7d8f4a0c23977aa42debeb2e9b85
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/80/687980/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d70987ef96314187dd7b08e41d26f587850dc7fa,,"# one-off, please don't. Intead, consult #openstack-charms and ask about","# one-off, please don't. Intead, consult #openstack-charms and ask about",1,1
openstack%2Foslo.rootwrap~master~I08fe97b5e15d7aae025f3d149c1242841d01ee5b,openstack/oslo.rootwrap,master,I08fe97b5e15d7aae025f3d149c1242841d01ee5b,Sync Sphinx requirement,MERGED,2019-10-10 06:29:42.000000000,2019-10-11 11:57:32.000000000,2019-10-11 11:56:25.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28522}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-10 06:29:42.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/42b9d6ac70fc05cc30cda7fb0b17402d9b5246c9', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I08fe97b5e15d7aae025f3d149c1242841d01ee5b\n'}]",0,687790,42b9d6ac70fc05cc30cda7fb0b17402d9b5246c9,13,5,1,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I08fe97b5e15d7aae025f3d149c1242841d01ee5b
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/90/687790/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt']",2,42b9d6ac70fc05cc30cda7fb0b17402d9b5246c9,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,2
openstack%2Fopenstack-helm-infra~master~I702913f0bdc5e5eb9735648700daa8a069e4ea80,openstack/openstack-helm-infra,master,I702913f0bdc5e5eb9735648700daa8a069e4ea80,Update to Elastic version 6.7.2,ABANDONED,2019-07-10 13:55:18.000000000,2019-10-11 11:24:45.000000000,,"[{'_account_id': 7769}, {'_account_id': 8181}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 27781}, {'_account_id': 28735}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-07-10 13:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/57a2e4011c7e000eb80a41ed7663320633a0cd69', 'message': 'Update to Elastic version 6.7.2\n\nSource Change: https://review.opendev.org/#/c/636423/8\n\nChange-Id: I702913f0bdc5e5eb9735648700daa8a069e4ea80\n'}, {'number': 2, 'created': '2019-07-10 14:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/662ddeb46677136c96d8276d2d154cf0b1997892', 'message': 'Update to Elastic version 6.7.2\n\nSource Change: https://review.opendev.org/#/c/636423/8\n\nChange-Id: I702913f0bdc5e5eb9735648700daa8a069e4ea80\n'}, {'number': 3, 'created': '2019-07-11 09:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0c12218ddd1f70bb7bf224a42d6214fbbb1a21a8', 'message': 'Update to Elastic version 6.7.2\n\nSource Change: https://review.opendev.org/#/c/636423/8\n\nChange-Id: I702913f0bdc5e5eb9735648700daa8a069e4ea80\n'}, {'number': 4, 'created': '2019-07-11 10:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5c4bd3b9ceb32c694845b7b57ad077f73405e1da', 'message': 'Update to Elastic version 6.7.2\n\nSource Change: https://review.opendev.org/#/c/636423/8\n\nChange-Id: I702913f0bdc5e5eb9735648700daa8a069e4ea80\n'}, {'number': 5, 'created': '2019-07-11 13:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/20ac63591633b8325bdee5ba1bdf5b3b5df623b5', 'message': 'Update to Elastic version 6.7.2\n\nSource Change: https://review.opendev.org/#/c/636423/8\n\nChange-Id: I702913f0bdc5e5eb9735648700daa8a069e4ea80\n'}, {'number': 6, 'created': '2019-07-11 15:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/01a7947afb74ec9a0f9315264cdc821400c77360', 'message': 'Update to Elastic version 6.7.2\n\nSource Change: https://review.opendev.org/#/c/636423/8\n\nChange-Id: I702913f0bdc5e5eb9735648700daa8a069e4ea80\n'}, {'number': 7, 'created': '2019-07-11 20:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f459f54d214fcf1a368a3df3bc66bb4e31a17965', 'message': 'Update to Elastic version 6.7.2\n\nSource Change: https://review.opendev.org/#/c/636423/8\n\nChange-Id: I702913f0bdc5e5eb9735648700daa8a069e4ea80\n'}, {'number': 8, 'created': '2019-07-11 21:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ba49c2ae9c921fb03073a7858bf79005415a0458', 'message': 'Update to Elastic version 6.7.2\n\nSource Change: https://review.opendev.org/#/c/636423/8\n\nChange-Id: I702913f0bdc5e5eb9735648700daa8a069e4ea80\n'}, {'number': 9, 'created': '2019-07-12 11:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aa987c34f7370ce22ce8e98242ee70138df1b58b', 'message': 'Update to Elastic version 6.7.2\n\nSource Change: https://review.opendev.org/#/c/636423/8\n\nChange-Id: I702913f0bdc5e5eb9735648700daa8a069e4ea80\n'}, {'number': 10, 'created': '2019-07-12 12:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6a95876707ed8dfcf312541fd29c40b24c0c3c71', 'message': 'Update to Elastic version 6.7.2\n\nSource Change: https://review.opendev.org/#/c/636423/8\n\nChange-Id: I702913f0bdc5e5eb9735648700daa8a069e4ea80\n'}, {'number': 11, 'created': '2019-07-15 13:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3d70a8fecffca59ed10ccef15c4cfd6cf5aaf635', 'message': 'Update to Elastic version 6.7.2\n\nSource Change: https://review.opendev.org/#/c/636423/8\n\nChange-Id: I702913f0bdc5e5eb9735648700daa8a069e4ea80\n'}, {'number': 12, 'created': '2019-08-01 10:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4115716933d385ee88328187f14f1ee343166077', 'message': 'Update to Elastic version 6.7.2\n\nSource Change: https://review.opendev.org/#/c/636423/8\n\nChange-Id: I702913f0bdc5e5eb9735648700daa8a069e4ea80\n'}, {'number': 13, 'created': '2019-08-02 12:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fb9cbb896f40252fcac5aaee8882e1ce8c91d46d', 'message': 'Update to Elastic version 6.7.2\n\nSource Change: https://review.opendev.org/#/c/636423/8\n\nChange-Id: I702913f0bdc5e5eb9735648700daa8a069e4ea80\n'}, {'number': 14, 'created': '2019-08-12 12:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0320bc4e75395f076933ae8708d8a348e8291eb3', 'message': 'Update to Elastic version 6.7.2\n\nSource Change: https://review.opendev.org/#/c/636423/8\n\nChange-Id: I702913f0bdc5e5eb9735648700daa8a069e4ea80\n'}, {'number': 15, 'created': '2019-08-14 16:13:08.000000000', 'files': ['elasticsearch/templates/bin/_elasticsearch.sh.tpl', 'elasticsearch/templates/configmap-etc-elasticsearch.yaml', 'elasticsearch/templates/deployment-master.yaml', 'elasticsearch/values.yaml', 'elasticsearch/templates/deployment-client.yaml', 'elasticsearch/templates/statefulset-data.yaml', 'elasticsearch/templates/bin/_register-repository.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2c6b81f10a5bf95dab060a45c5c9f51afb21335e', 'message': 'Update to Elastic version 6.7.2\n\nSource Change: https://review.opendev.org/#/c/636423/8\n\nChange-Id: I702913f0bdc5e5eb9735648700daa8a069e4ea80\n'}]",0,670066,2c6b81f10a5bf95dab060a45c5c9f51afb21335e,39,13,15,28735,,,0,"Update to Elastic version 6.7.2

Source Change: https://review.opendev.org/#/c/636423/8

Change-Id: I702913f0bdc5e5eb9735648700daa8a069e4ea80
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/66/670066/12 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/templates/bin/_elasticsearch.sh.tpl', 'elasticsearch/templates/configmap-bin-elasticsearch.yaml', 'elasticsearch/templates/configmap-etc-elasticsearch.yaml', 'elasticsearch/templates/deployment-master.yaml', 'elasticsearch/values.yaml', 'elasticsearch/templates/deployment-client.yaml', 'elasticsearch/templates/statefulset-data.yaml', 'elasticsearch/templates/bin/_register-repository.sh.tpl']",8,57a2e4011c7e000eb80a41ed7663320633a0cd69,," result=$(curl -K- <<< ""--user ${ELASTICSEARCH_USERNAME}:${ELASTICSEARCH_PASSWORD}"" \ ""${ELASTICSEARCH_HOST}/_snapshot/{{$repository.name}}"" \ -H 'Content-Type: application/json' -d' { ""type"": ""s3"", ""settings"": { ""endpoint"": ""'""$RGW_HOST""'"", ""protocol"": ""http"", ""bucket"": ""'""$S3_BUCKET""'"" } }' | python -c ""import sys, json; print json.load(sys.stdin)['acknowledged']"") if [ ""$result"" == ""True"" ]; then echo ""Snapshot repository {{$repository.name}} created!""; ",,98,36
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I8effea96a4428281b5a5dfa9711bb602fdbdc705,openstack/tripleo-heat-templates,stable/queens,I8effea96a4428281b5a5dfa9711bb602fdbdc705,Fix Manila when run without pacemaker,MERGED,2019-10-10 16:14:45.000000000,2019-10-11 11:24:40.000000000,2019-10-11 11:24:40.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 9003}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 16:14:45.000000000', 'files': ['docker/services/manila-share.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab76fc8d2dfdc603a47c82e139fee621f4dd6b11', 'message': 'Fix Manila when run without pacemaker\n\nThe supported path is to run the manila-share service\nunder control of pacemaker using container bundles started\nin Step5.  However, it is useful for test and POC purposes\nto be able to run the manila-share service without pacemaker\ncontrol as a regular container started in Step4.\n\nThis change fixes the non-pacemaker deployment path, which runs\nmanila-share in Step4 rather than Step5, so that it uses the same\nprivileges for the manila-share container as are used for the\npacemaker-controlled container-bundle in Step5.\n\nHowever. we do not change scenario004 to deploy manila using the\nnon-pacemaker path since in CI we want to test the path that is\nsupported for customers.\n\nChange-Id: I8effea96a4428281b5a5dfa9711bb602fdbdc705\nRelated-Bug: #1841941\n(cherry picked from commit cff553c7e651aef769ef0ef7f0fc5e9757467cce)\n(cherry picked from commit 68a4e125bbd02e7ae5f695045c64201e4a7b5c83)\n(cherry picked from commit 24d1d91d8c426f81b5a1ea1e63781b58ae6d9304)\n'}]",0,687949,ab76fc8d2dfdc603a47c82e139fee621f4dd6b11,8,5,1,9003,,,0,"Fix Manila when run without pacemaker

The supported path is to run the manila-share service
under control of pacemaker using container bundles started
in Step5.  However, it is useful for test and POC purposes
to be able to run the manila-share service without pacemaker
control as a regular container started in Step4.

This change fixes the non-pacemaker deployment path, which runs
manila-share in Step4 rather than Step5, so that it uses the same
privileges for the manila-share container as are used for the
pacemaker-controlled container-bundle in Step5.

However. we do not change scenario004 to deploy manila using the
non-pacemaker path since in CI we want to test the path that is
supported for customers.

Change-Id: I8effea96a4428281b5a5dfa9711bb602fdbdc705
Related-Bug: #1841941
(cherry picked from commit cff553c7e651aef769ef0ef7f0fc5e9757467cce)
(cherry picked from commit 68a4e125bbd02e7ae5f695045c64201e4a7b5c83)
(cherry picked from commit 24d1d91d8c426f81b5a1ea1e63781b58ae6d9304)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/687949/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/manila-share.yaml'],1,ab76fc8d2dfdc603a47c82e139fee621f4dd6b11,bug/1841941-stable/queens, - path: /var/lib/manila owner: manila:manila recurse: true ipc: host user: root,,5,0
openstack%2Fopenstack-helm-infra~master~I79e9a5a0fc8bcab77e22f350bc2b76ecb92efff6,openstack/openstack-helm-infra,master,I79e9a5a0fc8bcab77e22f350bc2b76ecb92efff6,Update to Grafana version 6.1.6,ABANDONED,2019-07-10 10:59:58.000000000,2019-10-11 11:24:36.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 10068}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28735}]","[{'number': 1, 'created': '2019-07-10 10:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4da9aa76a8fcda0b2c86588dbe261b2112983680', 'message': 'Update to Grafana version 6.1.6\n\nChange-Id: I79e9a5a0fc8bcab77e22f350bc2b76ecb92efff6\n'}, {'number': 2, 'created': '2019-07-10 12:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4712f62e9a2d37ced52e9852f81eb047f8a992a8', 'message': 'Update to Grafana version 6.1.6\n\nChange-Id: I79e9a5a0fc8bcab77e22f350bc2b76ecb92efff6\n'}, {'number': 3, 'created': '2019-07-18 09:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/354135f4a558698238d99201576eec293088d51e', 'message': 'Update to Grafana version 6.1.6\n\nChange-Id: I79e9a5a0fc8bcab77e22f350bc2b76ecb92efff6\n'}, {'number': 4, 'created': '2019-07-18 10:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2fbc1b31b9a7beccb9c0966920b69a8deb2f05c2', 'message': 'Update to Grafana version 6.1.6\n\nChange-Id: I79e9a5a0fc8bcab77e22f350bc2b76ecb92efff6\n'}, {'number': 5, 'created': '2019-07-29 10:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/565a9f89633fcf6af45fadd410e548f77b92b0a5', 'message': 'Update to Grafana version 6.1.6\n\nChange-Id: I79e9a5a0fc8bcab77e22f350bc2b76ecb92efff6\n'}, {'number': 6, 'created': '2019-07-29 11:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4ad4c16d670195447c53e4ec488c9db76d933cf4', 'message': 'Update to Grafana version 6.1.6\n\nChange-Id: I79e9a5a0fc8bcab77e22f350bc2b76ecb92efff6\n'}, {'number': 7, 'created': '2019-07-29 14:32:12.000000000', 'files': ['grafana/values.yaml', 'grafana/templates/deployment.yaml', 'grafana/templates/bin/_selenium-tests.py.tpl', 'grafana/templates/bin/_grafana.sh.tpl', 'tools/gate/selenium/grafanaSelenium.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9475d057713d6d806503a972f22c7851beb87f85', 'message': 'Update to Grafana version 6.1.6\n\nChange-Id: I79e9a5a0fc8bcab77e22f350bc2b76ecb92efff6\n'}]",8,670032,9475d057713d6d806503a972f22c7851beb87f85,29,11,7,28735,,,0,"Update to Grafana version 6.1.6

Change-Id: I79e9a5a0fc8bcab77e22f350bc2b76ecb92efff6
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/32/670032/3 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/values.yaml', 'grafana/templates/deployment.yaml', 'grafana/templates/bin/_selenium-tests.py.tpl', 'grafana/templates/bin/_grafana.sh.tpl']",4,4da9aa76a8fcda0b2c86588dbe261b2112983680,, exec /usr/share/grafana/bin/grafana-server -homepath=/usr/share/grafana -config=/etc/grafana/grafana.ini, exec /usr/sbin/grafana-server -homepath=/usr/share/grafana -config=/etc/grafana/grafana.ini,8,4
openstack%2Ftripleo-heat-templates~master~I6493fd090c808da01d19cc12d1b8371c67708904,openstack/tripleo-heat-templates,master,I6493fd090c808da01d19cc12d1b8371c67708904,Fix double cert mount in haproxy bundle when using tls everywhere,MERGED,2019-10-03 13:20:23.000000000,2019-10-11 10:52:45.000000000,2019-10-11 10:52:45.000000000,"[{'_account_id': 3153}, {'_account_id': 18575}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-03 13:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd6fb9008f0db3eb5bb2664b99e0d10b1e0fa7c5', 'message': 'Fix double cert mount in haproxy bundle when using tls everywhere\n\nWhen deploying with tls-everywhere the haproxy_init_bundle container\nwill bind mount /etc/ipa/ca.crt twice and starting with podman 1.{3,4}.x\nthis will break:\n\n  ""stderr: Error: /etc/ipa/ca.crt: duplicate mount destination""\n\nThe TLS bind mounts are needed in haproxy_init_bundle (which is only\nin charge of creating the pcmk resource) because puppet-haproxy uses\na validate command to check the config which will fail if we simply\nremove those bind mounts. Instead of skipping this verification with\nsome parameter/tag, we try and avoid the duplicate cert.\n\nThe duplication comes from:\n1) https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/containers-common.yaml#L122-L127\n2) https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/haproxy/haproxy-pacemaker-puppet.yaml#L263\n\nSince changing it into 1) has large implication, we just avoid\nredefining it in 2).\n\nTested with a full tls-everywhere deploy with the applied patch and the\nerror is not seen any longer.\n\nChange-Id: I6493fd090c808da01d19cc12d1b8371c67708904\nRelated-Bug: #1833347\nCloses-Bug: #1846495\n'}, {'number': 2, 'created': '2019-10-03 14:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0d709ab7937fa1437513ac4f2463919079f8eb08', 'message': 'Fix double cert mount in haproxy bundle when using tls everywhere\n\nWhen deploying with tls-everywhere the haproxy_init_bundle container\nwill bind mount /etc/ipa/ca.crt twice and starting with podman 1.{3,4}.x\nthis will break:\n\n  ""stderr: Error: /etc/ipa/ca.crt: duplicate mount destination""\n\nThe TLS bind mounts are needed in haproxy_init_bundle (which is only\nin charge of creating the pcmk resource) because puppet-haproxy uses\na validate command to check the config which will fail if we simply\nremove those bind mounts. Instead of skipping this verification with\nsome parameter/tag, we try and avoid the duplicate cert by removing the\nca.crt bind mount from deployed_cert_mounts.\n\nThe duplication comes from:\n1) https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/containers-common.yaml#L122-L127\n2) https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/haproxy/haproxy-pacemaker-puppet.yaml#L263\n\nSince changing it into 1) has large implication, we just avoid\nredefining it in 2).\n\nTested with a full tls-everywhere deploy with the applied patch and the\nerror is not seen any longer.\n\nChange-Id: I6493fd090c808da01d19cc12d1b8371c67708904\nRelated-Bug: #1833347\nCloses-Bug: #1846495\n'}, {'number': 3, 'created': '2019-10-07 12:41:23.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/668cc684fc93503128c946dae9f331b49437ec2c', 'message': 'Fix double cert mount in haproxy bundle when using tls everywhere\n\nWhen deploying with tls-everywhere the haproxy_init_bundle container\nwill bind mount /etc/ipa/ca.crt twice and starting with podman 1.{3,4}.x\nthis will break:\n\n  ""stderr: Error: /etc/ipa/ca.crt: duplicate mount destination""\n\nThe TLS bind mounts are needed in haproxy_init_bundle (which is only\nin charge of creating the pcmk resource) because puppet-haproxy uses\na validate command to check the config which will fail if we simply\nremove those bind mounts. Instead of skipping this verification with\nsome parameter/tag, we try and avoid the duplicate cert by removing the\nca.crt bind mount from deployed_cert_mounts.\n\nThe duplication comes from:\n1) https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/containers-common.yaml#L122-L127\n2) https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/haproxy/haproxy-pacemaker-puppet.yaml#L263\n\nSince changing it into 1) has large implication, we just avoid\nredefining it in 2).\n\nTested with a full tls-everywhere deploy with the applied patch and the\nerror is not seen any longer.\n\nChange-Id: I6493fd090c808da01d19cc12d1b8371c67708904\nRelated-Bug: #1833347\nCloses-Bug: #1846495\n'}]",1,686399,668cc684fc93503128c946dae9f331b49437ec2c,21,7,3,20172,,,0,"Fix double cert mount in haproxy bundle when using tls everywhere

When deploying with tls-everywhere the haproxy_init_bundle container
will bind mount /etc/ipa/ca.crt twice and starting with podman 1.{3,4}.x
this will break:

  ""stderr: Error: /etc/ipa/ca.crt: duplicate mount destination""

The TLS bind mounts are needed in haproxy_init_bundle (which is only
in charge of creating the pcmk resource) because puppet-haproxy uses
a validate command to check the config which will fail if we simply
remove those bind mounts. Instead of skipping this verification with
some parameter/tag, we try and avoid the duplicate cert by removing the
ca.crt bind mount from deployed_cert_mounts.

The duplication comes from:
1) https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/containers-common.yaml#L122-L127
2) https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/haproxy/haproxy-pacemaker-puppet.yaml#L263

Since changing it into 1) has large implication, we just avoid
redefining it in 2).

Tested with a full tls-everywhere deploy with the applied patch and the
error is not seen any longer.

Change-Id: I6493fd090c808da01d19cc12d1b8371c67708904
Related-Bug: #1833347
Closes-Bug: #1846495
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/686399/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-pacemaker-puppet.yaml'],1,fd6fb9008f0db3eb5bb2664b99e0d10b1e0fa7c5,haproxy_doublecert, - if: - public_tls_enabled - - get_param: DeployedSSLCertificatePath - null - if: - internal_tls_enabled - - get_param: HAProxyInternalTLSKeysDirectory - get_param: HAProxyInternalTLSCertsDirectory - null, - *deployed_cert_mount,9,1
openstack%2Fmagnum~stable%2Ftrain~Ie5f7c16742468584dcfb1b510d51187dcf341c44,openstack/magnum,stable/train,Ie5f7c16742468584dcfb1b510d51187dcf341c44,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-27 17:03:36.000000000,2019-10-11 10:29:33.000000000,2019-10-11 10:27:59.000000000,"[{'_account_id': 11904}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-09-27 17:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e7a1ac3b17ecee4a4b2538a09dbdce809fe8ad66', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ie5f7c16742468584dcfb1b510d51187dcf341c44\n'}, {'number': 2, 'created': '2019-10-07 20:52:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum/commit/178d455d298d896702b9149afe1c24ec3049eedf', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ie5f7c16742468584dcfb1b510d51187dcf341c44\n'}]",2,685413,178d455d298d896702b9149afe1c24ec3049eedf,12,5,2,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ie5f7c16742468584dcfb1b510d51187dcf341c44
",git fetch https://review.opendev.org/openstack/magnum refs/changes/13/685413/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e7a1ac3b17ecee4a4b2538a09dbdce809fe8ad66,create-train, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fwatcher~master~Ic3a829544272689a0dfa769f25523088ccac8efa,openstack/watcher,master,Ic3a829544272689a0dfa769f25523088ccac8efa,dnm: ThreadPool singleton for general tasks,ABANDONED,2019-07-18 19:21:13.000000000,2019-10-11 10:23:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-18 19:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/9eebeddf0c728136bdf1c47082dd834ac5f7662c', 'message': 'dnm: ThreadPool singleton poc for general tasks\n\nDemonstration of a threadpool singleton for the execution of\ngeneral tasks.\n\nChange-Id: Ic3a829544272689a0dfa769f25523088ccac8efa\n'}, {'number': 2, 'created': '2019-07-18 21:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/bf9208a3e9e1b52edfc952b994216528f7f517e9', 'message': 'dnm: ThreadPool singleton poc for general tasks\n\nDemonstration of a threadpool singleton for the execution of\ngeneral tasks.\n\nChange-Id: Ic3a829544272689a0dfa769f25523088ccac8efa\n'}, {'number': 3, 'created': '2019-07-19 08:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/ab48c9f172e6b1f4f95defdd000c7567b6833fa9', 'message': 'dnm: ThreadPool singleton for general tasks\n\nThreadpool singleton for the execution of general tasks.\n\nChange-Id: Ic3a829544272689a0dfa769f25523088ccac8efa\n'}, {'number': 4, 'created': '2019-07-25 17:35:17.000000000', 'files': ['watcher/decision_engine/messaging/audit_endpoint.py', 'watcher/conf/decision_engine.py', 'watcher/decision_engine/model/collector/nova.py', 'watcher/decision_engine/threading.py', 'watcher/tests/decision_engine/test_threading.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/6467d78417a4145ee5c9ee8043194a8b959724e7', 'message': 'dnm: ThreadPool singleton for general tasks\n\nThreadpool singleton for the execution of general tasks.\n\nChange-Id: Ic3a829544272689a0dfa769f25523088ccac8efa\n'}]",0,671556,6467d78417a4145ee5c9ee8043194a8b959724e7,9,1,4,29911,,,0,"dnm: ThreadPool singleton for general tasks

Threadpool singleton for the execution of general tasks.

Change-Id: Ic3a829544272689a0dfa769f25523088ccac8efa
",git fetch https://review.opendev.org/openstack/watcher refs/changes/56/671556/4 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/decision_engine/messaging/audit_endpoint.py', 'watcher/conf/decision_engine.py', 'watcher/decision_engine/model/collector/nova.py', 'watcher/decision_engine/threading.py', 'watcher/tests/decision_engine/test_threading.py']",5,9eebeddf0c728136bdf1c47082dd834ac5f7662c,singletonthreadpool,"# -*- encoding: utf-8 -*- # Copyright (c) 2019 European Organization for Nuclear Research (CERN) # # Authors: Corne Lukken <info@dantalion.nl> # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from watcher.decision_engine import threading from watcher.tests import base class TestDecisionEngineThreadPool(base.TestCase): def setUp(self): super(TestDecisionEngineThreadPool, self).setUp() def test_singleton(self): threadpool1 = threading.DecisionEngineThreadPool() threadpool2 = threading.DecisionEngineThreadPool() self.assertEqual(threadpool1, threadpool2) ",,133,39
openstack%2Fwatcher~master~Ic0a1a2b168ed92db8f1eae437ce2cca739eefe16,openstack/watcher,master,Ic0a1a2b168ed92db8f1eae437ce2cca739eefe16,dnm: Poc parallelization using taskflow,ABANDONED,2019-07-17 13:18:32.000000000,2019-10-11 10:23:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-17 13:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/74ae91d32ae963838ceeba24f3a5b12605b7c1b6', 'message': '[WiP] dnm: Poc parallelization using taskflow\n\nProof of concept to provide parallelization using taskflow. This is\nan alternative to the proposed global threadpool approach.\n\nChange-Id: Ic0a1a2b168ed92db8f1eae437ce2cca739eefe16\n'}, {'number': 2, 'created': '2019-07-18 07:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/d26331941de2bbd31b75c4ef09ff6d849e94d16e', 'message': '[WiP] dnm: Poc parallelization using taskflow\n\nProof of concept to provide parallelization using taskflow. This is\nan alternative to the proposed global threadpool approach.\n\nChange-Id: Ic0a1a2b168ed92db8f1eae437ce2cca739eefe16\n'}, {'number': 3, 'created': '2019-07-18 08:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/53d7ff2713154698b18716ab84262bccabead3fe', 'message': '[WiP] dnm: Poc parallelization using taskflow\n\nProof of concept to provide parallelization using taskflow. This is\nan alternative to the proposed global threadpool approach.\n\nChange-Id: Ic0a1a2b168ed92db8f1eae437ce2cca739eefe16\n'}, {'number': 4, 'created': '2019-07-18 09:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/da80bac7334921f7ae58d7b2510a4f951e6c9acd', 'message': '[WiP] dnm: Poc parallelization using taskflow\n\nProof of concept to provide parallelization using taskflow. This is\nan alternative to the proposed global threadpool approach.\n\nChange-Id: Ic0a1a2b168ed92db8f1eae437ce2cca739eefe16\n'}, {'number': 5, 'created': '2019-07-18 11:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/7db5e79a352d673ec66100093c6b9cf1ddd64129', 'message': 'dnm: Poc parallelization using taskflow\n\nProof of concept to provide parallelization using taskflow. This is\nan alternative to the proposed global threadpool approach.\n\nChange-Id: Ic0a1a2b168ed92db8f1eae437ce2cca739eefe16\n'}, {'number': 6, 'created': '2019-07-18 12:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/b739ef0924d94df5861546e99e82677d3bdefca2', 'message': 'dnm: Poc parallelization using taskflow\n\nProof of concept to provide parallelization using taskflow. This is\nan alternative to the proposed global threadpool approach.\n\nChange-Id: Ic0a1a2b168ed92db8f1eae437ce2cca739eefe16\n'}, {'number': 7, 'created': '2019-07-18 13:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/d96e30d824121aa97f3263a274de8839a3dc4487', 'message': 'dnm: Poc parallelization using taskflow\n\nProof of concept to provide parallelization using taskflow. This is\nan alternative to the proposed global threadpool approach.\n\nChange-Id: Ic0a1a2b168ed92db8f1eae437ce2cca739eefe16\n'}, {'number': 8, 'created': '2019-07-18 14:25:04.000000000', 'files': ['watcher/tests/decision_engine/cluster/test_nova_cdmc.py', 'watcher/decision_engine/model/collector/nova.py', 'watcher/decision_engine/model/task/nova.py', 'watcher/tests/decision_engine/cluster/test_nova_tasks.py', 'watcher/decision_engine/model/task/__init__.py', 'watcher/tests/decision_engine/cluster/test_model_builder.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/4299959523d9623ff1dbe670eed93e7c7eacba2d', 'message': 'dnm: Poc parallelization using taskflow\n\nProof of concept to provide parallelization using taskflow. This is\nan alternative to the proposed global threadpool approach.\n\nChange-Id: Ic0a1a2b168ed92db8f1eae437ce2cca739eefe16\n'}]",0,671264,4299959523d9623ff1dbe670eed93e7c7eacba2d,13,1,8,29911,,,0,"dnm: Poc parallelization using taskflow

Proof of concept to provide parallelization using taskflow. This is
an alternative to the proposed global threadpool approach.

Change-Id: Ic0a1a2b168ed92db8f1eae437ce2cca739eefe16
",git fetch https://review.opendev.org/openstack/watcher refs/changes/64/671264/2 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/decision_engine/model/collector/nova.py', 'watcher/decision_engine/model/task/nova.py', 'watcher/tests/decision_engine/cluster/test_nova_tasks.py', 'watcher/decision_engine/model/task/__init__.py', 'watcher/tests/decision_engine/cluster/test_model_builder.py']",5,74ae91d32ae963838ceeba24f3a5b12605b7c1b6,taskflow,," def test_collect_aggregates(self, m_nova): """""""""""" m_nova.return_value.get_aggregate_list.return_value = \ [mock.Mock(id=1, name='example'), mock.Mock(id=5, name='example', hosts=['hostone', 'hosttwo'])] m_nova.return_value.get_compute_node_by_name.return_value = False m_scope = [{'id': 5}] t_nova_cluster = nova.ModelBuilder(mock.Mock()) result = set() t_nova_cluster._collect_aggregates(m_scope, result) self.assertEqual(set(['hostone', 'hosttwo']), result) @mock.patch.object(nova_helper, 'NovaHelper') def test_collect_zones(self, m_nova): """""""""""" m_nova.return_value.get_service_list.return_value = \ [mock.Mock(zone='av_b'), mock.Mock(zone='av_a', host='hostone')] m_nova.return_value.get_compute_node_by_name.return_value = False m_scope = [{'name': 'av_a'}] t_nova_cluster = nova.ModelBuilder(mock.Mock()) result = set() t_nova_cluster._collect_zones(m_scope, result) self.assertEqual(set(['hostone']), result) @mock.patch.object(nova_helper, 'NovaHelper')",171,64
openstack%2Fwatcher~master~I1362e5105de2f1309ef5ea3e31d8e97a07810ea6,openstack/watcher,master,I1362e5105de2f1309ef5ea3e31d8e97a07810ea6,DNM: Abuse the ThreadPool to build the datamodel,ABANDONED,2019-07-16 15:51:13.000000000,2019-10-11 10:22:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-16 15:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/c12efa16bab84ae4290f10b133ed5df03878ccd4', 'message': 'DNM: Abuse the ThreadPool to build the datamodel\n\nReuses the audit threadpool to parallelize building the data model.\nThis proof of concept was used for performance measurements to\ndemonstrate possible improvements to Watcher.\n\nChange-Id: I1362e5105de2f1309ef5ea3e31d8e97a07810ea6\n'}, {'number': 2, 'created': '2019-07-25 16:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/05d1253c9cadfd7fc466a17a2226a5a54980548f', 'message': 'DNM: Abuse the ThreadPool to build the datamodel\n\nReuses the audit threadpool to parallelize building the data model.\nThis proof of concept was used for performance measurements to\ndemonstrate possible improvements to Watcher.\n\nChange-Id: I1362e5105de2f1309ef5ea3e31d8e97a07810ea6\n'}, {'number': 3, 'created': '2019-07-25 17:35:17.000000000', 'files': ['watcher/decision_engine/messaging/audit_endpoint.py', 'watcher/decision_engine/model/collector/nova.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/7fb39836fc60da23e64def2f12528d80ce17a3f9', 'message': 'DNM: Abuse the ThreadPool to build the datamodel\n\nReuses the audit threadpool to parallelize building the data model.\nThis proof of concept was used for performance measurements to\ndemonstrate possible improvements to Watcher.\n\nChange-Id: I1362e5105de2f1309ef5ea3e31d8e97a07810ea6\n'}]",0,671094,7fb39836fc60da23e64def2f12528d80ce17a3f9,6,1,3,29911,,,0,"DNM: Abuse the ThreadPool to build the datamodel

Reuses the audit threadpool to parallelize building the data model.
This proof of concept was used for performance measurements to
demonstrate possible improvements to Watcher.

Change-Id: I1362e5105de2f1309ef5ea3e31d8e97a07810ea6
",git fetch https://review.opendev.org/openstack/watcher refs/changes/94/671094/2 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/decision_engine/messaging/audit_endpoint.py', 'watcher/decision_engine/model/collector/nova.py']",2,c12efa16bab84ae4290f10b133ed5df03878ccd4,async,"from futurist import waiters from watcher.decision_engine.messaging import audit_endpoint if not host_aggregates: LOG.warning(""No aggregate"") return LOG.warning(""Starting aggregate collection."") if not availability_zones: LOG.warning(""No availability zone"") return LOG.warning(""Starting availability zone collection."") future_to_url = { audit_endpoint.EXECUTOR.submit( self._collect_aggregates, host_aggregates, compute_nodes), audit_endpoint.EXECUTOR.submit( self._collect_zones, availability_zones, compute_nodes) } for future in waiters.wait_for_all(future_to_url)[0]: # Wait for both calls to complete LOG.warning(""Scope jobs done"") pass future_nodes = [ audit_endpoint.EXECUTOR.submit( self.nova_helper.get_compute_node_by_name, node, servers=True, detailed=True) for node in compute_nodes ] LOG.warning(""submitted {0} jobs"".format(len(compute_nodes))) future_instances = [] first_run = True while len(waiters.wait_for_any(future_nodes)[1]) > 0 or first_run: first_run = False for future in waiters.wait_for_any(future_nodes)[0]: try: future_nodes.remove(future) cnode = future.result() LOG.warning(cnode) # access of node info will trigger exception if node not # found node_info = cnode[0] # filter out baremetal node if node_info.hypervisor_type == 'ironic': LOG.debug(""filtering out baremetal node: %s"", node_info) continue self.add_compute_node(node_info) # node.servers is a list of server objects # New in nova version 2.53 instances = getattr(node_info, ""servers"", None) future_instances.append( audit_endpoint.EXECUTOR.submit( self.add_instance_node, node_info, instances) ) except Exception: LOG.error(""compute node from aggregate / "" ""availability_zone could not be found"") for future in waiters.wait_for_all(future_instances)[0]: LOG.warning(""Completed getting instances for node"")"," - TODO(v-francoise): Storage-related knowledge (Cinder) if host_aggregates: self._collect_aggregates(host_aggregates, compute_nodes) if availability_zones: self._collect_zones(availability_zones, compute_nodes) for node_name in compute_nodes: cnode = self.nova_helper.get_compute_node_by_name(node_name, servers=True, detailed=True) if cnode: node_info = cnode[0] # filter out baremetal node if node_info.hypervisor_type == 'ironic': LOG.debug(""filtering out baremetal node: %s"", node_name) continue self.add_compute_node(node_info) # node.servers is a list of server objects # New in nova version 2.53 instances = getattr(node_info, ""servers"", None) self.add_instance_node(node_info, instances) else: LOG.error(""compute_node from aggregate / availability_zone "" ""could not be found: {0}"".format(node_name))",63,25
openstack%2Fpuppet-vswitch~stable%2Ftrain~I371784be7c312b9a6283937f69af4c79131ce840,openstack/puppet-vswitch,stable/train,I371784be7c312b9a6283937f69af4c79131ce840,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-04 13:39:28.000000000,2019-10-11 10:13:11.000000000,2019-10-11 10:11:50.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:39:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/58734f457090c360f8dda4142a4a899b1c05d882', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I371784be7c312b9a6283937f69af4c79131ce840\n'}]",0,686716,58734f457090c360f8dda4142a4a899b1c05d882,17,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I371784be7c312b9a6283937f69af4c79131ce840
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/16/686716/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,58734f457090c360f8dda4142a4a899b1c05d882,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fmistral~master~I6b188e315007391c738b8f821fad91c4fd8572ae,openstack/mistral,master,I6b188e315007391c738b8f821fad91c4fd8572ae,Fix the global publish for task,MERGED,2019-10-10 12:41:57.000000000,2019-10-11 10:11:38.000000000,2019-10-11 10:10:30.000000000,"[{'_account_id': 8731}, {'_account_id': 9029}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-10-10 12:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/cb4846e2815300fa3027e003b7fb69fd7f7d910a', 'message': 'Fix the global publish for task\n\nIf there is a root execution then lazy load the\nparams field of the root execution\n\nChange-Id: I6b188e315007391c738b8f821fad91c4fd8572ae\n'}, {'number': 2, 'created': '2019-10-10 14:15:51.000000000', 'files': ['mistral/tests/unit/api/v2/test_tasks.py', 'mistral/api/controllers/v2/task.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/ab4d4a5807a9449b6a701e90c198d2cf4328bda6', 'message': 'Fix the global publish for task\n\nIf there is a root execution then lazy load the\nparams field of the root execution\n\nChange-Id: I6b188e315007391c738b8f821fad91c4fd8572ae\n'}]",1,687880,ab4d4a5807a9449b6a701e90c198d2cf4328bda6,11,4,2,19134,,,0,"Fix the global publish for task

If there is a root execution then lazy load the
params field of the root execution

Change-Id: I6b188e315007391c738b8f821fad91c4fd8572ae
",git fetch https://review.opendev.org/openstack/mistral refs/changes/80/687880/2 && git format-patch -1 --stdout FETCH_HEAD,['mistral/api/controllers/v2/task.py'],1,cb4846e2815300fa3027e003b7fb69fd7f7d910a,global_publish," if task_ex.workflow_execution: # need this for unit tests to pass rest_utils.load_deferred_fields( task_ex.workflow_execution.root_execution, ['params'] ) ",,6,0
openstack%2Fnetworking-ovn~stable%2Ftrain~Iabe317921d65193e3aaf0071ac1b468511fb6c4c,openstack/networking-ovn,stable/train,Iabe317921d65193e3aaf0071ac1b468511fb6c4c,Enable ovs-vswitchd and ovsdb-server for rally,ABANDONED,2019-10-11 09:45:32.000000000,2019-10-11 10:10:16.000000000,,[],"[{'number': 1, 'created': '2019-10-11 09:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c9165fa8ec3da5e461fdd65275a01522821b373f', 'message': 'WIP Test rally\n\nChange-Id: Iabe317921d65193e3aaf0071ac1b468511fb6c4c\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2019-10-11 10:05:13.000000000', 'files': ['zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/741c58c8e7629b7024ab1eb511e8e65061f4c7ef', 'message': 'Enable ovs-vswitchd and ovsdb-server for rally\n\nThe ovs-vswitchd and ovsdb-server services were missing in the rally\ndefinition. Usually the jobs inherts from our base class which enables\nthem but rally has a different job parent.\n\nChange-Id: Iabe317921d65193e3aaf0071ac1b468511fb6c4c\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,688091,741c58c8e7629b7024ab1eb511e8e65061f4c7ef,3,0,2,6773,,,0,"Enable ovs-vswitchd and ovsdb-server for rally

The ovs-vswitchd and ovsdb-server services were missing in the rally
definition. Usually the jobs inherts from our base class which enables
them but rally has a different job parent.

Change-Id: Iabe317921d65193e3aaf0071ac1b468511fb6c4c
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/91/688091/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/networking-ovn-jobs.yaml']",2,c9165fa8ec3da5e461fdd65275a01522821b373f,, ovs-vswitchd: true ovsdb-server: true,,35,33
openstack%2Fironic~master~Id0a9a8f40dd4ab7246a53d1f503c15ca560d80e2,openstack/ironic,master,Id0a9a8f40dd4ab7246a53d1f503c15ca560d80e2,Remove unused import statement.,NEW,2019-10-11 06:12:44.000000000,2019-10-11 09:59:44.000000000,,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 30200}]","[{'number': 1, 'created': '2019-10-11 06:12:44.000000000', 'files': ['doc/source/_exts/automated_steps.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/11ebc48907d9de4a55f31c28f48e45d635c72741', 'message': 'Remove unused import statement.\n\nChange-Id: Id0a9a8f40dd4ab7246a53d1f503c15ca560d80e2\n'}]",0,688038,11ebc48907d9de4a55f31c28f48e45d635c72741,5,4,1,30200,,,0,"Remove unused import statement.

Change-Id: Id0a9a8f40dd4ab7246a53d1f503c15ca560d80e2
",git fetch https://review.opendev.org/openstack/ironic refs/changes/38/688038/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/automated_steps.py'],1,11ebc48907d9de4a55f31c28f48e45d635c72741,,,from collections import defaultdict,0,1
openstack%2Fcharm-guide~master~Ia6ee60483bedd26bdb119222dfbd88cc12d1c70e,openstack/charm-guide,master,Ia6ee60483bedd26bdb119222dfbd88cc12d1c70e,Add release note for ceph-radosgw namespacing,MERGED,2019-10-10 14:48:22.000000000,2019-10-11 09:47:08.000000000,2019-10-11 09:45:36.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-10-10 14:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/ff588d35cb0529e28bb9ef7c0b7f2c5efbe20263', 'message': 'Add release note for ceph-radosgw namespacing\n\nAdd release note for new ceph-radosgw tenant namespacing\nfeature which switches the bucket namespace in a deployment\nfrom global to tenant scoped.\n\nDepends-On: c37c7161b7dddad49e3c2ab075d7e8b72f436b35\nChange-Id: Ia6ee60483bedd26bdb119222dfbd88cc12d1c70e\n'}, {'number': 2, 'created': '2019-10-10 15:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/34df284a0755c35db9a64fdffe28eae4b73a1833', 'message': 'Add release note for ceph-radosgw namespacing\n\nAdd release note for new ceph-radosgw tenant namespacing\nfeature which switches the bucket namespace in a deployment\nfrom global to tenant scoped.\n\nDepends-On: c37c7161b7dddad49e3c2ab075d7e8b72f436b35\nChange-Id: Ia6ee60483bedd26bdb119222dfbd88cc12d1c70e\n'}, {'number': 3, 'created': '2019-10-10 15:56:51.000000000', 'files': ['doc/source/1910.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/04991b7cdeab7b203d3a547fa8d06f1ebf1cef4a', 'message': 'Add release note for ceph-radosgw namespacing\n\nAdd release note for new ceph-radosgw tenant namespacing\nfeature which switches the bucket namespace in a deployment\nfrom global to tenant scoped.\n\nDepends-On: Ic37c7161b7dddad49e3c2ab075d7e8b72f436b35\nChange-Id: Ia6ee60483bedd26bdb119222dfbd88cc12d1c70e\n'}]",1,687923,04991b7cdeab7b203d3a547fa8d06f1ebf1cef4a,17,5,3,935,,,0,"Add release note for ceph-radosgw namespacing

Add release note for new ceph-radosgw tenant namespacing
feature which switches the bucket namespace in a deployment
from global to tenant scoped.

Depends-On: Ic37c7161b7dddad49e3c2ab075d7e8b72f436b35
Change-Id: Ia6ee60483bedd26bdb119222dfbd88cc12d1c70e
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/23/687923/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/1910.rst'],1,ff588d35cb0529e28bb9ef7c0b7f2c5efbe20263,bug/1833072,"Ceph RADOS Gateway tenant namespacing ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The ``ceph-radosgw`` charm now supports deployment with tenant namespaces. This is enabled during initial deployment using the ``namespace-tenants`` configuration option. Enabling this option post deployment will have no effect as it is not possible to migrate a deployment without tenant namespacing to one with tenant namespacing enabled. Endpoint URL's for object storage will contain the tenant ID in the form: .. code:: bash http://<cephradosgw-unit-ip-or-vip>:80/swift/v1/AUTH_$(project_id)s This feature allows per-tenant bucket namespaces, rather than a global bucket namespace, which is aligned to the behaviour of OpenStack Swift.",,18,0
openstack%2Fopenstack-ansible~master~Ic07889fad74cd37fd59734ba0807aaa8d573e5e2,openstack/openstack-ansible,master,Ic07889fad74cd37fd59734ba0807aaa8d573e5e2,Freeze roles for Train milestone,MERGED,2019-09-09 13:11:49.000000000,2019-10-11 09:43:27.000000000,2019-10-11 09:41:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-09 13:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c8fb0ce6b1733434b99bcdd4e396c9f97e9f6086', 'message': 'Freeze roles for Train milestone\n\nChange-Id: Ic07889fad74cd37fd59734ba0807aaa8d573e5e2\n'}, {'number': 2, 'created': '2019-09-17 10:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bba0830cdf98f14aa53e25a222dc5993cd8287aa', 'message': 'Freeze roles for Train milestone\n\nChange-Id: Ic07889fad74cd37fd59734ba0807aaa8d573e5e2\n'}, {'number': 3, 'created': '2019-09-30 11:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/32c73f190acc046f2fac581871ea2baef4aca495', 'message': 'Freeze roles for Train milestone\n\nChange-Id: Ic07889fad74cd37fd59734ba0807aaa8d573e5e2\n'}, {'number': 4, 'created': '2019-10-01 14:08:44.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/volume-based-10a2c22c7f180cc2.yaml', 'releasenotes/notes/retire_lbaas-31ba162a0ee43707.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/use-uwsgi-001d7b0c4d6def73.yaml', 'releasenotes/notes/barbican-api-a656fd2d8f1923a8.yaml', 'releasenotes/notes/mgmt-default-gateway-3c87f21e0b331a2c.yaml', 'playbooks/defaults/repo_packages/openstack_testing.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/440bc86cd12338e467a9cd41fb18542913ee89f4', 'message': 'Freeze roles for Train milestone\n\nDepends-On: https://review.opendev.org/685974\nChange-Id: Ic07889fad74cd37fd59734ba0807aaa8d573e5e2\n'}]",0,681002,440bc86cd12338e467a9cd41fb18542913ee89f4,28,5,4,28619,,,0,"Freeze roles for Train milestone

Depends-On: https://review.opendev.org/685974
Change-Id: Ic07889fad74cd37fd59734ba0807aaa8d573e5e2
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/02/681002/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,c8fb0ce6b1733434b99bcdd4e396c9f97e9f6086,freeze_master, version: 979805c9043793ab644dddd02091d4dce5ab267c version: d8f60e02cbef87136dde6260bb025fefcae176fa version: 57e09f5864fbaf935e99c8594b17595c4706834d version: 315d342692d0af565d68d294845049ed56195d10 version: edd360694ef8a6650f65d7949c8f64457970ba90 version: 6760f6bd84454eb5f45148511434f847f328560e version: ea962e36ddc0ae5d2853d6345314b5f2b8ef6da9 version: 8bbfc283d9bc07fb7ae63168844a01146d4f8697 version: 4619fca052f89d4178d905686a57fd7446d33934 version: c0d5a128db246cb00e03fdf21b14122be39c8043 version: 2e3639895c5b59c3b3ebec342d22146eb0263dbc version: 2bcd7469a6ee4291f50e677346a16259854b094e version: 61b21fe9c7a7f48af51ae2008320b8fbb9cb3aad version: 5e079d7622bf754aec7cf734862fcd115469709d version: 6ff08a4731e03874d07f523c2634b2236e9c9637 version: 14820087b82f37c0e8c76d89e3ef6453c97a4f67 version: 3d53ca08fec7290f90b90bd9f1cf3d149a57d1ff version: 71e16fca3a99eba63bf848d9ae116a8424f2b2fa version: 73ad9ab7518f57a591d76469760174914d352afa version: fd9e3760b9c609ab3c7a0b96b93ce59ae06ee6d6 version: b366705ff3d1cb205426b77f8ee1f6c342cd833e version: 1ff3968959b26e9414af8931f30233cf7680355c version: 9e5ec1f8d54bd48e54d3b5f2e4448911d55c10aa version: 60ba7698261dcab3c5d73ec3189797d0906434aa version: c53c2eb5740e990dc5f159fff5f1957ee495a773 version: 4a596c6850e4a884299c3228290a45c0b85f6a8e version: 9ae000319e23a9dff39c10ab4f9028a30443ad4d version: 990737a70a2a83273f5442441b5fbb6335b42b51 version: 6f8d17c127c45fec30762dcf6064005a271be645 version: aa3ef79627fdfb005a2b2754762d08bd98b30736 version: 92aefbfa57d14982641871b466888d176ce5271b version: 6c4fcbe3260d64b309d7a16ee08fbbfaec10190e version: f8f7a48d1df503eddebf1a97ef3a626fc88f180f version: ca2f1e4d0a9512ed51dfba6893e41ed8ea6e0e09 version: 484c508f340dc09ca6de2002eb0d90ce7a505b7a version: 84646a367660f04c72837f6806f3fc03d0629fce version: f6f8799439f6fde1a3346d2f1e2575d772868d65 version: 7754168dbb4d903400a2f07cd888258e032eabce version: da4cfddb4e1781a0191169edd1a63ec86988b75c version: 58bcb3579b2f24cada6788092e12bd41ac84a846 version: a7393902d0c2da5eb3a9e97bb1e44f8dd17bb1f5 version: ded5a2da89a03f0cdb5ebb58186bb167801ab66d version: 99d0f00060b67498b20e8e7588156592dfa427ec version: 5a99f17d85eb6e2232f4b2b443600c18de46c945 version: 3c02d26e25345c52e6d0ffc7894f7f96c5d8357f version: 7094354ee566ca99c0275c91c15f4c1752d3d810 version: df00bf7f03858915833bcf1b31b78f9e3f1d76d9 version: 454bcb828fd645ad5f43e48ee498ca974faca729 version: 849d60e9f32c41fa13678f63ef815bec59a6822a version: fa1c447b6a979a614fc024725b5ecad215261c4a version: f8e2d8a89ddb9352d5748332a5f3a33ed33f66ab version: a2ff5ba59b47f96ddddcb7a3a67de93687c317a6 version: 51f18f9076f208aa5e39cd20af661a54ddd623e7 version: 1d08d52ae37f25d263759f96651d5bc36d688bda version: 8e3a24a35beb16d717072dc83895c5a1f92689fb version: b7861939fe58dd87d386c43a26b584e1a4488bf8 version: 4a22f2c0fbbc95810e338d64a005589f03a87345 version: c22d8de7239b5f1847a3d404c25d18fe4fb8dc4b version: 8d662a04a22bf679baf7f8d3e3e82b52d3211638 version: 9c2ac2b20dfcef46a7bed256781161880503c878 version: db722a833da8c22d4bf83085b6a0131eba5d4f1c version: 77d7283703b695d1d80a4e51c651a0e4a829cd7c, version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: master version: stable-4.0 version: master version: master version: master version: master version: master version: master version: master version: master version: master,62,62
openstack%2Fdesignate~master~If27b9473a84da412baf1da83b583be6c19376db7,openstack/designate,master,If27b9473a84da412baf1da83b583be6c19376db7,WIP: Change --dry_run to --dry-run,ABANDONED,2019-10-01 18:20:37.000000000,2019-10-11 09:34:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-01 18:20:37.000000000', 'files': ['designate/manage/pool.py', 'designate/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/ccb5dded294ca40811948941e99da0f488b9dfca', 'message': 'WIP: Change --dry_run to --dry-run\n\nChange-Id: If27b9473a84da412baf1da83b583be6c19376db7\n'}]",0,686023,ccb5dded294ca40811948941e99da0f488b9dfca,3,1,1,13252,,,0,"WIP: Change --dry_run to --dry-run

Change-Id: If27b9473a84da412baf1da83b583be6c19376db7
",git fetch https://review.opendev.org/openstack/designate refs/changes/23/686023/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/manage/pool.py', 'designate/cmd/manage.py']",2,ccb5dded294ca40811948941e99da0f488b9dfca,685887," return arg.replace('-', '_')", return arg,2,2
openstack%2Fmagnum~stable%2Ftrain~I97839ab8495ed5d860785dff1f6e3cc59b6a9ff7,openstack/magnum,stable/train,I97839ab8495ed5d860785dff1f6e3cc59b6a9ff7,ng-9: Driver for nodegroup operations,MERGED,2019-10-01 09:44:44.000000000,2019-10-11 09:29:34.000000000,2019-10-11 09:26:53.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 27057}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-10-01 09:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/95801a445ccfb87177876ed1189c092d8c6c52cd', 'message': 'ng-9: Driver for nodegroup operations\n\nThis adds the support for creating and deleting worker  nodegroups\nusing different stack per nodegroup. In order to be backwards\ncompatible, default nodegroups will remain in one stack.\n\nHaving this in mind cluster status is now calculated aggregating the\nstatuses of the underlying stacks.\n\nChange-Id: I97839ab8495ed5d860785dff1f6e3cc59b6a9ff7\n(cherry picked from commit e52f77b299c50f004ee5a875c68d7f129b88a2af)\n'}, {'number': 2, 'created': '2019-10-01 09:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0102531c8072f46402ee36111f3f28c94dcc60ad', 'message': 'ng-9: Driver for nodegroup operations\n\nThis adds the support for creating and deleting worker  nodegroups\nusing different stack per nodegroup. In order to be backwards\ncompatible, default nodegroups will remain in one stack.\n\nHaving this in mind cluster status is now calculated aggregating the\nstatuses of the underlying stacks.\n\nChange-Id: I97839ab8495ed5d860785dff1f6e3cc59b6a9ff7\n(cherry picked from commit e52f77b299c50f004ee5a875c68d7f129b88a2af)\n'}, {'number': 3, 'created': '2019-10-01 12:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/da93c19685d9cf1a52178557ec9240946a574f76', 'message': 'ng-9: Driver for nodegroup operations\n\nThis adds the support for creating and deleting worker  nodegroups\nusing different stack per nodegroup. In order to be backwards\ncompatible, default nodegroups will remain in one stack.\n\nHaving this in mind cluster status is now calculated aggregating the\nstatuses of the underlying stacks.\n\nChange-Id: I97839ab8495ed5d860785dff1f6e3cc59b6a9ff7\n(cherry picked from commit e52f77b299c50f004ee5a875c68d7f129b88a2af)\n'}, {'number': 4, 'created': '2019-10-11 08:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/94f2db326b12a591e222c582f9e65d3a9ba95569', 'message': 'ng-9: Driver for nodegroup operations\n\nThis adds the support for creating and deleting worker  nodegroups\nusing different stack per nodegroup. In order to be backwards\ncompatible, default nodegroups will remain in one stack.\n\nHaving this in mind cluster status is now calculated aggregating the\nstatuses of the underlying stacks.\n\nChange-Id: I97839ab8495ed5d860785dff1f6e3cc59b6a9ff7\n'}, {'number': 5, 'created': '2019-10-11 08:21:45.000000000', 'files': ['magnum/drivers/heat/k8s_coreos_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/driver.py', 'magnum/drivers/heat/driver.py', 'magnum/drivers/heat/swarm_mode_template_def.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/tests/unit/drivers/test_heat_driver.py', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/tests/unit/conductor/handlers/test_cluster_conductor.py', 'magnum/drivers/mesos_ubuntu_v1/template_def.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b53c8826f26c1dd00314f5f64f9f0a63096efe73', 'message': 'ng-9: Driver for nodegroup operations\n\nThis adds the support for creating and deleting worker  nodegroups\nusing different stack per nodegroup. In order to be backwards\ncompatible, default nodegroups will remain in one stack.\n\nHaving this in mind cluster status is now calculated aggregating the\nstatuses of the underlying stacks.\n\nChange-Id: I97839ab8495ed5d860785dff1f6e3cc59b6a9ff7\n(cherry picked from commit e52f77b299c50f004ee5a875c68d7f129b88a2af)\n'}]",0,685920,b53c8826f26c1dd00314f5f64f9f0a63096efe73,16,5,5,28022,,,0,"ng-9: Driver for nodegroup operations

This adds the support for creating and deleting worker  nodegroups
using different stack per nodegroup. In order to be backwards
compatible, default nodegroups will remain in one stack.

Having this in mind cluster status is now calculated aggregating the
statuses of the underlying stacks.

Change-Id: I97839ab8495ed5d860785dff1f6e3cc59b6a9ff7
(cherry picked from commit e52f77b299c50f004ee5a875c68d7f129b88a2af)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/20/685920/3 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/heat/k8s_coreos_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/driver.py', 'magnum/drivers/heat/driver.py', 'magnum/drivers/heat/swarm_mode_template_def.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/tests/unit/drivers/test_heat_driver.py', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/tests/unit/conductor/handlers/test_cluster_conductor.py', 'magnum/drivers/mesos_ubuntu_v1/template_def.py']",13,95801a445ccfb87177876ed1189c092d8c6c52cd,train-9.1.0," labels = self._get_relevant_labels(cluster, kwargs) for label in label_list: extra_params[label] = labels.get(label)", for label in label_list: extra_params[label] = cluster.labels.get(label),916,198
openstack%2Fmagnum~stable%2Ftrain~I45cf765977c7f5a92f28ae12c469b98435763163,openstack/magnum,stable/train,I45cf765977c7f5a92f28ae12c469b98435763163,ng-7: Adapt parameter and output mappings,MERGED,2019-10-01 09:44:44.000000000,2019-10-11 09:28:16.000000000,2019-10-11 09:26:51.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 27057}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-10-01 09:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b8e19fe5b1382eb0c217f9d11fb9d7ee0bb9b615', 'message': 'ng-7: Adapt parameter and output mappings\n\nWith this change parameter and output mappings can support multiple\nstacks.\n\nChange-Id: I45cf765977c7f5a92f28ae12c469b98435763163\n(cherry picked from commit d4a52719f1d80fbbde457e21c2713562710eb7ec)\n'}, {'number': 2, 'created': '2019-10-01 09:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5fa4c8c41d72252f227389973c371513a5bc7404', 'message': 'ng-7: Adapt parameter and output mappings\n\nWith this change parameter and output mappings can support multiple\nstacks.\n\nChange-Id: I45cf765977c7f5a92f28ae12c469b98435763163\n(cherry picked from commit d4a52719f1d80fbbde457e21c2713562710eb7ec)\n'}, {'number': 3, 'created': '2019-10-01 12:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/177adeeb4468c1fa03c141c56c8d3cce092c76a6', 'message': 'ng-7: Adapt parameter and output mappings\n\nWith this change parameter and output mappings can support multiple\nstacks.\n\nChange-Id: I45cf765977c7f5a92f28ae12c469b98435763163\n(cherry picked from commit d4a52719f1d80fbbde457e21c2713562710eb7ec)\n'}, {'number': 4, 'created': '2019-10-11 08:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9e20434a6fc21a07261ed9daed805d167bb5bac7', 'message': 'ng-7: Adapt parameter and output mappings\n\nWith this change parameter and output mappings can support multiple\nstacks.\n\nChange-Id: I45cf765977c7f5a92f28ae12c469b98435763163\n'}, {'number': 5, 'created': '2019-10-11 08:21:45.000000000', 'files': ['magnum/drivers/heat/k8s_coreos_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/drivers/swarm_fedora_atomic_v1/templates/cluster.yaml', 'magnum/tests/unit/conductor/handlers/test_swarm_cluster_conductor.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/k8s_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/driver.py', 'magnum/drivers/swarm_fedora_atomic_v2/templates/swarmcluster.yaml', 'magnum/drivers/mesos_ubuntu_v1/templates/mesoscluster.yaml', 'magnum/drivers/heat/swarm_mode_template_def.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/drivers/k8s_fedora_ironic_v1/templates/kubecluster.yaml', 'magnum/drivers/mesos_ubuntu_v1/template_def.py', 'magnum/tests/unit/conductor/handlers/test_mesos_cluster_conductor.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/21f71af8515c2a15266e54023fce43db35274f41', 'message': 'ng-7: Adapt parameter and output mappings\n\nWith this change parameter and output mappings can support multiple\nstacks.\n\nChange-Id: I45cf765977c7f5a92f28ae12c469b98435763163\n(cherry picked from commit d4a52719f1d80fbbde457e21c2713562710eb7ec)\n'}]",0,685918,21f71af8515c2a15266e54023fce43db35274f41,16,5,5,28022,,,0,"ng-7: Adapt parameter and output mappings

With this change parameter and output mappings can support multiple
stacks.

Change-Id: I45cf765977c7f5a92f28ae12c469b98435763163
(cherry picked from commit d4a52719f1d80fbbde457e21c2713562710eb7ec)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/18/685918/5 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/heat/k8s_coreos_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/drivers/swarm_fedora_atomic_v1/templates/cluster.yaml', 'magnum/tests/unit/conductor/handlers/test_swarm_cluster_conductor.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/k8s_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/driver.py', 'magnum/drivers/swarm_fedora_atomic_v2/templates/swarmcluster.yaml', 'magnum/drivers/mesos_ubuntu_v1/templates/mesoscluster.yaml', 'magnum/drivers/heat/swarm_mode_template_def.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/drivers/k8s_fedora_ironic_v1/templates/kubecluster.yaml', 'magnum/drivers/mesos_ubuntu_v1/template_def.py', 'magnum/tests/unit/conductor/handlers/test_mesos_cluster_conductor.py']",18,b8e19fe5b1382eb0c217f9d11fb9d7ee0bb9b615,train-9.1.0," 'master_image': 'image_id', 'slave_image': 'image_id', 'nodes_affinity_policy': 'soft-anti-affinity', 'role': 'master' del self.worker_ng_dict['image_id'] del self.master_ng_dict['image_id'] 'nodes_affinity_policy': 'soft-anti-affinity', 'role': 'master' 'master_image': 'image_id', 'slave_image': 'image_id', 'nodes_affinity_policy': 'soft-anti-affinity', 'role': 'master' 'master_image': 'image_id', 'slave_image': 'image_id', 'nodes_affinity_policy': 'soft-anti-affinity', 'role': 'master' 'master_image': 'image_id', 'slave_image': 'image_id', 'nodes_affinity_policy': 'soft-anti-affinity', 'role': 'master'"," 'server_image': 'image_id', 'nodes_affinity_policy': 'soft-anti-affinity' 'nodes_affinity_policy': 'soft-anti-affinity' 'server_image': 'image_id', 'nodes_affinity_policy': 'soft-anti-affinity' 'server_image': 'image_id', 'nodes_affinity_policy': 'soft-anti-affinity' 'server_image': 'image_id', 'nodes_affinity_policy': 'soft-anti-affinity'",343,337
openstack%2Fmagnum~stable%2Ftrain~I4ad60994ad6b4cb9cac18129557e1e87e61ae98c,openstack/magnum,stable/train,I4ad60994ad6b4cb9cac18129557e1e87e61ae98c,ng-8: APIs for nodegroup CRUD operations,MERGED,2019-10-01 09:44:44.000000000,2019-10-11 09:26:52.000000000,2019-10-11 09:26:52.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 27057}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-10-01 09:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b32ad1ec78fc1d94f5c56b17fa4a04db48d445e1', 'message': 'ng-8: APIs for nodegroup CRUD operations\n\nThis adds the changes needed in the API and conductor level to support\ncreating updating and deleting nodegroups.\n\nChange-Id: I4ad60994ad6b4cb9cac18129557e1e87e61ae98c\n(cherry picked from commit 5027e0daf80e07bbdcbc2ab136465c5ef3c155ba)\n'}, {'number': 2, 'created': '2019-10-01 09:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/696f9066ceb05d4db590519e91f4a27ecbeca166', 'message': 'ng-8: APIs for nodegroup CRUD operations\n\nThis adds the changes needed in the API and conductor level to support\ncreating updating and deleting nodegroups.\n\nChange-Id: I4ad60994ad6b4cb9cac18129557e1e87e61ae98c\n(cherry picked from commit 5027e0daf80e07bbdcbc2ab136465c5ef3c155ba)\n'}, {'number': 3, 'created': '2019-10-01 12:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/06822b94c8ab68e657636b2d04adb2197d0d9b52', 'message': 'ng-8: APIs for nodegroup CRUD operations\n\nThis adds the changes needed in the API and conductor level to support\ncreating updating and deleting nodegroups.\n\nChange-Id: I4ad60994ad6b4cb9cac18129557e1e87e61ae98c\n(cherry picked from commit 5027e0daf80e07bbdcbc2ab136465c5ef3c155ba)\n'}, {'number': 4, 'created': '2019-10-11 08:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f3d90fe4aae22767a916b55cfb654d56a59a18d0', 'message': 'ng-8: APIs for nodegroup CRUD operations\n\nThis adds the changes needed in the API and conductor level to support\ncreating updating and deleting nodegroups.\n\nChange-Id: I4ad60994ad6b4cb9cac18129557e1e87e61ae98c\n'}, {'number': 5, 'created': '2019-10-11 08:21:45.000000000', 'files': ['magnum/api/controllers/v1/nodegroup.py', 'magnum/tests/unit/conductor/test_rpcapi.py', 'magnum/tests/unit/api/utils.py', 'magnum/drivers/common/driver.py', 'magnum/tests/unit/db/utils.py', 'magnum/cmd/conductor.py', 'magnum/drivers/heat/driver.py', 'magnum/tests/unit/objects/utils.py', 'magnum/common/policies/nodegroup.py', 'magnum/conductor/handlers/nodegroup_conductor.py', 'magnum/conductor/utils.py', 'magnum/conductor/api.py', 'magnum/api/controllers/v1/cluster.py', 'magnum/tests/unit/api/controllers/v1/test_cluster.py', 'magnum/tests/unit/api/controllers/v1/test_nodegroup.py', 'magnum/tests/unit/conductor/handlers/test_nodegroup_conductor.py', 'magnum/common/exception.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/e6be08e563714c31b656664284c108adde247dfc', 'message': 'ng-8: APIs for nodegroup CRUD operations\n\nThis adds the changes needed in the API and conductor level to support\ncreating updating and deleting nodegroups.\n\nChange-Id: I4ad60994ad6b4cb9cac18129557e1e87e61ae98c\n(cherry picked from commit 5027e0daf80e07bbdcbc2ab136465c5ef3c155ba)\n'}]",0,685919,e6be08e563714c31b656664284c108adde247dfc,15,5,5,28022,,,0,"ng-8: APIs for nodegroup CRUD operations

This adds the changes needed in the API and conductor level to support
creating updating and deleting nodegroups.

Change-Id: I4ad60994ad6b4cb9cac18129557e1e87e61ae98c
(cherry picked from commit 5027e0daf80e07bbdcbc2ab136465c5ef3c155ba)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/19/685919/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/api/controllers/v1/nodegroup.py', 'magnum/tests/unit/conductor/test_rpcapi.py', 'magnum/tests/unit/api/utils.py', 'magnum/drivers/common/driver.py', 'magnum/tests/unit/db/utils.py', 'magnum/cmd/conductor.py', 'magnum/drivers/heat/driver.py', 'magnum/tests/unit/objects/utils.py', 'magnum/common/policies/nodegroup.py', 'magnum/conductor/handlers/nodegroup_conductor.py', 'magnum/conductor/utils.py', 'magnum/conductor/api.py', 'magnum/api/controllers/v1/cluster.py', 'magnum/tests/unit/api/controllers/v1/test_cluster.py', 'magnum/tests/unit/api/controllers/v1/test_nodegroup.py', 'magnum/tests/unit/conductor/handlers/test_nodegroup_conductor.py', 'magnum/common/exception.py']",17,b32ad1ec78fc1d94f5c56b17fa4a04db48d445e1,train-9.1.0," ""min_node_count = %(min_nc)s, "" ""max_node_count = %(max_nc)s"") class DeletingDefaultNGNotSupported(NotSupported): message = _(""Deleting a default nodegroup is not supported."") class NodeGroupInvalidInput(Conflict): message = _(""%(attr)s for %(nodegroup)s is invalid (%(expl)s)."") class CreateMasterNodeGroup(NotSupported): message = _(""Creating master nodegroups is currently not supported."") class NgOperationInProgress(Invalid): message = _(""Nodegroup %(nodegroup)s already has an operation in "" ""progress."")"," ""min_node_count = %(min_node_count)s, "" ""max_node_count = %(max_node_count)s"")",1101,54
openstack%2Fcharm-ceph-radosgw~master~Ic37c7161b7dddad49e3c2ab075d7e8b72f436b35,openstack/charm-ceph-radosgw,master,Ic37c7161b7dddad49e3c2ab075d7e8b72f436b35,Enable Ceph Radosgw tenant namespacing,MERGED,2019-09-19 09:36:47.000000000,2019-10-11 09:22:13.000000000,2019-10-11 09:22:13.000000000,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-09-19 09:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/22519b8340547833840c3889dfdd056ef241d626', 'message': 'Enable Ceph Radosgw tenant namespacing\n\nThis change enabled automatic tenant namespacing,\nwhich also allows enabling global read permissions\non buckets.\n\nChange-Id: Ic37c7161b7dddad49e3c2ab075d7e8b72f436b35\nCloses-Bug: #1833072\n'}, {'number': 2, 'created': '2019-09-19 09:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/70b1a131ac9cbf338a928949ee4a11d9022f5b83', 'message': 'Enable Ceph Radosgw tenant namespacing\n\nThis change enabled automatic tenant namespacing,\nwhich also allows enabling global read permissions\non buckets.\n\nChange-Id: Ic37c7161b7dddad49e3c2ab075d7e8b72f436b35\nCloses-Bug: #1833072\n'}, {'number': 3, 'created': '2019-09-19 12:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/69d7453a24ab9b539f37261d9850c3861ae8fb56', 'message': 'Enable Ceph Radosgw tenant namespacing\n\nThis change enabled automatic tenant namespacing,\nwhich also allows enabling global read permissions\non buckets.\n\nChange-Id: Ic37c7161b7dddad49e3c2ab075d7e8b72f436b35\nCloses-Bug: #1833072\n'}, {'number': 4, 'created': '2019-09-25 06:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/9f77918997b669440d90531331b252651cb55b64', 'message': 'Enable Ceph Radosgw tenant namespacing\n\nThis change enabled automatic tenant namespacing,\nwhich also allows enabling global read permissions\non buckets.\n\nChange-Id: Ic37c7161b7dddad49e3c2ab075d7e8b72f436b35\nCloses-Bug: #1833072\n'}, {'number': 5, 'created': '2019-10-08 15:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/2b7cfdc590f66b1ff18fb1a9622f0051d931c3ac', 'message': 'Enable Ceph Radosgw tenant namespacing\n\nThis change enabled automatic tenant namespacing,\nwhich also allows enabling global read permissions\non buckets.\n\nChange-Id: Ic37c7161b7dddad49e3c2ab075d7e8b72f436b35\nCloses-Bug: #1833072\n'}, {'number': 6, 'created': '2019-10-08 15:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/1d12360a7cefcb8e585fcf686c6b3bc23c8849f0', 'message': 'Enable Ceph Radosgw tenant namespacing\n\nThis change enabled automatic tenant namespacing,\nwhich also allows enabling global read permissions\non buckets.\n\nChange-Id: Ic37c7161b7dddad49e3c2ab075d7e8b72f436b35\nCloses-Bug: #1833072\n'}, {'number': 7, 'created': '2019-10-08 17:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/ea6b04339973f2e38e5a0f760268088353362f1e', 'message': 'Enable Ceph Radosgw tenant namespacing\n\nThis change enabled automatic tenant namespacing,\nwhich also allows enabling global read permissions\non buckets.\n\nChange-Id: Ic37c7161b7dddad49e3c2ab075d7e8b72f436b35\nCloses-Bug: #1833072\n'}, {'number': 8, 'created': '2019-10-09 06:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/f6cab3453c32b081e473fab753c68ee5e312a43d', 'message': 'Enable Ceph Radosgw tenant namespacing\n\nThis change enabled automatic tenant namespacing,\nwhich also allows enabling global read permissions\non buckets.\n\nChange-Id: Ic37c7161b7dddad49e3c2ab075d7e8b72f436b35\nCloses-Bug: #1833072\n'}, {'number': 9, 'created': '2019-10-09 08:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/9cc1dc148b364075f46b2a32eaa9e9dded888026', 'message': 'Enable Ceph Radosgw tenant namespacing\n\nThis change enabled automatic tenant namespacing,\nwhich also allows enabling global read permissions\non buckets.\n\nChange-Id: Ic37c7161b7dddad49e3c2ab075d7e8b72f436b35\nCloses-Bug: #1833072\n'}, {'number': 10, 'created': '2019-10-09 13:59:46.000000000', 'files': ['hooks/hooks.py', 'templates/ceph.conf', 'config.yaml', 'README.md', 'tests/tests.yaml', 'unit_tests/test_ceph_radosgw_context.py', 'hooks/upgrade-charm.real', 'tests/bundles/bionic-stein-namespaced.yaml', 'tests/bundles/bionic-queens-namespaced.yaml', 'unit_tests/test_hooks.py', 'hooks/ceph_radosgw_context.py', 'tests/bundles/xenial-mitaka-namespaced.yaml', 'tests/bundles/bionic-rocky-namespaced.yaml', 'hooks/upgrade-charm'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/e4d4d09b5393c45bbab92067f65274fe912de303', 'message': 'Enable Ceph Radosgw tenant namespacing\n\nThis change enabled automatic tenant namespacing,\nwhich also allows enabling global read permissions\non buckets.\n\nChange-Id: Ic37c7161b7dddad49e3c2ab075d7e8b72f436b35\nCloses-Bug: #1833072\n'}]",8,683079,e4d4d09b5393c45bbab92067f65274fe912de303,51,8,10,20634,,,0,"Enable Ceph Radosgw tenant namespacing

This change enabled automatic tenant namespacing,
which also allows enabling global read permissions
on buckets.

Change-Id: Ic37c7161b7dddad49e3c2ab075d7e8b72f436b35
Closes-Bug: #1833072
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/79/683079/8 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'hooks/upgrade-charm.real', 'hooks/ceph_radosgw_context.py', 'templates/ceph.conf', 'config.yaml', 'hooks/upgrade-charm']",6,22519b8340547833840c3889dfdd056ef241d626,bug/1833072, ./hooks/upgrade-charm.real,,35,2
openstack%2Fmagnum~stable%2Ftrain~I6d36b2d3bc6476efbef6a9f702ffc73cfa0fab8c,openstack/magnum,stable/train,I6d36b2d3bc6476efbef6a9f702ffc73cfa0fab8c,ng-6: Add new fields to nodegroup objects,MERGED,2019-10-01 09:13:35.000000000,2019-10-11 09:16:56.000000000,2019-10-11 09:15:44.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 27057}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-10-01 09:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/dc342ae0c69cc9791f84ac86f07c6b7dec3eba57', 'message': 'ng-6: Add new fields to nodegroup objects\n\nSince each nodegroup will be one independent stack, we have to add\nmore fields to the table and object in order to track each stack\ncontained in the cluster. This adds the stack_id, version, status,\nstatus_reason and version fields to the nodegroup object.\n\nChange-Id: I6d36b2d3bc6476efbef6a9f702ffc73cfa0fab8c\n(cherry picked from commit cbe05aa97d90d3ac38d55fcee472ec2130aa1327)\n'}, {'number': 2, 'created': '2019-10-01 09:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e8dfc90a0ff99b43f0b5d7a7a7d0a69b47b7a7e4', 'message': 'ng-6: Add new fields to nodegroup objects\n\nSince each nodegroup will be one independent stack, we have to add\nmore fields to the table and object in order to track each stack\ncontained in the cluster. This adds the stack_id, version, status,\nstatus_reason and version fields to the nodegroup object.\n\nChange-Id: I6d36b2d3bc6476efbef6a9f702ffc73cfa0fab8c\n(cherry picked from commit cbe05aa97d90d3ac38d55fcee472ec2130aa1327)\n'}, {'number': 3, 'created': '2019-10-01 09:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c1d7868b76451f619fd95a49504df9d7bb12b96a', 'message': 'ng-6: Add new fields to nodegroup objects\n\nSince each nodegroup will be one independent stack, we have to add\nmore fields to the table and object in order to track each stack\ncontained in the cluster. This adds the stack_id, version, status,\nstatus_reason and version fields to the nodegroup object.\n\nChange-Id: I6d36b2d3bc6476efbef6a9f702ffc73cfa0fab8c\n(cherry picked from commit cbe05aa97d90d3ac38d55fcee472ec2130aa1327)\n'}, {'number': 4, 'created': '2019-10-01 12:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c68d819b8cec908bfc2d125374630863b786f059', 'message': 'ng-6: Add new fields to nodegroup objects\n\nSince each nodegroup will be one independent stack, we have to add\nmore fields to the table and object in order to track each stack\ncontained in the cluster. This adds the stack_id, version, status,\nstatus_reason and version fields to the nodegroup object.\n\nChange-Id: I6d36b2d3bc6476efbef6a9f702ffc73cfa0fab8c\n(cherry picked from commit cbe05aa97d90d3ac38d55fcee472ec2130aa1327)\n'}, {'number': 5, 'created': '2019-10-11 08:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/82808f8f04dfe8e7eb1e78bfb19efafe7865811c', 'message': 'ng-6: Add new fields to nodegroup objects\n\nSince each nodegroup will be one independent stack, we have to add\nmore fields to the table and object in order to track each stack\ncontained in the cluster. This adds the stack_id, version, status,\nstatus_reason and version fields to the nodegroup object.\n\nChange-Id: I6d36b2d3bc6476efbef6a9f702ffc73cfa0fab8c\n'}, {'number': 6, 'created': '2019-10-11 08:21:45.000000000', 'files': ['magnum/db/sqlalchemy/api.py', 'magnum/db/api.py', 'magnum/objects/nodegroup.py', 'magnum/conductor/handlers/cluster_conductor.py', 'magnum/db/sqlalchemy/alembic/versions/c04e925e65c2_nodegroups_v2.py', 'magnum/tests/unit/db/utils.py', 'magnum/db/sqlalchemy/models.py', 'magnum/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/8891699377cffb8f44a274c98283a42d78e1c23b', 'message': 'ng-6: Add new fields to nodegroup objects\n\nSince each nodegroup will be one independent stack, we have to add\nmore fields to the table and object in order to track each stack\ncontained in the cluster. This adds the stack_id, version, status,\nstatus_reason and version fields to the nodegroup object.\n\nChange-Id: I6d36b2d3bc6476efbef6a9f702ffc73cfa0fab8c\n(cherry picked from commit cbe05aa97d90d3ac38d55fcee472ec2130aa1327)\n'}]",0,685912,8891699377cffb8f44a274c98283a42d78e1c23b,17,5,6,28022,,,0,"ng-6: Add new fields to nodegroup objects

Since each nodegroup will be one independent stack, we have to add
more fields to the table and object in order to track each stack
contained in the cluster. This adds the stack_id, version, status,
status_reason and version fields to the nodegroup object.

Change-Id: I6d36b2d3bc6476efbef6a9f702ffc73cfa0fab8c
(cherry picked from commit cbe05aa97d90d3ac38d55fcee472ec2130aa1327)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/12/685912/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/db/sqlalchemy/api.py', 'magnum/db/api.py', 'magnum/objects/nodegroup.py', 'magnum/conductor/handlers/cluster_conductor.py', 'magnum/db/sqlalchemy/alembic/versions/c04e925e65c2_nodegroups_v2.py', 'magnum/db/sqlalchemy/models.py', 'magnum/tests/unit/db/utils.py', 'magnum/tests/unit/objects/test_objects.py']",8,dc342ae0c69cc9791f84ac86f07c6b7dec3eba57,train-9.1.0, 'NodeGroup': '1.0-8cb4544a28a49860d816158a7c3060b1', 'NodeGroup': '1.0-75e1378a800040312c59f89546a51d74',80,13
openstack%2Fdesignate~master~Ie948c567b46a1e4ed7fb1d783c9e21813a9bdd3d,openstack/designate,master,Ie948c567b46a1e4ed7fb1d783c9e21813a9bdd3d,Remove unused import statement.,ABANDONED,2019-10-11 08:56:27.000000000,2019-10-11 09:05:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-11 08:56:27.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/198da8ebc442ece0ca2e343cb8656bfa669e7dd6', 'message': 'Remove unused import statement.\n\nChange-Id: Ie948c567b46a1e4ed7fb1d783c9e21813a9bdd3d\n'}]",0,688077,198da8ebc442ece0ca2e343cb8656bfa669e7dd6,3,1,1,30200,,,0,"Remove unused import statement.

Change-Id: Ie948c567b46a1e4ed7fb1d783c9e21813a9bdd3d
",git fetch https://review.opendev.org/openstack/designate refs/changes/77/688077/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,198da8ebc442ece0ca2e343cb8656bfa669e7dd6,,#import designate.conf # noqa,import designate.conf # noqa,1,1
openstack%2Fnova~master~I285f68c81b0587c6a197d4791b09234a1697f5e7,openstack/nova,master,I285f68c81b0587c6a197d4791b09234a1697f5e7,Fix unit of hw_rng:rate_period,MERGED,2019-09-19 08:16:20.000000000,2019-10-11 09:03:57.000000000,2019-10-11 08:20:30.000000000,"[{'_account_id': 5754}, {'_account_id': 8556}, {'_account_id': 12860}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28614}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-19 08:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b6891d062b3f9f9c4d03a5a08eb6dfb9cb35d24', 'message': 'Fix unit of hw_rng:rate_period\n\nReplace seconds with milliseconds\nin the description of hw_rng:rate_period.\n\n* https://libvirt.org/formatdomain.html#elementsRng\n\nChange-Id: I285f68c81b0587c6a197d4791b09234a1697f5e7\nCloses-Bug: #1843542\n'}, {'number': 2, 'created': '2019-10-02 22:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/328e00d2ed9ed8de765df30a8591fbf2fbe5067c', 'message': 'Fix unit of hw_rng:rate_period\n\nReplace seconds with milliseconds\nin the description of hw_rng:rate_period.\n\n* https://libvirt.org/formatdomain.html#elementsRng\n\nChange-Id: I285f68c81b0587c6a197d4791b09234a1697f5e7\nCloses-Bug: #1843542\n'}, {'number': 3, 'created': '2019-10-10 21:28:19.000000000', 'files': ['doc/source/user/flavors.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/976120cb20da46258df87b8fa43ba0f8ee6dc675', 'message': 'Fix unit of hw_rng:rate_period\n\nReplace seconds with milliseconds\nin the description of hw_rng:rate_period.\n\n* https://libvirt.org/formatdomain.html#elementsRng\n\nChange-Id: I285f68c81b0587c6a197d4791b09234a1697f5e7\nCloses-Bug: #1843542\n'}]",0,683051,976120cb20da46258df87b8fa43ba0f8ee6dc675,34,15,3,7634,,,0,"Fix unit of hw_rng:rate_period

Replace seconds with milliseconds
in the description of hw_rng:rate_period.

* https://libvirt.org/formatdomain.html#elementsRng

Change-Id: I285f68c81b0587c6a197d4791b09234a1697f5e7
Closes-Bug: #1843542
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/683051/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/flavors.rst'],1,9b6891d062b3f9f9c4d03a5a08eb6dfb9cb35d24,bug/1843542, - RATE-PERIOD: (integer) Duration of the read period in milliseconds., - RATE-PERIOD: (integer) Duration of the read period in seconds.,1,1
openstack%2Ftripleo-heat-templates~master~I3a5960db499925c4689244ff8b9f9b284819c713,openstack/tripleo-heat-templates,master,I3a5960db499925c4689244ff8b9f9b284819c713,Set scenario009 job voting to false,MERGED,2019-07-16 08:21:22.000000000,2019-10-11 08:59:19.000000000,2019-07-18 16:28:17.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-16 08:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/76872d2256518856ccc481a4dbdce409fb48fb20', 'message': 'Set scenario009 job to false\n\nThis job is at a 50% rate failure right now, moving it to non-voting\n\nChange-Id: I3a5960db499925c4689244ff8b9f9b284819c713\n'}, {'number': 2, 'created': '2019-07-16 08:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d534c77729e7ad0c5a9614862dbac0450fa83481', 'message': 'Set scenario009 job voting to false\n\nThis job is at a 50% rate failure right now, moving it to non-voting\n\nChange-Id: I3a5960db499925c4689244ff8b9f9b284819c713\n'}, {'number': 3, 'created': '2019-07-16 14:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/efc5328c061a546ee76f5d30fa21b47393063108', 'message': 'Set scenario009 job voting to false\n\nThis job is at a 50% rate failure right now, moving it to non-voting\n\nChange-Id: I3a5960db499925c4689244ff8b9f9b284819c713\n'}, {'number': 4, 'created': '2019-07-16 21:26:22.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/930298c1cdb1a7cdda640673a01abb5d759bb99a', 'message': 'Set scenario009 job voting to false\n\nThis job is at a 50% rate failure right now, moving it to non-voting\n\nChange-Id: I3a5960db499925c4689244ff8b9f9b284819c713\n'}]",1,670978,930298c1cdb1a7cdda640673a01abb5d759bb99a,31,10,4,8367,,,0,"Set scenario009 job voting to false

This job is at a 50% rate failure right now, moving it to non-voting

Change-Id: I3a5960db499925c4689244ff8b9f9b284819c713
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/670978/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,76872d2256518856ccc481a4dbdce409fb48fb20,scenario009-voting,, voting: true,0,1
openstack%2Fmagnum~master~I9c6b80a68b8641a6987c6d6578a6b55aa959a1e1,openstack/magnum,master,I9c6b80a68b8641a6987c6d6578a6b55aa959a1e1,make ${INSTANCE_NAME} variable.,ABANDONED,2019-10-11 07:08:27.000000000,2019-10-11 08:58:09.000000000,,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-11 07:08:27.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/make-cert-client.sh', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/69f2db9c721945f855073e59890cef138e2e7834', 'message': 'make ${INSTANCE_NAME} variable.\n\nwhen we make kubelet.conf file, a variable(${INSTANCE_NAME}) is\ncurrently being used.\n\nhowever the variable is not defined.\nso I make a variable ${INSTANCE_NAME}.\n\nplease note that it does not matter whether hostname contains the\nfollowing string or not. ("".novalocal"")\nThe below command always succeed regardless of the string("".novalocal"")\n\nChange-Id: I9c6b80a68b8641a6987c6d6578a6b55aa959a1e1\n'}]",2,688046,69f2db9c721945f855073e59890cef138e2e7834,4,4,1,30537,,,0,"make ${INSTANCE_NAME} variable.

when we make kubelet.conf file, a variable(${INSTANCE_NAME}) is
currently being used.

however the variable is not defined.
so I make a variable ${INSTANCE_NAME}.

please note that it does not matter whether hostname contains the
following string or not. ("".novalocal"")
The below command always succeed regardless of the string("".novalocal"")

Change-Id: I9c6b80a68b8641a6987c6d6578a6b55aa959a1e1
",git fetch https://review.opendev.org/openstack/magnum refs/changes/46/688046/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/make-cert-client.sh', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert.sh']",2,69f2db9c721945f855073e59890cef138e2e7834,,INSTANCE_NAME=$(hostname --short | sed 's/\.novalocal//'),,2,1
openstack%2Fcinder~master~Ife4586de6fab2150334a06bf90031df4c81a045b,openstack/cinder,master,Ife4586de6fab2150334a06bf90031df4c81a045b,NEC Driver: Python3 compatibility,MERGED,2019-08-22 07:58:41.000000000,2019-10-11 08:57:14.000000000,2019-08-31 08:25:48.000000000,"[{'_account_id': 4523}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13111}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28403}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-08-22 07:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b265f6fc2cc2a85f92d6fe2f4c4b25cdfe02b07b', 'message': 'NEC Driver: Python3 compatibility\n\nThis patch fixes Python3 incompatible codes in NEC driver.\n\nChange-Id: Ife4586de6fab2150334a06bf90031df4c81a045b\n'}, {'number': 2, 'created': '2019-08-23 11:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/10f3eecb3fddf065fd2e195c83978347b17e4cb2', 'message': 'NEC Driver: Python3 compatibility\n\nThis patch fixes Python3 incompatible codes in NEC driver.\n\nChange-Id: Ife4586de6fab2150334a06bf90031df4c81a045b\n'}, {'number': 3, 'created': '2019-08-27 07:49:05.000000000', 'files': ['cinder/volume/drivers/nec/cli.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6c26a56a214337e82dac78aae6291b42ad22fee', 'message': 'NEC Driver: Python3 compatibility\n\nThis patch fixes Python3 incompatible codes in NEC driver.\n\nChange-Id: Ife4586de6fab2150334a06bf90031df4c81a045b\n'}]",4,677928,c6c26a56a214337e82dac78aae6291b42ad22fee,176,39,3,28403,,,0,"NEC Driver: Python3 compatibility

This patch fixes Python3 incompatible codes in NEC driver.

Change-Id: Ife4586de6fab2150334a06bf90031df4c81a045b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/677928/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/nec/cli.py'],1,b265f6fc2cc2a85f92d6fe2f4c4b25cdfe02b07b,nec-py37-compatibility,from cinder import utils _out.append(utils.convert_str(channel.recv(4096))) _err.append(utils.convert_str(channel.recv_stderr(4096))), _out.append(channel.recv(4096)) _err.append(channel.recv_stderr(4096)),3,2
openstack%2Ftempest~master~If301f3b1eb2a1de71380131e304ca56fc186ac8e,openstack/tempest,master,If301f3b1eb2a1de71380131e304ca56fc186ac8e,test stestr 2.5.0,ABANDONED,2019-09-11 03:22:00.000000000,2019-10-11 08:49:13.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-11 03:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3738f8fa0845e7efb84b473fec269d3b150b1741', 'message': 'test stestr 2.5.0\nDepends-On: https://review.opendev.org/#/c/681335/\n\nChange-Id: If301f3b1eb2a1de71380131e304ca56fc186ac8e\n'}, {'number': 2, 'created': '2019-09-11 03:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0cba8cf65a73793b8d34e17636ad1fa295090fba', 'message': 'test stestr 2.5.0\n\nDepends-On: https://review.opendev.org/#/c/681335/\n\nChange-Id: If301f3b1eb2a1de71380131e304ca56fc186ac8e\n'}, {'number': 3, 'created': '2019-09-11 10:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4ef8a4f12651864196d328c1f06579accbc00ffe', 'message': 'test stestr 2.5.0\n\nDepends-On: https://review.opendev.org/#/c/681335/\nDepends-On: https://review.opendev.org/#/c/681428/\n\nChange-Id: If301f3b1eb2a1de71380131e304ca56fc186ac8e\n'}, {'number': 4, 'created': '2019-09-11 15:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5a9cd454d20d75fa7fc8f2e13135e54b770549f2', 'message': 'test stestr 2.5.0\n\nDepends-On: https://review.opendev.org/#/c/681335/\nDepends-On: https://review.opendev.org/#/c/681428/\n\nChange-Id: If301f3b1eb2a1de71380131e304ca56fc186ac8e\n'}, {'number': 5, 'created': '2019-09-12 23:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8a844593876ede53290c9126023e1096581a702c', 'message': 'test stestr 2.5.0\n\nDepends-On: https://review.opendev.org/#/c/681335/\nDepends-On: https://review.opendev.org/#/c/681428/\n\nChange-Id: If301f3b1eb2a1de71380131e304ca56fc186ac8e\n'}, {'number': 6, 'created': '2019-09-13 17:06:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/dd8803cd2776cfb693b66d6a39e18bc41b53d439', 'message': 'test stestr 2.5.0\n\nDepends-On: https://review.opendev.org/#/c/681335/\nDepends-On: https://review.opendev.org/#/c/681428/\n\nChange-Id: If301f3b1eb2a1de71380131e304ca56fc186ac8e\n'}]",0,681370,dd8803cd2776cfb693b66d6a39e18bc41b53d439,13,2,6,8556,,,0,"test stestr 2.5.0

Depends-On: https://review.opendev.org/#/c/681335/
Depends-On: https://review.opendev.org/#/c/681428/

Change-Id: If301f3b1eb2a1de71380131e304ca56fc186ac8e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/70/681370/6 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3738f8fa0845e7efb84b473fec269d3b150b1741,, -c{env:UPPER_CONSTRAINTS_FILE:/opt/stack/requirements/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Ftempest~master~Ie9c013d4d6851d4deef57c1e4c254a9a34374e5a,openstack/tempest,master,Ie9c013d4d6851d4deef57c1e4c254a9a34374e5a,Add workaround to handle the testtool skip exception issue,MERGED,2019-09-10 19:45:02.000000000,2019-10-11 08:49:07.000000000,2019-09-23 17:23:46.000000000,"[{'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 15343}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-10 19:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6d3070afd0639827caddf0f481a33e45c5b274b4', 'message': ""Add workaround to handle the testtool skip exception issue\n\nstestr which is used by Tempest internally to run the test switch\nthe customize test runner(which use stdlib unittest) for >=py3.5\nelse testtools.run.- https://github.com/mtreinish/stestr/pull/265\n\nThese two test runner are not compatible due to skip exception\nhandling(due to unittest2). testtools.run treat unittestt.SkipTest\nas error and stdlib unittest treat unittest2.case.SkipTest raised\nby testtools.TestCase.skipException.\n\ntesttool issue: https://github.com/testing-cabal/testtools/issues/272\n\ntesttool is not so active now a days and fix is also not decided,\nlet's add a workaround in Tempest to make it work for both test runner\nbased on python version same as used by stestr\n\nChange-Id: Ie9c013d4d6851d4deef57c1e4c254a9a34374e5a\n""}, {'number': 2, 'created': '2019-09-11 04:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0d428ccac40149c5d19f8cb20ab645affe461690', 'message': ""Add workaround to handle the testtool skip exception issue\n\nstestr which is used by Tempest internally to run the test switch\nthe customize test runner(which use stdlib unittest) for >=py3.5\nelse testtools.run.- https://github.com/mtreinish/stestr/pull/265\n\nThese two test runner are not compatible due to skip exception\nhandling(due to unittest2). testtools.run treat unittestt.SkipTest\nas error and stdlib unittest treat unittest2.case.SkipTest raised\nby testtools.TestCase.skipException.\n\ntesttool issue: https://github.com/testing-cabal/testtools/issues/272\n\ntesttool is not so active now a days and fix is also not decided,\nlet's add a workaround in Tempest to make it work for both test runner\nbased on python version same as used by stestr\n\nTempest should work perfectly with stestr<2.5.0 also which is\nalso handled in this workaround.\n\nChange-Id: Ie9c013d4d6851d4deef57c1e4c254a9a34374e5a\n""}, {'number': 3, 'created': '2019-09-11 09:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d0f0323fe885cdc0937daa727624f8da2b93b6a9', 'message': ""Add workaround to handle the testtool skip exception issue\n\nstestr which is used by Tempest internally to run the test switch\nthe customize test runner(which use stdlib unittest) for >=py3.5\nelse testtools.run.- https://github.com/mtreinish/stestr/pull/265\n\nThese two test runner are not compatible due to skip exception\nhandling(due to unittest2). testtools.run treat unittestt.SkipTest\nas error and stdlib unittest treat unittest2.case.SkipTest raised\nby testtools.TestCase.skipException.\n\ntesttool issue: https://github.com/testing-cabal/testtools/issues/272\n\ntesttool is not so active now a days and fix is also not decided,\nlet's add a workaround in Tempest to make it work for both test runner\nbased on python version same as used by stestr\n\nTempest should work perfectly with stestr<2.5.0 also which is\nalso handled in this workaround.\n\nChange-Id: Ie9c013d4d6851d4deef57c1e4c254a9a34374e5a\n""}, {'number': 4, 'created': '2019-09-11 15:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3e61b1f6deedb2a20d746b26494111d4243e6b0e', 'message': ""Add workaround to handle the testtool skip exception issue\n\nstestr which is used by Tempest internally to run the test switch\nthe customize test runner(which use stdlib unittest) for >=py3.5\nelse testtools.run.- https://github.com/mtreinish/stestr/pull/265\n\nThese two test runner are not compatible due to skip exception\nhandling(due to unittest2). testtools.run treat unittestt.SkipTest\nas error and stdlib unittest treat unittest2.case.SkipTest raised\nby testtools.TestCase.skipException.\n\ntesttool issue: https://github.com/testing-cabal/testtools/issues/272\n\ntesttool is not so active now a days and fix is also not decided,\nlet's add a workaround in Tempest to make it work for both test runner\nbased on python version same as used by stestr\n\nTempest should work perfectly with stestr<2.5.0 also which is\nalso handled in this workaround.\n\nChange-Id: Ie9c013d4d6851d4deef57c1e4c254a9a34374e5a\n""}, {'number': 5, 'created': '2019-09-12 23:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c2e59041d603e24f9a65543916a9166cb021f745', 'message': ""Add workaround to handle the testtool skip exception issue\n\nstestr which is used by Tempest internally to run the test switch\nthe customize test runner(which use stdlib unittest) for >=py3.5\nelse testtools.run.- https://github.com/mtreinish/stestr/pull/265\n\nThese two test runner are not compatible due to skip exception\nhandling(due to unittest2). testtools.run treat unittestt.SkipTest\nas error and stdlib unittest treat unittest2.case.SkipTest raised\nby testtools.TestCase.skipException.\n\ntesttool issue: https://github.com/testing-cabal/testtools/issues/272\n\ntesttool is not so active now a days and fix is also not decided,\nlet's add a workaround in Tempest to make it work for both test runner\nbased on python version same as used by stestr\n\nTempest should work perfectly with stestr<2.5.0 also which is\nalso handled in this workaround.\n\nChange-Id: Ie9c013d4d6851d4deef57c1e4c254a9a34374e5a\n""}, {'number': 6, 'created': '2019-09-13 17:06:18.000000000', 'files': ['tempest/test.py', 'tempest/tests/test_test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/68ddf4189158852a2d18fa1c57fd38342f128c9c', 'message': ""Add workaround to handle the testtool skip exception issue\n\nstestr which is used by Tempest internally to run the test switch\nthe customize test runner(which use stdlib unittest) for >=py3.5\nelse testtools.run.- https://github.com/mtreinish/stestr/pull/265\n\nThese two test runner are not compatible due to skip exception\nhandling(due to unittest2). testtools.run treat unittestt.SkipTest\nas error and stdlib unittest treat unittest2.case.SkipTest raised\nby testtools.TestCase.skipException.\n\ntesttool issue: https://github.com/testing-cabal/testtools/issues/272\n\ntesttool is not so active now a days and fix is also not decided,\nlet's add a workaround in Tempest to make it work for both test runner\nbased on python version same as used by stestr\n\nTempest should work perfectly with stestr<2.5.0 also which is\nalso handled in this workaround.\n\nChange-Id: Ie9c013d4d6851d4deef57c1e4c254a9a34374e5a\n""}]",27,681340,68ddf4189158852a2d18fa1c57fd38342f128c9c,51,11,6,8556,,,0,"Add workaround to handle the testtool skip exception issue

stestr which is used by Tempest internally to run the test switch
the customize test runner(which use stdlib unittest) for >=py3.5
else testtools.run.- https://github.com/mtreinish/stestr/pull/265

These two test runner are not compatible due to skip exception
handling(due to unittest2). testtools.run treat unittestt.SkipTest
as error and stdlib unittest treat unittest2.case.SkipTest raised
by testtools.TestCase.skipException.

testtool issue: https://github.com/testing-cabal/testtools/issues/272

testtool is not so active now a days and fix is also not decided,
let's add a workaround in Tempest to make it work for both test runner
based on python version same as used by stestr

Tempest should work perfectly with stestr<2.5.0 also which is
also handled in this workaround.

Change-Id: Ie9c013d4d6851d4deef57c1e4c254a9a34374e5a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/40/681340/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/test.py'],1,6d3070afd0639827caddf0f481a33e45c5b274b4,, # TODO(gmann): Below Try block is really workaround for # testtools bug- https://github.com/testing-cabal/testtools/issues/272 # stestr which is used by Tempest internally to run the test switch # the customize test runner(which use stdlib unittest) for >=py3.5 # else testtools.run.- https://github.com/mtreinish/stestr/pull/265 # These two test runner are not compatible due to skip exception # handling(due to unittest2). testtools.run treat unittestt.SkipTest # as error and stdlib unittest treat unittest2.case.SkipTest raised # by testtools.TestCase.skipException. # The below workaround can be removed once testtools fix issue# 272. try: import unittest import unittest2 if sys.version_info[0] >= 3 and sys.version_info[1] >= 5: exc = unittest2.case.SkipTest exc_to_raise = unittest.case.SkipTest else: exc = unittest.case.SkipTest exc_to_raise = unittest2.case.SkipTest cls.skip_checks() except exc as e: raise exc_to_raise(e.args[0]) , cls.skip_checks(),23,1
openstack%2Fpatrole~master~Ic76668836d52727423811ba804663ba42d3a8341,openstack/patrole,master,Ic76668836d52727423811ba804663ba42d3a8341,test stestr 2.5.0,ABANDONED,2019-09-25 22:44:10.000000000,2019-10-11 08:47:59.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-25 22:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/113f2a8163bc567de0bf5cb1d6a0d6e0518f9c43', 'message': 'test stestr 2.5.0\n\nDepends-On: https://review.opendev.org/#/c/681335/\nDepends-On: https://review.opendev.org/#/c/681428/\nChange-Id: Ic76668836d52727423811ba804663ba42d3a8341\n'}, {'number': 2, 'created': '2019-10-11 00:12:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/patrole/commit/6286cdb1002fc35e97fd69ebf1120e00814df6fd', 'message': 'test stestr 2.5.0\n\nDepends-On: https://review.opendev.org/#/c/687999/\nChange-Id: Ic76668836d52727423811ba804663ba42d3a8341\n'}]",0,684850,6286cdb1002fc35e97fd69ebf1120e00814df6fd,11,2,2,8556,,,0,"test stestr 2.5.0

Depends-On: https://review.opendev.org/#/c/687999/
Change-Id: Ic76668836d52727423811ba804663ba42d3a8341
",git fetch https://review.opendev.org/openstack/patrole refs/changes/50/684850/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,113f2a8163bc567de0bf5cb1d6a0d6e0518f9c43,, Patrole base job for admin and member roles. This job executes RBAC tests, Patrole base job for admin and member roles. This job executes RBAC tests,1,1
openstack%2Fpatrole~master~I8a516bcc2899a38e82f56d955f40364d5dd7929f,openstack/patrole,master,I8a516bcc2899a38e82f56d955f40364d5dd7929f,"Fix missing ""raise"" before cls.skipException",MERGED,2019-09-23 01:37:04.000000000,2019-10-11 08:47:52.000000000,2019-10-11 01:25:52.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-09-23 01:37:04.000000000', 'files': ['patrole_tempest_plugin/tests/api/network/test_auto_allocated_topology_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/8ca82d85061d94e0bf8cc245f2747a705d0bace4', 'message': 'Fix missing ""raise"" before cls.skipException\n\n""raise"" is missing before cls.skipException in\ntest_auto_allocated_topology_rbac.py, this is to fix it.\n\nChange-Id: I8a516bcc2899a38e82f56d955f40364d5dd7929f\n'}]",8,683834,8ca82d85061d94e0bf8cc245f2747a705d0bace4,17,3,1,20190,,,0,"Fix missing ""raise"" before cls.skipException

""raise"" is missing before cls.skipException in
test_auto_allocated_topology_rbac.py, this is to fix it.

Change-Id: I8a516bcc2899a38e82f56d955f40364d5dd7929f
",git fetch https://review.opendev.org/openstack/patrole refs/changes/34/683834/1 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/tests/api/network/test_auto_allocated_topology_rbac.py'],1,8ca82d85061d94e0bf8cc245f2747a705d0bace4,skipException, raise cls.skipException(msg), cls.skipException(msg),1,1
openstack%2Fdesignate~master~If8acad1bcc5b66de412c55959e0ed1e6ea11660d,openstack/designate,master,If8acad1bcc5b66de412c55959e0ed1e6ea11660d,Remove unused import statement.,ABANDONED,2019-10-11 07:10:49.000000000,2019-10-11 08:47:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-10-11 07:10:49.000000000', 'files': ['designate/tests/test_quota/test_quota.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/e50f9f5ea6c0f0919dd68a294e59750c93d60c99', 'message': 'Remove unused import statement.\n\nChange-Id: If8acad1bcc5b66de412c55959e0ed1e6ea11660d\n'}]",0,688048,e50f9f5ea6c0f0919dd68a294e59750c93d60c99,4,2,1,30200,,,0,"Remove unused import statement.

Change-Id: If8acad1bcc5b66de412c55959e0ed1e6ea11660d
",git fetch https://review.opendev.org/openstack/designate refs/changes/48/688048/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/tests/test_quota/test_quota.py'],1,e50f9f5ea6c0f0919dd68a294e59750c93d60c99,,,from testscenarios import load_tests_apply_scenarios as load_tests # noqa,0,1
openstack%2Fkuryr-kubernetes~stable%2Ftrain~I914109337066441a2750d055aec5cf0e799d7516,openstack/kuryr-kubernetes,stable/train,I914109337066441a2750d055aec5cf0e799d7516,Avoid race between pod creation retry and namespace deletion,MERGED,2019-10-10 13:49:36.000000000,2019-10-11 08:42:10.000000000,2019-10-11 08:40:50.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 13:49:36.000000000', 'files': ['kuryr_kubernetes/controller/handlers/vif.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/037fa2120b89bcb5ba092592eefe03cee0b7798e', 'message': 'Avoid race between pod creation retry and namespace deletion\n\nThis patch ensure that if a namespace gets deleted and there is\na pending pod creation retry, the later will not fail due to the\nsubnet being already deleted.\n\nChange-Id: I914109337066441a2750d055aec5cf0e799d7516\nCloses-Bug: 1847446\n(cherry picked from commit f85866d84da54b6d1bd28c40f046e1039e46a251)\n'}]",0,687900,037fa2120b89bcb5ba092592eefe03cee0b7798e,7,2,1,23567,,,0,"Avoid race between pod creation retry and namespace deletion

This patch ensure that if a namespace gets deleted and there is
a pending pod creation retry, the later will not fail due to the
subnet being already deleted.

Change-Id: I914109337066441a2750d055aec5cf0e799d7516
Closes-Bug: 1847446
(cherry picked from commit f85866d84da54b6d1bd28c40f046e1039e46a251)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/00/687900/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/vif.py'],1,037fa2120b89bcb5ba092592eefe03cee0b7798e,bug/1847446-stable/train," try: subnets = self._drv_subnets.get_subnets(pod, project_id) except n_exc.NotFound: LOG.warning(""Subnet does not exists. If namespace driver is "" ""used, probably the namespace for the pod is "" ""already deleted. So this pod does not need to "" ""get a port as it will be deleted too. If the "" ""default subnet driver is used, then you must "" ""select an existing subnet to be used by Kuryr."") return"," subnets = self._drv_subnets.get_subnets(pod, project_id) ",10,2
openstack%2Fnova~master~If5b0c2f28773e0b2fcb008d5251fb69d950ca569,openstack/nova,master,If5b0c2f28773e0b2fcb008d5251fb69d950ca569,Fix exception translation when creating volume,MERGED,2019-08-28 05:40:20.000000000,2019-10-11 08:41:18.000000000,2019-10-11 08:07:06.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11803}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22321}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25113}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-28 05:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b18781425cbf8507c9d7a023cf422438689188d', 'message': 'Fix exception translation when creating volume\n\nMethod `nova.volume.cinder.API#create` accepts `size` as the 3rd args,\nbut in wrapper of `nova.volume.cinder.translate_volume_exception`, the 3rd\nparameter is volume_id. If we hit cinder exception when creating volumes\nlike the response body down below:\n```\n{""itemNotFound"": {""message"": ""Volume type with name xxx could not be found."",\n""code"": 404}}\n```\nwe may get exception in nova compute log like this:\n```\nBuildAbortException: Build of instance xxx aborted: Volume 40 could not be\nfound.\n```\nactually, `40` is volume size, not voluem id.\n\nThis could be a little misleading.\n\nChange-Id: If5b0c2f28773e0b2fcb008d5251fb69d950ca569\nSigned-off-by: Fan Zhang <zh.f@outlook.com>\n'}, {'number': 2, 'created': '2019-09-01 15:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bd21c0c4322e31fc37f5c3ab98ab43ba30a62c4', 'message': 'Fix exception translation when creating volume\n\nMethod `nova.volume.cinder.API#create` accepts `size` as the 3rd args,\nbut in wrapper of `nova.volume.cinder.translate_volume_exception`, the 3rd\nparameter is volume_id. If we hit cinder exception when creating volumes\nlike the response body down below:\n```\n{""itemNotFound"": {""message"": ""Volume type with name xxx could not be found."",\n""code"": 404}}\n```\nwe may get exception in nova compute log like this:\n```\nBuildAbortException: Build of instance xxx aborted: Volume 40 could not be\nfound.\n```\nactually, `40` is volume size, not voluem id.\n\nThis could be a little misleading.\n\nChange-Id: If5b0c2f28773e0b2fcb008d5251fb69d950ca569\nSigned-off-by: Fan Zhang <zh.f@outlook.com>\n'}, {'number': 3, 'created': '2019-09-19 01:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c65f7c3978ccad95f56f5b7844e79bef564536f', 'message': 'Fix exception translation when creating volume\n\nMethod `nova.volume.cinder.API#create` accepts `size` as the 3rd args,\nbut in wrapper of `nova.volume.cinder.translate_volume_exception`, the 3rd\nparameter is volume_id. If we hit cinder exception when creating volumes\nlike the response body down below:\n```\n{""itemNotFound"": {""message"": ""Volume type with name xxx could not be found."",\n""code"": 404}}\n```\nwe may get exception in nova compute log like this:\n```\nBuildAbortException: Build of instance xxx aborted: Volume 40 could not be\nfound.\n```\nactually, `40` is volume size, not voluem id.\n\nThis could be a little misleading.\n\nChange-Id: If5b0c2f28773e0b2fcb008d5251fb69d950ca569\nSigned-off-by: Fan Zhang <zh.f@outlook.com>\n'}, {'number': 4, 'created': '2019-09-23 02:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7362fca8f5769ebed55ecdc07a38d4f515ab3dca', 'message': 'Fix exception translation when creating volume\n\nMethod `nova.volume.cinder.API#create` accepts `size` as the 3rd args,\nbut in wrapper of `nova.volume.cinder.translate_volume_exception`, the 3rd\nparameter is volume_id. If we hit cinder exception when creating volumes\nlike the response body down below:\n```\n{""itemNotFound"": {""message"": ""Volume type with name xxx could not be found."",\n""code"": 404}}\n```\nwe may get exception in nova compute log like this:\n```\nBuildAbortException: Build of instance xxx aborted: Volume 40 could not be\nfound.\n```\nactually, `40` is volume size, not voluem id.\n\nThis could be a little misleading.\n\nChange-Id: If5b0c2f28773e0b2fcb008d5251fb69d950ca569\nSigned-off-by: Fan Zhang <zh.f@outlook.com>\n'}, {'number': 5, 'created': '2019-10-03 17:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ed7428124b1e81f8514a8b132be094d34aff838', 'message': 'Fix exception translation when creating volume\n\nMethod `nova.volume.cinder.API#create` accepts `size` as the 3rd args,\nbut in wrapper of `nova.volume.cinder.translate_volume_exception`, the 3rd\nparameter is volume_id. If we hit cinder exception when creating volumes\nlike the response body down below:\n```\n{""itemNotFound"": {""message"": ""Volume type with name xxx could not be found."",\n""code"": 404}}\n```\nwe may get exception in nova compute log like this:\n```\nBuildAbortException: Build of instance xxx aborted: Volume 40 could not be\nfound.\n```\nactually, `40` is volume size, not voluem id.\n\nThis could be a little misleading.\n\nCloses-Bug: #1846532\n\nChange-Id: If5b0c2f28773e0b2fcb008d5251fb69d950ca569\nSigned-off-by: Fan Zhang <zh.f@outlook.com>\n'}, {'number': 6, 'created': '2019-10-10 02:38:33.000000000', 'files': ['nova/tests/unit/volume/test_cinder.py', 'nova/volume/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0f9311fae19e4e204cdc601acbe7dafc49c73661', 'message': 'Fix exception translation when creating volume\n\nMethod `nova.volume.cinder.API#create` accepts `size` as the 3rd args,\nbut in wrapper of `nova.volume.cinder.translate_volume_exception`, the 3rd\nparameter is volume_id. If we hit cinder exception when creating volumes\nlike the response body down below:\n```\n{""itemNotFound"": {""message"": ""Volume type with name xxx could not be found."",\n""code"": 404}}\n```\nwe may get exception in nova compute log like this:\n```\nBuildAbortException: Build of instance xxx aborted: Volume 40 could not be\nfound.\n```\nactually, `40` is volume size, not voluem id.\n\nThis could be a little misleading.\n\nCloses-Bug: #1846532\n\nChange-Id: If5b0c2f28773e0b2fcb008d5251fb69d950ca569\nSigned-off-by: Fan Zhang <zh.f@outlook.com>\n'}]",8,678991,0f9311fae19e4e204cdc601acbe7dafc49c73661,118,23,6,25113,,,0,"Fix exception translation when creating volume

Method `nova.volume.cinder.API#create` accepts `size` as the 3rd args,
but in wrapper of `nova.volume.cinder.translate_volume_exception`, the 3rd
parameter is volume_id. If we hit cinder exception when creating volumes
like the response body down below:
```
{""itemNotFound"": {""message"": ""Volume type with name xxx could not be found."",
""code"": 404}}
```
we may get exception in nova compute log like this:
```
BuildAbortException: Build of instance xxx aborted: Volume 40 could not be
found.
```
actually, `40` is volume size, not voluem id.

This could be a little misleading.

Closes-Bug: #1846532

Change-Id: If5b0c2f28773e0b2fcb008d5251fb69d950ca569
Signed-off-by: Fan Zhang <zh.f@outlook.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/678991/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/volume/test_cinder.py', 'nova/volume/cinder.py']",2,0b18781425cbf8507c9d7a023cf422438689188d,bug/1846532,"def translate_create_exception(method): """"""Transforms the exception for create but keeps its traceback intact. """""" def wrapper(self, ctx, size, *args, **kwargs): try: res = method(self, ctx, size, *args, **kwargs) except (keystone_exception.NotFound, cinder_exception.NotFound) as e: _reraise(exception.NotFound(message=e.message)) except cinder_exception.OverLimit as e: _reraise(exception.OverQuota(message=e.message)) return res return translate_cinder_exception(wrapper) @translate_create_exception", @translate_volume_exception,29,1
openstack%2Fnova~master~I633faae47ad5a33b27f5e2eef6e0107f60335146,openstack/nova,master,I633faae47ad5a33b27f5e2eef6e0107f60335146,Stop sending bad values from libosinfo to libvirt,MERGED,2019-07-04 14:25:29.000000000,2019-10-11 08:32:12.000000000,2019-07-30 12:31:32.000000000,"[{'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-04 14:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3ec861b16c0ce8a16e818685bafda2d73160190', 'message': 'Stop using virtio1.0-block and virtio1.0-net\n\nWhen we try to use either virtio1.0-block or virtio1.0-net it is\ncorrectly rejectedi. We get these returned from libosinfo for newer\noperating systems that support virtio1.0. As we want to support\nlibvirts older than 5.2.0, its best we just request ""virtio"".\nhttps://libvirt.org/formatdomain.html#elementsVirtioTransitional\n\nYou can see virtio1.0-net and virtio-block being added here:\nhttps://gitlab.com/libosinfo/osinfo-db/blob/master/data/os/fedoraproject.org/fedora-23.xml.in#L31\n\nChange-Id: I633faae47ad5a33b27f5e2eef6e0107f60335146\nCloses-Bug: #1835400\n'}, {'number': 2, 'created': '2019-07-04 14:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eae05ab8a9b026e61ff71f18f745d2f8e1fd2046', 'message': 'Stop using virtio1.0-block and virtio1.0-net\n\nWhen we try to use either virtio1.0-block or virtio1.0-net it is\ncorrectly rejectedi. We get these returned from libosinfo for newer\noperating systems that support virtio1.0. As we want to support\nlibvirts older than 5.2.0, its best we just request ""virtio"".\nhttps://libvirt.org/formatdomain.html#elementsVirtioTransitional\n\nYou can see virtio1.0-net and virtio-block being added here:\nhttps://gitlab.com/libosinfo/osinfo-db/blob/master/data/os/fedoraproject.org/fedora-23.xml.in#L31\n\nChange-Id: I633faae47ad5a33b27f5e2eef6e0107f60335146\nCloses-Bug: #1835400\n'}, {'number': 3, 'created': '2019-07-04 14:32:02.000000000', 'files': ['nova/virt/osinfo.py', 'nova/tests/unit/virt/test_osinfo.py', 'nova/tests/unit/virt/fakelibosinfo.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6be668e51992df53a4d871bea70bc738a9beacb8', 'message': 'Stop sending bad values from libosinfo to libvirt\n\nWhen we try to use either virtio1.0-block or virtio1.0-net it is\ncorrectly rejected by libvirt. We get these returned from libosinfo for\nnewer operating systems that support virtio1.0.\n\nAs we want to support libvirts older than 5.2.0, its best we just request\n""virtio"", please see:\nhttps://libvirt.org/formatdomain.html#elementsVirtioTransitional\n\nYou can see virtio1.0-net and virtio-block being added here:\nhttps://gitlab.com/libosinfo/osinfo-db/blob/master/data/os/fedoraproject.org/fedora-23.xml.in#L31\n\nChange-Id: I633faae47ad5a33b27f5e2eef6e0107f60335146\nCloses-Bug: #1835400\n'}]",3,669190,6be668e51992df53a4d871bea70bc738a9beacb8,19,11,3,782,,,0,"Stop sending bad values from libosinfo to libvirt

When we try to use either virtio1.0-block or virtio1.0-net it is
correctly rejected by libvirt. We get these returned from libosinfo for
newer operating systems that support virtio1.0.

As we want to support libvirts older than 5.2.0, its best we just request
""virtio"", please see:
https://libvirt.org/formatdomain.html#elementsVirtioTransitional

You can see virtio1.0-net and virtio-block being added here:
https://gitlab.com/libosinfo/osinfo-db/blob/master/data/os/fedoraproject.org/fedora-23.xml.in#L31

Change-Id: I633faae47ad5a33b27f5e2eef6e0107f60335146
Closes-Bug: #1835400
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/669190/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/osinfo.py', 'nova/tests/unit/virt/test_osinfo.py', 'nova/tests/unit/virt/fakelibosinfo.py']",3,e3ec861b16c0ce8a16e818685bafda2d73160190,bug/1835400," def _get_fedora19(self): devs = [] net = Device() net._class = 'net' net.name = 'rtl8139' devs.append(net) net._class = 'block' net.name = 'ide' devs.append(net) devlist = DeviceList() devlist.devices = devs fedora = Os() fedora.name = 'Fedora 19' fedora.id = 'http://fedoraproject.org/fedora/19' fedora.short_id = 'fedora19' fedora.dev_list = devlist return fedora def _get_fedora22(self): devs = [] net = Device() devs.append(net) devs.append(net) devlist.devices = devs return fedora def _get_fedora23(self): devs = [] net = Device() net._class = 'net' net.name = 'virtio1.0-net' devs.append(net) net = Device() net._class = 'block' net.name = 'virtio1.0-block' devs.append(net) devlist = DeviceList() devlist.devices = devs fedora = Os() fedora.name = 'Fedora 23' fedora.id = 'http://fedoraproject.org/fedora/23' fedora.short_id = 'fedora23' fedora.dev_list = devlist return fedora def __init__(self): self.oslist.os_list = [ self._get_fedora19(), self._get_fedora22(), self._get_fedora23(), ]", def __init__(self): # Generate test devices self.devs = [] self.oslist = None self.devs.append(net) self.devs.append(net) devlist.devices = self.devs self.oslist.os_list = [fedora],99,16
openstack%2Fkeystone~master~Ie0ae2a410b2b65b48c7c97b90d2e372070065dca,openstack/keystone,master,Ie0ae2a410b2b65b48c7c97b90d2e372070065dca,Update getting started guide,MERGED,2019-10-07 16:36:36.000000000,2019-10-11 08:30:49.000000000,2019-10-11 08:28:37.000000000,"[{'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 15054}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-10-07 16:36:36.000000000', 'files': ['doc/source/getting-started/community.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e894842a0a0e5e286dd25197944045fab0e54d01', 'message': ""Update getting started guide\n\nThe getting started guide still references blueprints, which we don't\nuse any more for tracking feature work, as well as the wiki which we\ndon't keep up to date. This patch updates the getting started guide so\nthat new contributors aren't misled about these tools.\n\nChange-Id: Ie0ae2a410b2b65b48c7c97b90d2e372070065dca\n""}]",1,687096,e894842a0a0e5e286dd25197944045fab0e54d01,11,6,1,8482,,,0,"Update getting started guide

The getting started guide still references blueprints, which we don't
use any more for tracking feature work, as well as the wiki which we
don't keep up to date. This patch updates the getting started guide so
that new contributors aren't misled about these tools.

Change-Id: Ie0ae2a410b2b65b48c7c97b90d2e372070065dca
",git fetch https://review.opendev.org/openstack/keystone refs/changes/96/687096/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/getting-started/community.rst'],1,e894842a0a0e5e286dd25197944045fab0e54d01,update-getting-started,"from feature designs to documentation to testing to deployment scripts.Within launchpad, we use `bugs <https://bugs.launchpad.net/keystone>`_ to report issues as well as to track feature work. If you are looking for a place to get started contributing to keystone, please look at any bugs for Keystone that are tagged as `low-hanging-fruit","from blueprint designs to documentation to testing to deployment scripts.OpenStack Wiki -------------- The wiki is a living source of knowledge. It is edited by the community, and has collections of links and other sources of information. Typically the pages are a good place to write drafts for specs or documentation, describe a blueprint, or collaborate with others. `OpenStack Wiki <https://wiki.openstack.org/>`_ * `useful Keystone project links <https://wiki.openstack.org/Keystone>`_ Within launchpad, we use `blueprints <https://blueprints.launchpad.net/keystone>`_, to track feature work, and track `bugs <https://bugs.launchpad.net/keystone>`_ as well. If you are looking for a place to get started contributing to keystone, please look at any bugs for Keystone that are tagged as `low-hanging-fruit",5,18
openstack%2Fkeystone~master~I09063dfec1afcd823f5fa190626e8719a202fc28,openstack/keystone,master,I09063dfec1afcd823f5fa190626e8719a202fc28,Fix wrong interface description,MERGED,2019-10-09 10:08:46.000000000,2019-10-11 08:28:33.000000000,2019-10-11 08:26:12.000000000,"[{'_account_id': 15054}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 10:08:46.000000000', 'files': ['api-ref/source/v3/service-catalog.inc'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c7331ccd24ab5611a9a5189cec02798974b68cbb', 'message': 'Fix wrong interface description\n\nIn [1] it response parameters, it is written interface body  string\n(Deprecated in v3.2) The geographic location of the service endpoint.\nThis patch fixes the wrong documentation.\n\n[1] https://docs.openstack.org/api-ref/identity/v3/?expanded=list-endpoints-detail,show-endpoint-details-detail#service-catalog-and-endpoints\n\nChange-Id: I09063dfec1afcd823f5fa190626e8719a202fc28\n'}]",0,687526,c7331ccd24ab5611a9a5189cec02798974b68cbb,7,2,1,27621,,,0,"Fix wrong interface description

In [1] it response parameters, it is written interface body  string
(Deprecated in v3.2) The geographic location of the service endpoint.
This patch fixes the wrong documentation.

[1] https://docs.openstack.org/api-ref/identity/v3/?expanded=list-endpoints-detail,show-endpoint-details-detail#service-catalog-and-endpoints

Change-Id: I09063dfec1afcd823f5fa190626e8719a202fc28
",git fetch https://review.opendev.org/openstack/keystone refs/changes/26/687526/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/service-catalog.inc'],1,c7331ccd24ab5611a9a5189cec02798974b68cbb,, - interface: endpoint_interface, - interface: endpoint_region,1,1
openstack%2Fpuppet-openstacklib~stable%2Ftrain~I78b847ecbb4a6b0005754866d3b0158e0d63dbed,openstack/puppet-openstacklib,stable/train,I78b847ecbb4a6b0005754866d3b0158e0d63dbed,Switch to Train,MERGED,2019-10-09 23:12:24.000000000,2019-10-11 08:24:00.000000000,2019-10-11 08:23:59.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:12:24.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/94b20169277fa16715aa0bd152f2a1474efbb412', 'message': 'Switch to Train\n\nChange-Id: I78b847ecbb4a6b0005754866d3b0158e0d63dbed\n'}]",0,687721,94b20169277fa16715aa0bd152f2a1474efbb412,11,4,1,16137,,,0,"Switch to Train

Change-Id: I78b847ecbb4a6b0005754866d3b0158e0d63dbed
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/21/687721/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,94b20169277fa16715aa0bd152f2a1474efbb412,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fbifrost~stable%2Ftrain~I3005fc59d6c5e1f5000874342f956977d9929907,openstack/bifrost,stable/train,I3005fc59d6c5e1f5000874342f956977d9929907,Switch git_branch to stable/train,MERGED,2019-10-10 08:21:11.000000000,2019-10-11 08:23:05.000000000,2019-10-11 08:20:53.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-10 08:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/cc73d9261b6c27969717aeda2a56cc09534a920b', 'message': 'Switch git_branch to stable/train\n\nThis commit should be reverted on master once stable/train has been cut.\n\nChange-Id: I3005fc59d6c5e1f5000874342f956977d9929907\n'}, {'number': 2, 'created': '2019-10-10 08:38:42.000000000', 'files': ['playbooks/roles/bifrost-prep-for-install/README.md', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c6210aeebde8a25bc72d21bf008442592e88372d', 'message': 'Switch git_branch to stable/train\n\nAlso use Train IPA images.\n\nChange-Id: I3005fc59d6c5e1f5000874342f956977d9929907\n'}]",0,687820,c6210aeebde8a25bc72d21bf008442592e88372d,11,4,2,14826,,,0,"Switch git_branch to stable/train

Also use Train IPA images.

Change-Id: I3005fc59d6c5e1f5000874342f956977d9929907
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/20/687820/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-prep-for-install/README.md', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml']",3,cc73d9261b6c27969717aeda2a56cc09534a920b,,git_branch: stable/train,git_branch: master,3,3
openstack%2Fpython-novaclient~master~Ie3f38e2ecf52e6a6cbd52bb36196e6f589f1ca0f,openstack/python-novaclient,master,Ie3f38e2ecf52e6a6cbd52bb36196e6f589f1ca0f,PDF documentation build,MERGED,2019-10-10 18:51:58.000000000,2019-10-11 08:19:58.000000000,2019-10-11 08:17:40.000000000,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 18:51:58.000000000', 'files': ['doc/source/index.rst', 'doc/source/reference/index.rst', 'doc/source/user/index.rst', 'doc/source/contributor/index.rst', 'doc/source/user/shell.rst', 'doc/source/contributor/deprecation-policy.rst', 'doc/source/conf.py', 'doc/source/user/python-api.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/6c0e4d7a3940ba6d4d11d0c89933cc00b898ed9e', 'message': 'PDF documentation build\n\nAlso reorganizes the document structure to match both HTML and PDF docs.\n\nStory: 2006100\nTask: 35143\n\nChange-Id: Ie3f38e2ecf52e6a6cbd52bb36196e6f589f1ca0f\n'}]",0,687966,6c0e4d7a3940ba6d4d11d0c89933cc00b898ed9e,12,3,1,841,,,0,"PDF documentation build

Also reorganizes the document structure to match both HTML and PDF docs.

Story: 2006100
Task: 35143

Change-Id: Ie3f38e2ecf52e6a6cbd52bb36196e6f589f1ca0f
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/66/687966/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/reference/index.rst', 'doc/source/user/index.rst', 'doc/source/contributor/index.rst', 'doc/source/user/shell.rst', 'doc/source/contributor/deprecation-policy.rst', 'doc/source/conf.py', 'doc/source/user/python-api.rst', 'tox.ini']",9,6c0e4d7a3940ba6d4d11d0c89933cc00b898ed9e,build-pdf-docs, make rm -rf doc/build/html doc/build/doctrees[testenv:pdf-docs] basepython = python3 envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} commands = rm -rf doc/build/pdf sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf , rm -rf doc/build,34,21
openstack%2Fpython-magnumclient~stable%2Ftrain~Ia57e95e4570d04c2a20f7674d1ae3e21b8dd8efb,openstack/python-magnumclient,stable/train,Ia57e95e4570d04c2a20f7674d1ae3e21b8dd8efb,Allow cluster config for any cluster state,MERGED,2019-10-11 07:10:21.000000000,2019-10-11 08:09:36.000000000,2019-10-11 08:08:26.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-11 07:10:21.000000000', 'files': ['magnumclient/tests/osc/unit/v1/test_clusters.py', 'magnumclient/tests/v1/test_bays_shell.py', 'magnumclient/osc/v1/clusters.py', 'magnumclient/v1/clusters_shell.py', 'magnumclient/tests/v1/test_clusters_shell.py', 'magnumclient/v1/bays_shell.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/a429ccc2534374546a8f588a2bba47f69fb1750b', 'message': ""Allow cluster config for any cluster state\n\nSimilar to what the certificates api does, it doesn't make sense to\ndisallow cluster config.\n\nstory: 2006651\ntask: 36891\n\nChange-Id: Ia57e95e4570d04c2a20f7674d1ae3e21b8dd8efb\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit c0d368360831cd29affa47e77eba4e81e4c6f0f8)\n""}]",0,688047,a429ccc2534374546a8f588a2bba47f69fb1750b,8,3,1,20498,,,0,"Allow cluster config for any cluster state

Similar to what the certificates api does, it doesn't make sense to
disallow cluster config.

story: 2006651
task: 36891

Change-Id: Ia57e95e4570d04c2a20f7674d1ae3e21b8dd8efb
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit c0d368360831cd29affa47e77eba4e81e4c6f0f8)
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/47/688047/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnumclient/tests/osc/unit/v1/test_clusters.py', 'magnumclient/tests/v1/test_bays_shell.py', 'magnumclient/osc/v1/clusters.py', 'magnumclient/v1/clusters_shell.py', 'magnumclient/tests/v1/test_clusters_shell.py', 'magnumclient/v1/bays_shell.py']",6,a429ccc2534374546a8f588a2bba47f69fb1750b,cluster_config-stable/train," if (hasattr(bay, 'api_address') and bay.api_address is None): print(""WARNING: The bay's api_address is not known yet."")"," if bay.status not in ('CREATE_COMPLETE', 'UPDATE_COMPLETE'): raise exceptions.CommandError(""Bay in status %s"" % bay.status)",8,41
openstack%2Fswift~master~I7a47e6260ed51a3b7d9665b3a4510520429ae158,openstack/swift,master,I7a47e6260ed51a3b7d9665b3a4510520429ae158,Fix misleading error msg if swift.conf unreadable,MERGED,2018-07-10 09:15:32.000000000,2019-10-11 08:08:38.000000000,2019-10-11 08:07:09.000000000,"[{'_account_id': 597}, {'_account_id': 6968}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-10 09:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/df98ca673e1d6eff57efe309c31c1360fea25f79', 'message': ""Fix misleading error msg if swift.conf unreadable\n\nSeveral tools are returning a misleading error message if swift.conf is\nmissing or not readable by the user, stating that the hash pre-/suffixes\nare missing. Let's fix this by catching the real issue down below.\n\nChange-Id: I7a47e6260ed51a3b7d9665b3a4510520429ae158\n""}, {'number': 2, 'created': '2018-07-11 08:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/431ba49151c74173135ac9ceb41117c08e3a9c00', 'message': ""Fix misleading error msg if swift.conf unreadable\n\nSeveral tools are returning a misleading error message if swift.conf is\nmissing or not readable by the user, stating that the hash pre-/suffixes\nare missing. Let's fix this by catching the real issue down below.\n\nChange-Id: I7a47e6260ed51a3b7d9665b3a4510520429ae158\n""}, {'number': 3, 'created': '2018-07-12 07:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a5dac9d04355a98d000d1f1abcbf9e0f99fb396f', 'message': ""Fix misleading error msg if swift.conf unreadable\n\nSeveral tools are returning a misleading error message if swift.conf is\nmissing or not readable by the user, stating that the hash pre-/suffixes\nare missing. Let's fix this by catching the real issue down below.\n\nChange-Id: I7a47e6260ed51a3b7d9665b3a4510520429ae158\n""}, {'number': 4, 'created': '2018-07-12 09:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c1c3c33b6afd75ad6e1a90bbb9aaed84d1cb3275', 'message': ""Fix misleading error msg if swift.conf unreadable\n\nSeveral tools are returning a misleading error message if swift.conf is\nmissing or not readable by the user, stating that the hash pre-/suffixes\nare missing. Let's fix this by catching the real issue down below.\n\nChange-Id: I7a47e6260ed51a3b7d9665b3a4510520429ae158\n""}, {'number': 5, 'created': '2019-10-09 08:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/efc7fcffc9ae9563fd64a5fdf7be8a43634e4330', 'message': ""Fix misleading error msg if swift.conf unreadable\n\nSeveral tools are returning a misleading error message if swift.conf is\nmissing or not readable by the user, stating that the hash pre-/suffixes\nare missing. Let's fix this by catching the real issue down below.\n\nChange-Id: I7a47e6260ed51a3b7d9665b3a4510520429ae158\n""}, {'number': 6, 'created': '2019-10-09 08:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/38bc1b87c56ba9727b999a9043c7a81c20929fae', 'message': ""Fix misleading error msg if swift.conf unreadable\n\nSeveral tools are returning a misleading error message if swift.conf is\nmissing or not readable by the user, stating that the hash pre-/suffixes\nare missing. Let's fix this by catching the real issue down below.\n\nChange-Id: I7a47e6260ed51a3b7d9665b3a4510520429ae158\n""}, {'number': 7, 'created': '2019-10-10 16:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/92686b856cf8c8bba51838740a11a4fbd3567321', 'message': ""Fix misleading error msg if swift.conf unreadable\n\nSeveral tools are returning a misleading error message if swift.conf is\nmissing or not readable by the user, stating that the hash pre-/suffixes\nare missing. Let's fix this by catching the real issue down below.\n\nChange-Id: I7a47e6260ed51a3b7d9665b3a4510520429ae158\n""}, {'number': 8, 'created': '2019-10-11 00:55:35.000000000', 'files': ['swift/common/utils.py', 'test/unit/common/ring/test_ring.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/78a4070c90573fb8cf3f933329a27019d52aeea4', 'message': ""Fix misleading error msg if swift.conf unreadable\n\nSeveral tools are returning a misleading error message if swift.conf is\nmissing or not readable by the user, stating that the hash pre-/suffixes\nare missing. Let's fix this by catching the real issue down below.\n\nChange-Id: I7a47e6260ed51a3b7d9665b3a4510520429ae158\n""}]",4,581280,78a4070c90573fb8cf3f933329a27019d52aeea4,28,4,8,6968,,,0,"Fix misleading error msg if swift.conf unreadable

Several tools are returning a misleading error message if swift.conf is
missing or not readable by the user, stating that the hash pre-/suffixes
are missing. Let's fix this by catching the real issue down below.

Change-Id: I7a47e6260ed51a3b7d9665b3a4510520429ae158
",git fetch https://review.opendev.org/openstack/swift refs/changes/80/581280/7 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'test/unit/common/ring/test_ring.py', 'test/unit/common/test_utils.py']",3,df98ca673e1d6eff57efe309c31c1360fea25f79,work," # Unreadable swift.conf causes IOError with mock.patch.object(utils, 'SWIFT_CONF_FILE', ''): self.assertRaises( IOError, self._test_validate_hash_conf, [], [], True) def readfp(self, fp): pass"," def read(self, conf_path, encoding=None): return [conf_path]",26,20
openstack%2Fneutron-vpnaas~master~If114f0fc25c68e20160ab809479536cc83756695,openstack/neutron-vpnaas,master,If114f0fc25c68e20160ab809479536cc83756695,Update master for stable/train,MERGED,2019-09-25 08:46:12.000000000,2019-10-11 08:00:47.000000000,2019-10-11 07:59:28.000000000,"[{'_account_id': 841}, {'_account_id': 6854}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-25 08:46:12.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/d763f012f864775c68b6f8d3760efa2fab0465a0', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: If114f0fc25c68e20160ab809479536cc83756695\nSem-Ver: feature\n'}]",0,684586,d763f012f864775c68b6f8d3760efa2fab0465a0,9,4,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: If114f0fc25c68e20160ab809479536cc83756695
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/86/684586/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,d763f012f864775c68b6f8d3760efa2fab0465a0,reno-train, train,,7,0
openstack%2Freleases~master~I70e0d5476336c60b70f5d6d02f2065ea4eec5d30,openstack/releases,master,I70e0d5476336c60b70f5d6d02f2065ea4eec5d30,Release puppet-cloudkitty 4.3.0,ABANDONED,2019-10-10 08:53:57.000000000,2019-10-11 07:54:29.000000000,,"[{'_account_id': 308}, {'_account_id': 9414}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 08:53:57.000000000', 'files': ['deliverables/train/puppet-cloudkitty.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7eaa8716b92a1e86905e7389b915492afb65f09a', 'message': ""Release puppet-cloudkitty 4.3.0\n\nThis was missed in the release process and only\nhad it's metadata fixed.\n\nChange-Id: I70e0d5476336c60b70f5d6d02f2065ea4eec5d30\n""}]",0,687828,7eaa8716b92a1e86905e7389b915492afb65f09a,4,4,1,16137,,,0,"Release puppet-cloudkitty 4.3.0

This was missed in the release process and only
had it's metadata fixed.

Change-Id: I70e0d5476336c60b70f5d6d02f2065ea4eec5d30
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/687828/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/puppet-cloudkitty.yaml'],1,7eaa8716b92a1e86905e7389b915492afb65f09a,puppet-cloudkitty-4.3.0, - projects: - hash: 39cbccca2c2cad6ff5f0eea12b59d28390ebc052 repo: openstack/puppet-cloudkitty version: 4.3.0,,4,0
openstack%2Fcinder~master~I7479dcd3ba928a7793a5a2fdc22de433ea50731f,openstack/cinder,master,I7479dcd3ba928a7793a5a2fdc22de433ea50731f,Remove duplicate lines in netapp driver documentation,MERGED,2019-10-08 13:27:04.000000000,2019-10-11 07:37:27.000000000,2019-10-10 16:21:44.000000000,"[{'_account_id': 5314}, {'_account_id': 6547}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26693}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 29855}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-10-08 13:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/118982d47b70403aedd4b0b3b87a8195430eaed3', 'message': 'Remove duplicate lines in netapp driver documentation\n\nChange-Id: I7479dcd3ba928a7793a5a2fdc22de433ea50731f\nCloses-Bug: #1847258\n'}, {'number': 2, 'created': '2019-10-10 07:12:21.000000000', 'files': ['doc/source/configuration/tables/cinder-netapp_cdot_nfs.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b53ae96152d9b5151c4e1e3b5cbc7e12f1ed58f', 'message': 'Remove duplicate lines in netapp driver documentation\n\nChange-Id: I7479dcd3ba928a7793a5a2fdc22de433ea50731f\nCloses-Bug: #1847258\n'}]",0,687296,4b53ae96152d9b5151c4e1e3b5cbc7e12f1ed58f,67,33,2,26693,,,0,"Remove duplicate lines in netapp driver documentation

Change-Id: I7479dcd3ba928a7793a5a2fdc22de433ea50731f
Closes-Bug: #1847258
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/687296/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/tables/cinder-netapp_cdot_nfs.inc'],1,118982d47b70403aedd4b0b3b87a8195430eaed3,bug-1847258,, * - ``netapp_host_type`` = ``None`` - (String) This option defines the type of operating system for all initiators that can access a LUN. This information is used when mapping LUNs to individual hosts or groups of hosts.,0,2
openstack%2Fmasakari~master~Iec93bebdbc7ffe1ccd27bb11f474384ff06a559c,openstack/masakari,master,Iec93bebdbc7ffe1ccd27bb11f474384ff06a559c,Reorganize masakari documentation,MERGED,2019-09-10 09:54:48.000000000,2019-10-11 07:24:18.000000000,2019-10-11 07:22:42.000000000,"[{'_account_id': 841}, {'_account_id': 1011}, {'_account_id': 3085}, {'_account_id': 8716}, {'_account_id': 16006}, {'_account_id': 22348}, {'_account_id': 27302}]","[{'number': 1, 'created': '2019-09-10 09:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/198f8730db9bdc46453e687de4d01410e613c0ee', 'message': ""Update masakari docs for installation steps\n\nThis patch adds 'install and configure' section for Ubuntu.\nAlso restructured systematically.\n\nChange-Id: Iec93bebdbc7ffe1ccd27bb11f474384ff06a559c\n""}, {'number': 2, 'created': '2019-09-11 15:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/928678c8b60abc914c0cefbaa6d9c35a3c6ef7f7', 'message': ""Update masakari docs for installation steps\n\nThis patch adds 'install and configure' section for Ubuntu.\nAlso restructured systematically.\n\nChange-Id: Iec93bebdbc7ffe1ccd27bb11f474384ff06a559c\n""}, {'number': 3, 'created': '2019-09-18 15:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/a7264ff718b9e3bd94b59f674e0413d4961ef03e', 'message': ""Update masakari docs for installation steps\n\nThis patch adds 'install and configure' section for Ubuntu.\nAlso restructured systematically.\n\nChange-Id: Iec93bebdbc7ffe1ccd27bb11f474384ff06a559c\n""}, {'number': 4, 'created': '2019-09-26 13:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/b0f5a463eae4ff54b707881614b93a670c6f705e', 'message': ""Update operator guide documentation\n\nUpdated operator guide documentation for\n1. segregated sections appropriately\n2. populated CLI section using 'cliff.sphinxext' extension\n3. added detailed 'Install and configure for Ubuntu' section\n4. added detailed 'Verify operation' section\n\nChange-Id: Iec93bebdbc7ffe1ccd27bb11f474384ff06a559c\n""}, {'number': 5, 'created': '2019-10-08 04:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/b499546b915ec4d8dd160d3f110737bbb5fd0025', 'message': ""Reorganize masakari documentation\n\nUpdated operator guide documentation for\n1. segregated sections appropriately\n2. populated CLI section using 'cliff.sphinxext' extension\n3. added detailed 'Install and configure for Ubuntu' section\n4. added detailed 'Verify operation' section\n\nChange-Id: Iec93bebdbc7ffe1ccd27bb11f474384ff06a559c\n""}, {'number': 6, 'created': '2019-10-08 10:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/56671871ebc6249a2e9e9d90ed4db5ef27d492d6', 'message': ""Reorganize masakari documentation\n\nUpdated operator guide documentation for\n1. segregated sections appropriately\n2. populated CLI section using 'cliff.sphinxext' extension\n3. added detailed 'Install and configure for Ubuntu' section\n4. added detailed 'Verify operation' section\n\nChange-Id: Iec93bebdbc7ffe1ccd27bb11f474384ff06a559c\n""}, {'number': 7, 'created': '2019-10-09 08:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/8bddeefae2d87f45e86d8d943cdbf8703a11f775', 'message': ""Reorganize masakari documentation\n\nUpdated operator guide documentation for\n1. segregated sections appropriately\n2. referred masakariclient for CLI section\n3. added detailed 'Install and configure for Ubuntu' section\n4. added detailed 'Verify operation' section\n5. used sphinx-build instead of the pbr sphinx extention for building docs\n   as instructed by the PTI[1]\n6. cleaned up build_sphinx related entries in setup.cfg\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html#documentation\n\nChange-Id: Iec93bebdbc7ffe1ccd27bb11f474384ff06a559c\n""}, {'number': 8, 'created': '2019-10-11 01:36:43.000000000', 'files': ['.gitignore', 'doc/source/user/process.rst', 'doc/source/install/index.rst', 'doc/source/install/overview.rst', 'doc/source/configuration/recovery_config.rst', 'doc/source/_static/masakari.policy.yaml.sample', 'doc/source/_static/masakari-custom-recovery-methods.conf.sample', 'doc/source/configuration/sample_config.rst', 'doc/source/configuration/sample_policy.rst', 'doc/source/install/development.environment.rst', 'doc/source/user/architecture.rst', 'doc/source/_static/masakari.conf.sample', 'doc/source/configuration/policy.rst', 'doc/source/cli/openstack-masakari.rst', 'doc/source/configuration/recovery_workflow_custom_task.rst', 'doc/source/operators_guide.rst', 'doc/source/sample_policy.rst', 'doc/source/_static/architecture.png', 'doc/source/conf.py', 'doc/source/recovery_workflow_sample_config.rst', 'doc/source/user/notifications.rst', 'doc/source/configuration/index.rst', 'doc/source/index.rst', 'doc/source/masakari_overview.rst', 'doc/source/configuration/api-paste.ini.rst', 'doc/source/install/verify.rst', 'doc/source/cli/index.rst', 'doc/source/configuration/config.rst', 'doc/source/user/how_to_get_involved.rst', 'doc/source/cli/masakari-manage.rst', 'doc/source/install/install_and_configure_ubuntu.rst', 'doc/source/install/install_and_configure.rst', 'setup.cfg', 'tox.ini', 'doc/source/_static/Masakari_spec_process.svg', 'doc/source/configuration/recovery_workflow_sample_config.rst'], 'web_link': 'https://opendev.org/openstack/masakari/commit/596b3d142eeea935fb2293de5631cd9dd4c191c6', 'message': ""Reorganize masakari documentation\n\nUpdated operator guide documentation for\n1. segregated sections appropriately\n2. referred masakariclient for CLI section\n3. added detailed 'Install and configure for Ubuntu' section\n4. added detailed 'Verify operation' section\n5. used sphinx-build instead of the pbr sphinx extention for building docs\n   as instructed by the PTI[1]\n6. cleaned up build_sphinx related entries in setup.cfg\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html#documentation\n\nChange-Id: Iec93bebdbc7ffe1ccd27bb11f474384ff06a559c\n""}]",56,681198,596b3d142eeea935fb2293de5631cd9dd4c191c6,43,7,8,27302,,,0,"Reorganize masakari documentation

Updated operator guide documentation for
1. segregated sections appropriately
2. referred masakariclient for CLI section
3. added detailed 'Install and configure for Ubuntu' section
4. added detailed 'Verify operation' section
5. used sphinx-build instead of the pbr sphinx extention for building docs
   as instructed by the PTI[1]
6. cleaned up build_sphinx related entries in setup.cfg

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html#documentation

Change-Id: Iec93bebdbc7ffe1ccd27bb11f474384ff06a559c
",git fetch https://review.opendev.org/openstack/masakari refs/changes/98/681198/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/recovery_workflow_custom_task.rst', 'doc/source/user/process.rst', 'doc/source/configuration/how_to_get_involved.rst', 'doc/source/install/index.rst', 'doc/source/sample_policy.rst', 'doc/source/install/overview.rst', 'doc/source/_static/architecture.png', 'doc/source/configuration/sample_config.rst', 'doc/source/user/notifications.rst', 'doc/source/configuration/index.rst', 'doc/source/index.rst', 'doc/source/masakari_overview.rst', 'doc/source/install/verify.rst', 'doc/source/cli/index.rst', 'doc/source/user/how_to_get_involved.rst', 'doc/source/install/development.environment.rst', 'doc/source/user/architecture.rst', 'doc/source/cli/masakari-manage.rst', 'doc/source/install/install_and_configure_ubuntu.rst', 'doc/source/install/install_and_configure.rst', 'doc/source/_static/Masakari_spec_process.svg', 'doc/source/cli/openstack-masakari.rst', 'doc/source/configuration/recovery_workflow_sample_config.rst']",23,198f8730db9bdc46453e687de4d01410e613c0ee,masakari-docs,.. literalinclude:: /_static/masakari-custom-recovery-methods.conf.sample,.. literalinclude:: _static/masakari-custom-recovery-methods.conf.sample,1301,801
openstack%2Fheat~master~Ie6605eab31cda7d8ea6fd6b36c19e980d86811e2,openstack/heat,master,Ie6605eab31cda7d8ea6fd6b36c19e980d86811e2,add python LOG when deleting raw template file which is not found.,ABANDONED,2019-10-10 02:07:18.000000000,2019-10-11 07:17:17.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 30537}]","[{'number': 1, 'created': '2019-10-10 02:07:18.000000000', 'files': ['heat/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/6b04d1b2f06b6a0aa06ced23fd9b4098ae4ffc53', 'message': 'add python LOG when deleting raw template file which is not found.\n\nwhen deleting not existing raw template file, the function(raw_template_delete) does\nnot raise error.\nso in order to easily detect the situation, leave a LOG.\n\nChange-Id: Ie6605eab31cda7d8ea6fd6b36c19e980d86811e2\n'}]",0,687763,6b04d1b2f06b6a0aa06ced23fd9b4098ae4ffc53,8,3,1,30537,,,0,"add python LOG when deleting raw template file which is not found.

when deleting not existing raw template file, the function(raw_template_delete) does
not raise error.
so in order to easily detect the situation, leave a LOG.

Change-Id: Ie6605eab31cda7d8ea6fd6b36c19e980d86811e2
",git fetch https://review.opendev.org/openstack/heat refs/changes/63/687763/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/db/sqlalchemy/api.py'],1,6b04d1b2f06b6a0aa06ced23fd9b4098ae4ffc53,," LOG.exception(""failed to delete raw template file for id : %d"", raw_tmpl_files_id) # Ignore not found(Don't raise error.)", # Ignore not found,2,1
openstack%2Fmasakari-monitors~stable%2Ftrain~I3f2026805413504c875ea5f39eb036d44b26dd43,openstack/masakari-monitors,stable/train,I3f2026805413504c875ea5f39eb036d44b26dd43,Use crm_mon for pacemaker-remote deployments,MERGED,2019-10-11 01:50:51.000000000,2019-10-11 07:11:42.000000000,2019-10-11 07:10:17.000000000,"[{'_account_id': 1011}, {'_account_id': 8716}, {'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 01:50:51.000000000', 'files': ['masakarimonitors/conf/host.py', 'masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py', 'masakarimonitors/tests/unit/hostmonitor/host_handler/test_parse_crmmon_xml.py', 'masakarimonitors/hostmonitor/host_handler/parse_crmmon_xml.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/b02c6b6931c0256f4ce6d7167c97ebb849ff3453', 'message': 'Use crm_mon for pacemaker-remote deployments\n\nAs described in bug #1728527 cibadmin does not expose the state of\nthe pacemaker-remote nodes which means hostmonitor cannot track\nthem. This change switches to use crm_mon to check the status of\nremote nodes if the new config option host.restrict_to_remotes\nto set to True. This will trigger host monitor to use crm_mon\nto monitor nodes and will only monitor nodes that are marked\nas remotes (not members).\n\nChange-Id: I3f2026805413504c875ea5f39eb036d44b26dd43\nDepends-On: Iaa2251708616e9c69817bf5b346d795ea7a4d21b\nCloses-Bug: #1728527\n(cherry picked from commit dc9b77772417c99368a4bbe243bb8e0e7c0bca47)\n'}]",0,688021,b02c6b6931c0256f4ce6d7167c97ebb849ff3453,8,4,1,1011,,,0,"Use crm_mon for pacemaker-remote deployments

As described in bug #1728527 cibadmin does not expose the state of
the pacemaker-remote nodes which means hostmonitor cannot track
them. This change switches to use crm_mon to check the status of
remote nodes if the new config option host.restrict_to_remotes
to set to True. This will trigger host monitor to use crm_mon
to monitor nodes and will only monitor nodes that are marked
as remotes (not members).

Change-Id: I3f2026805413504c875ea5f39eb036d44b26dd43
Depends-On: Iaa2251708616e9c69817bf5b346d795ea7a4d21b
Closes-Bug: #1728527
(cherry picked from commit dc9b77772417c99368a4bbe243bb8e0e7c0bca47)
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/21/688021/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakarimonitors/conf/host.py', 'masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py', 'masakarimonitors/tests/unit/hostmonitor/host_handler/test_parse_crmmon_xml.py', 'masakarimonitors/hostmonitor/host_handler/parse_crmmon_xml.py']",5,b02c6b6931c0256f4ce6d7167c97ebb849ff3453,bug/1728527-stable/train,"# Copyright(c) 2019 Canonical Ltd # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from xml.etree import ElementTree from oslo_log import log as oslo_logging LOG = oslo_logging.getLogger(__name__) class ParseCrmMonXml(object): """"""ParseCrmMonXml class This class parses the crmmon xml. """""" def __init__(self): self.crmmon_tag = None def set_crmmon_xml(self, crmmon_xml): """"""Set xml.etree.ElementTree.Element object. This method receives string of crmmon xml, and convert it to xml.etree.ElementTree.Element object. :params crmmon_xml: String of crmmon xml """""" # Convert xml.etree.ElementTree.Element object. self.crmmon_tag = ElementTree.fromstring(crmmon_xml) def _get_nodes(self): # status tag exists in the crmmon tag. if self.crmmon_tag is None: return None child_list = self.crmmon_tag.getchildren() for child in child_list: if child.tag == 'nodes': return child return None def _get_node_states(self, nodes_tag): node_state_tag_list = [] # node_state tag exists in the status tag. child_list = nodes_tag.getchildren() for child in child_list: if child.tag == 'node': node_state_tag_list.append(child) return node_state_tag_list def get_node_state_tag_list(self): """"""Get node_state tag list. This method gets node_state tag list from crmmon xml. :returns: node_state tag list """""" # Get status tag. nodes_tag = self._get_nodes() if nodes_tag is None: LOG.error(""crm_mon xml doesn't have nodes tag."") return [] # Get node_state tag list. node_state_tag_list = self._get_node_states(nodes_tag) if len(node_state_tag_list) == 0: LOG.error(""crm_mon xml doesn't have online tag."") return node_state_tag_list ",,380,2
openstack%2Fpython-magnumclient~master~Ia57e95e4570d04c2a20f7674d1ae3e21b8dd8efb,openstack/python-magnumclient,master,Ia57e95e4570d04c2a20f7674d1ae3e21b8dd8efb,Allow cluster config for any cluster state,MERGED,2019-10-02 14:21:21.000000000,2019-10-11 07:10:21.000000000,2019-10-07 21:00:09.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-10-02 14:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/2a331144f7aa8a70d36010b0ef7f0714fba1596c', 'message': ""Allow cluster config for any cluster state\n\nSimilar to what the certificates api does, it doesn't make sense to\ndisallow cluster config.\n\nstory: 2006651\ntask: 36891\n\nChange-Id: Ia57e95e4570d04c2a20f7674d1ae3e21b8dd8efb\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n""}, {'number': 2, 'created': '2019-10-02 15:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/a936c1b8a480dc1141a0bbd0c5d2b2a83d3f3131', 'message': ""Allow cluster config for any cluster state\n\nSimilar to what the certificates api does, it doesn't make sense to\ndisallow cluster config.\n\nstory: 2006651\ntask: 36891\n\nChange-Id: Ia57e95e4570d04c2a20f7674d1ae3e21b8dd8efb\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n""}, {'number': 3, 'created': '2019-10-03 08:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/8080d3e49904b6def678ff9a8a80ccae502b0828', 'message': ""Allow cluster config for any cluster state\n\nSimilar to what the certificates api does, it doesn't make sense to\ndisallow cluster config.\n\nstory: 2006651\ntask: 36891\n\nChange-Id: Ia57e95e4570d04c2a20f7674d1ae3e21b8dd8efb\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n""}, {'number': 4, 'created': '2019-10-03 12:26:07.000000000', 'files': ['magnumclient/tests/osc/unit/v1/test_clusters.py', 'magnumclient/tests/v1/test_bays_shell.py', 'magnumclient/osc/v1/clusters.py', 'magnumclient/v1/clusters_shell.py', 'magnumclient/tests/v1/test_clusters_shell.py', 'magnumclient/v1/bays_shell.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/c0d368360831cd29affa47e77eba4e81e4c6f0f8', 'message': ""Allow cluster config for any cluster state\n\nSimilar to what the certificates api does, it doesn't make sense to\ndisallow cluster config.\n\nstory: 2006651\ntask: 36891\n\nChange-Id: Ia57e95e4570d04c2a20f7674d1ae3e21b8dd8efb\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n""}]",0,686171,c0d368360831cd29affa47e77eba4e81e4c6f0f8,21,5,4,20498,,,0,"Allow cluster config for any cluster state

Similar to what the certificates api does, it doesn't make sense to
disallow cluster config.

story: 2006651
task: 36891

Change-Id: Ia57e95e4570d04c2a20f7674d1ae3e21b8dd8efb
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/71/686171/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnumclient/tests/osc/unit/v1/test_clusters.py', 'magnumclient/tests/v1/test_bays_shell.py', 'magnumclient/osc/v1/clusters.py', 'magnumclient/v1/clusters_shell.py', 'magnumclient/tests/v1/test_clusters_shell.py', 'magnumclient/v1/bays_shell.py']",6,2a331144f7aa8a70d36010b0ef7f0714fba1596c,cluster_config,," if bay.status not in ('CREATE_COMPLETE', 'UPDATE_COMPLETE'): raise exceptions.CommandError(""Bay in status %s"" % bay.status)",0,41
openstack%2Fpuppet-openstack_spec_helper~master~Ic22fabce72a0f6ef05e03d6385bfbdede4b5201b,openstack/puppet-openstack_spec_helper,master,Ic22fabce72a0f6ef05e03d6385bfbdede4b5201b,Bump version to 16.0.0,MERGED,2019-10-10 11:32:51.000000000,2019-10-11 06:36:31.000000000,2019-10-11 06:36:31.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-10 11:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/28a58304f5c00fb3029097da13a5375ed37706cf', 'message': 'Bump version to 16.0.0\n\nChange-Id: Ic22fabce72a0f6ef05e03d6385bfbdede4b5201b\n'}, {'number': 2, 'created': '2019-10-10 12:52:48.000000000', 'files': ['lib/puppet-openstack_spec_helper/version.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/48db7923ed99d72fa5b068e4d8ce0cc1041fac34', 'message': 'Bump version to 16.0.0\n\nChange-Id: Ic22fabce72a0f6ef05e03d6385bfbdede4b5201b\n'}]",0,687863,48db7923ed99d72fa5b068e4d8ce0cc1041fac34,10,4,2,16137,,,0,"Bump version to 16.0.0

Change-Id: Ic22fabce72a0f6ef05e03d6385bfbdede4b5201b
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/63/687863/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet-openstack_spec_helper/version.rb'],1,28a58304f5c00fb3029097da13a5375ed37706cf,bump-version, STRING = '16.0.0', STRING = '15.0.0',1,1
openstack%2Fpuppet-openstack_spec_helper~master~Ib38952552017b7067cf94bfe0cc458d1d611f4d8,openstack/puppet-openstack_spec_helper,master,Ib38952552017b7067cf94bfe0cc458d1d611f4d8,Nuke branch or ref line,MERGED,2019-10-10 10:01:14.000000000,2019-10-11 06:36:31.000000000,2019-10-11 06:36:31.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-10 10:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/9749c7c5c8ee75fcabdda0fbfc75ff45da4444f6', 'message': 'Nuke branch and not ref line\n\nMaybe this is my fault.\n\nChange-Id: Ib38952552017b7067cf94bfe0cc458d1d611f4d8\n'}, {'number': 2, 'created': '2019-10-10 12:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/3d3ec17f365872570f86e0745de636c311ce5e47', 'message': 'Nuke branch and not ref line\n\nMaybe this is my fault.\n\nChange-Id: Ib38952552017b7067cf94bfe0cc458d1d611f4d8\n'}, {'number': 3, 'created': '2019-10-10 12:53:31.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/c35df70e40881681ca3c6901622fdfd1bd8e623d', 'message': 'Nuke branch or ref line\n\nMaybe this is my fault.\n\nChange-Id: Ib38952552017b7067cf94bfe0cc458d1d611f4d8\n'}]",0,687846,c35df70e40881681ca3c6901622fdfd1bd8e623d,11,4,3,16137,,,0,"Nuke branch or ref line

Maybe this is my fault.

Change-Id: Ib38952552017b7067cf94bfe0cc458d1d611f4d8
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/46/687846/2 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,9749c7c5c8ee75fcabdda0fbfc75ff45da4444f6,," sed -i ""/.*branch[[:space:]]*=> 'stable\/.*/d"" Gemfile"," sed -i ""/.*ref[[:space:]]*=> 'stable\/.*/d"" Gemfile",1,1
openstack%2Fpuppet-openstack_spec_helper~master~I50adc6918d2e331430e73fa0998cd24e9f5d838e,openstack/puppet-openstack_spec_helper,master,I50adc6918d2e331430e73fa0998cd24e9f5d838e,Remove FUTURE_PARSER,MERGED,2019-10-10 09:31:50.000000000,2019-10-11 06:36:29.000000000,2019-10-11 06:36:29.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-10 09:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/547345441458b29bd6585958c2d2864f63cb5f9f', 'message': 'Remove FUTURE_PARSER\n\nChange-Id: I50adc6918d2e331430e73fa0998cd24e9f5d838e\n'}, {'number': 2, 'created': '2019-10-10 12:53:51.000000000', 'files': ['run_syntax_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/6f3882b96aeca5018f24d6cb0de30b079ee409b6', 'message': 'Remove FUTURE_PARSER\n\nChange-Id: I50adc6918d2e331430e73fa0998cd24e9f5d838e\n'}]",0,687841,6f3882b96aeca5018f24d6cb0de30b079ee409b6,10,4,2,16137,,,0,"Remove FUTURE_PARSER

Change-Id: I50adc6918d2e331430e73fa0998cd24e9f5d838e
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/41/687841/2 && git format-patch -1 --stdout FETCH_HEAD,['run_syntax_tests.sh'],1,547345441458b29bd6585958c2d2864f63cb5f9f,remove-future-parser,,"if [ ""$PUPPET_MAJOR_VERSION"" -lt ""4"" ]; then export FUTURE_PARSER=${FUTURE_PARSER:-yes} else export FUTURE_PARSER=${FUTURE_PARSER:-no} fi",0,5
